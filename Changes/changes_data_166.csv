id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fansible-role-atos-hsm~master~Ic982e06ed216507a8a8e2d8a09ac26cabae743dd,openstack/ansible-role-atos-hsm,master,Ic982e06ed216507a8a8e2d8a09ac26cabae743dd,Correct the tox option for skipping sdist generation,NEW,2021-06-17 16:54:24.000000000,2021-06-17 16:59:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-17 16:54:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-atos-hsm/commit/0354f77bbad1b629840265717fe09a4b6eaec345', 'message': 'Correct the tox option for skipping sdist generation\n\nThe tox option to skip source distribution building is skipsdist,\nbut this seems to be often misspelled skipdist instead, which gets\nsilently ignored and so does not take effect. Correct it\neverywhere, in hopes that new projects will finally stop copying\nthis mistake around.\n\nSee https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist\nand https://github.com/tox-dev/tox/issues/1388 for details.\n\nChange-Id: Ic982e06ed216507a8a8e2d8a09ac26cabae743dd\n'}]",0,796894,0354f77bbad1b629840265717fe09a4b6eaec345,2,1,1,5263,,,0,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: Ic982e06ed216507a8a8e2d8a09ac26cabae743dd
",git fetch https://review.opendev.org/openstack/ansible-role-atos-hsm refs/changes/94/796894/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0354f77bbad1b629840265717fe09a4b6eaec345,tox-skipsdist,skipsdist = true,skipdist = true,1,1
openstack%2Fansible-plugin-container-connection~master~I713c0d22a82fe3fdb72bf1b7bda1ee8f2f726420,openstack/ansible-plugin-container-connection,master,I713c0d22a82fe3fdb72bf1b7bda1ee8f2f726420,Correct the tox option for skipping sdist generation,NEW,2021-06-17 16:52:34.000000000,2021-06-17 16:52:34.000000000,,[],"[{'number': 1, 'created': '2021-06-17 16:52:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-plugin-container-connection/commit/2cb1ba58794685727c6c1fea9a4c419f541595b9', 'message': 'Correct the tox option for skipping sdist generation\n\nThe tox option to skip source distribution building is skipsdist,\nbut this seems to be often misspelled skipdist instead, which gets\nsilently ignored and so does not take effect. Correct it\neverywhere, in hopes that new projects will finally stop copying\nthis mistake around.\n\nSee https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist\nand https://github.com/tox-dev/tox/issues/1388 for details.\n\nChange-Id: I713c0d22a82fe3fdb72bf1b7bda1ee8f2f726420\n'}]",0,796892,2cb1ba58794685727c6c1fea9a4c419f541595b9,1,0,1,5263,,,0,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: I713c0d22a82fe3fdb72bf1b7bda1ee8f2f726420
",git fetch https://review.opendev.org/openstack/ansible-plugin-container-connection refs/changes/92/796892/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2cb1ba58794685727c6c1fea9a4c419f541595b9,tox-skipsdist,skipsdist = True,skipdist = True,1,1
openstack%2Fnova~stable%2Fwallaby~I534cb99e53a58f0eda27d48614f2901941aac872,openstack/nova,stable/wallaby,I534cb99e53a58f0eda27d48614f2901941aac872,fixup! libvirt: Delegate OVS plug to os-vif,ABANDONED,2021-06-17 16:42:05.000000000,2021-06-17 16:48:10.000000000,,[],"[{'number': 1, 'created': '2021-06-17 16:42:05.000000000', 'files': ['nova/virt/libvirt/driver.py', 'requirements.txt', 'lower-constraints.txt', 'nova/network/os_vif_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9d91da9df97d26a984cff314cd7ff8ab75d918c5', 'message': 'fixup! libvirt: Delegate OVS plug to os-vif\n\nChange-Id: I534cb99e53a58f0eda27d48614f2901941aac872\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,796891,9d91da9df97d26a984cff314cd7ff8ab75d918c5,3,0,1,15334,,,0,"fixup! libvirt: Delegate OVS plug to os-vif

Change-Id: I534cb99e53a58f0eda27d48614f2901941aac872
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/796891/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'requirements.txt', 'lower-constraints.txt', 'nova/network/os_vif_util.py']",4,9d91da9df97d26a984cff314cd7ff8ab75d918c5,bug/1895220,"import pbr.version # NOTE(stephenfin): The 'create_port' attribute was added in os-vif # 1.15.0 and isn't available with the lowest version supported here if ( pbr.version.VersionInfo('os-vif').semantic_version() >= pbr.version.SemanticVersion.from_pip_string('1.15.0') ): profile.create_port = vif.get('delegate_create', False) elif vif.get('delegate_create', False): # NOTE(stephenfin): This should never happen, since if the # 'delegate_create' attribute is true then it was set by the # destination compute node as part of the live migration operation: # the same destination compute node that we are currently running # on. We include it for sanity-preservation LOG.warning( 'os-vif 1.15.0 or later is required to support ' 'delegated port creation but you have %s; consider ' 'updating this package to resolve bugs #1734320 and ' '#1815989', pbr.version.VersionInfo('os-vif').version_string(), ) "," profile.create_port = vif.get('delegate_create', False)",43,4
openstack%2Fneutron~master~Ice4b108d3eb9945798bf3f91be9672cff29f3295,openstack/neutron,master,Ice4b108d3eb9945798bf3f91be9672cff29f3295,Add localport const and refactor,MERGED,2021-06-15 14:54:41.000000000,2021-06-17 16:39:54.000000000,2021-06-17 16:37:14.000000000,"[{'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 14:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/877f30c4f874fb9c730678d95f9de033fe2e3551', 'message': 'Add localport const and refactor\n\nChange-Id: Ice4b108d3eb9945798bf3f91be9672cff29f3295\n'}, {'number': 2, 'created': '2021-06-16 11:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a98b473c8388be6c3759219d4b7b74057fc09d7b', 'message': 'Add localport const and refactor\n\nChange-Id: Ice4b108d3eb9945798bf3f91be9672cff29f3295\n'}, {'number': 3, 'created': '2021-06-16 12:51:09.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/functional/agent/ovn/metadata/test_metadata_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/common/ovn/constants.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/39bc84cfb2113d6cf5bb9e19f7a97ce45302fb02', 'message': 'Add localport const and refactor\n\nChange-Id: Ice4b108d3eb9945798bf3f91be9672cff29f3295\n'}]",5,796501,39bc84cfb2113d6cf5bb9e19f7a97ce45302fb02,21,4,3,11082,,,0,"Add localport const and refactor

Change-Id: Ice4b108d3eb9945798bf3f91be9672cff29f3295
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/796501/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/functional/agent/ovn/metadata/test_metadata_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py']",6,877f30c4f874fb9c730678d95f9de033fe2e3551,localport_const," def _add_switch_port(self, chassis_name, type=ovn_const.LSP_TYPE_LOCALPORT):"," def _add_switch_port(self, chassis_name, type='localport'):",8,8
openstack%2Fironic-inspector~master~I6a4fd8d1bfb6dbe2337de220dae4c65aa1851047,openstack/ironic-inspector,master,I6a4fd8d1bfb6dbe2337de220dae4c65aa1851047,Use oslo_serialization instead of the json module directly,ABANDONED,2019-05-14 08:44:10.000000000,2021-06-17 16:39:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 30387}]","[{'number': 1, 'created': '2019-05-14 08:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/82e17690e5f3778b2ee42bc226de3a20eddfa862', 'message': 'Use oslo_serialization instead of the json module directly\n\nChange-Id: I6a4fd8d1bfb6dbe2337de220dae4c65aa1851047\n'}, {'number': 2, 'created': '2019-05-15 01:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/ec43c191cfee83df7302351eae41c78b8a6be69e', 'message': 'Use oslo_serialization instead of the json module directly\n\nChange-Id: I6a4fd8d1bfb6dbe2337de220dae4c65aa1851047\n'}, {'number': 3, 'created': '2019-05-15 03:24:19.000000000', 'files': ['ironic_inspector/test/unit/test_node_cache.py', 'ironic_inspector/test/unit/test_manager.py', 'ironic_inspector/test/unit/test_plugins_extra_hardware.py', 'ironic_inspector/test/functional.py', 'ironic_inspector/common/swift.py', 'ironic_inspector/node_cache.py', 'ironic_inspector/plugins/pci_devices.py', 'ironic_inspector/plugins/extra_hardware.py', 'ironic_inspector/plugins/introspection_data.py', 'ironic_inspector/test/unit/test_process.py', 'ironic_inspector/test/unit/test_plugins_introspection_data.py', 'ironic_inspector/test/unit/test_main.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/28307f17e5507922095cac7396b435d6aa6f0f42', 'message': 'Use oslo_serialization instead of the json module directly\n\nChange-Id: I6a4fd8d1bfb6dbe2337de220dae4c65aa1851047\n'}]",0,658983,28307f17e5507922095cac7396b435d6aa6f0f42,11,2,3,30387,,,0,"Use oslo_serialization instead of the json module directly

Change-Id: I6a4fd8d1bfb6dbe2337de220dae4c65aa1851047
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/83/658983/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_node_cache.py', 'ironic_inspector/test/unit/test_manager.py', 'ironic_inspector/test/unit/test_plugins_extra_hardware.py', 'ironic_inspector/test/functional.py', 'ironic_inspector/common/swift.py', 'ironic_inspector/node_cache.py', 'ironic_inspector/plugins/pci_devices.py', 'ironic_inspector/plugins/extra_hardware.py', 'ironic_inspector/plugins/introspection_data.py', 'ironic_inspector/test/unit/test_process.py', 'ironic_inspector/test/unit/test_plugins_introspection_data.py', 'ironic_inspector/test/unit/test_main.py']",12,82e17690e5f3778b2ee42bc226de3a20eddfa862,,from oslo_serialization import jsonutils as json,import json,12,16
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I05ee53275465fa3b3d824329d13230d46ce32df4,openstack/tripleo-heat-templates,stable/train,I05ee53275465fa3b3d824329d13230d46ce32df4,[WIP] fix HA resource restart during minor updates,ABANDONED,2021-06-09 20:04:52.000000000,2021-06-17 16:34:12.000000000,,"[{'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-09 20:04:52.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'container_config_scripts/pacemaker_restart_bundle.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ecea39054f4ce13e17f2f4b602c30ed8abdc23e4', 'message': '[WIP] fix HA resource restart during minor updates\n\nChange-Id: I05ee53275465fa3b3d824329d13230d46ce32df4\n'}]",0,795688,ecea39054f4ce13e17f2f4b602c30ed8abdc23e4,5,3,1,20778,,,0,"[WIP] fix HA resource restart during minor updates

Change-Id: I05ee53275465fa3b3d824329d13230d46ce32df4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/795688/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'container_config_scripts/pacemaker_restart_bundle.sh']",2,ecea39054f4ce13e17f2f4b602c30ed8abdc23e4,pcmk-update-cleanup," /sbin/pcs resource cleanup $BUNDLE_NAME node=""${HOST}"""," /sbin/pcs resource cleanup $BUNDLE_NAME --node ""${HOST}""",2,2
openstack%2Fansible-collections-openstack~master~Ifa6372bc5ee18e3ec47edaf630a3149609e1db0b,openstack/ansible-collections-openstack,master,Ifa6372bc5ee18e3ec47edaf630a3149609e1db0b,Switch lb_listener module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-17 16:13:49.000000000,2021-06-17 16:13:49.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e2cd29ac66c1154e7030c21f4ee782a6ce9a7775', 'message': 'Switch lb_listener module to OpenStackModule\n\nSwitch loadbalancer listener module to the general OpenStackModule.\n\nChange-Id: Ifa6372bc5ee18e3ec47edaf630a3149609e1db0b\n'}, {'number': 2, 'created': '2021-05-21 07:33:15.000000000', 'files': ['plugins/modules/lb_listener.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2cb67620aa6ab4ec8bb23a1efa59793b44fa2970', 'message': 'Switch lb_listener module to OpenStackModule\n\nSwitch loadbalancer listener module to the general OpenStackModule.\n\nChange-Id: Ifa6372bc5ee18e3ec47edaf630a3149609e1db0b\n'}]",0,792425,2cb67620aa6ab4ec8bb23a1efa59793b44fa2970,8,2,2,27900,,,0,"Switch lb_listener module to OpenStackModule

Switch loadbalancer listener module to the general OpenStackModule.

Change-Id: Ifa6372bc5ee18e3ec47edaf630a3149609e1db0b
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/25/792425/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/lb_listener.py'],1,e2cd29ac66c1154e7030c21f4ee782a6ce9a7775,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class LoadbalancerListenerModule(OpenStackModule): argument_spec = dict( module_kwargs = dict() def _lb_wait_for_status(self, lb, status, failures, interval=5): """"""Wait for load balancer to be in a particular provisioning status."""""" timeout = self.params['timeout'] total_sleep = 0 if failures is None: failures = [] while total_sleep < timeout: lb = self.conn.load_balancer.get_load_balancer(lb.id) if lb.provisioning_status == status: return None if lb.provisioning_status in failures: self.fail_json( msg=""Load Balancer %s transitioned to failure state %s"" % (lb.id, lb.provisioning_status) ) time.sleep(interval) total_sleep += interval self.fail_json( msg=""Timeout waiting for Load Balancer %s to transition to %s"" % (lb.id, status) ) def run(self): loadbalancer = self.params['loadbalancer'] loadbalancer_id = None listener = self.conn.load_balancer.find_listener( name_or_id=self.params['name']) if self.params['state'] == 'present': if not listener: lb = self.conn.load_balancer.find_load_balancer(loadbalancer) if not lb: self.fail_json( listener = self.conn.load_balancer.create_listener( name=self.params['name'], protocol=self.params['protocol'], protocol_port=self.params['protocol_port'], if not self.params['wait']: self.exit_json( changed=changed, listener=listener.to_dict(), id=listener.id) if self.params['wait']: lb = self.conn.load_balancer.find_load_balancer(loadbalancer) if not lb: self.fail_json( self._lb_wait_for_status(lb, ""ACTIVE"", [""ERROR""]) self.exit_json( changed=changed, listener=listener.to_dict(), id=listener.id) elif self.params['state'] == 'absent': self.conn.load_balancer.delete_listener(listener) if self.params['wait']: lb = self.conn.load_balancer.find_load_balancer(loadbalancer) if not lb: self.fail_json( self._lb_wait_for_status(lb, ""ACTIVE"", [""ERROR""]) self.exit_json(changed=changed) def main(): module = LoadbalancerListenerModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def _lb_wait_for_status(module, cloud, lb, status, failures, interval=5): """"""Wait for load balancer to be in a particular provisioning status."""""" timeout = module.params['timeout'] total_sleep = 0 if failures is None: failures = [] while total_sleep < timeout: lb = cloud.load_balancer.get_load_balancer(lb.id) if lb.provisioning_status == status: return None if lb.provisioning_status in failures: module.fail_json( msg=""Load Balancer %s transitioned to failure state %s"" % (lb.id, lb.provisioning_status) ) time.sleep(interval) total_sleep += interval module.fail_json( msg=""Timeout waiting for Load Balancer %s to transition to %s"" % (lb.id, status) ) def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, **module_kwargs) sdk, cloud = openstack_cloud_from_module(module) loadbalancer = module.params['loadbalancer'] loadbalancer_id = None try: listener = cloud.load_balancer.find_listener( name_or_id=module.params['name']) if module.params['state'] == 'present': if not listener: lb = cloud.load_balancer.find_load_balancer(loadbalancer) if not lb: module.fail_json( listener = cloud.load_balancer.create_listener( name=module.params['name'], protocol=module.params['protocol'], protocol_port=module.params['protocol_port'], if not module.params['wait']: module.exit_json(changed=changed, listener=listener.to_dict(), id=listener.id) if module.params['wait']: lb = cloud.load_balancer.find_load_balancer(loadbalancer) if not lb: module.fail_json( _lb_wait_for_status(module, cloud, lb, ""ACTIVE"", [""ERROR""]) module.exit_json(changed=changed, listener=listener.to_dict(), id=listener.id) elif module.params['state'] == 'absent': cloud.load_balancer.delete_listener(listener) if module.params['wait']: lb = cloud.load_balancer.find_load_balancer(loadbalancer) if not lb: module.fail_json( _lb_wait_for_status(module, cloud, lb, ""ACTIVE"", [""ERROR""]) module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e), extra_data=e.extra_data)",65,67
openstack%2Fansible-collections-openstack~master~I92d09c27205f8fa01df9ddab96448c433c42ef79,openstack/ansible-collections-openstack,master,I92d09c27205f8fa01df9ddab96448c433c42ef79,Switch lb_member module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-17 16:13:46.000000000,2021-06-17 16:13:46.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/159134ec0d668d3965a2acd4d4fac1f808b5792a', 'message': 'Switch lb_member module to OpenStackModule\n\nSwitch loadbalancer member module to the general OpenStackModule.\n\nChange-Id: I92d09c27205f8fa01df9ddab96448c433c42ef79\n'}, {'number': 2, 'created': '2021-05-21 07:32:54.000000000', 'files': ['plugins/modules/lb_member.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5217b6bdc43e7f09bd13ec5ed94a049bbbe8042e', 'message': 'Switch lb_member module to OpenStackModule\n\nSwitch loadbalancer member module to the general OpenStackModule.\n\nChange-Id: I92d09c27205f8fa01df9ddab96448c433c42ef79\n'}]",0,792424,5217b6bdc43e7f09bd13ec5ed94a049bbbe8042e,8,2,2,27900,,,0,"Switch lb_member module to OpenStackModule

Switch loadbalancer member module to the general OpenStackModule.

Change-Id: I92d09c27205f8fa01df9ddab96448c433c42ef79
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/24/792424/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/lb_member.py'],1,159134ec0d668d3965a2acd4d4fac1f808b5792a,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class LoadbalancerMemberModule(OpenStackModule): argument_spec = dict( module_kwargs = dict() def _wait_for_member_status(self, pool_id, member_id, status, failures, interval=5): timeout = self.params['timeout'] total_sleep = 0 if failures is None: failures = [] while total_sleep < timeout: member = self.conn.load_balancer.get_member(member_id, pool_id) provisioning_status = member.provisioning_status if provisioning_status == status: return member if provisioning_status in failures: self.fail_json( msg=""Member %s transitioned to failure state %s"" % (member_id, provisioning_status) ) time.sleep(interval) total_sleep += interval self.fail_json( msg=""Timeout waiting for member %s to transition to %s"" % (member_id, status) ) def run(self): name = self.params['name'] pool = self.params['pool'] pool_ret = self.conn.load_balancer.find_pool(name_or_id=pool) if not pool_ret: self.fail_json(msg='pool %s is not found' % pool) member = self.conn.load_balancer.find_member(name, pool_id) if self.params['state'] == 'present': if not member: member = self.conn.load_balancer.create_member( address=self.params['address'], protocol_port=self.params['protocol_port'], subnet_id=self.params['subnet_id'] if not self.params['wait']: self.exit_json( changed=changed, member=member.to_dict(), id=member.id) if self.params['wait']: member = self._wait_for_member_status( pool_id, member.id, ""ACTIVE"", [""ERROR""]) self.exit_json( changed=changed, member=member.to_dict(), id=member.id) elif self.params['state'] == 'absent': if member: self.conn.load_balancer.delete_member(member, pool_ret) self.exit_json(changed=changed) def main(): module = LoadbalancerMemberModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def _wait_for_member_status(module, cloud, pool_id, member_id, status, failures, interval=5): timeout = module.params['timeout'] total_sleep = 0 if failures is None: failures = [] while total_sleep < timeout: member = cloud.load_balancer.get_member(member_id, pool_id) provisioning_status = member.provisioning_status if provisioning_status == status: return member if provisioning_status in failures: module.fail_json( msg=""Member %s transitioned to failure state %s"" % (member_id, provisioning_status) ) time.sleep(interval) total_sleep += interval module.fail_json( msg=""Timeout waiting for member %s to transition to %s"" % (member_id, status) ) def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, **module_kwargs) sdk, cloud = openstack_cloud_from_module(module) name = module.params['name'] pool = module.params['pool'] try: pool_ret = cloud.load_balancer.find_pool(name_or_id=pool) if not pool_ret: module.fail_json(msg='pool %s is not found' % pool) member = cloud.load_balancer.find_member(name, pool_id) if module.params['state'] == 'present': if not member: member = cloud.load_balancer.create_member( address=module.params['address'], protocol_port=module.params['protocol_port'], subnet_id=module.params['subnet_id'] if not module.params['wait']: module.exit_json(changed=changed, member=member.to_dict(), id=member.id) if module.params['wait']: member = _wait_for_member_status(module, cloud, pool_id, member.id, ""ACTIVE"", [""ERROR""]) module.exit_json(changed=changed, member=member.to_dict(), id=member.id) elif module.params['state'] == 'absent': if member: cloud.load_balancer.delete_member(member, pool_ret) module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e), extra_data=e.extra_data)",59,63
openstack%2Fansible-collections-openstack~master~I75dfd34dd65f73ae8d7584729aa0c14fd14ee366,openstack/ansible-collections-openstack,master,I75dfd34dd65f73ae8d7584729aa0c14fd14ee366,Switch lb_pool module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-17 15:58:57.000000000,2021-06-17 15:58:57.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d1bd01a32c1d2cf70fa4b37b7c74d22a31a3a4a4', 'message': 'Switch lb_pool module to OpenStackModule\n\nSwitch loadbalancer_pool module to the general OpenStackModule.\n\nChange-Id: I75dfd34dd65f73ae8d7584729aa0c14fd14ee366\n'}, {'number': 2, 'created': '2021-05-21 07:32:00.000000000', 'files': ['plugins/modules/lb_pool.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/96ea60a88384667120c0fd257856e7c12b09312f', 'message': 'Switch lb_pool module to OpenStackModule\n\nSwitch loadbalancer_pool module to the general OpenStackModule.\n\nChange-Id: I75dfd34dd65f73ae8d7584729aa0c14fd14ee366\n'}]",0,792423,96ea60a88384667120c0fd257856e7c12b09312f,8,2,2,27900,,,0,"Switch lb_pool module to OpenStackModule

Switch loadbalancer_pool module to the general OpenStackModule.

Change-Id: I75dfd34dd65f73ae8d7584729aa0c14fd14ee366
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/23/792423/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/lb_pool.py'],1,d1bd01a32c1d2cf70fa4b37b7c74d22a31a3a4a4,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class LoadbalancerPoolModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( def _wait_for_pool_status(self, pool_id, status, failures, interval=5): timeout = self.params['timeout'] total_sleep = 0 if failures is None: failures = [] while total_sleep < timeout: pool = self.conn.load_balancer.get_pool(pool_id) provisioning_status = pool.provisioning_status if provisioning_status == status: return pool if provisioning_status in failures: self.fail_json( msg=""pool %s transitioned to failure state %s"" % (pool_id, provisioning_status) ) time.sleep(interval) total_sleep += interval self.fail_json( msg=""timeout waiting for pool %s to transition to %s"" % (pool_id, status) ) def run(self): loadbalancer = self.params['loadbalancer'] listener = self.params['listener'] pool = self.conn.load_balancer.find_pool(name_or_id=self.params['name']) if self.params['state'] == 'present': self.fail_json( lb = self.conn.load_balancer.find_load_balancer(loadbalancer) if not lb: self.fail_json( msg='load balancer %s is not found' % loadbalancer) listener_ret = self.conn.load_balancer.find_listener(listener) if not listener_ret: self.fail_json( msg='listener %s is not found' % listener) pool = self.conn.load_balancer.create_pool( name=self.params['name'], protocol=self.params['protocol'], lb_algorithm=self.params['lb_algorithm'] if not self.params['wait']: self.exit_json( changed=changed, pool=pool.to_dict(), id=pool.id) if self.params['wait']: pool = self._wait_for_pool_status( pool.id, ""ACTIVE"", [""ERROR""]) self.exit_json( changed=changed, pool=pool.to_dict(), id=pool.id) elif self.params['state'] == 'absent': if pool: self.conn.load_balancer.delete_pool(pool) self.exit_json(changed=changed) def main(): module = LoadbalancerPoolModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_full_argument_spec, \ openstack_module_kwargs, openstack_cloud_from_module def _wait_for_pool_status(module, cloud, pool_id, status, failures, interval=5): timeout = module.params['timeout'] total_sleep = 0 if failures is None: failures = [] while total_sleep < timeout: pool = cloud.load_balancer.get_pool(pool_id) provisioning_status = pool.provisioning_status if provisioning_status == status: return pool if provisioning_status in failures: module.fail_json( msg=""pool %s transitioned to failure state %s"" % (pool_id, provisioning_status) ) time.sleep(interval) total_sleep += interval module.fail_json( msg=""timeout waiting for pool %s to transition to %s"" % (pool_id, status) ) def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs( module = AnsibleModule(argument_spec, **module_kwargs) sdk, cloud = openstack_cloud_from_module(module) loadbalancer = module.params['loadbalancer'] listener = module.params['listener'] try: pool = cloud.load_balancer.find_pool(name_or_id=module.params['name']) if module.params['state'] == 'present': module.fail_json( lb = cloud.load_balancer.find_load_balancer(loadbalancer) if not lb: module.fail_json(msg='load balancer %s is not ' 'found' % loadbalancer) listener_ret = cloud.load_balancer.find_listener(listener) if not listener_ret: module.fail_json(msg='listener %s is not found' % listener) pool = cloud.load_balancer.create_pool( name=module.params['name'], protocol=module.params['protocol'], lb_algorithm=module.params['lb_algorithm'] if not module.params['wait']: module.exit_json(changed=changed, pool=pool.to_dict(), id=pool.id) if module.params['wait']: pool = _wait_for_pool_status(module, cloud, pool.id, ""ACTIVE"", [""ERROR""]) module.exit_json(changed=changed, pool=pool.to_dict(), id=pool.id) elif module.params['state'] == 'absent': if pool: cloud.load_balancer.delete_pool(pool) module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e), extra_data=e.extra_data)",63,66
openstack%2Fcharm-trilio-data-mover~master~I535c3840e4bc0a624bca2a5231c104cbddd4490d,openstack/charm-trilio-data-mover,master,I535c3840e4bc0a624bca2a5231c104cbddd4490d,Add config option to specify S3 cert,MERGED,2021-06-14 13:26:36.000000000,2021-06-17 15:39:16.000000000,2021-06-17 15:39:16.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 13:26:36.000000000', 'files': ['src/config.yaml', 'src/templates/charm-s3.cert', 'src/templates/tvault-contego.conf', 'src/lib/charm/openstack/trilio_dm.py', 'src/templates/tvault-object-store.conf'], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/e9328de170fe70a08d667ce55e36aafaf4665f7c', 'message': 'Add config option to specify S3 cert\n\nDepends-On: I2351baa89b3f9d33eb2f9ad6bf4f82d044b2d330\nCloses-Bug: 1930622\nChange-Id: I535c3840e4bc0a624bca2a5231c104cbddd4490d\n'}]",0,796276,e9328de170fe70a08d667ce55e36aafaf4665f7c,13,3,1,12549,,,0,"Add config option to specify S3 cert

Depends-On: I2351baa89b3f9d33eb2f9ad6bf4f82d044b2d330
Closes-Bug: 1930622
Change-Id: I535c3840e4bc0a624bca2a5231c104cbddd4490d
",git fetch https://review.opendev.org/openstack/charm-trilio-data-mover refs/changes/76/796276/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/templates/charm-s3.cert', 'src/templates/tvault-contego.conf', 'src/lib/charm/openstack/trilio_dm.py', 'src/templates/tvault-object-store.conf']",5,e9328de170fe70a08d667ce55e36aafaf4665f7c,bug/1930622,{% if options.trilio_s3_cert_config.cert_file -%} vault_s3_ssl_cert = {{ options.trilio_s3_cert_config.cert_file }} {%- endif -%},,17,0
openstack%2Fcharm-trilio-wlm~master~I9fe18275250002e52d0ac5c32e345069eaa82bed,openstack/charm-trilio-wlm,master,I9fe18275250002e52d0ac5c32e345069eaa82bed,Add config option to specify S3 cert,MERGED,2021-06-14 13:26:57.000000000,2021-06-17 15:37:43.000000000,2021-06-17 15:37:43.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 13:26:57.000000000', 'files': ['src/config.yaml', 'src/templates/charm-s3.cert', 'src/lib/charm/openstack/trilio_wlm.py', 'src/templates/tvault-object-store.conf'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/9e9095e6ca9f143d77ee72b3720725d34e4e6dea', 'message': 'Add config option to specify S3 cert\n\nDepends-On: I2351baa89b3f9d33eb2f9ad6bf4f82d044b2d330\nCloses-Bug: 1930623\nChange-Id: I9fe18275250002e52d0ac5c32e345069eaa82bed\n'}]",0,796277,9e9095e6ca9f143d77ee72b3720725d34e4e6dea,9,3,1,12549,,,0,"Add config option to specify S3 cert

Depends-On: I2351baa89b3f9d33eb2f9ad6bf4f82d044b2d330
Closes-Bug: 1930623
Change-Id: I9fe18275250002e52d0ac5c32e345069eaa82bed
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/77/796277/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/templates/charm-s3.cert', 'src/lib/charm/openstack/trilio_wlm.py', 'src/templates/tvault-object-store.conf']",4,9e9095e6ca9f143d77ee72b3720725d34e4e6dea,bug/1930623,{% if options.trilio_s3_cert_config.cert_file -%} vault_s3_ssl_cert = {{ options.trilio_s3_cert_config.cert_file }} {%- endif -%},,14,0
openstack%2Freleases~master~I30f8dd2cbf0a6d81098dee44c32cdf76a2475901,openstack/releases,master,I30f8dd2cbf0a6d81098dee44c32cdf76a2475901,[Telemetry] Transition Ocata to End of Life,MERGED,2021-06-09 19:27:24.000000000,2021-06-17 15:25:58.000000000,2021-06-17 15:25:58.000000000,"[{'_account_id': 4264}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 19:27:24.000000000', 'files': ['deliverables/ocata/ceilometermiddleware.yaml', 'deliverables/ocata/python-ceilometerclient.yaml', 'deliverables/ocata/ceilometer.yaml', 'deliverables/ocata/python-aodhclient.yaml', 'deliverables/ocata/panko.yaml', 'deliverables/ocata/aodh.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ce7a672979838b9d9574e5ac4b22421f47998bcb', 'message': ""[Telemetry] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I30f8dd2cbf0a6d81098dee44c32cdf76a2475901\n""}]",0,795679,ce7a672979838b9d9574e5ac4b22421f47998bcb,8,4,1,17685,,,0,"[Telemetry] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I30f8dd2cbf0a6d81098dee44c32cdf76a2475901
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/795679/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/ceilometermiddleware.yaml', 'deliverables/ocata/python-ceilometerclient.yaml', 'deliverables/ocata/ceilometer.yaml', 'deliverables/ocata/python-aodhclient.yaml', 'deliverables/ocata/panko.yaml', 'deliverables/ocata/aodh.yaml']",6,ce7a672979838b9d9574e5ac4b22421f47998bcb,ocata-eol, - version: ocata-eol projects: - repo: openstack/aodh hash: 94060a33ffe879437b112685b1d0d95f7b3f9e1c,,24,0
openstack%2Freleases~master~I17f452f4802ebaa4d8afc1f85647a3a7ab0ee51b,openstack/releases,master,I17f452f4802ebaa4d8afc1f85647a3a7ab0ee51b,[nova] Transition Ocata to End of Life,MERGED,2021-06-09 19:02:27.000000000,2021-06-17 15:18:08.000000000,2021-06-17 15:18:08.000000000,"[{'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 19:02:27.000000000', 'files': ['deliverables/ocata/python-novaclient.yaml', 'deliverables/ocata/os-vif.yaml', 'deliverables/ocata/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e326666c6a11aded5f3b47fc3c3ac33efe1cfd20', 'message': ""[nova] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I17f452f4802ebaa4d8afc1f85647a3a7ab0ee51b\n""}]",0,795664,e326666c6a11aded5f3b47fc3c3ac33efe1cfd20,11,7,1,17685,,,0,"[nova] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I17f452f4802ebaa4d8afc1f85647a3a7ab0ee51b
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/795664/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/python-novaclient.yaml', 'deliverables/ocata/os-vif.yaml', 'deliverables/ocata/nova.yaml']",3,e326666c6a11aded5f3b47fc3c3ac33efe1cfd20,ocata-eol, - version: ocata-eol projects: - repo: openstack/nova hash: 105626f650902476f8149b2032ed6e3551346516,,12,0
openstack%2Freleases~master~I650f4527ef01f0cb5d491dbd63e7f9d694aa3ad1,openstack/releases,master,I650f4527ef01f0cb5d491dbd63e7f9d694aa3ad1,[ironic] Transition Ocata to End of Life,MERGED,2021-06-09 18:50:12.000000000,2021-06-17 15:14:46.000000000,2021-06-17 15:14:46.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 18:50:12.000000000', 'files': ['deliverables/ocata/ironic-lib.yaml', 'deliverables/ocata/ironic.yaml', 'deliverables/ocata/ironic-python-agent.yaml', 'deliverables/ocata/ironic-ui.yaml', 'deliverables/ocata/python-ironicclient.yaml', 'deliverables/ocata/ironic-inspector.yaml', 'deliverables/ocata/bifrost.yaml', 'deliverables/ocata/python-ironic-inspector-client.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2a65427b4e6c2e20fa5057a54760f7ee461f5cc2', 'message': ""[ironic] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I650f4527ef01f0cb5d491dbd63e7f9d694aa3ad1\n""}]",0,795656,2a65427b4e6c2e20fa5057a54760f7ee461f5cc2,9,7,1,17685,,,0,"[ironic] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I650f4527ef01f0cb5d491dbd63e7f9d694aa3ad1
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/795656/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/ironic-lib.yaml', 'deliverables/ocata/ironic.yaml', 'deliverables/ocata/ironic-python-agent.yaml', 'deliverables/ocata/ironic-ui.yaml', 'deliverables/ocata/python-ironicclient.yaml', 'deliverables/ocata/ironic-inspector.yaml', 'deliverables/ocata/bifrost.yaml', 'deliverables/ocata/python-ironic-inspector-client.yaml']",8,2a65427b4e6c2e20fa5057a54760f7ee461f5cc2,ocata-eol, - version: ocata-eol projects: - repo: openstack/python-ironic-inspector-client hash: bc7df229542ef12b006b5e45a8e27dc54fbe6b7f,,35,3
openstack%2Fnova~stable%2Focata~I6c7a67b23ec49aa207c33c38580acd834bb27e3c,openstack/nova,stable/ocata,I6c7a67b23ec49aa207c33c38580acd834bb27e3c,Fix os-simple-tenant-usage result order,ABANDONED,2020-02-24 20:00:31.000000000,2021-06-17 15:09:31.000000000,,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-02-24 20:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0f85e5d313a60706c855233b060e626852e267b', 'message': ""Fix os-simple-tenant-usage result order\n\nnova usage-list can return incorrect results, having resources counted\ntwice. This only occurs when using the 2.40 microversion or later.\n\nThis microversion introduced pagination, which doesn't work properly.\nNova API will sort the instances using the tenant id and instance uuid,\nbut 'os-simple-tenant-usage' will not preserve the order when returning\nthe results.\n\nFor this reason, subsequent API calls made by the client will use the\nwrong marker (which is supposed to be the last instance id), ending\nup counting the same instances twice.\n\n Conflicts:\n\tnova/api/openstack/compute/simple_tenant_usage.py\n\nNOTE(melwitt): The conflict is because change\nIcd5e46e0276df6cf7ffbbb57abb1dddc46678e11 is not in Ocata.\n\nChange-Id: I6c7a67b23ec49aa207c33c38580acd834bb27e3c\nCloses-Bug: #1796689\n(cherry picked from commit afc3a16ce3364c233e6e1cffc9f38987d1d65318)\n(cherry picked from commit 133b194ba079abe84900d09a5c3c74ef9f464bab)\n(cherry picked from commit 70b4cdce68f9b1543c032aa700e4f0f4289d90a6)\n(cherry picked from commit c0d946b09f75445971a27dfce4f4a9e271c967cd)\n""}, {'number': 2, 'created': '2020-04-17 18:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0993c1be963d092f3feb437d7586d7c7976037f6', 'message': ""Fix os-simple-tenant-usage result order\n\nnova usage-list can return incorrect results, having resources counted\ntwice. This only occurs when using the 2.40 microversion or later.\n\nThis microversion introduced pagination, which doesn't work properly.\nNova API will sort the instances using the tenant id and instance uuid,\nbut 'os-simple-tenant-usage' will not preserve the order when returning\nthe results.\n\nFor this reason, subsequent API calls made by the client will use the\nwrong marker (which is supposed to be the last instance id), ending\nup counting the same instances twice.\n\nNOTE(melwitt): The differences from the Queens change in the sample\n.tpl and .json files are because change\nI3b25debb0bcfd4e211734307c8d363f2b5dbc655 is not in Pike, so there\nare only two generated UUIDs per server (instance UUID and vif UUID)\ninstead of three (instance UUID, vif UUID, and bdm UUID).\n\n Conflicts:\n\tnova/api/openstack/compute/simple_tenant_usage.py\n\nNOTE(melwitt): The conflict is because change\nIcd5e46e0276df6cf7ffbbb57abb1dddc46678e11 is not in Ocata.\n\nChange-Id: I6c7a67b23ec49aa207c33c38580acd834bb27e3c\nCloses-Bug: #1796689\n(cherry picked from commit afc3a16ce3364c233e6e1cffc9f38987d1d65318)\n(cherry picked from commit 133b194ba079abe84900d09a5c3c74ef9f464bab)\n(cherry picked from commit 70b4cdce68f9b1543c032aa700e4f0f4289d90a6)\n(cherry picked from commit 3a48ffa6e7aa76d27a62180d26cdd5cf7b749f8c)\n""}, {'number': 3, 'created': '2020-04-17 18:37:23.000000000', 'files': ['nova/tests/functional/api_sample_tests/api_sample_base.py', 'nova/tests/functional/api_sample_tests/api_samples/os-simple-tenant-usage/v2.40/simple-tenant-usage-get-all.json.tpl', 'nova/tests/functional/api_samples_test_base.py', 'nova/api/openstack/compute/simple_tenant_usage.py', 'nova/tests/functional/api_sample_tests/test_simple_tenant_usage.py', 'nova/tests/unit/api_samples_test_base/test_compare_result.py', 'releasenotes/notes/fix-simple-tenant-usage-pagination-393ed6e7d0e31594.yaml', 'doc/api_samples/os-simple-tenant-usage/v2.40/simple-tenant-usage-get-all.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/b02c16eda3849f91173a2f0be78f2ce515ea4153', 'message': ""Fix os-simple-tenant-usage result order\n\nnova usage-list can return incorrect results, having resources counted\ntwice. This only occurs when using the 2.40 microversion or later.\n\nThis microversion introduced pagination, which doesn't work properly.\nNova API will sort the instances using the tenant id and instance uuid,\nbut 'os-simple-tenant-usage' will not preserve the order when returning\nthe results.\n\nFor this reason, subsequent API calls made by the client will use the\nwrong marker (which is supposed to be the last instance id), ending\nup counting the same instances twice.\n\n Conflicts:\n\tnova/api/openstack/compute/simple_tenant_usage.py\n\nNOTE(melwitt): The conflict is because change\nIcd5e46e0276df6cf7ffbbb57abb1dddc46678e11 is not in Ocata.\n\nChange-Id: I6c7a67b23ec49aa207c33c38580acd834bb27e3c\nCloses-Bug: #1796689\n(cherry picked from commit afc3a16ce3364c233e6e1cffc9f38987d1d65318)\n(cherry picked from commit 133b194ba079abe84900d09a5c3c74ef9f464bab)\n(cherry picked from commit 70b4cdce68f9b1543c032aa700e4f0f4289d90a6)\n(cherry picked from commit 3a48ffa6e7aa76d27a62180d26cdd5cf7b749f8c)\n""}]",0,709603,b02c16eda3849f91173a2f0be78f2ce515ea4153,14,5,3,4690,,,0,"Fix os-simple-tenant-usage result order

nova usage-list can return incorrect results, having resources counted
twice. This only occurs when using the 2.40 microversion or later.

This microversion introduced pagination, which doesn't work properly.
Nova API will sort the instances using the tenant id and instance uuid,
but 'os-simple-tenant-usage' will not preserve the order when returning
the results.

For this reason, subsequent API calls made by the client will use the
wrong marker (which is supposed to be the last instance id), ending
up counting the same instances twice.

 Conflicts:
	nova/api/openstack/compute/simple_tenant_usage.py

NOTE(melwitt): The conflict is because change
Icd5e46e0276df6cf7ffbbb57abb1dddc46678e11 is not in Ocata.

Change-Id: I6c7a67b23ec49aa207c33c38580acd834bb27e3c
Closes-Bug: #1796689
(cherry picked from commit afc3a16ce3364c233e6e1cffc9f38987d1d65318)
(cherry picked from commit 133b194ba079abe84900d09a5c3c74ef9f464bab)
(cherry picked from commit 70b4cdce68f9b1543c032aa700e4f0f4289d90a6)
(cherry picked from commit 3a48ffa6e7aa76d27a62180d26cdd5cf7b749f8c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/709603/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api_sample_tests/api_sample_base.py', 'nova/tests/functional/api_sample_tests/api_samples/os-simple-tenant-usage/v2.40/simple-tenant-usage-get-all.json.tpl', 'nova/tests/functional/api_samples_test_base.py', 'nova/api/openstack/compute/simple_tenant_usage.py', 'nova/tests/functional/api_sample_tests/test_simple_tenant_usage.py', 'nova/tests/unit/api_samples_test_base/test_compare_result.py', 'releasenotes/notes/fix-simple-tenant-usage-pagination-393ed6e7d0e31594.yaml', 'doc/api_samples/os-simple-tenant-usage/v2.40/simple-tenant-usage-get-all.json']",8,e0f85e5d313a60706c855233b060e626852e267b,bug/1796689,"{ ""tenant_usages"": [ { ""server_usages"": [ { ""ended_at"": null, ""flavor"": ""m1.tiny"", ""hours"": 1.0, ""instance_id"": ""1f1deceb-17b5-4c04-84c7-e0d4499c8f06"", ""local_gb"": 1, ""memory_mb"": 512, ""name"": ""instance-3"", ""started_at"": ""2018-10-09T11:29:04.166194"", ""state"": ""active"", ""tenant_id"": ""0000000e737461636b20342065000000"", ""uptime"": 3600, ""vcpus"": 1 } ], ""start"": ""2018-10-09T11:29:04.166194"", ""stop"": ""2018-10-09T12:29:04.166194"", ""tenant_id"": ""0000000e737461636b20342065000000"", ""total_hours"": 1.0, ""total_local_gb_usage"": 1.0, ""total_memory_mb_usage"": 512.0, ""total_vcpus_usage"": 1.0 }, { ""server_usages"": [ { ""ended_at"": null, ""flavor"": ""m1.tiny"", ""hours"": 1.0, ""instance_id"": ""1f1deceb-17b5-4c04-84c7-e0d4499c8f00"", ""local_gb"": 1, ""memory_mb"": 512, ""name"": ""instance-1"", ""started_at"": ""2018-10-09T11:29:04.166194"", ""state"": ""active"", ""tenant_id"": ""6f70656e737461636b20342065766572"", ""uptime"": 3600, ""vcpus"": 1 }, { ""ended_at"": null, ""flavor"": ""m1.tiny"", ""hours"": 1.0, ""instance_id"": ""1f1deceb-17b5-4c04-84c7-e0d4499c8f03"", ""local_gb"": 1, ""memory_mb"": 512, ""name"": ""instance-2"", ""started_at"": ""2018-10-09T11:29:04.166194"", ""state"": ""active"", ""tenant_id"": ""6f70656e737461636b20342065766572"", ""uptime"": 3600, ""vcpus"": 1 } ], ""start"": ""2018-10-09T11:29:04.166194"", ""stop"": ""2018-10-09T12:29:04.166194"", ""tenant_id"": ""6f70656e737461636b20342065766572"", ""total_hours"": 2.0, ""total_local_gb_usage"": 2.0, ""total_memory_mb_usage"": 1024.0, ""total_vcpus_usage"": 2.0 } ] }",,204,16
openstack%2Fnova~stable%2Focata~Iae2962bb86100f03fd3ad9aac3767da876291e74,openstack/nova,stable/ocata,Iae2962bb86100f03fd3ad9aac3767da876291e74,Support qemu >= 2.10,ABANDONED,2019-11-12 14:27:36.000000000,2021-06-17 15:09:11.000000000,,"[{'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 25290}, {'_account_id': 26515}, {'_account_id': 30238}]","[{'number': 1, 'created': '2019-11-12 14:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44a4651137dc8cc94d4091f286eb16f7c554e407', 'message': 'Support qemu >= 2.10\n\nQemu 2.10 added the requirement of a --force-share flag to qemu-img\ninfo when reading information about a disk that is in use by a\nguest. We do this a lot in Nova for operations like gathering\ninformation before live migration.\n\nUp until this point all qemu/libvirt version matching has been solely\ninside the libvirt driver, however all the image manip code was moved\nout to nova.virt.images. We need the version of QEMU available there.\n\nThis does it by initializing that version on driver init host. The net\neffect is also that broken libvirt connections are figured out\nearlier, as there is an active probe for this value.\n\nCo-Authored-By: Sean Dague <sean@dague.net>\n\nChange-Id: Iae2962bb86100f03fd3ad9aac3767da876291e74\nCloses-Bug: #1718295\n(cherry picked from commit 807579755c4a116309eca5b2bcdbab9d1f393bab)\nSigned-off-by: George Melikov <mail@gmelikov.ru>\n'}, {'number': 2, 'created': '2020-04-08 09:47:25.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/test.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/images.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/12d5b082f51b1f932312c2afbb2934be7221ee1d', 'message': 'Support qemu >= 2.10\n\nQemu 2.10 added the requirement of a --force-share flag to qemu-img\ninfo when reading information about a disk that is in use by a\nguest. We do this a lot in Nova for operations like gathering\ninformation before live migration.\n\nUp until this point all qemu/libvirt version matching has been solely\ninside the libvirt driver, however all the image manip code was moved\nout to nova.virt.images. We need the version of QEMU available there.\n\nThis does it by initializing that version on driver init host. The net\neffect is also that broken libvirt connections are figured out\nearlier, as there is an active probe for this value.\n\nCo-Authored-By: Sean Dague <sean@dague.net>\n\nChange-Id: Iae2962bb86100f03fd3ad9aac3767da876291e74\nCloses-Bug: #1718295\n(cherry picked from commit 807579755c4a116309eca5b2bcdbab9d1f393bab)\nSigned-off-by: George Melikov <mail@gmelikov.ru>\n'}]",0,693851,12d5b082f51b1f932312c2afbb2934be7221ee1d,14,7,2,30238,,,0,"Support qemu >= 2.10

Qemu 2.10 added the requirement of a --force-share flag to qemu-img
info when reading information about a disk that is in use by a
guest. We do this a lot in Nova for operations like gathering
information before live migration.

Up until this point all qemu/libvirt version matching has been solely
inside the libvirt driver, however all the image manip code was moved
out to nova.virt.images. We need the version of QEMU available there.

This does it by initializing that version on driver init host. The net
effect is also that broken libvirt connections are figured out
earlier, as there is an active probe for this value.

Co-Authored-By: Sean Dague <sean@dague.net>

Change-Id: Iae2962bb86100f03fd3ad9aac3767da876291e74
Closes-Bug: #1718295
(cherry picked from commit 807579755c4a116309eca5b2bcdbab9d1f393bab)
Signed-off-by: George Melikov <mail@gmelikov.ru>
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/693851/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/test.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/images.py']",5,44a4651137dc8cc94d4091f286eb16f7c554e407,bug/1718295,"import operator# This is set by the libvirt driver on startup. The version is used to # determine what flags need to be set on the command line. QEMU_VERSION = None QEMU_VERSION_REQ_SHARED = 2010000 # Check to see if the qemu version is >= 2.10 because if so, we need # to add the --force-share flag. if QEMU_VERSION and operator.ge(QEMU_VERSION, QEMU_VERSION_REQ_SHARED): cmd = cmd + ('--force-share',)",,67,7
openstack%2Fansible-collections-openstack~master~I77332c1af2311a472702e90f72ea9b21d385df3c,openstack/ansible-collections-openstack,master,I77332c1af2311a472702e90f72ea9b21d385df3c,Switch catalog_service module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-17 15:06:35.000000000,2021-06-17 15:06:35.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/47c7c7b5f03076156a6caa5523db1e40656151ce', 'message': 'Switch catalog_service module to OpenStackModule\n\nChange-Id: I77332c1af2311a472702e90f72ea9b21d385df3c\n'}, {'number': 2, 'created': '2021-05-21 07:46:26.000000000', 'files': ['plugins/modules/catalog_service.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/37afe5f2e6fa6a946a587f73ed9c6dce4999b70f', 'message': 'Switch catalog_service module to OpenStackModule\n\nChange-Id: I77332c1af2311a472702e90f72ea9b21d385df3c\n'}]",0,792447,37afe5f2e6fa6a946a587f73ed9c6dce4999b70f,16,3,2,27900,,,0,"Switch catalog_service module to OpenStackModule

Change-Id: I77332c1af2311a472702e90f72ea9b21d385df3c
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/47/792447/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/catalog_service.py'],1,47c7c7b5f03076156a6caa5523db1e40656151ce,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class IdentityCatalogServiceModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( supports_check_mode=True ) def _needs_update(self, service): if service.enabled != self.params['enabled']: return True if service.description is not None and \ service.description != self.params['description']: return True return False def _system_state_change(self, service): state = self.params['state'] if state == 'absent' and service: return True if state == 'present': if service is None: return True return self._needs_update(service) return False def run(self): description = self.params['description'] enabled = self.params['enabled'] name = self.params['name'] state = self.params['state'] service_type = self.params['service_type'] services = self.conn.search_services( name_or_id=name, filters=dict(type=service_type)) self.fail_json( msg='Service name %s and type %s are not unique' % (name, service_type)) if self.ansible.check_mode: self.exit_json(changed=self._system_state_change(service)) service = self.conn.create_service( name=name, description=description, type=service_type, enabled=True) if self._needs_update(service): service = self.conn.update_service( self.exit_json(changed=changed, service=service, id=service.id) self.conn.delete_service(service.id) self.exit_json(changed=changed) def main(): module = IdentityCatalogServiceModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def _needs_update(module, service): if service.enabled != module.params['enabled']: return True if service.description is not None and \ service.description != module.params['description']: return True return False def _system_state_change(module, service): state = module.params['state'] if state == 'absent' and service: return True if state == 'present': if service is None: return True return _needs_update(module, service) return False def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, supports_check_mode=True, **module_kwargs) description = module.params['description'] enabled = module.params['enabled'] name = module.params['name'] state = module.params['state'] service_type = module.params['service_type'] sdk, cloud = openstack_cloud_from_module(module) try: services = cloud.search_services(name_or_id=name, filters=dict(type=service_type)) module.fail_json(msg='Service name %s and type %s are not unique' % (name, service_type)) if module.check_mode: module.exit_json(changed=_system_state_change(module, service)) service = cloud.create_service(name=name, description=description, type=service_type, enabled=True) if _needs_update(module, service): service = cloud.update_service( module.exit_json(changed=changed, service=service, id=service.id) cloud.delete_service(service.id) module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",50,54
openstack%2Freleases~master~I2324bc3c264dcc8aac10022b3f1922a558906822,openstack/releases,master,I2324bc3c264dcc8aac10022b3f1922a558906822,[neutron] Transition Ocata to End of Life,MERGED,2021-06-09 19:02:02.000000000,2021-06-17 15:04:45.000000000,2021-06-17 15:04:45.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 19:02:02.000000000', 'files': ['deliverables/ocata/python-neutronclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/42c6bb47830ed739d6a7c6f7d15a78f4bbf15b7b', 'message': ""[neutron] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I2324bc3c264dcc8aac10022b3f1922a558906822\n""}]",0,795663,42c6bb47830ed739d6a7c6f7d15a78f4bbf15b7b,10,6,1,17685,,,0,"[neutron] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I2324bc3c264dcc8aac10022b3f1922a558906822
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/795663/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/python-neutronclient.yaml'],1,42c6bb47830ed739d6a7c6f7d15a78f4bbf15b7b,ocata-eol, - version: ocata-eol projects: - repo: openstack/python-neutronclient hash: 9f4a8a9a2db57f9de0a526c75634f8942b41a564,,4,0
openstack%2Freleases~master~I7d22824e9ff7699754a8e654c1362a7c006e5413,openstack/releases,master,I7d22824e9ff7699754a8e654c1362a7c006e5413,[glance] Transition Ocata to End of Life,MERGED,2021-06-09 18:47:41.000000000,2021-06-17 15:01:35.000000000,2021-06-17 15:01:35.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 18:47:41.000000000', 'files': ['deliverables/ocata/glance-store.yaml', 'deliverables/ocata/python-glanceclient.yaml', 'deliverables/ocata/glance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/21a77b8ce3432680340c08a0ae8312024d69c367', 'message': ""[glance] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I7d22824e9ff7699754a8e654c1362a7c006e5413\n""}]",0,795653,21a77b8ce3432680340c08a0ae8312024d69c367,9,5,1,17685,,,0,"[glance] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I7d22824e9ff7699754a8e654c1362a7c006e5413
",git fetch https://review.opendev.org/openstack/releases refs/changes/53/795653/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/glance-store.yaml', 'deliverables/ocata/python-glanceclient.yaml', 'deliverables/ocata/glance.yaml']",3,21a77b8ce3432680340c08a0ae8312024d69c367,ocata-eol, - version: ocata-eol projects: - repo: openstack/glance hash: 1fbcf0960b1e3727789e3c837e2679e8db202e8b,,12,0
openstack%2Freleases~master~I882fa101126e98409dbd60fb796b581f16f500b8,openstack/releases,master,I882fa101126e98409dbd60fb796b581f16f500b8,[monasca] Transition Ocata to End of Life,MERGED,2021-06-09 19:01:17.000000000,2021-06-17 14:55:55.000000000,2021-06-17 14:55:55.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28062}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 19:01:17.000000000', 'files': ['deliverables/ocata/monasca-agent.yaml', 'deliverables/ocata/monasca-common.yaml', 'deliverables/ocata/monasca-persister.yaml', 'deliverables/ocata/monasca-kibana-plugin.yaml', 'deliverables/ocata/monasca-log-api.yaml', 'deliverables/ocata/monasca-statsd.yaml', 'deliverables/ocata/python-monascaclient.yaml', 'deliverables/ocata/monasca-api.yaml', 'deliverables/ocata/monasca-transform.yaml', 'deliverables/ocata/monasca-thresh.yaml', 'deliverables/ocata/monasca-ui.yaml', 'deliverables/ocata/monasca-ceilometer.yaml', 'deliverables/ocata/monasca-notification.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a7ff57deaa2df11c4f290794b6d73b752039a9e4', 'message': ""[monasca] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I882fa101126e98409dbd60fb796b581f16f500b8\n""}]",0,795661,a7ff57deaa2df11c4f290794b6d73b752039a9e4,9,4,1,17685,,,0,"[monasca] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I882fa101126e98409dbd60fb796b581f16f500b8
",git fetch https://review.opendev.org/openstack/releases refs/changes/61/795661/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/monasca-agent.yaml', 'deliverables/ocata/monasca-common.yaml', 'deliverables/ocata/monasca-persister.yaml', 'deliverables/ocata/monasca-kibana-plugin.yaml', 'deliverables/ocata/monasca-log-api.yaml', 'deliverables/ocata/monasca-statsd.yaml', 'deliverables/ocata/python-monascaclient.yaml', 'deliverables/ocata/monasca-api.yaml', 'deliverables/ocata/monasca-transform.yaml', 'deliverables/ocata/monasca-thresh.yaml', 'deliverables/ocata/monasca-ui.yaml', 'deliverables/ocata/monasca-ceilometer.yaml', 'deliverables/ocata/monasca-notification.yaml']",13,a7ff57deaa2df11c4f290794b6d73b752039a9e4,ocata-eol, - version: ocata-eol projects: - repo: openstack/monasca-notification hash: 4a8803e4e00480f7a0804fdbb374259335cf91b1,,52,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I831269f7d4d57811f13d8022b9579dd3f1e2b604,openstack/tripleo-ansible,stable/wallaby,I831269f7d4d57811f13d8022b9579dd3f1e2b604,Use direct import from collection,MERGED,2021-06-15 11:59:40.000000000,2021-06-17 14:50:14.000000000,2021-06-17 14:48:55.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-15 11:59:40.000000000', 'files': ['tripleo_ansible/ansible_plugins/action/tripleo_all_nodes_data.py', 'tripleo_ansible/ansible_plugins/action/tripleo_iptables.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8bb09d928dd87f5500c54ae52750a7d7b43bef2f', 'message': 'Use direct import from collection\n\nChange-Id: I831269f7d4d57811f13d8022b9579dd3f1e2b604\n'}]",0,796232,8bb09d928dd87f5500c54ae52750a7d7b43bef2f,11,4,1,10969,,,0,"Use direct import from collection

Change-Id: I831269f7d4d57811f13d8022b9579dd3f1e2b604
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/32/796232/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/action/tripleo_all_nodes_data.py', 'tripleo_ansible/ansible_plugins/action/tripleo_iptables.py']",2,8bb09d928dd87f5500c54ae52750a7d7b43bef2f,collections-everywhere,from ansible_collections.ansible.netcommon.plugins.filter import ipaddr,try: from ansible_collections.ansible.netcommon.plugins.filter import ipaddr except ImportError: from ansible.plugins.filter import ipaddr,2,8
openstack%2Ftripleo-ansible~stable%2Fussuri~Ie0e3f25976464121e27f73765ccd271557d60e96,openstack/tripleo-ansible,stable/ussuri,Ie0e3f25976464121e27f73765ccd271557d60e96,BnR Added a nfs validation when the nfs server is installed,MERGED,2021-06-15 14:46:50.000000000,2021-06-17 14:48:51.000000000,2021-06-17 14:48:51.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-15 14:46:50.000000000', 'files': ['tripleo_ansible/playbooks/prepare-nfs-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/602264b7caa013538f0c078f47f4c3b86ae1a8ca', 'message': 'BnR Added a nfs validation when the nfs server is installed\n\nAdded a simple validation, the Backupnode group needs to be configured. Besides the name\nof the group can be configured by parameter.\n\nChange-Id: Ie0e3f25976464121e27f73765ccd271557d60e96\n(cherry picked from commit 994d331095337d9b9c95e8c8b15bb5798c0bc00c)\n'}]",0,796445,602264b7caa013538f0c078f47f4c3b86ae1a8ca,7,3,1,22954,,,0,"BnR Added a nfs validation when the nfs server is installed

Added a simple validation, the Backupnode group needs to be configured. Besides the name
of the group can be configured by parameter.

Change-Id: Ie0e3f25976464121e27f73765ccd271557d60e96
(cherry picked from commit 994d331095337d9b9c95e8c8b15bb5798c0bc00c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/45/796445/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/prepare-nfs-backup.yaml'],1,602264b7caa013538f0c078f47f4c3b86ae1a8ca,BnR_validations-stable/wallaby-stable/victoria-stable/victoria-stable/ussuri,"- name: Check BackupNode group hosts: localhost tasks: - assert: that: - nfs_server_group_name | default(""BackupNode"") in groups - ( groups[nfs_server_group_name | default(""BackupNode"") ] | length ) > 0 fail_msg: ""There is no server on {{ nfs_server_group_name | default('BackupNode') }} groups"" tags: bar_setup_nfs_server hosts: '{{ nfs_server_group_name | default(""BackupNode"") }}'", hosts: BackupNode,11,1
openstack%2Ftripleo-ansible~stable%2Fvictoria~Ie0e3f25976464121e27f73765ccd271557d60e96,openstack/tripleo-ansible,stable/victoria,Ie0e3f25976464121e27f73765ccd271557d60e96,BnR Added a nfs validation when the nfs server is installed,MERGED,2021-06-15 14:44:44.000000000,2021-06-17 14:48:38.000000000,2021-06-17 14:48:38.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-15 14:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cbec037c101e04a2160cc6a0550be3c1a0193365', 'message': 'BnR Added a nfs validation when the nfs server is installed\n\nAdded a simple validation, the Backupnode group needs to be configured. Besides the name\nof the group can be configured by parameter.\n\nChange-Id: Ie0e3f25976464121e27f73765ccd271557d60e96\n(cherry picked from commit 994d331095337d9b9c95e8c8b15bb5798c0bc00c)\n'}, {'number': 2, 'created': '2021-06-15 14:45:21.000000000', 'files': ['tripleo_ansible/playbooks/prepare-nfs-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5eeabe411017f5f035bfdc2cfa3dbc73688e6bc1', 'message': 'BnR Added a nfs validation when the nfs server is installed\n\nAdded a simple validation, the Backupnode group needs to be configured. Besides the name\nof the group can be configured by parameter.\n\nChange-Id: Ie0e3f25976464121e27f73765ccd271557d60e96\n(cherry picked from commit 994d331095337d9b9c95e8c8b15bb5798c0bc00c)\n'}]",0,796444,5eeabe411017f5f035bfdc2cfa3dbc73688e6bc1,8,3,2,22954,,,0,"BnR Added a nfs validation when the nfs server is installed

Added a simple validation, the Backupnode group needs to be configured. Besides the name
of the group can be configured by parameter.

Change-Id: Ie0e3f25976464121e27f73765ccd271557d60e96
(cherry picked from commit 994d331095337d9b9c95e8c8b15bb5798c0bc00c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/44/796444/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/prepare-nfs-backup.yaml'],1,cbec037c101e04a2160cc6a0550be3c1a0193365,BnR_validations-stable/wallaby-stable/victoria-stable/victoria,"- name: Check BackupNode group hosts: localhost tasks: - assert: that: - nfs_server_group_name | default(""BackupNode"") in groups - ( groups[nfs_server_group_name | default(""BackupNode"") ] | length ) > 0 fail_msg: ""There is no server on {{ nfs_server_group_name | default('BackupNode') }} groups"" tags: bar_setup_nfs_server hosts: '{{ nfs_server_group_name | default(""BackupNode"") }}'", hosts: BackupNode,11,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ie0e3f25976464121e27f73765ccd271557d60e96,openstack/tripleo-ansible,stable/wallaby,Ie0e3f25976464121e27f73765ccd271557d60e96,BnR Added a nfs validation when the nfs server is installed,MERGED,2021-06-15 14:43:03.000000000,2021-06-17 14:48:32.000000000,2021-06-17 14:48:32.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-15 14:43:03.000000000', 'files': ['tripleo_ansible/playbooks/prepare-nfs-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0cbd1b2faf254a170ae88c2a362babf2864cc08a', 'message': 'BnR Added a nfs validation when the nfs server is installed\n\nAdded a simple validation, the Backupnode group needs to be configured. Besides the name\nof the group can be configured by parameter.\n\nChange-Id: Ie0e3f25976464121e27f73765ccd271557d60e96\n(cherry picked from commit 994d331095337d9b9c95e8c8b15bb5798c0bc00c)\n'}]",0,796443,0cbd1b2faf254a170ae88c2a362babf2864cc08a,7,3,1,22954,,,0,"BnR Added a nfs validation when the nfs server is installed

Added a simple validation, the Backupnode group needs to be configured. Besides the name
of the group can be configured by parameter.

Change-Id: Ie0e3f25976464121e27f73765ccd271557d60e96
(cherry picked from commit 994d331095337d9b9c95e8c8b15bb5798c0bc00c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/43/796443/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/prepare-nfs-backup.yaml'],1,0cbd1b2faf254a170ae88c2a362babf2864cc08a,BnR_validations-stable/wallaby,"- name: Check BackupNode group hosts: localhost tasks: - assert: that: - nfs_server_group_name | default(""BackupNode"") in groups - ( groups[nfs_server_group_name | default(""BackupNode"") ] | length ) > 0 fail_msg: ""There is no server on {{ nfs_server_group_name | default('BackupNode') }} groups"" tags: bar_setup_nfs_server hosts: '{{ nfs_server_group_name | default(""BackupNode"") }}'", hosts: BackupNode,11,1
openstack%2Ftripleo-ansible~stable%2Fvictoria~Ibbf7ba3435da8dc9218403df76f0eb86df4374db,openstack/tripleo-ansible,stable/victoria,Ibbf7ba3435da8dc9218403df76f0eb86df4374db,BnR Test NFS server conectivity & ubi-minimal container image,MERGED,2021-06-15 14:38:51.000000000,2021-06-17 14:48:29.000000000,2021-06-17 14:48:29.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-15 14:38:51.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/303936ab3ca7de60e3a59061864ca2477e28f3e4', 'message': 'BnR Test NFS server conectivity & ubi-minimal container image\n\nWhen ReaR is configure there is no validation on the NFS server,\nthis patch adds a simple ping test validation to the NFS server.\nThe NFS ping test can be disabled with a variable.\n\nThis patch also switches from centos-8 to ubi-minimal container.\n\nChange-Id: Ibbf7ba3435da8dc9218403df76f0eb86df4374db\n(cherry picked from commit 64932f1bcad982d1e85179149da9f3803b22ea8d)\n(cherry picked from commit 8bfee72c8c538d2c5f53cf07eef0e8dcf725901b)\n'}]",0,796441,303936ab3ca7de60e3a59061864ca2477e28f3e4,7,3,1,22954,,,0,"BnR Test NFS server conectivity & ubi-minimal container image

When ReaR is configure there is no validation on the NFS server,
this patch adds a simple ping test validation to the NFS server.
The NFS ping test can be disabled with a variable.

This patch also switches from centos-8 to ubi-minimal container.

Change-Id: Ibbf7ba3435da8dc9218403df76f0eb86df4374db
(cherry picked from commit 64932f1bcad982d1e85179149da9f3803b22ea8d)
(cherry picked from commit 8bfee72c8c538d2c5f53cf07eef0e8dcf725901b)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/796441/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",4,303936ab3ca7de60e3a59061864ca2477e28f3e4,BnR_ping_nfs_test-stable/wallaby-stable/victoria, # Skip the ping test to the NFS server on rear setup tripleo_backup_and_restore_skip_nfs_test: false,,12,3
openstack%2Freleases~master~I77ce6400cfd28893ef9a05231db25dd13dfffc09,openstack/releases,master,I77ce6400cfd28893ef9a05231db25dd13dfffc09,[magnum] Transition Ocata to End of Life,MERGED,2021-06-09 18:54:26.000000000,2021-06-17 14:46:17.000000000,2021-06-17 14:46:17.000000000,"[{'_account_id': 17685}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 18:54:26.000000000', 'files': ['deliverables/ocata/magnum.yaml', 'deliverables/ocata/magnum-ui.yaml', 'deliverables/ocata/python-magnumclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dd6962425268747727f9c957037289a09e446f02', 'message': ""[magnum] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I77ce6400cfd28893ef9a05231db25dd13dfffc09\n""}]",0,795658,dd6962425268747727f9c957037289a09e446f02,9,4,1,17685,,,0,"[magnum] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I77ce6400cfd28893ef9a05231db25dd13dfffc09
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/795658/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/magnum.yaml', 'deliverables/ocata/magnum-ui.yaml', 'deliverables/ocata/python-magnumclient.yaml']",3,dd6962425268747727f9c957037289a09e446f02,ocata-eol, - version: ocata-eol projects: - repo: openstack/python-magnumclient hash: bbebea9d3fb90267a8b51995b2a183c83b6cf8fb,,12,0
openstack%2Freleases~master~I997517fd82698850479085b5720800aa2dc44280,openstack/releases,master,I997517fd82698850479085b5720800aa2dc44280,[horizon] Transition Ocata to End of Life,MERGED,2021-06-09 18:49:59.000000000,2021-06-17 14:43:49.000000000,2021-06-17 14:43:49.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-09 18:49:59.000000000', 'files': ['deliverables/ocata/django_openstack_auth.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0f494b3f398445a054448552223f3a05578749e9', 'message': ""[horizon] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I997517fd82698850479085b5720800aa2dc44280\n""}]",0,795655,0f494b3f398445a054448552223f3a05578749e9,9,4,1,17685,,,0,"[horizon] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I997517fd82698850479085b5720800aa2dc44280
",git fetch https://review.opendev.org/openstack/releases refs/changes/55/795655/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/django_openstack_auth.yaml'],1,0f494b3f398445a054448552223f3a05578749e9,ocata-eol, - version: ocata-eol projects: - repo: openstack/django_openstack_auth hash: c9a263baff8927762205541b79d976f09426f71a,,4,0
openstack%2Freleases~master~I427d8f3607a8206c919d49ab3956598381c37511,openstack/releases,master,I427d8f3607a8206c919d49ab3956598381c37511,[winstackers] Transition Ocata to End of Life,MERGED,2021-06-09 19:34:03.000000000,2021-06-17 14:36:23.000000000,2021-06-17 14:36:23.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 19:34:03.000000000', 'files': ['deliverables/ocata/os-win.yaml', 'deliverables/ocata/networking-hyperv.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cca8865d81a5a9eab9df7f0ed32827c67e2dbe26', 'message': ""[winstackers] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I427d8f3607a8206c919d49ab3956598381c37511\n""}]",0,795685,cca8865d81a5a9eab9df7f0ed32827c67e2dbe26,9,5,1,17685,,,0,"[winstackers] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I427d8f3607a8206c919d49ab3956598381c37511
",git fetch https://review.opendev.org/openstack/releases refs/changes/85/795685/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/os-win.yaml', 'deliverables/ocata/networking-hyperv.yaml']",2,cca8865d81a5a9eab9df7f0ed32827c67e2dbe26,ocata-eol, - version: ocata-eol projects: - repo: openstack/networking-hyperv hash: 47733ed311856487552ff0feac8dac5474eb4820,,8,0
openstack%2Freleases~master~I740b00fa8583a46d60d72bf9b8a1ea03105657e9,openstack/releases,master,I740b00fa8583a46d60d72bf9b8a1ea03105657e9,[watcher] Transition Ocata to End of Life,MERGED,2021-06-09 19:33:51.000000000,2021-06-17 14:31:27.000000000,2021-06-17 14:31:27.000000000,"[{'_account_id': 17685}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-06-09 19:33:51.000000000', 'files': ['deliverables/ocata/watcher-dashboard.yaml', 'deliverables/ocata/watcher.yaml', 'deliverables/ocata/python-watcherclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c99220d1bce9b45ec2d38f9bed1990dde1d92f11', 'message': ""[watcher] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I740b00fa8583a46d60d72bf9b8a1ea03105657e9\n""}]",0,795684,c99220d1bce9b45ec2d38f9bed1990dde1d92f11,9,5,1,17685,,,0,"[watcher] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I740b00fa8583a46d60d72bf9b8a1ea03105657e9
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/795684/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/watcher-dashboard.yaml', 'deliverables/ocata/watcher.yaml', 'deliverables/ocata/python-watcherclient.yaml']",3,c99220d1bce9b45ec2d38f9bed1990dde1d92f11,ocata-eol, - version: ocata-eol projects: - repo: openstack/python-watcherclient hash: cb493bbf6805c531abc7b972b84258e5851bf106,,12,0
openstack%2Fpuppet-nova~master~I92af8c82febbcdd09512aa05130e9bba0b21e83f,openstack/puppet-nova,master,I92af8c82febbcdd09512aa05130e9bba0b21e83f,Add parameter to set the libvirt max_number of guests with encrypted memory,MERGED,2021-06-11 07:54:04.000000000,2021-06-17 14:27:30.000000000,2021-06-17 14:26:09.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 07:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4a34651826e61e8ec863619657560cb3f92ad5cc', 'message': 'Add parameter to set the libvirt max_number of guests with encrypted memory\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/666616/40\n\nChange-Id: I92af8c82febbcdd09512aa05130e9bba0b21e83f\n'}, {'number': 2, 'created': '2021-06-11 08:27:34.000000000', 'files': ['spec/classes/nova_compute_libvirt_spec.rb', 'releasenotes/notes/compute-libvirt-num_memory_encrypted_guests-cdd63ade872a1a01.yaml', 'manifests/compute/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6d1bad02a977f824a4e18687729972082e62ac52', 'message': 'Add parameter to set the libvirt max_number of guests with encrypted memory\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/666616\n\nChange-Id: I92af8c82febbcdd09512aa05130e9bba0b21e83f\n'}]",2,795951,6d1bad02a977f824a4e18687729972082e62ac52,19,4,2,17216,,,0,"Add parameter to set the libvirt max_number of guests with encrypted memory

Depends-On: https://review.opendev.org/c/openstack/nova/+/666616

Change-Id: I92af8c82febbcdd09512aa05130e9bba0b21e83f
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/51/795951/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_compute_libvirt_spec.rb', 'releasenotes/notes/compute-libvirt-num_memory_encrypted_guests-cdd63ade872a1a01.yaml', 'manifests/compute/libvirt.pp']",3,4a34651826e61e8ec863619657560cb3f92ad5cc,num_memory_encrypted_guests,"# [*num_memory_encrypted_guests*] # (optional) The maximum number of guests with encrypted memory which can # run concurrently on this compute host. # Defaults to $::os_service_default # $num_memory_encrypted_guests = $::os_service_default, 'DEFAULT/compute_driver': value => $compute_driver; 'DEFAULT/preallocate_images': value => $preallocate_images; 'vnc/server_listen': value => $vncserver_listen; 'libvirt/virt_type': value => $virt_type; 'libvirt/cpu_mode': value => $cpu_mode_default; 'libvirt/snapshot_image_format': value => $snapshot_image_format; 'libvirt/snapshots_directory': value => $snapshots_directory; 'libvirt/inject_password': value => $inject_password; 'libvirt/inject_key': value => $inject_key; 'libvirt/inject_partition': value => $inject_partition; 'libvirt/hw_disk_discard': value => $hw_disk_discard; 'libvirt/hw_machine_type': value => $hw_machine_type; 'libvirt/enabled_perf_events': value => join(any2array($enabled_perf_events), ','); 'libvirt/rx_queue_size': value => $rx_queue_size; 'libvirt/tx_queue_size': value => $tx_queue_size; 'libvirt/file_backed_memory': value => $file_backed_memory; 'libvirt/volume_use_multipath': value => $volume_use_multipath; 'libvirt/nfs_mount_options': value => $nfs_mount_options; 'libvirt/num_pcie_ports': value => $num_pcie_ports; 'libvirt/mem_stats_period_seconds': value => $mem_stats_period_seconds; 'libvirt/pmem_namespaces': value => $pmem_namespaces; 'libvirt/swtpm_enabled': value => $swtpm_enabled; 'libvirt/swtpm_user' : value => $swtpm_user; 'libvirt/swtpm_group': value => $swtpm_group; 'libvirt/max_queues': value => $max_queues; 'libvirt/num_memory_encrypted_guests': value => $num_memory_encrypted_guests;"," 'DEFAULT/compute_driver': value => $compute_driver; 'DEFAULT/preallocate_images': value => $preallocate_images; 'vnc/server_listen': value => $vncserver_listen; 'libvirt/virt_type': value => $virt_type; 'libvirt/cpu_mode': value => $cpu_mode_default; 'libvirt/snapshot_image_format': value => $snapshot_image_format; 'libvirt/snapshots_directory': value => $snapshots_directory; 'libvirt/inject_password': value => $inject_password; 'libvirt/inject_key': value => $inject_key; 'libvirt/inject_partition': value => $inject_partition; 'libvirt/hw_disk_discard': value => $hw_disk_discard; 'libvirt/hw_machine_type': value => $hw_machine_type; 'libvirt/enabled_perf_events': value => join(any2array($enabled_perf_events), ','); 'libvirt/rx_queue_size': value => $rx_queue_size; 'libvirt/tx_queue_size': value => $tx_queue_size; 'libvirt/file_backed_memory': value => $file_backed_memory; 'libvirt/volume_use_multipath': value => $volume_use_multipath; 'libvirt/nfs_mount_options': value => $nfs_mount_options; 'libvirt/num_pcie_ports': value => $num_pcie_ports; 'libvirt/mem_stats_period_seconds': value => $mem_stats_period_seconds; 'libvirt/pmem_namespaces': value => $pmem_namespaces; 'libvirt/swtpm_enabled': value => $swtpm_enabled; 'libvirt/swtpm_user' : value => $swtpm_user; 'libvirt/swtpm_group': value => $swtpm_group; 'libvirt/max_queues': value => $max_queues;",40,25
openstack%2Fpuppet-nova~stable%2Ftrain~I28f69024c9fb88aaa0caacdced1e2ef5e5057271,openstack/puppet-nova,stable/train,I28f69024c9fb88aaa0caacdced1e2ef5e5057271,Bump metadata to create the real final train release,MERGED,2021-06-17 06:59:49.000000000,2021-06-17 14:26:13.000000000,2021-06-17 14:26:13.000000000,"[{'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 06:59:49.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/287ce1fe36b1cf7d9d9177391ab32782c8181074', 'message': 'Bump metadata to create the real final train release\n\n15.8.0 was created on the wrong tag. This bumps minor version so that\nwe can create a new release.\n\nChange-Id: I28f69024c9fb88aaa0caacdced1e2ef5e5057271\n'}]",0,796766,287ce1fe36b1cf7d9d9177391ab32782c8181074,7,4,1,9816,,,0,"Bump metadata to create the real final train release

15.8.0 was created on the wrong tag. This bumps minor version so that
we can create a new release.

Change-Id: I28f69024c9fb88aaa0caacdced1e2ef5e5057271
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/66/796766/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,287ce1fe36b1cf7d9d9177391ab32782c8181074,," ""version"": ""15.8.1"""," ""version"": ""15.8.0""",1,1
openstack%2Fpuppet-murano~stable%2Ftrain~I1c2f20d26ab2a11aaee0a1e49b0cc15f4881b505,openstack/puppet-murano,stable/train,I1c2f20d26ab2a11aaee0a1e49b0cc15f4881b505,Fix inconsistent version in metadata.json,MERGED,2021-06-17 07:03:35.000000000,2021-06-17 14:08:37.000000000,2021-06-17 14:08:37.000000000,"[{'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 07:03:35.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/6f29cf4e77d96fba764493903da8f3d01937d4ea', 'message': 'Fix inconsistent version in metadata.json\n\nWe released puppet-murano 15.5.0 recently but the version in\nmetadata.json was set to 15.4.1 accidentally. This bumps version\nin metadata.json son that we can create a release with the consistent\nversion.\n\nChange-Id: I1c2f20d26ab2a11aaee0a1e49b0cc15f4881b505\n'}]",0,796768,6f29cf4e77d96fba764493903da8f3d01937d4ea,7,4,1,9816,,,0,"Fix inconsistent version in metadata.json

We released puppet-murano 15.5.0 recently but the version in
metadata.json was set to 15.4.1 accidentally. This bumps version
in metadata.json son that we can create a release with the consistent
version.

Change-Id: I1c2f20d26ab2a11aaee0a1e49b0cc15f4881b505
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/68/796768/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,6f29cf4e77d96fba764493903da8f3d01937d4ea,," ""version"": ""15.5.1"""," ""version"": ""15.4.1""",1,1
openstack%2Fansible-collections-openstack~master~I443ed6785500a0e4aafe9c976a11c022e8f23db0,openstack/ansible-collections-openstack,master,I443ed6785500a0e4aafe9c976a11c022e8f23db0,Switch group_assignment module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-17 14:06:08.000000000,2021-06-17 14:06:08.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6a8b7de81319b71aebd3d441586bc5ad17d20b82', 'message': 'Switch group_assignment module to OpenStackModule\n\nChange-Id: I443ed6785500a0e4aafe9c976a11c022e8f23db0\n'}, {'number': 2, 'created': '2021-05-21 07:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/aa69539b2566fe88075414fa062768a3df9cb9e1', 'message': 'Switch group_assignment module to OpenStackModule\n\nChange-Id: I443ed6785500a0e4aafe9c976a11c022e8f23db0\n'}, {'number': 3, 'created': '2021-05-21 12:13:19.000000000', 'files': ['plugins/modules/group_assignment.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/acd9bc993b5ecee9d62d7cf98cee0582882ab16a', 'message': 'Switch group_assignment module to OpenStackModule\n\nChange-Id: I443ed6785500a0e4aafe9c976a11c022e8f23db0\n'}]",0,792436,acd9bc993b5ecee9d62d7cf98cee0582882ab16a,10,2,3,27900,,,0,"Switch group_assignment module to OpenStackModule

Change-Id: I443ed6785500a0e4aafe9c976a11c022e8f23db0
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/36/792436/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/group_assignment.py'],1,6a8b7de81319b71aebd3d441586bc5ad17d20b82,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class IdentityGroupAssignment(OpenStackModule): argument_spec = dict( module_kwargs = dict( supports_check_mode=True ) def _system_state_change(self, state, in_group): if state == 'present' and not in_group: return True if state == 'absent' and in_group: return True return False def run(self): user = self.params['user'] group = self.params['group'] state = self.params['state'] in_group = self.conn.is_user_in_group(user, group) if self.check_mode: self.exit_json(changed=self._system_state_change(state, in_group)) self.conn.add_user_to_group(user, group) self.conn.remove_user_from_group(user, group) self.exit_json(changed=changed) def main(): module = IdentityGroupAssignment() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def _system_state_change(state, in_group): if state == 'present' and not in_group: return True if state == 'absent' and in_group: return True return False def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, supports_check_mode=True, **module_kwargs) user = module.params['user'] group = module.params['group'] state = module.params['state'] sdk, cloud = openstack_cloud_from_module(module) try: in_group = cloud.is_user_in_group(user, group) if module.check_mode: module.exit_json(changed=_system_state_change(state, in_group)) cloud.add_user_to_group(user, group) cloud.remove_user_from_group(user, group) module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e), extra_data=e.extra_data)",27,31
openstack%2Fnetworking-ovn~stable%2Ftrain~Ic84b2eacf0ec6ef36143a361e51a92c2f2723e8e,openstack/networking-ovn,stable/train,Ic84b2eacf0ec6ef36143a361e51a92c2f2723e8e,[OVN] Check for lock in check_for_mcast_flood_reports,MERGED,2021-05-04 14:11:30.000000000,2021-06-17 13:59:56.000000000,2021-06-17 13:58:13.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 14:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a489b765c3aba752ffaa8890f184d357241e0de2', 'message': '[OVN] Check for lock in check_for_mcast_flood_reports\n\nThe maintenance method check_for_mcast_flood_reports() was not checking\nif that instance of the maintenance task has a valid lock before trying\nto execute a transaction.\n\nThis patch adds such check so instances of the maintenance task without\na valid lock will just return.\n\n(cherry picked from Neutron 317407fe61b76b8f0c250ce6fb18d93dd0b667d0)\n\nCloses-Bug: #1927077\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Ic84b2eacf0ec6ef36143a361e51a92c2f2723e8e\n'}, {'number': 2, 'created': '2021-05-15 11:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6cd2e256bdc6300f56c83be9c95af6ecf8b09f45', 'message': '[OVN] Check for lock in check_for_mcast_flood_reports\n\nThe maintenance method check_for_mcast_flood_reports() was not checking\nif that instance of the maintenance task has a valid lock before trying\nto execute a transaction.\n\nThis patch adds such check so instances of the maintenance task without\na valid lock will just return.\n\n(cherry picked from Neutron 317407fe61b76b8f0c250ce6fb18d93dd0b667d0)\n\nCloses-Bug: #1927077\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Ic84b2eacf0ec6ef36143a361e51a92c2f2723e8e\n'}, {'number': 3, 'created': '2021-05-24 12:18:56.000000000', 'files': ['networking_ovn/common/maintenance.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f7ec742c4779bb0b030bf729aacbf9725cfd4192', 'message': '[OVN] Check for lock in check_for_mcast_flood_reports\n\nThe maintenance method check_for_mcast_flood_reports() was not checking\nif that instance of the maintenance task has a valid lock before trying\nto execute a transaction.\n\nThis patch adds such check so instances of the maintenance task without\na valid lock will just return.\n\n(cherry picked from Neutron 317407fe61b76b8f0c250ce6fb18d93dd0b667d0)\n\nCloses-Bug: #1927077\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Ic84b2eacf0ec6ef36143a361e51a92c2f2723e8e\n'}]",0,789582,f7ec742c4779bb0b030bf729aacbf9725cfd4192,115,5,3,6773,,,0,"[OVN] Check for lock in check_for_mcast_flood_reports

The maintenance method check_for_mcast_flood_reports() was not checking
if that instance of the maintenance task has a valid lock before trying
to execute a transaction.

This patch adds such check so instances of the maintenance task without
a valid lock will just return.

(cherry picked from Neutron 317407fe61b76b8f0c250ce6fb18d93dd0b667d0)

Closes-Bug: #1927077
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: Ic84b2eacf0ec6ef36143a361e51a92c2f2723e8e
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/82/789582/3 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/common/maintenance.py'],1,a489b765c3aba752ffaa8890f184d357241e0de2,, if not self.has_lock: return ,,3,0
openstack%2Frpm-packaging~stable%2Fwallaby~Ic7885328e3e940811743faec9fcacae1bc8989aa,openstack/rpm-packaging,stable/wallaby,Ic7885328e3e940811743faec9fcacae1bc8989aa,Update version for sushy wallaby,MERGED,2021-06-15 12:38:21.000000000,2021-06-17 13:51:38.000000000,2021-06-17 13:51:38.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-15 12:38:21.000000000', 'files': ['openstack/sushy/sushy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/995217a66e1334e29abf044f9010de8c068d9b62', 'message': 'Update version for sushy wallaby\n\nChange-Id: Ic7885328e3e940811743faec9fcacae1bc8989aa\n'}]",0,796460,995217a66e1334e29abf044f9010de8c068d9b62,8,4,1,23851,,,0,"Update version for sushy wallaby

Change-Id: Ic7885328e3e940811743faec9fcacae1bc8989aa
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/60/796460/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/sushy/sushy.spec.j2'],1,995217a66e1334e29abf044f9010de8c068d9b62,update-sushy-wallaby,{% set upstream_version = upstream_version('3.7.2') %},{% set upstream_version = upstream_version('3.7.0') %},1,1
openstack%2Frpm-packaging~master~Ibf5fbc9d03b7d4a3e6b1142b84cab7a5749f031f,openstack/rpm-packaging,master,Ibf5fbc9d03b7d4a3e6b1142b84cab7a5749f031f,Update version for sushy xena,MERGED,2021-06-15 12:37:24.000000000,2021-06-17 13:47:23.000000000,2021-06-17 13:47:23.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-15 12:37:24.000000000', 'files': ['openstack/sushy/sushy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/dc03bb6117ff6e87faa27ae92071d959eace3a6e', 'message': 'Update version for sushy xena\n\nChange-Id: Ibf5fbc9d03b7d4a3e6b1142b84cab7a5749f031f\n'}]",0,796459,dc03bb6117ff6e87faa27ae92071d959eace3a6e,9,5,1,23851,,,0,"Update version for sushy xena

Change-Id: Ibf5fbc9d03b7d4a3e6b1142b84cab7a5749f031f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/59/796459/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/sushy/sushy.spec.j2'],1,dc03bb6117ff6e87faa27ae92071d959eace3a6e,update-sushy-xena,{% set upstream_version = upstream_version('3.9.1') %},{% set upstream_version = upstream_version('3.8.0') %},1,1
openstack%2Fneutron-tempest-plugin~master~I185a0d1031af9489731baa0f132762b61eb9c64f,openstack/neutron-tempest-plugin,master,I185a0d1031af9489731baa0f132762b61eb9c64f,Skip scenario tests if HA router will not be active,MERGED,2021-04-28 07:05:44.000000000,2021-06-17 13:45:56.000000000,2021-05-11 18:35:49.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-28 07:05:44.000000000', 'files': ['neutron_tempest_plugin/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/03c795e8c32d4fb65c79766000c459b1d2f16f31', 'message': ""Skip scenario tests if HA router will not be active\n\nDue to related bug, it may happen that HA router will not become active\non any of the L3 agents even in 10 minutes.\nI know it's just ugly workaround, but to unblock our gate lets skip test\nif that issue will happen, instead of failing whole job.\nWe know that issue and we are already working on fix for that.\n\nRelated-Bug: #1923633\nChange-Id: I185a0d1031af9489731baa0f132762b61eb9c64f\n""}]",1,788412,03c795e8c32d4fb65c79766000c459b1d2f16f31,10,3,1,11975,,,0,"Skip scenario tests if HA router will not be active

Due to related bug, it may happen that HA router will not become active
on any of the L3 agents even in 10 minutes.
I know it's just ugly workaround, but to unblock our gate lets skip test
if that issue will happen, instead of failing whole job.
We know that issue and we are already working on fix for that.

Related-Bug: #1923633
Change-Id: I185a0d1031af9489731baa0f132762b61eb9c64f
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/12/788412/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/base.py'],1,03c795e8c32d4fb65c79766000c459b1d2f16f31,bug/1923633," # NOTE(slaweq): Due to bug # the bug https://launchpad.net/bugs/1923633 let's temporary skip test # if router will not become active on any of the L3 agents in 600 # seconds. When that bug will be fixed, we should get rid of that skip # and lower timeout to e.g. 300 seconds, or even less try: utils.wait_until_true( _router_active_on_l3_agent, timeout=600, sleep=5, exception=lib_exc.TimeoutException(error_msg)) except lib_exc.TimeoutException: raise cls.skipException(""Bug 1923633. %s"" % error_msg)"," # NOTE(slaweq): timeout here should be lower for sure, but due to # the bug https://launchpad.net/bugs/1923633 let's wait even 10 # minutes until router will be active on some of the L3 agents utils.wait_until_true(_router_active_on_l3_agent, timeout=600, sleep=5, exception=lib_exc.TimeoutException(error_msg))",12,6
openstack%2Ftripleo-quickstart-extras~master~I977076549539893ef9f169c82aeb8b5db2725860,openstack/tripleo-quickstart-extras,master,I977076549539893ef9f169c82aeb8b5db2725860,Deploy content provider registry using podman,ABANDONED,2021-05-03 09:39:07.000000000,2021-06-17 13:29:15.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-03 09:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/02b20283fc73367b14d7f8e264e71236aaa6fa18', 'message': 'Reuse tripleo-ansible podman_containers.py\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I977076549539893ef9f169c82aeb8b5db2725860\n'}, {'number': 2, 'created': '2021-05-05 06:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fa0a5f3527e8fac72cee5267d112e997d62b35ac', 'message': 'Reuse tripleo-ansible podman_containers.py\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I977076549539893ef9f169c82aeb8b5db2725860\n'}, {'number': 3, 'created': '2021-05-05 07:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/494111e2be6f017321fcbb28088694b2b85f86fa', 'message': 'Reuse tripleo-ansible podman_containers.py\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I977076549539893ef9f169c82aeb8b5db2725860\n'}, {'number': 4, 'created': '2021-05-05 08:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1e9281021767ff309593d45ab5bafc013de330db', 'message': 'Reuse tripleo-ansible podman_container.py ansible module\n\nCurrently in content provider job, registry is deployed using\npodman_container.py ansible module coming from tripleo-ansible.\n\ntripleo-ansible is getting installed in TQ venv via TQE\nrequirements.txt file. We are removing that requirements.\n\nAnd it will fail all the content provider.\n\nDuring repo setup, tripleo-ansible is already installed via\nRPM using tripleoclient.\n\nDuring run-time, we need to that module, so we are copying\nthat module in TQ venv and run the container provider job\nwithout failing it.\n\nCloses-Bug: #1927171\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I977076549539893ef9f169c82aeb8b5db2725860\n'}, {'number': 5, 'created': '2021-05-05 09:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3ecb2b31374f175050102b24e4130eb88b86ecb0', 'message': 'Reuse tripleo-ansible podman_container.py ansible module\n\nCurrently in content provider job, registry is deployed using\npodman_container.py ansible module coming from tripleo-ansible.\n\ntripleo-ansible is getting installed in TQ venv via TQE\nrequirements.txt file. We are removing that requirements.\n\nAnd it will fail all the content provider.\n\nDuring repo setup, tripleo-ansible is already installed via\nRPM using tripleoclient.\n\nDuring run-time, we need to that module, so we are copying\nthat module in TQ venv and run the container provider job\nwithout failing it.\n\nCloses-Bug: #1927171\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I977076549539893ef9f169c82aeb8b5db2725860\n'}, {'number': 6, 'created': '2021-05-05 09:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e5d3a84bbe8d43f7ead23b7b332153976f0ed7c2', 'message': 'Reuse tripleo-ansible podman_container.py ansible module\n\nCurrently in content provider job, registry is deployed using\npodman_container.py ansible module coming from tripleo-ansible.\n\ntripleo-ansible is getting installed in TQ venv via TQE\nrequirements.txt file. We are removing that requirements.\n\nAnd it will fail all the content provider.\n\nDuring repo setup, tripleo-ansible is already installed via\nRPM using tripleoclient.\n\nDuring run-time, we need to that module, so we are copying\nthat module in TQ venv and run the container provider job\nwithout failing it.\n\nCloses-Bug: #1927171\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I977076549539893ef9f169c82aeb8b5db2725860\n'}, {'number': 7, 'created': '2021-05-05 10:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d89f0d51a73427825b162d6df05f03246ddca279', 'message': 'Deploy content provider registry using podman\n\nCurrently in content provider job, registry is deployed using\npodman_container.py ansible module coming from tripleo-ansible.\n\ntripleo-ansible is getting installed in TQ venv via TQE\nrequirements.txt file. We are removing that requirements.\n\nAnd it will fail all the content provider.\n\nDuring repo setup, tripleo-ansible is already installed via\nRPM using tripleoclient.\n\nDuring run-time, we need to podman_container.py ansible\nmodule but on copying it is not getting loaded in the\nansible as we need to refresh the env.\n\nSo we are completely removing that and switching to\npodman cli to handle that.\n\nCloses-Bug: #1927171\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I977076549539893ef9f169c82aeb8b5db2725860\n'}, {'number': 8, 'created': '2021-05-11 12:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5ee2a07809f53178d2c30aa698b39d26ea69f8b0', 'message': 'Deploy content provider registry using podman\n\nCurrently in content provider job, registry is deployed using\npodman_container.py ansible module coming from tripleo-ansible.\n\ntripleo-ansible is getting installed in TQ venv via TQE\nrequirements.txt file. We are removing that requirements.\n\nAnd it will fail all the content provider.\n\nDuring repo setup, tripleo-ansible is already installed via\nRPM using tripleoclient.\n\nDuring run-time, we need to podman_container.py ansible\nmodule but on copying it is not getting loaded in the\nansible as we need to refresh the env.\n\nSo we are completely removing that and switching to\npodman cli to handle that.\n\nCloses-Bug: #1927171\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I977076549539893ef9f169c82aeb8b5db2725860\n'}, {'number': 9, 'created': '2021-05-11 12:17:43.000000000', 'files': ['roles/container-build/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2f25b07fc0dacb59f9c01620ee79b3b12d67b4c9', 'message': 'Deploy content provider registry using podman\n\nCurrently in content provider job, registry is deployed using\npodman_container.py ansible module coming from tripleo-ansible.\n\ntripleo-ansible is getting installed in TQ venv via TQE\nrequirements.txt file. We are removing that requirements.\n\nAnd it will fail all the content provider.\n\nDuring repo setup, tripleo-ansible is already installed via\nRPM using tripleoclient.\n\nDuring run-time, we need to podman_container.py ansible\nmodule but on copying it is not getting loaded in the\nansible as we need to refresh the env.\n\nSo we are completely removing that and switching to\npodman cli to handle that.\n\nCloses-Bug: #1927171\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I977076549539893ef9f169c82aeb8b5db2725860\n'}]",0,789173,2f25b07fc0dacb59f9c01620ee79b3b12d67b4c9,22,2,9,12393,,,0,"Deploy content provider registry using podman

Currently in content provider job, registry is deployed using
podman_container.py ansible module coming from tripleo-ansible.

tripleo-ansible is getting installed in TQ venv via TQE
requirements.txt file. We are removing that requirements.

And it will fail all the content provider.

During repo setup, tripleo-ansible is already installed via
RPM using tripleoclient.

During run-time, we need to podman_container.py ansible
module but on copying it is not getting loaded in the
ansible as we need to refresh the env.

So we are completely removing that and switching to
podman cli to handle that.

Closes-Bug: #1927171

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I977076549539893ef9f169c82aeb8b5db2725860
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/73/789173/9 && git format-patch -1 --stdout FETCH_HEAD,['roles/container-build/tasks/main.yaml'],1,02b20283fc73367b14d7f8e264e71236aaa6fa18,tqe_requires_cleanup,"- name: Create the symlink for podman_container action plugin file: src: ""/usr/share/ansible/plugins/action/podman_containers.py"" dest: ""{{ local_working_dir }}/share/ansible/plugins/action/podman_containers.py"" state: link ",,6,0
openstack%2Ftripleo-ansible~master~I214127ebeddbef2b85cc8deb3c108c8de907ee0a,openstack/tripleo-ansible,master,I214127ebeddbef2b85cc8deb3c108c8de907ee0a,Container manage module,MERGED,2021-05-13 20:57:40.000000000,2021-06-17 13:28:41.000000000,2021-06-16 18:07:11.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-13 20:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/782268782d6652812db7da0e09bf60e28d3b0312', 'message': '[WIP] Container maange module\n\nChange-Id: I214127ebeddbef2b85cc8deb3c108c8de907ee0a\nTODO: see if we can collapse the tripleo_container_puppet with this one\n'}, {'number': 2, 'created': '2021-05-14 19:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0fd6e67e63a4daaa3ff0eaf0698856232729d697', 'message': '[WIP] Container maange module\n\nChange-Id: I214127ebeddbef2b85cc8deb3c108c8de907ee0a\nTODO: see if we can collapse the tripleo_container_puppet with this one\n'}, {'number': 3, 'created': '2021-05-14 20:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2613f05fb84c2e3127540d68f37610d955108ddd', 'message': '[WIP] Container maange module\n\nChange-Id: I214127ebeddbef2b85cc8deb3c108c8de907ee0a\nTODO: see if we can collapse the tripleo_container_puppet with this one\n'}, {'number': 4, 'created': '2021-05-14 21:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6e3c474ce267479544dfbf31dc249f558d708356', 'message': '[WIP] Container maange module\n\nChange-Id: I214127ebeddbef2b85cc8deb3c108c8de907ee0a\nTODO: see if we can collapse the tripleo_container_puppet with this one\n'}, {'number': 5, 'created': '2021-05-17 13:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/65fb876643c579f742b13d3dce19af8b932aeb09', 'message': '[WIP] Container maange module\n\nChange-Id: I214127ebeddbef2b85cc8deb3c108c8de907ee0a\nTODO: see if we can collapse the tripleo_container_puppet with this one\n'}, {'number': 6, 'created': '2021-05-17 17:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fe10449b047b0066bc744675a02051c649fd8c99', 'message': 'Container manage module\n\nUse a module to manage podman containers rather than the async task\nloops.\n\nChange-Id: I214127ebeddbef2b85cc8deb3c108c8de907ee0a\n'}, {'number': 7, 'created': '2021-05-17 18:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8c0086e0152856b4704c0710ed066b09d430edda', 'message': 'Container manage module\n\nUse a module to manage podman containers rather than the async task\nloops.  This change also includes fixes for container-puppet json data\nto match the expectations of the module.\n\nChange-Id: I214127ebeddbef2b85cc8deb3c108c8de907ee0a\n'}, {'number': 8, 'created': '2021-05-18 20:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0d8fdac8fef3cd98474a477b014f4cbe3ba50604', 'message': 'Container manage module\n\nUse a module to manage podman containers rather than the async task\nloops.  This change also includes fixes for container-puppet json data\nto match the expectations of the module.\n\nChange-Id: I214127ebeddbef2b85cc8deb3c108c8de907ee0a\n'}, {'number': 9, 'created': '2021-05-18 22:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/01f2cce17fac04f3937172d2a2e5c9d92f75a712', 'message': 'Container manage module\n\nUse a module to manage podman containers rather than the async task\nloops.  This change also includes fixes for container-puppet json data\nto match the expectations of the module.\n\nChange-Id: I214127ebeddbef2b85cc8deb3c108c8de907ee0a\n'}, {'number': 10, 'created': '2021-05-19 15:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f847d0a7713753ed031f6b1d18feedf52926c6a6', 'message': 'Container manage module\n\nUse a module to manage podman containers rather than the async task\nloops.  This change also includes fixes for container-puppet json data\nto match the expectations of the module.\n\nChange-Id: I214127ebeddbef2b85cc8deb3c108c8de907ee0a\n'}, {'number': 11, 'created': '2021-05-19 15:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ea2a2b2732137aed1cb656507064912d8794f12', 'message': 'Container manage module\n\nUse a module to manage podman containers rather than the async task\nloops.  This change also includes fixes for container-puppet json data\nto match the expectations of the module.\n\nChange-Id: I214127ebeddbef2b85cc8deb3c108c8de907ee0a\n'}, {'number': 12, 'created': '2021-06-01 17:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e755cf51ce78d6a4c97ba22856deffc7fb3884c7', 'message': 'Container manage module\n\nUse a module to manage podman containers rather than the async task\nloops.  This change also includes fixes for container-puppet json data\nto match the expectations of the module.\n\nChange-Id: I214127ebeddbef2b85cc8deb3c108c8de907ee0a\n'}, {'number': 13, 'created': '2021-06-01 18:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6ff8acb0658c52518067bbc1a1294779eecf12cc', 'message': 'Container manage module\n\nUse a module to manage podman containers rather than the async task\nloops.  This change also includes fixes for container-puppet json data\nto match the expectations of the module.\n\nChange-Id: I214127ebeddbef2b85cc8deb3c108c8de907ee0a\n'}, {'number': 14, 'created': '2021-06-02 19:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fca2d5ce15fbb5e66b4c8e952e41648b14f7afff', 'message': 'Container manage module\n\nUse a module to manage podman containers rather than the async task\nloops.  This change also includes fixes for container-puppet json data\nto match the expectations of the module.\n\nChange-Id: I214127ebeddbef2b85cc8deb3c108c8de907ee0a\n'}, {'number': 15, 'created': '2021-06-03 13:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/252e154b081484198b6f0217775a3bcf85e54e54', 'message': 'Container manage module\n\nUse a module to manage podman containers rather than the async task\nloops.  This change also includes fixes for container-puppet json data\nto match the expectations of the module.\n\nChange-Id: I214127ebeddbef2b85cc8deb3c108c8de907ee0a\n'}, {'number': 16, 'created': '2021-06-09 13:35:11.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_container_manage.py', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/ansible_plugins/modules/container_puppet_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/22bbe1311094be600b9fed426f1ee0a983b8e111', 'message': 'Container manage module\n\nUse a module to manage podman containers rather than the async task\nloops.  This change also includes fixes for container-puppet json data\nto match the expectations of the module.\n\nChange-Id: I214127ebeddbef2b85cc8deb3c108c8de907ee0a\n'}]",13,791317,22bbe1311094be600b9fed426f1ee0a983b8e111,70,7,16,14985,,,0,"Container manage module

Use a module to manage podman containers rather than the async task
loops.  This change also includes fixes for container-puppet json data
to match the expectations of the module.

Change-Id: I214127ebeddbef2b85cc8deb3c108c8de907ee0a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/17/791317/16 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_container_manage.py']",2,782268782d6652812db7da0e09bf60e28d3b0312,config-next,"#!/usr/bin/python # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. __metaclass__ = type from ansible.module_utils.basic import AnsibleModule from ansible.module_utils.parsing.convert_bool import boolean import glob import os import yaml import json from concurrent.futures import ThreadPoolExecutor ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = """""" --- module: tripleo_container_manage author: - ""Alex Schultz (@mwhahaha)"" version_added: '2.9' short_description: Create containers from a set of json configurations notes: [] description: - Generate puppet containers configs requirements: - None options: config_id: description: - config id for the label type: str required: True config_dir: description: - path to the json container definitions type: str required: True config_patterns: description: - glob for configuration files type: str default: ""*.json"" log_base_path: description: - log base path type: str default: '/var/log/containers/stdouts' concurrency: description: - process count type: int default: 5 debug: description: - Enable debug type: bool default: False """""" EXAMPLES = """""" - name: Run container process tripleo_container_manage config_id: tripleo_step1 config_dir: /var/lib/tripleo-config/container-startup-config/step_1 """""" try: from ansible.module_utils.podman.podman_container_lib import PodmanManager, ARGUMENTS_SPEC_CONTAINER except ImportError: from tripleo_ansible.ansible_plugins.module_utils.podman.podman_container_lib import PodmanManager, ARGUMENTS_SPEC_CONTAINER # noqa: F402 class ExecFailure(Exception): def __init__(self, msg, stdout=None, stderr=None): super().__init__(msg) self.msg = msg self.stdout = stdout self.stderr = stderr def __str__(self): return f""ERROR: {self.msg}\nstderr: {self.stderr}"" class TripleoContainerManage: """"""Notes about this module. It will generate container config that will be consumed by the tripleo-container-manage role that is using podman_container module. """""" def __init__(self, module, results): self.module = module self.results = results # parse args args = self.module.params # Set parameters self.concurrency = args.get('concurrency', 4) self.config_id = args.get('config_id') self.config_dir = args.get('config_dir') self.config_patterns = args.get('config_patterns') self.log_base_path = args.get('log_base_path') self.debug = args.get('debug') self.run() self.module.exit_json(**self.results) # container_config_data.py without overrides def _get_configs(self): configs = {} if not os.path.exists(self.config_dir): return configs matches = glob.glob(os.path.join(self.config_dir, self.config_patterns)) for match in matches: name = os.path.splitext(os.path.basename(match))[0] with open(match, 'r') as data: config = json.loads(data.read()) if self.debug: self.module.debug('Config found for {}: {}'.format(name, config)) configs.update({name: config}) return configs def _get_version(self): rc, out, err = self.module.run_command(['podman', b'--version']) if rc != 0 or not out or 'version' not in out: self.module.fail_json(msg='Can not determine podman version') return out.split('versio')[1].strip() def _container_opts_defaults(self): default = {} opts = ARGUMENTS_SPEC_CONTAINER for k, v in opts.items(): if 'default' in v: default[k] = v['default'] else: default[k] = None return default def _container_opts_update(self, container_opts): opts_dict = self._container_opts_defaults() aliases = {} for k, v in ARGUMENTS_SPEC_CONTAINER.items(): if 'aliases' in v: for alias in v['aliases']: aliases[alias] = k for k in list(container_opts): if k in aliases: key = aliases[k] opts_dict[key] = container_opts[k] container_opts.pop(k) opts_dict.update(container_opts) return opts_dict def _container_opts_types(self, container_opts): # convert data types since magic ansible option conversion doesn't # occur here. for k, v in container_opts.items(): if v is None: continue opt_type = ARGUMENTS_SPEC_CONTAINER.get(k).get('type') if opt_type in ['raw', 'path']: continue if not isinstance(v, eval(opt_type)): if isinstance(v, str) and opt_type == 'list': container_opts[k] = [v] elif isinstance(v, str) and opt_type == 'bool': container_opts[k] = boolean(v) elif isinstance(v, int) and opt_type == 'str': container_opts[k] = int(v) else: raise TypeError(f""Container {container_opts['name']} "" f""option ({k}, {v}) is not "" f""type {opt_type} is {type(v)}"") return container_opts def _list_or_dict_arg(self, data, cmd, key, arg): """"""Utility to build a command and its argument with list or dict data. The key can be a dictionary or a list, the returned arguments will be a list where each item is the argument name and the item data. """""" if key not in data: return value = data[key] if isinstance(value, dict): for k, v in sorted(value.items()): if v: cmd.append('%s=%s=%s' % (arg, k, v)) elif k: cmd.append('%s=%s' % (arg, k)) elif isinstance(value, list): for v in value: if v: cmd.append('%s=%s' % (arg, v)) def exec_container(self, name, config): cmd = ['podman', 'exec', f""--user={config.get('user', 'root')}""] if 'privileged' in config: cmd.append('--privileged=%s' % str(config['privileged']).lower()) self.list_or_dict_arg(config, cmd, 'environment', '--env') cmd.extend(config['command']) rc, out, err = self.module.run_command(cmd) if rc != 0: msg = ""Failure running exec '{}'. rc={}, stdout={}, stderr={}"".format(name, rc, out, err) self.module.warn(msg) return False return True def manage_container(self, name, config): # do horible things to convert THT format to ansible module format opts = { 'command': 'podman', 'name': name, 'state': ""present"", 'label': { 'config_id': self.config_id, 'container_name': name, 'managed_by': 'tripleo_ansible', 'config_data': config }, 'debug': self.debug, 'log_driver': 'k8s-file', 'log_opt': {""path"": f""{self.log_base_path}/{name}.log""}, 'executable': 'podman' } opts.update(config) if 'volume' not in opts: opts['volume'] = opts.pop('volumes') if 'env' not in opts: opts['env'] = opts.pop('environment') # force detachto false opts['detach'] = False success = True try: container_opts = self._container_opts_update(opts) container_opts = self._container_opts_types(container_opts) PodmanManager(self.module, container_opts).execute() except ExecFailure as e: print(e) self.module.warn(str(e)) success = False return success def run_container(self, data): name, config = data action = config.get('action', 'create') success = False if action == 'exec': success = self.exec_container(name, config) else: success = self.manage_container(name, config) return (name, success) def check_failures(self, results): failed = [] for result in results: name, res = result if not res: failed.append(name) return failed def batch_start_order(self, configs): data = {} for k in configs: start_order = configs[k].get('start_order', 0) if start_order not in data: data[start_order] = [] data[start_order].append((k, configs.get(k))) return data def run(self): configs = self._get_configs() # sort configs by start_order # launch containers? data = self.batch_start_order(configs) failed = [] def exe_fail_json(**kwargs): raise ExecFailure(**kwargs) # NOTE: fix because PodmanManager calls fail_json directly so we want # to handle those all at once at the end orig_fail = self.module.fail_json self.module.fail_json = exe_fail_json for start_order in data: with ThreadPoolExecutor(max_workers=self.concurrency) as exc: results = exc.map(self.run_container, data[start_order]) failed.extend(self.check_failures(results)) self.module.fail_json = orig_fail if len(failed) > 0: self.module.fail_json( msg='Failed containers: {}'.format(', '.join(failed))) self.results['changed'] = True def main(): module = AnsibleModule( argument_spec=yaml.safe_load(DOCUMENTATION)['options'], supports_check_mode=True, ) results = dict( changed=False ) TripleoContainerManage(module, results) if __name__ == '__main__': main() ",,347,7
openstack%2Fneutron~master~I680e534ecf7eb78e451a9a37959aab09b9091141,openstack/neutron,master,I680e534ecf7eb78e451a9a37959aab09b9091141,[OVN] Re-enable dstat for the OVN jobs,MERGED,2021-05-17 10:56:23.000000000,2021-06-17 13:15:32.000000000,2021-06-15 16:53:46.000000000,"[{'_account_id': 6469}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 10:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a8ecbb219714e0880fa9ee1bd60cd76f3786446', 'message': '[OVN] Re-enable dstat for the OVN jobs\n\nChange-Id: I680e534ecf7eb78e451a9a37959aab09b9091141\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2021-05-17 12:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9120e528d2803ad54a8d6be1b4d277d9ed5c36d8', 'message': '[OVN] Re-enable dstat for the OVN jobs\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/791749\nChange-Id: I680e534ecf7eb78e451a9a37959aab09b9091141\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2021-05-17 13:20:05.000000000', 'files': ['zuul.d/tempest-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c540f789af52ea930c800d6d658214b048a2a08e', 'message': '[OVN] Re-enable dstat for the OVN jobs\n\ndstat has been replaced with pcp-dstat in DevStack.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/791749\nChange-Id: I680e534ecf7eb78e451a9a37959aab09b9091141\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,791720,c540f789af52ea930c800d6d658214b048a2a08e,44,5,3,6773,,,0,"[OVN] Re-enable dstat for the OVN jobs

dstat has been replaced with pcp-dstat in DevStack.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/791749
Change-Id: I680e534ecf7eb78e451a9a37959aab09b9091141
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/791720/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-multinode.yaml'],1,5a8ecbb219714e0880fa9ee1bd60cd76f3786446,ovn-dstat, dstat: true dstat: true, # NOTE(slaweq): disable dstat until bug # https://bugs.launchpad.net/ubuntu/+source/dstat/+bug/1866619 will be # fixed dstat: false # NOTE(slaweq): disable dstat until bug # https://bugs.launchpad.net/ubuntu/+source/dstat/+bug/1866619 will be # fixed dstat: false,2,8
openstack%2Fneutron~master~Ife9b647b403bdd76a8a99984ea8858bf95c96bc3,openstack/neutron,master,Ife9b647b403bdd76a8a99984ea8858bf95c96bc3,"Revert ""Set system_scope='all' in elevated context""",MERGED,2021-04-26 20:15:28.000000000,2021-06-17 13:09:23.000000000,2021-06-17 13:05:51.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 20:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c6a808276bce0119ec25d725ff5bf7da8447dfd', 'message': 'Revert ""Set system_scope=\'all\' in elevated context""\n\nThis reverts commit 062336e59bb3d427bf4094779dc8e93d92c078d5.\n\nNow, we have proper fix for the system_scope=\'all\' in elevated context\nin the neutron-lib so we can revert temporary fix made at the end of the\nWallaby cycle.\n\nRelated-Bug: #1920001\n\nConflicts:\n    neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py\n    neutron/common/utils.py\n    neutron/db/address_group_db.py\n\nChange-Id: Ife9b647b403bdd76a8a99984ea8858bf95c96bc3\n'}, {'number': 2, 'created': '2021-04-27 21:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e619d7f5c56ede5fe77ccf0dc88525d4e4082aa1', 'message': 'Revert ""Set system_scope=\'all\' in elevated context""\n\nThis reverts commit 062336e59bb3d427bf4094779dc8e93d92c078d5.\n\nNow, we have proper fix for the system_scope=\'all\' in elevated context\nin the neutron-lib so we can revert temporary fix made at the end of the\nWallaby cycle.\n\nRelated-Bug: #1920001\n\nConflicts:\n    neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py\n    neutron/common/utils.py\n    neutron/db/address_group_db.py\n\nChange-Id: Ife9b647b403bdd76a8a99984ea8858bf95c96bc3\n'}, {'number': 3, 'created': '2021-05-14 09:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0574fba7b0728975dbfdb8ae8558aae7b8187a92', 'message': 'Revert ""Set system_scope=\'all\' in elevated context""\n\nThis reverts commit 062336e59bb3d427bf4094779dc8e93d92c078d5.\n\nNow, we have proper fix for the system_scope=\'all\' in elevated context\nin the neutron-lib so we can revert temporary fix made at the end of the\nWallaby cycle.\n\nRelated-Bug: #1920001\n\nConflicts:\n    neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py\n    neutron/common/utils.py\n    neutron/db/address_group_db.py\n    neutron/services/segments/db.py\n\nChange-Id: Ife9b647b403bdd76a8a99984ea8858bf95c96bc3\n'}, {'number': 4, 'created': '2021-05-19 08:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/50d5b49940814cd81bfecb6bb4aa91c0ff3f36fe', 'message': 'Revert ""Set system_scope=\'all\' in elevated context""\n\nThis reverts commit 062336e59bb3d427bf4094779dc8e93d92c078d5.\n\nNow, we have proper fix for the system_scope=\'all\' in elevated context\nin the neutron-lib so we can revert temporary fix made at the end of the\nWallaby cycle.\n\nRelated-Bug: #1920001\n\nConflicts:\n    neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py\n    neutron/common/utils.py\n    neutron/db/address_group_db.py\n    neutron/services/segments/db.py\n\nChange-Id: Ife9b647b403bdd76a8a99984ea8858bf95c96bc3\n'}, {'number': 5, 'created': '2021-05-20 07:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6460a29c8a0fce970434bfaa0bdc585f445549a0', 'message': 'Revert ""Set system_scope=\'all\' in elevated context""\n\nThis reverts commit 062336e59bb3d427bf4094779dc8e93d92c078d5.\n\nNow, we have proper fix for the system_scope=\'all\' in elevated context\nin the neutron-lib so we can revert temporary fix made at the end of the\nWallaby cycle.\n\nRelated-Bug: #1920001\n\nConflicts:\n    neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py\n    neutron/common/utils.py\n    neutron/db/address_group_db.py\n    neutron/services/segments/db.py\n\nChange-Id: Ife9b647b403bdd76a8a99984ea8858bf95c96bc3\n'}, {'number': 6, 'created': '2021-05-24 06:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/83ade3c95f254bb12a385d34e376ca89da594f2f', 'message': 'Revert ""Set system_scope=\'all\' in elevated context""\n\nThis reverts commit 062336e59bb3d427bf4094779dc8e93d92c078d5.\n\nNow, we have proper fix for the system_scope=\'all\' in elevated context\nin the neutron-lib so we can revert temporary fix made at the end of the\nWallaby cycle.\n\nRelated-Bug: #1920001\n\nConflicts:\n    neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py\n    neutron/common/utils.py\n    neutron/db/address_group_db.py\n    neutron/services/segments/db.py\n\nChange-Id: Ife9b647b403bdd76a8a99984ea8858bf95c96bc3\n'}, {'number': 7, 'created': '2021-06-06 06:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/36bbe18fa4dc76874c61c02fc29cc20596d1a3e1', 'message': 'Revert ""Set system_scope=\'all\' in elevated context""\n\nThis reverts commit 062336e59bb3d427bf4094779dc8e93d92c078d5.\n\nNow, we have proper fix for the system_scope=\'all\' in elevated context\nin the neutron-lib so we can revert temporary fix made at the end of the\nWallaby cycle.\n\nRelated-Bug: #1920001\n\nConflicts:\n    neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py\n    neutron/common/utils.py\n    neutron/db/address_group_db.py\n    neutron/services/segments/db.py\n\nChange-Id: Ife9b647b403bdd76a8a99984ea8858bf95c96bc3\n'}, {'number': 8, 'created': '2021-06-06 09:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd7ffb5f03e633af8423e6da5bb76ab6b04e6a86', 'message': 'Revert ""Set system_scope=\'all\' in elevated context""\n\nThis reverts commit 062336e59bb3d427bf4094779dc8e93d92c078d5.\n\nNow, we have proper fix for the system_scope=\'all\' in elevated context\nin the neutron-lib so we can revert temporary fix made at the end of the\nWallaby cycle.\n\nRelated-Bug: #1920001\n\nConflicts:\n    neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py\n    neutron/common/utils.py\n    neutron/db/address_group_db.py\n    neutron/services/segments/db.py\n\nChange-Id: Ife9b647b403bdd76a8a99984ea8858bf95c96bc3\n'}, {'number': 9, 'created': '2021-06-15 08:29:25.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/objects/subnet.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/common/utils.py', 'neutron/db/l3_fip_pools_db.py', 'neutron/services/qos/qos_plugin.py', 'neutron/db/address_group_db.py', 'neutron/tests/unit/extensions/test_floatingip_pools.py', 'neutron/plugins/ml2/db.py', 'neutron/api/rpc/agentnotifiers/metering_rpc_agent_api.py', 'neutron/scheduler/l3_agent_scheduler.py', 'neutron/api/rpc/agentnotifiers/l3_rpc_agent_api.py', 'neutron/services/trunk/utils.py', 'neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/services/trunk/rules.py', 'neutron/tests/unit/objects/qos/test_policy.py', 'neutron/core_extensions/qos.py', 'neutron/db/l3_db.py', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/db/extraroute_db.py', 'neutron/objects/rbac_db.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/api/v2/test_resource.py', 'neutron/quota/resource.py', 'neutron/services/trunk/rpc/server.py', 'neutron/objects/subnetpool.py', 'neutron/services/ovn_l3/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7371e13e4516622a411cf463324505da52e4935', 'message': 'Revert ""Set system_scope=\'all\' in elevated context""\n\nThis reverts commit 062336e59bb3d427bf4094779dc8e93d92c078d5.\n\nNow, we have proper fix for the system_scope=\'all\' in elevated context\nin the neutron-lib so we can revert temporary fix made at the end of the\nWallaby cycle.\n\nRelated-Bug: #1920001\n\nConflicts:\n    neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py\n    neutron/common/utils.py\n    neutron/db/address_group_db.py\n    neutron/services/segments/db.py\n\nChange-Id: Ife9b647b403bdd76a8a99984ea8858bf95c96bc3\n'}]",7,788072,d7371e13e4516622a411cf463324505da52e4935,135,4,9,11975,,,0,"Revert ""Set system_scope='all' in elevated context""

This reverts commit 062336e59bb3d427bf4094779dc8e93d92c078d5.

Now, we have proper fix for the system_scope='all' in elevated context
in the neutron-lib so we can revert temporary fix made at the end of the
Wallaby cycle.

Related-Bug: #1920001

Conflicts:
    neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py
    neutron/common/utils.py
    neutron/db/address_group_db.py
    neutron/services/segments/db.py

Change-Id: Ife9b647b403bdd76a8a99984ea8858bf95c96bc3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/788072/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/services/segments/db.py', 'neutron/objects/subnet.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/common/utils.py', 'neutron/db/l3_fip_pools_db.py', 'neutron/services/qos/qos_plugin.py', 'neutron/db/address_group_db.py', 'neutron/tests/unit/extensions/test_floatingip_pools.py', 'neutron/plugins/ml2/db.py', 'neutron/api/rpc/agentnotifiers/metering_rpc_agent_api.py', 'neutron/scheduler/l3_agent_scheduler.py', 'neutron/api/rpc/agentnotifiers/l3_rpc_agent_api.py', 'neutron/services/trunk/utils.py', 'neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/services/trunk/rules.py', 'neutron/tests/unit/objects/qos/test_policy.py', 'neutron/core_extensions/qos.py', 'neutron/db/l3_db.py', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/db/extraroute_db.py', 'neutron/objects/rbac_db.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/api/v2/test_resource.py', 'neutron/services/trunk/rpc/server.py', 'neutron/objects/subnetpool.py', 'neutron/services/ovn_l3/plugin.py']",29,5c6a808276bce0119ec25d725ff5bf7da8447dfd,new-neutron-lib," fips = self.get_floatingips(context.elevated(),","from neutron.common import utils as common_utils fips = self.get_floatingips(common_utils.get_elevated_context(context),",98,153
openstack%2Fnova~stable%2Fussuri~I48dcb7faa17fe9f8346445a1746cff5845baf358,openstack/nova,stable/ussuri,I48dcb7faa17fe9f8346445a1746cff5845baf358,Reproduce bug 1897528,MERGED,2021-05-17 15:38:22.000000000,2021-06-17 13:09:00.000000000,2021-06-17 13:06:55.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 15:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0993099ca47c372092dad13390e4b436eccc4e8', 'message': 'Reproduce bug 1897528\n\nThe nova-compute fails to start if the hypervisor has PCI addresses\n32bit domain.\n\nChange-Id: I48dcb7faa17fe9f8346445a1746cff5845baf358\nRelated-Bug: #1897528\n(cherry picked from commit 976ac722d36439d16ea4ec1bf5037c482c89ef55)\n(cherry picked from commit 0354d4d9f47354e2b4fc0b2343c27e734fe2e494)\n'}, {'number': 2, 'created': '2021-06-17 09:51:49.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8e9859b95c537738d97ade41a8d09670de27ef8d', 'message': 'Reproduce bug 1897528\n\nThe nova-compute fails to start if the hypervisor has PCI addresses\n32bit domain.\n\nChange-Id: I48dcb7faa17fe9f8346445a1746cff5845baf358\nRelated-Bug: #1897528\n(cherry picked from commit 976ac722d36439d16ea4ec1bf5037c482c89ef55)\n(cherry picked from commit 0354d4d9f47354e2b4fc0b2343c27e734fe2e494)\n'}]",0,791770,8e9859b95c537738d97ade41a8d09670de27ef8d,13,4,2,15334,,,0,"Reproduce bug 1897528

The nova-compute fails to start if the hypervisor has PCI addresses
32bit domain.

Change-Id: I48dcb7faa17fe9f8346445a1746cff5845baf358
Related-Bug: #1897528
(cherry picked from commit 976ac722d36439d16ea4ec1bf5037c482c89ef55)
(cherry picked from commit 0354d4d9f47354e2b4fc0b2343c27e734fe2e494)
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/791770/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/pci/test_manager.py'],1,e0993099ca47c372092dad13390e4b436eccc4e8,bug/1897528,"from nova import exception def test_update_devices_from_hypervisor_resources_32bit_domain(self): self.flags( group='pci', passthrough_whitelist=[ '{""product_id"":""2032"", ""vendor_id"":""8086""}']) # There are systems where 32 bit PCI domain is used. See bug 1897528 # for example. While nova (and qemu) does not support assigning such # devices but the existence of such device in the system should not # lead to an error. fake_pci = { 'compute_node_id': 1, 'address': '10000:00:02.0', 'product_id': '2032', 'vendor_id': '8086', 'request_id': None, 'status': fields.PciDeviceStatus.AVAILABLE, 'dev_type': fields.PciDeviceType.STANDARD, 'parent_addr': None, 'numa_node': 0} fake_pci_devs = [fake_pci] fake_pci_devs_json = jsonutils.dumps(fake_pci_devs) tracker = manager.PciDevTracker(self.fake_context) # We expect that the device with 32bit PCI domain is ignored # tracker.update_devices_from_hypervisor_resources(fake_pci_devs_json) # self.assertEqual(0, len(tracker.pci_devs)) # # This is the bug 1897528 ex = self.assertRaises( exception.PciConfigInvalidWhitelist, tracker.update_devices_from_hypervisor_resources, fake_pci_devs_json) self.assertEqual( 'Invalid PCI devices Whitelist config: property domain (10000) is ' 'greater than the maximum allowable value (FFFF).', str(ex)) ",,37,0
openstack%2Fpython-openstackclient~master~I2d9c68db5bf891ffa25fd5a7fc9e8953e44b73ab,openstack/python-openstackclient,master,I2d9c68db5bf891ffa25fd5a7fc9e8953e44b73ab,volume: Allow more versions,MERGED,2021-05-25 11:32:54.000000000,2021-06-17 13:08:55.000000000,2021-06-17 13:06:18.000000000,"[{'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-25 11:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b806888c0002776362a74da0df8cb5ebd1be63a7', 'message': ""volume: Allow more versions\n\nCopy the API version checks from the 'openstackclient.compute.client'\nmodule. These will only be necessary until we migrate everything to SDK\nbut it's very helpful until then.\n\nChange-Id: I2d9c68db5bf891ffa25fd5a7fc9e8953e44b73ab\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-05-26 09:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7c73a4520f2ab75baa486f9084cbae43af2c0cca', 'message': ""volume: Allow more versions\n\nCopy the API version checks from the 'openstackclient.compute.client'\nmodule. These will only be necessary until we migrate everything to SDK\nbut it's very helpful until then.\n\nChange-Id: I2d9c68db5bf891ffa25fd5a7fc9e8953e44b73ab\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2021-06-03 17:01:39.000000000', 'files': ['openstackclient/volume/client.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0f28588e48c1e296f834e8684f293c2cdf4afc33', 'message': ""volume: Allow more versions\n\nCopy the API version checks from the 'openstackclient.compute.client'\nmodule. These will only be necessary until we migrate everything to SDK\nbut it's very helpful until then.\n\nChange-Id: I2d9c68db5bf891ffa25fd5a7fc9e8953e44b73ab\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",6,792950,0f28588e48c1e296f834e8684f293c2cdf4afc33,20,3,3,15334,,,0,"volume: Allow more versions

Copy the API version checks from the 'openstackclient.compute.client'
module. These will only be necessary until we migrate everything to SDK
but it's very helpful until then.

Change-Id: I2d9c68db5bf891ffa25fd5a7fc9e8953e44b73ab
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/50/792950/3 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/volume/client.py'],1,b806888c0002776362a74da0df8cb5ebd1be63a7,cinder-gaps,"from osc_lib import exceptions} # Save the microversion if in use _volume_api_version = None def check_api_version(check_version): """"""Validate version supplied by user Returns: * True if version is OK * False if the version has not been checked and the previous plugin check should be performed * throws an exception if the version is no good """""" # Defer client imports until we actually need them from cinderclient import api_versions global _volume_api_version # Copy some logic from novaclient 3.3.0 for basic version detection # NOTE(dtroyer): This is only enough to resume operations using API # version 3.0 or any valid version supplied by the user. _volume_api_version = api_versions.get_api_version(check_version) # Bypass X.latest format microversion if not _volume_api_version.is_latest(): if _volume_api_version > api_versions.APIVersion(""3.0""): if not _volume_api_version.matches( api_versions.MIN_VERSION, api_versions.MAX_VERSION, ): msg = _(""versions supported by client: %(min)s - %(max)s"") % { ""min"": api_versions.MIN_VERSION, ""max"": api_versions.MAX_VERSION, } raise exceptions.CommandError(msg) return True"," ""3.42"": ""cinderclient.v3.client.Client"", } ",40,1
openstack%2Fnova~stable%2Fstein~Ic9133f6bc14d4fe766d37a438bf52c33e89da768,openstack/nova,stable/stein,Ic9133f6bc14d4fe766d37a438bf52c33e89da768,Improve error log when snapshot fails,MERGED,2021-03-25 11:57:53.000000000,2021-06-17 13:08:53.000000000,2021-06-17 13:06:31.000000000,"[{'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 21718}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-25 11:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ae0dc81af0e0a700e776cfaf82182c9221e688f', 'message': 'Improve error log when snapshot fails\n\nIf snapshot creation via glance fails due to lack of space or over\nquota, we want to have a clearer error message.\n\nChange-Id: Ic9133f6bc14d4fe766d37a438bf52c33e89da768\nCloses-Bug: #1613770\n(cherry picked from commit 024bf10d8aec5e58111793a9652b16682eb61b7c)\n'}, {'number': 2, 'created': '2021-03-25 12:00:43.000000000', 'files': ['nova/exception.py', 'nova/image/glance.py', 'nova/tests/unit/image/test_glance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/446c9c56109329208193e3c9b106a0a2eb3cd9ce', 'message': 'Improve error log when snapshot fails\n\nIf snapshot creation via glance fails due to lack of space or over\nquota, we want to have a clearer error message.\n\nChange-Id: Ic9133f6bc14d4fe766d37a438bf52c33e89da768\nCloses-Bug: #1613770\n(cherry picked from commit 024bf10d8aec5e58111793a9652b16682eb61b7c)\n(cherry picked from commit 9e9c022bde3a3ffdf0dd87e21bf9afde0dbc1e74)\n'}]",0,782962,446c9c56109329208193e3c9b106a0a2eb3cd9ce,24,5,2,9373,,,0,"Improve error log when snapshot fails

If snapshot creation via glance fails due to lack of space or over
quota, we want to have a clearer error message.

Change-Id: Ic9133f6bc14d4fe766d37a438bf52c33e89da768
Closes-Bug: #1613770
(cherry picked from commit 024bf10d8aec5e58111793a9652b16682eb61b7c)
(cherry picked from commit 9e9c022bde3a3ffdf0dd87e21bf9afde0dbc1e74)
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/782962/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/image/glance.py', 'nova/tests/unit/image/test_glance.py']",3,0ae0dc81af0e0a700e776cfaf82182c9221e688f,bug/1613770," def test_client_httpoverlimit_converts_to_imagequotaexceeded(self): in_exc = glanceclient.exc.HTTPOverLimit('123') out_exc = glance._translate_image_exception('123', in_exc) self.assertIsInstance(out_exc, exception.ImageQuotaExceeded) ",,12,0
openstack%2Freleases~master~I19a14d8c4c571e098a1b03d00652de7774575123,openstack/releases,master,I19a14d8c4c571e098a1b03d00652de7774575123,[tripleo] Transition Ocata to End of Life,ABANDONED,2021-06-09 19:32:45.000000000,2021-06-17 12:30:57.000000000,,"[{'_account_id': 308}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 19:32:45.000000000', 'files': ['deliverables/ocata/tripleo-quickstart.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bc2393a8b52fc46e7b28534626a365788e2ac382', 'message': ""[tripleo] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I19a14d8c4c571e098a1b03d00652de7774575123\n""}]",3,795681,bc2393a8b52fc46e7b28534626a365788e2ac382,14,6,1,17685,,,0,"[tripleo] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I19a14d8c4c571e098a1b03d00652de7774575123
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/795681/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/tripleo-quickstart.yaml'],1,bc2393a8b52fc46e7b28534626a365788e2ac382,ocata-eol, - version: ocata-eol projects: - repo: openstack/tripleo-quickstart hash: d5504218ef647ea8410640e4d95d4a621cead70d - repo: openstack/tripleo-quickstart-extras hash: 10507caa47b194aeb89ff251c6c2e972bb35ebaa,,6,0
openstack%2Fpuppet-tripleo~stable%2Ftrain~I674653d5cbf209c1743207a9f2019f53ac726d93,openstack/puppet-tripleo,stable/train,I674653d5cbf209c1743207a9f2019f53ac726d93,Set memcached server list from memcached_node_names,ABANDONED,2021-06-17 12:13:46.000000000,2021-06-17 12:29:09.000000000,,[],"[{'number': 1, 'created': '2021-06-17 12:13:46.000000000', 'files': ['manifests/profile/base/barbican/authtoken.pp', 'manifests/profile/base/heat.pp', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/swift/proxy.pp', 'manifests/profile/base/manila/authtoken.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'spec/fixtures/hieradata/default.yaml', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'manifests/profile/base/panko/authtoken.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'manifests/profile/base/designate/authtoken.pp', 'manifests/profile/base/horizon.pp', 'manifests/profile/base/neutron/authtoken.pp', 'manifests/profile/base/aodh/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/15b25ff465c011390be27da5f8805c4e61b39b11', 'message': 'Set memcached server list from memcached_node_names\n\nThis follows other clustered services (like RabbitMQ) and\nuses *_node_names (which contain FQDNs), instead of *_node_ips.\n\nCertificate for Memcached TLS is also created using FQDN.\nBecause of this, validation failed when using pymemcache.\nThis patch fixes this issue.\n\nChange-Id: I674653d5cbf209c1743207a9f2019f53ac726d93\nCloses-Bug: 1929574\n'}]",0,796829,15b25ff465c011390be27da5f8805c4e61b39b11,2,0,1,14250,,,0,"Set memcached server list from memcached_node_names

This follows other clustered services (like RabbitMQ) and
uses *_node_names (which contain FQDNs), instead of *_node_ips.

Certificate for Memcached TLS is also created using FQDN.
Because of this, validation failed when using pymemcache.
This patch fixes this issue.

Change-Id: I674653d5cbf209c1743207a9f2019f53ac726d93
Closes-Bug: 1929574
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/29/796829/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/barbican/authtoken.pp', 'manifests/profile/base/heat.pp', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/swift/proxy.pp', 'manifests/profile/base/manila/authtoken.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'spec/fixtures/hieradata/default.yaml', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'manifests/profile/base/panko/authtoken.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'manifests/profile/base/designate/authtoken.pp', 'manifests/profile/base/horizon.pp', 'manifests/profile/base/neutron/authtoken.pp', 'manifests/profile/base/aodh/authtoken.pp']",21,15b25ff465c011390be27da5f8805c4e61b39b11,,"# (Optional) Array of hostnames, ipv4 or ipv6 addresses for memcache. # Defaults to hiera('memcached_node_names') $memcached_ips = hiera('memcached_node_names', []),","# (Optional) Array of ipv4 or ipv6 addresses for memcache. # Defaults to hiera('memcached_node_ips') $memcached_ips = hiera('memcached_node_ips', []),",61,63
openstack%2Fnova~master~I5fa6819008a7359ba0bc3d3e98c19721589b831a,openstack/nova,master,I5fa6819008a7359ba0bc3d3e98c19721589b831a,gate: Remove test_evacuate.sh,MERGED,2021-06-15 16:36:38.000000000,2021-06-17 12:22:50.000000000,2021-06-17 12:19:23.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 16:36:38.000000000', 'files': ['gate/test_evacuate.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/6aa580c15f919717cb17260f36e20e06afe24bae', 'message': 'gate: Remove test_evacuate.sh\n\nI02b2b851a74f24816d2f782a66d94de81ee527b0 missed that it was also safe\nto remove this now unsused script from the codebase.\n\nChange-Id: I5fa6819008a7359ba0bc3d3e98c19721589b831a\n'}]",0,796523,6aa580c15f919717cb17260f36e20e06afe24bae,11,3,1,10135,,,0,"gate: Remove test_evacuate.sh

I02b2b851a74f24816d2f782a66d94de81ee527b0 missed that it was also safe
to remove this now unsused script from the codebase.

Change-Id: I5fa6819008a7359ba0bc3d3e98c19721589b831a
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/796523/1 && git format-patch -1 --stdout FETCH_HEAD,['gate/test_evacuate.sh'],1,6aa580c15f919717cb17260f36e20e06afe24bae,,,"#!/bin/bash -x BASE=${BASE:-/opt/stack} # Source stackrc to determine the configured VIRT_DRIVER source ${BASE}/new/devstack/stackrc # Source tempest to determine the build timeout configuration. source ${BASE}/new/devstack/lib/tempest set -e # We need to get the admin credentials to run CLIs. set +x source ${BASE}/new/devstack/openrc admin set -x if [[ ${VIRT_DRIVER} != libvirt ]]; then echo ""Only the libvirt driver is supported by this script"" exit 1 fi echo ""Ensure we have at least two compute nodes"" nodenames=$(openstack hypervisor list -f value -c 'Hypervisor Hostname') node_count=$(echo ${nodenames} | wc -w) if [[ ${node_count} -lt 2 ]]; then echo ""Evacuate requires at least two nodes"" exit 2 fi echo ""Finding the subnode"" subnode='' local_hostname=$(hostname -s) for nodename in ${nodenames}; do if [[ ${local_hostname} != ${nodename} ]]; then subnode=${nodename} break fi done # Sanity check that we found the subnode. if [[ -z ${subnode} ]]; then echo ""Failed to find subnode from nodes: ${nodenames}"" exit 3 fi image_id=$(openstack image list -f value -c ID | awk 'NR==1{print $1}') flavor_id=$(openstack flavor list -f value -c ID | awk 'NR==1{print $1}') network_id=$(openstack network list --no-share -f value -c ID | awk 'NR==1{print $1}') echo ""Creating ephemeral test server on subnode"" openstack server create --image ${image_id} --flavor ${flavor_id} \ --nic net-id=${network_id} --availability-zone nova:${subnode} --wait evacuate-test echo ""Creating BFV test server on subnode"" nova boot --flavor ${flavor_id} --poll \ --block-device id=${image_id},source=image,dest=volume,size=1,bootindex=0,shutdown=remove \ --nic net-id=${network_id} --availability-zone nova:${subnode} evacuate-bfv-test # Fence the subnode echo ""Stopping n-cpu, q-agt and guest domains on subnode"" _stop_services=""devstack@n-cpu"" if sudo systemctl list-unit-files --type service | grep -q ""devstack@q-agt""; then _stop_services+="" devstack@q-agt"" fi $ANSIBLE subnodes --become -f 5 -i ""$WORKSPACE/inventory"" -m shell -a ""systemctl stop $_stop_services"" $ANSIBLE subnodes --become -f 5 -i ""$WORKSPACE/inventory"" -m shell -a ""for domain in \$(virsh list --all --name); do virsh destroy \$domain; done"" echo ""Forcing down the subnode so we can evacuate from it"" openstack --os-compute-api-version 2.11 compute service set --down ${subnode} nova-compute count=0 status=$(openstack compute service list --host ${subnode} --service nova-compute -f value -c State) while [ ""${status}"" != ""down"" ] do sleep 1 count=$((count+1)) if [ ${count} -eq 30 ]; then echo ""Timed out waiting for subnode compute service to be marked as down"" exit 5 fi status=$(openstack compute service list --host ${subnode} --service nova-compute -f value -c State) done echo ""Stopping libvirt on the localhost before evacuating to trigger failure"" sudo systemctl stop libvirtd # Now force the evacuation to *this* host; we have to force to bypass the # scheduler since we killed libvirtd which will trigger the libvirt compute # driver to auto-disable the nova-compute service and then the ComputeFilter # would filter out this host and we'd get NoValidHost. Normally forcing a host # during evacuate and bypassing the scheduler is a very bad idea, but we're # doing a negative test here. function evacuate_and_wait_for_error() { local server=""$1"" echo ""Forcing evacuate of ${server} to local host"" # TODO(mriedem): Use OSC when it supports evacuate. nova --os-compute-api-version ""2.67"" evacuate --force ${server} ${local_hostname} # Wait for the instance to go into ERROR state from the failed evacuate. count=0 status=$(openstack server show ${server} -f value -c status) while [ ""${status}"" != ""ERROR"" ] do sleep 1 count=$((count+1)) if [ ${count} -eq ${BUILD_TIMEOUT} ]; then echo ""Timed out waiting for server ${server} to go to ERROR status"" exit 4 fi status=$(openstack server show ${server} -f value -c status) done } evacuate_and_wait_for_error evacuate-test evacuate_and_wait_for_error evacuate-bfv-test echo ""Now restart libvirt and perform a successful evacuation"" sudo systemctl start libvirtd sleep 10 # Wait for the compute service to be enabled. count=0 status=$(openstack compute service list --host ${local_hostname} --service nova-compute -f value -c Status) while [ ""${status}"" != ""enabled"" ] do sleep 1 count=$((count+1)) if [ ${count} -eq 30 ]; then echo ""Timed out waiting for local compute service to be enabled"" exit 5 fi status=$(openstack compute service list --host ${local_hostname} --service nova-compute -f value -c Status) done function evacuate_and_wait_for_active() { local server=""$1"" nova evacuate ${server} # Wait for the instance to go into ACTIVE state from the evacuate. count=0 status=$(openstack server show ${server} -f value -c status) while [ ""${status}"" != ""ACTIVE"" ] do sleep 1 count=$((count+1)) if [ ${count} -eq ${BUILD_TIMEOUT} ]; then echo ""Timed out waiting for server ${server} to go to ACTIVE status"" exit 6 fi status=$(openstack server show ${server} -f value -c status) done } evacuate_and_wait_for_active evacuate-test evacuate_and_wait_for_active evacuate-bfv-test # Make sure the servers moved. for server in evacuate-test evacuate-bfv-test; do host=$(openstack server show ${server} -f value -c OS-EXT-SRV-ATTR:host) if [[ ${host} != ${local_hostname} ]]; then echo ""Unexpected host ${host} for server ${server} after evacuate."" exit 7 fi done # Cleanup test servers openstack server delete --wait evacuate-test openstack server delete --wait evacuate-bfv-test ",0,167
openstack%2Fpuppet-oslo~master~I98e31278591b3022c4ab2f635f7c830d9b4544e6,openstack/puppet-oslo,master,I98e31278591b3022c4ab2f635f7c830d9b4544e6,Drop Fedora support,MERGED,2021-06-15 05:58:41.000000000,2021-06-17 12:09:05.000000000,2021-06-17 12:07:47.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 05:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/dd950fd9db771ff29f3ffa9fd507c9daa2747bba', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I98e31278591b3022c4ab2f635f7c830d9b4544e6\n""}, {'number': 2, 'created': '2021-06-15 07:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/6b109ff8d2d5900ee28a89bac7ebef55d4c8a21a', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I98e31278591b3022c4ab2f635f7c830d9b4544e6\n""}, {'number': 3, 'created': '2021-06-15 08:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/10b58d496eac885aded60432a6dcf96bbb8be4e0', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I98e31278591b3022c4ab2f635f7c830d9b4544e6\n""}, {'number': 4, 'created': '2021-06-16 13:03:36.000000000', 'files': ['releasenotes/notes/drop-fedora-d4df1af521d28163.yaml', 'metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/7468d28bf9119656c0e04051ace483f30ba2cf48', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I98e31278591b3022c4ab2f635f7c830d9b4544e6\n""}]",0,796373,7468d28bf9119656c0e04051ace483f30ba2cf48,14,3,4,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I98e31278591b3022c4ab2f635f7c830d9b4544e6
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/73/796373/3 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-d4df1af521d28163.yaml']",2,dd950fd9db771ff29f3ffa9fd507c9daa2747bba,drop-fedora,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-oslo~master~Id2e98924bf27efa0fae98519b9b17940644e95d7,openstack/puppet-oslo,master,Id2e98924bf27efa0fae98519b9b17940644e95d7,Get rid of the $pyvers variable,MERGED,2021-05-21 10:13:40.000000000,2021-06-17 12:07:43.000000000,2021-06-17 12:07:43.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-21 10:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/0edadf0717708bb8d4466ab157655427bb0581a6', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: Id2e98924bf27efa0fae98519b9b17940644e95d7\n""}, {'number': 2, 'created': '2021-05-27 12:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/c4a5f43674590d8af3fadc0e151ddfec76945a36', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: Id2e98924bf27efa0fae98519b9b17940644e95d7\n""}, {'number': 3, 'created': '2021-06-09 14:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/5c6c908d099bb5c32e32baf0e2a1c020ca513400', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nThis patch also removes python-sqlite2 from Debian since this package\ndoesn't exist anymore in Bullseye.\n\nChange-Id: Id2e98924bf27efa0fae98519b9b17940644e95d7\n""}, {'number': 4, 'created': '2021-06-10 07:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/145d0799cf145c87d4f0080605711cc2bd729792', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nThis patch also removes python-sqlite2 from Debian since this package\ndoesn't exist anymore in Bullseye.\n\nChange-Id: Id2e98924bf27efa0fae98519b9b17940644e95d7\n""}, {'number': 5, 'created': '2021-06-14 07:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/aafd4ec0e7a6aa188d53b0df5c2342a2495e641f', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: Id2e98924bf27efa0fae98519b9b17940644e95d7\n""}, {'number': 6, 'created': '2021-06-15 08:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/a4a7aa0cfd4b6525a4c1713056d4ccc2a8bc833e', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: Id2e98924bf27efa0fae98519b9b17940644e95d7\n""}, {'number': 7, 'created': '2021-06-16 13:02:22.000000000', 'files': ['spec/defines/oslo_db_spec.rb', 'spec/defines/oslo_coordination_spec.rb', 'manifests/params.pp', 'spec/defines/oslo_cache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/3a51feed897f8048916ce59327ac490294fc0875', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: Id2e98924bf27efa0fae98519b9b17940644e95d7\n""}]",4,792569,3a51feed897f8048916ce59327ac490294fc0875,36,3,7,6476,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: Id2e98924bf27efa0fae98519b9b17940644e95d7
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/69/792569/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/oslo_db_spec.rb', 'manifests/params.pp', 'spec/defines/oslo_cache_spec.rb']",3,0edadf0717708bb8d4466ab157655427bb0581a6,pyvers-removal," { :pylibmc_package_name => 'python3-pylibmc', :python_memcache_package_name => 'python3-memcached' }"," if facts[:operatingsystem] == 'Fedora' { :pylibmc_package_name => 'python3-pylibmc', :python_memcache_package_name => 'python3-memcached' } else if facts[:operatingsystemmajrelease] > '7' { :pylibmc_package_name => 'python3-pylibmc', :python_memcache_package_name => 'python3-memcached' } else { :pylibmc_package_name => 'python-pylibmc', :python_memcache_package_name => 'python-memcached' } end end",13,40
openstack%2Fansible-collections-openstack~master~Ia42c602ad7ea01dcb27d77370cc2617ec51aaaf3,openstack/ansible-collections-openstack,master,Ia42c602ad7ea01dcb27d77370cc2617ec51aaaf3,Switch KeystoneFederationProtocolInfo module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-17 12:05:32.000000000,2021-06-17 12:05:32.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3228545d1eed66bf2b7d11824da6273ea6a8f155', 'message': 'Switch KeystoneFederationProtocolInfo module to OpenStackModule\n\nSwitch keystone federation_protocol_info module to the general OpenStackModule.\n\nChange-Id: Ia42c602ad7ea01dcb27d77370cc2617ec51aaaf3\n'}, {'number': 2, 'created': '2021-05-21 07:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8fd3025e239e9a2bd22b5675c8e6d8c96005bd3f', 'message': 'Switch KeystoneFederationProtocolInfo module to OpenStackModule\n\nSwitch keystone federation_protocol_info module to the general OpenStackModule.\n\nChange-Id: Ia42c602ad7ea01dcb27d77370cc2617ec51aaaf3\n'}, {'number': 3, 'created': '2021-05-21 12:07:33.000000000', 'files': ['plugins/modules/keystone_federation_protocol_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2120814356ecb3de7edea1023182224f1825ef47', 'message': 'Switch KeystoneFederationProtocolInfo module to OpenStackModule\n\nSwitch keystone federation_protocol_info module to the general OpenStackModule.\n\nChange-Id: Ia42c602ad7ea01dcb27d77370cc2617ec51aaaf3\n'}]",0,792426,2120814356ecb3de7edea1023182224f1825ef47,10,2,3,27900,,,0,"Switch KeystoneFederationProtocolInfo module to OpenStackModule

Switch keystone federation_protocol_info module to the general OpenStackModule.

Change-Id: Ia42c602ad7ea01dcb27d77370cc2617ec51aaaf3
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/26/792426/3 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/keystone_federation_protocol_info.py'],1,3228545d1eed66bf2b7d11824da6273ea6a8f155,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class IdentityFederationProtocolInfoModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( def normalize_protocol(self, protocol): """""" Normalizes the protocol definitions so that the outputs are consistent with the parameters - ""name"" (parameter) == ""id"" (SDK) """""" if protocol is None: return None _protocol = protocol.to_dict() _protocol['name'] = protocol['id'] # As of 0.44 SDK doesn't copy the URI parameters over, so let's add them _protocol['idp_id'] = protocol['idp_id'] return _protocol def run(self): """""" Module entry point """""" name = self.params.get('name') idp = self.params.get('idp_id') if name: protocol = self.conn.identity.get_federation_protocol(idp, name) protocol = self.normalize_protocol(protocol) self.exit_json(changed=False, protocols=[protocol]) else: protocols = list(map(self.normalize_protocol, self.conn.identity.federation_protocols(idp))) self.exit_json(changed=False, protocols=protocols) def main(): module = IdentityFederationProtocolInfoModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_full_argument_spec from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_module_kwargs from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_cloud_from_module def normalize_protocol(protocol): """""" Normalizes the protocol definitions so that the outputs are consistent with the parameters - ""name"" (parameter) == ""id"" (SDK) """""" if protocol is None: return None _protocol = protocol.to_dict() _protocol['name'] = protocol['id'] # As of 0.44 SDK doesn't copy the URI parameters over, so let's add them _protocol['idp_id'] = protocol['idp_id'] return _protocol def main(): """""" Module entry point """""" argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs( ) module = AnsibleModule( argument_spec, supports_check_mode=True, **module_kwargs name = module.params.get('name') idp = module.params.get('idp_id') sdk, cloud = openstack_cloud_from_module(module, min_version=""0.44"") if name: try: protocol = cloud.identity.get_federation_protocol(idp, name) protocol = normalize_protocol(protocol) except sdk.exceptions.ResourceNotFound: module.fail_json(msg='Failed to find protocol') except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to get protocol: {0}'.format(str(ex))) module.exit_json(changed=False, protocols=[protocol]) else: try: protocols = list(map(normalize_protocol, cloud.identity.federation_protocols(idp))) except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to list protocols: {0}'.format(str(ex))) module.exit_json(changed=False, protocols=protocols)",36,49
openstack%2Fansible-collections-openstack~master~If50b83aaae9eb684624a5fe34415c3b67d10b65f,openstack/ansible-collections-openstack,master,If50b83aaae9eb684624a5fe34415c3b67d10b65f,Switch federation_mapping module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-17 11:59:37.000000000,2021-06-17 11:59:37.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bc6894bc489456d23bd10fd83edb7d9cd59b14eb', 'message': 'Switch federation_mapping module to OpenStackModule\n\nChange-Id: If50b83aaae9eb684624a5fe34415c3b67d10b65f\n'}, {'number': 2, 'created': '2021-05-21 07:42:30.000000000', 'files': ['plugins/modules/federation_mapping.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0c6752215b91989e1a7aafd20d43ab12c4da45c4', 'message': 'Switch federation_mapping module to OpenStackModule\n\nChange-Id: If50b83aaae9eb684624a5fe34415c3b67d10b65f\n'}]",0,792439,0c6752215b91989e1a7aafd20d43ab12c4da45c4,8,2,2,27900,,,0,"Switch federation_mapping module to OpenStackModule

Change-Id: If50b83aaae9eb684624a5fe34415c3b67d10b65f
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/39/792439/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/federation_mapping.py'],1,bc6894bc489456d23bd10fd83edb7d9cd59b14eb,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class IdentityFederationMappingModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( required_if=[('state', 'present', ['rules'])], supports_check_mode=True def normalize_mapping(self, mapping): """""" Normalizes the mapping definitions so that the outputs are consistent with the parameters - ""name"" (parameter) == ""id"" (SDK) """""" if mapping is None: return None _mapping = mapping.to_dict() _mapping['name'] = mapping['id'] return _mapping def create_mapping(self, name): """""" Attempt to create a Mapping returns: A tuple containing the ""Changed"" state and the created mapping """""" if self.ansible.check_mode: return (True, None) rules = self.params.get('rules') mapping = self.conn.identity.create_mapping(id=name, rules=rules) return (True, mapping) def delete_mapping(self, mapping): """""" Attempt to delete a Mapping returns: the ""Changed"" state """""" if mapping is None: return False if self.ansible.check_mode: return True self.conn.identity.delete_mapping(mapping) return True def update_mapping(self, mapping): """""" Attempt to delete a Mapping returns: The ""Changed"" state and the the new mapping """""" current_rules = mapping.rules new_rules = self.params.get('rules') # Nothing to do if current_rules == new_rules: return (False, mapping) if self.ansible.check_mode: return (True, None) new_mapping = self.conn.identity.update_mapping(mapping, rules=new_rules) return (True, new_mapping) def run(self): """""" Module entry point """""" name = self.params.get('name') state = self.params.get('state') changed = False mapping = self.conn.identity.find_mapping(name) if state == 'absent': if mapping is not None: changed = self.delete_mapping(mapping) self.exit_json(changed=changed) # state == 'present' else: if len(self.params.get('rules')) < 1: self.fail_json(msg='At least one rule must be passed') if mapping is None: (changed, mapping) = self.create_mapping(name) mapping = self.normalize_mapping(mapping) self.exit_json(changed=changed, mapping=mapping) else: (changed, new_mapping) = self.update_mapping(mapping) new_mapping = self.normalize_mapping(new_mapping) self.exit_json(mapping=new_mapping, changed=changed) def main(): module = IdentityFederationMappingModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_full_argument_spec from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_module_kwargs from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_cloud_from_module def normalize_mapping(mapping): """""" Normalizes the mapping definitions so that the outputs are consistent with the parameters - ""name"" (parameter) == ""id"" (SDK) """""" if mapping is None: return None _mapping = mapping.to_dict() _mapping['name'] = mapping['id'] return _mapping def create_mapping(module, sdk, cloud, name): """""" Attempt to create a Mapping returns: A tuple containing the ""Changed"" state and the created mapping """""" if module.check_mode: return (True, None) rules = module.params.get('rules') try: mapping = cloud.identity.create_mapping(id=name, rules=rules) except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to create mapping: {0}'.format(str(ex))) return (True, mapping) def delete_mapping(module, sdk, cloud, mapping): """""" Attempt to delete a Mapping returns: the ""Changed"" state """""" if mapping is None: return False if module.check_mode: return True try: cloud.identity.delete_mapping(mapping) except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to delete mapping: {0}'.format(str(ex))) return True def update_mapping(module, sdk, cloud, mapping): """""" Attempt to delete a Mapping returns: The ""Changed"" state and the the new mapping """""" current_rules = mapping.rules new_rules = module.params.get('rules') # Nothing to do if current_rules == new_rules: return (False, mapping) if module.check_mode: return (True, None) try: new_mapping = cloud.identity.update_mapping(mapping, rules=new_rules) except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to update mapping: {0}'.format(str(ex))) return (True, new_mapping) def main(): """""" Module entry point """""" argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs( required_if=[('state', 'present', ['rules'])] ) module = AnsibleModule( argument_spec, supports_check_mode=True, **module_kwargs name = module.params.get('name') state = module.params.get('state') changed = False sdk, cloud = openstack_cloud_from_module(module, min_version=""0.44"") try: mapping = cloud.identity.get_mapping(name) except sdk.exceptions.ResourceNotFound: mapping = None except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to fetch mapping: {0}'.format(str(ex))) if state == 'absent': if mapping is not None: changed = delete_mapping(module, sdk, cloud, mapping) module.exit_json(changed=changed) # state == 'present' else: if len(module.params.get('rules')) < 1: module.fail_json(msg='At least one rule must be passed') if mapping is None: (changed, mapping) = create_mapping(module, sdk, cloud, name) mapping = normalize_mapping(mapping) module.exit_json(changed=changed, mapping=mapping) else: (changed, new_mapping) = update_mapping(module, sdk, cloud, mapping) new_mapping = normalize_mapping(new_mapping) module.exit_json(mapping=new_mapping, changed=changed)",99,120
openstack%2Freleases~master~I60a41cf6097e5f8bbc008bc61f653b6a3abdf361,openstack/releases,master,I60a41cf6097e5f8bbc008bc61f653b6a3abdf361,ovsdbapp 1.11.0,MERGED,2021-06-15 13:38:13.000000000,2021-06-17 11:56:07.000000000,2021-06-17 11:56:07.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 5756}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-15 13:38:13.000000000', 'files': ['deliverables/xena/ovsdbapp.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1cb3c1e8ac32d8bc7a270fc14418ad2a7d027d50', 'message': 'ovsdbapp 1.11.0\n\nSupport the new OVN ""allow-stateless"" ACL verb.\n\nChange-Id: I60a41cf6097e5f8bbc008bc61f653b6a3abdf361\n'}]",0,796473,1cb3c1e8ac32d8bc7a270fc14418ad2a7d027d50,9,6,1,9656,,,0,"ovsdbapp 1.11.0

Support the new OVN ""allow-stateless"" ACL verb.

Change-Id: I60a41cf6097e5f8bbc008bc61f653b6a3abdf361
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/796473/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/ovsdbapp.yaml'],1,1cb3c1e8ac32d8bc7a270fc14418ad2a7d027d50,, - version: 1.11.0 projects: - repo: openstack/ovsdbapp hash: 5d24facd36ca06b1f5f793c834da2efa4fa3a508,,4,0
openstack%2Freleases~master~I5706179cc77d3c8dce98d4ccb43d45df81de6687,openstack/releases,master,I5706179cc77d3c8dce98d4ccb43d45df81de6687,Push validations-libs 1.2.0 version,MERGED,2021-06-14 08:20:47.000000000,2021-06-17 11:56:02.000000000,2021-06-17 11:56:02.000000000,"[{'_account_id': 308}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-14 08:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/56425f196aa7dd526acb688b279a62ab065a9958', 'message': 'Push validations-libs 1.1.1 min version\n\nChange-Id: I5706179cc77d3c8dce98d4ccb43d45df81de6687\n'}, {'number': 2, 'created': '2021-06-14 08:43:59.000000000', 'files': ['deliverables/_independent/validations-libs.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/635fca4fb47d021120d4c53490766d095208cd19', 'message': 'Push validations-libs 1.2.0 version\n\nBumping to 1.2.0 directly in order to be in line with \nvalidations-common release.\n\nChange-Id: I5706179cc77d3c8dce98d4ccb43d45df81de6687\n'}]",1,796242,635fca4fb47d021120d4c53490766d095208cd19,20,8,2,16515,,,0,"Push validations-libs 1.2.0 version

Bumping to 1.2.0 directly in order to be in line with 
validations-common release.

Change-Id: I5706179cc77d3c8dce98d4ccb43d45df81de6687
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/796242/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/validations-libs.yaml'],1,56425f196aa7dd526acb688b279a62ab065a9958,vf/1.2.0, - projects: - hash: 4d1df7b0e75260c96164fd5a21347f5ce18c7a8b repo: openstack/validations-libs version: 1.1.1,,4,0
openstack%2Freleases~master~Ia047674e0d31ec33f35bce10069dddf1abfa3ae3,openstack/releases,master,Ia047674e0d31ec33f35bce10069dddf1abfa3ae3,Release rally 3.3.0,MERGED,2021-06-16 12:03:40.000000000,2021-06-17 11:41:54.000000000,2021-06-17 11:41:54.000000000,"[{'_account_id': 9545}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-16 12:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7b85fb67667cf0fd78fe12ed0061d6db747ee2ea', 'message': 'Release rally 3.3.0\n\nChange-Id: Ia047674e0d31ec33f35bce10069dddf1abfa3ae3\n'}, {'number': 2, 'created': '2021-06-16 16:08:08.000000000', 'files': ['deliverables/_independent/rally.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/897c1afb191057e10a6df443bd5d754cf1ccb2a2', 'message': 'Release rally 3.3.0\n\nChange-Id: Ia047674e0d31ec33f35bce10069dddf1abfa3ae3\n'}]",0,796634,897c1afb191057e10a6df443bd5d754cf1ccb2a2,12,4,2,9545,,,0,"Release rally 3.3.0

Change-Id: Ia047674e0d31ec33f35bce10069dddf1abfa3ae3
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/796634/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/rally.yaml'],1,7b85fb67667cf0fd78fe12ed0061d6db747ee2ea,rally_3.3.0, - version: 3.3.0 projects: - repo: openstack/rally hash: e67de57707e7f2a0300ef37c17767f8231b76aab,,4,0
openstack%2Fneutron~master~Iea2533f4c52935b4ecda9ec22fb619c131febfa1,openstack/neutron,master,Iea2533f4c52935b4ecda9ec22fb619c131febfa1,Make default hypervisor hostname compatible with libvirt,MERGED,2021-04-30 06:18:57.000000000,2021-06-17 11:35:06.000000000,2021-06-17 11:33:26.000000000,"[{'_account_id': 5948}, {'_account_id': 9816}, {'_account_id': 9845}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-30 06:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8af809bdd00233b5f18dafa13f604957aeefeb5', 'message': 'Make default hypervisor hostname compatible with libvirt\n\nThis change ensures that neutron relies on the same logic as libvirt\nto generate hypervisor hostname, to fix imcompatible hostname format\nused in Nova and Neutron for resource provider name in some\nconfiguration pattens like the one generated by TripleO.\n\nChange-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1\nCloses-Bug: #1926693\n'}, {'number': 2, 'created': '2021-04-30 06:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/176b356b565e5e0227a17348ce04d6ab25f510e1', 'message': 'Make default hypervisor hostname compatible with libvirt\n\nThis change ensures that neutron relies on the same logic as libvirt\nto generate hypervisor hostname, to fix imcompatible hostname format\nused in Nova and Neutron for resource provider name in some\nconfiguration pattens like the one generated by TripleO.\n\nChange-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1\nCloses-Bug: #1926693\n'}, {'number': 3, 'created': '2021-04-30 06:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d6e9b0dafad02de1a9c222108253747e60f42ac', 'message': 'Make default hypervisor hostname compatible with libvirt\n\nThis change ensures that neutron relies on the same logic as libvirt\nto generate hypervisor hostname, to fix imcompatible hostname format\nused in Nova and Neutron for resource provider name in some\nconfiguration pattens like the one generated by TripleO.\n\nChange-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1\nCloses-Bug: #1926693\n'}, {'number': 4, 'created': '2021-04-30 07:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9077697bbd24aa1278b2318c0c261cfc65a23a86', 'message': 'Make default hypervisor hostname compatible with libvirt\n\nThis change ensures that neutron relies on the same logic as libvirt\nto generate hypervisor hostname, to fix imcompatible hostname format\nused in Nova and Neutron for resource provider name in some\nconfiguration pattens like the one generated by TripleO.\n\nCloses-Bug: #1926693\nChange-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1\n'}, {'number': 5, 'created': '2021-04-30 10:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e92ca295069fcd7d2d80a6c102d89c814faddb1', 'message': 'Make default hypervisor hostname compatible with libvirt\n\nThis change ensures that neutron relies on the same logic as libvirt\nto generate hypervisor hostname, to fix imcompatible hostname format\nused in Nova and Neutron for resource provider name in some\nconfiguration pattens like the one generated by TripleO.\n\nCloses-Bug: #1926693\nChange-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1\n'}, {'number': 6, 'created': '2021-06-14 23:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4dabe6678548f121ef8e86e45045c4199bdd79d', 'message': 'Make default hypervisor hostname compatible with libvirt\n\nThis change ensures that neutron relies on the same logic as libvirt\nto generate hypervisor hostname, to fix imcompatible hostname format\nused in Nova and Neutron for resource provider name in some\nconfiguration pattens like the one generated by TripleO.\n\nCloses-Bug: #1926693\nChange-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1\n'}, {'number': 7, 'created': '2021-06-15 00:39:47.000000000', 'files': ['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'releasenotes/notes/bug-1926693-55406915708d59ec.yaml', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/577217c52d677ba35ca78b87c06302d506f66ff9', 'message': 'Make default hypervisor hostname compatible with libvirt\n\nThis change ensures that neutron relies on the same logic as libvirt\nto generate hypervisor hostname, to fix imcompatible hostname format\nused in Nova and Neutron for resource provider name in some\nconfiguration pattens like the one generated by TripleO.\n\nCloses-Bug: #1926693\nChange-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1\n'}]",17,788893,577217c52d677ba35ca78b87c06302d506f66ff9,66,8,7,9816,,,0,"Make default hypervisor hostname compatible with libvirt

This change ensures that neutron relies on the same logic as libvirt
to generate hypervisor hostname, to fix imcompatible hostname format
used in Nova and Neutron for resource provider name in some
configuration pattens like the one generated by TripleO.

Closes-Bug: #1926693
Change-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/788893/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py']",2,d8af809bdd00233b5f18dafa13f604957aeefeb5,bug/1926693,"def get_hypervisor_hostname(): """"""Get hypervisor hostname This logic is implemented following the logic of virGetHostnameImpl in libvirt"""""" hypervisor_hostname = socket.gethostname() if hypervisor_hostname == 'localhost' or '.' in hypervisor_hostname: return hypervisor_hostname try: addrinfo = socket.getaddrinfo(host=hypervisor_hostname, port=None, flags=socket.AI_CANONNAME) # getaddrinfo returns a list of 5-touples with; # (family, type, proto, canonname, sockaddr) if addrinfo and addrinfo[0][3] and addrinfo[0][3] != 'localhost': return addrinfo[0][3] except OSError: pass return hypervisor_hostname default_hypervisor = get_hypervisor_hostname()", default_hypervisor = socket.gethostname(),101,5
openstack%2Fkayobe~stable%2Fvictoria~I6c79d6f4df9be192e20db413b72f0b51e4d8d501,openstack/kayobe,stable/victoria,I6c79d6f4df9be192e20db413b72f0b51e4d8d501,Update seed VM image to CentOS 8.4,MERGED,2021-06-10 14:16:29.000000000,2021-06-17 11:28:48.000000000,2021-06-17 11:26:26.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-10 14:16:29.000000000', 'files': ['ansible/group_vars/all/seed-vm', 'etc/kayobe/seed-vm.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2dad64bcd48dd58cb6c70cfc0654f7fcec5d9ede', 'message': 'Update seed VM image to CentOS 8.4\n\nChange-Id: I6c79d6f4df9be192e20db413b72f0b51e4d8d501\n'}]",0,795787,2dad64bcd48dd58cb6c70cfc0654f7fcec5d9ede,9,3,1,15197,,,0,"Update seed VM image to CentOS 8.4

Change-Id: I6c79d6f4df9be192e20db413b72f0b51e4d8d501
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/87/795787/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/seed-vm', 'etc/kayobe/seed-vm.yml']",2,2dad64bcd48dd58cb6c70cfc0654f7fcec5d9ede,centos84-seed-vm,"# ""https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.4.2105-20210603.0.x86_64.qcow2"".","# ""https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.3.2011-20201204.2.x86_64.qcow2"".",2,2
openstack%2Fkayobe~stable%2Fvictoria~I9928e5912e6770bdcc1d5d0884d2f101c16ee6a9,openstack/kayobe,stable/victoria,I9928e5912e6770bdcc1d5d0884d2f101c16ee6a9,docs: improve automated seed development info,MERGED,2021-06-10 14:00:29.000000000,2021-06-17 11:27:41.000000000,2021-06-17 11:26:15.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-10 14:00:29.000000000', 'files': ['doc/source/contributor/automated.rst', 'dev/tenks-deploy-config-overcloud.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0746885bdaad11a86e27af97ae229ebd53795b14', 'message': ""docs: improve automated seed development info\n\n* add 'bridge_type: linuxbridge' to tenks configuration to avoid\n  dependency on OVS\n* extend seed development environment testing to include overcloud\n  provisioning and deployment\n* remove seed hypervisor and seed VM environments. These are very\n  stale, and largely replaced by a-universe-from-nothing. Add a link to\n  that workshop on the same page\n\nChange-Id: I9928e5912e6770bdcc1d5d0884d2f101c16ee6a9\n(cherry picked from commit d2e3f6f1aec2c1ed301144ed26872394799346fb)\n""}]",0,795783,0746885bdaad11a86e27af97ae229ebd53795b14,8,3,1,15197,,,0,"docs: improve automated seed development info

* add 'bridge_type: linuxbridge' to tenks configuration to avoid
  dependency on OVS
* extend seed development environment testing to include overcloud
  provisioning and deployment
* remove seed hypervisor and seed VM environments. These are very
  stale, and largely replaced by a-universe-from-nothing. Add a link to
  that workshop on the same page

Change-Id: I9928e5912e6770bdcc1d5d0884d2f101c16ee6a9
(cherry picked from commit d2e3f6f1aec2c1ed301144ed26872394799346fb)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/83/795783/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/automated.rst', 'dev/tenks-deploy-config-overcloud.yml']",2,0746885bdaad11a86e27af97ae229ebd53795b14,,bridge_type: linuxbridge ,,24,112
openstack%2Fkayobe-config-dev~stable%2Ftrain~I17acbf9fc2b5ef345bd637c924573d894d6f4884,openstack/kayobe-config-dev,stable/train,I17acbf9fc2b5ef345bd637c924573d894d6f4884,Synchronise with latest kayobe for Train,MERGED,2021-06-09 15:41:32.000000000,2021-06-17 11:26:30.000000000,2021-06-17 11:26:30.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-09 15:41:32.000000000', 'files': ['etc/kayobe/kolla.yml', 'etc/kayobe/monasca.yml', 'etc/kayobe/ipa.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/9d3bbef893730ff7d65a325ed30986f01df78bb0', 'message': 'Synchronise with latest kayobe for Train\n\nSynchronised with kayobe at cfad3bed429b32e4dc941e573b00c22288686706.\n\nChange-Id: I17acbf9fc2b5ef345bd637c924573d894d6f4884\n'}]",0,795578,9d3bbef893730ff7d65a325ed30986f01df78bb0,7,3,1,15197,,,0,"Synchronise with latest kayobe for Train

Synchronised with kayobe at cfad3bed429b32e4dc941e573b00c22288686706.

Change-Id: I17acbf9fc2b5ef345bd637c924573d894d6f4884
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/78/795578/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/kolla.yml', 'etc/kayobe/monasca.yml', 'etc/kayobe/ipa.yml']",3,9d3bbef893730ff7d65a325ed30986f01df78bb0,,# Upper constraints file for installing packages in the virtual environment # used for building IPA images. Default is {{ pip_upper_constraints_file }}. #ipa_build_upper_constraints_file: ,,110,4
openstack%2Fkayobe~stable%2Fvictoria~I4b4a8d1c848bb992f65860b058cb9fd9d77613d0,openstack/kayobe,stable/victoria,I4b4a8d1c848bb992f65860b058cb9fd9d77613d0,docs: add variable for current branch,MERGED,2021-06-09 18:40:55.000000000,2021-06-17 11:26:18.000000000,2021-06-17 11:26:18.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-09 18:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4895cd6d85248da5a8309180355d3548569b8fd6', 'message': 'docs: add variable for current branch\n\nThis allows us to include the correct branch when cloning repositories\nin documentation.\n\nMethod adapted from OpenStack Ansible documentation. A backslash is\nadded on purpose before repository URLs to bypass highlighting which\nmakes them less readable (dark text on dark background).\n\nhttps://opendev.org/openstack/openstack-ansible/src/branch/master/doc/source/conf.py\n\nStory: 2008851\nTask: 42366\nChange-Id: I4b4a8d1c848bb992f65860b058cb9fd9d77613d0\n(cherry picked from commit c9cc6f4064ab2f1edeb15f86bd9db5d65e88c4df)\n(cherry picked from commit 30563e526d99507931d753383c589de51e5055e7)\n'}, {'number': 2, 'created': '2021-06-09 18:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/131800debc53df46482ea5276770c97ded4f5608', 'message': 'docs: add variable for current branch\n\nThis allows us to include the correct branch when cloning repositories\nin documentation.\n\nMethod adapted from OpenStack Ansible documentation. A backslash is\nadded on purpose before repository URLs to bypass highlighting which\nmakes them less readable (dark text on dark background).\n\nhttps://opendev.org/openstack/openstack-ansible/src/branch/master/doc/source/conf.py\n\nStory: 2008851\nTask: 42366\nChange-Id: I4b4a8d1c848bb992f65860b058cb9fd9d77613d0\n(cherry picked from commit c9cc6f4064ab2f1edeb15f86bd9db5d65e88c4df)\n(cherry picked from commit 30563e526d99507931d753383c589de51e5055e7)\n'}, {'number': 3, 'created': '2021-06-10 14:00:29.000000000', 'files': ['doc/source/contributor/testing.rst', 'doc/source/contributor/automated.rst', 'doc/source/contributor/vagrant.rst', 'doc/source/conf.py', 'doc/source/configuration/scenarios/all-in-one/overcloud.rst', 'doc/source/installation.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d01a6ce06a144fbc9993f928199317af30ec1ff2', 'message': 'docs: add variable for current branch\n\nThis allows us to include the correct branch when cloning repositories\nin documentation.\n\nMethod adapted from OpenStack Ansible documentation. A backslash is\nadded on purpose before repository URLs to bypass highlighting which\nmakes them less readable (dark text on dark background).\n\nhttps://opendev.org/openstack/openstack-ansible/src/branch/master/doc/source/conf.py\n\nStory: 2008851\nTask: 42366\nChange-Id: I4b4a8d1c848bb992f65860b058cb9fd9d77613d0\n(cherry picked from commit c9cc6f4064ab2f1edeb15f86bd9db5d65e88c4df)\n'}]",0,795615,d01a6ce06a144fbc9993f928199317af30ec1ff2,13,4,3,14826,,,0,"docs: add variable for current branch

This allows us to include the correct branch when cloning repositories
in documentation.

Method adapted from OpenStack Ansible documentation. A backslash is
added on purpose before repository URLs to bypass highlighting which
makes them less readable (dark text on dark background).

https://opendev.org/openstack/openstack-ansible/src/branch/master/doc/source/conf.py

Story: 2008851
Task: 42366
Change-Id: I4b4a8d1c848bb992f65860b058cb9fd9d77613d0
(cherry picked from commit c9cc6f4064ab2f1edeb15f86bd9db5d65e88c4df)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/15/795615/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testing.rst', 'doc/source/contributor/automated.rst', 'doc/source/contributor/vagrant.rst', 'doc/source/conf.py', 'doc/source/configuration/scenarios/all-in-one/overcloud.rst', 'doc/source/installation.rst']",6,4895cd6d85248da5a8309180355d3548569b8fd6,,"Next, obtain the Kayobe source code. For example: .. parsed-literal:: $ cd <base_path>/src $ git clone \https://opendev.org/openstack/kayobe.git -b |current_release_git_branch_name|","Next, obtain the Kayobe source code. For example:: $ cd <base_path>/src $ git clone https://opendev.org/openstack/kayobe.git",65,21
openstack%2Fansible-collections-openstack~master~Ia0abcaea7694396a6c7b7f8fd01a3b29f27c7729,openstack/ansible-collections-openstack,master,Ia0abcaea7694396a6c7b7f8fd01a3b29f27c7729,Switch federation_mapping_info module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-17 11:20:33.000000000,2021-06-17 11:20:33.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0f908745927e4675d5c7c0f40c19f220522a35ff', 'message': 'Switch federation_mapping_info module to OpenStackModule\n\nChange-Id: Ia0abcaea7694396a6c7b7f8fd01a3b29f27c7729\n'}, {'number': 2, 'created': '2021-05-21 07:40:56.000000000', 'files': ['plugins/modules/federation_mapping_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a6f11775842bd1c2ea615d3d8310d9543e07f614', 'message': 'Switch federation_mapping_info module to OpenStackModule\n\nChange-Id: Ia0abcaea7694396a6c7b7f8fd01a3b29f27c7729\n'}]",0,792438,a6f11775842bd1c2ea615d3d8310d9543e07f614,8,2,2,27900,,,0,"Switch federation_mapping_info module to OpenStackModule

Change-Id: Ia0abcaea7694396a6c7b7f8fd01a3b29f27c7729
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/38/792438/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/federation_mapping_info.py'],1,0f908745927e4675d5c7c0f40c19f220522a35ff,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class IdentityFederationMappingInfoModule(OpenStackModule): argument_spec = dict( name=dict(aliases=['id']), ) module_kwargs = dict( supports_check_mode=True ) module_min_sdk_version = ""0.44"" def normalize_mapping(self, mapping): """""" Normalizes the mapping definitions so that the outputs are consistent with the parameters - ""name"" (parameter) == ""id"" (SDK) """""" if mapping is None: return None _mapping = mapping.to_dict() _mapping['name'] = mapping['id'] return _mapping def run(self): """""" Module entry point """""" name = self.params.get('name') if name: mapping = self.normalize_mapping( self.conn.identity.get_mapping(name)) self.exit_json(changed=False, mappings=[mapping]) else: mappings = list(map( self.normalize_mapping, self.conn.identity.mappings())) self.exit_json(changed=False, mappings=mappings) module = IdentityFederationMappingInfoModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_full_argument_spec from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_module_kwargs from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_cloud_from_module def normalize_mapping(mapping): """""" Normalizes the mapping definitions so that the outputs are consistent with the parameters - ""name"" (parameter) == ""id"" (SDK) """""" if mapping is None: return None _mapping = mapping.to_dict() _mapping['name'] = mapping['id'] return _mapping """""" Module entry point """""" argument_spec = openstack_full_argument_spec( name=dict(aliases=['id']), ) module_kwargs = openstack_module_kwargs( ) module = AnsibleModule( argument_spec, supports_check_mode=True, **module_kwargs ) name = module.params.get('name') sdk, cloud = openstack_cloud_from_module(module, min_version=""0.44"") if name: try: mapping = normalize_mapping(cloud.identity.get_mapping(name)) except sdk.exceptions.ResourceNotFound: module.fail_json(msg='Failed to find mapping') except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to get mapping: {0}'.format(str(ex))) module.exit_json(changed=False, mappings=[mapping]) else: try: mappings = list(map(normalize_mapping, cloud.identity.mappings())) except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to list mappings: {0}'.format(str(ex))) module.exit_json(changed=False, mappings=mappings)",37,47
openstack%2Fansible-collections-openstack~master~I0d406b527a2389d5299ab4e5f5c557737fe2ad99,openstack/ansible-collections-openstack,master,I0d406b527a2389d5299ab4e5f5c557737fe2ad99,Switch floating_ip module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-17 11:20:20.000000000,2021-06-17 11:20:20.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c2c04b977b9bb3b94d763d7d3f608b7e1c4c5bd1', 'message': 'Switch floating_ip module to OpenStackModule\n\nChange-Id: I0d406b527a2389d5299ab4e5f5c557737fe2ad99\n'}, {'number': 2, 'created': '2021-05-21 07:40:05.000000000', 'files': ['plugins/modules/floating_ip.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2dc2806c578029bce1b75317f62770b054c1e62c', 'message': 'Switch floating_ip module to OpenStackModule\n\nChange-Id: I0d406b527a2389d5299ab4e5f5c557737fe2ad99\n'}]",0,792437,2dc2806c578029bce1b75317f62770b054c1e62c,8,2,2,27900,,,0,"Switch floating_ip module to OpenStackModule

Change-Id: I0d406b527a2389d5299ab4e5f5c557737fe2ad99
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/37/792437/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/floating_ip.py'],1,c2c04b977b9bb3b94d763d7d3f608b7e1c4c5bd1,,"from ansible.module_utils.basic import remove_values from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class NetworkingFloatingIPModule(OpenStackModule): argument_spec = dict( module_kwargs = dict() def _get_floating_ip(self, floating_ip_address): f_ips = self.conn.search_floating_ips( filters={'floating_ip_address': floating_ip_address}) if not f_ips: return None return f_ips[0] def run(self): server_name_or_id = self.params['server'] state = self.params['state'] network = self.params['network'] floating_ip_address = self.params['floating_ip_address'] reuse = self.params['reuse'] fixed_address = self.params['fixed_address'] nat_destination = self.params['nat_destination'] wait = self.params['wait'] timeout = self.params['timeout'] purge = self.params['purge'] server = self.conn.get_server(server_name_or_id) if server is None: self.fail_json( public_ip = self.conn.get_server_public_ip(server) f_ip = self._get_floating_ip(public_ip) if public_ip else public_ip network_id = self.conn.get_network(name_or_id=network)[""id""] self.conn.get_network(nat_destination)['name'], []) self.fail_json( msg=""server {server} already has a "" ""floating-ip on a different "" ""nat-destination than '{nat_destination}'"" .format(server=server_name_or_id, nat_destination=nat_destination)) self.fail_json( msg=""server {server} already has a "" ""floating-ip on requested "" ""interface but it doesn't match "" ""requested network {network}: {fip}"" .format(server=server_name_or_id, network=network, fip=remove_values(f_ip, self.no_log_values))) self.exit_json(changed=False, floating_ip=f_ip) server = self.conn.add_ips_to_server( fip_address = self.conn.get_server_public_ip(server) f_ip = self._get_floating_ip(fip_address) self.exit_json(changed=True, floating_ip=f_ip) self.fail_json(msg=""either server or floating_ip_address are required"") server = self.conn.get_server(server_name_or_id) floating_ip_address = self.conn.get_server_public_ip(server) f_ip = self._get_floating_ip(floating_ip_address) self.exit_json(changed=False) self.conn.detach_ip_from_server( f_ip = self.conn.get_floating_ip(id=f_ip['id']) self.conn.delete_floating_ip(f_ip['id']) self.exit_json(changed=True) self.exit_json(changed=changed, floating_ip=f_ip) def main(): module = NetworkingFloatingIPModule() module()","from ansible.module_utils.basic import AnsibleModule, remove_values from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def _get_floating_ip(cloud, floating_ip_address): f_ips = cloud.search_floating_ips( filters={'floating_ip_address': floating_ip_address}) if not f_ips: return None return f_ips[0] def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, **module_kwargs) server_name_or_id = module.params['server'] state = module.params['state'] network = module.params['network'] floating_ip_address = module.params['floating_ip_address'] reuse = module.params['reuse'] fixed_address = module.params['fixed_address'] nat_destination = module.params['nat_destination'] wait = module.params['wait'] timeout = module.params['timeout'] purge = module.params['purge'] sdk, cloud = openstack_cloud_from_module(module) try: server = cloud.get_server(server_name_or_id) if server is None: module.fail_json( public_ip = cloud.get_server_public_ip(server) f_ip = _get_floating_ip(cloud, public_ip) if public_ip else public_ip network_id = cloud.get_network(name_or_id=network)[""id""] cloud.get_network(nat_destination)['name'], []) module.fail_json(msg=""server {server} already has a "" ""floating-ip on a different "" ""nat-destination than '{nat_destination}'"" .format(server=server_name_or_id, nat_destination=nat_destination)) module.fail_json(msg=""server {server} already has a "" ""floating-ip on requested "" ""interface but it doesn't match "" ""requested network {network}: {fip}"" .format(server=server_name_or_id, network=network, fip=remove_values(f_ip, module.no_log_values))) module.exit_json(changed=False, floating_ip=f_ip) server = cloud.add_ips_to_server( fip_address = cloud.get_server_public_ip(server) f_ip = _get_floating_ip(cloud, fip_address) module.exit_json(changed=True, floating_ip=f_ip) module.fail_json(msg=""either server or floating_ip_address are required"") server = cloud.get_server(server_name_or_id) floating_ip_address = cloud.get_server_public_ip(server) f_ip = _get_floating_ip(cloud, floating_ip_address) module.exit_json(changed=False) cloud.detach_ip_from_server( f_ip = cloud.get_floating_ip(id=f_ip['id']) cloud.delete_floating_ip(f_ip['id']) module.exit_json(changed=True) module.exit_json(changed=changed, floating_ip=f_ip) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e), extra_data=e.extra_data)",62,65
openstack%2Fansible-collections-openstack~master~I7d37e83da3bccd13ed4c7bd5f0dce5bfe9e205cb,openstack/ansible-collections-openstack,master,I7d37e83da3bccd13ed4c7bd5f0dce5bfe9e205cb,Switch federation_idp_info module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-17 11:20:09.000000000,2021-06-17 11:20:09.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/57bc6f8e7615924a50811335d32925475424fc23', 'message': 'Switch federation_idp_info module to OpenStackModule\n\nChange-Id: I7d37e83da3bccd13ed4c7bd5f0dce5bfe9e205cb\n'}, {'number': 2, 'created': '2021-05-21 07:42:41.000000000', 'files': ['plugins/modules/federation_idp_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/891fb6df5301bbbc2b773d8c218dfa61bbff5633', 'message': 'Switch federation_idp_info module to OpenStackModule\n\nChange-Id: I7d37e83da3bccd13ed4c7bd5f0dce5bfe9e205cb\n'}]",0,792440,891fb6df5301bbbc2b773d8c218dfa61bbff5633,8,2,2,27900,,,0,"Switch federation_idp_info module to OpenStackModule

Change-Id: I7d37e83da3bccd13ed4c7bd5f0dce5bfe9e205cb
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/40/792440/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/federation_idp_info.py'],1,57bc6f8e7615924a50811335d32925475424fc23,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class IdentityFederationIdpInfoModule(OpenStackModule): argument_spec = dict( name=dict(aliases=['id']), ) module_kwargs = dict( supports_check_mode=True ) def normalize_idp(self, idp): """""" Normalizes the IDP definitions so that the outputs are consistent with the parameters - ""enabled"" (parameter) == ""is_enabled"" (SDK) - ""name"" (parameter) == ""id"" (SDK) """""" if idp is None: return _idp = idp.to_dict() _idp['enabled'] = idp['is_enabled'] _idp['name'] = idp['id'] return _idp def run(self): """""" Module entry point """""" name = self.params.get('name') if name: idp = self.normalize_idp(self.conn.identity.get_identity_provider(name)) self.exit_json(changed=False, identity_providers=[idp]) else: providers = list(map(self.normalize_idp, self.conn.identity.identity_providers())) self.exit_json(changed=False, identity_providers=providers) module = IdentityFederationIdpInfoModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_full_argument_spec from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_module_kwargs from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_cloud_from_module def normalize_idp(idp): """""" Normalizes the IDP definitions so that the outputs are consistent with the parameters - ""enabled"" (parameter) == ""is_enabled"" (SDK) - ""name"" (parameter) == ""id"" (SDK) """""" if idp is None: return _idp = idp.to_dict() _idp['enabled'] = idp['is_enabled'] _idp['name'] = idp['id'] return _idp """""" Module entry point """""" argument_spec = openstack_full_argument_spec( name=dict(aliases=['id']), ) module_kwargs = openstack_module_kwargs( ) module = AnsibleModule( argument_spec, supports_check_mode=True, **module_kwargs ) name = module.params.get('name') sdk, cloud = openstack_cloud_from_module(module, min_version=""0.44"") if name: try: idp = normalize_idp(cloud.identity.get_identity_provider(name)) except sdk.exceptions.ResourceNotFound: module.fail_json(msg='Failed to find identity provider') except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to get identity provider: {0}'.format(str(ex))) module.exit_json(changed=False, identity_providers=[idp]) else: try: providers = list(map(normalize_idp, cloud.identity.identity_providers())) except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to list identity providers: {0}'.format(str(ex))) module.exit_json(changed=False, identity_providers=providers)",37,49
openstack%2Fansible-collections-openstack~master~I1d310e369ba2fde76478d9751bd8151fe20e2ba7,openstack/ansible-collections-openstack,master,I1d310e369ba2fde76478d9751bd8151fe20e2ba7,Switch port_info module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-17 11:20:05.000000000,2021-06-17 11:20:05.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e25791426f925b34ab493c02609449c67af48012', 'message': 'Switch port_info module to OpenStackModule\n\nSwitch networking port_info module to OpenStackModule. Drop part of\ndeprecated functionality to keep it simple.\n\nChange-Id: I1d310e369ba2fde76478d9751bd8151fe20e2ba7\n'}, {'number': 2, 'created': '2021-05-21 07:29:51.000000000', 'files': ['plugins/modules/port_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e695000daa1d1ca0036ac436eb4d66826f0e4cc4', 'message': 'Switch port_info module to OpenStackModule\n\nSwitch networking port_info module to OpenStackModule. Drop part of\ndeprecated functionality to keep it simple.\n\nChange-Id: I1d310e369ba2fde76478d9751bd8151fe20e2ba7\n'}]",0,792420,e695000daa1d1ca0036ac436eb4d66826f0e4cc4,8,2,2,27900,,,0,"Switch port_info module to OpenStackModule

Switch networking port_info module to OpenStackModule. Drop part of
deprecated functionality to keep it simple.

Change-Id: I1d310e369ba2fde76478d9751bd8151fe20e2ba7
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/20/792420/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/port_info.py'],1,e25791426f925b34ab493c02609449c67af48012,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class NetworkPortInfoModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( ) deprecated_names = ('openstack.cloud.port_facts') def run(self): port = self.params.get('port') filters = self.params.get('filters') ports = self.conn.search_ports(port, filters) self.exit_json(changed=False, openstack_ports=ports) def main(): module = NetworkPortInfoModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, **module_kwargs) is_old_facts = module._name == 'openstack.cloud.port_facts' if is_old_facts: module.deprecate(""The 'openstack.cloud.port_facts' module has been renamed to 'openstack.cloud.port_info', "" ""and the renamed one no longer returns ansible_facts"", version='2.0.0', collection_name='openstack.cloud') port = module.params.get('port') filters = module.params.get('filters') sdk, cloud = openstack_cloud_from_module(module) try: ports = cloud.search_ports(port, filters) if is_old_facts: module.exit_json(changed=False, ansible_facts=dict( openstack_ports=ports)) else: module.exit_json(changed=False, openstack_ports=ports) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",16,25
openstack%2Fansible-collections-openstack~master~I4a779113f7bf293b5f059d662a1a562d4192e537,openstack/ansible-collections-openstack,master,I4a779113f7bf293b5f059d662a1a562d4192e537,Add check_mode attribute to OpenstackModule,MERGED,2021-06-14 11:04:57.000000000,2021-06-17 11:20:02.000000000,2021-06-17 11:20:02.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-14 11:04:57.000000000', 'files': ['plugins/module_utils/openstack.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/eabe9451941f8351b20e5a1635dbcddfdd83757c', 'message': 'Add check_mode attribute to OpenstackModule\n\nChange-Id: I4a779113f7bf293b5f059d662a1a562d4192e537\n'}]",0,796261,eabe9451941f8351b20e5a1635dbcddfdd83757c,17,3,1,10969,,,0,"Add check_mode attribute to OpenstackModule

Change-Id: I4a779113f7bf293b5f059d662a1a562d4192e537
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/61/796261/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/module_utils/openstack.py'],1,eabe9451941f8351b20e5a1635dbcddfdd83757c,, self.check_mode = self.ansible.check_mode,,1,0
openstack%2Fcloudkitty-dashboard~master~I1cb8eadf6b649329e8faf5e63a32b2b017b01ebf,openstack/cloudkitty-dashboard,master,I1cb8eadf6b649329e8faf5e63a32b2b017b01ebf,Changed minversion in tox to 3.18.0,MERGED,2021-05-31 01:57:14.000000000,2021-06-17 11:16:03.000000000,2021-06-17 11:13:38.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-05-31 01:57:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/01ff88b2ddf94056aa844a6fb8ddec1479dac68f', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I1cb8eadf6b649329e8faf5e63a32b2b017b01ebf\n""}]",0,793711,01ff88b2ddf94056aa844a6fb8ddec1479dac68f,10,3,1,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I1cb8eadf6b649329e8faf5e63a32b2b017b01ebf
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/11/793711/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,01ff88b2ddf94056aa844a6fb8ddec1479dac68f,update-min-tox,minversion = 3.18.0allowlist_externals =,minversion = 2.0whitelist_externals =,2,2
openstack%2Ftacker~master~Ieb9a16bf6ee0822fb5cd1fb0e77f711415ff167c,openstack/tacker,master,Ieb9a16bf6ee0822fb5cd1fb0e77f711415ff167c,Enable tls-proxy support for test jobs,NEW,2021-06-17 07:47:55.000000000,2021-06-17 11:14:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-17 07:47:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/192413ae4ebad847581b8f5fd4494cd6cf9dc911', 'message': 'Enable tls-proxy support for test jobs\n\nChange-Id: Ieb9a16bf6ee0822fb5cd1fb0e77f711415ff167c\n'}]",0,796777,192413ae4ebad847581b8f5fd4494cd6cf9dc911,3,1,1,12404,,,0,"Enable tls-proxy support for test jobs

Change-Id: Ieb9a16bf6ee0822fb5cd1fb0e77f711415ff167c
",git fetch https://review.opendev.org/openstack/tacker refs/changes/77/796777/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,192413ae4ebad847581b8f5fd4494cd6cf9dc911,exame-tls-proxy,, tls-proxy: false tls-proxy: false tls-proxy: false tls-proxy: false,0,4
openstack%2Frequirements~master~I2d5a7dfff31fb0638a9e82948052a73a4db6fa85,openstack/requirements,master,I2d5a7dfff31fb0638a9e82948052a73a4db6fa85,Add barbican crosscheck job,MERGED,2021-06-16 12:44:08.000000000,2021-06-17 10:48:06.000000000,2021-06-17 10:46:05.000000000,"[{'_account_id': 7973}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 12:44:08.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/cross-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6ddfe19bc5b0745817e42a38f7b25adad00ed903', 'message': 'Add barbican crosscheck job\n\nThis should help avert some unpleasantness caused by, e.g.,\nchange I1b8df63bfbae.\n\nChange-Id: I2d5a7dfff31fb0638a9e82948052a73a4db6fa85\n'}]",0,796647,6ddfe19bc5b0745817e42a38f7b25adad00ed903,15,3,1,5314,,,0,"Add barbican crosscheck job

This should help avert some unpleasantness caused by, e.g.,
change I1b8df63bfbae.

Change-Id: I2d5a7dfff31fb0638a9e82948052a73a4db6fa85
",git fetch https://review.opendev.org/openstack/requirements refs/changes/47/796647/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/cross-jobs.yaml']",2,6ddfe19bc5b0745817e42a38f7b25adad00ed903,barbican-crosscheck, name: cross-barbican-py38 parent: requirements-cross-test description: Run cross-project tests on barbican with py38. required-projects: openstack/barbican vars: tox_envlist: py38 - job:,,9,0
openstack%2Fkolla-ansible~stable%2Fussuri~I859acbe4f84ccbdc53764574a58e6f0fab4094a3,openstack/kolla-ansible,stable/ussuri,I859acbe4f84ccbdc53764574a58e6f0fab4094a3,[CI] Support building source images with in-review changes,MERGED,2021-05-28 12:25:56.000000000,2021-06-17 10:42:34.000000000,2021-06-17 10:40:39.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-28 12:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/446674709fdf56149f7d2db51fe2329a5f5a3f78', 'message': '[CI] Support building source images with in-review changes\n\nThe Kolla-Ansible part.\n\nThis switches Kolla-Ansible to use the kolla-build-config role\ninstead of generating config locally.\n\nDepends-On: https://review.opendev.org/607159\nChange-Id: I859acbe4f84ccbdc53764574a58e6f0fab4094a3\n(cherry picked from commit 731d6b1acf0016a84ea318e5d625e71ef9fab2f4)\n'}, {'number': 2, 'created': '2021-05-28 12:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cd48df54b6f978d010ddade68f9183fe5d651a0d', 'message': '[CI] Support building source images with in-review changes\n\nThe Kolla-Ansible part.\n\nThis switches Kolla-Ansible to use the kolla-build-config role\ninstead of generating config locally.\n\nDepends-On: https://review.opendev.org/607159\nChange-Id: I859acbe4f84ccbdc53764574a58e6f0fab4094a3\n(cherry picked from commit 731d6b1acf0016a84ea318e5d625e71ef9fab2f4)\n'}, {'number': 3, 'created': '2021-05-28 12:51:53.000000000', 'files': ['tests/run.yml', 'tests/setup_gate.sh', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc7163df4bf95f18b583f9ecc89fe592af0a0f41', 'message': '[CI] Support building source images with in-review changes\n\nThe Kolla-Ansible part.\n\nThis switches Kolla-Ansible to use the kolla-build-config role\ninstead of generating config locally.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/793568\nChange-Id: I859acbe4f84ccbdc53764574a58e6f0fab4094a3\n(cherry picked from commit 731d6b1acf0016a84ea318e5d625e71ef9fab2f4)\n'}]",0,793564,fc7163df4bf95f18b583f9ecc89fe592af0a0f41,28,4,3,30491,,,0,"[CI] Support building source images with in-review changes

The Kolla-Ansible part.

This switches Kolla-Ansible to use the kolla-build-config role
instead of generating config locally.

Depends-On: https://review.opendev.org/c/openstack/kolla/+/793568
Change-Id: I859acbe4f84ccbdc53764574a58e6f0fab4094a3
(cherry picked from commit 731d6b1acf0016a84ea318e5d625e71ef9fab2f4)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/64/793564/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'tests/setup_gate.sh', 'zuul.d/base.yaml']",3,446674709fdf56149f7d2db51fe2329a5f5a3f78,depends-on-support-stable/ussuri, - openstack/kolla - zuul: openstack/kolla,,32,28
openstack%2Ftripleo-quickstart~master~Ia202884634a7f89321f23b34420feef91980b54b,openstack/tripleo-quickstart,master,Ia202884634a7f89321f23b34420feef91980b54b,[DNM] sync container packages testing,ABANDONED,2021-01-11 11:56:15.000000000,2021-06-17 10:37:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-11 11:56:15.000000000', 'files': ['config/general_config/featureset056.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/29cafa085a7217e87775e11941fee0c875bcce2b', 'message': '[DNM] sync container packages testing\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/767082\n\nChange-Id: Ia202884634a7f89321f23b34420feef91980b54b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,770113,29cafa085a7217e87775e11941fee0c875bcce2b,7,2,1,12393,,,0,"[DNM] sync container packages testing

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/767082

Change-Id: Ia202884634a7f89321f23b34420feef91980b54b
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/13/770113/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset056.yml'],1,29cafa085a7217e87775e11941fee0c875bcce2b,update_containers,sync_container_pkgs: true ,,2,0
openstack%2Ftripleo-quickstart-extras~master~I762848c287ee97258ea1ba0de80454202d8a59ab,openstack/tripleo-quickstart-extras,master,I762848c287ee97258ea1ba0de80454202d8a59ab,Sync pkgs from host to container in standalone upgrade,ABANDONED,2020-12-15 06:16:39.000000000,2021-06-17 10:36:44.000000000,,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-15 06:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/99cdebe3988ae29793c85688991a77d121d22c60', 'message': 'Add container-check to standalone upgrade\n\nIn order to get latest packages in the containers matching from\nthe host to avoid unwanted failures, we are introducing\ncontainer-check script to update the containers.\n\nRelated-Bug: #1907769\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I762848c287ee97258ea1ba0de80454202d8a59ab\n'}, {'number': 2, 'created': '2020-12-24 09:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d0222698d8b4899cc3481fe5f97179b71f81cc5d', 'message': 'Add container-check to standalone upgrade\n\nIn order to get latest packages in the containers matching from\nthe host to avoid unwanted failures, we are introducing\ncontainer-check script to update the containers.\n\nRelated-Bug: #1907769\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I762848c287ee97258ea1ba0de80454202d8a59ab\n'}, {'number': 3, 'created': '2021-01-11 11:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/298de75247ee018f8d191d8f45b29033520c5815', 'message': 'Sync pkgs from host to container in standalone upgrade\n\nIn order to get latest packages in the containers matching from\nthe host to avoid unwanted failures, we are introducing\ncontainer-check script to update the containers.\n\nBy toggling sync_container_pkgs to true, it will update\nthe packages version from host to containers.\n\nRelated-Bug: #1907769\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I762848c287ee97258ea1ba0de80454202d8a59ab\n'}, {'number': 4, 'created': '2021-01-12 03:34:22.000000000', 'files': ['roles/standalone-upgrade/tasks/main.yml', 'roles/standalone-upgrade/defaults/main.yml', 'roles/standalone-upgrade/templates/standalone-container-prep.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/12aa37e8a33c73b554a925e837176ccb0d5f039f', 'message': 'Sync pkgs from host to container in standalone upgrade\n\nIn order to get latest packages in the containers matching from\nthe host to avoid unwanted failures, we are introducing\ncontainer-check script to update the containers.\n\nBy toggling sync_container_pkgs to true, it will update\nthe packages version from host to containers.\n\nRelated-Bug: #1907769\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I762848c287ee97258ea1ba0de80454202d8a59ab\n'}]",10,767082,12aa37e8a33c73b554a925e837176ccb0d5f039f,23,7,4,12393,,,0,"Sync pkgs from host to container in standalone upgrade

In order to get latest packages in the containers matching from
the host to avoid unwanted failures, we are introducing
container-check script to update the containers.

By toggling sync_container_pkgs to true, it will update
the packages version from host to containers.

Related-Bug: #1907769

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I762848c287ee97258ea1ba0de80454202d8a59ab
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/82/767082/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone-upgrade/tasks/main.yml', 'roles/standalone-upgrade/templates/standalone-container-prep.sh.j2']",2,99cdebe3988ae29793c85688991a77d121d22c60,update_containers," # Update the containers packages_for_update=""$(repoquery --disablerepo='*' --enablerepo={{ update_containers_repo }} --qf %{NAME} -a 2>{{ working_dir }}/repoquery.err.log | sort -u | xargs)"" container-check -u \ -c {{ working_dir }}/containers-prepare-parameters-upgrade.yaml \ -p {{ container_process_count | default(8) }} \ -k $packages_for_update",,23,0
openstack%2Fpython-mistralclient~master~I13b4370daac5ef33f5422ef996c88a85730e3628,openstack/python-mistralclient,master,I13b4370daac5ef33f5422ef996c88a85730e3628,setup.cfg: Replace dashes with underscores,NEW,2021-05-05 02:24:58.000000000,2021-06-17 10:33:46.000000000,,"[{'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-05-05 02:24:58.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/09f5c6dfaabb8786bf505c4896da8b8a680f0c21', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I13b4370daac5ef33f5422ef996c88a85730e3628\n""}]",0,789696,09f5c6dfaabb8786bf505c4896da8b8a680f0c21,8,4,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I13b4370daac5ef33f5422ef996c88a85730e3628
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/96/789696/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,09f5c6dfaabb8786bf505c4896da8b8a680f0c21,setup-cfg,description_file = README.rstpython_requires = >=3.6author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/python-mistralclient/latest/,description-file = README.rstpython-requires = >=3.6author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/python-mistralclient/latest/,4,4
openstack%2Ftrove-tempest-plugin~master~I48e23b053fafe2a5f90e45661ba7887b5271e9aa,openstack/trove-tempest-plugin,master,I48e23b053fafe2a5f90e45661ba7887b5271e9aa,Enable tls-proxy support for test jobs,NEW,2021-06-17 08:02:11.000000000,2021-06-17 10:28:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-17 08:02:11.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/a8bcc808ea4b433c1bec4df85259ec22792f2376', 'message': 'Enable tls-proxy support for test jobs\n\nChange-Id: I48e23b053fafe2a5f90e45661ba7887b5271e9aa\n'}]",0,796783,a8bcc808ea4b433c1bec4df85259ec22792f2376,3,1,1,12404,,,0,"Enable tls-proxy support for test jobs

Change-Id: I48e23b053fafe2a5f90e45661ba7887b5271e9aa
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/83/796783/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a8bcc808ea4b433c1bec4df85259ec22792f2376,exame-tls-proxy,, tls-proxy: false tls-proxy: false,0,2
openstack%2Fvalidations-libs~master~Iff12dff9a870e3e3b89e8070bc251401498ea623,openstack/validations-libs,master,Iff12dff9a870e3e3b89e8070bc251401498ea623,Changing group show commmand into a lister.,ABANDONED,2021-06-15 11:40:58.000000000,2021-06-17 10:18:19.000000000,,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-06-15 11:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/bcf47f5bc54577fb1427527406dd9675276eec90', 'message': ""Default value for the '--group' param\n\nThe CLI group info command now uses preset path\nto the validation groups file if no other is supplied.\n\nThe default value is set in both CLI and the 'group_information'\nmethod of the ValidationActions class.\n\nbghz#1972155\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iff12dff9a870e3e3b89e8070bc251401498ea623\n""}, {'number': 2, 'created': '2021-06-15 11:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f949af2e00c4f82897733d28aca52044045b2b2f', 'message': ""Default value for the '--group' param\n\nThe CLI group info command now uses preset path\nto the validation groups file if no other is supplied.\n\nThe default value is set in both CLI and the 'group_information'\nmethod of the ValidationActions class.\n\nResolves: rhbz#1972155\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iff12dff9a870e3e3b89e8070bc251401498ea623\n""}, {'number': 3, 'created': '2021-06-16 10:10:44.000000000', 'files': ['validations_libs/tests/cli/test_list.py', 'validations_libs/validation_actions.py', 'validations_libs/tests/cli/test_show.py', 'validations_libs/cli/lister.py', 'validations_libs/cli/show.py', 'validations_libs/tests/fakes.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8217d7b3603b753b1654e06b8b012c372fd538ca', 'message': ""Changing group show commmand into a lister.\n\nThe CLI group info command now uses preset path\nto the validation groups file if no other is supplied.\n\nThe default value is set in both CLI and the 'group_information'\nmethod of the ValidationActions class.\n\nTests adjusted.\n\nResolves: rhbz#1972155\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iff12dff9a870e3e3b89e8070bc251401498ea623\n""}]",7,796426,8217d7b3603b753b1654e06b8b012c372fd538ca,9,9,3,32926,,,0,"Changing group show commmand into a lister.

The CLI group info command now uses preset path
to the validation groups file if no other is supplied.

The default value is set in both CLI and the 'group_information'
method of the ValidationActions class.

Tests adjusted.

Resolves: rhbz#1972155

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iff12dff9a870e3e3b89e8070bc251401498ea623
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/26/796426/2 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/validation_actions.py', 'validations_libs/cli/show.py']",2,bcf47f5bc54577fb1427527406dd9675276eec90,groupshow/fix," default=constants.VALIDATION_GROUPS_INFO,",,2,1
openstack%2Fpython-manilaclient~master~I1d52cacc72f33b37c606512a14ff9f94c561a53f,openstack/python-manilaclient,master,I1d52cacc72f33b37c606512a14ff9f94c561a53f,Changed minversion in tox to 3.18.0,MERGED,2021-05-31 07:34:51.000000000,2021-06-17 09:58:26.000000000,2021-06-17 09:56:48.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-31 07:34:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/5220acf12ece04b620d9ae26c0321c7d300c4087', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I1d52cacc72f33b37c606512a14ff9f94c561a53f\n""}]",0,793728,5220acf12ece04b620d9ae26c0321c7d300c4087,9,3,1,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I1d52cacc72f33b37c606512a14ff9f94c561a53f
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/28/793728/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5220acf12ece04b620d9ae26c0321c7d300c4087,update-min-tox,minversion = 3.18.0allowlist_externals = findallowlist_externals = rmallowlist_externals =allowlist_externals = rmallowlist_externals = bash,minversion = 3.1.1whitelist_externals = findwhitelist_externals = rmwhitelist_externals =whitelist_externals = rmwhitelist_externals = bash,6,6
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I642e31d51de280c8e3dd6d165f5ebfda07357181,openstack/python-tripleoclient,stable/wallaby,I642e31d51de280c8e3dd6d165f5ebfda07357181,"Revert ""Increased strictness of the doc build""",ABANDONED,2021-06-17 08:19:55.000000000,2021-06-17 09:55:56.000000000,,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-17 08:19:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4d2df0664990fea2ee6771be3ca50141f38cc97d', 'message': 'Revert ""Increased strictness of the doc build""\n\nThis reverts commit 72bca5e05d7e23c372c78717d7828e728cbdae90.\n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1931986\n\nWe should fix the bug if want to backport it again.\n\nChange-Id: I642e31d51de280c8e3dd6d165f5ebfda07357181\n'}]",0,796666,4d2df0664990fea2ee6771be3ca50141f38cc97d,4,5,1,8833,,,0,"Revert ""Increased strictness of the doc build""

This reverts commit 72bca5e05d7e23c372c78717d7828e728cbdae90.

Reason for revert: https://bugs.launchpad.net/tripleo/+bug/1931986

We should fix the bug if want to backport it again.

Change-Id: I642e31d51de280c8e3dd6d165f5ebfda07357181
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/66/796666/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4d2df0664990fea2ee6771be3ca50141f38cc97d,unlock-wallaby, sphinx-build -b html doc/source doc/build/html, sphinx-build -a -E -W --keep-going -b html doc/source doc/build/html,1,1
openstack%2Fnova~stable%2Frocky~I2a6ccaff904c1f0759d55feeeef0ec1da32c65df,openstack/nova,stable/rocky,I2a6ccaff904c1f0759d55feeeef0ec1da32c65df,Remove allocations before setting vm_status to SHELVED_OFFLOADED,MERGED,2021-01-22 14:31:56.000000000,2021-06-17 09:47:24.000000000,2021-06-17 09:47:24.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 14:31:56.000000000', 'files': ['nova/tests/unit/compute/test_shelve.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1121a59edb48fe133df14bfd4384eef04ce687a7', 'message': 'Remove allocations before setting vm_status to SHELVED_OFFLOADED\n\nTempest is intermittently failing a test which does the\nfollowing:\n\n1. Create a server.\n2. Shelve offload it.\n3. Unshelve it.\n\nTempest waits for the server status to be SHELVED_OFFLOADED\nbefore unshelving the server, which goes through the\nscheduler to pick a compute node and claim resources on it.\n\nWhen shelve offloading a server, the resource allocations\nfor the instance and compute node it was on are cleared, which\nwill also delete the internal consumer record in the placement\nservice.\n\nThe race is that the allocations are removed during shelve\noffload *after* the server status changes to SHELVED_OFFLOADED.\nThis leaves a window where unshelve is going through the\nscheduler and gets the existing allocations for the instance,\nwhich are non-empty and have a consumer generation. The\nclaim_resources method in the scheduler then uses that\nconsumer generation when PUTing the allocations. That PUT\nfails because in between the GET and PUT of the allocations,\nplacement has deleted the internal consumer record. When\nPUTing the new allocations with a non-null consumer generation,\nplacement returns a 409 conflict error because for a new\nconsumer it expects the ""consumer_generation"" parameter to be\nNone.\n\nThis change handles the race by simply making sure the allocations\nare deleted (along with the related consumer record in placement)\n*before* the instance.vm_status is changed.\n\nChange-Id: I2a6ccaff904c1f0759d55feeeef0ec1da32c65df\nCloses-Bug: #1798688\n(cherry picked from commit 6369f39244558b147f7b0796269d9a86ce9b12d8)\n'}]",0,771985,1121a59edb48fe133df14bfd4384eef04ce687a7,14,5,1,10135,,,0,"Remove allocations before setting vm_status to SHELVED_OFFLOADED

Tempest is intermittently failing a test which does the
following:

1. Create a server.
2. Shelve offload it.
3. Unshelve it.

Tempest waits for the server status to be SHELVED_OFFLOADED
before unshelving the server, which goes through the
scheduler to pick a compute node and claim resources on it.

When shelve offloading a server, the resource allocations
for the instance and compute node it was on are cleared, which
will also delete the internal consumer record in the placement
service.

The race is that the allocations are removed during shelve
offload *after* the server status changes to SHELVED_OFFLOADED.
This leaves a window where unshelve is going through the
scheduler and gets the existing allocations for the instance,
which are non-empty and have a consumer generation. The
claim_resources method in the scheduler then uses that
consumer generation when PUTing the allocations. That PUT
fails because in between the GET and PUT of the allocations,
placement has deleted the internal consumer record. When
PUTing the new allocations with a non-null consumer generation,
placement returns a 409 conflict error because for a new
consumer it expects the ""consumer_generation"" parameter to be
None.

This change handles the race by simply making sure the allocations
are deleted (along with the related consumer record in placement)
*before* the instance.vm_status is changed.

Change-Id: I2a6ccaff904c1f0759d55feeeef0ec1da32c65df
Closes-Bug: #1798688
(cherry picked from commit 6369f39244558b147f7b0796269d9a86ce9b12d8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/771985/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_shelve.py', 'nova/compute/manager.py']",2,1121a59edb48fe133df14bfd4384eef04ce687a7,bug/1798688," # Free up the resource allocations in the placement service. # This should happen *before* the vm_state is changed to # SHELVED_OFFLOADED in case client-side code is polling the API to # schedule more instances (or unshelve) once this server is offloaded. rt = self._get_resource_tracker() rt.delete_allocation_for_shelve_offloaded_instance(context, instance) "," rt = self._get_resource_tracker() rt.delete_allocation_for_shelve_offloaded_instance(context, instance) ",25,13
openstack%2Fproject-team-guide~master~I6c58ff14402238b067a093e6d3974cbb5faf3b1b,openstack/project-team-guide,master,I6c58ff14402238b067a093e6d3974cbb5faf3b1b,Modify the meeting channel preference,MERGED,2021-06-04 14:31:37.000000000,2021-06-17 09:43:20.000000000,2021-06-17 09:41:51.000000000,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-04 14:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/8b10fd459118813ea1869b3f4ec14c89d372e09f', 'message': 'Modify the meeting channel preference\n\nAs discussed during the migration from IRC freenode to\nOFTC[1], TC encourage project team to hold their meeting\non their project channel.\n\nUpdating project team guide to reflect that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html\n\nChange-Id: I6c58ff14402238b067a093e6d3974cbb5faf3b1b\n'}, {'number': 2, 'created': '2021-06-04 16:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/212da13aa6979f03c6f44dfa0d0ed33c8f83ead2', 'message': 'Modify the meeting channel preference\n\nAs discussed during the migration from IRC freenode to\nOFTC[1], TC encourage project team to hold their meeting\non their project channel.\n\nUpdating project team guide to reflect that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html\n\nChange-Id: I6c58ff14402238b067a093e6d3974cbb5faf3b1b\n'}, {'number': 3, 'created': '2021-06-07 23:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/8e83ff9efcca2f9d2c95d36af19c5b1d11afdc6e', 'message': 'Modify the meeting channel preference\n\nAs discussed during the migration from IRC freenode to\nOFTC[1], TC encourage project team to hold their meeting\non their project channel.\n\nUpdating project team guide to reflect that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html\n\nChange-Id: I6c58ff14402238b067a093e6d3974cbb5faf3b1b\n'}, {'number': 4, 'created': '2021-06-10 00:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/5b76e55d8da4dce49e0c8c599737c9a751df964a', 'message': 'Modify the meeting channel preference\n\nAs discussed during the migration from IRC freenode to\nOFTC[1], TC encourage project team to hold their meeting\non their project channel.\n\nUpdating project team guide to reflect that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html\n\nChange-Id: I6c58ff14402238b067a093e6d3974cbb5faf3b1b\n'}, {'number': 5, 'created': '2021-06-11 10:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/628fcdd8a792c7f2d636523414d512bd67e1aa0e', 'message': 'Modify the meeting channel preference\n\nAs discussed during the migration from IRC freenode to\nOFTC[1], TC encourage project team to hold their meeting\non their project channel.\n\nUpdating project team guide to reflect that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html\n\nChange-Id: I6c58ff14402238b067a093e6d3974cbb5faf3b1b\n'}, {'number': 6, 'created': '2021-06-11 16:29:56.000000000', 'files': ['doc/source/open-community.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/14732bd7beab659cad1a95148d41b2cb1fc20467', 'message': 'Modify the meeting channel preference\n\nAs discussed during the migration from IRC freenode to\nOFTC[1], TC encourage project team to hold their meeting\non their project channel.\n\nUpdating project team guide to reflect that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html\n\nChange-Id: I6c58ff14402238b067a093e6d3974cbb5faf3b1b\n'}]",26,794839,14732bd7beab659cad1a95148d41b2cb1fc20467,39,4,6,8556,,,0,"Modify the meeting channel preference

As discussed during the migration from IRC freenode to
OFTC[1], TC encourage project team to hold their meeting
on their project channel.

Updating project team guide to reflect that.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html

Change-Id: I6c58ff14402238b067a093e6d3974cbb5faf3b1b
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/39/794839/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/open-community.rst'],1,8b10fd459118813ea1869b3f4ec14c89d372e09f,,"dedicated to meetings. Project meetings are distributed among those channels, and little challenging to find the specific project meeting until you search the project doc or wiki page for the meeting channel. Many project teams schedule their meeting or office hour on the project channel, and it works well for them. Projects are encouraged to hold meetings on their own team IRC channels to make the meeting easier to find and have more attendance... _IRC meetings: https://opendev.org/opendev/irc-meetings","dedicated to meetings. While teams can hold meetings on their own team IRC channels, they are encouraged to use those common meeting channels to give their meeting some external exposure. The limited number of meeting channels encourages teams to spread their meetings around and reduce conflicts... _IRC meetings: http://git.openstack.org/cgit/openstack-infra/irc-meetings/tree/",7,5
openstack%2Fopenstack-ansible-os_neutron~master~I15b217fa339c2349b10db82dc295648cd9b7f1e8,openstack/openstack-ansible-os_neutron,master,I15b217fa339c2349b10db82dc295648cd9b7f1e8,Remove ovs-nsh repo for openSUSE packages,ABANDONED,2019-06-25 09:31:05.000000000,2021-06-17 09:38:50.000000000,,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-25 09:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/8a623c38dbf751be91ce15d4cca9abcc06dc77d9', 'message': 'Switch to openSUSE Leap 15.1\n\nDepends-On: https://review.opendev.org/#/c/666058/\nChange-Id: I15b217fa339c2349b10db82dc295648cd9b7f1e8\n'}, {'number': 2, 'created': '2019-06-27 18:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/5401ac6ddd6533bad4140f6f3908668ecb930a51', 'message': 'Switch to openSUSE Leap 15.1\n\nDepends-On: https://review.opendev.org/#/c/666058/\nChange-Id: I15b217fa339c2349b10db82dc295648cd9b7f1e8\n'}, {'number': 3, 'created': '2019-06-28 08:11:54.000000000', 'files': ['tasks/neutron_pre_install.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/18d19fd1eead8250334e2c04adbefe13083eb2a0', 'message': 'Remove ovs-nsh repo for openSUSE packages\n\nDepends-On: https://review.opendev.org/#/c/666058/\nChange-Id: I15b217fa339c2349b10db82dc295648cd9b7f1e8\n'}]",0,667303,18d19fd1eead8250334e2c04adbefe13083eb2a0,10,3,3,6593,,,0,"Remove ovs-nsh repo for openSUSE packages

Depends-On: https://review.opendev.org/#/c/666058/
Change-Id: I15b217fa339c2349b10db82dc295648cd9b7f1e8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/03/667303/3 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/neutron_pre_install.yml', 'Vagrantfile', 'vars/suse.yml']",3,8a623c38dbf751be91ce15d4cca9abcc06dc77d9,, - python-python-memcached,neutron_repos: - repo: https://download.opensuse.org/repositories/home:/mosquetero/openSUSE_Leap_{{ ansible_distribution_version }}/ name: ovs-nsh autorefresh: yes auto_import_keys: yes priority: 98 - which - python-memcached,5,31
openstack%2Fvalidations-libs~master~I114f0318a8d5ffff0cf2c923721a090cd0a4cee7,openstack/validations-libs,master,I114f0318a8d5ffff0cf2c923721a090cd0a4cee7,Previously generated API docs clean up.,ABANDONED,2021-06-16 10:21:33.000000000,2021-06-17 09:26:22.000000000,,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-16 10:21:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/59c02336a7086c4b271709f72ba878d6247afa40', 'message': 'Previously generated API docs clean up.\n\nThe API\tdocumentation generated\tby the sphix-apidoc\nis now automatically removed before new\tsphinx run.\n\nThis is\ta QoL improvement on local machines, where removal\nof a documented\tmodule, and continued existence of associated doc,\ncan cause unnecessary errors.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I114f0318a8d5ffff0cf2c923721a090cd0a4cee7\n'}]",0,796624,59c02336a7086c4b271709f72ba878d6247afa40,3,6,1,32926,,,0,"Previously generated API docs clean up.

The API	documentation generated	by the sphix-apidoc
is now automatically removed before new	sphinx run.

This is	a QoL improvement on local machines, where removal
of a documented	module, and continued existence of associated doc,
can cause unnecessary errors.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I114f0318a8d5ffff0cf2c923721a090cd0a4cee7
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/24/796624/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,59c02336a7086c4b271709f72ba878d6247afa40,apidocdirremoval, rm -rf doc/source/reference/apiwhitelist_externals = rm,,2,0
openstack%2Fvalidations-common~master~I27ae32306206ba4f0a9eeb25ccf9d3c619ca5afa,openstack/validations-common,master,I27ae32306206ba4f0a9eeb25ccf9d3c619ca5afa,Previously generated API docs clean up.,ABANDONED,2021-06-16 10:19:56.000000000,2021-06-17 09:25:21.000000000,,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-16 10:19:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/667d6f6019bb749475d2fe5a81f67f4ecdf1d8ac', 'message': 'Previously generated API docs clean up.\n\nThe API documentation generated by the sphix-apidoc\nis now automatically removed before new sphinx run.\n\nThis is a QoL improvement on local machines, where removal\nof a documented module, and continued existence of associated doc,\ncan cause unnecessary errors.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I27ae32306206ba4f0a9eeb25ccf9d3c619ca5afa\n'}]",6,796623,667d6f6019bb749475d2fe5a81f67f4ecdf1d8ac,5,6,1,32926,,,0,"Previously generated API docs clean up.

The API documentation generated by the sphix-apidoc
is now automatically removed before new sphinx run.

This is a QoL improvement on local machines, where removal
of a documented module, and continued existence of associated doc,
can cause unnecessary errors.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I27ae32306206ba4f0a9eeb25ccf9d3c619ca5afa
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/23/796623/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,667d6f6019bb749475d2fe5a81f67f4ecdf1d8ac,apidocdirremoval, rm -rf doc/source/reference/apiwhitelist_externals = rm,,2,0
openstack%2Fheat~master~I916ad1980f9ec2de7e59237355135e74d9f00d2a,openstack/heat,master,I916ad1980f9ec2de7e59237355135e74d9f00d2a,Enable tls-proxy support in test,NEW,2021-06-03 12:36:16.000000000,2021-06-17 09:19:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-03 12:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6fd2df8ba1ddddad1e4cefbbd99d496e1606f318', 'message': '[Test][DMT] Check tls-proxy support\n\nChange-Id: I916ad1980f9ec2de7e59237355135e74d9f00d2a\n'}, {'number': 2, 'created': '2021-06-17 07:36:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/b7061ee461a4b4e1937682de2c8d0dbdeb10f7a5', 'message': 'Enable tls-proxy support in test\n\nChange-Id: I916ad1980f9ec2de7e59237355135e74d9f00d2a\n'}]",0,794578,b7061ee461a4b4e1937682de2c8d0dbdeb10f7a5,7,1,2,12404,,,0,"Enable tls-proxy support in test

Change-Id: I916ad1980f9ec2de7e59237355135e74d9f00d2a
",git fetch https://review.opendev.org/openstack/heat refs/changes/78/794578/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6fd2df8ba1ddddad1e4cefbbd99d496e1606f318,exame-tls-proxy, tls-proxy: true, tls-proxy: false,1,1
openstack%2Fpython-heatclient~master~I33802cacf88e39d47841bd962d0968d13214bb39,openstack/python-heatclient,master,I33802cacf88e39d47841bd962d0968d13214bb39,Uncap PrettyTable,ABANDONED,2021-06-08 13:43:00.000000000,2021-06-17 09:18:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-08 13:43:00.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/1e989eef87bc6e570885ce369f2d5e571e91b46f', 'message': 'Uncap PrettyTable\n\nThis is now maintained as a Jazzband project [1].\n\n[1] https://github.com/jazzband/prettytable\n\nChange-Id: I33802cacf88e39d47841bd962d0968d13214bb39\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,795331,1e989eef87bc6e570885ce369f2d5e571e91b46f,4,1,1,15334,,,0,"Uncap PrettyTable

This is now maintained as a Jazzband project [1].

[1] https://github.com/jazzband/prettytable

Change-Id: I33802cacf88e39d47841bd962d0968d13214bb39
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/31/795331/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,1e989eef87bc6e570885ce369f2d5e571e91b46f,bump_prettytable_version,PrettyTable>=0.7.2 # BSD,"PrettyTable<0.8,>=0.7.2 # BSD",1,1
openstack%2Fkolla-ansible~master~I71f45ba5b9d1d2227c95633d3de51e2ccd42a467,openstack/kolla-ansible,master,I71f45ba5b9d1d2227c95633d3de51e2ccd42a467,chronyd crash loop if Debian server is rebooted,MERGED,2021-02-17 19:11:54.000000000,2021-06-17 09:17:44.000000000,2021-06-17 09:15:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-02-17 19:11:54.000000000', 'files': ['ansible/roles/chrony/templates/chrony.json.j2', 'releasenotes/notes/bug-1915528-chronyd-crash-loop-if-server-is-rebooted-debian.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/21ccae12f7937201cff2f4cf08deefe57b7594e2', 'message': 'chronyd crash loop if Debian server is rebooted\n\nThis patch fixes the constant chrony container crash loop after (Debian 10) server is rebooted,\nas described in Bug-ID: #1915528.\n\nDue to permissions issue, before this fix is applied chronyd process will be exiting with\nroot cause error message:\n\nFatal error : Could not open configuration file /etc/chrony/chrony.conf : Permission denied\nThis has to do with priviledges we configured for chrony. Relaxing them fixes the issue.\nTested on top of stable/victoria and Debian 10 Buster.\n\nNot tested on CentOS/RHEL. If this does not work well on RHEL/CentOS we can maybe parametrise\nthe owner and make it configurable (just one idea).\n\nCloses-Bug: #1915528\nChange-Id: I71f45ba5b9d1d2227c95633d3de51e2ccd42a467\n'}]",0,776256,21ccae12f7937201cff2f4cf08deefe57b7594e2,10,3,1,33105,,,0,"chronyd crash loop if Debian server is rebooted

This patch fixes the constant chrony container crash loop after (Debian 10) server is rebooted,
as described in Bug-ID: #1915528.

Due to permissions issue, before this fix is applied chronyd process will be exiting with
root cause error message:

Fatal error : Could not open configuration file /etc/chrony/chrony.conf : Permission denied
This has to do with priviledges we configured for chrony. Relaxing them fixes the issue.
Tested on top of stable/victoria and Debian 10 Buster.

Not tested on CentOS/RHEL. If this does not work well on RHEL/CentOS we can maybe parametrise
the owner and make it configurable (just one idea).

Closes-Bug: #1915528
Change-Id: I71f45ba5b9d1d2227c95633d3de51e2ccd42a467
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/776256/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/chrony/templates/chrony.json.j2', 'releasenotes/notes/bug-1915528-chronyd-crash-loop-if-server-is-rebooted-debian.yaml']",2,21ccae12f7937201cff2f4cf08deefe57b7594e2,,--- fixes: - | chronyd crash loop if server is rebooted (Debian) `LP#1915528 <https://launchpad.net/bugs/1915528>`__ ,,7,2
openstack%2Fkolla-ansible~master~I185f7c09c3f026fd6926a26001393f066ff1860d,openstack/kolla-ansible,master,I185f7c09c3f026fd6926a26001393f066ff1860d,Support editable installation in all cases,MERGED,2021-04-07 22:45:04.000000000,2021-06-17 09:13:43.000000000,2021-06-17 09:13:43.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-04-07 22:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ceaa7c80b0cffe09617c591bf3177e9ddf015e39', 'message': 'Support editable installation in all cases\n\nAn editable installation allows changes to be made to the source code\ndirectly, and have those changes applied immediately without having to\nreinstall.\n\n    pip install -e /path/to/kolla-ansible\n\nAbove is currently working only in virtualenv, but there is no reason to\nnot allow in all cases. This is usefull for example when user is\nbuilding his own docker container with editable kolla-ansible installed\nfrom git without virtualenv.\n\nChange-Id: I185f7c09c3f026fd6926a26001393f066ff1860d\n'}, {'number': 2, 'created': '2021-04-08 11:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/758df9b3977c7a48a64c020384b6acbde933798c', 'message': 'Support editable installation in all cases\n\nAn editable installation allows changes to be made to the source code\ndirectly, and have those changes applied immediately without having to\nreinstall.\n\n    pip install -e /path/to/kolla-ansible\n\nAbove is currently working only in virtualenv, but there is no reason to\nnot allow in all cases. This is usefull for example when user is\nbuilding his own docker container with editable kolla-ansible installed\nfrom git without virtualenv.\n\nChange-Id: I185f7c09c3f026fd6926a26001393f066ff1860d\n'}, {'number': 3, 'created': '2021-04-08 12:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e47fe8c4f25f6047564ede4bafd381d87042f956', 'message': 'Support editable installation in all cases\n\nAn editable installation allows changes to be made to the source code\ndirectly, and have those changes applied immediately without having to\nreinstall.\n\n    pip install -e /path/to/kolla-ansible\n\nAbove is currently working only in virtualenv, but there is no reason to\nnot allow in all cases. This is usefull for example when user is\nbuilding his own docker container with editable kolla-ansible installed\nfrom git without virtualenv.\n\nChange-Id: I185f7c09c3f026fd6926a26001393f066ff1860d\n'}, {'number': 4, 'created': '2021-04-08 12:31:27.000000000', 'files': ['tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/22a6765f5e0ddae1527faaaeeff0260f5996a9e7', 'message': 'Support editable installation in all cases\n\nAn editable installation allows changes to be made to the source code\ndirectly, and have those changes applied immediately without having to\nreinstall.\n\n    pip install -e /path/to/kolla-ansible\n\nAbove is currently working only in virtualenv, but there is no reason to\nnot allow in all cases. This is usefull for example when user is\nbuilding his own docker container with editable kolla-ansible installed\nfrom git without virtualenv.\n\nChange-Id: I185f7c09c3f026fd6926a26001393f066ff1860d\n'}]",6,785293,22a6765f5e0ddae1527faaaeeff0260f5996a9e7,18,4,4,27339,,,0,"Support editable installation in all cases

An editable installation allows changes to be made to the source code
directly, and have those changes applied immediately without having to
reinstall.

    pip install -e /path/to/kolla-ansible

Above is currently working only in virtualenv, but there is no reason to
not allow in all cases. This is usefull for example when user is
building his own docker container with editable kolla-ansible installed
from git without virtualenv.

Change-Id: I185f7c09c3f026fd6926a26001393f066ff1860d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/785293/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla-ansible'],1,ceaa7c80b0cffe09617c591bf3177e9ddf015e39,," if test -f /usr/lib/python*/*-packages/kolla-ansible.egg-link; then # Editable install. BASEDIR=""$(head -n1 /usr/lib/python*/*-packages/kolla-ansible.egg-link)"" else BASEDIR=/usr/share/kolla-ansible fi if test -f /usr/local/lib/python*/*-packages/kolla-ansible.egg-link; then # Editable install. BASEDIR=""$(head -n1 /usr/local/lib/python*/*-packages/kolla-ansible.egg-link)"" else BASEDIR=/usr/local/share/kolla-ansible fi if test -f ~/.local/lib/python*/*-packages/kolla-ansible.egg-link; then # Editable install. BASEDIR=""$(head -n1 ~/.local/lib/python*/*-packages/kolla-ansible.egg-link)"" else BASEDIR=~/.local/share/kolla-ansible fi", BASEDIR=/usr/share/kolla-ansible BASEDIR=/usr/local/share/kolla-ansible BASEDIR=~/.local/share/kolla-ansible,18,3
openstack%2Fkolla-ansible~master~I45bacefc7912870c48f618e27ff759f9c249dc33,openstack/kolla-ansible,master,I45bacefc7912870c48f618e27ff759f9c249dc33,Redis configuration syntax update,MERGED,2021-02-26 12:50:06.000000000,2021-06-17 09:13:20.000000000,2021-06-17 09:13:20.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 26740}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-02-26 12:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8799825485662d67ae64b525fb27758875351d64', 'message': 'Redis configuration syntax update\n\nReplication syntax of Redis config files updated to\nRedis 5.x.\n\nCloses-Bug: #1915013\nSigned-off-by: Petr Tuma <p.tuma@partner.samsung.com>\nChange-Id: I45bacefc7912870c48f618e27ff759f9c249dc33\n'}, {'number': 2, 'created': '2021-04-30 07:17:27.000000000', 'files': ['ansible/roles/redis/templates/redis.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f3314eacd74cf68b50b2bfca77eff9f53c1d8e54', 'message': 'Redis configuration syntax update\n\nReplication syntax of Redis config files updated to\nRedis 5.x.\n\nSigned-off-by: Petr Tuma <p.tuma@partner.samsung.com>\nChange-Id: I45bacefc7912870c48f618e27ff759f9c249dc33\n'}]",2,777744,f3314eacd74cf68b50b2bfca77eff9f53c1d8e54,23,7,2,33158,,,0,"Redis configuration syntax update

Replication syntax of Redis config files updated to
Redis 5.x.

Signed-off-by: Petr Tuma <p.tuma@partner.samsung.com>
Change-Id: I45bacefc7912870c48f618e27ff759f9c249dc33
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/44/777744/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/redis/templates/redis.conf.j2'],1,8799825485662d67ae64b525fb27758875351d64,redis_conf_master,replica-serve-stale-data yes replica-read-only yesreplica-priority 100client-output-buffer-limit replica 256mb 64mb 60replicaof {{ redis_master_address }} 6379,slave-serve-stale-data yes slave-read-only yesslave-priority 100client-output-buffer-limit slave 256mb 64mb 60slaveof {{ redis_master_address }} 6379,5,5
openstack%2Fnova~stable%2Fvictoria~I59a0746b864610b6a314078cf5661d3d2b84b1d4,openstack/nova,stable/victoria,I59a0746b864610b6a314078cf5661d3d2b84b1d4,Ignore PCI devices with 32bit domain,MERGED,2021-05-17 15:36:49.000000000,2021-06-17 09:05:06.000000000,2021-06-17 09:02:11.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 15:36:49.000000000', 'files': ['nova/pci/manager.py', 'doc/source/admin/networking.rst', 'nova/conf/pci.py', 'nova/tests/unit/pci/test_manager.py', 'doc/source/admin/pci-passthrough.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/90ffc553d7f4152a6a4a8708787150d3c3c40b03', 'message': 'Ignore PCI devices with 32bit domain\n\nNova and QEMU[1] supports PCI devices with a PCI address that has 16 bit\ndomain. However there are hypervisors that reports PCI addresses with\n32 bit domain. While today we cannot assign these to guests this should\nnot prevent the nova-compute service to start.\n\nThis patch changes the PCI manager to ignore such PCI devices.\n\nPlease note that this patch does not change fact that nova does not\nallow specifying PCI addresses with 32bit domain in the\n[pci]/passthrough_whitelist configuration. Such configuration is still\nrejected at nova-compute service startup.\n\nCloses-Bug: #1897528\n\n[1] https://github.com/qemu/qemu/blob/f2a1cf9180f63e88bb38ff21c169da97c3f2bad5/hw/core/qdev-properties.c#L993\n\nChange-Id: I59a0746b864610b6a314078cf5661d3d2b84b1d4\n(cherry picked from commit 8c9d6fc8f073cde78b79ae259c9915216f5d59b0)\n'}]",0,791768,90ffc553d7f4152a6a4a8708787150d3c3c40b03,10,4,1,15334,,,0,"Ignore PCI devices with 32bit domain

Nova and QEMU[1] supports PCI devices with a PCI address that has 16 bit
domain. However there are hypervisors that reports PCI addresses with
32 bit domain. While today we cannot assign these to guests this should
not prevent the nova-compute service to start.

This patch changes the PCI manager to ignore such PCI devices.

Please note that this patch does not change fact that nova does not
allow specifying PCI addresses with 32bit domain in the
[pci]/passthrough_whitelist configuration. Such configuration is still
rejected at nova-compute service startup.

Closes-Bug: #1897528

[1] https://github.com/qemu/qemu/blob/f2a1cf9180f63e88bb38ff21c169da97c3f2bad5/hw/core/qdev-properties.c#L993

Change-Id: I59a0746b864610b6a314078cf5661d3d2b84b1d4
(cherry picked from commit 8c9d6fc8f073cde78b79ae259c9915216f5d59b0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/791768/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/pci/manager.py', 'doc/source/admin/networking.rst', 'nova/conf/pci.py', 'nova/tests/unit/pci/test_manager.py', 'doc/source/admin/pci-passthrough.rst']",5,90ffc553d7f4152a6a4a8708787150d3c3c40b03,bug/1897528,.. note:: Nova only supports PCI addresses where the fields are restricted to the following maximum value: * domain - 0xFFFF * bus - 0xFF * slot - 0x1F * function - 0x7 Nova will ignore PCI devices reported by the hypervisor if the address is outside of these ranges.,,77,16
openstack%2Fvitrage-tempest-plugin~master~I0125fefef4e3c019246204f39b3dbba51b82f36d,openstack/vitrage-tempest-plugin,master,I0125fefef4e3c019246204f39b3dbba51b82f36d,Enable tls-proxy support in test jobs,NEW,2021-06-17 08:00:39.000000000,2021-06-17 09:03:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-17 08:00:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/fa0b40c165b253c4a4ffdd6675f37ec802210211', 'message': 'Enable tls-proxy support in test jobs\n\nChange-Id: I0125fefef4e3c019246204f39b3dbba51b82f36d\n'}]",0,796782,fa0b40c165b253c4a4ffdd6675f37ec802210211,3,1,1,12404,,,0,"Enable tls-proxy support in test jobs

Change-Id: I0125fefef4e3c019246204f39b3dbba51b82f36d
",git fetch https://review.opendev.org/openstack/vitrage-tempest-plugin refs/changes/82/796782/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fa0b40c165b253c4a4ffdd6675f37ec802210211,exame-tls-proxy,, tls-proxy: false tls-proxy: false,0,2
openstack%2Fkolla-ansible~master~I667adc7d8a7dbd20dbfa293f389e02355f8275bb,openstack/kolla-ansible,master,I667adc7d8a7dbd20dbfa293f389e02355f8275bb,baremetal: fix /etc/hosts generation when api_interface has dashes,MERGED,2021-06-04 16:11:23.000000000,2021-06-17 08:46:05.000000000,2021-06-17 08:42:50.000000000,"[{'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-04 16:11:23.000000000', 'files': ['releasenotes/notes/etc-hosts-dashes-37d0dc07c8fc881f.yaml', 'ansible/roles/baremetal/tasks/pre-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/46bd05250d5c6497da35d8a490336a433915358e', 'message': 'baremetal: fix /etc/hosts generation when api_interface has dashes\n\nInterface names with dashes can cause problems in Ansible since dashes\nare replaced with underscores when referencing facts. In the baremetal\nrole we reference the fact for api_interface without replacing dashes\nwith underscores. This may result in host entries being omitted from\n/etc/hosts.\n\nThis change fixes the issue.\n\nChange-Id: I667adc7d8a7dbd20dbfa293f389e02355f8275bb\nRelated-Bug: #1927357\n'}]",0,794857,46bd05250d5c6497da35d8a490336a433915358e,9,3,1,14826,,,0,"baremetal: fix /etc/hosts generation when api_interface has dashes

Interface names with dashes can cause problems in Ansible since dashes
are replaced with underscores when referencing facts. In the baremetal
role we reference the fact for api_interface without replacing dashes
with underscores. This may result in host entries being omitted from
/etc/hosts.

This change fixes the issue.

Change-Id: I667adc7d8a7dbd20dbfa293f389e02355f8275bb
Related-Bug: #1927357
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/794857/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/etc-hosts-dashes-37d0dc07c8fc881f.yaml', 'ansible/roles/baremetal/tasks/pre-install.yml']",2,46bd05250d5c6497da35d8a490336a433915358e,," {% set api_interface = hostvars[host]['api_interface'] | replace('-', '_') %} 'ansible_' + hostvars[inventory_hostname]['api_interface'] | replace('-', '_') in hostvars[inventory_hostname]", {% set api_interface = hostvars[host]['api_interface'] %} 'ansible_' + hostvars[inventory_hostname]['api_interface'] in hostvars[inventory_hostname],9,2
openstack%2Fkolla~master~I0cae18c1d5169cd444a14ba3b56de24dede5919c,openstack/kolla,master,I0cae18c1d5169cd444a14ba3b56de24dede5919c,Horizon: Install required policy files for heat-dashboard,MERGED,2021-06-05 03:17:37.000000000,2021-06-17 08:46:00.000000000,2021-06-17 08:42:44.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-05 03:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8d9f5cb2626f6939cdf197cd8f5cf3fdfb1cb2b5', 'message': 'Horizon: Install required policy files for heat dashboards\n\nSince the commit 8e7914fce24d2c9d94a83795983aaa0fb05f020c was merged,\nheat-dashboard no longer provides policy.json but it use two yaml\nfiles to manage policy rules. This change updates managed files for\nheat-dashboard accordingly.\n\nChange-Id: I0cae18c1d5169cd444a14ba3b56de24dede5919c\n'}, {'number': 2, 'created': '2021-06-05 03:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ef35081ef2b8b95e2eb7d98a93d2093290c3530c', 'message': 'Horizon: Install required policy files for heat dashboards\n\nSince the commit 8e7914fce24d2c9d94a83795983aaa0fb05f020c was merged,\nheat-dashboard no longer provides policy.json but it use two yaml\nfiles to manage policy rules. This change updates managed files for\nheat-dashboard accordingly.\n\nChange-Id: I0cae18c1d5169cd444a14ba3b56de24dede5919c\n'}, {'number': 3, 'created': '2021-06-05 03:22:31.000000000', 'files': ['docker/horizon/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f9715a66e24638cdcf11223c23a7958a1e2c3a8f', 'message': 'Horizon: Install required policy files for heat-dashboard\n\nSince the commit 8e7914fce24d2c9d94a83795983aaa0fb05f020c was merged,\nheat-dashboard no longer use policy.json but it use two yaml files to\nmanage policy rules. This change updates managed files for\nheat-dashboard accordingly.\n\nChange-Id: I0cae18c1d5169cd444a14ba3b56de24dede5919c\n'}]",0,794909,f9715a66e24638cdcf11223c23a7958a1e2c3a8f,11,3,3,9816,,,0,"Horizon: Install required policy files for heat-dashboard

Since the commit 8e7914fce24d2c9d94a83795983aaa0fb05f020c was merged,
heat-dashboard no longer use policy.json but it use two yaml files to
manage policy rules. This change updates managed files for
heat-dashboard accordingly.

Change-Id: I0cae18c1d5169cd444a14ba3b56de24dede5919c
",git fetch https://review.opendev.org/openstack/kolla refs/changes/09/794909/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/extend_start.sh'],1,8d9f5cb2626f6939cdf197cd8f5cf3fdfb1cb2b5,heat-dashboard-policy," ""${SITE_PACKAGES}/heat_dashboard/conf/heat_policy.yaml"" \ ""/etc/openstack-dashboard/heat_policy.yaml"" config_dashboard ""${ENABLE_HEAT:-no}"" \ ""${SITE_PACKAGES}/heat_dashboard/conf/default_policies/heat.yaml"" \ ""/etc/openstack-dashboard/default_policies/heat.yaml"""," ""${SITE_PACKAGES}/heat_dashboard/conf/heat_policy.json"" \ ""/etc/openstack-dashboard/heat_policy.json""",6,2
openstack%2Fpython-zaqarclient~master~I4778a70d0eaab4289797d7e10a82cf1d1f138549,openstack/python-zaqarclient,master,I4778a70d0eaab4289797d7e10a82cf1d1f138549,Enable tls-proxy support in test job,NEW,2021-06-17 08:05:31.000000000,2021-06-17 08:45:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-17 08:05:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/c556c7fa02fe1f695bb301466b51bb15aeb42c3d', 'message': 'Enable tls-proxy support in test job\n\nChange-Id: I4778a70d0eaab4289797d7e10a82cf1d1f138549\n'}]",0,796785,c556c7fa02fe1f695bb301466b51bb15aeb42c3d,3,1,1,12404,,,0,"Enable tls-proxy support in test job

Change-Id: I4778a70d0eaab4289797d7e10a82cf1d1f138549
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/85/796785/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c556c7fa02fe1f695bb301466b51bb15aeb42c3d,exame-tls-proxy,, # it does not seem to work with tls-proxy at the time # of the legacy -> Zuul v3 porting tls-proxy: false,0,3
openstack%2Fkolla-ansible~master~I67e9c892a945d04eff59427a0161aafceb136560,openstack/kolla-ansible,master,I67e9c892a945d04eff59427a0161aafceb136560,tox: Add find command to allowlist_externals list,MERGED,2021-05-18 12:01:31.000000000,2021-06-17 08:43:30.000000000,2021-06-17 08:43:30.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-05-18 12:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c66f8e009294075384ff5898086cbc6c65a01f4f', 'message': 'tox: Add find command to allowlist_externals list\n\nwhitelist_externals is deprecated now, use allowlist_externals\ninstead. see[0]\nAdd find command to allowlist_externals list to fix a warning.[1]\n\n[0]: https://tox.readthedocs.io/en/latest/config.html\n[1]: https://zuul.opendev.org/t/openstack/build/9ac7f205080343f29d7e2b519abbdb73/log/job-output.txt#945\n\nChange-Id: I67e9c892a945d04eff59427a0161aafceb136560\n'}, {'number': 2, 'created': '2021-05-25 09:43:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/13965f40c740d8bee696b3f847190d75a19b062c', 'message': 'tox: Add find command to allowlist_externals list\n\nwhitelist_externals is deprecated now, use allowlist_externals\ninstead. see[0]\nAdd find command to allowlist_externals list to fix a warning.[1]\n\n[0]: https://tox.readthedocs.io/en/latest/config.html\n[1]: https://zuul.opendev.org/t/openstack/build/9ac7f205080343f29d7e2b519abbdb73/log/job-output.txt#945\n\nChange-Id: I67e9c892a945d04eff59427a0161aafceb136560\n'}]",1,791928,13965f40c740d8bee696b3f847190d75a19b062c,10,3,2,26285,,,0,"tox: Add find command to allowlist_externals list

whitelist_externals is deprecated now, use allowlist_externals
instead. see[0]
Add find command to allowlist_externals list to fix a warning.[1]

[0]: https://tox.readthedocs.io/en/latest/config.html
[1]: https://zuul.opendev.org/t/openstack/build/9ac7f205080343f29d7e2b519abbdb73/log/job-output.txt#945

Change-Id: I67e9c892a945d04eff59427a0161aafceb136560
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/28/791928/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c66f8e009294075384ff5898086cbc6c65a01f4f,,allowlist_externals = findallowlist_externals = makeallowlist_externals = bash find,whitelist_externals = findwhitelist_externals = makewhitelist_externals = bash,4,3
openstack%2Fkolla-ansible~master~I99ebeb493ff9c3c7af0010ce1efea45c7f9a2559,openstack/kolla-ansible,master,I99ebeb493ff9c3c7af0010ce1efea45c7f9a2559,Add the ansible_managed header for admin-openrc.sh,MERGED,2021-05-30 18:40:48.000000000,2021-06-17 08:43:10.000000000,2021-06-17 08:43:10.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23871}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-05-30 18:40:48.000000000', 'files': ['ansible/roles/common/templates/admin-openrc.sh.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4d6a79d217a69d78db45d766f6d04a047bd8fecf', 'message': ""Add the ansible_managed header for admin-openrc.sh\n\nThis change inform us that the file is 'Ansible managed'\n\nTrivialFix\n\nChange-Id: I99ebeb493ff9c3c7af0010ce1efea45c7f9a2559\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",0,793699,4d6a79d217a69d78db45d766f6d04a047bd8fecf,12,7,1,14200,,,0,"Add the ansible_managed header for admin-openrc.sh

This change inform us that the file is 'Ansible managed'

TrivialFix

Change-Id: I99ebeb493ff9c3c7af0010ce1efea45c7f9a2559
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/99/793699/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/admin-openrc.sh.j2'],1,4d6a79d217a69d78db45d766f6d04a047bd8fecf,admin-openrc,# {{ ansible_managed }} ,,2,0
openstack%2Ftrove~master~Ic73f16151ba690220a8b2cb616ab08b6320d260a,openstack/trove,master,Ic73f16151ba690220a8b2cb616ab08b6320d260a,[doc] Fix incorrect link in doc,ABANDONED,2021-04-26 14:38:07.000000000,2021-06-17 08:42:07.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 14:38:07.000000000', 'files': ['doc/source/install/verify.rst', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/d1c5f7773cdf50e21f4450468c230a47a6fdca87', 'message': '[doc] Fix incorrect link in doc\n\nthis change also remove the harcode from docs. if we use the hardcode,\nit will cause all branch doc point to master branch.\n\nChange-Id: Ic73f16151ba690220a8b2cb616ab08b6320d260a\n'}]",0,788010,d1c5f7773cdf50e21f4450468c230a47a6fdca87,5,2,1,26285,,,0,"[doc] Fix incorrect link in doc

this change also remove the harcode from docs. if we use the hardcode,
it will cause all branch doc point to master branch.

Change-Id: Ic73f16151ba690220a8b2cb616ab08b6320d260a
",git fetch https://review.opendev.org/openstack/trove refs/changes/10/788010/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/verify.rst', 'doc/source/conf.py']",2,d1c5f7773cdf50e21f4450468c230a47a6fdca87,,"openstack_projects = [ 'trove', ] ",,7,3
openstack%2Fsolum~master~Ia4fb5f53c0647393ac0dddd78bb3fe0ae147ac28,openstack/solum,master,Ia4fb5f53c0647393ac0dddd78bb3fe0ae147ac28,Enable tls-proxy support for test job,NEW,2021-06-17 07:52:15.000000000,2021-06-17 08:33:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-17 07:52:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/solum/commit/f9e10b1884f88d4f68c86b3123797294bf39de92', 'message': 'Enable tls-proxy support for test job\n\nChange-Id: Ia4fb5f53c0647393ac0dddd78bb3fe0ae147ac28\n'}]",0,796779,f9e10b1884f88d4f68c86b3123797294bf39de92,3,1,1,12404,,,0,"Enable tls-proxy support for test job

Change-Id: Ia4fb5f53c0647393ac0dddd78bb3fe0ae147ac28
",git fetch https://review.opendev.org/openstack/solum refs/changes/79/796779/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f9e10b1884f88d4f68c86b3123797294bf39de92,exame-tls-proxy,, tls-proxy: false,0,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I591ca3686f72ed6c0426cf272adb8c95330509b5,openstack/python-tripleoclient,stable/wallaby,I591ca3686f72ed6c0426cf272adb8c95330509b5,Increased strictness of the doc build,MERGED,2021-05-06 16:47:06.000000000,2021-06-17 08:19:55.000000000,2021-05-13 07:56:21.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2ed78ebbb5617c572180c268b2a4a2d77047e00e', 'message': ""Increased strictness of the doc build\n\nWarnings are now turned into errors, failing\nthe doc build. This should prevent any more\nsyntax issues resulting in malformed, but still syntactically\nvalid, html output.\n\nTo aid with diagnosis of the failures:\n\nThe -E flag is now set to rebuild environment\nfrom scratch for each run.\n\nThe `-a` flag is set to rebuild all html files,\nregardless of their date.\n\nThe `--keep-going` flag is set so that the build\ndoesn't end after encountering first error, but\ncontinues until the bitter end.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/789369\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I591ca3686f72ed6c0426cf272adb8c95330509b5\n""}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a213c6e7a7d34543c56c5d8be25f2642eb08ba1b', 'message': ""Increased strictness of the doc build\n\nWarnings are now turned into errors, failing\nthe doc build. This should prevent any more\nsyntax issues resulting in malformed, but still syntactically\nvalid, html output.\n\nTo aid with diagnosis of the failures:\n\nThe -E flag is now set to rebuild environment\nfrom scratch for each run.\n\nThe `-a` flag is set to rebuild all html files,\nregardless of their date.\n\nThe `--keep-going` flag is set so that the build\ndoesn't end after encountering first error, but\ncontinues until the bitter end.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/789369\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I591ca3686f72ed6c0426cf272adb8c95330509b5\n""}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5bf3fb06662e79600642b8cd79360052804f3682', 'message': ""Increased strictness of the doc build\n\nWarnings are now turned into errors, failing\nthe doc build. This should prevent any more\nsyntax issues resulting in malformed, but still syntactically\nvalid, html output.\n\nTo aid with diagnosis of the failures:\n\nThe -E flag is now set to rebuild environment\nfrom scratch for each run.\n\nThe `-a` flag is set to rebuild all html files,\nregardless of their date.\n\nThe `--keep-going` flag is set so that the build\ndoesn't end after encountering first error, but\ncontinues until the bitter end.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/789369\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I591ca3686f72ed6c0426cf272adb8c95330509b5\n""}, {'number': 4, 'created': '2021-05-10 07:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/00489f7a5e2147591d0acdb8e015911acc070f05', 'message': ""Increased strictness of the doc build\n\nWarnings are now turned into errors, failing\nthe doc build. This should prevent any more\nsyntax issues resulting in malformed, but still syntactically\nvalid, html output.\n\nTo aid with diagnosis of the failures:\n\nThe -E flag is now set to rebuild environment\nfrom scratch for each run.\n\nThe `-a` flag is set to rebuild all html files,\nregardless of their date.\n\nThe `--keep-going` flag is set so that the build\ndoesn't end after encountering first error, but\ncontinues until the bitter end.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/789369\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I591ca3686f72ed6c0426cf272adb8c95330509b5\n""}, {'number': 5, 'created': '2021-05-10 08:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8d2718cc6b145adc2771906452fd8d3e87444273', 'message': ""Increased strictness of the doc build\n\nWarnings are now turned into errors, failing\nthe doc build. This should prevent any more\nsyntax issues resulting in malformed, but still syntactically\nvalid, html output.\n\nTo aid with diagnosis of the failures:\n\nThe -E flag is now set to rebuild environment\nfrom scratch for each run.\n\nThe `-a` flag is set to rebuild all html files,\nregardless of their date.\n\nThe `--keep-going` flag is set so that the build\ndoesn't end after encountering first error, but\ncontinues until the bitter end.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/789369\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/790378\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I591ca3686f72ed6c0426cf272adb8c95330509b5\n""}, {'number': 6, 'created': '2021-05-10 08:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/30db4885bac724d79ea1082072eca9a842ebcfd7', 'message': ""Increased strictness of the doc build\n\nWarnings are now turned into errors, failing\nthe doc build. This should prevent any more\nsyntax issues resulting in malformed, but still syntactically\nvalid, html output.\n\nTo aid with diagnosis of the failures:\n\nThe -E flag is now set to rebuild environment\nfrom scratch for each run.\n\nThe `-a` flag is set to rebuild all html files,\nregardless of their date.\n\nThe `--keep-going` flag is set so that the build\ndoesn't end after encountering first error, but\ncontinues until the bitter end.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/789369\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I591ca3686f72ed6c0426cf272adb8c95330509b5\n""}, {'number': 7, 'created': '2021-05-11 09:29:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/72bca5e05d7e23c372c78717d7828e728cbdae90', 'message': ""Increased strictness of the doc build\n\nWarnings are now turned into errors, failing\nthe doc build. This should prevent any more\nsyntax issues resulting in malformed, but still syntactically\nvalid, html output.\n\nTo aid with diagnosis of the failures:\n\nThe -E flag is now set to rebuild environment\nfrom scratch for each run.\n\nThe `-a` flag is set to rebuild all html files,\nregardless of their date.\n\nThe `--keep-going` flag is set so that the build\ndoesn't end after encountering first error, but\ncontinues until the bitter end.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I591ca3686f72ed6c0426cf272adb8c95330509b5\n""}]",5,790131,72bca5e05d7e23c372c78717d7828e728cbdae90,29,3,7,7144,,,0,"Increased strictness of the doc build

Warnings are now turned into errors, failing
the doc build. This should prevent any more
syntax issues resulting in malformed, but still syntactically
valid, html output.

To aid with diagnosis of the failures:

The -E flag is now set to rebuild environment
from scratch for each run.

The `-a` flag is set to rebuild all html files,
regardless of their date.

The `--keep-going` flag is set so that the build
doesn't end after encountering first error, but
continues until the bitter end.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I591ca3686f72ed6c0426cf272adb8c95330509b5
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/31/790131/7 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2ed78ebbb5617c572180c268b2a4a2d77047e00e,unlock-wallaby, sphinx-build -a -E -W --keep-going -b html doc/source doc/build/html, sphinx-build -b html doc/source doc/build/html,1,1
openstack%2Fkolla~master~Id92145ba74237da2fd8430b9d84413465297d3a7,openstack/kolla,master,Id92145ba74237da2fd8430b9d84413465297d3a7,Horizon: Install policy files for manila-ui,MERGED,2021-06-05 03:21:34.000000000,2021-06-17 07:54:35.000000000,2021-06-17 07:51:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-05 03:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dcc74a26e54bffc4f1fd99d1b04aa04144647dce', 'message': 'Horizon: Install policy files for manila-ui\n\nSince the commit 89a90ff9773b93062760df5e3deefb9750112633 was merged,\nmanila-ui provides two policy files. This change ensures that these\nfiles are installed when manila-ui is enabled.\n\nChange-Id: Id92145ba74237da2fd8430b9d84413465297d3a7\n'}, {'number': 2, 'created': '2021-06-07 09:33:15.000000000', 'files': ['docker/horizon/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/77fc442a91bf479772b45dd8a3c9de1691e450b9', 'message': 'Horizon: Install policy files for manila-ui\n\nSince the commit 89a90ff9773b93062760df5e3deefb9750112633 was merged,\nmanila-ui provides two policy files. This change ensures that these\nfiles are installed when manila-ui is enabled.\n\nChange-Id: Id92145ba74237da2fd8430b9d84413465297d3a7\n'}]",4,794910,77fc442a91bf479772b45dd8a3c9de1691e450b9,14,3,2,9816,,,0,"Horizon: Install policy files for manila-ui

Since the commit 89a90ff9773b93062760df5e3deefb9750112633 was merged,
manila-ui provides two policy files. This change ensures that these
files are installed when manila-ui is enabled.

Change-Id: Id92145ba74237da2fd8430b9d84413465297d3a7
",git fetch https://review.opendev.org/openstack/kolla refs/changes/10/794910/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/extend_start.sh'],1,dcc74a26e54bffc4f1fd99d1b04aa04144647dce,manila-dashboard-policy," config_dashboard ""${ENABLE_HEAT:-no}"" \ ""${SITE_PACKAGES}/manila_ui/conf/manila_policy.yaml"" \ ""/etc/openstack-dashboard/manila_policy.yaml"" config_dashboard ""${ENABLE_HEAT:-no}"" \ ""${SITE_PACKAGES}/manila_ui/conf/default_policies/manila.yaml"" \ ""/etc/openstack-dashboard/default_policies/manila.yaml""",,7,0
openstack%2Fkolla~master~I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581,openstack/kolla,master,I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581,horizon: Correct location of monitoring_policy file,MERGED,2021-05-24 18:02:10.000000000,2021-06-17 07:53:00.000000000,2021-06-17 07:51:19.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 33469}]","[{'number': 1, 'created': '2021-05-24 18:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f97d92e93f1035670d767056d8a466774ab99e84', 'message': 'horizon: Correct location of monitoring_policy file\n\nPatch to correctly copy monitoring_policy.json into\n/etc/openstack-dashboard.  Policy was misplaced, and not being enforced.\n\nNOTE: current policy enforcement will, by default, hide the Monitoring\nmenu from admin.\n\nCloses-Bug: #1928408\nChange-Id: I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581\n'}, {'number': 2, 'created': '2021-05-25 19:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9ff488c40882c2a32d4db82485e17b5e45157782', 'message': ""horizon: Correct location of monitoring_policy file\n\nPatch to correctly copy monitoring_policy.json into\n/etc/openstack-dashboard.  Policy was misplaced, and not being enforced.\n\nNote that by current default policy, admin doesn't not have Monitoring\naccess.\n\nCloses-Bug: #1928408\nChange-Id: I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581\n""}, {'number': 3, 'created': '2021-06-03 00:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a5ee403af21a63cb306e274a4c3cb744d1d13efb', 'message': ""horizon: Correct location of monitoring_policy file\n\nPatch to correctly copy monitoring_policy.json into\n/etc/openstack-dashboard.  Policy was misplaced, and not being enforced.\n\nNote that by current default policy, admin doesn't not have Monitoring\naccess.\n\nCloses-Bug: #1928408\nChange-Id: I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581\n""}, {'number': 4, 'created': '2021-06-11 04:59:42.000000000', 'files': ['docker/horizon/extend_start.sh', 'releasenotes/notes/bug-1928408-4a22a85570eee8d6.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f68dfb88fdbad51322727575457b3d78a70466b1', 'message': ""horizon: Correct location of monitoring_policy file\n\nPatch to correctly copy monitoring_policy.json into\n/etc/openstack-dashboard.  Policy was misplaced, and not being enforced.\n\nNote that by current default policy, admin doesn't not have Monitoring\naccess.\n\nCloses-Bug: #1928408\nChange-Id: I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581\n""}]",0,792838,f68dfb88fdbad51322727575457b3d78a70466b1,28,5,4,33469,,,0,"horizon: Correct location of monitoring_policy file

Patch to correctly copy monitoring_policy.json into
/etc/openstack-dashboard.  Policy was misplaced, and not being enforced.

Note that by current default policy, admin doesn't not have Monitoring
access.

Closes-Bug: #1928408
Change-Id: I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581
",git fetch https://review.opendev.org/openstack/kolla refs/changes/38/792838/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/extend_start.sh'],1,f97d92e93f1035670d767056d8a466774ab99e84,bug/1928408," ""/etc/openstack-dashboard/monitoring_policy.json"""," ""${SITE_PACKAGES}/openstack_dashboard/conf/monitoring_policy.json""",1,1
openstack%2Fnova~stable%2Fvictoria~I48dcb7faa17fe9f8346445a1746cff5845baf358,openstack/nova,stable/victoria,I48dcb7faa17fe9f8346445a1746cff5845baf358,Reproduce bug 1897528,MERGED,2021-05-17 15:36:49.000000000,2021-06-17 07:52:26.000000000,2021-06-17 07:50:32.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 15:36:49.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0354d4d9f47354e2b4fc0b2343c27e734fe2e494', 'message': 'Reproduce bug 1897528\n\nThe nova-compute fails to start if the hypervisor has PCI addresses\n32bit domain.\n\nChange-Id: I48dcb7faa17fe9f8346445a1746cff5845baf358\nRelated-Bug: #1897528\n(cherry picked from commit 976ac722d36439d16ea4ec1bf5037c482c89ef55)\n'}]",0,791767,0354d4d9f47354e2b4fc0b2343c27e734fe2e494,9,4,1,15334,,,0,"Reproduce bug 1897528

The nova-compute fails to start if the hypervisor has PCI addresses
32bit domain.

Change-Id: I48dcb7faa17fe9f8346445a1746cff5845baf358
Related-Bug: #1897528
(cherry picked from commit 976ac722d36439d16ea4ec1bf5037c482c89ef55)
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/791767/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/pci/test_manager.py'],1,0354d4d9f47354e2b4fc0b2343c27e734fe2e494,bug/1897528,"from nova import exception def test_update_devices_from_hypervisor_resources_32bit_domain(self): self.flags( group='pci', passthrough_whitelist=[ '{""product_id"":""2032"", ""vendor_id"":""8086""}']) # There are systems where 32 bit PCI domain is used. See bug 1897528 # for example. While nova (and qemu) does not support assigning such # devices but the existence of such device in the system should not # lead to an error. fake_pci = { 'compute_node_id': 1, 'address': '10000:00:02.0', 'product_id': '2032', 'vendor_id': '8086', 'request_id': None, 'status': fields.PciDeviceStatus.AVAILABLE, 'dev_type': fields.PciDeviceType.STANDARD, 'parent_addr': None, 'numa_node': 0} fake_pci_devs = [fake_pci] fake_pci_devs_json = jsonutils.dumps(fake_pci_devs) tracker = manager.PciDevTracker(self.fake_context) # We expect that the device with 32bit PCI domain is ignored # tracker.update_devices_from_hypervisor_resources(fake_pci_devs_json) # self.assertEqual(0, len(tracker.pci_devs)) # # This is the bug 1897528 ex = self.assertRaises( exception.PciConfigInvalidWhitelist, tracker.update_devices_from_hypervisor_resources, fake_pci_devs_json) self.assertEqual( 'Invalid PCI devices Whitelist config: property domain (10000) is ' 'greater than the maximum allowable value (FFFF).', str(ex)) ",,37,0
openstack%2Fkayobe~stable%2Fvictoria~I4fab6b1104cd3e71854827c8d476dc25f8d539bd,openstack/kayobe,stable/victoria,I4fab6b1104cd3e71854827c8d476dc25f8d539bd,[docs] Improve contributor's automated setup document,MERGED,2021-06-10 14:00:29.000000000,2021-06-17 07:48:26.000000000,2021-06-17 07:46:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-06-10 14:00:29.000000000', 'files': ['doc/source/contributor/automated.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8a8905ebce3c0bd9d4a3c54db6acc9c8b914f6cf', 'message': ""[docs] Improve contributor's automated setup document\n\n* Capitalization\n\n* Add missing ENV variable for provisioning seed as non-VM\n\n* Add 'Python' keyword to avoid confusing venv with VM\n\nChange-Id: I4fab6b1104cd3e71854827c8d476dc25f8d539bd\n(cherry picked from commit d738d2a4f1a0060420d236b9134e47216639c1b6)\n""}]",0,795782,8a8905ebce3c0bd9d4a3c54db6acc9c8b914f6cf,9,4,1,15197,,,0,"[docs] Improve contributor's automated setup document

* Capitalization

* Add missing ENV variable for provisioning seed as non-VM

* Add 'Python' keyword to avoid confusing venv with VM

Change-Id: I4fab6b1104cd3e71854827c8d476dc25f8d539bd
(cherry picked from commit d738d2a4f1a0060420d236b9134e47216639c1b6)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/82/795782/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/automated.rst'],1,8a8905ebce3c0bd9d4a3c54db6acc9c8b914f6cf,,"This section provides information on the development tools provided by KayobeThe Kayobe development environment automation tooling is built using simplealthough it is also possible to use your own Kayobe configuration. This allowsClone the Kayobe repository::Change the current directory to the Kayobe repository::Inspect the Kayobe configuration and make any changes necessary for yourIf not using Vagrant, run the ``dev/install-dev.sh`` script to install Kayobe and its dependencies in a Python virtual environment:: It is also possible to install Kayobe in a non-editable way, such thatClone the Kayobe repository::Inspect the Kayobe configuration and make any changes necessary for yourRun the ``dev/install.sh`` script to install Kayobe and its dependencies in a Python virtual environment:: export KAYOBE_SEED_VM_PROVISION=0Clone the Kayobe repository::Change the current directory to the Kayobe repository::Inspect the Kayobe configuration and make any changes necessary for yourRun the ``dev/install-dev.sh`` script to install Kayobe and its dependencies in a Python virtual environment:: It is also possible to install Kayobe in a non-editable way, such thatClone the Kayobe repository::Inspect the Kayobe configuration and make any changes necessary for yourRun the ``dev/install-dev.sh`` script to install Kayobe and its dependencies in a Python virtual environment:: It is also possible to install Kayobe in a non-editable way, such that","This section provides information on the development tools provided by kayobeThe kayobe development environment automation tooling is built using simplealthough it is also possible to use your own kayobe configuration. This allowsClone the kayobe repository::Change the current directory to the kayobe repository::Inspect the kayobe configuration and make any changes necessary for yourIf not using Vagrant, run the ``dev/install-dev.sh`` script to install kayobe and its dependencies in a virtual environment:: It is also possible to install kayobe in a non-editable way, such thatClone the kayobe repository::Inspect the kayobe configuration and make any changes necessary for yourRun the ``dev/install.sh`` script to install kayobe and its dependencies in a virtual environment::Clone the kayobe repository::Change the current directory to the kayobe repository::Inspect the kayobe configuration and make any changes necessary for yourRun the ``dev/install-dev.sh`` script to install kayobe and its dependencies in a virtual environment:: It is also possible to install kayobe in a non-editable way, such thatClone the kayobe repository::Inspect the kayobe configuration and make any changes necessary for yourRun the ``dev/install-dev.sh`` script to install kayobe and its dependencies in a virtual environment:: It is also possible to install kayobe in a non-editable way, such that",25,24
openstack%2Fironic-python-agent~master~I00fdf9c06ca0e06ab711b7b3c50e683642ae3389,openstack/ironic-python-agent,master,I00fdf9c06ca0e06ab711b7b3c50e683642ae3389,WIP/DNM: Remove md check on EFI asset preservation,NEW,2021-06-11 21:42:34.000000000,2021-06-17 07:39:08.000000000,,"[{'_account_id': 4571}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 21:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/dbb8ee9a28bb4ccbe1b5e05e60a666d8c71bf723', 'message': 'WIP/DNM: Remove md check on EFI asset preservation\n\nChange-Id: I00fdf9c06ca0e06ab711b7b3c50e683642ae3389\n'}, {'number': 2, 'created': '2021-06-16 19:54:51.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5d91a77537ba7f91b2436c009f5830be356d60e9', 'message': 'WIP/DNM: Remove md check on EFI asset preservation\n\nChange-Id: I00fdf9c06ca0e06ab711b7b3c50e683642ae3389\n'}]",0,796068,5d91a77537ba7f91b2436c009f5830be356d60e9,5,3,2,11655,,,0,"WIP/DNM: Remove md check on EFI asset preservation

Change-Id: I00fdf9c06ca0e06ab711b7b3c50e683642ae3389
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/68/796068/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/extensions/image.py'],1,dbb8ee9a28bb4ccbe1b5e05e60a666d8c71bf723,," LOG.debug('Creating empty file system for EFI on %s as no prior ' 'filesystem was known to the agent.', md_device) if efi_partition_mount_point:", # UEFI asset management for RAID is handled elsewhere if not hardware.is_md_device(device) and efi_partition_mount_point:,3,2
openstack%2Fnova~stable%2Fwallaby~Ib81532dc1e6dd85822e38eb1785ffb7162d2a84d,openstack/nova,stable/wallaby,Ib81532dc1e6dd85822e38eb1785ffb7162d2a84d,Test SRIOV port move operations with PCI conflicts,MERGED,2021-05-11 14:38:01.000000000,2021-06-17 07:23:10.000000000,2021-06-17 07:18:45.000000000,"[{'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 14:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5251efead0a9c26948c8f69316372eafc88d4b50', 'message': 'Test SRIOV port move operations with PCI conflicts\n\nThis patch tests cold migration, unshelve and evacuate in a situation\nwhere the existing port binding\'s pci_slot would cause a conflict on\nthe destination compute node. While cold migration and evacuation\nwork correctly, in the unshelve case the pci_slot is not updated,\nresulting in two instances attempting to consume the same PCI device.\nThis ""passed"" in the functional tests, but with a real libvirt this\nwould obviously explode.\n\nRelated: bug 1851545\n\nChange-Id: Ib81532dc1e6dd85822e38eb1785ffb7162d2a84d\n(cherry picked from commit bea06123dbba82851fd17a41cc93ab4a519f8bfe)\n'}, {'number': 2, 'created': '2021-05-19 18:17:36.000000000', 'files': ['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/libvirt/base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3625d5336a220ead291335eeb06bc1be7e32a21a', 'message': 'Test SRIOV port move operations with PCI conflicts\n\nThis patch tests cold migration, unshelve and evacuate in a situation\nwhere the existing port binding\'s pci_slot would cause a conflict on\nthe destination compute node. While cold migration and evacuation\nwork correctly, in the unshelve case the pci_slot is not updated,\nresulting in two instances attempting to consume the same PCI device.\nThis ""passed"" in the functional tests, but with a real libvirt this\nwould obviously explode.\n\nRelated: bug 1851545\n\nChange-Id: Ib81532dc1e6dd85822e38eb1785ffb7162d2a84d\n(cherry picked from commit bea06123dbba82851fd17a41cc93ab4a519f8bfe)\n'}]",0,790710,3625d5336a220ead291335eeb06bc1be7e32a21a,14,3,2,8864,,,0,"Test SRIOV port move operations with PCI conflicts

This patch tests cold migration, unshelve and evacuate in a situation
where the existing port binding's pci_slot would cause a conflict on
the destination compute node. While cold migration and evacuation
work correctly, in the unshelve case the pci_slot is not updated,
resulting in two instances attempting to consume the same PCI device.
This ""passed"" in the functional tests, but with a real libvirt this
would obviously explode.

Related: bug 1851545

Change-Id: Ib81532dc1e6dd85822e38eb1785ffb7162d2a84d
(cherry picked from commit bea06123dbba82851fd17a41cc93ab4a519f8bfe)
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/790710/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/libvirt/base.py']",2,5251efead0a9c26948c8f69316372eafc88d4b50,," network_4_port_2 = { 'id': '4a0e3b05-4704-4adb-bfb1-f31f0e4d1bdc', 'network_id': network_4['id'], 'status': 'ACTIVE', 'mac_address': 'b5:bc:2e:e7:51:ef', 'fixed_ips': [ { 'ip_address': '192.168.4.7', 'subnet_id': subnet_4['id'] } ], 'binding:vif_details': {'vlan': 42}, 'binding:vif_type': 'hw_veb', 'binding:vnic_type': 'direct', } network_4_port_3 = { 'id': 'fb2de1a1-d096-41be-9dbe-43066da64804', 'network_id': network_4['id'], 'status': 'ACTIVE', 'mac_address': 'b5:bc:2e:e7:51:ff', 'fixed_ips': [ { 'ip_address': '192.168.4.8', 'subnet_id': subnet_4['id'] } ], 'binding:vif_details': {'vlan': 42}, 'binding:vif_type': 'hw_veb', 'binding:vnic_type': 'direct', }",,162,0
openstack%2Fnova~stable%2Fwallaby~Ia7ad1322b5a15d1407140c77fe0edb179f66ec7a,openstack/nova,stable/wallaby,Ia7ad1322b5a15d1407140c77fe0edb179f66ec7a,Neutron fixture: don't clobber profile and vif_details if empty,MERGED,2021-05-19 18:17:36.000000000,2021-06-17 07:20:59.000000000,2021-06-17 07:18:29.000000000,"[{'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 18:17:36.000000000', 'files': ['nova/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/83ca8b3563c2a293bc0ec153932bdee75aaab8ce', 'message': ""Neutron fixture: don't clobber profile and vif_details if empty\n\nPreviously, the way Neutron fixture's update_port method was coded\nwould cause the binding:profile and binding:vid_details fields to get\nclobbered if they were not passed to the update. This was because if\nnothing was passed, a default of {} was used. This is not how the real\nNeutron API behaves. If nothing is passed, the previous values remain\nand are not replaced with {}. This patches fixes this in the Neutron\nfixture.\n\nChange-Id: Ia7ad1322b5a15d1407140c77fe0edb179f66ec7a\n(cherry picked from commit 62868aaac70d908ade6ff80c8ced54afa0435a76)\n""}]",0,792233,83ca8b3563c2a293bc0ec153932bdee75aaab8ce,10,3,1,8864,,,0,"Neutron fixture: don't clobber profile and vif_details if empty

Previously, the way Neutron fixture's update_port method was coded
would cause the binding:profile and binding:vid_details fields to get
clobbered if they were not passed to the update. This was because if
nothing was passed, a default of {} was used. This is not how the real
Neutron API behaves. If nothing is passed, the previous values remain
and are not replaced with {}. This patches fixes this in the Neutron
fixture.

Change-Id: Ia7ad1322b5a15d1407140c77fe0edb179f66ec7a
(cherry picked from commit 62868aaac70d908ade6ff80c8ced54afa0435a76)
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/792233/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures.py'],1,83ca8b3563c2a293bc0ec153932bdee75aaab8ce,, update = { if body['port'].get('binding:profile'): update['profile'] = copy.deepcopy( body['port']['binding:profile']) if body['port'].get('binding:vif_details'): update['vif_details'] = copy.deepcopy( body['port']['binding:vif_details']) self._port_bindings[port_id][host] = update," self._port_bindings[port_id][host] = { 'profile': copy.deepcopy( body['port'].get('binding:profile') or {}, ), 'vif_details': port.get('binding:vif_details') or {},",8,5
openstack%2Fnova~stable%2Frocky~If9acc054100a6733f3659a15dd9fc2d462e84d64,openstack/nova,stable/rocky,If9acc054100a6733f3659a15dd9fc2d462e84d64,libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available,MERGED,2020-08-24 04:08:42.000000000,2021-06-17 07:20:45.000000000,2021-06-17 07:18:09.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-24 04:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a922df13382b76ef52829242f70c228b226c13ce', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt issue[1], there is a bug[2] that if we set cache mode\nwhose write semantic is not O_DIRECT (.i.e unsafe, writeback or writethrough),\nthere will be a problem with the volume drivers\n(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly.\n\nThat problem will generate a libvirt xml for the instance,\nwhose content contains\n\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver\n> for local files and block devices will silently fall back to aio=threads.\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://github.com/libvirt/libvirt/commit/058384003db776c580d0e5a3016a6384e8eb7b92\n[2]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n(cherry picked from commit af2405e1181d70cdf60bcd0e40b3e80f2db2e3a6)\n""}, {'number': 2, 'created': '2020-09-11 11:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eea24fa9e6b14927e00f6167e011e216a0677eb5', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt issue[1], there is a bug[2] that if we set cache mode\nwhose write semantic is not O_DIRECT (.i.e unsafe, writeback or writethrough),\nthere will be a problem with the volume drivers\n(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly.\n\nThat problem will generate a libvirt xml for the instance,\nwhose content contains\n\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver\n> for local files and block devices will silently fall back to aio=threads.\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://github.com/libvirt/libvirt/commit/058384003db776c580d0e5a3016a6384e8eb7b92\n[2]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n(cherry picked from commit af2405e1181d70cdf60bcd0e40b3e80f2db2e3a6)\n(cherry picked from commit 0bd58921a1fcaffcc4fac25f63434c9cab93b061)\n(cherry picked from commit d92fe4f3e69db51b7bbad52a1fe1740e37bade9a)\n(cherry picked from commit cc2f45ebb03326c757abbfaef4de3e2c1fa4ead2)\n""}, {'number': 3, 'created': '2020-09-25 00:26:52.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1841363-fallback-to-threaded-io-when-native-io-is-not-supported-fe56014e9648a518.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6e6440fe97c07489ab6b70029a22fa0b9b70bc02', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt issue[1], there is a bug[2] that if we set cache mode\nwhose write semantic is not O_DIRECT (.i.e unsafe, writeback or writethrough),\nthere will be a problem with the volume drivers\n(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly.\n\nThat problem will generate a libvirt xml for the instance,\nwhose content contains\n\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver\n> for local files and block devices will silently fall back to aio=threads.\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://github.com/libvirt/libvirt/commit/058384003db776c580d0e5a3016a6384e8eb7b92\n[2]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n(cherry picked from commit af2405e1181d70cdf60bcd0e40b3e80f2db2e3a6)\n(cherry picked from commit 0bd58921a1fcaffcc4fac25f63434c9cab93b061)\n(cherry picked from commit d92fe4f3e69db51b7bbad52a1fe1740e37bade9a)\n(cherry picked from commit cc2f45ebb03326c757abbfaef4de3e2c1fa4ead2)\n""}]",0,747612,6e6440fe97c07489ab6b70029a22fa0b9b70bc02,31,8,3,29071,,,0,"libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available

Because of the libvirt issue[1], there is a bug[2] that if we set cache mode
whose write semantic is not O_DIRECT (.i.e unsafe, writeback or writethrough),
there will be a problem with the volume drivers
(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,
nova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate
native io explicitly.

That problem will generate a libvirt xml for the instance,
whose content contains

```
...
<disk ... >
  <driver ... cache='unsafe/writeback/writethrough' io='native' />
</disk>
...
```
In turn, it will fail to start the instance or attach the disk.

> When qemu is configured with a block device that has aio=native set, but
> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any
> unnamed mode with explicit cache.direct=on), then the raw-posix block driver
> for local files and block devices will silently fall back to aio=threads.
> The blockdev-add interface rejects such combinations, but qemu can't
> change the existing legacy interfaces that libvirt uses today.

[1]: https://github.com/libvirt/libvirt/commit/058384003db776c580d0e5a3016a6384e8eb7b92
[2]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704

Closes-Bug: #1841363
Change-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64
(cherry picked from commit af2405e1181d70cdf60bcd0e40b3e80f2db2e3a6)
(cherry picked from commit 0bd58921a1fcaffcc4fac25f63434c9cab93b061)
(cherry picked from commit d92fe4f3e69db51b7bbad52a1fe1740e37bade9a)
(cherry picked from commit cc2f45ebb03326c757abbfaef4de3e2c1fa4ead2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/747612/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1841363-fallback-to-threaded-io-when-native-io-is-not-supported-fe56014e9648a518.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,a922df13382b76ef52829242f70c228b226c13ce,bug/1841363," def _make_fake_conf(self, cache=None): if cache: self.flags(disk_cachemodes=['block=' + cache], group='libvirt') else: self.flags(group='libvirt') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) fake_conf = FakeConfigGuestDisk() fake_conf.source_type = 'block' fake_conf.driver_io = 'native' drvr._set_cache_mode(fake_conf) return fake_conf def test_set_cache_mode_driver_io_writeback(self): """"""Tests that when conf.driver_io is 'native' and driver_cache is 'writeback', then conf.driver_io is forced to 'threads' """""" fake_conf = self._make_fake_conf('writeback') self.assertEqual('writeback', fake_conf.driver_cache) self.assertEqual('threads', fake_conf.driver_io) def test_set_cache_mode_driver_io_writethrough(self): """"""Tests that when conf.driver_io is 'native' and driver_cache is 'writethrough', then conf.driver_io is forced to 'threads' """""" fake_conf = self._make_fake_conf('writethrough') self.assertEqual('writethrough', fake_conf.driver_cache) self.assertEqual('threads', fake_conf.driver_io) def test_set_cache_mode_driver_io_unsafe(self): """"""Tests that when conf.driver_io is 'native' and driver_cache is 'unsafe', then conf.driver_io is forced to 'threads' """""" fake_conf = self._make_fake_conf('unsafe') self.assertEqual('unsafe', fake_conf.driver_cache) self.assertEqual('threads', fake_conf.driver_io) def test_without_set_cache_mode_driver_io(self): """"""Tests that when conf.driver_io is 'native' and driver_cache is not set(this is default settings), then conf.driver_io is kept as 'native' """""" fake_conf = self._make_fake_conf() self.assertIsNone(fake_conf.driver_cache) self.assertEqual('native', fake_conf.driver_io) ",,75,0
openstack%2Fcyborg~master~Ia54a03ecd1709b15f6ef53a4429f1d438491f081,openstack/cyborg,master,Ia54a03ecd1709b15f6ef53a4429f1d438491f081,Fix the wrong status of ARQ_DELETING,ABANDONED,2021-05-26 06:30:41.000000000,2021-06-17 07:14:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-05-26 06:30:41.000000000', 'files': ['cyborg/common/constants.py', 'cyborg/tests/unit/objects/test_ext_arq_job.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c047130de841b4240c3f159c51e896c27c8c7741', 'message': 'Fix the wrong status of ARQ_DELETING\n\nChange-Id: Ia54a03ecd1709b15f6ef53a4429f1d438491f081\n'}]",0,793103,c047130de841b4240c3f159c51e896c27c8c7741,6,5,1,31412,,,0,"Fix the wrong status of ARQ_DELETING

Change-Id: Ia54a03ecd1709b15f6ef53a4429f1d438491f081
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/03/793103/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/common/constants.py', 'cyborg/tests/unit/objects/test_ext_arq_job.py']",2,c047130de841b4240c3f159c51e896c27c8c7741,," for s in states[4:5]: # Deleting for s in states[5:]: extarqs[0].arq.state = s bind_status[0] = (bind_status[0][0], ""deleting"") objects.ExtARQ.check_bindings_result(self.context, extarqs) mock_notify.assert_called_with(instance_uuid, bind_status)", for s in states[4:]:,11,4
openstack%2Fmagnum-ui~master~Iceb9652c52fc68d52d842edf80ad475020a88f41,openstack/magnum-ui,master,Iceb9652c52fc68d52d842edf80ad475020a88f41,Update horizon nodejs template,MERGED,2021-06-16 13:51:03.000000000,2021-06-17 07:12:00.000000000,2021-06-17 07:09:48.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 13:51:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/c2a6accb15e0baf35a9d0590c16269f4f5bb2bd6', 'message': 'Update horizon nodejs template\n\nNodejs10 is already EOL[1] . So this patch updates\nhorizon-nodejs10 template with horizon-nodejs14 template\nwhich is next LTS vesrion of nodejs.\n\n[1] https://nodejs.org/en/about/releases/\n\nChange-Id: Iceb9652c52fc68d52d842edf80ad475020a88f41\n'}]",0,796678,c2a6accb15e0baf35a9d0590c16269f4f5bb2bd6,8,2,1,29313,,,0,"Update horizon nodejs template

Nodejs10 is already EOL[1] . So this patch updates
horizon-nodejs10 template with horizon-nodejs14 template
which is next LTS vesrion of nodejs.

[1] https://nodejs.org/en/about/releases/

Change-Id: Iceb9652c52fc68d52d842edf80ad475020a88f41
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/78/796678/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c2a6accb15e0baf35a9d0590c16269f4f5bb2bd6,migrate-to-nodejs14, - horizon-nodejs14-jobs, - horizon-nodejs10-jobs,1,1
openstack%2Fsenlin-dashboard~master~I5bcf9a3c4f1481a43fd610a80dc03b4f456d373c,openstack/senlin-dashboard,master,I5bcf9a3c4f1481a43fd610a80dc03b4f456d373c,Drop horizon-nodejs10-jobs template,MERGED,2021-05-19 16:17:38.000000000,2021-06-17 07:10:34.000000000,2021-06-17 07:08:36.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 16:17:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/fef54bb8bd95cfbe34679ba6e1c47a6842f59e6e', 'message': ""Drop horizon-nodejs10-jobs template\n\nAs we already added horizon-nodejs14-jobs template in this plugin\nand nodejs14 jobs running fine. So let's drop horizon-nodejs10-jobs\ntemplate because nodejs10 is already EOL.\n\nChange-Id: I5bcf9a3c4f1481a43fd610a80dc03b4f456d373c\n""}]",0,792205,fef54bb8bd95cfbe34679ba6e1c47a6842f59e6e,8,2,1,29313,,,0,"Drop horizon-nodejs10-jobs template

As we already added horizon-nodejs14-jobs template in this plugin
and nodejs14 jobs running fine. So let's drop horizon-nodejs10-jobs
template because nodejs10 is already EOL.

Change-Id: I5bcf9a3c4f1481a43fd610a80dc03b4f456d373c
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/05/792205/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fef54bb8bd95cfbe34679ba6e1c47a6842f59e6e,drop-nodejs10,, - horizon-nodejs10-jobs,0,1
openstack%2Fneutron-vpnaas~master~I0b847bd24305204388f1ff9dcb83fb6e11d2bac0,openstack/neutron-vpnaas,master,I0b847bd24305204388f1ff9dcb83fb6e11d2bac0,Fix functional jobs due to OVS file removal,MERGED,2021-06-17 03:56:12.000000000,2021-06-17 06:50:01.000000000,2021-06-17 06:48:37.000000000,"[{'_account_id': 841}, {'_account_id': 12860}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 03:56:12.000000000', 'files': ['roles/configure_functional_tests/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/52eba441d171575726dc97c8b5c98681e65ac327', 'message': 'Fix functional jobs due to OVS file removal\n\nThe neutron file devstack/lib/ovs was removed in\nhttps://review.opendev.org/c/openstack/neutron/+/793470\nin favor of using the devstack in-tree version at\nlib/neutron_plugins/ovs_source.  Start using it to\nun-break the functional jobs.\n\nChange-Id: I0b847bd24305204388f1ff9dcb83fb6e11d2bac0\n'}]",0,796751,52eba441d171575726dc97c8b5c98681e65ac327,9,3,1,1131,,,0,"Fix functional jobs due to OVS file removal

The neutron file devstack/lib/ovs was removed in
https://review.opendev.org/c/openstack/neutron/+/793470
in favor of using the devstack in-tree version at
lib/neutron_plugins/ovs_source.  Start using it to
un-break the functional jobs.

Change-Id: I0b847bd24305204388f1ff9dcb83fb6e11d2bac0
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/51/796751/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/configure_functional_tests/tasks/main.yaml'],1,52eba441d171575726dc97c8b5c98681e65ac327,fix-functional-jobs, source $DEVSTACK_PATH/lib/neutron_plugins/ovs_source, source $NEUTRON_PATH/devstack/lib/ovs,1,1
openstack%2Fskyline-console~master~Ic166a2dfdc2ea282aa57cdc6332a89be4723c44c,openstack/skyline-console,master,Ic166a2dfdc2ea282aa57cdc6332a89be4723c44c,fix: Fix README.md for config change,ABANDONED,2021-06-17 06:38:33.000000000,2021-06-17 06:40:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-17 06:38:33.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e2a0706f2fa13ef4225f4ff9121a93eb9cd000d2', 'message': 'fix: Fix README.md for config change\n\nfix README.md for config chagne\n\nChange-Id: Ic166a2dfdc2ea282aa57cdc6332a89be4723c44c\n'}]",0,796765,e2a0706f2fa13ef4225f4ff9121a93eb9cd000d2,3,1,1,33636,,,0,"fix: Fix README.md for config change

fix README.md for config chagne

Change-Id: Ic166a2dfdc2ea282aa57cdc6332a89be4723c44c
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/65/796765/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,e2a0706f2fa13ef4225f4ff9121a93eb9cd000d2,,- `yarn run dev`: `webpack.dev.js` 47  `target`  skyline-api ,"- `yarn run dev`: `webpack.dev.js` 27  ""http://pre.xxx.com"" ",1,2
openstack%2Fswift~master~I4bb584dadc8d36e2533c5f7b555ce359fde79276,openstack/swift,master,I4bb584dadc8d36e2533c5f7b555ce359fde79276,Add object-expirer new mode to execute tasks from general task queue,NEW,2017-11-02 18:11:59.000000000,2021-06-17 05:51:51.000000000,,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 4608}, {'_account_id': 7233}, {'_account_id': 13052}, {'_account_id': 13852}, {'_account_id': 14766}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-02 18:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e5e6b8b3c8f15a8be23840335f0c10c35bf1ca4c', 'message': ""WIP: Update object expirer to use general task queue system\n\nAt first step for general task queue system [1], this patch update\nobject expirer's task system to use the general task queue system.\n\nThe general task queue system will be used in automated tiering\ntask system.\n\n[1]: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 2, 'created': '2017-12-20 12:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7dfa014b851b435058fbdd6a46b155a44f3d538c', 'message': ""WIP: Update object expirer to use general task queue system\n\nAt first step for general task queue system [1], this patch update\nobject expirer's task system to use the general task queue system.\n\nThe general task queue system will be used in automated tiering\ntask system.\n\n[1]: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 3, 'created': '2017-12-21 11:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/638242bdbf0bde0dcce517785d465a6efc84106c', 'message': ""WIP: Update object expirer to use general task queue system\n\nAt first step for general task queue system [1], this patch update\nobject expirer's task system to use the general task queue system.\n\nThe general task queue system will be used in automated tiering\ntask system.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 4, 'created': '2017-12-22 07:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d43ee63a3e7525aab720c615fb454e68e0465167', 'message': ""WIP: Update object expirer to use general task queue system\n\nAt first step for general task queue system [1], this patch update\nobject expirer's task system to use the general task queue system.\n\nThe general task queue system will be used in automated tiering\ntask system.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 5, 'created': '2018-01-10 11:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e2d59d78b61ee1322fc8e62357936dd1d6f4a749', 'message': ""WIP: Update object expirer to use general task queue system\n\nAt first step for general task queue system [1], this patch update\nobject expirer's task system to use the general task queue system.\n\nThe general task queue system will be used in automated tiering\ntask system.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 6, 'created': '2018-01-15 09:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/67295b2f469dffc205d32b64f772bdeb624fb466', 'message': ""WIP: Update object expirer to use general task queue system\n\nAt first step for general task queue system [1], this patch update\nobject expirer's task system to use the general task queue system.\n\nThe general task queue system will be used in automated tiering\ntask system.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 7, 'created': '2018-01-16 09:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2e8fcbbc2dbe77366aa4ce5be9472672a82d013d', 'message': ""WIP: Update object expirer to use general task queue system\n\nAt first step for general task queue system [1], this patch update\nobject expirer's task system to use the general task queue system.\n\nThe general task queue system will be used in automated tiering\ntask system.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 8, 'created': '2018-01-17 10:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4f7239ff041518fed3bae9a45e5f945c38c627df', 'message': ""Update object-expirer to use general task queue system\n\nAt first step for general task queue system [1], this patch updates\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nThe general task queue system will be used in auto tiering task\nsystem too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 9, 'created': '2018-01-17 10:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/42c198f349bfe6dc5149ed411af73074f1d9c6e6', 'message': ""Update object-expirer to use general task queue system\n\nAt first step for general task queue system [1], this patch updates\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nThe general task queue system will be used in auto tiering task\nsystem too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 10, 'created': '2018-01-18 06:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9b13cfe5e27eb0bccba54a2d9f156aa6958867dc', 'message': ""Update object-expirer to use general task queue system\n\nAt first step for general task queue system [1], this patch updates\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nThe general task queue system will be used in auto tiering task\nsystem too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 11, 'created': '2018-01-24 12:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a18284a285b826a38827f463e0edcbd62fb5c5f3', 'message': ""Update object-expirer to use general task queue system\n\nAt first step for general task queue system [1], this patch updates\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nThe general task queue system will be used in auto tiering task\nsystem too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 12, 'created': '2018-02-09 08:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7e3950e03876bb81fd2abbefbc5d08968acd1ca8', 'message': ""WIP: Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nThe general task queue system will be used in auto tiering task\nsystem too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 13, 'created': '2018-02-13 12:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3413a3211d69613a7e1b2da8c4778a7306eeadbb', 'message': ""WIP: Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nThe general task queue system will be used in auto tiering task\nsystem too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 14, 'created': '2018-02-13 12:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2a261b60e73f855a7910e295a5c084a95ebb41c4', 'message': ""WIP: Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nThe general task queue system will be used in auto tiering task\nsystem too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 15, 'created': '2018-02-19 11:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/eb4201bf5b5bc8df36340aaf5fcabd0be95671d6', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nThe general task queue system will be used in auto tiering task\nsystem too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 16, 'created': '2018-02-27 09:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b287a5b583485a888512a8ca9c3b793ca5d8a66d', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tssks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 17, 'created': '2018-02-28 12:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/827c93a7b0fdf219379dac4a26bb89baee9bd5c8', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tssks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 18, 'created': '2018-02-28 15:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/25c61bcbe0534cd944baa0cf89cee7e0431bbea6', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tssks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 19, 'created': '2018-03-01 18:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8466824a1e49aa7831e0b60332d75f3ba9bb7130', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tssks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 20, 'created': '2018-03-20 08:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/53a4f71b30d210adeacc056886ee0590f77e1bd5', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tssks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 21, 'created': '2018-03-27 08:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b76221d99cebf4f48aa138488fed0a6c66df8765', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tssks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 22, 'created': '2018-04-05 12:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3aae6e384b6eeee0f53a8c78bd783d05c54221a7', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 23, 'created': '2018-04-17 09:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/26eb4283daf628f53517c4f697ec1f4982fd7861', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 24, 'created': '2018-04-18 04:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6aa55d279d7a1f8f40bfe2a11223824a2703ee53', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 25, 'created': '2018-05-24 22:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1b88046587f46167ae1accf44fc74daa77e1d258', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 26, 'created': '2018-06-08 01:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4f176c55984a7e2b235a0ce6ae3a832c7e1106f9', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 27, 'created': '2018-06-08 01:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/accc12efe7ae4da213fda566bd628b4a3dd7403c', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 28, 'created': '2018-09-10 20:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e2a4afb1f6a718c94d3ece3fcb4f71b9f85f8c0f', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 29, 'created': '2018-09-12 05:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d9e3b4a22b7221eb0d768b751f6ca60800346aad', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 30, 'created': '2018-09-12 06:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0ed5948c8062350e1a9f6bb7d2b30d32e7bbeb8b', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 31, 'created': '2018-09-12 08:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9e0a069272d8f9094346770f368431b836863f4a', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 32, 'created': '2018-09-12 16:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bde878d37311e2f74581adf0847e93173f3bb42c', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 33, 'created': '2018-09-13 21:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/609dc6b7b3b6c95b073d6beba7a98844c60557a8', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 34, 'created': '2018-11-28 08:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/be05644f936de8d839cb3dd07a438cb01636623c', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 35, 'created': '2018-12-26 05:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7b8d2840373d3c195a71abb6d660c3122f3aeaa2', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 36, 'created': '2018-12-26 06:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5f47f792e4175cf9228b4e0dbdbfb2684b17cdbb', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 37, 'created': '2018-12-26 07:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8bcdb915bd54a46bfd59d3555a93c33d7b489f21', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 38, 'created': '2018-12-26 07:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4dfa25f681f5adc8bea0a1fa9fe1f9f9677f7bf0', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 39, 'created': '2018-12-27 11:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/14d113ff14127c0cce9668fa91daa6f12149c6f6', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 40, 'created': '2018-12-27 12:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9e90cec88105bc4745389ebcafcd2b20ec76c5ba', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 41, 'created': '2019-05-02 22:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/39077a22731aed5ba686fdc3a8ccd2b8dd269846', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 42, 'created': '2019-05-02 22:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d36ff26e2620a50e43aa194df48dff7748ae2a13', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 43, 'created': '2019-05-03 15:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/59e541d41d3772393bf50d6631973c29df0ac59c', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 44, 'created': '2019-05-04 10:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2bfcddf165a95f1c0bff405ee9fdb2b65eb22721', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 45, 'created': '2019-05-04 14:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/72286c948707bce82d6471bbafe0b5e95c0296b9', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 46, 'created': '2019-05-04 14:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d2a20f815e81b44f469d307bbd1d51bc4d6fee85', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}, {'number': 47, 'created': '2021-06-17 04:18:27.000000000', 'files': ['swift/obj/server.py', 'bin/swift-object-expirer', 'doc/manpages/object-server.conf.5', 'swift/proxy/controllers/obj.py', 'doc/manpages/object-expirer.conf.5', 'swift/obj/expirer.py', 'doc/saio/swift/object-server/1.conf', 'etc/object-server.conf-sample', 'doc/saio/swift/object-server/4.conf', 'etc/object-expirer.conf-sample', 'swift/common/middleware/slo.py', 'doc/manpages/proxy-server.conf.5', 'test/unit/proxy/test_server.py', 'test/unit/obj/test_server.py', 'doc/saio/swift/object-server/3.conf', 'swift/cli/container_deleter.py', 'test/unit/common/test_task_queue.py', 'swift/proxy/server.py', 'test/unit/obj/test_expirer.py', 'swift/common/utils.py', 'etc/proxy-server.conf-sample', 'doc/saio/swift/object-server/2.conf', 'doc/source/overview_expiring_objects.rst', 'swift/common/task_queue.py', 'test/probe/test_object_expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/88c7674f7a342aa04b680afb9c6c4d0f186d4ccf', 'message': ""Add object-expirer new mode to execute tasks from general task queue\n\nAt first step for general task queue system [1], this patch adds\nobject-expirer's task system to use the general task queue. With\nthis change, object-expirer's task queue will gain scalabilily. a\nlarge number of object-expirers will be able to run on a large swift\ncluster at the same time.\n\nAfter this patch, enqueue target of expiring tasks are automatically changed to\ngeneral task queue. Dequeue target of expiring tasks can be choosen by operator\nfrom legacy (=the task queue used before this patch) or general task queue.\n\nThe general task queue system will be used in auto tiering task system too.\n\n[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution\n[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276\n""}]",118,517389,88c7674f7a342aa04b680afb9c6c4d0f186d4ccf,164,9,47,14766,,,0,"Add object-expirer new mode to execute tasks from general task queue

At first step for general task queue system [1], this patch adds
object-expirer's task system to use the general task queue. With
this change, object-expirer's task queue will gain scalabilily. a
large number of object-expirers will be able to run on a large swift
cluster at the same time.

After this patch, enqueue target of expiring tasks are automatically changed to
general task queue. Dequeue target of expiring tasks can be choosen by operator
from legacy (=the task queue used before this patch) or general task queue.

The general task queue system will be used in auto tiering task system too.

[1] Basic idea: https://wiki.openstack.org/wiki/Swift/ideas/task-execution
[2] Details: https://docs.google.com/document/d/11sBbB6pBvLYNeM9wjTdvvsJIu8Dl8i13UH2NfRVNOqg/edit#

Co-Authored-By: Matthew Oliver <matt@oliver.net.au>

Change-Id: I4bb584dadc8d36e2533c5f7b555ce359fde79276
",git fetch https://review.opendev.org/openstack/swift refs/changes/89/517389/6 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'swift/common/utils.py', 'swift/common/constraints.py', 'swift/proxy/controllers/obj.py', 'swift/obj/expirer.py', 'swift/proxy/server.py', 'swift/common/internal_client.py']",7,e5e6b8b3c8f15a8be23840335f0c10c35bf1ca4c,new-expirer," self, path, marker='', end_marker='', prefix='', :param prefix: Prefix of items 'GET', '%s?format=json&marker=%s&end_marker=%s&prefix=%s' % (path, quote(marker), quote(end_marker), quote(prefix)), self, account, marker='', end_marker='', prefix='', :param prefix: Prefix of containers return self._iter_items( path, marker, end_marker, prefix, acceptable_statuses) self, account, container, marker='', end_marker='', prefix='', :param prefix: Prefix of objects return self._iter_items( path, marker, end_marker, prefix, acceptable_statuses)"," self, path, marker='', end_marker='', 'GET', '%s?format=json&marker=%s&end_marker=%s' % (path, quote(marker), quote(end_marker)), self, account, marker='', end_marker='', return self._iter_items(path, marker, end_marker, acceptable_statuses) self, account, container, marker='', end_marker='', return self._iter_items(path, marker, end_marker, acceptable_statuses)",282,156
openstack%2Fos-brick~stable%2Fussuri~I0278c502806b99f8ec65cb146e3852e43031e9b8,openstack/os-brick,stable/ussuri,I0278c502806b99f8ec65cb146e3852e43031e9b8,Avoid unhandled exceptions during connecting to iSCSI portals,MERGED,2021-05-20 11:31:37.000000000,2021-06-17 02:08:02.000000000,2021-06-17 02:06:49.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9542}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 33082}]","[{'number': 1, 'created': '2021-05-20 11:31:37.000000000', 'files': ['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'releasenotes/notes/bug-1915678-901a6bd24ecede72.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c336cb76b318f987d43ff908a5b7c9d40b5c4dd6', 'message': 'Avoid unhandled exceptions during connecting to iSCSI portals\n\nCurrently we don\'t properly catch some possible exceptions during\nconnectiing to iSCSI portals, like failures in ""iscsiadm -m session"".\nBecause of this _connect_vol threads can abort unexpectedly in some\nfailure patterns, and this abort causes hung in subsequent steps\nwaiting for results from _connct_vol threads.\n\nThis change ensures that any exceptions during connecting to iSCSI\nportals are handled in the _connect_vol method corectly, to avoid\nunexpected abort without updating thread results.\n\nConflicts:\n        os_brick/tests/initiator/connectors/test_iscsi.py\n\nCloses-Bug: #1915678\nChange-Id: I0278c502806b99f8ec65cb146e3852e43031e9b8\n(cherry picked from commit 4478433550ddab970f106636a4ba5fbba82c5e39)\n(cherry picked from commit 57c8f4334c0e58b151f449f3316bb9e1c8ed6da4)\n'}]",1,792359,c336cb76b318f987d43ff908a5b7c9d40b5c4dd6,17,6,1,9816,,,0,"Avoid unhandled exceptions during connecting to iSCSI portals

Currently we don't properly catch some possible exceptions during
connectiing to iSCSI portals, like failures in ""iscsiadm -m session"".
Because of this _connect_vol threads can abort unexpectedly in some
failure patterns, and this abort causes hung in subsequent steps
waiting for results from _connct_vol threads.

This change ensures that any exceptions during connecting to iSCSI
portals are handled in the _connect_vol method corectly, to avoid
unexpected abort without updating thread results.

Conflicts:
        os_brick/tests/initiator/connectors/test_iscsi.py

Closes-Bug: #1915678
Change-Id: I0278c502806b99f8ec65cb146e3852e43031e9b8
(cherry picked from commit 4478433550ddab970f106636a4ba5fbba82c5e39)
(cherry picked from commit 57c8f4334c0e58b151f449f3316bb9e1c8ed6da4)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/59/792359/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'releasenotes/notes/bug-1915678-901a6bd24ecede72.yaml']",3,c336cb76b318f987d43ff908a5b7c9d40b5c4dd6,bug/1915678,--- fixes: - | `Bug #1915678 <https://bugs.launchpad.net/cinder/+bug/1915678>`_: Fix unhandled exception during iscsi volume attachment with multipath enabled that resulted in the cinder-volume service becoming stuck and requiring a restart. ,,34,10
openstack%2Fcinder~stable%2Fstein~I8c445058a25c2eca2fda91bdeb6befedae34ccf2,openstack/cinder,stable/stein,I8c445058a25c2eca2fda91bdeb6befedae34ccf2,Do not fail when depth is greater than rbd_max_clone_depth,MERGED,2020-11-03 15:29:24.000000000,2021-06-17 02:02:40.000000000,2021-06-17 02:01:16.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7130}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-11-03 15:29:24.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'releasenotes/notes/bug-1901241-361b1b361bfa5152.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/66aad39a44cb7e4ac108624dd3c886241096c1cf', 'message': 'Do not fail when depth is greater than rbd_max_clone_depth\n\nRemoved a sanity check in the code that raised an exception\nif the clone depth of a volume to be cloned exceeded the\nrbd_max_clone_depth config value.  A consequence of this\ncheck was that if an operator lowered the value, volumes\nwhose clone depth was greater than the new value (as would\nbe allowed by the previous, higher setting) could no longer\nbe cloned.\n\nChange-Id: I8c445058a25c2eca2fda91bdeb6befedae34ccf2\nCloses-bug: #1901241\n(cherry picked from commit 8d8d242c3924037e6774a681efabce4893a26646)\n(cherry picked from commit 23a821b2a4bbb5696bc27044a455fc7837641111)\n(cherry picked from commit f6e5fe187ea947fd7d4624a4f456dd7e11c35c7d)\n(cherry picked from commit 0a3345cc0589f93e09bf55e02502e14f6e58e70e)\n'}]",0,761184,66aad39a44cb7e4ac108624dd3c886241096c1cf,34,17,1,10459,,,0,"Do not fail when depth is greater than rbd_max_clone_depth

Removed a sanity check in the code that raised an exception
if the clone depth of a volume to be cloned exceeded the
rbd_max_clone_depth config value.  A consequence of this
check was that if an operator lowered the value, volumes
whose clone depth was greater than the new value (as would
be allowed by the previous, higher setting) could no longer
be cloned.

Change-Id: I8c445058a25c2eca2fda91bdeb6befedae34ccf2
Closes-bug: #1901241
(cherry picked from commit 8d8d242c3924037e6774a681efabce4893a26646)
(cherry picked from commit 23a821b2a4bbb5696bc27044a455fc7837641111)
(cherry picked from commit f6e5fe187ea947fd7d4624a4f456dd7e11c35c7d)
(cherry picked from commit 0a3345cc0589f93e09bf55e02502e14f6e58e70e)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/84/761184/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'releasenotes/notes/bug-1901241-361b1b361bfa5152.yaml']",2,66aad39a44cb7e4ac108624dd3c886241096c1cf,force_flat_args,--- fixes: - | RBD driver `bug #1901241 <https://bugs.launchpad.net/cinder/+bug/1901241>`_: Fixed an issue where decreasing the ``rbd_max_clone_depth`` configuration option would prevent volumes that had already exceeded that depth from being cloned. ,,12,8
openstack%2Fkolla~stable%2Fussuri~Ia2efa6b5d7278b75ab8dec23207f92d6bd7c58f0,openstack/kolla,stable/ussuri,Ia2efa6b5d7278b75ab8dec23207f92d6bd7c58f0,[CI] Support building source images with in-review changes,MERGED,2021-05-28 12:46:21.000000000,2021-06-17 02:01:29.000000000,2021-06-16 21:28:35.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-28 12:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/94157d9ada4f395b1cadbc8fe3d9d651ebc57ee6', 'message': ""[CI] Support building source images with in-review changes\n\nFollowing this change it is possible to add 'Depends-On' lines to a\nkolla commit message that point to reviews in other projects. For\nexample, this could be used to test building and deploying container\nimages containing a change to the nova project that is currently in\nreview.\n\nIt also allows to introduce jobs testing against Kolla in other\nprojects.\n\nThe kolla-build-config Ansible role can also be used by other projects,\nsuch as kolla-ansible, to generate the necessary configuration.\n\nThis takes us closer to the Kolla Builder - Next Generation concept [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014255.html\n\nChange-Id: Ia2efa6b5d7278b75ab8dec23207f92d6bd7c58f0\nCo-Authored-By: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 6bfe9b8749c9a41b3d37816879bb0fac1fdd60d5)\n""}, {'number': 2, 'created': '2021-05-28 12:50:40.000000000', 'files': ['tests/playbooks/run.yml', 'roles/kolla-build-config/tasks/main.yml', 'tests/templates/kolla-build.conf.j2', 'roles/kolla-build-config/templates/kolla-build.conf.j2', 'roles/kolla-build-config/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9389ac1b45e20e372ec82e38742d94184e5251da', 'message': ""[CI] Support building source images with in-review changes\n\nFollowing this change it is possible to add 'Depends-On' lines to a\nkolla commit message that point to reviews in other projects. For\nexample, this could be used to test building and deploying container\nimages containing a change to the nova project that is currently in\nreview.\n\nIt also allows to introduce jobs testing against Kolla in other\nprojects.\n\nThe kolla-build-config Ansible role can also be used by other projects,\nsuch as kolla-ansible, to generate the necessary configuration.\n\nThis takes us closer to the Kolla Builder - Next Generation concept [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014255.html\n\nChange-Id: Ia2efa6b5d7278b75ab8dec23207f92d6bd7c58f0\nCo-Authored-By: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 6bfe9b8749c9a41b3d37816879bb0fac1fdd60d5)\n""}]",0,793568,9389ac1b45e20e372ec82e38742d94184e5251da,22,3,2,30491,,,0,"[CI] Support building source images with in-review changes

Following this change it is possible to add 'Depends-On' lines to a
kolla commit message that point to reviews in other projects. For
example, this could be used to test building and deploying container
images containing a change to the nova project that is currently in
review.

It also allows to introduce jobs testing against Kolla in other
projects.

The kolla-build-config Ansible role can also be used by other projects,
such as kolla-ansible, to generate the necessary configuration.

This takes us closer to the Kolla Builder - Next Generation concept [1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014255.html

Change-Id: Ia2efa6b5d7278b75ab8dec23207f92d6bd7c58f0
Co-Authored-By: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 6bfe9b8749c9a41b3d37816879bb0fac1fdd60d5)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/68/793568/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/run.yml', 'roles/kolla-build-config/tasks/main.yml', 'tests/templates/kolla-build.conf.j2', 'roles/kolla-build-config/templates/kolla-build.conf.j2', 'roles/kolla-build-config/defaults/main.yml']",5,94157d9ada4f395b1cadbc8fe3d9d651ebc57ee6,depends-on-support-stable/ussuri,"--- # Path to the kolla config file. kolla_build_config_path: /etc/kolla/kolla-build.conf # Dict of configuration to add to kolla-build.conf. # Format: # kolla_build_config: # ""section"": # ""option name"": ""option value"" kolla_build_config: {} # Dict mapping project names to sections in kolla-build.conf. kolla_build_sources: openstack/requirements: openstack-base openstack/aodh: aodh-base openstack/barbican: barbican-base openstack/bifrost: bifrost-base openstack/blazar: blazar-base openstack/blazar-nova: nova-base-plugin-blazar openstack/ceilometer: ceilometer-base openstack/cinder: cinder-base openstack/cloudkitty: cloudkitty-base openstack/designate: designate-base openstack/ec2-api: ec2-api openstack/freezer: freezer-base openstack/freezer-api: freezer-api openstack/glance: glance-base openstack/gnocchi: gnocchi-base openstack/heat: heat-base openstack/ironic: ironic-base openstack/ironic-inspector: ironic-inspector openstack/karbor: karbor-base openstack/keystone: keystone-base openstack/kuryr: kuryr-base openstack/kuryr-libnetwork: kuryr-libnetwork openstack/magnum: magnum-base openstack/manila: manila-base openstack/mistral: mistral-base openstack/monasca-agent: monasca-agent openstack/monasca-api: monasca-api openstack/monasca-notification: monasca-notification openstack/monasca-persister: monasca-persister openstack/monasca-statsd: monasca-statsd openstack/monasca-common: monasca-thresh-additions-monasca-common openstack/murano: murano-base openstack/neutron: neutron-base openstack/networking-ansible: neutron-base-plugin-networking-ansible openstack/networking-baremetal: neutron-base-plugin-networking-baremetal openstack/neutron-dynamic-routing: - neutron-bgp-dragent - neutron-server-plugin-neutron-dynamic-routing openstack/networking-infoblox: neutron-server-plugin-networking-infoblox openstack/networking-generic-switch: neutron-base-plugin-networking-generic-switch openstack/networking-sfc: - neutron-base-plugin-networking-sfc - tacker-base-plugin-networking-sfc openstack/vmware-nsx: neutron-base-plugin-vmware-nsx openstack/vmware-nsxlib: neutron-server-plugin-vmware-nsxlib openstack/neutron-vpnaas: - neutron-vpnaas-agent - neutron-base-plugin-vpnaas-agent openstack/nova: nova-base openstack/nova-mksproxy: nova-base-plugin-mksproxy openstack/novajoin: novajoin-base openstack/octavia: octavia-base openstack/panko: - ceilometer-base-plugin-panko - panko-base openstack/rally: rally openstack/sahara: sahara-base openstack/searchlight: searchlight-base openstack/senlin: senlin-base openstack/solum: solum-base swift-base: openstack/swift openstack/tacker: - tacker-base - mistral-base-plugin-tacker openstack/trove: trove-base openstack/vitrage: vitrage-base openstack/vmtp: vmtp openstack/watcher: watcher-base openstack/zaqar: zaqar openstack/zun: zun-base # Horizon and its plugins openstack/horizon: horizon openstack/blazar-dashboard: horizon-plugin-blazar-dashboard openstack/cloudkitty-dashboard: horizon-plugin-cloudkitty-dashboard openstack/designate-dashboard: horizon-plugin-designate-dashboard openstack/freezer-web-ui: horizon-plugin-freezer-web-ui openstack/heat-dashboard: horizon-plugin-heat-dashboard openstack/ironic-ui: horizon-plugin-ironic-ui openstack/karbor-dashboard: horizon-plugin-karbor-dashboard openstack/magnum-ui: horizon-plugin-magnum-ui openstack/manila-ui: horizon-plugin-manila-ui openstack/mistral-dashboard: horizon-plugin-mistral-dashboard openstack/monasca-ui: horizon-plugin-monasca-ui openstack/murano-dashboard: horizon-plugin-murano-dashboard openstack/neutron-vpnaas-dashboard: horizon-plugin-neutron-vpnaas-dashboard openstack/octavia-dashboard: horizon-plugin-octavia-dashboard openstack/sahara-dashboard: horizon-plugin-sahara-dashboard openstack/searchlight-ui: horizon-plugin-searchlight-ui openstack/senlin-dashboard: horizon-plugin-senlin-dashboard openstack/solum-dashboard: horizon-plugin-solum-dashboard openstack/tacker-horizon: horizon-plugin-tacker-dashboard openstack/trove-dashboard: horizon-plugin-trove-dashboard openstack/vitrage-dashboard: horizon-plugin-vitrage-dashboard openstack/watcher-dashboard: horizon-plugin-watcher-dashboard openstack/zaqar-ui: horizon-plugin-zaqar-ui openstack/zun-ui: horizon-plugin-zun-ui # Tempest and its plugins openstack/tempest: tempest openstack/patrole: tempest-plugin-patrole openstack/python-tempestconf: tempest-plugin-tempest-conf openstack/barbican-tempest-plugin: tempest-plugin-barbican openstack/blazar-tempest-plugin: tempest-plugin-blazar openstack/cinder-tempest-plugin: tempest-plugin-cinder openstack/ec2api-tempest-plugin: tempest-plugin-ec2api openstack/heat-tempest-plugin: tempest-plugin-heat openstack/ironic-tempest-plugin: tempest-plugin-ironic openstack/keystone-tempest-plugin: tempest-plugin-keystone openstack/magnum-tempest-plugin: tempest-plugin-magnum openstack/manila-tempest-plugin: tempest-plugin-manila openstack/mistral-tempest-plugin: tempest-plugin-mistral openstack/monasca-tempest-plugin: tempest-plugin-monasca openstack/murano-tempest-plugin: tempest-plugin-murano openstack/neutron-tempest-plugin: tempest-plugin-neutron openstack/telemetry-tempest-plugin: tempest-plugin-telemetry openstack/trove-tempest-plugin: tempest-plugin-trove openstack/vitrage-tempest-plugin: tempest-plugin-vitrage openstack/watcher-tempest-plugin: tempest-plugin-watcher openstack/zaqar-tempest-plugin: tempest-plugin-zaqar ",,194,4
openstack%2Fcinder~stable%2Fstein~I796fcf8969adae3338861a1b2f3310fafcacfbcb,openstack/cinder,stable/stein,I796fcf8969adae3338861a1b2f3310fafcacfbcb,NetApp SolidFire: Fix failback failing after service restart,MERGED,2020-11-26 03:23:05.000000000,2021-06-17 01:51:29.000000000,2021-06-17 01:50:09.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-11-26 03:23:05.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/bug-1859653-solidfire-fix-failover-after-service-restart-77e5e4da45c9c1aa.yaml', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0f7e27950ec511914a04e0f3e19364fbac3a73f', 'message': ""NetApp SolidFire: Fix failback failing after service restart\n\nAfter a successful failover, if the volume service was restarted,\nthe driver wouldn't be able to failback to the primary cluster\ndue to incomplete cluster data.\n\nThis patch address this problem by gathering data from the\nprimary cluster during the failback procedure.\n\nChange-Id: I796fcf8969adae3338861a1b2f3310fafcacfbcb\nCloses-bug: #1859653\n(cherry picked from commit f24eb2fc630f32697fd9afdfdec97e0f61493a46)\n(cherry picked from commit eec1b92171367545bc2de3217830e9354e6c6def)\n""}]",0,764271,c0f7e27950ec511914a04e0f3e19364fbac3a73f,13,4,1,30555,,,0,"NetApp SolidFire: Fix failback failing after service restart

After a successful failover, if the volume service was restarted,
the driver wouldn't be able to failback to the primary cluster
due to incomplete cluster data.

This patch address this problem by gathering data from the
primary cluster during the failback procedure.

Change-Id: I796fcf8969adae3338861a1b2f3310fafcacfbcb
Closes-bug: #1859653
(cherry picked from commit f24eb2fc630f32697fd9afdfdec97e0f61493a46)
(cherry picked from commit eec1b92171367545bc2de3217830e9354e6c6def)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/764271/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/bug-1859653-solidfire-fix-failover-after-service-restart-77e5e4da45c9c1aa.yaml', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']",3,c0f7e27950ec511914a04e0f3e19364fbac3a73f,," 'clusterAPIVersion': '9.4', self.configuration.replication_device = [] reset_mocks() drv_args = {'active_backend_id': None} sfv = solidfire.SolidFireDriver(configuration=self.configuration, **drv_args) self.assertRaises(exception.UnableToFailOver, sfv.failover_host, ctx, cinder_vols, 'fake', None) mock_map_sf_volumes.assert_not_called() mock_create_cluster_reference.return_value = self.cluster_pairs[0] drv_args = {'active_backend_id': 'secondary'} sfv.cluster_pairs = self.cluster_pairs sfv.cluster_pairs[0]['backend_id'] = 'fake' sfv.replication_enabled = True cluster_id, updates, _ = sfv.failover_host( ctx, cinder_vols, secondary_id='default', groups=None) self.assertEqual(5, len(updates)) for update in updates: self.assertEqual(fields.ReplicationStatus.ENABLED, update['updates']['replication_status']) self.assertEqual('', cluster_id) mock_get_create_account.assert_called() mock_failover_volume.assert_called() mock_map_sf_volumes.assert_called() mock_update_cluster_status.assert_called() mock_set_cluster_pairs.assert_called() mock_create_cluster_reference.assert_called()"," mock_create_cluster_reference.return_value = self.cluster_pairs[0] drv_args = {'active_backend_id': 'default'} sfv = solidfire.SolidFireDriver(configuration=self.configuration, **drv_args) self.assertRaises(exception.UnableToFailOver, sfv.failover_host, ctx, cinder_vols, 'default', None) mock_map_sf_volumes.assert_not_called() reset_mocks() drv_args = {'active_backend_id': None} sfv.cluster_pairs = [None] self.assertRaises(exception.UnableToFailOver, sfv.failover_host, ctx, cinder_vols, secondary_id='fake', groups=None) mock_map_sf_volumes.assert_not_called() mock_get_cluster_info.assert_not_called() mock_issue_api_request.assert_not_called()",85,53
openstack%2Fcinder~stable%2Fwallaby~Id6b27eb7b90c8a8c91fb46de69aa94b8210da18d,openstack/cinder,stable/wallaby,Id6b27eb7b90c8a8c91fb46de69aa94b8210da18d,Add warning message about slow volume backend,MERGED,2021-05-19 13:43:32.000000000,2021-06-17 01:46:26.000000000,2021-06-17 01:45:07.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-05-19 13:43:32.000000000', 'files': ['cinder/volume/manager.py', 'releasenotes/notes/slow-get-volume-stats-91b84c6e661dc605.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/63abc40463c4397d4e11e39afb8033cd9690a4f6', 'message': 'Add warning message about slow volume backend\n\nIf a volume driver takes an excessively long amount\nof time to return volume stats info, the only indication\nif this is a generic ""Function outlasted interval"" message\nthat doesn\'t really explain what is going on.\n\nIntroduce a specific log message when this happens so\nthat this situation is more clear for someone looking\nat cinder-volume logs.\n\nThe message is set to trigger if the driver takes more\nthan half of the stats polling interval to complete.\n\nChange-Id: Id6b27eb7b90c8a8c91fb46de69aa94b8210da18d\n(cherry picked from commit 6d85d05f7847defcd972b1702ab9b14f22e60d4e)\n'}]",0,792148,63abc40463c4397d4e11e39afb8033cd9690a4f6,22,5,1,4523,,,0,"Add warning message about slow volume backend

If a volume driver takes an excessively long amount
of time to return volume stats info, the only indication
if this is a generic ""Function outlasted interval"" message
that doesn't really explain what is going on.

Introduce a specific log message when this happens so
that this situation is more clear for someone looking
at cinder-volume logs.

The message is set to trigger if the driver takes more
than half of the stats polling interval to complete.

Change-Id: Id6b27eb7b90c8a8c91fb46de69aa94b8210da18d
(cherry picked from commit 6d85d05f7847defcd972b1702ab9b14f22e60d4e)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/792148/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'releasenotes/notes/slow-get-volume-stats-91b84c6e661dc605.yaml']",2,63abc40463c4397d4e11e39afb8033cd9690a4f6,,--- features: - | Log a warning from the volume service when a volume driver's get_volume_stats() call takes a long time to return. This can help deployers troubleshoot a cinder-volume service misbehaving due to a driver/backend performance issue. ,,21,1
openstack%2Fswift~master~Ic59f2f0a1890a496398a0d30c9ed5ab7c6fa7d87,openstack/swift,master,Ic59f2f0a1890a496398a0d30c9ed5ab7c6fa7d87,Run in-process func tests under py38,MERGED,2021-06-08 22:25:38.000000000,2021-06-17 01:41:44.000000000,2021-06-17 01:39:29.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 22:25:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/8e75faff8047589702b619b4980b27d8bcb2970c', 'message': 'Run in-process func tests under py38\n\nChange-Id: Ic59f2f0a1890a496398a0d30c9ed5ab7c6fa7d87\n'}]",0,795425,8e75faff8047589702b619b4980b27d8bcb2970c,7,2,1,15343,,,0,"Run in-process func tests under py38

Change-Id: Ic59f2f0a1890a496398a0d30c9ed5ab7c6fa7d87
",git fetch https://review.opendev.org/openstack/swift refs/changes/25/795425/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8e75faff8047589702b619b4980b27d8bcb2970c,, name: swift-tox-func-py38 nodeset: ubuntu-focal Run functional tests for swift under cPython version 3.8. bindep_profile: test py38 python_version: 3.8 parent: swift-tox-func-py38 name: swift-tox-func-encryption-py38 parent: swift-tox-func-py38 Run functional tests for swift under cPython version 3.8. name: swift-tox-func-ec-py38 parent: swift-tox-func-py38 Run functional tests for swift under cPython version 3.8. - swift-tox-func-py38: - swift-tox-func-encryption-py38: - swift-tox-func-ec-py38: - swift-tox-func-py38 - swift-tox-func-encryption-py38 - swift-tox-func-ec-py38, name: swift-tox-func-py37 nodeset: ubuntu-bionic Run functional tests for swift under cPython version 3.7. bindep_profile: test py37 python_version: 3.7 parent: swift-tox-func-py37 name: swift-tox-func-encryption-py37 parent: swift-tox-func-py37 Run functional tests for swift under cPython version 3.7. name: swift-tox-func-ec-py37 parent: swift-tox-func-py37 Run functional tests for swift under cPython version 3.7. - swift-tox-func-py37: - swift-tox-func-encryption-py37: - swift-tox-func-ec-py37: - swift-tox-func-py37 - swift-tox-func-encryption-py37 - swift-tox-func-ec-py37,18,18
openstack%2Ftempest~master~I031094ab196268dc2c20b38be4864f59639358a7,openstack/tempest,master,I031094ab196268dc2c20b38be4864f59639358a7,Use volume_type option in tempest.conf in compute api test,MERGED,2021-06-11 16:54:46.000000000,2021-06-17 01:40:53.000000000,2021-06-17 01:39:20.000000000,"[{'_account_id': 1921}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 18213}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 29651}, {'_account_id': 30495}, {'_account_id': 30746}, {'_account_id': 33282}]","[{'number': 1, 'created': '2021-06-11 16:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/30ddc4fbb9b99689e6ecb86f46800e1143b9cfa5', 'message': 'Use volume_type option in tempest.conf in compute api test\n\nA new configuration option volume_type was added to tempest.conf\nto allow tempest users to select volume type during volume creation.\n\nIn this patchset, this volume_type value is used if configured for\ncompute api volume creation.\n\nChange-Id: I031094ab196268dc2c20b38be4864f59639358a7\n'}, {'number': 2, 'created': '2021-06-15 19:30:31.000000000', 'files': ['tempest/api/compute/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/dba4c9dedb4bbd14d6b09c796e4dfa234cd7824f', 'message': 'Use volume_type option in tempest.conf in compute api test\n\nA new configuration option volume_type was added to tempest.conf\nto allow tempest users to select volume type during volume creation.\n\nIn this patchset, this volume_type value is used if configured for\ncompute api volume creation.\n\nChange-Id: I031094ab196268dc2c20b38be4864f59639358a7\n'}]",0,796048,dba4c9dedb4bbd14d6b09c796e4dfa234cd7824f,35,15,2,18236,,,0,"Use volume_type option in tempest.conf in compute api test

A new configuration option volume_type was added to tempest.conf
to allow tempest users to select volume type during volume creation.

In this patchset, this volume_type value is used if configured for
compute api volume creation.

Change-Id: I031094ab196268dc2c20b38be4864f59639358a7
",git fetch https://review.opendev.org/openstack/tempest refs/changes/48/796048/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/base.py'],1,30ddc4fbb9b99689e6ecb86f46800e1143b9cfa5,, if CONF.volume.volume_type and 'volume_type' not in kwargs: # If volume_type is not provided in config then no need to # add a volume type and # if volume_type has already been added by child class then # no need to override. kwargs['volume_type'] = CONF.volume.volume_type,,6,0
openstack%2Fproject-config~master~Ied3abc965b39ff4d5cc7ee36b5c2173fd6f1e7b2,openstack/project-config,master,Ied3abc965b39ff4d5cc7ee36b5c2173fd6f1e7b2,"Revert ""Disable the osuosl arm64 cloud""",MERGED,2021-06-16 04:18:50.000000000,2021-06-17 01:28:18.000000000,2021-06-17 01:19:25.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 04:18:50.000000000', 'files': ['nodepool/nl03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1d47a73740078345fffeefbe92b559e76aa85d3b', 'message': 'Revert ""Disable the osuosl arm64 cloud""\n\nThis reverts commit 841ed3f2eee567579080dd5de56ebfb9f83c0bb0.\n\nThis turned out to be due to timeouts of the service when starting.\nWe have increased this timeout with\nI37186494b9afd72eab3a092279579f1a5fa5d22c.\n\nChange-Id: Ied3abc965b39ff4d5cc7ee36b5c2173fd6f1e7b2\n'}]",0,796585,1d47a73740078345fffeefbe92b559e76aa85d3b,7,2,1,7118,,,0,"Revert ""Disable the osuosl arm64 cloud""

This reverts commit 841ed3f2eee567579080dd5de56ebfb9f83c0bb0.

This turned out to be due to timeouts of the service when starting.
We have increased this timeout with
I37186494b9afd72eab3a092279579f1a5fa5d22c.

Change-Id: Ied3abc965b39ff4d5cc7ee36b5c2173fd6f1e7b2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/85/796585/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl03.opendev.org.yaml'],1,1d47a73740078345fffeefbe92b559e76aa85d3b,osuosl-reenable, max-servers: 15, max-servers: 0,1,1
openstack%2Ftempest~master~I6fa17ae413f106453303c4882925573bd8e05029,openstack/tempest,master,I6fa17ae413f106453303c4882925573bd8e05029,Move verify-ipv6-only-deployments,MERGED,2021-06-07 17:53:56.000000000,2021-06-17 01:16:02.000000000,2021-06-17 01:14:46.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-07 17:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6539772852fd4d9dfc7bf9f84de3f5c999fde765', 'message': 'Move verify-ipv6-only-deployments\n\nfrom Tempest to DevStack as it tests DevStack side of things and\nis useful for projects not using Tempest.\n\nThis is part 2 of 2.\nThe 1st part is DevStack-side, in Depends-On.\n\nPlease merge only after Depends-On shows all supported branches\nhave merged the patches.\n\nDepends-On: Ie166730843f874b9c99e37244e460d7ad33b7eeb\nChange-Id: I6fa17ae413f106453303c4882925573bd8e05029\n'}, {'number': 2, 'created': '2021-06-10 07:45:35.000000000', 'files': ['tools/verify-ipv6-only-deployments.sh', 'roles/ipv6-only-deployments-verification/defaults/main.yaml', 'roles/ipv6-only-deployments-verification/tasks/main.yaml', 'roles/ipv6-only-deployments-verification/README.rst', 'playbooks/devstack-tempest-ipv6.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/151cd7b9ac97265590adcd82c3d7a0ed58480e25', 'message': 'Move verify-ipv6-only-deployments\n\nfrom Tempest to DevStack as it tests DevStack side of things and\nis useful for projects not using Tempest.\n\nThis is part 2 of 2.\nThe 1st part is DevStack-side, in Depends-On.\n\nThe script is left calling out to devstack because legacy (dsvm)\njobs rely on its presence.\n\nDepends-On: Ie166730843f874b9c99e37244e460d7ad33b7eeb\nChange-Id: I6fa17ae413f106453303c4882925573bd8e05029\n'}]",0,795162,151cd7b9ac97265590adcd82c3d7a0ed58480e25,20,4,2,30491,,,0,"Move verify-ipv6-only-deployments

from Tempest to DevStack as it tests DevStack side of things and
is useful for projects not using Tempest.

This is part 2 of 2.
The 1st part is DevStack-side, in Depends-On.

The script is left calling out to devstack because legacy (dsvm)
jobs rely on its presence.

Depends-On: Ie166730843f874b9c99e37244e460d7ad33b7eeb
Change-Id: I6fa17ae413f106453303c4882925573bd8e05029
",git fetch https://review.opendev.org/openstack/tempest refs/changes/62/795162/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/verify-ipv6-only-deployments.sh', 'roles/ipv6-only-deployments-verification/defaults/main.yaml', 'roles/ipv6-only-deployments-verification/tasks/main.yaml', 'roles/ipv6-only-deployments-verification/README.rst', 'playbooks/devstack-tempest-ipv6.yaml']",5,6539772852fd4d9dfc7bf9f84de3f5c999fde765,move-verify-ipv6-only-deployments, - devstack-ipv6-only-deployments-verification, - ipv6-only-deployments-verification,1,114
openstack%2Fcinder~master~Ic23fe1119191eea7d25b97b900e92764a5f7e751,openstack/cinder,master,Ic23fe1119191eea7d25b97b900e92764a5f7e751,Remove references to directly editing files in /usr/share/openstack-tripleo-heat-templates,ABANDONED,2019-10-11 02:41:57.000000000,2021-06-16 23:54:07.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13671}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 14985}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16347}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25033}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28614}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}, {'_account_id': 31016}]","[{'number': 1, 'created': '2019-10-11 02:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f7221dbbc89addcd7a6a74ee7ecc89310c9659ae', 'message': ""Remove references to directly editing files in /usr/share/openstack-tripleo-heat-templates\n\nIf users directly edit the files from the RPM, the changes will be removed\non the next update. This can break the existing deployment if they don't\nre-add the manual changes. Better to reference the available *OptVolume\nparameters to achieve this.\n\nChange-Id: Ic23fe1119191eea7d25b97b900e92764a5f7e751\nCloses-Bug: #1847703\n""}, {'number': 2, 'created': '2019-10-11 05:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a2ba147a3016e224471da96ae501a20bfd9c41bd', 'message': ""Remove references to directly editing files in /usr/share/openstack-tripleo-heat-templates\n\nIf users directly edit the files from the RPM, the changes will be removed\non the next update. This can break the existing deployment if they don't\nre-add the manual changes. Better to reference the available *OptVolume\nparameters to achieve this.\n\nChange-Id: Ic23fe1119191eea7d25b97b900e92764a5f7e751\nCloses-Bug: #1847703\n""}, {'number': 3, 'created': '2019-10-14 01:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2292ea1ed267a54ae40628e6dca935bd1b9d846e', 'message': ""Remove references to directly editing files in /usr/share/openstack-tripleo-heat-templates\n\nIf users directly edit the files from the RPM, the changes will be removed\non the next update. This can break the existing deployment if they don't\nre-add the manual changes. Better to reference the available *OptVolume\nparameters to achieve this.\n\nChange-Id: Ic23fe1119191eea7d25b97b900e92764a5f7e751\nCloses-Bug: #1847703\n""}, {'number': 4, 'created': '2019-10-16 01:56:26.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-vxflex-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9dc1f3f88693c6afd1b916ea51348f7b89129715', 'message': ""Remove references to directly editing files in /usr/share/openstack-tripleo-heat-templates\n\nIf users directly edit the files from the RPM, the changes will be removed\non the next update. This can break the existing deployment if they don't\nre-add the manual changes. Better to reference the available *OptVolume\nparameters to achieve this.\n\nChange-Id: Ic23fe1119191eea7d25b97b900e92764a5f7e751\nCloses-Bug: #1847703\n""}]",6,688023,9dc1f3f88693c6afd1b916ea51348f7b89129715,97,38,4,30073,,,0,"Remove references to directly editing files in /usr/share/openstack-tripleo-heat-templates

If users directly edit the files from the RPM, the changes will be removed
on the next update. This can break the existing deployment if they don't
re-add the manual changes. Better to reference the available *OptVolume
parameters to achieve this.

Change-Id: Ic23fe1119191eea7d25b97b900e92764a5f7e751
Closes-Bug: #1847703
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/688023/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-vxflex-driver.rst'],1,f7221dbbc89addcd7a6a74ee7ecc89310c9659ae,,"before deploying the overcloud, the additional volumes will need to be added to Cinder and Nova containers. This can be done by creating a file called scaleio_volumes.yaml with the following content:parameter_defaults: CinderVolumeOptVolumes: - /opt/emc/scaleio:/opt/emc/scaleio - /bin/emc/scaleio:/bin/emc/scaleio NovaComputeOptVolumes: - /opt/emc/scaleio:/opt/emc/scaleio - /bin/emc/scaleio:/bin/emc/scaleioOnce the above changes have been made, deploy the overcloud as usual and include the new scaleio_volumes.yaml file using: .. code-block:: console openstack overcloud deploy --template \ [..] -e scaleio_volumes.yaml [..] ","before deploying the overcloud, modify the TripleO Heat Template for the nova-compute and cinder-volume containers to add volume mappings for directories containing the SDC components. These files can normally be found at ``/usr/share/openstack-tripleo-heat-templates/docker/services/nova-compute.yaml`` and ``/usr/share/openstack-tripleo-heat-templates/docker/services/cinder-volume.yaml`` Two lines need to be inserted into the list of mapped volumes in each container. /opt/emc/scaleio:/opt/emc/scaleio /bin/emc/scaleio:/bin/emc/scaleioThe changes to the two heat templates are identical, as an example the original nova-compute file should have section that resembles the following: .. code-block:: yaml ... docker_config: step_4: nova_compute: image: &nova_compute_image {get_param: DockerNovaComputeImage} ipc: host net: host privileged: true user: nova restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/nova_compute.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/nova_libvirt/:/var/lib/kolla/config_files/src:ro - /etc/ceph:/var/lib/kolla/config_files/src-ceph:ro - /dev:/dev - /lib/modules:/lib/modules:ro - /etc/iscsi:/etc/iscsi - /run:/run - /var/lib/nova:/var/lib/nova:shared - /var/lib/libvirt:/var/lib/libvirt - /var/log/containers/nova:/var/log/nova - /sys/class/net:/sys/class/net - /sys/bus/pci:/sys/bus/pci environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS ... .. end After modifying the nova-compute file, the section should resemble: .. code-block:: yaml ... docker_config: step_4: nova_compute: image: &nova_compute_image {get_param: DockerNovaComputeImage} ipc: host net: host privileged: true user: nova restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/nova_compute.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/nova_libvirt/:/var/lib/kolla/config_files/src:ro - /etc/ceph:/var/lib/kolla/config_files/src-ceph:ro - /dev:/dev - /lib/modules:/lib/modules:ro - /etc/iscsi:/etc/iscsi - /run:/run - /var/lib/nova:/var/lib/nova:shared - /var/lib/libvirt:/var/lib/libvirt - /var/log/containers/nova:/var/log/nova - /sys/class/net:/sys/class/net - /sys/bus/pci:/sys/bus/pci - /opt/emc/scaleio:/opt/emc/scaleio - /bin/emc/scaleio:/bin/emc/scaleio environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS ... .. end Once the nova-compute file is modified, make an identical change to the cinder-volume file. Once the above changes have been made, deploy the overcloud as usual.",20,93
openstack%2Fkolla~stable%2Ftrain~I8460a4159c8da8ae0b856867e068d30fbffb4d34,openstack/kolla,stable/train,I8460a4159c8da8ae0b856867e068d30fbffb4d34,Enable Debian updates repo,MERGED,2021-06-10 19:32:31.000000000,2021-06-16 23:45:49.000000000,2021-06-16 23:44:17.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-10 19:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/10396963f82b02d83643370150af8a56d8fbf46f', 'message': 'Enable Debian updates repo\n\nBackport below Wallaby switching bullseye to buster.\n\nCloses-Bug: #1931544\nChange-Id: I8460a4159c8da8ae0b856867e068d30fbffb4d34\n(cherry picked from commit 789c9c3b84e84796ac8211112fa29f415f560c88)\n'}, {'number': 2, 'created': '2021-06-16 15:14:57.000000000', 'files': ['releasenotes/notes/bug-1931544-5a091735efb6d6dd.yaml', 'docker/base/sources.list.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7a8fe4221622cf0528d555e1a9d7873ca0895f34', 'message': 'Enable Debian updates repo\n\nBackport below Wallaby switching bullseye to buster.\n\nCloses-Bug: #1931544\nChange-Id: I8460a4159c8da8ae0b856867e068d30fbffb4d34\n(cherry picked from commit 789c9c3b84e84796ac8211112fa29f415f560c88)\n'}]",0,795874,7a8fe4221622cf0528d555e1a9d7873ca0895f34,15,3,2,30491,,,0,"Enable Debian updates repo

Backport below Wallaby switching bullseye to buster.

Closes-Bug: #1931544
Change-Id: I8460a4159c8da8ae0b856867e068d30fbffb4d34
(cherry picked from commit 789c9c3b84e84796ac8211112fa29f415f560c88)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/74/795874/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1931544-5a091735efb6d6dd.yaml', 'docker/base/sources.list.debian']",2,10396963f82b02d83643370150af8a56d8fbf46f,bug/1931544-stable/wallaby-stable/victoria-stable/ussuri-stable/train,# debian updates deb http://deb.debian.org/debian buster-updates main ,,12,0
openstack%2Fneutron~master~I65fe53ee753ac68340f7d4d928643d3d8e5c8694,openstack/neutron,master,I65fe53ee753ac68340f7d4d928643d3d8e5c8694,"Remove the devstack/lib/ovs in favour of ""ovs_source"" from DevStack",MERGED,2021-05-27 16:27:19.000000000,2021-06-16 23:41:27.000000000,2021-06-16 23:39:27.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 16:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/98f9fa8ac9e543cf1dc47d3056f7ec766d986696', 'message': 'Remove the devstack/lib/ovs in favour of ""ovs_source"" from DevStack\n\nThis patch removes the devstack/lib/ovs module and update the scripts to\nuse the ovs_source module from DevStack instead.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/791085\nChange-Id: I65fe53ee753ac68340f7d4d928643d3d8e5c8694\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2021-05-27 18:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd013fa7e2895c90fc38c05a3341b62f0fb7584b', 'message': 'Remove the devstack/lib/ovs in favour of ""ovs_source"" from DevStack\n\nThis patch removes the devstack/lib/ovs module and update the scripts to\nuse the ovs_source module from DevStack instead.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/791085\nChange-Id: I65fe53ee753ac68340f7d4d928643d3d8e5c8694\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2021-05-31 08:42:13.000000000', 'files': ['tools/configure_for_func_testing.sh', 'devstack/plugin.sh', 'roles/configure_functional_tests/tasks/main.yaml', 'devstack/lib/ovs'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f0ca67ed6e81f396c64a3972a1287cfdb913abe', 'message': 'Remove the devstack/lib/ovs in favour of ""ovs_source"" from DevStack\n\nThis patch removes the devstack/lib/ovs module and update the scripts to\nuse the ovs_source module from DevStack instead.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/791085\nChange-Id: I65fe53ee753ac68340f7d4d928643d3d8e5c8694\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",3,793470,7f0ca67ed6e81f396c64a3972a1287cfdb913abe,42,4,3,6773,,,0,"Remove the devstack/lib/ovs in favour of ""ovs_source"" from DevStack

This patch removes the devstack/lib/ovs module and update the scripts to
use the ovs_source module from DevStack instead.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/791085
Change-Id: I65fe53ee753ac68340f7d4d928643d3d8e5c8694
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/793470/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/configure_for_func_testing.sh', 'roles/configure_functional_tests/tasks/main.yaml', 'devstack/lib/ovs']",3,98f9fa8ac9e543cf1dc47d3056f7ec766d986696,ovn-devstack,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # Defaults # -------- # Set variables for building OVS from source OVS_REPO=${OVS_REPO:-https://github.com/openvswitch/ovs.git} OVS_REPO_NAME=$(basename ${OVS_REPO} | cut -f1 -d'.') OVS_REPO_NAME=${OVS_REPO_NAME:-ovs} OVS_BRANCH=${OVS_BRANCH:-0047ca3a0290f1ef954f2c76b31477cf4b9755f5} # Functions # load_module() - Load module using modprobe module given by argument and dies # on failure # - fatal argument is optional and says whether function should # exit if module can't be loaded function load_module { local module=$1 local fatal=$2 if [ ""$(trueorfalse True fatal)"" == ""True"" ]; then sudo modprobe $module || (dmesg && die $LINENO ""FAILED TO LOAD $module"") else sudo modprobe $module || (echo ""FAILED TO LOAD $module"" && dmesg) fi } # prepare_for_compilation() - Fetch ovs git repository and install packages needed for # compilation. function prepare_for_ovs_compilation { local build_modules=${1:-False} OVS_DIR=$DEST/$OVS_REPO_NAME if [ ! -d $OVS_DIR ] ; then # We can't use git_clone here because we want to ignore ERROR_ON_CLONE git_timed clone $OVS_REPO $OVS_DIR cd $OVS_DIR git checkout $OVS_BRANCH else # Even though the directory already exists, call git_clone to update it # if needed based on the RECLONE option git_clone $OVS_REPO $OVS_DIR $OVS_BRANCH cd $OVS_DIR fi # TODO: Can you create package list files like you can inside devstack? install_package autoconf automake libtool gcc patch make # If build_modules is False, we don't need to install the kernel-* # packages. Just return. if [[ ""$build_modules"" == ""False"" ]]; then return fi KERNEL_VERSION=`uname -r` if is_fedora ; then # is_fedora covers Fedora, RHEL, CentOS, etc... if [[ ""$os_VENDOR"" == ""Fedora"" ]]; then install_package elfutils-libelf-devel KERNEL_VERSION=`echo $KERNEL_VERSION | cut --delimiter='-' --field 1` elif [[ ${KERNEL_VERSION:0:2} != ""3."" ]]; then # dash is illegal character in rpm version so replace # them with underscore like it is done in the kernel # https://github.com/torvalds/linux/blob/master/scripts/package/mkspec#L25 # but only for latest series of the kernel, not 3.x KERNEL_VERSION=`echo $KERNEL_VERSION | tr - _` fi echo NOTE: if kernel-devel-$KERNEL_VERSION or kernel-headers-$KERNEL_VERSION installation echo failed, please, provide a repository with the package, or yum update / reboot echo your machine to get the latest kernel. install_package kernel-devel-$KERNEL_VERSION install_package kernel-headers-$KERNEL_VERSION elif is_ubuntu ; then install_package linux-headers-$KERNEL_VERSION fi } # load_ovs_kernel_modules() - load openvswitch kernel module function load_ovs_kernel_modules { load_module openvswitch load_module vport-geneve False dmesg | tail } # reload_ovs_kernel_modules() - reload openvswitch kernel module function reload_ovs_kernel_modules { set +e ovs_system=$(sudo ovs-dpctl dump-dps | grep ovs-system) if [ -n ""$ovs_system"" ]; then sudo ovs-dpctl del-dp ovs-system fi set -e sudo modprobe -r vport_geneve sudo modprobe -r openvswitch load_ovs_kernel_modules } # compile_ovs() - Compile OVS from source and load needed modules. # Accepts two parameters: # - first one is False by default and means that modules are not built and installed. # - second optional parameter defines prefix for ovs compilation # - third optional parameter defines localstatedir for ovs single machine runtime # Env variables OVS_REPO_NAME, OVS_REPO and OVS_BRANCH must be set function compile_ovs { local _pwd=$PWD local build_modules=${1:-False} local prefix=$2 local localstatedir=$3 if [ -n ""$prefix"" ]; then prefix=""--prefix=$prefix"" fi if [ -n ""$localstatedir"" ]; then localstatedir=""--localstatedir=$localstatedir"" fi prepare_for_ovs_compilation $build_modules KERNEL_VERSION=$(uname -r) major_version=$(echo ""${KERNEL_VERSION}"" | cut -d '.' -f1) patch_level=$(echo ""${KERNEL_VERSION}"" | cut -d '.' -f2) if [ ""${major_version}"" -gt 5 ] || [ ""${major_version}"" == 5 ] && [ ""${patch_level}"" -gt 5 ]; then echo ""NOTE: KERNEL VERSION is ${KERNEL_VERSION} and OVS doesn't support compiling "" echo ""Kernel module for version higher than 5.5. Skipping module compilation..."" build_modules=""False"" fi if [ ! -f configure ] ; then ./boot.sh fi if [ ! -f config.status ] || [ configure -nt config.status ] ; then if [[ ""$build_modules"" == ""True"" ]]; then ./configure $prefix $localstatedir --with-linux=/lib/modules/$(uname -r)/build else ./configure $prefix $localstatedir fi fi make -j$[$(nproc) + 1] sudo make install if [[ ""$build_modules"" == ""True"" ]]; then sudo make INSTALL_MOD_DIR=kernel/net/openvswitch modules_install reload_ovs_kernel_modules else load_ovs_kernel_modules fi cd $_pwd } # action_service - call an action over openvswitch service # Accepts one parameter that can be either # 'start', 'restart' and 'stop'. function action_openvswitch { local action=$1 if is_ubuntu; then ${action}_service openvswitch-switch elif is_fedora; then ${action}_service openvswitch elif is_suse; then if [[ $DISTRO == ""sle12"" ]] && [[ $os_RELEASE -lt 12.2 ]]; then ${action}_service openvswitch-switch else ${action}_service openvswitch fi fi } # start_new_ovs() - removes old ovs database, creates a new one and starts ovs function start_new_ovs () { sudo rm -f /etc/openvswitch/conf.db /etc/openvswitch/.conf.db~lock~ sudo /usr/share/openvswitch/scripts/ovs-ctl start } # stop_new_ovs() - stops ovs function stop_new_ovs () { local ovs_ctl='/usr/share/openvswitch/scripts/ovs-ctl' if [ -x $ovs_ctl ] ; then sudo $ovs_ctl stop fi } # remove_ovs_packages() - removes old ovs packages from the system function remove_ovs_packages() { for package in openvswitch openvswitch-switch openvswitch-common; do if is_package_installed $package; then uninstall_package $package fi done } # load_conntrack_gre_module() - loads nf_conntrack_proto_gre kernel module function load_conntrack_gre_module() { sudo modprobe nf_conntrack_proto_gre } ",2,215
openstack%2Fdevstack~master~I1946725ce08c495178c419eaf38829f921c91bbe,openstack/devstack,master,I1946725ce08c495178c419eaf38829f921c91bbe,nova ironic-hypevisor - support scoped auth config,MERGED,2021-03-11 19:33:50.000000000,2021-06-16 23:41:14.000000000,2021-06-16 23:39:46.000000000,"[{'_account_id': 5046}, {'_account_id': 8556}, {'_account_id': 10239}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-11 19:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7e6b7771833ba874635b3b762b7972527da0ede1', 'message': 'nova ironic-hypevisor - support scoped auth config\n\nThe Secure RBAC effort has updated Ironic such that it\ncan support a mode where it is scope enforcing for all\ninteractions with the API. Due to the design, and operating\nnature of Ironic\'s API, services speaking with it must\nauthenticate with a system scope to have a full picture\nof the universe.\n\nIn this case, we need to update the nova configuration\naccordingly such that the compute service understands\nhow to talk to ironic so that it can see the nodes under\nmanagement.\n\nIronic will likely update this again at a later point in\ntime to enable a ""hybrid"" mixed-mode as the operating model\nand related permissions *should* allow nova to use a project\nscoped ""owner"" account with Ironic, in order to access\nand command nodes to deploy. But at this time, we\'re\nfocusing on the exclusive operating mode.\n\nChange-Id: I1946725ce08c495178c419eaf38829f921c91bbe\nNeeded-By: https://review.opendev.org/c/openstack/ironic/+/778957\n'}, {'number': 2, 'created': '2021-03-11 20:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7e2b96f2e971884081123acc3e766288cc06ebf3', 'message': 'nova ironic-hypevisor - support scoped auth config\n\nThe Secure RBAC effort has updated Ironic such that it\ncan support a mode where it is scope enforcing for all\ninteractions with the API. Due to the design, and operating\nnature of Ironic\'s API, services speaking with it must\nauthenticate with a system scope to have a full picture\nof the universe.\n\nIn this case, we need to update the nova configuration\naccordingly such that the compute service understands\nhow to talk to ironic so that it can see the nodes under\nmanagement.\n\nIronic will likely update this again at a later point in\ntime to enable a ""hybrid"" mixed-mode as the operating model\nand related permissions *should* allow nova to use a project\nscoped ""owner"" account with Ironic, in order to access\nand command nodes to deploy. But at this time, we\'re\nfocusing on the exclusive operating mode.\n\nChange-Id: I1946725ce08c495178c419eaf38829f921c91bbe\nNeeded-By: https://review.opendev.org/c/openstack/ironic/+/778957\n'}, {'number': 3, 'created': '2021-03-12 02:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6d03575011a9e16ea26f96ca4d6d4ecd3b96f5aa', 'message': 'nova ironic-hypevisor - support scoped auth config\n\nThe Secure RBAC effort has updated Ironic such that it\ncan support a mode where it is scope enforcing for all\ninteractions with the API. Due to the design, and operating\nnature of Ironic\'s API, services speaking with it must\nauthenticate with a system scope to have a full picture\nof the universe.\n\nIn this case, we need to update the nova configuration\naccordingly such that the compute service understands\nhow to talk to ironic so that it can see the nodes under\nmanagement.\n\nIronic will likely update this again at a later point in\ntime to enable a ""hybrid"" mixed-mode as the operating model\nand related permissions *should* allow nova to use a project\nscoped ""owner"" account with Ironic, in order to access\nand command nodes to deploy. But at this time, we\'re\nfocusing on the exclusive operating mode.\n\nChange-Id: I1946725ce08c495178c419eaf38829f921c91bbe\nNeeded-By: https://review.opendev.org/c/openstack/ironic/+/778957\n'}, {'number': 4, 'created': '2021-06-15 18:56:56.000000000', 'files': ['functions-common', 'lib/nova_plugins/hypervisor-ironic'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6af3cb9eb273c127c20bc07f65c9a5d7f8ba95cd', 'message': 'nova ironic-hypevisor - support scoped auth config\n\nThe Secure RBAC effort has updated Ironic such that it\ncan support a mode where it is scope enforcing for all\ninteractions with the API. Due to the design, and operating\nnature of Ironic\'s API, services speaking with it must\nauthenticate with a system scope to have a full picture\nof the universe.\n\nIn this case, we need to update the nova configuration\naccordingly such that the compute service understands\nhow to talk to ironic so that it can see the nodes under\nmanagement.\n\nIronic will likely update this again at a later point in\ntime to enable a ""hybrid"" mixed-mode as the operating model\nand related permissions *should* allow nova to use a project\nscoped ""owner"" account with Ironic, in order to access\nand command nodes to deploy. But at this time, we\'re\nfocusing on the exclusive operating mode.\n\nChange-Id: I1946725ce08c495178c419eaf38829f921c91bbe\nNeeded-By: https://review.opendev.org/c/openstack/ironic/+/778957\n'}]",2,780073,6af3cb9eb273c127c20bc07f65c9a5d7f8ba95cd,27,6,4,11655,,,0,"nova ironic-hypevisor - support scoped auth config

The Secure RBAC effort has updated Ironic such that it
can support a mode where it is scope enforcing for all
interactions with the API. Due to the design, and operating
nature of Ironic's API, services speaking with it must
authenticate with a system scope to have a full picture
of the universe.

In this case, we need to update the nova configuration
accordingly such that the compute service understands
how to talk to ironic so that it can see the nodes under
management.

Ironic will likely update this again at a later point in
time to enable a ""hybrid"" mixed-mode as the operating model
and related permissions *should* allow nova to use a project
scoped ""owner"" account with Ironic, in order to access
and command nodes to deploy. But at this time, we're
focusing on the exclusive operating mode.

Change-Id: I1946725ce08c495178c419eaf38829f921c91bbe
Needed-By: https://review.opendev.org/c/openstack/ironic/+/778957
",git fetch https://review.opendev.org/openstack/devstack refs/changes/73/780073/4 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'lib/nova_plugins/hypervisor-ironic']",2,7e6b7771833ba874635b3b762b7972527da0ede1,secure-rbac, if is_ironic_enforce_scope; then iniset $NOVA_CONF ironic project_domain_id default iniset $NOVA_CONF ironic user_domain_id default iniset $NOVA_CONF ironic project_name demo else iniset $NOVA_CONF ironic system_scope all fi, iniset $NOVA_CONF ironic project_domain_id default iniset $NOVA_CONF ironic user_domain_id default iniset $NOVA_CONF ironic project_name demo,12,4
openstack%2Fkolla~stable%2Ftrain~If69536387513ca221e03a80878016532a41aef87,openstack/kolla,stable/train,If69536387513ca221e03a80878016532a41aef87,Fix build of masakari-monitors image,MERGED,2021-06-15 07:42:45.000000000,2021-06-16 23:32:51.000000000,2021-06-16 23:24:40.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28295}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-15 07:42:45.000000000', 'files': ['docker/masakari/masakari-monitors/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/715d799ab997cbfe9e444b3f2a72c5dbbbf6728e', 'message': ""Fix build of masakari-monitors image\n\nThe CentOS 8 Advanced Virtualization repository recently added libvirt\n7.0.0. The current version of libvirt-python fails to build against it:\n\n    running build\n    /usr/bin/pkg-config --print-errors --atleast-version=0.9.11 libvirt\n    /var/lib/kolla/venv/bin/python3.6 generator.py libvirt /usr/share/libvirt/api/libvirt-api.xml\n    Found 480 functions in /usr/share/libvirt/api/libvirt-api.xml\n    Found 0 functions in libvirt-override-api.xml\n    Generated 389 wrapper functions\n    Missing type converters:\n    char ** *:1\n    char **:1\n    ERROR: failed virDomainAuthorizedSSHKeysGet\n    ERROR: failed virDomainAuthorizedSSHKeysSet\n    error: command '/var/lib/kolla/venv/bin/python3.6' failed with exit status 1\n\nWe need at least libvirt-python v6.10.0.\n\nChange-Id: If69536387513ca221e03a80878016532a41aef87\n""}]",0,796387,715d799ab997cbfe9e444b3f2a72c5dbbbf6728e,17,5,1,15197,,,0,"Fix build of masakari-monitors image

The CentOS 8 Advanced Virtualization repository recently added libvirt
7.0.0. The current version of libvirt-python fails to build against it:

    running build
    /usr/bin/pkg-config --print-errors --atleast-version=0.9.11 libvirt
    /var/lib/kolla/venv/bin/python3.6 generator.py libvirt /usr/share/libvirt/api/libvirt-api.xml
    Found 480 functions in /usr/share/libvirt/api/libvirt-api.xml
    Found 0 functions in libvirt-override-api.xml
    Generated 389 wrapper functions
    Missing type converters:
    char ** *:1
    char **:1
    ERROR: failed virDomainAuthorizedSSHKeysGet
    ERROR: failed virDomainAuthorizedSSHKeysSet
    error: command '/var/lib/kolla/venv/bin/python3.6' failed with exit status 1

We need at least libvirt-python v6.10.0.

Change-Id: If69536387513ca221e03a80878016532a41aef87
",git fetch https://review.opendev.org/openstack/kolla refs/changes/87/796387/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/masakari/masakari-monitors/Dockerfile.j2'],1,715d799ab997cbfe9e444b3f2a72c5dbbbf6728e,, {% if distro_package_manager == 'dnf' %}&& sed -i -e 's/libvirt-python===.*/libvirt-python===6.10.0/' /requirements/upper-constraints.txt {% endif %}\, {% if distro_package_manager == 'dnf' %}&& sed -i -e 's/libvirt-python===.*/libvirt-python===5.10.0/' /requirements/upper-constraints.txt {% endif %}\,1,1
openstack%2Fossa~master~Id8f824ef830bd321f7db4c03389dbebed01b163d,openstack/ossa,master,Id8f824ef830bd321f7db4c03389dbebed01b163d,Get specific about differences between SB and LP,MERGED,2021-06-10 19:30:40.000000000,2021-06-16 23:31:28.000000000,2021-06-16 23:29:58.000000000,"[{'_account_id': 5263}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-10 19:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/e37f1aef5c163179889ca83055c661ec2cc96d81', 'message': ""Get specific about differences between SB and LP\n\nIn the instructions on reporting security vulnerabilities, detail\nthe StoryBoard workflow distinct from Launchpad, since we've had at\nleast one reported incident of a user thinking that just checking\nthe security checkbox would also make the story private.\n\nChange-Id: Id8f824ef830bd321f7db4c03389dbebed01b163d\n""}, {'number': 2, 'created': '2021-06-10 20:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/e409c55767d24f3dadf9d62aa0f8e3867107245d', 'message': ""Get specific about differences between SB and LP\n\nIn the instructions on reporting security vulnerabilities, detail\nthe StoryBoard workflow distinct from Launchpad, since we've had at\nleast one reported incident of a user thinking that just checking\nthe security checkbox would also make the story private.\n\nChange-Id: Id8f824ef830bd321f7db4c03389dbebed01b163d\n""}, {'number': 3, 'created': '2021-06-15 15:39:01.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ossa/commit/5820a9783247a5fd208a1ad57b6b536c6464acc7', 'message': ""Get specific about differences between SB and LP\n\nIn the instructions on reporting security vulnerabilities, detail\nthe StoryBoard workflow distinct from Launchpad, since we've had at\nleast one reported incident of a user thinking that just checking\nthe security checkbox would also make the story private.\n\nChange-Id: Id8f824ef830bd321f7db4c03389dbebed01b163d\n""}]",0,795867,5820a9783247a5fd208a1ad57b6b536c6464acc7,12,3,3,5263,,,0,"Get specific about differences between SB and LP

In the instructions on reporting security vulnerabilities, detail
the StoryBoard workflow distinct from Launchpad, since we've had at
least one reported incident of a user thinking that just checking
the security checkbox would also make the story private.

Change-Id: Id8f824ef830bd321f7db4c03389dbebed01b163d
",git fetch https://review.opendev.org/openstack/ossa refs/changes/67/795867/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,e37f1aef5c163179889ca83055c661ec2cc96d81,downstream-stakeholders,"* Check the project's documentation to determine where it receives bug reports. If on https://storyboard.openstack.org/ then log in and create a new story, making sure to check both the **Private** and **Vulnerability or Security-related** checkboxes, and selecting the relevant project for the initial task before saving. If on https://bugs.launchpad.net/ then find the project there, log in click the 'Report a bug' link at the right, fill in the 'Summary' and 'Further information' fields describing the issue, then click the 'This bug is a security vulnerability' checkbox near the bottom of the page before submitting it. This will make the bug Private and only accessible to the Vulnerability Management Team.","* Search for the corresponding project at https://storyboard.openstack.org/ or https://launchpad.net/ and after selecting it, click the 'Report a bug' link at the right. Fill in the 'Summary' and 'Further information' fields describing the issue, then click the 'This bug is a security vulnerability' checkbox near the bottom of the page before submitting it. This will make the bug Private and only accessible to the Vulnerability Management Team.",10,6
openstack%2Fossa~master~I49245922e08d702b7ec1c46403a0db84dbad2882,openstack/ossa,master,I49245922e08d702b7ec1c46403a0db84dbad2882,Not all reports relate to incidents,MERGED,2021-06-10 18:31:18.000000000,2021-06-16 23:30:36.000000000,2021-06-16 23:29:28.000000000,"[{'_account_id': 5263}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-10 18:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/5d8f2e0591f9316efdb38ffd4d73fc0d90ffd47c', 'message': ""Not all reports relate to incidents\n\nRename the Incident Report Taxonomy section to Report Taxonomy but\nleave a reference label behind so we don't obliterate any of the\nmany old external links to this document.\n\nWhile tidying this up, also switch the task status reference to use\nan internal anchor rather than an explicit URL anchor link.\n\nChange-Id: I49245922e08d702b7ec1c46403a0db84dbad2882\n""}, {'number': 2, 'created': '2021-06-10 20:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/5d46f5d90897e33da3ebc058065e54a6590a9918', 'message': ""Not all reports relate to incidents\n\nRename the Incident Report Taxonomy section to Report Taxonomy but\nleave a reference label behind so we don't obliterate any of the\nmany old external links to this document.\n\nWhile tidying this up, also switch the task status reference to use\nan internal anchor rather than an explicit URL anchor link.\n\nChange-Id: I49245922e08d702b7ec1c46403a0db84dbad2882\n""}, {'number': 3, 'created': '2021-06-15 15:39:01.000000000', 'files': ['doc/source/vmt-process.rst'], 'web_link': 'https://opendev.org/openstack/ossa/commit/9dc1f9549746bab665b39ad5dca4adf85dd54b1e', 'message': ""Not all reports relate to incidents\n\nRename the Incident Report Taxonomy section to Report Taxonomy but\nleave a reference label behind so we don't obliterate any of the\nmany old external links to this document.\n\nWhile tidying this up, also switch the task status reference to use\nan internal anchor rather than an explicit URL anchor link.\n\nChange-Id: I49245922e08d702b7ec1c46403a0db84dbad2882\n""}]",2,795864,9dc1f9549746bab665b39ad5dca4adf85dd54b1e,14,3,3,5263,,,0,"Not all reports relate to incidents

Rename the Incident Report Taxonomy section to Report Taxonomy but
leave a reference label behind so we don't obliterate any of the
many old external links to this document.

While tidying this up, also switch the task status reference to use
an internal anchor rather than an explicit URL anchor link.

Change-Id: I49245922e08d702b7ec1c46403a0db84dbad2882
",git fetch https://review.opendev.org/openstack/ossa refs/changes/64/795864/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/vmt-process.rst'],1,5d8f2e0591f9316efdb38ffd4d73fc0d90ffd47c,downstream-stakeholders,specifics are indexed in the `report taxonomy` and :ref:`task status`.. _incident report taxonomy: Report Taxonomy ---------------.. _task status: ,specifics are indexed in the `report taxonomy`_ and `task status`_.. _report taxonomy: #incident-report-taxonomy .. _task status: #ossa-task-statusIncident Report Taxonomy ------------------------,7,5
openstack%2Fossa~master~I6aaf4da8bff51bc63706fc20e9f5f68d6e9b0fe4,openstack/ossa,master,I6aaf4da8bff51bc63706fc20e9f5f68d6e9b0fe4,Make VMT contact list more discoverable,MERGED,2021-06-09 18:35:13.000000000,2021-06-16 23:29:45.000000000,2021-06-16 23:28:41.000000000,"[{'_account_id': 5263}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 18:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/0e017735e8bbc3127747d61beb135a15cd5c0dc3', 'message': 'Make VMT contact list more discoverable\n\nGet rid of the outdated section for the long gone Security Project,\nand move the VMT contact info from it to near the top of the main\nsecurity.o.o page. Also switch references in the process document to\nlink that list instead of going to the LP group page (which made\nobtaining contact information a challenge).\n\nChange-Id: I6aaf4da8bff51bc63706fc20e9f5f68d6e9b0fe4\n'}, {'number': 2, 'created': '2021-06-15 15:39:01.000000000', 'files': ['doc/source/index.rst', 'doc/source/vmt-process.rst'], 'web_link': 'https://opendev.org/openstack/ossa/commit/c47cf1e4890cec1c48ee6c3a73c32e9aee236a02', 'message': 'Make VMT contact list more discoverable\n\nGet rid of the outdated section for the long gone Security Project,\nand move the VMT contact info from it to near the top of the main\nsecurity.o.o page. Also switch references in the process document to\nlink that list instead of going to the LP group page (which made\nobtaining contact information a challenge).\n\nChange-Id: I6aaf4da8bff51bc63706fc20e9f5f68d6e9b0fe4\n'}]",1,795645,c47cf1e4890cec1c48ee6c3a73c32e9aee236a02,13,3,2,5263,,,0,"Make VMT contact list more discoverable

Get rid of the outdated section for the long gone Security Project,
and move the VMT contact info from it to near the top of the main
security.o.o page. Also switch references in the process document to
link that list instead of going to the LP group page (which made
obtaining contact information a challenge).

Change-Id: I6aaf4da8bff51bc63706fc20e9f5f68d6e9b0fe4
",git fetch https://review.opendev.org/openstack/ossa refs/changes/45/795645/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/vmt-process.rst']",2,0e017735e8bbc3127747d61beb135a15cd5c0dc3,downstream-stakeholders,The OpenStack :ref:`Vulnerability Management Team` is responsibleplease submit an email with a rationale to member(s) of the :ref:`Vulnerability Management Team`.,The OpenStack vulnerability management team (VMT_) is responsible.. _VMT: https://launchpad.net/~openstack-vuln-mgmt please submit an email with a rationale to member(s) of the VMT_.,43,47
openstack%2Fmanila-ui~stable%2Fwallaby~I92e87282020047c7fad055cae92f2382c4193597,openstack/manila-ui,stable/wallaby,I92e87282020047c7fad055cae92f2382c4193597,Remove nova networking,MERGED,2021-06-15 21:33:06.000000000,2021-06-16 22:57:12.000000000,2021-06-16 22:55:18.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-06-15 21:33:06.000000000', 'files': ['manila_ui/dashboards/project/share_networks/forms.py', 'manila_ui/dashboards/project/share_networks/views.py', 'manila_ui/dashboards/project/share_networks/templates/share_networks/_detail.html', 'releasenotes/notes/remove-nova-net-plugin-4fdc0d944d93644f.yaml', 'manila_ui/dashboards/admin/share_networks/templates/share_networks/_detail.html', 'manila_ui/dashboards/project/share_networks/tables.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/85137cf757d848a51d82f78f770fb507532279ee', 'message': 'Remove nova networking\n\nThis is essentially dead code elimination\nfrom manila-ui at this point since manila\nand python-manilaclient dropped support\nin the Ocata release.\n\nChange-Id: I92e87282020047c7fad055cae92f2382c4193597\nPartially-implements: bp remove-nova-net-plugin\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 4edb837a1b5492b14b05d00236337525bdcde686)\n'}]",0,796553,85137cf757d848a51d82f78f770fb507532279ee,10,4,1,16643,,,0,"Remove nova networking

This is essentially dead code elimination
from manila-ui at this point since manila
and python-manilaclient dropped support
in the Ocata release.

Change-Id: I92e87282020047c7fad055cae92f2382c4193597
Partially-implements: bp remove-nova-net-plugin
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 4edb837a1b5492b14b05d00236337525bdcde686)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/53/796553/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/dashboards/project/share_networks/forms.py', 'manila_ui/dashboards/project/share_networks/views.py', 'manila_ui/dashboards/project/share_networks/templates/share_networks/_detail.html', 'releasenotes/notes/remove-nova-net-plugin-4fdc0d944d93644f.yaml', 'manila_ui/dashboards/admin/share_networks/templates/share_networks/_detail.html', 'manila_ui/dashboards/project/share_networks/tables.py']",6,85137cf757d848a51d82f78f770fb507532279ee,bp/remove-nova-net-plugin,,"from manila_ui.api import network else: share_net.nova_net = network.network_get( request, share_net.nova_net_id).name_or_id",9,28
openstack%2Fopenstack-zuul-jobs~master~Ia141f97e971d4a8a701f02294f7b33a097124607,openstack/openstack-zuul-jobs,master,Ia141f97e971d4a8a701f02294f7b33a097124607,openafs: update centos to 1.8.8pre1,MERGED,2021-06-16 06:05:44.000000000,2021-06-16 22:47:07.000000000,2021-06-16 22:45:26.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 06:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/56969313688dfe6d2d346597f435266a332618b2', 'message': 'openafs: update centos to 1.8.8pre1\n\nAlthough this is a pre-release, it is required to build with some\nrecent CentOS 8 kernel changes.\n\nChange-Id: Ia141f97e971d4a8a701f02294f7b33a097124607\n'}, {'number': 2, 'created': '2021-06-16 06:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/f3b2590529a3890468ea64205e1b4d1bfe6daf55', 'message': 'openafs: update centos to 1.8.8pre1\n\nAlthough this is a pre-release, it is required to build with some\nrecent CentOS 8 kernel changes.\n\nChange-Id: Ia141f97e971d4a8a701f02294f7b33a097124607\n'}, {'number': 3, 'created': '2021-06-16 22:09:24.000000000', 'files': ['roles/openafs-rpm-package-build/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/4dbf2dfc3bba8f7d222e45ef56279fab32f78018', 'message': 'openafs: update centos to 1.8.8pre1\n\nAlthough this is a pre-release, it is required to build with some\nrecent CentOS 8 kernel changes.\n\nChange-Id: Ia141f97e971d4a8a701f02294f7b33a097124607\n'}]",0,796588,4dbf2dfc3bba8f7d222e45ef56279fab32f78018,11,2,3,7118,,,0,"openafs: update centos to 1.8.8pre1

Although this is a pre-release, it is required to build with some
recent CentOS 8 kernel changes.

Change-Id: Ia141f97e971d4a8a701f02294f7b33a097124607
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/88/796588/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/openafs-rpm-package-build/tasks/main.yaml'],1,56969313688dfe6d2d346597f435266a332618b2,openafs-1.8.8pre1, VERSION=1.8.8pre1, VERSION=1.8.7,1,1
openstack%2Fdesignate~master~I5f7c1ef14daf0a01e4d37cc5416d08cc75f2b485,openstack/designate,master,I5f7c1ef14daf0a01e4d37cc5416d08cc75f2b485,Fixed a potential circular dependency,MERGED,2021-06-02 05:32:20.000000000,2021-06-16 22:29:34.000000000,2021-06-16 22:28:20.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-06-02 05:32:20.000000000', 'files': ['designate/backend/agent.py', 'designate/conf/agent.py', 'designate/conf/mdns.py', 'designate/mdns/service.py', 'designate/tests/test_storage/__init__.py', 'designate/agent/service.py', 'designate/utils.py', 'designate/backend/impl_bind9.py', 'designate/tests/unit/objects/test_yaml_adapters.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/4da58a2438092eb0c1b84dd8259807cacd19b2ed', 'message': 'Fixed a potential circular dependency\n\nWhen running individual unit tests there was a possibility\nof triggering a circular dependency. This patch fixes\nthis by moving DEFAULT MDNS and AGENT ports into\nthe configuration.\n\nChange-Id: I5f7c1ef14daf0a01e4d37cc5416d08cc75f2b485\n'}]",0,794131,4da58a2438092eb0c1b84dd8259807cacd19b2ed,10,4,1,22623,,,0,"Fixed a potential circular dependency

When running individual unit tests there was a possibility
of triggering a circular dependency. This patch fixes
this by moving DEFAULT MDNS and AGENT ports into
the configuration.

Change-Id: I5f7c1ef14daf0a01e4d37cc5416d08cc75f2b485
",git fetch https://review.opendev.org/openstack/designate refs/changes/31/794131/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/backend/agent.py', 'designate/conf/agent.py', 'designate/conf/mdns.py', 'designate/mdns/service.py', 'designate/tests/test_storage/__init__.py', 'designate/agent/service.py', 'designate/utils.py', 'designate/backend/impl_bind9.py', 'designate/tests/unit/objects/test_yaml_adapters.py']",9,4da58a2438092eb0c1b84dd8259807cacd19b2ed,fix_testing,from designate.conf.mdns import DEFAULT_MDNS_PORT,from designate.utils import DEFAULT_MDNS_PORT,8,14
openstack%2Fcharm-vault~master~I557247cc33bc3bcb60ac1fe21b8abd706bf87d8d,openstack/charm-vault,master,I557247cc33bc3bcb60ac1fe21b8abd706bf87d8d,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:14:16.000000000,2021-06-16 22:08:43.000000000,2021-06-16 22:08:43.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:14:16.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/3516016038bf8320ebbed04337bb8d38b9ea71f0', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I557247cc33bc3bcb60ac1fe21b8abd706bf87d8d\n'}]",0,791225,3516016038bf8320ebbed04337bb8d38b9ea71f0,17,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I557247cc33bc3bcb60ac1fe21b8abd706bf87d8d
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/25/791225/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,3516016038bf8320ebbed04337bb8d38b9ea71f0,batch-update,fa69781e-b3eb-11eb-9ac9-f70d28282176,7a6f1089-fc21-402d-9cfb-21a1d714620d,1,1
openstack%2Fgovernance~master~I918b601c219383d55f7614a4594522948b72b031,openstack/governance,master,I918b601c219383d55f7614a4594522948b72b031,Update Chair duties file for release tracker etc,MERGED,2021-06-14 21:18:45.000000000,2021-06-16 22:02:10.000000000,2021-06-16 22:00:42.000000000,"[{'_account_id': 8556}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-14 21:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/b5938ae93f0ac9afa45b7839e7ae08dfd92d6804', 'message': 'Update Chair duties file for release tracker etc\n\n- Adding per release tracker in duties\n- Cleanup on the UC reference as it is merged in TC now\n- Add TC onboarding guide step\n\nChange-Id: I918b601c219383d55f7614a4594522948b72b031\n'}, {'number': 2, 'created': '2021-06-15 14:24:52.000000000', 'files': ['CHAIR.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/4184c7d4d80bb52e3aae465ecaccb88c88d0a37d', 'message': 'Update Chair duties file for release tracker etc\n\n- Adding per release tracker in duties\n- Cleanup on the UC reference as it is merged in TC now\n- Add TC onboarding guide step\n\nChange-Id: I918b601c219383d55f7614a4594522948b72b031\n'}]",2,796320,4184c7d4d80bb52e3aae465ecaccb88c88d0a37d,14,4,2,8556,,,0,"Update Chair duties file for release tracker etc

- Adding per release tracker in duties
- Cleanup on the UC reference as it is merged in TC now
- Add TC onboarding guide step

Change-Id: I918b601c219383d55f7614a4594522948b72b031
",git fetch https://review.opendev.org/openstack/governance refs/changes/20/796320/2 && git format-patch -1 --stdout FETCH_HEAD,['CHAIR.rst'],1,b5938ae93f0ac9afa45b7839e7ae08dfd92d6804,documentation-change,"* Send weekly update emails to openstack-discuss (see below)* Manage the initiative tracker * Prepare release tracker etherpad (During PTG), Example: https://etherpad.opendev.org/p/tc-xena-tracker * Update the etherpad link to wiki https://wiki.openstack.org/wiki/Technical_Committee_Tracker* welcome new and returning members. Make sure to send the TC onboarding guide to new members: https://governance.openstack.org/tc/reference/tc-guide.htmlThe TC, Board of Directors, and leaders of other Foundation projects meet at the Summit to discuss topics of interest to the entire group.an annual report. The TC is responsible for contributing a status update for the OpenStack project and community. The Foundation staff will contact the TC chair, who should either write the report or ensure that it is written.","* Manage the initiative tracker * https://wiki.openstack.org/wiki/Technical_Committee_Tracker * Send weekly update emails to openstack-dev (see below)* Ensure that the TC has a representative on the meta SIG team, to work with the UC to manage SIGs.* welcome new and returning membersThe TC, User Committee, Board of Directors, and leaders of other Foundation projects meet at the Summit to discuss topics of interest to the entire group.an annual report. The TC and UC are responsible for contributing a status update for the OpenStack project and community. The Foundation staff will contact the TC chair, who should either write the report or ensure that it is written.",14,15
openstack%2Fopenstack-helm-infra~master~Ic9328b204c82bdf0e328370d7060a265210c9e8a,openstack/openstack-helm-infra,master,Ic9328b204c82bdf0e328370d7060a265210c9e8a,Removed additional checks from Elasicsearch Helm test,MERGED,2021-06-16 15:18:55.000000000,2021-06-16 21:03:08.000000000,2021-06-16 21:01:53.000000000,"[{'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30582}, {'_account_id': 30777}, {'_account_id': 30882}]","[{'number': 1, 'created': '2021-06-16 15:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5dadd1a63c52a15cff3a883a45c9d07cc2ac1a0e', 'message': 'Removed additional checks from Elasicsearch Helm test\n\nThis test (create and remove test index) already validates that elasticsearch is working correctly. Removed additional check for repo verification for external service like S3 as this seems out of scope since this can be configured differently and causes test to fail.\n\nChange-Id: Ic9328b204c82bdf0e328370d7060a265210c9e8a\n'}, {'number': 2, 'created': '2021-06-16 18:34:46.000000000', 'files': ['elasticsearch/templates/bin/_helm-tests.sh.tpl', 'releasenotes/notes/elasticsearch.yaml', 'elasticsearch/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ff2d31706498d271b138f1e19c25ee717b26e572', 'message': 'Removed additional checks from Elasicsearch Helm test\n\nThis test (create and remove test index) already validates that elasticsearch is working correctly. Removed additional check for repo verification for external service like S3 as this seems out of scope since this can be configured differently and causes test to fail.\n\nChange-Id: Ic9328b204c82bdf0e328370d7060a265210c9e8a\n'}]",0,796694,ff2d31706498d271b138f1e19c25ee717b26e572,12,5,2,31026,,,0,"Removed additional checks from Elasicsearch Helm test

This test (create and remove test index) already validates that elasticsearch is working correctly. Removed additional check for repo verification for external service like S3 as this seems out of scope since this can be configured differently and causes test to fail.

Change-Id: Ic9328b204c82bdf0e328370d7060a265210c9e8a
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/94/796694/1 && git format-patch -1 --stdout FETCH_HEAD,['elasticsearch/templates/bin/_helm-tests.sh.tpl'],1,5dadd1a63c52a15cff3a883a45c9d07cc2ac1a0e,,,"{{ if .Values.conf.elasticsearch.snapshots.enabled }} function check_snapshot_repositories_verified () { repositories=$(curl ${CACERT_OPTION} -K- <<< ""--user ${ELASTICSEARCH_USERNAME}:${ELASTICSEARCH_PASSWORD}"" \ ""${ELASTICSEARCH_ENDPOINT}/_snapshot"" | jq -r ""keys | @sh"" ) repositories=$(echo $repositories | sed ""s/'//g"") # Strip single quotes from jq output for repository in $repositories; do error=$(curl ${CACERT_OPTION} -K- <<< ""--user ${ELASTICSEARCH_USERNAME}:${ELASTICSEARCH_PASSWORD}"" \ -XPOST ""${ELASTICSEARCH_ENDPOINT}/_snapshot/${repository}/_verify"" | jq -r '.error') if [ $error == ""null"" ]; then echo ""PASS: $repository is verified."" else echo ""FAIL: Error for $repository: $(echo $error | jq -r)"" exit 1; fi done } {{ end }} {{ if .Values.conf.elasticsearch.snapshots.enabled }} check_snapshot_repositories_verified {{ end }}",0,24
openstack%2Fpython-openstackclient~master~Ifd8aec94937764202131ba8caf6b507caa76d7e9,openstack/python-openstackclient,master,Ifd8aec94937764202131ba8caf6b507caa76d7e9,compute: Better help text for 'openstack server set --state',MERGED,2021-06-16 17:11:47.000000000,2021-06-16 20:56:53.000000000,2021-06-16 20:55:31.000000000,"[{'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 17:11:47.000000000', 'files': ['openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/13de3494115c1c460613b9792d1a4186234a25be', 'message': ""compute: Better help text for 'openstack server set --state'\n\nManually changing the server state is a potentially dangerous operation\nthat should only be done under limited circumstances. It's also an\nadmin-only operation by default. Highlight both points.\n\nChange-Id: Ifd8aec94937764202131ba8caf6b507caa76d7e9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nStory: 2008549\nTask: 41672\n""}]",1,796713,13de3494115c1c460613b9792d1a4186234a25be,10,5,1,15334,,,0,"compute: Better help text for 'openstack server set --state'

Manually changing the server state is a potentially dangerous operation
that should only be done under limited circumstances. It's also an
admin-only operation by default. Highlight both points.

Change-Id: Ifd8aec94937764202131ba8caf6b507caa76d7e9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Story: 2008549
Task: 41672
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/13/796713/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,13de3494115c1c460613b9792d1a4186234a25be,story/2008549," help=_( 'New server state ' '**WARNING** This can result in instances that are no longer ' 'usable and should be used with caution ' '(admin only)' ),"," help=_('New server state (valid value: active, error)'),",6,1
openstack%2Fansible-collections-openstack~master~Ibd208374297342764c79ffe3968e360cc3ae004d,openstack/ansible-collections-openstack,master,Ibd208374297342764c79ffe3968e360cc3ae004d,Switch endpoint module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-16 20:46:52.000000000,2021-06-16 20:46:52.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bb0637f90aae7fd70af48b7b6774dfbd794bd1f6', 'message': 'Switch endpoint module to OpenStackModule\n\nChange-Id: Ibd208374297342764c79ffe3968e360cc3ae004d\n'}, {'number': 2, 'created': '2021-05-21 07:43:44.000000000', 'files': ['plugins/modules/endpoint.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/662ac616409674b2d788c35e8a1a60a7b198dbd9', 'message': 'Switch endpoint module to OpenStackModule\n\nChange-Id: Ibd208374297342764c79ffe3968e360cc3ae004d\n'}]",0,792442,662ac616409674b2d788c35e8a1a60a7b198dbd9,12,2,2,27900,,,0,"Switch endpoint module to OpenStackModule

Change-Id: Ibd208374297342764c79ffe3968e360cc3ae004d
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/42/792442/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/endpoint.py'],1,bb0637f90aae7fd70af48b7b6774dfbd794bd1f6,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class IdentityEndpointModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( supports_check_mode=True ) def _needs_update(self, endpoint): if endpoint.enabled != self.params['enabled']: return True if endpoint.url != self.params['url']: return True return False def _system_state_change(self, endpoint): state = self.params['state'] if state == 'absent' and endpoint: return True if state == 'present': if endpoint is None: return True return self._needs_update(endpoint) return False def run(self): service_name_or_id = self.params['service'] interface = self.params['endpoint_interface'] url = self.params['url'] region = self.params['region'] enabled = self.params['enabled'] state = self.params['state'] service = self.conn.get_service(service_name_or_id) if service is None and state == 'absent': self.exit_json(changed=False) self.fail_json(msg='Service %s does not exist' % service_name_or_id) endpoints = self.conn.search_endpoints(filters=filters) self.fail_json(msg='Service %s, interface %s and region %s are ' 'not unique' % (service_name_or_id, interface, region)) if self.ansible.check_mode: self.exit_json(changed=self._system_state_change(endpoint)) result = self.conn.create_endpoint( service_name_or_id=service, url=url, interface=interface, region=region, enabled=enabled) if self._needs_update(endpoint): endpoint = self.conn.update_endpoint( self.exit_json(changed=changed, endpoint=endpoint) self.conn.delete_endpoint(endpoint.id) self.exit_json(changed=changed) def main(): module = IdentityEndpointModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def _needs_update(module, endpoint): if endpoint.enabled != module.params['enabled']: return True if endpoint.url != module.params['url']: return True return False def _system_state_change(module, endpoint): state = module.params['state'] if state == 'absent' and endpoint: return True if state == 'present': if endpoint is None: return True return _needs_update(module, endpoint) return False def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, supports_check_mode=True, **module_kwargs) service_name_or_id = module.params['service'] interface = module.params['endpoint_interface'] url = module.params['url'] region = module.params['region'] enabled = module.params['enabled'] state = module.params['state'] sdk, cloud = openstack_cloud_from_module(module) try: service = cloud.get_service(service_name_or_id) if service is None and state == 'absent': module.exit_json(changed=False) module.fail_json(msg='Service %s does not exist' % service_name_or_id) endpoints = cloud.search_endpoints(filters=filters) module.fail_json(msg='Service %s, interface %s and region %s are ' 'not unique' % (service_name_or_id, interface, region)) if module.check_mode: module.exit_json(changed=_system_state_change(module, endpoint)) result = cloud.create_endpoint(service_name_or_id=service, url=url, interface=interface, region=region, enabled=enabled) if _needs_update(module, endpoint): endpoint = cloud.update_endpoint( module.exit_json(changed=changed, endpoint=endpoint) cloud.delete_endpoint(endpoint.id) module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",52,58
openstack%2Ftripleo-ansible~stable%2Fwallaby~I743201875381e41b41c15569e0b41045651ac9e0,openstack/tripleo-ansible,stable/wallaby,I743201875381e41b41c15569e0b41045651ac9e0,Create allocation if hostname matches display_name,MERGED,2021-05-26 17:30:00.000000000,2021-06-16 20:21:01.000000000,2021-06-16 20:19:40.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-26 17:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9ed4d25418785ed7af4f0457f00c44a4e0f9504b', 'message': 'Create allocation if hostname matches display_name\n\nTo facilitate migration from nova to nova-less\ndeployment create an allocation when the display_name\nin the ironic nodes instance_info matches the instance\nname associated with the baremetal node matches the\nhostname provided in the baremtal deployment YAML\ndefinition.\n\nAlso add a safeguard to not allow creating allocations\nwith duplicate names.\n\nCloses-Bug: #1928487\nChange-Id: I743201875381e41b41c15569e0b41045651ac9e0\n(cherry picked from commit a8e4ccfac38e485f1ab6ad39bc4ff67303a1faad)\n'}, {'number': 2, 'created': '2021-05-31 19:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7f97668d899bb58ebb7d8159dfc92c5e9efce58a', 'message': 'Create allocation if hostname matches display_name\n\nTo facilitate migration from nova to nova-less\ndeployment create an allocation when the display_name\nin the ironic nodes instance_info matches the instance\nname associated with the baremetal node matches the\nhostname provided in the baremtal deployment YAML\ndefinition.\n\nAlso add a safeguard to not allow creating allocations\nwith duplicate names.\n\nCloses-Bug: #1928487\nChange-Id: I743201875381e41b41c15569e0b41045651ac9e0\n(cherry picked from commit a8e4ccfac38e485f1ab6ad39bc4ff67303a1faad)\n'}, {'number': 3, 'created': '2021-06-02 08:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8144da36ce9d0b68ff068c19f63d0cf6c8d7a891', 'message': 'Create allocation if hostname matches display_name\n\nTo facilitate migration from nova to nova-less\ndeployment create an allocation when the display_name\nin the ironic nodes instance_info matches the instance\nname associated with the baremetal node matches the\nhostname provided in the baremtal deployment YAML\ndefinition.\n\nAlso add a safeguard to not allow creating allocations\nwith duplicate names.\n\nCloses-Bug: #1928487\nChange-Id: I743201875381e41b41c15569e0b41045651ac9e0\n(cherry picked from commit a8e4ccfac38e485f1ab6ad39bc4ff67303a1faad)\n'}, {'number': 4, 'created': '2021-06-16 13:37:10.000000000', 'files': ['tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/10e2c8341d890b41566797a74c56597fd2e90826', 'message': 'Create allocation if hostname matches display_name\n\nTo facilitate migration from nova to nova-less\ndeployment create an allocation when the display_name\nin the ironic nodes instance_info matches the instance\nname associated with the baremetal node matches the\nhostname provided in the baremtal deployment YAML\ndefinition.\n\nAlso add a safeguard to not allow creating allocations\nwith duplicate names.\n\nCloses-Bug: #1928487\nChange-Id: I743201875381e41b41c15569e0b41045651ac9e0\n(cherry picked from commit a8e4ccfac38e485f1ab6ad39bc4ff67303a1faad)\n'}]",0,793181,10e2c8341d890b41566797a74c56597fd2e90826,21,4,4,24245,,,0,"Create allocation if hostname matches display_name

To facilitate migration from nova to nova-less
deployment create an allocation when the display_name
in the ironic nodes instance_info matches the instance
name associated with the baremetal node matches the
hostname provided in the baremtal deployment YAML
definition.

Also add a safeguard to not allow creating allocations
with duplicate names.

Closes-Bug: #1928487
Change-Id: I743201875381e41b41c15569e0b41045651ac9e0
(cherry picked from commit a8e4ccfac38e485f1ab6ad39bc4ff67303a1faad)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/793181/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py']",2,9ed4d25418785ed7af4f0457f00c44a4e0f9504b,bug/1928487-stable/wallaby," ""%s. %s: %s"" % (message, type(exc).__name__, exc)) # provide a safeguard to avoid conflicts node = baremetal.get_node(instance.uuid) if (node.instance_info.get('display_name') != request['hostname']): error = (""Requested hostname %s was not found, but the "" ""deployed node %s has a matching name. Refusing "" ""to proceed to avoid confusing results. Please "" ""either rename the node or use a different "" ""hostname"") % (request['hostname'], instance.uuid) raise BaremetalDeployException(error) try: baremetal.get_allocation(request['hostname']) raise BaremetalDeployException( 'An allocation with the requested hostname %s ' 'already exists. Refusing to proceed to avoid ' 'confusing results. Please either change the node ' 'name or use a different hostname' % request['hostname']) except sdk.exceptions.ResourceNotFound: pass "," ""%s. %s: %s"" % (message, type(exc).__name__, exc) ) # provide a safeguard to avoid conflicts. error = (""Requested hostname %s was not found, but the "" ""deployed node %s has a matching name. Refusing "" ""to proceed to avoid confusing results. Please "" ""either rename the node or use a different "" ""hostname"") % (request['hostname'], instance.uuid) raise BaremetalDeployException(error)",74,10
openstack%2Ftripleo-validations~master~I60e72b78d19764fb37f5ef3963b5532e4322f0cf,openstack/tripleo-validations,master,I60e72b78d19764fb37f5ef3963b5532e4322f0cf,Removes deprecated 'overcloudrc' module,MERGED,2021-06-07 07:01:50.000000000,2021-06-16 20:20:59.000000000,2021-06-16 20:19:24.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-07 07:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5939c2136972bf4eb56664a145b05134656e4377', 'message': ""Deprecation notice for an unused module\n\nThe 'overcloudrc' module isn't used by any known validation\nand from the looks of it, it hasn't been for a while.\n\nThis is a simple notification about its state and impending\nremoval from the repo.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I60e72b78d19764fb37f5ef3963b5532e4322f0cf\n""}, {'number': 2, 'created': '2021-06-07 07:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0e7fd10d84c644f75c2bb23e3fc462775ca30cc1', 'message': ""Removes deprecated 'overcloudrc' module\n\nPotentially concerned parties were warned by deprecation\nwarning in a previous patch.\n\nRelease notes updated.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I60e72b78d19764fb37f5ef3963b5532e4322f0cf\n""}, {'number': 3, 'created': '2021-06-07 07:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/647b750f14feeffa48a6b73df2daaed5c72715eb', 'message': ""Removes deprecated 'overcloudrc' module\n\nPotentially concerned parties were warned by deprecation\nwarning in a previous patch.\n\nRelease notes updated.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I60e72b78d19764fb37f5ef3963b5532e4322f0cf\n""}, {'number': 4, 'created': '2021-06-07 08:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/603198f914c477f68df41c74eb7a1ad808cf0878', 'message': ""Removes deprecated 'overcloudrc' module\n\nRelease notes updated.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I60e72b78d19764fb37f5ef3963b5532e4322f0cf\n""}, {'number': 5, 'created': '2021-06-07 09:55:39.000000000', 'files': ['library/overcloudrc.py', 'doc/source/modules/modules-overcloudrc.rst', 'releasenotes/notes/remove-overcloudrc-a6c28a4a34dad951.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ead951fd4894acf197600f50c1a194f1bbcc2cc9', 'message': ""Removes deprecated 'overcloudrc' module\n\nRelease notes updated.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I60e72b78d19764fb37f5ef3963b5532e4322f0cf\n""}]",2,795025,ead951fd4894acf197600f50c1a194f1bbcc2cc9,24,7,5,32926,,,0,"Removes deprecated 'overcloudrc' module

Release notes updated.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I60e72b78d19764fb37f5ef3963b5532e4322f0cf
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/25/795025/1 && git format-patch -1 --stdout FETCH_HEAD,"['library/overcloudrc.py', 'releasenotes/notes/remove-overcloudrc-a6c28a4a34dad951.yaml']",2,5939c2136972bf4eb56664a145b05134656e4377,overcloudrc/removal,--- others: - | The 'overcloudrc' validation module was removed as it was not used by any valdiation for a significant period of time. No other party or project was known to have used the module in any capacity. ,,6,80
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ib88ed7d17547209f383cdf2f0449c02d06e41e2d,openstack/tripleo-heat-templates,stable/wallaby,Ib88ed7d17547209f383cdf2f0449c02d06e41e2d,Fix container security_opts type,MERGED,2021-06-10 14:16:41.000000000,2021-06-16 20:19:17.000000000,2021-06-16 20:19:17.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-10 14:16:41.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/neutron/neutron-mlnx-agent-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-netcontrold-container-ansible.yaml', 'deployment/neutron/neutron-agents-ib-config-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/logging/rsyslog-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7dea661f697eeda50ccd53ceda49bdbd415177f8', 'message': ""Fix container security_opts type\n\nThe podman container module expects security_opts to be a list but\nansible is magically handling this. Rather than rely on the ansible\nbehavior, let's explicitly specify it as a list.\n\nChange-Id: Ib88ed7d17547209f383cdf2f0449c02d06e41e2d\n(cherry picked from commit 89f59601252a1ac2ed9fdf4ba5e33d3694d128fd)\n""}]",0,795788,7dea661f697eeda50ccd53ceda49bdbd415177f8,15,3,1,14985,,,0,"Fix container security_opts type

The podman container module expects security_opts to be a list but
ansible is magically handling this. Rather than rely on the ansible
behavior, let's explicitly specify it as a list.

Change-Id: Ib88ed7d17547209f383cdf2f0449c02d06e41e2d
(cherry picked from commit 89f59601252a1ac2ed9fdf4ba5e33d3694d128fd)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/795788/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/neutron/neutron-mlnx-agent-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-netcontrold-container-ansible.yaml', 'deployment/neutron/neutron-agents-ib-config-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/logging/rsyslog-container-puppet.yaml']",11,7dea661f697eeda50ccd53ceda49bdbd415177f8,config-next-stable/wallaby, security_opt: - label=disable, security_opt: 'label=disable',26,13
openstack%2Ftripleo-upgrade~stable%2Fvictoria~I18bea0f88926f47fe2945bd8c127d6a372efa52f,openstack/tripleo-upgrade,stable/victoria,I18bea0f88926f47fe2945bd8c127d6a372efa52f,Add validations_result when running validations.,MERGED,2021-06-11 12:32:24.000000000,2021-06-16 19:58:53.000000000,2021-06-16 19:58:53.000000000,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-06-11 12:32:24.000000000', 'files': ['tasks/common/validation_group_run.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/efdf4889830e7cc39c92bc5b14e26566a1408bb2', 'message': 'Add validations_result when running validations.\n\nWhen merging [0], it was missed part of the solution submitted in [1]\nremoving the register: validations_result. As a consequence, if the\nvalidations command fails then Ansible will show an error saying that\nvalidations_result variable does not exist. This patch adds back\nthe parameter.\nAlso, it corrects the case when the validations_filtered parameter\ndoes not contain any validation. In that case, the validation group\nwill be skipped.\n\n[0] - I47c1a2d0a8cc6618444b6301232079f69c5d8d6e\n[1] - I7bac98032b84fadb6e42f8d790db3bba881dbc7b\n\nChange-Id: I18bea0f88926f47fe2945bd8c127d6a372efa52f\n(cherry picked from commit bcdd0063749b2fbc74b131b389d760d1a630b420)\n'}]",0,795995,efdf4889830e7cc39c92bc5b14e26566a1408bb2,18,4,1,31245,,,0,"Add validations_result when running validations.

When merging [0], it was missed part of the solution submitted in [1]
removing the register: validations_result. As a consequence, if the
validations command fails then Ansible will show an error saying that
validations_result variable does not exist. This patch adds back
the parameter.
Also, it corrects the case when the validations_filtered parameter
does not contain any validation. In that case, the validation group
will be skipped.

[0] - I47c1a2d0a8cc6618444b6301232079f69c5d8d6e
[1] - I7bac98032b84fadb6e42f8d790db3bba881dbc7b

Change-Id: I18bea0f88926f47fe2945bd8c127d6a372efa52f
(cherry picked from commit bcdd0063749b2fbc74b131b389d760d1a630b420)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/95/795995/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/validation_group_run.yaml'],1,efdf4889830e7cc39c92bc5b14e26566a1408bb2,," register: validations_result when: - ""validations_filtered|length > 0"" - name: Validation group not executed debug: msg: ""Validation group {{ validation_group }} is skipped."" when: - ""validations_filtered|length == 0""",,8,0
openstack%2Fpuppet-swift~master~I2740da550157c94cd80805f60321d3cd91381cff,openstack/puppet-swift,master,I2740da550157c94cd80805f60321d3cd91381cff,Make it possible to skip parted+mkfs,MERGED,2021-06-09 07:35:06.000000000,2021-06-16 19:45:40.000000000,2021-06-16 19:44:21.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 07:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/75b6124082a5fcfc5f7bc6ba8a169d6be4c44dee', 'message': 'Make it possible to skip parted+mkfs\n\nPreviously, each run puppet runs a parted and a xfs_admin command,\nwhich itself triggers udev rules. In production, and during a\nrebalance, this may trigger a *very* high load on the storage nodes.\n\nThis patch introduces a new option ""run_parted_and_mkfs"" which is ""true""\nby default (not changing the past behavior), so administrators can, once\nthe cluster is setup and the new disks are in, set this variable to ""false"".\n\nChange-Id: I2740da550157c94cd80805f60321d3cd91381cff\n'}, {'number': 2, 'created': '2021-06-09 11:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/fe6036e150954d5876c8bd88e86ebab86a1e0a5a', 'message': 'Make it possible to skip parted+mkfs\n\nPreviously, each run puppet runs a parted and a xfs_admin command,\nwhich itself triggers udev rules. In production, and during a\nrebalance, this may trigger a *very* high load on the storage nodes.\n\nThis patch introduces a new option ""run_parted_and_mkfs"" which is ""true""\nby default (not changing the past behavior), so administrators can, once\nthe cluster is setup and the new disks are in, set this variable to ""false"".\n\nChange-Id: I2740da550157c94cd80805f60321d3cd91381cff\n'}, {'number': 3, 'created': '2021-06-15 11:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/930e9c7e3bad76534a5a802cafb7bf79b665d316', 'message': 'Make it possible to skip parted+mkfs\n\nPreviously, each run puppet runs a parted and a xfs_admin command,\nwhich itself triggers udev rules. In production, and during a\nrebalance, this may trigger a *very* high load on the storage nodes.\n\nThis patch introduces a new option ""run_parted_and_mkfs"" which is ""true""\nby default (not changing the past behavior), so administrators can, once\nthe cluster is setup and the new disks are in, set this variable to ""false"".\n\nChange-Id: I2740da550157c94cd80805f60321d3cd91381cff\n'}, {'number': 4, 'created': '2021-06-15 12:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/69b278b09bb075eeea5a46e73a994a8ae4a9ed5e', 'message': 'Make it possible to skip parted+mkfs\n\nPreviously, each run puppet runs a parted and a xfs_admin command,\nwhich itself triggers udev rules. In production, and during a\nrebalance, this may trigger a *very* high load on the storage nodes.\n\nThis patch introduces a new option ""manage_partition_and_filesystem""\nwhich is ""true"" by default (not changing the past behavior), so\nadministrators can, once the cluster is setup and the new disks are\nin, set this variable to ""false"".\n\nChange-Id: I2740da550157c94cd80805f60321d3cd91381cff\n'}, {'number': 5, 'created': '2021-06-15 12:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/cef461860d8ceb217273609234c051be3daac38f', 'message': 'Make it possible to skip parted+mkfs\n\nPreviously, each run puppet runs a parted and a xfs_admin command,\nwhich itself triggers udev rules. In production, and during a\nrebalance, this may trigger a *very* high load on the storage nodes.\n\nThis patch introduces a new option ""manage_partition_and_filesystem""\nwhich is ""true"" by default (not changing the past behavior), so\nadministrators can, once the cluster is setup and the new disks are\nin, set this variable to ""false"".\n\nChange-Id: I2740da550157c94cd80805f60321d3cd91381cff\n'}, {'number': 6, 'created': '2021-06-15 13:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/046ccc7511c1ba05822570c84b2b1b5917f0706a', 'message': 'Make it possible to skip parted+mkfs\n\nPreviously, each run puppet runs a parted and a xfs_admin command,\nwhich itself triggers udev rules. In production, and during a\nrebalance, this may trigger a *very* high load on the storage nodes.\n\nThis patch introduces a new option ""manage_partition_and_filesystem""\nwhich is ""true"" by default (not changing the past behavior), so\nadministrators can, once the cluster is setup and the new disks are\nin, set this variable to ""false"".\n\nChange-Id: I2740da550157c94cd80805f60321d3cd91381cff\n'}, {'number': 7, 'created': '2021-06-15 22:57:27.000000000', 'files': ['releasenotes/notes/manage_partition_and_filesystem-64cd4086d1bb5b0a.yaml', 'manifests/storage/disk.pp', 'manifests/storage/xfs.pp', 'spec/defines/swift_storage_disk_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/7577eec93cd66575a68ff4abb1d300c8a2fb351b', 'message': 'Make it possible to skip parted+mkfs\n\nPreviously, each run puppet runs a parted and a xfs_admin command,\nwhich itself triggers udev rules. In production, and during a\nrebalance, this may trigger a *very* high load on the storage nodes.\n\nThis patch introduces 2 a new options: ""manage_partition"" and\n""manage_filesystem"" which are ""true"" by default (not changing the\npast behavior), so administrators can, once the cluster is setup\nand the new disks are in, set this variable to ""false"", or manage\npartitions and formating out of puppet.\n\nChange-Id: I2740da550157c94cd80805f60321d3cd91381cff\n'}]",20,795486,7577eec93cd66575a68ff4abb1d300c8a2fb351b,30,4,7,6476,,,0,"Make it possible to skip parted+mkfs

Previously, each run puppet runs a parted and a xfs_admin command,
which itself triggers udev rules. In production, and during a
rebalance, this may trigger a *very* high load on the storage nodes.

This patch introduces 2 a new options: ""manage_partition"" and
""manage_filesystem"" which are ""true"" by default (not changing the
past behavior), so administrators can, once the cluster is setup
and the new disks are in, set this variable to ""false"", or manage
partitions and formating out of puppet.

Change-Id: I2740da550157c94cd80805f60321d3cd91381cff
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/86/795486/7 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/storage/disk.pp', 'manifests/storage/xfs.pp', 'releasenotes/notes/run_parted_and_mkfs-64cd4086d1bb5b0a.yaml']",3,75b6124082a5fcfc5f7bc6ba8a169d6be4c44dee,skip-parted-mkfs,--- features: - | The classes swift::storage::disk and swift::storage::xfs now have a new parameter run_parted_and_mkfs (true by default) that may be used to skip running parted and xfs_admin once the swift stores are setup. ,,49,24
openstack%2Fkayobe~stable%2Ftrain~Ib91fda6420a8255ba5d3cbb7de98613c492eb9b7,openstack/kayobe,stable/train,Ib91fda6420a8255ba5d3cbb7de98613c492eb9b7,"Revert ""CI: switch to quay.io for container images""",MERGED,2021-06-10 09:06:53.000000000,2021-06-16 19:29:59.000000000,2021-06-16 19:28:38.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-06-10 09:06:53.000000000', 'files': ['playbooks/kayobe-overcloud-base/globals.yml.j2', 'playbooks/kayobe-seed-base/globals.yml.j2', 'playbooks/kayobe-seed-base/pre.yml', 'playbooks/kayobe-seed-base/overrides.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/globals.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-upgrade-base/overrides.yml.j2', 'playbooks/kayobe-seed-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'playbooks/kayobe-seed-upgrade-base/globals.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ad86b8803da435e8b47349a5a6bb3d62606479c7', 'message': 'Revert ""CI: switch to quay.io for container images""\n\nKolla container images for stable/train are not being updated on\nquay.io. We need a new bifrost-deploy image with the systemd package\nfrom CentOS 8.4 in order to fix the following error when deploying on a\nCentOS 8.4 host:\n\n    Could not find the requested service mariadb: host\n\nSwitch back to images from Docker Hub, which are still updated weekly.\nAn image with CentOS 8.4 packages should be published on 2021-06-13.\n\nThis reverts commit b26f4c1cdf9a70db267b73535e06b882a07917d0.\n\nChange-Id: Ib91fda6420a8255ba5d3cbb7de98613c492eb9b7\n'}]",4,795745,ad86b8803da435e8b47349a5a6bb3d62606479c7,18,4,1,15197,,,0,"Revert ""CI: switch to quay.io for container images""

Kolla container images for stable/train are not being updated on
quay.io. We need a new bifrost-deploy image with the systemd package
from CentOS 8.4 in order to fix the following error when deploying on a
CentOS 8.4 host:

    Could not find the requested service mariadb: host

Switch back to images from Docker Hub, which are still updated weekly.
An image with CentOS 8.4 packages should be published on 2021-06-13.

This reverts commit b26f4c1cdf9a70db267b73535e06b882a07917d0.

Change-Id: Ib91fda6420a8255ba5d3cbb7de98613c492eb9b7
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/45/795745/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-base/globals.yml.j2', 'playbooks/kayobe-seed-base/globals.yml.j2', 'playbooks/kayobe-seed-base/pre.yml', 'playbooks/kayobe-seed-base/overrides.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/globals.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-upgrade-base/overrides.yml.j2', 'playbooks/kayobe-seed-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'playbooks/kayobe-seed-upgrade-base/globals.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/overrides.yml.j2']",14,ad86b8803da435e8b47349a5a6bb3d62606479c7,,,"kolla_docker_namespace: ""openstack.kolla"" # use the published images from a site mirror of quay.io kolla_docker_registry: ""{{ zuul_site_mirror_fqdn }}:4447""",0,74
openstack%2Fkayobe~stable%2Fussuri~I233b61209433f89f4a46354d081a038b24cd2800,openstack/kayobe,stable/ussuri,I233b61209433f89f4a46354d081a038b24cd2800,CI: Revert to Docker Hub images for upgrade jobs,MERGED,2021-06-11 08:26:46.000000000,2021-06-16 19:29:49.000000000,2021-06-16 19:28:35.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-06-11 08:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d7cf71ad47c60e616d24996306c9732d38514041', 'message': 'Revert to Docker Hub images for seed-upgrade job\n\nKolla container images for stable/train are not being updated on\nquay.io. We need a new bifrost-deploy image with the systemd package\nfrom CentOS 8.4 in order to fix the following error when deploying on a\nCentOS 8.4 host:\n\n    Could not find the requested service mariadb: host\n\nSwitch back to images from Docker Hub, which are still updated weekly,\nfor the seed-upgrade job. An image with CentOS 8.4 packages should be\npublished on 2021-06-13.\n\nNote that unlike other jobs, this makes the seed-upgrade job use images\nupdated weekly for ussuri as well, which should not be an issue.\n\nThis partially reverts commit 0059a8cfa8e981f63c72724128d0d4749b4b1a57.\n\nChange-Id: I233b61209433f89f4a46354d081a038b24cd2800\n'}, {'number': 2, 'created': '2021-06-11 08:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a912abf209ae6e544f377fef1ce42637374c99c7', 'message': 'Revert to Docker Hub images for seed-upgrade job\n\nKolla container images for stable/train are not being updated on\nquay.io. We need a new bifrost-deploy image with the systemd package\nfrom CentOS 8.4 in order to fix the following error when deploying on a\nCentOS 8.4 host:\n\n    Could not find the requested service mariadb: host\n\nSwitch back to images from Docker Hub, which are still updated weekly,\nfor the seed-upgrade job. An image with CentOS 8.4 packages should be\npublished on 2021-06-13.\n\nNote that unlike other jobs, this makes the seed-upgrade job use images\nupdated weekly for ussuri as well, which should not be an issue.\n\nThis partially reverts commit 0059a8cfa8e981f63c72724128d0d4749b4b1a57.\n\nChange-Id: I233b61209433f89f4a46354d081a038b24cd2800\n'}, {'number': 3, 'created': '2021-06-11 08:50:31.000000000', 'files': ['playbooks/kayobe-overcloud-upgrade-base/overrides.yml.j2', 'playbooks/kayobe-seed-upgrade-base/run.yml', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/globals.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/overrides.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/globals.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/run.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a067a8ba14e50b79557339bcad5f024197daab31', 'message': ""CI: Revert to Docker Hub images for upgrade jobs\n\nKolla container images for stable/train are not being updated on\nquay.io. We need a new bifrost-deploy image with the systemd package\nfrom CentOS 8.4 in order to fix the following error when deploying on a\nCentOS 8.4 host:\n\n    Could not find the requested service mariadb: host\n\nSwitch back to images from Docker Hub, which are still updated weekly,\nfor the upgrade jobs. An image with CentOS 8.4 packages should be\npublished on 2021-06-13.\n\nUpdating kayobe-overcloud-upgrade-base wasn't required to fix CI issues,\nbut it allows us to test upgrades from the latest train images.\n\nNote that unlike other jobs, this makes the upgrade jobs use images\nupdated weekly for ussuri as well, which should not be an issue.\n\nThis partially reverts commit 0059a8cfa8e981f63c72724128d0d4749b4b1a57.\n\nChange-Id: I233b61209433f89f4a46354d081a038b24cd2800\n""}]",3,795959,a067a8ba14e50b79557339bcad5f024197daab31,16,4,3,15197,,,0,"CI: Revert to Docker Hub images for upgrade jobs

Kolla container images for stable/train are not being updated on
quay.io. We need a new bifrost-deploy image with the systemd package
from CentOS 8.4 in order to fix the following error when deploying on a
CentOS 8.4 host:

    Could not find the requested service mariadb: host

Switch back to images from Docker Hub, which are still updated weekly,
for the upgrade jobs. An image with CentOS 8.4 packages should be
published on 2021-06-13.

Updating kayobe-overcloud-upgrade-base wasn't required to fix CI issues,
but it allows us to test upgrades from the latest train images.

Note that unlike other jobs, this makes the upgrade jobs use images
updated weekly for ussuri as well, which should not be an issue.

This partially reverts commit 0059a8cfa8e981f63c72724128d0d4749b4b1a57.

Change-Id: I233b61209433f89f4a46354d081a038b24cd2800
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/59/795959/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-seed-upgrade-base/run.yml', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/globals.yml.j2', 'playbooks/kayobe-seed-upgrade-base/overrides.yml.j2']",4,d7cf71ad47c60e616d24996306c9732d38514041,,,"kolla_docker_namespace: ""openstack.kolla"" # use the published images from a site mirror of quay.io kolla_docker_registry: ""{{ zuul_site_mirror_fqdn }}:4447""",0,16
openstack%2Fansible-collections-openstack~master~Ib80483fbc6c3d93003b690997014d8d08315296d,openstack/ansible-collections-openstack,master,Ib80483fbc6c3d93003b690997014d8d08315296d,Switch ServerGroup module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-16 19:12:51.000000000,2021-06-16 19:12:51.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c0a34e4994f048ca0d4bc5f2c15febd47e7515f8', 'message': 'Switch ServerGroup module to OpenStackModule\n\nSwitch ServerGroup module to the general OpenStackModule.\n\nChange-Id: Ib80483fbc6c3d93003b690997014d8d08315296d\n'}, {'number': 2, 'created': '2021-05-21 07:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3b507b349ca4892b6acca752165cee2b05648179', 'message': 'Switch ServerGroup module to OpenStackModule\n\nSwitch ServerGroup module to the general OpenStackModule.\n\nChange-Id: Ib80483fbc6c3d93003b690997014d8d08315296d\n'}, {'number': 3, 'created': '2021-05-21 11:57:46.000000000', 'files': ['plugins/modules/server_group.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f93172677caa734086d5f95cd032f437ba0127b7', 'message': 'Switch ServerGroup module to OpenStackModule\n\nSwitch ServerGroup module to the general OpenStackModule.\n\nChange-Id: Ib80483fbc6c3d93003b690997014d8d08315296d\n'}]",0,792452,f93172677caa734086d5f95cd032f437ba0127b7,14,2,3,27900,,,0,"Switch ServerGroup module to OpenStackModule

Switch ServerGroup module to the general OpenStackModule.

Change-Id: Ib80483fbc6c3d93003b690997014d8d08315296d
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/52/792452/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/server_group.py'],1,c0a34e4994f048ca0d4bc5f2c15febd47e7515f8,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class ServerGroupModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( def _system_state_change(self, state, server_group): if state == 'present' and not server_group: return True if state == 'absent' and server_group: return True return False def run(self): name = self.params['name'] policies = self.params['policies'] state = self.params['state'] server_group = self.conn.get_server_group(name) if self.check_mode: self.exit_json( changed=self._system_state_change(state, server_group) self.fail_json( server_group = self.conn.create_server_group(name, policies) self.exit_json( self.conn.delete_server_group(server_group['id']) self.exit_json(changed=changed) def main(): module = ServerGroupModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def _system_state_change(state, server_group): if state == 'present' and not server_group: return True if state == 'absent' and server_group: return True return False def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule( argument_spec, **module_kwargs name = module.params['name'] policies = module.params['policies'] state = module.params['state'] sdk, cloud = openstack_cloud_from_module(module) try: server_group = cloud.get_server_group(name) if module.check_mode: module.exit_json( changed=_system_state_change(state, server_group) module.fail_json( server_group = cloud.create_server_group(name, policies) module.exit_json( cloud.delete_server_group(server_group['id']) module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e), extra_data=e.extra_data)",31,35
openstack%2Fansible-collections-openstack~master~I98006adcb16c57d5d00990ef6cb76298ff9af9f9,openstack/ansible-collections-openstack,master,I98006adcb16c57d5d00990ef6cb76298ff9af9f9,Switch Stack module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-16 19:12:48.000000000,2021-06-16 19:12:48.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3da29c616ee463b844ed4a9a7ce055607bc16ddb', 'message': 'Switch Stack module to OpenStackModule\n\nSwitch stack module to the general OpenStackModule.\n\nChange-Id: I98006adcb16c57d5d00990ef6cb76298ff9af9f9\n'}, {'number': 2, 'created': '2021-05-21 07:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/86ff15e1bb437bc7457076e2e43ff217975e0cea', 'message': 'Switch Stack module to OpenStackModule\n\nSwitch stack module to the general OpenStackModule.\n\nChange-Id: I98006adcb16c57d5d00990ef6cb76298ff9af9f9\n'}, {'number': 3, 'created': '2021-05-21 11:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/952bd5bc60f14eec4159658086fee7d5e9cecd02', 'message': 'Switch Stack module to OpenStackModule\n\nSwitch stack module to the general OpenStackModule.\n\nChange-Id: I98006adcb16c57d5d00990ef6cb76298ff9af9f9\n'}, {'number': 4, 'created': '2021-05-25 08:37:30.000000000', 'files': ['plugins/modules/stack.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/af79857bfb9f391e43eaab0f0c94d8c2b7b74c86', 'message': 'Switch Stack module to OpenStackModule\n\nSwitch stack module to the general OpenStackModule.\n\nChange-Id: I98006adcb16c57d5d00990ef6cb76298ff9af9f9\n'}]",0,792450,af79857bfb9f391e43eaab0f0c94d8c2b7b74c86,30,3,4,27900,,,0,"Switch Stack module to OpenStackModule

Switch stack module to the general OpenStackModule.

Change-Id: I98006adcb16c57d5d00990ef6cb76298ff9af9f9
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/50/792450/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/stack.py'],1,3da29c616ee463b844ed4a9a7ce055607bc16ddb,," from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class StackModule(OpenStackModule): argument_spec = dict( tag=dict(required=False, default=None, min_ver='0.28.0'), module_kwargs = dict( supports_check_mode=True ) def _create_stack(self, stack, parameters): stack = self.conn.create_stack( self.params['name'], template_file=self.params['template'], environment_files=self.params['environment'], timeout=self.params['timeout'], wait=True, rollback=self.params['rollback'], **parameters) stack = self.conn.get_stack(stack.id, None) if stack.stack_status == 'CREATE_COMPLETE': return stack else: self.fail_json(msg=""Failure in creating stack: {0}"".format(stack)) def _update_stack(self, stack, parameters): stack = self.conn.update_stack( self.params['name'], template_file=self.params['template'], environment_files=self.params['environment'], timeout=self.params['timeout'], rollback=self.params['rollback'], wait=self.params['wait'], **parameters) if stack['stack_status'] == 'UPDATE_COMPLETE': return stack else: self.fail_json(msg=""Failure in updating stack: %s"" % stack['stack_status_reason']) def _system_state_change(self, stack): state = self.params['state'] if state == 'present': if not stack: return True if state == 'absent' and stack: return True return False def main(self): state = self.params['state'] name = self.params['name'] # Check for required parameters when state == 'present' if state == 'present': for p in ['template']: if not self.params[p]: self.fail_json(msg='%s required with present state' % p) stack = self.conn.get_stack(name) if self.check_mode: self.exit_json(changed=self._system_state_change(stack)) parameters = self.params['parameters'] if not stack: stack = self._create_stack(stack, parameters) else: stack = self._update_stack(stack, parameters) self.exit_json(changed=True, stack=stack, id=stack.id) if not self.conn.delete_stack(name, wait=self.params['wait']): self.fail_json(msg='delete stack failed for stack: %s' % name) self.exit_json(changed=changed) def main(): module = StackModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) from ansible.module_utils._text import to_native from distutils.version import StrictVersion def _create_stack(module, stack, cloud, sdk, parameters): try: stack = cloud.create_stack(module.params['name'], template_file=module.params['template'], environment_files=module.params['environment'], timeout=module.params['timeout'], wait=True, rollback=module.params['rollback'], **parameters) stack = cloud.get_stack(stack.id, None) if stack.stack_status == 'CREATE_COMPLETE': return stack else: module.fail_json(msg=""Failure in creating stack: {0}"".format(stack)) except sdk.exceptions.OpenStackCloudException as e: if hasattr(e, 'response'): module.fail_json(msg=to_native(e), response=e.response.json()) else: module.fail_json(msg=to_native(e)) def _update_stack(module, stack, cloud, sdk, parameters): try: stack = cloud.update_stack( module.params['name'], template_file=module.params['template'], environment_files=module.params['environment'], timeout=module.params['timeout'], rollback=module.params['rollback'], wait=module.params['wait'], **parameters) if stack['stack_status'] == 'UPDATE_COMPLETE': return stack else: module.fail_json(msg=""Failure in updating stack: %s"" % stack['stack_status_reason']) except sdk.exceptions.OpenStackCloudException as e: if hasattr(e, 'response'): module.fail_json(msg=to_native(e), response=e.response.json()) else: module.fail_json(msg=to_native(e)) def _system_state_change(module, stack, cloud): state = module.params['state'] if state == 'present': if not stack: return True if state == 'absent' and stack: return True return False def main(): argument_spec = openstack_full_argument_spec( tag=dict(required=False, default=None), module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, supports_check_mode=True, **module_kwargs) state = module.params['state'] name = module.params['name'] # Check for required parameters when state == 'present' if state == 'present': for p in ['template']: if not module.params[p]: module.fail_json(msg='%s required with present state' % p) sdk, cloud = openstack_cloud_from_module(module) try: stack = cloud.get_stack(name) if module.check_mode: module.exit_json(changed=_system_state_change(module, stack, cloud)) parameters = module.params['parameters'] if module.params['tag']: parameters['tags'] = module.params['tag'] min_version = '0.28.0' if StrictVersion(sdk.version.__version__) < StrictVersion(min_version) and stack: module.warn(""To update tags using openstack.cloud.stack module, the"" ""installed version of the openstacksdk"" ""library MUST be >={min_version}"" """".format(min_version=min_version)) if not stack: stack = _create_stack(module, stack, cloud, sdk, parameters) else: stack = _update_stack(module, stack, cloud, sdk, parameters) module.exit_json(changed=True, stack=stack, id=stack.id) if not cloud.delete_stack(name, wait=module.params['wait']): module.fail_json(msg='delete stack failed for stack: %s' % name) module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=to_native(e))",74,100
openstack%2Freleases~master~Ibd3734c6f31e67b631cbb494453e558173d3c2a3,openstack/releases,master,Ibd3734c6f31e67b631cbb494453e558173d3c2a3,[tacker] Transition Ocata to End of Life,MERGED,2021-06-09 19:27:14.000000000,2021-06-16 18:59:10.000000000,2021-06-16 18:59:10.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 19:27:14.000000000', 'files': ['deliverables/ocata/tacker-horizon.yaml', 'deliverables/ocata/tacker.yaml', 'deliverables/ocata/python-tackerclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d0d3beec440f2e35692e9aef8a2cb1f2a00154ef', 'message': ""[tacker] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Ibd3734c6f31e67b631cbb494453e558173d3c2a3\n""}]",0,795678,d0d3beec440f2e35692e9aef8a2cb1f2a00154ef,9,4,1,17685,,,0,"[tacker] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Ibd3734c6f31e67b631cbb494453e558173d3c2a3
",git fetch https://review.opendev.org/openstack/releases refs/changes/78/795678/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/tacker-horizon.yaml', 'deliverables/ocata/tacker.yaml', 'deliverables/ocata/python-tackerclient.yaml']",3,d0d3beec440f2e35692e9aef8a2cb1f2a00154ef,ocata-eol, - version: ocata-eol projects: - repo: openstack/python-tackerclient hash: 7c786b3ee344234cc3cc8404f289958cc244ae81,,12,0
openstack%2Freleases~master~I7fd1ac229f7f55d609764ee7e31d9c2889aa3294,openstack/releases,master,I7fd1ac229f7f55d609764ee7e31d9c2889aa3294,[vitrage] Transition Ocata to End of Life,MERGED,2021-06-09 19:33:16.000000000,2021-06-16 18:56:25.000000000,2021-06-16 18:56:25.000000000,"[{'_account_id': 17685}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 19:33:16.000000000', 'files': ['deliverables/ocata/vitrage.yaml', 'deliverables/ocata/python-vitrageclient.yaml', 'deliverables/ocata/vitrage-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/43a5672c404c02453b976d08e2b1afbf0bd88343', 'message': ""[vitrage] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I7fd1ac229f7f55d609764ee7e31d9c2889aa3294\n""}]",0,795683,43a5672c404c02453b976d08e2b1afbf0bd88343,9,4,1,17685,,,0,"[vitrage] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I7fd1ac229f7f55d609764ee7e31d9c2889aa3294
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/795683/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/vitrage.yaml', 'deliverables/ocata/python-vitrageclient.yaml', 'deliverables/ocata/vitrage-dashboard.yaml']",3,43a5672c404c02453b976d08e2b1afbf0bd88343,ocata-eol, - version: ocata-eol projects: - repo: openstack/vitrage-dashboard hash: b68b79ee726607a755285fd51e703f71ee6fab2c,,12,0
openstack%2Freleases~master~Ia76c0db2292a573c343398c99f5697d41de84f45,openstack/releases,master,Ia76c0db2292a573c343398c99f5697d41de84f45,[zaqar] Transition Ocata to End of Life,MERGED,2021-06-09 19:34:14.000000000,2021-06-16 18:54:40.000000000,2021-06-16 18:54:40.000000000,"[{'_account_id': 6484}, {'_account_id': 8846}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-09 19:34:14.000000000', 'files': ['deliverables/ocata/python-zaqarclient.yaml', 'deliverables/ocata/zaqar.yaml', 'deliverables/ocata/zaqar-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/77ec981d464576c370752901445b41a465f6c3f3', 'message': ""[zaqar] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Ia76c0db2292a573c343398c99f5697d41de84f45\n""}]",0,795686,77ec981d464576c370752901445b41a465f6c3f3,10,6,1,17685,,,0,"[zaqar] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Ia76c0db2292a573c343398c99f5697d41de84f45
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/795686/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/python-zaqarclient.yaml', 'deliverables/ocata/zaqar.yaml', 'deliverables/ocata/zaqar-ui.yaml']",3,77ec981d464576c370752901445b41a465f6c3f3,ocata-eol, - version: ocata-eol projects: - repo: openstack/zaqar-ui hash: 7bceb57a3d0f3f30ca48b60111848bc84a120538,,12,0
openstack%2Freleases~master~Ic8cc19708afe1a1909793da1d880a4b93b6b69ae,openstack/releases,master,Ic8cc19708afe1a1909793da1d880a4b93b6b69ae,[freezer] Transition Ocata to End of Life,MERGED,2021-06-09 18:47:07.000000000,2021-06-16 18:50:00.000000000,2021-06-16 18:50:00.000000000,"[{'_account_id': 13940}, {'_account_id': 17685}, {'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 18:47:07.000000000', 'files': ['deliverables/ocata/python-freezerclient.yaml', 'deliverables/ocata/freezer-web-ui.yaml', 'deliverables/ocata/freezer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6830004e551fb52860200fbe9706957f1d615fc0', 'message': ""[freezer] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Ic8cc19708afe1a1909793da1d880a4b93b6b69ae\n""}]",0,795651,6830004e551fb52860200fbe9706957f1d615fc0,9,5,1,17685,,,0,"[freezer] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Ic8cc19708afe1a1909793da1d880a4b93b6b69ae
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/795651/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/freezer-web-ui.yaml', 'deliverables/ocata/python-freezerclient.yaml', 'deliverables/ocata/freezer.yaml']",3,6830004e551fb52860200fbe9706957f1d615fc0,ocata-eol, - version: ocata-eol projects: - repo: openstack/freezer hash: 76e76fd14cc2c17315be9af276a6d8e539d87f36 - repo: openstack/freezer-api hash: ae057e24d33c6431e7e67243f9b1715fbc7bb292 - repo: openstack/freezer-dr hash: 35bebe8ac8665da8091e2503277a12f6ede7e7b0,,16,0
openstack%2Freleases~master~I970e394bfab36cced6a1f687ea2ba6d5654545f5,openstack/releases,master,I970e394bfab36cced6a1f687ea2ba6d5654545f5,[designate] Transition Ocata to End of Life,MERGED,2021-06-09 18:46:57.000000000,2021-06-16 18:48:09.000000000,2021-06-16 18:48:09.000000000,"[{'_account_id': 8099}, {'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 18:46:57.000000000', 'files': ['deliverables/ocata/designate.yaml', 'deliverables/ocata/python-designateclient.yaml', 'deliverables/ocata/designate-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/28da91ad0c3a9b026727b210a21931785cb66ea6', 'message': ""[designate] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I970e394bfab36cced6a1f687ea2ba6d5654545f5\n""}]",0,795650,28da91ad0c3a9b026727b210a21931785cb66ea6,10,6,1,17685,,,0,"[designate] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I970e394bfab36cced6a1f687ea2ba6d5654545f5
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/795650/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/designate.yaml', 'deliverables/ocata/designate-dashboard.yaml', 'deliverables/ocata/python-designateclient.yaml']",3,28da91ad0c3a9b026727b210a21931785cb66ea6,ocata-eol, - version: ocata-eol projects: - repo: openstack/python-designateclient hash: 922773deaf1d663ab84752021b5f400bc5aac1f8,,12,0
openstack%2Fnetworking-ovn~stable%2Ftrain~I8a514ba2960b1e0cf6d4ca9fa1a94b929418cfcd,openstack/networking-ovn,stable/train,I8a514ba2960b1e0cf6d4ca9fa1a94b929418cfcd,Make networking-ovn-octavia-v2-dsvm-scenario non-voting,MERGED,2020-03-10 15:00:35.000000000,2021-06-16 18:41:35.000000000,2020-03-11 11:42:39.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-03-10 15:00:35.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3cb95f094f0706795d1b68ff836ab357594309e0', 'message': ""Make networking-ovn-octavia-v2-dsvm-scenario non-voting\n\nThe job's currently broken and preventing patches from being merged\nat the moment.\n\nChange-Id: I8a514ba2960b1e0cf6d4ca9fa1a94b929418cfcd\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}]",0,712104,3cb95f094f0706795d1b68ff836ab357594309e0,10,4,1,6773,,,0,"Make networking-ovn-octavia-v2-dsvm-scenario non-voting

The job's currently broken and preventing patches from being merged
at the moment.

Change-Id: I8a514ba2960b1e0cf6d4ca9fa1a94b929418cfcd
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/04/712104/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,3cb95f094f0706795d1b68ff836ab357594309e0,, - networking-ovn-octavia-v2-dsvm-scenario: voting: false, - networking-ovn-octavia-v2-dsvm-scenario - networking-ovn-octavia-v2-dsvm-scenario,2,2
openstack%2Freleases~master~Ic9512843f1ad262a5ee60fec278fca91d3d4db01,openstack/releases,master,Ic9512843f1ad262a5ee60fec278fca91d3d4db01,[trove] Transition Ocata to End of Life,MERGED,2021-06-09 19:33:02.000000000,2021-06-16 18:20:47.000000000,2021-06-16 18:20:47.000000000,"[{'_account_id': 6732}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 19:33:02.000000000', 'files': ['deliverables/ocata/python-troveclient.yaml', 'deliverables/ocata/trove.yaml', 'deliverables/ocata/trove-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2f46ec34e418c8431eb153b3d465c56d90f0c0b5', 'message': ""[trove] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Ic9512843f1ad262a5ee60fec278fca91d3d4db01\n""}]",0,795682,2f46ec34e418c8431eb153b3d465c56d90f0c0b5,9,4,1,17685,,,0,"[trove] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Ic9512843f1ad262a5ee60fec278fca91d3d4db01
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/795682/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/python-troveclient.yaml', 'deliverables/ocata/trove.yaml', 'deliverables/ocata/trove-dashboard.yaml']",3,2f46ec34e418c8431eb153b3d465c56d90f0c0b5,ocata-eol, - version: ocata-eol projects: - repo: openstack/trove-dashboard hash: 006c8c60de7496e68b29df3fb3dcbfb6b20dc96d,,12,0
openstack%2Ftripleo-common~stable%2Fussuri~Ibaad817f52930380e659180fd8c52dca131cd4f8,openstack/tripleo-common,stable/ussuri,Ibaad817f52930380e659180fd8c52dca131cd4f8,Move rabbitmq healthcheck to something more modern,MERGED,2021-06-15 05:10:34.000000000,2021-06-16 18:12:19.000000000,2021-06-16 18:11:04.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-15 05:10:34.000000000', 'files': ['healthcheck/rabbitmq'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6ac7803b8a50409de8bad96773b2ed959d7df084', 'message': 'Move rabbitmq healthcheck to something more modern\n\nRabbitmq healthcheck when used against newer rabbitmq versions (seen at\nleast with 3.8.16) is using old interface ""rabbitmqctl\nnode_health_check"" which is deprecated and logs the following:\n\n  2021-06-08 18:25:55.014 [warning] <0.5504.0> rabbitmqctl node_health_check and its HTTP API counterpart are\n  DEPRECATED. See https://www.rabbitmq.com/monitoring.html#health-checks for replacement options.\n\nLet\'s switch to ""rabbitmq-diagnostics check_running"" which should be a\nsufficiently solid check without being too complex/heavy on rabbit\nitself.\n\nChange-Id: Ibaad817f52930380e659180fd8c52dca131cd4f8\nCloses-Bug: #1931298\n(cherry picked from commit aaa981c9ebc4d3fb517286317f674427e3235610)\n(cherry picked from commit 62344e944ea9ffa082931dac0bcdccd92320da59)\n(cherry picked from commit f7dabb4625322cbe5b01cb89931faa56f72d0e8e)\n'}]",0,796225,6ac7803b8a50409de8bad96773b2ed959d7df084,16,4,1,20172,,,0,"Move rabbitmq healthcheck to something more modern

Rabbitmq healthcheck when used against newer rabbitmq versions (seen at
least with 3.8.16) is using old interface ""rabbitmqctl
node_health_check"" which is deprecated and logs the following:

  2021-06-08 18:25:55.014 [warning] <0.5504.0> rabbitmqctl node_health_check and its HTTP API counterpart are
  DEPRECATED. See https://www.rabbitmq.com/monitoring.html#health-checks for replacement options.

Let's switch to ""rabbitmq-diagnostics check_running"" which should be a
sufficiently solid check without being too complex/heavy on rabbit
itself.

Change-Id: Ibaad817f52930380e659180fd8c52dca131cd4f8
Closes-Bug: #1931298
(cherry picked from commit aaa981c9ebc4d3fb517286317f674427e3235610)
(cherry picked from commit 62344e944ea9ffa082931dac0bcdccd92320da59)
(cherry picked from commit f7dabb4625322cbe5b01cb89931faa56f72d0e8e)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/25/796225/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/rabbitmq'],1,6ac7803b8a50409de8bad96773b2ed959d7df084,rabbitmq-healthcheck-stable/wallaby-stable/victoria-stable/ussuri,rabbitmq-diagnostics check_running || exit 1,rabbitmqctl node_health_check || exit 1,1,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Id6fc08bce5673a41fd9fa5cb27f41c9786f560da,openstack/tripleo-heat-templates,stable/ussuri,Id6fc08bce5673a41fd9fa5cb27f41c9786f560da,Set vlan-limit value depending on vlan_transparent setting,MERGED,2021-03-31 07:11:11.000000000,2021-06-16 18:07:02.000000000,2021-06-16 18:07:02.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-31 07:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3706d81bfc943aeef0fe83b31d1c2aebd35046a6', 'message': 'Set vlan-limit value depending on vlan_transparent setting\n\nIn case when vlan_transparent in Neutron is enabled,\nother_config:vlan-limit should be set to value ""0"" in the openvswitch on\nall nodes.\n\nRelated-Bug: #1918418\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-vswitch/+/783858\nChange-Id: Id6fc08bce5673a41fd9fa5cb27f41c9786f560da\n(cherry picked from commit e6801cebc81f25b6198cf29b4a5ab7308e16d5fd)\n'}, {'number': 2, 'created': '2021-05-13 20:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/acd5f5a271256c5faa696af00596ce32f6428364', 'message': 'Set vlan-limit value depending on vlan_transparent setting\n\nIn case when vlan_transparent in Neutron is enabled,\nother_config:vlan-limit should be set to value ""0"" in the openvswitch on\nall nodes.\n\nRelated-Bug: #1918418\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-vswitch/+/783858\nChange-Id: Id6fc08bce5673a41fd9fa5cb27f41c9786f560da\n(cherry picked from commit e6801cebc81f25b6198cf29b4a5ab7308e16d5fd)\n'}, {'number': 3, 'created': '2021-06-09 07:07:42.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73837b8b027eafad40f49f8d03b68ef51410ccee', 'message': 'Set vlan-limit value depending on vlan_transparent setting\n\nIn case when vlan_transparent in Neutron is enabled,\nother_config:vlan-limit should be set to value ""0"" in the openvswitch on\nall nodes.\n\nRelated-Bug: #1918418\n\nConflicts:\n    deployment/ovn/ovn-controller-container-puppet.yaml\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-vswitch/+/783858\nChange-Id: Id6fc08bce5673a41fd9fa5cb27f41c9786f560da\n(cherry picked from commit e6801cebc81f25b6198cf29b4a5ab7308e16d5fd)\n'}]",1,783931,73837b8b027eafad40f49f8d03b68ef51410ccee,24,5,3,11975,,,0,"Set vlan-limit value depending on vlan_transparent setting

In case when vlan_transparent in Neutron is enabled,
other_config:vlan-limit should be set to value ""0"" in the openvswitch on
all nodes.

Related-Bug: #1918418

Conflicts:
    deployment/ovn/ovn-controller-container-puppet.yaml

Depends-On: https://review.opendev.org/c/openstack/puppet-vswitch/+/783858
Change-Id: Id6fc08bce5673a41fd9fa5cb27f41c9786f560da
(cherry picked from commit e6801cebc81f25b6198cf29b4a5ab7308e16d5fd)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/783931/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,3706d81bfc943aeef0fe83b31d1c2aebd35046a6,bug/1918418-stable/victoria-stable/ussuri," EnableVLANTransparency: default: false description: > If True, then allow plugins that support it to create VLAN transparent networks. type: boolean enable_vlan_transparency: {equals: [{get_param: EnableVLANTransparency}, true]} - if: - enable_vlan_transparency - vswitch::ovs::vlan_limit: 0 - {}",,12,0
openstack%2Fironic~stable%2Fwallaby~I72eb4d7f0d26dd5deee9167c5e29cf6af1b683ae,openstack/ironic,stable/wallaby,I72eb4d7f0d26dd5deee9167c5e29cf6af1b683ae,dhcp-less: mention how to provide network_data to instance,MERGED,2021-06-16 12:06:09.000000000,2021-06-16 17:39:34.000000000,2021-06-16 13:39:14.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-16 12:06:09.000000000', 'files': ['doc/source/admin/dhcp-less.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/05c838073545b93141b0f6717350a9af9542e61d', 'message': 'dhcp-less: mention how to provide network_data to instance\n\nChange-Id: I72eb4d7f0d26dd5deee9167c5e29cf6af1b683ae\n(cherry picked from commit fd7cde9b9ed7e331a4a4932b903534591e42d562)\n'}]",0,796569,05c838073545b93141b0f6717350a9af9542e61d,8,2,1,10239,,,0,"dhcp-less: mention how to provide network_data to instance

Change-Id: I72eb4d7f0d26dd5deee9167c5e29cf6af1b683ae
(cherry picked from commit fd7cde9b9ed7e331a4a4932b903534591e42d562)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/69/796569/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/dhcp-less.rst'],1,05c838073545b93141b0f6717350a9af9542e61d,dhcp-less-configdrive-stable/wallaby,"You'll need the deployed image to support network data, e.g. by pre-installing cloud-init_ or Glean_ on it (most cloud images have the former). Then you can provide the network data when deploying, for example: .. code-block:: bash baremetal node deploy <node> \ --config-drive ""{\""network_data\"": $(cat ~/network_data.json)}"" Some first-boot services, such as Ignition_, don't support network data. You can provide their configuration as part of user data instead: .. code-block:: bash baremetal node deploy <node> \ --config-drive ""{\""user_data\"": \""... ignition config ...\""}"" .. _cloud-init: https://cloudinit.readthedocs.io/en/latest/ .. _Ignition: https://coreos.github.io/ignition/",,19,0
openstack%2Fpython-openstackclient~master~Ib029b2c236f79a0ca6f64834f069db2be4332ea8,openstack/python-openstackclient,master,Ib029b2c236f79a0ca6f64834f069db2be4332ea8,docs: Update neutronclient comparison doc,MERGED,2021-05-25 11:32:54.000000000,2021-06-16 17:37:29.000000000,2021-06-16 17:34:43.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-25 11:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/33c36b28ed2d382242125d3f3f783a0c5a05d5c4', 'message': ""docs: Update neutronclient comparison doc\n\nDone manually by looking at the help text for the 'neutron' client\n(version 7.1.1) and identifying gaps.\n\nChange-Id: Ib029b2c236f79a0ca6f64834f069db2be4332ea8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-05-26 09:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b6c47d35291b6bf2181c78fd02e7b113bac5d628', 'message': ""docs: Update neutronclient comparison doc\n\nDone manually by looking at the help text for the 'neutron' client\n(version 7.1.1) and identifying gaps.\n\nChange-Id: Ib029b2c236f79a0ca6f64834f069db2be4332ea8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2021-06-03 17:01:39.000000000', 'files': ['doc/source/cli/data/neutron.csv'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/95f914769a1ba8724ff16bbd06477783bceea157', 'message': ""docs: Update neutronclient comparison doc\n\nDone manually by looking at the help text for the 'neutron' client\n(version 7.1.1) and identifying gaps.\n\nChange-Id: Ib029b2c236f79a0ca6f64834f069db2be4332ea8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,792949,95f914769a1ba8724ff16bbd06477783bceea157,12,2,3,15334,,,0,"docs: Update neutronclient comparison doc

Done manually by looking at the help text for the 'neutron' client
(version 7.1.1) and identifying gaps.

Change-Id: Ib029b2c236f79a0ca6f64834f069db2be4332ea8
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/49/792949/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/data/neutron.csv'],1,33c36b28ed2d382242125d3f3f783a0c5a05d5c4,cinder-gaps,"firewall-create,,Create a firewall. firewall-delete,,Delete a given firewall. firewall-list,,List firewalls that belong to a given tenant. firewall-policy-create,,Create a firewall policy. firewall-policy-delete,,Delete a given firewall policy. firewall-policy-insert-rule,,Insert a rule into a given firewall policy. firewall-policy-list,,List firewall policies that belong to a given tenant. firewall-policy-remove-rule,,Remove a rule from a given firewall policy. firewall-policy-show,,Show information of a given firewall policy. firewall-policy-update,,Update a given firewall policy. firewall-rule-create,,Create a firewall rule. firewall-rule-delete,,Delete a given firewall rule. firewall-rule-list,,List firewall rules that belong to a given tenant. firewall-rule-show,,Show information of a given firewall rule. firewall-rule-update,,Update a given firewall rule. firewall-show,,Show information of a given firewall. firewall-update,,Update a given firewall. tap-flow-create,tapflow create,Create a tap flow tap-flow-delete,tapflow delete,Delete a tap flow tap-flow-list,tapflow list,List all tap flows tap-flow-show,tapflow show,Show details of the tap flow tap-service-create,tapservice create,Create a tap service tap-service-delete,tapservice delete,Delete a tap service tap-service-list,tapservice list,List all tap services tap-service-show,tapservice show,Show details of the tap service","tap-flow-create,tapflow create,Create a tap flow tap-flow-delete,tapflow delete,Delete a tap flow tap-flow-list,tapflow list,List all tap flows tap-flow-show,tapflow show,Show details of the tap flow tap-service-create,tapservice create,Create a tap service tap-service-delete,tapservice delete,Delete a tap service tap-service-list,tapservice list,List all tap services tap-service-show,tapservice show,Show details of the tap service",26,8
openstack%2Fpython-openstackclient~master~Ib16c7e9dfa47a93d8b077f0e3e5bbd5bf8984ec3,openstack/python-openstackclient,master,Ib16c7e9dfa47a93d8b077f0e3e5bbd5bf8984ec3,docs: Update cinderclient comparison doc,MERGED,2021-05-25 11:32:54.000000000,2021-06-16 17:36:19.000000000,2021-06-16 17:34:02.000000000,"[{'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-25 11:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/95df9ab87b2b72d05e2f58e2ca63cf60559d0080', 'message': ""docs: Update cinderclient comparison doc\n\nDone manually by looking at the help text for the 'cinder' client\n(version 7.0.0) and identifying gaps.\n\nChange-Id: Ib16c7e9dfa47a93d8b077f0e3e5bbd5bf8984ec3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-05-26 09:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f6b9f167a5d0579b03778b865fdc9725a4c396d0', 'message': ""docs: Update cinderclient comparison doc\n\nDone manually by looking at the help text for the 'cinder' client\n(version 7.0.0) and identifying gaps.\n\nChange-Id: Ib16c7e9dfa47a93d8b077f0e3e5bbd5bf8984ec3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2021-06-03 17:01:39.000000000', 'files': ['doc/source/cli/data/cinder.csv'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8dc2a7e9f79ef22c53a6f71187d47c40b95631f6', 'message': ""docs: Update cinderclient comparison doc\n\nDone manually by looking at the help text for the 'cinder' client\n(version 7.0.0) and identifying gaps.\n\nChange-Id: Ib16c7e9dfa47a93d8b077f0e3e5bbd5bf8984ec3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,792946,8dc2a7e9f79ef22c53a6f71187d47c40b95631f6,12,3,3,15334,,,0,"docs: Update cinderclient comparison doc

Done manually by looking at the help text for the 'cinder' client
(version 7.0.0) and identifying gaps.

Change-Id: Ib16c7e9dfa47a93d8b077f0e3e5bbd5bf8984ec3
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/46/792946/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/data/cinder.csv'],1,95df9ab87b2b72d05e2f58e2ca63cf60559d0080,cinder-gaps,"absolute-limits,limits show --absolute,Lists absolute limits for a user. api-version,WONTFIX,Display the server API version information. availability-zone-list,availability zone list --volume,Lists all availability zones. attachment-complete,,Complete an attachment for a cinder volume. (Supported by API versions 3.44 - 3.latest) attachment-create,,Create an attachment for a cinder volume. (Supported by API versions 3.27 - 3.latest) attachment-delete,,Delete an attachment for a cinder volume. (Supported by API versions 3.27 - 3.latest) attachment-list,,Lists all attachments. (Supported by API versions 3.27 - 3.latest) attachment-show,,Show detailed information for attachment. (Supported by API versions 3.27 - 3.latest) attachment-update,,Update an attachment for a cinder volume. (Supported by API versions 3.27 - 3.latest) backup-create,volume backup create,Creates a volume backup. backup-delete,volume backup delete,Removes a backup. backup-export,volume backup record export,Export backup metadata record. backup-import,volume backup record import,Import backup metadata record. backup-list,volume backup list,Lists all backups. backup-reset-state,volume backup set --state,Explicitly updates the backup state. backup-restore,volume backup restore,Restores a backup. backup-show,volume backup show,Show backup details. backup-update,,Updates a backup. (Supported by API versions 3.9 - 3.latest) cgsnapshot-create,consistency group snapshot create,Creates a cgsnapshot. cgsnapshot-delete,consistency group snapshot delete,Removes one or more cgsnapshots. cgsnapshot-list,consistency group snapshot list,Lists all cgsnapshots. cgsnapshot-show,consistency group snapshot show,Shows cgsnapshot details. cluster-disable,,Disables clustered services. (Supported by API versions 3.7 - 3.latest) cluster-enable,,Enables clustered services. (Supported by API versions 3.7 - 3.latest) cluster-list,,Lists clustered services with optional filtering. (Supported by API versions 3.7 - 3.latest) cluster-show,,Show detailed information on a clustered service. (Supported by API versions 3.7 - 3.latest) consisgroup-create,consistency group create,Creates a consistency group. consisgroup-create-from-src,consistency group create --consistency-group-snapshot,Creates a consistency group from a cgsnapshot or a source CG consisgroup-delete,consistency group delete,Removes one or more consistency groups. consisgroup-list,consistency group list,Lists all consistencygroups. consisgroup-show,consistency group show,Shows details of a consistency group. consisgroup-update,consistency group set,Updates a consistencygroup. create,volume create,Creates a volume. delete,volume delete,Removes one or more volumes. encryption-type-create,volume type create --encryption-provider --enc..,Creates encryption type for a volume type. Admin only. encryption-type-delete,volume type delete,Deletes encryption type for a volume type. Admin only. encryption-type-list,volume type list --encryption-type,Shows encryption type details for volume types. Admin only. encryption-type-show,volume type list --encryption-show,Shows encryption type details for volume type. Admin only. encryption-type-update,volume type set --encryption-provider --enc..,Update encryption type information for a volume type (Admin Only). extend,volume set --size,Attempts to extend size of an existing volume. extra-specs-list,volume type list --long,Lists current volume types and extra specs. failover-host,volume host failover,Failover a replicating cinder-volume host. force-delete,volume delete --force,""Attempts force-delete of volume, regardless of state."" freeze-host,volume host set --disable,Freeze and disable the specified cinder-volume host. get-capabilities,volume backend capability show,Show capabilities of a volume backend. Admin only. get-pools,volume backend pool list,Show pool information for backends. Admin only. group-create,,Creates a group. (Supported by API versions 3.13 - 3.latest) group-create-from-src,,Creates a group from a group snapshot or a source group. (Supported by API versions 3.14 - 3.latest) group-delete,,Removes one or more groups. (Supported by API versions 3.13 - 3.latest) group-disable-replication,,Disables replication for group. (Supported by API versions 3.38 - 3.latest) group-enable-replication,,Enables replication for group. (Supported by API versions 3.38 - 3.latest) group-failover-replication,,Fails over replication for group. (Supported by API versions 3.38 - 3.latest) group-list,,Lists all groups. (Supported by API versions 3.13 - 3.latest) group-list-replication-targets,,Lists replication targets for group. (Supported by API versions 3.38 - 3.latest) group-show,,Shows details of a group. (Supported by API versions 3.13 - 3.latest) group-snapshot-create,,Creates a group snapshot. (Supported by API versions 3.14 - 3.latest) group-snapshot-delete,,Removes one or more group snapshots. (Supported by API versions 3.14 - 3.latest) group-snapshot-list,,Lists all group snapshots. (Supported by API versions 3.14 - 3.latest) group-snapshot-show,,Shows group snapshot details. (Supported by API versions 3.14 - 3.latest) group-specs-list,,Lists current group types and specs. (Supported by API versions 3.11 - 3.latest) group-type-create,,Creates a group type. (Supported by API versions 3.11 - 3.latest) group-type-default,,List the default group type. (Supported by API versions 3.11 - 3.latest) group-type-delete,,Deletes group type or types. (Supported by API versions 3.11 - 3.latest) group-type-key,,Sets or unsets group_spec for a group type. (Supported by API versions 3.11 - 3.latest) group-type-list,,Lists available 'group types'. (Admin only will see private types) (Supported by API versions 3.11 - 3.latest) group-type-show,,Show group type details. (Supported by API versions 3.11 - 3.latest) group-type-update,,Updates group type name, description, and/or is_public. (Supported by API versions 3.11 - 3.latest) group-update,,Updates a group. (Supported by API versions 3.13 - 3.latest) image-metadata,volume set --image-property,Sets or deletes volume image metadata. image-metadata-show,volume show,Shows volume image metadata. list,volume list,Lists all volumes. list-filters,,List enabled filters. (Supported by API versions 3.33 - 3.latest) manage,volume create --remote-source k=v,Manage an existing volume. manageable-list,,Lists all manageable volumes. (Supported by API versions 3.8 - 3.latest) message-delete,,Removes one or more messages. (Supported by API versions 3.3 - 3.latest) message-list,,Lists all messages. (Supported by API versions 3.3 - 3.latest) message-show,,Shows message details. (Supported by API versions 3.3 - 3.latest) metadata,volume set --property k=v / volume unset --property k,Sets or deletes volume metadata. metadata-show,volume show,Shows volume metadata. metadata-update-all,volume set --property k=v,Updates volume metadata. migrate,volume migrate --host --force-copy --lock-volume <volume>,Migrates volume to a new host. qos-associate,volume qos associate,Associates qos specs with specified volume type. qos-create,volume qos create,Creates a qos specs. qos-delete,volume qos delete,Deletes a specified qos specs. qos-disassociate,volume qos disassociate,Disassociates qos specs from specified volume type. qos-disassociate-all,volume qos disassociate --all,Disassociates qos specs from all associations. qos-get-association,volume qos show,Gets all associations for specified qos specs. qos-key,volume qos set --property k=v / volume qos unset --property k,Sets or unsets specifications for a qos spec qos-list,volume qos list,Lists qos specs. qos-show,volume qos show,Shows a specified qos specs. quota-class-show,quota show --class,Lists quotas for a quota class. quota-class-update,quota set --class,Updates quotas for a quota class. quota-defaults,quota show --default,Lists default quotas for a tenant. quota-delete,,Delete the quotas for a tenant. quota-show,quota show,Lists quotas for a tenant. quota-update,quota set,Updates quotas for a tenant. quota-usage,,Lists quota usage for a tenant. rate-limits,limits show --rate,Lists rate limits for a user. readonly-mode-update,volume set --read-only-mode | --read-write-mode,Updates volume read-only access-mode flag. rename,volume set --name,Renames a volume. reset-state,volume set --state,Explicitly updates the volume state. retype,volume type set --type,Changes the volume type for a volume. revert-to-snapshot,,Revert a volume to the specified snapshot. (Supported by API versions 3.40 - 3.latest) service-disable,volume service set --disable,Disables the service. service-enable,volume service set --enable,Enables the service. service-get-log,,(Supported by API versions 3.32 - 3.latest) service-list,volume service list,Lists all services. Filter by host and service binary. service-set-log,,(Supported by API versions 3.32 - 3.latest) set-bootable,volume set --bootable / --not-bootable,Update bootable status of a volume. show,volume show,Shows volume details. snapshot-create,snapshot create,Creates a snapshot. snapshot-delete,snapshot delete,Remove one or more snapshots. snapshot-list,snapshot list,Lists all snapshots. snapshot-manage,volume snapshot create --remote-source <key=value>,Manage an existing snapshot. snapshot-manageable-list,,Lists all manageable snapshots. (Supported by API versions 3.8 - 3.latest) snapshot-metadata,snapshot set --property k=v / snapshot unset --property k,Sets or deletes snapshot metadata. snapshot-metadata-show,snapshot show,Shows snapshot metadata. snapshot-metadata-update-all,snapshot set --property k=v,Updates snapshot metadata. snapshot-rename,snapshot set --name,Renames a snapshot. snapshot-reset-state,snapshot set --state,Explicitly updates the snapshot state. snapshot-show,snapshot show,Shows snapshot details. snapshot-unmanage,volume snapshot delete --remote,Stop managing a snapshot. summary,,Get volumes summary. (Supported by API versions 3.12 - 3.latest) thaw-host,volume host set --enable,Thaw and enable the specified cinder-volume host. transfer-accept,volume transfer accept,Accepts a volume transfer. transfer-create,volume transfer create,Creates a volume transfer. transfer-delete,volume transfer delete,Undoes a transfer. transfer-list,volume transfer list,Lists all transfers. transfer-show,volume transfer show,Show transfer details. type-access-add,volume type set --project,Adds volume type access for the given project. type-access-list,volume type show,Print access information about the given volume type. type-access-remove,volume type unset --project,Removes volume type access for the given project. type-create,volume type create,Creates a volume type. type-default,volume type list --default,List the default volume type. type-delete,volume type delete,Deletes a specified volume type. type-key,volume type set --property k=v / volume type unset --property k,Sets or unsets extra_spec for a volume type. type-list,volume type list,Lists available 'volume types'. type-show,volume type show,Show volume type details. type-update,volume type set,""Updates volume type name, description, and/or is_public."" unmanage,volume delete --remote,Stop managing a volume. upload-to-image,image create --volume,Uploads volume to Image Service as an image. version-list,,List all API versions. (Supported by API versions 3.0 - 3.latest) work-cleanup,,Request cleanup of services with optional filtering. (Supported by API versions 3.24 - 3.latest) bash-completion,complete,Prints arguments for bash_completion. help,help,Shows help about this program or one of its subcommands. list-extensions,extension list --volume,Lists all available os-api extensions.","absolute-limits,limits show --absolute,Lists absolute limits for a user. availability-zone-list,availability zone list --volume,Lists all availability zones. backup-create,volume backup create,Creates a volume backup. backup-delete,volume backup delete,Removes a backup. backup-export,volume backup record export,Export backup metadata record. backup-import,volume backup record import,Import backup metadata record. backup-list,volume backup list,Lists all backups. backup-reset-state,volume backup set --state,Explicitly updates the backup state. backup-restore,volume backup restore,Restores a backup. backup-show,volume backup show,Show backup details. cgsnapshot-create,consistency group snapshot create,Creates a cgsnapshot. cgsnapshot-delete,consistency group snapshot delete,Removes one or more cgsnapshots. cgsnapshot-list,consistency group snapshot list,Lists all cgsnapshots. cgsnapshot-show,consistency group snapshot show,Shows cgsnapshot details. consisgroup-create,consistency group create,Creates a consistency group. consisgroup-create-from-src,consistency group create --consistency-group-snapshot,Creates a consistency group from a cgsnapshot or a source CG consisgroup-delete,consistency group delete,Removes one or more consistency groups. consisgroup-list,consistency group list,Lists all consistencygroups. consisgroup-show,consistency group show,Shows details of a consistency group. consisgroup-update,consistency group set,Updates a consistencygroup. create,volume create,Creates a volume. credentials,WONTFIX,Shows user credentials returned from auth. delete,volume delete,Removes one or more volumes. encryption-type-create,volume type create --encryption-provider --enc..,Creates encryption type for a volume type. Admin only. encryption-type-delete,volume type delete,Deletes encryption type for a volume type. Admin only. encryption-type-list,volume type list --encryption-type,Shows encryption type details for volume types. Admin only. encryption-type-show,volume type list --encryption-show,Shows encryption type details for volume type. Admin only. encryption-type-update,volume type set --encryption-provider --enc..,Update encryption type information for a volume type (Admin Only). endpoints,catalog list,Discovers endpoints registered by authentication service. extend,volume set --size,Attempts to extend size of an existing volume. extra-specs-list,volume type list --long,Lists current volume types and extra specs. failover-host,volume host failover,Failover a replicating cinder-volume host. force-delete,volume delete --force,""Attempts force-delete of volume, regardless of state."" freeze-host,volume host set --disable,Freeze and disable the specified cinder-volume host. get-capabilities,volume backend capability show,Show capabilities of a volume backend. Admin only. get-pools,volume backend pool list,Show pool information for backends. Admin only. image-metadata,volume set --image-property,Sets or deletes volume image metadata. image-metadata-show,volume show,Shows volume image metadata. list,volume list,Lists all volumes. manage,volume create --remote-source k=v,Manage an existing volume. metadata,volume set --property k=v / volume unset --property k,Sets or deletes volume metadata. metadata-show,volume show,Shows volume metadata. metadata-update-all,volume set --property k=v,Updates volume metadata. migrate,volume migrate --host --force-copy --lock-volume <volume>,Migrates volume to a new host. qos-associate,volume qos associate,Associates qos specs with specified volume type. qos-create,volume qos create,Creates a qos specs. qos-delete,volume qos delete,Deletes a specified qos specs. qos-disassociate,volume qos disassociate,Disassociates qos specs from specified volume type. qos-disassociate-all,volume qos disassociate --all,Disassociates qos specs from all associations. qos-get-association,volume qos show,Gets all associations for specified qos specs. qos-key,volume qos set --property k=v / volume qos unset --property k,Sets or unsets specifications for a qos spec qos-list,volume qos list,Lists qos specs. qos-show,volume qos show,Shows a specified qos specs. quota-class-show,quota show --class,Lists quotas for a quota class. quota-class-update,quota set --class,Updates quotas for a quota class. quota-defaults,quota show --default,Lists default quotas for a tenant. quota-delete,,Delete the quotas for a tenant. quota-show,quota show,Lists quotas for a tenant. quota-update,quota set,Updates quotas for a tenant. quota-usage,,Lists quota usage for a tenant. rate-limits,limits show --rate,Lists rate limits for a user. readonly-mode-update,volume set --read-only-mode | --read-write-mode,Updates volume read-only access-mode flag. rename,volume set --name,Renames a volume. replication-promote,WONTFIX,Promote a secondary volume to primary for a relationship replication-reenable,WONTFIX,Sync the secondary volume with primary for a relationship reset-state,volume set --state,Explicitly updates the volume state. retype,volume type set --type,Changes the volume type for a volume. service-disable,volume service set --disable,Disables the service. service-enable,volume service set --enable,Enables the service. service-list,volume service list,Lists all services. Filter by host and service binary. set-bootable,volume set --bootable / --not-bootable,Update bootable status of a volume. show,volume show,Shows volume details. snapshot-create,snapshot create,Creates a snapshot. snapshot-delete,snapshot delete,Remove one or more snapshots. snapshot-list,snapshot list,Lists all snapshots. snapshot-manage,volume snapshot create --remote-source <key=value>,Manage an existing snapshot. snapshot-metadata,snapshot set --property k=v / snapshot unset --property k,Sets or deletes snapshot metadata. snapshot-metadata-show,snapshot show,Shows snapshot metadata. snapshot-metadata-update-all,snapshot set --property k=v,Updates snapshot metadata. snapshot-rename,snapshot set --name,Renames a snapshot. snapshot-reset-state,snapshot set --state,Explicitly updates the snapshot state. snapshot-show,snapshot show,Shows snapshot details. snapshot-unmanage,volume snapshot delete --remote,Stop managing a snapshot. thaw-host,volume host set --enable,Thaw and enable the specified cinder-volume host. transfer-accept,volume transfer accept,Accepts a volume transfer. transfer-create,volume transfer create,Creates a volume transfer. transfer-delete,volume transfer delete,Undoes a transfer. transfer-list,volume transfer list,Lists all transfers. transfer-show,volume transfer show,Show transfer details. type-access-add,volume type set --project,Adds volume type access for the given project. type-access-list,volume type show,Print access information about the given volume type. type-access-remove,volume type unset --project,Removes volume type access for the given project. type-create,volume type create,Creates a volume type. type-default,volume type list --default,List the default volume type. type-delete,volume type delete,Deletes a specified volume type. type-key,volume type set --property k=v / volume type unset --property k,Sets or unsets extra_spec for a volume type. type-list,volume type list,Lists available 'volume types'. type-show,volume type show,Show volume type details. type-update,volume type set,""Updates volume type name, description, and/or is_public."" unmanage,volume delete --remote,Stop managing a volume. upload-to-image,image create --volume,Uploads volume to Image Service as an image. bash-completion,complete,Prints arguments for bash_completion. help,help,Shows help about this program or one of its subcommands. list-extensions,extension list --volume,Lists all available os-api extensions. ",146,104
openstack%2Fpython-openstackclient~master~Ic46bbdef7182e5f707cd5083868886ce60c7eb47,openstack/python-openstackclient,master,Ic46bbdef7182e5f707cd5083868886ce60c7eb47,docs: Update glanceclient comparison doc,MERGED,2021-05-25 11:32:54.000000000,2021-06-16 17:34:28.000000000,2021-06-16 17:34:28.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-25 11:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/478111feb24cf6008b8a2de0584020e7a62d4918', 'message': ""docs: Update glanceclient comparison doc\n\nDone manually by looking at the help text for the 'glance' client\n(version 3.1.1) and identifying gaps.\n\nChange-Id: Ic46bbdef7182e5f707cd5083868886ce60c7eb47\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-05-26 09:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fbf95864be1be48d400eeec5422f0bb60a7ea2db', 'message': ""docs: Update glanceclient comparison doc\n\nDone manually by looking at the help text for the 'glance' client\n(version 3.1.1) and identifying gaps.\n\nChange-Id: Ic46bbdef7182e5f707cd5083868886ce60c7eb47\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2021-06-03 17:01:39.000000000', 'files': ['doc/source/cli/data/glance.csv'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/83e7e4ab2e84169241651e504be164939a11b417', 'message': ""docs: Update glanceclient comparison doc\n\nDone manually by looking at the help text for the 'glance' client\n(version 3.1.1) and identifying gaps.\n\nChange-Id: Ic46bbdef7182e5f707cd5083868886ce60c7eb47\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,792948,83e7e4ab2e84169241651e504be164939a11b417,10,2,3,15334,,,0,"docs: Update glanceclient comparison doc

Done manually by looking at the help text for the 'glance' client
(version 3.1.1) and identifying gaps.

Change-Id: Ic46bbdef7182e5f707cd5083868886ce60c7eb47
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/48/792948/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/data/glance.csv'],1,478111feb24cf6008b8a2de0584020e7a62d4918,cinder-gaps,"image-create-via-import,,EXPERIMENTAL: Create a new image via image import.image-import,,Initiate the image import taskflow.image-stage,,Upload data for a specific image to staging.import-info,,Print import methods available from Glance.md-namespace-create,,Create a new metadata definitions namespace. md-namespace-delete,,Delete specified metadata definitions namespace with its contents. md-namespace-import,,Import a metadata definitions namespace from file or standard input. md-namespace-list,,List metadata definitions namespaces. md-namespace-objects-delete,,Delete all metadata definitions objects inside a specific namespace. md-namespace-properties-delete,,Delete all metadata definitions property inside a specific namespace. md-namespace-resource-type-list,,List resource types associated to specific namespace. md-namespace-show,,Describe a specific metadata definitions namespace. md-namespace-tags-delete,,Delete all metadata definitions tags inside a specific namespace. md-namespace-update,,Update an existing metadata definitions namespace. md-object-create,,Create a new metadata definitions object inside a namespace. md-object-delete,,Delete a specific metadata definitions object inside a namespace. md-object-list,,List metadata definitions objects inside a specific namespace. md-object-property-show,,Describe a specific metadata definitions property inside an object. md-object-show,,Describe a specific metadata definitions object inside a namespace. md-object-update,,Update metadata definitions object inside a namespace. md-property-create,,Create a new metadata definitions property inside a namespace. md-property-delete,,Delete a specific metadata definitions property inside a namespace. md-property-list,,List metadata definitions properties inside a specific namespace. md-property-show,,Describe a specific metadata definitions property inside a namespace. md-property-update,,Update metadata definitions property inside a namespace. md-resource-type-associate,,Associate resource type with a metadata definitions namespace. md-resource-type-deassociate,,Deassociate resource type with a metadata definitions namespace. md-resource-type-list,,List available resource type names. md-tag-create,,Add a new metadata definitions tag inside a namespace. md-tag-create-multiple,,Create new metadata definitions tags inside a namespace. md-tag-delete,,Delete a specific metadata definitions tag inside a namespace. md-tag-list,,List metadata definitions tags inside a specific namespace. md-tag-show,,Describe a specific metadata definitions tag inside a namespace. md-tag-update,,Rename a metadata definitions tag inside a namespace.stores-delete,,Delete image from specific store. stores-info,,Print available backends from Glance.",,36,0
openstack%2Fpython-openstackclient~master~I23a4947a13d5e576c5aa66902686df60379ffda0,openstack/python-openstackclient,master,I23a4947a13d5e576c5aa66902686df60379ffda0,docs: Update novaclient comparison doc,MERGED,2021-05-25 11:32:54.000000000,2021-06-16 17:34:20.000000000,2021-06-16 17:34:20.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-25 11:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/841e482918e8eab991656e69b8d2bde091371372', 'message': ""docs: Update novaclient comparison doc\n\nDone manually by looking at the help text for the 'nova' client\n(version 17.0.0) and identifying gaps.\n\nChange-Id: I23a4947a13d5e576c5aa66902686df60379ffda0\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-05-26 09:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/567ce8fe60da3369376bc5b872419540388484cc', 'message': ""docs: Update novaclient comparison doc\n\nDone manually by looking at the help text for the 'nova' client\n(version 17.0.0) and identifying gaps.\n\nChange-Id: I23a4947a13d5e576c5aa66902686df60379ffda0\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2021-06-03 17:01:39.000000000', 'files': ['doc/source/cli/data/nova.csv'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3751f1fdb60081d0ef72bf41b027c1c05f0a89b9', 'message': ""docs: Update novaclient comparison doc\n\nDone manually by looking at the help text for the 'nova' client\n(version 17.0.0) and identifying gaps.\n\nChange-Id: I23a4947a13d5e576c5aa66902686df60379ffda0\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,792947,3751f1fdb60081d0ef72bf41b027c1c05f0a89b9,11,2,3,15334,,,0,"docs: Update novaclient comparison doc

Done manually by looking at the help text for the 'nova' client
(version 17.0.0) and identifying gaps.

Change-Id: I23a4947a13d5e576c5aa66902686df60379ffda0
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/47/792947/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/data/nova.csv'],1,841e482918e8eab991656e69b8d2bde091371372,cinder-gaps,"aggregate-cache-images,,Request images be cached. (Supported by API versions '2.81' - '2.latest') [hint: use '-- os-compute-api-version' flag to show help message for proper version]clear-password,server set --root-password,Clear the admin password for a server from the metadata server. This action does not actually change the instance server password.flavor-update,,Update the description of an existing flavor. (Supported by API versions '2.55' - '2.latest') [hint: use '--os-compute-api- version' flag to show help message for proper version]get-mks-console,console url show --mks,Get an MKS console to a server. (Supported by API versions '2.8' - '2.latest') [hint: use ' --os-compute-api-version' flag to show help message for proper version] get-password,WONTFIX,Get the admin password for a server. This operation calls the metadata service to query metadata information and does not read password information from the server itself.get-vnc-console,console url show --novnc,Get a vnc console to a server.hypervisor-list,hypervisor list,List hypervisors. (Supported by API versions '2.0' - '2.latest')instance-usage-audit-log,,List/Get server usage audits.server-topology,openstack server show --topology,Retrieve server topology. (Supported by API versions '2.78' - '2.latest') [hint: use '-- os-compute-api-version' flag to show help message for proper version]update,server set / unset,Update the name or the description for a server.bash-completion,complete,Prints all of the commands and options to stdout so that the nova.bash_completion script doesn't have to hard code them.","add-fixed-ip,server add fixed ip,Add new IP address on a network to server.cell-capacities,,Get cell capacities for all cells or a given cell. cell-show,,Show details of a given cell. clear-password,server set --root-password,Clear the admin password for a server from the metadata server. cloudpipe-configure,WONTFIX,Update the VPN IP/port of a cloudpipe instance. cloudpipe-create,WONTFIX,Create a cloudpipe instance for the given project. cloudpipe-list,WONTFIX,Print a list of all cloudpipe instances.floating-ip-associate,server add floating ip,Associate a floating IP address to a server. floating-ip-disassociate,server remove floating ip,Disassociate a floating IP address from a server.get-mks-console,console url show --mks,Get an MKS console to a server. get-password,WONTFIX,Get the admin password for a server.get-vnc-console,console url show --novnc | --xvpvnc,Get a vnc console to a server. host-action,,Perform a power action on a host. host-describe,host show,Describe a specific host.host-list,host list,List all hosts by service.host-update,host set,Update host settings. hypervisor-list,hypervisor list,List hypervisors.list-extensions,extension list,List all the os-api extensions that are available.remove-fixed-ip,server remove fixed ip,Remove an IP address from a server.topology,openstack server show --topology,Retrieve server NUMA topology.update,server set / unset --description,Update or unset the description for a server. update,server set --name,Update the name for a server.virtual-interface-list,,Show virtual interface info about the given server.x509-create-cert,WONTFIX,Create x509 cert for a user in tenant. x509-get-root-cert,WONTFIX,Fetch the x509 root cert. bash-completion,complete,Prints all of the commands and options to",11,26
openstack%2Fplacement~master~I826ee41f7ef01c936d669024c6802091eb9c3bed,openstack/placement,master,I826ee41f7ef01c936d669024c6802091eb9c3bed,Bump os-resource-classes deps to 1.0.0,MERGED,2021-06-16 07:28:04.000000000,2021-06-16 17:32:36.000000000,2021-06-16 17:31:15.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 07:28:04.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/placement/commit/f77a7f9928d1156450c48045c48597b2feec9cc1', 'message': 'Bump os-resource-classes deps to 1.0.0\n\nPlacement wants to always use the latest os-traits and\nos-resource-classes libs. See\nIdd4920885b10f0b21b2b67d9526f1048b06f7db5 .\n\nThe reason of the os-resource-classes major bump was dropping python 2\nsupport:\n\n$ git log 0.5.0..1.0.0  --oneline\n3dd3506 (tag: 1.0.0) Switch to hacking 2.x\nb99ab33 setup.cfg: Configure \'python-requires\'\n50b4160 Stop testing with py2\n19b3411 Switch to Ussuri jobs\naaccfd9 Bump the openstackdocstheme extension to 1.20\nfcd1be5 Merge ""Build pdf docs""\n432563f Merge ""Update bug link in docs to point to storyboard""\n718adcc Update the constraints url\n65b74ff Build pdf docs\n040e9c1 Update bug link in docs to point to storyboard\n367698e Merge ""Update api-ref link to canonical location""\nd616e55 Update api-ref link to canonical location\n8866073 Sync Sphinx requirement\n4387894 Update api-ref location\n\nPlacement already dropped that so no extra measures needed.\n\nChange-Id: I826ee41f7ef01c936d669024c6802091eb9c3bed\n'}]",0,796593,f77a7f9928d1156450c48045c48597b2feec9cc1,8,3,1,9708,,,0,"Bump os-resource-classes deps to 1.0.0

Placement wants to always use the latest os-traits and
os-resource-classes libs. See
Idd4920885b10f0b21b2b67d9526f1048b06f7db5 .

The reason of the os-resource-classes major bump was dropping python 2
support:

$ git log 0.5.0..1.0.0  --oneline
3dd3506 (tag: 1.0.0) Switch to hacking 2.x
b99ab33 setup.cfg: Configure 'python-requires'
50b4160 Stop testing with py2
19b3411 Switch to Ussuri jobs
aaccfd9 Bump the openstackdocstheme extension to 1.20
fcd1be5 Merge ""Build pdf docs""
432563f Merge ""Update bug link in docs to point to storyboard""
718adcc Update the constraints url
65b74ff Build pdf docs
040e9c1 Update bug link in docs to point to storyboard
367698e Merge ""Update api-ref link to canonical location""
d616e55 Update api-ref link to canonical location
8866073 Sync Sphinx requirement
4387894 Update api-ref location

Placement already dropped that so no extra measures needed.

Change-Id: I826ee41f7ef01c936d669024c6802091eb9c3bed
",git fetch https://review.opendev.org/openstack/placement refs/changes/93/796593/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,f77a7f9928d1156450c48045c48597b2feec9cc1,sync-placement-and-os-resource-classes,os-resource-classes==1.0.0,os-resource-classes==0.5.0,2,2
openstack%2Fnova~stable%2Fvictoria~I32e6214568bb57f7613ddeba2c2c46da0320fabc,openstack/nova,stable/victoria,I32e6214568bb57f7613ddeba2c2c46da0320fabc,Error anti-affinity violation on migrations,MERGED,2021-06-09 13:41:06.000000000,2021-06-16 17:32:34.000000000,2021-06-16 17:30:26.000000000,"[{'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 13:41:06.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/bug-1821755-7bd03319e34b6b10.yaml', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6ede6df7f41db809de19e124d3d4994180598f19', 'message': 'Error anti-affinity violation on migrations\n\nError-out the migrations (cold and live) whenever the\nanti-affinity policy is violated. This addresses\nviolations when multiple concurrent migrations are\nrequested.\n\nAdded detection on:\n- prep_resize\n- check_can_live_migration_destination\n- pre_live_migration\n\nThe improved method of detection now locks based on group_id\nand considers other migrations in-progress as well.\n\nCloses-bug: #1821755\nChange-Id: I32e6214568bb57f7613ddeba2c2c46da0320fabc\n(cherry picked from commit 33c8af1f8c46c9c37fcc28fb3409fbd3a78ae39f)\n(cherry picked from commit 8b62a4ec9bf617dfb2da046c25a9f76b33516508)\n'}]",0,795542,6ede6df7f41db809de19e124d3d4994180598f19,23,3,1,14567,,,0,"Error anti-affinity violation on migrations

Error-out the migrations (cold and live) whenever the
anti-affinity policy is violated. This addresses
violations when multiple concurrent migrations are
requested.

Added detection on:
- prep_resize
- check_can_live_migration_destination
- pre_live_migration

The improved method of detection now locks based on group_id
and considers other migrations in-progress as well.

Closes-bug: #1821755
Change-Id: I32e6214568bb57f7613ddeba2c2c46da0320fabc
(cherry picked from commit 33c8af1f8c46c9c37fcc28fb3409fbd3a78ae39f)
(cherry picked from commit 8b62a4ec9bf617dfb2da046c25a9f76b33516508)
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/795542/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/bug-1821755-7bd03319e34b6b10.yaml', 'nova/compute/manager.py']",3,6ede6df7f41db809de19e124d3d4994180598f19,bug/1821755," scheduler_hints=None): if CONF.workarounds.disable_group_policy_check_upcall: return if scheduler_hints is not None: # only go through here if scheduler_hints is provided, even if it # is empty. group_hint = scheduler_hints.get('group') if not group_hint: return else: # The RequestSpec stores scheduler_hints as key=list pairs so # we need to check the type on the value and pull the single # entry out. The API request schema validates that # the 'group' hint is a single value. if isinstance(group_hint, list): group_hint = group_hint[0] group = objects.InstanceGroup.get_by_hint(context, group_hint) else: # TODO(ganso): a call to DB can be saved by adding request_spec # to rpcapi payload of live_migration, pre_live_migration and # check_can_live_migrate_destination try: group = objects.InstanceGroup.get_by_instance_uuid( context, instance.uuid) except exception.InstanceGroupNotFound: return @utils.synchronized(group['uuid']) def _do_validation(context, instance, group): if group.policy and 'anti-affinity' == group.policy: # instances on host # instance param is just for logging, the nodename obtained is # not actually related to the instance at all nodename = self._get_nodename(instance) # instances being migrated to host migrations = ( objects.MigrationList.get_in_progress_by_host_and_node( context, self.host, nodename)) migration_vm_uuids = set([mig['instance_uuid'] for mig in migrations]) total_instances = migration_vm_uuids | ins_on_host # refresh group to get updated members within locked block group = objects.InstanceGroup.get_by_uuid(context, group['uuid']) members_on_host = (total_instances & members - set([instance.uuid])) # NOTE(ganso): The check for affinity below does not work and it # can easily be violated because the lock happens in different # compute hosts. # The only fix seems to be a DB lock to perform the check whenever # setting the host field to an instance. _do_validation(context, instance, group) scheduler_hints = self._get_scheduler_hints(filter_properties, request_spec) # Error out if this host cannot accept the new instance due # to anti-affinity. At this point the migration is already # in-progress, so this is the definitive moment to abort due to # the policy violation. Also, exploding here is covered by the # cleanup methods in except block. try: self._validate_instance_group_policy(context, instance, scheduler_hints) except exception.RescheduledException as e: raise exception.InstanceFaultRollback(inner_exception=e) # Error out if this host cannot accept the new instance due # to anti-affinity. This check at this moment is not very accurate, as # multiple requests may be happening concurrently and miss the lock, # but when it works it provides a better user experience by failing # earlier. Also, it should be safe to explode here, error becomes # NoValidHost and instance status remains ACTIVE. try: self._validate_instance_group_policy(ctxt, instance) except exception.RescheduledException as e: msg = (""Failed to validate instance group policy "" ""due to: {}"".format(e)) raise exception.MigrationPreCheckError(reason=msg) # Error out if this host cannot accept the new instance due # to anti-affinity. At this point the migration is already in-progress, # so this is the definitive moment to abort due to the policy # violation. Also, it should be safe to explode here. The instance # status remains ACTIVE, migration status failed. self._validate_instance_group_policy(context, instance) "," scheduler_hints): group_hint = scheduler_hints.get('group') if not group_hint: return # The RequestSpec stores scheduler_hints as key=list pairs so we need # to check the type on the value and pull the single entry out. The # API request schema validates that the 'group' hint is a single value. if isinstance(group_hint, list): group_hint = group_hint[0] @utils.synchronized(group_hint) def _do_validation(context, instance, group_hint): group = objects.InstanceGroup.get_by_hint(context, group_hint) if group.policy and 'anti-affinity' == group.policy: members_on_host = ins_on_host & members - set([instance.uuid]) if not CONF.workarounds.disable_group_policy_check_upcall: _do_validation(context, instance, group_hint)",210,23
openstack%2Ftripleo-ansible~master~I0d1ce33270ccf8636925c3534812c3b1cf650103,openstack/tripleo-ansible,master,I0d1ce33270ccf8636925c3534812c3b1cf650103,Deploy rbd-mirror using cephadm,MERGED,2021-06-10 14:31:48.000000000,2021-06-16 16:58:54.000000000,2021-06-16 16:56:35.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-10 14:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/28c608e252be1be0ff684b04d7fa59d742f4e418', 'message': 'Deploy rbd-mirror using cephadm\n\nThis patch enables the support of the rbd-mirror deployment via\nthe spec. The approach is the same used for the other daemons and\nwhen the OS::TripleO::Services::CephRbdMirror is included in a\nTripleO role, the rbd-mirror tasks are executed (the spec is built\nand applied against the Ceph cluster using the ceph_mkspec module).\n\nChange-Id: I0d1ce33270ccf8636925c3534812c3b1cf650103\n'}, {'number': 2, 'created': '2021-06-14 13:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bc21ef8e429998d01391664e9864f2a929b4f5cd', 'message': 'Deploy rbd-mirror using cephadm\n\nThis patch enables the support of the rbd-mirror deployment via\nthe spec. The approach is the same used for the other daemons and\nwhen the OS::TripleO::Services::CephRbdMirror is included in a\nTripleO role, the rbd-mirror tasks are executed (the spec is built\nand applied against the Ceph cluster using the ceph_mkspec module).\n\nChange-Id: I0d1ce33270ccf8636925c3534812c3b1cf650103\n'}, {'number': 3, 'created': '2021-06-14 16:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1f426cbb3a030e42a6a94bc3357daf83d82566b0', 'message': 'Deploy rbd-mirror using cephadm\n\nThis patch enables the support of the rbd-mirror deployment via\nthe spec. The approach is the same used for the other daemons and\nwhen the OS::TripleO::Services::CephRbdMirror is included in a\nTripleO role, the rbd-mirror tasks are executed (the spec is built\nand applied against the Ceph cluster using the ceph_mkspec module).\n\nChange-Id: I0d1ce33270ccf8636925c3534812c3b1cf650103\n'}, {'number': 4, 'created': '2021-06-14 16:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/de0ce8adf59e494f5183882d385069c122ea074d', 'message': 'Deploy rbd-mirror using cephadm\n\nThis patch enables the support of the rbd-mirror deployment via\nthe spec. The approach is the same used for the other daemons and\nwhen the OS::TripleO::Services::CephRbdMirror is included in a\nTripleO role, the rbd-mirror tasks are executed (the spec is built\nand applied against the Ceph cluster using the ceph_mkspec module).\n\nChange-Id: I0d1ce33270ccf8636925c3534812c3b1cf650103\n'}, {'number': 5, 'created': '2021-06-14 18:12:00.000000000', 'files': ['tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rbd_mirror.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/ceph_cli.yaml', 'tripleo_ansible/ansible_plugins/modules/ceph_mkspec.py', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9b6e8a67b5994d12b931fb34e221b4223584b038', 'message': 'Deploy rbd-mirror using cephadm\n\nThis patch enables the support of the rbd-mirror deployment via\nthe spec. The approach is the same used for the other daemons and\nwhen the OS::TripleO::Services::CephRbdMirror is included in a\nTripleO role, the rbd-mirror tasks are executed (the spec is built\nand applied against the Ceph cluster using the ceph_mkspec module).\n\nChange-Id: I0d1ce33270ccf8636925c3534812c3b1cf650103\n'}]",4,795819,9b6e8a67b5994d12b931fb34e221b4223584b038,29,6,5,25402,,,0,"Deploy rbd-mirror using cephadm

This patch enables the support of the rbd-mirror deployment via
the spec. The approach is the same used for the other daemons and
when the OS::TripleO::Services::CephRbdMirror is included in a
TripleO role, the rbd-mirror tasks are executed (the spec is built
and applied against the Ceph cluster using the ceph_mkspec module).

Change-Id: I0d1ce33270ccf8636925c3534812c3b1cf650103
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/19/795819/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rbd_mirror.yaml', 'tripleo_ansible/ansible_plugins/modules/ceph_mkspec.py']",3,28c608e252be1be0ff684b04d7fa59d742f4e418,cephadm_rbdmirror," choices: ['host', 'mon', 'osd', 'mds', 'rgw', 'nfs', 'node-exporter', 'prometheus', 'alertmanager', 'grafana', rbd-mirror]"," choices: ['host', 'mon', 'osd', 'mds', 'rgw', 'nfs', 'node-exporter', 'prometheus', 'alertmanager', 'grafana']",51,1
openstack%2Ftripleo-ansible~stable%2Fvictoria~I5f15e26332d2b8b1e53539d58fe095997f3151c9,openstack/tripleo-ansible,stable/victoria,I5f15e26332d2b8b1e53539d58fe095997f3151c9,Bump molecule to fix testing,MERGED,2021-06-07 23:36:58.000000000,2021-06-16 16:58:42.000000000,2021-06-16 16:56:25.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-07 23:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/94ef1a5d99ae5d8571a4ce1251fe66dd4b15150e', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\n'}, {'number': 2, 'created': '2021-06-07 23:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/680fc86d9179454affea7198dbb05f595e66cabe', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\n'}, {'number': 3, 'created': '2021-06-08 17:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/420a592e4c793a838c3b6bf135acbc742038d055', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\n'}, {'number': 4, 'created': '2021-06-08 17:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e9abc7e7f50a15daacfbd13430f40e3f55714566', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\n'}, {'number': 5, 'created': '2021-06-08 17:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6d20fac7ae1a11c93d3fd6dd2a90142d4e27b3b3', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2021-06-08 17:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/96632e3f3b4d9695796921843e4a0199b1cc3fa3', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\n'}, {'number': 7, 'created': '2021-06-08 17:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/60e1d08bbd6a6c93d79df302add232d42a58d1f2', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\n'}, {'number': 8, 'created': '2021-06-08 17:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f891c6d699b64c591037df0661127c3027de98cb', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\n'}, {'number': 9, 'created': '2021-06-08 21:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1af24fb262e362edadd9b2f2a1c0ae521f1f6c6e', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\n'}, {'number': 10, 'created': '2021-06-09 11:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9f63824f2568d11fdc007d7ebba2f4d812a3542e', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\n'}, {'number': 11, 'created': '2021-06-09 12:22:25.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'doc/requirements.txt', 'tox.ini', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9af224bb72a4a4586a91f11973c82bc000b905c6', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\n'}]",0,795140,9af224bb72a4a4586a91f11973c82bc000b905c6,29,4,11,14985,,,0,"Bump molecule to fix testing

We need to bump molecule so that we actually test proposed patches in
CI. Also pull in the podman plugin.

https://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508

Change-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9
(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/40/795140/1 && git format-patch -1 --stdout FETCH_HEAD,['molecule-requirements.txt'],1,94ef1a5d99ae5d8571a4ce1251fe66dd4b15150e,bump-molecule-stable/victoria,"molecule>=3.3.4,<3.4 molecule-podman>=0.3.0","molecule>=3.0,<3.1",2,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I10140c6a587e4df1c91c064c5e899564825949ca,openstack/tripleo-ansible,stable/wallaby,I10140c6a587e4df1c91c064c5e899564825949ca,Fix default_route_network - default to ctlplane,MERGED,2021-06-10 17:33:53.000000000,2021-06-16 16:58:38.000000000,2021-06-16 16:54:12.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-10 17:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ba4272d0480464280f5ff68d58dc134f46ad9d2d', 'message': ""Fix default_route_network - default to ctlplane\n\nWhen not using metalsmith to deploy nodes, the default\nfor default_route_network was [], causing nodes to be\nconfigured without a default route.\n\nFix up the default to 'ctlplane' by changeing the default\nvalue when doing the dictonary lookup.\n\nCloses-Bug: #1931046\nChange-Id: I10140c6a587e4df1c91c064c5e899564825949ca\n(cherry picked from commit 9ba5d721515af486c9f2ce5cbd907f317900ea6b)\n""}, {'number': 2, 'created': '2021-06-14 13:29:47.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_ports.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/02f7184d7f07d70c2214c2747b94b76135147b0d', 'message': ""Fix default_route_network - default to ctlplane\n\nWhen not using metalsmith to deploy nodes, the default\nfor default_route_network was [], causing nodes to be\nconfigured without a default route.\n\nFix up the default to 'ctlplane' by changeing the default\nvalue when doing the dictonary lookup.\n\nCloses-Bug: #1931046\nChange-Id: I10140c6a587e4df1c91c064c5e899564825949ca\n(cherry picked from commit 9ba5d721515af486c9f2ce5cbd907f317900ea6b)\n""}]",0,795805,02f7184d7f07d70c2214c2747b94b76135147b0d,19,3,2,24245,,,0,"Fix default_route_network - default to ctlplane

When not using metalsmith to deploy nodes, the default
for default_route_network was [], causing nodes to be
configured without a default route.

Fix up the default to 'ctlplane' by changeing the default
value when doing the dictonary lookup.

Closes-Bug: #1931046
Change-Id: I10140c6a587e4df1c91c064c5e899564825949ca
(cherry picked from commit 9ba5d721515af486c9f2ce5cbd907f317900ea6b)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/05/795805/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_ports.py'],1,ba4272d0480464280f5ff68d58dc134f46ad9d2d,bug/1931046-stable/wallaby," default_route_network = network_config.get('default_route_network', ['ctlplane']) if net_name in default_route_network: 'network_config', {}).get( 'default_route_network', ['ctlplane'])"," default_route_network = network_config.get('default_route_network', []) # If default route network is not set, default to true for ctlplane if not default_route_network and net_name == 'ctlplane': tags.update({'tripleo_default_route=true'}) elif net_name in default_route_network: 'network_config', {}).get('default_route_network', [])",5,6
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Id3b2afee89be1fdf3008cfd53906766d94c00549,openstack/tripleo-heat-templates,stable/victoria,Id3b2afee89be1fdf3008cfd53906766d94c00549,Bump ovs and ovn versions to 2.15 for FFWD.,MERGED,2021-06-11 15:20:00.000000000,2021-06-16 16:56:08.000000000,2021-06-16 16:56:08.000000000,"[{'_account_id': 6816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-11 15:20:00.000000000', 'files': ['environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb1a8557529d37088e51bfd349d1cc6671cdc153', 'message': 'Bump ovs and ovn versions to 2.15 for FFWD.\n\nA new openvswitch and ovn version has been released, 2.15. As during the\nleapp upgrade we tell leapp which version of ovs and ovn to install in order\nto safe some restarts we now need to update the version in the\nUpgradeLeappToInstall Heat parameter.\n\n(cherry picked from commit 713533207b0689c3cb31932ad5d1c8d3b7fd4000)\nResolves: rhbz#1966476\nChange-Id: Id3b2afee89be1fdf3008cfd53906766d94c00549\n'}]",0,795888,bb1a8557529d37088e51bfd349d1cc6671cdc153,14,4,1,26343,,,0,"Bump ovs and ovn versions to 2.15 for FFWD.

A new openvswitch and ovn version has been released, 2.15. As during the
leapp upgrade we tell leapp which version of ovs and ovn to install in order
to safe some restarts we now need to update the version in the
UpgradeLeappToInstall Heat parameter.

(cherry picked from commit 713533207b0689c3cb31932ad5d1c8d3b7fd4000)
Resolves: rhbz#1966476
Change-Id: Id3b2afee89be1fdf3008cfd53906766d94c00549
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/795888/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/lifecycle/upgrade-prepare.yaml'],1,bb1a8557529d37088e51bfd349d1cc6671cdc153,," UpgradeLeappToInstall: ['openvswitch2.15','ovn2.15']"," UpgradeLeappToInstall: ['openvswitch2.13','ovn2.13']",1,1
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I10d1fb8efea5ccb79f32260fe98dcfdf59eff254,openstack/puppet-tripleo,stable/wallaby,I10d1fb8efea5ccb79f32260fe98dcfdf59eff254,Clear last dependency on puppet-ceph from Manila manifest,MERGED,2021-06-16 07:43:37.000000000,2021-06-16 16:56:03.000000000,2021-06-16 16:56:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-16 07:43:37.000000000', 'files': ['manifests/profile/base/manila/share.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f8aea91ee6c1255e533141510960c8c6f97e4faf', 'message': 'Clear last dependency on puppet-ceph from Manila manifest\n\nThis is now addressed in ansible and by removing it we should be\nable to get rid of the last dependency we had on puppet-ceph\n\nChange-Id: I10d1fb8efea5ccb79f32260fe98dcfdf59eff254\nDepends-On: I86b1b75c9d807356e9a1f1901bc7e8856f0c0961\n(cherry picked from commit df456427e1e37d2fbf41815fb0796498d436ff9f)\n'}]",0,796559,f8aea91ee6c1255e533141510960c8c6f97e4faf,6,2,1,6796,,,0,"Clear last dependency on puppet-ceph from Manila manifest

This is now addressed in ansible and by removing it we should be
able to get rid of the last dependency we had on puppet-ceph

Change-Id: I10d1fb8efea5ccb79f32260fe98dcfdf59eff254
Depends-On: I86b1b75c9d807356e9a1f1901bc7e8856f0c0961
(cherry picked from commit df456427e1e37d2fbf41815fb0796498d436ff9f)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/59/796559/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/manila/share.pp'],1,f8aea91ee6c1255e533141510960c8c6f97e4faf,remove_puppet_ceph-stable/wallaby,," $keyring_path = ""/etc/ceph/ceph.client.${cephfs_auth_id}.keyring"" ceph_config { ""client.${cephfs_auth_id}/keyring"": value => $keyring_path; ""client.${cephfs_auth_id}/client mount uid"": value => 0; ""client.${cephfs_auth_id}/client mount gid"": value => 0; } ",0,7
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I561e6e15ffd1e3f099bb97ca187da2a1fe364553,openstack/tripleo-heat-templates,stable/train,I561e6e15ffd1e3f099bb97ca187da2a1fe364553,[train-only] Use Train variable names for keystone cache,MERGED,2021-05-26 21:44:25.000000000,2021-06-16 16:55:44.000000000,2021-06-16 16:55:44.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-26 21:44:25.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c794428e8eda8f5eb2134386c962ca41824cf0d2', 'message': '[train-only] Use Train variable names for keystone cache\n\nWhen backporting the patch enabling Memcached TLS, variable\nnames were not aligned with the puppet-keystone stable/train\nbranch, causing cache to be always disabled.\n\nCloses-Bug: #1929752\nChange-Id: I561e6e15ffd1e3f099bb97ca187da2a1fe364553\n'}]",0,793246,c794428e8eda8f5eb2134386c962ca41824cf0d2,30,7,1,14250,,,0,"[train-only] Use Train variable names for keystone cache

When backporting the patch enabling Memcached TLS, variable
names were not aligned with the puppet-keystone stable/train
branch, causing cache to be always disabled.

Closes-Bug: #1929752
Change-Id: I561e6e15ffd1e3f099bb97ca187da2a1fe364553
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/793246/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,c794428e8eda8f5eb2134386c962ca41824cf0d2,, keystone::cache_enabled: {get_param: EnableCache} keystone::tls_enabled: {get_param: MemcachedTLS} - keystone::cache_backend: 'dogpile.cache.pymemcache', keystone::cache::enabled: {get_param: EnableCache} keystone::cache::tls_enabled: {get_param: MemcachedTLS} - keystone::cache::backend: 'dogpile.cache.pymemcache',3,3
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id3b2afee89be1fdf3008cfd53906766d94c00549,openstack/tripleo-heat-templates,stable/wallaby,Id3b2afee89be1fdf3008cfd53906766d94c00549,Bump ovs and ovn versions to 2.15 for FFWD.,MERGED,2021-06-11 15:17:44.000000000,2021-06-16 16:55:29.000000000,2021-06-16 16:55:29.000000000,"[{'_account_id': 6816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-11 15:17:44.000000000', 'files': ['environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/713533207b0689c3cb31932ad5d1c8d3b7fd4000', 'message': 'Bump ovs and ovn versions to 2.15 for FFWD.\n\nA new openvswitch and ovn version has been released, 2.15. As during the\nleapp upgrade we tell leapp which version of ovs and ovn to install in order\nto safe some restarts we now need to update the version in the\nUpgradeLeappToInstall Heat parameter.\n\n(cherry picked from commit c214e99b224e85a2059c2849aa5b356c1cb4f3c9)\nResolves: rhbz#1966476\nChange-Id: Id3b2afee89be1fdf3008cfd53906766d94c00549\n'}]",0,795887,713533207b0689c3cb31932ad5d1c8d3b7fd4000,13,4,1,26343,,,0,"Bump ovs and ovn versions to 2.15 for FFWD.

A new openvswitch and ovn version has been released, 2.15. As during the
leapp upgrade we tell leapp which version of ovs and ovn to install in order
to safe some restarts we now need to update the version in the
UpgradeLeappToInstall Heat parameter.

(cherry picked from commit c214e99b224e85a2059c2849aa5b356c1cb4f3c9)
Resolves: rhbz#1966476
Change-Id: Id3b2afee89be1fdf3008cfd53906766d94c00549
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/795887/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/lifecycle/upgrade-prepare.yaml'],1,713533207b0689c3cb31932ad5d1c8d3b7fd4000,," UpgradeLeappToInstall: ['openvswitch2.15','ovn2.15']"," UpgradeLeappToInstall: ['openvswitch2.13','ovn2.13']",1,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Iaf85807d067898bbab6d76ab40bc070e845a8b38,openstack/tripleo-heat-templates,stable/ussuri,Iaf85807d067898bbab6d76ab40bc070e845a8b38,HA minor update: fix bad pcs invocation,MERGED,2021-06-13 06:20:51.000000000,2021-06-16 16:55:20.000000000,2021-06-16 16:55:20.000000000,"[{'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-13 06:20:51.000000000', 'files': ['container_config_scripts/pacemaker_restart_bundle.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/76c2e05dbb3256e962913fe2a6037fd86c5519b2', 'message': 'HA minor update: fix bad pcs invocation\n\nWhen a HA resource is in failed stated, the minor update\nshould normally try to restart it but the associated\npcs invocation is currently invalid, so the resource never\ngets a chance to be restarted.\n\nUse the right pcs call to fix this minor update use case.\n\nChange-Id: Iaf85807d067898bbab6d76ab40bc070e845a8b38\nCloses-Bug: #1931500\n(cherry picked from commit 1662600e6e6e8fedbf096b279e16eabd7b3c6eea)\n(cherry picked from commit d03517b6144373fea1fc0e7f11bf4a39cecb00b6)\n(cherry picked from commit f808dac566d342778b88ce2de1fdcdf0853f71e7)\n'}]",0,796207,76c2e05dbb3256e962913fe2a6037fd86c5519b2,32,3,1,20172,,,0,"HA minor update: fix bad pcs invocation

When a HA resource is in failed stated, the minor update
should normally try to restart it but the associated
pcs invocation is currently invalid, so the resource never
gets a chance to be restarted.

Use the right pcs call to fix this minor update use case.

Change-Id: Iaf85807d067898bbab6d76ab40bc070e845a8b38
Closes-Bug: #1931500
(cherry picked from commit 1662600e6e6e8fedbf096b279e16eabd7b3c6eea)
(cherry picked from commit d03517b6144373fea1fc0e7f11bf4a39cecb00b6)
(cherry picked from commit f808dac566d342778b88ce2de1fdcdf0853f71e7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/796207/1 && git format-patch -1 --stdout FETCH_HEAD,['container_config_scripts/pacemaker_restart_bundle.sh'],1,76c2e05dbb3256e962913fe2a6037fd86c5519b2,bug/1931500-stable/wallaby-stable/victoria-stable/ussuri," /sbin/pcs resource cleanup $BUNDLE_NAME node=""${HOST}"""," /sbin/pcs resource cleanup $BUNDLE_NAME --node ""${HOST}""",1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ifd2afe69f01afb799b5693a1d6971904ca50f5bc,openstack/tripleo-heat-templates,stable/wallaby,Ifd2afe69f01afb799b5693a1d6971904ca50f5bc,Add option for enabling rsyslog reopenOnTruncate,MERGED,2021-06-01 19:13:34.000000000,2021-06-16 16:55:07.000000000,2021-06-16 16:55:07.000000000,"[{'_account_id': 5241}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-01 19:13:34.000000000', 'files': ['deployment/logging/rsyslog-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a76bd1a69ba72d2f412e2d8ef8602861dde3e064', 'message': 'Add option for enabling rsyslog reopenOnTruncate\n\nreopenOnTruncate ensures rsyslog immediately recognizes when a logrotation happens on a file. When not on, rsyslog will wait for a log file to fill to its original capacity before consuming any additional logs.\n\nSetting this here will ensure that every service configured to work with rsyslog will have this parameter. Default to off because this is an experimental feature\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/793928\n(cherry picked from commit 4872e36c0aea7ade7980bd23ea2198d1866ed90b)\n\nChange-Id: Ifd2afe69f01afb799b5693a1d6971904ca50f5bc\n'}]",0,794028,a76bd1a69ba72d2f412e2d8ef8602861dde3e064,32,5,1,31510,,,0,"Add option for enabling rsyslog reopenOnTruncate

reopenOnTruncate ensures rsyslog immediately recognizes when a logrotation happens on a file. When not on, rsyslog will wait for a log file to fill to its original capacity before consuming any additional logs.

Setting this here will ensure that every service configured to work with rsyslog will have this parameter. Default to off because this is an experimental feature

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/793928
(cherry picked from commit 4872e36c0aea7ade7980bd23ea2198d1866ed90b)

Change-Id: Ifd2afe69f01afb799b5693a1d6971904ca50f5bc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/794028/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logging/rsyslog-container-puppet.yaml'],1,a76bd1a69ba72d2f412e2d8ef8602861dde3e064,rsyslog-reopen-on-truncate-stable/wallaby," RsyslogReopenOnTruncate: default: false description: Rsyslog imfile reopenOnTruncate parameter type: boolean - {get_param: RsyslogReopenOnTruncate} - tripleo::profile::base::logging::rsyslog::reopen_on_truncate: ""on"" - {} - if:",,8,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I2cd08a7b195620e6c93084a6a689bad1d6ace179,openstack/tripleo-heat-templates,stable/train,I2cd08a7b195620e6c93084a6a689bad1d6ace179,Fix broken restart of ovndb_server during minor update,MERGED,2021-06-13 18:56:07.000000000,2021-06-16 16:54:44.000000000,2021-06-16 16:54:44.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-13 18:56:07.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e53581fcd3a80cd78c2429380568b6f4e07c1a9e', 'message': 'Fix broken restart of ovndb_server during minor update\n\nSince [1], the ovn HA resource is mistakenly called\novndbs_servers instead of ovndb_servers, which breaks\nits restart during a minor update. Fix the typo.\n\n[1] I918b6c16db6ed70d9ad612aecd7af7d725520f7b\n\nChange-Id: I2cd08a7b195620e6c93084a6a689bad1d6ace179\nCloses-Bug: #1931502\n(cherry picked from commit 6837633ea4075c1e74281ade7005cb8325b51f5a)\n(cherry picked from commit 1ff7e9be9d9c763acc7cd5ae11b2c7580daa737f)\n(cherry picked from commit 6c5011056ee5ae21e96f0435bf9e24f59922f515)\n(cherry picked from commit a56ab848c53f2f9c51bd13511f3b5d48094a8a34)\n'}]",0,796213,e53581fcd3a80cd78c2429380568b6f4e07c1a9e,18,3,1,20778,,,0,"Fix broken restart of ovndb_server during minor update

Since [1], the ovn HA resource is mistakenly called
ovndbs_servers instead of ovndb_servers, which breaks
its restart during a minor update. Fix the typo.

[1] I918b6c16db6ed70d9ad612aecd7af7d725520f7b

Change-Id: I2cd08a7b195620e6c93084a6a689bad1d6ace179
Closes-Bug: #1931502
(cherry picked from commit 6837633ea4075c1e74281ade7005cb8325b51f5a)
(cherry picked from commit 1ff7e9be9d9c763acc7cd5ae11b2c7580daa737f)
(cherry picked from commit 6c5011056ee5ae21e96f0435bf9e24f59922f515)
(cherry picked from commit a56ab848c53f2f9c51bd13511f3b5d48094a8a34)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/796213/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,e53581fcd3a80cd78c2429380568b6f4e07c1a9e,bug/1931502-stable/wallaby-stable/victoria-stable/ussuri-stable/train, tripleo_ha_wrapper_resource_name: ovndb_servers, tripleo_ha_wrapper_resource_name: ovndbs_servers,1,1
openstack%2Fpuppet-oslo~stable%2Fvictoria~I5bf6cd967d1e0e9fe4eaac0dac242dbc7b88a771,openstack/puppet-oslo,stable/victoria,I5bf6cd967d1e0e9fe4eaac0dac242dbc7b88a771,Set fixture paths for unit tests,MERGED,2021-06-16 09:07:40.000000000,2021-06-16 16:54:23.000000000,2021-06-16 16:54:23.000000000,"[{'_account_id': 6476}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 09:07:40.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/d1036810846aff63df64e85a43ba9b4b6f52df47', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nChange-Id: I5bf6cd967d1e0e9fe4eaac0dac242dbc7b88a771\nCloses-Bug: #1930403\n(cherry picked from commit 040ef880aee9f05226cc839543b55eb9c990314a)\n(cherry picked from commit 484bba674b44bea2a8ca357a923bf5418f157e59)\n'}]",0,796560,d1036810846aff63df64e85a43ba9b4b6f52df47,7,3,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Change-Id: I5bf6cd967d1e0e9fe4eaac0dac242dbc7b88a771
Closes-Bug: #1930403
(cherry picked from commit 040ef880aee9f05226cc839543b55eb9c990314a)
(cherry picked from commit 484bba674b44bea2a8ca357a923bf5418f157e59)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/60/796560/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,d1036810846aff63df64e85a43ba9b4b6f52df47,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Ftripleo-upgrade~stable%2Fussuri~If68838c0b26566254c1c7910103e53f2b0a87961,openstack/tripleo-upgrade,stable/ussuri,If68838c0b26566254c1c7910103e53f2b0a87961,Make --config-heat available for FFWD automation.,MERGED,2021-06-15 12:07:08.000000000,2021-06-16 16:54:09.000000000,2021-06-16 16:54:09.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 12:07:08.000000000', 'files': ['templates/overcloud_upgrade_prepare.sh.j2', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'templates/overcloud_upgrade_converge.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b2604d6e1d3741d9c067b8ef20c83def7738a791', 'message': 'Make --config-heat available for FFWD automation.\n\nThe --config-heat option allows us creating a new parameters file\nconfig_heat_extra.yaml which is then passed during the preparation\nstep. This mechanism has been around for some time in updates, but\nFFWD was implementing a similar thing in a workarounds file.\n\nThis patch allows passing --config-heat also when running the\nFFWD upgrade prepare stage.\n\n(cherry picked from commit edbb4a95b55e587b52acbd7a283bfca4a6b2f6b4)\nChange-Id: If68838c0b26566254c1c7910103e53f2b0a87961\n'}]",0,796435,b2604d6e1d3741d9c067b8ef20c83def7738a791,7,3,1,26343,,,0,"Make --config-heat available for FFWD automation.

The --config-heat option allows us creating a new parameters file
config_heat_extra.yaml which is then passed during the preparation
step. This mechanism has been around for some time in updates, but
FFWD was implementing a similar thing in a workarounds file.

This patch allows passing --config-heat also when running the
FFWD upgrade prepare stage.

(cherry picked from commit edbb4a95b55e587b52acbd7a283bfca4a6b2f6b4)
Change-Id: If68838c0b26566254c1c7910103e53f2b0a87961
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/35/796435/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/overcloud_upgrade_prepare.sh.j2', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'templates/overcloud_upgrade_converge.sh.j2']",3,b2604d6e1d3741d9c067b8ef20c83def7738a791,, {% if config_heat_extra_yaml is defined -%} -e {{ working_dir }}/{{ install.deployment.files | basename }}/config_heat_extra.yaml \ {% endif -%},,11,0
openstack%2Ftripleo-upgrade~stable%2Fvictoria~If68838c0b26566254c1c7910103e53f2b0a87961,openstack/tripleo-upgrade,stable/victoria,If68838c0b26566254c1c7910103e53f2b0a87961,Make --config-heat available for FFWD automation.,MERGED,2021-06-15 12:06:34.000000000,2021-06-16 16:54:05.000000000,2021-06-16 16:54:05.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 12:06:34.000000000', 'files': ['templates/overcloud_upgrade_prepare.sh.j2', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'templates/overcloud_upgrade_converge.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/edbb4a95b55e587b52acbd7a283bfca4a6b2f6b4', 'message': 'Make --config-heat available for FFWD automation.\n\nThe --config-heat option allows us creating a new parameters file\nconfig_heat_extra.yaml which is then passed during the preparation\nstep. This mechanism has been around for some time in updates, but\nFFWD was implementing a similar thing in a workarounds file.\n\nThis patch allows passing --config-heat also when running the\nFFWD upgrade prepare stage.\n\n(cherry picked from commit 1fe2499a3b9959c016487176cc1f6f0f25ac47de)\nChange-Id: If68838c0b26566254c1c7910103e53f2b0a87961\n'}]",0,796434,edbb4a95b55e587b52acbd7a283bfca4a6b2f6b4,7,3,1,26343,,,0,"Make --config-heat available for FFWD automation.

The --config-heat option allows us creating a new parameters file
config_heat_extra.yaml which is then passed during the preparation
step. This mechanism has been around for some time in updates, but
FFWD was implementing a similar thing in a workarounds file.

This patch allows passing --config-heat also when running the
FFWD upgrade prepare stage.

(cherry picked from commit 1fe2499a3b9959c016487176cc1f6f0f25ac47de)
Change-Id: If68838c0b26566254c1c7910103e53f2b0a87961
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/34/796434/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/overcloud_upgrade_prepare.sh.j2', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'templates/overcloud_upgrade_converge.sh.j2']",3,edbb4a95b55e587b52acbd7a283bfca4a6b2f6b4,, {% if config_heat_extra_yaml is defined -%} -e {{ working_dir }}/{{ install.deployment.files | basename }}/config_heat_extra.yaml \ {% endif -%},,11,0
openstack%2Fneutron~stable%2Ftrain~Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c,openstack/neutron,stable/train,Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c,Provide the rpc_response_max_timeout parameter to sriov-agent,MERGED,2021-06-14 14:16:22.000000000,2021-06-16 16:43:44.000000000,2021-06-16 16:42:06.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 14:16:22.000000000', 'files': ['neutron/opts.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/test_opts.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/64124de8c2878f57489e34b42d55e1bc92d3b828', 'message': 'Provide the rpc_response_max_timeout parameter to sriov-agent\n\nThe rpc_response_max_timeout parameter is used in comminucation over\nmessaging queue, thus should be available for sriov-agent which\ncommunicate with neutron-server over messaging queue.\n\nChange-Id: Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c\nCloses-Bug: #1930996\n(cherry picked from commit be43141a5ff6875a146746cb75f927445328c871)\n(cherry picked from commit 04f4d9d406b186d1fc0bda4fe436a567dbc4b70a)\n(cherry picked from commit 41e603b0c3824e9fb62de925c94fe8d5401994b8)\n(cherry picked from commit 6badfcd6503fdc51f1206667e4e863521397503b)\n'}]",0,796222,64124de8c2878f57489e34b42d55e1bc92d3b828,17,3,1,9816,,,0,"Provide the rpc_response_max_timeout parameter to sriov-agent

The rpc_response_max_timeout parameter is used in comminucation over
messaging queue, thus should be available for sriov-agent which
communicate with neutron-server over messaging queue.

Change-Id: Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c
Closes-Bug: #1930996
(cherry picked from commit be43141a5ff6875a146746cb75f927445328c871)
(cherry picked from commit 04f4d9d406b186d1fc0bda4fe436a567dbc4b70a)
(cherry picked from commit 41e603b0c3824e9fb62de925c94fe8d5401994b8)
(cherry picked from commit 6badfcd6503fdc51f1206667e4e863521397503b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/796222/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/opts.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/test_opts.py']",3,64124de8c2878f57489e34b42d55e1bc92d3b828,bug/1930996-stable/wallaby-stable/victoria-stable/ussuri-stable/train," sriov_agent_opts = opts.list_sriov_agent_opts() self.assertEqual('DEFAULT', sriov_agent_opts[0][0]) self.assertEqual('sriov_nic', sriov_agent_opts[1][0]) self.assertEqual('agent', sriov_agent_opts[2][0])"," self.assertEqual('sriov_nic', opts.list_sriov_agent_opts()[0][0])",11,1
openstack%2Fproject-config~master~If51810c06933557886d333cef3c930f9ade42540,openstack/project-config,master,If51810c06933557886d333cef3c930f9ade42540,Rename IRC channel for Octavia,ABANDONED,2021-06-01 15:54:42.000000000,2021-06-16 16:34:03.000000000,,"[{'_account_id': 1131}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-06-01 15:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/cd859c30133485124d76a79bbcd64a5784eee1f1', 'message': 'Rename IRC channel for Octavia\n\nRename the Octavia IRC channel to openstack-octavia (was\nopenstack-lbaas)\nThe team wanted to rename it for a long time, moving to OFTC helps us to\nachieve it.\n\nChange-Id: If51810c06933557886d333cef3c930f9ade42540\n'}, {'number': 2, 'created': '2021-06-01 18:16:48.000000000', 'files': ['gerritbot/channels.yaml', 'accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6a26e1dcd2cb81b3fbcd34745f54e4ac3179c6bf', 'message': 'Rename IRC channel for Octavia\n\nRename the Octavia IRC channel to openstack-octavia (was\nopenstack-lbaas)\nThe team wanted to rename it for a long time, moving to OFTC helps us to\nachieve it.\n\nChange-Id: If51810c06933557886d333cef3c930f9ade42540\n'}]",3,793999,6a26e1dcd2cb81b3fbcd34745f54e4ac3179c6bf,11,6,2,29244,,,0,"Rename IRC channel for Octavia

Rename the Octavia IRC channel to openstack-octavia (was
openstack-lbaas)
The team wanted to rename it for a long time, moving to OFTC helps us to
achieve it.

Change-Id: If51810c06933557886d333cef3c930f9ade42540
",git fetch https://review.opendev.org/openstack/project-config refs/changes/99/793999/2 && git format-patch -1 --stdout FETCH_HEAD,['accessbot/channels.yaml'],1,cd859c30133485124d76a79bbcd64a5784eee1f1,, - name: openstack-octavia, - name: openstack-lbaas,1,1
openstack%2Fnova~stable%2Ftrain~I11131a3f90b8af85e7151b519fb26d225629c391,openstack/nova,stable/train,I11131a3f90b8af85e7151b519fb26d225629c391,libvirt: Set driver_iommu when attaching virtio devices to SEV instance,NEW,2021-06-16 12:28:19.000000000,2021-06-16 16:31:25.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 12:28:19.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_designer.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/virt/libvirt/designer.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9587cad6a1d58045394c4e669a0949baf016d7ac', 'message': 'libvirt: Set driver_iommu when attaching virtio devices to SEV instance\n\nAs called out in the original spec [1] virtio devices attached to a SEV\nenabled instance must have the iommu attribute enabled. This was done\nwithin the original implementation of the spec for all virtio devices\ndefined when initially spawning the instance but does not include volume\nand interfaces that are later hot plugged.\n\nThis change corrects this for both volumes and nics and in doing so\nslightly refactors the original designer code to make it usable in both\ncases.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/implemented/amd-sev-libvirt-support.html#proposed-change\n\nNOTE(lyarwood): Conflicts caused by I5c346e690148678a2f0dc63f4f516a944c3db8cd,\nI8e8035dcf508f5215bba9b7575c5c6abfe41da31 and\nI3448b89f58f3c3a85d15ee5a870c24b4b7f201df not being present in\nstable/train.\n\nConflicts:\n  nova/tests/unit/virt/libvirt/test_driver.py\n  nova/virt/libvirt/driver.py\n  nova/virt/libvirt/migration.py\n\nCloses-Bug: #1930734\nChange-Id: I11131a3f90b8af85e7151b519fb26d225629c391\n(cherry picked from commit 4d8bf15fec15dc3416023e577e0f2c277c216506)\n(cherry picked from commit 5d65680095298764466af532381b81b604429426)\n(cherry picked from commit 4985667efced966d0a47ac9f8d31d73ae7409b0a)\n(cherry picked from commit 4c38a3c2d5194dbddc94339f3992dc5b70a52556)\n'}]",7,796642,9587cad6a1d58045394c4e669a0949baf016d7ac,6,2,1,10135,,,0,"libvirt: Set driver_iommu when attaching virtio devices to SEV instance

As called out in the original spec [1] virtio devices attached to a SEV
enabled instance must have the iommu attribute enabled. This was done
within the original implementation of the spec for all virtio devices
defined when initially spawning the instance but does not include volume
and interfaces that are later hot plugged.

This change corrects this for both volumes and nics and in doing so
slightly refactors the original designer code to make it usable in both
cases.

[1] https://specs.openstack.org/openstack/nova-specs/specs/train/implemented/amd-sev-libvirt-support.html#proposed-change

NOTE(lyarwood): Conflicts caused by I5c346e690148678a2f0dc63f4f516a944c3db8cd,
I8e8035dcf508f5215bba9b7575c5c6abfe41da31 and
I3448b89f58f3c3a85d15ee5a870c24b4b7f201df not being present in
stable/train.

Conflicts:
  nova/tests/unit/virt/libvirt/test_driver.py
  nova/virt/libvirt/driver.py
  nova/virt/libvirt/migration.py

Closes-Bug: #1930734
Change-Id: I11131a3f90b8af85e7151b519fb26d225629c391
(cherry picked from commit 4d8bf15fec15dc3416023e577e0f2c277c216506)
(cherry picked from commit 5d65680095298764466af532381b81b604429426)
(cherry picked from commit 4985667efced966d0a47ac9f8d31d73ae7409b0a)
(cherry picked from commit 4c38a3c2d5194dbddc94339f3992dc5b70a52556)
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/796642/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_designer.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/virt/libvirt/designer.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",6,9587cad6a1d58045394c4e669a0949baf016d7ac,," @mock.patch.object(designer, 'set_driver_iommu_for_all_devices') @mock.patch.object(designer, 'set_driver_iommu_for_all_devices') @mock.patch.object(libvirt_driver.LibvirtDriver, '_sev_enabled', new=mock.Mock(return_value=False)) def test_get_volume_config(self, mock_set_cache_mode, mock_get_config): instance = objects.Instance(**self.test_instance) connection_info = { 'driver_volume_type': 'fake', 'data': { 'device_path': '/fake', 'access_mode': 'rw' } } generated_config = self._fake_libvirt_config_guest_disk() mock_get_config.return_value = copy.deepcopy(generated_config) returned_config = drvr._get_volume_config( instance, connection_info, mock.sentinel.disk_info) mock_get_config.assert_called_once_with( connection_info, mock.sentinel.disk_info) mock_set_cache_mode.assert_called_once_with(returned_config) self.assertEqual(generated_config.to_xml(), returned_config.to_xml()) @mock.patch.object(libvirt_driver.LibvirtDriver, '_sev_enabled', new=mock.Mock(return_value=True)) @mock.patch.object(libvirt_driver.LibvirtDriver, '_set_cache_mode', new=mock.Mock()) @mock.patch.object(volume_drivers.LibvirtFakeVolumeDriver, 'get_config') def test_get_volume_config_sev(self, mock_get_config): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) instance = objects.Instance(**self.test_instance) connection_info = { 'driver_volume_type': 'fake', 'data': { 'device_path': '/fake', 'access_mode': 'rw' } } generated_config = self._fake_libvirt_config_guest_disk() generated_config.target_bus = 'virtio' mock_get_config.return_value = copy.deepcopy(generated_config) returned_config = drvr._get_volume_config( instance, connection_info, mock.sentinel.disk_info) # Assert that driver_iommu is enabled for this virtio volume self.assertTrue(returned_config.driver_iommu) instance, connection_info, disk_info) instance_ref, guest, migrate_data, mock.ANY, get_vif_config=None, ) def fake_get_updated_guest_xml( instance, guest, migrate_data, get_volume_config, get_vif_config=None, ): instance = objects.Instance(**self.test_instance) mock.patch.object( drvr, '_get_volume_config', return_value=conf ), mock.patch.object( guest, 'get_xml_desc', return_value=initial_xml ), mock.patch.object( drvr, '_sev_enabled', new=mock.Mock(return_value=False) ) ): config = libvirt_migrate.get_updated_guest_xml( instance, guest, objects.LibvirtLiveMigrateData(bdms=[bdmi]), drvr._get_volume_config ) instance = objects.Instance(**self.test_instance) mock.patch.object( drvr, '_get_volume_config', return_value=conf ), mock.patch.object( guest, 'get_xml_desc', return_value=initial_xml ), mock.patch.object( drvr, '_sev_enabled', new=mock.Mock(return_value=False) ) ): config = libvirt_migrate.get_updated_guest_xml( instance, guest, drvr._get_volume_config ) instance = objects.Instance(**self.test_instance) mock.patch.object( drvr, '_get_volume_config', return_value=conf ), mock.patch.object( guest, 'get_xml_desc', return_value=initial_xml ), mock.patch.object( drvr, '_sev_enabled', new=mock.Mock(return_value=False) ) ): instance, drvr._get_volume_config ) get_volume_config.assert_called_with( instance, bdm['connection_info'], @mock.patch('nova.virt.libvirt.designer.set_driver_iommu_for_device') @mock.patch.object(libvirt_driver.LibvirtDriver, '_sev_enabled') mock_info, mock_build, mock_save, mock_sev_enabled, mock_designer_set_iommu, sev_enabled=False): mock_sev_enabled.return_value = sev_enabled if sev_enabled: mock_designer_set_iommu.assert_called_once_with(expected) def test_attach_interface_with_sev(self): self._test_attach_interface( power_state.RUNNING, (fakelibvirt.VIR_DOMAIN_AFFECT_CONFIG | fakelibvirt.VIR_DOMAIN_AFFECT_LIVE), sev_enabled=True) "," @mock.patch.object(designer, 'set_driver_iommu_for_sev') @mock.patch.object(designer, 'set_driver_iommu_for_sev') def test_get_volume_config(self, _set_cache_mode, get_config): connection_info = {'driver_volume_type': 'fake', 'data': {'device_path': '/fake', 'access_mode': 'rw'}} disk_info = {'bus': 'fake-bus', 'type': 'fake-type', 'dev': 'vdb'} config_guest_disk = self._fake_libvirt_config_guest_disk() get_config.return_value = copy.deepcopy(config_guest_disk) config = drvr._get_volume_config(connection_info, disk_info) get_config.assert_called_once_with(connection_info, disk_info) _set_cache_mode.assert_called_once_with(config) self.assertEqual(config_guest_disk.to_xml(), config.to_xml()) connection_info, disk_info) guest, migrate_data, mock.ANY, get_vif_config=None) def fake_get_updated_guest_xml(guest, migrate_data, get_volume_config, get_vif_config=None): mock.patch.object(drvr, '_get_volume_config', return_value=conf), mock.patch.object(guest, 'get_xml_desc', return_value=initial_xml)): config = libvirt_migrate.get_updated_guest_xml(guest, objects.LibvirtLiveMigrateData(bdms=[bdmi]), drvr._get_volume_config) mock.patch.object(drvr, '_get_volume_config', return_value=conf), mock.patch.object(guest, 'get_xml_desc', return_value=initial_xml)): config = libvirt_migrate.get_updated_guest_xml(guest, drvr._get_volume_config) mock.patch.object(drvr, '_get_volume_config', return_value=conf), mock.patch.object(guest, 'get_xml_desc', return_value=initial_xml)): drvr._get_volume_config) get_volume_config.assert_called_with(bdm['connection_info'], mock_info, mock_build, mock_save):",204,65
openstack%2Ftripleo-upgrade~stable%2Ftrain~If68838c0b26566254c1c7910103e53f2b0a87961,openstack/tripleo-upgrade,stable/train,If68838c0b26566254c1c7910103e53f2b0a87961,Make --config-heat available for FFWD automation.,MERGED,2021-06-15 12:07:39.000000000,2021-06-16 16:20:27.000000000,2021-06-16 16:20:27.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 12:07:39.000000000', 'files': ['templates/overcloud_upgrade_prepare.sh.j2', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'templates/overcloud_upgrade_converge.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b58b05cf760fb24371d7469b5babed0a87a5167d', 'message': 'Make --config-heat available for FFWD automation.\n\nThe --config-heat option allows us creating a new parameters file\nconfig_heat_extra.yaml which is then passed during the preparation\nstep. This mechanism has been around for some time in updates, but\nFFWD was implementing a similar thing in a workarounds file.\n\nThis patch allows passing --config-heat also when running the\nFFWD upgrade prepare stage.\n\n(cherry picked from commit b2604d6e1d3741d9c067b8ef20c83def7738a791)\nChange-Id: If68838c0b26566254c1c7910103e53f2b0a87961\n'}]",0,796436,b58b05cf760fb24371d7469b5babed0a87a5167d,8,3,1,26343,,,0,"Make --config-heat available for FFWD automation.

The --config-heat option allows us creating a new parameters file
config_heat_extra.yaml which is then passed during the preparation
step. This mechanism has been around for some time in updates, but
FFWD was implementing a similar thing in a workarounds file.

This patch allows passing --config-heat also when running the
FFWD upgrade prepare stage.

(cherry picked from commit b2604d6e1d3741d9c067b8ef20c83def7738a791)
Change-Id: If68838c0b26566254c1c7910103e53f2b0a87961
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/36/796436/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/overcloud_upgrade_prepare.sh.j2', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'templates/overcloud_upgrade_converge.sh.j2']",3,b58b05cf760fb24371d7469b5babed0a87a5167d,, {% if config_heat_extra_yaml is defined -%} -e {{ working_dir }}/{{ install.deployment.files | basename }}/config_heat_extra.yaml \ {% endif -%},,11,0
openstack%2Ftripleo-upgrade~master~If68838c0b26566254c1c7910103e53f2b0a87961,openstack/tripleo-upgrade,master,If68838c0b26566254c1c7910103e53f2b0a87961,Make --config-heat available for FFWD automation.,MERGED,2021-06-15 12:04:28.000000000,2021-06-16 16:20:22.000000000,2021-06-16 16:20:22.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 12:04:28.000000000', 'files': ['templates/overcloud_upgrade_prepare.sh.j2', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'templates/overcloud_upgrade_converge.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1fe2499a3b9959c016487176cc1f6f0f25ac47de', 'message': 'Make --config-heat available for FFWD automation.\n\nThe --config-heat option allows us creating a new parameters file\nconfig_heat_extra.yaml which is then passed during the preparation\nstep. This mechanism has been around for some time in updates, but\nFFWD was implementing a similar thing in a workarounds file.\n\nThis patch allows passing --config-heat also when running the\nFFWD upgrade prepare stage.\n\nChange-Id: If68838c0b26566254c1c7910103e53f2b0a87961\n'}]",0,796430,1fe2499a3b9959c016487176cc1f6f0f25ac47de,8,3,1,26343,,,0,"Make --config-heat available for FFWD automation.

The --config-heat option allows us creating a new parameters file
config_heat_extra.yaml which is then passed during the preparation
step. This mechanism has been around for some time in updates, but
FFWD was implementing a similar thing in a workarounds file.

This patch allows passing --config-heat also when running the
FFWD upgrade prepare stage.

Change-Id: If68838c0b26566254c1c7910103e53f2b0a87961
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/30/796430/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/overcloud_upgrade_prepare.sh.j2', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'templates/overcloud_upgrade_converge.sh.j2']",3,1fe2499a3b9959c016487176cc1f6f0f25ac47de,, {% if config_heat_extra_yaml is defined -%} -e {{ working_dir }}/{{ install.deployment.files | basename }}/config_heat_extra.yaml \ {% endif -%},,11,0
openstack%2Ftripleo-ci~master~Ifdf7cc6a74ada3e2133b8591dcacf37ac955d342,openstack/tripleo-ci,master,Ifdf7cc6a74ada3e2133b8591dcacf37ac955d342,Adds updates jobs to periodic,MERGED,2021-06-14 09:52:51.000000000,2021-06-16 16:20:18.000000000,2021-06-16 16:20:18.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-14 09:52:51.000000000', 'files': ['zuul.d/periodic.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a59d2547c183c3ece538ab4376942efa851aa45b', 'message': 'Adds updates jobs to periodic\n\nThis patch adds updates jobs to periodic for\nvictoria and ussuri release.\n\nChange-Id: Ifdf7cc6a74ada3e2133b8591dcacf37ac955d342\n'}]",0,796251,a59d2547c183c3ece538ab4376942efa851aa45b,8,6,1,31075,,,0,"Adds updates jobs to periodic

This patch adds updates jobs to periodic for
victoria and ussuri release.

Change-Id: Ifdf7cc6a74ada3e2133b8591dcacf37ac955d342
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/51/796251/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/periodic.yaml'],1,a59d2547c183c3ece538ab4376942efa851aa45b,updates_jobs, - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-victoria: irrelevant-files: *multinode_ignored vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-ussuri: irrelevant-files: *multinode_ignored vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider,,10,0
openstack%2Fneutron~stable%2Fvictoria~Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c,openstack/neutron,stable/victoria,Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c,Provide the rpc_response_max_timeout parameter to sriov-agent,MERGED,2021-06-14 14:01:13.000000000,2021-06-16 16:19:27.000000000,2021-06-16 16:17:52.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 14:01:13.000000000', 'files': ['neutron/opts.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/test_opts.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/41e603b0c3824e9fb62de925c94fe8d5401994b8', 'message': 'Provide the rpc_response_max_timeout parameter to sriov-agent\n\nThe rpc_response_max_timeout parameter is used in comminucation over\nmessaging queue, thus should be available for sriov-agent which\ncommunicate with neutron-server over messaging queue.\n\nChange-Id: Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c\nCloses-Bug: #1930996\n(cherry picked from commit be43141a5ff6875a146746cb75f927445328c871)\n(cherry picked from commit 04f4d9d406b186d1fc0bda4fe436a567dbc4b70a)\n'}]",0,796220,41e603b0c3824e9fb62de925c94fe8d5401994b8,16,3,1,9816,,,0,"Provide the rpc_response_max_timeout parameter to sriov-agent

The rpc_response_max_timeout parameter is used in comminucation over
messaging queue, thus should be available for sriov-agent which
communicate with neutron-server over messaging queue.

Change-Id: Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c
Closes-Bug: #1930996
(cherry picked from commit be43141a5ff6875a146746cb75f927445328c871)
(cherry picked from commit 04f4d9d406b186d1fc0bda4fe436a567dbc4b70a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/796220/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/opts.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/test_opts.py']",3,41e603b0c3824e9fb62de925c94fe8d5401994b8,bug/1930996-stable/wallaby-stable/victoria," sriov_agent_opts = opts.list_sriov_agent_opts() self.assertEqual('DEFAULT', sriov_agent_opts[0][0]) self.assertEqual('sriov_nic', sriov_agent_opts[1][0]) self.assertEqual('agent', sriov_agent_opts[2][0])"," self.assertEqual('sriov_nic', opts.list_sriov_agent_opts()[0][0])",11,1
openstack%2Frally~master~I3a3c4e215724b955f168ce4f97a215aa148ff5d0,openstack/rally,master,I3a3c4e215724b955f168ce4f97a215aa148ff5d0,Fix contribute page,MERGED,2021-06-16 15:19:42.000000000,2021-06-16 16:06:54.000000000,2021-06-16 16:06:54.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 15:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/43f3ada2ecb4eec8cb644c3949bb5df903509568', 'message': 'Fix contribute page\n\nChange-Id: I3a3c4e215724b955f168ce4f97a215aa148ff5d0\n'}, {'number': 2, 'created': '2021-06-16 15:31:57.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'doc/source/contribute.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/1d9c1e82f33686c80e49edd041fcd8d0253afdb1', 'message': 'Fix contribute page\n\nChange-Id: I3a3c4e215724b955f168ce4f97a215aa148ff5d0\n'}]",0,796695,1d9c1e82f33686c80e49edd041fcd8d0253afdb1,8,2,2,9545,,,0,"Fix contribute page

Change-Id: I3a3c4e215724b955f168ce4f97a215aa148ff5d0
",git fetch https://review.opendev.org/openstack/rally refs/changes/95/796695/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'doc/source/contribute.rst']",4,43f3ada2ecb4eec8cb644c3949bb5df903509568,fix_contrib_link,"For general information on contributing to OpenStack, please check out the `contributor guide <https://docs.openstack.org/contributors/>`_ to get started. It covers all the basics that are common to all OpenStack projects: the accounts you need, the basics of interacting with our Gerrit review system, how we communicate as a community, etc. Below will cover the more project specific information you need to get started with Rally. Communication ~~~~~~~~~~~~~ * Gitter channel https://gitter.im/xRally/Lobby * IRC channel #openstack-rally at OFTC * Mailing list (prefix subjects with ``[rally]`` for faster responses) http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-discuss Contacting the Core Team ~~~~~~~~~~~~~~~~~~~~~~~~ Please refer the `Rally Core Team <https://review.opendev.org/admin/groups/b809b67b705ecb181cef2e1e68e06cac5c61882b>`_ contacts. Task Tracking ~~~~~~~~~~~~~ We track our tasks in `Launchpad <https://bugs.launchpad.net/rally>`_. If you're looking for some smaller, easier work item to pick up and get started on, search for the 'low-hanging-fruit' tag. Reporting a Bug ~~~~~~~~~~~~~~~ You found an issue and want to make sure we are aware of it? You can do so on `Launchpad <https://bugs.launchpad.net/rally>`_. Getting Your Patch Merged ~~~~~~~~~~~~~~~~~~~~~~~~~ All changes proposed to the Rally project require one or two +2 votes from Rally core reviewers before one of the core reviewers can approve patch by giving ``Workflow +1`` vote. Project Team Lead Duties ~~~~~~~~~~~~~~~~~~~~~~~~ All common PTL duties are enumerated in the `PTL guide <https://docs.openstack.org/project-team-guide/ptl.html>`_."," Copyright 2015 Mirantis Inc. All Rights Reserved.Where to begin -------------- Please take a look `our Roadmap`_ to get information about our current work directions. In case you have questions or want to share your ideas, be sure to contact us either at `Rally-dev/Lobby`_ channel on **Gitter** messenger (or, less preferably, at the ``#openstack-rally`` IRC channel on **irc.freenode.net**). If you are going to contribute to Rally, you will probably need to grasp a better understanding of several main design concepts used throughout our project (such as **scenarios**, **contexts** etc.). To do so, please read :ref:`this article <main_concepts>`. How to contribute ----------------- 1. You need a `Launchpad`_ account and need to be joined to the `OpenStack team`_. You can also join the `Rally team`_ if you want to. Make sure Launchpad has your SSH key, Gerrit (the code review system) uses this. 2. Sign the CLA as outlined in the `account setup`_ section of the developer guide. 3. Tell git your details: .. code-block:: bash git config --global user.name ""Firstname Lastname"" git config --global user.email ""your_email@youremail.com"" 4. Install git-review. This tool takes a lot of the pain out of remembering commands to push code up to Gerrit for review and to pull it back down to edit it. It is installed using: .. code-block:: bash pip install git-review Several Linux distributions (notably Fedora 16 and Ubuntu 12.04) are also starting to include git-review in their repositories so it can also be installed using the standard package manager. 5. Grab the Rally repository: .. code-block:: bash git clone git@github.com:openstack/rally.git 6. Checkout a new branch to hack on: .. code-block:: bash git checkout -b TOPIC-BRANCH 7. Start coding 8. Run the test suite locally to make sure nothing broke, e.g. (this will run py34/py27/pep8 tests): .. code-block:: bash tox **(NOTE: you should have installed tox<=1.6.1)** If you extend Rally with new functionality, make sure you have also provided unit and/or functional tests for it. 9. Commit your work using: .. code-block:: bash git commit -a Make sure you have supplied your commit with a neat commit message, containing a link to the corresponding blueprint / bug, if appropriate. 10. Push the commit up for code review using: .. code-block:: bash git review -R That is the awesome tool we installed earlier that does a lot of hard work for you. 11. Watch your email or `review site`_, it will automatically send your code for a battery of tests on our `Jenkins setup`_ and the core team for the project will review your code. If there are any changes that should be made they will let you know. 12. When all is good the review site will automatically merge your code. (This tutorial is based on: http://www.linuxjedi.co.uk/2012/03/real-way-to-start-hacking-on-openstack.html) Testing ------- Please, don't hesitate to write tests ;) Unit tests ^^^^^^^^^^ *Files: /tests/unit/** The goal of unit tests is to ensure that internal parts of the code work properly. All internal methods should be fully covered by unit tests with a reasonable mocks usage. About Rally unit tests: - All `unit tests`_ are located inside /tests/unit/* - Tests are written on top of: *testtools* and *mock* libs - `Tox`_ is used to run unit tests To run unit tests locally: .. code-block:: console $ pip install tox $ tox To run py34, py27 or pep8 only: .. code-block:: console $ tox -e <name> #NOTE: <name> is one of py34, py27 or pep8 To run a single unit test e.g. test_deployment .. code-block:: console $ tox -e <name> -- <test_name> #NOTE: <name> is one of py34, py27 or pep8 # <test_name> is the unit test case name, e.g tests.unit.test_osclients To debug issues on the unit test: - Add breakpoints on the test file using ``import pdb;`` ``pdb.set_trace()`` - Then run tox in debug mode: .. code-block:: console $ tox -e debug <test_name> #NOTE: use python 2.7 #NOTE: <test_name> is the unit test case name or .. code-block:: console $ tox -e debug34 <test_name> #NOTE: use python 3.4 #NOTE: <test_name> is the unit test case name To get test coverage: .. code-block:: console $ tox -e cover #NOTE: Results will be in /cover/index.html To generate docs: .. code-block:: console $ tox -e docs #NOTE: Documentation will be in doc/source/_build/html/index.html Functional tests ^^^^^^^^^^^^^^^^ *Files: /tests/functional/** The goal of `functional tests`_ is to check that everything works well together. Functional tests use Rally API only and check responses without touching internal parts. To run functional tests locally: .. code-block:: console $ source openrc $ rally deployment create --fromenv --name testing $ tox -e cli #NOTE: openrc file with OpenStack admin credentials Output of every Rally execution will be collected under some reports root in directory structure like: reports_root/ClassName/MethodName_suffix.extension This functionality implemented in tests.functional.utils.Rally.__call__ method. Use 'gen_report_path' method of 'Rally' class to get automatically generated file path and name if you need. You can use it to publish html reports, generated during tests. Reports root can be passed throw environment variable 'REPORTS_ROOT'. Default is 'rally-cli-output-files'. Rally CI scripts ^^^^^^^^^^^^^^^^ *Files: /tests/ci/** This directory contains scripts and files related to the Rally CI system. Rally Style Commandments ^^^^^^^^^^^^^^^^^^^^^^^^ *Files: /tests/hacking/* This module contains Rally specific hacking rules for checking commandments. For more information about Style Commandments, read the `OpenStack Style Commandments manual`_. .. references: .. _our Roadmap: https://docs.google.com/a/mirantis.com/spreadsheets/d/16DXpfbqvlzMFaqaXAcJsBzzpowb_XpymaK2aFY2gA2g/edit#gid=0 .. _Rally-dev/Lobby: https://gitter.im/rally-dev/Lobby .. _Launchpad: https://launchpad.net/ .. _OpenStack team: https://launchpad.net/openstack .. _Rally team: https://launchpad.net/rally .. _account setup: https://docs.openstack.org/infra/manual/developers.html#development-workflow .. _review site: https://review.openstack.org/ .. _Jenkins setup: http://jenkins.openstack.org/ .. _unit tests: http://en.wikipedia.org/wiki/Unit_testing .. _Tox: https://tox.readthedocs.org/en/latest/ .. _functional tests: https://en.wikipedia.org/wiki/Functional_testing .. _OpenStack Style Commandments manual: https://docs.openstack.org/hacking/latest/",37,293
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~If29d8ad8e1658f2d4f320deaca038579a7115dd8,openstack/tripleo-heat-templates,stable/victoria,If29d8ad8e1658f2d4f320deaca038579a7115dd8,Migrate nova cron parameters to NovaApi service,ABANDONED,2021-06-16 16:04:37.000000000,2021-06-16 16:05:55.000000000,,[],"[{'number': 1, 'created': '2021-06-16 16:04:37.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f61f031ae5a311a86704cd4e369e0397129c1dc', 'message': 'Migrate nova cron parameters to NovaApi service\n\n... beucause these parameters are associated with cron containers\ndefined in the NovaApi service.\n\nChange-Id: If29d8ad8e1658f2d4f320deaca038579a7115dd8\n(cherry picked from commit 0e30ed962460f532d97eeff3007a34544386f433)\n'}]",0,796659,6f61f031ae5a311a86704cd4e369e0397129c1dc,2,0,1,9816,,,0,"Migrate nova cron parameters to NovaApi service

... beucause these parameters are associated with cron containers
defined in the NovaApi service.

Change-Id: If29d8ad8e1658f2d4f320deaca038579a7115dd8
(cherry picked from commit 0e30ed962460f532d97eeff3007a34544386f433)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/796659/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml']",2,6f61f031ae5a311a86704cd4e369e0397129c1dc,nova-cron-params-stable/victoria,," NovaCronArchiveDeleteRowsMinute: type: string description: > Cron to move deleted instances to another table - Minute default: '1' NovaCronArchiveDeleteRowsHour: type: string description: > Cron to move deleted instances to another table - Hour default: '0' NovaCronArchiveDeleteRowsMonthday: type: string description: > Cron to move deleted instances to another table - Month Day default: '*' NovaCronArchiveDeleteRowsMonth: type: string description: > Cron to move deleted instances to another table - Month default: '*' NovaCronArchiveDeleteRowsWeekday: type: string description: > Cron to move deleted instances to another table - Week Day default: '*' NovaCronArchiveDeleteRowsMaxRows: type: string description: > Cron to move deleted instances to another table - Max Rows default: '1000' NovaCronArchiveDeleteRowsUser: type: string description: > Cron to move deleted instances to another table - User default: 'nova' NovaCronArchiveDeleteRowsDestination: type: string description: > Cron to move deleted instances to another table - Log destination default: '/var/log/nova/nova-rowsflush.log' NovaCronArchiveDeleteRowsMaxDelay: type: string description: > Cron to move deleted instances to another table - Max Delay default: '3600' NovaCronArchiveDeleteRowsUntilComplete: type: boolean description: > Cron to move deleted instances to another table - Until complete default: true NovaCronArchiveDeleteRowsPurge: type: boolean description: > Purge shadow tables immediately after scheduled archiving default: false NovaCronArchiveDeleteAllCells: type: boolean description: > Archive deleted instances from all cells default: true NovaCronArchiveDeleteRowsAge: type: number description: > Cron to archive deleted instances - Age This will define the retention policy when archiving the deleted instances entries in days. 0 means, purge data older than today in shadow tables. default: 90 NovaCronPurgeShadowTablesMinute: type: string description: > Cron to purge shadow tables - Minute default: '0' NovaCronPurgeShadowTablesHour: type: string description: > Cron to purge shadow tables - Hour default: '5' NovaCronPurgeShadowTablesMonthday: type: string description: > Cron to purge shadow tables - Month Day default: '*' NovaCronPurgeShadowTablesMonth: type: string description: > Cron to purge shadow tables - Month default: '*' NovaCronPurgeShadowTablesWeekday: type: string description: > Cron to purge shadow tables - Week Day default: '*' NovaCronPurgeShadowTablesUser: type: string description: > Cron to purge shadow tables - User default: 'nova' NovaCronPurgeShadowTablesDestination: type: string description: > Cron to purge shadow tables - Log destination default: '/var/log/nova/nova-rowspurge.log' NovaCronPurgeShadowTablesMaxDelay: type: string description: > Cron to purge shadow tables - Max Delay default: '3600' NovaCronPurgeShadowTablesAge: type: number description: > Cron to purge shadow tables - Age This will define the retention policy when purging the shadow tables in days. 0 means, purge data older than today in shadow tables. default: 14 NovaCronPurgeShadowTablesVerbose: type: boolean description: > Cron to purge shadow tables - Verbose default: false NovaCronPurgeShadowTablesAllCells: type: boolean description: > Cron to purge shadow tables - All cells default: true nova::cron::archive_deleted_rows::minute: {get_param: NovaCronArchiveDeleteRowsMinute} nova::cron::archive_deleted_rows::hour: {get_param: NovaCronArchiveDeleteRowsHour} nova::cron::archive_deleted_rows::monthday: {get_param: NovaCronArchiveDeleteRowsMonthday} nova::cron::archive_deleted_rows::month: {get_param: NovaCronArchiveDeleteRowsMonth} nova::cron::archive_deleted_rows::weekday: {get_param: NovaCronArchiveDeleteRowsWeekday} nova::cron::archive_deleted_rows::max_rows: {get_param: NovaCronArchiveDeleteRowsMaxRows} nova::cron::archive_deleted_rows::user: {get_param: NovaCronArchiveDeleteRowsUser} nova::cron::archive_deleted_rows::destination: {get_param: NovaCronArchiveDeleteRowsDestination} nova::cron::archive_deleted_rows::maxdelay: {get_param: NovaCronArchiveDeleteRowsMaxDelay} nova::cron::archive_deleted_rows::until_complete: {get_param: NovaCronArchiveDeleteRowsUntilComplete} nova::cron::archive_deleted_rows::purge: {get_param: NovaCronArchiveDeleteRowsPurge} nova::cron::archive_deleted_rows::all_cells: {get_param: NovaCronArchiveDeleteAllCells} nova::cron::archive_deleted_rows::age: {get_param: NovaCronArchiveDeleteRowsAge} nova::cron::purge_shadow_tables::minute: {get_param: NovaCronPurgeShadowTablesMinute} nova::cron::purge_shadow_tables::hour: {get_param: NovaCronPurgeShadowTablesHour} nova::cron::purge_shadow_tables::monthday: {get_param: NovaCronPurgeShadowTablesMonthday} nova::cron::purge_shadow_tables::month: {get_param: NovaCronPurgeShadowTablesMonth} nova::cron::purge_shadow_tables::weekday: {get_param: NovaCronPurgeShadowTablesWeekday} nova::cron::purge_shadow_tables::user: {get_param: NovaCronPurgeShadowTablesUser} nova::cron::purge_shadow_tables::destination: {get_param: NovaCronPurgeShadowTablesDestination} nova::cron::purge_shadow_tables::maxdelay: {get_param: NovaCronPurgeShadowTablesMaxDelay} nova::cron::purge_shadow_tables::age: {get_param: NovaCronPurgeShadowTablesAge} nova::cron::purge_shadow_tables::verbose: {get_param: NovaCronPurgeShadowTablesVerbose} nova::cron::purge_shadow_tables::all_cells: {get_param: NovaCronPurgeShadowTablesAllCells}",154,154
openstack%2Fnova~master~I1589fb36047e37a47e61ed5daadfd7c94b9e84f6,openstack/nova,master,I1589fb36047e37a47e61ed5daadfd7c94b9e84f6,tests: Remove duplicate policy tests,MERGED,2021-03-04 15:33:08.000000000,2021-06-16 15:55:16.000000000,2021-06-16 15:49:27.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-03-04 15:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0a2076d7adbe69eecea5ef85332b5beb30995f6', 'message': ""tests: Remove duplicate policy tests\n\nAll of our policies are tested in 'nova.tests.unit.policies'. We don't\nneed to duplicate these in 'nova.tests.unit.api'.\n\nChange-Id: I1589fb36047e37a47e61ed5daadfd7c94b9e84f6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-03-29 14:46:44.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_server_start_stop.py', 'nova/tests/unit/api/openstack/compute/test_services.py', 'nova/tests/unit/api/openstack/compute/test_server_groups.py', 'nova/tests/unit/api/openstack/compute/test_simple_tenant_usage.py', 'nova/tests/unit/api/openstack/compute/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f35615e92148a85ab1f21730bf14d016320738eb', 'message': ""tests: Remove duplicate policy tests\n\nAll of our policies are tested in 'nova.tests.unit.policies'. We don't\nneed to duplicate these in 'nova.tests.unit.api'.\n\nChange-Id: I1589fb36047e37a47e61ed5daadfd7c94b9e84f6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,778731,f35615e92148a85ab1f21730bf14d016320738eb,14,4,2,15334,,,0,"tests: Remove duplicate policy tests

All of our policies are tested in 'nova.tests.unit.policies'. We don't
need to duplicate these in 'nova.tests.unit.api'.

Change-Id: I1589fb36047e37a47e61ed5daadfd7c94b9e84f6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/778731/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_server_start_stop.py', 'nova/tests/unit/api/openstack/compute/test_services.py', 'nova/tests/unit/api/openstack/compute/test_server_groups.py', 'nova/tests/unit/api/openstack/compute/test_simple_tenant_usage.py', 'nova/tests/unit/api/openstack/compute/test_servers.py']",5,a0a2076d7adbe69eecea5ef85332b5beb30995f6,compute_rpc_6.0,," def test_all_tenants_fail_policy(self): def fake_get_all(context, search_opts=None, **kwargs): self.assertIsNotNone(search_opts) return [fakes.stub_instance_obj(100)] rules = { ""os_compute_api:servers:index:get_all_tenants"": ""project_id:non_fake"", ""os_compute_api:servers:get_all"": ""project_id:%s"" % self.project_id, } policy.set_rules(oslo_policy.Rules.from_dict(rules)) self.mock_get_all.side_effect = fake_get_all req = self.req(self.path_with_query % 'all_tenants=1') self.assertRaises(exception.PolicyNotAuthorized, self.controller.index, req) def test_rebuild_server_with_trusted_certs_policy_failed(self): rule_name = ""os_compute_api:servers:rebuild:trusted_certs"" rules = {""os_compute_api:servers:rebuild"": ""@"", rule_name: ""project:%s"" % fakes.FAKE_PROJECT_ID} self.policy.set_rules(rules) exc = self.assertRaises(exception.PolicyNotAuthorized, self._rebuild_server, certs=['0b5d2c72-12cc-4ba6-a8d7-3ff5cc1d8cb8']) self.assertEqual( ""Policy doesn't allow %s to be performed."" % rule_name, exc.format_message()) def test_update_server_policy_fail(self): rule = {'compute:update': 'role:admin'} policy.set_rules(oslo_policy.Rules.from_dict(rule)) body = {'server': {'name': 'server_test'}} req = self._get_request(body) self.assertRaises(exception.PolicyNotAuthorized, self.controller.update, req, FAKE_UUID, body=body) def test_trigger_crash_dump_policy_failed(self): rule_name = ""os_compute_api:servers:trigger_crash_dump"" self.policy.set_rules({rule_name: ""project_id:non_fake""}) exc = self.assertRaises(exception.PolicyNotAuthorized, self.controller._action_trigger_crash_dump, self.req, FAKE_UUID, body=self.body) self.assertIn(""os_compute_api:servers:trigger_crash_dump"", exc.format_message()) def test_reboot_resize_policy_fail(self): rule = {'compute:reboot': 'role:admin'} policy.set_rules(oslo_policy.Rules.from_dict(rule)) req = fakes.HTTPRequestV21.blank(self.path_action % '1234') self.stub_out('nova.compute.api.API.get', fakes.fake_compute_get( vm_state='ACTIVE', task_state=None, project_id=req.environ['nova.context'].project_id)) self.assertRaises(exception.PolicyNotAuthorized, self.controller._action_reboot, req, '1234', body={'reboot': {'type': 'HARD'}}) def test_confirm_resize_policy_fail(self): rule = {'compute:confirm_resize': 'role:admin'} policy.set_rules(oslo_policy.Rules.from_dict(rule)) req = fakes.HTTPRequestV21.blank(self.path_action % '1234') self.stub_out('nova.compute.api.API.get', fakes.fake_compute_get( vm_state='ACTIVE', task_state=None, project_id=req.environ['nova.context'].project_id)) self.assertRaises(exception.PolicyNotAuthorized, self.controller._action_confirm_resize, req, '1234', {}) def test_revert_resize_policy_fail(self): rule = {'compute:revert_resize': 'role:admin'} policy.set_rules(oslo_policy.Rules.from_dict(rule)) req = fakes.HTTPRequestV21.blank(self.path_action % '1234') self.stub_out('nova.compute.api.API.get', fakes.fake_compute_get( vm_state='ACTIVE', task_state=None, project_id=req.environ['nova.context'].project_id)) self.assertRaises(exception.PolicyNotAuthorized, self.controller._action_revert_resize, req, '1234', {}) def test_create_server_with_trusted_certs_policy_failed(self): rule_name = ""os_compute_api:servers:create:trusted_certs"" rules = {""os_compute_api:servers:create"": ""@"", ""os_compute_api:servers:create:forced_host"": ""@"", ""os_compute_api:servers:create:attach_volume"": ""@"", ""os_compute_api:servers:create:attach_network"": ""@"", rule_name: ""project:fake""} self._create_instance_req(['0b5d2c72-12cc-4ba6-a8d7-3ff5cc1d8cb8']) self.policy.set_rules(rules) exc = self.assertRaises(exception.PolicyNotAuthorized, self.controller.create, self.req, body=self.body) self.assertEqual( ""Policy doesn't allow %s to be performed."" % rule_name, exc.format_message()) ",2,317
openstack%2Frally-openstack~master~Ib1578376a5231560cad858274348d8f7dd2b41f2,openstack/rally-openstack,master,Ib1578376a5231560cad858274348d8f7dd2b41f2,[community goal] Update contributor documentation,MERGED,2021-05-18 00:12:05.000000000,2021-06-16 15:48:27.000000000,2021-06-16 15:48:27.000000000,"[{'_account_id': 8556}, {'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 00:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/5bbbe4e2dc52f52aaf9cc94810a835642d1b28ad', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38555\nChange-Id: Ib1578376a5231560cad858274348d8f7dd2b41f2\n'}, {'number': 2, 'created': '2021-06-16 15:21:23.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/36a2bd37a5c5263260362cb15ec835dd887f7039', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38555\nChange-Id: Ib1578376a5231560cad858274348d8f7dd2b41f2\n'}]",0,791851,36a2bd37a5c5263260362cb15ec835dd887f7039,10,3,2,8556,,,0,"[community goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38555
Change-Id: Ib1578376a5231560cad858274348d8f7dd2b41f2
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/51/791851/2 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,5bbbe4e2dc52f52aaf9cc94810a835642d1b28ad,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/rally-openstack Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html Bugs should be filed on Launchpad: https://bugs.launchpad.net/rally-openstack For more specific information about contributing to this repository, see the rally contributor guide: https://docs.openstack.org/rally/latest/contributor/contributing.html",Please refer to Rally contribution guide: https://docs.openstack.org/developer/rally/contribute.html ,18,1
openstack%2Freno~master~I4dfa3fd2b3de3905e5d828d8a5997ec2fdffac4c,openstack/reno,master,I4dfa3fd2b3de3905e5d828d8a5997ec2fdffac4c,Moving to OFTC,MERGED,2021-06-16 10:05:33.000000000,2021-06-16 15:39:37.000000000,2021-06-16 15:38:17.000000000,"[{'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 10:05:33.000000000', 'files': ['doc/source/contributor/contributing.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/reno/commit/7a82e8fe0512e11d796332420a46fe8bb4aa780b', 'message': 'Moving to OFTC\n\nhttp: //lists.openstack.org/pipermail/openstack-discuss/2021-May/022724.html\nChange-Id: I4dfa3fd2b3de3905e5d828d8a5997ec2fdffac4c\n'}]",0,796622,7a82e8fe0512e11d796332420a46fe8bb4aa780b,8,3,1,28522,,,0,"Moving to OFTC

http: //lists.openstack.org/pipermail/openstack-discuss/2021-May/022724.html
Change-Id: I4dfa3fd2b3de3905e5d828d8a5997ec2fdffac4c
",git fetch https://review.opendev.org/openstack/reno refs/changes/22/796622/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'README.rst']",2,7a82e8fe0512e11d796332420a46fe8bb4aa780b,oftc,* IRC: #openstack-release on OFTC,* IRC: #openstack-release on freenode,2,2
openstack%2Fcharm-ceph-osd~master~I48019237ab6419a9a5782c382bf8c3f64c59c067,openstack/charm-ceph-osd,master,I48019237ab6419a9a5782c382bf8c3f64c59c067,Add impish to metadata.yaml,MERGED,2021-06-03 09:08:32.000000000,2021-06-16 15:35:36.000000000,2021-06-16 15:35:36.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:08:32.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/61c522ede806983edcb2d59ff2a72876d11b0655', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I48019237ab6419a9a5782c382bf8c3f64c59c067\n'}]",0,794487,61c522ede806983edcb2d59ff2a72876d11b0655,10,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I48019237ab6419a9a5782c382bf8c3f64c59c067
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/87/794487/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,61c522ede806983edcb2d59ff2a72876d11b0655,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-cinder~master~I50270156a7ee7f62c664a5b4c4f8094aa8cffb3f,openstack/charm-cinder,master,I50270156a7ee7f62c664a5b4c4f8094aa8cffb3f,Add impish to metadata.yaml,MERGED,2021-06-03 09:09:48.000000000,2021-06-16 15:33:46.000000000,2021-06-16 15:33:46.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:09:48.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/d589ae7c13cdc3a2223abfff281c9448d5d8814f', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I50270156a7ee7f62c664a5b4c4f8094aa8cffb3f\n'}]",0,794491,d589ae7c13cdc3a2223abfff281c9448d5d8814f,9,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I50270156a7ee7f62c664a5b4c4f8094aa8cffb3f
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/91/794491/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,d589ae7c13cdc3a2223abfff281c9448d5d8814f,charm-metadata-impish,- impish,,1,0
openstack%2Freleases~master~Ie632abd60936ce8cb382612c0bb96109b4d11617,openstack/releases,master,Ie632abd60936ce8cb382612c0bb96109b4d11617,Puppet OpenStack: Create final stable/train release,MERGED,2021-05-24 14:34:53.000000000,2021-06-16 15:33:37.000000000,2021-06-16 15:33:37.000000000,"[{'_account_id': 308}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-24 14:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/56b5d30968062811ade6f352f6f0217f2b972b3d', 'message': 'Puppet OpenStack: Create final stable/train release\n\nChange-Id: Ie632abd60936ce8cb382612c0bb96109b4d11617\n'}, {'number': 2, 'created': '2021-05-25 13:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0c5e72804b23a9a5f9ce3377753eac699e0cd3a8', 'message': 'Puppet OpenStack: Create final stable/train release\n\nChange-Id: Ie632abd60936ce8cb382612c0bb96109b4d11617\n'}, {'number': 3, 'created': '2021-05-26 23:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2bdbfdc35c7bbce8c332ab66b8f56cbfe4cf8c0f', 'message': 'Puppet OpenStack: Create final stable/train release\n\nChange-Id: Ie632abd60936ce8cb382612c0bb96109b4d11617\n'}, {'number': 4, 'created': '2021-06-09 15:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1a04b7653270124f5add73362115cc8d2d321d6f', 'message': 'Puppet OpenStack: Create final stable/train release\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/795583\nChange-Id: Ie632abd60936ce8cb382612c0bb96109b4d11617\n'}, {'number': 5, 'created': '2021-06-09 16:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/31a4eadf5228ac65fb6cd8d2fb93e95dcbdcb637', 'message': 'Puppet OpenStack: Create final stable/train release\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/793891\nChange-Id: Ie632abd60936ce8cb382612c0bb96109b4d11617\n'}, {'number': 6, 'created': '2021-06-16 14:24:10.000000000', 'files': ['deliverables/train/puppet-keystone.yaml', 'deliverables/train/puppet-placement.yaml', 'deliverables/train/puppet-nova.yaml', 'deliverables/train/puppet-ceilometer.yaml', 'deliverables/train/puppet-barbican.yaml', 'deliverables/train/puppet-trove.yaml', 'deliverables/train/puppet-tempest.yaml', 'deliverables/train/puppet-aodh.yaml', 'deliverables/train/puppet-neutron.yaml', 'deliverables/train/puppet-panko.yaml', 'deliverables/train/puppet-watcher.yaml', 'deliverables/train/puppet-murano.yaml', 'deliverables/train/puppet-openstack_extras.yaml', 'deliverables/train/puppet-octavia.yaml', 'deliverables/train/puppet-cinder.yaml', 'deliverables/train/puppet-ironic.yaml', 'deliverables/train/puppet-cloudkitty.yaml', 'deliverables/train/puppet-gnocchi.yaml', 'deliverables/train/puppet-vswitch.yaml', 'deliverables/train/puppet-tacker.yaml', 'deliverables/train/puppet-openstacklib.yaml', 'deliverables/train/puppet-sahara.yaml', 'deliverables/train/puppet-manila.yaml', 'deliverables/train/puppet-oslo.yaml', 'deliverables/train/puppet-horizon.yaml', 'deliverables/train/puppet-glance.yaml', 'deliverables/train/puppet-heat.yaml', 'deliverables/train/puppet-designate.yaml', 'deliverables/train/puppet-swift.yaml', 'deliverables/train/puppet-mistral.yaml', 'deliverables/train/puppet-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c88e55c5413c4fe063e1d04bc6b211dc39b1ee44', 'message': 'Puppet OpenStack: Create final stable/train release\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/793891\nChange-Id: Ie632abd60936ce8cb382612c0bb96109b4d11617\n'}]",3,792820,c88e55c5413c4fe063e1d04bc6b211dc39b1ee44,54,6,6,9816,,,0,"Puppet OpenStack: Create final stable/train release

Depends-On: https://review.opendev.org/c/openstack/project-config/+/793891
Change-Id: Ie632abd60936ce8cb382612c0bb96109b4d11617
",git fetch https://review.opendev.org/openstack/releases refs/changes/20/792820/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/puppet-keystone.yaml', 'deliverables/train/puppet-placement.yaml', 'deliverables/train/puppet-nova.yaml', 'deliverables/train/puppet-ceilometer.yaml', 'deliverables/train/puppet-barbican.yaml', 'deliverables/train/puppet-trove.yaml', 'deliverables/train/puppet-tempest.yaml', 'deliverables/train/puppet-aodh.yaml', 'deliverables/train/puppet-neutron.yaml', 'deliverables/train/puppet-panko.yaml', 'deliverables/train/puppet-watcher.yaml', 'deliverables/train/puppet-murano.yaml', 'deliverables/train/puppet-octavia.yaml', 'deliverables/train/puppet-cinder.yaml', 'deliverables/train/puppet-ironic.yaml', 'deliverables/train/puppet-cloudkitty.yaml', 'deliverables/train/puppet-gnocchi.yaml', 'deliverables/train/puppet-vswitch.yaml', 'deliverables/train/puppet-tacker.yaml', 'deliverables/train/puppet-openstacklib.yaml', 'deliverables/train/puppet-sahara.yaml', 'deliverables/train/puppet-manila.yaml', 'deliverables/train/puppet-oslo.yaml', 'deliverables/train/puppet-horizon.yaml', 'deliverables/train/puppet-glance.yaml', 'deliverables/train/puppet-heat.yaml', 'deliverables/train/puppet-designate.yaml', 'deliverables/train/puppet-swift.yaml', 'deliverables/train/puppet-mistral.yaml']",29,56b5d30968062811ade6f352f6f0217f2b972b3d,puppet-t-final, - version: 15.5.0 projects: - repo: openstack/puppet-mistral hash: 5dcd2371f39ae151bc9b0f10d0ce9e1a52746860,,116,0
openstack%2Fcharm-ironic-conductor~master~I4076f73c951c384b17213e6263a29fcfe1ba3653,openstack/charm-ironic-conductor,master,I4076f73c951c384b17213e6263a29fcfe1ba3653,Add impish to metadata.yaml,MERGED,2021-06-03 09:13:49.000000000,2021-06-16 15:28:35.000000000,2021-06-16 15:28:35.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:13:49.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/109cdce43013a2d1d32c94fa322fa621ef398734', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I4076f73c951c384b17213e6263a29fcfe1ba3653\n'}]",0,794504,109cdce43013a2d1d32c94fa322fa621ef398734,9,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I4076f73c951c384b17213e6263a29fcfe1ba3653
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/04/794504/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,109cdce43013a2d1d32c94fa322fa621ef398734,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-keystone-kerberos~master~If08dda2cf3611ca1345d9488d68d5a41857da2ed,openstack/charm-keystone-kerberos,master,If08dda2cf3611ca1345d9488d68d5a41857da2ed,Add impish to metadata.yaml,MERGED,2021-06-03 09:14:29.000000000,2021-06-16 15:27:51.000000000,2021-06-16 15:27:51.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:14:29.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/4c78e2cb9043207f5dda0a70c8e4c9b1efae5a63', 'message': 'Add impish to metadata.yaml\n\nChange-Id: If08dda2cf3611ca1345d9488d68d5a41857da2ed\n'}]",0,794506,4c78e2cb9043207f5dda0a70c8e4c9b1efae5a63,10,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: If08dda2cf3611ca1345d9488d68d5a41857da2ed
",git fetch https://review.opendev.org/openstack/charm-keystone-kerberos refs/changes/06/794506/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,4c78e2cb9043207f5dda0a70c8e4c9b1efae5a63,charm-metadata-impish,- impish,,1,0
openstack%2Fnova~stable%2Fussuri~I11131a3f90b8af85e7151b519fb26d225629c391,openstack/nova,stable/ussuri,I11131a3f90b8af85e7151b519fb26d225629c391,libvirt: Set driver_iommu when attaching virtio devices to SEV instance,NEW,2021-06-16 09:44:34.000000000,2021-06-16 15:25:01.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 09:44:34.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_designer.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/virt/libvirt/designer.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4c38a3c2d5194dbddc94339f3992dc5b70a52556', 'message': 'libvirt: Set driver_iommu when attaching virtio devices to SEV instance\n\nAs called out in the original spec [1] virtio devices attached to a SEV\nenabled instance must have the iommu attribute enabled. This was done\nwithin the original implementation of the spec for all virtio devices\ndefined when initially spawning the instance but does not include volume\nand interfaces that are later hot plugged.\n\nThis change corrects this for both volumes and nics and in doing so\nslightly refactors the original designer code to make it usable in both\ncases.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/implemented/amd-sev-libvirt-support.html#proposed-change\n\nNOTE(lyarwood): Conflicts caused by I5c84f3c9b4137c84c36bb4e755ffad9c0e9f8a2b\nand Ic509d3f342a49dbd53dceac9ddcfc838ec165d6d not being present in\nstable/ussuri.\n\nConflicts:\n  nova/tests/unit/virt/libvirt/test_driver.py\n  nova/virt/libvirt/driver.py\n  nova/virt/libvirt/migration.py\n\nCloses-Bug: #1930734\nChange-Id: I11131a3f90b8af85e7151b519fb26d225629c391\n(cherry picked from commit 4d8bf15fec15dc3416023e577e0f2c277c216506)\n(cherry picked from commit 5d65680095298764466af532381b81b604429426)\n(cherry picked from commit 4985667efced966d0a47ac9f8d31d73ae7409b0a)\n'}]",6,796618,4c38a3c2d5194dbddc94339f3992dc5b70a52556,6,2,1,10135,,,0,"libvirt: Set driver_iommu when attaching virtio devices to SEV instance

As called out in the original spec [1] virtio devices attached to a SEV
enabled instance must have the iommu attribute enabled. This was done
within the original implementation of the spec for all virtio devices
defined when initially spawning the instance but does not include volume
and interfaces that are later hot plugged.

This change corrects this for both volumes and nics and in doing so
slightly refactors the original designer code to make it usable in both
cases.

[1] https://specs.openstack.org/openstack/nova-specs/specs/train/implemented/amd-sev-libvirt-support.html#proposed-change

NOTE(lyarwood): Conflicts caused by I5c84f3c9b4137c84c36bb4e755ffad9c0e9f8a2b
and Ic509d3f342a49dbd53dceac9ddcfc838ec165d6d not being present in
stable/ussuri.

Conflicts:
  nova/tests/unit/virt/libvirt/test_driver.py
  nova/virt/libvirt/driver.py
  nova/virt/libvirt/migration.py

Closes-Bug: #1930734
Change-Id: I11131a3f90b8af85e7151b519fb26d225629c391
(cherry picked from commit 4d8bf15fec15dc3416023e577e0f2c277c216506)
(cherry picked from commit 5d65680095298764466af532381b81b604429426)
(cherry picked from commit 4985667efced966d0a47ac9f8d31d73ae7409b0a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/796618/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_designer.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/virt/libvirt/designer.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",6,4c38a3c2d5194dbddc94339f3992dc5b70a52556,bug/1930734," @mock.patch.object(designer, 'set_driver_iommu_for_all_devices') @mock.patch.object(designer, 'set_driver_iommu_for_all_devices') @mock.patch.object(libvirt_driver.LibvirtDriver, '_sev_enabled', new=mock.Mock(return_value=False)) def test_get_volume_config(self, mock_set_cache_mode, mock_get_config): instance = objects.Instance(**self.test_instance) connection_info = { 'driver_volume_type': 'fake', 'data': { 'device_path': '/fake', 'access_mode': 'rw' } } generated_config = self._fake_libvirt_config_guest_disk() mock_get_config.return_value = copy.deepcopy(generated_config) returned_config = drvr._get_volume_config( instance, connection_info, mock.sentinel.disk_info) mock_get_config.assert_called_once_with( connection_info, mock.sentinel.disk_info) mock_set_cache_mode.assert_called_once_with(returned_config) self.assertEqual(generated_config.to_xml(), returned_config.to_xml()) @mock.patch.object(libvirt_driver.LibvirtDriver, '_sev_enabled', new=mock.Mock(return_value=True)) @mock.patch.object(libvirt_driver.LibvirtDriver, '_set_cache_mode', new=mock.Mock()) @mock.patch.object(volume_drivers.LibvirtFakeVolumeDriver, 'get_config') def test_get_volume_config_sev(self, mock_get_config): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) instance = objects.Instance(**self.test_instance) connection_info = { 'driver_volume_type': 'fake', 'data': { 'device_path': '/fake', 'access_mode': 'rw' } } generated_config = self._fake_libvirt_config_guest_disk() generated_config.target_bus = 'virtio' mock_get_config.return_value = copy.deepcopy(generated_config) returned_config = drvr._get_volume_config( instance, connection_info, mock.sentinel.disk_info) # Assert that driver_iommu is enabled for this virtio volume self.assertTrue(returned_config.driver_iommu) instance, connection_info, disk_info) instance_ref, guest, migrate_data, mock.ANY, get_vif_config=None, new_resources=None ) def fake_get_updated_guest_xml( instance, guest, migrate_data, get_volume_config, get_vif_config=None, new_resources=None ): instance = objects.Instance(**self.test_instance) mock.patch.object( drvr, '_get_volume_config', return_value=conf ), mock.patch.object( guest, 'get_xml_desc', return_value=initial_xml ), mock.patch.object( drvr, '_sev_enabled', new=mock.Mock(return_value=False) ) ): config = libvirt_migrate.get_updated_guest_xml( instance, guest, objects.LibvirtLiveMigrateData(bdms=[bdmi]), drvr._get_volume_config ) instance = objects.Instance(**self.test_instance) mock.patch.object( drvr, '_get_volume_config', return_value=conf ), mock.patch.object( guest, 'get_xml_desc', return_value=initial_xml ), mock.patch.object( drvr, '_sev_enabled', new=mock.Mock(return_value=False) ) ): config = libvirt_migrate.get_updated_guest_xml( instance, guest, drvr._get_volume_config ) instance = objects.Instance(**self.test_instance) mock.patch.object( drvr, '_get_volume_config', return_value=conf ), mock.patch.object( guest, 'get_xml_desc', return_value=initial_xml ), mock.patch.object( drvr, '_sev_enabled', new=mock.Mock(return_value=False) ) ): instance, drvr._get_volume_config ) get_volume_config.assert_called_with( instance, bdm['connection_info'], @mock.patch('nova.virt.libvirt.designer.set_driver_iommu_for_device') @mock.patch.object(libvirt_driver.LibvirtDriver, '_sev_enabled') mock_info, mock_build, mock_save, mock_sev_enabled, mock_designer_set_iommu, sev_enabled=False): mock_sev_enabled.return_value = sev_enabled if sev_enabled: mock_designer_set_iommu.assert_called_once_with(expected) def test_attach_interface_with_sev(self): self._test_attach_interface( power_state.RUNNING, (fakelibvirt.VIR_DOMAIN_AFFECT_CONFIG | fakelibvirt.VIR_DOMAIN_AFFECT_LIVE), sev_enabled=True) "," @mock.patch.object(designer, 'set_driver_iommu_for_sev') @mock.patch.object(designer, 'set_driver_iommu_for_sev') def test_get_volume_config(self, _set_cache_mode, get_config): connection_info = {'driver_volume_type': 'fake', 'data': {'device_path': '/fake', 'access_mode': 'rw'}} disk_info = {'bus': 'fake-bus', 'type': 'fake-type', 'dev': 'vdb'} config_guest_disk = self._fake_libvirt_config_guest_disk() get_config.return_value = copy.deepcopy(config_guest_disk) config = drvr._get_volume_config(connection_info, disk_info) get_config.assert_called_once_with(connection_info, disk_info) _set_cache_mode.assert_called_once_with(config) self.assertEqual(config_guest_disk.to_xml(), config.to_xml()) connection_info, disk_info) guest, migrate_data, mock.ANY, get_vif_config=None, new_resources=None) def fake_get_updated_guest_xml(guest, migrate_data, get_volume_config, get_vif_config=None, new_resources=None): mock.patch.object(drvr, '_get_volume_config', return_value=conf), mock.patch.object(guest, 'get_xml_desc', return_value=initial_xml)): config = libvirt_migrate.get_updated_guest_xml(guest, objects.LibvirtLiveMigrateData(bdms=[bdmi]), drvr._get_volume_config) mock.patch.object(drvr, '_get_volume_config', return_value=conf), mock.patch.object(guest, 'get_xml_desc', return_value=initial_xml)): config = libvirt_migrate.get_updated_guest_xml(guest, drvr._get_volume_config) mock.patch.object(drvr, '_get_volume_config', return_value=conf), mock.patch.object(guest, 'get_xml_desc', return_value=initial_xml)): drvr._get_volume_config) get_volume_config.assert_called_with(bdm['connection_info'], mock_info, mock_build, mock_save):",206,68
openstack%2Fneutron~stable%2Fvictoria~I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1,openstack/neutron,stable/victoria,I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1,Added common config and SR-IOV agent config to sanity check,MERGED,2021-06-11 14:55:10.000000000,2021-06-16 15:15:47.000000000,2021-06-16 15:06:37.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 14:55:10.000000000', 'files': ['neutron/tests/unit/cmd/test_sanity_check.py', 'neutron/cmd/sanity_check.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/136eb85382586356b45b9dd9ab5a4bd78a5f75c0', 'message': 'Added common config and SR-IOV agent config to sanity check\n\nAdded common config and SR-IOV agent config parameters to the sanity\ncheck script, to add the following missing configuration parameters:\n- default.notify_nova_on_port_status_changes\n- default.notify_nova_on_port_data_changes\n- sriov_nic.physical_device_mappings\n\nChange-Id: I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1\nCloses-Bug: #1926170\n(cherry picked from commit 28cd6c82e9a0dbf908eb4ece54085a975c2fe5d4)\n'}]",0,796033,136eb85382586356b45b9dd9ab5a4bd78a5f75c0,32,3,1,16688,,,0,"Added common config and SR-IOV agent config to sanity check

Added common config and SR-IOV agent config parameters to the sanity
check script, to add the following missing configuration parameters:
- default.notify_nova_on_port_status_changes
- default.notify_nova_on_port_data_changes
- sriov_nic.physical_device_mappings

Change-Id: I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1
Closes-Bug: #1926170
(cherry picked from commit 28cd6c82e9a0dbf908eb4ece54085a975c2fe5d4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/796033/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/cmd/test_sanity_check.py', 'neutron/cmd/sanity_check.py']",2,136eb85382586356b45b9dd9ab5a4bd78a5f75c0,bug/1926170,from neutron.conf import common as common_configfrom neutron.conf.plugins.ml2.drivers.mech_sriov import agent_common as \ sriov_conf sriov_conf.register_agent_sriov_nic_opts(cfg.CONF) common_config.register_core_common_config_opts(cfg.CONF),,12,4
openstack%2Fnova~master~I34a6b596109b076495cc84434a477bb643f81a66,openstack/nova,master,I34a6b596109b076495cc84434a477bb643f81a66,tests: Remove useless mocks,MERGED,2021-03-04 15:33:08.000000000,2021-06-16 15:15:24.000000000,2021-06-16 15:07:43.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 15:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad691f74f4f8e5602b36869aaf1ab9fb8b26a4c8', 'message': ""tests: Remove useless mocks\n\nCreating an instance is a cast rather than a call. We don't have the RPC\nfixture in place, which means these requests never make it as far as the\nDB and the mocks are essentially useless. That's okay, since we have\nfunctional tests to do something bigger.\n\nChange-Id: I34a6b596109b076495cc84434a477bb643f81a66\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-03-29 14:46:44.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1748bd25096d93e66473894999ae18d4a29d7137', 'message': ""tests: Remove useless mocks\n\nCreating an instance is a cast rather than a call. We don't have the RPC\nfixture in place, which means these requests never make it as far as the\nDB and the mocks are essentially useless. That's okay, since we have\nfunctional tests to do something bigger.\n\nChange-Id: I34a6b596109b076495cc84434a477bb643f81a66\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,778730,1748bd25096d93e66473894999ae18d4a29d7137,29,4,2,15334,,,0,"tests: Remove useless mocks

Creating an instance is a cast rather than a call. We don't have the RPC
fixture in place, which means these requests never make it as far as the
DB and the mocks are essentially useless. That's okay, since we have
functional tests to do something bigger.

Change-Id: I34a6b596109b076495cc84434a477bb643f81a66
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/778730/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/test_servers.py'],1,ad691f74f4f8e5602b36869aaf1ab9fb8b26a4c8,compute_rpc_6.0," fakes.stub_out_key_pair_funcs(self) self.assertEqual(CONF.password_length, len(server_dict[""adminPass""])) self.instance_cache_by_uuid = {} self.instance_cache_by_uuid = {} self.instance_cache_by_uuid = {} self.instance_cache_by_uuid = {}"," self.instance_cache_num = 0 self.instance_cache_by_id = {} self.instance_cache_by_uuid = {} def instance_create(context, inst): flavor = flavors.get_flavor_by_flavor_id(3) image_uuid = '76fa36fc-c930-4bf3-8c8a-ea2a2420deb6' def_image_ref = 'http://localhost/%s/images/%s' % (self.project_id, image_uuid) self.instance_cache_num += 1 instance = fake_instance.fake_db_instance(**{ 'id': self.instance_cache_num, 'display_name': inst['display_name'] or 'test', 'display_description': inst['display_description'] or '', 'uuid': FAKE_UUID, 'flavor': flavor, 'image_ref': inst.get('image_ref', def_image_ref), 'user_id': 'fake', 'project_id': fakes.FAKE_PROJECT_ID, 'reservation_id': inst['reservation_id'], ""created_at"": datetime.datetime(2010, 10, 10, 12, 0, 0), ""updated_at"": datetime.datetime(2010, 11, 11, 11, 0, 0), ""config_drive"": None, ""progress"": 0, ""fixed_ips"": [], ""task_state"": """", ""vm_state"": """", ""root_device_name"": inst.get('root_device_name', 'vda'), }) self.instance_cache_by_id[instance['id']] = instance self.instance_cache_by_uuid[instance['uuid']] = instance return instance def instance_get(context, instance_id): """"""Stub for compute/api create() pulling in instance after scheduling """""" return self.instance_cache_by_id[instance_id] def instance_update(context, uuid, values): instance = self.instance_cache_by_uuid[uuid] instance.update(values) return instance def server_update_and_get_original( context, instance_uuid, params, columns_to_join=None): inst = self.instance_cache_by_uuid[instance_uuid] inst.update(params) return (inst, inst) fakes.stub_out_key_pair_funcs(self) self.stub_out('nova.db.api.instance_create', instance_create) self.stub_out('nova.db.api.instance_system_metadata_update', lambda *a, **kw: None) self.stub_out('nova.db.api.instance_get', instance_get) self.stub_out('nova.db.api.instance_update', instance_update) self.stub_out('nova.db.api.instance_update_and_get_original', server_update_and_get_original) self.assertEqual(CONF.password_length, len(server_dict[""adminPass""])) self.instance_cache_num = 0 self.instance_cache_by_id = {} self.instance_cache_by_uuid = {}",9,64
openstack%2Fneutron~stable%2Frocky~I63221507713b941c261cdf88781133149da8ab8d,openstack/neutron,stable/rocky,I63221507713b941c261cdf88781133149da8ab8d,"Don't configure dnsmasq entries for ""network"" ports",MERGED,2021-02-23 20:20:57.000000000,2021-06-16 15:13:28.000000000,2021-06-16 15:06:07.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-02-23 20:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2b8d697e8626bd4ee8dcad2ce12dafb4b7ac79e', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\n* distributed ports,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nConflicts:\n    neutron/agent/linux/dhcp.py\n    neutron/agent/dhcp/agent.py\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)\n'}, {'number': 2, 'created': '2021-02-25 09:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be0e379857b6236177d33b7aaf334c2890ce998a', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\n* distributed ports,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nConflicts:\n    neutron/agent/linux/dhcp.py\n    neutron/agent/dhcp/agent.py\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)\n'}, {'number': 3, 'created': '2021-03-08 09:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/739d0024f2357ccaefc0286fe8eaf94df39b16c0', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nConflicts:\n    neutron/agent/linux/dhcp.py\n    neutron/agent/dhcp/agent.py\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)\n'}, {'number': 4, 'created': '2021-04-16 13:53:16.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'releasenotes/notes/do-not-create-dhcp-entries-for-all-types-of-ports-39c03b3782d2753e.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f662482489b62667759d05164013e2ef6b7da6d', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nConflicts:\n    neutron/agent/linux/dhcp.py\n    neutron/agent/dhcp/agent.py\n\n# Fix for Rocky gate (backports to other branches didn\'t really\n# that depends-on:\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/786657\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)\n'}]",0,777123,2f662482489b62667759d05164013e2ef6b7da6d,129,4,4,11975,,,0,"Don't configure dnsmasq entries for ""network"" ports

Ports with device_owner like:
* floating_ip,
* DHCP,
* some types of router ports, like: HA interface interface,
don't need to be configured in the dnsmasq file.
So there is no need to reload dnsmasq every time when such port is
added/updated to the network.

This patch adds skip in such case which should improve load on the
Neutron DHCP agent.

Conflicts:
    neutron/agent/linux/dhcp.py
    neutron/agent/dhcp/agent.py

# Fix for Rocky gate (backports to other branches didn't really
# that depends-on:
Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/786657

Closes-Bug: #1913269
Change-Id: I63221507713b941c261cdf88781133149da8ab8d
(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/777123/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'releasenotes/notes/do-not-create-dhcp-entries-for-all-types-of-ports-39c03b3782d2753e.yaml']",4,c2b8d697e8626bd4ee8dcad2ce12dafb4b7ac79e,bug/1913269-stable/stein-stable/rocky,"--- other: - | To improve performance of the DHCP agent, it will no longer configure the DHCP server for every port type created in Neutron. For example, for floating IP or router HA interfaces there is no need since a client will not make a DHCP request for them ",,46,0
openstack%2Fneutron~stable%2Fvictoria~Idb5921d69e794f5eace329ca7c401e56502b8520,openstack/neutron,stable/victoria,Idb5921d69e794f5eace329ca7c401e56502b8520,Remove tempest job with neutron-lib master from CI,MERGED,2021-03-04 13:53:36.000000000,2021-06-16 15:13:24.000000000,2021-06-16 15:05:32.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-03-04 13:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0fdafb924241b1feb54b176df961c63bef105817', 'message': ""Remove tempest job with neutron-lib master from CI\n\nIn master branch that job was moved to experimental queue in [1].\nIn stable branches there is absolutely no reason to run this job\nneighter in check nor experimental queue.\n\nThis patch also updates ci_scenario_jobs document to remove\nfrom the list jobs which aren't run in stable branches anymore.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/774061\n\nChange-Id: Idb5921d69e794f5eace329ca7c401e56502b8520\n""}, {'number': 2, 'created': '2021-06-05 10:53:51.000000000', 'files': ['zuul.d/project.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a7886497d08c9b1585608876d4e22bf11cab3ca9', 'message': ""Remove tempest job with neutron-lib master from CI\n\nIn master branch that job was moved to experimental queue in [1].\nIn stable branches there is absolutely no reason to run this job\nneighter in check nor experimental queue.\n\nThis patch also updates ci_scenario_jobs document to remove\nfrom the list jobs which aren't run in stable branches anymore.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/774061\n\nChange-Id: Idb5921d69e794f5eace329ca7c401e56502b8520\n""}]",0,778702,a7886497d08c9b1585608876d4e22bf11cab3ca9,15,6,2,11975,,,0,"Remove tempest job with neutron-lib master from CI

In master branch that job was moved to experimental queue in [1].
In stable branches there is absolutely no reason to run this job
neighter in check nor experimental queue.

This patch also updates ci_scenario_jobs document to remove
from the list jobs which aren't run in stable branches anymore.

[1] https://review.opendev.org/c/openstack/neutron/+/774061

Change-Id: Idb5921d69e794f5eace329ca7c401e56502b8520
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/778702/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst']",2,0fdafb924241b1feb54b176df961c63bef105817,improve-neutron-ci-stable/victoria,," |neutron-ovn-tempest-multinode-ovs-master |Various tempest api, scenario | 3.6 | 2 | ovn | ovn | --- | False | False | True | No | | |and neutron_tempest_plugi tests | | | | | | | | | | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-tempest-with-neutron-lib-master |tempest.api (without slow tests) | 3.6 | 1 | openvswitch | openvswitch | legacy | False | False | True | No | | |tempest.scenario | | | | | | | | | | | |(only tests related to | | | | | | | | | | | |Neutron and Nova) | | | | | | | | | | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+",0,11
openstack%2Fneutron~stable%2Ftrain~I0db516b184cf621e4539d11726fe1bd47b53ba05,openstack/neutron,stable/train,I0db516b184cf621e4539d11726fe1bd47b53ba05,Disable not used services in the tempest and rally jobs,MERGED,2021-03-04 14:53:42.000000000,2021-06-16 15:13:10.000000000,2021-06-16 15:05:48.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 14:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d5284415718bda11b6de0a383fff47645f89111a', 'message': ""Disable not used services in the tempest and rally jobs\n\nWe don't need to run Swift, Cinder and etcd services in the\nNeutron jobs so this patch disables those services on all\nsuch jobs defined in the Neutron repository.\nIt will skip some tests which aren't really related to Neutron\nand will safe some resources on test nodes.\n\nThis patch also enables br-ex-tcpdump and br-int-flows services\nin the jobs where it was missing.\nIt may be useful during debugging some failures of those jobs\nin the future.\n\nDepends-On: https://review.opendev.org/762622\n\nConflicts:\n    zuul.d/rally.yaml\n    zuul.d/tempest-multinode.yaml\n    zuul.d/tempest-singlenode.yaml\n    .zuul.yaml\n\nChange-Id: I0db516b184cf621e4539d11726fe1bd47b53ba05\n(cherry picked from commit 747ac575249c57fe9fe70413e3a75fe81f18c946)\n""}, {'number': 2, 'created': '2021-03-05 13:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/95642ab53f710eac9b7e76eb7b086f0663da85b0', 'message': ""Disable not used services in the tempest and rally jobs\n\nWe don't need to run Swift, Cinder and etcd services in the\nNeutron jobs so this patch disables those services on all\nsuch jobs defined in the Neutron repository.\nIt will skip some tests which aren't really related to Neutron\nand will safe some resources on test nodes.\n\nThis patch also enables br-ex-tcpdump and br-int-flows services\nin the jobs where it was missing.\nIt may be useful during debugging some failures of those jobs\nin the future.\n\nDepends-On: https://review.opendev.org/762622\n\nConflicts:\n    zuul.d/rally.yaml\n    zuul.d/tempest-multinode.yaml\n    zuul.d/tempest-singlenode.yaml\n    .zuul.yaml\n\nChange-Id: I0db516b184cf621e4539d11726fe1bd47b53ba05\n(cherry picked from commit 747ac575249c57fe9fe70413e3a75fe81f18c946)\n""}, {'number': 3, 'created': '2021-03-12 10:53:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8cddfc969e469964450bad0ac95f23677fe5c991', 'message': ""Disable not used services in the tempest and rally jobs\n\nWe don't need to run Swift, Cinder and etcd services in the\nNeutron jobs so this patch disables those services on all\nsuch jobs defined in the Neutron repository.\nIt will skip some tests which aren't really related to Neutron\nand will safe some resources on test nodes.\n\nThis patch also enables br-ex-tcpdump and br-int-flows services\nin the jobs where it was missing.\nIt may be useful during debugging some failures of those jobs\nin the future.\n\nDepends-On: https://review.opendev.org/762622\n\nConflicts:\n    zuul.d/rally.yaml\n    zuul.d/tempest-multinode.yaml\n    zuul.d/tempest-singlenode.yaml\n    .zuul.yaml\n\nChange-Id: I0db516b184cf621e4539d11726fe1bd47b53ba05\n(cherry picked from commit 747ac575249c57fe9fe70413e3a75fe81f18c946)\n""}]",2,778716,8cddfc969e469964450bad0ac95f23677fe5c991,20,3,3,11975,,,0,"Disable not used services in the tempest and rally jobs

We don't need to run Swift, Cinder and etcd services in the
Neutron jobs so this patch disables those services on all
such jobs defined in the Neutron repository.
It will skip some tests which aren't really related to Neutron
and will safe some resources on test nodes.

This patch also enables br-ex-tcpdump and br-int-flows services
in the jobs where it was missing.
It may be useful during debugging some failures of those jobs
in the future.

Depends-On: https://review.opendev.org/762622

Conflicts:
    zuul.d/rally.yaml
    zuul.d/tempest-multinode.yaml
    zuul.d/tempest-singlenode.yaml
    .zuul.yaml

Change-Id: I0db516b184cf621e4539d11726fe1bd47b53ba05
(cherry picked from commit 747ac575249c57fe9fe70413e3a75fe81f18c946)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/778716/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d5284415718bda11b6de0a383fff47645f89111a,improve-neutron-ci-stable/train, # Cinder services c-api: false c-bak: false c-sch: false c-vol: false cinder: false # Swift services s-account: false s-container: false s-object: false s-proxy: false devstack_services: # Cinder services c-api: false c-bak: false c-sch: false c-vol: false cinder: false # Swift services s-account: false s-container: false s-object: false s-proxy: false # Cinder services c-api: false c-bak: false c-sch: false c-vol: false cinder: false # Swift services s-account: false s-container: false s-object: false s-proxy: false devstack_services: # Cinder services c-api: false c-bak: false c-sch: false c-vol: false cinder: false # Swift services s-account: false s-container: false s-object: false s-proxy: false,,46,0
openstack%2Fnova~stable%2Fvictoria~I11131a3f90b8af85e7151b519fb26d225629c391,openstack/nova,stable/victoria,I11131a3f90b8af85e7151b519fb26d225629c391,libvirt: Set driver_iommu when attaching virtio devices to SEV instance,NEW,2021-06-16 09:18:59.000000000,2021-06-16 15:10:55.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 09:18:59.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_designer.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/virt/libvirt/designer.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4985667efced966d0a47ac9f8d31d73ae7409b0a', 'message': 'libvirt: Set driver_iommu when attaching virtio devices to SEV instance\n\nAs called out in the original spec [1] virtio devices attached to a SEV\nenabled instance must have the iommu attribute enabled. This was done\nwithin the original implementation of the spec for all virtio devices\ndefined when initially spawning the instance but does not include volume\nand interfaces that are later hot plugged.\n\nThis change corrects this for both volumes and nics and in doing so\nslightly refactors the original designer code to make it usable in both\ncases.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/implemented/amd-sev-libvirt-support.html#proposed-change\n\nNOTE(lyarwood): Conflicts caused by I45f1df4935905170957c2ea2496c8a698a7464a2\nand I017083b27cd9d145eecb01106388d4ce880ba823 not being present on\nstable/victoria.\n\nConflicts:\n  nova/tests/unit/virt/libvirt/test_driver.py\n  nova/virt/libvirt/driver.py\n\nCloses-Bug: #1930734\nChange-Id: I11131a3f90b8af85e7151b519fb26d225629c391\n(cherry picked from commit 4d8bf15fec15dc3416023e577e0f2c277c216506)\n(cherry picked from commit 5d65680095298764466af532381b81b604429426)\n'}]",5,796611,4985667efced966d0a47ac9f8d31d73ae7409b0a,6,2,1,10135,,,0,"libvirt: Set driver_iommu when attaching virtio devices to SEV instance

As called out in the original spec [1] virtio devices attached to a SEV
enabled instance must have the iommu attribute enabled. This was done
within the original implementation of the spec for all virtio devices
defined when initially spawning the instance but does not include volume
and interfaces that are later hot plugged.

This change corrects this for both volumes and nics and in doing so
slightly refactors the original designer code to make it usable in both
cases.

[1] https://specs.openstack.org/openstack/nova-specs/specs/train/implemented/amd-sev-libvirt-support.html#proposed-change

NOTE(lyarwood): Conflicts caused by I45f1df4935905170957c2ea2496c8a698a7464a2
and I017083b27cd9d145eecb01106388d4ce880ba823 not being present on
stable/victoria.

Conflicts:
  nova/tests/unit/virt/libvirt/test_driver.py
  nova/virt/libvirt/driver.py

Closes-Bug: #1930734
Change-Id: I11131a3f90b8af85e7151b519fb26d225629c391
(cherry picked from commit 4d8bf15fec15dc3416023e577e0f2c277c216506)
(cherry picked from commit 5d65680095298764466af532381b81b604429426)
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/796611/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_designer.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/virt/libvirt/designer.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",6,4985667efced966d0a47ac9f8d31d73ae7409b0a,bug/1930734," @mock.patch.object(designer, 'set_driver_iommu_for_all_devices') @mock.patch.object(designer, 'set_driver_iommu_for_all_devices') @mock.patch.object(libvirt_driver.LibvirtDriver, '_sev_enabled', new=mock.Mock(return_value=False)) def test_get_volume_config(self, mock_set_cache_mode, mock_get_config): instance = objects.Instance(**self.test_instance) connection_info = { 'driver_volume_type': 'fake', 'data': { 'device_path': '/fake', 'access_mode': 'rw' } } generated_config = self._fake_libvirt_config_guest_disk() mock_get_config.return_value = copy.deepcopy(generated_config) returned_config = drvr._get_volume_config( instance, connection_info, mock.sentinel.disk_info) mock_get_config.assert_called_once_with( connection_info, mock.sentinel.disk_info) mock_set_cache_mode.assert_called_once_with(returned_config) self.assertEqual(generated_config.to_xml(), returned_config.to_xml()) @mock.patch.object(libvirt_driver.LibvirtDriver, '_sev_enabled', new=mock.Mock(return_value=True)) @mock.patch.object(libvirt_driver.LibvirtDriver, '_set_cache_mode', new=mock.Mock()) @mock.patch.object(volume_drivers.LibvirtFakeVolumeDriver, 'get_config') def test_get_volume_config_sev(self, mock_get_config): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) instance = objects.Instance(**self.test_instance) connection_info = { 'driver_volume_type': 'fake', 'data': { 'device_path': '/fake', 'access_mode': 'rw' } } generated_config = self._fake_libvirt_config_guest_disk() generated_config.target_bus = 'virtio' mock_get_config.return_value = copy.deepcopy(generated_config) returned_config = drvr._get_volume_config( instance, connection_info, mock.sentinel.disk_info) # Assert that driver_iommu is enabled for this virtio volume self.assertTrue(returned_config.driver_iommu) instance, connection_info, disk_info) instance_ref, guest, migrate_data, mock.ANY, get_vif_config=None, new_resources=None ) def fake_get_updated_guest_xml( instance, guest, migrate_data, get_volume_config, get_vif_config=None, new_resources=None ): instance = objects.Instance(**self.test_instance) mock.patch.object( drvr, '_get_volume_config', return_value=conf ), mock.patch.object( guest, 'get_xml_desc', return_value=initial_xml ), mock.patch.object( drvr, '_sev_enabled', new=mock.Mock(return_value=False) ) ): config = libvirt_migrate.get_updated_guest_xml( instance, guest, objects.LibvirtLiveMigrateData( bdms=[bdmi], serial_listen_addr='127.0.0.1', serial_listen_ports=[1234] ), drvr._get_volume_config ) instance = objects.Instance(**self.test_instance) mock.patch.object( drvr, '_get_volume_config', return_value=conf ), mock.patch.object( guest, 'get_xml_desc', return_value=initial_xml ), mock.patch.object( drvr, '_sev_enabled', new=mock.Mock(return_value=False) ) ): config = libvirt_migrate.get_updated_guest_xml( instance, guest, serial_listen_ports = [1234] ), drvr._get_volume_config ) instance = objects.Instance(**self.test_instance) mock.patch.object( drvr, '_get_volume_config', return_value=conf ), mock.patch.object( guest, 'get_xml_desc', return_value=initial_xml ), mock.patch.object( drvr, '_sev_enabled', new=mock.Mock(return_value=False) ) ): instance, serial_listen_ports=[1234] ), drvr._get_volume_config ) get_volume_config.assert_called_with( instance, bdm['connection_info'], @mock.patch('nova.virt.libvirt.designer.set_driver_iommu_for_device') @mock.patch.object(libvirt_driver.LibvirtDriver, '_sev_enabled') mock_info, mock_build, mock_save, mock_sev_enabled, mock_designer_set_iommu, sev_enabled=False): mock_sev_enabled.return_value = sev_enabled if sev_enabled: mock_designer_set_iommu.assert_called_once_with(expected) def test_attach_interface_with_sev(self): self._test_attach_interface( power_state.RUNNING, (fakelibvirt.VIR_DOMAIN_AFFECT_CONFIG | fakelibvirt.VIR_DOMAIN_AFFECT_LIVE), sev_enabled=True) "," @mock.patch.object(designer, 'set_driver_iommu_for_sev') @mock.patch.object(designer, 'set_driver_iommu_for_sev') def test_get_volume_config(self, _set_cache_mode, get_config): connection_info = {'driver_volume_type': 'fake', 'data': {'device_path': '/fake', 'access_mode': 'rw'}} disk_info = {'bus': 'fake-bus', 'type': 'fake-type', 'dev': 'vdb'} config_guest_disk = self._fake_libvirt_config_guest_disk() get_config.return_value = copy.deepcopy(config_guest_disk) config = drvr._get_volume_config(connection_info, disk_info) get_config.assert_called_once_with(connection_info, disk_info) _set_cache_mode.assert_called_once_with(config) self.assertEqual(config_guest_disk.to_xml(), config.to_xml()) connection_info, disk_info) guest, migrate_data, mock.ANY, get_vif_config=None, new_resources=None) def fake_get_updated_guest_xml(guest, migrate_data, get_volume_config, get_vif_config=None, new_resources=None): mock.patch.object(drvr, '_get_volume_config', return_value=conf), mock.patch.object(guest, 'get_xml_desc', return_value=initial_xml)): config = libvirt_migrate.get_updated_guest_xml(guest, objects.LibvirtLiveMigrateData( bdms=[bdmi], serial_listen_addr='127.0.0.1', serial_listen_ports=[1234]), drvr._get_volume_config) mock.patch.object(drvr, '_get_volume_config', return_value=conf), mock.patch.object(guest, 'get_xml_desc', return_value=initial_xml)): config = libvirt_migrate.get_updated_guest_xml(guest, serial_listen_ports = [1234]), drvr._get_volume_config) mock.patch.object(drvr, '_get_volume_config', return_value=conf), mock.patch.object(guest, 'get_xml_desc', return_value=initial_xml)): serial_listen_ports=[1234]), drvr._get_volume_config) get_volume_config.assert_called_with(bdm['connection_info'], mock_info, mock_build, mock_save):",214,73
openstack%2Fneutron-tempest-plugin~master~Ia83b5f7958a4a12119e52c6fa9a06452fbec7bd6,openstack/neutron-tempest-plugin,master,Ia83b5f7958a4a12119e52c6fa9a06452fbec7bd6,New API test for subnet's service types,MERGED,2021-04-23 12:02:19.000000000,2021-06-16 15:05:18.000000000,2021-06-16 15:05:18.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-23 12:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e8436e3e3a144fad85eeca4efd44224425a43ff3', 'message': ""New API test for subnet's service types\n\nThis new test creates 2 subnets with different service_types set, then\nit creates 2 ports with device_owner matching those service types and\nensures that each port has got IP address associated from the correct\nsubnet.\n\nChange-Id: Ia83b5f7958a4a12119e52c6fa9a06452fbec7bd6\n""}, {'number': 2, 'created': '2021-06-08 10:18:18.000000000', 'files': ['neutron_tempest_plugin/api/test_subnets.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2e68c7aa20eaa1998a84ef0e040ff36abeb3eb13', 'message': ""New API test for subnet's service types\n\nThis new test creates 2 subnets with different service_types set, then\nit creates 2 ports with device_owner matching those service types and\nensures that each port has got IP address associated from the correct\nsubnet.\n\nChange-Id: Ia83b5f7958a4a12119e52c6fa9a06452fbec7bd6\n""}]",0,787718,2e68c7aa20eaa1998a84ef0e040ff36abeb3eb13,15,5,2,11975,,,0,"New API test for subnet's service types

This new test creates 2 subnets with different service_types set, then
it creates 2 ports with device_owner matching those service types and
ensures that each port has got IP address associated from the correct
subnet.

Change-Id: Ia83b5f7958a4a12119e52c6fa9a06452fbec7bd6
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/18/787718/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_subnets.py'],1,e8436e3e3a144fad85eeca4efd44224425a43ff3,subnet-service-types,"import netaddr class SubnetServiceTypeTestJSON(base.BaseNetworkTest): required_extensions = ['service-type'] @classmethod def resource_setup(cls): super(SubnetServiceTypeTestJSON, cls).resource_setup() cls.network = cls.create_network() @decorators.idempotent_id('7e0edb66-1bb2-4473-ab83-d039cddced0d') def test_allocate_ips_are_from_correct_subnet(self): cidr_1 = netaddr.IPNetwork('192.168.1.0/24') cidr_2 = netaddr.IPNetwork('192.168.2.0/24') self.create_subnet(self.network, service_types=['test:type_1'], cidr=str(cidr_1)) self.create_subnet(self.network, service_types=['test:type_2'], cidr=str(cidr_2)) port_type_1 = self.create_port(self.network, device_owner=""test:type_1"") port_type_2 = self.create_port(self.network, device_owner=""test:type_2"") self.assertEqual(1, len(port_type_1['fixed_ips'])) self.assertEqual(1, len(port_type_2['fixed_ips'])) self.assertIn( netaddr.IPAddress(port_type_1['fixed_ips'][0]['ip_address']), cidr_1) self.assertIn( netaddr.IPAddress(port_type_2['fixed_ips'][0]['ip_address']), cidr_2)",,36,0
openstack%2Freleases~master~I6a144d78a3dd275b11d7dfbe2859e992794ffd74,openstack/releases,master,I6a144d78a3dd275b11d7dfbe2859e992794ffd74,Adding more way to determine the deliverable type,ABANDONED,2021-06-16 14:23:27.000000000,2021-06-16 14:52:39.000000000,,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 14:23:27.000000000', 'files': ['openstack_releases/puppetutils.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/e08e22644d0568f7aa51c4e81e383425997db2ed', 'message': 'Adding more way to determine the deliverable type\n\nWe faced issue with puppet-panko that has been recently retired [1] and our\nmachinery search for puppet module in the repo content to determine the\ndeliverable type.\n\nPuppet repositories names are standardized, use the name to allow us to\ndetermine the deliverable type when a repo is retired.\n\n[1] https://review.opendev.org/c/openstack/releases/+/792820\n\nChange-Id: I6a144d78a3dd275b11d7dfbe2859e992794ffd74\n'}]",0,796683,e08e22644d0568f7aa51c4e81e383425997db2ed,4,2,1,28522,,,0,"Adding more way to determine the deliverable type

We faced issue with puppet-panko that has been recently retired [1] and our
machinery search for puppet module in the repo content to determine the
deliverable type.

Puppet repositories names are standardized, use the name to allow us to
determine the deliverable type when a repo is retired.

[1] https://review.opendev.org/c/openstack/releases/+/792820

Change-Id: I6a144d78a3dd275b11d7dfbe2859e992794ffd74
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/796683/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/puppetutils.py'],1,e08e22644d0568f7aa51c4e81e383425997db2ed,fix-deliverable-type,"import fnmatch fnmatch.fnmatch(repo, ""*puppet-*"")",,2,0
openstack%2Fcharm-swift-proxy~master~I97b20f0f8eaae99b2ca75e283f4a2c29be871198,openstack/charm-swift-proxy,master,I97b20f0f8eaae99b2ca75e283f4a2c29be871198,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-05 18:48:02.000000000,2021-06-16 14:48:46.000000000,2021-06-16 14:48:46.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-05 18:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/44be3a9025e6609e129a71b1d58593a15f7e3f27', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I97b20f0f8eaae99b2ca75e283f4a2c29be871198\n'}, {'number': 2, 'created': '2021-03-30 18:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/d883f74135ca657aa4aee7ab3ab00ad1390133e6', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nChange-Id: I97b20f0f8eaae99b2ca75e283f4a2c29be871198\n'}, {'number': 3, 'created': '2021-04-07 13:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/5618d6f5f1fbff306538ef8389a4baa674a0b488', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nChange-Id: I97b20f0f8eaae99b2ca75e283f4a2c29be871198\n'}, {'number': 4, 'created': '2021-04-16 11:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/42a0d36d414384c9f8da999d42a7eef2098361ac', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I97b20f0f8eaae99b2ca75e283f4a2c29be871198\n'}, {'number': 5, 'created': '2021-06-15 12:44:07.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/b086bc94b94f969aff5f5c6470bfd8ba1ee1efc5', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I97b20f0f8eaae99b2ca75e283f4a2c29be871198\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",1,779029,b086bc94b94f969aff5f5c6470bfd8ba1ee1efc5,26,5,5,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Change-Id: I97b20f0f8eaae99b2ca75e283f4a2c29be871198
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/29/779029/5 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml']",4,44be3a9025e6609e129a71b1d58593a15f7e3f27,wallaby-bundles,"variables: openstack-origin: &openstack-origin cloud:focal-wallaby series: focal comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: expose: True charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '3' swift-proxy: charm: swift-proxy num_units: 1 options: zone-assignment: manual replicas: 1 swift-hash: fdfef9d4-8b06-11e2-8ac0-531c923c8fae openstack-origin: *openstack-origin to: - '4' glance: expose: True charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '5' swift-storage: charm: cs:~openstack-charmers-next/swift-storage num_units: 1 storage: block-devices: 'cinder,10G' options: zone: 1 openstack-origin: *openstack-origin to: - '6' relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'swift-proxy:identity-service' - 'keystone:identity-service' - - 'swift-storage:swift-storage' - 'swift-proxy:swift-storage' - - 'glance:object-store' - 'swift-proxy:object-store' ",,227,1
openstack%2Fpuppet-openstacklib~master~I63c96cd92bad210c0a9527c59f8e1347967172a3,openstack/puppet-openstacklib,master,I63c96cd92bad210c0a9527c59f8e1347967172a3,Drop Fedora support,MERGED,2021-05-26 14:06:43.000000000,2021-06-16 14:37:47.000000000,2021-05-27 17:55:11.000000000,"[{'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-26 14:06:43.000000000', 'files': ['metadata.json', 'spec/classes/openstacklib_openstackclient_spec.rb', 'manifests/defaults.pp', 'releasenotes/notes/drop-fedora-66989e6f7049e5bd.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/f0b36283fe663edb3d612870d2cf97386b27ce76', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I63c96cd92bad210c0a9527c59f8e1347967172a3\n""}]",0,793163,f0b36283fe663edb3d612870d2cf97386b27ce76,9,4,1,9816,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I63c96cd92bad210c0a9527c59f8e1347967172a3
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/63/793163/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'spec/classes/openstacklib_openstackclient_spec.rb', 'manifests/defaults.pp', 'releasenotes/notes/drop-fedora-66989e6f7049e5bd.yaml']",4,f0b36283fe663edb3d612870d2cf97386b27ce76,drop-fedora,--- upgrade: - | Fedora is no longer supported. ,,6,17
openstack%2Freleases~master~I0f9d39d5b9da342f244ea6bcbd9e749148760143,openstack/releases,master,I0f9d39d5b9da342f244ea6bcbd9e749148760143,Push validations-common 1.2.0 min version,MERGED,2021-06-14 08:26:16.000000000,2021-06-16 14:31:21.000000000,2021-06-16 14:31:21.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-14 08:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/069fc1ae2ea562a2becf654209de3310cc4df5d4', 'message': 'Push validations-common 1.1.2 min version\n\nChange-Id: I0f9d39d5b9da342f244ea6bcbd9e749148760143\n'}, {'number': 2, 'created': '2021-06-14 08:45:13.000000000', 'files': ['deliverables/_independent/validations-common.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9d2501594025fc3c48d7fe4d1338e76d66d66fb9', 'message': 'Push validations-common 1.2.0 min version\n\nBumping directly to 1.2.0 in order to be in line with\nvalidations-libs new release.\n\nChange-Id: I0f9d39d5b9da342f244ea6bcbd9e749148760143\n'}]",1,796243,9d2501594025fc3c48d7fe4d1338e76d66d66fb9,18,7,2,16515,,,0,"Push validations-common 1.2.0 min version

Bumping directly to 1.2.0 in order to be in line with
validations-libs new release.

Change-Id: I0f9d39d5b9da342f244ea6bcbd9e749148760143
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/796243/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/validations-common.yaml'],1,069fc1ae2ea562a2becf654209de3310cc4df5d4,vf/1.2.0, - projects: - hash: 35f34ffdabe5869a612c2d266bdb01222fba428e repo: openstack/validations-common version: 1.1.2,,4,0
openstack%2Ftripleo-validations~master~I29b39ae1a3980b0b79f19f41e95a0c689b51d189,openstack/tripleo-validations,master,I29b39ae1a3980b0b79f19f41e95a0c689b51d189,[WIP] Check upgrades RHELOSP major and puddle versions post upgrade,ABANDONED,2021-04-03 21:27:43.000000000,2021-06-16 14:22:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-03 21:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c53b013855b51d8535dd423556c3013d6438cec0', 'message': '[WIP] Check upgrades RHELOSP major and puddle versions post upgrade (retry)\n\nNOTE: this is a quick retry of review [1] to determine\nroot-cause of recent intermittent Zuul failures.\n\nCheck that the RHELOSP Major release version and puddle version match\n\nIntial check is to use contents of two files, for example:\n\n[stack@site-undercloud-0 ~]$ cat /etc/rhosp-release\nRed Hat OpenStack Platform release 13.0.6 (Queens)\n\n[stack@site-undercloud-0 ~]$ cat core_puddle_version\n2019-04-23.1\n\n[1] https://review.opendev.org/c/openstack/tripleo-validations/+/783985\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I29b39ae1a3980b0b79f19f41e95a0c689b51d189\n'}, {'number': 2, 'created': '2021-04-03 21:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b044e4817a296a81d04ee529178bbeefbe81512f', 'message': '[WIP] Check upgrades RHELOSP major and puddle versions post upgrade (retry)\n\nNOTE: this is a quick retry of review [1] to determine\nroot-cause of recent intermittent Zuul failures.\n\nCheck that the RHELOSP Major release version and puddle version match\n\nIntial check is to use contents of two files, for example:\n\n[stack@site-undercloud-0 ~]$ cat /etc/rhosp-release\nRed Hat OpenStack Platform release 13.0.6 (Queens)\n\n[stack@site-undercloud-0 ~]$ cat core_puddle_version\n2019-04-23.1\n\n[1] https://review.opendev.org/c/openstack/tripleo-validations/+/783985\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I29b39ae1a3980b0b79f19f41e95a0c689b51d189\n'}, {'number': 3, 'created': '2021-04-05 14:27:34.000000000', 'files': ['roles/check_major_vs_puddle/vars/main.yml', 'zuul.d/molecule.yaml', 'roles/check_major_vs_puddle/molecule/default/Dockerfile', 'roles/check_major_vs_puddle/molecule/default/converge.yml', 'roles/check_major_vs_puddle/handlers/main.yml', 'roles/check_major_vs_puddle/molecule/default/molecule.yml', 'roles/check_major_vs_puddle/tasks/main.yml', 'roles/check_major_vs_puddle/defaults/main.yml', 'doc/source/roles/role-check_major_vs_puddle.rst', 'playbooks/check-major-vs-puddle.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ab63719f50ec9dac21924457e682b89162e19719', 'message': '[WIP] Check upgrades RHELOSP major and puddle versions post upgrade\n\nCheck that the RHELOSP Major release version and puddle version match\n\nIntial check is to use contents of two files, for example:\n\n[stack@site-undercloud-0 ~]$ cat /etc/rhosp-release\nRed Hat OpenStack Platform release 13.0.6 (Queens)\n\n[stack@site-undercloud-0 ~]$ cat core_puddle_version\n2019-04-23.1\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I29b39ae1a3980b0b79f19f41e95a0c689b51d189\n'}]",0,784701,ab63719f50ec9dac21924457e682b89162e19719,6,1,3,32432,,,0,"[WIP] Check upgrades RHELOSP major and puddle versions post upgrade

Check that the RHELOSP Major release version and puddle version match

Intial check is to use contents of two files, for example:

[stack@site-undercloud-0 ~]$ cat /etc/rhosp-release
Red Hat OpenStack Platform release 13.0.6 (Queens)

[stack@site-undercloud-0 ~]$ cat core_puddle_version
2019-04-23.1

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Change-Id: I29b39ae1a3980b0b79f19f41e95a0c689b51d189
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/01/784701/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_major_vs_puddle/vars/main.yml', 'zuul.d/molecule.yaml', 'roles/check_major_vs_puddle/molecule/default/Dockerfile', 'roles/check_major_vs_puddle/molecule/default/converge.yml', 'roles/check_major_vs_puddle/handlers/main.yml', 'roles/check_major_vs_puddle/molecule/default/molecule.yml', 'roles/check_major_vs_puddle/tasks/main.yml', 'doc/source/roles/role-check_major_vs_puddle.rst', 'roles/check_major_vs_puddle/defaults/main.yml', 'playbooks/check-major-vs-puddle.yaml']",10,c53b013855b51d8535dd423556c3013d6438cec0,check_major_vs_puddle_post_validation_retry,--- - hosts: undercloud gather_facts: false vars: metadata: name: Check upgrades RHELOSP major and puddle versions post upgrade description: | Check upgrades RHELOSP major and puddle versions post upgrade groups: - post-upgrade - post-update check_major_vs_puddle_debug: false roles: - check_major_vs_puddle ,,211,0
openstack%2Fironic~bugfix%2F18.0~I4e7d2a555eff48ee164d4ecce53156bacbc68da4,openstack/ironic,bugfix/18.0,I4e7d2a555eff48ee164d4ecce53156bacbc68da4,Handle non-key-value params in [inspector]extra_kernel_params,MERGED,2021-06-16 12:07:11.000000000,2021-06-16 14:22:45.000000000,2021-06-16 13:33:08.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-16 12:07:11.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/image_utils.py', 'ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/common/pxe_utils.py', 'releasenotes/notes/inspector-kernel-params-6db82c633d7361e2.yaml', 'ironic/drivers/modules/inspector.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fd3df86e0dcbf040fa1599ac00fc7447cc70cef6', 'message': 'Handle non-key-value params in [inspector]extra_kernel_params\n\nSince we use a dict for passing them internally, use None value for\nsingle-value params.\n\nChange-Id: I4e7d2a555eff48ee164d4ecce53156bacbc68da4\nStory: #2008963\nTask: #42599\n(cherry picked from commit 3824912f0a54d5fc9d58e9d5bedf316fcdab560a)\n'}]",0,796570,fd3df86e0dcbf040fa1599ac00fc7447cc70cef6,10,2,1,10239,,,0,"Handle non-key-value params in [inspector]extra_kernel_params

Since we use a dict for passing them internally, use None value for
single-value params.

Change-Id: I4e7d2a555eff48ee164d4ecce53156bacbc68da4
Story: #2008963
Task: #42599
(cherry picked from commit 3824912f0a54d5fc9d58e9d5bedf316fcdab560a)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/70/796570/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/image_utils.py', 'ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/common/pxe_utils.py', 'releasenotes/notes/inspector-kernel-params-6db82c633d7361e2.yaml', 'ironic/drivers/modules/inspector.py', 'ironic/tests/unit/common/test_pxe_utils.py']",7,fd3df86e0dcbf040fa1599ac00fc7447cc70cef6,kernel-params-bugfix/18.0,"import collections self._test_build_pxe_config_options_pxe( whle_dsk_img=True, ramdisk_params=collections.OrderedDict([('foo', 'bar'), ('banana', None)]), expected_pxe_params='test_param foo=bar banana')"," if ramdisk_params: expected_pxe_params += ' ' + ' '.join( '%s=%s' % tpl for tpl in ramdisk_params.items()) self._test_build_pxe_config_options_pxe(whle_dsk_img=True, ramdisk_params={'foo': 'bar'})",45,17
openstack%2Ftripleo-quickstart~master~Iece9762af6414bbaa2f78c96eb1fdba18b93a269,openstack/tripleo-quickstart,master,Iece9762af6414bbaa2f78c96eb1fdba18b93a269,Fix docker registry to use quay.io,ABANDONED,2021-02-12 21:54:53.000000000,2021-06-16 14:21:05.000000000,,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-02-12 21:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/17739715df7492cb54d19266e842f079b4443719', 'message': 'Fix docker registry to use quay.io\n\nReplace docker.io with quay.io\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: Iece9762af6414bbaa2f78c96eb1fdba18b93a269\n'}, {'number': 2, 'created': '2021-02-23 20:40:39.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/consistent-rocky.yml', 'config/release/tripleo-ci/CentOS-7/consistent-queens.yml', 'config/release/trunk/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-7/train.yml', 'config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/trunk/train.yml', 'config/release/centosci/train-current-tripleo.yml', 'config/release/trunk/master.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/trunk/victoria.yml', 'config/release/tripleo-ci/CentOS-7/queens.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a18bba157132829927a5d0d2a6525b7a0a31b651', 'message': 'Fix docker registry to use quay.io\n\nReplace docker.io with quay.io\n\nWithout this change - we get the following error about ""pull rate limit"" using docker.io:\n\n""Error starting project toomanyrequests:\n You have reached your pull rate limit.\n You may increase the limit by authenticating and upgrading: https://www.docker.com/increase-rate-limit""\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: Iece9762af6414bbaa2f78c96eb1fdba18b93a269\n'}]",2,775450,a18bba157132829927a5d0d2a6525b7a0a31b651,21,7,2,32432,,,0,"Fix docker registry to use quay.io

Replace docker.io with quay.io

Without this change - we get the following error about ""pull rate limit"" using docker.io:

""Error starting project toomanyrequests:
 You have reached your pull rate limit.
 You may increase the limit by authenticating and upgrading: https://www.docker.com/increase-rate-limit""

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Change-Id: Iece9762af6414bbaa2f78c96eb1fdba18b93a269
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/50/775450/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-7/consistent-rocky.yml', 'config/release/tripleo-ci/CentOS-7/consistent-queens.yml', 'config/release/trunk/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-7/train.yml', 'config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/trunk/train.yml', 'config/release/centosci/train-current-tripleo.yml', 'config/release/trunk/master.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/trunk/victoria.yml', 'config/release/tripleo-ci/CentOS-7/queens.yml']",13,17739715df7492cb54d19266e842f079b4443719,fix_docker_registry,"docker_registry_host: ""{{ job.build_container_images|default(false)|bool | ternary('127.0.0.1:5001', 'quay.io') }}""","docker_registry_host: ""{{ job.build_container_images|default(false)|bool | ternary('127.0.0.1:5001', 'docker.io') }}""",13,13
openstack%2Fpuppet-cinder~stable%2Fwallaby~Ib913f0fe20af74c9a21875c6a7b497dfa2c30880,openstack/puppet-cinder,stable/wallaby,Ib913f0fe20af74c9a21875c6a7b497dfa2c30880,TripleO: Reduce tempest test scope,MERGED,2021-05-23 07:26:19.000000000,2021-06-16 14:08:41.000000000,2021-06-16 14:08:41.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-23 07:26:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/8b2b7212e2388b199c28ca3b36e7d5be1bbd3e14', 'message': 'TripleO: Reduce tempest test scope\n\nThis change reduces scope of tempest tests in tripleo job, so that we\nrun only subset of test cases used in TripleO repos.\n\nChange-Id: Ib913f0fe20af74c9a21875c6a7b497dfa2c30880\n(cherry picked from commit 6bb2ecec0f0226fb7e9b57b37fc63ca4e544fdd3)\n'}]",0,792669,8b2b7212e2388b199c28ca3b36e7d5be1bbd3e14,14,3,1,9816,,,0,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests in tripleo job, so that we
run only subset of test cases used in TripleO repos.

Change-Id: Ib913f0fe20af74c9a21875c6a7b497dfa2c30880
(cherry picked from commit 6bb2ecec0f0226fb7e9b57b37fc63ca4e544fdd3)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/69/792669/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8b2b7212e2388b199c28ca3b36e7d5be1bbd3e14,tripleo-tempest, - 'tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern' - 'tempest.scenario.test_snapshot_pattern.TestSnapshotPattern.test_snapshot_pattern', - 'tempest.api.volume' - 'tempest.scenario.test_volume_boot_pattern' - 'cinder_tempest_plugin.api',2,3
openstack%2Fdesignate~master~Ice5f9dd2e0381f11990743ac0ecf507114271af2,openstack/designate,master,Ice5f9dd2e0381f11990743ac0ecf507114271af2,Align Python version test coverage with designateclient,ABANDONED,2020-10-14 12:26:43.000000000,2021-06-16 13:45:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-10-14 12:26:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/8a723f79456fe90e20ed0ea6bdb95f5a9a51702f', 'message': 'Align Python version test coverage with designateclient\n\nChange-Id: Ice5f9dd2e0381f11990743ac0ecf507114271af2\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}]",0,758102,8a723f79456fe90e20ed0ea6bdb95f5a9a51702f,3,1,1,19298,,,0,"Align Python version test coverage with designateclient

Change-Id: Ice5f9dd2e0381f11990743ac0ecf507114271af2
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
",git fetch https://review.opendev.org/openstack/designate refs/changes/02/758102/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8a723f79456fe90e20ed0ea6bdb95f5a9a51702f,pyenv,"envlist = py36,py37,py38,flake8","envlist = py37,flake8",1,1
openstack%2Fkayobe~master~If14fc6485620a1c9ef01ac37a1914c64606a2f70,openstack/kayobe,master,If14fc6485620a1c9ef01ac37a1914c64606a2f70,WIP: add support for mitogen,NEW,2021-06-07 14:32:49.000000000,2021-06-16 13:42:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-07 14:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a3706bd88e7f01aa904f44663972edbed6915404', 'message': 'WIP: add support for molecule\n\nCurrently the master branch of molecule is required to use Ansible 2.10.\n\nChange-Id: If14fc6485620a1c9ef01ac37a1914c64606a2f70\n'}, {'number': 2, 'created': '2021-06-07 16:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/628ddedd2f6822a781d03406ffb3b92cd392dee1', 'message': 'WIP: add support for molecule\n\nCurrently the master branch of molecule is required to use Ansible 2.10.\n\nChange-Id: If14fc6485620a1c9ef01ac37a1914c64606a2f70\n'}, {'number': 3, 'created': '2021-06-08 08:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/534e33955c7f87a4f0fb2335a7946093ecd50f37', 'message': 'WIP: add support for mitogen\n\nCurrently the master branch of mitogen is required to use Ansible 2.10.\n\nChange-Id: If14fc6485620a1c9ef01ac37a1914c64606a2f70\n'}, {'number': 4, 'created': '2021-06-08 14:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6f18c2af000c82e7d3536bb0e44ba606de5cb10b', 'message': 'WIP: add support for mitogen\n\nCurrently the master branch of mitogen is required to use Ansible 2.10.\n\nChange-Id: If14fc6485620a1c9ef01ac37a1914c64606a2f70\n'}, {'number': 5, 'created': '2021-06-09 12:45:59.000000000', 'files': ['playbooks/kayobe-base/pre.yml', 'ansible/roles/docker/tasks/main.yml', 'dev/functions', 'ansible/roles/kolla-ansible/tasks/install.yml', 'zuul.d/project.yaml', 'ansible/kayobe-ansible-user.yml', 'ansible/kayobe-target-venv.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d7372aa762d0b9edb831e5b7489b99b3242c0f94', 'message': 'WIP: add support for mitogen\n\nCurrently the master branch of mitogen is required to use Ansible 2.10.\n\nChange-Id: If14fc6485620a1c9ef01ac37a1914c64606a2f70\n'}]",0,795116,d7372aa762d0b9edb831e5b7489b99b3242c0f94,12,1,5,14826,,,0,"WIP: add support for mitogen

Currently the master branch of mitogen is required to use Ansible 2.10.

Change-Id: If14fc6485620a1c9ef01ac37a1914c64606a2f70
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/16/795116/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ansible/roles/docker/tasks/main.yml', 'ansible/roles/kolla-ansible/tasks/install.yml', 'zuul.d/project.yaml', 'ansible/kayobe-ansible-user.yml']",5,a3706bd88e7f01aa904f44663972edbed6915404,, # NOTE(mgoddard): The raw module does not work with mitogen. strategy: linear,,13,18
openstack%2Fvalidations-libs~master~Ie88f066b1f86a20cf0abaee5b3c08f25c30fcbb8,openstack/validations-libs,master,Ie88f066b1f86a20cf0abaee5b3c08f25c30fcbb8,DNM,ABANDONED,2021-06-16 07:47:41.000000000,2021-06-16 13:13:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-16 07:47:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9c3f01be3a37018415b23bb66bbdb5e357b06399', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie88f066b1f86a20cf0abaee5b3c08f25c30fcbb8\n'}]",0,796596,9c3f01be3a37018415b23bb66bbdb5e357b06399,3,1,1,32926,,,0,"DNM

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ie88f066b1f86a20cf0abaee5b3c08f25c30fcbb8
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/96/796596/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9c3f01be3a37018415b23bb66bbdb5e357b06399,, rm -rf doc/source/reference/apiwhitelist_externals = rm,,2,0
openstack%2Fcharm-neutron-gateway~master~Ib0ae0c2c66324edf018ba2fbd10ab4f27ef7f16a,openstack/charm-neutron-gateway,master,Ib0ae0c2c66324edf018ba2fbd10ab4f27ef7f16a,Remove deferred-restart config for lbaasv2,MERGED,2021-06-15 14:57:35.000000000,2021-06-16 13:10:21.000000000,2021-06-16 13:10:21.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-15 14:57:35.000000000', 'files': ['hooks/neutron_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/10707801e6ed3fc8f94ec479f5d8919b768a74ed', 'message': 'Remove deferred-restart config for lbaasv2\n\nWhen uninstalling the neutron lbaasv2 package remove the policyrcd\nconfiguration for the service first. This allows dpkg to stop\nthe service.\n\nChange-Id: Ib0ae0c2c66324edf018ba2fbd10ab4f27ef7f16a\nCloses-Bug: 1931655\n'}]",0,796504,10707801e6ed3fc8f94ec479f5d8919b768a74ed,9,3,1,12549,,,0,"Remove deferred-restart config for lbaasv2

When uninstalling the neutron lbaasv2 package remove the policyrcd
configuration for the service first. This allows dpkg to stop
the service.

Change-Id: Ib0ae0c2c66324edf018ba2fbd10ab4f27ef7f16a
Closes-Bug: 1931655
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/04/796504/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/neutron_utils.py'],1,10707801e6ed3fc8f94ec479f5d8919b768a74ed,bug/1931655,"import charmhelpers.contrib.openstack.policy_rcd as policy_rcd import charmhelpers.contrib.openstack.deferred_events as deferred_events if 'neutron-lbaasv2-agent' in installed_packages: # Remove policyrd entry that would stop dpkg from stopping # service when package is removed. Bug #1931655 policy_rcd.remove_policy_block( 'neutron-lbaasv2-agent', ['restart', 'stop', 'try-restart']) deferred_events.clear_deferred_restarts( 'neutron-lbaasv2-agent')",,10,0
openstack%2Ftrove~master~I98c9c1d193934c37e77297a04231a24585674306,openstack/trove,master,I98c9c1d193934c37e77297a04231a24585674306,Fix sqlalchemy engine listener,MERGED,2021-06-15 23:33:57.000000000,2021-06-16 13:03:07.000000000,2021-06-16 13:01:12.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 23:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0bfe08d6f33665b89835ee7185ddebf83906664f', 'message': 'Fix sqlalchemy engine listener\n\nChange-Id: I98c9c1d193934c37e77297a04231a24585674306\n'}, {'number': 2, 'created': '2021-06-15 23:34:56.000000000', 'files': ['trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/utils/mysql.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/8f91898de992ca63511d124b5382ad3b542a9969', 'message': 'Fix sqlalchemy engine listener\n\nThe sqlalchemy 1.4 had introduced some incompatible changes.\n\nChange-Id: I98c9c1d193934c37e77297a04231a24585674306\n'}]",0,796550,8f91898de992ca63511d124b5382ad3b542a9969,12,2,2,6732,,,0,"Fix sqlalchemy engine listener

The sqlalchemy 1.4 had introduced some incompatible changes.

Change-Id: I98c9c1d193934c37e77297a04231a24585674306
",git fetch https://review.opendev.org/openstack/trove refs/changes/50/796550/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/utils/mysql.py']",2,0bfe08d6f33665b89835ee7185ddebf83906664f,fix-sqlalchemy,"def connection_checkout(dbapi_con, con_record, con_proxy): try: try: dbapi_con.ping(False) except TypeError: dbapi_con.ping() except dbapi_con.OperationalError as ex: if ex.args[0] in (2006, 2013, 2014, 2045, 2055): raise exc.DisconnectionError() else: raise # MariaDB seems to timeout the client in a different # way than MySQL and PXC except pymysql_err.InternalError as ex: if ""Packet sequence number wrong"" in str(ex): raise exc.DisconnectionError() elif 'Connection was killed' in str(ex): raise exc.DisconnectionError() else: raise","from sqlalchemy import interfacesclass BaseKeepAliveConnection(interfaces.PoolListener): def checkout(self, dbapi_con, con_record, con_proxy): """"""Event triggered when a connection is checked out from the pool."""""" try: try: dbapi_con.ping(False) except TypeError: dbapi_con.ping() except dbapi_con.OperationalError as ex: if ex.args[0] in (2006, 2013, 2014, 2045, 2055): raise exc.DisconnectionError() else: raise # MariaDB seems to timeout the client in a different # way than MySQL and PXC except pymysql_err.InternalError as ex: if ""Packet sequence number wrong"" in str(ex): raise exc.DisconnectionError() elif 'Connection was killed' in str(ex): raise exc.DisconnectionError() else: raise",23,25
openstack%2Fnetworking-ovn~stable%2Ftrain~Iffdc4c385be38ea1b91efe34ac31d0b3ccc305f5,openstack/networking-ovn,stable/train,Iffdc4c385be38ea1b91efe34ac31d0b3ccc305f5,Fix oslo.config duplicate option failure,MERGED,2021-06-15 15:41:05.000000000,2021-06-16 13:00:06.000000000,2021-06-16 12:10:56.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-06-15 15:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f4a5b53a95a837c2739c1cda9d96f6bca2e50d15', 'message': 'DNM: debug oslo.config duplicate option failure\n\nSeeing this failure:\n\n  duplicate option: host: oslo_config.cfg.DuplicateOptError:\n    duplicate option: host\n\nChange-Id: Iffdc4c385be38ea1b91efe34ac31d0b3ccc305f5\n'}, {'number': 2, 'created': '2021-06-15 18:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8e1fb116ce20a24aa4a055dbfcf3ea6961ee27eb', 'message': 'DNM: debug oslo.config duplicate option failure\n\nSeeing this failure:\n\n  duplicate option: host: oslo_config.cfg.DuplicateOptError:\n    duplicate option: host\n\nChange-Id: Iffdc4c385be38ea1b91efe34ac31d0b3ccc305f5\n'}, {'number': 3, 'created': '2021-06-15 20:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5f8cf314fc710a3ffa72aaf86fca08b40c63673c', 'message': 'DNM: debug oslo.config duplicate option failure\n\nSeeing this failure:\n\n  duplicate option: host: oslo_config.cfg.DuplicateOptError:\n    duplicate option: host\n\nChange-Id: Iffdc4c385be38ea1b91efe34ac31d0b3ccc305f5\n'}, {'number': 4, 'created': '2021-06-15 21:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/849c93e19e3a5d827b31fcdb141f3e407c7684fc', 'message': 'DNM: debug oslo.config duplicate option failure\n\nSeeing this failure:\n\n  duplicate option: host: oslo_config.cfg.DuplicateOptError:\n    duplicate option: host\n\nChange-Id: Iffdc4c385be38ea1b91efe34ac31d0b3ccc305f5\n'}, {'number': 5, 'created': '2021-06-16 01:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9674300cc0e6399c871346f8b87eb75c3cbb5f9d', 'message': ""Fix oslo.config duplicate option failure\n\nRecent changes are causing this failure when starting\nthe octavia-api process with the OVN Octavia provider\ndriver enabled:\n\n  duplicate option: host: oslo_config.cfg.DuplicateOptError:\n    duplicate option: host\n\nSince there are a couple of backports implicated, and\na revert is not desired for them, workaround the problem\nwith two changes:\n\n1. Move an import of the hash_ring_manager code to inside\n   the class where it's required.\n\n2. Remove the import of the neutron.service code by changing\n   how we determine which worker class we are dealing with.\n\nChange-Id: Iffdc4c385be38ea1b91efe34ac31d0b3ccc305f5\n""}, {'number': 6, 'created': '2021-06-16 01:34:49.000000000', 'files': ['networking_ovn/ovsdb/worker.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ovsdb/ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1c5597da990f899db1336ab0454d11592cd43d27', 'message': ""Fix oslo.config duplicate option failure\n\nRecent changes are causing this failure when starting\nthe octavia-api process with the OVN Octavia provider\ndriver enabled:\n\n  duplicate option: host: oslo_config.cfg.DuplicateOptError:\n    duplicate option: host\n\nThe issue is that the networking-ovn code imported by the\nOVN Octavia provider driver winds-up importing\nneutron.common.config, which re-registers config options,\ncausing the problem.\n\nSince there are a couple of backports implicated, and\na revert is not desired for them, workaround the problem\nwith two changes:\n\n1. Move an import of the hash_ring_manager code to inside\n   the class where it's required.\n\n2. Remove the import of the neutron.service code by changing\n   how we determine which worker class we are dealing with.\n\nCloses-bug: #1932093\n\nChange-Id: Iffdc4c385be38ea1b91efe34ac31d0b3ccc305f5\n""}]",5,796517,1c5597da990f899db1336ab0454d11592cd43d27,25,6,6,1131,,,0,"Fix oslo.config duplicate option failure

Recent changes are causing this failure when starting
the octavia-api process with the OVN Octavia provider
driver enabled:

  duplicate option: host: oslo_config.cfg.DuplicateOptError:
    duplicate option: host

The issue is that the networking-ovn code imported by the
OVN Octavia provider driver winds-up importing
neutron.common.config, which re-registers config options,
causing the problem.

Since there are a couple of backports implicated, and
a revert is not desired for them, workaround the problem
with two changes:

1. Move an import of the hash_ring_manager code to inside
   the class where it's required.

2. Remove the import of the neutron.service code by changing
   how we determine which worker class we are dealing with.

Closes-bug: #1932093

Change-Id: Iffdc4c385be38ea1b91efe34ac31d0b3ccc305f5
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/17/796517/6 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,f4a5b53a95a837c2739c1cda9d96f6bca2e50d15,dupopt-debug,# DEBUG,,1,0
openstack%2Fcharm-barbican-softhsm~master~Iae83b12199468c18c76a5571eeae9c6a94e83af6,openstack/charm-barbican-softhsm,master,Iae83b12199468c18c76a5571eeae9c6a94e83af6,THIS CHARM IS DEPRECATED,MERGED,2021-06-16 12:34:56.000000000,2021-06-16 12:59:14.000000000,2021-06-16 12:59:14.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 12:34:56.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/6390d21b295a4e006c58daee58b42f0c8da9b610', 'message': ""THIS CHARM IS DEPRECATED\n\nSee https://review.opendev.org/c/openstack/charm-guide/+/796639\n\nIts functional tests are written with the deprecated\nAmulet framework (replaced by Zaza). Our CI system\nzOSCI can't run Amulet tests.\n\nChange-Id: Iae83b12199468c18c76a5571eeae9c6a94e83af6\nRelated-Bug: #1828424\n""}]",0,796646,6390d21b295a4e006c58daee58b42f0c8da9b610,6,2,1,31289,,,0,"THIS CHARM IS DEPRECATED

See https://review.opendev.org/c/openstack/charm-guide/+/796639

Its functional tests are written with the deprecated
Amulet framework (replaced by Zaza). Our CI system
zOSCI can't run Amulet tests.

Change-Id: Iae83b12199468c18c76a5571eeae9c6a94e83af6
Related-Bug: #1828424
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/46/796646/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,6390d21b295a4e006c58daee58b42f0c8da9b610,bug/1828424,> **WARNING**: DO NOT USE OR CONTRIBUTE. > [THIS CHARM IS DEPRECATED](https://docs.openstack.org/charm-guide/latest/openstack-charms.html). ,,3,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f,openstack/tripleo-heat-templates,stable/victoria,I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f,"[victoria/ussuri/train] Change nbd, vnc and qemu default cacert file",MERGED,2021-06-01 10:16:43.000000000,2021-06-16 12:49:25.000000000,2021-06-16 12:47:18.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-01 10:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b50d7e5632be6facf89fe5ee112b7f0db76d5c7', 'message': ""[victoria/ussuri/train] Change nbd, vnc and qemu default cacert file\n\nInternalTLSNbdCAFile, InternalTLSVncCAFile and InternalTLSQemuCAFile\ndo not point to the default IPA ca.crt file and instead are requested\nto be loaded to component specific CA files (even if they are the same).\nThis can lead to a race where the CA cert is not being written by\ncertmonger in time and the following issue is seen after the 60s timeout:\n\nMay  1 16:47:39 puppet-user: Notice: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Certmonger_certificate[libvirt-vnc-server-cert]/ensure: created\nMay  1 16:48:40 puppet-user: Error: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]\nMay  1 16:48:40 puppet-user: Error: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Exec[/etc/pki/CA/certs/vnc.crt]/returns: change from 'notrun' to ['0'] failed: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]\n\nThe problem here is that certmonger doesn't behave in the way that we\nexpect it to do. When we make the cert request and ask for the ca cert to\nbe retrieved, it issues the cert and schedules the cert to be returned\nasynchronously, even if you specify -w to wait for the cert.  -w will block\npending the cert being retrieved, but not for the CA cert.\n\nYou can always force the retrieval to happen by restarting certmonger, and\nthis has helped in some cases in the past, but is a less than ideal\nsolution.\n\nThis is a bug in certmonger IMHO, in that we should expect the CA cert to\nbe returned synchronously along with the cert if we specify -w.\n\nThe BZ for certmonger is unlikely to be fixed anytime soon though, so we\nneed to look at other options.\n\nIb868465c20d97c62cbcb214bfc62d949bd6efc62 already changed the default to\nuse the IPA system cacert file '/etc/ipa/ca.crt' per default starting with\nthe wallaby release using the ansible role. This change backports to also\nuse the IPA system cacert file '/etc/ipa/ca.crt' to previous release when\nmanaging the certs via puppet-tripleo.\n\nChange-Id: I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f\nCloses-Bug: #1927201\n""}, {'number': 2, 'created': '2021-06-06 09:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58fffd51b38f0445fadf0d8736ba2218e0b5dd87', 'message': ""[victoria/ussuri/train] Change nbd, vnc and qemu default cacert file\n\nInternalTLSNbdCAFile, InternalTLSVncCAFile and InternalTLSQemuCAFile\ndo not point to the default IPA ca.crt file and instead are requested\nto be loaded to component specific CA files (even if they are the same).\nThis can lead to a race where the CA cert is not being written by\ncertmonger in time and the following issue is seen after the 60s timeout:\n\nMay  1 16:47:39 puppet-user: Notice: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Certmonger_certificate[libvirt-vnc-server-cert]/ensure: created\nMay  1 16:48:40 puppet-user: Error: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]\nMay  1 16:48:40 puppet-user: Error: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Exec[/etc/pki/CA/certs/vnc.crt]/returns: change from 'notrun' to ['0'] failed: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]\n\nThe problem here is that certmonger doesn't behave in the way that we\nexpect it to do. When we make the cert request and ask for the ca cert to\nbe retrieved, it issues the cert and schedules the cert to be returned\nasynchronously, even if you specify -w to wait for the cert.  -w will block\npending the cert being retrieved, but not for the CA cert.\n\nYou can always force the retrieval to happen by restarting certmonger, and\nthis has helped in some cases in the past, but is a less than ideal\nsolution.\n\nThis is a bug in certmonger IMHO, in that we should expect the CA cert to\nbe returned synchronously along with the cert if we specify -w.\n\nThe BZ for certmonger is unlikely to be fixed anytime soon though, so we\nneed to look at other options.\n\nIb868465c20d97c62cbcb214bfc62d949bd6efc62 already changed the default to\nuse the IPA system cacert file '/etc/ipa/ca.crt' per default starting with\nthe wallaby release using the ansible role. This change backports to also\nuse the IPA system cacert file '/etc/ipa/ca.crt' to previous release when\nmanaging the certs via puppet-tripleo.\n\nChange-Id: I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f\nCloses-Bug: #1927201\n""}, {'number': 3, 'created': '2021-06-11 10:31:07.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/nova_libvirt_default_ca_cert-d1a7acaa5cbc9293.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d54d63285db71cdca4da943094b219bc560286ab', 'message': ""[victoria/ussuri/train] Change nbd, vnc and qemu default cacert file\n\nInternalTLSNbdCAFile, InternalTLSVncCAFile and InternalTLSQemuCAFile\ndo not point to the default IPA ca.crt file and instead are requested\nto be loaded to component specific CA files (even if they are the same).\nThis can lead to a race where the CA cert is not being written by\ncertmonger in time and the following issue is seen after the 60s timeout:\n\nMay  1 16:47:39 puppet-user: Notice: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Certmonger_certificate[libvirt-vnc-server-cert]/ensure: created\nMay  1 16:48:40 puppet-user: Error: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]\nMay  1 16:48:40 puppet-user: Error: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Exec[/etc/pki/CA/certs/vnc.crt]/returns: change from 'notrun' to ['0'] failed: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]\n\nThe problem here is that certmonger doesn't behave in the way that we\nexpect it to do. When we make the cert request and ask for the ca cert to\nbe retrieved, it issues the cert and schedules the cert to be returned\nasynchronously, even if you specify -w to wait for the cert.  -w will block\npending the cert being retrieved, but not for the CA cert.\n\nYou can always force the retrieval to happen by restarting certmonger, and\nthis has helped in some cases in the past, but is a less than ideal\nsolution.\n\nThis is a bug in certmonger IMHO, in that we should expect the CA cert to\nbe returned synchronously along with the cert if we specify -w.\n\nThe BZ for certmonger is unlikely to be fixed anytime soon though, so we\nneed to look at other options.\n\nIb868465c20d97c62cbcb214bfc62d949bd6efc62 already changed the default to\nuse the IPA system cacert file '/etc/ipa/ca.crt' per default starting with\nthe wallaby release using the ansible role. This change backports to also\nuse the IPA system cacert file '/etc/ipa/ca.crt' to previous release when\nmanaging the certs via puppet-tripleo.\n\nChange-Id: I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f\nCloses-Bug: #1927201\n""}]",8,793940,d54d63285db71cdca4da943094b219bc560286ab,32,12,3,17216,,,0,"[victoria/ussuri/train] Change nbd, vnc and qemu default cacert file

InternalTLSNbdCAFile, InternalTLSVncCAFile and InternalTLSQemuCAFile
do not point to the default IPA ca.crt file and instead are requested
to be loaded to component specific CA files (even if they are the same).
This can lead to a race where the CA cert is not being written by
certmonger in time and the following issue is seen after the 60s timeout:

May  1 16:47:39 puppet-user: Notice: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Certmonger_certificate[libvirt-vnc-server-cert]/ensure: created
May  1 16:48:40 puppet-user: Error: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]
May  1 16:48:40 puppet-user: Error: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Exec[/etc/pki/CA/certs/vnc.crt]/returns: change from 'notrun' to ['0'] failed: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]

The problem here is that certmonger doesn't behave in the way that we
expect it to do. When we make the cert request and ask for the ca cert to
be retrieved, it issues the cert and schedules the cert to be returned
asynchronously, even if you specify -w to wait for the cert.  -w will block
pending the cert being retrieved, but not for the CA cert.

You can always force the retrieval to happen by restarting certmonger, and
this has helped in some cases in the past, but is a less than ideal
solution.

This is a bug in certmonger IMHO, in that we should expect the CA cert to
be returned synchronously along with the cert if we specify -w.

The BZ for certmonger is unlikely to be fixed anytime soon though, so we
need to look at other options.

Ib868465c20d97c62cbcb214bfc62d949bd6efc62 already changed the default to
use the IPA system cacert file '/etc/ipa/ca.crt' per default starting with
the wallaby release using the ansible role. This change backports to also
use the IPA system cacert file '/etc/ipa/ca.crt' to previous release when
managing the certs via puppet-tripleo.

Change-Id: I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f
Closes-Bug: #1927201
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/793940/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/nova_libvirt_default_ca_cert-d1a7acaa5cbc9293.yaml']",3,6b50d7e5632be6facf89fe5ee112b7f0db76d5c7,libvirt_default_ca_crt,"--- fixes: - | InternalTLSNbdCAFile, InternalTLSVncCAFile and InternalTLSQemuCAFile do not point to the default IPA ca.crt file and instead are requested to be loaded to component specific CA files (even if they are the same). This can lead to a race where the CA cert is not being written by certmonger in time and the following issue is seen after the 60s timeout: May 1 16:47:39 puppet-user: Notice: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Certmonger_certificate[libvirt-vnc-server-cert]/ensure: created May 1 16:48:40 puppet-user: Error: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0] May 1 16:48:40 puppet-user: Error: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Exec[/etc/pki/CA/certs/vnc.crt]/returns: change from 'notrun' to ['0'] failed: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0] The problem here is that certmonger doesn't behave in the way that we expect it to do. When we make the cert request and ask for the ca cert to be retrieved, it issues the cert and schedules the cert to be returned asynchronously, even if you specify -w to wait for the cert. -w will block pending the cert being retrieved, but not for the CA cert. You can always force the retrieval to happen by restarting certmonger, and this has helped in some cases in the past, but is a less than ideal solution. This is a bug in certmonger IMHO, in that we should expect the CA cert to be returned synchronously along with the cert if we specify -w. The BZ for certmonger is unlikely to be fixed anytime soon though, so we need to look at other options. Ib868465c20d97c62cbcb214bfc62d949bd6efc62 already changed the default to use the IPA system cacert file '/etc/ipa/ca.crt' per default starting with the wallaby release using the ansible role. This change backports to also use the IPA system cacert file '/etc/ipa/ca.crt' to previous release when managing the certs via puppet-tripleo. ",,38,19
openstack%2Ftripleo-ansible~master~Icf626c77db879f6654ed2c34004b8b67e23258ef,openstack/tripleo-ansible,master,Icf626c77db879f6654ed2c34004b8b67e23258ef,Force ansible-lint to check just this repository,MERGED,2021-06-10 10:28:07.000000000,2021-06-16 12:47:23.000000000,2021-06-16 12:47:23.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-06-10 10:28:07.000000000', 'files': ['.ansible-lint'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cb2e3fb290c85079c06a6901692af52fc85d06d1', 'message': ""Force ansible-lint to check just this repository\n\nDoing tox -e linterns on the undercloud gives the followig error:\n\nAnsible-lint...............................................Failed\n- hook id: ansible-lint\n- exit code: 2\nINFO     Executing syntax check on tripleo_ansible/playbooks/\\\ncli-baremetal-clean.yaml (0.77s)\nWARNING  Listing 1 violation(s) that are fatal\n../../../usr/share/ansible/roles/openstack-operations/tasks/\\\nrestart_service.yml:1:3: syntax-check couldn't resolve module/action \\\n'service_map_facts'. This often indicates a misspelling, missing \\\ncollection, or incorrect module path.\nYou can skip specific rules or tags by adding them to your \\\nconfiguration file:\nwarn_list:  # or 'skip_list' to silence them completely\n  - syntax-check  # Ansible syntax check failed\n\nFinished with 1 failure(s), 0 warning(s) on 1382 files.\n\nThis patch fixes this.\n\nCloses-Bug: #1917938\nChange-Id: Icf626c77db879f6654ed2c34004b8b67e23258ef\n""}]",1,795758,cb2e3fb290c85079c06a6901692af52fc85d06d1,7,6,1,22954,,,0,"Force ansible-lint to check just this repository

Doing tox -e linterns on the undercloud gives the followig error:

Ansible-lint...............................................Failed
- hook id: ansible-lint
- exit code: 2
INFO     Executing syntax check on tripleo_ansible/playbooks/\
cli-baremetal-clean.yaml (0.77s)
WARNING  Listing 1 violation(s) that are fatal
../../../usr/share/ansible/roles/openstack-operations/tasks/\
restart_service.yml:1:3: syntax-check couldn't resolve module/action \
'service_map_facts'. This often indicates a misspelling, missing \
collection, or incorrect module path.
You can skip specific rules or tags by adding them to your \
configuration file:
warn_list:  # or 'skip_list' to silence them completely
  - syntax-check  # Ansible syntax check failed

Finished with 1 failure(s), 0 warning(s) on 1382 files.

This patch fixes this.

Closes-Bug: #1917938
Change-Id: Icf626c77db879f6654ed2c34004b8b67e23258ef
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/58/795758/1 && git format-patch -1 --stdout FETCH_HEAD,['.ansible-lint'],1,cb2e3fb290c85079c06a6901692af52fc85d06d1,bug/1917938, - ../,,1,0
openstack%2Fopenstack-ansible~master~I1d1beee8046029c705e2474f91eaa4fbe57aab25,openstack/openstack-ansible,master,I1d1beee8046029c705e2474f91eaa4fbe57aab25,Remove NV distro centos 8 stream job from gates,MERGED,2021-06-11 08:34:05.000000000,2021-06-16 12:41:11.000000000,2021-06-16 12:38:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-11 08:34:05.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/22d325982e67761983978ac2b319e282339cf539', 'message': ""Remove NV distro centos 8 stream job from gates\n\nNon-voting jobs should not be present in gate jobs since it's waste of\nresources. So we fix it by removing\nCentOS 8 Stream distro jobs from gates until\nwe will be able to make it voting.\n\nChange-Id: I1d1beee8046029c705e2474f91eaa4fbe57aab25\n""}]",0,795962,22d325982e67761983978ac2b319e282339cf539,16,3,1,28619,,,0,"Remove NV distro centos 8 stream job from gates

Non-voting jobs should not be present in gate jobs since it's waste of
resources. So we fix it by removing
CentOS 8 Stream distro jobs from gates until
we will be able to make it voting.

Change-Id: I1d1beee8046029c705e2474f91eaa4fbe57aab25
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/62/795962/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,22d325982e67761983978ac2b319e282339cf539,,, - openstack-ansible-deploy-aio_distro_metal-centos-8-stream,0,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~Id08cb1f907ba9ea9fb1bf1865d8a6491b463c44d,openstack/tripleo-ansible,stable/wallaby,Id08cb1f907ba9ea9fb1bf1865d8a6491b463c44d,Delete OVN MAC addr ports prior to deleting stack,MERGED,2021-05-21 09:56:21.000000000,2021-06-16 12:35:05.000000000,2021-06-16 12:33:06.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-21 09:56:21.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-delete.yaml', 'tripleo_ansible/ansible_plugins/modules/tripleo_ovn_mac_addresses.py', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c1aae46f1fea603c2be64d0b412ed2c8b97087de', 'message': ""Delete OVN MAC addr ports prior to deleting stack\n\nWith I6ce29d2908e76044c55eb96d0d3779fe67ba9169 the\nOVN MAC address ports created as part of deploy-steps\nplaybook run won't be cleaned up on 'overcloud delete'\n\nThis change fixes that by running the ansible module\ntripleo_ovn_mac_addresses without specifying a list\nof services.\n\nNOTE: This backport also includes the fixes in change:\n  I1f02487e0ae9da4f7a455a1142f94f0ecdd8450c\n\nFix issues in tripleo_ovn_mac_addresses module\n\n- Don't initialize thread pool when no servers\n  (can't do with 0 workers)\n- Fix bridge_mappings default\n- Don't call write_vars_file when no servers or static_mappings\n\nAlso use correct argument for stack_name in\ncli-overcloud-delete.yaml playbook.\n\nImplements: blueprint network-data-v2-port\nDepends-On: https://review.opendev.org/792522\nChange-Id: Id08cb1f907ba9ea9fb1bf1865d8a6491b463c44d\n(cherry picked from commit c87997e36af190805e0836ca24a9ea9cb6480c17)\n(cherry picked from commit 8ef33773a2d3eaca062bb4629bf2077b6eb1349b)\n""}]",0,792562,c1aae46f1fea603c2be64d0b412ed2c8b97087de,11,5,1,24245,,,0,"Delete OVN MAC addr ports prior to deleting stack

With I6ce29d2908e76044c55eb96d0d3779fe67ba9169 the
OVN MAC address ports created as part of deploy-steps
playbook run won't be cleaned up on 'overcloud delete'

This change fixes that by running the ansible module
tripleo_ovn_mac_addresses without specifying a list
of services.

NOTE: This backport also includes the fixes in change:
  I1f02487e0ae9da4f7a455a1142f94f0ecdd8450c

Fix issues in tripleo_ovn_mac_addresses module

- Don't initialize thread pool when no servers
  (can't do with 0 workers)
- Fix bridge_mappings default
- Don't call write_vars_file when no servers or static_mappings

Also use correct argument for stack_name in
cli-overcloud-delete.yaml playbook.

Implements: blueprint network-data-v2-port
Depends-On: https://review.opendev.org/792522
Change-Id: Id08cb1f907ba9ea9fb1bf1865d8a6491b463c44d
(cherry picked from commit c87997e36af190805e0836ca24a9ea9cb6480c17)
(cherry picked from commit 8ef33773a2d3eaca062bb4629bf2077b6eb1349b)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/62/792562/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_ovn_mac_addresses.py', 'tripleo_ansible/playbooks/cli-overcloud-delete.yaml', '.ansible-lint']",3,c1aae46f1fea603c2be64d0b412ed2c8b97087de,network-data-v2-stable/wallaby, - tripleo_ovn_mac_addresses,,25,19
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I6ce29d2908e76044c55eb96d0d3779fe67ba9169,openstack/tripleo-heat-templates,stable/wallaby,I6ce29d2908e76044c55eb96d0d3779fe67ba9169,Refactor OVN bridge MAC addresses,MERGED,2021-05-21 09:55:18.000000000,2021-06-16 12:33:00.000000000,2021-06-16 12:33:00.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-21 09:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ee08365cb46e3b40c2969670519698924eab35f', 'message': ""Refactor OVN bridge MAC addresses\n\nMoving the network and port management for OVN\nbridge MAC addresses to ansible.\n\nRemoves the heat resources, and adds an external\ndeploy task at step 0 in the ovn controller service\ntemplates which uses the 'tripleo_ovn_mac_addresses'\nansible module to create/remove OVN mac address ports.\n\nAdds parameter role_specific OVNStaticBridgeMacMappings,\nparameter that can be used to set static bridge mac\nmappings. When this is set no neutron resources will be\ncreated by the tripleo_ovn_mac_addresses ansible module.\nOVNStaticBridgeMacMappings must be used for standalone\ndeployments.\n\nImplements: blueprint network-data-v2-port\nDepends-On: https://review.opendev.org/782891\nDepends-On: https://review.opendev.org/783137\nChange-Id: I6ce29d2908e76044c55eb96d0d3779fe67ba9169\n(cherry picked from commit a120ada72e05a380616755d514a4bc81ea7ef227)\n""}, {'number': 2, 'created': '2021-05-21 10:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9415371427a0ecf3ef6c0b5938df92bc9815a282', 'message': ""Refactor OVN bridge MAC addresses\n\nMoving the network and port management for OVN\nbridge MAC addresses to ansible.\n\nRemoves the heat resources, and adds an external\ndeploy task at step 0 in the ovn controller service\ntemplates which uses the 'tripleo_ovn_mac_addresses'\nansible module to create/remove OVN mac address ports.\n\nAdds parameter role_specific OVNStaticBridgeMacMappings,\nparameter that can be used to set static bridge mac\nmappings. When this is set no neutron resources will be\ncreated by the tripleo_ovn_mac_addresses ansible module.\nOVNStaticBridgeMacMappings must be used for standalone\ndeployments.\n\nImplements: blueprint network-data-v2-port\nDepends-On: https://review.opendev.org/792524\nDepends-On: https://review.opendev.org/782891\nDepends-On: https://review.opendev.org/783137\nChange-Id: I6ce29d2908e76044c55eb96d0d3779fe67ba9169\n(cherry picked from commit a120ada72e05a380616755d514a4bc81ea7ef227)\n""}, {'number': 3, 'created': '2021-06-15 06:39:59.000000000', 'files': ['sample-env-generator/standalone.yaml', 'common/deploy-steps-playbooks-common.yaml', 'environments/undercloud.yaml', 'environments/standalone/standalone-tripleo.yaml', 'sample-env-generator/undercloud-minion.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'overcloud.j2.yaml', 'puppet/role.role.j2.yaml', 'environments/undercloud/undercloud-minion.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'environments/standalone/standalone-overcloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8100f86e86ab67004770d2f04392eadd3c35b270', 'message': ""Refactor OVN bridge MAC addresses\n\nMoving the network and port management for OVN\nbridge MAC addresses to ansible.\n\nRemoves the heat resources, and adds an external\ndeploy task at step 0 in the ovn controller service\ntemplates which uses the 'tripleo_ovn_mac_addresses'\nansible module to create/remove OVN mac address ports.\n\nAdds parameter role_specific OVNStaticBridgeMacMappings,\nparameter that can be used to set static bridge mac\nmappings. When this is set no neutron resources will be\ncreated by the tripleo_ovn_mac_addresses ansible module.\nOVNStaticBridgeMacMappings must be used for standalone\ndeployments.\n\nImplements: blueprint network-data-v2-port\nDepends-On: https://review.opendev.org/792524\nDepends-On: https://review.opendev.org/782891\nDepends-On: https://review.opendev.org/783137\nChange-Id: I6ce29d2908e76044c55eb96d0d3779fe67ba9169\n(cherry picked from commit a120ada72e05a380616755d514a4bc81ea7ef227)\n""}]",0,792522,8100f86e86ab67004770d2f04392eadd3c35b270,16,5,3,24245,,,0,"Refactor OVN bridge MAC addresses

Moving the network and port management for OVN
bridge MAC addresses to ansible.

Removes the heat resources, and adds an external
deploy task at step 0 in the ovn controller service
templates which uses the 'tripleo_ovn_mac_addresses'
ansible module to create/remove OVN mac address ports.

Adds parameter role_specific OVNStaticBridgeMacMappings,
parameter that can be used to set static bridge mac
mappings. When this is set no neutron resources will be
created by the tripleo_ovn_mac_addresses ansible module.
OVNStaticBridgeMacMappings must be used for standalone
deployments.

Implements: blueprint network-data-v2-port
Depends-On: https://review.opendev.org/792524
Depends-On: https://review.opendev.org/782891
Depends-On: https://review.opendev.org/783137
Change-Id: I6ce29d2908e76044c55eb96d0d3779fe67ba9169
(cherry picked from commit a120ada72e05a380616755d514a4bc81ea7ef227)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/792522/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'common/deploy-steps-playbooks-common.yaml', 'environments/undercloud.yaml', 'environments/standalone/standalone-tripleo.yaml', 'sample-env-generator/undercloud-minion.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'overcloud.j2.yaml', 'puppet/role.role.j2.yaml', 'environments/undercloud/undercloud-minion.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'environments/standalone/standalone-overcloud.yaml']",11,9ee08365cb46e3b40c2969670519698924eab35f,network-data-v2-stable/wallaby,, OS::TripleO::OVNMacAddressNetwork: OS::Heat::None OS::TripleO::OVNMacAddressPort: OS::Heat::None,62,63
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Id0daf6aa7a0ec8db3e459022a5ebb1c437671191,openstack/tripleo-heat-templates,stable/ussuri,Id0daf6aa7a0ec8db3e459022a5ebb1c437671191,Fix typo in ceilometer-write-qdr environment file,MERGED,2021-06-08 17:53:47.000000000,2021-06-16 12:32:39.000000000,2021-06-16 12:32:39.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 17:53:47.000000000', 'files': ['environments/metrics/ceilometer-write-qdr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9fda7f09082c78e8c1dffe2e06c0a23f372498f1', 'message': 'Fix typo in ceilometer-write-qdr environment file\n\nFix typo of CeilometerQdrPublishMetrics parameter name in the\nceilometer-write-qdr environment file.\n\n(cherry picked from commit 590f3669916cf1f9c10b25e86cdae8209df121fa)\n\nChange-Id: Id0daf6aa7a0ec8db3e459022a5ebb1c437671191\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}]",0,795388,9fda7f09082c78e8c1dffe2e06c0a23f372498f1,18,3,1,7294,,,0,"Fix typo in ceilometer-write-qdr environment file

Fix typo of CeilometerQdrPublishMetrics parameter name in the
ceilometer-write-qdr environment file.

(cherry picked from commit 590f3669916cf1f9c10b25e86cdae8209df121fa)

Change-Id: Id0daf6aa7a0ec8db3e459022a5ebb1c437671191
Signed-off-by: Leif Madsen <lmadsen@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/795388/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/metrics/ceilometer-write-qdr.yaml'],1,9fda7f09082c78e8c1dffe2e06c0a23f372498f1,, CeilometerQdrPublishMetrics: true, CeilometerQdrPublisMetrics: true,1,1
openstack%2Fdevstack~stable%2Fvictoria~Ie166730843f874b9c99e37244e460d7ad33b7eeb,openstack/devstack,stable/victoria,Ie166730843f874b9c99e37244e460d7ad33b7eeb,Move verify-ipv6-only-deployments,MERGED,2021-06-10 07:36:37.000000000,2021-06-16 12:31:59.000000000,2021-06-16 12:30:26.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-06-10 07:36:37.000000000', 'files': ['tools/verify-ipv6-only-deployments.sh', 'roles/devstack-ipv6-only-deployments-verification/tasks/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/defaults/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/README.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ecaf4b865bab62d0a4a190e3034108ee753c8102', 'message': 'Move verify-ipv6-only-deployments\n\nfrom Tempest to DevStack as it tests DevStack side of things and\nis useful for projects not using Tempest.\n\nVerbatim copy except for the devstack- prefix and the /devstack/\npath.\n\nChange-Id: Ie166730843f874b9c99e37244e460d7ad33b7eeb\n(cherry picked from commit 2fb8c7a5eea6f9321eef36fb9b8fd8e55465c91e)\n'}]",0,795619,ecaf4b865bab62d0a4a190e3034108ee753c8102,14,3,1,30491,,,0,"Move verify-ipv6-only-deployments

from Tempest to DevStack as it tests DevStack side of things and
is useful for projects not using Tempest.

Verbatim copy except for the devstack- prefix and the /devstack/
path.

Change-Id: Ie166730843f874b9c99e37244e460d7ad33b7eeb
(cherry picked from commit 2fb8c7a5eea6f9321eef36fb9b8fd8e55465c91e)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/19/795619/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/verify-ipv6-only-deployments.sh', 'roles/devstack-ipv6-only-deployments-verification/tasks/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/defaults/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/README.rst']",4,ecaf4b865bab62d0a4a190e3034108ee753c8102,move-verify-ipv6-only-deployments,Verify the IPv6-only deployments This role needs to be invoked from a playbook that run tests. This role verifies the IPv6 setting on devstack side and devstack deploy services on IPv6. This role is invoked before tests are run so that if any missing IPv6 setting or deployments can fail the job early. **Role Variables** .. zuul:rolevar:: devstack_base_dir :default: /opt/stack The devstack base directory. ,,113,0
openstack%2Fcharm-barbican-softhsm~master~Icd37175e82784dab482a0f170d224cecbd350ad6,openstack/charm-barbican-softhsm,master,Icd37175e82784dab482a0f170d224cecbd350ad6,Use unittest.mock instead of mock,ABANDONED,2020-06-08 20:28:02.000000000,2021-06-16 12:27:57.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/70a15f06c79cb4c8021bcfea30f82b084287e9d6', 'message': ""drop mock from lower-constraints and requirements\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints and requirements.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: Icd37175e82784dab482a0f170d224cecbd350ad6\n""}, {'number': 2, 'created': '2020-06-09 13:07:08.000000000', 'files': ['unit_tests/test_lib_barbican_softhsm.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/0c3e36c8d9d04b82d7501ffbfff38c1cf186485e', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Icd37175e82784dab482a0f170d224cecbd350ad6\n""}]",0,734231,0c3e36c8d9d04b82d7501ffbfff38c1cf186485e,7,2,2,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: Icd37175e82784dab482a0f170d224cecbd350ad6
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/31/734231/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_barbican_softhsm.py', 'test-requirements.txt']",2,70a15f06c79cb4c8021bcfea30f82b084287e9d6,drop_mock,,mock>=1.2,1,2
openstack%2Fcharm-barbican-softhsm~master~Ia2936acc170fbf9f61d216eb40440933e2af9b24,openstack/charm-barbican-softhsm,master,Ia2936acc170fbf9f61d216eb40440933e2af9b24,Use unittest.mock instead of mock,ABANDONED,2021-01-03 03:27:40.000000000,2021-06-16 12:27:37.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-01-03 03:27:40.000000000', 'files': ['unit_tests/test_lib_barbican_softhsm.py'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/13990540ed9b87d14870713bb199f385e48d0e22', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.\n\nChange-Id: Ia2936acc170fbf9f61d216eb40440933e2af9b24\n'}]",0,768944,13990540ed9b87d14870713bb199f385e48d0e22,5,3,1,31828,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.

Change-Id: Ia2936acc170fbf9f61d216eb40440933e2af9b24
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/44/768944/1 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_lib_barbican_softhsm.py'],1,13990540ed9b87d14870713bb199f385e48d0e22,,from unittest import mock,import mock,1,1
openstack%2Fcharm-barbican-softhsm~master~Ie71c49cebcc4b70c393ff374e4d90e319982610c,openstack/charm-barbican-softhsm,master,Ie71c49cebcc4b70c393ff374e4d90e319982610c,remove unicode from code,ABANDONED,2021-01-05 07:15:04.000000000,2021-06-16 12:27:23.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 07:15:04.000000000', 'files': ['src/tests/basic_deployment.py'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/9186d3bd430a6e130435de43c548af859d927d27', 'message': 'remove unicode from code\n\nChange-Id: Ie71c49cebcc4b70c393ff374e4d90e319982610c\n'}]",0,769252,9186d3bd430a6e130435de43c548af859d927d27,4,2,1,31828,,,0,"remove unicode from code

Change-Id: Ie71c49cebcc4b70c393ff374e4d90e319982610c
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/52/769252/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/basic_deployment.py'],1,9186d3bd430a6e130435de43c548af859d927d27,, action_id = data['Action queued with id'] my_secret.name = 'Random plain text password' my_secret.payload = 'password', action_id = data[u'Action queued with id'] my_secret.name = u'Random plain text password' my_secret.payload = u'password',3,3
openstack%2Fcharm-barbican-softhsm~master~Ib1e1ff6ea05f96fec8ed987e0b153d7141452d14,openstack/charm-barbican-softhsm,master,Ib1e1ff6ea05f96fec8ed987e0b153d7141452d14,rebuild - restore c-h proxy env vars for add-apt-repository,ABANDONED,2021-05-13 13:07:50.000000000,2021-06-16 12:26:49.000000000,,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:07:50.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/520e42741efedc692aa54581e3bc5a34f479ff61', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: Ib1e1ff6ea05f96fec8ed987e0b153d7141452d14\n'}]",0,791181,520e42741efedc692aa54581e3bc5a34f479ff61,9,2,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: Ib1e1ff6ea05f96fec8ed987e0b153d7141452d14
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/81/791181/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,520e42741efedc692aa54581e3bc5a34f479ff61,batch-update,f9ba049c-b3eb-11eb-ad1d-d37759d33015,be80c7be-64d9-11eb-878b-3f3c456f93e5,1,1
openstack%2Fcharm-barbican-softhsm~master~Iee6bcc03bb7ecce8735cbbe17c9cda33764e5664,openstack/charm-barbican-softhsm,master,Iee6bcc03bb7ecce8735cbbe17c9cda33764e5664,Test bundles for focal-wallaby and hirsute-wallaby,ABANDONED,2021-03-03 18:01:40.000000000,2021-06-16 12:25:58.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-03 18:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/cb8846856505c7bfc21dd0a4771ad324a2659b1b', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby supporto.\n\nChange-Id: Iee6bcc03bb7ecce8735cbbe17c9cda33764e5664\n'}, {'number': 2, 'created': '2021-06-10 13:13:05.000000000', 'files': ['src/tests/dev-basic-hirsute-wallaby', 'src/tests/dev-basic-focal-wallaby'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/da41b4a0dac0fdaa2c1c8d8406c4d334fde629b5', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: Iee6bcc03bb7ecce8735cbbe17c9cda33764e5664\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",2,778525,da41b4a0dac0fdaa2c1c8d8406c4d334fde629b5,11,3,2,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Change-Id: Iee6bcc03bb7ecce8735cbbe17c9cda33764e5664
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/25/778525/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/dev-basic-hirsute-wallaby', 'src/tests/dev-basic-focal-wallaby']",2,cb8846856505c7bfc21dd0a4771ad324a2659b1b,wallaby-bundles,"#!/usr/bin/env python """"""Amulet tests on a basic barbican deploy on focal-victoria for keystone v3. """""" from basic_deployment import SoftHSMBasicDeployment if __name__ == '__main__': deployment = SoftHSMBasicDeployment(series='focal', keystone_version=3, openstack='cloud:focal-wallaby', source='cloud:focal-wallaby') deployment.run_tests() ",,22,0
openstack%2Fcharm-barbican-softhsm~master~I1eae7721f781fd6d22833d6f146cd5c09f161395,openstack/charm-barbican-softhsm,master,I1eae7721f781fd6d22833d6f146cd5c09f161395,Add osci.yaml file for CI,ABANDONED,2021-06-15 03:21:54.000000000,2021-06-16 12:25:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-15 03:21:54.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/1eda49e490df111c6c434bf4202a91010bdc35c2', 'message': 'Add osci.yaml file for CI\n\nAdd the osci.yaml file for zosci.\n\nChange-Id: I1eae7721f781fd6d22833d6f146cd5c09f161395\n'}]",0,796357,1eda49e490df111c6c434bf4202a91010bdc35c2,5,2,1,8992,,,0,"Add osci.yaml file for CI

Add the osci.yaml file for zosci.

Change-Id: I1eae7721f781fd6d22833d6f146cd5c09f161395
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/57/796357/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,1eda49e490df111c6c434bf4202a91010bdc35c2,add-osci-yaml,- project: templates: - charm-unit-jobs - charm-functional-jobs vars: needs_charm_build: true charm_build_name: barbican-softhsm ,,7,0
openstack%2Fpuppet-oslo~stable%2Fwallaby~I5bf6cd967d1e0e9fe4eaac0dac242dbc7b88a771,openstack/puppet-oslo,stable/wallaby,I5bf6cd967d1e0e9fe4eaac0dac242dbc7b88a771,Set fixture paths for unit tests,MERGED,2021-06-16 02:15:58.000000000,2021-06-16 12:08:52.000000000,2021-06-16 12:08:52.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 02:15:58.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/484bba674b44bea2a8ca357a923bf5418f157e59', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nChange-Id: I5bf6cd967d1e0e9fe4eaac0dac242dbc7b88a771\nCloses-Bug: #1930403\n(cherry picked from commit 040ef880aee9f05226cc839543b55eb9c990314a)\n'}]",0,796557,484bba674b44bea2a8ca357a923bf5418f157e59,6,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Change-Id: I5bf6cd967d1e0e9fe4eaac0dac242dbc7b88a771
Closes-Bug: #1930403
(cherry picked from commit 040ef880aee9f05226cc839543b55eb9c990314a)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/57/796557/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,484bba674b44bea2a8ca357a923bf5418f157e59,bug/1930403-stable/wallaby,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I4423fcbd62b09ef323590fc740dd29e1a17777f5,openstack/tripleo-heat-templates,stable/ussuri,I4423fcbd62b09ef323590fc740dd29e1a17777f5,Fix cinder's cephx keyring file permissions,MERGED,2021-06-11 12:48:02.000000000,2021-06-16 12:08:46.000000000,2021-06-16 12:08:46.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-11 12:48:02.000000000', 'files': ['deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab2f7cf5cb2962fa4500b7cccd87a249a8f57d37', 'message': ""Fix cinder's cephx keyring file permissions\n\nThis patch updates cinder's kolla permissions so that cinder can\naccess any cephx keyring associated with CephExternalMultiConfig\nceph clusters. The new approach parses the cluster names out of the\nCephExternalMultiConfig array, and uses a wildcard to grant access\nto all keys (regardless of the key name) defined for each cluster.\nThere is no risk of the wildcard granting improper access to a\nprivileged key (e.g. the admin key), because CephExternalMultiConfig\ndoesn't include privileged keys.\n\nThis patch replaces similar (but more restrictive) code added in\nI73af5b868de629870a35d38f8436e7025aae791e. That patch allowed cinder\nto access cephx keyrings associated with a new CinderRbdMultiConfig\nparameter, but it didn't cover all potential use cases. For example,\nin a DCN/Edge deployment, cinder services running at the edge need\naccess to the central site's client key in order to perform operations\nlike offline volume migration.\n\nNOTE (pre-Wallaby):\nThe >= Wallaby versions of this patch tweaks code that was introduced\nin Wallaby by I73af5b868de629870a35d38f8436e7025aae791e. Pre-Wallaby\nversions of this patch _adds_ the tweaked code.\n\nCloses-Bug: #1930620\nResolves: rhbz#1962304\nChange-Id: I4423fcbd62b09ef323590fc740dd29e1a17777f5\n(cherry picked from commit f1cd8006fec9f3f68cee21fc2139fb985b0b1fac)\n(cherry picked from commit 74e3884b4a21a27262c48b4df8f0e369a5486f87)\nConflicts:\n\tdeployment/cinder/cinder-common-container-puppet.yaml\n(cherry picked from commit bc39ac89d2242bfdce9094e9cb22ee63d293ce28)\n""}]",0,796001,ab2f7cf5cb2962fa4500b7cccd87a249a8f57d37,21,5,1,21129,,,0,"Fix cinder's cephx keyring file permissions

This patch updates cinder's kolla permissions so that cinder can
access any cephx keyring associated with CephExternalMultiConfig
ceph clusters. The new approach parses the cluster names out of the
CephExternalMultiConfig array, and uses a wildcard to grant access
to all keys (regardless of the key name) defined for each cluster.
There is no risk of the wildcard granting improper access to a
privileged key (e.g. the admin key), because CephExternalMultiConfig
doesn't include privileged keys.

This patch replaces similar (but more restrictive) code added in
I73af5b868de629870a35d38f8436e7025aae791e. That patch allowed cinder
to access cephx keyrings associated with a new CinderRbdMultiConfig
parameter, but it didn't cover all potential use cases. For example,
in a DCN/Edge deployment, cinder services running at the edge need
access to the central site's client key in order to perform operations
like offline volume migration.

NOTE (pre-Wallaby):
The >= Wallaby versions of this patch tweaks code that was introduced
in Wallaby by I73af5b868de629870a35d38f8436e7025aae791e. Pre-Wallaby
versions of this patch _adds_ the tweaked code.

Closes-Bug: #1930620
Resolves: rhbz#1962304
Change-Id: I4423fcbd62b09ef323590fc740dd29e1a17777f5
(cherry picked from commit f1cd8006fec9f3f68cee21fc2139fb985b0b1fac)
(cherry picked from commit 74e3884b4a21a27262c48b4df8f0e369a5486f87)
Conflicts:
	deployment/cinder/cinder-common-container-puppet.yaml
(cherry picked from commit bc39ac89d2242bfdce9094e9cb22ee63d293ce28)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/796001/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-common-container-puppet.yaml'],1,ab2f7cf5cb2962fa4500b7cccd87a249a8f57d37,cinder-cephx-perms," CephExternalMultiConfig: type: json hidden: true description: | List of maps describing extra overrides which will be applied when configuring extra external Ceph clusters. If this list is non-empty, ceph-ansible will run an extra count(list) times using the same parameters as the first run except each parameter within each map will override the defaults. If the following were used, the second run would configure the overcloud to also use the ceph2 cluster with all the previous parameters except /etc/ceph/ceph2.conf would have a mon_host entry containing the value of external_cluster_mon_ips below, and not the default CephExternalMonHost. Subsequent ceph-ansible runs are restricted to just ceph clients. CephExternalMultiConfig may not be used to deploy additional internal Ceph clusters within one Heat stack. The map for each list should contain not tripleo-heat-template parameters but ceph-ansible parameters. - cluster: 'ceph2' fsid: 'e2cba068-5f14-4b0f-b047-acf375c0004a' external_cluster_mon_ips: '172.18.0.5,172.18.0.6,172.18.0.7' keys: - name: ""client.openstack"" caps: mgr: ""allow *"" mon: ""profile rbd"" osd: ""osd: profile rbd pool=volumes, profile rbd pool=backups, profile rbd pool=vms, profile rbd pool=images"" key: ""AQCwmeRcAAAAABAA6SQU/bGqFjlfLro5KxrB1Q=="" mode: ""0600"" dashboard_enabled: false default: [] list_concat: - - path: /var/log/cinder owner: cinder:cinder recurse: true - path: str_replace: template: /etc/ceph/CLUSTER.client.USER.keyring params: CLUSTER: {get_param: CephClusterName} USER: {get_param: CephClientUserName} owner: cinder:cinder perm: '0600' - path: /etc/pki/tls/certs/etcd.crt owner: cinder:cinder - path: /etc/pki/tls/private/etcd.key owner: cinder:cinder - repeat: template: path: /etc/ceph/<%cluster%>.client.*.keyring owner: cinder:cinder perm: '0600' for_each: <%cluster%>: yaql: expression: $.data.multiconfig.select($.cluster) data: multiconfig: {get_param: CephExternalMultiConfig}", - path: /var/log/cinder owner: cinder:cinder recurse: true - path: str_replace: template: /etc/ceph/CLUSTER.client.USER.keyring params: CLUSTER: {get_param: CephClusterName} USER: {get_param: CephClientUserName} owner: cinder:cinder perm: '0600' - path: /etc/pki/tls/certs/etcd.crt owner: cinder:cinder - path: /etc/pki/tls/private/etcd.key owner: cinder:cinder,56,15
openstack%2Fansible-collections-openstack~master~I96f876bdf1eab0e451ee6d251b62f6aaa52ffc6f,openstack/ansible-collections-openstack,master,I96f876bdf1eab0e451ee6d251b62f6aaa52ffc6f,Switch flavor_info module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-16 11:46:04.000000000,2021-06-16 11:46:04.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5d9a103e0772d77b2cd81cc0ffeafa5ee1cc3f2e', 'message': 'Switch flavor_info module to OpenStackModule\n\nChange-Id: I96f876bdf1eab0e451ee6d251b62f6aaa52ffc6f\n'}, {'number': 2, 'created': '2021-05-21 07:43:56.000000000', 'files': ['plugins/modules/compute_flavor_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6cb6e70645389bd73fd17d533ee78702275b0473', 'message': 'Switch flavor_info module to OpenStackModule\n\nChange-Id: I96f876bdf1eab0e451ee6d251b62f6aaa52ffc6f\n'}]",0,792443,6cb6e70645389bd73fd17d533ee78702275b0473,8,2,2,27900,,,0,"Switch flavor_info module to OpenStackModule

Change-Id: I96f876bdf1eab0e451ee6d251b62f6aaa52ffc6f
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/43/792443/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/compute_flavor_info.py'],1,5d9a103e0772d77b2cd81cc0ffeafa5ee1cc3f2e,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class ComputeFlavorInfoModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( deprecated_names = ('openstack.cloud.compute_flavor_facts') def run(self): name = self.params['name'] vcpus = self.params['vcpus'] ram = self.params['ram'] ephemeral = self.params['ephemeral'] limit = self.params['limit'] filters = {} if vcpus: filters['vcpus'] = vcpus if ram: filters['ram'] = ram if ephemeral: filters['ephemeral'] = ephemeral if name: flavors = self.conn.search_flavors(filters={'name': name}) flavors = self.conn.list_flavors() if filters: flavors = self.conn.range_search(flavors, filters) self.exit_json(changed=False, openstack_flavors=flavors) def main(): module = ComputeFlavorInfoModule() module()"," from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs( module = AnsibleModule(argument_spec, **module_kwargs) is_old_facts = module._name == 'openstack.cloud.compute_flavor_facts' if is_old_facts: module.deprecate(""The 'openstack.cloud.compute_flavor_facts' module has been renamed to 'openstack.cloud.compute_flavor_info', "" ""and the renamed one no longer returns ansible_facts"", version='2.0.0', collection_name='openstack.cloud') name = module.params['name'] vcpus = module.params['vcpus'] ram = module.params['ram'] ephemeral = module.params['ephemeral'] limit = module.params['limit'] filters = {} if vcpus: filters['vcpus'] = vcpus if ram: filters['ram'] = ram if ephemeral: filters['ephemeral'] = ephemeral sdk, cloud = openstack_cloud_from_module(module) try: if name: flavors = cloud.search_flavors(filters={'name': name}) flavors = cloud.list_flavors() if filters: flavors = cloud.range_search(flavors, filters) if is_old_facts: module.exit_json(changed=False, ansible_facts=dict(openstack_flavors=flavors)) else: module.exit_json(changed=False, openstack_flavors=flavors) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",27,39
openstack%2Fansible-collections-openstack~master~I858880834acce6112eadd7e78e339f39b7c455da,openstack/ansible-collections-openstack,master,I858880834acce6112eadd7e78e339f39b7c455da,Switch Recordset module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-16 11:45:59.000000000,2021-06-16 11:45:59.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3a1ec73322bee39394abd9a32db5f5ea2370a1c8', 'message': 'Switch Recordset module to OpenStackModule\n\nSwitch dns.recordset module to the general OpenStackModule.\n\nChange-Id: I858880834acce6112eadd7e78e339f39b7c455da\n'}, {'number': 2, 'created': '2021-05-21 07:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/54cae6bd8032708de67c7573d42c203a413106ed', 'message': 'Switch Recordset module to OpenStackModule\n\nSwitch dns.recordset module to the general OpenStackModule.\n\nChange-Id: I858880834acce6112eadd7e78e339f39b7c455da\n'}, {'number': 3, 'created': '2021-05-21 12:04:44.000000000', 'files': ['plugins/modules/recordset.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a32cff23c7c85be366f6ae2ba5220fc5bb0d5fc8', 'message': 'Switch Recordset module to OpenStackModule\n\nSwitch dns.recordset module to the general OpenStackModule.\n\nChange-Id: I858880834acce6112eadd7e78e339f39b7c455da\n'}]",0,792417,a32cff23c7c85be366f6ae2ba5220fc5bb0d5fc8,10,2,3,27900,,,0,"Switch Recordset module to OpenStackModule

Switch dns.recordset module to the general OpenStackModule.

Change-Id: I858880834acce6112eadd7e78e339f39b7c455da
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/17/792417/3 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/recordset.py'],1,3a1ec73322bee39394abd9a32db5f5ea2370a1c8,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class DnsRecordsetModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( required_if=[ ('state', 'present', ['recordset_type', 'records'])], supports_check_mode=True ) module_min_sdk_version = '0.28.0' def _system_state_change(self, state, records, description, ttl, recordset): if state == 'present': if recordset is None: return True if records is not None and recordset['records'] != records: return True if description is not None and recordset['description'] != description: return True if ttl is not None and recordset['ttl'] != ttl: return True if state == 'absent' and recordset: return True return False def run(self): zone = self.params.get('zone') name = self.params.get('name') state = self.params.get('state') recordsets = self.conn.search_recordsets(zone, name_or_id=name) if recordsets: recordset = recordsets[0] try: recordset_id = recordset['id'] except KeyError as e: self.fail_json(msg=str(e)) else: # recordsets is filtered by type and should never be more than 1 return recordset = None if state == 'present': recordset_type = self.params.get('recordset_type').upper() records = self.params.get('records') description = self.params.get('description') ttl = self.params.get('ttl') kwargs = {} if description: kwargs['description'] = description kwargs['records'] = records if self.check_mode: self.exit_json( changed=self._system_state_change( state, records, description, ttl, recordset)) if recordset is None: if ttl: kwargs['ttl'] = ttl else: kwargs['ttl'] = 300 recordset = self.conn.create_recordset( zone=zone, name=name, recordset_type=recordset_type, **kwargs) changed = True else: if ttl: kwargs['ttl'] = ttl pre_update_recordset = recordset changed = self._system_state_change( state, records, description, ttl, pre_update_recordset) if changed: recordset = self.conn.update_recordset( zone=zone, name_or_id=recordset_id, **kwargs) self.exit_json(changed=changed, recordset=recordset) elif state == 'absent': if self.check_mode: self.exit_json(changed=self._system_state_change( state, None, None, None, recordset)) if recordset is None: changed = False else: self.conn.delete_recordset(zone, recordset_id) changed = True self.exit_json(changed=changed) def main(): module = DnsRecordsetModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def _system_state_change(state, records, description, ttl, recordset): if state == 'present': if recordset is None: return True if records is not None and recordset['records'] != records: return True if description is not None and recordset['description'] != description: return True if ttl is not None and recordset['ttl'] != ttl: return True if state == 'absent' and recordset: return True return False def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, required_if=[ ('state', 'present', ['recordset_type', 'records'])], supports_check_mode=True, **module_kwargs) module.module_min_sdk_version = '0.28.0' zone = module.params.get('zone') name = module.params.get('name') state = module.params.get('state') sdk, cloud = openstack_cloud_from_module(module) recordsets = cloud.search_recordsets(zone, name_or_id=name) if recordsets: recordset = recordsets[0] try: recordset_id = recordset['id'] except KeyError as e: module.fail_json(msg=str(e)) else: # recordsets is filtered by type and should never be more than 1 return recordset = None if state == 'present': recordset_type = module.params.get('recordset_type').upper() records = module.params.get('records') description = module.params.get('description') ttl = module.params.get('ttl') kwargs = {} if description: kwargs['description'] = description kwargs['records'] = records if module.check_mode: module.exit_json(changed=_system_state_change(state, records, description, ttl, recordset)) if recordset is None: if ttl: kwargs['ttl'] = ttl else: kwargs['ttl'] = 300 recordset = cloud.create_recordset( zone=zone, name=name, recordset_type=recordset_type, **kwargs) changed = True else: if ttl: kwargs['ttl'] = ttl pre_update_recordset = recordset changed = _system_state_change(state, records, description, ttl, pre_update_recordset) if changed: recordset = cloud.update_recordset( zone=zone, name_or_id=recordset_id, **kwargs) module.exit_json(changed=changed, recordset=recordset) elif state == 'absent': if module.check_mode: module.exit_json(changed=_system_state_change(state, None, None, None, recordset)) if recordset is None: changed = False else: cloud.delete_recordset(zone, recordset_id) changed = True module.exit_json(changed=changed)",85,86
openstack%2Fopenstack-ansible-os_monasca~master~I5f8e35bda53fe5d131f00c5b909b6084072e1268,openstack/openstack-ansible-os_monasca,master,I5f8e35bda53fe5d131f00c5b909b6084072e1268,Re-activate Monasca role for Openstack-Ansible,NEW,2021-06-16 09:42:43.000000000,2021-06-16 11:45:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-16 09:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_monasca/commit/36bd83e1a1d31871a1b3495c0c1acf9e3e06a301', 'message': 'Re-activate Monasca role for Openstack-Ansible\nMonasca role has been retired for a while. I want to activate and maintain this role.\nNow that Monasca can be installed by OSA.\n\nChange-Id: I5f8e35bda53fe5d131f00c5b909b6084072e1268\n'}, {'number': 2, 'created': '2021-06-16 09:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_monasca/commit/45657d7ec5e3a3629ba0f9f8dc6862a5441e26c1', 'message': 'Re-activate Monasca role for Openstack-Ansible\n\nMonasca role has been retired for a while. I want to activate and maintain this role. Now that Monasca can be installed by OSA.\n\nChange-Id: I5f8e35bda53fe5d131f00c5b909b6084072e1268\n'}, {'number': 3, 'created': '2021-06-16 09:47:45.000000000', 'files': ['extras/env.d/monasca.yml', 'tasks/main.yml', 'templates/monasca-persister/persister-logging.conf.j2', 'library/monasca_alarm_definition.py', 'tasks/monasca_thresh_install.yml', 'README.rst', 'library/monasca_notification_method.py', 'setup.py', 'tasks/monasca_pre_install.yml', 'defaults/main.yml', 'releasenotes/notes/.placeholder', 'doc/source/configure-monasca.rst', 'CONTRIBUTING.rst', 'meta/openstack-ansible.yml', 'tests/group_vars/monasca_all.yml', 'releasenotes/source/rocky.rst', 'LICENSE', 'releasenotes/notes/monasca-service-setup-host-5d1cd9cd6fa7608d.yaml', 'extras/group_vars/monasca_all.yml', 'tests/test-install-monasca.yml', 'tests/host_vars/localhost.yml', 'tasks/db_setup.yml', 'tests/host_vars/infra1.yml', 'releasenotes/notes/monasca_init_time_settings-1ef46f6b9d4fc1df.yaml', 'templates/monasca-thresh/thresh-config.yml.j2', 'templates/monasca-persister/persister.conf.j2', 'vars/debian.yml', 'releasenotes/source/index.rst', 'extras/os-monasca-install.yml', 'tests/host_vars/monasca1.yml', 'vars/main.yml', 'run_tests.sh', 'extras/os_horizon/defaults/main.yml', 'extras/os_horizon/tasks/horizon_post_install.yml', 'setup.cfg', 'tox.ini', 'meta/main.yml', 'tasks/monasca_alarms_setup.yml', 'extras/os_horizon/templates/monasca-ui/local_settings.py.j2', 'examples/playbook.yml', 'extras/user_haproxy_extras.yml', 'tasks/service_setup.yml', 'tasks/monasca_influxdb_setup.yml', 'releasenotes/source/_templates/.placeholder', 'tasks/monasca_kafka_setup.yml', 'releasenotes/notes/monasca-init-config-overrides-ffce7e419061c4da.yaml', 'doc/Makefile', 'examples/monasca-dependencies.yml', 'tasks/monasca_post_install.yml', 'templates/monasca-api/api-config.conf.j2', 'bindep.txt', 'tests/ansible-role-requirements.yml', 'templates/monasca-notification/monasca-notification.conf.j2', 'Vagrantfile', 'library/influxdb_user.py', 'releasenotes/source/_static/.placeholder', 'tests/group_vars/all_containers.yml', 'releasenotes/source/stein.rst', 'tests/inventory', 'tasks/monasca_copy_mysql_schema.yml', 'doc/source/conf.py', 'extras/user_secrets.yml', 'handlers/main.yml', 'tests/test.yml', 'templates/monasca-api/api-config.ini.j2', 'extras/conf.d/monasca.yml', 'releasenotes/source/unreleased.rst', 'tests/os_monasca-overrides.yml', 'doc/source/index.rst', 'releasenotes/source/train.rst', 'templates/mon_mysql.sql.j2', 'extras/repo_packages/openstack_monasca.yml', 'templates/monasca-api/api-logging.conf.j2', 'tests/host_vars/openstack1.yml', 'zuul.d/project.yaml', 'doc/requirements.txt', 'releasenotes/source/conf.py', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_monasca/commit/3cf7d3b82cf23847dcd9672ef0bd610a2e28dd6e', 'message': 'Re-activate Monasca role for Openstack-Ansible\n\nMonasca role has been retired for a while. I want to activate and maintain this role. Now that Monasca can be installed by OSA.\n\nChange-Id: I5f8e35bda53fe5d131f00c5b909b6084072e1268\n'}]",0,796616,3cf7d3b82cf23847dcd9672ef0bd610a2e28dd6e,4,1,3,32836,,,0,"Re-activate Monasca role for Openstack-Ansible

Monasca role has been retired for a while. I want to activate and maintain this role. Now that Monasca can be installed by OSA.

Change-Id: I5f8e35bda53fe5d131f00c5b909b6084072e1268
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_monasca refs/changes/16/796616/3 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,36bd83e1a1d31871a1b3495c0c1acf9e3e06a301,,======================== Team and repository tags ======================== .. image:: https://governance.openstack.org/tc/badges/openstack-ansible-os_monasca.svg :target: https://governance.openstack.org/tc/reference/tags/index.html .. Change things from this point on ========================= OpenStack-Ansible Monasca ========================= Ansible role for deploying Monasca Monitoring-as-a-Service. Documentation for this project can be found at: https://docs.openstack.org/openstack-ansible-os_monasca/latest/ Release notes for the project can be found at: https://docs.openstack.org/releasenotes/openstack-ansible-os_monasca/ The project source code repository is located at: https://git.openstack.org/cgit/openstack/openstack-ansible-os_monasca The project home is at: https://launchpad.net/openstack-ansible The project bug tracker is located at: https://bugs.launchpad.net/openstack-ansible,"This project is no longer maintained. The contents of this repository are still available in the Git source code management system. To see the contents of this repository before it reached its end of life, please check out the previous commit with ""git checkout HEAD^1"". For any further questions, please email openstack-discuss@lists.openstack.org or join #openstack-dev on Freenode.",27,8
openstack%2Frally~master~I20f1e3dfce8cbbfe9fdecb124d09897deefc3540,openstack/rally,master,I20f1e3dfce8cbbfe9fdecb124d09897deefc3540,Prepare for a new release 3.3.0,MERGED,2021-06-15 12:54:53.000000000,2021-06-16 11:33:51.000000000,2021-06-16 11:33:51.000000000,"[{'_account_id': 9545}, {'_account_id': 15086}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 12:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/48a3948eca78d6eba0c0d8fe238d497e175a953a', 'message': 'Prepare for a new release 3.3.0\n\nChange-Id: I20f1e3dfce8cbbfe9fdecb124d09897deefc3540\n'}, {'number': 2, 'created': '2021-06-15 13:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/78bcd984e63037751b00292114b58ee5525dffa3', 'message': 'Prepare for a new release 3.3.0\n\nChange-Id: I20f1e3dfce8cbbfe9fdecb124d09897deefc3540\n'}, {'number': 3, 'created': '2021-06-15 17:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4efb6f30a861e5ea234313616556d81842674a1c', 'message': 'Prepare for a new release 3.3.0\n\nChange-Id: I20f1e3dfce8cbbfe9fdecb124d09897deefc3540\n'}, {'number': 4, 'created': '2021-06-16 11:00:41.000000000', 'files': ['DOCKER_README.md', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/e67de57707e7f2a0300ef37c17767f8231b76aab', 'message': 'Prepare for a new release 3.3.0\n\nChange-Id: I20f1e3dfce8cbbfe9fdecb124d09897deefc3540\n'}]",0,796464,e67de57707e7f2a0300ef37c17767f8231b76aab,17,3,4,9545,,,0,"Prepare for a new release 3.3.0

Change-Id: I20f1e3dfce8cbbfe9fdecb124d09897deefc3540
",git fetch https://review.opendev.org/openstack/rally refs/changes/64/796464/1 && git format-patch -1 --stdout FETCH_HEAD,"['DOCKER_README.md', 'CHANGELOG.rst']",2,48a3948eca78d6eba0c0d8fe238d497e175a953a,3.3.0,[3.3.0] - 2021-06-15* Move from Freenode to OFTC irc network Removed ~~~~~~~ * dependency on decorator library. ,[x.x.x] - 202x-xx-xx,14,7
openstack%2Fopenstack-ansible-os_monasca-agent~master~I449d3127d9a7f2b0ff541e46f6eb61f05fc4a917,openstack/openstack-ansible-os_monasca-agent,master,I449d3127d9a7f2b0ff541e46f6eb61f05fc4a917,Re-activate Monasca Agent role for Openstack-Ansible,NEW,2021-06-16 09:51:57.000000000,2021-06-16 11:31:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-16 09:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_monasca-agent/commit/03884d9aa5d331f7c9099115cb42d2fa62158c8d', 'message': 'Re-activate Monasca Agent role for Openstack-Ansible\n\nI want to activate and maintain this role. Now that Monasca Agent can be installed by OSA.\n\nChange-Id: I449d3127d9a7f2b0ff541e46f6eb61f05fc4a917\n'}, {'number': 2, 'created': '2021-06-16 11:22:37.000000000', 'files': ['tasks/main.yml', 'extras/os-monasca-agent-install.yml', 'templates/conf.d.backup/libvirt.yaml.j2', 'templates/conf.d.backup/apache.yaml.j2', 'templates/.apache.cnf.j2', 'templates/conf.d/apache.yaml.j2', 'templates/monasca-agent-systemd-tmpfiles.j2', 'templates/conf.d/zookeeper.yaml.j2', 'templates/conf.d/crash.yaml.j2', 'templates/conf.d.backup/rabbitmq.yaml.j2', 'templates/conf.d/mcache.yaml.j2', 'tests/host_vars/localhost.yml', 'templates/conf.d/kafka.yaml.j2', 'templates/conf.d.backup/process.yaml.j2', 'templates/conf.d.backup/crash.yaml.j2', 'vars/main.yml', 'run_tests.sh', 'templates/conf.d.backup/load.yaml.j2', 'vars/suse-42.yml', 'templates/conf.d.backup/zk.yaml.j2', 'templates/monasca-reconfigure.j2', 'examples/playbook.yml', 'templates/conf.d/ntp.yaml.j2', 'releasenotes/source/_templates/.placeholder', 'templates/conf.d/load.yaml.j2', 'doc/Makefile', 'templates/conf.d/disk.yaml.j2', 'bindep.txt', 'templates/monasca-collector-systemd-init.j2', 'templates/conf.d.backup/mysql.yaml.j2', 'tests/group_vars/all_containers.yml', 'tests/tests-repo-clone.sh', 'templates/conf.d/memory.yaml.j2', 'templates/conf.d.backup/ceph.yaml.j2', 'templates/conf.d.backup/network.yaml.j2', 'templates/docker.yaml.j2', 'templates/conf.d/rabbitmq.yaml.j2', 'templates/monasca-forwarder-systemd-init.j2', 'extras/user_secrets.yml', 'handlers/main.yml', 'tests/test.yml', 'doc/source/configure-monasca-agent.rst', 'templates/conf.d/nginx.yaml.j2', 'doc/source/index.rst', 'templates/conf.d.backup/http_check.yaml.j2', 'vars/ubuntu.yml', 'templates/agent.yaml.j2', 'templates/.rabbitmq.cnf.j2', 'templates/conf.d.backup/postfix.yaml.j2', 'README.rst', 'templates/conf.d.backup/cpu.yaml.j2', 'setup.py', 'defaults/main.yml', 'templates/conf.d.backup/disk.yaml.j2', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'meta/openstack-ansible.yml', 'tasks/monasca_agent_post_install.yml', 'extras/group_vars/all/monasca-agent.yml', 'releasenotes/source/rocky.rst', 'tests/os_monasca-agent-overrides.yml', 'LICENSE', 'templates/conf.d.backup/haproxy.yaml.j2', 'templates/monasca-statsd-systemd-init.j2', 'templates/supervisor.conf.j2', 'tests/test-install-monasca-agent.yml', 'templates/conf.d/process.yaml.j2', 'templates/conf.d/mysql.yaml.j2', 'tests/host_vars/infra1.yml', 'vars/debian.yml', 'releasenotes/source/index.rst', 'templates/conf.d.backup/supervisord.yaml.j2', 'defaults/2main.yml', 'templates/monasca-agent-systemd-init.j2', 'setup.cfg', 'tox.ini', 'meta/main.yml', 'tasks/monasca_agent_pre_install.yml', 'templates/conf.d.backup/memory.yaml.j2', 'templates/conf.d.backup/mcache.yaml.j2', 'templates/conf.d/libvirt.yaml.j2', 'templates/conf.d.backup/host_alive.yaml.j2', 'tests/ansible-role-requirements.yml', 'templates/conf.d/lxc.yaml.j2', 'templates/.my.cnf.j2', 'vars/redhat-7.yml', 'releasenotes/source/_static/.placeholder', 'tasks/monasca_agent_post_install.yml.backup', 'releasenotes/source/stein.rst', 'templates/monasca-agent-systemd-init.j2.backup', 'tests/inventory', 'templates/conf.d.backup/kafka_consumer.yaml.j2', 'doc/source/conf.py', 'templates/conf.d.backup/ntp.yaml.j2', 'templates/conf.d/cpu.yaml.j2', 'releasenotes/source/unreleased.rst', 'releasenotes/source/train.rst', 'templates/conf.d/file_size.yaml.j2', 'zuul.d/project.yaml', 'doc/requirements.txt', 'templates/conf.d/network.yaml.j2', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_monasca-agent/commit/8e0d380e05677b18aac587e1415edbbcbf04a4a2', 'message': 'Re-activate Monasca Agent role for Openstack-Ansible\n\nI want to activate and maintain this role. Now that Monasca Agent can be installed by OSA.\n\nChange-Id: I449d3127d9a7f2b0ff541e46f6eb61f05fc4a917\n'}]",0,796620,8e0d380e05677b18aac587e1415edbbcbf04a4a2,4,1,2,32836,,,0,"Re-activate Monasca Agent role for Openstack-Ansible

I want to activate and maintain this role. Now that Monasca Agent can be installed by OSA.

Change-Id: I449d3127d9a7f2b0ff541e46f6eb61f05fc4a917
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_monasca-agent refs/changes/20/796620/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'extras/os-monasca-agent-install.yml', 'templates/conf.d.backup/libvirt.yaml.j2', 'templates/conf.d.backup/apache.yaml.j2', 'templates/.apache.cnf.j2', 'templates/conf.d/apache.yaml.j2', 'templates/monasca-agent-systemd-tmpfiles.j2', 'templates/conf.d/zookeeper.yaml.j2', 'templates/conf.d/crash.yaml.j2', 'templates/conf.d.backup/rabbitmq.yaml.j2', 'templates/conf.d/mcache.yaml.j2', 'tests/host_vars/localhost.yml', 'templates/conf.d/kafka.yaml.j2', 'templates/conf.d.backup/process.yaml.j2', 'templates/conf.d.backup/crash.yaml.j2', 'vars/main.yml', 'run_tests.sh', 'templates/conf.d.backup/load.yaml.j2', 'vars/suse-42.yml', 'templates/conf.d.backup/zk.yaml.j2', 'templates/monasca-reconfigure.j2', 'examples/playbook.yml', 'templates/conf.d/ntp.yaml.j2', 'releasenotes/source/_templates/.placeholder', 'templates/conf.d/load.yaml.j2', 'doc/Makefile', 'templates/conf.d/disk.yaml.j2', 'bindep.txt', 'templates/monasca-collector-systemd-init.j2', 'templates/conf.d.backup/mysql.yaml.j2', 'tests/group_vars/all_containers.yml', 'tests/tests-repo-clone.sh', 'templates/conf.d/memory.yaml.j2', 'templates/conf.d.backup/ceph.yaml.j2', 'templates/conf.d.backup/network.yaml.j2', 'templates/docker.yaml.j2', 'templates/conf.d/rabbitmq.yaml.j2', 'templates/monasca-forwarder-systemd-init.j2', 'extras/user_secrets.yml', 'handlers/main.yml', 'tests/test.yml', 'doc/source/configure-monasca-agent.rst', 'templates/conf.d/nginx.yaml.j2', 'doc/source/index.rst', 'templates/conf.d.backup/http_check.yaml.j2', 'vars/ubuntu.yml', 'templates/agent.yaml.j2', 'templates/.rabbitmq.cnf.j2', 'templates/conf.d.backup/postfix.yaml.j2', 'README.rst', 'templates/conf.d.backup/cpu.yaml.j2', 'setup.py', 'defaults/main.yml', 'templates/conf.d.backup/disk.yaml.j2', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'meta/openstack-ansible.yml', 'tasks/monasca_agent_post_install.yml', 'extras/group_vars/all/monasca-agent.yml', 'releasenotes/source/rocky.rst', 'tests/os_monasca-agent-overrides.yml', 'LICENSE', 'templates/conf.d.backup/haproxy.yaml.j2', 'templates/monasca-statsd-systemd-init.j2', 'templates/supervisor.conf.j2', 'tests/test-install-monasca-agent.yml', 'templates/conf.d/process.yaml.j2', 'templates/conf.d/mysql.yaml.j2', 'tests/host_vars/infra1.yml', 'vars/debian.yml', 'releasenotes/source/index.rst', 'templates/conf.d.backup/supervisord.yaml.j2', 'defaults/2main.yml', 'templates/monasca-agent-systemd-init.j2', 'setup.cfg', 'tox.ini', 'meta/main.yml', 'tasks/monasca_agent_pre_install.yml', 'templates/conf.d.backup/memory.yaml.j2', 'templates/conf.d.backup/mcache.yaml.j2', 'templates/conf.d/libvirt.yaml.j2', 'templates/conf.d.backup/host_alive.yaml.j2', 'tests/ansible-role-requirements.yml', 'templates/conf.d/lxc.yaml.j2', 'templates/.my.cnf.j2', 'vars/redhat-7.yml', 'releasenotes/source/_static/.placeholder', 'tasks/monasca_agent_post_install.yml.backup', 'releasenotes/source/stein.rst', 'templates/monasca-agent-systemd-init.j2.backup', 'tests/inventory', 'templates/conf.d.backup/kafka_consumer.yaml.j2', 'doc/source/conf.py', 'templates/conf.d.backup/ntp.yaml.j2', 'templates/conf.d/cpu.yaml.j2', 'releasenotes/source/unreleased.rst', 'releasenotes/source/train.rst', 'templates/conf.d/file_size.yaml.j2', 'zuul.d/project.yaml', 'doc/requirements.txt', 'templates/conf.d/network.yaml.j2', 'asddd', 'releasenotes/source/conf.py']",103,03884d9aa5d331f7c9099115cb42d2fa62158c8d,,"#!/usr/bin/env python3 # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # This file is execfile()d with the current directory set to its # containing dir. # # Note that not all possible configuration values are present in this # autogenerated file. # # All configuration values have a default; values that are commented out # serve to show the default. # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. # source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. author = 'OpenStack-Ansible Contributors' category = 'Miscellaneous' copyright = '2014-2016, OpenStack-Ansible Contributors' description = 'OpenStack-Ansible deploys OpenStack environments using Ansible.' project = 'OpenStack-Ansible' role_name = 'os_monasca-agent' target_name = 'openstack-ansible-' + role_name title = 'OpenStack-Ansible Release Notes: ' + role_name + 'role' # The link to the browsable source code (for the left hand menu) oslosphinx_cgit_link = ( ""https://git.openstack.org/cgit/openstack/{}"".format(target_name) ) # Release notes do not need a version number in the title, they # cover multiple releases. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' # openstackdocstheme options repository_name = 'openstack/' + target_name bug_project = project.lower() bug_tag = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: # today = '' # Else, today_fmt is used as the format for a strftime call. # today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. # add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). # add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. # show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'sphinx' # A list of ignored prefixes for module index sorting. # modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. # keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". # html_title = None # A shorter title for the navigation bar. Default is the same as html_title. # html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. # html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. # html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. # html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. html_last_updated_fmt = '%Y-%m-%d %H:%M' # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. # html_use_smartypants = True # Custom sidebar templates, maps document names to template names. # html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. # html_additional_pages = {} # If false, no module index is generated. # html_domain_indices = True # If false, no index is generated. # html_use_index = True # If true, the index is split into individual pages for each letter. # html_split_index = False # If true, links to the reST sources are added to the pages. # html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. # html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. # html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. # html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). # html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = target_name + '-docs' # -- Options for LaTeX output --------------------------------------------- latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ (master_doc, target_name + '.tex', title, author, 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. # latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. # latex_use_parts = False # If true, show page references after internal links. # latex_show_pagerefs = False # If true, show URL addresses after external links. # latex_show_urls = False # Documents to append as an appendix to all manuals. # latex_appendices = [] # If false, no module index is generated. # latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ (master_doc, target_name, title, [author], 1) ] # If true, show URL addresses after external links. # man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ (master_doc, target_name, title, author, project, description, category), ] # Documents to append as an appendix to all manuals. # texinfo_appendices = [] # If false, no module index is generated. # texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. # texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. # texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] ",,4706,8
openstack%2Fpython-tripleoclient~master~I9b541cebf45a155653b39d94994016b44e29f9ac,openstack/python-tripleoclient,master,I9b541cebf45a155653b39d94994016b44e29f9ac,Refactor _validate_args and _update_args_from_answers_file,MERGED,2021-06-04 19:02:21.000000000,2021-06-16 11:30:59.000000000,2021-06-16 11:29:35.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 19:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/33f63e6af3451eca9cc518aa0fcae61d295124a3', 'message': ""Refactor _validate_args and _update_args_from_answers_file\n\nMake the methods functions, as they do not need the\nclass properties.\n\n_validate_args:\n  Move the checks for non environment files outside the\n  'parsed_args.environment_files' condition. We want to\n  check for plan_environment_file, networks_file and\n  answers_file even if no environment files are provided.\n\n_update_args_from_answers_file:\n  Rename the variable to s/args/parsed_args/ to use the\n  same name as elsewhere.\n\nChange-Id: I9b541cebf45a155653b39d94994016b44e29f9ac\n""}, {'number': 2, 'created': '2021-06-04 23:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/25c5723e5c90025730b2ccc3af53afb289fa26f7', 'message': ""Refactor _validate_args and _update_args_from_answers_file\n\nMake the methods functions, as they do not need the\nclass properties.\n\n_validate_args:\n  Move the checks for non environment files outside the\n  'parsed_args.environment_files' condition. We want to\n  check for plan_environment_file, networks_file and\n  answers_file even if no environment files are provided.\n\n_update_args_from_answers_file:\n  Rename the variable to s/args/parsed_args/ to use the\n  same name as elsewhere.\n\nChange-Id: I9b541cebf45a155653b39d94994016b44e29f9ac\n""}, {'number': 3, 'created': '2021-06-05 00:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6186b065f84ae9b010a5804670bc6350af2cf315', 'message': ""Refactor _validate_args and _update_args_from_answers_file\n\nMake the methods functions, as they do not need the\nclass properties.\n\n_validate_args:\n  Move the checks for non environment files outside the\n  'parsed_args.environment_files' condition. We want to\n  check for plan_environment_file, networks_file and\n  answers_file even if no environment files are provided.\n\n_update_args_from_answers_file:\n  Rename the variable to s/args/parsed_args/ to use the\n  same name as elsewhere.\n\nChange-Id: I9b541cebf45a155653b39d94994016b44e29f9ac\n""}, {'number': 4, 'created': '2021-06-09 09:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/278c9576e6aeb60e9afa56d5721aab4fd089cafd', 'message': ""Refactor _validate_args and _update_args_from_answers_file\n\nMake the methods functions, as they do not need the\nclass properties.\n\n_validate_args:\n  Move the checks for non environment files outside the\n  'parsed_args.environment_files' condition. We want to\n  check for plan_environment_file, networks_file and\n  answers_file even if no environment files are provided.\n\n_update_args_from_answers_file:\n  Rename the variable to s/args/parsed_args/ to use the\n  same name as elsewhere.\n\nChange-Id: I9b541cebf45a155653b39d94994016b44e29f9ac\n""}, {'number': 5, 'created': '2021-06-09 20:30:48.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dc8b39adf0e54a454ee61c07cbf9cbf5ee36d6da', 'message': ""Refactor _validate_args and _update_args_from_answers_file\n\nMake the methods functions, as they do not need the\nclass properties.\n\n_validate_args:\n  Move the checks for non environment files outside the\n  'parsed_args.environment_files' condition. We want to\n  check for plan_environment_file, networks_file and\n  answers_file even if no environment files are provided.\n\n_update_args_from_answers_file:\n  Rename the variable to s/args/parsed_args/ to use the\n  same name as elsewhere.\n\nChange-Id: I9b541cebf45a155653b39d94994016b44e29f9ac\n""}]",0,794886,dc8b39adf0e54a454ee61c07cbf9cbf5ee36d6da,19,4,5,24245,,,0,"Refactor _validate_args and _update_args_from_answers_file

Make the methods functions, as they do not need the
class properties.

_validate_args:
  Move the checks for non environment files outside the
  'parsed_args.environment_files' condition. We want to
  check for plan_environment_file, networks_file and
  answers_file even if no environment files are provided.

_update_args_from_answers_file:
  Rename the variable to s/args/parsed_args/ to use the
  same name as elsewhere.

Change-Id: I9b541cebf45a155653b39d94994016b44e29f9ac
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/86/794886/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,33f63e6af3451eca9cc518aa0fcae61d295124a3,overcloud_deploy_clean,"def _update_args_from_answers_file(parsed_args): if parsed_args.answers_file is None: return with open(parsed_args.answers_file, 'r') as answers_file: answers = yaml.safe_load(answers_file) if parsed_args.templates is None: parsed_args.templates = answers['templates'] if 'environments' in answers: if parsed_args.environment_files is not None: answers['environments'].extend(parsed_args.environment_files) parsed_args.environment_files = answers['environments'] def _validate_args(parsed_args): if parsed_args.templates is None and parsed_args.answers_file is None: raise oscexc.CommandError( ""You must specify either --templates or --answers-file"") if parsed_args.baremetal_deployment and not parsed_args.deployed_server: raise oscexc.CommandError( ""Error: --deployed-server must be used when using "" ""--baremetal-deployment"") if parsed_args.environment_directories: _validate_args_environment_dir(parsed_args.environment_directories) not_found = [] # Check networks_file existence if (parsed_args.networks_file and not os.path.isfile(parsed_args.networks_file)): not_found.append(parsed_args.networks_file) # check plan_environment_file existence if (parsed_args.plan_environment_file and not os.path.isfile(parsed_args.plan_environment_file)): not_found.append(parsed_args.plan_environment_file) # check answers_file existence if (parsed_args.answers_file and not os.path.isfile(parsed_args.answers_file)): not_found.append(parsed_args.answers_file) if parsed_args.environment_files: jinja2_envs = [] for env in parsed_args.environment_files: if env.endswith("".j2.yaml""): jinja2_envs.append(env) continue # Tolerate missing file if there's a j2.yaml file that will # be rendered in the plan but not available locally (yet) if (not os.path.isfile(env) and not os.path.isfile(env.replace("".yaml"", "".j2.yaml""))): not_found.append(env) if jinja2_envs: rewritten_paths = [e.replace("".j2.yaml"", "".yaml"") for e in jinja2_envs] raise oscexc.CommandError( ""Error: The following jinja2 files were provided: "" ""{}. Did you mean {}?"".format(' -e '.join(jinja2_envs), ' -e '.join(rewritten_paths))) if not_found: raise oscexc.CommandError( ""Error: The following files were not found: {}"".format( "", "".join(not_found))) _validate_args(parsed_args) _update_args_from_answers_file(parsed_args)"," def _update_args_from_answers_file(self, args): if args.answers_file is not None: with open(args.answers_file, 'r') as answers_file: answers = yaml.safe_load(answers_file) if args.templates is None: args.templates = answers['templates'] if 'environments' in answers: if args.environment_files is not None: answers['environments'].extend(args.environment_files) args.environment_files = answers['environments'] def _validate_args(self, parsed_args): if parsed_args.templates is None and parsed_args.answers_file is None: raise oscexc.CommandError( ""You must specify either --templates or --answers-file"") if parsed_args.environment_files: nonexisting_envs = [] jinja2_envs = [] for env_file in parsed_args.environment_files: if env_file.endswith("".j2.yaml""): jinja2_envs.append(env_file) elif not os.path.isfile(env_file): # Tolerate missing file if there's a j2.yaml file that will # be rendered in the plan but not available locally (yet) if not os.path.isfile(env_file.replace("".yaml"", "".j2.yaml"")): nonexisting_envs.append(env_file) # Check networks_file existence if parsed_args.networks_file: if not os.path.isfile(parsed_args.networks_file): nonexisting_envs.append(parsed_args.networks_file) # check plan_environment_file existence if parsed_args.plan_environment_file: if not os.path.isfile(parsed_args.plan_environment_file): nonexisting_envs.append(parsed_args.plan_environment_file) # check answers_file existence if parsed_args.answers_file: if not os.path.isfile(parsed_args.answers_file): nonexisting_envs.append(parsed_args.answers_file) if jinja2_envs: rewritten_paths = [e.replace("".j2.yaml"", "".yaml"") for e in jinja2_envs] raise oscexc.CommandError( ""Error: The following jinja2 files were provided: -e "" ""{}. Did you mean -e {}?"".format( ' -e '.join(jinja2_envs), ' -e '.join(rewritten_paths))) if nonexisting_envs: raise oscexc.CommandError( ""Error: The following files were not found: {0}"".format( "", "".join(nonexisting_envs))) if (parsed_args.baremetal_deployment and not parsed_args.deployed_server): raise oscexc.CommandError( ""Error: --deployed-server must be used when using "" ""--baremetal-deployment"") if (parsed_args.baremetal_deployment and (parsed_args.config_download_only or parsed_args.setup_only)): raise oscexc.CommandError( ""Error: --config-download-only/--setup-only must not be "" ""used when using --baremetal-deployment"") if parsed_args.environment_directories: _validate_args_environment_dir(parsed_args.environment_directories) self._validate_args(parsed_args) self._update_args_from_answers_file(parsed_args)",78,85
openstack%2Ftripleo-ansible~stable%2Fwallaby~I3f89898227db8649a8937f65fd5e0cc8626cd803,openstack/tripleo-ansible,stable/wallaby,I3f89898227db8649a8937f65fd5e0cc8626cd803,Default net name upper to name lower in net maps,MERGED,2021-06-09 09:54:08.000000000,2021-06-16 11:25:45.000000000,2021-06-16 11:24:19.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-09 09:54:08.000000000', 'files': ['tripleo_ansible/ansible_plugins/module_utils/network_data_v2.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/995fb0b12dcb5f73f820660399a764e254a5f5ce', 'message': 'Default net name upper to name lower in net maps\n\nIf the network does not have the tripleo_network_name\ntag set, default the ""name_upper"" net.name.\n\nCloses-Bug: #1930936\nChange-Id: I3f89898227db8649a8937f65fd5e0cc8626cd803\n(cherry picked from commit fc0be3eb69b94aefe7e0425ef5a818df96076e61)\n'}]",0,795459,995fb0b12dcb5f73f820660399a764e254a5f5ce,8,3,1,24245,,,0,"Default net name upper to name lower in net maps

If the network does not have the tripleo_network_name
tag set, default the ""name_upper"" net.name.

Closes-Bug: #1930936
Change-Id: I3f89898227db8649a8937f65fd5e0cc8626cd803
(cherry picked from commit fc0be3eb69b94aefe7e0425ef5a818df96076e61)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/59/795459/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/module_utils/network_data_v2.py'],1,995fb0b12dcb5f73f820660399a764e254a5f5ce,bug/1930936-stable/wallaby," name_upper=tags.get('tripleo_network_name', net.name)", name_upper=tags.get('tripleo_network_name'),1,1
openstack%2Fheat~master~Id4755c8c58401ebfd42a8c57f94d111de9f74ac1,openstack/heat,master,Id4755c8c58401ebfd42a8c57f94d111de9f74ac1,Fix SQLAlchemy use for version 1.4,MERGED,2021-06-15 21:58:01.000000000,2021-06-16 11:08:45.000000000,2021-06-16 11:06:35.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 21:58:01.000000000', 'files': ['heat/tests/engine/service/test_stack_snapshot.py', 'heat/db/sqlalchemy/api.py', 'heat/tests/engine/service/test_stack_create.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/f341395a4672ac913dc73d084a6f78cc0394e288', 'message': 'Fix SQLAlchemy use for version 1.4\n\nThe change to SQLAlchemy upper constraints has\nbroken some of the tests in Heat. Syntax and usage\nneeds to be updated accordingly to ensure tests work\nwith the 1.4 version of SQLAlchemy.\n\nReference:\nhttps://storyboard.openstack.org/#!/story/2008974\n\nStory: 2008974\nTask: 42616\n\nChange-Id: Id4755c8c58401ebfd42a8c57f94d111de9f74ac1\n'}]",0,796549,f341395a4672ac913dc73d084a6f78cc0394e288,14,3,1,30073,,,0,"Fix SQLAlchemy use for version 1.4

The change to SQLAlchemy upper constraints has
broken some of the tests in Heat. Syntax and usage
needs to be updated accordingly to ensure tests work
with the 1.4 version of SQLAlchemy.

Reference:
https://storyboard.openstack.org/#!/story/2008974

Story: 2008974
Task: 42616

Change-Id: Id4755c8c58401ebfd42a8c57f94d111de9f74ac1
",git fetch https://review.opendev.org/openstack/heat refs/changes/49/796549/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/engine/service/test_stack_snapshot.py', 'heat/db/sqlalchemy/api.py', 'heat/tests/engine/service/test_stack_create.py']",3,f341395a4672ac913dc73d084a6f78cc0394e288,story/2008974, self.man.thread_group_mgr = tools.DummyThreadGroupManager(), self.man.thread_group_mgr = service.ThreadGroupManager() self.man.thread_group_mgr.groups[stk.id].wait(),3,13
openstack%2Fopenstack-ansible-galera_server~master~I1041865b1f488b05240722ff52773d51c151ad62,openstack/openstack-ansible-galera_server,master,I1041865b1f488b05240722ff52773d51c151ad62,Prevent mariadb from OOM killing,MERGED,2021-05-10 12:12:42.000000000,2021-06-16 11:05:27.000000000,2021-06-16 11:03:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-10 12:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/0e0492cfc2acf6f95f377adf43aa4fc9432d3e78', 'message': 'Added OOMScoreAdjust to systemd environment config to avoid mariadb galera to be killed in a oom situration\nCloses-Bug: #1927951\n\nChange-Id: I1041865b1f488b05240722ff52773d51c151ad62\n'}, {'number': 2, 'created': '2021-06-11 14:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/6b96eb76b453e193c90ff951b97e97f7ec8229ee', 'message': 'Prevent mariadb from OOM killing\n\nAdded OOMScoreAdjust to systemd environment config to avoid mariadb galera to be killed in a oom situration\n\nCloses-Bug: #1927951\nChange-Id: I1041865b1f488b05240722ff52773d51c151ad62\n'}, {'number': 3, 'created': '2021-06-11 16:09:46.000000000', 'files': ['templates/systemd.environment.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/cd370e87e6acf3f77e0c1bd0a8a342039ec1d2d3', 'message': 'Prevent mariadb from OOM killing\n\nAdded OOMScoreAdjust to systemd environment config to avoid mariadb galera to be killed in a oom situration\n\nCloses-Bug: #1927951\nChange-Id: I1041865b1f488b05240722ff52773d51c151ad62\n'}]",0,790426,cd370e87e6acf3f77e0c1bd0a8a342039ec1d2d3,23,3,3,27915,,,0,"Prevent mariadb from OOM killing

Added OOMScoreAdjust to systemd environment config to avoid mariadb galera to be killed in a oom situration

Closes-Bug: #1927951
Change-Id: I1041865b1f488b05240722ff52773d51c151ad62
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/26/790426/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/systemd.environment.conf.j2'],1,0e0492cfc2acf6f95f377adf43aa4fc9432d3e78,, # Configure Linux OOM killer to prioritize other targets than mariadb OOMScoreAdjust=-1000,,3,0
openstack%2Fcharm-mysql-router~master~Iac77abd7f449a56c31fb1c16632e5c35baa4a9b6,openstack/charm-mysql-router,master,Iac77abd7f449a56c31fb1c16632e5c35baa4a9b6,Manage mysqlrouter.pid file before start,ABANDONED,2021-06-08 07:01:25.000000000,2021-06-16 10:51:29.000000000,,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-08 07:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/e03608a3c0fc3db8035bc6517df71fb350b0fa07', 'message': 'Manage mysqlrouter.pid file before start\n\nIn certain failure scenarios, mysql-router may be restarted\nor stopped before removing the PID file. Once the service is\nrestarted, it fails with:\n\nError: PID file <PATH TO PID FILE> found. Already running?\n\nGiven that the PID file will only be present if the previous\nrun failed, check and remove it before start. This is achieved\nwith an ExecStartPre condition that tries to remove the PID file.\n\nCloses-bug: #1931095\nChange-Id: Iac77abd7f449a56c31fb1c16632e5c35baa4a9b6\n'}, {'number': 2, 'created': '2021-06-08 09:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/3e8c5212243d793958dc59d488a05186eb5ef616', 'message': 'Manage mysqlrouter.pid file before start\n\nIn certain failure scenarios, mysql-router may be restarted\nor stopped before removing the PID file. Once the service is\nrestarted, it fails with:\n\nError: PID file <PATH TO PID FILE> found. Already running?\n\nGiven that the PID file will only be present if the previous\nrun failed, check and remove it before start. This is achieved\nwith an ExecStartPre condition that tries to remove the PID file.\n\nCloses-bug: #1931095\nChange-Id: Iac77abd7f449a56c31fb1c16632e5c35baa4a9b6\n'}, {'number': 3, 'created': '2021-06-10 11:50:36.000000000', 'files': ['src/templates/mysqlrouter.service'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/0bf53ebbc4de865513ad9321a98485767c2ea3f3', 'message': 'Manage mysqlrouter.pid file before start\n\nIn certain failure scenarios, mysql-router may be restarted\nor stopped before removing the PID file. Once the service is\nrestarted, it fails with:\n\nError: PID file <PATH TO PID FILE> found. Already running?\n\nGiven that the PID file will only be present if the previous\nrun failed, check and remove it before start. This is achieved\nwith an ExecStartPre condition that tries to remove the PID file.\n\nCloses-bug: #1931095\nChange-Id: Iac77abd7f449a56c31fb1c16632e5c35baa4a9b6\n'}]",0,795226,0bf53ebbc4de865513ad9321a98485767c2ea3f3,17,4,3,28510,,,0,"Manage mysqlrouter.pid file before start

In certain failure scenarios, mysql-router may be restarted
or stopped before removing the PID file. Once the service is
restarted, it fails with:

Error: PID file <PATH TO PID FILE> found. Already running?

Given that the PID file will only be present if the previous
run failed, check and remove it before start. This is achieved
with an ExecStartPre condition that tries to remove the PID file.

Closes-bug: #1931095
Change-Id: Iac77abd7f449a56c31fb1c16632e5c35baa4a9b6
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/26/795226/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/mysqlrouter.service'],1,e03608a3c0fc3db8035bc6517df71fb350b0fa07,bug/1931095,ExecStartPre=rm -rf /var/lib/mysql/{{ options.charm_instance.name }}/mysqlrouter.pid || true,,1,0
openstack%2Frally~master~I1c8501dd9bb46284b8aaedababe06cf379367e0d,openstack/rally,master,I1c8501dd9bb46284b8aaedababe06cf379367e0d,Update installation guide,MERGED,2021-06-16 09:41:42.000000000,2021-06-16 10:40:13.000000000,2021-06-16 10:32:42.000000000,"[{'_account_id': 9545}, {'_account_id': 15086}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 09:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/81f528f557760edfec1e5242be9c747062f08192', 'message': 'Update installation guide\n\nChange-Id: I1c8501dd9bb46284b8aaedababe06cf379367e0d\n'}, {'number': 2, 'created': '2021-06-16 09:44:46.000000000', 'files': ['doc/source/install_and_upgrade/install.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/9279809311050c832ce18825b07d745875aff31a', 'message': 'Update installation guide\n\nPartial-Bug: #1902703\nChange-Id: I1c8501dd9bb46284b8aaedababe06cf379367e0d\n'}]",0,796615,9279809311050c832ce18825b07d745875aff31a,9,3,2,9545,,,0,"Update installation guide

Partial-Bug: #1902703
Change-Id: I1c8501dd9bb46284b8aaedababe06cf379367e0d
",git fetch https://review.opendev.org/openstack/rally refs/changes/15/796615/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install_and_upgrade/install.rst'],1,81f528f557760edfec1e5242be9c747062f08192,installation_guide,"The easiest way to install Rally is to use ``pip``. The following command will install rally framework part of the latest released version. pip install rally If you want to install package with rally plugins (for example, OpenStack plugins), you can ignore the step of installation rally framework step since it plugins package should include it as a dependency. # this should install Rally framework and Rally plugins for OpenStack # platform pip install rally-openstackThere are official docker images for Rally package and plugins. Check `Docker Hub <https://hub.docker.com/r/xrally/>`_ for more details."," Copyright 2015 Mirantis Inc. All Rights Reserved. The easiest way to install Rally is by executing its `installation script`_ wget -q -O- https://raw.githubusercontent.com/openstack/rally/master/install_rally.sh | bash # or using curl curl https://raw.githubusercontent.com/openstack/rally/master/install_rally.sh | bash The installation script will also check if all the software required by Rally is already installed in your system; if run as **root** user and some dependency is missing it will ask you if you want to install the required packages. By default it will install Rally in a virtualenv in ``~/rally`` when run as standard user, or install system wide when run as root. You can install Rally in a **venv** by using the option ``--target``: ./install_rally.sh --target /foo/bar You can also install Rally system wide by running script as root and without ``--target`` option: .. code-block:: bash sudo ./install_rally.sh Run ``./install_rally.sh`` with option ``--help`` to have a list of all available options: .. code-block:: console $ ./install_rally.sh --help Usage: install_rally.sh [options] This script will install rally either in the system (as root) or in a virtual environment. Options: -h, --help Print this help text -v, --verbose Verbose mode -s, --system Install system-wide. -d, --target DIRECTORY Install Rally virtual environment into DIRECTORY. (Default: /root/rally if not root). --url Git repository public URL to download Rally from. This is useful when you have only installation script and want to install Rally from custom repository. (Default: https://git.openstack.org/openstack/rally). (Ignored when you are already in git repository). --branch Git branch name, tag (Rally release), commit hash, ref, or other tree-ish to install. (Default: master) Ignored when you are already in git repository. -f, --overwrite Deprecated. Use -r instead. -r, --recreate Remove target directory if it already exist. If neither '-r' nor '-R' is set default behaviour is to ask. -R, --no-recreate Do not remove target directory if it already exist. If neither '-r' nor '-R' is set default behaviour is to ask. -y, --yes Do not ask for confirmation: assume a 'yes' reply to every question. -D, --dbtype TYPE Select the database type. TYPE can be one of 'sqlite', 'mysql', 'postgresql'. Default: sqlite --db-user USER Database user to use. Only used when --dbtype is either 'mysql' or 'postgresql'. --db-password PASSWORD Password of the database user. Only used when --dbtype is either 'mysql' or 'postgresql'. --db-host HOST Database host. Only used when --dbtype is either 'mysql' or 'postgresql' --db-name NAME Name of the database. Only used when --dbtype is either 'mysql' or 'postgresql' -p, --python EXE The python interpreter to use. Default: /usr/bin/python. --develop Install Rally with editable source code try. (Default: false) --no-color Disable output coloring. **Notes:** the script will check if all the software required by Rally is already installed in your system. If this is not the case, it will exit, suggesting you the command to issue **as root** in order to install the dependencies. You also have to set up the **Rally database** after the installation is complete: .. code-block:: bash rally db recreate .. include:: ../../../devstack/README.rstFirst you need to install Docker; Docker supplies `installation instructions for various OSes`_. You can either use the official Rally Docker image, or build your own from the Rally source. To do that, change directory to the root directory of the Rally git repository and run: .. code-block:: bash docker build -t myrally . If you build your own Docker image, substitute ``myrally`` for ``xrally/xrally-openstack`` in the commands below. The Rally Docker image is configured to store the database in the user's home directory - ``/home/rally/data/rally.sqlite``. For persistence of these data, you may want to keep this directory outside of the container. This may be done via 2 ways: * use a docker image. In this case you do not need to initialize the database .. code-block:: bash docker volume create --name rally_volume docker run -v rally_volume:/home/rally/data xrally/xrally-openstack deployment create --name ""foo"" * mount the directory to container. In this case, there is ability to transmit task files inside the container, but you will need to initialize the database by yourself .. code-block:: bash sudo mkdir /var/lib/rally_container sudo chown 65500 /var/lib/rally_container docker run -v /var/lib/rally_container:/home/rally/data xrally/xrally-openstack db create docker run -v /var/lib/rally_container:/home/rally/data xrally/xrally-openstack deployment create --name ""foo"" .. note:: In order for the volume to be accessible by the Rally user (uid: 65500) inside the container, it must be accessible by UID 65500 *outside* the container as well, which is why it is created in ``/var/lib/rally_container``. Creating it in your home directory is only likely to work if your home directory has excessively open permissions (e.g., ``0755``), which is not recommended. You can find all task samples, docs and pre created tasks at /home/rally/source In case you have SELinux enabled and Rally fails to create the database, try executing the following commands to put SELinux into Permissive Mode on the host machine .. code-block:: bash sed -i 's/SELINUX=enforcing/SELINUX=permissive/' /etc/selinux/config setenforce permissive Rally currently has no SELinux policy, which is why it must be run in Permissive mode for certain configurations. If you can help create an SELinux policy for Rally, please contribute! More about docker: https://www.docker.com/ .. references: .. _installation script: https://raw.githubusercontent.com/openstack/rally/master/install_rally.sh .. _installation instructions for various OSes: https://docs.docker.com/install/",11,150
openstack%2Fneutron~stable%2Fussuri~Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c,openstack/neutron,stable/ussuri,Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c,Provide the rpc_response_max_timeout parameter to sriov-agent,MERGED,2021-06-14 14:02:28.000000000,2021-06-16 10:34:21.000000000,2021-06-16 10:31:20.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 14:02:28.000000000', 'files': ['neutron/opts.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/test_opts.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6badfcd6503fdc51f1206667e4e863521397503b', 'message': 'Provide the rpc_response_max_timeout parameter to sriov-agent\n\nThe rpc_response_max_timeout parameter is used in comminucation over\nmessaging queue, thus should be available for sriov-agent which\ncommunicate with neutron-server over messaging queue.\n\nChange-Id: Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c\nCloses-Bug: #1930996\n(cherry picked from commit be43141a5ff6875a146746cb75f927445328c871)\n(cherry picked from commit 04f4d9d406b186d1fc0bda4fe436a567dbc4b70a)\n(cherry picked from commit 41e603b0c3824e9fb62de925c94fe8d5401994b8)\n'}]",0,796221,6badfcd6503fdc51f1206667e4e863521397503b,9,3,1,9816,,,0,"Provide the rpc_response_max_timeout parameter to sriov-agent

The rpc_response_max_timeout parameter is used in comminucation over
messaging queue, thus should be available for sriov-agent which
communicate with neutron-server over messaging queue.

Change-Id: Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c
Closes-Bug: #1930996
(cherry picked from commit be43141a5ff6875a146746cb75f927445328c871)
(cherry picked from commit 04f4d9d406b186d1fc0bda4fe436a567dbc4b70a)
(cherry picked from commit 41e603b0c3824e9fb62de925c94fe8d5401994b8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/796221/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/opts.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/test_opts.py']",3,6badfcd6503fdc51f1206667e4e863521397503b,bug/1930996-stable/wallaby-stable/victoria-stable/ussuri," sriov_agent_opts = opts.list_sriov_agent_opts() self.assertEqual('DEFAULT', sriov_agent_opts[0][0]) self.assertEqual('sriov_nic', sriov_agent_opts[1][0]) self.assertEqual('agent', sriov_agent_opts[2][0])"," self.assertEqual('sriov_nic', opts.list_sriov_agent_opts()[0][0])",11,1
openstack%2Fneutron~stable%2Fwallaby~Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c,openstack/neutron,stable/wallaby,Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c,Provide the rpc_response_max_timeout parameter to sriov-agent,MERGED,2021-06-14 14:00:35.000000000,2021-06-16 10:33:24.000000000,2021-06-16 10:31:12.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 14:00:35.000000000', 'files': ['neutron/opts.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/test_opts.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/04f4d9d406b186d1fc0bda4fe436a567dbc4b70a', 'message': 'Provide the rpc_response_max_timeout parameter to sriov-agent\n\nThe rpc_response_max_timeout parameter is used in comminucation over\nmessaging queue, thus should be available for sriov-agent which\ncommunicate with neutron-server over messaging queue.\n\nChange-Id: Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c\nCloses-Bug: #1930996\n(cherry picked from commit be43141a5ff6875a146746cb75f927445328c871)\n'}]",0,796219,04f4d9d406b186d1fc0bda4fe436a567dbc4b70a,10,3,1,9816,,,0,"Provide the rpc_response_max_timeout parameter to sriov-agent

The rpc_response_max_timeout parameter is used in comminucation over
messaging queue, thus should be available for sriov-agent which
communicate with neutron-server over messaging queue.

Change-Id: Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c
Closes-Bug: #1930996
(cherry picked from commit be43141a5ff6875a146746cb75f927445328c871)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/19/796219/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/opts.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/test_opts.py']",3,04f4d9d406b186d1fc0bda4fe436a567dbc4b70a,bug/1930996-stable/wallaby," sriov_agent_opts = opts.list_sriov_agent_opts() self.assertEqual('DEFAULT', sriov_agent_opts[0][0]) self.assertEqual('sriov_nic', sriov_agent_opts[1][0]) self.assertEqual('agent', sriov_agent_opts[2][0])"," self.assertEqual('sriov_nic', opts.list_sriov_agent_opts()[0][0])",11,1
openstack%2Fdevstack~stable%2Ftrain~Ie166730843f874b9c99e37244e460d7ad33b7eeb,openstack/devstack,stable/train,Ie166730843f874b9c99e37244e460d7ad33b7eeb,Move verify-ipv6-only-deployments,MERGED,2021-06-10 07:37:54.000000000,2021-06-16 10:19:28.000000000,2021-06-16 10:17:58.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-06-10 07:37:54.000000000', 'files': ['tools/verify-ipv6-only-deployments.sh', 'roles/devstack-ipv6-only-deployments-verification/tasks/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/defaults/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/README.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/224fee25a351afed8a0eb605db58bc6bdbf37609', 'message': 'Move verify-ipv6-only-deployments\n\nfrom Tempest to DevStack as it tests DevStack side of things and\nis useful for projects not using Tempest.\n\nVerbatim copy except for the devstack- prefix and the /devstack/\npath.\n\nChange-Id: Ie166730843f874b9c99e37244e460d7ad33b7eeb\n(cherry picked from commit 2fb8c7a5eea6f9321eef36fb9b8fd8e55465c91e)\n'}]",0,795621,224fee25a351afed8a0eb605db58bc6bdbf37609,14,3,1,30491,,,0,"Move verify-ipv6-only-deployments

from Tempest to DevStack as it tests DevStack side of things and
is useful for projects not using Tempest.

Verbatim copy except for the devstack- prefix and the /devstack/
path.

Change-Id: Ie166730843f874b9c99e37244e460d7ad33b7eeb
(cherry picked from commit 2fb8c7a5eea6f9321eef36fb9b8fd8e55465c91e)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/21/795621/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/verify-ipv6-only-deployments.sh', 'roles/devstack-ipv6-only-deployments-verification/tasks/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/defaults/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/README.rst']",4,224fee25a351afed8a0eb605db58bc6bdbf37609,move-verify-ipv6-only-deployments,Verify the IPv6-only deployments This role needs to be invoked from a playbook that run tests. This role verifies the IPv6 setting on devstack side and devstack deploy services on IPv6. This role is invoked before tests are run so that if any missing IPv6 setting or deployments can fail the job early. **Role Variables** .. zuul:rolevar:: devstack_base_dir :default: /opt/stack The devstack base directory. ,,113,0
openstack%2Fironic~master~I72eb4d7f0d26dd5deee9167c5e29cf6af1b683ae,openstack/ironic,master,I72eb4d7f0d26dd5deee9167c5e29cf6af1b683ae,dhcp-less: mention how to provide network_data to instance,MERGED,2021-06-15 13:54:26.000000000,2021-06-16 10:17:13.000000000,2021-06-16 10:15:01.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-15 13:54:26.000000000', 'files': ['doc/source/admin/dhcp-less.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fd7cde9b9ed7e331a4a4932b903534591e42d562', 'message': 'dhcp-less: mention how to provide network_data to instance\n\nChange-Id: I72eb4d7f0d26dd5deee9167c5e29cf6af1b683ae\n'}]",0,796478,fd7cde9b9ed7e331a4a4932b903534591e42d562,10,3,1,10239,,,0,"dhcp-less: mention how to provide network_data to instance

Change-Id: I72eb4d7f0d26dd5deee9167c5e29cf6af1b683ae
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/796478/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/dhcp-less.rst'],1,fd7cde9b9ed7e331a4a4932b903534591e42d562,dhcp-less-configdrive,"You'll need the deployed image to support network data, e.g. by pre-installing cloud-init_ or Glean_ on it (most cloud images have the former). Then you can provide the network data when deploying, for example: .. code-block:: bash baremetal node deploy <node> \ --config-drive ""{\""network_data\"": $(cat ~/network_data.json)}"" Some first-boot services, such as Ignition_, don't support network data. You can provide their configuration as part of user data instead: .. code-block:: bash baremetal node deploy <node> \ --config-drive ""{\""user_data\"": \""... ignition config ...\""}"" .. _cloud-init: https://cloudinit.readthedocs.io/en/latest/ .. _Ignition: https://coreos.github.io/ignition/",,19,0
openstack%2Fautomaton~master~I542ab51a655dbe74a28620ac07952822022e462e,openstack/automaton,master,I542ab51a655dbe74a28620ac07952822022e462e,Moving to OFTC,MERGED,2021-06-04 11:55:11.000000000,2021-06-16 10:16:05.000000000,2021-06-16 10:14:36.000000000,"[{'_account_id': 8556}, {'_account_id': 11628}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 11:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/automaton/commit/55039c97ea9ac20da1b6af0a9b32f8f2a487fc8a', 'message': 'Moving to OFTC\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-May/022724.html\n\nChange-Id: I542ab51a655dbe74a28620ac07952822022e462e\n'}, {'number': 2, 'created': '2021-06-07 21:08:52.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/automaton/commit/0461d8e766b8ba7ea6f3754c70e2f2acd8a457f7', 'message': 'Moving to OFTC\n\nAlso updates the IRC channel from #openstack-state-management\nto #openstack-oslo to reflect the retirement of\nthe #openstack-state-management channel.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-May/022724.html\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-June/022929.html\n\nChange-Id: I542ab51a655dbe74a28620ac07952822022e462e\n'}]",0,794783,0461d8e766b8ba7ea6f3754c70e2f2acd8a457f7,10,4,2,28522,,,0,"Moving to OFTC

Also updates the IRC channel from #openstack-state-management
to #openstack-oslo to reflect the retirement of
the #openstack-state-management channel.

http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022724.html
http://lists.openstack.org/pipermail/openstack-discuss/2021-June/022929.html

Change-Id: I542ab51a655dbe74a28620ac07952822022e462e
",git fetch https://review.opendev.org/openstack/automaton refs/changes/83/794783/2 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,55039c97ea9ac20da1b6af0a9b32f8f2a487fc8a,oftc,irc.OFTC.net.,irc.freenode.net.,1,1
openstack%2Foslo.tools~master~I3db9febff755b9f009489b6c1659de103dcbdbbf,openstack/oslo.tools,master,I3db9febff755b9f009489b6c1659de103dcbdbbf,Moving to OFTC,MERGED,2021-06-04 11:57:19.000000000,2021-06-16 10:13:41.000000000,2021-06-16 10:13:41.000000000,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 11:57:19.000000000', 'files': ['oslobot/config.py'], 'web_link': 'https://opendev.org/openstack/oslo.tools/commit/201b537f95f783ab024eabe268f261dfdccd6d4e', 'message': 'Moving to OFTC\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-May/022724.html\n\nChange-Id: I3db9febff755b9f009489b6c1659de103dcbdbbf\n'}]",0,794787,201b537f95f783ab024eabe268f261dfdccd6d4e,7,3,1,28522,,,0,"Moving to OFTC

http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022724.html

Change-Id: I3db9febff755b9f009489b6c1659de103dcbdbbf
",git fetch https://review.opendev.org/openstack/oslo.tools refs/changes/87/794787/1 && git format-patch -1 --stdout FETCH_HEAD,['oslobot/config.py'],1,201b537f95f783ab024eabe268f261dfdccd6d4e,oftc," 'server': 'irc.oftc.net',"," 'server': 'chat.freenode.net',",1,1
openstack%2Fironic~master~If8ab089efdb2c035bc28dc400629760dcbce4c23,openstack/ironic,master,If8ab089efdb2c035bc28dc400629760dcbce4c23,Document managed inspection,MERGED,2021-06-15 14:14:18.000000000,2021-06-16 10:07:36.000000000,2021-06-16 10:05:38.000000000,"[{'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-15 14:14:18.000000000', 'files': ['doc/source/admin/inspection.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/50b84c9aede3b54a5c0fcda7c64aa0f720cc8582', 'message': 'Document managed inspection\n\nChange-Id: If8ab089efdb2c035bc28dc400629760dcbce4c23\n'}]",3,796487,50b84c9aede3b54a5c0fcda7c64aa0f720cc8582,8,3,1,10239,,,0,"Document managed inspection

Change-Id: If8ab089efdb2c035bc28dc400629760dcbce4c23
",git fetch https://review.opendev.org/openstack/ironic refs/changes/87/796487/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/inspection.rst'],1,50b84c9aede3b54a5c0fcda7c64aa0f720cc8582,managed-inspection,"configuration file must be set: .. code-block:: iniThere are two modes of in-band inspection: `managed inspection`_ and `unmanaged inspection`_. Managed inspection ~~~~~~~~~~~~~~~~~~ Inspection is *managed* when the Bare Metal conductor fully configures the node for inspection, including setting boot device, boot mode and power state. This is the only way to conductor inspection using :ref:`redfish-virtual-media` or with :doc:`/admin/dhcp-less`. This mode is engaged automatically when the node has sufficient information to configure boot (e.g. ports in case of iPXE). There are a few configuration options that tune managed inspection, the most important is ``extra_kernel_params``, which allows add kernel parameters for inspection specifically. This is where you can configure :ironic-python-agent-doc:`inspection collectors and other parameters <admin/how_it_works.html#inspection>`, for example: .. code-block:: ini [inspector] extra_kernel_params = ipa-inspection-collectors=default,logs ipa-collect-lldp=1 For callback URL the ironic-inspector endpoint from the service catalog is used. If you want to override the endpoint for callback only, set the following option: .. code-block:: ini [inspector] callback_endpoint_override = https://example.com/baremetal-introspection/v1/continue Unmanaged inspection ~~~~~~~~~~~~~~~~~~~~ Under *unmanaged* inspection we understand in-band inspection orchestrated by ironic-inspector or a third party. This was the only inspection mode before the Ussuri release, and it is still used when the node's boot cannot be configured by the conductor. The options described above do not affect unmanaged inspection. See :ironic-inspector-doc:`ironic-inspector installation guide <install/index.html>` for more information. If you want to **prevent** unmanaged inspection from working, set this option: .. code-block:: ini [inspector] require_managed_boot = True",configuration file must be set::,52,1
openstack%2Frally~master~I96666afc1ad9a5c64ca5b98647cb0ba185389524,openstack/rally,master,I96666afc1ad9a5c64ca5b98647cb0ba185389524,Update requirements,MERGED,2021-06-15 12:21:53.000000000,2021-06-16 10:01:36.000000000,2021-06-16 10:01:36.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 12:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/99c9a4016f76d6d3f7911e2411aafea84e7e1ac9', 'message': 'Update requirements\n\nChange-Id: I96666afc1ad9a5c64ca5b98647cb0ba185389524\n'}, {'number': 2, 'created': '2021-06-15 12:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4e7050c77c5a54c87bd15315a903189a0f8c2f0d', 'message': 'Update requirements\n\nChange-Id: I96666afc1ad9a5c64ca5b98647cb0ba185389524\n'}, {'number': 3, 'created': '2021-06-15 13:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ba81f06a6df1d271ae1db11ac7711a3afeef5fec', 'message': 'Update requirements\n\n* fix discovering os distro\n\nChange-Id: I96666afc1ad9a5c64ca5b98647cb0ba185389524\n'}, {'number': 4, 'created': '2021-06-15 13:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b4606d9e74204d612ee98bb2e8cd33806b95663b', 'message': 'Update requirements\n\n* fix discovering os distro\n\nChange-Id: I96666afc1ad9a5c64ca5b98647cb0ba185389524\n'}, {'number': 5, 'created': '2021-06-15 13:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8b242d0e7738c0f27f45a59728eb34d8207fe897', 'message': 'Update requirements\n\n* fix discovering os distro\n\nChange-Id: I96666afc1ad9a5c64ca5b98647cb0ba185389524\n'}, {'number': 6, 'created': '2021-06-15 15:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8e7b364655111695f0d9c29efb1d883f71f57e1e', 'message': 'Update requirements\n\n* fix discovering os distro\n\nChange-Id: I96666afc1ad9a5c64ca5b98647cb0ba185389524\n'}, {'number': 7, 'created': '2021-06-15 15:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7292b25080ad80b2d4efd67f800b1f6635113415', 'message': 'Update requirements\n\n* fix discovering os distro\n\nChange-Id: I96666afc1ad9a5c64ca5b98647cb0ba185389524\n'}, {'number': 8, 'created': '2021-06-15 15:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/72c714f4313c9d81e42af4873f6d2b0f7a507dff', 'message': 'Update requirements\n\n* fix discovering os distro\n\nChange-Id: I96666afc1ad9a5c64ca5b98647cb0ba185389524\n'}, {'number': 9, 'created': '2021-06-15 16:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/81276c0f9f7abd82ed9a00b6c4bf9e9f2a80718a', 'message': 'Update requirements\n\n* fix discovering os distro\n\nChange-Id: I96666afc1ad9a5c64ca5b98647cb0ba185389524\n'}, {'number': 10, 'created': '2021-06-15 16:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/95aa71a170a7347d3116240cc34fe8546177a2ea', 'message': 'Update requirements\n\n* fix discovering os distro\n\nChange-Id: I96666afc1ad9a5c64ca5b98647cb0ba185389524\n'}, {'number': 11, 'created': '2021-06-15 16:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a54fbd782f3a2702b4a37420c70592ab84af1cfa', 'message': 'Update requirements\n\n* fix discovering os distro\n\nChange-Id: I96666afc1ad9a5c64ca5b98647cb0ba185389524\n'}, {'number': 12, 'created': '2021-06-15 17:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9a683d86c4c5bc6993bf20e67bfc71a28148ff15', 'message': 'Update requirements\n\n* fix discovering os distro\n\nChange-Id: I96666afc1ad9a5c64ca5b98647cb0ba185389524\n'}, {'number': 13, 'created': '2021-06-15 17:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/294537371b9379771308a38184406027d562d658', 'message': 'Update requirements\n\n* fix discovering os distro\n\nChange-Id: I96666afc1ad9a5c64ca5b98647cb0ba185389524\n'}, {'number': 14, 'created': '2021-06-15 17:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/0a885c1c26843a7e3e253b5863b61ce8355d5365', 'message': 'Update requirements\n\n* fix discovering os distro\n\nChange-Id: I96666afc1ad9a5c64ca5b98647cb0ba185389524\n'}, {'number': 15, 'created': '2021-06-16 08:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9865110531511208486b32184f108bfacc71f323', 'message': 'Update requirements\n\n* fix discovering os distro\n\nChange-Id: I96666afc1ad9a5c64ca5b98647cb0ba185389524\n'}, {'number': 16, 'created': '2021-06-16 09:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d322dbcd573e6f9ba949c3f765ce44def8cca492', 'message': 'Update requirements\n\n* fix discovering os distro\n\nChange-Id: I96666afc1ad9a5c64ca5b98647cb0ba185389524\n'}, {'number': 17, 'created': '2021-06-16 09:24:43.000000000', 'files': ['rally/ui/utils.py', 'requirements.txt', 'tests/ci/playbooks/rally-install-pre.yaml', 'setup.cfg', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/rally/commit/8481235950263ed391a94547bda5c9939140d031', 'message': 'Update requirements\n\n* fix discovering os distro\n\nChange-Id: I96666afc1ad9a5c64ca5b98647cb0ba185389524\n'}]",0,796454,8481235950263ed391a94547bda5c9939140d031,37,2,17,9545,,,0,"Update requirements

* fix discovering os distro

Change-Id: I96666afc1ad9a5c64ca5b98647cb0ba185389524
",git fetch https://review.opendev.org/openstack/rally refs/changes/54/796454/16 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'upper-constraints.txt']",2,99c9a4016f76d6d3f7911e2411aafea84e7e1ac9,uc,alembic===1.6.5attrs===21.2.0certifi===2021.5.30 cffi===1.14.5 chardet===4.0.0 cryptography===3.4.7distlib===0.3.2greenlet===1.1.0importlib-metadata===4.5.0 importlib-resources===5.1.4 iso8601===0.1.14 Jinja2===3.0.1Mako===1.1.4 MarkupSafe===2.0.1 msgpack===1.0.2netifaces===0.11.0 oslo.config===8.7.0 oslo.context===3.3.0 oslo.db===9.0.0oslo.log===4.5.0 oslo.serialization===4.1.0 oslo.utils===4.9.0 packaging===20.9pbr===5.6.0 pip===21.0.1pyOpenSSL===20.0.1pytz===2021.1 PyYAML===5.4.1 requests===2.25.1 rfc3986===1.5.0 setuptools===57.0.0 six===1.16.0 SQLAlchemy===1.4.15stevedore===3.3.0typing-extensions===3.10.0.0urllib3===1.26.5 virtualenv===20.4.7 wheel===0.36.2zipp===3.4.1,alembic===1.4.3attrs===20.2.0certifi===2020.6.20 cffi===1.14.3 chardet===3.0.4 cryptography===3.2decorator===4.4.2 distlib===0.3.1importlib-metadata===2.0.0 importlib-resources===3.2.0 iso8601===0.1.13 Jinja2===2.11.2Mako===1.1.3 MarkupSafe===1.1.1 msgpack===1.0.0netifaces===0.10.9 oslo.config===8.3.2 oslo.context===3.1.1 oslo.db===8.4.0oslo.log===4.4.0 oslo.serialization===4.0.1 oslo.utils===4.6.0 packaging===20.4pbr===5.5.1 pip===20.1.1pyOpenSSL===19.1.0pytz===2020.1 PyYAML===5.3.1 requests===2.23.0 rfc3986===1.4.0 setuptools===50.3.0 six===1.15.0 SQLAlchemy===1.3.20stevedore===3.2.2urllib3===1.25.11 virtualenv===20.1.0 wcwidth===0.2.5 wheel===0.35.1zipp===3.4.0,41,41
openstack%2Frally~master~I3ae0a6c1a99cda93a394a89c1056e3628cf794a4,openstack/rally,master,I3ae0a6c1a99cda93a394a89c1056e3628cf794a4,Change base image,MERGED,2021-06-16 08:53:41.000000000,2021-06-16 09:27:07.000000000,2021-06-16 09:27:07.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 08:53:41.000000000', 'files': ['Dockerfile', 'DOCKER_README.md', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/e15d4aa8d3c49b973a3057637da3690269673400', 'message': 'Change base image\n\nChange-Id: I3ae0a6c1a99cda93a394a89c1056e3628cf794a4\n'}]",0,796609,e15d4aa8d3c49b973a3057637da3690269673400,6,2,1,9545,,,0,"Change base image

Change-Id: I3ae0a6c1a99cda93a394a89c1056e3628cf794a4
",git fetch https://review.opendev.org/openstack/rally refs/changes/09/796609/1 && git format-patch -1 --stdout FETCH_HEAD,"['Dockerfile', 'DOCKER_README.md', 'CHANGELOG.rst']",3,e15d4aa8d3c49b973a3057637da3690269673400,docker_image,* Switch docker image from ubuntu 18.04 to ubuntu 20.04 ,,4,2
openstack%2Fnetworking-ovn~stable%2Fstein~I619964d2436b43eec200aee6074ce3f27dba4a4f,openstack/networking-ovn,stable/stein,I619964d2436b43eec200aee6074ce3f27dba4a4f,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2021-06-15 14:47:00.000000000,2021-06-16 09:25:04.000000000,2021-06-16 09:23:00.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 14:47:00.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d55b38d408f835df9fbad492b97068f1fdf4c294', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extened Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nChange-Id: I619964d2436b43eec200aee6074ce3f27dba4a4f\n'}]",0,796494,d55b38d408f835df9fbad492b97068f1fdf4c294,8,3,1,11975,,,0,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extened Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Change-Id: I619964d2436b43eec200aee6074ce3f27dba4a4f
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/94/796494/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,d55b38d408f835df9fbad492b97068f1fdf4c294,clean-non-voting-jobs-stable/stein, - networking-ovn-dsvm-grenade: branches: ^(?!stable/(ocata|pike|queens)).*$ voting: false - openstack-tox-cover: required-projects: - openstack/neutron voting: false, - networking-ovn-dsvm-grenade: branches: ^(?!stable/(ocata|pike|queens)).*$ voting: false - openstack-tox-cover: required-projects: - openstack/neutron voting: false,7,8
openstack%2Ftripleo-common~master~I092a6bfb64d434e51b6434eb8216e0fd8dfb2187,openstack/tripleo-common,master,I092a6bfb64d434e51b6434eb8216e0fd8dfb2187,Merge ansible_group_vars in THT,MERGED,2021-06-14 04:51:44.000000000,2021-06-16 09:07:10.000000000,2021-06-16 09:00:33.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-06-14 04:51:44.000000000', 'files': ['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1fa09903275643cab9036a78ed13826f48a13d73', 'message': ""Merge ansible_group_vars in THT\n\nThis removes merging of ansible_group_vars when\ndownloading config, as we now merge them from the\nServiceChains in THT in order to better manage them\nat one place.\n\nExtraGroupVars override what's set in the services.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/796135\nChange-Id: I092a6bfb64d434e51b6434eb8216e0fd8dfb2187\n""}]",0,796172,1fa09903275643cab9036a78ed13826f48a13d73,11,6,1,8833,,,0,"Merge ansible_group_vars in THT

This removes merging of ansible_group_vars when
downloading config, as we now merge them from the
ServiceChains in THT in order to better manage them
at one place.

ExtraGroupVars override what's set in the services.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/796135
Change-Id: I092a6bfb64d434e51b6434eb8216e0fd8dfb2187
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/72/796172/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py']",2,1fa09903275643cab9036a78ed13826f48a13d73,," 'chrony_acl': 'none', 'chrony_acl': 'none',"," {'output_key': 'RoleData', 'output_value': { 'Controller': { 'ansible_group_vars': { 'chrony_host': 'localhost', 'chrony_acl': 'none', }}}}, {'output_key': 'RoleData', 'output_value': { 'Controller': { 'ansible_group_vars': { 'chrony_host': 'localhost', 'chrony_acl': 'none', }}}},",2,18
openstack%2Fcharm-mysql-router~master~Id3f7605ad1e9e4a6e4b0a1abe8000abd75b5b0fd,openstack/charm-mysql-router,master,Id3f7605ad1e9e4a6e4b0a1abe8000abd75b5b0fd,Configure /run/mysql location for PID file,MERGED,2021-06-14 13:17:08.000000000,2021-06-16 09:02:47.000000000,2021-06-16 09:02:47.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 13:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/3b388f44cf976d553f391e369ea1afd534177b0b', 'message': 'Configure /run location for PID file\n\nEnsure that a location in /run is used for the PID file for\nthe mysqlrouter instance - this ensures that in the event\nof a power outage, the old PID file will not be present and\nthe daemon will correctly startup when the machine starts up.\n\nCloses-Bug: 1931095\nChange-Id: Id3f7605ad1e9e4a6e4b0a1abe8000abd75b5b0fd\n'}, {'number': 2, 'created': '2021-06-14 14:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/685f0495c84b18f2cc35424b0c69b10182ee6e3f', 'message': 'Configure /run location for PID file\n\nEnsure that a location in /run is used for the PID file for\nthe mysqlrouter instance - this ensures that in the event\nof a power outage, the old PID file will not be present and\nthe daemon will correctly startup when the machine starts up.\n\nCloses-Bug: 1931095\nChange-Id: Id3f7605ad1e9e4a6e4b0a1abe8000abd75b5b0fd\n'}, {'number': 3, 'created': '2021-06-14 14:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/df46c6d3545f164b3e1c251d1ec671d00bdfcac8', 'message': 'Configure /run/mysql location for PID file\n\nEnsure that a location in /run is used for the PID file for\nthe mysqlrouter instance - this ensures that in the event\nof a power outage, the old PID file will not be present and\nthe daemon will correctly startup when the machine starts up.\n\nCloses-Bug: 1931095\nChange-Id: Id3f7605ad1e9e4a6e4b0a1abe8000abd75b5b0fd\n'}, {'number': 4, 'created': '2021-06-14 14:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/e6a9b11a45ff3824f2319fd27dfaa68dfcccd796', 'message': 'Configure /run/mysql location for PID file\n\nEnsure that a location in /run is used for the PID file for\nthe mysqlrouter instance - this ensures that in the event\nof a power outage, the old PID file will not be present and\nthe daemon will correctly startup when the machine starts up.\n\nCloses-Bug: 1931095\nChange-Id: Id3f7605ad1e9e4a6e4b0a1abe8000abd75b5b0fd\n'}, {'number': 5, 'created': '2021-06-14 14:45:14.000000000', 'files': ['src/lib/charm/openstack/mysql_router.py', 'src/templates/mysqlrouter.service', 'unit_tests/test_lib_charm_openstack_mysql_router.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/72aca90ea3551a95ecf0bf301fd626bfb8b25a97', 'message': ""Configure /run/mysql location for PID file\n\nEnsure that a location in /run is used for the PID file for\nthe mysqlrouter instance - this ensures that in the event\nof a power outage, the old PID file will not be present and\nthe daemon will correctly startup when the machine starts up.\n\nUpdate systemd configuration to create /run/mysql and to use\nthe mysql user and group to execute the daemon.\n\nSwitch to 'forking' mode to ensure that the mysqlrouter process\ngets tracked by systemd.\n\nCloses-Bug: 1931095\nChange-Id: Id3f7605ad1e9e4a6e4b0a1abe8000abd75b5b0fd\n""}]",0,796274,72aca90ea3551a95ecf0bf301fd626bfb8b25a97,24,5,5,935,,,0,"Configure /run/mysql location for PID file

Ensure that a location in /run is used for the PID file for
the mysqlrouter instance - this ensures that in the event
of a power outage, the old PID file will not be present and
the daemon will correctly startup when the machine starts up.

Update systemd configuration to create /run/mysql and to use
the mysql user and group to execute the daemon.

Switch to 'forking' mode to ensure that the mysqlrouter process
gets tracked by systemd.

Closes-Bug: 1931095
Change-Id: Id3f7605ad1e9e4a6e4b0a1abe8000abd75b5b0fd
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/74/796274/3 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/mysql_router.py'],1,3b388f44cf976d553f391e369ea1afd534177b0b,bug/1931095," def mysqlrouter_pid_file(self): """"""Determine the path for the mysqlrouter PID file. :param self: Self :type self: MySQLRouterCharm instance :returns: Path to the PID file in /run :rtype: str """""" return ""/run/mysqlrouter-{}.pid"".format(self.name) @property }, ""DEFAULT"": { ""pid_file"": self.mysqlrouter_pid_file",,14,0
openstack%2Frally~master~Ib0926420094443126be322d759c37a926675984b,openstack/rally,master,Ib0926420094443126be322d759c37a926675984b,setup.cfg: Replace dashes with underscores,MERGED,2021-05-01 07:09:32.000000000,2021-06-16 08:57:24.000000000,2021-06-16 08:57:24.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-01 07:09:32.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/rally/commit/eeeb08dfce84b1e2ee68b235e3189f402e8c4147', 'message': ""setup.cfg: Replace dashes with underscores\n\nResolves warnings like the following:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: Ib0926420094443126be322d759c37a926675984b\n""}]",0,789039,eeeb08dfce84b1e2ee68b235e3189f402e8c4147,6,2,1,30092,,,0,"setup.cfg: Replace dashes with underscores

Resolves warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: Ib0926420094443126be322d759c37a926675984b
",git fetch https://review.opendev.org/openstack/rally refs/changes/39/789039/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,eeeb08dfce84b1e2ee68b235e3189f402e8c4147,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/rally/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/rally/latest/,3,3
openstack%2Fansible-collections-openstack~master~If866ef04ae822b09b162773262e49ec8f33f5e92,openstack/ansible-collections-openstack,master,If866ef04ae822b09b162773262e49ec8f33f5e92,Switch identity_domain_info module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-16 08:56:22.000000000,2021-06-16 08:56:22.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bc36d9f5e5d326625617410c98d11ab1f1c65f27', 'message': 'Switch identity_domain_info module to OpenStackModule\n\nChange-Id: If866ef04ae822b09b162773262e49ec8f33f5e92\n'}, {'number': 2, 'created': '2021-05-21 07:38:50.000000000', 'files': ['plugins/modules/identity_domain_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/59df1836603df2ba7d7082ae83cc595a182ae2db', 'message': 'Switch identity_domain_info module to OpenStackModule\n\nChange-Id: If866ef04ae822b09b162773262e49ec8f33f5e92\n'}]",0,792433,59df1836603df2ba7d7082ae83cc595a182ae2db,8,2,2,27900,,,0,"Switch identity_domain_info module to OpenStackModule

Change-Id: If866ef04ae822b09b162773262e49ec8f33f5e92
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/33/792433/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/identity_domain_info.py'],1,bc36d9f5e5d326625617410c98d11ab1f1c65f27,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class IdentityDomainInfoModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( deprecated_names = ('openstack.cloud.identity_domain_facts') def run(self): name = self.params['name'] filters = self.params['filters'] domains = self.conn.get_domain(name) except Exception: domains = self.conn.search_domains(filters={'name': name}) domains = self.conn.search_domains(filters) self.exit_json(changed=False, openstack_domains=domains) def main(): module = IdentityDomainInfoModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs( module = AnsibleModule(argument_spec, **module_kwargs) is_old_facts = module._name == 'openstack.cloud.identity_domain_facts' if is_old_facts: module.deprecate(""The 'openstack.cloud.identity_domain_facts' module has been renamed to 'openstack.cloud.identity_domain_info', "" ""and the renamed one no longer returns ansible_facts"", version='2.0.0', collection_name='openstack.cloud') sdk, opcloud = openstack_cloud_from_module(module) try: name = module.params['name'] filters = module.params['filters'] domains = opcloud.get_domain(name) except Exception: domains = opcloud.search_domains(filters={'name': name}) domains = opcloud.search_domains(filters) if is_old_facts: module.exit_json(changed=False, ansible_facts=dict( openstack_domains=domains)) else: module.exit_json(changed=False, openstack_domains=domains) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",17,28
openstack%2Fneutron-specs~master~Id4de3ec57989190421658fc80416ea9ddc01a178,openstack/neutron-specs,master,Id4de3ec57989190421658fc80416ea9ddc01a178,Remove Xena placeholder spec,MERGED,2021-03-18 13:40:55.000000000,2021-06-16 08:53:22.000000000,2021-06-16 08:52:10.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-18 13:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9165a0e9409a88e580c41e80ce0c70578a17fa63', 'message': 'Remove Xena placeholder spec\n\nCan be removed as soon as we have merged the first Xena spec.\n\nChange-Id: Id4de3ec57989190421658fc80416ea9ddc01a178\n'}, {'number': 2, 'created': '2021-06-01 13:24:55.000000000', 'files': ['specs/xena/placeholder.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f9fd6ea7e5d3890a01fb7cb077da9688cdb08b83', 'message': 'Remove Xena placeholder spec\n\nCan be removed as soon as we have merged the first Xena spec.\n\nChange-Id: Id4de3ec57989190421658fc80416ea9ddc01a178\n'}]",0,781474,f9fd6ea7e5d3890a01fb7cb077da9688cdb08b83,11,3,2,15554,,,0,"Remove Xena placeholder spec

Can be removed as soon as we have merged the first Xena spec.

Change-Id: Id4de3ec57989190421658fc80416ea9ddc01a178
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/74/781474/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/placeholder.rst'],1,9165a0e9409a88e580c41e80ce0c70578a17fa63,xena,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================== Example Spec - The title of your RFE ==================================== Include the URL of your launchpad RFE: https://bugs.launchpad.net/neutron/+bug/example-id Introduction paragraph -- why are we doing this feature? A single paragraph of prose that **deployers, and developers, and operators** can understand. Do you even need to file a spec? Most features can be done by filing an RFE bug and moving on with life. In most cases, filing an RFE and documenting your design in the devref folder of neutron docs is sufficient. If the feature seems very large or contentious, then the drivers team may request a spec, or you can always file one if desired. Problem Description =================== A detailed description of the problem: * For a new feature this should be a list of use cases. Ensure that you are clear about the actors in each use case: End User vs Deployer. Ensure that you identify which area of the core is being affected; for something completely new, it should be clear why you are considering it being part of the core. * For a major reworking of something existing it would describe the problems in that feature that are being addressed. Note that the RFE filed for this feature will have a description already. This section is not meant to simply duplicate that; you can simply refer to that description if it is sufficient, and use this space to capture changes to the description based on bug comments or feedback on the spec. Proposed Change =============== How do you propose to solve this problem? This section is optional, and provides an area to discuss your high-level design at the same time as use cases, if desired. Note that by high-level, we mean the ""view from orbit"" rough cut at how things will happen. This section should 'scope' the effort from a feature standpoint: how is the 'neutron end-to-end system' going to look like after this change? What Neutron areas do you intend to touch and how do you intend to work on them? The list below is not meant to be a template to fill in, but rather a jumpstart on the sorts of areas to consider in your proposed change description. * Am I going to see new CLI commands? * Is OpenStack CLI covered in addition to neutronclient? * How do you intend to support or affect aspects like: * Address Management, e.g. IPv6, DHCP * Routing, e.g. DVR/HA * Plugins, ML2 Drivers, e.g. OVS, LinuxBridge * Agents, e.g. metadata * High level services, e.g. \*-aas. * Scheduling, quota, and policy management, e.g. admin vs user rights * API and extensions * Clients * Impact on services or out-of-tree plugins/drivers * What do you intend to not support in the initial release? You do not need to detail API or data model changes. Details at that level of granularity belong in the neutron devref docs. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. ",0,82
openstack%2Fcontributor-guide~master~Ic6df35e1574ec936b57d5808dff13bab1552a73e,openstack/contributor-guide,master,Ic6df35e1574ec936b57d5808dff13bab1552a73e,Update the warning msg about OFTC migration,MERGED,2021-06-15 21:29:18.000000000,2021-06-16 08:52:03.000000000,2021-06-16 08:50:18.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-15 21:29:18.000000000', 'files': ['doc/source/common/irc.rst'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/8fce14df4f6f3b469f3e3f257c36c1ce2183a99e', 'message': 'Update the warning msg about OFTC migration\n\nChange-Id: Ic6df35e1574ec936b57d5808dff13bab1552a73e\n'}]",0,796541,8fce14df4f6f3b469f3e3f257c36c1ce2183a99e,8,3,1,8556,,,0,"Update the warning msg about OFTC migration

Change-Id: Ic6df35e1574ec936b57d5808dff13bab1552a73e
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/41/796541/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/irc.rst'],1,8fce14df4f6f3b469f3e3f257c36c1ce2183a99e,oftc, The OpenStack Community moved the IRC network from Freenode to OFTC community are registered in the OFTC network with the same name.," The OpenStack Community will be moving the IRC network from Freenode to OFTC community are registered in the OFTC network, too. More details on how to use OFTC on various platform are coming soon.",2,3
openstack%2Fcharm-octavia~master~I529ccb461357b7205780cb68101f9ab6c70f6489,openstack/charm-octavia,master,I529ccb461357b7205780cb68101f9ab6c70f6489,WIP Please do not merge. Renable Octavia OVN Victoria,ABANDONED,2021-02-12 11:06:20.000000000,2021-06-16 08:46:33.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-12 11:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/97de30b9102bac79fd5a1f016a7be2025b0527f9', 'message': 'WIP Please do not merge. Renable Octavia OVN Victoria\n\nChange-Id: I529ccb461357b7205780cb68101f9ab6c70f6489\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/506\n'}, {'number': 2, 'created': '2021-02-13 09:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/38291fff90a60da6a7b29341df7d227bc81bf5e1', 'message': 'WIP Please do not merge. Renable Octavia OVN Victoria\n\nChange-Id: I529ccb461357b7205780cb68101f9ab6c70f6489\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/506\n'}, {'number': 3, 'created': '2021-02-14 13:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/f3d2a5d9cef01f1d44eac16fd0e17b93904dda8f', 'message': 'WIP Please do not merge. Renable Octavia OVN Victoria\n\nChange-Id: I529ccb461357b7205780cb68101f9ab6c70f6489\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/506\n'}, {'number': 4, 'created': '2021-02-23 11:21:47.000000000', 'files': ['src/tests/bundles/focal-victoria-ha-ovn.yaml', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/groovy-victoria-ha-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/4394af2ed864534c9a7d9a4a04b46f15ca0e3070', 'message': 'WIP Please do not merge. Renable Octavia OVN Victoria\n\nChange-Id: I529ccb461357b7205780cb68101f9ab6c70f6489\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/506\n'}]",0,775364,4394af2ed864534c9a7d9a4a04b46f15ca0e3070,25,2,4,12549,,,0,"WIP Please do not merge. Renable Octavia OVN Victoria

Change-Id: I529ccb461357b7205780cb68101f9ab6c70f6489
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/506
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/64/775364/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/groovy-victoria-ha-ovn.yaml', 'src/tests/tests.yaml']",2,97de30b9102bac79fd5a1f016a7be2025b0527f9,test-victoria,- groovy-victoria-ha-ovn - focal-victoria-ha-ovn,,4,1
openstack%2Fcharm-trilio-dm-api~stable%2F21.03~Iec0bc8532f1610eb464d8e4d3af3239090068314,openstack/charm-trilio-dm-api,stable/21.03,Iec0bc8532f1610eb464d8e4d3af3239090068314,Rebuild for 21.03,ABANDONED,2021-03-16 15:55:25.000000000,2021-06-16 08:44:45.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-16 15:55:25.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/9d62ef739f14332acc0b479e6892c334c7bca0b2', 'message': 'Rebuild for 21.03\n\nChange-Id: Iec0bc8532f1610eb464d8e4d3af3239090068314\n'}]",0,780913,9d62ef739f14332acc0b479e6892c334c7bca0b2,10,2,1,12549,,,0,"Rebuild for 21.03

Change-Id: Iec0bc8532f1610eb464d8e4d3af3239090068314
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/13/780913/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,9d62ef739f14332acc0b479e6892c334c7bca0b2,stable-rebuild-21.03,9761ddf0-866f-11eb-a56e-030fbb5f7267,bed9bd9c-64d9-11eb-a460-dbfda2715df6,1,1
openstack%2Fcharm-trilio-horizon-plugin~stable%2F21.03~Iafe4a376f568a70588f39d92ae502e045d83f704,openstack/charm-trilio-horizon-plugin,stable/21.03,Iafe4a376f568a70588f39d92ae502e045d83f704,Rebuild for 21.03,ABANDONED,2021-03-16 15:55:52.000000000,2021-06-16 08:44:40.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-16 15:55:52.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-trilio-horizon-plugin/commit/133cc8b06b054679a4b90b8d8e04a643029d74b9', 'message': 'Rebuild for 21.03\n\nChange-Id: Iafe4a376f568a70588f39d92ae502e045d83f704\n'}]",0,780914,133cc8b06b054679a4b90b8d8e04a643029d74b9,8,2,1,12549,,,0,"Rebuild for 21.03

Change-Id: Iafe4a376f568a70588f39d92ae502e045d83f704
",git fetch https://review.opendev.org/openstack/charm-trilio-horizon-plugin refs/changes/14/780914/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,133cc8b06b054679a4b90b8d8e04a643029d74b9,stable-rebuild-21.03,9761ddf0-866f-11eb-a56e-030fbb5f7267,bedc5336-64d9-11eb-9eba-67cbd9800d64,1,1
openstack%2Fcharm-trilio-wlm~stable%2F21.03~Ibc2145ade52bfba87bd49aff9a068460fc80b320,openstack/charm-trilio-wlm,stable/21.03,Ibc2145ade52bfba87bd49aff9a068460fc80b320,Rebuild for 21.03,ABANDONED,2021-03-16 15:56:10.000000000,2021-06-16 08:44:34.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-16 15:56:10.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/58c1beb6eb868af7c1c45b25e461ffdc5522b7ea', 'message': 'Rebuild for 21.03\n\nChange-Id: Ibc2145ade52bfba87bd49aff9a068460fc80b320\n'}]",0,780915,58c1beb6eb868af7c1c45b25e461ffdc5522b7ea,7,2,1,12549,,,0,"Rebuild for 21.03

Change-Id: Ibc2145ade52bfba87bd49aff9a068460fc80b320
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/15/780915/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,58c1beb6eb868af7c1c45b25e461ffdc5522b7ea,stable-rebuild-21.03,9761ddf0-866f-11eb-a56e-030fbb5f7267,bedf1af8-64d9-11eb-9075-bf74326d81a8,1,1
openstack%2Fcharm-glance~master~I8e0be68e57c6cd43092419c67df37839212f95e4,openstack/charm-glance,master,I8e0be68e57c6cd43092419c67df37839212f95e4,Do not land: Test pausable-restart-on-change,ABANDONED,2021-03-26 15:55:04.000000000,2021-06-16 08:44:07.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 15:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/e9ec28c198b48163fb3a45d962a55e1a00141430', 'message': 'Do not land: Test pausable-restart-on-change\n\nChange-Id: I8e0be68e57c6cd43092419c67df37839212f95e4\n'}, {'number': 2, 'created': '2021-03-27 07:10:02.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/policy_rcd.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/openstack/exceptions.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/028e4dedc891437b70fb438841d3a6d9ff9fc373', 'message': 'Do not land: Test pausable-restart-on-change\n\nChange-Id: I8e0be68e57c6cd43092419c67df37839212f95e4\n'}]",0,783354,028e4dedc891437b70fb438841d3a6d9ff9fc373,9,2,2,12549,,,0,"Do not land: Test pausable-restart-on-change

Change-Id: I8e0be68e57c6cd43092419c67df37839212f95e4
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/54/783354/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/openstack/exceptions.py']",11,e9ec28c198b48163fb3a45d962a55e1a00141430,test-proc-cntxt-manager," class ServiceActionError(Exception): """"""Raised when a service action (stop/start/ etc) failed."""""" pass",,578,93
openstack%2Frally~master~I7e940ea0dce10985bdf8b67deeb3a4bed86523b5,openstack/rally,master,I7e940ea0dce10985bdf8b67deeb3a4bed86523b5,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-04 02:22:25.000000000,2021-06-16 08:42:40.000000000,,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 02:22:25.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/rally/commit/246bcd88d788323f80dfaf87f2d715730cf16c60', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I7e940ea0dce10985bdf8b67deeb3a4bed86523b5\n""}]",0,789465,246bcd88d788323f80dfaf87f2d715730cf16c60,6,2,1,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I7e940ea0dce10985bdf8b67deeb3a4bed86523b5
",git fetch https://review.opendev.org/openstack/rally refs/changes/65/789465/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,246bcd88d788323f80dfaf87f2d715730cf16c60,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/rally/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/rally/latest/,3,3
openstack%2Fcinder~master~I391de2edca9a40407b0706a0d5a15a17be355ca9,openstack/cinder,master,I391de2edca9a40407b0706a0d5a15a17be355ca9,image_utils: Remove unused _validate_file_format method,MERGED,2021-04-27 14:54:36.000000000,2021-06-16 08:32:27.000000000,2021-06-16 08:30:22.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 12670}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-04-27 14:54:36.000000000', 'files': ['cinder/image/image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/290033ff3c5a4d3762aa1a6f6e7e9ebedb96888e', 'message': 'image_utils: Remove unused _validate_file_format method\n\nThis method is no longer used.\n\nChange-Id: I391de2edca9a40407b0706a0d5a15a17be355ca9\n'}]",0,788311,290033ff3c5a4d3762aa1a6f6e7e9ebedb96888e,29,6,1,4523,,,0,"image_utils: Remove unused _validate_file_format method

This method is no longer used.

Change-Id: I391de2edca9a40407b0706a0d5a15a17be355ca9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/788311/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/image/image_utils.py'],1,290033ff3c5a4d3762aa1a6f6e7e9ebedb96888e,,,"def _validate_file_format(image_data, expected_format): if image_data.file_format == expected_format: return True elif image_data.file_format == 'vpc' and expected_format == 'vhd': # qemu-img still uses the legacy 'vpc' name for the vhd format. return True return False ",0,9
openstack%2Fcinderlib~master~I9a163d002ad7151a0cbdb04fba137688e0316944,openstack/cinderlib,master,I9a163d002ad7151a0cbdb04fba137688e0316944,Remove reliance on embedded imports,MERGED,2021-04-20 10:38:23.000000000,2021-06-16 08:32:01.000000000,2021-06-16 08:30:43.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-04-20 10:38:23.000000000', 'files': ['cinderlib/persistence/dbms.py', 'cinderlib/tests/unit/persistence/test_dbms.py', 'doc/source/topics/metadata.rst'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/e1008c79a9d9876aef5e3671779f0926d369a651', 'message': ""Remove reliance on embedded imports\n\nInstead of relying on cinder's import of sqlalchemy, import it\nourselves.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I9a163d002ad7151a0cbdb04fba137688e0316944\n""}]",2,787180,e1008c79a9d9876aef5e3671779f0926d369a651,17,4,1,15334,,,0,"Remove reliance on embedded imports

Instead of relying on cinder's import of sqlalchemy, import it
ourselves.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I9a163d002ad7151a0cbdb04fba137688e0316944
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/80/787180/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderlib/persistence/dbms.py', 'cinderlib/tests/unit/persistence/test_dbms.py', 'doc/source/topics/metadata.rst']",3,e1008c79a9d9876aef5e3671779f0926d369a651,bp/alembic-migration,mechanism to store the metadata.,mechanism to store the medatada.,10,9
openstack%2Fironic~master~I0a458c3baddaaa2226cd2105d6325025a0c81f05,openstack/ironic,master,I0a458c3baddaaa2226cd2105d6325025a0c81f05,Split a community page out of the contributor docs,MERGED,2021-06-15 14:48:46.000000000,2021-06-16 08:30:52.000000000,2021-06-15 15:27:39.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 14:48:46.000000000', 'files': ['doc/source/contributor/bugs.rst', 'doc/source/contributor/contributing.rst', 'doc/source/index.rst', 'doc/source/contributor/community.rst', 'doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2c3470353d37563d8b0e8e974733aaff9fb3cbea', 'message': 'Split a community page out of the contributor docs\n\nWe need a simple ""how to reach out to us"" page that is not mixed with\ncode contribution guide. This change adds it by moving information\naround and polishing it a bit.\n\nChange-Id: I0a458c3baddaaa2226cd2105d6325025a0c81f05\n'}]",0,796495,2c3470353d37563d8b0e8e974733aaff9fb3cbea,8,2,1,10239,,,0,"Split a community page out of the contributor docs

We need a simple ""how to reach out to us"" page that is not mixed with
code contribution guide. This change adds it by moving information
around and polishing it a bit.

Change-Id: I0a458c3baddaaa2226cd2105d6325025a0c81f05
",git fetch https://review.opendev.org/openstack/ironic refs/changes/95/796495/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/bugs.rst', 'doc/source/contributor/contributing.rst', 'doc/source/index.rst', 'doc/source/contributor/community.rst', 'doc/source/contributor/index.rst']",5,2c3470353d37563d8b0e8e974733aaff9fb3cbea,community, Bare Metal Community <community>,,102,82
openstack%2Fproject-config~master~I715b2c6d464f4e151255a1fe2a28f72f6794cd20,openstack/project-config,master,I715b2c6d464f4e151255a1fe2a28f72f6794cd20,"Revert ""Revert ""Revert ""Revert ""Disable limestone due to mirror issues""""""""",MERGED,2021-06-16 06:45:35.000000000,2021-06-16 08:26:14.000000000,2021-06-16 07:14:35.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 06:45:35.000000000', 'files': ['nodepool/nl02.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2a9f0c79234b40574fbc76b6115f97df6d46d240', 'message': 'Revert ""Revert ""Revert ""Revert ""Disable limestone due to mirror issues""""""""\n\nUnfortunately the mirror issues persist.  Again it looks likley\nrelated to the attached storage volume and I/O performance,\nparticularly for the http cache.\n\nThis reverts commit 377d797b3fa0e95bb79989b86fde57ea4241190c.\n\nChange-Id: I715b2c6d464f4e151255a1fe2a28f72f6794cd20\n'}]",0,796590,2a9f0c79234b40574fbc76b6115f97df6d46d240,7,2,1,7118,,,0,"Revert ""Revert ""Revert ""Revert ""Disable limestone due to mirror issues""""""""

Unfortunately the mirror issues persist.  Again it looks likley
related to the attached storage volume and I/O performance,
particularly for the http cache.

This reverts commit 377d797b3fa0e95bb79989b86fde57ea4241190c.

Change-Id: I715b2c6d464f4e151255a1fe2a28f72f6794cd20
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/796590/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.opendev.org.yaml'],1,2a9f0c79234b40574fbc76b6115f97df6d46d240,limestone-mirror, max-servers: 0, max-servers: 50,1,1
openstack%2Fansible-collections-openstack~master~I6e81a6a8171f62651dce0a4b3cc794b045a5a453,openstack/ansible-collections-openstack,master,I6e81a6a8171f62651dce0a4b3cc794b045a5a453,Switch auth module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-16 08:20:43.000000000,2021-06-16 08:20:43.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ddca7b5d0e89e50fef49da125db76fbad218305b', 'message': 'Switch auth module to OpenStackModule\n\nChange-Id: I6e81a6a8171f62651dce0a4b3cc794b045a5a453\n'}, {'number': 2, 'created': '2021-05-21 07:47:42.000000000', 'files': ['plugins/modules/auth.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3e4413ec311ad6aea04bb1a04caf1eae44ef6953', 'message': 'Switch auth module to OpenStackModule\n\nChange-Id: I6e81a6a8171f62651dce0a4b3cc794b045a5a453\n'}]",0,792448,3e4413ec311ad6aea04bb1a04caf1eae44ef6953,8,2,2,27900,,,0,"Switch auth module to OpenStackModule

Change-Id: I6e81a6a8171f62651dce0a4b3cc794b045a5a453
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/48/792448/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/auth.py'],1,ddca7b5d0e89e50fef49da125db76fbad218305b,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class AuthModule(OpenStackModule): argument_spec = dict() module_kwargs = dict() def run(self): self.exit_json( changed=False, ansible_facts=dict( auth_token=self.conn.auth_token, service_catalog=self.conn.service_catalog)) module = AuthModule() module()","import traceback from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) argument_spec = openstack_full_argument_spec() module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, **module_kwargs) sdk, cloud = openstack_cloud_from_module(module) try: module.exit_json( changed=False, ansible_facts=dict( auth_token=cloud.auth_token, service_catalog=cloud.service_catalog)) except Exception as e: module.fail_json(msg=str(e), exception=traceback.format_exc())",14,19
openstack%2Fansible-collections-openstack~master~I486d98d3f4ec480254a0dcb82a5cb48a9ecc8d3f,openstack/ansible-collections-openstack,master,I486d98d3f4ec480254a0dcb82a5cb48a9ecc8d3f,Switch coe_cluster_template module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-16 08:20:22.000000000,2021-06-16 08:20:22.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c115817f3beda1712def1590e056fd1ef8fcb33c', 'message': 'Switch coe_cluster_template module to OpenStackModule\n\nChange-Id: I486d98d3f4ec480254a0dcb82a5cb48a9ecc8d3f\n'}, {'number': 2, 'created': '2021-05-21 07:44:43.000000000', 'files': ['plugins/modules/coe_cluster_template.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3d9f9a0f87038483bed4968fc94542a09a7bc711', 'message': 'Switch coe_cluster_template module to OpenStackModule\n\nChange-Id: I486d98d3f4ec480254a0dcb82a5cb48a9ecc8d3f\n'}]",0,792445,3d9f9a0f87038483bed4968fc94542a09a7bc711,8,2,2,27900,,,0,"Switch coe_cluster_template module to OpenStackModule

Change-Id: I486d98d3f4ec480254a0dcb82a5cb48a9ecc8d3f
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/45/792445/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/coe_cluster_template.py'],1,c115817f3beda1712def1590e056fd1ef8fcb33c,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class CoeClusterTemplateModule(OpenStackModule): argument_spec = dict( module_kwargs = dict() def _parse_labels(self, labels): if isinstance(labels, str): labels_dict = {} for kv_str in labels.split("",""): k, v = kv_str.split(""="") labels_dict[k] = v return labels_dict if not labels: return {} return labels def run(self): params = self.params.copy() state = self.params['state'] name = self.params['name'] coe = self.params['coe'] image_id = self.params['image_id'] kwargs = dict( dns_nameserver=self.params['dns_nameserver'], docker_storage_driver=self.params['docker_storage_driver'], docker_volume_size=self.params['docker_volume_size'], external_network_id=self.params['external_network_id'], fixed_network=self.params['fixed_network'], fixed_subnet=self.params['fixed_subnet'], flavor_id=self.params['flavor_id'], floating_ip_enabled=self.params['floating_ip_enabled'], keypair_id=self.params['keypair_id'], labels=self._parse_labels(params['labels']), http_proxy=self.params['http_proxy'], https_proxy=self.params['https_proxy'], master_lb_enabled=self.params['master_lb_enabled'], master_flavor_id=self.params['master_flavor_id'], network_driver=self.params['network_driver'], no_proxy=self.params['no_proxy'], public=self.params['public'], registry_enabled=self.params['registry_enabled'], server_type=self.params['server_type'], tls_disabled=self.params['tls_disabled'], volume_driver=self.params['volume_driver'], ) template = self.conn.get_coe_cluster_template( name_or_id=name, filters={'coe': coe, 'image_id': image_id}) template = self.conn.create_coe_cluster_template( name, coe=coe, image_id=image_id, **kwargs) self.exit_json( changed=changed, cluster_template=template, id=template['uuid']) self.exit_json(changed=False) else: self.conn.delete_coe_cluster_template(name) self.exit_json(changed=True) def main(): module = CoeClusterTemplateModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def _parse_labels(labels): if isinstance(labels, str): labels_dict = {} for kv_str in labels.split("",""): k, v = kv_str.split(""="") labels_dict[k] = v return labels_dict if not labels: return {} return labels def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, **module_kwargs) params = module.params.copy() state = module.params['state'] name = module.params['name'] coe = module.params['coe'] image_id = module.params['image_id'] kwargs = dict( dns_nameserver=module.params['dns_nameserver'], docker_storage_driver=module.params['docker_storage_driver'], docker_volume_size=module.params['docker_volume_size'], external_network_id=module.params['external_network_id'], fixed_network=module.params['fixed_network'], fixed_subnet=module.params['fixed_subnet'], flavor_id=module.params['flavor_id'], floating_ip_enabled=module.params['floating_ip_enabled'], keypair_id=module.params['keypair_id'], labels=_parse_labels(params['labels']), http_proxy=module.params['http_proxy'], https_proxy=module.params['https_proxy'], master_lb_enabled=module.params['master_lb_enabled'], master_flavor_id=module.params['master_flavor_id'], network_driver=module.params['network_driver'], no_proxy=module.params['no_proxy'], public=module.params['public'], registry_enabled=module.params['registry_enabled'], server_type=module.params['server_type'], tls_disabled=module.params['tls_disabled'], volume_driver=module.params['volume_driver'], ) sdk, cloud = openstack_cloud_from_module(module) try: template = cloud.get_coe_cluster_template(name_or_id=name, filters={'coe': coe, 'image_id': image_id}) template = cloud.create_coe_cluster_template(name, coe=coe, image_id=image_id, **kwargs) module.exit_json(changed=changed, cluster_template=template, id=template['uuid']) module.exit_json(changed=False) else: cloud.delete_coe_cluster_template(name) module.exit_json(changed=True) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e), extra_data=e.extra_data)",58,58
openstack%2Fansible-collections-openstack~master~I61a43ac31f23758204d11fe72754a50993dcc294,openstack/ansible-collections-openstack,master,I61a43ac31f23758204d11fe72754a50993dcc294,Switch identity_user module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-16 08:20:19.000000000,2021-06-16 08:20:19.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c88e8448cd7a3d89c678f882062d38c4e7225720', 'message': 'Switch identity_user module to OpenStackModule\n\nChange-Id: I61a43ac31f23758204d11fe72754a50993dcc294\n'}, {'number': 2, 'created': '2021-05-21 07:36:31.000000000', 'files': ['plugins/modules/identity_user.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/28d32b53e8b4df7bdac10525ceb993d49b1467f3', 'message': 'Switch identity_user module to OpenStackModule\n\nChange-Id: I61a43ac31f23758204d11fe72754a50993dcc294\n'}]",0,792429,28d32b53e8b4df7bdac10525ceb993d49b1467f3,8,2,2,27900,,,0,"Switch identity_user module to OpenStackModule

Change-Id: I61a43ac31f23758204d11fe72754a50993dcc294
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/29/792429/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/identity_user.py'],1,c88e8448cd7a3d89c678f882062d38c4e7225720,," from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class IdentityUserModule(OpenStackModule): argument_spec = dict( module_kwargs = dict() def _needs_update(self, params_dict, user): for k in params_dict: if k not in ('password', 'update_password') and user[k] != params_dict[k]: return True # We don't get password back in the user object, so assume any supplied # password is a change. if ( params_dict['password'] is not None and params_dict['update_password'] == 'always' ): return True return False def _get_domain_id(self, domain): try: # We assume admin is passing domain id domain_id = self.conn.get_domain(domain)['id'] except Exception: # If we fail, maybe admin is passing a domain name. # Note that domains have unique names, just like id. try: domain_id = self.conn.search_domains(filters={'name': domain})[0]['id'] except Exception: # Ok, let's hope the user is non-admin and passing a sane id domain_id = domain return domain_id def _get_default_project_id(self, default_project, domain_id): project = self.conn.get_project(default_project, domain_id=domain_id) if not project: self.fail_json(msg='Default project %s is not valid' % default_project) return project['id'] def run(self): name = self.params['name'] password = self.params.get('password') email = self.params['email'] default_project = self.params['default_project'] domain = self.params['domain'] enabled = self.params['enabled'] state = self.params['state'] update_password = self.params['update_password'] description = self.params['description'] domain_id = self._get_domain_id(domain) user = self.conn.get_user(name, domain_id=domain_id) else: user = self.conn.get_user(name) self.fail_json(msg=msg) default_project_id = self._get_default_project_id( default_project, domain_id) user = self.conn.create_user( user = self.conn.create_user( if self._needs_update(params_dict, user): user = self.conn.update_user( user = self.conn.update_user( user = self.conn.update_user( user = self.conn.update_user( self.exit_json(changed=changed, user=user) self.conn.delete_user(user['id'], domain_id=domain_id) else: self.conn.delete_user(user['id']) self.exit_json(changed=changed) def main(): module = IdentityUserModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def _needs_update(params_dict, user): for k in params_dict: if k not in ('password', 'update_password') and user[k] != params_dict[k]: return True # We don't get password back in the user object, so assume any supplied # password is a change. if ( params_dict['password'] is not None and params_dict['update_password'] == 'always' ): return True return False def _get_domain_id(cloud, domain): try: # We assume admin is passing domain id domain_id = cloud.get_domain(domain)['id'] except Exception: # If we fail, maybe admin is passing a domain name. # Note that domains have unique names, just like id. try: domain_id = cloud.search_domains(filters={'name': domain})[0]['id'] except Exception: # Ok, let's hope the user is non-admin and passing a sane id domain_id = domain return domain_id def _get_default_project_id(cloud, default_project, domain_id, module): project = cloud.get_project(default_project, domain_id=domain_id) if not project: module.fail_json(msg='Default project %s is not valid' % default_project) return project['id'] def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule( argument_spec, **module_kwargs) name = module.params['name'] password = module.params.get('password') email = module.params['email'] default_project = module.params['default_project'] domain = module.params['domain'] enabled = module.params['enabled'] state = module.params['state'] update_password = module.params['update_password'] description = module.params['description'] sdk, cloud = openstack_cloud_from_module(module) try: domain_id = _get_domain_id(cloud, domain) user = cloud.get_user(name, domain_id=domain_id) else: user = cloud.get_user(name) module.fail_json(msg=msg) default_project_id = _get_default_project_id(cloud, default_project, domain_id, module) user = cloud.create_user( user = cloud.create_user( if _needs_update(params_dict, user): user = cloud.update_user( user = cloud.update_user( user = cloud.update_user( user = cloud.update_user( module.exit_json(changed=changed, user=user) cloud.delete_user(user['id'], domain_id=domain_id) else: cloud.delete_user(user['id']) module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e), extra_data=e.extra_data)",73,79
openstack%2Ftripleo-ansible~master~I831269f7d4d57811f13d8022b9579dd3f1e2b604,openstack/tripleo-ansible,master,I831269f7d4d57811f13d8022b9579dd3f1e2b604,Use direct import from collection,MERGED,2021-06-10 12:17:58.000000000,2021-06-16 07:44:42.000000000,2021-06-16 07:40:38.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-10 12:17:58.000000000', 'files': ['tripleo_ansible/ansible_plugins/action/tripleo_all_nodes_data.py', 'tripleo_ansible/ansible_plugins/action/tripleo_iptables.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c896bcf2cb22d998a9e119c86d1f0b92fc67bd6c', 'message': 'Use direct import from collection\n\nChange-Id: I831269f7d4d57811f13d8022b9579dd3f1e2b604\n'}]",2,795768,c896bcf2cb22d998a9e119c86d1f0b92fc67bd6c,17,5,1,10969,,,0,"Use direct import from collection

Change-Id: I831269f7d4d57811f13d8022b9579dd3f1e2b604
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/68/795768/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/action/tripleo_all_nodes_data.py', 'tripleo_ansible/ansible_plugins/action/tripleo_iptables.py']",2,c896bcf2cb22d998a9e119c86d1f0b92fc67bd6c,collections-everywhere,from ansible_collections.ansible.netcommon.plugins.filter import ipaddr,try: from ansible_collections.ansible.netcommon.plugins.filter import ipaddr except ImportError: from ansible.plugins.filter import ipaddr,2,8
openstack%2Ftripleo-common~stable%2Fwallaby~I7db4adaf4509cf45545eb16e777e764a2b19df3b,openstack/tripleo-common,stable/wallaby,I7db4adaf4509cf45545eb16e777e764a2b19df3b,[Wallaby-only] Update default container namespace for wallaby,MERGED,2021-06-15 15:38:54.000000000,2021-06-16 07:44:13.000000000,2021-06-16 07:41:56.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-15 15:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fcc2210762748b2d593b1b0f94f01267010ed9e8', 'message': '[Wallaby-only] Update default container namespace for wallaby\n\nAfter cutting a stable branch, we need to patch it with the correct\ncontainer information for the release.\n\nChange-Id: I7db4adaf4509cf45545eb16e777e764a2b19df3b\nCloses-Bug: 1931995\n'}, {'number': 2, 'created': '2021-06-15 15:54:48.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'container-images/container_image_prepare_defaults.yaml', 'tripleo_common/tests/image/fakes.py', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/31468f279470778d16a73b92a644a52fe4e26598', 'message': '[Wallaby-only] Update default container namespace for wallaby\n\nAfter cutting a stable branch, we need to patch it with the correct\ncontainer information for the release.\n\nChange-Id: I7db4adaf4509cf45545eb16e777e764a2b19df3b\nCloses-Bug: 1931995\n'}]",10,796516,31468f279470778d16a73b92a644a52fe4e26598,13,5,2,14985,,,0,"[Wallaby-only] Update default container namespace for wallaby

After cutting a stable branch, we need to patch it with the correct
container information for the release.

Change-Id: I7db4adaf4509cf45545eb16e777e764a2b19df3b
Closes-Bug: 1931995
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/16/796516/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/tests/image/fakes.py', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml']",5,fcc2210762748b2d593b1b0f94f01267010ed9e8,bug/1931995,- imagename: quay.io/tripleowallaby/openstack-aodh-api:current-tripleo- imagename: quay.io/tripleowallaby/openstack-aodh-evaluator:current-tripleo- imagename: quay.io/tripleowallaby/openstack-aodh-listener:current-tripleo- imagename: quay.io/tripleowallaby/openstack-aodh-notifier:current-tripleo- imagename: quay.io/tripleowallaby/openstack-barbican-api:current-tripleo- imagename: quay.io/tripleowallaby/openstack-barbican-keystone-listener:current-tripleo- imagename: quay.io/tripleowallaby/openstack-barbican-worker:current-tripleo- imagename: quay.io/tripleowallaby/openstack-ceilometer-central:current-tripleo- imagename: quay.io/tripleowallaby/openstack-ceilometer-compute:current-tripleo- imagename: quay.io/tripleowallaby/openstack-ceilometer-notification:current-tripleo- imagename: quay.io/tripleowallaby/openstack-ceilometer-ipmi:current-tripleo- imagename: quay.io/tripleowallaby/openstack-cinder-api:current-tripleo- imagename: quay.io/tripleowallaby/openstack-cinder-backup:current-tripleo- imagename: quay.io/tripleowallaby/openstack-cinder-scheduler:current-tripleo- imagename: quay.io/tripleowallaby/openstack-cinder-volume:current-tripleo- imagename: quay.io/tripleowallaby/openstack-collectd:current-tripleo- imagename: quay.io/tripleowallaby/openstack-cron:current-tripleo- imagename: quay.io/tripleowallaby/openstack-designate-api:current-tripleo- imagename: quay.io/tripleowallaby/openstack-designate-backend-bind9:current-tripleo- imagename: quay.io/tripleowallaby/openstack-designate-central:current-tripleo- imagename: quay.io/tripleowallaby/openstack-designate-mdns:current-tripleo- imagename: quay.io/tripleowallaby/openstack-designate-producer:current-tripleo- imagename: quay.io/tripleowallaby/openstack-designate-sink:current-tripleo- imagename: quay.io/tripleowallaby/openstack-designate-worker:current-tripleo- imagename: quay.io/tripleowallaby/openstack-etcd:current-tripleo- imagename: quay.io/tripleowallaby/openstack-frr:current-tripleo- imagename: quay.io/tripleowallaby/openstack-glance-api:current-tripleo- imagename: quay.io/tripleowallaby/openstack-gnocchi-api:current-tripleo- imagename: quay.io/tripleowallaby/openstack-gnocchi-metricd:current-tripleo- imagename: quay.io/tripleowallaby/openstack-gnocchi-statsd:current-tripleo- imagename: quay.io/tripleowallaby/openstack-haproxy:current-tripleo- imagename: quay.io/tripleowallaby/openstack-heat-all:current-tripleo- imagename: quay.io/tripleowallaby/openstack-heat-api-cfn:current-tripleo- imagename: quay.io/tripleowallaby/openstack-heat-api:current-tripleo- imagename: quay.io/tripleowallaby/openstack-heat-engine:current-tripleo- imagename: quay.io/tripleowallaby/openstack-horizon:current-tripleo- imagename: quay.io/tripleowallaby/openstack-ironic-api:current-tripleo- imagename: quay.io/tripleowallaby/openstack-ironic-conductor:current-tripleo- imagename: quay.io/tripleowallaby/openstack-ironic-inspector:current-tripleo- imagename: quay.io/tripleowallaby/openstack-ironic-pxe:current-tripleo- imagename: quay.io/tripleowallaby/openstack-ironic-neutron-agent:current-tripleo- imagename: quay.io/tripleowallaby/openstack-iscsid:current-tripleo- imagename: quay.io/tripleowallaby/openstack-keystone:current-tripleo- imagename: quay.io/tripleowallaby/openstack-manila-api:current-tripleo- imagename: quay.io/tripleowallaby/openstack-manila-scheduler:current-tripleo- imagename: quay.io/tripleowallaby/openstack-manila-share:current-tripleo- imagename: quay.io/tripleowallaby/openstack-mariadb:current-tripleo- imagename: quay.io/tripleowallaby/openstack-memcached:current-tripleo- imagename: quay.io/tripleowallaby/openstack-mistral-api:current-tripleo- imagename: quay.io/tripleowallaby/openstack-mistral-engine:current-tripleo- imagename: quay.io/tripleowallaby/openstack-mistral-executor:current-tripleo- imagename: quay.io/tripleowallaby/openstack-mistral-event-engine:current-tripleo- imagename: quay.io/tripleowallaby/openstack-multipathd:current-tripleo- imagename: quay.io/tripleowallaby/openstack-neutron-dhcp-agent:current-tripleo- imagename: quay.io/tripleowallaby/openstack-neutron-l3-agent:current-tripleo- imagename: quay.io/tripleowallaby/openstack-neutron-metadata-agent:current-tripleo- imagename: quay.io/tripleowallaby/openstack-neutron-openvswitch-agent:current-tripleo- imagename: quay.io/tripleowallaby/openstack-neutron-sriov-agent:current-tripleo- imagename: quay.io/tripleowallaby/openstack-neutron-mlnx-agent:current-tripleo- imagename: quay.io/tripleowallaby/openstack-neutron-server:current-tripleo- imagename: quay.io/tripleowallaby/openstack-neutron-metadata-agent-ovn:current-tripleo- imagename: quay.io/tripleowallaby/openstack-nova-api:current-tripleo- imagename: quay.io/tripleowallaby/openstack-nova-compute-ironic:current-tripleo- imagename: quay.io/tripleowallaby/openstack-nova-compute:current-tripleo- imagename: quay.io/tripleowallaby/openstack-nova-conductor:current-tripleo- imagename: quay.io/tripleowallaby/openstack-nova-libvirt:current-tripleo- imagename: quay.io/tripleowallaby/openstack-nova-novncproxy:current-tripleo- imagename: quay.io/tripleowallaby/openstack-nova-scheduler:current-tripleo- imagename: quay.io/tripleowallaby/openstack-novajoin-notifier:current-tripleo- imagename: quay.io/tripleowallaby/openstack-novajoin-server:current-tripleo- imagename: quay.io/tripleowallaby/openstack-octavia-api:current-tripleo- imagename: quay.io/tripleowallaby/openstack-octavia-health-manager:current-tripleo- imagename: quay.io/tripleowallaby/openstack-octavia-housekeeping:current-tripleo- imagename: quay.io/tripleowallaby/openstack-octavia-worker:current-tripleo- imagename: quay.io/tripleowallaby/openstack-ovn-controller:current-tripleo- imagename: quay.io/tripleowallaby/openstack-ovn-nb-db-server:current-tripleo- imagename: quay.io/tripleowallaby/openstack-ovn-northd:current-tripleo- imagename: quay.io/tripleowallaby/openstack-ovn-sb-db-server:current-tripleo- imagename: quay.io/tripleowallaby/openstack-placement-api:current-tripleo- imagename: quay.io/tripleowallaby/openstack-qdrouterd:current-tripleo- imagename: quay.io/tripleowallaby/openstack-rabbitmq:current-tripleo- imagename: quay.io/tripleowallaby/openstack-redis:current-tripleo- imagename: quay.io/tripleowallaby/openstack-swift-account:current-tripleo- imagename: quay.io/tripleowallaby/openstack-swift-container:current-tripleo- imagename: quay.io/tripleowallaby/openstack-swift-object:current-tripleo- imagename: quay.io/tripleowallaby/openstack-swift-proxy-server:current-tripleo- imagename: quay.io/tripleowallaby/openstack-zaqar-wsgi:current-tripleo- imagename: quay.io/tripleowallaby/openstack-rsyslog:current-tripleo- imagename: quay.io/tripleowallaby/openstack-unbound:current-tripleo,- imagename: quay.io/tripleomaster/openstack-aodh-api:current-tripleo- imagename: quay.io/tripleomaster/openstack-aodh-evaluator:current-tripleo- imagename: quay.io/tripleomaster/openstack-aodh-listener:current-tripleo- imagename: quay.io/tripleomaster/openstack-aodh-notifier:current-tripleo- imagename: quay.io/tripleomaster/openstack-barbican-api:current-tripleo- imagename: quay.io/tripleomaster/openstack-barbican-keystone-listener:current-tripleo- imagename: quay.io/tripleomaster/openstack-barbican-worker:current-tripleo- imagename: quay.io/tripleomaster/openstack-ceilometer-central:current-tripleo- imagename: quay.io/tripleomaster/openstack-ceilometer-compute:current-tripleo- imagename: quay.io/tripleomaster/openstack-ceilometer-notification:current-tripleo- imagename: quay.io/tripleomaster/openstack-ceilometer-ipmi:current-tripleo- imagename: quay.io/tripleomaster/openstack-cinder-api:current-tripleo- imagename: quay.io/tripleomaster/openstack-cinder-backup:current-tripleo- imagename: quay.io/tripleomaster/openstack-cinder-scheduler:current-tripleo- imagename: quay.io/tripleomaster/openstack-cinder-volume:current-tripleo- imagename: quay.io/tripleomaster/openstack-collectd:current-tripleo- imagename: quay.io/tripleomaster/openstack-cron:current-tripleo- imagename: quay.io/tripleomaster/openstack-designate-api:current-tripleo- imagename: quay.io/tripleomaster/openstack-designate-backend-bind9:current-tripleo- imagename: quay.io/tripleomaster/openstack-designate-central:current-tripleo- imagename: quay.io/tripleomaster/openstack-designate-mdns:current-tripleo- imagename: quay.io/tripleomaster/openstack-designate-producer:current-tripleo- imagename: quay.io/tripleomaster/openstack-designate-sink:current-tripleo- imagename: quay.io/tripleomaster/openstack-designate-worker:current-tripleo- imagename: quay.io/tripleomaster/openstack-etcd:current-tripleo- imagename: quay.io/tripleomaster/openstack-frr:current-tripleo- imagename: quay.io/tripleomaster/openstack-glance-api:current-tripleo- imagename: quay.io/tripleomaster/openstack-gnocchi-api:current-tripleo- imagename: quay.io/tripleomaster/openstack-gnocchi-metricd:current-tripleo- imagename: quay.io/tripleomaster/openstack-gnocchi-statsd:current-tripleo- imagename: quay.io/tripleomaster/openstack-haproxy:current-tripleo- imagename: quay.io/tripleomaster/openstack-heat-all:current-tripleo- imagename: quay.io/tripleomaster/openstack-heat-api-cfn:current-tripleo- imagename: quay.io/tripleomaster/openstack-heat-api:current-tripleo- imagename: quay.io/tripleomaster/openstack-heat-engine:current-tripleo- imagename: quay.io/tripleomaster/openstack-horizon:current-tripleo- imagename: quay.io/tripleomaster/openstack-ironic-api:current-tripleo- imagename: quay.io/tripleomaster/openstack-ironic-conductor:current-tripleo- imagename: quay.io/tripleomaster/openstack-ironic-inspector:current-tripleo- imagename: quay.io/tripleomaster/openstack-ironic-pxe:current-tripleo- imagename: quay.io/tripleomaster/openstack-ironic-neutron-agent:current-tripleo- imagename: quay.io/tripleomaster/openstack-iscsid:current-tripleo- imagename: quay.io/tripleomaster/openstack-keystone:current-tripleo- imagename: quay.io/tripleomaster/openstack-manila-api:current-tripleo- imagename: quay.io/tripleomaster/openstack-manila-scheduler:current-tripleo- imagename: quay.io/tripleomaster/openstack-manila-share:current-tripleo- imagename: quay.io/tripleomaster/openstack-mariadb:current-tripleo- imagename: quay.io/tripleomaster/openstack-memcached:current-tripleo- imagename: quay.io/tripleomaster/openstack-mistral-api:current-tripleo- imagename: quay.io/tripleomaster/openstack-mistral-engine:current-tripleo- imagename: quay.io/tripleomaster/openstack-mistral-executor:current-tripleo- imagename: quay.io/tripleomaster/openstack-mistral-event-engine:current-tripleo- imagename: quay.io/tripleomaster/openstack-multipathd:current-tripleo- imagename: quay.io/tripleomaster/openstack-neutron-dhcp-agent:current-tripleo- imagename: quay.io/tripleomaster/openstack-neutron-l3-agent:current-tripleo- imagename: quay.io/tripleomaster/openstack-neutron-metadata-agent:current-tripleo- imagename: quay.io/tripleomaster/openstack-neutron-openvswitch-agent:current-tripleo- imagename: quay.io/tripleomaster/openstack-neutron-sriov-agent:current-tripleo- imagename: quay.io/tripleomaster/openstack-neutron-mlnx-agent:current-tripleo- imagename: quay.io/tripleomaster/openstack-neutron-server:current-tripleo- imagename: quay.io/tripleomaster/openstack-neutron-metadata-agent-ovn:current-tripleo- imagename: quay.io/tripleomaster/openstack-nova-api:current-tripleo- imagename: quay.io/tripleomaster/openstack-nova-compute-ironic:current-tripleo- imagename: quay.io/tripleomaster/openstack-nova-compute:current-tripleo- imagename: quay.io/tripleomaster/openstack-nova-conductor:current-tripleo- imagename: quay.io/tripleomaster/openstack-nova-libvirt:current-tripleo- imagename: quay.io/tripleomaster/openstack-nova-novncproxy:current-tripleo- imagename: quay.io/tripleomaster/openstack-nova-scheduler:current-tripleo- imagename: quay.io/tripleomaster/openstack-novajoin-notifier:current-tripleo- imagename: quay.io/tripleomaster/openstack-novajoin-server:current-tripleo- imagename: quay.io/tripleomaster/openstack-octavia-api:current-tripleo- imagename: quay.io/tripleomaster/openstack-octavia-health-manager:current-tripleo- imagename: quay.io/tripleomaster/openstack-octavia-housekeeping:current-tripleo- imagename: quay.io/tripleomaster/openstack-octavia-worker:current-tripleo- imagename: quay.io/tripleomaster/openstack-ovn-controller:current-tripleo- imagename: quay.io/tripleomaster/openstack-ovn-nb-db-server:current-tripleo- imagename: quay.io/tripleomaster/openstack-ovn-northd:current-tripleo- imagename: quay.io/tripleomaster/openstack-ovn-sb-db-server:current-tripleo- imagename: quay.io/tripleomaster/openstack-placement-api:current-tripleo- imagename: quay.io/tripleomaster/openstack-qdrouterd:current-tripleo- imagename: quay.io/tripleomaster/openstack-rabbitmq:current-tripleo- imagename: quay.io/tripleomaster/openstack-redis:current-tripleo- imagename: quay.io/tripleomaster/openstack-swift-account:current-tripleo- imagename: quay.io/tripleomaster/openstack-swift-container:current-tripleo- imagename: quay.io/tripleomaster/openstack-swift-object:current-tripleo- imagename: quay.io/tripleomaster/openstack-swift-proxy-server:current-tripleo- imagename: quay.io/tripleomaster/openstack-zaqar-wsgi:current-tripleo- imagename: quay.io/tripleomaster/openstack-rsyslog:current-tripleo- imagename: quay.io/tripleomaster/openstack-unbound:current-tripleo,134,134
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id6fc08bce5673a41fd9fa5cb27f41c9786f560da,openstack/tripleo-heat-templates,stable/train,Id6fc08bce5673a41fd9fa5cb27f41c9786f560da,Set vlan-limit value depending on vlan_transparent setting,MERGED,2021-03-31 07:12:05.000000000,2021-06-16 07:42:20.000000000,2021-06-16 07:42:20.000000000,"[{'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-31 07:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad9707d7aa8ca663aa6088f929514a2d64d0d4b5', 'message': 'Set vlan-limit value depending on vlan_transparent setting\n\nIn case when vlan_transparent in Neutron is enabled,\nother_config:vlan-limit should be set to value ""0"" in the openvswitch on\nall nodes.\n\nRelated-Bug: #1918418\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-vswitch/+/783859\nChange-Id: Id6fc08bce5673a41fd9fa5cb27f41c9786f560da\n(cherry picked from commit e6801cebc81f25b6198cf29b4a5ab7308e16d5fd)\n'}, {'number': 2, 'created': '2021-06-05 10:56:59.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71fb10fe28a8d0419436c20069f515cba70d7e63', 'message': 'Set vlan-limit value depending on vlan_transparent setting\n\nIn case when vlan_transparent in Neutron is enabled,\nother_config:vlan-limit should be set to value ""0"" in the openvswitch on\nall nodes.\n\nRelated-Bug: #1918418\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-vswitch/+/783859\nChange-Id: Id6fc08bce5673a41fd9fa5cb27f41c9786f560da\n(cherry picked from commit e6801cebc81f25b6198cf29b4a5ab7308e16d5fd)\n'}]",0,783932,71fb10fe28a8d0419436c20069f515cba70d7e63,18,6,2,11975,,,0,"Set vlan-limit value depending on vlan_transparent setting

In case when vlan_transparent in Neutron is enabled,
other_config:vlan-limit should be set to value ""0"" in the openvswitch on
all nodes.

Related-Bug: #1918418

Depends-On: https://review.opendev.org/c/openstack/puppet-vswitch/+/783859
Change-Id: Id6fc08bce5673a41fd9fa5cb27f41c9786f560da
(cherry picked from commit e6801cebc81f25b6198cf29b4a5ab7308e16d5fd)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/783932/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,ad9707d7aa8ca663aa6088f929514a2d64d0d4b5,bug/1918418-stable/victoria-stable/ussuri-stable/train," EnableVLANTransparency: default: false description: > If True, then allow plugins that support it to create VLAN transparent networks. type: boolean enable_vlan_transparency: {equals: [{get_param: EnableVLANTransparency}, true]} - if: - enable_vlan_transparency - vswitch::ovs::vlan_limit: 0 - {}",,12,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ie96b3d35cea61370b1f98d7e060d696c4807c6b7,openstack/tripleo-heat-templates,stable/wallaby,Ie96b3d35cea61370b1f98d7e060d696c4807c6b7,Use community.general ansible collection instead of modules,MERGED,2021-06-15 12:00:00.000000000,2021-06-16 07:41:02.000000000,2021-06-16 07:41:02.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-15 12:00:00.000000000', 'files': ['deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/image-serve/image-serve-baremetal-ansible.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'common/deploy-steps-tasks-step-0.j2.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/podman/podman-baremetal-ansible.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'common/common-container-config-scripts.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e91fabbcdf4f06a2c62e8a6e1251f7d035b3dbbf', 'message': 'Use community.general ansible collection instead of modules\n\nReplace module calls by community.general ansible collection calls.\nChange-Id: Ie96b3d35cea61370b1f98d7e060d696c4807c6b7\n'}]",0,796433,e91fabbcdf4f06a2c62e8a6e1251f7d035b3dbbf,10,4,1,10969,,,0,"Use community.general ansible collection instead of modules

Replace module calls by community.general ansible collection calls.
Change-Id: Ie96b3d35cea61370b1f98d7e060d696c4807c6b7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/796433/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/image-serve/image-serve-baremetal-ansible.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'common/deploy-steps-tasks-step-0.j2.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/podman/podman-baremetal-ansible.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'common/common-container-config-scripts.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",20,e91fabbcdf4f06a2c62e8a6e1251f7d035b3dbbf,collections-everywhere, community.general.sefcontext:, sefcontext:,26,26
openstack%2Fpuppet-tripleo~stable%2Fussuri~Ia9c328a51d7f5dab933b096dd7a0792f2df2210e,openstack/puppet-tripleo,stable/ussuri,Ia9c328a51d7f5dab933b096dd7a0792f2df2210e,Add pcmk_host_list stonith-fence_compute-fence-nova,MERGED,2021-06-15 05:10:45.000000000,2021-06-16 07:40:52.000000000,2021-06-16 07:40:52.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-15 05:10:45.000000000', 'files': ['manifests/profile/base/pacemaker/instance_ha.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/68a4838056ff9327cda0ecf19e5ec66e5de9f5e3', 'message': 'Add pcmk_host_list stonith-fence_compute-fence-nova\n\nWith this change we explicitely tell the stonith-fence_compute-fence-nova\nresource which pacemaker nodes it is allowed to fence.\n\nThis is a good idea in general as it makes things more explicit and\nwe do not rely on other pcmk mechanisms (stonith querying the list\nof nodes returned by the fence agent) to determine which nodes it\nis allowed to fence.\n\nTested with this change and the stonith resource is correctly set:\n[root@controller-0 ~]# pcs stonith config stonith-fence_compute-fence-nova\n Resource: stonith-fence_compute-fence-nova (class=stonith type=fence_compute)\n  Attributes: auth_url=https://overcloud.redhat.local:13000 domain=redhat.local login=admin passwd=foo pcmk_host_list=compute-0,compute-1 project_domain=Default record_only=1 region_name=regionOne tenant_name=admin user_domain=Default\n  Meta Attrs: provides=unfencing\n  Operations: monitor interval=60s (stonith-fence_compute-fence-nova-monitor-interval-60s)\n....\n\nChange-Id: Ia9c328a51d7f5dab933b096dd7a0792f2df2210e\n(cherry picked from commit 781d197a342c6c3ee82f951483930f3d66673b4c)\n(cherry picked from commit ebd5679d116a5f85e67429ecee9ee6f90def5b1a)\n'}]",0,796226,68a4838056ff9327cda0ecf19e5ec66e5de9f5e3,7,3,1,20172,,,0,"Add pcmk_host_list stonith-fence_compute-fence-nova

With this change we explicitely tell the stonith-fence_compute-fence-nova
resource which pacemaker nodes it is allowed to fence.

This is a good idea in general as it makes things more explicit and
we do not rely on other pcmk mechanisms (stonith querying the list
of nodes returned by the fence agent) to determine which nodes it
is allowed to fence.

Tested with this change and the stonith resource is correctly set:
[root@controller-0 ~]# pcs stonith config stonith-fence_compute-fence-nova
 Resource: stonith-fence_compute-fence-nova (class=stonith type=fence_compute)
  Attributes: auth_url=https://overcloud.redhat.local:13000 domain=redhat.local login=admin passwd=foo pcmk_host_list=compute-0,compute-1 project_domain=Default record_only=1 region_name=regionOne tenant_name=admin user_domain=Default
  Meta Attrs: provides=unfencing
  Operations: monitor interval=60s (stonith-fence_compute-fence-nova-monitor-interval-60s)
....

Change-Id: Ia9c328a51d7f5dab933b096dd7a0792f2df2210e
(cherry picked from commit 781d197a342c6c3ee82f951483930f3d66673b4c)
(cherry picked from commit ebd5679d116a5f85e67429ecee9ee6f90def5b1a)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/26/796226/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker/instance_ha.pp'],1,68a4838056ff9327cda0ecf19e5ec66e5de9f5e3,iha-hostlist-stable/wallaby-stable/ussuri," # This passes the explicit host list of compute nodes that the fence_compute stonith device # is in charge of $compute_list = downcase(join(any2array(hiera('compute_instanceha_short_node_names', '')), ',')) pcmk_host_list => $compute_list,"," pcmk_host_list => '',",4,1
openstack%2Ftripleo-heat-templates~master~Ie96b3d35cea61370b1f98d7e060d696c4807c6b7,openstack/tripleo-heat-templates,master,Ie96b3d35cea61370b1f98d7e060d696c4807c6b7,Use community.general ansible collection instead of modules,MERGED,2021-06-10 12:17:37.000000000,2021-06-16 07:40:18.000000000,2021-06-16 07:40:18.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-10 12:17:37.000000000', 'files': ['deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/image-serve/image-serve-baremetal-ansible.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'common/deploy-steps-tasks-step-0.j2.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/podman/podman-baremetal-ansible.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'common/common-container-config-scripts.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/019419463f3957cef61cbb319a48a7760a185f23', 'message': 'Use community.general ansible collection instead of modules\n\nReplace module calls by community.general ansible collection calls.\nChange-Id: Ie96b3d35cea61370b1f98d7e060d696c4807c6b7\n'}]",0,795767,019419463f3957cef61cbb319a48a7760a185f23,14,5,1,10969,,,0,"Use community.general ansible collection instead of modules

Replace module calls by community.general ansible collection calls.
Change-Id: Ie96b3d35cea61370b1f98d7e060d696c4807c6b7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/795767/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/image-serve/image-serve-baremetal-ansible.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'common/deploy-steps-tasks-step-0.j2.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/podman/podman-baremetal-ansible.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'common/common-container-config-scripts.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",20,019419463f3957cef61cbb319a48a7760a185f23,collections-everywhere, community.general.sefcontext:, sefcontext:,26,26
openstack%2Ftripleo-heat-templates~master~If4654470a77a67445a56fb8fed6963fed300aad4,openstack/tripleo-heat-templates,master,If4654470a77a67445a56fb8fed6963fed300aad4,Add extra Ansible Variable perameter,MERGED,2021-06-11 16:24:57.000000000,2021-06-16 07:40:01.000000000,2021-06-16 07:40:01.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-06-11 16:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b0369036b5d1b32a253a8a2add4a2b9b3e21ca83', 'message': 'Add extra Ansible Group Variable perameter\n\nThis change adds an extra ansible group var to the defaults which\nwill allow an operator to more easily define a mapping of options\nto configure advanced ansible options within their deployment.\n\nChange-Id: If4654470a77a67445a56fb8fed6963fed300aad4\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2021-06-14 15:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80bb935e941629b4b621fdb88fea7c09738ac83e', 'message': 'Add extra Ansible Group Variable perameter\n\nThis change adds an extra ansible group var to the defaults which\nwill allow an operator to more easily define a mapping of options\nto configure advanced ansible options within their deployment.\n\nChange-Id: If4654470a77a67445a56fb8fed6963fed300aad4\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2021-06-14 15:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f671f99fdcc1742f3c3b54eec6a0fc5e29262172', 'message': 'Add extra Ansible Group Variable perameter\n\nThis change adds an extra ansible group var to the defaults which\nwill allow an operator to more easily define a mapping of options\nto configure advanced ansible options within their deployment.\n\nChange-Id: If4654470a77a67445a56fb8fed6963fed300aad4\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2021-06-14 15:43:02.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/feb63aba4e1d8b7a8c3fb02d718a4b17ce466fa1', 'message': 'Add extra Ansible Variable perameter\n\nThis change adds an extra ansible host var to the defaults which\nwill allow an operator to more easily define a mapping of options\nto configure advanced ansible options within their deployment.\n\nChange-Id: If4654470a77a67445a56fb8fed6963fed300aad4\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",4,796046,feb63aba4e1d8b7a8c3fb02d718a4b17ce466fa1,22,8,4,7353,,,0,"Add extra Ansible Variable perameter

This change adds an extra ansible host var to the defaults which
will allow an operator to more easily define a mapping of options
to configure advanced ansible options within their deployment.

Change-Id: If4654470a77a67445a56fb8fed6963fed300aad4
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/796046/4 && git format-patch -1 --stdout FETCH_HEAD,['common/services/role.role.j2.yaml'],1,b0369036b5d1b32a253a8a2add4a2b9b3e21ca83,, ExtraAnsibleGroupVars: default: {} description: Mapping of Ansible group variable overrides. type: json - {get_param: ExtraAnsibleGroupVars},,5,0
openstack%2Fcharm-octavia~master~I1592acb6a02b0ff988c6284dbf1795720358f14b,openstack/charm-octavia,master,I1592acb6a02b0ff988c6284dbf1795720358f14b,[WIP] Re-enable testing with Victora Amphora,ABANDONED,2021-06-15 10:11:17.000000000,2021-06-16 07:07:09.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 10:11:17.000000000', 'files': ['src/tests/bundles/overlays/ha.j2', 'osci.yaml', 'src/tests/bundles/focal-victoria-ha-ovn.yaml', 'src/tests/bundles/groovy-victoria-ha.yaml', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/groovy-victoria-ha-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/fc1391d8af0b6d83b18788491f7c1669818b1e2c', 'message': '[WIP] Re-enable testing with Victora Amphora\n\nAlso re-enable bionic-ussuri-ha-ovn now that the ovn 20.03.2 SRU\nis complete.\n\nNOTE: remove the change to ha.j2 before merging!\n\nChange-Id: I1592acb6a02b0ff988c6284dbf1795720358f14b\n'}]",0,796419,fc1391d8af0b6d83b18788491f7c1669818b1e2c,5,3,1,13686,,,0,"[WIP] Re-enable testing with Victora Amphora

Also re-enable bionic-ussuri-ha-ovn now that the ovn 20.03.2 SRU
is complete.

NOTE: remove the change to ha.j2 before merging!

Change-Id: I1592acb6a02b0ff988c6284dbf1795720358f14b
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/19/796419/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/ha.j2', 'osci.yaml', 'src/tests/bundles/focal-victoria-ha-ovn.yaml', 'src/tests/bundles/groovy-victoria-ha.yaml', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/tests/bundles/groovy-victoria-ha-ovn.yaml', 'src/tests/tests.yaml']",7,fc1391d8af0b6d83b18788491f7c1669818b1e2c,bug/1928179,- bionic-ussuri-ha-ovn,# Awaiting SRU in LP: #1924981 to complete # - bionic-ussuri-ha-ovn,22,14
openstack%2Fceilometer~master~I449e045e948ad543c4d046b6449094c7617ce78f,openstack/ceilometer,master,I449e045e948ad543c4d046b6449094c7617ce78f,vmware tests: Support different moref backend representations,MERGED,2021-04-30 07:33:24.000000000,2021-06-16 07:03:47.000000000,2021-06-16 07:02:01.000000000,"[{'_account_id': 4264}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 26250}]","[{'number': 1, 'created': '2021-04-30 07:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/41aa51a9df3e88c656073b87e92fde55475a3590', 'message': 'vmware: Use oslo.vmware\'s get_moref_value()\n\nWith switching the SOAP library backing oslo.vmware [1], the internal\nrepresentation of ManagedObjectReference\'s attributes changes. To be able\nto make the switch without interruption, we introduced helper functions\nin oslo.vmware. This commit uses one of those - get_moref_value()\n- to make the access to the ""value"" attribute compatible with both\nbacking libraries.\n\n[1] https://specs.openstack.org/openstack/oslo-\nspecs/specs/victoria/oslo-vmware-soap-library-switch.html\n\nChange-Id: I449e045e948ad543c4d046b6449094c7617ce78f\n'}, {'number': 2, 'created': '2021-04-30 15:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c3aabba05f336fd66b9c32f327d9bd47ec13a04d', 'message': ""vmware tests: Support different moref backend representations\n\nWe want to switch the SOAP library backing oslo.vmware [1], which\nchanges how a ManagedObjectReference's attributes look like. To handle\nthe two representations in the tests - especially for the transition\nperiod - we will set both attributes on fake.ManagedObjectReference.\nTherefore, we have to use fake.ManagedObjectReference everywhere instead\nof using manual Mock objects lacking one of the attributes.\n\n[1] https://specs.openstack.org/openstack/oslo-specs/specs/victoria/oslo-vmware-soap-library-switch.html\n\nChange-Id: I449e045e948ad543c4d046b6449094c7617ce78f\n""}, {'number': 3, 'created': '2021-05-10 10:44:44.000000000', 'files': ['ceilometer/tests/unit/compute/virt/vmware/test_vsphere_operations.py', 'ceilometer/tests/unit/compute/virt/vmware/fake.py', 'ceilometer/tests/unit/compute/virt/vmware/test_inspector.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/044282d453e302a5690de12b679721d290368c0a', 'message': ""vmware tests: Support different moref backend representations\n\nWe want to switch the SOAP library backing oslo.vmware [1], which\nchanges how a ManagedObjectReference's attributes look like. To handle\nthe two representations in the tests - especially for the transition\nperiod - we will set both attributes on fake.ManagedObjectReference.\nTherefore, we have to use fake.ManagedObjectReference everywhere instead\nof using manual Mock objects lacking one of the attributes.\n\n[1] https://specs.openstack.org/openstack/oslo-specs/specs/victoria/oslo-vmware-soap-library-switch.html\n\nChange-Id: I449e045e948ad543c4d046b6449094c7617ce78f\n""}]",8,788898,044282d453e302a5690de12b679721d290368c0a,20,4,3,32919,,,0,"vmware tests: Support different moref backend representations

We want to switch the SOAP library backing oslo.vmware [1], which
changes how a ManagedObjectReference's attributes look like. To handle
the two representations in the tests - especially for the transition
period - we will set both attributes on fake.ManagedObjectReference.
Therefore, we have to use fake.ManagedObjectReference everywhere instead
of using manual Mock objects lacking one of the attributes.

[1] https://specs.openstack.org/openstack/oslo-specs/specs/victoria/oslo-vmware-soap-library-switch.html

Change-Id: I449e045e948ad543c4d046b6449094c7617ce78f
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/98/788898/2 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/compute/virt/vmware/vsphere_operations.py'],1,41aa51a9df3e88c656073b87e92fde55475a3590,bp/oslo-vmware-soap-library-switch, for metric_series in vim_util.get_moref_value(entity_metric): metric_series_val = vim_util.get_moref_value(metric_series) filtered = [i for i in metric_series_val if i != -1], for metric_series in entity_metric.value: filtered = [i for i in metric_series.value if i != -1],3,2
openstack%2Fskyline-apiserver~master~I023cfbeac33543d2989f5017c878cd17160f8c76,openstack/skyline-apiserver,master,I023cfbeac33543d2989f5017c878cd17160f8c76,fix: Add sample yaml config file,MERGED,2021-06-11 06:50:05.000000000,2021-06-16 06:42:29.000000000,2021-06-16 06:42:29.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-06-11 06:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/e48d98436709d6ffff3771d967f26b20233c93f8', 'message': 'fix: Add sample yaml config file\n\nUnder etc dictory, add sample yaml config file\nnamed skyline-apiserver.yaml.sample\nUpdated the README.md and README-zh_CN.md file\nto make quick start more clearly.\n\nCloses-Bug: #1931673\nChange-Id: I023cfbeac33543d2989f5017c878cd17160f8c76\n'}, {'number': 2, 'created': '2021-06-16 02:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/4b4ec55de2052a13b5e9c7502f0918f0e3545bf2', 'message': 'fix: Add sample yaml config file\n\nUnder etc dictory, add sample yaml config file\nnamed skyline-apiserver.yaml.sample\nUpdated the README.md and README-zh_CN.md file\nto make quick start more clearly.\n\nCloses-Bug: #1931673\nChange-Id: I023cfbeac33543d2989f5017c878cd17160f8c76\n'}, {'number': 3, 'created': '2021-06-16 02:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/3b6213543dcf74aaf592d2589171c1bbbe06f6ed', 'message': 'fix: Add sample yaml config file\n\nUnder etc dictory, add sample yaml config file\nnamed skyline-apiserver.yaml.sample\nUpdated the README.md and README-zh_CN.md file\nto make quick start more clearly.\n\nCloses-Bug: #1931673\nChange-Id: I023cfbeac33543d2989f5017c878cd17160f8c76\n'}, {'number': 4, 'created': '2021-06-16 06:22:31.000000000', 'files': ['README-zh_CN.md', 'etc/skyline-apiserver.yaml.sample', 'README.md'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/c1bb509391da4225411c261b0d3639c83ab72999', 'message': 'fix: Add sample yaml config file\n\nUnder etc dictory, add sample yaml config file\nnamed skyline-apiserver.yaml.sample\nUpdated the README.md and README-zh_CN.md file\nto make quick start more clearly.\n\nCloses-Bug: #1931673\nChange-Id: I023cfbeac33543d2989f5017c878cd17160f8c76\n'}]",8,795930,c1bb509391da4225411c261b0d3639c83ab72999,16,3,4,28706,,,0,"fix: Add sample yaml config file

Under etc dictory, add sample yaml config file
named skyline-apiserver.yaml.sample
Updated the README.md and README-zh_CN.md file
to make quick start more clearly.

Closes-Bug: #1931673
Change-Id: I023cfbeac33543d2989f5017c878cd17160f8c76
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/30/795930/2 && git format-patch -1 --stdout FETCH_HEAD,"['README-zh_CN.md', 'etc/skyline-apiserver.yaml.sample', 'README.md']",3,e48d98436709d6ffff3771d967f26b20233c93f8,bug/1931673,- Installing dependency packages ```bash make install ``` - Set skyline-apiserver.yaml config file Maybe you should change the params with your real environment as followed: ```text - database_url (you can set sqlite:////tmp/skyline.db to use sqlite) - default_region - keystone_url - system_project - system_project_domain - system_user_domain - system_user_name - system_user_password ``` ```bash cp etc/skyline-apiserver.yaml.sample etc/skyline-apiserver.yaml export OS_CONFIG_DIR=$(pwd)/etc ``` - Init skyline database ```bash make db_sync ``` - Run server ```console $ poetry run uvicorn --reload --host 0.0.0. --port 28000 --log-level debug skyline_apiserver.main:app INFO: Uvicorn running on http://0.0.0.0:28000 (Press CTRL+C to quit) INFO: Started reloader process [154033] using statreload INFO: Started server process [154037] INFO: Waiting for application startup. INFO: Application startup complete. ```,```bash make install cp etc/skyline_apiserver.yaml.sample etc/skyline_apiserver.yaml export OS_CONFIG_DIR=$(pwd)/etc rm -f /tmp/skyline_apiserver.db make db_sync ``` ```console # $ poetry run gunicorn -c etc/gunicorn.py --reload skyline_apiserver.main:app $ poetry run uvicorn --reload --port 28000 --log-level debug skyline_apiserver.main:app INFO: Uvicorn running on http://127.0.0.1:28000 (Press CTRL+C to quit) INFO: Started reloader process [154033] using statreload INFO: Started server process [154037] INFO: Waiting for application startup. INFO: Application startup complete. ```,200,33
openstack%2Fansible-collections-openstack~master~I49302c7ca72b85c74c00e436bc4d695115471f70,openstack/ansible-collections-openstack,master,I49302c7ca72b85c74c00e436bc4d695115471f70,Switch flavor module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-16 06:30:51.000000000,2021-06-16 06:30:51.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3b270edd7609f9972f46372d41dfdcdd1ffb7be4', 'message': 'Switch flavor module to OpenStackModule\n\nChange-Id: I49302c7ca72b85c74c00e436bc4d695115471f70\n'}, {'number': 2, 'created': '2021-05-21 07:44:28.000000000', 'files': ['plugins/modules/compute_flavor.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/57e10871779fb09f4cc5c28f77203c7666528ed9', 'message': 'Switch flavor module to OpenStackModule\n\nChange-Id: I49302c7ca72b85c74c00e436bc4d695115471f70\n'}]",0,792444,57e10871779fb09f4cc5c28f77203c7666528ed9,8,2,2,27900,,,0,"Switch flavor module to OpenStackModule

Change-Id: I49302c7ca72b85c74c00e436bc4d695115471f70
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/44/792444/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/compute_flavor.py'],1,3b270edd7609f9972f46372d41dfdcdd1ffb7be4,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class ComputeFlavorModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( supports_check_mode=True ) def _system_state_change(self, flavor): state = self.params['state'] if state == 'present' and not flavor: return True if state == 'absent' and flavor: return True return False def run(self): state = self.params['state'] name = self.params['name'] extra_specs = self.params['extra_specs'] or {} flavor = self.conn.get_flavor(name) if self.ansible.check_mode: self.exit_json(changed=self._system_state_change(flavor)) for param_key in ['ram', 'vcpus', 'disk', 'ephemeral', 'swap', 'rxtx_factor', 'is_public']: if self.params[param_key] != flavor[param_key]: self.conn.delete_flavor(name) flavor = self.conn.create_flavor( ram=self.params['ram'], vcpus=self.params['vcpus'], disk=self.params['disk'], flavorid=self.params['flavorid'], ephemeral=self.params['ephemeral'], swap=self.params['swap'], rxtx_factor=self.params['rxtx_factor'], is_public=self.params['is_public'] self.conn.unset_flavor_specs(flavor['id'], unset_keys) self.conn.set_flavor_specs(flavor['id'], extra_specs) self.exit_json( changed=changed, flavor=flavor, id=flavor['id']) self.conn.delete_flavor(name) self.exit_json(changed=True) self.exit_json(changed=False) def main(): module = ComputeFlavorModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def _system_state_change(module, flavor): state = module.params['state'] if state == 'present' and not flavor: return True if state == 'absent' and flavor: return True return False def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule( argument_spec, supports_check_mode=True, **module_kwargs) state = module.params['state'] name = module.params['name'] extra_specs = module.params['extra_specs'] or {} sdk, cloud = openstack_cloud_from_module(module) try: flavor = cloud.get_flavor(name) if module.check_mode: module.exit_json(changed=_system_state_change(module, flavor)) for param_key in ['ram', 'vcpus', 'disk', 'ephemeral', 'swap', 'rxtx_factor', 'is_public']: if module.params[param_key] != flavor[param_key]: cloud.delete_flavor(name) flavor = cloud.create_flavor( ram=module.params['ram'], vcpus=module.params['vcpus'], disk=module.params['disk'], flavorid=module.params['flavorid'], ephemeral=module.params['ephemeral'], swap=module.params['swap'], rxtx_factor=module.params['rxtx_factor'], is_public=module.params['is_public'] cloud.unset_flavor_specs(flavor['id'], unset_keys) cloud.set_flavor_specs(flavor['id'], extra_specs) module.exit_json(changed=changed, flavor=flavor, id=flavor['id']) cloud.delete_flavor(name) module.exit_json(changed=True) module.exit_json(changed=False) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",45,50
openstack%2Ftripleo-heat-templates~master~I522951cc7ec6034bb6287dd144a9fc433c0090e0,openstack/tripleo-heat-templates,master,I522951cc7ec6034bb6287dd144a9fc433c0090e0,Make UpgradeLeappDevelSkip per-role,MERGED,2021-06-09 17:35:46.000000000,2021-06-16 06:10:42.000000000,2021-06-16 06:06:45.000000000,"[{'_account_id': 6796}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-09 17:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/36877f41bdc5cfefc4a8c20ce387e066a63de41c', 'message': 'Make UpgradeLeappDevelSkip per-role\n\nWhen specific roles are deployed, for example CephStorage,\nthen the parameters for UpgradeLeappDevelSkip are different\nto all other roles.\n\nThis change makes UpgradeLeappDevelSkip a per-role parameter.\n\nRelated-Bug: rhbz#1962365\n\nChange-Id: I522951cc7ec6034bb6287dd144a9fc433c0090e0\n'}, {'number': 2, 'created': '2021-06-11 13:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ff31d521a7c6b032c0a80f5731a17d778724ed4', 'message': 'Make UpgradeLeappDevelSkip per-role\n\nWhen specific roles are deployed, for example CephStorage,\nthen the parameters for UpgradeLeappDevelSkip are different\nto all other roles.\n\nThis change makes UpgradeLeappDevelSkip a per-role parameter.\n\nRelated-Bug: rhbz#1962365\n\nChange-Id: I522951cc7ec6034bb6287dd144a9fc433c0090e0\n'}, {'number': 3, 'created': '2021-06-11 13:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d8fbc3cc65d35fa6e997269b2c969ce9fa45ee0', 'message': 'Make UpgradeLeappDevelSkip per-role\n\nWhen specific roles are deployed, for example CephStorage,\nthen the parameters for UpgradeLeappDevelSkip are different\nto all other roles.\n\nThis change makes UpgradeLeappDevelSkip a per-role parameter.\n\nIncluded in this is the appropriate tagging for the other\nparameters which ahd this done in:\nhttps://review.opendev.org/779522\n\nRelease notes are included for all of the above too.\n\nRelated-Bug: rhbz#1962365\n\nChange-Id: I522951cc7ec6034bb6287dd144a9fc433c0090e0\n'}, {'number': 4, 'created': '2021-06-11 13:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/062666a7b7d4d7d4658abe0f8291bbcbdbf45bb1', 'message': 'Make UpgradeLeappDevelSkip per-role\n\nWhen specific roles are deployed, for example CephStorage,\nthen the parameters for UpgradeLeappDevelSkip are different\nto all other roles.\n\nThis change makes UpgradeLeappDevelSkip a per-role parameter.\n\nIncluded in this is the appropriate tagging for the other\nparameters which had the same work done in:\n\n- https://review.opendev.org/779522\n- https://review.opendev.org/774537\n\nRelease notes are included for all of the above too.\n\nRelated-Bug: rhbz#1962365\n\nChange-Id: I522951cc7ec6034bb6287dd144a9fc433c0090e0\n'}, {'number': 5, 'created': '2021-06-11 14:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1063462ab45426777d34dd98b107c5074161dcde', 'message': 'Make UpgradeLeappDevelSkip per-role\n\nWhen specific roles are deployed, for example CephStorage,\nthen the parameters for UpgradeLeappDevelSkip are different\nto all other roles.\n\nThis change makes UpgradeLeappDevelSkip a per-role parameter.\n\nIncluded in this is the appropriate tagging for the other\nparameters which had the same work done in:\n\n- https://review.opendev.org/779522\n- https://review.opendev.org/774537\n\nRelease notes are included for all of the above too.\n\nRelated-Bug: rhbz#1962365\n\nChange-Id: I522951cc7ec6034bb6287dd144a9fc433c0090e0\n'}, {'number': 6, 'created': '2021-06-13 21:48:11.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'puppet/role.role.j2.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployed-server/deployed-server.yaml', 'releasenotes/notes/upgradeleapp-per-role-ad2e84e317ec1291.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dcddeb3b914e216622e5b091ab78d97b7133b30e', 'message': 'Make UpgradeLeappDevelSkip per-role\n\nWhen specific roles are deployed, for example CephStorage,\nthen the parameters for UpgradeLeappDevelSkip are different\nto all other roles.\n\nThis change makes UpgradeLeappDevelSkip a per-role parameter.\n\nIncluded in this is the appropriate tagging for the other\nparameters which had the same work done in:\n\n- https://review.opendev.org/779522\n- https://review.opendev.org/774537\n\nRelease notes are included for all of the above too.\n\nRelated-Bug: rhbz#1962365\n\nChange-Id: I522951cc7ec6034bb6287dd144a9fc433c0090e0\n'}]",3,795605,dcddeb3b914e216622e5b091ab78d97b7133b30e,28,7,6,6816,,,0,"Make UpgradeLeappDevelSkip per-role

When specific roles are deployed, for example CephStorage,
then the parameters for UpgradeLeappDevelSkip are different
to all other roles.

This change makes UpgradeLeappDevelSkip a per-role parameter.

Included in this is the appropriate tagging for the other
parameters which had the same work done in:

- https://review.opendev.org/779522
- https://review.opendev.org/774537

Release notes are included for all of the above too.

Related-Bug: rhbz#1962365

Change-Id: I522951cc7ec6034bb6287dd144a9fc433c0090e0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/795605/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,36877f41bdc5cfefc4a8c20ce387e066a63de41c,," upgrade_leapp_devel_skip: UpgradeLeappDevelSkip UpgradeLeappDevelSkip: {get_param: UpgradeLeappDevelSkip} upgrade_leapp_devel_skip: {get_attr: [RoleParametersValue, value, 'upgrade_leapp_devel_skip']}", upgrade_leapp_devel_skip: {get_param: UpgradeLeappDevelSkip},3,1
openstack%2Ftripleo-heat-templates~master~I9cce900c6655b9dbbe571662783aeb658863b5d3,openstack/tripleo-heat-templates,master,I9cce900c6655b9dbbe571662783aeb658863b5d3,Enable DPDK OVS PMD Auto Load Balance,MERGED,2021-04-26 08:17:59.000000000,2021-06-16 06:08:49.000000000,2021-06-16 06:06:17.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-26 08:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bcf16e7a423cb702ff4eac526b52d90ca595f1bf', 'message': 'Enable DPDK OVS PMD Auto Load Balance\n\nAdd new tht param to configure\nOVS PMD Auto Load Balance\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/787914\nChange-Id: I9cce900c6655b9dbbe571662783aeb658863b5d3\n'}, {'number': 2, 'created': '2021-05-06 14:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9fb933b08291d18035a00370e7405385d1edcfda', 'message': 'Enable DPDK OVS PMD Auto Load Balance\n\nAdd new tht param to configure\nOVS PMD Auto Load Balance\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/787914\nChange-Id: I9cce900c6655b9dbbe571662783aeb658863b5d3\n'}, {'number': 3, 'created': '2021-06-14 15:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4392ee2ff065e81a76754950c36e89cd89eb701b', 'message': 'Enable DPDK OVS PMD Auto Load Balance\n\nAdd new tht param to configure\nOVS PMD Auto Load Balance\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/787914\nChange-Id: I9cce900c6655b9dbbe571662783aeb658863b5d3\n'}, {'number': 4, 'created': '2021-06-15 09:59:31.000000000', 'files': ['releasenotes/notes/ovs_dpdk_pmd-74f4cfa0ef280cc0.yaml', 'deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94e31ab75ba48452cf795617db42595128733fb0', 'message': 'Enable DPDK OVS PMD Auto Load Balance\n\nAdd new tht param to configure\nOVS PMD Auto Load Balance\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/787914\nChange-Id: I9cce900c6655b9dbbe571662783aeb658863b5d3\n'}]",3,787935,94e31ab75ba48452cf795617db42595128733fb0,24,5,4,11082,,,0,"Enable DPDK OVS PMD Auto Load Balance

Add new tht param to configure
OVS PMD Auto Load Balance

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/787914
Change-Id: I9cce900c6655b9dbbe571662783aeb658863b5d3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/787935/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml'],1,bcf16e7a423cb702ff4eac526b52d90ca595f1bf,change-787935-2," OvsPmdAutoLb: default: false description: | Disable OVS Exact Match Cache. type: boolean tags: - role_specific Configure DPDK OVS PMD Auto Load Balance. pmd_auto_lb: OvsPmdAutoLb OvsPmdAutoLb: {get_param: OvsPmdAutoLb} tripleo_ovs_dpdk_pmd_auto_lb: {get_attr: [RoleParametersDpdk, value, pmd_auto_lb]}", Disable OVS Exact Match Cache.,11,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8b7a1ee8be6ce0e72b08db5f354a458bdcf4ef57,openstack/tripleo-heat-templates,stable/train,I8b7a1ee8be6ce0e72b08db5f354a458bdcf4ef57,[Train-Only] Add leapp answer authselect_check.confirm.,MERGED,2021-05-25 11:58:00.000000000,2021-06-16 06:06:08.000000000,2021-06-16 06:06:08.000000000,"[{'_account_id': 6816}, {'_account_id': 9914}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-05-25 11:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1652c90921e4cc8862c283d2b8de9ff515f24186', 'message': 'Add leapp answer authselect_check.confirm.\n\nThere is a new tool called authselect in RHEL8 that replaced authconfig.\nWhen upgrading TLS-Everywhere environments the PAM files seem to be modified\nout of authconfig, which triggers the authselect_check actor to ask the\noperator if its desired to migrate from authconfig to authselect.\nThe migration to authselect should be safe, for that reason we are assigning\nthe constant value of True in the answers file before performing the Leapp\nupgrade.\n\nChange-Id: I8b7a1ee8be6ce0e72b08db5f354a458bdcf4ef57\nResolves: rhbz#1952574\n'}, {'number': 2, 'created': '2021-05-25 12:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2c0b0b378389832b731b7171527644a7b261c0c', 'message': '[Train-Only] Add leapp answer authselect_check.confirm.\n\nThere is a new tool called authselect in RHEL8 that replaced authconfig.\nWhen upgrading TLS-Everywhere environments the PAM files seem to be modified\nout of authconfig, which triggers the authselect_check actor to ask the\noperator if its desired to migrate from authconfig to authselect.\nThe migration to authselect should be safe, for that reason we are assigning\nthe constant value of True in the answers file before performing the Leapp\nupgrade.\n\nChange-Id: I8b7a1ee8be6ce0e72b08db5f354a458bdcf4ef57\nResolves: rhbz#1952574\n'}, {'number': 3, 'created': '2021-06-07 12:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0f8623c58d34dfa7d418553dcd28b9275c02c1a', 'message': '[Train-Only] Add leapp answer authselect_check.confirm.\n\nThere is a new tool called authselect in RHEL8 that replaced authconfig.\nWhen upgrading TLS-Everywhere environments the PAM files seem to be modified\nout of authconfig, which triggers the authselect_check actor to ask the\noperator if its desired to migrate from authconfig to authselect.\nThe migration to authselect should be safe, for that reason we are assigning\nthe constant value of True in the answers file before performing the Leapp\nupgrade.\n\nChange-Id: I8b7a1ee8be6ce0e72b08db5f354a458bdcf4ef57\nResolves: rhbz#1952574\n'}, {'number': 4, 'created': '2021-06-15 07:53:11.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fc584a146a7d1325498d168f5beea086295cec4e', 'message': '[Train-Only] Add leapp answer authselect_check.confirm.\n\nThere is a new tool called authselect in RHEL8 that replaced authconfig.\nWhen upgrading TLS-Everywhere environments the PAM files seem to be modified\nout of authconfig, which triggers the authselect_check actor to ask the\noperator if its desired to migrate from authconfig to authselect.\nThe migration to authselect should be safe, for that reason we are assigning\nthe constant value of True in the answers file before performing the Leapp\nupgrade.\n\nChange-Id: I8b7a1ee8be6ce0e72b08db5f354a458bdcf4ef57\nResolves: rhbz#1952574\n'}]",0,792955,fc584a146a7d1325498d168f5beea086295cec4e,29,7,4,26343,,,0,"[Train-Only] Add leapp answer authselect_check.confirm.

There is a new tool called authselect in RHEL8 that replaced authconfig.
When upgrading TLS-Everywhere environments the PAM files seem to be modified
out of authconfig, which triggers the authselect_check actor to ask the
operator if its desired to migrate from authconfig to authselect.
The migration to authselect should be safe, for that reason we are assigning
the constant value of True in the answers file before performing the Leapp
upgrade.

Change-Id: I8b7a1ee8be6ce0e72b08db5f354a458bdcf4ef57
Resolves: rhbz#1952574
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/792955/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,1652c90921e4cc8862c283d2b8de9ff515f24186,," - name: set leapp required answers shell: | # PAM module pam_pkcs11 is no longer available in RHEL-8 since it was replaced by SSSD # Required for TLS-Everywhere, switch from authconfig to authselect leapp answer --section authselect_check.confirm=True --add", - name: set leapp options shell: >,5,2
openstack%2Fpython-tripleoclient~master~Idd905e32dc70728abdb4cea1a14f43c7f11ff311,openstack/python-tripleoclient,master,Idd905e32dc70728abdb4cea1a14f43c7f11ff311,Add --db-only option in undercloud_backup.,MERGED,2021-05-26 13:07:12.000000000,2021-06-16 06:04:10.000000000,2021-06-16 06:00:45.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 32728}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-05-26 13:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f951e5f859026bee2d795525748b7989347c2a8d', 'message': ""Add --db-only option in undercloud_backup.\n\nThis patch adds a new option --db-only which will perform a DB backup\nof the Undercloud node. This option will have precedence to --init, --setup-nfs\nor --setup-rear, but it won't complain. If the --db-only option is being\npassed then only the play in charge of performing the Undercloud's DB backup\nwill be triggered.\n\nChange-Id: Idd905e32dc70728abdb4cea1a14f43c7f11ff311\nDepends-On: I62cadfd95c514edf0b982fa652a53feadb24f2b7\n""}, {'number': 2, 'created': '2021-05-26 13:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/44a79478d763183a84ed30e11ff8d7e56eee0d35', 'message': ""Add --db-only option in undercloud_backup.\n\nThis patch adds a new option --db-only which will perform a DB backup\nof the Undercloud node. This option will have precedence to --init, --setup-nfs\nor --setup-rear, but it won't complain. If the --db-only option is being\npassed then only the play in charge of performing the Undercloud's DB backup\nwill be triggered.\n\nChange-Id: Idd905e32dc70728abdb4cea1a14f43c7f11ff311\nDepends-On: I62cadfd95c514edf0b982fa652a53feadb24f2b7\n""}, {'number': 3, 'created': '2021-05-26 14:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9ae52e1b9ccf8c9be74d2768932e04ab98911739', 'message': ""Add --db-only option in undercloud_backup.\n\nThis patch adds a new option --db-only which will perform a DB backup\nof the Undercloud node. This option will have precedence to --init, --setup-nfs\nor --setup-rear, but it won't complain. If the --db-only option is being\npassed then only the play in charge of performing the Undercloud's DB backup\nwill be triggered.\n\nChange-Id: Idd905e32dc70728abdb4cea1a14f43c7f11ff311\nDepends-On: I62cadfd95c514edf0b982fa652a53feadb24f2b7\n""}, {'number': 4, 'created': '2021-05-26 14:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1c016c5ce3bb20b1137eac4dce471456bd576c67', 'message': ""Add --db-only option in undercloud_backup.\n\nThis patch adds a new option --db-only which will perform a DB backup\nof the Undercloud node. This option will have precedence to --init, --setup-nfs\nor --setup-rear, but it won't complain. If the --db-only option is being\npassed then only the play in charge of performing the Undercloud's DB backup\nwill be triggered.\n\nChange-Id: Idd905e32dc70728abdb4cea1a14f43c7f11ff311\nDepends-On: I62cadfd95c514edf0b982fa652a53feadb24f2b7\n""}, {'number': 5, 'created': '2021-05-27 05:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/98be6c664023f4eeb95936a4a52b1c4bc3167225', 'message': ""Add --db-only option in undercloud_backup.\n\nThis patch adds a new option --db-only which will perform a DB backup\nof the Undercloud node. This option will have precedence to --init, --setup-nfs\nor --setup-rear, but it won't complain. If the --db-only option is being\npassed then only the play in charge of performing the Undercloud's DB backup\nwill be triggered.\n\nChange-Id: Idd905e32dc70728abdb4cea1a14f43c7f11ff311\nDepends-On: I62cadfd95c514edf0b982fa652a53feadb24f2b7\n""}, {'number': 6, 'created': '2021-05-27 13:45:08.000000000', 'files': ['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/tests/v1/undercloud/test_backup.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a792bbd8747455f468ef94d5162847c17d243735', 'message': ""Add --db-only option in undercloud_backup.\n\nThis patch adds a new option --db-only which will perform a DB backup\nof the Undercloud node. This option will have precedence to --init, --setup-nfs\nor --setup-rear, but it won't complain. If the --db-only option is being\npassed then only the play in charge of performing the Undercloud's DB backup\nwill be triggered.\n\nChange-Id: Idd905e32dc70728abdb4cea1a14f43c7f11ff311\nDepends-On: I62cadfd95c514edf0b982fa652a53feadb24f2b7\n""}]",2,793153,a792bbd8747455f468ef94d5162847c17d243735,24,8,6,26343,,,0,"Add --db-only option in undercloud_backup.

This patch adds a new option --db-only which will perform a DB backup
of the Undercloud node. This option will have precedence to --init, --setup-nfs
or --setup-rear, but it won't complain. If the --db-only option is being
passed then only the play in charge of performing the Undercloud's DB backup
will be triggered.

Change-Id: Idd905e32dc70728abdb4cea1a14f43c7f11ff311
Depends-On: I62cadfd95c514edf0b982fa652a53feadb24f2b7
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/53/793153/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/tests/v1/undercloud/test_backup.py']",2,f951e5f859026bee2d795525748b7989347c2a8d,," @mock.patch('os.path.isfile') @mock.patch('os.access') @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_undercloud_backup_db_only(self, mock_playbook, mock_access, mock_isfile): arglist = [ '--db-only' ] verifylist = [] mock_isfile.return_value = True mock_access.return_value = True parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook='cli-undercloud-db-backup.yaml', inventory=parsed_args.inventory, tags='None', skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars=None ) @mock.patch('os.path.isfile') @mock.patch('os.access') @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_undercloud_backup_db_only_with_setup_options(self, mock_playbook, mock_access, mock_isfile): arglist = [ '--db-only' '--setup-nfs', '--setup-rear', ] verifylist = [] mock_isfile.return_value = True mock_access.return_value = True parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook='cli-undercloud-db-backup.yaml', inventory=parsed_args.inventory, tags='None', skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars=None ) ",,101,21
openstack%2Ftripleo-heat-templates~master~I5cda7df93cc56dd9691a9d5857de455d0f539897,openstack/tripleo-heat-templates,master,I5cda7df93cc56dd9691a9d5857de455d0f539897,Move designate from experimental,MERGED,2021-05-20 18:17:04.000000000,2021-06-16 06:00:03.000000000,2021-06-16 06:00:03.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-20 18:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33fe9c1176a70a7c54c97052cb93636eec65847c', 'message': 'Move designate from experimental\n\nA lot of work has been done on designate in the wallaby cycle and its\nbasic functionality deploys normally. There is an active team working on\nthe component and the deployment support.\n\nChange-Id: I5cda7df93cc56dd9691a9d5857de455d0f539897\n'}, {'number': 2, 'created': '2021-05-21 00:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e161f93ba6bc6b7362ecf0ca5a84dfe7bafa5a2d', 'message': 'Move designate from experimental\n\nA lot of work has been done on designate in the wallaby cycle and its\nbasic functionality deploys normally. There is an active team working on\nthe component and the deployment support.\n\nChange-Id: I5cda7df93cc56dd9691a9d5857de455d0f539897\n'}, {'number': 3, 'created': '2021-05-25 14:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d3885eeda437859019d1f2f27d3dbc64a876f61', 'message': 'Move designate from experimental\n\nA lot of work has been done on designate in the wallaby cycle and its\nbasic functionality deploys normally. There is an active team working on\nthe component and the deployment support.\n\nChange-Id: I5cda7df93cc56dd9691a9d5857de455d0f539897\n'}, {'number': 4, 'created': '2021-05-26 13:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9d3b081c4c8db6a19c5c6f093c732ffaec970d1', 'message': 'Move designate from experimental\n\nA lot of work has been done on designate in the wallaby cycle and its\nbasic functionality deploys normally. There is an active team working on\nthe component and the deployment support.\n\nChange-Id: I5cda7df93cc56dd9691a9d5857de455d0f539897\n'}, {'number': 5, 'created': '2021-06-08 17:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/521529e609d058de071e8f7f31a397a47efea0f9', 'message': 'Move designate from experimental\n\nA lot of work has been done on designate in the wallaby cycle and its\nbasic functionality deploys normally. There is an active team working on\nthe component and the deployment support.\n\nChange-Id: I5cda7df93cc56dd9691a9d5857de455d0f539897\n'}, {'number': 6, 'created': '2021-06-09 14:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/56e8df200477bb48709d46a6663b946a09340954', 'message': 'Move designate from experimental\n\nA lot of work has been done on designate in the wallaby cycle and its\nbasic functionality deploys normally. There is an active team working on\nthe component and the deployment support.\n\nChange-Id: I5cda7df93cc56dd9691a9d5857de455d0f539897\n'}, {'number': 7, 'created': '2021-06-14 16:24:32.000000000', 'files': ['deployment/designate/designate-producer-container-puppet.yaml', 'deployment/designate/designate-worker-container-puppet.yaml', 'environments/enable-designate.yaml', 'sample-env-generator/enable-services.yaml', 'deployment/designate/designate-mdns-container-puppet.yaml', 'ci/environments/scenario003-standalone.yaml', 'deployment/designate/designate-bind-container.yaml', 'deployment/designate/designate-base.yaml', 'deployment/designate/designate-sink-container-puppet.yaml', 'deployment/designate/designate-central-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b991086fea01ec9b98dd7b2eb947df1b8ade5d0e', 'message': 'Move designate from experimental\n\nA lot of work has been done on designate in the wallaby cycle and its\nbasic functionality deploys normally. There is an active team working on\nthe component and the deployment support.\n\nChange-Id: I5cda7df93cc56dd9691a9d5857de455d0f539897\n'}]",1,792467,b991086fea01ec9b98dd7b2eb947df1b8ade5d0e,27,7,7,6681,,,0,"Move designate from experimental

A lot of work has been done on designate in the wallaby cycle and its
basic functionality deploys normally. There is an active team working on
the component and the deployment support.

Change-Id: I5cda7df93cc56dd9691a9d5857de455d0f539897
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/792467/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/designate/designate-producer-container-puppet.yaml', 'deployment/designate/designate-worker-container-puppet.yaml', 'environments/enable-designate.yaml', 'deployment/designate/designate-mdns-container-puppet.yaml', 'ci/environments/scenario003-standalone.yaml', 'deployment/designate/designate-bind-container.yaml', 'deployment/designate/designate-base.yaml', 'deployment/designate/designate-sink-container-puppet.yaml', 'deployment/designate/designate-central-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml']",10,33fe9c1176a70a7c54c97052cb93636eec65847c,designate,,,12,15
openstack%2Fpuppet-tripleo~stable%2Ftrain~I97442478d77d222fdd428eebd270c08df08237f6,openstack/puppet-tripleo,stable/train,I97442478d77d222fdd428eebd270c08df08237f6,Add support for ovn clustered databases,MERGED,2021-06-12 17:33:48.000000000,2021-06-16 05:59:58.000000000,2021-06-16 05:59:58.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-12 17:33:48.000000000', 'files': ['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/79f06794fdc85af625248c55e97aea353531ee83', 'message': 'Add support for ovn clustered databases\n\nThis patch adds support for managing the ovn connection correctly when\novn is handling clustering instead of pacemaker. By default if the\nparameter is not enabled, the pacemaker managed way is assumed.\n\nConflicts:\n  manifests/profile/base/neutron/agents/ovn.pp (Due to missing\n  ""enable_ovn_match_northd => true,"" line) and other context\n  manifests/profile/base/neutron/ovn_metadata.pp\n  manifests/profile/base/neutron/plugins/ml2/ovn.pp\n\nChange-Id: I97442478d77d222fdd428eebd270c08df08237f6\nRelated-Bug: #1931133\n(cherry picked from commit d1b1f7c675e33f2d7b0f3a5583def776ecc7e87c)\n(cherry picked from commit 3bcfb9deefd16c77608ea4cbedc09dcd6d16a7a6)\n'}]",0,796149,79f06794fdc85af625248c55e97aea353531ee83,12,3,1,20172,,,0,"Add support for ovn clustered databases

This patch adds support for managing the ovn connection correctly when
ovn is handling clustering instead of pacemaker. By default if the
parameter is not enabled, the pacemaker managed way is assumed.

Conflicts:
  manifests/profile/base/neutron/agents/ovn.pp (Due to missing
  ""enable_ovn_match_northd => true,"" line) and other context
  manifests/profile/base/neutron/ovn_metadata.pp
  manifests/profile/base/neutron/plugins/ml2/ovn.pp

Change-Id: I97442478d77d222fdd428eebd270c08df08237f6
Related-Bug: #1931133
(cherry picked from commit d1b1f7c675e33f2d7b0f3a5583def776ecc7e87c)
(cherry picked from commit 3bcfb9deefd16c77608ea4cbedc09dcd6d16a7a6)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/49/796149/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp']",3,79f06794fdc85af625248c55e97aea353531ee83,ovncluster-train,"# [*ovn_db_node_ips*] # (Optional) The OVN DBs node ip addresses are listening. # Defaults to hiera('ovn_dbs_node_ips') # # [*ovn_db_clustered*] # (Optional) Boolean indicating if we're running with ovn db clustering # or pacemaker. Defaults to false for backwards compatibility # Defaults to hiera('ovn_db_clustered', false) # $ovn_db_host = hiera('ovn_dbs_vip', undef), $ovn_db_node_ips = hiera('ovn_dbs_node_ips', undef), $ovn_db_clustered = hiera('ovn_db_clustered', false), if $ovn_db_clustered { $db_hosts = any2array($ovn_db_node_ips) } else { $db_hosts = any2array($ovn_db_host) } $sb_conn = $db_hosts.map |$h| { join([$protocol, normalize_ip_for_uri($h), ""${ovn_sbdb_port}""], ':') } class { '::ovn::controller': ovn_remote => join(any2array($sb_conn), ','),"," $ovn_db_host = hiera('ovn_dbs_vip'), class { '::ovn::controller': ovn_remote => join([$protocol, normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':'),",59,6
openstack%2Fdesignate~master~I4f97559cbbd5bc360850571b94f58aa296467ae8,openstack/designate,master,I4f97559cbbd5bc360850571b94f58aa296467ae8,Re-enable the tempest scenario jobs,MERGED,2021-06-14 21:46:05.000000000,2021-06-16 05:22:52.000000000,2021-06-16 05:20:56.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-06-14 21:46:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/057dd2b3c6689be84dac58d6e5a19726d54735a0', 'message': 'Re-enable the tempest scenario jobs\n\nThis patch re-enables the tempest scenario jobs after the gate fix\npatch has merged.\n\nChange-Id: I4f97559cbbd5bc360850571b94f58aa296467ae8\n'}]",0,796321,057dd2b3c6689be84dac58d6e5a19726d54735a0,16,4,1,11628,,,0,"Re-enable the tempest scenario jobs

This patch re-enables the tempest scenario jobs after the gate fix
patch has merged.

Change-Id: I4f97559cbbd5bc360850571b94f58aa296467ae8
",git fetch https://review.opendev.org/openstack/designate refs/changes/21/796321/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,057dd2b3c6689be84dac58d6e5a19726d54735a0,, - designate-devstack-jobs,# - designate-devstack-jobs,1,1
openstack%2Fneutron~master~Ic1c36fb71a9d03e8697583a1ea9453d4c0052f74,openstack/neutron,master,Ic1c36fb71a9d03e8697583a1ea9453d4c0052f74,Add support for OVN allow-stateless ACLs,MERGED,2021-05-06 02:03:30.000000000,2021-06-16 05:19:43.000000000,2021-06-16 05:17:08.000000000,"[{'_account_id': 5756}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 02:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1f12d5b37fa5f0e7cb6ac69eec3eb95cb72d6254', 'message': 'DNM Add support for OVN allow-stateless ACLs\n\nMap OpenStack SG stateful=False to OVN ACL allow-stateless action verb.\nThe verb is added in the latest OVN release.\n\nChange-Id: Ic1c36fb71a9d03e8697583a1ea9453d4c0052f74\n'}, {'number': 2, 'created': '2021-06-02 22:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bf94b32ca4750d984665d640976c9fb78c3c351b', 'message': ""Add support for OVN allow-stateless ACLs\n\nMap OpenStack SG stateful=False to OVN ACL allow-stateless action verb.\nThe verb is added in the latest OVN release, 21.06. Inspect db schema to\ndetermine if the new action is supported by OVN before trying to create\nit. Fall back to allow-related when it's not supported yet.\n\nAlso-Needs: I7343fb609fab91c20490842378747f7265241e82\n\nThis will require ovsdbapp version bump with the patch mentioned above\nto make it work.\n\nChange-Id: Ic1c36fb71a9d03e8697583a1ea9453d4c0052f74\n""}, {'number': 3, 'created': '2021-06-02 22:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f4666c64355ecd1caae19df73c5917d7917d4e4', 'message': ""Add support for OVN allow-stateless ACLs\n\nMap OpenStack SG stateful=False to OVN ACL allow-stateless action verb.\nThe verb is added in the latest OVN release, 21.06. Inspect db schema to\ndetermine if the new action is supported by OVN before trying to create\nit. Fall back to allow-related when it's not supported yet.\n\nAlso-Needs: I7343fb609fab91c20490842378747f7265241e82\n\nThis will require ovsdbapp version bump with the patch mentioned above\nto make it work.\n\nChange-Id: Ic1c36fb71a9d03e8697583a1ea9453d4c0052f74\n""}, {'number': 4, 'created': '2021-06-03 11:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3551e72d2da678e12a89fea0e535b99230c70761', 'message': ""Add support for OVN allow-stateless ACLs\n\nMap OpenStack SG stateful=False to OVN ACL allow-stateless action verb.\nThe verb is added in the latest OVN release, 21.06. Inspect db schema to\ndetermine if the new action is supported by OVN before trying to create\nit. Fall back to allow-related when it's not supported yet.\n\nAlso-Needs: I7343fb609fab91c20490842378747f7265241e82\n\nThis will require ovsdbapp version bump with the patch mentioned above\nto make it work.\n\nChange-Id: Ic1c36fb71a9d03e8697583a1ea9453d4c0052f74\n""}, {'number': 5, 'created': '2021-06-04 18:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1dcc2105c216afb7fc9f1f07bd87f80cb5a9258b', 'message': ""Add support for OVN allow-stateless ACLs\n\nMap OpenStack SG stateful=False to OVN ACL allow-stateless action verb.\nThe verb is added in the latest OVN release, 21.06. Inspect db schema to\ndetermine if the new action is supported by OVN before trying to create\nit. Fall back to allow-related when it's not supported yet.\n\nAlso-Needs: I7343fb609fab91c20490842378747f7265241e82\n\nThis will require ovsdbapp version bump with the patch mentioned above\nto make it work.\n\nChange-Id: Ic1c36fb71a9d03e8697583a1ea9453d4c0052f74\n""}, {'number': 6, 'created': '2021-06-14 21:05:51.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/services/logapi/drivers/ovn/driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/common/ovn/constants.py', 'releasenotes/notes/ovn-support-stateless-sg-849170c5d320487e.yaml', 'neutron/common/ovn/acl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a2e5daccb389619dbd2c7ed271fd1e4d84d71823', 'message': ""Add support for OVN allow-stateless ACLs\n\nMap OpenStack SG stateful=False to OVN ACL allow-stateless action verb.\nThe verb is added in the latest OVN release, 21.06. Inspect db schema to\ndetermine if the new action is supported by OVN before trying to create\nit. Fall back to allow-related when it's not supported yet.\n\nAlso-Needs: I7343fb609fab91c20490842378747f7265241e82\n\nThis will require ovsdbapp version bump with the patch mentioned above\nto make it work.\n\nChange-Id: Ic1c36fb71a9d03e8697583a1ea9453d4c0052f74\n""}]",3,789974,a2e5daccb389619dbd2c7ed271fd1e4d84d71823,49,6,6,9656,,,0,"Add support for OVN allow-stateless ACLs

Map OpenStack SG stateful=False to OVN ACL allow-stateless action verb.
The verb is added in the latest OVN release, 21.06. Inspect db schema to
determine if the new action is supported by OVN before trying to create
it. Fall back to allow-related when it's not supported yet.

Also-Needs: I7343fb609fab91c20490842378747f7265241e82

This will require ovsdbapp version bump with the patch mentioned above
to make it work.

Change-Id: Ic1c36fb71a9d03e8697583a1ea9453d4c0052f74
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/789974/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/services/logapi/drivers/ovn/driver.py', 'neutron/common/ovn/constants.py', 'neutron/common/ovn/acl.py']",4,1f12d5b37fa5f0e7cb6ac69eec3eb95cb72d6254,ovn-allow-stateless,"def add_sg_rule_acl_for_port_group(port_group, r, stateful, match): if stateful: action = ovn_const.ACL_ACTION_ALLOW_RELATED else: action = ovn_const.ACL_ACTION_ALLOW_STATELESS ""action"": action,def _add_sg_rule_acl_for_port_group(port_group, stateful, r): return add_sg_rule_acl_for_port_group(port_group, r, stateful, match) stateful = security_group.get(""stateful"", True) utils.ovn_port_group_name(security_group['id']), stateful, r) sg = plugin.get_security_group(admin_context, security_group_id) stateful = sg.get(""stateful"", True) stateful, security_group_rule)","def add_sg_rule_acl_for_port_group(port_group, r, match): ""action"": ovn_const.ACL_ACTION_ALLOW_RELATED,def _add_sg_rule_acl_for_port_group(port_group, r): return add_sg_rule_acl_for_port_group(port_group, r, match) utils.ovn_port_group_name(security_group['id']), r) security_group_rule)",34,9
openstack%2Frequirements~master~If376502856684609b237fb61cdc7bdc4522c38cc,openstack/requirements,master,If376502856684609b237fb61cdc7bdc4522c38cc,update constraint for oslo.cache to new release 2.8.1,MERGED,2021-06-15 10:21:13.000000000,2021-06-16 05:19:30.000000000,2021-06-16 05:17:43.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 10:21:13.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e925cbd66f5a3f43640c993f531f5070789a471d', 'message': 'update constraint for oslo.cache to new release 2.8.1\n\nmeta: version: 2.8.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I5ba11909a1bc08c7262042df172a13ff5b215199\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: If376502856684609b237fb61cdc7bdc4522c38cc\n'}]",0,796421,e925cbd66f5a3f43640c993f531f5070789a471d,23,2,1,11131,,,0,"update constraint for oslo.cache to new release 2.8.1

meta: version: 2.8.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: I5ba11909a1bc08c7262042df172a13ff5b215199
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: If376502856684609b237fb61cdc7bdc4522c38cc
",git fetch https://review.opendev.org/openstack/requirements refs/changes/21/796421/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e925cbd66f5a3f43640c993f531f5070789a471d,new-release,oslo.cache===2.8.1,oslo.cache===2.8.0,1,1
openstack%2Fansible-collections-openstack~master~Ia06c15dd28608e4f5c615e6f2e7086c0f6484e2e,openstack/ansible-collections-openstack,master,Ia06c15dd28608e4f5c615e6f2e7086c0f6484e2e,Disable temporarly designate on master,ABANDONED,2021-06-14 19:51:47.000000000,2021-06-16 05:18:06.000000000,,"[{'_account_id': 10969}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 19:51:47.000000000', 'files': ['.zuul.yaml', 'ci/run-collection.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c18ad4c56b09daaf6ee390393b196ae77604a9a1', 'message': ""Disable temporarly designate on master\n\nSeems like designate is broken and can't be installed on master,\nskip its installation and tests until it's fixed.\nChange-Id: Ia06c15dd28608e4f5c615e6f2e7086c0f6484e2e\n""}]",0,796315,c18ad4c56b09daaf6ee390393b196ae77604a9a1,5,3,1,10969,,,0,"Disable temporarly designate on master

Seems like designate is broken and can't be installed on master,
skip its installation and tests until it's fixed.
Change-Id: Ia06c15dd28608e4f5c615e6f2e7086c0f6484e2e
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/15/796315/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'ci/run-collection.yml']",2,c18ad4c56b09daaf6ee390393b196ae77604a9a1,," # - role: dns # tags: dns # when: sdk_version is version(0.28, '>=')"," - role: dns tags: dns when: sdk_version is version(0.28, '>=')",7,7
openstack%2Fproject-config~master~I9147f16a4e67b15ac7cc0bc4684ad8390718525f,openstack/project-config,master,I9147f16a4e67b15ac7cc0bc4684ad8390718525f,infra-package-needs: don't start ntp for Fedora,MERGED,2021-06-16 04:08:56.000000000,2021-06-16 05:01:33.000000000,2021-06-16 04:54:53.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 04:08:56.000000000', 'files': ['nodepool/elements/infra-package-needs/post-install.d/80-enable-infra-services'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c554a6b3b3fc29996f4fc3d5d5d223da26990bd5', 'message': ""infra-package-needs: don't start ntp for Fedora\n\nSee I361059c6b62ea240b6fef5a61d254959622199d7 where we modified Fedora\nto not install the deprecated ntp package.\n\nChange-Id: I9147f16a4e67b15ac7cc0bc4684ad8390718525f\n""}]",0,796584,c554a6b3b3fc29996f4fc3d5d5d223da26990bd5,7,2,1,7118,,,0,"infra-package-needs: don't start ntp for Fedora

See I361059c6b62ea240b6fef5a61d254959622199d7 where we modified Fedora
to not install the deprecated ntp package.

Change-Id: I9147f16a4e67b15ac7cc0bc4684ad8390718525f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/84/796584/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/infra-package-needs/post-install.d/80-enable-infra-services'],1,c554a6b3b3fc29996f4fc3d5d5d223da26990bd5,ntpdate," elif [[ ( $DISTRO_NAME == ""centos"" && $DIB_RELEASE > 7 ) || $DISTRO_NAME == ""fedora"" ]]; then"," elif [[ $DISTRO_NAME == ""centos"" && $DIB_RELEASE > 7 ]]; then",1,1
openstack%2Fpython-tripleoclient~master~I1175119ac6358d005d2aa277d49996029e5cf2b5,openstack/python-tripleoclient,master,I1175119ac6358d005d2aa277d49996029e5cf2b5,Remove iscsi deploy interface,ABANDONED,2021-06-07 21:21:18.000000000,2021-06-16 04:36:39.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 21:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ca31818a80e81b886dcf25e927c0ab8dc4a1475a', 'message': 'Remove iscsi deploy interface\n\nThis deploy interface has been deprecated in Ironic and is now removed\nin the Xena development branch.\n\nChange-Id: I1175119ac6358d005d2aa277d49996029e5cf2b5\n'}, {'number': 2, 'created': '2021-06-16 04:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/be1f49462b32ebd37c6f34f96456534fcd6229c1', 'message': 'Remove iscsi deploy interface\n\nThis deploy interface has been deprecated in Ironic and is now removed\nin the Xena development branch.\n\nChange-Id: I1175119ac6358d005d2aa277d49996029e5cf2b5\n'}]",0,795184,be1f49462b32ebd37c6f34f96456534fcd6229c1,5,2,2,4571,,,0,"Remove iscsi deploy interface

This deploy interface has been deprecated in Ironic and is now removed
in the Xena development branch.

Change-Id: I1175119ac6358d005d2aa277d49996029e5cf2b5
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/84/795184/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",2,ca31818a80e81b886dcf25e927c0ab8dc4a1475a,bug/1931161," 'IronicEnabledDeployInterfaces': ['direct', 'ansible'], 'IronicEnabledDeployInterfaces': ['direct', 'ansible'], 'IronicEnabledDeployInterfaces': ['direct', 'ansible',"," 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible',",4,4
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I96e7e4c570839cfba6011788464d8e93925b2f01,openstack/tripleo-heat-templates,stable/train,I96e7e4c570839cfba6011788464d8e93925b2f01,Run ExtraConfigPre and NodeExtraConfig after network configurations,MERGED,2021-04-19 15:41:36.000000000,2021-06-16 04:20:18.000000000,2021-06-16 04:18:52.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-19 15:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/784b372239d0f932d470b4f0f92541c61cbd08ad', 'message': 'Restore PreNetworkConfig resources\n\nThis change restores the PreNetworkConfig resources, so that we migrate\nback ExtraCnfigPre and NodeExtraConfig from pre network configurations\nto post network configurations, to be consistent with older version\ndepending on Heat software deployments instead of config download.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\nConflicts:\n\tpuppet/role.role.j2.yaml\n\nDepends-on: https://review.opendev.org/786901\nCloses-Bug: #1907214\nChange-Id: I96e7e4c570839cfba6011788464d8e93925b2f01\n(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)\n(cherry picked from commit 87fc83d7b1334dd2bd5852ae9edf44f87d29e79c)\n(cherry picked from commit 7a40b1c8db256c04da554e2e7a6fe8c4d5c7b4b2)\n'}, {'number': 2, 'created': '2021-04-27 06:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce036f935e0b85b1152e3d8bc0e77cd6e3edd95d', 'message': 'Restore PreNetworkConfig resources\n\nThis change restores the PreNetworkConfig resources, so that we migrate\nback ExtraCnfigPre and NodeExtraConfig from pre network configurations\nto post network configurations, to be consistent with older version\ndepending on Heat software deployments instead of config download.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\nConflicts:\n\tpuppet/role.role.j2.yaml\n\nDepends-on: https://review.opendev.org/786901\nCloses-Bug: #1907214\nChange-Id: I96e7e4c570839cfba6011788464d8e93925b2f01\n(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)\n(cherry picked from commit 87fc83d7b1334dd2bd5852ae9edf44f87d29e79c)\n(cherry picked from commit 38d8ad880ce0b39802722788bab22a69deb141d3)\n'}, {'number': 3, 'created': '2021-04-27 06:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed648e9327d1ebe5a6b50ee5546b9094c5ef9a79', 'message': 'Restore PreNetworkConfig resources\n\nThis change restores the PreNetworkConfig resources, so that we migrate\nback ExtraCnfigPre and NodeExtraConfig from pre network configurations\nto post network configurations, to be consistent with older version\ndepending on Heat software deployments instead of config download.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\nBackport note to train:\nPreNetworkConfig resource still exists in stable/train so the release\nnote is updated accordinly.\n\nConflicts:\n\tpuppet/role.role.j2.yaml\n\nDepends-on: https://review.opendev.org/786901\nCloses-Bug: #1907214\nChange-Id: I96e7e4c570839cfba6011788464d8e93925b2f01\n(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)\n(cherry picked from commit 87fc83d7b1334dd2bd5852ae9edf44f87d29e79c)\n(cherry picked from commit 38d8ad880ce0b39802722788bab22a69deb141d3)\n'}, {'number': 4, 'created': '2021-04-27 06:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9b70b39103feff2bf49df4cf558ad4920ff6bc96', 'message': 'Run ExtraCnfigPre and NodeExtraConfig after network configurations\n\nThis change makes ExtraCnfigPre and NodeExtraConfig executed after\nnetwork configurations, so that these resources are triggered at\nthe consistent timing with older version depending on Heat software\ndeployments instead of config download.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\nBackport note to train:\nPreNetworkConfig resource still exists in stable/train so commit\nmessage and release note are updated accordinly.\n\nConflicts:\n\tpuppet/role.role.j2.yaml\n\nDepends-on: https://review.opendev.org/786901\nCloses-Bug: #1907214\nChange-Id: I96e7e4c570839cfba6011788464d8e93925b2f01\n(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)\n(cherry picked from commit 87fc83d7b1334dd2bd5852ae9edf44f87d29e79c)\n(cherry picked from commit 38d8ad880ce0b39802722788bab22a69deb141d3)\n'}, {'number': 5, 'created': '2021-04-27 12:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f4b5f176c5cdd667441c5d1bffab9c954124e9cf', 'message': 'Run ExtraConfigPre and NodeExtraConfig after network configurations\n\nThis change makes ExtraCnfigPre and NodeExtraConfig executed after\nnetwork configurations, so that these resources are triggered at\nthe consistent timing with older version depending on Heat software\ndeployments instead of config download.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\nBackport note to train:\nPreNetworkConfig resource still exists in stable/train so commit\nmessage and release note are updated accordinly.\n\nConflicts:\n\tpuppet/role.role.j2.yaml\n\nDepends-on: https://review.opendev.org/786901\nCloses-Bug: #1907214\nChange-Id: I96e7e4c570839cfba6011788464d8e93925b2f01\n(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)\n(cherry picked from commit 87fc83d7b1334dd2bd5852ae9edf44f87d29e79c)\n(cherry picked from commit 38d8ad880ce0b39802722788bab22a69deb141d3)\n'}, {'number': 6, 'created': '2021-05-11 16:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a4d78760d0e8c969ed1f9288e4a446b1068c2953', 'message': 'Run ExtraConfigPre and NodeExtraConfig after network configurations\n\nThis change makes ExtraCnfigPre and NodeExtraConfig executed after\nnetwork configurations, so that these resources are triggered at\nthe consistent timing with older version depending on Heat software\ndeployments instead of config download.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\nBackport note to train:\nPreNetworkConfig resource still exists in stable/train so commit\nmessage and release note are updated accordinly.\n\nConflicts:\n\tpuppet/role.role.j2.yaml\n\nDepends-on: https://review.opendev.org/786901\nCloses-Bug: #1907214\nChange-Id: I96e7e4c570839cfba6011788464d8e93925b2f01\n(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)\n(cherry picked from commit 87fc83d7b1334dd2bd5852ae9edf44f87d29e79c)\n(cherry picked from commit 38d8ad880ce0b39802722788bab22a69deb141d3)\n'}, {'number': 7, 'created': '2021-05-12 13:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b4e9f56eb07993b8822405193d2f52cd47ed209d', 'message': 'Run ExtraConfigPre and NodeExtraConfig after network configurations\n\nThis change makes ExtraCnfigPre and NodeExtraConfig executed after\nnetwork configurations, so that these resources are triggered at\nthe consistent timing with older version depending on Heat software\ndeployments instead of config download.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\nBackport note to train:\nPreNetworkConfig resource still exists in stable/train so commit\nmessage and release note are updated accordinly.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\tpuppet/role.role.j2.yaml\n\nDepends-on: https://review.opendev.org/786901\nCloses-Bug: #1907214\nChange-Id: I96e7e4c570839cfba6011788464d8e93925b2f01\n(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)\n(cherry picked from commit 87fc83d7b1334dd2bd5852ae9edf44f87d29e79c)\n(cherry picked from commit f8279d1ead3d30b6650f1d881e2ae4ec013a3e54)\n'}, {'number': 8, 'created': '2021-05-12 13:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cdb1c3fd32cda52e24987c48aeee4c148b1f54cd', 'message': 'Run ExtraConfigPre and NodeExtraConfig after network configurations\n\nThis change makes ExtraCnfigPre and NodeExtraConfig executed after\nnetwork configurations, so that these resources are triggered at\nthe consistent timing with older version depending on Heat software\ndeployments instead of config download.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\nBackport note to train:\nPreNetworkConfig resource still exists in stable/train so commit\nmessage and release note are updated accordinly.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\tpuppet/role.role.j2.yaml\n\nDepends-on: https://review.opendev.org/786901\nCloses-Bug: #1907214\nChange-Id: I96e7e4c570839cfba6011788464d8e93925b2f01\n(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)\n(cherry picked from commit 87fc83d7b1334dd2bd5852ae9edf44f87d29e79c)\n(cherry picked from commit f8279d1ead3d30b6650f1d881e2ae4ec013a3e54)\n'}, {'number': 9, 'created': '2021-05-12 23:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d7da7a16bedb7e9730c6936ae0261375a6db929', 'message': 'Run ExtraConfigPre and NodeExtraConfig after network configurations\n\nThis change makes ExtraCnfigPre and NodeExtraConfig executed after\nnetwork configurations, so that these resources are triggered at\nthe consistent timing with older version depending on Heat software\ndeployments instead of config download.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\nBackport note to train:\nPreNetworkConfig resource still exists in stable/train so commit\nmessage and release note are updated accordinly.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\tpuppet/role.role.j2.yaml\n\nDepends-on: https://review.opendev.org/786901\nCloses-Bug: #1907214\nChange-Id: I96e7e4c570839cfba6011788464d8e93925b2f01\n(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)\n(cherry picked from commit 87fc83d7b1334dd2bd5852ae9edf44f87d29e79c)\n(cherry picked from commit 1703b1ce68227c4576f6db0a11ee40cda65e5ba6)\n'}, {'number': 10, 'created': '2021-05-15 02:46:10.000000000', 'files': ['common/deploy-steps.j2', 'puppet/role.role.j2.yaml', 'releasenotes/notes/bug-1907214-df2f07cbacbe8a24.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83e99c65a28b15557c42a194dfdaaec5c2edf8d4', 'message': 'Run ExtraConfigPre and NodeExtraConfig after network configurations\n\nThis change makes ExtraCnfigPre and NodeExtraConfig executed after\nnetwork configurations, so that these resources are triggered at\nthe consistent timing with older version depending on Heat software\ndeployments instead of config download.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\nBackport note to train:\nPreNetworkConfig resource still exists in stable/train so commit\nmessage and release note are updated accordinly.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\tpuppet/role.role.j2.yaml\n\nDepends-on: https://review.opendev.org/786901\nCloses-Bug: #1907214\nChange-Id: I96e7e4c570839cfba6011788464d8e93925b2f01\n(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)\n(cherry picked from commit 87fc83d7b1334dd2bd5852ae9edf44f87d29e79c)\n(cherry picked from commit ef575f87f51686a9c65a1a33d4933191c052a5e0)\n'}]",0,786892,83e99c65a28b15557c42a194dfdaaec5c2edf8d4,36,5,10,9816,,,0,"Run ExtraConfigPre and NodeExtraConfig after network configurations

This change makes ExtraCnfigPre and NodeExtraConfig executed after
network configurations, so that these resources are triggered at
the consistent timing with older version depending on Heat software
deployments instead of config download.

Conflicts:
	common/deploy-steps.j2

Backport note to train:
PreNetworkConfig resource still exists in stable/train so commit
message and release note are updated accordinly.

Conflicts:
	common/deploy-steps.j2
	puppet/role.role.j2.yaml

Depends-on: https://review.opendev.org/786901
Closes-Bug: #1907214
Change-Id: I96e7e4c570839cfba6011788464d8e93925b2f01
(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)
(cherry picked from commit 87fc83d7b1334dd2bd5852ae9edf44f87d29e79c)
(cherry picked from commit ef575f87f51686a9c65a1a33d4933191c052a5e0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/786892/10 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps.j2', 'releasenotes/notes/bug-1907214-df2f07cbacbe8a24.yaml']",2,784b372239d0f932d470b4f0f92541c61cbd08ad,bug/1907214,--- features: - | The ``OS::TripleO::{{role.name}}::PreNetworkConfig`` resource has been restored. This resource can be used to implement any configuration steps executed before network configurations are applied. fixes: - | Now ``ExtraConfigPre`` resource and ``NodeExtraConfig`` resource are executed after network configurations are applied in nodes. This is consitent with the previous version with heat software deployment mechanism instead of config-download. ,,46,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ifa75e8436f60697280f440a24926ed86ef3806c0,openstack/tripleo-heat-templates,stable/wallaby,Ifa75e8436f60697280f440a24926ed86ef3806c0,Add alertmanager port parameter,MERGED,2021-06-11 06:26:16.000000000,2021-06-16 03:37:24.000000000,2021-06-16 03:37:24.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-11 06:26:16.000000000', 'files': ['deployment/cephadm/ceph-grafana.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00884af2156a00873053fa1b277186bf0eb96a0f', 'message': 'Add alertmanager port parameter\n\nDuring the monitoring stack configuration, cephadm is able to accept\ngrafana/prometheus/alertmanager ports as parameters.\nFor this reason (and to make sure we control ports from TripleO), the\nmissing alertmanager port is explicitly defined, and it will be\nprocessed by [1].\n\n[1] https://github.com/openstack/tripleo-ansible/blob/master/tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml#L81\n\nChange-Id: Ifa75e8436f60697280f440a24926ed86ef3806c0\n(cherry picked from commit 0f524641031bc8677f8f93fd6dbc2b9e81f4f721)\n'}]",0,795875,00884af2156a00873053fa1b277186bf0eb96a0f,27,6,1,25402,,,0,"Add alertmanager port parameter

During the monitoring stack configuration, cephadm is able to accept
grafana/prometheus/alertmanager ports as parameters.
For this reason (and to make sure we control ports from TripleO), the
missing alertmanager port is explicitly defined, and it will be
processed by [1].

[1] https://github.com/openstack/tripleo-ansible/blob/master/tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml#L81

Change-Id: Ifa75e8436f60697280f440a24926ed86ef3806c0
(cherry picked from commit 0f524641031bc8677f8f93fd6dbc2b9e81f4f721)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/795875/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-grafana.yaml'],1,00884af2156a00873053fa1b277186bf0eb96a0f,cephadm_monitoring, tripleo_cephadm_alertmanager_port: 9093,,1,0
openstack%2Frequirements~master~Iba80669226464500778b9d2048252bde0a55145a,openstack/requirements,master,Iba80669226464500778b9d2048252bde0a55145a,update constraint for oslo.db to new release 9.1.0,MERGED,2021-06-15 10:06:09.000000000,2021-06-16 03:30:38.000000000,2021-06-16 03:29:24.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-15 10:06:09.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/31aef2de5e48804dbfe79e018189092b914e519e', 'message': 'update constraint for oslo.db to new release 9.1.0\n\nmeta: version: 9.1.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I5ba11909a1bc08c7262042df172a13ff5b215199\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Iba80669226464500778b9d2048252bde0a55145a\n'}]",0,796416,31aef2de5e48804dbfe79e018189092b914e519e,20,3,1,11131,,,0,"update constraint for oslo.db to new release 9.1.0

meta: version: 9.1.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: I5ba11909a1bc08c7262042df172a13ff5b215199
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Iba80669226464500778b9d2048252bde0a55145a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/16/796416/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,31aef2de5e48804dbfe79e018189092b914e519e,new-release,oslo.db===9.1.0,oslo.db===9.0.0,1,1
openstack%2Fpuppet-nova~stable%2Frocky~I3ad01204ace6f18dabcaeb71614d2c1ff44cee8b,openstack/puppet-nova,stable/rocky,I3ad01204ace6f18dabcaeb71614d2c1ff44cee8b,Rocky only: Remove TripleO Job,MERGED,2021-05-27 06:01:11.000000000,2021-06-16 03:16:56.000000000,2021-06-16 03:16:56.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 06:01:11.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0a95f9a4461f7a147244e331216ca4661e95af18', 'message': 'Rocky only: Remove TripleO Job\n\n... because TripleO has EOLed its Rocky.\n\nChange-Id: I3ad01204ace6f18dabcaeb71614d2c1ff44cee8b\n'}]",0,793270,0a95f9a4461f7a147244e331216ca4661e95af18,8,3,1,9816,,,0,"Rocky only: Remove TripleO Job

... because TripleO has EOLed its Rocky.

Change-Id: I3ad01204ace6f18dabcaeb71614d2c1ff44cee8b
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/70/793270/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0a95f9a4461f7a147244e331216ca4661e95af18,rocky-tripleo,, - tripleo-puppet-undercloud,0,1
openstack%2Fdesignate-tempest-plugin~master~Ifcf59e49b00e9b468b59f53de53c417a0e84adc4,openstack/designate-tempest-plugin,master,Ifcf59e49b00e9b468b59f53de53c417a0e84adc4,Fix docs reqs for new pip,MERGED,2021-01-04 17:24:56.000000000,2021-06-16 03:13:26.000000000,2021-06-16 03:11:43.000000000,"[{'_account_id': 6994}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-04 17:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/c59314996fa5c428803f60d635b86ae44f6194f5', 'message': 'Add doc/requirements.txt\n\nChange-Id: Ifcf59e49b00e9b468b59f53de53c417a0e84adc4\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 2, 'created': '2021-01-04 17:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/c3b4fef79f2125515c7a1552edbd52c421597eea', 'message': 'Fix docs reqs for new pip\n\nPer [1], the docs requirements were failing (or at least could) due to\ntest-requirements being used instead of doc/requirements. The former\nmay include dep versions not compatible with the upper-constraints and\nhence cause issues for the new pip resolver. This patch fixes that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n\nChange-Id: Ifcf59e49b00e9b468b59f53de53c417a0e84adc4\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 3, 'created': '2021-01-04 20:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/e3cb0f5aa8af83466478537f127bc0cb478bc69b', 'message': 'Fix docs reqs for new pip\n\nPer [1], the docs requirements were failing (or at least could) due to\ntest-requirements being used instead of doc/requirements. The former\nmay include dep versions not compatible with the upper-constraints and\nhence cause issues for the new pip resolver. This patch fixes that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n\nChange-Id: Ifcf59e49b00e9b468b59f53de53c417a0e84adc4\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 4, 'created': '2021-05-03 22:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/9e2c598bd96f3f47e1139ddcf530443814951cfd', 'message': 'Fix docs reqs for new pip\n\nPer [1], the docs requirements were failing (or at least could) due to\ntest-requirements being used instead of doc/requirements. The former\nmay include dep versions not compatible with the upper-constraints and\nhence cause issues for the new pip resolver. This patch fixes that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n\nChange-Id: Ifcf59e49b00e9b468b59f53de53c417a0e84adc4\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 5, 'created': '2021-05-11 22:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/9cf713dbb7e7d579bfc37d001c9cfcdca4477f56', 'message': 'Fix docs reqs for new pip\n\nPer [1], the docs requirements were failing (or at least could) due to\ntest-requirements being used instead of doc/requirements. The former\nmay include dep versions not compatible with the upper-constraints and\nhence cause issues for the new pip resolver. This patch fixes that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n\nChange-Id: Ifcf59e49b00e9b468b59f53de53c417a0e84adc4\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 6, 'created': '2021-05-11 22:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/67b0c28586244f4a76dbacf9db7c4010e46f2c90', 'message': 'Fix docs reqs for new pip\n\nPer [1], the docs requirements were failing (or at least could) due to\ntest-requirements being used instead of doc/requirements. The former\nmay include dep versions not compatible with the upper-constraints and\nhence cause issues for the new pip resolver. This patch fixes that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n\nChange-Id: Ifcf59e49b00e9b468b59f53de53c417a0e84adc4\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 7, 'created': '2021-06-16 01:08:41.000000000', 'files': ['test-requirements.txt', '.zuul.yaml', 'releasenotes/source/_static/.placeholder', 'releasenotes/source/_templates/.placeholder', 'releasenotes/source/index.rst', 'doc/requirements.txt', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/add731103c66226a604d72bc4067b3550c6e9779', 'message': 'Fix docs reqs for new pip\n\nPer [1], the docs requirements were failing (or at least could) due to\ntest-requirements being used instead of doc/requirements. The former\nmay include dep versions not compatible with the upper-constraints and\nhence cause issues for the new pip resolver. This patch fixes that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n\nChange-Id: Ifcf59e49b00e9b468b59f53de53c417a0e84adc4\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}]",2,769170,add731103c66226a604d72bc4067b3550c6e9779,34,5,7,19298,,,0,"Fix docs reqs for new pip

Per [1], the docs requirements were failing (or at least could) due to
test-requirements being used instead of doc/requirements. The former
may include dep versions not compatible with the upper-constraints and
hence cause issues for the new pip resolver. This patch fixes that.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html

Change-Id: Ifcf59e49b00e9b468b59f53de53c417a0e84adc4
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/70/769170/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,c59314996fa5c428803f60d635b86ae44f6194f5,fix-relmgt-pip-doc,"# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later. dnspython>=1.16.0 # http://www.dnspython.org/LICENSE ddt>=1.0.1 # MIT testtools>=2.2.0 # MIT tempest>=17.1.0 # Apache-2.0 ",,8,0
openstack%2Fcharm-trilio-data-mover~master~Ic40a1722d0225024c2d78c62cf03c07b8a6ab8d5,openstack/charm-trilio-data-mover,master,Ic40a1722d0225024c2d78c62cf03c07b8a6ab8d5,Add new option for 4.1 hotfix,MERGED,2021-06-04 14:58:21.000000000,2021-06-16 02:45:14.000000000,2021-06-16 02:23:41.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 14:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/2ec3cca5302573cad88fa67d3eb960a87d705e15', 'message': 'Add new option for 4.1 hotfix\n\nAdd new option, cinder-http-retries, for 4.1 hotfixa\n\nChange-Id: Ic40a1722d0225024c2d78c62cf03c07b8a6ab8d5\n'}, {'number': 2, 'created': '2021-06-14 13:25:07.000000000', 'files': ['src/config.yaml', 'src/templates/tvault-contego.conf'], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/d9cdd971f949f88e6637050ecc3a444f28c4686c', 'message': 'Add new option for 4.1 hotfix\n\nAdd new option, cinder-http-retries, for 4.1 hotfixa\n\nChange-Id: Ic40a1722d0225024c2d78c62cf03c07b8a6ab8d5\n'}]",0,794844,d9cdd971f949f88e6637050ecc3a444f28c4686c,16,3,2,12549,,,0,"Add new option for 4.1 hotfix

Add new option, cinder-http-retries, for 4.1 hotfixa

Change-Id: Ic40a1722d0225024c2d78c62cf03c07b8a6ab8d5
",git fetch https://review.opendev.org/openstack/charm-trilio-data-mover refs/changes/44/794844/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/templates/tvault-contego.conf']",2,2ec3cca5302573cad88fa67d3eb960a87d705e15,change-794844-1, [cinder] http_retries = {{ option.cinder_http_retries }},,10,0
openstack%2Ffreezer-api~master~I16738f205ae235d9d8af2e54395d7decefded7d0,openstack/freezer-api,master,I16738f205ae235d9d8af2e54395d7decefded7d0,[ussuri][goal] Update contributor documentation,MERGED,2021-05-13 23:56:05.000000000,2021-06-16 02:44:32.000000000,2021-06-16 02:43:20.000000000,"[{'_account_id': 8556}, {'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 23:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/109901b33208482de3d43b284f77817ff30859c2', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38522\nChange-Id: I16738f205ae235d9d8af2e54395d7decefded7d0\n'}, {'number': 2, 'created': '2021-05-31 20:30:52.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/5ef2e7b8a53a1594a5537173ba204846ee6d7873', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38522\nChange-Id: I16738f205ae235d9d8af2e54395d7decefded7d0\n'}]",0,791331,5ef2e7b8a53a1594a5537173ba204846ee6d7873,11,3,2,8556,,,0,"[ussuri][goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38522
Change-Id: I16738f205ae235d9d8af2e54395d7decefded7d0
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/31/791331/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst']",3,109901b33208482de3d43b284f77817ff30859c2,project-ptl-and-contrib-docs,For Contributors ================ * If you are a new contributor to freezer-api please refer: :doc:`contributor/contributing` .. toctree:: :hidden: contributor/contributing ,,76,0
openstack%2Ffreezer-dr~master~I805e76e063f5ed324daa944a76bca107dc42192f,openstack/freezer-dr,master,I805e76e063f5ed324daa944a76bca107dc42192f,[ussuri][goal] Update contributor documentation,MERGED,2021-05-13 23:56:06.000000000,2021-06-16 02:38:30.000000000,2021-06-16 02:37:12.000000000,"[{'_account_id': 8556}, {'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 23:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/778702f00a0c97745d144e0a6097bd16f2db29a4', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38522\nChange-Id: I805e76e063f5ed324daa944a76bca107dc42192f\n'}, {'number': 2, 'created': '2021-05-31 20:30:24.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/9e969c8600851f434b143f8eb65281b01fba4d7f', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38522\nChange-Id: I805e76e063f5ed324daa944a76bca107dc42192f\n'}]",0,791333,9e969c8600851f434b143f8eb65281b01fba4d7f,11,3,2,8556,,,0,"[ussuri][goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38522
Change-Id: I805e76e063f5ed324daa944a76bca107dc42192f
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/33/791333/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst']",3,778702f00a0c97745d144e0a6097bd16f2db29a4,project-ptl-and-contrib-docs,For Contributors ================ * If you are a new contributor to freezer-dr please refer: :doc:`contributor/contributing` .. toctree:: :hidden: contributor/contributing,,75,0
openstack%2Ffreezer-tempest-plugin~master~I0e2d1de8e96bbfe5964983d021eacc9e62265f86,openstack/freezer-tempest-plugin,master,I0e2d1de8e96bbfe5964983d021eacc9e62265f86,[ussuri][goal] Update contributor documentation,MERGED,2021-05-13 23:56:06.000000000,2021-06-16 02:36:59.000000000,2021-06-16 02:36:59.000000000,"[{'_account_id': 8556}, {'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 23:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/80c7648049f63a40c30bdcf80a2a9922d23b14c3', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38522\nChange-Id: I0e2d1de8e96bbfe5964983d021eacc9e62265f86\n'}, {'number': 2, 'created': '2021-05-31 20:30:09.000000000', 'files': ['doc/source/contributor/contributing.rst', 'doc/source/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/b11daba48d91bea65dd726744092eed7bf6c3493', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38522\nChange-Id: I0e2d1de8e96bbfe5964983d021eacc9e62265f86\n'}]",0,791332,b11daba48d91bea65dd726744092eed7bf6c3493,10,3,2,8556,,,0,"[ussuri][goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38522
Change-Id: I0e2d1de8e96bbfe5964983d021eacc9e62265f86
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/32/791332/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/contributing.rst', 'doc/source/index.rst']",4,80c7648049f63a40c30bdcf80a2a9922d23b14c3,project-ptl-and-contrib-docs, For Contributors ================ * If you are a new contributor to freezer-tempest-plugin please refer: :doc:`contributor/contributing` .. toctree:: :hidden: contributor/contributing, contributing,70,16
openstack%2Ffreezer-web-ui~master~Id2d951e5a080565796f765f70c678c78bb3958da,openstack/freezer-web-ui,master,Id2d951e5a080565796f765f70c678c78bb3958da,[ussuri][goal] Update contributor documentation,MERGED,2021-05-14 00:04:48.000000000,2021-06-16 02:36:24.000000000,2021-06-16 02:36:24.000000000,"[{'_account_id': 8556}, {'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-05-14 00:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/90c4d9dacfdbebed6c8942adb98aeaa10d967752', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38522\nChange-Id: Id2d951e5a080565796f765f70c678c78bb3958da\n'}, {'number': 2, 'created': '2021-05-25 13:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/b927726cc1b8bd9fe49bc62d89dcf09156d51a7c', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38522\nChange-Id: Id2d951e5a080565796f765f70c678c78bb3958da\n'}, {'number': 3, 'created': '2021-05-31 20:37:47.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/abf50fe06c305ed26af98d0ddac82d1523acb83b', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38522\nChange-Id: Id2d951e5a080565796f765f70c678c78bb3958da\n'}]",3,791335,abf50fe06c305ed26af98d0ddac82d1523acb83b,16,4,3,8556,,,0,"[ussuri][goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38522
Change-Id: Id2d951e5a080565796f765f70c678c78bb3958da
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/35/791335/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst']",3,90c4d9dacfdbebed6c8942adb98aeaa10d967752,project-ptl-and-contrib-docs,For Contributors ================ * If you are a new contributor to freezer-web-ui please refer: :doc:`contributor/contributing` .. toctree:: :hidden: contributor/contributing,,74,0
openstack%2Ffreezer-specs~master~Ie8df6cda83efa5a31db83c18c6a43f813964df86,openstack/freezer-specs,master,Ie8df6cda83efa5a31db83c18c6a43f813964df86,[ussuri][goal] Update contributor documentation,MERGED,2021-05-14 00:04:09.000000000,2021-06-16 02:35:50.000000000,2021-06-16 02:34:37.000000000,"[{'_account_id': 8556}, {'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 00:04:09.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/freezer-specs/commit/c38792b349067291ebb55f7397d7089ceedc051d', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38522\nChange-Id: Ie8df6cda83efa5a31db83c18c6a43f813964df86\n'}]",0,791334,c38792b349067291ebb55f7397d7089ceedc051d,10,3,1,8556,,,0,"[ussuri][goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38522
Change-Id: Ie8df6cda83efa5a31db83c18c6a43f813964df86
",git fetch https://review.opendev.org/openstack/freezer-specs refs/changes/34/791334/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,c38792b349067291ebb55f7397d7089ceedc051d,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/freezer-specs Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html This repository is for doing design review on feature proposal in Nova. Please refer to `this document <https://opendev.org/openstack/freezer-specs/src/branch/master/README.rst>`_ for more information. ",,14,0
openstack%2Fpython-freezerclient~master~I20b2d85bee7d32b6ad4970d7ccd47af6cdc3b930,openstack/python-freezerclient,master,I20b2d85bee7d32b6ad4970d7ccd47af6cdc3b930,[ussuri][goal] Update contributor documentation,MERGED,2021-05-13 23:56:05.000000000,2021-06-16 02:35:34.000000000,2021-06-16 02:34:14.000000000,"[{'_account_id': 8556}, {'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 23:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/9ebe9c4b28c35d3d24d7efa2885da512d6d36a06', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38522\nChange-Id: I20b2d85bee7d32b6ad4970d7ccd47af6cdc3b930\n'}, {'number': 2, 'created': '2021-05-31 20:30:41.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/f10f3aea74dbc8b06d9185165f7f0729c6616dfe', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38522\nChange-Id: I20b2d85bee7d32b6ad4970d7ccd47af6cdc3b930\n'}]",0,791330,f10f3aea74dbc8b06d9185165f7f0729c6616dfe,12,3,2,8556,,,0,"[ussuri][goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38522
Change-Id: I20b2d85bee7d32b6ad4970d7ccd47af6cdc3b930
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/30/791330/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst']",4,9ebe9c4b28c35d3d24d7efa2885da512d6d36a06,project-ptl-and-contrib-docs,,=================== Contributor Guide =================== Code is hosted at `git.openstack.org`__. Submit bugs to the python-freezerclient project on `Launchpad`__. Submit code to the `openstack/python-freezerclient` project using `Gerrit`__. __ https://opendev.org/openstack/python-freezerclient __ https://storyboard.openstack.org/#!/project/openstack/freezer-api __ https://docs.openstack.org/infra/manual/developers.html#development-workflow .. toctree:: :maxdepth: 2 testing ,69,28
openstack%2Ftempest~master~Ia3a4d33eb0fa21a9c2e52c92d28b4bc028854988,openstack/tempest,master,Ia3a4d33eb0fa21a9c2e52c92d28b4bc028854988,Add check connectivity of ipv4 gateway in test_network_v6,ABANDONED,2018-11-13 09:15:05.000000000,2021-06-16 02:22:21.000000000,,"[{'_account_id': 6167}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 21897}, {'_account_id': 22348}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-11-13 09:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bc71cfdc6f29731a0bca1844b565de80579d3e45', 'message': 'Add check connectivity of ipv4 gateway in test_network_v6\n\nChange-Id: Ia3a4d33eb0fa21a9c2e52c92d28b4bc028854988\n'}, {'number': 2, 'created': '2018-11-14 05:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/53da3596e898be9b00c534ad6083d9af6236dbfe', 'message': 'Add check connectivity of ipv4 gateway in test_network_v6\n\nChange-Id: Ia3a4d33eb0fa21a9c2e52c92d28b4bc028854988\n'}, {'number': 3, 'created': '2018-11-26 03:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/574091518c570f9cd17f23255066daab92b8a404', 'message': 'Add check connectivity of ipv4 gateway in test_network_v6\n\nIf not check connectivity of ipv4 gateway, we can\'t assret that\n""self.routers_client.add_router_interface(router[\'id\'],subnet_id=sub4[\'id\'])""\nis really successfully.\n\nChange-Id: Ia3a4d33eb0fa21a9c2e52c92d28b4bc028854988\n'}, {'number': 4, 'created': '2018-11-26 03:38:04.000000000', 'files': ['tempest/scenario/test_network_v6.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/48ebee54e4eac3fd9e967d95c28a2af26bbc14a3', 'message': 'Add check connectivity of ipv4 gateway in test_network_v6\n\nIf not check connectivity of ipv4 gateway, we can\'t assret that\n""self.routers_client.add_router_interface(router[\'id\'],\nsubnet_id=sub4[\'id\'])"" is really successfully.\n\nChange-Id: Ia3a4d33eb0fa21a9c2e52c92d28b4bc028854988\n'}]",4,617532,48ebee54e4eac3fd9e967d95c28a2af26bbc14a3,40,8,4,21897,,,0,"Add check connectivity of ipv4 gateway in test_network_v6

If not check connectivity of ipv4 gateway, we can't assret that
""self.routers_client.add_router_interface(router['id'],
subnet_id=sub4['id'])"" is really successfully.

Change-Id: Ia3a4d33eb0fa21a9c2e52c92d28b4bc028854988
",git fetch https://review.opendev.org/openstack/tempest refs/changes/32/617532/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_network_v6.py'],1,bc71cfdc6f29731a0bca1844b565de80579d3e45,," self.check_remote_connectivity(sshv4_1, self.sub4['gateway_ip']) self.check_remote_connectivity(sshv4_2, self.sub4['gateway_ip'])",,2,0
openstack%2Ftempest~master~I7640eefc9bc6587aea0448d64355df80acf08b1b,openstack/tempest,master,I7640eefc9bc6587aea0448d64355df80acf08b1b,Compare eui_ip with real_ip in test_dhcp_ipv6.py,ABANDONED,2018-11-16 07:16:14.000000000,2021-06-16 02:19:07.000000000,,"[{'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 21897}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-16 07:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4ca41b0b37018cd106314b496b999c4df75ef6a3', 'message': 'Add some judgement conditions in test_dhcp_ipv6.py\n\n1.Compare eui_ip with real_ip in test_dhcp_stateful\n\n2.Add a compare about subnet in test_dhcpv6_stateless_no_ra_no_dhcp\n\nChange-Id: I7640eefc9bc6587aea0448d64355df80acf08b1b\n'}, {'number': 2, 'created': '2018-11-16 08:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7ee47492d6493d7c578459c3c84a4af62c614893', 'message': 'Add some judgement conditions in test_dhcp_ipv6.py\n\n1.Compare eui_ip with real_ip in test_dhcp_stateful\n\n2.Add a compare about subnet in test_dhcpv6_stateless_no_ra_no_dhcp\n\n3.Compare eui_ip with real_ip in test_dhcpv6_two_subnets\n\nChange-Id: I7640eefc9bc6587aea0448d64355df80acf08b1b\n'}, {'number': 3, 'created': '2018-12-07 03:40:44.000000000', 'files': ['tempest/api/network/test_dhcp_ipv6.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a184593b4df47b8f66c61ead98d9660c9afc6d1b', 'message': ""Compare eui_ip with real_ip in test_dhcp_ipv6.py\n\n1.Compare eui_ip with real_ip in test_dhcp_stateful\nassertIn(netaddr.IPAddress(port_ip), netaddr.IPNetwork(subnet['cidr'])\nis not enough, because if real_ip = eui_ip, the real_ip is still in the subnet.\n\n2.Add a compare about subnet in test_dhcpv6_stateless_no_ra_no_dhcp\nself.assertNotEqual(eui_ip, real_ip) is not enough, because if real_ip\nhave different subnet with eui_ip\n\n3.Compare eui_ip with real_ip in test_dhcpv6_two_subnets\nthe same with opinion1\n\nChange-Id: I7640eefc9bc6587aea0448d64355df80acf08b1b\n""}]",0,618476,a184593b4df47b8f66c61ead98d9660c9afc6d1b,19,5,3,21897,,,0,"Compare eui_ip with real_ip in test_dhcp_ipv6.py

1.Compare eui_ip with real_ip in test_dhcp_stateful
assertIn(netaddr.IPAddress(port_ip), netaddr.IPNetwork(subnet['cidr'])
is not enough, because if real_ip = eui_ip, the real_ip is still in the subnet.

2.Add a compare about subnet in test_dhcpv6_stateless_no_ra_no_dhcp
self.assertNotEqual(eui_ip, real_ip) is not enough, because if real_ip
have different subnet with eui_ip

3.Compare eui_ip with real_ip in test_dhcpv6_two_subnets
the same with opinion1

Change-Id: I7640eefc9bc6587aea0448d64355df80acf08b1b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/76/618476/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/test_dhcp_ipv6.py'],1,4ca41b0b37018cd106314b496b999c4df75ef6a3,test_dhcp_ipv6," return real_ip, eui_ip, subnet real_ip, eui_ip, _ = self._get_ips_from_subnet(**kwargs) real_ip, eui_ip, _ = self._get_ips_from_subnet(**kwargs) real_ip, eui_ip, subnet = self._get_ips_from_subnet() msg = ('Real IP address is {0} and it is NOT on ' 'subnet {1}'.format(real_ip, subnet['cidr'])) self.assertIn(netaddr.IPAddress(real_ip), netaddr.IPNetwork(subnet['cidr']), msg) port_ip, eui_ip, subnet = self._get_ips_from_subnet(**kwargs) self.assertNotEqual(eui_ip, port_ip, ('Real IP %s shall not equal to EUI-64 %s when' ' ipv6_ra_mode=%s,ipv6_address_mode=%s') % ( port_ip, eui_ip, ra_mode if ra_mode else ""Off"", add_mode if add_mode else ""Off""))"," return real_ip, eui_ip real_ip, eui_ip = self._get_ips_from_subnet(**kwargs) real_ip, eui_ip = self._get_ips_from_subnet(**kwargs) real_ip, eui_ip = self._get_ips_from_subnet() subnet = self.create_subnet(self.network, **kwargs) self.subnets.append(subnet) port = self.create_port(self.network) self.ports.append(port) port_ip = next(iter(port['fixed_ips']), None)['ip_address']",15,9
openstack%2Ftempest~master~I59b775b84805c25102339d699035da67405a8dbc,openstack/tempest,master,I59b775b84805c25102339d699035da67405a8dbc,Wait for the status of floatingip reach to active in create_test_server,ABANDONED,2017-11-03 08:08:15.000000000,2021-06-16 02:18:35.000000000,,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 21897}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2017-11-03 08:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6bd078add03790f69b47988839b355a90995360f', 'message': ""Wait for the status of floatingip reach to active in create_test_server\n\n1.In _test_rebuild_server of test_server_actions.py,original_addresses =\n(self.client.show_server(self.server_id)['server']['addresses']),\nsometimes if we not wait for the status of floatingip reach to active,\nwe can't get fip from self.server_id.\n\n2.Because of self.assertEqual(original_addresses, server['addresses'])\nif we not wait for the status of floatingip reach to active,\ntest_rebuild_server may execute fail.\n\nChange-Id: I59b775b84805c25102339d699035da67405a8dbc\n""}, {'number': 2, 'created': '2018-05-31 09:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/52aad0aa4b43bf39dd7cf6e881181328453a694b', 'message': ""Wait for the status of floatingip reach to active in create_test_server\n\n1.In _test_rebuild_server of test_server_actions.py,original_addresses =\n(self.client.show_server(self.server_id)['server']['addresses']),\nsometimes if we not wait for the status of floatingip reach to active,\nwe can't get fip from self.server_id.\n\n2.Because of self.assertEqual(original_addresses, server['addresses'])\nif we not wait for the status of floatingip reach to active,\ntest_rebuild_server may execute fail.\n\nChange-Id: I59b775b84805c25102339d699035da67405a8dbc\n""}, {'number': 3, 'created': '2018-05-31 09:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8b723a41846fcd4478ae5f1c8f2cdd02c56d8188', 'message': ""Wait for the status of floatingip reach to active in create_test_server\n\n1.In _test_rebuild_server of test_server_actions.py,original_addresses =\n(self.client.show_server(self.server_id)['server']['addresses']),\nsometimes if we not wait for the status of floatingip reach to active,\nwe can't get fip from self.server_id.\n\n2.Because of self.assertEqual(original_addresses, server['addresses'])\nif we not wait for the status of floatingip reach to active,\ntest_rebuild_server may execute fail.\n\nChange-Id: I59b775b84805c25102339d699035da67405a8dbc\n""}, {'number': 4, 'created': '2018-06-04 01:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1c0e0046dcd698c50c5a626f2acdcf7178780caf', 'message': ""Wait for the status of floatingip reach to active in create_test_server\n\n1.In _test_rebuild_server of test_server_actions.py,original_addresses =\n(self.client.show_server(self.server_id)['server']['addresses']),\nsometimes if we not wait for the status of floatingip reach to active,\nwe can't get fip from self.server_id.\n\n2.Because of self.assertEqual(original_addresses, server['addresses'])\nif we not wait for the status of floatingip reach to active,\ntest_rebuild_server may execute fail.\n\nChange-Id: I59b775b84805c25102339d699035da67405a8dbc\n""}, {'number': 5, 'created': '2018-06-04 02:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4e0e11e8b16c4fbc5447bd773a67a34f384d4156', 'message': ""Wait for the status of floatingip reach to active in create_test_server\n\n1.In _test_rebuild_server of test_server_actions.py,original_addresses =\n(self.client.show_server(self.server_id)['server']['addresses']),\nsometimes if we not wait for the status of floatingip reach to active,\nwe can't get fip from self.server_id.\n\n2.Because of self.assertEqual(original_addresses, server['addresses'])\nif we not wait for the status of floatingip reach to active,\ntest_rebuild_server may execute fail.\n\nChange-Id: I59b775b84805c25102339d699035da67405a8dbc\n""}, {'number': 6, 'created': '2018-06-05 01:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4930b5ad75174516a800471c255c466f9e9eaa01', 'message': ""Wait for the status of floatingip reach to active in create_test_server\n\n1.In _test_rebuild_server of test_server_actions.py,original_addresses =\n(self.client.show_server(self.server_id)['server']['addresses']),\nsometimes if we not wait for the status of floatingip reach to active,\nwe can't get fip from self.server_id.\n\n2.Because of self.assertEqual(original_addresses, server['addresses'])\nif we not wait for the status of floatingip reach to active,\ntest_rebuild_server may execute fail.\n\nChange-Id: I59b775b84805c25102339d699035da67405a8dbc\n""}, {'number': 7, 'created': '2018-06-19 11:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3080b37ab63215949e11f0c9da69dab4e0bf6e40', 'message': ""Wait for the status of floatingip reach to active in create_test_server\n\n1.In _test_rebuild_server of test_server_actions.py,original_addresses =\n(self.client.show_server(self.server_id)['server']['addresses']),\nsometimes if we not wait for the status of floatingip reach to active,\nwe can't get fip from self.server_id.\n\n2.Because of self.assertEqual(original_addresses, server['addresses'])\nif we not wait for the status of floatingip reach to active,\ntest_rebuild_server may execute fail.\n\nChange-Id: I59b775b84805c25102339d699035da67405a8dbc\n""}, {'number': 8, 'created': '2018-11-26 02:41:37.000000000', 'files': ['tempest/tests/common/test_waiters.py', 'tempest/common/waiters.py', 'tempest/common/compute.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9e51800d93b6458b0c087e25d898644d407c1880', 'message': ""Wait for the status of floatingip reach to active in create_test_server\n\nBecause of ci gate is single node openstack environment,floatingip from\ndown to active is very quickly.\nBut production environment of openstack have many node,sometimes the load\nof rabbitmq is very high,if we don't wait for the status of floatingip\nreach to active,the test case may be fail.\n\nChange-Id: I59b775b84805c25102339d699035da67405a8dbc\n""}]",19,517568,9e51800d93b6458b0c087e25d898644d407c1880,73,12,8,21897,,,0,"Wait for the status of floatingip reach to active in create_test_server

Because of ci gate is single node openstack environment,floatingip from
down to active is very quickly.
But production environment of openstack have many node,sometimes the load
of rabbitmq is very high,if we don't wait for the status of floatingip
reach to active,the test case may be fail.

Change-Id: I59b775b84805c25102339d699035da67405a8dbc
",git fetch https://review.opendev.org/openstack/tempest refs/changes/68/517568/8 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/common/waiters.py', 'tempest/common/compute.py']",2,6bd078add03790f69b47988839b355a90995360f,wait_for_floatingip_status," waiters.wait_for_floatingip_status( clients.floating_ips_client, validation_resources['floating_ip']['id'], 'ACTIVE') waiters.wait_for_floatingip_status( clients.floating_ips_client, validation_resources['floating_ip']['id'], 'ACTIVE')",,31,0
openstack%2Frequirements~master~I2a240e6284b802bc830418ffafd8fdaa4a4a5780,openstack/requirements,master,I2a240e6284b802bc830418ffafd8fdaa4a4a5780,Updated from generate-constraints,MERGED,2021-06-11 06:24:42.000000000,2021-06-16 01:55:26.000000000,2021-06-16 01:53:31.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 06:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1f124e59b4e978d4d51298172fa8052240b75921', 'message': 'Updated from generate-constraints\n\nChange-Id: I2a240e6284b802bc830418ffafd8fdaa4a4a5780\n'}, {'number': 2, 'created': '2021-06-12 06:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8e7d068ffad09318ca5f8891674d0f62eb77a695', 'message': 'Updated from generate-constraints\n\nChange-Id: I2a240e6284b802bc830418ffafd8fdaa4a4a5780\n'}, {'number': 3, 'created': '2021-06-15 19:35:50.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/40a9f989aceef50da91e5a10ca3c4352095111a4', 'message': 'Updated from generate-constraints\n\nChange-Id: I2a240e6284b802bc830418ffafd8fdaa4a4a5780\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,795926,40a9f989aceef50da91e5a10ca3c4352095111a4,18,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: I2a240e6284b802bc830418ffafd8fdaa4a4a5780
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/26/795926/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1f124e59b4e978d4d51298172fa8052240b75921,openstack/requirements/constraints/noclob,websocket-client===1.1.0types-enum34===0.1.5neutron-lib===2.12.0XStatic-Angular===1.8.2.1types-paramiko===0.1.4ruamel.yaml.clib===0.2.2pyghmi===1.5.28SQLAlchemy===1.4.18google-auth===1.31.0eventlet===0.31.0httpcore===0.13.4ruamel.yaml===0.17.9docutils===0.17.1mypy===0.902types-ipaddress===0.1.2boto3===1.17.92Sphinx===4.0.2botocore===1.20.92types-cryptography===0.1.2pkg-resources===0.0.0xmlschema===1.6.4anyio===3.1.0fasteners===0.16.2,websocket-client===1.0.1neutron-lib===2.11.0XStatic-Angular===1.5.8.0pyghmi===1.5.27SQLAlchemy===1.4.15google-auth===1.30.2eventlet===0.30.2httpcore===0.13.3docutils===0.16mypy===0.901boto3===1.17.90Sphinx===3.5.4botocore===1.20.90xmlschema===1.6.3fasteners===0.14.1types-paramiko===0.1.3setuptools===57.0.0 ruamel.yaml===0.17.7,23,18
openstack%2Frequirements~master~I35bae0efcc5fa53db2acb27d0e74702beed5acf9,openstack/requirements,master,I35bae0efcc5fa53db2acb27d0e74702beed5acf9,update constraint for oslo.utils to new release 4.9.1,MERGED,2021-06-15 10:08:37.000000000,2021-06-16 01:54:33.000000000,2021-06-16 01:53:07.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-15 10:08:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4845246b541f8da22921b8f77b6aaba49f2dac16', 'message': 'update constraint for oslo.utils to new release 4.9.1\n\nmeta: version: 4.9.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I5ba11909a1bc08c7262042df172a13ff5b215199\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I35bae0efcc5fa53db2acb27d0e74702beed5acf9\n'}]",0,796418,4845246b541f8da22921b8f77b6aaba49f2dac16,17,3,1,11131,,,0,"update constraint for oslo.utils to new release 4.9.1

meta: version: 4.9.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: I5ba11909a1bc08c7262042df172a13ff5b215199
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I35bae0efcc5fa53db2acb27d0e74702beed5acf9
",git fetch https://review.opendev.org/openstack/requirements refs/changes/18/796418/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4845246b541f8da22921b8f77b6aaba49f2dac16,new-release,oslo.utils===4.9.1,oslo.utils===4.9.0,1,1
openstack%2Ftripleo-validations~master~I31d68764b93f917e2710dabb2b63fa9c486ed519,openstack/tripleo-validations,master,I31d68764b93f917e2710dabb2b63fa9c486ed519,Filling in license info for dependencies.,MERGED,2021-06-14 13:56:11.000000000,2021-06-16 01:43:24.000000000,2021-06-16 01:41:56.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-14 13:56:11.000000000', 'files': ['requirements.txt', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2fed329feb5d73fe5b189c5538dd9aaa24b1db24', 'message': 'Filling in license info for dependencies.\n\nLicense information was obtained from the repositories\nand documentation of the projects.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I31d68764b93f917e2710dabb2b63fa9c486ed519\n'}]",0,796282,2fed329feb5d73fe5b189c5538dd9aaa24b1db24,8,6,1,32926,,,0,"Filling in license info for dependencies.

License information was obtained from the repositories
and documentation of the projects.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I31d68764b93f917e2710dabb2b63fa9c486ed519
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/82/796282/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'molecule-requirements.txt']",2,2fed329feb5d73fe5b189c5538dd9aaa24b1db24,requirements,"ansi2html # LGPLv3+ ansible>=2.8,!=2.8.9,!=2.9.12,<2.10.0 # GPLv3+ jinja2>=2.8.0 # BSD-3-Clausepytest # MIT pytest-cov # MIT pytest-html # Mozilla Public License 2.0 pytest-xdist # MIT","ansi2html ansible>=2.8,!=2.8.9,!=2.9.12,<2.10.0 jinja2>=2.8.0pytest pytest-cov pytest-html pytest-xdist",8,8
openstack%2Ftripleo-heat-templates~master~Ibf2e0d183dd51421c4feb7467c3c01fb416d2965,openstack/tripleo-heat-templates,master,Ibf2e0d183dd51421c4feb7467c3c01fb416d2965,Use merge strategy for EndpointMap,MERGED,2021-06-12 14:57:20.000000000,2021-06-16 01:43:22.000000000,2021-06-16 01:41:17.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-12 14:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dfcaca3b9a2b33fae9cc5ab3f3487838a0fd5188', 'message': 'Use merge strategy for EndpointMap\n\nNow someone can override individual endpoints like\nbelow in an environment:\n\nparameter_merge_strategies:\n  EndpointMap: merge\n\nparameter_defaults:\n  EndpointMap:\n    AodhPublic:\n      protocol: http\n      port: 9999\n      host: 121.21.2.1\nCloses-Bug: #1897592\nChange-Id: Ic7f4479b24ee344affc741c6e748bd1795b4c434\n\nChange-Id: Ibf2e0d183dd51421c4feb7467c3c01fb416d2965\n'}, {'number': 2, 'created': '2021-06-12 16:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f7a4901d63b411f771488582574ee121f3a7fb4d', 'message': 'Use merge strategy for EndpointMap\n\nNow someone can override individual endpoints like\nbelow in an environment:\n\nparameter_merge_strategies:\n  EndpointMap: merge\n\nparameter_defaults:\n  EndpointMap:\n    AodhPublic:\n      protocol: http\n      port: 9999\n      host: 121.21.2.1\n\nCloses-Bug: #1897592\nChange-Id: Ibf2e0d183dd51421c4feb7467c3c01fb416d2965\n'}, {'number': 3, 'created': '2021-06-14 04:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/834faa1a056fc733cfbd835a670265bbbd68a446', 'message': 'WIP Use merge strategy for EndpointMap\n\nNow someone can override individual endpoints like\nbelow in an environment:\n\nparameter_merge_strategies:\n  EndpointMap: merge\n\nparameter_defaults:\n  EndpointMap:\n    AodhPublic:\n      protocol: http\n      port: 9999\n      host: 121.21.2.1\n\nCloses-Bug: #1897592\nChange-Id: Ibf2e0d183dd51421c4feb7467c3c01fb416d2965\n'}, {'number': 4, 'created': '2021-06-14 04:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f29b620f4479ca9aed7be2048147f27bfc215f53', 'message': 'WIP Use merge strategy for EndpointMap\n\nNow someone can override individual endpoints like\nbelow in an environment:\n\nparameter_merge_strategies:\n  EndpointMap: merge\n\nparameter_defaults:\n  EndpointMap:\n    AodhPublic:\n      protocol: http\n      port: 9999\n      host: 121.21.2.1\n\nCloses-Bug: #1897592\nChange-Id: Ibf2e0d183dd51421c4feb7467c3c01fb416d2965\n'}, {'number': 5, 'created': '2021-06-15 03:48:07.000000000', 'files': ['tools/merge-new-params-nic-config-script.py', 'tripleo_heat_templates/environment_generator.py', 'environments/ssl/tls-endpoints-public-ip.yaml', 'network/endpoints/build_endpoint_map.py', 'network/endpoints/endpoint_map.yaml', 'sample-env-generator/ssl.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'releasenotes/notes/parameter-merge-strategy-endpoint-map-83b8321c72421fd6.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'network/endpoints/endpoint_data.yaml', 'tools/yaml-validate.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a263da138fe575fef0dddb6db21782740b435b0f', 'message': 'Use merge strategy for EndpointMap\n\nNow someone can override individual endpoints like\nbelow in an environment:\n\nparameter_merge_strategies:\n  EndpointMap: merge\n\nparameter_defaults:\n  EndpointMap:\n    AodhPublic:\n      protocol: http\n      port: 9999\n      host: 121.21.2.1\n\nCloses-Bug: #1897592\nChange-Id: Ibf2e0d183dd51421c4feb7467c3c01fb416d2965\n'}]",4,796137,a263da138fe575fef0dddb6db21782740b435b0f,27,6,5,8833,,,0,"Use merge strategy for EndpointMap

Now someone can override individual endpoints like
below in an environment:

parameter_merge_strategies:
  EndpointMap: merge

parameter_defaults:
  EndpointMap:
    AodhPublic:
      protocol: http
      port: 9999
      host: 121.21.2.1

Closes-Bug: #1897592
Change-Id: Ibf2e0d183dd51421c4feb7467c3c01fb416d2965
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/796137/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/merge-new-params-nic-config-script.py', 'tripleo_heat_templates/environment_generator.py', 'environments/ssl/tls-endpoints-public-ip.yaml', 'network/endpoints/build_endpoint_map.py', 'network/endpoints/endpoint_map.yaml', 'sample-env-generator/ssl.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'releasenotes/notes/parameter-merge-strategy-endpoint-map-83b8321c72421fd6.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'network/endpoints/endpoint_data.yaml', 'tools/yaml-validate.py', 'tox.ini']",14,dfcaca3b9a2b33fae9cc5ab3f3487838a0fd5188,server_side_merging,, python ./network/endpoints/build_endpoint_map.py --check,113,1435
openstack%2Fpuppet-oslo~master~I5bf6cd967d1e0e9fe4eaac0dac242dbc7b88a771,openstack/puppet-oslo,master,I5bf6cd967d1e0e9fe4eaac0dac242dbc7b88a771,Set fixture paths for unit tests,MERGED,2021-06-15 10:20:32.000000000,2021-06-16 01:41:50.000000000,2021-06-16 01:41:50.000000000,"[{'_account_id': 6476}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 10:20:32.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/040ef880aee9f05226cc839543b55eb9c990314a', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nChange-Id: I5bf6cd967d1e0e9fe4eaac0dac242dbc7b88a771\nCloses-Bug: #1930403\n'}]",0,796420,040ef880aee9f05226cc839543b55eb9c990314a,8,3,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Change-Id: I5bf6cd967d1e0e9fe4eaac0dac242dbc7b88a771
Closes-Bug: #1930403
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/20/796420/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,040ef880aee9f05226cc839543b55eb9c990314a,bug/1930403,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Ftripleo-ansible~master~I1d9b2354b7ac6306784431d6d9f82aefccdf111a,openstack/tripleo-ansible,master,I1d9b2354b7ac6306784431d6d9f82aefccdf111a,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 07:31:45.000000000,2021-06-16 01:41:42.000000000,2021-06-16 01:41:42.000000000,"[{'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 07:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ad78414a1c2553cb9f6ed05ef8cfe6ddd4ce6474', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I1d9b2354b7ac6306784431d6d9f82aefccdf111a\n""}, {'number': 2, 'created': '2021-05-04 12:58:21.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/440cc97e6c317ff421144139b34c3c66bb7a80c7', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I1d9b2354b7ac6306784431d6d9f82aefccdf111a\n""}]",0,788189,440cc97e6c317ff421144139b34c3c66bb7a80c7,23,3,2,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I1d9b2354b7ac6306784431d6d9f82aefccdf111a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/89/788189/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ad78414a1c2553cb9f6ed05ef8cfe6ddd4ce6474,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://opendev.org/openstack/tripleo-ansible,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://opendev.org/openstack/tripleo-ansible,3,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I6a586b4e3219e44ed1875513baeb059bdae20b23,openstack/tripleo-heat-templates,stable/train,I6a586b4e3219e44ed1875513baeb059bdae20b23,[train-only] CephStorage: Skip FDP/ADV/EUS repositories,MERGED,2021-06-02 12:48:03.000000000,2021-06-16 01:41:26.000000000,2021-06-16 01:41:26.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-02 12:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47b37b2f786c1aa7df1c4dde488d918a834ebac1', 'message': '[train-only] CephStorage: Skip FDP/ADV/EUS repositories\n\nCephStorage nodes do not have access to the EUS, FDP or Advanced\nVirt repositories. This patch overrides the default value of\nUpgradeLeappCommandOptions on upgrade prepare so that for the\nCephStorage nodes it only uses the correct repositories.\n\nRelated: rhbz#1936419\n\nChange-Id: I6a586b4e3219e44ed1875513baeb059bdae20b23\n'}, {'number': 2, 'created': '2021-06-09 17:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5bd532bbe63005f6688fea7215b99e26b462e463', 'message': '[train-only] CephStorage: Skip FDP/ADV/EUS repositories\n\nCephStorage nodes do not have access to the EUS, FDP or Advanced\nVirt repositories. This patch overrides the default value of\nUpgradeLeappCommandOptions on upgrade prepare so that for the\nCephStorage nodes it only uses the correct repositories.\n\nRelated: rhbz#1936419\n\nChange-Id: I6a586b4e3219e44ed1875513baeb059bdae20b23\n'}, {'number': 3, 'created': '2021-06-11 13:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/82d000a7e1c0f99a2e4e89f7cfeda1d1d572244d', 'message': '[train-only] CephStorage: Skip FDP/ADV/EUS repositories\n\nCephStorage nodes do not have access to the EUS, FDP or Advanced\nVirt repositories. This patch overrides the default value of\nUpgradeLeappCommandOptions on upgrade prepare so that for the\nCephStorage nodes it only uses the correct repositories.\n\nRelated: rhbz#1936419\n\nChange-Id: I6a586b4e3219e44ed1875513baeb059bdae20b23\n'}, {'number': 4, 'created': '2021-06-13 21:52:45.000000000', 'files': ['environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2576296d0f54cd5ff4d895d2b210309a37462a91', 'message': '[train-only] CephStorage: Skip FDP/ADV/EUS repositories\n\nCephStorage nodes do not have access to the EUS, FDP or Advanced\nVirt repositories. This patch overrides the default value of\nUpgradeLeappCommandOptions on upgrade prepare so that for the\nCephStorage nodes it only uses the correct repositories.\n\nRelated: rhbz#1936419\n\nChange-Id: I6a586b4e3219e44ed1875513baeb059bdae20b23\n'}]",0,794214,2576296d0f54cd5ff4d895d2b210309a37462a91,20,6,4,6816,,,0,"[train-only] CephStorage: Skip FDP/ADV/EUS repositories

CephStorage nodes do not have access to the EUS, FDP or Advanced
Virt repositories. This patch overrides the default value of
UpgradeLeappCommandOptions on upgrade prepare so that for the
CephStorage nodes it only uses the correct repositories.

Related: rhbz#1936419

Change-Id: I6a586b4e3219e44ed1875513baeb059bdae20b23
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/794214/4 && git format-patch -1 --stdout FETCH_HEAD,['environments/lifecycle/upgrade-prepare.yaml'],1,47b37b2f786c1aa7df1c4dde488d918a834ebac1,," UpgradeLeappCommandOptions: "" --enablerepo rhel-8-for-x86_64-baseos-rpms --enablerepo rhel-8-for-x86_64-appstream-rpms """,,1,0
openstack%2Fnetworking-ovn~stable%2Ftrain~Ibe6809a8ce4041cfd4adcb72cd15c23fb4c9476f,openstack/networking-ovn,stable/train,Ibe6809a8ce4041cfd4adcb72cd15c23fb4c9476f,"Revert ""[OVN] Simplify connection creation logic""",ABANDONED,2021-06-15 18:06:58.000000000,2021-06-16 01:21:11.000000000,,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-06-15 18:06:58.000000000', 'files': ['networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/cmd/neutron_ovn_db_sync_util.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/unit/ovsdb/test_impl_idl_ovn.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py', 'networking_ovn/tests/unit/cmd/test_neutron_ovn_db_sync_util.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4deae68528d515da8fe0ef282f083e69f8ec84da', 'message': 'Revert ""[OVN] Simplify connection creation logic""\n\nThis reverts commit bd14f4fed09fe5a2954589a65c0076d5708fd619.\n\nReason for revert: This is breaking the OVN Octavia Provider driver\nas it winds-up importing neutron code directly, leading to:\n\n  oslo_config.cfg.DuplicateOptError: duplicate option: host\n\nChange-Id: Ibe6809a8ce4041cfd4adcb72cd15c23fb4c9476f\n'}]",1,796450,4deae68528d515da8fe0ef282f083e69f8ec84da,3,4,1,1131,,,0,"Revert ""[OVN] Simplify connection creation logic""

This reverts commit bd14f4fed09fe5a2954589a65c0076d5708fd619.

Reason for revert: This is breaking the OVN Octavia Provider driver
as it winds-up importing neutron code directly, leading to:

  oslo_config.cfg.DuplicateOptError: duplicate option: host

Change-Id: Ibe6809a8ce4041cfd4adcb72cd15c23fb4c9476f
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/50/796450/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/cmd/neutron_ovn_db_sync_util.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/unit/ovsdb/test_impl_idl_ovn.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py', 'networking_ovn/tests/unit/cmd/test_neutron_ovn_db_sync_util.py']",6,4deae68528d515da8fe0ef282f083e69f8ec84da,," @mock.patch('networking_ovn.ovsdb.impl_idl_ovn.get_connection') def test_main_invalid_nb_idl(self, mock_con, mock_conf, mock_log_setup): mock.patch('networking_ovn.ovsdb.impl_idl_ovn.OvsdbNbOvnIdl', side_effect=RuntimeError): @mock.patch('networking_ovn.ovsdb.impl_idl_ovn.get_connection') def test_main_invalid_sb_idl(self, mock_con, mock_conf, mock_log_setup): mock.patch('networking_ovn.ovsdb.impl_idl_ovn.OvsdbSbOvnIdl', side_effect=RuntimeError): @mock.patch('networking_ovn.ovsdb.impl_idl_ovn.get_connection') def _test_main(self, mock_con, mock_conf, mock_log_setup, mock_nb_idl,","from networking_ovn.ovsdb import impl_idl_ovn def test_main_invalid_nb_idl(self, mock_conf, mock_log_setup): mock.patch('networking_ovn.ovsdb.impl_idl_ovn.OvsdbNbOvnIdl.' 'from_worker', side_effect=RuntimeError): def test_main_invalid_sb_idl(self, mock_conf, mock_log_setup): mock.patch.object(impl_idl_ovn.OvsdbNbOvnIdl,'from_worker', return_value=mock.Mock()), \ mock.patch('networking_ovn.ovsdb.impl_idl_ovn.OvsdbSbOvnIdl.' 'from_worker', side_effect=RuntimeError): @mock.patch.object(impl_idl_ovn.OvsdbSbOvnIdl, 'from_worker', mock.Mock()) def _test_main(self, mock_conf, mock_log_setup, mock_nb_idl,",43,45
openstack%2Fnetworking-ovn~stable%2Ftrain~I9daf6e2d122ad478acc982099429b05ebbe38e7a,openstack/networking-ovn,stable/train,I9daf6e2d122ad478acc982099429b05ebbe38e7a,"Revert ""Rely on worker count for HashRing caching""",ABANDONED,2021-06-15 16:36:56.000000000,2021-06-16 01:20:42.000000000,,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-06-15 16:36:56.000000000', 'files': ['networking_ovn/tests/unit/common/test_hash_ring_manager.py', 'networking_ovn/tests/functional/test_ovsdb_monitor.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/functional/base.py', 'networking_ovn/common/hash_ring_manager.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cff8557756eeccc2a888bdb4275f6a284fd8a534', 'message': 'Revert ""Rely on worker count for HashRing caching""\n\nThis reverts commit 98741c868480fe19a1f1c6a28a4b0a2f2d26c8df.\n\nReason for revert: This is breaking the OVN Octavia Provider driver\nas it winds-up importing neutron code directly, leading to:\n\n  oslo_config.cfg.DuplicateOptError: duplicate option: host\n\nChange-Id: I9daf6e2d122ad478acc982099429b05ebbe38e7a\n'}]",0,796448,cff8557756eeccc2a888bdb4275f6a284fd8a534,6,4,1,1131,,,0,"Revert ""Rely on worker count for HashRing caching""

This reverts commit 98741c868480fe19a1f1c6a28a4b0a2f2d26c8df.

Reason for revert: This is breaking the OVN Octavia Provider driver
as it winds-up importing neutron code directly, leading to:

  oslo_config.cfg.DuplicateOptError: duplicate option: host

Change-Id: I9daf6e2d122ad478acc982099429b05ebbe38e7a
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/48/796448/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/common/test_hash_ring_manager.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/functional/test_ovsdb_monitor.py', 'networking_ovn/tests/functional/base.py', 'networking_ovn/common/hash_ring_manager.py']",5,cff8557756eeccc2a888bdb4275f6a284fd8a534,," self._cache_startup_timeout = True # method checks if the created_at and updated_at columns from the # nodes in the ring from this host is equal, and if so it means # that the service just started. if not self._cache_startup_timeout: # created_at and updated_at differ in microseonds so we compare their # difference is less than a second to be safe on slow machines dont_cache = nodes and ( nodes[0].updated_at - nodes[0].created_at < datetime.timedelta( seconds=1)) if not dont_cache: self._cache_startup_timeout = False return dont_cache","from neutron import service self._check_hashring_startup = True # method ensures that we start allowing the use of cached HashRings # once the number of HashRing nodes >= the number of api workers. if not self._check_hashring_startup: api_workers = service._get_api_workers() if len(nodes) >= api_workers: LOG.debug(""Allow caching, nodes %s>=%s"", len(nodes), api_workers) self._check_hashring_startup = False return False LOG.debug(""Disallow caching, nodes %s<%s"", len(nodes), api_workers) return True",33,45
openstack%2Fnova~master~I11131a3f90b8af85e7151b519fb26d225629c391,openstack/nova,master,I11131a3f90b8af85e7151b519fb26d225629c391,libvirt: Set driver_iommu when attaching virtio devices to SEV instance,MERGED,2021-06-03 16:49:00.000000000,2021-06-16 00:55:08.000000000,2021-06-16 00:53:08.000000000,"[{'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 16:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8153a5313c6798069c946ed403e51a9b2ed119b', 'message': 'libvirt: Set driver_iommu when attaching virtio devices to SEV instance\n\nAs called out in the original spec [1] virtio devices attached to a SEV\nenabled instance must have the iommu attribute enabled. This was done\nwithin the original implementation of the spec for all virtio devices\ndefined when initially spawning the instance but does not include volume\nand interfaces that are later hot plugged.\n\nThis change corrects this and in doing so slightly refactors the\noriginal designer code to make it usable in both cases.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/implemented/amd-sev-libvirt-support.html#proposed-change\n\nCloses-Bug: #1930734\nChange-Id: I11131a3f90b8af85e7151b519fb26d225629c391\n'}, {'number': 2, 'created': '2021-06-04 09:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60450d8514f6c0411458beb3653d232dda2621f7', 'message': 'libvirt: Set driver_iommu when attaching virtio devices to SEV instance\n\nAs called out in the original spec [1] virtio devices attached to a SEV\nenabled instance must have the iommu attribute enabled. This was done\nwithin the original implementation of the spec for all virtio devices\ndefined when initially spawning the instance but does not include volume\nand interfaces that are later hot plugged.\n\nThis change corrects this and in doing so slightly refactors the\noriginal designer code to make it usable in both cases.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/implemented/amd-sev-libvirt-support.html#proposed-change\n\nCloses-Bug: #1930734\nChange-Id: I11131a3f90b8af85e7151b519fb26d225629c391\n'}, {'number': 3, 'created': '2021-06-07 12:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46ae3c8c1a1f4c285ff4cc9392212af5ce740c90', 'message': 'libvirt: Set driver_iommu when attaching virtio devices to SEV instance\n\nAs called out in the original spec [1] virtio devices attached to a SEV\nenabled instance must have the iommu attribute enabled. This was done\nwithin the original implementation of the spec for all virtio devices\ndefined when initially spawning the instance but does not include volume\nand interfaces that are later hot plugged.\n\nThis change corrects this and in doing so slightly refactors the\noriginal designer code to make it usable in both cases.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/implemented/amd-sev-libvirt-support.html#proposed-change\n\nCloses-Bug: #1930734\nChange-Id: I11131a3f90b8af85e7151b519fb26d225629c391\n'}, {'number': 4, 'created': '2021-06-07 15:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f421d47aeea31964800857c4be26d077a2bc17a', 'message': 'libvirt: Set driver_iommu when attaching virtio devices to SEV instance\n\nAs called out in the original spec [1] virtio devices attached to a SEV\nenabled instance must have the iommu attribute enabled. This was done\nwithin the original implementation of the spec for all virtio devices\ndefined when initially spawning the instance but does not include volume\nand interfaces that are later hot plugged.\n\nThis change corrects this and in doing so slightly refactors the\noriginal designer code to make it usable in both cases.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/implemented/amd-sev-libvirt-support.html#proposed-change\n\nCloses-Bug: #1930734\nChange-Id: I11131a3f90b8af85e7151b519fb26d225629c391\n'}, {'number': 5, 'created': '2021-06-07 17:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27adf95c30b45a60dea9ca7f307aa2c45f666ccc', 'message': 'libvirt: Set driver_iommu when attaching virtio devices to SEV instance\n\nAs called out in the original spec [1] virtio devices attached to a SEV\nenabled instance must have the iommu attribute enabled. This was done\nwithin the original implementation of the spec for all virtio devices\ndefined when initially spawning the instance but does not include volume\nand interfaces that are later hot plugged.\n\nThis change corrects this and in doing so slightly refactors the\noriginal designer code to make it usable in both cases.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/implemented/amd-sev-libvirt-support.html#proposed-change\n\nCloses-Bug: #1930734\nChange-Id: I11131a3f90b8af85e7151b519fb26d225629c391\n'}, {'number': 6, 'created': '2021-06-07 17:31:42.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_designer.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/virt/libvirt/designer.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4d8bf15fec15dc3416023e577e0f2c277c216506', 'message': 'libvirt: Set driver_iommu when attaching virtio devices to SEV instance\n\nAs called out in the original spec [1] virtio devices attached to a SEV\nenabled instance must have the iommu attribute enabled. This was done\nwithin the original implementation of the spec for all virtio devices\ndefined when initially spawning the instance but does not include volume\nand interfaces that are later hot plugged.\n\nThis change corrects this for both volumes and nics and in doing so\nslightly refactors the original designer code to make it usable in both\ncases.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/implemented/amd-sev-libvirt-support.html#proposed-change\n\nCloses-Bug: #1930734\nChange-Id: I11131a3f90b8af85e7151b519fb26d225629c391\n'}]",15,794639,4d8bf15fec15dc3416023e577e0f2c277c216506,118,9,6,10135,,,0,"libvirt: Set driver_iommu when attaching virtio devices to SEV instance

As called out in the original spec [1] virtio devices attached to a SEV
enabled instance must have the iommu attribute enabled. This was done
within the original implementation of the spec for all virtio devices
defined when initially spawning the instance but does not include volume
and interfaces that are later hot plugged.

This change corrects this for both volumes and nics and in doing so
slightly refactors the original designer code to make it usable in both
cases.

[1] https://specs.openstack.org/openstack/nova-specs/specs/train/implemented/amd-sev-libvirt-support.html#proposed-change

Closes-Bug: #1930734
Change-Id: I11131a3f90b8af85e7151b519fb26d225629c391
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/794639/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_designer.py', 'nova/virt/libvirt/designer.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,f8153a5313c6798069c946ed403e51a9b2ed119b,change-794639-4," @mock.patch.object(designer, 'set_driver_iommu_for_all_devices') @mock.patch.object(designer, 'set_driver_iommu_for_all_devices') @mock.patch('nova.virt.libvirt.designer.set_driver_iommu_for_device') @mock.patch.object(libvirt_driver.LibvirtDriver, '_sev_enabled') mock_get_domain, mock_attach, mock_info, mock_build, mock_save, mock_get_network_info, mock_sev_enabled, mock_designer_set_iommu, sev_enabled=False): mock_sev_enabled.return_value = sev_enabled if sev_enabled: mock_designer_set_iommu.assert_called_once_with(expected) def test_attach_interface_with_sev(self): self._test_attach_interface( power_state.RUNNING, (fakelibvirt.VIR_DOMAIN_AFFECT_CONFIG | fakelibvirt.VIR_DOMAIN_AFFECT_LIVE), sev_enabled=True) "," @mock.patch.object(designer, 'set_driver_iommu_for_sev') @mock.patch.object(designer, 'set_driver_iommu_for_sev') mock_get_domain, mock_attach, mock_info, mock_build, mock_save, mock_get_network_info):",35,11
openstack%2Frequirements~master~Ic36422b236c1f9f8c66c3070ca88e6b138e61f0a,openstack/requirements,master,Ic36422b236c1f9f8c66c3070ca88e6b138e61f0a,update constraint for oslo.service to new release 2.6.0,MERGED,2021-06-15 11:41:56.000000000,2021-06-16 00:54:56.000000000,2021-06-16 00:53:40.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-15 11:41:56.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7a4a8af45f1722ace44b7cedac99528a5d327461', 'message': 'update constraint for oslo.service to new release 2.6.0\n\nmeta: version: 2.6.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I5ba11909a1bc08c7262042df172a13ff5b215199\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ic36422b236c1f9f8c66c3070ca88e6b138e61f0a\n'}]",0,796427,7a4a8af45f1722ace44b7cedac99528a5d327461,14,3,1,11131,,,0,"update constraint for oslo.service to new release 2.6.0

meta: version: 2.6.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: I5ba11909a1bc08c7262042df172a13ff5b215199
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ic36422b236c1f9f8c66c3070ca88e6b138e61f0a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/27/796427/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7a4a8af45f1722ace44b7cedac99528a5d327461,new-release,oslo.service===2.6.0,oslo.service===2.5.0,1,1
openstack%2Fironic~master~I4e7d2a555eff48ee164d4ecce53156bacbc68da4,openstack/ironic,master,I4e7d2a555eff48ee164d4ecce53156bacbc68da4,Handle non-key-value params in [inspector]extra_kernel_params,MERGED,2021-06-10 16:44:02.000000000,2021-06-16 00:13:19.000000000,2021-06-15 17:29:33.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-10 16:44:02.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/image_utils.py', 'ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/common/pxe_utils.py', 'releasenotes/notes/inspector-kernel-params-6db82c633d7361e2.yaml', 'ironic/drivers/modules/inspector.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3824912f0a54d5fc9d58e9d5bedf316fcdab560a', 'message': 'Handle non-key-value params in [inspector]extra_kernel_params\n\nSince we use a dict for passing them internally, use None value for\nsingle-value params.\n\nChange-Id: I4e7d2a555eff48ee164d4ecce53156bacbc68da4\nStory: #2008963\nTask: #42599\n'}]",0,795847,3824912f0a54d5fc9d58e9d5bedf316fcdab560a,20,3,1,10239,,,0,"Handle non-key-value params in [inspector]extra_kernel_params

Since we use a dict for passing them internally, use None value for
single-value params.

Change-Id: I4e7d2a555eff48ee164d4ecce53156bacbc68da4
Story: #2008963
Task: #42599
",git fetch https://review.opendev.org/openstack/ironic refs/changes/47/795847/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/image_utils.py', 'ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/common/pxe_utils.py', 'releasenotes/notes/inspector-kernel-params-6db82c633d7361e2.yaml', 'ironic/drivers/modules/inspector.py', 'ironic/tests/unit/common/test_pxe_utils.py']",7,3824912f0a54d5fc9d58e9d5bedf316fcdab560a,kernel-params,"import collections self._test_build_pxe_config_options_pxe( whle_dsk_img=True, ramdisk_params=collections.OrderedDict([('foo', 'bar'), ('banana', None)]), expected_pxe_params='test_param foo=bar banana')"," if ramdisk_params: expected_pxe_params += ' ' + ' '.join( '%s=%s' % tpl for tpl in ramdisk_params.items()) self._test_build_pxe_config_options_pxe(whle_dsk_img=True, ramdisk_params={'foo': 'bar'})",45,17
openstack%2Ftripleo-heat-templates~master~I9e0ffac2d827feeb5e306d79e8ebdded1c350909,openstack/tripleo-heat-templates,master,I9e0ffac2d827feeb5e306d79e8ebdded1c350909,Replace unused var 'net' with _,MERGED,2021-05-20 21:50:13.000000000,2021-06-16 00:11:31.000000000,2021-06-16 00:11:31.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-20 21:50:13.000000000', 'files': ['tools/process-templates.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/78e870712aab18594b029a82827e9fca587694a8', 'message': ""Replace unused var 'net' with _\n\nReplace the unused variable 'net' with _.\n\nChange-Id: I9e0ffac2d827feeb5e306d79e8ebdded1c350909\n""}]",0,792481,78e870712aab18594b029a82827e9fca587694a8,9,6,1,24245,,,0,"Replace unused var 'net' with _

Replace the unused variable 'net' with _.

Change-Id: I9e0ffac2d827feeb5e306d79e8ebdded1c350909
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/792481/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/process-templates.py'],1,78e870712aab18594b029a82827e9fca587694a8,rename-unused-var," for idx, _ in enumerate(network_data):"," for idx, net in enumerate(network_data):",1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I85525e29cce9f72382486f8a157bdfc7f3d84f77,openstack/tripleo-ansible,stable/train,I85525e29cce9f72382486f8a157bdfc7f3d84f77,[Train-only] Remove duplicate /etc/hosts entries,MERGED,2021-06-11 16:23:10.000000000,2021-06-16 00:11:24.000000000,2021-06-16 00:11:24.000000000,"[{'_account_id': 6926}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-06-11 16:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c574c048c4ad9df3cce568785769e89f2bcdc7dd', 'message': 'WIP [Train-only] Remove duplicate /etc/hosts entries\n\nAfter a successful 16.1->16.2 update the overcloud has every entry twice in /etc/hosts. So we have:\n # START_HOST_ENTRIES_FOR_STACK: overcloud\n 172.17.1.60 compute-0.foo.local compute-0\n 172.17.3.34 compute-0.storage.foo.local compute-0.storage\n 172.17.1.60 compute-0.internalapi.foo.local compute-0.internalapi\n .....\n 10.0.0.150 overcloud.foo.local\n # END_HOST_ENTRIES_FOR_STACK: overcloud\n # BEGIN ANSIBLE MANAGED BLOCK\n 172.17.1.60 compute-0.foo.local compute-0\n 172.17.3.34 compute-0.storage.foo.local compute-0.storage\n 172.17.1.60 compute-0.internalapi.foo.local compute-0.internalapi\n 172.17.2.135 compute-0.tenant.foo.local compute-0.tenant\n 192.168.24.20 compute-0.ctlplane.foo.local compute-0.ctlplane\n\nSo we have all entries under END_HOST_ENTRIES_FOR_STACK:overcloud and\nthen again all entries under ""BEGIN ANSIBLE MANAGED BLOCK""\n\nThe reason for this is that we changed marker via\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/788100\n\nChange-Id: I85525e29cce9f72382486f8a157bdfc7f3d84f77\nCloses-Bug: #1931729\n'}, {'number': 2, 'created': '2021-06-14 06:04:28.000000000', 'files': ['tripleo_ansible/roles/tripleo-hosts-entries/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e3fefe284084aa5e8c14bcf274d0c4d560a476a3', 'message': '[Train-only] Remove duplicate /etc/hosts entries\n\nAfter a successful 16.1->16.2 update the overcloud has every entry twice in /etc/hosts. So we have:\n # START_HOST_ENTRIES_FOR_STACK: overcloud\n 172.17.1.60 compute-0.foo.local compute-0\n 172.17.3.34 compute-0.storage.foo.local compute-0.storage\n 172.17.1.60 compute-0.internalapi.foo.local compute-0.internalapi\n .....\n 10.0.0.150 overcloud.foo.local\n # END_HOST_ENTRIES_FOR_STACK: overcloud\n # BEGIN ANSIBLE MANAGED BLOCK\n 172.17.1.60 compute-0.foo.local compute-0\n 172.17.3.34 compute-0.storage.foo.local compute-0.storage\n 172.17.1.60 compute-0.internalapi.foo.local compute-0.internalapi\n 172.17.2.135 compute-0.tenant.foo.local compute-0.tenant\n 192.168.24.20 compute-0.ctlplane.foo.local compute-0.ctlplane\n\nSo we have all entries under END_HOST_ENTRIES_FOR_STACK:overcloud and\nthen again all entries under ""BEGIN ANSIBLE MANAGED BLOCK""\n\nThe reason for this is that we changed marker via\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/788100\n\nTested in a Train minor update (16.1->16.2) and the hosts is now\ncorrect (without the patch it would be broken)\n\nChange-Id: I85525e29cce9f72382486f8a157bdfc7f3d84f77\nCloses-Bug: #1931729\n'}]",0,796044,e3fefe284084aa5e8c14bcf274d0c4d560a476a3,20,6,2,20172,,,0,"[Train-only] Remove duplicate /etc/hosts entries

After a successful 16.1->16.2 update the overcloud has every entry twice in /etc/hosts. So we have:
 # START_HOST_ENTRIES_FOR_STACK: overcloud
 172.17.1.60 compute-0.foo.local compute-0
 172.17.3.34 compute-0.storage.foo.local compute-0.storage
 172.17.1.60 compute-0.internalapi.foo.local compute-0.internalapi
 .....
 10.0.0.150 overcloud.foo.local
 # END_HOST_ENTRIES_FOR_STACK: overcloud
 # BEGIN ANSIBLE MANAGED BLOCK
 172.17.1.60 compute-0.foo.local compute-0
 172.17.3.34 compute-0.storage.foo.local compute-0.storage
 172.17.1.60 compute-0.internalapi.foo.local compute-0.internalapi
 172.17.2.135 compute-0.tenant.foo.local compute-0.tenant
 192.168.24.20 compute-0.ctlplane.foo.local compute-0.ctlplane

So we have all entries under END_HOST_ENTRIES_FOR_STACK:overcloud and
then again all entries under ""BEGIN ANSIBLE MANAGED BLOCK""

The reason for this is that we changed marker via
https://review.opendev.org/c/openstack/tripleo-ansible/+/788100

Tested in a Train minor update (16.1->16.2) and the hosts is now
correct (without the patch it would be broken)

Change-Id: I85525e29cce9f72382486f8a157bdfc7f3d84f77
Closes-Bug: #1931729
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/44/796044/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-hosts-entries/tasks/main.yml'],1,c574c048c4ad9df3cce568785769e89f2bcdc7dd,train-foo,"- name: Remove old ansible marker hosts configuration (if present) become: true blockinfile: state: absent path: ""{{ tripleo_hosts_entries_tmp_hosts.path }}"" block: """" marker: ""# {mark}"" marker_begin: ""BEGIN ANSIBLE MANAGED BLOCK"" marker_end: ""END ANSIBLE MANAGED BLOCK"" register: tripleo_hosts_entries_old_ansible_marker tags: - tripleo_hosts_entries when: tripleo_hosts_entries_heat_marker.changed or tripleo_hosts_entries_new_entries.changed or tripleo_hosts_entries_old_ansible_marker.changed", when: tripleo_hosts_entries_heat_marker.changed or tripleo_hosts_entries_new_entries.changed,14,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iaf85807d067898bbab6d76ab40bc070e845a8b38,openstack/tripleo-heat-templates,stable/train,Iaf85807d067898bbab6d76ab40bc070e845a8b38,HA minor update: fix bad pcs invocation,MERGED,2021-06-13 19:26:30.000000000,2021-06-16 00:11:18.000000000,2021-06-16 00:11:18.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-13 19:26:30.000000000', 'files': ['container_config_scripts/pacemaker_restart_bundle.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d146946546b8ce14b30b75d95d7c6695735000c8', 'message': 'HA minor update: fix bad pcs invocation\n\nWhen a HA resource is in failed stated, the minor update\nshould normally try to restart it but the associated\npcs invocation is currently invalid, so the resource never\ngets a chance to be restarted.\n\nUse the right pcs call to fix this minor update use case.\n\nChange-Id: Iaf85807d067898bbab6d76ab40bc070e845a8b38\nCloses-Bug: #1931500\n(cherry picked from commit 1662600e6e6e8fedbf096b279e16eabd7b3c6eea)\n(cherry picked from commit d03517b6144373fea1fc0e7f11bf4a39cecb00b6)\n(cherry picked from commit f808dac566d342778b88ce2de1fdcdf0853f71e7)\n'}]",0,796214,d146946546b8ce14b30b75d95d7c6695735000c8,12,4,1,20172,,,0,"HA minor update: fix bad pcs invocation

When a HA resource is in failed stated, the minor update
should normally try to restart it but the associated
pcs invocation is currently invalid, so the resource never
gets a chance to be restarted.

Use the right pcs call to fix this minor update use case.

Change-Id: Iaf85807d067898bbab6d76ab40bc070e845a8b38
Closes-Bug: #1931500
(cherry picked from commit 1662600e6e6e8fedbf096b279e16eabd7b3c6eea)
(cherry picked from commit d03517b6144373fea1fc0e7f11bf4a39cecb00b6)
(cherry picked from commit f808dac566d342778b88ce2de1fdcdf0853f71e7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/796214/1 && git format-patch -1 --stdout FETCH_HEAD,['container_config_scripts/pacemaker_restart_bundle.sh'],1,d146946546b8ce14b30b75d95d7c6695735000c8,bug/1931500-stable/wallaby-stable/victoria-stable/ussuri-stable/train," /sbin/pcs resource cleanup $BUNDLE_NAME node=""${HOST}"""," /sbin/pcs resource cleanup $BUNDLE_NAME --node ""${HOST}""",1,1
openstack%2Ftrove-dashboard~master~I8966035fe8e754bf31367535b08dc46856f5afac,openstack/trove-dashboard,master,I8966035fe8e754bf31367535b08dc46856f5afac,Add a ton of policy checks,NEW,2021-05-06 18:21:45.000000000,2021-06-15 23:32:21.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 18:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/e01a260e0c9af08df700332cddcb7f865175530f', 'message': ""Add a ton of policy checks\n\nIn some cases there isn't a perfect relationship between\nUI widgets and API endpoints but this should be pretty close.\n\nBug: 1926929\nChange-Id: I8966035fe8e754bf31367535b08dc46856f5afac\n""}, {'number': 2, 'created': '2021-05-06 18:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/d4cdaf2607a992bde46f71c421a6d3719ff57dca', 'message': ""Add a ton of policy checks\n\nIn some cases there isn't a perfect relationship between\nUI widgets and API endpoints but this should be pretty close.\n\nBug: 1926929\nChange-Id: I8966035fe8e754bf31367535b08dc46856f5afac\n""}, {'number': 3, 'created': '2021-05-06 18:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/635d32435c90aa23be3afb842bc9a7d559d21e22', 'message': ""Add a ton of policy checks\n\nIn some cases there isn't a perfect relationship between\nUI widgets and API endpoints but this should be pretty close.\n\nBug: 1926929\nChange-Id: I8966035fe8e754bf31367535b08dc46856f5afac\n""}, {'number': 4, 'created': '2021-05-06 19:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/3b5c6b2aefa4874a0bdb11bf9b8bbeaadf24d869', 'message': ""Add a ton of policy checks\n\nIn some cases there isn't a perfect relationship between\nUI widgets and API endpoints but this should be pretty close.\n\nBug: 1926929\nChange-Id: I8966035fe8e754bf31367535b08dc46856f5afac\n""}, {'number': 5, 'created': '2021-05-07 02:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/eed3ce0983f5685d35aa59f6445eec73056f4dee', 'message': ""Add a ton of policy checks\n\nIn some cases there isn't a perfect relationship between\nUI widgets and API endpoints but this should be pretty close.\n\nBug: 1926929\nChange-Id: I8966035fe8e754bf31367535b08dc46856f5afac\n""}, {'number': 6, 'created': '2021-05-07 13:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/d4c89cd8c4234b323c053ee043c987cf427b563a', 'message': ""Add a ton of policy checks\n\nIn some cases there isn't a perfect relationship between\nUI widgets and API endpoints but this should be pretty close.\n\nBug: 1926929\nChange-Id: I8966035fe8e754bf31367535b08dc46856f5afac\n""}, {'number': 7, 'created': '2021-05-12 22:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/7a65e721e67eed0703c18095e07bfba8b3ab51b9', 'message': ""Add a ton of policy checks\n\nIn some cases there isn't a perfect relationship between\nUI widgets and API endpoints but this should be pretty close.\n\nStory: 42463\nChange-Id: I8966035fe8e754bf31367535b08dc46856f5afac\n""}, {'number': 8, 'created': '2021-05-12 22:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/9246332f06c7fab069fa879ad705ffac87b562cc', 'message': ""Add a ton of policy checks\n\nIn some cases there isn't a perfect relationship between\nUI widgets and API endpoints but this should be pretty close.\n\nStory: 2008897\nChange-Id: I8966035fe8e754bf31367535b08dc46856f5afac\n""}, {'number': 9, 'created': '2021-05-18 23:43:23.000000000', 'files': ['trove_dashboard/content/backup_strategies/tables.py', 'releasenotes/notes/support-custom-policies-b7a47657ff92bacb.yaml', 'trove_dashboard/content/database_clusters/tables.py', 'trove_dashboard/content/database_backups/tables.py', 'trove_dashboard/content/databases/tables.py', 'trove_dashboard/content/database_configurations/tables.py', 'trove_dashboard/content/databases/logs/tables.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/0e95e6993c8c8fd6529210fcf33143e72a2db3cc', 'message': ""Add a ton of policy checks\n\nIn some cases there isn't a perfect relationship between\nUI widgets and API endpoints but this should be pretty close.\n\nStory: 2008897\nTask: 42463\nChange-Id: I8966035fe8e754bf31367535b08dc46856f5afac\n""}]",3,790138,0e95e6993c8c8fd6529210fcf33143e72a2db3cc,24,2,9,12932,,,0,"Add a ton of policy checks

In some cases there isn't a perfect relationship between
UI widgets and API endpoints but this should be pretty close.

Story: 2008897
Task: 42463
Change-Id: I8966035fe8e754bf31367535b08dc46856f5afac
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/38/790138/7 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/content/backup_strategies/tables.py', 'releasenotes/notes/support-custom-policies-b7a47657ff92bacb.yaml', 'trove_dashboard/content/database_clusters/tables.py', 'trove_dashboard/content/database_backups/tables.py', 'trove_dashboard/content/databases/tables.py', 'trove_dashboard/content/database_configurations/tables.py', 'trove_dashboard/content/databases/logs/tables.py']",7,e01a260e0c9af08df700332cddcb7f865175530f,bug/1926929," policy_rules = ((""database"", ""instance:guest_log_list""),) policy_rules = ((""database"", ""instance:guest_log_list""),) policy_rules = ((""database"", ""instance:guest_log_list""),) policy_rules = ((""database"", ""instance:guest_log_list""),) policy_rules = ((""database"", ""instance:guest_log_list""),)",,77,0
openstack%2Fpuppet-zaqar~master~I35b86a599d9e947648cad38904d54a8f998696e1,openstack/puppet-zaqar,master,I35b86a599d9e947648cad38904d54a8f998696e1,Get rid of the $pyvers variable,MERGED,2021-06-14 07:45:03.000000000,2021-06-15 23:07:28.000000000,2021-06-15 23:07:28.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 07:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/97f9a0bbce12c4640e597d018ed3bdfa742e3cc1', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I35b86a599d9e947648cad38904d54a8f998696e1\n""}, {'number': 2, 'created': '2021-06-15 10:59:45.000000000', 'files': ['manifests/params.pp', 'spec/classes/zaqar_client_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/0cfbe2484cd5ce4b2b0933a18e78bfa1b46d6679', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I35b86a599d9e947648cad38904d54a8f998696e1\n""}]",3,796239,0cfbe2484cd5ce4b2b0933a18e78bfa1b46d6679,17,3,2,6476,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: I35b86a599d9e947648cad38904d54a8f998696e1
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/39/796239/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/params.pp', 'spec/classes/zaqar_client_spec.rb']",2,97f9a0bbce12c4640e597d018ed3bdfa742e3cc1,pyvers-removal, { :client_package_name => 'python3-zaqarclient' }, if facts[:operatingsystem] == 'Fedora' { :client_package_name => 'python3-zaqarclient' } else if facts[:operatingsystemmajrelease] > '7' { :client_package_name => 'python3-zaqarclient' } else { :client_package_name => 'python-zaqarclient' } end end,3,12
openstack%2Fdevstack~stable%2Fussuri~Ie166730843f874b9c99e37244e460d7ad33b7eeb,openstack/devstack,stable/ussuri,Ie166730843f874b9c99e37244e460d7ad33b7eeb,Move verify-ipv6-only-deployments,MERGED,2021-06-10 07:37:39.000000000,2021-06-15 22:55:08.000000000,2021-06-15 22:54:00.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-06-10 07:37:39.000000000', 'files': ['tools/verify-ipv6-only-deployments.sh', 'roles/devstack-ipv6-only-deployments-verification/tasks/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/defaults/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/README.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/775b1b8d2a6560b9cc2435ca3bbecd7421838d10', 'message': 'Move verify-ipv6-only-deployments\n\nfrom Tempest to DevStack as it tests DevStack side of things and\nis useful for projects not using Tempest.\n\nVerbatim copy except for the devstack- prefix and the /devstack/\npath.\n\nChange-Id: Ie166730843f874b9c99e37244e460d7ad33b7eeb\n(cherry picked from commit 2fb8c7a5eea6f9321eef36fb9b8fd8e55465c91e)\n'}]",0,795620,775b1b8d2a6560b9cc2435ca3bbecd7421838d10,10,3,1,30491,,,0,"Move verify-ipv6-only-deployments

from Tempest to DevStack as it tests DevStack side of things and
is useful for projects not using Tempest.

Verbatim copy except for the devstack- prefix and the /devstack/
path.

Change-Id: Ie166730843f874b9c99e37244e460d7ad33b7eeb
(cherry picked from commit 2fb8c7a5eea6f9321eef36fb9b8fd8e55465c91e)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/20/795620/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/verify-ipv6-only-deployments.sh', 'roles/devstack-ipv6-only-deployments-verification/tasks/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/defaults/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/README.rst']",4,775b1b8d2a6560b9cc2435ca3bbecd7421838d10,move-verify-ipv6-only-deployments,Verify the IPv6-only deployments This role needs to be invoked from a playbook that run tests. This role verifies the IPv6 setting on devstack side and devstack deploy services on IPv6. This role is invoked before tests are run so that if any missing IPv6 setting or deployments can fail the job early. **Role Variables** .. zuul:rolevar:: devstack_base_dir :default: /opt/stack The devstack base directory. ,,113,0
openstack%2Ftempest~master~Ide7f2f86ae6648c4ef11f5f23e4ec21dcc9cbf2d,openstack/tempest,master,Ide7f2f86ae6648c4ef11f5f23e4ec21dcc9cbf2d,[DNM] Check devstack-gate patch,ABANDONED,2016-09-21 12:05:34.000000000,2021-06-15 22:30:43.000000000,,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2016-09-21 12:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2f9a84ec86aa5a65a1eb9fac5cb72e82b8ca11b7', 'message': '[DNM] Check devstack-gate patch\n\nChange-Id: Ide7f2f86ae6648c4ef11f5f23e4ec21dcc9cbf2d\nDepends-On: I11bd08942d4690454b5f0eff3b5ca184c774e0f9\n'}, {'number': 2, 'created': '2016-10-07 06:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c580bfa42eff32d77aab8e3e8df06e01e23503c9', 'message': '[DNM] Check devstack-gate patch\n\nChange-Id: Ide7f2f86ae6648c4ef11f5f23e4ec21dcc9cbf2d\nDepends-On: I11bd08942d4690454b5f0eff3b5ca184c774e0f9\n'}, {'number': 3, 'created': '2017-09-13 05:47:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3da558ae38cc86af02fb1ee1e4d839b9d8e4b437', 'message': '[DNM] Check devstack-gate patch\n\nChange-Id: Ide7f2f86ae6648c4ef11f5f23e4ec21dcc9cbf2d\nDepends-On: I11bd08942d4690454b5f0eff3b5ca184c774e0f9\n'}]",0,374091,3da558ae38cc86af02fb1ee1e4d839b9d8e4b437,40,4,3,5689,,,0,"[DNM] Check devstack-gate patch

Change-Id: Ide7f2f86ae6648c4ef11f5f23e4ec21dcc9cbf2d
Depends-On: I11bd08942d4690454b5f0eff3b5ca184c774e0f9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/91/374091/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2f9a84ec86aa5a65a1eb9fac5cb72e82b8ca11b7,dnm,# DNM THIS,,1,0
openstack%2Fdesignate-tempest-plugin~master~I2a83c7c2c276be6c0d4fac82e0beaa157362dca0,openstack/designate-tempest-plugin,master,I2a83c7c2c276be6c0d4fac82e0beaa157362dca0,Fixed multiple leaking tests,MERGED,2021-06-15 06:02:41.000000000,2021-06-15 22:20:36.000000000,2021-06-15 22:19:24.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 06:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/e93c7b8c81b59fbb70258ae8590f00835ca0df6b', 'message': 'Fixed multiple leaking tests\n\nChange-Id: I2a83c7c2c276be6c0d4fac82e0beaa157362dca0\n'}, {'number': 2, 'created': '2021-06-15 07:35:10.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_ptrs.py', 'designate_tempest_plugin/tests/api/v2/test_transfer_accepts.py', 'designate_tempest_plugin/tests/api/v2/test_zones_imports.py', 'designate_tempest_plugin/tests/api/v2/test_zone_tasks.py', 'designate_tempest_plugin/tests/api/v2/test_recordset.py', 'designate_tempest_plugin/tests/api/v2/test_tld.py', 'designate_tempest_plugin/tests/base.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/e8ba5cc266986dc3fdc64c34c049fb8b60956e5f', 'message': 'Fixed multiple leaking tests\n\n- Fixed multiple issues with cleanups.\n- Fixed tld never being removed.\n- Added some additional waiters.\n\nChange-Id: I2a83c7c2c276be6c0d4fac82e0beaa157362dca0\n'}]",0,796375,e8ba5cc266986dc3fdc64c34c049fb8b60956e5f,18,3,2,22623,,,0,"Fixed multiple leaking tests

- Fixed multiple issues with cleanups.
- Fixed tld never being removed.
- Added some additional waiters.

Change-Id: I2a83c7c2c276be6c0d4fac82e0beaa157362dca0
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/75/796375/2 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/api/v2/test_ptrs.py', 'designate_tempest_plugin/tests/api/v2/test_transfer_accepts.py', 'designate_tempest_plugin/tests/api/v2/test_zone_tasks.py', 'designate_tempest_plugin/tests/api/v2/test_recordset.py', 'designate_tempest_plugin/tests/api/v2/test_tld.py', 'designate_tempest_plugin/tests/base.py']",6,e93c7b8c81b59fbb70258ae8590f00835ca0df6b,," self._delete_zone(zone_client, zone_id, **kwargs) def _delete_zone(self, zone_client, zone_id, **kwargs): return utils.call_and_ignore_notfound_exc(zone_client.delete_zone, zone_id, **kwargs) "," zone_client.delete_zone(zone_id, **kwargs)",47,18
openstack%2Fopenstack-ansible-os_tempest~master~Ib6c2dfc41ac48c3ca6822d6298e1cc55f5c28fbe,openstack/openstack-ansible-os_tempest,master,Ib6c2dfc41ac48c3ca6822d6298e1cc55f5c28fbe,Generate list of failing tests,MERGED,2021-06-08 09:44:17.000000000,2021-06-15 22:01:32.000000000,2021-06-15 22:00:04.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-06-08 09:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/eefa67814c353c101f9065fbd7a57b2587b75da8', 'message': ""Generate list of failing tests\n\nAdd a file containing the list of failing tests is important to send\nthese to logstash and make it easy for people identify how often a\nparticular test is failing in a particular job.\nThis should not impact the time of the job or the size of the file, once\nit's a small and very quickly command to run\n\nChange-Id: Ib6c2dfc41ac48c3ca6822d6298e1cc55f5c28fbe\n""}, {'number': 2, 'created': '2021-06-15 11:07:07.000000000', 'files': ['tasks/tempest_run.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/472ec21a9163c81cee9ad73e189c58a60d943a11', 'message': ""Generate list of failing tests\n\nAdd a file containing the list of failing tests is important to send\nthese to logstash and make it easy for people identify how often a\nparticular test is failing in a particular job.\nThis should not impact the time of the job or the size of the file, once\nit's a small and very quickly command to run\n\nChange-Id: Ib6c2dfc41ac48c3ca6822d6298e1cc55f5c28fbe\n""}]",1,795264,472ec21a9163c81cee9ad73e189c58a60d943a11,17,6,2,8367,,,0,"Generate list of failing tests

Add a file containing the list of failing tests is important to send
these to logstash and make it easy for people identify how often a
particular test is failing in a particular job.
This should not impact the time of the job or the size of the file, once
it's a small and very quickly command to run

Change-Id: Ib6c2dfc41ac48c3ca6822d6298e1cc55f5c28fbe
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/64/795264/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempest_run.yml'],1,eefa67814c353c101f9065fbd7a57b2587b75da8,failing-tempest," - name: Create tempest failing tests file shell: | set -e if [ -d {{ tempest_venv_bin }} ]; then . {{ tempest_venv_bin }}/activate fi {{ stestr_executable }} failing --list > {{ tempest_log_dir }}/failing_tests.log args: chdir: ""{{ tempest_workspace }}"" executable: /bin/bash failed_when: false changed_when: false tags: # don't trigger ANSIBLE0013 - skip_ansible_lint ",,17,0
openstack%2Ftripleo-ansible~master~I00c7ec42b146069854f27aa02f5797e2bf8086a6,openstack/tripleo-ansible,master,I00c7ec42b146069854f27aa02f5797e2bf8086a6,tipleo_network_config ensure os-net-config present,ABANDONED,2021-06-06 19:14:52.000000000,2021-06-15 22:01:13.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-06 19:14:52.000000000', 'files': ['tripleo_ansible/roles/tripleo_network_config/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/58b52ba4c2636fdb91d7f21a2442d340e78577b3', 'message': 'tipleo_network_config ensure os-net-config present\n\nAdd a task to install the os-net-config package if\nnot present.\n\nThis is useful for pre-deployed nodes that may not\nhave the package installed.\n\nChange-Id: I00c7ec42b146069854f27aa02f5797e2bf8086a6\n'}]",0,795001,58b52ba4c2636fdb91d7f21a2442d340e78577b3,6,3,1,24245,,,0,"tipleo_network_config ensure os-net-config present

Add a task to install the os-net-config package if
not present.

This is useful for pre-deployed nodes that may not
have the package installed.

Change-Id: I00c7ec42b146069854f27aa02f5797e2bf8086a6
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/01/795001/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_network_config/tasks/main.yml'],1,58b52ba4c2636fdb91d7f21a2442d340e78577b3,network-data-v2,- name: Ensure os-net-config is installed become: true dnf: name: os-net-config state: present ,,6,0
openstack%2Ftripleo-heat-templates~master~Ifdb1dec4e9149c7e3e3df72020adad8a7a5f6032,openstack/tripleo-heat-templates,master,Ifdb1dec4e9149c7e3e3df72020adad8a7a5f6032,Add map merge strategy for {{role.name}}Parameters,MERGED,2021-06-12 14:57:20.000000000,2021-06-15 21:59:36.000000000,2021-06-15 21:59:36.000000000,"[{'_account_id': 7353}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-12 14:57:20.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1eea4ca2eb478f39e4a01f69f34e8ec38ef1ca02', 'message': 'Add map merge strategy for {{role.name}}Parameters\n\nThis would allow role specific parameters to be defined\nin multiple environment files and would be merged. It\nwould throw an error if the merge strategy is not defined\nin an environment file.\n\nCloses-Bug: #1913701\nChange-Id: Ifdb1dec4e9149c7e3e3df72020adad8a7a5f6032\n'}]",0,796136,1eea4ca2eb478f39e4a01f69f34e8ec38ef1ca02,12,5,1,8833,,,0,"Add map merge strategy for {{role.name}}Parameters

This would allow role specific parameters to be defined
in multiple environment files and would be merged. It
would throw an error if the merge strategy is not defined
in an environment file.

Closes-Bug: #1913701
Change-Id: Ifdb1dec4e9149c7e3e3df72020adad8a7a5f6032
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/796136/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-resource-registry-puppet.j2.yaml'],1,1eea4ca2eb478f39e4a01f69f34e8ec38ef1ca02,server_side_merging,{% for role in roles %} {{role.name}}Parameters: merge {% endfor %} {{role.name}}Parameters: {},,4,0
openstack%2Ftripleo-heat-templates~master~Ic0af64bfd2f16e6a54d09e525499276d9c330a27,openstack/tripleo-heat-templates,master,Ic0af64bfd2f16e6a54d09e525499276d9c330a27,Add service defined ansible_group_vars to RoleGroupVars,MERGED,2021-06-12 14:57:20.000000000,2021-06-15 21:49:54.000000000,2021-06-15 21:49:54.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-12 14:57:20.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a3814c08d8afc2f1f59b89a095e4b008dbb3c71d', 'message': 'Add service defined ansible_group_vars to RoleGroupVars\n\nThis would allow us not to merge them manually when doing\nconfig-download.\n\nChange-Id: Ic0af64bfd2f16e6a54d09e525499276d9c330a27\n'}]",0,796135,a3814c08d8afc2f1f59b89a095e4b008dbb3c71d,9,5,1,8833,,,0,"Add service defined ansible_group_vars to RoleGroupVars

This would allow us not to merge them manually when doing
config-download.

Change-Id: Ic0af64bfd2f16e6a54d09e525499276d9c330a27
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/796135/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,a3814c08d8afc2f1f59b89a095e4b008dbb3c71d,server_side_merging," - {get_attr: [{{role.name}}ServiceChainRoleData, value, ansible_group_vars]}",,1,0
openstack%2Fdevstack~stable%2Fwallaby~Ie166730843f874b9c99e37244e460d7ad33b7eeb,openstack/devstack,stable/wallaby,Ie166730843f874b9c99e37244e460d7ad33b7eeb,Move verify-ipv6-only-deployments,MERGED,2021-06-10 07:36:25.000000000,2021-06-15 21:49:38.000000000,2021-06-15 21:48:21.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-06-10 07:36:25.000000000', 'files': ['tools/verify-ipv6-only-deployments.sh', 'roles/devstack-ipv6-only-deployments-verification/tasks/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/defaults/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/README.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/eeba227b620d2ef8b79e4b775ccc2521634a802e', 'message': 'Move verify-ipv6-only-deployments\n\nfrom Tempest to DevStack as it tests DevStack side of things and\nis useful for projects not using Tempest.\n\nVerbatim copy except for the devstack- prefix and the /devstack/\npath.\n\nChange-Id: Ie166730843f874b9c99e37244e460d7ad33b7eeb\n(cherry picked from commit 2fb8c7a5eea6f9321eef36fb9b8fd8e55465c91e)\n'}]",0,795618,eeba227b620d2ef8b79e4b775ccc2521634a802e,10,3,1,30491,,,0,"Move verify-ipv6-only-deployments

from Tempest to DevStack as it tests DevStack side of things and
is useful for projects not using Tempest.

Verbatim copy except for the devstack- prefix and the /devstack/
path.

Change-Id: Ie166730843f874b9c99e37244e460d7ad33b7eeb
(cherry picked from commit 2fb8c7a5eea6f9321eef36fb9b8fd8e55465c91e)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/18/795618/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/verify-ipv6-only-deployments.sh', 'roles/devstack-ipv6-only-deployments-verification/tasks/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/defaults/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/README.rst']",4,eeba227b620d2ef8b79e4b775ccc2521634a802e,move-verify-ipv6-only-deployments,Verify the IPv6-only deployments This role needs to be invoked from a playbook that run tests. This role verifies the IPv6 setting on devstack side and devstack deploy services on IPv6. This role is invoked before tests are run so that if any missing IPv6 setting or deployments can fail the job early. **Role Variables** .. zuul:rolevar:: devstack_base_dir :default: /opt/stack The devstack base directory. ,,113,0
openstack%2Fnova~master~Ib5456a8b02fe69592a6cc59ee77ea32386ce17a5,openstack/nova,master,Ib5456a8b02fe69592a6cc59ee77ea32386ce17a5,Remove references to 'inst_type',MERGED,2021-03-03 18:54:57.000000000,2021-06-15 21:48:58.000000000,2021-06-15 21:47:10.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 18:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c66201ca84fc9ac308d6eb8493394a5a395777f6', 'message': ""Remove references to 'inst_type'\n\nThis is significantly shorter since we're mostly dealing with local\nvariables.\n\nChange-Id: Ib5456a8b02fe69592a6cc59ee77ea32386ce17a5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-03-04 11:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bb61563fded6687d1276f8839602c4db5de21c8', 'message': ""Remove references to 'inst_type'\n\nThis is significantly shorter since we're mostly dealing with local\nvariables.\n\nChange-Id: Ib5456a8b02fe69592a6cc59ee77ea32386ce17a5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-03-29 14:46:44.000000000', 'files': ['nova/tests/unit/db/fakes.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/vif.py', 'nova/tests/unit/api/openstack/compute/test_simple_tenant_usage.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/libvirt/designer.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/test_flavors.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/unit/compute/test_api.py', 'nova/tests/unit/api/openstack/compute/test_flavors.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0ac74f4e0058ba945c466da1c70532cf0e40ecfc', 'message': ""Remove references to 'inst_type'\n\nThis is significantly shorter since we're mostly dealing with local\nvariables.\n\nChange-Id: Ib5456a8b02fe69592a6cc59ee77ea32386ce17a5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,778548,0ac74f4e0058ba945c466da1c70532cf0e40ecfc,72,4,3,15334,,,0,"Remove references to 'inst_type'

This is significantly shorter since we're mostly dealing with local
variables.

Change-Id: Ib5456a8b02fe69592a6cc59ee77ea32386ce17a5
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/778548/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/fakes.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/vif.py', 'nova/tests/unit/api/openstack/compute/test_simple_tenant_usage.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/libvirt/designer.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/test_flavors.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/unit/api/openstack/compute/test_flavors.py', 'nova/tests/unit/compute/test_api.py']",11,c66201ca84fc9ac308d6eb8493394a5a395777f6,compute_rpc_6.0," flavor = self._create_flavor() self.compute_api._provision_instances( self.context, flavor, 1, 1, mock.MagicMock(), {}, None, None, None, None, {}, None, fake_keypair, objects.TagList(), None, False) self.compute_api._provision_instances( self.context, flavor, 1, 1, mock.MagicMock(), {}, None, None, None, None, {}, None, None, objects.TagList(), None, False) flavor = self._create_flavor() self.compute_api._provision_instances( ctxt, flavor, None, None, mock.MagicMock(), None, None, [], None, None, None, None, None, objects.TagList(), None, False)"," inst_type = self._create_flavor() self.compute_api._provision_instances(self.context, inst_type, 1, 1, mock.MagicMock(), {}, None, None, None, None, {}, None, fake_keypair, objects.TagList(), None, False) self.compute_api._provision_instances(self.context, inst_type, 1, 1, mock.MagicMock(), {}, None, None, None, None, {}, None, None, objects.TagList(), None, False) inst_type = self._create_flavor() self.compute_api._provision_instances(ctxt, inst_type, None, None, mock.MagicMock(), None, None, [], None, None, None, None, None, objects.TagList(), None, False)",186,201
openstack%2Fproject-config~master~I361059c6b62ea240b6fef5a61d254959622199d7,openstack/project-config,master,I361059c6b62ea240b6fef5a61d254959622199d7,infra-package-needs: stub ntp for Fedora,MERGED,2021-06-15 09:45:11.000000000,2021-06-15 21:45:53.000000000,2021-06-15 21:34:03.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 09:45:11.000000000', 'files': ['nodepool/elements/infra-package-needs/pkg-map'], 'web_link': 'https://opendev.org/openstack/project-config/commit/20d69256ffa1bccedaebace7e1fc5f09b963b46b', 'message': ""infra-package-needs: stub ntp for Fedora\n\nntp/ntpdate isn't a package on Fedora any more [1].  Make this like\ncentos 8 above and install chrony for time services.\n\n[1] https://fedoraproject.org/wiki/Changes/NtpReplacement\n\nChange-Id: I361059c6b62ea240b6fef5a61d254959622199d7\n""}]",0,796414,20d69256ffa1bccedaebace7e1fc5f09b963b46b,7,2,1,7118,,,0,"infra-package-needs: stub ntp for Fedora

ntp/ntpdate isn't a package on Fedora any more [1].  Make this like
centos 8 above and install chrony for time services.

[1] https://fedoraproject.org/wiki/Changes/NtpReplacement

Change-Id: I361059c6b62ea240b6fef5a61d254959622199d7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/14/796414/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/infra-package-needs/pkg-map'],1,20d69256ffa1bccedaebace7e1fc5f09b963b46b,ntpdate," ""ntp"": ""chrony"", ""ntpdate"": """",",,2,0
openstack%2Ftripleo-heat-templates~master~I90932c2445eda2cd0d6e661b561ce86a87dcdec2,openstack/tripleo-heat-templates,master,I90932c2445eda2cd0d6e661b561ce86a87dcdec2,Add OVNAvailabilityZone to improve UX,MERGED,2021-04-13 08:49:48.000000000,2021-06-15 21:45:09.000000000,2021-06-15 21:43:35.000000000,"[{'_account_id': 6681}, {'_account_id': 6773}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-04-13 08:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73a2bc70ed6fb092a293ef06ebc1ac4a213c1108', 'message': 'Add OVNAvailabilityZone to improve UX\n\nCurrently to set az for ovn, user need to set\nOVNCMSOptions with value:\n""enable-chassis-as-gw,availability-zones=az-0:az-1:az-2"",\nwhich is not very good ux.\nAdding new param OVNAvailabilityZone will improve ux\nand improve configuration redabilities\n\nCloses-Bug: #1923585\nChange-Id: I90932c2445eda2cd0d6e661b561ce86a87dcdec2\n'}, {'number': 2, 'created': '2021-05-06 13:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b904e7622bf1acdff2e8eb22908e2f1e0606618', 'message': 'Add OVNAvailabilityZone to improve UX\n\nCurrently to set az for ovn, user need to set\nOVNCMSOptions with value:\n""enable-chassis-as-gw,availability-zones=az-0:az-1:az-2"",\nwhich is not very good ux.\nAdding new param OVNAvailabilityZone will improve ux\nand improve configuration redabilities\n\nCloses-Bug: #1923585\nChange-Id: I90932c2445eda2cd0d6e661b561ce86a87dcdec2\n'}, {'number': 3, 'created': '2021-06-14 16:08:47.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml', 'releasenotes/notes/OVNAvailabilityZone-bc3d44a7e11d83e5.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ddef85c91b8fb981689c34177a67b6b9a42797b', 'message': 'Add OVNAvailabilityZone to improve UX\n\nCurrently to set az for ovn, user need to set\nOVNCMSOptions with value:\n""enable-chassis-as-gw,availability-zones=az-0:az-1:az-2"",\nwhich is not very good ux.\nAdding new param OVNAvailabilityZone will improve ux\nand improve configuration redabilities\n\nCloses-Bug: #1923585\nChange-Id: I90932c2445eda2cd0d6e661b561ce86a87dcdec2\n'}]",0,786020,1ddef85c91b8fb981689c34177a67b6b9a42797b,20,8,3,11082,,,0,"Add OVNAvailabilityZone to improve UX

Currently to set az for ovn, user need to set
OVNCMSOptions with value:
""enable-chassis-as-gw,availability-zones=az-0:az-1:az-2"",
which is not very good ux.
Adding new param OVNAvailabilityZone will improve ux
and improve configuration redabilities

Closes-Bug: #1923585
Change-Id: I90932c2445eda2cd0d6e661b561ce86a87dcdec2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/786020/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ovn/ovn-controller-container-puppet.yaml', 'releasenotes/notes/OVNAvailabilityZone-bc3d44a7e11d83e5.yaml']",2,73a2bc70ed6fb092a293ef06ebc1ac4a213c1108,change-786020-2,--- features: - | Added new heat role specific param OVNAvailabilityZone to set availability-zones for ovn. This param replace seting availability-zones throught OVNCMSOptions,,22,1
openstack%2Ftripleo-quickstart-extras~master~Ia677d4d84a70c2e4944656d5fd4688384e5a72a1,openstack/tripleo-quickstart-extras,master,Ia677d4d84a70c2e4944656d5fd4688384e5a72a1,Include component repo in image builds,MERGED,2021-06-10 15:39:22.000000000,2021-06-15 20:31:50.000000000,2021-06-15 20:31:50.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-10 15:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/888cd67e00d13ba84495c8bc95d1ae2ac1385f61', 'message': 'Include component repo in image builds\n\nWhen building images in OVB component jobs,\nthe componet delorean repo is disabled.\nInclude the component-ci-testing repo in the\nimage repo build path where it is available.\n\nChange-Id: Ia677d4d84a70c2e4944656d5fd4688384e5a72a1\n'}, {'number': 2, 'created': '2021-06-10 18:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6bebb912761fcd26b29380ab5edd2b9806c3652a', 'message': 'Include component repo in image builds\n\nWhen building images in OVB component jobs,\nthe componet delorean repo is disabled.\nInclude the component-ci-testing repo in the\nimage repo build path where it is available.\n\nChange-Id: Ia677d4d84a70c2e4944656d5fd4688384e5a72a1\n'}, {'number': 3, 'created': '2021-06-11 12:00:21.000000000', 'files': ['roles/build-images/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/be3d8f68dcc324896cfeb4c4a1eaba5b1dae36f0', 'message': 'Include component repo in image builds\n\nWhen building images in OVB component jobs,\nthe componet delorean repo is disabled.\nInclude the component-ci-testing repo in the\nimage repo build path where it is available.\n\nChange-Id: Ia677d4d84a70c2e4944656d5fd4688384e5a72a1\n'}]",3,795838,be3d8f68dcc324896cfeb4c4a1eaba5b1dae36f0,30,7,3,9976,,,0,"Include component repo in image builds

When building images in OVB component jobs,
the componet delorean repo is disabled.
Include the component-ci-testing repo in the
image repo build path where it is available.

Change-Id: Ia677d4d84a70c2e4944656d5fd4688384e5a72a1
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/38/795838/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-images/defaults/main.yml'],1,888cd67e00d13ba84495c8bc95d1ae2ac1385f61,add-component-image-build," - ""/etc/yum.repos.d/*-component.repo""",,1,0
openstack%2Fkolla~stable%2Fvictoria~Iefcdd3100b7e3c5320bc5f1286a18251bdeab885,openstack/kolla,stable/victoria,Iefcdd3100b7e3c5320bc5f1286a18251bdeab885,Pin td-agent to 4.0.* to fix missing logs,MERGED,2021-06-15 14:31:33.000000000,2021-06-15 20:16:19.000000000,2021-06-15 17:14:01.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-15 14:31:33.000000000', 'files': ['docker/base/apt_preferences.ubuntu', 'docker/fluentd/Dockerfile.j2', 'releasenotes/notes/bug-1930867.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d52bb8e7b94e532a3b8c7e9c5ce4560a8824a26d', 'message': ""Pin td-agent to 4.0.* to fix missing logs\n\nThe recent inclusion of Fluentd 1.12.x in Centos/Ubuntu packages\ncauses a significant number of logs to fail to appear in the\nElasticsearch or Monasca output plugins. The logs appear to\nsit in a local buffer, and are only flushed when Fluentd is\nrestarted. The same issue persists in the most recent release\n(1.13.0), so for now we pin the td-agent package to 4.0.* which\nshould restrict Fluentd to the 1.11.x release where we don't\nsee this issue.\n\nBackport to Victoria.\n\nChange-Id: Iefcdd3100b7e3c5320bc5f1286a18251bdeab885\nCloses-Bug: #1930867\n(cherry picked from commit 6d0882ef799bb531d007c3e6839ef318fd512d5c)\n""}]",0,796439,d52bb8e7b94e532a3b8c7e9c5ce4560a8824a26d,9,4,1,30491,,,0,"Pin td-agent to 4.0.* to fix missing logs

The recent inclusion of Fluentd 1.12.x in Centos/Ubuntu packages
causes a significant number of logs to fail to appear in the
Elasticsearch or Monasca output plugins. The logs appear to
sit in a local buffer, and are only flushed when Fluentd is
restarted. The same issue persists in the most recent release
(1.13.0), so for now we pin the td-agent package to 4.0.* which
should restrict Fluentd to the 1.11.x release where we don't
see this issue.

Backport to Victoria.

Change-Id: Iefcdd3100b7e3c5320bc5f1286a18251bdeab885
Closes-Bug: #1930867
(cherry picked from commit 6d0882ef799bb531d007c3e6839ef318fd512d5c)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/39/796439/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/apt_preferences.ubuntu', 'docker/fluentd/Dockerfile.j2', 'releasenotes/notes/bug-1930867.yaml']",3,d52bb8e7b94e532a3b8c7e9c5ce4560a8824a26d,,--- fixes: - | Fixes an issue with logs going missing in the Fluentd pipeline by pinning td-agent to 4.0.*. `LP#1930867 <https://launchpad.net/bugs/1930867>`__ ,,13,1
openstack%2Fopenstack-tempest-skiplist~master~I7b6acb0e8bc0bc04e1562ad6d8a5a6c70c5ea02b,openstack/openstack-tempest-skiplist,master,I7b6acb0e8bc0bc04e1562ad6d8a5a6c70c5ea02b,add wallaby to negvolumetest skip,MERGED,2021-06-15 18:20:46.000000000,2021-06-15 19:58:20.000000000,2021-06-15 19:57:04.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 18:20:46.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/24fabfc70dfe9124f7b33c5ed22662679ef80cd9', 'message': 'add wallaby to negvolumetest skip\n\nRelated-Bug: #1927101\nChange-Id: I7b6acb0e8bc0bc04e1562ad6d8a5a6c70c5ea02b\n'}]",0,796530,24fabfc70dfe9124f7b33c5ed22662679ef80cd9,8,3,1,9592,,,0,"add wallaby to negvolumetest skip

Related-Bug: #1927101
Change-Id: I7b6acb0e8bc0bc04e1562ad6d8a5a6c70c5ea02b
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/30/796530/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,24fabfc70dfe9124f7b33c5ed22662679ef80cd9,, - name: wallaby reason: Failing in volume tests lp: https://bugs.launchpad.net/tripleo/+bug/1927101 - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset001-wallaby,,4,0
openstack%2Fkolla~stable%2Fwallaby~Iefcdd3100b7e3c5320bc5f1286a18251bdeab885,openstack/kolla,stable/wallaby,Iefcdd3100b7e3c5320bc5f1286a18251bdeab885,Pin td-agent to 4.0.* to fix missing logs,MERGED,2021-06-15 14:29:32.000000000,2021-06-15 19:38:25.000000000,2021-06-15 17:23:48.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-15 14:29:32.000000000', 'files': ['docker/base/apt_preferences.ubuntu', 'docker/fluentd/Dockerfile.j2', 'releasenotes/notes/bug-1930867.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/11d63e07c5168d9479f3fb542566c1fc6e4af9a3', 'message': ""Pin td-agent to 4.0.* to fix missing logs\n\nThe recent inclusion of Fluentd 1.12.x in Centos/Ubuntu packages\ncauses a significant number of logs to fail to appear in the\nElasticsearch or Monasca output plugins. The logs appear to\nsit in a local buffer, and are only flushed when Fluentd is\nrestarted. The same issue persists in the most recent release\n(1.13.0), so for now we pin the td-agent package to 4.0.* which\nshould restrict Fluentd to the 1.11.x release where we don't\nsee this issue.\n\nBackport to Victoria.\n\nChange-Id: Iefcdd3100b7e3c5320bc5f1286a18251bdeab885\nCloses-Bug: #1930867\n(cherry picked from commit 6d0882ef799bb531d007c3e6839ef318fd512d5c)\n""}]",0,796438,11d63e07c5168d9479f3fb542566c1fc6e4af9a3,9,4,1,30491,,,0,"Pin td-agent to 4.0.* to fix missing logs

The recent inclusion of Fluentd 1.12.x in Centos/Ubuntu packages
causes a significant number of logs to fail to appear in the
Elasticsearch or Monasca output plugins. The logs appear to
sit in a local buffer, and are only flushed when Fluentd is
restarted. The same issue persists in the most recent release
(1.13.0), so for now we pin the td-agent package to 4.0.* which
should restrict Fluentd to the 1.11.x release where we don't
see this issue.

Backport to Victoria.

Change-Id: Iefcdd3100b7e3c5320bc5f1286a18251bdeab885
Closes-Bug: #1930867
(cherry picked from commit 6d0882ef799bb531d007c3e6839ef318fd512d5c)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/38/796438/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/apt_preferences.ubuntu', 'docker/fluentd/Dockerfile.j2', 'releasenotes/notes/bug-1930867.yaml']",3,11d63e07c5168d9479f3fb542566c1fc6e4af9a3,,--- fixes: - | Fixes an issue with logs going missing in the Fluentd pipeline by pinning td-agent to 4.0.*. `LP#1930867 <https://launchpad.net/bugs/1930867>`__ ,,13,1
openstack%2Fneutron~stable%2Fussuri~I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1,openstack/neutron,stable/ussuri,I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1,Added common config and SR-IOV agent config to sanity check,MERGED,2021-06-11 14:53:49.000000000,2021-06-15 19:00:49.000000000,2021-06-15 18:56:11.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 14:53:49.000000000', 'files': ['neutron/tests/unit/cmd/test_sanity_check.py', 'neutron/cmd/sanity_check.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/69a53de9bcd395276414db8710908c22b6dd32e4', 'message': 'Added common config and SR-IOV agent config to sanity check\n\nAdded common config and SR-IOV agent config parameters to the sanity\ncheck script, to add the following missing configuration parameters:\n- default.notify_nova_on_port_status_changes\n- default.notify_nova_on_port_data_changes\n- sriov_nic.physical_device_mappings\n\nChange-Id: I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1\nCloses-Bug: #1926170\n(cherry picked from commit 28cd6c82e9a0dbf908eb4ece54085a975c2fe5d4)\n'}]",0,796032,69a53de9bcd395276414db8710908c22b6dd32e4,14,3,1,16688,,,0,"Added common config and SR-IOV agent config to sanity check

Added common config and SR-IOV agent config parameters to the sanity
check script, to add the following missing configuration parameters:
- default.notify_nova_on_port_status_changes
- default.notify_nova_on_port_data_changes
- sriov_nic.physical_device_mappings

Change-Id: I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1
Closes-Bug: #1926170
(cherry picked from commit 28cd6c82e9a0dbf908eb4ece54085a975c2fe5d4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/796032/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/cmd/test_sanity_check.py', 'neutron/cmd/sanity_check.py']",2,69a53de9bcd395276414db8710908c22b6dd32e4,bug/1926170,from neutron.conf import common as common_configfrom neutron.conf.plugins.ml2.drivers.mech_sriov import agent_common as \ sriov_conf sriov_conf.register_agent_sriov_nic_opts(cfg.CONF) common_config.register_core_common_config_opts(cfg.CONF),,12,4
openstack%2Fnova~stable%2Fwallaby~I32e6214568bb57f7613ddeba2c2c46da0320fabc,openstack/nova,stable/wallaby,I32e6214568bb57f7613ddeba2c2c46da0320fabc,Error anti-affinity violation on migrations,MERGED,2021-06-02 18:34:46.000000000,2021-06-15 19:00:30.000000000,2021-06-15 18:55:49.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-06-02 18:34:46.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/bug-1821755-7bd03319e34b6b10.yaml', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8b62a4ec9bf617dfb2da046c25a9f76b33516508', 'message': 'Error anti-affinity violation on migrations\n\nError-out the migrations (cold and live) whenever the\nanti-affinity policy is violated. This addresses\nviolations when multiple concurrent migrations are\nrequested.\n\nAdded detection on:\n- prep_resize\n- check_can_live_migration_destination\n- pre_live_migration\n\nThe improved method of detection now locks based on group_id\nand considers other migrations in-progress as well.\n\nCloses-bug: #1821755\nChange-Id: I32e6214568bb57f7613ddeba2c2c46da0320fabc\n(cherry picked from commit 33c8af1f8c46c9c37fcc28fb3409fbd3a78ae39f)\n'}]",0,794328,8b62a4ec9bf617dfb2da046c25a9f76b33516508,73,6,1,14567,,,0,"Error anti-affinity violation on migrations

Error-out the migrations (cold and live) whenever the
anti-affinity policy is violated. This addresses
violations when multiple concurrent migrations are
requested.

Added detection on:
- prep_resize
- check_can_live_migration_destination
- pre_live_migration

The improved method of detection now locks based on group_id
and considers other migrations in-progress as well.

Closes-bug: #1821755
Change-Id: I32e6214568bb57f7613ddeba2c2c46da0320fabc
(cherry picked from commit 33c8af1f8c46c9c37fcc28fb3409fbd3a78ae39f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/794328/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/bug-1821755-7bd03319e34b6b10.yaml', 'nova/compute/manager.py']",3,8b62a4ec9bf617dfb2da046c25a9f76b33516508,bug/1821755," scheduler_hints=None): if CONF.workarounds.disable_group_policy_check_upcall: return if scheduler_hints is not None: # only go through here if scheduler_hints is provided, even if it # is empty. group_hint = scheduler_hints.get('group') if not group_hint: return else: # The RequestSpec stores scheduler_hints as key=list pairs so # we need to check the type on the value and pull the single # entry out. The API request schema validates that # the 'group' hint is a single value. if isinstance(group_hint, list): group_hint = group_hint[0] group = objects.InstanceGroup.get_by_hint(context, group_hint) else: # TODO(ganso): a call to DB can be saved by adding request_spec # to rpcapi payload of live_migration, pre_live_migration and # check_can_live_migrate_destination try: group = objects.InstanceGroup.get_by_instance_uuid( context, instance.uuid) except exception.InstanceGroupNotFound: return @utils.synchronized(group['uuid']) def _do_validation(context, instance, group): if group.policy and 'anti-affinity' == group.policy: # instances on host # instance param is just for logging, the nodename obtained is # not actually related to the instance at all nodename = self._get_nodename(instance) # instances being migrated to host migrations = ( objects.MigrationList.get_in_progress_by_host_and_node( context, self.host, nodename)) migration_vm_uuids = set([mig['instance_uuid'] for mig in migrations]) total_instances = migration_vm_uuids | ins_on_host # refresh group to get updated members within locked block group = objects.InstanceGroup.get_by_uuid(context, group['uuid']) members_on_host = (total_instances & members - set([instance.uuid])) # NOTE(ganso): The check for affinity below does not work and it # can easily be violated because the lock happens in different # compute hosts. # The only fix seems to be a DB lock to perform the check whenever # setting the host field to an instance. _do_validation(context, instance, group) scheduler_hints = self._get_scheduler_hints(filter_properties, request_spec) # Error out if this host cannot accept the new instance due # to anti-affinity. At this point the migration is already # in-progress, so this is the definitive moment to abort due to # the policy violation. Also, exploding here is covered by the # cleanup methods in except block. try: self._validate_instance_group_policy(context, instance, scheduler_hints) except exception.RescheduledException as e: raise exception.InstanceFaultRollback(inner_exception=e) # Error out if this host cannot accept the new instance due # to anti-affinity. This check at this moment is not very accurate, as # multiple requests may be happening concurrently and miss the lock, # but when it works it provides a better user experience by failing # earlier. Also, it should be safe to explode here, error becomes # NoValidHost and instance status remains ACTIVE. try: self._validate_instance_group_policy(ctxt, instance) except exception.RescheduledException as e: msg = (""Failed to validate instance group policy "" ""due to: {}"".format(e)) raise exception.MigrationPreCheckError(reason=msg) # Error out if this host cannot accept the new instance due # to anti-affinity. At this point the migration is already in-progress, # so this is the definitive moment to abort due to the policy # violation. Also, it should be safe to explode here. The instance # status remains ACTIVE, migration status failed. self._validate_instance_group_policy(context, instance) "," scheduler_hints): group_hint = scheduler_hints.get('group') if not group_hint: return # The RequestSpec stores scheduler_hints as key=list pairs so we need # to check the type on the value and pull the single entry out. The # API request schema validates that the 'group' hint is a single value. if isinstance(group_hint, list): group_hint = group_hint[0] @utils.synchronized(group_hint) def _do_validation(context, instance, group_hint): group = objects.InstanceGroup.get_by_hint(context, group_hint) if group.policy and 'anti-affinity' == group.policy: members_on_host = ins_on_host & members - set([instance.uuid]) if not CONF.workarounds.disable_group_policy_check_upcall: _do_validation(context, instance, group_hint)",210,23
openstack%2Ftripleo-common~master~Idca61510ad73554216b964431c8632639413a4f2,openstack/tripleo-common,master,Idca61510ad73554216b964431c8632639413a4f2,Add libcgroup-tools for volume_copy_bps_limit,ABANDONED,2021-06-04 07:37:27.000000000,2021-06-15 18:50:31.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 07:37:27.000000000', 'files': ['container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e959ba557d92bde8dd5000694b4199223a468dfa', 'message': ""Add libcgroup-tools for volume_copy_bps_limit\n\nCinder has an option, volume_copy_bps_limit, which requires cgcreate\ncommand to set blkio limitation. However, cinder-volume container\ndidn't include libcgroup-tools package which provides cgcreate command.\nThis change adds libcgroup-tools for cinder-volume container.\n\nCloses-Bug: #1930830\nChange-Id: Idca61510ad73554216b964431c8632639413a4f2\n""}]",3,794722,e959ba557d92bde8dd5000694b4199223a468dfa,7,3,1,25613,,,0,"Add libcgroup-tools for volume_copy_bps_limit

Cinder has an option, volume_copy_bps_limit, which requires cgcreate
command to set blkio limitation. However, cinder-volume container
didn't include libcgroup-tools package which provides cgcreate command.
This change adds libcgroup-tools for cinder-volume container.

Closes-Bug: #1930830
Change-Id: Idca61510ad73554216b964431c8632639413a4f2
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/22/794722/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml'],1,e959ba557d92bde8dd5000694b4199223a468dfa,bugs/1930830, - libcgroup-tools,,1,0
openstack%2Fneutron~master~Ib50df5f9b7ff7677555096725aa8183190a349f7,openstack/neutron,master,Ib50df5f9b7ff7677555096725aa8183190a349f7,Bump alembic to 1.6.5,ABANDONED,2021-06-09 13:28:49.000000000,2021-06-15 18:49:36.000000000,,[],"[{'number': 1, 'created': '2021-06-09 13:28:49.000000000', 'files': ['requirements.txt', 'neutron/tests/functional/db/test_migrations.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bbe41acaa10f999606cf6c6c1b46b818ba7012f3', 'message': 'Bump alembic to 1.6.5\n\nThis version fixes the issue reported in the related bug. The patch\nthat fixed this issue in alembic is [1].\n\n[1]https://github.com/sqlalchemy/alembic/commit/acc82bff397be712a7e4f5e2069e7bfbf93ff5a9\n\nChange-Id: Ib50df5f9b7ff7677555096725aa8183190a349f7\nCloses-Bug: #1929518\n'}]",0,795539,bbe41acaa10f999606cf6c6c1b46b818ba7012f3,3,0,1,16688,,,0,"Bump alembic to 1.6.5

This version fixes the issue reported in the related bug. The patch
that fixed this issue in alembic is [1].

[1]https://github.com/sqlalchemy/alembic/commit/acc82bff397be712a7e4f5e2069e7bfbf93ff5a9

Change-Id: Ib50df5f9b7ff7677555096725aa8183190a349f7
Closes-Bug: #1929518
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/795539/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'neutron/tests/functional/db/test_migrations.py', 'lower-constraints.txt']",3,bbe41acaa10f999606cf6c6c1b46b818ba7012f3,bug/1929518,alembic==1.6.5,alembic==0.9.6,3,9
openstack%2Fansible-collections-openstack~master~I6e425cad55e7c1c9df44c4f2688c023e5011d2e9,openstack/ansible-collections-openstack,master,I6e425cad55e7c1c9df44c4f2688c023e5011d2e9,Switch identity_group_info module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-15 18:25:46.000000000,2021-06-15 18:25:46.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fe90ab51a576a704c31241e3d4f1201f2799a9f7', 'message': 'Switch identity_group_info module to OpenStackModule\n\nChange-Id: I6e425cad55e7c1c9df44c4f2688c023e5011d2e9\n'}, {'number': 2, 'created': '2021-05-21 07:38:13.000000000', 'files': ['plugins/modules/identity_group_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2c287d754cf04afdc816f314a8a7fbf7f3327a05', 'message': 'Switch identity_group_info module to OpenStackModule\n\nChange-Id: I6e425cad55e7c1c9df44c4f2688c023e5011d2e9\n'}]",0,792431,2c287d754cf04afdc816f314a8a7fbf7f3327a05,20,2,2,27900,,,0,"Switch identity_group_info module to OpenStackModule

Change-Id: I6e425cad55e7c1c9df44c4f2688c023e5011d2e9
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/31/792431/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/identity_group_info.py'],1,fe90ab51a576a704c31241e3d4f1201f2799a9f7,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class IdentityGroupInfoModule(OpenStackModule): argument_spec = dict( def run(self): name = self.params['name'] domain = self.params['domain'] filters = self.params['filters'] dom = self.conn.get_domain(domain)['id'] dom = self.conn.search_domains(filters={'name': domain}) self.fail_json(msg='Domain name or ID does not exist') groups = self.conn.search_groups(name, filters, domain_id=domain) self.exit_json(changed=False, groups=groups) def main(): module = IdentityGroupInfoModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_full_argument_spec, openstack_cloud_from_module def main(): argument_spec = openstack_full_argument_spec( module = AnsibleModule(argument_spec) sdk, opcloud = openstack_cloud_from_module(module) try: name = module.params['name'] domain = module.params['domain'] filters = module.params['filters'] dom = opcloud.get_domain(domain)['id'] dom = opcloud.search_domains(filters={'name': domain}) module.fail_json(msg='Domain name or ID does not exist') groups = opcloud.search_groups(name, filters, domain_id=domain) module.exit_json(changed=False, groups=groups) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",16,19
openstack%2Fansible-collections-openstack~master~I66fcc0bc126563a6652253151e098fab62f9c68f,openstack/ansible-collections-openstack,master,I66fcc0bc126563a6652253151e098fab62f9c68f,Switch port module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-15 18:25:43.000000000,2021-06-15 18:25:43.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/caa8e6591ef5686466b051ba7ceba2dd2cab258d', 'message': 'Switch port module to OpenStackModule\n\nSwitch port module to the general OpenStackModule.\n\nChange-Id: I66fcc0bc126563a6652253151e098fab62f9c68f\n'}, {'number': 2, 'created': '2021-05-21 07:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d332f69e9f9ef3e4bd1e0924b19df575eb117af4', 'message': 'Switch port module to OpenStackModule\n\nSwitch port module to the general OpenStackModule.\n\nChange-Id: I66fcc0bc126563a6652253151e098fab62f9c68f\n'}, {'number': 3, 'created': '2021-05-21 12:02:57.000000000', 'files': ['plugins/modules/port.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f29a8407af9057638be133d96a02e2fc85c955c8', 'message': 'Switch port module to OpenStackModule\n\nSwitch port module to the general OpenStackModule.\n\nChange-Id: I66fcc0bc126563a6652253151e098fab62f9c68f\n'}]",0,792421,f29a8407af9057638be133d96a02e2fc85c955c8,20,2,3,27900,,,0,"Switch port module to OpenStackModule

Switch port module to the general OpenStackModule.

Change-Id: I66fcc0bc126563a6652253151e098fab62f9c68f
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/21/792421/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/port.py'],1,caa8e6591ef5686466b051ba7ceba2dd2cab258d,,"from ansible.module_utils.basic import missing_required_lib from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModuleclass NetworkPortModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( ], supports_check_mode=True def _needs_update(self, port): """"""Check for differences in the updatable values. NOTE: We don't currently allow name updates. """""" compare_simple = ['admin_state_up', 'mac_address', 'device_owner', 'device_id', 'binding:vnic_type', 'port_security_enabled', 'binding:profile'] compare_list_dict = ['allowed_address_pairs', 'extra_dhcp_opts'] compare_list = ['security_groups'] for key in compare_simple: if self.params[key] is not None and self.params[key] != port[key]: return True for key in compare_list: if ( self.params[key] is not None and set(self.params[key]) != set(port[key]) ): return True for key in compare_list_dict: if self.params[key]: if not port[key]: return True # sort dicts in list port_ordered = [OrderedDict(sorted(d.items())) for d in port[key]] param_ordered = [OrderedDict(sorted(d.items())) for d in self.params[key]] for d in param_ordered: if d not in port_ordered: return True for d in port_ordered: if d not in param_ordered: return True # NOTE: if port was created or updated with 'no_security_groups=True', # subsequent updates without 'no_security_groups' flag or # 'no_security_groups=False' and no specified 'security_groups', will not # result in an update to the port where the default security group is # applied. if self.params['no_security_groups'] and port['security_groups'] != []: return True if self.params['fixed_ips'] is not None: for item in self.params['fixed_ips']: if 'ip_address' in item: # if ip_address in request does not match any in existing port, # update is required. if not any(match['ip_address'] == item['ip_address'] for match in port['fixed_ips']): return True if 'subnet_id' in item: return True for item in port['fixed_ips']: # if ip_address in existing port does not match any in request, # update is required. if not any(match.get('ip_address') == item['ip_address'] for match in self.params['fixed_ips']): return True return False def _system_state_change(self, port): state = self.params['state'] if state == 'present': if not port: return True return self._needs_update(port) if state == 'absent' and port: return True return False def _compose_port_args(self): port_kwargs = {} optional_parameters = ['name', 'fixed_ips', 'admin_state_up', 'mac_address', 'security_groups', 'allowed_address_pairs', 'extra_dhcp_opts', 'device_owner', 'device_id', 'binding:vnic_type', 'port_security_enabled', 'binding:profile'] for optional_param in optional_parameters: if self.params[optional_param] is not None: port_kwargs[optional_param] = self.params[optional_param] if self.params['no_security_groups']: port_kwargs['security_groups'] = [] return port_kwargs def get_security_group_id(self, security_group_name_or_id): security_group = self.conn.get_security_group(security_group_name_or_id) if not security_group: self.fail_json(msg=""Security group: %s, was not found"" % security_group_name_or_id) return security_group['id'] def run(self): if not HAS_ORDEREDDICT: self.fail_json(msg=missing_required_lib('ordereddict')) name = self.params['name'] state = self.params['state'] if self.params['security_groups']: self.params['security_groups'] = [ self.get_security_group_id(v) for v in self.params['security_groups'] self.params['binding:vnic_type'] = self.params.pop('vnic_type') self.params['binding:profile'] = self.params.pop('binding_profile') port = self.conn.get_port(name) if self.check_mode: self.exit_json(changed=self._system_state_change(port)) network = self.params['network'] if not network: self.fail_json( port_kwargs = self._compose_port_args() network_object = self.conn.get_network(network) self.fail_json( port = self.conn.create_port(network_id, **port_kwargs) if self._needs_update(port): port_kwargs = self._compose_port_args() port = self.conn.update_port(port['id'], **port_kwargs) self.exit_json(changed=changed, id=port['id'], port=port) self.conn.delete_port(port['id']) self.exit_json(changed=changed) def main(): module = NetworkPortModule() module()","from ansible.module_utils.basic import AnsibleModule, missing_required_lib from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module)def _needs_update(module, port, cloud): """"""Check for differences in the updatable values. NOTE: We don't currently allow name updates. """""" compare_simple = ['admin_state_up', 'mac_address', 'device_owner', 'device_id', 'binding:vnic_type', 'port_security_enabled', 'binding:profile'] compare_list_dict = ['allowed_address_pairs', 'extra_dhcp_opts'] compare_list = ['security_groups'] for key in compare_simple: if module.params[key] is not None and module.params[key] != port[key]: return True for key in compare_list: if ( module.params[key] is not None and set(module.params[key]) != set(port[key]) ): return True for key in compare_list_dict: if module.params[key]: if not port[key]: return True # sort dicts in list port_ordered = [OrderedDict(sorted(d.items())) for d in port[key]] param_ordered = [OrderedDict(sorted(d.items())) for d in module.params[key]] for d in param_ordered: if d not in port_ordered: return True for d in port_ordered: if d not in param_ordered: return True # NOTE: if port was created or updated with 'no_security_groups=True', # subsequent updates without 'no_security_groups' flag or # 'no_security_groups=False' and no specified 'security_groups', will not # result in an update to the port where the default security group is # applied. if module.params['no_security_groups'] and port['security_groups'] != []: return True if module.params['fixed_ips'] is not None: for item in module.params['fixed_ips']: if 'ip_address' in item: # if ip_address in request does not match any in existing port, # update is required. if not any(match['ip_address'] == item['ip_address'] for match in port['fixed_ips']): return True if 'subnet_id' in item: return True for item in port['fixed_ips']: # if ip_address in existing port does not match any in request, # update is required. if not any(match.get('ip_address') == item['ip_address'] for match in module.params['fixed_ips']): return True return False def _system_state_change(module, port, cloud): state = module.params['state'] if state == 'present': if not port: return True return _needs_update(module, port, cloud) if state == 'absent' and port: return True return False def _compose_port_args(module, cloud): port_kwargs = {} optional_parameters = ['name', 'fixed_ips', 'admin_state_up', 'mac_address', 'security_groups', 'allowed_address_pairs', 'extra_dhcp_opts', 'device_owner', 'device_id', 'binding:vnic_type', 'port_security_enabled', 'binding:profile'] for optional_param in optional_parameters: if module.params[optional_param] is not None: port_kwargs[optional_param] = module.params[optional_param] if module.params['no_security_groups']: port_kwargs['security_groups'] = [] return port_kwargs def get_security_group_id(module, cloud, security_group_name_or_id): security_group = cloud.get_security_group(security_group_name_or_id) if not security_group: module.fail_json(msg=""Security group: %s, was not found"" % security_group_name_or_id) return security_group['id'] def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs( ] module = AnsibleModule(argument_spec, supports_check_mode=True, **module_kwargs) if not HAS_ORDEREDDICT: module.fail_json(msg=missing_required_lib('ordereddict')) name = module.params['name'] state = module.params['state'] sdk, cloud = openstack_cloud_from_module(module) try: if module.params['security_groups']: module.params['security_groups'] = [ get_security_group_id(module, cloud, v) for v in module.params['security_groups'] module.params['binding:vnic_type'] = module.params.pop('vnic_type') module.params['binding:profile'] = module.params.pop('binding_profile') port = cloud.get_port(name) if module.check_mode: module.exit_json(changed=_system_state_change(module, port, cloud)) network = module.params['network'] if not network: module.fail_json( port_kwargs = _compose_port_args(module, cloud) network_object = cloud.get_network(network) module.fail_json( port = cloud.create_port(network_id, **port_kwargs) if _needs_update(module, port, cloud): port_kwargs = _compose_port_args(module, cloud) port = cloud.update_port(port['id'], **port_kwargs) module.exit_json(changed=changed, id=port['id'], port=port) cloud.delete_port(port['id']) module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",146,154
openstack%2Frequirements~master~I02561bfd4c003112546a1caa7559b28bdaef7fb7,openstack/requirements,master,I02561bfd4c003112546a1caa7559b28bdaef7fb7,update constraint for python-glanceclient to new release 3.4.0,MERGED,2021-06-15 12:17:22.000000000,2021-06-15 18:17:21.000000000,2021-06-15 18:16:07.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-15 12:17:22.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/37b1dc4c29d859d7dc18dd4923a2d1d5e5f31e38', 'message': 'update constraint for python-glanceclient to new release 3.4.0\n\nmeta: version: 3.4.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Commit: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Change-Id: I19561a49544d1d855d41fe50e09974f6c30267b0\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>\nChange-Id: I02561bfd4c003112546a1caa7559b28bdaef7fb7\n'}]",0,796453,37b1dc4c29d859d7dc18dd4923a2d1d5e5f31e38,9,3,1,11131,,,0,"update constraint for python-glanceclient to new release 3.4.0

meta: version: 3.4.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Stephen Finucane <sfinucan@redhat.com>
meta: release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta: release:Change-Id: I19561a49544d1d855d41fe50e09974f6c30267b0
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>
Change-Id: I02561bfd4c003112546a1caa7559b28bdaef7fb7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/53/796453/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,37b1dc4c29d859d7dc18dd4923a2d1d5e5f31e38,new-release,python-glanceclient===3.4.0,python-glanceclient===3.3.0,1,1
openstack%2Fnetworking-ovn~stable%2Ftrain~I4d57a310d7f22dc7046c521b4187f828fcc546c4,openstack/networking-ovn,stable/train,I4d57a310d7f22dc7046c521b4187f828fcc546c4,[OVN] Simplify connection creation logic,MERGED,2021-05-05 07:53:13.000000000,2021-06-15 18:06:58.000000000,2021-05-20 18:12:11.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 07:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4c45ae52d046c53a68fde567ffd009cf11032bee', 'message': ""[OVN] Simplify connection creation logic\n\nIt's a bit cleaner to have the API classes define their own factory\nmethods instead of having so many if statements in get_connection().\n\n(manually cherry picked from commit cd91e1576836ae0a44cb643f97be321bf7081c65)\n\nChange-Id: I4d57a310d7f22dc7046c521b4187f828fcc546c4\n""}, {'number': 2, 'created': '2021-05-06 22:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2af41ffabe4c422642e428b8040684920609497e', 'message': ""[OVN] Simplify connection creation logic\n\nIt's a bit cleaner to have the API classes define their own factory\nmethods instead of having so many if statements in get_connection().\n\n(manually cherry picked from commit cd91e1576836ae0a44cb643f97be321bf7081c65)\n\nChange-Id: I4d57a310d7f22dc7046c521b4187f828fcc546c4\n""}, {'number': 3, 'created': '2021-05-07 10:33:00.000000000', 'files': ['networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/cmd/neutron_ovn_db_sync_util.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/unit/ovsdb/test_impl_idl_ovn.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py', 'networking_ovn/tests/unit/cmd/test_neutron_ovn_db_sync_util.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/bd14f4fed09fe5a2954589a65c0076d5708fd619', 'message': ""[OVN] Simplify connection creation logic\n\nIt's a bit cleaner to have the API classes define their own factory\nmethods instead of having so many if statements in get_connection().\n\n(manually cherry picked from commit cd91e1576836ae0a44cb643f97be321bf7081c65)\n\nChange-Id: I4d57a310d7f22dc7046c521b4187f828fcc546c4\n""}]",0,789720,bd14f4fed09fe5a2954589a65c0076d5708fd619,28,3,3,32586,,,0,"[OVN] Simplify connection creation logic

It's a bit cleaner to have the API classes define their own factory
methods instead of having so many if statements in get_connection().

(manually cherry picked from commit cd91e1576836ae0a44cb643f97be321bf7081c65)

Change-Id: I4d57a310d7f22dc7046c521b4187f828fcc546c4
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/20/789720/3 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/cmd/neutron_ovn_db_sync_util.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/unit/ovsdb/test_impl_idl_ovn.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py']",5,4c45ae52d046c53a68fde567ffd009cf11032bee,," mock.patch.object(impl_idl_ovn.OvsdbNbOvnIdl, 'from_worker').start()"," mock.patch(""networking_ovn.ovsdb.impl_idl_ovn.get_connection"").start() ",32,33
openstack%2Fnetworking-ovn~stable%2Ftrain~If7e1ac1858eb1803bb8272f221f21597b6f4d21a,openstack/networking-ovn,stable/train,If7e1ac1858eb1803bb8272f221f21597b6f4d21a,"Revert ""add_fake_chassis() may need to create a Chassis_Private""",ABANDONED,2021-06-15 17:50:13.000000000,2021-06-15 18:04:30.000000000,,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 17:50:13.000000000', 'files': ['networking_ovn/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/aac2d6206b4383e9cf9eb8168c1dace87d111d13', 'message': 'Revert ""add_fake_chassis() may need to create a Chassis_Private""\n\nThis reverts commit 626afcd91be5d30a0ebccb2c6844800ac870b129.\n\nReason for revert: This is breaking the OVN Octavia Provider driver\nas it winds-up importing neutron code directly, leading to:\n\n  oslo_config.cfg.DuplicateOptError: duplicate option: host\n\nThis revert in addition to https://review.opendev.org/c/openstack/networking-ovn/+/796448 - don\'t know if both are necessary.\n\nChange-Id: If7e1ac1858eb1803bb8272f221f21597b6f4d21a\n'}]",0,796449,aac2d6206b4383e9cf9eb8168c1dace87d111d13,2,8,1,1131,,,0,"Revert ""add_fake_chassis() may need to create a Chassis_Private""

This reverts commit 626afcd91be5d30a0ebccb2c6844800ac870b129.

Reason for revert: This is breaking the OVN Octavia Provider driver
as it winds-up importing neutron code directly, leading to:

  oslo_config.cfg.DuplicateOptError: duplicate option: host

This revert in addition to https://review.opendev.org/c/openstack/networking-ovn/+/796448 - don't know if both are necessary.

Change-Id: If7e1ac1858eb1803bb8272f221f21597b6f4d21a
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/49/796449/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/functional/base.py'],1,aac2d6206b4383e9cf9eb8168c1dace87d111d13,bug/1914754, self.sb_api.chassis_add(," chassis = self.sb_api.chassis_add( if self.sb_api.is_table_present('Chassis_Private'): self.sb_api.db_create( 'Chassis_Private', name=name, external_ids=external_ids, chassis=chassis.uuid).execute(check_error=True)",1,5
openstack%2Fpuppet-watcher~master~Ic09a5a9b7edbdcea3ce1c4044df8a6819f076ff5,openstack/puppet-watcher,master,Ic09a5a9b7edbdcea3ce1c4044df8a6819f076ff5,Get rid of the $pyvers variable,MERGED,2021-06-14 07:42:41.000000000,2021-06-15 17:57:23.000000000,2021-06-15 17:57:23.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 07:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/409870b2c4e7583a793213bb4f173ad4451da5ee', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: Ic09a5a9b7edbdcea3ce1c4044df8a6819f076ff5\n""}, {'number': 2, 'created': '2021-06-15 10:58:57.000000000', 'files': ['spec/classes/watcher_client_spec.rb', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/e04facd640d3797fb87143b4e10b66b4cb938844', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: Ic09a5a9b7edbdcea3ce1c4044df8a6819f076ff5\n""}]",3,796238,e04facd640d3797fb87143b4e10b66b4cb938844,13,3,2,6476,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: Ic09a5a9b7edbdcea3ce1c4044df8a6819f076ff5
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/38/796238/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/watcher_client_spec.rb', 'manifests/params.pp']",2,409870b2c4e7583a793213bb4f173ad4451da5ee,pyvers-removal, $client_package_name = 'python3-watcherclient' $watcher_wsgi_script_source = '/usr/lib/python3/dist-packages/watcher/api/app.wsgi'," $pyvers = $::openstacklib::defaults::pyvers $client_package_name = ""python${pyvers}-watcherclient"" $watcher_wsgi_script_source = ""/usr/lib/python${pyver3}/dist-packages/watcher/api/app.wsgi""",3,12
openstack%2Frequirements~master~I009c44b59eb2b40f4f6461b337f54820dcc48670,openstack/requirements,master,I009c44b59eb2b40f4f6461b337f54820dcc48670,update constraint for oslo.policy to new release 3.8.1,MERGED,2021-06-15 10:07:41.000000000,2021-06-15 17:57:07.000000000,2021-06-15 17:55:39.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-15 10:07:41.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9fd68e1f2650ad003c2b8749c0ffaefc9cefd85a', 'message': 'update constraint for oslo.policy to new release 3.8.1\n\nmeta: version: 3.8.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I5ba11909a1bc08c7262042df172a13ff5b215199\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I009c44b59eb2b40f4f6461b337f54820dcc48670\n'}]",0,796417,9fd68e1f2650ad003c2b8749c0ffaefc9cefd85a,9,3,1,11131,,,0,"update constraint for oslo.policy to new release 3.8.1

meta: version: 3.8.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: I5ba11909a1bc08c7262042df172a13ff5b215199
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I009c44b59eb2b40f4f6461b337f54820dcc48670
",git fetch https://review.opendev.org/openstack/requirements refs/changes/17/796417/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9fd68e1f2650ad003c2b8749c0ffaefc9cefd85a,new-release,oslo.policy===3.8.1,oslo.policy===3.8.0,1,1
openstack%2Ftripleo-validations~master~Id7d554f8a9e0ab91b8d8935058f9bd21ce4fca86,openstack/tripleo-validations,master,Id7d554f8a9e0ab91b8d8935058f9bd21ce4fca86,fix to make sure DockerInsecureRegistryAddress exists,ABANDONED,2021-05-27 13:42:16.000000000,2021-06-15 17:54:10.000000000,,"[{'_account_id': 8297}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 28223}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-05-27 13:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0b7043e2f973d7e53ab38bb118dbc86d09b16d2d', 'message': ""fix to make sure DockerInsecureRegistryAddress exists\n\nif/when we follow the official Director documentation [1] - we do not see DockerInsecureRegistryAddress (see below)\n\nThe fix is to update the playbook to make sure DockerInsecureRegistryAddress is present\n\n[1] https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.0/html/director_installation_and_usage/preparing-for-director-installation\n\n$ openstack tripleo container image prepare default --local-push-destination --output-env-file containers-prepare-parameter.yaml\n\nparameter_defaults:\n  DockerInsecureRegistryAddress:        <====  NOT FOUND - fix playbook to make sure this paramater exists\n  - 192.168.24.2:8787\n  ContainerImagePrepare:\n  - push_destination: true\n    set:\n      ceph_alertmanager_image: ose-prometheus-alertmanager\n      ceph_alertmanager_namespace: registry.redhat.io/openshift4\n      ceph_alertmanager_tag: 4.1\n      ceph_grafana_image: rhceph-4-dashboard-rhel8\n      ceph_grafana_namespace: registry.redhat.io/rhceph\n      ceph_grafana_tag: 4\n      ceph_image: rhceph-4-rhel8\n      ceph_namespace: registry.redhat.io/rhceph\n      ceph_node_exporter_image: ose-prometheus-node-exporter\n      ceph_node_exporter_namespace: registry.redhat.io/openshift4\n      ceph_node_exporter_tag: v4.1\n      ceph_prometheus_image: ose-prometheus\n      ceph_prometheus_namespace: registry.redhat.io/openshift4\n      ceph_prometheus_tag: 4.1\n      ceph_tag: latest\n      name_prefix: openstack-\n      name_suffix: ''\n      namespace: registry.redhat.io/rhosp-rhel8\n      neutron_driver: ovn\n      rhel_containers: false\n      tag: '16.1'\n    tag_from_label: '{version}-{release}'\nOutput env file exists, moving it to backup.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nResolves: rhbz#1959764\nChange-Id: Id7d554f8a9e0ab91b8d8935058f9bd21ce4fca86\n""}, {'number': 2, 'created': '2021-05-27 14:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2f6340253811cc0dd7acc472881d1a2e9f9c69c7', 'message': 'fix to make sure DockerInsecureRegistryAddress exists\n\nif/when we follow the official Director documentation [1] - we do not see DockerInsecureRegistryAddress (see below)\n\nThe fix is to update the playbook to make sure DockerInsecureRegistryAddress is present\n\n[1] https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.0/html/director_installation_and_usage/preparing-for-director-installation\n\n$ openstack tripleo container image prepare default --local-push-destination --output-env-file containers-prepare-parameter.yaml\n\nparameter_defaults:\n  DockerInsecureRegistryAddress:        <====  NOT FOUND - fix playbook to make sure this paramater exists\n  - 192.168.24.2:8787\n  .\n  .\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nResolves: rhbz#1959764\nChange-Id: Id7d554f8a9e0ab91b8d8935058f9bd21ce4fca86\n'}, {'number': 3, 'created': '2021-05-27 14:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3a711699c8480fc80f045f6fadf5db036e617826', 'message': 'fix to make sure DockerInsecureRegistryAddress exists\n\nif/when we follow the official Director documentation [1] - we do not see DockerInsecureRegistryAddress (see below)\n\n[1] https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.0/html/director_installation_and_usage/preparing-for-director-installation\n\n$ openstack tripleo container image prepare default --local-push-destination --output-env-file containers-prepare-parameter.yaml\n\nparameter_defaults:\n  DockerInsecureRegistryAddress:        <====  NOT FOUND - fix playbook to make sure this paramater exists\n  - 192.168.24.2:8787\n  .\n  .\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nResolves: rhbz#1959764\nChange-Id: Id7d554f8a9e0ab91b8d8935058f9bd21ce4fca86\n'}, {'number': 4, 'created': '2021-05-27 22:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9b5e37e1d7258c18c11430d107ac15e500a6e47b', 'message': 'fix to make sure DockerInsecureRegistryAddress exists\n\nif/when we follow the official Director documentation [1] - we do not see DockerInsecureRegistryAddress (see below)\n\n[1] https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.0/html/director_installation_and_usage/preparing-for-director-installation\n\n$ openstack tripleo container image prepare default --local-push-destination --output-env-file containers-prepare-parameter.yaml\n\nparameter_defaults:\n  DockerInsecureRegistryAddress:        <====  NOT FOUND - fix playbook to make sure this paramater exists\n  - 192.168.24.2:8787\n  .\n  .\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nResolves: rhbz#1959764\nChange-Id: Id7d554f8a9e0ab91b8d8935058f9bd21ce4fca86\n'}, {'number': 5, 'created': '2021-05-31 08:59:19.000000000', 'files': ['roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c37bd68bcd7aa7da9b1f5e5f9e5fd314b18fd5ae', 'message': 'fix to make sure DockerInsecureRegistryAddress exists\n\nif/when we follow the official Director documentation [1] - we do not see DockerInsecureRegistryAddress (see below)\n\n[1] https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.0/html/director_installation_and_usage/preparing-for-director-installation\n\n$ openstack tripleo container image prepare default --local-push-destination --output-env-file containers-prepare-parameter.yaml\n\nparameter_defaults:\n  DockerInsecureRegistryAddress:        <====  NOT FOUND - fix playbook to make sure this paramater exists\n  - 192.168.24.2:8787\n  .\n  .\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nResolves: rhbz#1959764\nChange-Id: Id7d554f8a9e0ab91b8d8935058f9bd21ce4fca86\n'}]",15,793403,c37bd68bcd7aa7da9b1f5e5f9e5fd314b18fd5ae,24,7,5,32432,,,0,"fix to make sure DockerInsecureRegistryAddress exists

if/when we follow the official Director documentation [1] - we do not see DockerInsecureRegistryAddress (see below)

[1] https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.0/html/director_installation_and_usage/preparing-for-director-installation

$ openstack tripleo container image prepare default --local-push-destination --output-env-file containers-prepare-parameter.yaml

parameter_defaults:
  DockerInsecureRegistryAddress:        <====  NOT FOUND - fix playbook to make sure this paramater exists
  - 192.168.24.2:8787
  .
  .

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Resolves: rhbz#1959764
Change-Id: Id7d554f8a9e0ab91b8d8935058f9bd21ce4fca86
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/03/793403/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/check_uc_hostname/tasks/main.yml'],1,0b7043e2f973d7e53ab38bb118dbc86d09b16d2d,fix_check_uc_hostname, - parameter_defaults['DockerInsecureRegistryAddress'] is defined,,1,0
openstack%2Fnetworking-ovn~stable%2Ftrain~Ie9ce03ddaa76a30a6ca226ee4808a3005b441e99,openstack/networking-ovn,stable/train,Ie9ce03ddaa76a30a6ca226ee4808a3005b441e99,add_fake_chassis() may need to create a Chassis_Private,MERGED,2021-04-14 11:16:13.000000000,2021-06-15 17:50:13.000000000,2021-05-20 16:39:48.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-14 11:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8aa7717986e5624cb9d43a3cf75c890e1febdd6f', 'message': ""add_fake_chassis() may need to create a Chassis_Private\n\nIf the Chassis_Private table exists in the schema, add_fake_chassis\nwill need to create it since we aren't running ovn-controller.\n\nCloses-Bug: #1914754\n\nManually cherry-picked from\nhttps://review.opendev.org/c/openstack/neutron/+/774298/1\n\nChange-Id: Ie9ce03ddaa76a30a6ca226ee4808a3005b441e99\n""}, {'number': 2, 'created': '2021-04-14 16:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/385af6fc17a38bf9a03eeba66fa94adbc6dbf6f4', 'message': ""add_fake_chassis() may need to create a Chassis_Private\n\nIf the Chassis_Private table exists in the schema, add_fake_chassis\nwill need to create it since we aren't running ovn-controller.\n\nCloses-Bug: #1914754\n\nManually cherry-picked from\nhttps://review.opendev.org/c/openstack/neutron/+/774298/1\n\nChange-Id: Ie9ce03ddaa76a30a6ca226ee4808a3005b441e99\n""}, {'number': 3, 'created': '2021-05-20 02:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/dff5de8064eae94378b055a9673f9424d908ee6f', 'message': ""add_fake_chassis() may need to create a Chassis_Private\n\nIf the Chassis_Private table exists in the schema, add_fake_chassis\nwill need to create it since we aren't running ovn-controller.\n\nCloses-Bug: #1914754\n\nManually cherry-picked from\nhttps://review.opendev.org/c/openstack/neutron/+/774298/1\n\nChange-Id: Ie9ce03ddaa76a30a6ca226ee4808a3005b441e99\n""}, {'number': 4, 'created': '2021-05-20 10:34:18.000000000', 'files': ['networking_ovn/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/626afcd91be5d30a0ebccb2c6844800ac870b129', 'message': ""add_fake_chassis() may need to create a Chassis_Private\n\nIf the Chassis_Private table exists in the schema, add_fake_chassis\nwill need to create it since we aren't running ovn-controller.\n\nCloses-Bug: #1914754\n\nManually cherry-picked from\nhttps://review.opendev.org/c/openstack/neutron/+/774298/1\n\nChange-Id: Ie9ce03ddaa76a30a6ca226ee4808a3005b441e99\n""}]",0,786206,626afcd91be5d30a0ebccb2c6844800ac870b129,59,8,4,16688,,,0,"add_fake_chassis() may need to create a Chassis_Private

If the Chassis_Private table exists in the schema, add_fake_chassis
will need to create it since we aren't running ovn-controller.

Closes-Bug: #1914754

Manually cherry-picked from
https://review.opendev.org/c/openstack/neutron/+/774298/1

Change-Id: Ie9ce03ddaa76a30a6ca226ee4808a3005b441e99
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/06/786206/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/functional/base.py'],1,8aa7717986e5624cb9d43a3cf75c890e1febdd6f,bug/1914754," chassis = self.sb_api.chassis_add( if self.sb_api.is_table_present('Chassis_Private'): self.sb_api.db_create( 'Chassis_Private', name=name, external_ids=external_ids, chassis=chassis.uuid).execute(check_error=True)", self.sb_api.chassis_add(,5,1
openstack%2Fansible-collections-openstack~master~Idb316136840001e406f76c08d99654d32e14d168,openstack/ansible-collections-openstack,master,Idb316136840001e406f76c08d99654d32e14d168,Switch coe_cluster module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-15 17:25:29.000000000,2021-06-15 17:25:29.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/31fc288620e108155e792e98b55000b37767cba9', 'message': 'Switch coe_cluster module to OpenStackModule\n\nChange-Id: Idb316136840001e406f76c08d99654d32e14d168\n'}, {'number': 2, 'created': '2021-05-21 07:46:15.000000000', 'files': ['plugins/modules/coe_cluster.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7e190d12b43255c5eb084e76bfd45b2ee6f8a8b5', 'message': 'Switch coe_cluster module to OpenStackModule\n\nChange-Id: Idb316136840001e406f76c08d99654d32e14d168\n'}]",0,792446,7e190d12b43255c5eb084e76bfd45b2ee6f8a8b5,19,2,2,27900,,,0,"Switch coe_cluster module to OpenStackModule

Change-Id: Idb316136840001e406f76c08d99654d32e14d168
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/46/792446/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/coe_cluster.py'],1,31fc288620e108155e792e98b55000b37767cba9,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class CoeClusterModule(OpenStackModule): argument_spec = dict( module_kwargs = dict() def _parse_labels(self, labels): if isinstance(labels, str): labels_dict = {} for kv_str in labels.split("",""): k, v = kv_str.split(""="") labels_dict[k] = v return labels_dict if not labels: return {} return labels def run(self): params = self.params.copy() state = self.params['state'] name = self.params['name'] cluster_template_id = self.params['cluster_template_id'] kwargs = dict( discovery_url=self.params['discovery_url'], docker_volume_size=self.params['docker_volume_size'], flavor_id=self.params['flavor_id'], keypair=self.params['keypair'], labels=self._parse_labels(params['labels']), master_count=self.params['master_count'], master_flavor_id=self.params['master_flavor_id'], node_count=self.params['node_count'], create_timeout=self.params['timeout'], ) cluster = self.conn.get_coe_cluster( name_or_id=name, filters={'cluster_template_id': cluster_template_id}) cluster = self.conn.create_coe_cluster( name, cluster_template_id=cluster_template_id, **kwargs) self.exit_json(changed=changed, cluster=cluster, id=cluster_id) self.exit_json(changed=False) else: self.conn.delete_coe_cluster(name) self.exit_json(changed=True) def main(): module = CoeClusterModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def _parse_labels(labels): if isinstance(labels, str): labels_dict = {} for kv_str in labels.split("",""): k, v = kv_str.split(""="") labels_dict[k] = v return labels_dict if not labels: return {} return labels def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, **module_kwargs) params = module.params.copy() state = module.params['state'] name = module.params['name'] cluster_template_id = module.params['cluster_template_id'] kwargs = dict( discovery_url=module.params['discovery_url'], docker_volume_size=module.params['docker_volume_size'], flavor_id=module.params['flavor_id'], keypair=module.params['keypair'], labels=_parse_labels(params['labels']), master_count=module.params['master_count'], master_flavor_id=module.params['master_flavor_id'], node_count=module.params['node_count'], create_timeout=module.params['timeout'], ) sdk, cloud = openstack_cloud_from_module(module) try: cluster = cloud.get_coe_cluster(name_or_id=name, filters={'cluster_template_id': cluster_template_id}) cluster = cloud.create_coe_cluster(name, cluster_template_id=cluster_template_id, **kwargs) module.exit_json(changed=changed, cluster=cluster, id=cluster_id) module.exit_json(changed=False) else: cloud.delete_coe_cluster(name) module.exit_json(changed=True) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e), extra_data=e.extra_data)",44,45
openstack%2Fkolla-ansible~stable%2Fwallaby~Ia95355c529f1b0222dc1de06632984b6d130b9ec,openstack/kolla-ansible,stable/wallaby,Ia95355c529f1b0222dc1de06632984b6d130b9ec,Drop /sys/fs/cgroup mounts,MERGED,2021-06-15 11:42:45.000000000,2021-06-15 16:58:02.000000000,2021-06-15 16:52:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-15 11:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/10206c25645ae5718b9f5404ba1fb286c01400de', 'message': 'Drop /sys/fs/cgroup mounts\n\nThey are handled by Docker since at least 18.09 (tested).\nBackport to Wallaby at most to not introduce needless restarts in\nalready stable branches.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/792583\nChange-Id: Ia95355c529f1b0222dc1de06632984b6d130b9ec\n(cherry picked from commit 286a03bad20955aa4d3f7009cef5856d328b76f1)\n'}, {'number': 2, 'created': '2021-06-15 11:43:20.000000000', 'files': ['ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c272af91c1b429ebaf3c44cce3d749bacf7cc9fa', 'message': 'Drop /sys/fs/cgroup mounts\n\nThey are handled by Docker since at least 18.09 (tested).\nBackport to Wallaby at most to not introduce needless restarts in\nalready stable branches.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/795037\nChange-Id: Ia95355c529f1b0222dc1de06632984b6d130b9ec\n(cherry picked from commit 286a03bad20955aa4d3f7009cef5856d328b76f1)\n'}]",0,796231,c272af91c1b429ebaf3c44cce3d749bacf7cc9fa,14,4,2,30491,,,0,"Drop /sys/fs/cgroup mounts

They are handled by Docker since at least 18.09 (tested).
Backport to Wallaby at most to not introduce needless restarts in
already stable branches.

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/795037
Change-Id: Ia95355c529f1b0222dc1de06632984b6d130b9ec
(cherry picked from commit 286a03bad20955aa4d3f7009cef5856d328b76f1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/31/796231/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml']",3,10206c25645ae5718b9f5404ba1fb286c01400de,drop-sys-fs-cgroup-mounts-stable/wallaby,," - ""/sys/fs/cgroup:/sys/fs/cgroup:ro"" - ""/sys/fs/cgroup:/sys/fs/cgroup:ro""",0,4
openstack%2Fpuppet-murano~master~I3a39a7f4899ca151f11557ca5c629eed44e7d176,openstack/puppet-murano,master,I3a39a7f4899ca151f11557ca5c629eed44e7d176,Drop Fedora support,MERGED,2021-06-15 06:20:23.000000000,2021-06-15 16:50:33.000000000,2021-06-15 16:47:38.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 06:20:23.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-52108d6bee000dc2.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/ab2bd18901f2e215b00f2d06794a6c2cc9bf3518', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I3a39a7f4899ca151f11557ca5c629eed44e7d176\n""}]",0,796379,ab2bd18901f2e215b00f2d06794a6c2cc9bf3518,9,3,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I3a39a7f4899ca151f11557ca5c629eed44e7d176
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/79/796379/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-52108d6bee000dc2.yaml']",2,ab2bd18901f2e215b00f2d06794a6c2cc9bf3518,drop-fedora,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I5192f8c306422d0966eef7544f719cc21172bd92,openstack/puppet-tripleo,stable/wallaby,I5192f8c306422d0966eef7544f719cc21172bd92,Introduce nova virtlogd wrapper,MERGED,2021-06-08 05:51:11.000000000,2021-06-15 16:50:10.000000000,2021-06-15 16:47:02.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-08 05:51:11.000000000', 'files': ['manifests/profile/base/nova/virtlogd_wrapper.pp', 'manifests/profile/base/nova/wrappers/virtlogd.pp', 'releasenotes/notes/nova_virtlogd_wrapper-43c6c319db2a36ef.yaml', 'templates/nova/virtlogd.epp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0ee1aea3f57fbcefa7a33e0c5d19fea3262aab3f', 'message': 'Introduce nova virtlogd wrapper\n\nWhen nova_virtlogd container gets restarted the instance console auth files\nwill not be reopened again by virtlogd. As a result either instances need\nto be restarted or live migrated to a different compute node to get new\nconsole logs messages logged again.\nUsually on receipt of SIGUSR1, virtlogd will re-exec() its binary, while\nmaintaining all current logs and clients. This allows for live upgrades of\nthe virtlogd service on non containerized environments where updates just\nby doing an RPM update.\nTo reduce the likelihood in a containerized environment virtlogd should\nonly be restarted on manual request, or on compute node reboot. It should\nnot be restarted on a minor update without migration off instances.\nThis introduces a nova_virtlogd_wrapper container and virtlogd wrapper\nscript, to only restart virtlogd on either manual or compute node restart.\n\nCloses-Bug: #1838272\n\nChange-Id: I5192f8c306422d0966eef7544f719cc21172bd92\nCo-Authored-By: Rajesh Tailor <ratailor@redhat.com>\n(cherry picked from commit f09aa48d95bc0fada01b1a011bc00e8c9b1e87b0)\n'}]",0,795148,0ee1aea3f57fbcefa7a33e0c5d19fea3262aab3f,11,7,1,17216,,,0,"Introduce nova virtlogd wrapper

When nova_virtlogd container gets restarted the instance console auth files
will not be reopened again by virtlogd. As a result either instances need
to be restarted or live migrated to a different compute node to get new
console logs messages logged again.
Usually on receipt of SIGUSR1, virtlogd will re-exec() its binary, while
maintaining all current logs and clients. This allows for live upgrades of
the virtlogd service on non containerized environments where updates just
by doing an RPM update.
To reduce the likelihood in a containerized environment virtlogd should
only be restarted on manual request, or on compute node reboot. It should
not be restarted on a minor update without migration off instances.
This introduces a nova_virtlogd_wrapper container and virtlogd wrapper
script, to only restart virtlogd on either manual or compute node restart.

Closes-Bug: #1838272

Change-Id: I5192f8c306422d0966eef7544f719cc21172bd92
Co-Authored-By: Rajesh Tailor <ratailor@redhat.com>
(cherry picked from commit f09aa48d95bc0fada01b1a011bc00e8c9b1e87b0)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/48/795148/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/nova/virtlogd_wrapper.pp', 'manifests/profile/base/nova/wrappers/virtlogd.pp', 'releasenotes/notes/nova_virtlogd_wrapper-43c6c319db2a36ef.yaml', 'templates/nova/virtlogd.epp']",4,0ee1aea3f57fbcefa7a33e0c5d19fea3262aab3f,virtlogd_wrapper-stable/wallaby,"<%- | String $image_name = '', Boolean $debug | -%> #!/bin/bash <%- if $debug { -%>set -x<%- } -%> ARGS=""$@"" NAME=nova_virtlogd CMD='/usr/sbin/virtlogd --config /etc/libvirt/virtlogd.conf' CLI=""nsenter --preserve-credentials -m -t 1 podman"" LOGGING=""--log-driver k8s-file --log-opt path=/var/log/containers/stdouts/${NAME}.log"" VIRTLOGD_CONTAINER=$(${CLI} ps -a --filter name=""^${NAME}$"" --format '{{.ID}}:{{.Status}}') CONTAINER_ID=$(echo $VIRTLOGD_CONTAINER | awk -F: '{print $1}') CONTAINER_STATUS=$(echo $VIRTLOGD_CONTAINER | awk -F: '{print $2}') CONTAINER_STATUS_SHORT=$(echo $CONTAINER_STATUS | awk '{print $1}') case ${CONTAINER_STATUS_SHORT} in Up | up | UP) echo ""Container ${NAME} with id ${CONTAINER_ID} is already running!"" ;; Exited| exited| EXITED) echo ""Removing orphaned ${NAME} container ${CONTAINER_ID}"" $CLI stop ${CONTAINER_ID} || true $CLI rm -f ${CONTAINER_ID} || true ;& *) echo ""Starting a new child container ${NAME}"" $CLI run --rm --detach ${LOGGING} \ -v /etc/hosts:/etc/hosts:ro \ -v /etc/localtime:/etc/localtime:ro \ -v /var/lib/config-data/nova_libvirt/etc/libvirt:/etc/libvirt:ro \ -v /lib/modules:/lib/modules:ro \ -v /dev/log:/dev/log \ -v /run:/run \ -v /sys/fs/cgroup:/sys/fs/cgroup \ -v /var/run/libvirt:/var/run/libvirt:shared \ -v /var/lib/libvirt:/var/lib/libvirt \ -v /var/log/containers/libvirt:/var/log/libvirt \ -v /var/log/libvirt/qemu:/var/log/libvirt/qemu \ -v /var/lib/nova:/var/lib/nova:shared \ --net host \ --pid host \ --privileged \ -u root \ --name $NAME \ <%=$image_name%> \ $CMD $ARGS ;; esac sleep infinity ",,166,0
openstack%2Fpuppet-tripleo~master~I10d1fb8efea5ccb79f32260fe98dcfdf59eff254,openstack/puppet-tripleo,master,I10d1fb8efea5ccb79f32260fe98dcfdf59eff254,Clear last dependency on puppet-ceph from Manila manifest,MERGED,2021-06-14 15:39:42.000000000,2021-06-15 16:46:44.000000000,2021-06-15 16:46:44.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-14 15:39:42.000000000', 'files': ['manifests/profile/base/manila/share.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/df456427e1e37d2fbf41815fb0796498d436ff9f', 'message': 'Clear last dependency on puppet-ceph from Manila manifest\n\nThis is now addressed in ansible and by removing it we should be\nable to get rid of the last dependency we had on puppet-ceph\n\nChange-Id: I10d1fb8efea5ccb79f32260fe98dcfdf59eff254\nDepends-On: I86b1b75c9d807356e9a1f1901bc7e8856f0c0961\n'}]",2,796293,df456427e1e37d2fbf41815fb0796498d436ff9f,10,3,1,6796,,,0,"Clear last dependency on puppet-ceph from Manila manifest

This is now addressed in ansible and by removing it we should be
able to get rid of the last dependency we had on puppet-ceph

Change-Id: I10d1fb8efea5ccb79f32260fe98dcfdf59eff254
Depends-On: I86b1b75c9d807356e9a1f1901bc7e8856f0c0961
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/93/796293/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/manila/share.pp'],1,df456427e1e37d2fbf41815fb0796498d436ff9f,remove_puppet_ceph,," $keyring_path = ""/etc/ceph/ceph.client.${cephfs_auth_id}.keyring"" ceph_config { ""client.${cephfs_auth_id}/keyring"": value => $keyring_path; ""client.${cephfs_auth_id}/client mount uid"": value => 0; ""client.${cephfs_auth_id}/client mount gid"": value => 0; } ",0,7
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id0daf6aa7a0ec8db3e459022a5ebb1c437671191,openstack/tripleo-heat-templates,stable/train,Id0daf6aa7a0ec8db3e459022a5ebb1c437671191,Fix typo in ceilometer-write-qdr environment file,MERGED,2021-06-08 17:54:21.000000000,2021-06-15 16:46:25.000000000,2021-06-15 16:46:25.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 17:54:21.000000000', 'files': ['environments/metrics/ceilometer-write-qdr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5b851c32e88512488e9b4fd8ba4d22f9fbc59ee', 'message': 'Fix typo in ceilometer-write-qdr environment file\n\nFix typo of CeilometerQdrPublishMetrics parameter name in the\nceilometer-write-qdr environment file.\n\n(cherry picked from commit 590f3669916cf1f9c10b25e86cdae8209df121fa)\n\nChange-Id: Id0daf6aa7a0ec8db3e459022a5ebb1c437671191\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}]",0,795389,b5b851c32e88512488e9b4fd8ba4d22f9fbc59ee,13,3,1,7294,,,0,"Fix typo in ceilometer-write-qdr environment file

Fix typo of CeilometerQdrPublishMetrics parameter name in the
ceilometer-write-qdr environment file.

(cherry picked from commit 590f3669916cf1f9c10b25e86cdae8209df121fa)

Change-Id: Id0daf6aa7a0ec8db3e459022a5ebb1c437671191
Signed-off-by: Leif Madsen <lmadsen@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/795389/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/metrics/ceilometer-write-qdr.yaml'],1,b5b851c32e88512488e9b4fd8ba4d22f9fbc59ee,, CeilometerQdrPublishMetrics: true, CeilometerQdrPublisMetrics: true,1,1
openstack%2Fnova~stable%2Focata~I9e852e25ea89f32bf19cdaeb1f5dac8f749f5dbc,openstack/nova,stable/ocata,I9e852e25ea89f32bf19cdaeb1f5dac8f749f5dbc,Delete resource providers for all nodes when deleting compute service,ABANDONED,2019-06-21 15:41:12.000000000,2021-06-15 16:45:07.000000000,,"[{'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-21 15:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f43c9fbd5d7b541909b6257d336e3b3af429ca3d', 'message': ""Delete resource providers for all nodes when deleting compute service\n\nChange I7b8622b178d5043ed1556d7bdceaf60f47e5ac80 started deleting the\ncompute node resource provider associated with a compute node when\ndeleting a nova-compute service. However, it would only delete the\nfirst compute node associated with the service which means for an\nironic compute service that is managing multiple nodes, the resource\nproviders were not cleaned up in placement. This fixes the issue by\niterating all the compute nodes and cleaning up their providers.\nNote this could be potentially a lot of nodes, but we don't really\nhave many good options here but to iterate them and clean them up\none at a time.\n\nNote that this is best-effort but because of how the\nSchedulerReportClient.delete_resource_provider method ignores\nResourceProviderInUse errors, and we could have stale allocations\non the host for which delete_resource_provider is not accounting,\nnamely allocations from evacuated instances (or incomplete migrations\nthough you can't migrate baremetal instances today), we could still\ndelete the compute service and orphan those in-use providers. That,\nhowever, is no worse than before this change where we did not try\nto cleanup all providers. The issue described above is being tracked\nwith bug 1829479 and will be dealt with separately.\n\nChange-Id: I9e852e25ea89f32bf19cdaeb1f5dac8f749f5dbc\nCloses-Bug: #1811726\n(cherry picked from commit 650fe118d128f09f78552b82abc114bb4b84930e)\n(cherry picked from commit e9889be94ee58a6da78ef96d09d8f5282b86f648)\n(cherry picked from commit 64d52788831f0e676f0b9bf9780eeadb38232def)\n(cherry picked from commit b2f438bab4a0fdaa37b1a57cff0b27fb2a3f3437)\n(cherry picked from commit bd2e0972993ffd732cde0a3a6154424e74d44f0a)\n""}, {'number': 2, 'created': '2019-07-01 13:45:58.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_services.py', 'releasenotes/notes/bug-1811726-multi-node-delete-2ba17f02c6171fbb.yaml', 'nova/api/openstack/compute/services.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/377ad745321b3e1cc0980c06b07592f19793e8a7', 'message': ""Delete resource providers for all nodes when deleting compute service\n\nChange I7b8622b178d5043ed1556d7bdceaf60f47e5ac80 started deleting the\ncompute node resource provider associated with a compute node when\ndeleting a nova-compute service. However, it would only delete the\nfirst compute node associated with the service which means for an\nironic compute service that is managing multiple nodes, the resource\nproviders were not cleaned up in placement. This fixes the issue by\niterating all the compute nodes and cleaning up their providers.\nNote this could be potentially a lot of nodes, but we don't really\nhave many good options here but to iterate them and clean them up\none at a time.\n\nNote that this is best-effort but because of how the\nSchedulerReportClient.delete_resource_provider method ignores\nResourceProviderInUse errors, and we could have stale allocations\non the host for which delete_resource_provider is not accounting,\nnamely allocations from evacuated instances (or incomplete migrations\nthough you can't migrate baremetal instances today), we could still\ndelete the compute service and orphan those in-use providers. That,\nhowever, is no worse than before this change where we did not try\nto cleanup all providers. The issue described above is being tracked\nwith bug 1829479 and will be dealt with separately.\n\nChange-Id: I9e852e25ea89f32bf19cdaeb1f5dac8f749f5dbc\nCloses-Bug: #1811726\n(cherry picked from commit 650fe118d128f09f78552b82abc114bb4b84930e)\n(cherry picked from commit e9889be94ee58a6da78ef96d09d8f5282b86f648)\n(cherry picked from commit 64d52788831f0e676f0b9bf9780eeadb38232def)\n(cherry picked from commit b2f438bab4a0fdaa37b1a57cff0b27fb2a3f3437)\n(cherry picked from commit bd2e0972993ffd732cde0a3a6154424e74d44f0a)\n""}]",0,666874,377ad745321b3e1cc0980c06b07592f19793e8a7,14,6,2,6873,,,0,"Delete resource providers for all nodes when deleting compute service

Change I7b8622b178d5043ed1556d7bdceaf60f47e5ac80 started deleting the
compute node resource provider associated with a compute node when
deleting a nova-compute service. However, it would only delete the
first compute node associated with the service which means for an
ironic compute service that is managing multiple nodes, the resource
providers were not cleaned up in placement. This fixes the issue by
iterating all the compute nodes and cleaning up their providers.
Note this could be potentially a lot of nodes, but we don't really
have many good options here but to iterate them and clean them up
one at a time.

Note that this is best-effort but because of how the
SchedulerReportClient.delete_resource_provider method ignores
ResourceProviderInUse errors, and we could have stale allocations
on the host for which delete_resource_provider is not accounting,
namely allocations from evacuated instances (or incomplete migrations
though you can't migrate baremetal instances today), we could still
delete the compute service and orphan those in-use providers. That,
however, is no worse than before this change where we did not try
to cleanup all providers. The issue described above is being tracked
with bug 1829479 and will be dealt with separately.

Change-Id: I9e852e25ea89f32bf19cdaeb1f5dac8f749f5dbc
Closes-Bug: #1811726
(cherry picked from commit 650fe118d128f09f78552b82abc114bb4b84930e)
(cherry picked from commit e9889be94ee58a6da78ef96d09d8f5282b86f648)
(cherry picked from commit 64d52788831f0e676f0b9bf9780eeadb38232def)
(cherry picked from commit b2f438bab4a0fdaa37b1a57cff0b27fb2a3f3437)
(cherry picked from commit bd2e0972993ffd732cde0a3a6154424e74d44f0a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/666874/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_services.py', 'releasenotes/notes/bug-1811726-multi-node-delete-2ba17f02c6171fbb.yaml', 'nova/api/openstack/compute/services.py']",3,f43c9fbd5d7b541909b6257d336e3b3af429ca3d,bug/1811726," # placement for the compute nodes managed by this service; # remember that an ironic compute service can manage multiple # nodes compute_nodes = objects.ComputeNodeList.get_all_by_host( context, service.host) for compute_node in compute_nodes: self.placementclient.delete_resource_provider( context, compute_node, cascade=True)"," # placement for this compute node self.placementclient.delete_resource_provider( context, service.compute_node, cascade=True)",32,9
openstack%2Fnova~stable%2Focata~I0d7644db3537a67b94e75972b3c4fce25a623763,openstack/nova,stable/ocata,I0d7644db3537a67b94e75972b3c4fce25a623763,Handle HostMappingNotFound when deleting a compute service,ABANDONED,2019-06-21 15:39:37.000000000,2021-06-15 16:45:04.000000000,,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-21 15:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f49ed4ca35689b5a77d41aebae3cfc72f34ff300', 'message': ""Handle HostMappingNotFound when deleting a compute service\n\nIf the compute service we're deleting has never been\ndiscovered (mapped to a cell using discover_hosts) or the\nhost mapping was already deleted, we need to handle the\nHostMappingNotFound error when deleting a compute service\nso that we (1) don't 500 out of the API and (2) continue to\ndelete the compute service.\n\nConflicts:\n      nova/api/openstack/compute/services.py\n      nova/tests/unit/api/openstack/compute/test_services.py\n\nNOTE(mriedem): The conflict is due to Ocata backport\nhttps://review.opendev.org/#/c/603749/ incorrectly mixed in\nthe fix in services.py but omitted the comments and the\nrelated unit test. There was another conflict in the tests\nbecause If1e03c9343b8cc9c34bd51c2b4d25acdb21131ff is not in\nOcata.\n\nChange-Id: I0d7644db3537a67b94e75972b3c4fce25a623763\nCloses-Bug: #1780727\n(cherry picked from commit ee6e0c1e7eb861e56915c5b6c60a214b75240366)\n(cherry picked from commit 0be8cbc302aa77b312e031f6a7a419e83afd6e3b)\n(cherry picked from commit 0b45fcd3ba345b3f400ce729992ffdca07548b0b)\n""}, {'number': 2, 'created': '2019-07-01 13:45:58.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_services.py', 'nova/api/openstack/compute/services.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eeacaa3a0b406ebb7cac89f19596a7c5e325f3e8', 'message': ""Handle HostMappingNotFound when deleting a compute service\n\nIf the compute service we're deleting has never been\ndiscovered (mapped to a cell using discover_hosts) or the\nhost mapping was already deleted, we need to handle the\nHostMappingNotFound error when deleting a compute service\nso that we (1) don't 500 out of the API and (2) continue to\ndelete the compute service.\n\nConflicts:\n      nova/api/openstack/compute/services.py\n      nova/tests/unit/api/openstack/compute/test_services.py\n\nNOTE(mriedem): The conflict is due to Ocata backport\nhttps://review.opendev.org/#/c/603749/ incorrectly mixed in\nthe fix in services.py but omitted the comments and the\nrelated unit test. There was another conflict in the tests\nbecause If1e03c9343b8cc9c34bd51c2b4d25acdb21131ff is not in\nOcata. A finally the test had to be modified since change\nI0bd63b655ad3d3d39af8d15c781ce0a45efc8e3a isn't in Ocata.\n\nChange-Id: I0d7644db3537a67b94e75972b3c4fce25a623763\nCloses-Bug: #1780727\n(cherry picked from commit ee6e0c1e7eb861e56915c5b6c60a214b75240366)\n(cherry picked from commit 0be8cbc302aa77b312e031f6a7a419e83afd6e3b)\n(cherry picked from commit 0b45fcd3ba345b3f400ce729992ffdca07548b0b)\n""}]",1,666872,eeacaa3a0b406ebb7cac89f19596a7c5e325f3e8,15,7,2,6873,,,0,"Handle HostMappingNotFound when deleting a compute service

If the compute service we're deleting has never been
discovered (mapped to a cell using discover_hosts) or the
host mapping was already deleted, we need to handle the
HostMappingNotFound error when deleting a compute service
so that we (1) don't 500 out of the API and (2) continue to
delete the compute service.

Conflicts:
      nova/api/openstack/compute/services.py
      nova/tests/unit/api/openstack/compute/test_services.py

NOTE(mriedem): The conflict is due to Ocata backport
https://review.opendev.org/#/c/603749/ incorrectly mixed in
the fix in services.py but omitted the comments and the
related unit test. There was another conflict in the tests
because If1e03c9343b8cc9c34bd51c2b4d25acdb21131ff is not in
Ocata. A finally the test had to be modified since change
I0bd63b655ad3d3d39af8d15c781ce0a45efc8e3a isn't in Ocata.

Change-Id: I0d7644db3537a67b94e75972b3c4fce25a623763
Closes-Bug: #1780727
(cherry picked from commit ee6e0c1e7eb861e56915c5b6c60a214b75240366)
(cherry picked from commit 0be8cbc302aa77b312e031f6a7a419e83afd6e3b)
(cherry picked from commit 0b45fcd3ba345b3f400ce729992ffdca07548b0b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/666872/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_services.py', 'nova/api/openstack/compute/services.py']",2,f49ed4ca35689b5a77d41aebae3cfc72f34ff300,bug/1811726," # It's possible to startup a nova-compute service and then # delete it (maybe it was accidental?) before mapping it to # a cell using discover_hosts, so we just ignore this.",,36,0
openstack%2Fironic~master~Ib23203fa01837ee96f8a38ab50fa8252334c8cb8,openstack/ironic,master,Ib23203fa01837ee96f8a38ab50fa8252334c8cb8,Clean up vendor prefixes for iLO boot,MERGED,2021-06-14 14:37:11.000000000,2021-06-15 16:43:26.000000000,2021-06-15 12:03:17.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-14 14:37:11.000000000', 'files': ['doc/source/admin/drivers/ilo.rst', 'ironic/drivers/utils.py', 'ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/ilo-prefix-d5a65ac637f82f65.yaml', 'ironic/drivers/modules/ilo/boot.py', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/349bf2d5bcb38b409fe01aa78cc281f016199efc', 'message': 'Clean up vendor prefixes for iLO boot\n\nGeneric fields, such as deploy_{kernel,ramdisk,iso) and bootloader\nshould not have vendor prefixes. This patch removes them from\nthe iLO boot interfaces with deprecation.\n\nAlso clean up the code a bit for less repetition.\n\nChange-Id: Ib23203fa01837ee96f8a38ab50fa8252334c8cb8\nStory: #2008880\nTask: #42430\n'}]",0,796287,349bf2d5bcb38b409fe01aa78cc281f016199efc,18,3,1,10239,,,0,"Clean up vendor prefixes for iLO boot

Generic fields, such as deploy_{kernel,ramdisk,iso) and bootloader
should not have vendor prefixes. This patch removes them from
the iLO boot interfaces with deprecation.

Also clean up the code a bit for less repetition.

Change-Id: Ib23203fa01837ee96f8a38ab50fa8252334c8cb8
Story: #2008880
Task: #42430
",git fetch https://review.opendev.org/openstack/ironic refs/changes/87/796287/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/drivers/ilo.rst', 'ironic/drivers/utils.py', 'ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/ilo-prefix-d5a65ac637f82f65.yaml', 'ironic/drivers/modules/ilo/boot.py', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py']",7,349bf2d5bcb38b409fe01aa78cc281f016199efc,ilo-prefix," self.node.driver_info['deploy_iso'] = 'deploy-iso' self.node.driver_info['kernel_append_params'] = 'kernel-param' expected_driver_info = {'kernel_append_params': 'kernel-param', 'deploy_iso': 'deploy-iso'} actual_driver_info = ilo_boot.parse_driver_info(self.node) self.assertEqual(expected_driver_info, actual_driver_info) def test_parse_driver_info_deploy_iso_deprecated(self): expected_driver_info = {'kernel_append_params': 'kernel-param', 'deploy_iso': 'deploy-iso'} self.node.driver_info['rescue_iso'] = 'rescue-iso' expected_driver_info = {'kernel_append_params': None, 'rescue_iso': 'rescue-iso'} self.node.driver_info['deploy_kernel'] = 'kernel' self.node.driver_info['deploy_ramdisk'] = 'ramdisk' self.node.driver_info['bootloader'] = 'bootloader' self.node.driver_info['kernel_append_params'] = 'kernel-param' expected_driver_info = {'deploy_kernel': 'kernel', 'deploy_ramdisk': 'ramdisk', 'bootloader': 'bootloader', 'kernel_append_params': 'kernel-param'} actual_driver_info = ilo_boot.parse_driver_info(self.node) self.assertEqual(expected_driver_info, actual_driver_info) def test_parse_driver_info_deploy_deprecated(self): expected_driver_info = {'deploy_kernel': 'kernel', 'deploy_ramdisk': 'ramdisk', 'bootloader': 'bootloader', self.node.driver_info['rescue_kernel'] = 'kernel' self.node.driver_info['rescue_ramdisk'] = 'ramdisk' self.node.driver_info['bootloader'] = 'bootloader' expected_driver_info = {'rescue_kernel': 'kernel', 'rescue_ramdisk': 'ramdisk', 'bootloader': 'bootloader', expected_driver_info = {'deploy_kernel': 'kernel', 'deploy_ramdisk': 'ramdisk', 'bootloader': 'bootloader', expected_driver_info = {'rescue_kernel': 'kernel', 'rescue_ramdisk': 'ramdisk', 'bootloader': 'bootloader', self.assertRaisesRegex(exception.MissingParameterValue, 'bootloader', ilo_boot.parse_driver_info, self.node) task.node.driver_info['deploy_iso'] = 'deploy-iso' task.node.driver_info['deploy_iso'] = 'deploy-iso' task.node.driver_info['deploy_iso'] = 'deploy-iso' 'deploy_kernel': 'kernel', 'deploy_ramdisk': 'ramdisk', 'bootloader': 'bootloader' def test_clean_up_ramdisk(self, cleanup_iso_mock, cleanup_vmedia_mock): driver_info['rescue_iso'] = 'rescue.iso' self.node.driver_info = driver_info self.node.save() with task_manager.acquire(self.context, self.node.uuid) as task: task.driver.boot.validate_rescue(task) def test_validate_rescue_deprecated(self): driver_info = self.node.driver_info def test__validate_hrefs_https_image(self): 'deploy_kernel': 'https://a.b.c.d/kernel', 'deploy_ramdisk': 'https://a.b.c.d/ramdisk', 'bootloader': 'https://a.b.c.d/bootloader' def test__validate_hrefs_http_image(self): 'deploy_kernel': 'http://a.b.c.d/kernel', 'deploy_ramdisk': 'https://a.b.c.d/ramdisk', 'bootloader': 'http://a.b.c.d/bootloader' } ""['deploy_kernel', 'bootloader']"", 'deploy_kernel': 'deploy-kernel', 'deploy_ramdisk': 'deploy-ramdisk', 'bootloader': 'bootloader' driver_info['deploy_kernel'] = 'deploy-kernel' driver_info['deploy_ramdisk'] = 'deploy-ramdisk' driver_info['bootloader'] = 'bootloader' 'deploy_kernel': 'deploy-kernel', 'deploy_ramdisk': 'deploy-ramdisk', 'bootloader': 'bootloader', driver_info['deploy_kernel'] = 'deploy-kernel' driver_info['rescue_kernel'] = 'rescue-kernel' driver_info['deploy_ramdisk'] = 'deploy-ramdisk' driver_info['rescue_ramdisk'] = 'rescue-ramdisk' driver_info['bootloader'] = 'bootloader' 'deploy_kernel': 'deploy-kernel', 'deploy_ramdisk': 'deploy-ramdisk', 'bootloader': 'bootloader', 'kernel_append_params': None, driver_info['deploy_kernel'] = 'deploy-kernel' driver_info['rescue_kernel'] = 'rescue-kernel' driver_info['deploy_ramdisk'] = 'deploy-ramdisk' driver_info['rescue_ramdisk'] = 'rescue-ramdisk' driver_info['bootloader'] = 'bootloader' 'rescue_kernel': 'rescue-kernel', 'rescue_ramdisk': 'rescue-ramdisk', 'bootloader': 'bootloader', 'kernel_append_params': 'kernel-param', self, parse_driver_mock, validate_href_mock): driver_info['deploy_kernel'] = 'deploy-kernel' driver_info['rescue_kernel'] = 'rescue-kernel' driver_info['deploy_ramdisk'] = 'deploy-ramdisk' driver_info['rescue_ramdisk'] = 'rescue-ramdisk' driver_info['bootloader'] = 'bootloader' 'deploy_kernel': 'deploy-kernel', 'deploy_ramdisk': 'deploy-ramdisk', 'bootloader': 'bootloader' task.node.driver_info['deploy_kernel'] = 'deploy-kernel' task.node.driver_info['deploy_ramdisk'] = 'deploy-ramdisk' task.node.driver_info['bootloader'] = 'bootloader' driver_info['rescue_kernel'] = 'rescue-kernel' driver_info['rescue_ramdisk'] = 'rescue-ramdisk' driver_info['bootloader'] = 'bootloader' driver_info['rescue_kernel'] = 'rescue-kernel' driver_info['rescue_ramdisk'] = 'rescue-ramdisk' driver_info.pop('bootloader', None) ""Error validating iLO boot for rescue.*"" ""['bootloader']"",","from urllib import parse as urlparse expected_driver_info = {'ilo_bootloader': None, 'kernel_append_params': 'kernel-param', 'ilo_deploy_iso': 'deploy-iso'} self.node.driver_info['ilo_rescue_iso'] = 'rescue-iso' expected_driver_info = {'ilo_bootloader': None, 'kernel_append_params': None, 'ilo_rescue_iso': 'rescue-iso'} expected_driver_info = {'ilo_deploy_kernel': 'kernel', 'ilo_deploy_ramdisk': 'ramdisk', 'ilo_bootloader': 'bootloader', self.node.driver_info['ilo_rescue_kernel'] = 'kernel' self.node.driver_info['ilo_rescue_ramdisk'] = 'ramdisk' self.node.driver_info['ilo_bootloader'] = 'bootloader' expected_driver_info = {'ilo_rescue_kernel': 'kernel', 'ilo_rescue_ramdisk': 'ramdisk', 'ilo_bootloader': 'bootloader', expected_driver_info = {'ilo_deploy_kernel': 'kernel', 'ilo_deploy_ramdisk': 'ramdisk', 'ilo_bootloader': 'bootloader', expected_driver_info = {'ilo_rescue_kernel': 'kernel', 'ilo_rescue_ramdisk': 'ramdisk', 'ilo_bootloader': 'bootloader', expected_driver_info = {'ilo_deploy_kernel': 'kernel', 'ilo_deploy_ramdisk': 'ramdisk', 'ilo_bootloader': None, 'kernel_append_params': None} actual_driver_info = ilo_boot.parse_driver_info(self.node) self.assertEqual(expected_driver_info, actual_driver_info) task.node.driver_info['ilo_deploy_iso'] = 'deploy-iso' task.node.driver_info['ilo_deploy_iso'] = 'deploy-iso' task.node.driver_info['ilo_deploy_iso'] = 'deploy-iso' 'ilo_deploy_kernel': 'kernel', 'ilo_deploy_ramdisk': 'ramdisk', 'ilo_bootloader': 'bootloader' @mock.patch.object(deploy_utils, 'rescue_or_deploy_mode', spec_set=True, autospec=True) def test_clean_up_ramdisk(self, cleanup_iso_mock, mode_mock, cleanup_vmedia_mock): mode_mock.return_value = 'deploy' mode_mock.assert_called_once_with(task.node) @mock.patch.object(urlparse, 'urlparse', spec_set=True, autospec=True) @mock.patch.object(service_utils, 'is_glance_image', spec_set=True, autospec=True) def test__validate_hrefs_https_image(self, is_glance_mock, urlparse_mock): is_glance_mock.return_value = False urlparse_mock.return_value.scheme = 'https' 'ilo_deploy_kernel': 'https://a.b.c.d/kernel', 'ilo_deploy_ramdisk': 'https://a.b.c.d/ramdisk', 'ilo_bootloader': 'https://a.b.c.d/bootloader' glance_calls = [ mock.call('https://a.b.c.d/kernel'), mock.call('https://a.b.c.d/ramdisk'), mock.call('https://a.b.c.d/bootloader') ] is_glance_mock.assert_has_calls(glance_calls) urlparse_mock.assert_has_calls(glance_calls) @mock.patch.object(urlparse, 'urlparse', spec_set=True, autospec=True) @mock.patch.object(service_utils, 'is_glance_image', spec_set=True, autospec=True) def test__validate_hrefs_http_image(self, is_glance_mock, urlparse_mock): is_glance_mock.return_value = False scheme_mock = mock.PropertyMock( side_effect=['http', 'https', 'http']) type(urlparse_mock.return_value).scheme = scheme_mock 'ilo_deploy_kernel': 'http://a.b.c.d/kernel', 'ilo_deploy_ramdisk': 'https://a.b.c.d/ramdisk', 'ilo_bootloader': 'http://a.b.c.d/bootloader' } glance_calls = [ mock.call('http://a.b.c.d/kernel'), mock.call('https://a.b.c.d/ramdisk'), mock.call('http://a.b.c.d/bootloader') ] ""['ilo_deploy_kernel', 'ilo_bootloader']"", is_glance_mock.assert_has_calls(glance_calls) urlparse_mock.assert_has_calls(glance_calls) @mock.patch.object(urlparse, 'urlparse', spec_set=True, autospec=True) @mock.patch.object(service_utils, 'is_glance_image', spec_set=True, autospec=True) def test__validate_hrefs_glance_image(self, is_glance_mock, urlparse_mock): is_glance_mock.return_value = True with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: data = { 'ilo_deploy_kernel': 'https://a.b.c.d/kernel', 'ilo_deploy_ramdisk': 'https://a.b.c.d/ramdisk', 'ilo_bootloader': 'https://a.b.c.d/bootloader' } task.driver.boot._validate_hrefs(data) glance_calls = [ mock.call('https://a.b.c.d/kernel'), mock.call('https://a.b.c.d/ramdisk'), mock.call('https://a.b.c.d/bootloader') ] is_glance_mock.assert_has_calls(glance_calls) urlparse_mock.assert_not_called() 'ilo_deploy_kernel': 'deploy-kernel', 'ilo_deploy_ramdisk': 'deploy-ramdisk', 'ilo_bootloader': 'bootloader' driver_info['ilo_deploy_kernel'] = 'deploy-kernel' driver_info['ilo_deploy_ramdisk'] = 'deploy-ramdisk' driver_info['ilo_bootloader'] = 'bootloader' 'ilo_deploy_kernel': 'deploy-kernel', 'ilo_deploy_ramdisk': 'deploy-ramdisk', 'ilo_bootloader': 'bootloader', driver_info['ilo_deploy_kernel'] = 'deploy-kernel' driver_info['ilo_rescue_kernel'] = 'rescue-kernel' driver_info['ilo_deploy_ramdisk'] = 'deploy-ramdisk' driver_info['ilo_rescue_ramdisk'] = 'rescue-ramdisk' driver_info['ilo_bootloader'] = 'bootloader' 'ilo_deploy_kernel': 'deploy-kernel', 'ilo_deploy_ramdisk': 'deploy-ramdisk', 'ilo_bootloader': 'bootloader', 'kernel_append_params': 'nofb nomodeset vga=normal' driver_info['ilo_deploy_kernel'] = 'deploy-kernel' driver_info['ilo_rescue_kernel'] = 'rescue-kernel' driver_info['ilo_deploy_ramdisk'] = 'deploy-ramdisk' driver_info['ilo_rescue_ramdisk'] = 'rescue-ramdisk' driver_info['ilo_bootloader'] = 'bootloader' 'ilo_rescue_kernel': 'rescue-kernel', 'ilo_rescue_ramdisk': 'rescue-ramdisk', 'ilo_bootloader': 'bootloader', 'kernel_append_params': 'kernel-param' @mock.patch.object(deploy_utils, 'check_for_missing_params', autospec=True) self, parse_driver_mock, check_missing_mock, validate_href_mock): driver_info['ilo_deploy_kernel'] = 'deploy-kernel' driver_info['ilo_rescue_kernel'] = 'rescue-kernel' driver_info['ilo_deploy_ramdisk'] = 'deploy-ramdisk' driver_info['ilo_rescue_ramdisk'] = 'rescue-ramdisk' driver_info['ilo_bootloader'] = 'bootloader' 'ilo_deploy_kernel': 'deploy-kernel', 'ilo_deploy_ramdisk': 'deploy-ramdisk', 'ilo_bootloader': 'bootloader' check_missing_mock.assert_not_called() task.node.driver_info['ilo_deploy_kernel'] = 'deploy-kernel' task.node.driver_info['ilo_deploy_ramdisk'] = 'deploy-ramdisk' task.node.driver_info['ilo_bootloader'] = 'bootloader' driver_info['ilo_rescue_kernel'] = 'rescue-kernel' driver_info['ilo_rescue_ramdisk'] = 'rescue-ramdisk' driver_info['ilo_bootloader'] = 'bootloader' driver_info['ilo_rescue_kernel'] = 'rescue-kernel' driver_info['ilo_rescue_ramdisk'] = 'rescue-ramdisk' driver_info.pop('ilo_bootloader', None) ""Error validating rescue for iLO UEFI "" ""HTTPS boot.* ['ilo_bootloader']"",",229,307
openstack%2Fnetworking-ovn~stable%2Ftrain~I401350ec13bacaf7614041de43c3c9904b0c6cfc,openstack/networking-ovn,stable/train,I401350ec13bacaf7614041de43c3c9904b0c6cfc,Rely on worker count for HashRing caching,MERGED,2021-05-07 10:33:00.000000000,2021-06-15 16:36:56.000000000,2021-05-20 18:12:14.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 10:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/da3963d5021c1f98c92bda1be6607bc79969b1a2', 'message': ""Rely on worker count for HashRing caching\n\nThe current code looks at a hash ring node's created_at/updated_at\nfields and tries to determine whether the node has been updated\nbased on whether updated_at - created_at > 1 second (due to the\nmethod that initially fills them being different by microseconds).\nUnfortunately, due to the notify() method being called which calls\nthe hash ring node's touch_node(), a node can be updated in under\na second, meaning we will prevent caching for much longer than\nwe intend.\n\nWhen using sqlite in-memory db, this continually re-creating the\nHash Ring objects for every event that is processed is exposing an\nissue where rows that should be in the db just *aren't*.\n\nThis patch instead limits the hash ring nodes to api workers and\nprevents caching only until the number of nodes == number of api\nworkers on the host. The switch from spawning hash ring nodes\nwhere !is_maintenance to is_api_worker is primarily because it\nseems to be difficult to get a list of *all* workers from which to\nsubtract the maintenance worker so that _wait_startup_before_caching\ncan wait for that specific number of workers. In practice, this\nmeans that RpcWorker and ServiceWorker workers would not process\nHashRing events.\n\nA note on bug 1903008: While this change will greatly reduce the\nlikelihood of this issue taking place, we still have some work to\ndo in order to fully understand why it rubs the database backend\nin the wrong way. Thus, we will make this change 'related to'\ninstead of closing the bug.\n\nRelated-Bug: #1894117\nRelated-Bug: #1903008\n\n(manually cherry picked from commit c4007b0833111a25d24f597161d39ee9ccd37189)\n\nChange-Id: I401350ec13bacaf7614041de43c3c9904b0c6cfc\n""}, {'number': 2, 'created': '2021-05-07 14:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/578d185e5fc51dc6ef2b82cab7d0d0979476c5e4', 'message': ""Rely on worker count for HashRing caching\n\nThe current code looks at a hash ring node's created_at/updated_at\nfields and tries to determine whether the node has been updated\nbased on whether updated_at - created_at > 1 second (due to the\nmethod that initially fills them being different by microseconds).\nUnfortunately, due to the notify() method being called which calls\nthe hash ring node's touch_node(), a node can be updated in under\na second, meaning we will prevent caching for much longer than\nwe intend.\n\nWhen using sqlite in-memory db, this continually re-creating the\nHash Ring objects for every event that is processed is exposing an\nissue where rows that should be in the db just *aren't*.\n\nThis patch instead limits the hash ring nodes to api workers and\nprevents caching only until the number of nodes == number of api\nworkers on the host. The switch from spawning hash ring nodes\nwhere !is_maintenance to is_api_worker is primarily because it\nseems to be difficult to get a list of *all* workers from which to\nsubtract the maintenance worker so that _wait_startup_before_caching\ncan wait for that specific number of workers. In practice, this\nmeans that RpcWorker and ServiceWorker workers would not process\nHashRing events.\n\nA note on bug 1903008: While this change will greatly reduce the\nlikelihood of this issue taking place, we still have some work to\ndo in order to fully understand why it rubs the database backend\nin the wrong way. Thus, we will make this change 'related to'\ninstead of closing the bug.\n\nRelated-Bug: #1894117\nRelated-Bug: #1903008\n\n(manually cherry picked from commit c4007b0833111a25d24f597161d39ee9ccd37189)\n\nChange-Id: I401350ec13bacaf7614041de43c3c9904b0c6cfc\n""}, {'number': 3, 'created': '2021-05-17 15:00:01.000000000', 'files': ['networking_ovn/tests/unit/common/test_hash_ring_manager.py', 'networking_ovn/tests/functional/test_ovsdb_monitor.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/functional/base.py', 'networking_ovn/common/hash_ring_manager.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/98741c868480fe19a1f1c6a28a4b0a2f2d26c8df', 'message': ""Rely on worker count for HashRing caching\n\nThe current code looks at a hash ring node's created_at/updated_at\nfields and tries to determine whether the node has been updated\nbased on whether updated_at - created_at > 1 second (due to the\nmethod that initially fills them being different by microseconds).\nUnfortunately, due to the notify() method being called which calls\nthe hash ring node's touch_node(), a node can be updated in under\na second, meaning we will prevent caching for much longer than\nwe intend.\n\nWhen using sqlite in-memory db, this continually re-creating the\nHash Ring objects for every event that is processed is exposing an\nissue where rows that should be in the db just *aren't*.\n\nThis patch instead limits the hash ring nodes to api workers and\nprevents caching only until the number of nodes == number of api\nworkers on the host. The switch from spawning hash ring nodes\nwhere !is_maintenance to is_api_worker is primarily because it\nseems to be difficult to get a list of *all* workers from which to\nsubtract the maintenance worker so that _wait_startup_before_caching\ncan wait for that specific number of workers. In practice, this\nmeans that RpcWorker and ServiceWorker workers would not process\nHashRing events.\n\nA note on bug 1903008: While this change will greatly reduce the\nlikelihood of this issue taking place, we still have some work to\ndo in order to fully understand why it rubs the database backend\nin the wrong way. Thus, we will make this change 'related to'\ninstead of closing the bug.\n\nRelated-Bug: #1894117\nRelated-Bug: #1903008\n\n(manually cherry picked from commit c4007b0833111a25d24f597161d39ee9ccd37189)\n\nChange-Id: I401350ec13bacaf7614041de43c3c9904b0c6cfc\n""}]",2,790218,98741c868480fe19a1f1c6a28a4b0a2f2d26c8df,32,3,3,32586,,,0,"Rely on worker count for HashRing caching

The current code looks at a hash ring node's created_at/updated_at
fields and tries to determine whether the node has been updated
based on whether updated_at - created_at > 1 second (due to the
method that initially fills them being different by microseconds).
Unfortunately, due to the notify() method being called which calls
the hash ring node's touch_node(), a node can be updated in under
a second, meaning we will prevent caching for much longer than
we intend.

When using sqlite in-memory db, this continually re-creating the
Hash Ring objects for every event that is processed is exposing an
issue where rows that should be in the db just *aren't*.

This patch instead limits the hash ring nodes to api workers and
prevents caching only until the number of nodes == number of api
workers on the host. The switch from spawning hash ring nodes
where !is_maintenance to is_api_worker is primarily because it
seems to be difficult to get a list of *all* workers from which to
subtract the maintenance worker so that _wait_startup_before_caching
can wait for that specific number of workers. In practice, this
means that RpcWorker and ServiceWorker workers would not process
HashRing events.

A note on bug 1903008: While this change will greatly reduce the
likelihood of this issue taking place, we still have some work to
do in order to fully understand why it rubs the database backend
in the wrong way. Thus, we will make this change 'related to'
instead of closing the bug.

Related-Bug: #1894117
Related-Bug: #1903008

(manually cherry picked from commit c4007b0833111a25d24f597161d39ee9ccd37189)

Change-Id: I401350ec13bacaf7614041de43c3c9904b0c6cfc
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/18/790218/3 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/common/test_hash_ring_manager.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/functional/test_ovsdb_monitor.py', 'networking_ovn/tests/functional/base.py', 'networking_ovn/common/hash_ring_manager.py']",5,da3963d5021c1f98c92bda1be6607bc79969b1a2,,"from neutron import service self._check_hashring_startup = True # method ensures that we start allowing the use of cached HashRings # once the number of HashRing nodes >= the number of api workers. if not self._check_hashring_startup: api_workers = service._get_api_workers() if len(nodes) >= api_workers: LOG.debug(""Allow caching, nodes %s>=%s"", len(nodes), api_workers) self._check_hashring_startup = False return False LOG.debug(""Disallow caching, nodes %s<%s"", len(nodes), api_workers) return True"," self._cache_startup_timeout = True # method checks if the created_at and updated_at columns from the # nodes in the ring from this host is equal, and if so it means # that the service just started. if not self._cache_startup_timeout: # created_at and updated_at differ in microseonds so we compare their # difference is less than a second to be safe on slow machines dont_cache = nodes and ( nodes[0].updated_at - nodes[0].created_at < datetime.timedelta( seconds=1)) if not dont_cache: self._cache_startup_timeout = False return dont_cache",43,31
openstack%2Fkolla-ansible~stable%2Fwallaby~I5129136c066489fdfaa4d93741c22e5010b7e89d,openstack/kolla-ansible,stable/wallaby,I5129136c066489fdfaa4d93741c22e5010b7e89d,Disable docker's ip-forward when iptables disabled,MERGED,2021-06-14 16:44:16.000000000,2021-06-15 16:19:42.000000000,2021-06-15 12:57:09.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-14 16:44:16.000000000', 'files': ['releasenotes/notes/docker-disable-ip-forward-b0490b71f9f07cd6.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/baremetal/tasks/post-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eb4815345a1af33372da52f39c5cf6696b2f903f', 'message': ""Disable docker's ip-forward when iptables disabled\n\nWith the new default since Wallaby, starting Docker makes it\nenable forwarding and not filter it at all.\nThis may pose a security risk and should be mitigated.\n\nCloses-Bug: #1931615\nChange-Id: I5129136c066489fdfaa4d93741c22e5010b7e89d\n(cherry picked from commit 0fa4ee56eb86eb7d4b4e3bb9d9c9993f6906c1bd)\n""}]",0,796223,eb4815345a1af33372da52f39c5cf6696b2f903f,14,3,1,30491,,,0,"Disable docker's ip-forward when iptables disabled

With the new default since Wallaby, starting Docker makes it
enable forwarding and not filter it at all.
This may pose a security risk and should be mitigated.

Closes-Bug: #1931615
Change-Id: I5129136c066489fdfaa4d93741c22e5010b7e89d
(cherry picked from commit 0fa4ee56eb86eb7d4b4e3bb9d9c9993f6906c1bd)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/796223/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/docker-disable-ip-forward-b0490b71f9f07cd6.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/baremetal/tasks/post-install.yml']",3,eb4815345a1af33372da52f39c5cf6696b2f903f,bug/1931615-stable/wallaby,"- name: Warn about docker ip_forward debug: msg: >- Docker ip_forward will be disabled by default from the Wallaby 12.0.0 release. If you have any non-Kolla containers that need this functionality, you should plan a migration for this change, or set docker_disable_ip_forward to false. when: not docker_disable_ip_forward | bool - name: Disable docker ip_forward set_fact: docker_config: ""{{ docker_config | combine({'ip-forward': false}) }}"" when: docker_disable_ip_forward | bool ",,24,0
openstack%2Fcharm-rabbitmq-server~master~I73eca130d8f30e1ff0c45d09e9f1aab8a9675e79,openstack/charm-rabbitmq-server,master,I73eca130d8f30e1ff0c45d09e9f1aab8a9675e79,RabbitMQ Queue Actions,ABANDONED,2017-12-12 19:33:17.000000000,2021-06-15 16:15:27.000000000,,"[{'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2017-12-12 19:33:17.000000000', 'files': ['actions/purge-queue', '.gitignore', 'actions/list-queues', 'actions/delete-queue', 'tests/basic_deployment.py', 'actions/queue_actions.py', 'hooks/rabbit_utils.py', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/4f18300786ecce9803b498370f3279bf3d2f623d', 'message': 'RabbitMQ Queue Actions\n\nThis change adds several queue actions including purge, delete and\nlist.\n\nChange-Id: I73eca130d8f30e1ff0c45d09e9f1aab8a9675e79\n'}]",0,527504,4f18300786ecce9803b498370f3279bf3d2f623d,4,2,1,20805,,,0,"RabbitMQ Queue Actions

This change adds several queue actions including purge, delete and
list.

Change-Id: I73eca130d8f30e1ff0c45d09e9f1aab8a9675e79
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/04/527504/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/purge-queue', '.gitignore', 'actions/list-queues', 'actions/delete-queue', 'tests/basic_deployment.py', 'actions/queue_actions.py', 'hooks/rabbit_utils.py', 'actions.yaml']",8,4f18300786ecce9803b498370f3279bf3d2f623d,feature/queue-actions, description: Show the current cluster status. purge-queue: description: | Purge a rabbitmq queue. Empty and existing queue. params: queue: type: string description: The name of the queue to be purged vhost: type: string default: / description: The name of the vhost the queue is in required: - queue delete-queue: description: | Delete a rabbitmq queue. Completely remove an existing queue. params: queue: type: string description: The name of the queue to be deleted exchange: type: string description: The name of the exchange to be deleted vhost: type: string default: / description: The name of the vhost the queue is in required: - queue list-queues: description: | List queues. Output queues list as JSON. params: vhost: type: string default: / description: The name of the vhost the queue is in , description: Show the current cluster status.,220,4
openstack%2Fcharm-mysql-innodb-cluster~master~I5822602b8813b140ff4a79a03dc59b97f19ce37b,openstack/charm-mysql-innodb-cluster,master,I5822602b8813b140ff4a79a03dc59b97f19ce37b,Allow time between configure and add an instance,ABANDONED,2020-10-22 16:54:38.000000000,2021-06-15 16:14:53.000000000,,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-22 16:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/ce66d536628c494f07c65f8e774ad43b9e44b487', 'message': 'Allow time between configure and add an instance\n\nIn LP Bug#1881735 there are several failure modes that result in:\n""Unable to start Group Replication for instance""\n\nIn theory, this may be due to running configure_instance,\nadd_instance_to_cluster and/or create_cluster too close together. The\ninstance is not yet 100% ready for the next step.  This change allows\nfor more time to pass between each of these steps.\n\nChange-Id: I5822602b8813b140ff4a79a03dc59b97f19ce37b\nCloses-Bug: #1881735\n'}, {'number': 2, 'created': '2021-04-23 16:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/28d36b0e534abf4d031b77e47faa377fed4e173d', 'message': 'Allow time between configure and add an instance\n\nIn LP Bug# 1886934 there are several failure modes that result in:\n""Unable to start Group Replication for instance""\n\nIn theory, this may be due to running configure_instance,\nadd_instance_to_cluster and/or create_cluster too close together. The\ninstance is not yet 100% ready for the next step.  This change allows\nfor more time to pass between each of these steps.\n\nChange-Id: I5822602b8813b140ff4a79a03dc59b97f19ce37b\nCloses-Bug: 1886934\n'}, {'number': 3, 'created': '2021-04-23 23:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/43abee6ff403b1f74be9684763fa45f5365f02f4', 'message': 'Allow time between configure and add an instance\n\nIn LP Bug# 1886934 there are several failure modes that result in:\n""Unable to start Group Replication for instance""\n\nIn theory, this may be due to running configure_instance,\nadd_instance_to_cluster and/or create_cluster too close together. The\ninstance is not yet 100% ready for the next step.  This change allows\nfor more time to pass between each of these steps.\n\nUpdate system variables so a restart may not be necessary.\n\nChange-Id: I5822602b8813b140ff4a79a03dc59b97f19ce37b\nCloses-Bug: 1886934\n'}, {'number': 4, 'created': '2021-04-27 23:02:12.000000000', 'files': ['src/templates/mysqld.cnf', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'unit_tests/test_mysql_innodb_cluster_handlers.py', 'src/reactive/mysql_innodb_cluster_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/25a0be553c924b95bae5168f385a75e4ffbca4bb', 'message': 'Allow time between configure and add an instance\n\nIn LP Bug# 1886934 there are several failure modes that result in:\n""Unable to start Group Replication for instance""\n\nIn theory, this may be due to running configure_instance,\nadd_instance_to_cluster and/or create_cluster too close together. The\ninstance is not yet 100% ready for the next step.  This change allows\nfor more time to pass between each of these steps.\n\nUpdate system variables so a restart may not be necessary.\n\nChange-Id: I5822602b8813b140ff4a79a03dc59b97f19ce37b\nCloses-Bug: 1886934\n'}]",0,759301,25a0be553c924b95bae5168f385a75e4ffbca4bb,24,3,4,20805,,,0,"Allow time between configure and add an instance

In LP Bug# 1886934 there are several failure modes that result in:
""Unable to start Group Replication for instance""

In theory, this may be due to running configure_instance,
add_instance_to_cluster and/or create_cluster too close together. The
instance is not yet 100% ready for the next step.  This change allows
for more time to pass between each of these steps.

Update system variables so a restart may not be necessary.

Change-Id: I5822602b8813b140ff4a79a03dc59b97f19ce37b
Closes-Bug: 1886934
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/01/759301/4 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_mysql_innodb_cluster_handlers.py', 'src/reactive/mysql_innodb_cluster_handlers.py']",2,ce66d536628c494f07c65f8e774ad43b9e44b487,bug/1886934," # If we are the leader, also run the configure_instance to prepare the # node for clustering. if reactive.is_flag_set('leadership.is_leader'): ch_core.hookenv.log(""Configuring leader instance"", ""INFO"") instance.configure_instance(instance.cluster_address)", instance.configure_instance(instance.cluster_address) instance.add_instance_to_cluster( unit.received['cluster-address']),22,7
openstack%2Fproject-config~master~Icced679f6a3f2882e61c6c558357c1f0b3332dce,openstack/project-config,master,Icced679f6a3f2882e61c6c558357c1f0b3332dce,"Revert ""Accessbot OFTC channel list stopgap""",MERGED,2021-05-24 21:41:45.000000000,2021-06-15 15:56:27.000000000,2021-06-15 15:42:18.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-24 21:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2a313caae584d9038d7e8eb55a266f5df33eb93d', 'message': 'Revert ""Accessbot OFTC channel list stopgap""\n\nThis reverts commit 2180224020d740c968a745bb06448d6a24c94594.\n\nMerge once passing project-config-irc-access job indicates access is\nsufficient for these channels.\n\nChange-Id: Icced679f6a3f2882e61c6c558357c1f0b3332dce\n'}, {'number': 2, 'created': '2021-05-25 16:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fc4537053cd05fb4c54328e3f33b90009eb0a667', 'message': 'Revert ""Accessbot OFTC channel list stopgap""\n\nThis reverts commit 2180224020d740c968a745bb06448d6a24c94594.\n\nMerge once passing project-config-irc-access job indicates access is\nsufficient for these channels.\n\nChange-Id: Icced679f6a3f2882e61c6c558357c1f0b3332dce\n'}, {'number': 3, 'created': '2021-05-25 18:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2a05b0abbc386dea71f71c1ebdaf7f3edd4b809a', 'message': 'Revert ""Accessbot OFTC channel list stopgap""\n\nThis reverts commit 2180224020d740c968a745bb06448d6a24c94594.\n\nMerge once passing project-config-irc-access job indicates access is\nsufficient for these channels.\n\nChange-Id: Icced679f6a3f2882e61c6c558357c1f0b3332dce\n'}, {'number': 4, 'created': '2021-05-26 16:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8ebac859d98dc5c29962b6489fa4763f7ac58c9d', 'message': 'Revert ""Accessbot OFTC channel list stopgap""\n\nThis reverts commit 2180224020d740c968a745bb06448d6a24c94594.\n\nMerge once passing project-config-irc-access job indicates access is\nsufficient for these channels.\n\nChange-Id: Icced679f6a3f2882e61c6c558357c1f0b3332dce\n'}, {'number': 5, 'created': '2021-05-27 17:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f2b67e7ea5346e7d7edc182ba7fdab96e87a6f28', 'message': 'Revert ""Accessbot OFTC channel list stopgap""\n\nThis reverts commit 2180224020d740c968a745bb06448d6a24c94594.\n\nMerge once passing project-config-irc-access job indicates access is\nsufficient for these channels.\n\nChange-Id: Icced679f6a3f2882e61c6c558357c1f0b3332dce\n'}, {'number': 6, 'created': '2021-05-29 18:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f9c9f9e3734d4c6d5dbf4cb6472b0361c28e2c4c', 'message': 'Revert ""Accessbot OFTC channel list stopgap""\n\nThis reverts commit 68c091e744c306b93d6bce1c095d29c58dbb0bf2.\n\nMerge once passing project-config-irc-access job indicates access is\nsufficient for these channels.\n\nChange-Id: Icced679f6a3f2882e61c6c558357c1f0b3332dce\n'}, {'number': 7, 'created': '2021-05-31 15:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/119384e93351e8d73206a9ae49615a784509a8a9', 'message': 'Revert ""Accessbot OFTC channel list stopgap""\n\nThis reverts commit 68c091e744c306b93d6bce1c095d29c58dbb0bf2.\n\nMerge once passing project-config-irc-access job indicates access is\nsufficient for these channels.\n\nChange-Id: Icced679f6a3f2882e61c6c558357c1f0b3332dce\n'}, {'number': 8, 'created': '2021-05-31 15:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fa7becc11c93ea2e2849c596a2615dd2bac21567', 'message': 'Revert ""Accessbot OFTC channel list stopgap""\n\nThis reverts commit 68c091e744c306b93d6bce1c095d29c58dbb0bf2, except\nfor #rdo (fixed in a parent change) and #edeploy (configmed with\nEmilienM in #tripleo that the #edeploy channel is no longer needed\nso removed statusbot configuration for it with change\nI47613e4d88f358db5c51f9cb21c1eb1c2ebd32ed).\n\nMerge once passing project-config-irc-access job indicates access is\nsufficient for these channels.\n\nChange-Id: Icced679f6a3f2882e61c6c558357c1f0b3332dce\n'}, {'number': 9, 'created': '2021-05-31 18:08:26.000000000', 'files': ['gerritbot/channels.yaml', 'accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1fc83e0c1f61db07aa9afba6f0edc342d90dc995', 'message': 'Revert ""Accessbot OFTC channel list stopgap""\n\nThis reverts commit 68c091e744c306b93d6bce1c095d29c58dbb0bf2, except\nfor #rdo and #puppet-openstack (fixed in parent changes) and\nchannel is no longer needed so removed statusbot configuration for\nit with change I47613e4d88f358db5c51f9cb21c1eb1c2ebd32ed).\n\nMerge once passing project-config-irc-access job indicates access is\nsufficient for these channels.\n\nChange-Id: Icced679f6a3f2882e61c6c558357c1f0b3332dce\n'}]",0,792857,1fc83e0c1f61db07aa9afba6f0edc342d90dc995,27,3,9,5263,,,0,"Revert ""Accessbot OFTC channel list stopgap""

This reverts commit 68c091e744c306b93d6bce1c095d29c58dbb0bf2, except
for #rdo and #puppet-openstack (fixed in parent changes) and
channel is no longer needed so removed statusbot configuration for
it with change I47613e4d88f358db5c51f9cb21c1eb1c2ebd32ed).

Merge once passing project-config-irc-access job indicates access is
sufficient for these channels.

Change-Id: Icced679f6a3f2882e61c6c558357c1f0b3332dce
",git fetch https://review.opendev.org/openstack/project-config refs/changes/57/792857/1 && git format-patch -1 --stdout FETCH_HEAD,"['accessbot/channels.yaml', 'gerritbot/channels.yaml']",2,2a313caae584d9038d7e8eb55a266f5df33eb93d,oftc,openstack-sahara: events: - patchset-created - change-merged projects: - ^openstack/sahara.* - openstack/openstack-ansible-os_sahara - openstack/puppet-sahara - openstack/python-saharaclient branches: - master - ^stable/.* puppet-openstack: events: - patchset-created - change-merged projects: - openstack/puppet-aodh - openstack/puppet-barbican - openstack/puppet-ceilometer - openstack/puppet-ceph - openstack/puppet-cinder - openstack/puppet-cloudkitty - openstack/puppet-designate - openstack/puppet-ec2api - openstack/puppet-freezer - openstack/puppet-glance - openstack/puppet-gnocchi - openstack/puppet-heat - openstack/puppet-horizon - openstack/puppet-ironic - openstack/puppet-keystone - openstack/puppet-magnum - openstack/puppet-manila - openstack/puppet-mistral - openstack/puppet-monasca - openstack/puppet-murano - openstack/puppet-neutron - openstack/puppet-nova - openstack/puppet-octavia - openstack/puppet-openstack-cookiecutter - openstack/puppet-openstack-guide - openstack/puppet-openstack-integration - openstack/puppet-openstack-specs - openstack/puppet-openstack_extras - openstack/puppet-openstack_spec_helper - openstack/puppet-openstacklib - openstack/puppet-oslo - openstack/puppet-ovn - openstack/puppet-panko - openstack/puppet-placement - openstack/puppet-qdr - openstack/puppet-rally - openstack/puppet-sahara - openstack/puppet-senlin - openstack/puppet-swift - openstack/puppet-tacker - openstack/puppet-tempest - openstack/puppet-trove - openstack/puppet-vitrage - openstack/puppet-vswitch - openstack/puppet-watcher - openstack/puppet-zaqar - x/puppet-fenix - x/puppet-modulesync-configs - x/puppet-tuskar branches: - master - ^stable/.* rdo: events: - patchset-created - change-merged projects: - x/packstack branches: - master - ^stable/.* ,,86,0
openstack%2Fneutron~stable%2Fwallaby~I1af32e72abb9f101f9729aa6d1354c33a95c98ee,openstack/neutron,stable/wallaby,I1af32e72abb9f101f9729aa6d1354c33a95c98ee,[DHCP] Fix cleanup_deleted_ports method,MERGED,2021-06-11 09:01:25.000000000,2021-06-15 15:42:59.000000000,2021-06-14 19:17:31.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 09:01:25.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c516d5bc0335b5e2870faaf3fd26c945b619468a', 'message': '[DHCP] Fix cleanup_deleted_ports method\n\nAssume that only one port is deleted within 24 hours, in method\ncleanup_deleted_ports the port removes from deleted_ports but not\nremoves from deleted_ports_ts\nIn this fix ports older than 1 day will be dropped from\ndeleted_ports and deleted_ports_ts properly\n\nCloses-Bug: #1930838\nChange-Id: I1af32e72abb9f101f9729aa6d1354c33a95c98ee\n(cherry picked from commit 383f209b502493ca6b059394e2644def754b2de1)\n'}]",0,795878,c516d5bc0335b5e2870faaf3fd26c945b619468a,25,3,1,32667,,,0,"[DHCP] Fix cleanup_deleted_ports method

Assume that only one port is deleted within 24 hours, in method
cleanup_deleted_ports the port removes from deleted_ports but not
removes from deleted_ports_ts
In this fix ports older than 1 day will be dropped from
deleted_ports and deleted_ports_ts properly

Closes-Bug: #1930838
Change-Id: I1af32e72abb9f101f9729aa6d1354c33a95c98ee
(cherry picked from commit 383f209b502493ca6b059394e2644def754b2de1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/795878/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",2,c516d5bc0335b5e2870faaf3fd26c945b619468a,bug/1930838-stable/wallaby," self.assertEqual([], self.nc._deleted_ports_ts) # check the second iteration is ok too nc.add_to_deleted_ports(fake_port2.id) utils.wait_until_true(lambda: nc._deleted_ports == set(), timeout=7) self.assertEqual([], self.nc._deleted_ports_ts)",,9,2
openstack%2Fkolla-ansible~stable%2Fwallaby~I2f88b8fc2c6924de9f6bc1840b183ee024c5c1e9,openstack/kolla-ansible,stable/wallaby,I2f88b8fc2c6924de9f6bc1840b183ee024c5c1e9,Reno follow up for docker_disable_ip_forward,MERGED,2021-06-15 14:38:35.000000000,2021-06-15 15:20:59.000000000,2021-06-15 15:18:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-15 14:38:35.000000000', 'files': ['releasenotes/notes/docker-disable-ip-forward-b0490b71f9f07cd6.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e3f43eee51ee9acf83f74bd563139b1479597a6f', 'message': 'Reno follow up for docker_disable_ip_forward\n\nFollow up to I5129136c066489fdfaa4d93741c22e5010b7e89d, adding upgrade\nnotes.\n\nRelated-Bug: #1931615\nChange-Id: I2f88b8fc2c6924de9f6bc1840b183ee024c5c1e9\n(cherry picked from commit 3f9662278cdf3a15e3f5c2ef07587c8f00217a8b)\n'}]",0,796440,e3f43eee51ee9acf83f74bd563139b1479597a6f,7,3,1,30491,,,0,"Reno follow up for docker_disable_ip_forward

Follow up to I5129136c066489fdfaa4d93741c22e5010b7e89d, adding upgrade
notes.

Related-Bug: #1931615
Change-Id: I2f88b8fc2c6924de9f6bc1840b183ee024c5c1e9
(cherry picked from commit 3f9662278cdf3a15e3f5c2ef07587c8f00217a8b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/40/796440/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/docker-disable-ip-forward-b0490b71f9f07cd6.yaml'],1,e3f43eee51ee9acf83f74bd563139b1479597a6f,,"upgrade: - | Adds a new flag, ``docker_disable_ip_forward``, which defaults to ``docker_disable_default_iptables_rules`` and is used to disable docker's ``ip-forward`` option which makes docker set ``net.ipv4.ip_forward`` sysctl to ``1``. By default, ``docker_disable_default_iptables_rules`` is ``true``, in which case docker's ``ip-forward`` option is ``disabled``. For existing hosts, this configuration change is applied when configuring docker via ``kolla-ansible bootstrap-servers``. Docker changes the sysctl in a non-persistent manner, so it will revert to the default of ``0`` after a reboot, if not configured elsewhere. This should not cause a problem, since Kolla Ansible applies the sysctl where necessary. Operators may wish to perform a proactive reboot, or apply the default through other means.",,15,0
openstack%2Fswift~master~I2617dd1f997abd6cdae78a3adf51e5ee28b74204,openstack/swift,master,I2617dd1f997abd6cdae78a3adf51e5ee28b74204,reconciler: Prevent problematic middlewares from being used,ABANDONED,2021-01-13 00:40:07.000000000,2021-06-15 15:17:14.000000000,,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-13 00:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8e74e1f216e2767501aef934d1f126db77580aea', 'message': 'reconciler: Prevent problematic middlewares from being used\n\nThe reconciler has just one job: take data that was stored in one policy\nand move it to another. Some middleware complicate that, however:\n\n* If encryption is in the pipeline, data will be decrypted on the GET\n  and re-encrypted on the PUT, changing all IVs and body keys. This\n  can lead to unrecoverable data if there are multiple reconcilers\n  running concurrently in the cluster. (See closed bug.)\n* If symlink is in the pipeline, the target data is moved rather than\n  the link. Even if the reconciler were updated to include ?symlink=get,\n  reconciling static symlinks would require a successful HEAD of the\n  target.\n\nTo be defensive, also prevent slo and dlo (for reasons simmilar to\nsylink).\n\nChange-Id: I2617dd1f997abd6cdae78a3adf51e5ee28b74204\nCloses-Bug: #1910804\n'}, {'number': 2, 'created': '2021-01-13 20:08:03.000000000', 'files': ['test/probe/test_container_merge_policy_index.py', 'test/unit/common/test_internal_client.py', 'swift/common/wsgi.py', 'swift/proxy/server.py', 'test/unit/common/test_wsgi.py', 'swift/container/reconciler.py', 'swift/common/internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/180324a8bbba1cfa5a38706975e2002a8485400d', 'message': 'reconciler: Prevent problematic middlewares from being used\n\nThe reconciler has just one job: take data that was stored in one policy\nand move it to another. Some middleware complicate that, however:\n\n* If encryption is in the pipeline, data will be decrypted on the GET\n  and re-encrypted on the PUT, changing all IVs and body keys. This\n  can lead to unrecoverable data if there are multiple reconcilers\n  running concurrently in the cluster. (See closed bug.)\n* If symlink is in the pipeline, the target data is moved rather than\n  the link. Even if the reconciler were updated to include ?symlink=get,\n  reconciling static symlinks would require a successful HEAD of the\n  target.\n\nTo be defensive, also prevent slo and dlo (for reasons similar to\nsymlink).\n\nChange-Id: I2617dd1f997abd6cdae78a3adf51e5ee28b74204\nCloses-Bug: #1910804\n'}]",17,770522,180324a8bbba1cfa5a38706975e2002a8485400d,15,4,2,15343,,,0,"reconciler: Prevent problematic middlewares from being used

The reconciler has just one job: take data that was stored in one policy
and move it to another. Some middleware complicate that, however:

* If encryption is in the pipeline, data will be decrypted on the GET
  and re-encrypted on the PUT, changing all IVs and body keys. This
  can lead to unrecoverable data if there are multiple reconcilers
  running concurrently in the cluster. (See closed bug.)
* If symlink is in the pipeline, the target data is moved rather than
  the link. Even if the reconciler were updated to include ?symlink=get,
  reconciling static symlinks would require a successful HEAD of the
  target.

To be defensive, also prevent slo and dlo (for reasons similar to
symlink).

Change-Id: I2617dd1f997abd6cdae78a3adf51e5ee28b74204
Closes-Bug: #1910804
",git fetch https://review.opendev.org/openstack/swift refs/changes/22/770522/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/test_container_merge_policy_index.py', 'test/unit/common/test_internal_client.py', 'swift/common/wsgi.py', 'swift/container/reconciler.py', 'swift/proxy/server.py', 'test/unit/common/test_wsgi.py', 'swift/common/internal_client.py']",7,8e74e1f216e2767501aef934d1f126db77580aea,reconciler-pipeline," allow_modify_pipeline=False, use_replication_network=False, prohibited_filters=()): self.app = loadapp( conf_path, allow_modify_pipeline=allow_modify_pipeline, prohibited_filters=prohibited_filters)"," allow_modify_pipeline=False, use_replication_network=False): self.app = loadapp(conf_path, allow_modify_pipeline=allow_modify_pipeline)",179,44
openstack%2Freleases~master~I8da235655bab682ceeeff2bdb7c3199a6d905cb0,openstack/releases,master,I8da235655bab682ceeeff2bdb7c3199a6d905cb0,[searchlight] Transition Ocata to End of Life,MERGED,2021-06-09 19:18:12.000000000,2021-06-15 15:07:41.000000000,2021-06-15 15:07:41.000000000,"[{'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 19:18:12.000000000', 'files': ['deliverables/ocata/searchlight.yaml', 'deliverables/ocata/searchlight-ui.yaml', 'deliverables/ocata/python-searchlightclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7e052e643b07d7b5f08200fa44da311190ce9a00', 'message': ""[searchlight] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I8da235655bab682ceeeff2bdb7c3199a6d905cb0\n""}]",0,795673,7e052e643b07d7b5f08200fa44da311190ce9a00,8,4,1,17685,,,0,"[searchlight] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I8da235655bab682ceeeff2bdb7c3199a6d905cb0
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/795673/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/searchlight-ui.yaml', 'deliverables/ocata/searchlight.yaml', 'deliverables/ocata/python-searchlightclient.yaml']",3,7e052e643b07d7b5f08200fa44da311190ce9a00,ocata-eol, - version: ocata-eol projects: - repo: openstack/python-searchlightclient hash: 167eef72516fe29acd8717614e1460694b5eb559,,12,0
openstack%2Freleases~master~I366b1714fb0d67f20e3ae1a5c52e3bd2e9779787,openstack/releases,master,I366b1714fb0d67f20e3ae1a5c52e3bd2e9779787,[congress] Transition Ocata to End of Life,MERGED,2021-06-09 18:46:47.000000000,2021-06-15 15:01:11.000000000,2021-06-15 15:01:11.000000000,"[{'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 18:46:47.000000000', 'files': ['deliverables/ocata/python-congressclient.yaml', 'deliverables/ocata/congress.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b25a6892f06898fd7ec686ff1cca28ba8351a1ee', 'message': ""[congress] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I366b1714fb0d67f20e3ae1a5c52e3bd2e9779787\n""}]",0,795649,b25a6892f06898fd7ec686ff1cca28ba8351a1ee,8,4,1,17685,,,0,"[congress] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I366b1714fb0d67f20e3ae1a5c52e3bd2e9779787
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/795649/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/python-congressclient.yaml', 'deliverables/ocata/congress.yaml']",2,b25a6892f06898fd7ec686ff1cca28ba8351a1ee,ocata-eol, - version: ocata-eol projects: - repo: openstack/congress hash: 31866d37f64bb47b24f7f49a7f220cc433865b92,,8,0
openstack%2Fneutron~master~Idd649aa749c11e80b9636dc86282e8af6a8f2ee6,openstack/neutron,master,Idd649aa749c11e80b9636dc86282e8af6a8f2ee6,WIP: Check doc building gate jobs,ABANDONED,2021-05-18 07:28:53.000000000,2021-06-15 14:55:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-18 07:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bfa38e7b8e61cae49b005d29d6cff7d6cb8b6fa8', 'message': 'WIP: Check doc building gate jobs\n\nChange-Id: Idd649aa749c11e80b9636dc86282e8af6a8f2ee6\n'}, {'number': 2, 'created': '2021-05-21 11:27:20.000000000', 'files': ['doc/source/contributor/development_environment.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/db440ca28e13c862bf7bcddf1ec7e6f39b6f8511', 'message': 'WIP: Check doc building gate jobs\n\nChange-Id: Idd649aa749c11e80b9636dc86282e8af6a8f2ee6\n'}]",0,791893,db440ca28e13c862bf7bcddf1ec7e6f39b6f8511,9,1,2,8313,,,0,"WIP: Check doc building gate jobs

Change-Id: Idd649aa749c11e80b9636dc86282e8af6a8f2ee6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/791893/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/development_environment.rst'],1,bfa38e7b8e61cae49b005d29d6cff7d6cb8b6fa8,wip,Foo. ,,2,0
openstack%2Fproject-config~master~I3b02d228d8973b0f2f05fe21d52c434f28d066dc,openstack/project-config,master,I3b02d228d8973b0f2f05fe21d52c434f28d066dc,Re-add publish jobs after panko deprecation,MERGED,2021-06-01 06:48:44.000000000,2021-06-15 14:54:52.000000000,2021-06-15 14:54:52.000000000,"[{'_account_id': 4264}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-01 06:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a9e0352dd9576b509c066a28cc0bd66df166da26', 'message': 'Re-add publish jobs after panko deprecation\n\nDepends-on: https://review.opendev.org/c/openstack/project-config/+/793838\nDepends-on: https://review.opendev.org/c/openstack/panko/+/791683\nDepends-on: https://review.opendev.org/c/openstack/python-pankoclient/+/791692\nDepends-on: https://review.opendev.org/c/openstack/puppet-panko/+/791890\nChange-Id: I3b02d228d8973b0f2f05fe21d52c434f28d066dc\n'}, {'number': 2, 'created': '2021-06-02 09:27:10.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/795c30284c60d6397211a159f1c8bb407ed8cf2d', 'message': 'Re-add publish jobs after panko deprecation\n\nand remove noop jobs again.\n\nDepends-on: https://review.opendev.org/c/openstack/project-config/+/793838\nDepends-on: https://review.opendev.org/c/openstack/panko/+/791683\nDepends-on: https://review.opendev.org/c/openstack/python-pankoclient/+/791692\nDepends-on: https://review.opendev.org/c/openstack/puppet-panko/+/791890\nChange-Id: I3b02d228d8973b0f2f05fe21d52c434f28d066dc\n'}]",1,793891,795c30284c60d6397211a159f1c8bb407ed8cf2d,20,7,2,4264,,,0,"Re-add publish jobs after panko deprecation

and remove noop jobs again.

Depends-on: https://review.opendev.org/c/openstack/project-config/+/793838
Depends-on: https://review.opendev.org/c/openstack/panko/+/791683
Depends-on: https://review.opendev.org/c/openstack/python-pankoclient/+/791692
Depends-on: https://review.opendev.org/c/openstack/puppet-panko/+/791890
Change-Id: I3b02d228d8973b0f2f05fe21d52c434f28d066dc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/91/793891/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,a9e0352dd9576b509c066a28cc0bd66df166da26,retire_panko,, gate: jobs: - noop: branches: master check: jobs: - noop: branches: master gate: jobs: - noop: branches: master check: jobs: - noop: branches: master gate: jobs: - noop: branches: master check: jobs: - noop: branches: master,0,24
openstack%2Ftripleo-validations~stable%2Fwallaby~I49974e88b9f240c8539b5ba3ef3eca1c5b769756,openstack/tripleo-validations,stable/wallaby,I49974e88b9f240c8539b5ba3ef3eca1c5b769756,Use and ownership info for the tripleo-validations modules.,ABANDONED,2021-06-11 07:33:56.000000000,2021-06-15 14:50:45.000000000,,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-06-11 07:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c6543b749da38bfa3c550f7f233e76a5651f75e2', 'message': 'Use and ownership info for the triple-validations modules.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n(cherry picked from commit 746cd0d17de9d7915d47afc040f20e2528e25b42)\n(cherry picked from commit 897ab279ebd41328187760bf500e05da10dfd2ae)\n(cherry picked from commit 55066def3aed2aacd54c084d125bafe770411743)\n(cherry picked from commit 6956d74682338008521cd772ce379baa57417442)\n(cherry picked from commit 201f545bc1d171baacc8af1853be40795ddfb803)\n(cherry picked from commit 11cdcb1868563231103559e06d3c8527a1fe2681)\n(cherry picked from commit ba98421b886cd320b41e41d32b0c3f62002f53af)\n(cherry picked from commit 0dad2560034522deaaa69eba6a6ab6486e056187)\n(cherry picked from commit 81bd49d628c50398c9f001f2b20ae3060d2b7835)\n(cherry picked from commit e7c06ecf047d69b6946f8b308b396f0081f0e7ed)\nChange-Id: I49974e88b9f240c8539b5ba3ef3eca1c5b769756\n'}, {'number': 2, 'created': '2021-06-11 07:45:13.000000000', 'files': ['library/node_disks.py', 'library/ip_range.py', 'library/ovs_dpdk_pmd_cpus_check.py', 'library/ceph_pools_pg_protection.py', 'library/pacemaker.py', 'library/switch_vlans.py', 'library/verify_profiles.py', 'library/network_environment.py', 'library/icmp_ping.py', 'library/check_flavors.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2d0b743d30dcd1bacb47ca39ed931eab5edbe761', 'message': 'Use and ownership info for the tripleo-validations modules.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n(cherry picked from commit 746cd0d17de9d7915d47afc040f20e2528e25b42)\n(cherry picked from commit 897ab279ebd41328187760bf500e05da10dfd2ae)\n(cherry picked from commit 55066def3aed2aacd54c084d125bafe770411743)\n(cherry picked from commit 6956d74682338008521cd772ce379baa57417442)\n(cherry picked from commit 201f545bc1d171baacc8af1853be40795ddfb803)\n(cherry picked from commit 11cdcb1868563231103559e06d3c8527a1fe2681)\n(cherry picked from commit ba98421b886cd320b41e41d32b0c3f62002f53af)\n(cherry picked from commit 0dad2560034522deaaa69eba6a6ab6486e056187)\n(cherry picked from commit 81bd49d628c50398c9f001f2b20ae3060d2b7835)\n(cherry picked from commit e7c06ecf047d69b6946f8b308b396f0081f0e7ed)\nChange-Id: I49974e88b9f240c8539b5ba3ef3eca1c5b769756\n'}]",0,795941,2d0b743d30dcd1bacb47ca39ed931eab5edbe761,6,10,2,32926,,,0,"Use and ownership info for the tripleo-validations modules.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
(cherry picked from commit 746cd0d17de9d7915d47afc040f20e2528e25b42)
(cherry picked from commit 897ab279ebd41328187760bf500e05da10dfd2ae)
(cherry picked from commit 55066def3aed2aacd54c084d125bafe770411743)
(cherry picked from commit 6956d74682338008521cd772ce379baa57417442)
(cherry picked from commit 201f545bc1d171baacc8af1853be40795ddfb803)
(cherry picked from commit 11cdcb1868563231103559e06d3c8527a1fe2681)
(cherry picked from commit ba98421b886cd320b41e41d32b0c3f62002f53af)
(cherry picked from commit 0dad2560034522deaaa69eba6a6ab6486e056187)
(cherry picked from commit 81bd49d628c50398c9f001f2b20ae3060d2b7835)
(cherry picked from commit e7c06ecf047d69b6946f8b308b396f0081f0e7ed)
Change-Id: I49974e88b9f240c8539b5ba3ef3eca1c5b769756
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/41/795941/2 && git format-patch -1 --stdout FETCH_HEAD,"['library/node_disks.py', 'library/ip_range.py', 'library/ovs_dpdk_pmd_cpus_check.py', 'library/ceph_pools_pg_protection.py', 'library/pacemaker.py', 'library/switch_vlans.py', 'library/network_environment.py', 'library/verify_profiles.py', 'library/icmp_ping.py', 'library/check_flavors.py']",10,c6543b749da38bfa3c550f7f233e76a5651f75e2,useandownership,"""""""check_flavors module Used by the collect_flavors_and_verify_profiles validation. """""" - Used by the collect_flavors_and_verify_profiles - Owned by the 'DFG Compute & DFG Hardware Provisioning'",,73,23
openstack%2Fkolla-ansible~master~I2f88b8fc2c6924de9f6bc1840b183ee024c5c1e9,openstack/kolla-ansible,master,I2f88b8fc2c6924de9f6bc1840b183ee024c5c1e9,Reno follow up for docker_disable_ip_forward,MERGED,2021-06-15 08:50:38.000000000,2021-06-15 14:33:45.000000000,2021-06-15 14:31:42.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-15 08:50:38.000000000', 'files': ['releasenotes/notes/docker-disable-ip-forward-b0490b71f9f07cd6.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f9662278cdf3a15e3f5c2ef07587c8f00217a8b', 'message': 'Reno follow up for docker_disable_ip_forward\n\nFollow up to I5129136c066489fdfaa4d93741c22e5010b7e89d, adding upgrade\nnotes.\n\nRelated-Bug: #1931615\nChange-Id: I2f88b8fc2c6924de9f6bc1840b183ee024c5c1e9\n'}]",0,796406,3f9662278cdf3a15e3f5c2ef07587c8f00217a8b,9,3,1,14826,,,0,"Reno follow up for docker_disable_ip_forward

Follow up to I5129136c066489fdfaa4d93741c22e5010b7e89d, adding upgrade
notes.

Related-Bug: #1931615
Change-Id: I2f88b8fc2c6924de9f6bc1840b183ee024c5c1e9
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/796406/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/docker-disable-ip-forward-b0490b71f9f07cd6.yaml'],1,3f9662278cdf3a15e3f5c2ef07587c8f00217a8b,,"upgrade: - | Adds a new flag, ``docker_disable_ip_forward``, which defaults to ``docker_disable_default_iptables_rules`` and is used to disable docker's ``ip-forward`` option which makes docker set ``net.ipv4.ip_forward`` sysctl to ``1``. By default, ``docker_disable_default_iptables_rules`` is ``true``, in which case docker's ``ip-forward`` option is ``disabled``. For existing hosts, this configuration change is applied when configuring docker via ``kolla-ansible bootstrap-servers``. Docker changes the sysctl in a non-persistent manner, so it will revert to the default of ``0`` after a reboot, if not configured elsewhere. This should not cause a problem, since Kolla Ansible applies the sysctl where necessary. Operators may wish to perform a proactive reboot, or apply the default through other means.",,15,0
openstack%2Fansible-collections-openstack~master~Ic90d796fe4bbec118c148ffd468458bd98990422,openstack/ansible-collections-openstack,master,Ic90d796fe4bbec118c148ffd468458bd98990422,Switch object module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-15 14:22:05.000000000,2021-06-15 14:22:05.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b4b864b986197af4425e66212c86e37b92f65535', 'message': 'Switch object module to OpenStackModule\n\nSwitch object module to the general OpenStackModule.\n\nChange-Id: Ic90d796fe4bbec118c148ffd468458bd98990422\n'}, {'number': 2, 'created': '2021-05-21 07:30:55.000000000', 'files': ['plugins/modules/object.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0eef3cb978933f40b71d177bd95d283d0ccf58a1', 'message': 'Switch object module to OpenStackModule\n\nSwitch object module to the general OpenStackModule.\n\nChange-Id: Ic90d796fe4bbec118c148ffd468458bd98990422\n'}]",0,792422,0eef3cb978933f40b71d177bd95d283d0ccf58a1,16,2,2,27900,,,0,"Switch object module to OpenStackModule

Switch object module to the general OpenStackModule.

Change-Id: Ic90d796fe4bbec118c148ffd468458bd98990422
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/22/792422/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/object.py'],1,b4b864b986197af4425e66212c86e37b92f65535,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class SwiftObjectModule(OpenStackModule): argument_spec = dict( module_kwargs = dict() def process_object( self, container, name, filename, container_access, **kwargs ): changed = False container_obj = self.conn.get_container(container) if kwargs['state'] == 'present': if not container_obj: container_obj = self.conn.create_container(container) changed = True if self.conn.get_container_access(container) != container_access: self.conn.set_container_access(container, container_access) changed = True if name: if self.conn.is_object_stale(container, name, filename): self.conn.create_object(container, name, filename) changed = True else: if container_obj: if name: if self.conn.get_object_metadata(container, name): self.conn.delete_object(container, name) changed = True else: self.conn.delete_container(container) changed = True return changed def run(self): changed = self.process_object(**self.params) self.exit_json(changed=changed) def main(): module = SwiftObjectModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def process_object( cloud_obj, container, name, filename, container_access, **kwargs): changed = False container_obj = cloud_obj.get_container(container) if kwargs['state'] == 'present': if not container_obj: container_obj = cloud_obj.create_container(container) changed = True if cloud_obj.get_container_access(container) != container_access: cloud_obj.set_container_access(container, container_access) changed = True if name: if cloud_obj.is_object_stale(container, name, filename): cloud_obj.create_object(container, name, filename) changed = True else: if container_obj: if name: if cloud_obj.get_object_metadata(container, name): cloud_obj.delete_object(container, name) changed = True else: cloud_obj.delete_container(container) changed = True return changed def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, **module_kwargs) sdk, cloud = openstack_cloud_from_module(module) try: changed = process_object(cloud, **module.params) module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",39,42
openstack%2Fansible-collections-openstack~master~I880e425a5b334abfe7b9498d70229427292c2296,openstack/ansible-collections-openstack,master,I880e425a5b334abfe7b9498d70229427292c2296,Switch identity_group module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-15 14:22:02.000000000,2021-06-15 14:22:02.000000000,"[{'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/eb1a5d441e4eb10cb7752efe0a57d7376240e59e', 'message': 'Switch identity_group module to OpenStackModule\n\nChange-Id: I880e425a5b334abfe7b9498d70229427292c2296\n'}, {'number': 2, 'created': '2021-05-21 07:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b04dc671b34853f797146e459c6d1ad8e6df18fc', 'message': 'Switch identity_group module to OpenStackModule\n\nChange-Id: I880e425a5b334abfe7b9498d70229427292c2296\n'}, {'number': 3, 'created': '2021-05-21 12:05:34.000000000', 'files': ['plugins/modules/identity_group.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ad70a20af57ba6d2ac303662031b8350483d8c68', 'message': 'Switch identity_group module to OpenStackModule\n\nChange-Id: I880e425a5b334abfe7b9498d70229427292c2296\n'}]",0,792432,ad70a20af57ba6d2ac303662031b8350483d8c68,23,3,3,27900,,,0,"Switch identity_group module to OpenStackModule

Change-Id: I880e425a5b334abfe7b9498d70229427292c2296
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/32/792432/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/identity_group.py'],1,eb1a5d441e4eb10cb7752efe0a57d7376240e59e,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class IdentityGroupModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( supports_check_mode=True ) def _system_state_change(self, state, description, group): if state == 'present' and not group: return True if state == 'present' and description is not None and group.description != description: return True if state == 'absent' and group: return True return False def run(self): name = self.params.get('name') description = self.params.get('description') state = self.params.get('state') domain_id = self.params.pop('domain_id') if domain_id: group = self.conn.get_group(name, filters={'domain_id': domain_id}) else: group = self.conn.get_group(name) if self.check_mode: self.exit_json(changed=self._system_state_change(state, description, group)) group = self.conn.create_group( group = self.conn.update_group( self.exit_json(changed=changed, group=group) self.conn.delete_group(group.id) self.exit_json(changed=changed) def main(): module = IdentityGroupModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def _system_state_change(state, description, group): if state == 'present' and not group: return True if state == 'present' and description is not None and group.description != description: return True if state == 'absent' and group: return True return False def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, supports_check_mode=True, **module_kwargs) name = module.params.get('name') description = module.params.get('description') state = module.params.get('state') domain_id = module.params.pop('domain_id') sdk, cloud = openstack_cloud_from_module(module) try: if domain_id: group = cloud.get_group(name, filters={'domain_id': domain_id}) else: group = cloud.get_group(name) if module.check_mode: module.exit_json(changed=_system_state_change(state, description, group)) group = cloud.create_group( group = cloud.update_group( module.exit_json(changed=changed, group=group) cloud.delete_group(group.id) module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",33,37
openstack%2Fansible-collections-openstack~master~I9de209373991c8d999b0514549ad5808981441f1,openstack/ansible-collections-openstack,master,I9de209373991c8d999b0514549ad5808981441f1,Switch federation_idp module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-15 13:37:38.000000000,2021-06-15 13:37:38.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/60c71b57ede0f3b95a942e99d560cfe677444458', 'message': 'Switch federation_idp module to OpenStackModule\n\nChange-Id: I9de209373991c8d999b0514549ad5808981441f1\n'}, {'number': 2, 'created': '2021-05-21 07:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b35a2f2d74f1247c97bd42c7a644c957e3eefa8f', 'message': 'Switch federation_idp module to OpenStackModule\n\nChange-Id: I9de209373991c8d999b0514549ad5808981441f1\n'}, {'number': 3, 'created': '2021-05-21 12:14:25.000000000', 'files': ['plugins/modules/federation_idp.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/532857c0b23cedbd8949d926a2f3db6497621e15', 'message': 'Switch federation_idp module to OpenStackModule\n\nChange-Id: I9de209373991c8d999b0514549ad5808981441f1\n'}]",0,792441,532857c0b23cedbd8949d926a2f3db6497621e15,20,2,3,27900,,,0,"Switch federation_idp module to OpenStackModule

Change-Id: I9de209373991c8d999b0514549ad5808981441f1
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/41/792441/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/federation_idp.py'],1,60c71b57ede0f3b95a942e99d560cfe677444458,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class IdentityFederationIdpModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( def normalize_idp(self, idp): """""" Normalizes the IDP definitions so that the outputs are consistent with the parameters - ""enabled"" (parameter) == ""is_enabled"" (SDK) - ""name"" (parameter) == ""id"" (SDK) """""" if idp is None: return None _idp = idp.to_dict() _idp['enabled'] = idp['is_enabled'] _idp['name'] = idp['id'] return _idp def delete_identity_provider(self, idp): """""" Delete an existing Identity Provider returns: the ""Changed"" state """""" if idp is None: return False if self.ansible.check_mode: return True self.conn.identity.delete_identity_provider(idp) return True def create_identity_provider(self, name): """""" Create a new Identity Provider returns: the ""Changed"" state and the new identity provider """""" if self.ansible.check_mode: return True, None description = self.params.get('description') enabled = self.params.get('enabled') domain_id = self.params.get('domain_id') remote_ids = self.params.get('remote_ids') if enabled is None: enabled = True if remote_ids is None: remote_ids = [] attributes = { 'domain_id': domain_id, 'enabled': enabled, 'remote_ids': remote_ids, } if description is not None: attributes['description'] = description idp = self.conn.identity.create_identity_provider(id=name, **attributes) return (True, idp) def update_identity_provider(self, idp): """""" Update an existing Identity Provider returns: the ""Changed"" state and the new identity provider """""" description = self.params.get('description') enabled = self.params.get('enabled') domain_id = self.params.get('domain_id') remote_ids = self.params.get('remote_ids') attributes = {} if (description is not None) and (description != idp.description): attributes['description'] = description if (enabled is not None) and (enabled != idp.is_enabled): attributes['enabled'] = enabled if (domain_id is not None) and (domain_id != idp.domain_id): attributes['domain_id'] = domain_id if (remote_ids is not None) and (remote_ids != idp.remote_ids): attributes['remote_ids'] = remote_ids if not attributes: return False, idp if self.check_mode: return True, None new_idp = self.conn.identity.update_identity_provider(idp, **attributes) return (True, new_idp) def run(self): """""" Module entry point """""" name = self.params.get('name') state = self.params.get('state') changed = False idp = self.conn.identity.find_identity_provider(name) if state == 'absent': if idp is not None: changed = self.delete_identity_provider(idp) self.exit_json(changed=changed) # state == 'present' else: if idp is None: if self.params.get('domain_id') is None: self.fail_json(msg='A domain_id must be passed when creating' ' an identity provider') (changed, idp) = self.create_identity_provider(name) idp = self.normalize_idp(idp) self.exit_json(changed=changed, identity_provider=idp) (changed, new_idp) = self.update_identity_provider(idp) new_idp = self.normalize_idp(new_idp) self.exit_json(changed=changed, identity_provider=new_idp) def main(): module = IdentityFederationIdpModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_full_argument_spec from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_module_kwargs from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_cloud_from_module def normalize_idp(idp): """""" Normalizes the IDP definitions so that the outputs are consistent with the parameters - ""enabled"" (parameter) == ""is_enabled"" (SDK) - ""name"" (parameter) == ""id"" (SDK) """""" if idp is None: return None _idp = idp.to_dict() _idp['enabled'] = idp['is_enabled'] _idp['name'] = idp['id'] return _idp def delete_identity_provider(module, sdk, cloud, idp): """""" Delete an existing Identity Provider returns: the ""Changed"" state """""" if idp is None: return False if module.check_mode: return True try: cloud.identity.delete_identity_provider(idp) except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to delete identity provider: {0}'.format(str(ex))) return True def create_identity_provider(module, sdk, cloud, name): """""" Create a new Identity Provider returns: the ""Changed"" state and the new identity provider """""" if module.check_mode: return True, None description = module.params.get('description') enabled = module.params.get('enabled') domain_id = module.params.get('domain_id') remote_ids = module.params.get('remote_ids') if enabled is None: enabled = True if remote_ids is None: remote_ids = [] attributes = { 'domain_id': domain_id, 'enabled': enabled, 'remote_ids': remote_ids, } if description is not None: attributes['description'] = description try: idp = cloud.identity.create_identity_provider(id=name, **attributes) except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to create identity provider: {0}'.format(str(ex))) return (True, idp) def update_identity_provider(module, sdk, cloud, idp): """""" Update an existing Identity Provider returns: the ""Changed"" state and the new identity provider """""" description = module.params.get('description') enabled = module.params.get('enabled') domain_id = module.params.get('domain_id') remote_ids = module.params.get('remote_ids') attributes = {} if (description is not None) and (description != idp.description): attributes['description'] = description if (enabled is not None) and (enabled != idp.is_enabled): attributes['enabled'] = enabled if (domain_id is not None) and (domain_id != idp.domain_id): attributes['domain_id'] = domain_id if (remote_ids is not None) and (remote_ids != idp.remote_ids): attributes['remote_ids'] = remote_ids if not attributes: return False, idp if module.check_mode: return True, None try: new_idp = cloud.identity.update_identity_provider(idp, **attributes) except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to update identity provider: {0}'.format(str(ex))) return (True, new_idp) def main(): """""" Module entry point """""" argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs( ) module = AnsibleModule( argument_spec, **module_kwargs name = module.params.get('name') state = module.params.get('state') changed = False sdk, cloud = openstack_cloud_from_module(module, min_version=""0.44"") try: idp = cloud.identity.get_identity_provider(name) except sdk.exceptions.ResourceNotFound: idp = None except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to get identity provider: {0}'.format(str(ex))) if state == 'absent': if idp is not None: changed = delete_identity_provider(module, sdk, cloud, idp) module.exit_json(changed=changed) # state == 'present' else: if idp is None: if module.params.get('domain_id') is None: module.fail_json(msg='A domain_id must be passed when creating' ' an identity provider') (changed, idp) = create_identity_provider(module, sdk, cloud, name) idp = normalize_idp(idp) module.exit_json(changed=changed, identity_provider=idp) (changed, new_idp) = update_identity_provider(module, sdk, cloud, idp) new_idp = normalize_idp(new_idp) module.exit_json(changed=changed, identity_provider=new_idp)",127,149
openstack%2Fnova~master~I097753f8295821f5d3562952e0156730600da2e4,openstack/nova,master,I097753f8295821f5d3562952e0156730600da2e4,libvirt: Add 'paths' module,ABANDONED,2020-05-26 14:18:52.000000000,2021-06-15 13:35:49.000000000,,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-26 14:18:52.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_paths.py', 'nova/virt/libvirt/paths.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'mypy-files.txt', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/virt/libvirt/utils.py', 'nova/tests/unit/virt/libvirt/fake_imagebackend.py', 'nova/virt/libvirt/imagebackend.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/feafe394fb8f39d2356136ddd3315f430eceea83', 'message': ""libvirt: Add 'paths' module\n\nProvide a central, non-utils place to keep functions related to various\npaths. We could probably move more things here though we are limited by\nthe dynamic nature of the 'disk_info' model.\n\nChange-Id: I097753f8295821f5d3562952e0156730600da2e4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,730833,feafe394fb8f39d2356136ddd3315f430eceea83,7,6,1,15334,,,0,"libvirt: Add 'paths' module

Provide a central, non-utils place to keep functions related to various
paths. We could probably move more things here though we are limited by
the dynamic nature of the 'disk_info' model.

Change-Id: I097753f8295821f5d3562952e0156730600da2e4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/730833/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_paths.py', 'nova/virt/libvirt/paths.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'mypy-files.txt', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/virt/libvirt/utils.py', 'nova/tests/unit/virt/libvirt/fake_imagebackend.py', 'nova/virt/libvirt/imagebackend.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",10,feafe394fb8f39d2356136ddd3315f430eceea83,trivial,"from nova.virt.libvirt import paths @mock.patch('nova.virt.libvirt.paths.get_instance_path') @mock.patch('nova.virt.libvirt.paths.get_instance_path_at_destination') @mock.patch('nova.virt.libvirt.paths.get_instance_path_at_destination') @mock.patch('nova.virt.libvirt.paths.get_instance_path_at_destination') mock.patch('nova.virt.libvirt.paths.get_console_log_path'), mock.patch('nova.virt.libvirt.utils.file_open') ) as (mock_path, mock_open): mock.patch('nova.virt.libvirt.paths.get_console_log_path'), mock.patch('nova.virt.libvirt.utils.file_open', side_effect=IOError(errno.EACCES, 'exc')) ) as (mock_path, mock_open): mock.patch('nova.virt.libvirt.paths.get_console_log_path'), mock.patch('nova.virt.libvirt.utils.file_open', side_effect=IOError(errno.EREMOTE, 'exc')) ) as (mock_path, mock_open): @mock.patch('nova.virt.libvirt.paths.get_instance_path') @mock.patch('nova.virt.libvirt.paths.get_instance_path') @mock.patch('nova.virt.libvirt.paths.get_instance_path') @mock.patch('nova.virt.libvirt.paths.get_instance_path') @mock.patch('nova.virt.libvirt.paths.get_instance_path') instance_path = paths.get_instance_path(instance) mock.patch.object(paths, 'get_instance_path'), mock.patch.object(paths, 'get_instance_path'), mock.patch.object(paths, 'get_instance_path'), mock.patch.object(paths, 'get_instance_path'), mock.patch.object(paths, 'get_instance_path'), mock.patch.object(paths, 'get_instance_path'), mock.patch.object(paths, 'get_instance_path'), @mock.patch.object(paths, 'get_instance_path') @mock.patch('nova.virt.libvirt.paths.get_instance_path') @mock.patch('nova.virt.libvirt.paths.get_instance_path') @mock.patch('nova.virt.libvirt.paths.get_instance_path') @mock.patch('nova.virt.libvirt.paths.get_instance_path') @mock.patch('nova.virt.libvirt.paths.get_instance_path') @mock.patch('nova.virt.libvirt.paths.get_instance_path') @mock.patch('nova.virt.libvirt.paths.get_instance_path') @mock.patch('nova.virt.libvirt.paths.get_instance_path')"," @mock.patch('nova.virt.libvirt.utils.get_instance_path') @mock.patch('nova.virt.libvirt.utils.get_instance_path_at_destination') @mock.patch('nova.virt.libvirt.utils.get_instance_path_at_destination') @mock.patch('nova.virt.libvirt.utils.get_instance_path_at_destination') mock.patch.object(drvr, '_get_console_log_path'), mock.patch('nova.virt.libvirt.utils.file_open') ) as (mock_path, mock_open): mock.patch.object(drvr, '_get_console_log_path'), mock.patch('nova.virt.libvirt.utils.file_open', side_effect=IOError(errno.EACCES, 'exc')) ) as (mock_path, mock_open): mock.patch.object(drvr, '_get_console_log_path'), mock.patch('nova.virt.libvirt.utils.file_open', side_effect=IOError(errno.EREMOTE, 'exc')) ) as (mock_path, mock_open): @mock.patch('nova.virt.libvirt.utils.get_instance_path') @mock.patch('nova.virt.libvirt.utils.get_instance_path') @mock.patch('nova.virt.libvirt.utils.get_instance_path') @mock.patch('nova.virt.libvirt.utils.get_instance_path') @mock.patch('nova.virt.libvirt.utils.get_instance_path') instance_path = libvirt_utils.get_instance_path(instance) mock.patch.object(libvirt_utils, 'get_instance_path'), mock.patch.object(libvirt_utils, 'get_instance_path'), mock.patch.object(libvirt_utils, 'get_instance_path'), mock.patch.object(libvirt_utils, 'get_instance_path'), mock.patch.object(libvirt_utils, 'get_instance_path'), mock.patch.object(libvirt_utils, 'get_instance_path'), mock.patch.object(libvirt_utils, 'get_instance_path'), @mock.patch.object(libvirt_utils, 'get_instance_path') @mock.patch('nova.virt.libvirt.utils.get_instance_path') @mock.patch('nova.virt.libvirt.utils.get_instance_path') @mock.patch('nova.virt.libvirt.utils.get_instance_path') @mock.patch('nova.virt.libvirt.utils.get_instance_path') @mock.patch('nova.virt.libvirt.utils.get_instance_path') @mock.patch('nova.virt.libvirt.utils.get_instance_path') @mock.patch('nova.virt.libvirt.utils.get_instance_path') @mock.patch('nova.virt.libvirt.utils.get_instance_path')",258,173
openstack%2Fmanila-specs~master~I0dbf7a5587942e0b2522ca6dde3d668fc3bdae92,openstack/manila-specs,master,I0dbf7a5587942e0b2522ca6dde3d668fc3bdae92,Implements: blueprint unified-limits-manila,NEW,2021-06-15 13:16:42.000000000,2021-06-15 13:22:32.000000000,,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 13:16:42.000000000', 'files': ['specs/release_independent/unified-limits-manila.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/56bf911390796439430492133ffd1e0ee5e79a97', 'message': 'Implements: blueprint unified-limits-manila\n\nChange-Id: I0dbf7a5587942e0b2522ca6dde3d668fc3bdae92\n'}]",0,796467,56bf911390796439430492133ffd1e0ee5e79a97,2,3,1,32635,,,0,"Implements: blueprint unified-limits-manila

Change-Id: I0dbf7a5587942e0b2522ca6dde3d668fc3bdae92
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/67/796467/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/release_independent/unified-limits-manila.rst'],1,56bf911390796439430492133ffd1e0ee5e79a97,bp/unified-limits-manila,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================== Unified Limits Integration in Manila ==================================== https://blueprints.launchpad.net/manila/+spec/unified-limits-manila This spec is about adopting Keystone's Unified Limits in Manila. Problem description =================== Quotas have been implemented well within Manila. However, the following challenges are still faced by operators: * There is no consistent support for limits/quota control across OpenStack services. Operators are forced to set limits individually and separately for each service. * There is no support for hierarchical project quotas within Manila. * Confusion arises when API defined quota limits override limits that are set in the configuration file- ``manila.conf``. When limits are overridden at any point via the API, configuration changes to these limits are no longer honored. The above issues can be rectified by adopting Keystone's Unified Limits. More details can be found at https://docs.openstack.org/keystone/latest/admin/unified-limits.html Use Cases ========= Operators will set the default shared-file system resources quotas of projects using unified limits as registered limits. In the scenario operators want to change the limits of a specific project resource,they will do so using the unified limits interface and set them as project limits. Proposed change =============== Within the [DEFAULT] section of ``manila.conf`` an option **use_unified_limits** will be introduced and be set to **False**. When **use_unified_limits** is set to **True**, the existing quota system will be ignored and Keystone's Unified Limits will be used.Also, any quota control configuration option will be ignored and this action, logged. A new section of [oslo_limit] will also be added in ``manila.conf``. This is in accordance with oslo.limit documentation available at https://docs.openstack.org/oslo.limit/latest/user/usage.html#adding-oslo-limit-to-a-service The options within this section will be **auth_url**, **auth_type**, **user_domain_name**, **username**, **system_scope**, **password**, **service_name**, **region_name** and **endpoint_id**. The value for **auth_url** will be similar to that of **auth_url** used in the [keystone_authtoken] section. The value for **auth_type** will be set to **password**. The value for **user_domain_name** will be set to **Default**. The value for **username** will be set to **admin**. The value for **system_scope** will be set to **all**. The value for **password** will be set to the value used for **password** in the [keystone_authtoken] section. The value for **service_name** will be set to **manila**. The value for **region_name** will be set to the region where the operator wants Keystone's Unified Limits to be used. If in Devstack, just use **RegionOne** as the value. The value for **endpoint_id** will be set to the ID used by service API. The list of endpoints can be viewed by :: $ openstack endpoint list and the ID in question, put in as the value for **endpoint_id**. An operator can register Manila service limits prior to making the cloud available to end users. Creating registered limits -------------------------- Registered Limits will be created for resources listed out by the command :: $ manila quota-show These limits will be created as below :: $ openstack --os-cloud devstack-system-admin registered limit create gigabytes --service manila --default-limit 100 --description ""Default gigabytes allowed per project"" --region RegionOne $ openstack --os-cloud devstack-system-admin registered limit create replica_gigabytes --service manila --default-limit 100 --description ""Default replica gigabytes allowed per project"" --region RegionOne $ openstack --os-cloud devstack-system-admin registered limit create share_group_snapshots --service manila --default-limit 100 --description ""Default share group snapshots allowed per project"" --region RegionOne $ openstack --os-cloud devstack-system-admin registered limit create share_groups --service manila --default-limit 100 --description ""Default share groups allowed per project"" --region RegionOne $ openstack --os-cloud devstack-system-admin registered limit create share_networks --service manila --default-limit 100 --description ""Default share networks allowed per project"" --region RegionOne $ openstack --os-cloud devstack-system-admin registered limit create share_replicas --service manila --default-limit 100 --description ""Default share replicas allowed per project"" --region RegionOne $ openstack --os-cloud devstack-system-admin registered limit create shares --service manila --default-limit 100 --description ""Default number of shares allowed per project"" --region RegionOne $ openstack --os-cloud devstack-system-admin registered limit create snapshot_gigabytes --service manila --default-limit 100 --description ""Default snapshot gigabytes allowed per project"" --region RegionOne $ openstack --os-cloud devstack-system-admin registered limit create snapshots --service manila --default-limit 100 --description ""Default snapshots allowed per project"" --region RegionOne Creating per-project limits --------------------------- To override per-project registered limits :: $ openstack --os-cloud devstack-system-admin limit create shares --service manila --resource-limit 10 --project foo --description ""Number of shares allowed for project foo"" $ openstack --os-cloud devstack-system-admin limit create share_replicas --service manila --resource-limit 10 --project foo --description ""Number of share replicas allowed for project foo"" $ openstack --os-cloud devstack-system-admin limit create snapshots --service manila --resource-limit 10 --project foo --description ""Number of snapshots allowed for project foo"" $ openstack --os-cloud devstack-system-admin limit create snapshot_gigabytes --service manila --resource-limit 10 --project foo --description ""Number of snapshot gigabytes allowed for project foo"" $ openstack --os-cloud devstack-system-admin limit create gigabytes --service manila --resource-limit 10 --project foo --description ""Number of gigabytes allowed for project foo"" $ openstack --os-cloud devstack-system-admin limit create replica_gigabytes --service manila --resource-limit 10 --project foo --description ""Number of share replica gigabytes allowed for project foo"" $ openstack --os-cloud devstack-system-admin limit create share_group_snapshots --service manila --resource-limit 10 --project foo --description ""Number of share group snapshots allowed for project foo"" $ openstack --os-cloud devstack-system-admin limit create share_groups --service manila --resource-limit 10 --project foo --description ""Number of share groups allowed for project foo"" $ openstack --os-cloud devstack-system-admin limit create share_networks --service manila --resource-limit 10 --project foo --description ""Number of share networks allowed for project foo"" To update per-project limits :: $ openstack --os-cloud devstack-system-admin limit set <limit-id> --resource-limit 10 --description ""Number of shares allowed for project foo"" To view all per-project limits :: $ openstack --os-cloud devstack-system-admin registered limit list To view per-project limits :: $ openstack --os-cloud devstack-system-admin limit show <limit-id> To delete per-project limits :: $ openstack --os-cloud devstack-system-admin limit delete <limit-id> Quota control APIs in Manila will be modified to respond with ``400 Bad Request`` when operators attempt to create new quotas or override default quotas. Alternatives ------------ 1. Without Unified Limits, consistency in setting quotas will lack across Openstack services. Consistency can be enforced by using client tooling such as OpenStackSDK and OpenStackCLI. This way, the Manila quota API implementation will be abstracted. 2. The current Manila quota system identifies projects as separate entities therefore hierarchical project quotas are not available. We could implement hierarchical project quotas within Manila. This will be more complicated than adopting Unified Limits and also have a negative impact on the API perfomance. 3. To deal with the issue of confusion when API defined limits override limits set in ``manila.conf``, on service start-up, checks could be made in the database and identify overridden limits.The idenfied limits would have to be logged.The major flaw to this approach is that logs are not read frequently. They are only read if there is an issue with the system. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- Operators will use Keystone's Unified Limits interface once it is no longer experimental to set Manila resource quotas. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: paulali<paulali@protonmail.com> Other contributors: None Work Items ---------- * Implement Unified Limits support for gigabytes. * Implement Unified Limits support for replica_gigabytes. * Implement Unified Limits support for share_group_snapshots. * Implement Unified Limits support for share_groups. * Implement Unified Limits support for share_networks. * Implement Unified Limits support for share_replicas. * Implement Unified Limits support for shares. * Implement Unified Limits support for snapshot_gigabytes. * Implement Unified Limits support for snapshots. Dependencies ============ None Testing ======= Unit tests will be required for each resource ported to Keystone's Unified Limits. Documentation Impact ==================== - Manila quota documentation. This will be expected to change once there is better support for Unified Limits in Manila and is no longer considered experimental. References ========== More information about Unified Limits and how they are implemented can be found at: 1. Lance Bragstad's talk about Keystone's Unified Limits - https://www.youtube.com/watch?v=hzcrjk-tgLk 2. Unified Limits documentation in Keystone - https://docs.openstack.org/keystone/latest/admin/unified-limits.html 3. Keystone Unified Limits Spec - https://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/limits-api.html 4. Nova Unified Limits Spec - https://specs.openstack.org/openstack/nova-specs/specs/victoria/approved/unified-limits-nova.html 5. Nova mailing list thread - http://lists.openstack.org/pipermail/openstack-dev/2017-March/113099.html 6. Keystone high overview of limits - https://specs.openstack.org/openstack/keystone-specs/specs/keystone/ongoing/unified-limits.html ",,332,0
openstack%2Frally~master~If6f330929340d4752abc03bfe45565a179f21721,openstack/rally,master,If6f330929340d4752abc03bfe45565a179f21721,[community goal] Update contributor documentation,MERGED,2021-05-18 00:12:08.000000000,2021-06-15 13:05:47.000000000,2021-06-15 13:05:47.000000000,"[{'_account_id': 8556}, {'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 00:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/493638f54b38a8671bcce0bfb04c086099f65596', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38555\nChange-Id: If6f330929340d4752abc03bfe45565a179f21721\n'}, {'number': 2, 'created': '2021-05-31 20:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2cb216f5629da10ce226e25e406aaceac9215b20', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38555\nChange-Id: If6f330929340d4752abc03bfe45565a179f21721\n'}, {'number': 3, 'created': '2021-06-15 11:48:27.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/8414fd260be358363ecaad2f3e704b67b87024ad', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38555\nChange-Id: If6f330929340d4752abc03bfe45565a179f21721\n'}]",0,791852,8414fd260be358363ecaad2f3e704b67b87024ad,13,3,3,8556,,,0,"[community goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38555
Change-Id: If6f330929340d4752abc03bfe45565a179f21721
",git fetch https://review.opendev.org/openstack/rally refs/changes/52/791852/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst']",3,493638f54b38a8671bcce0bfb04c086099f65596,project-ptl-and-contrib-docs, For Contributors ================ * If you are a new contributor to Rally please refer: :doc:`contributor/contributing` .. toctree:: :hidden: contributor/contributing .. toctree:: :maxdepth: 2 contribute , contribute,82,1
openstack%2Fcharm-octavia~master~I24e9b7fd2289e77cca5dfdc6dc13962a605c8351,openstack/charm-octavia,master,I24e9b7fd2289e77cca5dfdc6dc13962a605c8351,Add Victoria bundles to the test gate,ABANDONED,2020-08-28 12:28:09.000000000,2021-06-15 13:04:40.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-28 12:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/fb4f67e12ee13218845f9ae7ae68e33d0c01f1d7', 'message': 'Add focal-victoria to the test gate\n\nChange-Id: I24e9b7fd2289e77cca5dfdc6dc13962a605c8351\n'}, {'number': 2, 'created': '2020-09-24 09:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/ce8263defe3a4d49c561e758b8f7038f14655451', 'message': 'Add focal-victoria to the test gate\n\nChange-Id: I24e9b7fd2289e77cca5dfdc6dc13962a605c8351\n'}, {'number': 3, 'created': '2020-09-25 09:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/8d9fe3c0699d40f4dfd5f870273bf31131c1acb2', 'message': 'Add focal-victoria to the test gate\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/430\nChange-Id: I24e9b7fd2289e77cca5dfdc6dc13962a605c8351\n'}, {'number': 4, 'created': '2020-11-03 15:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/bcd18f0adce97c120c2caa62bdaf413004bf40ed', 'message': 'Add focal-victoria to the test gate\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/430\nChange-Id: I24e9b7fd2289e77cca5dfdc6dc13962a605c8351\n'}, {'number': 5, 'created': '2020-11-05 10:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/62ef5c39d7a60459f6a72de5388c1f938f0605da', 'message': 'Add Victoria bundles to the test gate\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/430\nChange-Id: I24e9b7fd2289e77cca5dfdc6dc13962a605c8351\n'}, {'number': 6, 'created': '2020-11-11 14:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/bd0df24a0791fc7fc7d0622c10bfb1300cbc259d', 'message': 'Add Victoria bundles to the test gate\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/430\nChange-Id: I24e9b7fd2289e77cca5dfdc6dc13962a605c8351\n'}, {'number': 7, 'created': '2021-01-07 14:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/8fe3f83533df06e4d94e6aeefa83300a3a636b00', 'message': 'Add Victoria bundles to the test gate\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/430\nChange-Id: I24e9b7fd2289e77cca5dfdc6dc13962a605c8351\n'}, {'number': 8, 'created': '2021-02-18 13:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/ae3f2d97bae614b3a33b113f378c94b9db9bcdc3', 'message': 'Add Victoria bundles to the test gate\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/430\nChange-Id: I24e9b7fd2289e77cca5dfdc6dc13962a605c8351\n'}, {'number': 9, 'created': '2021-02-23 08:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/bfa76f306bf60e5f8bddcca0d66bc21bcceb0e6b', 'message': 'Add Victoria bundles to the test gate\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/430\nChange-Id: I24e9b7fd2289e77cca5dfdc6dc13962a605c8351\n'}, {'number': 10, 'created': '2021-02-26 20:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/0214babad8755e1916d4295db1485314b51ab8c0', 'message': 'Add Victoria bundles to the test gate\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/430\nChange-Id: I24e9b7fd2289e77cca5dfdc6dc13962a605c8351\n'}, {'number': 11, 'created': '2021-03-09 09:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/3ac3af2d68b6062358071e0d26e584175c604d15', 'message': 'Add Victoria bundles to the test gate\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/430\nChange-Id: I24e9b7fd2289e77cca5dfdc6dc13962a605c8351\n'}, {'number': 12, 'created': '2021-03-10 08:54:18.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/5112809d2aecbba639721f909d061c16e9219dc9', 'message': 'Add Victoria bundles to the test gate\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/430\nChange-Id: I24e9b7fd2289e77cca5dfdc6dc13962a605c8351\n'}]",0,748652,5112809d2aecbba639721f909d061c16e9219dc9,93,4,12,31289,,,0,"Add Victoria bundles to the test gate

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/430
Change-Id: I24e9b7fd2289e77cca5dfdc6dc13962a605c8351
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/52/748652/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,fb4f67e12ee13218845f9ae7ae68e33d0c01f1d7,groovy-charm-gate,- focal-victoria-ha-ovn - focal-victoria-ha,- focal-victoria-ha-ovn - focal-victoria-ha,2,2
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Id0daf6aa7a0ec8db3e459022a5ebb1c437671191,openstack/tripleo-heat-templates,stable/victoria,Id0daf6aa7a0ec8db3e459022a5ebb1c437671191,Fix typo in ceilometer-write-qdr environment file,MERGED,2021-06-08 17:53:07.000000000,2021-06-15 13:03:45.000000000,2021-06-15 13:03:45.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 17:53:07.000000000', 'files': ['environments/metrics/ceilometer-write-qdr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67ae1b9535fae304df5f0d6db57127c4b9890d4a', 'message': 'Fix typo in ceilometer-write-qdr environment file\n\nFix typo of CeilometerQdrPublishMetrics parameter name in the\nceilometer-write-qdr environment file.\n\n(cherry picked from commit 590f3669916cf1f9c10b25e86cdae8209df121fa)\n\nChange-Id: Id0daf6aa7a0ec8db3e459022a5ebb1c437671191\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}]",0,795387,67ae1b9535fae304df5f0d6db57127c4b9890d4a,10,3,1,7294,,,0,"Fix typo in ceilometer-write-qdr environment file

Fix typo of CeilometerQdrPublishMetrics parameter name in the
ceilometer-write-qdr environment file.

(cherry picked from commit 590f3669916cf1f9c10b25e86cdae8209df121fa)

Change-Id: Id0daf6aa7a0ec8db3e459022a5ebb1c437671191
Signed-off-by: Leif Madsen <lmadsen@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/795387/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/metrics/ceilometer-write-qdr.yaml'],1,67ae1b9535fae304df5f0d6db57127c4b9890d4a,, CeilometerQdrPublishMetrics: true, CeilometerQdrPublisMetrics: true,1,1
openstack%2Ftripleo-ci~master~I9132744a149dda672119cb0fde46cc1abf51efab,openstack/tripleo-ci,master,I9132744a149dda672119cb0fde46cc1abf51efab,Add cloud-init to the exclude list for AppStream repo,ABANDONED,2021-06-02 12:18:47.000000000,2021-06-15 12:46:18.000000000,,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-02 12:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5dfe1c5726a9c5aae0f4cd76ede750465423bf87', 'message': 'Add cloud-init to the exclude list for AppStream repo\n\nThis particular release of cloud-init contains some changes regarding\nopenvswitch that might be affecting our jobs. We are for now skipping\nthis.\n\nRelated-Bug: #1929745\nChange-Id: I9132744a149dda672119cb0fde46cc1abf51efab\n'}, {'number': 2, 'created': '2021-06-02 12:43:30.000000000', 'files': ['roles/tripleo-repos/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a2c09a942cdfb83da3b366756b6f2ceeaf12358e', 'message': 'Add cloud-init to the exclude list for AppStream repo\n\nThis particular release of cloud-init contains some changes regarding\nopenvswitch that might be affecting our jobs. We are for now skipping\nthis.\n\nRelated-Bug: #1929745\nChange-Id: I9132744a149dda672119cb0fde46cc1abf51efab\n'}]",2,794208,a2c09a942cdfb83da3b366756b6f2ceeaf12358e,11,6,2,8367,,,0,"Add cloud-init to the exclude list for AppStream repo

This particular release of cloud-init contains some changes regarding
openvswitch that might be affecting our jobs. We are for now skipping
this.

Related-Bug: #1929745
Change-Id: I9132744a149dda672119cb0fde46cc1abf51efab
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/08/794208/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-repos/tasks/main.yml'],1,5dfe1c5726a9c5aae0f4cd76ede750465423bf87,cloud-init-downgrade,# Remove this task once #1929745 is fixed. - name: Add cloud-init on exclude list for AppStream repo become: true lineinfile: path: /etc/yum.repos.d/CentOS-Stream-AppStream.repo line: 'exclude=cloud-init-20.3-10.el8_4.2*' insertafter: EOF ,,8,0
openstack%2Fcharm-ceph-rbd-mirror~master~I53d0b42b43731ac06d96932f3dcf72c116f360f3,openstack/charm-ceph-rbd-mirror,master,I53d0b42b43731ac06d96932f3dcf72c116f360f3,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-03 20:39:08.000000000,2021-06-15 12:29:06.000000000,2021-06-15 12:29:06.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-03 20:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/6559c439832c7719bc2268cc88f6a1d03ff21587', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I53d0b42b43731ac06d96932f3dcf72c116f360f3\n'}, {'number': 2, 'created': '2021-03-30 11:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/a04dbc7a701aeae63315f3aff4d93a11e8c7e9c7', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I53d0b42b43731ac06d96932f3dcf72c116f360f3\n'}, {'number': 3, 'created': '2021-04-20 14:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/8ee8b39d784194007d0570b61a45578370be709a', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I53d0b42b43731ac06d96932f3dcf72c116f360f3\n'}, {'number': 4, 'created': '2021-05-06 10:29:01.000000000', 'files': ['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-wallaby-image-mirroring.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby-image-mirroring.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/1845ed2f50453257e83a1c16d0389cc6aa1ebd4f', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I53d0b42b43731ac06d96932f3dcf72c116f360f3\n'}]",0,778575,1845ed2f50453257e83a1c16d0389cc6aa1ebd4f,44,3,4,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Change-Id: I53d0b42b43731ac06d96932f3dcf72c116f360f3
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/75/778575/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",3,6559c439832c7719bc2268cc88f6a1d03ff21587,wallaby-bundles,- hirsute-wallaby- focal-wallaby - hirsute-wallaby, - groovy-victoria,336,1
openstack%2Freleases~master~I19561a49544d1d855d41fe50e09974f6c30267b0,openstack/releases,master,I19561a49544d1d855d41fe50e09974f6c30267b0,python-glanceclient 3.4.0,MERGED,2021-06-10 15:34:05.000000000,2021-06-15 12:27:59.000000000,2021-06-15 11:59:00.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-10 15:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bb16c858c2182c224bc9ebc4e829dfcfca9486e7', 'message': 'python-glanceclient 3.3.1\n\nUncap PrettyTable, plus some mechanical stable/wallaby-related changes.\n\nChange-Id: I19561a49544d1d855d41fe50e09974f6c30267b0\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2021-06-14 11:07:11.000000000', 'files': ['deliverables/xena/python-glanceclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2772b43b96d712f7defb40eef26081fd32bc5d8c', 'message': ""python-glanceclient 3.4.0\n\nUncap PrettyTable, plus some mechanical stable/wallaby-related changes.\nThis is a new minor release since we're in a new series.\n\nChange-Id: I19561a49544d1d855d41fe50e09974f6c30267b0\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",2,795836,2772b43b96d712f7defb40eef26081fd32bc5d8c,19,6,2,15334,,,0,"python-glanceclient 3.4.0

Uncap PrettyTable, plus some mechanical stable/wallaby-related changes.
This is a new minor release since we're in a new series.

Change-Id: I19561a49544d1d855d41fe50e09974f6c30267b0
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/36/795836/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/python-glanceclient.yaml'],1,bb16c858c2182c224bc9ebc4e829dfcfca9486e7,python-glanceclient,releases: - version: 3.3.1 projects: - repo: openstack/python-glanceclient hash: de0e9d9510e997c5d49fc28e7175e326f216b038,,5,0
openstack%2Fansible-collections-openstack~master~I8d7250cbc5396af25b9720c6f5ccb3925a398ac7,openstack/ansible-collections-openstack,master,I8d7250cbc5396af25b9720c6f5ccb3925a398ac7,Switch identity_domain module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-15 12:18:35.000000000,2021-06-15 12:18:35.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a37b11ea714de1d0d145911122a6ecff3d2457dd', 'message': 'Switch identity_domain module to OpenStackModule\n\nChange-Id: I8d7250cbc5396af25b9720c6f5ccb3925a398ac7\n'}, {'number': 2, 'created': '2021-05-21 07:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b6411e1e2fd2a3f461df07c03939e72acb0a4c15', 'message': 'Switch identity_domain module to OpenStackModule\n\nChange-Id: I8d7250cbc5396af25b9720c6f5ccb3925a398ac7\n'}, {'number': 3, 'created': '2021-05-21 12:15:35.000000000', 'files': ['plugins/modules/identity_domain.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a51d922beeb2478f656c45a8baafa90f660f2966', 'message': 'Switch identity_domain module to OpenStackModule\n\nChange-Id: I8d7250cbc5396af25b9720c6f5ccb3925a398ac7\n'}]",0,792434,a51d922beeb2478f656c45a8baafa90f660f2966,14,2,3,27900,,,0,"Switch identity_domain module to OpenStackModule

Change-Id: I8d7250cbc5396af25b9720c6f5ccb3925a398ac7
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/34/792434/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/identity_domain.py'],1,a37b11ea714de1d0d145911122a6ecff3d2457dd,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class IdentityDomainModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( supports_check_mode=True ) def _needs_update(self, domain): if self.params['description'] is not None and \ domain.description != self.params['description']: return True if domain.enabled != self.params['enabled']: return True return False def _system_state_change(self, domain): state = self.params['state'] if state == 'absent' and domain: return True if state == 'present': if domain is None: return True return self._needs_update(domain) return False def run(self): name = self.params['name'] description = self.params['description'] enabled = self.params['enabled'] state = self.params['state'] domains = self.conn.search_domains(filters=dict(name=name)) self.fail_json(msg='Domain name %s is not unique' % name) if self.check_mode: self.exit_json(changed=self._system_state_change(domain)) domain = self.conn.create_domain( if self._needs_update(domain): domain = self.conn.update_domain( self.exit_json(changed=changed, domain=domain, id=domain.id) self.conn.delete_domain(domain.id) self.exit_json(changed=changed) def main(): module = IdentityDomainModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def _needs_update(module, domain): if module.params['description'] is not None and \ domain.description != module.params['description']: return True if domain.enabled != module.params['enabled']: return True return False def _system_state_change(module, domain): state = module.params['state'] if state == 'absent' and domain: return True if state == 'present': if domain is None: return True return _needs_update(module, domain) return False def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, supports_check_mode=True, **module_kwargs) name = module.params['name'] description = module.params['description'] enabled = module.params['enabled'] state = module.params['state'] sdk, cloud = openstack_cloud_from_module(module) try: domains = cloud.search_domains(filters=dict(name=name)) module.fail_json(msg='Domain name %s is not unique' % name) if module.check_mode: module.exit_json(changed=_system_state_change(module, domain)) domain = cloud.create_domain( if _needs_update(module, domain): domain = cloud.update_domain( module.exit_json(changed=changed, domain=domain, id=domain.id) cloud.delete_domain(domain.id) module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",44,50
openstack%2Fmanila-tempest-plugin~master~I7f40922d6d38d3c7388ba8faf51a248e46e05a29,openstack/manila-tempest-plugin,master,I7f40922d6d38d3c7388ba8faf51a248e46e05a29,[DNM] Test Ceph Nautilus,NEW,2021-06-14 17:08:56.000000000,2021-06-15 12:14:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-14 17:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/98594493f137a4c8ff9d00bf0bb163f56d23d66c', 'message': '[DNM] Test Ceph Nautilus\n\nDepends-On: https://review.opendev.org/c/openstack/manila/+/794275\nChange-Id: I7f40922d6d38d3c7388ba8faf51a248e46e05a29\n'}, {'number': 2, 'created': '2021-06-14 17:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/d1b1925ba82deb5a277ae53335ec3025fc2ec265', 'message': '[DNM] Test Ceph Nautilus\n\nDepends-On: https://review.opendev.org/c/openstack/manila/+/794275\nChange-Id: I7f40922d6d38d3c7388ba8faf51a248e46e05a29\n'}, {'number': 3, 'created': '2021-06-14 17:40:39.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/6cd336478da1e752ef013215cfd8da7a22361baa', 'message': '[DNM] Test Ceph Nautilus\n\nDepends-On: https://review.opendev.org/c/openstack/manila/+/794275\nChange-Id: I7f40922d6d38d3c7388ba8faf51a248e46e05a29\n'}]",0,796306,6cd336478da1e752ef013215cfd8da7a22361baa,8,1,3,6413,,,0,"[DNM] Test Ceph Nautilus

Depends-On: https://review.opendev.org/c/openstack/manila/+/794275
Change-Id: I7f40922d6d38d3c7388ba8faf51a248e46e05a29
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/06/796306/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/manila-tempest-jobs.yaml'],1,98594493f137a4c8ff9d00bf0bb163f56d23d66c,test-nautilus, CEPH_RELEASE: 'nautilus' CEPH_RELEASE: 'nautilus' GANESHA_RELEASE: 'V2.7-stable'," - job: name: manila-tempest-plugin-ipv6-base abstract: true description: | Base job for devstack/tempest based manila jobs in a 4+6 (dual-stack) devstack environment with IPv6 control plane endpoints. parent: devstack-tempest-ipv6 timeout: 10800 irrelevant-files: *irrelevant-files required-projects: *manila-tempest-required-projects vars: *manila-tempest-base-vars - job: name: manila-tempest-plugin-standalone-base abstract: true description: | Base job for running a minimal devstack with tempest based manila jobs. timeout: 3600 parent: devstack-minimal irrelevant-files: *irrelevant-files roles: - zuul: opendev.org/openstack/devstack - zuul: opendev.org/openstack/tempest required-projects: - openstack/keystone - openstack/manila - openstack/manila-tempest-plugin - openstack/python-manilaclient - openstack/tempest run: playbooks/manila-tempest-plugin-standalone/run.yaml post-run: playbooks/manila-tempest-plugin-standalone/post.yaml vars: tox_envlist: all tempest_test_regex: manila_tempest_tests.tests.api tempest_concurrency: 16 tempest_plugins: - manila-tempest-plugin devstack_plugins: manila: https://opendev.org/openstack/manila test_results_stage_name: test_results zuul_copy_output: '{{ devstack_base_dir }}/tempest/etc/tempest.conf': logs '{{ devstack_base_dir }}/tempest/etc/accounts.yaml': logs '{{ devstack_base_dir }}/tempest/tempest.log': logs '{{ stage_dir }}/{{ test_results_stage_name }}.subunit': logs '{{ stage_dir }}/{{ test_results_stage_name }}.html': logs '{{ stage_dir }}/stackviz': logs extensions_to_txt: conf: true log: true yaml: true yml: true devstack_localrc: USE_PYTHON3: true MANILA_INSTALL_TEMPEST_PLUGIN_SYSTEMWIDE: false MANILA_SERVICE_IMAGE_ENABLED: false MANILA_SHARE_MIGRATION_PERIOD_TASK_INTERVAL: 1 MANILA_SERVER_MIGRATION_PERIOD_TASK_INTERVAL: 10 MANILA_REPLICA_STATE_UPDATE_INTERVAL: 10 devstack_services: tls-proxy: true key: true tempest: true - job: name: manila-tempest-plugin-zfsonlinux description: Test ZFSOnLinux multibackend (DHSS=False) with postgresql db parent: manila-tempest-plugin-base vars: tempest_test_regex: '(^manila_tempest_tests.tests)(?=.*\[.*\bbackend\b.*\])' devstack_localrc: SHARE_DRIVER: manila.share.drivers.zfsonlinux.driver.ZFSonLinuxShareDriver MANILA_ENABLED_BACKENDS: london,paris MANILA_BACKEND1_CONFIG_GROUP_NAME: london MANILA_BACKEND2_CONFIG_GROUP_NAME: paris MANILA_SHARE_BACKEND1_NAME: LONDON MANILA_SHARE_BACKEND2_NAME: PARIS MANILA_OPTGROUP_london_driver_handles_share_servers: false MANILA_OPTGROUP_paris_driver_handles_share_servers: false MANILA_SHARE_MIGRATION_PERIOD_TASK_INTERVAL: 1 MANILA_REPLICA_STATE_UPDATE_INTERVAL: 60 MANILA_ZFSONLINUX_SERVICE_IP: 127.0.0.1 MANILA_ZFSONLINUX_USE_SSH: true MANILA_USE_SCHEDULER_CREATING_SHARE_FROM_SNAPSHOT: true devstack_services: mysql: false postgresql: true devstack_local_conf: test-config: $TEMPEST_CONFIG: share: default_share_type_name: default run_driver_assisted_migration_tests: true run_host_assisted_migration_tests: true run_replication_tests: true run_manage_unmanage_snapshot_tests: true run_manage_unmanage_tests: true run_multiple_share_replicas_tests: false run_create_share_from_snapshot_in_another_pool_or_az_tests: true backend_replication_type: readable enable_protocols: nfs capability_storage_protocol: NFS build_timeout: 180 enable_ip_rules_for_protocols: nfs multitenancy_enabled: False backend_names: LONDON,PARIS multi_backend: true image_password: manila - job: name: manila-tempest-plugin-lvm description: | Test LVM multibackend (DHSS=False) in a 4+6 (dual-stack) devstack environment with IPv6 control plane endpoints. parent: manila-tempest-plugin-ipv6-base required-projects: - openstack/neutron-dynamic-routing vars: tempest_test_regex: '(^manila_tempest_tests.tests)(?=.*\[.*\bbackend\b.*\])' devstack_localrc: SHARE_DRIVER: manila.share.drivers.lvm.LVMShareDriver MANILA_ENABLED_BACKENDS: london,paris MANILA_BACKEND1_CONFIG_GROUP_NAME: london MANILA_BACKEND2_CONFIG_GROUP_NAME: paris MANILA_SHARE_BACKEND1_NAME: LONDON MANILA_SHARE_BACKEND2_NAME: PARIS MANILA_OPTGROUP_london_driver_handles_share_servers: false MANILA_OPTGROUP_paris_driver_handles_share_servers: false SHARE_BACKING_FILE_SIZE: 32000M MANILA_SHARE_MIGRATION_PERIOD_TASK_INTERVAL: 1 MANILA_DEFAULT_SHARE_TYPE_EXTRA_SPECS: 'snapshot_support=True create_share_from_snapshot_support=True revert_to_snapshot_support=True mount_snapshot_support=True' MANILA_SETUP_IPV6: true NEUTRON_CREATE_INITIAL_NETWORKS: false MANILA_RESTORE_IPV6_DEFAULT_ROUTE: false devstack_plugins: neutron-dynamic-routing: https://opendev.org/openstack/neutron-dynamic-routing devstack_local_conf: test-config: $TEMPEST_CONFIG: share: default_share_type_name: default run_ipv6_tests: true run_mount_snapshot_tests: true run_host_assisted_migration_tests: true run_shrink_tests: false run_revert_to_snapshot_tests: true enable_user_rules_for_protocols: cifs enable_ip_rules_for_protocols: nfs multitenancy_enabled: False backend_names: LONDON,PARIS multi_backend: true image_password: manila - job: name: manila-tempest-plugin-container description: | Test the container driver multibackend (DHSS=True) with CIFS and postgresql db. API only, in a minimal devstack parent: manila-tempest-plugin-base vars: tempest_test_regex: manila_tempest_tests.tests.api devstack_localrc: SHARE_DRIVER: manila.share.drivers.container.driver.ContainerShareDriver MANILA_SERVICE_IMAGE_ENABLED: false MANILA_ENABLED_BACKENDS: london,paris MANILA_BACKEND1_CONFIG_GROUP_NAME: london MANILA_BACKEND2_CONFIG_GROUP_NAME: paris MANILA_SHARE_BACKEND1_NAME: LONDON MANILA_SHARE_BACKEND2_NAME: PARIS MANILA_OPTGROUP_london_driver_handles_share_servers: true MANILA_OPTGROUP_paris_driver_handles_share_servers: true SHARE_BACKING_FILE_SIZE: 64000M MANILA_CONFIGURE_DEFAULT_TYPES: false MANILA_DEFAULT_SHARE_TYPE_EXTRA_SPECS: 'snapshot_support=false' TEMPEST_USE_TEST_ACCOUNTS: true devstack_services: mysql: false postgresql: true devstack_local_conf: test-config: $TEMPEST_CONFIG: share: enable_ip_rules_for_protocols: """" run_share_group_tests: false run_manage_unmanage_tests: true run_snapshot_tests: false run_shrink_tests: false enable_user_rules_for_protocols: cifs enable_protocols: cifs capability_storage_protocol: CIFS multitenancy_enabled: true backend_names: LONDON,PARIS multi_backend: true run_share_server_migration_tests: true - job: name: manila-tempest-plugin-generic description: | Test the generic driver multibackend (DHSS=True) with NFS and CIFS parent: manila-tempest-plugin-base vars: tempest_test_regex: '(^manila_tempest_tests.tests)(?=.*\[.*\bbackend\b.*\])' # The generic driver uses nova VMs as share servers; running with a # high concurrency could starve the driver of RAM/Disk/CPUs to # function properly in a small single node devstack VM. tempest_concurrency: 2 devstack_localrc: VOLUME_BACKING_FILE_SIZE: 24G SHARE_DRIVER: manila.share.drivers.generic.GenericShareDriver MANILA_ENABLED_BACKENDS: london,paris MANILA_BACKEND1_CONFIG_GROUP_NAME: london MANILA_BACKEND2_CONFIG_GROUP_NAME: paris MANILA_SHARE_BACKEND1_NAME: LONDON MANILA_SHARE_BACKEND2_NAME: PARIS MANILA_OPTGROUP_london_driver_handles_share_servers: true MANILA_OPTGROUP_paris_driver_handles_share_servers: true MANILA_USE_SERVICE_INSTANCE_PASSWORD: true MANILA_DEFAULT_SHARE_TYPE_EXTRA_SPECS: 'snapshot_support=True create_share_from_snapshot_support=True' TEMPEST_USE_TEST_ACCOUNTS: true devstack_services: cinder: true devstack_local_conf: test-config: $TEMPEST_CONFIG: share: default_share_type_name: default run_share_group_tests: false multitenancy_enabled: true suppress_errors_in_cleanup: true share_creation_retry_number: 2 backend_names: LONDON,PARIS multi_backend: true image_password: manila - job: name: manila-tempest-plugin-dummy-no-dhss description: Test the Dummy driver with DHSS=False parent: manila-tempest-plugin-standalone-base vars: devstack_localrc: SHARE_DRIVER: manila.tests.share.drivers.dummy.DummyDriver MANILA_CONFIGURE_GROUPS: alpha,beta,gamma,membernet MANILA_DEFAULT_SHARE_TYPE_EXTRA_SPECS: 'snapshot_support=True create_share_from_snapshot_support=True revert_to_snapshot_support=True mount_snapshot_support=True' MANILA_ENABLED_BACKENDS: alpha,beta,gamma MANILA_OPTGROUP_alpha_driver_handles_share_servers: false MANILA_OPTGROUP_alpha_replication_domain: DUMMY_DOMAIN MANILA_OPTGROUP_alpha_share_backend_name: ALPHA MANILA_OPTGROUP_alpha_share_driver: manila.tests.share.drivers.dummy.DummyDriver MANILA_OPTGROUP_beta_driver_handles_share_servers: false MANILA_OPTGROUP_beta_replication_domain: DUMMY_DOMAIN MANILA_OPTGROUP_beta_share_backend_name: BETA MANILA_OPTGROUP_beta_share_driver: manila.tests.share.drivers.dummy.DummyDriver # With below opts we'll enable a DHSS=True back-end solely for # for the migration test case ""test_migration_opposite_driver_modes"" MANILA_OPTGROUP_gamma_driver_handles_share_servers: true MANILA_OPTGROUP_gamma_network_config_group: membernet MANILA_OPTGROUP_gamma_share_backend_name: GAMMA MANILA_OPTGROUP_gamma_share_driver: manila.tests.share.drivers.dummy.DummyDriver MANILA_OPTGROUP_gamma_admin_network_config_group: membernet MANILA_OPTGROUP_membernet_network_api_class: manila.network.standalone_network_plugin.StandaloneNetworkPlugin MANILA_OPTGROUP_membernet_network_plugin_ipv4_enabled: true MANILA_OPTGROUP_membernet_standalone_network_plugin_allowed_ip_ranges: 10.0.0.10-10.0.0.209 MANILA_OPTGROUP_membernet_standalone_network_plugin_gateway: 10.0.0.1 MANILA_OPTGROUP_membernet_standalone_network_plugin_mask: 24 MANILA_OPTGROUP_membernet_standalone_network_plugin_network_type: vlan MANILA_OPTGROUP_membernet_standalone_network_plugin_segmentation_id: 1010 devstack_local_conf: test-config: ""$TEMPEST_CONFIG"": share: backend_names: ALPHA,BETA backend_replication_type: readable build_timeout: 180 capability_sg_consistent_snapshot_support: pool enable_ip_rules_for_protocols: nfs enable_ro_access_level_for_protocols: nfs,cifs enable_user_rules_for_protocols: cifs multi_backend: true multitenancy_enabled: false run_driver_assisted_migration_tests: true run_manage_unmanage_snapshot_tests: true run_manage_unmanage_tests: true run_migration_with_preserve_snapshots_tests: true run_mount_snapshot_tests: true run_replication_tests: true run_revert_to_snapshot_tests: true # for migration test case ""test_migration_opposite_driver_modes"" create_networks_when_multitenancy_enabled: false - job: name: manila-tempest-plugin-dummy-dhss description: Test the Dummy driver with DHSS=True parent: manila-tempest-plugin-standalone-base vars: devstack_localrc: SHARE_DRIVER: manila.tests.share.drivers.dummy.DummyDriver MANILA_CONFIGURE_GROUPS: alpha,beta,gamma,membernet,adminnet MANILA_DEFAULT_SHARE_TYPE_EXTRA_SPECS: 'snapshot_support=True create_share_from_snapshot_support=True revert_to_snapshot_support=True mount_snapshot_support=True' MANILA_ENABLED_BACKENDS: alpha,beta MANILA_OPTGROUP_DEFAULT_quota_share_networks: 50 MANILA_OPTGROUP_adminnet_network_api_class: manila.network.standalone_network_plugin.StandaloneNetworkPlugin MANILA_OPTGROUP_adminnet_network_plugin_ipv4_enabled: true MANILA_OPTGROUP_adminnet_standalone_network_plugin_allowed_ip_ranges: 11.0.0.10-11.0.0.19,11.0.0.30-11.0.0.39,11.0.0.50-11.0.0.199 MANILA_OPTGROUP_adminnet_standalone_network_plugin_gateway: 11.0.0.1 MANILA_OPTGROUP_adminnet_standalone_network_plugin_mask: 24 MANILA_OPTGROUP_adminnet_standalone_network_plugin_network_type: vlan MANILA_OPTGROUP_adminnet_standalone_network_plugin_segmentation_id: 1011 MANILA_OPTGROUP_alpha_admin_network_config_group: adminnet MANILA_OPTGROUP_alpha_driver_handles_share_servers: true MANILA_OPTGROUP_alpha_network_config_group: membernet MANILA_OPTGROUP_alpha_replication_domain: DUMMY_DOMAIN MANILA_OPTGROUP_alpha_share_backend_name: ALPHA MANILA_OPTGROUP_alpha_share_driver: manila.tests.share.drivers.dummy.DummyDriver MANILA_OPTGROUP_beta_admin_network_config_group: adminnet MANILA_OPTGROUP_beta_driver_handles_share_servers: true MANILA_OPTGROUP_beta_network_config_group: membernet MANILA_OPTGROUP_beta_replication_domain: DUMMY_DOMAIN MANILA_OPTGROUP_beta_share_backend_name: BETA MANILA_OPTGROUP_beta_share_driver: manila.tests.share.drivers.dummy.DummyDriver MANILA_OPTGROUP_membernet_network_api_class: manila.network.standalone_network_plugin.StandaloneNetworkPlugin MANILA_OPTGROUP_membernet_network_plugin_ipv4_enabled: true MANILA_OPTGROUP_membernet_standalone_network_plugin_allowed_ip_ranges: 10.0.0.10-10.0.0.209 MANILA_OPTGROUP_membernet_standalone_network_plugin_gateway: 10.0.0.1 MANILA_OPTGROUP_membernet_standalone_network_plugin_mask: 24 MANILA_OPTGROUP_membernet_standalone_network_plugin_network_type: vlan MANILA_OPTGROUP_membernet_standalone_network_plugin_segmentation_id: 1010 # With below opts we'll enable a DHSS=False back-end solely for # for the migration test case ""test_migration_opposite_driver_modes"" MANILA_OPTGROUP_gamma_driver_handles_share_servers: false MANILA_OPTGROUP_gamma_share_backend_name: GAMMA MANILA_OPTGROUP_gamma_share_driver: manila.tests.share.drivers.dummy.DummyDriver devstack_local_conf: test-config: ""$TEMPEST_CONFIG"": share: backend_names: ALPHA,BETA backend_replication_type: readable build_timeout: 180 capability_sg_consistent_snapshot_support: pool create_networks_when_multitenancy_enabled: false enable_ip_rules_for_protocols: nfs enable_ro_access_level_for_protocols: nfs,cifs enable_user_rules_for_protocols: cifs multi_backend: true multitenancy_enabled: true run_driver_assisted_migration_tests: true run_manage_unmanage_snapshot_tests: true run_manage_unmanage_tests: true run_migration_with_preserve_snapshots_tests: true run_mount_snapshot_tests: true run_replication_tests: true run_revert_to_snapshot_tests: true run_share_server_migration_tests: true - job: name: manila-tempest-plugin-glusterfs-native description: | Test the GlusterFS driver (DHSS=False) with the native GlusterFS protocol parent: manila-tempest-plugin-standalone-base required-projects: - x/devstack-plugin-glusterfs vars: tempest_concurrency: 8 devstack_plugins: devstack-plugin-glusterfs: https://opendev.org/x/devstack-plugin-glusterfs devstack_localrc: CONFIGURE_GLUSTERFS_MANILA: true GLUSTERFS_MANILA_DRIVER_TYPE: glusterfs-native MANILA_DEFAULT_SHARE_TYPE_EXTRA_SPECS: 'snapshot_support=True create_share_from_snapshot_support=True' devstack_local_conf: test-config: $TEMPEST_CONFIG: share: run_share_group_tests: false run_snapshot_tests: false multitenancy_enabled: false run_shrink_tests: false run_extend_tests: false multi_backend: false suppress_errors_in_cleanup: True share_creation_retry_number: 2 backend_names: GLUSTERNATIVE enable_cert_rules_for_protocols: glusterfs capability_storage_protocol: glusterfs enable_protocols: glusterfs - job: name: manila-tempest-plugin-glusterfs-nfs description: | Test the GlusterFS driver (DHSS=False) with the native NFS protocol parent: manila-tempest-plugin-standalone-base required-projects: - x/devstack-plugin-glusterfs vars: tempest_concurrency: 8 devstack_plugins: devstack-plugin-glusterfs: https://opendev.org/x/devstack-plugin-glusterfs devstack_localrc: CONFIGURE_GLUSTERFS_MANILA: true GLUSTERFS_MANILA_DRIVER_TYPE: glusterfs-nfs MANILA_DEFAULT_SHARE_TYPE_EXTRA_SPECS: 'snapshot_support=False' devstack_local_conf: test-config: $TEMPEST_CONFIG: share: run_share_group_tests: false run_snapshot_tests: false multitenancy_enabled: False run_shrink_tests: true multi_backend: false suppress_errors_in_cleanup: True share_creation_retry_number: 2 backend_names: GLUSTERFS enable_ip_rules_for_protocols: nfs capability_storage_protocol: NFS enable_protocols: nfs # read-only access rules not supported enable_ro_access_level_for_protocols: """"",3,420
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id0daf6aa7a0ec8db3e459022a5ebb1c437671191,openstack/tripleo-heat-templates,stable/wallaby,Id0daf6aa7a0ec8db3e459022a5ebb1c437671191,Fix typo in ceilometer-write-qdr environment file,MERGED,2021-06-08 17:52:30.000000000,2021-06-15 12:09:07.000000000,2021-06-15 12:09:07.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 17:52:30.000000000', 'files': ['environments/metrics/ceilometer-write-qdr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e3e0c0f22ed7f05c47422bdcb1b344635239129', 'message': 'Fix typo in ceilometer-write-qdr environment file\n\nFix typo of CeilometerQdrPublishMetrics parameter name in the\nceilometer-write-qdr environment file.\n\n(cherry picked from commit 590f3669916cf1f9c10b25e86cdae8209df121fa)\n\nChange-Id: Id0daf6aa7a0ec8db3e459022a5ebb1c437671191\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}]",0,795386,7e3e0c0f22ed7f05c47422bdcb1b344635239129,10,3,1,7294,,,0,"Fix typo in ceilometer-write-qdr environment file

Fix typo of CeilometerQdrPublishMetrics parameter name in the
ceilometer-write-qdr environment file.

(cherry picked from commit 590f3669916cf1f9c10b25e86cdae8209df121fa)

Change-Id: Id0daf6aa7a0ec8db3e459022a5ebb1c437671191
Signed-off-by: Leif Madsen <lmadsen@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/795386/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/metrics/ceilometer-write-qdr.yaml'],1,7e3e0c0f22ed7f05c47422bdcb1b344635239129,, CeilometerQdrPublishMetrics: true, CeilometerQdrPublisMetrics: true,1,1
openstack%2Fironic~master~I88cab53244913b5c9bfce6729f38f93a57ddbe80,openstack/ironic,master,I88cab53244913b5c9bfce6729f38f93a57ddbe80,Use env to find python3,MERGED,2021-06-14 17:06:13.000000000,2021-06-15 12:06:47.000000000,2021-06-15 12:03:40.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27252}]","[{'number': 1, 'created': '2021-06-14 17:06:13.000000000', 'files': ['tools/check-releasenotes.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7507dec09f5bd83be551e2e97504b64dfb1ddb15', 'message': ""Use env to find python3\n\nOur container doesn't have python3 at /usr/bin/python3. This\nchanges the script so that /usr/bin/env is used to find python3.\n\nFor discussion/opinions about how (and the better way) to locate\npython3:\n\n- https://developpaper.com/the-difference-between-usr-bin-python-and-usr-bin-env-python-in-python/\n- https://stackoverflow.com/questions/13879569/usr-bin-python-and-usr-bin-env-python-which-support\n\nChange-Id: I88cab53244913b5c9bfce6729f38f93a57ddbe80\n""}]",0,796305,7507dec09f5bd83be551e2e97504b64dfb1ddb15,11,4,1,6618,,,0,"Use env to find python3

Our container doesn't have python3 at /usr/bin/python3. This
changes the script so that /usr/bin/env is used to find python3.

For discussion/opinions about how (and the better way) to locate
python3:

- https://developpaper.com/the-difference-between-usr-bin-python-and-usr-bin-env-python-in-python/
- https://stackoverflow.com/questions/13879569/usr-bin-python-and-usr-bin-env-python-which-support

Change-Id: I88cab53244913b5c9bfce6729f38f93a57ddbe80
",git fetch https://review.opendev.org/openstack/ironic refs/changes/05/796305/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check-releasenotes.py'],1,7507dec09f5bd83be551e2e97504b64dfb1ddb15,rloo_python3,#!/usr/bin/env python3,#!/usr/bin/python3,1,1
openstack%2Fironic-python-agent~bugfix%2F8.0~Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d,openstack/ironic-python-agent,bugfix/8.0,Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d,Utilize CSV file for EFI loader selection,MERGED,2021-06-11 09:25:24.000000000,2021-06-15 12:05:12.000000000,2021-06-15 12:03:31.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 09:25:24.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/support-bootloader-csv-file-use-c815b520c600cd98.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/eeffffcd4793232f4488e33460446488e859045d', 'message': 'Utilize CSV file for EFI loader selection\n\nAdds support to identify and utilize a CSV file to signal which\nbootloader to utilize, and set it when the OS is running as opposed\nto when EFI is running. This works around EFI loader potentially\ncrashing some vendors hardware types when entry stored in the\nimage does not match the EFI loader record which was utilzied to\nboot.\n\nGrub2+shim specifically specifically needs the CSV file name\nand entry label to match what the system was booted with in order\nto prevent the machine from potentially crashing.\n\nSee https://storyboard.openstack.org/#!/story/2008962\nand https://bugzilla.redhat.com/show_bug.cgi?id=1966129#c37\nfor more information.\n\nChange-Id: Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d\nStory: 2008962\nTask: 42598\nCo-Authored-By: Bob Fournier <bfournie@redhat.com>\n(cherry picked from commit 2fab70c36ba40a345a9dd01aeb5019681e567aa5)\n'}]",0,795882,eeffffcd4793232f4488e33460446488e859045d,8,4,1,23851,,,0,"Utilize CSV file for EFI loader selection

Adds support to identify and utilize a CSV file to signal which
bootloader to utilize, and set it when the OS is running as opposed
to when EFI is running. This works around EFI loader potentially
crashing some vendors hardware types when entry stored in the
image does not match the EFI loader record which was utilzied to
boot.

Grub2+shim specifically specifically needs the CSV file name
and entry label to match what the system was booted with in order
to prevent the machine from potentially crashing.

See https://storyboard.openstack.org/#!/story/2008962
and https://bugzilla.redhat.com/show_bug.cgi?id=1966129#c37
for more information.

Change-Id: Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d
Story: 2008962
Task: 42598
Co-Authored-By: Bob Fournier <bfournie@redhat.com>
(cherry picked from commit 2fab70c36ba40a345a9dd01aeb5019681e567aa5)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/82/795882/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/support-bootloader-csv-file-use-c815b520c600cd98.yaml']",3,eeffffcd4793232f4488e33460446488e859045d,,"--- features: - | Adds the capability into the agent to read and act upon bootloader CSV files which serve as authoritative indicators of what bootloader to load instead of leaning towards utilizing the default. fixes: - | Fixes nodes failing after deployment completes due to issues in the Grub2 EFI loader entry addition where a ``BOOT.CSV`` file provides the authoritative pointer to the bootloader to be used for booting the OS. The base issue with Grub2 is that it would update the UEFI bootloader NVRAM entries with whatever is present in a vendor specific ``BOOT.CSV`` or ``BOOTX64.CSV`` file. In some cases, a baremetal machine *can* crash when this occurs. More information can be found at `story 2008962 <https://storyboard.openstack.org/#!/story/2008962>`_. issues: - | If multiple bootloader CSV files are present on the EFI filesystem, the first CSV file discovered will be utilized. The Ironic team considers multiple files to be a defect in the image being deployed. This may be changed in the future. ",,137,14
openstack%2Fkolla-ansible~master~Ia95355c529f1b0222dc1de06632984b6d130b9ec,openstack/kolla-ansible,master,Ia95355c529f1b0222dc1de06632984b6d130b9ec,Drop /sys/fs/cgroup mounts,MERGED,2021-05-31 12:49:12.000000000,2021-06-15 11:41:16.000000000,2021-06-15 11:38:26.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-31 12:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9d9dc1891ce46352ce40bc69b3fda172c4c251f1', 'message': 'Drop /sys/fs/cgroup mounts\n\nThey are handled by Docker since at least 18.09 (tested).\nBackport to Wallaby at most to not introduce needless restarts in\nalready stable branches.\n\nChange-Id: Ia95355c529f1b0222dc1de06632984b6d130b9ec\n'}, {'number': 2, 'created': '2021-06-15 08:55:26.000000000', 'files': ['ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/286a03bad20955aa4d3f7009cef5856d328b76f1', 'message': 'Drop /sys/fs/cgroup mounts\n\nThey are handled by Docker since at least 18.09 (tested).\nBackport to Wallaby at most to not introduce needless restarts in\nalready stable branches.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/792583\nChange-Id: Ia95355c529f1b0222dc1de06632984b6d130b9ec\n'}]",0,793785,286a03bad20955aa4d3f7009cef5856d328b76f1,18,4,2,30491,,,0,"Drop /sys/fs/cgroup mounts

They are handled by Docker since at least 18.09 (tested).
Backport to Wallaby at most to not introduce needless restarts in
already stable branches.

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/792583
Change-Id: Ia95355c529f1b0222dc1de06632984b6d130b9ec
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/793785/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml']",3,9d9dc1891ce46352ce40bc69b3fda172c4c251f1,drop-sys-fs-cgroup-mounts,," - ""/sys/fs/cgroup:/sys/fs/cgroup:ro"" - ""/sys/fs/cgroup:/sys/fs/cgroup:ro""",0,4
openstack%2Fpuppet-zaqar~master~I202b295af844c1bfde8aa1f6c5555fc55c5d930a,openstack/puppet-zaqar,master,I202b295af844c1bfde8aa1f6c5555fc55c5d930a,Get rid of the $pyvers variable,ABANDONED,2021-06-12 14:45:18.000000000,2021-06-15 11:33:53.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-12 14:45:18.000000000', 'files': ['manifests/params.pp', 'spec/classes/zaqar_client_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/7a415ed3a07593bcf8ccce095f3e9d5b07aece44', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nCo-authored-by: Thomas Goirand <zigo@debian.org>\nChange-Id: I202b295af844c1bfde8aa1f6c5555fc55c5d930a\n""}]",0,796130,7a415ed3a07593bcf8ccce095f3e9d5b07aece44,6,2,1,9816,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Co-authored-by: Thomas Goirand <zigo@debian.org>
Change-Id: I202b295af844c1bfde8aa1f6c5555fc55c5d930a
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/30/796130/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/params.pp', 'spec/classes/zaqar_client_spec.rb']",2,7a415ed3a07593bcf8ccce095f3e9d5b07aece44,pyvers-removal, { :client_package_name => 'python3-zaqarclient' }, if facts[:operatingsystem] == 'Fedora' { :client_package_name => 'python3-zaqarclient' } else if facts[:operatingsystemmajrelease] > '7' { :client_package_name => 'python3-zaqarclient' } else { :client_package_name => 'python-zaqarclient' } end end,2,11
openstack%2Fpuppet-watcher~master~I6b9d3f87c4c7ce8392222fd54fa93a2d4481bd1d,openstack/puppet-watcher,master,I6b9d3f87c4c7ce8392222fd54fa93a2d4481bd1d,Get rid of the $pyvers variable,ABANDONED,2021-06-12 14:52:31.000000000,2021-06-15 11:33:27.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-12 14:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/20699bdadae2f9ed2cd876afe2792345e5814a1e', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I6b9d3f87c4c7ce8392222fd54fa93a2d4481bd1d\nCo-authored-by: Thomas Goirand <zigo@debian.org>\n""}, {'number': 2, 'created': '2021-06-12 14:54:41.000000000', 'files': ['spec/classes/watcher_client_spec.rb', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/ee213009e6db5c9a9cc1c9d4bd7700d214282402', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I6b9d3f87c4c7ce8392222fd54fa93a2d4481bd1d\nCo-authored-by: Thomas Goirand <zigo@debian.org>\n""}]",0,796133,ee213009e6db5c9a9cc1c9d4bd7700d214282402,5,2,2,9816,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: I6b9d3f87c4c7ce8392222fd54fa93a2d4481bd1d
Co-authored-by: Thomas Goirand <zigo@debian.org>
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/33/796133/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/watcher_client_spec.rb', 'manifests/params.pp']",2,20699bdadae2f9ed2cd876afe2792345e5814a1e,pyvers-removal, $client_package_name = 'python3-watcherclient'," $pyvers = $::openstacklib::defaults::pyvers $client_package_name = ""python${pyvers}-watcherclient""",2,11
openstack%2Fironic-python-agent~stable%2Fussuri~If151b3a3be979bd2b3ce01030e5d6242ad74eaa3,openstack/ironic-python-agent,stable/ussuri,If151b3a3be979bd2b3ce01030e5d6242ad74eaa3,Reduce logging verbosity when collecting logs,MERGED,2021-06-14 13:34:59.000000000,2021-06-15 11:05:55.000000000,2021-06-15 11:04:06.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-14 13:34:59.000000000', 'files': ['ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/76d061ea87e633874f19569512d11f3d54d8193d', 'message': ""Reduce logging verbosity when collecting logs\n\nIt's not uncommon that some commands fail when collecting logs.\nWe already log all failures in utils.execute, no need to duplicate\nthem with a non-fatal ERROR logging.\n\nChange-Id: If151b3a3be979bd2b3ce01030e5d6242ad74eaa3\n(cherry picked from commit 2fcf35e56d578d98d77ffc97b6441f83548d7704)\n""}]",0,796217,76d061ea87e633874f19569512d11f3d54d8193d,7,3,1,11655,,,0,"Reduce logging verbosity when collecting logs

It's not uncommon that some commands fail when collecting logs.
We already log all failures in utils.execute, no need to duplicate
them with a non-fatal ERROR logging.

Change-Id: If151b3a3be979bd2b3ce01030e5d6242ad74eaa3
(cherry picked from commit 2fcf35e56d578d98d77ffc97b6441f83548d7704)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/17/796217/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/utils.py'],1,76d061ea87e633874f19569512d11f3d54d8193d,system-logs-verbose-stable/victoria-stable/ussuri," LOG.debug('Collecting logs from command %s has failed', command)", LOG.error(error_msg) pass,1,2
openstack%2Fpython-freezerclient~master~If847096fce66c918d729f1cbb97ee9ad518f4864,openstack/python-freezerclient,master,If847096fce66c918d729f1cbb97ee9ad518f4864,Use py3 as the default runtime for tox,MERGED,2021-04-20 08:30:26.000000000,2021-06-15 11:01:09.000000000,2021-06-15 10:59:39.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 08:30:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/c50503c2a102daf74c6b622a8a03ebab77f1dbcb', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: If847096fce66c918d729f1cbb97ee9ad518f4864\n'}]",0,787158,c50503c2a102daf74c6b622a8a03ebab77f1dbcb,12,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: If847096fce66c918d729f1cbb97ee9ad518f4864
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/58/787158/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c50503c2a102daf74c6b622a8a03ebab77f1dbcb,,"envlist = py3,pep8,pylint,docs","envlist = py36,py38,pep8,pylint,docs",1,1
openstack%2Fansible-collections-openstack~master~If932651c9d7a1819f805a49b020826682c5b8087,openstack/ansible-collections-openstack,master,If932651c9d7a1819f805a49b020826682c5b8087,Floating ip info module,MERGED,2021-05-21 09:13:44.000000000,2021-06-15 10:13:12.000000000,2021-06-15 10:13:12.000000000,"[{'_account_id': 2}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-21 09:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a54ad0a66fac14e281bc13f47b838413593aaeab', 'message': 'Floating ip info module\n\nChange-Id: If932651c9d7a1819f805a49b020826682c5b8087\n'}, {'number': 2, 'created': '2021-05-21 09:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a618abe9a542fec3052c7cfebfe0305ab56e2b1d', 'message': 'Floating ip info module\n\nChange-Id: If932651c9d7a1819f805a49b020826682c5b8087\n'}, {'number': 3, 'created': '2021-05-24 09:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/998bb0290e5fdf98ce1a15db05729226799089fc', 'message': 'Floating ip info module\n\nChange-Id: If932651c9d7a1819f805a49b020826682c5b8087\n'}, {'number': 4, 'created': '2021-05-25 09:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8dfcefa0555b99f58be17d6c399d1241df7f3dbd', 'message': 'Floating ip info module\n\nChange-Id: If932651c9d7a1819f805a49b020826682c5b8087\n'}, {'number': 5, 'created': '2021-05-25 13:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ae57aa2c1034dda9dc5c10ea53b3f3176d33dad4', 'message': 'Floating ip info module\n\nChange-Id: If932651c9d7a1819f805a49b020826682c5b8087\n'}, {'number': 6, 'created': '2021-05-27 09:04:28.000000000', 'files': ['plugins/modules/floating_ip_info.py', 'meta/runtime.yml', 'ci/roles/floating_ip_info/tasks/main.yml', 'ci/run-collection.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/17d5c7de8e3649e21781514b4a059dbd6c7c1fc9', 'message': 'Floating ip info module\n\nChange-Id: If932651c9d7a1819f805a49b020826682c5b8087\n'}]",5,792548,17d5c7de8e3649e21781514b4a059dbd6c7c1fc9,20,4,6,32787,,,0,"Floating ip info module

Change-Id: If932651c9d7a1819f805a49b020826682c5b8087
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/48/792548/3 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/floating_ip_info.py', 'ci/roles/floating_ip_info/tasks/main.yml', 'ci/run-collection.yml', 'plugins/modules/dns_zone.py']",4,a54ad0a66fac14e281bc13f47b838413593aaeab,floating-ip-info, email: description: Zone owner email, email: description: Zone owner email,237,2
openstack%2Fneutron~master~I692219200535df3af1265248e88c96947e4d8f9d,openstack/neutron,master,I692219200535df3af1265248e88c96947e4d8f9d,Add a single option to override the default hypervisor name,MERGED,2020-11-20 13:41:14.000000000,2021-06-15 10:01:49.000000000,2021-06-15 09:59:43.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-11-20 13:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0eb1367f05741de97691c1c721598d0931acf827', 'message': ""Add a single option to override the default hypervisor name\n\nIn some deployments, hostnames can be different between hosts and\nresource provider records. For example in deployment managed by TripleO\nwe use short host name (without domain name) in host, while we use FQDN\nfor resource provider records (this comes from the FQDN set to the host\noption in nova.conf).\n\nThis causes an issue with the way how currently neutron looks up the\nroot resource provider because placment API require the exact hostname\nand doesn't automatically translate short name and FQDN.\n\nTo fix the issue we need to set the resource_provider_hypervisors\noption now but it is very redundant to list up all devices or bridges\nin this option to override hostnames for the devices/bridges by\nthe same value.\n\nThis change introduces the resource_provider_default_hypervisor option,\nwhich replaces the default hypervisor name by this single option, so\nthat we can easily fix the inconsistencies about the host name format\nused in hosts and resource provider records.\n\nChange-Id: I692219200535df3af1265248e88c96947e4d8f9d\n""}, {'number': 2, 'created': '2020-11-20 13:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/226492bfda28310a7d69a4e3db4943451a20bb5d', 'message': ""Add a single option to override the default hypervisor name\n\nIn some deployments, hostnames can be different between hosts and\nresource provider records. For example in deployment managed by TripleO\nwe use short host name (without domain name) in host, while we use FQDN\nfor resource provider records (this comes from the FQDN set to the host\noption in nova.conf).\n\nThis causes an issue with the way how currently neutron looks up the\nroot resource provider because placment API requires the exact hostname\nand doesn't automatically translate short name and FQDN.\n\nTo fix the issue we need to set the resource_provider_hypervisors\noption[1] now but it is very redundant to list up all devices or\nbridges in this option to override hostnames for the devices/bridges by\nthe same value.\n\nThis change introduces the resource_provider_default_hypervisor option,\nwhich replaces the default hypervisor name by this single option, so\nthat we can easily fix the inconsistencies about the host name format\nused in hosts and resource provider records.\n\n[1] https://review.opendev.org/#/c/696600/\n\nChange-Id: I692219200535df3af1265248e88c96947e4d8f9d\n""}, {'number': 3, 'created': '2020-11-23 07:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d1f7ebbc0096b61e3dea6a9ee442e03debf4cec', 'message': ""Add a single option to override the default hypervisor name\n\nIn some deployments, hostnames can be different between hosts and\nresource provider records. For example in deployment managed by TripleO\nwe use short host name (without domain name) in host, while we use FQDN\nfor resource provider records (this comes from the FQDN set to the host\noption in nova.conf).\n\nThis causes an issue with the way how currently neutron looks up the\nroot resource provider because placment API requires the exact hostname\nand doesn't automatically translate short name and FQDN.\n\nTo fix the issue we need to set the resource_provider_hypervisors\noption[1] now but it is very redundant to list up all devices or\nbridges in this option to override hostnames for the devices/bridges by\nthe same value.\n\nThis change introduces the resource_provider_default_hypervisor option,\nwhich replaces the default hypervisor name by this single option, so\nthat we can easily fix the inconsistencies about the host name format\nused in hosts and resource provider records.\n\n[1] https://review.opendev.org/#/c/696600/\n\nChange-Id: I692219200535df3af1265248e88c96947e4d8f9d\n""}, {'number': 4, 'created': '2020-11-23 07:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/59575cbd351446485f4c82f8a09ff9b2b56cad34', 'message': ""Add a single option to override the default hypervisor name\n\nIn some deployments, hostnames can be different between hosts and\nresource provider records. For example in deployment managed by TripleO\nwe use short host name (without domain name) in host, while we use FQDN\nfor resource provider records (this comes from the FQDN set to the host\noption in nova.conf).\n\nThis causes an issue with the way how currently neutron looks up the\nroot resource provider because placment API requires the exact hostname\nand doesn't automatically translate short name and FQDN.\n\nTo fix the issue we need to set the resource_provider_hypervisors\noption[1] now but it is very redundant to list up all devices or\nbridges in this option to override hostnames for the devices/bridges by\nthe same value.\n\nThis change introduces the resource_provider_default_hypervisor option,\nwhich replaces the default hypervisor name by this single option, so\nthat we can easily fix the inconsistencies about the host name format\nused in hosts and resource provider records.\n\n[1] https://review.opendev.org/#/c/696600/\n\nChange-Id: I692219200535df3af1265248e88c96947e4d8f9d\n""}, {'number': 5, 'created': '2020-11-23 13:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5cb6b0725ff35223e03ecbb12783a40285656c7a', 'message': ""Add a single option to override the default hypervisor name\n\nIn some deployments, hostnames can be different between hosts and\nresource provider records. For example in deployment managed by TripleO\nwe use short host name (without domain name) in host, while we use FQDN\nfor resource provider records (this comes from the FQDN set to the host\noption in nova.conf).\n\nThis causes an issue with the way how currently neutron looks up the\nroot resource provider because placment API requires the exact hostname\nand doesn't automatically translate short name and FQDN.\n\nTo fix the issue we need to set the resource_provider_hypervisors\noption[1] now but it is very redundant to list up all devices or\nbridges in this option to override hostnames for the devices/bridges by\nthe same value.\n\nThis change introduces the resource_provider_default_hypervisor option,\nwhich replaces the default hypervisor name by this single option, so\nthat we can easily fix the inconsistencies about the host name format\nused in hosts and resource provider records.\n\n[1] https://review.opendev.org/#/c/696600/\n\nCloses-Bug: #1905276\nChange-Id: I692219200535df3af1265248e88c96947e4d8f9d\n""}, {'number': 6, 'created': '2020-11-23 13:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f57b56c6dd7bf65009c5ab8c9befdc2b5039715', 'message': ""Add a single option to override the default hypervisor name\n\nIn some deployments, hostnames can be different between hosts and\nresource provider records. For example in deployment managed by TripleO\nwe use short host name (without domain name) in host, while we use FQDN\nfor resource provider records (this comes from the FQDN set to the host\noption in nova.conf).\n\nThis causes an issue with the way how currently neutron looks up the\nroot resource provider because placment API requires the exact hostname\nand doesn't automatically translate short name and FQDN.\n\nTo fix the issue we need to set the resource_provider_hypervisors\noption[1] now but it is very redundant to list up all devices or\nbridges in this option to override hostnames for the devices/bridges by\nthe same value.\n\nThis change introduces the resource_provider_default_hypervisor option,\nwhich replaces the default hypervisor name by this single option, so\nthat we can easily fix the inconsistency about the host name format\nused in hosts and resource provider records.\n\n[1] https://review.opendev.org/#/c/696600/\n\nCloses-Bug: #1905276\nChange-Id: I692219200535df3af1265248e88c96947e4d8f9d\n""}, {'number': 7, 'created': '2021-05-16 12:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b00c31eb68c9a28af9a991ff35f999c1c58958bd', 'message': 'Add a single option to override the default hypervisor name\n\nCurrently neutron uses socket.gethostname() to determine hypervisor\nnames, but this implementation is not fully compatible with libvirt\ndriver which uses canonical name for hypervisor name.\nThis incompatibility causes an issue with root resource provider\ndetection if a deployment uses FQDNs as canonicanl names.\n\nThis change introduces the resource_provider_default_hypervisor option,\nso users can override the hypervisor name by the single option(*1)\ninstead of setting two list options(*2). This is especially useful if\nthe deployment has multiple bridges or interfaces.\n\n(*1)\n[OVS]\nresource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\\\nbr-data3:1024,1024,br-data4,1024:1024\nresource_provider_default_hypervisor=compute0.mydomain\n\n(*2)\n[OVS]\nresource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\\\nbr-data3:1024,1024,br-data4,1024:1024\nresource_provider_hypervisors=br-data1:compute0.mydomain,br-data2:\\\ncompute0.mydomain,br-data3:compute0.mydomain,br-data4:compute0.mydomain\n\nRelated-Bug: #1926693\nChange-Id: I692219200535df3af1265248e88c96947e4d8f9d\n'}, {'number': 8, 'created': '2021-05-16 12:56:14.000000000', 'files': ['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'releasenotes/notes/resource_priovider_default_hypervisor-b92cff207dfb94c0.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ddf0fef28b7095724c8ba27f3275d0dad2252251', 'message': 'Add a single option to override the default hypervisor name\n\nCurrently neutron uses socket.gethostname() to determine hypervisor\nnames, but this implementation is not fully compatible with libvirt\ndriver which uses canonical name for hypervisor name.\nThis incompatibility causes an issue with root resource provider\ndetection if a deployment uses FQDNs as canonicanl names.\n\nThis change introduces the resource_provider_default_hypervisor option,\nso that users can override the hypervisor name by the single option(*1)\ninstead of setting two list options(*2). This is especially useful if\nthe deployment has multiple bridges or interfaces.\n\n(*1)\n[OVS]\nresource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\\\nbr-data3:1024,1024,br-data4,1024:1024\nresource_provider_default_hypervisor=compute0.mydomain\n\n(*2)\n[OVS]\nresource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\\\nbr-data3:1024,1024,br-data4,1024:1024\nresource_provider_hypervisors=br-data1:compute0.mydomain,br-data2:\\\ncompute0.mydomain,br-data3:compute0.mydomain,br-data4:compute0.mydomain\n\nRelated-Bug: #1926693\nChange-Id: I692219200535df3af1265248e88c96947e4d8f9d\n'}]",4,763563,ddf0fef28b7095724c8ba27f3275d0dad2252251,49,9,8,9816,,,0,"Add a single option to override the default hypervisor name

Currently neutron uses socket.gethostname() to determine hypervisor
names, but this implementation is not fully compatible with libvirt
driver which uses canonical name for hypervisor name.
This incompatibility causes an issue with root resource provider
detection if a deployment uses FQDNs as canonicanl names.

This change introduces the resource_provider_default_hypervisor option,
so that users can override the hypervisor name by the single option(*1)
instead of setting two list options(*2). This is especially useful if
the deployment has multiple bridges or interfaces.

(*1)
[OVS]
resource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\
br-data3:1024,1024,br-data4,1024:1024
resource_provider_default_hypervisor=compute0.mydomain

(*2)
[OVS]
resource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\
br-data3:1024,1024,br-data4,1024:1024
resource_provider_hypervisors=br-data1:compute0.mydomain,br-data2:\
compute0.mydomain,br-data3:compute0.mydomain,br-data4:compute0.mydomain

Related-Bug: #1926693
Change-Id: I692219200535df3af1265248e88c96947e4d8f9d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/763563/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'releasenotes/notes/resource_priovider_default_hypervisor-b92cff207dfb94c0.yaml']",7,0eb1367f05741de97691c1c721598d0931acf827,bug/1926693,"--- features: - | The new ``resource_provider_defualt_hypervisor`` option has been added, to replace the default hypervisor name to locates the root resource provider by this single option. This option is located in the ``[ovs]`` ini-section for ``ovs-agent`` and ``[sriov_nic]`` ini-section for ``sriov-agent``. ",,47,11
openstack%2Freleases~master~I5ba11909a1bc08c7262042df172a13ff5b215199,openstack/releases,master,I5ba11909a1bc08c7262042df172a13ff5b215199,release oslo's deliverables for xena,MERGED,2021-06-10 13:37:43.000000000,2021-06-15 09:52:24.000000000,2021-06-15 09:52:24.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-10 13:37:43.000000000', 'files': ['deliverables/xena/oslo.policy.yaml', 'deliverables/xena/oslo.utils.yaml', 'deliverables/xena/oslo.cache.yaml', 'deliverables/xena/oslo.db.yaml', 'deliverables/xena/oslo.service.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6248e03ae86d76a9d7d85b58838f515900d57cc4', 'message': ""release oslo's deliverables for xena\n\nChange-Id: I5ba11909a1bc08c7262042df172a13ff5b215199\n""}]",0,795780,6248e03ae86d76a9d7d85b58838f515900d57cc4,8,3,1,28522,,,0,"release oslo's deliverables for xena

Change-Id: I5ba11909a1bc08c7262042df172a13ff5b215199
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/795780/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/oslo.policy.yaml', 'deliverables/xena/oslo.utils.yaml', 'deliverables/xena/oslo.cache.yaml', 'deliverables/xena/oslo.db.yaml', 'deliverables/xena/oslo.service.yaml']",5,6248e03ae86d76a9d7d85b58838f515900d57cc4,oslo-xena,releases: - version: 2.6.0 projects: - repo: openstack/oslo.service hash: 091fd6510a29891f74f1ab141ef158065f9a56fd,,21,0
openstack%2Fansible-collections-openstack~master~I28a69171df0d4b2df768458f0b5cff72c3937f59,openstack/ansible-collections-openstack,master,I28a69171df0d4b2df768458f0b5cff72c3937f59,Switch federation_protocol module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-15 09:30:54.000000000,2021-06-15 09:30:54.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7ad61934a38c24f1e6b9d4f345500f73906bfed1', 'message': 'Switch federation_protocol module to OpenStackModule\n\nChange-Id: I28a69171df0d4b2df768458f0b5cff72c3937f59\n'}, {'number': 2, 'created': '2021-05-21 07:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c5ce9b41663c6f8b938a62b865f49d315f8c6221', 'message': 'Switch federation_protocol module to OpenStackModule\n\nChange-Id: I28a69171df0d4b2df768458f0b5cff72c3937f59\n'}, {'number': 3, 'created': '2021-05-21 12:12:21.000000000', 'files': ['plugins/modules/keystone_federation_protocol.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0904ddd2fefac023483ddd47daa57932416e74c3', 'message': 'Switch federation_protocol module to OpenStackModule\n\nChange-Id: I28a69171df0d4b2df768458f0b5cff72c3937f59\n'}]",0,792427,0904ddd2fefac023483ddd47daa57932416e74c3,14,2,3,27900,,,0,"Switch federation_protocol module to OpenStackModule

Change-Id: I28a69171df0d4b2df768458f0b5cff72c3937f59
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/27/792427/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/keystone_federation_protocol.py'],1,7ad61934a38c24f1e6b9d4f345500f73906bfed1,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class IdentityFederationProtocolModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( supports_check_mode=True def normalize_protocol(self, protocol): """""" Normalizes the protocol definitions so that the outputs are consistent with the parameters - ""name"" (parameter) == ""id"" (SDK) """""" if protocol is None: return None _protocol = protocol.to_dict() _protocol['name'] = protocol['id'] # As of 0.44 SDK doesn't copy the URI parameters over, so let's add them _protocol['idp_id'] = protocol['idp_id'] return _protocol def delete_protocol(self, protocol): """""" Delete an existing Protocol returns: the ""Changed"" state """""" if protocol is None: return False if self.ansible.check_mode: return True self.conn.identity.delete_federation_protocol(None, protocol) def create_protocol(self, name): """""" Create a new Protocol returns: the ""Changed"" state and the new protocol """""" if self.ansible.check_mode: return True, None idp_name = self.params.get('idp_id') mapping_id = self.params.get('mapping_id') attributes = { 'idp_id': idp_name, 'mapping_id': mapping_id, } protocol = self.conn.identity.create_federation_protocol(id=name, **attributes) return (True, protocol) def update_protocol(self, protocol): """""" Update an existing Protocol returns: the ""Changed"" state and the new protocol """""" mapping_id = self.params.get('mapping_id') attributes = {} if (mapping_id is not None) and (mapping_id != protocol.mapping_id): attributes['mapping_id'] = mapping_id if not attributes: return False, protocol if self.ansible.check_mode: return True, None new_protocol = self.conn.identity.update_federation_protocol(None, protocol, **attributes) return (True, new_protocol) def run(self): """""" Module entry point """""" name = self.params.get('name') state = self.params.get('state') idp = self.params.get('idp_id') changed = False protocol = self.conn.identity.find_federation_protocol(idp, name) if state == 'absent': if protocol is not None: changed = self.delete_protocol(protocol) self.exit_json(changed=changed) # state == 'present' else: if protocol is None: if self.params.get('mapping_id') is None: self.fail_json( msg='A mapping_id must be passed when creating' ' a protocol') (changed, protocol) = self.create_protocol(name) protocol = self.normalize_protocol(protocol) self.exit_json(changed=changed, protocol=protocol) else: (changed, new_protocol) = self.update_protocol(protocol) new_protocol = self.normalize_protocol(new_protocol) self.exit_json(changed=changed, protocol=new_protocol) def main(): module = IdentityFederationProtocolModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_full_argument_spec from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_module_kwargs from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_cloud_from_module def normalize_protocol(protocol): """""" Normalizes the protocol definitions so that the outputs are consistent with the parameters - ""name"" (parameter) == ""id"" (SDK) """""" if protocol is None: return None _protocol = protocol.to_dict() _protocol['name'] = protocol['id'] # As of 0.44 SDK doesn't copy the URI parameters over, so let's add them _protocol['idp_id'] = protocol['idp_id'] return _protocol def delete_protocol(module, sdk, cloud, protocol): """""" Delete an existing Protocol returns: the ""Changed"" state """""" if protocol is None: return False if module.check_mode: return True try: cloud.identity.delete_federation_protocol(None, protocol) except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to delete protocol: {0}'.format(str(ex))) return True def create_protocol(module, sdk, cloud, name): """""" Create a new Protocol returns: the ""Changed"" state and the new protocol """""" if module.check_mode: return True, None idp_name = module.params.get('idp_id') mapping_id = module.params.get('mapping_id') attributes = { 'idp_id': idp_name, 'mapping_id': mapping_id, } try: protocol = cloud.identity.create_federation_protocol(id=name, **attributes) except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to create protocol: {0}'.format(str(ex))) return (True, protocol) def update_protocol(module, sdk, cloud, protocol): """""" Update an existing Protocol returns: the ""Changed"" state and the new protocol """""" mapping_id = module.params.get('mapping_id') attributes = {} if (mapping_id is not None) and (mapping_id != protocol.mapping_id): attributes['mapping_id'] = mapping_id if not attributes: return False, protocol if module.check_mode: return True, None try: new_protocol = cloud.identity.update_federation_protocol(None, protocol, **attributes) except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to update protocol: {0}'.format(str(ex))) return (True, new_protocol) def main(): """""" Module entry point """""" argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs( ) module = AnsibleModule( argument_spec, supports_check_mode=True, **module_kwargs name = module.params.get('name') state = module.params.get('state') idp = module.params.get('idp_id') changed = False sdk, cloud = openstack_cloud_from_module(module, min_version=""0.44"") try: protocol = cloud.identity.get_federation_protocol(idp, name) except sdk.exceptions.ResourceNotFound: protocol = None except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to get protocol: {0}'.format(str(ex))) if state == 'absent': if protocol is not None: changed = delete_protocol(module, sdk, cloud, protocol) module.exit_json(changed=changed) # state == 'present' else: if protocol is None: if module.params.get('mapping_id') is None: module.fail_json(msg='A mapping_id must be passed when creating' ' a protocol') (changed, protocol) = create_protocol(module, sdk, cloud, name) protocol = normalize_protocol(protocol) module.exit_json(changed=changed, protocol=protocol) else: (changed, new_protocol) = update_protocol(module, sdk, cloud, protocol) new_protocol = normalize_protocol(new_protocol) module.exit_json(changed=changed, protocol=new_protocol)",107,132
openstack%2Freleases~master~I7350285e849a0233d5b754f9270d64fe2d490c14,openstack/releases,master,I7350285e849a0233d5b754f9270d64fe2d490c14,Create OpenStack-Ansible Wallaby Beta release,MERGED,2021-06-11 09:52:49.000000000,2021-06-15 09:28:00.000000000,2021-06-15 09:28:00.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 09:52:49.000000000', 'files': ['deliverables/wallaby/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f87124c2310dde0dcb9f23c59eea386a0a30a2df', 'message': 'Create OpenStack-Ansible Wallaby Beta release\n\nWhile `51a107aba05ebd74a68418fb3f2e1298399964d6` has announced to be RC1\nI clean forgot that RC1 means branching. Project is however was not\nfully prepared for branching, so tag end up as beta release instead.\n\nChange-Id: I7350285e849a0233d5b754f9270d64fe2d490c14\n'}]",0,795974,f87124c2310dde0dcb9f23c59eea386a0a30a2df,8,3,1,28619,,,0,"Create OpenStack-Ansible Wallaby Beta release

While `51a107aba05ebd74a68418fb3f2e1298399964d6` has announced to be RC1
I clean forgot that RC1 means branching. Project is however was not
fully prepared for branching, so tag end up as beta release instead.

Change-Id: I7350285e849a0233d5b754f9270d64fe2d490c14
",git fetch https://review.opendev.org/openstack/releases refs/changes/74/795974/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/openstack-ansible.yaml'],1,f87124c2310dde0dcb9f23c59eea386a0a30a2df,release_osa,releases: - version: 23.0.0.0b1 projects: - repo: openstack/openstack-ansible hash: 51a107aba05ebd74a68418fb3f2e1298399964d6,,5,0
openstack%2Fkolla~stable%2Fwallaby~Ie8b9659d03b3a442695b091e946e7be1fd1bdd89,openstack/kolla,stable/wallaby,Ie8b9659d03b3a442695b091e946e7be1fd1bdd89,[docs] Fix Debian release name,MERGED,2021-06-15 08:40:07.000000000,2021-06-15 09:10:56.000000000,2021-06-15 09:09:10.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-15 08:40:07.000000000', 'files': ['doc/source/support_matrix.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b5ba6792d8c765a9f34e80acade1e7f60a7cd084', 'message': ""[docs] Fix Debian release name\n\nIt's Bullseye now.\n\nChange-Id: Ie8b9659d03b3a442695b091e946e7be1fd1bdd89\n(cherry picked from commit 3110cb136731c1d2b1598c6b3006069a90e464fe)\n""}]",0,796228,b5ba6792d8c765a9f34e80acade1e7f60a7cd084,7,2,1,30491,,,0,"[docs] Fix Debian release name

It's Bullseye now.

Change-Id: Ie8b9659d03b3a442695b091e946e7be1fd1bdd89
(cherry picked from commit 3110cb136731c1d2b1598c6b3006069a90e464fe)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/28/796228/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/support_matrix.rst'],1,b5ba6792d8c765a9f34e80acade1e7f60a7cd084,docs-debian-bullseye-stable/wallaby,Debian Bullseye debian bullseye,Debian Buster debian bullseye,1,1
openstack%2Fansible-collections-openstack~master~If3f3086a964c47407ec82dda662d2c1524283fb6,openstack/ansible-collections-openstack,master,If3f3086a964c47407ec82dda662d2c1524283fb6,Switch ServerMetadata module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-15 09:05:08.000000000,2021-06-15 09:05:08.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fcdee3b1e79b600dc708ab0d46662b7b367b6f08', 'message': 'Switch ServerMetadata module to OpenStackModule\n\nSwitch ServerMetadata module to the general OpenStackModule.\n\nChange-Id: If3f3086a964c47407ec82dda662d2c1524283fb6\n'}, {'number': 2, 'created': '2021-05-21 07:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fdf6c0dc79f2f261013c3544bdf16b6702e2490c', 'message': 'Switch ServerMetadata module to OpenStackModule\n\nSwitch ServerMetadata module to the general OpenStackModule.\n\nChange-Id: If3f3086a964c47407ec82dda662d2c1524283fb6\n'}, {'number': 3, 'created': '2021-05-21 11:56:52.000000000', 'files': ['plugins/modules/server_metadata.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2a461cadd9df247499d18d4e85471938e217dd35', 'message': 'Switch ServerMetadata module to OpenStackModule\n\nSwitch ServerMetadata module to the general OpenStackModule.\n\nChange-Id: If3f3086a964c47407ec82dda662d2c1524283fb6\n'}]",0,792451,2a461cadd9df247499d18d4e85471938e217dd35,16,2,3,27900,,,0,"Switch ServerMetadata module to OpenStackModule

Switch ServerMetadata module to the general OpenStackModule.

Change-Id: If3f3086a964c47407ec82dda662d2c1524283fb6
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/51/792451/3 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/server_metadata.py'],1,fcdee3b1e79b600dc708ab0d46662b7b367b6f08,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class ServerMetadataModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( supports_check_mode=True ) def _needs_update(self, server_metadata=None, metadata=None): if server_metadata is None: server_metadata = {} if metadata is None: metadata = {} return len(set(metadata.items()) - set(server_metadata.items())) != 0 def _get_keys_to_delete(self, server_metadata_keys=None, metadata_keys=None): if server_metadata_keys is None: server_metadata_keys = [] if metadata_keys is None: metadata_keys = [] return set(server_metadata_keys) & set(metadata_keys) def run(self): state = self.params['state'] server_param = self.params['server'] meta_param = self.params['meta'] changed = False server = self.conn.get_server(server_param) if not server: self.fail_json( if self._needs_update( server_metadata=server.metadata, metadata=meta_param ): if not self.check_mode: self.conn.set_server_metadata(server_param, meta_param) keys_to_delete = self._get_keys_to_delete( server.metadata.keys(), meta_param.keys()) if len(keys_to_delete) > 0: if not self.check_mode: self.conn.delete_server_metadata( server_param, keys_to_delete) server = self.conn.get_server(server_param) self.exit_json( def main(): module = ServerMetadataModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import ( openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module, ) def _needs_update(server_metadata=None, metadata=None): if server_metadata is None: server_metadata = {} if metadata is None: metadata = {} return len(set(metadata.items()) - set(server_metadata.items())) != 0 def _get_keys_to_delete(server_metadata_keys=None, metadata_keys=None): if server_metadata_keys is None: server_metadata_keys = [] if metadata_keys is None: metadata_keys = [] return set(server_metadata_keys) & set(metadata_keys) def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, supports_check_mode=True, **module_kwargs) state = module.params['state'] server_param = module.params['server'] meta_param = module.params['meta'] changed = False sdk, cloud = openstack_cloud_from_module(module) try: server = cloud.get_server(server_param) if not server: module.fail_json( if _needs_update(server_metadata=server.metadata, metadata=meta_param): if not module.check_mode: cloud.set_server_metadata(server_param, meta_param) keys_to_delete = _get_keys_to_delete(server.metadata.keys(), meta_param.keys()) if len(keys_to_delete) > 0: if not module.check_mode: cloud.delete_server_metadata(server_param, keys_to_delete) server = cloud.get_server(server_param) module.exit_json( except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=e.message, extra_data=e.extra_data)",43,48
openstack%2Fkolla-ansible~master~I5129136c066489fdfaa4d93741c22e5010b7e89d,openstack/kolla-ansible,master,I5129136c066489fdfaa4d93741c22e5010b7e89d,Disable docker's ip-forward when iptables disabled,MERGED,2021-06-10 17:28:21.000000000,2021-06-15 08:50:48.000000000,2021-06-14 16:30:09.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-06-10 17:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/46af58aeead052b758f2786f1324a7ab2cbddd53', 'message': ""Disable docker's ip-forward when iptables disabled\n\nWith the new default since Wallaby, starting Docker makes it\nenable forwarding and not filter it at all.\nThis may pose a security risk and should be mitigated.\n\nCloses-Bug: #1931615\nChange-Id: I5129136c066489fdfaa4d93741c22e5010b7e89d\n""}, {'number': 2, 'created': '2021-06-10 19:02:37.000000000', 'files': ['releasenotes/notes/docker-disable-ip-forward-b0490b71f9f07cd6.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/baremetal/tasks/post-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0fa4ee56eb86eb7d4b4e3bb9d9c9993f6906c1bd', 'message': ""Disable docker's ip-forward when iptables disabled\n\nWith the new default since Wallaby, starting Docker makes it\nenable forwarding and not filter it at all.\nThis may pose a security risk and should be mitigated.\n\nCloses-Bug: #1931615\nChange-Id: I5129136c066489fdfaa4d93741c22e5010b7e89d\n""}]",2,795852,0fa4ee56eb86eb7d4b4e3bb9d9c9993f6906c1bd,32,5,2,30491,,,0,"Disable docker's ip-forward when iptables disabled

With the new default since Wallaby, starting Docker makes it
enable forwarding and not filter it at all.
This may pose a security risk and should be mitigated.

Closes-Bug: #1931615
Change-Id: I5129136c066489fdfaa4d93741c22e5010b7e89d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/795852/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/docker-disable-ip-forward-b0490b71f9f07cd6.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/baremetal/tasks/post-install.yml']",3,46af58aeead052b758f2786f1324a7ab2cbddd53,bug/1931615,"- name: Warn about docker ip_forward debug: msg: >- Docker ip_forward will be disabled by default from the Wallaby 12.0.0 release. If you have any non-Kolla containers that need this functionality, you should plan a migration for this change, or set docker_disable_ip_forward to false. when: not docker_disable_ip_forward | bool - name: Disable docker ip_forward set_fact: docker_config: ""{{ docker_config | combine({'ip-forward': 'none'}) }}"" when: docker_disable_ip_forward | bool ",,24,0
openstack%2Fneutron~master~If8386dd40aa86a0a9a25d859cc66b7ac1fa03ba6,openstack/neutron,master,If8386dd40aa86a0a9a25d859cc66b7ac1fa03ba6,Remove timeout skip guard for LP#1687027,MERGED,2021-06-07 08:26:53.000000000,2021-06-15 08:49:01.000000000,2021-06-15 08:45:55.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 08:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ce6a48a955607288d0af9bdba09616b5cc607aa', 'message': 'Remove timeout skip guard for LP#1687027\n\nSince [1], SQL tests do not fail because of a timeout.\n\nCloses-Bug: #1687027\n\n[1]https://review.opendev.org/c/openstack/neutron/+/785568\n\nChange-Id: If8386dd40aa86a0a9a25d859cc66b7ac1fa03ba6\n'}, {'number': 2, 'created': '2021-06-09 13:24:31.000000000', 'files': ['neutron/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1ca4980dada08fa9119ddefe439d616f4405fd1', 'message': 'Remove timeout skip guard for LP#1687027\n\nSince [1], SQL tests do not fail because of a timeout.\n\nCloses-Bug: #1687027\n\n[1]https://review.opendev.org/c/openstack/neutron/+/785568\n\nChange-Id: If8386dd40aa86a0a9a25d859cc66b7ac1fa03ba6\n'}]",0,795059,a1ca4980dada08fa9119ddefe439d616f4405fd1,16,5,2,16688,,,0,"Remove timeout skip guard for LP#1687027

Since [1], SQL tests do not fail because of a timeout.

Closes-Bug: #1687027

[1]https://review.opendev.org/c/openstack/neutron/+/785568

Change-Id: If8386dd40aa86a0a9a25d859cc66b7ac1fa03ba6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/795059/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/db/test_migrations.py'],1,5ce6a48a955607288d0af9bdba09616b5cc607aa,bug/1687027,," @test_base.skip_if_timeout(""bug 1687027"") @test_base.skip_if_timeout(""bug 1687027"") @test_base.skip_if_timeout(""bug 1687027"") @test_base.skip_if_timeout(""bug 1687027"") @test_base.skip_if_timeout(""bug 1687027"") @test_base.skip_if_timeout(""bug 1687027"") @test_base.skip_if_timeout(""bug 1687027"")",0,7
openstack%2Fproject-config~master~Ic7aee1df77510e1421d9b42fcd3f950da987a1c4,openstack/project-config,master,Ic7aee1df77510e1421d9b42fcd3f950da987a1c4,Removing openstack-state-management from the bots,MERGED,2021-06-09 17:04:53.000000000,2021-06-15 08:41:30.000000000,2021-06-15 06:37:20.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 17:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/43878a24a10e834b8dff184ca268a3f9b6cc67ec', 'message': 'Removing openstack-state-management from gerritbot\n\nWe are retiring the #openstack-state-management channel in favor\nof consolidating the discussion to the #openstack-oslo channel[1].\nThis patch removes openstack-state-management from gerritbot.\n\nNote: This patch does not remove openstack-state-management from accessbot\nto retain control of the channel until we completely remove it from OFTC.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/022929.html\n\nChange-Id: Ic7aee1df77510e1421d9b42fcd3f950da987a1c4\n'}, {'number': 2, 'created': '2021-06-09 17:11:37.000000000', 'files': ['gerritbot/channels.yaml', 'accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/748b73ca95b937757c7cc60fd054c03ef6457896', 'message': 'Removing openstack-state-management from the bots\n\nWe are retiring the #openstack-state-management channel in favor\nof consolidating the discussion to the #openstack-oslo channel[1].\nThis patch removes openstack-state-management from gerritbot and\naccessbot.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/022929.html\n\nChange-Id: Ic7aee1df77510e1421d9b42fcd3f950da987a1c4\n'}]",0,795599,748b73ca95b937757c7cc60fd054c03ef6457896,9,3,2,11628,,,0,"Removing openstack-state-management from the bots

We are retiring the #openstack-state-management channel in favor
of consolidating the discussion to the #openstack-oslo channel[1].
This patch removes openstack-state-management from gerritbot and
accessbot.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/022929.html

Change-Id: Ic7aee1df77510e1421d9b42fcd3f950da987a1c4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/99/795599/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,43878a24a10e834b8dff184ca268a3f9b6cc67ec,,,openstack-state-management: events: - patchset-created - change-merged projects: - openstack/automaton - openstack/taskflow - openstack/tooz branches: - master ,0,11
openstack%2Fkolla~master~Ie8b9659d03b3a442695b091e946e7be1fd1bdd89,openstack/kolla,master,Ie8b9659d03b3a442695b091e946e7be1fd1bdd89,[docs] Fix Debian release name,MERGED,2021-06-14 13:23:15.000000000,2021-06-15 08:36:53.000000000,2021-06-15 08:35:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-14 13:23:15.000000000', 'files': ['doc/source/support_matrix.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3110cb136731c1d2b1598c6b3006069a90e464fe', 'message': ""[docs] Fix Debian release name\n\nIt's Bullseye now.\n\nChange-Id: Ie8b9659d03b3a442695b091e946e7be1fd1bdd89\n""}]",0,796275,3110cb136731c1d2b1598c6b3006069a90e464fe,8,3,1,30491,,,0,"[docs] Fix Debian release name

It's Bullseye now.

Change-Id: Ie8b9659d03b3a442695b091e946e7be1fd1bdd89
",git fetch https://review.opendev.org/openstack/kolla refs/changes/75/796275/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/support_matrix.rst'],1,3110cb136731c1d2b1598c6b3006069a90e464fe,docs-debian-bullseye,Debian Bullseye debian bullseye,Debian Buster debian bullseye,1,1
openstack%2Fkolla~master~Ie9f80eded6330a4ca1833018734b785b5be03b2d,openstack/kolla,master,Ie9f80eded6330a4ca1833018734b785b5be03b2d,Do not pip install for binary type,ABANDONED,2019-02-04 15:00:33.000000000,2021-06-15 08:35:30.000000000,,"[{'_account_id': 13039}, {'_account_id': 14826}, {'_account_id': 14985}, {'_account_id': 16282}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-02-04 15:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/baa1e13b0e1189f2f7a3eb0c35d41021b17921c1', 'message': 'Do not pip install for binary type\n\nThis removes the few invocations of ""pip install"" that slipped into the\nbinary type templates.\n\ndocker-py is now installed from distribution packages for dind image.\nStop installing cradox via pip in gnocchi binary images as python-rados\nis now new enough.\nHelm-repository image is now skipped for binary images.\n\nChange-Id: Ie9f80eded6330a4ca1833018734b785b5be03b2d\n'}, {'number': 2, 'created': '2019-06-07 22:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a62a3dd3153384e0b6600d2f919077116d795a8b', 'message': 'Do not pip install for binary type\n\nThis removes the few invocations of ""pip install"" that slipped into the\nbinary type templates.\n\ndocker-py is now installed from distribution packages for dind image.\nStop installing cradox via pip in gnocchi binary images as python-rados\nis now new enough.\nHelm-repository image is now skipped for binary images.\n\nChange-Id: Ie9f80eded6330a4ca1833018734b785b5be03b2d\n'}, {'number': 3, 'created': '2019-06-10 16:13:19.000000000', 'files': ['kolla/image/build.py', 'docker/helm-repository/Dockerfile.j2', 'releasenotes/notes/binary-images-pip-90706b3789fcaf0e.yaml', 'docker/gnocchi/gnocchi-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7e2a85cb85ed529508ddf833f942c6f5a715ccc4', 'message': 'Do not pip install for binary type\n\nThis removes the few invocations of ""pip install"" that slipped into the\nbinary type templates.\n\ndocker-py is now installed from distribution packages for dind image.\nStop installing cradox via pip in gnocchi binary images as python-rados\nis now new enough.\nHelm-repository image is now skipped for binary images.\n\nChange-Id: Ie9f80eded6330a4ca1833018734b785b5be03b2d\n'}]",3,634706,7e2a85cb85ed529508ddf833f942c6f5a715ccc4,19,11,3,13039,,,0,"Do not pip install for binary type

This removes the few invocations of ""pip install"" that slipped into the
binary type templates.

docker-py is now installed from distribution packages for dind image.
Stop installing cradox via pip in gnocchi binary images as python-rados
is now new enough.
Helm-repository image is now skipped for binary images.

Change-Id: Ie9f80eded6330a4ca1833018734b785b5be03b2d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/634706/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/helm-repository/Dockerfile.j2', 'releasenotes/notes/binary-images-pip-90706b3789fcaf0e.yaml', 'docker/gnocchi/gnocchi-base/Dockerfile.j2', 'docker/dind/Dockerfile.j2']",5,baa1e13b0e1189f2f7a3eb0c35d41021b17921c1,restrict-pkg-binary-distro, 'python-docker'{% if install_type == 'source' %}{% endif %}, 'python-setuptools',22,6
openstack%2Fkolla~master~I51626baea10de1aae65b41a435840707fe9ffd92,openstack/kolla,master,I51626baea10de1aae65b41a435840707fe9ffd92,Turn images pulling binaries from web source only,ABANDONED,2019-02-04 15:00:33.000000000,2021-06-15 08:35:19.000000000,,"[{'_account_id': 17669}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-04 15:00:33.000000000', 'files': ['docker/kafka/Dockerfile.j2', 'docker/kubernetes-entrypoint/Dockerfile.j2', 'releasenotes/notes/binary-images-curl-source-only-9c07348ab97e941d.yaml', 'docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2', 'docker/kube/kube-proxy/Dockerfile.j2', 'docker/storm/Dockerfile.j2', 'docker/kube/kube-base/Dockerfile.j2', 'docker/kube/kube-scheduler/Dockerfile.j2', 'docker/prometheus/prometheus-haproxy-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-mysqld-exporter/Dockerfile.j2', 'docker/kube/kube-discovery/Dockerfile.j2', 'docker/prometheus/prometheus-node-exporter/Dockerfile.j2', 'docker/zookeeper/Dockerfile.j2', 'docker/prometheus/prometheus-memcached-exporter/Dockerfile.j2', 'kolla/image/build.py', 'docker/kube/kube-apiserver/Dockerfile.j2', 'docker/prometheus/prometheus-server/Dockerfile.j2', 'docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'docker/prometheus/prometheus-base/Dockerfile.j2', 'docker/prometheus/prometheus-cadvisor/Dockerfile.j2', 'docker/kube/kube-controller-manager/Dockerfile.j2', 'docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c5cf6685904f919411d389d3f39ad8f0b2a65b9c', 'message': 'Turn images pulling binaries from web source only\n\n`kafka`, `kube-*`, `kubernetes-entrypoint`, `prometheus-*`, `storm`,\nand `zookeeper` images all install binaries pulled from remote servers.\nWhile this is fine for kolla source type, this is problematic for\nbinary type were it is expected to install binary as distribution\npackages only. This commit adds guards in the above images and mark\nthem as source type only.\n\nChange-Id: I51626baea10de1aae65b41a435840707fe9ffd92\n'}]",0,634707,c5cf6685904f919411d389d3f39ad8f0b2a65b9c,4,3,1,13039,,,0,"Turn images pulling binaries from web source only

`kafka`, `kube-*`, `kubernetes-entrypoint`, `prometheus-*`, `storm`,
and `zookeeper` images all install binaries pulled from remote servers.
While this is fine for kolla source type, this is problematic for
binary type were it is expected to install binary as distribution
packages only. This commit adds guards in the above images and mark
them as source type only.

Change-Id: I51626baea10de1aae65b41a435840707fe9ffd92
",git fetch https://review.opendev.org/openstack/kolla refs/changes/07/634707/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/kafka/Dockerfile.j2', 'docker/kubernetes-entrypoint/Dockerfile.j2', 'releasenotes/notes/binary-images-curl-source-only-9c07348ab97e941d.yaml', 'docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2', 'docker/kube/kube-proxy/Dockerfile.j2', 'docker/storm/Dockerfile.j2', 'docker/kube/kube-base/Dockerfile.j2', 'docker/kube/kube-scheduler/Dockerfile.j2', 'docker/prometheus/prometheus-haproxy-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-mysqld-exporter/Dockerfile.j2', 'docker/kube/kube-discovery/Dockerfile.j2', 'docker/prometheus/prometheus-node-exporter/Dockerfile.j2', 'docker/zookeeper/Dockerfile.j2', 'docker/prometheus/prometheus-memcached-exporter/Dockerfile.j2', 'kolla/image/build.py', 'docker/kube/kube-apiserver/Dockerfile.j2', 'docker/prometheus/prometheus-server/Dockerfile.j2', 'docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'docker/prometheus/prometheus-base/Dockerfile.j2', 'docker/prometheus/prometheus-cadvisor/Dockerfile.j2', 'docker/kube/kube-controller-manager/Dockerfile.j2', 'docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2']",22,c5cf6685904f919411d389d3f39ad8f0b2a65b9c,restrict-pkg-binary-distro,{% if install_type == 'binary' %} RUN echo '{{ install_type }} not yet available for {{ base_distro }}' \ && /bin/false {% else %} {% endif %},,153,1
openstack%2Fkolla~master~Ida4225231775fe75fb4378f9d692c0462672f25c,openstack/kolla,master,Ida4225231775fe75fb4378f9d692c0462672f25c,Tweak validate-binary-build.sh for exceptions,ABANDONED,2019-02-04 15:00:33.000000000,2021-06-15 08:34:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2019-02-04 15:00:33.000000000', 'files': ['tools/validate-binary-build.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8db154c8c7adc438e6eb8098befabaef2f3e1e8a', 'message': 'Tweak validate-binary-build.sh for exceptions\n\nUpdate the check_for_errors() function to take a list of images to\nignore, as some of them might have valid calls that would otherwise be\nflagged as forbidden. This is for example the case for curl invocations\nin the `base` and `logstash` images.\n\nMake the script return an actual error status code. It will, as\na result, fail the pep8 CI job if it finds forbidden instruction in the\nbinary type template files.\n\nChange-Id: Ida4225231775fe75fb4378f9d692c0462672f25c\n'}]",0,634711,8db154c8c7adc438e6eb8098befabaef2f3e1e8a,4,2,1,13039,,,0,"Tweak validate-binary-build.sh for exceptions

Update the check_for_errors() function to take a list of images to
ignore, as some of them might have valid calls that would otherwise be
flagged as forbidden. This is for example the case for curl invocations
in the `base` and `logstash` images.

Make the script return an actual error status code. It will, as
a result, fail the pep8 CI job if it finds forbidden instruction in the
binary type template files.

Change-Id: Ida4225231775fe75fb4378f9d692c0462672f25c
",git fetch https://review.opendev.org/openstack/kolla refs/changes/11/634711/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/validate-binary-build.sh'],1,8db154c8c7adc438e6eb8098befabaef2f3e1e8a,restrict-pkg-binary-distro," local regex=$1 # We don't care about kolla-toolbox image local ignore_list=""kolla-toolbox $2"" local ignore_path=() for image in $ignore_list; do ignore_path+=(-not -path ""$tmpdir/docker/$image/*"") done # Look for all rendered Dockerfile, minus the given ignore list find $tmpdir/docker -name Dockerfile \ ""${ignore_path[@]}"" \ -print0 | xargs -0 egrep --color ""$regex"" # base and logstash images have valid curl invocations check_for_errors ""curl .*(-o|--output) "" ""base logstash""exit $RES"," regex=$1 # Look for all rendered Dockerfile. We don't care about kolla-toolbox. find $tmpdir/docker -not -path ""*kolla-toolbox*"" -name Dockerfile -print0 | xargs -0 egrep --color ""$regex"" check_for_errors ""curl""# Let's not make it fail pep8 job for now #exit $RES",14,7
openstack%2Fkolla~master~Ia179016619789da48ab3cfa689be86b70e843aa8,openstack/kolla,master,Ia179016619789da48ab3cfa689be86b70e843aa8,Make skydive image source only for deb,ABANDONED,2019-02-04 15:00:33.000000000,2021-06-15 08:34:32.000000000,,"[{'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-04 15:00:33.000000000', 'files': ['kolla/image/build.py', 'docker/skydive/skydive-base/Dockerfile.j2', 'releasenotes/notes/binary-images-curl-skydive-911abb82c0a5062d.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b15c22818dec937b2a6c6567e466c722d0a791dd', 'message': 'Make skydive image source only for deb\n\nThere is no deb package available for skydive. In consequence, turn the\nskydive image source only for debian and ubunto distros.\n\nChange-Id: Ia179016619789da48ab3cfa689be86b70e843aa8\n'}]",1,634710,b15c22818dec937b2a6c6567e466c722d0a791dd,4,2,1,13039,,,0,"Make skydive image source only for deb

There is no deb package available for skydive. In consequence, turn the
skydive image source only for debian and ubunto distros.

Change-Id: Ia179016619789da48ab3cfa689be86b70e843aa8
",git fetch https://review.opendev.org/openstack/kolla refs/changes/10/634710/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/skydive/skydive-base/Dockerfile.j2', 'releasenotes/notes/binary-images-curl-skydive-911abb82c0a5062d.yaml']",3,b15c22818dec937b2a6c6567e466c722d0a791dd,restrict-pkg-binary-distro,--- upgrade: - | Skydive image is now source only for Debian and Ubuntu. ,,13,0
openstack%2Fkolla~master~Ia83da724c36ef0bd080dd694b8d226eb5db36728,openstack/kolla,master,Ia83da724c36ef0bd080dd694b8d226eb5db36728,Do not gem install for binary type,ABANDONED,2019-01-30 18:12:01.000000000,2021-06-15 08:34:03.000000000,,"[{'_account_id': 5241}, {'_account_id': 13039}, {'_account_id': 14826}, {'_account_id': 14985}, {'_account_id': 16282}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 23215}, {'_account_id': 23717}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-01-30 18:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/099252a56ac73ed504abf9a4d28049c269d7f975', 'message': 'Do not gem install for binary type\n\nThis removes the few invocations of ""gem install"" that slipped into the\nbinary type templates.\n\nChange-Id: Ia83da724c36ef0bd080dd694b8d226eb5db36728\n'}, {'number': 2, 'created': '2019-01-31 15:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d3d6fcfe6dd415126224ba783ba059140ac97ff0', 'message': 'Do not gem install for binary type\n\nThis removes the few invocations of ""gem install"" that slipped into the\nbinary type templates.\n\nFluentd plugins are no longer installed in the Debian and Ubuntu binary\nimages due to the fact that they were installed via gem install and not\nthe distribution packages. For the same reason, monasca output plugin\nis now installed only for source images.\n\nMonasca-grafana is now skipped for binary images.\n\nChange-Id: Ia83da724c36ef0bd080dd694b8d226eb5db36728\n'}, {'number': 3, 'created': '2019-02-04 15:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/99e7c4c99dfebcf97a35ad4d50bef5abaff4e5b3', 'message': 'Do not gem install for binary type\n\nThis removes the few invocations of ""gem install"" that slipped into the\nbinary type templates.\n\nFluentd plugins are no longer installed in the Debian and Ubuntu binary\nimages due to the fact that they were installed via gem install and not\nthe distribution packages. For the same reason, monasca output plugin\nis now installed only for source images.\n\nMonasca-grafana is now skipped for binary images.\n\nChange-Id: Ia83da724c36ef0bd080dd694b8d226eb5db36728\n'}, {'number': 4, 'created': '2019-06-07 21:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/eaa771e71a1f2cc7b5835e4b975d2b8933160d2c', 'message': 'Do not gem install for binary type\n\nThis removes the few invocations of ""gem install"" that slipped into the\nbinary type templates.\n\nFluentd plugins are no longer installed in the Debian and Ubuntu binary\nimages due to the fact that they were installed via gem install and not\nthe distribution packages. For the same reason, monasca output plugin\nis now installed only for source images.\n\nMonasca-grafana is now skipped for binary images.\n\nChange-Id: Ia83da724c36ef0bd080dd694b8d226eb5db36728\n'}, {'number': 5, 'created': '2019-06-07 22:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9afdb60edaa6640b64d5e1346ed00dbfa6306a23', 'message': 'Do not gem install for binary type\n\nThis removes the few invocations of ""gem install"" that slipped into the\nbinary type templates.\n\nFluentd plugins are no longer installed in the Debian and Ubuntu binary\nimages due to the fact that they were installed via gem install and not\nthe distribution packages. For the same reason, monasca output plugin\nis now installed only for source images.\n\nMonasca-grafana is now skipped for binary images.\n\nChange-Id: Ia83da724c36ef0bd080dd694b8d226eb5db36728\n'}, {'number': 6, 'created': '2019-06-10 16:12:12.000000000', 'files': ['kolla/image/build.py', 'docker/monasca/monasca-grafana/Dockerfile.j2', 'releasenotes/notes/binary-images-gem-6e301538462f4388.yaml', 'docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4dff9ee3eb809bc5bbbdeebbf98f854a9f51107a', 'message': 'Do not gem install for binary type\n\nThis removes the few invocations of ""gem install"" that slipped into the\nbinary type templates.\n\nFluentd plugins are no longer installed in the Debian and Ubuntu binary\nimages due to the fact that they were installed via gem install and not\nthe distribution packages. For the same reason, monasca output plugin\nis now installed only for source images.\n\nMonasca-grafana is now skipped for binary images.\n\nChange-Id: Ia83da724c36ef0bd080dd694b8d226eb5db36728\n'}]",1,634019,4dff9ee3eb809bc5bbbdeebbf98f854a9f51107a,30,11,6,13039,,,0,"Do not gem install for binary type

This removes the few invocations of ""gem install"" that slipped into the
binary type templates.

Fluentd plugins are no longer installed in the Debian and Ubuntu binary
images due to the fact that they were installed via gem install and not
the distribution packages. For the same reason, monasca output plugin
is now installed only for source images.

Monasca-grafana is now skipped for binary images.

Change-Id: Ia83da724c36ef0bd080dd694b8d226eb5db36728
",git fetch https://review.opendev.org/openstack/kolla refs/changes/19/634019/6 && git format-patch -1 --stdout FETCH_HEAD,"['docker/monasca/monasca-grafana/Dockerfile.j2', 'docker/fluentd/Dockerfile.j2']",2,099252a56ac73ed504abf9a4d28049c269d7f975,restrict-pkg-binary-distro," {% if install_type == 'source' %} {% set fluentd_packages = fluentd_packages + [ 'gcc-c++', 'make', 'ruby-devel', ] %} {% endif %} {% if install_type == 'source' %} {% set fluentd_packages = fluentd_packages + [ 'g++', 'make', 'ruby-dev', ] %} {% endif %} {% if install_type == 'source' %} {% endif %}"," 'gcc-c++', 'make', 'ruby-devel', 'g++', 'make', 'ruby-dev',",26,6
openstack%2Fproject-config~master~Ifc650adbcb5ae6ed1f7ce50a4de58004ef020acc,openstack/project-config,master,Ifc650adbcb5ae6ed1f7ce50a4de58004ef020acc,Build images for Fedora 34,MERGED,2021-06-09 17:35:44.000000000,2021-06-15 08:25:48.000000000,2021-06-15 06:03:26.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 17:35:44.000000000', 'files': ['nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml', 'grafana/create-nodepool-dib.sh', 'grafana/nodepool-dib.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5dc75c59441f3bb9b716c902c48417dfdf5f68c7', 'message': 'Build images for Fedora 34\n\nThis patch adds all the images to build Fedora 34 using the new\ncontainer element.\n\nDepends-On: https://review.opendev.org/c/opendev/system-config/+/795602\nChange-Id: Ifc650adbcb5ae6ed1f7ce50a4de58004ef020acc\n'}]",0,795604,5dc75c59441f3bb9b716c902c48417dfdf5f68c7,10,3,1,1004,,,0,"Build images for Fedora 34

This patch adds all the images to build Fedora 34 using the new
container element.

Depends-On: https://review.opendev.org/c/opendev/system-config/+/795602
Change-Id: Ifc650adbcb5ae6ed1f7ce50a4de58004ef020acc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/04/795604/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml', 'grafana/create-nodepool-dib.sh', 'grafana/nodepool-dib.yaml']",7,5dc75c59441f3bb9b716c902c48417dfdf5f68c7,,"# AUTOGENERATED : Fedora 34 - title: Fedora 34 showTitle: true height: 200px panels: - title: Build status colorBackground: true type: singlestat valueName: current valueMaps: - value: 0 text: ""OK"" - value: 1 text: ""FAILED"" thresholds: 0.1,0.9 span: 2 targets: - target: ""stats.gauges.nodepool.dib_image_build.fedora-34.status.rc"" valueFontSize: ""50%"" - title: Last build type: singlestat span: 2 format: dateTimeFromNow targets: - target: ""stats.gauges.nodepool.dib_image_build.fedora-34.status.last_build"" valueFontSize: ""50%"" - title: Image size type: graph span: 3 yaxes: - format: decbytes min: 0 - format: decbytes min: 0 targets: - target: aliasByNode(stats.gauges.nodepool.dib_image_build.fedora-34.*.size, 5) refId: A - title: Build duration type: graph span: 3 yaxes: - format: ms min: 0 - format: ms min: 0 targets: - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.fedora-34.status.duration.mean, 'None'), ""Time"") refId: A",,118,0
openstack%2Fpuppet-zaqar~master~I802ad74076147e3c77d9e4ba26cd63a62597dc1f,openstack/puppet-zaqar,master,I802ad74076147e3c77d9e4ba26cd63a62597dc1f,Drop Fedora support,ABANDONED,2021-06-15 03:20:54.000000000,2021-06-15 07:58:30.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 03:20:54.000000000', 'files': ['releasenotes/notes/drop-fedora-46b735b83216a856.yaml', 'metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/6e364d08081d47aaf67fecd3fdc00f78115a96eb', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I802ad74076147e3c77d9e4ba26cd63a62597dc1f\n""}]",0,796356,6e364d08081d47aaf67fecd3fdc00f78115a96eb,4,2,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I802ad74076147e3c77d9e4ba26cd63a62597dc1f
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/56/796356/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-fedora-46b735b83216a856.yaml', 'metadata.json']",2,6e364d08081d47aaf67fecd3fdc00f78115a96eb,,," ""operatingsystem"": ""Fedora"", ""operatingsystemrelease"": [ ""24"" ] }, {",4,6
openstack%2Ftripleo-docs~master~I4384e7bfcf1aa6c94dbd6a277eac243d8732e2a8,openstack/tripleo-docs,master,I4384e7bfcf1aa6c94dbd6a277eac243d8732e2a8,Document --work-dir,MERGED,2021-03-25 14:45:05.000000000,2021-06-15 07:57:29.000000000,2021-06-15 07:55:58.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-25 14:45:05.000000000', 'files': ['deploy-guide/source/deployment/install_overcloud.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/94ad9465d3f7fae2efb3c7f6721764c6eb884c35', 'message': 'Document --work-dir\n\nChange-Id: I4384e7bfcf1aa6c94dbd6a277eac243d8732e2a8\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,783016,94ad9465d3f7fae2efb3c7f6721764c6eb884c35,9,4,1,7144,,,0,"Document --work-dir

Change-Id: I4384e7bfcf1aa6c94dbd6a277eac243d8732e2a8
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/16/783016/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/install_overcloud.rst'],1,94ad9465d3f7fae2efb3c7f6721764c6eb884c35,,"Deployment artifacts ^^^^^^^^^^^^^^^^^^^^ Artifacts from the deployment, including log files, rendered templates, and generated environment files are saved under the working directory which can be specified with the ``--work-dir`` argument to ``openstack overcloud deploy``. By default, the location is ``~/overcloud-deploy/<stack>``.",,8,0
openstack%2Fpython-tripleoclient~master~Ic1fb1a8d3cf76a4cae64e38cd4d48d9182bf114e,openstack/python-tripleoclient,master,Ic1fb1a8d3cf76a4cae64e38cd4d48d9182bf114e,Fix overcloud node provide,MERGED,2021-06-11 05:51:57.000000000,2021-06-15 07:18:34.000000000,2021-06-15 07:15:51.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-11 05:51:57.000000000', 'files': ['tripleoclient/workflows/baremetal.py', 'tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8de4d4a3804557f5a5ededcef779206b581e938b', 'message': ""Fix overcloud node provide\n\nWe don't seem to pass the correct arguments when\nspecifying nodes.\n\nCloses-Bug: #1931674\nChange-Id: Ic1fb1a8d3cf76a4cae64e38cd4d48d9182bf114e\n""}]",0,795925,8de4d4a3804557f5a5ededcef779206b581e938b,9,4,1,8833,,,0,"Fix overcloud node provide

We don't seem to pass the correct arguments when
specifying nodes.

Closes-Bug: #1931674
Change-Id: Ic1fb1a8d3cf76a4cae64e38cd4d48d9182bf114e
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/25/795925/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/baremetal.py', 'tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/v1/overcloud_node.py']",4,8de4d4a3804557f5a5ededcef779206b581e938b,," baremetal.provide(node_uuids=parsed_args.node_uuids, verbosity=oooutils.playbook_verbosity(self)) else: baremetal.provide_manageable_nodes( self.app.client_manager, verbosity=oooutils.playbook_verbosity(self)) baremetal.provide(node_uuids=nodes, verbosity=oooutils.playbook_verbosity(self)) baremetal.provide( node_uuids=nodes_uuids, verbosity=oooutils.playbook_verbosity(self))"," baremetal.provide(self.app.client_manager, node_uuids=parsed_args.node_uuids) else: baremetal.provide_manageable_nodes(self.app.client_manager) baremetal.provide(self.app.client_manager, node_uuids=nodes, ) baremetal.provide(self.app.client_manager, node_uuids=nodes_uuids )",20,18
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I7aa97142224f040abe6123450ef13ec5959a9c5d,openstack/tripleo-heat-templates,stable/wallaby,I7aa97142224f040abe6123450ef13ec5959a9c5d,Set ganesha idmap.conf file path and overrides,MERGED,2021-06-11 07:29:30.000000000,2021-06-15 07:16:46.000000000,2021-06-15 07:16:46.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 9003}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-11 07:29:30.000000000', 'files': ['deployment/cephadm/ceph-nfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/76b5cf4d60fa7d7342bbb9d7b0ad5227b56d714d', 'message': 'Set ganesha idmap.conf file path and overrides\n\nThis patch is a follow up of [1], which added two additional\nparameters with the purpose of defining the idmap.conf location\nand some potential overrides that can be applied via [2].\n\n[1] https://review.opendev.org/773999\n[2] https://review.opendev.org/795233\n\nDepends-On: I2b118e6e2184e70d5bccb4ab3cdb7e868ac731e2\nChange-Id: I7aa97142224f040abe6123450ef13ec5959a9c5d\n(cherry picked from commit 00f9300495f0023d63d0debfd90ae0344eb6498d)\n'}]",0,795876,76b5cf4d60fa7d7342bbb9d7b0ad5227b56d714d,10,7,1,25402,,,0,"Set ganesha idmap.conf file path and overrides

This patch is a follow up of [1], which added two additional
parameters with the purpose of defining the idmap.conf location
and some potential overrides that can be applied via [2].

[1] https://review.opendev.org/773999
[2] https://review.opendev.org/795233

Depends-On: I2b118e6e2184e70d5bccb4ab3cdb7e868ac731e2
Change-Id: I7aa97142224f040abe6123450ef13ec5959a9c5d
(cherry picked from commit 00f9300495f0023d63d0debfd90ae0344eb6498d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/795876/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-nfs.yaml'],1,76b5cf4d60fa7d7342bbb9d7b0ad5227b56d714d,cephadm_ganesha, tripleo_cephadm_idmap_conf: {get_param: ManilaCephFSNFSIdmapConf} tripleo_cephadm_idmap_overrides: {get_param: ManilaCephFSNFSIdmapOverrides},,2,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I2b118e6e2184e70d5bccb4ab3cdb7e868ac731e2,openstack/tripleo-ansible,stable/wallaby,I2b118e6e2184e70d5bccb4ab3cdb7e868ac731e2,Build ganesha idmap.conf file path and apply overrides,MERGED,2021-06-11 07:29:01.000000000,2021-06-15 07:16:21.000000000,2021-06-15 07:16:21.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-11 07:29:01.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/templates/idmap.conf.j2', 'tripleo_ansible/roles/tripleo_cephadm/tasks/ganesha/start_nfs.yaml', 'tripleo_ansible/roles/tripleo_cephadm/templates/ganesha.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/17cb4f7ed3444ae7446ec5195da64117f6284e61', 'message': 'Build ganesha idmap.conf file path and apply overrides\n\nAs per [1] tripleo-heat-templates now has two parameters that are\nsupposed to define the location of the idmap.conf file and some\noverrides that can be applied via config_template.\nThis change adds the idmap template and the required tasks to make\nit properly rendered in a given location.\n\n[1] https://review.opendev.org/773999\n\nChange-Id: I2b118e6e2184e70d5bccb4ab3cdb7e868ac731e2\n(cherry picked from commit 3ff9aaa6824906fb6b95fd6343da553be87c264c)\n'}]",0,795936,17cb4f7ed3444ae7446ec5195da64117f6284e61,7,6,1,25402,,,0,"Build ganesha idmap.conf file path and apply overrides

As per [1] tripleo-heat-templates now has two parameters that are
supposed to define the location of the idmap.conf file and some
overrides that can be applied via config_template.
This change adds the idmap template and the required tasks to make
it properly rendered in a given location.

[1] https://review.opendev.org/773999

Change-Id: I2b118e6e2184e70d5bccb4ab3cdb7e868ac731e2
(cherry picked from commit 3ff9aaa6824906fb6b95fd6343da553be87c264c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/36/795936/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/templates/idmap.conf.j2', 'tripleo_ansible/roles/tripleo_cephadm/tasks/ganesha/start_nfs.yaml', 'tripleo_ansible/roles/tripleo_cephadm/templates/ganesha.conf.j2']",4,17cb4f7ed3444ae7446ec5195da64117f6284e61,cephadm_ganesha," IdmapConf = ""{{ tripleo_cephadm_idmap_conf }}"";",,151,2
openstack%2Ftripleo-heat-templates~master~Ib42fc397389d8b50c740edf334fe6f281c392ec6,openstack/tripleo-heat-templates,master,Ib42fc397389d8b50c740edf334fe6f281c392ec6,Set OS_CLOUD instead in stackrc,MERGED,2021-06-08 03:17:09.000000000,2021-06-15 07:15:24.000000000,2021-06-15 07:15:24.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-06-08 03:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a94413d2e550a3fe8d21d605352c0d8dfcdbb4a3', 'message': 'Set OS_CLOUD instead in stackrc\n\nWe now write clouds.yaml when configuring keystone and\ncan use OS_CLOUD instead. Setting OS_AUTH_URL overrides\nwhen we want use OS_CLOUD pointing to overcloud.\n\nChange-Id: Ib42fc397389d8b50c740edf334fe6f281c392ec6\n'}, {'number': 2, 'created': '2021-06-08 06:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4807351e26ca1d8f3f236eb1ca59a01d77736f01', 'message': 'Set OS_CLOUD instead in stackrc\n\nWe now write clouds.yaml when configuring keystone and\ncan use OS_CLOUD instead. Setting OS_AUTH_URL overrides\nwhen we want use OS_CLOUD pointing to overcloud.\n\nCloses-bug: #1931172\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/795225\nChange-Id: Ib42fc397389d8b50c740edf334fe6f281c392ec6\n'}, {'number': 3, 'created': '2021-06-08 10:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c0f3a9e058d22efbdc517183dfd531652e0965f', 'message': 'Set OS_CLOUD instead in stackrc\n\nWe now write clouds.yaml when configuring keystone and\ncan use OS_CLOUD instead. Setting OS_AUTH_URL overrides\nwhen we want use OS_CLOUD pointing to overcloud.\n\nCloses-bug: #1931172\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/795225\nDepends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/795293\nChange-Id: Ib42fc397389d8b50c740edf334fe6f281c392ec6\n'}, {'number': 4, 'created': '2021-06-09 06:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05e69c6330f4aef09b96f6c200b5e97077c55ba3', 'message': 'Set OS_CLOUD instead in stackrc\n\nWe now write clouds.yaml when configuring keystone and\ncan use OS_CLOUD instead. Setting OS_AUTH_URL overrides\nwhen we want use OS_CLOUD pointing to overcloud.\n\nCloses-bug: #1931172\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/795225\nDepends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/795293\nChange-Id: Ib42fc397389d8b50c740edf334fe6f281c392ec6\n'}, {'number': 5, 'created': '2021-06-10 17:53:49.000000000', 'files': ['extraconfig/post_deploy/undercloud_post.yaml', 'extraconfig/post_deploy/undercloud_post.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/454b45c7d2705f75bb06c5e60470e5aa0264923a', 'message': 'Set OS_CLOUD instead in stackrc\n\nWe now write clouds.yaml when configuring keystone and\ncan use OS_CLOUD instead. Setting OS_AUTH_URL overrides\nwhen we want use OS_CLOUD pointing to overcloud.\n\nCloses-bug: #1931172\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/795225\nDepends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/795293\nChange-Id: Ib42fc397389d8b50c740edf334fe6f281c392ec6\n'}]",6,795203,454b45c7d2705f75bb06c5e60470e5aa0264923a,39,7,5,8833,,,0,"Set OS_CLOUD instead in stackrc

We now write clouds.yaml when configuring keystone and
can use OS_CLOUD instead. Setting OS_AUTH_URL overrides
when we want use OS_CLOUD pointing to overcloud.

Closes-bug: #1931172
Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/795225
Depends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/795293
Change-Id: Ib42fc397389d8b50c740edf334fe6f281c392ec6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/795203/4 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/post_deploy/undercloud_post.sh'],1,a94413d2e550a3fe8d21d605352c0d8dfcdbb4a3,bug/1931172,export OS_CLOUD=undercloud, export OS_AUTH_TYPE=password export OS_PASSWORD=$admin_password export OS_AUTH_URL=$auth_url export OS_USERNAME=admin export OS_PROJECT_NAME=admin export COMPUTE_API_VERSION=1.1 export NOVA_VERSION=1.1export OS_IDENTITY_API_VERSION='3' export OS_PROJECT_DOMAIN_NAME='Default' export OS_USER_DOMAIN_NAME='Default',1,11
openstack%2Ftripleo-quickstart-extras~master~I1d233e5109a009bd1422c9657cdadcf4df1d17bd,openstack/tripleo-quickstart-extras,master,I1d233e5109a009bd1422c9657cdadcf4df1d17bd,Don't use disable-telemetry.yaml,MERGED,2021-06-07 04:18:54.000000000,2021-06-15 07:15:15.000000000,2021-06-15 07:15:15.000000000,"[{'_account_id': 6926}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-07 04:18:54.000000000', 'files': ['roles/validate-tempest/templates/configure-tempest.sh.j2', 'config/general_config/deprecated/containers_minimal.yml', 'config/general_config/ovb-minimal-pacemaker-public-bond.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/452bbdca6e2e0057c58407eeb8399d2bf3a9670c', 'message': ""Don't use disable-telemetry.yaml\n\nLegacy telemetry has been disabled by default since\nussuri.\n\nChange-Id: I1d233e5109a009bd1422c9657cdadcf4df1d17bd\n""}]",0,795018,452bbdca6e2e0057c58407eeb8399d2bf3a9670c,11,5,1,8833,,,0,"Don't use disable-telemetry.yaml

Legacy telemetry has been disabled by default since
ussuri.

Change-Id: I1d233e5109a009bd1422c9657cdadcf4df1d17bd
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/18/795018/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validate-tempest/templates/configure-tempest.sh.j2', 'config/general_config/deprecated/containers_minimal.yml', 'config/general_config/ovb-minimal-pacemaker-public-bond.yml']",3,452bbdca6e2e0057c58407eeb8399d2bf3a9670c,telemetry-cleanup,"# Disabled by default in ussuri {% if release in ['queens', 'stein', 'train'] %} -e {{ overcloud_templates_path }}/environments/disable-telemetry.yaml {% endif %}","# This is not required in newton {% if release not in ['newton', 'ocata'] %} -e {{ overcloud_templates_path }}/environments/disable-telemetry.yaml {% endif %}",7,9
openstack%2Fdevstack~master~Ibb9b247a018a788c8c4b40487762319fe470bf0f,openstack/devstack,master,Ibb9b247a018a788c8c4b40487762319fe470bf0f,Drop broute from ebtables_dump,MERGED,2021-06-09 07:39:55.000000000,2021-06-15 07:14:59.000000000,2021-06-15 07:13:31.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-09 07:39:55.000000000', 'files': ['tools/worlddump.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/5a684eb51b4c18aee2051c5a7c703f50bbcc41ca', 'message': 'Drop broute from ebtables_dump\n\nThis table is no longer present on most installations, drop it\nfrom the list to avoid error messages during log collection\nthat people mistake to be the real error why devstack is failing.\n\nThis may lose some debugging information in edge cases, but I\nthink the improvement of the general user experience is more\nimportant.\n\nChange-Id: Ibb9b247a018a788c8c4b40487762319fe470bf0f\nCloses-Bug: 1885198\n'}]",0,795488,5a684eb51b4c18aee2051c5a7c703f50bbcc41ca,8,3,1,13252,,,0,"Drop broute from ebtables_dump

This table is no longer present on most installations, drop it
from the list to avoid error messages during log collection
that people mistake to be the real error why devstack is failing.

This may lose some debugging information in edge cases, but I
think the improvement of the general user experience is more
important.

Change-Id: Ibb9b247a018a788c8c4b40487762319fe470bf0f
Closes-Bug: 1885198
",git fetch https://review.opendev.org/openstack/devstack refs/changes/88/795488/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/worlddump.py'],1,5a684eb51b4c18aee2051c5a7c703f50bbcc41ca,bug/1885198," tables = ['filter', 'nat']"," tables = ['filter', 'nat', 'broute']",1,1
openstack%2Fzaqar~master~I1eb619420b7a0c7616160ee288e44dfcb133fe69,openstack/zaqar,master,I1eb619420b7a0c7616160ee288e44dfcb133fe69,[doc]Update IRC Info,MERGED,2021-06-15 01:49:03.000000000,2021-06-15 06:43:21.000000000,2021-06-15 06:41:53.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 01:49:03.000000000', 'files': ['doc/source/contributor/welcome.rst', 'AUTHORS.rst', 'doc/source/contributor/launchpad.rst', 'README.rst', 'doc/source/contributor/project_info.rst'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/cbaadc0e231a917c90e393b11c601109273a93de', 'message': '[doc]Update IRC Info\n\nMove Zaqar IRC channel from freenode to OFTC\n\nChange-Id: I1eb619420b7a0c7616160ee288e44dfcb133fe69\n'}]",0,796329,cbaadc0e231a917c90e393b11c601109273a93de,7,2,1,8846,,,0,"[doc]Update IRC Info

Move Zaqar IRC channel from freenode to OFTC

Change-Id: I1eb619420b7a0c7616160ee288e44dfcb133fe69
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/29/796329/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/welcome.rst', 'AUTHORS.rst', 'doc/source/contributor/launchpad.rst', 'README.rst', 'doc/source/contributor/project_info.rst']",5,cbaadc0e231a917c90e393b11c601109273a93de,doc-update-to-OFTC,"- Our IRC channel: **#openstack-zaqar** on **OFTC**; - Bi-Weekly Zaqar team meeting (in IRC): **#openstack-zaqar** on **OFTC**, held on Monday at 14:00 UTC;","- Our IRC channel: **#openstack-zaqar** on **irc.freenode.net**; - Bi-Weekly Zaqar team meeting (in IRC): **#openstack-meeting-3** on **irc.freenode.net**, held on Monday at 14:00 UTC;",7,7
openstack%2Ftacker~master~I35888eab9c199858c7ae0034073065e4c7471e6c,openstack/tacker,master,I35888eab9c199858c7ae0034073065e4c7471e6c,"Improvement of Processing Logic for Healing The following patch will fix the issue wherein if VM name and AutoScalingGroup name are the same name, unhealthy is set for both and both are target for healing. The fix will be in Instantiation part since the root cause of the issue is that Nova::Server is not included as resource in vnfcResourceInfo.",ABANDONED,2021-06-15 06:29:51.000000000,2021-06-15 06:31:00.000000000,,[],"[{'number': 1, 'created': '2021-06-15 06:29:51.000000000', 'files': ['tacker/vnfm/infra_drivers/openstack/openstack.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/ab4249969e9c520fde42d8b3c6f82f4ed354e088', 'message': 'Improvement of Processing Logic for Healing\nThe following patch will fix the issue wherein\nif VM name and AutoScalingGroup name are the\nsame name, unhealthy is set for both and both\nare target for healing. The fix will be in\nInstantiation part since the root cause of the\nissue is that Nova::Server is not included as\nresource in vnfcResourceInfo.\n\nCloses-Bug: #1924214\nChange-Id: I35888eab9c199858c7ae0034073065e4c7471e6c\n'}]",0,796381,ab4249969e9c520fde42d8b3c6f82f4ed354e088,2,0,1,33558,,,0,"Improvement of Processing Logic for Healing
The following patch will fix the issue wherein
if VM name and AutoScalingGroup name are the
same name, unhealthy is set for both and both
are target for healing. The fix will be in
Instantiation part since the root cause of the
issue is that Nova::Server is not included as
resource in vnfcResourceInfo.

Closes-Bug: #1924214
Change-Id: I35888eab9c199858c7ae0034073065e4c7471e6c
",git fetch https://review.opendev.org/openstack/tacker refs/changes/81/796381/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/vnfm/infra_drivers/openstack/openstack.py'],1,ab4249969e9c520fde42d8b3c6f82f4ed354e088,bug/1924214,,"NOVA_SERVER_RESOURCE = ""OS::Nova::Server"" ",0,2
openstack%2Ftacker~master~I80990b0d972fcd70c1ebfb764e6d44b43d028518,openstack/tacker,master,I80990b0d972fcd70c1ebfb764e6d44b43d028518,Modify Placement Processing to Aspect definition,ABANDONED,2021-06-15 05:44:49.000000000,2021-06-15 06:03:17.000000000,,[],"[{'number': 1, 'created': '2021-06-15 05:44:49.000000000', 'files': ['tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/85420bc62687e6b4093054bd59b9a1135f469ffc', 'message': 'Modify Placement Processing to Aspect definition\n\nThis patch will change the proccessing of Placement Constraints\nfrom VDU name to Aspect Definition. There is also an error in the\njudgment logic when setting Availavility_zone information from\nthe Zone information of GrantRes, so the judgment logic is also\nfixed.\n\nCloses-Bug: #1924216\nChange-Id: I80990b0d972fcd70c1ebfb764e6d44b43d028518\n'}]",0,796369,85420bc62687e6b4093054bd59b9a1135f469ffc,2,0,1,33284,,,0,"Modify Placement Processing to Aspect definition

This patch will change the proccessing of Placement Constraints
from VDU name to Aspect Definition. There is also an error in the
judgment logic when setting Availavility_zone information from
the Zone information of GrantRes, so the judgment logic is also
fixed.

Closes-Bug: #1924216
Change-Id: I80990b0d972fcd70c1ebfb764e6d44b43d028518
",git fetch https://review.opendev.org/openstack/tacker refs/changes/69/796369/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py']",2,85420bc62687e6b4093054bd59b9a1135f469ffc,modify_placement, scale_dict = {} scale_dict[key_name] = name if scale_dict: jsonutils.dump_as_bytes(scale_dict) if scale_dict:, scaling_group_dict = {} scaling_group_dict[key_name] = name if scaling_group_dict: jsonutils.dump_as_bytes(scaling_group_dict) if scaling_group_dict:,8,164
openstack%2Fdevstack~master~I6a23547bf7af73c1c2b65f37aecf22724d0c2f41,openstack/devstack,master,I6a23547bf7af73c1c2b65f37aecf22724d0c2f41,worlddump.py : output with python3,ABANDONED,2019-01-10 06:19:19.000000000,2021-06-15 05:39:41.000000000,,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-10 06:19:19.000000000', 'files': ['tools/worlddump.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8fe94669d88e16108e7170709940232b0973df36', 'message': 'worlddump.py : output with python3\n\nRunning this under python3 results in\n\n ""ValueError: can\'t have unbuffered text I/O""\n\nwhen opening sys.stdout.fileno.  Allowing buffering seems to be the\neasiest way to fix it; there are whole articles around doing this [1]\nbut let\'s KISS until proven otherwise...\n\n[1] https://eli.thegreenplace.net/2015/redirecting-all-kinds-of-stdout-in-python/\n\nChange-Id: I6a23547bf7af73c1c2b65f37aecf22724d0c2f41\n'}]",3,629773,8fe94669d88e16108e7170709940232b0973df36,9,7,1,7118,,,0,"worlddump.py : output with python3

Running this under python3 results in

 ""ValueError: can't have unbuffered text I/O""

when opening sys.stdout.fileno.  Allowing buffering seems to be the
easiest way to fix it; there are whole articles around doing this [1]
but let's KISS until proven otherwise...

[1] https://eli.thegreenplace.net/2015/redirecting-all-kinds-of-stdout-in-python/

Change-Id: I6a23547bf7af73c1c2b65f37aecf22724d0c2f41
",git fetch https://review.opendev.org/openstack/devstack refs/changes/73/629773/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/worlddump.py'],1,8fe94669d88e16108e7170709940232b0973df36,worlddump-unbuffered-io,"import six if six.PY3: # NOTE(ianw): Python3 requires buffered output. I'm fairly # certain this has caveats around UTF-8, etc, but this works # for our simple case, for now ... sys.stdout = os.fdopen(sys.stdout.fileno(), 'w') else: sys.stdout = os.fdopen(sys.stdout.fileno(), 'w', 0)"," sys.stdout = os.fdopen(sys.stdout.fileno(), 'w', 0)",8,1
openstack%2Fneutron~master~If3e96e667b31b039dd1f55b978321f96facfc3e1,openstack/neutron,master,If3e96e667b31b039dd1f55b978321f96facfc3e1,Add the DHCPReponder for IPv6,MERGED,2021-02-01 03:37:46.000000000,2021-06-15 05:39:03.000000000,2021-06-15 05:37:11.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 25058}]","[{'number': 1, 'created': '2021-02-01 03:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c187caa43114f039832dfe97d42ffbff237c6f30', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 2, 'created': '2021-02-03 04:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f83510ffcdbedffe8e6818319135aea9ab2a6f5', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 3, 'created': '2021-02-03 08:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/673d730a78c24aad1df02316e9d2571785210f87', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 4, 'created': '2021-02-05 05:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd9fddd0c441d77060c28c3ca6be218b84aeae88', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 5, 'created': '2021-02-19 01:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7bdd3be8a02b75efb050e480325151f4dd79e1cd', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 6, 'created': '2021-02-23 01:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6d2c3df7b67eba502b03dfc3cd5b8c73537e729', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 7, 'created': '2021-02-25 03:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d020a1756e1730d2f0766b4a3468c4705189b0c7', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 8, 'created': '2021-03-02 06:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6cf80301654a5fcd97b011333972709b65ab6bb9', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 9, 'created': '2021-03-05 10:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/072290c38396b0f3b2edc68cee17426b71617021', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 10, 'created': '2021-03-09 02:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/202f3c59b5ab0eee86f5e244d9fdaaa6d78a7d25', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 11, 'created': '2021-03-09 08:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6172463749133eb7af17e3e8be02cf419077181f', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 12, 'created': '2021-03-09 09:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/25eedad4df5ccf0c13976a60572b583214850f51', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 13, 'created': '2021-03-10 03:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0381522b628c08484a21c753c4e39574d28d74c5', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 14, 'created': '2021-03-11 09:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be4811fed6aba83cf13c8f156e113e6d8db4adef', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 15, 'created': '2021-03-15 02:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/775c4377cfaef572e467bc2f6f6aa6ecdf36192b', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 16, 'created': '2021-03-15 05:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/49abf8c5d8e137fd87bab28d36ae600a1bd23938', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 17, 'created': '2021-03-15 08:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b6281a4f7db63f119e43680212c6e519d7be24db', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 18, 'created': '2021-03-15 09:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf1ec008211e010cfc5acd64318cd3ea93766af5', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 19, 'created': '2021-03-30 09:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9ac35c3b777975d6af22bfe1962eb798f44a6e0', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 20, 'created': '2021-03-31 02:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa173924ad57d4ed6ed0af55a847075005097034', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same to\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 21, 'created': '2021-05-14 02:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d48e6f1270e6f88b3f1a994d2bb438f0c276b36', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same as\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 22, 'created': '2021-05-20 03:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/357c79297c2cecc1428014f1bf77bd96004b8774', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same as\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 23, 'created': '2021-05-21 00:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5441e9d77b3a4692fd5fc71d3c57e92fc844432a', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same as\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 24, 'created': '2021-05-25 03:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7faa0ea285d2238750a6220ac0bf6470014f512c', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same as\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 25, 'created': '2021-05-26 11:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/847a57eefd44beb2d7bf14960ffd0d22dc7f3faf', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same as\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 26, 'created': '2021-05-26 12:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62ce5012ca8e2e9a93fbe0ed9c7d20223714252e', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same as\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 27, 'created': '2021-06-07 03:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/deea7731a80b0bf7c83c5c2bd08a890a3512f2e3', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same as\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}, {'number': 28, 'created': '2021-06-10 01:27:34.000000000', 'files': ['neutron/agent/l2/extensions/dhcp/ipv6.py', 'neutron/tests/unit/agent/l2/extensions/dhcp/test_ipv6.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a292bea168941acfce5c2b058c2f178e8ff5c1ae', 'message': 'Add the DHCPReponder for IPv6\n\nThis patch implements the responder for DHCPv6. Same as\nthe IPv4, this is to assemble the DHCPv6 packet with\nits related options based on the information of\nneutron Port/Subnet/Network.\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1\n'}]",80,773283,a292bea168941acfce5c2b058c2f178e8ff5c1ae,249,8,28,9531,,,0,"Add the DHCPReponder for IPv6

This patch implements the responder for DHCPv6. Same as
the IPv4, this is to assemble the DHCPv6 packet with
its related options based on the information of
neutron Port/Subnet/Network.

Partially-Implements: bp/distributed-dhcp-for-ml2-ovs
Related-Bug: #1900934

Change-Id: If3e96e667b31b039dd1f55b978321f96facfc3e1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/773283/12 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l2/extensions/dhcp/ipv6.py', 'neutron/tests/unit/agent/l2/extensions/dhcp/test_ipv6.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py']",3,c187caa43114f039832dfe97d42ffbff237c6f30,bp/distributed-dhcp-for-ml2-ovs," cfg.BoolOpt('enable_dhcp_ipv6', default=False, help=_(""DHCP for IPv6"")),",,535,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Iacd3216fc63360b36c6f3a6cc31ba2e3c6adf5c0,openstack/tripleo-heat-templates,stable/wallaby,Iacd3216fc63360b36c6f3a6cc31ba2e3c6adf5c0,[DNM] To test tagged builds,ABANDONED,2021-06-10 11:00:26.000000000,2021-06-15 05:31:35.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2021-06-10 11:00:26.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca81178366664efad18d643b171d85b2beb6b61a', 'message': '[DNM] To test tagged builds\n\nChange-Id: Iacd3216fc63360b36c6f3a6cc31ba2e3c6adf5c0\n'}]",0,795760,ca81178366664efad18d643b171d85b2beb6b61a,3,1,1,13861,,,0,"[DNM] To test tagged builds

Change-Id: Iacd3216fc63360b36c6f3a6cc31ba2e3c6adf5c0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/795760/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,ca81178366664efad18d643b171d85b2beb6b61a,, check: jobs: []," templates: - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-minimal-pipeline - check-requirements - release-notes-jobs-python3 - tripleo-standalone-scenarios-pipeline - openstack-python3-wallaby-jobs - tripleo-standalone-multinode-ipa-pipeline - tripleo-upgrades-master-pipeline check: jobs: - openstack-tox-pep8 - openstack-tox-tht - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-pep8 - openstack-tox-tht gate: queue: tripleo jobs: - openstack-tox-pep8 - openstack-tox-tht - job: name: openstack-tox-tht parent: openstack-tox description: Runs syntax tht tests. Uses tox with the ``tht`` environment. success-url: ""reports.html"" failure-url: ""reports.html"" voting: true vars: tox_envlist: tht bindep_profile: test tht test_setup_skip: true",1,34
openstack%2Ftripleo-ansible~stable%2Fwallaby~I7bb96ba12dd884494e144d10366094ba94642290,openstack/tripleo-ansible,stable/wallaby,I7bb96ba12dd884494e144d10366094ba94642290,[DNM] Test tagged builds,ABANDONED,2021-06-10 13:36:18.000000000,2021-06-15 05:31:25.000000000,,[],"[{'number': 1, 'created': '2021-06-10 13:36:18.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d6364d411a054e5ff86e6d047e2713d1e5331a6b', 'message': '[DNM] Test tagged builds\n\nChange-Id: I7bb96ba12dd884494e144d10366094ba94642290\n'}]",0,795779,d6364d411a054e5ff86e6d047e2713d1e5331a6b,2,0,1,13861,,,0,"[DNM] Test tagged builds

Change-Id: I7bb96ba12dd884494e144d10366094ba94642290
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/79/795779/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,d6364d411a054e5ff86e6d047e2713d1e5331a6b,, check: jobs: [], templates: - tripleo-ansible-molecule-jobs - release-notes-jobs-python3 - openstack-python3-wallaby-jobs - tripleo-multinode-container-minimal-pipeline - tripleo-standalone-scenarios-pipeline - tripleo-undercloud-jobs-pipeline check: jobs: - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters irrelevant-files: - ^tox.ini$ - openstack-tox-linters: &tripleo-linters nodeset: centos-8 - openstack-tox-docs: &tripleo-docs files: - ^doc/.* - ^molecule-requirements.txt - ^README.rst - ^requirements.txt - ^tripleo_ansible/ansible_plugins/.* - tripleo-ci-centos-8-containers-undercloud-minion: &undercloud_minion vars: consumer_job: true remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^tripleo_ansible/.* irrelevant-files: - .*.md$ - .*.rst$ - .*.txt$ - ^_skeleton_role_/.* - ^scripts/.* - ^tox.ini$ - ^tripleo_ansible/playbooks/docker-vfs-setup.yml$ - ^tripleo_ansible/.*molecule.* - ^tripleo_ansible/roles/.*/meta.* - ^tripleo_ansible/roles/test_deps/.* - ^zuul.d/.* gate: jobs: - tripleo-ci-centos-8-content-provider - openstack-tox-linters: *tripleo-linters - openstack-tox-docs: *tripleo-docs - tripleo-ci-centos-8-containers-undercloud-minion: *undercloud_minion post: jobs: - publish-openstack-python-branch-tarball promote: jobs: - promote-openstack-tox-docs: *tripleo-docs,1,56
openstack%2Ftacker~master~I8e4b341652e697fa3e088b901de0242810024058,openstack/tacker,master,I8e4b341652e697fa3e088b901de0242810024058,Removed Duplicy of NOVA_SERVER_RESOURCE,ABANDONED,2021-06-15 05:04:16.000000000,2021-06-15 05:29:05.000000000,,[],"[{'number': 1, 'created': '2021-06-15 05:04:16.000000000', 'files': ['tacker/vnfm/infra_drivers/openstack/openstack.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/8a89403b5ab061c2e45ef9458b07f49a90b508b2', 'message': 'Removed Duplicy of NOVA_SERVER_RESOURCE\n\nChange-Id: I8e4b341652e697fa3e088b901de0242810024058\n'}]",0,796364,8a89403b5ab061c2e45ef9458b07f49a90b508b2,2,0,1,33558,,,0,"Removed Duplicy of NOVA_SERVER_RESOURCE

Change-Id: I8e4b341652e697fa3e088b901de0242810024058
",git fetch https://review.opendev.org/openstack/tacker refs/changes/64/796364/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/vnfm/infra_drivers/openstack/openstack.py'],1,8a89403b5ab061c2e45ef9458b07f49a90b508b2,improvement_healing,,"NOVA_SERVER_RESOURCE = ""OS::Nova::Server""NOVA_SERVER_RESOURCE = ""OS::Nova::Server""",0,2
openstack%2Fos-brick~master~I548425199de3d7032e314c12d508b36049da2453,openstack/os-brick,master,I548425199de3d7032e314c12d508b36049da2453,Add NVMeOF monitoring and healing agent,ABANDONED,2020-12-27 05:30:18.000000000,2021-06-15 05:00:14.000000000,,"[{'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-27 05:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/cb0e2fdf815300b5daa0084b697cc253cd97d3dc', 'message': 'Add NVMeOF monitoring and healing agent\n\nImplements: blueprint nvmeof-client-raid-healing-agent\nChange-Id: I548425199de3d7032e314c12d508b36049da2453\n'}, {'number': 2, 'created': '2020-12-27 12:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5e40b6485808bb0ef1b9a4e700a24d19b467c129', 'message': 'Add NVMeOF monitoring and healing agent\n\nImplements: blueprint nvmeof-client-raid-healing-agent\nChange-Id: I548425199de3d7032e314c12d508b36049da2453\n'}, {'number': 3, 'created': '2020-12-27 13:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e133dd86a0f5cb8d2c6fc7141682392f22ef7ca7', 'message': 'Add NVMeOF monitoring and healing agent\n\nImplements: blueprint nvmeof-client-raid-healing-agent\nChange-Id: I548425199de3d7032e314c12d508b36049da2453\n'}, {'number': 4, 'created': '2020-12-27 13:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0cd32e5272be88a8063d1cd4d21ab1e4befb57cb', 'message': 'Add NVMeOF monitoring and healing agent\n\nImplements: blueprint nvmeof-client-raid-healing-agent\nChange-Id: I548425199de3d7032e314c12d508b36049da2453\n'}, {'number': 5, 'created': '2020-12-27 13:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/aecee0f924cd0587dffc7b3d561db9178236824e', 'message': 'Add NVMeOF monitoring and healing agent\n\nImplements: blueprint nvmeof-client-raid-healing-agent\nChange-Id: I548425199de3d7032e314c12d508b36049da2453\n'}, {'number': 6, 'created': '2021-01-12 15:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/857dba5990958712a6e9393d8bddc1cab4e258bb', 'message': 'Add NVMeOF monitoring and healing agent\n\nImplements: blueprint nvmeof-client-raid-healing-agent\nChange-Id: I548425199de3d7032e314c12d508b36049da2453\n'}, {'number': 7, 'created': '2021-02-10 02:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/98f9220d2344572047b478d1ce16964bd2d9c111', 'message': 'Add NVMeOF monitoring and healing agent\n\nImplements: blueprint nvmeof-client-raid-healing-agent\nChange-Id: I548425199de3d7032e314c12d508b36049da2453\n'}, {'number': 8, 'created': '2021-02-17 10:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/396c2ae734b17a9fb8e5aee20ceb28bc0e7b9bc0', 'message': 'Add NVMeOF monitoring and healing agent\n\nImplements: blueprint nvmeof-client-raid-healing-agent\nChange-Id: I548425199de3d7032e314c12d508b36049da2453\n'}, {'number': 9, 'created': '2021-02-17 10:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/de95c77ecc397dac9beb45fbb8a9bb10edb1a383', 'message': 'Add NVMeOF monitoring and healing agent\n\nImplements: blueprint nvmeof-client-raid-healing-agent\nChange-Id: I548425199de3d7032e314c12d508b36049da2453\n'}, {'number': 10, 'created': '2021-03-03 14:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/90dcffcf992462f869d9653bda8531b7aa8e1339', 'message': 'Add NVMeOF monitoring and healing agent\n\nImplements: blueprint nvmeof-client-raid-healing-agent\nChange-Id: I548425199de3d7032e314c12d508b36049da2453\n'}, {'number': 11, 'created': '2021-03-07 10:08:50.000000000', 'files': ['os_brick/initiator/connectors/nvmeof_agent.py', 'os_brick/initiator/connectors/rest_client.py', 'os_brick/initiator/connectors/entities.py', 'os_brick/tests/initiator/connectors/test_nvmeof_agent.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a13694f05d294cfd69b088b5a57a92b0c8ef1c69', 'message': 'Add NVMeOF monitoring and healing agent\n\nImplements: blueprint nvmeof-client-raid-healing-agent\nChange-Id: I548425199de3d7032e314c12d508b36049da2453\n'}]",783,768576,a13694f05d294cfd69b088b5a57a92b0c8ef1c69,70,2,11,16721,,,0,"Add NVMeOF monitoring and healing agent

Implements: blueprint nvmeof-client-raid-healing-agent
Change-Id: I548425199de3d7032e314c12d508b36049da2453
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/76/768576/6 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/nvmeof_agent.py'],1,cb0e2fdf815300b5daa0084b697cc253cd97d3dc,bp/nvmeof-client-raid-healing-agent,"import glob import time import os import logging import sched import traceback import threading from prov_rest_client import rest_client as provisioner_rest_client from prov_rest_client import entities as provisioner_entities from os_brick import exception from oslo_log import log from oslo_concurrency import processutils as putils from os_brick.initiator.connectors.nvmeof import NVMeOFConnector scheduler = sched.scheduler(time.time, time.sleep) LOG = log.getLogger(__name__) RAID_STATE_OK = 0 RAID_STATE_DEGRADED = 1 RAID_STATE_DEGRADED_SYNCING = 2 REPLICA_AVAILABLE = 'Available' REPLICA_TERMINATING = 'Terminating' REPLICA_MISSING = 'Missing' REPLICA_UNKNOWN = 'Unknown' REPLICA_SYNCING = 'Synchronizing' BACKEND_AVAILABLE = 'Available' class NVMeOFAgent: def __init__(self, host_uuid, host_nqn, executor): self.mds = {} self.host_uuid = host_uuid self.host_nqn = host_nqn self.executor = executor self.prov_rest = None def init(self): import imp f = open('/etc/kioxia/provisioner.conf') prov_data = imp.load_source('prov_data', '', f) f.close() prov_ip = prov_data.prov_ip prov_port = prov_data.prov_port token = prov_data.token cert_file = prov_data.cert_file self.prov_rest = provisioner_rest_client.KioxiaProvisioner( [prov_ip], cert_file, token, prov_port) scheduler.enter(1, 1, self.call_host_monitor, (30,)) t = threading.Thread(target=scheduler.run) t.start() def call_host_monitor(self, interval): self.monitor_host() scheduler.enter(interval, 1, self.call_host_monitor, (interval,)) @staticmethod def get_full_path_glob(path): """""" get names returns: list of md names """""" result = [] globes = glob.glob(path) for v in globes: result.append(v) return result @staticmethod def get_path_glob(path, index): """""" get names returns: list of md names """""" result = [] globes = glob.glob(path) for v in globes: print(v) result.append(v.split('/')[index]) return result @staticmethod def get_md_names(): """""" get md names returns: list of md names """""" return NVMeOFAgent.get_path_glob('/dev/md/*', 3) @staticmethod def get_nvme_fabrics_ctls(): """""" get nvme fabrics ctl device names returns: list of ctl devices """""" return NVMeOFAgent.get_path_glob( '/sys/class/nvme-fabrics/ctl/nvme*', 5) @staticmethod def get_nvme_state(md_name): """""" get nvme devices state params: md name returns: dictionary of device:state """""" dev_path = '/dev/' devices = [] states = [] md_link = None try: md_link = os.readlink( '/dev/md/{0}'.format(md_name)).replace('../', '') except OSError: LOG.error(""Invalid mdadm device: %s"", md_name) state_path = '/sys/block/{0}/slaves/*/device/state'.format(md_link) for fname in glob.glob(state_path): with open(fname) as f: devices.append(dev_path + fname.split('/')[5]) states.append(f.read().strip('\n')) return dict(zip(devices, states)) def get_nvme_devices_by_state(self, md_name): """""" get nvme devices by state params: md name, state returns: nvme devices by state (all known, faulty, healthy) """""" all_devices = [] faulty_devices = [] healthy_devices = [] md_link = None try: md_link = os.readlink( '/dev/md/{0}'.format(md_name)).replace('../', '') except OSError: LOG.error(""Invalid mdadm device: %s"", md_name) state_path = '/sys/block/{0}/md/dev-*/state'.format(md_link) for fname in glob.glob(state_path): device = fname.split('/')[5].replace('dev-', '/dev/') with open(fname) as f: result = f.read() all_devices.append(device) if 'faulty' in result: faulty_devices.append(device) if 'in_sync' in result: healthy_devices.append(device) return all_devices, faulty_devices, healthy_devices def add_device_to_md(self, md_name, nvme_device): """""" add nvme device to mdadm params: md name, new replica uuid returns: command error, exit code on failure """""" try: cmd = [ 'mdadm', '/dev/md/' + md_name, '--add', '--failfast', nvme_device] LOG.debug(""[!] cmd: %s"", str(cmd)) cmd_out = NVMeOFConnector.run_mdadm(self.executor, cmd, True) LOG.debug(""[!] cmd: %s cmd_out: %s"", str(cmd), cmd_out) except Exception: return False return True def remove_device_from_md(self, md_name, nvme_device, fail_first): """""" remove nvme device from mdadm params: md name, deleted replica uuid returns: command error, exit code on failure """""" try: if fail_first: cmd = [ 'mdadm', '--manage', '/dev/md/' + md_name, '--fail', nvme_device] LOG.debug(""[!] cmd: %s"", str(cmd)) cmd_out = NVMeOFConnector.run_mdadm(self.executor, cmd) LOG.debug(""[!] cmd: %s cmd_out: %s"", str(cmd), cmd_out) cmd2 = [ 'mdadm', '--manage', '/dev/md/' + md_name, '--remove', nvme_device] LOG.debug(""[!] cmd2: %s"", str(cmd2)) cmd_out = NVMeOFConnector.run_mdadm(self.executor, cmd2) LOG.debug(""[!] cmd: %s cmd_out: %s"", str(cmd2), cmd_out) except Exception as ex: LOG.error( ""[!] remove_device_from_md exception: %s"", ex.message) return False return True def fail_md(self, md_name, nvme_device): """""" fail md device params: md name, nvme_device returns: command error, exit code on failure """""" try: cmd = [ 'mdadm', '--manage', '/dev/md/' + md_name, '--fail', nvme_device] cmd_out = NVMeOFConnector.run_mdadm(self.executor, cmd) LOG.debug(""cmd: %s cmd_out: %s"", str(cmd), cmd_out) except Exception: return False return True def modify_device_count(self, md_name, device_count): """""" grow mdadm device params: md name returns: command error, exit code on failure """""" try: raid_devices = '--raid-devices=' + str(device_count) LOG.debug(""[!] raid_devices: %s"", raid_devices) cmd = ['mdadm', '--grow', '/dev/md/' + md_name, raid_devices] if device_count == 1: cmd.append('--force') LOG.debug(""[!] cmd: %s"", cmd) cmd_out = NVMeOFConnector.run_mdadm(self.executor, cmd) LOG.debug(""[!] cmd: %s , cmd_out: %s"", str(cmd), cmd_out) except Exception: return False return True def get_volume_by_uuid(self, vol_uuid): """""" get volumes by vol_uuid params: md name returns: volume details """""" ks_volume = None result = self.prov_rest.get_volumes_by_uuid(vol_uuid) if result.status == ""Success"": if len(result.prov_entities) == 0: return None else: ks_volume = result.prov_entities[0] return ks_volume def get_volume_by_alias(self, md_name): """""" get volumes by alias params: md name returns: volume details """""" ks_volume = None result = self.prov_rest.get_volumes_by_alias(md_name) if result.status == ""Success"": if len(result.prov_entities) == 0: return None else: ks_volume = result.prov_entities[0] return ks_volume @staticmethod def get_num_degraded(md_name): """""" get nvme degraded params: md name returns: dictionary of device:degraded """""" md_link = None try: md_link = os.readlink( '/dev/md/{0}'.format(md_name)).replace('../', '') except OSError: LOG.error(""Invalid mdadm device: %s"", md_name) raid_degraded_path = '/sys/block/{0}/md/degraded'.format(md_link) with open(raid_degraded_path) as f: degraded = f.read().strip('\n') return int(degraded) @staticmethod def get_replicas_uuids(volume): """""" get kumoscale volume uuids params: md name returns: list of kumoscale volume uuids """""" replicas_uuids = [] for i in range(len(volume.location)): replicas_uuids.append(volume.location[i].uuid) return replicas_uuids def get_local_vol_uuids(self, md_name): """""" get local volume uuids return: list of local volume uuids """""" local_vol_uuids = [] all_devices, _, _ = self.get_nvme_devices_by_state(md_name) for device in all_devices: device = device.replace('/dev/', '') uuid_path = '/sys/block/{0}/uuid'.format(device) for fname in glob.glob(uuid_path): with open(fname) as f: uuid = f.read().strip() local_vol_uuids.append(uuid) return local_vol_uuids @staticmethod def get_new_replica(volume, local_vol_uuids): """""" get new replica added params: volume uuids, local volume uuids return: new replica uuid, kumoscale ip """""" new_ks_url = None new_replica_uuid = None for location in volume.location: if location.uuid not in local_vol_uuids \ and location.replicaState != 'Terminating': if new_ks_url is None or location.replicaState == 'Available': new_replica_uuid = location.uuid new_ks_url = location.backend.mgmtIPs[0] return new_replica_uuid, new_ks_url def get_terminating_leg(self, volume): num_terminating = 0 terminating = None for location in volume.location: if location.replicaState == REPLICA_TERMINATING: terminating = location num_terminating = num_terminating + 1 return num_terminating, terminating @staticmethod def get_deleted_replica(volume): """""" get replica in Terminating state params: md name return: deleted replica uuid, kumoscale ip """""" deleted_replica_uuid = None deleted_ks_url = None for location in volume.location: if location.replicaState == 'Terminating': deleted_replica_uuid = location.uuid deleted_ks_url = location.backend.mgmtIPs[0] break return deleted_replica_uuid, deleted_ks_url @staticmethod def get_nvme_device_by_uuid(replica_uuid): """""" get nvme device by volume uuid params: replica uuid returns: nvme device (/dev/nvmeXnX) """""" dev_path = '/dev/' uuid_path = '/sys/block/*/uuid' nvme_device = None for fname in glob.glob(uuid_path): with open(fname) as f: if replica_uuid in f.read(): LOG.debug('[!] fname = %s', fname) LOG.debug('[!] fname.split = %s', fname.split('/')[3]) nvme_device = dev_path + fname.split('/')[3] return nvme_device @staticmethod def get_uuid_by_nvme_device(nvme_device): """""" get volume uuid by nvme device params: nvme device returns: volume uuid """""" uuid_path = '/sys/block/{0}/uuid'.format(nvme_device) # LOG.debug(""[!] uuid_path: %s"", uuid_path) try: with open(uuid_path) as f: vol_uuid = f.read().strip('\n') except IOError as ex: LOG.error(""Exception get_uuid_by_nvme_device: %s"", ex.message) return None return vol_uuid @staticmethod def get_devices_uuids(devices): """""" get volume uuids for all nvme devices returns: list of volume uuids """""" uuids = [] for device in devices: device = device.replace('/dev/', '') uuid = NVMeOFAgent.get_uuid_by_nvme_device(device) if uuid is not None: uuids.append(uuid) return uuids def set_replica_state(self, volume, replica_uuid, replica_state): """""" set replica state params: volume, nvme_device, replica_state return: status, description """""" vol_uuid = volume.uuid result = self.prov_rest.set_replica_state( vol_uuid, replica_uuid, replica_state) if result.status != ""Success"": LOG.error( ""set_replica_state for %s failed with %s"", replica_uuid, result.status) return False return True @staticmethod def get_replica_state_time(volume, replica_uuid): """""" get replica current state time params: volume, replica_uuid return: value in minutes """""" replica_state_time = None for location in volume.location: if location.uuid == replica_uuid: replica_state_time = location.currentStateTime break return replica_state_time / int(1000 * 60) % 60 @staticmethod def get_replica_state(volume, replica_uuid): """""" get replica state params: volume, replica_uuid return: replica state """""" replica_state = None for location in volume.location: if location.uuid == replica_uuid: replica_state = location.replicaState break return replica_state @staticmethod def get_max_replica_downtime(volume): """""" get max replica downtime params: volume return: value in minutes """""" max_replica_downtime = volume.maxReplicaDownTime return max_replica_downtime @staticmethod def get_num_replicas(volume): """""" get number of replicas params: volume return: replicas number """""" num_replicas = volume.numReplicas return num_replicas @staticmethod def get_namespace_id(ks_rest, deleted_replica_uuid): """""" get volume namespace id params: kumoscale volume uuid returns: volume namespace id """""" result = ks_rest.get_volumes( '?volumeUUID={0}'.format(deleted_replica_uuid)) vol_ns_id = result.ks_entities[0].namespaceID return vol_ns_id def add_replica(self, volume): """""" add replica params: volume returns: true or false """""" vol_uuid = volume.uuid replica = provisioner_entities.Replica(False, [], [], []) result = self.prov_rest.add_replica(replica, vol_uuid) if result.status != ""Success"": LOG.error(""add_replica %s failed with %s"", vol_uuid, result.status) return False return True def delete_replica(self, volume, replica_uuid): """""" delete replica params: md_name returns: true or false """""" vol_uuid = volume.uuid result = self.prov_rest.delete_replica(vol_uuid, replica_uuid) if result.status != ""Success"": LOG.error(""delete_replica failed: "" + result.status) return False return True def delete_replica_confirm(self, volume, deleted_replica_uuid): """""" delete replica confirm params: md name deleted replica uuid returns: error message on failure """""" vol_uuid = volume.uuid result = self.prov_rest.delete_replica_confirm( vol_uuid, deleted_replica_uuid) if result.status != ""Success"": LOG.error( ""delete_replica_confirm for %s failed with %s"", deleted_replica_uuid, result.status) def host_probe(self, host_nqn, host_uuid, host_name): """""" host probe params: md_name returns: error message on failure """""" try: result = self.prov_rest.host_probe(host_nqn, host_uuid, host_name, 'Agent', '1.3', 30) LOG.debug(""[!] host_probe result %s"", result.status) if result.status != ""Success"": LOG.error( ""host_probe for %s failed with %s"", host_uuid, result.status) except Exception as ex: LOG.error( ""[!] host_probe exception: %s"", ex.message) traceback.print_exc() LOG.debug(""[!] Exception %s"", traceback.format_exc()) @staticmethod def get_host_nqn(): """""" get host_nqn returns: host nqn """""" try: with open('/etc/nvme/hostnqn', 'r') as f: host_nqn = f.read().strip() except IOError: LOG.exception(""Exception get_host_nqn"") msg = ""host nqn not found"" raise exception.Exception(data=msg) return host_nqn @staticmethod def is_connected(target_nqn): """""" get local target nqn params: target nqn returns: connected true or false """""" connected = False nqn_path = '/sys/class/nvme-fabrics/ctl/nvme*/subsysnqn' for fname in glob.glob(nqn_path): with open(fname) as f: if target_nqn in f.read(): connected = True return connected @staticmethod def get_nvme_control_device(target_nqn): """""" get local target nqn params: target nqn returns: nvme control path i.e: /dev/nvmeX """""" nqn_path = '/sys/devices/virtual/nvme-fabrics/*/nvme*/subsysnqn' for fname in glob.glob(nqn_path): with open(fname) as f: if target_nqn in f.read(): nvme_ctl = ""/dev/"" + fname.split('/')[6] return nvme_ctl return None def forward_logs(self, level, hostname, message, parameters_list): """""" forward logs to syslog """""" forward_entity = provisioner_entities.ForwardEntity( 'EVENT', level, hostname, 'nvmeof_agent', message, parameters_list) result = self.prov_rest.forward_log(forward_entity) LOG.debug(""[!] forward_logs result: %s "", str(result)) return result def get_portals(self, persistent_id): """""" get portal name, portal port, portal protocol params: none returns: portal name, portal port, portal protocol """""" backends = self.prov_rest.get_backends() portals = [] for backend in backends.prov_entities: if backend.persistentID == persistent_id: LOG.debug(""[!] backend: %s"", str(backend)) if backend.portals[0] is None: msg = ""no portals found on KumoScale"" raise exception.Exception(data=msg) portals = backend.portals return portals def get_targets(self, host_uuid, vol_uuid): """""" get targets by host_uuid params: host_uuid returns: targets """""" targets = [] try: result = self.prov_rest.get_targets(host_uuid, vol_uuid) except Exception: LOG.warning( ""Exception fetching targets for existing host %s"", host_uuid) msg = ""Targets for Volume %s could not be fetched."" raise exception.Exception(data=msg) LOG.debug(""[!] get_targets: %s"", str(result)) if result.status == ""Success"": LOG.debug(""[!] get_targets status Success"") if result.prov_entities is None or len(result.prov_entities) == 0: LOG.warning( ""[!] Targets for vol_uuid %s could not be found"", vol_uuid) elif result.prov_entities is not None: LOG.debug(""[!] get_targets found targets: %s"", str(len(result.prov_entities))) targets = result.prov_entities else: LOG.warning(""[!] get_targets prov_entities is None!"") LOG.debug(""[!] get_targets end"") return targets def get_target(self, host_uuid, persistent_id): """""" get targets by host_uuid params: host_uuid returns: targets """""" targets = [] try: result = self.prov_rest.get_targets(host_uuid, None) except Exception: LOG.exception( ""Exception fetching targets for existing host %(name)"", host_uuid) msg = ""Targets for Volume %s could not be fetched."" raise exception.Exception(data=msg % host_uuid) if result.status == ""Success"": if len(result.prov_entities) == 0: msg = ""Targets for Host %s could not be found."" raise exception.Exception(data=msg % host_uuid) else: targets = result.prov_entities for i in range(len(targets)): p_id = str(targets[i].backend.persistentID) if p_id == persistent_id: return targets[i] return None def get_replica_persistent_id(self, volume, vol_replica_uuid): volume_replicas = volume.location for i in range(len(volume_replicas)): vol_replica = volume_replicas[i] replica_uuid = str(vol_replica.uuid) if replica_uuid == vol_replica_uuid: replica_backend = vol_replica.backend replica_backend_pi = str(replica_backend.persistentID) return replica_backend_pi return None def find_target(self, targets, persistent_id): if targets is not None and len(targets) > 0: for target in targets: LOG.debug(""[!] target: %s"", str(target)) if target.backend.persistentID == persistent_id: return target return None def append_portals_for_connect(self, backend_portals): str_portals = [] for p in range(len(backend_portals)): portal = backend_portals[p] portal_ip = str(portal.ip) portal_port = str(portal.port) portal_transport = str(portal.transport) LOG.debug('[!] portal_ip %s', portal_ip) LOG.debug('[!] portal %s', str(portal)) str_portals.append((portal_ip, portal_port, portal_transport)) return str_portals def find_block_device_by_uuid(self, uuid, block_dev_path): block_devs = glob.glob(block_dev_path) LOG.debug('[!] block_devs %s', str(block_devs)) for block_dev in block_devs: LOG.debug('[!] block_dev %s', block_dev) uuid_file = block_dev + '/uuid' LOG.debug('[!] uuid_file %s', uuid_file) lines, _err = self.executor._execute( 'cat', uuid_file, run_as_root=True, root_helper=self.executor._root_helper) line = None for line in lines.split('\n'): break candidate_uuid = line LOG.debug(""[!] candidate_uuid = %s"", candidate_uuid) if candidate_uuid == uuid: block_index = block_dev.rfind('/') block = block_dev[block_index+1:] block_device_path = '/dev/' + block return block_device_path return None def get_namespace_path(self, target_nqn, uuid, num_of_attempts): ctrl_device_path = NVMeOFAgent.get_nvme_control_device(target_nqn) LOG.debug(""[!] ctrl_device_path for rescan: %s"", ctrl_device_path) if ctrl_device_path is None: return None nvme_index = ctrl_device_path.rfind('/') nvme_ctrl = ctrl_device_path[nvme_index+1:] block_dev_path = '/sys/class/nvme-fabrics/ctl/' + nvme_ctrl + '/nvme*' LOG.debug(""[!] block_dev_path: %s"", block_dev_path) for i in range(num_of_attempts): block_device_path = self.find_block_device_by_uuid(uuid, block_dev_path) LOG.debug(""[!] block_device_path: %s"", block_device_path) if block_device_path is not None: return block_device_path NVMeOFConnector.rescan(self.executor, target_nqn, uuid) LOG.debug(""[!] Wait one second to discover: %s"", uuid) time.sleep(1) return None def connect_to_volume_at_location(self, volume, volume_location, target): target_nqn = target.targetName LOG.debug(""[!] target_nqn: %s"", target_nqn) source = None if target_nqn is not None: connected = NVMeOFAgent.is_connected(target_nqn) LOG.debug(""[!] connected: %s"", str(connected)) if connected: ctr_devices = NVMeOFConnector.get_nvme_device_path(self.executor, target_nqn, volume.uuid, True) LOG.debug(""[!] ctr_devices = %s"", ctr_devices) if ctr_devices is None: return source NVMeOFConnector.rescan(self.executor, target_nqn, volume.uuid) source = self.get_namespace_path(target_nqn, volume_location.uuid, 2) LOG.debug(""[!] Received block device: %s"", source) return source persistent_id = self.get_replica_persistent_id(volume, volume_location.uuid) LOG.debug(""[!] persistent_id: %s"", persistent_id) backend_portals = self.get_portals(persistent_id) if backend_portals is not None: LOG.debug(""[!] backend_portals: %s"", str(len(backend_portals))) str_portals = self.append_portals_for_connect(backend_portals) any_connect = NVMeOFConnector.connect_to_portals( self.executor, target_nqn, str_portals) LOG.debug(""[!] any_connect: %s"", str(any_connect)) if any_connect: self.forward_logs('INFO', self.host_uuid, 'NVMeoF connection to backend was established', { 'initiatorNQN': self.host_nqn, 'targetNQN': target_nqn}) source = self.get_namespace_path(target_nqn, volume_location.uuid, 2) LOG.debug(""[!] Received block device: %s"", source) else: LOG.debug(""Could not connect to target portals: %s"", target_nqn) if source is None: LOG.error(""Could not find namespace path: %s"", target_nqn) return source self.set_replica_state(volume, volume_location.uuid, 'Available') return source def handle_leg_added( self, volume, md, md_details, failed_legs, host_id): LOG.debug(""[!] handle_leg_added start uuid: %s"", volume.uuid) md_name = md devices = md_details['devices'] LOG.debug(""[!] volume: %s"", str(volume)) all_devices_uuids = self.get_devices_uuids(devices) LOG.debug(""[!] all_devices_uuids: %s"", str(all_devices_uuids)) failed_uuids = NVMeOFAgent.get_devices_uuids(failed_legs) LOG.debug(""[!] failed_uuids: %s"", str(failed_uuids)) added = False volume_replicas = volume.location LOG.debug(""[!] host_id: %s"", host_id) targets = self.get_targets(host_id, volume.uuid) if targets is None or len(targets) < 1: LOG.warning(""[!] Could not find all targets for volume: %s"", volume.uuid) return False for volume_replica in volume_replicas: backends = [] LOG.debug(""[!] volume_replica: %s"", str(volume_replica)) result = self.prov_rest.get_backend_by_id( volume_replica.backend.persistentID) if result.status == ""Success"": if len(result.prov_entities) == 0: LOG.warning( ""[!] Could not find backend with persistentID: %s"", volume_replica.backend.persistentID) continue else: backends = result.prov_entities if len(backends) != 1: LOG.warning( ""[!] Invalid num of backends for persistentID: %s"", volume_replica.backend.persistentID) continue LOG.debug(""[!] volume_replica uuid: %s"", volume_replica.uuid) exists = volume_replica.uuid in all_devices_uuids if not exists: LOG.debug(""[!] Location is not in md %s"", md) failed = volume_replica.uuid in failed_uuids LOG.debug(""[!] failed: %s"", str(failed)) replica_state = str(volume_replica.replicaState) backend_state = str(backends[0].state) LOG.debug(""[!] replica_state: %s"", replica_state) LOG.debug(""[!] backend_state: %s"", backend_state) if (not exists or failed) \ and replica_state != REPLICA_TERMINATING \ and backend_state == BACKEND_AVAILABLE: added_replica_id = volume_replica.uuid LOG.debug( ""[!] Trying to add location to md: "" ""%s added_replica_id: %s"", md, added_replica_id) try: result = self.prov_rest.publish(host_id, volume.uuid) except Exception as ex: LOG.error(""[!] Exception publish: %s"", ex.message) continue LOG.debug(""[!] publish result: %s"", str(result)) if result.status != ""Success"" \ and result.status != 'AlreadyPublished': LOG.error( ""[!] Volume %s could not be published, "" ""host_uuid=%s status=%s."", volume.alias, host_id, result.status) continue persistent_id = self.get_replica_persistent_id( volume, added_replica_id) LOG.debug(""[!] persistent_id: %s"", persistent_id) target = self.find_target(targets, persistent_id) if target is None: targets = self.get_targets(host_id, volume.uuid) if targets is None or len(targets) < 1: LOG.warning(""Could not find all targets for volume: %s"", volume.uuid) return False target = self.find_target(targets, persistent_id) if target is None: LOG.error(""Target could not be found, persistent_id: %s"", persistent_id) return False path = None for i in range(10): path = self.connect_to_volume_at_location(volume, volume_replica, target) if path is None: LOG.error(""[!] Sleeping one second for leg detection"") time.sleep(1) continue else: break if path is None: continue removed_ok = True LOG.debug(""[!] failed_legs: %s"", str(failed_legs)) LOG.debug(""[!] path: %s"", path) if len(failed_legs) > 0 and failed: removed_ok = self.remove_device_from_md(md_name, path, False) added = False LOG.debug(""[!] removed_ok: %s"", str(removed_ok)) if removed_ok: added = self.add_device_to_md(md_name, path) LOG.debug(""[!] added: %s"", str(added)) if not added: self.remove_device_from_md(md_name, path, True) LOG.debug(""[!] added: %s"", str(added)) added = self.add_device_to_md(md_name, path) LOG.debug(""[!] added: %s"", str(added)) modified = False if added and len(devices) < len(volume_replicas): modified = self.modify_device_count(md_name, len(devices) + 1) LOG.debug(""[!] modified: %s"", str(modified)) if modified: md_details = {'state': RAID_STATE_DEGRADED_SYNCING} self.check_md_events( host_id, md_details, failed_legs, md_name, volume.alias, True) self.set_replica_state( volume, added_replica_id, 'Synchronizing') LOG.debug(""[!] handle_leg_added end with added = %s."", str(added)) return added def handle_terminating_leg( self, md_name, md_details, deleted_replica_uuid, volume): devices = md_details['devices'] removed = False found = False LOG.debug(""[!] devices: %s"", str(devices)) for device in devices: device_name = device.replace('/dev/', '') uuid = NVMeOFAgent.get_uuid_by_nvme_device(device_name) LOG.debug(""[!] uuid: %s"", uuid) if not uuid: LOG.error(""get_uuid_by_nvme_device for %s not found"", device) continue if uuid == deleted_replica_uuid: # found terminating leg - remove and confirm found = True removed = self.remove_device_from_md(md_name, device, True) if not removed: LOG.error(""remove_device_from_md for %s failed"", device) break LOG.debug(""[!] removed: %s found: %s"", str(removed), str(found)) if removed or not found: if len(devices) > 1: modified = self.modify_device_count(md_name, len(devices) - 1) if not modified: LOG.error( ""Could not reduce number of legs: %s %s "", md_name, len(devices) - 1) self.delete_replica_confirm(volume, deleted_replica_uuid) return removed def sync_replica_state( self, volume, failed_legs, all_legs, active_legs, nvme_live_legs): """""" sync replica state on provisioner """""" devices = all_legs all_devices_uuids = self.get_devices_uuids(devices) failed_devices_uuids = self.get_devices_uuids(failed_legs) active_devices_uuids = self.get_devices_uuids(active_legs) any_nvme_leg = nvme_live_legs is not None and len(nvme_live_legs) > 0 LOG.debug(""[!] all_devices_uuids: %s"", str(all_devices_uuids)) LOG.debug(""[!] failed_devices_uuids: %s"", str(failed_devices_uuids)) LOG.debug(""[!] active_devices_uuids: %s"", str(active_devices_uuids)) LOG.debug(""[!] any_nvme_leg: %s"", str(any_nvme_leg)) for location in volume.location: LOG.debug(""[!] location: %s replicaState: %s"", str(location), str(location.replicaState)) if location.replicaState != 'Available' \ and location.replicaState != 'Terminating': available = location.uuid in active_devices_uuids if available and any_nvme_leg: vol_uuid = volume.uuid LOG.debug(""[!] vol_uuid1: %s"", vol_uuid) result = self.prov_rest.set_replica_state( vol_uuid, location.uuid, 'Available') if result.status != ""Success"": msg = 'Set replica state available for volume ' \ + volume.alias + \ ' Replica: ' + vol_uuid \ + ' finished with status: ' + result.description LOG.warning(""[!] %s"", msg) if location.replicaState != 'Synchronizing' \ and location.replicaState != 'Terminating': available = location.uuid in active_devices_uuids syncing = not available \ and location.uuid not in failed_devices_uuids and \ location.uuid in all_devices_uuids LOG.debug( ""[!] available: %s syncing: %s"", str(available), str(syncing)) if syncing and any_nvme_leg: vol_uuid = volume.uuid LOG.debug(""[!] vol_uuid2: %s"", vol_uuid) result = self.prov_rest.set_replica_state( vol_uuid, location.uuid, 'Synchronizing') if result.status != ""Success"": msg = 'Set replica state synchronizing for volume ' \ + volume.alias + ' Replica: ' + vol_uuid + \ ' finished with status: ' + result.description \ + ' for active_legs: ' + str(active_legs) LOG.debug(""[!] %s"", msg) if location.replicaState != 'Missing' \ and location.replicaState != 'Terminating': if not any_nvme_leg or location.uuid not in all_devices_uuids \ or location.uuid in failed_devices_uuids: vol_uuid = volume.uuid LOG.debug(""[!] vol_uuid3: %s"", vol_uuid) result = self.prov_rest.set_replica_state( vol_uuid, location.uuid, 'Missing') if result.status != ""Success"": msg = 'Set replica state missing for volume ' \ + volume.alias + \ ' Replica: ' + vol_uuid \ + ' finished with status: ' \ + result.description LOG.debug(""[!] %s"", msg) def monitor_host(self): try: LOG.debug(""[!] START host_nqn = %s"", self.host_nqn) self.disconnect_unused_targets(self.host_nqn) LOG.debug(""[!] host_nqn %s"", self.host_nqn) LOG.debug(""[!] host_uuid %s"", self.host_uuid) self.host_probe(self.host_nqn, self.host_uuid, 'stub-hostname') md_names = NVMeOFAgent.get_md_names() LOG.debug(""[!] md_names %s"", str(md_names)) handled_volumes = [] for md_name in md_names: LOG.debug(""[!] ----- md_name: %s"", md_name) active_legs, failed_legs, all_legs, \ nvme_live_legs, err = self.handle_leg_failure(md_name) if err: continue device_index = md_name.rfind('/') volume_alias_from_md = md_name[device_index + 1:] LOG.debug(""[!] nvme_live_legs %s"", str(nvme_live_legs)) if len(nvme_live_legs) < 1: volume_alias = self.get_volume_alias("""", volume_alias_from_md) volume = self.get_volume_if_connected_to_me(volume_alias) if not volume: continue md_details = { 'state': RAID_STATE_DEGRADED, 'working_devices': 0} self.check_md_events( self.host_nqn, md_details, failed_legs, md_name, volume_alias, False) self.sync_replica_state( volume, failed_legs, all_legs, active_legs, nvme_live_legs) continue md_details = self.get_raid_details(nvme_live_legs[0], True) if md_details is None: md_details = {'raid_devices': len(all_legs)} md_details['devices'] = all_legs md_details['total_devices'] = len(all_legs) md_details['failed_devices'] = len(failed_legs) md_details['working_devices'] = len(active_legs) if 'raid_devices' not in md_details: md_details['raid_devices'] = len(all_legs) md_details['state'] = self.calc_raid_state( active_legs, failed_legs, all_legs, md_name) LOG.debug(""[!] md_details %s"", str(md_details)) volume_alias = self.get_volume_alias( md_details['name'], volume_alias_from_md) LOG.debug(""[!] volume_alias %s"", str(volume_alias)) LOG.debug(""[!] handled_volumes %s"", str(handled_volumes)) if volume_alias in handled_volumes: old_details = self.mds[md_name] LOG.debug(""[!] old_details %s"", str(old_details)) if old_details is not None: self.mds['/dev/md/' + volume_alias] = old_details del self.mds[md_name] if md_details['name'] != '': files_path = '/dev/md/' + md_details['name'] + '*' NVMeOFAgent.delete_files(files_path) continue else: handled_volumes.append(volume_alias) LOG.debug(""[!] handled_volumes2 %s"", str(handled_volumes)) volume = self.get_volume_if_connected_to_me(volume_alias) if not str(volume): continue LOG.debug(""[!] volume %s"", str(volume)) LOG.debug(""[!] call check_md_events..."") self.check_md_events( self.host_nqn, md_details, failed_legs, md_name, volume_alias, False) LOG.debug(""[!] call sync_replica_state..."") self.sync_replica_state( volume, failed_legs, all_legs, active_legs, nvme_live_legs) LOG.debug(""[!] call check_volume..."") vol_changed = self.check_volume( volume, md_name, md_details, failed_legs, self.host_uuid) LOG.debug(""[!] vol_changed %s"", str(vol_changed)) if not vol_changed: self.enhanced_self_healing( volume, md_name, md_details, active_legs, failed_legs, self.host_uuid) LOG.debug(""[!] END [!]"") except Exception as ex: LOG.error( ""[!] monitor_host exception: %s"", ex.message) traceback.print_exc() LOG.debug(""[!] Exception %s"", traceback.format_exc()) def enhanced_self_healing( self, volume, md, md_details, active_legs, failed_legs, host_id): added = False deleted = False LOG.debug( ""[!] enhanced_self_healing maxReplicaDownTime: %s"", str( volume.maxReplicaDownTime)) if volume.numReplicas == 4 or volume.maxReplicaDownTime == 0: return failed_uuids = NVMeOFAgent.get_devices_uuids(failed_legs) active_uuids = NVMeOFAgent.get_devices_uuids(active_legs) LOG.debug(""[!] failed_uuids: %s"", str(failed_uuids)) LOG.debug(""[!] active_uuids: %s"", str(active_uuids)) for location in volume.location: if location.uuid in failed_uuids or location.uuid \ not in active_uuids: for i_location in volume.location: if i_location.replicaState == REPLICA_MISSING: replica_state_time = i_location.currentStateTime / (1000 * 60) % 60 LOG.debug( ""[!] replica_state_time: %s"", str(replica_state_time)) if 0 < volume.maxReplicaDownTime <= replica_state_time: LOG.debug(""[!] Call add_replica..."") success = self.add_replica(volume) LOG.debug(""[!] success: %s"", str(success)) if success: LOG.debug( ""[!] Add replica for volume %s replica %s "" ""finished successfully."", volume.alias, volume.uuid) volume = self.get_volume_by_uuid(volume.uuid) if volume is None: LOG.error( '[!!] Could not find volume after ' 'adding replica') break try: LOG.debug(""[!] Call handle_leg_added..."") added = self.handle_leg_added( volume, md, md_details, failed_legs, host_id) except Exception as ex: LOG.error( ""[!] handle_leg_added exception: %s"", ex.message) LOG.debug(""[!] added: %s"", str(added)) if added: deleted = self.delete_replica( volume, i_location.uuid) LOG.debug(""[!] deleted : %s"", str(deleted)) if deleted: LOG.debug( ""[!] Delete replica for "" ""volume %s replica %s "" ""finished successfully."", volume.alias, volume.uuid) else: break LOG.debug( ""[!] enhanced_self_healing ended with added: %s and deleted: %s"", str(added), str(deleted)) def check_volume( self, volume, md, md_details, failed_legs, host_id): num_terminating, terminating = self.get_terminating_leg(volume) if num_terminating == 1: LOG.debug(""[!] handle_terminating_leg ..."") vol_changed = self.handle_terminating_leg( md, md_details, terminating.uuid, volume) return vol_changed prov_num_legs = len(volume.location) added = False LOG.debug(""[!] md_details %s"", str(md_details)) if md_details['raid_devices'] < prov_num_legs \ or md_details['total_devices'] < prov_num_legs \ or md_details['failed_devices'] > 0: LOG.debug(""[!] handle_leg_added ..."") try: added = self.handle_leg_added( volume, md, md_details, failed_legs, host_id) except Exception as ex: LOG.warning(""[!] handle_leg_added Exception: %s"", ex.message) traceback.print_exc() LOG.debug(""[!] check_volume end ..."") return added @staticmethod def delete_files(glob_path): for fname in glob.glob(glob_path): os.remove(fname) def get_raid_details(self, raid_name, from_device): raid_details = {} cmd = ['mdadm'] if from_device: cmd.append('--examine') else: cmd.append('--detail') cmd.append(raid_name) LOG.debug(""[!] cmd = "" + str(cmd)) try: lines, err = self.executor._execute( *cmd, run_as_root=True, root_helper=self.executor._root_helper) for line in lines.split('\n'): LOG.debug(""[!] line: %s"", line) pair = line.split(':') if len(pair) > 3: continue LOG.debug(""[!] pair[0]: %s pair[1]: %s"", pair[0], pair[1]) if 'Name' in pair[0]: raid_details_name = pair[len(pair) - 1] if ' ' in raid_details_name: pair2 = raid_details_name.split(' ') raid_details['name'] = pair2[0] else: raid_details['name'] = raid_details_name break elif 'UUID' in pair[0]: raid_details['uuid'] = pair[1] elif 'Version' in pair[0]: raid_details['version'] = pair[1] elif 'Creation Time' in pair[0]: raid_details['creation_time'] = pair[1] elif 'Raid Level' in pair[0]: raid_details['raid_level'] = pair[1] elif 'Array Size' in pair[0]: sub_line = pair[1].split('') raid_details['array_size'] = int(sub_line[0]) * 1024 elif 'Raid Devices' in pair[0]: raid_details['raid_devices'] = int(pair[1]) elif 'Total Devices' in pair[0]: raid_details['total_devices'] = int(pair[1]) elif 'Active Devices' in pair[0]: raid_details['raid_devices'] = int(pair[1]) elif 'Working Devices' in pair[0]: raid_details['working_devices'] = int(pair[1]) elif 'Failed Devices' in pair[0]: raid_details['failed_devices'] = int(pair[1]) elif 'Spare Devices' in pair[0]: raid_details['spare_devices'] = int(pair[1]) except putils.ProcessExecutionError as ex: LOG.warning(""[!] Could not run mdadm: %s"", str(ex)) return None LOG.debug(""[!] raid_details = "" + str(raid_details)) return raid_details def calc_raid_state(self, active_legs, failed_legs, all_legs, md): degraded = self.get_num_degraded(md) LOG.debug(""[!] degraded %s"", str(degraded)) if degraded > 0: raid_state = RAID_STATE_DEGRADED else: return RAID_STATE_OK for leg in all_legs: if leg not in failed_legs and leg not in active_legs: return RAID_STATE_DEGRADED_SYNCING return raid_state def check_md_events( self, host, md_details, failed_legs, md, volume_alias, initiated_sync): try: old_details = None LOG.debug(""[!] md: %s "", md) LOG.debug(""[!] mds: %s "", str(self.mds)) if not self.mds: old_details = None elif md in self.mds: old_details = self.mds[md] LOG.debug(""[!] old_details: %s "", str(old_details)) LOG.debug(""[!] md_details: %s "", str(md_details)) if (not old_details and md_details['state'] != RAID_STATE_OK) \ or (old_details is not None and ( old_details['state'] != md_details['state'] or initiated_sync is True)): if old_details is not None and 'working_devices' in old_details \ and 'working_devices' in md_details \ and old_details['state'] == RAID_STATE_DEGRADED_SYNCING \ and md_details['working_devices'] > old_details['working_devices']: num_healed = md_details['working_devices'] - \ old_details['working_devices'] LOG.debug(""[!] num_healed: %s "", str(num_healed)) for i in range(num_healed): self.send_md_events( host, md_details, failed_legs, volume_alias, True) LOG.debug( ""[!] check_md_events md_details: %s "", str(md_details)) # we don't want to send event when moving from # RAID_STATE_DEGRADED_SYNCING -> RAID_STATE_DEGRADED if old_details is not None \ and old_details['state'] != RAID_STATE_DEGRADED_SYNCING \ or md_details['state'] != RAID_STATE_DEGRADED: self.send_md_events( host, md_details, failed_legs, volume_alias, False) LOG.debug( ""[!] check_md_events end with md_details: %s "", str(md_details)) self.mds[md] = md_details except Exception: LOG.exception(""Exception check_md_events %s"", md) def send_md_events( self, host, md_details, failed_legs, volume_alias, sync_completed): LOG.debug(""[!] send_md_events for state: %s "", str(md_details['state'])) if sync_completed: report_level = 'WARN' report_message = 'Volume synchronization ended.' elif md_details['state'] == RAID_STATE_OK: report_level = 'INFO' report_message = 'Volume is healed.' elif md_details['state'] == RAID_STATE_DEGRADED: report_level = 'FATAL' report_message = 'Volume is degraded.' elif md_details['state'] == RAID_STATE_DEGRADED_SYNCING: report_level = 'WARN' report_message = 'Volume synchronization started.' else: msg = ""Cannot issue event for unknown RAID state: "" + \ md_details['state'] LOG.debug(""[!] %s"", msg) return report_params = {'volumeAlias': volume_alias} if md_details['state'] == RAID_STATE_DEGRADED and not sync_completed: failed_devices_uuids = NVMeOFAgent.get_devices_uuids( failed_legs) LOG.debug( ""[!] failed_devices_uuids: %s "", str(failed_devices_uuids)) prefix = 'uuid' i = 0 for uuid in failed_devices_uuids: report_params[prefix + str(i)] = uuid self.forward_logs(report_level, host, report_message, report_params) def get_volume_if_connected_to_me(self, vol_alias): LOG.debug(""[!] get_volume_if_connected_to_me volume: %s "", vol_alias) volume = self.get_volume_by_alias(vol_alias) if volume is None: return None LOG.debug(""[!] connected volume: %s "", str(volume)) targets = self.get_targets(None, volume.uuid) for target in targets: LOG.debug(""[!] connected target: %s "", str(target)) if target.numNamespaces < 1: continue connected = NVMeOFAgent.is_connected(target.targetName) LOG.debug(""[!] connected: %s "", str(connected)) if connected: return volume return None def get_volume_alias(self, md_name, md_path): if md_name == """": alias_index = md_path.find("":"") if alias_index > 0: md_path = md_path[alias_index + 1:] volume_alias = md_path else: volume_alias = md_name return volume_alias def handle_leg_failure(self, md_name): md_link = None try: md_link = os.readlink( '/dev/md/{0}'.format(md_name)).replace('../', '') except OSError: LOG.error(""Invalid mdadm device: %s"", md_name) device_index = md_link.rfind('/') md__dev_name = md_link[device_index + 1:] LOG.debug(""md__dev_name: %s"", md__dev_name) if not self.is_exists_in_md_stat(self.executor, md__dev_name): msg = 'device ' + md__dev_name + ' is not a local array' return None, None, None, None, msg all_legs, failed_legs, active_legs = self.get_nvme_devices_by_state( md_name) nvme_legs_states = self.get_nvme_state(md_name) LOG.debug(""nvme_legs_states: %s"", str(nvme_legs_states)) if len(nvme_legs_states) <= 0: return active_legs, failed_legs, all_legs, None, None nvme_live_legs = [] LOG.debug(""failed_legs: %s"", str(failed_legs)) for device, state in nvme_legs_states.items(): LOG.debug(""device: %s state: %s"", device, state) if state != 'live' and device not in failed_legs: msg = ""Device : "" + device + \ "" Is not live but not failed in md, removing the md leg"" LOG.debug(""[!] %s"", msg) success = self.fail_md(md_name, device) if success: failed_legs.append(device) else: LOG.warning( ""Removing leg from md: %s leg: %s failed!"", md_name, device) elif state == 'live': nvme_live_legs.append(device) return active_legs, failed_legs, all_legs, nvme_live_legs, None @staticmethod def is_exists_in_md_stat(executor, name): lines, _err = executor._execute( 'cat', '/proc/mdstat', run_as_root=True, root_helper=executor._root_helper) for line in lines.split('\n'): if name in line: return True return False def _get_connected_nqns(self): nqns = [] nvme_device_path = '/sys/class/nvme-fabrics/ctl/nvme*' ctrls = glob.glob(nvme_device_path) for ctrl in ctrls: LOG.debug(""[!] ctrl = %s"", ctrl) file_path = ctrl + '/subsysnqn' lines, _err = self.executor._execute( 'cat', file_path, run_as_root=True, root_helper=self.executor._root_helper) line = None for line in lines.split('\n'): break candidate_nqn = line LOG.debug(""[!] candidate_nqn = %s"", candidate_nqn) nqns.append(candidate_nqn) return nqns def get_num_namespaces(self, controller_device): nvme_device_path = controller_device + 'n*' nss = glob.glob(nvme_device_path) return len(nss) @staticmethod def disconnect(executor, target_nqn): LOG.debug(""[!] target_nqn = %s"", target_nqn) nvme_command = ('disconnect', '-n', target_nqn) try: NVMeOFConnector.run_nvme_cli(executor, nvme_command) except Exception: logging.exception(""Could not disconnect target_nqn %s"", target_nqn) def disconnect_unused_targets(self, host): nqns = self._get_connected_nqns() LOG.debug(""[!] nqns = %s"", str(nqns)) for nqn in nqns: ctrl_device_path = self.get_control_device(nqn) num_namespaces = self.get_num_namespaces(ctrl_device_path) if num_namespaces < 1: self.disconnect(self.executor, nqn) self.forward_logs( 'INFO', host, 'NVMeoF connection to backend was closed.', { 'initiatorNQN': host, 'targetNQN': nqn}) def get_control_device(self, target_nqn): LOG.debug(""[!] target_nqn = %s"", target_nqn) nvme_device_path = '/sys/class/nvme-fabrics/ctl/nvme*' ctrls = glob.glob(nvme_device_path) for ctrl in ctrls: LOG.debug(""[!] ctrl = %s"", ctrl) file_path = ctrl + '/subsysnqn' lines, _err = self.executor._execute( 'cat', file_path, run_as_root=True, root_helper=self.executor._root_helper) line = None for line in lines.split('\n'): LOG.debug(""[!] line = %s"", line) break candidate_nqn = line LOG.debug(""[!] candidate_nqn = %s"", candidate_nqn) if candidate_nqn == target_nqn: nvme_index = ctrl.rfind('/') nvme_ctrl = ctrl[nvme_index + 1:] ctrl_device_path = '/dev/' + nvme_ctrl return ctrl_device_path LOG.warning( ""[!] Could not find control device for target nqn : %s"", target_nqn) return None ",,1652,0
openstack%2Fswift~master~Ie270b9f76a033818e9b744b574350887056238c9,openstack/swift,master,Ie270b9f76a033818e9b744b574350887056238c9,memcache: Add mg command and get_ttl helper method,NEW,2021-06-09 07:08:55.000000000,2021-06-15 03:46:06.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 07:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ce6efe824c83a097cb46e9244584c7d8f8ff5056', 'message': ""memcache: Add mg command and get_ttl helper method\n\nIn memcach version 1.6+ there is now support for metadata commands.\nProbably the most important one is the ability to get the TTL left of\nan object in the cache.\n\nThis patch adds 2 new methods to the MemcacheRing client:\n\n  mg: a command used to get metadata (metadata get) which returns a\n    dictionary of metadata. Keys as determined by memcache.\n get_ttl: A helper method that uses the above command with the 't' flag,\n    which represents TTL, to return the TTL (in seconds) of the object at\n    the key you pass in.\n\nWe've had an issue where some data got stuck and stale and being able to\ncheck the TTL would have made things much easier to determine. A TTL -1\nmeans unlimitied. None is returned if the object isn't in the cache.\n\nChange-Id: Ie270b9f76a033818e9b744b574350887056238c9\n""}, {'number': 2, 'created': '2021-06-10 23:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/558795f2a2d692714ddf26339ab2145c156e6c9b', 'message': ""memcache: Add mg command and get_ttl helper method\n\nIn memcach version 1.6+ there is now support for metadata commands.\nProbably the most important one is the ability to get the TTL left of\nan object in the cache.\n\nThis patch adds 2 new methods to the MemcacheRing client:\n\n  mg: a command used to get metadata (metadata get) which returns a\n    dictionary of metadata. Keys as determined by memcache.\n get_ttl: A helper method that uses the above command with the 't' flag,\n    which represents TTL, to return the TTL (in seconds) of the object at\n    the key you pass in.\n\nWe've had an issue where some data got stuck and stale and being able to\ncheck the TTL would have made things much easier to determine. A TTL -1\nmeans unlimitied. None is returned if the object isn't in the cache.\n\nChange-Id: Ie270b9f76a033818e9b744b574350887056238c9\n""}, {'number': 3, 'created': '2021-06-11 22:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c355fa42db46b84e119491c07c51d62780a7e534', 'message': ""memcache: Add mg command and get_ttl helper method\n\nIn memcache version 1.6+ there is now support for metadata commands.\nProbably the most important one (for us) is the ability to get the TTL\nleft of an object in the cache.\n\nThis patch adds 2 new methods to the MemcacheRing client:\n\n  mg: a command used to get metadata (metadata get) which returns a\n    dictionary of metadata. Keys as determined by memcache.\n get_ttl: A helper method that uses the above command with the 't' flag,\n    which represents TTL, to return the TTL (in seconds) of the object at\n    the key you pass in.\n\nWe've had an issue where some data got stuck and stale and being able to\ncheck the TTL would have made things much easier to determine. A TTL of\n-1 means unlimitied. None is returned if the object isn't in the cache.\n\nChange-Id: Ie270b9f76a033818e9b744b574350887056238c9\n""}, {'number': 4, 'created': '2021-06-15 02:08:45.000000000', 'files': ['swift/common/memcached.py', 'test/unit/common/test_memcached.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/99a2f9418f529ffa5a4c60c889e5a4191a1389ec', 'message': ""memcache: Add mg command and get_ttl helper method\n\nIn memcache version 1.6+ there is now support for metadata commands.\nProbably the most important one (for us) is the ability to get the TTL\nleft of an object in the cache.\n\nThis patch adds 2 new methods to the MemcacheRing client:\n\n  mg: a command used to get metadata (metadata get) which returns a\n    dictionary of metadata. Keys as determined by memcache.\n get_ttl: A helper method that uses the above command with the 't' flag,\n    which represents TTL, to return the TTL (in seconds) of the object at\n    the key you pass in.\n\nWe've had an issue where some data got stuck and stale and being able to\ncheck the TTL would have made things much easier to determine. A TTL of\n-1 means unlimitied. None is returned if the object isn't in the cache.\n\nChange-Id: Ie270b9f76a033818e9b744b574350887056238c9\n""}]",2,795484,99a2f9418f529ffa5a4c60c889e5a4191a1389ec,14,2,4,7233,,,0,"memcache: Add mg command and get_ttl helper method

In memcache version 1.6+ there is now support for metadata commands.
Probably the most important one (for us) is the ability to get the TTL
left of an object in the cache.

This patch adds 2 new methods to the MemcacheRing client:

  mg: a command used to get metadata (metadata get) which returns a
    dictionary of metadata. Keys as determined by memcache.
 get_ttl: A helper method that uses the above command with the 't' flag,
    which represents TTL, to return the TTL (in seconds) of the object at
    the key you pass in.

We've had an issue where some data got stuck and stale and being able to
check the TTL would have made things much easier to determine. A TTL of
-1 means unlimitied. None is returned if the object isn't in the cache.

Change-Id: Ie270b9f76a033818e9b744b574350887056238c9
",git fetch https://review.opendev.org/openstack/swift refs/changes/84/795484/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/memcached.py', 'test/unit/common/test_memcached.py']",2,ce6efe824c83a097cb46e9244584c7d8f8ff5056,add_ttl_to_memcache_client," self.ttl_unlimted = False def handle_mg(self, key, *flags): if key in self.cache: ttl = -1 if self.ttl_unlimted else 500 self.outbuf += b' '.join([b'OK', b'T{}'.format(ttl)]) + b'\r\n' self.outbuf += b'END\r\n' def test_get_ttl(self): memcache_client = memcached.MemcacheRing(['1.2.3.4:11211'], logger=self.logger) mock = MockMemcached() memcache_client._client_cache['1.2.3.4:11211'] = MockedMemcachePool( [(mock, mock)] * 2) # first lets try and get the ttl out of an object that isn't in the # cache self.assertIsNone(memcache_client.get_ttl(b'some_key')) # Now let's add an item memcache_client.set('some_key', [1, 2, 3]) self.assertEqual(memcache_client.get('some_key'), [1, 2, 3]) # and get the ttl self.assertEqual(500, memcache_client.get_ttl(b'some_key')) # if it's stuck or set to unlimited it'll come back as -1 mock.ttl_unlimted = True self.assertEqual(-1, memcache_client.get_ttl(b'some_key')) def test_mg(self): # I'm only really testing ttl here. Will expand it later. memcache_client = memcached.MemcacheRing(['1.2.3.4:11211'], logger=self.logger) mock = MockMemcached() memcache_client._client_cache['1.2.3.4:11211'] = MockedMemcachePool( [(mock, mock)] * 2) # first lets try and get the ttl out of an object that isn't in the # cache self.assertIsNone(memcache_client.mg(b'some_key', [b't'])) # Now let's add an item memcache_client.set('some_key', [1, 2, 3]) self.assertEqual(memcache_client.get('some_key'), [1, 2, 3]) # and get metadata expected_md_dict = {'T': '500'} self.assertEqual(expected_md_dict, memcache_client.mg(b'some_key', [b't'])) # if it's stuck or set to unlimited it'll come back as -1 mock.ttl_unlimted = True expected_md_dict['T'] = '-1' self.assertEqual(expected_md_dict, memcache_client.mg(b'some_key', [b't'])) ",,95,1
openstack%2Fneutron~stable%2Fwallaby~Ia044a0f1f0086d3313b01b03cbc498551c6a8e9d,openstack/neutron,stable/wallaby,Ia044a0f1f0086d3313b01b03cbc498551c6a8e9d,"Add ""filter-validation"" support for ""OVNL3RouterPlugin""",MERGED,2021-06-09 07:26:38.000000000,2021-06-15 03:38:37.000000000,2021-06-15 03:19:47.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 07:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc9b7ea1b4ffb97bae2c59ee45734dc93f8b8fa2', 'message': 'Add ""filter-validation"" support for ""OVNL3RouterPlugin""\n\nChange-Id: Ia044a0f1f0086d3313b01b03cbc498551c6a8e9d\nCloses-Bug: #1929658\n(cherry picked from commit 2244af771f6aec1b67770522645ca5ce023950a9)\n'}, {'number': 2, 'created': '2021-06-10 08:30:21.000000000', 'files': ['neutron/services/ovn_l3/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/562b99a968ae75d348836b97118ca7b86dd6d786', 'message': 'Add ""filter-validation"" support for ""OVNL3RouterPlugin""\n\nChange-Id: Ia044a0f1f0086d3313b01b03cbc498551c6a8e9d\nCloses-Bug: #1929658\n(cherry picked from commit 2244af771f6aec1b67770522645ca5ce023950a9)\n'}]",0,795455,562b99a968ae75d348836b97118ca7b86dd6d786,104,3,2,16688,,,0,"Add ""filter-validation"" support for ""OVNL3RouterPlugin""

Change-Id: Ia044a0f1f0086d3313b01b03cbc498551c6a8e9d
Closes-Bug: #1929658
(cherry picked from commit 2244af771f6aec1b67770522645ca5ce023950a9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/795455/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/ovn_l3/plugin.py'],1,cc9b7ea1b4ffb97bae2c59ee45734dc93f8b8fa2,bug/1929658, __filter_validation_support = True,,1,0
openstack%2Fcharm-ceph-osd~master~I5333cc85f755771733fe09e963d5523fd93c16d2,openstack/charm-ceph-osd,master,I5333cc85f755771733fe09e963d5523fd93c16d2,Update get_mon_hosts to not specify mon ports,MERGED,2021-03-16 09:38:04.000000000,2021-06-15 03:29:59.000000000,2021-06-15 03:29:59.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-16 09:38:04.000000000', 'files': ['hooks/ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/1af3d6f041bb416b3ed56c9ac1167c0926284ffb', 'message': 'Update get_mon_hosts to not specify mon ports\n\nUpdate get_mon_hosts to avoid specifying the port number for the\nMON daemons; we use the default so this is not required, and at\nNautilus the MON daemons run both v1 and v2 messenger ports.\n\nSpecifying the port in the ceph.conf file disables the v2\nmessenger port which is not the desired behaviour on upgrade\nor new installation.\n\nChange-Id: I5333cc85f755771733fe09e963d5523fd93c16d2\nCloses-Bug: #1917742\n'}]",0,780763,1af3d6f041bb416b3ed56c9ac1167c0926284ffb,10,3,1,20634,,,0,"Update get_mon_hosts to not specify mon ports

Update get_mon_hosts to avoid specifying the port number for the
MON daemons; we use the default so this is not required, and at
Nautilus the MON daemons run both v1 and v2 messenger ports.

Specifying the port in the ceph.conf file disables the v2
messenger port which is not the desired behaviour on upgrade
or new installation.

Change-Id: I5333cc85f755771733fe09e963d5523fd93c16d2
Closes-Bug: #1917742
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/63/780763/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/ceph_hooks.py'],1,1af3d6f041bb416b3ed56c9ac1167c0926284ffb,bug/1917742, hosts.append('{}'.format(format_ipv6_addr(addr) or addr)), hosts.append('{}:6789'.format(format_ipv6_addr(addr) or addr)),1,1
openstack%2Fcharm-ceph-radosgw~master~Iaeb10dc25bb52df9dd3746ecf4fe5859d4efd459,openstack/charm-ceph-radosgw,master,Iaeb10dc25bb52df9dd3746ecf4fe5859d4efd459,set rgw keystone revocation interval to 0,MERGED,2021-05-21 06:29:26.000000000,2021-06-15 03:21:15.000000000,2021-06-15 03:21:15.000000000,"[{'_account_id': 6737}, {'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31959}]","[{'number': 1, 'created': '2021-05-21 06:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/4fec7dc87dc082035c9cea0c1411b87c0ad136c4', 'message': 'set rgw keystone revocation interval to 0\n\nCeph RGW checks revocation list for every 600 seconds. This is not\nrequired for non PKI tokens and PKI tokens are removed in OpenStack\nPike release. This results in unnecessary logs in ceph and keystone.\n\nSet the rgw keystone revocation interval to 0 in ceph conf. Also\nthis parameter is removed in upstream from Ceph Octopus. So ensure\nnot to add this parameter from ceph release Octopus.\n\nCloses-Bug: #1758982\nChange-Id: Iaeb10dc25bb52df9dd3746ecf4fe5859d4efd459\n'}, {'number': 2, 'created': '2021-05-21 07:05:31.000000000', 'files': ['unit_tests/test_ceph_radosgw_context.py', 'hooks/ceph_radosgw_context.py', 'templates/ceph.conf'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/d9cc3f3bfbb9dbac4095470257a3259fde829461', 'message': 'set rgw keystone revocation interval to 0\n\nCeph RGW checks revocation list for every 600 seconds. This is not\nrequired for non PKI tokens and PKI tokens are removed in OpenStack\nPike release. This results in unnecessary logs in ceph and keystone.\n\nSet the rgw keystone revocation interval to 0 in ceph conf. Also\nthis parameter is removed in upstream from Ceph Octopus. So ensure\nnot to add this parameter from ceph release Octopus.\n\nCloses-Bug: #1758982\nChange-Id: Iaeb10dc25bb52df9dd3746ecf4fe5859d4efd459\n'}]",6,792503,d9cc3f3bfbb9dbac4095470257a3259fde829461,16,5,2,10366,,,0,"set rgw keystone revocation interval to 0

Ceph RGW checks revocation list for every 600 seconds. This is not
required for non PKI tokens and PKI tokens are removed in OpenStack
Pike release. This results in unnecessary logs in ceph and keystone.

Set the rgw keystone revocation interval to 0 in ceph conf. Also
this parameter is removed in upstream from Ceph Octopus. So ensure
not to add this parameter from ceph release Octopus.

Closes-Bug: #1758982
Change-Id: Iaeb10dc25bb52df9dd3746ecf4fe5859d4efd459
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/03/792503/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_radosgw_context.py', 'templates/ceph.conf']",2,4fec7dc87dc082035c9cea0c1411b87c0ad136c4,bug/1758982,{% if keystone_revocation_parameter_supported -%} rgw keystone revocation interval = 0 {% endif -%},,5,0
openstack%2Fcharm-ceph-fs~master~I53017bdb31cc7cfbe9e11e0d856fbd065ba34563,openstack/charm-ceph-fs,master,I53017bdb31cc7cfbe9e11e0d856fbd065ba34563,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:08:12.000000000,2021-06-15 03:20:10.000000000,2021-06-15 03:20:10.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:08:12.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/7bd637b04a07a8b7382994668a54d030c14c2150', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I53017bdb31cc7cfbe9e11e0d856fbd065ba34563\n'}]",0,791183,7bd637b04a07a8b7382994668a54d030c14c2150,10,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I53017bdb31cc7cfbe9e11e0d856fbd065ba34563
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/83/791183/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,7bd637b04a07a8b7382994668a54d030c14c2150,batch-update,f9c4c260-b3eb-11eb-b396-1786d65111bf,be82de82-64d9-11eb-94b9-ff8b2804e655,1,1
openstack%2Fcharm-vault~master~Icc7c9f75b3dc83a706fa280f70d88343cd3bb9fc,openstack/charm-vault,master,Icc7c9f75b3dc83a706fa280f70d88343cd3bb9fc,Handle when lb_provider is None,MERGED,2021-05-14 18:08:36.000000000,2021-06-15 03:18:18.000000000,2021-06-15 03:18:18.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 18:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/2a6dba9982356104b0d6b9d4167f24a1d820710e', 'message': 'Handle when lb_provider is None\n\nDo not throw an exception when the LB interface is None.\n\nChange-Id: Icc7c9f75b3dc83a706fa280f70d88343cd3bb9fc\nCloses-Bug: #1928492\n'}, {'number': 2, 'created': '2021-06-08 20:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/e377d6317e2d8fe0c136032d78af4f865493f029', 'message': 'Handle when lb_provider is None\n\nDo not throw an exception when the LB interface is None.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/588\nChange-Id: Icc7c9f75b3dc83a706fa280f70d88343cd3bb9fc\nCloses-Bug: #1928492\n'}, {'number': 3, 'created': '2021-06-11 22:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/f409c550b40cf9b4970bd7235ef78f1fde6ab943', 'message': 'Handle when lb_provider is None\n\nDo not throw an exception when the LB interface is None.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/588\nChange-Id: Icc7c9f75b3dc83a706fa280f70d88343cd3bb9fc\nCloses-Bug: #1928492\n'}, {'number': 4, 'created': '2021-06-14 20:51:00.000000000', 'files': ['src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/7069369a383caa169f26e45672cfac98f43dcc19', 'message': 'Handle when lb_provider is None\n\nDo not throw an exception when the LB interface is None.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/591\nChange-Id: Icc7c9f75b3dc83a706fa280f70d88343cd3bb9fc\nCloses-Bug: #1928492\n'}]",0,791522,7069369a383caa169f26e45672cfac98f43dcc19,38,3,4,20805,,,0,"Handle when lb_provider is None

Do not throw an exception when the LB interface is None.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/591
Change-Id: Icc7c9f75b3dc83a706fa280f70d88343cd3bb9fc
Closes-Bug: #1928492
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/22/791522/1 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/vault_handlers.py'],1,2a6dba9982356104b0d6b9d4167f24a1d820710e,bug/1928492, if is_leader and lb_provider and lb_provider.is_available:, if is_leader and lb_provider.is_available:,1,1
openstack%2Fopenstack-ansible~master~If22b80235d352f6d561243aebf70c6af3bd08287,openstack/openstack-ansible,master,If22b80235d352f6d561243aebf70c6af3bd08287,[doc] Document CA generation upgrade step,MERGED,2021-06-09 19:02:43.000000000,2021-06-15 03:16:32.000000000,2021-06-15 03:13:39.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-06-09 19:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/347dffa8654a6b92926b0cf6c7a6eaa6ebd5174a', 'message': '[doc] Document CA generation upgrade step\n\nChange-Id: If22b80235d352f6d561243aebf70c6af3bd08287\n'}, {'number': 2, 'created': '2021-06-09 19:38:24.000000000', 'files': ['doc/source/admin/upgrades/major-upgrades.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/48f110dd38be3558181dbd559f2e001e72ed7b63', 'message': '[doc] Document CA generation upgrade step\n\nChange-Id: If22b80235d352f6d561243aebf70c6af3bd08287\n'}]",0,795665,48f110dd38be3558181dbd559f2e001e72ed7b63,10,3,2,28619,,,0,"[doc] Document CA generation upgrade step

Change-Id: If22b80235d352f6d561243aebf70c6af3bd08287
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/65/795665/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/upgrades/major-upgrades.rst'],1,347dffa8654a6b92926b0cf6c7a6eaa6ebd5174a,795579,"With introduction of PKI ansible role, OSA now manages own Certificate Authority (CA) if self-signed certificates are used. Before proceeding with the upgrade, you will need to override ``openstack_pki_authorities`` and ``openstack_pki_service_intermediate_cert_name`` in your user_variables otherwise sample authorities will be generated for root and intermediate certificates and all self-signed certificates generated later will be signed with them. .. warning:: Usage of non-trusted certificates for RabbitMQ is not possible due to requirements of newer ``amqp`` versions. To generate new CA, you will need to run the following command: .. code-block:: console # openstack-ansible certificate-authority.yml Once CA is generated, we can proceed with standard OpenStack upgrade steps: ",,21,0
openstack%2Fopenstack-ansible~master~If2741e98971f444153f7e1a8e04816896fbb715b,openstack/openstack-ansible,master,If2741e98971f444153f7e1a8e04816896fbb715b,Fix upgrade jobs out of CI,MERGED,2021-06-09 14:44:01.000000000,2021-06-15 03:15:06.000000000,2021-06-15 03:13:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-09 14:44:01.000000000', 'files': ['scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/684dbf03327bf5471a17d4847b4b889c6eb57c8d', 'message': ""Fix upgrade jobs out of CI\n\nWith [1] got merget, we get broken logic for non-CI cases, where\nenv is spawned with gate-check-commit.sh script. We fix behaviour\nand not export ZUUL_SRC_PATH when we're out of CI.\n\n[1] https://opendev.org/openstack/openstack-ansible/commit/eeabc721a52fcdb762353a61c6db0c5505d6f384\n\nChange-Id: If2741e98971f444153f7e1a8e04816896fbb715b\n""}]",0,795563,684dbf03327bf5471a17d4847b4b889c6eb57c8d,8,3,1,28619,,,0,"Fix upgrade jobs out of CI

With [1] got merget, we get broken logic for non-CI cases, where
env is spawned with gate-check-commit.sh script. We fix behaviour
and not export ZUUL_SRC_PATH when we're out of CI.

[1] https://opendev.org/openstack/openstack-ansible/commit/eeabc721a52fcdb762353a61c6db0c5505d6f384

Change-Id: If2741e98971f444153f7e1a8e04816896fbb715b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/63/795563/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/gate-check-commit.sh'],1,684dbf03327bf5471a17d4847b4b889c6eb57c8d,," # Export ZUUL_SRC_PATH only when integrated repo folder exists. Based on that # we make an assumption about if we're in CI or not if [[ -d ""/home/zuul/src/opendev.org/openstack/openstack-ansible"" ]]; then export ZUUL_SRC_PATH=""/home/zuul/src"" # Doing symlinking here, as bootstrap role won't be called ln -s $ZUUL_SRC_PATH /openstack/src fi"," # NOTE(noonedeadpunk): This might be moved to zuul.d/playbooks/run.yaml export ZUUL_SRC_PATH=""/home/zuul/src"" # Doing symlinking here, as bootstrap role won't be called ln -s $ZUUL_SRC_PATH /openstack/src",8,4
openstack%2Fcharm-manila~master~I79c54a17503f234ce5989405e0e0cb7f43fa5746,openstack/charm-manila,master,I79c54a17503f234ce5989405e0e0cb7f43fa5746,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:10:07.000000000,2021-06-15 03:12:09.000000000,2021-06-15 03:12:09.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:10:07.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/a6bf7d84f8ff8de2e54edd0f245a68ac1deed245', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I79c54a17503f234ce5989405e0e0cb7f43fa5746\n'}]",0,791198,a6bf7d84f8ff8de2e54edd0f245a68ac1deed245,10,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I79c54a17503f234ce5989405e0e0cb7f43fa5746
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/98/791198/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,a6bf7d84f8ff8de2e54edd0f245a68ac1deed245,batch-update,fa0d18c6-b3eb-11eb-9691-07f26964f64e,be9eca16-64d9-11eb-bd4d-134e91ff54de,1,1
openstack%2Fcharm-swift-storage~master~I3deb0f519b9746d632c9c56b7a77fa5efb78fad0,openstack/charm-swift-storage,master,I3deb0f519b9746d632c9c56b7a77fa5efb78fad0,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:48:01.000000000,2021-06-15 03:09:23.000000000,2021-06-15 03:09:23.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:48:01.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/cli/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/5d241dcc2acb0a932da9a29d1c847259d1605a05', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I3deb0f519b9746d632c9c56b7a77fa5efb78fad0\n'}]",0,791174,5d241dcc2acb0a932da9a29d1c847259d1605a05,13,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I3deb0f519b9746d632c9c56b7a77fa5efb78fad0
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/74/791174/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/fetch/ubuntu.py']",6,5d241dcc2acb0a932da9a29d1c847259d1605a05,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Fcharm-cinder~master~I115644f4c9bbc9b5b7501d85806e7419e5b8f0f6,openstack/charm-cinder,master,I115644f4c9bbc9b5b7501d85806e7419e5b8f0f6,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:46:01.000000000,2021-06-15 03:06:21.000000000,2021-06-15 03:06:21.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:46:01.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/cli/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/5760b1fd6fd7a2d367f8ef77a9aaa6d3354bd51e', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I115644f4c9bbc9b5b7501d85806e7419e5b8f0f6\n'}]",0,791158,5760b1fd6fd7a2d367f8ef77a9aaa6d3354bd51e,13,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I115644f4c9bbc9b5b7501d85806e7419e5b8f0f6
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/58/791158/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/fetch/ubuntu.py']",6,5760b1fd6fd7a2d367f8ef77a9aaa6d3354bd51e,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Fcharm-hacluster~master~Ib32258deceb445e307835269635cf1008d1a6cf9,openstack/charm-hacluster,master,Ib32258deceb445e307835269635cf1008d1a6cf9,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:46:40.000000000,2021-06-15 03:05:53.000000000,2021-06-15 03:05:53.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:46:40.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/cli/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/221d4e71d40609f941b58ed5ca56c74d59dd3b14', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: Ib32258deceb445e307835269635cf1008d1a6cf9\n'}]",0,791163,221d4e71d40609f941b58ed5ca56c74d59dd3b14,15,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: Ib32258deceb445e307835269635cf1008d1a6cf9
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/63/791163/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/fetch/ubuntu.py']",6,221d4e71d40609f941b58ed5ca56c74d59dd3b14,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Fcharm-swift-proxy~master~I5793f6e68058cddcb47b5cd588d4a5e3c0344ee0,openstack/charm-swift-proxy,master,I5793f6e68058cddcb47b5cd588d4a5e3c0344ee0,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:47:54.000000000,2021-06-15 03:05:45.000000000,2021-06-15 03:05:45.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:47:54.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/cli/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/57d2d4760a3f6746220d253421229f8e0edd3fbc', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I5793f6e68058cddcb47b5cd588d4a5e3c0344ee0\n'}]",0,791173,57d2d4760a3f6746220d253421229f8e0edd3fbc,13,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I5793f6e68058cddcb47b5cd588d4a5e3c0344ee0
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/73/791173/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/fetch/ubuntu.py']",6,57d2d4760a3f6746220d253421229f8e0edd3fbc,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Fcharm-cinder-ceph~master~I0964a56a335d27213b8d2fa4f91b5b6c4f3c6e0c,openstack/charm-cinder-ceph,master,I0964a56a335d27213b8d2fa4f91b5b6c4f3c6e0c,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:46:18.000000000,2021-06-15 03:05:39.000000000,2021-06-15 03:05:39.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:46:18.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/cli/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/dbfe6e91bdef40e76f6bdeddc7dfe626f40e1539', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I0964a56a335d27213b8d2fa4f91b5b6c4f3c6e0c\n'}]",0,791160,dbfe6e91bdef40e76f6bdeddc7dfe626f40e1539,13,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I0964a56a335d27213b8d2fa4f91b5b6c4f3c6e0c
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/60/791160/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/cli/__init__.py']",6,dbfe6e91bdef40e76f6bdeddc7dfe626f40e1539,batch-update,import six if six.PY2: argspec = inspect.getargspec(arguments.func) else: argspec = inspect.getfullargspec(arguments.func) if six.PY2: argspec = inspect.getargspec(func) else: argspec = inspect.getfullargspec(func), argspec = inspect.getargspec(arguments.func) argspec = inspect.getargspec(func),45,21
openstack%2Fcharm-neutron-gateway~master~Ie18e3958c90a19a8a1f5ce4cd01aac3f204965aa,openstack/charm-neutron-gateway,master,Ie18e3958c90a19a8a1f5ce4cd01aac3f204965aa,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:47:02.000000000,2021-06-15 03:05:13.000000000,2021-06-15 03:05:13.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:47:02.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/0f7a2418cb7fa4d00db491b3a417af3c76259609', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: Ie18e3958c90a19a8a1f5ce4cd01aac3f204965aa\n'}]",0,791166,0f7a2418cb7fa4d00db491b3a417af3c76259609,13,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: Ie18e3958c90a19a8a1f5ce4cd01aac3f204965aa
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/66/791166/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/fetch/ubuntu.py']",6,0f7a2418cb7fa4d00db491b3a417af3c76259609,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Fcharm-nova-cloud-controller~master~If2a07274d35622ae3b22022ea35ca74a1b76a9f4,openstack/charm-nova-cloud-controller,master,If2a07274d35622ae3b22022ea35ca74a1b76a9f4,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:47:17.000000000,2021-06-15 03:05:05.000000000,2021-06-15 03:05:05.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:47:17.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/cli/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/306ff634ee43f169f1f5cd66eb7cf38e711ab068', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: If2a07274d35622ae3b22022ea35ca74a1b76a9f4\n'}]",0,791168,306ff634ee43f169f1f5cd66eb7cf38e711ab068,12,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: If2a07274d35622ae3b22022ea35ca74a1b76a9f4
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/68/791168/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/fetch/ubuntu.py']",6,306ff634ee43f169f1f5cd66eb7cf38e711ab068,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Fcharm-ceilometer-agent~master~I7bb2bdcf5d5cbdc7f9578a82d7697152d9bd480d,openstack/charm-ceilometer-agent,master,I7bb2bdcf5d5cbdc7f9578a82d7697152d9bd480d,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:45:26.000000000,2021-06-15 03:04:25.000000000,2021-06-15 03:04:25.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:45:26.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/cli/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/2a7e2a95cd52467fd05c7e7d0fa57150bb0cf4bf', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I7bb2bdcf5d5cbdc7f9578a82d7697152d9bd480d\n'}]",0,791153,2a7e2a95cd52467fd05c7e7d0fa57150bb0cf4bf,13,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I7bb2bdcf5d5cbdc7f9578a82d7697152d9bd480d
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/53/791153/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/fetch/ubuntu.py']",6,2a7e2a95cd52467fd05c7e7d0fa57150bb0cf4bf,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Fcharm-mysql-innodb-cluster~master~Ifcdecda19e2c1b385c120d7cd21f45520d3f944c,openstack/charm-mysql-innodb-cluster,master,Ifcdecda19e2c1b385c120d7cd21f45520d3f944c,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:11:00.000000000,2021-06-15 03:04:18.000000000,2021-06-15 03:04:18.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:11:00.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/c9007633285e3a173502ed7fc1b54bef9f7b9f0c', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: Ifcdecda19e2c1b385c120d7cd21f45520d3f944c\n'}]",0,791206,c9007633285e3a173502ed7fc1b54bef9f7b9f0c,10,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: Ifcdecda19e2c1b385c120d7cd21f45520d3f944c
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/06/791206/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,c9007633285e3a173502ed7fc1b54bef9f7b9f0c,batch-update,fa1e5078-b3eb-11eb-bc5d-6f38fa731980,2b0b9db3-5e30-41df-803f-6669809eeaa4,1,1
openstack%2Fcharm-nova-compute~master~Ib8e1597a5b08bcb79e49773fc14b4c8e1173c654,openstack/charm-nova-compute,master,Ib8e1597a5b08bcb79e49773fc14b4c8e1173c654,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:47:24.000000000,2021-06-15 03:03:54.000000000,2021-06-15 03:03:54.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:47:24.000000000', 'files': ['hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/31108aefce568b05a3202ad06814618424a49f8b', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: Ib8e1597a5b08bcb79e49773fc14b4c8e1173c654\n'}]",0,791169,31108aefce568b05a3202ad06814618424a49f8b,15,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: Ib8e1597a5b08bcb79e49773fc14b4c8e1173c654
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/69/791169/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/fetch/ubuntu.py']",4,31108aefce568b05a3202ad06814618424a49f8b,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",30,17
openstack%2Fcharm-designate-bind~master~I5118a7860fe6d123f744e34b70a66d59d426e731,openstack/charm-designate-bind,master,I5118a7860fe6d123f744e34b70a66d59d426e731,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:08:51.000000000,2021-06-15 03:03:39.000000000,2021-06-15 03:03:39.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:08:51.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/a1d1651a1ee9c9adbe118f53d38d2f036c3cce8a', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I5118a7860fe6d123f744e34b70a66d59d426e731\n'}]",0,791188,a1d1651a1ee9c9adbe118f53d38d2f036c3cce8a,10,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I5118a7860fe6d123f744e34b70a66d59d426e731
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/88/791188/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,a1d1651a1ee9c9adbe118f53d38d2f036c3cce8a,batch-update,f9e6a1be-b3eb-11eb-acf2-f38cac67ecad,be8c11e6-64d9-11eb-add3-b3895621413f,1,1
openstack%2Fcharm-aodh~master~I897c09d45dd677f3f091be607c16cc38c0e8480c,openstack/charm-aodh,master,I897c09d45dd677f3f091be607c16cc38c0e8480c,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:07:34.000000000,2021-06-15 03:03:34.000000000,2021-06-15 03:03:34.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:07:34.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/75bb3bc4139c0dc6e8dd3222e86aa77e5ea56160', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I897c09d45dd677f3f091be607c16cc38c0e8480c\n'}]",0,791179,75bb3bc4139c0dc6e8dd3222e86aa77e5ea56160,10,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I897c09d45dd677f3f091be607c16cc38c0e8480c
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/79/791179/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,75bb3bc4139c0dc6e8dd3222e86aa77e5ea56160,batch-update,f9b532b4-b3eb-11eb-aefc-c77108bf2af0,be7e7a04-64d9-11eb-a847-4bb3587913be,1,1
openstack%2Fcharm-neutron-api-plugin-ironic~master~I6b5f21606965a36f061cf52dbe069a9ad6721642,openstack/charm-neutron-api-plugin-ironic,master,I6b5f21606965a36f061cf52dbe069a9ad6721642,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:11:25.000000000,2021-06-15 03:02:35.000000000,2021-06-15 03:02:35.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:11:25.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/721b29fc1e13c24abac0e331cc0082da6e392bc8', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I6b5f21606965a36f061cf52dbe069a9ad6721642\n'}]",0,791209,721b29fc1e13c24abac0e331cc0082da6e392bc8,13,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I6b5f21606965a36f061cf52dbe069a9ad6721642
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ironic refs/changes/09/791209/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,721b29fc1e13c24abac0e331cc0082da6e392bc8,batch-update,fa282f9e-b3eb-11eb-a300-f3964ad6997a,beb41952-64d9-11eb-962b-e3ddba2cfbe3,1,1
openstack%2Fcharm-keystone-saml-mellon~master~I78b3a146d2c42ec3d1474ce829de5963e556b8e4,openstack/charm-keystone-saml-mellon,master,I78b3a146d2c42ec3d1474ce829de5963e556b8e4,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:09:38.000000000,2021-06-15 03:02:30.000000000,2021-06-15 03:02:30.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/acebbb4bb9863b21de491a48571b1757abaade51', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I78b3a146d2c42ec3d1474ce829de5963e556b8e4\n'}, {'number': 2, 'created': '2021-06-07 12:59:23.000000000', 'files': ['rebuild', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/7e8ea33ce3b07563a36806c6ec0ce04b3ad40fef', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nThis also adds groovy-victoria-ha to force_deploy which is\nnecessary for cs:ntp.\n\nChange-Id: I78b3a146d2c42ec3d1474ce829de5963e556b8e4\n'}]",0,791194,7e8ea33ce3b07563a36806c6ec0ce04b3ad40fef,14,3,2,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

This also adds groovy-victoria-ha to force_deploy which is
necessary for cs:ntp.

Change-Id: I78b3a146d2c42ec3d1474ce829de5963e556b8e4
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/94/791194/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,acebbb4bb9863b21de491a48571b1757abaade51,batch-update,fa041078-b3eb-11eb-acb1-9b3ca8d6ef14,82eeb69e-5745-11eb-a017-1bac08bb14fb,1,1
openstack%2Fcharm-keystone-ldap~master~I60bb99db99dee0f9d160dcb313bbcda1f788c50a,openstack/charm-keystone-ldap,master,I60bb99db99dee0f9d160dcb313bbcda1f788c50a,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:09:31.000000000,2021-06-15 03:00:04.000000000,2021-06-15 03:00:04.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:09:31.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/42451fde21a9b402cf79075213789b797b8365d5', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I60bb99db99dee0f9d160dcb313bbcda1f788c50a\n'}]",0,791193,42451fde21a9b402cf79075213789b797b8365d5,10,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I60bb99db99dee0f9d160dcb313bbcda1f788c50a
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/93/791193/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,42451fde21a9b402cf79075213789b797b8365d5,batch-update,fa00196e-b3eb-11eb-9d90-376612053a2d,be994d34-64d9-11eb-a39d-a3df33f08520,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id6a1ab51041a3cd870449399b6793c10bbb1fdca,openstack/tripleo-heat-templates,stable/train,Id6a1ab51041a3cd870449399b6793c10bbb1fdca,Unify cinder's volume and backup kolla_config settings,MERGED,2021-06-08 20:46:33.000000000,2021-06-15 02:50:19.000000000,2021-06-15 02:50:19.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 20:46:33.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c2974642622ebd5a76f0f3aaf91b0b68019444f', 'message': ""Unify cinder's volume and backup kolla_config settings\n\nDefine a common set of kolla config_files and permissions for use by\ncinder's volume and backup services (both pcmk and non-pcmk variants).\nPreviously, there were four different sets and some of them contained\nsubtle errors.\n\nChange-Id: Id6a1ab51041a3cd870449399b6793c10bbb1fdca\n(cherry picked from commit 8d38363a784cfaafddda9e4702dc2289324aea4f)\n(cherry picked from commit 51a9a07810b7bfb4a064d43ec1796aa764600477)\n(cherry picked from commit 95835538c9a851eac8f17151234b470892f56d07)\n""}]",0,795413,1c2974642622ebd5a76f0f3aaf91b0b68019444f,8,4,1,21129,,,0,"Unify cinder's volume and backup kolla_config settings

Define a common set of kolla config_files and permissions for use by
cinder's volume and backup services (both pcmk and non-pcmk variants).
Previously, there were four different sets and some of them contained
subtle errors.

Change-Id: Id6a1ab51041a3cd870449399b6793c10bbb1fdca
(cherry picked from commit 8d38363a784cfaafddda9e4702dc2289324aea4f)
(cherry picked from commit 51a9a07810b7bfb4a064d43ec1796aa764600477)
(cherry picked from commit 95835538c9a851eac8f17151234b470892f56d07)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/795413/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml']",5,1c2974642622ebd5a76f0f3aaf91b0b68019444f,cinder-kolla-config," CephClientUserName: default: openstack type: string CephClusterName: type: string default: ceph description: The Ceph cluster name. constraints: - allowed_pattern: ""[a-zA-Z0-9]+"" description: > The Ceph cluster name must be at least 1 character and contain only letters and numbers. cinder_common_kolla_config_files: description: Common kolla config_files for cinder-volume and cinder-backup services value: - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true - source: ""/var/lib/kolla/config_files/src-ceph/"" dest: ""/etc/ceph/"" merge: true preserve_properties: true - source: ""/var/lib/kolla/config_files/src-iscsid/*"" dest: ""/etc/iscsi/"" merge: true preserve_properties: true - source: ""/var/lib/kolla/config_files/src-tls/*"" dest: ""/"" merge: true preserve_properties: true optional: true cinder_common_kolla_permissions: description: Common kolla permissions for cinder-volume and cinder-backup services value: - path: /var/log/cinder owner: cinder:cinder recurse: true - path: str_replace: template: /etc/ceph/CLUSTER.client.USER.keyring params: CLUSTER: {get_param: CephClusterName} USER: {get_param: CephClientUserName} owner: cinder:cinder perm: '0600' - path: /etc/pki/tls/certs/etcd.crt owner: cinder:cinder - path: /etc/pki/tls/private/etcd.key owner: cinder:cinder ",,60,133
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I33daab14f877ca063021ee53424ae180a7ef0966,openstack/tripleo-heat-templates,stable/train,I33daab14f877ca063021ee53424ae180a7ef0966,[train-only] Set leapp parameters to target RHEL release,MERGED,2021-06-02 12:45:07.000000000,2021-06-15 02:48:57.000000000,2021-06-15 02:48:57.000000000,"[{'_account_id': 6816}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-02 12:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc33cf0d01345a8fe0f43e32c4b2e95994267c3b', 'message': '[train-only] Set leapp parameters to target RHEL release\n\nWhen enacting the upgrade from RHEL7 to RHEL8 using leapp,\nthe default behaviour for leapp is to upgrade to the latest\nRHEL version it supports. This is currently 8.4, but will\nend up being RHEL 8.6 in the future.\n\nTo ensure we get the correct target RHEL release, we set the\nUpgradeLeappDevelSkip value during upgrade-prepare. We also\nensure that these valuiies are not set for ceph nodes, because\nthey are not release locked like OSP is.\n\nThis is train-only because it is unique to the RHEL7 to\nRHEL8 upgrade process.\n\nRelated: rhbz#1962365\n\nChange-Id: I33daab14f877ca063021ee53424ae180a7ef0966\n'}, {'number': 2, 'created': '2021-06-09 17:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02413b147050af344d2a42b4a70238795a036eee', 'message': '[train-only] Set leapp parameters to target RHEL release\n\nWhen enacting the upgrade from RHEL7 to RHEL8 using leapp,\nthe default behaviour for leapp is to upgrade to the latest\nRHEL version it supports. This is currently 8.4, but will\nend up being RHEL 8.6 in the future.\n\nTo ensure we get the correct target RHEL release, we set the\nUpgradeLeappDevelSkip value during upgrade-prepare. We also\nensure that these valuiies are not set for ceph nodes, because\nthey are not release locked like OSP is.\n\nThis is train-only because it is unique to the RHEL7 to\nRHEL8 upgrade process.\n\nRelated: rhbz#1962365\n\nChange-Id: I33daab14f877ca063021ee53424ae180a7ef0966\n'}, {'number': 3, 'created': '2021-06-11 13:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1cd4a79970cf6fec2150baee5e2e1ba1a9630c7', 'message': '[train-only] Set leapp parameters to target RHEL release\n\nWhen enacting the upgrade from RHEL7 to RHEL8 using leapp,\nthe default behaviour for leapp is to upgrade to the latest\nRHEL version it supports. This is currently 8.4, but will\nend up being RHEL 8.6 in the future.\n\nTo ensure we get the correct target RHEL release, we set the\nUpgradeLeappDevelSkip value during upgrade-prepare. We also\nensure that these valuiies are not set for ceph nodes, because\nthey are not release locked like OSP is.\n\nThis is train-only because it is unique to the RHEL7 to\nRHEL8 upgrade process.\n\nRelated: rhbz#1962365\n\nChange-Id: I33daab14f877ca063021ee53424ae180a7ef0966\n'}, {'number': 4, 'created': '2021-06-13 21:52:45.000000000', 'files': ['environments/lifecycle/upgrade-converge.yaml', 'environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c20620677a3ac974045a3728fa8849877add86c', 'message': '[train-only] Set leapp parameters to target RHEL release\n\nWhen enacting the upgrade from RHEL7 to RHEL8 using leapp,\nthe default behaviour for leapp is to upgrade to the latest\nRHEL version it supports. This is currently 8.4, but will\nend up being RHEL 8.6 in the future.\n\nTo ensure we get the correct target RHEL release, we set the\nUpgradeLeappDevelSkip value during upgrade-prepare. We also\nensure that these valuiies are not set for ceph nodes, because\nthey are not release locked like OSP is.\n\nThis is train-only because it is unique to the RHEL7 to\nRHEL8 upgrade process.\n\nRelated: rhbz#1962365\n\nChange-Id: I33daab14f877ca063021ee53424ae180a7ef0966\n'}]",4,794212,0c20620677a3ac974045a3728fa8849877add86c,23,8,4,6816,,,0,"[train-only] Set leapp parameters to target RHEL release

When enacting the upgrade from RHEL7 to RHEL8 using leapp,
the default behaviour for leapp is to upgrade to the latest
RHEL version it supports. This is currently 8.4, but will
end up being RHEL 8.6 in the future.

To ensure we get the correct target RHEL release, we set the
UpgradeLeappDevelSkip value during upgrade-prepare. We also
ensure that these valuiies are not set for ceph nodes, because
they are not release locked like OSP is.

This is train-only because it is unique to the RHEL7 to
RHEL8 upgrade process.

Related: rhbz#1962365

Change-Id: I33daab14f877ca063021ee53424ae180a7ef0966
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/794212/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/lifecycle/upgrade-converge.yaml', 'environments/lifecycle/upgrade-prepare.yaml']",2,dc33cf0d01345a8fe0f43e32c4b2e95994267c3b,," UpgradeLeappDevelSkip: ""LEAPP_UNSUPPORTED=1 LEAPP_DEVEL_TARGET_RELEASE=8.4"" CephStorageParameters: UpgradeLeappDevelSkip: """"",,4,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I522951cc7ec6034bb6287dd144a9fc433c0090e0,openstack/tripleo-heat-templates,stable/train,I522951cc7ec6034bb6287dd144a9fc433c0090e0,Make UpgradeLeappDevelSkip per-role,MERGED,2021-06-09 17:39:48.000000000,2021-06-15 02:48:13.000000000,2021-06-15 02:48:13.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-09 17:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a27139d545c1dfa6bd71d6dc7cbd3c810f1a4c6a', 'message': 'Make UpgradeLeappDevelSkip per-role\n\nWhen specific roles are deployed, for example CephStorage,\nthen the parameters for UpgradeLeappDevelSkip are different\nto all other roles.\n\nThis change makes UpgradeLeappDevelSkip a per-role parameter.\n\nRelated-Bug: rhbz#1962365\n\nChange-Id: I522951cc7ec6034bb6287dd144a9fc433c0090e0\n(cherry picked from commit 36877f41bdc5cfefc4a8c20ce387e066a63de41c)\n'}, {'number': 2, 'created': '2021-06-11 13:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/180af7d8f6c2c6cd90d77187fe6a815928ce1595', 'message': 'Make UpgradeLeappDevelSkip per-role\n\nWhen specific roles are deployed, for example CephStorage,\nthen the parameters for UpgradeLeappDevelSkip are different\nto all other roles.\n\nThis change makes UpgradeLeappDevelSkip a per-role parameter.\n\nIncluded in this is the appropriate tagging for the other\nparameters which had the same work done in:\n\n- https://review.opendev.org/779522\n- https://review.opendev.org/774537\n\nRelease notes are included for all of the above too.\n\nRelated-Bug: rhbz#1962365\n\nChange-Id: I522951cc7ec6034bb6287dd144a9fc433c0090e0\n(cherry picked from commit 062666a7b7d4d7d4658abe0f8291bbcbdbf45bb1)\n'}, {'number': 3, 'created': '2021-06-13 21:51:46.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'puppet/role.role.j2.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployed-server/deployed-server.yaml', 'releasenotes/notes/upgradeleapp-per-role-ad2e84e317ec1291.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e206e71f7dd55911adbd0f59dda05efd0c3c512f', 'message': 'Make UpgradeLeappDevelSkip per-role\n\nWhen specific roles are deployed, for example CephStorage,\nthen the parameters for UpgradeLeappDevelSkip are different\nto all other roles.\n\nThis change makes UpgradeLeappDevelSkip a per-role parameter.\n\nIncluded in this is the appropriate tagging for the other\nparameters which had the same work done in:\n\n- https://review.opendev.org/779522\n- https://review.opendev.org/774537\n\nRelease notes are included for all of the above too.\n\nRelated-Bug: rhbz#1962365\n\nChange-Id: I522951cc7ec6034bb6287dd144a9fc433c0090e0\n(cherry picked from commit dcddeb3b914e216622e5b091ab78d97b7133b30e)\n'}]",0,795606,e206e71f7dd55911adbd0f59dda05efd0c3c512f,15,4,3,6816,,,0,"Make UpgradeLeappDevelSkip per-role

When specific roles are deployed, for example CephStorage,
then the parameters for UpgradeLeappDevelSkip are different
to all other roles.

This change makes UpgradeLeappDevelSkip a per-role parameter.

Included in this is the appropriate tagging for the other
parameters which had the same work done in:

- https://review.opendev.org/779522
- https://review.opendev.org/774537

Release notes are included for all of the above too.

Related-Bug: rhbz#1962365

Change-Id: I522951cc7ec6034bb6287dd144a9fc433c0090e0
(cherry picked from commit dcddeb3b914e216622e5b091ab78d97b7133b30e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/795606/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,a27139d545c1dfa6bd71d6dc7cbd3c810f1a4c6a,," upgrade_leapp_devel_skip: UpgradeLeappDevelSkip UpgradeLeappDevelSkip: {get_param: UpgradeLeappDevelSkip} upgrade_leapp_devel_skip: {get_attr: [RoleParametersValue, value, 'upgrade_leapp_devel_skip']}", upgrade_leapp_devel_skip: {get_param: UpgradeLeappDevelSkip},3,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id3b2afee89be1fdf3008cfd53906766d94c00549,openstack/tripleo-heat-templates,stable/train,Id3b2afee89be1fdf3008cfd53906766d94c00549,Bump ovs and ovn versions to 2.15 for FFWD.,MERGED,2021-06-10 14:11:32.000000000,2021-06-15 02:48:06.000000000,2021-06-15 02:48:06.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-10 14:11:32.000000000', 'files': ['environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/79f77a66696d464a26260b88191c6c9e31108639', 'message': 'Bump ovs and ovn versions to 2.15 for FFWD.\n\nA new openvswitch and ovn version has been released, 2.15. As during the\nleapp upgrade we tell leapp which version of ovs and ovn to install in order\nto safe some restarts we now need to update the version in the\nUpgradeLeappToInstall Heat parameter.\n\n(cherry picked from commit c214e99b224e85a2059c2849aa5b356c1cb4f3c9)\nResolves: rhbz#1966476\nChange-Id: Id3b2afee89be1fdf3008cfd53906766d94c00549\n'}]",0,795786,79f77a66696d464a26260b88191c6c9e31108639,15,6,1,26343,,,0,"Bump ovs and ovn versions to 2.15 for FFWD.

A new openvswitch and ovn version has been released, 2.15. As during the
leapp upgrade we tell leapp which version of ovs and ovn to install in order
to safe some restarts we now need to update the version in the
UpgradeLeappToInstall Heat parameter.

(cherry picked from commit c214e99b224e85a2059c2849aa5b356c1cb4f3c9)
Resolves: rhbz#1966476
Change-Id: Id3b2afee89be1fdf3008cfd53906766d94c00549
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/795786/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/lifecycle/upgrade-prepare.yaml'],1,79f77a66696d464a26260b88191c6c9e31108639,," UpgradeLeappToInstall: ['openvswitch2.15','ovn2.15']"," UpgradeLeappToInstall: ['openvswitch2.13','ovn2.13']",1,1
openstack%2Fheat~master~Ic0ee66ef186cd5faa317513e95e6068cf1519089,openstack/heat,master,Ic0ee66ef186cd5faa317513e95e6068cf1519089,Remove unused and broken tests,ABANDONED,2021-06-14 05:57:26.000000000,2021-06-15 02:40:51.000000000,,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 05:57:26.000000000', 'files': ['heat_integrationtests/functional/test_notifications.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/dbc620588fb104aca8d252954d530b0d99c52409', 'message': ""Remove unused and broken tests\n\nThe notifications test has been broken\nfor some time. Since we are always skipping this\nand it is broken. Let's remove it to keep the repo\nclean and ensure all of our functional tests are\nrelevant to our needs and working.\n\nStory: 2008968\nTask: 42608\n\nChange-Id: Ic0ee66ef186cd5faa317513e95e6068cf1519089\n""}]",0,796233,dbc620588fb104aca8d252954d530b0d99c52409,9,2,1,30073,,,0,"Remove unused and broken tests

The notifications test has been broken
for some time. Since we are always skipping this
and it is broken. Let's remove it to keep the repo
clean and ensure all of our functional tests are
relevant to our needs and working.

Story: 2008968
Task: 42608

Change-Id: Ic0ee66ef186cd5faa317513e95e6068cf1519089
",git fetch https://review.opendev.org/openstack/heat refs/changes/33/796233/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_integrationtests/functional/test_notifications.py'],1,dbc620588fb104aca8d252954d530b0d99c52409,remove-unused-test,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import kombu from oslo_config import cfg from oslo_messaging._drivers import common from oslo_messaging import transport import requests from heat_integrationtests.common import test from heat_integrationtests.functional import functional_base BASIC_NOTIFICATIONS = [ 'orchestration.stack.create.start', 'orchestration.stack.create.end', 'orchestration.stack.update.start', 'orchestration.stack.update.end', 'orchestration.stack.suspend.start', 'orchestration.stack.suspend.end', 'orchestration.stack.resume.start', 'orchestration.stack.resume.end', 'orchestration.stack.delete.start', 'orchestration.stack.delete.end' ] ASG_NOTIFICATIONS = [ 'orchestration.autoscaling.start', 'orchestration.autoscaling.end' ] def get_url(conf): conf = conf.oslo_messaging_rabbit return 'amqp://%s:%s@%s:%s/' % (conf.rabbit_userid, conf.rabbit_password, conf.rabbit_host, conf.rabbit_port) class NotificationHandler(object): def __init__(self, stack_id, events=None): self._notifications = [] self.stack_id = stack_id self.events = events def process_message(self, body, message): notification = common.deserialize_msg(body) if notification['payload']['stack_name'] == self.stack_id: if self.events is not None: if notification['event_type'] in self.events: self.notifications.append(notification['event_type']) else: self.notifications.append(notification['event_type']) message.ack() def clear(self): self._notifications = [] @property def notifications(self): return self._notifications class NotificationTest(functional_base.FunctionalTestsBase): basic_template = ''' heat_template_version: 2013-05-23 resources: random1: type: OS::Heat::RandomString ''' update_basic_template = ''' heat_template_version: 2013-05-23 resources: random1: type: OS::Heat::RandomString random2: type: OS::Heat::RandomString ''' asg_template = ''' heat_template_version: 2013-05-23 resources: asg: type: OS::Heat::AutoScalingGroup properties: resource: type: OS::Heat::RandomString min_size: 1 desired_capacity: 2 max_size: 3 scale_up_policy: type: OS::Heat::ScalingPolicy properties: adjustment_type: change_in_capacity auto_scaling_group_id: {get_resource: asg} cooldown: 0 scaling_adjustment: 1 scale_down_policy: type: OS::Heat::ScalingPolicy properties: adjustment_type: change_in_capacity auto_scaling_group_id: {get_resource: asg} cooldown: 0 scaling_adjustment: '-1' outputs: scale_up_url: value: {get_attr: [scale_up_policy, alarm_url]} scale_dn_url: value: {get_attr: [scale_down_policy, alarm_url]} ''' def setUp(self): super(NotificationTest, self).setUp() self.exchange = kombu.Exchange('heat', 'topic', durable=False) queue = kombu.Queue(exchange=self.exchange, routing_key='notifications.info', exclusive=True) self.conn = kombu.Connection(get_url( transport.get_transport(cfg.CONF).conf)) self.ch = self.conn.channel() self.queue = queue(self.ch) self.queue.declare() def consume_events(self, handler, count): self.conn.drain_events() return len(handler.notifications) == count def test_basic_notifications(self): # disable cleanup so we can call _stack_delete() directly. stack_identifier = self.stack_create(template=self.basic_template, enable_cleanup=False) self.update_stack(stack_identifier, template=self.update_basic_template) self.stack_suspend(stack_identifier) self.stack_resume(stack_identifier) self._stack_delete(stack_identifier) handler = NotificationHandler(stack_identifier.split('/')[0]) with self.conn.Consumer(self.queue, callbacks=[handler.process_message], auto_declare=False): try: while True: self.conn.drain_events(timeout=1) except Exception: pass for n in BASIC_NOTIFICATIONS: self.assertIn(n, handler.notifications) def test_asg_notifications(self): stack_identifier = self.stack_create(template=self.asg_template) for output in self.client.stacks.get(stack_identifier).outputs: if output['output_key'] == 'scale_dn_url': scale_down_url = output['output_value'] else: scale_up_url = output['output_value'] notifications = [] handler = NotificationHandler(stack_identifier.split('/')[0], ASG_NOTIFICATIONS) with self.conn.Consumer(self.queue, callbacks=[handler.process_message], auto_declare=False): requests.post(scale_up_url, verify=self.verify_cert) self.assertTrue( test.call_until_true(20, 0, self.consume_events, handler, 2)) notifications += handler.notifications handler.clear() requests.post(scale_down_url, verify=self.verify_cert) self.assertTrue( test.call_until_true(20, 0, self.consume_events, handler, 2)) notifications += handler.notifications self.assertEqual(2, notifications.count(ASG_NOTIFICATIONS[0])) self.assertEqual(2, notifications.count(ASG_NOTIFICATIONS[1])) ",0,194
openstack%2Fopenstack-ansible-galera_server~master~I6def8dd1708e475d028d13a390c05f51e1f76515,openstack/openstack-ansible-galera_server,master,I6def8dd1708e475d028d13a390c05f51e1f76515,Ensure mariadb service is enabled,MERGED,2021-06-10 15:54:56.000000000,2021-06-15 02:12:02.000000000,2021-06-15 02:10:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-10 15:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/8b0a6e31103fd4a64c5e60199ae153a1f963a5d6', 'message': 'Ensure mariadb service is enabled\n\nIt appears that inside CentOS 8 LXC containers, MariaDB\nafter upgrade is not being enabled.\nThis happens, because ""Reload the systemd daemon"" is not\nbeing triggered during upgrade, while during upgrade\nwe basically re-install mariadb package along with systemd units.\n\nChange-Id: I6def8dd1708e475d028d13a390c05f51e1f76515\n'}, {'number': 2, 'created': '2021-06-10 16:09:11.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/d0e268f739895ef26241ab9d71c71e0f0c1041b3', 'message': 'Ensure mariadb service is enabled\n\nIt appears that inside CentOS 8 LXC containers, MariaDB\nafter upgrade is not being enabled.\nThis happens, because ""Reload the systemd daemon"" is not\nbeing triggered during upgrade, while during upgrade\nwe basically re-install mariadb package along with systemd units.\n\nChange-Id: I6def8dd1708e475d028d13a390c05f51e1f76515\n'}]",0,795839,d0e268f739895ef26241ab9d71c71e0f0c1041b3,9,3,2,28619,,,0,"Ensure mariadb service is enabled

It appears that inside CentOS 8 LXC containers, MariaDB
after upgrade is not being enabled.
This happens, because ""Reload the systemd daemon"" is not
being triggered during upgrade, while during upgrade
we basically re-install mariadb package along with systemd units.

Change-Id: I6def8dd1708e475d028d13a390c05f51e1f76515
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/39/795839/2 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,8b0a6e31103fd4a64c5e60199ae153a1f963a5d6,, enabled: yes,,1,0
openstack%2Fpython-tripleoclient~master~I0c6d4e04891cefcc13a5f4294492cbdc76e1f3c3,openstack/python-tripleoclient,master,I0c6d4e04891cefcc13a5f4294492cbdc76e1f3c3,Adding EndpointNotFound exception during scale_down,MERGED,2021-06-07 14:57:19.000000000,2021-06-15 01:56:20.000000000,2021-06-15 01:54:38.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 11655}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-07 14:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6862b55ec43085c6eaf7654359a080d1c1a6259f', 'message': 'Adding EndpointNotFound exception during scale_down\n\nIn I24612700bcbd3e17685ae7a33a27f38a2055a0fb we added specific\nexceptions but in novaless deployment, we hit a EndpointNotFound\nexception\n\nChange-Id: I0c6d4e04891cefcc13a5f4294492cbdc76e1f3c3\n'}, {'number': 2, 'created': '2021-06-07 17:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/16bc121d9e85e5cc1777b6e06cdddce4266ef13a', 'message': 'Adding EndpointNotFound exception during scale_down\n\nIn I24612700bcbd3e17685ae7a33a27f38a2055a0fb we added specific\nexceptions but in novaless deployment, we hit a EndpointNotFound\nexception\n\nChange-Id: I0c6d4e04891cefcc13a5f4294492cbdc76e1f3c3\n'}, {'number': 3, 'created': '2021-06-08 13:34:35.000000000', 'files': ['tripleoclient/workflows/scale.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/864eae151b6faa7670e8f3951744b470699a23b0', 'message': 'Adding EndpointNotFound exception during scale_down\n\nIn I24612700bcbd3e17685ae7a33a27f38a2055a0fb we added specific\nexceptions but in novaless deployment, we hit a EndpointNotFound\nexception\n\nChange-Id: I0c6d4e04891cefcc13a5f4294492cbdc76e1f3c3\n'}]",2,795121,864eae151b6faa7670e8f3951744b470699a23b0,18,12,3,27419,,,0,"Adding EndpointNotFound exception during scale_down

In I24612700bcbd3e17685ae7a33a27f38a2055a0fb we added specific
exceptions but in novaless deployment, we hit a EndpointNotFound
exception

Change-Id: I0c6d4e04891cefcc13a5f4294492cbdc76e1f3c3
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/21/795121/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/scale.py'],1,6862b55ec43085c6eaf7654359a080d1c1a6259f,,from keystoneauth1.exceptions.catalog import EndpointNotFound except EndpointNotFound:," except (KeyError, ValueError, AttributeError):",2,1
openstack%2Ftripleo-validations~master~I88ac702a9eedc53fdc88a2dbb5422b94322b68b4,openstack/tripleo-validations,master,I88ac702a9eedc53fdc88a2dbb5422b94322b68b4,Allow comments in variable files to be rendered in docs,MERGED,2021-06-08 09:23:10.000000000,2021-06-15 01:56:18.000000000,2021-06-15 01:54:27.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-08 09:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/991fda9a154f0d8752981460ffb0414f1504ed9e', 'message': ""Allow comments in variable files to be rendered in docs\n\nThis change will allow all comments in our variable files to be rendered\nnormally within our documentation. This will allow folks reading our\ndocumentation to benefit from information we may put in the various\nfiles.\n\nThis patch adds ruamel.yaml as new dependency for building documentation\nand we won't need to include a README.md file into the documentation\nrole index anymore.\n\nUpstream-rpm-master: https://review.rdoproject.org/r/c/openstack/tripleo-validations-distgit/+/34031\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I88ac702a9eedc53fdc88a2dbb5422b94322b68b4\n""}, {'number': 2, 'created': '2021-06-08 10:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/42e2c6945688d61d25c13f0d50944d12bfc1ad3a', 'message': ""Allow comments in variable files to be rendered in docs\n\nThis change will allow all comments in our variable files to be rendered\nnormally within our documentation. This will allow folks reading our\ndocumentation to benefit from information we may put in the various\nfiles.\n\nThis patch adds ruamel.yaml as new dependency for building documentation\nand we won't need to include a README.md file into the documentation\nrole index anymore.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/795270\nUpstream-rpm-master: https://review.rdoproject.org/r/c/openstack/tripleo-validations-distgit/+/34031\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I88ac702a9eedc53fdc88a2dbb5422b94322b68b4\n""}, {'number': 3, 'created': '2021-06-09 09:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3919b70b9a5d05e6776be39bd1810b9a1c8e8faa', 'message': ""Allow comments in variable files to be rendered in docs\n\nThis change will allow all comments in our variable files to be rendered\nnormally within our documentation. This will allow folks reading our\ndocumentation to benefit from information we may put in the various\nfiles.\n\nThis patch adds ruamel.yaml as new dependency for building documentation\nand we won't need to include a README.md file into the documentation\nrole index anymore.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/795270\nUpstream-rpm-master: https://review.rdoproject.org/r/c/openstack/tripleo-validations-distgit/+/34031\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I88ac702a9eedc53fdc88a2dbb5422b94322b68b4\n""}, {'number': 4, 'created': '2021-06-09 10:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4827148272a357c6b321d06aa335ec9dbd7d7ebb', 'message': ""Allow comments in variable files to be rendered in docs\n\nThis change will allow all comments in our variable files to be rendered\nnormally within our documentation. This will allow folks reading our\ndocumentation to benefit from information we may put in the various\nfiles.\n\nThis patch adds ruamel.yaml as new dependency for building documentation\nand we won't need to include a README.md file into the documentation\nrole index anymore.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/795270\nUpstream-rpm-master: https://review.rdoproject.org/r/c/openstack/tripleo-validations-distgit/+/34031\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I88ac702a9eedc53fdc88a2dbb5422b94322b68b4\n""}, {'number': 5, 'created': '2021-06-10 11:39:01.000000000', 'files': ['doc/source/_exts/ansible-autodoc.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/933d98402fe839b4033af71341ec56c3cf15c3fc', 'message': ""Allow comments in variable files to be rendered in docs\n\nThis change will allow all comments in our variable files to be rendered\nnormally within our documentation. This will allow folks reading our\ndocumentation to benefit from information we may put in the various\nfiles.\n\nThis patch adds ruamel.yaml as new dependency for building documentation\nand we won't need to include a README.md file into the documentation\nrole index anymore.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/795270\nUpstream-rpm-master: https://review.rdoproject.org/r/c/openstack/tripleo-validations-distgit/+/34031\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I88ac702a9eedc53fdc88a2dbb5422b94322b68b4\n""}]",6,795261,933d98402fe839b4033af71341ec56c3cf15c3fc,31,9,5,11491,,,0,"Allow comments in variable files to be rendered in docs

This change will allow all comments in our variable files to be rendered
normally within our documentation. This will allow folks reading our
documentation to benefit from information we may put in the various
files.

This patch adds ruamel.yaml as new dependency for building documentation
and we won't need to include a README.md file into the documentation
role index anymore.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/795270
Upstream-rpm-master: https://review.rdoproject.org/r/c/openstack/tripleo-validations-distgit/+/34031

Co-Authored-By: Kevin Carter <kecarter@redhat.com>

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I88ac702a9eedc53fdc88a2dbb5422b94322b68b4
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/61/795261/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_exts/ansible-autodoc.py', 'doc/requirements.txt']",2,991fda9a154f0d8752981460ffb0414f1504ed9e,VALIDATION_DEVELOPMENT_WORKFLOW,ruamel.yaml # MIT,,169,136
openstack%2Ftripleo-common~stable%2Fvictoria~Ibaad817f52930380e659180fd8c52dca131cd4f8,openstack/tripleo-common,stable/victoria,Ibaad817f52930380e659180fd8c52dca131cd4f8,Move rabbitmq healthcheck to something more modern,MERGED,2021-06-12 15:47:57.000000000,2021-06-15 01:56:06.000000000,2021-06-15 01:54:21.000000000,"[{'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-12 15:47:57.000000000', 'files': ['healthcheck/rabbitmq'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f7dabb4625322cbe5b01cb89931faa56f72d0e8e', 'message': 'Move rabbitmq healthcheck to something more modern\n\nRabbitmq healthcheck when used against newer rabbitmq versions (seen at\nleast with 3.8.16) is using old interface ""rabbitmqctl\nnode_health_check"" which is deprecated and logs the following:\n\n  2021-06-08 18:25:55.014 [warning] <0.5504.0> rabbitmqctl node_health_check and its HTTP API counterpart are\n  DEPRECATED. See https://www.rabbitmq.com/monitoring.html#health-checks for replacement options.\n\nLet\'s switch to ""rabbitmq-diagnostics check_running"" which should be a\nsufficiently solid check without being too complex/heavy on rabbit\nitself.\n\nChange-Id: Ibaad817f52930380e659180fd8c52dca131cd4f8\nCloses-Bug: #1931298\n(cherry picked from commit aaa981c9ebc4d3fb517286317f674427e3235610)\n(cherry picked from commit 62344e944ea9ffa082931dac0bcdccd92320da59)\n'}]",0,796080,f7dabb4625322cbe5b01cb89931faa56f72d0e8e,12,3,1,20172,,,0,"Move rabbitmq healthcheck to something more modern

Rabbitmq healthcheck when used against newer rabbitmq versions (seen at
least with 3.8.16) is using old interface ""rabbitmqctl
node_health_check"" which is deprecated and logs the following:

  2021-06-08 18:25:55.014 [warning] <0.5504.0> rabbitmqctl node_health_check and its HTTP API counterpart are
  DEPRECATED. See https://www.rabbitmq.com/monitoring.html#health-checks for replacement options.

Let's switch to ""rabbitmq-diagnostics check_running"" which should be a
sufficiently solid check without being too complex/heavy on rabbit
itself.

Change-Id: Ibaad817f52930380e659180fd8c52dca131cd4f8
Closes-Bug: #1931298
(cherry picked from commit aaa981c9ebc4d3fb517286317f674427e3235610)
(cherry picked from commit 62344e944ea9ffa082931dac0bcdccd92320da59)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/80/796080/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/rabbitmq'],1,f7dabb4625322cbe5b01cb89931faa56f72d0e8e,rabbitmq-healthcheck-stable/wallaby-stable/victoria,rabbitmq-diagnostics check_running || exit 1,rabbitmqctl node_health_check || exit 1,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592,openstack/tripleo-heat-templates,stable/train,I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592,Correct metrics_qdr logging path and regex parsing,MERGED,2021-06-04 15:23:55.000000000,2021-06-15 01:54:51.000000000,2021-06-15 01:54:51.000000000,"[{'_account_id': 7294}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 15:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73f40e2277c4e274144416c92ae317daff00ec0b', 'message': 'Correct metrics_qdr logging path and regex parsing\n\nChange-Id: I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592\n(cherry picked from commit 1785dabb83659aa6c2f331769a0214f813ed9c53)\n(cherry picked from commit ad5ab191e49a2b7344031941df117484b6e05064)\n'}, {'number': 2, 'created': '2021-06-04 15:24:29.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b3af209ce536a6cab8f66cbf6386521df628f36', 'message': 'Correct metrics_qdr logging path and regex parsing\n\nChange-Id: I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592\n(cherry picked from commit ad5ab191e49a2b7344031941df117484b6e05064)\n'}]",0,794850,4b3af209ce536a6cab8f66cbf6386521df628f36,18,4,2,31510,,,0,"Correct metrics_qdr logging path and regex parsing

Change-Id: I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592
(cherry picked from commit ad5ab191e49a2b7344031941df117484b6e05064)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/794850/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml']",2,73f40e2277c4e274144416c92ae317daff00ec0b,metrics-qdr-rex-correction-train, file: /var/log/containers/metrics_qdr/metrics_qdr.log startmsg.regex: '^[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]+ \\+[0-9]+)? [A-Z]+ \\([a-z]+\\) '," file: /var/log/containers/qdrouterd/metrics_qdr.log startmsg.regex: ""^[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]+ \\+[0-9]+)? [A-Z]+ \\([a-z]+\\) """,3,3
openstack%2Fpuppet-tripleo~stable%2Fwallaby~Ia9c328a51d7f5dab933b096dd7a0792f2df2210e,openstack/puppet-tripleo,stable/wallaby,Ia9c328a51d7f5dab933b096dd7a0792f2df2210e,Add pcmk_host_list stonith-fence_compute-fence-nova,MERGED,2021-06-12 15:47:41.000000000,2021-06-15 01:54:24.000000000,2021-06-15 01:54:24.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-12 15:47:41.000000000', 'files': ['manifests/profile/base/pacemaker/instance_ha.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ebd5679d116a5f85e67429ecee9ee6f90def5b1a', 'message': 'Add pcmk_host_list stonith-fence_compute-fence-nova\n\nWith this change we explicitely tell the stonith-fence_compute-fence-nova\nresource which pacemaker nodes it is allowed to fence.\n\nThis is a good idea in general as it makes things more explicit and\nwe do not rely on other pcmk mechanisms (stonith querying the list\nof nodes returned by the fence agent) to determine which nodes it\nis allowed to fence.\n\nTested with this change and the stonith resource is correctly set:\n[root@controller-0 ~]# pcs stonith config stonith-fence_compute-fence-nova\n Resource: stonith-fence_compute-fence-nova (class=stonith type=fence_compute)\n  Attributes: auth_url=https://overcloud.redhat.local:13000 domain=redhat.local login=admin passwd=foo pcmk_host_list=compute-0,compute-1 project_domain=Default record_only=1 region_name=regionOne tenant_name=admin user_domain=Default\n  Meta Attrs: provides=unfencing\n  Operations: monitor interval=60s (stonith-fence_compute-fence-nova-monitor-interval-60s)\n....\n\nChange-Id: Ia9c328a51d7f5dab933b096dd7a0792f2df2210e\n(cherry picked from commit 781d197a342c6c3ee82f951483930f3d66673b4c)\n'}]",0,796079,ebd5679d116a5f85e67429ecee9ee6f90def5b1a,7,3,1,20172,,,0,"Add pcmk_host_list stonith-fence_compute-fence-nova

With this change we explicitely tell the stonith-fence_compute-fence-nova
resource which pacemaker nodes it is allowed to fence.

This is a good idea in general as it makes things more explicit and
we do not rely on other pcmk mechanisms (stonith querying the list
of nodes returned by the fence agent) to determine which nodes it
is allowed to fence.

Tested with this change and the stonith resource is correctly set:
[root@controller-0 ~]# pcs stonith config stonith-fence_compute-fence-nova
 Resource: stonith-fence_compute-fence-nova (class=stonith type=fence_compute)
  Attributes: auth_url=https://overcloud.redhat.local:13000 domain=redhat.local login=admin passwd=foo pcmk_host_list=compute-0,compute-1 project_domain=Default record_only=1 region_name=regionOne tenant_name=admin user_domain=Default
  Meta Attrs: provides=unfencing
  Operations: monitor interval=60s (stonith-fence_compute-fence-nova-monitor-interval-60s)
....

Change-Id: Ia9c328a51d7f5dab933b096dd7a0792f2df2210e
(cherry picked from commit 781d197a342c6c3ee82f951483930f3d66673b4c)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/79/796079/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker/instance_ha.pp'],1,ebd5679d116a5f85e67429ecee9ee6f90def5b1a,iha-hostlist-stable/wallaby," # This passes the explicit host list of compute nodes that the fence_compute stonith device # is in charge of $compute_list = downcase(join(any2array(hiera('compute_instanceha_short_node_names', '')), ',')) pcmk_host_list => $compute_list,"," pcmk_host_list => '',",4,1
openstack%2Fpuppet-cloudkitty~master~I13ddc7d2f42c6c2f1941da9ffd05310aeaec875e,openstack/puppet-cloudkitty,master,I13ddc7d2f42c6c2f1941da9ffd05310aeaec875e,Drop Fedora support,ABANDONED,2021-06-12 07:45:20.000000000,2021-06-15 01:46:49.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-12 07:45:20.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-4a0a46bc40e02b35.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/ba78ef8d0a3338ebe5d39652dc331b7a41699adb', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I13ddc7d2f42c6c2f1941da9ffd05310aeaec875e\n""}]",0,796112,ba78ef8d0a3338ebe5d39652dc331b7a41699adb,4,2,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I13ddc7d2f42c6c2f1941da9ffd05310aeaec875e
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/12/796112/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-4a0a46bc40e02b35.yaml']",2,ba78ef8d0a3338ebe5d39652dc331b7a41699adb,,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fcharm-neutron-openvswitch~master~I341a8359263235900a1da82b85c59596aedb855e,openstack/charm-neutron-openvswitch,master,I341a8359263235900a1da82b85c59596aedb855e,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:47:09.000000000,2021-06-15 01:38:46.000000000,2021-06-15 01:38:46.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:47:09.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/3aa1f3cc3b2559a6e3ef8deee5eff462167baf2e', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I341a8359263235900a1da82b85c59596aedb855e\n'}]",0,791167,3aa1f3cc3b2559a6e3ef8deee5eff462167baf2e,13,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I341a8359263235900a1da82b85c59596aedb855e
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/67/791167/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/fetch/ubuntu.py']",6,3aa1f3cc3b2559a6e3ef8deee5eff462167baf2e,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Fos-ken~master~I471ecb2936ca5e45215b4676ae36dd96f68a83b9,openstack/os-ken,master,I471ecb2936ca5e45215b4676ae36dd96f68a83b9,Enhance os-ken to support Nicira PacketIn2,ABANDONED,2021-06-11 09:55:02.000000000,2021-06-15 01:18:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-11 09:55:02.000000000', 'files': ['os_ken/ofproto/ofproto_v1_3_parser.py', 'os_ken/ofproto/ofproto_v1_3.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/dcd788330d454e6b1009ebcf1305914ed26c77ec', 'message': ""Enhance os-ken to support Nicira PacketIn2\n\nneutron ovs agent has to handle advanced packet_in\nwith custom userdata which is necessary to openflow-based\nfloating IP implementation, but current os-ken doesn't\nhave such infrastructure.\n\nThis story is to enhance os-ken in order that neutron ovs\nagent can act as an advanced SDN controller to handle\nadvanced packet_in.\n\nStory: #2008964\nTask: #42600\n\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\n\nChange-Id: I4f993be5dd4a5f48396c4be152da5b61ea92392f\n\nChange-Id: I471ecb2936ca5e45215b4676ae36dd96f68a83b9\n""}]",0,795975,dcd788330d454e6b1009ebcf1305914ed26c77ec,3,1,1,30454,,,0,"Enhance os-ken to support Nicira PacketIn2

neutron ovs agent has to handle advanced packet_in
with custom userdata which is necessary to openflow-based
floating IP implementation, but current os-ken doesn't
have such infrastructure.

This story is to enhance os-ken in order that neutron ovs
agent can act as an advanced SDN controller to handle
advanced packet_in.

Story: #2008964
Task: #42600

Signed-off-by: Yi Yang <yangyi01@inspur.com>

Change-Id: I4f993be5dd4a5f48396c4be152da5b61ea92392f

Change-Id: I471ecb2936ca5e45215b4676ae36dd96f68a83b9
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/75/795975/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_ken/ofproto/ofproto_v1_3_parser.py', 'os_ken/ofproto/ofproto_v1_3.py']",2,dcd788330d454e6b1009ebcf1305914ed26c77ec,,"# nx_packet_in2_prop_type NXPINT_PACKET = 0 NXPINT_FULL_LEN = 1 NXPINT_BUFFER_ID = 2 NXPINT_TABLE_ID = 3 NXPINT_COOKIE = 4 NXPINT_REASON = 5 NXPINT_METADATA = 6 NXPINT_USERDATA = 7 NXPINT_CONTINUATION = 8 # enum nxt_exp_type NXT_ET_SET_PACKET_IN_FORMAT = 16 NXT_ET_PACKET_IN2 = 30 # Nicira extension: set_packet_in_format NXT_SET_PACKET_IN_FORMAT_PACK_STR = '!I' NXT_SET_PACKET_IN_FORMAT_SIZE = 4 # Support for matching/setting xreg0-7 oxm_fields.PacketRegs('xreg0', 0, type_desc.Int8), oxm_fields.PacketRegs('xreg1', 1, type_desc.Int8), oxm_fields.PacketRegs('xreg2', 2, type_desc.Int8), oxm_fields.PacketRegs('xreg3', 3, type_desc.Int8), oxm_fields.PacketRegs('xreg4', 4, type_desc.Int8), oxm_fields.PacketRegs('xreg5', 5, type_desc.Int8), oxm_fields.PacketRegs('xreg6', 6, type_desc.Int8), oxm_fields.PacketRegs('xreg7', 7, type_desc.Int8),",,265,0
openstack%2Fos-ken~master~Ifc7372974319c4bc3e9955c5732338e090e2e49e,openstack/os-ken,master,Ifc7372974319c4bc3e9955c5732338e090e2e49e,Enhance os-ken to support Nicira PacketIn2,ABANDONED,2021-06-11 09:58:20.000000000,2021-06-15 01:15:35.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 09:58:20.000000000', 'files': ['os_ken/ofproto/ofproto_v1_3_parser.py', 'os_ken/ofproto/ofproto_v1_3.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/3e093685c89fe8c17fdb546b702d5d6078311941', 'message': ""Enhance os-ken to support Nicira PacketIn2\n\nneutron ovs agent has to handle advanced packet_in\nwith custom userdata which is necessary to openflow-based\nfloating IP implementation, but current os-ken doesn't\nhave such infrastructure.\n\nThis story is to enhance os-ken in order that neutron ovs\nagent can act as an advanced SDN controller to handle\nadvanced packet_in.\n\nStory: #2008964\nTask: #42600\n\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\n\nChange-Id: Ifc7372974319c4bc3e9955c5732338e090e2e49e\n""}]",0,795976,3e093685c89fe8c17fdb546b702d5d6078311941,3,2,1,30454,,,0,"Enhance os-ken to support Nicira PacketIn2

neutron ovs agent has to handle advanced packet_in
with custom userdata which is necessary to openflow-based
floating IP implementation, but current os-ken doesn't
have such infrastructure.

This story is to enhance os-ken in order that neutron ovs
agent can act as an advanced SDN controller to handle
advanced packet_in.

Story: #2008964
Task: #42600

Signed-off-by: Yi Yang <yangyi01@inspur.com>

Change-Id: Ifc7372974319c4bc3e9955c5732338e090e2e49e
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/76/795976/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_ken/ofproto/ofproto_v1_3_parser.py', 'os_ken/ofproto/ofproto_v1_3.py']",2,3e093685c89fe8c17fdb546b702d5d6078311941,,"# nx_packet_in2_prop_type NXPINT_PACKET = 0 NXPINT_FULL_LEN = 1 NXPINT_BUFFER_ID = 2 NXPINT_TABLE_ID = 3 NXPINT_COOKIE = 4 NXPINT_REASON = 5 NXPINT_METADATA = 6 NXPINT_USERDATA = 7 NXPINT_CONTINUATION = 8 # enum nxt_exp_type NXT_ET_SET_PACKET_IN_FORMAT = 16 NXT_ET_PACKET_IN2 = 30 # Nicira extension: set_packet_in_format NXT_SET_PACKET_IN_FORMAT_PACK_STR = '!I' NXT_SET_PACKET_IN_FORMAT_SIZE = 4 # Support for matching/setting xreg0-7 oxm_fields.PacketRegs('xreg0', 0, type_desc.Int8), oxm_fields.PacketRegs('xreg1', 1, type_desc.Int8), oxm_fields.PacketRegs('xreg2', 2, type_desc.Int8), oxm_fields.PacketRegs('xreg3', 3, type_desc.Int8), oxm_fields.PacketRegs('xreg4', 4, type_desc.Int8), oxm_fields.PacketRegs('xreg5', 5, type_desc.Int8), oxm_fields.PacketRegs('xreg6', 6, type_desc.Int8), oxm_fields.PacketRegs('xreg7', 7, type_desc.Int8),",,265,0
openstack%2Ftempest~master~I4be010dae9b83549b970b117b389626caa2806a0,openstack/tempest,master,I4be010dae9b83549b970b117b389626caa2806a0,Add volume services schema for microversion 3.7,MERGED,2020-09-08 03:30:21.000000000,2021-06-15 01:10:12.000000000,2021-06-15 01:08:45.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-08 03:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ff925c0f9c9e479273289f7cf0eaac4f63c7f54d', 'message': 'Add volume services schema for microversion 3.7\n\nIn volume microversion 3.7, optional attribute cluster is added in the\nresponse body of list_services, so this is to add volume services\nschema for volume microversion 3.7.\n\nChange-Id: I4be010dae9b83549b970b117b389626caa2806a0\npartially-implements: blueprint fix-microversion-gap\n'}, {'number': 2, 'created': '2020-09-08 06:18:23.000000000', 'files': ['tempest/lib/api_schema/response/volume/v3_7/__init__.py', 'tempest/lib/services/volume/base_client.py', 'tempest/lib/api_schema/response/volume/v3_7/services.py', 'tempest/lib/api_schema/response/volume/services.py', 'tempest/lib/services/volume/v3/services_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e75f8ca33c302ef306512bb65ea84fd4200a25f3', 'message': 'Add volume services schema for microversion 3.7\n\nIn volume microversion 3.7, optional attribute cluster is added in the\nresponse body of list_services, so this is to add volume services\nschema for volume microversion 3.7.\n\nChange-Id: I4be010dae9b83549b970b117b389626caa2806a0\npartially-implements: blueprint fix-microversion-gap\n'}]",0,750269,e75f8ca33c302ef306512bb65ea84fd4200a25f3,9,2,2,20190,,,0,"Add volume services schema for microversion 3.7

In volume microversion 3.7, optional attribute cluster is added in the
response body of list_services, so this is to add volume services
schema for volume microversion 3.7.

Change-Id: I4be010dae9b83549b970b117b389626caa2806a0
partially-implements: blueprint fix-microversion-gap
",git fetch https://review.opendev.org/openstack/tempest refs/changes/69/750269/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/api_schema/response/volume/v3_7/__init__.py', 'tempest/lib/api_schema/response/volume/v3_7/services.py', 'tempest/lib/services/volume/base_client.py', 'tempest/lib/api_schema/response/volume/services.py', 'tempest/lib/services/volume/v3/services_client.py']",5,ff925c0f9c9e479273289f7cf0eaac4f63c7f54d,bp/fix-microversion-gap,"from tempest.lib.api_schema.response.volume.v3_7 import services as schemav37from tempest.lib.services.volume import base_client class ServicesClient(base_client.BaseClient): schema_versions_info = [ {'min': None, 'max': '3.6', 'schema': schema}, {'min': '3.7', 'max': None, 'schema': schemav37}] schema = self.get_schema(self.schema_versions_info)", class ServicesClient(rest_client.RestClient):,80,5
openstack%2Frequirements~stable%2Fwallaby~I3f3052159d1498be27f22e1b5db1ccd69a161c64,openstack/requirements,stable/wallaby,I3f3052159d1498be27f22e1b5db1ccd69a161c64,update constraint for sushy to new release 3.7.2,MERGED,2021-06-14 16:45:15.000000000,2021-06-15 01:08:53.000000000,2021-06-15 01:08:53.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 16:45:15.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/aee7a4b34ee91065581ae20ba81d30920bb18769', 'message': 'update constraint for sushy to new release 3.7.2\n\nmeta: version: 3.7.2\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Commit: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Change-Id: Ifd8fcc669a7c2761b1b6f33a8176241cb2a59c3d\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I3f3052159d1498be27f22e1b5db1ccd69a161c64\n'}]",0,796299,aee7a4b34ee91065581ae20ba81d30920bb18769,12,2,1,11131,,,0,"update constraint for sushy to new release 3.7.2

meta: version: 3.7.2
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Commit: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Change-Id: Ifd8fcc669a7c2761b1b6f33a8176241cb2a59c3d
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I3f3052159d1498be27f22e1b5db1ccd69a161c64
",git fetch https://review.opendev.org/openstack/requirements refs/changes/99/796299/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,aee7a4b34ee91065581ae20ba81d30920bb18769,new-release,sushy===3.7.2,sushy===3.7.1,1,1
openstack%2Fswift~master~I6e47e2dc0cc8b18378967cb1c7773fab586495c9,openstack/swift,master,I6e47e2dc0cc8b18378967cb1c7773fab586495c9,WIP: Batched updates for object-updater,NEW,2020-05-01 22:22:12.000000000,2021-06-15 01:00:31.000000000,,"[{'_account_id': 13852}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-01 22:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dd3b4913988be3387b48a86e7c89d8fe72118d5b', 'message': 'WIP: Batched updates for object-updater\n\nTests still need a bunch of cleanup and extension.\n\nThere are like 3 hard-coded values that need to become configurable.\n\nobjects_per_second is really more like updates_per_second or\nrequests_per_second now.\n\nChange-Id: I6e47e2dc0cc8b18378967cb1c7773fab586495c9\n'}, {'number': 2, 'created': '2020-05-04 23:16:30.000000000', 'files': ['swift/obj/updater.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/eca39d05661778ce40feafb18eeb790196c0468e', 'message': 'WIP: Batched updates for object-updater\n\nTests still need a bunch of cleanup and extension.\n\nThere are like 3 hard-coded values that need to become configurable.\n\nobjects_per_second is really more like updates_per_second or\nrequests_per_second now.\n\nChange-Id: I6e47e2dc0cc8b18378967cb1c7773fab586495c9\n'}]",13,724943,eca39d05661778ce40feafb18eeb790196c0468e,6,3,2,15343,,,0,"WIP: Batched updates for object-updater

Tests still need a bunch of cleanup and extension.

There are like 3 hard-coded values that need to become configurable.

objects_per_second is really more like updates_per_second or
requests_per_second now.

Change-Id: I6e47e2dc0cc8b18378967cb1c7773fab586495c9
",git fetch https://review.opendev.org/openstack/swift refs/changes/43/724943/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/obj/updater.py'],1,dd3b4913988be3387b48a86e7c89d8fe72118d5b,,"from collections import defaultdict import json import operator eventlet_monkey_patch, get_redirect_data, ContextPool, Timestamp def _iter_batches(self, device): MAX_CONTS = 10 MAX_UPDATES_PER_CONT = 100 MIN_BATCH_SIZE = 1 buf_by_cont = defaultdict(list) buf_by_count = [] first_item = operator.itemgetter(0) for update in self._iter_async_pendings(device): container_path = update['data']['container_path'] if MAX_UPDATES_PER_CONT == 1: # Deal with degernerate case early yield [update] elif container_path in buf_by_cont or len(buf_by_cont) < MAX_CONTS: buf = buf_by_cont[container_path] buf.append(update) if len(buf) == 1: buf_by_count.append((1, buf)) elif len(buf) >= MAX_UPDATES_PER_CONT: if len(buf) < MIN_BATCH_SIZE: for to_yield in buf: yield [to_yield] else: yield buf buf_by_count.remove((len(buf) - 1, buf)) del buf_by_cont[container_path] else: idx = buf_by_count.index((len(buf) - 1, buf)) buf_by_count[idx] = (len(buf), buf) buf_by_count.sort(key=first_item, reverse=True) else: # yield a batch to make space _, buf = buf_by_count.pop(0) del buf_by_cont[buf[0]['container_path']] if len(buf) < MIN_BATCH_SIZE: for to_yield in buf: yield [to_yield] else: yield buf buf = buf_by_cont[update['container_path']] buf.append(update) buf_by_count.append((1, buf)) # Drain whatever else we've got buffered for _, buf in buf_by_count: if len(buf) < MIN_BATCH_SIZE: for to_yield in buf: yield [to_yield] else: yield buf try: with open(update_path, 'rb') as fp: data = pickle.load(fp) data.setdefault( 'container_path', data['account'] + '/' + data['container']) except Exception: self.logger.exception( 'ERROR Pickle problem, quarantining %s', update_path) self.stats.quarantines += 1 self.logger.increment('quarantines') target_path = os.path.join( device, 'quarantined', 'objects', os.path.basename(update_path)) renamer(update_path, target_path, fsync=False) continue 'path': update_path, 'data': data, self._iter_batches(device), for batch in ap_iter: if len(batch) == 1: update = batch[0] pool.spawn(self.process_object_update, update['path'], update['data'], update['device'], update['policy']) else: pool.spawn(self.process_batch_update, batch) def process_batch_update(self, updates): container_path = updates[0]['data']['container_path'] assert all(x['data']['container_path'] == container_path for x in updates) acct, cont = split_path('/' + container_path, minsegs=2) part, nodes = self.get_container_ring().get_nodes(acct, cont) def update_to_record(update): if update['op'] == 'PUT': return { 'name': update['obj'], 'deleted': 0, 'created_at': update['headers']['X-Timestamp'], 'etag': update['headers']['X-Etag'], 'size': int(update['headers']['X-Size']), 'storage_policy_index': update['headers'][ 'X-Backend-Storage-Policy-Index'], 'content_type': update['headers']['X-Content-Type'], } elif update['op'] == 'DELETE': return { 'name': update['obj'], 'deleted': 1, 'created_at': update['headers']['X-Timestamp'], 'etag': 'noetag', 'size': 0, 'storage_policy_index': update['headers'][ 'X-Backend-Storage-Policy-Index'], 'content_type': 'application/deleted', } else: raise RuntimeError('Expected op to be PUT or DELETE, got %r' % update['op']) payloads = defaultdict(list) obj_to_update = {} for update in updates: obj = container_path + '/' + update['data']['obj'] obj_to_update[obj] = update record = update_to_record(update['data']) successes = update['data'].get('successes', []) in_payloads = False for node in nodes: if node['id'] not in successes: payloads[node['id']].append(record) in_payloads = True events = [spawn(self.batch_update, node, part, container_path, payloads[node['id']]) for node in nodes if payloads[node['id']]] rewrite_pickle_objs = set() any_failures = False for event in events: event_success, node_id = event.wait() if event_success is True: for record in payloads[node_id]: obj = container_path + '/' + record['name'] obj_to_update[obj]['data'].setdefault( 'successes', []).append(node_id) rewrite_pickle_objs.add(obj) else: any_failures = True for update in updates: obj = container_path + '/' + update['data']['obj'] if not any_failures or (obj in rewrite_pickle_objs and all( node['id'] in update['data']['successes'] for node in nodes)): self.stats.successes += 1 self.logger.increment('successes') self.logger.debug('Update sent for /%(obj)s %(path)s', {'obj': obj, 'path': update['path']}) self.stats.unlinks += 1 self.logger.increment('unlinks') os.unlink(update['path']) else: self.stats.failures += 1 self.logger.increment('failures') self.logger.debug('Update failed for /%(obj)s %(path)s', {'obj': obj, 'path': update['path']}) if obj in rewrite_pickle_objs: tmpdir = os.path.join(update['device'], get_tmp_dir(update['policy'])) write_pickle(update['data'], update['path'], tmpdir) def process_object_update(self, update_path, update, device, policy): update = update.copy() acct, cont = split_path('/' + update['container_path'], minsegs=2) def batch_update(self, node, part, container_path, payload): body = json.dumps(payload).encode('ascii') headers_out = { 'Content-Length': str(len(body)), 'X-Backend-Storage-Policy-Index': payload[0]['storage_policy_index'], 'X-Timestamp': Timestamp.now().internal, } try: with ConnectionTimeout(self.conn_timeout): conn = http_connect(node['ip'], node['port'], node['device'], part, 'UPDATE', '/' + container_path, headers_out) with Timeout(self.node_timeout): conn.send(body) with Timeout(self.node_timeout): resp = conn.getresponse() resp.read() success = is_success(resp.status) if not success: self.logger.debug( _('Error code %(status)d is returned from remote ' 'server %(ip)s: %(port)s / %(device)s'), {'status': resp.status, 'ip': node['ip'], 'port': node['port'], 'device': node['device']}) return success, node['id'] except (Exception, Timeout): self.logger.exception(_('ERROR with remote server ' '%(ip)s:%(port)s/%(device)s'), node) return HTTP_INTERNAL_SERVER_ERROR, node['id'] "," eventlet_monkey_patch, get_redirect_data, ContextPool 'path': update_path, self._iter_async_pendings(device), for update in ap_iter: pool.spawn(self.process_object_update, update['path'], update['device'], update['policy']) def process_object_update(self, update_path, device, policy): try: update = pickle.load(open(update_path, 'rb')) except Exception: self.logger.exception( _('ERROR Pickle problem, quarantining %s'), update_path) self.stats.quarantines += 1 self.logger.increment('quarantines') target_path = os.path.join(device, 'quarantined', 'objects', os.path.basename(update_path)) renamer(update_path, target_path, fsync=False) return container_path = update.get('container_path') if container_path: acct, cont = split_path('/' + container_path, minsegs=2) else: acct, cont = update['account'], update['container']",199,23
openstack%2Ftrove~stable%2Fussuri~I18c4b33f1eeacc3bb5f9d5f3ae72ca5c00f540d9,openstack/trove,stable/ussuri,I18c4b33f1eeacc3bb5f9d5f3ae72ca5c00f540d9,Add float types to load_items to support configuration parameters of float type,ABANDONED,2021-05-24 10:23:17.000000000,2021-06-15 00:56:20.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-24 10:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/534ffc67ec93118d3fa9d34bae97c47b73cf9678', 'message': 'Add float types to load_items to support configuration parameters of float type\n\nComplement missing float types when loading configuration group parameters\nso that parameters of type float can be attached\ninto the trove instance successfully\n\nhttps: //storyboard.openstack.org/#!/story/2008917\nChange-Id: I18c4b33f1eeacc3bb5f9d5f3ae72ca5c00f540d9\n'}, {'number': 2, 'created': '2021-05-24 10:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0731b5c1db7e3a9d79ffed2ca953a5548878b1d2', 'message': 'Add float types to load_items to support configuration parameters of float type\n\nComplement missing float types when loading configuration group parameters\nso that parameters of type float can be attached\ninto the trove instance successfully\n\nhttps: //storyboard.openstack.org/#!/story/2008917\nChange-Id: I18c4b33f1eeacc3bb5f9d5f3ae72ca5c00f540d9\n'}, {'number': 3, 'created': '2021-05-24 10:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e5f1e8b69566f7bb61797fc7480921c87bb63540', 'message': 'Add float types to load_items to support configuration parameters of float type\n\nComplement missing float types when loading configuration group parameters\nso that parameters of type float can be attached into the trove instance successfully\n\nhttps: //storyboard.openstack.org/#!/story/2008917\nChange-Id: I18c4b33f1eeacc3bb5f9d5f3ae72ca5c00f540d9\n'}, {'number': 4, 'created': '2021-05-24 12:32:04.000000000', 'files': ['trove/configuration/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/348142a24461e5de197c2c36b9b49b996411be89', 'message': 'Add float types to load_items to support configuration parameters of float type\n\nComplement missing float types when loading configuration group parameters\nso that parameters of type float can be attached into the trove instance successfully\n\nChange-Id: I18c4b33f1eeacc3bb5f9d5f3ae72ca5c00f540d9\n'}]",0,792797,348142a24461e5de197c2c36b9b49b996411be89,11,2,4,31525,,,0,"Add float types to load_items to support configuration parameters of float type

Complement missing float types when loading configuration group parameters
so that parameters of type float can be attached into the trove instance successfully

Change-Id: I18c4b33f1eeacc3bb5f9d5f3ae72ca5c00f540d9
",git fetch https://review.opendev.org/openstack/trove refs/changes/97/792797/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/configuration/models.py'],1,534ffc67ec93118d3fa9d34bae97c47b73cf9678,story/2008917-stable/ussuri, elif rule.data_type == 'float': item.configuration_value = float(item.configuration_value),,2,0
openstack%2Fnova~master~If0ffe994a2a198279a27aa4dffc58c4a7d1474d9,openstack/nova,master,If0ffe994a2a198279a27aa4dffc58c4a7d1474d9,Move fake_notifier impl under NotificationFixture,MERGED,2020-10-15 15:10:38.000000000,2021-06-15 00:50:27.000000000,2021-06-15 00:47:26.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-10-15 15:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b973c67f5f69ca3d079d4fe9ce7cde356c089aed', 'message': 'Move fake_notifier impl under NotificationFixture\n\nPrevious patches removed any direct use of the fake_notifier. This\npatches moves the implementation under the NotificationFixture. And by\nthat it removes the global state used for notification testing.\n\nChange-Id: If0ffe994a2a198279a27aa4dffc58c4a7d1474d9\n'}, {'number': 2, 'created': '2020-11-09 14:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/236d3b1355cb3fdf666ade667f154364e9da16ba', 'message': 'Move fake_notifier impl under NotificationFixture\n\nPrevious patches removed any direct use of the fake_notifier. This\npatches moves the implementation under the NotificationFixture. And by\nthat it removes the global state used for notification testing.\n\nChange-Id: If0ffe994a2a198279a27aa4dffc58c4a7d1474d9\n'}, {'number': 3, 'created': '2020-12-16 17:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec879694ba7e16954d340d41b7ffb81696d78fa2', 'message': 'Move fake_notifier impl under NotificationFixture\n\nPrevious patches removed any direct use of the fake_notifier. This\npatches moves the implementation under the NotificationFixture. And by\nthat it removes the global state used for notification testing.\n\nChange-Id: If0ffe994a2a198279a27aa4dffc58c4a7d1474d9\n'}, {'number': 4, 'created': '2021-01-06 11:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/998fa1bfcbf38955f6a3b0e649522ce199f634f2', 'message': 'Move fake_notifier impl under NotificationFixture\n\nPrevious patches removed any direct use of the fake_notifier. This\npatches moves the implementation under the NotificationFixture. And by\nthat it removes the global state used for notification testing.\n\nChange-Id: If0ffe994a2a198279a27aa4dffc58c4a7d1474d9\n'}, {'number': 5, 'created': '2021-05-24 11:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27a417ac3e02493b3aeee10dcb9554b59f795a58', 'message': 'Move fake_notifier impl under NotificationFixture\n\nPrevious patches removed any direct use of the fake_notifier. This\npatches moves the implementation under the NotificationFixture. And by\nthat it removes the global state used for notification testing.\n\nChange-Id: If0ffe994a2a198279a27aa4dffc58c4a7d1474d9\n'}, {'number': 6, 'created': '2021-06-10 16:09:53.000000000', 'files': ['nova/tests/unit/fake_notifier.py', 'nova/tests/fixtures/notifications.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d71dfa8b8d7f3e170a0ff66064bdf950a787a028', 'message': 'Move fake_notifier impl under NotificationFixture\n\nPrevious patches removed any direct use of the fake_notifier. This\npatches moves the implementation under the NotificationFixture. And by\nthat it removes the global state used for notification testing.\n\nChange-Id: If0ffe994a2a198279a27aa4dffc58c4a7d1474d9\n'}]",0,758451,d71dfa8b8d7f3e170a0ff66064bdf950a787a028,54,14,6,9708,,,0,"Move fake_notifier impl under NotificationFixture

Previous patches removed any direct use of the fake_notifier. This
patches moves the implementation under the NotificationFixture. And by
that it removes the global state used for notification testing.

Change-Id: If0ffe994a2a198279a27aa4dffc58c4a7d1474d9
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/758451/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures.py', 'nova/tests/unit/fake_notifier.py']",2,b973c67f5f69ca3d079d4fe9ce7cde356c089aed,remove-fake-notifier,,"# Copyright 2013 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections import functools import pprint import threading from oslo_log import log as logging import oslo_messaging as messaging from oslo_serialization import jsonutils from oslo_utils import excutils from oslo_utils import timeutils from nova import rpc LOG = logging.getLogger(__name__) class _Sub(object): """"""Allow a subscriber to efficiently wait for an event to occur, and retrieve events which have occured. """""" def __init__(self): self._cond = threading.Condition() self._notifications = [] def received(self, notification): with self._cond: self._notifications.append(notification) self._cond.notifyAll() def wait_n(self, n, event, timeout): """"""Wait until at least n notifications have been received, and return them. May return less than n notifications if timeout is reached. """""" with timeutils.StopWatch(timeout) as timer: with self._cond: while len(self._notifications) < n: if timer.expired(): notifications = pprint.pformat( {event: sub._notifications for event, sub in VERSIONED_SUBS.items()}) raise AssertionError( ""Notification %(event)s hasn't been "" ""received. Received:\n%(notifications)s"" % { 'event': event, 'notifications': notifications, }) self._cond.wait(timer.leftover()) # Return a copy of the notifications list return list(self._notifications) VERSIONED_SUBS = collections.defaultdict(_Sub) VERSIONED_NOTIFICATIONS = [] NOTIFICATIONS = [] def reset(): del NOTIFICATIONS[:] del VERSIONED_NOTIFICATIONS[:] VERSIONED_SUBS.clear() FakeMessage = collections.namedtuple('Message', ['publisher_id', 'priority', 'event_type', 'payload', 'context']) class FakeNotifier(object): def __init__(self, transport, publisher_id, serializer=None): self.transport = transport self.publisher_id = publisher_id self._serializer = serializer or messaging.serializer.NoOpSerializer() for priority in ['debug', 'info', 'warn', 'error', 'critical']: setattr(self, priority, functools.partial(self._notify, priority.upper())) def prepare(self, publisher_id=None): if publisher_id is None: publisher_id = self.publisher_id return self.__class__(self.transport, publisher_id, serializer=self._serializer) def _notify(self, priority, ctxt, event_type, payload): try: payload = self._serializer.serialize_entity(ctxt, payload) except Exception: with excutils.save_and_reraise_exception(): LOG.error('Error serializing payload: %s', payload) # NOTE(sileht): simulate the kombu serializer # this permit to raise an exception if something have not # been serialized correctly jsonutils.to_primitive(payload) # NOTE(melwitt): Try to serialize the context, as the rpc would. # An exception will be raised if something is wrong # with the context. self._serializer.serialize_context(ctxt) msg = FakeMessage(self.publisher_id, priority, event_type, payload, ctxt) NOTIFICATIONS.append(msg) def is_enabled(self): return True class FakeVersionedNotifier(FakeNotifier): def _notify(self, priority, ctxt, event_type, payload): payload = self._serializer.serialize_entity(ctxt, payload) notification = {'publisher_id': self.publisher_id, 'priority': priority, 'event_type': event_type, 'payload': payload} VERSIONED_NOTIFICATIONS.append(notification) VERSIONED_SUBS[event_type].received(notification) def stub_notifier(test): test.stub_out('oslo_messaging.Notifier', FakeNotifier) if rpc.LEGACY_NOTIFIER and rpc.NOTIFIER: test.stub_out('nova.rpc.LEGACY_NOTIFIER', FakeNotifier(rpc.LEGACY_NOTIFIER.transport, rpc.LEGACY_NOTIFIER.publisher_id, serializer=getattr(rpc.LEGACY_NOTIFIER, '_serializer', None))) test.stub_out('nova.rpc.NOTIFIER', FakeVersionedNotifier(rpc.NOTIFIER.transport, rpc.NOTIFIER.publisher_id, serializer=getattr(rpc.NOTIFIER, '_serializer', None))) def wait_for_versioned_notifications(event_type, n_events=1, timeout=10.0): return VERSIONED_SUBS[event_type].wait_n(n_events, event_type, timeout) ",152,161
openstack%2Fnova~master~Ib433a90746f597d9c34d6b43e64478468d6be6e1,openstack/nova,master,Ib433a90746f597d9c34d6b43e64478468d6be6e1,Test the NotificationFixture,MERGED,2020-10-15 15:10:38.000000000,2021-06-15 00:49:15.000000000,2021-06-15 00:46:46.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-10-15 15:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb2b3427f86b8e56be1376c2d419b4c69a7587d5', 'message': 'Test the NotificationFixture\n\nThis patch moves the test of the fake_notifier to target\nNotificaitonFixture\n\nChange-Id: Ib433a90746f597d9c34d6b43e64478468d6be6e1\n'}, {'number': 2, 'created': '2020-11-09 14:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6cdfa6ae298fca2316bf3e3b3a53cbf1dfc8b04e', 'message': 'Test the NotificationFixture\n\nThis patch moves the test of the fake_notifier to target\nNotificaitonFixture\n\nChange-Id: Ib433a90746f597d9c34d6b43e64478468d6be6e1\n'}, {'number': 3, 'created': '2020-12-16 17:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4008e348b3cabba53b846da13ec5528de963e965', 'message': 'Test the NotificationFixture\n\nThis patch moves the test of the fake_notifier to target\nNotificaitonFixture\n\nChange-Id: Ib433a90746f597d9c34d6b43e64478468d6be6e1\n'}, {'number': 4, 'created': '2021-01-06 11:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5fb96e5c7d45990e750638fe6712815f73069bf8', 'message': 'Test the NotificationFixture\n\nThis patch moves the test of the fake_notifier to target\nNotificaitonFixture\n\nChange-Id: Ib433a90746f597d9c34d6b43e64478468d6be6e1\n'}, {'number': 5, 'created': '2021-05-24 11:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a2c28c7111b98145e367e87e6d09b54397c63f2', 'message': 'Test the NotificationFixture\n\nThis patch moves the test of the fake_notifier to target\nNotificaitonFixture\n\nChange-Id: Ib433a90746f597d9c34d6b43e64478468d6be6e1\n'}, {'number': 6, 'created': '2021-06-10 16:09:53.000000000', 'files': ['nova/tests/unit/fixtures/__init__.py', 'nova/tests/unit/fixtures/test_notifications.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7085770b2019ec97ef28063f48048f99c3087278', 'message': 'Test the NotificationFixture\n\nThis patch moves the test of the fake_notifier to target\nNotificaitonFixture\n\nChange-Id: Ib433a90746f597d9c34d6b43e64478468d6be6e1\n'}]",3,758450,7085770b2019ec97ef28063f48048f99c3087278,55,13,6,9708,,,0,"Test the NotificationFixture

This patch moves the test of the fake_notifier to target
NotificaitonFixture

Change-Id: Ib433a90746f597d9c34d6b43e64478468d6be6e1
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/758450/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/test_fake_notifier.py'],1,cb2b3427f86b8e56be1376c2d419b4c69a7587d5,remove-fake-notifier,"from nova.tests import fixtures self.notifier = self.useFixture(fixtures.NotificationFixture(self)) notifications = self.notifier.wait_for_versioned_notifications( self.notifier.wait_for_versioned_notifications, notifications = self.notifier.wait_for_versioned_notifications( self.notifier.wait_for_versioned_notifications, notifications = self.notifier.wait_for_versioned_notifications(","from nova.tests.unit import fake_notifier fake_notifier.stub_notifier(self) self.addCleanup(fake_notifier.reset) notifications = fake_notifier.wait_for_versioned_notifications( fake_notifier.wait_for_versioned_notifications, notifications = fake_notifier.wait_for_versioned_notifications( fake_notifier.wait_for_versioned_notifications, notifications = fake_notifier.wait_for_versioned_notifications(",7,8
openstack%2Ftempest~master~I101b2bf17de062de62c1ceebfa38fc15644a3b69,openstack/tempest,master,I101b2bf17de062de62c1ceebfa38fc15644a3b69,Skip ide and ephmoral storage on aarch64,MERGED,2020-09-29 07:56:24.000000000,2021-06-15 00:49:09.000000000,2021-06-15 00:46:31.000000000,"[{'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-09-29 07:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0172bff747023e3f717c4d524960b00fcbe2f60c', 'message': '[DMT][TEST] SKIP all reboot test for\n\nSkip ide test and create ephmoral storage test on aarch64\n\nChange-Id: I101b2bf17de062de62c1ceebfa38fc15644a3b69\n'}, {'number': 2, 'created': '2020-10-08 08:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cc92bbe1864e437231661811223717f408ae5425', 'message': '[DMT][TEST] SKIP all reboot test for\n\nSkip ide test and create ephmoral storage test on aarch64\n\nChange-Id: I101b2bf17de062de62c1ceebfa38fc15644a3b69\n'}, {'number': 3, 'created': '2021-02-08 06:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2946845611e569c4a7128fe3cbb3c13086c5785f', 'message': '[DMT][TEST] SKIP all reboot test for\n\nSkip ide test and create ephmoral storage test on aarch64\n\nChange-Id: I101b2bf17de062de62c1ceebfa38fc15644a3b69\n'}, {'number': 4, 'created': '2021-04-04 06:20:03.000000000', 'files': ['tempest/api/compute/admin/test_create_server.py', 'tempest/api/compute/servers/test_server_rescue.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9d2effc506b72d3b1f371943bea7f02e44028f52', 'message': 'Skip ide and ephmoral storage on aarch64\n\nBoth ide bus for cdrom and create ephmoral storage tests are not supported in\naarch64. Therefore, skip tests:\n* test_verify_created_server_ephemeral_disk\n* test_stable_device_rescue_cdrom_ide\nSkip above tests when CONF.scenario.img_file contain `aarch64`\n\nChange-Id: I101b2bf17de062de62c1ceebfa38fc15644a3b69\n'}]",0,754924,9d2effc506b72d3b1f371943bea7f02e44028f52,18,5,4,12404,,,0,"Skip ide and ephmoral storage on aarch64

Both ide bus for cdrom and create ephmoral storage tests are not supported in
aarch64. Therefore, skip tests:
* test_verify_created_server_ephemeral_disk
* test_stable_device_rescue_cdrom_ide
Skip above tests when CONF.scenario.img_file contain `aarch64`

Change-Id: I101b2bf17de062de62c1ceebfa38fc15644a3b69
",git fetch https://review.opendev.org/openstack/tempest refs/changes/24/754924/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/servers/test_server_actions.py', 'tempest/api/compute/admin/test_create_server.py', 'tempest/api/compute/servers/test_server_rescue.py']",3,0172bff747023e3f717c4d524960b00fcbe2f60c,story/2007196," @testtools.skipIf(""aarch64"" in CONF.scenario.img_file, ""Aarch64 does not support ide bus for cdrom"")",,8,0
openstack%2Fopenstack-ansible-os_tempest~master~Id021d084867ef2891c381c5863b82421e90ee2ca,openstack/openstack-ansible-os_tempest,master,Id021d084867ef2891c381c5863b82421e90ee2ca,Rename whitelist and blacklist in role,MERGED,2021-04-06 08:17:35.000000000,2021-06-15 00:42:37.000000000,2021-06-15 00:40:51.000000000,"[{'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-04-06 08:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/551792fd3f1fce780d8f6384488c551652ef44c5', 'message': ""Use include-list instead of deprecated option\n\n'--whitelist-file' option is deprecated, use '--include-list' instead which is functionally equivalent.\nRight now Tempest still supports this option for backward compatibility, however, it will be removed soon.\n\nChange-Id: Id021d084867ef2891c381c5863b82421e90ee2ca\n""}, {'number': 2, 'created': '2021-04-06 10:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/f7b513149599dca88faa656d1584906163cca090', 'message': ""Use include-list instead of deprecated option\n\n'--whitelist-file' option is deprecated, use '--include-list' instead which is functionally equivalent.\nRight now Tempest still supports this option for backward compatibility, however, it will be removed soon.\n\nChange-Id: Id021d084867ef2891c381c5863b82421e90ee2ca\n""}, {'number': 3, 'created': '2021-04-06 12:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6be8df5b19a64327dc6b63e600830523a3b80ae6', 'message': ""Rename whitelist and blacklist in role\n\n'--whitelist-file' option is deprecated, use '--include-list' instead which is functionally equivalent.\nRight now Tempest still supports this option for backward compatibility, however, it will be removed soon.\n\nThis change addresses the occurences of whitelist and blacklist in the os_tempest OSA role.\n\nChange-Id: Id021d084867ef2891c381c5863b82421e90ee2ca\n""}, {'number': 4, 'created': '2021-04-06 13:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6d79772fb722d5cfb66380660473275bbb28c81a', 'message': ""Rename whitelist and blacklist in role\n\n'--whitelist-file' option is deprecated, use '--include-list' instead which is functionally equivalent.\nRight now Tempest still supports this option for backward compatibility, however, it will be removed soon.\n\nThis change addresses the occurences of whitelist and blacklist in the os_tempest OSA role.\n\nChange-Id: Id021d084867ef2891c381c5863b82421e90ee2ca\n""}, {'number': 5, 'created': '2021-04-19 21:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/c1384abac766eecaa4b0319d156826ceca072138', 'message': ""Rename whitelist and blacklist in role\n\n'--whitelist-file' option is deprecated, use '--include-list' instead which is functionally equivalent.\nRight now Tempest still supports this option for backward compatibility, however, it will be removed soon.\n\nThis change addresses the occurences of whitelist and blacklist in the os_tempest OSA role.\n\nChange-Id: Id021d084867ef2891c381c5863b82421e90ee2ca\n""}, {'number': 6, 'created': '2021-05-12 08:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ee30d05ae828def2cb56ab4901226093604b3980', 'message': ""Rename whitelist and blacklist in role\n\n'--whitelist-file' option is deprecated, use '--include-list' instead which is functionally equivalent.\nRight now Tempest still supports this option for backward compatibility, however, it will be removed soon.\n\nThis change addresses the occurences of whitelist and blacklist in the os_tempest OSA role.\n\nChange-Id: Id021d084867ef2891c381c5863b82421e90ee2ca\n""}, {'number': 7, 'created': '2021-05-12 08:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/64cb85d17a9d0155e83f5dfa6e0a6775599c3099', 'message': ""Rename whitelist and blacklist in role\n\n'--whitelist-file' option is deprecated, use '--include-list' instead which is functionally equivalent.\nRight now Tempest still supports this option for backward compatibility, however, it will be removed soon.\n\nThis change addresses the occurences of whitelist and blacklist in the os_tempest OSA role.\n\nChange-Id: Id021d084867ef2891c381c5863b82421e90ee2ca\n""}, {'number': 8, 'created': '2021-05-25 08:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ff2639c714da8038222501140fb3f32a2bee708a', 'message': ""Rename whitelist and blacklist in role\n\n'--whitelist-file' option is deprecated, use '--include-list' instead which is functionally equivalent.\nRight now Tempest still supports this option for backward compatibility, however, it will be removed soon.\n\nThis change addresses the occurences of whitelist and blacklist in the os_tempest OSA role.\n\nChange-Id: Id021d084867ef2891c381c5863b82421e90ee2ca\n""}, {'number': 9, 'created': '2021-05-25 08:15:40.000000000', 'files': ['tasks/tempest_run.yml', 'tasks/tempest_post_install.yml', 'zuul.d/jobs.yaml', 'defaults/main.yml', 'releasenotes/notes/rename-whitelist-blacklist-5de882e5585bceb0.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/0e7133665178e84c8401024c267071045a6b876e', 'message': ""Rename whitelist and blacklist in role\n\n'--whitelist-file' option is deprecated, use '--include-list' instead which is functionally equivalent.\nRight now Tempest still supports this option for backward compatibility, however, it will be removed soon.\n\nThis change addresses the occurences of whitelist and blacklist in the os_tempest OSA role.\n\nChange-Id: Id021d084867ef2891c381c5863b82421e90ee2ca\n""}]",8,784885,0e7133665178e84c8401024c267071045a6b876e,46,4,9,18279,,,0,"Rename whitelist and blacklist in role

'--whitelist-file' option is deprecated, use '--include-list' instead which is functionally equivalent.
Right now Tempest still supports this option for backward compatibility, however, it will be removed soon.

This change addresses the occurences of whitelist and blacklist in the os_tempest OSA role.

Change-Id: Id021d084867ef2891c381c5863b82421e90ee2ca
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/85/784885/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempest_run.yml'],1,551792fd3f1fce780d8f6384488c551652ef44c5,, --include-list {{ tempest_test_whitelist_file_path }} > {{ tempest_log_dir }}/tempest_run.log --include-list {{ tempest_test_whitelist_file_path }} \, --whitelist-file {{ tempest_test_whitelist_file_path }} > {{ tempest_log_dir }}/tempest_run.log --whitelist-file {{ tempest_test_whitelist_file_path }} \,2,2
openstack%2Frequirements~stable%2Fvictoria~Ib515e03312f27f208d4fbc8ebe9fcf77b3ebe352,openstack/requirements,stable/victoria,Ib515e03312f27f208d4fbc8ebe9fcf77b3ebe352,update constraint for tooz to new release 2.7.2,MERGED,2021-06-14 18:36:40.000000000,2021-06-15 00:32:31.000000000,2021-06-15 00:32:31.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-14 18:36:40.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cb29d8d3958d7d305a77c5bcf2062e593aaf591b', 'message': 'update constraint for tooz to new release 2.7.2\n\nmeta: version: 2.7.2\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I588e7daa47b27e98adf28d4242384efd9cc58c07\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ib515e03312f27f208d4fbc8ebe9fcf77b3ebe352\n'}]",0,796311,cb29d8d3958d7d305a77c5bcf2062e593aaf591b,11,3,1,11131,,,0,"update constraint for tooz to new release 2.7.2

meta: version: 2.7.2
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: I588e7daa47b27e98adf28d4242384efd9cc58c07
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ib515e03312f27f208d4fbc8ebe9fcf77b3ebe352
",git fetch https://review.opendev.org/openstack/requirements refs/changes/11/796311/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,cb29d8d3958d7d305a77c5bcf2062e593aaf591b,new-release,tooz===2.7.2,tooz===2.7.1,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I422e49f0027efbbb25256d8b4718eb0aa78d90a4,openstack/tripleo-heat-templates,stable/train,I422e49f0027efbbb25256d8b4718eb0aa78d90a4,set ganesha idmap.conf file path and overrides,MERGED,2021-06-12 10:32:15.000000000,2021-06-15 00:20:08.000000000,2021-06-15 00:20:08.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-12 10:32:15.000000000', 'files': ['deployment/ceph-ansible/ceph-nfs.yaml', 'environments/manila-cephfsganesha-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae4fda11362b5414cab3acf53763ac653831e56c', 'message': 'set ganesha idmap.conf file path and overrides\n\nTraditionally,  Ganesha consumes /etc/idmapd.conf, which controls\nmapping of user/owner identities under NFSv4+.  With containerized service\ndeployment, this file has beenan immutable part of the container image\nand could not be modified.\n\nRecently ceph-ansible was modified to allow the user to set the path\nfor idmapd.conf and to override ini settings in this file by supplying\njson configuration for the overrides in the same way that it can be\nsupplied for ceph.conf overrides [1].  Also, the default path setting\nfor the idmapd.conf file is /etc/ganesha/idmap.conf, which already is\nreflected into containerized ganesha under /etc/ganesha, solving the\nimmutability issue.  If no overrides are supplied, the file put in this\nlocation will match that originally frozen into the container, so there\nis no issue here with backwards compatibility.\n\nThis change exposes parameters for idmap.conf file path and override\ncontents in TripleO and passes them into ceph-ansible.  It also sets up\nthese parameters for cephadm.  Cephadm support for OpenStack Ganesha\nis WIP so there will likely need to be a followup patch to make these\neffective when cephadm replaces ceph ansible.\n\n[1] https://github.com/ceph/ceph-ansible/pull/6422\n\nChange-Id: I422e49f0027efbbb25256d8b4718eb0aa78d90a4\n(cherry picked from commit 9a42686dc7f9181246fdddf87e35a6a669726cea)\n(cherry picked from commit b2a8641a5c16e43c4d23b4ca372fb0e29f6f6ebc)\n(cherry picked from commit 823ec822386976e8150156967f5dafebed248a2e)\n(cherry picked from commit e580b849e6d0cf8f7e8e44031f2c1ce0546e5e21)\n'}]",0,796076,ae4fda11362b5414cab3acf53763ac653831e56c,9,4,1,9003,,,0,"set ganesha idmap.conf file path and overrides

Traditionally,  Ganesha consumes /etc/idmapd.conf, which controls
mapping of user/owner identities under NFSv4+.  With containerized service
deployment, this file has beenan immutable part of the container image
and could not be modified.

Recently ceph-ansible was modified to allow the user to set the path
for idmapd.conf and to override ini settings in this file by supplying
json configuration for the overrides in the same way that it can be
supplied for ceph.conf overrides [1].  Also, the default path setting
for the idmapd.conf file is /etc/ganesha/idmap.conf, which already is
reflected into containerized ganesha under /etc/ganesha, solving the
immutability issue.  If no overrides are supplied, the file put in this
location will match that originally frozen into the container, so there
is no issue here with backwards compatibility.

This change exposes parameters for idmap.conf file path and override
contents in TripleO and passes them into ceph-ansible.  It also sets up
these parameters for cephadm.  Cephadm support for OpenStack Ganesha
is WIP so there will likely need to be a followup patch to make these
effective when cephadm replaces ceph ansible.

[1] https://github.com/ceph/ceph-ansible/pull/6422

Change-Id: I422e49f0027efbbb25256d8b4718eb0aa78d90a4
(cherry picked from commit 9a42686dc7f9181246fdddf87e35a6a669726cea)
(cherry picked from commit b2a8641a5c16e43c4d23b4ca372fb0e29f6f6ebc)
(cherry picked from commit 823ec822386976e8150156967f5dafebed248a2e)
(cherry picked from commit e580b849e6d0cf8f7e8e44031f2c1ce0546e5e21)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/796076/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ceph-ansible/ceph-nfs.yaml', 'environments/manila-cephfsganesha-config.yaml']",2,ae4fda11362b5414cab3acf53763ac653831e56c,centos-storage-sig-stable/wallaby-stable/victoria-stable/ussuri-stable/train, # Use ManilaCephFSNFSIdmapConf to change the path of the idmap.conf file consumed by ganesha ManilaCephFSNFSIdmapConf: '/etc/ganesha/idmap.conf' # Use ManilaCephFSNFSIdmapOverrides to overide ini configuration in the idmap.conf file ManilaCephFSNFSIdmapOverrides: {},,13,0
openstack%2Fnetworking-ovn~stable%2Ftrain~I34c4335f93af13ec5fdb3145dd501508ed6bb2e5,openstack/networking-ovn,stable/train,I34c4335f93af13ec5fdb3145dd501508ed6bb2e5,wip,ABANDONED,2021-06-04 22:14:13.000000000,2021-06-15 00:14:14.000000000,,"[{'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 22:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0f3710e5e220cc9a64a50e64ac9c7c6783b7e238', 'message': 'wip\n\nChange-Id: I34c4335f93af13ec5fdb3145dd501508ed6bb2e5\n'}, {'number': 2, 'created': '2021-06-04 22:19:34.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1bd86216debb5ebb34acbe19d38230be15b54b17', 'message': 'wip\n\nChange-Id: I34c4335f93af13ec5fdb3145dd501508ed6bb2e5\n'}]",0,794905,1bd86216debb5ebb34acbe19d38230be15b54b17,6,2,2,11952,,,0,"wip

Change-Id: I34c4335f93af13ec5fdb3145dd501508ed6bb2e5
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/05/794905/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,0f3710e5e220cc9a64a50e64ac9c7c6783b7e238,," for lb in (router_lb | network_lb): LOG.debug('XXX router_lbs ORIG %(xrouter_lb1)s DIFF %(xrouter_lb2)s ' 'network_lbs ORIG %(xnetwork_lb1)s DIFF %(xnetwork_lb2)s', {'xrouter_lb1': router_lb, 'xnetwork_lb1': network_lb, 'xrouter_lb2': network_lb - router_lb, 'xnetwork_lb2': router_lb - network_lb}) LOG.info(""XXX now handling req %(req)s with info %(info)s"", {'req': request_type, 'info': request['info']}) LOG.debug('XXX1 ovn_lb %(ovn_lb)s network_id %(network_id)s' 'subnet_id %(subnet_id)s associate %(associate)s', {'ovn_lb': ovn_lb.uuid, 'network_id': network_id, 'subnet_id': subnet_id, 'associate': associate}) LOG.warning('XXX1.2 Cannot associate LB %(lb)s to ' LOG.debug('XXX2 ovn_lb %(ovn_lb)s ls_name %(ls_name)s ovn_ls ' '%(ovn_ls)s ls_refs %(ls_refs)s external_ids: ' '%(external_ids)s', {'ovn_lb': ovn_lb.uuid, 'ls_name': ls_name, 'ovn_ls': ovn_ls, 'ls_refs': ls_refs, 'external_ids': ovn_lb.external_ids}) LOG.debug('XXX3 ovn_lb %(ovn_lb)s new ls_refs %(ls_refs)s', {'ovn_lb': ovn_lb.uuid, 'ls_refs': ls_refs, 'external_ids': ovn_lb.external_ids}) net_id = port.external_ids.get( ovn_const.OVN_NETWORK_NAME_EXT_ID_KEY) if not net_id: LOG.error('XXX router: %(rtr)s port: %(port_name)s' 'have no network in ext_id', {'rtr': router.name, 'port_name': port.name}) # sanity if not subnet: LOG.error('XXX router: %(rtr)s sid: %(sid)s ' 'no subnet found for network %(net_id)s', {'rtr': router.name, 'sid': sid, 'net_id': net_id}) elif net_id != ovn_utils.ovn_name(subnet.network_id): LOG.error('XXX router: %(rtr)s sid: %(sid)s ' 'mismatch subnet %(sub_id)s for network %(net_id)s', {'rtr': router.name, 'sid': sid, 'sub_id': subnet.network_id, 'net_id': net_id}) LOG.debug('XXX router: %(rtr)s ls: %(ls)s', {'rtr': router.name, 'ls': ls})"," for lb in (router_lb - network_lb): LOG.debug(""now handling req %(req)s with info %(info)s"", {'req': request_type, 'info': request['info']}) LOG.warning('Cannot associate LB %(lb)s to '",52,4
openstack%2Fdesignate~master~I4fee32f9be080eea6eef38fcecbdb2dd3940b9e6,openstack/designate,master,I4fee32f9be080eea6eef38fcecbdb2dd3940b9e6,Fix migration for sqlalchemy 1.4,MERGED,2021-06-10 22:34:08.000000000,2021-06-14 23:59:01.000000000,2021-06-14 23:57:22.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-06-10 22:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f40bb13c33dab5acb504194d4c7aa66546fd8f68', 'message': 'Fix migration for sqlalchemy 1.4\n\nThis patch fixes a database migration for sqlalchemy 1.4.\nIt also removes some unused functions from that migration.\n\nChange-Id: I4fee32f9be080eea6eef38fcecbdb2dd3940b9e6\n'}, {'number': 2, 'created': '2021-06-10 22:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d58cb6b5e2f96f54875065a01634dc14737c0429', 'message': 'Fix migration for sqlalchemy 1.4\n\nThis patch fixes a database migration for sqlalchemy 1.4.\nIt also removes some unused functions from that migration.\n\nChange-Id: I4fee32f9be080eea6eef38fcecbdb2dd3940b9e6\n'}, {'number': 3, 'created': '2021-06-14 21:45:13.000000000', 'files': ['.zuul.yaml', 'designate/storage/impl_sqlalchemy/migrate_repo/versions/080_domain_to_zone_rename.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/fba57ab1caae768b7ca5c73a0db9e3e0ba241533', 'message': 'Fix migration for sqlalchemy 1.4\n\nThis patch fixes a database migration for sqlalchemy 1.4.\nIt also removes some unused functions from that migration.\n\nNote: This patch temporarily disables the scenario jobs to allow\nthis gate fix to merge while the tempest test issue is being\nresolved.\nA direct follow up patch will re-enable the tests.\n\nChange-Id: I4fee32f9be080eea6eef38fcecbdb2dd3940b9e6\n'}]",0,795906,fba57ab1caae768b7ca5c73a0db9e3e0ba241533,60,5,3,11628,,,0,"Fix migration for sqlalchemy 1.4

This patch fixes a database migration for sqlalchemy 1.4.
It also removes some unused functions from that migration.

Note: This patch temporarily disables the scenario jobs to allow
this gate fix to merge while the tempest test issue is being
resolved.
A direct follow up patch will re-enable the tests.

Change-Id: I4fee32f9be080eea6eef38fcecbdb2dd3940b9e6
",git fetch https://review.opendev.org/openstack/designate refs/changes/06/795906/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/storage/impl_sqlalchemy/migrate_repo/versions/080_domain_to_zone_rename.py'],1,f40bb13c33dab5acb504194d4c7aa66546fd8f68,, table = fk_def[0].table,def index_exists(index): table = index[1]._get_table() cols = sorted([str(x).split('.')[1] for x in index[1:]]) for idx in table.indexes: if sorted(idx.columns.keys()) == cols: return True return False def drop_index(index): if index_exists(index): index = Index(*index) index.drop() table = fk_def[0]._get_table(),1,17
openstack%2Fcharms.openstack~master~I2351baa89b3f9d33eb2f9ad6bf4f82d044b2d330,openstack/charms.openstack,master,I2351baa89b3f9d33eb2f9ad6bf4f82d044b2d330,Config adapters for trilio s3 cert,MERGED,2021-06-14 11:14:45.000000000,2021-06-14 23:39:16.000000000,2021-06-14 23:39:16.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 11:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/3a72dd32fa15bff0567c1f816b952a61538126ab', 'message': 'Config adapters for trilio s3 cert\n\nChange-Id: I2351baa89b3f9d33eb2f9ad6bf4f82d044b2d330\n'}, {'number': 2, 'created': '2021-06-14 11:31:31.000000000', 'files': ['charms_openstack/plugins/trilio.py', 'unit_tests/charms_openstack/plugins/test_trilio.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/6c8eb01162edef5e3f8e3af6cb90905e8b2a3065', 'message': 'Config adapters for trilio s3 cert\n\nChange-Id: I2351baa89b3f9d33eb2f9ad6bf4f82d044b2d330\n'}]",0,796266,6c8eb01162edef5e3f8e3af6cb90905e8b2a3065,11,3,2,12549,,,0,"Config adapters for trilio s3 cert

Change-Id: I2351baa89b3f9d33eb2f9ad6bf4f82d044b2d330
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/66/796266/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/plugins/trilio.py', 'unit_tests/charms_openstack/plugins/test_trilio.py']",2,3a72dd32fa15bff0567c1f816b952a61538126ab,support-s3-cert-for-trilio," def test_trilio_s3_cert_file(self): cls_mock = mock.MagicMock() self.config.return_value = 'QSBjZXJ0Cg==' self.assertEqual( trilio.trilio_s3_cert_file(cls_mock), '/usr/share/ca-certificates/charm-s3.cert') self.config.return_value = None self.assertIsNone( trilio.trilio_s3_cert_file(cls_mock)) def test_trilio_s3_cert_data(self): cls_mock = mock.MagicMock() self.config.return_value = 'QSBjZXJ0Cg==' self.assertEqual( trilio.trilio_s3_cert_data(cls_mock), 'A cert\n') self.config.return_value = None self.assertIsNone( trilio.trilio_s3_cert_data(cls_mock)) ",,35,0
openstack%2Fcharm-trilio-dm-api~master~I29028cb24adc722223fe3e6f4be3a576efdc9681,openstack/charm-trilio-dm-api,master,I29028cb24adc722223fe3e6f4be3a576efdc9681,Set a minimum number of dm-api workers,MERGED,2021-06-04 14:58:45.000000000,2021-06-14 23:33:42.000000000,2021-06-14 23:33:42.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 14:58:45.000000000', 'files': ['src/config.yaml', 'src/templates/dmapi.conf', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/6bc72c0c7d7de602aef76ff3725edb15fd43f37d', 'message': 'Set a minimum number of dm-api workers\n\ndmapi-api are light weight processes, so irrespective of the cpu\ncounts set it to higher value. Bottleneck can occur when less number\nof workers are used, so keeping it to a default of 16 is a safe\noption for us now.\n\nChange-Id: I29028cb24adc722223fe3e6f4be3a576efdc9681\n'}]",0,794846,6bc72c0c7d7de602aef76ff3725edb15fd43f37d,9,3,1,12549,,,0,"Set a minimum number of dm-api workers

dmapi-api are light weight processes, so irrespective of the cpu
counts set it to higher value. Bottleneck can occur when less number
of workers are used, so keeping it to a default of 16 is a safe
option for us now.

Change-Id: I29028cb24adc722223fe3e6f4be3a576efdc9681
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/46/794846/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/templates/dmapi.conf', 'src/layer.yaml']",3,6bc72c0c7d7de602aef76ff3725edb15fd43f37d,hot-fix-41,config: deletes: - worker-multiplier,,9,1
openstack%2Fcharm-trilio-wlm~master~I688f562beabe3c37697a28facebad1ae5c928064,openstack/charm-trilio-wlm,master,I688f562beabe3c37697a28facebad1ae5c928064,Add new options for 4.1 hotfix,MERGED,2021-06-04 14:58:33.000000000,2021-06-14 23:30:08.000000000,2021-06-14 23:30:08.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 14:58:33.000000000', 'files': ['src/config.yaml', 'src/templates/api-paste.ini', 'src/templates/workloadmgr.conf'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/9cf1708b4245ded1cd88bc34c057e2ad117a7f1c', 'message': 'Add new options for 4.1 hotfix\n\nAdd new options for 4.1 hotfix package releaese and respect the\nvalue of  use-internal-endpoints.\n\nChange-Id: I688f562beabe3c37697a28facebad1ae5c928064\n'}]",0,794845,9cf1708b4245ded1cd88bc34c057e2ad117a7f1c,11,3,1,12549,,,0,"Add new options for 4.1 hotfix

Add new options for 4.1 hotfix package releaese and respect the
value of  use-internal-endpoints.

Change-Id: I688f562beabe3c37697a28facebad1ae5c928064
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/45/794845/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/templates/api-paste.ini', 'src/templates/workloadmgr.conf']",3,9cf1708b4245ded1cd88bc34c057e2ad117a7f1c,hot-fix-41,max_wait_for_upload = {{ options.max_wait_for_upload }}client_retry_limit = {{ options.client_retry_limit }} [global_job_scheduler] misfire_grace_time = {{ options.misfire_grace_time }},,30,0
openstack%2Fpuppet-nova~master~Ie25511cc2fded0c959efbfa86d83b640fbee6487,openstack/puppet-nova,master,Ie25511cc2fded0c959efbfa86d83b640fbee6487,Get rid of the $pyvers variable,MERGED,2021-05-21 10:08:55.000000000,2021-06-14 22:53:27.000000000,2021-06-14 22:53:27.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-21 10:08:55.000000000', 'files': ['manifests/params.pp', 'spec/classes/nova_metadata_novajoin_api_spec.rb', 'spec/classes/nova_client_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f92f8d0787a3af4c0216e643ac41968638d04c42', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: Ie25511cc2fded0c959efbfa86d83b640fbee6487\n""}]",0,792566,f92f8d0787a3af4c0216e643ac41968638d04c42,9,3,1,6476,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: Ie25511cc2fded0c959efbfa86d83b640fbee6487
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/66/792566/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/params.pp', 'spec/classes/nova_metadata_novajoin_api_spec.rb', 'spec/classes/nova_client_spec.rb']",3,f92f8d0787a3af4c0216e643ac41968638d04c42,pyvers-removal, { :client_package_name => 'python3-novaclient' }, if facts[:operatingsystem] == 'Fedora' { :client_package_name => 'python3-novaclient' } else if facts[:operatingsystemmajrelease] > '7' { :client_package_name => 'python3-novaclient' } else { :client_package_name => 'python-novaclient' } end end,7,23
openstack%2Fpuppet-openstack-integration~master~Iaff680095dfa93f5f6f2995ec588d352413aa8fe,openstack/puppet-openstack-integration,master,Iaff680095dfa93f5f6f2995ec588d352413aa8fe,Replace deprecated glance::api::database_connection,MERGED,2021-04-30 08:39:45.000000000,2021-06-14 22:44:57.000000000,2021-06-14 22:44:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-30 08:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1b61fdeb030443010078153806e5cea4707afbdb', 'message': 'Replace deprecated glance::api::database_connection\n\nChange-Id: Iaff680095dfa93f5f6f2995ec588d352413aa8fe\n'}, {'number': 2, 'created': '2021-05-04 02:21:42.000000000', 'files': ['manifests/glance.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/cbb542e07acfdbdb7459963d431d842ecaf7abdf', 'message': 'Replace deprecated glance::api::database_connection\n\nChange-Id: Iaff680095dfa93f5f6f2995ec588d352413aa8fe\n'}]",0,788904,cbb542e07acfdbdb7459963d431d842ecaf7abdf,10,3,2,9816,,,0,"Replace deprecated glance::api::database_connection

Change-Id: Iaff680095dfa93f5f6f2995ec588d352413aa8fe
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/04/788904/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/glance.pp'],1,1b61fdeb030443010078153806e5cea4707afbdb,, class { 'glance::api::db': } class { 'glance::api':, class { 'glance::api':,3,1
openstack%2Fpuppet-openstack-integration~master~Ie4cfd34bfceed91b0d7f12a079f7f94b1d0a57ce,openstack/puppet-openstack-integration,master,Ie4cfd34bfceed91b0d7f12a079f7f94b1d0a57ce,Enable aodh-expirer,MERGED,2021-05-23 13:22:36.000000000,2021-06-14 22:44:54.000000000,2021-06-14 22:44:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-23 13:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/be4f9e2a9dbf11dee1094f51c2b0c049456119c5', 'message': 'Enable aodh-expirer\n\nChange-Id: Ie4cfd34bfceed91b0d7f12a079f7f94b1d0a57ce\n'}, {'number': 2, 'created': '2021-05-23 14:46:54.000000000', 'files': ['manifests/aodh.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e4de2be71a5523800cf31138dbfd78a5a9986694', 'message': 'Enable aodh-expirer\n\nChange-Id: Ie4cfd34bfceed91b0d7f12a079f7f94b1d0a57ce\n'}]",0,792741,e4de2be71a5523800cf31138dbfd78a5a9986694,9,3,2,9816,,,0,"Enable aodh-expirer

Change-Id: Ie4cfd34bfceed91b0d7f12a079f7f94b1d0a57ce
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/41/792741/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/aodh.pp'],1,be4f9e2a9dbf11dee1094f51c2b0c049456119c5,aodh-expirer, class { 'aodh::expirer': },,1,0
openstack%2Fpuppet-vitrage~master~I44895d8fcae71a48b7f74aa25e9b7c1a170db379,openstack/puppet-vitrage,master,I44895d8fcae71a48b7f74aa25e9b7c1a170db379,Get rid of the $pyvers variable,MERGED,2021-06-14 07:47:32.000000000,2021-06-14 22:32:36.000000000,2021-06-14 22:32:36.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 07:47:32.000000000', 'files': ['manifests/params.pp', 'spec/classes/vitrage_client_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/e8c63f4ecf092e52f9133bb72eb5f165706003c7', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I44895d8fcae71a48b7f74aa25e9b7c1a170db379\n""}]",0,796240,e8c63f4ecf092e52f9133bb72eb5f165706003c7,7,3,1,6476,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: I44895d8fcae71a48b7f74aa25e9b7c1a170db379
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/40/796240/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/params.pp', 'spec/classes/vitrage_client_spec.rb']",2,e8c63f4ecf092e52f9133bb72eb5f165706003c7,pyvers-removal, { :client_package_name => 'python3-vitrageclient' }, if facts[:operatingsystem] == 'Fedora' { :client_package_name => 'python3-vitrageclient' } else if facts[:operatingsystemmajrelease] > '7' { :client_package_name => 'python3-vitrageclient' } else { :client_package_name => 'python-vitrageclient' } end end,2,11
openstack%2Frequirements~stable%2Fvictoria~I2d19d10aea7fb9354376829cbd78b71030a3e235,openstack/requirements,stable/victoria,I2d19d10aea7fb9354376829cbd78b71030a3e235,update constraint for sushy to new release 3.4.4,MERGED,2021-06-14 16:50:37.000000000,2021-06-14 22:27:52.000000000,2021-06-14 22:27:52.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 16:50:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f11be382b0e9608e2053308ada263db1e5506755', 'message': 'update constraint for sushy to new release 3.4.4\n\nmeta: version: 3.4.4\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Commit: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Change-Id: Ifd8fcc669a7c2761b1b6f33a8176241cb2a59c3d\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I2d19d10aea7fb9354376829cbd78b71030a3e235\n'}]",0,796301,f11be382b0e9608e2053308ada263db1e5506755,7,2,1,11131,,,0,"update constraint for sushy to new release 3.4.4

meta: version: 3.4.4
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Commit: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Change-Id: Ifd8fcc669a7c2761b1b6f33a8176241cb2a59c3d
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I2d19d10aea7fb9354376829cbd78b71030a3e235
",git fetch https://review.opendev.org/openstack/requirements refs/changes/01/796301/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f11be382b0e9608e2053308ada263db1e5506755,new-release,sushy===3.4.4,sushy===3.4.3,1,1
openstack%2Fpuppet-trove~master~I19d9b7964a92a531ccc0a74f95246d26edd09a09,openstack/puppet-trove,master,I19d9b7964a92a531ccc0a74f95246d26edd09a09,Drop Fedora support,MERGED,2021-06-12 07:23:01.000000000,2021-06-14 22:20:04.000000000,2021-06-14 22:18:04.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-12 07:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/6427190eebfa90196585853963c463278c62289a', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I19d9b7964a92a531ccc0a74f95246d26edd09a09\n""}, {'number': 2, 'created': '2021-06-12 14:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/7c614d4fe946e1bc1c99d9ee946b259bdef2539a', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I19d9b7964a92a531ccc0a74f95246d26edd09a09\n""}, {'number': 3, 'created': '2021-06-14 10:35:15.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-38ed41e5138154d7.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/56b1669a1ba50bd1d4e6f7ff76ffdc9777f7f9a1', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I19d9b7964a92a531ccc0a74f95246d26edd09a09\n""}]",0,796107,56b1669a1ba50bd1d4e6f7ff76ffdc9777f7f9a1,16,3,3,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I19d9b7964a92a531ccc0a74f95246d26edd09a09
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/07/796107/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-38ed41e5138154d7.yaml']",2,6427190eebfa90196585853963c463278c62289a,drop-fedora,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-trove~master~Iebaeb757d2b989f8307a47f57d7aff6071527836,openstack/puppet-trove,master,Iebaeb757d2b989f8307a47f57d7aff6071527836,Get rid of the $pyvers variable,MERGED,2021-06-14 07:38:27.000000000,2021-06-14 22:18:01.000000000,2021-06-14 22:18:01.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 07:38:27.000000000', 'files': ['manifests/params.pp', 'spec/classes/trove_client_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/4d2d6bfe8e45b9702af2484848bab4ec1e925fe4', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: Iebaeb757d2b989f8307a47f57d7aff6071527836\n""}]",0,796236,4d2d6bfe8e45b9702af2484848bab4ec1e925fe4,7,3,1,6476,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: Iebaeb757d2b989f8307a47f57d7aff6071527836
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/36/796236/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/params.pp', 'spec/classes/trove_client_spec.rb']",2,4d2d6bfe8e45b9702af2484848bab4ec1e925fe4,pyvers-removal, { :client_package_name => 'python3-troveclient' }, if facts[:operatingsystem] == 'Fedora' { :client_package_name => 'python3-troveclient' } else if facts[:operatingsystemmajrelease] > '7' { :client_package_name => 'python3-troveclient' } else { :client_package_name => 'python-troveclient' } end end,2,11
openstack%2Fdesignate-tempest-plugin~master~Ic2a7e55a0e7a4bf2297a2177004cc967fae200ae,openstack/designate-tempest-plugin,master,Ic2a7e55a0e7a4bf2297a2177004cc967fae200ae,Update hacking version to latest,ABANDONED,2019-01-11 09:05:48.000000000,2021-06-14 22:00:22.000000000,,"[{'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-11 09:05:48.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/c73977b296337e469e64d84e565e3f837a4a90dd', 'message': 'Update hacking version to latest\n\nChange-Id: Ic2a7e55a0e7a4bf2297a2177004cc967fae200ae\n'}]",0,630077,c73977b296337e469e64d84e565e3f837a4a90dd,4,2,1,27382,,,0,"Update hacking version to latest

Change-Id: Ic2a7e55a0e7a4bf2297a2177004cc967fae200ae
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/77/630077/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c73977b296337e469e64d84e565e3f837a4a90dd,,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0",1,1
openstack%2Fdesignate-tempest-plugin~master~I9baf2c5091d899302bf55050c4ee6efb481adb53,openstack/designate-tempest-plugin,master,I9baf2c5091d899302bf55050c4ee6efb481adb53,Bump the openstackdocstheme extension to 1.20,ABANDONED,2019-10-11 08:35:40.000000000,2021-06-14 21:58:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-11 08:35:40.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/8b76fd69e281e6df7852a03989f09e41501e9523', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I9baf2c5091d899302bf55050c4ee6efb481adb53\n'}]",0,688070,8b76fd69e281e6df7852a03989f09e41501e9523,3,1,1,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I9baf2c5091d899302bf55050c4ee6efb481adb53
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/70/688070/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py']",2,8b76fd69e281e6df7852a03989f09e41501e9523,openstackdocstheme,,"# Must set this variable to include year, month, day, hours, and minutes. html_last_updated_fmt = '%Y-%m-%d %H:%M'project = u'designate'# The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. #language = None latex_elements = { # The paper size ('letterpaper' or 'a4paper'). #'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). #'pointsize': '10pt', # Additional stuff for the LaTeX preamble. #'preamble': '', } ",1,23
openstack%2Fpuppet-tacker~master~I0dd38974a07d76b003688c57258aaa37a8b6ed32,openstack/puppet-tacker,master,I0dd38974a07d76b003688c57258aaa37a8b6ed32,Get rid of the $pyvers variable,MERGED,2021-06-14 07:48:50.000000000,2021-06-14 21:23:27.000000000,2021-06-14 21:23:27.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 07:48:50.000000000', 'files': ['spec/classes/tacker_client_spec.rb', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/ae0a25f1ed02ac6ed9a875f70478810e2ba91e24', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I0dd38974a07d76b003688c57258aaa37a8b6ed32\n""}]",0,796241,ae0a25f1ed02ac6ed9a875f70478810e2ba91e24,8,3,1,6476,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: I0dd38974a07d76b003688c57258aaa37a8b6ed32
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/41/796241/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tacker_client_spec.rb', 'manifests/params.pp']",2,ae0a25f1ed02ac6ed9a875f70478810e2ba91e24,pyvers-removal, $client_package_name = 'python3-tackerclient'," $pyvers = $::openstacklib::defaults::pyvers $client_package_name = ""python${pyvers}-tackerclient""",2,11
openstack%2Frequirements~stable%2Fussuri~I37cda67c3b28948f7f67687b4fb05ee2f7c63577,openstack/requirements,stable/ussuri,I37cda67c3b28948f7f67687b4fb05ee2f7c63577,update constraint for sushy to new release 3.2.2,MERGED,2021-06-14 16:44:06.000000000,2021-06-14 21:14:20.000000000,2021-06-14 21:14:20.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 16:44:06.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/598e12063701ba448e07b94b832e54ff1acde74e', 'message': 'update constraint for sushy to new release 3.2.2\n\nmeta: version: 3.2.2\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Commit: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Change-Id: Ifd8fcc669a7c2761b1b6f33a8176241cb2a59c3d\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I37cda67c3b28948f7f67687b4fb05ee2f7c63577\n'}]",0,796298,598e12063701ba448e07b94b832e54ff1acde74e,6,2,1,11131,,,0,"update constraint for sushy to new release 3.2.2

meta: version: 3.2.2
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Commit: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Change-Id: Ifd8fcc669a7c2761b1b6f33a8176241cb2a59c3d
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I37cda67c3b28948f7f67687b4fb05ee2f7c63577
",git fetch https://review.opendev.org/openstack/requirements refs/changes/98/796298/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,598e12063701ba448e07b94b832e54ff1acde74e,new-release,sushy===3.2.2,sushy===3.2.1,1,1
openstack%2Fpuppet-vswitch~master~I0efa6c5d3a986fcb808fca73f0c87a2d993bd739,openstack/puppet-vswitch,master,I0efa6c5d3a986fcb808fca73f0c87a2d993bd739,Drop Fedora support,MERGED,2021-06-12 07:15:36.000000000,2021-06-14 21:05:35.000000000,2021-06-14 21:04:21.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-12 07:15:36.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-be4e568f8834d733.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/f54ecdef2da18d919507dd5cd1d386817d26c4c3', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I0efa6c5d3a986fcb808fca73f0c87a2d993bd739\n""}]",0,796105,f54ecdef2da18d919507dd5cd1d386817d26c4c3,9,3,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I0efa6c5d3a986fcb808fca73f0c87a2d993bd739
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/05/796105/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-be4e568f8834d733.yaml']",2,f54ecdef2da18d919507dd5cd1d386817d26c4c3,drop-fedora,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-ironic~master~I0e6ddd5f40e49a69118ea55f38fa0d1a2075d420,openstack/puppet-ironic,master,I0e6ddd5f40e49a69118ea55f38fa0d1a2075d420,Drop Fedora support,MERGED,2021-06-12 14:32:06.000000000,2021-06-14 20:57:48.000000000,2021-06-14 20:56:34.000000000,"[{'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-12 14:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/69018d1e5274f6612b386ef94b2a2bffdbabd1dd', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I0e6ddd5f40e49a69118ea55f38fa0d1a2075d420\n""}, {'number': 2, 'created': '2021-06-14 08:13:18.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-1a946328e0084234.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/95f2f81e026fb38836f8c6b7af9b8135758384b7', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I0e6ddd5f40e49a69118ea55f38fa0d1a2075d420\n""}]",2,796119,95f2f81e026fb38836f8c6b7af9b8135758384b7,12,3,2,9816,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I0e6ddd5f40e49a69118ea55f38fa0d1a2075d420
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/19/796119/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-1a946328e0084234.yaml']",2,69018d1e5274f6612b386ef94b2a2bffdbabd1dd,drop-fedora,"--- prelude: > Replace this text with content to appear at the top of the section for this release. All of the prelude content is merged together and then rendered separately from the items listed in other parts of the file, so the text needs to be worded so that both the prelude and the other items make sense when read independently. This may mean repeating some details. Not every release note requires a prelude. Usually only notes describing major features or adding release theme details should have a prelude. features: - | List new features here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. issues: - | List known issues here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. upgrade: - | List upgrade notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. deprecations: - | List deprecations notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. critical: - | Add critical notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. security: - | Add security notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. fixes: - | Add normal bug fixes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. other: - | Add other notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. ",,65,6
openstack%2Fgovernance~master~If65c2ce75d62132984dc62ae15980ac4c159cc65,openstack/governance,master,If65c2ce75d62132984dc62ae15980ac4c159cc65,Deprecating devstack-gate,MERGED,2021-06-08 17:38:09.000000000,2021-06-14 20:51:15.000000000,2021-06-14 20:49:59.000000000,"[{'_account_id': 1004}, {'_account_id': 2033}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 13252}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-08 17:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/7993493a083735f9fdfd2cd9da8f04baef8c4981', 'message': 'Deprecating devstack-gate\n\nAs discussed over ML[1] and very long planned, we are\nofficially deprecating the devstack-gate. It will keep\nsupporting the old stable branch until stable/wallaby.\n\nAs per deprecation process[2], because devstck-gate is\nbranchless, this is the only step we need to do.\n\n[1]\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-June/022956.html\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-June/022966.html\n\n[2] https://docs.openstack.org/project-team-guide/repository.html#deprecating-a-repository\n\nChange-Id: If65c2ce75d62132984dc62ae15980ac4c159cc65\n'}, {'number': 2, 'created': '2021-06-08 18:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/a45852a84ecd59f2359827da1c21171d3efec546', 'message': 'Deprecating devstack-gate\n\nAs discussed over ML[1] and very long planned, we are\nofficially deprecating the devstack-gate. It will keep\nsupporting the old stable branch until stable/wallaby.\n\nAs per deprecation process[2], because devstck-gate is\nbranchless, this is the only step we need to do.\n\n[1]\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-June/022956.html\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-June/022966.html\n\n[2] https://docs.openstack.org/project-team-guide/repository.html#deprecating-a-repository\n\nChange-Id: If65c2ce75d62132984dc62ae15980ac4c159cc65\n'}, {'number': 3, 'created': '2021-06-10 23:27:09.000000000', 'files': ['reference/sigs-repos.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/a04616303ba062dae9b4d5f4e36b9aaae7b787ca', 'message': 'Deprecating devstack-gate\n\nAs discussed over ML[1] and very long planned, we are\nofficially deprecating the devstack-gate. It will keep\nsupporting the old stable branch until stable/wallaby.\n\nAs per deprecation process[2], because devstck-gate is\nbranchless, this is the only step we need to do.\n\n[1]\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-June/022956.html\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-June/022966.html\n\n[2] https://docs.openstack.org/project-team-guide/repository.html#deprecating-a-repository\n\nChange-Id: If65c2ce75d62132984dc62ae15980ac4c159cc65\n'}]",5,795385,a04616303ba062dae9b4d5f4e36b9aaae7b787ca,27,10,3,8556,,,0,"Deprecating devstack-gate

As discussed over ML[1] and very long planned, we are
officially deprecating the devstack-gate. It will keep
supporting the old stable branch until stable/wallaby.

As per deprecation process[2], because devstck-gate is
branchless, this is the only step we need to do.

[1]
http://lists.openstack.org/pipermail/openstack-discuss/2021-June/022956.html
http://lists.openstack.org/pipermail/openstack-discuss/2021-June/022966.html

[2] https://docs.openstack.org/project-team-guide/repository.html#deprecating-a-repository

Change-Id: If65c2ce75d62132984dc62ae15980ac4c159cc65
",git fetch https://review.opendev.org/openstack/governance refs/changes/85/795385/3 && git format-patch -1 --stdout FETCH_HEAD,['reference/sigs-repos.yaml'],1,7993493a083735f9fdfd2cd9da8f04baef8c4981,project-update, - repo: openstack/devstack-gate: deprecated: xena, - repo: openstack/devstack-gate,2,1
openstack%2Fpuppet-glance~master~I7e4c9237fea1a2645c70e7c350c126eb69cd5344,openstack/puppet-glance,master,I7e4c9237fea1a2645c70e7c350c126eb69cd5344,Drop Fedora support,MERGED,2021-06-12 14:29:19.000000000,2021-06-14 20:50:33.000000000,2021-06-14 20:49:22.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-12 14:29:19.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-3ad30141c46b838a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/83fcadd3bc1b1d114f83dc0154c62eb5eed495b1', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I7e4c9237fea1a2645c70e7c350c126eb69cd5344\n""}]",0,796116,83fcadd3bc1b1d114f83dc0154c62eb5eed495b1,8,3,1,9816,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I7e4c9237fea1a2645c70e7c350c126eb69cd5344
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/16/796116/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-3ad30141c46b838a.yaml']",2,83fcadd3bc1b1d114f83dc0154c62eb5eed495b1,drop-fedora,--- upgrade: - | Fedora is no longer supported. ,,4,6
openstack%2Fmanila~master~I4f22fe7b45394045f672d5bbd3b46c4e5e4b2fd3,openstack/manila,master,I4f22fe7b45394045f672d5bbd3b46c4e5e4b2fd3,Fix PDF build,MERGED,2021-06-11 13:22:55.000000000,2021-06-14 20:01:02.000000000,2021-06-14 19:59:09.000000000,"[{'_account_id': 6413}, {'_account_id': 13425}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 13:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/08cd8bc4b37baf6b2798b31625be57314a45b923', 'message': 'WIP: doc fix\n\nChange-Id: I4f22fe7b45394045f672d5bbd3b46c4e5e4b2fd3\n'}, {'number': 2, 'created': '2021-06-11 13:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/567053bd17bbf0512358bc97b890817c801525c5', 'message': 'WIP: doc fix\n\nChange-Id: I4f22fe7b45394045f672d5bbd3b46c4e5e4b2fd3\n'}, {'number': 3, 'created': '2021-06-11 14:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5a40c05b0c907e009b846a821690be30dfa3a768', 'message': 'Fix PDF build\n\nWith newer sphinx the pdf build fails and gives the following error:\n\n! Dimension too large.\n\nThis could be memory issue, that can be fixed by not generating sample\nfiles as those can be large.\n\nThis patch also sets back the tox-docs job as voting.\n\nCloses-Bug: #1918707\nChange-Id: I4f22fe7b45394045f672d5bbd3b46c4e5e4b2fd3\n'}, {'number': 4, 'created': '2021-06-11 14:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3288ad38087f2e7ecc5efba2ee05115df2800cca', 'message': 'Fix PDF build\n\nWith newer sphinx the pdf build fails and gives the following error:\n\n! Dimension too large.\n\nThis could be memory issue, that can be fixed by not generating the\nsample_policy file as that can be large.\n\nThis patch also sets back the tox-docs job as voting.\n\nCloses-Bug: #1918707\nChange-Id: I4f22fe7b45394045f672d5bbd3b46c4e5e4b2fd3\n'}, {'number': 5, 'created': '2021-06-11 14:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8ee5e7c96af90c18d614d83fe13248e8eaa19db6', 'message': 'Fix PDF build\n\nWith newer sphinx the pdf build fails and gives the following error:\n\n! Dimension too large.\n\nThis could be memory issue, that can be fixed by not generating the\nsample_policy file as that can be large.\n\nThis patch also sets back the tox-docs job as voting.\n\nCloses-Bug: #1918707\nChange-Id: I4f22fe7b45394045f672d5bbd3b46c4e5e4b2fd3\n'}, {'number': 6, 'created': '2021-06-11 19:06:16.000000000', 'files': ['zuul.d/project.yaml', 'doc/source/configuration/shared-file-systems/samples/sample_policy.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/4bfea794d74019eb5e6fa907ee26ff1fc71ce6b2', 'message': 'Fix PDF build\n\nWith newer sphinx the pdf build fails and gives the following error:\n\n! Dimension too large.\n\nThis could be memory issue, that can be fixed by not generating the\nsample_policy file as that can be large.\n\nThis patch also sets back the tox-docs job as voting.\n\nCloses-Bug: #1918707\nChange-Id: I4f22fe7b45394045f672d5bbd3b46c4e5e4b2fd3\n'}]",0,796004,4bfea794d74019eb5e6fa907ee26ff1fc71ce6b2,34,4,6,17685,,,0,"Fix PDF build

With newer sphinx the pdf build fails and gives the following error:

! Dimension too large.

This could be memory issue, that can be fixed by not generating the
sample_policy file as that can be large.

This patch also sets back the tox-docs job as voting.

Closes-Bug: #1918707
Change-Id: I4f22fe7b45394045f672d5bbd3b46c4e5e4b2fd3
",git fetch https://review.opendev.org/openstack/manila refs/changes/04/796004/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'doc/source/configuration/shared-file-systems/samples/index.rst']",2,08cd8bc4b37baf6b2798b31625be57314a45b923,bug/1918707,.. only:: html .. toctree:: :maxdepth: 1 manila.conf.rst api-paste.ini.rst rootwrap.conf.rst policy.rst sample_policy.rst,.. toctree:: :maxdepth: 1 manila.conf.rst api-paste.ini.rst rootwrap.conf.rst policy.rst sample_policy.rst,9,10
openstack%2Frequirements~master~I464083c6fcb752efb30505de6a47dd0f89390238,openstack/requirements,master,I464083c6fcb752efb30505de6a47dd0f89390238,update constraint for tripleo-common to new release 16.1.0,MERGED,2021-06-14 15:24:30.000000000,2021-06-14 19:38:33.000000000,2021-06-14 19:36:40.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 15:24:30.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c7129f382d59131a57000199fc6924acef4c4c57', 'message': 'update constraint for tripleo-common to new release 16.1.0\n\nmeta: version: 16.1.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: If80932ebd102d4bcda70256f4cf82cb5267939da\nmeta: release:Code-Review+1: Harald Jenss <hjensas@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>\nChange-Id: I464083c6fcb752efb30505de6a47dd0f89390238\n'}]",0,796291,c7129f382d59131a57000199fc6924acef4c4c57,11,2,1,11131,,,0,"update constraint for tripleo-common to new release 16.1.0

meta: version: 16.1.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: If80932ebd102d4bcda70256f4cf82cb5267939da
meta: release:Code-Review+1: Harald Jenss <hjensas@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>
Change-Id: I464083c6fcb752efb30505de6a47dd0f89390238
",git fetch https://review.opendev.org/openstack/requirements refs/changes/91/796291/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c7129f382d59131a57000199fc6924acef4c4c57,new-release,tripleo-common===16.1.0,tripleo-common===16.0.0,1,1
openstack%2Frequirements~master~Ib910c14a0921b5d5fce8079de070c594540ecfea,openstack/requirements,master,Ib910c14a0921b5d5fce8079de070c594540ecfea,update constraint for sushy to new release 3.9.1,MERGED,2021-06-14 16:47:20.000000000,2021-06-14 19:37:42.000000000,2021-06-14 19:36:36.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 16:47:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/316b9870e13caa1711ff7c56f0eedf4433072f4b', 'message': 'update constraint for sushy to new release 3.9.1\n\nmeta: version: 3.9.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Commit: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Change-Id: Ifd8fcc669a7c2761b1b6f33a8176241cb2a59c3d\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ib910c14a0921b5d5fce8079de070c594540ecfea\n'}]",0,796300,316b9870e13caa1711ff7c56f0eedf4433072f4b,8,2,1,11131,,,0,"update constraint for sushy to new release 3.9.1

meta: version: 3.9.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Commit: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Change-Id: Ifd8fcc669a7c2761b1b6f33a8176241cb2a59c3d
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ib910c14a0921b5d5fce8079de070c594540ecfea
",git fetch https://review.opendev.org/openstack/requirements refs/changes/00/796300/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,316b9870e13caa1711ff7c56f0eedf4433072f4b,new-release,sushy===3.9.1,sushy===3.9.0,1,1
