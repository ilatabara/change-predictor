id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fkarbor~master~I644af4268702b7d1c947151af335dda061862137,openstack/karbor,master,I644af4268702b7d1c947151af335dda061862137,Support checkpoint scheduled clean,ABANDONED,2016-11-22 07:12:48.000000000,2021-06-09 22:52:46.000000000,,"[{'_account_id': 2023}, {'_account_id': 17151}, {'_account_id': 17192}, {'_account_id': 18266}, {'_account_id': 18908}, {'_account_id': 21648}]","[{'number': 1, 'created': '2016-11-22 07:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/3266b89de3d559abbdf7f5567d000c988ec4a607', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 2, 'created': '2016-11-23 10:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/5ceab5fc16b595049eeea81116e3548bb84b7f6a', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 3, 'created': '2016-11-25 01:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/9cf8fe01d338a2d67e8369eb786e0dc99d9982f2', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 4, 'created': '2016-11-29 09:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/d29081fa9ad9b19cc9fd4d37f8a3f930ebe0ae95', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 5, 'created': '2016-12-06 02:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/a960fd441e0e7aeaabc62d3f41cfb9f5fb21cd44', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 6, 'created': '2016-12-06 03:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/285aca81e5fc6317fd9c282f83d11cbca5270a6d', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 7, 'created': '2016-12-08 01:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/236686a0f36dd06e91de7d00d0a8478abab3f22c', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 8, 'created': '2016-12-20 02:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/e1a6180116ffad15acedf72b228d7d98c68cba62', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 9, 'created': '2016-12-20 07:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/02bf8257d71b2112069a28f770247a8badb5cf6e', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 10, 'created': '2016-12-21 02:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/33b7e6c2da7f77bc12b59a380f50ab621b43fc21', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 11, 'created': '2016-12-21 03:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/3052f48d04f7330148f421e8daca691c5dccc496', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 12, 'created': '2016-12-22 05:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/fc294dbce6b31e9d323ac4e535087d31d612124f', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 13, 'created': '2016-12-22 06:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/d5042757e73858fba440ba8491858391574c17d9', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 14, 'created': '2016-12-22 07:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/0430c90d69326c5127f3f3c289d7ca785c835d01', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 15, 'created': '2017-02-13 02:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/48507c0a2d5cc36a05a883e99583ab39acaa86f1', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 16, 'created': '2017-02-13 09:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/41389c8de131ac2a571a1b1132d7b16fad3c50f8', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 17, 'created': '2017-02-21 06:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/b8a70fb821c68a014cbc0b5b1e1c3d21fadf418d', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 18, 'created': '2017-03-07 01:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/5683e8a8fd9429cd88630180d6a9be17dbe1307b', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 19, 'created': '2017-03-07 02:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/b9080ec7f59d4bce6bad21d804afaaf345523f3f', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 20, 'created': '2017-03-07 05:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/a2f06e4c3460815b90f47be3bc382036d8003cc0', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 21, 'created': '2017-03-09 03:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/bc1173b40df2a4b1fbdd5908d332e30bed6d74a1', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 22, 'created': '2017-03-09 03:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/e357268306de497da9db256e918f6fa13265dd74', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 23, 'created': '2017-03-14 01:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/ee552c4abf542358fd2b4261ccfff3314b175cdf', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 24, 'created': '2017-03-14 01:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/b4130694be8edcd5b7e7eb57b76efc6c7d3bf7fa', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 25, 'created': '2017-03-15 06:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/5c98509ac163af1555f9167a13bd6eb4f0db5222', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 26, 'created': '2017-03-22 02:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/6ff7606ca98b1681ce28f2aa7a3ed5d8ee7fede7', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 27, 'created': '2017-03-22 03:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/39e9991663d318c3ef0a75e25d8a34cfa38ddea1', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 28, 'created': '2017-03-22 06:10:18.000000000', 'files': ['karbor/tests/unit/operationengine/operations/test_protect_operation.py', 'karbor/services/operationengine/operations/protect_operation.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/46c9407dfb49a587a36d1f0538257f69195e5ea6', 'message': 'Support checkpoint scheduled clean\n\nOperation Engine Service supports the scheduled operation for a\nprotection plan, The checkpoints will be created every day or\nevery week or every month, Then the number of checkpoints will\nbe more and more.\nThis will support automatic clean feature and policy for user.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I644af4268702b7d1c947151af335dda061862137\nImplements: blueprint checkpoint-scheduled-clean\n'}]",32,400540,46c9407dfb49a587a36d1f0538257f69195e5ea6,82,6,28,21648,,,0,"Support checkpoint scheduled clean

Operation Engine Service supports the scheduled operation for a
protection plan, The checkpoints will be created every day or
every week or every month, Then the number of checkpoints will
be more and more.
This will support automatic clean feature and policy for user.

Depends-On: I34c3f2996b11a0597091276eedd120c5222073b4
Change-Id: I644af4268702b7d1c947151af335dda061862137
Implements: blueprint checkpoint-scheduled-clean
",git fetch https://review.opendev.org/openstack/karbor refs/changes/40/400540/9 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/common/constants.py', 'karbor/services/operationengine/operations/protect_operation.py']",2,3266b89de3d559abbdf7f5567d000c988ec4a607,bp/checkpoint-scheduled-clean-1,"from datetime import datetime provider_id = operation_definition.get(""provider_id"") plan_id = operation_definition.get(""plan_id"") try: client.checkpoints.create(provider_id, plan_id) cls._update_log_when_operation_finished(log_ref, state) cls._update_log_when_operation_finished(log_ref, state) finally: plan = client.plans.get(plan_id) extra_info = plan.extra_info max_backups = extra_info.get(""max_backups"", -1) retention_duration = extra_info.get(""retention_duration"", -1) cls._delete_old_backup_by_max_backups( client, max_backups, provider_id, plan_id ) cls._delete_old_backup_by_duration( client, retention_duration, provider_id, plan_id ) @staticmethod def _delete_old_backup_by_max_backups( client, max_backups, provider_id, plan_id, operation_by=constants.OPERATION_ENGINE): if max_backups == -1: return filters = {""create_by"": operation_by, ""plan_id"": plan_id} context_ = context.get_admin_context() backup_items = objects.CheckpointRecordList.get_by_filters( context_, filters, sort_keys=[""created_at""] ) available_items = [ item for item in backup_items if item.status == constants.CHECKPOINT_STATUS_AVAILABLE ] count = len(available_items) if count > max_backups: for item in available_items[:count - max_backups]: try: client.checkpoints.delete(provider_id, item.id) except Exception: pass @staticmethod def _delete_old_backup_by_duration( client, retention_duration, provider_id, plan_id, operation_by=constants.SCHEDULED): if retention_duration == -1: return context_ = context.get_admin_context() filters = {""create_by"": operation_by, ""plan_id"": plan_id} backup_items = objects.CheckpointRecordList.get_by_filters( context_, filters, sort_keys=[""created_at""] ) now = datetime.utcnow() for item in backup_items: interval = (now - item['created_at']).days if (interval / 7) > retention_duration: try: client.checkpoints.delete(provider_id, item.id) except Exception: pass"," try: client.checkpoints.create(operation_definition.get(""provider_id""), operation_definition.get(""plan_id"")) cls._update_log_when_operation_finished(log_ref, state)",77,3
openstack%2Fkarbor~master~I0ef46132c1453ef52bf0e786c798928c30e18729,openstack/karbor,master,I0ef46132c1453ef52bf0e786c798928c30e18729,Generic database Bank: plugin implementation,ABANDONED,2017-02-26 15:20:58.000000000,2021-06-09 22:52:41.000000000,,"[{'_account_id': 17151}, {'_account_id': 18266}, {'_account_id': 21648}, {'_account_id': 22056}]","[{'number': 1, 'created': '2017-02-26 15:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/402dabe7d17ac047ac7617ab11643e3ac20a1aae', 'message': 'Generic database Bank: plugin implementation\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I0ef46132c1453ef52bf0e786c798928c30e18729\nImplements: blueprint generic-database-bank\n'}, {'number': 2, 'created': '2017-03-20 07:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/c8fb2b88088414bb5b9da7823443356ab1d56b43', 'message': 'Generic database Bank: plugin implementation\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I0ef46132c1453ef52bf0e786c798928c30e18729\nImplements: blueprint generic-database-bank\n'}, {'number': 3, 'created': '2017-03-28 07:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/88955262ce192aeaaaafdfd80f4314dc6ac3fb05', 'message': 'Generic database Bank: plugin implementation\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I0ef46132c1453ef52bf0e786c798928c30e18729\nImplements: blueprint generic-database-bank\n'}, {'number': 4, 'created': '2017-03-28 08:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/fb74e5e1d12ce18f4826b0d3fa4c20983eb23b3b', 'message': 'Generic database Bank: plugin implementation\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I0ef46132c1453ef52bf0e786c798928c30e18729\nImplements: blueprint generic-database-bank\n'}, {'number': 5, 'created': '2017-03-28 08:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/e5b81cdf05c1eb1a710b14623badede97a068231', 'message': 'Generic database Bank: plugin implementation\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I0ef46132c1453ef52bf0e786c798928c30e18729\nImplements: blueprint generic-database-bank\n'}, {'number': 6, 'created': '2017-03-28 08:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/52f0e69d2e2e797a4c917686def66e9ecac84987', 'message': 'Generic database Bank: plugin implementation\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I0ef46132c1453ef52bf0e786c798928c30e18729\nImplements: blueprint generic-database-bank\n'}, {'number': 7, 'created': '2017-03-28 16:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/e8aaefc5764703d81abd2638b76d74bee30daa8f', 'message': 'Generic database Bank: plugin implementation\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I0ef46132c1453ef52bf0e786c798928c30e18729\nImplements: blueprint generic-database-bank\n'}, {'number': 8, 'created': '2017-03-28 16:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/2ecc8406a126375c4bbfb784e14fd3203ca3a242', 'message': 'Generic database Bank: plugin implementation\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I0ef46132c1453ef52bf0e786c798928c30e18729\nImplements: blueprint generic-database-bank\n'}, {'number': 9, 'created': '2017-03-28 16:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/d434f1a781679e2225781346de05a9eccc2e2c8d', 'message': 'Generic database Bank: plugin implementation\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I0ef46132c1453ef52bf0e786c798928c30e18729\nImplements: blueprint generic-database-bank\n'}, {'number': 10, 'created': '2017-03-30 07:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/1c584717c33aecaf14452cc31a1718315b1139eb', 'message': 'Generic database Bank: plugin implementation\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nCo-Authored-By: zhangshuai <446077695@qq.com>\nChange-Id: I0ef46132c1453ef52bf0e786c798928c30e18729\nImplements: blueprint generic-database-bank\n'}, {'number': 11, 'created': '2017-03-30 07:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/304abb1ab929f9b9f5cbe2216ff1579f9c8960e5', 'message': 'Generic database Bank: plugin implementation\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nCo-Authored-By: zhangshuai <446077695@qq.com>\nChange-Id: I0ef46132c1453ef52bf0e786c798928c30e18729\nImplements: blueprint generic-database-bank\n'}, {'number': 12, 'created': '2017-03-30 09:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/9a257fb69c70c5659f03607fc2baaf4a8dcc0bf1', 'message': 'Generic database Bank: plugin implementation\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nCo-Authored-By: zhangshuai <446077695@qq.com>\nChange-Id: I0ef46132c1453ef52bf0e786c798928c30e18729\nImplements: blueprint generic-database-bank\n'}, {'number': 13, 'created': '2017-03-30 09:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/b4ccc154f5b20b18c3a810603419a1d626c83628', 'message': 'Generic database Bank: plugin implementation\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nCo-Authored-By: zhangshuai <446077695@qq.com>\nChange-Id: I0ef46132c1453ef52bf0e786c798928c30e18729\nImplements: blueprint generic-database-bank\n'}, {'number': 14, 'created': '2017-03-31 07:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/dd162debe09dce498510173cb96086a4cf27fada', 'message': 'Generic database Bank: plugin implementation\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nCo-Authored-By: zhangshuai <446077695@qq.com>\nChange-Id: I0ef46132c1453ef52bf0e786c798928c30e18729\nImplements: blueprint generic-database-bank\n'}, {'number': 15, 'created': '2017-05-11 06:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/cb50519bd03f3c583106093ce8993b88175c252e', 'message': 'Generic database Bank: plugin implementation\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nCo-Authored-By: zhangshuai <446077695@qq.com>\nChange-Id: I0ef46132c1453ef52bf0e786c798928c30e18729\nImplements: blueprint generic-database-bank\n'}, {'number': 16, 'created': '2017-05-12 06:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/cd87db8bb7407ee069ed8c8778c4354de2b4ff66', 'message': 'Generic database Bank: plugin implementation\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I0ef46132c1453ef52bf0e786c798928c30e18729\nImplements: blueprint generic-database-bank\n'}, {'number': 17, 'created': '2017-05-12 07:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/7914177c9d4da44481e9f3e3f87e5906a69b1de2', 'message': 'Generic database Bank: plugin implementation\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I0ef46132c1453ef52bf0e786c798928c30e18729\nImplements: blueprint generic-database-bank\n'}, {'number': 18, 'created': '2017-06-08 03:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/b7203dd1828ef00fe61ff43346b079f298a8738d', 'message': 'Generic database Bank: plugin implementation\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I0ef46132c1453ef52bf0e786c798928c30e18729\nImplements: blueprint generic-database-bank\n'}, {'number': 19, 'created': '2017-06-08 03:28:55.000000000', 'files': ['karbor/services/protection/bank_plugins/database_bank_plugin/sqlalchemy/api.py', 'karbor/services/protection/bank_plugins/database_bank_plugin/sqlalchemy/migrate_repo/versions/001_bank_init.py', 'etc/providers.d/openstack-database.conf', 'karbor/tests/unit/protection/test_database_bank_plugin.py', 'karbor/services/protection/bank_plugins/database_bank_plugin/plugin.py', 'devstack/plugin.sh', 'setup.cfg', 'karbor/services/protection/bank_plugins/database_bank_plugin/sqlalchemy/models.py', 'karbor/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/106795388c3d4b5193b60c6ca9a13d73fc88046a', 'message': 'Generic database Bank: plugin implementation\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I0ef46132c1453ef52bf0e786c798928c30e18729\nImplements: blueprint generic-database-bank\n'}]",11,438267,106795388c3d4b5193b60c6ca9a13d73fc88046a,55,4,19,17151,,,0,"Generic database Bank: plugin implementation

Add a generic database based bank implementation. It
will use database tables for checkpoint objects
storing data and metadata.

Change-Id: I0ef46132c1453ef52bf0e786c798928c30e18729
Implements: blueprint generic-database-bank
",git fetch https://review.opendev.org/openstack/karbor refs/changes/67/438267/2 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/services/protection/bank_plugins/database_bank_plugin/sqlalchemy/api.py', 'karbor/services/protection/bank_plugins/database_bank_plugin/plugin.py', 'setup.cfg', 'karbor/db/sqlalchemy/api.py']",4,402dabe7d17ac047ac7617ab11643e3ac20a1aae,bp/generic-database-bank-plugin," query = list_common_process_exact_filter(models.Trigger, query, filters, exact_match_filter_names) query = list_common_process_regex_filter(models.Trigger, query, filters, regex_match_filter_names) query = generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, paginate_type=models.Trigger, use_model=True) query = list_common_process_exact_filter( query = list_common_process_regex_filter( query = generate_paginate_query( query = list_common_process_exact_filter( query = generate_paginate_query( query = list_common_process_exact_filter( query = generate_paginate_query( query = generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset) query = generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset) query = list_common_process_exact_filter(models.Plan, query, filters, exact_match_filter_names) query = list_common_process_regex_filter(models.Plan, query, filters, regex_match_filter_names) query = generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset, models.Restore) query = generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset, models.Restore) query = generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset, models.OperationLog) query = generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset, models.OperationLog) query = list_common_process_exact_filter( query = list_common_process_regex_filter( query = generate_paginate_query(def list_common_process_exact_filter(model, query, filters, legal_keys):def list_common_process_regex_filter(model, query, filters, legal_keys, connection=CONF.database.connection): :param connection: the database connection db_regexp_op = _get_regexp_op_for_connection(connection)def generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset=None, paginate_type=models.Plan, use_model=False, **kwargs): pagination_bank_helpers = kwargs.get('pagination_bank_helpers') if pagination_bank_helpers: get_query, process_filters, get = pagination_bank_helpers[ paginate_type] else: get_query, process_filters, get = PAGINATION_HELPERS[paginate_type]"," query = _list_common_process_exact_filter(models.Trigger, query, filters, exact_match_filter_names) query = _list_common_process_regex_filter(models.Trigger, query, filters, regex_match_filter_names) query = _generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, paginate_type=models.Trigger, use_model=True) query = _list_common_process_exact_filter( query = _list_common_process_regex_filter( query = _generate_paginate_query( query = _list_common_process_exact_filter( query = _generate_paginate_query( query = _list_common_process_exact_filter( query = _generate_paginate_query( query = _generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset) query = _generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset) query = _list_common_process_exact_filter(models.Plan, query, filters, exact_match_filter_names) query = _list_common_process_regex_filter(models.Plan, query, filters, regex_match_filter_names) query = _generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset, models.Restore) query = _generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset, models.Restore) query = _generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset, models.OperationLog) query = _generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset, models.OperationLog) query = _list_common_process_exact_filter( query = _list_common_process_regex_filter( query = _generate_paginate_query(def _list_common_process_exact_filter(model, query, filters, legal_keys):def _list_common_process_regex_filter(model, query, filters, legal_keys): db_regexp_op = _get_regexp_op_for_connection(CONF.database.connection)def _generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset=None, paginate_type=models.Plan, use_model=False, **kwargs): get_query, process_filters, get = PAGINATION_HELPERS[paginate_type]",590,46
openstack%2Fkarbor~master~I5dc7bc285c07ead6281a2d5b2d5c1f904afce3d8,openstack/karbor,master,I5dc7bc285c07ead6281a2d5b2d5c1f904afce3d8,Remove pbr warnerrors in favor of sphinx check,ABANDONED,2017-06-13 07:25:48.000000000,2021-06-09 22:52:38.000000000,,"[{'_account_id': 841}, {'_account_id': 17151}, {'_account_id': 22056}]","[{'number': 1, 'created': '2017-06-13 07:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/2f80aa023e21d0be546f1426fb5dc0d559eec654', 'message': 'Remove pbr warnerrors in favor of sphinx check\n\nThis change removes the now unused ""warnerrors"" setting,\nwhich is replaced by ""warning-is-error"" in sphinx\nreleases >= 1.5 [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/\n2017-March/113085.html\n\nChange-Id: I5dc7bc285c07ead6281a2d5b2d5c1f904afce3d8\n'}, {'number': 2, 'created': '2017-07-07 08:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/c65f9517324d81aa8804fbd9a8725aad2a55736a', 'message': 'Remove pbr warnerrors in favor of sphinx check\n\nThis change removes the now unused ""warnerrors"" setting,\nwhich is replaced by ""warning-is-error"" in sphinx\nreleases >= 1.5 [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/\n2017-March/113085.html\n\nChange-Id: I5dc7bc285c07ead6281a2d5b2d5c1f904afce3d8\n'}, {'number': 3, 'created': '2017-07-10 09:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/89d23d4e4fd7635af1fbd82a11b2f1b801b6d5f2', 'message': 'Remove pbr warnerrors in favor of sphinx check\n\nThis change removes the now unused ""warnerrors"" setting,\nwhich is replaced by ""warning-is-error"" in sphinx\nreleases >= 1.5 [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/\n2017-March/113085.html\n\nCo-Authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\nChange-Id: I5dc7bc285c07ead6281a2d5b2d5c1f904afce3d8\n'}, {'number': 4, 'created': '2017-07-10 15:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/dc3e2c89c226d49196e405fa20184c156e7c679e', 'message': 'Remove pbr warnerrors in favor of sphinx check\n\nThis change removes the now unused ""warnerrors"" setting,\nwhich is replaced by ""warning-is-error"" in sphinx\nreleases >= 1.5 [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/\n2017-March/113085.html\n\nCo-Authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\nChange-Id: I5dc7bc285c07ead6281a2d5b2d5c1f904afce3d8\n'}, {'number': 5, 'created': '2017-08-04 07:42:52.000000000', 'files': ['doc/source/specs/cinder-volume-snapshot-plugin.rst', 'doc/source/specs/api-service.rst', 'doc/source/specs/index.rst', 'doc/source/specs/checkpoint-scheduled-clean.rst', 'doc/source/specs/pluggable_protection_provider.rst', 'doc/source/specs/file-system-bank.rst', 'doc/source/specs/checkpoint-metadata.rst', 'doc/source/installation.rst', 'doc/source/specs/manila-share-snapshot-plugins.rst', 'doc/source/specs/add-db-manage-purge.rst', 'doc/source/index.rst', 'doc/source/specs/protection-service/protection-service.rst', 'doc/source/releasenotes.rst', 'doc/source/specs/refactor_clients.rst', 'doc/source/readme.rst', 'doc/source/specs/instances-parameters.rst', 'setup.cfg', 'doc/source/mod_wsgi.rst', 'doc/source/specs/instances-extra-info.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/karbor/commit/5589739ddea87b44cf6fda8ae83da9304b527215', 'message': 'Remove pbr warnerrors in favor of sphinx check\n\nThis change removes the now unused ""warnerrors"" setting,\nwhich is replaced by ""warning-is-error"" in sphinx\nreleases >= 1.5 [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/\n2017-March/113085.html\n\nChange-Id: I5dc7bc285c07ead6281a2d5b2d5c1f904afce3d8\n'}]",3,473715,5589739ddea87b44cf6fda8ae83da9304b527215,17,3,5,25571,,,0,"Remove pbr warnerrors in favor of sphinx check

This change removes the now unused ""warnerrors"" setting,
which is replaced by ""warning-is-error"" in sphinx
releases >= 1.5 [1].

[1] http://lists.openstack.org/pipermail/openstack-dev/
2017-March/113085.html

Change-Id: I5dc7bc285c07ead6281a2d5b2d5c1f904afce3d8
",git fetch https://review.opendev.org/openstack/karbor refs/changes/15/473715/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,2f80aa023e21d0be546f1426fb5dc0d559eec654,doc-migration,warning-is-error = 1,warnerrors = true,1,1
openstack%2Fkarbor~master~Ib6bd72364a2d9f069544dda1d1269138661b8e58,openstack/karbor,master,Ib6bd72364a2d9f069544dda1d1269138661b8e58,Implement Neutron Restoration,ABANDONED,2017-02-13 03:23:23.000000000,2021-06-09 22:52:35.000000000,,"[{'_account_id': 16206}, {'_account_id': 17151}, {'_account_id': 19346}]","[{'number': 1, 'created': '2017-02-13 03:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/9cf79aa1469e94516369f361db4edcd1c380b57f', 'message': 'Implement Neutron Restoration\n\nChange-Id: Ib6bd72364a2d9f069544dda1d1269138661b8e58\nCloses-Bug: 1580210\n'}, {'number': 2, 'created': '2017-02-25 03:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/4503d7bffec18fe046dff7ffb5b446702d507493', 'message': 'Implement Neutron Restoration\n\nCloses-Bug: 1580210\n\nChange-Id: Ib6bd72364a2d9f069544dda1d1269138661b8e58\n'}, {'number': 3, 'created': '2017-03-08 10:53:41.000000000', 'files': ['karbor/services/protection/protection_plugins/network/neutron_protection_plugin.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/e4cf7d7d998c16b99af80731701fb989d8e760d5', 'message': 'Implement Neutron Restoration\n\nCloses-Bug: 1580210\n\nChange-Id: Ib6bd72364a2d9f069544dda1d1269138661b8e58\n'}]",4,432826,e4cf7d7d998c16b99af80731701fb989d8e760d5,14,3,3,16206,,,0,"Implement Neutron Restoration

Closes-Bug: 1580210

Change-Id: Ib6bd72364a2d9f069544dda1d1269138661b8e58
",git fetch https://review.opendev.org/openstack/karbor refs/changes/26/432826/2 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/services/protection/protection_plugins/network/neutron_protection_plugin.py', 'karbor/common/constants.py']",2,9cf79aa1469e94516369f361db4edcd1c380b57f,bug/1580210,"# supported network resource types NETWORK_RESOURCE_TYPES = (NET_RESOURCE_TYPE, SUBNET_RESOURCE_TYPE, ROUTER_RESOURCE_TYPE, ROUTERINTERFACE_RESOURCE_TYPE, PORT_RESOURCE_TYPE, SECURITYGROUP_RESOURCE_TYPE, ) = ('OS::Neutron::Net', 'OS::Neutron::Subnet', 'OS::Neutron::Router', 'OS::Neutron::RouterInterface', 'OS::Neutron::Port', 'OS::Neutron::SecurityGroup', )","# supported resource types RESOURCE_TYPES = (PROJECT_RESOURCE_TYPE, SERVER_RESOURCE_TYPE, VOLUME_RESOURCE_TYPE, IMAGE_RESOURCE_TYPE, NETWORK_RESOURCE_TYPE, ) = ('OS::Keystone::Project', 'OS::Nova::Server', 'OS::Cinder::Volume', 'OS::Glance::Image', 'OS::Neutron::Network', )",211,14
openstack%2Fkarbor~master~I7ec5aae35d372d1859acb33c21e6ccdcc8515b86,openstack/karbor,master,I7ec5aae35d372d1859acb33c21e6ccdcc8515b86,Add database_bank fullstack,ABANDONED,2017-03-31 08:00:27.000000000,2021-06-09 22:52:31.000000000,,"[{'_account_id': 17151}, {'_account_id': 21648}, {'_account_id': 25542}]","[{'number': 1, 'created': '2017-03-31 08:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/e59ea76165ba3ba0a3a868361d24c267ab877f05', 'message': 'Add database_bank fullstack\n\nAdd a fullstack for generic database based bank.\n\nChange-Id: I7ec5aae35d372d1859acb33c21e6ccdcc8515b86\n'}, {'number': 2, 'created': '2017-04-06 05:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/a0db9a0483171f4784c75727be80a4c71e9a04a5', 'message': 'Add database_bank fullstack\n\nAdd a fullstack for generic database based bank.\n\nChange-Id: I7ec5aae35d372d1859acb33c21e6ccdcc8515b86\n'}, {'number': 3, 'created': '2017-04-07 01:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/2e016e985b492632ec6ddac3946364ff15025437', 'message': 'Add database_bank fullstack\n\nAdd a fullstack for generic database based bank.\n\nChange-Id: I7ec5aae35d372d1859acb33c21e6ccdcc8515b86\n'}, {'number': 4, 'created': '2017-05-11 08:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/574019bbc05fccacea03161adde630fd3419aa59', 'message': 'Add database_bank fullstack\n\nAdd a fullstack for generic database based bank.\n\nChange-Id: I7ec5aae35d372d1859acb33c21e6ccdcc8515b86\n'}, {'number': 5, 'created': '2017-05-11 09:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/5537f86a43626b2c80b609dc5bd29acff3348657', 'message': 'Add database_bank fullstack\n\nAdd a fullstack for generic database based bank.\n\nCo-authored-by: chenying <ying.chen@huawei.com>\nChange-Id: I7ec5aae35d372d1859acb33c21e6ccdcc8515b86\n'}, {'number': 6, 'created': '2017-05-12 07:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/93eb4fe6226ae6f9557f751577e85c9feadddc8f', 'message': 'Add database_bank fullstack\n\nAdd a fullstack for generic database based bank.\n\nCo-authored-by: chenying <ying.chen@huawei.com>\nChange-Id: I7ec5aae35d372d1859acb33c21e6ccdcc8515b86\n'}, {'number': 7, 'created': '2017-06-01 15:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/3504a3a398ef89058f8125bc263d8cb66f04e513', 'message': 'Add database_bank fullstack\n\nAdd a fullstack for generic database based bank.\n\nCo-authored-by: chenying <ying.chen@huawei.com>\nChange-Id: I7ec5aae35d372d1859acb33c21e6ccdcc8515b86\n'}, {'number': 8, 'created': '2017-06-08 03:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/4e57ed0671a6a3deff5857c0279a4cb0a5eda9ee', 'message': ':qAdd database_bank fullstack\n\nAdd a fullstack for generic database based bank.\n\nCo-authored-by: chenying <ying.chen@huawei.com>\nChange-Id: I7ec5aae35d372d1859acb33c21e6ccdcc8515b86\n'}, {'number': 9, 'created': '2017-06-08 03:52:34.000000000', 'files': ['karbor/tests/fullstack/karbor_base.py', 'devstack/plugin.sh', 'karbor/tests/fullstack/test_restores.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/c98b36f89f9c9c3ae004feeae98897da31f42789', 'message': 'Add database_bank fullstack\n\nAdd a fullstack for generic database based bank.\n\nCo-authored-by: chenying <ying.chen@huawei.com>\nChange-Id: I7ec5aae35d372d1859acb33c21e6ccdcc8515b86\n'}]",0,452085,c98b36f89f9c9c3ae004feeae98897da31f42789,29,3,9,21648,,,0,"Add database_bank fullstack

Add a fullstack for generic database based bank.

Co-authored-by: chenying <ying.chen@huawei.com>
Change-Id: I7ec5aae35d372d1859acb33c21e6ccdcc8515b86
",git fetch https://review.opendev.org/openstack/karbor refs/changes/85/452085/9 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/tests/fullstack/karbor_base.py', 'karbor/tests/fullstack/test_restores.py']",2,e59ea76165ba3ba0a3a868361d24c267ab877f05,database-bank-fullstack," def test_restore_resources_with_database_bank(self): volume = self.store(objects.Volume()) volume.create(1) plan = self.store(objects.Plan()) plan.create(self.provider_id_database, [volume, ]) checkpoint = self.store(objects.Checkpoint()) checkpoint.create(self.provider_id_database, plan.id) restore_target = self.get_restore_target(self.keystone_endpoint) restore = self.store(objects.Restore()) restore.create(self.provider_id_database, checkpoint.id, restore_target, self.parameters, self.restore_auth) item = self.karbor_client.restores.get(restore.id) self.assertEqual(constants.RESTORE_STATUS_SUCCESS, item.status) self.assertEqual(1, len(item.resources_status)) self._store(item.resources_status)",,20,0
openstack%2Fkarbor~master~Icc3c8a5015d2893c046b7c06007dbd1e41a66ed4,openstack/karbor,master,Icc3c8a5015d2893c046b7c06007dbd1e41a66ed4,Update doc about restore,ABANDONED,2017-05-20 09:55:31.000000000,2021-06-09 22:52:26.000000000,,[{'_account_id': 18266}],"[{'number': 1, 'created': '2017-05-20 09:55:31.000000000', 'files': ['doc/source/installation.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/b75d5b75e632e14ae78255dce57f8a41ab62232b', 'message': 'Update doc about restore\n\nUpdate the docs about restore which involve Heat\n\nChange-Id: Icc3c8a5015d2893c046b7c06007dbd1e41a66ed4\nImplements: blueprint remove-heat\n'}]",0,466479,b75d5b75e632e14ae78255dce57f8a41ab62232b,5,1,1,18266,,,0,"Update doc about restore

Update the docs about restore which involve Heat

Change-Id: Icc3c8a5015d2893c046b7c06007dbd1e41a66ed4
Implements: blueprint remove-heat
",git fetch https://review.opendev.org/openstack/karbor refs/changes/79/466479/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/installation.rst'],1,b75d5b75e632e14ae78255dce57f8a41ab62232b,bp/remove-heat,,Heat ~~~~ .. code-block:: none enable_plugin heat https://git.openstack.org/openstack/heat master enable_service h-eng h-api h-api-cfn h-api-cw ,0,8
openstack%2Fkarbor~master~I7cfe4c6651a7b33ac691ba56f4c0ea4e9f98ab62,openstack/karbor,master,I7cfe4c6651a7b33ac691ba56f4c0ea4e9f98ab62,Enable translations,ABANDONED,2016-10-31 18:51:54.000000000,2021-06-09 22:52:22.000000000,,"[{'_account_id': 2023}, {'_account_id': 17151}, {'_account_id': 17192}, {'_account_id': 18266}, {'_account_id': 23733}]","[{'number': 1, 'created': '2016-10-31 18:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/ed956d8eecace82c1c158c0d038d3b95fa272d3c', 'message': 'Enable translations\n\nChange-Id: I7cfe4c6651a7b33ac691ba56f4c0ea4e9f98ab62\n'}, {'number': 2, 'created': '2016-11-01 06:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/3df7f388ccc70496b5d9229e13f000568f48b965', 'message': 'Enable translations\n\nChange-Id: I7cfe4c6651a7b33ac691ba56f4c0ea4e9f98ab62\n'}, {'number': 3, 'created': '2016-11-07 04:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/70321ec6db0e483542ee9b4ddab1cc6fb649b206', 'message': 'Enable translations\n\nChange-Id: I7cfe4c6651a7b33ac691ba56f4c0ea4e9f98ab62\n'}, {'number': 4, 'created': '2016-11-08 11:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/248a1dfe02493655e5f7595d147d5b33ede30438', 'message': 'Enable translations\n\nChange-Id: I7cfe4c6651a7b33ac691ba56f4c0ea4e9f98ab62\n'}, {'number': 5, 'created': '2016-11-09 13:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/61cb9342b657a10d544c92f99be50c1b603f9ba6', 'message': 'Enable translations\n\nChange-Id: I7cfe4c6651a7b33ac691ba56f4c0ea4e9f98ab62\n'}, {'number': 6, 'created': '2016-11-14 06:31:58.000000000', 'files': ['karbor/common/config.py', 'karbor/common/karbor_keystone_plugin.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/karbor/commit/f734433e662017a1aef17842de70c678321b0983', 'message': 'Enable translations\n\nChange-Id: I7cfe4c6651a7b33ac691ba56f4c0ea4e9f98ab62\n'}]",7,391944,f734433e662017a1aef17842de70c678321b0983,30,5,6,23733,,,0,"Enable translations

Change-Id: I7cfe4c6651a7b33ac691ba56f4c0ea4e9f98ab62
",git fetch https://review.opendev.org/openstack/karbor refs/changes/44/391944/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/common/config.py', 'karbor/common/karbor_keystone_plugin.py']",2,ed956d8eecace82c1c158c0d038d3b95fa272d3c,translate,"from karbor.i18n import _, _LW msg = _('get keystone auth url failed') msg = _('get service(%s) endpoint failed' % service_name) msg = _(""user=%s, project=%s"" % (context.user_id, context.project_id)) msg = _(""get service's user(%s) endpoint failed"" % user_name) msg = _('create keystone client failed')","from karbor.i18n import _LW msg = 'get keystone auth url failed' msg = ('get service(%s) endpoint failed' % service_name) msg = (""user=%s, project=%s"" % (context.user_id, context.project_id)) msg = (""get service's user(%s) endpoint failed"" % user_name) msg = 'create keystone client failed'",31,30
openstack%2Fkarbor~master~Ie1b7a9f2d0c2f7a8037e57ea46e071236d9827fb,openstack/karbor,master,Ie1b7a9f2d0c2f7a8037e57ea46e071236d9827fb,Implement the provider list option feature,ABANDONED,2017-02-17 08:02:35.000000000,2021-06-09 22:52:19.000000000,,"[{'_account_id': 3}, {'_account_id': 17151}, {'_account_id': 21648}]","[{'number': 1, 'created': '2017-02-17 08:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/aa9f28e9177b85d3a3ea0a3e835fae71c35845fc', 'message': 'Implement the provider list option feature\n\nImplement the provider list option feature\n\nChange-Id: Ie1b7a9f2d0c2f7a8037e57ea46e071236d9827fb\n'}, {'number': 2, 'created': '2017-02-17 09:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/8cb4f3d8472850acbf32f3fc6a9dadda6e45aa80', 'message': 'Implement the provider list option feature\n\nImplement the provider list option feature\n\nChange-Id: Ie1b7a9f2d0c2f7a8037e57ea46e071236d9827fb\n'}, {'number': 3, 'created': '2017-02-20 06:44:42.000000000', 'files': ['karbor/services/protection/provider.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/e58d73a4c3d90b01cdd5839360ad16597ba9322c', 'message': 'Implement the provider list option feature\n\nImplement the provider list option feature\n\nChange-Id: Ie1b7a9f2d0c2f7a8037e57ea46e071236d9827fb\n'}]",4,435292,e58d73a4c3d90b01cdd5839360ad16597ba9322c,10,3,3,24884,,,0,"Implement the provider list option feature

Implement the provider list option feature

Change-Id: Ie1b7a9f2d0c2f7a8037e57ea46e071236d9827fb
",git fetch https://review.opendev.org/openstack/karbor refs/changes/92/435292/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/services/protection/provider.py'],1,aa9f28e9177b85d3a3ea0a3e835fae71c35845fc,provider_list_option_feature," def list_providers(self, marker=None, limit=1000, sort_keys=[], sort_dirs=[], filters={}): providers = [dict(id=provider.id, name=provider.name, for provider in self.providers.values()] for key, val in filters.iteritems(): providers = filter(lambda p: p[key] == val, providers) for key, val in zip(sort_keys, sort_dirs): if key in [""id"", ""name""]: providers.sort(key=lambda p: p[key], cmp=lambda p1, p2: cmp(p1, p2) if val == 'asc' else cmp(p2, p1)) index = 0 if marker is not None: for index in xrange(len(providers)): if providers[index]['id'] == marker: index += 1 break end_index = index+limit if index+limit < len(providers) else None return providers[index:end_index]"," def list_providers(self, marker=None, limit=None, sort_keys=None, sort_dirs=None, filters=None): # TODO(wangliuan) How to use the list option return [dict(id=provider.id, name=provider.name, for provider in self.providers.values()]",20,5
openstack%2Fkarbor~master~Ib353807b135c6cb43e4f549cd71fc4b37d189854,openstack/karbor,master,Ib353807b135c6cb43e4f549cd71fc4b37d189854,Fixes some current typo errors on karbor project.,ABANDONED,2017-01-25 06:23:44.000000000,2021-06-09 22:52:16.000000000,,[{'_account_id': 24456}],"[{'number': 1, 'created': '2017-01-25 06:23:44.000000000', 'files': ['karbor/api/openstack/wsgi.py', 'karbor/services/operationengine/engine/executors/green_thread_executor.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/453bc7d2adab190b7c20df163f8919231d03f6a4', 'message': 'Fixes some current typo errors on karbor project.\n\nChange-Id: Ib353807b135c6cb43e4f549cd71fc4b37d189854\n'}]",0,424993,453bc7d2adab190b7c20df163f8919231d03f6a4,7,1,1,24456,,,0,"Fixes some current typo errors on karbor project.

Change-Id: Ib353807b135c6cb43e4f549cd71fc4b37d189854
",git fetch https://review.opendev.org/openstack/karbor refs/changes/93/424993/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/api/openstack/wsgi.py', 'karbor/services/operationengine/engine/executors/green_thread_executor.py']",2,453bc7d2adab190b7c20df163f8919231d03f6a4,typo-bug-karbor-20172501," # green thread. So if operation_id is not existed, it may be LOG.warning(_LW(""Operation(%s) is not existed after call to DB""),"," # green thread. So if operation_id is not exist, it may be LOG.warning(_LW(""Operation(%s) is not exist after call to DB""),",3,3
openstack%2Fkarbor~master~I1517cc4ac958240ed71c2d5679b44f1d60289682,openstack/karbor,master,I1517cc4ac958240ed71c2d5679b44f1d60289682,Fix minor indentation errors,ABANDONED,2016-11-09 13:44:48.000000000,2021-06-09 22:52:13.000000000,,"[{'_account_id': 2023}, {'_account_id': 11131}, {'_account_id': 17151}]","[{'number': 1, 'created': '2016-11-09 13:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/72d921c87a9334fc2dad338af474e9f9bfd8d413', 'message': 'Fix minor indentation errors\n\nChange-Id: I1517cc4ac958240ed71c2d5679b44f1d60289682\n'}, {'number': 2, 'created': '2016-12-05 18:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/11363a5a24ed744195ed308e806b76d73db29d17', 'message': 'Fix minor indentation errors\n\nChange-Id: I1517cc4ac958240ed71c2d5679b44f1d60289682\n'}, {'number': 3, 'created': '2017-03-29 02:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/ef10ed2bda29e070812c4a24b7e1c9d221d7eeca', 'message': 'Fix minor indentation errors\n\nCo-Authored-By: chenying <ying.chen@huawei.com>\n\nChange-Id: I1517cc4ac958240ed71c2d5679b44f1d60289682\n'}, {'number': 4, 'created': '2017-03-29 02:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/ac12464d064d89e38276ea5124031250d4fab0b0', 'message': 'Fix minor indentation errors\n\nChange-Id: I1517cc4ac958240ed71c2d5679b44f1d60289682\n'}, {'number': 5, 'created': '2017-03-29 02:58:43.000000000', 'files': ['karbor/services/protection/bank_plugin.py', 'karbor/tests/unit/protection/test_graph.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/88a7f7a6b8a82239eec76db9b40cfa5af968076f', 'message': 'Fix minor indentation errors\n\nChange-Id: I1517cc4ac958240ed71c2d5679b44f1d60289682\n'}]",2,395599,88a7f7a6b8a82239eec76db9b40cfa5af968076f,20,3,5,2023,,,0,"Fix minor indentation errors

Change-Id: I1517cc4ac958240ed71c2d5679b44f1d60289682
",git fetch https://review.opendev.org/openstack/karbor refs/changes/99/395599/4 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/services/protection/bank_plugin.py', 'karbor/tests/unit/operationengine/test_user_trust_manager.py', 'karbor/tests/unit/protection/test_graph.py', 'karbor/services/operationengine/engine/executors/thread_pool_executor.py']",4,72d921c87a9334fc2dad338af474e9f9bfd8d413,translate,], ],14,15
openstack%2Fkarbor~master~Ic528759fc165059d6643df421bc16b4c708f7c71,openstack/karbor,master,Ic528759fc165059d6643df421bc16b4c708f7c71,Make checkpoint info precisely,ABANDONED,2017-01-24 08:01:31.000000000,2021-06-09 22:52:11.000000000,,"[{'_account_id': 2023}, {'_account_id': 17151}, {'_account_id': 19346}]","[{'number': 1, 'created': '2017-01-24 08:01:31.000000000', 'files': ['karbor/services/protection/checkpoint.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/df63cb3f9d92c5e96f22e85fa7de94b9fc9f13a0', 'message': 'Make checkpoint info precisely\n\nMake checkpoint info precisely,and this will usefull to user.\n\nChange-Id: Ic528759fc165059d6643df421bc16b4c708f7c71\n'}]",0,424491,df63cb3f9d92c5e96f22e85fa7de94b9fc9f13a0,6,3,1,24884,,,0,"Make checkpoint info precisely

Make checkpoint info precisely,and this will usefull to user.

Change-Id: Ic528759fc165059d6643df421bc16b4c708f7c71
",git fetch https://review.opendev.org/openstack/karbor refs/changes/91/424491/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/services/protection/checkpoint.py'],1,df63cb3f9d92c5e96f22e85fa7de94b9fc9f13a0,checkpoint-created-time, created_at = timeutils.utcnow().strftime('%Y-%m-%d %H:%M:%S'), created_at = timeutils.utcnow().strftime('%Y-%m-%d'),1,1
openstack%2Fkarbor~master~Ie703d1fb5de2f27226c99cc81e5d4a1e49cdf11d,openstack/karbor,master,Ie703d1fb5de2f27226c99cc81e5d4a1e49cdf11d,Add bandit test,ABANDONED,2018-02-05 02:41:59.000000000,2021-06-09 22:52:08.000000000,,"[{'_account_id': 22056}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-05 02:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/5a3215b30419883374bb24329d8f1bc6dcaff7d2', 'message': 'Add bandit test\n\nadd bandit test in testenv for integration job for bandit project.\n\nChange-Id: Ie703d1fb5de2f27226c99cc81e5d4a1e49cdf11d\nImplements: blueprint bandit-test\n'}, {'number': 2, 'created': '2018-02-05 04:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/baa255d28b28edd9775a453999f021bdaabd1f4b', 'message': 'Add bandit test\n\nadd bandit test in testenv for integration job for bandit project.\n\nChange-Id: Ie703d1fb5de2f27226c99cc81e5d4a1e49cdf11d\nImplements: blueprint bandit-test\n'}, {'number': 3, 'created': '2018-02-06 02:48:41.000000000', 'files': ['test-requirements.txt', 'bandit.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/karbor/commit/545ae31ea10cebe8f0f4da7ce8c3c85013d2a6be', 'message': 'Add bandit test\n\nadd bandit test in testenv for integration job for bandit project.\n\nChange-Id: Ie703d1fb5de2f27226c99cc81e5d4a1e49cdf11d\nImplements: blueprint bandit-test\n'}]",0,540701,545ae31ea10cebe8f0f4da7ce8c3c85013d2a6be,8,2,3,22056,,,0,"Add bandit test

add bandit test in testenv for integration job for bandit project.

Change-Id: Ie703d1fb5de2f27226c99cc81e5d4a1e49cdf11d
Implements: blueprint bandit-test
",git fetch https://review.opendev.org/openstack/karbor refs/changes/01/540701/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'bandit.yaml', 'tox.ini']",3,5a3215b30419883374bb24329d8f1bc6dcaff7d2,bp/bandit-test,"envlist = py35,py27,pypy,pep8,bandit[testenv:bandit] # Use for integration test job of the bandit project. commands = bandit -r karbor -x tests -n 5 -ll ","envlist = py35,py27,pypy,pep8",257,7
openstack%2Fkarbor~master~Ifcd0563a125f1b26c67e3c65553a06d883562f65,openstack/karbor,master,Ifcd0563a125f1b26c67e3c65553a06d883562f65,Add default configuration files to data_files,ABANDONED,2018-02-06 02:46:56.000000000,2021-06-09 22:52:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 25571}]","[{'number': 1, 'created': '2018-02-06 02:46:56.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/karbor/commit/08ce9c21ae24d4b56171cedc5c9c579fccaa13c9', 'message': ""Add default configuration files to data_files\n\nIn order to make it simpler to use the default\nconfiguration files when deploying services\nfrom source, the files are added to pbr's\ndata_files section so that the files are\nincluded in the built wheels and therefore\ndeployed with the code. Packaging and deployment\ntools can then more easily use the default files\nif they wish to.\n\nChange-Id: Ifcd0563a125f1b26c67e3c65553a06d883562f65\nCloses-Bug: #1718356\n""}]",0,541106,08ce9c21ae24d4b56171cedc5c9c579fccaa13c9,4,2,1,22056,,,0,"Add default configuration files to data_files

In order to make it simpler to use the default
configuration files when deploying services
from source, the files are added to pbr's
data_files section so that the files are
included in the built wheels and therefore
deployed with the code. Packaging and deployment
tools can then more easily use the default files
if they wish to.

Change-Id: Ifcd0563a125f1b26c67e3c65553a06d883562f65
Closes-Bug: #1718356
",git fetch https://review.opendev.org/openstack/karbor refs/changes/06/541106/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,08ce9c21ae24d4b56171cedc5c9c579fccaa13c9,bug/1718356,data_files = etc/karbor = etc/karbor/api-paste.ini etc/karbor/providers.d = etc/karbor/providers.d/*,,4,0
openstack%2Fkarbor~master~If31dc2d73b289c55120829aa6505539213731297,openstack/karbor,master,If31dc2d73b289c55120829aa6505539213731297,Remove pbr warnerrors in favor of sphinx check,ABANDONED,2018-02-01 02:44:35.000000000,2021-06-09 22:52:02.000000000,,"[{'_account_id': 17151}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-02-01 02:44:35.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/karbor/commit/3533375fedc97c983a6744d00d1164399c41b2a5', 'message': 'Remove pbr warnerrors in favor of sphinx check\n\nThis change removes the now unused ""warnerrors"" setting, which is\nreplaced by ""warning-is-error"" in sphinx releases >= 1.5 [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/ 2017-March/113085.html\n\nChange-Id: If31dc2d73b289c55120829aa6505539213731297\nCloses-Bug:#1693670\n'}]",1,539775,3533375fedc97c983a6744d00d1164399c41b2a5,6,4,1,19853,,,0,"Remove pbr warnerrors in favor of sphinx check

This change removes the now unused ""warnerrors"" setting, which is
replaced by ""warning-is-error"" in sphinx releases >= 1.5 [1].

[1] http://lists.openstack.org/pipermail/openstack-dev/ 2017-March/113085.html

Change-Id: If31dc2d73b289c55120829aa6505539213731297
Closes-Bug:#1693670
",git fetch https://review.opendev.org/openstack/karbor refs/changes/75/539775/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3533375fedc97c983a6744d00d1164399c41b2a5,bug/1693670,,warnerrors = true,0,1
openstack%2Fkarbor~master~I42750ce26b2dcbef1edef5bedac95c8e38dbf8e8,openstack/karbor,master,I42750ce26b2dcbef1edef5bedac95c8e38dbf8e8,Fix typos in karbor,ABANDONED,2018-02-09 05:53:52.000000000,2021-06-09 22:51:58.000000000,,"[{'_account_id': 21224}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2018-02-09 05:53:52.000000000', 'files': ['karbor/api/v1/plans.py', 'karbor/api/v1/restores.py', 'doc/source/specs/s3-bank.rst', 'karbor/services/protection/flows/utils.py', 'karbor/api/v1/verifications.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/9cbe11ddb92cf78776e876948e7ae1a78b32a014', 'message': 'Fix typos in karbor\n\nChange-Id: I42750ce26b2dcbef1edef5bedac95c8e38dbf8e8\n'}]",0,542603,9cbe11ddb92cf78776e876948e7ae1a78b32a014,7,4,1,27678,,,0,"Fix typos in karbor

Change-Id: I42750ce26b2dcbef1edef5bedac95c8e38dbf8e8
",git fetch https://review.opendev.org/openstack/karbor refs/changes/03/542603/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/api/v1/plans.py', 'karbor/api/v1/restores.py', 'doc/source/specs/s3-bank.rst', 'karbor/services/protection/flows/utils.py', 'karbor/api/v1/verifications.py']",5,9cbe11ddb92cf78776e876948e7ae1a78b32a014,karborbaiwenteng," msg = _(""The parameter verification must be an object of """," msg = _(""The parameter verification must be a object of """,5,5
openstack%2Fkarbor~master~Ida02e5c5631104c134ff3cb7c535921770a1acd1,openstack/karbor,master,Ida02e5c5631104c134ff3cb7c535921770a1acd1,Trivial: update url to new url,ABANDONED,2018-05-13 14:26:31.000000000,2021-06-09 22:51:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-13 14:26:31.000000000', 'files': ['doc/source/specs/api-json-schema-validation.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/4a4ffee5ef92a0da5d635e116c3c2ffb1fd03250', 'message': 'Trivial: update url to new url\n\nChange-Id: Ida02e5c5631104c134ff3cb7c535921770a1acd1\n'}]",0,568104,4a4ffee5ef92a0da5d635e116c3c2ffb1fd03250,3,1,1,27336,,,0,"Trivial: update url to new url

Change-Id: Ida02e5c5631104c134ff3cb7c535921770a1acd1
",git fetch https://review.opendev.org/openstack/karbor refs/changes/04/568104/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/api-json-schema-validation.rst'],1,4a4ffee5ef92a0da5d635e116c3c2ffb1fd03250,,"Nova, Keystone and Glance (https://pypi.org/project/jsonschema). * [JSON Schema on PyPI] (https://pypi.org/project/jsonschema) ","Nova, Keystone and Glance (https://pypi.python.org/pypi/jsonschema). * [JSON Schema on PyPI] (https://pypi.python.org/pypi/jsonschema) ",2,2
openstack%2Fkarbor~master~Iac6c1145d764dd6a926aee8146dbd1f00b0fa466,openstack/karbor,master,Iac6c1145d764dd6a926aee8146dbd1f00b0fa466,Enable mutable config in karbor,ABANDONED,2018-07-25 10:09:40.000000000,2021-06-09 22:51:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-25 10:09:40.000000000', 'files': ['karbor/service.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/b4b9a8cd0d2bae16cf9222bbfde519f7ead5a4fa', 'message': ""Enable mutable config in karbor\n\nNew releases of oslo.config support a 'mutable' parameter to Opts.\noslo.service provides an option here Icec3e664f3fe72614e373b2938e8dee53cf8bc5e\nallows services to tell oslo.service they want mutate_config_files to be\ncalled by passing a parameter.\n\nThis commit is to use the same. This allows karbor to benefit from\nI1e7a69de169cc85f4c09954b2f46ce2da7106d90, where the 'debug' option\n(owned by oslo.log) is made mutable. we should be able to turn debug\nlogging on and off by changing the config.\n\ntc goal:\nhttps://governance.openstack.org/tc/goals/rocky/enable-mutable-configuration.html\n\nChange-Id: Iac6c1145d764dd6a926aee8146dbd1f00b0fa466\n""}]",0,585700,b4b9a8cd0d2bae16cf9222bbfde519f7ead5a4fa,3,1,1,16367,,,0,"Enable mutable config in karbor

New releases of oslo.config support a 'mutable' parameter to Opts.
oslo.service provides an option here Icec3e664f3fe72614e373b2938e8dee53cf8bc5e
allows services to tell oslo.service they want mutate_config_files to be
called by passing a parameter.

This commit is to use the same. This allows karbor to benefit from
I1e7a69de169cc85f4c09954b2f46ce2da7106d90, where the 'debug' option
(owned by oslo.log) is made mutable. we should be able to turn debug
logging on and off by changing the config.

tc goal:
https://governance.openstack.org/tc/goals/rocky/enable-mutable-configuration.html

Change-Id: Iac6c1145d764dd6a926aee8146dbd1f00b0fa466
",git fetch https://review.opendev.org/openstack/karbor refs/changes/00/585700/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/service.py'],1,b4b9a8cd0d2bae16cf9222bbfde519f7ead5a4fa,mutable-config," return service.ProcessLauncher(CONF, restart_method='mutate') _launcher = service.launch( CONF, server, workers=workers, restart_method='mutate')"," return service.ProcessLauncher(CONF) _launcher = service.launch(CONF, server, workers=workers) ",3,3
openstack%2Fkarbor~master~I8579cb3010401b1a2158eec600737dc1f54134b9,openstack/karbor,master,I8579cb3010401b1a2158eec600737dc1f54134b9,Trivial: Update pypi url to new url,ABANDONED,2018-05-30 04:13:41.000000000,2021-06-09 22:51:49.000000000,,"[{'_account_id': 17151}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 25254}]","[{'number': 1, 'created': '2018-05-30 04:13:41.000000000', 'files': ['doc/source/specs/api-json-schema-validation.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/427c2ec1d6b3c964d24b63cb8263b67aafba280f', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I8579cb3010401b1a2158eec600737dc1f54134b9\n'}]",0,571089,427c2ec1d6b3c964d24b63cb8263b67aafba280f,11,4,1,26072,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I8579cb3010401b1a2158eec600737dc1f54134b9
",git fetch https://review.opendev.org/openstack/karbor refs/changes/89/571089/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/api-json-schema-validation.rst'],1,427c2ec1d6b3c964d24b63cb8263b67aafba280f,update-pypi-url,"Nova, Keystone and Glance (https://pypi.org/project/jsonschema/). * [JSON Schema on PyPI] (https://pypi.org/project/jsonschema/) ","Nova, Keystone and Glance (https://pypi.python.org/pypi/jsonschema). * [JSON Schema on PyPI] (https://pypi.python.org/pypi/jsonschema) ",2,2
openstack%2Fkarbor~master~Icf03714525379065f16b1d21cd91e5cb702c0fde,openstack/karbor,master,Icf03714525379065f16b1d21cd91e5cb702c0fde,Remove those copy words occured twice times in karbor_api.v1.yaml,ABANDONED,2018-11-13 11:21:40.000000000,2021-06-09 22:51:45.000000000,,"[{'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 11:21:40.000000000', 'files': ['doc/source/specs/api/karbor_api.v1.yaml'], 'web_link': 'https://opendev.org/openstack/karbor/commit/f0660b94b1ff03874163ee50c2d8bbaf7e00a87f', 'message': 'Remove those copy words occured twice times in karbor_api.v1.yaml\n\nChange-Id: Icf03714525379065f16b1d21cd91e5cb702c0fde\n'}]",0,617598,f0660b94b1ff03874163ee50c2d8bbaf7e00a87f,5,2,1,29423,,,0,"Remove those copy words occured twice times in karbor_api.v1.yaml

Change-Id: Icf03714525379065f16b1d21cd91e5cb702c0fde
",git fetch https://review.opendev.org/openstack/karbor refs/changes/98/617598/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/api/karbor_api.v1.yaml'],1,f0660b94b1ff03874163ee50c2d8bbaf7e00a87f,, description: Unique identifier representing a specific protection plan., description: Unique identifier representing a specific protection protection plan.,1,1
openstack%2Fkarbor~master~I26e2f571b207bddeee65fbe5d9e139e16a34bfcc,openstack/karbor,master,I26e2f571b207bddeee65fbe5d9e139e16a34bfcc,Omit the twice occured words in  parameters.yaml,ABANDONED,2018-11-13 11:24:01.000000000,2021-06-09 22:51:42.000000000,,"[{'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 11:24:01.000000000', 'files': ['api-ref/source/v1/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/karbor/commit/e320eb557044760c23d0ed7becd888f034e9fa94', 'message': 'Omit the twice occured words in  parameters.yaml\n\nChange-Id: I26e2f571b207bddeee65fbe5d9e139e16a34bfcc\n'}]",0,617599,e320eb557044760c23d0ed7becd888f034e9fa94,4,2,1,29423,,,0,"Omit the twice occured words in  parameters.yaml

Change-Id: I26e2f571b207bddeee65fbe5d9e139e16a34bfcc
",git fetch https://review.opendev.org/openstack/karbor refs/changes/99/617599/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v1/parameters.yaml'],1,e320eb557044760c23d0ed7becd888f034e9fa94,, The error info of the operation., The error info of of the operation.,1,1
openstack%2Fkarbor~master~I63ad3171fb6c8786d72009edf29ac7af37faa6ae,openstack/karbor,master,I63ad3171fb6c8786d72009edf29ac7af37faa6ae,Dumplicate words was deleted in  karbor_api.v1.yaml,ABANDONED,2018-11-13 11:17:49.000000000,2021-06-09 22:51:39.000000000,,"[{'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 11:17:49.000000000', 'files': ['doc/source/specs/api/karbor_api.v1.yaml'], 'web_link': 'https://opendev.org/openstack/karbor/commit/819991ac852fb914c7c67e8df16fcfa4e46b3e7e', 'message': 'Dumplicate words was deleted in  karbor_api.v1.yaml\n\nChange-Id: I63ad3171fb6c8786d72009edf29ac7af37faa6ae\n'}]",0,617590,819991ac852fb914c7c67e8df16fcfa4e46b3e7e,8,2,1,29423,,,0,"Dumplicate words was deleted in  karbor_api.v1.yaml

Change-Id: I63ad3171fb6c8786d72009edf29ac7af37faa6ae
",git fetch https://review.opendev.org/openstack/karbor refs/changes/90/617590/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/api/karbor_api.v1.yaml'],1,819991ac852fb914c7c67e8df16fcfa4e46b3e7e,, description: Unique identifier representing a specific protection plan., description: Unique identifier representing a specific protection protection plan.,1,1
openstack%2Fkarbor~master~I88cde149293ad9777270fd46540c281386c567db,openstack/karbor,master,I88cde149293ad9777270fd46540c281386c567db,Remove -u root as mysql is executed with root user,ABANDONED,2018-08-20 01:11:56.000000000,2021-06-09 22:51:36.000000000,,"[{'_account_id': 16006}, {'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-20 01:11:56.000000000', 'files': ['doc/source/install/common_prerequisites.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/69765831656ced1ce2044e77237c6807493f0ed5', 'message': 'Remove -u root as mysql is executed with root user\n\nAs openstack installation guides suggest to run mysql with root shell\nuser, mysql will not ask for password, so in\ncontroller-install-*.rst ""-u root -p"" is useless.\n\nChange-Id: I88cde149293ad9777270fd46540c281386c567db\nRelated-Bug: #1785025\n'}]",0,593464,69765831656ced1ce2044e77237c6807493f0ed5,5,3,1,16523,,,0,"Remove -u root as mysql is executed with root user

As openstack installation guides suggest to run mysql with root shell
user, mysql will not ask for password, so in
controller-install-*.rst ""-u root -p"" is useless.

Change-Id: I88cde149293ad9777270fd46540c281386c567db
Related-Bug: #1785025
",git fetch https://review.opendev.org/openstack/karbor refs/changes/64/593464/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/common_prerequisites.rst'],1,69765831656ced1ce2044e77237c6807493f0ed5,bug/1785025, # mysql, $ mysql -u root -p,1,1
openstack%2Fkarbor~master~I8b04e9470ccb7d62a6bc120c7b03ae496208a487,openstack/karbor,master,I8b04e9470ccb7d62a6bc120c7b03ae496208a487,Fix the raise error in index process,ABANDONED,2018-11-28 15:56:33.000000000,2021-06-09 22:51:32.000000000,,"[{'_account_id': 16006}, {'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 24328}]","[{'number': 1, 'created': '2018-11-28 15:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/5650d5b5872875dd038a4110a88903b147c6d0b6', 'message': 'Fix the raise error in index process\n\nChange-Id: I8b04e9470ccb7d62a6bc120c7b03ae496208a487\n'}, {'number': 2, 'created': '2018-11-28 15:59:47.000000000', 'files': ['karbor/api/v1/restores.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/72b86f38094ae2559537a56a0cbf0c79909b3aa1', 'message': 'Fix the raise error in index process\n\nChange-Id: I8b04e9470ccb7d62a6bc120c7b03ae496208a487\n'}]",1,620641,72b86f38094ae2559537a56a0cbf0c79909b3aa1,6,4,2,29572,,,0,"Fix the raise error in index process

Change-Id: I8b04e9470ccb7d62a6bc120c7b03ae496208a487
",git fetch https://review.opendev.org/openstack/karbor refs/changes/41/620641/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/api/v1/restores.py', 'karbor/exception.py']",2,5650d5b5872875dd038a4110a88903b147c6d0b6,,"class RestoreNotFound(NotFound): message = _(""Restore %(Restore_id)s could not be found."") ",,12,6
openstack%2Fkarbor~master~I51430baffdd3b7e9dc31e3b84b0688bebfa3d931,openstack/karbor,master,I51430baffdd3b7e9dc31e3b84b0688bebfa3d931,Modify grammatical errors,ABANDONED,2018-02-06 09:38:46.000000000,2021-06-09 22:51:30.000000000,,"[{'_account_id': 21224}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 26776}, {'_account_id': 27507}, {'_account_id': 29558}]","[{'number': 1, 'created': '2018-02-06 09:38:46.000000000', 'files': ['doc/source/specs/kubernetes-pods-protection-plugin.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/85b67bb475d70b1dce66cb29a6b7c9c185f0e8c1', 'message': 'Modify grammatical errors\n\nChange-Id: I51430baffdd3b7e9dc31e3b84b0688bebfa3d931\n'}]",0,541202,85b67bb475d70b1dce66cb29a6b7c9c185f0e8c1,9,6,1,27549,,,0,"Modify grammatical errors

Change-Id: I51430baffdd3b7e9dc31e3b84b0688bebfa3d931
",git fetch https://review.opendev.org/openstack/karbor refs/changes/02/541202/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/kubernetes-pods-protection-plugin.rst'],1,85b67bb475d70b1dce66cb29a6b7c9c185f0e8c1,a0206," Get the configurations and metadata in etcd service about the pod from bank, and create"," Get the the configurations and metadata in etcd service about the pod from bank, and create",1,1
openstack%2Fkarbor~master~I5b24448415b0e85c1b23cc6b389437cbab0baf79,openstack/karbor,master,I5b24448415b0e85c1b23cc6b389437cbab0baf79,spelling error,ABANDONED,2018-11-24 03:36:55.000000000,2021-06-09 22:51:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 26776}, {'_account_id': 27549}, {'_account_id': 29558}]","[{'number': 1, 'created': '2018-11-24 03:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/6cb1677d7188085ae55d5c10fb28e494eac315f1', 'message': 'spelling error\n\nChange-Id: I5b24448415b0e85c1b23cc6b389437cbab0baf79\n'}, {'number': 2, 'created': '2019-01-11 01:07:19.000000000', 'files': ['doc/source/specs/kubernetes-pods-protection-plugin.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/5fa0425b394e1605b7f641edb69b4f04f93639fa', 'message': 'spelling error\n\nChange-Id: I5b24448415b0e85c1b23cc6b389437cbab0baf79\n'}]",0,619849,5fa0425b394e1605b7f641edb69b4f04f93639fa,9,4,2,26776,,,0,"spelling error

Change-Id: I5b24448415b0e85c1b23cc6b389437cbab0baf79
",git fetch https://review.opendev.org/openstack/karbor refs/changes/49/619849/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/kubernetes-pods-protection-plugin.rst'],1,6cb1677d7188085ae55d5c10fb28e494eac315f1,,customers concern. Running Kubernetes on OpenStack becomes more and more popular. The data,customers concern. Running Kubernetes on OpenStack becames more and more popular. The data,1,1
openstack%2Fkarbor~master~I56d079eadc7cdfa710d7defd36153ffe3b9bad4c,openstack/karbor,master,I56d079eadc7cdfa710d7defd36153ffe3b9bad4c,[WIP]Add py35 functional tests job,ABANDONED,2019-02-12 12:59:23.000000000,2021-06-09 22:51:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-02-12 12:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/811c2b6baa382cc36cb9e01f9f235fc361f44580', 'message': '[WIP]Add py35 functional tests job\n\nChange-Id: I56d079eadc7cdfa710d7defd36153ffe3b9bad4c\n'}, {'number': 2, 'created': '2019-02-13 00:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/074a49a5847517cb9cbf31ad924f8096891ecb57', 'message': '[WIP]Add py35 functional tests job\n\nChange-Id: I56d079eadc7cdfa710d7defd36153ffe3b9bad4c\n'}, {'number': 3, 'created': '2019-02-13 01:13:02.000000000', 'files': ['playbooks/legacy/karbor-dsvm-fullstack-py35/run.yaml', 'playbooks/legacy/karbor-dsvm-fullstack-py35/post.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/karbor/commit/db3ba78002c2f9c6f141bffd13cf3cfbd0048729', 'message': '[WIP]Add py35 functional tests job\n\nChange-Id: I56d079eadc7cdfa710d7defd36153ffe3b9bad4c\n'}]",0,636328,db3ba78002c2f9c6f141bffd13cf3cfbd0048729,7,1,3,21224,,,0,"[WIP]Add py35 functional tests job

Change-Id: I56d079eadc7cdfa710d7defd36153ffe3b9bad4c
",git fetch https://review.opendev.org/openstack/karbor refs/changes/28/636328/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/karbor-dsvm-fullstack-py35/run.yaml', 'playbooks/legacy/karbor-dsvm-fullstack-py35/post.yaml', '.zuul.yaml']",3,811c2b6baa382cc36cb9e01f9f235fc361f44580,master-python3, - karbor-dsvm-fullstack-py35 voting: true - job: name: karbor-dsvm-fullstack-py35 parent: legacy-dsvm-base run: playbooks/legacy/karbor-dsvm-fullstack-py35/run.yaml post-run: playbooks/legacy/karbor-dsvm-fullstack-py35/post.yaml timeout: 7800 required-projects: - openstack-infra/devstack-gate - openstack/karbor - openstack/python-karborclient - openstack/trove - openstack/trove-dashboard - openstack/manila-tempest-plugin,,185,0
openstack%2Fkarbor~master~Ia51c870297babd2e7b43d6da2cce580bba838861,openstack/karbor,master,Ia51c870297babd2e7b43d6da2cce580bba838861,Fix order of deletion of temp resources,ABANDONED,2019-03-05 23:48:09.000000000,2021-06-09 22:51:21.000000000,,"[{'_account_id': 16006}, {'_account_id': 21032}, {'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 29061}]","[{'number': 1, 'created': '2019-03-05 23:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/d477f2bd44a310700d8619f375b1b603e579b207', 'message': 'Fix order of deletion of temp resources\n\nvolume_glance_plugin needs to create temp volume resources when doing\na protect operation. Currently the resources are deleted in the same order,\ninstead of the reverse. This cause some temp resources to fail deleting.\n\nReversed the deletion order in this commit\n\nChange-Id: Ia51c870297babd2e7b43d6da2cce580bba838861\n'}, {'number': 2, 'created': '2019-03-05 23:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/36f3b1c1c3f518db689b40e30612e006c534c6c5', 'message': 'Fix order of deletion of temp resources\n\nvolume_glance_plugin needs to create temp volume resources when doing\na protect operation. Currently the resources are deleted in the same order,\ninstead of the reverse. This cause some temp resources to fail deleting.\n\nReversed the deletion order in this commit\n\nCloses-Bug #1818579\n\nChange-Id: Ia51c870297babd2e7b43d6da2cce580bba838861\n'}, {'number': 3, 'created': '2019-03-06 18:31:07.000000000', 'files': ['karbor/services/protection/protection_plugins/volume/volume_glance_plugin.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/225cb573692360b93bd29d0e94699ae1d8d6b6e1', 'message': 'Fix order of deletion of temp resources\n\nvolume_glance_plugin needs to create temp volume resources when doing\na protect operation. Currently the resources are deleted in the same order,\ninstead of the reverse. This cause some temp resources to fail deleting.\n\nReversed the deletion order in this commit\n\nCloses-Bug #1818579\n\nChange-Id: Ia51c870297babd2e7b43d6da2cce580bba838861\n'}]",1,641162,225cb573692360b93bd29d0e94699ae1d8d6b6e1,11,6,3,26925,,,0,"Fix order of deletion of temp resources

volume_glance_plugin needs to create temp volume resources when doing
a protect operation. Currently the resources are deleted in the same order,
instead of the reverse. This cause some temp resources to fail deleting.

Reversed the deletion order in this commit

Closes-Bug #1818579

Change-Id: Ia51c870297babd2e7b43d6da2cce580bba838861
",git fetch https://review.opendev.org/openstack/karbor refs/changes/62/641162/3 && git format-patch -1 --stdout FETCH_HEAD,['karbor/services/protection/protection_plugins/volume/volume_glance_plugin.py'],1,d477f2bd44a310700d8619f375b1b603e579b207,bug/1818579,"import time if temporary_image_id: try: glance_client.images.delete(temporary_image_id) except Exception as e: LOG.warning('Failed deleting temporary image: ' '%(temporary_image_id)s. ' 'Reason: %(reason)s', { 'temporary_image_id': temporary_image_id, 'reason': e }) if snapshot_id: try: # There seems to be a bug with cinder_client running # consecutive commands - it never run the following command # Putting a 2 second sleep here fixes it time.sleep(2) cinder_client.volume_snapshots.delete(snapshot_id) except Exception as e: LOG.warning('Failed deleting snapshot: %(snapshot_id)s. ' 'Reason: %(reason)s', { 'snapshot_id': self.snapshot_id, 'reason': e })"," if snapshot_id: try: cinder_client.volume_snapshots.delete(snapshot_id) except Exception as e: LOG.warning('Failed deleting snapshot: %(snapshot_id)s. ' 'Reason: %(reason)s', {'snapshot_id': self.snapshot_id, 'reason': e}) if temporary_image_id: try: glance_client.images.delete(temporary_image_id) except Exception as e: LOG.warning('Failed deleting temporary image: ' '%(temporary_image_id)s. ' 'Reason: %(reason)s', { 'temporary_image_id': temporary_image_id, 'reason': e})",19,12
openstack%2Fkarbor~master~I2a86bcbabe2b292e53f4b252389120b5cb16078e,openstack/karbor,master,I2a86bcbabe2b292e53f4b252389120b5cb16078e,Add unit test for utils in clients,ABANDONED,2019-07-04 07:46:16.000000000,2021-06-09 22:51:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 24328}, {'_account_id': 27623}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-07-04 07:46:16.000000000', 'files': ['karbor/tests/unit/clients/test_utils.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/773c0ef931c2ca9ba8d2158b4b96317803304eab', 'message': 'Add unit test for utils in clients\n\nChange-Id: I2a86bcbabe2b292e53f4b252389120b5cb16078e\n'}]",0,669085,773c0ef931c2ca9ba8d2158b4b96317803304eab,3,4,1,29572,,,0,"Add unit test for utils in clients

Change-Id: I2a86bcbabe2b292e53f4b252389120b5cb16078e
",git fetch https://review.opendev.org/openstack/karbor refs/changes/85/669085/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/tests/unit/clients/test_utils.py'],1,773c0ef931c2ca9ba8d2158b4b96317803304eab,," def test_parse_service_catalog_info_invild_input(self): self.assertRaises(exception.KarborException, utils._parse_service_catalog_info, 'volumev3:cinderv3', self._context) @mock.patch.object(utils, '_parse_service_endpoint') @mock.patch.object(cfg.ConfigOpts, '_get') def test_get_url_except_parse_service_endpoint(self, get_opt, client): get_opt.return_value = 'volumev3:cinderv3:publicURL' client.side_effect = exception.KarborException self.assertEqual( self._public_url, utils.get_url(self._service, self._context, cfg.CONF))",,15,0
openstack%2Fkarbor~master~If5510875eae1cc796883e0f2d3acec14cf1cef2d,openstack/karbor,master,If5510875eae1cc796883e0f2d3acec14cf1cef2d,Advancing the protocal of the website to HTTPS ,ABANDONED,2018-11-13 19:40:45.000000000,2021-06-09 22:51:14.000000000,,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-11-13 19:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/2e8fad63ae928308612b3d40cf9c601144ccc729', 'message': 'Advancing the protocal of the website to HTTPS in common_configure.rst.\n\nChange-Id: If5510875eae1cc796883e0f2d3acec14cf1cef2d\n'}, {'number': 2, 'created': '2018-11-16 06:40:33.000000000', 'files': ['doc/source/specs/api-json-schema-validation.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/1144a6f3e0a863ec479f87ccc5b47022ec658e33', 'message': 'Advancing the protocal of the website to HTTPS \n\nChange-Id: If5510875eae1cc796883e0f2d3acec14cf1cef2d\n'}]",1,617806,1144a6f3e0a863ec479f87ccc5b47022ec658e33,8,3,2,29423,,,0,"Advancing the protocal of the website to HTTPS 

Change-Id: If5510875eae1cc796883e0f2d3acec14cf1cef2d
",git fetch https://review.opendev.org/openstack/karbor refs/changes/06/617806/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/index.rst', 'doc/source/specs/api-json-schema-validation.rst']",2,2e8fad63ae928308612b3d40cf9c601144ccc729,,* [Nova Validation Examples] (https://git.openstack.org/cgit/openstack/nova/tree/nova/api/validation) ,* [Nova Validation Examples] (http://git.openstack.org/cgit/openstack/nova/tree/nova/api/validation) ,2,2
openstack%2Fkarbor~master~I036f57233f391f3ac664c073efba2a9795e068bf,openstack/karbor,master,I036f57233f391f3ac664c073efba2a9795e068bf,"Blacklist eventlet 0.21.0,0.23.0,0.25.0",ABANDONED,2019-09-05 08:28:04.000000000,2021-06-09 22:51:11.000000000,,"[{'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-05 08:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/e64d2fecd4580af9a18efced92d7d9123cc7e3b8', 'message': 'Blacklist eventlet 0.25.0\n\nmore details https://review.opendev.org/#/c/678078/\n\nChange-Id: I036f57233f391f3ac664c073efba2a9795e068bf\n'}, {'number': 2, 'created': '2019-09-05 09:31:16.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/karbor/commit/6ab16bd7b31c95bcb2bb2af42c68b4792b1af293', 'message': 'Blacklist eventlet 0.21.0,0.23.0,0.25.0\n\nmore details https://review.opendev.org/#/c/678078/\n\nChange-Id: I036f57233f391f3ac664c073efba2a9795e068bf\n'}]",1,680323,6ab16bd7b31c95bcb2bb2af42c68b4792b1af293,5,2,2,27822,,,0,"Blacklist eventlet 0.21.0,0.23.0,0.25.0

more details https://review.opendev.org/#/c/678078/

Change-Id: I036f57233f391f3ac664c073efba2a9795e068bf
",git fetch https://review.opendev.org/openstack/karbor refs/changes/23/680323/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e64d2fecd4580af9a18efced92d7d9123cc7e3b8,eventlet,"eventlet!=0.18.3,!=0.20.1,!=0.21.0,!=0.23.0,!=0.25.0,>=0.18.2 # MIT","eventlet!=0.18.3,!=0.20.1,>=0.18.2 # MIT",1,1
openstack%2Fkarbor~master~I45aaf1a2a2d37f086a6c659ba42ff5f947a18db1,openstack/karbor,master,I45aaf1a2a2d37f086a6c659ba42ff5f947a18db1,Bump the openstackdocstheme extension to 1.20,ABANDONED,2019-08-01 09:18:06.000000000,2021-06-09 22:51:07.000000000,,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-08-01 09:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/4c1ba89f07d35c888671f452fcf6e54be644d3a2', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I45aaf1a2a2d37f086a6c659ba42ff5f947a18db1\n'}, {'number': 2, 'created': '2019-09-06 03:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/9df1c5e70213e2f6b4203f103a71cbf82ddacef7', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I45aaf1a2a2d37f086a6c659ba42ff5f947a18db1\n'}, {'number': 3, 'created': '2019-09-16 05:46:12.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt', 'api-ref/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/3d96871e7b0a574da258fab7663fed7c2252ae88', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I45aaf1a2a2d37f086a6c659ba42ff5f947a18db1\n'}]",1,673970,3d96871e7b0a574da258fab7663fed7c2252ae88,9,3,3,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I45aaf1a2a2d37f086a6c659ba42ff5f947a18db1
",git fetch https://review.opendev.org/openstack/karbor refs/changes/70/673970/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'api-ref/source/conf.py', 'doc/source/conf.py', 'releasenotes/source/conf.py']",4,4c1ba89f07d35c888671f452fcf6e54be644d3a2,openstackdocstheme,,"# If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. html_last_updated_fmt = '%Y-%m-%d %H:%M' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",1,40
openstack%2Fkarbor~master~I691b50de7288e2634b57e7ac21dcdfcac380c853,openstack/karbor,master,I691b50de7288e2634b57e7ac21dcdfcac380c853,[train][goal] Define new karbor-dsvm-fullstack-ipv6-only job,ABANDONED,2019-09-17 03:28:47.000000000,2021-06-09 22:51:04.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 03:28:47.000000000', 'files': ['playbooks/legacy/karbor-dsvm-fullstack/run-ipv6.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/karbor/commit/7a2b218e65787998ce290d3769c85bf9d264122a', 'message': ""[train][goal] Define new karbor-dsvm-fullstack-ipv6-only job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nwe need to define the integration job which deploy services\non IPv6 and perform testing to make sure service listen and communicate\nover IPv6 properly.\n\nKarbor has legacy zuul jobs only so base zuulv3 IPv6 job 'devstack-ipv6' and\n'devstack-tempest-ipv6' cannot be used and we have to copy the whole\nrun.yaml to set the IPv6 setting and run the IPv6 verification\nscript via post_test_hook.\n\nThis commit adds the new job 'karbor-dsvm-fullstack-ipv6-only'\nrun on gate and set the required IPv6 setting'.\n\nStory: #2005477\nTask: # 35897\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I691b50de7288e2634b57e7ac21dcdfcac380c853\n""}]",0,682528,7a2b218e65787998ce290d3769c85bf9d264122a,5,2,1,8556,,,0,"[train][goal] Define new karbor-dsvm-fullstack-ipv6-only job

As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],
we need to define the integration job which deploy services
on IPv6 and perform testing to make sure service listen and communicate
over IPv6 properly.

Karbor has legacy zuul jobs only so base zuulv3 IPv6 job 'devstack-ipv6' and
'devstack-tempest-ipv6' cannot be used and we have to copy the whole
run.yaml to set the IPv6 setting and run the IPv6 verification
script via post_test_hook.

This commit adds the new job 'karbor-dsvm-fullstack-ipv6-only'
run on gate and set the required IPv6 setting'.

Story: #2005477
Task: # 35897

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Change-Id: I691b50de7288e2634b57e7ac21dcdfcac380c853
",git fetch https://review.opendev.org/openstack/karbor refs/changes/28/682528/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/karbor-dsvm-fullstack/run-ipv6.yaml', '.zuul.yaml']",2,7a2b218e65787998ce290d3769c85bf9d264122a,ipv6-only-deployment-and-testing, - karbor-dsvm-fullstack-ipv6-only: voting: false - job: name: karbor-dsvm-fullstack-ipv6-only parent: karbor-dsvm-fullstack run: playbooks/legacy/karbor-dsvm-fullstack/run-ipv6.yaml required-projects: - openstack/tempest,,102,0
openstack%2Fkarbor~master~Iaa4be392648052141dde7291eac7322e3ed98db9,openstack/karbor,master,Iaa4be392648052141dde7291eac7322e3ed98db9,Add unit test for triggers,ABANDONED,2019-03-25 03:20:18.000000000,2021-06-09 22:50:59.000000000,,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 24328}]","[{'number': 1, 'created': '2019-03-25 03:20:18.000000000', 'files': ['karbor/tests/unit/api/v1/test_triggers.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/b42784d4e38cfab99968ab23c671f38760ee2011', 'message': 'Add unit test for triggers\n\nChange-Id: Iaa4be392648052141dde7291eac7322e3ed98db9\n'}]",0,647273,b42784d4e38cfab99968ab23c671f38760ee2011,4,3,1,29272,,,0,"Add unit test for triggers

Change-Id: Iaa4be392648052141dde7291eac7322e3ed98db9
",git fetch https://review.opendev.org/openstack/karbor refs/changes/73/647273/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/tests/unit/api/v1/test_triggers.py'],1,b42784d4e38cfab99968ab23c671f38760ee2011,," def test_update_trigger_without_start_time(self): trigger = self._create_one_trigger() name = 'every minutes' param = self.default_create_trigger_param.copy() param['name'] = name param['properties'].pop('start_time') body = self._get_create_trigger_request_body(param) self.assertRaises( exc.HTTPBadRequest, self.controller.update, self.req, trigger['trigger_info']['id'], body=body ) ",,16,0
openstack%2Fkarbor~master~I71792fc58edba0d3cf926603076f088457970efa,openstack/karbor,master,I71792fc58edba0d3cf926603076f088457970efa,Fixed volume attachment with volume-glance-plugin,ABANDONED,2019-02-26 17:53:06.000000000,2021-06-09 22:50:55.000000000,,"[{'_account_id': 16006}, {'_account_id': 17151}, {'_account_id': 21032}, {'_account_id': 21054}, {'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 28721}, {'_account_id': 29061}, {'_account_id': 29219}, {'_account_id': 30609}, {'_account_id': 30661}, {'_account_id': 31093}]","[{'number': 1, 'created': '2019-02-26 17:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/7df16ff37704b12b2f18e3efeb4279488add98c1', 'message': ""Fixed volume attachment with volume-glance-plugin\n\n'new_resources' dict didn't have the volume mapping information for\nnova_protection_plugin.py to be able to attach volume when restoring\ninstance.\n\nThis is needed when we are restoring an instance that had a\nvolume attached, which currently fails.\n\nCloses-Bug #1817762\n\nChange-Id: I71792fc58edba0d3cf926603076f088457970efa\n""}, {'number': 2, 'created': '2019-02-26 21:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/01f83918274c237de3f378a7e092594a4d5767a6', 'message': ""Fixed volume attachment with volume-glance-plugin\n\n'new_resources' dict didn't have the volume mapping information for\nnova_protection_plugin.py to be able to attach volume when restoring\ninstance.\n\nThis is needed when we are restoring an instance that had a\nvolume attached, which currently fails.\n\nCloses-Bug #1817762\n\nChange-Id: I71792fc58edba0d3cf926603076f088457970efa\n""}, {'number': 3, 'created': '2019-02-28 18:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/f6336bf3611de297eae5d879a2c1fe290a247b68', 'message': ""Fixed volume attachment with volume-glance-plugin\n\n'new_resources' dict didn't have the volume mapping information for\nnova_protection_plugin.py to be able to attach volume when restoring\ninstance.\n\nThis is needed when we are restoring an instance that had a\nvolume attached, which currently fails.\n\nCloses-Bug #1817762\n\nChange-Id: I71792fc58edba0d3cf926603076f088457970efa\n""}, {'number': 4, 'created': '2019-02-28 21:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/2ba5e17d2fdda9fdd59a324f01a17102ce649c7d', 'message': ""Fixed volume attachment with volume-glance-plugin\n\n'new_resources' dict didn't have the volume mapping information for\nnova_protection_plugin.py to be able to attach volume when restoring\ninstance.\n\nThis is needed when we are restoring an instance that had a\nvolume attached, which currently fails.\n\nCloses-Bug #1817762\n\nChange-Id: I71792fc58edba0d3cf926603076f088457970efa\n""}, {'number': 5, 'created': '2019-03-01 17:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/1af4e3477f8a06aee99ac7ac9f1ab5b9fd592962', 'message': ""Fixed volume attachment with volume-glance-plugin\n\n'new_resources' dict didn't have the volume mapping information for\nnova_protection_plugin.py to be able to attach volume when restoring\ninstance.\n\nThis is needed when we are restoring an instance that had a\nvolume attached, which currently fails.\n\nCloses-Bug #1817762\n\nChange-Id: I71792fc58edba0d3cf926603076f088457970efa\n""}, {'number': 6, 'created': '2019-11-26 19:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/e327331bf8159bd6f7c2154073f798faba17bdb4', 'message': ""Fixed volume attachment with volume-glance-plugin\n\n'new_resources' dict didn't have the volume mapping information for\nnova_protection_plugin.py to be able to attach volume when restoring\ninstance.\n\nThis is needed when we are restoring an instance that had a\nvolume attached, which currently fails.\n\nCloses-Bug #1817762\n\nChange-Id: I71792fc58edba0d3cf926603076f088457970efa\n""}, {'number': 7, 'created': '2019-11-26 19:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/2ee59469a9f093a9871b68f567923960d345627f', 'message': ""Fixed volume attachment with volume-glance-plugin\n\n'new_resources' dict didn't have the volume mapping information for\nnova_protection_plugin.py to be able to attach volume when restoring\ninstance.\n\nThis is needed when we are restoring an instance that had a\nvolume attached, which currently fails.\n\nCloses-Bug #1817762\n\nChange-Id: I71792fc58edba0d3cf926603076f088457970efa\n""}, {'number': 8, 'created': '2019-11-26 21:00:22.000000000', 'files': ['karbor/tests/unit/protection/test_cinder_glance_plugin.py', 'karbor/services/protection/protection_plugins/volume/volume_glance_plugin.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/bfddff46d93ac1dcdff49f667fee1d0f6746d4f5', 'message': ""Fixed volume attachment with volume-glance-plugin\n\n'new_resources' dict didn't have the volume mapping information for\nnova_protection_plugin.py to be able to attach volume when restoring\ninstance.\n\nThis is needed when we are restoring an instance that had a\nvolume attached, which currently fails.\n\nCloses-Bug #1817762\n\nChange-Id: I71792fc58edba0d3cf926603076f088457970efa\n""}]",1,639401,bfddff46d93ac1dcdff49f667fee1d0f6746d4f5,30,13,8,26925,,,0,"Fixed volume attachment with volume-glance-plugin

'new_resources' dict didn't have the volume mapping information for
nova_protection_plugin.py to be able to attach volume when restoring
instance.

This is needed when we are restoring an instance that had a
volume attached, which currently fails.

Closes-Bug #1817762

Change-Id: I71792fc58edba0d3cf926603076f088457970efa
",git fetch https://review.opendev.org/openstack/karbor refs/changes/01/639401/8 && git format-patch -1 --stdout FETCH_HEAD,['karbor/services/protection/protection_plugins/volume/volume_glance_plugin.py'],1,7df16ff37704b12b2f18e3efeb4279488add98c1,fix_volume_attachment," def _check_create_complete(self, cinder_client, volume_id): return utils.status_poll( partial(get_volume_status, cinder_client, volume_id), interval=self._interval, success_statuses=VOLUME_SUCCESS_STATUSES, failure_statuses=VOLUME_FAILURE_STATUSES, ignore_statuses=VOLUME_IGNORE_STATUSES ) return volume.id volume_id = self._create_volume_from_image(cinder_client, temporary_image, #check and update update_method = partial( utils.update_resource_restore_result, kwargs.get('restore'), resource.type, volume_id) update_method(constants.RESOURCE_STATUS_RESTORING) is_success = self._check_create_complete(cinder_client, volume_id) if is_success: update_method(constants.RESOURCE_STATUS_AVAILABLE) kwargs.get(""new_resources"")[original_volume_id] = volume_id else: LOG.error(""Restore volume glance backup failed, volume_id: %s."", original_vol_id) if volume is not None and hasattr(volume, 'id'): LOG.info(""Delete the failed volume, volume_id: %s."", volume.id) cinder_client.volumes.delete(volume.id) raise exception.CreateResourceFailed( name=""Volume Glance Backup"", reason='Restored Volume is in erroneous state', resource_id=volume.id, resource_type=constants.VOLUME_RESOURCE_TYPE, ) "," is_success = utils.status_poll( partial(get_volume_status, cinder_client, volume.id), interval=self._interval, success_statuses=VOLUME_SUCCESS_STATUSES, failure_statuses=VOLUME_FAILURE_STATUSES, ignore_statuses=VOLUME_IGNORE_STATUSES ) if not is_success: LOG.error(""Restore volume glance backup failed, volume_id: %s."", original_vol_id) if volume is not None and hasattr(volume, 'id'): LOG.info(""Delete the failed volume, volume_id: %s."", volume.id) cinder_client.volumes.delete(volume.id) raise exception.CreateResourceFailed( name=""Volume Glance Backup"", reason='Restored Volume is in erroneous state', resource_id=volume.id, resource_type=constants.VOLUME_RESOURCE_TYPE, ) self._create_volume_from_image(cinder_client, temporary_image,",36,20
openstack%2Fkarbor~master~Idd893824caf28ffd25d708ec6b1d2bc7d655b058,openstack/karbor,master,Idd893824caf28ffd25d708ec6b1d2bc7d655b058,Fix operation executed failed with multi operationengine,ABANDONED,2019-11-03 11:56:25.000000000,2021-06-09 22:50:52.000000000,,"[{'_account_id': 16006}, {'_account_id': 22348}, {'_account_id': 27430}]","[{'number': 1, 'created': '2019-11-03 11:56:25.000000000', 'files': ['karbor/services/operationengine/engine/triggers/timetrigger/time_trigger_multi_node.py', 'karbor/services/operationengine/manager.py', 'karbor/tests/unit/operationengine/test_manager.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/0a72fbc3a732a8a1531d5fb9f600a6c837c25db2', 'message': 'Fix operation executed failed with multi operationengine\n\nCurrently, when we using operationegine in multi node strategy,\nwhich is the default strategy, it some time can not trigger\nthe operation correctly. It is because the operation id is\nsaved to the memory of operationengine that it was created, but\nin multi node case, trigger maybe scheduling to other operation\nengine nodes, which do not contain the created operation id.\nThen it will never trigger the operation. This patch will fix it.\n\nChange-Id: Idd893824caf28ffd25d708ec6b1d2bc7d655b058\nStory: 2006625\nTask: 36832\n'}]",0,692743,0a72fbc3a732a8a1531d5fb9f600a6c837c25db2,6,3,1,21224,,,0,"Fix operation executed failed with multi operationengine

Currently, when we using operationegine in multi node strategy,
which is the default strategy, it some time can not trigger
the operation correctly. It is because the operation id is
saved to the memory of operationengine that it was created, but
in multi node case, trigger maybe scheduling to other operation
engine nodes, which do not contain the created operation id.
Then it will never trigger the operation. This patch will fix it.

Change-Id: Idd893824caf28ffd25d708ec6b1d2bc7d655b058
Story: 2006625
Task: 36832
",git fetch https://review.opendev.org/openstack/karbor refs/changes/43/692743/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/services/operationengine/engine/triggers/timetrigger/time_trigger_multi_node.py', 'karbor/services/operationengine/manager.py', 'karbor/tests/unit/operationengine/test_manager.py']",3,0a72fbc3a732a8a1531d5fb9f600a6c837c25db2,trigger-multi-node," def test_init_host_with_restore_all_operations(self): trigger_id = self._trigger.id operation_id = self._operation.id self._create_operation_state(operation_id) self.manager._service_id = 1 op = self._create_scheduled_operation(self._trigger.id) self._create_operation_state(op.id) self.manager._restore() trigger_manager = self.manager._trigger_manager self.assertIn(trigger_id, trigger_manager._trigger) self.assertIn(operation_id, trigger_manager._trigger[trigger_id]) self.assertIn(op.id, trigger_manager._trigger[trigger_id]) ",,26,10
openstack%2Fkarbor~master~Ie29869bad7b1ff83fcb51f14fe364df246c42b3a,openstack/karbor,master,Ie29869bad7b1ff83fcb51f14fe364df246c42b3a,Add unit test for services api,ABANDONED,2020-03-24 04:46:01.000000000,2021-06-09 22:50:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-03-24 04:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/d8128b8fb41d39b59a618d1ba414971b437be966', 'message': 'Add unit test for services api\n\nChange-Id: Ie29869bad7b1ff83fcb51f14fe364df246c42b3a\nSigned-off-by: helei <helei@cmss.chinamobile.com>\n'}, {'number': 2, 'created': '2020-03-24 06:23:55.000000000', 'files': ['karbor/tests/unit/api/v1/test_services.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/9b8277cd4361252cdebd6fc439085b049d182a7a', 'message': 'Add unit test for services api\n\nChange-Id: Ie29869bad7b1ff83fcb51f14fe364df246c42b3a\nSigned-off-by: helei <helei@cmss.chinamobile.com>\n'}]",0,714569,9b8277cd4361252cdebd6fc439085b049d182a7a,5,1,2,29579,,,0,"Add unit test for services api

Change-Id: Ie29869bad7b1ff83fcb51f14fe364df246c42b3a
Signed-off-by: helei <helei@cmss.chinamobile.com>
",git fetch https://review.opendev.org/openstack/karbor refs/changes/69/714569/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/tests/unit/api/v1/test_services.py'],1,d8128b8fb41d39b59a618d1ba414971b437be966,," @mock.patch('karbor.utils.service_is_up') @mock.patch('karbor.objects.service.Service.get_by_id') def test_service_update_with_disabled_status( self, mock_get_by_id, mock_service_is_up): req = fakes.HTTPRequest.blank('/v1/os-services/1', use_admin_context=True) body = { ""status"": 'disabled' } mock_service = mock.MagicMock( binary='karbor-operationengine', save=mock.MagicMock()) mock_get_by_id.return_value = mock_service mock_service_is_up.return_value = True self.controller.update(req, ""fake_id"", body) self.assertTrue(mock_get_by_id.called) self.assertTrue(mock_service.save.called) @mock.patch('karbor.utils.service_is_up') @mock.patch('karbor.objects.service.Service.get_by_id') def test_service_update_with_no_status( self, mock_get_by_id, mock_service_is_up): req = fakes.HTTPRequest.blank('/v1/os-services/1', use_admin_context=True) body = { ""status_test"": 'disabled' } mock_service = mock.MagicMock( binary='karbor-operationengine', save=mock.MagicMock()) mock_get_by_id.return_value = mock_service mock_service_is_up.return_value = True self.controller.update(req, ""fake_id"", body) self.assertTrue(mock_get_by_id.called) self.assertTrue(mock_service.save.called)",,34,0
openstack%2Fkarbor~master~Ief9db00679ef83e685bccac446fa4dad7826f1bc,openstack/karbor,master,Ief9db00679ef83e685bccac446fa4dad7826f1bc,add unittest for services operationengine manager Signed-off-by: chenglei1 <chenglei1@cmss.chinamobile.com>,ABANDONED,2020-03-27 04:52:32.000000000,2021-06-09 22:50:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-03-27 04:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/29ae0246835e8141f6d2c6cb658cf19620e2d215', 'message': 'add 3 unittests for services operationengine manager\nSigned-off-by: chenglei1 <chenglei1@cmss.chinamobile.com>\n\nChange-Id: Ief9db00679ef83e685bccac446fa4dad7826f1bc\n'}, {'number': 2, 'created': '2020-03-27 05:01:07.000000000', 'files': ['karbor/tests/unit/operationengine/test_manager.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/418949ee0ccd00b7e5d1a1e36e66766f126e4e6e', 'message': 'add unittest for services operationengine manager\nSigned-off-by: chenglei1 <chenglei1@cmss.chinamobile.com>\n\nChange-Id: Ief9db00679ef83e685bccac446fa4dad7826f1bc\n'}]",0,715352,418949ee0ccd00b7e5d1a1e36e66766f126e4e6e,4,1,2,31705,,,0,"add unittest for services operationengine manager
Signed-off-by: chenglei1 <chenglei1@cmss.chinamobile.com>

Change-Id: Ief9db00679ef83e685bccac446fa4dad7826f1bc
",git fetch https://review.opendev.org/openstack/karbor refs/changes/52/715352/2 && git format-patch -1 --stdout FETCH_HEAD,['karbor/tests/unit/operationengine/test_manager.py'],1,29ae0246835e8141f6d2c6cb658cf19620e2d215,,"from oslo_config import cfg def remove_trigger(self, trigger_id): del self._trigger[trigger_id] def update_trigger(self, trigger_id, trigger_property): pass def test_create_trigger(self): trigger = self._create_one_trigger() self.manager.create_trigger(self.ctxt, trigger) self.assertIn(trigger.id, self.manager._trigger_manager._trigger) def test_delete_trigger(self): trigger = self._create_one_trigger() self.manager.create_trigger(self.ctxt, trigger) self.manager.delete_trigger(self.ctxt, trigger.id) self.assertNotIn(trigger.id, self.manager._trigger_manager._trigger) @mock.patch.object(FakeTriggerManager, 'update_trigger') def test_update_trigger(self, update_trigger): trigger = self._create_one_trigger() self.manager.create_trigger(self.ctxt, trigger) self.manager.update_trigger(self.ctxt, trigger) update_trigger.assert_called_once_with( trigger.id, trigger.properties) ",,27,0
openstack%2Fkarbor~master~Ia4780c46fab5ba55df017e3b0acdcda11b96211a,openstack/karbor,master,Ia4780c46fab5ba55df017e3b0acdcda11b96211a,Add correct extra_info parameter,ABANDONED,2020-04-13 23:33:51.000000000,2021-06-09 22:50:42.000000000,,"[{'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 27430}]","[{'number': 1, 'created': '2020-04-13 23:33:51.000000000', 'files': ['karbor/api/schemas/checkpoints.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/06c9524ef30e1d8978e9d563770f0c65c6d46fd1', 'message': 'Add correct extra_info parameter\n\nThe parameter extra_info is written as extra-info in the checkpoints validation schema.\nWhen the operation engine creates a checkpoint and labels it as created_by: operation-engine,\nthe information is lost and instead is labelled as manual because no extra_info was found.\n\nChange-Id: Ia4780c46fab5ba55df017e3b0acdcda11b96211a\nTask: 39380\nStory: 2007546\n'}]",0,719696,06c9524ef30e1d8978e9d563770f0c65c6d46fd1,5,3,1,31847,,,0,"Add correct extra_info parameter

The parameter extra_info is written as extra-info in the checkpoints validation schema.
When the operation engine creates a checkpoint and labels it as created_by: operation-engine,
the information is lost and instead is labelled as manual because no extra_info was found.

Change-Id: Ia4780c46fab5ba55df017e3b0acdcda11b96211a
Task: 39380
Story: 2007546
",git fetch https://review.opendev.org/openstack/karbor refs/changes/96/719696/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/api/schemas/checkpoints.py'],1,06c9524ef30e1d8978e9d563770f0c65c6d46fd1,," 'extra_info': parameter_types.metadata,",,1,0
openstack%2Fkarbor~stable%2Fussuri~I1a5b6ecea8c0fc07514c40e9b6008b30ebdcee9a,openstack/karbor,stable/ussuri,I1a5b6ecea8c0fc07514c40e9b6008b30ebdcee9a,Update .gitreview for stable/ussuri,ABANDONED,2020-05-02 13:09:25.000000000,2021-06-09 22:50:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-02 13:09:25.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/karbor/commit/977c873475869ecf310002279c59a88078cdf5af', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: I1a5b6ecea8c0fc07514c40e9b6008b30ebdcee9a\n'}]",0,725004,977c873475869ecf310002279c59a88078cdf5af,3,1,1,22816,,,0,"Update .gitreview for stable/ussuri

Change-Id: I1a5b6ecea8c0fc07514c40e9b6008b30ebdcee9a
",git fetch https://review.opendev.org/openstack/karbor refs/changes/04/725004/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,977c873475869ecf310002279c59a88078cdf5af,create-ussuri,defaultbranch=stable/ussuri,,1,0
openstack%2Fkarbor~master~Ie1dbc335854dbb8c7bb5047fa8a40411c6851703,openstack/karbor,master,Ie1dbc335854dbb8c7bb5047fa8a40411c6851703,Update master for stable/ussuri,ABANDONED,2020-05-02 13:09:35.000000000,2021-06-09 22:50:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-02 13:09:35.000000000', 'files': ['releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/660c1301ed3db6fadcc0a6e7caf8e61453fa5cdc', 'message': 'Update master for stable/ussuri\n\nAdd file to the reno documentation build to show release notes for\nstable/ussuri.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/ussuri.\n\nChange-Id: Ie1dbc335854dbb8c7bb5047fa8a40411c6851703\nSem-Ver: feature\n'}]",0,725006,660c1301ed3db6fadcc0a6e7caf8e61453fa5cdc,3,1,1,22816,,,0,"Update master for stable/ussuri

Add file to the reno documentation build to show release notes for
stable/ussuri.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/ussuri.

Change-Id: Ie1dbc335854dbb8c7bb5047fa8a40411c6851703
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/karbor refs/changes/06/725006/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst']",2,660c1301ed3db6fadcc0a6e7caf8e61453fa5cdc,reno-ussuri, ussuri,,7,0
openstack%2Fkarbor~stable%2Fussuri~I9e9dbb9923bf2f97dd9f72e97e301359d9366048,openstack/karbor,stable/ussuri,I9e9dbb9923bf2f97dd9f72e97e301359d9366048,Update TOX_CONSTRAINTS_FILE for stable/ussuri,ABANDONED,2020-05-02 13:09:30.000000000,2021-06-09 22:50:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-02 13:09:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/karbor/commit/3e1e058286bb98e821df6290c323f86a39fba65e', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I9e9dbb9923bf2f97dd9f72e97e301359d9366048\n'}]",0,725005,3e1e058286bb98e821df6290c323f86a39fba65e,3,1,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I9e9dbb9923bf2f97dd9f72e97e301359d9366048
",git fetch https://review.opendev.org/openstack/karbor refs/changes/05/725005/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3e1e058286bb98e821df6290c323f86a39fba65e,create-ussuri,install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -U {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -U {opts} {packages},1,1
openstack%2Fkarbor~master~I3779e9d651e1157d26da4b6d65d71eb8da72709a,openstack/karbor,master,I3779e9d651e1157d26da4b6d65d71eb8da72709a,Add Python3 victoria unit tests,ABANDONED,2020-05-02 13:09:39.000000000,2021-06-09 22:50:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-02 13:09:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/karbor/commit/4a39ccac68012a63e182c417271fa24e213c3b93', 'message': 'Add Python3 victoria unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for victoria.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I3779e9d651e1157d26da4b6d65d71eb8da72709a\n'}]",0,725007,4a39ccac68012a63e182c417271fa24e213c3b93,3,1,1,22816,,,0,"Add Python3 victoria unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for victoria.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I3779e9d651e1157d26da4b6d65d71eb8da72709a
",git fetch https://review.opendev.org/openstack/karbor refs/changes/07/725007/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4a39ccac68012a63e182c417271fa24e213c3b93,add-victoria-python-jobtemplates, - openstack-python3-victoria-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Fkarbor~master~I92617f0d299a8e8d922ae2bc30342c38fdc709af,openstack/karbor,master,I92617f0d299a8e8d922ae2bc30342c38fdc709af,Fix pygments style,ABANDONED,2020-05-20 00:48:32.000000000,2021-06-09 22:50:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-20 00:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/d2c3a69939802db2c6b9d57603f06ef2d745066d', 'message': 'Fix pygments style\n\nChange-Id: I92617f0d299a8e8d922ae2bc30342c38fdc709af\n'}, {'number': 2, 'created': '2020-05-20 00:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/feff1916e62e691b695a87318d3b50c8ff44913d', 'message': 'Fix pygments style\n\nNew theme of docs (Victoria+) respects pygments_style.\nSince we starts using Victoria reqs while being on Ussuri,\nthis patch ensures proper rendering both in Ussuri and Victoria.\n\nChange-Id: I92617f0d299a8e8d922ae2bc30342c38fdc709af\n'}, {'number': 3, 'created': '2020-05-21 01:17:42.000000000', 'files': ['doc/source/conf.py', 'api-ref/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/249726c65c97086d79eafe94b63286a87e0e0292', 'message': 'Fix pygments style\n\nNew theme of docs respects pygments_style.\n\nmore info: http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\n\nChange-Id: I92617f0d299a8e8d922ae2bc30342c38fdc709af\n'}]",0,729445,249726c65c97086d79eafe94b63286a87e0e0292,6,1,3,30356,,,0,"Fix pygments style

New theme of docs respects pygments_style.

more info: http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html


Change-Id: I92617f0d299a8e8d922ae2bc30342c38fdc709af
",git fetch https://review.opendev.org/openstack/karbor refs/changes/45/729445/3 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/conf.py', 'doc/source/conf.py', 'releasenotes/source/conf.py']",3,d2c3a69939802db2c6b9d57603f06ef2d745066d,,pygments_style = 'native',pygments_style = 'sphinx',3,3
openstack%2Fkarbor~master~I72f5c6ef6dc1430bf921309bf66e79a2554335e0,openstack/karbor,master,I72f5c6ef6dc1430bf921309bf66e79a2554335e0,Remove .testr.conf,ABANDONED,2020-05-19 07:09:47.000000000,2021-06-09 22:50:24.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-19 07:09:47.000000000', 'files': ['.testr.conf'], 'web_link': 'https://opendev.org/openstack/karbor/commit/2c9805ac7d94b3e36405042dc49e2ec4692016a3', 'message': 'Remove .testr.conf\n\nThis commit removes .testr.conf since this repo already has\n.stestr.conf. We just need .stestr.conf instead of .testr.conf.\n\nChange-Id: I72f5c6ef6dc1430bf921309bf66e79a2554335e0\n'}]",0,729145,2c9805ac7d94b3e36405042dc49e2ec4692016a3,4,2,1,5689,,,0,"Remove .testr.conf

This commit removes .testr.conf since this repo already has
.stestr.conf. We just need .stestr.conf instead of .testr.conf.

Change-Id: I72f5c6ef6dc1430bf921309bf66e79a2554335e0
",git fetch https://review.opendev.org/openstack/karbor refs/changes/45/729145/1 && git format-patch -1 --stdout FETCH_HEAD,['.testr.conf'],1,2c9805ac7d94b3e36405042dc49e2ec4692016a3,rm-testrconf,,[DEFAULT] test_command=OS_STDOUT_CAPTURE=${OS_STDOUT_CAPTURE:-1} \ OS_STDERR_CAPTURE=${OS_STDERR_CAPTURE:-1} \ OS_TEST_TIMEOUT=${OS_TEST_TIMEOUT:-60} \ ${PYTHON:-python} -m subunit.run discover -t ./ ${OS_TEST_PATH:-./karbor/tests/unit} $LISTOPT $IDOPTION test_id_option=--load-list $IDFILE test_list_option=--list ,0,7
openstack%2Fkarbor~master~I1130da54ea08e4e22fa45070c0341b439d1b2561,openstack/karbor,master,I1130da54ea08e4e22fa45070c0341b439d1b2561,ignore `.stestr/` dir,ABANDONED,2020-06-10 16:17:29.000000000,2021-06-09 22:50:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-10 16:17:29.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/karbor/commit/00501b36e3e037f2d68ed27a75254bfe5c5c65f4', 'message': ""ignore `.stestr/` dir\n\nThis is test artifact that don't need to be versioned and could be ignored.\n\nChange-Id: I1130da54ea08e4e22fa45070c0341b439d1b2561\n""}]",0,734884,00501b36e3e037f2d68ed27a75254bfe5c5c65f4,3,1,1,28522,,,0,"ignore `.stestr/` dir

This is test artifact that don't need to be versioned and could be ignored.

Change-Id: I1130da54ea08e4e22fa45070c0341b439d1b2561
",git fetch https://review.opendev.org/openstack/karbor refs/changes/84/734884/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,00501b36e3e037f2d68ed27a75254bfe5c5c65f4,gitignore-stestr,.stestr,,1,0
openstack%2Fkarbor~master~Ic749a65134f4efdcd099dad4c511613866c59709,openstack/karbor,master,Ic749a65134f4efdcd099dad4c511613866c59709,Add unittest for image protection plugin,ABANDONED,2020-06-18 02:33:28.000000000,2021-06-09 22:50:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-18 02:33:28.000000000', 'files': ['karbor/tests/unit/protection/test_glance_protection_plugin.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/046dac5b2de6c6c07e1fb7669c7aea59472b2b15', 'message': 'Add unittest for image protection plugin\n\nadd unittest for image protection plugin\n\nChange-Id: Ic749a65134f4efdcd099dad4c511613866c59709\n'}]",0,736416,046dac5b2de6c6c07e1fb7669c7aea59472b2b15,3,1,1,31705,,,0,"Add unittest for image protection plugin

add unittest for image protection plugin

Change-Id: Ic749a65134f4efdcd099dad4c511613866c59709
",git fetch https://review.opendev.org/openstack/karbor refs/changes/16/736416/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/tests/unit/protection/test_glance_protection_plugin.py'],1,046dac5b2de6c6c07e1fb7669c7aea59472b2b15,,"from karbor import exception def test_verify_schema(self): options_schema = self.plugin.get_verify_schema( constants.IMAGE_RESOURCE_TYPE) self.assertEqual(options_schema, image_plugin_schemas.VERIFY_SCHEMA) @mock.patch('karbor.services.protection.clients.glance.create') def test_create_backup_with_image_inactive(self, mock_glance_create): resource = Resource(id=""123"", type=constants.IMAGE_RESOURCE_TYPE, name='fake') fake_bank_section.update_object = mock.MagicMock() protect_operation = self.plugin.get_protect_operation(resource) mock_glance_create.return_value = self.glance_client self.glance_client.images.get = mock.MagicMock() self.glance_client.images.return_value = Image( disk_format="""", container_format="""", status=""inactive"", ) fake_bank_section.update_object = mock.MagicMock() self.glance_client.images.data = mock.MagicMock() self.glance_client.images.data.return_value = [] self.assertRaises(exception.CreateResourceFailed, call_hooks, protect_operation, self.checkpoint, resource, self.cntxt, {}) @mock.patch('karbor.services.protection.protection_plugins.image.' 'image_protection_plugin.utils.status_poll') @mock.patch('karbor.services.protection.clients.glance.create') def test_create_backup_with_image_inactive_and_is_seccess_is_not_True( self, mock_glance_create, mock_status_poll): resource = Resource(id=""123"", type=constants.IMAGE_RESOURCE_TYPE, name='fake') fake_bank_section.update_object = mock.MagicMock() protect_operation = self.plugin.get_protect_operation(resource) mock_glance_create.return_value = self.glance_client self.glance_client.images.get = mock.MagicMock() self.glance_client.images.return_value = Image( disk_format="""", container_format="""", status=""inactive"", ) fake_bank_section.update_object = mock.MagicMock() self.glance_client.images.data = mock.MagicMock() self.glance_client.images.data.return_value = [] mock_status_poll.return_value = False self.assertRaises(exception.CreateResourceFailed, call_hooks, protect_operation, self.checkpoint, resource, self.cntxt, {}) status=""active"", @mock.patch('karbor.services.protection.protection_plugins.image.' 'image_protection_plugin.utils.status_poll') @mock.patch('karbor.services.protection.protection_plugins.image.' 'image_protection_plugin.utils.restore_image_from_bank') @mock.patch('karbor.services.protection.clients.glance.create') def test_get_restore_operation_with_inactive(self, mock_glance_create, mock_restore_image_from_bank, mock_status_poll): resource = Resource(id=""123"", type=constants.IMAGE_RESOURCE_TYPE, name='fake') protect_operation = self.plugin.get_restore_operation(resource) mock_glance_create.return_value = self.glance_client mock_restore_image_from_bank.return_value = Image( disk_format="""", container_format="""", status=""inactive"", ) mock_status_poll.return_value = False self.assertRaises(exception.RestoreResourceFailed, call_hooks, protect_operation, self.checkpoint, resource, self.cntxt, {}) "," status=""active""",97,1
openstack%2Fkarbor~master~I4b73cee94eacc77aa866ab984f137120a4250f8e,openstack/karbor,master,I4b73cee94eacc77aa866ab984f137120a4250f8e,Remove obsolete files,ABANDONED,2020-07-03 03:50:21.000000000,2021-06-09 22:50:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-03 03:50:21.000000000', 'files': ['requirements.txt', 'babel.cfg', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/karbor/commit/92bb4088cf1188fbf9ed08380ec5ce88875af45c', 'message': 'Remove obsolete files\n\nThe files babel.cfg is not used anymore, remove it.\n\nThe mox3 repo is being retired. Remove mox3 from lower-constraints.txt.\n\nTo see: [1] I0f69963aabe00b5ebfcc3072c3ba9fd033d73920; [2] If897d98c15261f85eca5ddf074ac6cd2182ac1ad\n\nChange-Id: I4b73cee94eacc77aa866ab984f137120a4250f8e\n'}]",0,739160,92bb4088cf1188fbf9ed08380ec5ce88875af45c,3,1,1,17130,,,0,"Remove obsolete files

The files babel.cfg is not used anymore, remove it.

The mox3 repo is being retired. Remove mox3 from lower-constraints.txt.

To see: [1] I0f69963aabe00b5ebfcc3072c3ba9fd033d73920; [2] If897d98c15261f85eca5ddf074ac6cd2182ac1ad

Change-Id: I4b73cee94eacc77aa866ab984f137120a4250f8e
",git fetch https://review.opendev.org/openstack/karbor refs/changes/60/739160/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'babel.cfg', 'lower-constraints.txt']",3,92bb4088cf1188fbf9ed08380ec5ce88875af45c,cleanup,,Babel==2.3.4mox3==0.25.0,0,5
openstack%2Fkarbor~master~I94921af138e02ea40e55225c88a978861a2f810b,openstack/karbor,master,I94921af138e02ea40e55225c88a978861a2f810b,Stop to use the __future__ module.,ABANDONED,2020-06-02 18:19:24.000000000,2021-06-09 22:50:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 18:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/f2f17a70a53962a3c74726e65864c4fcbdb61584', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I94921af138e02ea40e55225c88a978861a2f810b\n""}, {'number': 2, 'created': '2020-06-15 11:10:28.000000000', 'files': ['karbor/wsgi/eventlet_server.py', 'tools/install_venv_common.py', 'tools/install_venv.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/bac26ede1c8286633ce1584eaed926fd5dbecc2d', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I94921af138e02ea40e55225c88a978861a2f810b\n""}]",0,732849,bac26ede1c8286633ce1584eaed926fd5dbecc2d,7,3,2,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I94921af138e02ea40e55225c88a978861a2f810b
",git fetch https://review.opendev.org/openstack/karbor refs/changes/49/732849/2 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/wsgi/eventlet_server.py', 'karbor/cmd/manage.py', 'tools/install_venv_common.py', 'tools/install_venv.py']",4,f2f17a70a53962a3c74726e65864c4fcbdb61584,drop_future_imports,,from __future__ import print_function ,0,8
openstack%2Fkarbor~master~I632452a559ad25085ddd7384c5eddbb6e422d630,openstack/karbor,master,I632452a559ad25085ddd7384c5eddbb6e422d630,Replace assertItemsEqual with assertCountEqual,ABANDONED,2020-07-12 03:25:17.000000000,2021-06-09 22:50:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-12 03:25:17.000000000', 'files': ['karbor/tests/unit/plugins/test_network_protectable_plugin.py', 'karbor/tests/unit/plugins/test_image_protectable_plugin.py', 'karbor/tests/fullstack/test_protectables.py', 'karbor/tests/unit/plugins/test_volume_protectable_plugin.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/68b151a8a726c39083da005e20e9b07439980deb', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I632452a559ad25085ddd7384c5eddbb6e422d630\n""}]",0,740571,68b151a8a726c39083da005e20e9b07439980deb,3,1,1,30356,,,0,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I632452a559ad25085ddd7384c5eddbb6e422d630
",git fetch https://review.opendev.org/openstack/karbor refs/changes/71/740571/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/tests/unit/plugins/test_network_protectable_plugin.py', 'karbor/tests/unit/plugins/test_image_protectable_plugin.py', 'karbor/tests/fullstack/test_protectables.py', 'karbor/tests/unit/plugins/test_volume_protectable_plugin.py']",4,68b151a8a726c39083da005e20e9b07439980deb,," self.assertCountEqual((""OS::Nova::Server"", ""OS::Kubernetes::Pod"","," self.assertItemsEqual((""OS::Nova::Server"", ""OS::Kubernetes::Pod"",",4,4
openstack%2Fkarbor~master~I51542fd151f6aca1750ade00ada05bd9b77017f2,openstack/karbor,master,I51542fd151f6aca1750ade00ada05bd9b77017f2,Fix the wrong description,ABANDONED,2020-05-12 11:49:28.000000000,2021-06-09 22:50:02.000000000,,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29147}, {'_account_id': 29272}]","[{'number': 1, 'created': '2020-05-12 11:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/b8e8792cbf6bff1a8395263bc3a2451022be1e0a', 'message': 'Fix the wrong description about singular-plural pair\nthe description about the method ""instance_show"" is\n""Return an an instance about the given protectable_type\nand id."" not ""Return a instance about the given protectable_type\nand id.""\n\nChange-Id: I51542fd151f6aca1750ade00ada05bd9b77017f2\n'}, {'number': 2, 'created': '2020-05-13 01:27:00.000000000', 'files': ['karbor/api/v1/protectables.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/0737d8c411bf829aa8f32d346c620f2688898975', 'message': 'Fix the wrong description\n\nThe description about the method ""instance_show"" is\n""Return an an instance about the given protectable_type\nand id."" not ""Return a instance about the given\nprotectable_type and id."".\n\nChange-Id: I51542fd151f6aca1750ade00ada05bd9b77017f2\n'}]",0,727167,0737d8c411bf829aa8f32d346c620f2688898975,8,4,2,31288,,,0,"Fix the wrong description

The description about the method ""instance_show"" is
""Return an an instance about the given protectable_type
and id."" not ""Return a instance about the given
protectable_type and id."".

Change-Id: I51542fd151f6aca1750ade00ada05bd9b77017f2
",git fetch https://review.opendev.org/openstack/karbor refs/changes/67/727167/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/api/v1/protectables.py'],1,b8e8792cbf6bff1a8395263bc3a2451022be1e0a,," """"""Return an instance about the given protectable_type and id."""""""," """"""Return a instance about the given protectable_type and id.""""""",1,1
openstack%2Fkarbor~master~I03cf18cc7599678f7c7d0fd09c541f7d562b8d7e,openstack/karbor,master,I03cf18cc7599678f7c7d0fd09c541f7d562b8d7e,"Correct comment from ""protect"" to ""retention protect""",ABANDONED,2020-09-02 11:22:57.000000000,2021-06-09 22:49:57.000000000,,"[{'_account_id': 2023}, {'_account_id': 13070}, {'_account_id': 17151}, {'_account_id': 19346}, {'_account_id': 20883}, {'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 24328}, {'_account_id': 29272}]","[{'number': 1, 'created': '2020-09-02 11:22:57.000000000', 'files': ['karbor/services/operationengine/operations/retention_operation.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/d1b11bc83dd62b32c6d78bf62f5c7565e4f28ed9', 'message': 'Correct comment from ""protect"" to ""retention protect""\n\nChange-Id: I03cf18cc7599678f7c7d0fd09c541f7d562b8d7e\n'}]",0,749485,d1b11bc83dd62b32c6d78bf62f5c7565e4f28ed9,3,9,1,32245,,,0,"Correct comment from ""protect"" to ""retention protect""

Change-Id: I03cf18cc7599678f7c7d0fd09c541f7d562b8d7e
",git fetch https://review.opendev.org/openstack/karbor refs/changes/85/749485/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/services/operationengine/operations/retention_operation.py'],1,d1b11bc83dd62b32c6d78bf62f5c7565e4f28ed9,," """"""Retention protect operation."""""""," """"""Protect operation.""""""",1,1
openstack%2Fkarbor~master~I4a8ada268c295505c6159b4eaf71fe77fb2b56eb,openstack/karbor,master,I4a8ada268c295505c6159b4eaf71fe77fb2b56eb,"Revert ""Use trustee project_name instead of fixed value""",ABANDONED,2019-11-27 00:25:49.000000000,2021-06-09 22:49:54.000000000,,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}, {'_account_id': 29729}]","[{'number': 1, 'created': '2019-11-27 00:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/b9da15b5a08366613a10a26105cf136c34d5b5d3', 'message': 'Revert ""Use trustee project_name instead of fixed value""\n\nThis patch will break the fullstack test, so revert it.\nThis reverts commit 82f07c14b6a1c5a9303e37001e85cc30df796dcc.\n\nChange-Id: I4a8ada268c295505c6159b4eaf71fe77fb2b56eb\n'}, {'number': 2, 'created': '2019-12-02 11:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/aadf18ff2b488cbd6a107245866eeeae04c88a77', 'message': 'Revert ""Use trustee project_name instead of fixed value""\n\nThis patch will break the fullstack test, so revert it.\nThis reverts commit 82f07c14b6a1c5a9303e37001e85cc30df796dcc.\n\nChange-Id: I4a8ada268c295505c6159b4eaf71fe77fb2b56eb\n'}, {'number': 3, 'created': '2020-08-17 08:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/5e8c510d1fb94af743ec3b8f9e3493e6231a0d7f', 'message': 'Revert ""Use trustee project_name instead of fixed value""\n\nThis patch will break the fullstack test, so revert it.\nThis reverts commit 82f07c14b6a1c5a9303e37001e85cc30df796dcc.\n\nChange-Id: I4a8ada268c295505c6159b4eaf71fe77fb2b56eb\n'}, {'number': 4, 'created': '2020-09-15 09:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/691532553bab37a42878005f43a1228b2505e4ca', 'message': 'Revert ""Use trustee project_name instead of fixed value""\n\nThis patch will break the fullstack test, so revert it.\nThis reverts commit 82f07c14b6a1c5a9303e37001e85cc30df796dcc.\n\nChange-Id: I4a8ada268c295505c6159b4eaf71fe77fb2b56eb\n'}, {'number': 5, 'created': '2020-09-16 06:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/0cbfed7299de56d6281bd83fc238cd33626b6d8d', 'message': 'Revert ""Use trustee project_name instead of fixed value""\n\nThis patch will break the fullstack test, so revert it.\nThis reverts commit 82f07c14b6a1c5a9303e37001e85cc30df796dcc.\n\nChange-Id: I4a8ada268c295505c6159b4eaf71fe77fb2b56eb\n'}, {'number': 6, 'created': '2020-09-16 06:37:31.000000000', 'files': ['karbor/common/karbor_keystone_plugin.py', 'karbor/tests/unit/common/test_karbor_keystone_plugin.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/795d70ade650e8156b3e7c465f89580d4b125478', 'message': 'Revert ""Use trustee project_name instead of fixed value""\n\nThis patch will break the fullstack test, so revert it.\nThis reverts commit 82f07c14b6a1c5a9303e37001e85cc30df796dcc.\n\nChange-Id: I4a8ada268c295505c6159b4eaf71fe77fb2b56eb\n'}]",6,696214,795d70ade650e8156b3e7c465f89580d4b125478,27,4,6,21224,,,0,"Revert ""Use trustee project_name instead of fixed value""

This patch will break the fullstack test, so revert it.
This reverts commit 82f07c14b6a1c5a9303e37001e85cc30df796dcc.

Change-Id: I4a8ada268c295505c6159b4eaf71fe77fb2b56eb
",git fetch https://review.opendev.org/openstack/karbor refs/changes/14/696214/4 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/common/karbor_keystone_plugin.py', 'karbor/tests/unit/common/test_karbor_keystone_plugin.py']",2,b9da15b5a08366613a10a26105cf136c34d5b5d3,(HEAD,,"from oslo_config import cfg from oslo_config import fixture plugin_config = cfg.ConfigOpts() plugin_config_fixture = self.useFixture(fixture.Config(plugin_config)) plugin_config_fixture.load_raw_values( group='trustee', poll_interval=0, ) cfg.CONF.set_default('project_name', 'services', ""trustee"") def test_service_auth_plugin_with_project_name(self): self.assertEqual(self.kc_plugin.service_auth_plugin._project_name, 'services')",3,16
openstack%2Fkarbor~master~I8cd5d402006554f4e3f6bb86d3b9fa74914a24ae,openstack/karbor,master,I8cd5d402006554f4e3f6bb86d3b9fa74914a24ae,Remove translation sections from setup.cfg,ABANDONED,2020-05-14 09:56:43.000000000,2021-06-09 22:49:50.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-14 09:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/0bc3f1dc5fa0e63ef13b40654f8d9c291a716c0f', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nChange-Id: I8cd5d402006554f4e3f6bb86d3b9fa74914a24ae\n'}, {'number': 2, 'created': '2020-09-22 00:57:42.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/karbor/commit/6fc7aea27d96f26c285b708b24696e2ccc08bcf5', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nChange-Id: I8cd5d402006554f4e3f6bb86d3b9fa74914a24ae\n'}]",0,728006,6fc7aea27d96f26c285b708b24696e2ccc08bcf5,7,2,2,17130,,,0,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Change-Id: I8cd5d402006554f4e3f6bb86d3b9fa74914a24ae
",git fetch https://review.opendev.org/openstack/karbor refs/changes/06/728006/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'setup.cfg']",2,0bc3f1dc5fa0e63ef13b40654f8d9c291a716c0f,,, [compile_catalog] directory = karbor/locale domain = karbor [update_catalog] domain = karbor output_dir = karbor/locale input_file = karbor/locale/karbor.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = karbor/locale/karbor.pot,0,16
openstack%2Fkarbor~stable%2Fvictoria~I17e7d73e19af2f472d6f4a405aa8c613346e713c,openstack/karbor,stable/victoria,I17e7d73e19af2f472d6f4a405aa8c613346e713c,Update .gitreview for stable/victoria,ABANDONED,2020-10-06 15:20:12.000000000,2021-06-09 22:49:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-10-06 15:20:12.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/karbor/commit/196959ecd33fb06c344522587e412aa53b42b6c6', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I17e7d73e19af2f472d6f4a405aa8c613346e713c\n'}]",0,756335,196959ecd33fb06c344522587e412aa53b42b6c6,3,1,1,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: I17e7d73e19af2f472d6f4a405aa8c613346e713c
",git fetch https://review.opendev.org/openstack/karbor refs/changes/35/756335/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,196959ecd33fb06c344522587e412aa53b42b6c6,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fkarbor~stable%2Fvictoria~I89fe3627f28f10573fb09c4115c10860d8d6a5a2,openstack/karbor,stable/victoria,I89fe3627f28f10573fb09c4115c10860d8d6a5a2,Update TOX_CONSTRAINTS_FILE for stable/victoria,ABANDONED,2020-10-06 15:20:15.000000000,2021-06-09 22:49:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-10-06 15:20:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/karbor/commit/8fd5887124012a1e9dcfeeb0fd289645d00992f7', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I89fe3627f28f10573fb09c4115c10860d8d6a5a2\n'}]",0,756336,8fd5887124012a1e9dcfeeb0fd289645d00992f7,3,1,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I89fe3627f28f10573fb09c4115c10860d8d6a5a2
",git fetch https://review.opendev.org/openstack/karbor refs/changes/36/756336/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8fd5887124012a1e9dcfeeb0fd289645d00992f7,create-victoria,install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -U {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -U {opts} {packages},1,1
openstack%2Fkarbor~master~I8a9a63b3a963bcc7c4b8f9a80717476fc55cc151,openstack/karbor,master,I8a9a63b3a963bcc7c4b8f9a80717476fc55cc151,Add Python3 wallaby unit tests,ABANDONED,2020-10-06 15:20:21.000000000,2021-06-09 22:47:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-10-06 15:20:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/karbor/commit/509343912957a8ad841f803c081868ef652f41b2', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I8a9a63b3a963bcc7c4b8f9a80717476fc55cc151\n'}]",0,756338,509343912957a8ad841f803c081868ef652f41b2,3,1,1,22816,,,0,"Add Python3 wallaby unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for wallaby.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I8a9a63b3a963bcc7c4b8f9a80717476fc55cc151
",git fetch https://review.opendev.org/openstack/karbor refs/changes/38/756338/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,509343912957a8ad841f803c081868ef652f41b2,add-wallaby-python-jobtemplates, - openstack-python3-wallaby-jobs, - openstack-python3-victoria-jobs,1,1
openstack%2Fkarbor~master~I9deca39bd80bf8303bcca0c44db417937aabb578,openstack/karbor,master,I9deca39bd80bf8303bcca0c44db417937aabb578,Remove six,ABANDONED,2020-09-29 09:24:40.000000000,2021-06-09 22:46:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30092}, {'_account_id': 32475}]","[{'number': 1, 'created': '2020-09-29 09:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/f4980946d4758ed4b2b2ea251e36a1b11152db7b', 'message': 'Remove Six\nReplace the following items with Python 3 style code.\n\n- six.PY3\n- six.moves.moves\n- six.text_type\n- six.string_types\n- six.unichr\n-\n\nChange-Id: I9deca39bd80bf8303bcca0c44db417937aabb578\n'}, {'number': 2, 'created': '2020-09-30 06:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/c07c73ea04838b3b2ae5e15ed912a5441221c4a5', 'message': 'Remove Six\nReplace the following items with Python 3 style code.\n\n- six.PY3\n- six.moves.moves\n- six.text_type\n- six.string_types\n- six.unichr\n-\n\nChange-Id: I9deca39bd80bf8303bcca0c44db417937aabb578\n'}, {'number': 3, 'created': '2020-09-30 06:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/3ec5f021b89b02f73e7f0659cdbe9e949ed93cd5', 'message': 'Remove Six\n\nReplace the following items with Python 3 style code.\n\n- six.PY3\n- six.moves.moves\n- six.text_type\n- six.string_types\n- six.unichr\n-\n\nChange-Id: I9deca39bd80bf8303bcca0c44db417937aabb578\n'}, {'number': 4, 'created': '2020-09-30 07:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/efb87fe7d0363926bdb7582d379f81c9980b9508', 'message': 'Remove six\n\nReplace the following items with Python 3 style code.\n\n- six.PY3\n- six.moves.moves\n- six.text_type\n- six.string_types\n- six.unichr\n-\n\nChange-Id: I9deca39bd80bf8303bcca0c44db417937aabb578\n'}, {'number': 5, 'created': '2020-09-30 08:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/81bcf420833ec3ee06e1c36fde448887946a6b84', 'message': 'Remove six\n\nReplace the following items with Python 3 style code.\n\n- six.PY3\n- six.moves.moves\n- six.text_type\n- six.string_types\n- six.unichr\n-\n\nImplements: blueprint six-removal\n\nChange-Id: I9deca39bd80bf8303bcca0c44db417937aabb578\n'}, {'number': 6, 'created': '2020-10-08 06:11:24.000000000', 'files': ['karbor/services/protection/flows/workflow.py', 'karbor/services/protection/protectable_plugin.py', 'karbor/services/operationengine/engine/executors/base.py', 'karbor/services/protection/protectable_plugins/network.py', 'karbor/services/protection/bank_plugin.py', 'karbor/context.py', 'karbor/services/protection/protection_plugins/network/neutron_protection_plugin.py', 'karbor/api/validation/parameter_types.py', 'karbor/services/protection/protectable_plugins/volume.py', 'karbor/services/protection/protectable_plugins/share.py', 'karbor/db/sqlalchemy/api.py', 'karbor/exception.py', 'karbor/objects/verification.py', 'karbor/services/protection/protectable_plugins/image.py', 'karbor/api/openstack/wsgi.py', 'lower-constraints.txt', 'karbor/api/v1/verifications.py', 'karbor/services/operationengine/engine/triggers/timetrigger/utils.py', 'karbor/services/protection/manager.py', 'karbor/tests/unit/api/v1/test_router.py', 'karbor/api/v1/operation_logs.py', 'karbor/api/validation/validators.py', 'karbor/quota.py', 'karbor/tests/unit/test_exception.py', 'karbor/api/v1/restores.py', 'karbor/api/v1/protectables.py', 'karbor/services/protection/bank_plugins/file_system_bank_plugin.py', 'requirements.txt', 'karbor/services/protection/protection_plugins/share/share_snapshot_plugin.py', 'karbor/api/v1/plans.py', 'karbor/api/versions.py', 'karbor/utils.py', 'karbor/services/protection/protection_plugins/volume/volume_snapshot_plugin.py', 'karbor/tests/unit/api/test_api_validation.py', 'karbor/objects/restore.py', 'karbor/services/operationengine/engine/triggers/__init__.py', 'karbor/api/v1/providers.py', 'karbor/api/common.py', 'karbor/services/protection/graph.py', 'karbor/services/protection/protectable_plugins/pod.py', 'karbor/tests/unit/db/test_models.py', 'karbor/api/middleware/fault.py', 'karbor/services/protection/protectable_plugins/server.py', 'karbor/services/protection/protection_plugins/database/database_backup_plugin.py', 'karbor/services/operationengine/operations/base.py', 'karbor/services/protection/protection_plugins/volume/cinder_protection_plugin.py', 'karbor/services/operationengine/engine/triggers/timetrigger/timeformats/__init__.py', 'karbor/services/protection/protectable_plugins/database.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/bb9a3d7be5b149ddcd349c05f0e3932af77e9747', 'message': 'Remove six\n\nReplace the following items with Python 3 style code.\n\n- six.PY3\n- six.moves.moves\n- six.text_type\n- six.string_types\n- six.unichr\n-\n\nImplements: blueprint six-removal\n\nChange-Id: I9deca39bd80bf8303bcca0c44db417937aabb578\n'}]",16,754944,bb9a3d7be5b149ddcd349c05f0e3932af77e9747,15,4,6,30092,,,0,"Remove six

Replace the following items with Python 3 style code.

- six.PY3
- six.moves.moves
- six.text_type
- six.string_types
- six.unichr
-

Implements: blueprint six-removal

Change-Id: I9deca39bd80bf8303bcca0c44db417937aabb578
",git fetch https://review.opendev.org/openstack/karbor refs/changes/44/754944/5 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/services/protection/flows/workflow.py', 'karbor/services/protection/protectable_plugin.py', 'karbor/services/operationengine/engine/executors/base.py', 'karbor/services/protection/protectable_plugins/network.py', 'karbor/services/protection/bank_plugin.py', 'karbor/context.py', 'karbor/services/protection/protection_plugins/network/neutron_protection_plugin.py', 'karbor/api/validation/parameter_types.py', 'karbor/services/protection/protectable_plugins/volume.py', 'karbor/services/protection/protectable_plugins/share.py', 'karbor/db/sqlalchemy/api.py', 'karbor/exception.py', 'karbor/objects/verification.py', 'karbor/services/protection/protectable_plugins/image.py', 'karbor/api/openstack/wsgi.py', 'lower-constraints.txt', 'karbor/api/v1/verifications.py', 'karbor/services/operationengine/engine/triggers/timetrigger/utils.py', 'karbor/services/protection/manager.py', 'karbor/tests/unit/api/v1/test_router.py', 'karbor/api/v1/operation_logs.py', 'karbor/api/validation/validators.py', 'karbor/quota.py', 'karbor/tests/unit/test_exception.py', 'karbor/api/v1/restores.py', 'karbor/api/v1/protectables.py', 'karbor/services/protection/bank_plugins/file_system_bank_plugin.py', 'requirements.txt', 'karbor/services/protection/protection_plugins/share/share_snapshot_plugin.py', 'karbor/api/v1/plans.py', 'karbor/api/versions.py', 'karbor/utils.py', 'karbor/services/protection/protection_plugins/volume/volume_snapshot_plugin.py', 'karbor/tests/unit/api/test_api_validation.py', 'karbor/objects/restore.py', 'karbor/services/operationengine/engine/triggers/__init__.py', 'karbor/api/v1/providers.py', 'karbor/api/common.py', 'karbor/services/protection/graph.py', 'karbor/services/protection/protectable_plugins/pod.py', 'karbor/tests/unit/db/test_models.py', 'karbor/api/middleware/fault.py', 'karbor/services/protection/protectable_plugins/server.py', 'karbor/services/protection/protection_plugins/database/database_backup_plugin.py', 'karbor/services/operationengine/operations/base.py', 'karbor/services/protection/protection_plugins/volume/cinder_protection_plugin.py', 'karbor/services/operationengine/engine/triggers/timetrigger/timeformats/__init__.py', 'karbor/services/protection/protectable_plugins/database.py']",48,f4980946d4758ed4b2b2ea251e36a1b11152db7b,bp/six-removal, reason=str(e)) reason=str(e)) reason=str(e)),import six reason=six.text_type(e)) reason=six.text_type(e)) reason=six.text_type(e)),104,178
openstack%2Fkarbor~master~If7e53ca41aa634d2e2ab1e22713fb68f9ae16dee,openstack/karbor,master,If7e53ca41aa634d2e2ab1e22713fb68f9ae16dee,Cap jsonschema 3.2.0 as the minimal version,ABANDONED,2020-05-26 19:51:10.000000000,2021-06-09 22:46:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27380}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-05-26 19:51:10.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/karbor/commit/5f10b1cac42ab3f1a94fcfd89f06a58cd602ef0c', 'message': ""Cap jsonschema 3.2.0 as the minimal version\n\nPrevious versions of jsonschema (<3.2.0) doesn't support python 3.8 [1].\nPython 3.8 is part of the victoria supported runtimes [2] so we now force\nto use jsonschema version 3.2.0 to avoid issues, remove ambiguity and ensure\nthat everything works with python 3 in general.\n\n[1] https://github.com/Julian/jsonschema/pull/627\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: If7e53ca41aa634d2e2ab1e22713fb68f9ae16dee\n""}]",0,730951,5f10b1cac42ab3f1a94fcfd89f06a58cd602ef0c,11,6,1,28522,,,0,"Cap jsonschema 3.2.0 as the minimal version

Previous versions of jsonschema (<3.2.0) doesn't support python 3.8 [1].
Python 3.8 is part of the victoria supported runtimes [2] so we now force
to use jsonschema version 3.2.0 to avoid issues, remove ambiguity and ensure
that everything works with python 3 in general.

[1] https://github.com/Julian/jsonschema/pull/627
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: If7e53ca41aa634d2e2ab1e22713fb68f9ae16dee
",git fetch https://review.opendev.org/openstack/karbor refs/changes/51/730951/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,5f10b1cac42ab3f1a94fcfd89f06a58cd602ef0c,cap_jsonschema,jsonschema==3.2.0,jsonschema==2.6.0,2,2
openstack%2Fkarbor~master~Ie241f193cbb88c28014392388568fd485ba453b0,openstack/karbor,master,Ie241f193cbb88c28014392388568fd485ba453b0,bump py37 to py38 in tox.ini,ABANDONED,2020-10-12 03:16:55.000000000,2021-06-09 22:46:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-10-12 03:16:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/karbor/commit/3f88f29074cfa0d87cdcb6c9d58d23afdb8bb6c5', 'message': ""bump py37 to py38 in tox.ini\n\nin 'victoria' cycle, we should test py38 by default.\n\nref:\n  https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: Ie241f193cbb88c28014392388568fd485ba453b0\n""}]",0,757381,3f88f29074cfa0d87cdcb6c9d58d23afdb8bb6c5,3,1,1,31027,,,0,"bump py37 to py38 in tox.ini

in 'victoria' cycle, we should test py38 by default.

ref:
  https://governance.openstack.org/tc/reference/runtimes/victoria.html

Change-Id: Ie241f193cbb88c28014392388568fd485ba453b0
",git fetch https://review.opendev.org/openstack/karbor refs/changes/81/757381/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3f88f29074cfa0d87cdcb6c9d58d23afdb8bb6c5,,"envlist = py38,pypy,pep8","envlist = py37,pypy,pep8",1,1
openstack%2Fkarbor~master~Idb81fdfc081ba306188dd5d5f8f4e8bd6e0e7d21,openstack/karbor,master,Idb81fdfc081ba306188dd5d5f8f4e8bd6e0e7d21,Update master for stable/victoria,ABANDONED,2020-10-06 15:20:18.000000000,2021-06-09 22:46:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-10-06 15:20:18.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/1b5d6ae7a10d0f4cced74bafde43597c0f06018f', 'message': 'Update master for stable/victoria\n\nAdd file to the reno documentation build to show release notes for\nstable/victoria.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/victoria.\n\nChange-Id: Idb81fdfc081ba306188dd5d5f8f4e8bd6e0e7d21\nSem-Ver: feature\n'}]",0,756337,1b5d6ae7a10d0f4cced74bafde43597c0f06018f,4,2,1,22816,,,0,"Update master for stable/victoria

Add file to the reno documentation build to show release notes for
stable/victoria.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/victoria.

Change-Id: Idb81fdfc081ba306188dd5d5f8f4e8bd6e0e7d21
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/karbor refs/changes/37/756337/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,1b5d6ae7a10d0f4cced74bafde43597c0f06018f,reno-victoria, victoria,,7,0
openstack%2Fkarbor~master~I2f90acbf1800062cb7004795f9d1b2a93a408e82,openstack/karbor,master,I2f90acbf1800062cb7004795f9d1b2a93a408e82,Fix bug for ensuring attr of image_info is not None,ABANDONED,2020-07-28 09:01:37.000000000,2021-06-09 22:46:31.000000000,,"[{'_account_id': 2023}, {'_account_id': 8556}, {'_account_id': 13070}, {'_account_id': 17151}, {'_account_id': 19346}, {'_account_id': 20883}, {'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 24328}, {'_account_id': 28522}, {'_account_id': 29139}, {'_account_id': 29272}, {'_account_id': 32245}, {'_account_id': 32259}]","[{'number': 1, 'created': '2020-07-28 09:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/8591e545218235d2811e79af5273229d84e8e837', 'message': ""Fix bug for ensuring attr of image_info not None\n\nFirst get the image_info at line 94, disk_format and other value\ncould be 'None' when image_info.status is 'queued',\nSo need to get the image_info again end of the 'if judgement'.\n\nChange-Id: I2f90acbf1800062cb7004795f9d1b2a93a408e82\n""}, {'number': 2, 'created': '2020-12-07 12:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/b33298e8a1b332684119d6137193f401881d3455', 'message': ""Fix bug for ensuring attr of image_info is not None\n\nFirst get the image_info at line 94, disk_format and other value\ncould be 'None' when image_info.status is 'queued',\nSo need to get the image_info again end of the 'if judgement'.\n\nChange-Id: I2f90acbf1800062cb7004795f9d1b2a93a408e82\n""}, {'number': 3, 'created': '2020-12-08 12:57:41.000000000', 'files': ['karbor/services/protection/protection_plugins/image/image_protection_plugin.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/cb1d947d6f36d0c2eb7329165644a3b9a8145484', 'message': ""Fix bug for ensuring attr of image_info is not None\n\nFirst get the image_info, if the status of image is 'queued',\nsome image attributes like disk_format could be 'None',\nso we need to get the image_info again.\n\nChange-Id: I2f90acbf1800062cb7004795f9d1b2a93a408e82\n""}]",0,743486,cb1d947d6f36d0c2eb7329165644a3b9a8145484,11,14,3,32245,,,0,"Fix bug for ensuring attr of image_info is not None

First get the image_info, if the status of image is 'queued',
some image attributes like disk_format could be 'None',
so we need to get the image_info again.

Change-Id: I2f90acbf1800062cb7004795f9d1b2a93a408e82
",git fetch https://review.opendev.org/openstack/karbor refs/changes/86/743486/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/services/protection/protection_plugins/image/image_protection_plugin.py'],1,8591e545218235d2811e79af5273229d84e8e837,fix_get_image_info, image_info = glance_client.images.get(image_id),,1,0
openstack%2Fkarbor~master~Iadc4150b5bff6d24fd67e1b3e4307ac198988cd1,openstack/karbor,master,Iadc4150b5bff6d24fd67e1b3e4307ac198988cd1,fix log format error,ABANDONED,2020-12-09 02:42:58.000000000,2021-06-09 22:46:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-09 02:42:58.000000000', 'files': ['karbor/services/operationengine/engine/triggers/timetrigger/time_trigger_multi_node.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/3f0eb2b19d80fd314dc6eb17744711e763df297b', 'message': 'fix log format error\n\nChange-Id: Iadc4150b5bff6d24fd67e1b3e4307ac198988cd1\n'}]",0,766118,3f0eb2b19d80fd314dc6eb17744711e763df297b,3,1,1,32245,,,0,"fix log format error

Change-Id: Iadc4150b5bff6d24fd67e1b3e4307ac198988cd1
",git fetch https://review.opendev.org/openstack/karbor refs/changes/18/766118/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/services/operationengine/engine/triggers/timetrigger/time_trigger_multi_node.py'],1,3f0eb2b19d80fd314dc6eb17744711e763df297b,," LOG.debug(""Time trigger (%s) out of window"", trigger_id)"," LOG.debug(""Time trigger (%s) out of window"",)",1,1
openstack%2Fkarbor~master~Ieede0aa013d776d91a85c699bf06617784612345,openstack/karbor,master,Ieede0aa013d776d91a85c699bf06617784612345,Adds time element to checkpoint creation date,ABANDONED,2020-09-11 02:07:57.000000000,2021-06-09 22:46:14.000000000,,"[{'_account_id': 16006}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-11 02:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/9002065bfca953b2101271a7e52acadd5385593c', 'message': 'Adds time element to checkpoint creation date\n\nThis should add the Hour, Minute and Second for\nwhen the timestamp was created instead of just the date.\n\nChange-Id: Ieede0aa013d776d91a85c699bf06617784612345\n'}, {'number': 2, 'created': '2020-09-11 02:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/c515affc6eebcc5c126eaa2650e85310e260e94f', 'message': 'Adds time element to checkpoint creation date\n\nThis should add the Hour, Minute and Second for\nwhen the timestamp was created instead of just the date.\n\nImplements:  blueprint checkpoint-datetime\nChange-Id: Ieede0aa013d776d91a85c699bf06617784612345\n'}, {'number': 3, 'created': '2020-09-11 12:43:36.000000000', 'files': ['karbor/services/protection/checkpoint.py', 'karbor/tests/unit/protection/test_checkpoint_collection.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/9438a1d4aa176dd4b3585fbd729ee2ca574fd3b0', 'message': 'Adds time element to checkpoint creation date\n\nThis should add the Hour, Minute and Second for\nwhen the timestamp was created instead of just the date.\n\nImplements:  blueprint checkpoint-datetime\nChange-Id: Ieede0aa013d776d91a85c699bf06617784612345\n'}]",0,751147,9438a1d4aa176dd4b3585fbd729ee2ca574fd3b0,8,2,3,29299,,,0,"Adds time element to checkpoint creation date

This should add the Hour, Minute and Second for
when the timestamp was created instead of just the date.

Implements:  blueprint checkpoint-datetime
Change-Id: Ieede0aa013d776d91a85c699bf06617784612345
",git fetch https://review.opendev.org/openstack/karbor refs/changes/47/751147/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/services/protection/checkpoint.py', 'karbor/tests/unit/protection/test_checkpoint_collection.py']",2,9002065bfca953b2101271a7e52acadd5385593c,bp/checkpoint-datetime," date1 = datetime.strptime(""2018-11-12-11-11-11"", ""%Y-%m-%d-%H-%M-%S"") date2 = datetime.strptime(""2018-11-13-13-12-11"", ""%Y-%m-%d-%H-%M-%S"") date1 = datetime.strptime(""2016-06-12-11-11-11"", ""%Y-%m-%d-%H-%M-%S"") date2 = datetime.strptime(""2016-06-13-12-12-11"", ""%Y-%m-%d-%H-%M-%S"") date1 = datetime.strptime(""2018-11-15-11-11-11"", ""%Y-%m-%d-%H-%M-%S"") date2 = datetime.strptime(""2018-11-17-13-12-11"", ""%Y-%m-%d-%H-%M-%S"") date = datetime.strptime(""2018-11-12-11-11-11"", ""%Y-%m-%d-%H-%M-%S"")"," date1 = datetime.strptime(""2018-11-12"", ""%Y-%m-%d"") date2 = datetime.strptime(""2018-11-13"", ""%Y-%m-%d"") date1 = datetime.strptime(""2016-06-12"", ""%Y-%m-%d"") date2 = datetime.strptime(""2016-06-13"", ""%Y-%m-%d"") date1 = datetime.strptime(""2018-11-15"", ""%Y-%m-%d"") date2 = datetime.strptime(""2018-11-17"", ""%Y-%m-%d"") date = datetime.strptime(""2018-11-12"", ""%Y-%m-%d"")",9,9
openstack%2Fkarbor~master~I5f5ce8b58d8adebf9b3e3ef492357b6b880a54f7,openstack/karbor,master,I5f5ce8b58d8adebf9b3e3ef492357b6b880a54f7,Ussuri contributor docs community goal,ABANDONED,2020-04-26 10:27:30.000000000,2021-06-09 22:45:14.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-26 10:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/79105eeadf86da5679c9163904f4138a590b9a5c', 'message': 'Ussuri contributor docs community goal\n\nThis patch updates the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nChange-Id: I5f5ce8b58d8adebf9b3e3ef492357b6b880a54f7\n'}, {'number': 2, 'created': '2020-04-26 11:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/13d0aecf514c70812faacbc2867b69388083ad1e', 'message': 'Ussuri contributor docs community goal\n\nThis patch updates the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nChange-Id: I5f5ce8b58d8adebf9b3e3ef492357b6b880a54f7\n'}, {'number': 3, 'created': '2020-04-28 00:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/584eb35b0aeb744814c66442f127df5c35ee3e00', 'message': 'Ussuri contributor docs community goal\n\nThis patch updates the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nChange-Id: I5f5ce8b58d8adebf9b3e3ef492357b6b880a54f7\n'}, {'number': 4, 'created': '2020-04-28 01:46:45.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/1104424e7de56be34fafa90514d20599719be969', 'message': 'Ussuri contributor docs community goal\n\nThis patch updates the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nChange-Id: I5f5ce8b58d8adebf9b3e3ef492357b6b880a54f7\n'}]",4,723205,1104424e7de56be34fafa90514d20599719be969,10,2,4,21224,,,0,"Ussuri contributor docs community goal

This patch updates the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Change-Id: I5f5ce8b58d8adebf9b3e3ef492357b6b880a54f7
",git fetch https://review.opendev.org/openstack/karbor refs/changes/05/723205/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst']",4,79105eeadf86da5679c9163904f4138a590b9a5c,project-ptl-and-contrib-docs,Basic Information ----------------- .. toctree:: :maxdepth: 2 contributing - Karbor Storyboard Link: \ https://storyboard.openstack.org/#!/project/openstack/karbor,- Karbor Launchpad Link: \ https://launchpad.net/karbor,139,11
openstack%2Fnova~master~I92ca3ca6cfb2cbc96c38fea81609bb481019bce4,openstack/nova,master,I92ca3ca6cfb2cbc96c38fea81609bb481019bce4,Remove broken CONF.pointer_model choice None,NEW,2020-03-04 19:34:57.000000000,2021-06-09 22:28:55.000000000,,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-04 19:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a5f1061bdd41092b16749a7ad4e8806d2a644dc', 'message': ""Fix CONF.pointer_model choice None to use 'none' for StrOpt\n\nThe CONF.pointer_model config option currently has None as one of the\nchoices to indicate no pointer type and to use the default behavior\nprovided by drivers. But when a user tries to set pointer_model = None\nin their nova.conf, they get the following error:\n\n  ERROR nova ConfigFileValueError: Value for option pointer_model is\n  not valid: Valid values are [None, ps2mouse, usbtablet], but found\n  'None'\n\nbecause the oslo.config StrOpt will coerce the None value to a string.\n\nThis changes the None choice to be 'none' instead, following the same\npattern seen in other config options that offer a 'none' choice\n(examples: preallocate_images, cpu_mode, sysinfo_serial, volume_clear).\n\nCloses-Bug: #1866106\n\nChange-Id: I92ca3ca6cfb2cbc96c38fea81609bb481019bce4\n""}, {'number': 2, 'created': '2020-03-04 22:43:13.000000000', 'files': ['nova/conf/compute.py', 'releasenotes/notes/remove-pointer-model-none-5657e0edee5a4b87.yaml', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fcd9281e4e372da202023f81f8211ab35f1d04bb', 'message': ""Remove broken CONF.pointer_model choice None\n\nThe CONF.pointer_model config option currently has None as one of the\nchoices to indicate no pointer type and to use the default behavior\nprovided by drivers. But when a user tries to set pointer_model = None\nin their nova.conf, they get the following error:\n\n  ERROR nova ConfigFileValueError: Value for option pointer_model is\n  not valid: Valid values are [None, ps2mouse, usbtablet], but found\n  'None'\n\nbecause the oslo.config StrOpt will coerce the None value to a string.\n\nDuring investigation of this bug, we found that there was no difference\nin treatment or behavior between the intended None option choice and\nthe ps2mouse option choice. Both choices (if None were not broken)\nresult in having the libvirt driver use default behavior.\n\nThe CONF.pointer_model option is intended for use by all virt drivers\nbut only the libvirt driver is using it in any way since it was\nintroduced in Newton.\n\nThis removes the broken None choice from the CONF.pointer_model option\nchoices and updates the config help for the ps2mouse choice to\naccurately describe what happens when it is specified.\n\nCloses-Bug: #1866106\n\nChange-Id: I92ca3ca6cfb2cbc96c38fea81609bb481019bce4\n""}]",4,711315,fcd9281e4e372da202023f81f8211ab35f1d04bb,17,8,2,4690,,,0,"Remove broken CONF.pointer_model choice None

The CONF.pointer_model config option currently has None as one of the
choices to indicate no pointer type and to use the default behavior
provided by drivers. But when a user tries to set pointer_model = None
in their nova.conf, they get the following error:

  ERROR nova ConfigFileValueError: Value for option pointer_model is
  not valid: Valid values are [None, ps2mouse, usbtablet], but found
  'None'

because the oslo.config StrOpt will coerce the None value to a string.

During investigation of this bug, we found that there was no difference
in treatment or behavior between the intended None option choice and
the ps2mouse option choice. Both choices (if None were not broken)
result in having the libvirt driver use default behavior.

The CONF.pointer_model option is intended for use by all virt drivers
but only the libvirt driver is using it in any way since it was
introduced in Newton.

This removes the broken None choice from the CONF.pointer_model option
choices and updates the config help for the ps2mouse choice to
accurately describe what happens when it is specified.

Closes-Bug: #1866106

Change-Id: I92ca3ca6cfb2cbc96c38fea81609bb481019bce4
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/711315/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,2a5f1061bdd41092b16749a7ad4e8806d2a644dc,bug/1866106, self.flags(pointer_model='none') self.flags(pointer_model='none') self.flags(pointer_model='none') self.flags(pointer_model='none'), self.flags(pointer_model=None) self.flags(pointer_model=None) self.flags(pointer_model=None) self.flags(pointer_model=None),8,8
openstack%2Fnova~master~I3aea7f6ef12dd532fbabf86f2dd1369e34e99080,openstack/nova,master,I3aea7f6ef12dd532fbabf86f2dd1369e34e99080,Add test coverage for requestlog X-Forwarded-For,ABANDONED,2021-05-06 18:25:45.000000000,2021-06-09 22:22:32.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 18:25:45.000000000', 'files': ['nova/tests/unit/api/openstack/test_requestlog.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b7d3b220632460f5bd70c41b100ec00e0ab943b0', 'message': 'Add test coverage for requestlog X-Forwarded-For\n\nThis adds unit test coverage for the bug fix in change\nId2703ea4439d587a1a7a878796a79709fae5ea61.\n\nRelated-Bug: #1913605\n\nChange-Id: I3aea7f6ef12dd532fbabf86f2dd1369e34e99080\n'}]",0,790139,b7d3b220632460f5bd70c41b100ec00e0ab943b0,9,2,1,4690,,,0,"Add test coverage for requestlog X-Forwarded-For

This adds unit test coverage for the bug fix in change
Id2703ea4439d587a1a7a878796a79709fae5ea61.

Related-Bug: #1913605

Change-Id: I3aea7f6ef12dd532fbabf86f2dd1369e34e99080
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/790139/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/test_requestlog.py'],1,b7d3b220632460f5bd70c41b100ec00e0ab943b0,bug/1913605," conf = self.useFixture(conf_fixture.ConfFixture()).conf # Verify handling of X-Forwarded-For header, example: load balancer. # First, try without setting CONF.api.use_forwarded_for, it should not # use the header value. headers = {'X-Forwarded-For': '1.2.3.4'} resp = api.api_request('/', strip_version=True, headers=headers) content_length = resp.headers['content-length'] log2 = ('INFO [nova.api.openstack.requestlog] 127.0.0.1 ' '""GET /"" status: 200 len: %s' % content_length) self.assertIn(log2, self.stdlog.logger.output) # Now set CONF.api.use_forwarded_for, it should use the header value. conf.set_override('use_forwarded_for', True, 'api') headers = {'X-Forwarded-For': '1.2.3.4'} resp = api.api_request('/', strip_version=True, headers=headers) content_length = resp.headers['content-length'] log3 = ('INFO [nova.api.openstack.requestlog] 1.2.3.4 ' '""GET /"" status: 200 len: %s' % content_length) self.assertIn(log3, self.stdlog.logger.output) ", self.useFixture(conf_fixture.ConfFixture()),20,1
openstack%2Fopenstack-ansible~master~Ia5d82a7c8172407a0389ec9504ec80b3e842f88b,openstack/openstack-ansible,master,Ia5d82a7c8172407a0389ec9504ec80b3e842f88b,Run certificate-authority independently during upgrade,MERGED,2021-06-09 15:43:50.000000000,2021-06-09 22:03:51.000000000,2021-06-09 22:02:03.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-06-09 15:43:50.000000000', 'files': ['scripts/run-upgrade.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4731f08b835242b50b194320b6f7143895f2eb7d', 'message': 'Run certificate-authority independently during upgrade\n\nlocalhost is not part of the `all` and excluded from play with any limit\nBecause of that CA is not being generated during upgrade and\nthings fail later with being unable to retrieve CA.\n\nThis being workedaround with adding another task, that will setup\nroot and intermediate certificates in advance.\n\nChange-Id: Ia5d82a7c8172407a0389ec9504ec80b3e842f88b\n'}]",0,795579,4731f08b835242b50b194320b6f7143895f2eb7d,9,3,1,28619,,,0,"Run certificate-authority independently during upgrade

localhost is not part of the `all` and excluded from play with any limit
Because of that CA is not being generated during upgrade and
things fail later with being unable to retrieve CA.

This being workedaround with adding another task, that will setup
root and intermediate certificates in advance.

Change-Id: Ia5d82a7c8172407a0389ec9504ec80b3e842f88b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/79/795579/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/run-upgrade.sh'],1,4731f08b835242b50b194320b6f7143895f2eb7d,osa/pki," RUN_TASKS+=(""certificate-authority.yml"")",,1,0
openstack%2Ftripleo-common~stable%2Ftrain~Ia0baf8501884d9ed2324938c9acbb30d1687cf27,openstack/tripleo-common,stable/train,Ia0baf8501884d9ed2324938c9acbb30d1687cf27,Fix config parsing in memcached healthcheck,MERGED,2021-06-04 08:21:45.000000000,2021-06-09 21:56:56.000000000,2021-06-09 21:55:44.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-04 08:21:45.000000000', 'files': ['healthcheck/memcached'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fdd2fb3b388548fc20d1f7e1e0578466448b35ca', 'message': 'Fix config parsing in memcached healthcheck\n\nWhen memcached is configured to listen on multiple IP, or\nis configured with TLS-e, make sure the healthcheck parses\nthe right IP to connect to and its associated port.\n\nChange-Id: Ia0baf8501884d9ed2324938c9acbb30d1687cf27\nCloses-Bug: #1929881\n(cherry picked from commit 3f84495b8f8dc0a20148dfa8eaaa22d750ada39d)\n'}]",0,794736,fdd2fb3b388548fc20d1f7e1e0578466448b35ca,14,5,1,20778,,,0,"Fix config parsing in memcached healthcheck

When memcached is configured to listen on multiple IP, or
is configured with TLS-e, make sure the healthcheck parses
the right IP to connect to and its associated port.

Change-Id: Ia0baf8501884d9ed2324938c9acbb30d1687cf27
Closes-Bug: #1929881
(cherry picked from commit 3f84495b8f8dc0a20148dfa8eaaa22d750ada39d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/36/794736/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/memcached'],1,fdd2fb3b388548fc20d1f7e1e0578466448b35ca,bug/1929881-stable/train,"# if memcached has TLS enabled, look for a notls ip entry in the options listen_addr=$(awk 'match($0, /notls:([0-9a-fA-F\.\:]+):11211[, ]/, a) {print a[1]}' /etc/sysconfig/memcached) if [ -z ""$listen_addr"" ]; then # otherwise look for the first ip available among all the possible ones # passed to the -l option listen_addr=$(awk 'match($0, /-l +([0-9a-fA-F\.\:]+)[, ]/, a) {print a[1]}' /etc/sysconfig/memcached) # get the configured memcached port or the default one port=$(awk -F= '$1==""PORT"" {gsub(/""/, """",$2); print $2}' /etc/sysconfig/memcached) port=${port:-11211} else # with TLS-e, TripleO always exposes the notls IP on port 11211 port=11211 fi listen_addr=$(wrap_ipv6 $listen_addr) echo ""version"" | socat - TCP:$listen_addr:$port 1>/dev/null","listen_addr=$(wrap_ipv6 $(awk 'match($0, /-l +([0-9a-fA-F\.\:]+) /, a) {print a[1]}' /etc/sysconfig/memcached)) echo ""version"" | socat - TCP:$listen_addr:11211 1>/dev/null",16,2
openstack%2Fpython-tripleoclient~master~Id5c8ba02762ab87fab5f8121dda37b463466c050,openstack/python-tripleoclient,master,Id5c8ba02762ab87fab5f8121dda37b463466c050,Add dosfstools to bindep,MERGED,2021-05-02 23:25:29.000000000,2021-06-09 21:50:46.000000000,2021-06-09 21:46:55.000000000,"[{'_account_id': 4571}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-02 23:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/037dded98534675e64c534a6b9317994d9dee18a', 'message': 'DNM add dosfstools to bindep\n\nJust until\nhttps://review.rdoproject.org/r/c/openstack/diskimage-builder-distgit/+/33551\nlands.\n\nChange-Id: Id5c8ba02762ab87fab5f8121dda37b463466c050\n'}, {'number': 2, 'created': '2021-05-06 01:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e9a5fb19e4a3a896b8a2af86f5c87086efe5863d', 'message': 'DNM add dosfstools to bindep\n\nJust until\nhttps://review.rdoproject.org/r/c/openstack/diskimage-builder-distgit/+/33551\nlands.\n\nChange-Id: Id5c8ba02762ab87fab5f8121dda37b463466c050\n'}, {'number': 3, 'created': '2021-05-31 22:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ffefdcc1469d9d25b7d288e2ef27fd38431dd87f', 'message': 'Add dosfstools to bindep\n\nThis is required by the new overcloud-hardened-uefi-full-centos-8 jobs which build images\nfrom git cloned projects.\n\nChange-Id: Id5c8ba02762ab87fab5f8121dda37b463466c050\n'}, {'number': 4, 'created': '2021-06-09 01:12:49.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/05d3a9c978f2798cb1525cce4cc644b1fe12a403', 'message': 'Add dosfstools to bindep\n\nThis is required by the new overcloud-hardened-uefi-full-centos-8 jobs\nwhich build images from git cloned projects.\n\nChange-Id: Id5c8ba02762ab87fab5f8121dda37b463466c050\n'}]",0,789103,05d3a9c978f2798cb1525cce4cc644b1fe12a403,19,4,4,4571,,,0,"Add dosfstools to bindep

This is required by the new overcloud-hardened-uefi-full-centos-8 jobs
which build images from git cloned projects.

Change-Id: Id5c8ba02762ab87fab5f8121dda37b463466c050
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/03/789103/4 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,037dded98534675e64c534a6b9317994d9dee18a,bp/whole-disk-default,dosfstools [platform:rpm test],,1,0
openstack%2Ftripleo-quickstart~master~Ia32a46826aed6313f47021540287c52c4ca4e32e,openstack/tripleo-quickstart,master,Ia32a46826aed6313f47021540287c52c4ca4e32e,Check component repo before disabling delorean repo,MERGED,2021-06-08 18:27:30.000000000,2021-06-09 21:50:43.000000000,2021-06-09 21:46:50.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-08 18:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7be25c767b0600db593380c5dfcf0aead3b2fca5', 'message': 'Check component repo before disabling delorean repo\n\nThe upgrade component jobs starts with the component\nrepo disabled. As such do not diabled the delorean repo\nunless the component repo exists and is enabled.\n\nChange-Id: Ia32a46826aed6313f47021540287c52c4ca4e32e\n'}, {'number': 2, 'created': '2021-06-08 19:34:01.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/141194c402da021975ffe6e93c4d5acfa966dfe8', 'message': 'Check component repo before disabling delorean repo\n\nThe upgrade component jobs starts with the component\nrepo disabled. As such do not diabled the delorean repo\nunless the component repo exists and is enabled.\n\nCloses-Bug: #1931207\nChange-Id: Ia32a46826aed6313f47021540287c52c4ca4e32e\n'}]",1,795395,141194c402da021975ffe6e93c4d5acfa966dfe8,13,9,2,9976,,,0,"Check component repo before disabling delorean repo

The upgrade component jobs starts with the component
repo disabled. As such do not diabled the delorean repo
unless the component repo exists and is enabled.

Closes-Bug: #1931207
Change-Id: Ia32a46826aed6313f47021540287c52c4ca4e32e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/95/795395/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml']",5,7be25c767b0600db593380c5dfcf0aead3b2fca5,limit-disable-component," if [ -f ""/etc/yum.repos.d/{{ job.component }}-component.repo"" ] && sudo cat /etc/yum.repos.d/{{ job.component }}-component.repo | grep 'enabled=1'; then"," if [ -f ""/etc/yum.repos.d/{{ job.component }}-component.repo"" ]; then",5,5
openstack%2Fswift~master~I444e018b52279ffed96158a96cf66123a0e6267b,openstack/swift,master,I444e018b52279ffed96158a96cf66123a0e6267b,Remove babel.cfg,MERGED,2020-09-18 06:11:15.000000000,2021-06-09 21:50:41.000000000,2021-06-09 21:45:41.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-09-18 06:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d1b308ce84b317b850d7cae6119df11f57278cda', 'message': 'Remove babel.cfg\n\nRemove babel.cfg and the translation bits from setup.cfg, those are not\nneeded anymore\n\nChange-Id: I444e018b52279ffed96158a96cf66123a0e6267b\n'}, {'number': 2, 'created': '2020-09-18 08:52:47.000000000', 'files': ['babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/swift/commit/66da8eaeef49db675b66e92336c947e6522e5f71', 'message': 'Remove babel.cfg\n\nRemove babel.cfg and the translation bits from setup.cfg, those are not\nneeded anymore.\n\nChange-Id: I444e018b52279ffed96158a96cf66123a0e6267b\n'}]",0,752620,66da8eaeef49db675b66e92336c947e6522e5f71,11,3,2,32029,,,0,"Remove babel.cfg

Remove babel.cfg and the translation bits from setup.cfg, those are not
needed anymore.

Change-Id: I444e018b52279ffed96158a96cf66123a0e6267b
",git fetch https://review.opendev.org/openstack/swift refs/changes/20/752620/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'setup.cfg']",2,d1b308ce84b317b850d7cae6119df11f57278cda,babel,,[compile_catalog] directory = swift/locale domain = swift [update_catalog] domain = swift output_dir = swift/locale input_file = swift/locale/swift.pot [extract_messages] keywords = _ l_ lazy_gettext mapping_file = babel.cfg output_file = swift/locale/swift.pot ,0,16
openstack%2Frequirements~master~I3eb3a0b3c4d6c647d2337e7151026c754f7b20a0,openstack/requirements,master,I3eb3a0b3c4d6c647d2337e7151026c754f7b20a0,update constraint for osprofiler to new release 3.4.1,MERGED,2021-06-09 16:29:41.000000000,2021-06-09 21:50:36.000000000,2021-06-09 21:45:23.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 16:29:41.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/017979d85151b62333f477ea0b8383b7a6c6492a', 'message': 'update constraint for osprofiler to new release 3.4.1\n\nmeta: version: 3.4.1\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Commit: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Change-Id: I7dd6c088fabfebb1346cf5049777b360eb95e8f9\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I3eb3a0b3c4d6c647d2337e7151026c754f7b20a0\n'}]",0,795592,017979d85151b62333f477ea0b8383b7a6c6492a,9,3,1,11131,,,0,"update constraint for osprofiler to new release 3.4.1

meta: version: 3.4.1
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Stephen Finucane <sfinucan@redhat.com>
meta: release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta: release:Change-Id: I7dd6c088fabfebb1346cf5049777b360eb95e8f9
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I3eb3a0b3c4d6c647d2337e7151026c754f7b20a0
",git fetch https://review.opendev.org/openstack/requirements refs/changes/92/795592/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,017979d85151b62333f477ea0b8383b7a6c6492a,new-release,osprofiler===3.4.1,osprofiler===3.4.0,1,1
openstack%2Ftripleo-heat-templates~master~Id0daf6aa7a0ec8db3e459022a5ebb1c437671191,openstack/tripleo-heat-templates,master,Id0daf6aa7a0ec8db3e459022a5ebb1c437671191,Fix typo in ceilometer-write-qdr environment file,MERGED,2021-06-08 14:12:11.000000000,2021-06-09 21:48:19.000000000,2021-06-09 21:48:19.000000000,"[{'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 13177}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 30893}, {'_account_id': 31510}]","[{'number': 1, 'created': '2021-06-08 14:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/590f3669916cf1f9c10b25e86cdae8209df121fa', 'message': 'Fix typo in ceilometer-write-qdr environment file\n\nFix typo of CeilometerQdrPublishMetrics parameter name in the\nceilometer-write-qdr environment file.\n\nChange-Id: Id0daf6aa7a0ec8db3e459022a5ebb1c437671191\n'}, {'number': 2, 'created': '2021-06-08 17:54:51.000000000', 'files': ['environments/metrics/ceilometer-write-qdr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/289cfd7a5d5673abc9e4fe18bd02dc0c7f0008d4', 'message': 'Fix typo in ceilometer-write-qdr environment file\n\nFix typo of CeilometerQdrPublishMetrics parameter name in the\nceilometer-write-qdr environment file.\n\nChange-Id: Id0daf6aa7a0ec8db3e459022a5ebb1c437671191\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}]",0,795345,289cfd7a5d5673abc9e4fe18bd02dc0c7f0008d4,18,10,2,7294,,,0,"Fix typo in ceilometer-write-qdr environment file

Fix typo of CeilometerQdrPublishMetrics parameter name in the
ceilometer-write-qdr environment file.

Change-Id: Id0daf6aa7a0ec8db3e459022a5ebb1c437671191
Signed-off-by: Leif Madsen <lmadsen@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/795345/2 && git format-patch -1 --stdout FETCH_HEAD,['environments/metrics/ceilometer-write-qdr.yaml'],1,590f3669916cf1f9c10b25e86cdae8209df121fa,typo/ceilometer-write-qdr, CeilometerQdrPublishMetrics: true, CeilometerQdrPublisMetrics: true,1,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ieffe2852111c3ec8347343a042dd78bbf691d79a,openstack/tripleo-heat-templates,stable/ussuri,Ieffe2852111c3ec8347343a042dd78bbf691d79a,Allow customizing podman's [engine]/events_logger,MERGED,2021-06-08 11:45:33.000000000,2021-06-09 21:47:25.000000000,2021-06-09 21:47:25.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 11:45:33.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e31cbf17adc278449948807ac9592be1f251dad', 'message': ""Allow customizing podman's [engine]/events_logger\n\nIn I780103e17f1bb42a0546c30bd6c001c642ad88b3 we introduced the\njournald default for the events_logger key. With this change we\nallow to change this new default, in case we do need to change it\nfor some reason.\n\nRelated-Bug: #1923607\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/795150\nChange-Id: Ieffe2852111c3ec8347343a042dd78bbf691d79a\n(cherry picked from commit 4ea2a6eb7c84682d49b50f1e087c64b7dce13103)\n(cherry picked from commit 496accc442ebbbb2221d4c8cca2d37609a6c8ede)\n""}]",0,795281,8e31cbf17adc278449948807ac9592be1f251dad,10,4,1,20172,,,0,"Allow customizing podman's [engine]/events_logger

In I780103e17f1bb42a0546c30bd6c001c642ad88b3 we introduced the
journald default for the events_logger key. With this change we
allow to change this new default, in case we do need to change it
for some reason.

Related-Bug: #1923607

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/795150
Change-Id: Ieffe2852111c3ec8347343a042dd78bbf691d79a
(cherry picked from commit 4ea2a6eb7c84682d49b50f1e087c64b7dce13103)
(cherry picked from commit 496accc442ebbbb2221d4c8cca2d37609a6c8ede)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/795281/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,8e31cbf17adc278449948807ac9592be1f251dad,events-logger-stable/wallaby-stable/victoria-stable/ussuri," ContainerDefaultEventsLogger: type: string default: 'journald' description: Setting to configure where podman logs its events. Uses journald by default as that will rotate data stored in tmpfs. constraints: - allowed_values: ['journald', 'file', 'none'] container_events_logger_mechanism: {get_param: ContainerDefaultEventsLogger} tripleo_container_events_logger_mechanism: ""{{ container_events_logger_mechanism }}""",,9,0
openstack%2Fdesignate~stable%2Focata~Icd6e690ac84a2fe0db0f4a8a513de47f7916f5ea,openstack/designate,stable/ocata,Icd6e690ac84a2fe0db0f4a8a513de47f7916f5ea,Fix DBDeadLock error resulting into 500,ABANDONED,2019-04-08 02:29:47.000000000,2021-06-09 21:47:18.000000000,,"[{'_account_id': 8099}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28140}]","[{'number': 1, 'created': '2019-04-08 02:29:47.000000000', 'files': ['designate/tests/unit/test_central/test_basic.py', 'designate/central/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/1d31bf74ca2a2e579e34f6ccf31259443fd8dc02', 'message': ""Fix DBDeadLock error resulting into 500\n\nWhen user requests the record registration request continuously,\nsometimes designate hits DBDeadLock resuting into 500 InternalServerError.\n\nWe get below error:\n\n2019-02-21 21:30:39.925 49752 ERROR designate.api.middleware RemoteError:\nRemote error: DBDeadlock (pymysql.err.InternalError)\n(1213, u'Deadlock found when trying to get lock; try restarting transaction')\n[SQL: u'UPDATE records SET version=(records.version + %(version_1)s),\nupdated_at=%(updated_at)s, data=%(data)s, hash=%(hash)s, status=%(status)s,\naction=%(action)s, serial=%(serial)s WHERE records.id = %(id_1)s']\n[parameters: {'status': 'PENDING', 'hash': '39795ee18c6e3c9ad1c0190c6a3d8d4f',\n'updated_at': datetime.datetime(2019, 2, 21, 12, 30, 39, 909846), u'version_1': 1,\nu'id_1': '7a655eeda4d446cdaa81caf19ab55fcc', 'action': 'UPDATE',\n'serial': 1550752338,\n'data': u'ns2.example.jp. domain.example.com. 1550752338 3552 600 86400 3600'}]\n\nIn the process of record registeration, designate first tried to update\nthe reocrd and then update the zone status.\n\nUpdating the zone_status and registering the record process[1] and after synced\nupdate record_status and zone_status process[2] are in reverse order. So If user\nrequest the registering record many time and same time, Designate will get the\nDBDeadLock, when these processes run the same time.\n\nWe observed that changing the order of the operations solves this issue.\n\n[1] https://github.com/openstack/designate/blob/master/designate/central/service.py#L1292-L1320\n[2] https://github.com/openstack/designate/blob/master/designate/central/service.py#L2310-L2322\n\n1. transaction [1]-1 updating zone status process <- run    ---> table_name-zone\n2. transaction [2]-1 updating record status process <- run  ---> table_name-record\n3. transaction [1]-2 registering record process <- run and wait  ---> table_name-record\n4. transaction [2]-2 updating zone process <-deadlock!           ---> table_name-zone\n\nChange-Id: Icd6e690ac84a2fe0db0f4a8a513de47f7916f5ea\nRelated-Bug: #1785459\n(cherry picked from commit f828654a3d40476cac7eb24a09a36e9978c2d708)\n""}]",0,650607,1d31bf74ca2a2e579e34f6ccf31259443fd8dc02,18,4,1,28140,,,0,"Fix DBDeadLock error resulting into 500

When user requests the record registration request continuously,
sometimes designate hits DBDeadLock resuting into 500 InternalServerError.

We get below error:

2019-02-21 21:30:39.925 49752 ERROR designate.api.middleware RemoteError:
Remote error: DBDeadlock (pymysql.err.InternalError)
(1213, u'Deadlock found when trying to get lock; try restarting transaction')
[SQL: u'UPDATE records SET version=(records.version + %(version_1)s),
updated_at=%(updated_at)s, data=%(data)s, hash=%(hash)s, status=%(status)s,
action=%(action)s, serial=%(serial)s WHERE records.id = %(id_1)s']
[parameters: {'status': 'PENDING', 'hash': '39795ee18c6e3c9ad1c0190c6a3d8d4f',
'updated_at': datetime.datetime(2019, 2, 21, 12, 30, 39, 909846), u'version_1': 1,
u'id_1': '7a655eeda4d446cdaa81caf19ab55fcc', 'action': 'UPDATE',
'serial': 1550752338,
'data': u'ns2.example.jp. domain.example.com. 1550752338 3552 600 86400 3600'}]

In the process of record registeration, designate first tried to update
the reocrd and then update the zone status.

Updating the zone_status and registering the record process[1] and after synced
update record_status and zone_status process[2] are in reverse order. So If user
request the registering record many time and same time, Designate will get the
DBDeadLock, when these processes run the same time.

We observed that changing the order of the operations solves this issue.

[1] https://github.com/openstack/designate/blob/master/designate/central/service.py#L1292-L1320
[2] https://github.com/openstack/designate/blob/master/designate/central/service.py#L2310-L2322

1. transaction [1]-1 updating zone status process <- run    ---> table_name-zone
2. transaction [2]-1 updating record status process <- run  ---> table_name-record
3. transaction [1]-2 registering record process <- run and wait  ---> table_name-record
4. transaction [2]-2 updating zone process <-deadlock!           ---> table_name-zone

Change-Id: Icd6e690ac84a2fe0db0f4a8a513de47f7916f5ea
Related-Bug: #1785459
(cherry picked from commit f828654a3d40476cac7eb24a09a36e9978c2d708)
",git fetch https://review.opendev.org/openstack/designate refs/changes/07/650607/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/test_central/test_basic.py', 'designate/central/service.py']",2,1d31bf74ca2a2e579e34f6ccf31259443fd8dc02,bug/1785459-stable/ocata," self._update_record_status(context, zone_id, status, serial)"," self._update_record_status(context, zone_id, status, serial)",27,1
openstack%2Fcinder~stable%2Frocky~Iebc8aebbb8d337882bfe949d8fe5b0623f333bf5,openstack/cinder,stable/rocky,Iebc8aebbb8d337882bfe949d8fe5b0623f333bf5,Drop lower-constraints job,MERGED,2021-04-09 19:07:34.000000000,2021-06-09 21:45:17.000000000,2021-06-09 21:45:17.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-09 19:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d85ef6bf0eec421e3fbcda06e28bf92df041138f', 'message': 'Drop lower-constraints job\n\nRunning a lower-constraints job is optional in master, and seems\npointless in the stable branches, so drop it.\n\nAdditional information here:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html\n\nChange-Id: Iebc8aebbb8d337882bfe949d8fe5b0623f333bf5\n'}, {'number': 2, 'created': '2021-04-13 04:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ffe13a22b204e2f0d2a9835c5e99edaa0bf34259', 'message': 'Drop lower-constraints job and update test-req\n\nRunning a lower-constraints job is optional in master, and seems\npointless in the stable branches, so drop it.  Also dropping the\ntox l-c testenv and lower-constraints.txt because it is pretty much\nworthless given the updated (v 20+) pip resolver.\n\ntest-requirements.txt changes:\n- cap bandit at 1.6.2 (see change Ib3ff3bd2df89 for why)\n- SQLAlchemy-Utils 0.36.1 -> 0.33.3 (max in rocky upper constraints)\n- psycopg2 2.6.2 -> 2.7 (setup.py failed locally)\n\nAdditional information here:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html\n\nChange-Id: Iebc8aebbb8d337882bfe949d8fe5b0623f333bf5\n'}, {'number': 3, 'created': '2021-06-04 22:34:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6b7603a4507d99d665e09152f09c87850ee29b8d', 'message': 'Drop lower-constraints job\n\nRunning a lower-constraints job is optional in master, and seems\npointless in the stable branches, so drop it.\n\nAdditional information here:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html\n\nChange-Id: Iebc8aebbb8d337882bfe949d8fe5b0623f333bf5\n'}]",1,785696,6b7603a4507d99d665e09152f09c87850ee29b8d,43,4,3,5314,,,0,"Drop lower-constraints job

Running a lower-constraints job is optional in master, and seems
pointless in the stable branches, so drop it.

Additional information here:
http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html

Change-Id: Iebc8aebbb8d337882bfe949d8fe5b0623f333bf5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/785696/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d85ef6bf0eec421e3fbcda06e28bf92df041138f,cinder-drop-lc-patch1,, - openstack-tox-lower-constraints - openstack-tox-lower-constraints,0,3
openstack%2Fneutron~stable%2Fwallaby~I9c54a268fc4ef9705637556ecba161bd6523a047,openstack/neutron,stable/wallaby,I9c54a268fc4ef9705637556ecba161bd6523a047,Use local and ip address to create vxlan interface,MERGED,2021-06-02 14:01:26.000000000,2021-06-09 21:42:04.000000000,2021-06-09 21:39:38.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 14:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a001a1dca30f12395adf65f7e4b78a0204eb6fc6', 'message': 'Use local and ip address to create vxlan interface\n\nAttempting to terminate a vxlan on the lo interface with\nmultiple ip addresses fails. This seems to be because only\nthe first ip address on the interface is used. If this address\nis invalid for vxlan creation (ie. 127.0.0.1), the vxlan\ninterface will be created, but will not have a source ip\naddress, and will therefore be non-functional. To remedy this\nissue, when L2population is used, we can set the local\nargument to the local_ip, thus ensuring the intended ip\naddress is configured.\n\nCloses-Bug: 1929998\nChange-Id: I9c54a268fc4ef9705637556ecba161bd6523a047\nSigned-off-by: Anthony Timmins <atimmins@datto.com>\n(cherry picked from commit 4cd11f4dee494c5851318410c523dfcfbce4c824)\n'}, {'number': 2, 'created': '2021-06-02 16:58:55.000000000', 'files': ['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/51394b775b1902fcf62021c5f549c3a7955d8f36', 'message': 'Use local and ip address to create vxlan interface\n\nAttempting to terminate a vxlan on the lo interface with\nmultiple ip addresses fails. This seems to be because only\nthe first ip address on the interface is used. If this address\nis invalid for vxlan creation (ie. 127.0.0.1), the vxlan\ninterface will be created, but will not have a source ip\naddress, and will therefore be non-functional. To remedy this\nissue, when L2population is used, we can set the local\nargument to the local_ip, thus ensuring the intended ip\naddress is configured.\n\nCloses-Bug: 1929998\nChange-Id: I9c54a268fc4ef9705637556ecba161bd6523a047\nSigned-off-by: Anthony Timmins <atimmins@datto.com>\n(cherry picked from commit 4cd11f4dee494c5851318410c523dfcfbce4c824)\nSigned-off-by: Anthony Timmins <atimmins@datto.com>\n'}]",0,794231,51394b775b1902fcf62021c5f549c3a7955d8f36,27,3,2,33525,,,0,"Use local and ip address to create vxlan interface

Attempting to terminate a vxlan on the lo interface with
multiple ip addresses fails. This seems to be because only
the first ip address on the interface is used. If this address
is invalid for vxlan creation (ie. 127.0.0.1), the vxlan
interface will be created, but will not have a source ip
address, and will therefore be non-functional. To remedy this
issue, when L2population is used, we can set the local
argument to the local_ip, thus ensuring the intended ip
address is configured.

Closes-Bug: 1929998
Change-Id: I9c54a268fc4ef9705637556ecba161bd6523a047
Signed-off-by: Anthony Timmins <atimmins@datto.com>
(cherry picked from commit 4cd11f4dee494c5851318410c523dfcfbce4c824)
Signed-off-by: Anthony Timmins <atimmins@datto.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/794231/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py']",2,a001a1dca30f12395adf65f7e4b78a0204eb6fc6,bug/1929998," local=self.lbm.local_ip,",,5,0
openstack%2Fdesignate~master~I5400cfe61b2608aa4a1b383f140ef71c2dc342f7,openstack/designate,master,I5400cfe61b2608aa4a1b383f140ef71c2dc342f7,Add user doc for managing recordsets,MERGED,2021-04-30 03:10:09.000000000,2021-06-09 21:35:25.000000000,2021-06-09 21:34:01.000000000,"[{'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 31933}]","[{'number': 1, 'created': '2021-04-30 03:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1958de443721c0a4862a5bb8ffd8d5669f3fb961', 'message': '[WIP] Add user doc for managing recordsets\n\nChange-Id: I5400cfe61b2608aa4a1b383f140ef71c2dc342f7\n'}, {'number': 2, 'created': '2021-05-03 03:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d151ee49a5d071b4876dedc36eed4ae37264b762', 'message': 'Add user doc for managing recordsets\n\nNameserver discovery not possible yet on the client, doc should\nbe updated when this is available.\n\nChange-Id: I5400cfe61b2608aa4a1b383f140ef71c2dc342f7\n'}, {'number': 3, 'created': '2021-05-03 06:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d038c47bf83c3930e19c219efc6dab9d147f393c', 'message': 'Add user doc for managing recordsets\n\nNameserver discovery not possible yet on the client, doc should\nbe updated when this is available.\n\nChange-Id: I5400cfe61b2608aa4a1b383f140ef71c2dc342f7\n'}, {'number': 4, 'created': '2021-05-19 06:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4bffa83e6075f76097b50b42a29135202c8d8c73', 'message': 'Add user doc for managing recordsets\n\nNameserver discovery not possible yet on the client, doc should\nbe updated when this is available.\n\nChange-Id: I5400cfe61b2608aa4a1b383f140ef71c2dc342f7\n'}, {'number': 5, 'created': '2021-05-19 07:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4019bd6c2a7fa9c2a2504d7e2a96487e6cc27f60', 'message': 'Add user doc for managing recordsets\n\nNameserver discovery not possible yet on the client, doc should\nbe updated when this is available.\n\nChange-Id: I5400cfe61b2608aa4a1b383f140ef71c2dc342f7\n'}, {'number': 6, 'created': '2021-05-20 02:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/235d0196e87b6d2a929e16533032d54599cf257b', 'message': 'Add user doc for managing recordsets\n\nNameserver discovery not possible yet on the client, doc should\nbe updated when this is available.\n\nChange-Id: I5400cfe61b2608aa4a1b383f140ef71c2dc342f7\n'}, {'number': 7, 'created': '2021-05-24 05:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8bd479ec82b433a1423cb0e97dec409775fd0efd', 'message': 'Add user doc for managing recordsets\n\nDocumentation targeted at member personas who wish to manage records.\n\nChange-Id: I5400cfe61b2608aa4a1b383f140ef71c2dc342f7\n'}, {'number': 8, 'created': '2021-06-04 01:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7e428f311242448e0d71f4b4aaf07efc5b0abd91', 'message': 'Add user doc for managing recordsets\n\nDocumentation targeted at member personas who wish to manage records.\n\nChange-Id: I5400cfe61b2608aa4a1b383f140ef71c2dc342f7\n'}, {'number': 9, 'created': '2021-06-09 05:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/18a6586220e8ab8eb2aff4c90c6c024e3e34a813', 'message': 'Add user doc for managing recordsets\n\nDocumentation targeted at member personas who wish to manage records.\n\nChange-Id: I5400cfe61b2608aa4a1b383f140ef71c2dc342f7\n'}, {'number': 10, 'created': '2021-06-09 06:08:10.000000000', 'files': ['doc/source/user/index.rst', 'doc/source/user/manage-recordsets.rst'], 'web_link': 'https://opendev.org/openstack/designate/commit/999abb0d925b3c97274b0d0f116e3fff9cdf35df', 'message': 'Add user doc for managing recordsets\n\nDocumentation targeted at member personas who wish to manage records.\n\nChange-Id: I5400cfe61b2608aa4a1b383f140ef71c2dc342f7\n'}]",116,788874,999abb0d925b3c97274b0d0f116e3fff9cdf35df,35,5,10,6994,,,0,"Add user doc for managing recordsets

Documentation targeted at member personas who wish to manage records.

Change-Id: I5400cfe61b2608aa4a1b383f140ef71c2dc342f7
",git fetch https://review.opendev.org/openstack/designate refs/changes/74/788874/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'doc/source/user/manage-recordsets.rst']",2,1958de443721c0a4862a5bb8ffd8d5669f3fb961,user_recordset_doc,".. Copyright 2021 Red Hat Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. ==================== Managing Records ==================== [ DNS record terminology ] Recordsets in Designate ======================= [ What is a recordset ] Creating a recordset -------------------- [ Create single record ] [ Create multiple records ] [ Verify result ] Updating a recordset -------------------- [ Add a new record to a recordset ] [ Remove a record from a recordset ] Deleting a recordset -------------------- [ Delete a record ] Managed Records --------------- [ SOA and NS records ] [ Modification restricted to admin role by default ] ",,51,0
openstack%2Fkayobe-config-dev~stable%2Fvictoria~Ib0ee70953ea7a487988705b9c6e0f9b3a18b273e,openstack/kayobe-config-dev,stable/victoria,Ib0ee70953ea7a487988705b9c6e0f9b3a18b273e,Sync configs with kayobe @ 0a8f1fb67fb4cab7029cdf615f3280e975bcd1bf,MERGED,2021-06-09 15:44:37.000000000,2021-06-09 21:32:33.000000000,2021-06-09 21:32:33.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 15:44:37.000000000', 'files': ['etc/kayobe/ipa.yml', 'etc/kayobe/seed-vm.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/7a33e82b90bbee0db60f8201bce40595802bc9c2', 'message': 'Sync configs with kayobe @ 0a8f1fb67fb4cab7029cdf615f3280e975bcd1bf\n\nChange-Id: Ib0ee70953ea7a487988705b9c6e0f9b3a18b273e\n'}]",0,795580,7a33e82b90bbee0db60f8201bce40595802bc9c2,6,2,1,15197,,,0,"Sync configs with kayobe @ 0a8f1fb67fb4cab7029cdf615f3280e975bcd1bf

Change-Id: Ib0ee70953ea7a487988705b9c6e0f9b3a18b273e
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/80/795580/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/ipa.yml', 'etc/kayobe/seed-vm.yml']",2,7a33e82b90bbee0db60f8201bce40595802bc9c2,,"# ""https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.3.2011-20201204.2.x86_64.qcow2"".","# ""https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.2.2004-20200611.2.x86_64.qcow2"".",5,1
openstack%2Freleases~master~I15d92ee5ce1a9868bfb1fa1ce90dbfa0640c026a,openstack/releases,master,I15d92ee5ce1a9868bfb1fa1ce90dbfa0640c026a,[Quality Assurance] Transition Ocata to End of Life,ABANDONED,2021-06-09 19:17:54.000000000,2021-06-09 20:58:14.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 19:17:54.000000000', 'files': ['deliverables/ocata/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/af0798c15b58701cdafabdbaa1b0768e30664b81', 'message': ""[Quality Assurance] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I15d92ee5ce1a9868bfb1fa1ce90dbfa0640c026a\n""}]",1,795671,af0798c15b58701cdafabdbaa1b0768e30664b81,6,2,1,17685,,,0,"[Quality Assurance] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I15d92ee5ce1a9868bfb1fa1ce90dbfa0640c026a
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/795671/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/tempest.yaml'],1,af0798c15b58701cdafabdbaa1b0768e30664b81,ocata-eol,team: Quality Assurance - version: ocata-eol projects: - repo: openstack/tempest hash: aafb5900e7450316e44541655e0ecd5575a69d73,team: 'Quality Assurance',5,1
openstack%2Foslo.limit~master~If72050e90ca8b03e26d128c7bbcef6bbea92b501,openstack/oslo.limit,master,If72050e90ca8b03e26d128c7bbcef6bbea92b501,Add a test fixture,MERGED,2021-06-09 15:05:34.000000000,2021-06-09 20:46:38.000000000,2021-06-09 20:45:27.000000000,"[{'_account_id': 6928}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 15:05:34.000000000', 'files': ['doc/source/user/index.rst', 'test-requirements.txt', 'oslo_limit/tests/test_fixture.py', 'oslo_limit/fixture.py', 'doc/source/user/testing.rst', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/caa75c1babf1f06647761c1629b7ab8e055ddb3d', 'message': 'Add a test fixture\n\nThis adds a fixture that can be used by consuming projects to\nsimulate a set of limits in keystone, without requiring actual\nkeystone. Currently, consumers have to mock oslo.limit internals (at\nleast) in order to do testing.\n\nChange-Id: If72050e90ca8b03e26d128c7bbcef6bbea92b501\n'}]",0,795567,caa75c1babf1f06647761c1629b7ab8e055ddb3d,8,3,1,4393,,,0,"Add a test fixture

This adds a fixture that can be used by consuming projects to
simulate a set of limits in keystone, without requiring actual
keystone. Currently, consumers have to mock oslo.limit internals (at
least) in order to do testing.

Change-Id: If72050e90ca8b03e26d128c7bbcef6bbea92b501
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/67/795567/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'test-requirements.txt', 'oslo_limit/tests/test_fixture.py', 'oslo_limit/fixture.py', 'doc/source/user/testing.rst', 'doc/requirements.txt']",6,caa75c1babf1f06647761c1629b7ab8e055ddb3d,add-fixture,fixtures>=3.0.0 # Apache-2.0/BSD,,200,0
openstack%2Fbifrost~stable%2Fwallaby~I0f4c306c96a5aa3ecfbbd8d9eb4b17db303abda9,openstack/bifrost,stable/wallaby,I0f4c306c96a5aa3ecfbbd8d9eb4b17db303abda9,Move the network-interface checks to bootstrap,MERGED,2021-06-09 15:59:48.000000000,2021-06-09 19:38:35.000000000,2021-06-09 19:36:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-09 15:59:48.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/717865d79e67f944cddb7f1bb1b6132f643a7aa3', 'message': 'Move the network-interface checks to bootstrap\n\nThey should not happen during installations, it breaks kolla.\n\nChange-Id: I0f4c306c96a5aa3ecfbbd8d9eb4b17db303abda9\n(cherry picked from commit 3176c939327794664ac15b63c80afcf5db985e84)\n'}]",0,795584,717865d79e67f944cddb7f1bb1b6132f643a7aa3,9,3,1,10239,,,0,"Move the network-interface checks to bootstrap

They should not happen during installations, it breaks kolla.

Change-Id: I0f4c306c96a5aa3ecfbbd8d9eb4b17db303abda9
(cherry picked from commit 3176c939327794664ac15b63c80afcf5db985e84)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/84/795584/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml']",4,717865d79e67f944cddb7f1bb1b6132f643a7aa3,,"- name: ""Check that the provided interface is defined"" fail: msg: > Network interface {{ network_interface }} is not known to Ansible. If you're testing Bifrost on virtual machines, do not forget to invoke ""bifrost-cli testenv"" or use the ""bifrost-create-vm-nodes"" role first. If you're using Bifrost on real bare metal, you have to provide the network interface via the ""network_interface"" variable or the --network-interface argument to ""bifrost-cli install"". when: ('ansible_' + ans_network_interface) not in hostvars[inventory_hostname] ",,22,22
openstack%2Fbifrost~bugfix%2F11.0~I0f4c306c96a5aa3ecfbbd8d9eb4b17db303abda9,openstack/bifrost,bugfix/11.0,I0f4c306c96a5aa3ecfbbd8d9eb4b17db303abda9,Move the network-interface checks to bootstrap,MERGED,2021-06-09 16:01:35.000000000,2021-06-09 19:38:32.000000000,2021-06-09 19:36:55.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 16:01:35.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1bdc4f22264cabcf0ef71a0b5e0436bbdfe704c3', 'message': 'Move the network-interface checks to bootstrap\n\nThey should not happen during installations, it breaks kolla.\n\nChange-Id: I0f4c306c96a5aa3ecfbbd8d9eb4b17db303abda9\n'}]",0,795469,1bdc4f22264cabcf0ef71a0b5e0436bbdfe704c3,8,3,1,23851,,,0,"Move the network-interface checks to bootstrap

They should not happen during installations, it breaks kolla.

Change-Id: I0f4c306c96a5aa3ecfbbd8d9eb4b17db303abda9
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/69/795469/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml']",2,1bdc4f22264cabcf0ef71a0b5e0436bbdfe704c3,wrong-interface-bugfix/11.0,"- name: ""Check that the provided interface is defined"" fail: msg: > Network interface {{ network_interface }} is not known to Ansible. If you're testing Bifrost on virtual machines, do not forget to invoke ""bifrost-cli testenv"" or use the ""bifrost-create-vm-nodes"" role first. If you're using Bifrost on real bare metal, you have to provide the network interface via the ""network_interface"" variable or the --network-interface argument to ""bifrost-cli install"". when: ('ansible_' + ans_network_interface) not in hostvars[inventory_hostname] ",,22,0
openstack%2Fpython-tripleoclient~stable%2Fussuri~I5c8a0d3a46632ff2ffec35bd07eec233ea9a09cd,openstack/python-tripleoclient,stable/ussuri,I5c8a0d3a46632ff2ffec35bd07eec233ea9a09cd,Remove --extra-env-vars from the mutually exclusive arg group,MERGED,2021-05-20 13:23:30.000000000,2021-06-09 19:15:18.000000000,2021-06-09 19:12:59.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-20 13:23:30.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e8a0124a10dcb89f5e1de03a4b2e71cc364d4c9d', 'message': 'Remove --extra-env-vars from the mutually exclusive arg group\n\nThere is no reason to make --extra-env-vars mutually exclusive with\n--extra-vars and --extra-vars-file. Only the last two ones should be.\n\nThis patch fixes this.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I5c8a0d3a46632ff2ffec35bd07eec233ea9a09cd\n(cherry picked from commit a397af28d0bca03a089b7e88478e90d10fe74ebd)\n'}]",0,792376,e8a0124a10dcb89f5e1de03a4b2e71cc364d4c9d,32,7,1,11491,,,0,"Remove --extra-env-vars from the mutually exclusive arg group

There is no reason to make --extra-env-vars mutually exclusive with
--extra-vars and --extra-vars-file. Only the last two ones should be.

This patch fixes this.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I5c8a0d3a46632ff2ffec35bd07eec233ea9a09cd
(cherry picked from commit a397af28d0bca03a089b7e88478e90d10fe74ebd)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/76/792376/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,e8a0124a10dcb89f5e1de03a4b2e71cc364d4c9d,, parser.add_argument(, extra_vars_group.add_argument(,1,1
openstack%2Ftripleo-heat-templates~master~Ib29585696be5d46f88731541a3333851deebd663,openstack/tripleo-heat-templates,master,Ib29585696be5d46f88731541a3333851deebd663,Pass custom CephConfigPath parameter to ceph-nfs role,MERGED,2021-05-24 22:00:03.000000000,2021-06-09 19:13:04.000000000,2021-06-09 19:13:04.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-05-24 22:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a72795a980bcd70bc7ed17e97937151c083f655', 'message': 'Pass custom CephConfigPath parameter to ceph-nfs role\n\nThis is necessary for the systemd service to mount the correct\nlocation on the host\n\nDepends-On: I12155b4a88b811d701f9fb6d1506b5592b58767b\nChange-Id: Ib29585696be5d46f88731541a3333851deebd663\n'}, {'number': 2, 'created': '2021-06-08 05:11:46.000000000', 'files': ['deployment/cephadm/ceph-nfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7150a747b4c47405e8cedf6127118fa73a7f9090', 'message': 'Pass custom CephConfigPath parameter to ceph-nfs role\n\nThis is necessary for the systemd service to mount the correct\nlocation on the host\n\nDepends-On: I12155b4a88b811d701f9fb6d1506b5592b58767b\nChange-Id: Ib29585696be5d46f88731541a3333851deebd663\n'}]",0,792860,7150a747b4c47405e8cedf6127118fa73a7f9090,37,4,2,6796,,,0,"Pass custom CephConfigPath parameter to ceph-nfs role

This is necessary for the systemd service to mount the correct
location on the host

Depends-On: I12155b4a88b811d701f9fb6d1506b5592b58767b
Change-Id: Ib29585696be5d46f88731541a3333851deebd663
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/792860/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-nfs.yaml'],1,3a72795a980bcd70bc7ed17e97937151c083f655,792860," CephConfigPath: type: string default: ""/var/lib/tripleo-config/ceph"" description: | The path where the Ceph Cluster config files are stored on the host. tripleo_ceph_client_config_home: {get_param: CephConfigPath}",,6,0
openstack%2Fliberasurecode~master~I9c05059a2342594598abaa965b326737de4fab45,openstack/liberasurecode,master,I9c05059a2342594598abaa965b326737de4fab45,Add arm64 gate jobs,MERGED,2021-05-28 00:23:28.000000000,2021-06-09 19:12:55.000000000,2021-06-09 19:12:55.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 00:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/liberasurecode/commit/a23033a18dab299df61ba0edd08e0ac9557e5554', 'message': 'Add arm64 gate jobs\n\nChange-Id: I9c05059a2342594598abaa965b326737de4fab45\n'}, {'number': 2, 'created': '2021-05-28 00:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/liberasurecode/commit/ca6c6d5b2258705bc2ffe171f12704cccb4eb5ef', 'message': 'Add arm64 gate jobs\n\nChange-Id: I9c05059a2342594598abaa965b326737de4fab45\n'}, {'number': 3, 'created': '2021-06-08 22:42:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/liberasurecode/commit/d1e129453b130b262b183e75af4687df4fdbe491', 'message': 'Add arm64 gate jobs\n\nChange-Id: I9c05059a2342594598abaa965b326737de4fab45\n'}]",1,793511,d1e129453b130b262b183e75af4687df4fdbe491,16,2,3,15343,,,0,"Add arm64 gate jobs

Change-Id: I9c05059a2342594598abaa965b326737de4fab45
",git fetch https://review.opendev.org/openstack/liberasurecode refs/changes/11/793511/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a23033a18dab299df61ba0edd08e0ac9557e5554,, name: liberasurecode-unittests-arm64 parent: liberasurecode-unittests nodeset: ubuntu-focal-arm64 description: | Build and run test and valgrind-test for liberasurecode on arm64. - job:- job: name: liberasurecode-unittests-centos-8 parent: liberasurecode-unittests nodeset: centos-8-arm64 description: | Build and run test and valgrind-test for liberasurecode. This job runs on CentOS-8 on arm64. - liberasurecode-unittests-arm64 - liberasurecode-unittests-centos-8-arm64 - liberasurecode-unittests-arm64 - liberasurecode-unittests-centos-8-arm64,,20,0
openstack%2Fovsdbapp~master~I7343fb609fab91c20490842378747f7265241e82,openstack/ovsdbapp,master,I7343fb609fab91c20490842378747f7265241e82,ovn: support allow-stateless ACL verb,MERGED,2021-06-02 21:31:22.000000000,2021-06-09 18:58:10.000000000,2021-06-09 18:56:51.000000000,"[{'_account_id': 5756}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-06-02 21:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/f3768f95064a7696360da556c3af0ba7bf3fb2e4', 'message': 'ovn: support allow-stateless ACL verb\n\nIt was added in OVN 21.06. It is used to implement stateless\nfirewall.\n\nChange-Id: I7343fb609fab91c20490842378747f7265241e82\n'}, {'number': 2, 'created': '2021-06-02 21:36:23.000000000', 'files': ['releasenotes/notes/ovn-support-allow-stateless-01aed5acdcd1c0d1.yaml', 'ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/commands.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/a7127ffe863998f2c8b564a8ed16b9a288606663', 'message': 'ovn: support allow-stateless ACL verb\n\nIt was added in OVN 21.06. It is used to implement stateless\nfirewall.\n\nChange-Id: I7343fb609fab91c20490842378747f7265241e82\n'}]",0,794342,a7127ffe863998f2c8b564a8ed16b9a288606663,11,5,2,9656,,,0,"ovn: support allow-stateless ACL verb

It was added in OVN 21.06. It is used to implement stateless
firewall.

Change-Id: I7343fb609fab91c20490842378747f7265241e82
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/42/794342/2 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/commands.py']",2,f3768f95064a7696360da556c3af0ba7bf3fb2e4,ovn-allow-stateless," if action not in ('allow', 'allow-related', 'allow-stateless', 'drop', 'reject'): raise TypeError(""action must be allow/allow-related/"" ""allow-stateless/drop/reject"")"," if action not in ('allow', 'allow-related', 'drop', 'reject'): raise TypeError(""action must be allow/allow-related/drop/reject"")",8,4
openstack%2Fpython-tripleoclient~master~I20da47f8dfbf48f6ee46e60a07c00482545cb444,openstack/python-tripleoclient,master,I20da47f8dfbf48f6ee46e60a07c00482545cb444,overcloud deploy - provision networks,MERGED,2021-05-27 11:44:18.000000000,2021-06-09 18:41:03.000000000,2021-06-09 18:39:35.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-27 11:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c4d614f49867c88e1d2902f9581785c8af26dc39', 'message': 'overcloud deploy - provision networks\n\nWhen the network file provided as input to the overcloud\ndeploy command is a network-v2 format file. Provision\nnetworks and include the deployed network environment\nfile in user environments.\n\nChange-Id: I20da47f8dfbf48f6ee46e60a07c00482545cb444\n'}, {'number': 2, 'created': '2021-05-27 21:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c4560759e93cd086289073b0c8ff106d88a57c10', 'message': 'overcloud deploy - provision networks\n\nWhen the network file provided as input to the overcloud\ndeploy command is a network-v2 format file. Provision\nnetworks and include the deployed network environment\nfile in user environments.\n\nChange-Id: I20da47f8dfbf48f6ee46e60a07c00482545cb444\n'}, {'number': 3, 'created': '2021-05-31 10:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d5fe77178ef4e41528d1fb92931e2d0dca8fb3e6', 'message': 'overcloud deploy - provision networks\n\nWhen the network file provided as input to the overcloud\ndeploy command is a network-v2 format file. Provision\nnetworks and include the deployed network environment\nfile in user environments.\n\nChange-Id: I20da47f8dfbf48f6ee46e60a07c00482545cb444\n'}, {'number': 4, 'created': '2021-05-31 11:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4116c784afa891f50caee7e9ec1ca8cca440d28e', 'message': 'overcloud deploy - provision networks\n\nWhen the network file provided as input to the overcloud\ndeploy command is a network-v2 format file. Provision\nnetworks and include the deployed network environment\nfile in user environments.\n\nChange-Id: I20da47f8dfbf48f6ee46e60a07c00482545cb444\n'}, {'number': 5, 'created': '2021-06-01 00:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c4a70b360215407ed580053170eb6f8e64ae162f', 'message': 'overcloud deploy - provision networks\n\nWhen the network file provided as input to the overcloud\ndeploy command is a network-v2 format file. Provision\nnetworks and include the deployed network environment\nfile in user environments.\n\nChange-Id: I20da47f8dfbf48f6ee46e60a07c00482545cb444\n'}, {'number': 6, 'created': '2021-06-01 17:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4630cb969c3563ac07acbf3b03841b504f89ea0c', 'message': 'overcloud deploy - provision networks\n\nWhen the network file provided as input to the overcloud\ndeploy command is a network-v2 format file. Provision\nnetworks and include the deployed network environment\nfile in user environments.\n\nChange-Id: I20da47f8dfbf48f6ee46e60a07c00482545cb444\n'}, {'number': 7, 'created': '2021-06-03 07:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2179370ddf9643fe511043a904c1bb038036174b', 'message': 'overcloud deploy - provision networks\n\nWhen the network file provided as input to the overcloud\ndeploy command is a network-v2 format file. Provision\nnetworks and include the deployed network environment\nfile in user environments.\n\nChange-Id: I20da47f8dfbf48f6ee46e60a07c00482545cb444\n'}, {'number': 8, 'created': '2021-06-05 00:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/381f46657b5d411e1b7b7d96c3e33769c5298e94', 'message': 'overcloud deploy - provision networks\n\nWhen the network file provided as input to the overcloud\ndeploy command is a network-v2 format file. Provision\nnetworks and include the deployed network environment\nfile in user environments.\n\nChange-Id: I20da47f8dfbf48f6ee46e60a07c00482545cb444\n'}, {'number': 9, 'created': '2021-06-07 13:26:21.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2b2e52c88235ac49a0c7fb76eeb40a0989d0a6ed', 'message': 'overcloud deploy - provision networks\n\nWhen the network file provided as input to the overcloud\ndeploy command is a network-v2 format file. Provision\nnetworks and include the deployed network environment\nfile in user environments.\n\nChange-Id: I20da47f8dfbf48f6ee46e60a07c00482545cb444\n'}]",10,793383,2b2e52c88235ac49a0c7fb76eeb40a0989d0a6ed,47,6,9,24245,,,0,"overcloud deploy - provision networks

When the network file provided as input to the overcloud
deploy command is a network-v2 format file. Provision
networks and include the deployed network environment
file in user environments.

Change-Id: I20da47f8dfbf48f6ee46e60a07c00482545cb444
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/83/793383/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,c4d614f49867c88e1d2902f9581785c8af26dc39,network-data-v2," self._provision_networks(parsed_args, new_tht_root)) created_env_files.extend( def _provision_networks(self, parsed_args, tht_root): # Parse the network data, if any network have 'ip_subnet' or # 'ipv6_subnet' keys this is not a network-v2 format file. In this # case do nothing. networks_file_path = os.path.abspath(parsed_args.networks_file) with open(networks_file_path, 'r') as f: network_data = yaml.safe_load(f.read()) for network in network_data: if 'ip_subnet' in network or 'ipv6_subnet' in network: return [] output_path = utils.build_user_env_path( 'networks-deployed.yaml', tht_root) extra_vars = { ""network_data_path"": networks_file_path, ""network_deployed_path"": output_path, } with oooutils.TempDirs() as tmp: oooutils.run_ansible_playbook( playbook='cli-overcloud-network-provision.yaml', inventory='localhost,', workdir=tmp, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=oooutils.playbook_verbosity(self=self), extra_vars=extra_vars, ) with open(output_path, 'r') as fp: parameter_defaults = yaml.safe_load(fp) utils.write_user_environment( parameter_defaults, 'networks-deployed.yaml', tht_root, parsed_args.stack) return [output_path] ",,42,0
openstack%2Ftripleo-validations~stable%2Ftrain~I8f197a2a240e0a9571b7cfca198530f170233dac,openstack/tripleo-validations,stable/train,I8f197a2a240e0a9571b7cfca198530f170233dac,Use validation_component for Standalone CI jobs,MERGED,2021-06-03 07:39:22.000000000,2021-06-09 18:36:46.000000000,2021-06-09 18:36:46.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-03 07:39:22.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c83fa9700d17ca522d8cc8a867fd7dcf72f87299', 'message': ""Use validation_component for Standalone CI jobs\n\nRenaming the 'component' key by 'validation_component' will prevent us\nto get our validation component delorean repository disabled by [1]\nduring our standalone CI runs.\n\nIn master and stable/wallaby, this patch has been applied with the\nJinja2 fix [2][3]. This latter is not needed in victoria, ussuri and\ntrain. This is the reason why I didn't do a backport here.\n\n[1] - https://review.opendev.org/c/openstack/tripleo-quickstart/+/792818\n[2] - https://review.opendev.org/c/openstack/tripleo-validations/+/793154\n[3] - https://review.opendev.org/c/openstack/tripleo-validations/+/793675\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I8f197a2a240e0a9571b7cfca198530f170233dac\n(cherry picked from commit 7af4352e270c751fda57ec5645741e749e9c6cb9)\n(cherry picked from commit 56faf912b460a2b5aefbadcd162a8724608e2d2c)\n""}]",0,794437,c83fa9700d17ca522d8cc8a867fd7dcf72f87299,8,9,1,11491,,,0,"Use validation_component for Standalone CI jobs

Renaming the 'component' key by 'validation_component' will prevent us
to get our validation component delorean repository disabled by [1]
during our standalone CI runs.

In master and stable/wallaby, this patch has been applied with the
Jinja2 fix [2][3]. This latter is not needed in victoria, ussuri and
train. This is the reason why I didn't do a backport here.

[1] - https://review.opendev.org/c/openstack/tripleo-quickstart/+/792818
[2] - https://review.opendev.org/c/openstack/tripleo-validations/+/793154
[3] - https://review.opendev.org/c/openstack/tripleo-validations/+/793675

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I8f197a2a240e0a9571b7cfca198530f170233dac
(cherry picked from commit 7af4352e270c751fda57ec5645741e749e9c6cb9)
(cherry picked from commit 56faf912b460a2b5aefbadcd162a8724608e2d2c)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/37/794437/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,c83fa9700d17ca522d8cc8a867fd7dcf72f87299,, validation_component: validation, component: validation,1,1
openstack%2Ftripleo-validations~stable%2Fvictoria~I8f197a2a240e0a9571b7cfca198530f170233dac,openstack/tripleo-validations,stable/victoria,I8f197a2a240e0a9571b7cfca198530f170233dac,Use validation_component for Standalone CI jobs,MERGED,2021-06-03 07:34:16.000000000,2021-06-09 18:36:43.000000000,2021-06-09 18:36:43.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-03 07:34:16.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7af4352e270c751fda57ec5645741e749e9c6cb9', 'message': ""Use validation_component for Standalone CI jobs\n\nRenaming the 'component' key by 'validation_component' will prevent us\nto get our validation component delorean repository disabled by [1]\nduring our standalone CI runs.\n\nIn master and stable/wallaby, this patch has been applied with the\nJinja2 fix [2][3]. This latter is not needed in victoria, ussuri and\ntrain. This is the reason why I didn't do a backport here.\n\n[1] - https://review.opendev.org/c/openstack/tripleo-quickstart/+/792818\n[2] - https://review.opendev.org/c/openstack/tripleo-validations/+/793154\n[3] - https://review.opendev.org/c/openstack/tripleo-validations/+/793675\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I8f197a2a240e0a9571b7cfca198530f170233dac\n""}]",0,794455,7af4352e270c751fda57ec5645741e749e9c6cb9,8,9,1,11491,,,0,"Use validation_component for Standalone CI jobs

Renaming the 'component' key by 'validation_component' will prevent us
to get our validation component delorean repository disabled by [1]
during our standalone CI runs.

In master and stable/wallaby, this patch has been applied with the
Jinja2 fix [2][3]. This latter is not needed in victoria, ussuri and
train. This is the reason why I didn't do a backport here.

[1] - https://review.opendev.org/c/openstack/tripleo-quickstart/+/792818
[2] - https://review.opendev.org/c/openstack/tripleo-validations/+/793154
[3] - https://review.opendev.org/c/openstack/tripleo-validations/+/793675

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I8f197a2a240e0a9571b7cfca198530f170233dac
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/55/794455/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,7af4352e270c751fda57ec5645741e749e9c6cb9,, validation_component: validation, component: validation,1,1
openstack%2Frequirements~master~I1cd8d31a93d2d5502aefd5e7efe32333f4e724f9,openstack/requirements,master,I1cd8d31a93d2d5502aefd5e7efe32333f4e724f9,update constraint for python-neutronclient to new release 7.5.0,MERGED,2021-06-09 13:45:14.000000000,2021-06-09 18:36:11.000000000,2021-06-09 18:32:51.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 13:45:14.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1b407034a393db08fe3ae8f30af07aacf89c46dc', 'message': 'update constraint for python-neutronclient to new release 7.5.0\n\nmeta: version: 7.5.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Commit: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Change-Id: I41d25d27e5c61ec64ed4335b7332e43362f6c03b\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>\nChange-Id: I1cd8d31a93d2d5502aefd5e7efe32333f4e724f9\n'}]",0,795543,1b407034a393db08fe3ae8f30af07aacf89c46dc,8,2,1,11131,,,0,"update constraint for python-neutronclient to new release 7.5.0

meta: version: 7.5.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Commit: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Change-Id: I41d25d27e5c61ec64ed4335b7332e43362f6c03b
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>
Change-Id: I1cd8d31a93d2d5502aefd5e7efe32333f4e724f9
",git fetch https://review.opendev.org/openstack/requirements refs/changes/43/795543/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1b407034a393db08fe3ae8f30af07aacf89c46dc,new-release,python-neutronclient===7.5.0,python-neutronclient===7.4.0,1,1
openstack%2Ftripleo-validations~stable%2Fussuri~I8f197a2a240e0a9571b7cfca198530f170233dac,openstack/tripleo-validations,stable/ussuri,I8f197a2a240e0a9571b7cfca198530f170233dac,Use validation_component for Standalone CI jobs,MERGED,2021-06-03 07:35:37.000000000,2021-06-09 18:26:55.000000000,2021-06-09 18:26:55.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-03 07:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/78326c9879b9967f87b2732cd3b94921f96894ec', 'message': ""Use validation_component for Standalone CI jobs\n\nRenaming the 'component' key by 'validation_component' will prevent us\nto get our validation component delorean repository disabled by [1]\nduring our standalone CI runs.\n\nIn master and stable/wallaby, this patch has been applied with the\nJinja2 fix [2][3]. This latter is not needed in victoria, ussuri and\ntrain. This is the reason why I didn't do a backport here.\n\n[1] - https://review.opendev.org/c/openstack/tripleo-quickstart/+/792818\n[2] - https://review.opendev.org/c/openstack/tripleo-validations/+/793154\n[3] - https://review.opendev.org/c/openstack/tripleo-validations/+/793675\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I8f197a2a240e0a9571b7cfca198530f170233dac\n""}, {'number': 2, 'created': '2021-06-03 07:36:57.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/56faf912b460a2b5aefbadcd162a8724608e2d2c', 'message': ""Use validation_component for Standalone CI jobs\n\nRenaming the 'component' key by 'validation_component' will prevent us\nto get our validation component delorean repository disabled by [1]\nduring our standalone CI runs.\n\nIn master and stable/wallaby, this patch has been applied with the\nJinja2 fix [2][3]. This latter is not needed in victoria, ussuri and\ntrain. This is the reason why I didn't do a backport here.\n\n[1] - https://review.opendev.org/c/openstack/tripleo-quickstart/+/792818\n[2] - https://review.opendev.org/c/openstack/tripleo-validations/+/793154\n[3] - https://review.opendev.org/c/openstack/tripleo-validations/+/793675\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I8f197a2a240e0a9571b7cfca198530f170233dac\n(cherry picked from commit 7af4352e270c751fda57ec5645741e749e9c6cb9)\n""}]",0,794436,56faf912b460a2b5aefbadcd162a8724608e2d2c,9,9,2,11491,,,0,"Use validation_component for Standalone CI jobs

Renaming the 'component' key by 'validation_component' will prevent us
to get our validation component delorean repository disabled by [1]
during our standalone CI runs.

In master and stable/wallaby, this patch has been applied with the
Jinja2 fix [2][3]. This latter is not needed in victoria, ussuri and
train. This is the reason why I didn't do a backport here.

[1] - https://review.opendev.org/c/openstack/tripleo-quickstart/+/792818
[2] - https://review.opendev.org/c/openstack/tripleo-validations/+/793154
[3] - https://review.opendev.org/c/openstack/tripleo-validations/+/793675

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I8f197a2a240e0a9571b7cfca198530f170233dac
(cherry picked from commit 7af4352e270c751fda57ec5645741e749e9c6cb9)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/36/794436/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,78326c9879b9967f87b2732cd3b94921f96894ec,, validation_component: validation, component: validation,1,1
openstack%2Fkayobe~stable%2Fwallaby~I4b4a8d1c848bb992f65860b058cb9fd9d77613d0,openstack/kayobe,stable/wallaby,I4b4a8d1c848bb992f65860b058cb9fd9d77613d0,docs: add variable for current branch,MERGED,2021-06-09 13:58:06.000000000,2021-06-09 18:05:03.000000000,2021-06-09 18:02:41.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 13:58:06.000000000', 'files': ['doc/source/contributor/testing.rst', 'doc/source/contributor/automated.rst', 'doc/source/contributor/vagrant.rst', 'doc/source/conf.py', 'doc/source/configuration/scenarios/all-in-one/overcloud.rst', 'doc/source/installation.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/30563e526d99507931d753383c589de51e5055e7', 'message': 'docs: add variable for current branch\n\nThis allows us to include the correct branch when cloning repositories\nin documentation.\n\nMethod adapted from OpenStack Ansible documentation. A backslash is\nadded on purpose before repository URLs to bypass highlighting which\nmakes them less readable (dark text on dark background).\n\nhttps://opendev.org/openstack/openstack-ansible/src/branch/master/doc/source/conf.py\n\nStory: 2008851\nTask: 42366\nChange-Id: I4b4a8d1c848bb992f65860b058cb9fd9d77613d0\n(cherry picked from commit c9cc6f4064ab2f1edeb15f86bd9db5d65e88c4df)\n'}]",0,795547,30563e526d99507931d753383c589de51e5055e7,10,3,1,15197,,,0,"docs: add variable for current branch

This allows us to include the correct branch when cloning repositories
in documentation.

Method adapted from OpenStack Ansible documentation. A backslash is
added on purpose before repository URLs to bypass highlighting which
makes them less readable (dark text on dark background).

https://opendev.org/openstack/openstack-ansible/src/branch/master/doc/source/conf.py

Story: 2008851
Task: 42366
Change-Id: I4b4a8d1c848bb992f65860b058cb9fd9d77613d0
(cherry picked from commit c9cc6f4064ab2f1edeb15f86bd9db5d65e88c4df)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/47/795547/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testing.rst', 'doc/source/contributor/automated.rst', 'doc/source/contributor/vagrant.rst', 'doc/source/conf.py', 'doc/source/configuration/scenarios/all-in-one/overcloud.rst', 'doc/source/installation.rst']",6,30563e526d99507931d753383c589de51e5055e7,,"Next, obtain the Kayobe source code. For example: .. parsed-literal:: $ cd <base_path>/src $ git clone \https://opendev.org/openstack/kayobe.git -b |current_release_git_branch_name|","Next, obtain the Kayobe source code. For example:: $ cd <base_path>/src $ git clone https://opendev.org/openstack/kayobe.git",59,23
openstack%2Fkayobe~stable%2Fwallaby~I14289df5e248b5b47fb8e60c6eea1ac845f50fd3,openstack/kayobe,stable/wallaby,I14289df5e248b5b47fb8e60c6eea1ac845f50fd3,Fix overcloud post configure Python interpreter issues,MERGED,2021-06-09 12:02:49.000000000,2021-06-09 18:03:56.000000000,2021-06-09 18:02:31.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 12:02:49.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2e221681b228bbd3a7e41f6e8e40dcfcf2666355', 'message': ""Fix overcloud post configure Python interpreter issues\n\nSome time ago in Kayobe we switched from using set_fact to override the\nansible_python_interpreter variable to using a task variable. However,\nnot all of the galaxy roles were updated to match. This can lead to an\nissue where a fact set by the os_networks role overrides the task\nvariable set in Kayobe.\n\nNote that we haven't seen this in CI since the code path requires the\nuse of a VLAN provisioning network, and CI uses a flat network.\n\nChange-Id: I14289df5e248b5b47fb8e60c6eea1ac845f50fd3\nStory: 2008284\nTask: 41158\n(cherry picked from commit 4a59ea483bc1baf57a6423812b597147d5e24b2e)\n""}]",0,795461,2e221681b228bbd3a7e41f6e8e40dcfcf2666355,12,3,1,15197,,,0,"Fix overcloud post configure Python interpreter issues

Some time ago in Kayobe we switched from using set_fact to override the
ansible_python_interpreter variable to using a task variable. However,
not all of the galaxy roles were updated to match. This can lead to an
issue where a fact set by the os_networks role overrides the task
variable set in Kayobe.

Note that we haven't seen this in CI since the code path requires the
use of a VLAN provisioning network, and CI uses a flat network.

Change-Id: I14289df5e248b5b47fb8e60c6eea1ac845f50fd3
Story: 2008284
Task: 41158
(cherry picked from commit 4a59ea483bc1baf57a6423812b597147d5e24b2e)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/61/795461/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,2e221681b228bbd3a7e41f6e8e40dcfcf2666355,, version: v1.10.6 version: v1.5.1, version: v1.10.5 version: v1.4.0,2,2
openstack%2Fpuppet-magnum~master~I34ef3bef5bb5d97791801d07583b9682b5e729b7,openstack/puppet-magnum,master,I34ef3bef5bb5d97791801d07583b9682b5e729b7,Get rid of the $pyvers variable,MERGED,2021-05-21 09:47:15.000000000,2021-06-09 18:01:40.000000000,2021-06-09 18:01:40.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-21 09:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/532950f35b840ac0a22adcb552d003d07e795fbd', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I34ef3bef5bb5d97791801d07583b9682b5e729b7\n""}, {'number': 2, 'created': '2021-06-09 11:34:43.000000000', 'files': ['manifests/params.pp', 'spec/classes/magnum_client_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/afa9387452c0d33312b36ad1342e19150e78c832', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I34ef3bef5bb5d97791801d07583b9682b5e729b7\n""}]",6,792555,afa9387452c0d33312b36ad1342e19150e78c832,14,3,2,6476,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: I34ef3bef5bb5d97791801d07583b9682b5e729b7
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/55/792555/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/params.pp', 'spec/classes/magnum_client_spec.rb']",2,532950f35b840ac0a22adcb552d003d07e795fbd,pyvers-removal, { :client_package_name => 'python3-magnumclient' }, if facts[:operatingsystem] == 'Fedora' { :client_package_name => 'python3-magnumclient' } else if facts[:operatingsystemmajrelease] > '7' { :client_package_name => 'python3-magnumclient' } else { :client_package_name => 'python-magnumclient' } end end,4,15
openstack%2Fneutron~master~I1ce783add19cc2ed81117a894e377a21e5ca25de,openstack/neutron,master,I1ce783add19cc2ed81117a894e377a21e5ca25de,WIP: Add OVN support for stateless ACLs,ABANDONED,2021-02-04 20:10:03.000000000,2021-06-09 18:01:12.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-04 20:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f4f50085af5e9f40f3ecd8798c5976377eccbd4', 'message': 'WIP: Add OVN support for stateless ACLs\n\nChange-Id: I1ce783add19cc2ed81117a894e377a21e5ca25de\n'}, {'number': 2, 'created': '2021-02-04 20:10:50.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/common/ovn/acl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a9f15d6c70803a3bde36b6402bd5e53d9612541', 'message': 'WIP: Add OVN support for stateless ACLs\n\nChange-Id: I1ce783add19cc2ed81117a894e377a21e5ca25de\n'}]",0,774153,6a9f15d6c70803a3bde36b6402bd5e53d9612541,14,2,2,5756,,,0,"WIP: Add OVN support for stateless ACLs

Change-Id: I1ce783add19cc2ed81117a894e377a21e5ca25de
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/774153/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/common/ovn/acl.py']",3,4f4f50085af5e9f40f3ecd8798c5976377eccbd4,,"def add_sg_rule_acl_for_port_group(port_group, r, match, sg): ""action"": (ovn_const.ACL_ACTION_ALLOW_RELATED if sg['stateful'] else ovn_const.ACL_ACTION_ALLOW),def _add_sg_rule_acl_for_port_group(port_group, r, sg): return add_sg_rule_acl_for_port_group(port_group, r, match, sg) utils.ovn_port_group_name(security_group['id']), r, security_group) security_group_rule, plugin.get_security_group(admin_context, security_group_id))","def add_sg_rule_acl_for_port_group(port_group, r, match): ""action"": ovn_const.ACL_ACTION_ALLOW_RELATED,def _add_sg_rule_acl_for_port_group(port_group, r): return add_sg_rule_acl_for_port_group(port_group, r, match) utils.ovn_port_group_name(security_group['id']), r) security_group_rule)",17,10
openstack%2Fpuppet-swift~master~Iddf30d802758324334cb3d941e2ed8b6a2979695,openstack/puppet-swift,master,Iddf30d802758324334cb3d941e2ed8b6a2979695,Get rid of the $pyvers variable,MERGED,2021-05-21 12:13:01.000000000,2021-06-09 17:59:37.000000000,2021-06-09 17:59:37.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-21 12:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/7a70ff9a5410f4c26531468dbe03eea467a9eec9', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: Iddf30d802758324334cb3d941e2ed8b6a2979695\n""}, {'number': 2, 'created': '2021-05-27 12:23:57.000000000', 'files': ['spec/classes/swift_client_spec.rb', 'manifests/params.pp', 'spec/classes/swift_proxy_ceilometer_spec.rb', 'spec/classes/swift_proxy_cname_lookup_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/5b0745101a9af363e367ef301728541921a5a70d', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: Iddf30d802758324334cb3d941e2ed8b6a2979695\n""}]",2,792585,5b0745101a9af363e367ef301728541921a5a70d,14,3,2,6476,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: Iddf30d802758324334cb3d941e2ed8b6a2979695
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/85/792585/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/swift_client_spec.rb', 'manifests/params.pp', 'spec/classes/swift_proxy_ceilometer_spec.rb', 'spec/classes/swift_proxy_cname_lookup_spec.rb']",4,7a70ff9a5410f4c26531468dbe03eea467a9eec9,pyvers-removal, { :dnspython_package_name => 'python3-dnspython' }, if facts[:operatingsystem] == 'Fedora' { :dnspython_package_name => 'python3-dnspython' } else if facts[:operatingsystemmajrelease] > '7' { :dnspython_package_name => 'python3-dnspython' } else { :dnspython_package_name => 'python-dnspython' } end end,7,32
openstack%2Foslo.config~stable%2Fussuri~I70ab87c9bed093cad883b6301b8a09753fc470d9,openstack/oslo.config,stable/ussuri,I70ab87c9bed093cad883b6301b8a09753fc470d9,config-generator yaml format doesn't work with i18n fields,MERGED,2021-06-04 17:27:16.000000000,2021-06-09 17:28:04.000000000,2021-06-09 17:26:28.000000000,"[{'_account_id': 4257}, {'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 11491}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-04 17:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/11f8a430d34ed880a02eaa59092e8c9873f37c6c', 'message': ""config-generator yaml format doesn't work with i18n fields\n\nThis is because there's no yaml representer for i18n Messages object.\nThis patch aims to add this representer and allow the generation of\nconfigurations using oslo.i18n strings.\n\nOne example of this is cinder.\n\nCloses-bug: #1928582\nChange-Id: I70ab87c9bed093cad883b6301b8a09753fc470d9\n(cherry picked from commit e5fc313ecf47813364a2111b987ced823c0d64e3)\n(cherry picked from commit de1dbeed235d2df7cf1528aef6ad4a70ddf8559f)\n(cherry picked from commit 0950f82ec59e1b4a2af66b5c5940a651a5cb574f)\n""}, {'number': 2, 'created': '2021-06-05 14:12:38.000000000', 'files': ['oslo_config/generator.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/be3558bb51143c268c0e607e6189b496efbbf308', 'message': ""config-generator yaml format doesn't work with i18n fields\n\nThis is because there's no yaml representer for i18n Messages object.\nThis patch aims to add this representer and allow the generation of\nconfigurations using oslo.i18n strings.\n\nOne example of this is cinder.\n\nCloses-bug: #1928582\nChange-Id: I70ab87c9bed093cad883b6301b8a09753fc470d9\n(cherry picked from commit e5fc313ecf47813364a2111b987ced823c0d64e3)\n(cherry picked from commit de1dbeed235d2df7cf1528aef6ad4a70ddf8559f)\n(cherry picked from commit 0950f82ec59e1b4a2af66b5c5940a651a5cb574f)\n""}]",0,794816,be3558bb51143c268c0e607e6189b496efbbf308,12,9,2,27419,,,0,"config-generator yaml format doesn't work with i18n fields

This is because there's no yaml representer for i18n Messages object.
This patch aims to add this representer and allow the generation of
configurations using oslo.i18n strings.

One example of this is cinder.

Closes-bug: #1928582
Change-Id: I70ab87c9bed093cad883b6301b8a09753fc470d9
(cherry picked from commit e5fc313ecf47813364a2111b987ced823c0d64e3)
(cherry picked from commit de1dbeed235d2df7cf1528aef6ad4a70ddf8559f)
(cherry picked from commit 0950f82ec59e1b4a2af66b5c5940a651a5cb574f)
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/16/794816/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/generator.py'],1,11f8a430d34ed880a02eaa59092e8c9873f37c6c,automated_config_validation,"from oslo_i18n import _messagedef i18n_representer(dumper, data): """"""oslo_i18n yaml representer Returns a translated to the default locale string for yaml.safe_dump :param dumper: a SafeDumper instance passed by yaml.safe_dump :param data: a oslo_i18n._message.Message instance """""" serializedData = str(data.translation()) return dumper.represent_str(serializedData) yaml.SafeDumper.add_representer(_message.Message, i18n_representer)",,14,0
openstack%2Fneutron~master~I4d59a42db3e50cb1cb156a46cac708425f641b25,openstack/neutron,master,I4d59a42db3e50cb1cb156a46cac708425f641b25,Switch neutron multinode jobs to ML2/OVS,MERGED,2021-05-26 06:33:28.000000000,2021-06-09 17:25:58.000000000,2021-06-09 17:22:14.000000000,"[{'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-26 06:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc576d1d13698ff20f1990ab29c073b7d44daa4a', 'message': ""Switch neutron multinode jobs to ML2/OVS\n\nAfter switch of the default Neutron backend to ML2/OVN\nin devstack we need to set ML2/OVS for proper multinode\njobs explicitly.\n\nThis patch configures ML2/OVS as a backend in the\n'neutron-tempest-slow-py3', 'neutron-tempest-multinode-full-py3',\n'neutron-tempest-dvr-ha-multinode-full' jobs.\n\nChange-Id: I4d59a42db3e50cb1cb156a46cac708425f641b25\n""}, {'number': 2, 'created': '2021-05-26 09:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c752e237e919e0fbb80c5fffbf84ee3b10828cbc', 'message': ""Switch neutron multinode jobs to ML2/OVS\n\nAfter switch of the default Neutron backend to ML2/OVN\nin devstack we need to set ML2/OVS for proper multinode\njobs explicitly.\n\nThis patch configures ML2/OVS as a backend in the\n'neutron-tempest-slow-py3', 'neutron-tempest-multinode-full-py3',\n'neutron-tempest-dvr-ha-multinode-full' jobs.\n\nChange-Id: I4d59a42db3e50cb1cb156a46cac708425f641b25\n""}, {'number': 3, 'created': '2021-05-26 15:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c3ed84b39e70fff4e662026d67271cf257e02d1c', 'message': ""Switch neutron multinode jobs to ML2/OVS\n\nAfter switch of the default Neutron backend to ML2/OVN\nin devstack we need to set ML2/OVS for proper multinode\njobs explicitly.\n\nThis patch configures ML2/OVS as a backend in the\n'neutron-tempest-slow-py3', 'neutron-tempest-multinode-full-py3',\n'neutron-tempest-dvr-ha-multinode-full' jobs.\n\nChange-Id: I4d59a42db3e50cb1cb156a46cac708425f641b25\n""}, {'number': 4, 'created': '2021-05-26 15:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1fb70142d842b4b980fe1dd3ccb81bb658bf9777', 'message': ""Switch neutron multinode jobs to ML2/OVS\n\nAfter switch of the default Neutron backend to ML2/OVN\nin devstack we need to set ML2/OVS for proper multinode\njobs explicitly.\n\nThis patch configures ML2/OVS as a backend in the\n'neutron-tempest-slow-py3', 'neutron-tempest-multinode-full-py3',\n'neutron-tempest-dvr-ha-multinode-full' jobs.\n\nChange-Id: I4d59a42db3e50cb1cb156a46cac708425f641b25\n""}, {'number': 5, 'created': '2021-05-27 07:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/89a7a6716da0056625322206157add9d0e680683', 'message': ""Switch neutron multinode jobs to ML2/OVS\n\nAfter switch of the default Neutron backend to ML2/OVN\nin devstack we need to set ML2/OVS for proper multinode\njobs explicitly.\n\nThis patch configures ML2/OVS as a backend in the\n'neutron-tempest-slow-py3', 'neutron-tempest-multinode-full-py3',\n'neutron-tempest-dvr-ha-multinode-full' jobs.\n\nChange-Id: I4d59a42db3e50cb1cb156a46cac708425f641b25\n""}, {'number': 6, 'created': '2021-06-02 07:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/204804065031cdb48da823736e88839293718201', 'message': ""Switch neutron multinode jobs to ML2/OVS\n\nAfter switch of the default Neutron backend to ML2/OVN\nin devstack we need to set ML2/OVS for proper multinode\njobs explicitly.\n\nThis patch configures ML2/OVS as a backend in the\n'neutron-tempest-slow-py3', 'neutron-tempest-multinode-full-py3',\n'neutron-tempest-dvr-ha-multinode-full' jobs.\n\nChange-Id: I4d59a42db3e50cb1cb156a46cac708425f641b25\n""}, {'number': 7, 'created': '2021-06-02 17:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f08c82e10cd4581272f86286391f2fba0c2dc53', 'message': ""Switch neutron multinode jobs to ML2/OVS\n\nAfter switch of the default Neutron backend to ML2/OVN\nin devstack we need to set ML2/OVS for proper multinode\njobs explicitly.\n\nThis patch configures ML2/OVS as a backend in the\n'neutron-tempest-slow-py3', 'neutron-tempest-multinode-full-py3',\n'neutron-tempest-dvr-ha-multinode-full' jobs.\n\nChange-Id: I4d59a42db3e50cb1cb156a46cac708425f641b25\n""}, {'number': 8, 'created': '2021-06-03 07:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e54e7b96dea1bc083ea4c1e89a382dfa86ef38e4', 'message': ""Switch neutron multinode jobs to ML2/OVS\n\nAfter switch of the default Neutron backend to ML2/OVN\nin devstack we need to set ML2/OVS for proper multinode\njobs explicitly.\n\nThis patch configures ML2/OVS as a backend in the\n'neutron-tempest-slow-py3', 'neutron-tempest-multinode-full-py3',\n'neutron-tempest-dvr-ha-multinode-full' jobs.\n\nChange-Id: I4d59a42db3e50cb1cb156a46cac708425f641b25\n""}, {'number': 9, 'created': '2021-06-07 03:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dccc8861f44f3f8b2059e17fd31f16e7ebd6ae4a', 'message': ""Switch neutron multinode jobs to ML2/OVS\n\nAfter switch of the default Neutron backend to ML2/OVN\nin devstack we need to set ML2/OVS for proper multinode\njobs explicitly.\n\nThis patch configures ML2/OVS as a backend in the\n'neutron-tempest-slow-py3', 'neutron-tempest-multinode-full-py3',\n'neutron-tempest-dvr-ha-multinode-full' jobs.\n\nChange-Id: I4d59a42db3e50cb1cb156a46cac708425f641b25\n""}, {'number': 10, 'created': '2021-06-07 14:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ee661a01b21b91425f3583c5d8611c59bf45af8', 'message': ""Switch neutron multinode jobs to ML2/OVS\n\nAfter switch of the default Neutron backend to ML2/OVN\nin devstack we need to set ML2/OVS for proper multinode\njobs explicitly.\n\nThis patch configures ML2/OVS as a backend in the\n'neutron-tempest-slow-py3', 'neutron-tempest-multinode-full-py3',\n'neutron-tempest-dvr-ha-multinode-full' jobs.\n\nChange-Id: I4d59a42db3e50cb1cb156a46cac708425f641b25\n""}, {'number': 11, 'created': '2021-06-09 10:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1062e4a0a2b2779d3a39f997bbf3ab2e058538d5', 'message': ""Switch neutron multinode jobs to ML2/OVS\n\nAfter switch of the default Neutron backend to ML2/OVN\nin devstack we need to set ML2/OVS for proper multinode\njobs explicitly.\n\nThis patch configures ML2/OVS as a backend in the\n'neutron-tempest-slow-py3', 'neutron-tempest-multinode-full-py3',\n'neutron-tempest-dvr-ha-multinode-full' jobs.\n\nChange-Id: I4d59a42db3e50cb1cb156a46cac708425f641b25\n""}, {'number': 12, 'created': '2021-06-09 12:29:50.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/730117ddb07c6fe0cf818beeaffb56f5252b2f7c', 'message': ""Switch neutron multinode jobs to ML2/OVS\n\nAfter switch of the default Neutron backend to ML2/OVN\nin devstack we need to set ML2/OVS for proper multinode\njobs explicitly.\n\nThis patch configures ML2/OVS as a backend in the\n'neutron-tempest-slow-py3', 'neutron-tempest-multinode-full-py3',\n'neutron-tempest-dvr-ha-multinode-full' jobs.\n\nChange-Id: I4d59a42db3e50cb1cb156a46cac708425f641b25\n""}]",7,793104,730117ddb07c6fe0cf818beeaffb56f5252b2f7c,126,5,12,5948,,,0,"Switch neutron multinode jobs to ML2/OVS

After switch of the default Neutron backend to ML2/OVN
in devstack we need to set ML2/OVS for proper multinode
jobs explicitly.

This patch configures ML2/OVS as a backend in the
'neutron-tempest-slow-py3', 'neutron-tempest-multinode-full-py3',
'neutron-tempest-dvr-ha-multinode-full' jobs.

Change-Id: I4d59a42db3e50cb1cb156a46cac708425f641b25
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/793104/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-multinode.yaml'],1,cc576d1d13698ff20f1990ab29c073b7d44daa4a,switch-multinode-jobs-to-ovs," devstack_localrc: Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,linuxbridge Q_AGENT: openvswitch # Neutron services q-agt: true q-dhcp: true q-l3: true q-meta: true q-metering: true q-svc: true # OVN services ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false # OVN services ovn-controller: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false devstack_localrc: Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,linuxbridge Q_AGENT: openvswitch # Neutron services q-agt: true q-dhcp: true q-l3: true q-meta: true q-metering: true q-svc: true # OVN services ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false q-agt: true # OVN services ovn-controller: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false devstack_localrc: Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,linuxbridge Q_AGENT: openvswitch # Neutron services q-agt: true q-dhcp: true q-l3: true q-meta: true q-metering: true q-svc: true # OVN services ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false q-agt: true # OVN services ovn-controller: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false",,68,0
openstack%2Fdevstack~master~Ie166730843f874b9c99e37244e460d7ad33b7eeb,openstack/devstack,master,Ie166730843f874b9c99e37244e460d7ad33b7eeb,Move verify-ipv6-only-deployments,MERGED,2021-06-07 17:46:43.000000000,2021-06-09 17:25:55.000000000,2021-06-09 17:22:39.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-06-07 17:46:43.000000000', 'files': ['tools/verify-ipv6-only-deployments.sh', 'roles/devstack-ipv6-only-deployments-verification/tasks/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/defaults/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/README.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2fb8c7a5eea6f9321eef36fb9b8fd8e55465c91e', 'message': 'Move verify-ipv6-only-deployments\n\nfrom Tempest to DevStack as it tests DevStack side of things and\nis useful for projects not using Tempest.\n\nVerbatim copy except for the devstack- prefix and the /devstack/\npath.\n\nChange-Id: Ie166730843f874b9c99e37244e460d7ad33b7eeb\n'}]",0,795161,2fb8c7a5eea6f9321eef36fb9b8fd8e55465c91e,9,3,1,30491,,,0,"Move verify-ipv6-only-deployments

from Tempest to DevStack as it tests DevStack side of things and
is useful for projects not using Tempest.

Verbatim copy except for the devstack- prefix and the /devstack/
path.

Change-Id: Ie166730843f874b9c99e37244e460d7ad33b7eeb
",git fetch https://review.opendev.org/openstack/devstack refs/changes/61/795161/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/verify-ipv6-only-deployments.sh', 'roles/devstack-ipv6-only-deployments-verification/tasks/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/defaults/main.yaml', 'roles/devstack-ipv6-only-deployments-verification/README.rst']",4,2fb8c7a5eea6f9321eef36fb9b8fd8e55465c91e,move-verify-ipv6-only-deployments,Verify the IPv6-only deployments This role needs to be invoked from a playbook that run tests. This role verifies the IPv6 setting on devstack side and devstack deploy services on IPv6. This role is invoked before tests are run so that if any missing IPv6 setting or deployments can fail the job early. **Role Variables** .. zuul:rolevar:: devstack_base_dir :default: /opt/stack The devstack base directory. ,,113,0
openstack%2Fopenstack-ansible~master~Ia6f93eb325065ac81223ec1f725e7ee785acaac9,openstack/openstack-ansible,master,Ia6f93eb325065ac81223ec1f725e7ee785acaac9,Add Debian Bullseye support,MERGED,2021-03-29 07:09:59.000000000,2021-06-09 17:05:01.000000000,2021-06-09 17:02:14.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-29 07:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/07acda62968658e242ed9d5debd3d2278accfe9e', 'message': '[DNM] Add Debian Bullseye support\n\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 2, 'created': '2021-03-29 07:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6e126fd342dbfaada58a59a482b3ab746331619d', 'message': '[DNM] Add Debian Bullseye support\n\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 3, 'created': '2021-03-30 16:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dccee471e6fe994994b72f359796283df40d4f1f', 'message': '[DNM] Add Debian Bullseye support\n\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 4, 'created': '2021-05-11 15:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/290670dc72802a88b2716c5886d283d1eacdfa63', 'message': '[DNM] Add Debian Bullseye support\n\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 5, 'created': '2021-05-11 15:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c1ebc3bbb8812ade348865f0d625c28c1b3693f8', 'message': '[DNM] Add Debian Bullseye support\n\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 6, 'created': '2021-05-12 19:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/72ee580f7cd11e5f2260cbd295f664ba2a8073bc', 'message': '[DNM] Add Debian Bullseye support\n\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 7, 'created': '2021-05-12 19:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c766771004413a4ecc30ce895800772956538a15', 'message': '[DNM] Add Debian Bullseye support\n\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 8, 'created': '2021-05-13 12:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7784a3594b6f754c608482fbcba00a7e6f08c2ee', 'message': '[DNM] Add Debian Bullseye support\n\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 9, 'created': '2021-05-13 12:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bb10f4487912be0e50a531449f36cd772ed82905', 'message': '[DNM] Add Debian Bullseye support\n\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 10, 'created': '2021-05-13 13:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9f75e5b5344902fbe9d7c8b5252f0c408bbfe4f8', 'message': '[DNM] Add Debian Bullseye support\n\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 11, 'created': '2021-05-13 14:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/881d01f96110e48dddee75b25750f91cbe5c18f3', 'message': '[DNM] Add Debian Bullseye support\n\nhttps://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/791242\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 12, 'created': '2021-05-13 14:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/acd724fdaa449363aebfee62ccb7e2e32855e378', 'message': '[DNM] Add Debian Bullseye support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/791242\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 13, 'created': '2021-05-13 15:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9750e280480865e2b0f2cf4207b35c91463ca7fd', 'message': '[DNM] Add Debian Bullseye support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/791242\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/791264\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 14, 'created': '2021-05-13 16:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4ace508c6afe14e6373a5270c88167b7d339ec7e', 'message': '[DNM] Add Debian Bullseye support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/791280\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/791242\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/791264\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 15, 'created': '2021-05-18 07:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/33c6ddf14951f9eda03d8b2f984f715da985f1f7', 'message': '[DNM] Add Debian Bullseye support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/791280\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/791242\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/791264\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/791769\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 16, 'created': '2021-06-01 13:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/76947e887ceb0bb75ae5c01ed5e6aa09285c93d6', 'message': '[DNM] Add Debian Bullseye support\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/791290\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rsyslog_client/+/791288\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/793896\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/793895\n\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 17, 'created': '2021-06-01 14:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/65c96f02e02d03593ea7a6454ccf736423b9a575', 'message': '[DNM] Add Debian Bullseye support\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/791290\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rsyslog_client/+/791288\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/793896\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/793895\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/793974\n\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 18, 'created': '2021-06-01 16:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/08a3fcfeae0f6d9a8b0e8552f89018b2e21e867d', 'message': '[DNM] Add Debian Bullseye support\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/791290\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rsyslog_client/+/791288\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/793896\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/793895\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/793974\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/794002\n\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 19, 'created': '2021-06-02 08:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8960283b5fd4e11c5ea102727807124ee642faaf', 'message': '[DNM] Add Debian Bullseye support\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/791290\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rsyslog_client/+/791288\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/793896\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/793895\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/793974\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/794002\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/794158\n\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 20, 'created': '2021-06-02 08:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fb8e7cb9f10be3f55d6466c8357b054b8a1a1d87', 'message': '[DNM] Add Debian Bullseye support\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/791290\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rsyslog_client/+/791288\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/793896\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/793895\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/793974\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/794002\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/794158\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/794161\n\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 21, 'created': '2021-06-02 13:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ed3562b0e101dc96cdbd6271e3df20b2a64e6c89', 'message': '[DNM] Add Debian Bullseye support\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/791290\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rsyslog_client/+/791288\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/793896\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/793895\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/793974\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/794002\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/794158\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/794161\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/794220\n\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 22, 'created': '2021-06-02 14:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6929a11d6120d8710ed3c47afcd64b8c29cc737e', 'message': 'Add Debian Bullseye support\n\nWe set Bullseye jobs to NV because of the used buggy galera version\nthat is known to randomly fail during Cinder migrations because\nof the bug [1]\n\n[1] https://jira.mariadb.org/browse/MDEV-25673\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/791290\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rsyslog_client/+/791288\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/793896\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/793895\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/793974\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/794002\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/794158\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/794161\n\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 23, 'created': '2021-06-02 20:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5903003a6fbfe0fedfb91cd88123dc957ebea2aa', 'message': 'Add Debian Bullseye support\n\nWe set Bullseye jobs to NV because of the used buggy galera version\nthat is known to randomly fail during Cinder migrations because\nof the bug [1]\n\n[1] https://jira.mariadb.org/browse/MDEV-25673\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/791290\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rsyslog_client/+/791288\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/793896\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/793895\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/793974\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/794002\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/794158\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/794161\n\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}, {'number': 24, 'created': '2021-06-03 15:18:47.000000000', 'files': ['doc/source/user/aio/quickstart.rst', 'deploy-guide/source/deploymenthost.rst', 'zuul.d/project-templates.yaml', 'tests/roles/bootstrap-host/tasks/check-requirements.yml', 'releasenotes/notes/debian_bullseye-de3bd8860147dc93.yaml', 'deploy-guide/source/overview-requirements.rst', 'scripts/bootstrap-ansible.sh', 'zuul.d/jobs.yaml', 'inventory/group_vars/all_containers.yml', 'playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3ab9d8bba8bf35ebcf40957c388eacb596b4a344', 'message': 'Add Debian Bullseye support\n\nWe set Bullseye jobs to NV because of the used buggy galera version\nthat is known to randomly fail during Cinder migrations because\nof the bug [1]\n\n[1] https://jira.mariadb.org/browse/MDEV-25673\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/791290\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rsyslog_client/+/791288\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/793896\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/793895\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/793974\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/794002\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/794158\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/794161\n\nChange-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9\n'}]",38,783606,3ab9d8bba8bf35ebcf40957c388eacb596b4a344,65,4,24,28619,,,0,"Add Debian Bullseye support

We set Bullseye jobs to NV because of the used buggy galera version
that is known to randomly fail during Cinder migrations because
of the bug [1]

[1] https://jira.mariadb.org/browse/MDEV-25673

Depends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/791290
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-rsyslog_client/+/791288
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/793896
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/793895
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/793974
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/794002
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/794158
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/794161

Change-Id: Ia6f93eb325065ac81223ec1f725e7ee785acaac9
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/06/783606/16 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/deploymenthost.rst', 'doc/source/user/aio/quickstart.rst', 'zuul.d/project-templates.yaml', 'deploy-guide/source/overview-requirements.rst', 'zuul.d/jobs.yaml']",5,07acda62968658e242ed9d5debd3d2278accfe9e,osa/bullseye, name: openstack-ansible-deploy-aio_telemetry_metal-debian-bullseye nodeset: debian-bullseye name: openstack-ansible-deploy-aio_lxc-debian-bullseye nodeset: debian-bullseye name: openstack-ansible-deploy-infra_lxc-debian-bullseye nodeset: debian-bullseye name: openstack-ansible-deploy-hosts_lxc-debian-bullseye nodeset: debian-bullseye name: openstack-ansible-deploy-hosts_distro_lxc-debian-bullseye nodeset: debian-bullseye name: openstack-ansible-deploy-hosts_metal-debian-bullseye nodeset: debian-bullseye name: openstack-ansible-deploy-aio_distro_lxc-debian-bullseye nodeset: debian-bullseye name: openstack-ansible-deploy-aio_metal-debian-bullseye nodeset: debian-bullseye name: openstack-ansible-deploy-aio_distro_metal-debian-bullseye nodeset: debian-bullseye, name: openstack-ansible-deploy-aio_telemetry_metal-debian-buster nodeset: debian-buster name: openstack-ansible-deploy-aio_lxc-debian-buster nodeset: debian-buster name: openstack-ansible-deploy-infra_lxc-debian-buster nodeset: debian-buster name: openstack-ansible-deploy-hosts_lxc-debian-buster nodeset: debian-buster name: openstack-ansible-deploy-hosts_distro_lxc-debian-buster nodeset: debian-buster name: openstack-ansible-deploy-hosts_metal-debian-buster nodeset: debian-buster name: openstack-ansible-deploy-aio_distro_lxc-debian-buster nodeset: debian-buster name: openstack-ansible-deploy-aio_metal-debian-buster nodeset: debian-buster name: openstack-ansible-deploy-aio_distro_metal-debian-buster nodeset: debian-buster,37,30
openstack%2Ftripleo-docs~master~I1f28b12d8793db33e2653b739318d36a503633f5,openstack/tripleo-docs,master,I1f28b12d8793db33e2653b739318d36a503633f5,Fixed yaml for cloud config chpasswd,MERGED,2021-06-09 14:40:12.000000000,2021-06-09 17:03:13.000000000,2021-06-09 17:01:19.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 14:40:12.000000000', 'files': ['deploy-guide/source/provisioning/baremetal_provision.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/f94d72545188e68fb687cfcfe85cea68afc8c9cd', 'message': 'Fixed yaml for cloud config chpasswd\n\nIt\'s adding a \\n into the password when set. Using |- will trim the last\n\\n and prevent it from being added to the actual password.\n\nIn the user data we see:\n{\n  ""ssh_pwauth"": true,\n  ""disable_root"": false,\n  ""chpasswd"": {\n    ""list"": ""root:password\\\\n"",\n    ""expire"": false\n  },\n  ...SNIP...\n}\n\nSo the password ends up being set as ""password\\n"" instead of ""password""\n\nChange-Id: I1f28b12d8793db33e2653b739318d36a503633f5\n'}]",0,795562,f94d72545188e68fb687cfcfe85cea68afc8c9cd,8,2,1,14985,,,0,"Fixed yaml for cloud config chpasswd

It's adding a \n into the password when set. Using |- will trim the last
\n and prevent it from being added to the actual password.

In the user data we see:
{
  ""ssh_pwauth"": true,
  ""disable_root"": false,
  ""chpasswd"": {
    ""list"": ""root:password\\n"",
    ""expire"": false
  },
  ...SNIP...
}

So the password ends up being set as ""password\n"" instead of ""password""

Change-Id: I1f28b12d8793db33e2653b739318d36a503633f5
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/62/795562/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/provisioning/baremetal_provision.rst'],1,f94d72545188e68fb687cfcfe85cea68afc8c9cd,fix-example, list: |-.. _instance-data: https://cloudinit.readthedocs.io/en/latest/topics/instancedata.html , list: |.. _instance-data: https://cloudinit.readthedocs.io/en/latest/topics/instancedata.html,2,2
openstack%2Fneutron~stable%2Ftrain~I5093747ed9bde03d27e32e3206df91e4c27a2632,openstack/neutron,stable/train,I5093747ed9bde03d27e32e3206df91e4c27a2632,Add support for direct ports with QoS in OVS,ABANDONED,2021-05-27 16:50:12.000000000,2021-06-09 17:01:10.000000000,,"[{'_account_id': 11975}, {'_account_id': 12171}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 16:50:12.000000000', 'files': ['neutron/cmd/sanity/checks.py', 'releasenotes/notes/Add-support-for-direct-ports-with-QoS-in-OVS-48c78c156606e724.yaml', 'doc/source/contributor/internals/quality_of_service.rst', 'neutron/cmd/sanity_check.py', 'neutron/services/qos/drivers/openvswitch/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd04c06769547e72cad15bcc93a02da2dbf5bce8', 'message': ""Add support for direct ports with QoS in OVS\n\nToday OVS mechanism driver can bind Direct port see [1] for OVS\nhardware offloads.\n\nOVS was extended with tc-offload to support rate limit see [2].\nThe OVS QoS driver [3] is limited to work only with Normal Ports, so we\ncan't put QoS rules on direct port.\nThis patch proposes to add support in OVS QoS driver for direct ports.\nThe mechanism to enforce such policies is the same with normal and\nhardware offloaded direct ports.\n\n[1]https://github.com/openvswitch/ovs/commit/e7f6ba220e10c0b560da097185514b6e33e2dc71\n[2]https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py#L83\n[3]https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/services/qos/drivers/openvswitch/driver.py#L56\n\nConflicts:\n    neutron/cmd/sanity/checks.py\n\nCloses-Bug: #1843165\n(cherry picked from commit 12089a526e25cfe5ccb8b4da86b653970d75f14a)\n\nChange-Id: I5093747ed9bde03d27e32e3206df91e4c27a2632\n""}]",1,793473,fd04c06769547e72cad15bcc93a02da2dbf5bce8,13,3,1,16688,,,0,"Add support for direct ports with QoS in OVS

Today OVS mechanism driver can bind Direct port see [1] for OVS
hardware offloads.

OVS was extended with tc-offload to support rate limit see [2].
The OVS QoS driver [3] is limited to work only with Normal Ports, so we
can't put QoS rules on direct port.
This patch proposes to add support in OVS QoS driver for direct ports.
The mechanism to enforce such policies is the same with normal and
hardware offloaded direct ports.

[1]https://github.com/openvswitch/ovs/commit/e7f6ba220e10c0b560da097185514b6e33e2dc71
[2]https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py#L83
[3]https://github.com/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/services/qos/drivers/openvswitch/driver.py#L56

Conflicts:
    neutron/cmd/sanity/checks.py

Closes-Bug: #1843165
(cherry picked from commit 12089a526e25cfe5ccb8b4da86b653970d75f14a)

Change-Id: I5093747ed9bde03d27e32e3206df91e4c27a2632
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/793473/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/sanity/checks.py', 'releasenotes/notes/Add-support-for-direct-ports-with-QoS-in-OVS-48c78c156606e724.yaml', 'doc/source/contributor/internals/quality_of_service.rst', 'neutron/cmd/sanity_check.py', 'neutron/services/qos/drivers/openvswitch/driver.py']",5,fd04c06769547e72cad15bcc93a02da2dbf5bce8,bug/1843165," vnic_types=[portbindings.VNIC_NORMAL, portbindings.VNIC_DIRECT],"," vnic_types=[portbindings.VNIC_NORMAL],",52,1
openstack%2Fpuppet-vswitch~master~Ife5dea3813f4c43ba96ded051d15a57d4a2a4edf,openstack/puppet-vswitch,master,Ife5dea3813f4c43ba96ded051d15a57d4a2a4edf,[WIP] Add basic NM support,ABANDONED,2021-05-27 02:16:41.000000000,2021-06-09 16:49:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-27 02:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/281e8715d995cf0a74053f23012520cd18e7e268', 'message': 'Add basic NM support\n\nThis change allows the vs_port provider to remain minimally\nfunctional in C9 environments.\n\nCloses-Bug: 1929707\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: Ife5dea3813f4c43ba96ded051d15a57d4a2a4edf\n'}, {'number': 2, 'created': '2021-05-27 02:18:18.000000000', 'files': ['lib/puppet/provider/vs_port/ovs_redhat.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/98f7ea3e5ce602563b1eb9d4b3307bbb2cbd0c93', 'message': '[WIP] Add basic NM support\n\nThis change allows the vs_port provider to remain minimally\nfunctional in C9 environments.\n\nBased on our initial research theres an ifcfg compatibility\nplugin being used in network manager which should be the\ndefault in c9.\n\nCloses-Bug: 1929707\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: Ife5dea3813f4c43ba96ded051d15a57d4a2a4edf\n'}]",0,793262,98f7ea3e5ce602563b1eb9d4b3307bbb2cbd0c93,5,1,2,7353,,,0,"[WIP] Add basic NM support

This change allows the vs_port provider to remain minimally
functional in C9 environments.

Based on our initial research theres an ifcfg compatibility
plugin being used in network manager which should be the
default in c9.

Closes-Bug: 1929707
Signed-off-by: Kevin Carter <kecarter@redhat.com>
Change-Id: Ife5dea3813f4c43ba96ded051d15a57d4a2a4edf
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/62/793262/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/vs_port/ovs_redhat.rb'],1,281e8715d995cf0a74053f23012520cd18e7e268,," 'NM_CONTROLLED' => 'yes', commands :ifdown => 'nmcli connection down' commands :ifup => 'nmcli connection up'"," 'NM_CONTROLLED' => 'no', commands :ifdown => 'ifdown' commands :ifup => 'ifup'",3,3
openstack%2Fsushy~stable%2Fussuri~I9eb238d1bbaf522d03ee3fce12fc0ab80c1b69b4,openstack/sushy,stable/ussuri,I9eb238d1bbaf522d03ee3fce12fc0ab80c1b69b4,Remove auth token header completely when error occurs,MERGED,2021-06-09 14:26:35.000000000,2021-06-09 16:43:04.000000000,2021-06-09 16:41:41.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-09 14:26:35.000000000', 'files': ['sushy/tests/unit/test_auth.py', 'sushy/tests/unit/resources/sessionservice/test_sessionservice.py', 'sushy/auth.py', 'sushy/resources/sessionservice/sessionservice.py', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/c304442045e3e85dbe7d15233153547d8c9657b3', 'message': ""Remove auth token header completely when error occurs\n\nWhile investigating a report indicating session incompatability with\nCisco BMCs, I noticed we didn't completely invalidate the session\ntoken, and only set it to None for the request to obtain a new\ntoken. This may not actually fix anything, but an authentication\nerror should completely invalidate any cached authentication data\nforce us through re-authentication.\n\nAdditionally, we have a bit of a lack of debug and error logging\naround the session retry logic in general. Without additional\nlogging, we have no way to really figure out exactly what\nis occuring with the BMC when we attempt to reauthenticate\nthe session.\n\nChange-Id: I9eb238d1bbaf522d03ee3fce12fc0ab80c1b69b4\n(cherry picked from commit ec5ceefd678b7c7ec3585ae6cd6d63d06a048e62)\n""}]",0,795555,c304442045e3e85dbe7d15233153547d8c9657b3,8,2,1,11655,,,0,"Remove auth token header completely when error occurs

While investigating a report indicating session incompatability with
Cisco BMCs, I noticed we didn't completely invalidate the session
token, and only set it to None for the request to obtain a new
token. This may not actually fix anything, but an authentication
error should completely invalidate any cached authentication data
force us through re-authentication.

Additionally, we have a bit of a lack of debug and error logging
around the session retry logic in general. Without additional
logging, we have no way to really figure out exactly what
is occuring with the BMC when we attempt to reauthenticate
the session.

Change-Id: I9eb238d1bbaf522d03ee3fce12fc0ab80c1b69b4
(cherry picked from commit ec5ceefd678b7c7ec3585ae6cd6d63d06a048e62)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/55/795555/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/test_auth.py', 'sushy/tests/unit/resources/sessionservice/test_sessionservice.py', 'sushy/auth.py', 'sushy/resources/sessionservice/sessionservice.py', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py']",6,c304442045e3e85dbe7d15233153547d8c9657b3,, self.auth.can_refresh_session.assert_called_with(),,51,11
openstack%2Fsushy~stable%2Ftrain~I9eb238d1bbaf522d03ee3fce12fc0ab80c1b69b4,openstack/sushy,stable/train,I9eb238d1bbaf522d03ee3fce12fc0ab80c1b69b4,Remove auth token header completely when error occurs,MERGED,2021-06-09 14:31:52.000000000,2021-06-09 16:42:56.000000000,2021-06-09 16:41:38.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-09 14:31:52.000000000', 'files': ['sushy/tests/unit/test_auth.py', 'sushy/tests/unit/resources/sessionservice/test_sessionservice.py', 'sushy/auth.py', 'sushy/resources/sessionservice/sessionservice.py', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/e275e01dc258309cc7d0f9292015377484dce3e8', 'message': ""Remove auth token header completely when error occurs\n\nWhile investigating a report indicating session incompatability with\nCisco BMCs, I noticed we didn't completely invalidate the session\ntoken, and only set it to None for the request to obtain a new\ntoken. This may not actually fix anything, but an authentication\nerror should completely invalidate any cached authentication data\nforce us through re-authentication.\n\nAdditionally, we have a bit of a lack of debug and error logging\naround the session retry logic in general. Without additional\nlogging, we have no way to really figure out exactly what\nis occuring with the BMC when we attempt to reauthenticate\nthe session.\n\nChange-Id: I9eb238d1bbaf522d03ee3fce12fc0ab80c1b69b4\n(cherry picked from commit ec5ceefd678b7c7ec3585ae6cd6d63d06a048e62)\n(cherry picked from commit c304442045e3e85dbe7d15233153547d8c9657b3)\n""}]",0,795558,e275e01dc258309cc7d0f9292015377484dce3e8,8,2,1,11655,,,0,"Remove auth token header completely when error occurs

While investigating a report indicating session incompatability with
Cisco BMCs, I noticed we didn't completely invalidate the session
token, and only set it to None for the request to obtain a new
token. This may not actually fix anything, but an authentication
error should completely invalidate any cached authentication data
force us through re-authentication.

Additionally, we have a bit of a lack of debug and error logging
around the session retry logic in general. Without additional
logging, we have no way to really figure out exactly what
is occuring with the BMC when we attempt to reauthenticate
the session.

Change-Id: I9eb238d1bbaf522d03ee3fce12fc0ab80c1b69b4
(cherry picked from commit ec5ceefd678b7c7ec3585ae6cd6d63d06a048e62)
(cherry picked from commit c304442045e3e85dbe7d15233153547d8c9657b3)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/58/795558/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/test_auth.py', 'sushy/tests/unit/resources/sessionservice/test_sessionservice.py', 'sushy/auth.py', 'sushy/resources/sessionservice/sessionservice.py', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py']",6,e275e01dc258309cc7d0f9292015377484dce3e8,, self.auth.can_refresh_session.assert_called_with(),,51,11
openstack%2Fbifrost~master~I0f4c306c96a5aa3ecfbbd8d9eb4b17db303abda9,openstack/bifrost,master,I0f4c306c96a5aa3ecfbbd8d9eb4b17db303abda9,Move the network-interface checks to bootstrap,MERGED,2021-06-09 09:45:43.000000000,2021-06-09 16:40:36.000000000,2021-06-09 16:39:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-09 09:45:43.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3176c939327794664ac15b63c80afcf5db985e84', 'message': 'Move the network-interface checks to bootstrap\n\nThey should not happen during installations, it breaks kolla.\n\nChange-Id: I0f4c306c96a5aa3ecfbbd8d9eb4b17db303abda9\n'}]",0,795508,3176c939327794664ac15b63c80afcf5db985e84,10,4,1,10239,,,0,"Move the network-interface checks to bootstrap

They should not happen during installations, it breaks kolla.

Change-Id: I0f4c306c96a5aa3ecfbbd8d9eb4b17db303abda9
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/08/795508/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml']",4,3176c939327794664ac15b63c80afcf5db985e84,wrong-interface,"- name: ""Check that the provided interface is defined"" fail: msg: > Network interface {{ network_interface }} is not known to Ansible. If you're testing Bifrost on virtual machines, do not forget to invoke ""bifrost-cli testenv"" or use the ""bifrost-create-vm-nodes"" role first. If you're using Bifrost on real bare metal, you have to provide the network interface via the ""network_interface"" variable or the --network-interface argument to ""bifrost-cli install"". when: ('ansible_' + ans_network_interface) not in hostvars[inventory_hostname] ",,22,22
openstack%2Fdevstack~master~Ic0f696b46dce3dba529b53a8f9de8cda6b913c7b,openstack/devstack,master,Ic0f696b46dce3dba529b53a8f9de8cda6b913c7b,[CI] Drop CentOS Linux 8 job and nodeset,MERGED,2021-06-07 17:30:26.000000000,2021-06-09 16:33:54.000000000,2021-06-09 16:31:05.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 17:30:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/81937a230a8adb5c028db5a9ba9abf59b122a2ac', 'message': '[CI] Drop CentOS Linux 8 job and nodeset\n\nCentOS Stream 8 (aka CentOS 8 Stream) is the currently\nsupported runtime platform. [0]\n\nDevStack works with CentOS Stream only now. [1]\n\nThe only usage of the nodeset being dropped is handled by the\nDepends-On.\n\n[0] https://governance.openstack.org/tc/reference/runtimes/xena.html\n[1] https://review.opendev.org/c/openstack/devstack/+/759122\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/795159\nChange-Id: Ic0f696b46dce3dba529b53a8f9de8cda6b913c7b\n'}]",3,795160,81937a230a8adb5c028db5a9ba9abf59b122a2ac,11,3,1,30491,,,0,"[CI] Drop CentOS Linux 8 job and nodeset

CentOS Stream 8 (aka CentOS 8 Stream) is the currently
supported runtime platform. [0]

DevStack works with CentOS Stream only now. [1]

The only usage of the nodeset being dropped is handled by the
Depends-On.

[0] https://governance.openstack.org/tc/reference/runtimes/xena.html
[1] https://review.opendev.org/c/openstack/devstack/+/759122

Depends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/795159
Change-Id: Ic0f696b46dce3dba529b53a8f9de8cda6b913c7b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/60/795160/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,81937a230a8adb5c028db5a9ba9abf59b122a2ac,drop-centos-linux-8,, name: devstack-single-node-centos-8 nodes: - name: controller label: centos-8 groups: - name: tempest nodes: - controller - nodeset: name: devstack-platform-centos-8 parent: tempest-full-py3 description: Centos 8 platform test nodeset: devstack-single-node-centos-8 voting: false timeout: 9000 - job: - devstack-platform-centos-8,0,19
openstack%2Fpuppet-openstack-guide~master~Iee26dfa2f346e8188742628696db14b794223e86,openstack/puppet-openstack-guide,master,Iee26dfa2f346e8188742628696db14b794223e86,Remove retired puppet-panko,MERGED,2021-06-05 23:16:00.000000000,2021-06-09 16:33:50.000000000,2021-06-09 16:30:56.000000000,"[{'_account_id': 4264}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 23:16:00.000000000', 'files': ['doc/source/install/releases.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/0be861b2d2d35a28eb7455ee06434cf7357559b0', 'message': 'Remove retired puppet-panko\n\nDepends-on: https://review.opendev.org/791890\nChange-Id: Iee26dfa2f346e8188742628696db14b794223e86\n'}]",0,794966,0be861b2d2d35a28eb7455ee06434cf7357559b0,13,4,1,9816,,,0,"Remove retired puppet-panko

Depends-on: https://review.opendev.org/791890
Change-Id: Iee26dfa2f346e8188742628696db14b794223e86
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/66/794966/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/releases.rst'],1,0be861b2d2d35a28eb7455ee06434cf7357559b0,retire_panko,,| puppet-panko_ | `17.5.0 <http://docs.openstack.org/releasenotes/puppet-panko/>`__ | +---------------------------------+----------------------------------------------------------------------------------+.. _puppet-panko: https://opendev.org/openstack/puppet-panko,0,3
openstack%2Fcinder-tempest-plugin~master~I53231cb6b00a57927b3d19115f64117f7cd755ed,openstack/cinder-tempest-plugin,master,I53231cb6b00a57927b3d19115f64117f7cd755ed,[CI] Move to CentOS Stream,MERGED,2021-06-07 17:25:54.000000000,2021-06-09 16:31:01.000000000,2021-06-09 16:31:01.000000000,"[{'_account_id': 4523}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 17:25:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/51b819b912591b395c0e1c844cbcc5de8bbb75e9', 'message': '[CI] Move to CentOS Stream\n\nCentOS Stream 8 (aka CentOS 8 Stream) is the currently\nsupported runtime platform. [0]\n\nDevStack works with CentOS Stream only now. [1]\nThis patch prepares the ground to drop the devstack-*-centos-8\nnodeset.\n\n[0] https://governance.openstack.org/tc/reference/runtimes/xena.html\n[1] https://review.opendev.org/c/openstack/devstack/+/759122\n\nChange-Id: I53231cb6b00a57927b3d19115f64117f7cd755ed\n'}]",0,795159,51b819b912591b395c0e1c844cbcc5de8bbb75e9,12,5,1,30491,,,0,"[CI] Move to CentOS Stream

CentOS Stream 8 (aka CentOS 8 Stream) is the currently
supported runtime platform. [0]

DevStack works with CentOS Stream only now. [1]
This patch prepares the ground to drop the devstack-*-centos-8
nodeset.

[0] https://governance.openstack.org/tc/reference/runtimes/xena.html
[1] https://review.opendev.org/c/openstack/devstack/+/759122

Change-Id: I53231cb6b00a57927b3d19115f64117f7cd755ed
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/59/795159/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,51b819b912591b395c0e1c844cbcc5de8bbb75e9,move-to-stream, - cinder-tempest-plugin-lvm-lio-barbican-centos-8-stream: name: cinder-tempest-plugin-lvm-lio-barbican-centos-8-stream nodeset: devstack-single-node-centos-8-stream, - cinder-tempest-plugin-lvm-lio-barbican-centos-8: name: cinder-tempest-plugin-lvm-lio-barbican-centos-8 nodeset: devstack-single-node-centos-8,3,3
openstack%2Fproject-config~master~I08cc3048f6398f5eaf3beb86e23ab9747595c14a,openstack/project-config,master,I08cc3048f6398f5eaf3beb86e23ab9747595c14a,Dropping revert,ABANDONED,2021-06-09 16:03:02.000000000,2021-06-09 16:23:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-09 16:03:02.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9e4d9cdec47aa62bc78b96149009b9fdc71157f7', 'message': 'Dropping revert\n\nAt this point puppet-panko for train is now transitioned to extended\nmaintenance (ensured by the depends-on), so the previous revert can be\nnow dropped.\n\nChange-Id: I08cc3048f6398f5eaf3beb86e23ab9747595c14a\nDepends-On: https://review.opendev.org/c/openstack/releases/+/790767\n'}]",0,795586,9e4d9cdec47aa62bc78b96149009b9fdc71157f7,3,1,1,28522,,,0,"Dropping revert

At this point puppet-panko for train is now transitioned to extended
maintenance (ensured by the depends-on), so the previous revert can be
now dropped.

Change-Id: I08cc3048f6398f5eaf3beb86e23ab9747595c14a
Depends-On: https://review.opendev.org/c/openstack/releases/+/790767
",git fetch https://review.opendev.org/openstack/project-config refs/changes/86/795586/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,9e4d9cdec47aa62bc78b96149009b9fdc71157f7,puppet-panko-fix-gates-train-em,, - puppet-release-jobs,0,1
openstack%2Fproject-config~master~I6a941fba3a94ba742ea56970960e846c04046edd,openstack/project-config,master,I6a941fba3a94ba742ea56970960e846c04046edd,Temporarly reverting project template to finalize train-em,ABANDONED,2021-06-09 15:57:33.000000000,2021-06-09 16:23:34.000000000,,"[{'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 15:57:33.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/870b558e8bfd07e17690ae59e56bff34573b8d44', 'message': ""Temporarly reverting project template to finalize train-em\n\nThese changes revert previous commit [1] on puppet-panko to allow us to finalize\nthe transition to train-em.\n\nWithout that our CI is broken and we can't move puppet-* to extended\nmaintenance.\n\n[1] https://opendev.org/openstack/project-config/commit/a5938e0bc94b8ec28e92fd8475eaefbfffe68d30\n[2] https://review.opendev.org/c/openstack/releases/+/792820\n[3] https://zuul.opendev.org/t/openstack/build/8000a4f915834b65958b67a05fed04e6\n\nChange-Id: I6a941fba3a94ba742ea56970960e846c04046edd\n""}]",3,795583,870b558e8bfd07e17690ae59e56bff34573b8d44,7,3,1,28522,,,0,"Temporarly reverting project template to finalize train-em

These changes revert previous commit [1] on puppet-panko to allow us to finalize
the transition to train-em.

Without that our CI is broken and we can't move puppet-* to extended
maintenance.

[1] https://opendev.org/openstack/project-config/commit/a5938e0bc94b8ec28e92fd8475eaefbfffe68d30
[2] https://review.opendev.org/c/openstack/releases/+/792820
[3] https://zuul.opendev.org/t/openstack/build/8000a4f915834b65958b67a05fed04e6

Change-Id: I6a941fba3a94ba742ea56970960e846c04046edd
",git fetch https://review.opendev.org/openstack/project-config refs/changes/83/795583/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,870b558e8bfd07e17690ae59e56bff34573b8d44,puppet-panko-fix-gates-train-em, - puppet-release-jobs,,1,0
openstack%2Fkayobe~stable%2Fwallaby~Ic9edcf8168355eaf3ea9aff14947666d0ed46c97,openstack/kayobe,stable/wallaby,Ic9edcf8168355eaf3ea9aff14947666d0ed46c97,docs: Stop setting os_distribution in development all-in-one,MERGED,2021-06-09 14:13:50.000000000,2021-06-09 16:16:17.000000000,2021-06-09 16:14:33.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 14:13:50.000000000', 'files': ['doc/source/contributor/automated.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/51ddc295a2b0348122fc5ed3df549ecc7c639889', 'message': 'docs: Stop setting os_distribution in development all-in-one\n\nkayobe-config-dev now sets os_distribution automatically.\n\nChange-Id: Ic9edcf8168355eaf3ea9aff14947666d0ed46c97\n(cherry picked from commit 034d4360953eb4068155745cea23fbf9dcae8fe1)\n'}]",0,795466,51ddc295a2b0348122fc5ed3df549ecc7c639889,8,3,1,15197,,,0,"docs: Stop setting os_distribution in development all-in-one

kayobe-config-dev now sets os_distribution automatically.

Change-Id: Ic9edcf8168355eaf3ea9aff14947666d0ed46c97
(cherry picked from commit 034d4360953eb4068155745cea23fbf9dcae8fe1)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/66/795466/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/automated.rst'],1,51ddc295a2b0348122fc5ed3df549ecc7c639889,os-distribution-stable/wallaby,,"If using Ubuntu, configure the OS distribution:: sed -i -e 's/#os_distribution:/os_distribution: ubuntu/' config/src/kayobe-config/etc/kayobe/globals.yml If using Ubuntu, configure the OS distribution:: sed -i -e 's/#os_distribution:/os_distribution: ubuntu/' config/src/kayobe-config/etc/kayobe/globals.yml ",0,8
openstack%2Fpuppet-panko~master~I1660e839a5ca63d982ed5dcb180068053bda081f,openstack/puppet-panko,master,I1660e839a5ca63d982ed5dcb180068053bda081f,Retire puppet-panko.,MERGED,2021-05-18 06:47:49.000000000,2021-06-09 16:11:51.000000000,2021-06-09 16:11:51.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 06:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/2ca1a031918732ad9997eee33d46c5ffcae334c2', 'message': 'Retire puppet-panko.\n\nPanko itself is no longer maintained.\n\nChange-Id: I1660e839a5ca63d982ed5dcb180068053bda081f\n'}, {'number': 2, 'created': '2021-05-18 09:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/ab8de6ff51719aaa6d3bc50b5dc58acf29beea4f', 'message': 'Retire puppet-panko.\n\nPanko itself is no longer maintained.\n\nDepends-on: https://review.opendev.org/c/openstack/project-config/+/791905\n\nChange-Id: I1660e839a5ca63d982ed5dcb180068053bda081f\n'}, {'number': 3, 'created': '2021-05-27 09:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/e847c700a892ca7af55713b8ecde4834ea227b08', 'message': 'Retire puppet-panko.\n\nThe contents of this repository are still available in the Git source\ncode management system. To see the contents of this repository before it\nreached its end of life, please check out the previous commit with\n""git checkout HEAD^1"".\n\nFor any further questions, please email\nopenstack-discuss@lists.openstack.org or join #puppet-openstack on OFTC.\n\nChange-Id: I1660e839a5ca63d982ed5dcb180068053bda081f\n'}, {'number': 4, 'created': '2021-06-02 06:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/65c47746e05a8aa8b7cca905e5b6d972a6dce639', 'message': 'Retire puppet-panko.\n\nThe contents of this repository are still available in the Git source\ncode management system. To see the contents of this repository before it\nreached its end of life, please check out the previous commit with\n""git checkout HEAD^1"".\n\nFor any further questions, please email\nopenstack-discuss@lists.openstack.org or join #puppet-openstack on OFTC.\n\nChange-Id: I1660e839a5ca63d982ed5dcb180068053bda081f\n'}, {'number': 5, 'created': '2021-06-03 08:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/c687af399a9e8d15a5d49ff0d3941dd96b3be81d', 'message': 'Retire puppet-panko.\n\nThe contents of this repository are still available in the Git source\ncode management system. To see the contents of this repository before it\nreached its end of life, please check out the previous commit with\n""git checkout HEAD^1"".\n\nFor any further questions, please email\nopenstack-discuss@lists.openstack.org or join #puppet-openstack on OFTC.\n\nChange-Id: I1660e839a5ca63d982ed5dcb180068053bda081f\n'}, {'number': 6, 'created': '2021-06-07 06:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/b4937055e4cfa564eed375ebe161295311e3f79e', 'message': 'Retire puppet-panko.\n\nThe contents of this repository are still available in the Git source\ncode management system. To see the contents of this repository before it\nreached its end of life, please check out the previous commit with\n""git checkout HEAD^1"".\n\nFor any further questions, please email\nopenstack-discuss@lists.openstack.org or join #puppet-openstack on OFTC.\n\nChange-Id: I1660e839a5ca63d982ed5dcb180068053bda081f\n'}, {'number': 7, 'created': '2021-06-08 14:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/9606a961d914d53e8bea3c989efa582550ddd98b', 'message': 'Retire puppet-panko.\n\nThe contents of this repository are still available in the Git source\ncode management system. To see the contents of this repository before it\nreached its end of life, please check out the previous commit with\n""git checkout HEAD^1"".\n\nFor any further questions, please email\nopenstack-discuss@lists.openstack.org or join #puppet-openstack on OFTC.\n\nChange-Id: I1660e839a5ca63d982ed5dcb180068053bda081f\n'}, {'number': 8, 'created': '2021-06-09 06:22:55.000000000', 'files': ['lib/puppet/type/panko_api_uwsgi_config.rb', 'lib/puppet/provider/panko_api_paste_ini/ini_setting.rb', 'spec/classes/panko_keystone_authtoken_spec.rb', 'manifests/api.pp', 'manifests/db.pp', 'releasenotes/notes/remove_deprecated_pki_related_options-920fd6ffb82df356.yaml', 'releasenotes/notes/service_token_roles-897d112ef648f5b2.yaml', 'releasenotes/notes/set-user-domain-default-3da3f24dfe35e9c0.yaml', 'spec/classes/panko_keystone_auth_spec.rb', 'releasenotes/notes/deprecate_idle_timeout_parameter-8bacd3cd2b5b7021.yaml', 'releasenotes/notes/set-event-time-to-live-5769fa43abddbc0a.yaml', 'releasenotes/notes/healthcheck-97c3e1d45eb48df5.yaml', 'manifests/deps.pp', 'releasenotes/notes/dont-include-logging-init-98a82d12086c1402.yaml', 'releasenotes/notes/expirer-ensure-05c77588f136c659.yaml', 'manifests/logging.pp', 'spec/classes/panko_policy_spec.rb', 'releasenotes/notes/oslo_policy-enforce_scope-e1658ff1930bca3a.yaml', 'releasenotes/notes/postgres-0f2d04def1149954.yaml', 'releasenotes/source/ussuri.rst', 'releasenotes/notes/add_enable_proxy_header_parsing-1a39719e142d5e6f.yaml', 'manifests/config.pp', 'releasenotes/notes/log-json-a220c2b1f3164c26.yaml', 'spec/classes/panko_db_postgresql_spec.rb', 'spec/classes/panko_db_spec.rb', 'manifests/wsgi/apache.pp', 'spec/classes/panko_expirer_spec.rb', 'releasenotes/notes/add_storage_related_parameter-4a20fabdf26d2525.yaml', 'spec/classes/panko_client_spec.rb', 'lib/puppet/provider/panko_api_uwsgi_config/ini_setting.rb', 'spec/unit/type/panko_api_uwsgi_config_spec.rb', 'releasenotes/notes/add-pool_timeout-option-for-db-843951f42f4807ba.yaml', 'lib/puppet/provider/panko_config/ini_setting.rb', 'Gemfile', 'releasenotes/source/victoria.rst', 'releasenotes/notes/deprecate_database_min_pool_size-option-a72d11a510c51344.yaml', 'releasenotes/notes/remove_idle_timeout_option-881dee47d7bb281d.yaml', 'manifests/db/mysql.pp', 'releasenotes/notes/keystone-authtoken-interface-fa6f3766fc97cc86.yaml', 'bindep.txt', 'Rakefile', 'releasenotes/notes/remove_deprecated_keystone_revocation_cache_time_option-afcc54dbcc215692.yaml', 'spec/spec_helper_acceptance.rb', 'releasenotes/notes/add-expirer-class-080c2b7a43abcd0d.yaml', 'releasenotes/notes/deprecate_auth_uri_parameter-b7145764da4687aa.yaml', 'releasenotes/source/pike.rst', '.zuul.yaml', 'releasenotes/notes/fix-api-port-default-871345e935f23439.yaml', 'releasenotes/notes/deprecate_revocation_cache_time_parameter-3a02718c60f28284.yaml', 'spec/classes/panko_healthcheck_spec.rb', 'spec/unit/type/panko_api_paste_ini_spec.rb', 'releasenotes/notes/migrate-policy-format-from-json-to-yaml-916e0f6171e69ef1.yaml', 'manifests/client.pp', 'releasenotes/notes/remove_deprecated_ensure_package_option-8af908c11bc0b950.yaml', 'spec/classes/panko_db_mysql_spec.rb', 'README.rst', 'setup.py', 'releasenotes/notes/add_db_sync_timeout-8a7c5b0b701f71d0.yaml', 'releasenotes/notes/wsgi_process_options-03a80f11e4fcd30b.yaml', 'spec/shared_examples.rb', 'spec/unit/type/panko_config_spec.rb', 'CONTRIBUTING.rst', 'releasenotes/notes/expirer-maxdelay-d6a05b7e61e5f7fa.yaml', 'manifests/params.pp', 'releasenotes/notes/deprecate_ensure_package_parameter-78135a334d98fe23.yaml', 'releasenotes/source/rocky.rst', 'LICENSE', 'releasenotes/notes/remove-auth-uri-3f06c78dc4084faf.yaml', 'lib/puppet/type/panko_config.rb', 'releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst', 'releasenotes/notes/uwsgi-4142dfdaac67fec8.yaml', 'spec/classes/panko_init_spec.rb', 'README.md', 'spec/classes/panko_config_spec.rb', 'spec/classes/panko_logging_spec.rb', 'spec/classes/panko_wsgi_apache_spec.rb', 'metadata.json', 'releasenotes/notes/authtoken_manage_memcache_package-f2526ff13c3a7c58.yaml', 'releasenotes/notes/restart-apache-4f14dda1daf456d4.yaml', 'releasenotes/notes/openstack_db_tag-8ad108d6f8e07a9e.yaml', 'spec/spec_helper.rb', 'manifests/healthcheck.pp', 'setup.cfg', 'releasenotes/notes/add_mysql_enable_ndb-option-a5c6dd40f7b4b9eb.yaml', 'tox.ini', 'manifests/policy.pp', 'manifests/keystone/auth.pp', 'releasenotes/notes/deprecate_pki_related_parameters-aeecfa846786582d.yaml', 'releasenotes/notes/drop-standalone-api-67411e39ae327e8e.yaml', 'releasenotes/source/ocata.rst', '.gitignore', 'examples/panko.pp', 'manifests/db/sync.pp', 'spec/unit/provider/panko_config/ini_setting_spec.rb', 'releasenotes/notes/add-use_journal-option-for-logging-a7df62b5b71eca68.yaml', 'releasenotes/notes/policy-dirs-201b48d122960265.yaml', 'releasenotes/notes/puppet4-mysql-func-361ea787e56650ee.yaml', 'manifests/wsgi/uwsgi.pp', 'releasenotes/source/_static/.placeholder', 'spec/unit/provider/panko_api_paste_ini/ini_setting_spec.rb', 'releasenotes/notes/policy-enforce_new_defaults-0e1be9adb34783d9.yaml', 'spec/classes/panko_wsgi_uwsgi_spec.rb', 'releasenotes/notes/default-domain-344433953d3840bb.yaml', 'lib/puppet/type/panko_api_paste_ini.rb', 'releasenotes/source/stein.rst', 'releasenotes/notes/keystone-authtoken-service_type-f412297d1a40eecb.yaml', 'releasenotes/notes/batchsize-9f201b538828370d.yaml', 'manifests/db/postgresql.pp', 'manifests/init.pp', 'releasenotes/notes/remove-explicit-log-e931f303c9bf7946.yaml', 'spec/classes/panko_db_sync_spec.rb', 'releasenotes/notes/os_workers_for_worker_count-377cfa64e935822c.yaml', 'releasenotes/notes/max_request_body_size-b4d7bf22decb115a.yaml', 'spec/classes/panko_api_spec.rb', 'releasenotes/source/unreleased.rst', 'releasenotes/source/train.rst', 'releasenotes/source/queens.rst', 'spec/unit/provider/panko_api_uwsgi_config/ini_setting_spec.rb', 'releasenotes/notes/service_token_roles_required-9c6d1e6cf4202483.yaml', 'doc/requirements.txt', 'manifests/keystone/authtoken.pp', 'manifests/expirer.pp', 'releasenotes/notes/release-note-ubuntu-py3-c4571d214552aa00.yaml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/5a97842973a94efb8094ca7dc55377dfcec7571d', 'message': 'Retire puppet-panko.\n\nThe contents of this repository are still available in the Git source\ncode management system. To see the contents of this repository before it\nreached its end of life, please check out the previous commit with\n""git checkout HEAD^1"".\n\nFor any further questions, please email\nopenstack-discuss@lists.openstack.org or join #puppet-openstack on OFTC.\n\nChange-Id: I1660e839a5ca63d982ed5dcb180068053bda081f\n'}]",2,791890,5a97842973a94efb8094ca7dc55377dfcec7571d,37,3,8,4264,,,0,"Retire puppet-panko.

The contents of this repository are still available in the Git source
code management system. To see the contents of this repository before it
reached its end of life, please check out the previous commit with
""git checkout HEAD^1"".

For any further questions, please email
openstack-discuss@lists.openstack.org or join #puppet-openstack on OFTC.

Change-Id: I1660e839a5ca63d982ed5dcb180068053bda081f
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/90/791890/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/panko_api_uwsgi_config.rb', 'lib/puppet/provider/panko_api_paste_ini/ini_setting.rb', 'spec/classes/panko_keystone_authtoken_spec.rb', 'manifests/api.pp', 'manifests/db.pp', 'releasenotes/notes/remove_deprecated_pki_related_options-920fd6ffb82df356.yaml', 'releasenotes/notes/service_token_roles-897d112ef648f5b2.yaml', 'releasenotes/notes/set-user-domain-default-3da3f24dfe35e9c0.yaml', 'spec/classes/panko_keystone_auth_spec.rb', 'releasenotes/notes/deprecate_idle_timeout_parameter-8bacd3cd2b5b7021.yaml', 'releasenotes/notes/set-event-time-to-live-5769fa43abddbc0a.yaml', 'releasenotes/notes/healthcheck-97c3e1d45eb48df5.yaml', 'manifests/deps.pp', 'releasenotes/notes/dont-include-logging-init-98a82d12086c1402.yaml', 'releasenotes/notes/expirer-ensure-05c77588f136c659.yaml', 'manifests/logging.pp', 'spec/classes/panko_policy_spec.rb', 'releasenotes/notes/oslo_policy-enforce_scope-e1658ff1930bca3a.yaml', 'releasenotes/notes/postgres-0f2d04def1149954.yaml', 'releasenotes/source/ussuri.rst', 'releasenotes/notes/add_enable_proxy_header_parsing-1a39719e142d5e6f.yaml', 'manifests/config.pp', 'releasenotes/notes/log-json-a220c2b1f3164c26.yaml', 'spec/classes/panko_db_postgresql_spec.rb', 'spec/classes/panko_db_spec.rb', 'manifests/wsgi/apache.pp', 'spec/classes/panko_expirer_spec.rb', 'releasenotes/notes/add_storage_related_parameter-4a20fabdf26d2525.yaml', 'spec/classes/panko_client_spec.rb', 'lib/puppet/provider/panko_api_uwsgi_config/ini_setting.rb', 'spec/unit/type/panko_api_uwsgi_config_spec.rb', 'releasenotes/notes/add-pool_timeout-option-for-db-843951f42f4807ba.yaml', 'lib/puppet/provider/panko_config/ini_setting.rb', 'Gemfile', 'releasenotes/source/victoria.rst', 'releasenotes/notes/deprecate_database_min_pool_size-option-a72d11a510c51344.yaml', 'releasenotes/notes/remove_idle_timeout_option-881dee47d7bb281d.yaml', 'manifests/db/mysql.pp', 'releasenotes/notes/keystone-authtoken-interface-fa6f3766fc97cc86.yaml', 'bindep.txt', 'Rakefile', 'releasenotes/notes/remove_deprecated_keystone_revocation_cache_time_option-afcc54dbcc215692.yaml', 'spec/spec_helper_acceptance.rb', 'releasenotes/notes/add-expirer-class-080c2b7a43abcd0d.yaml', 'releasenotes/notes/deprecate_auth_uri_parameter-b7145764da4687aa.yaml', 'releasenotes/source/pike.rst', 'releasenotes/notes/fix-api-port-default-871345e935f23439.yaml', 'releasenotes/notes/deprecate_revocation_cache_time_parameter-3a02718c60f28284.yaml', 'spec/classes/panko_healthcheck_spec.rb', 'spec/unit/type/panko_api_paste_ini_spec.rb', 'releasenotes/notes/migrate-policy-format-from-json-to-yaml-916e0f6171e69ef1.yaml', 'manifests/client.pp', 'releasenotes/notes/remove_deprecated_ensure_package_option-8af908c11bc0b950.yaml', 'spec/classes/panko_db_mysql_spec.rb', 'setup.py', 'releasenotes/notes/add_db_sync_timeout-8a7c5b0b701f71d0.yaml', 'releasenotes/notes/wsgi_process_options-03a80f11e4fcd30b.yaml', 'spec/shared_examples.rb', 'spec/unit/type/panko_config_spec.rb', 'CONTRIBUTING.rst', 'releasenotes/notes/expirer-maxdelay-d6a05b7e61e5f7fa.yaml', 'manifests/params.pp', 'releasenotes/notes/deprecate_ensure_package_parameter-78135a334d98fe23.yaml', 'releasenotes/source/rocky.rst', 'LICENSE', 'releasenotes/notes/remove-auth-uri-3f06c78dc4084faf.yaml', 'lib/puppet/type/panko_config.rb', 'releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst', 'releasenotes/notes/uwsgi-4142dfdaac67fec8.yaml', 'spec/classes/panko_init_spec.rb', 'README.md', 'spec/classes/panko_config_spec.rb', 'spec/classes/panko_logging_spec.rb', 'spec/classes/panko_wsgi_apache_spec.rb', 'metadata.json', 'releasenotes/notes/authtoken_manage_memcache_package-f2526ff13c3a7c58.yaml', 'releasenotes/notes/restart-apache-4f14dda1daf456d4.yaml', 'releasenotes/notes/openstack_db_tag-8ad108d6f8e07a9e.yaml', 'spec/spec_helper.rb', 'manifests/healthcheck.pp', 'setup.cfg', 'releasenotes/notes/add_mysql_enable_ndb-option-a5c6dd40f7b4b9eb.yaml', 'tox.ini', 'manifests/policy.pp', 'manifests/keystone/auth.pp', 'releasenotes/notes/deprecate_pki_related_parameters-aeecfa846786582d.yaml', 'releasenotes/notes/drop-standalone-api-67411e39ae327e8e.yaml', 'releasenotes/source/ocata.rst', 'examples/panko.pp', 'manifests/db/sync.pp', 'spec/unit/provider/panko_config/ini_setting_spec.rb', 'releasenotes/notes/add-use_journal-option-for-logging-a7df62b5b71eca68.yaml', 'releasenotes/notes/policy-dirs-201b48d122960265.yaml', 'releasenotes/notes/puppet4-mysql-func-361ea787e56650ee.yaml', 'manifests/wsgi/uwsgi.pp', 'releasenotes/source/_static/.placeholder', 'spec/unit/provider/panko_api_paste_ini/ini_setting_spec.rb', 'releasenotes/notes/policy-enforce_new_defaults-0e1be9adb34783d9.yaml', 'spec/classes/panko_wsgi_uwsgi_spec.rb', 'releasenotes/notes/default-domain-344433953d3840bb.yaml', 'lib/puppet/type/panko_api_paste_ini.rb', 'releasenotes/source/stein.rst', 'releasenotes/notes/keystone-authtoken-service_type-f412297d1a40eecb.yaml', 'releasenotes/notes/batchsize-9f201b538828370d.yaml', 'manifests/db/postgresql.pp', 'spec/acceptance/basic_panko_spec.rb', 'manifests/init.pp', 'releasenotes/notes/remove-explicit-log-e931f303c9bf7946.yaml', 'spec/classes/panko_db_sync_spec.rb', 'releasenotes/notes/os_workers_for_worker_count-377cfa64e935822c.yaml', 'releasenotes/notes/max_request_body_size-b4d7bf22decb115a.yaml', 'spec/classes/panko_api_spec.rb', 'releasenotes/source/unreleased.rst', 'releasenotes/source/train.rst', 'releasenotes/source/queens.rst', 'spec/unit/provider/panko_api_uwsgi_config/ini_setting_spec.rb', 'releasenotes/notes/service_token_roles_required-9c6d1e6cf4202483.yaml', 'doc/requirements.txt', 'manifests/keystone/authtoken.pp', 'manifests/expirer.pp', 'releasenotes/notes/release-note-ubuntu-py3-c4571d214552aa00.yaml', 'releasenotes/source/conf.py']",123,2ca1a031918732ad9997eee33d46c5ffcae334c2,retire_panko,,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. #sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. #needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. #source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. copyright = u'2017, Puppet OpenStack Developers' # The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. version = '' # The full version, including alpha/beta/rc tags. release = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. #language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: #today = '' # Else, today_fmt is used as the format for a strftime call. #today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. #default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. #add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). #add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. #show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'native' # A list of ignored prefixes for module index sorting. #modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. #keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. #html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". #html_title = None # A shorter title for the navigation bar. Default is the same as html_title. #html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. #html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. #html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. #html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. #html_use_smartypants = True # Custom sidebar templates, maps document names to template names. #html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. #html_additional_pages = {} # If false, no module index is generated. #html_domain_indices = True # If false, no index is generated. #html_use_index = True # If true, the index is split into individual pages for each letter. #html_split_index = False # If true, links to the reST sources are added to the pages. #html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. #html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. #html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. #html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). #html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'puppet-pankoReleaseNotesdoc' # -- Options for LaTeX output --------------------------------------------- # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'puppet-pankoReleaseNotes.tex', u'puppet-panko Release Notes Documentation', u'2017, Puppet OpenStack Developers', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. #latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. #latex_use_parts = False # If true, show page references after internal links. #latex_show_pagerefs = False # If true, show URL addresses after external links. #latex_show_urls = False # Documents to append as an appendix to all manuals. #latex_appendices = [] # If false, no module index is generated. #latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'puppet-pankoreleasenotes', u'puppet-panko Release Notes Documentation', [u'2017, Puppet OpenStack Developers'], 1) ] # If true, show URL addresses after external links. #man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'puppet-pankoReleaseNotes', u'puppet-panko Release Notes Documentation', u'2017, Puppet OpenStack Developers', 'puppet-pankoReleaseNotes', 'One line description of project.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. #texinfo_appendices = [] # If false, no module index is generated. #texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. #texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. #texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] # openstackdocstheme options openstackdocs_repo_name = 'openstack/puppet-panko' openstackdocs_bug_project = 'puppet-panko' openstackdocs_bug_tag = '' openstackdocs_auto_name = False ",2,4470
openstack%2Fdevstack-plugin-ceph~master~I4d7ccb63ea5deeb3648de63fc247254f0ff82545,openstack/devstack-plugin-ceph,master,I4d7ccb63ea5deeb3648de63fc247254f0ff82545,DNM:testing Focal,ABANDONED,2020-09-21 21:09:42.000000000,2021-06-09 16:09:14.000000000,,"[{'_account_id': 10135}, {'_account_id': 10459}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-21 21:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/f1151f8a7cb313c2fa21352c4bac3a2cc13a7b02', 'message': 'DNM:testing Focal\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I4d7ccb63ea5deeb3648de63fc247254f0ff82545\n'}, {'number': 2, 'created': '2020-09-22 05:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/20172c43d0a2ad309c78be8143061e17a65c4038', 'message': 'DNM:testing Focal\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I4d7ccb63ea5deeb3648de63fc247254f0ff82545\n'}, {'number': 3, 'created': '2020-09-22 16:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/7550d750f573ec32d772b9d6f0911f5dcdbc4b1b', 'message': 'DNM:testing Focal\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I4d7ccb63ea5deeb3648de63fc247254f0ff82545\n'}, {'number': 4, 'created': '2020-09-23 11:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/d509944bdb5ac8f91134319460b9ec0f47b5ee2c', 'message': 'DNM:testing Focal\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I4d7ccb63ea5deeb3648de63fc247254f0ff82545\n'}, {'number': 5, 'created': '2020-09-23 13:40:49.000000000', 'files': ['.zuul.yaml', 'devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/5e703e5be324ad46c7fadeb5527b09f401e06c2d', 'message': 'DNM:testing Focal\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I4d7ccb63ea5deeb3648de63fc247254f0ff82545\n'}]",3,753149,5e703e5be324ad46c7fadeb5527b09f401e06c2d,20,4,5,8556,,,0,"DNM:testing Focal

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: I4d7ccb63ea5deeb3648de63fc247254f0ff82545
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/49/753149/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f1151f8a7cb313c2fa21352c4bac3a2cc13a7b02,migrate-to-focal,#test focal,,1,0
openstack%2Freleases~master~I7dd6c088fabfebb1346cf5049777b360eb95e8f9,openstack/releases,master,I7dd6c088fabfebb1346cf5049777b360eb95e8f9,os-profiler 3.4.1,MERGED,2021-06-09 13:04:13.000000000,2021-06-09 16:06:28.000000000,2021-06-09 16:06:28.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 13:04:13.000000000', 'files': ['deliverables/_independent/osprofiler.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ae49142d304664803ef18f2f9a1eec6c9a6bcd23', 'message': 'os-profiler 3.4.1\n\nThe only meaningful change is the drop in the PrettyTable cap.\n\nChange-Id: I7dd6c088fabfebb1346cf5049777b360eb95e8f9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,795538,ae49142d304664803ef18f2f9a1eec6c9a6bcd23,8,3,1,15334,,,0,"os-profiler 3.4.1

The only meaningful change is the drop in the PrettyTable cap.

Change-Id: I7dd6c088fabfebb1346cf5049777b360eb95e8f9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/795538/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/osprofiler.yaml'],1,ae49142d304664803ef18f2f9a1eec6c9a6bcd23,osprofiler,releases: - version: 3.4.1 projects: - repo: openstack/osprofiler hash: 951efdce13079869b882e31a67e40f46539037be,,5,0
openstack%2Fkayobe~stable%2Fwallaby~I9928e5912e6770bdcc1d5d0884d2f101c16ee6a9,openstack/kayobe,stable/wallaby,I9928e5912e6770bdcc1d5d0884d2f101c16ee6a9,docs: improve automated seed development info,MERGED,2021-06-09 12:03:39.000000000,2021-06-09 15:54:41.000000000,2021-06-09 15:51:58.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 12:03:39.000000000', 'files': ['doc/source/contributor/automated.rst', 'dev/tenks-deploy-config-overcloud.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7d56e8fd2e2357ed612c200fc61e1e047872cbdc', 'message': ""docs: improve automated seed development info\n\n* add 'bridge_type: linuxbridge' to tenks configuration to avoid\n  dependency on OVS\n* extend seed development environment testing to include overcloud\n  provisioning and deployment\n* remove seed hypervisor and seed VM environments. These are very\n  stale, and largely replaced by a-universe-from-nothing. Add a link to\n  that workshop on the same page\n\nChange-Id: I9928e5912e6770bdcc1d5d0884d2f101c16ee6a9\n(cherry picked from commit d2e3f6f1aec2c1ed301144ed26872394799346fb)\n""}]",0,795463,7d56e8fd2e2357ed612c200fc61e1e047872cbdc,8,3,1,15197,,,0,"docs: improve automated seed development info

* add 'bridge_type: linuxbridge' to tenks configuration to avoid
  dependency on OVS
* extend seed development environment testing to include overcloud
  provisioning and deployment
* remove seed hypervisor and seed VM environments. These are very
  stale, and largely replaced by a-universe-from-nothing. Add a link to
  that workshop on the same page

Change-Id: I9928e5912e6770bdcc1d5d0884d2f101c16ee6a9
(cherry picked from commit d2e3f6f1aec2c1ed301144ed26872394799346fb)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/63/795463/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/automated.rst', 'dev/tenks-deploy-config-overcloud.yml']",2,7d56e8fd2e2357ed612c200fc61e1e047872cbdc,,bridge_type: linuxbridge ,,24,116
openstack%2Fkayobe~stable%2Fwallaby~I3806b707593fc6ac9d7125e1b12d716ad40a2808,openstack/kayobe,stable/wallaby,I3806b707593fc6ac9d7125e1b12d716ad40a2808,Add kayobe overcloud service prechecks command,MERGED,2021-06-09 12:03:09.000000000,2021-06-09 15:53:18.000000000,2021-06-09 15:51:48.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 12:03:09.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'releasenotes/notes/prechecks-command-a9153f667659c315.yaml', 'kayobe/cli/commands.py', 'doc/source/administration/overcloud.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/64bc058f2c76a8b398038749fd37710bf660f07c', 'message': ""Add kayobe overcloud service prechecks command\n\nRuns 'kolla-ansible prechecks' without deploying services.\n\nChange-Id: I3806b707593fc6ac9d7125e1b12d716ad40a2808\nStory: 2008912\nTask: 42503\n(cherry picked from commit b398e28dc57f546dc62c1eb27a306aecd134125e)\n""}]",0,795462,64bc058f2c76a8b398038749fd37710bf660f07c,8,3,1,15197,,,0,"Add kayobe overcloud service prechecks command

Runs 'kolla-ansible prechecks' without deploying services.

Change-Id: I3806b707593fc6ac9d7125e1b12d716ad40a2808
Story: 2008912
Task: 42503
(cherry picked from commit b398e28dc57f546dc62c1eb27a306aecd134125e)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/62/795462/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/cli/test_commands.py', 'releasenotes/notes/prechecks-command-a9153f667659c315.yaml', 'kayobe/cli/commands.py', 'doc/source/administration/overcloud.rst', 'setup.cfg']",5,64bc058f2c76a8b398038749fd37710bf660f07c,, overcloud_service_prechecks = kayobe.cli.commands:OvercloudServicePrecheckskayobe.cli.overcloud_service_prechecks = hooks = kayobe.cli.commands:HookDispatcher,,81,0
openstack%2Fneutron~master~Ib66b1d7b60eb0ac0a9e3dfd08aae29cb03abde34,openstack/neutron,master,Ib66b1d7b60eb0ac0a9e3dfd08aae29cb03abde34,Allow the use of legacy routers within RPN segments,MERGED,2021-05-13 13:07:17.000000000,2021-06-09 15:50:46.000000000,2021-06-09 15:48:06.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-05-13 13:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1dfb60e19777e7a2cf729b374f9f37e671c69eab', 'message': '[WIP] Allow the use of legacy routers within RPN segments\n\nTODO: testing, description\n\nCloses-Bug: #1923592\n\nChange-Id: Ib66b1d7b60eb0ac0a9e3dfd08aae29cb03abde34\n'}, {'number': 2, 'created': '2021-05-19 13:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d77e197b9493da76e74478d7dc01f4a360ce165', 'message': ""Allow the use of legacy routers within RPN segments\n\nThis patch adds to legacy routers (no HA nor DVR) to be connected\nto a router provider network segment through the gwateway interface.\nThe router will be connected to one single segment of the RPN; that\nmeans the router will have L2 connectivity to one single subnet.\nThe gateway router port will have an IP address on the subnet CIDR;\nthat will provide connectivity to the broadcast domain of this CIDR\n(as usual, that doesn't change).\n\nThe router, in other scenarios, adds the other subnet CIDRs to the\nrouter namespace routing table. That allows to SNAT any packet to\nthose CIDRs through the gateway port.\n\nIn the RPN case those routes are not added because there is no\nbroadcast connectivity with the other subnets. Any packet that needs\nto reach these other subents, should go through the local segment\ngateway IP address. This default route is added always into the\nrouter namespace.\n\nCloses-Bug: #1923592\n\nChange-Id: Ib66b1d7b60eb0ac0a9e3dfd08aae29cb03abde34\n""}, {'number': 3, 'created': '2021-05-20 07:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e9b22fc1132f8ee11b97c9253551980191217a9', 'message': ""Allow the use of legacy routers within RPN segments\n\nThis patch adds to legacy routers (no HA nor DVR) to be connected\nto a router provider network segment through the gwateway interface.\nThe router will be connected to one single segment of the RPN; that\nmeans the router will have L2 connectivity to one single subnet.\nThe gateway router port will have an IP address on the subnet CIDR;\nthat will provide connectivity to the broadcast domain of this CIDR\n(as usual, that doesn't change).\n\nThe router, in other scenarios, adds the other subnet CIDRs to the\nrouter namespace routing table. That allows to SNAT any packet to\nthose CIDRs through the gateway port.\n\nIn the RPN case those routes are not added because there is no\nbroadcast connectivity with the other subnets. Any packet that needs\nto reach these other subents, should go through the local segment\ngateway IP address. This default route is added always into the\nrouter namespace.\n\nCloses-Bug: #1923592\n\nChange-Id: Ib66b1d7b60eb0ac0a9e3dfd08aae29cb03abde34\n""}, {'number': 4, 'created': '2021-05-21 15:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/359ae02a7c45d53242140d80f3bfcb6c8e3dbb80', 'message': ""Allow the use of legacy routers within RPN segments\n\nThis patch adds to legacy routers (no HA nor DVR) to be connected\nto a router provider network segment through the gwateway interface.\nThe router will be connected to one single segment of the RPN; that\nmeans the router will have L2 connectivity to one single subnet.\nThe gateway router port will have an IP address on the subnet CIDR;\nthat will provide connectivity to the broadcast domain of this CIDR\n(as usual, that doesn't change).\n\nThe router, in other scenarios, adds the other subnet CIDRs to the\nrouter namespace routing table. That allows to SNAT any packet to\nthose CIDRs through the gateway port.\n\nIn the RPN case those routes are not added because there is no\nbroadcast connectivity with the other subnets. Any packet that needs\nto reach these other subents, should go through the local segment\ngateway IP address. This default route is added always into the\nrouter namespace.\n\nCloses-Bug: #1923592\n\nChange-Id: Ib66b1d7b60eb0ac0a9e3dfd08aae29cb03abde34\n""}, {'number': 5, 'created': '2021-05-24 08:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0fa49e6f1fc8b13d1e52d0bfeb61eaf53e25230a', 'message': ""Allow the use of legacy routers within RPN segments\n\nThis patch adds to legacy routers (no HA nor DVR) to be connected\nto a router provider network segment through the gwateway interface.\nThe router will be connected to one single segment of the RPN; that\nmeans the router will have L2 connectivity to one single subnet.\nThe gateway router port will have an IP address on the subnet CIDR;\nthat will provide connectivity to the broadcast domain of this CIDR\n(as usual, that doesn't change).\n\nThe router, in other scenarios, adds the other subnet CIDRs to the\nrouter namespace routing table. That allows to SNAT any packet to\nthose CIDRs through the gateway port.\n\nIn the RPN case those routes are not added because there is no\nbroadcast connectivity with the other subnets. Any packet that needs\nto reach these other subents, should go through the local segment\ngateway IP address. This default route is added always into the\nrouter namespace.\n\nCloses-Bug: #1923592\n\nChange-Id: Ib66b1d7b60eb0ac0a9e3dfd08aae29cb03abde34\n""}, {'number': 6, 'created': '2021-05-24 10:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c828820330d2c7d909c2e5f15b0dfccb0ff6c73c', 'message': ""Allow the use of legacy routers within RPN segments\n\nThis patch adds to legacy routers (no HA nor DVR) to be connected\nto a router provider network segment through the gateway interface.\nThe router will be connected to one single segment of the RPN; that\nmeans the router will have L2 connectivity to one single subnet.\nThe gateway router port will have an IP address on the subnet CIDR;\nthat will provide connectivity to the broadcast domain of this CIDR\n(as usual, that doesn't change).\n\nThe router, in other scenarios, adds the other subnet CIDRs to the\nrouter namespace routing table. That allows to SNAT any packet to\nthose CIDRs through the gateway port.\n\nIn the RPN case those routes are not added because there is no\nbroadcast connectivity with the other subnets. Any packet that needs\nto reach these other subents, should go through the local segment\ngateway IP address. This default route is added always into the\nrouter namespace.\n\nCloses-Bug: #1923592\n\nChange-Id: Ib66b1d7b60eb0ac0a9e3dfd08aae29cb03abde34\n""}, {'number': 7, 'created': '2021-06-03 15:58:26.000000000', 'files': ['neutron/db/l3_db.py', 'neutron/tests/unit/db/test_l3_db.py', 'doc/source/admin/config-routed-networks.rst', 'neutron/extensions/segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f450886ff93a201c6520d84088c3a97330814140', 'message': ""Allow the use of legacy routers within RPN segments\n\nThis patch adds to legacy routers (no HA nor DVR) to be connected\nto a router provider network segment through the gateway interface.\nThe router will be connected to one single segment of the RPN; that\nmeans the router will have L2 connectivity to one single subnet.\nThe gateway router port will have an IP address on the subnet CIDR;\nthat will provide connectivity to the broadcast domain of this CIDR\n(as usual, that doesn't change).\n\nThe router, in other scenarios, adds the other subnet CIDRs to the\nrouter namespace routing table. That allows to SNAT any packet to\nthose CIDRs through the gateway port.\n\nIn the RPN case those routes are not added because there is no\nbroadcast connectivity with the other subnets. Any packet that needs\nto reach these other subents, should go through the local segment\ngateway IP address. This default route is added always into the\nrouter namespace.\n\nCloses-Bug: #1923592\n\nChange-Id: Ib66b1d7b60eb0ac0a9e3dfd08aae29cb03abde34\n""}]",25,791178,f450886ff93a201c6520d84088c3a97330814140,53,7,7,16688,,,0,"Allow the use of legacy routers within RPN segments

This patch adds to legacy routers (no HA nor DVR) to be connected
to a router provider network segment through the gateway interface.
The router will be connected to one single segment of the RPN; that
means the router will have L2 connectivity to one single subnet.
The gateway router port will have an IP address on the subnet CIDR;
that will provide connectivity to the broadcast domain of this CIDR
(as usual, that doesn't change).

The router, in other scenarios, adds the other subnet CIDRs to the
router namespace routing table. That allows to SNAT any packet to
those CIDRs through the gateway port.

In the RPN case those routes are not added because there is no
broadcast connectivity with the other subnets. Any packet that needs
to reach these other subents, should go through the local segment
gateway IP address. This default route is added always into the
router namespace.

Closes-Bug: #1923592

Change-Id: Ib66b1d7b60eb0ac0a9e3dfd08aae29cb03abde34
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/791178/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_db.py', 'doc/source/admin/config-routed-networks.rst', 'neutron/extensions/segment.py']",3,1dfb60e19777e7a2cf729b374f9f37e671c69eab,bug/1923592, @classmethod def is_loaded(cls): return cls.get_plugin_type() in directory.get_plugins(),,95,4
openstack%2Foctavia-tempest-plugin~master~Ie93829be86b8a2442911ce212cdd0bc98237b962,openstack/octavia-tempest-plugin,master,Ie93829be86b8a2442911ce212cdd0bc98237b962,New test: test_tcp_and_udp_traffic_on_same_port,MERGED,2020-09-29 14:43:53.000000000,2021-06-09 15:23:10.000000000,2021-06-09 15:21:45.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 15025}, {'_account_id': 18894}, {'_account_id': 22348}, {'_account_id': 28609}, {'_account_id': 29244}, {'_account_id': 29681}, {'_account_id': 31664}]","[{'number': 1, 'created': '2020-09-29 14:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e989ce5ead532a03d75de3298cc2b16ee2abc6a6', 'message': ""New test_tcp_and_udp_traffic_on_same_port test\n\nIt's possible to use the same VIP port for incomming\nTCP and UDP traffic.\nScenario:\n1) Two listeners are created using the same VIP port\n2) UDP and TCP traffic validation\n\nChange-Id: Ie93829be86b8a2442911ce212cdd0bc98237b962\n""}, {'number': 2, 'created': '2020-09-30 17:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c812e4d61521ee5f323d5cfcd59f5a29c033dcc3', 'message': ""New test: test_tcp_and_udp_traffic_on_same_port\n\nIt's possible to use the same VIP port for incomming\nTCP and UDP traffic.\nScenario:\n1) Two listeners are created using the same VIP port\n2) UDP and TCP traffic validation\nPolarion test ID: RHELOSP-78096\n\nChange-Id: Ie93829be86b8a2442911ce212cdd0bc98237b962\n""}, {'number': 3, 'created': '2020-10-01 07:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f02f17125ef9fe44b6fd5a14862eccdcf60ed6d6', 'message': ""New test: test_tcp_and_udp_traffic_on_same_port\n\nIt's possible to use the same VIP port for incomming\nTCP and UDP traffic.\nScenario:\n1) Two listeners are created using the same VIP port\n2) UDP and TCP traffic validation\nPolarion test ID: RHELOSP-78096\n\nChange-Id: Ie93829be86b8a2442911ce212cdd0bc98237b962\n""}, {'number': 4, 'created': '2020-10-06 13:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e5829309d0debc7f8626fbbc6fdd58f8ec24a51a', 'message': ""New test: test_tcp_and_udp_traffic_on_same_port\n\nIt's possible to use the same VIP port for incomming\nTCP and UDP traffic.\nScenario:\n1) Two listeners are created using the same VIP port\n2) UDP and TCP traffic validation\nPolarion test ID: RHELOSP-78096\n\nChange-Id: Ie93829be86b8a2442911ce212cdd0bc98237b962\n""}, {'number': 5, 'created': '2020-10-06 16:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2c49b314dac6603007d408f6861ef0e110d64d7b', 'message': 'New test: test_tcp_and_udp_traffic_on_same_port\n\nIt\'s possible to use the same VIP port for incomming\nTCP and UDP traffic.\nScenario:\n1) Two listeners are created using the same VIP port\n2) UDP and TCP traffic validation\nPolarion test ID: RHELOSP-78096\nNote: this test fails on ""octavia-v2-dsvm-scenario-stable-stein""\nas expected, it\'s a known bug!!!\n\nChange-Id: Ie93829be86b8a2442911ce212cdd0bc98237b962\n'}, {'number': 6, 'created': '2020-10-06 20:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1b0499ccf853ba438d52d9b8486ddb1cf632e275', 'message': ""New test: test_tcp_and_udp_traffic_on_same_port\n\nIt's possible to use the same VIP port for incomming\nTCP and UDP traffic.\nScenario:\n1) Two listeners are created using the same VIP port\n2) UDP and TCP traffic validation\nPolarion test ID: RHELOSP-78096\n\nChange-Id: Ie93829be86b8a2442911ce212cdd0bc98237b962\n""}, {'number': 7, 'created': '2021-02-24 12:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/9c0ed42e9b97995ede1013f88824af6e5b3e523d', 'message': ""New test: test_tcp_and_udp_traffic_on_same_port\n\nIt's possible to use the same VIP port for incomming\nTCP and UDP traffic.\nScenario:\n1) Two listeners are created using the same VIP port\n2) UDP and TCP traffic validation\nPolarion test ID: RHELOSP-78096\n\nChange-Id: Ie93829be86b8a2442911ce212cdd0bc98237b962\n""}, {'number': 8, 'created': '2021-03-08 15:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/20cacf165a289f853052b26461f195fd77b724c9', 'message': ""New test: test_tcp_and_udp_traffic_on_same_port\n\nIt's possible to use the same VIP port for incomming\nTCP and UDP traffic.\nScenario:\n1) Two listeners are being created using the same VIP port\n2) UDP and TCP traffic validation\n\nChange-Id: Ie93829be86b8a2442911ce212cdd0bc98237b962\n""}, {'number': 9, 'created': '2021-05-21 13:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f65edd59407b71444c6773e56d5432a1fe7be36a', 'message': ""New test: test_tcp_and_udp_traffic_on_same_port\n\nIt's possible to use the same VIP port for incomming\nTCP and UDP traffic.\nScenario:\n1) Two listeners are being created using the same VIP port\n2) UDP and TCP traffic validation\n\nChange-Id: Ie93829be86b8a2442911ce212cdd0bc98237b962\n""}, {'number': 10, 'created': '2021-05-21 19:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c061c97c46760b53a355d372d77b8b4cea3ff601', 'message': ""New test: test_tcp_and_udp_traffic_on_same_port\n\nIt's possible to use the same VIP port for incomming\nTCP and UDP traffic.\nScenario:\n1) Two listeners are being created using the same VIP port\n2) UDP and TCP traffic validation\n\nChange-Id: Ie93829be86b8a2442911ce212cdd0bc98237b962\n""}, {'number': 11, 'created': '2021-05-21 21:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/93fd31dbb8792557a4e022a7c41e8cbadf88eb25', 'message': ""New test: test_tcp_and_udp_traffic_on_same_port\n\nIt's possible to use the same VIP port for incomming\nTCP and UDP traffic.\nScenario:\n1) Two listeners are being created using the same VIP port\n2) UDP and TCP traffic validation\n\nChange-Id: Ie93829be86b8a2442911ce212cdd0bc98237b962\n""}, {'number': 12, 'created': '2021-06-01 13:55:03.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/cac3eefc44afca458692e9dadb539c0cb17dc9e4', 'message': ""New test: test_tcp_and_udp_traffic_on_same_port\n\nIt's possible to use the same VIP port for TCP and UDP protocols.\nTwo listeners: UDP and TCP are being created using the same VIP port.\nUDP and TCP traffic validation, both should PASS.\n\nChange-Id: Ie93829be86b8a2442911ce212cdd0bc98237b962\n""}]",23,755050,cac3eefc44afca458692e9dadb539c0cb17dc9e4,88,10,12,28609,,,0,"New test: test_tcp_and_udp_traffic_on_same_port

It's possible to use the same VIP port for TCP and UDP protocols.
Two listeners: UDP and TCP are being created using the same VIP port.
UDP and TCP traffic validation, both should PASS.

Change-Id: Ie93829be86b8a2442911ce212cdd0bc98237b962
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/50/755050/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py'],1,e989ce5ead532a03d75de3298cc2b16ee2abc6a6,tcp_udp_same_port," @testtools.skipIf(CONF.load_balancer.test_with_noop, 'Traffic tests will not work in noop mode.') @decorators.idempotent_id('2b05229c-0254-11eb-8610-74e5f9e2a801') def test_tcp_and_udp_traffic_on_same_port(self): common_port = 80 if not self.mem_listener_client.is_version_supported( self.api_version, '2.1'): raise self.skipException('UDP listener support is only available ' 'in Octavia API version 2.1 or newer') listener_id, pool_id = self._listener_pool_create( const.UDP, common_port) self._test_basic_traffic(const.UDP, common_port, listener_id, pool_id) listener_id, pool_id = self._listener_pool_create( const.TCP, common_port) self._test_basic_traffic(const.TCP, common_port, listener_id, pool_id, persistent=False)",,17,0
openstack%2Ftripleo-ci~master~I1aed918ee3d593db9628084a324af152fcc8be36,openstack/tripleo-ci,master,I1aed918ee3d593db9628084a324af152fcc8be36,[DNM] Fix issue with scenario000 multinode job,ABANDONED,2020-12-03 08:40:47.000000000,2021-06-09 15:21:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-03 08:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/13800f3774883f92a9f55e7386850de9ad705eda', 'message': ""[DNM] Fix issue with scenario000 multinode job\n\nUse single playbook multinode.yml which includes\nother playbook, it results in single ansible playbook\nrun instead of multiple and it's avoiding the bug\nhttps://bugs.launchpad.net/tripleo/+bug/1883843.\n\nChange-Id: I1aed918ee3d593db9628084a324af152fcc8be36\n""}, {'number': 2, 'created': '2020-12-16 16:00:36.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4766f0fd90828c4ef78fc17457b16f2754275587', 'message': ""[DNM] Fix issue with scenario000 multinode job\n\nUse single playbook multinode.yml which includes\nother playbook, it results in single ansible playbook\nrun instead of multiple and it's avoiding the bug\nhttps://bugs.launchpad.net/tripleo/+bug/1883843.\n\nChange-Id: I1aed918ee3d593db9628084a324af152fcc8be36\n""}]",1,765297,4766f0fd90828c4ef78fc17457b16f2754275587,11,2,2,31075,,,0,"[DNM] Fix issue with scenario000 multinode job

Use single playbook multinode.yml which includes
other playbook, it results in single ansible playbook
run instead of multiple and it's avoiding the bug
https://bugs.launchpad.net/tripleo/+bug/1883843.

Change-Id: I1aed918ee3d593db9628084a324af152fcc8be36
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/97/765297/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,13800f3774883f92a9f55e7386850de9ad705eda,bug/1883843, playbooks: - multinode.yml,,2,0
openstack%2Fopenstack-tempest-skiplist~master~I76b5274520f5ae8f957537661cf41480723e6dfc,openstack/openstack-tempest-skiplist,master,I76b5274520f5ae8f957537661cf41480723e6dfc,SKIP : FS01-wallaby job failing for test_traffic_ops test,ABANDONED,2021-05-07 13:13:53.000000000,2021-06-09 15:20:53.000000000,,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 13:13:53.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/f59b12feb034711c15ca317454008a537b200f34', 'message': 'SKIP : FS01-wallaby job failing for test_traffic_ops test\n\nThis patch adds FS01 wallaby job to skiplist for wallaby\npromotion.\n\nRelated-Bug: #1883687\nChange-Id: I76b5274520f5ae8f957537661cf41480723e6dfc\n'}]",0,790240,f59b12feb034711c15ca317454008a537b200f34,3,4,1,31075,,,0,"SKIP : FS01-wallaby job failing for test_traffic_ops test

This patch adds FS01 wallaby job to skiplist for wallaby
promotion.

Related-Bug: #1883687
Change-Id: I76b5274520f5ae8f957537661cf41480723e6dfc
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/40/790240/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,f59b12feb034711c15ca317454008a537b200f34,skiplist, - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset001-wallaby,,1,0
openstack%2Fopenstack-tempest-skiplist~master~Iec7fdcc3455a17dd88c0305df3820cc5605753ea,openstack/openstack-tempest-skiplist,master,Iec7fdcc3455a17dd88c0305df3820cc5605753ea,skip: skipping test test_subnet_details,ABANDONED,2021-05-19 13:44:03.000000000,2021-06-09 15:20:39.000000000,,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 13:44:03.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/fb723f2a9fa8f775f7510d62ea9f5d739ecfcc4d', 'message': 'skip: skipping test test_subnet_details\n\nRelated-Bug: #1928933\nChange-Id: Iec7fdcc3455a17dd88c0305df3820cc5605753ea\n'}]",0,792149,fb723f2a9fa8f775f7510d62ea9f5d739ecfcc4d,3,5,1,31075,,,0,"skip: skipping test test_subnet_details

Related-Bug: #1928933
Change-Id: Iec7fdcc3455a17dd88c0305df3820cc5605753ea
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/49/792149/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,fb723f2a9fa8f775f7510d62ea9f5d739ecfcc4d,skip_test_subnet_details, - test: tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_subnet_details deployment: - overcloud releases: - name: master reason: Failing on network lp: https://bugs.launchpad.net/tripleo/+bug/1928933 - name: wallaby reason: Failing on network lp: https://bugs.launchpad.net/tripleo/+bug/1928933 - name: wallaby reason: Failing on network lp: https://bugs.launchpad.net/tripleo/+bug/1928933 - name: victoria reason: Failing on network lp: https://bugs.launchpad.net/tripleo/+bug/1928933 - name: ussuri reason: Failing on network lp: https://bugs.launchpad.net/tripleo/+bug/1928933 jobs: [],,20,0
openstack%2Fopenstack-ansible-tests~master~Ib2e95320a160ee7aec1e2800411a0fc1d8e193b5,openstack/openstack-ansible-tests,master,Ib2e95320a160ee7aec1e2800411a0fc1d8e193b5,add openvswitch to the log collect,ABANDONED,2021-06-09 15:12:30.000000000,2021-06-09 15:18:26.000000000,,[],"[{'number': 1, 'created': '2021-06-09 15:12:30.000000000', 'files': ['test-log-collect.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/879b143ac3f1c96dcb838df69762db5d5c103471', 'message': 'add openvswitch to the log collect\n\nChange-Id: Ib2e95320a160ee7aec1e2800411a0fc1d8e193b5\n'}]",0,795568,879b143ac3f1c96dcb838df69762db5d5c103471,2,0,1,13095,,,0,"add openvswitch to the log collect

Change-Id: Ib2e95320a160ee7aec1e2800411a0fc1d8e193b5
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/68/795568/1 && git format-patch -1 --stdout FETCH_HEAD,['test-log-collect.sh'],1,879b143ac3f1c96dcb838df69762db5d5c103471,, openvswitch \,,1,0
openstack%2Fneutron~master~I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb,openstack/neutron,master,I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb,use payloads for ROUTER_INTERFACE events,MERGED,2019-02-27 20:30:52.000000000,2021-06-09 15:11:01.000000000,2021-06-09 15:06:23.000000000,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 32667}]","[{'number': 1, 'created': '2019-02-27 20:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e45cb30580fcb0df574ca3fc03d0bdc70a49209d', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT ROUTER_INTERFACE events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. In addition, a few\ncallback methods that use the retry_if_session_inactive() decorator are\nseparated out from the callback so that the context can still be\npassed and detected by retry_if_session_inactive logic.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb\n'}, {'number': 2, 'created': '2019-02-27 20:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/690267a652f833885d2d164fdfdc6ba2a660f617', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. In addition, a few\ncallback methods that use the retry_if_session_inactive() decorator are\nseparated out from the callback so that the context can still be\npassed and detected by retry_if_session_inactive logic.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb\n'}, {'number': 3, 'created': '2019-04-15 21:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/86ace030b14e7fe0ef0b27858c4727549b737a49', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. In addition, a few\ncallback methods that use the retry_if_session_inactive() decorator are\nseparated out from the callback so that the context can still be\npassed and detected by retry_if_session_inactive logic.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb\n'}, {'number': 4, 'created': '2019-04-24 15:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a4a2dbbf3a1ec00d1895abde0a5ec28f4057e74', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. In addition, a few\ncallback methods that use the retry_if_session_inactive() decorator are\nseparated out from the callback so that the context can still be\npassed and detected by retry_if_session_inactive logic.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb\n'}, {'number': 5, 'created': '2019-05-08 18:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3bb32737a48f8f25726e4db84ba6508a8dd3353', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. In addition, a few\ncallback methods that use the retry_if_session_inactive() decorator are\nseparated out from the callback so that the context can still be\npassed and detected by retry_if_session_inactive logic.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb\n'}, {'number': 6, 'created': '2019-05-23 21:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9840799c4ae9a2de51a8622a6de170d04bf9354a', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. In addition, a few\ncallback methods that use the retry_if_session_inactive() decorator are\nseparated out from the callback so that the context can still be\npassed and detected by retry_if_session_inactive logic.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb\n'}, {'number': 7, 'created': '2019-05-29 17:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e34e134297246cebd262684b516e6898efb48236', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. In addition, a few\ncallback methods that use the retry_if_session_inactive() decorator are\nseparated out from the callback so that the context can still be\npassed and detected by retry_if_session_inactive logic.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb\n'}, {'number': 8, 'created': '2019-06-03 17:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84b88997b0d80b7b8d62f89c68b7b93eea90da0a', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. In addition, a few\ncallback methods that use the retry_if_session_inactive() decorator are\nseparated out from the callback so that the context can still be\npassed and detected by retry_if_session_inactive logic.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb\n'}, {'number': 9, 'created': '2019-06-04 16:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a8daf3c19d48366fa8a83defa8bfeedd8a8f8fb', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. In addition, a few\ncallback methods that use the retry_if_session_inactive() decorator are\nseparated out from the callback so that the context can still be\npassed and detected by retry_if_session_inactive logic.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb\n'}, {'number': 10, 'created': '2019-06-10 15:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b6713c74418a7ec2251ec6c3f9484f581182747', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. In addition, a few\ncallback methods that use the retry_if_session_inactive() decorator are\nseparated out from the callback so that the context can still be\npassed and detected by retry_if_session_inactive logic.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb\n'}, {'number': 11, 'created': '2019-06-13 18:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b8638492dc47d09d0527bd0274a81daca9d6347', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. In addition, a few\ncallback methods that use the retry_if_session_inactive() decorator are\nseparated out from the callback so that the context can still be\npassed and detected by retry_if_session_inactive logic.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb\n'}, {'number': 12, 'created': '2019-06-28 21:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/201e185dfa9c773cbdc43da694955058afaf98ff', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. In addition, a few\ncallback methods that use the retry_if_session_inactive() decorator are\nseparated out from the callback so that the context can still be\npassed and detected by retry_if_session_inactive logic.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb\n'}, {'number': 13, 'created': '2019-07-01 14:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7292cd40552f0952f8c86c1d2ed63d5bac392522', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. In addition, a few\ncallback methods that use the retry_if_session_inactive() decorator are\nseparated out from the callback so that the context can still be\npassed and detected by retry_if_session_inactive logic.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb\n'}, {'number': 14, 'created': '2019-07-09 21:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1215472a17bbe8ae0415dafd29ee58606685f5af', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. In addition, a few\ncallback methods that use the retry_if_session_inactive() decorator are\nseparated out from the callback so that the context can still be\npassed and detected by retry_if_session_inactive logic.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb\n'}, {'number': 15, 'created': '2019-07-10 18:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e30de359d5eab4f0e5524214dac0999a0f67a1e4', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. In addition, a few\ncallback methods that use the retry_if_session_inactive() decorator are\nseparated out from the callback so that the context can still be\npassed and detected by retry_if_session_inactive logic.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb\n'}, {'number': 16, 'created': '2019-07-29 15:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d78bc29b610655e784b87e56fae6db0375722549', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. In addition, a few\ncallback methods that use the retry_if_session_inactive() decorator are\nseparated out from the callback so that the context can still be\npassed and detected by retry_if_session_inactive logic.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb\n'}, {'number': 17, 'created': '2021-05-22 04:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c22190e4ba8f6e4bb17167bcd39a814b8cfe15ae', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. In addition, a few\ncallback methods that use the retry_if_session_inactive() decorator are\nseparated out from the callback so that the context can still be\npassed and detected by retry_if_session_inactive logic.\n\nNeutronLibImpact\n\n[1]\nhttps://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb\n'}, {'number': 18, 'created': '2021-05-22 04:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/98b1e09840e2f2f22041b5126850d51d90c53691', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. In addition, a few\ncallback methods that use the retry_if_session_inactive() decorator are\nseparated out from the callback so that the context can still be\npassed and detected by retry_if_session_inactive logic.\n\nNeutronLibImpact\n\n[1]\nhttps://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb\n'}, {'number': 19, 'created': '2021-06-03 18:42:19.000000000', 'files': ['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py', 'neutron/tests/unit/db/test_l3_db.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ab699e5cd0c4c552012d694d449b0b2e474013e', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. In addition, a few\ncallback methods that use the retry_if_session_inactive() decorator are\nseparated out from the callback so that the context can still be\npassed and detected by retry_if_session_inactive logic.\n\nNeutronLibImpact\n\n[1]\nhttps://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb\n'}]",1,639814,4ab699e5cd0c4c552012d694d449b0b2e474013e,163,12,19,5367,,,0,"use payloads for ROUTER_INTERFACE events

This patch switches the code over to the payload style of callbacks [1]
for ROUTER_INTERFACE events for those that are not using them yet.
The unit tests are also updated where needed to account for the
payload style callbacks and publish() method. In addition, a few
callback methods that use the retry_if_session_inactive() decorator are
separated out from the callback so that the context can still be
passed and detected by retry_if_session_inactive logic.

NeutronLibImpact

[1]
https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html

Change-Id: I8d9f8296952dfb10fcccd6afd72e90a5d4f379eb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/639814/18 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py', 'neutron/tests/unit/db/test_l3_db.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py']",7,e45cb30580fcb0df574ca3fc03d0bdc70a49209d,router_int_callback," payload = events.DBEventPayload( mock.Mock(), metadata={ 'port': {'id': 'foo_port_id', 'network_id': 'foo_network_id'}}) mock.ANY, mock.ANY, mock.ANY, payload=payload), payload = events.DBEventPayload( mock.Mock(), metadata={ 'port': {'id': 'foo_port_id', 'network_id': 'foo_network_id'}}) mock.ANY, mock.ANY, mock.ANY, payload=payload),"," mock.ANY, mock.ANY, mock.ANY, context=mock.Mock(), port={'id': 'foo_port_id', 'network_id': 'foo_network_id'}), mock.ANY, mock.ANY, mock.ANY, context=mock.Mock(), port={'id': 'foo_port_id', 'network_id': 'foo_network_id'}),",149,121
openstack%2Fneutron~stable%2Fwallaby~I618659a5760356cc5c988803d8852db5e4d066f2,openstack/neutron,stable/wallaby,I618659a5760356cc5c988803d8852db5e4d066f2,Dropping lower constraints testing (stable Wallaby),MERGED,2021-06-07 08:12:39.000000000,2021-06-09 15:09:36.000000000,2021-06-09 15:07:06.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 08:12:39.000000000', 'files': ['lower-constraints.txt', 'zuul.d/project.yaml', 'TESTING.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c23de14eafa442ab02a60103c16cbeb5cb14ed3b', 'message': 'Dropping lower constraints testing (stable Wallaby)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nChange-Id: I618659a5760356cc5c988803d8852db5e4d066f2\n'}]",0,795055,c23de14eafa442ab02a60103c16cbeb5cb14ed3b,11,4,1,11975,,,0,"Dropping lower constraints testing (stable Wallaby)

This topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

As decided in Neutron meeting, stable branches will drop this
CI job [2].

[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html
[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html

Change-Id: I618659a5760356cc5c988803d8852db5e4d066f2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/795055/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'zuul.d/project.yaml', 'TESTING.rst', 'tox.ini']",4,c23de14eafa442ab02a60103c16cbeb5cb14ed3b,oslo_lc_drop,,"[testenv:lower-constraints] setenv = OS_TEST_TIMEOUT={env:OS_TEST_TIMEOUT:60} deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt hacking>=3.0.1,<3.1.0 # Apache-2.0 ",3,154
openstack%2Fneutron~master~I894eb3524681a3abaca5eeca0aa47028e7f1ff44,openstack/neutron,master,I894eb3524681a3abaca5eeca0aa47028e7f1ff44,Bump alembic to 1.6.5,MERGED,2021-06-07 08:23:40.000000000,2021-06-09 15:08:52.000000000,2021-06-09 15:06:09.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 08:23:40.000000000', 'files': ['requirements.txt', 'neutron/tests/functional/db/test_migrations.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c915b93e7690f6d8accf95417284600df9aa5a90', 'message': 'Bump alembic to 1.6.5\n\nThis version fixes the problem reported in LP#1929518 as described\nin [1].\n\n[1]https://github.com/sqlalchemy/alembic/commit/acc82bff397be712a7e4f5e2069e7bfbf93ff5a9\n\nChange-Id: I894eb3524681a3abaca5eeca0aa47028e7f1ff44\nCloses-Bug: #1929518\n'}]",0,795058,c915b93e7690f6d8accf95417284600df9aa5a90,21,3,1,16688,,,0,"Bump alembic to 1.6.5

This version fixes the problem reported in LP#1929518 as described
in [1].

[1]https://github.com/sqlalchemy/alembic/commit/acc82bff397be712a7e4f5e2069e7bfbf93ff5a9

Change-Id: I894eb3524681a3abaca5eeca0aa47028e7f1ff44
Closes-Bug: #1929518
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/795058/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'neutron/tests/functional/db/test_migrations.py', 'lower-constraints.txt']",3,c915b93e7690f6d8accf95417284600df9aa5a90,bug/1929518,alembic==1.6.5,alembic==0.9.6,3,6
openstack%2Fneutron~master~Ie0205785cab307c132fbe409588739685cade7c0,openstack/neutron,master,Ie0205785cab307c132fbe409588739685cade7c0,Use TCP keepalives for ovsdb connections,MERGED,2021-06-04 19:49:05.000000000,2021-06-09 14:28:04.000000000,2021-06-09 14:25:41.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 19:49:05.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/65cce351d74a9a637fdb2a9d5e0e63445dda9ea9', 'message': ""Use TCP keepalives for ovsdb connections\n\nWhen failing over OVN DB servers from one server to another, the\nserver which originally hosted the VIP doesn't notice the connection\nis gone and doesn't reconnect. Ultimately, this is something that\nneeds to be fixed in python-ovs, but setting the SO_KEEPALIVE socket\noption avoids the issue. This also has the benefit that the client\ndoesn't need to send 'echo' requests, which can time out on an\noverloaded ovsdb-server, which causes a disconnection which then\nadds even more load on the ovsdb-server as it has to send the entire\ndb contents over the wire after the connection.\n\nCloses-Bug: #1930926\nChange-Id: Ie0205785cab307c132fbe409588739685cade7c0\n""}]",0,794892,65cce351d74a9a637fdb2a9d5e0e63445dda9ea9,30,6,1,5756,,,0,"Use TCP keepalives for ovsdb connections

When failing over OVN DB servers from one server to another, the
server which originally hosted the VIP doesn't notice the connection
is gone and doesn't reconnect. Ultimately, this is something that
needs to be fixed in python-ovs, but setting the SO_KEEPALIVE socket
option avoids the issue. This also has the benefit that the client
doesn't need to send 'echo' requests, which can time out on an
overloaded ovsdb-server, which causes a disconnection which then
adds even more load on the ovsdb-server as it has to send the entire
db contents over the wire after the connection.

Closes-Bug: #1930926
Change-Id: Ie0205785cab307c132fbe409588739685cade7c0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/794892/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py'],1,65cce351d74a9a637fdb2a9d5e0e63445dda9ea9,bug/1930926,"import functools import socketfrom ovs import socket_util from ovs import streamdef add_keepalives(fn): @functools.wraps(fn) def _open(*args, **kwargs): error, sock = fn(*args, **kwargs) try: sock.setsockopt(socket.SOL_SOCKET, socket.SO_KEEPALIVE, 1) except socket.error as e: sock.close() return socket_util.get_exception_errno(e), None return error, sock return _open class NoProbesMixin: @staticmethod def needs_probes(): # If we are using keepalives, we can force probe_interval=0 return False class TCPStream(stream.TCPStream, NoProbesMixin): @classmethod @add_keepalives def _open(cls, suffix, dscp): return super()._open(suffix, dscp) class SSLStream(stream.SSLStream, NoProbesMixin): @classmethod @add_keepalives def _open(cls, suffix, dscp): return super()._open(suffix, dscp) # Overwriting globals in a library is clearly a good idea stream.Stream.register_method(""tcp"", TCPStream) stream.Stream.register_method(""ssl"", SSLStream) ",,43,0
openstack%2Fnova~master~I95df0f38900ba87e62d2d843036797d9c730f172,openstack/nova,master,I95df0f38900ba87e62d2d843036797d9c730f172,tox: Install mypy type stubs,ABANDONED,2021-06-09 13:46:05.000000000,2021-06-09 14:19:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-09 13:46:05.000000000', 'files': ['tools/mypywrap.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/4d1c6ea54d38e26f9852ee3ab08664af70a05474', 'message': ""tox: Install mypy type stubs\n\nA temporary workaround to unblock the gate while we wait for [1] or\nsimilar to merge. The implementation is gross, since the command is\ninteractive and there's no '--yes' option.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/795532\n\nChange-Id: I95df0f38900ba87e62d2d843036797d9c730f172\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,795544,4d1c6ea54d38e26f9852ee3ab08664af70a05474,4,1,1,15334,,,0,"tox: Install mypy type stubs

A temporary workaround to unblock the gate while we wait for [1] or
similar to merge. The implementation is gross, since the command is
interactive and there's no '--yes' option.

[1] https://review.opendev.org/c/openstack/requirements/+/795532

Change-Id: I95df0f38900ba87e62d2d843036797d9c730f172
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/795544/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/mypywrap.sh'],1,4d1c6ea54d38e26f9852ee3ab08664af70a05474,types-paramiko,# FIXME(stephenfin): Remove this once we get types-paramiko (and whatever else # we need) into upper-constraints yes | mypy --install-types ,,4,0
openstack%2Fneutron-tempest-plugin~master~I3c2f037180b35dbbd254d8b4ce69852d31391a9a,openstack/neutron-tempest-plugin,master,I3c2f037180b35dbbd254d8b4ce69852d31391a9a,Added test for reattached security groups,MERGED,2021-05-26 15:27:03.000000000,2021-06-09 14:16:34.000000000,2021-06-09 14:16:34.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 19118}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 29350}]","[{'number': 1, 'created': '2021-05-26 15:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2ffa332e762031b3b4ccc4488a5dad2a641aab69', 'message': ""Added test for reattached security groups\n\nWe had a bug for OSP13 with openvswitch firewall driver that the established\nconnection can't be resumed after the security group has been removed from\nthe port and than added back.\nThere are 2 new tests:\n- To make sure that the new connection can be initiated after security\ngroup has been re-attached to the server\n- To make sure that the existing connection can still be active after\nsecurity group has been re-attached\n\nIn order to keep the connection open there is a new StatefulConnection\nclass\n\nChange-Id: I3c2f037180b35dbbd254d8b4ce69852d31391a9a\n""}, {'number': 2, 'created': '2021-05-31 12:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/cb4ae7523d63b5c72b1c332d5e8f0ced60c4e594', 'message': ""Added test for reattached security groups\n\nWe had a bug for OSP13 with openvswitch firewall driver that the established\nconnection can't be resumed after the security group has been removed from\nthe port and than added back.\nThere are 2 new tests:\n- To make sure that the new connection can be initiated after security\ngroup has been re-attached to the server\n- To make sure that the existing connection can still be active after\nsecurity group has been re-attached\n\nIn order to keep the connection open there is a new StatefulConnection\nclass\n\nChange-Id: I3c2f037180b35dbbd254d8b4ce69852d31391a9a\n""}, {'number': 3, 'created': '2021-06-01 07:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3b1979451be63ccd64803d23429d84558cf54397', 'message': ""Added test for reattached security groups\n\nWe had a bug for OSP13 with openvswitch firewall driver that the established\nconnection can't be resumed after the security group has been removed from\nthe port and than added back. Need to test this behavior.\n\nIn order to keep the connection open there is a new StatefulConnection\nclass\n\nRelated-Bug: #1915530\nChange-Id: I3c2f037180b35dbbd254d8b4ce69852d31391a9a\n""}, {'number': 4, 'created': '2021-06-02 08:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/248fd03198f2497443cbb3ba6657f61157a2b8cf', 'message': ""Added test for reattached security groups\n\nWe had a bug for OSP13 with openvswitch firewall driver that the established\nconnection can't be resumed after the security group has been removed from\nthe port and than added back. Need to test this behavior.\n\nIn order to keep the connection open there is a new StatefulConnection\nclass\n\nRelated-Bug: #1915530\nChange-Id: I3c2f037180b35dbbd254d8b4ce69852d31391a9a\n""}, {'number': 5, 'created': '2021-06-09 07:17:26.000000000', 'files': ['neutron_tempest_plugin/common/utils.py', 'zuul.d/master_jobs.yaml', 'neutron_tempest_plugin/scenario/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/bd2bfd49d3b6bfb6f76a7507cab59b654f46e8a1', 'message': ""Added test for reattached security groups\n\nWe had a bug for OSP13 with openvswitch firewall driver that the established\nconnection can't be resumed after the security group has been removed from\nthe port and than added back. Need to test this behavior.\n\nIn order to keep the connection open there is a new StatefulConnection\nclass\n\nRelated-Bug: #1915530\nChange-Id: I3c2f037180b35dbbd254d8b4ce69852d31391a9a\n""}]",14,793196,bd2bfd49d3b6bfb6f76a7507cab59b654f46e8a1,23,6,5,31450,,,0,"Added test for reattached security groups

We had a bug for OSP13 with openvswitch firewall driver that the established
connection can't be resumed after the security group has been removed from
the port and than added back. Need to test this behavior.

In order to keep the connection open there is a new StatefulConnection
class

Related-Bug: #1915530
Change-Id: I3c2f037180b35dbbd254d8b4ce69852d31391a9a
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/96/793196/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/common/utils.py', 'neutron_tempest_plugin/scenario/test_security_groups.py']",2,2ffa332e762031b3b4ccc4488a5dad2a641aab69,," @decorators.idempotent_id('01f0ddca-b049-47eb-befd-82acb502c9ec') def test_new_tcp_session_after_re_attachinging_sg(self): """"""Test new connection can be started after sg has been re-attached"""""" ssh_sg = self.create_security_group(name='ssh-only-sg') self.create_loginable_secgroup_rule(secgroup_id=ssh_sg['id']) vm_ssh, fips, vms = self.create_vm_testing_sec_grp( security_groups=[{'name': ssh_sg['name']}]) sg = self.create_security_group(name='re-attached-sg') nc_rule = [{'protocol': constants.PROTO_NUM_TCP, 'direction': constants.INGRESS_DIRECTION, 'port_range_min': 6666, 'port_range_max': 6666}] self.create_secgroup_rules(nc_rule, secgroup_id=sg['id']) srv_port = self.client.list_ports(network_id=self.network['id'], device_id=vms[1]['server']['id'])['ports'][0] srv_ip = srv_port['fixed_ips'][0]['ip_address'] self.client.update_port(srv_port['id'], security_groups=[ssh_sg['id'], sg['id']]) self._verify_http_connection(vm_ssh[0], vm_ssh[1], srv_ip, 6666, []) self.client.update_port(srv_port['id'], security_groups=[ssh_sg['id']]) # TODO: # Need to remove `time` from here. But for now I don't know how to do # it better. Without delay the next connection is passed # START BLOCK import time time.sleep(5) # END BLOCK self._verify_http_connection( vm_ssh[0], vm_ssh[1], srv_ip, 6666, [], should_pass=False) self.client.update_port(srv_port['id'], security_groups=[ssh_sg['id'], sg['id']]) self._verify_http_connection(vm_ssh[0], vm_ssh[1], srv_ip, 6666, []) @decorators.idempotent_id('41a263f3-db8d-4acd-a54c-a3bc640146f0') def test_established_tcp_session_after_re_attachinging_sg(self): """"""Test existing connection remain open after sg has been re-attached Verifies that new packets can pass over the existing connection when the security group has been removed from the server and than added back """""" ssh_sg = self.create_security_group(name='ssh-only-sg') self.create_loginable_secgroup_rule(secgroup_id=ssh_sg['id']) vm_ssh, fips, vms = self.create_vm_testing_sec_grp( security_groups=[{'name': ssh_sg['name']}]) sg = self.create_security_group(name='re-attached-sg') nc_rule = [{'protocol': constants.PROTO_NUM_TCP, 'direction': constants.INGRESS_DIRECTION, 'port_range_min': 6666, 'port_range_max': 6666}] self.create_secgroup_rules(nc_rule, secgroup_id=sg['id']) srv_port = self.client.list_ports(network_id=self.network['id'], device_id=vms[1]['server']['id'])['ports'][0] srv_ip = srv_port['fixed_ips'][0]['ip_address'] self.client.update_port(srv_port['id'], security_groups=[ssh_sg['id'], sg['id']]) with utils.StatefulConnection( vm_ssh[0], vm_ssh[1], srv_ip, 6666) as con: con.test_connection() self.client.update_port(srv_port['id'], security_groups=[ssh_sg['id']]) # TODO: # Need to remove `time` from here. But for now I don't know how to # do it better. Without delay the next connection is passed # START BLOCK import time time.sleep(1) # END BLOCK con.test_connection(should_pass=False) self.client.update_port(srv_port['id'], security_groups=[ssh_sg['id'], sg['id']]) con.test_connection() ",,141,0
openstack%2Fmonasca-agent~master~I4d6801b2d162b2acd00d0cf07aee109ebe652718,openstack/monasca-agent,master,I4d6801b2d162b2acd00d0cf07aee109ebe652718,Fix typo in log message,MERGED,2021-05-20 13:30:00.000000000,2021-06-09 14:13:41.000000000,2021-06-09 14:13:41.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-05-20 13:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/34d95af754718f98aa74215a206d5f97e0e5eb19', 'message': 'Fix typo in log message\n\nChange-Id: I4d6801b2d162b2acd00d0cf07aee109ebe652718\n'}, {'number': 2, 'created': '2021-06-09 09:49:31.000000000', 'files': ['monasca_agent/collector/daemon.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/478a438654a011b88b529a7f91e3be0b919e76ed', 'message': 'Fix typo in log message\n\nChange-Id: I4d6801b2d162b2acd00d0cf07aee109ebe652718\n'}]",0,792379,478a438654a011b88b529a7f91e3be0b919e76ed,13,2,2,15197,,,0,"Fix typo in log message

Change-Id: I4d6801b2d162b2acd00d0cf07aee109ebe652718
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/79/792379/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_agent/collector/daemon.py'],1,34d95af754718f98aa74215a206d5f97e0e5eb19,typo-fix, log.info('Starting an auto restart'), log.info('Startng an auto restart'),1,1
openstack%2Foslo.config~stable%2Fvictoria~I70ab87c9bed093cad883b6301b8a09753fc470d9,openstack/oslo.config,stable/victoria,I70ab87c9bed093cad883b6301b8a09753fc470d9,config-generator yaml format doesn't work with i18n fields,MERGED,2021-06-04 17:26:57.000000000,2021-06-09 14:10:46.000000000,2021-06-09 14:09:25.000000000,"[{'_account_id': 4257}, {'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 11491}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-04 17:26:57.000000000', 'files': ['oslo_config/generator.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/0950f82ec59e1b4a2af66b5c5940a651a5cb574f', 'message': ""config-generator yaml format doesn't work with i18n fields\n\nThis is because there's no yaml representer for i18n Messages object.\nThis patch aims to add this representer and allow the generation of\nconfigurations using oslo.i18n strings.\n\nOne example of this is cinder.\n\nCloses-bug: #1928582\nChange-Id: I70ab87c9bed093cad883b6301b8a09753fc470d9\n(cherry picked from commit e5fc313ecf47813364a2111b987ced823c0d64e3)\n(cherry picked from commit de1dbeed235d2df7cf1528aef6ad4a70ddf8559f)\n""}]",0,794815,0950f82ec59e1b4a2af66b5c5940a651a5cb574f,10,10,1,27419,,,0,"config-generator yaml format doesn't work with i18n fields

This is because there's no yaml representer for i18n Messages object.
This patch aims to add this representer and allow the generation of
configurations using oslo.i18n strings.

One example of this is cinder.

Closes-bug: #1928582
Change-Id: I70ab87c9bed093cad883b6301b8a09753fc470d9
(cherry picked from commit e5fc313ecf47813364a2111b987ced823c0d64e3)
(cherry picked from commit de1dbeed235d2df7cf1528aef6ad4a70ddf8559f)
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/15/794815/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/generator.py'],1,0950f82ec59e1b4a2af66b5c5940a651a5cb574f,automated_config_validation,"from oslo_i18n import _messagedef i18n_representer(dumper, data): """"""oslo_i18n yaml representer Returns a translated to the default locale string for yaml.safe_dump :param dumper: a SafeDumper instance passed by yaml.safe_dump :param data: a oslo_i18n._message.Message instance """""" serializedData = str(data.translation()) return dumper.represent_str(serializedData) yaml.SafeDumper.add_representer(_message.Message, i18n_representer)",,14,0
openstack%2Fkayobe~master~I4b4a8d1c848bb992f65860b058cb9fd9d77613d0,openstack/kayobe,master,I4b4a8d1c848bb992f65860b058cb9fd9d77613d0,docs: add variable for current branch,MERGED,2021-04-29 09:38:40.000000000,2021-06-09 14:10:05.000000000,2021-06-09 14:06:45.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28295}]","[{'number': 1, 'created': '2021-04-29 09:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e830e0702308070b92919135121f2b1d06c4f818', 'message': 'WIP: docs: add variables for release name\n\nAdapted from OpenStack Ansible documentation.\n\nChange-Id: I4b4a8d1c848bb992f65860b058cb9fd9d77613d0\n'}, {'number': 2, 'created': '2021-04-30 07:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9e883cd524ecaa2fe716a6766b4a5a3e60dfcff4', 'message': 'docs: add variable for current branch\n\nThis allows us to include the correct branch when cloning repositories\nin documentation.\n\nMethod adapted from OpenStack Ansible documentation.\n\nhttps://opendev.org/openstack/openstack-ansible/src/branch/master/doc/source/conf.py\n\nStory: 2008851\nTask: 42366\nChange-Id: I4b4a8d1c848bb992f65860b058cb9fd9d77613d0\n'}, {'number': 3, 'created': '2021-05-03 09:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e7f4302e5165a176c83064ea95dc4df3ccc71959', 'message': 'docs: add variable for current branch\n\nThis allows us to include the correct branch when cloning repositories\nin documentation.\n\nMethod adapted from OpenStack Ansible documentation. A backslash is\nadded on purpose before repository URLs to bypass highlighting which\nmakes them less readable (dark text on dark background).\n\nhttps://opendev.org/openstack/openstack-ansible/src/branch/master/doc/source/conf.py\n\nStory: 2008851\nTask: 42366\nChange-Id: I4b4a8d1c848bb992f65860b058cb9fd9d77613d0\n'}, {'number': 4, 'created': '2021-06-09 12:01:49.000000000', 'files': ['doc/source/contributor/testing.rst', 'doc/source/contributor/automated.rst', 'doc/source/contributor/vagrant.rst', 'doc/source/conf.py', 'doc/source/configuration/scenarios/all-in-one/overcloud.rst', 'doc/source/installation.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c9cc6f4064ab2f1edeb15f86bd9db5d65e88c4df', 'message': 'docs: add variable for current branch\n\nThis allows us to include the correct branch when cloning repositories\nin documentation.\n\nMethod adapted from OpenStack Ansible documentation. A backslash is\nadded on purpose before repository URLs to bypass highlighting which\nmakes them less readable (dark text on dark background).\n\nhttps://opendev.org/openstack/openstack-ansible/src/branch/master/doc/source/conf.py\n\nStory: 2008851\nTask: 42366\nChange-Id: I4b4a8d1c848bb992f65860b058cb9fd9d77613d0\n'}]",0,788702,c9cc6f4064ab2f1edeb15f86bd9db5d65e88c4df,19,5,4,14826,,,0,"docs: add variable for current branch

This allows us to include the correct branch when cloning repositories
in documentation.

Method adapted from OpenStack Ansible documentation. A backslash is
added on purpose before repository URLs to bypass highlighting which
makes them less readable (dark text on dark background).

https://opendev.org/openstack/openstack-ansible/src/branch/master/doc/source/conf.py

Story: 2008851
Task: 42366
Change-Id: I4b4a8d1c848bb992f65860b058cb9fd9d77613d0
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/02/788702/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/automated.rst', 'doc/source/conf.py']",2,e830e0702308070b92919135121f2b1d06c4f818,branch-variable,"import openstackdocstheme # -- Kayobe configuration -------------------------------------- # Variables to override previous_series_name = 'victoria' current_series_name = 'wallaby' # Smart variable replacements with what we can. The openstackdocstheme has # no stable interface though. This works with 1.20. current_series = openstackdocstheme.ext._get_series_name() if current_series == ""latest"": latest_tag = ""master"" branch = ""master"" upgrade_warning = (""Upgrading to master is not recommended. "" ""Master is under heavy development, and is not stable."") else: series_names = current_series.capitalize() latest_tag = subprocess.check_output([""git"", ""describe"", ""--abbrev=0"", ""--tag""]).strip().decode() branch = ""stable/{}"".format(current_series) upgrade_warning = ""The upgrade is always under active development."" # Substitutions loader rst_epilog = """""" .. |current_release_git_branch_name| replace:: {current_release_git_branch_name} .. |previous_series_name| replace:: {previous_series_name} .. |previous_release_formal_name| replace:: {previous_release_formal_name} .. |current_release_formal_name| replace:: {current_release_formal_name} .. |latest_tag| replace:: {latest_tag} .. |upgrade_warning| replace:: {upgrade_warning} """""".format( # noqa: E501 current_release_git_branch_name=branch, previous_series_name=previous_series_name, previous_release_formal_name=previous_series_name.capitalize(), current_release_formal_name=current_series_name.capitalize(), latest_tag=latest_tag, upgrade_warning=upgrade_warning, ) ",,46,2
openstack%2Fkayobe~master~Id7378dd844aca7cb5634535308eba0f60342c81d,openstack/kayobe,master,Id7378dd844aca7cb5634535308eba0f60342c81d,CI: test base container image build in seed jobs,MERGED,2021-06-03 14:35:23.000000000,2021-06-09 14:09:00.000000000,2021-06-09 14:06:05.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-03 14:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/318b9d54d8c63b790858997356aaba421be2cc1e', 'message': 'CI: test base container image build in seed jobs\n\nCurrently we do not have any coverage of building container images. This\nchange adds a basic test of building the base image to the seed jobs.\n\nA potential future enhancement could involve pushing to a local registry\nrunning on the seed.\n\nChange-Id: Id7378dd844aca7cb5634535308eba0f60342c81d\n'}, {'number': 2, 'created': '2021-06-07 08:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d7e65cb53f2cb8f92499ad308c82b2b6d9a37ab8', 'message': 'CI: test base container image build in seed jobs\n\nCurrently we do not have any coverage of building container images. This\nchange adds a basic test of building the base image to the seed jobs.\n\nA potential future enhancement could involve pushing to a local registry\nrunning on the seed.\n\nChange-Id: Id7378dd844aca7cb5634535308eba0f60342c81d\n'}, {'number': 3, 'created': '2021-06-07 09:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b744595432711a46e06ab401d591f37022016226', 'message': 'CI: test base container image build in seed jobs\n\nCurrently we do not have any coverage of building container images. This\nchange adds a basic test of building the base image to the seed jobs.\n\nA potential future enhancement could involve pushing to a local registry\nrunning on the seed.\n\nChange-Id: Id7378dd844aca7cb5634535308eba0f60342c81d\n'}, {'number': 4, 'created': '2021-06-07 13:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/27923738ed7a1ed4a841ebdd425d67f9ef056b22', 'message': 'CI: test base container image build in seed jobs\n\nCurrently we do not have any coverage of building container images. This\nchange adds a basic test of building the base image to the seed jobs.\n\nA potential future enhancement could involve pushing to a local registry\nrunning on the seed.\n\nChange-Id: Id7378dd844aca7cb5634535308eba0f60342c81d\n'}, {'number': 5, 'created': '2021-06-07 15:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bc5ed3b04529d096d82972ed262ccf8306821eca', 'message': 'CI: test base container image build in seed jobs\n\nCurrently we do not have any coverage of building container images. This\nchange adds a basic test of building the base image to the seed jobs.\n\nA potential future enhancement could involve pushing to a local registry\nrunning on the seed.\n\nChange-Id: Id7378dd844aca7cb5634535308eba0f60342c81d\n'}, {'number': 6, 'created': '2021-06-07 16:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/06f779de24dc47125271613685ea1c8a49ff83ff', 'message': 'CI: test base container image build in seed jobs\n\nCurrently we do not have any coverage of building container images. This\nchange adds a basic test of building the base image to the seed jobs.\n\nA potential future enhancement could involve pushing to a local registry\nrunning on the seed.\n\nChange-Id: Id7378dd844aca7cb5634535308eba0f60342c81d\n'}, {'number': 7, 'created': '2021-06-08 08:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5493e2305806ae82766d6688e144fd9d88a72bc8', 'message': 'CI: test base container image build in seed jobs\n\nCurrently we do not have any coverage of building container images. This\nchange adds a basic test of building the base image to the seed jobs.\n\nA potential future enhancement could involve pushing to a local registry\nrunning on the seed.\n\nChange-Id: Id7378dd844aca7cb5634535308eba0f60342c81d\n'}, {'number': 8, 'created': '2021-06-08 08:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1eba438602673ea562a0a71945062902d980b862', 'message': 'CI: test base container image build in seed jobs\n\nCurrently we do not have any coverage of building container images. This\nchange adds a basic test of building the base image to the seed jobs.\n\nA potential future enhancement could involve pushing to a local registry\nrunning on the seed.\n\nChange-Id: Id7378dd844aca7cb5634535308eba0f60342c81d\n'}, {'number': 9, 'created': '2021-06-08 12:47:37.000000000', 'files': ['playbooks/kayobe-seed-base/run.yml', 'playbooks/kayobe-seed-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c6c1cde3f9cf8bb232071b78ab89c79a0c7689b8', 'message': 'CI: test base container image build in seed jobs\n\nCurrently we do not have any coverage of building container images. This\nchange adds a basic test of building the base image to the seed jobs.\n\nA potential future enhancement could involve pushing to a local registry\nrunning on the seed.\n\nChange-Id: Id7378dd844aca7cb5634535308eba0f60342c81d\n'}]",0,794601,c6c1cde3f9cf8bb232071b78ab89c79a0c7689b8,26,3,9,14826,,,0,"CI: test base container image build in seed jobs

Currently we do not have any coverage of building container images. This
change adds a basic test of building the base image to the seed jobs.

A potential future enhancement could involve pushing to a local registry
running on the seed.

Change-Id: Id7378dd844aca7cb5634535308eba0f60342c81d
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/01/794601/6 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-seed-base/run.yml', 'zuul.d/project.yaml']",2,318b9d54d8c63b790858997356aaba421be2cc1e,,, templates: - openstack-cover-jobs - openstack-python3-xena-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - kayobe-tox-ansible-syntax - kayobe-tox-ansible - kayobe-tox-molecule - kayobe-overcloud-centos8s - kayobe-overcloud-ubuntu-focal - kayobe-overcloud-tls-centos8s - kayobe-overcloud-host-configure-centos8s - kayobe-overcloud-host-configure-ubuntu-focal - kayobe-overcloud-upgrade-centos8s - kayobe-seed-upgrade-centos8s - kayobe-seed-vm-centos8s - kayobe-seed-vm-ubuntu-focal,7,17
openstack%2Fkayobe~master~Ic9edcf8168355eaf3ea9aff14947666d0ed46c97,openstack/kayobe,master,Ic9edcf8168355eaf3ea9aff14947666d0ed46c97,docs: Stop setting os_distribution in development all-in-one,MERGED,2021-05-19 11:01:44.000000000,2021-06-09 14:06:22.000000000,2021-06-09 14:06:22.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-05-19 11:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/013db467b3042441db8e2e91ad1fd0cadebb7d23', 'message': 'docs: Stop setting os_distribution in development all-in-one\n\nkayobe-config-dev now sets os_distribution automatically.\n\nChange-Id: Ic9edcf8168355eaf3ea9aff14947666d0ed46c97\n'}, {'number': 2, 'created': '2021-06-09 12:04:56.000000000', 'files': ['doc/source/contributor/automated.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/034d4360953eb4068155745cea23fbf9dcae8fe1', 'message': 'docs: Stop setting os_distribution in development all-in-one\n\nkayobe-config-dev now sets os_distribution automatically.\n\nChange-Id: Ic9edcf8168355eaf3ea9aff14947666d0ed46c97\n'}]",0,792125,034d4360953eb4068155745cea23fbf9dcae8fe1,11,4,2,14826,,,0,"docs: Stop setting os_distribution in development all-in-one

kayobe-config-dev now sets os_distribution automatically.

Change-Id: Ic9edcf8168355eaf3ea9aff14947666d0ed46c97
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/25/792125/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/automated.rst'],1,013db467b3042441db8e2e91ad1fd0cadebb7d23,os-distribution,,"If using Ubuntu, configure the OS distribution:: sed -i -e 's/#os_distribution:/os_distribution: ubuntu/' config/src/kayobe-config/etc/kayobe/globals.yml If using Ubuntu, configure the OS distribution:: sed -i -e 's/#os_distribution:/os_distribution: ubuntu/' config/src/kayobe-config/etc/kayobe/globals.yml If using Ubuntu, configure the OS distribution:: sed -i -e 's/#os_distribution:/os_distribution: ubuntu/' config/src/kayobe-config/etc/kayobe/globals.yml ",0,12
openstack%2Freleases~master~I41d25d27e5c61ec64ed4335b7332e43362f6c03b,openstack/releases,master,I41d25d27e5c61ec64ed4335b7332e43362f6c03b,New neutronclient release,MERGED,2021-06-07 11:37:35.000000000,2021-06-09 13:31:14.000000000,2021-06-09 13:31:14.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-07 11:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9cc05e64a3808d81c49b5b781d32253668ab0323', 'message': 'New neutronclient release\n\nNew version has only one change but it is change of the message about deprecation of\nthe neutronclient. We now set that it will be removed in the Xena+2\ncycle finally as we have feature parity with the OSC now.\nBecause of that it is feature version bump.\n\nChange-Id: I41d25d27e5c61ec64ed4335b7332e43362f6c03b\n'}, {'number': 2, 'created': '2021-06-09 07:31:50.000000000', 'files': ['deliverables/xena/python-neutronclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/34d8b41a86660cff090a77e581392cf39057000b', 'message': 'New neutronclient release\n\nNew version has only one change but it is change of the message about deprecation of\nthe neutronclient. We now set that it will be removed in the Xena+2\ncycle finally as we have feature parity with the OSC now.\nBecause of that it is feature version bump.\n\nChange-Id: I41d25d27e5c61ec64ed4335b7332e43362f6c03b\n'}]",0,795087,34d8b41a86660cff090a77e581392cf39057000b,17,6,2,11975,,,0,"New neutronclient release

New version has only one change but it is change of the message about deprecation of
the neutronclient. We now set that it will be removed in the Xena+2
cycle finally as we have feature parity with the OSC now.
Because of that it is feature version bump.

Change-Id: I41d25d27e5c61ec64ed4335b7332e43362f6c03b
",git fetch https://review.opendev.org/openstack/releases refs/changes/87/795087/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/python-neutronclient.yaml'],1,9cc05e64a3808d81c49b5b781d32253668ab0323,neutron-osc-migration, - version: 7.5.0 projects: - repo: openstack/python-neutronclient hash: 76dd26f9fdd35bf922509e587e25a30927517808,,4,0
openstack%2Fcharm-mysql-innodb-cluster~master~I59b305e87676239faf521d8990e1f304f5476094,openstack/charm-mysql-innodb-cluster,master,I59b305e87676239faf521d8990e1f304f5476094,clustering: support L3 and public networking topologies,ABANDONED,2021-06-09 12:51:23.000000000,2021-06-09 13:04:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-09 12:51:23.000000000', 'files': ['src/templates/mysqld.cnf', 'src/lib/charm/openstack/mysql_innodb_cluster.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/6eba4c2a2be0c1ef22cddb553d292f6d37563d86', 'message': 'clustering: support L3 and public networking topologies\n\nGenerate the group_replication_ip_allowlist using the addresses\npresented by peer units across the mysql-innodb-cluster peer\nrelation, ensuring that this charm can be used in both L3\nrouted network topologies and in deployments where units\nare using public network addresses.\n\nCloses-Bug: 1926460\nCloses-Bug: 1886934\nChange-Id: I59b305e87676239faf521d8990e1f304f5476094\n'}]",1,795535,6eba4c2a2be0c1ef22cddb553d292f6d37563d86,4,1,1,935,,,0,"clustering: support L3 and public networking topologies

Generate the group_replication_ip_allowlist using the addresses
presented by peer units across the mysql-innodb-cluster peer
relation, ensuring that this charm can be used in both L3
routed network topologies and in deployments where units
are using public network addresses.

Closes-Bug: 1926460
Closes-Bug: 1886934
Change-Id: I59b305e87676239faf521d8990e1f304f5476094
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/35/795535/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/mysqld.cnf', 'src/lib/charm/openstack/mysql_innodb_cluster.py']",2,6eba4c2a2be0c1ef22cddb553d292f6d37563d86,bug/1926460,"def cluster_peer_addresses(cls): """"""Determine this unit's cluster peer addresses. :param cls: Class :type cls: ConfigurationAdapter class :returns: Addresses (comma delimited) :rtype: str """""" ep = reactive.endpoint_from_flag(""cluster.available"") return "","".join( [unit.received[""cluster-address""] for unit in ep.all_joined_units if unit.received[""cluster-address""]] ) @charms_openstack.adapters.config_property",,21,0
openstack%2Fpuppet-openstack-integration~master~If9b13b63d009440e87a9f5ab671d8c1f9159ca6c,openstack/puppet-openstack-integration,master,If9b13b63d009440e87a9f5ab671d8c1f9159ca6c,Remove dependency on puppet-panko,MERGED,2021-05-18 10:39:10.000000000,2021-06-09 12:48:28.000000000,2021-06-09 12:48:28.000000000,"[{'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 10:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3cd012f501b4600ce9d873db1b7b7e8bf619893b', 'message': 'Remove dependency on puppet-panko\n\n... because puppet-panko is being retired.\n\nDepends-on: https://review.opendev.org/791916\nChange-Id: If9b13b63d009440e87a9f5ab671d8c1f9159ca6c\n'}, {'number': 2, 'created': '2021-06-02 07:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4c80fd85ada7ac35aedcd37bb91ea654af0e0068', 'message': 'Remove dependency on puppet-panko\n\n... because puppet-panko is being retired.\n\nDepends-on: https://review.opendev.org/791916\nDepends-on: https://review.opendev.org/794151\nChange-Id: If9b13b63d009440e87a9f5ab671d8c1f9159ca6c\n'}, {'number': 3, 'created': '2021-06-04 11:33:21.000000000', 'files': ['openstack_modules.txt', 'manifests/ceilometer.pp', 'Puppetfile', 'fixtures/scenario001.pp', 'manifests/panko.pp', 'manifests/tempest.pp', 'zuul.d/base.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b5656defa1c755799f634cffd4019254d6bfa689', 'message': 'Remove dependency on puppet-panko\n\n... because puppet-panko is being retired.\n\nDepends-on: https://review.opendev.org/791916\nDepends-on: https://review.opendev.org/794151\nChange-Id: If9b13b63d009440e87a9f5ab671d8c1f9159ca6c\n'}]",0,791917,b5656defa1c755799f634cffd4019254d6bfa689,22,7,3,9816,,,0,"Remove dependency on puppet-panko

... because puppet-panko is being retired.

Depends-on: https://review.opendev.org/791916
Depends-on: https://review.opendev.org/794151
Change-Id: If9b13b63d009440e87a9f5ab671d8c1f9159ca6c
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/17/791917/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_modules.txt', 'Puppetfile', 'manifests/ceilometer.pp', 'fixtures/scenario001.pp', 'manifests/panko.pp', 'manifests/tempest.pp', 'zuul.d/base.yaml', 'README.md']",8,3cd012f501b4600ce9d873db1b7b7e8bf619893b,retire_panko,,| panko | | X | | | | |,2,83
openstack%2Foslo.db~master~Ic78059b625e73cece355541cb4d89e641abc1103,openstack/oslo.db,master,Ic78059b625e73cece355541cb4d89e641abc1103,Added handler for mysql 8.0.19 duplicate key error update,MERGED,2021-05-19 10:57:35.000000000,2021-06-09 12:40:31.000000000,2021-06-08 13:19:42.000000000,"[{'_account_id': 11816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-19 10:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/969175fae76c2b9f9b61804ed7e9f8eb23de517e', 'message': 'Added handler for mysql 8.0.19 duplicate key error update\n\nChange-Id: Ic78059b625e73cece355541cb4d89e641abc1103\n'}, {'number': 2, 'created': '2021-05-24 10:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/31d46f8e9565a20b4427bfe010df7913ef9fb298', 'message': 'Added handler for mysql 8.0.19 duplicate key error update\n\nChange-Id: Ic78059b625e73cece355541cb4d89e641abc1103\n'}, {'number': 3, 'created': '2021-05-25 05:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/4c48789abc0e51a2b383ab8b435ad98e51c35d67', 'message': 'Added handler for mysql 8.0.19 duplicate key error update\n\nChange-Id: Ic78059b625e73cece355541cb4d89e641abc1103\n'}, {'number': 4, 'created': '2021-05-25 10:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/fe7fed67f822e471d399df77879c91f84f604752', 'message': 'Added handler for mysql 8.0.19 duplicate key error update\n\nChange-Id: Ic78059b625e73cece355541cb4d89e641abc1103\n'}, {'number': 5, 'created': '2021-05-28 13:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/b32961be7d75b6ebf15fcc5f7d7e6b3fb411093e', 'message': 'Added handler for mysql 8.0.19 duplicate key error update\n\nIn mysql 8.0.19 , Duplicate key error information is extended to\ninclude the table name of the key.Previously, duplicate key error\ninformation included only the key value and key name.\n\nChange-Id: Ic78059b625e73cece355541cb4d89e641abc1103\nCloses-Bug: #1896916\n'}, {'number': 6, 'created': '2021-06-04 07:13:15.000000000', 'files': ['oslo_db/sqlalchemy/exc_filters.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/2c2e6d48ace2d91dce94d2e62fb0bdda904bc2bd', 'message': 'Added handler for mysql 8.0.19 duplicate key error update\n\nIn mysql 8.0.19 , Duplicate key error information is extended to\ninclude the table name of the key.Previously, duplicate key error\ninformation included only the key value and key name.\n\nUnit tests are provided for updated changes.\n\nChange-Id: Ic78059b625e73cece355541cb4d89e641abc1103\nCloses-Bug: #1896916\n'}]",9,792124,2c2e6d48ace2d91dce94d2e62fb0bdda904bc2bd,34,6,6,33244,,,0,"Added handler for mysql 8.0.19 duplicate key error update

In mysql 8.0.19 , Duplicate key error information is extended to
include the table name of the key.Previously, duplicate key error
information included only the key value and key name.

Unit tests are provided for updated changes.

Change-Id: Ic78059b625e73cece355541cb4d89e641abc1103
Closes-Bug: #1896916
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/24/792124/5 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/sqlalchemy/exc_filters.py'],1,969175fae76c2b9f9b61804ed7e9f8eb23de517e,handle_duplicate_mysql_key_error," elif engine_name == ""mysql"": columns = columns.split(""0"")[1:]",,2,0
openstack%2Fglance_store~master~Ib9f7b9976382535aea946912b0e8b0ab32189b21,openstack/glance_store,master,Ib9f7b9976382535aea946912b0e8b0ab32189b21,remove bandit from testing,MERGED,2018-08-16 19:00:22.000000000,2021-06-09 12:34:06.000000000,2019-05-10 17:07:23.000000000,"[{'_account_id': 5314}, {'_account_id': 6547}, {'_account_id': 8122}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27882}]","[{'number': 1, 'created': '2018-08-16 19:00:22.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/0b23b4f229344827db39edecb2518705d7a47ffe', 'message': 'remove bandit from testing\n\nChange-Id: Ib9f7b9976382535aea946912b0e8b0ab32189b21\n'}]",0,592653,0b23b4f229344827db39edecb2518705d7a47ffe,11,6,1,5202,,,0,"remove bandit from testing

Change-Id: Ib9f7b9976382535aea946912b0e8b0ab32189b21
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/53/592653/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,0b23b4f229344827db39edecb2518705d7a47ffe,remove_bandit,," # The following bandit tests are being skipped: # B101 - Use of assert detected. # B110 - Try, Except, Pass detected. # B303 - Use of insecure MD2, MD4, or MD5 hash function. bandit -r glance_store -x tests --skip B101,B110,B303[testenv:bandit] basepython = python3 # NOTE(browne): This is required for the integration test job of the bandit # project. Please do not remove. # The following bandit tests are being skipped: # B101 - Use of assert detected. # B110 - Try, Except, Pass detected. # B303 - Use of insecure MD2, MD4, or MD5 hash function. commands = bandit -r glance_store -x tests --skip B101,B110,B303 ",0,17
openstack%2Ftaskflow~master~I47faea9b3c0324d3860a5209d521bc76de03bc47,openstack/taskflow,master,I47faea9b3c0324d3860a5209d521bc76de03bc47,Updating for OFTC IRC network,MERGED,2021-06-01 15:36:08.000000000,2021-06-09 12:32:05.000000000,2021-06-09 12:30:23.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-01 15:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/7cac880d8e1524b3a7db24f4da1b05a901a515e9', 'message': 'Updating for OFTC IRC network\n\nChange-Id: I47faea9b3c0324d3860a5209d521bc76de03bc47\n'}, {'number': 2, 'created': '2021-06-07 20:43:12.000000000', 'files': ['CONTRIBUTING.rst', 'doc/source/user/index.rst'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/9e3ba872d007c8e1c85ff11c933f7e508aca7f67', 'message': 'Updating for OFTC IRC network\n\nChange-Id: I47faea9b3c0324d3860a5209d521bc76de03bc47\n'}]",2,793992,9e3ba872d007c8e1c85ff11c933f7e508aca7f67,12,3,2,11628,,,0,"Updating for OFTC IRC network

Change-Id: I47faea9b3c0324d3860a5209d521bc76de03bc47
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/92/793992/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/index.rst'],1,7cac880d8e1524b3a7db24f4da1b05a901a515e9,,.. _IRC: irc://irc.oftc.net/openstack-state-management,.. _IRC: irc://chat.freenode.net/openstack-state-management,1,1
openstack%2Fneutron~master~I849d777903b10a809947f0564205deb73e668c3c,openstack/neutron,master,I849d777903b10a809947f0564205deb73e668c3c,Bump lower version of evenlet to 0.25.1,MERGED,2021-06-07 10:10:53.000000000,2021-06-09 11:53:14.000000000,2021-06-09 11:51:27.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 10:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/48dcbbb8798b66757f81fda71d9a8ab078d24ee1', 'message': 'Bump lower version of evenlet to 0.25.1\n\nThat fixes the lower-constraints job with pyroute >=0.6.4.\n\nChange-Id: I849d777903b10a809947f0564205deb73e668c3c\nCloses-Bug: #1931098\n'}, {'number': 2, 'created': '2021-06-07 10:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0932a7c2a379a2d5321c07feaa60d5a1eaf463eb', 'message': 'Bump lower version of evenlet to 0.25.1\n\nThat fixes the lower-constraints job with pyroute >=0.6.2.\n\nChange-Id: I849d777903b10a809947f0564205deb73e668c3c\nCloses-Bug: #1931098\n'}, {'number': 3, 'created': '2021-06-07 12:38:47.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6afdff8494422744549c74a948d1190e760c2fbf', 'message': 'Bump lower version of evenlet to 0.25.1\n\nThat fixes the lower-constraints job with pyroute >=0.6.2.\n\nChange-Id: I849d777903b10a809947f0564205deb73e668c3c\nCloses-Bug: #1931098\n'}]",0,795082,6afdff8494422744549c74a948d1190e760c2fbf,24,3,3,16688,,,0,"Bump lower version of evenlet to 0.25.1

That fixes the lower-constraints job with pyroute >=0.6.2.

Change-Id: I849d777903b10a809947f0564205deb73e668c3c
Closes-Bug: #1931098
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/795082/2 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,48dcbbb8798b66757f81fda71d9a8ab078d24ee1,bug/1931098,eventlet==0.25.1,eventlet==0.22.1,1,1
openstack%2Fneutron~master~I996bf01765372a73069e5c565d98053b952f7121,openstack/neutron,master,I996bf01765372a73069e5c565d98053b952f7121,Add neutron-tempest-with-neutron-lib-master to the periodic queue,MERGED,2021-04-21 09:03:21.000000000,2021-06-09 11:43:25.000000000,2021-06-09 11:39:06.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-21 09:03:21.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/02a6ddaa8682eafa342dd9bbb7d7ec34d2af6de6', 'message': 'Add neutron-tempest-with-neutron-lib-master to the periodic queue\n\nIt will be useful to see tempest job with neutron-lib from master branch\nto be sure that we will not break our gate once new neutron-lib release\nwill be made.\n\nChange-Id: I996bf01765372a73069e5c565d98053b952f7121\n'}]",1,787329,02a6ddaa8682eafa342dd9bbb7d7ec34d2af6de6,10,3,1,11975,,,0,"Add neutron-tempest-with-neutron-lib-master to the periodic queue

It will be useful to see tempest job with neutron-lib from master branch
to be sure that we will not break our gate once new neutron-lib release
will be made.

Change-Id: I996bf01765372a73069e5c565d98053b952f7121
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/787329/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,02a6ddaa8682eafa342dd9bbb7d7ec34d2af6de6,improve-neutron-ci, - neutron-tempest-with-neutron-lib-master,,1,0
openstack%2Fneutron~stable%2Fstein~I5d6c72c271ff450d9e43b3e33a99dd59d727882d,openstack/neutron,stable/stein,I5d6c72c271ff450d9e43b3e33a99dd59d727882d,[DVR] Send allowed address pairs info to the L3 agents,MERGED,2021-05-24 09:14:55.000000000,2021-06-09 11:42:48.000000000,2021-06-09 11:39:44.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-24 09:14:55.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8e38d67b23cc061c41dee52b837abc57dcb237a', 'message': ""[DVR] Send allowed address pairs info to the L3 agents\n\nWhen new dvr router is going to be created on the node, L3 agent\nasks server for list of ports plugged to the subnets, to populate\narp entries for all fixed IPs from those ports.\nThere was missing info about allowed address pairs there, so those\nIPs were not populated in the qrouter namespace.\nNow it's added and L3 agent can add those arp entries to the qrouter\nnamespaces too.\n\nConflicts:\n    neutron/agent/l3/dvr_local_router.py\n    neutron/objects/port/extensions/allowedaddresspairs.py\n    neutron/tests/unit/db/test_l3_dvr_db.py\n\nCloses-Bug: #1928466\nChange-Id: I5d6c72c271ff450d9e43b3e33a99dd59d727882d\n(cherry picked from commit 7b59b5069b1402730602b430416a15b1609253ea)\n""}]",0,792792,e8e38d67b23cc061c41dee52b837abc57dcb237a,22,3,1,11975,,,0,"[DVR] Send allowed address pairs info to the L3 agents

When new dvr router is going to be created on the node, L3 agent
asks server for list of ports plugged to the subnets, to populate
arp entries for all fixed IPs from those ports.
There was missing info about allowed address pairs there, so those
IPs were not populated in the qrouter namespace.
Now it's added and L3 agent can add those arp entries to the qrouter
namespaces too.

Conflicts:
    neutron/agent/l3/dvr_local_router.py
    neutron/objects/port/extensions/allowedaddresspairs.py
    neutron/tests/unit/db/test_l3_dvr_db.py

Closes-Bug: #1928466
Change-Id: I5d6c72c271ff450d9e43b3e33a99dd59d727882d
(cherry picked from commit 7b59b5069b1402730602b430416a15b1609253ea)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/792792/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py']",7,e8e38d67b23cc061c41dee52b837abc57dcb237a,bug/1928466-stable/stein," 'subnet_id': subnet_id}], 'allowed_address_pairs': [ {'ip_address': '10.20.30.40', 'mac_address': '00:11:22:33:44:55'}]}, self.mock_ip_dev.neigh.add.assert_has_calls([ mock.call('1.2.3.4', '00:11:22:33:44:55'), mock.call('10.20.30.40', '00:11:22:33:44:55')])"," 'subnet_id': subnet_id}]}, self.mock_ip_dev.neigh.add.assert_called_once_with( '1.2.3.4', '00:11:22:33:44:55')",63,12
openstack%2Fneutron~stable%2Fqueens~I5d6c72c271ff450d9e43b3e33a99dd59d727882d,openstack/neutron,stable/queens,I5d6c72c271ff450d9e43b3e33a99dd59d727882d,[DVR] Send allowed address pairs info to the L3 agents,MERGED,2021-05-24 09:17:34.000000000,2021-06-09 11:40:04.000000000,2021-06-09 11:40:04.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-24 09:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/946d59c5288148125a3ddb1afb4449b17ab51eca', 'message': ""[DVR] Send allowed address pairs info to the L3 agents\n\nWhen new dvr router is going to be created on the node, L3 agent\nasks server for list of ports plugged to the subnets, to populate\narp entries for all fixed IPs from those ports.\nThere was missing info about allowed address pairs there, so those\nIPs were not populated in the qrouter namespace.\nNow it's added and L3 agent can add those arp entries to the qrouter\nnamespaces too.\n\nConflicts:\n    neutron/agent/l3/dvr_local_router.py\n    neutron/objects/port/extensions/allowedaddresspairs.py\n    neutron/tests/unit/db/test_l3_dvr_db.py\n\nCloses-Bug: #1928466\nChange-Id: I5d6c72c271ff450d9e43b3e33a99dd59d727882d\n(cherry picked from commit 7b59b5069b1402730602b430416a15b1609253ea)\n""}, {'number': 2, 'created': '2021-06-09 06:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b1ce6703b9afeae568bdbfa31b73fe774e2f1a3', 'message': ""[DVR] Send allowed address pairs info to the L3 agents\n\nWhen new dvr router is going to be created on the node, L3 agent\nasks server for list of ports plugged to the subnets, to populate\narp entries for all fixed IPs from those ports.\nThere was missing info about allowed address pairs there, so those\nIPs were not populated in the qrouter namespace.\nNow it's added and L3 agent can add those arp entries to the qrouter\nnamespaces too.\n\nConflicts:\n    neutron/agent/l3/dvr_local_router.py\n    neutron/objects/port/extensions/allowedaddresspairs.py\n    neutron/tests/unit/db/test_l3_dvr_db.py\n\nCloses-Bug: #1928466\nChange-Id: I5d6c72c271ff450d9e43b3e33a99dd59d727882d\n(cherry picked from commit 7b59b5069b1402730602b430416a15b1609253ea)\n""}, {'number': 3, 'created': '2021-06-09 06:24:23.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/581174d5f676167d7eb536d4354224d4dadd2fa5', 'message': ""[DVR] Send allowed address pairs info to the L3 agents\n\nWhen new dvr router is going to be created on the node, L3 agent\nasks server for list of ports plugged to the subnets, to populate\narp entries for all fixed IPs from those ports.\nThere was missing info about allowed address pairs there, so those\nIPs were not populated in the qrouter namespace.\nNow it's added and L3 agent can add those arp entries to the qrouter\nnamespaces too.\n\nConflicts:\n    neutron/agent/l3/dvr_local_router.py\n    neutron/objects/port/extensions/allowedaddresspairs.py\n    neutron/tests/unit/db/test_l3_dvr_db.py\n\nCloses-Bug: #1928466\nChange-Id: I5d6c72c271ff450d9e43b3e33a99dd59d727882d\n(cherry picked from commit 7b59b5069b1402730602b430416a15b1609253ea)\n""}]",0,792760,581174d5f676167d7eb536d4354224d4dadd2fa5,26,3,3,11975,,,0,"[DVR] Send allowed address pairs info to the L3 agents

When new dvr router is going to be created on the node, L3 agent
asks server for list of ports plugged to the subnets, to populate
arp entries for all fixed IPs from those ports.
There was missing info about allowed address pairs there, so those
IPs were not populated in the qrouter namespace.
Now it's added and L3 agent can add those arp entries to the qrouter
namespaces too.

Conflicts:
    neutron/agent/l3/dvr_local_router.py
    neutron/objects/port/extensions/allowedaddresspairs.py
    neutron/tests/unit/db/test_l3_dvr_db.py

Closes-Bug: #1928466
Change-Id: I5d6c72c271ff450d9e43b3e33a99dd59d727882d
(cherry picked from commit 7b59b5069b1402730602b430416a15b1609253ea)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/792760/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py']",7,946d59c5288148125a3ddb1afb4449b17ab51eca,bug/1928466-stable/stein-stable/rocky-stable/queens," 'subnet_id': subnet_id}], 'allowed_address_pairs': [ {'ip_address': '10.20.30.40', 'mac_address': '00:11:22:33:44:55'}]}, self.mock_ip_dev.neigh.add.assert_has_calls([ mock.call('1.2.3.4', '00:11:22:33:44:55'), mock.call('10.20.30.40', '00:11:22:33:44:55')])"," 'subnet_id': subnet_id}]}, self.mock_ip_dev.neigh.add.assert_called_once_with( '1.2.3.4', '00:11:22:33:44:55')",63,12
openstack%2Fkayobe~master~I76d658b93b9195c760c3a91fe5aee96bad8d6b42,openstack/kayobe,master,I76d658b93b9195c760c3a91fe5aee96bad8d6b42,"Ubuntu: CI: rely on os_distribution, remove interfaces pause",MERGED,2021-04-28 11:54:06.000000000,2021-06-09 11:26:14.000000000,2021-06-09 11:23:35.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-04-28 11:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/02084633fca52deefcc8636ebb2825eb20ee0a79', 'message': 'Ubuntu: CI: rely on os_distribution, remove interfaces pause\n\nWe can now rely on the os_distribution variable to set sensible defaults\nfor Ubuntu. It is set automatically in kayobe-config-dev.\n\nThe interfaces pause workaround is no longer required since switching to\nsystemd-networkd.\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/788475\nChange-Id: I76d658b93b9195c760c3a91fe5aee96bad8d6b42\n'}, {'number': 2, 'created': '2021-04-28 14:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e1049e209e9ec51ec583dee601c0415203a9f416', 'message': 'Ubuntu: CI: rely on os_distribution, remove interfaces pause\n\nWe can now rely on the os_distribution variable to set sensible defaults\nfor Ubuntu. It is set automatically in kayobe-config-dev.\n\nThe interfaces pause workaround is no longer required since switching to\nsystemd-networkd.\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/788475\nChange-Id: I76d658b93b9195c760c3a91fe5aee96bad8d6b42\n'}, {'number': 3, 'created': '2021-04-29 10:17:42.000000000', 'files': ['playbooks/kayobe-seed-vm-base/overrides.yml.j2', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'playbooks/kayobe-seed-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/111375fb1ab335a02109dde34558d3f46aeaa124', 'message': 'Ubuntu: CI: rely on os_distribution, remove interfaces pause\n\nWe can now rely on the os_distribution variable to set sensible defaults\nfor Ubuntu. It is set automatically in kayobe-config-dev.\n\nThe interfaces pause workaround is no longer required since switching to\nsystemd-networkd.\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/788475\nChange-Id: I76d658b93b9195c760c3a91fe5aee96bad8d6b42\n'}]",0,788478,111375fb1ab335a02109dde34558d3f46aeaa124,13,3,3,14826,,,0,"Ubuntu: CI: rely on os_distribution, remove interfaces pause

We can now rely on the os_distribution variable to set sensible defaults
for Ubuntu. It is set automatically in kayobe-config-dev.

The interfaces pause workaround is no longer required since switching to
systemd-networkd.

Depends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/788475
Change-Id: I76d658b93b9195c760c3a91fe5aee96bad8d6b42
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/78/788478/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-seed-vm-base/overrides.yml.j2', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'playbooks/kayobe-seed-base/overrides.yml.j2']",3,02084633fca52deefcc8636ebb2825eb20ee0a79,,,{% if ansible_os_family == 'Debian' %} kolla_base_distro: ubuntu {% endif %},0,16
openstack%2Fkayobe~master~I3806b707593fc6ac9d7125e1b12d716ad40a2808,openstack/kayobe,master,I3806b707593fc6ac9d7125e1b12d716ad40a2808,Add kayobe overcloud service prechecks command,MERGED,2021-05-21 10:22:25.000000000,2021-06-09 11:25:11.000000000,2021-06-09 11:23:19.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 29543}]","[{'number': 1, 'created': '2021-05-21 10:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7b99c0884b018f8db2a3d08e03c2a820c8ba6219', 'message': ""Add kayobe overcloud service prechecks command\n\nRuns 'kolla-ansible prechecks' without deploying services.\n\nChange-Id: I3806b707593fc6ac9d7125e1b12d716ad40a2808\nStory: 2008912\nTask: 42503\n""}, {'number': 2, 'created': '2021-05-21 10:26:56.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'releasenotes/notes/prechecks-command-a9153f667659c315.yaml', 'kayobe/cli/commands.py', 'doc/source/administration/overcloud.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b398e28dc57f546dc62c1eb27a306aecd134125e', 'message': ""Add kayobe overcloud service prechecks command\n\nRuns 'kolla-ansible prechecks' without deploying services.\n\nChange-Id: I3806b707593fc6ac9d7125e1b12d716ad40a2808\nStory: 2008912\nTask: 42503\n""}]",0,792571,b398e28dc57f546dc62c1eb27a306aecd134125e,10,4,2,14826,,,0,"Add kayobe overcloud service prechecks command

Runs 'kolla-ansible prechecks' without deploying services.

Change-Id: I3806b707593fc6ac9d7125e1b12d716ad40a2808
Story: 2008912
Task: 42503
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/71/792571/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/cli/test_commands.py', 'releasenotes/notes/prechecks-command-a9153f667659c315.yaml', 'kayobe/cli/commands.py', 'setup.cfg']",4,7b99c0884b018f8db2a3d08e03c2a820c8ba6219,, overcloud_service_prechecks = kayobe.cli.commands:OvercloudServicePrecheckskayobe.cli.overcloud_service_prechecks = hooks = kayobe.cli.commands:HookDispatcher,,69,0
openstack%2Fkayobe~master~I14289df5e248b5b47fb8e60c6eea1ac845f50fd3,openstack/kayobe,master,I14289df5e248b5b47fb8e60c6eea1ac845f50fd3,Fix overcloud post configure Python interpreter issues,MERGED,2021-05-10 10:43:04.000000000,2021-06-09 11:23:27.000000000,2021-06-09 11:23:27.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-05-10 10:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/35a6baf0be223ecb88b7984621be1728f306597e', 'message': ""Fix overcloud post configure Python interpreter issues\n\nSome time ago in Kayobe we switched from using set_fact to override the\nansible_python_interpreter variable to using a task variable. However,\nnot all of the galaxy roles were updated to match. This can lead to an\nissue where a fact set by the os_networks role overrides the task\nvariable set in Kayobe.\n\nNote that we haven't seen this in CI since the code path requires the\nuse of a VLAN provisioning network, and CI uses a flat network.\n\nChange-Id: I14289df5e248b5b47fb8e60c6eea1ac845f50fd3\nStory: 2008284\nTask: 41158\n""}, {'number': 2, 'created': '2021-05-12 08:11:21.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4a59ea483bc1baf57a6423812b597147d5e24b2e', 'message': ""Fix overcloud post configure Python interpreter issues\n\nSome time ago in Kayobe we switched from using set_fact to override the\nansible_python_interpreter variable to using a task variable. However,\nnot all of the galaxy roles were updated to match. This can lead to an\nissue where a fact set by the os_networks role overrides the task\nvariable set in Kayobe.\n\nNote that we haven't seen this in CI since the code path requires the\nuse of a VLAN provisioning network, and CI uses a flat network.\n\nChange-Id: I14289df5e248b5b47fb8e60c6eea1ac845f50fd3\nStory: 2008284\nTask: 41158\n""}]",0,790400,4a59ea483bc1baf57a6423812b597147d5e24b2e,14,3,2,14826,,,0,"Fix overcloud post configure Python interpreter issues

Some time ago in Kayobe we switched from using set_fact to override the
ansible_python_interpreter variable to using a task variable. However,
not all of the galaxy roles were updated to match. This can lead to an
issue where a fact set by the os_networks role overrides the task
variable set in Kayobe.

Note that we haven't seen this in CI since the code path requires the
use of a VLAN provisioning network, and CI uses a flat network.

Change-Id: I14289df5e248b5b47fb8e60c6eea1ac845f50fd3
Story: 2008284
Task: 41158
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/00/790400/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,35a6baf0be223ecb88b7984621be1728f306597e,,- src: https://github.com/stackhpc/ansible-role-os-images name: stackhpc.os-images version: python-interpreter-var- src: https://github.com/stackhpc/ansible-role-os-networks name: stackhpc.os-networks version: python-interpreter-var,- src: stackhpc.os-images version: v1.10.5- src: stackhpc.os-networks version: v1.4.0,6,4
openstack%2Ffreezer~master~Ib6b5c10bb8e9179619275fd21c35d4e7936baaad,openstack/freezer,master,Ib6b5c10bb8e9179619275fd21c35d4e7936baaad,setup.cfg: Replace dashes with underscores,MERGED,2021-05-01 07:12:50.000000000,2021-06-09 11:22:51.000000000,2021-06-09 11:21:22.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-01 07:12:50.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/freezer/commit/ea30ed7deeaa31b4bbf51e0a2f7de12749b8f867', 'message': ""setup.cfg: Replace dashes with underscores\n\nResolves warnings like the following:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: Ib6b5c10bb8e9179619275fd21c35d4e7936baaad\n""}]",0,789040,ea30ed7deeaa31b4bbf51e0a2f7de12749b8f867,19,2,1,30092,,,0,"setup.cfg: Replace dashes with underscores

Resolves warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: Ib6b5c10bb8e9179619275fd21c35d4e7936baaad
",git fetch https://review.opendev.org/openstack/freezer refs/changes/40/789040/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ea30ed7deeaa31b4bbf51e0a2f7de12749b8f867,,author_email = openstack-discuss@lists.openstack.orgdescription_file = README.rst home_page = https://docs.openstack.org/freezer/latest/,author-email = openstack-discuss@lists.openstack.orgdescription-file = README.rst home-page = https://docs.openstack.org/freezer/latest/,3,3
openstack%2Fkayobe~master~I9928e5912e6770bdcc1d5d0884d2f101c16ee6a9,openstack/kayobe,master,I9928e5912e6770bdcc1d5d0884d2f101c16ee6a9,docs: improve automated seed development info,MERGED,2021-05-25 20:28:01.000000000,2021-06-09 11:21:33.000000000,2021-06-09 11:19:56.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-05-25 20:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d8e008382469aee62f7b2bed981bad8562e2677e', 'message': ""docs: improve automated seed development info\n\n* add 'bridge_type: linuxbridge' to tenks configuration to avoid\n  dependency on OVS\n* extend seed development environment testing to include overcloud\n  provisioning and deployment\n* remove seed hypervisor and seed VM environments. These are very\n  stale, and largely replaced by a-universe-from-nothing. Add a link to\n  that workshop on the same page\n\nChange-Id: I9928e5912e6770bdcc1d5d0884d2f101c16ee6a9\n""}, {'number': 2, 'created': '2021-05-25 20:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ba64e27e3d1e7d5c243827e14979801fbde4f9f9', 'message': ""docs: improve automated seed development info\n\n* add 'bridge_type: linuxbridge' to tenks configuration to avoid\n  dependency on OVS\n* extend seed development environment testing to include overcloud\n  provisioning and deployment\n* remove seed hypervisor and seed VM environments. These are very\n  stale, and largely replaced by a-universe-from-nothing. Add a link to\n  that workshop on the same page\n\nChange-Id: I9928e5912e6770bdcc1d5d0884d2f101c16ee6a9\n""}, {'number': 3, 'created': '2021-05-27 14:10:42.000000000', 'files': ['doc/source/contributor/automated.rst', 'dev/tenks-deploy-config-overcloud.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d2e3f6f1aec2c1ed301144ed26872394799346fb', 'message': ""docs: improve automated seed development info\n\n* add 'bridge_type: linuxbridge' to tenks configuration to avoid\n  dependency on OVS\n* extend seed development environment testing to include overcloud\n  provisioning and deployment\n* remove seed hypervisor and seed VM environments. These are very\n  stale, and largely replaced by a-universe-from-nothing. Add a link to\n  that workshop on the same page\n\nChange-Id: I9928e5912e6770bdcc1d5d0884d2f101c16ee6a9\n""}]",0,793059,d2e3f6f1aec2c1ed301144ed26872394799346fb,14,3,3,14826,,,0,"docs: improve automated seed development info

* add 'bridge_type: linuxbridge' to tenks configuration to avoid
  dependency on OVS
* extend seed development environment testing to include overcloud
  provisioning and deployment
* remove seed hypervisor and seed VM environments. These are very
  stale, and largely replaced by a-universe-from-nothing. Add a link to
  that workshop on the same page

Change-Id: I9928e5912e6770bdcc1d5d0884d2f101c16ee6a9
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/59/793059/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/automated.rst', 'dev/tenks-deploy-config-overcloud.yml']",2,d8e008382469aee62f7b2bed981bad8562e2677e,,bridge_type: linuxbridge ,,21,110
openstack%2Fkolla-ansible~stable%2Ftrain~Ie09beb79938ffbcdb5193299511e6eef0b98a258,openstack/kolla-ansible,stable/train,Ie09beb79938ffbcdb5193299511e6eef0b98a258,neutron: Add become for copying sriov_agent.ini,MERGED,2021-06-09 08:08:20.000000000,2021-06-09 11:18:37.000000000,2021-06-09 11:16:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-09 08:08:20.000000000', 'files': ['ansible/roles/neutron/tasks/config.yml', 'releasenotes/notes/bug-1923467-80973d9fbe1f5287.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6966e6fae17d45d7497ff05b6a4456d402f0aa5b', 'message': 'neutron: Add become for copying sriov_agent.ini\n\nThis bug has been accidentally fixed in Victoria by [1].\n\n[1]: https://review.opendev.org/c/openstack/kolla-ansible/+/742627\n\nCloses-Bug: #1923467\nChange-Id: Ie09beb79938ffbcdb5193299511e6eef0b98a258\n(cherry picked from commit 6f3b611f34dfc1ef65517bfd0772d8eac6ef57db)\n'}]",0,795456,6966e6fae17d45d7497ff05b6a4456d402f0aa5b,9,4,1,22629,,,0,"neutron: Add become for copying sriov_agent.ini

This bug has been accidentally fixed in Victoria by [1].

[1]: https://review.opendev.org/c/openstack/kolla-ansible/+/742627

Closes-Bug: #1923467
Change-Id: Ie09beb79938ffbcdb5193299511e6eef0b98a258
(cherry picked from commit 6f3b611f34dfc1ef65517bfd0772d8eac6ef57db)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/795456/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/tasks/config.yml', 'releasenotes/notes/bug-1923467-80973d9fbe1f5287.yaml']",2,6966e6fae17d45d7497ff05b6a4456d402f0aa5b,,--- fixes: - | A bug where sriov_agent.ini wasn't copied due to ``Permission denied`` error was fixed. `LP#1923467 <https://launchpad.net/bugs/1923467>`__ ,,7,0
openstack%2Frequirements~master~I12f7ef29499b132d07fdc2ba8d3201e5edf16f0d,openstack/requirements,master,I12f7ef29499b132d07fdc2ba8d3201e5edf16f0d,Updated from generate-constraints,MERGED,2021-06-09 06:22:08.000000000,2021-06-09 10:53:17.000000000,2021-06-09 10:51:45.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 06:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8796df40568adc95ba8277a5cd923f8b4eb625c4', 'message': 'Updated from generate-constraints\n\nChange-Id: I12f7ef29499b132d07fdc2ba8d3201e5edf16f0d\n'}, {'number': 2, 'created': '2021-06-09 06:33:35.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ba5e968ada8a36a011bb609da6bad6e3de908018', 'message': 'Updated from generate-constraints\n\nChange-Id: I12f7ef29499b132d07fdc2ba8d3201e5edf16f0d\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,795479,ba5e968ada8a36a011bb609da6bad6e3de908018,10,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I12f7ef29499b132d07fdc2ba8d3201e5edf16f0d
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/79/795479/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8796df40568adc95ba8277a5cd923f8b4eb625c4,openstack/requirements/constraints/noclob,neutron-lib===2.12.0XStatic-Angular===1.8.2.1google-api-core===1.30.0SQLAlchemy===1.4.17google-auth===1.30.2eventlet===0.31.0scp===0.13.4google-api-python-client===2.8.0docutils===0.17.1mypy===0.901boto3===1.17.90protobuf===3.17.3Sphinx===4.0.2botocore===1.20.90typed-ast===1.4.3;python_version=='3.6'pkg-resources===0.0.0xmlschema===1.6.3diskimage-builder===3.12.0fasteners===0.16.2,neutron-lib===2.11.0XStatic-Angular===1.5.8.0google-api-core===1.29.0SQLAlchemy===1.3.23google-auth===1.30.1eventlet===0.30.2scp===0.13.3google-api-python-client===2.7.0docutils===0.16mypy===0.812boto3===1.17.88protobuf===3.17.2Sphinx===3.5.4botocore===1.20.88typed-ast===1.4.3xmlschema===1.6.2diskimage-builder===3.11.0fasteners===0.14.1setuptools===57.0.0,19,19
openstack%2Ftripleo-validations~master~I26d4ed29225c2871f8f061f800ed5aa9521aa16a,openstack/tripleo-validations,master,I26d4ed29225c2871f8f061f800ed5aa9521aa16a,Module level docstring added.,ABANDONED,2021-06-02 12:45:48.000000000,2021-06-09 10:37:16.000000000,,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-02 12:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/af2efceaa4e4bd671f8f86e3e2d0c842d7180f05', 'message': 'Module level docstring added.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I26d4ed29225c2871f8f061f800ed5aa9521aa16a\n'}, {'number': 2, 'created': '2021-06-02 13:40:52.000000000', 'files': ['library/overcloudrc.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9329daa7bef87afac290b9ca6ef8a7f4e51e3012', 'message': 'Module level docstring added.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I26d4ed29225c2871f8f061f800ed5aa9521aa16a\n'}]",1,794213,9329daa7bef87afac290b9ca6ef8a7f4e51e3012,14,7,2,32926,,,0,"Module level docstring added.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I26d4ed29225c2871f8f061f800ed5aa9521aa16a
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/13/794213/2 && git format-patch -1 --stdout FETCH_HEAD,['library/overcloudrc.py'],1,af2efceaa4e4bd671f8f86e3e2d0c842d7180f05,overclourc/use,"""""""overcloudrc module """"""",,2,0
openstack%2Fkayobe~master~Id4c3841d506d6b6ea082d0b9a294897761105dbd,openstack/kayobe,master,Id4c3841d506d6b6ea082d0b9a294897761105dbd,[release] Set previous_release to wallaby,MERGED,2021-05-05 09:35:52.000000000,2021-06-09 10:25:47.000000000,2021-06-09 10:23:01.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-05-05 09:35:52.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8e825118c526a88ca3478f70c5a4db0d25112ca8', 'message': '[release] Set previous_release to wallaby\n\nThis controls which release we are upgrading from.\n\nChange-Id: Id4c3841d506d6b6ea082d0b9a294897761105dbd\n'}]",0,789768,8e825118c526a88ca3478f70c5a4db0d25112ca8,13,4,1,14826,,,0,"[release] Set previous_release to wallaby

This controls which release we are upgrading from.

Change-Id: Id4c3841d506d6b6ea082d0b9a294897761105dbd
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/68/789768/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,8e825118c526a88ca3478f70c5a4db0d25112ca8,, previous_release: wallaby, previous_release: victoria,1,1
openstack%2Ftripleo-operator-ansible~master~I6409d1aa0cd9aeb4bdd9cf66424336fb70f60a39,openstack/tripleo-operator-ansible,master,I6409d1aa0cd9aeb4bdd9cf66424336fb70f60a39,tripleo_overcloud_node_provision - add --network-config,MERGED,2021-06-07 13:07:41.000000000,2021-06-09 10:08:49.000000000,2021-06-09 10:08:49.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 13:07:41.000000000', 'files': ['roles/tripleo_overcloud_node_provision/tasks/main.yml', 'roles/tripleo_overcloud_node_provision/defaults/main.yml', 'roles/tripleo_overcloud_node_provision/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/99641cf7e07adf1bb76434279048ea7e23204c6a', 'message': ""tripleo_overcloud_node_provision - add --network-config\n\nAdd support to set '--network-config' when provisioning\nnodes. When using this option neutron port resources will\nbe created and network configuration will be applied to\nthe nodes as part of the node provisioning.\n\nChange-Id: I6409d1aa0cd9aeb4bdd9cf66424336fb70f60a39\n""}]",0,795104,99641cf7e07adf1bb76434279048ea7e23204c6a,7,3,1,24245,,,0,"tripleo_overcloud_node_provision - add --network-config

Add support to set '--network-config' when provisioning
nodes. When using this option neutron port resources will
be created and network configuration will be applied to
the nodes as part of the node provisioning.

Change-Id: I6409d1aa0cd9aeb4bdd9cf66424336fb70f60a39
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/04/795104/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_node_provision/tasks/main.yml', 'roles/tripleo_overcloud_node_provision/defaults/main.yml', 'roles/tripleo_overcloud_node_provision/molecule/default/converge.yml']",3,99641cf7e07adf1bb76434279048ea7e23204c6a,network-data-v2," - name: Assert ""tripleo_overcloud_node_provision_network_config"" include_role: name: ""tripleo_overcloud_node_provision"" vars: tripleo_overcloud_node_provision_network_config: true - name: Validate tripleo_overcloud_node_provision_network_config assert: that: - tripleo_overcloud_node_provision_output == ""overcloud node provision --network-config""",,14,0
openstack%2Fkuryr-kubernetes~master~If9a3968d68dced588614cd5521d4a111e78d435f,openstack/kuryr-kubernetes,master,If9a3968d68dced588614cd5521d4a111e78d435f,Workaround OVN bug causing subports to be DOWN,MERGED,2021-06-07 17:56:52.000000000,2021-06-09 10:07:54.000000000,2021-06-09 10:06:27.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-06-07 17:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ce50d6a557cdf99dea48b1493a5c29e4f213bc66', 'message': ""Workaround OVN bug causing subports to be DOWN\n\nNeutron should make a subport that is already attached to a trunk ACTIVE\nimmediately. Unfortunately there seems to be an OVN bug causing an event\ntriggering this to be lost, leaving the port in DOWN state forever. This\nis a disaster for Kuryr, because we can't proceed to wire the pods in\nsuch case.\n\nThis commit attempts to workaround this by making Kuryr reattach the\nports that are in DOWN state for more than 90 seconds after they're\nplugged.\n\nChange-Id: If9a3968d68dced588614cd5521d4a111e78d435f\n""}, {'number': 2, 'created': '2021-06-07 18:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8f5d02cf13a8243c2250d171f9caddb12f2bb66d', 'message': ""Workaround OVN bug causing subports to be DOWN\n\nNeutron should make a subport that is already attached to a trunk ACTIVE\nimmediately. Unfortunately there seems to be an OVN bug causing an event\ntriggering this to be lost, leaving the port in DOWN state forever. This\nis a disaster for Kuryr, because we can't proceed to wire the pods in\nsuch case.\n\nThis commit attempts to workaround this by making Kuryr reattach the\nports that are in DOWN state for more than 90 seconds after they're\nplugged.\n\nChange-Id: If9a3968d68dced588614cd5521d4a111e78d435f\n""}, {'number': 3, 'created': '2021-06-08 10:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9fd65a139229696c58ed9379b045448550902e96', 'message': ""Workaround OVN bug causing subports to be DOWN\n\nNeutron should make a subport that is already attached to a trunk ACTIVE\nimmediately. Unfortunately there seems to be an OVN bug causing an event\ntriggering this to be lost, leaving the port in DOWN state forever. This\nis a disaster for Kuryr, because we can't proceed to wire the pods in\nsuch case.\n\nThis commit attempts to workaround this by making Kuryr reattach the\nports that are in DOWN state for more than 90 seconds after they're\nplugged.\n\nChange-Id: If9a3968d68dced588614cd5521d4a111e78d435f\n""}, {'number': 4, 'created': '2021-06-08 13:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/facd59ed87d8aea4a720d8e93f2f0148f5d7a9d0', 'message': ""Workaround OVN bug causing subports to be DOWN\n\nNeutron should make a subport that is already attached to a trunk ACTIVE\nimmediately. Unfortunately there seems to be an OVN bug causing an event\ntriggering this to be lost, leaving the port in DOWN state forever. This\nis a disaster for Kuryr, because we can't proceed to wire the pods in\nsuch case.\n\nThis commit attempts to workaround this by making Kuryr reattach the\nports that are in DOWN state for more than 90 seconds after they're\nplugged.\n\nChange-Id: If9a3968d68dced588614cd5521d4a111e78d435f\n""}, {'number': 5, 'created': '2021-06-08 14:54:23.000000000', 'files': ['kuryr_kubernetes/controller/handlers/pod_label.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrport.py', 'kuryr_kubernetes/controller/handlers/kuryrnetwork_population.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py', 'kuryr_kubernetes/controller/drivers/nested_vlan_vif.py', 'kuryr_kubernetes/controller/drivers/base.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/controller/drivers/nested_dpdk_vif.py', 'kuryr_kubernetes/controller/handlers/machine.py', 'kuryr_kubernetes/handlers/k8s_base.py', 'kuryr_kubernetes/controller/drivers/sriov.py', 'kuryr_kubernetes/controller/handlers/namespace.py', 'kuryr_kubernetes/cni/handlers.py', 'kuryr_kubernetes/controller/handlers/policy.py', 'kuryr_kubernetes/controller/handlers/kuryrnetwork.py', 'kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/controller/drivers/nested_macvlan_vif.py', 'kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py', 'kuryr_kubernetes/tests/unit/handlers/test_retry.py', 'kuryr_kubernetes/controller/drivers/neutron_vif.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/handlers/retry.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9d0b053c4f30d963d1ff293c5d1cb2af057c3225', 'message': ""Workaround OVN bug causing subports to be DOWN\n\nNeutron should make a subport that is already attached to a trunk ACTIVE\nimmediately. Unfortunately there seems to be an OVN bug causing an event\ntriggering this to be lost, leaving the port in DOWN state forever. This\nis a disaster for Kuryr, because we can't proceed to wire the pods in\nsuch case.\n\nThis commit attempts to workaround this by making Kuryr reattach the\nports that are in DOWN state for more than 90 seconds after they're\nplugged.\n\nChange-Id: If9a3968d68dced588614cd5521d4a111e78d435f\n""}]",17,795163,9d0b053c4f30d963d1ff293c5d1cb2af057c3225,26,4,5,11600,,,0,"Workaround OVN bug causing subports to be DOWN

Neutron should make a subport that is already attached to a trunk ACTIVE
immediately. Unfortunately there seems to be an OVN bug causing an event
triggering this to be lost, leaving the port in DOWN state forever. This
is a disaster for Kuryr, because we can't proceed to wire the pods in
such case.

This commit attempts to workaround this by making Kuryr reattach the
ports that are in DOWN state for more than 90 seconds after they're
plugged.

Change-Id: If9a3968d68dced588614cd5521d4a111e78d435f
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/63/795163/5 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/pod_label.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrport.py', 'kuryr_kubernetes/controller/handlers/kuryrnetwork_population.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py', 'kuryr_kubernetes/controller/drivers/nested_vlan_vif.py', 'kuryr_kubernetes/controller/drivers/base.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/controller/drivers/nested_dpdk_vif.py', 'kuryr_kubernetes/controller/handlers/machine.py', 'kuryr_kubernetes/handlers/k8s_base.py', 'kuryr_kubernetes/controller/drivers/sriov.py', 'kuryr_kubernetes/controller/handlers/namespace.py', 'kuryr_kubernetes/cni/handlers.py', 'kuryr_kubernetes/controller/handlers/policy.py', 'kuryr_kubernetes/controller/handlers/kuryrnetwork.py', 'kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/controller/drivers/nested_macvlan_vif.py', 'kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py', 'kuryr_kubernetes/tests/unit/handlers/test_retry.py', 'kuryr_kubernetes/controller/drivers/neutron_vif.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/handlers/retry.py']",23,ce50d6a557cdf99dea48b1493a5c29e4f213bc66,down-ports-workaround," start_time = time.time() info = { 'attempt': attempt, 'elapsed': time.time() - start_time } self._handler(event, *args, retry_info=info, **kwargs)"," self._handler(event, *args, **kwargs)",140,77
openstack%2Fbifrost~master~I96b7af2472addb879df545818a67f58ace8b2572,openstack/bifrost,master,I96b7af2472addb879df545818a67f58ace8b2572,Reasonable error message if network_interface is not found,MERGED,2021-06-07 13:17:32.000000000,2021-06-09 09:53:23.000000000,2021-06-07 16:25:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-07 13:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/207fa512dbe83ae4502c735624e1781ba6847db6', 'message': 'Reasonable error message if network_interface is not found\n\nChange-Id: I96b7af2472addb879df545818a67f58ace8b2572\n'}, {'number': 2, 'created': '2021-06-07 13:20:53.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7f2d0eb91db63632d7839a6b33327fd49af908e4', 'message': 'Reasonable error message if network_interface is not found\n\nChange-Id: I96b7af2472addb879df545818a67f58ace8b2572\n'}]",0,795106,7f2d0eb91db63632d7839a6b33327fd49af908e4,13,3,2,10239,,,0,"Reasonable error message if network_interface is not found

Change-Id: I96b7af2472addb879df545818a67f58ace8b2572
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/06/795106/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml']",2,207fa512dbe83ae4502c735624e1781ba6847db6,wrong-interface,"- name: ""Check that the provided interface is defined"" fail: msg: > Network interface {{ network_interface }} is not known to Ansible. If you're testing Bifrost on virtual machines, do not forget to invoke ""bifrost-cli testenv"" or use the ""bifrost-create-vm-nodes"" role first. when: ('ansible_' + ans_network_interface) not in hostvars[inventory_hostname] ",,16,0
openstack%2Ffreezer-tempest-plugin~master~I359551b1af5959f4505a03937e0186017bbbf2f5,openstack/freezer-tempest-plugin,master,I359551b1af5959f4505a03937e0186017bbbf2f5,Remove to support ElasticSearch backend in tempest,MERGED,2021-06-08 10:37:53.000000000,2021-06-09 09:53:10.000000000,2021-06-09 09:53:10.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 10:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/8b6d42cba7d71099ee2b7ad77f5fd887ecea1ed4', 'message': 'Remove to support ElasticSearch backend in tempest\n\nRemove to support ElasticSearch backend in tempest.\n\nChange-Id: I359551b1af5959f4505a03937e0186017bbbf2f5\n'}, {'number': 2, 'created': '2021-06-09 00:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/a36b5b9cb6dc39f000cfa4b98b602e1e5c8d1f23', 'message': 'Remove to support ElasticSearch backend in tempest\n\nRemove to support ElasticSearch backend in tempest.\n\nChange-Id: I359551b1af5959f4505a03937e0186017bbbf2f5\n'}, {'number': 3, 'created': '2021-06-09 06:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/4bffa2137ec87dea828a98d8bf489e66fc5939b7', 'message': 'Remove to support ElasticSearch backend in tempest\n\nRemove to support ElasticSearch backend in tempest.\n\nChange-Id: I359551b1af5959f4505a03937e0186017bbbf2f5\n'}, {'number': 4, 'created': '2021-06-09 07:56:48.000000000', 'files': ['.zuul.yaml', 'freezer_tempest_plugin/tests/scheduler/test_freezer_scheduler.py'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/9cff1a7a1a2bc79dd0001c98967427d7f9561951', 'message': 'Remove to support ElasticSearch backend in tempest\n\nRemove to support ElasticSearch backend in tempest.\n\nChange-Id: I359551b1af5959f4505a03937e0186017bbbf2f5\n'}]",0,795272,9cff1a7a1a2bc79dd0001c98967427d7f9561951,14,2,4,21069,,,0,"Remove to support ElasticSearch backend in tempest

Remove to support ElasticSearch backend in tempest.

Change-Id: I359551b1af5959f4505a03937e0186017bbbf2f5
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/72/795272/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8b6d42cba7d71099ee2b7ad77f5fd887ecea1ed4,, - freezer-tempest-basic-sql parent: freezer-tempest-basic-sql parent: freezer-tempest-basic-sql parent: freezer-tempest-basic-sql, - freezer-tempest-basic-sql parent: freezer-tempest-basic parent: freezer-tempest-basic parent: freezer-tempest-basic,4,4
openstack%2Fbifrost~master~I40ffb7aa816697e8fd42adf8229cb8689b9ce79b,openstack/bifrost,master,I40ffb7aa816697e8fd42adf8229cb8689b9ce79b,Fix network_interface check when skip_bootstrap is true,ABANDONED,2021-06-09 09:50:42.000000000,2021-06-09 09:52:56.000000000,,[{'_account_id': 10239}],"[{'number': 1, 'created': '2021-06-09 09:50:42.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/58800a1abb72143217290cc030a4c88b3dde738c', 'message': 'Fix network_interface check when skip_bootstrap is true\n\nA new check was added in I96b7af2472addb879df545818a67f58ace8b2572 about\nnetwork_interface. This variable does not need to be set when\nbootstrapping is skipped, and may cause installation to fail. This does\nindeed happen when building the kolla bifrost container image.\n\nThis change skips the check when skip_bootstrap is true.\n\nChange-Id: I40ffb7aa816697e8fd42adf8229cb8689b9ce79b\n'}]",0,795509,58800a1abb72143217290cc030a4c88b3dde738c,3,1,1,14826,,,0,"Fix network_interface check when skip_bootstrap is true

A new check was added in I96b7af2472addb879df545818a67f58ace8b2572 about
network_interface. This variable does not need to be set when
bootstrapping is skipped, and may cause installation to fail. This does
indeed happen when building the kolla bifrost container image.

This change skips the check when skip_bootstrap is true.

Change-Id: I40ffb7aa816697e8fd42adf8229cb8689b9ce79b
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/09/795509/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml']",2,58800a1abb72143217290cc030a4c88b3dde738c,, when: - ('ansible_' + ans_network_interface) not in hostvars[inventory_hostname] - not skip_bootstrap | bool, when: ('ansible_' + ans_network_interface) not in hostvars[inventory_hostname],6,2
openstack%2Fkuryr-kubernetes~master~I6dc9b1491e0cd3d0de224f4d0d58e40aa9266dd2,openstack/kuryr-kubernetes,master,I6dc9b1491e0cd3d0de224f4d0d58e40aa9266dd2,Update the documenation with additional details,ABANDONED,2021-06-08 11:32:18.000000000,2021-06-09 09:48:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-08 11:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c55a73f1cd3a533ea1b046774a75c17c85f4746c', 'message': 'Update the documenation with additional details\n\nThe commit is to update the documentation with some new information\nwhich would make it easier for new contributors to full understand\nthe concepts\n\nChange-Id: I6dc9b1491e0cd3d0de224f4d0d58e40aa9266dd2\n'}, {'number': 2, 'created': '2021-06-08 12:47:35.000000000', 'files': ['doc/source/devref/kuryr_kubernetes_design.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b4b3dcd22f5f2066f60812e160510a8d3ee69f00', 'message': 'Update the documenation with additional details\n\nThe commit is to update the documentation with some new information\nwhich would make it easier for new contributors to full understand\nthe concepts\n\nChange-Id: I6dc9b1491e0cd3d0de224f4d0d58e40aa9266dd2\n'}]",1,795299,b4b3dcd22f5f2066f60812e160510a8d3ee69f00,6,1,2,33240,,,0,"Update the documenation with additional details

The commit is to update the documentation with some new information
which would make it easier for new contributors to full understand
the concepts

Change-Id: I6dc9b1491e0cd3d0de224f4d0d58e40aa9266dd2
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/99/795299/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/kuryr_kubernetes_design.rst'],1,c55a73f1cd3a533ea1b046774a75c17c85f4746c,udoc,"from registered endpoints. It is the software component that calls a handler either to the controller or the CNI depending on the observed event. Say a service is created at the Kubernetes end, the watcher determines that this action should be passed to the controller and calls the appropriate handler to handle the event, in this case the lbaas.py handler watching this event endpoint. ",from registered endpoints.,6,1
openstack%2Fpuppet-tempest~master~I0895495a4f01a5caf4e99d4c46dcab9656746b6a,openstack/puppet-tempest,master,I0895495a4f01a5caf4e99d4c46dcab9656746b6a,Deprecate support for Panko,MERGED,2021-06-02 07:47:44.000000000,2021-06-09 09:47:39.000000000,2021-06-09 09:45:26.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-02 07:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/863d1d11e4c9ae26224c32fbcc658877430a8a32', 'message': 'Deprecate support for Panko\n\n... because Panko has been retired.\n\nChange-Id: I0895495a4f01a5caf4e99d4c46dcab9656746b6a\n'}, {'number': 2, 'created': '2021-06-03 04:51:59.000000000', 'files': ['releasenotes/notes/retire-panko-c37290df663d870d.yaml', 'manifests/init.pp', 'spec/classes/tempest_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/d273aa3c564808f6d4f35da9e30dcf1e4cdb9ab1', 'message': 'Deprecate support for Panko\n\n... because Panko has been retired.\n\nChange-Id: I0895495a4f01a5caf4e99d4c46dcab9656746b6a\n'}]",0,794151,d273aa3c564808f6d4f35da9e30dcf1e4cdb9ab1,21,5,2,9816,,,0,"Deprecate support for Panko

... because Panko has been retired.

Change-Id: I0895495a4f01a5caf4e99d4c46dcab9656746b6a
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/51/794151/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/retire-panko-c37290df663d870d.yaml', 'manifests/init.pp']",2,863d1d11e4c9ae26224c32fbcc658877430a8a32,retire_panko,"# [*panko_available*] # Defaults to undef $panko_available = false, if $panko_available != undef { warning('The panko_available parameter has been deprecated and has no effect') } if ($aodh_available or $ceilometer_available or $gnocchi_available) and $::tempest::params::python_telemetry_tests {","# [*panko_available*] # Defaults to false $panko_available = false, 'service_available/panko': value => $panko_available; if ($aodh_available or $ceilometer_available or $panko_available or $gnocchi_available) and $::tempest::params::python_telemetry_tests {",13,5
openstack%2Fmonasca-common~master~I7242ecc4518683571d3553c1cc8dfbbf93de369c,openstack/monasca-common,master,I7242ecc4518683571d3553c1cc8dfbbf93de369c,Bump librdkafka dependencies,MERGED,2021-06-08 14:21:31.000000000,2021-06-09 09:43:16.000000000,2021-06-09 09:43:16.000000000,"[{'_account_id': 16957}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2021-06-08 14:21:31.000000000', 'files': ['docker/Dockerfile'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/f5abe9d82e3c89cfdc4a4933cc11ca859841beda', 'message': 'Bump librdkafka dependencies\n\nlibressl3.3-libcrypto\nlibressl3.3-libssl\n\nThese libraries were bumped in [1] on 07.06.2021\n\n[1] http://dl-cdn.alpinelinux.org/alpine/edge/community/x86_64/\n\nChange-Id: I7242ecc4518683571d3553c1cc8dfbbf93de369c\n'}]",0,795348,f5abe9d82e3c89cfdc4a4933cc11ca859841beda,7,3,1,28062,,,0,"Bump librdkafka dependencies

libressl3.3-libcrypto
libressl3.3-libssl

These libraries were bumped in [1] on 07.06.2021

[1] http://dl-cdn.alpinelinux.org/alpine/edge/community/x86_64/

Change-Id: I7242ecc4518683571d3553c1cc8dfbbf93de369c
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/48/795348/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/Dockerfile'],1,f5abe9d82e3c89cfdc4a4933cc11ca859841beda,, libressl3.3-libcrypto \ libressl3.3-libssl \, libressl3.2-libcrypto \ libressl3.2-libssl \,2,2
openstack%2Fkolla-ansible~stable%2Ftrain~I1823301d5889589bfd48326ed7de03c6061ea5ba,openstack/kolla-ansible,stable/train,I1823301d5889589bfd48326ed7de03c6061ea5ba,Fix RabbitMQ restart ordering,MERGED,2021-06-08 18:16:11.000000000,2021-06-09 09:28:19.000000000,2021-06-09 09:26:20.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-08 18:16:11.000000000', 'files': ['ansible/roles/rabbitmq/handlers/main.yml', 'releasenotes/notes/bug-1930293-d8a524f2070e6779.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ebaa5bb8a16249b487448be1b7712a47d11396c3', 'message': ""Fix RabbitMQ restart ordering\n\nThe host list order seen during Ansible handlers may differ to the usual\nplay host list order, due to race conditions in notifying handlers. This\nmeans that restart_services.yml for RabbitMQ may be included in a\ndifferent order than the rabbitmq group, resulting in a node other than\nthe 'first' being restarted first. This can cause some nodes to fail to\njoin the cluster. The include_tasks loop was introduced in [1].\n\nThis change fixes the issue by splitting the handler into two tasks, and\nrestarting the first node before all others.\n\n[1] https://review.opendev.org/c/openstack/kolla-ansible/+/763137\n\nChange-Id: I1823301d5889589bfd48326ed7de03c6061ea5ba\nCloses-Bug: #1930293\n(cherry picked from commit 0cd5b027c985a8f6d3368ae0dc08b65f67f67fe0)\n""}]",0,795287,ebaa5bb8a16249b487448be1b7712a47d11396c3,8,3,1,30491,,,0,"Fix RabbitMQ restart ordering

The host list order seen during Ansible handlers may differ to the usual
play host list order, due to race conditions in notifying handlers. This
means that restart_services.yml for RabbitMQ may be included in a
different order than the rabbitmq group, resulting in a node other than
the 'first' being restarted first. This can cause some nodes to fail to
join the cluster. The include_tasks loop was introduced in [1].

This change fixes the issue by splitting the handler into two tasks, and
restarting the first node before all others.

[1] https://review.opendev.org/c/openstack/kolla-ansible/+/763137

Change-Id: I1823301d5889589bfd48326ed7de03c6061ea5ba
Closes-Bug: #1930293
(cherry picked from commit 0cd5b027c985a8f6d3368ae0dc08b65f67f67fe0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/87/795287/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/handlers/main.yml', 'releasenotes/notes/bug-1930293-d8a524f2070e6779.yaml']",2,ebaa5bb8a16249b487448be1b7712a47d11396c3,,--- fixes: - | Fixes more-than-2-node RabbitMQ upgrade failing randomly. `LP#1930293 <https://launchpad.net/bugs/1930293>`__. ,,22,1
openstack%2Fkolla-ansible~stable%2Fwallaby~I1823301d5889589bfd48326ed7de03c6061ea5ba,openstack/kolla-ansible,stable/wallaby,I1823301d5889589bfd48326ed7de03c6061ea5ba,Fix RabbitMQ restart ordering,MERGED,2021-06-08 18:08:05.000000000,2021-06-09 09:28:08.000000000,2021-06-09 09:26:15.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-08 18:08:05.000000000', 'files': ['ansible/roles/rabbitmq/handlers/main.yml', 'releasenotes/notes/bug-1930293-d8a524f2070e6779.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f11af96cc62106cb9ab95e1687a693fa2a6a6df7', 'message': ""Fix RabbitMQ restart ordering\n\nThe host list order seen during Ansible handlers may differ to the usual\nplay host list order, due to race conditions in notifying handlers. This\nmeans that restart_services.yml for RabbitMQ may be included in a\ndifferent order than the rabbitmq group, resulting in a node other than\nthe 'first' being restarted first. This can cause some nodes to fail to\njoin the cluster. The include_tasks loop was introduced in [1].\n\nThis change fixes the issue by splitting the handler into two tasks, and\nrestarting the first node before all others.\n\n[1] https://review.opendev.org/c/openstack/kolla-ansible/+/763137\n\nChange-Id: I1823301d5889589bfd48326ed7de03c6061ea5ba\nCloses-Bug: #1930293\n(cherry picked from commit 0cd5b027c985a8f6d3368ae0dc08b65f67f67fe0)\n""}]",0,795284,f11af96cc62106cb9ab95e1687a693fa2a6a6df7,9,3,1,30491,,,0,"Fix RabbitMQ restart ordering

The host list order seen during Ansible handlers may differ to the usual
play host list order, due to race conditions in notifying handlers. This
means that restart_services.yml for RabbitMQ may be included in a
different order than the rabbitmq group, resulting in a node other than
the 'first' being restarted first. This can cause some nodes to fail to
join the cluster. The include_tasks loop was introduced in [1].

This change fixes the issue by splitting the handler into two tasks, and
restarting the first node before all others.

[1] https://review.opendev.org/c/openstack/kolla-ansible/+/763137

Change-Id: I1823301d5889589bfd48326ed7de03c6061ea5ba
Closes-Bug: #1930293
(cherry picked from commit 0cd5b027c985a8f6d3368ae0dc08b65f67f67fe0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/795284/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/handlers/main.yml', 'releasenotes/notes/bug-1930293-d8a524f2070e6779.yaml']",2,f11af96cc62106cb9ab95e1687a693fa2a6a6df7,,--- fixes: - | Fixes more-than-2-node RabbitMQ upgrade failing randomly. `LP#1930293 <https://launchpad.net/bugs/1930293>`__. ,,22,1
openstack%2Fkolla-ansible~stable%2Fvictoria~I1823301d5889589bfd48326ed7de03c6061ea5ba,openstack/kolla-ansible,stable/victoria,I1823301d5889589bfd48326ed7de03c6061ea5ba,Fix RabbitMQ restart ordering,MERGED,2021-06-08 18:14:11.000000000,2021-06-09 09:28:06.000000000,2021-06-09 09:26:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-08 18:14:11.000000000', 'files': ['ansible/roles/rabbitmq/handlers/main.yml', 'releasenotes/notes/bug-1930293-d8a524f2070e6779.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6387e431f20a26ee89bac26b6255925224df9757', 'message': ""Fix RabbitMQ restart ordering\n\nThe host list order seen during Ansible handlers may differ to the usual\nplay host list order, due to race conditions in notifying handlers. This\nmeans that restart_services.yml for RabbitMQ may be included in a\ndifferent order than the rabbitmq group, resulting in a node other than\nthe 'first' being restarted first. This can cause some nodes to fail to\njoin the cluster. The include_tasks loop was introduced in [1].\n\nThis change fixes the issue by splitting the handler into two tasks, and\nrestarting the first node before all others.\n\n[1] https://review.opendev.org/c/openstack/kolla-ansible/+/763137\n\nChange-Id: I1823301d5889589bfd48326ed7de03c6061ea5ba\nCloses-Bug: #1930293\n(cherry picked from commit 0cd5b027c985a8f6d3368ae0dc08b65f67f67fe0)\n""}]",0,795285,6387e431f20a26ee89bac26b6255925224df9757,10,4,1,30491,,,0,"Fix RabbitMQ restart ordering

The host list order seen during Ansible handlers may differ to the usual
play host list order, due to race conditions in notifying handlers. This
means that restart_services.yml for RabbitMQ may be included in a
different order than the rabbitmq group, resulting in a node other than
the 'first' being restarted first. This can cause some nodes to fail to
join the cluster. The include_tasks loop was introduced in [1].

This change fixes the issue by splitting the handler into two tasks, and
restarting the first node before all others.

[1] https://review.opendev.org/c/openstack/kolla-ansible/+/763137

Change-Id: I1823301d5889589bfd48326ed7de03c6061ea5ba
Closes-Bug: #1930293
(cherry picked from commit 0cd5b027c985a8f6d3368ae0dc08b65f67f67fe0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/795285/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/handlers/main.yml', 'releasenotes/notes/bug-1930293-d8a524f2070e6779.yaml']",2,6387e431f20a26ee89bac26b6255925224df9757,,--- fixes: - | Fixes more-than-2-node RabbitMQ upgrade failing randomly. `LP#1930293 <https://launchpad.net/bugs/1930293>`__. ,,22,1
openstack%2Fneutron~master~Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956,openstack/neutron,master,Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956,[ovn][metadata] Remove metadata readiness mechanism,MERGED,2021-05-18 14:57:13.000000000,2021-06-09 09:22:54.000000000,2021-06-09 09:20:02.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 14:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd33687e1e494dae449ab6d3a9dc17463d29279c', 'message': ""[ovn][metadata] Remove metadata readiness mechanism\n\nPrior to this patch, the metadata agent was writing into SB\ndatabase when a network had been provisioned with metadata\non a particular chassis.\n\nThen, neutron-server would wait for that event to happen with\na 15s timeout before sending the vif-plugged event to Nova.\n\nBy removing this mechanism:\n\n1) We'll save writes to OVN SB database which, in highly loaded\nsystems and at scale reduces significantly the load on ovsdb-server.\n2) We can make OVN metadata agent to connect to slave instances when\nusing active-backup OVN databases since writes are not needed\n3) There's a chance that the VM boots very fast and requests.\nmetadata before the service is ready but since the timeout was\n15 seconds, we can safely rely on the the cloud-init retries.\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956\n""}, {'number': 2, 'created': '2021-05-18 16:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bbe69a0281bc45694a0fe376a5a256b893462c9d', 'message': ""[ovn][metadata] Remove metadata readiness mechanism\n\nPrior to this patch, the metadata agent was writing into SB\ndatabase when a network had been provisioned with metadata\non a particular chassis.\n\nThen, neutron-server would wait for that event to happen with\na 15s timeout before sending the vif-plugged event to Nova.\n\nBy removing this mechanism:\n\n1) We'll save writes to OVN SB database which, in highly loaded\nsystems and at scale reduces significantly the load on ovsdb-server.\n\n2) We can make OVN metadata agent to connect to slave instances when\nusing active-backup OVN databases since writes are not needed.\n\n3) There's a chance that the VM boots very fast and requests\nmetadata before the service is ready but since the timeout was\n15 seconds, we can safely rely on the the cloud-init retries.\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956\n""}, {'number': 3, 'created': '2021-05-19 09:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/802fce3713e0397b5a378924bfce0f785359c447', 'message': ""[ovn][metadata] Remove metadata readiness mechanism\n\nPrior to this patch, the metadata agent was writing into SB\ndatabase when a network had been provisioned with metadata\non a particular chassis.\n\nThen, neutron-server would wait for that event to happen with\na 15s timeout before sending the vif-plugged event to Nova.\n\nBy removing this mechanism:\n\n1) We'll save writes to OVN SB database which, in highly loaded\nsystems and at scale reduces significantly the load on ovsdb-server.\n\n2) Ignoring healthchecks (that still requires write to the SB DB),\nwe can make OVN metadata agent to connect to slave instances when\nusing active-backup OVN databases since writes are not needed.\n\n3) There's a chance that the VM boots very fast and requests\nmetadata before the service is ready but since the timeout was\n15 seconds, we can safely rely on the the cloud-init retries.\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956\n""}, {'number': 4, 'created': '2021-05-24 09:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a857ab5b44d84eac47152ea96a437ecf444366dc', 'message': ""[ovn][metadata] Remove metadata readiness mechanism\n\nPrior to this patch, the metadata agent was writing into SB\ndatabase when a network had been provisioned with metadata\non a particular chassis.\n\nThen, neutron-server would wait for that event to happen with\na 15s timeout before sending the vif-plugged event to Nova.\n\nBy removing this mechanism:\n\n1) We'll save writes to OVN SB database which, in highly loaded\nsystems and at scale reduces significantly the load on ovsdb-server.\n\n2) Ignoring healthchecks (that still requires write to the SB DB),\nwe can make OVN metadata agent to connect to slave instances when\nusing active-backup OVN databases since writes are not needed.\n\n3) There's a chance that the VM boots very fast and requests\nmetadata before the service is ready but since the timeout was\n15 seconds, we can safely rely on the the cloud-init retries.\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956\n""}, {'number': 5, 'created': '2021-05-24 10:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ecf9689d12cdb2dcd4df442a26c682a9108f43b', 'message': ""[ovn][metadata] Remove metadata readiness mechanism\n\nPrior to this patch, the metadata agent was writing into SB\ndatabase when a network had been provisioned with metadata\non a particular chassis.\n\nThen, neutron-server would wait for that event to happen with\na 15s timeout before sending the vif-plugged event to Nova.\n\nBy removing this mechanism:\n\n1) We'll save writes to OVN SB database which, in highly loaded\nsystems and at scale reduces significantly the load on ovsdb-server.\n\n2) Ignoring healthchecks (that still requires write to the SB DB),\nwe can make OVN metadata agent to connect to slave instances when\nusing active-backup OVN databases since writes are not needed.\n\n3) There's a chance that the VM boots very fast and requests\nmetadata before the service is ready but since the timeout was\n15 seconds, we can safely rely on the the cloud-init retries.\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956\n""}, {'number': 6, 'created': '2021-05-24 13:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d2faad27ff1e8c056afd1425159ee7f05d07a26', 'message': ""[ovn][metadata] Remove metadata readiness mechanism\n\nPrior to this patch, the metadata agent was writing into SB\ndatabase when a network had been provisioned with metadata\non a particular chassis.\n\nThen, neutron-server would wait for that event to happen with\na 15s timeout before sending the vif-plugged event to Nova.\n\nBy removing this mechanism:\n\n1) We'll save writes to OVN SB database which, in highly loaded\nsystems and at scale reduces significantly the load on ovsdb-server.\n\n2) Ignoring healthchecks (that still requires write to the SB DB),\nwe can make OVN metadata agent to connect to slave instances when\nusing active-backup OVN databases since writes are not needed.\n\n3) There's a chance that the VM boots very fast and requests\nmetadata before the service is ready but since the timeout was\n15 seconds, we can safely rely on the the cloud-init retries.\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956\n""}, {'number': 7, 'created': '2021-05-25 07:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9bd8d8eb4256d6407c6aa9998ed1d8a6d3f61a35', 'message': ""[ovn][metadata] Remove metadata readiness mechanism\n\nPrior to this patch, the metadata agent was writing into SB\ndatabase when a network had been provisioned with metadata\non a particular chassis.\n\nThen, neutron-server would wait for that event to happen with\na 15s timeout before sending the vif-plugged event to Nova.\n\nBy removing this mechanism:\n\n1) We'll save writes to OVN SB database which, in highly loaded\nsystems and at scale reduces significantly the load on ovsdb-server.\n\n2) Ignoring healthchecks (that still requires write to the SB DB),\nwe can make OVN metadata agent to connect to slave instances when\nusing active-backup OVN databases since writes are not needed.\n\n3) There's a chance that the VM boots very fast and requests\nmetadata before the service is ready but since the timeout was\n15 seconds, we can safely rely on the the cloud-init retries.\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956\n""}, {'number': 8, 'created': '2021-05-25 15:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9648bcb742651dda4d3d29db676c809ee1a3412f', 'message': ""[ovn][metadata] Remove metadata readiness mechanism\n\nPrior to this patch, the metadata agent was writing into SB\ndatabase when a network had been provisioned with metadata\non a particular chassis.\n\nThen, neutron-server would wait for that event to happen with\na 15s timeout before sending the vif-plugged event to Nova.\n\nBy removing this mechanism:\n\n1) We'll save writes to OVN SB database which, in highly loaded\nsystems and at scale reduces significantly the load on ovsdb-server.\n\n2) Ignoring healthchecks (that still requires write to the SB DB),\nwe can make OVN metadata agent to connect to slave instances when\nusing active-backup OVN databases since writes are not needed.\n\n3) There's a chance that the VM boots very fast and requests\nmetadata before the service is ready but since the timeout was\n15 seconds, we can safely rely on the the cloud-init retries.\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956\n""}, {'number': 9, 'created': '2021-05-27 13:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a4db798ed4182b0b342f7ecdbf32a65586260b72', 'message': ""[ovn][metadata] Remove metadata readiness mechanism\n\nPrior to this patch, the metadata agent was writing into SB\ndatabase when a network had been provisioned with metadata\non a particular chassis.\n\nThen, neutron-server would wait for that event to happen with\na 15s timeout before sending the vif-plugged event to Nova.\n\nBy removing this mechanism:\n\n1) We'll save writes to OVN SB database which, in highly loaded\nsystems and at scale reduces significantly the load on ovsdb-server.\n\n2) Ignoring healthchecks (that still requires write to the SB DB),\nwe can make OVN metadata agent to connect to slave instances when\nusing active-backup OVN databases since writes are not needed.\n\n3) There's a chance that the VM boots very fast and requests\nmetadata before the service is ready but since the timeout was\n15 seconds, we can safely rely on the the cloud-init retries.\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956\n""}, {'number': 10, 'created': '2021-06-03 16:09:31.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/agent/ovn/metadata/agent.py', 'doc/source/contributor/internals/ovn/metadata_api.rst', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/36ba1cc3196148850263c8a8c8058e6f7ced3958', 'message': ""[ovn][metadata] Remove metadata readiness mechanism\n\nPrior to this patch, the metadata agent was writing into SB\ndatabase when a network had been provisioned with metadata\non a particular chassis.\n\nThen, neutron-server would wait for that event to happen with\na 15s timeout before sending the vif-plugged event to Nova.\n\nBy removing this mechanism:\n\n1) We'll save writes to OVN SB database which, in highly loaded\nsystems and at scale reduces significantly the load on ovsdb-server.\n\n2) Ignoring healthchecks (that still requires write to the SB DB),\nwe can make OVN metadata agent to connect to slave instances when\nusing active-backup OVN databases since writes are not needed.\n\n3) There's a chance that the VM boots very fast and requests\nmetadata before the service is ready but since the timeout was\n15 seconds, we can safely rely on the the cloud-init retries.\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956\n""}]",16,791997,36ba1cc3196148850263c8a8c8058e6f7ced3958,72,6,10,23804,,,0,"[ovn][metadata] Remove metadata readiness mechanism

Prior to this patch, the metadata agent was writing into SB
database when a network had been provisioned with metadata
on a particular chassis.

Then, neutron-server would wait for that event to happen with
a 15s timeout before sending the vif-plugged event to Nova.

By removing this mechanism:

1) We'll save writes to OVN SB database which, in highly loaded
systems and at scale reduces significantly the load on ovsdb-server.

2) Ignoring healthchecks (that still requires write to the SB DB),
we can make OVN metadata agent to connect to slave instances when
using active-backup OVN databases since writes are not needed.

3) There's a chance that the VM boots very fast and requests
metadata before the service is ready but since the timeout was
15 seconds, we can safely rely on the the cloud-init retries.

Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/791997/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/agent.py', 'doc/source/contributor/internals/ovn/metadata_api.rst', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py']",7,dd33687e1e494dae449ab6d3a9dc17463d29279c,bug/1929578,," def test_set_get_chassis_metadata_networks(self): name = self.data['chassis'][0]['name'] nets = [str(uuid.uuid4()) for _ in range(3)] self.api.set_chassis_metadata_networks(name, nets).execute( check_error=True) self.assertEqual(nets, self.api.get_chassis_metadata_networks(name)) ",3,199
openstack%2Fkolla-ansible~stable%2Fussuri~I1823301d5889589bfd48326ed7de03c6061ea5ba,openstack/kolla-ansible,stable/ussuri,I1823301d5889589bfd48326ed7de03c6061ea5ba,Fix RabbitMQ restart ordering,MERGED,2021-06-08 18:15:42.000000000,2021-06-09 09:18:45.000000000,2021-06-09 09:17:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-08 18:15:42.000000000', 'files': ['ansible/roles/rabbitmq/handlers/main.yml', 'releasenotes/notes/bug-1930293-d8a524f2070e6779.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3ffcf4636f9d9813ca826eea98ae0445fbe7d970', 'message': ""Fix RabbitMQ restart ordering\n\nThe host list order seen during Ansible handlers may differ to the usual\nplay host list order, due to race conditions in notifying handlers. This\nmeans that restart_services.yml for RabbitMQ may be included in a\ndifferent order than the rabbitmq group, resulting in a node other than\nthe 'first' being restarted first. This can cause some nodes to fail to\njoin the cluster. The include_tasks loop was introduced in [1].\n\nThis change fixes the issue by splitting the handler into two tasks, and\nrestarting the first node before all others.\n\n[1] https://review.opendev.org/c/openstack/kolla-ansible/+/763137\n\nChange-Id: I1823301d5889589bfd48326ed7de03c6061ea5ba\nCloses-Bug: #1930293\n(cherry picked from commit 0cd5b027c985a8f6d3368ae0dc08b65f67f67fe0)\n""}]",0,795286,3ffcf4636f9d9813ca826eea98ae0445fbe7d970,10,4,1,30491,,,0,"Fix RabbitMQ restart ordering

The host list order seen during Ansible handlers may differ to the usual
play host list order, due to race conditions in notifying handlers. This
means that restart_services.yml for RabbitMQ may be included in a
different order than the rabbitmq group, resulting in a node other than
the 'first' being restarted first. This can cause some nodes to fail to
join the cluster. The include_tasks loop was introduced in [1].

This change fixes the issue by splitting the handler into two tasks, and
restarting the first node before all others.

[1] https://review.opendev.org/c/openstack/kolla-ansible/+/763137

Change-Id: I1823301d5889589bfd48326ed7de03c6061ea5ba
Closes-Bug: #1930293
(cherry picked from commit 0cd5b027c985a8f6d3368ae0dc08b65f67f67fe0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/86/795286/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/handlers/main.yml', 'releasenotes/notes/bug-1930293-d8a524f2070e6779.yaml']",2,3ffcf4636f9d9813ca826eea98ae0445fbe7d970,,--- fixes: - | Fixes more-than-2-node RabbitMQ upgrade failing randomly. `LP#1930293 <https://launchpad.net/bugs/1930293>`__. ,,22,1
openstack%2Fcyborg-specs~master~Ice44b8da8c90772f6fe125d0d8d870e8e945790a,openstack/cyborg-specs,master,Ice44b8da8c90772f6fe125d0d8d870e8e945790a,[ussuri][goal] Update contributor documentation,MERGED,2021-05-13 22:41:38.000000000,2021-06-09 09:04:48.000000000,2021-06-09 09:03:32.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-05-13 22:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/39979d7d9f60c262121c1d837cf93e5f9a4b9304', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #385179\nChange-Id: Ice44b8da8c90772f6fe125d0d8d870e8e945790a\n'}, {'number': 2, 'created': '2021-05-13 23:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/01b00014e2524acaebb5774180873bf94aa13130', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38519\nChange-Id: Ice44b8da8c90772f6fe125d0d8d870e8e945790a\n'}, {'number': 3, 'created': '2021-05-26 14:08:23.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/a2db67fd275c58890071ee6e192747b656e89eca', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38519\nChange-Id: Ice44b8da8c90772f6fe125d0d8d870e8e945790a\n'}]",1,791326,a2db67fd275c58890071ee6e192747b656e89eca,15,4,3,8556,,,0,"[ussuri][goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38519
Change-Id: Ice44b8da8c90772f6fe125d0d8d870e8e945790a
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/26/791326/2 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,39979d7d9f60c262121c1d837cf93e5f9a4b9304,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/cyborg-specs Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html This repository is for doing design review on feature proposal in Nova. Please refer to `this document <https://opendev.org/openstack/cyborg-specs/src/branch/master/README.rst>`_ for more information.","If you would like to contribute to the development of OpenStack, you must follow the steps in this page: http://docs.openstack.org/infra/manual/developers.html If you already have a good understanding of how the system works and your OpenStack accounts are set up, you can skip to the development workflow section of this documentation to learn how changes to OpenStack should be submitted for review via the Gerrit tool: http://docs.openstack.org/infra/manual/developers.html#development-workflow Pull requests submitted through GitHub will be ignored. Bugs should be filed on Launchpad, not GitHub: https://bugs.launchpad.net/cyborg",9,12
openstack%2Fcyborg-specs~master~Id3d3b574087d97af10617530f6fd3248b8b9bb89,openstack/cyborg-specs,master,Id3d3b574087d97af10617530f6fd3248b8b9bb89,fix the doc format,MERGED,2021-06-03 07:18:50.000000000,2021-06-09 09:03:05.000000000,2021-06-09 09:01:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-06-03 07:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/9f50708efdda46d0b44c5acd8162494383ed9bca', 'message': 'fix the doc format\n\nChange-Id: Id3d3b574087d97af10617530f6fd3248b8b9bb89\n'}, {'number': 2, 'created': '2021-06-09 01:53:55.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/f217af28149e68ec3331472eafe2c6baed420e35', 'message': 'fix the doc format\n\nChange-Id: Id3d3b574087d97af10617530f6fd3248b8b9bb89\n'}]",2,794411,f217af28149e68ec3331472eafe2c6baed420e35,12,4,2,31412,,,0,"fix the doc format

Change-Id: Id3d3b574087d97af10617530f6fd3248b8b9bb89
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/11/794411/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,9f50708efdda46d0b44c5acd8162494383ed9bca,, specs/<release>/approved specifications approved but not yet implemented specs/<release>/implemented implemented specifications, specs/<release>/approved: specifications approved but not yet implemented specs/<release>/implemented: implemented specifications,5,2
openstack%2Fcyborg~master~I2cf328e5a9f0de137edc264cc0d718c324f93209,openstack/cyborg,master,I2cf328e5a9f0de137edc264cc0d718c324f93209,Fill the msg of exception,MERGED,2021-06-04 02:11:16.000000000,2021-06-09 08:53:13.000000000,2021-06-09 08:50:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-06-04 02:11:16.000000000', 'files': ['cyborg/objects/ext_arq.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/40ca546f80344ae761b2f6b84113ffe4a1406d8a', 'message': 'Fill the msg of exception\n\nChange-Id: I2cf328e5a9f0de137edc264cc0d718c324f93209\n'}]",0,794697,40ca546f80344ae761b2f6b84113ffe4a1406d8a,8,4,1,31412,,,0,"Fill the msg of exception

Change-Id: I2cf328e5a9f0de137edc264cc0d718c324f93209
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/97/794697/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/objects/ext_arq.py'],1,40ca546f80344ae761b2f6b84113ffe4a1406d8a,," resource='Attach Handle', msg='with uuid=%s' % db_extarq['attach_handle_id'])"," resource='attach handle', msg='')",2,2
openstack%2Fcyborg~master~I0ab60c869b21471e64c36bfac6dc581aafabf7e5,openstack/cyborg,master,I0ab60c869b21471e64c36bfac6dc581aafabf7e5,Fix the exception content,MERGED,2021-06-04 01:28:26.000000000,2021-06-09 08:51:53.000000000,2021-06-09 08:50:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-06-04 01:28:26.000000000', 'files': ['cyborg/objects/ext_arq.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/1afd34377394703abd420633e7a1e1cbd88e11ed', 'message': 'Fix the exception content\n\nChange-Id: I0ab60c869b21471e64c36bfac6dc581aafabf7e5\n'}]",0,794692,1afd34377394703abd420633e7a1e1cbd88e11ed,8,4,1,31412,,,0,"Fix the exception content

Change-Id: I0ab60c869b21471e64c36bfac6dc581aafabf7e5
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/92/794692/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/objects/ext_arq.py'],1,1afd34377394703abd420633e7a1e1cbd88e11ed,," resources='ExtARQ', msg=""Can not find ExtARQ(%s)"" % self.arq.uuid)"," ""Can not find ExtARQ(%s)"" % self.arq.uuid)",2,1
openstack%2Fneutron~stable%2Fwallaby~If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252,openstack/neutron,stable/wallaby,If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252,Make phynet paramter also is optional when network_segment_range enabled,MERGED,2021-06-08 11:24:26.000000000,2021-06-09 08:50:31.000000000,2021-06-09 08:48:09.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 11:24:26.000000000', 'files': ['neutron/tests/unit/objects/test_network_segment_range.py', 'neutron/objects/network_segment_range.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c9ffea8d5fab316d2c2a0bb800aa8b9acc10a6e', 'message': 'Make phynet paramter also is optional when network_segment_range enabled\n\nWhen network_segment_range plugin is not enabled, we can create a provider\nnetwork without physical_network parameter. In order to compatibility,\nWe should support to not provide physical_network parameter when create\nprovider network with network_segment_range plugin enabled.\n\nCloses-Bug: #1914842\nChange-Id: If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252\n(cherry picked from commit fa7c7282f019d3e0dd4d492f5ff2c47bd45b0ce7)\n'}]",0,795277,9c9ffea8d5fab316d2c2a0bb800aa8b9acc10a6e,10,3,1,28329,,,0,"Make phynet paramter also is optional when network_segment_range enabled

When network_segment_range plugin is not enabled, we can create a provider
network without physical_network parameter. In order to compatibility,
We should support to not provide physical_network parameter when create
provider network with network_segment_range plugin enabled.

Closes-Bug: #1914842
Change-Id: If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252
(cherry picked from commit fa7c7282f019d3e0dd4d492f5ff2c47bd45b0ce7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/795277/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/objects/test_network_segment_range.py', 'neutron/objects/network_segment_range.py']",2,9c9ffea8d5fab316d2c2a0bb800aa8b9acc10a6e,bug/1914842-stable/wallaby, if (network_type == constants.TYPE_VLAN and 'physical_network' in _filters): if (network_type == constants.TYPE_VLAN and 'physical_network' in _filters):, if network_type == constants.TYPE_VLAN: if network_type == constants.TYPE_VLAN:,80,4
openstack%2Fcyborg~master~I738d1fa2a45d13685786ef9a8a29b8b85069bfa8,openstack/cyborg,master,I738d1fa2a45d13685786ef9a8a29b8b85069bfa8,Add ut for nova returns HTTP 207 with all event code 400,MERGED,2021-04-08 08:05:09.000000000,2021-06-09 08:49:09.000000000,2021-06-09 08:47:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-04-08 08:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/32fc296494e509d0e194ee51bae996eec87667c8', 'message': 'Add ut for nova returns HTTP 207 with event code other than 422\n\nAdd ut for nova returns HTTP 207 with event code other than 422 and\nraise an exception.\n\nChange-Id: I738d1fa2a45d13685786ef9a8a29b8b85069bfa8\n'}, {'number': 2, 'created': '2021-04-09 01:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ffdf908ce8cbbae0ae7aaaf3fc4b118e6ed759bf', 'message': 'Add ut for nova returns HTTP 207 with all event code 400\n\nAdd ut for nova returns HTTP 207 with all event code 400 and\nraise an exception.\nModify original ut function name and comment messages.\n\nChange-Id: I738d1fa2a45d13685786ef9a8a29b8b85069bfa8\n'}, {'number': 3, 'created': '2021-06-08 00:42:55.000000000', 'files': ['cyborg/tests/unit/common/test_nova_client.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/0a3efbcec84f1bc9594fc786eda2b3aa8ea7933e', 'message': 'Add ut for nova returns HTTP 207 with all event code 400\n\nAdd ut for nova returns HTTP 207 with all event code 400 and\nraise an exception.\nModify original ut function name and comment messages.\n\nChange-Id: I738d1fa2a45d13685786ef9a8a29b8b85069bfa8\n'}]",11,785336,0a3efbcec84f1bc9594fc786eda2b3aa8ea7933e,18,4,3,31412,,,0,"Add ut for nova returns HTTP 207 with all event code 400

Add ut for nova returns HTTP 207 with all event code 400 and
raise an exception.
Modify original ut function name and comment messages.

Change-Id: I738d1fa2a45d13685786ef9a8a29b8b85069bfa8
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/36/785336/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/tests/unit/common/test_nova_client.py'],1,32fc296494e509d0e194ee51bae996eec87667c8,785336," def test_send_events_423_exception(self): # If Nova returns HTTP 207 with event code other than 422, # raise an exception. resp_events = copy.deepcopy(self.events) for ev in resp_events: ev.update({'status': 'failed', 'code': 423}) nova_resp = {'events': resp_events} mock_ret = mock.Mock(status_code=207) mock_ret.json.return_value = nova_resp self.mock_sdk.post.return_value = mock_ret nova = nova_client.NovaAPI() self.assertRaises(exception.InvalidAPIResponse, nova._send_events, self.events) ",,15,0
openstack%2Fkolla~stable%2Fvictoria~I0cb0512ef40c48353d582b1c37a446f251b79ac7,openstack/kolla,stable/victoria,I0cb0512ef40c48353d582b1c37a446f251b79ac7,WIP: libvirt: pin edk2-ovmf for CentOS Stream,ABANDONED,2021-05-31 09:56:07.000000000,2021-06-09 08:41:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-31 09:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/71d47aee84c3fdaeea101ee19414e10f0d1e9ab4', 'message': ""WIP: libvirt: pin edk2-ovmf for CentOS Stream\n\nedk2-ovmf introduced a bug [1] and results libvirt/qemu errors\nIt's going to be fixed in next rebase to libvirt 7.4.0 - but let's pin for now.\n\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1961558#c10\n\nChange-Id: I0cb0512ef40c48353d582b1c37a446f251b79ac7\n(cherry picked from commit 1a2c33512b6c4bdcdbf7d7bb08e791fb53e4f063)\n""}, {'number': 2, 'created': '2021-05-31 09:58:08.000000000', 'files': ['docker/nova/nova-libvirt/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cf59a10eaa8e27d23b76a1faca77a3fae7c422dd', 'message': ""WIP: libvirt: pin edk2-ovmf for CentOS Stream\n\nedk2-ovmf introduced a bug [1] and results libvirt/qemu errors\nIt's going to be fixed in next rebase to libvirt 7.4.0 - but let's pin for now.\n\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1961558#c10\n\nChange-Id: I0cb0512ef40c48353d582b1c37a446f251b79ac7\n(cherry picked from commit 1a2c33512b6c4bdcdbf7d7bb08e791fb53e4f063)\n""}]",0,793686,cf59a10eaa8e27d23b76a1faca77a3fae7c422dd,7,1,2,22629,,,0,"WIP: libvirt: pin edk2-ovmf for CentOS Stream

edk2-ovmf introduced a bug [1] and results libvirt/qemu errors
It's going to be fixed in next rebase to libvirt 7.4.0 - but let's pin for now.

[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1961558#c10

Change-Id: I0cb0512ef40c48353d582b1c37a446f251b79ac7
(cherry picked from commit 1a2c33512b6c4bdcdbf7d7bb08e791fb53e4f063)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/86/793686/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-libvirt/Dockerfile.j2'],1,71d47aee84c3fdaeea101ee19414e10f0d1e9ab4,victoria_centos8s, # TODO(mnasiadka): Remove pin after https://bugzilla.redhat.com/show_bug.cgi?id=1961558#c10 is fixed 'edk2-ovmf-20200602gitca407c7246bf-4.el8', 'edk2-ovmf',2,1
openstack%2Ftempest~master~I44ae4a4b7070dd44f50070ad24e9d33f417ae955,openstack/tempest,master,I44ae4a4b7070dd44f50070ad24e9d33f417ae955,Move stable job definition to stable-jobs.yaml,MERGED,2021-06-02 17:31:24.000000000,2021-06-09 08:31:54.000000000,2021-06-09 08:29:18.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-06-02 17:31:24.000000000', 'files': ['zuul.d/stable-jobs.yaml', 'zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3c10d6870fe1502f83059f1a0b86e770b3910b1a', 'message': 'Move stable job definition to stable-jobs.yaml\n\nWe have many job definition version for stable and master\ngate and those are in same file integrated-gate.yaml. This\ncreate confusion while modifying these jobs for master and\ncan end up modifying stable version.\n\nExample: https://review.opendev.org/c/openstack/tempest/+/794312\n\nKeeping all stable job definition in stable-jobs.yaml will help\nus to accidentally modifying the stable jobs definition.\n\nChange-Id: I44ae4a4b7070dd44f50070ad24e9d33f417ae955\n'}]",0,794319,3c10d6870fe1502f83059f1a0b86e770b3910b1a,8,2,1,8556,,,0,"Move stable job definition to stable-jobs.yaml

We have many job definition version for stable and master
gate and those are in same file integrated-gate.yaml. This
create confusion while modifying these jobs for master and
can end up modifying stable version.

Example: https://review.opendev.org/c/openstack/tempest/+/794312

Keeping all stable job definition in stable-jobs.yaml will help
us to accidentally modifying the stable jobs definition.

Change-Id: I44ae4a4b7070dd44f50070ad24e9d33f417ae955
",git fetch https://review.opendev.org/openstack/tempest refs/changes/19/794319/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/stable-jobs.yaml', 'zuul.d/integrated-gate.yaml']",2,3c10d6870fe1502f83059f1a0b86e770b3910b1a,stable-jobs,," # This job version is with swift disabled on py3 # as swift was not ready on py3 until stable/train. branches: - stable/pike - stable/queens - stable/rocky - stable/stein - stable/train description: | Base integration test with Neutron networking, swift disabled, and py3. Former names for this job where: * legacy-tempest-dsvm-py35 * gate-tempest-dsvm-py35 required-projects: - openstack/horizon vars: tox_envlist: full devstack_localrc: USE_PYTHON3: true FORCE_CONFIG_DRIVE: true ENABLE_VOLUME_MULTIATTACH: true GLANCE_USE_IMPORT_WORKFLOW: True devstack_plugins: neutron: https://opendev.org/openstack/neutron devstack_local_conf: post-config: ""/$NEUTRON_CORE_PLUGIN_CONF"": ovs: bridge_mappings: public:br-ex resource_provider_bandwidths: br-ex:1000000:1000000 test-config: $TEMPEST_CONFIG: network-feature-enabled: qos_placement_physnet: public devstack_services: # Enbale horizon so that we can run horizon test. horizon: true s-account: false s-container: false s-object: false s-proxy: false # without Swift, c-bak cannot run (in the Gate at least) # NOTE(mriedem): Disable the cinder-backup service from # tempest-full-py3 since tempest-full-py3 is in the integrated-gate-py3 # project template but the backup tests do not really involve other # services so they should be run in some more cinder-specific job, # especially because the tests fail at a high rate (see bugs 1483434, # 1813217, 1745168) c-bak: false neutron-placement: true neutron-qos: true - job: name: tempest-full-py3 parent: devstack-tempest name: tempest-multinode-full parent: tempest-multinode-full-base nodeset: openstack-two-node-bionic # This job runs on Bionic and on python2. This is for stable/stein and stable/train. # This job is prepared to make sure all stable branches from stable/stein till stable/train # will keep running on bionic. This can be removed once stable/train is EOL. branches: - stable/stein - stable/train - stable/ussuri vars: devstack_localrc: USE_PYTHON3: False group-vars: subnode: devstack_localrc: USE_PYTHON3: False - job: name: tempest-multinode-full parent: tempest-multinode-full-base nodeset: openstack-two-node-xenial # This job runs on Xenial and this is for stable/pike, stable/queens # and stable/rocky. This job is prepared to make sure all stable branches # before stable/stein will keep running on xenial. This job can be # removed once stable/rocky is EOL. branches: - stable/pike - stable/queens - stable/rocky vars: devstack_localrc: USE_PYTHON3: False group-vars: subnode: devstack_localrc: USE_PYTHON3: False - job: name: tempest-slow parent: tempest-multinode-full description: | This multinode integration job will run all the tests tagged as slow. It enables the lvm multibackend setup to cover few scenario tests. This job will run only slow tests (API or Scenario) serially. Former names for this job were: * legacy-tempest-dsvm-neutron-scenario-multinode-lvm-multibackend * tempest-scenario-multinode-lvm-multibackend timeout: 10800 branches: - stable/pike - stable/queens - stable/rocky vars: tox_envlist: slow-serial devstack_localrc: CINDER_ENABLED_BACKENDS: lvm:lvmdriver-1,lvm:lvmdriver-2 ENABLE_VOLUME_MULTIATTACH: true # to avoid https://bugs.launchpad.net/neutron/+bug/1914037 # as we couldn't backport the fix to rocky and older releases IPV6_PUBLIC_RANGE: 2001:db8:0:10::/64 IPV6_PUBLIC_NETWORK_GATEWAY: 2001:db8:0:10::2 IPV6_ROUTER_GW_IP: 2001:db8:0:10::1 devstack_plugins: neutron: https://opendev.org/openstack/neutron devstack_services: neutron-placement: true neutron-qos: true tempest_concurrency: 2 group-vars: # NOTE(mriedem): The ENABLE_VOLUME_MULTIATTACH variable is used on both # the controller and subnode prior to Rocky so we have to make sure the # variable is set in both locations. subnode: devstack_localrc: ENABLE_VOLUME_MULTIATTACH: true - job:",133,134
openstack%2Fkolla-ansible~master~Ic251b447026262eab4b406b8432cc009ca97ae82,openstack/kolla-ansible,master,Ic251b447026262eab4b406b8432cc009ca97ae82,cephadm: Set auth_allow_insecure_global_id_reclaim to true,MERGED,2021-04-23 14:19:12.000000000,2021-06-09 08:28:14.000000000,2021-04-28 09:42:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-23 14:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/faf0e29d702e6fcd6a7ad690b8699be2c35ac068', 'message': 'cephadm: Set auth_allow_insecure_global_id_reclaim to true\n\nBackground in [1].\nUbuntu uses pre 15.2.11 client and new 15.2.11 installs default that to false,\ntherefore not allowing Ubuntu clients to connect.\n\n[1]: https://docs.ceph.com/en/latest/security/CVE-2021-20288/\n\nChange-Id: Ic251b447026262eab4b406b8432cc009ca97ae82\n'}, {'number': 2, 'created': '2021-04-27 12:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9283906bb346a415a0a613f136f5bac03c822c1e', 'message': 'cephadm: Set auth_allow_insecure_global_id_reclaim to true\n\nBackground in [1].\nUbuntu uses pre 15.2.11 client and new 15.2.11 installs default that to false,\ntherefore not allowing Ubuntu clients to connect.\n\n[1]: https://docs.ceph.com/en/latest/security/CVE-2021-20288/\n\nChange-Id: Ic251b447026262eab4b406b8432cc009ca97ae82\n'}, {'number': 3, 'created': '2021-04-27 12:46:07.000000000', 'files': ['roles/cephadm/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a967b9dd66fad5b055b071794a4b059feed9fe90', 'message': 'cephadm: Set auth_allow_insecure_global_id_reclaim to true\n\nBackground in [1].\nUbuntu uses pre 15.2.11 client and new 15.2.11 installs default that to false,\ntherefore not allowing Ubuntu clients to connect.\n\n[1]: https://docs.ceph.com/en/latest/security/CVE-2021-20288/\n\nChange-Id: Ic251b447026262eab4b406b8432cc009ca97ae82\n'}]",2,787753,a967b9dd66fad5b055b071794a4b059feed9fe90,18,4,3,22629,,,0,"cephadm: Set auth_allow_insecure_global_id_reclaim to true

Background in [1].
Ubuntu uses pre 15.2.11 client and new 15.2.11 installs default that to false,
therefore not allowing Ubuntu clients to connect.

[1]: https://docs.ceph.com/en/latest/security/CVE-2021-20288/

Change-Id: Ic251b447026262eab4b406b8432cc009ca97ae82
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/787753/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/cephadm/tasks/main.yml'],1,faf0e29d702e6fcd6a7ad690b8699be2c35ac068,,# NOTE(mnasiadka): Ubuntu uses pre 15.2.11 Octopus client code and suffers from # https://docs.ceph.com/en/latest/security/CVE-2021-20288/ - name: Set auth_allow_insecure_global_id_reclaim to True command: cmd: > cephadm shell -- ceph config set mon auth_allow_insecure_global_id_reclaim true become: true ,,10,0
openstack%2Fheat~master~I97e05c3d912030dbf77218b114e9e16fb25dca97,openstack/heat,master,I97e05c3d912030dbf77218b114e9e16fb25dca97,Add explict dependency to avoid gate unstable,MERGED,2021-06-04 03:13:57.000000000,2021-06-09 08:22:23.000000000,2021-06-09 08:20:32.000000000,"[{'_account_id': 4257}, {'_account_id': 8064}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 03:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ad638d88061a5ac74323823e96d59dc145a7f848', 'message': 'Add explict dependency to avoid gate unstable\n\nGate job is extrimely unstable because [1]\nThis patch propose to add explict dependency before we fix the issue.\n\nStory: 2008936\nTask: 42544\n\n[1] https://storyboard.openstack.org/#!/story/2008936\n\nChange-Id: I97e05c3d912030dbf77218b114e9e16fb25dca97\n'}, {'number': 2, 'created': '2021-06-04 05:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/097801ad4d1f4ced11d5b6a67668284ecc28454f', 'message': 'Add explict dependency to avoid gate unstable\n\nGate job is extremely unstable because [1]\nThis patch propose to add explict dependency before we fix the issue.\n\nStory: 2008936\nTask: 42544\n\n[1] https://storyboard.openstack.org/#!/story/2008936\n\nChange-Id: I97e05c3d912030dbf77218b114e9e16fb25dca97\n'}, {'number': 3, 'created': '2021-06-07 14:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ab81a0e9e4391e9e8d0231ac0c8a91f8aa4858fe', 'message': 'Add explict dependency to avoid gate unstable\n\nGate job is extremely unstable because [1]\nThis patch propose to add explict dependency before we fix the issue.\n\nStory: 2008936\nTask: 42544\n\n[1] https://storyboard.openstack.org/#!/story/2008936\n\nChange-Id: I97e05c3d912030dbf77218b114e9e16fb25dca97\n'}, {'number': 4, 'created': '2021-06-07 17:12:57.000000000', 'files': ['heat_integrationtests/functional/test_create_update.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ec0c79a155a46929a30eeb7bfa41439e0e6267a7', 'message': 'Add explict dependency to avoid gate unstable\n\nGate job is extremely unstable because [1]\nThis patch propose to add explict dependency before we fix the issue.\n\nStory: 2008936\nTask: 42544\n\n[1] https://storyboard.openstack.org/#!/story/2008936\n\nChange-Id: I97e05c3d912030dbf77218b114e9e16fb25dca97\n'}]",2,794702,ec0c79a155a46929a30eeb7bfa41439e0e6267a7,19,4,4,12404,,,0,"Add explict dependency to avoid gate unstable

Gate job is extremely unstable because [1]
This patch propose to add explict dependency before we fix the issue.

Story: 2008936
Task: 42544

[1] https://storyboard.openstack.org/#!/story/2008936

Change-Id: I97e05c3d912030dbf77218b114e9e16fb25dca97
",git fetch https://review.opendev.org/openstack/heat refs/changes/02/794702/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_integrationtests/functional/test_create_update.py'],1,ad638d88061a5ac74323823e96d59dc145a7f848,story/2008936, depends_on: data_volume,,1,0
openstack%2Fhorizon~master~I1bfec4179f147e94663fdcf0145280a43acc4029,openstack/horizon,master,I1bfec4179f147e94663fdcf0145280a43acc4029,Imported Translations from Zanata,MERGED,2021-06-09 06:48:47.000000000,2021-06-09 08:06:28.000000000,2021-06-09 08:05:05.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 06:48:47.000000000', 'files': ['openstack_dashboard/locale/es/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I1bfec4179f147e94663fdcf0145280a43acc4029\n'}]",0,795482,647c2b7530f81c4a534ef1d403aa3d90ae608442,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I1bfec4179f147e94663fdcf0145280a43acc4029
",git fetch https://review.opendev.org/openstack/horizon refs/changes/82/795482/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/locale/es/LC_MESSAGES/djangojs.po'],1,647c2b7530f81c4a534ef1d403aa3d90ae608442,zanata/translations,"# Alberto Molina Coballes <alberto@tinaja.es>, 2016. #zanata# Alberto Molina Coballes <alberto@tinaja.es>, 2017. #zanata# Alberto Molina Coballes <alberto@tinaja.es>, 2018. #zanata # Alberto Molina Coballes <alberto@tinaja.es>, 2021. #zanata""POT-Creation-Date: 2021-06-06 15:02+0000\n""""PO-Revision-Date: 2021-06-08 07:02+0000\n"" ""Last-Translator: Alberto Molina Coballes <alberto@tinaja.es>\n""""Es obligatorio establecer Disco Mnimo y debe ser un entero mayor o igual ""","# Alberto Molina Coballes <alb.molina@gmail.com>, 2016. #zanata# Alberto Molina Coballes <alb.molina@gmail.com>, 2017. #zanata# Alberto Molina Coballes <alb.molina@gmail.com>, 2018. #zanata # Alberto Molina Coballes <alb.molina@gmail.com>, 2021. #zanata""POT-Creation-Date: 2021-06-03 13:59+0000\n""""PO-Revision-Date: 2021-06-03 07:15+0000\n"" ""Last-Translator: Alberto Molina Coballes <alb.molina@gmail.com>\n""""El obligatorio establecer Disco Mnimo y debe ser un entero mayor o igual """,8,8
openstack%2Fnova-specs~master~I5c6c3aa7aceda68a1890d79f1028e1d503c7cf5c,openstack/nova-specs,master,I5c6c3aa7aceda68a1890d79f1028e1d503c7cf5c,Add no user token when get Cyborg client,MERGED,2021-04-20 10:16:33.000000000,2021-06-09 08:05:24.000000000,2021-06-02 11:36:39.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-04-20 10:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e00b5eb624f6880be310376cb1d62c7a657fadeb', 'message': 'Add no user token when get Cyborg client\n\nWhen we resume guest state with accelerator bound, we should pass\nthe accel_info when the guest hard reboot, please see the bug(#1908383).\n\nIn the process of getting accel info, we should add no user token auth to\nget Cyborg client by cyborg user password configured, or the VM will be set\nerror because of lost communication with Cyborg.\n\nSo add user/project CONF with admin role at cyborg group, and when determine\ncontext is_admin and without token, do authenticaion with user/project info\nto call cyborg api.\n\nChange-Id: I5c6c3aa7aceda68a1890d79f1028e1d503c7cf5c\n'}, {'number': 2, 'created': '2021-04-21 09:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/26ef386a76f939f6c480287748f11192cc47867c', 'message': 'Add no user token when get Cyborg client\n\nWhen we resume guest state with accelerator bound, we should pass\nthe accel_info when the guest hard reboot, please see the bug(#1908383).\n\nIn the process of getting accel info, we should add no user token auth to\nget Cyborg client by cyborg user password configured, or the VM will be set\nerror because of lost communication with Cyborg.\n\nSo add user/project CONF with admin role at cyborg group, and when determine\ncontext is_admin and without token, do authenticaion with user/project info\nto call cyborg api.\n\nChange-Id: I5c6c3aa7aceda68a1890d79f1028e1d503c7cf5c\n'}, {'number': 3, 'created': '2021-04-21 09:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8ed1ec7340a74bded7c56ac84836ea0cb860493f', 'message': 'Add no user token when get Cyborg client\n\nWhen we resume guest state with accelerator bound, we should pass\nthe accel_info when the guest hard reboot, please see the bug(#1908383).\n\nIn the process of getting accel info, we should add no user token auth to\nget Cyborg client by cyborg user password configured, or the VM will be set\nerror because of lost communication with Cyborg.\n\nSo add user/project CONF with admin role at cyborg group, and when determine\ncontext is_admin and without token, do authenticaion with user/project info\nto call cyborg api.\n\nChange-Id: I5c6c3aa7aceda68a1890d79f1028e1d503c7cf5c\n'}, {'number': 4, 'created': '2021-04-21 09:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4db9e5746461c7b371adf897032da543cca23cfe', 'message': 'Add no user token when get Cyborg client\n\nWhen we resume guest state with accelerator bound, we should pass\nthe accel_info when the guest hard reboot, please see the bug(#1908383).\n\nIn the process of getting accel info, we should add no user token auth to\nget Cyborg client by cyborg user password configured, or the VM will be set\nerror because of lost communication with Cyborg.\n\nSo add user/project CONF with admin role at cyborg group, and when determine\ncontext is_admin and without token, do authenticaion with user/project info\nto call cyborg api.\n\nChange-Id: I5c6c3aa7aceda68a1890d79f1028e1d503c7cf5c\n'}, {'number': 5, 'created': '2021-05-26 01:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/039f00f892db61850fad1f8cd81edb781d6bfe5a', 'message': 'Add no user token when get Cyborg client\n\nWhen we resume guest state with accelerator bound, we should pass\nthe accel_info when the guest hard reboot, please see the bug(#1908383).\n\nIn the process of getting accel info, we should add no user token auth to\nget Cyborg client by cyborg user password configured, or the VM will be set\nerror because of lost communication with Cyborg.\n\nSo add user/project CONF with admin role at cyborg group, and when determine\ncontext is_admin and without token, do authenticaion with user/project info\nto call cyborg api.\n\nBlueprint: cyborg-admin-user-client\nChange-Id: I5c6c3aa7aceda68a1890d79f1028e1d503c7cf5c\n'}, {'number': 6, 'created': '2021-05-27 01:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/00b6e00f4b54daa98f5323ccfa1e100684801cdc', 'message': 'Add no user token when get Cyborg client\n\nWhen we resume guest state with accelerator bound, we should pass\nthe accel_info when the guest hard reboot, please see the bug(#1908383).\n\nIn the process of getting accel info, we should add no user token auth to\nget Cyborg client by cyborg user password configured, or the VM will be set\nerror because of lost communication with Cyborg.\n\nSo add user/project CONF with admin role at cyborg group, and when determine\ncontext is_admin and without token, do authenticaion with user/project info\nto call cyborg api.\n\nBlueprint: cyborg-admin-user-client\nChange-Id: I5c6c3aa7aceda68a1890d79f1028e1d503c7cf5c\n'}, {'number': 7, 'created': '2021-06-02 10:53:33.000000000', 'files': ['specs/xena/approved/cyborg-no-user-token.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3aa1374c261827a51a294d96708ffafc402ea207', 'message': 'Add no user token when get Cyborg client\n\nWhen we resume guest state with accelerator bound, we should pass\nthe accel_info when the guest hard reboot, please see the bug(#1908383).\n\nIn the process of getting accel info, we should add no user token auth to\nget Cyborg client by cyborg user password configured, or the VM will be set\nerror because of lost communication with Cyborg.\n\nSo add user/project CONF with admin role at cyborg group, and when determine\ncontext is_admin and without token, do authenticaion with user/project info\nto call cyborg api.\n\nBlueprint: cyborg-admin-user-client\nChange-Id: I5c6c3aa7aceda68a1890d79f1028e1d503c7cf5c\n'}]",43,787178,3aa1374c261827a51a294d96708ffafc402ea207,32,5,7,31412,,,0,"Add no user token when get Cyborg client

When we resume guest state with accelerator bound, we should pass
the accel_info when the guest hard reboot, please see the bug(#1908383).

In the process of getting accel info, we should add no user token auth to
get Cyborg client by cyborg user password configured, or the VM will be set
error because of lost communication with Cyborg.

So add user/project CONF with admin role at cyborg group, and when determine
context is_admin and without token, do authenticaion with user/project info
to call cyborg api.

Blueprint: cyborg-admin-user-client
Change-Id: I5c6c3aa7aceda68a1890d79f1028e1d503c7cf5c
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/78/787178/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/cyborg-no-user-token.rst'],1,e00b5eb624f6880be310376cb1d62c7a657fadeb,787178,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================= Add no user token auth when get Cyborg client ============================================= https://blueprints.launchpad.net/nova/+spec/cyborg-no-user-token Process no token info scenarios when call Cyborg api by cyborgclient. Problem description =================== Nowadays, when we resume guest state with accelerator bound, we should pass the accel_info when the guest hard reboot, otherwise, the vm will lost connection with accelerator because the new vm xml not includes the accelerator hostdev. In the process of getting accel info, we should add no user token auth to get Cyborg client by cyborg user password configured, or the VM will be set error because of lost communication with Cyborg. So add user/project CONF with admin role at cyborg group, and when determine context is_admin and without token, do authenticaion with user/project info to call cyborg api. Use Cases --------- When we resume guest state with accelerator bound, we should pass the accel_info when the guest hard reboot. At this time to get accel_info from cyborg, nova call cyborg will fail with admin context which donot have token info. Proposed change =============== Add Cyborg auth configuration in nova-cpu.conf. Alternatives ------------ None Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- Introduce user information to obtain authentication, which will make Nova and Cyborg interaction more secure. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ None Other deployer impact --------------------- Deployers will have to add Cyborg auth with user and password configuration in nova-cpu.conf for nova-compute service. Developer impact ---------------- None Upgrade impact -------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: songwenping Feature Liaison --------------- Feature liaison: songwenping Work Items ---------- * Register Cyborg group conf. * Add no user token when get Cyborg client. * Add related tests. Dependencies ============ None. Testing ======= * Fix old unit and functional tests. * Add related tests. Documentation Impact ==================== None. References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Xena ",,147,0
openstack%2Fdevstack-gate~master~Id5262a22fb119447eecb0a77f1d2be2940786226,openstack/devstack-gate,master,Id5262a22fb119447eecb0a77f1d2be2940786226,Move devstack-gate jobs list to in-tree,MERGED,2021-06-08 16:52:36.000000000,2021-06-09 08:00:44.000000000,2021-06-09 08:00:44.000000000,"[{'_account_id': 4146}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 16:52:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/7a9cb8e3c41f9bb2c3d7fccad3f069ad92064103', 'message': 'Move devstack-gate jobs list to in-tree\n\nIt is easy to know all the jobs running on devstack-gate\nif they are listed in-tree.\n\nThis will also help in deprecation of devstack-gate for master\n(Xena onwards) while converting those jobs to run for stable branch.\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/795379\n\nChange-Id: Id5262a22fb119447eecb0a77f1d2be2940786226\n'}]",0,795380,7a9cb8e3c41f9bb2c3d7fccad3f069ad92064103,8,3,1,8556,,,0,"Move devstack-gate jobs list to in-tree

It is easy to know all the jobs running on devstack-gate
if they are listed in-tree.

This will also help in deprecation of devstack-gate for master
(Xena onwards) while converting those jobs to run for stable branch.

Depends-On: https://review.opendev.org/c/openstack/project-config/+/795379

Change-Id: Id5262a22fb119447eecb0a77f1d2be2940786226
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/80/795380/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7a9cb8e3c41f9bb2c3d7fccad3f069ad92064103,deprecate-devstack-gate, templates: - integrated-gate-py3 - official-openstack-repo-jobs - openstack-python35-jobs - openstack-tox-py27 - neutron-grenade - neutron-grenade-multinode - neutron-grenade-dvr-multinode: voting: false - legacy-tempest-dsvm-neutron-full-ocata: voting: false - legacy-tempest-dsvm-neutron-full-centos-7: voting: false - legacy-tempest-dsvm-multinode-full: voting: false gate: queue: integrated jobs: - openstack-tox-py27 - neutron-grenade - neutron-grenade-multinode experimental: jobs: - legacy-tempest-dsvm-neutron-dvr-multinode-full - neutron-tempest-dvr-ha-multinode-full,,25,0
openstack%2Fhorizon~stable%2Fvictoria~I3c89da1ec8b3aba82490b0863e8b2757f6ec97eb,openstack/horizon,stable/victoria,I3c89da1ec8b3aba82490b0863e8b2757f6ec97eb,Imported Translations from Zanata,MERGED,2021-06-09 06:57:07.000000000,2021-06-09 07:58:43.000000000,2021-06-09 07:56:48.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 06:57:07.000000000', 'files': ['doc/source/locale/en_GB/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'openstack_dashboard/locale/es/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f9da495c5446ffc2d2863755348ff0b96d3ce3b4', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I3c89da1ec8b3aba82490b0863e8b2757f6ec97eb\n'}]",0,795483,f9da495c5446ffc2d2863755348ff0b96d3ce3b4,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3c89da1ec8b3aba82490b0863e8b2757f6ec97eb
",git fetch https://review.opendev.org/openstack/horizon refs/changes/83/795483/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/en_GB/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'openstack_dashboard/locale/es/LC_MESSAGES/djangojs.po']",3,f9da495c5446ffc2d2863755348ff0b96d3ce3b4,zanata/translations,"# Alberto Molina Coballes <alberto@tinaja.es>, 2016. #zanata# Alberto Molina Coballes <alberto@tinaja.es>, 2017. #zanata# Alberto Molina Coballes <alberto@tinaja.es>, 2018. #zanata # Alberto Molina Coballes <alberto@tinaja.es>, 2021. #zanata""POT-Creation-Date: 2021-06-08 08:04+0000\n""""PO-Revision-Date: 2021-06-08 07:30+0000\n"" ""Last-Translator: Alberto Molina Coballes <alberto@tinaja.es>\n""msgid """" ""A container is a storage compartment for your data and provides a way for\n"" "" you to organize your data. You can think of a container as a folder in\n"" "" Windows or a directory in UNIX. The primary difference between a\n"" "" container and these other file system concepts is that containers cannot "" ""be\n"" "" nested. You can, however, create an unlimited number of containers within\n"" "" your account. Data must be stored in a container so you must have at "" ""least\n"" "" one container defined in your account prior to uploading data."" msgstr """" ""Un contenedor es un compartimiento de almacenamiento de sus datos que "" ""proporciona \n"" "" una manera de organizarlos. Puede pensar que un contenedor es como una "" ""carpeta de \n"" "" Windows &reg; o un directorio en UNIX &reg;. La principal diferencia entre "" ""un \n"" "" contenedor y estos otros conceptos de sistemas de archivos es que un "" ""contenedor no se \n"" "" puede anidar. Sin embargo, puede crear un nmero ilimitado de contenedores "" ""con su cuenta. \n"" "" Los datos deben almacenarse en un contenedor, por lo que al menos debe "" ""tener un\n"" "" contenedor definido en su cuenta antes de subir datos."" msgid ""Affinity"" msgstr ""Afinidad"" msgid """" ""Also note that segmentation details may be mandatory\n"" "" or optional depending on the backend. Notably Ironic may provide\n"" "" segmentation details instead of the user."" msgstr """" ""Tenga en cuenta tambin que los detalles de segmentacin pueden ser \n"" "" obligatorios u opcionales dependiendo del backend. Especialmente Ironic "" ""puede\n"" ""proporcionar detalles de segmentacin en lugar del usuario."" msgid ""Anti Affinity"" msgstr ""Anti-afinidad"" msgid ""Confirm Delete Domain"" msgid_plural ""Confirm Delete Domains"" msgstr[0] ""Confirmar borrar dominio"" msgstr[1] ""Confirmar borrar dominios"" msgid ""Confirm Delete Group"" msgid_plural ""Confirm Delete Groups"" msgstr[0] ""Confirmar borrar grupo"" msgstr[1] ""Confirmar borrar grupos"" msgid ""Confirm Delete Policy"" msgid_plural ""Confirm Delete Policies"" msgstr[0] ""Confirmar borrar poltica"" msgstr[1] ""Confirmar borrar polticas"" msgid ""Confirm Delete Server Group"" msgid_plural ""Confirm Delete Server Groups"" msgstr[0] ""Confirmar borrar grupo de servidores"" msgstr[1] ""Confirmar borrar grupos de servidores"" msgid ""Confirm Password"" msgstr ""Confirme contrasea"" msgid ""Copy"" msgstr ""Copiar"" msgid ""Copy Object"" msgstr ""Copiar objeto"" msgid ""Copying"" msgstr ""Copiando"" msgid ""Create Domain"" msgstr ""Crear dominio"" msgid ""Create Group"" msgstr ""Crear grupo"" msgid ""Create Server Group"" msgstr ""Crear grupo de servidores"" #, python-format msgid ""Creating volume %s"" msgstr ""Creando volumen \""%s\"""" msgstr[1] ""Dominios DNS"" msgstr[1] ""Registros DNS""msgid ""Delete Domain"" msgid_plural ""Delete Domains"" msgstr[0] ""Eliminar Dominio"" msgstr[1] ""Eliminar Dominios"" msgid ""Delete Domains"" msgstr ""Eliminar dominios"" msgid ""Delete Group"" msgid_plural ""Delete Groups"" msgstr[0] ""Eliminar Grupo"" msgstr[1] ""Eliminar Grupos"" msgid ""Delete Groups"" msgstr ""Eliminar Grupos"" msgid ""Delete Policies"" msgstr ""Suprimir polticas"" msgid ""Delete Policy"" msgid_plural ""Delete Policies"" msgstr[0] ""Suprimir poltica"" msgstr[1] ""Suprimir polticas"" msgid ""Delete Server Group"" msgid_plural ""Delete Server Groups"" msgstr[0] ""Eliminar grupo de servidores"" msgstr[1] ""Eliminar grupos de servidores"" msgid ""Delete Server Groups"" msgstr ""Eliminar grupos de servidores"" msgid ""Deleted Server Group: %s."" msgid_plural ""Deleted Server Groups: %s."" msgstr[0] ""Grupo de servidores borrado: %s"" msgstr[1] ""Grupos de servidores borrados: %s"" #, python-format#, python-format msgid ""Deleted domain: %s."" msgid_plural ""Deleted domains: %s."" msgstr[0] ""Dominio borrado: %s."" msgstr[1] ""Dominios borrados: %s."" #, python-format msgid ""Deleted policy: %s."" msgid_plural ""Deleted policies: %s."" msgstr[0] ""Poltica borrada: %s."" msgstr[1] ""Polticas borradas: %s."" msgid ""Direct Physical"" msgstr ""Direct Physical"" msgstr[1] ""Dominios"" #, python-format msgid ""Domain %s was successfully created."" msgstr ""Se ha creado correctamente el dominio %s.""msgid """" ""Domains provide separation between users and infrastructure used by "" ""different organizations."" msgstr """" ""Los dominios ofrecen una separacin entre los usuarios y la infraestructura "" ""utilizada por las distintas organizaciones."" msgid ""Edit Group"" msgstr ""Editar grupo"" msgid """" ""Exactly one regular Neutron port. Has to be provided when\n"" "" the trunk is created. Cannot be changed during the trunk's life."" msgstr """" ""Exactamente un puerto de Neutron normal. Tiene que proporcionarse cuando\n"" ""se crea el enlace troncal. No se puede cambiar durante la vida del enlace "" ""troncal."" msgstr[1] ""Sabores""msgid """" ""For ports on provider networks you may choose the special\n"" "" segmentation type <em>inherit</em>. Then the subport's segmentation\n"" "" type and ID will be automagically inherited from the provider network's\n"" "" segmentation type and ID. This is useful when the switch is incapable of\n"" "" remapping (tag pop-push) for example as usual for Ironic instances."" msgstr """" ""Para puertos en redes de proveedor debe seleccionar el tipo de segmentacion\n"" "" especial <em>inherit</em>. En ese caso los tipos de segmentacin e ID de \n"" "" segmentacin del subpuerto se heredarn automticamente de los de la \n"" "" red de proveedor. Esto es til cuando es switch es incapaza de remapear \n"" ""(etiqueta pop-push) por ejemplo como ocurre en instancias de Ironic."" msgstr[1] ""Grupos"" #, python-format msgid ""Group %s was successfully created."" msgstr ""El grupo \""%s\"" se ha creado correctamente."" msgid ""Group updated successfully."" msgstr ""Grupo actualizado correctamente.""msgstr[1] ""Hipervisores""msgstr[1] ""Imgenes""msgid """" ""Inside the instance a particular subport's network will\n"" "" be presented as tagged frames transmitted and received on the vNIC\n"" "" belonging to the parent port. The cloud user may control the tagging\n"" "" by setting the <em>segmentation type</em> and <em>segmentation ID</em>\n"" "" of the subport."" msgstr """" ""Dentro de la instancia una particular red de subpuertos se presentar\n"" "" como tramas etiquetadas transmitidas y recibidas en la vNIC\n"" "" a la que pertenece el puerto padre. El usuario de la nube puede controlar "" ""el\n"" "" etiquetado ajustando el <em>tipo de segmentadin</em> y <em>ID de "" ""segmentacin</em>\n"" "" en el subpuerto."" msgid """" ""Inside the instance the parent port's network will always\n"" "" be presented as the untagged network. It will be available early from\n"" "" the moment of bootup."" msgstr """" ""Dentro de la instancia la red del puerto padre se presentar siempre\n"" "" como no etiquetada. Estar disponible desde el mismo momento\n"" ""del arranque."" msgstr[1] ""Instancias""msgstr[1] ""Pares de Claves""msgid """" ""Key Pairs are how you login to your instance after it is launched.\n"" "" Choose a key pair name you will recognize.\n"" "" Names may only include alphanumeric characters, spaces, dashes and\n"" "" underscores."" msgstr """" ""Los pares de claves se utiliza para acceder a la instancia despus de "" ""lanzarla.\n"" ""__Elija un nombre reconocible para el par de claves.\n"" ""__Los nombres pueden incluir caracteres alfanumricos, espacios o guiones."" msgid ""Key Type"" msgstr ""Tipo de Clave"" msgstr[1] ""Miembros de agrupacin de balanceadores de carga""msgstr[1] ""Definiciones de metadatos"" msgid """" ""Metadata is a collection of key-value pairs associated with an instance.\n"" "" The maximum length for each metadata key and value is 255 characters."" msgstr """" ""Los metadatos son un conjunto de pares clave-valor asociados con la "" ""instancia.\n"" "" La longitud mxima de cada clave y valor de metadatos es de 255 caracteres."" msgid """" ""Metadata is used to provide additional information about the\n"" "" image. Sometimes this information is only used for sorting and viewing.\n"" "" In some installations this information may affect how the instance is\n"" "" deployed or behaves."" msgstr """" ""Los metadatos se utilizan para proporcionar informacinadicional sobre la\n"" "" imagen. Algunas veces la informacin solo se utiliza para ordenar y "" ""visualizar.\n"" "" En algunas instalaciones esta informacin puede afectar a como la "" ""instancia\n"" "" se despliega o comporta.""msgstr[1] ""Redes"" msgstr[1] ""Supervisores de estado de red""msgid """" ""Networks of subports may become available later than the\n"" "" moment of bootup. But they will be available after the trunk reached\n"" "" the <em>ACTIVE</em> status."" msgstr """" ""Las redes de subpuertos estarn disponibles despus del momento\n"" "" de arranque. Pero s estarn disponibles una vez el enlace troncal\n"" "" alcance el estado <em>ACTIVO</em>."" msgid """" ""Note that most guest operating systems will not\n"" "" automatically configure and bring up the VLAN subinterfaces belonging\n"" "" to subports. You may have to do that yourself. For example:"" msgstr """" ""Tenga en cuenta que muchos sistemas operativos no configurarn ni\n"" "" levantarn de forma automtica las subinterfaces de VLAN pertenecientes\n"" "" a los subpuertos. Debe hacerlo usted mismo/a. Por ejemplo:"" msgid """" ""Note that some Neutron backends (notably the Open vSwitch\n"" "" based backend) only allow trunk creation before an instance is launched\n"" "" on the parent port. Other backends may allow trunk creation at any\n"" "" time during the life of a port."" msgstr """" ""Tenga en cuenta que algunos \""backends\"" de Neutron (especialmente Open "" ""vSwitch)\n"" ""slo permitirn crear el enlace troncal antes de lanzar la instancia en el "" ""puerto padre.\n"" ""Otros \""backends\"" pueden permitir la creacin del enlace troncal en "" ""cualquier momento\n"" ""durante la vida de un puerto."" msgid """" ""Note: Delimiters ('{$ ctrl.model.DELIMETER $}') are allowed in the\n"" "" file name to place the new file into a folder that will be "" ""created\n"" "" when the file is uploaded (to any depth of folders)."" msgstr """" ""Nota: Delimitadores ('{$ ctrl.model.DELIMETER $}') est permitidos en el\n"" "" nombre del fichero para ubicar el nuevo fichero en una carpeta que "" ""se creat\n"" "" cuando el fichero se suba (a cualquier nivel jerrquico)."" msgid """" ""Note: Delimiters ('{$ ctrl.model.DELIMETER $}') are allowed in the\n"" "" folder name to create deep folders."" msgstr """" ""Nota: Los delimitadoress ('{$ ctrl.model.DELIMETER $}') estn permitidos en "" ""el\n"" "" nombre de la carpeta."" #, python-format msgid ""Object %(path)s has copied."" msgstr ""Se ha copiado %(path)s objeto"" msgstr[1] ""Proyectos""msgstr[1] ""Polticas QoS""msgid ""Role already exists."" msgstr ""El rol ya existe."" msgid ""SSH Key"" msgstr ""Clave SSH"" #, python-format msgid ""Scheduled creation of %s instance."" msgid_plural ""Scheduled creation of %s instances."" msgstr[0] ""Se ha planificado la eliminacin %s instancia."" msgstr[1] ""Se ha planificado la eliminacin de %s instancias."" msgid ""Segmentation Id"" msgstr ""ID de segmentacin"" msgid """" ""Select <em>exactly one port</em> as the parent port of the trunk to\n"" "" be created. Mandatory."" msgstr """" ""Seleccione <em>exactamente un puerto</em> como el puerto padre del enlace "" ""troncal\n"" ""a crear. Obligatorio."" msgid """" ""Select an <em>arbitrary amount of ports (0, 1, 2, ...)</em> and their\n"" "" segmentation details as the subports of the trunk to be created.\n"" "" Optional."" msgstr """" ""Seleccione un <em>nmero arbitrario (0, 1, 2, ...) de puertos</em> y sus\n"" "" detalles de segmentacin como subpuertos para el enlace troncal a crear.\n"" "" Opcional."" msgid ""Server Group"" msgid_plural ""Server Groups"" msgstr[0] ""Grupo de servidores"" msgstr[1] ""Grupos de servidores"" #, python-format msgid ""Server Group %s was successfully created."" msgstr ""Grupo de servidores %s creado correctamente."" msgid ""Soft Affinity"" msgstr ""Afinidad moderada"" msgid ""Soft Anti Affinity"" msgstr ""Anti-afinidad moderada"" msgid ""Storage Policy"" msgstr ""Poltica de almacenamiento"" ""The current Horizon settings indicate no valid\n"" "" image creation methods are available. Providing\n"" "" an image location and/or uploading from the\n"" "" local file system must be allowed to support\n"" "" image creation."" msgstr """" ""Los ajustes actuales de Horizon indican que no hay\n"" "" mtodos de creacin de imgenes disponibles. Proporcionar\n"" "" una ubicacion de la imagen y/o subirla desde un\n"" "" sistema de ficheros local, deben estar soportados para soportar\n"" "" la creacin de imgenes."" msgid """"msgid """" ""The parent port is the port you have to add to the instance\n"" "" at launch. Do not try to add the trunk or any of the subports to the\n"" "" instance directly."" msgstr """" ""El puerto padre es el puerto a aadir a la instancia\n"" "" en el lanzamiento. No trate de aadir el enlace troncal o alguno de los "" ""subpuertos a la \n"" "" instancia directamente."" msgid """" ""The segmentation type and ID are decoupled (and\n"" "" therefore independent) from Neutron's network virtualization\n"" "" implementation. Different segmentation types will be remapped as frames\n"" "" leave/enter the instance."" msgstr """" ""El tipo de segmentacin e ID de segmentacin estn desacoplados (y por "" ""tanto\n"" "" son independientes) de la implementacin de la virtualizacin de red\n"" "" de Neutron. Diferentes tipos de segmentacin sern remapeados como tramas\n"" "" saliendo/entrando de la instancia."" msgid """" ""The segmentation type, ID tuples of subports must be unique\n"" "" (in the scope of a trunk), otherwise networks of subports could not\n"" "" be distinguished inside the instance."" msgstr """" ""Las tuplas de tipo de segmentacin e ID de segmentacin deben ser nicas\n"" ""(en el mbito del enlace troncal), o las redes de subpuertos no sera "" ""distinguibles\n"" "" dentro de la instancia."" ""There are no allowed boot\n"" "" sources. If you think this is wrong please contact your administrator."" msgstr """" ""No hay orgenes permitidos\n"" "" desde los que arrancar. Si piensa que es un error, contacte con su "" ""administrador."" msgid """"""This can be simplified by reusing the parent's MAC address\n"" "" for all subports of the trunk earlier at port creation. Eg.:"" msgstr """" ""Se puede simplificar esto reutilizando antes la direccin MAC del padre "" ""para \n"" "" todos los subpuertos del enlace troncal en la crecin del puerto. P.ej.:"" msgid """"msgid ""Unable to create the server group."" msgstr ""No se ha podido crear el grupo de servidores."" msgid ""Unable to delete Group: %s."" msgid_plural ""Unable to delete Groups: %s."" msgstr[0] ""No se ha podido borrar grupo: %s."" msgstr[1] ""No se ha podido borrar grupos: %s."" #, python-formatmsgid ""Unable to delete Server Group: %s."" msgid_plural ""Unable to delete Server Groups: %s."" msgstr[0] ""No ha sido posible borrar el grupo de servidores: %s."" msgstr[1] ""No ha sido posible borrar los grupos de servidores: %s."" #, python-format#, python-format msgid ""Unable to delete domain: %s."" msgid_plural ""Unable to delete domains: %s."" msgstr[0] ""No se ha podido eliminar el dominio: %s."" msgstr[1] ""No se han podido eliminar los dominio: %s."" #, python-format msgid ""Unable to delete policy: %s."" msgid_plural ""Unable to delete policies: %s."" msgstr[0] ""No se ha podido borrar poltica: %s."" msgstr[1] ""No se ha podido borrar polticas: %s."" #, python-format msgid ""Unable to delete qos policy %(id)s"" msgstr ""No se ha podido borrar la poltica qos %(id)s"" msgid ""Unable to delete the server group with id %(id)s"" msgstr ""No se ha podido borrar el grupo de servidores con id %(id)s"" #, python-formatmsgid ""Unable to fetch the policy details."" msgstr ""No se ha podido descargar los detalles de la poltica."" #, python-format msgid ""Unable to retrieve the policy with ID %(id)s"" msgstr ""No se ha podido obtener la poltica con ID %(id)s"" msgid ""Unable to retrieve the server group."" msgstr ""No se ha podido obtener el grupo de servidores."" msgstr[1] ""Volmenes"" msgstr[1] ""Copias de seguridad de volumen""msgstr[1] ""Instantneas de Volumen""msgid ""Volume size is required and must be positive integer"" msgstr ""El tamao del volumen es necesario y debe ser un entero positivo"" msgid """" ""When the <b>Admin State</b> for a port is set to <b>Up</b> and it has no "" ""<b>Device Owner</b>,\n"" "" then the port is available for use. You can set the <b>Admin State</b> "" ""to <b>Down</b>\n"" "" if you are not ready for other users to use the port."" msgstr """" ""Cuando el <b>Estado de Administracin</b> para una puerto se encuentra en "" ""<b>Arriba</b>, y no hay\n"" "" <b>propietario del dispositivo</b>, entonces el puerto se encuentra "" ""disponible para su uso. Puede cambiar el\n"" "" <b>Estado de Administracin</b> a <b>Abajo</b> si no se encuentra listo "" ""para que otros usuarios usaar el puerto."" msgid ""X509 Certificate"" msgstr ""Certificado X509"" msgid ""You are not allowed to delete domains: %s"" msgstr ""No tiene permisos para borrar el dominio: %s"" #, python-format""You can copy objects. You have to create destination container prior to copy."" msgstr """" ""Puede copiar objetos. Tiene que crear un contenedor destino antes de "" ""copiarlos."" msgid """"""You can specify folder by using '/' at destination object field.\n"" "" For example, if you want to copy object under the folder named "" ""'folder1', you need to specify destination object like 'folder1/[your object "" ""name]'."" msgstr """" ""Puede especificar la carpeta usando '/' en el campo objeto destino.\n"" "" Por ejemplo, si quiere copiar el objeto bajo una carpeta de nombre "" ""'carpeta1', debe especificar el objeto destino como 'carpeta1/[nombre del "" ""objeto]'."" msgid """"msgid ""You have selected \""%s\"". Deleted Server Group is not recoverable."" msgid_plural """" ""You have selected \""%s\"". Deleted Server Groups are not recoverable."" msgstr[0] """" ""Ha seleccionado \""%s\"". El grupo de servidores borrado no es recuperable."" msgstr[1] """" ""Ha seleccionado \""%s\"". Los grupos de servidores borrados no son "" ""recuperables."" #, python-formatmsgid ""You have selected \""%s\"". Deleted domain is not recoverable."" msgid_plural ""You have selected \""%s\"". Deleted domains are not recoverable."" msgstr[0] ""Ha seleccionado \""%s\"". No se podr recuperar el dominio eliminado"" msgstr[1] """" ""Ha seleccionado \""%s\"". No se podrn recuperar los dominios eliminados."" #, python-formatmsgid ""You have selected \""%s\"". Deleted group is not recoverable."" msgid_plural ""You have selected \""%s\"". Deleted groups are not recoverable."" msgstr[0] ""Ha seleccionado \""%s\"". El grupo borrado no es recuperable."" msgstr[1] ""Ha seleccionado \""%s\"". Los grupos borrados no son recuperables."" #, python-formatmsgid ""You have selected \""%s\"". Deleted policy is not recoverable."" msgid_plural ""You have selected \""%s\"". Deleted policies are not recoverable."" msgstr[0] ""Ha seleccionado \""%s\"". La poltica borrada no es recuperable."" msgstr[1] ""Ha seleccionado \""%s\"". Las polticas borradas no son recuperables."" #, python-formatmsgid ""min disk is required and must be an integer not less than 0"" msgstr """" ""Es obligatorio establecer Disco Mnimo y debe ser un entero mayor o igual "" ""que 0"" msgid ""min ram is required and must be an integer not less than 0"" msgstr """" ""Debe establecerse la RAM mnima y debe ser un entero mayor o igual que 0"" ","# Alberto Molina Coballes <alb.molina@gmail.com>, 2016. #zanata# Alberto Molina Coballes <alb.molina@gmail.com>, 2017. #zanata# Alberto Molina Coballes <alb.molina@gmail.com>, 2018. #zanata # Alberto Molina Coballes <alb.molina@gmail.com>, 2020. #zanata # Eddie Ramirez <djedi.r@gmail.com>, 2020. #zanata # OpenStack Infra <zanata@openstack.org>, 2020. #zanata # Zeus Arias Lucero <zeusariaslucero@gmail.com>, 2020. #zanata # Alberto Molina Coballes <alb.molina@gmail.com>, 2021. #zanata""POT-Creation-Date: 2021-05-01 11:46+0000\n""""PO-Revision-Date: 2021-05-24 03:09+0000\n"" ""Last-Translator: Alberto Molina Coballes <alb.molina@gmail.com>\n""#, fuzzymsgstr[1] """" #, fuzzymsgstr[1] """"#, fuzzymsgstr[1] """"#, fuzzymsgstr[1] """"#, fuzzymsgstr[1] """"#, fuzzymsgstr[1] """"#, fuzzymsgstr[1] """"#, fuzzymsgstr[1] """"#, fuzzymsgstr[1] """"msgstr[1] """"#, fuzzymsgstr[1] """"#, fuzzymsgstr[1] """" #, fuzzymsgstr[1] """"#, fuzzymsgstr[1] """"#, fuzzymsgstr[1] """"#, fuzzymsgstr[1] """" #, fuzzymsgstr[1] """"#, fuzzymsgstr[1] """"",559,56
openstack%2Fansible-role-collect-logs~master~Id7b033ec7e88b3930b31d76e6df0e9a4ed09781e,openstack/ansible-role-collect-logs,master,Id7b033ec7e88b3930b31d76e6df0e9a4ed09781e,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-04 07:47:45.000000000,2021-06-09 07:56:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-04 07:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/5af1641d3a566504a96b4cfa944d9c2d8f7bc6d0', 'message': 'setup.cfg: Replace dashes with underscores\n\nChange-Id: Id7b033ec7e88b3930b31d76e6df0e9a4ed09781e\n'}, {'number': 2, 'created': '2021-05-04 07:48:57.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/5d14eb27c9eba4b9713f315ff93bb0881745e67b', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Id7b033ec7e88b3930b31d76e6df0e9a4ed09781e\n""}]",0,789504,5d14eb27c9eba4b9713f315ff93bb0881745e67b,4,1,2,33161,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Id7b033ec7e88b3930b31d76e6df0e9a4ed09781e
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/04/789504/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5af1641d3a566504a96b4cfa944d9c2d8f7bc6d0,,"description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://opendev.org/openstack/ansible-role-collect-logssetup_hooks =max_line_length = 88 extend_ignore = E203,E501,W503 show_source = True","description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://opendev.org/openstack/ansible-role-collect-logssetup-hooks =max-line-length = 88 extend-ignore = E203,E501,W503 show-source = True",7,7
openstack%2Fmistral~master~Idb28554df350abefb315983fb92efd7584edde1d,openstack/mistral,master,Idb28554df350abefb315983fb92efd7584edde1d,docs: Update Freenode to OFTC,ABANDONED,2021-06-08 14:05:32.000000000,2021-06-09 07:43:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-06-08 14:05:32.000000000', 'files': ['doc/source/developer/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/0e19fa781b318f834a8a5e6327531e2e2c5749bc', 'message': 'docs: Update Freenode to OFTC\n\nsee: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html\nChange-Id: Idb28554df350abefb315983fb92efd7584edde1d\n'}]",0,795342,0e19fa781b318f834a8a5e6327531e2e2c5749bc,4,2,1,26285,,,0,"docs: Update Freenode to OFTC

see: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html
Change-Id: Idb28554df350abefb315983fb92efd7584edde1d
",git fetch https://review.opendev.org/openstack/mistral refs/changes/42/795342/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/developer/contributor/contributing.rst'],1,0e19fa781b318f834a8a5e6327531e2e2c5749bc,,* IRC channel #openstack-mistral at OFTC,* IRC channel #openstack-mistral at FreeNode,1,1
openstack%2Fpython-neutronclient~master~I866ade23cd76cf1e44e10eeb15dcc02cc8d0dc66,openstack/python-neutronclient,master,I866ade23cd76cf1e44e10eeb15dcc02cc8d0dc66,Add a release note on deprecation for removal of neutron CLI,MERGED,2021-06-09 05:39:34.000000000,2021-06-09 07:32:01.000000000,2021-06-09 07:30:19.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 05:39:34.000000000', 'files': ['releasenotes/notes/neutron-cli-deprecation-398823c87270a296.yaml'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/ae397565be6b734484d9e96c66f13de97762303c', 'message': 'Add a release note on deprecation for removal of neutron CLI\n\nChange-Id: I866ade23cd76cf1e44e10eeb15dcc02cc8d0dc66\n'}]",0,795475,ae397565be6b734484d9e96c66f13de97762303c,8,3,1,841,,,0,"Add a release note on deprecation for removal of neutron CLI

Change-Id: I866ade23cd76cf1e44e10eeb15dcc02cc8d0dc66
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/75/795475/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/neutron-cli-deprecation-398823c87270a296.yaml'],1,ae397565be6b734484d9e96c66f13de97762303c,relnote-estimated-eol,"--- deprecations: - | ``neutron`` CLI will be removed in 'Z' release. While it has been marked as deprecated for removal for long, all features in ``neutron`` CLI have been supported in ``openstack`` CLI (OpenStackClient) as of Xena release and the neutron team plans to remove it in 'Z' release. Consider using ``openstack`` CLI and `Mapping Guide <https://docs.openstack.org/python-openstackclient/latest/cli/decoder.html#neutron-cli>`__ in the OSC documentation would help you. ",,10,0
openstack%2Fmistral~master~I6de0b6c4717e0ca238ab5a35c7c8cb5ab00fed4d,openstack/mistral,master,I6de0b6c4717e0ca238ab5a35c7c8cb5ab00fed4d,Update IRC network to OFTC,ABANDONED,2021-06-09 02:15:38.000000000,2021-06-09 07:20:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-06-09 02:15:38.000000000', 'files': ['doc/source/developer/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/2a839468b8811e2557c98c893614edd4d9b0c8ce', 'message': 'Update IRC network to OFTC\n\nChange-Id: I6de0b6c4717e0ca238ab5a35c7c8cb5ab00fed4d\n'}]",0,795438,2a839468b8811e2557c98c893614edd4d9b0c8ce,4,2,1,31412,,,0,"Update IRC network to OFTC

Change-Id: I6de0b6c4717e0ca238ab5a35c7c8cb5ab00fed4d
",git fetch https://review.opendev.org/openstack/mistral refs/changes/38/795438/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/developer/contributor/contributing.rst'],1,2a839468b8811e2557c98c893614edd4d9b0c8ce,,* IRC channel #openstack-mistral at OFTC,* IRC channel #openstack-mistral at FreeNode,1,1
openstack%2Fnova-specs~master~I18891f7fc492dde0fd9117d786939b227e82b684,openstack/nova-specs,master,I18891f7fc492dde0fd9117d786939b227e82b684,Re-propose Unified Limits in Nova,MERGED,2021-05-04 14:34:07.000000000,2021-06-09 07:19:34.000000000,2021-06-09 07:17:21.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 14:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a362ba4db7155d0fa84b0f2226d595d5d8888190', 'message': 'Re-propose Unified Limits in Nova\n\nPreviously-approved: Ussuri, Victora\nblueprint unified-limits-nova\n\nChange-Id: I18891f7fc492dde0fd9117d786939b227e82b684\n'}, {'number': 2, 'created': '2021-06-07 13:04:07.000000000', 'files': ['specs/xena/approved/unified-limits-nova.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/451b2c7e7196045be8b1f27410621f1034450ba9', 'message': 'Re-propose Unified Limits in Nova\n\nIncludes extra notes about Keypairs and a correction to the\nconfig option used to opt into unified limits.\n\nPreviously-approved: Ussuri, Victora\nblueprint unified-limits-nova\n\nChange-Id: I18891f7fc492dde0fd9117d786939b227e82b684\n'}]",24,789585,451b2c7e7196045be8b1f27410621f1034450ba9,19,5,2,782,,,0,"Re-propose Unified Limits in Nova

Includes extra notes about Keypairs and a correction to the
config option used to opt into unified limits.

Previously-approved: Ussuri, Victora
blueprint unified-limits-nova

Change-Id: I18891f7fc492dde0fd9117d786939b227e82b684
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/85/789585/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/unified-limits-nova.rst'],1,a362ba4db7155d0fa84b0f2226d595d5d8888190,bp/unified-limits-nova,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================== Unified Limits Integration in Nova ================================== https://blueprints.launchpad.net/nova/+spec/unified-limits-nova The spec is about adopting Keystone's unified-limits. Includes using oslo.limit to enforce the Nova related limits set in Keystone. This spec proposes having unified limits in parallel with the existing quota system for at least one cycle, to allow for operators to transition from setting quotas via Nova to setting limits relating to the Nova API endpoint via Keystone. All per user quota support is dropped, in favor of hierarchical enforcement that will be supported by unified limits. Only server count limits and limits on Resource Class resources requested in the flavor will be supported with unified limits. All other existing quotas will no longer support per project or per user limits. Given this placement focused approach, we will depend on the work done here: http://specs.openstack.org/openstack/nova-specs/specs/train/approved/count-quota-usage-from-placement.html Problem description =================== While much work has been done to simplify how quotas are implemented in Nova, there are still some major usability issues for operators with the current system: * We don't have consistent support for limit/quota hierarchy across OpenStack * Requiring operators to set limits individually in each service (i.e. Cinder, Nova, Neutron, etc) * Nova's existing quotas don't work well with Ironic * No support for custom Resource Class quotas (includes ""per flavor"" quotas) * Confusion when API defined quota limits override any changes made to the configuration * Some Nova quotas are unrelated to resource consumption, causing confusion Transitioning to use Keystone's unified limits, via oslo.limit, will help fix these issues. For more details on unified limits in keystone see: https://docs.openstack.org/keystone/stein/admin/identity-unified-limits.html Use Cases --------- The key use cases driving this work are: * API User tries to understand why they got an Over Quota error * Operator migrates to unified limits from existing limits * Operator sets a default limit for a given endpoint via Keystone. Note there can be different limits for each Region, even with a shared Keystone. * Operator sets specific limits for a given project via Keystone * Operator defines limits of a set of projects via non-flat enforcement i.e. the feature formally known as hierarchical quotas We will focus on adding unified limits relating to: * total number of servers * amounts of each Resource Class requested in the flavor Note, this includes things like DISK_GB which is not supported today, along with things like custom resource class resources that are requested in extra specs (e.g. Ironic flavors). We will now look at all quotas exposed via the API and what they map to when using unifed limits: https://docs.openstack.org/api-ref/compute/?expanded=show-a-quota-detail#show-a-quota The follow existing quota types move to unified limits, allowing for per endpoint defaults and per project overrides (and hierarchical limits) via the unified limits system: * ``cores`` -> ``resource:VCPU`` * ``instances`` -> ``server_count`` * ``ram`` -> ``resource:MEMORY_MB`` The following existing quota becomes defined only by a configuration option, and we no longer support and per project or user overrides via the API, we just report the existing limit as defined in the configuration: * ``key_pairs`` (counted per user) * ``server_groups`` (counted per project) * ``server_group_members`` (counted per server group) * ``metadata_items`` (counted per server) The above are purely protecting database bloat (i.e to stop a denial of service attack that fills up the database). They are similar to the hardcoded limit of the number of tags you can attach to a server. While deprecated in the API, we will also treat these quotas in the same way as the quotas above, i.e. they will now be set via confirguration with no per project overrides possible: * ``injected_file_content_bytes`` * ``injected_file_path_bytes`` * ``injected_files`` Proposed change =============== There are several parts to this spec: * Enforce Unified Limits * No per-user limits * No uncountable limits * Deprecate Nova's Quota APIs * Operator tooling to assist with the migration Enforcing Unified Limits ------------------------ We will support the following limits: * ``server_count`` * ``resource:<RESOURCE_CLASS>`` All the resource class usage will be counted using placement, but server count will make use of instance mappings. This only works if the queued for delete data migration has been completed. Due to no user based quotas, we don't need the ``user_id`` migration. If the operators tries to use unified limits before completing the migration, the code will block all new usage until the migration is completed. It is expected a blocking migration will be added before we turn on unified limits by default. For more details on the this data migration see this point in the existing quota code: https://github.com/openstack/nova/blob/0d3aeb0287a0619695c9b9e17c2dec49099876a5/nova/quota.py#L1053 To allow the new system to co-exist with the older quota system, we add the following configuration to allow operators to opt-into the new system when the operator has migrated to unified limits, and the default will be to use the older quota system: * ``quota.enforce_unified_limits = False`` For further details on the transition, please see the update section of this specification. Note the new unified limits code will have a hard dependency on counting usage via placement; as such it will ignore the value of ``CONF.quota.count_usage_from_placement``. Looking at the existing quotas, `instances` becomes `server_count`, `cores` becomes `resource:VCPU` and `ram` becomes `resource:MEMORY_MB`. This work will re-use a lot of the new logic to query placement for resource usage, and use the instance mapping table to count servers added in this spec: http://specs.openstack.org/openstack/nova-specs/specs/train/approved/count-quota-usage-from-placement.html To find out what resources a server will claim, we reuse this code to extract the resources from any given flavor: https://github.com/openstack/nova/blob/2e85453879533af0b4d0e1178797d26f026a9423/nova/scheduler/utils.py#L387 For server build, we use the above function to get the Resource Class resource amounts for the requested flavor. This will then be checked using olso.limit, which ensures the additional usage will not push the associated project over any of its limits. The oslo.limit library is responsible for counting all the current resource usage using a callback we provide that makes use of placement to count the current resource usage. Once resources are claimed in placement, we optionally recheck the limits to see if we were racing with other server builds to consume the last bits of available quota. The only change is using oslo.limit to do the recheck. That is, we will still respect the config: `quota.recheck_quota` Note: we do the first check of limits in nova-api, and the recheck in nova-conductor after resource allocation in placement succeeds. It is a similar story with resize. Except in this case, we check that we can claim resources for both the new flavor and old flavor at the same time. Note that this is quite different to the current quota system, even when counting usage via placement. For further details on the semantic changes relating to counting with placement see: http://specs.openstack.org/openstack/nova-specs/specs/train/approved/count-quota-usage-from-placement.html Note baremetal instances no longer claim any VCPU or MEMORY_MB resources. With this method, baremetal instances can be limited using custom resource class resources they request in the flavor. Should we choose to allow additional custom inventory entries from hypervisor based compute nodes, such as `{'CUSTOM_GPU_V100':1}` we will be also be able to apply quotas on these resources. The oslo.limits library will likely add additional configuration options. In particular, operators will need to specify the Nova API's endpoint uuid to oslo.limit, so it knows what unified limits apply to each particular Nova API service. No per user limits ------------------ Nova currently supports ""per user"" limits. They will no longer be supported when: ``quota.enforce_unified_limits = True`` There are no plans for migration tools, however it is expected that users that need a similar model can test out using the unified limits support for hierarchical limits, and report back on what could help others migrate. No uncountable limits --------------------- As stated above, the focus for unified limits is the instance count and resource class allocations in placement. No other limits will be moved to unified limits, as agreed with operators in the Train Forum session. There are limits that are specific to nova-network. These are all ready deprecated. There are no plans to support these with unified limits turned on: * ``fixed_ips`` * ``floating_ip`` * ``security_group_rules`` * ``networks`` The remaining limits are all mainly used to protect the database from rogue users using up all available space in the database and/or missuse the API as some sort of storage system. As such, it is not expected that operators need per project overrides for any of these limits. As such, we propose to drop support for changing the limits via the API, and instead only allow changing of the limits via a single configuration option that applies to all projects in the system. The following limits will be changed to only be set via a single configuration option that applies equally to all projects: * ``server metadata`` * ``injected_files`` * ``injected_file_content_bytes`` * ``injected_file_path_bytes`` * ``key_pairs`` (counted per user) * ``server_groups`` (counted per project) * ``server_group_members`` (counted per server group) Note that the server_group_members are currently counted per user, but this is frankly very confusing, so above we propose the simpler limit servers in the server group. This seems consistent with removing per user limits for all other project owned resources. Using a global configuration option only means: * no per project overrides * no per user overrides * no changing of limits via the API These are limits on the amount of data that can be stored in various Nova databases. There is no way to display a project's usage of these limits, which further demonstrates how these are different to the resource limits unified limits has been designed for. Currently we honor ``quota.recheck_quota`` for all of these quotas. This adds significant code complexity, however most users never hit these limits and they are all very soft limits. As such, when we transition to a single global configuration value for all of these, we also will stop doing any rechecks. In summary the impact on the configuration options is: * ``quota.recheck_quota`` will have an updated description, noting what functionality is lost when ``quota.enforce_unified_limits = True``. * ``quota.floating_ips``, ``quota.fixed_ips``, ``quota.security_groups``, ``security_group_rules``: remain deprecated, and will be ignored when ``quota.enforce_unified_limits = True``. * ``quota.metadata_items``, ``quota.injected_files``, ``quota.injected_file_content_bytes``, ``quota.injected_file_path_length``, ``quota.server_groups``, ``quota.server_groups_members``, ``quota.key_pairs``: these will all be kept, but the description will be updated to note if ``quota.enforce_unified_limits = True`` all updates via the API are ignored. Deprecate Nova's Quota APIs --------------------------- To query and set limits, Keystones APIs should be used. To query a user's usage, the Placement API should be used, assuming placement is happy changing the default policy to allow users to query their usage. The one exception is server count can't currently be checked via Placement. When placement implements consumer records, or similar, then all usage could be queried via Placement. To avoid using a proxy API, users can do a server list API and count the number of servers returned. When ``quota.enforce_unified_limits = True`` a best effort will be made to keep the older micro-versions working by proxing API calls to Keystone and Placement as needed. No quota related DB tables will be accessed when ``quota.enforce_unified_limits = True``. This includes the follow API resources: * /limits * /os-quota-sets * /os-quota-class-sets Existing tooling to set quotas should continue to operate, as long as it only changes quotas relating to instances, cores and ram. Requests to change any other quotas will be silently ignored. As one example, this should allow Horizon to function as normal during the transition. When you list limits for quotas that are not supported in the new system, they will instead show the configuration based limit that replaces the DB and API based limits, e.g. for keypairs you always see the config based value, no update via the API will ever be reflected back when ``quota.enforce_unified_limits = True`` There are some trade-offs with this approach: * Proxy APIs suck, but horizon must keep working as such all current operator tooling around these existing APIs. * We don't need a micro version to enable/disable this proxy of the quota APIs, as it doesn't really change the API. * In a future release when unifed limits becomes the default, we should deprecate the APIs ``/os-quota-sets`` and ``/os-quota-class-sets`` and tell users to talk to the Keystone API instead. API based discovery of when Nova is enforcing the limits set in Keystone is left for a future spec. * It is expected the above API deprecation will follow the pattern used by nova-network proxy APIs, i.e. the APIs return 404 in new microversions but continue to work in older microversions. Its possible in the more distant future the APIs could be removed by returning 410 error. * Rejecting updates to quotas that we were previously able to set would be a breaking change in behaviour, and require a microversion. Adding a new API microversion that returns BadRequest for unsupported quotas would be a nice addition if we were not planning on deprecating the API in favor of calling Keystone instead. * Ideally we would also deprecate ``/limits`` in favor of a cross project agreed direction that is aware of both flat and hierarchical limit enforcement. Howerver we do not yet have consenus on what direction we take. For this spec, we leave ``/limits`` in its current form, even though it does not report on all the types of resource usage we now support have limits on, and even though it lists limits that can now only be changed via the configuration file. * When hierarchical limits are added, the per project usage information in ``/limits`` does not mention anything about parent limits. As such quota APIs may claim resources are available, but you will be unable to build any new resources. It is not clear what action the user can make to be able to build those new resources. Operators can avoid this confusion by not over allocating quota. We could extext the API to include a boolean to say if the limit has been exceeded in the parent project, and as such the user is unable to consume more resources even though their own usage is not over their own limits. We could consider extending the API to include the usage of the full tree Migration to Unified Limits --------------------------- The migration of all users to unified limits is happening in three phases: * enable unified limits as an option, with migration path from existing quotas * make unified limits the default, deprecate existing quota system * remove existing quota system To help with the transition we need operator tooling to: * Set registered limits in Keystone for each Nova endpoint in Keystone, based on current limits in DB and/or configuration * Copy per-project quotas set in Nova into Keystone unified-limits * Operator confirms unified limits works for them * Drop all quota info from the DB to signal operator has completed transition * Upgrade status check to check there is no data left in quota DB tables Note the setting of project limits and registered limits in keystone will happen via files that are generated and passed to keystone-manage. This allows fast-forward upgrades where no API are available during the migration of limits from Nova to Keystone. There will be a new tool to setup the registered limits in keystone. It will read from the Nova DB and configuration and generate a file. That file can be by used with keystone-manage to register the current endpoint defaults in keystone.:: nova-manage limits generate_registered_limits --endpoint <endpoint-uuid> The following tool will generate the unified limits overrides (if any) that needs to be added into Keystone for each project. Again this too produces a file that is handed to keystone-manage which will update keystone:: nova-manage limits generate_project_limits [--project_id <project_id>] Once the operator sets `quota.enforce_unified_limits = True`, the Nova DB is ignored, and limits are accessed from Keystone only. To complete the migration, there is an operation to remove all the DB entries relating to the quota overrides. The tool only works when `quota.enforce_unified_limits = True`. It also removes all any per user limits associated with each project.:: nova-manage limits remove_db_quota_entries [--project_id project_id] Note the last two tools allow operators to iterate per project, to limit the load on the running system. If these tools are used on a running system, it is recommended that operators don't change quotas via the API during the transition. The nova status command will warn users that have failed to remove all the quota information from the DB. This will become an error in the release when ``quota.enforce_unified_limits`` defaults to ``True``. It is worth noting that the Nova database may contain entries for projects that have been deleted in keystone. As such, it is advisable to get a list of active projects from keystone, and only generate_project_limits for those particular projects. This transition leaves several configuration options redundant, in particular the following will all be deprecated once unified limits is on by default: * ``quota.instances``, ``quota.cores``, ``quota.ram``: deprecate all these as the limit now comes from keystone for unified limits, which will default to unlimited if there is no limit in keystone. * ``quota.driver`` is ignored and hard coded to the no-op driver when ``quota.enforce_unified_limits = True``. The setting ``quota.recheck_quota`` will be kept, and will be used in the same way with unified limits to avoid races when multiple instances are built at the same time. Alternatives ------------ Ideally we would not add any more proxy APIs, however, operators pushed back at the Train Forum session, requesting that their tooling continue to work across the transition. No operators reported using limits other than the instances, cores and ram limits. We could implement hierarchical quotas in isolation, and not adopt unified limits. We could limit the types of resources we limit, but it will be hard to transition to supporting different kinds of resource limits in a clear and interoperable way. Data model impact ----------------- See upgrades, no changes in Victora due to having old and new quota systems side by side. Once we remove the old quota system, we could drop all the quota related DB tables. REST API impact --------------- When ``quota.enforce_unified_limits = True`` Nova will proxy the requests to Keystone's unified limits API, where possible. The aim will be to keep horizon functioning correctly during the transition. Once using unified limits, operators should move to using Keystone's unified limit APIs to set and query limits. Usage information should be queried via Placement and the Servers API. Security impact --------------- The removal of quota rechecks for some limits slightly reduces the protection provided, but really it encourages the proper implementation of API rate limiting as replacement protection. Notifications impact -------------------- None Other end user impact --------------------- Quota errors should appear the same before and after this change. Performance Impact ------------------ It is possible to have more complicated quota counts with hierarchical quotas, but the implementation of that is delegated to oslo.limit. Other deployer impact --------------------- There are several tools to help ease the transition to unified limits noted above. Although it is expected that use of the feature will help inform the end direction. Developer impact ---------------- There will now be two limit system to maintain for a few cycles during the transition. But this avoids the long term need to maintain complicated hierarchical limit code, which still getting the advantages, such as being able to tidy up API policy. Upgrade impact -------------- To get the best experience, operators need to start using the unified limits API via Keystone. User should start querying usage from Placement. The transition between the existing quota system and unified limits is detailed in the proposed solution section. It is expected that oslo.limit will limit versions of Keystone that can be used to Queens and newer, which is not expected to affect most users. Implementation ============== Assignee(s) ----------- Primary assignee: johnthetubaguy Other contributors: (TBC) Feature Liaison --------------- Feature liaison: melwitt Work Items ---------- * Add calls to oslo_limits, guarded by config to enable it * Move quota APIs to proxy to Keystone when unified limit quotas enabled * Add tools to migrate default and tenant limits from Nova into Keystone * Upgrade checks to ensure above tooling is used Dependencies ============ * http://specs.openstack.org/openstack/nova-specs/specs/train/approved/count-quota-usage-from-placement.html * keystone manage commands to add limits when keystone API not available Testing ======= Grenade test that runs the migration of quota settings (after adding some quotas). Functional tests to ensure quotas are enforced based on unified limits correctly. Documentation Impact ==================== Building on the work to document quota usage from placement, we should describe how the new system operates. The admin guide needs to detail how to smoothly migrate to unified limits. References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Victora - Introduced ",,568,0
openstack%2Fopenstack-helm~master~Icc33228e06ecc71717aad39309f37986be3b46f2,openstack/openstack-helm,master,Icc33228e06ecc71717aad39309f37986be3b46f2,Add openstack_enable_password_retrieve variable in horizon value,MERGED,2020-12-07 19:56:13.000000000,2021-06-09 07:16:07.000000000,2021-06-09 07:13:29.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 28008}, {'_account_id': 30449}, {'_account_id': 33141}]","[{'number': 1, 'created': '2020-12-07 19:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/268b399acc94bdbc79d3fb77fc72ba04cafa54ee', 'message': 'Add openstack_enable_password_retrieve variable in horizon value\n\nChange-Id: Icc33228e06ecc71717aad39309f37986be3b46f2\n'}, {'number': 2, 'created': '2020-12-07 19:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/70b782e4967320be7c786c66e3ce2cf854b26ebf', 'message': 'Add openstack_enable_password_retrieve variable\nin horizon value\n\nChange-Id: Icc33228e06ecc71717aad39309f37986be3b46f2\n'}, {'number': 3, 'created': '2021-02-18 02:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cb288837d9de3c77fac6c6e08d61739d97d55e91', 'message': 'Add openstack_enable_password_retrieve variable\nin horizon value\n\nChange-Id: Icc33228e06ecc71717aad39309f37986be3b46f2\n'}, {'number': 4, 'created': '2021-02-24 02:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/31bb28c4528e2837ebee0b9b7cee03d43914b2b7', 'message': 'Add openstack_enable_password_retrieve variable\nin horizon value\n\nChange-Id: Icc33228e06ecc71717aad39309f37986be3b46f2\n'}, {'number': 5, 'created': '2021-02-24 02:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a1ee5d833322300d0c6ee28df41caeed9158f52d', 'message': 'Add openstack_enable_password_retrieve variable\nin horizon value\n\nChange-Id: Icc33228e06ecc71717aad39309f37986be3b46f2\n'}, {'number': 6, 'created': '2021-02-24 03:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1a82b710bdd3b735bfd4ec9a1fcb5710885eb818', 'message': 'Add openstack_enable_password_retrieve variable\nin horizon value\n\nChange-Id: Icc33228e06ecc71717aad39309f37986be3b46f2\n'}, {'number': 7, 'created': '2021-03-01 16:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e446e7e2c397cff02b07d103e64cd7f57e765a4d', 'message': 'Add openstack_enable_password_retrieve variable\nin horizon value\n\nChange-Id: Icc33228e06ecc71717aad39309f37986be3b46f2\n'}, {'number': 8, 'created': '2021-05-24 08:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/912a347fd53eabfeb24d993b5befab93d3371d8d', 'message': 'Add openstack_enable_password_retrieve variable\nin horizon value\n\nChange-Id: Icc33228e06ecc71717aad39309f37986be3b46f2\n'}, {'number': 9, 'created': '2021-05-24 15:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c37792688040a2770f94f288e6869257e348f591', 'message': 'Add openstack_enable_password_retrieve variable\nin horizon value\n\nChange-Id: Icc33228e06ecc71717aad39309f37986be3b46f2\n'}, {'number': 10, 'created': '2021-05-25 14:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2da399ceeb7313b2980f961b6e273d23cd0e84bb', 'message': 'Add openstack_enable_password_retrieve variable\nin horizon value\n\nChange-Id: Icc33228e06ecc71717aad39309f37986be3b46f2\n'}, {'number': 11, 'created': '2021-06-07 15:25:49.000000000', 'files': ['horizon/Chart.yaml', 'releasenotes/notes/horizon.yaml', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6cd9a2339dd6e635cb78e9fd4e7250023b357635', 'message': 'Add openstack_enable_password_retrieve variable\nin horizon value\n\nChange-Id: Icc33228e06ecc71717aad39309f37986be3b46f2\n'}]",5,765862,6cd9a2339dd6e635cb78e9fd4e7250023b357635,48,8,11,31746,,,0,"Add openstack_enable_password_retrieve variable
in horizon value

Change-Id: Icc33228e06ecc71717aad39309f37986be3b46f2
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/62/765862/3 && git format-patch -1 --stdout FETCH_HEAD,['horizon/values.yaml'],1,268b399acc94bdbc79d3fb77fc72ba04cafa54ee,," openstack_enable_password_retrieve: ""False"" OPENSTACK_ENABLE_PASSWORD_RETRIEVE = '{{ .Values.conf.horizon.local_settings.config.openstack_enable_password_retrieve }}'", #OPENSTACK_ENABLE_PASSWORD_RETRIEVE = False,2,1
openstack%2Fpuppet-tripleo~stable%2Fussuri~Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2,openstack/puppet-tripleo,stable/ussuri,Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2,Allow ovn_db_host to be of type array,ABANDONED,2021-06-07 15:25:14.000000000,2021-06-09 06:52:39.000000000,,"[{'_account_id': 6469}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-07 15:25:14.000000000', 'files': ['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/08b22e19e1dbdf6f1c2fb34982d8ea8da1120aa1', 'message': 'Allow ovn_db_host to be of type array\n\nOn an OVN clustered database environment, there is no OVN VIP as all\nOVN databases are active. Neutron has to be configured to point to all\nOVN database servers in the cluster.\n\nCloses-Bug: #1931133\n\nConflicts:\n    manifests/profile/base/neutron/agents/ovn.pp\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nChange-Id: Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2\n(cherry picked from commit 0b51d8258c4a0618ec6f2abd8f86bfe6943cd51f)\n'}]",0,795050,08b22e19e1dbdf6f1c2fb34982d8ea8da1120aa1,7,4,1,8655,,,0,"Allow ovn_db_host to be of type array

On an OVN clustered database environment, there is no OVN VIP as all
OVN databases are active. Neutron has to be configured to point to all
OVN database servers in the cluster.

Closes-Bug: #1931133

Conflicts:
    manifests/profile/base/neutron/agents/ovn.pp

Co-Authored-By: Michele Baldessari <michele@acksyn.org>
Change-Id: Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2
(cherry picked from commit 0b51d8258c4a0618ec6f2abd8f86bfe6943cd51f)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/50/795050/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp']",3,08b22e19e1dbdf6f1c2fb34982d8ea8da1120aa1,ovn-cluster-stable/victoria-stable/ussuri,"# (Optional) The IP-Address where OVN DBs are listening. If passed a list it # will construct a comma separated string like # protocol:ip1:port,protocol:ip2:port. if is_string($ovn_db_host) { $ovn_remote_real = join([""${protocol}"", normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':') } elsif is_array($ovn_db_host) { $ovn_remote_real = join($ovn_db_host.map |$i| { ""${protocol}:${normalize_ip_for_uri($i)}:${ovn_sbdb_port}"" }, ',') } class { 'ovn::controller': ovn_remote => $ovn_remote_real,","# (Optional) The IP-Address where OVN DBs are listening. class { 'ovn::controller': ovn_remote => join([$protocol, normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':'),",31,7
openstack%2Fpuppet-tripleo~stable%2Fvictoria~Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2,openstack/puppet-tripleo,stable/victoria,Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2,Allow ovn_db_host to be of type array,ABANDONED,2021-06-07 15:16:57.000000000,2021-06-09 06:52:23.000000000,,"[{'_account_id': 6469}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-07 15:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c20ce0cb856b663277ba9c529739eee4c58e602a', 'message': 'Allow ovn_db_host to be of type array\n\nOn an OVN clustered database environment, there is no OVN VIP as all\nOVN databases are active. Neutron has to be configured to point to all\nOVN database servers in the cluster.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nChange-Id: Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2\n(cherry picked from commit 0b51d8258c4a0618ec6f2abd8f86bfe6943cd51f)\n'}, {'number': 2, 'created': '2021-06-07 15:20:18.000000000', 'files': ['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/55d712e8c0aee80cd8bf6a90346729a13ed355c1', 'message': 'Allow ovn_db_host to be of type array\n\nOn an OVN clustered database environment, there is no OVN VIP as all\nOVN databases are active. Neutron has to be configured to point to all\nOVN database servers in the cluster.\n\nCloses-Bug: #1931133\n\nConflicts:\n    manifests/profile/base/neutron/agents/ovn.pp\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nChange-Id: Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2\n(cherry picked from commit 0b51d8258c4a0618ec6f2abd8f86bfe6943cd51f)\n'}]",0,795049,55d712e8c0aee80cd8bf6a90346729a13ed355c1,8,4,2,8655,,,0,"Allow ovn_db_host to be of type array

On an OVN clustered database environment, there is no OVN VIP as all
OVN databases are active. Neutron has to be configured to point to all
OVN database servers in the cluster.

Closes-Bug: #1931133

Conflicts:
    manifests/profile/base/neutron/agents/ovn.pp

Co-Authored-By: Michele Baldessari <michele@acksyn.org>
Change-Id: Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2
(cherry picked from commit 0b51d8258c4a0618ec6f2abd8f86bfe6943cd51f)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/49/795049/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp']",3,c20ce0cb856b663277ba9c529739eee4c58e602a,ovn-cluster-stable/victoria,"# (Optional) The IP-Address where OVN DBs are listening. If passed a list it # will construct a comma separated string like # protocol:ip1:port,protocol:ip2:port. if is_string($ovn_db_host) { $ovn_remote_real = join([""${protocol}"", normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':') } elsif is_array($ovn_db_host) { $ovn_remote_real = join($ovn_db_host.map |$i| { ""${protocol}:${normalize_ip_for_uri($i)}:${ovn_sbdb_port}"" }, ',') } class { 'ovn::controller': <<<<<<< HEAD (949360 Add option to set rsyslog reopenOnTruncate parameter for all)======= ovn_remote => $ovn_remote_real, enable_ovn_match_northd => true, ovn_chassis_mac_map => $ovn_chassis_mac_map, >>>>>>> CHANGE (0b51d8 Allow ovn_db_host to be of type array)",# (Optional) The IP-Address where OVN DBs are listening. class { 'ovn::controller':,36,6
openstack%2Fneutron~master~I202a12f82f70b1094cdb986ba404f396d5e0e427,openstack/neutron,master,I202a12f82f70b1094cdb986ba404f396d5e0e427,"Set ""floatingip.fixed_port"" as viewonly",MERGED,2021-05-27 10:36:12.000000000,2021-06-09 05:53:14.000000000,2021-06-09 05:51:00.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 10:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/219b269303929fa399b280fc285c9c8925ee394e', 'message': '[WIP] Set ""floatingip.port"" and ""floatingip.fixed_port"" as viewonly\n\nSet ""floatingip.port"" and ""floatingip.fixed_port"" attributes as\nviewonly. According to [1], ""the originating relationship for a\nparticular state change will not produce state changes within the\nviewonly relationship"". That means any change on any of those ports\nwon\'t change the backref and won\'t affect ""floatingip"" object.\n\nCloses-Bug: # TODO-----\n\n[1]https://docs.sqlalchemy.org/en/14/orm/relationship_api.html\n\nChange-Id: I202a12f82f70b1094cdb986ba404f396d5e0e427\n'}, {'number': 2, 'created': '2021-05-27 11:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/83e99458e26cad85adc13c14bac43cd4385ed42a', 'message': '[WIP] Set ""floatingip.fixed_port"" as viewonly\n\nSet ""floatingip.fixed_port"" attribute as\nviewonly. According to [1], ""the originating relationship for a\nparticular state change will not produce state changes within the\nviewonly relationship"". That means any change on any of those ports\nwon\'t change the backref and won\'t affect ""floatingip"" object.\n\nCloses-Bug: # TODO-----\n\n[1]https://docs.sqlalchemy.org/en/14/orm/relationship_api.html\n\nChange-Id: I202a12f82f70b1094cdb986ba404f396d5e0e427\n'}, {'number': 3, 'created': '2021-05-31 15:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3dc28b7295be59a7eb65c78fcaafefc3e11ce7bb', 'message': 'Set ""floatingip.fixed_port"" as viewonly\n\nSet ""floatingip.fixed_port"" attribute as\nviewonly. According to [1], ""the originating relationship for a\nparticular state change will not produce state changes within the\nviewonly relationship"". That means any change on any of those ports\nwon\'t change the backref and won\'t affect ""floatingip"" object.\n\nCloses-Bug: #1930294\n\n[1]https://docs.sqlalchemy.org/en/14/orm/relationship_api.html\n\nChange-Id: I202a12f82f70b1094cdb986ba404f396d5e0e427\n'}, {'number': 4, 'created': '2021-06-03 15:51:46.000000000', 'files': ['neutron/db/models/l3.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a98fe51b83440693f8acf17b157c38a944ef65ef', 'message': 'Set ""floatingip.fixed_port"" as viewonly\n\nSet ""floatingip.fixed_port"" attribute as\nviewonly. According to [1], ""the originating relationship for a\nparticular state change will not produce state changes within the\nviewonly relationship"". That means any change on any of those ports\nwon\'t change the backref and won\'t affect ""floatingip"" object.\n\nCloses-Bug: #1930294\n\n[1]https://docs.sqlalchemy.org/en/14/orm/relationship_api.html\n\nChange-Id: I202a12f82f70b1094cdb986ba404f396d5e0e427\n'}]",0,793369,a98fe51b83440693f8acf17b157c38a944ef65ef,66,5,4,16688,,,0,"Set ""floatingip.fixed_port"" as viewonly

Set ""floatingip.fixed_port"" attribute as
viewonly. According to [1], ""the originating relationship for a
particular state change will not produce state changes within the
viewonly relationship"". That means any change on any of those ports
won't change the backref and won't affect ""floatingip"" object.

Closes-Bug: #1930294

[1]https://docs.sqlalchemy.org/en/14/orm/relationship_api.html

Change-Id: I202a12f82f70b1094cdb986ba404f396d5e0e427
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/793369/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/models/l3.py'],1,219b269303929fa399b280fc285c9c8925ee394e,bug/1930294," port = orm.relationship( models_v2.Port, backref=orm.backref('floating_ips', cascade='all,delete-orphan', viewonly=True, lazy='joined'), foreign_keys=floating_port_id) fixed_port = orm.relationship( models_v2.Port, backref=orm.backref('floating_ips', cascade='all,delete-orphan', viewonly=True, lazy='joined'), foreign_keys=fixed_port_id)"," port = orm.relationship(models_v2.Port, backref=orm.backref('floating_ips', cascade='all,delete-orphan'), foreign_keys='FloatingIP.floating_port_id') fixed_port = orm.relationship(models_v2.Port, foreign_keys='FloatingIP.fixed_port_id', lazy='joined')",10,7
openstack%2Fproject-config~master~I09c00e2ee8aba5fe7ab4857146a1362eaed2a43a,openstack/project-config,master,I09c00e2ee8aba5fe7ab4857146a1362eaed2a43a,Move devstack-gate jobs list to in-tree,MERGED,2021-06-08 16:51:42.000000000,2021-06-09 05:29:59.000000000,2021-06-09 05:29:59.000000000,"[{'_account_id': 4146}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 16:51:42.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0a12f09deb5deebf0d486313ab7210e11908505c', 'message': 'Move devstack-gate jobs list to in-tree\n\nBelow patch move the devstack-gate job list to\ndevstack-gate side\n- Id5262a22fb119447eecb0a77f1d2be2940786226\n\nThis will help in deprecation of devstack-gate for master\n(Xena onwards) while converting those jobs to run for stable branch.\n\nChange-Id: I09c00e2ee8aba5fe7ab4857146a1362eaed2a43a\n'}]",0,795379,0a12f09deb5deebf0d486313ab7210e11908505c,7,3,1,8556,,,0,"Move devstack-gate jobs list to in-tree

Below patch move the devstack-gate job list to
devstack-gate side
- Id5262a22fb119447eecb0a77f1d2be2940786226

This will help in deprecation of devstack-gate for master
(Xena onwards) while converting those jobs to run for stable branch.

Change-Id: I09c00e2ee8aba5fe7ab4857146a1362eaed2a43a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/79/795379/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,0a12f09deb5deebf0d486313ab7210e11908505c,deprecate-devstack-gate,, name: openstack/devstack-gate templates: - integrated-gate-py3 - official-openstack-repo-jobs - openstack-python35-jobs check: queue: integrated jobs: - openstack-tox-bashate - openstack-tox-py27 - neutron-grenade - neutron-grenade-multinode - neutron-grenade-dvr-multinode: voting: false - legacy-tempest-dsvm-neutron-full-ocata: voting: false - legacy-tempest-dsvm-neutron-full-centos-7: voting: false - legacy-tempest-dsvm-multinode-full: voting: false gate: queue: integrated jobs: - openstack-tox-py27 - neutron-grenade - neutron-grenade-multinode experimental: jobs: - legacy-tempest-dsvm-neutron-dvr-multinode-full - neutron-tempest-dvr-ha-multinode-full - project:,0,32
openstack%2Foslo.limit~master~Ic0632cc5ec52aefb85a04f879651963bfa54dcbe,openstack/oslo.limit,master,Ic0632cc5ec52aefb85a04f879651963bfa54dcbe,Add Enforcer.calculate_usage(),MERGED,2021-06-04 15:26:17.000000000,2021-06-09 04:15:39.000000000,2021-06-09 04:14:17.000000000,"[{'_account_id': 782}, {'_account_id': 6928}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 15:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/11549709bb4c84afbf83e87015574f8ba810e086', 'message': 'Add Enforcer.calculate_usage()\n\nIn multiple situations, it is necessary to be able to probe the limits\nset for a project without actually enforcing. Examples:\n\n1. Exposing a usage API where we want to not only report the current\n   usage, but the limit as well. Otherwise clients have to do their\n   own calls to keystone and correlation to get a single integer\n   limit value, which we should be able to expose for them.\n2. When checking quota as part of a long-running process of consuming\n   an unbounded data stream, we need to be able to determine how much\n   quota remains so that we can stop the transfer if we exceed the\n   limit. Without this, we have to periodically call to keystone\n   during the transfer, which is expensive and could fail.\n\nThis patch adds a calculate_usage() method to the Enforcer which\ncalculates the usage using the enforcement model and returns a\nmapping of resource names to namedtuples that contain limit and usage\ninformation.\n\nChange-Id: Ic0632cc5ec52aefb85a04f879651963bfa54dcbe\n'}, {'number': 2, 'created': '2021-06-07 15:45:37.000000000', 'files': ['doc/source/user/usage.rst', 'oslo_limit/tests/test_limit.py', 'oslo_limit/limit.py'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/1175b0f7c1bc4f042d611396ecee5720e1b2d7bd', 'message': 'Add Enforcer.calculate_usage()\n\nIn multiple situations, it is necessary to be able to probe the limits\nset for a project without actually enforcing. Examples:\n\n1. Exposing a usage API where we want to not only report the current\n   usage, but the limit as well. Otherwise clients have to do their\n   own calls to keystone and correlation to get a single integer\n   limit value, which we should be able to expose for them.\n2. When checking quota as part of a long-running process of consuming\n   an unbounded data stream, we need to be able to determine how much\n   quota remains so that we can stop the transfer if we exceed the\n   limit. Without this, we have to periodically call to keystone\n   during the transfer, which is expensive and could fail.\n\nThis patch adds a calculate_usage() method to the Enforcer which\ncalculates the usage using the enforcement model and returns a\nmapping of resource names to namedtuples that contain limit and usage\ninformation.\n\nChange-Id: Ic0632cc5ec52aefb85a04f879651963bfa54dcbe\n'}]",6,794851,1175b0f7c1bc4f042d611396ecee5720e1b2d7bd,14,4,2,4393,,,0,"Add Enforcer.calculate_usage()

In multiple situations, it is necessary to be able to probe the limits
set for a project without actually enforcing. Examples:

1. Exposing a usage API where we want to not only report the current
   usage, but the limit as well. Otherwise clients have to do their
   own calls to keystone and correlation to get a single integer
   limit value, which we should be able to expose for them.
2. When checking quota as part of a long-running process of consuming
   an unbounded data stream, we need to be able to determine how much
   quota remains so that we can stop the transfer if we exceed the
   limit. Without this, we have to periodically call to keystone
   during the transfer, which is expensive and could fail.

This patch adds a calculate_usage() method to the Enforcer which
calculates the usage using the enforcement model and returns a
mapping of resource names to namedtuples that contain limit and usage
information.

Change-Id: Ic0632cc5ec52aefb85a04f879651963bfa54dcbe
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/51/794851/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/usage.rst', 'oslo_limit/tests/test_limit.py', 'oslo_limit/limit.py']",3,11549709bb4c84afbf83e87015574f8ba810e086,add-calc-limits,"from collections import namedtuple ProjectUsage = namedtuple('ProjectUsage', ['limit', 'usage']) def calculate_usage(self, project_id, resources_to_check): """"""Calculate resource usage and limits for resources_to_check. From the list of resources_to_check, we collect the project's limit and current usage for each, exactly like we would for enforce(). This is useful for reporting current project usage and limits in a situation where enforcement is not desired. This should *not* be used to conduct custom enforcement, but rather only for reporting. """""" if not project_id or not isinstance(project_id, str): msg = 'project_id must be a non-empty string.' raise ValueError(msg) msg = ('resources_to_check must be non-empty sequence of ' 'resource name strings') try: if len(resources_to_check) == 0: raise ValueError(msg) except TypeError: raise ValueError(msg) for resource_name in resources_to_check: if not isinstance(resource_name, str): raise ValueError(msg) limits = self.model.get_project_limits(project_id, resources_to_check) usage = self.model.get_project_usage(project_id, resources_to_check) return {resource: ProjectUsage(limit, usage[resource]) for resource, limit in dict(limits).items()} def get_project_limits(self, project_id, resources_to_check): return self._utils.get_project_limits(project_id, resources_to_check) def get_project_usage(self, project_id, resources_to_check): return self._usage_callback(project_id, resources_to_check) project_limits = self.get_project_limits(project_id, resources_to_check) current_usage = self.get_project_usage(project_id, resources_to_check) def get_project_limits(self, project_id, resources_to_check): raise NotImplementedError() def get_project_usage(self, project_id, resources_to_check): raise NotImplementedError() "," project_limits = self._utils.get_project_limits(project_id, resources_to_check) current_usage = self._usage_callback(project_id, resources_to_check)",132,3
openstack%2Fopenstack-helm-infra~master~I0f9177b0b83e4fad599ae0c3f3820202bf1d450d,openstack/openstack-helm-infra,master,I0f9177b0b83e4fad599ae0c3f3820202bf1d450d,Prepending library/ to docker official images,MERGED,2021-05-26 23:13:17.000000000,2021-06-09 03:18:29.000000000,2021-06-09 03:17:21.000000000,"[{'_account_id': 8898}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 33136}]","[{'number': 1, 'created': '2021-05-26 23:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7188e8d1ad86f07f25449028e1facb05fb57f6de', 'message': 'Prepending library/ to docker official images\n\nThis will ease mirroring capabilities for the docker official images.\n\nSigned-off-by: Thiago Brito <thiago.brito@windriver.com>\nChange-Id: I0f9177b0b83e4fad599ae0c3f3820202bf1d450d\n'}, {'number': 2, 'created': '2021-05-26 23:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cdf023c188e41fa0bce08ba73b2008825cfdec31', 'message': 'Prepending library/ to docker official images\n\nThis will ease mirroring capabilities for the docker official images.\n\nSigned-off-by: Thiago Brito <thiago.brito@windriver.com>\nChange-Id: I0f9177b0b83e4fad599ae0c3f3820202bf1d450d\n'}, {'number': 3, 'created': '2021-05-28 22:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c83ce819e4c3531923adc8977dde744179f5c252', 'message': 'Prepending library/ to docker official images\n\nThis will ease mirroring capabilities for the docker official images.\n\nSigned-off-by: Thiago Brito <thiago.brito@windriver.com>\nChange-Id: I0f9177b0b83e4fad599ae0c3f3820202bf1d450d\n'}, {'number': 4, 'created': '2021-05-31 18:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9d90a847b4841eeb73bdee600545c36a604220d6', 'message': 'Prepending library/ to docker official images\n\nThis will ease mirroring capabilities for the docker official images.\n\nSigned-off-by: Thiago Brito <thiago.brito@windriver.com>\nChange-Id: I0f9177b0b83e4fad599ae0c3f3820202bf1d450d\n'}, {'number': 5, 'created': '2021-06-02 18:04:57.000000000', 'files': ['releasenotes/notes/memcached.yaml', 'releasenotes/notes/etcd.yaml', 'mongodb/values.yaml', 'rabbitmq/Chart.yaml', 'libvirt/values.yaml', 'releasenotes/notes/postgresql.yaml', 'flannel/Chart.yaml', 'metacontroller/Chart.yaml', 'ceph-osd/Chart.yaml', 'elastic-filebeat/values.yaml', 'releasenotes/notes/prometheus-openstack-exporter.yaml', 'ldap/Chart.yaml', 'releasenotes/notes/nfs-provisioner.yaml', 'daemonjob-controller/values.yaml', 'fluentd/values.yaml', 'prometheus/values.yaml', 'releasenotes/notes/flannel.yaml', 'kube-dns/values.yaml', 'nfs-provisioner/Chart.yaml', 'prometheus-kube-state-metrics/values.yaml', 'mongodb/Chart.yaml', 'libvirt/Chart.yaml', 'releasenotes/notes/fluentbit.yaml', 'ceph-rgw/Chart.yaml', 'releasenotes/notes/shaker.yaml', 'releasenotes/notes/prometheus-node-exporter.yaml', 'shaker/values.yaml', 'prometheus-process-exporter/values.yaml', 'releasenotes/notes/ceph-rgw.yaml', 'kube-dns/Chart.yaml', 'prometheus-node-exporter/Chart.yaml', 'releasenotes/notes/elastic-metricbeat.yaml', 'releasenotes/notes/kibana.yaml', 'elastic-apm-server/values.yaml', 'etcd/Chart.yaml', 'shaker/Chart.yaml', 'flannel/values.yaml', 'kubernetes-keystone-webhook/values.yaml', 'prometheus-kube-state-metrics/Chart.yaml', 'releasenotes/notes/prometheus.yaml', 'releasenotes/notes/libvirt.yaml', 'releasenotes/notes/elastic-apm-server.yaml', 'elastic-apm-server/Chart.yaml', 'calico/Chart.yaml', 'releasenotes/notes/elastic-packetbeat.yaml', 'releasenotes/notes/kubernetes-keystone-webhook.yaml', 'releasenotes/notes/kube-dns.yaml', 'grafana/values.yaml', 'memcached/Chart.yaml', 'releasenotes/notes/rabbitmq.yaml', 'nagios/values.yaml', 'releasenotes/notes/grafana.yaml', 'elastic-filebeat/Chart.yaml', 'postgresql/values.yaml', 'releasenotes/notes/powerdns.yaml', 'redis/values.yaml', 'registry/Chart.yaml', 'releasenotes/notes/ingress.yaml', 'ceph-provisioners/values.yaml', 'releasenotes/notes/calico.yaml', 'prometheus-node-exporter/values.yaml', 'releasenotes/notes/mariadb.yaml', 'grafana/Chart.yaml', 'releasenotes/notes/prometheus-process-exporter.yaml', 'ingress/Chart.yaml', 'nagios/Chart.yaml', 'elastic-metricbeat/Chart.yaml', 'elastic-packetbeat/values.yaml', 'releasenotes/notes/kubernetes-node-problem-detector.yaml', 'elasticsearch/values.yaml', 'ceph-provisioners/Chart.yaml', 'powerdns/Chart.yaml', 'releasenotes/notes/nagios.yaml', 'daemonjob-controller/Chart.yaml', 'openvswitch/Chart.yaml', 'releasenotes/notes/prometheus-alertmanager.yaml', 'ldap/values.yaml', 'prometheus-alertmanager/values.yaml', 'elastic-metricbeat/values.yaml', 'openvswitch/values.yaml', 'metacontroller/values.yaml', 'ceph-client/Chart.yaml', 'powerdns/values.yaml', 'releasenotes/notes/ceph-mon.yaml', 'ceph-client/values.yaml', 'prometheus-process-exporter/Chart.yaml', 'releasenotes/notes/elasticsearch.yaml', 'redis/Chart.yaml', 'releasenotes/notes/ceph-osd.yaml', 'calico/values.yaml', 'kibana/Chart.yaml', 'falco/values.yaml', 'releasenotes/notes/openvswitch.yaml', 'ceph-mon/Chart.yaml', 'releasenotes/notes/ceph-client.yaml', 'prometheus-openstack-exporter/Chart.yaml', 'prometheus-openstack-exporter/values.yaml', 'releasenotes/notes/fluentd.yaml', 'ceph-osd/values.yaml', 'releasenotes/notes/prometheus-kube-state-metrics.yaml', 'ceph-rgw/values.yaml', 'prometheus-alertmanager/Chart.yaml', 'releasenotes/notes/ceph-provisioners.yaml', 'fluentbit/values.yaml', 'releasenotes/notes/mongodb.yaml', 'etcd/values.yaml', 'releasenotes/notes/falco.yaml', 'gnocchi/values.yaml', 'elasticsearch/Chart.yaml', 'fluentd/Chart.yaml', 'rabbitmq/values.yaml', 'ceph-mon/values.yaml', 'postgresql/Chart.yaml', 'releasenotes/notes/redis.yaml', 'kubernetes-node-problem-detector/values.yaml', 'memcached/values.yaml', 'prometheus/Chart.yaml', 'registry/values.yaml', 'kubernetes-keystone-webhook/Chart.yaml', 'mariadb/Chart.yaml', 'releasenotes/notes/metacontroller.yaml', 'mariadb/values.yaml', 'nfs-provisioner/values.yaml', 'fluentbit/Chart.yaml', 'gnocchi/Chart.yaml', 'releasenotes/notes/daemonjob-controller.yaml', 'releasenotes/notes/gnocchi.yaml', 'releasenotes/notes/elastic-filebeat.yaml', 'releasenotes/notes/ldap.yaml', 'kubernetes-node-problem-detector/Chart.yaml', 'releasenotes/notes/registry.yaml', 'elastic-packetbeat/Chart.yaml', 'falco/Chart.yaml', 'ingress/values.yaml', 'kibana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5a0ba49d50d5c11979d17caff936672baf791284', 'message': 'Prepending library/ to docker official images\n\nThis will ease mirroring capabilities for the docker official images.\n\nSigned-off-by: Thiago Brito <thiago.brito@windriver.com>\nChange-Id: I0f9177b0b83e4fad599ae0c3f3820202bf1d450d\n'}]",0,793250,5a0ba49d50d5c11979d17caff936672baf791284,20,6,5,32349,,,0,"Prepending library/ to docker official images

This will ease mirroring capabilities for the docker official images.

Signed-off-by: Thiago Brito <thiago.brito@windriver.com>
Change-Id: I0f9177b0b83e4fad599ae0c3f3820202bf1d450d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/50/793250/1 && git format-patch -1 --stdout FETCH_HEAD,"['memcached/values.yaml', 'mariadb/values.yaml', 'rabbitmq/values.yaml']",3,7188e8d1ad86f07f25449028e1facb05fb57f6de,793250, rabbitmq: docker.io/library/rabbitmq:3.7.26 scripted_test: docker.io/library/rabbitmq:3.7.26-management, rabbitmq: docker.io/rabbitmq:3.7.26 scripted_test: docker.io/rabbitmq:3.7.26-management,4,4
openstack%2Fpuppet-tripleo~master~I97442478d77d222fdd428eebd270c08df08237f6,openstack/puppet-tripleo,master,I97442478d77d222fdd428eebd270c08df08237f6,Add support for ovn clustered databases,MERGED,2021-06-07 16:21:54.000000000,2021-06-09 01:58:46.000000000,2021-06-09 01:58:46.000000000,"[{'_account_id': 6469}, {'_account_id': 6926}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-07 16:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ccd1bf6800c137b81982a6bbe60dc6b8ab378fd7', 'message': 'Add support for ovn clustered databases\n\nThis patch adds support for managing the ovn connection correctly when\novn is handling clustering instead of pacemaker. By default if the\nparameter is not enabled, the pacemaker managed way is assumed.\n\nChange-Id: I97442478d77d222fdd428eebd270c08df08237f6\nRelated-Bug: #1931133\n'}, {'number': 2, 'created': '2021-06-07 16:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ee1a0250305fbc0789cdfbf6cf51affd157f2183', 'message': 'Add support for ovn clustered databases\n\nThis patch adds support for managing the ovn connection correctly when\novn is handling clustering instead of pacemaker. By default if the\nparameter is not enabled, the pacemaker managed way is assumed.\n\nChange-Id: I97442478d77d222fdd428eebd270c08df08237f6\nRelated-Bug: #1931133\n'}, {'number': 3, 'created': '2021-06-07 20:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/05b041ff934c90f3c053666dd909680690595570', 'message': 'Add support for ovn clustered databases\n\nThis patch adds support for managing the ovn connection correctly when\novn is handling clustering instead of pacemaker. By default if the\nparameter is not enabled, the pacemaker managed way is assumed.\n\nChange-Id: I97442478d77d222fdd428eebd270c08df08237f6\nRelated-Bug: #1931133\n'}, {'number': 4, 'created': '2021-06-07 20:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d6b47db4d371447c6087e8d81914e89a7eec04cb', 'message': 'Add support for ovn clustered databases\n\nThis patch adds support for managing the ovn connection correctly when\novn is handling clustering instead of pacemaker. By default if the\nparameter is not enabled, the pacemaker managed way is assumed.\n\nChange-Id: I97442478d77d222fdd428eebd270c08df08237f6\nRelated-Bug: #1931133\n'}, {'number': 5, 'created': '2021-06-07 23:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/31a603dde9a89fce9f617769cc9c9116bde5f126', 'message': 'Add support for ovn clustered databases\n\nThis patch adds support for managing the ovn connection correctly when\novn is handling clustering instead of pacemaker. By default if the\nparameter is not enabled, the pacemaker managed way is assumed.\n\nChange-Id: I97442478d77d222fdd428eebd270c08df08237f6\nRelated-Bug: #1931133\n'}, {'number': 6, 'created': '2021-06-08 09:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/81e52e03981e0ef60d7b14448fa3ad592c149116', 'message': 'Add support for ovn clustered databases\n\nThis patch adds support for managing the ovn connection correctly when\novn is handling clustering instead of pacemaker. By default if the\nparameter is not enabled, the pacemaker managed way is assumed.\n\nChange-Id: I97442478d77d222fdd428eebd270c08df08237f6\nRelated-Bug: #1931133\n'}, {'number': 7, 'created': '2021-06-08 11:55:23.000000000', 'files': ['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/dee8091c8904105df2747a6639fe2779726b28df', 'message': 'Add support for ovn clustered databases\n\nThis patch adds support for managing the ovn connection correctly when\novn is handling clustering instead of pacemaker. By default if the\nparameter is not enabled, the pacemaker managed way is assumed.\n\nChange-Id: I97442478d77d222fdd428eebd270c08df08237f6\nRelated-Bug: #1931133\n'}]",0,795155,dee8091c8904105df2747a6639fe2779726b28df,31,6,7,14985,,,0,"Add support for ovn clustered databases

This patch adds support for managing the ovn connection correctly when
ovn is handling clustering instead of pacemaker. By default if the
parameter is not enabled, the pacemaker managed way is assumed.

Change-Id: I97442478d77d222fdd428eebd270c08df08237f6
Related-Bug: #1931133
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/55/795155/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp']",3,ccd1bf6800c137b81982a6bbe60dc6b8ab378fd7,bug/1931133,"# [*ovn_db_node_ips*] # (Optional) The OVN DBs node ip addresses are listening. # Defaults to hiera('ovn_dbs_node_ips') # # [*ovn_db_clustered*] # (Optional) Boolean indicating if we're running with ovn db clustering # or pacemaker. Defaults to false for backwards compatibility # Defaults to hiera('ovn_db_clustered', False) # $ovn_db_host = hiera('ovn_dbs_vip', undef), $ovn_db_node_ips = hiera('ovn_dbs_node_ips', undef), $ovn_db_clustered = hiera('ovn_db_clustered', False) if $ovn_db_clustered { $db_hosts = any2array($ovn_db_node_ips) } else { $db_hosts = any2array($ovn_db_host) } $sb_conn = $ovn_hosts.map |$h| { join([$protocol, normalize_ip_for_uri($h), ""${ovn_sbdb_port}""], ':') } class { 'ovn::controller': ovn_remote => join(any2array($sb_conn), ',')"," $ovn_db_host = hiera('ovn_dbs_vip'), class { 'ovn::controller': ovn_remote => join([$protocol, normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':'),",63,7
openstack%2Fpuppet-tripleo~master~Id8df4fe5ce26dbcdeb7ba073ecb2199cf392b03b,openstack/puppet-tripleo,master,Id8df4fe5ce26dbcdeb7ba073ecb2199cf392b03b,"Revert ""Allow ovn_db_host to be of type array""",MERGED,2021-06-07 16:21:54.000000000,2021-06-09 01:55:23.000000000,2021-06-09 01:55:23.000000000,"[{'_account_id': 6926}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-07 16:21:54.000000000', 'files': ['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fad7e3fb90f2f03e011fd245e5b60d510726d9e3', 'message': 'Revert ""Allow ovn_db_host to be of type array""\n\nWe shouldn\'t override the hieradata but rather be explicit about which\nmode we\'re operating in. e.g. pacemaker or not. This will help in\ntroubleshooting and not rely on hieradata overrides to work.\n\nThis reverts commit 0b51d8258c4a0618ec6f2abd8f86bfe6943cd51f.\n\nRelated-Bug: #1931133\nChange-Id: Id8df4fe5ce26dbcdeb7ba073ecb2199cf392b03b\n'}]",0,795154,fad7e3fb90f2f03e011fd245e5b60d510726d9e3,13,4,1,14985,,,0,"Revert ""Allow ovn_db_host to be of type array""

We shouldn't override the hieradata but rather be explicit about which
mode we're operating in. e.g. pacemaker or not. This will help in
troubleshooting and not rely on hieradata overrides to work.

This reverts commit 0b51d8258c4a0618ec6f2abd8f86bfe6943cd51f.

Related-Bug: #1931133
Change-Id: Id8df4fe5ce26dbcdeb7ba073ecb2199cf392b03b
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/54/795154/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp']",3,fad7e3fb90f2f03e011fd245e5b60d510726d9e3,bug/1931133,"# (Optional) The IP-Address where OVN DBs are listening. class { 'ovn::controller': ovn_remote => join([$protocol, normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':'),","# (Optional) The IP-Address where OVN DBs are listening. If passed a list it # will construct a comma separated string like # protocol:ip1:port,protocol:ip2:port. if is_string($ovn_db_host) { $ovn_remote_real = join([""${protocol}"", normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':') } elsif is_array($ovn_db_host) { $ovn_remote_real = join($ovn_db_host.map |$i| { ""${protocol}:${normalize_ip_for_uri($i)}:${ovn_sbdb_port}"" }, ',') } class { 'ovn::controller': ovn_remote => $ovn_remote_real,",7,31
openstack%2Fcyborg~master~I98f56ab0cf3b5e7661226c3fe50cb75d8669b4ae,openstack/cyborg,master,I98f56ab0cf3b5e7661226c3fe50cb75d8669b4ae,"imporve api ""delete arq by uuids""",MERGED,2021-06-01 09:16:19.000000000,2021-06-09 01:45:32.000000000,2021-06-09 01:44:22.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-06-01 09:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/572772ad9ce0ec3fe86d1b4eb25875723697ea9a', 'message': ""make delete arq by uuids idempotent\n\nCybrog provides an API to delete arqs by passing an arq uuid list.\nBut this API is not idempotent, if one UUID doesn't exist, this API\nwill return an error.\n\nThis patch makes this API idempotent which allow user to delete\nexisiting arq and return a error if there is no-existing arq in the\ninput list.\n\nChange-Id: I98f56ab0cf3b5e7661226c3fe50cb75d8669b4ae\n""}, {'number': 2, 'created': '2021-06-01 09:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/1aaf1b878ab80aa6d235fdae95c60ac3e5ac29ab', 'message': ""make delete arq by uuids idempotent\n\nCybrog provides an API to delete arqs by passing an arq uuid list.\nBut this API is not idempotent, if one UUID doesn't exist, this API\nwill return an error.\n\nThis patch makes this API idempotent which allow user to delete\nexisiting arq and return a error if there is no-existing arq in the\ninput list.\n\nChange-Id: I98f56ab0cf3b5e7661226c3fe50cb75d8669b4ae\n""}, {'number': 3, 'created': '2021-06-08 15:36:18.000000000', 'files': ['cyborg/objects/ext_arq.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4f70eec506d490e9e0634f869249e5a43be76bbe', 'message': 'imporve api ""delete arq by uuids""\n\nCyborg provides an API to delete arqs by passing an arq uuid list.\nBut this API will exit with an error if the arq uuid is not existing\nand will ignore the following arq uuis with no deletion operation.\n\nThis patch allow user to delete all existing arqs and return a error\nat the end if there is no-existing arq in the input list, without\ninterrupt the whole operation.\n\nChange-Id: I98f56ab0cf3b5e7661226c3fe50cb75d8669b4ae\n'}]",8,793905,4f70eec506d490e9e0634f869249e5a43be76bbe,15,4,3,25738,,,0,"imporve api ""delete arq by uuids""

Cyborg provides an API to delete arqs by passing an arq uuid list.
But this API will exit with an error if the arq uuid is not existing
and will ignore the following arq uuis with no deletion operation.

This patch allow user to delete all existing arqs and return a error
at the end if there is no-existing arq in the input list, without
interrupt the whole operation.

Change-Id: I98f56ab0cf3b5e7661226c3fe50cb75d8669b4ae
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/05/793905/2 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/objects/ext_arq.py'],1,572772ad9ce0ec3fe86d1b4eb25875723697ea9a,arq-api-fix," unexisted = [] for uuid in arq_uuid_list: try: obj_extarq = objects.ExtARQ.get(context, uuid) # TODO() Defer deletion to conductor if obj_extarq.arq.state != constants.ARQ_INITIAL: obj_extarq.unbind(context) obj_extarq.destroy(context) except exception.ResourceNotFound: unexisted.append(uuid) continue if unexisted: raise exception.ResourceNotFound( resource='ARQ', msg='with uuid %s' % unexisted)"," for uuid in arq_uuid_list: obj_extarq = objects.ExtARQ.get(context, uuid) # TODO() Defer deletion to conductor if obj_extarq.arq.state != constants.ARQ_INITIAL: obj_extarq.unbind(context) obj_extarq.destroy(context)",14,5
openstack%2Fpython-tripleoclient~master~I9668df39ed874949badd2bd169de2eaae0c08a48,openstack/python-tripleoclient,master,I9668df39ed874949badd2bd169de2eaae0c08a48,Use podman interactive mode when restoring db,MERGED,2021-06-03 19:30:22.000000000,2021-06-09 01:35:38.000000000,2021-06-09 01:34:18.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 19:30:22.000000000', 'files': ['tripleoclient/heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6b5ebca318f7132eb2f22e6702f20331cb0d340a', 'message': 'Use podman interactive mode when restoring db\n\ninteractive mode (-i) is required since the db restore makes use of\nstdin redirect.\n\nChange-Id: I9668df39ed874949badd2bd169de2eaae0c08a48\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,794673,6b5ebca318f7132eb2f22e6702f20331cb0d340a,8,3,1,7144,,,0,"Use podman interactive mode when restoring db

interactive mode (-i) is required since the db restore makes use of
stdin redirect.

Change-Id: I9668df39ed874949badd2bd169de2eaae0c08a48
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/73/794673/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/heat_launcher.py'],1,6b5ebca318f7132eb2f22e6702f20331cb0d340a,fix_ephemeral," 'sudo', 'podman', 'exec', '-i', '-u', 'root',"," 'sudo', 'podman', 'exec', '-u', 'root',",1,1
openstack%2Ftripleo-ansible~master~I86b1b75c9d807356e9a1f1901bc7e8856f0c0961,openstack/tripleo-ansible,master,I86b1b75c9d807356e9a1f1901bc7e8856f0c0961,Ensures mount uid/git for Manila keyring are correctly set,MERGED,2021-05-24 22:51:47.000000000,2021-06-09 01:34:22.000000000,2021-06-09 01:34:22.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-05-24 22:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1badf7e85a0a60b7d3f24b8385b647c3c0536745', 'message': 'Ensures mount uid/git for Manila keyring are correctly set\n\nLike we used to do when configuring Ganesha via puppet [1] this\nchange is making the new tripleo_ceph_client role set the Manila\nkeyring mount uid/gid so that Ganesha can correctly map root\npermissions from CephFS to NFS.\n\n1. https://github.com/openstack/puppet-tripleo/blob/master/manifests/profile/base/manila/share.pp#L145-L147\n\nChange-Id: I86b1b75c9d807356e9a1f1901bc7e8856f0c0961\n'}, {'number': 2, 'created': '2021-05-24 22:52:42.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_client/templates/ceph_conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/31f4a9153e4e6ba3368114d19f5a11e362ff28aa', 'message': 'Ensures mount uid/git for Manila keyring are correctly set\n\nLike we used to do when configuring Ganesha via puppet [1] this\nchange is making the new tripleo_ceph_client role set the Manila\nkeyring mount uid/gid so that Ganesha can correctly map root\npermissions from CephFS to NFS.\n\n1. https://github.com/openstack/puppet-tripleo/blob/master/manifests/profile/base/manila/share.pp#L145-L147\n\nCloses-Bug: 1894374\nChange-Id: I86b1b75c9d807356e9a1f1901bc7e8856f0c0961\n'}]",0,792862,31f4a9153e4e6ba3368114d19f5a11e362ff28aa,43,4,2,6796,,,0,"Ensures mount uid/git for Manila keyring are correctly set

Like we used to do when configuring Ganesha via puppet [1] this
change is making the new tripleo_ceph_client role set the Manila
keyring mount uid/gid so that Ganesha can correctly map root
permissions from CephFS to NFS.

1. https://github.com/openstack/puppet-tripleo/blob/master/manifests/profile/base/manila/share.pp#L145-L147

Closes-Bug: 1894374
Change-Id: I86b1b75c9d807356e9a1f1901bc7e8856f0c0961
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/62/792862/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_client/templates/ceph_conf.j2'],1,1badf7e85a0a60b7d3f24b8385b647c3c0536745,puppet-ceph-removal, {% if tripleo_cephadm_ceph_nfs_ceph_user is defined %} [client.{{ tripleo_cephadm_ceph_nfs_ceph_user }}] client mount uid = 0 client mount gid = 0 {% endif %},,6,0
openstack%2Fpython-tripleoclient~master~I1944a5a9dbd115f49e3fe0514d82af6f98f4556f,openstack/python-tripleoclient,master,I1944a5a9dbd115f49e3fe0514d82af6f98f4556f,Minor tests covering unreached exec branches.,MERGED,2021-06-04 14:19:00.000000000,2021-06-09 01:06:28.000000000,2021-06-09 01:05:05.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 25402}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-04 14:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f44f76e8e8924fa5ee71d10d357809d2da82d405', 'message': 'Minor tests covering unreached exec branches.\n\nTests cover branches of the __init__ and __exit__\nmethods that were not covered by existing tests.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n\nChange-Id: I1944a5a9dbd115f49e3fe0514d82af6f98f4556f\n'}, {'number': 2, 'created': '2021-06-04 14:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e4d4e132f86e995f308bf7194486a56556bf0eef', 'message': 'Minor tests covering unreached exec branches.\n\nTests cover branches of the __init__ and __exit__\nmethods that were not covered by existing tests.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n\nChange-Id: I1944a5a9dbd115f49e3fe0514d82af6f98f4556f\n'}, {'number': 3, 'created': '2021-06-04 14:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/30a85fec691f1e68deee8807b3fd4e2b2ebd615b', 'message': 'Minor tests covering unreached exec branches.\n\nTests cover branches of the __init__ and __exit__\nmethods that were not covered by existing tests.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n\nChange-Id: I1944a5a9dbd115f49e3fe0514d82af6f98f4556f\n'}, {'number': 4, 'created': '2021-06-07 09:48:24.000000000', 'files': ['tripleoclient/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a4070345c5418f78bdfe8c7f3753bf27c5240f4b', 'message': 'Minor tests covering unreached exec branches.\n\nTests cover branches of the __init__ and __exit__\nmethods that were not covered by existing tests.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n\nChange-Id: I1944a5a9dbd115f49e3fe0514d82af6f98f4556f\n'}]",7,794836,a4070345c5418f78bdfe8c7f3753bf27c5240f4b,17,12,4,32926,,,0,"Minor tests covering unreached exec branches.

Tests cover branches of the __init__ and __exit__
methods that were not covered by existing tests.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>

Change-Id: I1944a5a9dbd115f49e3fe0514d82af6f98f4556f
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/36/794836/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/tests/test_utils.py'],1,f44f76e8e8924fa5ee71d10d357809d2da82d405,tests/utils/tempdirs,"try: from unittest import mock except ImportError: import mock class TestUtilsTempDirs(base.TestCase): def setUp(self): return super().setUp() @mock.patch('tripleoclient.utils.tempfile.mkdtemp', return_value='foo') @mock.patch('tripleoclient.utils.Pushd') def test_init_dirpath(self, mock_pushd, mock_mkdtemp): utils.TempDirs(dir_path='bar') mock_pushd.assert_called_once_with(directory='foo') mock_mkdtemp.assert_called_once_with( dir='bar', prefix='tripleo') @mock.patch('tripleoclient.utils.tempfile.mkdtemp', return_value='foo') @mock.patch('tripleoclient.utils.Pushd') def test_init_no_prefix(self, mock_pushd, mock_mkdtemp): utils.TempDirs(dir_prefix=None) mock_pushd.assert_called_once_with(directory='foo') mock_mkdtemp.assert_called_once_with() @mock.patch('tripleoclient.utils.LOG.warning') @mock.patch('tripleoclient.utils.tempfile.mkdtemp', return_value='foo') @mock.patch('tripleoclient.utils.Pushd') def test_exit_warning(self, mock_pushd, mock_mkdtemp, mock_log): temp_dirs = utils.TempDirs(cleanup=False, chdir=False) temp_dirs.__exit__() mock_log.assert_called_once_with( ""Not cleaning temporary directory [ foo ]"")",import mock,45,1
openstack%2Fnova~master~Ic16c575c8f36e8a3c50b6e302b9fdf961cb3ed22,openstack/nova,master,Ic16c575c8f36e8a3c50b6e302b9fdf961cb3ed22,Use NotificationFixture for legacy notifications too,MERGED,2020-10-15 15:09:18.000000000,2021-06-09 00:57:45.000000000,2021-06-09 00:54:53.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-10-15 15:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c186b4291084ba6cff047b65a80310cc87ba6cd4', 'message': 'Use NotificationFixture for legacy notifications too\n\nChange-Id: Ic16c575c8f36e8a3c50b6e302b9fdf961cb3ed22\n'}, {'number': 2, 'created': '2020-11-09 14:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/170ffb089b0255b0a62156de56a4a8e65db78b26', 'message': 'Use NotificationFixture for legacy notifications too\n\nChange-Id: Ic16c575c8f36e8a3c50b6e302b9fdf961cb3ed22\n'}, {'number': 3, 'created': '2020-12-16 17:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de42ce635810a100670c2e38958e3544756c69b4', 'message': 'Use NotificationFixture for legacy notifications too\n\nChange-Id: Ic16c575c8f36e8a3c50b6e302b9fdf961cb3ed22\n'}, {'number': 4, 'created': '2021-01-06 11:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d0ca12c505b21bb745f5ee481e8536426c5d400', 'message': 'Use NotificationFixture for legacy notifications too\n\nChange-Id: Ic16c575c8f36e8a3c50b6e302b9fdf961cb3ed22\n'}, {'number': 5, 'created': '2021-05-24 11:41:24.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/objects/test_aggregate.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/unit/test_exception_wrapper.py', 'nova/tests/fixtures/notifications.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/regressions/test_bug_1837955.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/tests/unit/compute/test_keypairs.py', 'nova/tests/functional/regressions/test_bug_1713783.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b14f6ba62e4feed98e7293a6d67dbbc321994c7d', 'message': 'Use NotificationFixture for legacy notifications too\n\nChange-Id: Ic16c575c8f36e8a3c50b6e302b9fdf961cb3ed22\n'}]",0,758448,b14f6ba62e4feed98e7293a6d67dbbc321994c7d,46,12,5,9708,,,0,"Use NotificationFixture for legacy notifications too

Change-Id: Ic16c575c8f36e8a3c50b6e302b9fdf961cb3ed22
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/758448/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/objects/test_aggregate.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/regressions/test_bug_1837955.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/tests/unit/compute/test_keypairs.py', 'nova/tests/functional/regressions/test_bug_1713783.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/tests/unit/test_exception.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/fixtures.py']",14,c186b4291084ba6cff047b65a80310cc87ba6cd4,remove-fake-notifier, @property def notifications(self): return fake_notifier.NOTIFICATIONS,,209,221
openstack%2Fnova~master~I456f685f480b8de71014cf232a8f08c731605ad8,openstack/nova,master,I456f685f480b8de71014cf232a8f08c731605ad8,Create a fixture around fake_notifier,MERGED,2020-10-15 15:07:56.000000000,2021-06-09 00:56:34.000000000,2021-06-09 00:54:27.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-10-15 15:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ea3f16d7e3619c36b4b9dc210e44f0750a4bebf', 'message': 'Create a fixture around fake_notifier\n\nThe fake_notifier uses module globals and also needs careful stub and\nreset calls to work properly. This patch wraps the fake_notifier into a\nproper Fixture that automates the complexity.\n\nThis is fairly rage patch but it does not change any logic just redirect\ncalls from the fake_notifier to the new NotificationFixture\n\nChange-Id: I456f685f480b8de71014cf232a8f08c731605ad8\n'}, {'number': 2, 'created': '2020-11-09 14:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0461c36fde2fb95f081977b8bf11b4e6672ec178', 'message': 'Create a fixture around fake_notifier\n\nThe fake_notifier uses module globals and also needs careful stub and\nreset calls to work properly. This patch wraps the fake_notifier into a\nproper Fixture that automates the complexity.\n\nThis is fairly rage patch but it does not change any logic just redirect\ncalls from the fake_notifier to the new NotificationFixture\n\nChange-Id: I456f685f480b8de71014cf232a8f08c731605ad8\n'}, {'number': 3, 'created': '2020-12-16 17:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b57eb68a10a0cef385822753529c2861e4d4eba4', 'message': 'Create a fixture around fake_notifier\n\nThe fake_notifier uses module globals and also needs careful stub and\nreset calls to work properly. This patch wraps the fake_notifier into a\nproper Fixture that automates the complexity.\n\nThis is fairly rage patch but it does not change any logic just redirect\ncalls from the fake_notifier to the new NotificationFixture\n\nChange-Id: I456f685f480b8de71014cf232a8f08c731605ad8\n'}, {'number': 4, 'created': '2021-01-06 11:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e597bfca1cdaed9a8ef76c9bbbeeb02521902837', 'message': 'Create a fixture around fake_notifier\n\nThe fake_notifier uses module globals and also needs careful stub and\nreset calls to work properly. This patch wraps the fake_notifier into a\nproper Fixture that automates the complexity.\n\nThis is fairly rage patch but it does not change any logic just redirect\ncalls from the fake_notifier to the new NotificationFixture\n\nChange-Id: I456f685f480b8de71014cf232a8f08c731605ad8\n'}, {'number': 5, 'created': '2021-05-24 11:41:24.000000000', 'files': ['nova/tests/functional/libvirt/test_evacuate.py', 'nova/tests/functional/notification_sample_tests/test_service.py', 'nova/tests/functional/regressions/test_bug_1843708.py', 'nova/tests/functional/test_cold_migrate.py', 'nova/tests/functional/test_cross_cell_migrate.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/unit/test_exception_wrapper.py', 'nova/tests/fixtures/notifications.py', 'nova/tests/functional/notification_sample_tests/test_metrics.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/regressions/test_bug_1764883.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/tests/functional/regressions/test_bug_1713783.py', 'nova/tests/functional/regressions/test_bug_1862633.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/notification_sample_tests/test_flavor.py', 'nova/tests/functional/notification_sample_tests/test_exception_notification.py', 'nova/tests/functional/notification_sample_tests/test_compute_task.py', 'nova/tests/functional/regressions/test_bug_1735407.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/fixtures/__init__.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1806515.py', 'nova/tests/functional/notification_sample_tests/test_volume.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/notification_sample_tests/test_aggregate.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/tests/functional/regressions/test_bug_1781286.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/functional/notification_sample_tests/test_keypair.py', 'nova/tests/functional/regressions/test_bug_1843090.py', 'nova/tests/functional/compute/test_live_migration.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/functional/compute/test_cache_image.py', 'nova/tests/functional/notification_sample_tests/test_server_group.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/compute/test_init_host.py', 'nova/tests/functional/notification_sample_tests/test_libvirt.py', 'nova/tests/functional/regressions/test_bug_1835822.py', 'nova/tests/functional/test_server_external_events.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f1f599d098c2dcb307bfab074060855c703a8288', 'message': 'Create a fixture around fake_notifier\n\nThe fake_notifier uses module globals and also needs careful stub and\nreset calls to work properly. This patch wraps the fake_notifier into a\nproper Fixture that automates the complexity.\n\nThis is fairly rage patch but it does not change any logic just redirect\ncalls from the fake_notifier to the new NotificationFixture\n\nChange-Id: I456f685f480b8de71014cf232a8f08c731605ad8\n'}]",2,758446,f1f599d098c2dcb307bfab074060855c703a8288,42,13,5,9708,,,0,"Create a fixture around fake_notifier

The fake_notifier uses module globals and also needs careful stub and
reset calls to work properly. This patch wraps the fake_notifier into a
proper Fixture that automates the complexity.

This is fairly rage patch but it does not change any logic just redirect
calls from the fake_notifier to the new NotificationFixture

Change-Id: I456f685f480b8de71014cf232a8f08c731605ad8
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/758446/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_evacuate.py', 'nova/tests/functional/notification_sample_tests/test_service.py', 'nova/tests/functional/regressions/test_bug_1843708.py', 'nova/tests/functional/test_cold_migrate.py', 'nova/tests/functional/test_cross_cell_migrate.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/functional/notification_sample_tests/test_metrics.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/regressions/test_bug_1764883.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/tests/functional/regressions/test_bug_1713783.py', 'nova/tests/functional/regressions/test_bug_1862633.py', 'nova/tests/unit/test_exception.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/notification_sample_tests/test_flavor.py', 'nova/tests/functional/notification_sample_tests/test_exception_notification.py', 'nova/tests/functional/notification_sample_tests/test_compute_task.py', 'nova/tests/functional/regressions/test_bug_1735407.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1806515.py', 'nova/tests/functional/notification_sample_tests/test_volume.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/notification_sample_tests/test_aggregate.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/tests/functional/regressions/test_bug_1781286.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/functional/notification_sample_tests/test_keypair.py', 'nova/tests/functional/regressions/test_bug_1843090.py', 'nova/tests/fixtures.py', 'nova/tests/functional/compute/test_live_migration.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/functional/compute/test_cache_image.py', 'nova/tests/functional/notification_sample_tests/test_server_group.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/compute/test_init_host.py', 'nova/tests/functional/notification_sample_tests/test_libvirt.py', 'nova/tests/functional/regressions/test_bug_1835822.py', 'nova/tests/functional/test_server_external_events.py']",43,5ea3f16d7e3619c36b4b9dc210e44f0750a4bebf,remove-fake-notifier, self.notifier.wait_for_versioned_notifications( self.notifier.wait_for_versioned_notifications( self.notifier.wait_for_versioned_notifications( self.notifier.wait_for_versioned_notifications(,from nova.tests.unit import fake_notifier fake_notifier.wait_for_versioned_notifications( fake_notifier.wait_for_versioned_notifications( fake_notifier.wait_for_versioned_notifications( fake_notifier.wait_for_versioned_notifications(,484,518
openstack%2Fnova~master~I4e6402bd192ea0d2efb26b52a7ceb65d924ec928,openstack/nova,master,I4e6402bd192ea0d2efb26b52a7ceb65d924ec928,docs: Address TODO,MERGED,2021-05-20 11:44:57.000000000,2021-06-09 00:27:36.000000000,2021-06-09 00:24:14.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-05-20 11:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c798dd280ce74a73ab6c188eb549f15e0bdd315', 'message': 'docs: Address TODO\n\nWe now have good documentation on the PCI NUMA affinity policies\n(thanks, artom!) so we can close out this TODO. Hurrah!\n\nChange-Id: I4e6402bd192ea0d2efb26b52a7ceb65d924ec928\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-05-20 11:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4e1c89f6b4ad4c0c550f6b65677e86032236b6d', 'message': 'docs: Address TODO\n\nWe now have good documentation on the PCI NUMA affinity policies\n(thanks, artom!) so we can close out this TODO. Hurrah!\n\nChange-Id: I4e6402bd192ea0d2efb26b52a7ceb65d924ec928\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-05-25 16:26:36.000000000', 'files': ['doc/source/admin/networking.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/472db13aaf140a3cd59877292b9518d7fb665d94', 'message': 'docs: Address TODO\n\nWe now have good documentation on the PCI NUMA affinity policies\n(thanks, artom!) so we can close out this TODO. Hurrah!\n\nChange-Id: I4e6402bd192ea0d2efb26b52a7ceb65d924ec928\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,792363,472db13aaf140a3cd59877292b9518d7fb665d94,20,7,3,15334,,,0,"docs: Address TODO

We now have good documentation on the PCI NUMA affinity policies
(thanks, artom!) so we can close out this TODO. Hurrah!

Change-Id: I4e6402bd192ea0d2efb26b52a7ceb65d924ec928
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/792363/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/networking.rst'],1,0c798dd280ce74a73ab6c188eb549f15e0bdd315,bp/multiqueue-flavor-extra-spec,provided for PCI devices. This happens automatically and is described in detail in :ref:`pci-numa-affinity-policy`.,.. todo:: Add documentation for PCI NUMA affinity and PCI policies and link to it from here. provided for PCI devices. This happens automatically.,2,6
openstack%2Fnova~master~Idbc2d6b2f8f50924dc84683f9701aa28007616af,openstack/nova,master,Idbc2d6b2f8f50924dc84683f9701aa28007616af,Remove unnecessary mocks from unit test,MERGED,2021-06-03 16:35:53.000000000,2021-06-09 00:26:18.000000000,2021-06-09 00:23:52.000000000,"[{'_account_id': 4690}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 16:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64c5575b6ed59193b57450426a664965e630d7d6', 'message': 'Remove unnecessary mocks from unit test\n\nThese mocks where added in the series [1] when we rejected server\noperations with qos port. But then we forgot to remove them when\nthe support is added to those operations during [2].\n\n[1] https://review.opendev.org/q/topic:bp/bandwidth-resource-provider\n[2] https://review.opendev.org/q/topic:bp/support-move-ops-with-qos-ports-ussuri\n\nChange-Id: Idbc2d6b2f8f50924dc84683f9701aa28007616af\n'}, {'number': 2, 'created': '2021-06-04 07:05:07.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/api/openstack/compute/test_evacuate.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bfde6861307e4667ebe99fd9c49ad4235e183381', 'message': 'Remove unnecessary mocks from unit test\n\nThese mocks where added in the series [1] when we rejected server\noperations with qos port. But then we forgot to remove them when\nthe support is added to those operations during [2].\n\n[1] https://review.opendev.org/q/topic:bp/bandwidth-resource-provider\n[2] https://review.opendev.org/q/topic:bp/support-move-ops-with-qos-ports-ussuri\n\nChange-Id: Idbc2d6b2f8f50924dc84683f9701aa28007616af\n'}]",3,794637,bfde6861307e4667ebe99fd9c49ad4235e183381,17,3,2,9708,,,0,"Remove unnecessary mocks from unit test

These mocks where added in the series [1] when we rejected server
operations with qos port. But then we forgot to remove them when
the support is added to those operations during [2].

[1] https://review.opendev.org/q/topic:bp/bandwidth-resource-provider
[2] https://review.opendev.org/q/topic:bp/support-move-ops-with-qos-ports-ussuri

Change-Id: Idbc2d6b2f8f50924dc84683f9701aa28007616af
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/794637/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_evacuate.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py']",3,64c5575b6ed59193b57450426a664965e630d7d6,trivial,, self.mock_list_port = self.useFixture( fixtures.MockPatch('nova.network.neutron.API.list_ports')).mock self.mock_list_port.return_value = {'ports': []},0,10
openstack%2Fneutron~master~I0adaed888d8c23e0d3a79380db70e8c709324a6d,openstack/neutron,master,I0adaed888d8c23e0d3a79380db70e8c709324a6d,Update handler for PORT AFTER_CREATE,MERGED,2021-06-08 09:21:06.000000000,2021-06-08 23:41:09.000000000,2021-06-08 22:05:15.000000000,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 09:21:06.000000000', 'files': ['neutron/plugins/ml2/ovo_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/95656a5893063a237f8941f6e63e233e9171a018', 'message': 'Update handler for PORT AFTER_CREATE\n\nUpdated handler for PORT AFTER_CREATE events\nto handle_payload_event method. Once we move over\nto payloads for all callbacks the shims will be\nremoved.\n\nCloses-Bug: #1931220\nChange-Id: I0adaed888d8c23e0d3a79380db70e8c709324a6d\n'}]",0,795260,95656a5893063a237f8941f6e63e233e9171a018,21,5,1,32667,,,0,"Update handler for PORT AFTER_CREATE

Updated handler for PORT AFTER_CREATE events
to handle_payload_event method. Once we move over
to payloads for all callbacks the shims will be
removed.

Closes-Bug: #1931220
Change-Id: I0adaed888d8c23e0d3a79380db70e8c709324a6d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/795260/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/ovo_rpc.py'],1,95656a5893063a237f8941f6e63e233e9171a018,bug/1931220, if resource == resources.PORT and event == events.AFTER_CREATE: handler = self.handle_payload_event,,2,0
openstack%2Fnova~stable%2Fvictoria~Ie2ba746a7697a70fdbc6594f02257f78becfe962,openstack/nova,stable/victoria,Ie2ba746a7697a70fdbc6594f02257f78becfe962,Initialize global data separately and run_once in WSGI app init,ABANDONED,2021-04-06 22:15:42.000000000,2021-06-08 23:35:42.000000000,,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-06 22:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55ad25beafc788b04e2e273533eb8e2dbbddcaae', 'message': 'Reset global wsgi app state in unit test\n\nSince I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state\nset during the wsgi_app init making our unit test cases\nnon-deterministic based on the order of them. This patch makes sure\nthat the global state is reset for each test case.\n\nChange-Id: Ie2ba746a7697a70fdbc6594f02257f78becfe962\nCloses-Bug: #1921098\n(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)\n'}, {'number': 2, 'created': '2021-04-27 21:07:43.000000000', 'files': ['nova/api/openstack/wsgi_app.py', 'nova/test.py', 'nova/tests/unit/test_utils.py', 'nova/tests/unit/api/openstack/test_wsgi_app.py', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3672796075f6f8d568b5d49892a6d49752a27694', 'message': 'Initialize global data separately and run_once in WSGI app init\n\nWe have discovered that if an exception is raised at any point during\nthe running of the init_application WSGI script in an apache/mod_wsgi\nDaemon Mode environment, it will prompt apache/mod_wsgi to re-run the\nscript without starting a fresh python process. Because we initialize\nglobal data structures during app init, subsequent runs of the script\nblow up as some global data do *not* support re-initialization. It is\nanyway not safe to assume that init of global data is safe to run\nmultiple times.\n\nThis mod_wsgi behavior appears to be a special situation that does not\nbehave the same as a normal reload in Daemon Mode as the script file is\nbeing reloaded upon failure instead of the daemon process being\nshutdown and restarted as described in the documentation [1].\n\nIn order to handle this situation, we can move the initialization of\nglobal data structures to a helper method that is decorated to run only\nonce per python interpreter instance. This way, we will not attempt to\nre-initialize global data that are not safe to init more than once.\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nConflicts:\n    nova/api/openstack/wsgi_app.py\n\nNOTE(melwitt): The conflict is because change\nIf4783adda92da33d512d7c2834f0bb2e2a9b9654 (Support sys.argv in wsgi\napp) is not in Victoria.\n\nCloses-Bug: #1882094\n\n[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode\n\nChange-Id: I2bd360dcc6501feea7baf02d4510b282205fc061\n(cherry picked from commit 7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8)\n\nReset global wsgi app state in unit test\n\nSince I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state\nset during the wsgi_app init making our unit test cases\nnon-deterministic based on the order of them. This patch makes sure\nthat the global state is reset for each test case.\n\nChange-Id: Ie2ba746a7697a70fdbc6594f02257f78becfe962\nCloses-Bug: #1921098\n(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)\n'}]",4,785060,3672796075f6f8d568b5d49892a6d49752a27694,16,6,2,4690,,,0,"Initialize global data separately and run_once in WSGI app init

We have discovered that if an exception is raised at any point during
the running of the init_application WSGI script in an apache/mod_wsgi
Daemon Mode environment, it will prompt apache/mod_wsgi to re-run the
script without starting a fresh python process. Because we initialize
global data structures during app init, subsequent runs of the script
blow up as some global data do *not* support re-initialization. It is
anyway not safe to assume that init of global data is safe to run
multiple times.

This mod_wsgi behavior appears to be a special situation that does not
behave the same as a normal reload in Daemon Mode as the script file is
being reloaded upon failure instead of the daemon process being
shutdown and restarted as described in the documentation [1].

In order to handle this situation, we can move the initialization of
global data structures to a helper method that is decorated to run only
once per python interpreter instance. This way, we will not attempt to
re-initialize global data that are not safe to init more than once.

Co-Authored-By: Michele Baldessari <michele@redhat.com>
Co-Authored-By: melanie witt <melwittt@gmail.com>

Conflicts:
    nova/api/openstack/wsgi_app.py

NOTE(melwitt): The conflict is because change
If4783adda92da33d512d7c2834f0bb2e2a9b9654 (Support sys.argv in wsgi
app) is not in Victoria.

Closes-Bug: #1882094

[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode

Change-Id: I2bd360dcc6501feea7baf02d4510b282205fc061
(cherry picked from commit 7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8)

Reset global wsgi app state in unit test

Since I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state
set during the wsgi_app init making our unit test cases
non-deterministic based on the order of them. This patch makes sure
that the global state is reset for each test case.

Change-Id: Ie2ba746a7697a70fdbc6594f02257f78becfe962
Closes-Bug: #1921098
(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/785060/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/test.py'],1,55ad25beafc788b04e2e273533eb8e2dbbddcaae,bug/1921098,from nova.api.openstack import wsgi_app # make sure that the wsgi app is fully initialized for all testcase # instead of only once initialized for test worker wsgi_app.init_global_data.reset() ,,5,0
openstack%2Fswift~master~I92e5b159779422b064b2d6d034cfb6dd0d4afa59,openstack/swift,master,I92e5b159779422b064b2d6d034cfb6dd0d4afa59,Add non-voting swift python3 unit test jobs,MERGED,2021-05-25 03:19:32.000000000,2021-06-08 23:32:29.000000000,2021-06-08 23:30:32.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-25 03:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/01b02dddb39bf1068d8df053d4f8cd8c14154192', 'message': 'Add non-voting swift python3 unit test jobs\n\nAdd non-voting swift-tox-jobs-arm64 project template.\nIt include two non-voting project jobs:\n* swift-tox-py38-arm64\n* swift-tox-py39-arm64\n\nAnd running on seperate pipeline `check-arm64`.\n\nChange-Id: I92e5b159779422b064b2d6d034cfb6dd0d4afa59\n'}, {'number': 2, 'created': '2021-05-25 04:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/96d8597dfedc8fc6eccf1c25bc060d3dcb0ce693', 'message': 'Add non-voting swift python3 unit test jobs\n\nAdd non-voting swift-tox-jobs-arm64 project template.\nIt include two non-voting project jobs:\n* swift-tox-py38-arm64\n* swift-tox-py39-arm64\n\nAnd running on seperate pipeline `check-arm64`.\n\nChange-Id: I92e5b159779422b064b2d6d034cfb6dd0d4afa59\n'}, {'number': 3, 'created': '2021-05-25 04:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/55446e3497bbd602ebf6897e42445abefbfbf228', 'message': 'Add non-voting swift python3 unit test jobs\n\nAdd non-voting swift-tox-jobs-arm64 project template.\nIt include two non-voting project jobs:\n* swift-tox-py38-arm64\n* swift-tox-py39-arm64\n\nAnd running on seperate pipeline `check-arm64`.\n\nChange-Id: I92e5b159779422b064b2d6d034cfb6dd0d4afa59\n'}, {'number': 4, 'created': '2021-05-25 04:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4e9bc82fc286fc5f3541e0944352a5fc0495f266', 'message': 'Add non-voting swift python3 unit test jobs\n\nAdd non-voting swift-tox-jobs-arm64 project template.\nIt include two non-voting project jobs:\n* swift-tox-py38-arm64\n* swift-tox-py39-arm64\n\nAnd running on seperate pipeline `check-arm64`.\n\nChange-Id: I92e5b159779422b064b2d6d034cfb6dd0d4afa59\n'}, {'number': 5, 'created': '2021-05-25 04:12:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/41a3e1ff5126097380a594c0746a036689afced9', 'message': 'Add non-voting swift python3 unit test jobs\n\nAdd non-voting swift-tox-jobs-arm64 project template.\nIt include two non-voting project jobs:\n* swift-tox-py38-arm64\n* swift-tox-py39-arm64\n\nAnd running on seperate pipeline `check-arm64`.\n\nStory: 2007938\nTask: 42511\n\nChange-Id: I92e5b159779422b064b2d6d034cfb6dd0d4afa59\n'}]",4,792867,41a3e1ff5126097380a594c0746a036689afced9,15,2,5,12404,,,0,"Add non-voting swift python3 unit test jobs

Add non-voting swift-tox-jobs-arm64 project template.
It include two non-voting project jobs:
* swift-tox-py38-arm64
* swift-tox-py39-arm64

And running on seperate pipeline `check-arm64`.

Story: 2007938
Task: 42511

Change-Id: I92e5b159779422b064b2d6d034cfb6dd0d4afa59
",git fetch https://review.opendev.org/openstack/swift refs/changes/67/792867/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,01b02dddb39bf1068d8df053d4f8cd8c14154192,story/2007938, name: swift-tox-py38-arm64 parent: swift-tox-py38 nodeset: ubuntu-bionic-arm64 description: | Run unit tests for an OpenStack Python project under cPython version 3.8 on top of arm64 architecture. - job: name: swift-tox-py39-arm64 parent: swift-tox-py39 nodeset: ubuntu-bionic-arm64 description: | Run unit tests for an OpenStack Python project under cPython version 3.9 on top of arm64 architecture. - job:- project-template: name: swift-tox-jobs-arm64 description: | Runs unit tests for an OpenStack Python project under the CPython version 3 releases designated for testing on top of ARM64 architecture. check-arm64: jobs: - swift-tox-py38-arm64: voting: false - swift-tox-py39-arm64: voting: false - swift-tox-jobs-arm64,,29,0
openstack%2Fnova~stable%2Fvictoria~I02b2b851a74f24816d2f782a66d94de81ee527b0,openstack/nova,stable/victoria,I02b2b851a74f24816d2f782a66d94de81ee527b0,zuul: Replace grenade and nova-grenade-multinode with grenade-multinode,MERGED,2021-06-03 19:33:49.000000000,2021-06-08 23:23:39.000000000,2021-06-08 23:21:32.000000000,"[{'_account_id': 4393}, {'_account_id': 10135}, {'_account_id': 10459}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 19:33:49.000000000', 'files': ['playbooks/legacy/nova-live-migration/run.yaml', 'gate/live_migration/hooks/nfs.sh', 'gate/live_migration/hooks/utils.sh', 'playbooks/legacy/nova-grenade-multinode/run.yaml', 'playbooks/legacy/nova-grenade-multinode/post.yaml', 'gate/live_migration/hooks/ceph.sh', '.zuul.yaml', 'playbooks/legacy/nova-live-migration/post.yaml', 'gate/live_migration/hooks/run_tests.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/2af08fb5ead8ca1fa4d6b8ea00f3c5c3d26e562c', 'message': ""zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n\nIf2608406776e0d5a06b726e65b55881e70562d18 dropped the single node\ngrenade job from the integrated-gate-compute template as it duplicates\nthe existing grenade-multinode job. However it doesn't remove the\nremianing single node grenade job still present in the Nova project.\n\nThis change replaces the dsvm based nova-grenade-multinode job with the\nzuulv3 native grenade-multinode based job.\n\nVarious legacy playbooks and hook scripts are also removed as they are\nno longer used. Note that this does result in a loss of coverage for\nceph that should be replaced as soon as a zuulv3 native ceph based\nmultinode job is available.\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n(cherry picked from commit 91e53e4c2b90ea57aeac4ec522dd7c8c54961d09)\n(cherry picked from commit c45bedd98d50af865d727b7456c974c8e27bff8b)\n""}]",0,794674,2af08fb5ead8ca1fa4d6b8ea00f3c5c3d26e562c,41,5,1,4690,,,0,"zuul: Replace grenade and nova-grenade-multinode with grenade-multinode

If2608406776e0d5a06b726e65b55881e70562d18 dropped the single node
grenade job from the integrated-gate-compute template as it duplicates
the existing grenade-multinode job. However it doesn't remove the
remianing single node grenade job still present in the Nova project.

This change replaces the dsvm based nova-grenade-multinode job with the
zuulv3 native grenade-multinode based job.

Various legacy playbooks and hook scripts are also removed as they are
no longer used. Note that this does result in a loss of coverage for
ceph that should be replaced as soon as a zuulv3 native ceph based
multinode job is available.

Change-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0
(cherry picked from commit 91e53e4c2b90ea57aeac4ec522dd7c8c54961d09)
(cherry picked from commit c45bedd98d50af865d727b7456c974c8e27bff8b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/794674/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/nova-live-migration/run.yaml', 'gate/live_migration/hooks/nfs.sh', 'gate/live_migration/hooks/utils.sh', 'playbooks/legacy/nova-grenade-multinode/run.yaml', 'playbooks/legacy/nova-grenade-multinode/post.yaml', 'gate/live_migration/hooks/ceph.sh', '.zuul.yaml', 'playbooks/legacy/nova-live-migration/post.yaml', 'gate/live_migration/hooks/run_tests.sh']",9,2af08fb5ead8ca1fa4d6b8ea00f3c5c3d26e562c,native-zuulv3-migration,,"#!/bin/bash # Live migration dedicated ci job will be responsible for testing different # environments based on underlying storage, used for ephemerals. # This hook allows to inject logic of environment reconfiguration in ci job. # Base scenario for this would be: # # 1. test with all local storage (use default for volumes) # 2. test with NFS for root + ephemeral disks # 3. test with Ceph for root + ephemeral disks # 4. test with Ceph for volumes and root + ephemeral disk set -xe cd $BASE/new/tempest source $BASE/new/devstack/functions source $BASE/new/devstack/functions-common source $BASE/new/devstack/lib/nova source $WORKSPACE/devstack-gate/functions.sh source $BASE/new/nova/gate/live_migration/hooks/utils.sh source $BASE/new/nova/gate/live_migration/hooks/nfs.sh source $BASE/new/nova/gate/live_migration/hooks/ceph.sh primary_node=$(cat /etc/nodepool/primary_node_private) SUBNODES=$(cat /etc/nodepool/sub_nodes_private) SERVICE_HOST=$primary_node STACK_USER=${STACK_USER:-stack} echo '1. test with all local storage (use default for volumes)' echo 'NOTE: test_volume_backed_live_migration is skipped due to https://bugs.launchpad.net/nova/+bug/1524898' echo 'NOTE: test_live_block_migration_paused is skipped due to https://bugs.launchpad.net/nova/+bug/1901739' run_tempest ""block migration test"" ""^.*test_live_migration(?!.*(test_volume_backed_live_migration|test_live_block_migration_paused))"" # TODO(mriedem): Run $BASE/new/nova/gate/test_evacuate.sh for local storage #all tests bellow this line use shared storage, need to update tempest.conf echo 'disabling block_migration in tempest' $ANSIBLE primary --become -f 5 -i ""$WORKSPACE/inventory"" -m ini_file -a ""dest=$BASE/new/tempest/etc/tempest.conf section=compute-feature-enabled option=block_migration_for_live_migration value=False"" echo '2. NFS testing is skipped due to setup failures with Ubuntu 16.04' #echo '2. test with NFS for root + ephemeral disks' #nfs_setup #nfs_configure_tempest #nfs_verify_setup #run_tempest ""NFS shared storage test"" ""live_migration"" #nfs_teardown # The nova-grenade-multinode job also runs resize and cold migration tests # so we check for a grenade-only variable. if [[ -n ""$GRENADE_NEW_BRANCH"" ]]; then echo '3. test cold migration and resize' run_tempest ""cold migration and resize test"" ""test_resize_server|test_cold_migration|test_revert_cold_migration"" else echo '3. cold migration and resize is skipped for non-grenade jobs' fi echo '4. test with Ceph for root + ephemeral disks' # Discover and set variables for the OS version so the devstack-plugin-ceph # scripts can find the correct repository to install the ceph packages. GetOSVersion USE_PYTHON3=${USE_PYTHON3:-True} prepare_ceph GLANCE_API_CONF=${GLANCE_API_CONF:-/etc/glance/glance-api.conf} configure_and_start_glance configure_and_start_nova run_tempest ""Ceph nova&glance test"" ""^.*test_live_migration(?!.*(test_volume_backed_live_migration))"" set +e #echo '5. test with Ceph for volumes and root + ephemeral disk' #configure_and_start_cinder #run_tempest ""Ceph nova&glance&cinder test"" ""live_migration"" ",16,512
openstack%2Fpython-tripleoclient~master~I911f9ea00d9a64af3fd4f5f0c581a5c157df104f,openstack/python-tripleoclient,master,I911f9ea00d9a64af3fd4f5f0c581a5c157df104f,Remove unused method _format_endpoint_name,MERGED,2021-06-04 19:02:21.000000000,2021-06-08 23:16:58.000000000,2021-06-08 23:14:21.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 19:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3b257c0bb43230d8965528950c771e3549a63cf2', 'message': 'Remove unused method _format_endpoint_name\n\nChange-Id: I911f9ea00d9a64af3fd4f5f0c581a5c157df104f\n'}, {'number': 2, 'created': '2021-06-05 00:19:14.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/059dff4d3db7b27345567c5bc93744a2a4623f4a', 'message': 'Remove unused method _format_endpoint_name\n\nChange-Id: I911f9ea00d9a64af3fd4f5f0c581a5c157df104f\n'}]",0,794881,059dff4d3db7b27345567c5bc93744a2a4623f4a,14,5,2,24245,,,0,"Remove unused method _format_endpoint_name

Change-Id: I911f9ea00d9a64af3fd4f5f0c581a5c157df104f
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/81/794881/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,3b257c0bb43230d8965528950c771e3549a63cf2,overcloud_deploy_cleanup,," def _format_endpoint_name(self, service, interface): return re.sub('v[0-9]+', '', service.capitalize() + interface.capitalize()) ",0,4
openstack%2Fpython-tripleoclient~master~I0df98031cf29e3d0f0196b168f07d50600b1a982,openstack/python-tripleoclient,master,I0df98031cf29e3d0f0196b168f07d50600b1a982,Use enable-legacy-telemetry.yaml when enabling telemetry,MERGED,2021-06-07 04:13:20.000000000,2021-06-08 23:15:48.000000000,2021-06-08 23:14:17.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 04:13:20.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6ce5138970329c1fd6a10df13ec40781ac4b67d1', 'message': 'Use enable-legacy-telemetry.yaml when enabling telemetry\n\nWe use a bunch of environment files unnecessarily.\n\nChange-Id: I0df98031cf29e3d0f0196b168f07d50600b1a982\n'}]",0,795017,6ce5138970329c1fd6a10df13ec40781ac4b67d1,12,3,1,8833,,,0,"Use enable-legacy-telemetry.yaml when enabling telemetry

We use a bunch of environment files unnecessarily.

Change-Id: I0df98031cf29e3d0f0196b168f07d50600b1a982
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/17/795017/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py']",2,6ce5138970329c1fd6a10df13ec40781ac4b67d1,telemetry-cleanup,," 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' '/usertht/environments/' 'disable-telemetry.yaml', '-e', 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/'",1,33
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I2638192fb8e4aeb8b22f054bd65690261fc4ccfa,openstack/python-tripleoclient,stable/wallaby,I2638192fb8e4aeb8b22f054bd65690261fc4ccfa,Fix backup/restore file name for ephemeral heat,MERGED,2021-06-07 13:46:48.000000000,2021-06-08 23:15:41.000000000,2021-06-08 23:14:13.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 13:46:48.000000000', 'files': ['tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c38dd36e5f4fc1e596ab6610f33899fe201802cf', 'message': 'Fix backup/restore file name for ephemeral heat\n\nWe seem to be using different name when restoring.\n\nChange-Id: I2638192fb8e4aeb8b22f054bd65690261fc4ccfa\n(cherry picked from commit 899f86285f58da280a226f653fe74f7bb1c3f76f)\n'}]",0,795047,c38dd36e5f4fc1e596ab6610f33899fe201802cf,7,3,1,7144,,,0,"Fix backup/restore file name for ephemeral heat

We seem to be using different name when restoring.

Change-Id: I2638192fb8e4aeb8b22f054bd65690261fc4ccfa
(cherry picked from commit 899f86285f58da280a226f653fe74f7bb1c3f76f)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/47/795047/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py']",2,c38dd36e5f4fc1e596ab6610f33899fe201802cf,fix_ephemeral-stable/wallaby," self.assertEqual(mock.call(launcher.heat_dir + '/heat-db.sql'), mock_open.assert_called_with(launcher.heat_dir + '/heat-db.sql') # noqa self.assertEqual(mock.call(launcher.heat_dir + '/heat-db.sql'), mock_open.assert_called_with(launcher.heat_dir + '/heat-db.sql') # noqa"," self.assertEqual(mock.call(str(three).rstrip('.tar.bz2')), mock_open.assert_called_with(str(three).rstrip('.tar.bz2')) # noqa self.assertEqual(mock.call(str(two).rstrip('.tar.bz2')), # noqa mock_open.assert_called_with(str(two).rstrip('.tar.bz2')) # noqa",12,11
openstack%2Fpyeclib~master~I1a22049ee42fc5ee7832989e75c6c9b7147db232,openstack/pyeclib,master,I1a22049ee42fc5ee7832989e75c6c9b7147db232,Add a __repr__ for ECPyECLibDriver,MERGED,2021-05-11 01:11:57.000000000,2021-06-08 23:04:04.000000000,2021-06-08 23:04:04.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 01:11:57.000000000', 'files': ['pyeclib/core.py'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/8d6bc0ac70e874e6ce956846d89cb560d3e1420e', 'message': 'Add a __repr__ for ECPyECLibDriver\n\nChange-Id: I1a22049ee42fc5ee7832989e75c6c9b7147db232\n'}]",0,790538,8d6bc0ac70e874e6ce956846d89cb560d3e1420e,6,2,1,15343,,,0,"Add a __repr__ for ECPyECLibDriver

Change-Id: I1a22049ee42fc5ee7832989e75c6c9b7147db232
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/38/790538/1 && git format-patch -1 --stdout FETCH_HEAD,['pyeclib/core.py'],1,8d6bc0ac70e874e6ce956846d89cb560d3e1420e,," def __repr__(self): return '%s(k=%r, m=%r, hd=%r, ec_type=%r, chksum_type=%r)' % ( self.__class__.__name__, self.k, self.m, self.hd, self.ec_type, self.chksum_type) ",,5,0
openstack%2Fpyeclib~master~I14a2ebb5424ff9c76a3fd273aee047baba4d7fc1,openstack/pyeclib,master,I14a2ebb5424ff9c76a3fd273aee047baba4d7fc1,Add non-voting pyeclib python3 unit test jobs,MERGED,2021-05-27 07:44:41.000000000,2021-06-08 22:55:22.000000000,2021-06-08 22:55:22.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 07:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/2185e666fc7c32bf9ddcde95fef19044b0234baf', 'message': 'Add non-voting pyeclib python3 unit test jobs\n\nAdd non-voting pyeclib-libec-jobs-arm64 project template.\nIt includes 1 non-voting project job:\n* libec-pyeclib-unit-arm64\n\nAnd running on seperate pipeline `check-arm64`.\n\nChange-Id: I14a2ebb5424ff9c76a3fd273aee047baba4d7fc1\n'}, {'number': 2, 'created': '2021-05-28 00:36:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/f8103903aebc5770f82f1e01634521985975cbc5', 'message': 'Add non-voting pyeclib python3 unit test jobs\n\nAdd non-voting pyeclib-libec-jobs-arm64 project template.\nIt includes 1 non-voting project job:\n* libec-pyeclib-unit-arm64\n\nAnd running on seperate pipeline `check-arm64`.\n\nChange-Id: I14a2ebb5424ff9c76a3fd273aee047baba4d7fc1\n'}]",1,793281,f8103903aebc5770f82f1e01634521985975cbc5,11,2,2,7233,,,0,"Add non-voting pyeclib python3 unit test jobs

Add non-voting pyeclib-libec-jobs-arm64 project template.
It includes 1 non-voting project job:
* libec-pyeclib-unit-arm64

And running on seperate pipeline `check-arm64`.

Change-Id: I14a2ebb5424ff9c76a3fd273aee047baba4d7fc1
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/81/793281/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2185e666fc7c32bf9ddcde95fef19044b0234baf,add_arm64_non_voting_jobs, - pyeclib-libec-jobs-arm64 - job: name: libec-pyeclib-unit-arm64 parent: libec-pyeclib-unit nodeset: ubuntu-focal-arm64 description: | Run unit tests for an OpenStack Python project under cPython version 3.9 on top of arm64 architecture. - project-template: name: pyeclib-libec-jobs-arm64 description: | Runs pyeclib unit tests designated for testing on top of ARM64 architecture check-arm64: jobs: - libec-pyeclib-unit-arm64: voting: false,,19,0
openstack%2Fnova~master~I81fec10535034f3a81d46713a6eda813f90561cf,openstack/nova,master,I81fec10535034f3a81d46713a6eda813f90561cf,Remove references to 'instance_type',MERGED,2021-03-03 18:54:57.000000000,2021-06-08 22:23:37.000000000,2021-06-08 22:22:02.000000000,"[{'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 18:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/776cc628708c56a8e76d833911c15845a0373cc9', 'message': ""Remove references to 'instance_type'\n\nThey haven't been instance types in a very long time. We're stuck with\nthat terminology in the database for now, but otherwise we can replace\nreferences to 'instance_type' with 'flavor'.\n\nWhile we're here, we also rename a single case of an 'i' variable to a\nmore informative 'idx'. 'i' is too short to be useful outside of a very\nlimited scope.\n\nChange-Id: I81fec10535034f3a81d46713a6eda813f90561cf\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-03-29 14:46:44.000000000', 'files': ['nova/tests/unit/test_quota.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1de6e960af829142c0c6e606ef10d06a44d2cae1', 'message': ""Remove references to 'instance_type'\n\nThey haven't been instance types in a very long time. We're stuck with\nthat terminology in the database for now, but otherwise we can replace\nreferences to 'instance_type' with 'flavor'.\n\nWhile we're here, we also rename a single case of an 'i' variable to a\nmore informative 'idx'. 'i' is too short to be useful outside of a very\nlimited scope.\n\nChange-Id: I81fec10535034f3a81d46713a6eda813f90561cf\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",13,778546,1de6e960af829142c0c6e606ef10d06a44d2cae1,15,3,2,15334,,,0,"Remove references to 'instance_type'

They haven't been instance types in a very long time. We're stuck with
that terminology in the database for now, but otherwise we can replace
references to 'instance_type' with 'flavor'.

While we're here, we also rename a single case of an 'i' variable to a
more informative 'idx'. 'i' is too short to be useful outside of a very
limited scope.

Change-Id: I81fec10535034f3a81d46713a6eda813f90561cf
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/778546/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_quota.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']",4,776cc628708c56a8e76d833911c15845a0373cc9,compute_rpc_6.0," flavor = self._create_flavor() self.compute_api.create(self.context, flavor, 'image_id', flavor = self._create_flavor() self.compute_api.create(self.context, flavor, flavor=self._create_flavor(), image_href=None, flavor=self._create_flavor(), flavor = self._create_flavor() instance, flavor, bdms, image_cache, volumes) flavor = self._create_flavor() instance, flavor, bdms, {}, flavor = self._create_flavor() flavor, bdms, image_cache, flavor, dp_request_groups, prev_request_groups, flavor, flavor = self._create_flavor(**extra_specs) flavor, dp_groups, prev_groups) flavor = self._create_flavor() flavor, [], prev_groups) flavor = self._create_flavor() self.context, base_options, flavor, flavor = self._create_flavor( swap=swap_size, ephemeral_gb=ephemeral_size) self.context, instance, flavor, block_device_mapping, flavor = objects.Flavor(**test_flavor.fake_flavor) self.context, flavor, boot_meta, uuids.image_href,"," instance_type = self._create_flavor() self.compute_api.create(self.context, instance_type, 'image_id', instance_type = self._create_flavor() self.compute_api.create(self.context, instance_type, instance_type=self._create_flavor(), image_href=None, instance_type=self._create_flavor(), instance_type = self._create_flavor() instance, instance_type, bdms, image_cache, volumes) instance_type = self._create_flavor() instance, instance_type, bdms, {}, instance_type = self._create_flavor() instance_type, bdms, image_cache, instance_type, dp_request_groups, prev_request_groups, instance_type, instance_type = self._create_flavor(**extra_specs) instance_type, dp_groups, prev_groups) instance_type = self._create_flavor() instance_type, [], prev_groups) instance_type = self._create_flavor() self.context, base_options, instance_type, instance_type = self._create_flavor(swap=swap_size, ephemeral_gb=ephemeral_size) self.context, instance, instance_type, block_device_mapping, instance_type = objects.Flavor(**test_flavor.fake_flavor) self.context, instance_type, boot_meta, uuids.image_href,",249,246
openstack%2Frequirements~stable%2Fwallaby~I6bdc8c14703055560a7d7b162303595a65b8b845,openstack/requirements,stable/wallaby,I6bdc8c14703055560a7d7b162303595a65b8b845,update constraint for tripleo-common to new release 15.2.1,MERGED,2021-06-08 17:10:14.000000000,2021-06-08 22:05:08.000000000,2021-06-08 22:05:08.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 17:10:14.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c4ef65769ebec9a8d32915cc0dcf5951c3eb4cf4', 'message': 'update constraint for tripleo-common to new release 15.2.1\n\nmeta: version: 15.2.1\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: Ie919f2501967878257aea056a742d78afe5194f1\nmeta: release:Code-Review+1: yatin <ykarel@redhat.com>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I6bdc8c14703055560a7d7b162303595a65b8b845\n'}]",0,795382,c4ef65769ebec9a8d32915cc0dcf5951c3eb4cf4,7,2,1,11131,,,0,"update constraint for tripleo-common to new release 15.2.1

meta: version: 15.2.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: Ie919f2501967878257aea056a742d78afe5194f1
meta: release:Code-Review+1: yatin <ykarel@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I6bdc8c14703055560a7d7b162303595a65b8b845
",git fetch https://review.opendev.org/openstack/requirements refs/changes/82/795382/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c4ef65769ebec9a8d32915cc0dcf5951c3eb4cf4,new-release,tripleo-common===15.2.1,tripleo-common===15.2.0,1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I3f3865cc0f07b3b32e96a42a27a7b03386a1530b,openstack/python-tripleoclient,stable/wallaby,I3f3865cc0f07b3b32e96a42a27a7b03386a1530b,Fix undercloud validate password file,MERGED,2021-06-07 02:12:10.000000000,2021-06-08 21:53:43.000000000,2021-06-08 21:52:39.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 02:12:10.000000000', 'files': ['tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/72718fec1f5c9d2d89fb1ebeca7b0eacf9a781e9', 'message': 'Fix undercloud validate password file\n\nIn change: Idded7faba1ff6c811b94503c559029aeeaca6a06 the\ndefault directory where undercloud generated artifacts\nare stored was changed.\n\nThe undercloud pre-flight check for the password file\nwas not updated, cause undercloud install re-run to fail.\n\nChange-Id: I3f3865cc0f07b3b32e96a42a27a7b03386a1530b\nCloses-Bug: #1928501\n(cherry picked from commit 7058c3ee404c9ebfdd6cd0f9ad1b55d0c7a8a44c)\n'}]",0,794951,72718fec1f5c9d2d89fb1ebeca7b0eacf9a781e9,8,2,1,24245,,,0,"Fix undercloud validate password file

In change: Idded7faba1ff6c811b94503c559029aeeaca6a06 the
default directory where undercloud generated artifacts
are stored was changed.

The undercloud pre-flight check for the password file
was not updated, cause undercloud install re-run to fail.

Change-Id: I3f3865cc0f07b3b32e96a42a27a7b03386a1530b
Closes-Bug: #1928501
(cherry picked from commit 7058c3ee404c9ebfdd6cd0f9ad1b55d0c7a8a44c)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/51/794951/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_preflight.py'],1,72718fec1f5c9d2d89fb1ebeca7b0eacf9a781e9,bug/1928501-stable/wallaby," if not CONF.get('output_dir'): output_dir = os.path.join(constants.UNDERCLOUD_OUTPUT_DIR, 'tripleo-deploy', 'undercloud') else: output_dir = CONF['output_dir'] passwd_path = os.path.join(output_dir, 'undercloud-passwords.conf') not os.path.isfile(passwd_path)): 'undercloud. ') % passwd_path)","PASSWORD_PATH = os.path.join( constants.UNDERCLOUD_OUTPUT_DIR, 'undercloud-passwords.conf' ) not os.path.isfile(PASSWORD_PATH)): 'undercloud. ') % PASSWORD_PATH)",9,6
openstack%2Foslo.config~stable%2Fwallaby~I70ab87c9bed093cad883b6301b8a09753fc470d9,openstack/oslo.config,stable/wallaby,I70ab87c9bed093cad883b6301b8a09753fc470d9,config-generator yaml format doesn't work with i18n fields,MERGED,2021-06-02 16:39:54.000000000,2021-06-08 21:49:24.000000000,2021-06-08 21:48:19.000000000,"[{'_account_id': 4257}, {'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 11491}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-02 16:39:54.000000000', 'files': ['oslo_config/generator.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/de1dbeed235d2df7cf1528aef6ad4a70ddf8559f', 'message': ""config-generator yaml format doesn't work with i18n fields\n\nThis is because there's no yaml representer for i18n Messages object.\nThis patch aims to add this representer and allow the generation of\nconfigurations using oslo.i18n strings.\n\nOne example of this is cinder.\n\nCloses-bug: #1928582\nChange-Id: I70ab87c9bed093cad883b6301b8a09753fc470d9\n(cherry picked from commit e5fc313ecf47813364a2111b987ced823c0d64e3)\n""}]",0,794184,de1dbeed235d2df7cf1528aef6ad4a70ddf8559f,9,10,1,27419,,,0,"config-generator yaml format doesn't work with i18n fields

This is because there's no yaml representer for i18n Messages object.
This patch aims to add this representer and allow the generation of
configurations using oslo.i18n strings.

One example of this is cinder.

Closes-bug: #1928582
Change-Id: I70ab87c9bed093cad883b6301b8a09753fc470d9
(cherry picked from commit e5fc313ecf47813364a2111b987ced823c0d64e3)
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/84/794184/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/generator.py'],1,de1dbeed235d2df7cf1528aef6ad4a70ddf8559f,automated_config_validation,"from oslo_i18n import _messagedef i18n_representer(dumper, data): """"""oslo_i18n yaml representer Returns a translated to the default locale string for yaml.safe_dump :param dumper: a SafeDumper instance passed by yaml.safe_dump :param data: a oslo_i18n._message.Message instance """""" serializedData = str(data.translation()) return dumper.represent_str(serializedData) yaml.SafeDumper.add_representer(_message.Message, i18n_representer)",,14,0
openstack%2Ftripleo-common~master~Ia66c28fb935a127102982f8b644397fd35b09a96,openstack/tripleo-common,master,Ia66c28fb935a127102982f8b644397fd35b09a96,Changed minversion in tox to 3.18.0,MERGED,2021-06-03 09:04:59.000000000,2021-06-08 21:38:05.000000000,2021-06-08 21:35:23.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:04:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9532e28e579016ad17d5a29ead2c231f38af191d', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ia66c28fb935a127102982f8b644397fd35b09a96\n""}]",0,794479,9532e28e579016ad17d5a29ead2c231f38af191d,14,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ia66c28fb935a127102982f8b644397fd35b09a96
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/79/794479/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9532e28e579016ad17d5a29ead2c231f38af191d,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals = sh,minversion = 3.8whitelist_externals =whitelist_externals = sh,3,3
openstack%2Ftripleo-ansible~stable%2Fwallaby~I3f1d0205f2228d59c5e8bc6b33084c64974c2a2b,openstack/tripleo-ansible,stable/wallaby,I3f1d0205f2228d59c5e8bc6b33084c64974c2a2b,Make the monitoring stack ports configurable for each daemon,MERGED,2021-06-08 05:07:05.000000000,2021-06-08 21:37:57.000000000,2021-06-08 21:33:17.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 05:07:05.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml', 'tripleo_ansible/ansible_plugins/module_utils/ceph_spec.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e3b18493d51c9b019e11c2ed803f7a9ff51ba539', 'message': ""Make the monitoring stack ports configurable for each daemon\n\nAccording to [1] the monitoring stack daemons are able to bind on the\nspecified {ip}:{port}.\nThis change turns the previously defined monitoring items into a dict\nwhere the name of the daemon and the port can be specified (the ports\nare supposed to come from the tht parameters).\nIn addition, we need to make sure that the port parameter is evaluated\nas an int, otherwise cephadm fails when the spec is applied. For this\nreason a new 'normalize_spec' function is introduced, with the purpose\nof analyzing the provided payload and make sure the port parameters\nare expressed as int. This is required due to the fact that the ansible\noption 'ANSIBLE_JINJA2_NATIVE=True' [2], which is supposed to enable\nthis feature at tripleo-ansible level is missing, but it's a constraint\nwe wouldn't like to introduce.\n\n[1] https://github.com/ceph/ceph/pull/41444\n[2] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#envvar-ANSIBLE_JINJA2_NATIVE\n\nChange-Id: I3f1d0205f2228d59c5e8bc6b33084c64974c2a2b\n(cherry picked from commit ccdecf061ebd39e1fb78c5f370613afb0392294e)\n""}]",0,795147,e3b18493d51c9b019e11c2ed803f7a9ff51ba539,10,6,1,25402,,,0,"Make the monitoring stack ports configurable for each daemon

According to [1] the monitoring stack daemons are able to bind on the
specified {ip}:{port}.
This change turns the previously defined monitoring items into a dict
where the name of the daemon and the port can be specified (the ports
are supposed to come from the tht parameters).
In addition, we need to make sure that the port parameter is evaluated
as an int, otherwise cephadm fails when the spec is applied. For this
reason a new 'normalize_spec' function is introduced, with the purpose
of analyzing the provided payload and make sure the port parameters
are expressed as int. This is required due to the fact that the ansible
option 'ANSIBLE_JINJA2_NATIVE=True' [2], which is supposed to enable
this feature at tripleo-ansible level is missing, but it's a constraint
we wouldn't like to introduce.

[1] https://github.com/ceph/ceph/pull/41444
[2] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#envvar-ANSIBLE_JINJA2_NATIVE

Change-Id: I3f1d0205f2228d59c5e8bc6b33084c64974c2a2b
(cherry picked from commit ccdecf061ebd39e1fb78c5f370613afb0392294e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/47/795147/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml', 'tripleo_ansible/ansible_plugins/module_utils/ceph_spec.py']",2,e3b18493d51c9b019e11c2ed803f7a9ff51ba539,cephadm_monitoring," sp = {'spec': self.normalize_spec(self.filter_spec(self.spec))} def normalize_spec(self, spec): ''' For each spec key we need to make sure that ports are evaluated as int, otherwise cephadm fails when the spec is applied. ''' for k, v in spec.items(): if 'port' in k: spec[k] = int(v) return spec ", sp = {'spec': self.filter_spec(self.spec)},20,7
openstack%2Fpython-tripleoclient~master~If2740767521453c7adfca56d942db97af13bfaf2,openstack/python-tripleoclient,master,If2740767521453c7adfca56d942db97af13bfaf2,Use explicit order for ironic enabled interfaces,MERGED,2021-06-07 21:15:06.000000000,2021-06-08 21:37:55.000000000,2021-06-08 21:36:01.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 21:15:06.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/05500120e07311389d6227d5e513fda422844321', 'message': 'Use explicit order for ironic enabled interfaces\n\nIronic uses the order of enabled interfaces to attempt each interface\nin turn, so sorting the list will result in an incorrect order in some\ncases, which will cause deployment failures on some hardware.\n\nThis change sets an explicit order for each interface.\n\nChange-Id: If2740767521453c7adfca56d942db97af13bfaf2\nCloses-Bug: #1931161\n'}]",1,795183,05500120e07311389d6227d5e513fda422844321,10,3,1,4571,,,0,"Use explicit order for ironic enabled interfaces

Ironic uses the order of enabled interfaces to attempt each interface
in turn, so sorting the list will result in an incorrect order in some
cases, which will cause deployment failures on some hardware.

This change sets an explicit order for each interface.

Change-Id: If2740767521453c7adfca56d942db97af13bfaf2
Closes-Bug: #1931161
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/83/795183/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",2,05500120e07311389d6227d5e513fda422844321,bug/1931161," 'IronicEnabledHardwareTypes': ['ipmi', 'redfish', 'ilo', 'idrac'], 'IronicEnabledBootInterfaces': ['ipxe', 'pxe', 'ilo-pxe'], 'IronicEnabledBiosInterfaces': ['no-bios', 'ilo', 'redfish'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible'], 'IronicEnabledInspectInterfaces': ['inspector', 'no-inspect', 'redfish', 'idrac', 'ilo'], 'IronicEnabledManagementInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'fake', 'noop'], 'IronicEnabledPowerInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'fake'], 'IronicEnabledRaidInterfaces': ['no-raid', 'idrac'], 'IronicEnabledVendorInterfaces': ['no-vendor', 'ipmitool', 'idrac'] 'IronicEnabledHardwareTypes': ['redfish', 'ipmi'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible'], 'IronicEnabledManagementInterfaces': ['ipmitool', 'redfish', 'fake', 'noop'], 'IronicEnabledPowerInterfaces': ['ipmitool', 'redfish', 'fake'], 'IronicEnabledVendorInterfaces': ['no-vendor', 'ipmitool'], 'IronicEnabledHardwareTypes': ['ipmi', 'redfish', 'ilo', 'idrac', 'staging-ovirt', 'snmp', 'irmc', 'xclarity', 'fake-hardware'], 'IronicEnabledBootInterfaces': ['ipxe', 'pxe', 'ilo-pxe', 'irmc-pxe', 'fake'], 'IronicEnabledBiosInterfaces': ['no-bios', 'ilo', 'irmc', 'redfish'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible', 'fake'], 'IronicEnabledInspectInterfaces': ['inspector', 'no-inspect', 'redfish', 'idrac', 'ilo', 'irmc'], 'IronicEnabledManagementInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'irmc', 'staging-ovirt', 'xclarity', 'fake', 'noop'], 'IronicEnabledPowerInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'irmc', 'staging-ovirt', 'xclarity', 'fake', 'snmp'], 'IronicEnabledRaidInterfaces': ['no-raid', 'idrac'], 'IronicEnabledVendorInterfaces': ['no-vendor', 'ipmitool', 'idrac']"," 'IronicEnabledHardwareTypes': ['idrac', 'ilo', 'ipmi', 'redfish'], 'IronicEnabledBootInterfaces': ['ilo-pxe', 'ipxe', 'pxe'], 'IronicEnabledBiosInterfaces': ['ilo', 'no-bios', 'redfish'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'iscsi'], 'IronicEnabledInspectInterfaces': ['idrac', 'ilo', 'inspector', 'no-inspect', 'redfish'], 'IronicEnabledManagementInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'noop', 'redfish'], 'IronicEnabledPowerInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'redfish'], 'IronicEnabledRaidInterfaces': ['idrac', 'no-raid'], 'IronicEnabledVendorInterfaces': ['idrac', 'ipmitool', 'no-vendor'] 'IronicEnabledHardwareTypes': ['ipmi', 'redfish'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'iscsi'], 'IronicEnabledManagementInterfaces': ['fake', 'ipmitool', 'noop', 'redfish'], 'IronicEnabledPowerInterfaces': ['fake', 'ipmitool', 'redfish'], 'IronicEnabledVendorInterfaces': ['ipmitool', 'no-vendor'], 'IronicEnabledHardwareTypes': ['fake-hardware', 'idrac', 'ilo', 'ipmi', 'irmc', 'redfish', 'snmp', 'staging-ovirt', 'xclarity'], 'IronicEnabledBootInterfaces': ['fake', 'ilo-pxe', 'ipxe', 'irmc-pxe', 'pxe'], 'IronicEnabledBiosInterfaces': ['ilo', 'irmc', 'no-bios', 'redfish'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'fake', 'iscsi'], 'IronicEnabledInspectInterfaces': ['idrac', 'ilo', 'inspector', 'irmc', 'no-inspect', 'redfish'], 'IronicEnabledManagementInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'irmc', 'noop', 'redfish', 'staging-ovirt', 'xclarity'], 'IronicEnabledPowerInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'irmc', 'redfish', 'snmp', 'staging-ovirt', 'xclarity'], 'IronicEnabledRaidInterfaces': ['idrac', 'no-raid'], 'IronicEnabledVendorInterfaces': ['idrac', 'ipmitool', 'no-vendor']",69,69
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I47aaf4be463684f5b67820b8ebb5db44ba960b44,openstack/puppet-tripleo,stable/wallaby,I47aaf4be463684f5b67820b8ebb5db44ba960b44,Allow overriding RBD disk cache modes,MERGED,2021-06-08 05:41:02.000000000,2021-06-08 21:37:54.000000000,2021-06-08 21:35:57.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 05:41:02.000000000', 'files': ['manifests/profile/base/nova/compute_libvirt_shared.pp', 'releasenotes/notes/rbd-disk-cache-modes-b6b75fa2e52b8915.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/cd9e0594a85feab8b033b4f634ac9b97f63c92ac', 'message': 'Allow overriding RBD disk cache modes\n\nKeep the default network=writeback setting, but allow it\nto come from hiera overrides as well.\n\nConflicts:\nmanifests/profile/base/nova/compute_libvirt_shared.pp\n\nChange-Id: I47aaf4be463684f5b67820b8ebb5db44ba960b44\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit f12a143f52864750fc90bb66c0e7eff0bed321c2)\n'}]",0,795212,cd9e0594a85feab8b033b4f634ac9b97f63c92ac,8,4,1,17216,,,0,"Allow overriding RBD disk cache modes

Keep the default network=writeback setting, but allow it
to come from hiera overrides as well.

Conflicts:
manifests/profile/base/nova/compute_libvirt_shared.pp

Change-Id: I47aaf4be463684f5b67820b8ebb5db44ba960b44
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit f12a143f52864750fc90bb66c0e7eff0bed321c2)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/12/795212/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/nova/compute_libvirt_shared.pp', 'releasenotes/notes/rbd-disk-cache-modes-b6b75fa2e52b8915.yaml']",2,cd9e0594a85feab8b033b4f634ac9b97f63c92ac,rbd_disk_cache_mode,--- features: - | New hiera setting `rbd_disk_cachemodes` allows to override the disk cache modes for RBD. Defaults to ['network=writeback']. ,,9,3
openstack%2Ftripleo-heat-templates~master~I7310c340a1e2b48cdbc378ab4fe3944bd7e89112,openstack/tripleo-heat-templates,master,I7310c340a1e2b48cdbc378ab4fe3944bd7e89112,Ignore puppet_config is an empty dict,MERGED,2021-05-18 21:23:15.000000000,2021-06-08 21:35:28.000000000,2021-06-08 21:35:28.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-18 21:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4270887e93b99fe1a950c97c1130210f739bbcf', 'message': ""Ignore puppet_config is an empty dict\n\nPreviously this was required which lead to folks defining invalid empty\ndata that actually gets ignored later in the process. Since you don't\nhave to have a puppet_config, let's say it needs to be defined but skip\nvalidation if it is an empty.\n\nChange-Id: I7310c340a1e2b48cdbc378ab4fe3944bd7e89112\n""}, {'number': 2, 'created': '2021-05-19 19:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/76fe05644ca5d82530b20b0e6de46a888bb9cd08', 'message': ""Ignore puppet_config is an empty dict\n\nPreviously this was required which lead to folks defining invalid empty\ndata that actually gets ignored later in the process. Since you don't\nhave to have a puppet_config, let's say it needs to be defined but skip\nvalidation if it is an empty.\n\nChange-Id: I7310c340a1e2b48cdbc378ab4fe3944bd7e89112\n""}, {'number': 3, 'created': '2021-05-21 16:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b874d421e59486da14c7d5b6c41f8c66afaed3df', 'message': ""Ignore puppet_config is an empty dict\n\nPreviously this was required which lead to folks defining invalid empty\ndata that actually gets ignored later in the process. Since you don't\nhave to have a puppet_config, let's say it needs to be defined but skip\nvalidation if it is an empty.\n\nChange-Id: I7310c340a1e2b48cdbc378ab4fe3944bd7e89112\n""}, {'number': 4, 'created': '2021-05-21 19:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1bbf7a4f1695abd2de11161ef499572a8f2c6268', 'message': ""Ignore puppet_config is an empty dict\n\nPreviously this was required which lead to folks defining invalid empty\ndata that actually gets ignored later in the process. Since you don't\nhave to have a puppet_config, let's say it needs to be defined but skip\nvalidation if it is an empty.\n\nChange-Id: I7310c340a1e2b48cdbc378ab4fe3944bd7e89112\n""}, {'number': 5, 'created': '2021-05-25 13:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c102fb84b8c7c2852e7533fb6b47bad0f0bba0c', 'message': ""Ignore puppet_config is an empty dict\n\nPreviously this was required which lead to folks defining invalid empty\ndata that actually gets ignored later in the process. Since you don't\nhave to have a puppet_config, let's say it needs to be defined but skip\nvalidation if it is an empty.\n\nChange-Id: I7310c340a1e2b48cdbc378ab4fe3944bd7e89112\n""}, {'number': 6, 'created': '2021-06-02 14:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b224ee7b486f2587b4530d34a5514aa9a4049a72', 'message': ""Ignore puppet_config is an empty dict\n\nPreviously this was required which lead to folks defining invalid empty\ndata that actually gets ignored later in the process. Since you don't\nhave to have a puppet_config, let's say it needs to be defined but skip\nvalidation if it is an empty.\n\nChange-Id: I7310c340a1e2b48cdbc378ab4fe3944bd7e89112\n""}, {'number': 7, 'created': '2021-06-03 17:12:48.000000000', 'files': ['deployment/ceph-ansible/ceph-nfs.yaml', 'deployment/cephadm/ceph-osd.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-mds.yaml', 'deployment/ceph-ansible/ceph-rbdmirror.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml', 'deployment/cephadm/ceph-mds.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'deployment/cephadm/ceph-nfs.yaml', 'tools/yaml-validate.py', 'deployment/cephadm/ceph-external.yaml', 'deployment/cephadm/ceph-mon.yaml', 'deployment/ceph-ansible/ceph-osd.yaml', 'deployment/cephadm/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-mon.yaml', 'deployment/logging/rsyslog-baremetal-ansible.yaml', 'deployment/cephadm/ceph-mgr.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/cephadm/ceph-client.yaml', 'deployment/cephadm/ceph-base.yaml', 'deployment/cephadm/ceph-rbdmirror.yaml', 'deployment/cephadm/ceph-grafana.yaml', 'deployment/ceph-ansible/ceph-client.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/ceph-ansible/ceph-external.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/45fca9e0298e0499a0edff4335b2c2a3ead483ae', 'message': ""Ignore puppet_config is an empty dict\n\nPreviously this was required which lead to folks defining invalid empty\ndata that actually gets ignored later in the process. Since you don't\nhave to have a puppet_config, let's say it needs to be defined but skip\nvalidation if it is an empty.\n\nChange-Id: I7310c340a1e2b48cdbc378ab4fe3944bd7e89112\n""}]",0,792046,45fca9e0298e0499a0edff4335b2c2a3ead483ae,50,7,7,14985,,,0,"Ignore puppet_config is an empty dict

Previously this was required which lead to folks defining invalid empty
data that actually gets ignored later in the process. Since you don't
have to have a puppet_config, let's say it needs to be defined but skip
validation if it is an empty.

Change-Id: I7310c340a1e2b48cdbc378ab4fe3944bd7e89112
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/792046/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ceph-ansible/ceph-nfs.yaml', 'deployment/cephadm/ceph-osd.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-mds.yaml', 'deployment/ceph-ansible/ceph-rbdmirror.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml', 'deployment/cephadm/ceph-mds.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'deployment/cephadm/ceph-nfs.yaml', 'tools/yaml-validate.py', 'deployment/cephadm/ceph-external.yaml', 'deployment/cephadm/ceph-mon.yaml', 'deployment/ceph-ansible/ceph-osd.yaml', 'deployment/cephadm/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-mon.yaml', 'deployment/logging/rsyslog-baremetal-ansible.yaml', 'deployment/cephadm/ceph-mgr.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/cephadm/ceph-client.yaml', 'deployment/cephadm/ceph-base.yaml', 'deployment/cephadm/ceph-rbdmirror.yaml', 'deployment/cephadm/ceph-grafana.yaml', 'deployment/ceph-ansible/ceph-client.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/ceph-ansible/ceph-external.yaml']",27,d4270887e93b99fe1a950c97c1130210f739bbcf,config-next, puppet_config: {}, puppet_config: config_image: '' config_volume: '' step_config: '',28,106
openstack%2Fpuppet-tripleo~master~Iced0d69556f61e6facfb1462de3ad241b5dfcfcb,openstack/puppet-tripleo,master,Iced0d69556f61e6facfb1462de3ad241b5dfcfcb,Do not include client classes,MERGED,2021-04-16 13:04:48.000000000,2021-06-08 21:34:58.000000000,2021-06-08 21:34:58.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-16 13:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2ef2918e6e238f7215c0d4d20497c0e8d9398daa', 'message': 'Do not include client classes\n\nThe client classes are used to install client packages like aodhclient,\nbut there is no need to install these client packages when installing\nservices. In addition, package installation is no longer enabled since\nservices are containerized these classes are no longer effective.\n\nChange-Id: Iced0d69556f61e6facfb1462de3ad241b5dfcfcb\n'}, {'number': 2, 'created': '2021-04-16 13:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/36ed0671b79cd2f796d112180d097c314c1a3813', 'message': 'Do not include client classes\n\nThe client classes are used to install client packages like aodhclient,\nbut there is no need to install these client packages when installing\nservices. In addition, package installation is no longer enabled since\nservices are containerized, so these classes are no longer effective.\n\nChange-Id: Iced0d69556f61e6facfb1462de3ad241b5dfcfcb\n'}, {'number': 3, 'created': '2021-04-19 14:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/92750a9385d7754f8f1bef89aaa3c8cbedb880b5', 'message': 'Do not include client classes\n\nThe client classes are used to install client packages like aodhclient,\nbut there is no need to install these client packages when installing\nservices. In addition, package installation is no longer enabled since\nservices are containerized, so these classes are no longer effective.\n\nChange-Id: Iced0d69556f61e6facfb1462de3ad241b5dfcfcb\n'}, {'number': 4, 'created': '2021-04-19 14:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7ee487a8567e65c24d4cece388371c3df4fc0fc2', 'message': 'Do not include client classes\n\nThe client classes are used to install client packages like aodhclient,\nbut there is no need to install these client packages when installing\nservices. In addition, package installation is no longer enabled since\nservices are containerized, so these classes are no longer effective.\n\nChange-Id: Iced0d69556f61e6facfb1462de3ad241b5dfcfcb\n'}, {'number': 5, 'created': '2021-04-19 14:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/893851fc7578a64361d1e0d9e7548aed2ea32aa7', 'message': 'Do not include client classes\n\nThe client classes are used to install client packages like aodhclient,\nbut there is no need to install these client packages when installing\nservices. In addition, package installation is no longer enabled since\nservices are containerized, so these classes are no longer effective.\n\nChange-Id: Iced0d69556f61e6facfb1462de3ad241b5dfcfcb\n'}, {'number': 6, 'created': '2021-04-19 23:03:49.000000000', 'files': ['spec/classes/tripleo_profile_base_mistral_spec.rb', 'manifests/profile/base/gnocchi.pp', 'manifests/profile/base/mistral.pp', 'manifests/profile/base/aodh.pp', 'manifests/profile/base/barbican.pp', 'spec/classes/tripleo_profile_base_aodh_spec.rb', 'spec/classes/tripleo_profile_base_gnocchi_spec.rb', 'spec/classes/tripleo_profile_base_barbican_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5b0437919d1059dc616edacc901d585e5a49b10a', 'message': 'Do not include client classes\n\nThe client classes are used to install client packages like aodhclient,\nbut there is no need to install these client packages when installing\nservices. In addition, package installation is no longer enabled since\nservices are containerized, so these classes are no longer effective.\n\nChange-Id: Iced0d69556f61e6facfb1462de3ad241b5dfcfcb\n'}]",0,786645,5b0437919d1059dc616edacc901d585e5a49b10a,29,4,6,9816,,,0,"Do not include client classes

The client classes are used to install client packages like aodhclient,
but there is no need to install these client packages when installing
services. In addition, package installation is no longer enabled since
services are containerized, so these classes are no longer effective.

Change-Id: Iced0d69556f61e6facfb1462de3ad241b5dfcfcb
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/45/786645/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/gnocchi.pp', 'manifests/profile/base/mistral.pp', 'manifests/profile/base/aodh.pp', 'manifests/profile/base/barbican.pp', 'spec/classes/tripleo_profile_base_aodh_spec.rb', 'spec/classes/tripleo_profile_base_gnocchi_spec.rb', 'spec/classes/tripleo_profile_base_barbican_spec.rb']",7,2ef2918e6e238f7215c0d4d20497c0e8d9398daa,db,, is_expected.to_not contain_class('barbican::client') is_expected.to contain_class('barbican::client'),0,14
openstack%2Ftripleo-heat-templates~master~I7a8fef2797ab5e42364bfdfdb7893e5f14f90b7d,openstack/tripleo-heat-templates,master,I7a8fef2797ab5e42364bfdfdb7893e5f14f90b7d,Switch barbican actions to use kolla_config,MERGED,2021-05-13 16:47:41.000000000,2021-06-08 21:34:08.000000000,2021-06-08 21:34:08.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-13 16:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea329b4821cdd64417088d7abe2d1d7b18dff5a8', 'message': ""Switch barbican actions to use kolla_config\n\nI split this out from the other one because there is an extensive set of\nbarbican containers that need updating and close review to make sure we\ndon't break anything since we don't test this in the upstream.\n\nChange-Id: I7a8fef2797ab5e42364bfdfdb7893e5f14f90b7d\n""}, {'number': 2, 'created': '2021-05-13 16:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ded93cdf6d828cebc934cefc0d1eb046e0475ee9', 'message': ""Switch barbican actions to use kolla_config\n\nI split this out from the other one because there is an extensive set of\nbarbican containers that need updating and close review to make sure we\ndon't break anything since we don't test this in the upstream.\n\nChange-Id: I7a8fef2797ab5e42364bfdfdb7893e5f14f90b7d\n""}, {'number': 3, 'created': '2021-05-13 19:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8d1a11febf29aef5bf3add0df93c99fc77bec4a', 'message': ""Switch barbican actions to use kolla_config\n\nI split this out from the other one because there is an extensive set of\nbarbican containers that need updating and close review to make sure we\ndon't break anything since we don't test this in the upstream.\n\nChange-Id: I7a8fef2797ab5e42364bfdfdb7893e5f14f90b7d\n""}, {'number': 4, 'created': '2021-05-14 14:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48fbeb7302a4a35828545e7ebfbcf07218761698', 'message': ""Switch barbican actions to use kolla_config\n\nI split this out from the other one because there is an extensive set of\nbarbican containers that need updating and close review to make sure we\ndon't break anything since we don't test this in the upstream.\n\nChange-Id: I7a8fef2797ab5e42364bfdfdb7893e5f14f90b7d\n""}, {'number': 5, 'created': '2021-05-14 19:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8df509ffcf63ca9b5cd89ac4ccb1c9493b8b7fc', 'message': ""Switch barbican actions to use kolla_config\n\nI split this out from the other one because there is an extensive set of\nbarbican containers that need updating and close review to make sure we\ndon't break anything since we don't test this in the upstream.\n\nChange-Id: I7a8fef2797ab5e42364bfdfdb7893e5f14f90b7d\n""}, {'number': 6, 'created': '2021-05-17 18:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b9624f1f1f5ba84da5150320c1efcf4cf8578cb', 'message': ""Switch barbican actions to use kolla_config\n\nI split this out from the other one because there is an extensive set of\nbarbican containers that need updating and close review to make sure we\ndon't break anything since we don't test this in the upstream.\n\nChange-Id: I7a8fef2797ab5e42364bfdfdb7893e5f14f90b7d\n""}, {'number': 7, 'created': '2021-05-18 21:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fc01544264cc5389490c63f2477067b95b570bb0', 'message': ""Switch barbican actions to use kolla_config\n\nI split this out from the other one because there is an extensive set of\nbarbican containers that need updating and close review to make sure we\ndon't break anything since we don't test this in the upstream.\n\nChange-Id: I7a8fef2797ab5e42364bfdfdb7893e5f14f90b7d\n""}, {'number': 8, 'created': '2021-05-19 19:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e4bf20d7f87736632031b162bd5b7859d4b9ab7', 'message': ""Switch barbican actions to use kolla_config\n\nI split this out from the other one because there is an extensive set of\nbarbican containers that need updating and close review to make sure we\ndon't break anything since we don't test this in the upstream.\n\nChange-Id: I7a8fef2797ab5e42364bfdfdb7893e5f14f90b7d\n""}, {'number': 9, 'created': '2021-05-21 16:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ae044c11e48109f59b3b3f2e37d7f8475f0aed0', 'message': ""Switch barbican actions to use kolla_config\n\nI split this out from the other one because there is an extensive set of\nbarbican containers that need updating and close review to make sure we\ndon't break anything since we don't test this in the upstream.\n\nChange-Id: I7a8fef2797ab5e42364bfdfdb7893e5f14f90b7d\n""}, {'number': 10, 'created': '2021-05-21 19:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70b83019daa4d0b7b46861675b1093eef91f58d1', 'message': ""Switch barbican actions to use kolla_config\n\nI split this out from the other one because there is an extensive set of\nbarbican containers that need updating and close review to make sure we\ndon't break anything since we don't test this in the upstream.\n\nChange-Id: I7a8fef2797ab5e42364bfdfdb7893e5f14f90b7d\n""}, {'number': 11, 'created': '2021-05-25 13:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3fc54dc7e9944e52d993b503b1ae5bdc9eb86a1e', 'message': ""Switch barbican actions to use kolla_config\n\nI split this out from the other one because there is an extensive set of\nbarbican containers that need updating and close review to make sure we\ndon't break anything since we don't test this in the upstream.\n\nChange-Id: I7a8fef2797ab5e42364bfdfdb7893e5f14f90b7d\n""}, {'number': 12, 'created': '2021-06-02 14:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f526ac5bf906d8f051073596dfc11cdd69b6044', 'message': ""Switch barbican actions to use kolla_config\n\nI split this out from the other one because there is an extensive set of\nbarbican containers that need updating and close review to make sure we\ndon't break anything since we don't test this in the upstream.\n\nChange-Id: I7a8fef2797ab5e42364bfdfdb7893e5f14f90b7d\n""}, {'number': 13, 'created': '2021-06-03 17:12:48.000000000', 'files': ['deployment/barbican/barbican-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b9b8eed90daf04a0807c24370aaf314b27e8c4f', 'message': ""Switch barbican actions to use kolla_config\n\nI split this out from the other one because there is an extensive set of\nbarbican containers that need updating and close review to make sure we\ndon't break anything since we don't test this in the upstream.\n\nChange-Id: I7a8fef2797ab5e42364bfdfdb7893e5f14f90b7d\n""}]",2,791289,2b9b8eed90daf04a0807c24370aaf314b27e8c4f,60,8,13,14985,,,0,"Switch barbican actions to use kolla_config

I split this out from the other one because there is an extensive set of
barbican containers that need updating and close review to make sure we
don't break anything since we don't test this in the upstream.

Change-Id: I7a8fef2797ab5e42364bfdfdb7893e5f14f90b7d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/791289/13 && git format-patch -1 --stdout FETCH_HEAD,['deployment/barbican/barbican-api-container-puppet.yaml'],1,ea329b4821cdd64417088d7abe2d1d7b18dff5a8,config-next," /var/lib/kolla/config_files/barbican_api_db_sync.json: command: # NOTE(jaosorior): When providing extra arguments, we need to make sure that they're part # of the bash -c invocation, so we include them in the quoted db sync command. Hence the # final single quote that's part of the list_join. list_join: - ' ' - - ""/usr/bin/bootstrap_host_exec barbican_api su barbican -s /bin/bash -c '/usr/bin/barbican-manage"" - {get_attr: [BarbicanApiLogging, cmd_extra_args]} - ""db upgrade"" - ""'"" config_files: &barbican_api_create_config_files - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true /var/lib/kolla/config_files/barbican_api_create_mkek.json: command: list_join: - ' ' - - ""/usr/bin/bootstrap_host_exec barbican_api su barbican -s /bin/bash -c '/usr/bin/barbican-manage"" - {get_attr: [BarbicanApiLogging, cmd_extra_args]} - ""hsm check_mkek --label"" - {get_param: [BarbicanPkcs11CryptoMKEKLabel]} - ""|| /usr/bin/barbican-manage"" - {get_attr: [BarbicanApiLogging, cmd_extra_args]} - ""hsm gen_mkek --label"" - {get_param: [BarbicanPkcs11CryptoMKEKLabel]} - ""'"" config_files: *barbican_api_create_config_files /var/lib/kolla/config_files/barbican_api_create_hmac.json: command: list_join: - ' ' - - ""/usr/bin/bootstrap_host_exec barbican_api su barbican -s /bin/bash -c '/usr/bin/barbican-manage"" - {get_attr: [BarbicanApiLogging, cmd_extra_args]} - ""hsm check_hmac --label"" - {get_param: [BarbicanPkcs11CryptoHMACLabel]} - ""|| /usr/bin/barbican-manage hsm gen_hmac --label"" - {get_param: [BarbicanPkcs11CryptoHMACLabel]} - ""'"" config_files: *barbican_api_create_config_files /var/lib/kolla/config_files/barbican_api_update_rfs_server.json: command: ""/usr/bin/bootstrap_host_exec barbican_api /opt/nfast/bin/rfs-sync --commit"" config_files: *barbican_api_create_config_files /var/lib/kolla/config_files/barbican_api_get_from_rfs.json: command: ""/opt/nfast/bin/rfs-sync --update"" config_files: *barbican_api_create_config_files /var/lib/kolla/config_files/barbican_api_securet_store_sync.json: command: # NOTE(jaosorior): When providing extra arguments, we need to make sure that they're part # of the bash -c invocation, so we include them in the quoted db sync command. Hence the # final single quote that's part of the list_join. list_join: - ' ' - - ""/usr/bin/bootstrap_host_exec barbican_api su barbican -s /bin/bash -c '/usr/bin/barbican-manage"" - {get_attr: [BarbicanApiLogging, cmd_extra_args]} - ""db sync_secret_stores --verbose"" - ""'"" config_files: *barbican_api_create_config_files /var/lib/kolla/config_files/barbican_api_rewrap_pkeks.json: command: list_join: - ' ' - - ""/usr/bin/bootstrap_host_exec barbican_api su barbican -s /bin/bash -c '/usr/bin/barbican-manage"" - {get_attr: [BarbicanApiLogging, cmd_extra_args]} - ""hsm rewrap_pkek"" - ""'"" config_files: *barbican_api_create_config_files volumes: list_concat: - list_concat: &barbican_api_common_volumes - {get_attr: [ContainersCommon, volumes]} - {get_attr: [BarbicanApiLogging, volumes]} - - /var/lib/config-data/puppet-generated/barbican:/var/lib/kolla/config_files/src:ro - if: - {get_param: BarbicanPkcs11CryptoThalesEnabled} - - /lib64/libnsl.so.1:/lib64/libnsl.so.1 - /opt/nfast:/opt/nfast - if: - {get_param: BarbicanPkcs11CryptoATOSEnabled} - - /etc/proteccio:/etc/proteccio - /usr/lib64/libnethsm.so:/usr/lib64/libnethsm.so - if: - {get_param: BarbicanPkcs11CryptoLunasaEnabled} - - /etc/Chrystoki.conf:/etc/Chrystoki.conf - /usr/lib/libCryptoki2_64.so:/usr/lib/libCryptoki2_64.so - /usr/safenet/lunaclient:/usr/safenet/lunaclient - - /var/lib/kolla/config_files/barbican_api_create_mkek.json:/var/lib/kolla/config_files/config.json:ro environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS volumes: list_concat: - list_concat: *barbican_api_common_volumes - - /var/lib/kolla/config_files/barbican_api_create_hmac.json:/var/lib/kolla/config_files/config.json:ro environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS volumes: list_concat: - list_concat: *barbican_api_common_volumes - - /var/lib/kolla/config_files/barbican_api_update_rfs_server.json:/var/lib/kolla/config_files/config.json:ro environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS # NOTE: this should force this container to re-run on each # update (scale-out, etc.) volumes: list_concat: - list_concat: *barbican_api_common_volumes - - /var/lib/kolla/config_files/barbican_api_get_from_rfs.json:/var/lib/kolla/config_files/config.json:ro environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS # NOTE: this should force this container to re-run on each # update (scale-out, etc.) volumes: list_concat: - list_concat: *barbican_api_common_volumes - - /var/lib/kolla/config_files/barbican_api_db_sync.json:/var/lib/kolla/config_files/config.json:ro environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS volumes: list_concat: - list_concat: *barbican_api_common_volumes - - /var/lib/kolla/config_files/barbican_api_secret_store_sync.json:/var/lib/kolla/config_files/config.json:ro environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS volumes: list_concat: - list_concat: *barbican_api_common_volumes - - /var/lib/kolla/config_files/barbican_api_rewrap_pkeks.json:/var/lib/kolla/config_files/config.json:ro environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS"," volumes: &barbican_api_volumes list_concat: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [BarbicanApiLogging, volumes]} - - /var/lib/config-data/barbican/etc/barbican/:/etc/barbican/:ro - /var/lib/config-data/barbican/etc/my.cnf.d/:/etc/my.cnf.d/:ro - if: - {get_param: BarbicanPkcs11CryptoThalesEnabled} - - /lib64/libnsl.so.1:/lib64/libnsl.so.1 - /opt/nfast:/opt/nfast - if: - {get_param: BarbicanPkcs11CryptoATOSEnabled} - - /etc/proteccio:/etc/proteccio - /usr/lib64/libnethsm.so:/usr/lib64/libnethsm.so - if: - {get_param: BarbicanPkcs11CryptoLunasaEnabled} - - /etc/Chrystoki.conf:/etc/Chrystoki.conf - /usr/lib/libCryptoki2_64.so:/usr/lib/libCryptoki2_64.so - /usr/safenet/lunaclient:/usr/safenet/lunaclient environment: command: list_join: - ' ' - - ""/usr/bin/bootstrap_host_exec barbican_api su barbican -s /bin/bash -c '/usr/bin/barbican-manage"" - {get_attr: [BarbicanApiLogging, cmd_extra_args]} - ""hsm check_mkek --label"" - {get_param: [BarbicanPkcs11CryptoMKEKLabel]} - ""|| /usr/bin/barbican-manage"" - {get_attr: [BarbicanApiLogging, cmd_extra_args]} - ""hsm gen_mkek --label"" - {get_param: [BarbicanPkcs11CryptoMKEKLabel]} - ""'"" volumes: *barbican_api_volumes environment: command: list_join: - ' ' - - ""/usr/bin/bootstrap_host_exec barbican_api su barbican -s /bin/bash -c '/usr/bin/barbican-manage"" - {get_attr: [BarbicanApiLogging, cmd_extra_args]} - ""hsm check_hmac --label"" - {get_param: [BarbicanPkcs11CryptoHMACLabel]} - ""|| /usr/bin/barbican-manage hsm gen_hmac --label"" - {get_param: [BarbicanPkcs11CryptoHMACLabel]} - ""'"" volumes: *barbican_api_volumes environment: command: ""/usr/bin/bootstrap_host_exec barbican_api /opt/nfast/bin/rfs-sync --commit"" volumes: *barbican_api_volumes environment: command: ""/opt/nfast/bin/rfs-sync --update"" volumes: *barbican_api_volumes command: # NOTE(jaosorior): When providing extra arguments, we need to make sure that they're part # of the bash -c invocation, so we include them in the quoted db sync command. Hence the # final single quote that's part of the list_join. list_join: - ' ' - - ""/usr/bin/bootstrap_host_exec barbican_api su barbican -s /bin/bash -c '/usr/bin/barbican-manage"" - {get_attr: [BarbicanApiLogging, cmd_extra_args]} - ""db upgrade"" - ""'"" volumes: *barbican_api_volumes command: # NOTE(jaosorior): When providing extra arguments, we need to make sure that they're part # of the bash -c invocation, so we include them in the quoted db sync command. Hence the # final single quote that's part of the list_join. list_join: - ' ' - - ""/usr/bin/bootstrap_host_exec barbican_api su barbican -s /bin/bash -c '/usr/bin/barbican-manage"" - {get_attr: [BarbicanApiLogging, cmd_extra_args]} - ""db sync_secret_stores --verbose"" - ""'"" volumes: *barbican_api_volumes environment: command: list_join: - ' ' - - ""/usr/bin/bootstrap_host_exec barbican_api su barbican -s /bin/bash -c '/usr/bin/barbican-manage"" - {get_attr: [BarbicanApiLogging, cmd_extra_args]} - ""hsm rewrap_pkek"" - ""'""",125,75
openstack%2Ftripleo-ansible~master~I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97,openstack/tripleo-ansible,master,I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97,Remove become: true from the role,MERGED,2021-05-25 13:37:01.000000000,2021-06-08 21:33:37.000000000,2021-06-08 21:33:37.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-05-25 13:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3e8fb6b81cbdb974932117076509c1a0e5a4ef7d', 'message': 'Remove become: true from the role\n\nThe role is always executed with --become, as it is specified in the\ndocumentation. The CLI also invokes the role with --become parameter. In\nthis case, we were currently implementing a non consistent become\npolicy. As almost all the tasks in the role require root access, it is\nmore consistent to remove all the become: true entries and launch the\nrole with --become parameter.\n\nDepends-on: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\nChange-Id: I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97\n'}, {'number': 2, 'created': '2021-05-25 14:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8f738d9068ab01f8afab1515dafadf380341b9cc', 'message': 'Remove become: true from the role\n\nThe role is always executed with --become, as it is specified in the\ndocumentation. The CLI also invokes the role with --become parameter. In\nthis case, we were currently implementing a non consistent become\npolicy. As almost all the tasks in the role require root access, it is\nmore consistent to remove all the become: true entries and launch the\nrole with --become parameter.\n\nDepends-on: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\nChange-Id: I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97\n'}, {'number': 3, 'created': '2021-05-26 10:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/896e8badb9cc6d9299fc2d4d597d4e8aaf68b499', 'message': 'Remove become: true from the role\n\nThe role is always executed with --become, as it is specified in the\ndocumentation. The CLI also invokes the role with --become parameter. In\nthis case, we were currently implementing a non consistent become\npolicy. As almost all the tasks in the role require root access, it is\nmore consistent to remove all the become: true entries and launch the\nrole with --become parameter.\n\nDepends-on: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\nChange-Id: I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97\n'}, {'number': 4, 'created': '2021-05-26 10:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/df3016ffd8bc1fb84d493775118c9322be6d6c84', 'message': 'Remove become: true from the role\n\nThe role is always executed with --become, as it is specified in the\ndocumentation. The CLI also invokes the role with --become parameter. In\nthis case, we were currently implementing a non consistent become\npolicy. As almost all the tasks in the role require root access, it is\nmore consistent to remove all the become: true entries and launch the\nrole with --become parameter.\n\nDepends-on: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\nChange-Id: I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97\n'}, {'number': 5, 'created': '2021-05-27 10:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c239b8ecaee69d3e7146152f9e1b6237667e0f2', 'message': 'Remove become: true from the role\n\nThe role is always executed with --become, as it is specified in the\ndocumentation. The CLI also invokes the role with --become parameter. In\nthis case, we were currently implementing a non consistent become\npolicy. As almost all the tasks in the role require root access, it is\nmore consistent to remove all the become: true entries and launch the\nrole with --become parameter.\n\nDepends-on: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\nChange-Id: I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97\n'}, {'number': 6, 'created': '2021-05-27 11:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2ee22e55d152bf9d67ca524bd8856155db28281d', 'message': 'Remove become: true from the role\n\nThe role is always executed with --become, as it is specified in the\ndocumentation. The CLI also invokes the role with --become parameter. In\nthis case, we were currently implementing a non consistent become\npolicy. As almost all the tasks in the role require root access, it is\nmore consistent to remove all the become: true entries and launch the\nrole with --become parameter.\n\nDepends-on: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\nChange-Id: I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97\n'}, {'number': 7, 'created': '2021-06-01 08:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cbfbe7804f53a4dc3c7be7baabefd7f1b590e058', 'message': 'Remove become: true from the role\n\nThe role is always executed with --become, as it is specified in the\ndocumentation. The CLI also invokes the role with --become parameter. In\nthis case, we were currently implementing a non consistent become\npolicy. As almost all the tasks in the role require root access, it is\nmore consistent to remove all the become: true entries and launch the\nrole with --become parameter.\n\nDepends-on: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\nChange-Id: I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97\n'}, {'number': 8, 'created': '2021-06-02 07:44:53.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/ceph_mgr_stop.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_rgw_stop.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_mon_stop.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fad1ea42cea2087e85948ab666978a2c32d60a00', 'message': 'Remove become: true from the role\n\nThe role is always executed with --become, as it is specified in the\ndocumentation. The CLI also invokes the role with --become parameter. In\nthis case, we were currently implementing a non consistent become\npolicy. As almost all the tasks in the role require root access, it is\nmore consistent to remove all the become: true entries and launch the\nrole with --become parameter.\n\nDepends-on: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\nChange-Id: I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97\n'}]",2,792978,fad1ea42cea2087e85948ab666978a2c32d60a00,50,7,8,32968,,,0,"Remove become: true from the role

The role is always executed with --become, as it is specified in the
documentation. The CLI also invokes the role with --become parameter. In
this case, we were currently implementing a non consistent become
policy. As almost all the tasks in the role require root access, it is
more consistent to remove all the become: true entries and launch the
role with --become parameter.

Depends-on: Id2aff61f219b0c4992f6f0045f1aba2c7d129758
Change-Id: I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/78/792978/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/ceph_mgr_stop.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_rgw_stop.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_mon_stop.yml']",10,3e8fb6b81cbdb974932117076509c1a0e5a4ef7d,change-792978-6,, become: true,0,25
openstack%2Ftripleo-ansible~stable%2Ftrain~Id2aff61f219b0c4992f6f0045f1aba2c7d129758,openstack/tripleo-ansible,stable/train,Id2aff61f219b0c4992f6f0045f1aba2c7d129758,Make execution of the backup idempotent,MERGED,2021-06-01 10:26:33.000000000,2021-06-08 21:33:29.000000000,2021-06-08 21:33:29.000000000,"[{'_account_id': 8449}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 31324}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-06-01 10:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/036d5ae5dd695beee8b75bed8e15b79dc2c9615a', 'message': ""Make execution of the backup idempotent\n\nCurrently, the playbook stops the services and the pacemaker to perform the backup. If the backup fails for whatever reason, the playbook cannot run again and fails due to the services being down. This patch fixes the issue in two directions. First, by using the block-always ansible feature, we ensure that whenever an error happens, the playbook will restart the pacemaker and the services before exiting.\n\nThe second direction is on the execution itself. By controlling certain actions, we ensure that the backup will be succesful not matter what state the services and the pacemaker are when the playbook is ran. This ensures success even in the case an operator stops the ansible execution manually (which will not trigger the 'always' condition).\n\nBZ: #1954818\nChange-Id: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\n(cherry picked from commit 9a865d176987f82ecafe121f21ba8db9641379d2)\n""}, {'number': 2, 'created': '2021-06-01 10:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a2760596bc232dfccdfbf3bf77a03fe81e064fa6', 'message': ""Make execution of the backup idempotent\n\nCurrently, the playbook stops the services and the pacemaker to perform the backup. If the backup fails for whatever reason, the playbook cannot run again and fails due to the services being down. This patch fixes the issue in two directions. First, by using the block-always ansible feature, we ensure that whenever an error happens, the playbook will restart the pacemaker and the services before exiting.\n\nThe second direction is on the execution itself. By controlling certain actions, we ensure that the backup will be succesful not matter what state the services and the pacemaker are when the playbook is ran. This ensures success even in the case an operator stops the ansible execution manually (which will not trigger the 'always' condition).\n\nBZ: #1954818\nChange-Id: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\n(cherry picked from commit 9a865d176987f82ecafe121f21ba8db9641379d2)\n""}, {'number': 3, 'created': '2021-06-01 11:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/63b03da6f552a59bdccce206a0eb1b8d9b5d56ad', 'message': ""Make execution of the backup idempotent\n\nCurrently, the playbook stops the services and the pacemaker to perform the backup. If the backup fails for whatever reason, the playbook cannot run again and fails due to the services being down. This patch fixes the issue in two directions. First, by using the block-always ansible feature, we ensure that whenever an error happens, the playbook will restart the pacemaker and the services before exiting.\n\nThe second direction is on the execution itself. By controlling certain actions, we ensure that the backup will be succesful not matter what state the services and the pacemaker are when the playbook is ran. This ensures success even in the case an operator stops the ansible execution manually (which will not trigger the 'always' condition).\n\nBZ: #1954818\nChange-Id: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\n(cherry picked from commit 9a865d176987f82ecafe121f21ba8db9641379d2)\n""}, {'number': 4, 'created': '2021-06-03 09:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/184792b2cdd6600637be33e7aac239da217c09e6', 'message': ""Make execution of the backup idempotent\n\nCurrently, the playbook stops the services and the pacemaker to perform the backup. If the backup fails for whatever reason, the playbook cannot run again and fails due to the services being down. This patch fixes the issue in two directions. First, by using the block-always ansible feature, we ensure that whenever an error happens, the playbook will restart the pacemaker and the services before exiting.\n\nThe second direction is on the execution itself. By controlling certain actions, we ensure that the backup will be succesful not matter what state the services and the pacemaker are when the playbook is ran. This ensures success even in the case an operator stops the ansible execution manually (which will not trigger the 'always' condition).\n\nThis is not a clean cherry pick due to conflicts during merge, mostly related to the location of the role being backup-and-restore instead of backup_and_restore.\n\nBZ: #1954818\nChange-Id: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\n(cherry picked from commit 9a865d176987f82ecafe121f21ba8db9641379d2)\n""}, {'number': 5, 'created': '2021-06-07 15:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f2bcfc296201f60b3c505d1cd3f4df6752e1a13d', 'message': ""Make execution of the backup idempotent\n\nCurrently, the playbook stops the services and the pacemaker to perform the backup. If the backup fails for whatever reason, the playbook cannot run again and fails due to the services being down. This patch fixes the issue in two directions. First, by using the block-always ansible feature, we ensure that whenever an error happens, the playbook will restart the pacemaker and the services before exiting.\n\nThe second direction is on the execution itself. By controlling certain actions, we ensure that the backup will be succesful not matter what state the services and the pacemaker are when the playbook is ran. This ensures success even in the case an operator stops the ansible execution manually (which will not trigger the 'always' condition).\n\nThis is not a clean cherry pick due to conflicts during merge, mostly related to the location of the role being backup-and-restore instead of backup_and_restore.\n\nBZ: #1954818\nChange-Id: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\n(cherry picked from commit 9a865d176987f82ecafe121f21ba8db9641379d2)\n""}, {'number': 6, 'created': '2021-06-08 07:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9e1ea4f8f63d434eb3250565ed46232d7de24668', 'message': ""Make execution of the backup idempotent\n\nCurrently, the playbook stops the services and the pacemaker to perform the backup. If the backup fails for whatever reason, the playbook cannot run again and fails due to the services being down. This patch fixes the issue in two directions. First, by using the block-always ansible feature, we ensure that whenever an error happens, the playbook will restart the pacemaker and the services before exiting.\n\nThe second direction is on the execution itself. By controlling certain actions, we ensure that the backup will be succesful not matter what state the services and the pacemaker are when the playbook is ran. This ensures success even in the case an operator stops the ansible execution manually (which will not trigger the 'always' condition).\n\nThis is not a clean cherry pick due to conflicts during merge, mostly related to the location of the role being backup-and-restore instead of backup_and_restore.\n\nBZ: #1954818\nChange-Id: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\n(cherry picked from commit 9a865d176987f82ecafe121f21ba8db9641379d2)\n""}, {'number': 7, 'created': '2021-06-08 07:25:20.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/tasks/main.yml', 'tripleo_ansible/roles/backup-and-restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup-and-restore/backup/tasks/service_manager_pause.yml', 'tripleo_ansible/roles/backup-and-restore/backup/tasks/db_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c612c5216d161061880a758ad59bb2f08cd76e3', 'message': ""Make execution of the backup idempotent\n\nCurrently, the playbook stops the services and the pacemaker to perform the backup. If the backup fails for whatever reason, the playbook cannot run again and fails due to the services being down. This patch fixes the issue in two directions. First, by using the block-always ansible feature, we ensure that whenever an error happens, the playbook will restart the pacemaker and the services before exiting.\n\nThe second direction is on the execution itself. By controlling certain actions, we ensure that the backup will be succesful not matter what state the services and the pacemaker are when the playbook is ran. This ensures success even in the case an operator stops the ansible execution manually (which will not trigger the 'always' condition).\n\nThis is not a clean cherry pick due to conflicts during merge, mostly related to the location of the role being backup-and-restore instead of backup_and_restore.\n\nBZ: #1954818\nChange-Id: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\n(cherry picked from commit 9a865d176987f82ecafe121f21ba8db9641379d2)\n""}]",9,793920,2c612c5216d161061880a758ad59bb2f08cd76e3,36,8,7,32968,,,0,"Make execution of the backup idempotent

Currently, the playbook stops the services and the pacemaker to perform the backup. If the backup fails for whatever reason, the playbook cannot run again and fails due to the services being down. This patch fixes the issue in two directions. First, by using the block-always ansible feature, we ensure that whenever an error happens, the playbook will restart the pacemaker and the services before exiting.

The second direction is on the execution itself. By controlling certain actions, we ensure that the backup will be succesful not matter what state the services and the pacemaker are when the playbook is ran. This ensures success even in the case an operator stops the ansible execution manually (which will not trigger the 'always' condition).

This is not a clean cherry pick due to conflicts during merge, mostly related to the location of the role being backup-and-restore instead of backup_and_restore.

BZ: #1954818
Change-Id: Id2aff61f219b0c4992f6f0045f1aba2c7d129758
(cherry picked from commit 9a865d176987f82ecafe121f21ba8db9641379d2)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/793920/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_pause.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml']",4,036d5ae5dd695beee8b75bed8e15b79dc2c9615a,change-793920-5,"<<<<<<< HEAD (2979a0 Fix tripleo_network config conditional) ======= --- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # ""backup_and_restore"" will search for and load any operating system variable file # found within the ""vars/"" path. If no OS files are found the task will skip. - name: Gather variables for each operating system include_vars: ""{{ item }}"" with_first_found: - skip: true files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" tags: - always - name: Unpause ceph mon container if paused command: ""{{ tripleo_container_cli }} unpause ceph-mon-{{ ansible_facts['hostname'] }}"" failed_when: false tags: - bar_create_recover_image - name: Export ceph authentication shell: | set -o pipefail {{ tripleo_container_cli }} exec ceph-mon-{{ ansible_facts['hostname'] }} bash -c ""ceph auth export"" become: true register: bar_ceph_authentication_content tags: - bar_create_recover_image - name: Save ceph authentication at {{ tripleo_backup_and_restore_ceph_auth_file }} copy: dest: ""{{ tripleo_backup_and_restore_ceph_auth_file }}"" content: | {{ bar_ceph_authentication_content.stdout }} tags: - bar_create_recover_image >>>>>>> CHANGE (363f76 Make execution of the backup idempotent) ",,329,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I780103e17f1bb42a0546c30bd6c001c642ad88b3,openstack/tripleo-ansible,stable/ussuri,I780103e17f1bb42a0546c30bd6c001c642ad88b3,Add podman's events_logger option by default set to journald,MERGED,2021-06-08 05:52:15.000000000,2021-06-08 21:33:08.000000000,2021-06-08 21:33:08.000000000,"[{'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 05:52:15.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/33637b4ddf6b0561e740b9bf93f391b52f468605', 'message': 'Add podman\'s events_logger option by default set to journald\n\nBy default podman 3.0.x sets the [engine]/events_logger to ""file"".\nThis causes every exec in podman to create a line of text in\n/run/libpod/events/events.log like the following:\n\n  {""ID"":""412b6770c0b418e6d49a4801e71a198ddb81bbbefdaf1c9aad4d7948f77910ee"",""Image"":""quay.io/centos/centos:latest"",""Name"":""leak-test-7"",""Status"":""exec"",""Time"":""2021-06-03T08:36:05.237964012Z"",""Type"":""container"",""Attributes"":{""org.label-schema.build-date"":""20201204"",""org.label-schema.license"":""GPLv2"",""org.label-schema.name"":""CentOS Base Image"",""org.label-schema.schema-version"":""1.0"",""org.label-schema.vendor"":""CentOS""}}\n\nSince by default /run is mounted on tmpfs, this has the side-effect of\nincreasing kernel slab objects over time indefinitely eventually causing\nan OOM of the box.\n\nWe initially wanted to switch to the \'none\' backend, but the podman\nfolks recommended using the journald backend because events logs are\nused by podman in case of a rare race when running ""podman run --rm"".\nGiven that we call run with --rm from in a multithreaded fashion this\nseems to be the safest approach. The drawback of using journald is\nthat events won\'t be logged for rootless containers unless the user\nis part of the \'wheel\' group. We believe we\'re not using those\ncontainers in tripleo anyways, so this should be safe.\n\nTested by applying a backport of this patch to Train + podman 3.0.x and\ngot the following:\n[root@controller-0 containers]# ls -la /run/libpod/events/\ntotal 0\ndrwx------. 2 root root  40 Jun  3 11:55 .\ndrwxr-x--x. 5 root root 140 Jun  3 11:55 ..\n\n[root@controller-0 containers]# more /etc/containers/containers.conf\n[containers]\npids_limit = 4096\n[engine]\nevents_logger = ""journald""\n\nAlso tested the override via the corresponding THT change in\nIeffe2852111c3ec8347343a042dd78bbf691d79a.\n\nCloses-Bug: #1923607\n\nChange-Id: I780103e17f1bb42a0546c30bd6c001c642ad88b3\n(cherry picked from commit f31bab878bfd3332c20a10bf9ca26d443028d214)\n(cherry picked from commit 79be78bba35199c5b26632e51d8bda411a8239c5)\n(cherry picked from commit 637db1c401c6c6a0d2e3cef26ab8a97cc3b31bf2)\n'}]",0,795150,33637b4ddf6b0561e740b9bf93f391b52f468605,12,4,1,20172,,,0,"Add podman's events_logger option by default set to journald

By default podman 3.0.x sets the [engine]/events_logger to ""file"".
This causes every exec in podman to create a line of text in
/run/libpod/events/events.log like the following:

  {""ID"":""412b6770c0b418e6d49a4801e71a198ddb81bbbefdaf1c9aad4d7948f77910ee"",""Image"":""quay.io/centos/centos:latest"",""Name"":""leak-test-7"",""Status"":""exec"",""Time"":""2021-06-03T08:36:05.237964012Z"",""Type"":""container"",""Attributes"":{""org.label-schema.build-date"":""20201204"",""org.label-schema.license"":""GPLv2"",""org.label-schema.name"":""CentOS Base Image"",""org.label-schema.schema-version"":""1.0"",""org.label-schema.vendor"":""CentOS""}}

Since by default /run is mounted on tmpfs, this has the side-effect of
increasing kernel slab objects over time indefinitely eventually causing
an OOM of the box.

We initially wanted to switch to the 'none' backend, but the podman
folks recommended using the journald backend because events logs are
used by podman in case of a rare race when running ""podman run --rm"".
Given that we call run with --rm from in a multithreaded fashion this
seems to be the safest approach. The drawback of using journald is
that events won't be logged for rootless containers unless the user
is part of the 'wheel' group. We believe we're not using those
containers in tripleo anyways, so this should be safe.

Tested by applying a backport of this patch to Train + podman 3.0.x and
got the following:
[root@controller-0 containers]# ls -la /run/libpod/events/
total 0
drwx------. 2 root root  40 Jun  3 11:55 .
drwxr-x--x. 5 root root 140 Jun  3 11:55 ..

[root@controller-0 containers]# more /etc/containers/containers.conf
[containers]
pids_limit = 4096
[engine]
events_logger = ""journald""

Also tested the override via the corresponding THT change in
Ieffe2852111c3ec8347343a042dd78bbf691d79a.

Closes-Bug: #1923607

Change-Id: I780103e17f1bb42a0546c30bd6c001c642ad88b3
(cherry picked from commit f31bab878bfd3332c20a10bf9ca26d443028d214)
(cherry picked from commit 79be78bba35199c5b26632e51d8bda411a8239c5)
(cherry picked from commit 637db1c401c6c6a0d2e3cef26ab8a97cc3b31bf2)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/50/795150/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml']",2,33637b4ddf6b0561e740b9bf93f391b52f468605,events-logger-stable/wallaby-stable/victoria-stable/ussuri," section: ""{{ item.section }}"" option: ""{{ item.option }}"" value: ""{{ item.value }}"" loop: - section: containers option: pids_limit value: ""{{ tripleo_container_default_pids_limit }}"" - section: engine option: events_logger value: ""\""{{ tripleo_container_events_logger_mechanism }}\"""""," section: containers option: pids_limit value: ""{{ tripleo_container_default_pids_limit }}""",11,3
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I4423fcbd62b09ef323590fc740dd29e1a17777f5,openstack/tripleo-heat-templates,stable/wallaby,I4423fcbd62b09ef323590fc740dd29e1a17777f5,Fix cinder's cephx keyring file permissions,MERGED,2021-06-07 13:15:25.000000000,2021-06-08 21:32:59.000000000,2021-06-08 21:32:59.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-07 13:15:25.000000000', 'files': ['deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/74e3884b4a21a27262c48b4df8f0e369a5486f87', 'message': ""Fix cinder's cephx keyring file permissions\n\nThis patch updates cinder's kolla permissions so that cinder can\naccess any cephx keyring associated with CephExternalMultiConfig\nceph clusters. The new approach parses the cluster names out of the\nCephExternalMultiConfig array, and uses a wildcard to grant access\nto all keys (regardless of the key name) defined for each cluster.\nThere is no risk of the wildcard granting improper access to a\nprivileged key (e.g. the admin key), because CephExternalMultiConfig\ndoesn't include privileged keys.\n\nThis patch replaces similar (but more restrictive) code added in\nI73af5b868de629870a35d38f8436e7025aae791e. That patch allowed cinder\nto access cephx keyrings associated with a new CinderRbdMultiConfig\nparameter, but it didn't cover all potential use cases. For example,\nin a DCN/Edge deployment, cinder services running at the edge need\naccess to the central site's client key in order to perform operations\nlike offline volume migration.\n\nCloses-Bug: #1930620\nResolves: rhbz#1962304\nChange-Id: I4423fcbd62b09ef323590fc740dd29e1a17777f5\n(cherry picked from commit f1cd8006fec9f3f68cee21fc2139fb985b0b1fac)\n""}]",0,795105,74e3884b4a21a27262c48b4df8f0e369a5486f87,7,4,1,21129,,,0,"Fix cinder's cephx keyring file permissions

This patch updates cinder's kolla permissions so that cinder can
access any cephx keyring associated with CephExternalMultiConfig
ceph clusters. The new approach parses the cluster names out of the
CephExternalMultiConfig array, and uses a wildcard to grant access
to all keys (regardless of the key name) defined for each cluster.
There is no risk of the wildcard granting improper access to a
privileged key (e.g. the admin key), because CephExternalMultiConfig
doesn't include privileged keys.

This patch replaces similar (but more restrictive) code added in
I73af5b868de629870a35d38f8436e7025aae791e. That patch allowed cinder
to access cephx keyrings associated with a new CinderRbdMultiConfig
parameter, but it didn't cover all potential use cases. For example,
in a DCN/Edge deployment, cinder services running at the edge need
access to the central site's client key in order to perform operations
like offline volume migration.

Closes-Bug: #1930620
Resolves: rhbz#1962304
Change-Id: I4423fcbd62b09ef323590fc740dd29e1a17777f5
(cherry picked from commit f1cd8006fec9f3f68cee21fc2139fb985b0b1fac)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/795105/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-common-container-puppet.yaml'],1,74e3884b4a21a27262c48b4df8f0e369a5486f87,cinder-cephx-perms," CephExternalMultiConfig: hidden: true List of maps describing extra overrides which will be applied when configuring extra external Ceph clusters. If this list is non-empty, ceph-ansible will run an extra count(list) times using the same parameters as the first run except each parameter within each map will override the defaults. If the following were used, the second run would configure the overcloud to also use the ceph2 cluster with all the previous parameters except /etc/ceph/ceph2.conf would have a mon_host entry containing the value of external_cluster_mon_ips below, and not the default CephExternalMonHost. Subsequent ceph-ansible runs are restricted to just ceph clients. CephExternalMultiConfig may not be used to deploy additional internal Ceph clusters within one Heat stack. The map for each list should contain not tripleo-heat-template parameters but ceph-ansible parameters. - cluster: 'ceph2' fsid: 'e2cba068-5f14-4b0f-b047-acf375c0004a' external_cluster_mon_ips: '172.18.0.5,172.18.0.6,172.18.0.7' keys: - name: ""client.openstack"" caps: mgr: ""allow *"" mon: ""profile rbd"" osd: ""osd: profile rbd pool=volumes, profile rbd pool=backups, profile rbd pool=vms, profile rbd pool=images"" key: ""AQCwmeRcAAAAABAA6SQU/bGqFjlfLro5KxrB1Q=="" mode: ""0600"" dashboard_enabled: false default: [] path: /etc/ceph/<%cluster%>.client.*.keyring <%cluster%>: yaql: expression: $.data.multiconfig.select($.cluster) data: multiconfig: {get_param: CephExternalMultiConfig}"," CinderRbdMultiConfig: default: {} Dictionary of settings when configuring multiple RBD backends. The hash key is the backend name, and the value is a dictionary of parameter values unique to that backend. The following parameters are required, and must match the corresponding value defined in CephExternalMultiConfig. CephClusterName (must match the CephExternalMultiConfig entry's 'cluster') CephClusterFSID (must match the CephExternalMultiConfig entry's 'fsid') The following parameters are optional, and override the corresponding parameter's default value. CephClientUserName CinderRbdPoolName CinderRbdExtraPools CinderRbdAvailabilityZone CinderRbdFlattenVolumeFromSnapshot path: /etc/ceph/<%keyring%> <%keyring%>: yaql: expression: let(u => $.data.default_user) -> $.data.multiconfig.values().select(""{0}.client.{1}.keyring"".format($.CephClusterName, $.get(""CephClientUserName"", $u))) data: default_user: {get_param: CephClientUserName} multiconfig: {get_param: CinderRbdMultiConfig}",30,20
openstack%2Ftripleo-ansible~stable%2Ftrain~I780103e17f1bb42a0546c30bd6c001c642ad88b3,openstack/tripleo-ansible,stable/train,I780103e17f1bb42a0546c30bd6c001c642ad88b3,Add podman's events_logger option by default set to journald,MERGED,2021-06-03 15:48:59.000000000,2021-06-08 21:32:45.000000000,2021-06-08 21:32:45.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-03 15:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0890135be25533f7f121756f5c50857711fa6b1c', 'message': 'Add podman\'s events_logger option by default set to none\n\nBy default podman 3.0.x sets the [engine]/events_logger to ""file"".\nThis causes every exec in podman to create a line of text in\n/run/libpod/events/events.log like the following:\n\n  {""ID"":""412b6770c0b418e6d49a4801e71a198ddb81bbbefdaf1c9aad4d7948f77910ee"",""Image"":""quay.io/centos/centos:latest"",""Name"":""leak-test-7"",""Status"":""exec"",""Time"":""2021-06-03T08:36:05.237964012Z"",""Type"":""container"",""Attributes"":{""org.label-schema.build-date"":""20201204"",""org.label-schema.license"":""GPLv2"",""org.label-schema.name"":""CentOS Base Image"",""org.label-schema.schema-version"":""1.0"",""org.label-schema.vendor"":""CentOS""}}\n\nSince by default /run is mounted on tmpfs, this has the side-effect of\nincreasing kernel slab objects over time indefinitely eventually causing\nan OOM of the box. So let\'s switch to the none backend for the events\nlogging. I do not believe we are using it these events for any\ndiagnostics anyways.\n\nTested by applying a backport of this patch to Train + podman 3.0.x and\ngot the following:\n[root@controller-0 containers]# ls -la /run/libpod/events/\ntotal 0\ndrwx------. 2 root root  40 Jun  3 11:55 .\ndrwxr-x--x. 5 root root 140 Jun  3 11:55 ..\n\n[root@controller-0 containers]# more /etc/containers/containers.conf\n[containers]\npids_limit = 4096\n[engine]\nevents_logger = ""none""\n\nCloses-Bug: #1923607\n\nChange-Id: I780103e17f1bb42a0546c30bd6c001c642ad88b3\n(cherry picked from commit a08b60bec9333ac335050b8efca3dd2cd05c787b)\n'}, {'number': 2, 'created': '2021-06-04 12:52:50.000000000', 'files': ['tripleo_ansible/roles/tripleo-podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/486e8d3833adbc78b5e646851f6edaa7a95c872a', 'message': 'Add podman\'s events_logger option by default set to journald\n\nBy default podman 3.0.x sets the [engine]/events_logger to ""file"".\nThis causes every exec in podman to create a line of text in\n/run/libpod/events/events.log like the following:\n\n  {""ID"":""412b6770c0b418e6d49a4801e71a198ddb81bbbefdaf1c9aad4d7948f77910ee"",""Image"":""quay.io/centos/centos:latest"",""Name"":""leak-test-7"",""Status"":""exec"",""Time"":""2021-06-03T08:36:05.237964012Z"",""Type"":""container"",""Attributes"":{""org.label-schema.build-date"":""20201204"",""org.label-schema.license"":""GPLv2"",""org.label-schema.name"":""CentOS Base Image"",""org.label-schema.schema-version"":""1.0"",""org.label-schema.vendor"":""CentOS""}}\n\nSince by default /run is mounted on tmpfs, this has the side-effect of\nincreasing kernel slab objects over time indefinitely eventually causing\nan OOM of the box.\n\nWe initially wanted to switch to the \'none\' backend, but the podman\nfolks recommended using the journald backend because events logs are\nused by podman in case of a rare race when running ""podman run --rm"".\nGiven that we call run with --rm from in a multithreaded fashion this\nseems to be the safest approach. The drawback of using journald is\nthat events won\'t be logged for rootless containers unless the user\nis part of the \'wheel\' group. We believe we\'re not using those\ncontainers in tripleo anyways, so this should be safe.\n\nTested by applying a backport of this patch to Train + podman 3.0.x and\ngot the following:\n[root@controller-0 containers]# ls -la /run/libpod/events/\ntotal 0\ndrwx------. 2 root root  40 Jun  3 11:55 .\ndrwxr-x--x. 5 root root 140 Jun  3 11:55 ..\n\n[root@controller-0 containers]# more /etc/containers/containers.conf\n[containers]\npids_limit = 4096\n[engine]\nevents_logger = ""journald""\n\nAlso tested the override via the corresponding THT change in\nIeffe2852111c3ec8347343a042dd78bbf691d79a.\n\nCloses-Bug: #1923607\n\nChange-Id: I780103e17f1bb42a0546c30bd6c001c642ad88b3\n(cherry picked from commit f31bab878bfd3332c20a10bf9ca26d443028d214)\n'}]",0,794633,486e8d3833adbc78b5e646851f6edaa7a95c872a,16,5,2,20172,,,0,"Add podman's events_logger option by default set to journald

By default podman 3.0.x sets the [engine]/events_logger to ""file"".
This causes every exec in podman to create a line of text in
/run/libpod/events/events.log like the following:

  {""ID"":""412b6770c0b418e6d49a4801e71a198ddb81bbbefdaf1c9aad4d7948f77910ee"",""Image"":""quay.io/centos/centos:latest"",""Name"":""leak-test-7"",""Status"":""exec"",""Time"":""2021-06-03T08:36:05.237964012Z"",""Type"":""container"",""Attributes"":{""org.label-schema.build-date"":""20201204"",""org.label-schema.license"":""GPLv2"",""org.label-schema.name"":""CentOS Base Image"",""org.label-schema.schema-version"":""1.0"",""org.label-schema.vendor"":""CentOS""}}

Since by default /run is mounted on tmpfs, this has the side-effect of
increasing kernel slab objects over time indefinitely eventually causing
an OOM of the box.

We initially wanted to switch to the 'none' backend, but the podman
folks recommended using the journald backend because events logs are
used by podman in case of a rare race when running ""podman run --rm"".
Given that we call run with --rm from in a multithreaded fashion this
seems to be the safest approach. The drawback of using journald is
that events won't be logged for rootless containers unless the user
is part of the 'wheel' group. We believe we're not using those
containers in tripleo anyways, so this should be safe.

Tested by applying a backport of this patch to Train + podman 3.0.x and
got the following:
[root@controller-0 containers]# ls -la /run/libpod/events/
total 0
drwx------. 2 root root  40 Jun  3 11:55 .
drwxr-x--x. 5 root root 140 Jun  3 11:55 ..

[root@controller-0 containers]# more /etc/containers/containers.conf
[containers]
pids_limit = 4096
[engine]
events_logger = ""journald""

Also tested the override via the corresponding THT change in
Ieffe2852111c3ec8347343a042dd78bbf691d79a.

Closes-Bug: #1923607

Change-Id: I780103e17f1bb42a0546c30bd6c001c642ad88b3
(cherry picked from commit f31bab878bfd3332c20a10bf9ca26d443028d214)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/33/794633/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_install.yml']",2,0890135be25533f7f121756f5c50857711fa6b1c,events-logger-train2," section: ""{{ item.section }}"" option: ""{{ item.option }}"" value: ""{{ item.value }}"" loop: - section: containers option: pids_limit value: ""{{ tripleo_container_default_pids_limit }}"" - section: engine option: events_logger value: ""\""{{ tripleo_container_events_logger_mechanism }}\"""""," section: containers option: pids_limit value: ""{{ tripleo_container_default_pids_limit }}""",11,3
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ic70ec37cbae02a27cca0a1986f176fe8d5ca7452,openstack/tripleo-upgrade,stable/train,Ic70ec37cbae02a27cca0a1986f176fe8d5ca7452,[Train-Only] Add leapp answers for UC leapp upgrade.,MERGED,2021-05-25 13:39:29.000000000,2021-06-08 20:58:07.000000000,2021-06-08 20:58:07.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-25 13:39:29.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5d82287ac14582991f9051fa6500d365a87dfdc8', 'message': '[Train-Only] Add leapp answers for UC leapp upgrade.\n\nUp to now, the required leapp answers were part of the workarounds file. As\npart of the activity to reduce the number of workarounds in the FFWD jobs, this\npatch moves the leapp answer commands into tripleo-upgrade for the Undercloud\nupgrade.\n\nChange-Id: Ic70ec37cbae02a27cca0a1986f176fe8d5ca7452\n'}]",0,792979,5d82287ac14582991f9051fa6500d365a87dfdc8,13,4,1,26343,,,0,"[Train-Only] Add leapp answers for UC leapp upgrade.

Up to now, the required leapp answers were part of the workarounds file. As
part of the activity to reduce the number of workarounds in the FFWD jobs, this
patch moves the leapp answer commands into tripleo-upgrade for the Undercloud
upgrade.

Change-Id: Ic70ec37cbae02a27cca0a1986f176fe8d5ca7452
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/79/792979/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,5d82287ac14582991f9051fa6500d365a87dfdc8,,"- name: Set required leapp answers shell: | # PAM module pam_pkcs11 is no longer available in RHEL-8 since it was replaced by SSSD leapp answer --section remove_pam_pkcs11_module_check.confirm=True --add # Required for TLS-Everywhere, switch from authconfig to authselect leapp answer --section authselect_check.confirm=True --add ",,7,0
openstack%2Fcharm-mysql-innodb-cluster~master~I851fee541f85a69e346017d3ec1c12be06efdfd1,openstack/charm-mysql-innodb-cluster,master,I851fee541f85a69e346017d3ec1c12be06efdfd1,Stop using AUTOMATIC node whitelist,MERGED,2021-05-11 13:06:31.000000000,2021-06-08 20:56:00.000000000,2021-06-08 20:56:00.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 13:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/c1d19d6a41c50bb1550fc62847f706713917dfd0', 'message': 'Stop using AUTOMATIC node whitelist\n\nWhen the group_replication_ip_allowlist *1 is set to the default\nvalue of AUTOMATIC clusters can only be formed on RFC1918 private\nnetworks. This change changes the behavious so that\ngroup_replication_ip_allowlist will now be set to a list of CIDRs\nthat cover the units that form the cluster.\n\nIf a unit is added after the cluster is formed then a new action\nis provided to force the charm to update group_replication_ip_allowlist\non all nodes. This is not done automatically as replication needs\nto be stopped to update it.\n\n*1 https://dev.mysql.com/doc/refman/8.0/en/group-replication-options.html#sysvar_group_replication_ip_allowlist\n\nChange-Id: I851fee541f85a69e346017d3ec1c12be06efdfd1\n'}, {'number': 2, 'created': '2021-05-11 14:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/da06c7e3f3e65e954bda857fdac4459d8545353e', 'message': 'Stop using AUTOMATIC node whitelist\n\nWhen the group_replication_ip_allowlist *1 is set to the default\nvalue of AUTOMATIC clusters can only be formed on RFC1918 private\nnetworks. This change changes the behavious so that\ngroup_replication_ip_allowlist will now be set to a list of CIDRs\nthat cover the units that form the cluster.\n\nIf a unit is added after the cluster is formed then a new action\nis provided to force the charm to update group_replication_ip_allowlist\non all nodes. This is not done automatically as replication needs\nto be stopped to update it.\n\n*1 https://dev.mysql.com/doc/refman/8.0/en/group-replication-options.html#sysvar_group_replication_ip_allowlist\n\nChange-Id: I851fee541f85a69e346017d3ec1c12be06efdfd1\n'}, {'number': 3, 'created': '2021-05-14 10:30:52.000000000', 'files': ['src/README.md', 'src/actions.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/actions/update-unit-acls', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'unit_tests/test_mysql_innodb_cluster_handlers.py', 'src/actions/actions.py', 'src/reactive/mysql_innodb_cluster_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/43bd5831109ee892b43ce80a85a4eb067111006d', 'message': 'Stop using AUTOMATIC node whitelist\n\nWhen the group_replication_ip_allowlist *1 is set to the default\nvalue of AUTOMATIC clusters can only be formed on RFC1918 private\nnetworks. This change changes the behavious so that\ngroup_replication_ip_allowlist will now be set to a list of CIDRs\nthat cover the units that form the cluster.\n\nIf a unit is added after the cluster is formed then a new action\nis provided to force the charm to update group_replication_ip_allowlist\non all nodes. This is not done automatically as replication needs\nto be stopped to update it.\n\n*1 https://dev.mysql.com/doc/refman/8.0/en/group-replication-options.html#sysvar_group_replication_ip_allowlist\n\nChange-Id: I851fee541f85a69e346017d3ec1c12be06efdfd1\n'}]",14,790686,43bd5831109ee892b43ce80a85a4eb067111006d,27,3,3,12549,,,0,"Stop using AUTOMATIC node whitelist

When the group_replication_ip_allowlist *1 is set to the default
value of AUTOMATIC clusters can only be formed on RFC1918 private
networks. This change changes the behavious so that
group_replication_ip_allowlist will now be set to a list of CIDRs
that cover the units that form the cluster.

If a unit is added after the cluster is formed then a new action
is provided to force the charm to update group_replication_ip_allowlist
on all nodes. This is not done automatically as replication needs
to be stopped to update it.

*1 https://dev.mysql.com/doc/refman/8.0/en/group-replication-options.html#sysvar_group_replication_ip_allowlist

Change-Id: I851fee541f85a69e346017d3ec1c12be06efdfd1
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/86/790686/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/README.md', 'src/actions.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/actions/update-unit-acls', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'unit_tests/test_mysql_innodb_cluster_handlers.py', 'src/actions/actions.py', 'src/reactive/mysql_innodb_cluster_handlers.py']",8,c1d19d6a41c50bb1550fc62847f706713917dfd0,bug/1886934,"@reactive.when('cluster.available') def check_quorum(): """"""Check that all units have sent their cluster address. When the cluster is created an ip allow list is set. This cannot be updated while replication is running. To avoid the need to update it after cluster creation wait for all cluster addresses to be present. NOTE: The update-unit-acls action can be run if a unit on a new subnet is added to an existing cluster. """""" with charm.provide_charm_instance() as instance: if instance.reached_quorum(): ch_core.hookenv.log(""Reached quorum"", ""DEBUG"") reactive.set_flag('local.cluster.quorum-reached') else: ch_core.hookenv.log(""Quorum not reached"", ""DEBUG"") @reactive.when('local.cluster.quorum-reached')",,457,11
openstack%2Fcinder~master~I7dd158e247053edc82c6120f053bbb413882e913,openstack/cinder,master,I7dd158e247053edc82c6120f053bbb413882e913,backup/ceph: remove redundant pool name command line option,NEW,2017-08-02 09:36:10.000000000,2021-06-08 20:52:13.000000000,,"[{'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10439}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 12988}, {'_account_id': 13144}, {'_account_id': 13157}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22059}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25169}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27621}, {'_account_id': 29705}, {'_account_id': 30615}, {'_account_id': 32159}]","[{'number': 1, 'created': '2017-08-02 09:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8138e1436186bba7e40ab411f9f2adf3637defe4', 'message': 'backup/ceph: remove redundant pool\n\nWhen it creates backup, it will use this command:\nrbd export-diff --id <user> --conf <conf> --pool <pool_name> \\\n<pool-name>/<image-name>@<snap-name> -\nAbove this command, we can find pool_name is double, so it can\nremove redundant pool_name\n\nChange-Id: I7dd158e247053edc82c6120f053bbb413882e913\n'}, {'number': 2, 'created': '2017-08-15 01:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/46c68873e96338ebf8345aabf5e64eed14349600', 'message': 'backup/ceph: remove redundant pool\n\nWhen it creates backup, it will use this command:\nrbd export-diff --id <user> --conf <conf> --pool <pool_name> \\\n<pool-name>/<image-name>@<snap-name> -\nAbove this command, we can find pool_name is double, so it can\nremove redundant pool_name\n\nChange-Id: I7dd158e247053edc82c6120f053bbb413882e913\n'}, {'number': 3, 'created': '2017-09-05 01:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/11bd07f42570448038998482c9292cfc6a82653b', 'message': 'backup/ceph: remove redundant pool\n\nWhen it creates backup, it will use this command:\nrbd export-diff --id <user> --conf <conf> --pool <pool_name> \\\n<pool-name>/<image-name>@<snap-name> -\nAbove this command, we can find pool_name is double, so it can\nremove redundant pool_name\n\nChange-Id: I7dd158e247053edc82c6120f053bbb413882e913\n'}, {'number': 4, 'created': '2018-01-09 02:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1bb7415ae717a4cee579eb59ead0d3e24d7e1a75', 'message': 'backup/ceph: remove redundant pool\n\nWhen it creates backup, it will use this command:\nrbd export-diff --id <user> --conf <conf> --pool <pool_name> \\\n<pool-name>/<image-name>@<snap-name> -\nAbove this command, we can find pool_name is double, so it can\nremove redundant pool_name\n\nChange-Id: I7dd158e247053edc82c6120f053bbb413882e913\n'}, {'number': 5, 'created': '2018-01-10 04:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e7b9d53105c4554ffd5ee5581b72dcc13914e498', 'message': 'backup/ceph: remove redundant pool\n\nWhen it creates backup, it will use this command:\nrbd export-diff --id <user> --conf <conf> --pool <pool_name> \\\n<pool-name>/<image-name>@<snap-name> -\nIn this command, we can find pool_name is duplicated, so redundant\npool_name should be removed\n\nChange-Id: I7dd158e247053edc82c6120f053bbb413882e913\n'}, {'number': 6, 'created': '2018-01-11 02:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a2e567dae634d28f9f1d963826d951aa8d88f4f6', 'message': 'backup/ceph: remove redundant pool name command line option\n\nWhen backuping/restoring rbd, ceph backup driver will use commands\nlike this:\nrbd export-diff --id <user> --conf <conf> --pool <pool_name> \\\n<pool-name>/<image-name>@<snap-name> -\nIn this command, we can find pool_name is duplicated, so redundant\npool_name should be removed\n\nChange-Id: I7dd158e247053edc82c6120f053bbb413882e913\n'}, {'number': 7, 'created': '2018-03-15 01:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9279e6a95963a708b2bdd10d65ba8698a52e1263', 'message': 'backup/ceph: remove redundant pool name command line option\n\nWhen backuping/restoring rbd, ceph backup driver will use commands\nlike this:\nrbd export-diff --id <user> --conf <conf> --pool <pool_name> \\\n<pool-name>/<image-name>@<snap-name> -\nIn this command, we can find pool_name is duplicated, so redundant\npool_name should be removed\n\nChange-Id: I7dd158e247053edc82c6120f053bbb413882e913\n'}, {'number': 8, 'created': '2018-07-27 03:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5128e0834e6ca894923dbfe7f8bf7226e59f7663', 'message': 'backup/ceph: remove redundant pool name command line option\n\nWhen backuping/restoring rbd, ceph backup driver will use commands\nlike this:\nrbd export-diff --id <user> --conf <conf> --pool <pool_name> \\\n<pool-name>/<image-name>@<snap-name> -\nIn this command, we can find pool_name is duplicated, so redundant\npool_name should be removed\n\nChange-Id: I7dd158e247053edc82c6120f053bbb413882e913\n'}, {'number': 9, 'created': '2018-07-27 03:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/06ef91fbf86bfeda1c0d4194419acfff85e4dcbd', 'message': 'backup/ceph: remove redundant pool name command line option\n\nWhen backuping/restoring rbd, ceph backup driver will use commands\nlike this:\nrbd export-diff --id <user> --conf <conf> --pool <pool_name> \\\n<pool-name>/<image-name>@<snap-name> -\nIn this command, we can find pool_name is duplicated, so redundant\npool_name should be removed\n\nChange-Id: I7dd158e247053edc82c6120f053bbb413882e913\n'}, {'number': 10, 'created': '2020-09-23 16:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/80853a65e03aeb8f8b792fa1818808f3aa64f2e4', 'message': 'backup/ceph: remove redundant pool name command line option\n\nWhen backuping/restoring rbd, ceph backup driver will use commands\nlike this:\nrbd export-diff --id <user> --conf <conf> --pool <pool_name> \\\n<pool-name>/<image-name>@<snap-name> -\nIn this command, we can find pool_name is duplicated, so redundant\npool_name should be removed\n\nChange-Id: I7dd158e247053edc82c6120f053bbb413882e913\n'}, {'number': 11, 'created': '2021-06-04 00:07:26.000000000', 'files': ['cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/169a61ea1e3bbcc58fcd5127917e31b665f00c00', 'message': 'backup/ceph: remove redundant pool name command line option\n\nWhen backuping/restoring rbd, ceph backup driver will use commands\nlike this:\nrbd export-diff --id <user> --conf <conf> --pool <pool_name> \\\n<pool-name>/<image-name>@<snap-name> -\nIn this command, we can find pool_name is duplicated, so redundant\npool_name should be removed\n\nChange-Id: I7dd158e247053edc82c6120f053bbb413882e913\n'}]",2,489949,169a61ea1e3bbcc58fcd5127917e31b665f00c00,330,61,11,22059,,,0,"backup/ceph: remove redundant pool name command line option

When backuping/restoring rbd, ceph backup driver will use commands
like this:
rbd export-diff --id <user> --conf <conf> --pool <pool_name> \
<pool-name>/<image-name>@<snap-name> -
In this command, we can find pool_name is duplicated, so redundant
pool_name should be removed

Change-Id: I7dd158e247053edc82c6120f053bbb413882e913
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/489949/5 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/ceph.py'],1,8138e1436186bba7e40ab411f9f2adf3637defe4,rm-pool," src_ceph_args = self._ceph_args(src_user, src_conf) dest_ceph_args = self._ceph_args(dest_user, dest_conf)"," src_ceph_args = self._ceph_args(src_user, src_conf, pool=src_pool) dest_ceph_args = self._ceph_args(dest_user, dest_conf, pool=dest_pool)",2,2
openstack%2Ftripleo-common~master~Iae51282a61d16edb5a67162fca42ffcca7ba5d80,openstack/tripleo-common,master,Iae51282a61d16edb5a67162fca42ffcca7ba5d80,Do not fail if initiatorname.iscsi does not exist,MERGED,2021-06-03 10:01:26.000000000,2021-06-08 20:51:57.000000000,2021-06-08 20:48:44.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-03 10:01:26.000000000', 'files': ['container-images/tcib/base/os/iscsid/iscsid.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/64b6bd6c501e31569b7ef468e5f11d86202aa00a', 'message': ""Do not fail if initiatorname.iscsi does not exist\n\nIn iscsid container image initiatorname.iscsi file is removed as it\nneeds to be different on each container. Until CentOS8, this file was\ncreated when installing iscsi-initiator-utils but in CentOS 9 preview\nthis file is created by a systemd service if it does not exist, so we\nshouldn't assume it will always exist.\n\nChange-Id: Iae51282a61d16edb5a67162fca42ffcca7ba5d80\n""}]",0,794554,64b6bd6c501e31569b7ef468e5f11d86202aa00a,12,8,1,16312,,,0,"Do not fail if initiatorname.iscsi does not exist

In iscsid container image initiatorname.iscsi file is removed as it
needs to be different on each container. Until CentOS8, this file was
created when installing iscsi-initiator-utils but in CentOS 9 preview
this file is created by a systemd service if it does not exist, so we
shouldn't assume it will always exist.

Change-Id: Iae51282a61d16edb5a67162fca42ffcca7ba5d80
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/54/794554/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/iscsid/iscsid.yaml'],1,64b6bd6c501e31569b7ef468e5f11d86202aa00a,,- run: rm -f /etc/iscsi/initiatorname.iscsi,- run: rm /etc/iscsi/initiatorname.iscsi,1,1
openstack%2Ftripleo-common~master~Ic946d0ef686cb178e0f02db012f2767c9ec5d6d4,openstack/tripleo-common,master,Ic946d0ef686cb178e0f02db012f2767c9ec5d6d4,Remove libcgroup-tools from libvirt container,MERGED,2021-06-01 14:19:42.000000000,2021-06-08 20:50:41.000000000,2021-06-08 20:48:18.000000000,"[{'_account_id': 6926}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-01 14:19:42.000000000', 'files': ['container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5e469e42cf06c86713e54885bfcd344a1b40d662', 'message': 'Remove libcgroup-tools from libvirt container\n\nlibcgroup-tools was added to the libvirt container image\nwith I469b4f51c57e1651f42064b0134aa3916af72d80.\n\nSince OCP on OCP is right now discontinued and libcgroup\nis planned to be removed from RHEL 9, lets remove it also\nfrom the libvirt container image.\n\nIf there is the plan to start it again, we could probably\nuse systemd-run instead.\n\nChange-Id: Ic946d0ef686cb178e0f02db012f2767c9ec5d6d4\n'}]",0,793976,5e469e42cf06c86713e54885bfcd344a1b40d662,20,5,1,17216,,,0,"Remove libcgroup-tools from libvirt container

libcgroup-tools was added to the libvirt container image
with I469b4f51c57e1651f42064b0134aa3916af72d80.

Since OCP on OCP is right now discontinued and libcgroup
is planned to be removed from RHEL 9, lets remove it also
from the libvirt container image.

If there is the plan to start it again, we could probably
use systemd-run instead.

Change-Id: Ic946d0ef686cb178e0f02db012f2767c9ec5d6d4
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/76/793976/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml'],1,5e469e42cf06c86713e54885bfcd344a1b40d662,remove_libcgroup-tools,, - libcgroup-tools,0,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I441f16f5e596dcbc6f5e567b07d3cd19a57c21e2,openstack/tripleo-heat-templates,stable/victoria,I441f16f5e596dcbc6f5e567b07d3cd19a57c21e2,Add OVNCMSOptions to Controller and Networker roles,MERGED,2021-06-07 01:28:14.000000000,2021-06-08 20:48:13.000000000,2021-06-08 20:48:13.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-07 01:28:14.000000000', 'files': ['roles/ControllerAllNovaStandalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/ControllerNoCeph.yaml', 'roles_data.yaml', 'roles/Controller.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/NetworkerSriov.yaml', 'roles/ControllerSriov.yaml', 'roles/Networker.yaml', 'roles/ControllerOpenstack.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c796f4f1c25ae2fd045ba54cc3e92abde6e9b85', 'message': 'Add OVNCMSOptions to Controller and Networker roles\n\nOVN is a default networking service for Neutron.\nThe default configurations for OVN were implemented but OVNCMSOptions\nwas missing.\nThis change introduces OVNCMSOptions to Controller and Networker roles.\n\nCloses-Bug: #1928901\nChange-Id: I441f16f5e596dcbc6f5e567b07d3cd19a57c21e2\n(cherry picked from commit 866645db1d558542ddda7c00409d39e9d0a0a1bd)\n(cherry picked from commit e15bfa6d8ddbaa9ad9608c28f8150134fe3f48d2)\n'}]",0,794950,8c796f4f1c25ae2fd045ba54cc3e92abde6e9b85,8,4,1,25613,,,0,"Add OVNCMSOptions to Controller and Networker roles

OVN is a default networking service for Neutron.
The default configurations for OVN were implemented but OVNCMSOptions
was missing.
This change introduces OVNCMSOptions to Controller and Networker roles.

Closes-Bug: #1928901
Change-Id: I441f16f5e596dcbc6f5e567b07d3cd19a57c21e2
(cherry picked from commit 866645db1d558542ddda7c00409d39e9d0a0a1bd)
(cherry picked from commit e15bfa6d8ddbaa9ad9608c28f8150134fe3f48d2)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/794950/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ControllerAllNovaStandalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/ControllerNoCeph.yaml', 'roles/Controller.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/NetworkerSriov.yaml', 'roles/ControllerSriov.yaml', 'roles/Networker.yaml', 'roles/ControllerOpenstack.yaml']",11,8c796f4f1c25ae2fd045ba54cc3e92abde6e9b85,add_OVNCMSOption_to_roles-stable/wallaby-stable/victoria," RoleParametersDefault: OVNCMSOptions: ""enable-chassis-as-gw""",,22,0
openstack%2Fcinder~stable%2Frocky~Ie597e778e3efa61bfd98eaaa92730b5050195e7a,openstack/cinder,stable/rocky,Ie597e778e3efa61bfd98eaaa92730b5050195e7a,[stable-only] Cap bandit to v1.6.2 and fix constraints,MERGED,2020-12-15 09:39:25.000000000,2021-06-08 20:46:34.000000000,2021-06-04 17:16:53.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30555}]","[{'number': 1, 'created': '2020-12-15 09:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/026f9590caf579c2579a7c0370abea2496fbc818', 'message': ""Pin bandit to v1.1.0\n\nWe don't have test requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7.\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n(cherry picked from commit 4add6a7631f89fe62d0cee8a167f05894d33a619)\n""}, {'number': 2, 'created': '2020-12-15 09:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/245c4401081a36f7a835f532155068c4d96b812d', 'message': ""Cap bandit to v1.6.3\n\nWe don't have test requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7.\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n(cherry picked from commit fc23771b7528c2e25f414e8584bd43c4b3e36184)\n""}, {'number': 3, 'created': '2020-12-15 10:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/312e81177db4580f388f61574407ce62af366b7f', 'message': ""Cap bandit to v1.6.2\n\nWe don't have test requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7.\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n(cherry picked from commit 270065e0d42f6c07e9d3b1e875950e4439f7c228)\n""}, {'number': 4, 'created': '2020-12-15 10:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f77de0519d8d63cea47fcf84831cde625380411', 'message': ""Cap bandit to v1.6.2\n\nWe don't have test requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7.\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n(cherry picked from commit a512bfc233fc76c4375388b8546ab9e60459e1d3)\n""}, {'number': 5, 'created': '2021-04-13 17:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d475a3e1380e7df97123334e1a48a2d525c742fb', 'message': ""Cap bandit to v1.6.2 and fix constraints\n\nWe don't have bandit requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7, as\nbandit 1.6.3 [1] release has dropped support for py2 [2] but the\nrelease is faulty and pip still picks it up for py2 [3][4].\n\nWith the new pip resolver the following issues needed to be fixed:\n* SQLAlchemy-Utils constraint conflicts with rocky's upper constraints\n* bump lower constraint of cryptography\n* bump lower constraint of oslo.messaging\n* bump lower constraint of oslo.utils\n\ninstall_command needs to be added to lower-constraints tox target to\nwork properly.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n(cherry picked from commit a512bfc233fc76c4375388b8546ab9e60459e1d3)\n""}, {'number': 6, 'created': '2021-04-13 18:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bfcd51959323898a6689942f14aaaab212d962dd', 'message': ""Cap bandit to v1.6.2 and fix constraints\n\nWe don't have bandit requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7, as\nbandit 1.6.3 [1] release has dropped support for py2 [2] but the\nrelease is faulty and pip still picks it up for py2 [3][4].\n\nWith the new pip resolver the following issues needed to be fixed:\n* SQLAlchemy-Utils constraint conflicts with rocky's upper constraints\n* bump lower constraint of cryptography\n* bump lower constraint of oslo.messaging\n* bump lower constraint of oslo.utils\n\nIn lower-constraints job lxml requires libxml2-dev and libxslt1-dev\npackages, so bindep.txt is extended with them.\n\ninstall_command needs to be added to lower-constraints tox target to\nwork properly.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n(cherry picked from commit a512bfc233fc76c4375388b8546ab9e60459e1d3)\n""}, {'number': 7, 'created': '2021-04-14 09:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b55adb9ed92788a03eb0cd0ccdd11b4cf1a8ea6', 'message': ""[stable-only] Cap bandit to v1.6.2 and fix constraints\n\nThis patch has multiple fixes to unblock gate.\n\n1. bandit\n\nWe don't have bandit requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7, as\nbandit 1.6.3 [1] release has dropped support for py2 [2] but the\nrelease is faulty and pip still picks it up for py2 [3][4].\n\n2. pip resolver\n\nWith the new pip resolver the following issues needed to be fixed:\n* SQLAlchemy-Utils constraint conflicts with rocky's upper constraints\n* bump lower constraint of cryptography\n* bump lower constraint of oslo.messaging\n* bump lower constraint of oslo.utils\n\n3. lower-constraints\n\nIn lower-constraints job lxml requires libxml2-dev and libxslt1-dev\npackages, so bindep.txt is extended with them.\n\ninstall_command needs to be added to lower-constraints tox target to\nwork properly.\n\n4. cinder-tempest-dsvm-lvm-lio-barbican\n\nFix for overlapping CIDR issue in cinder-tempest-dsvm-lvm-lio-barbican\nis the same as in patch I068cf1e9618d305b5a9383c283bfa0f120bfe905.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n(cherry picked from commit a512bfc233fc76c4375388b8546ab9e60459e1d3)\n""}, {'number': 8, 'created': '2021-05-21 18:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc6dfbced86a5e51d243b9cc2ee32944b63a7c8a', 'message': ""[stable-only] Cap bandit to v1.6.2 and fix constraints\n\nThis patch has multiple fixes to unblock gate.\n\n1. bandit\n\nWe don't have bandit requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7, as\nbandit 1.6.3 [1] release has dropped support for py2 [2] but the\nrelease is faulty and pip still picks it up for py2 [3][4].\n\n2. pip resolver\n\nWith the new pip resolver the following issues needed to be fixed:\n* SQLAlchemy-Utils constraint conflicts with rocky's upper constraints\n* bump lower constraint of cryptography\n* bump lower constraint of oslo.messaging\n* bump lower constraint of oslo.utils\n\n3. lower-constraints\n\nIn lower-constraints job lxml requires libxml2-dev and libxslt1-dev\npackages, so bindep.txt is extended with them.\n\ninstall_command needs to be added to lower-constraints tox target to\nwork properly.\n\n4. cinder-tempest-dsvm-lvm-lio-barbican\n\nFix for overlapping CIDR issue in cinder-tempest-dsvm-lvm-lio-barbican\nis the same as in patch I068cf1e9618d305b5a9383c283bfa0f120bfe905.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n(cherry picked from commit a512bfc233fc76c4375388b8546ab9e60459e1d3)\n""}, {'number': 9, 'created': '2021-06-02 19:57:06.000000000', 'files': ['requirements.txt', 'bindep.txt', 'test-requirements.txt', 'playbooks/legacy/cinder-tempest-dsvm-lvm-lio-barbican/run.yaml', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/62fc927e5af452bc8ddf32bca9685a37194ce019', 'message': ""[stable-only] Cap bandit to v1.6.2 and fix constraints\n\nThis patch has multiple fixes to unblock gate.\n\n1. bandit\n\nWe don't have bandit requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7, as\nbandit 1.6.3 [1] release has dropped support for py2 [2] but the\nrelease is faulty and pip still picks it up for py2 [3][4].\n\n2. pip resolver\n\nWith the new pip resolver the following issues needed to be fixed:\n* SQLAlchemy-Utils constraint conflicts with rocky's upper constraints\n* bump lower constraint of cryptography\n* bump lower constraint of oslo.messaging\n* bump lower constraint of oslo.utils\n\n3. lower-constraints\n\nIn lower-constraints job lxml requires libxml2-dev and libxslt1-dev\npackages, so bindep.txt is extended with them.\n\ninstall_command needs to be added to lower-constraints tox target to\nwork properly.\n\n4. cinder-tempest-dsvm-lvm-lio-barbican\n\nFix for overlapping CIDR issue in cinder-tempest-dsvm-lvm-lio-barbican\nis the same as in patch I068cf1e9618d305b5a9383c283bfa0f120bfe905.\n\n5. pin nodeset to xenial for requirements-check job\n\nThe default nodeset for zuul jobs is now ubuntu-focal, and\nrequirements-check job fails on focal, because the mysql it contains is\nnot compatible with the commands that is used in tools/test-setup.sh.\nThis patch pins the nodeset to ubuntu-xenial for requirements-check job\nto make it pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n(cherry picked from commit a512bfc233fc76c4375388b8546ab9e60459e1d3)\n""}]",0,767106,62fc927e5af452bc8ddf32bca9685a37194ce019,84,5,9,1736,,,0,"[stable-only] Cap bandit to v1.6.2 and fix constraints

This patch has multiple fixes to unblock gate.

1. bandit

We don't have bandit requirements in upper-constraints, so we need
to cap it in stable branches manually to work with Python 2.7, as
bandit 1.6.3 [1] release has dropped support for py2 [2] but the
release is faulty and pip still picks it up for py2 [3][4].

2. pip resolver

With the new pip resolver the following issues needed to be fixed:
* SQLAlchemy-Utils constraint conflicts with rocky's upper constraints
* bump lower constraint of cryptography
* bump lower constraint of oslo.messaging
* bump lower constraint of oslo.utils

3. lower-constraints

In lower-constraints job lxml requires libxml2-dev and libxslt1-dev
packages, so bindep.txt is extended with them.

install_command needs to be added to lower-constraints tox target to
work properly.

4. cinder-tempest-dsvm-lvm-lio-barbican

Fix for overlapping CIDR issue in cinder-tempest-dsvm-lvm-lio-barbican
is the same as in patch I068cf1e9618d305b5a9383c283bfa0f120bfe905.

5. pin nodeset to xenial for requirements-check job

The default nodeset for zuul jobs is now ubuntu-focal, and
requirements-check job fails on focal, because the mysql it contains is
not compatible with the commands that is used in tools/test-setup.sh.
This patch pins the nodeset to ubuntu-xenial for requirements-check job
to make it pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a
(cherry picked from commit a512bfc233fc76c4375388b8546ab9e60459e1d3)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/767106/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,026f9590caf579c2579a7c0370abea2496fbc818,py27-requirements,bandit==1.1.0 # Apache-2.0,bandit>=1.1.0 # Apache-2.0,1,1
openstack%2Fkayobe~stable%2Fwallaby~I608c0362e6eeea65ffafb32cda5c19ccb6ec8b5c,openstack/kayobe,stable/wallaby,I608c0362e6eeea65ffafb32cda5c19ccb6ec8b5c,Fix container image builds,MERGED,2021-06-08 07:57:23.000000000,2021-06-08 20:34:49.000000000,2021-06-08 20:33:21.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-08 07:57:23.000000000', 'files': ['releasenotes/notes/kolla-build-network-mode-ba92e36d52e70d99.yaml', 'ansible/roles/kolla-build/templates/kolla-build.conf.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7e6ca694da906d415364d412887b40ab1cbb43f9', 'message': 'Fix container image builds\n\nContainer image builds broken due to disabling docker iptables\nmanagement in\nhttps://review.opendev.org/c/openstack/kolla-ansible/+/751795. This\naffects Wallaby and later.\n\nThis patch configures kolla-build to use network_mode=host.\n\nChange-Id: I608c0362e6eeea65ffafb32cda5c19ccb6ec8b5c\nStory: 2008942\nTask: 42560\n(cherry picked from commit 9c8f74993d63d73dfead6d1edb2b2827ae0e71bf)\n'}]",0,795232,7e6ca694da906d415364d412887b40ab1cbb43f9,16,3,1,15197,,,0,"Fix container image builds

Container image builds broken due to disabling docker iptables
management in
https://review.opendev.org/c/openstack/kolla-ansible/+/751795. This
affects Wallaby and later.

This patch configures kolla-build to use network_mode=host.

Change-Id: I608c0362e6eeea65ffafb32cda5c19ccb6ec8b5c
Story: 2008942
Task: 42560
(cherry picked from commit 9c8f74993d63d73dfead6d1edb2b2827ae0e71bf)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/32/795232/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/kolla-build-network-mode-ba92e36d52e70d99.yaml', 'ansible/roles/kolla-build/templates/kolla-build.conf.j2']",2,7e6ca694da906d415364d412887b40ab1cbb43f9,,"# Use host networking by default, in line with Kolla Ansible's default Docker # engine configuration. network_mode=host ",,10,0
openstack%2Fopenstack-ansible~stable%2Fussuri~I423204b1955b5fd5e61d16beb96c492136a2957a,openstack/openstack-ansible,stable/ussuri,I423204b1955b5fd5e61d16beb96c492136a2957a,Fix sahara backend URL,MERGED,2021-06-03 10:14:30.000000000,2021-06-08 20:34:33.000000000,2021-06-08 20:32:10.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-06-03 10:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2865e6dd4625d7986776be3e8790cd2a2e275758', 'message': 'Fix sahara backend URL\n\nSahara does not support healthcheck with api-paste out of the box.\n\nUntil we implement support for it, we should fix backend\n\nChange-Id: I423204b1955b5fd5e61d16beb96c492136a2957a\n(cherry picked from commit d43182f0a006f9dd2d85937f60b48edbd31cd32f)\n'}, {'number': 2, 'created': '2021-06-03 10:16:13.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/88f38ae02f5d42c3430f992c3e3b052b1813149c', 'message': 'Fix sahara backend URL\n\nSahara does not support healthcheck with api-paste out of the box.\n\nUntil we implement support for it, we should fix backend\n\nChange-Id: I423204b1955b5fd5e61d16beb96c492136a2957a\n(cherry picked from commit d43182f0a006f9dd2d85937f60b48edbd31cd32f)\n'}]",0,794445,88f38ae02f5d42c3430f992c3e3b052b1813149c,14,3,2,28619,,,0,"Fix sahara backend URL

Sahara does not support healthcheck with api-paste out of the box.

Until we implement support for it, we should fix backend

Change-Id: I423204b1955b5fd5e61d16beb96c492136a2957a
(cherry picked from commit d43182f0a006f9dd2d85937f60b48edbd31cd32f)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/45/794445/2 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/haproxy/haproxy.yml'],1,2865e6dd4625d7986776be3e8790cd2a2e275758,,"<<<<<<< HEAD (737be1 Bump SHAs for stable/ussuri) ======= haproxy_security_txt_acl: keystone-security-txt-acl: rule: ""path_end /security.txt"" backend_name: keystone_service haproxy_adjutant_api_service: haproxy_service_name: adjutant_api haproxy_backend_nodes: ""{{ groups['adjutant_api'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 5050 haproxy_balance_type: http haproxy_balance_alg: source haproxy_backend_options: - ""httpchk GET / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['adjutant_api'] is defined and groups['adjutant_api'] | length > 0 }}"" haproxy_aodh_api_service: haproxy_service_name: aodh_api haproxy_backend_nodes: ""{{ groups['aodh_api'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 8042 haproxy_balance_type: http haproxy_backend_options: - ""httpchk HEAD / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['aodh_api'] is defined and groups['aodh_api'] | length > 0 }}"" haproxy_barbican_service: haproxy_service_name: barbican haproxy_backend_nodes: ""{{ groups['barbican_api'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 9311 haproxy_balance_type: http haproxy_backend_options: - ""httpchk GET / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['barbican_api'] is defined and groups['barbican_api'] | length > 0 }}"" haproxy_ceph_rgw_service: haproxy_service_name: ceph-rgw haproxy_backend_nodes: ""{{ (groups['ceph-rgw'] is defined and groups['ceph-rgw'] | length > 0) | ternary(groups['ceph-rgw'], ceph_rgws) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_balance_alg: source haproxy_port: ""{{ radosgw_service_port | default(7980) }}"" haproxy_balance_type: http haproxy_backend_options: - httpchk HEAD / haproxy_backend_httpcheck_options: - expect rstatus 200|405 haproxy_service_enabled: ""{{ (groups['ceph-rgw'] is defined and groups['ceph-rgw'] | length > 0) or (ceph_rgws | length > 0) }}"" haproxy_cinder_api_service: haproxy_service_name: cinder_api haproxy_backend_nodes: ""{{ groups['cinder_api'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 8776 haproxy_balance_type: http haproxy_backend_options: - ""httpchk HEAD / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['cinder_api'] is defined and groups['cinder_api'] | length > 0 }}"" haproxy_designate_api_service: haproxy_service_name: designate_api haproxy_backend_nodes: ""{{ groups['designate_api'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 9001 haproxy_balance_type: http haproxy_backend_options: - ""forwardfor"" - ""httpchk GET / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" - ""httplog"" haproxy_service_enabled: ""{{ groups['designate_api'] is defined and groups['designate_api'] | length > 0 }}"" haproxy_galera_service: haproxy_service_name: galera haproxy_backend_nodes: ""{{ (groups['galera_all'] | default([]))[:1] }}"" # list expected haproxy_backup_nodes: ""{{ (groups['galera_all'] | default([]))[1:] }}"" haproxy_bind: ""{{ [internal_lb_vip_address] }}"" haproxy_port: 3306 haproxy_check_port: 9200 haproxy_balance_type: tcp haproxy_timeout_client: 5000s haproxy_timeout_server: 5000s haproxy_backend_options: - ""httpchk HEAD / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_whitelist_networks: ""{{ haproxy_galera_whitelist_networks }}"" haproxy_service_enabled: ""{{ groups['galera_all'] is defined and groups['galera_all'] | length > 0 }}"" haproxy_glance_api_service: haproxy_service_name: glance_api haproxy_backend_nodes: ""{{ groups['glance_api'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 9292 haproxy_balance_type: http haproxy_balance_alg: source haproxy_backend_options: - ""httpchk GET / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['glance_api'] is defined and groups['glance_api'] | length > 0 }}"" haproxy_gnocchi_service: haproxy_service_name: gnocchi haproxy_backend_nodes: ""{{ groups['gnocchi_all'] | default([]) }}"" haproxy_port: 8041 haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_balance_type: http haproxy_backend_options: - ""httpchk GET /healthcheck HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['gnocchi_all'] is defined and groups['gnocchi_all'] | length > 0 }}"" haproxy_heat_api_cfn_service: haproxy_service_name: heat_api_cfn haproxy_backend_nodes: ""{{ groups['heat_api_cfn'] | default([]) }}"" haproxy_port: 8000 haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_balance_type: http haproxy_backend_options: - ""httpchk HEAD / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['heat_api_cfn'] is defined and groups['heat_api_cfn'] | length > 0 }}"" haproxy_heat_api_service: haproxy_service_name: heat_api haproxy_backend_nodes: ""{{ groups['heat_api'] | default([]) }}"" haproxy_port: 8004 haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_balance_type: http haproxy_backend_options: - ""httpchk HEAD / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['heat_api'] is defined and groups['heat_api'] | length > 0 }}"" haproxy_horizon_service: haproxy_service_name: horizon haproxy_backend_nodes: ""{{ groups['horizon_all'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: true haproxy_port: ""{{ haproxy_ssl | ternary(443,80) }}"" haproxy_backend_port: 80 haproxy_redirect_http_port: 80 haproxy_balance_type: http haproxy_balance_alg: source haproxy_backend_options: - ""httpchk HEAD / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['horizon_all'] is defined and groups['horizon_all'] | length > 0 }}"" haproxy_redirect_scheme: ""{{ (haproxy_ssl_letsencrypt_enable | bool and haproxy_ssl | bool) | ternary('https if !{ ssl_fc } !{ path_beg /.well-known/acme-challenge/ }', 'https if !{ ssl_fc }') }}"" haproxy_frontend_acls: ""{{ (haproxy_ssl_letsencrypt_enable | bool and haproxy_ssl | bool) | ternary(haproxy_ssl_letsencrypt_acl, {}) }}"" haproxy_acls: ""{{ keystone_security_txt_content is defined | ternary(haproxy_security_txt_acl, {}) }}"" haproxy_ironic_api_service: haproxy_service_name: ironic_api haproxy_backend_nodes: ""{{ groups['ironic_api'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 6385 haproxy_balance_type: http haproxy_backend_options: - ""httpchk GET / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['ironic_api'] is defined and groups['ironic_api'] | length > 0 }}"" haproxy_ironic_inspector_service: haproxy_service_name: ironic_inspector haproxy_backend_nodes: ""{{ groups['ironic_inspector'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 5050 haproxy_balance_type: http haproxy_backend_options: - ""httpchk GET / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['ironic_inspector'] is defined and groups['ironic_inspector'] | length > 0 }}"" haproxy_keystone_service: haproxy_service_name: keystone_service haproxy_backend_nodes: ""{{ groups['keystone_all'] | default([]) }}"" haproxy_port: 5000 haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_balance_type: ""http"" haproxy_backend_options: - ""httpchk HEAD / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['keystone_all'] is defined and groups['keystone_all'] | length > 0 }}"" haproxy_letsencrypt_service: haproxy_service_name: letsencrypt haproxy_backend_nodes: ""{{ groups['haproxy_all'] }}"" backend_rise: 1 backend_fall: 5 haproxy_bind: - 127.0.0.1 haproxy_port: ""{{ haproxy_ssl_letsencrypt_certbot_backend_port }}"" haproxy_balance_type: http haproxy_service_enabled: ""{{ (haproxy_ssl_letsencrypt_enable | bool and haproxy_ssl | bool) }}"" haproxy_magnum_service: haproxy_service_name: magnum haproxy_backend_nodes: ""{{ groups['magnum_all'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 9511 haproxy_balance_type: http haproxy_backend_options: - ""httpchk GET / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['magnum_all'] is defined and groups['magnum_all'] | length > 0 }}"" haproxy_manila_service: haproxy_service_name: manila haproxy_backend_nodes: ""{{ groups['manila_api'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 8786 haproxy_balance_type: http haproxy_backend_options: - ""httpchk HEAD / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['manila_api'] is defined and groups['manila_api'] | length > 0 }}"" haproxy_masakari_api_service: haproxy_service_name: masakari_api haproxy_backend_nodes: ""{{ groups['masakari_api'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 15868 haproxy_balance_type: http haproxy_backend_options: - ""httpchk GET / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['masakari_api'] is defined and groups['masakari_api'] | length > 0 }}"" haproxy_mistral_service: haproxy_service_name: mistral haproxy_backend_nodes: ""{{ groups['mistral_all'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 8989 haproxy_balance_type: http haproxy_backend_options: - ""httpchk GET / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['mistral_all'] is defined and groups['mistral_all'] | length > 0 }}"" haproxy_murano_service: haproxy_service_name: murano haproxy_backend_nodes: ""{{ groups['murano_all'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 8082 haproxy_balance_type: http haproxy_backend_options: - ""httpchk GET /v1 HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_backend_httpcheck_options: - ""expect status 401"" haproxy_service_enabled: ""{{ groups['murano_all'] is defined and groups['murano_all'] | length > 0 }}"" haproxy_neutron_server_service: haproxy_service_name: neutron_server haproxy_backend_nodes: ""{{ groups['neutron_server'] | default([]) }}"" haproxy_port: 9696 haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_balance_type: http haproxy_backend_options: - ""httpchk GET / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['neutron_server'] is defined and groups['neutron_server'] | length > 0 }}"" haproxy_nova_api_metadata_service: haproxy_service_name: nova_api_metadata haproxy_backend_nodes: ""{{ groups['nova_api_metadata'] | default([]) }}"" haproxy_bind: ""{{ [internal_lb_vip_address] }}"" haproxy_port: 8775 haproxy_ssl: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_balance_type: http haproxy_backend_options: - ""httpchk HEAD / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_whitelist_networks: ""{{ haproxy_nova_metadata_whitelist_networks }}"" haproxy_service_enabled: ""{{ groups['nova_api_metadata'] is defined and groups['nova_api_metadata'] | length > 0 }}"" haproxy_nova_api_compute_service: haproxy_service_name: nova_api_os_compute haproxy_backend_nodes: ""{{ groups['nova_api_os_compute'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 8774 haproxy_balance_type: http haproxy_backend_options: - ""httpchk HEAD / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['nova_api_os_compute'] is defined and groups['nova_api_os_compute'] | length > 0 }}"" haproxy_nova_console_service: haproxy_service_name: nova_console haproxy_backend_nodes: ""{{ groups['nova_console'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: ""{{ hostvars[(groups['nova_console'] | default(['localhost']))[0] | default('localhost')]['nova_console_port'] | default(6082) }}"" haproxy_balance_type: http haproxy_timeout_client: 60m haproxy_timeout_server: 60m haproxy_balance_alg: source haproxy_backend_options: - ""httpchk HEAD {{ hostvars[(groups['nova_console'] | default(['localhost']))[0] | default('localhost')]['nova_console_path'] | default('/spice_auto.html') }} HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_backend_httpcheck_options: - ""expect status 200"" haproxy_service_enabled: ""{{ groups['nova_console'] is defined and groups['nova_console'] | length > 0 }}"" haproxy_octavia_service: haproxy_service_name: octavia haproxy_backend_nodes: ""{{ groups['octavia_all'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 9876 haproxy_balance_type: http haproxy_backend_options: - ""httpchk GET / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['octavia_all'] is defined and groups['octavia_all'] | length > 0 }}"" haproxy_opendaylight_neutron_service: haproxy_service_name: opendaylight-neutron haproxy_backend_nodes: ""{{ groups['neutron_server'] | default([]) }}"" haproxy_bind: ""{{ [internal_lb_vip_address] }}"" haproxy_port: 8180 haproxy_balance_type: tcp haproxy_timeout_client: 5000s haproxy_timeout_server: 5000s haproxy_whitelist_networks: ""{{ haproxy_opendaylight_whitelist_networks }}"" haproxy_service_enabled: ""{{ neutron_plugin_type == 'ml2.opendaylight' }}"" haproxy_opendaylight_websocket_service: haproxy_service_name: opendaylight-websocket haproxy_backend_nodes: ""{{ groups['neutron_server'] | default([]) }}"" haproxy_bind: ""{{ [internal_lb_vip_address] }}"" haproxy_port: 8185 haproxy_balance_type: tcp haproxy_timeout_client: 5000s haproxy_timeout_server: 5000s haproxy_whitelist_networks: ""{{ haproxy_opendaylight_whitelist_networks }}"" haproxy_service_enabled: ""{{ neutron_plugin_type == 'ml2.opendaylight' }}"" haproxy_ovn_northbound_service: haproxy_service_name: neutron_ovn_northd_northbound haproxy_backend_nodes: ""{{ (groups['neutron_ovn_northd'] | default([]))[:1] }}"" # list expected haproxy_backup_nodes: ""{{ (groups['neutron_ovn_northd'] | default([]))[1:] }}"" haproxy_port: 6641 haproxy_bind: ""{{ [internal_lb_vip_address] }}"" haproxy_balance_type: tcp haproxy_timeout_client: 90m haproxy_timeout_server: 90m haproxy_backend_options: - tcpka haproxy_service_enabled: ""{{ (neutron_plugin_type == 'ml2.ovn') and (groups['neutron_ovn_northd'] is defined and groups['neutron_ovn_northd'] | length > 0) }}"" haproxy_ovn_southbound_service: haproxy_service_name: neutron_ovn_northd_southbound haproxy_backend_nodes: ""{{ (groups['neutron_ovn_northd'] | default([]))[:1] }}"" haproxy_backup_nodes: ""{{ (groups['neutron_ovn_northd'] | default([]))[1:] }}"" haproxy_port: 6642 haproxy_bind: ""{{ [internal_lb_vip_address] }}"" haproxy_balance_type: tcp haproxy_timeout_client: 90m haproxy_timeout_server: 90m haproxy_backend_options: - tcpka haproxy_service_enabled: ""{{ (neutron_plugin_type == 'ml2.ovn') and (groups['neutron_ovn_northd'] is defined and groups['neutron_ovn_northd'] | length > 0) }}"" haproxy_ovn_ovsdb_service: haproxy_service_name: neutron_ovn_ovsdb_server haproxy_backend_nodes: ""{{ (groups['neutron_ovn_northd'] | default([]))[:1] }}"" haproxy_backup_nodes: ""{{ (groups['neutron_ovn_northd'] | default([]))[1:] }}"" haproxy_port: 6640 haproxy_bind: ""{{ [internal_lb_vip_address] }}"" haproxy_balance_type: tcp haproxy_timeout_client: 90m haproxy_timeout_server: 90m haproxy_backend_options: - tcpka haproxy_service_enabled: ""{{ (neutron_plugin_type == 'ml2.ovn') and (groups['neutron_ovn_northd'] is defined and groups['neutron_ovn_northd'] | length > 0) }}"" haproxy_panko_api_service: haproxy_service_name: panko_api haproxy_backend_nodes: ""{{ groups['panko_api'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 8777 haproxy_balance_type: http haproxy_backend_options: - ""forwardfor"" - ""httpchk GET / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" - ""httplog"" haproxy_service_enabled: ""{{ groups['panko_all'] is defined and groups['panko_all'] | length > 0 }}"" haproxy_placement_service: haproxy_service_name: placement haproxy_backend_nodes: ""{{ groups['placement_all'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 8780 haproxy_balance_type: http haproxy_backend_options: - ""httpchk GET / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['placement_all'] is defined and groups['placement_all'] | length > 0 }}"" haproxy_rabbitmq_service: haproxy_service_name: rabbitmq_mgmt haproxy_backend_nodes: ""{{ groups['rabbitmq'] | default([]) }}"" haproxy_ssl: False haproxy_bind: ""{{ [internal_lb_vip_address] }}"" haproxy_port: 15672 haproxy_balance_type: http haproxy_backend_options: - ""httpchk HEAD / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_whitelist_networks: ""{{ haproxy_rabbitmq_management_whitelist_networks }}"" haproxy_service_enabled: ""{{ groups['rabbitmq'] is defined and groups['rabbitmq'] | length > 0 }}"" haproxy_repo_service: haproxy_service_name: repo_all haproxy_backend_nodes: ""{{ groups['repo_all'] | default([]) }}"" haproxy_bind: ""{{ [internal_lb_vip_address] }}"" haproxy_port: 8181 haproxy_balance_type: http haproxy_backend_options: - ""httpchk GET /repo_sync_complete HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_backend_httpcheck_options: - ""expect status 200"" haproxy_service_enabled: ""{{ groups['repo_all'] is defined and groups['repo_all'] | length > 0 }}"" haproxy_sahara_api_service: haproxy_service_name: sahara_api haproxy_backend_nodes: ""{{ groups['sahara_api'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_balance_alg: source haproxy_port: 8386 haproxy_balance_type: http haproxy_backend_options: - ""httpchk GET / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_backend_httpcheck_options: - ""expect rstatus 300|200"" haproxy_service_enabled: ""{{ groups['sahara_api'] is defined and groups['sahara_api'] | length > 0 }}"" haproxy_senlin_api_service: haproxy_service_name: senlin_api haproxy_backend_nodes: ""{{ groups['senlin_api'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 8778 haproxy_balance_type: http haproxy_backend_options: - ""httpchk GET / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['senlin_api'] is defined and groups['senlin_api'] | length > 0 }}"" haproxy_swift_proxy_service: haproxy_service_name: swift_proxy haproxy_backend_nodes: ""{{ groups['swift_proxy'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_balance_alg: source haproxy_port: 8080 haproxy_balance_type: http haproxy_backend_options: - ""httpchk GET /healthcheck HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['swift_proxy'] is defined and groups['swift_proxy'] | length > 0 }}"" haproxy_tacker_service: haproxy_service_name: tacker haproxy_backend_nodes: ""{{ groups['tacker_all'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 9890 haproxy_balance_type: http haproxy_backend_options: - ""forwardfor"" - ""httpchk GET / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" - ""httplog"" haproxy_service_enabled: ""{{ groups['tacker_all'] is defined and groups['tacker_all'] | length > 0 }}"" haproxy_trove_service: haproxy_service_name: trove haproxy_backend_nodes: ""{{ groups['trove_api'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 8779 haproxy_balance_type: http haproxy_backend_options: - ""httpchk HEAD / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['trove_api'] is defined and groups['trove_api'] | length > 0 }}"" haproxy_zun_api_service: haproxy_service_name: zun_api haproxy_backend_nodes: ""{{ groups['zun_api'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}"" haproxy_port: 9517 haproxy_balance_type: http haproxy_backend_options: - ""httpchk GET /v1 HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['zun_api'] is defined and groups['zun_api'] | length > 0 }}"" >>>>>>> CHANGE (bdd7c3 Fix sahara backend URL)",,501,0
openstack%2Fheat~master~I228282d2c05f6583fe972470b326e7182f635b39,openstack/heat,master,I228282d2c05f6583fe972470b326e7182f635b39,Adding oslo.config entry points for yaql and cache opts,NEW,2021-05-05 01:56:50.000000000,2021-06-08 20:14:22.000000000,,"[{'_account_id': 4257}, {'_account_id': 4571}, {'_account_id': 8833}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 01:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3bb7b77ad9e708863dc5159be2690399ab2fad14', 'message': 'Adding oslo.config entry points for yaql and cache opts\n\nTo assist with automated configuration validation, we need entry points\nfor oslo.config.opts for yaql and cache options.\n\nChange-Id: I228282d2c05f6583fe972470b326e7182f635b39\n'}, {'number': 2, 'created': '2021-05-05 18:25:50.000000000', 'files': ['heat/engine/hot/functions.py', 'config-generator.conf', 'heat/common/cache.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/heat/commit/19e6bf943f094a60286b52bf590623418699ccee', 'message': 'Adding oslo.config entry points for yaql and cache opts\n\nTo assist with automated configuration validation, we need entry points\nfor oslo.config.opts for yaql and cache options.\n\nChange-Id: I228282d2c05f6583fe972470b326e7182f635b39\n'}]",5,789680,19e6bf943f094a60286b52bf590623418699ccee,18,6,2,27419,,,0,"Adding oslo.config entry points for yaql and cache opts

To assist with automated configuration validation, we need entry points
for oslo.config.opts for yaql and cache options.

Change-Id: I228282d2c05f6583fe972470b326e7182f635b39
",git fetch https://review.opendev.org/openstack/heat refs/changes/80/789680/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/hot/functions.py', 'config-generator.conf', 'heat/common/cache.py', 'setup.cfg']",4,3bb7b77ad9e708863dc5159be2690399ab2fad14,automated_config_validation, heat.common.cache = heat.common.cache:list_opts heat.engine.hot.functions = heat.engine.hot.functions:list_opts,,18,1
openstack%2Ftripleo-validations~master~I1fb32100139736b88a078940f930122f2694955c,openstack/tripleo-validations,master,I1fb32100139736b88a078940f930122f2694955c,Add Validation Development Workflow Documentation,MERGED,2021-05-27 14:01:39.000000000,2021-06-08 20:03:05.000000000,2021-06-08 20:01:48.000000000,"[{'_account_id': 6816}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 31245}, {'_account_id': 32432}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-27 14:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/84616401d10025973c103886d670bb2fd9424f88', 'message': '[WIP] tox-ansible and molecule documentation\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I1fb32100139736b88a078940f930122f2694955c\n'}, {'number': 2, 'created': '2021-05-28 13:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6df808bd99a3594983a6196300c46146d33fb182', 'message': 'Add Validation Development Workflow Documentation\n\nThis patch adds documentation for:\n- How to develop a molecule test for a new role\n- How to run the molecule test scenarios via tox-ansible\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I1fb32100139736b88a078940f930122f2694955c\n'}, {'number': 3, 'created': '2021-05-31 12:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a1197187826e7c3a5f0e4197f41db9778b922018', 'message': 'Add Validation Development Workflow Documentation\n\nThis patch adds documentation for:\n- How to develop a molecule test for a new role\n- How to run the molecule test scenarios via tox-ansible\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I1fb32100139736b88a078940f930122f2694955c\n'}, {'number': 4, 'created': '2021-06-01 08:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9ea54619c2b4b7407941b98f4b72509014cc0fb8', 'message': 'Add Validation Development Workflow Documentation\n\nThis patch adds documentation for:\n- How to develop a molecule test for a new role\n- How to run the molecule test scenarios via tox-ansible\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I1fb32100139736b88a078940f930122f2694955c\n'}, {'number': 5, 'created': '2021-06-02 09:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/15e5f89761099ead98b6ce1cc75bddb984029d35', 'message': 'Add Validation Development Workflow Documentation\n\nThis patch adds documentation for:\n- How to develop a molecule test for a new role\n- How to run the molecule test scenarios via tox-ansible\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I1fb32100139736b88a078940f930122f2694955c\n'}, {'number': 6, 'created': '2021-06-02 10:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b8baf87641421432f5e0dab6369a86a1fecc904a', 'message': 'Add Validation Development Workflow Documentation\n\nThis patch adds documentation for:\n- How to develop a molecule test for a new role\n- How to run the molecule test scenarios via tox-ansible\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I1fb32100139736b88a078940f930122f2694955c\n'}, {'number': 7, 'created': '2021-06-04 09:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9d4db3ba27a4c43399953d1c8c3e90163db62eb7', 'message': 'Add Validation Development Workflow Documentation\n\nThis patch adds documentation for:\n- How to develop a molecule test for a new role\n- How to run the molecule test scenarios via tox-ansible\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I1fb32100139736b88a078940f930122f2694955c\n'}, {'number': 8, 'created': '2021-06-08 09:23:10.000000000', 'files': ['doc/source/roles/role-check_for_dangling_images.rst', 'doc/source/roles/role-system_encoding.rst', 'doc/source/roles/role-check_kernel_version.rst', 'doc/source/roles/role-check_undercloud_conf.rst', 'doc/source/roles/role-check_rhsm_version.rst', 'doc/source/roles/role-check_uc_hostname.rst', 'doc/source/roles/role-package_version.rst', 'doc/source/groups.rst', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/443f8d328f63df4cc65c0ebf84c717772e77ed31', 'message': 'Add Validation Development Workflow Documentation\n\nThis patch adds documentation for:\n- How to develop a molecule test for a new role\n- How to run the molecule test scenarios via tox-ansible\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I1fb32100139736b88a078940f930122f2694955c\n'}]",4,793410,443f8d328f63df4cc65c0ebf84c717772e77ed31,31,14,8,11491,,,0,"Add Validation Development Workflow Documentation

This patch adds documentation for:
- How to develop a molecule test for a new role
- How to run the molecule test scenarios via tox-ansible

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I1fb32100139736b88a078940f930122f2694955c
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/10/793410/6 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributing/developer_guide.rst'],1,84616401d10025973c103886d670bb2fd9424f88,VALIDATION_DEVELOPMENT_WORKFLOW,"Developing your own molecule test(s) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The role addition process will create a default molecule scenario from the skeleton. By using Molecule, you will be able to test it locally and of course it will be executed during the CI checks. In your role directory, you will notice a `molecule` folder which contains a single `Scenario` called `default`. Scenarios are the starting point for a lot of powerful functionality that Molecule offers. A scenario is a kind of a test suite for your newly created role. The Scenario layout +++++++++++++++++++ Within the `molecule/default` folder, you will find those files: .. code-block:: console $ ls molecule.yml converge.yml prepare.yml Local testing of new roles can be done in two ways: * with `tox-ansible <https://github.com/ansible-community/tox-ansible>`_, * or via the script `scripts/run-local-test`. Running molecule tests with `tox-ansible`_ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ `Tox-ansible <https://github.com/ansible-community/tox-ansible>`_ is a plugin for `tox`_ which auto-generates tox environments for running quality assurance tools like `ansible-test`_ or `molecule`_. Tox-ansible will generate as many tox environment(s) as molecule scenarios in your role. This way you will be able to run locally the desired molecule scenario. To list all the defined environments generated by tox-ansible: .. code-block:: console $ tox -va default environments: ceph -> Auto-generated for: cd roles/ceph && molecule test -s default ceph-ceph-ansible-installed -> Auto-generated for: cd roles/ceph && molecule test -s ceph-ansible-installed check_for_dangling_images -> Auto-generated for: cd roles/check_for_dangling_images && molecule test -s default check_kernel_version -> Auto-generated for: cd roles/check_kernel_version && molecule test -s default check_network_gateway -> Auto-generated for: cd roles/check_network_gateway && molecule test -s default check_rhsm_version -> Auto-generated for: cd roles/check_rhsm_version && molecule test -s default check_rhsm_version-rhsm_mismatch -> Auto-generated for: cd roles/check_rhsm_version && molecule test -s rhsm_mismatch check_uc_hostname -> Auto-generated for: cd roles/check_uc_hostname && molecule test -s default check_undercloud_conf -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s default check_undercloud_conf-config_OK -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s config_OK check_undercloud_conf-deprecated_drivers -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s deprecated_drivers check_undercloud_conf-deprecated_params -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s deprecated_params check_undercloud_conf-required_missing -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s required_missing collect_flavors_and_verify_profiles -> Auto-generated for: cd roles/collect_flavors_and_verify_profiles && molecule test -s default container_status -> Auto-generated for: cd roles/container_status && molecule test -s default controller_token -> Auto-generated for: cd roles/controller_token && molecule test -s default controller_ulimits -> Auto-generated for: cd roles/controller_ulimits && molecule test -s default ... additional environments: bindep -> [no description] debug -> [no description] pep8 -> [no description] ansible-lint -> [no description] yamllint -> [no description] bashate -> [no description] whitespace -> [no description] shebangs -> [no description] releasenotes -> [no description] cover -> [no description] To execute one or multiple molecule scenario(s) with tox, run the following command: .. code-block:: console $ tox -e check_for_dangling_images[,ceph,check_kernel_version] .. _tox: https://tox.readthedocs.io/en/latest/index.html .. _ansible-test: https://docs.ansible.com/ansible/latest/dev_guide/developing_collections_testing.html#testing-collections .. _molecule: https://github.com/ansible-community/molecule Running molecule tests with the script run-local-test ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ what Zuul does on a *CentOS 8* machine.","Local testing of new roles can be done in any number of ways, however, the easiest way is via the script `run-local-test` on a *CentOS 8* machaine.what Zuul does.",90,3
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I422e49f0027efbbb25256d8b4718eb0aa78d90a4,openstack/tripleo-heat-templates,stable/wallaby,I422e49f0027efbbb25256d8b4718eb0aa78d90a4,set ganesha idmap.conf file path and overrides,MERGED,2021-06-07 14:02:56.000000000,2021-06-08 20:01:42.000000000,2021-06-08 20:01:42.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-07 14:02:56.000000000', 'files': ['deployment/ceph-ansible/ceph-nfs.yaml', 'environments/manila-cephfsganesha-config.yaml', 'deployment/cephadm/ceph-nfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2a8641a5c16e43c4d23b4ca372fb0e29f6f6ebc', 'message': 'set ganesha idmap.conf file path and overrides\n\nTraditionally,  Ganesha consumes /etc/idmapd.conf, which controls\nmapping of user/owner identities under NFSv4+.  With containerized service\ndeployment, this file has beenan immutable part of the container image\nand could not be modified.\n\nRecently ceph-ansible was modified to allow the user to set the path\nfor idmapd.conf and to override ini settings in this file by supplying\njson configuration for the overrides in the same way that it can be\nsupplied for ceph.conf overrides [1].  Also, the default path setting\nfor the idmapd.conf file is /etc/ganesha/idmap.conf, which already is\nreflected into containerized ganesha under /etc/ganesha, solving the\nimmutability issue.  If no overrides are supplied, the file put in this\nlocation will match that originally frozen into the container, so there\nis no issue here with backwards compatibility.\n\nThis change exposes parameters for idmap.conf file path and override\ncontents in TripleO and passes them into ceph-ansible.  It also sets up\nthese parameters for cephadm.  Cephadm support for OpenStack Ganesha\nis WIP so there will likely need to be a followup patch to make these\neffective when cephadm replaces ceph ansible.\n\n[1] https://github.com/ceph/ceph-ansible/pull/6422\n\nChange-Id: I422e49f0027efbbb25256d8b4718eb0aa78d90a4\n(cherry picked from commit 9a42686dc7f9181246fdddf87e35a6a669726cea)\n'}]",0,795048,b2a8641a5c16e43c4d23b4ca372fb0e29f6f6ebc,7,3,1,9003,,,0,"set ganesha idmap.conf file path and overrides

Traditionally,  Ganesha consumes /etc/idmapd.conf, which controls
mapping of user/owner identities under NFSv4+.  With containerized service
deployment, this file has beenan immutable part of the container image
and could not be modified.

Recently ceph-ansible was modified to allow the user to set the path
for idmapd.conf and to override ini settings in this file by supplying
json configuration for the overrides in the same way that it can be
supplied for ceph.conf overrides [1].  Also, the default path setting
for the idmapd.conf file is /etc/ganesha/idmap.conf, which already is
reflected into containerized ganesha under /etc/ganesha, solving the
immutability issue.  If no overrides are supplied, the file put in this
location will match that originally frozen into the container, so there
is no issue here with backwards compatibility.

This change exposes parameters for idmap.conf file path and override
contents in TripleO and passes them into ceph-ansible.  It also sets up
these parameters for cephadm.  Cephadm support for OpenStack Ganesha
is WIP so there will likely need to be a followup patch to make these
effective when cephadm replaces ceph ansible.

[1] https://github.com/ceph/ceph-ansible/pull/6422

Change-Id: I422e49f0027efbbb25256d8b4718eb0aa78d90a4
(cherry picked from commit 9a42686dc7f9181246fdddf87e35a6a669726cea)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/795048/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ceph-ansible/ceph-nfs.yaml', 'environments/manila-cephfsganesha-config.yaml', 'deployment/cephadm/ceph-nfs.yaml']",3,b2a8641a5c16e43c4d23b4ca372fb0e29f6f6ebc,centos-storage-sig-stable/wallaby, ManilaCephFSNFSIdmapConf: type: string default: '/etc/ganesha/idmap.conf' ManilaCephFSNFSIdmapOverrides: type: json description: Extra config settings to dump into idmap.conf default: {},,20,0
openstack%2Foctavia~stable%2Fvictoria~I5341949513e6eb814655ee8f14a01b061894fc34,openstack/octavia,stable/victoria,I5341949513e6eb814655ee8f14a01b061894fc34,Fix task_flow.max_workers with persistence in amphorav2,MERGED,2021-05-17 07:32:15.000000000,2021-06-08 19:56:28.000000000,2021-06-08 19:54:54.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-17 07:32:15.000000000', 'files': ['octavia/common/base_taskflow.py', 'octavia/tests/unit/common/test_base_taskflow.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bbb203a2881e3a203800cb3a0c898ca14f3f62a4', 'message': 'Fix task_flow.max_workers with persistence in amphorav2\n\nWhen jobboard was enabled in amphorav2, the [task_flow]/max_workers\noption was unused, updating a LB with a lot of children could have\nfailed because of dozens of concurrent connections to the database.\n\nStory 2008860\nTask 42381\n\nChange-Id: I5341949513e6eb814655ee8f14a01b061894fc34\n(cherry picked from commit c5287e1b08c8ffc16bcfcb7d878dc6a652ff2834)\n(cherry picked from commit a53e2eabe339c12bab9e4bf10155f5d1cdd250a8)\n'}]",0,791662,bbb203a2881e3a203800cb3a0c898ca14f3f62a4,12,4,1,6469,,,0,"Fix task_flow.max_workers with persistence in amphorav2

When jobboard was enabled in amphorav2, the [task_flow]/max_workers
option was unused, updating a LB with a lot of children could have
failed because of dozens of concurrent connections to the database.

Story 2008860
Task 42381

Change-Id: I5341949513e6eb814655ee8f14a01b061894fc34
(cherry picked from commit c5287e1b08c8ffc16bcfcb7d878dc6a652ff2834)
(cherry picked from commit a53e2eabe339c12bab9e4bf10155f5d1cdd250a8)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/62/791662/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/base_taskflow.py', 'octavia/tests/unit/common/test_base_taskflow.py']",2,bbb203a2881e3a203800cb3a0c898ca14f3f62a4,," self.conf.config(group=""task_flow"", max_workers=MAX_WORKERS) engine='parallel', engine_options={ 'max_workers': MAX_WORKERS, })", engine='parallel'),9,2
openstack%2Fproject-config~master~I7b735a83dec95db4f2aeeef31ea22c2a2b93915a,openstack/project-config,master,I7b735a83dec95db4f2aeeef31ea22c2a2b93915a,Changes to be committed: modified: zuul.d/projects.yaml,MERGED,2021-06-08 18:42:21.000000000,2021-06-08 19:55:07.000000000,2021-06-08 19:55:07.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 18:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/852f798428d0f6f681ed4d2e1638b900f22a4998', 'message': 'Changes to be committed:\nmodified: zuul.d/projects.yaml\n\nRemoved x/networking-infoblox project dependency\nRemoving this as we will be adding our own .zuul.yaml which can handle things\nChange-Id: Ib712abce33b5f552965be874d9965a24eb7ec105\n\nChange-Id: I7b735a83dec95db4f2aeeef31ea22c2a2b93915a\n'}, {'number': 2, 'created': '2021-06-08 18:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fa23416073d6db856ff6dcd8da89b6aa0bfabc7e', 'message': 'Changes to be committed:\nmodified: zuul.d/projects.yaml\n\nRemoved x/networking-infoblox project dependency\nRemoving this as we will be adding our own .zuul.yaml which can handle things\n\n\nChange-Id: I7b735a83dec95db4f2aeeef31ea22c2a2b93915a\n'}, {'number': 3, 'created': '2021-06-08 19:14:51.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/00e54c705b4cc5796edf98bfc6c7a31d44aca0b3', 'message': 'Changes to be committed:\nmodified: zuul.d/projects.yaml\n\nRemoved x/networking-infoblox project dependency\nRemoving this as we will be adding our own .zuul.yaml which can handle things\n\nChange-Id: I7b735a83dec95db4f2aeeef31ea22c2a2b93915a\n'}]",0,795397,00e54c705b4cc5796edf98bfc6c7a31d44aca0b3,12,3,3,31511,,,0,"Changes to be committed:
modified: zuul.d/projects.yaml

Removed x/networking-infoblox project dependency
Removing this as we will be adding our own .zuul.yaml which can handle things

Change-Id: I7b735a83dec95db4f2aeeef31ea22c2a2b93915a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/97/795397/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,852f798428d0f6f681ed4d2e1638b900f22a4998,,, name: x/networking-infoblox templates: - openstack-python-jobs-neutron - publish-to-pypi - project:,0,6
openstack%2Ftempest~master~I9602937f53933a9d30022512b7fe6a817d7e6472,openstack/tempest,master,I9602937f53933a9d30022512b7fe6a817d7e6472,Fix up the tempest-full-py3 job configurations,MERGED,2021-06-02 17:19:21.000000000,2021-06-08 19:48:55.000000000,2021-06-08 19:46:33.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-02 17:19:21.000000000', 'files': ['zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4e2a6ffaab1897104db2f0842e3aa540bb5fdeca', 'message': 'Fix up the tempest-full-py3 job configurations\n\nWhen we created the separate definition for tempest-full-py3 job\nfor swift enable on ussuri onwards, we missed to add the\nfew configutation like horizon, networking config due to rebase\nand all\n- I63159e5e8c0c8b6751ea481577b4c4637a7f25b5\n\nThis commit re-add all those configuration back to job version\nof ussuri onwards.\n\nThis issue is found when we saw horizon dashbaord test is skipped\nin tempest-full-py3 master gate.\n\n- https://zuul.opendev.org/t/openstack/build/34892e0fd92f410bb99b37c8fe2e5255/log/job-output.txt#27738\n\nChange-Id: I9602937f53933a9d30022512b7fe6a817d7e6472\n'}]",0,794312,4e2a6ffaab1897104db2f0842e3aa540bb5fdeca,21,4,1,8556,,,0,"Fix up the tempest-full-py3 job configurations

When we created the separate definition for tempest-full-py3 job
for swift enable on ussuri onwards, we missed to add the
few configutation like horizon, networking config due to rebase
and all
- I63159e5e8c0c8b6751ea481577b4c4637a7f25b5

This commit re-add all those configuration back to job version
of ussuri onwards.

This issue is found when we saw horizon dashbaord test is skipped
in tempest-full-py3 master gate.

- https://zuul.opendev.org/t/openstack/build/34892e0fd92f410bb99b37c8fe2e5255/log/job-output.txt#27738

Change-Id: I9602937f53933a9d30022512b7fe6a817d7e6472
",git fetch https://review.opendev.org/openstack/tempest refs/changes/12/794312/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/integrated-gate.yaml'],1,4e2a6ffaab1897104db2f0842e3aa540bb5fdeca,," Base integration test with Neutron networking, horizon, swift enable, and py3. required-projects: - openstack/horizon devstack_plugins: neutron: https://opendev.org/openstack/neutron devstack_local_conf: post-config: ""/$NEUTRON_CORE_PLUGIN_CONF"": ovs: bridge_mappings: public:br-ex resource_provider_bandwidths: br-ex:1000000:1000000 test-config: $TEMPEST_CONFIG: network-feature-enabled: qos_placement_physnet: public devstack_services: # Enbale horizon so that we can run horizon test. horizon: true neutron-placement: true neutron-qos: true"," Base integration test with Neutron networking, swift enable, and py3.",21,1
openstack%2Fkuryr-kubernetes~master~I30ef9ce99b039d00f63ced6e78fd4cfe432b50f6,openstack/kuryr-kubernetes,master,I30ef9ce99b039d00f63ced6e78fd4cfe432b50f6,Work with pyroute2 0.6.4,MERGED,2021-06-08 13:59:08.000000000,2021-06-08 19:48:49.000000000,2021-06-08 19:47:35.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-06-08 13:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0057e4a423c6aa451ee3ec920006ea92cf15d5f2', 'message': ""Pin pyroute2 to 0.6.3\n\npyroute2 0.6.4 seems to break us due to their packages split. We haven't\nfigured out how to consume this correctly now, so this commit pins it to\n0.6.3.\n\nChange-Id: I30ef9ce99b039d00f63ced6e78fd4cfe432b50f6\n""}, {'number': 2, 'created': '2021-06-08 14:54:23.000000000', 'files': ['kuryr_kubernetes/cni/binding/sriov.py', 'kuryr_kubernetes/cni/binding/nested.py', 'kuryr_kubernetes/cni/binding/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1c2cd789662b447c199b1ff1ec47313b32e833d1', 'message': 'Work with pyroute2 0.6.4\n\npyroute2 0.6.4 seems to break us due to their packages split. This\ncommit attempts to fix it by making sure we import modules correctly.\n\nChange-Id: I30ef9ce99b039d00f63ced6e78fd4cfe432b50f6\n'}]",0,795338,1c2cd789662b447c199b1ff1ec47313b32e833d1,10,5,2,11600,,,0,"Work with pyroute2 0.6.4

pyroute2 0.6.4 seems to break us due to their packages split. This
commit attempts to fix it by making sure we import modules correctly.

Change-Id: I30ef9ce99b039d00f63ced6e78fd4cfe432b50f6
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/38/795338/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,0057e4a423c6aa451ee3ec920006ea92cf15d5f2,down-ports-workaround,"pyroute2>=0.5.7,<=0.6.3;sys_platform!='win32' # Apache-2.0 (+ dual licensed GPL2)",pyroute2>=0.5.7;sys_platform!='win32' # Apache-2.0 (+ dual licensed GPL2),1,1
openstack%2Fopenstack-ansible~master~I9d53aaf21272dd56045b16985a3516ef192ec715,openstack/openstack-ansible,master,I9d53aaf21272dd56045b16985a3516ef192ec715,Add PKI role to integrated repo,MERGED,2021-04-26 15:28:18.000000000,2021-06-08 19:44:09.000000000,2021-06-08 19:41:34.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-04-26 15:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eed5166d61b1c5a798239fd1c54c771e50bb1b52', 'message': 'WIP - test PKI role\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/788021\nChange-Id: I9d53aaf21272dd56045b16985a3516ef192ec715\n'}, {'number': 2, 'created': '2021-04-26 15:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/750f17f0bff6f78ff6fe322c242b301a9f3ad4d6', 'message': 'WIP - test PKI role\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/788021\nChange-Id: I9d53aaf21272dd56045b16985a3516ef192ec715\n'}, {'number': 3, 'created': '2021-04-27 09:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5675ef7f4f093e97709ed82fc14692d005e3e23e', 'message': 'WIP - Test PKI role\n\nDepends-On: https://review.opendev.org/788021\nChange-Id: I9d53aaf21272dd56045b16985a3516ef192ec715\n'}, {'number': 4, 'created': '2021-04-29 14:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d11504f58196759155a11cff332ece1c84ad1980', 'message': 'WIP - Test PKI role\n\nDepends-On: https://review.opendev.org/788021\nChange-Id: I9d53aaf21272dd56045b16985a3516ef192ec715\n'}, {'number': 5, 'created': '2021-05-06 10:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0446cf4c918c20a89dea37c3da4e348759c3c07f', 'message': 'WIP - Test PKI role\n\nDepends-On: https://review.opendev.org/788021\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/790006\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/790034\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/790035\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/790036\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/790037\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/773378\nChange-Id: I9d53aaf21272dd56045b16985a3516ef192ec715\n'}, {'number': 6, 'created': '2021-05-10 16:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/715bb623dd40c37eaa9b18dd261ddc28d40452e2', 'message': 'WIP - Test PKI role\n\nDepends-On: https://review.opendev.org/788021\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/790006\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/790034\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/790035\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/790036\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/790037\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/773378\nChange-Id: I9d53aaf21272dd56045b16985a3516ef192ec715\n'}, {'number': 7, 'created': '2021-05-11 13:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/59e2be38906f000a48a42b2a84d6a99712d49581', 'message': 'WIP - Test PKI role\n\nDepends-On: https://review.opendev.org/788021\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/790006\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/790034\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/790035\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/790036\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/790037\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/773378\nChange-Id: I9d53aaf21272dd56045b16985a3516ef192ec715\n'}, {'number': 8, 'created': '2021-06-03 08:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cbf54cb5c5f18f386efb12f7f888942dd78f1cab', 'message': 'Add PKI role to integrated repo\n\nChange-Id: I9d53aaf21272dd56045b16985a3516ef192ec715\n'}, {'number': 9, 'created': '2021-06-03 12:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5f82d80292c224b8c10e0e31ca33e2c31b33b1fa', 'message': 'Add PKI role to integrated repo\n\nChange-Id: I9d53aaf21272dd56045b16985a3516ef192ec715\n'}, {'number': 10, 'created': '2021-06-03 12:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/619afe106642cae7f7a89d1bda0de34a1fdd52f1', 'message': 'Add PKI role to integrated repo\n\nChange-Id: I9d53aaf21272dd56045b16985a3516ef192ec715\n'}, {'number': 11, 'created': '2021-06-03 17:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/365caeb65698d15ff7e91d767d18f344261ba0cc', 'message': 'Add PKI role to integrated repo\n\nChange-Id: I9d53aaf21272dd56045b16985a3516ef192ec715\n'}, {'number': 12, 'created': '2021-06-04 15:16:19.000000000', 'files': ['inventory/group_vars/all/ssl.yml', 'doc/source/user/security/ssl-certificates.rst', 'inventory/group_vars/all/infra.yml', 'playbooks/certificate-authority.yml', 'releasenotes/notes/pki-role-4675baf7c0134bfe.yaml', 'playbooks/setup-hosts.yml', 'playbooks/haproxy-install.yml', 'zuul.d/jobs.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e2b42b91bd49712d9fcbbb9dd523b448b083d669', 'message': 'Add PKI role to integrated repo\n\nChange-Id: I9d53aaf21272dd56045b16985a3516ef192ec715\n'}]",2,788031,e2b42b91bd49712d9fcbbb9dd523b448b083d669,61,3,12,25023,,,0,"Add PKI role to integrated repo

Change-Id: I9d53aaf21272dd56045b16985a3516ef192ec715
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/31/788031/12 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/files/user_variables_pki.yml', 'tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'playbooks/rabbitmq-install.yml', 'playbooks/certificate-authority.yml', 'playbooks/setup-hosts.yml', 'playbooks/haproxy-install.yml', 'zuul.d/jobs.yaml', 'ansible-role-requirements.yml']",8,eed5166d61b1c5a798239fd1c54c771e50bb1b52,osa/pki,- name: pki src: https://opendev.org/openstack/ansible-role-pki scm: git trackbranch: master,,81,0
openstack%2Fneutron~master~I19a800a475692bc6e64f98d2eaaaae035e4fbfb6,openstack/neutron,master,I19a800a475692bc6e64f98d2eaaaae035e4fbfb6,[FT] Remove skip guard from SQL tests,MERGED,2021-05-25 11:37:25.000000000,2021-06-08 19:36:01.000000000,2021-06-08 19:33:33.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-25 11:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9bb11669097c6be21d1fb2c7bf39efc1bed35163', 'message': '[FT] Remove skip guard from SQL tests\n\nSince [1], TestModelsMigrations* tests execution time was reduced\nsignificantly. The test skip guard in case of timeout is not needed\nanymore.\n\nRelated-Bug: #1687027\n\n[1]https://review.opendev.org/c/openstack/neutron/+/786029\n\nChange-Id: I19a800a475692bc6e64f98d2eaaaae035e4fbfb6\n'}, {'number': 2, 'created': '2021-05-25 14:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4eabde05f1d0aa51b519e22e0777a83b257f0384', 'message': '[FT] Remove skip guard from SQL tests\n\nSince [1], TestModelsMigrations* tests execution time was reduced\nsignificantly. The test skip guard in case of timeout is not needed\nanymore.\n\nRelated-Bug: #1687027\n\n[1]https://review.opendev.org/c/openstack/neutron/+/786029\n\nChange-Id: I19a800a475692bc6e64f98d2eaaaae035e4fbfb6\n'}, {'number': 3, 'created': '2021-06-03 16:00:04.000000000', 'files': ['neutron/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0b16473d843bde923d74837d4e24911cba14642', 'message': '[FT] Remove skip guard from SQL tests\n\nSince [1], TestModelsMigrations* tests execution time was reduced\nsignificantly. The test skip guard in case of timeout is not needed\nanymore.\n\nRelated-Bug: #1687027\n\n[1]https://review.opendev.org/c/openstack/neutron/+/786029\n\nChange-Id: I19a800a475692bc6e64f98d2eaaaae035e4fbfb6\n'}]",3,792953,d0b16473d843bde923d74837d4e24911cba14642,71,5,3,16688,,,0,"[FT] Remove skip guard from SQL tests

Since [1], TestModelsMigrations* tests execution time was reduced
significantly. The test skip guard in case of timeout is not needed
anymore.

Related-Bug: #1687027

[1]https://review.opendev.org/c/openstack/neutron/+/786029

Change-Id: I19a800a475692bc6e64f98d2eaaaae035e4fbfb6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/792953/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/db/test_migrations.py'],1,9bb11669097c6be21d1fb2c7bf39efc1bed35163,bug/1687027,," @test_base.skip_if_timeout(""bug 1687027"") @test_base.skip_if_timeout(""bug 1687027"") @test_base.skip_if_timeout(""bug 1687027"") @test_base.skip_if_timeout(""bug 1687027"") @test_base.skip_if_timeout(""bug 1687027"") @test_base.skip_if_timeout(""bug 1687027"")",0,6
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Id6a1ab51041a3cd870449399b6793c10bbb1fdca,openstack/tripleo-heat-templates,stable/ussuri,Id6a1ab51041a3cd870449399b6793c10bbb1fdca,Unify cinder's volume and backup kolla_config settings,MERGED,2021-06-06 04:28:41.000000000,2021-06-08 19:33:01.000000000,2021-06-08 19:33:01.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-06 04:28:41.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95835538c9a851eac8f17151234b470892f56d07', 'message': ""Unify cinder's volume and backup kolla_config settings\n\nDefine a common set of kolla config_files and permissions for use by\ncinder's volume and backup services (both pcmk and non-pcmk variants).\nPreviously, there were four different sets and some of them contained\nsubtle errors.\n\nChange-Id: Id6a1ab51041a3cd870449399b6793c10bbb1fdca\n(cherry picked from commit 8d38363a784cfaafddda9e4702dc2289324aea4f)\n(cherry picked from commit 51a9a07810b7bfb4a064d43ec1796aa764600477)\n""}]",0,794972,95835538c9a851eac8f17151234b470892f56d07,7,4,1,21129,,,0,"Unify cinder's volume and backup kolla_config settings

Define a common set of kolla config_files and permissions for use by
cinder's volume and backup services (both pcmk and non-pcmk variants).
Previously, there were four different sets and some of them contained
subtle errors.

Change-Id: Id6a1ab51041a3cd870449399b6793c10bbb1fdca
(cherry picked from commit 8d38363a784cfaafddda9e4702dc2289324aea4f)
(cherry picked from commit 51a9a07810b7bfb4a064d43ec1796aa764600477)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/794972/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml']",5,95835538c9a851eac8f17151234b470892f56d07,cinder-kolla-config," CephClientUserName: default: openstack type: string CephClusterName: type: string default: ceph description: The Ceph cluster name. constraints: - allowed_pattern: ""[a-zA-Z0-9]+"" description: > The Ceph cluster name must be at least 1 character and contain only letters and numbers. cinder_common_kolla_config_files: description: Common kolla config_files for cinder-volume and cinder-backup services value: - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true - source: ""/var/lib/kolla/config_files/src-ceph/"" dest: ""/etc/ceph/"" merge: true preserve_properties: true - source: ""/var/lib/kolla/config_files/src-iscsid/*"" dest: ""/etc/iscsi/"" merge: true preserve_properties: true - source: ""/var/lib/kolla/config_files/src-tls/*"" dest: ""/"" merge: true preserve_properties: true optional: true cinder_common_kolla_permissions: description: Common kolla permissions for cinder-volume and cinder-backup services value: - path: /var/log/cinder owner: cinder:cinder recurse: true - path: str_replace: template: /etc/ceph/CLUSTER.client.USER.keyring params: CLUSTER: {get_param: CephClusterName} USER: {get_param: CephClientUserName} owner: cinder:cinder perm: '0600' - path: /etc/pki/tls/certs/etcd.crt owner: cinder:cinder - path: /etc/pki/tls/private/etcd.key owner: cinder:cinder ",,60,133
openstack%2Fkolla-ansible~stable%2Fussuri~Ie09beb79938ffbcdb5193299511e6eef0b98a258,openstack/kolla-ansible,stable/ussuri,Ie09beb79938ffbcdb5193299511e6eef0b98a258,neutron: Add become for copying sriov_agent.ini,MERGED,2021-06-07 16:58:04.000000000,2021-06-08 19:20:55.000000000,2021-06-08 19:19:09.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-07 16:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/60126560512044d95bb396a6dc18a1cd11883f62', 'message': 'neutron: Add become for copying sriov_agent.ini\n\nThis bug has been accidentally fixed in Victoria by [1].\n\n[1]: https://review.opendev.org/c/openstack/kolla-ansible/+/742627\n\nCloses-Bug: #1923467\nChange-Id: Ie09beb79938ffbcdb5193299511e6eef0b98a258\n'}, {'number': 2, 'created': '2021-06-07 17:00:45.000000000', 'files': ['ansible/roles/neutron/tasks/config.yml', 'releasenotes/notes/bug-1923467-80973d9fbe1f5287.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f3b611f34dfc1ef65517bfd0772d8eac6ef57db', 'message': 'neutron: Add become for copying sriov_agent.ini\n\nThis bug has been accidentally fixed in Victoria by [1].\n\n[1]: https://review.opendev.org/c/openstack/kolla-ansible/+/742627\n\nCloses-Bug: #1923467\nChange-Id: Ie09beb79938ffbcdb5193299511e6eef0b98a258\n'}]",0,795157,6f3b611f34dfc1ef65517bfd0772d8eac6ef57db,18,4,2,22629,,,0,"neutron: Add become for copying sriov_agent.ini

This bug has been accidentally fixed in Victoria by [1].

[1]: https://review.opendev.org/c/openstack/kolla-ansible/+/742627

Closes-Bug: #1923467
Change-Id: Ie09beb79938ffbcdb5193299511e6eef0b98a258
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/795157/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/tasks/config.yml'],1,60126560512044d95bb396a6dc18a1cd11883f62,, become: true,,1,0
openstack%2Fironic~master~I2717953b71df63a9a640c8a45dd7149e6d132bf3,openstack/ironic,master,I2717953b71df63a9a640c8a45dd7149e6d132bf3,Move provision states documentation to the user guide,MERGED,2021-06-01 11:00:45.000000000,2021-06-08 19:01:02.000000000,2021-06-07 14:08:06.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23096}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-01 11:00:45.000000000', 'files': ['doc/source/user/index.rst', 'doc/source/contributor/index.rst', 'doc/source/user/states.rst', 'doc/source/admin/node-deployment.rst', 'doc/source/contributor/states.rst', 'doc/source/install/enrollment.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6a4e33eb0d73690e4a1935e252aa1eee56f42f70', 'message': ""Move provision states documentation to the user guide\n\nNot only is this concept user-facing, it's arguably the most important\nuser-facing concept to grasp, and such it belongs to the user guide.\n\nAdd state aliases and provide helpful links for the features.\n\nChange-Id: I2717953b71df63a9a640c8a45dd7149e6d132bf3\n""}]",0,793946,6a4e33eb0d73690e4a1935e252aa1eee56f42f70,11,5,1,10239,,,0,"Move provision states documentation to the user guide

Not only is this concept user-facing, it's arguably the most important
user-facing concept to grasp, and such it belongs to the user guide.

Add state aliases and provide helpful links for the features.

Change-Id: I2717953b71df63a9a640c8a45dd7149e6d132bf3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/46/793946/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'doc/source/contributor/index.rst', 'doc/source/user/states.rst', 'doc/source/admin/node-deployment.rst', 'doc/source/contributor/states.rst', 'doc/source/install/enrollment.rst']",6,6a4e33eb0d73690e4a1935e252aa1eee56f42f70,doc-states,:doc:`/user/states` documentation.,:doc:`/contributor/states` documentation.,266,234
openstack%2Fopenstack-ansible-openstack_hosts~master~Iee678535d6e96dc8db30c24be24d5c6b152262c0,openstack/openstack-ansible-openstack_hosts,master,Iee678535d6e96dc8db30c24be24d5c6b152262c0,Add CentOS 8.4 support,MERGED,2021-06-07 13:06:29.000000000,2021-06-08 18:49:08.000000000,2021-06-08 18:47:45.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-06-07 13:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/44eb90f8999fd0bd02938b63ef64f28fca4df245', 'message': 'Add CentOS 8.4 support\n\nChange-Id: Iee678535d6e96dc8db30c24be24d5c6b152262c0\n'}, {'number': 2, 'created': '2021-06-07 17:18:54.000000000', 'files': ['vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/6525d563fe1af93fc92e24964b9c2944447034ca', 'message': 'Add CentOS 8.4 support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/794795\nChange-Id: Iee678535d6e96dc8db30c24be24d5c6b152262c0\n'}]",0,795103,6525d563fe1af93fc92e24964b9c2944447034ca,14,3,2,28619,,,0,"Add CentOS 8.4 support

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/794795
Change-Id: Iee678535d6e96dc8db30c24be24d5c6b152262c0
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/03/795103/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-8.yml'],1,44eb90f8999fd0bd02938b63ef64f28fca4df245,osa/el84,," - name: ""centos-openstack-release-*"" state: absent",0,2
openstack%2Fopenstack-ansible-os_tacker~master~Ib8b89fa2664e63245b503780e4fc65d813db0e6f,openstack/openstack-ansible-os_tacker,master,Ib8b89fa2664e63245b503780e4fc65d813db0e6f,Update tacker config,MERGED,2021-06-08 11:44:55.000000000,2021-06-08 18:47:43.000000000,2021-06-08 18:46:23.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-06-08 11:44:55.000000000', 'files': ['templates/tacker.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/906e596a81fd10b4c6275ff622c632b740fbe33d', 'message': ""Update tacker config\n\nTakcer hasn't been paid any attention for a while and current\nconfiguration is not relevant and contain obvious mistakes.\nWhile patch doesn't aim to fully fix all issues, we at least improve\nthings by removing obvious mistakes.\n\nChange-Id: Ib8b89fa2664e63245b503780e4fc65d813db0e6f\n""}]",0,795303,906e596a81fd10b4c6275ff622c632b740fbe33d,8,3,1,28619,,,0,"Update tacker config

Takcer hasn't been paid any attention for a while and current
configuration is not relevant and contain obvious mistakes.
While patch doesn't aim to fully fix all issues, we at least improve
things by removing obvious mistakes.

Change-Id: Ib8b89fa2664e63245b503780e4fc65d813db0e6f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/03/795303/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/tacker.conf.j2'],1,906e596a81fd10b4c6275ff622c632b740fbe33d,,[nfvo_vim]insecure = {{ keystone_service_internaluri_insecure }} region_name = {{ tacker_service_region }} interface = internal service_token_roles_required = True service_token_roles = {{ tacker_role_name }} [tacker],"# Where to store lock files lock_path = $state_path/lock policy_file = {{ tacker_etc_dir }}/policy.json # log_format = %(asctime)s %(levelname)8s [%(name)s] %(message)s # log_date_format = %Y-%m-%d %H:%M:%S # use_syslog -> syslog # log_file and log_dir -> log_dir/log_file # (not log_file) and log_dir -> log_dir/{binary_name}.log # use_stderr -> stderr # (not user_stderr) and (not log_file) -> stdout # publish_errors -> notification system [agent] # Use ""sudo tacker-rootwrap /etc/tacker/rootwrap.conf"" to use the real # root filter facility. # Change to ""sudo"" to skip the filtering and just run the comand directly # root_helper = sudo root_helper = sudo {{ tacker_bin }}/tacker-rootwrap {{ tacker_etc_dir }}/rootwrap.conf [nfvo]signing_dir = /var/cache/tacker",8,24
openstack%2Fproject-config~master~Ib712abce33b5f552965be874d9965a24eb7ec105,openstack/project-config,master,Ib712abce33b5f552965be874d9965a24eb7ec105,Changes to be committed: modified: zuul.d/projects.yaml,ABANDONED,2021-06-08 18:29:28.000000000,2021-06-08 18:44:52.000000000,,"[{'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 18:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/711bfd8407f27be33b43795044770e0d94748505', 'message': 'Changes to be committed:\nmodified: zuul.d/projects.yaml\nChange-Id: Ib712abce33b5f552965be874d9965a24eb7ec105\n'}, {'number': 2, 'created': '2021-06-08 18:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/20d8f31aac4f7382797ba4f4bea9b5fa81fc2b8b', 'message': 'Changes to be committed:\nmodified: zuul.d/projects.yaml\nChange-Id: Ib712abce33b5f552965be874d9965a24eb7ec105\nAdding this change as networking-infoblox plugin has been migrated to support python3.6\n'}, {'number': 3, 'created': '2021-06-08 18:43:47.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b8fa94c7c8409f0f82133b5e21eb88b7636f42d8', 'message': 'Changes to be committed:\nmodified: zuul.d/projects.yaml\n\nRemoved x/networking-infoblox project dependency\nRemoving this as we will be adding our own .zuul.yaml which can handle things\nChange-Id: Ib712abce33b5f552965be874d9965a24eb7ec105\n'}]",0,795396,b8fa94c7c8409f0f82133b5e21eb88b7636f42d8,6,2,3,31511,,,0,"Changes to be committed:
modified: zuul.d/projects.yaml

Removed x/networking-infoblox project dependency
Removing this as we will be adding our own .zuul.yaml which can handle things
Change-Id: Ib712abce33b5f552965be874d9965a24eb7ec105
",git fetch https://review.opendev.org/openstack/project-config refs/changes/96/795396/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,711bfd8407f27be33b43795044770e0d94748505,, - openstack-python36-jobs-neutron, - openstack-python-jobs-neutron,1,1
openstack%2Fpuppet-openstack-guide~master~I75061b15a32a435d26bc45609fc68f02796aec53,openstack/puppet-openstack-guide,master,I75061b15a32a435d26bc45609fc68f02796aec53,Add explanation about dependency management,MERGED,2021-06-06 13:20:05.000000000,2021-06-08 18:29:00.000000000,2021-06-08 18:25:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-06 13:20:05.000000000', 'files': ['doc/source/contributor/coding-style.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/bb57f1e6f9abcf4c1f7a6b2418e70f16133b20d7', 'message': 'Add explanation about dependency management\n\nChange-Id: I75061b15a32a435d26bc45609fc68f02796aec53\n'}]",0,794992,bb57f1e6f9abcf4c1f7a6b2418e70f16133b20d7,11,3,1,9816,,,0,"Add explanation about dependency management

Change-Id: I75061b15a32a435d26bc45609fc68f02796aec53
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/92/794992/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/coding-style.rst'],1,bb57f1e6f9abcf4c1f7a6b2418e70f16133b20d7,dependency,"Adding new depdnency ~~~~~~~~~~~~~~~~~~~~ When you add a new dependency, update ``metadata.json`` in that repository. If the new dependency is not yet used by the other modules, then that should be added to `Puppetfile <https://opendev.org/openstack/puppet-openstack-integration/src/branch/master/Puppetfile>`__ so that the new dependency is installed during tests. If the new depdnency is already used in the other modules, then set the consistent version constraints unless you have a specific requirement, ",,11,0
openstack%2Fpuppet-openstack-guide~master~I560af23a10c701e83eb5f18f47e9d3bf3794cf33,openstack/puppet-openstack-guide,master,I560af23a10c701e83eb5f18f47e9d3bf3794cf33,Remove retired puppet-glare,MERGED,2021-06-05 23:14:50.000000000,2021-06-08 18:27:47.000000000,2021-06-08 18:25:36.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 23:14:50.000000000', 'files': ['doc/source/install/releases.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/7f48f1bd05f1537bf3425ccc3c7d6c1d7cf536c6', 'message': 'Remove retired puppet-glare\n\nChange-Id: I560af23a10c701e83eb5f18f47e9d3bf3794cf33\n'}]",0,794965,7f48f1bd05f1537bf3425ccc3c7d6c1d7cf536c6,8,3,1,9816,,,0,"Remove retired puppet-glare

Change-Id: I560af23a10c701e83eb5f18f47e9d3bf3794cf33
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/65/794965/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/releases.rst'],1,7f48f1bd05f1537bf3425ccc3c7d6c1d7cf536c6,puppet-glare,,| puppet-glare_ | `6.4.0 <http://docs.openstack.org/releasenotes/puppet-glare/>`__ | +---------------------------------+----------------------------------------------------------------------------------+.. _puppet-glare: https://opendev.org/openstack/puppet-glare,0,3
openstack%2Fpuppet-openstack-guide~master~I9e98987fef8c5945d8a928e6c40ac682f534c524,openstack/puppet-openstack-guide,master,I9e98987fef8c5945d8a928e6c40ac682f534c524,Update explanation of puppet CI tests.,MERGED,2021-06-06 12:59:09.000000000,2021-06-08 18:25:44.000000000,2021-06-08 18:25:44.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-06 12:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/220ea10f367eb972c1aaca6bf0524550dd946c0c', 'message': ""Update explanation of puppet CI tests.\n\nThis change updates the current CI documentation based on the following\nthree points.\n\n- Generalize job descriptions so that we don't need to maintain\n  description for each version.\n\n- Explain how we define CI jobs.\n\n- Add some tips to trobleshoot integration job failures.\n\nChange-Id: I9e98987fef8c5945d8a928e6c40ac682f534c524\n""}, {'number': 2, 'created': '2021-06-06 13:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/b7740ed463ac4704d4c4cfc0dfdb986fd7a611c5', 'message': ""Update explanation of puppet CI tests.\n\nThis change updates the current CI documentation based on the following\nthree points.\n\n- Generalize job descriptions so that we don't need to maintain\n  description for each version.\n\n- Explain how we define CI jobs.\n\n- Add some tips to trobleshoot integration job failures.\n\nChange-Id: I9e98987fef8c5945d8a928e6c40ac682f534c524\n""}, {'number': 3, 'created': '2021-06-06 13:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/0d9bde0eaaf4ed01fee79173be5d1cefcb9d2348', 'message': ""Update explanation of puppet CI tests.\n\nThis change updates the current CI documentation based on the following\nthree points.\n\n- Generalize job descriptions so that we don't need to maintain\n  description for each version.\n\n- Explain how we define CI jobs.\n\n- Add some tips to trobleshoot integration job failures.\n\nChange-Id: I9e98987fef8c5945d8a928e6c40ac682f534c524\n""}, {'number': 4, 'created': '2021-06-06 13:46:27.000000000', 'files': ['doc/source/contributor/ci.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/709c2aa6a383d7b0ab2525302b04f272fe7456ee', 'message': ""Update explanation of puppet CI tests.\n\nThis change updates the current CI documentation based on the following\nthree points.\n\n- Generalize job descriptions so that we don't need to maintain\n  description for each version.\n\n- Explain how we define CI jobs.\n\n- Add some tips to trobleshoot integration job failures.\n\nChange-Id: I9e98987fef8c5945d8a928e6c40ac682f534c524\n""}]",1,794989,709c2aa6a383d7b0ab2525302b04f272fe7456ee,16,3,4,9816,,,0,"Update explanation of puppet CI tests.

This change updates the current CI documentation based on the following
three points.

- Generalize job descriptions so that we don't need to maintain
  description for each version.

- Explain how we define CI jobs.

- Add some tips to trobleshoot integration job failures.

Change-Id: I9e98987fef8c5945d8a928e6c40ac682f534c524
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/89/794989/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/ci.rst'],1,220ea10f367eb972c1aaca6bf0524550dd946c0c,ci," * - puppet-openstack-lint-*platform* * - puppet-openstack-syntax-*N*-*platform* run on the specif Puppet version represented by *N*. * - puppet-openstack-unit-*N*-*platform* - RSpec tests for Puppet manifests. *N* represents version of Puppet used in the test. * - puppet-openstack-unit-latest-*platform* * - puppet-openstack-beaker-*N*-*platform* environment on 2 different systems (CentOS and Ubuntu), run * - puppet-openstack-litmus-*N*-*platform* - Litmus jobs to do functional testing. It will prepare the Puppet environment on 2 different systems (CentOS and Ubuntu), run Puppet to configure the module resources and run some tests with serverspec. Litmus has replaced Beaker since Victoria release. - Yes - Read the job logs. Sometimes, the job fails because of packaging issues or mirrors downtime. Please report a bug for this so we can find workarounds. Otherwise, make sure your patch is supposed to work with current tests or you'll have to adapt the tests to change the expected behavior. `More documentation about Litmus <https://puppetlabs.github.io/litmus/>`__ * - puppet-openstack-integration-*N*-scenarioX-tempest-*platform* validate OpenStack is actually working. *N* represents the Puppet version used in the test. To find some more tips to troubleshoot failures of these jobs, check `Troubleshooting Integration Tests``_ Definition of base jobs is maintained in `puppet-openstack-integration<https://opendev.org/openstack/puppet-openstack-integration>`__. From Rocky release, the job definition is described in the yaml files under the `zuul.d<https://opendev.org/openstack/puppet-openstack-integration/src/branch/master/zuul.d>`__ directry. Each module has its own .zuul.yaml file and define a list of jobs executed against any change in that repo. Troubleshooting Integration Tests ------------- When any integration jon fails, the following items in zuul build log help you identify the cause of failures. - Log files for each service is stored in the ``logs/<service name`` directory. - Output of some diagnostic commands like ``ps`` is also stoed in the ``logs`` directory. - Configuration files are stored under the ``logs/etc`` directory. You can check each configuration file to see how parameters are set. - Output of puppet execution is recorded in ``logs/puppet*.txt``. Because we execute puppet 2 times to ensure idempotency, two files are created unless the first run fails. - Tempest output is logged in ``job-outputs.txt``. The report file is created as ``logs/testr_results.html`` . The `copy_logs.sh<https://opendev.org/openstack/puppet-openstack-integration/src/branch/master/copy_logs.sh>`__ is the script to capture log files during CI tests. Please propose any additional items you think are useful."," * - puppet-openstack-lint-ubuntu-bionic * - puppet-openstack-syntax-5 run on the latest Puppet 5.x release. * - puppet-openstack-syntax-6 - Syntax checks for Puppet manifests, templates, and Hiera YAML. The jobs run on the latest Puppet 6.x release. - Yes - Read the job logs to see where the code does not follow the Puppet syntax style. * - puppet-openstack-unit-{5.5,6.4} - RSpec tests for Puppet manifests on Puppet 5 (for Rocky and earlier) and Puppet 6 (for Train and beyond). * - puppet-openstack-unit-latest * - puppet-openstack-beaker-{centos-7,ubuntu-bionic} environment on 2 different systems (CentOS 7 and Ubuntu bionic), run * - puppet-openstack-integration-4-scenarioX-tempest-{centos7,xenial} validate OpenStack is actually working when deploying with Puppet 4 on Queens or earlier. * - puppet-openstack-integration-5-scenarioX-tempest-{centos7,bionic} - Functional testing jobs that will deploy OpenStack run tempest smoke to validate OpenStack is actually working when deploying with Puppet 5 on Rocky and beyond. More details `here <https://github.com/openstack/puppet-openstack-integration#description>`__ - Yes - Read the job logs. Sometimes, the job fails because of packaging issues or mirrors downtime. Please report a bug for this so we can find workarounds. It can also be a problem in Tempest, a new test that is failing or a new parameter which is missing.",59,26
openstack%2Fpuppet-openstack-guide~master~Ib89fcef30c985f11e36ea4225a0c2437e8b50ead,openstack/puppet-openstack-guide,master,Ib89fcef30c985f11e36ea4225a0c2437e8b50ead,Add a note about release note,MERGED,2021-06-06 12:13:34.000000000,2021-06-08 18:25:40.000000000,2021-06-08 18:25:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-06 12:13:34.000000000', 'files': ['doc/source/contributor/coding-style.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/349b12722749625a47c6679e9e1bfbf37b7e34c4', 'message': ""Add a note about release note\n\nWe encourage(and require) people to write a proper release note. Let's\ndocument it in our contributor guide as well.\n\nChange-Id: Ib89fcef30c985f11e36ea4225a0c2437e8b50ead\n""}]",0,794988,349b12722749625a47c6679e9e1bfbf37b7e34c4,8,3,1,9816,,,0,"Add a note about release note

We encourage(and require) people to write a proper release note. Let's
document it in our contributor guide as well.

Change-Id: Ib89fcef30c985f11e36ea4225a0c2437e8b50ead
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/88/794988/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/coding-style.rst'],1,349b12722749625a47c6679e9e1bfbf37b7e34c4,reno,"- Any change in interface (like new parameters, deprecations, and etc) or fundamental behavior should be documented in a release note. In Puppet OpenStack, we use `reno <https://docs.openstack.org/reno/latest/>`__ to maintain release notes. ",,4,0
openstack%2Fkolla-ansible~master~I1823301d5889589bfd48326ed7de03c6061ea5ba,openstack/kolla-ansible,master,I1823301d5889589bfd48326ed7de03c6061ea5ba,Fix RabbitMQ restart ordering,MERGED,2021-06-07 12:11:17.000000000,2021-06-08 17:55:06.000000000,2021-06-08 17:53:11.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-07 12:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/86a6103756f6abafae3c5d9de27640d9281718a2', 'message': ""Fix RabbitMQ restart ordering\n\nThe host list order seen during Ansible handlers may differ to the usual\nplay host list order, due to race conditions in notifying handlers. This\nmeans that restart_services.yml for RabbitMQ may be included in a\ndifferent order than the rabbitmq group, resulting in a node other than\nthe 'first' being restarted first. This can cause some nodes to fail to\njoin the cluster. The include_tasks loop was introduced in [1].\n\nThis change fixes the issue by splitting the handler into two tasks, and\nrestarting the first node before all others.\n\n[1] https://review.opendev.org/c/openstack/kolla-ansible/+/763137\n\nChange-Id: I1823301d5889589bfd48326ed7de03c6061ea5ba\nCloses-Bug: #1930293\n""}, {'number': 2, 'created': '2021-06-08 08:21:04.000000000', 'files': ['ansible/roles/rabbitmq/handlers/main.yml', 'releasenotes/notes/bug-1930293-d8a524f2070e6779.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0cd5b027c985a8f6d3368ae0dc08b65f67f67fe0', 'message': ""Fix RabbitMQ restart ordering\n\nThe host list order seen during Ansible handlers may differ to the usual\nplay host list order, due to race conditions in notifying handlers. This\nmeans that restart_services.yml for RabbitMQ may be included in a\ndifferent order than the rabbitmq group, resulting in a node other than\nthe 'first' being restarted first. This can cause some nodes to fail to\njoin the cluster. The include_tasks loop was introduced in [1].\n\nThis change fixes the issue by splitting the handler into two tasks, and\nrestarting the first node before all others.\n\n[1] https://review.opendev.org/c/openstack/kolla-ansible/+/763137\n\nChange-Id: I1823301d5889589bfd48326ed7de03c6061ea5ba\nCloses-Bug: #1930293\n""}]",1,795091,0cd5b027c985a8f6d3368ae0dc08b65f67f67fe0,37,3,2,14826,,,0,"Fix RabbitMQ restart ordering

The host list order seen during Ansible handlers may differ to the usual
play host list order, due to race conditions in notifying handlers. This
means that restart_services.yml for RabbitMQ may be included in a
different order than the rabbitmq group, resulting in a node other than
the 'first' being restarted first. This can cause some nodes to fail to
join the cluster. The include_tasks loop was introduced in [1].

This change fixes the issue by splitting the handler into two tasks, and
restarting the first node before all others.

[1] https://review.opendev.org/c/openstack/kolla-ansible/+/763137

Change-Id: I1823301d5889589bfd48326ed7de03c6061ea5ba
Closes-Bug: #1930293
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/91/795091/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/handlers/main.yml', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'releasenotes/notes/bug-1930293-d8a524f2070e6779.yaml']",4,86a6103756f6abafae3c5d9de27640d9281718a2,,--- fixes: - | Fixes more-than-2-node RabbitMQ upgrade failing randomly. `LP#1930293 <https://launchpad.net/bugs/1930293>`__. ,,19,53
openstack%2Fkayobe~master~Ia4c70965d9f3f099046591bac7f702ee982fef71,openstack/kayobe,master,Ia4c70965d9f3f099046591bac7f702ee982fef71,"Revert ""Use OpenStack Wallaby release""",MERGED,2021-05-17 15:25:15.000000000,2021-06-08 17:53:50.000000000,2021-06-08 17:50:59.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 15:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b3e535d9bc99aadc6b1339b4c903fe5143b03f61', 'message': 'Revert ""Use OpenStack Wallaby release""\n\nThis reverts commit 3f76d7d134d1f484d2ea21fddd0fbee00788e837.\n\nChange-Id: Ia4c70965d9f3f099046591bac7f702ee982fef71\n'}, {'number': 2, 'created': '2021-05-18 10:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/adac2d2997a5cc6086f01e79f94320f996c18ce1', 'message': 'Revert ""Use OpenStack Wallaby release""\n\nThis reverts commit 3f76d7d134d1f484d2ea21fddd0fbee00788e837.\n\nThe version of IPA images has been pinned to wallaby to ensure they are\ncompatible with the Wallaby Ironic in current Kolla master images.\nWithout this, bare metal tests fail with\n\n    \'Not found: Extension with id iscsi not found.\'\n\nIronic removed the iscsi driver in Xena.\n\nChange-Id: Ia4c70965d9f3f099046591bac7f702ee982fef71\n'}, {'number': 3, 'created': '2021-06-07 14:20:21.000000000', 'files': ['ansible/group_vars/all/openstack', 'ansible/group_vars/all/ipa', 'etc/kayobe/openstack.yml', 'tox.ini', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1dc6d98be73a4f5c795d66a9c8bd35c779e1f682', 'message': 'Revert ""Use OpenStack Wallaby release""\n\nThis reverts commit 3f76d7d134d1f484d2ea21fddd0fbee00788e837.\n\nThe version of IPA images has been pinned to wallaby to ensure they are\ncompatible with the Wallaby Ironic in current Kolla master images.\nWithout this, bare metal tests fail with\n\n    \'Not found: Extension with id iscsi not found.\'\n\nIronic removed the iscsi driver in Xena.\n\nChange-Id: Ia4c70965d9f3f099046591bac7f702ee982fef71\n'}]",0,791764,1dc6d98be73a4f5c795d66a9c8bd35c779e1f682,19,4,3,14826,,,0,"Revert ""Use OpenStack Wallaby release""

This reverts commit 3f76d7d134d1f484d2ea21fddd0fbee00788e837.

The version of IPA images has been pinned to wallaby to ensure they are
compatible with the Wallaby Ironic in current Kolla master images.
Without this, bare metal tests fail with

    'Not found: Extension with id iscsi not found.'

Ironic removed the iscsi driver in Xena.

Change-Id: Ia4c70965d9f3f099046591bac7f702ee982fef71
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/64/791764/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/openstack', 'etc/kayobe/openstack.yml', 'tox.ini', 'zuul.d/jobs.yaml']",4,b3e535d9bc99aadc6b1339b4c903fe5143b03f61,,, # TODO(mnasiadka): Remove when kayobe stable/wallaby exists. override-checkout: stable/wallaby # TODO(mnasiadka): Remove when kayobe stable/wallaby exists. override-checkout: stable/wallaby # TODO(mnasiadka): Remove when kayobe stable/wallaby exists. override-checkout: stable/wallaby,10,16
openstack%2Frequirements~master~I0c48b83769a7e71b59fa61e30b9313edb1d3608d,openstack/requirements,master,I0c48b83769a7e71b59fa61e30b9313edb1d3608d,Updated from generate-constraints,ABANDONED,2021-06-08 06:32:26.000000000,2021-06-08 17:52:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-08 06:32:26.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0d070c17f7cec6ec1c6ddefa55384a0cc045ad36', 'message': 'Updated from generate-constraints\n\nChange-Id: I0c48b83769a7e71b59fa61e30b9313edb1d3608d\n'}]",0,795221,0d070c17f7cec6ec1c6ddefa55384a0cc045ad36,4,1,1,11131,,,0,"Updated from generate-constraints

Change-Id: I0c48b83769a7e71b59fa61e30b9313edb1d3608d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/21/795221/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0d070c17f7cec6ec1c6ddefa55384a0cc045ad36,openstack/requirements/constraints,neutron-lib===2.12.0XStatic-Angular===1.8.2.1SQLAlchemy===1.4.17eventlet===0.31.0docutils===0.17.1boto3===1.17.89Sphinx===4.0.2botocore===1.20.89pkg-resources===0.0.0xmlschema===1.6.3fasteners===0.16.2,neutron-lib===2.11.0XStatic-Angular===1.5.8.0SQLAlchemy===1.3.23eventlet===0.30.2docutils===0.16boto3===1.17.88Sphinx===3.5.4botocore===1.20.88xmlschema===1.6.2fasteners===0.14.1setuptools===57.0.0,11,11
openstack%2Fneutron~master~Ia044a0f1f0086d3313b01b03cbc498551c6a8e9d,openstack/neutron,master,Ia044a0f1f0086d3313b01b03cbc498551c6a8e9d,"Add ""filter-validation"" support for ""OVNL3RouterPlugin""",MERGED,2021-05-26 07:35:49.000000000,2021-06-08 17:38:30.000000000,2021-06-08 17:36:23.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-26 07:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e41b043d0635e0b0c77374862b076b112ed69602', 'message': 'Add ""filter-validation"" support for ""OVNL3RouterPlugin""\n\nChange-Id: Ia044a0f1f0086d3313b01b03cbc498551c6a8e9d\nCloses-Bug: #1929658\n'}, {'number': 2, 'created': '2021-06-03 15:58:41.000000000', 'files': ['neutron/services/ovn_l3/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2244af771f6aec1b67770522645ca5ce023950a9', 'message': 'Add ""filter-validation"" support for ""OVNL3RouterPlugin""\n\nChange-Id: Ia044a0f1f0086d3313b01b03cbc498551c6a8e9d\nCloses-Bug: #1929658\n'}]",0,793109,2244af771f6aec1b67770522645ca5ce023950a9,27,6,2,16688,,,0,"Add ""filter-validation"" support for ""OVNL3RouterPlugin""

Change-Id: Ia044a0f1f0086d3313b01b03cbc498551c6a8e9d
Closes-Bug: #1929658
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/793109/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/ovn_l3/plugin.py'],1,e41b043d0635e0b0c77374862b076b112ed69602,bug/1929658, __filter_validation_support = True,,1,0
openstack%2Fbarbican~master~Ibcaf9929c35dc62ff2aedbe9a3c21be5d3ae1b1d,openstack/barbican,master,Ibcaf9929c35dc62ff2aedbe9a3c21be5d3ae1b1d,docs: Update Freenode to OFTC,MERGED,2021-06-08 13:58:58.000000000,2021-06-08 17:25:01.000000000,2021-06-08 17:23:36.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 13:58:58.000000000', 'files': ['doc/source/contributor/contributing.rst', 'doc/source/contributor/getting_involved.rst', 'README.rst', 'doc/source/configuration/troubleshooting.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/b5d10b3c03595f9b5c58071a5d3b7df172f2023d', 'message': 'docs: Update Freenode to OFTC\n\nsee: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html\nChange-Id: Ibcaf9929c35dc62ff2aedbe9a3c21be5d3ae1b1d\n'}]",0,795337,b5d10b3c03595f9b5c58071a5d3b7df172f2023d,12,3,1,26285,,,0,"docs: Update Freenode to OFTC

see: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html
Change-Id: Ibcaf9929c35dc62ff2aedbe9a3c21be5d3ae1b1d
",git fetch https://review.opendev.org/openstack/barbican refs/changes/37/795337/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'doc/source/contributor/getting_involved.rst', 'README.rst', 'doc/source/configuration/troubleshooting.rst']",4,b5d10b3c03595f9b5c58071a5d3b7df172f2023d,,you can ask questions on the OFTC IRC channel ``#openstack-barbican``,you can ask questions on the Freenode IRC channel ``#openstack-barbican``,7,7
openstack%2Ftripleo-repos~master~I4c65db70abb6972671f38628aa3e37eaaf30c767,openstack/tripleo-repos,master,I4c65db70abb6972671f38628aa3e37eaaf30c767,Fixup setup.cfg paths for tripleo-get-hash,MERGED,2021-05-19 11:04:07.000000000,2021-06-08 17:07:22.000000000,2021-06-08 17:07:22.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-05-19 11:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/5e7d6943669b415badb408c7874beac0729cdee3', 'message': 'Fixup setup.cfg paths for tripleo-get-hash\n\nUse /usr/local/etc for config.yaml and share/ (not absolute) for\nthe ansible python module. With pip user install these resolve to\n\n/home/u/.local/lib/python3.9/site-packages/usr/local/etc/tripleo_get_hash\n/home/u/.local/share/ansible/plugins/modules/tripleo_get_hash.py\n\nAdjusts config search path to include the /usr/local prefix\n\nChange-Id: I4c65db70abb6972671f38628aa3e37eaaf30c767\n'}, {'number': 2, 'created': '2021-05-20 10:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/774ead60ecc0a7af93fa8870ce156bf439ec50b6', 'message': 'Fixup setup.cfg paths for tripleo-get-hash\n\nUse relative paths for etc/config.yaml and share/ (not absolute) for\nthe ansible python module. With pip user install these resolve to\n\nAlso fixup setup.cfg to use data files and not options.data_files\nas the latter is not available on setuptools < 40\n\nChange-Id: I4c65db70abb6972671f38628aa3e37eaaf30c767\n'}, {'number': 3, 'created': '2021-05-28 10:06:30.000000000', 'files': ['tripleo-get-hash/setup.cfg', 'tripleo-get-hash/tripleo_get_hash/tripleo_hash_info.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/e86d75219cbbcd54c2e06391f153dd0ffb3d6c14', 'message': 'Fixup setup.cfg paths for tripleo-get-hash\n\nUse relative paths for etc/config.yaml and share/ (not absolute) for\nthe ansible python module.\n\nAlso fixup setup.cfg to use data files and not options.data_files\nas the latter is not available on setuptools < 40\n\nChange-Id: I4c65db70abb6972671f38628aa3e37eaaf30c767\n'}]",1,792126,e86d75219cbbcd54c2e06391f153dd0ffb3d6c14,16,7,3,8449,,,0,"Fixup setup.cfg paths for tripleo-get-hash

Use relative paths for etc/config.yaml and share/ (not absolute) for
the ansible python module.

Also fixup setup.cfg to use data files and not options.data_files
as the latter is not available on setuptools < 40

Change-Id: I4c65db70abb6972671f38628aa3e37eaaf30c767
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/26/792126/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo-get-hash/setup.cfg', 'tripleo-get-hash/tripleo_get_hash/tripleo_hash_info.py']",2,5e7d6943669b415badb408c7874beac0729cdee3,tripleo-get-hash," pip install (--user) try ../local/etc/tripleo_get_hash/ for _path in ['config.yaml', 'usr/local/etc/tripleo_get_hash/config.yaml']:"," pip install (--user) try ../etc/tripleo_get_hash/config.yaml for _path in ['config.yaml', 'etc/tripleo_get_hash/config.yaml']:",4,3
openstack%2Fopenstack-ansible-rsyslog_client~master~I8fe2fc62e3be7dc586579c019d86db2a19bbfd0c,openstack/openstack-ansible-rsyslog_client,master,I8fe2fc62e3be7dc586579c019d86db2a19bbfd0c,Add support for debian bullseye,MERGED,2021-05-13 16:46:39.000000000,2021-06-08 17:07:12.000000000,2021-06-08 17:03:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-13 16:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/97af2721e12bdc4bb7a8643d96b362a8035fea21', 'message': 'Add support for debian bullseye\n\nChange-Id: I8fe2fc62e3be7dc586579c019d86db2a19bbfd0c\n'}, {'number': 2, 'created': '2021-06-03 08:29:14.000000000', 'files': ['vars/debian-11.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/8a80f9785783250a46a0f689d7fe5e8c7c993a09', 'message': 'Add support for debian bullseye\n\nChange-Id: I8fe2fc62e3be7dc586579c019d86db2a19bbfd0c\n'}]",0,791288,8a80f9785783250a46a0f689d7fe5e8c7c993a09,28,4,2,25023,,,0,"Add support for debian bullseye

Change-Id: I8fe2fc62e3be7dc586579c019d86db2a19bbfd0c
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/88/791288/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian-11.yml'],1,97af2721e12bdc4bb7a8643d96b362a8035fea21,osa/bullseye,"--- # Copyright 2020, VEXXHOST, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. rsyslog_client_distro_packages: - rsyslog - logrotate rsyslog_client_already_handled_files: - /var/log/alternatives.log - /var/log/apt/history.log - /var/log/apt/term.log - /var/log/daemon.log - /var/log/dpkg.log - /var/log/auth.log - /var/log/kern.log - /var/log/unattended-upgrades/unattended-upgrades-shutdown.log - /var/log/user.log rsyslog_client_reload: 'systemctl restart rsyslog > /dev/null 2>&1 || true' rsyslog_system_logfile: /var/log/syslog rsyslog_logfile_user: syslog rsyslog_logfile_group: adm rsyslog_logfile_drop_user: syslog rsyslog_logfile_drop_group: syslog ",,41,0
openstack%2Fopenstack-ansible-rsyslog_client~master~Ia97374f6e647a049149ebf2be984c966676441e1,openstack/openstack-ansible-rsyslog_client,master,Ia97374f6e647a049149ebf2be984c966676441e1,Replace linters test with integarted one,MERGED,2021-06-02 15:22:51.000000000,2021-06-08 17:05:35.000000000,2021-06-08 17:03:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-02 15:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/3c98f076bbd16869acb5300b9ce96263dfd96442', 'message': ""Replace linters test with integarted one\n\nWe've created integrated linters check job a while back and it's successfully\nworking for several releases. At the moment we experience difficulties\nwith future maintenance of the linters check from the openstack-ansible-tests\nrepo. So instead of fixing current one, we replace it with modern version of\nthe test.\n\nWe also replace regular functional tests with integrated scenario.\n\nChange-Id: Ia97374f6e647a049149ebf2be984c966676441e1\n""}, {'number': 2, 'created': '2021-06-02 15:25:16.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/d6c54225016d23af16e9210346dcd6ad822d797c', 'message': ""Replace linters test with integarted one\n\nWe've created integrated linters check job a while back and it's successfully\nworking for several releases. At the moment we experience difficulties\nwith future maintenance of the linters check from the openstack-ansible-tests\nrepo. So instead of fixing current one, we replace it with modern version of\nthe test.\n\nWe also replace regular functional tests with integrated scenario.\n\nChange-Id: Ia97374f6e647a049149ebf2be984c966676441e1\n""}]",0,794254,d6c54225016d23af16e9210346dcd6ad822d797c,39,3,2,28619,,,0,"Replace linters test with integarted one

We've created integrated linters check job a while back and it's successfully
working for several releases. At the moment we experience difficulties
with future maintenance of the linters check from the openstack-ansible-tests
repo. So instead of fixing current one, we replace it with modern version of
the test.

We also replace regular functional tests with integrated scenario.

Change-Id: Ia97374f6e647a049149ebf2be984c966676441e1
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/54/794254/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,3c98f076bbd16869acb5300b9ce96263dfd96442,integrated_linters, - openstack-ansible-linters-jobs - openstack-ansible-deploy-infra_lxc-jobs, - openstack-ansible-role-jobs - openstack-ansible-deploy-aio_metal-jobs - openstack-ansible-deploy-aio_distro_metal-jobs,2,3
openstack%2Foctavia~stable%2Fwallaby~I99ce408ec886820c056b69696b26be9521740f1c,openstack/octavia,stable/wallaby,I99ce408ec886820c056b69696b26be9521740f1c,Fix comment for the ca_certificates_file opt,MERGED,2021-05-17 07:40:56.000000000,2021-06-08 16:53:35.000000000,2021-06-08 16:51:27.000000000,"[{'_account_id': 6476}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 07:40:56.000000000', 'files': ['octavia/common/config.py', 'etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/20db85fd5236a4daed7ab29931fed91da2295ab0', 'message': 'Fix comment for the ca_certificates_file opt\n\nThe directive [certificates]/ca_certificates_file currently has a\nconfusing comment. This tries to fix it and make it more easy for\nOctavia operators to configure the directive.\n\nChange-Id: I99ce408ec886820c056b69696b26be9521740f1c\n(cherry picked from commit ee0da827b163c15796bf2f19b0785bc0259d5128)\n'}]",0,791670,20db85fd5236a4daed7ab29931fed91da2295ab0,10,4,1,6469,,,0,"Fix comment for the ca_certificates_file opt

The directive [certificates]/ca_certificates_file currently has a
confusing comment. This tries to fix it and make it more easy for
Octavia operators to configure the directive.

Change-Id: I99ce408ec886820c056b69696b26be9521740f1c
(cherry picked from commit ee0da827b163c15796bf2f19b0785bc0259d5128)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/70/791670/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'etc/octavia.conf']",2,20db85fd5236a4daed7ab29931fed91da2295ab0,, # Settings for the key manager endpoint (such as Barbican) # Region in Identity service catalog to use for communication with the key manager service. # Endpoint type to use for communication with the key manager service.# CA certificates file to verify key manager connections when TLS is enabled # ca_certificates_file = # Disable certificate validation on SSL connections # insecure = False ,# # Region in Identity service catalog to use for communication with the Barbican service.# # Endpoint type to use for communication with the Barbican service.,14,5
openstack%2Fironic~master~I369bdbb17064baf34f90e864d0ece600529de509,openstack/ironic,master,I369bdbb17064baf34f90e864d0ece600529de509,Redfish: Get only RAID controller's physical disks,MERGED,2021-06-07 09:37:41.000000000,2021-06-08 16:53:33.000000000,2021-06-08 16:49:28.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-07 09:37:41.000000000', 'files': ['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4b29f2b955b07b382fcc823a6d757a552bac4048', 'message': ""Redfish: Get only RAID controller's physical disks\n\nBased on Redfish's SupportedRAIDTypes collect only\nphysical disks of RAID controllers.\n\nChange-Id: I369bdbb17064baf34f90e864d0ece600529de509\n""}]",0,795074,4b29f2b955b07b382fcc823a6d757a552bac4048,12,4,1,27909,,,0,"Redfish: Get only RAID controller's physical disks

Based on Redfish's SupportedRAIDTypes collect only
physical disks of RAID controllers.

Change-Id: I369bdbb17064baf34f90e864d0ece600529de509
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/795074/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py']",2,4b29f2b955b07b382fcc823a6d757a552bac4048,nonraid-storage," mock_controller.raid_types = ['RAID1', 'RAID5', 'RAID10'] def test_get_physical_disks(self, mock_get_system): nonraid_controller = mock.Mock() nonraid_controller.raid_types = [] nonraid_storage = mock.MagicMock() nonraid_storage.storage_controllers = [nonraid_controller] nonraid_storage.drives = [_mock_drive( identity='Drive1', block_size_bytes=512, capacity_bytes=899527000000, media_type='HDD', name='Drive', protocol='SAS')] mock_get_system.return_value.storage.get_members.return_value = [ nonraid_storage, self.mock_storage] with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: disks, disk_to_controller = redfish_raid.get_physical_disks( task.node) for drive in self.mock_storage.drives: self.assertIn(drive, disks) self.assertIn(drive, disk_to_controller) self.assertNotIn(nonraid_storage.drives[0], disks) self.assertNotIn(nonraid_storage.drives[0], disk_to_controller)",,30,2
openstack%2Fneutron~stable%2Fvictoria~Id09de6c43c0fab4009336e253c88f54219398053,openstack/neutron,stable/victoria,Id09de6c43c0fab4009336e253c88f54219398053,HA-non-DVR router don't need manually add static route,MERGED,2021-05-25 00:57:04.000000000,2021-06-08 16:52:43.000000000,2021-06-08 16:47:03.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-25 00:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/037cb7a0f9236076f05243edd4dc1aa9467bece0', 'message': ""HA-non-DVR router don't need manually add static route\n\nWhen a router set as HA mode, The keepalived process will take over\nthe route entry's generation. So, the codes that add static route\nis redundant.\n\nBut, for DVR-HA router, in dvr_snat node the keepalived process run\nin snat-namespace and don't take over qrouter-namespace, so the\nmanually add static route codes still need be called.\n\nCloses-Bug: #1927849\nChange-Id: Id09de6c43c0fab4009336e253c88f54219398053\n(cherry picked from commit f192153b449877e00c57c2b2a1b8ce89c9c733da)\n""}, {'number': 2, 'created': '2021-06-04 15:35:49.000000000', 'files': ['neutron/agent/l3/ha_router.py', 'neutron/tests/unit/agent/l3/test_ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/531cb5bef7b5943fff7a2efa4c92fb304193b514', 'message': ""HA-non-DVR router don't need manually add static route\n\nWhen a router set as HA mode, The keepalived process will take over\nthe route entry's generation. So, the codes that add static route\nis redundant.\n\nBut, for DVR-HA router, in dvr_snat node the keepalived process run\nin snat-namespace and don't take over qrouter-namespace, so the\nmanually add static route codes still need be called.\n\nCloses-Bug: #1927849\nChange-Id: Id09de6c43c0fab4009336e253c88f54219398053\n(cherry picked from commit f192153b449877e00c57c2b2a1b8ce89c9c733da)\n""}]",0,792875,531cb5bef7b5943fff7a2efa4c92fb304193b514,40,3,2,28329,,,0,"HA-non-DVR router don't need manually add static route

When a router set as HA mode, The keepalived process will take over
the route entry's generation. So, the codes that add static route
is redundant.

But, for DVR-HA router, in dvr_snat node the keepalived process run
in snat-namespace and don't take over qrouter-namespace, so the
manually add static route codes still need be called.

Closes-Bug: #1927849
Change-Id: Id09de6c43c0fab4009336e253c88f54219398053
(cherry picked from commit f192153b449877e00c57c2b2a1b8ce89c9c733da)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/792875/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/tests/unit/agent/l3/test_ha_router.py']",2,037cb7a0f9236076f05243edd4dc1aa9467bece0,bug/1927849-stable/victoria," def test_routes_updated_with_dvr(self): ri = self._create_router(router={'distributed': True}) ri.keepalived_manager = mock.Mock() base_routes_updated = mock.patch( 'neutron.agent.l3.router_info.' 'RouterInfo.routes_updated').start() mock_instance = mock.Mock() mock_instance.virtual_routes.gateway_routes = [] ri._get_keepalived_instance = mock.Mock( return_value=mock_instance) ri.routes_updated([], []) self.assertTrue(base_routes_updated.called) def test_routes_updated_with_non_dvr(self): ri = self._create_router(router={'distributed': False}) ri.keepalived_manager = mock.Mock() base_routes_updated = mock.patch( 'neutron.agent.l3.router_info.' 'RouterInfo.routes_updated').start() mock_instance = mock.Mock() mock_instance.virtual_routes.gateway_routes = [] ri._get_keepalived_instance = mock.Mock(return_value=mock_instance) ri.routes_updated([], []) self.assertFalse(base_routes_updated.called) ",,28,1
openstack%2Freleases~master~Ie919f2501967878257aea056a742d78afe5194f1,openstack/releases,master,Ie919f2501967878257aea056a742d78afe5194f1,Release wallaby tripleo-common python-tripleoclient,MERGED,2021-06-07 15:34:54.000000000,2021-06-08 16:48:17.000000000,2021-06-08 16:48:17.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 11904}, {'_account_id': 13861}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-07 15:34:54.000000000', 'files': ['deliverables/wallaby/tripleo-common.yaml', 'deliverables/wallaby/python-tripleoclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/734d2718ae44cde94e80a0a152417e901d53fc70', 'message': 'Release wallaby tripleo-common python-tripleoclient\n\nWallaby repos for tripleo were recently released with [1] however\nwe need a new tag for related-bug.\n\nRelated-Bug: 1930906\n[1] https://review.opendev.org/c/openstack/releases/+/791959\n\nChange-Id: Ie919f2501967878257aea056a742d78afe5194f1\n'}]",0,795126,734d2718ae44cde94e80a0a152417e901d53fc70,9,7,1,8449,,,0,"Release wallaby tripleo-common python-tripleoclient

Wallaby repos for tripleo were recently released with [1] however
we need a new tag for related-bug.

Related-Bug: 1930906
[1] https://review.opendev.org/c/openstack/releases/+/791959

Change-Id: Ie919f2501967878257aea056a742d78afe5194f1
",git fetch https://review.opendev.org/openstack/releases refs/changes/26/795126/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/tripleo-common.yaml', 'deliverables/wallaby/python-tripleoclient.yaml']",2,734d2718ae44cde94e80a0a152417e901d53fc70,, - version: 16.2.1 projects: - repo: openstack/python-tripleoclient hash: c5b1e0c25325be771bba9fdd864a0c16c1941d9f,,8,0
openstack%2Fopenstack-ansible~master~I71781607c0d2c2bb4682920f7d3c959dc72355f1,openstack/openstack-ansible,master,I71781607c0d2c2bb4682920f7d3c959dc72355f1,Gather extra facts for healthcheck playbooks,MERGED,2021-06-04 12:40:21.000000000,2021-06-08 16:45:26.000000000,2021-06-08 16:42:24.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-04 12:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9dce02dbb3148c89933b11db01a00f516d0175b2', 'message': 'Gather extra facts for healthcheck playbooks\n\nChange-Id: I71781607c0d2c2bb4682920f7d3c959dc72355f1\n'}, {'number': 2, 'created': '2021-06-07 16:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cd437672d3bcebe15f87470e4e796426bb30b7b9', 'message': 'Gather extra facts for healthcheck playbooks\n\nChange-Id: I71781607c0d2c2bb4682920f7d3c959dc72355f1\n'}, {'number': 3, 'created': '2021-06-07 17:19:53.000000000', 'files': ['playbooks/healthcheck-hosts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/249eaceb1ba9b7428958ec345b5b4794a691c9d7', 'message': 'Gather extra facts for healthcheck playbooks\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/795102\nChange-Id: I71781607c0d2c2bb4682920f7d3c959dc72355f1\n'}]",0,794795,249eaceb1ba9b7428958ec345b5b4794a691c9d7,16,4,3,28619,,,0,"Gather extra facts for healthcheck playbooks

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/795102
Change-Id: I71781607c0d2c2bb4682920f7d3c959dc72355f1
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/95/794795/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/healthcheck-hosts.yml'],1,9dce02dbb3148c89933b11db01a00f516d0175b2,," - name: Gather additional facts include_tasks: ""common-tasks/gather-hardware-facts.yml"" vars: deployment_extra_facts_filter: ansible_interfaces deployment_extra_facts_subset: ""!all,network"" ",,6,0
openstack%2Fproject-config~master~Iedd55d1e225080cf79cbfe73182f2aab33e33db9,openstack/project-config,master,Iedd55d1e225080cf79cbfe73182f2aab33e33db9,Drop logstash filter jobs,MERGED,2021-05-21 23:27:38.000000000,2021-06-08 16:37:28.000000000,2021-06-08 16:37:28.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-21 23:27:38.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8542a78d9ff1afe0f081af4e235a786fcca30f61', 'message': ""Drop logstash filter jobs\n\nThese jobs use complicated old school puppetry. If we're going to\nmaintain these logstash resources going forward we need to rewrite the\nconfig management and the testing of the filters. We drop the testing\nhere as it runs aggressively in some places even though this code has\nbeen largely static since May 2017.\n\nChange-Id: Iedd55d1e225080cf79cbfe73182f2aab33e33db9\n""}]",0,792710,8542a78d9ff1afe0f081af4e235a786fcca30f61,8,3,1,4146,,,0,"Drop logstash filter jobs

These jobs use complicated old school puppetry. If we're going to
maintain these logstash resources going forward we need to rewrite the
config management and the testing of the filters. We drop the testing
here as it runs aggressively in some places even though this code has
been largely static since May 2017.

Change-Id: Iedd55d1e225080cf79cbfe73182f2aab33e33db9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/10/792710/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,8542a78d9ff1afe0f081af4e235a786fcca30f61,drop-logstash-filter-jobs,, - system-config-logstash-filter-jobs,0,1
openstack%2Fpython-ironic-inspector-client~master~I1bbd972a7fb8dc268ee03ae766ee7bcb44c57a3b,openstack/python-ironic-inspector-client,master,I1bbd972a7fb8dc268ee03ae766ee7bcb44c57a3b,[doc] Fix lldp_basic name,MERGED,2021-06-04 11:54:16.000000000,2021-06-08 16:34:38.000000000,2021-06-08 16:33:05.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-04 11:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/6683a2d36b4179b1c2577ff05b1fc548b4f20a8e', 'message': '[doc] Fix lldp_basic name\n\nAnd add another example of a LLDP-relevant plugin.\n\nChange-Id: I1bbd972a7fb8dc268ee03ae766ee7bcb44c57a3b\n'}, {'number': 2, 'created': '2021-06-07 07:39:35.000000000', 'files': ['ironic_inspector_client/v1.py'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/4046b745c812d014e45b9031390d00b4cf7da15f', 'message': '[doc] Fix lldp_basic name\n\nAnd add another example of a LLDP-relevant plugin.\n\nChange-Id: I1bbd972a7fb8dc268ee03ae766ee7bcb44c57a3b\n'}]",0,794782,4046b745c812d014e45b9031390d00b4cf7da15f,14,5,2,30491,,,0,"[doc] Fix lldp_basic name

And add another example of a LLDP-relevant plugin.

Change-Id: I1bbd972a7fb8dc268ee03ae766ee7bcb44c57a3b
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/82/794782/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector_client/v1.py', 'releasenotes/notes/interface-list-show-39cedaca3cd9db9b.yaml']",2,6683a2d36b4179b1c2577ff05b1fc548b4f20a8e,doc-lldp-fix, ``ipa-collect-lldp=1`` and the inspector plugin ``lldp_basic`` must, ``ipa-collect-lldp=1`` and the inspector plugin ``basic_lldp`` must,3,3
openstack%2Fansible-role-collect-logs~master~I58392e43fb786c0ab93e51ff12849c925f65d4e1,openstack/ansible-role-collect-logs,master,I58392e43fb786c0ab93e51ff12849c925f65d4e1,Add errors.txt in artcl_logstash_files,ABANDONED,2021-06-08 16:03:05.000000000,2021-06-08 16:04:44.000000000,,[],"[{'number': 1, 'created': '2021-06-08 16:03:05.000000000', 'files': ['plugins/modules/sova.py', 'roles/collect_logs/defaults/main.yml', 'roles/collect_logs/tasks/collect/system.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/a5b22e16b14af38da2be4a8dd24a0bc2d696ff22', 'message': 'Add errors.txt in artcl_logstash_files\n\nRemoving duplicate .txt extension from errors.txt.txt. Caused by\nreaddition of .txt extension[1].\n\nAdding errors.txt in artcl_logstash_files so that logstash pick\nthis up.\n\nAs size of logstash file is a factor, Adding errors.txt instead of\nindividual files seems better approach as errors.txt only contains\nerror/traceback from different log files.\n\n[1] https://opendev.org/openstack/ansible-role-collect-logs/src/branch/master/roles/collect_logs/tasks/collect/system.yml#L15\nChange-Id: Ib4519943d6b0ca4607f168318dff11a6d1713796\n\nChange-Id: I58392e43fb786c0ab93e51ff12849c925f65d4e1\n'}]",0,795366,a5b22e16b14af38da2be4a8dd24a0bc2d696ff22,2,0,1,29775,,,0,"Add errors.txt in artcl_logstash_files

Removing duplicate .txt extension from errors.txt.txt. Caused by
readdition of .txt extension[1].

Adding errors.txt in artcl_logstash_files so that logstash pick
this up.

As size of logstash file is a factor, Adding errors.txt instead of
individual files seems better approach as errors.txt only contains
error/traceback from different log files.

[1] https://opendev.org/openstack/ansible-role-collect-logs/src/branch/master/roles/collect_logs/tasks/collect/system.yml#L15
Change-Id: Ib4519943d6b0ca4607f168318dff11a6d1713796

Change-Id: I58392e43fb786c0ab93e51ff12849c925f65d4e1
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/66/795366/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/sova.py', 'roles/collect_logs/defaults/main.yml', 'roles/collect_logs/tasks/collect/system.yml']",3,a5b22e16b14af38da2be4a8dd24a0bc2d696ff22,, mv /tmp/errors.txt /var/log/extra/${ERR_NAME}, mv /tmp/errors.txt /var/log/extra/${ERR_NAME}.txt,4,3
openstack%2Fkolla-ansible~stable%2Fussuri~I2d0615ce6914e1f875a2647c8a95b86dd17eeb22,openstack/kolla-ansible,stable/ussuri,I2d0615ce6914e1f875a2647c8a95b86dd17eeb22,Add forgotten 'Restart container' handler for swift,MERGED,2021-06-08 09:58:26.000000000,2021-06-08 16:01:52.000000000,2021-06-08 16:00:06.000000000,"[{'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-06-08 09:58:26.000000000', 'files': ['ansible/roles/swift/defaults/main.yml', 'ansible/roles/swift/handlers/main.yml', 'releasenotes/notes/bug-1931097-c94832ed2ed92c3a.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6110ae4d6896bb66fd132c292385ddb76e49e582', 'message': ""Add forgotten 'Restart container' handler for swift\n\nSince I0474324b60a5f792ef5210ab336639edf7a8cd9e swift role uses the new\nservice-cert-copy role introduced in the\nI6351147ddaff8b2ae629179a9bc3bae2ebac9519 but the swift role itself\ndoesn't contain the handler used in the service-cert-copy. Right now,\nrestarting the swift container isn't necessary, but the handler should\nexist. Also we should fix the name of the service used.\n\nCloses-Bug: #1931097\nChange-Id: I2d0615ce6914e1f875a2647c8a95b86dd17eeb22\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 5c19f9a5e0fc02ccba52f327c3ea5cedb632788d)\n""}]",0,795267,6110ae4d6896bb66fd132c292385ddb76e49e582,19,6,1,14200,,,0,"Add forgotten 'Restart container' handler for swift

Since I0474324b60a5f792ef5210ab336639edf7a8cd9e swift role uses the new
service-cert-copy role introduced in the
I6351147ddaff8b2ae629179a9bc3bae2ebac9519 but the swift role itself
doesn't contain the handler used in the service-cert-copy. Right now,
restarting the swift container isn't necessary, but the handler should
exist. Also we should fix the name of the service used.

Closes-Bug: #1931097
Change-Id: I2d0615ce6914e1f875a2647c8a95b86dd17eeb22
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 5c19f9a5e0fc02ccba52f327c3ea5cedb632788d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/795267/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/swift/defaults/main.yml', 'ansible/roles/swift/handlers/main.yml', 'releasenotes/notes/bug-1931097-c94832ed2ed92c3a.yaml']",3,6110ae4d6896bb66fd132c292385ddb76e49e582,swift-restart-handler,--- fixes: - | Fixes Swift deploy when TLS enabled. Added the missing handler and corrected the container name. `LP#1931097 <https://launchpad.net/bugs/1931097>`__ ,,11,1
openstack%2Foctavia~master~I0ec32bb8309bcdd3d8b1edc91b86e8f84897ee4f,openstack/octavia,master,I0ec32bb8309bcdd3d8b1edc91b86e8f84897ee4f,docs: Update Freenode to OFTC,ABANDONED,2021-06-08 15:11:24.000000000,2021-06-08 16:00:20.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 15:11:24.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2951e95451e9de7c8da22bddd8b4251305c5719f', 'message': 'docs: Update Freenode to OFTC\n\nsee: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html\nChange-Id: I0ec32bb8309bcdd3d8b1edc91b86e8f84897ee4f\n'}]",0,795361,2951e95451e9de7c8da22bddd8b4251305c5719f,4,2,1,26285,,,0,"docs: Update Freenode to OFTC

see: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html
Change-Id: I0ec32bb8309bcdd3d8b1edc91b86e8f84897ee4f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/61/795361/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,2951e95451e9de7c8da22bddd8b4251305c5719f,, ``#openstack-lbaas`` channel on OFTC during working hours The Octavia team meets weekly on OFTC IRC. Please see the OpenStack, ``#openstack-lbaas`` channel on Freenode during working hours The Octavia team meets weekly on freenode IRC. Please see the OpenStack,2,2
openstack%2Fproject-config~master~Ie88b07af6c2be077ff0f6d8271fb6b10a364f61a,openstack/project-config,master,Ie88b07af6c2be077ff0f6d8271fb6b10a364f61a,New Project Request: airship/image-builder,MERGED,2021-06-07 14:40:12.000000000,2021-06-08 15:44:07.000000000,2021-06-08 15:31:18.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 14:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/686dd79c000314e2eba42617a701c0501fae5ce2', 'message': 'New Project Request: airship/image-builder\n\nThis is a request to create the airship/image-builder project in opendev.\n\nThe Airship Image Builder currently lives in the airship/images project,\nand this new repository will allow us to split it out into its own\nstandalone project with its own lifecycle.\n\nThe new ACL rule retains the airship/images core group for the\nnew project.\n\nChange-Id: Ie88b07af6c2be077ff0f6d8271fb6b10a364f61a\n'}, {'number': 2, 'created': '2021-06-07 15:28:31.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fa77f5f90c592c982e45182870ce52c4d05b770c', 'message': 'New Project Request: airship/image-builder\n\nThis is a request to create the airship/image-builder project in opendev.\n\nThe Airship Image Builder currently lives in the airship/images project,\nand this new repository will allow us to split it out into its own\nstandalone project with its own lifecycle.\n\nThe new project uses the existing airship/images ACL.\n\nChange-Id: Ie88b07af6c2be077ff0f6d8271fb6b10a364f61a\n'}]",4,795118,fa77f5f90c592c982e45182870ce52c4d05b770c,14,3,2,22477,,,0,"New Project Request: airship/image-builder

This is a request to create the airship/image-builder project in opendev.

The Airship Image Builder currently lives in the airship/images project,
and this new repository will allow us to split it out into its own
standalone project with its own lifecycle.

The new project uses the existing airship/images ACL.

Change-Id: Ie88b07af6c2be077ff0f6d8271fb6b10a364f61a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/18/795118/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/airship/image-builder.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,686dd79c000314e2eba42617a701c0501fae5ce2,new-project, - airship/image-builder,,22,0
openstack%2Fproject-config~master~I20957b015c2a0510522f45420382eff7d706fe3c,openstack/project-config,master,I20957b015c2a0510522f45420382eff7d706fe3c,Add label-Verified to snaps.config,MERGED,2021-06-08 14:05:23.000000000,2021-06-08 15:37:24.000000000,2021-06-08 15:21:04.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 14:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3b97530f04e7ad6376f3c1c1ca868439bff3ded2', 'message': 'Add label-Verified to snaps.config\n\nChange-Id: I20957b015c2a0510522f45420382eff7d706fe3c\n'}, {'number': 2, 'created': '2021-06-08 14:48:02.000000000', 'files': ['gerrit/acls/x/snaps.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bb4e3de9370b118bb0f5b35c322f727a8da8d209', 'message': 'Add label-Verified to snaps.config\n\nChange-Id: I20957b015c2a0510522f45420382eff7d706fe3c\n'}]",0,795341,bb4e3de9370b118bb0f5b35c322f727a8da8d209,14,3,2,24824,,,0,"Add label-Verified to snaps.config

Change-Id: I20957b015c2a0510522f45420382eff7d706fe3c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/41/795341/2 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/x/snaps.config'],1,3b97530f04e7ad6376f3c1c1ca868439bff3ded2,,label-Verified = -1..+1 group snaps-ci,,1,0
openstack%2Ftripleo-validations~stable%2Fwallaby~I2bec2a1c956f1da3569b2e6fe40d14ca5f5682b6,openstack/tripleo-validations,stable/wallaby,I2bec2a1c956f1da3569b2e6fe40d14ca5f5682b6,"Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""",ABANDONED,2021-06-04 10:31:28.000000000,2021-06-08 15:33:32.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 10:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0374e1fdd72470b485e26c974bead6fab9845f3c', 'message': 'Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""\n\nSee the comment[1] on the bugzilla.\n\nThis reverts commit ea453ca45e4593e65685366b8674f3aff78479fc.\n\nChange-Id: I2bec2a1c956f1da3569b2e6fe40d14ca5f5682b6\n'}, {'number': 2, 'created': '2021-06-07 13:16:19.000000000', 'files': ['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9bd70184808c3816b449ff090f2bb05b9e915e26', 'message': 'Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""\n\nSee the comment[1] on the bugzilla.\n\nThis reverts commit ea453ca45e4593e65685366b8674f3aff78479fc.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1959764#c6\nChange-Id: I2bec2a1c956f1da3569b2e6fe40d14ca5f5682b6\n'}]",0,794773,9bd70184808c3816b449ff090f2bb05b9e915e26,6,2,2,31245,,,0,"Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""

See the comment[1] on the bugzilla.

This reverts commit ea453ca45e4593e65685366b8674f3aff78479fc.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1959764#c6
Change-Id: I2bec2a1c956f1da3569b2e6fe40d14ca5f5682b6
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/73/794773/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml']",10,0374e1fdd72470b485e26c974bead6fab9845f3c,,,"--- # inherits tripleo-validations/.config/molecule/config.yml # To override default values, please take a look at the config.yml. driver: name: podman ",0,307
openstack%2Ftripleo-validations~stable%2Fussuri~Ic5c0093ac2611e09131cf9c32074f6982b1d5485,openstack/tripleo-validations,stable/ussuri,Ic5c0093ac2611e09131cf9c32074f6982b1d5485,"Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""",ABANDONED,2021-06-03 11:29:54.000000000,2021-06-08 15:33:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-03 11:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f1fc4fbeec12757ce2a3ec03d9f781389c0c88fd', 'message': 'Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""\n\nSee the comment[1] on the bugzilla.\n\nThis reverts commit 83cd453dc56d2b14a2e5d95e789e20966d6525d4.\n\nChange-Id: Ic5c0093ac2611e09131cf9c32074f6982b1d5485\n'}, {'number': 2, 'created': '2021-06-07 13:17:30.000000000', 'files': ['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0d03101da9279b8fe3e818293e88d71ff3ff72db', 'message': 'Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""\n\nSee the comment[1] on the bugzilla.\n\nThis reverts commit 83cd453dc56d2b14a2e5d95e789e20966d6525d4.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1959764#c6\nChange-Id: Ic5c0093ac2611e09131cf9c32074f6982b1d5485\n'}]",0,794572,0d03101da9279b8fe3e818293e88d71ff3ff72db,5,1,2,31245,,,0,"Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""

See the comment[1] on the bugzilla.

This reverts commit 83cd453dc56d2b14a2e5d95e789e20966d6525d4.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1959764#c6
Change-Id: Ic5c0093ac2611e09131cf9c32074f6982b1d5485
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/72/794572/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml']",10,f1fc4fbeec12757ce2a3ec03d9f781389c0c88fd,,,"--- driver: name: podman log: true platforms: - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile pkg_extras: python*-setuptools python*-pyyaml privileged: true volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" ulimits: &ulimit - host provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy verifier: name: testinfra ",3,386
openstack%2Ftripleo-validations~stable%2Fvictoria~If95ac6555481d05f656eff60ef981565be4873bf,openstack/tripleo-validations,stable/victoria,If95ac6555481d05f656eff60ef981565be4873bf,"Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""",ABANDONED,2021-06-03 11:18:42.000000000,2021-06-08 15:32:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-03 11:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6454f9f1c97a7381b61297d80be2e7935ec63313', 'message': 'Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""\n\nSee the comment[1] on the bugzilla.\n\nThis reverts commit dad3e9f171064ab5b8b982575910fcc900fa7fc8.\n\nChange-Id: If95ac6555481d05f656eff60ef981565be4873bf\n'}, {'number': 2, 'created': '2021-06-07 13:13:08.000000000', 'files': ['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1947efc2dbeac87de66ead2c61054ff2c6e98c6a', 'message': 'Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""\n\nSee the comment[1] on the bugzilla.\n\nThis reverts commit dad3e9f171064ab5b8b982575910fcc900fa7fc8.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1959764#c6\nChange-Id: If95ac6555481d05f656eff60ef981565be4873bf\n'}]",0,794570,1947efc2dbeac87de66ead2c61054ff2c6e98c6a,5,1,2,31245,,,0,"Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""

See the comment[1] on the bugzilla.

This reverts commit dad3e9f171064ab5b8b982575910fcc900fa7fc8.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1959764#c6
Change-Id: If95ac6555481d05f656eff60ef981565be4873bf
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/70/794570/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml']",10,6454f9f1c97a7381b61297d80be2e7935ec63313,,,"--- driver: name: podman log: true platforms: - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile pkg_extras: python*-setuptools python*-pyyaml privileged: true volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" ulimits: &ulimit - host provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy verifier: name: testinfra ",1,383
openstack%2Ftripleo-validations~stable%2Ftrain~I2afd591352819e8050e44226405fcdb7cf3e0c9b,openstack/tripleo-validations,stable/train,I2afd591352819e8050e44226405fcdb7cf3e0c9b,"Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""",ABANDONED,2021-06-03 11:41:52.000000000,2021-06-08 15:31:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-03 11:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/317a0dc5b9926d8a7e0304d9a6f307d1881183dc', 'message': 'Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""\n\nSee the comment[1] on the bugzilla.\n\nThis reverts commit b1ee6a4545df972f3baa7ae5983e3b52bb664605.\n\nChange-Id: I2afd591352819e8050e44226405fcdb7cf3e0c9b\n'}, {'number': 2, 'created': '2021-06-07 13:03:08.000000000', 'files': ['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/dd1f1cd9a687f399004eeff23b1486e3db761000', 'message': 'Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""\n\nSee the comment[1] on the bugzilla.\n\nThis reverts commit b1ee6a4545df972f3baa7ae5983e3b52bb664605.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1959764#c6\nChange-Id: I2afd591352819e8050e44226405fcdb7cf3e0c9b\n'}]",1,794573,dd1f1cd9a687f399004eeff23b1486e3db761000,6,2,2,31245,,,0,"Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""

See the comment[1] on the bugzilla.

This reverts commit b1ee6a4545df972f3baa7ae5983e3b52bb664605.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1959764#c6
Change-Id: I2afd591352819e8050e44226405fcdb7cf3e0c9b
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/73/794573/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml']",10,317a0dc5b9926d8a7e0304d9a6f307d1881183dc,,,"--- driver: name: podman log: true platforms: - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile pkg_extras: python*-setuptools python*-pyyaml privileged: true volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" ulimits: &ulimit - host provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy verifier: name: testinfra ",2,386
openstack%2Ftripleo-validations~master~Ia480ac7e39a4c9b7af7b68e22d41a35306d0c1b8,openstack/tripleo-validations,master,Ia480ac7e39a4c9b7af7b68e22d41a35306d0c1b8,"Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""",ABANDONED,2021-06-02 16:24:24.000000000,2021-06-08 15:31:15.000000000,,"[{'_account_id': 8297}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-02 16:24:24.000000000', 'files': ['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/12b03254f44b871b0741e20ba712a58f61c7414d', 'message': 'Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""\n\nSee the comment[1] on the bugzilla.\n\nThis reverts commit 2a875fd2402a72f97c88d0f6b48463eab395b633.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1959764#C6\nChange-Id: I300dd4e64c669b2d43af92172febc42e56e12115\n\nChange-Id: Ia480ac7e39a4c9b7af7b68e22d41a35306d0c1b8\n'}]",0,794271,12b03254f44b871b0741e20ba712a58f61c7414d,5,7,1,31245,,,0,"Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""

See the comment[1] on the bugzilla.

This reverts commit 2a875fd2402a72f97c88d0f6b48463eab395b633.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1959764#C6
Change-Id: I300dd4e64c669b2d43af92172febc42e56e12115

Change-Id: Ia480ac7e39a4c9b7af7b68e22d41a35306d0c1b8
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/71/794271/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml']",9,12b03254f44b871b0741e20ba712a58f61c7414d,,,"--- # inherits tripleo-validations/.config/molecule/config.yml # To override default values, please take a look at the config.yml. ",0,303
openstack%2Fvitrage~master~Ib8f10878ceb1ae222fffa1e9e29ea13cc019e9f6,openstack/vitrage,master,Ib8f10878ceb1ae222fffa1e9e29ea13cc019e9f6,docs: Update Freenode to OFTC,MERGED,2021-06-08 15:08:52.000000000,2021-06-08 15:25:57.000000000,2021-06-08 15:23:59.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 15:08:52.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/7035e09f0865c9d26e50f022ce20dff9d9eaea71', 'message': 'docs: Update Freenode to OFTC\n\nsee: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html\nChange-Id: Ib8f10878ceb1ae222fffa1e9e29ea13cc019e9f6\n'}]",0,795359,7035e09f0865c9d26e50f022ce20dff9d9eaea71,7,2,1,26285,,,0,"docs: Update Freenode to OFTC

see: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html
Change-Id: Ib8f10878ceb1ae222fffa1e9e29ea13cc019e9f6
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/59/795359/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,7035e09f0865c9d26e50f022ce20dff9d9eaea71,,* IRC channel #openstack-vitrage at OFTC,* IRC channel #openstack-vitrage at FreeNode,1,1
openstack%2Ftripleo-specs~master~Idd2663d4db54e9bedf6ea067ca14e287e55d3159,openstack/tripleo-specs,master,Idd2663d4db54e9bedf6ea067ca14e287e55d3159,Add spec for single sourcing repo setup,MERGED,2021-01-25 21:29:27.000000000,2021-06-08 15:09:54.000000000,2021-06-08 15:08:16.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13294}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 24245}, {'_account_id': 25402}, {'_account_id': 29775}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-01-25 21:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/a906df8bf4430316bef446790db35ffa21f3c04f', 'message': 'WIP: Add spec for single sourcing repo setup\n\nStory: https://projects.engineering.redhat.com/browse/TRIPLEOCI-262\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 2, 'created': '2021-01-25 21:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/94b01de8d8ad13892f15b9cb76cce194dcd18eed', 'message': 'WIP: Add spec for single sourcing repo setup\n\nStory: https://projects.engineering.redhat.com/browse/TRIPLEOCI-262\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 3, 'created': '2021-02-01 21:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/5ea675ace38627ea37aaff5f4ab1fa516108708c', 'message': 'WIP: Add spec for single sourcing repo setup\n\nStory: https://projects.engineering.redhat.com/browse/TRIPLEOCI-262\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 4, 'created': '2021-02-01 21:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/d9d52c4371e0799dc17cf6ebc8378efe12524148', 'message': 'WIP: Add spec for single sourcing repo setup\n\nStory: https://projects.engineering.redhat.com/browse/TRIPLEOCI-262\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 5, 'created': '2021-02-01 23:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/6b7719461cc420784b21ec5e15252c7c2b07d00d', 'message': 'WIP: Add spec for single sourcing repo setup\n\nStory: https://projects.engineering.redhat.com/browse/TRIPLEOCI-262\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 6, 'created': '2021-02-02 00:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/b56f83d65d614065a02109b243731e2547489389', 'message': 'WIP: Add spec for single sourcing repo setup\n\nStory: https://projects.engineering.redhat.com/browse/TRIPLEOCI-262\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 7, 'created': '2021-02-02 14:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/b94cc51c13a1aa19dc108ba8c4f28c32b05edce4', 'message': 'WIP: Add spec for single sourcing repo setup\n\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 8, 'created': '2021-02-02 14:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/0932a5fdfdce5c845d18f8cd8cd36212ec0b998b', 'message': 'WIP: Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 9, 'created': '2021-02-02 14:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/61aee3d733e3a604169bc0602524a80962e958c2', 'message': 'WIP: Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 10, 'created': '2021-02-02 20:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/8d71d8203982439aecd7b14b674a5127b1a6c12b', 'message': 'WIP: Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 11, 'created': '2021-02-02 20:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/7138628cc1756097d1eaa9421f16ba9ebe79f5a9', 'message': 'WIP: Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 12, 'created': '2021-02-03 16:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/ffdbd45f75452bbef72966101e0e6df4cc005d0d', 'message': 'WIP: Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 13, 'created': '2021-02-08 13:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/8d2d08f9d53acfdfa2590c1491939e422a8cac04', 'message': 'WIP: Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 14, 'created': '2021-02-10 18:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/4ae8967fb13c667aecab58f274f6882f023a69ee', 'message': 'Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 15, 'created': '2021-02-23 11:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/4a6c4b5c1d85dfbe8996370112688866f66a7ae9', 'message': 'Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 16, 'created': '2021-02-23 11:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/06618b9ab6c551d29d9c536e4248af40aefb1a6c', 'message': 'Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 17, 'created': '2021-02-23 11:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/39375442d0c1dc9a6da03c83ffd5d0b9d4ecb62f', 'message': 'Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 18, 'created': '2021-02-23 13:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/b32fdc1b67947ce0c620744c5bed34e4c8825c89', 'message': 'Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 19, 'created': '2021-02-25 15:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/a3a3181d5f93aec2656d81d3f47c7876280ee643', 'message': 'Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 20, 'created': '2021-03-01 08:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/af97836793077eaaa547ba43207951e8294dbc2e', 'message': 'Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 21, 'created': '2021-03-04 12:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/c7f909d6414af43b688187df4a16de560568610d', 'message': 'Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 22, 'created': '2021-03-11 12:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/c1b0490dccb672d21c5ae1407346e9afc2f7e54d', 'message': 'Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 23, 'created': '2021-03-11 12:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/f500bb4401b668d1fc1e3a566c2d6f054d9c2e58', 'message': 'Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 24, 'created': '2021-03-11 12:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/0360974f176ab47eb8534ac530d91d8dc65f186e', 'message': 'Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 25, 'created': '2021-03-11 13:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/da150203de081eee166cb9401910cd646c575992', 'message': 'Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 26, 'created': '2021-05-20 15:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/1e45243bd7ef906019cee157b8af6ddce67d365e', 'message': 'Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nCo-Authored-By: Chandan Kumar <chkumar@redhat.com>\nCo-Authored-By: Marios Andreou <marios@redhat.com>\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 27, 'created': '2021-05-25 17:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/84fb4d19b9f3b4921fadd85a2fe10e888196a863', 'message': 'Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nCo-Authored-By: Chandan Kumar <chkumar@redhat.com>\nCo-Authored-By: Marios Andreou <marios@redhat.com>\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 28, 'created': '2021-05-25 17:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/6f44696232f26653b4dc8e3c1349579391fe6b7a', 'message': 'Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nCo-Authored-By: Chandan Kumar <chkumar@redhat.com>\nCo-Authored-By: Marios Andreou <marios@redhat.com>\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 29, 'created': '2021-05-25 19:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/13283e5b2798b3da99a0f31d62373fad48154c57', 'message': 'Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nCo-Authored-By: Chandan Kumar <chkumar@redhat.com>\nCo-Authored-By: Marios Andreou <marios@redhat.com>\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 30, 'created': '2021-05-25 20:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/62891461ba272b1d278cf1a03f609cebabc4de8c', 'message': 'Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nCo-Authored-By: Chandan Kumar <chkumar@redhat.com>\nCo-Authored-By: Marios Andreou <marios@redhat.com>\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}, {'number': 31, 'created': '2021-05-25 20:16:43.000000000', 'files': ['specs/xena/tripleo-repos-single-source.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/d7b47eb28eca211ffd5ab9951ea6766619a8b4ed', 'message': 'Add spec for single sourcing repo setup\n\nAdd spec for proposed work to single-source\nsetting versions of repos and modules and\ngetting/resolving DLRN hashes.\n\nCo-Authored-By: Chandan Kumar <chkumar@redhat.com>\nCo-Authored-By: Marios Andreou <marios@redhat.com>\nChange-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159\n'}]",127,772442,d7b47eb28eca211ffd5ab9951ea6766619a8b4ed,113,18,31,9976,,,0,"Add spec for single sourcing repo setup

Add spec for proposed work to single-source
setting versions of repos and modules and
getting/resolving DLRN hashes.

Co-Authored-By: Chandan Kumar <chkumar@redhat.com>
Co-Authored-By: Marios Andreou <marios@redhat.com>
Change-Id: Idd2663d4db54e9bedf6ea067ca14e287e55d3159
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/42/772442/10 && git format-patch -1 --stdout FETCH_HEAD,"['specs/wallaby/tripleo-repos-single-source.rst', 'doc/source/specs']",2,a906df8bf4430316bef446790db35ffa21f3c04f,single-source-tripleo-repos,,../../specs,97,1
openstack%2Fcharm-deployment-guide~master~I7db3295068e51d614e4b8ad808a31d719d5270d9,openstack/charm-deployment-guide,master,I7db3295068e51d614e4b8ad808a31d719d5270d9,Fix broken hyperlinks,MERGED,2021-06-07 16:48:10.000000000,2021-06-08 14:56:35.000000000,2021-06-08 14:54:06.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-07 16:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/7f35125ad1edea73241b30d23b3b57946abb3a39', 'message': 'Fix broken hyperlinks\n\nThere is really only one broken link here (on the hardware-\noffload page). However, there are many Juju links that are\nbeing reported as broken by webteam tooling. They all have\nto do with redirections to the Juju user forum that may be\ntaking too long.\n\nChange-Id: I7db3295068e51d614e4b8ad808a31d719d5270d9\n'}, {'number': 2, 'created': '2021-06-07 16:50:23.000000000', 'files': ['deploy-guide/source/upgrade-series.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/upgrade-charms.rst', 'deploy-guide/source/app-hardware-offload.rst', 'deploy-guide/source/app-managing-power-events.rst', 'deploy-guide/source/app-managing-power-events-topology.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/6af386bade0d337c81ff9ad81032b22e4ae0fe12', 'message': 'Fix broken hyperlinks\n\nThere is really only one broken link here (on the hardware-\noffload page). However, there are many Juju links that are\nbeing reported as broken by webteam tooling. They all have\nto do with HTTP redirections that may be taking too long.\n\nChange-Id: I7db3295068e51d614e4b8ad808a31d719d5270d9\n'}]",0,795156,6af386bade0d337c81ff9ad81032b22e4ae0fe12,8,2,2,30561,,,0,"Fix broken hyperlinks

There is really only one broken link here (on the hardware-
offload page). However, there are many Juju links that are
being reported as broken by webteam tooling. They all have
to do with HTTP redirections that may be taking too long.

Change-Id: I7db3295068e51d614e4b8ad808a31d719d5270d9
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/56/795156/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/upgrade-series.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/upgrade-charms.rst', 'deploy-guide/source/app-hardware-offload.rst', 'deploy-guide/source/app-managing-power-events.rst', 'deploy-guide/source/app-managing-power-events-topology.rst']",6,7f35125ad1edea73241b30d23b3b57946abb3a39,fix-broken-links,.. _Application groups: https://discourse.charmhub.io/t/application-groups,.. _Application groups: https://jaas.ai/docs/application-groups,10,10
openstack%2Fglance~master~I4d3fcbec2458ac2d7e0a7b6deedd0fca9e4b3cd0,openstack/glance,master,I4d3fcbec2458ac2d7e0a7b6deedd0fca9e4b3cd0,Ignore emacs swap/temp files,ABANDONED,2021-06-08 14:44:32.000000000,2021-06-08 14:55:39.000000000,,[{'_account_id': 9303}],"[{'number': 1, 'created': '2021-06-08 14:44:32.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/glance/commit/3168172fc25b7138fa7f108ebdd6e55fce5f4dca', 'message': 'Ignore emacs swap/temp files\n\nChange-Id: I4d3fcbec2458ac2d7e0a7b6deedd0fca9e4b3cd0\n'}]",0,795354,3168172fc25b7138fa7f108ebdd6e55fce5f4dca,4,1,1,4393,,,0,"Ignore emacs swap/temp files

Change-Id: I4d3fcbec2458ac2d7e0a7b6deedd0fca9e4b3cd0
",git fetch https://review.opendev.org/openstack/glance refs/changes/54/795354/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,3168172fc25b7138fa7f108ebdd6e55fce5f4dca,ignore-emacs,# Swap files from emacs *~ ,,3,0
openstack%2Foctavia~stable%2Fvictoria~I99ce408ec886820c056b69696b26be9521740f1c,openstack/octavia,stable/victoria,I99ce408ec886820c056b69696b26be9521740f1c,Fix comment for the ca_certificates_file opt,MERGED,2021-05-17 07:41:30.000000000,2021-06-08 14:45:26.000000000,2021-06-08 14:42:39.000000000,"[{'_account_id': 6476}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 07:41:30.000000000', 'files': ['octavia/common/config.py', 'etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d69d06660633da7370604a45f43e0014d023f9d9', 'message': 'Fix comment for the ca_certificates_file opt\n\nThe directive [certificates]/ca_certificates_file currently has a\nconfusing comment. This tries to fix it and make it more easy for\nOctavia operators to configure the directive.\n\nChange-Id: I99ce408ec886820c056b69696b26be9521740f1c\n(cherry picked from commit ee0da827b163c15796bf2f19b0785bc0259d5128)\n(cherry picked from commit 20db85fd5236a4daed7ab29931fed91da2295ab0)\n'}]",0,791671,d69d06660633da7370604a45f43e0014d023f9d9,8,4,1,6469,,,0,"Fix comment for the ca_certificates_file opt

The directive [certificates]/ca_certificates_file currently has a
confusing comment. This tries to fix it and make it more easy for
Octavia operators to configure the directive.

Change-Id: I99ce408ec886820c056b69696b26be9521740f1c
(cherry picked from commit ee0da827b163c15796bf2f19b0785bc0259d5128)
(cherry picked from commit 20db85fd5236a4daed7ab29931fed91da2295ab0)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/71/791671/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'etc/octavia.conf']",2,d69d06660633da7370604a45f43e0014d023f9d9,, # Settings for the key manager endpoint (such as Barbican) # Region in Identity service catalog to use for communication with the key manager service. # Endpoint type to use for communication with the key manager service.# CA certificates file to verify key manager connections when TLS is enabled # ca_certificates_file = # Disable certificate validation on SSL connections # insecure = False ,# # Region in Identity service catalog to use for communication with the Barbican service.# # Endpoint type to use for communication with the Barbican service.,14,5
openstack%2Foctavia~stable%2Fwallaby~Ie4d40509ae7e6faccecd1d0cc0bc4c7d93959261,openstack/octavia,stable/wallaby,Ie4d40509ae7e6faccecd1d0cc0bc4c7d93959261,Optimize CountPoolChildrenForQuota task in amphorav2,MERGED,2021-05-17 07:37:28.000000000,2021-06-08 14:41:26.000000000,2021-06-08 14:38:00.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-17 07:37:28.000000000', 'files': ['octavia/tests/functional/db/test_repositories.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/db/repositories.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks_quota.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/adb454b2e8a9fc7b69c40c4fa62c21020a68524c', 'message': ""Optimize CountPoolChildrenForQuota task in amphorav2\n\nThe CountPoolChildrenForQuota task takes 3 or 4 seconds to execute in\namphorav2. When cascade deleting a load balancer with many pools (60),\nit might take minutes.\n\nWe don't need to get and to convert all the fields from the object to\ncompute the number of children of a pool, we can optimize this task by\ncreating a new method in the PoolRepository class.\n\nStory 2008873\nTask 42414\n\nChange-Id: Ie4d40509ae7e6faccecd1d0cc0bc4c7d93959261\n(cherry picked from commit 7075d22c4cb0dfc25b4c5c8eff654aa4358f2f25)\n""}]",0,791667,adb454b2e8a9fc7b69c40c4fa62c21020a68524c,8,4,1,6469,,,0,"Optimize CountPoolChildrenForQuota task in amphorav2

The CountPoolChildrenForQuota task takes 3 or 4 seconds to execute in
amphorav2. When cascade deleting a load balancer with many pools (60),
it might take minutes.

We don't need to get and to convert all the fields from the object to
compute the number of children of a pool, we can optimize this task by
creating a new method in the PoolRepository class.

Story 2008873
Task 42414

Change-Id: Ie4d40509ae7e6faccecd1d0cc0bc4c7d93959261
(cherry picked from commit 7075d22c4cb0dfc25b4c5c8eff654aa4358f2f25)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/67/791667/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/db/test_repositories.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/db/repositories.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks_quota.py']",4,adb454b2e8a9fc7b69c40c4fa62c21020a68524c,," @mock.patch('octavia.db.repositories.PoolRepository.get_children_count') pool = data_models.Pool(id=1, project_id=project_id) repo_mock.return_value = (0, 0) result = task.execute(pool.id) repo_mock.return_value = (1, 2) result = task.execute(pool.id)"," @mock.patch('octavia.db.repositories.PoolRepository.get') member1 = data_models.Member(id=1, project_id=project_id) member2 = data_models.Member(id=2, project_id=project_id) healtmon = data_models.HealthMonitor(id=1, project_id=project_id) pool_no_children = data_models.Pool(id=1, project_id=project_id) pool_1_mem = data_models.Pool(id=1, project_id=project_id, members=[member1]) pool_hm = data_models.Pool(id=1, project_id=project_id, health_monitor=healtmon) pool_hm_2_mem = data_models.Pool(id=1, project_id=project_id, health_monitor=healtmon, members=[member1, member2]) repo_mock.return_value = pool_no_children result = task.execute(pool_no_children.id) # Test pool with one member repo_mock.reset_mock() repo_mock.return_value = pool_1_mem result = task.execute(pool_1_mem.id) self.assertEqual({'HM': 0, 'member': 1}, result) # Test pool with health monitor and no members repo_mock.reset_mock() repo_mock.return_value = pool_hm result = task.execute(pool_hm.id) self.assertEqual({'HM': 1, 'member': 0}, result) repo_mock.return_value = pool_hm_2_mem result = task.execute(pool_hm_2_mem.id)",63,37
openstack%2Foctavia~stable%2Fwallaby~Idd9021c8a73d1be87f5df40d3f27c0fba9067e3c,openstack/octavia,stable/wallaby,Idd9021c8a73d1be87f5df40d3f27c0fba9067e3c,Fix amphora failover flow in amphorav2 driver,MERGED,2021-05-17 07:34:52.000000000,2021-06-08 14:39:30.000000000,2021-06-08 14:37:52.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-17 07:34:52.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py', 'releasenotes/notes/fix-amphora-failover-amphorav2-b19a76ccfdc75245.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/19504cef8d3d58d997ec6673e98da3aff64d21d0', 'message': 'Fix amphora failover flow in amphorav2 driver\n\nRemove amphora_id from the failover flow parameters in amphorav2, it is\nunused and it hides in a later task the amphora_id of the newly created\namphora, breaking a simple amphora failover.\n\nStory 2008848\nTask 42360\n\nChange-Id: Idd9021c8a73d1be87f5df40d3f27c0fba9067e3c\n(cherry picked from commit 7e2dab64a04db857058cdff16ae5a2432bd2f8c8)\n'}]",0,791664,19504cef8d3d58d997ec6673e98da3aff64d21d0,8,4,1,6469,,,0,"Fix amphora failover flow in amphorav2 driver

Remove amphora_id from the failover flow parameters in amphorav2, it is
unused and it hides in a later task the amphora_id of the newly created
amphora, breaking a simple amphora failover.

Story 2008848
Task 42360

Change-Id: Idd9021c8a73d1be87f5df40d3f27c0fba9067e3c
(cherry picked from commit 7e2dab64a04db857058cdff16ae5a2432bd2f8c8)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/64/791664/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py', 'releasenotes/notes/fix-amphora-failover-amphorav2-b19a76ccfdc75245.yaml']",3,19504cef8d3d58d997ec6673e98da3aff64d21d0,,"--- fixes: - | Fix an issue with amphorav2 driver, a failover of an amphora created an amphora with an ERROR status. ",,13,16
openstack%2Fdesignate-dashboard~master~I6fb8e2cd8a67032ae31becf336aac56554ee824a,openstack/designate-dashboard,master,I6fb8e2cd8a67032ae31becf336aac56554ee824a,Add horizon-nodejs14-job template.,MERGED,2021-04-27 12:51:55.000000000,2021-06-08 14:37:11.000000000,2021-06-08 14:34:56.000000000,"[{'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-04-27 12:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/ba5efeb6b7607df13e054c30a1a2fb597bba7ae1', 'message': 'Add horizon-nodejs14-job template.\n\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/784062\nChange-Id: I6fb8e2cd8a67032ae31becf336aac56554ee824a\n'}, {'number': 2, 'created': '2021-05-14 21:56:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/3fdf95341b4f8ba640b8b4a0dd86c6f4ffc2a5e1', 'message': 'Add horizon-nodejs14-job template.\n\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/784062\nChange-Id: I6fb8e2cd8a67032ae31becf336aac56554ee824a\n'}]",0,788283,3fdf95341b4f8ba640b8b4a0dd86c6f4ffc2a5e1,18,6,2,29313,,,0,"Add horizon-nodejs14-job template.

Depends-On: https://review.opendev.org/c/openstack/horizon/+/784062
Change-Id: I6fb8e2cd8a67032ae31becf336aac56554ee824a
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/83/788283/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ba5efeb6b7607df13e054c30a1a2fb597bba7ae1,migrate-to-nodejs14, - horizon-nodejs14-jobs,,1,0
openstack%2Fopenstack-helm~master~I462085b89ef80985b42149cccf865e6c5f0f5a53,openstack/openstack-helm,master,I462085b89ef80985b42149cccf865e6c5f0f5a53,Barbican: Add support for master KEK rotation,MERGED,2021-06-06 02:02:56.000000000,2021-06-08 14:36:28.000000000,2021-06-08 14:33:32.000000000,"[{'_account_id': 7769}, {'_account_id': 17896}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28275}]","[{'number': 1, 'created': '2021-06-06 02:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6a432b3bc77396613fa22f0082f790e6fb6db971', 'message': 'Barbican: Add support for master KEK rotation (WIP)\n\nChange-Id: I462085b89ef80985b42149cccf865e6c5f0f5a53\n'}, {'number': 2, 'created': '2021-06-06 02:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/59ecc136027a0c09e3be1922a325151fe10ba12f', 'message': 'Barbican: Add support for master KEK rotation (WIP)\n\nChange-Id: I462085b89ef80985b42149cccf865e6c5f0f5a53\n'}, {'number': 3, 'created': '2021-06-06 07:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9d058af425429bfbae8626fdb806ad7654b7eaf3', 'message': 'Barbican: Add support for master KEK rotation (WIP)\n\nChange-Id: I462085b89ef80985b42149cccf865e6c5f0f5a53\n'}, {'number': 4, 'created': '2021-06-07 01:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/991310a0b2c23c3e0afdf15bbfa3d17f75c91c0d', 'message': 'Barbican: Add support for master KEK rotation\n\nWhen using the simple_crypto_plugin (which is enabled by default),\nsecrets are encrypted with per-project keys, and those keys are\nencrypted (or wrapped) with a master key encryption key (KEK, or MKEK).\nThe wrapped project keys are stored in the database. The KEK is stored\nin the barbican configuration file.\n\nIf no KEK is specified, a well-known default is used. There is no native\nBarbican support for rotating the KEK. Changing the KEK would cause loss\nof access to all secrets, because Barbican would be unable to unwrap the\nproject keys.\n\nThis change adds support for upgrading the Helm chart while changing the\nkek. A script can be executed during the db-sync job that decrypts the\nproject keys with the old KEK, and rewraps them with the new KEK. Note\nthat no secrets are actually modified during this procedure, and the\nproject keys are not actually changed.\n\nTo use this feature, specify the following values:\n\n    simple_crypto_kek_rewrap:\n      rotate: true\n      old_kek: # old KEK, 32-bytes of data, base64-encoded\n    conf:\n      barbican:\n        simple_crypto_plugin:\n          kek: # new KEK, 32-bytes of data, base64-encoded\n\nChange-Id: I462085b89ef80985b42149cccf865e6c5f0f5a53\n'}, {'number': 5, 'created': '2021-06-07 04:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0c760122ecb9bd0973b55dacb392230eb1c8c2c9', 'message': 'Barbican: Add support for master KEK rotation\n\nWhen using the simple_crypto_plugin (which is enabled by default),\nsecrets are encrypted with per-project keys, and those keys are\nencrypted (or wrapped) with a master key encryption key (KEK, or MKEK).\nThe wrapped project keys are stored in the database. The KEK is stored\nin the barbican configuration file.\n\nIf no KEK is specified, a well-known default is used. There is no native\nBarbican support for rotating the KEK. Changing the KEK would cause loss\nof access to all secrets, because Barbican would be unable to unwrap the\nproject keys.\n\nThis change adds support for upgrading the Helm chart while changing the\nKEK. A script can be executed during the db-sync job that decrypts the\nproject keys with the old KEK, and rewraps them with the new KEK. Note\nthat no secrets are actually modified during this procedure, and the\nproject keys are not actually changed.\n\nTo use this feature, specify the following values:\n\n    simple_crypto_kek_rewrap:\n      rotate: true\n      old_kek: # old KEK, 32-bytes of data, base64-encoded\n    conf:\n      barbican:\n        simple_crypto_plugin:\n          kek: # new KEK, 32-bytes of data, base64-encoded\n\nChange-Id: I462085b89ef80985b42149cccf865e6c5f0f5a53\n'}, {'number': 6, 'created': '2021-06-07 22:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/756d62f390a70984f0b570177e86b47fab28ef3a', 'message': 'Barbican: Add support for master KEK rotation\n\nWhen using the simple_crypto_plugin (which is enabled by default),\nsecrets are encrypted with per-project keys, and those keys are\nencrypted (or wrapped) with a master key encryption key (KEK, or MKEK).\nThe wrapped project keys are stored in the database. The KEK is stored\nin the barbican configuration file.\n\nIf no KEK is specified, a well-known default is used. There is no native\nBarbican support for rotating the KEK. Changing the KEK would cause loss\nof access to all secrets, because Barbican would be unable to unwrap the\nproject keys.\n\nThis change adds support for upgrading the Helm chart while changing the\nKEK. A script can be executed during the db-sync job that decrypts the\nproject keys with the old KEK, and rewraps them with the new KEK. Note\nthat no secrets are actually modified during this procedure, and the\nproject keys are not actually changed.\n\nTo use this feature, specify the following values:\n\n    simple_crypto_kek_rewrap:\n      old_kek: # old KEK, 32-bytes of data, base64-encoded\n    conf:\n      barbican:\n        simple_crypto_plugin:\n          kek: # new KEK, 32-bytes of data, base64-encoded\n\nChange-Id: I462085b89ef80985b42149cccf865e6c5f0f5a53\n'}, {'number': 7, 'created': '2021-06-08 05:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cb8b262e16ecad6b86a84a8cdc06f418898eb35c', 'message': 'Barbican: Add support for master KEK rotation\n\nWhen using the simple_crypto_plugin (which is enabled by default),\nsecrets are encrypted with per-project keys, and those keys are\nencrypted (or wrapped) with a master key encryption key (KEK, or MKEK).\nThe wrapped project keys are stored in the database. The KEK is stored\nin the barbican configuration file.\n\nIf no KEK is specified, a well-known default is used. There is no native\nBarbican support for rotating the KEK. Changing the KEK would cause loss\nof access to all secrets, because Barbican would be unable to unwrap the\nproject keys.\n\nThis change adds support for upgrading the Helm chart while changing the\nKEK. A script can be executed during the db-sync job that decrypts the\nproject keys with the old KEK, and rewraps them with the new KEK. Note\nthat no secrets are actually modified during this procedure, and the\nproject keys are not actually changed.\n\nTo use this feature, specify the following values:\n\n    conf:\n      barbican:\n        simple_crypto_plugin:\n          kek: # new KEK, 32-bytes of data, base64-encoded\n      simple_crypto_kek_rewrap:\n        old_kek: # old KEK, 32-bytes of data, base64-encoded\n\nChange-Id: I462085b89ef80985b42149cccf865e6c5f0f5a53\n'}, {'number': 8, 'created': '2021-06-08 07:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cb677042a32b944cb443d0fc11d5034dcb414b1d', 'message': 'Barbican: Add support for master KEK rotation\n\nWhen using the simple_crypto_plugin (which is enabled by default),\nsecrets are encrypted with per-project keys, and those keys are\nencrypted (or wrapped) with a master key encryption key (KEK, or MKEK).\nThe wrapped project keys are stored in the database. The KEK is stored\nin the barbican configuration file.\n\nIf no KEK is specified, a well-known default is used. There is no native\nBarbican support for rotating the KEK. Changing the KEK would cause loss\nof access to all secrets, because Barbican would be unable to unwrap the\nproject keys.\n\nThis change adds support for upgrading the Helm chart while changing the\nKEK. A script can be executed during the db-sync job that decrypts the\nproject keys with the old KEK, and rewraps them with the new KEK. Note\nthat no secrets are actually modified during this procedure, and the\nproject keys are not actually changed.\n\nTo use this feature, specify the following values:\n\n    conf:\n      barbican:\n        simple_crypto_plugin:\n          kek: # new KEK, 32-bytes of data, base64-encoded\n      simple_crypto_kek_rewrap:\n        old_kek: # old KEK, 32-bytes of data, base64-encoded\n\nChange-Id: I462085b89ef80985b42149cccf865e6c5f0f5a53\n'}, {'number': 9, 'created': '2021-06-08 07:20:22.000000000', 'files': ['barbican/templates/bin/_db-sync.sh.tpl', 'releasenotes/notes/barbican.yaml', 'barbican/values.yaml', 'barbican/templates/job-db-sync.yaml', 'barbican/Chart.yaml', 'barbican/templates/configmap-bin.yaml', 'barbican/templates/bin/_simple_crypto_kek_rewrap.py.tpl', 'barbican/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ce1b2630d22484f8fe3677fecac2b897bc22a65e', 'message': 'Barbican: Add support for master KEK rotation\n\nWhen using the simple_crypto_plugin (which is enabled by default),\nsecrets are encrypted with per-project keys, and those keys are\nencrypted (or wrapped) with a master key encryption key (KEK, or MKEK).\nThe wrapped project keys are stored in the database. The KEK is stored\nin the barbican configuration file.\n\nIf no KEK is specified, a well-known default is used. There is no native\nBarbican support for rotating the KEK. Changing the KEK would cause loss\nof access to all secrets, because Barbican would be unable to unwrap the\nproject keys.\n\nThis change adds support for upgrading the Helm chart while changing the\nKEK. A script can be executed during the db-sync job that decrypts the\nproject keys with the old KEK, and rewraps them with the new KEK. Note\nthat no secrets are actually modified during this procedure, and the\nproject keys are not actually changed.\n\nTo use this feature, specify the following values:\n\n    conf:\n      barbican:\n        simple_crypto_plugin:\n          kek: # new KEK, 32-bytes of data, base64-encoded\n      simple_crypto_kek_rewrap:\n        old_kek: # old KEK, 32-bytes of data, base64-encoded\n\nChange-Id: I462085b89ef80985b42149cccf865e6c5f0f5a53\n'}]",31,794967,ce1b2630d22484f8fe3677fecac2b897bc22a65e,30,6,9,28719,,,0,"Barbican: Add support for master KEK rotation

When using the simple_crypto_plugin (which is enabled by default),
secrets are encrypted with per-project keys, and those keys are
encrypted (or wrapped) with a master key encryption key (KEK, or MKEK).
The wrapped project keys are stored in the database. The KEK is stored
in the barbican configuration file.

If no KEK is specified, a well-known default is used. There is no native
Barbican support for rotating the KEK. Changing the KEK would cause loss
of access to all secrets, because Barbican would be unable to unwrap the
project keys.

This change adds support for upgrading the Helm chart while changing the
KEK. A script can be executed during the db-sync job that decrypts the
project keys with the old KEK, and rewraps them with the new KEK. Note
that no secrets are actually modified during this procedure, and the
project keys are not actually changed.

To use this feature, specify the following values:

    conf:
      barbican:
        simple_crypto_plugin:
          kek: # new KEK, 32-bytes of data, base64-encoded
      simple_crypto_kek_rewrap:
        old_kek: # old KEK, 32-bytes of data, base64-encoded

Change-Id: I462085b89ef80985b42149cccf865e6c5f0f5a53
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/67/794967/9 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/barbican.yaml', 'barbican/values.yaml', 'barbican/Chart.yaml', 'barbican/templates/configmap-bin.yaml', 'barbican/templates/bin/_simple_crypto_kek_rewrap.py.tpl']",5,6a432b3bc77396613fa22f0082f790e6fb6db971,,"#!/usr/bin/env python # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import base64 import traceback from cryptography import fernet from oslo_db.sqlalchemy import session from sqlalchemy import orm from sqlalchemy.orm import scoping from barbican.common import utils from barbican.model import models from barbican.plugin.crypto import simple_crypto # Use config values from simple_crypto CONF = simple_crypto.CONF class KekRewrap(object): def __init__(self, conf, old_kek): self.dry_run = False self.db_engine = session.create_engine(conf.sql_connection) self._session_creator = scoping.scoped_session( orm.sessionmaker( bind=self.db_engine, autocommit=True ) ) self.crypto_plugin = simple_crypto.SimpleCryptoPlugin(conf) self.plugin_name = utils.generate_fullname_for(self.crypto_plugin) self.decryptor = fernet.Fernet(old_kek.encode('utf-8')) self.encryptor = fernet.Fernet(self.crypto_plugin.master_kek) def rewrap_kek(self, project, kek): with self.db_session.begin(): plugin_meta = kek.plugin_meta decrypted_plugin_meta = self.decryptor.decrypt(plugin_meta.encode('utf-8')) new_plugin_meta = self.encryptor.encrypt(decrypted_plugin_meta).decode('utf-8') if self.dry_run: print('Would have updated KEKDatum in db {}'.format(kek.id)) print('Existing plugin_meta: {}'.format(plugin_meta)) print('New plugin_meta: {}'.format(new_plugin_meta)) return # Update KEK metadata in DB kek.plugin_meta = new_plugin_meta def get_keks_for_project(self, project): keks = [] with self.db_session.begin() as transaction: print('Retrieving KEKs for Project {}'.format(project.id)) query = transaction.session.query(models.KEKDatum) query = query.filter_by(project_id=project.id) query = query.filter_by(plugin_name=self.plugin_name) keks = query.all() return keks def get_projects(self): print('Retrieving all available projects') projects = [] with self.db_session.begin() as transaction: projects = transaction.session.query(models.Project).all() return projects @property def db_session(self): return self._session_creator() def execute(self, dry_run=True): self.dry_run = dry_run if self.dry_run: print('-- Running in dry-run mode --') projects = self.get_projects() for project in projects: keks = self.get_keks_for_project(project) for kek in keks: try: self.rewrap_kek(project, kek) except Exception: print('Error occurred! SQLAlchemy automatically rolled-' 'back the transaction') traceback.print_exc() def main(): script_desc = 'Utility to re-wrap project KEKs after rotating an MKEK.' parser = argparse.ArgumentParser(description=script_desc) parser.add_argument( '--dry-run', action='store_true', help='Displays changes that will be made (Non-destructive)' ) parser.add_argument( '--old-kek', default='dGhpcnR5X3R3b19ieXRlX2tleWJsYWhibGFoYmxhaGg=', help='Old key encryption key previously used by Simple Crypto Plugin. ' '(32 bytes, base64-encoded)' ) args = parser.parse_args() rewrapper = KekRewrap(CONF, args.old_kek) rewrapper.execute(args.dry_run) if __name__ == '__main__': main() ",,134,1
openstack%2Foctavia-dashboard~master~Iab0213a48489fe5c14d8d7225efe5e0a58406bdb,openstack/octavia-dashboard,master,Iab0213a48489fe5c14d8d7225efe5e0a58406bdb,Add horizon-nodejs14-job template.,MERGED,2021-04-27 13:36:13.000000000,2021-06-08 14:35:14.000000000,2021-06-08 14:32:43.000000000,"[{'_account_id': 1736}, {'_account_id': 6469}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 13:36:13.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/ff3addcc533ad12066da61f08edc1b67e0d3a645', 'message': 'Add horizon-nodejs14-job template.\n\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/784062\nChange-Id: Iab0213a48489fe5c14d8d7225efe5e0a58406bdb\n'}]",0,788295,ff3addcc533ad12066da61f08edc1b67e0d3a645,12,6,1,29313,,,0,"Add horizon-nodejs14-job template.

Depends-On: https://review.opendev.org/c/openstack/horizon/+/784062
Change-Id: Iab0213a48489fe5c14d8d7225efe5e0a58406bdb
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/95/788295/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,ff3addcc533ad12066da61f08edc1b67e0d3a645,migrate-to-nodejs14, - horizon-nodejs14-jobs,,1,0
openstack%2Foctavia-dashboard~master~I39d3df6a33328bb4688d942119d19a79172b07dd,openstack/octavia-dashboard,master,I39d3df6a33328bb4688d942119d19a79172b07dd,Imported Translations from Zanata,MERGED,2021-06-08 07:35:36.000000000,2021-06-08 14:32:38.000000000,2021-06-08 14:29:32.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 07:35:36.000000000', 'files': ['octavia_dashboard/locale/es/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/27f5295c83965ecc68b30a0b4b43127470ef1cc3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I39d3df6a33328bb4688d942119d19a79172b07dd\n'}]",0,795228,27f5295c83965ecc68b30a0b4b43127470ef1cc3,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I39d3df6a33328bb4688d942119d19a79172b07dd
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/28/795228/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_dashboard/locale/es/LC_MESSAGES/django.po'],1,27f5295c83965ecc68b30a0b4b43127470ef1cc3,zanata/translations,"# Alberto Molina Coballes <alberto@tinaja.es>, 2021. #zanata msgid """" msgstr """" ""Project-Id-Version: octavia-dashboard VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2021-03-25 18:29+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2021-06-07 06:04+0000\n"" ""Last-Translator: Alberto Molina Coballes <alberto@tinaja.es>\n"" ""Language-Team: Spanish\n"" ""Language: es\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""Load Balancers"" msgstr ""Balanceadores de carga"" ",,18,0
openstack%2Foctavia~stable%2Fwallaby~I5341949513e6eb814655ee8f14a01b061894fc34,openstack/octavia,stable/wallaby,I5341949513e6eb814655ee8f14a01b061894fc34,Fix task_flow.max_workers with persistence in amphorav2,MERGED,2021-05-17 07:31:41.000000000,2021-06-08 14:32:13.000000000,2021-06-08 14:30:12.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-17 07:31:41.000000000', 'files': ['octavia/common/base_taskflow.py', 'octavia/tests/unit/common/test_base_taskflow.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a53e2eabe339c12bab9e4bf10155f5d1cdd250a8', 'message': 'Fix task_flow.max_workers with persistence in amphorav2\n\nWhen jobboard was enabled in amphorav2, the [task_flow]/max_workers\noption was unused, updating a LB with a lot of children could have\nfailed because of dozens of concurrent connections to the database.\n\nStory 2008860\nTask 42381\n\nChange-Id: I5341949513e6eb814655ee8f14a01b061894fc34\n(cherry picked from commit c5287e1b08c8ffc16bcfcb7d878dc6a652ff2834)\n'}]",0,791661,a53e2eabe339c12bab9e4bf10155f5d1cdd250a8,8,4,1,6469,,,0,"Fix task_flow.max_workers with persistence in amphorav2

When jobboard was enabled in amphorav2, the [task_flow]/max_workers
option was unused, updating a LB with a lot of children could have
failed because of dozens of concurrent connections to the database.

Story 2008860
Task 42381

Change-Id: I5341949513e6eb814655ee8f14a01b061894fc34
(cherry picked from commit c5287e1b08c8ffc16bcfcb7d878dc6a652ff2834)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/61/791661/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/base_taskflow.py', 'octavia/tests/unit/common/test_base_taskflow.py']",2,a53e2eabe339c12bab9e4bf10155f5d1cdd250a8,," self.conf.config(group=""task_flow"", max_workers=MAX_WORKERS) engine='parallel', engine_options={ 'max_workers': MAX_WORKERS, })", engine='parallel'),9,2
openstack%2Foctavia~stable%2Fvictoria~I27b54b5b2e93665aad771438e618ac02900ab123,openstack/octavia,stable/victoria,I27b54b5b2e93665aad771438e618ac02900ab123,Fix jobboard_enabled setting in devstack,MERGED,2021-05-17 07:22:14.000000000,2021-06-08 14:32:12.000000000,2021-06-08 14:30:03.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-17 07:22:14.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/93ec146a7c167e150efa6c30e0ae84e4d9d32fca', 'message': 'Fix jobboard_enabled setting in devstack\n\nWhen OCTAVIA_ENABLE_AMPHORAV2_JOBBOARD is True in devstack,\njobboard_enabled must be set to True.\n\nChange-Id: I27b54b5b2e93665aad771438e618ac02900ab123\n(cherry picked from commit 190d6a33dcb63b32551a46bdc02763dc8855499d)\n(cherry picked from commit e06530e650daab7c23294ce6ea943f1548fc750f)\n'}]",0,791656,93ec146a7c167e150efa6c30e0ae84e4d9d32fca,8,4,1,6469,,,0,"Fix jobboard_enabled setting in devstack

When OCTAVIA_ENABLE_AMPHORAV2_JOBBOARD is True in devstack,
jobboard_enabled must be set to True.

Change-Id: I27b54b5b2e93665aad771438e618ac02900ab123
(cherry picked from commit 190d6a33dcb63b32551a46bdc02763dc8855499d)
(cherry picked from commit e06530e650daab7c23294ce6ea943f1548fc750f)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/56/791656/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,93ec146a7c167e150efa6c30e0ae84e4d9d32fca,, iniset $OCTAVIA_CONF task_flow jobboard_enabled True,,1,0
openstack%2Foctavia-dashboard~stable%2Fwallaby~Ie0254ba0a6a955e2d829939d99a07bc12957769b,openstack/octavia-dashboard,stable/wallaby,Ie0254ba0a6a955e2d829939d99a07bc12957769b,Imported Translations from Zanata,MERGED,2021-06-08 07:43:09.000000000,2021-06-08 14:32:06.000000000,2021-06-08 14:29:56.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 07:43:09.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_TW/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'octavia_dashboard/locale/es/LC_MESSAGES/django.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/ccb8bcbd17ef4b874c4597c337f3f42ba6cc7668', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie0254ba0a6a955e2d829939d99a07bc12957769b\n'}]",0,795230,ccb8bcbd17ef4b874c4597c337f3f42ba6cc7668,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie0254ba0a6a955e2d829939d99a07bc12957769b
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/30/795230/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_TW/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'octavia_dashboard/locale/es/LC_MESSAGES/django.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po']",7,ccb8bcbd17ef4b874c4597c337f3f42ba6cc7668,zanata/translations,,"# Jacky Hu <hudayou@hotmail.com>, 2018. #zanata msgid """" msgstr """" ""Project-Id-Version: octavia-dashboard\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2018-08-30 22:04+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2018-06-03 09:44+0000\n"" ""Last-Translator: Copied by Zanata <copied-by-zanata@zanata.org>\n"" ""Language-Team: Chinese (China)\n"" ""Language: zh_CN\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=1; plural=0\n"" msgid ""1.0.0"" msgstr ""1.0.0"" msgid """" ""A new dashboard wizard for Octavia. Allows you to create an Octavia load "" ""balancer and related resources such as a listener, pool, pool members, and "" ""health monitor."" msgstr """" "" Octavia .  Octavia "" "",,"" msgid ""A view of all the existing Octavia load balancers."" msgstr "" Octavia "" msgid """" ""Ability to associate and disassociate floating IP addresses for a load "" ""balancer."" msgstr "" IP"" msgid """" ""Ability to choose from SSL certificates stored by the key-manager service "" ""when creating a listener using the TERMINATED_HTTPS protocol."" msgstr """" "" key-manager  SSL  TERMINATED_HTTPS "" """" msgid """" ""Ability to choose from existing instances from the compute service or "" ""specify external members when adding members to a pool."" msgstr """" msgid """" ""Ability to create, update, and delete the Octavia load balancer, listener, "" ""pool, pool member, and health monitor resources."" msgstr """" "" Octavia "" msgid """" ""Ability to view details of a Octavia load balancer and drill down to see "" ""details for the listener, pool, pool member, and health monitor resources."" msgstr """" "" Octavia "" """" msgid ""Adds L7 policy support to the dashboard."" msgstr """" msgid ""Adds RBAC support to the dashboard panels."" msgstr "" RBAC "" msgid ""Adds the ability to set the insertion headers on listeners."" msgstr """" msgid ""All objects now allow setting the \""Admin State\""."" msgstr """" msgid ""Created at and Updated at times are now visible on the details pages."" msgstr """" msgid ""Current Series Release Notes"" msgstr """" msgid ""Health monitors can now change the expected HTTP codes."" msgstr "" HTTP "" msgid ""Health monitors can now use alternate IP addresses and ports."" msgstr "" IP "" msgid ""Known Issues"" msgstr """" msgid ""Listener connection limits can now be updated."" msgstr """" msgid ""Members now display the subnet_id on the details page."" msgstr """" msgid ""New Features"" msgstr """" msgid ""Octavia Dashboard Release Notes"" msgstr ""Octavia "" msgid ""Other Notes"" msgstr """" msgid """" ""Pools attached to a load balancer are now listed on the load balancer "" ""details page."" msgstr """" msgid ""Pools can now change the load balancing algorithm after creation."" msgstr """" msgid ""Prelude"" msgstr """" msgid """" ""Provisioning and operating status is now available on all object details "" ""pages."" msgstr """" msgid ""Queens Series Release Notes"" msgstr ""Queens "" msgid """" ""RBAC can now be enabled for the Octavia dashboard. Whether you enable RBAC "" ""in the dashboard or not, the API RBAC will still be in effect. Enabling RBAC "" ""in the dashboard will enforce the policies in the dashboard before the API "" ""call is made."" msgstr """" ""RBAC  Octavia  RBAC"" ""RBAC API  API  RBAC "" msgid ""Security Issues"" msgstr """" msgid """" ""The Octavia team is excited to release the 1.0.0 version of the Octavia "" ""dashboard. This dashboard uses the Octavia API endpoint via the "" ""openstacksdk. This release includes a number of improvements over the old "" ""neutron-lbaas-dashboard that worked against the neutron API endpoint. These "" ""improvements are listed below in the features section of this release note."" msgstr """" ""Octavia  Octavia  1.0.0  "" ""openstacksdk  Octavia API neutron-lbaas-dashboard "" """" msgid """" ""The neutron-lbaas neutron extension is not required to use this dashboard. "" ""Load balancers created with neutron-lbaas that have not been migrated to "" ""Octavia may not be accessible via this dashboard. Only resources accessible "" ""via the Octavia API will be visible in this dashboard."" msgstr """" "" neutron  neutron-lbaas  neutron-lbaas "" "" Octavia  "" ""Octavia API "" msgid ""The object details pages now use a tabbed navigation for child objects."" msgstr """" msgid """" ""The octavia-dashboard requires openstacksdk >= 0.10.0 to resolve an issue "" ""with displaying the health monitor details page. It is expected this will be "" ""included in the OpenStack Queens release."" msgstr """" "" openstacksdk >= 0.10.0 "" "" OpenStack Queens "" msgid """" ""The pool name is now visible in pool selection drop downs in addition to the "" ""pool ID."" msgstr "" ID "" msgid ""The session persistence for a pool can now be changed."" msgstr """" msgid """" ""This dashboard can be used alongside the neutron-lbaas-dashboard, but both "" ""dashboard panels will use the \""Load Balancer\"" labels."" msgstr """" "" neutron-lbaas-dashboard  "" """" msgid """" ""To enable RBAC support in the Octavia dashboard you need to install the "" ""generated octavia_dashboard/conf/octavia_policy.yaml file into your horizon "" ""openstack_dashboard/conf/ directory and also copy octavia_dashboard/"" ""local_settings.d/_1499_load_balancer_settings.py file into your horizon "" ""openstack_dashboard/local/local_settings.d/ directory."" msgstr """" "" Octavia  RBAC  octavia_dashboard/conf/"" ""octavia_policy.yaml  horizon  openstack_dashboard/conf/ "" "" octavia_dashboard/local_settings.d/_1499_load_balancer_settings.py "" "" horizon  openstack_dashboard/local/local_settings.d/ directory "" msgid ""Upgrade Notes"" msgstr """" msgid ""You can now change the default pool on listeners."" msgstr """" ",18,1488
openstack%2Foctavia-dashboard~stable%2Fvictoria~I446402728c5f02fcbb54698bc49144e08d80bb05,openstack/octavia-dashboard,stable/victoria,I446402728c5f02fcbb54698bc49144e08d80bb05,Imported Translations from Zanata,MERGED,2021-06-08 07:38:14.000000000,2021-06-08 14:31:54.000000000,2021-06-08 14:29:39.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 07:38:14.000000000', 'files': ['octavia_dashboard/locale/es/LC_MESSAGES/djangojs.po', 'octavia_dashboard/locale/es/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/3954cdac77304f8bbde35af109c4ab1bc851fcc1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I446402728c5f02fcbb54698bc49144e08d80bb05\n'}]",0,795229,3954cdac77304f8bbde35af109c4ab1bc851fcc1,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I446402728c5f02fcbb54698bc49144e08d80bb05
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/29/795229/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/locale/es/LC_MESSAGES/djangojs.po', 'octavia_dashboard/locale/es/LC_MESSAGES/django.po']",2,3954cdac77304f8bbde35af109c4ab1bc851fcc1,zanata/translations,"# Alberto Molina Coballes <alberto@tinaja.es>, 2021. #zanata msgid """" msgstr """" ""Project-Id-Version: octavia-dashboard VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2021-03-11 22:50+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2021-06-07 02:59+0000\n"" ""Last-Translator: Alberto Molina Coballes <alberto@tinaja.es>\n"" ""Language-Team: Spanish\n"" ""Language: es\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""Load Balancers"" msgstr ""Balanceadores de carga"" ",,1638,0
openstack%2Foctavia~master~I76755b1dbae804e145d1b474f062fff58ec6a4c7,openstack/octavia,master,I76755b1dbae804e145d1b474f062fff58ec6a4c7,Avoid trying to run jobboard conductor on error,NEW,2020-07-08 11:51:45.000000000,2021-06-08 14:21:36.000000000,,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-07-08 11:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/992c0b7b6bcf393090459d0556b11cae0dd92069', 'message': 'Avoid trying to run jobboard conductor on error\n\nIf run_conductor failed due to some error like redis uninstalled/\nredis server unavailable, log exception and do not retry in infinite\nloop.\n\nChange-Id: I76755b1dbae804e145d1b474f062fff58ec6a4c7\n'}, {'number': 2, 'created': '2020-07-09 11:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c95d7d15ca315d03832aefd01542340fddc48b89', 'message': 'Avoid trying to run jobboard conductor on error\n\nIf run_conductor failed due to some error like redis uninstalled/\nredis server unavailable, log exception and do not retry in infinite\nloop.\n\nChange-Id: I76755b1dbae804e145d1b474f062fff58ec6a4c7\n'}, {'number': 3, 'created': '2020-08-27 09:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e3250ecbbbf902471ab04f99f614b3e1b9e62d16', 'message': 'Avoid trying to run jobboard conductor on error\n\nIf run_conductor failed due to some error like redis uninstalled/\nredis server unavailable, log exception and do not retry in infinite\nloop.\n\nChange-Id: I76755b1dbae804e145d1b474f062fff58ec6a4c7\n'}, {'number': 4, 'created': '2020-09-03 08:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/18151e4c313b6acff8de4f57ff37036a65a811e0', 'message': 'Avoid trying to run jobboard conductor on error\n\nIf run_conductor failed due to some error like redis uninstalled/\nredis server unavailable, log exception and do not retry in infinite\nloop.\n\nChange-Id: I76755b1dbae804e145d1b474f062fff58ec6a4c7\n'}, {'number': 5, 'created': '2021-06-08 12:24:25.000000000', 'files': ['octavia/controller/queue/v2/consumer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7b42782652f0106d0dc7dac5c6461b214f1e4377', 'message': 'Avoid trying to run jobboard conductor on error\n\nIf run_conductor failed due to some error like redis uninstalled/\nredis server unavailable, log exception and do not retry in infinite\nloop.\n\nChange-Id: I76755b1dbae804e145d1b474f062fff58ec6a4c7\n'}]",6,739959,7b42782652f0106d0dc7dac5c6461b214f1e4377,19,5,5,7249,,,0,"Avoid trying to run jobboard conductor on error

If run_conductor failed due to some error like redis uninstalled/
redis server unavailable, log exception and do not retry in infinite
loop.

Change-Id: I76755b1dbae804e145d1b474f062fff58ec6a4c7
",git fetch https://review.opendev.org/openstack/octavia refs/changes/59/739959/5 && git format-patch -1 --stdout FETCH_HEAD,['octavia/controller/queue/v2/consumer.py'],1,992c0b7b6bcf393090459d0556b11cae0dd92069,,"from oslo_utils import excutils try: e.worker.services_controller.run_conductor( 'octavia-task-flow-conductor-%s' % uuidutils.generate_uuid()) except Exception as exc: LOG.exception(""Failed to run jobboard conductor due to: "" ""%s"", exc) break", e.worker.services_controller.run_conductor( 'octavia-task-flow-conductor-%s' % uuidutils.generate_uuid()),9,3
openstack%2Fkolla-ansible~stable%2Fvictoria~I2d0615ce6914e1f875a2647c8a95b86dd17eeb22,openstack/kolla-ansible,stable/victoria,I2d0615ce6914e1f875a2647c8a95b86dd17eeb22,Add forgotten 'Restart container' handler for swift,MERGED,2021-06-08 09:57:46.000000000,2021-06-08 14:20:16.000000000,2021-06-08 14:17:33.000000000,"[{'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-06-08 09:57:46.000000000', 'files': ['ansible/roles/swift/defaults/main.yml', 'ansible/roles/swift/handlers/main.yml', 'releasenotes/notes/bug-1931097-c94832ed2ed92c3a.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/595eec10bad142d330d448d000a2e7d97bae42d9', 'message': ""Add forgotten 'Restart container' handler for swift\n\nSince I0474324b60a5f792ef5210ab336639edf7a8cd9e swift role uses the new\nservice-cert-copy role introduced in the\nI6351147ddaff8b2ae629179a9bc3bae2ebac9519 but the swift role itself\ndoesn't contain the handler used in the service-cert-copy. Right now,\nrestarting the swift container isn't necessary, but the handler should\nexist. Also we should fix the name of the service used.\n\nCloses-Bug: #1931097\nChange-Id: I2d0615ce6914e1f875a2647c8a95b86dd17eeb22\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 5c19f9a5e0fc02ccba52f327c3ea5cedb632788d)\n""}]",0,795266,595eec10bad142d330d448d000a2e7d97bae42d9,14,6,1,14200,,,0,"Add forgotten 'Restart container' handler for swift

Since I0474324b60a5f792ef5210ab336639edf7a8cd9e swift role uses the new
service-cert-copy role introduced in the
I6351147ddaff8b2ae629179a9bc3bae2ebac9519 but the swift role itself
doesn't contain the handler used in the service-cert-copy. Right now,
restarting the swift container isn't necessary, but the handler should
exist. Also we should fix the name of the service used.

Closes-Bug: #1931097
Change-Id: I2d0615ce6914e1f875a2647c8a95b86dd17eeb22
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 5c19f9a5e0fc02ccba52f327c3ea5cedb632788d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/795266/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/swift/defaults/main.yml', 'ansible/roles/swift/handlers/main.yml', 'releasenotes/notes/bug-1931097-c94832ed2ed92c3a.yaml']",3,595eec10bad142d330d448d000a2e7d97bae42d9,swift-restart-handler,--- fixes: - | Fixes Swift deploy when TLS enabled. Added the missing handler and corrected the container name. `LP#1931097 <https://launchpad.net/bugs/1931097>`__ ,,11,1
openstack%2Fopenstack-tempest-skiplist~master~Iea16e623ab76f3e25b47205b76c9fb1be8beca97,openstack/openstack-tempest-skiplist,master,Iea16e623ab76f3e25b47205b76c9fb1be8beca97,Add rhos-17 test skip where wallaby test is included,MERGED,2021-06-08 13:34:14.000000000,2021-06-08 14:14:49.000000000,2021-06-08 14:12:56.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-08 13:34:14.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/f941ebe58d56790f949730d4837cb965c08111f6', 'message': 'Add rhos-17 test skip where wallaby test is included\n\noctavia_tempest_plugin.tests.scenario.v2.test_traffic_ops\n.TrafficOperationsScenarioTest\nis skipped in scenario010 in wallaby - skipping the same test\nin rhos-17.\n\nChange-Id: Iea16e623ab76f3e25b47205b76c9fb1be8beca97\nRelated-Bug: #1914600\n'}]",0,795327,f941ebe58d56790f949730d4837cb965c08111f6,9,5,1,9976,,,0,"Add rhos-17 test skip where wallaby test is included

octavia_tempest_plugin.tests.scenario.v2.test_traffic_ops
.TrafficOperationsScenarioTest
is skipped in scenario010 in wallaby - skipping the same test
in rhos-17.

Change-Id: Iea16e623ab76f3e25b47205b76c9fb1be8beca97
Related-Bug: #1914600
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/27/795327/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,f941ebe58d56790f949730d4837cb965c08111f6,17-bug-1914600, - periodic-tripleo-ci-rhel-8-scenario010-standalone-rhos-17,,1,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I2d0615ce6914e1f875a2647c8a95b86dd17eeb22,openstack/kolla-ansible,stable/wallaby,I2d0615ce6914e1f875a2647c8a95b86dd17eeb22,Add forgotten 'Restart container' handler for swift,MERGED,2021-06-08 09:56:48.000000000,2021-06-08 14:13:04.000000000,2021-06-08 14:11:31.000000000,"[{'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-06-08 09:56:48.000000000', 'files': ['ansible/roles/swift/defaults/main.yml', 'ansible/roles/swift/handlers/main.yml', 'releasenotes/notes/bug-1931097-c94832ed2ed92c3a.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/98c29107afd5f473d3a3e1051d907b2762a9ec64', 'message': ""Add forgotten 'Restart container' handler for swift\n\nSince I0474324b60a5f792ef5210ab336639edf7a8cd9e swift role uses the new\nservice-cert-copy role introduced in the\nI6351147ddaff8b2ae629179a9bc3bae2ebac9519 but the swift role itself\ndoesn't contain the handler used in the service-cert-copy. Right now,\nrestarting the swift container isn't necessary, but the handler should\nexist. Also we should fix the name of the service used.\n\nCloses-Bug: #1931097\nChange-Id: I2d0615ce6914e1f875a2647c8a95b86dd17eeb22\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 5c19f9a5e0fc02ccba52f327c3ea5cedb632788d)\n""}]",0,795265,98c29107afd5f473d3a3e1051d907b2762a9ec64,14,6,1,14200,,,0,"Add forgotten 'Restart container' handler for swift

Since I0474324b60a5f792ef5210ab336639edf7a8cd9e swift role uses the new
service-cert-copy role introduced in the
I6351147ddaff8b2ae629179a9bc3bae2ebac9519 but the swift role itself
doesn't contain the handler used in the service-cert-copy. Right now,
restarting the swift container isn't necessary, but the handler should
exist. Also we should fix the name of the service used.

Closes-Bug: #1931097
Change-Id: I2d0615ce6914e1f875a2647c8a95b86dd17eeb22
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 5c19f9a5e0fc02ccba52f327c3ea5cedb632788d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/795265/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/swift/defaults/main.yml', 'ansible/roles/swift/handlers/main.yml', 'releasenotes/notes/bug-1931097-c94832ed2ed92c3a.yaml']",3,98c29107afd5f473d3a3e1051d907b2762a9ec64,swift-restart-handler,--- fixes: - | Fixes Swift deploy when TLS enabled. Added the missing handler and corrected the container name. `LP#1931097 <https://launchpad.net/bugs/1931097>`__ ,,11,1
openstack%2Ftripleo-heat-templates~master~If11e2fc07a1ff773f6eaf209d8b48493f0b60e85,openstack/tripleo-heat-templates,master,If11e2fc07a1ff773f6eaf209d8b48493f0b60e85,Add OS::TripleO::UndercloudUpgradeEphemeralHeat,MERGED,2021-04-08 00:25:34.000000000,2021-06-08 14:09:09.000000000,2021-06-08 14:07:32.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-08 00:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb442dc6407c4d06e59df8d5ad2ab4017464e90f', 'message': ""Add OS::TripleO::UndercloudUpgradeEphemeralHeat\n\nA new service, OS::TripleO::Services::UndercloudUpgradeEphemeralHeat is\nadded to the Undercloud role. The service is mapped to OS::Heat::None by\ndefault, but when environments/lifecycle/undercloud-upgrade-prepare.yaml\nis included, the service will be enabled and will migrate any already\ndeployed stacks in the undercloud's Heat instance to be able to be used\nwith the ephemeral Heat deployment option from tripleoclient.\n\nChange-Id: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 2, 'created': '2021-04-09 20:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f783fba0a4e47c1bc602050068cba7ae7a622f1', 'message': ""Add OS::TripleO::UndercloudUpgradeEphemeralHeat\n\nA new service, OS::TripleO::Services::UndercloudUpgradeEphemeralHeat is\nadded to the Undercloud role. The service is mapped to OS::Heat::None by\ndefault, but when environments/lifecycle/undercloud-upgrade-prepare.yaml\nis included, the service will be enabled and will migrate any already\ndeployed stacks in the undercloud's Heat instance to be able to be used\nwith the ephemeral Heat deployment option from tripleoclient.\n\nChange-Id: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 3, 'created': '2021-04-12 21:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9977bb07499d1f9249ed77584409df23cf1ff122', 'message': ""Add OS::TripleO::UndercloudUpgradeEphemeralHeat\n\nA new service, OS::TripleO::Services::UndercloudUpgradeEphemeralHeat is\nadded to the Undercloud role. The service is mapped to OS::Heat::None by\ndefault, but when environments/lifecycle/undercloud-upgrade-prepare.yaml\nis included, the service will be enabled and will migrate any already\ndeployed stacks in the undercloud's Heat instance to be able to be used\nwith the ephemeral Heat deployment option from tripleoclient.\n\nChange-Id: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 4, 'created': '2021-04-19 21:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f476a30fa4ada41cd90be7d005aef8751f00a97', 'message': ""Add OS::TripleO::UndercloudUpgradeEphemeralHeat\n\nA new service, OS::TripleO::Services::UndercloudUpgradeEphemeralHeat is\nadded to the Undercloud role. The service is mapped to OS::Heat::None by\ndefault, but when environments/lifecycle/undercloud-upgrade-prepare.yaml\nis included, the service will be enabled and will migrate any already\ndeployed stacks in the undercloud's Heat instance to be able to be used\nwith the ephemeral Heat deployment option from tripleoclient.\n\nChange-Id: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 5, 'created': '2021-04-21 02:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d9994a3257217efbf5f3027065a811499ec5939', 'message': ""Add OS::TripleO::UndercloudUpgradeEphemeralHeat\n\nA new service, OS::TripleO::Services::UndercloudUpgradeEphemeralHeat is\nadded to the Undercloud role. The service is mapped to OS::Heat::None by\ndefault, but when environments/lifecycle/undercloud-upgrade-prepare.yaml\nis included, the service will be enabled and will migrate any already\ndeployed stacks in the undercloud's Heat instance to be able to be used\nwith the ephemeral Heat deployment option from tripleoclient.\n\nChange-Id: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 6, 'created': '2021-04-28 21:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3363d9927b1612d5d4d493c71f9204b65a821354', 'message': ""Add OS::TripleO::UndercloudUpgradeEphemeralHeat\n\nA new service, OS::TripleO::Services::UndercloudUpgradeEphemeralHeat is\nadded to the Undercloud role. The service is mapped to OS::Heat::None by\ndefault, but when environments/lifecycle/undercloud-upgrade-prepare.yaml\nis included, the service will be enabled and will migrate any already\ndeployed stacks in the undercloud's Heat instance to be able to be used\nwith the ephemeral Heat deployment option from tripleoclient.\n\nChange-Id: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 7, 'created': '2021-05-05 12:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca3f0e246154ae6a83b541c7435df95e451e312b', 'message': ""Add OS::TripleO::UndercloudUpgradeEphemeralHeat\n\nA new service, OS::TripleO::Services::UndercloudUpgradeEphemeralHeat is\nadded to the Undercloud role. The service is mapped to OS::Heat::None by\ndefault, but when environments/lifecycle/undercloud-upgrade-prepare.yaml\nis included, the service will be enabled and will migrate any already\ndeployed stacks in the undercloud's Heat instance to be able to be used\nwith the ephemeral Heat deployment option from tripleoclient.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 8, 'created': '2021-05-05 12:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ccd45abb38db3740abc7865b52c71fc9c1f1c86c', 'message': ""Add OS::TripleO::UndercloudUpgradeEphemeralHeat\n\nA new service, OS::TripleO::Services::UndercloudUpgradeEphemeralHeat is\nadded to the Undercloud role. The service is mapped to OS::Heat::None by\ndefault, but when environments/lifecycle/undercloud-upgrade-prepare.yaml\nis included, the service will be enabled and will migrate any already\ndeployed stacks in the undercloud's Heat instance to be able to be used\nwith the ephemeral Heat deployment option from tripleoclient.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\n""}, {'number': 9, 'created': '2021-05-05 20:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb580049ec5d47b719418c3047fe65d60c1029ea', 'message': ""Add OS::TripleO::UndercloudUpgradeEphemeralHeat\n\nA new service, OS::TripleO::Services::UndercloudUpgradeEphemeralHeat is\nadded to the Undercloud role. The service is mapped to OS::Heat::None by\ndefault, but when environments/lifecycle/undercloud-upgrade-prepare.yaml\nis included, the service will be enabled and will migrate any already\ndeployed stacks in the undercloud's Heat instance to be able to be used\nwith the ephemeral Heat deployment option from tripleoclient.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\n""}, {'number': 10, 'created': '2021-05-14 12:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/104b2abf0acb86308e66a54d959a89778d10572f', 'message': ""Add OS::TripleO::UndercloudUpgradeEphemeralHeat\n\nA new service, OS::TripleO::Services::UndercloudUpgradeEphemeralHeat is\nadded to the Undercloud role. The service is mapped to OS::Heat::None by\ndefault, but when environments/lifecycle/undercloud-upgrade-prepare.yaml\nis included, the service will be enabled and will migrate any already\ndeployed stacks in the undercloud's Heat instance to be able to be used\nwith the ephemeral Heat deployment option from tripleoclient.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\n""}, {'number': 11, 'created': '2021-05-18 20:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c78392e5bdaa1fb46a48466d78080a9ae09b5fff', 'message': ""Add OS::TripleO::UndercloudUpgradeEphemeralHeat\n\nA new service, OS::TripleO::Services::UndercloudUpgradeEphemeralHeat is\nadded to the Undercloud role. The service is mapped to OS::Heat::None by\ndefault, but when environments/lifecycle/undercloud-upgrade-prepare.yaml\nis included, the service will be enabled and will migrate any already\ndeployed stacks in the undercloud's Heat instance to be able to be used\nwith the ephemeral Heat deployment option from tripleoclient.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\n""}, {'number': 12, 'created': '2021-05-18 20:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b46ea7fabd15883bbd5aa041138772014be69bf', 'message': ""Add OS::TripleO::UndercloudUpgradeEphemeralHeat\n\nA new service, OS::TripleO::Services::UndercloudUpgradeEphemeralHeat is\nadded to the Undercloud role. The service is mapped to OS::Heat::None by\ndefault, but when environments/lifecycle/undercloud-upgrade-prepare.yaml\nis included, the service will be enabled and will migrate any already\ndeployed stacks in the undercloud's Heat instance to be able to be used\nwith the ephemeral Heat deployment option from tripleoclient.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\n""}, {'number': 13, 'created': '2021-06-03 01:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d59c0ce0b199993e7aa6434adeddd062a1887eb', 'message': ""Add OS::TripleO::UndercloudUpgradeEphemeralHeat\n\nA new service, OS::TripleO::Services::UndercloudUpgradeEphemeralHeat is\nadded to the Undercloud role. The service is mapped to OS::Heat::None by\ndefault, but when environments/lifecycle/undercloud-upgrade-prepare.yaml\nis included, the service will be enabled and will migrate any already\ndeployed stacks in the undercloud's Heat instance to be able to be used\nwith the ephemeral Heat deployment option from tripleoclient.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\n""}, {'number': 14, 'created': '2021-06-04 01:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8dad2f25f60a12774597ca7104073843f8921101', 'message': ""Add OS::TripleO::UndercloudUpgradeEphemeralHeat\n\nA new service, OS::TripleO::Services::UndercloudUpgradeEphemeralHeat is\nadded to the Undercloud role. The service is mapped to OS::Heat::None by\ndefault, but when environments/lifecycle/undercloud-upgrade-prepare.yaml\nis included, the service will be enabled and will migrate any already\ndeployed stacks in the undercloud's Heat instance to be able to be used\nwith the ephemeral Heat deployment option from tripleoclient.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\n""}, {'number': 15, 'created': '2021-06-04 11:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18869931c2593dc65efbf0ff4740695d4bc84a5c', 'message': ""Add OS::TripleO::UndercloudUpgradeEphemeralHeat\n\nA new service, OS::TripleO::Services::UndercloudUpgradeEphemeralHeat is\nadded to the Undercloud role. The service is mapped to OS::Heat::None by\ndefault, but when environments/lifecycle/undercloud-upgrade-prepare.yaml\nis included, the service will be enabled and will migrate any already\ndeployed stacks in the undercloud's Heat instance to be able to be used\nwith the ephemeral Heat deployment option from tripleoclient.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\n""}, {'number': 16, 'created': '2021-06-04 19:27:07.000000000', 'files': ['scripts/undercloud-upgrade-ephemeral-heat.py', 'environments/lifecycle/undercloud-upgrade-prepare.yaml', 'releasenotes/notes/undercloud-upgrade-ephemeral-heat-c838a9c61fc742a3.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles_data_undercloud.yaml', 'deployment/undercloud/undercloud-upgrade-ephemeral-heat.yaml', 'roles/Undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b252d45739a9e359a005dfb911dc38d516df4675', 'message': ""Add OS::TripleO::UndercloudUpgradeEphemeralHeat\n\nA new service, OS::TripleO::Services::UndercloudUpgradeEphemeralHeat is\nadded to the Undercloud role. The service is mapped to OS::Heat::None by\ndefault, but when environments/lifecycle/undercloud-upgrade-prepare.yaml\nis included, the service will be enabled and will migrate any already\ndeployed stacks in the undercloud's Heat instance to be able to be used\nwith the ephemeral Heat deployment option from tripleoclient.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\n""}]",71,785297,b252d45739a9e359a005dfb911dc38d516df4675,81,11,16,7144,,,0,"Add OS::TripleO::UndercloudUpgradeEphemeralHeat

A new service, OS::TripleO::Services::UndercloudUpgradeEphemeralHeat is
added to the Undercloud role. The service is mapped to OS::Heat::None by
default, but when environments/lifecycle/undercloud-upgrade-prepare.yaml
is included, the service will be enabled and will migrate any already
deployed stacks in the undercloud's Heat instance to be able to be used
with the ephemeral Heat deployment option from tripleoclient.

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/785297/14 && git format-patch -1 --stdout FETCH_HEAD,"['environments/lifecycle/undercloud-upgrade-prepare.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/undercloud-upgrade-ephemeral-heat-c838a9c61fc742a3.yaml', 'roles_data_undercloud.yaml', 'deployment/undercloud/undercloud-upgrade-ephemeral-heat.yaml', 'roles/Undercloud.yaml', 'scripts/undercloud-ephemeral-heat-upgrade.py']",7,fb442dc6407c4d06e59df8d5ad2ab4017464e90f,ephemeral-heat,"#!/usr/libexec/platform-python # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import openstack import os import yaml from heatclient.client import Client from tripleoclient import export def parse_args(): parser = argparse.ArgumentParser( description=""Upgrade an undercloud for ephemeral Heat."") parser.add_argument( '--cloud', '-c', default='undercloud', help='The name of the cloud used for the OpenStack connection.') parser.add_argument( '--stack', '-s', action='append', help='The stack(s) to migrate to using ephemeral Heat. Can be ' 'specified multiple times. If not specified, all stacks ' 'will be migrated') parser.add_argument( '--working-dir', '-w', help='Directory to use for saving stack state. ' 'Defaults to ~/overcloud-deploy/<stack>') return parser.parse_args() def main(): args = parse_args() if not args.working_dir: working_dir = os.path.join( os.path.expanduser('~'), 'overcloud-deploy') else: working_dir = args.working_dir conn = openstack.connection.from_config(cloud=args.cloud) heat = conn.orchestration _heatclient = Client('1', endpoint=conn.endpoint_for('orchestration'), token=conn.auth_token) stacks = args.stack or [s.name for s in heat.stacks()] for stack in stacks: stack_dir = os.path.join(working_dir, stack) if not os.path.exists(stack_dir): os.makedirs(stack_dir) passwords = export.export_passwords(_heatclient, stack) password_params = dict(parameter_defaults=passwords) passwords_path = os.path.join( stack_dir, ""tripleo-{}-passwords.yaml"".format(stack)) with open(passwords_path, 'w') as f: f.write(yaml.safe_dump(password_params)) if __name__ == '__main__': main() ",,143,2
openstack%2Fheat-templates~master~I8f0845179f600064961d28ca2661f17acf188dbf,openstack/heat-templates,master,I8f0845179f600064961d28ca2661f17acf188dbf,Adds template for Wordpress using neutron services,NEW,2014-04-28 20:01:23.000000000,2021-06-08 14:04:37.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2031}, {'_account_id': 6577}, {'_account_id': 6917}, {'_account_id': 7317}]","[{'number': 1, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/27d97c0d6b6a9aef887a217c1027ee0aae8321d7', 'message': 'Adds template for Wordpress using neutron services\n\nTemplate to deploys 2 instances wordpress (app server separated from db server)\nusing Neutron LBaaS to provide HA, FWaaS to limit network access and VPNaaS to\nprovide secure connection between application servers and database server.\n\nChange-Id: I8f0845179f600064961d28ca2661f17acf188dbf\n'}, {'number': 2, 'created': '2014-04-28 20:01:23.000000000', 'files': ['cfn/F17/WordPress_2_Instances_With_LB_FW_VPN.template'], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/fd7e6f771142940463f433c42bc79a2c97b77b67', 'message': 'Adds template for Wordpress using neutron services\n\nTemplate to deploys 2 instances wordpress (app server separated from db server)\nusing Neutron LBaaS to provide HA, FWaaS to limit network access and VPNaaS to\nprovide secure connection between application servers and database server.\n\nChange-Id: I8f0845179f600064961d28ca2661f17acf188dbf\n'}]",9,58496,fd7e6f771142940463f433c42bc79a2c97b77b67,13,6,2,6917,,,0,"Adds template for Wordpress using neutron services

Template to deploys 2 instances wordpress (app server separated from db server)
using Neutron LBaaS to provide HA, FWaaS to limit network access and VPNaaS to
provide secure connection between application servers and database server.

Change-Id: I8f0845179f600064961d28ca2661f17acf188dbf
",git fetch https://review.opendev.org/openstack/heat-templates refs/changes/96/58496/1 && git format-patch -1 --stdout FETCH_HEAD,['cfn/F17/WordPress_2_Instances_With_LB_FW_VPN.template'],1,27d97c0d6b6a9aef887a217c1027ee0aae8321d7,,"{ ""AWSTemplateFormatVersion"" : ""2010-09-09"", ""Description"" : ""Deploys wordpress application with load balancer, firewall, and vpn connection between application servers and db server"", ""Parameters"" : { ""KeyName"" : { ""Description"" : ""Name of an existing EC2 KeyPair to enable SSH access to the instances"", ""Type"" : ""String"" }, ""InstanceType"" : { ""Description"" : ""EC2 instance type"", ""Type"" : ""String"", ""Default"" : ""m1.small"", ""AllowedValues"" : [ ""m1.tiny"", ""m1.small"", ""m1.medium"", ""m1.large"", ""m1.xlarge"" ], ""ConstraintDescription"" : ""must be a valid EC2 instance type."" }, ""LinuxDistribution"": { ""Default"": ""F17"", ""Description"" : ""Distribution of choice"", ""Type"": ""String"", ""AllowedValues"" : [ ""F17"" ] }, ""ExternalNetworkNameOrId"" : { ""Description"" : ""External network name or id"", ""Type"" : ""String"", ""Default"" : ""public"", ""ConstraintDescription"" : ""must be a name or id of existing external network"" }, ""SubnetCidr1"" : { ""Description"" : ""Subnet cidr"", ""Type"" : ""String"", ""Default"" : ""10.0.0.0/24"", ""ConstraintDescription"" : ""must be a cidr"" }, ""SubnetPoolStart1"" : { ""Description"" : ""Start of allocation pool for subnet"", ""Type"" : ""String"", ""Default"" : ""10.0.0.2"", ""ConstraintDescription"" : ""must be a valid IP address"" }, ""SubnetPoolEnd1"" : { ""Description"" : ""End of allocation pool for subnet"", ""Type"" : ""String"", ""Default"" : ""10.0.0.200"", ""ConstraintDescription"" : ""must be a valid IP address"" }, ""ServerOneIPAddress"" : { ""Description"" : ""Private IP address for the first server"", ""Type"" : ""String"", ""Default"" : ""10.0.0.3"", ""ConstraintDescription"" : ""must be an IP address"" }, ""ServerTwoIPAddress"" : { ""Description"" : ""Private IP address for the second server"", ""Type"" : ""String"", ""Default"" : ""10.0.0.4"", ""ConstraintDescription"" : ""must be an IP address"" }, ""LBIPAddress"" : { ""Description"" : ""Private IP address for the load balancer"", ""Type"" : ""String"", ""Default"" : ""10.0.0.5"", ""ConstraintDescription"" : ""must be an IP address"" }, ""ExternalRouterGatewayIP1"" : { ""Description"" : ""IP address of external router gateway"", ""Type"" : ""String"", ""Default"" : ""172.24.4.228"", ""ConstraintDescription"" : ""must be an IP address"" }, ""SubnetCidr2"" : { ""Description"" : ""Subnet cidr"", ""Type"" : ""String"", ""Default"" : ""20.0.0.0/24"", ""ConstraintDescription"" : ""must be a cidr"" }, ""SubnetPoolStart2"" : { ""Description"" : ""Start of allocation pool for subnet"", ""Type"" : ""String"", ""Default"" : ""20.0.0.2"", ""ConstraintDescription"" : ""must be a valid IP address"" }, ""SubnetPoolEnd2"" : { ""Description"" : ""End of allocation pool for subnet"", ""Type"" : ""String"", ""Default"" : ""20.0.0.200"", ""ConstraintDescription"" : ""must be a valid IP address"" }, ""ServerThreeIPAddress"" : { ""Description"" : ""Private IP address for the third server"", ""Type"" : ""String"", ""Default"" : ""20.0.0.3"", ""ConstraintDescription"" : ""must be an IP address"" }, ""ExternalRouterGatewayIP2"" : { ""Description"" : ""IP address of external router gateway"", ""Type"" : ""String"", ""Default"" : ""172.24.4.229"", ""ConstraintDescription"" : ""must be an IP address"" }, ""DBName"" : { ""Default"" : ""wordpress"", ""Description"" : ""The WordPress database name"", ""Type"" : ""String"", ""MinLength"" : ""1"", ""MaxLength"" : ""64"", ""AllowedPattern"" : ""[a-zA-Z][a-zA-Z0-9]*"", ""ConstraintDescription"" : ""must begin with a letter and contain only alphanumeric characters."" }, ""DBUsername"" : { ""Default"" : ""admin"", ""NoEcho"" : ""true"", ""Description"" : ""The WordPress database admin account username"", ""Type"" : ""String"", ""MinLength"" : ""1"", ""MaxLength"" : ""16"", ""AllowedPattern"" : ""[a-zA-Z][a-zA-Z0-9]*"", ""ConstraintDescription"" : ""must begin with a letter and contain only alphanumeric characters."" }, ""DBPassword"" : { ""Default"" : ""admin"", ""NoEcho"" : ""true"", ""Description"" : ""The WordPress database admin account password"", ""Type"" : ""String"", ""MinLength"" : ""1"", ""MaxLength"" : ""41"", ""AllowedPattern"" : ""[a-zA-Z0-9]*"", ""ConstraintDescription"" : ""must contain only alphanumeric characters."" }, ""DBRootPassword"" : { ""Default"" : ""admin"", ""NoEcho"" : ""true"", ""Description"" : ""Root password for MySQL"", ""Type"" : ""String"", ""MinLength"" : ""1"", ""MaxLength"" : ""41"", ""AllowedPattern"" : ""[a-zA-Z0-9]*"", ""ConstraintDescription"" : ""must contain only alphanumeric characters."" } }, ""Mappings"" : { ""OpenstackRegion2Image"" : { ""RegionOne"" : { ""F17"" : ""F17-x86_64-cfntools"", ""U12"" : ""ubuntu-vm-heat-cfntools"" } } }, ""Resources"" : { ""Network1"": { ""Type"": ""OS::Quantum::Net"" }, ""Subnet1"": { ""Type"": ""OS::Quantum::Subnet"", ""Properties"": { ""network_id"": { ""Ref"" : ""Network1"" }, ""ip_version"": 4, ""cidr"": { ""Ref"" : ""SubnetCidr1"" }, ""dns_nameservers"": [""8.8.8.8""], ""allocation_pools"": [ { ""start"": { ""Ref"" : ""SubnetPoolStart1"" }, ""end"": { ""Ref"" : ""SubnetPoolEnd1"" } } ] } }, ""Port1"" : { ""Type"" : ""OS::Neutron::Port"", ""Properties"" : { ""network_id"" : { ""Ref"" : ""Network1"" }, ""fixed_ips"" : [ { ""subnet_id"" : { ""Ref"" : ""Subnet1"" }, ""ip_address"" : { ""Ref"" : ""ServerOneIPAddress"" } } ] } }, ""Port2"" : { ""Type"" : ""OS::Neutron::Port"", ""Properties"" : { ""network_id"" : { ""Ref"" : ""Network1"" }, ""fixed_ips"" : [ { ""subnet_id"" : { ""Ref"" : ""Subnet1"" }, ""ip_address"" : { ""Ref"" : ""ServerTwoIPAddress"" } } ] } }, ""Router1"": { ""Type"": ""OS::Quantum::Router"" }, ""RouterInterface1"": { ""Type"": ""OS::Quantum::RouterInterface"", ""Properties"": { ""router_id"": { ""Ref"" : ""Router1"" }, ""subnet_id"": { ""Ref"" : ""Subnet1"" } } }, ""RouterGateway1"": { ""Type"": ""OS::Quantum::RouterGateway"", ""Properties"": { ""router_id"": { ""Ref"" : ""Router1"" }, ""network_id"": { ""Ref"" : ""ExternalNetworkNameOrId"" } } }, ""VPNService1"" : { ""Type"" : ""OS::Neutron::VPNService"", ""DependsOn"" : ""RouterGateway1"", ""Properties"" : { ""router_id"" : { ""Ref"" : ""Router1"" }, ""subnet_id"" : { ""Ref"" : ""Subnet1"" } } }, ""IKEPolicy"" : { ""Type"" : ""OS::Neutron::IKEPolicy"", ""Properties"" : { ""name"" : ""IKEPolicy"", ""description"" : ""My new IKE policy"", ""auth_algorithm"" : ""sha1"", ""encryption_algorithm"" : ""aes-128"", ""phase1_negotiation_mode"" : ""main"", ""lifetime"" : { ""units"" : ""seconds"", ""value"" : 3600 }, ""pfs"" : ""group5"", ""ike_version"" : ""v1"" } }, ""IPsecPolicy"" : { ""Type"" : ""OS::Neutron::IPsecPolicy"", ""Properties"" : { ""name"" : ""IPsecPolicy"", ""description"" : ""My new IPsec policy"", ""transform_protocol"": ""esp"", ""encapsulation_mode"" : ""tunnel"", ""auth_algorithm"" : ""sha1"", ""encryption_algorithm"" : ""aes-128"", ""lifetime"" : { ""units"" : ""seconds"", ""value"" : 3600 }, ""pfs"" : ""group5"" } }, ""IPsecSiteConnection1"" : { ""Type"" : ""OS::Neutron::IPsecSiteConnection"", ""Properties"" : { ""peer_address"" : { ""Ref"" : ""ExternalRouterGatewayIP2"" }, ""peer_id"" : { ""Ref"" : ""ExternalRouterGatewayIP2"" }, ""peer_cidrs"" : [ { ""Ref"" : ""SubnetCidr2"" } ], ""mtu"" : 1500, ""dpd"" : { ""actions"" : ""hold"", ""interval"" : 30, ""timeout"" : 120 }, ""psk"" : ""secret"", ""initiator"" : ""bi-directional"", ""admin_state_up"" : true, ""ikepolicy_id"" : { ""Ref"" : ""IKEPolicy"" }, ""ipsecpolicy_id"" : { ""Ref"" : ""IPsecPolicy"" }, ""vpnservice_id"" : { ""Ref"" : ""VPNService1"" } } }, ""Network2"": { ""Type"": ""OS::Quantum::Net"" }, ""Subnet2"": { ""Type"": ""OS::Quantum::Subnet"", ""Properties"": { ""network_id"": { ""Ref"" : ""Network2"" }, ""ip_version"": 4, ""cidr"": { ""Ref"" : ""SubnetCidr2"" }, ""dns_nameservers"": [""8.8.8.8""], ""allocation_pools"": [ { ""start"": { ""Ref"" : ""SubnetPoolStart2"" }, ""end"": { ""Ref"" : ""SubnetPoolEnd2"" } } ] } }, ""Port3"" : { ""Type"" : ""OS::Neutron::Port"", ""Properties"" : { ""network_id"" : { ""Ref"" : ""Network2"" }, ""fixed_ips"" : [ { ""subnet_id"" : { ""Ref"" : ""Subnet2"" }, ""ip_address"" : { ""Ref"" : ""ServerThreeIPAddress"" } } ] } }, ""Router2"": { ""Type"": ""OS::Quantum::Router"" }, ""RouterInterface2"": { ""Type"": ""OS::Quantum::RouterInterface"", ""Properties"": { ""router_id"": { ""Ref"" : ""Router2"" }, ""subnet_id"": { ""Ref"" : ""Subnet2"" } } }, ""RouterGateway2"": { ""Type"": ""OS::Quantum::RouterGateway"", ""DependsOn"": ""RouterGateway1"", ""Properties"": { ""router_id"": { ""Ref"" : ""Router2"" }, ""network_id"": { ""Ref"" : ""ExternalNetworkNameOrId"" } } }, ""VPNService2"" : { ""Type"" : ""OS::Neutron::VPNService"", ""DependsOn"" : ""RouterGateway2"", ""Properties"" : { ""router_id"" : { ""Ref"" : ""Router2"" }, ""subnet_id"" : { ""Ref"" : ""Subnet2"" } } }, ""IPsecSiteConnection2"" : { ""Type"" : ""OS::Neutron::IPsecSiteConnection"", ""Properties"" : { ""peer_address"" : { ""Ref"" : ""ExternalRouterGatewayIP1"" }, ""peer_id"" : { ""Ref"" : ""ExternalRouterGatewayIP1"" }, ""peer_cidrs"" : [ { ""Ref"" : ""SubnetCidr1"" } ], ""mtu"" : 1500, ""dpd"" : { ""actions"" : ""hold"", ""interval"" : 30, ""timeout"" : 120 }, ""psk"" : ""secret"", ""initiator"" : ""bi-directional"", ""admin_state_up"" : true, ""ikepolicy_id"" : { ""Ref"" : ""IKEPolicy"" }, ""ipsecpolicy_id"" : { ""Ref"" : ""IPsecPolicy"" }, ""vpnservice_id"" : { ""Ref"" : ""VPNService2"" } } }, ""DBServer"" : { ""Type"" : ""OS::Nova::Server"", ""Properties"" : { ""image"" : { ""Fn::FindInMap"" : [ ""OpenstackRegion2Image"", ""RegionOne"", { ""Ref"" : ""LinuxDistribution"" } ] }, ""flavor"" : { ""Ref"" : ""InstanceType"" }, ""key_name"" : { ""Ref"" : ""KeyName"" }, ""networks"" : [ { ""port"": { ""Ref"" : ""Port3"" } } ], ""user_data"" : { ""Fn::Base64"" : { ""Fn::Join"" : ["""", [ ""#!/bin/bash -v\n"", ""yum -y install mysql mysql-server\n"", ""systemctl enable mysqld.service\n"", ""systemctl start mysqld.service\n"", ""# Setup MySQL root password and create a user\n"", ""mysqladmin -u root password '"", { ""Ref"" : ""DBRootPassword"" }, ""'\n"", ""cat << EOF | mysql -u root --password='"", { ""Ref"" : ""DBRootPassword"" }, ""'\n"", ""CREATE DATABASE "", { ""Ref"" : ""DBName"" }, "";\n"", ""GRANT ALL PRIVILEGES ON "", { ""Ref"" : ""DBName"" }, "".* TO \"""", { ""Ref"" : ""DBUsername"" }, ""\""@\""%\""\n"", ""IDENTIFIED BY \"""", { ""Ref"" : ""DBPassword"" }, ""\"";\n"", ""FLUSH PRIVILEGES;\n"", ""EXIT\n"", ""EOF\n"" ]]}} } }, ""AppServer1"" : { ""Type"" : ""OS::Nova::Server"", ""Properties"" : { ""image"" : { ""Fn::FindInMap"" : [ ""OpenstackRegion2Image"", ""RegionOne"", { ""Ref"" : ""LinuxDistribution"" } ] }, ""flavor"" : { ""Ref"" : ""InstanceType"" }, ""key_name"" : { ""Ref"" : ""KeyName"" }, ""networks"" : [ { ""port"": { ""Ref"" : ""Port1"" } } ], ""user_data"" : { ""Fn::Base64"" : { ""Fn::Join"" : ["""", [ ""#!/bin/bash -v\n"", ""yum -y install httpd wordpress\n"", ""systemctl enable httpd.service\n"", ""systemctl start httpd.service\n"", ""firewall-cmd --add-service=http\n"", ""firewall-cmd --permanent --add-service=http\n"", ""sed -i \""/Deny from All/d\"" /etc/httpd/conf.d/wordpress.conf\n"", ""sed -i \""s/Require local/Require all granted/\"" /etc/httpd/conf.d/wordpress.conf\n"", ""sed --in-place --e s/database_name_here/"", { ""Ref"" : ""DBName"" }, ""/ --e s/username_here/"", { ""Ref"" : ""DBUsername"" }, ""/ --e s/password_here/"", { ""Ref"" : ""DBPassword"" }, ""/ --e s/localhost/"", { ""Fn::GetAtt"" : [ ""DBServer"", ""first_address"" ]}, ""/ /usr/share/wordpress/wp-config.php\n"", ""systemctl restart httpd.service\n"" ]]}} } }, ""AppServer2"" : { ""Type"" : ""OS::Nova::Server"", ""Properties"" : { ""image"" : { ""Fn::FindInMap"" : [ ""OpenstackRegion2Image"", ""RegionOne"", { ""Ref"" : ""LinuxDistribution"" } ] }, ""flavor"" : { ""Ref"" : ""InstanceType"" }, ""key_name"" : { ""Ref"" : ""KeyName"" }, ""networks"" : [ { ""port"": { ""Ref"" : ""Port2"" } } ], ""user_data"" : { ""Fn::Base64"" : { ""Fn::Join"" : ["""", [ ""#!/bin/bash -v\n"", ""yum -y install httpd wordpress\n"", ""systemctl enable httpd.service\n"", ""systemctl start httpd.service\n"", ""firewall-cmd --add-service=http\n"", ""firewall-cmd --permanent --add-service=http\n"", ""sed -i \""/Deny from All/d\"" /etc/httpd/conf.d/wordpress.conf\n"", ""sed -i \""s/Require local/Require all granted/\"" /etc/httpd/conf.d/wordpress.conf\n"", ""sed --in-place --e s/database_name_here/"", { ""Ref"" : ""DBName"" }, ""/ --e s/username_here/"", { ""Ref"" : ""DBUsername"" }, ""/ --e s/password_here/"", { ""Ref"" : ""DBPassword"" }, ""/ --e s/localhost/"", { ""Fn::GetAtt"" : [ ""DBServer"", ""first_address"" ]}, ""/ /usr/share/wordpress/wp-config.php\n"", ""systemctl restart httpd.service\n"" ]]}} } }, ""LBMonitor"" : { ""Type"": ""OS::Neutron::HealthMonitor"", ""Properties"" : { ""type"" : ""HTTP"", ""expected_codes"" : ""200, 301"", ""url_path"" : ""/wordpress"", ""delay"" : 3, ""max_retries"" : 5, ""timeout"" : 10 } }, ""LBPool"": { ""Type"" : ""OS::Neutron::Pool"", ""Properties"" : { ""protocol"" : ""HTTP"", ""subnet_id"" : { ""Ref"" : ""Subnet1"" }, ""lb_method"" : ""ROUND_ROBIN"", ""vip"" : { ""address"" : { ""Ref"" : ""LBIPAddress"" }, ""protocol_port"" : 80 }, ""monitors"" : [ { ""Ref"" : ""LBMonitor"" } ] } }, ""LB"": { ""Type"": ""OS::Neutron::LoadBalancer"", ""Properties"" : { ""protocol_port"" : 80, ""pool_id"" : { ""Ref"" : ""LBPool""}, ""members"" : [ { ""Ref"" : ""AppServer1"" }, { ""Ref"" : ""AppServer2"" } ] } }, ""Firewall"": { ""Type"" : ""OS::Neutron::Firewall"", ""Properties"" : { ""firewall_policy_id"" : { ""Ref"" : ""FirewallPolicy"" }, ""admin_state_up"" : true } }, ""FirewallPolicy"": { ""Type"": ""OS::Neutron::FirewallPolicy"", ""Properties"" : { ""firewall_rules"" : [ { ""Ref"" : ""FirewallRuleAnyToLB"" }, { ""Ref"" : ""FirewallRuleLBToApps"" }, { ""Ref"" : ""FirewallRuleAppsToAny"" }, { ""Ref"" : ""FirewallRuleDBToAny"" }, { ""Ref"" : ""FirewallRuleOtherwiseDeny"" } ] } }, ""FirewallRuleAnyToLB"" : { ""Type"" : ""OS::Neutron::FirewallRule"", ""Properties"" : { ""destination_ip_address"" : { ""Ref"" : ""LBIPAddress"" }, ""action"" : ""allow"", ""enabled"" : true, ""ip_version"" : ""4"" } }, ""FirewallRuleLBToApps"" : { ""Type"" : ""OS::Neutron::FirewallRule"", ""Properties"" : { ""source_ip_address"" : { ""Ref"" : ""LBIPAddress"" }, ""destination_ip_address"" : { ""Ref"" : ""SubnetCidr1"" }, ""action"" : ""allow"", ""enabled"" : true, ""ip_version"" : ""4"" } }, ""FirewallRuleAppsToAny"" : { ""Type"" : ""OS::Neutron::FirewallRule"", ""Properties"" : { ""source_ip_address"" : { ""Ref"" : ""SubnetCidr1"" }, ""action"" : ""allow"", ""enabled"" : true, ""ip_version"" : ""4"" } }, ""FirewallRuleDBToAny"" : { ""Type"" : ""OS::Neutron::FirewallRule"", ""Properties"" : { ""source_ip_address"" : { ""Ref"" : ""SubnetCidr2"" }, ""action"" : ""allow"", ""enabled"" : true, ""ip_version"" : ""4"" } }, ""FirewallRuleOtherwiseDeny"" : { ""Type"" : ""OS::Neutron::FirewallRule"", ""Properties"" : { ""action"" : ""deny"", ""enabled"" : true, ""ip_version"" : ""4"" } } }, ""Outputs"" : { ""SubnetId"" : { ""Description"" : ""Subnet Id"", ""Value"" : { ""Ref"" : ""Subnet1"" } } } } ",,583,0
openstack%2Ftripleo-docs~master~I3798d7e366c6e522368d326a44150599d2805b59,openstack/tripleo-docs,master,I3798d7e366c6e522368d326a44150599d2805b59,Document HCI deployments with cephadm,MERGED,2021-05-27 21:40:03.000000000,2021-06-08 13:13:44.000000000,2021-06-08 13:12:17.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-05-27 21:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/7759a52d37a2dd60f4fe3f1c6ab39d4208910356', 'message': 'Document HCI deployments with cephadm\n\nChange-Id: I3798d7e366c6e522368d326a44150599d2805b59\n'}, {'number': 2, 'created': '2021-05-28 16:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b1c35310be45f4f2122a7145561f33caebb7b06d', 'message': 'Document HCI deployments with cephadm\n\nChange-Id: I3798d7e366c6e522368d326a44150599d2805b59\n'}, {'number': 3, 'created': '2021-06-02 17:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/6ba86e5fcf0dca1ead527d153b9eebb695ad1b1c', 'message': 'Document HCI deployments with cephadm\n\nChange-Id: I3798d7e366c6e522368d326a44150599d2805b59\nDepends-On: Ieadb0243c7d25dc35ace63824de52ba306ac7725\n'}, {'number': 4, 'created': '2021-06-03 19:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/94baba191b8a8576629aa37230e06513175e8d08', 'message': 'Document HCI deployments with cephadm\n\nChange-Id: I3798d7e366c6e522368d326a44150599d2805b59\n'}, {'number': 5, 'created': '2021-06-04 15:12:54.000000000', 'files': ['deploy-guide/source/features/cephadm.rst', 'deploy-guide/source/features/derived_parameters.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/3e29e7aa7f12024ac2569ed4e19941c0b20ca4cb', 'message': 'Document HCI deployments with cephadm\n\nChange-Id: I3798d7e366c6e522368d326a44150599d2805b59\n'}]",5,793505,3e29e7aa7f12024ac2569ed4e19941c0b20ca4cb,23,4,5,18002,,,0,"Document HCI deployments with cephadm

Change-Id: I3798d7e366c6e522368d326a44150599d2805b59
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/05/793505/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/features/cephadm.rst', 'deploy-guide/source/features/derived_parameters.rst']",2,7759a52d37a2dd60f4fe3f1c6ab39d4208910356,cephadm_hci," average_guest_cpu_utilization_percentage: 50 average_guest_memory_size_in_mb: 8192and will use 8 GB of RAM. The ``heat_environment_input_file`` must be set to the path of the Heat environment file which defines the OSDs. When ceph-ansible is used, this should be the file where the ``CephAnsibleDisksConfig`` parameter is set. This parameter is used to define which disks are used as Ceph OSDs and might look like the parameter_defaults: CephAnsibleDisksConfig: osd_scenario: lvm osd_objectstore: bluestore osds_per_device: 4 devices: - /dev/sda - /dev/sdb - /dev/sdc - /dev/sddIf cephadm is used instead of ceph-ansible (for Wallaby and newer), then, the ``heat_environment_input_file`` must be set to the path of the file where the ``CephHciOsdCount`` and ``CephHciOsdType`` parameters are set. For example:: parameter_defaults: CephHciOsdType: hdd CephHciOsdCount: 4 CephHciOsdCount is the number of expected Ceph OSDs per HCI node. CephHciOsdType is the type of data_device (not db_device) used for each OSD and must be one of hdd, ssd, or nvme. These are used by the Ansible module tripleo_derive_hci_parameters. Since CephOsdSpec, as used by cephadm, might only specify a description of devices to be used as OSDs (e.g. all devices), and not a list of devices like CephAnsibleDisksConfig, setting the count directly is necessary in order to know how much CPU/RAM to reserve. Similarly, because a device path is not hard coded, we cannot look up that device in Ironic to determine its type. ", average_guest_cpu_utilization_percentage: 10 average_guest_memory_size_in_mb: 2048and will use 8 GB of RAM. The ``heat_environment_input_file`` must be set to the path of the Heat environment file where the ``CephAnsibleDisksConfig`` parameter is set. This parameter is used to define which disks are used as Ceph OSDs and might look like the CephAnsibleDisksConfig: osd_scenario: lvm osd_objectstore: bluestore osds_per_device: 4 devices: - /dev/sda - /dev/sdb - /dev/sdc - /dev/sdd,114,15
openstack%2Ftacker~master~Ia9571b7f681f5666f8a42d3da8e8c86723bd103f,openstack/tacker,master,Ia9571b7f681f5666f8a42d3da8e8c86723bd103f,[WIP] LCM cannot be operated once a server failure occurs Forcibly change to FAILED_TEMP from PROCESSING via API vnflcm/v1/vnf_lcm_op_occs/{id}/force_fail.,NEW,2021-06-08 05:34:11.000000000,2021-06-08 13:07:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-08 05:34:11.000000000', 'files': ['tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/policies/vnf_lcm.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/b4ca65e7eeaf1210e172c8db45768cef9e76db82', 'message': '[WIP] LCM cannot be operated once a server failure occurs\nForcibly change to FAILED_TEMP from PROCESSING via\nAPI vnflcm/v1/vnf_lcm_op_occs/{id}/force_fail.\n\nChange-Id: Ia9571b7f681f5666f8a42d3da8e8c86723bd103f\n'}]",1,795211,b4ca65e7eeaf1210e172c8db45768cef9e76db82,2,1,1,31417,,,0,"[WIP] LCM cannot be operated once a server failure occurs
Forcibly change to FAILED_TEMP from PROCESSING via
API vnflcm/v1/vnf_lcm_op_occs/{id}/force_fail.

Change-Id: Ia9571b7f681f5666f8a42d3da8e8c86723bd103f
",git fetch https://review.opendev.org/openstack/tacker refs/changes/11/795211/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/policies/vnf_lcm.py']",3,b4ca65e7eeaf1210e172c8db45768cef9e76db82,," policy.DocumentedRuleDefault( name=VNFLCM % 'force_fail', check_str=base.RULE_ADMIN_OR_OWNER, description=""Force fail a VNF instance."", operations=[ { 'method': 'POST', 'path': '/vnflcm/v1/vnf_lcm_op_occs/{vnfLcmOpOccId}/force_fail' } ] ),",,73,0
openstack%2Fopenstack-ansible-lxc_hosts~master~I7cd5f8065b25a552859a3c1fba72363d149d3ae1,openstack/openstack-ansible-lxc_hosts,master,I7cd5f8065b25a552859a3c1fba72363d149d3ae1,Add CentOS 8.4 support,MERGED,2021-06-07 13:05:21.000000000,2021-06-08 12:54:51.000000000,2021-06-08 12:53:22.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-07 13:05:21.000000000', 'files': ['vars/centos-8.4.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/02727291afaaf3920fc11d3018ea088af5e4f1b0', 'message': 'Add CentOS 8.4 support\n\nChange-Id: I7cd5f8065b25a552859a3c1fba72363d149d3ae1\n'}]",0,795102,02727291afaaf3920fc11d3018ea088af5e4f1b0,11,4,1,28619,,,0,"Add CentOS 8.4 support

Change-Id: I7cd5f8065b25a552859a3c1fba72363d149d3ae1
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/02/795102/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/centos-8.4.yml'],1,02727291afaaf3920fc11d3018ea088af5e4f1b0,osa/el84,centos-8.3.yml,,1,0
openstack%2Fsushy-oem-idrac~stable%2Fvictoria~Ie40a5e09393b390238ed559e31cba37f73d73dfb,openstack/sushy-oem-idrac,stable/victoria,Ie40a5e09393b390238ed559e31cba37f73d73dfb,Remove lower constraints,MERGED,2021-04-08 12:19:11.000000000,2021-06-08 12:46:26.000000000,2021-06-08 12:46:26.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-04-08 12:19:11.000000000', 'files': ['lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/798857afddd9d775753a1943910562ad7f91458b', 'message': 'Remove lower constraints\n\nAs discussed during the upstream ironic community meeting on\nMonday Dec 14 2020[1], the lower-constraints are being\nremoved.\n\n[1] http://eavesdrop.openstack.org/meetings/ironic/2020/ironic.2020-12-14-15.00.log.html#l-92\n\nConflicts:\n        zuul.d/project.yaml\n\nChange-Id: Ie40a5e09393b390238ed559e31cba37f73d73dfb\n(cherry picked from commit abe646e9512ae1a411b77055df8f30bfffc48ca1)\n'}]",0,785402,798857afddd9d775753a1943910562ad7f91458b,7,3,1,27909,,,0,"Remove lower constraints

As discussed during the upstream ironic community meeting on
Monday Dec 14 2020[1], the lower-constraints are being
removed.

[1] http://eavesdrop.openstack.org/meetings/ironic/2020/ironic.2020-12-14-15.00.log.html#l-92

Conflicts:
        zuul.d/project.yaml

Change-Id: Ie40a5e09393b390238ed559e31cba37f73d73dfb
(cherry picked from commit abe646e9512ae1a411b77055df8f30bfffc48ca1)
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/02/785402/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini']",3,798857afddd9d775753a1943910562ad7f91458b,,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,59
openstack%2Ftripleo-operator-ansible~master~I34aa7272ced03ee535a3a56428496195ad6a4d95,openstack/tripleo-operator-ansible,master,I34aa7272ced03ee535a3a56428496195ad6a4d95,"Add missing ""vip"" argument to the CLI",MERGED,2021-06-08 12:21:52.000000000,2021-06-08 12:45:21.000000000,2021-06-08 12:45:21.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-08 12:21:52.000000000', 'files': ['roles/tripleo_overcloud_network_vip_provision/tasks/main.yml', 'roles/tripleo_overcloud_network_vip_provision/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/227863875e026f8eeb02886e84d2446afd06f68c', 'message': 'Add missing ""vip"" argument to the CLI\n\nChange-Id: I34aa7272ced03ee535a3a56428496195ad6a4d95\n'}]",0,795309,227863875e026f8eeb02886e84d2446afd06f68c,8,4,1,28223,,,0,"Add missing ""vip"" argument to the CLI

Change-Id: I34aa7272ced03ee535a3a56428496195ad6a4d95
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/09/795309/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_network_vip_provision/tasks/main.yml', 'roles/tripleo_overcloud_network_vip_provision/molecule/default/converge.yml']",2,227863875e026f8eeb02886e84d2446afd06f68c,network-data-v2," - tripleo_overcloud_network_vip_provision_output == ""overcloud network vip provision -y"" ""overcloud network vip provision -o foo.yaml"""," - tripleo_overcloud_network_vip_provision_output == ""overcloud network provision -y"" ""overcloud network provision -o foo.yaml""",4,5
openstack%2Fneutron~master~Ib39cfb9984a4e3b2df8155b93d6f7467bc41b1c5,openstack/neutron,master,Ib39cfb9984a4e3b2df8155b93d6f7467bc41b1c5,"Revert ""use payloads for PORT AFTER_CREATE events""",ABANDONED,2021-06-08 01:05:25.000000000,2021-06-08 12:35:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-08 01:05:25.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/services/segments/plugin.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/plugins/ml2/plugin.py', 'neutron/plugins/ml2/extensions/dns_integration.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/770ea17a2f1428ea1644043466cc54512b22e259', 'message': 'Revert ""use payloads for PORT AFTER_CREATE events""\n\nThis reverts commit c9fce3a8b67d48049552e83afc9e0ba035856772.\n\nChange-Id: Ib39cfb9984a4e3b2df8155b93d6f7467bc41b1c5\n'}]",0,795194,770ea17a2f1428ea1644043466cc54512b22e259,6,1,1,11952,,,0,"Revert ""use payloads for PORT AFTER_CREATE events""

This reverts commit c9fce3a8b67d48049552e83afc9e0ba035856772.

Change-Id: Ib39cfb9984a4e3b2df8155b93d6f7467bc41b1c5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/795194/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/services/segments/plugin.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/plugins/ml2/plugin.py', 'neutron/plugins/ml2/extensions/dns_integration.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py']",9,770ea17a2f1428ea1644043466cc54512b22e259,," registry.notify(res, events.AFTER_CREATE, self, context=mock.Mock(), **kwargs) registry.notify(res, events.AFTER_CREATE, self, context=mock.Mock(), **kwargs)"," if res == resources.PORT: registry.publish(res, events.AFTER_CREATE, self, payload=events.DBEventPayload( mock.Mock(), states=({res: {}},))) else: registry.notify(res, events.AFTER_CREATE, self, context=mock.Mock(), **kwargs) if res == resources.PORT: registry.publish(res, events.AFTER_CREATE, self, payload=events.DBEventPayload( mock.Mock(), states=({res: {}}))) else: registry.notify(res, events.AFTER_CREATE, self, context=mock.Mock(), **kwargs)",39,72
openstack%2Fneutron~master~Iace2127ff2e9176ab0549ef3f10a5ddc07cb6b4c,openstack/neutron,master,Iace2127ff2e9176ab0549ef3f10a5ddc07cb6b4c,"Revert ""Use payloads for ADDRESS_GROUP callback events""",ABANDONED,2021-06-07 21:28:23.000000000,2021-06-08 12:35:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-07 21:28:23.000000000', 'files': ['neutron/db/address_group_db.py', 'neutron/plugins/ml2/ovo_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/482660bb24dd198d8757cfa62bed8dbd745d86a0', 'message': 'Revert ""Use payloads for ADDRESS_GROUP callback events""\n\nThis reverts commit 17adb4c3fbb9aca06efe71f154b9812d2d1426f3.\n\nChange-Id: Iace2127ff2e9176ab0549ef3f10a5ddc07cb6b4c\n'}]",0,795185,482660bb24dd198d8757cfa62bed8dbd745d86a0,8,1,1,11952,,,0,"Revert ""Use payloads for ADDRESS_GROUP callback events""

This reverts commit 17adb4c3fbb9aca06efe71f154b9812d2d1426f3.

Change-Id: Iace2127ff2e9176ab0549ef3f10a5ddc07cb6b4c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/795185/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/address_group_db.py', 'neutron/plugins/ml2/ovo_rpc.py']",2,482660bb24dd198d8757cfa62bed8dbd745d86a0,," _PAYLOAD_RESOURCES = (resources.NETWORK,)"," _PAYLOAD_RESOURCES = (resources.NETWORK, resources.ADDRESS_GROUP,)",40,28
openstack%2Fkuryr-kubernetes~master~I2599b4860c703254318bcd2f40affbf0ecb401e3,openstack/kuryr-kubernetes,master,I2599b4860c703254318bcd2f40affbf0ecb401e3,Use py3 as the default runtime for tox,ABANDONED,2021-05-28 07:30:59.000000000,2021-06-08 12:26:06.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-05-28 07:30:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/797b836efb229e7f5eff7a87f89bd3bc64c2b6d8', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I2599b4860c703254318bcd2f40affbf0ecb401e3\n'}]",0,793544,797b836efb229e7f5eff7a87f89bd3bc64c2b6d8,7,4,1,31828,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I2599b4860c703254318bcd2f40affbf0ecb401e3
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/44/793544/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,797b836efb229e7f5eff7a87f89bd3bc64c2b6d8,,"envlist = py3,pep8","envlist = py38,pep8",1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I859138e84ee58fc03b938c708c7d6f7f5b7c0961,openstack/tripleo-heat-templates,stable/queens,I859138e84ee58fc03b938c708c7d6f7f5b7c0961,[Queens] Do not show passwords in retry wrapper,ABANDONED,2021-05-18 14:36:08.000000000,2021-06-08 12:10:58.000000000,,"[{'_account_id': 6926}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-18 14:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/77e3388e455150d9e728ed749e23e60a8e4e8a1b', 'message': 'Do not show passwords in retry wrapper\n\nIn many cases subscription-manager subcommand is enough in output. This\nprevents output of passwords in heat/deploy/upgrade logs.\n\nCloses: rhbz#1875508\n\nChange-Id: I859138e84ee58fc03b938c708c7d6f7f5b7c0961\n'}, {'number': 2, 'created': '2021-05-18 14:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7393bf2f73476b4f4dde9fd5400c9c56d36eafb9', 'message': '[Queens] Do not show passwords in retry wrapper\n\nIn many cases subscription-manager subcommand is enough in output. This\nprevents output of passwords in heat/deploy/upgrade logs.\n\nCloses: rhbz#1875508\n\nChange-Id: I859138e84ee58fc03b938c708c7d6f7f5b7c0961\n'}, {'number': 3, 'created': '2021-05-18 17:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/249f57804cb7e7fcd7a328eeb8c36772f623a818', 'message': '[Queens] Do not show passwords in retry wrapper\n\nIn many cases subscription-manager subcommand is enough in output. This\nprevents output of passwords in heat/deploy/upgrade logs.\n\nCloses: rhbz#1961709\n\nChange-Id: I859138e84ee58fc03b938c708c7d6f7f5b7c0961\n'}, {'number': 4, 'created': '2021-06-07 14:52:41.000000000', 'files': ['extraconfig/pre_deploy/rhel-registration/scripts/rhel-registration'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32692846c4db6e0fe5c2abb3ff544206a9a8f367', 'message': '[Queens] Do not show passwords in retry wrapper\n\nIn many cases subscription-manager subcommand is enough in output. This\nprevents output of passwords in heat/deploy/upgrade logs.\n\nCloses-Bug: #1931132\nCloses: rhbz#1961709\n\nChange-Id: I859138e84ee58fc03b938c708c7d6f7f5b7c0961\n'}]",0,791988,32692846c4db6e0fe5c2abb3ff544206a9a8f367,22,5,4,11090,,,0,"[Queens] Do not show passwords in retry wrapper

In many cases subscription-manager subcommand is enough in output. This
prevents output of passwords in heat/deploy/upgrade logs.

Closes-Bug: #1931132
Closes: rhbz#1961709

Change-Id: I859138e84ee58fc03b938c708c7d6f7f5b7c0961
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/791988/2 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/pre_deploy/rhel-registration/scripts/rhel-registration'],1,77e3388e455150d9e728ed749e23e60a8e4e8a1b,," mycli_output=(${mycli}) echo ${mycli_output[@]:0:2} echo ""INFO: Executing '${mycli_output[@]:0:2}' ..."" echo ""INFO: Ran '${mycli_output[@]:0:2}' successfully, not retrying..."" echo ""WARN: Failed to connect when running '${mycli_output[@]:0:2}', retrying (attempt #$retry_count )..."" echo ""ERROR: Failed to connect after ${retry_max_count} attempts when running '${mycli_output[@]:0:2}'"""," echo ""INFO: Executing '${mycli}' ..."" echo ""INFO: Ran '${mycli}' successfully, not retrying..."" echo ""WARN: Failed to connect when running '${mycli}', retrying (attempt #$retry_count )..."" echo ""ERROR: Failed to connect after ${retry_max_count} attempts when running '${mycli}'""",6,4
openstack%2Freleases~master~I0ac31dae808bedee07f54278ff961ad59b30183e,openstack/releases,master,I0ac31dae808bedee07f54278ff961ad59b30183e,update tripleo's release liason,MERGED,2021-06-07 18:22:03.000000000,2021-06-08 12:07:01.000000000,2021-06-08 12:07:01.000000000,"[{'_account_id': 308}, {'_account_id': 8449}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 18:22:03.000000000', 'files': ['data/release_liaisons.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/431f60f502cf7b1d6bfcf1f2e25366988a74229d', 'message': ""update tripleo's release liason\n\nChange-Id: I0ac31dae808bedee07f54278ff961ad59b30183e\n""}]",0,795166,431f60f502cf7b1d6bfcf1f2e25366988a74229d,9,4,1,9592,,,0,"update tripleo's release liason

Change-Id: I0ac31dae808bedee07f54278ff961ad59b30183e
",git fetch https://review.opendev.org/openstack/releases refs/changes/66/795166/1 && git format-patch -1 --stdout FETCH_HEAD,['data/release_liaisons.yaml'],1,431f60f502cf7b1d6bfcf1f2e25366988a74229d,, - name: 'Marios Andreou' irc: marios email: mandreou@redhat.com, - name: 'Emilien Macchi' irc: EmilienM email: emilien@redhat.com,3,3
openstack%2Fpuppet-tripleo~stable%2Ftrain~Iaecdc0adb8455b2e660624f19a42e6dede5b931d,openstack/puppet-tripleo,stable/train,Iaecdc0adb8455b2e660624f19a42e6dede5b931d,Allow tuning timeouts for rabbitmq pacemaker resource,ABANDONED,2021-06-08 11:23:33.000000000,2021-06-08 11:43:04.000000000,,[],"[{'number': 1, 'created': '2021-06-08 11:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0fac4ff9146faa18520d09001e93af2de067b0e0', 'message': 'Allow tuning timeouts for rabbitmq pacemaker resource\n\nThis change introduces several timeout parameters so that users can\ntune operation timeouts about rabbimtq resource in pacemaker.\n\nChange-Id: Iaecdc0adb8455b2e660624f19a42e6dede5b931d\n'}, {'number': 2, 'created': '2021-06-08 11:33:34.000000000', 'files': ['manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/pacemaker/rabbitmq.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/107d67836e31d83a616ea69d1bfa193d84b5b366', 'message': 'Allow tuning timeouts for rabbitmq pacemaker resource\n\nThis change introduces several timeout parameters so that users can\ntune operation timeouts about rabbimtq resource in pacemaker.\n\nChange-Id: Iaecdc0adb8455b2e660624f19a42e6dede5b931d\n'}]",0,795298,107d67836e31d83a616ea69d1bfa193d84b5b366,3,0,2,9816,,,0,"Allow tuning timeouts for rabbitmq pacemaker resource

This change introduces several timeout parameters so that users can
tune operation timeouts about rabbimtq resource in pacemaker.

Change-Id: Iaecdc0adb8455b2e660624f19a42e6dede5b931d
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/98/795298/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/pacemaker/rabbitmq.pp']",2,0fac4ff9146faa18520d09001e93af2de067b0e0,rabbitmq-timeout,"# [*start_timeout*] # (Optional) Maximum time in second for starting up a rabbitmq server # before pacemaker considers the operation timed out. # Defaults to 200 # # [*monitor_timeout*] # (Optional) Maximum time in second for monitoring a rabbitmq server # before pacemaker considers the operation timed out. # Defaults to undef (use the default value in resource agent) # # [*stop_timeout*] # (Optional) Maximum time in second for stopping a rabbitmq server # before pacemaker considers the operation timed out. # Defaults to 200 # $start_timeout = 200, $monitor_timeout = undef $stop_timeout = 200, $op_start_params = $start_timeout ? { undef => undef default => ""start timeout=${start_timeout}s"" } $op_monitor_params = $monitor_timeout ? { undef => undef default => ""monitor timeout=${monitor_timeout}s"" } $op_stop_params = $stop_timeout ? { undef => undef default => ""stop timeout=${stop_timeout}s"" } $op_params = join(delete_undef_values([$op_start_params, $op_minitor_params, $ops_stop_params]), ' ') op_params => $op_params,"," op_params => 'start timeout=200s stop timeout=200s',",68,2
openstack%2Ftripleo-quickstart-extras~master~I18e3dae31898b4baea92e0bb39d48553c8319921,openstack/tripleo-quickstart-extras,master,I18e3dae31898b4baea92e0bb39d48553c8319921,Workaround for jdk zstream breaking freeipa instal,MERGED,2020-11-09 07:40:06.000000000,2021-06-08 10:09:43.000000000,2020-11-11 03:11:07.000000000,"[{'_account_id': 9914}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-11-09 07:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/482d5f27fef40c1967bf57b25f76f1a0c0bd36c6', 'message': 'Workaround for jdk zstream breaking freeipa instal\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1892216.\nWe need to downgrade openjdk in order to get a successful install\nuntil freeipa is fixed or some other rhel workaround is implemented.\n\nWith this patch we are adding workaround in freeipa-setup role, we\nhave added similiar workaround in ipa-multinode role here[1]\n\n[1] https://review.opendev.org/#/c/760994/\nCloses-Bug: #1902478\n\nChange-Id: I18e3dae31898b4baea92e0bb39d48553c8319921\n'}, {'number': 2, 'created': '2020-11-09 07:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/77ffc97ebda994774c0656a8c09dbba5843fe10f', 'message': 'Workaround for jdk zstream breaking freeipa instal\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1892216.\nWe need to downgrade openjdk in order to get a successful install\nuntil freeipa is fixed or some other rhel workaround is implemented.\n\nWith this patch we are adding workaround in freeipa-setup role, we\nhave added similiar workaround in ipa-multinode role here[1]\n\n[1] https://review.opendev.org/#/c/760994/\nCloses-Bug: #1902478\n\nChange-Id: I18e3dae31898b4baea92e0bb39d48553c8319921\n'}, {'number': 3, 'created': '2020-11-09 12:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d1c347a19336347bf49e5af7db7e7cebff83d596', 'message': 'Workaround for jdk zstream breaking freeipa instal\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1892216.\nWe need to downgrade openjdk in order to get a successful install\nuntil freeipa is fixed or some other rhel workaround is implemented.\n\nWith this patch we are adding workaround in freeipa-setup role, we\nhave added similiar workaround in ipa-multinode role here[1]\n\n[1] https://review.opendev.org/#/c/760994/\nCloses-Bug: #1902478\n\nChange-Id: I18e3dae31898b4baea92e0bb39d48553c8319921\n'}, {'number': 4, 'created': '2020-11-09 14:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d69becb2e148495e253f846897881dbe4f32c546', 'message': 'Workaround for jdk zstream breaking freeipa instal\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1892216.\nWe need to downgrade openjdk in order to get a successful install\nuntil freeipa is fixed or some other rhel workaround is implemented.\n\nWith this patch we are adding workaround in freeipa-setup role, we\nhave added similiar workaround in ipa-multinode role here[1]\n\n[1] https://review.opendev.org/#/c/760994/\nCloses-Bug: #1902478\n\nChange-Id: I18e3dae31898b4baea92e0bb39d48553c8319921\n'}, {'number': 5, 'created': '2020-11-10 08:00:23.000000000', 'files': ['roles/freeipa-setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9fef1c0e42b5ee755196e08705f7368c1f2b5e1b', 'message': 'Workaround for jdk zstream breaking freeipa instal\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1892216.\nWe need to downgrade openjdk in order to get a successful install\nuntil freeipa is fixed or some other rhel workaround is implemented.\n\nWith this patch we are adding workaround in freeipa-setup role, we\nhave added similiar workaround in ipa-multinode role here[1]\n\n[1] https://review.opendev.org/#/c/760994/\nCloses-Bug: #1902478\n\nChange-Id: I18e3dae31898b4baea92e0bb39d48553c8319921\n'}]",5,761863,9fef1c0e42b5ee755196e08705f7368c1f2b5e1b,28,8,5,29775,,,0,"Workaround for jdk zstream breaking freeipa instal

See https://bugzilla.redhat.com/show_bug.cgi?id=1892216.
We need to downgrade openjdk in order to get a successful install
until freeipa is fixed or some other rhel workaround is implemented.

With this patch we are adding workaround in freeipa-setup role, we
have added similiar workaround in ipa-multinode role here[1]

[1] https://review.opendev.org/#/c/760994/
Closes-Bug: #1902478

Change-Id: I18e3dae31898b4baea92e0bb39d48553c8319921
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/63/761863/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/freeipa-setup/tasks/main.yml'],1,482d5f27fef40c1967bf57b25f76f1a0c0bd36c6,workaround_java_issues_with_freeipa,# This can be removed once rhbz#1892216 is fixed and released # (in launchpad #1902478) # We need to install openjdk beforehand (as it is installed by the freeipa) # script and then downgrade it in case the version is the known broken one - name: Workaround for newer JDK breaking FreeIPA become: true shell: | dnf install -y 'dnf-command(versionlock)' source /etc/ci/mirror_info.sh wget $NODEPOOL_CENTOS_MIRROR/8/AppStream/x86_64/os/Packages/java-1.8.0-openjdk-1.8.0.265.b01-0.el8_2.x86_64.rpm wget $NODEPOOL_CENTOS_MIRROR/8/AppStream/x86_64/os/Packages/java-1.8.0-openjdk-headless-1.8.0.265.b01-0.el8_2.x86_64.rpm wget $NODEPOOL_CENTOS_MIRROR/8/AppStream/x86_64/os/Packages/java-1.8.0-openjdk-devel-1.8.0.265.b01-0.el8_2.x86_64.rpm dnf install -y java-1.8.0-openjdk*rpm dnf versionlock add java-1.8.0-openjdk java-1.8.0-openjdk-headless java-1.8.0-openjdk-devel dnf versionlock list > /var/log/versionlock.log ,,16,0
openstack%2Fironic-lib~stable%2Fvictoria~I0349073cf0f78fb021dcd3e830fedddf2b4a0c92,openstack/ironic-lib,stable/victoria,I0349073cf0f78fb021dcd3e830fedddf2b4a0c92,utils.execute: log stdout and stderr even on failure,MERGED,2021-06-07 13:06:21.000000000,2021-06-08 10:07:31.000000000,2021-06-08 10:05:31.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-07 13:06:21.000000000', 'files': ['ironic_lib/utils.py', 'ironic_lib/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/b117e63ecd33360a0980d62a7718e5493060058b', 'message': ""utils.execute: log stdout and stderr even on failure\n\nAdd logging when a command is not found.\n\nAlso remove duplicate logging of exit code and command line:\nit's already done by processutils.\n\nChange-Id: I0349073cf0f78fb021dcd3e830fedddf2b4a0c92\n(cherry picked from commit e4d7c1f41e476eb55b84221076fb18c13ebb2071)\n""}]",0,795046,b117e63ecd33360a0980d62a7718e5493060058b,7,2,1,10239,,,0,"utils.execute: log stdout and stderr even on failure

Add logging when a command is not found.

Also remove duplicate logging of exit code and command line:
it's already done by processutils.

Change-Id: I0349073cf0f78fb021dcd3e830fedddf2b4a0c92
(cherry picked from commit e4d7c1f41e476eb55b84221076fb18c13ebb2071)
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/46/795046/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/utils.py', 'ironic_lib/tests/test_utils.py']",2,b117e63ecd33360a0980d62a7718e5493060058b,error-log-stable/victoria," name, args, kwargs = log_mock.debug.mock_calls[0] if log_stdout is False: self.assertEqual(1, log_mock.debug.call_count) self.assertEqual(2, log_mock.debug.call_count) @mock.patch.object(utils, 'LOG', autospec=True) @mock.patch.object(processutils, 'execute', autospec=True) def test_execute_command_not_found(self, execute_mock, log_mock): execute_mock.side_effect = FileNotFoundError self.assertRaises(FileNotFoundError, utils.execute, 'foo') execute_mock.assert_called_once_with('foo') name, args, kwargs = log_mock.debug.mock_calls[0] self.assertEqual(1, log_mock.debug.call_count) self.assertIn('not found', args[0]) "," name, args, kwargs = log_mock.debug.mock_calls[1] if log_stdout is False: self.assertEqual(2, log_mock.debug.call_count) self.assertEqual(3, log_mock.debug.call_count)",29,10
openstack%2Fironic-lib~stable%2Fwallaby~I0349073cf0f78fb021dcd3e830fedddf2b4a0c92,openstack/ironic-lib,stable/wallaby,I0349073cf0f78fb021dcd3e830fedddf2b4a0c92,utils.execute: log stdout and stderr even on failure,MERGED,2021-06-07 13:06:05.000000000,2021-06-08 10:07:00.000000000,2021-06-08 10:05:28.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-07 13:06:05.000000000', 'files': ['ironic_lib/utils.py', 'ironic_lib/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/ca2e4bae045ce90e632f68dd24510e0f9258fa19', 'message': ""utils.execute: log stdout and stderr even on failure\n\nAdd logging when a command is not found.\n\nAlso remove duplicate logging of exit code and command line:\nit's already done by processutils.\n\nChange-Id: I0349073cf0f78fb021dcd3e830fedddf2b4a0c92\n(cherry picked from commit e4d7c1f41e476eb55b84221076fb18c13ebb2071)\n""}]",0,795045,ca2e4bae045ce90e632f68dd24510e0f9258fa19,7,2,1,10239,,,0,"utils.execute: log stdout and stderr even on failure

Add logging when a command is not found.

Also remove duplicate logging of exit code and command line:
it's already done by processutils.

Change-Id: I0349073cf0f78fb021dcd3e830fedddf2b4a0c92
(cherry picked from commit e4d7c1f41e476eb55b84221076fb18c13ebb2071)
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/45/795045/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/utils.py', 'ironic_lib/tests/test_utils.py']",2,ca2e4bae045ce90e632f68dd24510e0f9258fa19,error-log-stable/wallaby," name, args, kwargs = log_mock.debug.mock_calls[0] if log_stdout is False: self.assertEqual(1, log_mock.debug.call_count) self.assertEqual(2, log_mock.debug.call_count) @mock.patch.object(utils, 'LOG', autospec=True) @mock.patch.object(processutils, 'execute', autospec=True) def test_execute_command_not_found(self, execute_mock, log_mock): execute_mock.side_effect = FileNotFoundError self.assertRaises(FileNotFoundError, utils.execute, 'foo') execute_mock.assert_called_once_with('foo') name, args, kwargs = log_mock.debug.mock_calls[0] self.assertEqual(1, log_mock.debug.call_count) self.assertIn('not found', args[0]) "," name, args, kwargs = log_mock.debug.mock_calls[1] if log_stdout is False: self.assertEqual(2, log_mock.debug.call_count) self.assertEqual(3, log_mock.debug.call_count)",29,10
openstack%2Ftripleo-common~stable%2Fvictoria~Ia0baf8501884d9ed2324938c9acbb30d1687cf27,openstack/tripleo-common,stable/victoria,Ia0baf8501884d9ed2324938c9acbb30d1687cf27,Fix config parsing in memcached healthcheck,MERGED,2021-06-04 08:16:02.000000000,2021-06-08 10:05:24.000000000,2021-06-08 10:03:55.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 08:16:02.000000000', 'files': ['healthcheck/memcached'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1f15a0706d202c7827dca0f948868193e72ce2cb', 'message': 'Fix config parsing in memcached healthcheck\n\nWhen memcached is configured to listen on multiple IP, or\nis configured with TLS-e, make sure the healthcheck parses\nthe right IP to connect to and its associated port.\n\nChange-Id: Ia0baf8501884d9ed2324938c9acbb30d1687cf27\nCloses-Bug: #1929881\n(cherry picked from commit 3f84495b8f8dc0a20148dfa8eaaa22d750ada39d)\n'}]",0,794733,1f15a0706d202c7827dca0f948868193e72ce2cb,10,4,1,20778,,,0,"Fix config parsing in memcached healthcheck

When memcached is configured to listen on multiple IP, or
is configured with TLS-e, make sure the healthcheck parses
the right IP to connect to and its associated port.

Change-Id: Ia0baf8501884d9ed2324938c9acbb30d1687cf27
Closes-Bug: #1929881
(cherry picked from commit 3f84495b8f8dc0a20148dfa8eaaa22d750ada39d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/33/794733/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/memcached'],1,1f15a0706d202c7827dca0f948868193e72ce2cb,bug/1929881-stable/victoria,"# if memcached has TLS enabled, look for a notls ip entry in the options listen_addr=$(awk 'match($0, /notls:([0-9a-fA-F\.\:]+):11211[, ]/, a) {print a[1]}' /etc/sysconfig/memcached) if [ -z ""$listen_addr"" ]; then # otherwise look for the first ip available among all the possible ones # passed to the -l option listen_addr=$(awk 'match($0, /-l +([0-9a-fA-F\.\:]+)[, ]/, a) {print a[1]}' /etc/sysconfig/memcached) # get the configured memcached port or the default one port=$(awk -F= '$1==""PORT"" {gsub(/""/, """",$2); print $2}' /etc/sysconfig/memcached) port=${port:-11211} else # with TLS-e, TripleO always exposes the notls IP on port 11211 port=11211 fi listen_addr=$(wrap_ipv6 $listen_addr) echo ""version"" | socat - TCP:$listen_addr:$port 1>/dev/null","listen_addr=$(wrap_ipv6 $(awk 'match($0, /-l +([0-9a-fA-F\.\:]+) /, a) {print a[1]}' /etc/sysconfig/memcached)) echo ""version"" | socat - TCP:$listen_addr:11211 1>/dev/null",16,2
openstack%2Fpuppet-tripleo~master~Ibef5b26763ba0e51aae6285ac5a01d598b9052f2,openstack/puppet-tripleo,master,Ibef5b26763ba0e51aae6285ac5a01d598b9052f2,Use ovn_dbs_node_ips for SB connections,ABANDONED,2021-06-08 09:58:28.000000000,2021-06-08 10:01:06.000000000,,[],"[{'number': 1, 'created': '2021-06-08 09:58:28.000000000', 'files': ['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/74428cc90db6683b91769794ff95c02b1a00450f', 'message': 'Use ovn_dbs_node_ips for SB connections\n\nThe patch replaces ovn_dbs_vip that is generated dynamically with\novn_dbs_node_ips which is a configurable list of IPs. This can be used\nfor RAFT or read-only OVN metadata agent mode.\n\nCloses-Bug: #1931133\nChange-Id: Ibef5b26763ba0e51aae6285ac5a01d598b9052f2\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}]",0,795268,74428cc90db6683b91769794ff95c02b1a00450f,2,0,1,8655,,,0,"Use ovn_dbs_node_ips for SB connections

The patch replaces ovn_dbs_vip that is generated dynamically with
ovn_dbs_node_ips which is a configurable list of IPs. This can be used
for RAFT or read-only OVN metadata agent mode.

Closes-Bug: #1931133
Change-Id: Ibef5b26763ba0e51aae6285ac5a01d598b9052f2
Co-Authored-By: Alex Schultz <aschultz@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/68/795268/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp']",3,74428cc90db6683b91769794ff95c02b1a00450f,bug/1931133,"# Defaults to hiera('ovn_db_node_ips') $ovn_db_host = hiera('ovn_db_node_ips'), $sb_conn = $ovn_db_host.map |$h| { join([$protocol, normalize_ip_for_uri($h), ""${ovn_sbdb_port}""], ':') } ovn_remote => join(any2array($sb_conn), ','),","# Defaults to hiera('ovn_dbs_vip') $ovn_db_host = hiera('ovn_dbs_vip'), if is_string($ovn_db_host) { $ovn_remote_real = join([""${protocol}"", normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':') } elsif is_array($ovn_db_host) { $ovn_remote_real = join($ovn_db_host.map |$i| { ""${protocol}:${normalize_ip_for_uri($i)}:${ovn_sbdb_port}"" }, ',') } ovn_remote => $ovn_remote_real,",14,27
openstack%2Fkolla-ansible~master~I2d0615ce6914e1f875a2647c8a95b86dd17eeb22,openstack/kolla-ansible,master,I2d0615ce6914e1f875a2647c8a95b86dd17eeb22,Add forgotten 'Restart container' handler for swift,MERGED,2021-06-07 07:50:08.000000000,2021-06-08 09:53:36.000000000,2021-06-08 09:51:55.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 30491}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-06-07 07:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/23d5a446ce543fc3930688c627e788165c1b3abd', 'message': ""Add forgotten 'Restart container' handler for swift\n\nSince I0474324b60a5f792ef5210ab336639edf7a8cd9e swift role uses the new\nservice-cert-copy role introduced in the\nI6351147ddaff8b2ae629179a9bc3bae2ebac9519 but the swift role itself\ndoesn't contain the handler used in the service-cert-copy. This change\nadds the handler and also refactor the role a bit to use it too.\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: I2d0615ce6914e1f875a2647c8a95b86dd17eeb22\n""}, {'number': 2, 'created': '2021-06-07 08:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ed73226da309d5a5b2cbb4932cbaea2bf12908ec', 'message': ""Add forgotten 'Restart container' handler for swift\n\nSince I0474324b60a5f792ef5210ab336639edf7a8cd9e swift role uses the new\nservice-cert-copy role introduced in the\nI6351147ddaff8b2ae629179a9bc3bae2ebac9519 but the swift role itself\ndoesn't contain the handler used in the service-cert-copy. This change\nadds the handler and also refactor the role a bit to use it too.\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: I2d0615ce6914e1f875a2647c8a95b86dd17eeb22\n""}, {'number': 3, 'created': '2021-06-07 08:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7b694788b504d079c7e7bf71ab38108154e9a1e0', 'message': ""Add forgotten 'Restart container' handler for swift\n\nSince I0474324b60a5f792ef5210ab336639edf7a8cd9e swift role uses the new\nservice-cert-copy role introduced in the\nI6351147ddaff8b2ae629179a9bc3bae2ebac9519 but the swift role itself\ndoesn't contain the handler used in the service-cert-copy. This change\nadds the handler and also refactor the role a bit to use it too.\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: I2d0615ce6914e1f875a2647c8a95b86dd17eeb22\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 4, 'created': '2021-06-07 09:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/151f0977751600fb0cf6844030ba5b55da633e4f', 'message': ""Add forgotten 'Restart container' handler for swift\n\nSince I0474324b60a5f792ef5210ab336639edf7a8cd9e swift role uses the new\nservice-cert-copy role introduced in the\nI6351147ddaff8b2ae629179a9bc3bae2ebac9519 but the swift role itself\ndoesn't contain the handler used in the service-cert-copy. Right now,\nrestarting the swift container isn't necessary, but the handler should\nexist.\n\nChange-Id: I2d0615ce6914e1f875a2647c8a95b86dd17eeb22\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 5, 'created': '2021-06-07 10:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5b42f4fb4bf77f7cdb57853c4a5726071297f577', 'message': ""Add forgotten 'Restart container' handler for swift\n\nSince I0474324b60a5f792ef5210ab336639edf7a8cd9e swift role uses the new\nservice-cert-copy role introduced in the\nI6351147ddaff8b2ae629179a9bc3bae2ebac9519 but the swift role itself\ndoesn't contain the handler used in the service-cert-copy. Right now,\nrestarting the swift container isn't necessary, but the handler should\nexist.\n\nCloses-Bug: #1931097\nChange-Id: I2d0615ce6914e1f875a2647c8a95b86dd17eeb22\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 6, 'created': '2021-06-07 18:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/85abdb9823cf7c9dd672f6acfd51b9ab7ece8771', 'message': ""Add forgotten 'Restart container' handler for swift\n\nSince I0474324b60a5f792ef5210ab336639edf7a8cd9e swift role uses the new\nservice-cert-copy role introduced in the\nI6351147ddaff8b2ae629179a9bc3bae2ebac9519 but the swift role itself\ndoesn't contain the handler used in the service-cert-copy. Right now,\nrestarting the swift container isn't necessary, but the handler should\nexist. Also we should fix the name of the service used.\n\nCloses-Bug: #1931097\nChange-Id: I2d0615ce6914e1f875a2647c8a95b86dd17eeb22\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 7, 'created': '2021-06-07 22:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3fb32ab044dfb685ec6d6e7a64baa0bd28329bbe', 'message': ""Add forgotten 'Restart container' handler for swift\n\nSince I0474324b60a5f792ef5210ab336639edf7a8cd9e swift role uses the new\nservice-cert-copy role introduced in the\nI6351147ddaff8b2ae629179a9bc3bae2ebac9519 but the swift role itself\ndoesn't contain the handler used in the service-cert-copy. Right now,\nrestarting the swift container isn't necessary, but the handler should\nexist. Also we should fix the name of the service used.\n\nCloses-Bug: #1931097\nChange-Id: I2d0615ce6914e1f875a2647c8a95b86dd17eeb22\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 8, 'created': '2021-06-07 23:49:07.000000000', 'files': ['ansible/roles/swift/defaults/main.yml', 'ansible/roles/swift/handlers/main.yml', 'releasenotes/notes/bug-1931097-c94832ed2ed92c3a.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5c19f9a5e0fc02ccba52f327c3ea5cedb632788d', 'message': ""Add forgotten 'Restart container' handler for swift\n\nSince I0474324b60a5f792ef5210ab336639edf7a8cd9e swift role uses the new\nservice-cert-copy role introduced in the\nI6351147ddaff8b2ae629179a9bc3bae2ebac9519 but the swift role itself\ndoesn't contain the handler used in the service-cert-copy. Right now,\nrestarting the swift container isn't necessary, but the handler should\nexist. Also we should fix the name of the service used.\n\nCloses-Bug: #1931097\nChange-Id: I2d0615ce6914e1f875a2647c8a95b86dd17eeb22\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",16,795030,5c19f9a5e0fc02ccba52f327c3ea5cedb632788d,46,7,8,14200,,,0,"Add forgotten 'Restart container' handler for swift

Since I0474324b60a5f792ef5210ab336639edf7a8cd9e swift role uses the new
service-cert-copy role introduced in the
I6351147ddaff8b2ae629179a9bc3bae2ebac9519 but the swift role itself
doesn't contain the handler used in the service-cert-copy. Right now,
restarting the swift container isn't necessary, but the handler should
exist. Also we should fix the name of the service used.

Closes-Bug: #1931097
Change-Id: I2d0615ce6914e1f875a2647c8a95b86dd17eeb22
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/795030/8 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/swift/tasks/upgrade.yml', 'ansible/roles/swift/handlers/main.yml', 'ansible/roles/swift/tasks/deploy.yml', 'ansible/roles/swift/tasks/reconfigure.yml']",4,23d5a446ce543fc3930688c627e788165c1b3abd,swift-restart-handler," notify: - ""Restart {{ item[0]['name'] }} container"""," become: true kolla_docker: name: ""{{ item[0]['name'] }}"" action: ""restart_container""",24,4
openstack%2Fkayobe~stable%2Fwallaby~Ie94099075bae3c491f9cf830c38e6cfc8af605a6,openstack/kayobe,stable/wallaby,Ie94099075bae3c491f9cf830c38e6cfc8af605a6,Ubuntu: ensure /usr/bin/python is python3,MERGED,2021-06-07 20:30:18.000000000,2021-06-08 09:48:07.000000000,2021-06-08 09:46:39.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-07 20:30:18.000000000', 'files': ['dev/functions', 'doc/source/installation.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3f9e4c5006e7a009701cb3ea3cd5cc564a31b8ea', 'message': 'Ubuntu: ensure /usr/bin/python is python3\n\n/usr/bin/python may be python 2 on Focal, which causes problems with\nAnsible on the control host. By installing the python-is-python3 package\nwe ensure that the correct interpreter is used.\n\nThis change updates the installation documentation and development\nenvironment scripts.\n\nStory: 2004960\nTask: 42579\n\nChange-Id: Ie94099075bae3c491f9cf830c38e6cfc8af605a6\n(cherry picked from commit 82def9a51641106ed92569e6d132527934350bac)\n'}]",0,795179,3f9e4c5006e7a009701cb3ea3cd5cc564a31b8ea,8,3,1,15197,,,0,"Ubuntu: ensure /usr/bin/python is python3

/usr/bin/python may be python 2 on Focal, which causes problems with
Ansible on the control host. By installing the python-is-python3 package
we ensure that the correct interpreter is used.

This change updates the installation documentation and development
environment scripts.

Story: 2004960
Task: 42579

Change-Id: Ie94099075bae3c491f9cf830c38e6cfc8af605a6
(cherry picked from commit 82def9a51641106ed92569e6d132527934350bac)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/79/795179/1 && git format-patch -1 --stdout FETCH_HEAD,"['dev/functions', 'doc/source/installation.rst']",2,3f9e4c5006e7a009701cb3ea3cd5cc564a31b8ea,,"On Ubuntu, ensure that /usr/bin/python points to a Python 3 interpreter:: $ apt install -y python-is-python3 ",,5,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ieffe2852111c3ec8347343a042dd78bbf691d79a,openstack/tripleo-heat-templates,stable/victoria,Ieffe2852111c3ec8347343a042dd78bbf691d79a,Allow customizing podman's [engine]/events_logger,MERGED,2021-06-07 12:53:29.000000000,2021-06-08 09:46:52.000000000,2021-06-08 09:46:52.000000000,"[{'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-07 12:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f81e959dcd7ed171fb9dc5539b01025d3b798b2', 'message': ""Allow customizing podman's [engine]/events_logger\n\nIn I780103e17f1bb42a0546c30bd6c001c642ad88b3 we introduced the\njournald default for the events_logger key. With this change we\nallow to change this new default, in case we do need to change it\nfor some reason.\n\nRelated-Bug: #1923607\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/795034\nChange-Id: Ieffe2852111c3ec8347343a042dd78bbf691d79a\n(cherry picked from commit 4ea2a6eb7c84682d49b50f1e087c64b7dce13103)\n""}, {'number': 2, 'created': '2021-06-07 18:36:34.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/496accc442ebbbb2221d4c8cca2d37609a6c8ede', 'message': ""Allow customizing podman's [engine]/events_logger\n\nIn I780103e17f1bb42a0546c30bd6c001c642ad88b3 we introduced the\njournald default for the events_logger key. With this change we\nallow to change this new default, in case we do need to change it\nfor some reason.\n\nRelated-Bug: #1923607\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/795041\nChange-Id: Ieffe2852111c3ec8347343a042dd78bbf691d79a\n(cherry picked from commit 4ea2a6eb7c84682d49b50f1e087c64b7dce13103)\n""}]",0,795042,496accc442ebbbb2221d4c8cca2d37609a6c8ede,10,3,2,20172,,,0,"Allow customizing podman's [engine]/events_logger

In I780103e17f1bb42a0546c30bd6c001c642ad88b3 we introduced the
journald default for the events_logger key. With this change we
allow to change this new default, in case we do need to change it
for some reason.

Related-Bug: #1923607

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/795041
Change-Id: Ieffe2852111c3ec8347343a042dd78bbf691d79a
(cherry picked from commit 4ea2a6eb7c84682d49b50f1e087c64b7dce13103)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/795042/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,6f81e959dcd7ed171fb9dc5539b01025d3b798b2,events-logger-stable/wallaby-stable/victoria," ContainerDefaultEventsLogger: type: string default: 'journald' description: Setting to configure where podman logs its events. Uses journald by default as that will rotate data stored in tmpfs. constraints: - allowed_values: ['journald', 'file', 'none'] container_events_logger_mechanism: {get_param: ContainerDefaultEventsLogger} tripleo_container_events_logger_mechanism: ""{{ container_events_logger_mechanism }}""",,9,0
openstack%2Ftripleo-quickstart-extras~master~If4598ac495f00fbfd58d1ad9910900d65209bab1,openstack/tripleo-quickstart-extras,master,If4598ac495f00fbfd58d1ad9910900d65209bab1,Workaround for jdk zstream breaking freeipa install,MERGED,2020-11-02 19:34:27.000000000,2021-06-08 09:45:19.000000000,2020-11-06 21:04:28.000000000,"[{'_account_id': 5046}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9914}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-11-02 19:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/55962a3eeb5d36e88f4c0612a02528c7c48d3455', 'message': 'Workaround for jdk zstream breaking freeipa install\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1892216.\nWe need to downgrade openjdk in order to get a successful install\nuntil freeipa is fixed or some other rhel workaround is implemented.\n\nChange-Id: If4598ac495f00fbfd58d1ad9910900d65209bab1\nFixes: 1902478\n'}, {'number': 2, 'created': '2020-11-02 20:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bdc97e994102ffb93e41493b63e7c986b744301a', 'message': 'Workaround for jdk zstream breaking freeipa install\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1892216.\nWe need to downgrade openjdk in order to get a successful install\nuntil freeipa is fixed or some other rhel workaround is implemented.\n\nCloses-Bug: #1902478\nChange-Id: If4598ac495f00fbfd58d1ad9910900d65209bab1\n'}, {'number': 3, 'created': '2020-11-03 07:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e2d9e4efc0407ce46bef86cbd9b6d47186460ec3', 'message': 'Workaround for jdk zstream breaking freeipa install\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1892216.\nWe need to downgrade openjdk in order to get a successful install\nuntil freeipa is fixed or some other rhel workaround is implemented.\n\nCloses-Bug: #1902478\nChange-Id: If4598ac495f00fbfd58d1ad9910900d65209bab1\n'}, {'number': 4, 'created': '2020-11-03 08:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ff93e3e48ff89cd1a15194a165d7fb8e246c8369', 'message': 'Workaround for jdk zstream breaking freeipa install\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1892216.\nWe need to downgrade openjdk in order to get a successful install\nuntil freeipa is fixed or some other rhel workaround is implemented.\n\nCloses-Bug: #1902478\nChange-Id: If4598ac495f00fbfd58d1ad9910900d65209bab1\n'}, {'number': 5, 'created': '2020-11-03 09:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/98d71cd1cb2d4dd6608468254e3b2ca588034733', 'message': 'Workaround for jdk zstream breaking freeipa install\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1892216.\nWe need to downgrade openjdk in order to get a successful install\nuntil freeipa is fixed or some other rhel workaround is implemented.\n\nCloses-Bug: #1902478\nChange-Id: If4598ac495f00fbfd58d1ad9910900d65209bab1\n'}, {'number': 6, 'created': '2020-11-03 09:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b613e02cbdee1b7387228c54b170cdb86f308064', 'message': 'Workaround for jdk zstream breaking freeipa install\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1892216.\nWe need to downgrade openjdk in order to get a successful install\nuntil freeipa is fixed or some other rhel workaround is implemented.\n\nCloses-Bug: #1902478\nChange-Id: If4598ac495f00fbfd58d1ad9910900d65209bab1\n'}, {'number': 7, 'created': '2020-11-04 18:09:15.000000000', 'files': ['roles/ipa-multinode/tasks/ipaserver-subnode-install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8ad3c828572d627aa16f4c1c5bb94ccf07caac88', 'message': 'Workaround for jdk zstream breaking freeipa install\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1892216.\nWe need to downgrade openjdk in order to get a successful install\nuntil freeipa is fixed or some other rhel workaround is implemented.\n\nDepends-On: https://review.opendev.org/#/c/761402/\nCloses-Bug: #1902478\nChange-Id: If4598ac495f00fbfd58d1ad9910900d65209bab1\n'}]",4,760994,8ad3c828572d627aa16f4c1c5bb94ccf07caac88,53,11,7,9914,,,0,"Workaround for jdk zstream breaking freeipa install

See https://bugzilla.redhat.com/show_bug.cgi?id=1892216.
We need to downgrade openjdk in order to get a successful install
until freeipa is fixed or some other rhel workaround is implemented.

Depends-On: https://review.opendev.org/#/c/761402/
Closes-Bug: #1902478
Change-Id: If4598ac495f00fbfd58d1ad9910900d65209bab1
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/94/760994/7 && git format-patch -1 --stdout FETCH_HEAD,['roles/ipa-multinode/tasks/ipaserver-subnode-install.yml'],1,55962a3eeb5d36e88f4c0612a02528c7c48d3455,workaround_java_issues_with_freeipa,"# This can be removed once rhbz#1892216 is fixed and released # We need to install openjdk beforehand (as it is installed by the freeipa) # script and then downgrade it in case the version is the known broken one - name: Workaround for newer JDK breaking FreeIPA become: yes shell: | dnf install -y java-1.8.0-openjdk java-1.8.0-openjdk-headless if rpm -q --queryformat '%{version}' java-1.8.0-openjdk |grep ""1.8.0.272""; then dnf downgrade -y java-1.8.0-openjdk java-1.8.0-openjdk-headless fi ",,11,0
openstack%2Fkayobe~stable%2Fwallaby~I275102ec6b5bab6982577b52fd29654c874446ce,openstack/kayobe,stable/wallaby,I275102ec6b5bab6982577b52fd29654c874446ce,chrony: cleanup during overcloud host upgrade,MERGED,2021-06-07 20:28:18.000000000,2021-06-08 09:43:17.000000000,2021-06-08 09:41:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-07 20:28:18.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5fe1a7edd8d3c246a3ba10194a9ff5cebd84faea', 'message': ""chrony: cleanup during overcloud host upgrade\n\nThe Kolla Ansible chrony container is disabled by default in the Wallaby\nrelease. A new kolla-ansible chrony-cleanup command can be used to clean\nup the container.\n\nThis change extends the 'kayobe overcloud host upgrade' command to cover\ncleaning up the chrony container (if disabled) and deploying a host\nchrony daemon.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/795036\n\nChange-Id: I275102ec6b5bab6982577b52fd29654c874446ce\n(cherry picked from commit dc53d29eaa0e5f67335aef3db23fc11a17dc21b0)\n""}]",0,795178,5fe1a7edd8d3c246a3ba10194a9ff5cebd84faea,8,3,1,15197,,,0,"chrony: cleanup during overcloud host upgrade

The Kolla Ansible chrony container is disabled by default in the Wallaby
release. A new kolla-ansible chrony-cleanup command can be used to clean
up the container.

This change extends the 'kayobe overcloud host upgrade' command to cover
cleaning up the chrony container (if disabled) and deploying a host
chrony daemon.

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/795036

Change-Id: I275102ec6b5bab6982577b52fd29654c874446ce
(cherry picked from commit dc53d29eaa0e5f67335aef3db23fc11a17dc21b0)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/78/795178/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py']",2,5fe1a7edd8d3c246a3ba10194a9ff5cebd84faea,,"class OvercloudHostUpgrade(KollaAnsibleMixin, KayobeAnsibleMixin, VaultMixin, Command): # TODO(mgoddard): Remove this in Y cycle after Kolla Ansible chrony # container has been dropped for a cycle. # NOTE(mgoddard): Clean up the chrony container if it exists, and # deploy a host chrony daemon. self.generate_kolla_ansible_config(parsed_args, service_config=False) self.run_kolla_ansible_overcloud(parsed_args, ""chrony-cleanup"") playbooks = _build_playbook_list(""time"") self.run_kayobe_playbooks(parsed_args, playbooks, limit=""overcloud"") ","class OvercloudHostUpgrade(KayobeAnsibleMixin, VaultMixin, Command):",36,2
openstack%2Fneutron~master~I7aafd00211d66b0d1cc3bbdc79efc344c2acc700,openstack/neutron,master,I7aafd00211d66b0d1cc3bbdc79efc344c2acc700,Use payloads for ADDRESS_GROUP callback events,MERGED,2021-05-20 15:07:19.000000000,2021-06-08 09:42:59.000000000,2021-06-07 09:14:03.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 15:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c437ab231533614f2e6960cf80ae031a67f07941', 'message': 'Use payloads for ADDRESS_GROUP callback events\n\nThis patch switches over to payload style of callbacks for the remaining\nADDRESS_GROUP based callback events.\n\nChange-Id: I7aafd00211d66b0d1cc3bbdc79efc344c2acc700\n'}, {'number': 2, 'created': '2021-05-21 08:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e90dfc4b851fbe2e923731900c7ce010ddfa07c5', 'message': 'Use payloads for ADDRESS_GROUP callback events\n\nThis patch switches over to payload style of callbacks for the remaining\nADDRESS_GROUP based callback events.\n\nChange-Id: I7aafd00211d66b0d1cc3bbdc79efc344c2acc700\n'}, {'number': 3, 'created': '2021-06-03 18:40:14.000000000', 'files': ['neutron/db/address_group_db.py', 'neutron/plugins/ml2/ovo_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/17adb4c3fbb9aca06efe71f154b9812d2d1426f3', 'message': 'Use payloads for ADDRESS_GROUP callback events\n\nThis patch switches over to payload style of callbacks for the remaining\nADDRESS_GROUP based callback events.\n\nChange-Id: I7aafd00211d66b0d1cc3bbdc79efc344c2acc700\n'}]",0,792395,17adb4c3fbb9aca06efe71f154b9812d2d1426f3,48,4,3,32667,,,0,"Use payloads for ADDRESS_GROUP callback events

This patch switches over to payload style of callbacks for the remaining
ADDRESS_GROUP based callback events.

Change-Id: I7aafd00211d66b0d1cc3bbdc79efc344c2acc700
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/792395/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/address_group_db.py', 'neutron/plugins/ml2/ovo_rpc.py']",2,c437ab231533614f2e6960cf80ae031a67f07941,add_gr_callback," _PAYLOAD_RESOURCES = (resources.NETWORK, resources.ADDRESS_GROUP,)"," _PAYLOAD_RESOURCES = (resources.NETWORK,)",30,42
openstack%2Fironic~master~I03fdb48e47c9557c207a20ee876eccf3f3459d9f,openstack/ironic,master,I03fdb48e47c9557c207a20ee876eccf3f3459d9f,Refactor iDRAC OEM extension manager calls,MERGED,2021-05-19 08:45:43.000000000,2021-06-08 09:37:31.000000000,2021-06-08 09:34:46.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-19 08:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/69f77f45d36fe3638fe15350c206b9556180f14d', 'message': 'Refactor iDRAC OEM extension manager calls\n\n- Re-usable helper created to avoid duplication.\n- Although there is only one manager for system in known iDRAC systems\nstill iterate through collection for future changes.\n- Restructured exception raising and error logging for better feedback.\n- Removed some unit tests to avoid duplication that is covered by\nmethod specific unit tests\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/792087\nChange-Id: I03fdb48e47c9557c207a20ee876eccf3f3459d9f\n'}, {'number': 2, 'created': '2021-05-19 16:13:33.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_utils.py', 'ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/boot.py', 'ironic/drivers/modules/drac/management.py', 'ironic/drivers/modules/drac/inspect.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/tests/unit/drivers/modules/drac/test_inspect.py', 'ironic/tests/unit/drivers/modules/drac/test_boot.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/drivers/modules/drac/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/39cd751a9063ae04e1649ccbca5496c3754d706e', 'message': 'Refactor iDRAC OEM extension manager calls\n\n- Re-usable helper created to avoid duplication.\n- Although there is only one manager for system in known iDRAC systems\nstill iterate through collection for future changes.\n- Restructured exception raising and error logging for better feedback.\n- Removed some unit tests to avoid duplication that is covered by\nmethod specific unit tests\n\nChange-Id: I03fdb48e47c9557c207a20ee876eccf3f3459d9f\n'}]",4,792088,39cd751a9063ae04e1649ccbca5496c3754d706e,20,5,2,27909,,,0,"Refactor iDRAC OEM extension manager calls

- Re-usable helper created to avoid duplication.
- Although there is only one manager for system in known iDRAC systems
still iterate through collection for future changes.
- Restructured exception raising and error logging for better feedback.
- Removed some unit tests to avoid duplication that is covered by
method specific unit tests

Change-Id: I03fdb48e47c9557c207a20ee876eccf3f3459d9f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/88/792088/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_utils.py', 'ironic/drivers/modules/drac/boot.py', 'ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/inspect.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/tests/unit/drivers/modules/drac/test_inspect.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/tests/unit/drivers/modules/drac/test_boot.py', 'ironic/drivers/modules/drac/utils.py']",10,69f77f45d36fe3638fe15350c206b9556180f14d,oem-manager-refactor-fwu,"# Copyright (c) 2021 Dell Inc. or its subsidiaries. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log from oslo_utils import importutils from ironic.common import exception from ironic.drivers.modules.redfish import utils as redfish_utils LOG = log.getLogger(__name__) sushy = importutils.try_import('sushy') def execute_oem_manager_method( task, process_name, lambda_oem_func): system = redfish_utils.get_system(task.node) if not system.managers: raise exception.RedfishError( ""System %(system)s has no managers"" % {'system': system.uuid if system.uuid else system.identity}) oem_error_msgs = [] for manager in system.managers: # This call makes Sushy go fishing in the ocean of Sushy # OEM extensions installed on the system. If it finds one # for 'Dell' which implements the 'Manager' resource # extension, it uses it to create an object which # instantiates itself from the OEM JSON. The object is # returned here. # # If the extension could not be found for one manager, it # will not be found for any others until it is installed, so # abruptly exit the for loop. The vendor and resource name, # 'Dell' and 'Manager', respectively, used to search for the # extension are invariant in the loop. try: manager_oem = manager.get_oem_extension('Dell') except sushy.exceptions.OEMExtensionNotFoundError as e: error_msg = (_(""Search for Sushy OEM extension Python package "" ""'sushy-oem-idrac' failed for node %(node)s. "" ""Ensure it is installed. Error: %(error)s"") % {'node': task.node.uuid, 'error': e}) LOG.error(error_msg) raise exception.RedfishError(error=error_msg) try: result = lambda_oem_func(manager_oem) LOG.info(""Completed: %(process_name)s with system %(system)s "" ""manager %(manager)s for node %(node)s"", {'process_name': process_name, 'system': system.uuid if system.uuid else system.identity, 'manager': manager.uuid if manager.uuid else manager.identity, 'node': task.node.uuid}) return result except sushy.exceptions.SushyError as e: error_msg = (_(""Failed: %(process_name)s with system %(system)s "" ""manager %(manager)s for node %(node)s. Will try "" ""next manager, if available. Error: %(error)s"" % {'process_name': process_name, 'system': system.uuid if system.uuid else system.identity, 'manager': manager.uuid if manager.uuid else manager.identity, 'node': task.node.uuid, 'error': e})) LOG.debug(error_msg) oem_error_msgs.append(error_msg) else: error_msg = (_('No managers succeeded: %(process_name)s. Errors: ' '%(oem_error_msgs)s' % {'process_name': process_name, 'oem_error_msgs': oem_error_msgs if oem_error_msgs else 'unknown'})) LOG.error(error_msg) raise exception.RedfishError(error=error_msg) ",,264,568
openstack%2Fbifrost~stable%2Fwallaby~I96b7af2472addb879df545818a67f58ace8b2572,openstack/bifrost,stable/wallaby,I96b7af2472addb879df545818a67f58ace8b2572,Reasonable error message if network_interface is not found,MERGED,2021-06-07 18:31:37.000000000,2021-06-08 09:32:44.000000000,2021-06-08 09:31:33.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-07 18:31:37.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3176e04cfb990286a355535cae8b93572294f55c', 'message': 'Reasonable error message if network_interface is not found\n\nChange-Id: I96b7af2472addb879df545818a67f58ace8b2572\n(cherry picked from commit 7f2d0eb91db63632d7839a6b33327fd49af908e4)\n'}]",0,795136,3176e04cfb990286a355535cae8b93572294f55c,8,3,1,10239,,,0,"Reasonable error message if network_interface is not found

Change-Id: I96b7af2472addb879df545818a67f58ace8b2572
(cherry picked from commit 7f2d0eb91db63632d7839a6b33327fd49af908e4)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/36/795136/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml']",2,3176e04cfb990286a355535cae8b93572294f55c,wrong-interface-stable/wallaby,"- name: ""Check that the provided interface is defined"" fail: msg: > Network interface {{ network_interface }} is not known to Ansible. If you're testing Bifrost on virtual machines, do not forget to invoke ""bifrost-cli testenv"" or use the ""bifrost-create-vm-nodes"" role first. If you're using Bifrost on real bare metal, you have to provide the network interface via the ""network_interface"" variable or the --network-interface argument to ""bifrost-cli install"". when: ('ansible_' + ans_network_interface) not in hostvars[inventory_hostname] ",,22,0
openstack%2Fkuryr-kubernetes~master~Ib37ac703ae9a49c31f0797f210174c591a4b8109,openstack/kuryr-kubernetes,master,Ib37ac703ae9a49c31f0797f210174c591a4b8109,Changed minversion in tox to 3.18.0,MERGED,2021-05-31 01:56:03.000000000,2021-06-08 09:17:17.000000000,2021-06-08 09:15:56.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-05-31 01:56:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/378ce7cc04dc293f4ef99e036b289c939b50c520', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ib37ac703ae9a49c31f0797f210174c591a4b8109\n""}]",0,793709,378ce7cc04dc293f4ef99e036b289c939b50c520,16,4,1,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ib37ac703ae9a49c31f0797f210174c591a4b8109
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/09/793709/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,378ce7cc04dc293f4ef99e036b289c939b50c520,update-min-tox,minversion = 3.18.0allowlist_externals = sh,minversion = 2.3.1whitelist_externals = sh,2,2
openstack%2Fec2-api~master~I720a97be223cb03d9722b1b92990534d8ee0fdba,openstack/ec2-api,master,I720a97be223cb03d9722b1b92990534d8ee0fdba,doc: Update our IRC server to OFTC,MERGED,2021-06-08 08:50:42.000000000,2021-06-08 09:11:07.000000000,2021-06-08 09:09:44.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 08:50:42.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/2a5a97344d4fbaaccf96164bcf942d08f1046fac', 'message': 'doc: Update our IRC server to OFTC\n\nChange-Id: I720a97be223cb03d9722b1b92990534d8ee0fdba\n'}]",0,795259,2a5a97344d4fbaaccf96164bcf942d08f1046fac,9,2,1,10234,,,0,"doc: Update our IRC server to OFTC

Change-Id: I720a97be223cb03d9722b1b92990534d8ee0fdba
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/59/795259/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,2a5a97344d4fbaaccf96164bcf942d08f1046fac,oftc,* IRC channel #openstack-ec2api at OFTC,* IRC channel #openstack-ec2api at FreeNode,1,1
openstack%2Fcloudkitty~master~I5e5e86149c0ea6be5553bf8911dfc729d0ec57bb,openstack/cloudkitty,master,I5e5e86149c0ea6be5553bf8911dfc729d0ec57bb,setup.cfg: Replace dashes with underscores,MERGED,2021-05-05 08:03:27.000000000,2021-06-08 09:10:34.000000000,2021-06-08 09:09:14.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2021-05-05 08:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/8d5a5f3ce74b86510aa83dc132a358f21b433bfe', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I5e5e86149c0ea6be5553bf8911dfc729d0ec57bb\n""}, {'number': 2, 'created': '2021-05-31 09:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/5a6a6f89384424ffcf69642c97be1904d75b3df9', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I5e5e86149c0ea6be5553bf8911dfc729d0ec57bb\n""}, {'number': 3, 'created': '2021-06-07 20:30:35.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/ebbbebc1d552176aedf5e6e475e93b2fa0757f5b', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I5e5e86149c0ea6be5553bf8911dfc729d0ec57bb\n""}]",0,789727,ebbbebc1d552176aedf5e6e475e93b2fa0757f5b,15,4,3,15197,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I5e5e86149c0ea6be5553bf8911dfc729d0ec57bb
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/27/789727/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8d5a5f3ce74b86510aa83dc132a358f21b433bfe,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/cloudkitty/latest python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/cloudkitty/latest python-requires = >=3.6,4,4
openstack%2Fcharm-designate-bind~master~Ida65c620fa81715d37e468217aea28f160cf31ee,openstack/charm-designate-bind,master,Ida65c620fa81715d37e468217aea28f160cf31ee,Fix charm so that on focal it uses named service,MERGED,2021-06-01 21:07:46.000000000,2021-06-08 09:00:40.000000000,2021-06-08 09:00:40.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-01 21:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/d2bf22a8c62ee88605f0e7bda18eb8cd52539f85', 'message': 'Fix charm so that on focal it uses named service\n\nPre-focal the service was called \'bind9\'.  On focal+ it is called\n\'named\'.  This patch introduces a number of changes to make this\npossible:\n\n * Modify existing charm class ""DesignateBindCharm"" to include a check\n   to see if the distro version is ""focal"" or higher; if so switch\n   the service name to \'named\'.\n * Switch the testing Helper class to derive from the charms_openstack\n   PatchHelper which has improved patch and patch_object methods.\n * Update most patch() methods to patch_object() as they were mis-named\n   in the original Helper() class.\n\nChange-Id: Ida65c620fa81715d37e468217aea28f160cf31ee\nCloses-Bug: #1929770\n'}, {'number': 2, 'created': '2021-06-02 09:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/b47dd2475f907e29af69e3db508fb8de4fd849d9', 'message': 'Fix charm so that on focal it uses named service\n\nPre-focal the service was called \'bind9\'.  On focal+ it is called\n\'named\'.  This patch introduces a number of changes to make this\npossible:\n\n * Modify existing charm class ""DesignateBindCharm"" to include a check\n   to see if the distro version is ""focal"" or higher; if so switch\n   the service name to \'named\'.\n\nChange-Id: Ida65c620fa81715d37e468217aea28f160cf31ee\nCloses-Bug: #1929770\n'}, {'number': 3, 'created': '2021-06-02 09:53:41.000000000', 'files': ['src/lib/charm/openstack/designate_bind.py', 'unit_tests/test_lib_charm_openstack_designate_bind.py'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/ba7e3ac9e47314de9593f16e62445f271627add8', 'message': 'Fix charm so that on focal it uses named service\n\nPre-focal the service was called \'bind9\'.  On focal+ it is called\n\'named\'.  This patch introduces a number of changes to make this\npossible:\n\n * Modify existing charm class ""DesignateBindCharm"" to include a check\n   to see if the distro version is ""focal"" or higher; if so switch\n   the service name to \'named\'.\n\nChange-Id: Ida65c620fa81715d37e468217aea28f160cf31ee\nCloses-Bug: #1929770\n'}]",0,794045,ba7e3ac9e47314de9593f16e62445f271627add8,16,3,3,20870,,,0,"Fix charm so that on focal it uses named service

Pre-focal the service was called 'bind9'.  On focal+ it is called
'named'.  This patch introduces a number of changes to make this
possible:

 * Modify existing charm class ""DesignateBindCharm"" to include a check
   to see if the distro version is ""focal"" or higher; if so switch
   the service name to 'named'.

Change-Id: Ida65c620fa81715d37e468217aea28f160cf31ee
Closes-Bug: #1929770
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/45/794045/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/designate_bind.py', 'unit_tests/test_lib_charm_openstack_designate_bind.py']",2,d2bf22a8c62ee88605f0e7bda18eb8cd52539f85,bug/1929770," import charms_openstack.test_utils as test_utilsclass Helper(test_utils.PatchHelper): super().setUp() self.patch('charmhelpers.core.hookenv.config', name='ch_config') self.patch_object(designate_bind, ""host"", name=""ch_core_host"") self.ch_core_host.lsb_release.return_value = { ""DISTRIB_CODENAME"": ""bionic"" } # simply the CompareHostReleases to just return then string for # comparisons. (won't work for xenial/bionic) self.ch_core_host.CompareHostReleases.side_effect = lambda x: x self.patch('charms_openstack.charm.core._singleton', new=None) charm = designate_bind.DesignateBindCharm.singleton self.patch_object(charm, 'install') def test_service_is_bind9_pre_focal(self): charm = designate_bind.DesignateBindCharm.singleton self.assertEqual(charm.services, [""bind9""]) for v in charm.restart_map.values(): self.assertEqual(v, [""bind9""]) self.assertEqual(charm.default_service, ""bind9"") def test_service_is_bind9_when_bionic(self): self.ch_core_host.lsb_release.return_value = { ""DISTRIB_CODENAME"": ""bionic"" } charm = designate_bind.DesignateBindCharm.singleton self.assertEqual(charm.services, [""bind9""]) for v in charm.restart_map.values(): self.assertEqual(v, [""bind9""]) self.assertEqual(charm.default_service, ""bind9"") def test_service_is_named_focal_plus(self): self.ch_core_host.lsb_release.return_value = { ""DISTRIB_CODENAME"": ""focal"" } charm = designate_bind.DesignateBindCharm.singleton self.assertEqual(charm.services, [""named""]) for v in charm.restart_map.values(): self.assertEqual(v, [""named""]) self.assertEqual(charm.default_service, ""named"") def test_init_rndckey(self): self.patch_object( designate_bind.DesignateBindCharm.singleton, 'init_rndckey') self.patch_object( self.patch_object( self.patch_object( self.patch_object( designate_bind.DesignateBindCharm.singleton, 'setup_sync') self.patch_object( self.patch_object( self.patch_object( self.patch_object( self.patch_object(designate_bind.ch_ip, 'get_relation_ip') self.patch_object(designate_bind.hookenv, 'unit_private_ip') self.patch_object( designate_bind.DesignateBindCharm, 'get_rndc_algorithm') self.patch_object(designate_bind.DesignateBindCharm, 'get_rndc_secret') self.patch_object(designate_bind.hookenv, 'leader_get') self.patch_object(designate_bind.hookenv, 'leader_get') self.patch_object(designate_bind.hookenv, 'leader_get') self.patch_object(designate_bind.hookenv, 'log') self.patch_object(designate_bind.DesignateBindCharm, 'setup_sync') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch_object(designate_bind.hookenv, 'leader_set') self.patch_object(designate_bind.hookenv, 'unit_private_ip') self.patch_object(designate_bind.os, 'urandom', return_value='seed') self.patch_object(designate_bind.hmac, 'new', return_value=hmac_mock) self.patch_object( designate_bind.base64, 'b64encode', return_value=hmac_mock) self.patch_object(designate_bind.hookenv, 'log') self.patch_object(designate_bind.DesignateBindCharm, 'get_rndc_secret') self.patch_object( designate_bind.DesignateBindCharm, 'generate_rndc_key') self.patch_object(designate_bind.hookenv, 'leader_set') self.patch_object(designate_bind.hookenv, 'is_leader') self.patch_object(designate_bind.glob, 'glob') self.patch_object(designate_bind.subprocess, 'check_call') self.patch_object(designate_bind.os, 'mkdir') self.patch_object(designate_bind.os, 'chmod') self.patch_object( designate_bind.hookenv, 'local_unit', return_value='unit/1') self.patch_object(designate_bind.hookenv, 'log') self.patch_object(designate_bind.DesignateBindCharm, 'setup_sync_dir') self.patch_object(designate_bind.time, 'time') self.patch_object( self.patch_object(designate_bind.DesignateBindCharm, 'service_control') self.patch_object( designate_bind.DesignateBindCharm, 'create_zone_tarball') self.patch_object( designate_bind.DesignateBindCharm, 'set_sync_info') self.patch_object(designate_bind.host, 'service_stop') self.patch_object(designate_bind.time, 'time') self.patch_object(designate_bind.reactive, 'set_state') self.patch_object(designate_bind.subprocess, 'check_call') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_src') self.patch_object(designate_bind.DesignateBindCharm, 'service_control') self.patch_object(designate_bind.hookenv, 'log') self.patch_object(designate_bind.reactive, 'set_state') self.patch_object(designate_bind.reactive, 'remove_state') self.patch_object(designate_bind.os, 'remove') self.patch_object(designate_bind.subprocess, 'check_call') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_src') self.patch_object(designate_bind.hookenv, 'log') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_src') self.patch_object(designate_bind.DesignateBindCharm, 'service_control') self.patch_object(designate_bind.hookenv, 'log') self.patch_object(designate_bind.reactive, 'set_state') self.patch_object(designate_bind.reactive, 'remove_state') self.patch_object(designate_bind.os, 'remove') self.patch_object(designate_bind.subprocess, 'check_call') self.patch_object(designate_bind.os.path, 'isfile')","import unittest class Helper(unittest.TestCase): self._patches = {} self._patches_start = {} self.ch_config_patch = mock.patch('charmhelpers.core.hookenv.config') self.ch_config = self.ch_config_patch.start() def tearDown(self): for k, v in self._patches.items(): v.stop() setattr(self, k, None) self._patches = None self._patches_start = None self.ch_config_patch.stop() def patch(self, obj, attr, return_value=None, **kwargs): mocked = mock.patch.object(obj, attr, **kwargs) self._patches[attr] = mocked started = mocked.start() started.return_value = return_value self._patches_start[attr] = started setattr(self, attr, started) def patch_object(self, obj, attr, return_value=None, name=None, new=None): if name is None: name = attr if new is not None: mocked = mock.patch.object(obj, attr, new=new) else: mocked = mock.patch.object(obj, attr) self._patches[name] = mocked started = mocked.start() if new is None: started.return_value = return_value self._patches_start[name] = started setattr(self, name, started) self.patch(designate_bind.DesignateBindCharm.singleton, 'install') def test_init_rndckey(self): self.patch(designate_bind.DesignateBindCharm.singleton, 'init_rndckey') self.patch( self.patch( self.patch( self.patch(designate_bind.DesignateBindCharm.singleton, 'setup_sync') self.patch( self.patch( self.patch( self.patch( self.patch(designate_bind.ch_ip, 'get_relation_ip') self.patch(designate_bind.hookenv, 'unit_private_ip') self.patch(designate_bind.DesignateBindCharm, 'get_rndc_algorithm') self.patch(designate_bind.DesignateBindCharm, 'get_rndc_secret') self.patch(designate_bind.hookenv, 'leader_get') self.patch(designate_bind.hookenv, 'leader_get') self.patch(designate_bind.hookenv, 'leader_get') self.patch(designate_bind.hookenv, 'log') self.patch(designate_bind.DesignateBindCharm, 'setup_sync') self.patch(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch(designate_bind.hookenv, 'leader_set') self.patch(designate_bind.hookenv, 'unit_private_ip') self.patch(designate_bind.os, 'urandom', return_value='seed') self.patch(designate_bind.hmac, 'new', return_value=hmac_mock) self.patch(designate_bind.base64, 'b64encode', return_value=hmac_mock) self.patch(designate_bind.hookenv, 'log') self.patch(designate_bind.DesignateBindCharm, 'get_rndc_secret') self.patch(designate_bind.DesignateBindCharm, 'generate_rndc_key') self.patch(designate_bind.hookenv, 'leader_set') self.patch(designate_bind.hookenv, 'is_leader') self.patch(designate_bind.glob, 'glob') self.patch(designate_bind.subprocess, 'check_call') self.patch(designate_bind.os, 'mkdir') self.patch(designate_bind.os, 'chmod') self.patch(designate_bind.hookenv, 'local_unit', return_value='unit/1') self.patch(designate_bind.hookenv, 'log') self.patch(designate_bind.DesignateBindCharm, 'setup_sync_dir') self.patch(designate_bind.time, 'time') self.patch( self.patch(designate_bind.DesignateBindCharm, 'service_control') self.patch(designate_bind.DesignateBindCharm, 'create_zone_tarball') self.patch(designate_bind.DesignateBindCharm, 'set_sync_info') self.patch(designate_bind.host, 'service_stop') self.patch(designate_bind.time, 'time') self.patch(designate_bind.reactive, 'set_state') self.patch(designate_bind.subprocess, 'check_call') self.patch(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch(designate_bind.DesignateBindCharm, 'get_sync_src') self.patch(designate_bind.DesignateBindCharm, 'service_control') self.patch(designate_bind.hookenv, 'log') self.patch(designate_bind.reactive, 'set_state') self.patch(designate_bind.reactive, 'remove_state') self.patch(designate_bind.os, 'remove') self.patch(designate_bind.subprocess, 'check_call') self.patch(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch(designate_bind.DesignateBindCharm, 'get_sync_src') self.patch(designate_bind.hookenv, 'log') self.patch(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch(designate_bind.DesignateBindCharm, 'get_sync_src') self.patch(designate_bind.DesignateBindCharm, 'service_control') self.patch(designate_bind.hookenv, 'log') self.patch(designate_bind.reactive, 'set_state') self.patch(designate_bind.reactive, 'remove_state') self.patch(designate_bind.os, 'remove') self.patch(designate_bind.subprocess, 'check_call') self.patch(designate_bind.os.path, 'isfile')",134,102
openstack%2Ftacker-horizon~master~Ib8150a62dfd0e575ef90363cd5b6e15136bdf7b4,openstack/tacker-horizon,master,Ib8150a62dfd0e575ef90363cd5b6e15136bdf7b4,setup.cfg: Replace dashes with underscores,MERGED,2021-05-18 07:34:22.000000000,2021-06-08 08:51:22.000000000,2021-06-08 08:48:52.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-05-18 07:34:22.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/028ca199d147d079274afcaf4a5383d52371ebb5', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages like the following on new\nenough versions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ib8150a62dfd0e575ef90363cd5b6e15136bdf7b4\n""}]",0,791895,028ca199d147d079274afcaf4a5383d52371ebb5,9,6,1,32102,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages like the following on new
enough versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ib8150a62dfd0e575ef90363cd5b6e15136bdf7b4
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/95/791895/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,028ca199d147d079274afcaf4a5383d52371ebb5,replace-dashes-setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/tacker-horizon/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/tacker-horizon/latest/,3,3
openstack%2Frpm-packaging~master~I06e05ec6857ddd84e0a01bb852485721d9032080,openstack/rpm-packaging,master,I06e05ec6857ddd84e0a01bb852485721d9032080,Switch to OFTC,MERGED,2021-06-07 08:28:40.000000000,2021-06-08 08:50:48.000000000,2021-06-08 08:50:48.000000000,"[{'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-07 08:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/db4df1c49f43f6ce3d7b39cf74e4283a0c1c39cd', 'message': 'Switch to OFTC\n\nChange-Id: I06e05ec6857ddd84e0a01bb852485721d9032080\n'}, {'number': 2, 'created': '2021-06-07 08:30:41.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9b7ee0068b95bdc64ac63a9133acbb3031be026c', 'message': 'Switch to OFTC\n\nChange-Id: I06e05ec6857ddd84e0a01bb852485721d9032080\n'}]",0,795060,9b7ee0068b95bdc64ac63a9133acbb3031be026c,11,5,2,6593,,,0,"Switch to OFTC

Change-Id: I06e05ec6857ddd84e0a01bb852485721d9032080
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/60/795060/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,db4df1c49f43f6ce3d7b39cf74e4283a0c1c39cd,, http://webchat.oftc.net/?channels=openstack-rpm-packaging, https://webchat.freenode.net/#openstack-rpm-packaging,1,1
openstack%2Ftacker-horizon~master~I03c8367614fb977b35c10f4529bbc3aaa5c8db47,openstack/tacker-horizon,master,I03c8367614fb977b35c10f4529bbc3aaa5c8db47,Update min version of tox,MERGED,2021-05-10 11:51:51.000000000,2021-06-08 08:50:17.000000000,2021-06-08 08:48:48.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-05-10 11:51:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/9a85cce99c01d3025ec4f614b83843bebf1a310f', 'message': 'Update min version of tox\n\nThis patch bumps the minimum version of tox to 3.18.0.\nAdditionally fix the argument such as ""whitelist_externals""\nwhich is deprecated, it replaces whitelist_externals by\nallowlist_externals option. Please refer [1] for details.\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I03c8367614fb977b35c10f4529bbc3aaa5c8db47\n'}]",0,790424,9a85cce99c01d3025ec4f614b83843bebf1a310f,9,6,1,32102,,,0,"Update min version of tox

This patch bumps the minimum version of tox to 3.18.0.
Additionally fix the argument such as ""whitelist_externals""
which is deprecated, it replaces whitelist_externals by
allowlist_externals option. Please refer [1] for details.

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I03c8367614fb977b35c10f4529bbc3aaa5c8db47
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/24/790424/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9a85cce99c01d3025ec4f614b83843bebf1a310f,update-min-tox,minversion = 3.18.0allowlist_externals =,minversion = 3.1.1whitelist_externals =,2,2
openstack%2Fcharm-designate-bind~master~I9a997550d58bd06c8a8af9752c0d418b4acbbbdd,openstack/charm-designate-bind,master,I9a997550d58bd06c8a8af9752c0d418b4acbbbdd,Switch Helper to use c.openstack PatchHelper,MERGED,2021-06-02 09:21:43.000000000,2021-06-08 08:10:31.000000000,2021-06-08 08:10:31.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-02 09:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/5c1d395dde2ac97ec93f18eb409d65e3f859a229', 'message': 'Switch Helper to use c.openstack PatchHelper\n\nThis charms.openstack PatchHelper class is a better version of the\nHelper class in test_lib_charm_openstack_designate_bind.py as it allows\npatching by fully qualified class string.  This simplifies the patching\nin the tests.\n\nChange-Id: I9a997550d58bd06c8a8af9752c0d418b4acbbbdd\n'}, {'number': 2, 'created': '2021-06-02 09:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/391e5dd355b4a9dcae3031e1cccec670d158c56b', 'message': 'Switch Helper to use c.openstack PatchHelper\n\nThis charms.openstack PatchHelper class is a better version of the\nHelper class in test_lib_charm_openstack_designate_bind.py as it allows\npatching by fully qualified class string.  This simplifies the patching\nin the tests.\n\nChange-Id: I9a997550d58bd06c8a8af9752c0d418b4acbbbdd\n'}, {'number': 3, 'created': '2021-06-02 09:50:54.000000000', 'files': ['unit_tests/test_lib_charm_openstack_designate_bind.py'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/8949ab2f4e06ff885a940b59e39a960d9a98c219', 'message': 'Switch Helper to use c.openstack PatchHelper\n\nThis charms.openstack PatchHelper class is a better version of the\nHelper class in test_lib_charm_openstack_designate_bind.py as it allows\npatching by fully qualified class string.  This simplifies the patching\nin the tests.\n\nChange-Id: I9a997550d58bd06c8a8af9752c0d418b4acbbbdd\n'}]",0,794168,8949ab2f4e06ff885a940b59e39a960d9a98c219,19,4,3,20870,,,0,"Switch Helper to use c.openstack PatchHelper

This charms.openstack PatchHelper class is a better version of the
Helper class in test_lib_charm_openstack_designate_bind.py as it allows
patching by fully qualified class string.  This simplifies the patching
in the tests.

Change-Id: I9a997550d58bd06c8a8af9752c0d418b4acbbbdd
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/68/794168/2 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_lib_charm_openstack_designate_bind.py'],1,5c1d395dde2ac97ec93f18eb409d65e3f859a229,794168," import charms_openstack.test_utils as test_utilsclass Helper(test_utils.PatchHelper): super().setUp() self.patch('charmhelpers.core.hookenv.config', name='ch_config') self.patch('charms_openstack.charm.core._singleton', new=None) charm = designate_bind.DesignateBindCharm.singleton self.patch_object(charm, 'install') self.patch_object( designate_bind.DesignateBindCharm.singleton, 'init_rndckey') self.patch_object( self.patch_object( self.patch_object( self.patch_object( designate_bind.DesignateBindCharm.singleton, 'setup_sync') self.patch_object( self.patch_object( self.patch_object( self.patch_object( self.patch_object(designate_bind.ch_ip, 'get_relation_ip') self.patch_object(designate_bind.hookenv, 'unit_private_ip') self.patch_object( designate_bind.DesignateBindCharm, 'get_rndc_algorithm') self.patch_object(designate_bind.DesignateBindCharm, 'get_rndc_secret') self.patch_object(designate_bind.hookenv, 'leader_get') self.patch_object(designate_bind.hookenv, 'leader_get') self.patch_object(designate_bind.hookenv, 'leader_get') self.patch_object(designate_bind.hookenv, 'log') self.patch_object(designate_bind.DesignateBindCharm, 'setup_sync') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch_object(designate_bind.hookenv, 'leader_set') self.patch_object(designate_bind.hookenv, 'unit_private_ip') self.patch_object(designate_bind.os, 'urandom', return_value='seed') self.patch_object(designate_bind.hmac, 'new', return_value=hmac_mock) self.patch_object( designate_bind.base64, 'b64encode', return_value=hmac_mock) self.patch_object(designate_bind.hookenv, 'log') self.patch_object(designate_bind.DesignateBindCharm, 'get_rndc_secret') self.patch_object( designate_bind.DesignateBindCharm, 'generate_rndc_key') self.patch_object(designate_bind.hookenv, 'leader_set') self.patch_object(designate_bind.hookenv, 'is_leader') self.patch_object(designate_bind.glob, 'glob') self.patch_object(designate_bind.subprocess, 'check_call') self.patch_object(designate_bind.os, 'mkdir') self.patch_object(designate_bind.os, 'chmod') self.patch_object( designate_bind.hookenv, 'local_unit', return_value='unit/1') self.patch_object(designate_bind.hookenv, 'log') self.patch_object(designate_bind.DesignateBindCharm, 'setup_sync_dir') self.patch_object(designate_bind.time, 'time') self.patch_object( self.patch_object(designate_bind.DesignateBindCharm, 'service_control') self.patch_object( designate_bind.DesignateBindCharm, 'create_zone_tarball') self.patch_object( designate_bind.DesignateBindCharm, 'set_sync_info') self.patch_object(designate_bind.host, 'service_stop') self.patch_object(designate_bind.time, 'time') self.patch_object(designate_bind.reactive, 'set_state') self.patch_object(designate_bind.subprocess, 'check_call') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_src') self.patch_object(designate_bind.DesignateBindCharm, 'service_control') self.patch_object(designate_bind.hookenv, 'log') self.patch_object(designate_bind.reactive, 'set_state') self.patch_object(designate_bind.reactive, 'remove_state') self.patch_object(designate_bind.os, 'remove') self.patch_object(designate_bind.subprocess, 'check_call') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_src') self.patch_object(designate_bind.hookenv, 'log') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_src') self.patch_object(designate_bind.DesignateBindCharm, 'service_control') self.patch_object(designate_bind.hookenv, 'log') self.patch_object(designate_bind.reactive, 'set_state') self.patch_object(designate_bind.reactive, 'remove_state') self.patch_object(designate_bind.os, 'remove') self.patch_object(designate_bind.subprocess, 'check_call') self.patch_object(designate_bind.os.path, 'isfile')","import unittest class Helper(unittest.TestCase): self._patches = {} self._patches_start = {} self.ch_config_patch = mock.patch('charmhelpers.core.hookenv.config') self.ch_config = self.ch_config_patch.start() self.ch_config_patch.stop() def patch(self, obj, attr, return_value=None, **kwargs): mocked = mock.patch.object(obj, attr, **kwargs) self._patches[attr] = mocked started = mocked.start() started.return_value = return_value self._patches_start[attr] = started setattr(self, attr, started) def patch_object(self, obj, attr, return_value=None, name=None, new=None): if name is None: name = attr if new is not None: mocked = mock.patch.object(obj, attr, new=new) else: mocked = mock.patch.object(obj, attr) self._patches[name] = mocked started = mocked.start() if new is None: started.return_value = return_value self._patches_start[name] = started setattr(self, name, started) self.patch(designate_bind.DesignateBindCharm.singleton, 'install') self.patch(designate_bind.DesignateBindCharm.singleton, 'init_rndckey') self.patch( self.patch( self.patch( self.patch(designate_bind.DesignateBindCharm.singleton, 'setup_sync') self.patch( self.patch( self.patch( self.patch( self.patch(designate_bind.ch_ip, 'get_relation_ip') self.patch(designate_bind.hookenv, 'unit_private_ip') self.patch(designate_bind.DesignateBindCharm, 'get_rndc_algorithm') self.patch(designate_bind.DesignateBindCharm, 'get_rndc_secret') self.patch(designate_bind.hookenv, 'leader_get') self.patch(designate_bind.hookenv, 'leader_get') self.patch(designate_bind.hookenv, 'leader_get') self.patch(designate_bind.hookenv, 'log') self.patch(designate_bind.DesignateBindCharm, 'setup_sync') self.patch(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch(designate_bind.hookenv, 'leader_set') self.patch(designate_bind.hookenv, 'unit_private_ip') self.patch(designate_bind.os, 'urandom', return_value='seed') self.patch(designate_bind.hmac, 'new', return_value=hmac_mock) self.patch(designate_bind.base64, 'b64encode', return_value=hmac_mock) self.patch(designate_bind.hookenv, 'log') self.patch(designate_bind.DesignateBindCharm, 'get_rndc_secret') self.patch(designate_bind.DesignateBindCharm, 'generate_rndc_key') self.patch(designate_bind.hookenv, 'leader_set') self.patch(designate_bind.hookenv, 'is_leader') self.patch(designate_bind.glob, 'glob') self.patch(designate_bind.subprocess, 'check_call') self.patch(designate_bind.os, 'mkdir') self.patch(designate_bind.os, 'chmod') self.patch(designate_bind.hookenv, 'local_unit', return_value='unit/1') self.patch(designate_bind.hookenv, 'log') self.patch(designate_bind.DesignateBindCharm, 'setup_sync_dir') self.patch(designate_bind.time, 'time') self.patch( self.patch(designate_bind.DesignateBindCharm, 'service_control') self.patch(designate_bind.DesignateBindCharm, 'create_zone_tarball') self.patch(designate_bind.DesignateBindCharm, 'set_sync_info') self.patch(designate_bind.host, 'service_stop') self.patch(designate_bind.time, 'time') self.patch(designate_bind.reactive, 'set_state') self.patch(designate_bind.subprocess, 'check_call') self.patch(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch(designate_bind.DesignateBindCharm, 'get_sync_src') self.patch(designate_bind.DesignateBindCharm, 'service_control') self.patch(designate_bind.hookenv, 'log') self.patch(designate_bind.reactive, 'set_state') self.patch(designate_bind.reactive, 'remove_state') self.patch(designate_bind.os, 'remove') self.patch(designate_bind.subprocess, 'check_call') self.patch(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch(designate_bind.DesignateBindCharm, 'get_sync_src') self.patch(designate_bind.hookenv, 'log') self.patch(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch(designate_bind.DesignateBindCharm, 'get_sync_src') self.patch(designate_bind.DesignateBindCharm, 'service_control') self.patch(designate_bind.hookenv, 'log') self.patch(designate_bind.reactive, 'set_state') self.patch(designate_bind.reactive, 'remove_state') self.patch(designate_bind.os, 'remove') self.patch(designate_bind.subprocess, 'check_call') self.patch(designate_bind.os.path, 'isfile')",80,95
openstack%2Fkolla~master~I0b3eb6744a34a601266179fb358510a5c500e6ba,openstack/kolla,master,I0b3eb6744a34a601266179fb358510a5c500e6ba,Fix _get_images_dir when pip-installed with --user,MERGED,2021-06-02 07:54:46.000000000,2021-06-08 08:04:37.000000000,2021-06-08 08:02:51.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 33546}]","[{'number': 1, 'created': '2021-06-02 07:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/343ef810e4259c04ec18eede16ba2da0d81a347c', 'message': 'Fix _get_images_dir when pip-installed with --user\n\nChange-Id: I0b3eb6744a34a601266179fb358510a5c500e6ba\n'}, {'number': 2, 'created': '2021-06-02 08:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7d22f43f435e15c787f324b5b58e3d878449a5d2', 'message': 'Fix _get_images_dir when pip-installed with --user\n\nCloses: #1930544\n\nChange-Id: I0b3eb6744a34a601266179fb358510a5c500e6ba\n'}, {'number': 3, 'created': '2021-06-02 08:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4c371aa9e4456967b82a205e8b0cb2b915e31501', 'message': 'Fix _get_images_dir when pip-installed with --user\n\nCloses-Bug: #1930544\n\nChange-Id: I0b3eb6744a34a601266179fb358510a5c500e6ba\n'}, {'number': 4, 'created': '2021-06-02 08:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/34c035d2d57ec9df5dba2720feddd3890726daf9', 'message': 'Fix _get_images_dir when pip-installed with --user\n\nCloses-Bug: #1930544\n\nChange-Id: I0b3eb6744a34a601266179fb358510a5c500e6ba\n'}, {'number': 5, 'created': '2021-06-02 08:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a264027fcbcb2ca0ddece4a9c1b34a535dd899f3', 'message': 'Fix _get_images_dir when pip-installed with --user\n\nThere are two cases where pip installs kolla share into ~/.local/share/kolla:\n\n- with `pip install --user kolla`\n- with `pip install kolla` as non-root\n\nThis patch helps kolla find the share dir in these cases.\n\nCloses-Bug: #1930544\n\nChange-Id: I0b3eb6744a34a601266179fb358510a5c500e6ba\n'}, {'number': 6, 'created': '2021-06-07 09:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/732d46b318f936c7a64939d06a5cf0398a5f88c3', 'message': 'Fix _get_images_dir when pip-installed with --user\n\nThere are two cases where pip installs kolla share into ~/.local/share/kolla:\n\n- with `pip install --user kolla`\n- with `pip install kolla` as non-root\n\nThis patch helps kolla find the share dir in these cases.\n\nCloses-Bug: #1930544\n\nChange-Id: I0b3eb6744a34a601266179fb358510a5c500e6ba\n'}, {'number': 7, 'created': '2021-06-07 09:56:03.000000000', 'files': ['kolla/image/build.py', 'releasenotes/notes/bug-1930544-a8926990f3a578a9.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/db78657c231663f3e8ebbc18de43c06ddaa94c97', 'message': 'Fix _get_images_dir when pip-installed with --user\n\nThere are two cases where pip installs kolla share into ~/.local/share/kolla:\n\n- with `pip install --user kolla`\n- with `pip install kolla` as non-root\n\nThis patch helps kolla find the share dir in these cases.\n\nCloses-Bug: #1930544\n\nChange-Id: I0b3eb6744a34a601266179fb358510a5c500e6ba\n'}]",1,794153,db78657c231663f3e8ebbc18de43c06ddaa94c97,23,5,7,11928,,,0,"Fix _get_images_dir when pip-installed with --user

There are two cases where pip installs kolla share into ~/.local/share/kolla:

- with `pip install --user kolla`
- with `pip install kolla` as non-root

This patch helps kolla find the share dir in these cases.

Closes-Bug: #1930544

Change-Id: I0b3eb6744a34a601266179fb358510a5c500e6ba
",git fetch https://review.opendev.org/openstack/kolla refs/changes/53/794153/2 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,343ef810e4259c04ec18eede16ba2da0d81a347c,pip_local," os.path.join(os.getenv('HOME'), '.local/share/kolla'),",,1,0
openstack%2Fhorizon~stable%2Fvictoria~I985ea0b19a96e5e3160b824efda20659d855c2dc,openstack/horizon,stable/victoria,I985ea0b19a96e5e3160b824efda20659d855c2dc,doc: Update our IRC server to OFTC,MERGED,2021-06-04 06:34:42.000000000,2021-06-08 07:52:34.000000000,2021-06-08 07:50:36.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 06:34:42.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3daa963fae542f424c105a481524b93f5a976943', 'message': 'doc: Update our IRC server to OFTC\n\nChange-Id: I985ea0b19a96e5e3160b824efda20659d855c2dc\n(cherry picked from commit cdb08a1ad6b01693d30de9c27b809652af77ab27)\n'}]",0,794630,3daa963fae542f424c105a481524b93f5a976943,8,3,1,29313,,,0,"doc: Update our IRC server to OFTC

Change-Id: I985ea0b19a96e5e3160b824efda20659d855c2dc
(cherry picked from commit cdb08a1ad6b01693d30de9c27b809652af77ab27)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/30/794630/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,3daa963fae542f424c105a481524b93f5a976943,oftc-stable/victoria,* IRC channel: ``#openstack-horizon`` at OFTC,* IRC channel: ``#openstack-horizon`` at freenode,1,1
openstack%2Fhorizon~stable%2Fussuri~I985ea0b19a96e5e3160b824efda20659d855c2dc,openstack/horizon,stable/ussuri,I985ea0b19a96e5e3160b824efda20659d855c2dc,doc: Update our IRC server to OFTC,MERGED,2021-06-04 09:33:02.000000000,2021-06-08 07:52:28.000000000,2021-06-08 07:50:46.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 09:33:02.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/7555c16cf6247c9ecf8f18dd565828f812338357', 'message': 'doc: Update our IRC server to OFTC\n\nChange-Id: I985ea0b19a96e5e3160b824efda20659d855c2dc\n(cherry picked from commit cdb08a1ad6b01693d30de9c27b809652af77ab27)\n'}]",0,794758,7555c16cf6247c9ecf8f18dd565828f812338357,9,3,1,29313,,,0,"doc: Update our IRC server to OFTC

Change-Id: I985ea0b19a96e5e3160b824efda20659d855c2dc
(cherry picked from commit cdb08a1ad6b01693d30de9c27b809652af77ab27)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/58/794758/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,7555c16cf6247c9ecf8f18dd565828f812338357,oftc-stable/ussuri,* IRC Channel: #openstack-horizon on OFTC.,* IRC Channel: #openstack-horizon on Freenode.,1,1
openstack%2Fhorizon~stable%2Fwallaby~I985ea0b19a96e5e3160b824efda20659d855c2dc,openstack/horizon,stable/wallaby,I985ea0b19a96e5e3160b824efda20659d855c2dc,doc: Update our IRC server to OFTC,MERGED,2021-06-04 06:32:57.000000000,2021-06-08 07:52:22.000000000,2021-06-08 07:50:31.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 06:32:57.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f3487d6e60e2cb9f65559f5dd76d71fb04d3897d', 'message': 'doc: Update our IRC server to OFTC\n\nChange-Id: I985ea0b19a96e5e3160b824efda20659d855c2dc\n(cherry picked from commit cdb08a1ad6b01693d30de9c27b809652af77ab27)\n'}]",0,794629,f3487d6e60e2cb9f65559f5dd76d71fb04d3897d,8,3,1,29313,,,0,"doc: Update our IRC server to OFTC

Change-Id: I985ea0b19a96e5e3160b824efda20659d855c2dc
(cherry picked from commit cdb08a1ad6b01693d30de9c27b809652af77ab27)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/29/794629/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,f3487d6e60e2cb9f65559f5dd76d71fb04d3897d,oftc-stable/wallaby,* IRC channel: ``#openstack-horizon`` at OFTC,* IRC channel: ``#openstack-horizon`` at freenode,1,1
openstack%2Fvenus~master~I3cb3f6c936aa1b8b6f2b49985061c6d5ac31cc58,openstack/venus,master,I3cb3f6c936aa1b8b6f2b49985061c6d5ac31cc58,add default VENUS_DEPLOY=mod_wsgi,MERGED,2021-06-08 06:27:43.000000000,2021-06-08 07:26:59.000000000,2021-06-08 07:26:59.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-06-08 06:27:43.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/venus/commit/d229694a7003bedb0dcaa32773678a68ddcd1b43', 'message': 'add default VENUS_DEPLOY=mod_wsgi\n\nChange-Id: I3cb3f6c936aa1b8b6f2b49985061c6d5ac31cc58\n'}]",0,795220,d229694a7003bedb0dcaa32773678a68ddcd1b43,6,2,1,30562,,,0,"add default VENUS_DEPLOY=mod_wsgi

Change-Id: I3cb3f6c936aa1b8b6f2b49985061c6d5ac31cc58
",git fetch https://review.opendev.org/openstack/venus refs/changes/20/795220/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,d229694a7003bedb0dcaa32773678a68ddcd1b43,,VENUS_DEPLOY=mod_wsgi ,,2,0
openstack%2Fvenus~master~Ib0c6e920adff9f9fe1dca52bfdb9a526b7f4ade1,openstack/venus,master,Ib0c6e920adff9f9fe1dca52bfdb9a526b7f4ade1,fix VENUS_FILES directory.,MERGED,2021-06-08 06:27:43.000000000,2021-06-08 07:26:40.000000000,2021-06-08 07:26:40.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-06-08 06:27:43.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/venus/commit/bb07f9a470fb27d912e5d259ca70d0898f444dc2', 'message': 'fix VENUS_FILES directory.\n\nChange-Id: Ib0c6e920adff9f9fe1dca52bfdb9a526b7f4ade1\n'}]",0,795219,bb07f9a470fb27d912e5d259ca70d0898f444dc2,6,2,1,30562,,,0,"fix VENUS_FILES directory.

Change-Id: Ib0c6e920adff9f9fe1dca52bfdb9a526b7f4ade1
",git fetch https://review.opendev.org/openstack/venus refs/changes/19/795219/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,bb07f9a470fb27d912e5d259ca70d0898f444dc2,,VENUS_FILES=$VENUS_DIR/devstack/files,VENUS_FILES=$VENUS_DIR/devstack/VENUS_FILES,1,1
openstack%2Fvenus~master~I10a16c76e64a45d010e80ff05d7566fc31fbda25,openstack/venus,master,I10a16c76e64a45d010e80ff05d7566fc31fbda25,remove db sync from stack script.,MERGED,2021-06-08 06:27:43.000000000,2021-06-08 07:25:06.000000000,2021-06-08 07:25:06.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-06-08 06:27:43.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/venus/commit/766f1ca96baef48bf23c046dfcf419c57322e8bb', 'message': 'remove db sync from stack script.\n\nChange-Id: I10a16c76e64a45d010e80ff05d7566fc31fbda25\n'}]",0,795218,766f1ca96baef48bf23c046dfcf419c57322e8bb,6,2,1,30562,,,0,"remove db sync from stack script.

Change-Id: I10a16c76e64a45d010e80ff05d7566fc31fbda25
",git fetch https://review.opendev.org/openstack/venus refs/changes/18/795218/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,766f1ca96baef48bf23c046dfcf419c57322e8bb,,, sudo $VENUS_BIN_DIR/venus-manage --config-file=${VENUS_CONF} db sync,0,1
openstack%2Fvenus~master~I656d85e93f241d235ec92554bba5926841672a18,openstack/venus,master,I656d85e93f241d235ec92554bba5926841672a18,fix stack.sh issue,MERGED,2021-06-08 06:27:43.000000000,2021-06-08 07:24:57.000000000,2021-06-08 07:24:57.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-06-08 06:27:43.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/venus/commit/3e34cf4a59b2fe572afe8d25c104f9cae0076fa0', 'message': 'fix stack.sh issue\n\nChange-Id: I656d85e93f241d235ec92554bba5926841672a18\n'}]",0,795217,3e34cf4a59b2fe572afe8d25c104f9cae0076fa0,6,2,1,30562,,,0,"fix stack.sh issue

Change-Id: I656d85e93f241d235ec92554bba5926841672a18
",git fetch https://review.opendev.org/openstack/venus refs/changes/17/795217/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,3e34cf4a59b2fe572afe8d25c104f9cae0076fa0,,VENUS_CONF=$VENUS_CONF_DIR/venus.conf # HOST and PORT VENUS_SERVICE_PROTOCOL=$SERVICE_PROTOCOL VENUS_SERVICE_HOST=$SERVICE_HOST VENUS_SERVICE_PORT=${VENUS_SERVICE_PORT:-10010},VENUS_CONF=$VENUS_CONF_DIR/venus.conf,33,8
openstack%2Ftripleo-quickstart~master~I0f2eb09c5f549fba1b669ec7d24c198008c5673c,openstack/tripleo-quickstart,master,I0f2eb09c5f549fba1b669ec7d24c198008c5673c,Exclude latest hostname to fix ovb,ABANDONED,2021-06-03 15:58:19.000000000,2021-06-08 07:19:10.000000000,,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-03 15:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7c975e2c965e9dcd197b5b3a3a24c2e5d276b03d', 'message': 'Exclude latest Network Manager to fix ovb\n\nOvb jobs seems failing due to latest Network Manager,\nUsing exclude to ping to last good version\nNetworkManager-*-1.32.0-0.2\n\nDetails in bug:\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1929745\n\nChange-Id: I0f2eb09c5f549fba1b669ec7d24c198008c5673c\n'}, {'number': 2, 'created': '2021-06-04 11:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/360a595edb247974ecc93d19feaf4806715ead6e', 'message': 'Exclude latest Network Manager to fix ovb\n\nOvb jobs seems failing due to latest Network Manager,\nUsing exclude to pin NetworkManager and Subpackages to\nlast known good version.\n\nDetails in bug:\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1929745\n\nChange-Id: I0f2eb09c5f549fba1b669ec7d24c198008c5673c\n'}, {'number': 3, 'created': '2021-06-07 11:36:30.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/09c7bc16a7c97a40798f1eb67d3a52561e081948', 'message': 'Exclude latest hostname to fix ovb\n\nOvb jobs failing due to issues as mentioned in related bugs.\nUsing exclude to pin hostname to last known good version.\n\nRelated-Bug: #1930849\nRelated-Bug: #1929745\n\nChange-Id: I0f2eb09c5f549fba1b669ec7d24c198008c5673c\n'}]",0,794636,09c7bc16a7c97a40798f1eb67d3a52561e081948,16,4,3,29775,,,0,"Exclude latest hostname to fix ovb

Ovb jobs failing due to issues as mentioned in related bugs.
Using exclude to pin hostname to last known good version.

Related-Bug: #1930849
Related-Bug: #1929745

Change-Id: I0f2eb09c5f549fba1b669ec7d24c198008c5673c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/36/794636/3 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml']",10,7c975e2c965e9dcd197b5b3a3a24c2e5d276b03d,, exclude: - NetworkManager-*-1.32.0-0.[3|4].el8*,,20,0
openstack%2Fcharm-designate-bind~master~I66ad4fef327abfaa74258d458ace9f509a72a0fb,openstack/charm-designate-bind,master,I66ad4fef327abfaa74258d458ace9f509a72a0fb,Moving to OFTC,MERGED,2021-05-27 12:25:38.000000000,2021-06-08 07:09:02.000000000,2021-06-08 07:09:02.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 12:25:38.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/ef7c6f9f80ad391480d4d45225292c7cabd56b6a', 'message': 'Moving to OFTC\n\nChange-Id: I66ad4fef327abfaa74258d458ace9f509a72a0fb\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}]",0,793396,ef7c6f9f80ad391480d4d45225292c7cabd56b6a,13,4,1,19298,,,0,"Moving to OFTC

Change-Id: I66ad4fef327abfaa74258d458ace9f509a72a0fb
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/96/793396/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,ef7c6f9f80ad391480d4d45225292c7cabd56b6a,oftc,OFTC IRC: #openstack-charms,Freenode IRC: #openstack-charms,1,1
openstack%2Ftacker~master~Ie60c16ab06e632a4a33e690591ac94e9029cedf0,openstack/tacker,master,Ie60c16ab06e632a4a33e690591ac94e9029cedf0,[WIP] Fixed issues that 500 Internal Server Error returned instead of 400 Bad Request. Changed the difference between SQLAlchemy defines and object defines.,NEW,2021-06-08 03:22:33.000000000,2021-06-08 07:03:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-08 03:22:33.000000000', 'files': ['tacker/objects/vnf_software_image.py', 'tacker/objects/vnf_instantiated_info.py', 'tacker/objects/vnf_lcm_subscriptions.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/objects/vnf_instance.py', 'tacker/objects/vnf_package.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/45bcdf1512b399778189c062f83c0c1a6883bf58', 'message': '[WIP] Fixed issues that 500 Internal Server Error returned\ninstead of 400 Bad Request.\nChanged the difference between SQLAlchemy defines and object\ndefines.\n\nChange-Id: Ie60c16ab06e632a4a33e690591ac94e9029cedf0\n'}]",0,795205,45bcdf1512b399778189c062f83c0c1a6883bf58,2,1,1,31417,,,0,"[WIP] Fixed issues that 500 Internal Server Error returned
instead of 400 Bad Request.
Changed the difference between SQLAlchemy defines and object
defines.

Change-Id: Ie60c16ab06e632a4a33e690591ac94e9029cedf0
",git fetch https://review.opendev.org/openstack/tacker refs/changes/05/795205/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/objects/vnf_software_image.py', 'tacker/objects/vnf_instantiated_info.py', 'tacker/objects/vnf_lcm_subscriptions.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/objects/vnf_instance.py', 'tacker/objects/vnf_package.py']",6,45bcdf1512b399778189c062f83c0c1a6883bf58,," 'id': ('id', ""uuid"", 'VnfPackage'), 'vnfdId': ('vnfd.vnfd_id', 'uuid', 'VnfPackageVnfd'),"," 'id': ('id', ""string"", 'VnfPackage'), 'vnfdId': ('vnfd.vnfd_id', 'string', 'VnfPackageVnfd'),",9,9
openstack%2Fcharm-nova-cloud-controller~master~I71e97453453d5d091449caf547e68c6455d091cf,openstack/charm-nova-cloud-controller,master,I71e97453453d5d091449caf547e68c6455d091cf,Set cross_az_attach setting on cloud-compute relation,MERGED,2021-04-13 18:44:17.000000000,2021-06-08 06:56:33.000000000,2021-06-08 06:56:33.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-13 18:44:17.000000000', 'files': ['unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/198c9e7d6e7197bc26198737124df7a658b8df56', 'message': 'Set cross_az_attach setting on cloud-compute relation\n\nCommunicate to compute services the cross_az_attach config setting.\nSince the cross_az_attach setting needs to be applied at the compute\nnode, update the relation settings to specify the cross_az_attach\npolicy configured.\n\nChange-Id: I71e97453453d5d091449caf547e68c6455d091cf\nCloses-Bug: #1899084\n'}]",0,786090,198c9e7d6e7197bc26198737124df7a658b8df56,8,3,1,8992,,,0,"Set cross_az_attach setting on cloud-compute relation

Communicate to compute services the cross_az_attach config setting.
Since the cross_az_attach setting needs to be applied at the compute
node, update the relation settings to specify the cross_az_attach
policy configured.

Change-Id: I71e97453453d5d091449caf547e68c6455d091cf
Closes-Bug: #1899084
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/90/786090/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py']",2,198c9e7d6e7197bc26198737124df7a658b8df56,bug/1899084," 'cross_az_attach': hookenv.config('cross-az-attach'),def set_cross_az_attach_on_relation_from_config(rid=None): """"""Helper function that sets the cross-az-attach policy for that relation to trigger a change for any units that see it differently. :param rid: The relation to set, or if None, the current one related to the hook. :type rid: Union[str, None] """""" hookenv.relation_set(relation_id=rid, cross_az_attach=hookenv.config('cross-az-attach')) set_cross_az_attach_on_relation_from_config(r_id)",,16,0
openstack%2Fcharm-rabbitmq-server~master~I123c03c08fe5044786807615e2d0f85f95d0f390,openstack/charm-rabbitmq-server,master,I123c03c08fe5044786807615e2d0f85f95d0f390,Reflect recent test.yaml changes in osci.yaml,MERGED,2021-03-27 07:22:57.000000000,2021-06-08 06:42:54.000000000,2021-06-08 06:42:54.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-27 07:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/7f599587f1592241985a429136e96fec24206ec5', 'message': 'Reflect recent test.yaml changes in osci.yaml\n\nChange-Id: I123c03c08fe5044786807615e2d0f85f95d0f390\n'}, {'number': 2, 'created': '2021-03-27 07:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/241acd80e972b076c3c7e7ee171117683b5d66f8', 'message': 'Reflect recent test.yaml changes in osci.yaml\n\nChange-Id: I123c03c08fe5044786807615e2d0f85f95d0f390\n'}, {'number': 3, 'created': '2021-03-27 07:43:59.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/551a5c6902731b34020485031326d91e1ffeb3e9', 'message': 'Reflect recent test.yaml changes in osci.yaml\n\nChange-Id: I123c03c08fe5044786807615e2d0f85f95d0f390\n'}]",0,783482,551a5c6902731b34020485031326d91e1ffeb3e9,13,3,3,12549,,,0,"Reflect recent test.yaml changes in osci.yaml

Change-Id: I123c03c08fe5044786807615e2d0f85f95d0f390
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/82/783482/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,7f599587f1592241985a429136e96fec24206ec5,series-only-gate-zosci, check: jobs: - xenial-mitaka - bionic-queens - focal-ussuri - groovy-victoria vars: needs_charm_build: false - job: name: xenial-mitaka parent: func-target dependencies: &smoke-jobs - focal-ussuri vars: tox_extra_args: xenial-mitaka - job: name: bionic-queens parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: bionic-queens - job: name: focal-ussuri parent: func-target dependencies: &lint-jobs - osci-lint - tox-py35 - tox-py36 - tox-py37 - tox-py38 vars: tox_extra_args: focal-ussuri - job: name: groovy-victoria parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: groovy-victoria , - charm-functional-jobs,39,1
openstack%2Fpython-venusclient~master~I02450cec26d136b088058291ef2d4d35e3197932,openstack/python-venusclient,master,I02450cec26d136b088058291ef2d4d35e3197932,change DEFAULT_SERVICE_TYPE to 'log-system'.,MERGED,2021-06-08 06:12:51.000000000,2021-06-08 06:40:32.000000000,2021-06-08 06:40:32.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-06-08 06:12:51.000000000', 'files': ['venusclient/v1/client.py'], 'web_link': 'https://opendev.org/openstack/python-venusclient/commit/d29dd1e1e2df26cf4a45a3caa4018f562643c22f', 'message': ""change DEFAULT_SERVICE_TYPE to 'log-system'.\n\nChange-Id: I02450cec26d136b088058291ef2d4d35e3197932\n""}]",0,795216,d29dd1e1e2df26cf4a45a3caa4018f562643c22f,6,2,1,30562,,,0,"change DEFAULT_SERVICE_TYPE to 'log-system'.

Change-Id: I02450cec26d136b088058291ef2d4d35e3197932
",git fetch https://review.opendev.org/openstack/python-venusclient refs/changes/16/795216/1 && git format-patch -1 --stdout FETCH_HEAD,['venusclient/v1/client.py'],1,d29dd1e1e2df26cf4a45a3caa4018f562643c22f,,DEFAULT_SERVICE_TYPE = 'log-system',DEFAULT_SERVICE_TYPE = 'compute',1,1
openstack%2Fcharm-cinder-ceph~master~I4b57f7979837d21a1b116007f3da707ee154792b,openstack/charm-cinder-ceph,master,I4b57f7979837d21a1b116007f3da707ee154792b,Add support of a common volume_backend_name,MERGED,2020-06-23 12:09:24.000000000,2021-06-08 06:38:39.000000000,2021-06-08 06:38:39.000000000,"[{'_account_id': 10058}, {'_account_id': 14567}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-23 12:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/8f26634fb84a015fa3ca73a10bbdc5de71353124', 'message': ""Add support of a common volume_backend_name\n\nPreviously, we didn't have a control over volume_backend_name other than\nthe default app name in the Juju model. A common backend name to\nmultiple backends with the same character is useful because those can be\ntreated as a single virtual backend associated with a single volume\ntype.\n\nChange-Id: I4b57f7979837d21a1b116007f3da707ee154792b\nCloses-Bug: #1884511\n""}, {'number': 2, 'created': '2021-03-30 06:10:16.000000000', 'files': ['hooks/cinder_contexts.py', 'config.yaml', 'unit_tests/test_cinder_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/d9873fd22cf1d5081344bde58b324cfb84a5c693', 'message': ""Add support of a common volume_backend_name\n\nPreviously, we didn't have a control over volume_backend_name other than\nthe default app name in the Juju model. A common backend name to\nmultiple backends with the same character is useful because those can be\ntreated as a single virtual backend associated with a single volume\ntype.\n\nChange-Id: I4b57f7979837d21a1b116007f3da707ee154792b\nCloses-Bug: #1884511\n""}]",0,737506,d9873fd22cf1d5081344bde58b324cfb84a5c693,13,5,2,8108,,,0,"Add support of a common volume_backend_name

Previously, we didn't have a control over volume_backend_name other than
the default app name in the Juju model. A common backend name to
multiple backends with the same character is useful because those can be
treated as a single virtual backend associated with a single volume
type.

Change-Id: I4b57f7979837d21a1b116007f3da707ee154792b
Closes-Bug: #1884511
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/06/737506/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/cinder_contexts.py', 'config.yaml', 'unit_tests/test_cinder_contexts.py']",3,8f26634fb84a015fa3ca73a10bbdc5de71353124,bug/1884511," def test_ceph_explicit_volume_backend_name(self): self.test_config.set('volume-backend-name', 'special-backend-name') self.is_relation_made.return_value = True self.get_os_codename_package.return_value = ""mitaka"" service = 'mycinder' self.service_name.return_value = service self.assertEqual( contexts.CephSubordinateContext()(), {""cinder"": { ""/etc/cinder/cinder.conf"": { ""sections"": { service: [ ('volume_backend_name', 'special-backend-name'), ('volume_driver', 'cinder.volume.drivers.rbd.RBDDriver'), ('rbd_pool', service), ('rbd_user', service), ('rbd_secret_uuid', 'libvirt-uuid'), ('rbd_ceph_conf', '/var/lib/charm/mycinder/ceph.conf'), ('report_discard_supported', True) ] } } }}) ",,42,1
openstack%2Fpython-openstackclient~master~I55604182ae50b6ad70c8bc1f7efad8859f191269,openstack/python-openstackclient,master,I55604182ae50b6ad70c8bc1f7efad8859f191269,Add support for Neutron's L3 conntrack helper resource,MERGED,2021-04-07 21:42:02.000000000,2021-06-08 06:34:05.000000000,2021-06-08 06:01:41.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-07 21:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/031f1e17163df1c20d27a0c317b7dc2f9397674c', 'message': ""Add support for Neutron's L3 conntrack helper resource\n\nNeutron has got CRUD API for L3 conntrack helper since some time.\nThis patch adds support for it in the OSC.\nOpenStack SDK supports that since [1]\n\n[1] https://review.opendev.org/c/openstack/openstacksdk/+/782870\n\nChange-Id: I55604182ae50b6ad70c8bc1f7efad8859f191269\n""}, {'number': 2, 'created': '2021-04-27 20:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e06ff0c1722b396d7d5e64ba093fdac9d452b37a', 'message': ""Add support for Neutron's L3 conntrack helper resource\n\nNeutron has got CRUD API for L3 conntrack helper since some time.\nThis patch adds support for it in the OSC.\nOpenStack SDK supports that since [1]\n\nThis patch also bumps minimum OpenStack SDK version to\nthe 0.56.0 as that version introduced support for the\nNeutron's L3 conntrack helper.\n\n[1] https://review.opendev.org/c/openstack/openstacksdk/+/782870\n\nChange-Id: I55604182ae50b6ad70c8bc1f7efad8859f191269\n""}, {'number': 3, 'created': '2021-05-26 14:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0dd17f17c3fca0f51fb2529ddf567adbbe73cf57', 'message': ""Add support for Neutron's L3 conntrack helper resource\n\nNeutron has got CRUD API for L3 conntrack helper since some time.\nThis patch adds support for it in the OSC.\nOpenStack SDK supports that since [1]\n\nThis patch also bumps minimum OpenStack SDK version to\nthe 0.56.0 as that version introduced support for the\nNeutron's L3 conntrack helper.\n\n[1] https://review.opendev.org/c/openstack/openstacksdk/+/782870\n\nChange-Id: I55604182ae50b6ad70c8bc1f7efad8859f191269\n""}, {'number': 4, 'created': '2021-06-04 09:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d6f317430fbb21ff7a07cfee36fbd898aae33354', 'message': ""Add support for Neutron's L3 conntrack helper resource\n\nNeutron has got CRUD API for L3 conntrack helper since some time.\nThis patch adds support for it in the OSC.\nOpenStack SDK supports that since [1]\n\nThis patch also bumps minimum OpenStack SDK version to\nthe 0.56.0 as that version introduced support for the\nNeutron's L3 conntrack helper.\n\n[1] https://review.opendev.org/c/openstack/openstacksdk/+/782870\n\nChange-Id: I55604182ae50b6ad70c8bc1f7efad8859f191269\n""}, {'number': 5, 'created': '2021-06-07 12:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8453b8ebaa52bbba3f49de2ae3ff9929e7cfeda1', 'message': ""Add support for Neutron's L3 conntrack helper resource\n\nNeutron has got CRUD API for L3 conntrack helper since some time.\nThis patch adds support for it in the OSC.\nOpenStack SDK supports that since [1]\n\nThis patch also bumps minimum OpenStack SDK version to\nthe 0.56.0 as that version introduced support for the\nNeutron's L3 conntrack helper.\n\n[1] https://review.opendev.org/c/openstack/openstacksdk/+/782870\n\nChange-Id: I55604182ae50b6ad70c8bc1f7efad8859f191269\n""}, {'number': 6, 'created': '2021-06-07 13:36:10.000000000', 'files': ['doc/source/cli/command-objects/network-l3-conntrack-helper.rst', 'releasenotes/notes/L3-conntrack-helper-bd0d9da041747e84.yaml', 'openstackclient/tests/functional/network/v2/test_l3_conntrack_helper.py', 'openstackclient/tests/unit/network/v2/fakes.py', '.zuul.yaml', 'openstackclient/network/v2/l3_conntrack_helper.py', 'openstackclient/tests/unit/network/v2/test_l3_conntrack_helper.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fa8c8d26a7696d169b0b9d5aaf6b723d8feee08a', 'message': ""Add support for Neutron's L3 conntrack helper resource\n\nNeutron has got CRUD API for L3 conntrack helper since some time.\nThis patch adds support for it in the OSC.\nOpenStack SDK supports that since [1]\n\nThis patch also bumps minimum OpenStack SDK version to\nthe 0.56.0 as that version introduced support for the\nNeutron's L3 conntrack helper.\n\n[1] https://review.opendev.org/c/openstack/openstacksdk/+/782870\n\nChange-Id: I55604182ae50b6ad70c8bc1f7efad8859f191269\n""}]",9,785284,fa8c8d26a7696d169b0b9d5aaf6b723d8feee08a,27,4,6,11975,,,0,"Add support for Neutron's L3 conntrack helper resource

Neutron has got CRUD API for L3 conntrack helper since some time.
This patch adds support for it in the OSC.
OpenStack SDK supports that since [1]

This patch also bumps minimum OpenStack SDK version to
the 0.56.0 as that version introduced support for the
Neutron's L3 conntrack helper.

[1] https://review.opendev.org/c/openstack/openstacksdk/+/782870

Change-Id: I55604182ae50b6ad70c8bc1f7efad8859f191269
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/84/785284/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/functional/network/v2/test_l3_conntrack_helper.py', 'releasenotes/notes/L3-conntrack-helper-bd0d9da041747e84.yaml', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/network/v2/l3_conntrack_helper.py', 'openstackclient/tests/unit/network/v2/test_l3_conntrack_helper.py', 'setup.cfg']",6,031f1e17163df1c20d27a0c317b7dc2f9397674c,I55604182ae50b6ad70c8bc1f7efad8859f191269, network_l3_conntrack_helper_create = openstackclient.network.v2.l3_conntrack_helper:CreateConntrackHelper network_l3_conntrack_helper_delete = openstackclient.network.v2.l3_conntrack_helper:DeleteConntrackHelper network_l3_conntrack_helper_list = openstackclient.network.v2.l3_conntrack_helper:ListConntrackHelper network_l3_conntrack_helper_set = openstackclient.network.v2.l3_conntrack_helper:SetConntrackHelper network_l3_conntrack_helper_show = openstackclient.network.v2.l3_conntrack_helper:ShowConntrackHelper ,,804,0
openstack%2Fcharms.ceph~master~I5ee58aa0a34d7c266b3811f9c6b9b3076bfdc048,openstack/charms.ceph,master,I5ee58aa0a34d7c266b3811f9c6b9b3076bfdc048,Fixed raise text value instead of Exception,MERGED,2021-03-12 11:20:02.000000000,2021-06-08 06:32:42.000000000,2021-06-08 06:32:42.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-12 11:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/820716a8459858bb096c9b5a7f268cbc2349cd14', 'message': 'Fixed raise text value instead of Exception\n\nI used ValueError for both exception.\nAlso removed unnecessary flake8 ignore option.\n\nCloses-Bug: #1917351\nChange-Id: I5ee58aa0a34d7c266b3811f9c6b9b3076bfdc048\n'}, {'number': 2, 'created': '2021-03-31 15:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/683f820c601cc6fd768b27f899564bd3589abc1a', 'message': 'Fixed raise text value instead of Exception\n\nI used ValueError for both exception.\nAlso removed unnecessary flake8 ignore option.\n\nCloses-Bug: #1917351\nChange-Id: I5ee58aa0a34d7c266b3811f9c6b9b3076bfdc048\n'}, {'number': 3, 'created': '2021-03-31 19:26:36.000000000', 'files': ['charms_ceph/crush_utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/1a7e8df4efc3a0c27b5a67a4af49dc107087da4e', 'message': 'Fixed raise text value instead of Exception\n\nI used ValueError for both exception.\nAlso removed unnecessary flake8 ignore option.\n\nCloses-Bug: #1917351\nChange-Id: I5ee58aa0a34d7c266b3811f9c6b9b3076bfdc048\n'}]",4,780226,1a7e8df4efc3a0c27b5a67a4af49dc107087da4e,15,4,3,32363,,,0,"Fixed raise text value instead of Exception

I used ValueError for both exception.
Also removed unnecessary flake8 ignore option.

Closes-Bug: #1917351
Change-Id: I5ee58aa0a34d7c266b3811f9c6b9b3076bfdc048
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/26/780226/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_ceph/crush_utils.py', 'tox.ini']",2,820716a8459858bb096c9b5a7f268cbc2349cd14,bug/1917351,," [flake8] ignore = E402,E226,W504",3,6
openstack%2Fcharm-aodh~master~I9109078bb0d07159de2024cb836d659a533e50c7,openstack/charm-aodh,master,I9109078bb0d07159de2024cb836d659a533e50c7,Add NRPE checks for services,MERGED,2020-10-13 07:24:12.000000000,2021-06-08 06:27:25.000000000,2021-06-08 06:27:25.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-13 07:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/76ea2a7d64b1f23c63cc2e3dae403ad2326bd0c0', 'message': 'Add NRPE checks for services\n\nAdds the nrpe-external-master layer and checks for services managed by\nthis charm.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/445\n\nChange-Id: I9109078bb0d07159de2024cb836d659a533e50c7\nCloses-Bug: #1750486\n'}, {'number': 2, 'created': '2021-01-25 21:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/07749fa04335306ddaefc66a71082739d0d1796d', 'message': 'Add NRPE checks for services\n\nAdds the nrpe-external-master layer and checks for services managed by\nthis charm.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/445\n\nChange-Id: I9109078bb0d07159de2024cb836d659a533e50c7\nCloses-Bug: #1750486\n'}, {'number': 3, 'created': '2021-02-11 23:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/31361cca9bed2ab90dda5ac4c9b31e337135e52e', 'message': 'Add NRPE checks for services\n\nAdds the nrpe-external-master layer and checks for services managed by\nthis charm.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/445\n\nChange-Id: I9109078bb0d07159de2024cb836d659a533e50c7\nCloses-Bug: #1750486\n'}, {'number': 4, 'created': '2021-03-07 21:13:56.000000000', 'files': ['src/tests/bundles/xenial-mitaka.yaml', 'src/tests/bundles/xenial-ocata.yaml', 'src/tests/bundles/focal-ussuri.yaml', 'unit_tests/__init__.py', 'src/metadata.yaml', 'src/tests/bundles/xenial-queens.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml', 'unit_tests/test_lib_charm_openstack_aodh.py', 'src/layer.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/config.yaml', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/trusty-mitaka.yaml', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/bionic-queens.yaml', 'src/lib/charm/openstack/aodh.py', 'src/tests/bundles/focal-victoria.yaml', 'unit_tests/test_aodh_handlers.py', 'src/reactive/aodh_handlers.py', 'src/tests/bundles/xenial-pike.yaml'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/fbb77776382890b2b9aa68369f234c5a899b047e', 'message': 'Add NRPE checks for services\n\nAdds the nrpe-external-master layer and checks for services managed by\nthis charm.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/445\n\nChange-Id: I9109078bb0d07159de2024cb836d659a533e50c7\nCloses-Bug: #1750486\n'}]",0,757720,fbb77776382890b2b9aa68369f234c5a899b047e,17,3,4,10086,,,0,"Add NRPE checks for services

Adds the nrpe-external-master layer and checks for services managed by
this charm.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/445

Change-Id: I9109078bb0d07159de2024cb836d659a533e50c7
Closes-Bug: #1750486
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/20/757720/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/xenial-mitaka.yaml', 'src/tests/bundles/xenial-ocata.yaml', 'src/tests/bundles/focal-ussuri.yaml', 'unit_tests/__init__.py', 'src/metadata.yaml', 'src/tests/bundles/xenial-queens.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml', 'unit_tests/test_lib_charm_openstack_aodh.py', 'src/layer.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/config.yaml', 'src/tests/bundles/eoan-train.yaml', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/trusty-mitaka.yaml', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/bionic-queens.yaml', 'src/lib/charm/openstack/aodh.py', 'src/tests/bundles/focal-victoria.yaml', 'unit_tests/test_aodh_handlers.py', 'src/reactive/aodh_handlers.py', 'src/tests/bundles/xenial-pike.yaml']",23,76ea2a7d64b1f23c63cc2e3dae403ad2326bd0c0,bug/1750486, nrpe: charm: cs:nrpe - - 'aodh:nrpe-external-master' - 'nrpe:nrpe-external-master',,203,73
openstack%2Fcinder~master~I105a5c410b5921a652e2238dea8a74f53a8f8ccf,openstack/cinder,master,I105a5c410b5921a652e2238dea8a74f53a8f8ccf,[SVF] Support to primary volume Migration,NEW,2020-08-21 14:23:42.000000000,2021-06-08 06:26:17.000000000,,"[{'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13002}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26575}, {'_account_id': 28801}, {'_account_id': 29568}, {'_account_id': 29705}, {'_account_id': 30615}, {'_account_id': 30688}, {'_account_id': 31854}, {'_account_id': 31868}, {'_account_id': 31980}, {'_account_id': 32036}, {'_account_id': 32075}, {'_account_id': 32159}, {'_account_id': 32171}, {'_account_id': 32266}]","[{'number': 1, 'created': '2020-08-21 14:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/79dac6d335f466572ad789e46625eabba027c603', 'message': ""[Storwize] Support to primary volume Migration\n\nProviding support to volume migration for primary-volume\nin a mirror-relationship by adding the repliaction_status\n'enabled' to the current supported status\n'None','not-capable' and 'disabled'\n\ncloses bug #1892499\n\nChange-Id: I105a5c410b5921a652e2238dea8a74f53a8f8ccf\n""}, {'number': 2, 'created': '2020-08-31 08:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/35f666c0a94ef044af75bc59f937f7b2594c63f8', 'message': ""[Storwize] Support to primary volume Migration\n\nProviding support to volume migration for primary-volume\nin a mirror-relationship by adding the repliaction_status\n'enabled' to the current supported status\n'None','not-capable' and 'disabled'\n\ncloses bug #1892499\n\nChange-Id: I105a5c410b5921a652e2238dea8a74f53a8f8ccf\n""}, {'number': 3, 'created': '2020-09-02 05:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d409e713367a3dae6fe741680d1bf363a8e04ee9', 'message': ""[Storwize] Support to primary volume Migration\n\nProviding support to volume migration for primary-volume\nin a mirror-relationship by adding the repliaction_status\n'enabled' to the current supported status\n'None','not-capable' and 'disabled'\n\ncloses bug #1892499\n\nChange-Id: I105a5c410b5921a652e2238dea8a74f53a8f8ccf\n""}, {'number': 4, 'created': '2020-10-08 15:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/498adac8288884705067cd8e9a414df00c9087ad', 'message': '[SVF] Support to primary volume Migration\n\nIBM Spectrum Virtualize Family: With this feature, migration of\nreplicated volumes will be allowed, only if the volume_type has a\ndriver-extra-spec, which is set to ``drivers:replicated_volume_migration``.\nAdding ``replicated_volume_migration`` option to IBM Storwize Driver\nconfiguration. By default the value is set to ``False``\n\nChange-Id: I105a5c410b5921a652e2238dea8a74f53a8f8ccf\n'}, {'number': 5, 'created': '2020-10-09 18:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/151b7329d2269e7e28b35a55266c38d1bac6e9ed', 'message': '[SVF] Support to primary volume Migration\n\nIBM Spectrum Virtualize Family: With this feature, migration of\nreplicated volumes will be allowed, only if the volume_type has a\ndriver-extra-spec, which is set to ``drivers:replicated_volume_migration``.\n\nChange-Id: I105a5c410b5921a652e2238dea8a74f53a8f8ccf\n'}, {'number': 6, 'created': '2020-10-19 14:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a5da55cb2bcc5d639e96e5d44ce51b96b826f4ef', 'message': '[SVF] Support to primary volume Migration\n\nIBM Spectrum Virtualize Family: With this feature, migration of\nreplicated volumes will be allowed, only if the volume_type has a\ndriver-extra-spec, which is set to ``drivers:replicated_volume_migration``.\n\nChange-Id: I105a5c410b5921a652e2238dea8a74f53a8f8ccf\n'}, {'number': 7, 'created': '2020-10-23 03:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/24a496cb3d6ef0c97bdc980dd0f3750457a9d82c', 'message': '[SVF] Support to primary volume Migration\n\nIBM Spectrum Virtualize Family: With this feature, migration of\nreplicated volumes will be allowed, only if the volume_type has a\ndriver-extra-spec, which is set to ``drivers:replicated_volume_migration``.\n\nChange-Id: I105a5c410b5921a652e2238dea8a74f53a8f8ccf\n'}, {'number': 8, 'created': '2020-10-23 17:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7ba2c4831a58354f9823929ca2b56edac093c36e', 'message': '[SVF] Support to primary volume Migration\n\nIBM Spectrum Virtualize Family: With this feature, migration of\nreplicated volumes will be allowed, only if the volume_type has a\ndriver-extra-spec, which is set to ``drivers:replicated_volume_migration``.\n\nChange-Id: I105a5c410b5921a652e2238dea8a74f53a8f8ccf\n'}, {'number': 9, 'created': '2020-10-27 07:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5897dc50ceced1db1e992f479f005dd9c28438ff', 'message': '[SVF] Support to primary volume Migration\n\nIBM Spectrum Virtualize Family: With this feature, migration of\nreplicated volumes will be allowed, only if the volume_type has a\ndriver-extra-spec, which is set to ``drivers:replicated_volume_migration``.\n\nChange-Id: I105a5c410b5921a652e2238dea8a74f53a8f8ccf\n'}, {'number': 10, 'created': '2020-10-27 10:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/075272bff2692a52e4a5fd1c6729d1fbe158d8d7', 'message': '[SVF] Support to primary volume Migration\n\nIBM Spectrum Virtualize Family: With this feature, migration of\nreplicated volumes will be allowed, only if the volume_type has a\ndriver-extra-spec, which is set to ``drivers:replicated_volume_migration``.\n\nChange-Id: I105a5c410b5921a652e2238dea8a74f53a8f8ccf\n'}, {'number': 11, 'created': '2020-10-27 10:04:43.000000000', 'files': ['releasenotes/notes/SVF-migrate-volume-replication-enabled-47997b9e60db5204.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/tests/unit/api/contrib/test_admin_actions.py', 'doc/source/configuration/block-storage/drivers/ibm-storwize-svc-driver.rst', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/28b62ed4ff507445f2d1198258c90a670637fdb5', 'message': '[SVF] Support to primary volume Migration\n\nIBM Spectrum Virtualize Family: With this feature, migration of\nreplicated volumes will be allowed, only if the volume_type has a\ndriver-extra-spec, which is set to ``drivers:replicated_volume_migration``.\n\nChange-Id: I105a5c410b5921a652e2238dea8a74f53a8f8ccf\n'}]",21,747425,28b62ed4ff507445f2d1198258c90a670637fdb5,297,47,11,32075,,,0,"[SVF] Support to primary volume Migration

IBM Spectrum Virtualize Family: With this feature, migration of
replicated volumes will be allowed, only if the volume_type has a
driver-extra-spec, which is set to ``drivers:replicated_volume_migration``.

Change-Id: I105a5c410b5921a652e2238dea8a74f53a8f8ccf
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/747425/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,79dac6d335f466572ad789e46625eabba027c603,migrate_volume," fields.ReplicationStatus.NOT_CAPABLE, fields.ReplicationStatus.ENABLED),"," fields.ReplicationStatus.NOT_CAPABLE),",2,1
openstack%2Fcharm-specs~master~Ia5746636507c802569fa597b3d8fd1a6815f375c,openstack/charm-specs,master,Ia5746636507c802569fa597b3d8fd1a6815f375c,Add spec for Magnum charm,MERGED,2021-02-08 16:04:18.000000000,2021-06-08 06:21:55.000000000,2021-06-08 06:19:47.000000000,"[{'_account_id': 935}, {'_account_id': 8992}, {'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-08 16:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/0e3fd9798447a979d2c5ae98493ba11dc64f25ec', 'message': 'Add spec for Magnum charm\n\nChange-Id: Ia5746636507c802569fa597b3d8fd1a6815f375c\n'}, {'number': 2, 'created': '2021-02-08 16:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/ff13feee25543a7c07ce069b6f2c5f4d106460c1', 'message': 'Add spec for Magnum charm\n\nChange-Id: Ia5746636507c802569fa597b3d8fd1a6815f375c\n'}, {'number': 3, 'created': '2021-02-08 17:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/4aad4db3753a84feba86464b0a7e7d47a25f366c', 'message': 'Add spec for Magnum charm\n\nChange-Id: Ia5746636507c802569fa597b3d8fd1a6815f375c\n'}, {'number': 4, 'created': '2021-02-08 19:00:28.000000000', 'files': ['specs/wallaby/approved/charm-magnum-spec.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/7f2bf9cbad25f39d93e8aab3fe55784c897ca601', 'message': 'Add spec for Magnum charm\n\nChange-Id: Ia5746636507c802569fa597b3d8fd1a6815f375c\n'}]",0,774509,7f2bf9cbad25f39d93e8aab3fe55784c897ca601,14,4,4,32431,,,0,"Add spec for Magnum charm

Change-Id: Ia5746636507c802569fa597b3d8fd1a6815f375c
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/09/774509/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/approved/charm-magnum-spec.rst'],1,0e3fd9798447a979d2c5ae98493ba11dc64f25ec,magnum-charm,".. Copyright 2021, Canonical Ltd. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: ""None"". For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ====== Magnum ====== Magnum is an OpenStack API service, developed by the OpenStack Containers team, making container orchestration engines (COEs) such as Docker Swarm, Kubernetes, and Apache Mesos available as first class resources in OpenStack. It uses Heat to orchestrate an OpenStack image, which contains the COE (for example: Docker and Kubernetes), and it runs that image in either virtual machines or bare metal in a cluster configuration. Also, Magnum offers complete life-cycle management of COEs in an OpenStack environment, integrated with other OpenStack services. This allows a seamless experience for OpenStack users who wish to run containers in an OpenStack environment. Problem Description =================== There is currently no charm that lets you easily deploy Magnum as part of Charmed OpenStack. Proposed Change =============== Implement a set of reactive charms that enables the deployment of all required Magnum components. Changes will also be made to existing charms to integrate with the new Magnum charms. Baseline supported OpenStack version will be Ussuri. Alternatives ------------ None Implementation ============== The implementation consists of the following new charms: - magnum - Provides the Magnum API. OpenStack administrators and Openstack Dashboard will call into this API to provision and manage Kubernetes clusters (or any other COE). - Requires relations to AMQP, certificates, database and Keystone. - magnum-dashboard - Create a new subordinate charm for Openstack Dashboard - Implements the necessary changes to enable Magnum UI in Horizon The implementation also requires changes to the following charms: - keystone - Add Magnum to the list of valid services. Assignee(s) ----------- Primary assignee: oprinmarius Gerrit Topic ------------ Use Gerrit topic ""magnum-charm"" for all patches related to this spec. .. code-block:: bash git-review -t magnum-charm Work Items ---------- The implementation section describes the working items. Repositories ------------ - charm-magnum - charm-magnum-dashboard - charm-keystone Documentation ------------- Each charm will contain a README with instructions on deploying the charm. In addition, an appendix will be added to the deployment guide which will outline various deployment scenarios, hardware and networking requirements and config options. Security -------- - ``magnum`` - Requires keystone, database and rabbitmq credentials which will be stored in ``magnum.conf`` - The API endpoints for Magnum will optionally be accessible via TLS, either by creating a relation to Vault / easy-rsa, or by manually supplying the TLS key/cert via config Testing ------- Code written or changed will be covered by unit tests; functional testing will be implemented using the ``Zaza`` framework. Dependencies ============ None ",,133,0
openstack%2Fneutron~master~I0cbe260fc786d00b014c804ae74d99c8f9685e88,openstack/neutron,master,I0cbe260fc786d00b014c804ae74d99c8f9685e88,Add tests for service_type API's new policy rules,MERGED,2021-04-07 09:20:59.000000000,2021-06-08 06:08:29.000000000,2021-06-06 02:53:57.000000000,"[{'_account_id': 5046}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-04-07 09:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/720bd652171342dac3e0ace6241f78fcd13d2449', 'message': ""Add tests for service_type API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I0cbe260fc786d00b014c804ae74d99c8f9685e88\n""}, {'number': 2, 'created': '2021-04-12 14:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7808351a602937bb31db89686ccbc4c41b9c23df', 'message': ""Add tests for service_type API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I0cbe260fc786d00b014c804ae74d99c8f9685e88\n""}, {'number': 3, 'created': '2021-06-01 09:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef769bd2a78c54ed36035dfe546c89348fb9b9e4', 'message': ""Add tests for service_type API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I0cbe260fc786d00b014c804ae74d99c8f9685e88\n""}, {'number': 4, 'created': '2021-06-05 22:48:33.000000000', 'files': ['neutron/tests/unit/conf/policies/test_service_type.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e8197fee5031ee7ba384eb537b13f381a837685', 'message': ""Add tests for service_type API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I0cbe260fc786d00b014c804ae74d99c8f9685e88\n""}]",6,785109,1e8197fee5031ee7ba384eb537b13f381a837685,37,7,4,11975,,,0,"Add tests for service_type API's new policy rules

Related-blueprint: bp/secure-rbac-roles
Change-Id: I0cbe260fc786d00b014c804ae74d99c8f9685e88
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/785109/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/conf/policies/test_service_type.py'],1,720bd652171342dac3e0ace6241f78fcd13d2449,secure-rbac,"# Copyright (c) 2021 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from neutron import policy from neutron.tests.unit.conf.policies import base class ServiceTypeAPITestCase(base.PolicyBaseTestCase): def setUp(self): super(ServiceTypeAPITestCase, self).setUp() self.target = {} class SystemAdminTests(ServiceTypeAPITestCase): def setUp(self): super(SystemAdminTests, self).setUp() self.context = self.system_admin_ctx def test_get_service_provider(self): self.assertTrue( policy.enforce(self.context, 'get_service_provider', self.target)) class SystemMemberTests(SystemAdminTests): def setUp(self): super(SystemMemberTests, self).setUp() self.context = self.system_member_ctx class SystemReaderTests(SystemMemberTests): def setUp(self): super(SystemReaderTests, self).setUp() self.context = self.system_reader_ctx class ProjectAdminTests(SystemAdminTests): def setUp(self): super(ProjectAdminTests, self).setUp() self.context = self.project_admin_ctx class ProjectMemberTests(ProjectAdminTests): def setUp(self): super(ProjectMemberTests, self).setUp() self.context = self.project_member_ctx class ProjectReaderTests(ProjectMemberTests): def setUp(self): super(ProjectReaderTests, self).setUp() self.context = self.project_reader_ctx ",,70,0
openstack%2Fneutron~master~If28e70252c1f9ec76502699fad2d5a2aece8f4fb,openstack/neutron,master,If28e70252c1f9ec76502699fad2d5a2aece8f4fb,Change API policy for service_type to be available for all readers,MERGED,2021-04-12 14:56:08.000000000,2021-06-08 06:06:14.000000000,2021-06-06 02:53:43.000000000,"[{'_account_id': 5046}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 14:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd9eba7a8fde0cd9ec93811d6f55fadfc2dfb78e', 'message': 'Change API policy for service_type to be available for all readers\n\nService type resource don\'t have ""project_id"" so using ""PROJECT_*""\nrules wasn\'t working fine.\nAnd this resource should be available for all users so this patch\nswitches its check_str to be ""role:reader"" which works for all\ntypes of SYSTEM and PROJECT scope users.\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: If28e70252c1f9ec76502699fad2d5a2aece8f4fb\n'}, {'number': 2, 'created': '2021-06-01 09:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0153ef51c7dd60dbf3485dd97c71658bda54214', 'message': 'Change API policy for service_type to be available for all readers\n\nService type resource don\'t have ""project_id"" so using ""PROJECT_*""\nrules wasn\'t working fine.\nAnd this resource should be available for all users so this patch\nswitches its check_str to be ""role:reader"" which works for all\ntypes of SYSTEM and PROJECT scope users.\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: If28e70252c1f9ec76502699fad2d5a2aece8f4fb\n'}, {'number': 3, 'created': '2021-06-05 22:48:02.000000000', 'files': ['neutron/conf/policies/service_type.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/962d2539a16baa2bef331e4eb7a9286e52496ac7', 'message': 'Change API policy for service_type to be available for all readers\n\nService type resource don\'t have ""project_id"" so using ""PROJECT_*""\nrules wasn\'t working fine.\nAnd this resource should be available for all users so this patch\nswitches its check_str to be ""role:reader"" which works for all\ntypes of SYSTEM and PROJECT scope users.\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: If28e70252c1f9ec76502699fad2d5a2aece8f4fb\n'}]",2,785895,962d2539a16baa2bef331e4eb7a9286e52496ac7,64,6,3,11975,,,0,"Change API policy for service_type to be available for all readers

Service type resource don't have ""project_id"" so using ""PROJECT_*""
rules wasn't working fine.
And this resource should be available for all users so this patch
switches its check_str to be ""role:reader"" which works for all
types of SYSTEM and PROJECT scope users.

Related-blueprint: bp/secure-rbac-roles
Change-Id: If28e70252c1f9ec76502699fad2d5a2aece8f4fb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/785895/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/service_type.py'],1,dd9eba7a8fde0cd9ec93811d6f55fadfc2dfb78e,secure-rbac," check_str='role:reader',"," check_str=base.SYSTEM_OR_PROJECT_READER,",1,1
openstack%2Fcharm-keystone~master~I3c91e9d3d154b2b29ba8097aaeee0c1a86eff0ed,openstack/charm-keystone,master,I3c91e9d3d154b2b29ba8097aaeee0c1a86eff0ed,Use HA peers as memcache cluster,NEW,2021-02-23 19:22:46.000000000,2021-06-08 06:01:19.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}]","[{'number': 1, 'created': '2021-02-23 19:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/46462fe342a7fd0b3bac71327c798e62b2d6051b', 'message': 'Use HA peers as memcache cluster\n\nCharms using `MemcacheContext`deploy local `memcached` services on\neach unit but are not utilizing a `oslo_cache.memcache_pool`. This can\nlead to inconsistently cached values and consequently to incorrect\nquery results.\n\nThis change add the `memcache` relation to connect to the memcached\ncharm and uses the address of the memcached units instead.\n\nCloses-Bug: #1771114\n\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\nChange-Id: I3c91e9d3d154b2b29ba8097aaeee0c1a86eff0ed\n'}, {'number': 2, 'created': '2021-02-23 19:23:58.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/cb0acf526b1560f719d338a987dd4447cacebbfa', 'message': 'Use HA peers as memcache cluster\n\nCharms using `MemcacheContext`deploy local `memcached` services on\neach unit but are not utilizing a `oslo_cache.memcache_pool`. This can\nlead to inconsistently cached values and consequently to incorrect\nquery results.\n\nThis change add the `memcache` relation to connect to the memcached\ncharm and uses the address of the memcached units instead.\n\nCloses-Bug: #1771114\n\nDepends-On: https://github.com/juju/charm-helpers/pull/568\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\nChange-Id: I3c91e9d3d154b2b29ba8097aaeee0c1a86eff0ed\n'}]",0,777197,cb0acf526b1560f719d338a987dd4447cacebbfa,4,2,2,19298,,,0,"Use HA peers as memcache cluster

Charms using `MemcacheContext`deploy local `memcached` services on
each unit but are not utilizing a `oslo_cache.memcache_pool`. This can
lead to inconsistently cached values and consequently to incorrect
query results.

This change add the `memcache` relation to connect to the memcached
charm and uses the address of the memcached units instead.

Closes-Bug: #1771114

Depends-On: https://github.com/juju/charm-helpers/pull/568
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
Change-Id: I3c91e9d3d154b2b29ba8097aaeee0c1a86eff0ed
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/97/777197/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,46462fe342a7fd0b3bac71327c798e62b2d6051b,designate_memcache, memcache: interface: memcache,,2,0
openstack%2Fneutron~master~I6f861f46079771c96f5d9f9266587df8c1f0cdc0,openstack/neutron,master,I6f861f46079771c96f5d9f9266587df8c1f0cdc0,DNM: DNM,ABANDONED,2021-06-04 20:52:14.000000000,2021-06-08 05:51:50.000000000,,"[{'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 20:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64e759b8fc7e1f45f9d36f645bc17d3b7e397aa7', 'message': 'DNM: DNM\n\nChange-Id: I6f861f46079771c96f5d9f9266587df8c1f0cdc0\n'}, {'number': 2, 'created': '2021-06-04 21:37:10.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9c7a2d05ba0ab2c335c6afe0039d9073ea98929', 'message': 'DNM: DNM\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/794822\nChange-Id: I6f861f46079771c96f5d9f9266587df8c1f0cdc0\n'}]",0,794900,b9c7a2d05ba0ab2c335c6afe0039d9073ea98929,14,2,2,11952,,,0,"DNM: DNM

Depends-On: https://review.opendev.org/c/openstack/devstack/+/794822
Change-Id: I6f861f46079771c96f5d9f9266587df8c1f0cdc0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/794900/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,64e759b8fc7e1f45f9d36f645bc17d3b7e397aa7,,# foo bar lar dnm dnm dnm dnm dnm,,1,0
openstack%2Fneutron~master~I5aaf9494a2d5c2533199e6b92d4df8fe785f83a3,openstack/neutron,master,I5aaf9494a2d5c2533199e6b92d4df8fe785f83a3,Disable pep8 import check for pyroute2 library,MERGED,2021-06-03 19:16:34.000000000,2021-06-08 05:40:09.000000000,2021-06-04 20:51:09.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-06-03 19:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/55648c81f63c0d81bbdd59ceda45a0d0a720f38a', 'message': 'Disable pep8 import check for pyroute2 library\n\nSince version 0.6.2, pyroute2 library dynamically imports the needed\nmodules when loaded. A static analysis will fail when checking the\nimport references.\n\nChange-Id: I5aaf9494a2d5c2533199e6b92d4df8fe785f83a3\nCloses-Bug: #1930750\n'}, {'number': 2, 'created': '2021-06-03 20:06:51.000000000', 'files': ['neutron/agent/linux/bridge_lib.py', 'neutron/agent/linux/interface.py', 'neutron/agent/linux/ip_lib.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/agent/l3/router_info.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/agent/linux/tc_lib.py', 'neutron/privileged/agent/linux/tc_lib.py', 'neutron/agent/l2/extensions/fdb_population.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/074c131b570adb60150ea25d7cec2367ee963ac2', 'message': 'Disable pep8 import check for pyroute2 library\n\nSince version 0.6.2, pyroute2 library dynamically imports the needed\nmodules when loaded. A static analysis will fail when checking the\nimport references.\n\nChange-Id: I5aaf9494a2d5c2533199e6b92d4df8fe785f83a3\nCloses-Bug: #1930750\n'}]",0,794668,074c131b570adb60150ea25d7cec2367ee963ac2,39,8,2,16688,,,0,"Disable pep8 import check for pyroute2 library

Since version 0.6.2, pyroute2 library dynamically imports the needed
modules when loaded. A static analysis will fail when checking the
import references.

Change-Id: I5aaf9494a2d5c2533199e6b92d4df8fe785f83a3
Closes-Bug: #1930750
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/794668/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/bridge_lib.py', 'neutron/agent/linux/interface.py', 'neutron/agent/linux/ip_lib.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/agent/l3/router_info.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/agent/linux/tc_lib.py', 'neutron/privileged/agent/linux/tc_lib.py', 'neutron/agent/l2/extensions/fdb_population.py']",9,55648c81f63c0d81bbdd59ceda45a0d0a720f38a,bug/1930750,from pyroute2.netlink import exceptions \ as netlink_exceptions # pylint: disable=no-name-in-module,from pyroute2.netlink import exceptions as netlink_exceptions,38,28
openstack%2Fneutron~master~I25d43d4f8f2390b07e0d11c631f894d88669bbe0,openstack/neutron,master,I25d43d4f8f2390b07e0d11c631f894d88669bbe0,use payloads for PORT AFTER_CREATE events,MERGED,2019-02-01 17:44:24.000000000,2021-06-08 05:39:06.000000000,2021-06-07 14:19:26.000000000,"[{'_account_id': 841}, {'_account_id': 5367}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 32667}]","[{'number': 1, 'created': '2019-02-01 17:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e569f03afe125dbff5a1794d0e9680753c04be51', 'message': 'use payloads for PORT AFTER_CREATE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT AFTER_CREATE events. In addition it adds a branch/shim to the\ndhcp_rpc_agent_api to support both payload and kwarg style callbacks.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0\n'}, {'number': 2, 'created': '2019-02-06 21:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cee319633086d4eb34d731286d362d5798fad504', 'message': 'use payloads for PORT AFTER_CREATE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT AFTER_CREATE events. In addition it adds a branch/shim to the\ndhcp_rpc_agent_api to support both payload and kwarg style callbacks.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0\n'}, {'number': 3, 'created': '2019-03-05 21:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8f4c053eb56934a60f133dd5d7d6886f3ace568', 'message': 'use payloads for PORT AFTER_CREATE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT AFTER_CREATE events. In addition it adds a branch/shim to the\ndhcp_rpc_agent_api to support both payload and kwarg style callbacks.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0\n'}, {'number': 4, 'created': '2019-03-06 17:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3fc04e79c7b424f2e2af05b72e6d58e84395aff', 'message': 'use payloads for PORT AFTER_CREATE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT AFTER_CREATE events. In addition it adds a branch/shim to the\ndhcp_rpc_agent_api to support both payload and kwarg style callbacks.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0\n'}, {'number': 5, 'created': '2019-03-07 08:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef027783d41a3917e74d1b2acff31cef4bab739d', 'message': 'use payloads for PORT AFTER_CREATE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT AFTER_CREATE events. In addition it adds a branch/shim to the\ndhcp_rpc_agent_api to support both payload and kwarg style callbacks.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0\n'}, {'number': 6, 'created': '2019-04-05 21:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1104e7d4ffdc393dd4d09b369f5b193454d829b9', 'message': 'use payloads for PORT AFTER_CREATE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT AFTER_CREATE events. In addition it adds a branch/shim to the\ndhcp_rpc_agent_api to support both payload and kwarg style callbacks.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0\n'}, {'number': 7, 'created': '2019-04-15 17:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b48bc099c13d07ba64a6e88267c66fa684aa91a', 'message': 'use payloads for PORT AFTER_CREATE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT AFTER_CREATE events. In addition it adds a branch/shim to the\ndhcp_rpc_agent_api to support both payload and kwarg style callbacks.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0\n'}, {'number': 8, 'created': '2019-04-24 20:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a309470df18e8142b32b1b7b6d81c5f9662aae20', 'message': 'use payloads for PORT AFTER_CREATE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT AFTER_CREATE events. In addition it adds a branch/shim to the\ndhcp_rpc_agent_api to support both payload and kwarg style callbacks.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0\n'}, {'number': 9, 'created': '2019-05-09 21:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/22b954eea992bdf9632d53c0780906680cc2f7e7', 'message': 'use payloads for PORT AFTER_CREATE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT AFTER_CREATE events. In addition it adds a branch/shim to the\ndhcp_rpc_agent_api to support both payload and kwarg style callbacks.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0\n'}, {'number': 10, 'created': '2019-05-15 20:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/58b1fff72d1178341230e44b1adb5f3ea7e4a5b9', 'message': 'use payloads for PORT AFTER_CREATE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT AFTER_CREATE events. In addition it adds a branch/shim to the\ndhcp_rpc_agent_api to support both payload and kwarg style callbacks.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0\n'}, {'number': 11, 'created': '2019-05-30 21:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d857a8f8cac7a7889483a630521f463437a186f', 'message': 'use payloads for PORT AFTER_CREATE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT AFTER_CREATE events. In addition it adds a branch/shim to the\ndhcp_rpc_agent_api to support both payload and kwarg style callbacks.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0\n'}, {'number': 12, 'created': '2019-05-31 17:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c832796e72eececb914bddfa1fb6b86ce33d5528', 'message': 'use payloads for PORT AFTER_CREATE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT AFTER_CREATE events. In addition it adds a branch/shim to the\ndhcp_rpc_agent_api to support both payload and kwarg style callbacks.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0\n'}, {'number': 13, 'created': '2019-06-27 21:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fbeb40a2cce5492027bb5873eec90651816688b0', 'message': 'use payloads for PORT AFTER_CREATE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT AFTER_CREATE events. In addition it adds a branch/shim to the\ndhcp_rpc_agent_api to support both payload and kwarg style callbacks.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0\n'}, {'number': 14, 'created': '2019-07-23 20:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b320c872613573f27d0bebe3197a19d6c0eed267', 'message': 'use payloads for PORT AFTER_CREATE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT AFTER_CREATE events. In addition it adds a branch/shim to the\ndhcp_rpc_agent_api to support both payload and kwarg style callbacks.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0\n'}, {'number': 15, 'created': '2019-07-30 12:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6cc26758a2803a788ccaa97b29c6f6e3d3038276', 'message': 'use payloads for PORT AFTER_CREATE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT AFTER_CREATE events. In addition it adds a branch/shim to the\ndhcp_rpc_agent_api to support both payload and kwarg style callbacks.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0\n'}, {'number': 16, 'created': '2021-05-21 08:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f4525ad4cfb9f5fc2581cb0dc4383e8bfbb4e86', 'message': 'use payloads for PORT AFTER_CREATE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT AFTER_CREATE events. In addition it adds a branch/shim to the\ndhcp_rpc_agent_api to support both payload and kwarg style callbacks.\n\nNeutronLibImpact\n\n[1]\nhttps://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0\n'}, {'number': 17, 'created': '2021-05-21 14:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e883d86c84ed8b423eaa864d467bf3669f99b3c8', 'message': 'use payloads for PORT AFTER_CREATE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT AFTER_CREATE events. In addition it adds a branch/shim to the\ndhcp_rpc_agent_api to support both payload and kwarg style callbacks.\n\nNeutronLibImpact\n\n[1]\nhttps://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0\n'}, {'number': 18, 'created': '2021-05-25 14:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62a3737a5b349a6700c8a11e179c939d85f0cbd1', 'message': 'use payloads for PORT AFTER_CREATE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT AFTER_CREATE events. In addition it adds a branch/shim to the\ndhcp_rpc_agent_api to support both payload and kwarg style callbacks.\n\nNeutronLibImpact\n\n[1]\nhttps://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0\n'}, {'number': 19, 'created': '2021-06-03 18:43:30.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/services/segments/plugin.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/plugins/ml2/plugin.py', 'neutron/plugins/ml2/extensions/dns_integration.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9fce3a8b67d48049552e83afc9e0ba035856772', 'message': 'use payloads for PORT AFTER_CREATE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT AFTER_CREATE events. In addition it adds a branch/shim to the\ndhcp_rpc_agent_api to support both payload and kwarg style callbacks.\n\nNeutronLibImpact\n\n[1]\nhttps://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0\n'}]",3,634461,c9fce3a8b67d48049552e83afc9e0ba035856772,145,13,19,5367,,,0,"use payloads for PORT AFTER_CREATE events

This patch switches the code over to the payload style of callbacks [1]
for PORT AFTER_CREATE events. In addition it adds a branch/shim to the
dhcp_rpc_agent_api to support both payload and kwarg style callbacks.

NeutronLibImpact

[1]
https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html

Change-Id: I25d43d4f8f2390b07e0d11c631f894d88669bbe0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/634461/16 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/services/segments/plugin.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/plugins/ml2/plugin.py', 'neutron/plugins/ml2/extensions/dns_integration.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py']",9,e569f03afe125dbff5a1794d0e9680753c04be51,port_callback_ac," if res == resources.PORT: registry.publish(res, events.AFTER_CREATE, self, payload=events.DBEventPayload( mock.Mock(), states=({res: {}},))) else: registry.notify(res, events.AFTER_CREATE, self, context=mock.Mock(), **kwargs) if res == resources.PORT: registry.publish(res, events.AFTER_CREATE, self, payload=events.DBEventPayload( mock.Mock(), states=({res: {}}))) else: registry.notify(res, events.AFTER_CREATE, self, context=mock.Mock(), **kwargs)"," registry.notify(res, events.AFTER_CREATE, self, context=mock.Mock(), **kwargs) registry.notify(res, events.AFTER_CREATE, self, context=mock.Mock(), **kwargs)",89,42
openstack%2Fneutron~master~I86202f36f1b7c0bce8b29558ad1e377c336b7258,openstack/neutron,master,I86202f36f1b7c0bce8b29558ad1e377c336b7258,Follow up for replacing assertItemsEqual,MERGED,2021-05-21 10:17:22.000000000,2021-06-08 05:28:57.000000000,2021-06-06 13:06:40.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-21 10:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/98b950eb1e0afc13a2b98777b0714a707448b0ea', 'message': 'Follow up for replacing assertItemsEqual\n\nThe assertItemsEqual has been replaced with assertCountEqual\nsince I0bbffbec8889b8b3067cfe17d258f5cb16624f38 .\nHowever the hacking check has not been enabled.\n\nThis patch enables the hacking check\nand replace remaining assertItemsEqual with assertCountEqual.\n\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\nChange-Id: I86202f36f1b7c0bce8b29558ad1e377c336b7258\n'}, {'number': 2, 'created': '2021-05-21 10:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8181bdb5ca9052f8b04b77a70ec824fedff841a', 'message': 'Follow up for replacing assertItemsEqual\n\nThe assertItemsEqual has been replaced with assertCountEqual\nsince I7c20fec08e5dc9f67b34100c925ea6724bbd25f0 .\nHowever the hacking check has not been enabled.\n\nThis patch enables the hacking check\nand replace remaining assertItemsEqual with assertCountEqual.\n\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\nChange-Id: I86202f36f1b7c0bce8b29558ad1e377c336b7258\n'}, {'number': 3, 'created': '2021-06-03 16:04:07.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/hacking/checks.py', 'tox.ini', 'HACKING.rst', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/05ee23ea15d12259c14be0c43a07bf46ccff6f0b', 'message': 'Follow up for replacing assertItemsEqual\n\nThe assertItemsEqual has been replaced with assertCountEqual\nsince I7c20fec08e5dc9f67b34100c925ea6724bbd25f0 .\nHowever the hacking check has not been enabled.\n\nThis patch enables the hacking check\nand replace remaining assertItemsEqual with assertCountEqual.\n\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\nChange-Id: I86202f36f1b7c0bce8b29558ad1e377c336b7258\n'}]",0,792570,05ee23ea15d12259c14be0c43a07bf46ccff6f0b,64,4,3,7634,,,0,"Follow up for replacing assertItemsEqual

The assertItemsEqual has been replaced with assertCountEqual
since I7c20fec08e5dc9f67b34100c925ea6724bbd25f0 .
However the hacking check has not been enabled.

This patch enables the hacking check
and replace remaining assertItemsEqual with assertCountEqual.

Signed-off-by: Takashi Natsume <takanattie@gmail.com>
Change-Id: I86202f36f1b7c0bce8b29558ad1e377c336b7258
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/792570/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/hacking/checks.py', 'tox.ini', 'HACKING.rst', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py']",5,98b950eb1e0afc13a2b98777b0714a707448b0ea,replace_assertitemsequal," self.assertCountEqual(exp_values, lbs_values) self.assertCountEqual(exp_values, lbs_values)"," self.assertItemsEqual(exp_values, lbs_values) self.assertItemsEqual(exp_values, lbs_values)",8,6
openstack%2Fneutron~master~I4d344f5ca6673b70b69a03503ec0f267bf0cadf7,openstack/neutron,master,I4d344f5ca6673b70b69a03503ec0f267bf0cadf7,"VLAN ""allocate_partially_specified_segment"" can return any physnet",MERGED,2021-05-21 09:49:20.000000000,2021-06-08 05:26:51.000000000,2021-06-07 10:35:14.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-21 09:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e3c32c66d2a48f2ce481ee01a9dacc188d134a4', 'message': 'VLAN ""allocate_partially_specified_segment"" can return any physnet\n\nWhen allocating a partially defined segment with VLAN type driver, any\nphysical network can be returned. The method will select randomly any\nVLAN segment available, independently of the physnet configured order.\n\nChange-Id: I4d344f5ca6673b70b69a03503ec0f267bf0cadf7\nCloses-Bug: #1929190\n'}, {'number': 2, 'created': '2021-06-03 16:01:39.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/05ce5a1f9409d9fdd4ef92133f38d7ec9084b1c5', 'message': 'VLAN ""allocate_partially_specified_segment"" can return any physnet\n\nWhen allocating a partially defined segment with VLAN type driver, any\nphysical network can be returned. The method will select randomly any\nVLAN segment available, independently of the physnet configured order.\n\nChange-Id: I4d344f5ca6673b70b69a03503ec0f267bf0cadf7\nCloses-Bug: #1929190\n'}]",0,792559,05ce5a1f9409d9fdd4ef92133f38d7ec9084b1c5,21,4,2,16688,,,0,"VLAN ""allocate_partially_specified_segment"" can return any physnet

When allocating a partially defined segment with VLAN type driver, any
physical network can be returned. The method will select randomly any
VLAN segment available, independently of the physnet configured order.

Change-Id: I4d344f5ca6673b70b69a03503ec0f267bf0cadf7
Closes-Bug: #1929190
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/792559/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py'],1,1e3c32c66d2a48f2ce481ee01a9dacc188d134a4,bug/1929190," if observed[api.PHYSICAL_NETWORK] == PROVIDER_NET: self.assertIn(observed[api.SEGMENTATION_ID], range(p_const.MIN_VLAN_TAG, p_const.MAX_VLAN_TAG + 1)) elif observed[api.PHYSICAL_NETWORK] == TENANT_NET: self.assertIn(observed[api.SEGMENTATION_ID], range(VLAN_MIN, VLAN_MAX + 1)) else: self.fail('The observed physical network %s does not match with ' 'any configured' % [api.PHYSICAL_NETWORK])"," # NOTE(ralonsoh): first network provided in the configuration is # PROVIDER_NET. self.assertEqual(PROVIDER_NET, observed[api.PHYSICAL_NETWORK]) self.assertIn(observed[api.SEGMENTATION_ID], range(p_const.MIN_VLAN_TAG, p_const.MAX_VLAN_TAG + 1))",10,5
openstack%2Fcinder~master~I9220a084530fcb344d15a6084439e694d82eea1b,openstack/cinder,master,I9220a084530fcb344d15a6084439e694d82eea1b,Fix Ceph Backup Driver Python3 Encoding Issue,NEW,2021-05-12 23:25:11.000000000,2021-06-08 05:24:37.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-05-12 23:25:11.000000000', 'files': ['cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bd2409648c403a9c1ce83cff90d4f5e6fbe74742', 'message': 'Fix Ceph Backup Driver Python3 Encoding Issue\n\nUsing python3 the Ceph backup driver faces encoding issues.\nIn order to solve this we should start using bitarray for\ncreating a zero-filled instance with a given length.\n\nCloses-Bug: #1925809\nChange-Id: I9220a084530fcb344d15a6084439e694d82eea1b\n'}]",4,791059,bd2409648c403a9c1ce83cff90d4f5e6fbe74742,27,3,1,20813,,,0,"Fix Ceph Backup Driver Python3 Encoding Issue

Using python3 the Ceph backup driver faces encoding issues.
In order to solve this we should start using bitarray for
creating a zero-filled instance with a given length.

Closes-Bug: #1925809
Change-Id: I9220a084530fcb344d15a6084439e694d82eea1b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/791059/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/ceph.py'],1,bd2409648c403a9c1ce83cff90d4f5e6fbe74742,, zeroes = bytearray(self.chunk_size) zeroes = bytearray(rem), zeroes = '\0' * self.chunk_size zeroes = '\0' * rem,2,2
openstack%2Fneutron~master~I38ed7931169434fecbbefa3762f51a522ef3c509,openstack/neutron,master,I38ed7931169434fecbbefa3762f51a522ef3c509,"Switch neutron-rally-task job to ML2/OVS and skip ""test_models_sync""",MERGED,2021-05-14 06:34:42.000000000,2021-06-08 05:08:45.000000000,2021-06-03 15:35:11.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-05-14 06:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19fe4934f271cdd459b7d8fb2c43065e60020a6b', 'message': ""Switch neutron-rally-task job to ML2/OVS\n\nAfter switch of the default Neutron backend to the ML2/OVN\nin the Devstack we had 2 rally jobs running actually with the\nsame Neutron backend.\nThis patch configures explicitly ML2/OVS as a backend in the\n'neutron-rally-task' job so it is like it was before the change in\nthe Devstack repo.\n\nChange-Id: I38ed7931169434fecbbefa3762f51a522ef3c509\n""}, {'number': 2, 'created': '2021-05-14 08:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d4cddc516f67765dd79fa4361f69907c3ccca66', 'message': ""Switch neutron-rally-task job to ML2/OVS\n\nAfter switch of the default Neutron backend to the ML2/OVN\nin the Devstack we had 2 rally jobs running actually with the\nsame Neutron backend.\nThis patch configures explicitly ML2/OVS as a backend in the\n'neutron-rally-task' job so it is like it was before the change in\nthe Devstack repo.\n\nChange-Id: I38ed7931169434fecbbefa3762f51a522ef3c509\n""}, {'number': 3, 'created': '2021-05-25 15:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a94f1fa27dc0c30a75972cd44fe478b479488bba', 'message': 'Switch neutron-rally-task job to ML2/OVS and skip ""test_models_sync""\n\nAfter switch of the default Neutron backend to the ML2/OVN\nin the Devstack we had 2 rally jobs running actually with the\nsame Neutron backend.\n\nThis patch configures explicitly ML2/OVS as a backend in the\n\'neutron-rally-task\' job so it is like it was before the change in\nthe Devstack repo.\n\nIn order to fix the CI, this patch also skips ""test_models_sync"" test\ncases. Once [1] is fixed and released, we\'ll be able to create SQL\ntables specifying the ""_constraints_included"" flag. When creating a\ntable, this flag should be set to ""False"" in order to be able to set\nthe ""index"" and ""unique"" parameters for each column in the table\ndefinition, as we do now.\n\nRelated-Bug: #1929518\n\n[1]https://github.com/sqlalchemy/alembic/issues/848\n\nChange-Id: I38ed7931169434fecbbefa3762f51a522ef3c509\n'}, {'number': 4, 'created': '2021-05-26 06:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec554b9481afb1e6c7043ca25e41db0f80456e35', 'message': 'Switch neutron-rally-task job to ML2/OVS and skip ""test_models_sync""\n\nAfter switch of the default Neutron backend to the ML2/OVN\nin the Devstack we had 2 rally jobs running actually with the\nsame Neutron backend.\n\nThis patch configures explicitly ML2/OVS as a backend in the\n\'neutron-rally-task\' job so it is like it was before the change in\nthe Devstack repo.\n\nIn order to fix the CI, this patch also skips ""test_models_sync"" test\ncases. Once [1] is fixed and released, we\'ll be able to create SQL\ntables specifying the ""_constraints_included"" flag. When creating a\ntable, this flag should be set to ""False"" in order to be able to set\nthe ""index"" and ""unique"" parameters for each column in the table\ndefinition, as we do now.\n\nRelated-Bug: #1929518\n\n[1]https://github.com/sqlalchemy/alembic/issues/848\n\nChange-Id: I38ed7931169434fecbbefa3762f51a522ef3c509\n'}, {'number': 5, 'created': '2021-05-27 07:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b96aff2ae48936baf52e4683993456f2542fa1af', 'message': 'Switch neutron-rally-task job to ML2/OVS and skip ""test_models_sync""\n\nAfter switch of the default Neutron backend to the ML2/OVN\nin the Devstack we had 2 rally jobs running actually with the\nsame Neutron backend.\n\nThis patch configures explicitly ML2/OVS as a backend in the\n\'neutron-rally-task\' job so it is like it was before the change in\nthe Devstack repo.\n\nIn order to fix the CI, this patch also skips ""test_models_sync"" test\ncases. Once [1] is fixed and released, we\'ll be able to create SQL\ntables specifying the ""_constraints_included"" flag. When creating a\ntable, this flag should be set to ""False"" in order to be able to set\nthe ""index"" and ""unique"" parameters for each column in the table\ndefinition, as we do now.\n\nRelated-Bug: #1929518\n\n[1]https://github.com/sqlalchemy/alembic/issues/848\n\nChange-Id: I38ed7931169434fecbbefa3762f51a522ef3c509\n'}, {'number': 6, 'created': '2021-05-28 05:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3d2ffb1cca0f19153c171235304bf171b4e1518', 'message': 'Switch neutron-rally-task job to ML2/OVS and skip ""test_models_sync""\n\nAfter switch of the default Neutron backend to the ML2/OVN\nin the Devstack we had 2 rally jobs running actually with the\nsame Neutron backend.\n\nThis patch configures explicitly ML2/OVS as a backend in the\n\'neutron-rally-task\' job so it is like it was before the change in\nthe Devstack repo.\n\nIn order to fix the CI, this patch also skips ""test_models_sync"" test\ncases. Once [1] is fixed and released, we\'ll be able to create SQL\ntables specifying the ""_constraints_included"" flag. When creating a\ntable, this flag should be set to ""False"" in order to be able to set\nthe ""index"" and ""unique"" parameters for each column in the table\ndefinition, as we do now.\n\nRelated-Bug: #1929518\n\n[1]https://github.com/sqlalchemy/alembic/issues/848\n\nChange-Id: I38ed7931169434fecbbefa3762f51a522ef3c509\n'}, {'number': 7, 'created': '2021-05-31 07:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f386ad520d574067398b95b729a3d5c79bdd8fc', 'message': 'Switch neutron-rally-task job to ML2/OVS and skip ""test_models_sync""\n\nAfter switch of the default Neutron backend to the ML2/OVN\nin the Devstack we had 2 rally jobs running actually with the\nsame Neutron backend.\n\nThis patch configures explicitly ML2/OVS as a backend in the\n\'neutron-rally-task\' job so it is like it was before the change in\nthe Devstack repo.\n\nIn order to fix the CI, this patch also skips ""test_models_sync"" test\ncases. Once [1] is fixed and released, we\'ll be able to create SQL\ntables specifying the ""_constraints_included"" flag. When creating a\ntable, this flag should be set to ""False"" in order to be able to set\nthe ""index"" and ""unique"" parameters for each column in the table\ndefinition, as we do now.\n\n""test_update_router_admin_state"" is excluded from\n""neutron-ovn-tempest-slow"" until LP#1890445 is fixed.\n\nRelated-Bug: #1929518\nRelated-Bug: #1890445\n\n[1]https://github.com/sqlalchemy/alembic/issues/848\n\nChange-Id: I38ed7931169434fecbbefa3762f51a522ef3c509\n'}, {'number': 8, 'created': '2021-06-01 14:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3e8fd4ddc7b4780736fcd3d535cdd7c259ae71b', 'message': 'Switch neutron-rally-task job to ML2/OVS and skip ""test_models_sync""\n\nAfter switch of the default Neutron backend to the ML2/OVN\nin the Devstack we had 2 rally jobs running actually with the\nsame Neutron backend.\n\nThis patch configures explicitly ML2/OVS as a backend in the\n\'neutron-rally-task\' job so it is like it was before the change in\nthe Devstack repo.\n\nIn order to fix the CI, this patch also skips ""test_models_sync"" test\ncases. Once [1] is fixed and released, we\'ll be able to create SQL\ntables specifying the ""_constraints_included"" flag. When creating a\ntable, this flag should be set to ""False"" in order to be able to set\nthe ""index"" and ""unique"" parameters for each column in the table\ndefinition, as we do now.\n\n""test_update_router_admin_state"" is excluded from\n""neutron-ovn-tempest-slow"" until LP#1890445 is fixed.\n\nCI job ""neutron-ovn-tempest-slow"" has been set to non-voting until\nLP#1930402 is fixed.\n\nRelated-Bug: #1929518\nRelated-Bug: #1890445\nRelated-Bug: #1930402\n\n[1]https://github.com/sqlalchemy/alembic/issues/848\n\nChange-Id: I38ed7931169434fecbbefa3762f51a522ef3c509\n'}, {'number': 9, 'created': '2021-06-01 14:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b04dbe5e09cd1301cd95338def2ec4bddaa673c', 'message': 'Switch neutron-rally-task job to ML2/OVS and skip ""test_models_sync""\n\nAfter switch of the default Neutron backend to the ML2/OVN\nin the Devstack we had 2 rally jobs running actually with the\nsame Neutron backend.\n\nThis patch configures explicitly ML2/OVS as a backend in the\n\'neutron-rally-task\' job so it is like it was before the change in\nthe Devstack repo.\n\nIn order to fix the CI, this patch also skips ""test_models_sync"" test\ncases. Once [1] is fixed and released, we\'ll be able to create SQL\ntables specifying the ""_constraints_included"" flag. When creating a\ntable, this flag should be set to ""False"" in order to be able to set\nthe ""index"" and ""unique"" parameters for each column in the table\ndefinition, as we do now.\n\n""test_update_router_admin_state"" is excluded from\n""neutron-ovn-tempest-slow"" until LP#1890445 is fixed.\n\nCI job ""neutron-ovn-tempest-slow"" has been set to non-voting until\nLP#1930402 is fixed.\n\nRelated-Bug: #1929518\nRelated-Bug: #1890445\nRelated-Bug: #1930402\n\n[1]https://github.com/sqlalchemy/alembic/issues/848\n\nChange-Id: I38ed7931169434fecbbefa3762f51a522ef3c509\n'}, {'number': 10, 'created': '2021-06-01 15:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/880eef8b0076b7a07c0f8381c0e9de52fed06424', 'message': 'Switch neutron-rally-task job to ML2/OVS and skip ""test_models_sync""\n\nAfter switch of the default Neutron backend to the ML2/OVN\nin the Devstack we had 2 rally jobs running actually with the\nsame Neutron backend.\n\nThis patch configures explicitly ML2/OVS as a backend in the\n\'neutron-rally-task\' job so it is like it was before the change in\nthe Devstack repo.\n\nIn order to fix the CI, this patch also skips ""test_models_sync"" test\ncases. Once [1] is fixed and released, we\'ll be able to create SQL\ntables specifying the ""_constraints_included"" flag. When creating a\ntable, this flag should be set to ""False"" in order to be able to set\nthe ""index"" and ""unique"" parameters for each column in the table\ndefinition, as we do now.\n\n""test_update_router_admin_state"" is excluded from\n""neutron-ovn-tempest-slow"" until LP#1890445 is fixed.\n\nCI job ""neutron-ovn-tempest-slow"" has been set to non-voting until\nLP#1930402 is fixed.\n\nRelated-Bug: #1929518\nRelated-Bug: #1890445\nRelated-Bug: #1930402\n\n[1]https://github.com/sqlalchemy/alembic/issues/848\n\nChange-Id: I38ed7931169434fecbbefa3762f51a522ef3c509\n'}, {'number': 11, 'created': '2021-06-02 11:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bcf4af37c8496bfa9cabd5e10306194a3e84fba5', 'message': 'Switch neutron-rally-task job to ML2/OVS and skip ""test_models_sync""\n\nAfter switch of the default Neutron backend to the ML2/OVN\nin the Devstack we had 2 rally jobs running actually with the\nsame Neutron backend.\n\nThis patch configures explicitly ML2/OVS as a backend in the\n\'neutron-rally-task\' job so it is like it was before the change in\nthe Devstack repo.\n\nIn order to fix the CI, this patch also skips ""test_models_sync"" test\ncases. Once [1] is fixed and released, we\'ll be able to create SQL\ntables specifying the ""_constraints_included"" flag. When creating a\ntable, this flag should be set to ""False"" in order to be able to set\nthe ""index"" and ""unique"" parameters for each column in the table\ndefinition, as we do now.\n\n""test_update_router_admin_state"" is excluded from\n""neutron-ovn-tempest-slow"" until LP#1890445 is fixed.\n\nCI job ""neutron-ovn-tempest-slow"" has been set to non-voting until\nLP#1930402 is fixed.\n\nRelated-Bug: #1929518\nRelated-Bug: #1890445\nRelated-Bug: #1930402\n\n[1]https://github.com/sqlalchemy/alembic/issues/848\n\nChange-Id: I38ed7931169434fecbbefa3762f51a522ef3c509\n'}, {'number': 12, 'created': '2021-06-03 06:58:56.000000000', 'files': ['neutron/tests/functional/test_server.py', 'zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'neutron/tests/functional/db/test_migrations.py', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4de350a54a3e3e59371391a7a022447b49ae508e', 'message': 'Switch neutron-rally-task job to ML2/OVS and skip ""test_models_sync""\n\nAfter switch of the default Neutron backend to the ML2/OVN\nin the Devstack we had 2 rally jobs running actually with the\nsame Neutron backend.\n\nThis patch configures explicitly ML2/OVS as a backend in the\n\'neutron-rally-task\' job so it is like it was before the change in\nthe Devstack repo.\n\nIn order to fix the CI, this patch also skips ""test_models_sync"" test\ncases. Once [1] is fixed and released, we\'ll be able to create SQL\ntables specifying the ""_constraints_included"" flag. When creating a\ntable, this flag should be set to ""False"" in order to be able to set\nthe ""index"" and ""unique"" parameters for each column in the table\ndefinition, as we do now.\n\n""test_update_router_admin_state"" is excluded from\n""neutron-ovn-tempest-slow"" until LP#1890445 is fixed.\n\nSet ""test_restart_wsgi_on_sighup_multiple_workers"" as unstable.\n\nCI job ""neutron-ovn-tempest-slow"" has been set to non-voting until\nLP#1930402 is fixed.\n\nRelated-Bug: #1929518\nRelated-Bug: #1890445\nRelated-Bug: #1930402\nRelated-Bug: #1930367\n\n[1]https://github.com/sqlalchemy/alembic/issues/848\n\nChange-Id: I38ed7931169434fecbbefa3762f51a522ef3c509\n'}]",6,791365,4de350a54a3e3e59371391a7a022447b49ae508e,324,8,12,11975,,,0,"Switch neutron-rally-task job to ML2/OVS and skip ""test_models_sync""

After switch of the default Neutron backend to the ML2/OVN
in the Devstack we had 2 rally jobs running actually with the
same Neutron backend.

This patch configures explicitly ML2/OVS as a backend in the
'neutron-rally-task' job so it is like it was before the change in
the Devstack repo.

In order to fix the CI, this patch also skips ""test_models_sync"" test
cases. Once [1] is fixed and released, we'll be able to create SQL
tables specifying the ""_constraints_included"" flag. When creating a
table, this flag should be set to ""False"" in order to be able to set
the ""index"" and ""unique"" parameters for each column in the table
definition, as we do now.

""test_update_router_admin_state"" is excluded from
""neutron-ovn-tempest-slow"" until LP#1890445 is fixed.

Set ""test_restart_wsgi_on_sighup_multiple_workers"" as unstable.

CI job ""neutron-ovn-tempest-slow"" has been set to non-voting until
LP#1930402 is fixed.

Related-Bug: #1929518
Related-Bug: #1890445
Related-Bug: #1930402
Related-Bug: #1930367

[1]https://github.com/sqlalchemy/alembic/issues/848

Change-Id: I38ed7931169434fecbbefa3762f51a522ef3c509
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/791365/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/rally.yaml'],1,19fe4934f271cdd459b7d8fb2c43065e60020a6b,bug/1929518," devstack_localrc: Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,linuxbridge # OVN services ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false # Neutron services q-agt: true q-dhcp: true q-l3: true q-meta: true q-metering: true q-svc: true",,16,0
openstack%2Ftempest~master~Ic392fda1ffcbc3cf33ea352de7637eb10d082c77,openstack/tempest,master,Ic392fda1ffcbc3cf33ea352de7637eb10d082c77,add unittest for resource types relevant interface,ABANDONED,2020-01-09 02:17:06.000000000,2021-06-08 02:53:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-01-09 02:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9fb40b2b0fdf670f6d5cf11090b510703c9252c5', 'message': 'add unittest for resource types relevant interface\n\nadd unittest for resource types relevant interface in metadata\n\nChange-Id: Ic392fda1ffcbc3cf33ea352de7637eb10d082c77\n'}, {'number': 2, 'created': '2020-01-09 02:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8de659bfbbedccf13ee79a01d0595eb75bf14fc0', 'message': 'add unittest for resource types relevant interface\n\nadd unittest for resource types relevant interface in metadata\n\nChange-Id: Ic392fda1ffcbc3cf33ea352de7637eb10d082c77\n'}, {'number': 3, 'created': '2020-01-09 02:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dc4e21c4f000768a705ee78cbb7ea02a73aa022c', 'message': 'add unittest for resource types relevant interface\n\nadd unittest for resource types relevant interface in metadata\n\nChange-Id: Ic392fda1ffcbc3cf33ea352de7637eb10d082c77\n'}, {'number': 4, 'created': '2020-01-09 03:21:40.000000000', 'files': ['tempest/tests/lib/services/image/v2/test_resource_types_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a213935d1d882c4e0ef57b97567da1af92e97d57', 'message': 'add unittest for resource types relevant interface\n\nadd unittest for resource types relevant interface in metadata\n\nChange-Id: Ic392fda1ffcbc3cf33ea352de7637eb10d082c77\n'}]",0,701657,a213935d1d882c4e0ef57b97567da1af92e97d57,8,1,4,30409,,,0,"add unittest for resource types relevant interface

add unittest for resource types relevant interface in metadata

Change-Id: Ic392fda1ffcbc3cf33ea352de7637eb10d082c77
",git fetch https://review.opendev.org/openstack/tempest refs/changes/57/701657/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/services/image/v2/test_resource_types_client.py'],1,9fb40b2b0fdf670f6d5cf11090b510703c9252c5,master7," FAKE_CREATE_RESOURCE_TYPES_ASSOCIATION = { ""created_at"": ""2018-03-05T18:20:44Z"", ""prefix"" : ""hw_"", ""properties_target"" : ""image"", ""name"" : ""OS::Cinder::Volume"", ""updated_at"" : ""2018-03-05T18:20:44Z"" } FAKE_LIST_RESOURCE_TYPES_ASSOCIATION = { ""resource_type_associations"": [ { ""created_at"": ""2018-03-05T18:20:44Z"", ""name"": ""OS::Nova::Flavor"", ""prefix"": ""hw:"" }, { ""created_at"": ""2018-03-05T18:20:44Z"", ""name"": ""OS::Glance::Image"", ""prefix"": ""hw_"" } ] } def _test_create_resource_type_association(self, bytes_body=False): self.check_service_client_function( self.client.create_resource_type_association, 'tempest.lib.common.rest_client.RestClient.post', self.FAKE_CREATE_RESOURCE_TYPES_ASSOCIATION, bytes_body, status=201, namespace_id=""OS::Compute::Hypervisor"", name=""OS::Cinder::Volume"", perfix=""hw_"", properties_target=""image"") def test_create_resource_type_association_with_str_body(self): self._test_create_resource_type_association() def test_create_resource_type_association_with_bytes_body(self): self._test_create_resource_type_association(bytes_body=True) def _test_list_resource_type_association(self, bytes_body=False): self.check_service_client_function( self.client.list_resource_type_association, 'tempest.lib.common.rest_client.RestClient.get', self.FAKE_LIST_RESOURCE_TYPES_ASSOCIATION, bytes_body, namespace_id=""OS::Compute::Hypervisor"") def test_list_resource_type_association_with_str_body(self): self._test_list_resource_type_association() def test_list_resource_type_association_with_bytes_body(self): self._test_list_resource_type_association(bytes_body=True) def test_delete_resource_type_association(self): self.check_service_client_function( self.client.delete_resource_type_association, 'tempest.lib.common.rest_client.RestClient.delete', {}, namespace_id=""OS::Compute::Hypervisor"", status=204)",,59,0
openstack%2Fcyborg-tempest-plugin~master~I16b43a70b20a7eb6ac93cb4b5da1ebd0d584a21d,openstack/cyborg-tempest-plugin,master,I16b43a70b20a7eb6ac93cb4b5da1ebd0d584a21d,add get one device method and nagetive test,ABANDONED,2020-12-16 06:16:12.000000000,2021-06-08 02:37:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2020-12-16 06:16:12.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_device_negative.py', 'cyborg_tempest_plugin/services/cyborg_rest_client.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/99cb60fb3fd0ff883c4637786b4c38c1e27cd37d', 'message': 'add get one device method and nagetive test\n\nadd get one device interface method and add non-existent uuid negative\ntest\nChange-Id: I16b43a70b20a7eb6ac93cb4b5da1ebd0d584a21d\n'}]",2,767274,99cb60fb3fd0ff883c4637786b4c38c1e27cd37d,6,2,1,30409,,,0,"add get one device method and nagetive test

add get one device interface method and add non-existent uuid negative
test
Change-Id: I16b43a70b20a7eb6ac93cb4b5da1ebd0d584a21d
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/74/767274/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg_tempest_plugin/tests/api/test_device_negative.py', 'cyborg_tempest_plugin/services/cyborg_rest_client.py']",2,99cb60fb3fd0ff883c4637786b4c38c1e27cd37d,master3," def get_device(self, device_uuid): resp, body = self.get(""/devices/%s"" % device_uuid) return self._response_helper(resp, body) ",,37,0
openstack%2Fopenstack-helm~master~I6586d25963b453fa6440426c8fc09e07a101f3b6,openstack/openstack-helm,master,I6586d25963b453fa6440426c8fc09e07a101f3b6,doc(ovs): fixes doc,MERGED,2021-05-25 21:55:02.000000000,2021-06-08 02:08:16.000000000,2021-06-08 02:05:54.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-25 21:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/07c0edbda44bbf3e660df8b0f500aec0110bfad1', 'message': 'doc(ovs): fixes doc\n\nThis fixes trivial error in the documentation.\n\nChange-Id: I6586d25963b453fa6440426c8fc09e07a101f3b6\nSigned-off-by: Tin <tin@irrational.io>\n'}, {'number': 2, 'created': '2021-05-26 22:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8257138a7dfb834003ebd55d780ef753234284b7', 'message': 'doc(ovs): fixes doc\n\nThis fixes trivial error in the documentation.\n\nChange-Id: I6586d25963b453fa6440426c8fc09e07a101f3b6\nSigned-off-by: Tin <tin@irrational.io>\n'}, {'number': 3, 'created': '2021-06-02 08:50:35.000000000', 'files': ['doc/source/install/developer/deploy-ovs-dpdk.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7319518f2c21ed258fe6f4ee298eb7bb9b576877', 'message': 'doc(ovs): fixes doc\n\nThis fixes trivial error in the documentation.\n\nChange-Id: I6586d25963b453fa6440426c8fc09e07a101f3b6\nSigned-off-by: Tin <tin@irrational.io>\n'}]",4,793072,7319518f2c21ed258fe6f4ee298eb7bb9b576877,17,5,3,20466,,,0,"doc(ovs): fixes doc

This fixes trivial error in the documentation.

Change-Id: I6586d25963b453fa6440426c8fc09e07a101f3b6
Signed-off-by: Tin <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/72/793072/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/developer/deploy-ovs-dpdk.rst'],1,07c0edbda44bbf3e660df8b0f500aec0110bfad1,fix/typo,"order to use a NIC as DPDK port in OVS, the OVS configurations regarding hugepages and PMD threads need to match the NUMA topology.","order to use a NIC as DPDK port in OVS, the OVS configuration regarding hugepages and PMD threas needs to match the NUMA topology.",2,2
openstack%2Fopenstack-helm~master~I142710ffab2aa407a09318e4b8517938ed28f3c8,openstack/openstack-helm,master,I142710ffab2aa407a09318e4b8517938ed28f3c8,Replace deprecated configuration,MERGED,2021-05-26 10:42:04.000000000,2021-06-08 02:07:12.000000000,2021-06-08 02:05:50.000000000,"[{'_account_id': 8898}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-05-26 10:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/492cb8331140e6c8d9a50e9f3569d2f11b46972f', 'message': 'Replace deprecated configuration\n\n``[vnc]/vncserver_proxyclient_address`` was deprecated, so we replace it with ``server_proxyclient_address``\n\nChange-Id: I142710ffab2aa407a09318e4b8517938ed28f3c8\n'}, {'number': 2, 'created': '2021-05-27 02:09:58.000000000', 'files': ['nova/values.yaml', 'releasenotes/notes/nova.yaml', 'nova/templates/bin/_nova-console-compute-init.sh.tpl', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5bb9b2011295f1e95628941b2079ccde07180cf5', 'message': 'Replace deprecated configuration\n\n``[vnc]/vncserver_proxyclient_address`` was deprecated, so we replace it with ``server_proxyclient_address``\n\nChange-Id: I142710ffab2aa407a09318e4b8517938ed28f3c8\n'}]",0,793138,5bb9b2011295f1e95628941b2079ccde07180cf5,12,5,2,30858,,,0,"Replace deprecated configuration

``[vnc]/vncserver_proxyclient_address`` was deprecated, so we replace it with ``server_proxyclient_address``

Change-Id: I142710ffab2aa407a09318e4b8517938ed28f3c8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/38/793138/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values.yaml', 'nova/templates/bin/_nova-console-compute-init.sh.tpl']",2,492cb8331140e6c8d9a50e9f3569d2f11b46972f,," client_address=""{{- .Values.conf.nova.vnc.server_proxyclient_address -}}""server_proxyclient_address = $client_address"," client_address=""{{- .Values.conf.nova.vnc.vncserver_proxyclient_address -}}""vncserver_proxyclient_address = $client_address",3,3
openstack%2Ftripleo-ci-health-queries~master~Ie4dc590c2ab6167773a190ac1ed6647df8fce989,openstack/tripleo-ci-health-queries,master,Ie4dc590c2ab6167773a190ac1ed6647df8fce989,"Adds new params, NOT params and option for complex queries",MERGED,2021-06-04 08:38:23.000000000,2021-06-08 02:05:07.000000000,2021-06-08 02:05:07.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-06-04 08:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/2a61d3e65e7cf2878d0b071583824a7099d3af51', 'message': 'Adds new params ""build_name"" and ""build_status\n\nThere may be various parameters needed to filter results from logstash.\nAs we no longer manually modify the ER-query files [1]\nour new queries.yml [2] must recognize these new params and\nshould be able to convert them to ER-query format.\nThis patch tries to make it easier to add new params to queries.yml\n\n[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/elastic-recheck\n[2] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/src/data/queries.yml\n\nChange-Id: Ie4dc590c2ab6167773a190ac1ed6647df8fce989\n'}, {'number': 2, 'created': '2021-06-04 10:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/e39883fbcf290813ee4f1e26e16a4ff85c0e5201', 'message': 'Adds new params ""build_name"" and ""build_status\n\nThere may be various parameters needed to filter results from logstash.\nAs we no longer manually modify the ER-query files [1]\nour new queries.yml [2] must recognize these new params and\nshould be able to convert them to ER-query format.\nThis patch tries to make it easier to add new params to queries.yml\n\nSame for NOT queries.\n\nTested with:\n```\n  - id: Could not resolve host\n    pattern: ""Could not resolve""\n    tags: console\n    build_name:\n      - openstack-tox-py36\n    not_build_name:\n      - openstack-tox-py39\n    url: https://bugs.launchpad.net/tripleo/+bug/1929461\n```\n\n[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/elastic-recheck\n[2] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/src/data/queries.yml\n\nChange-Id: Ie4dc590c2ab6167773a190ac1ed6647df8fce989\n'}, {'number': 3, 'created': '2021-06-04 11:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/c221319a5b02df1008e4ae04165c84f612c3dc70', 'message': 'Adds new params, NOT params and option for complex queries\n\nThere may be various parameters needed to filter results from logstash.\nAs we no longer manually modify the ER-query files [1]\nour new queries.yml [2] must recognize these new params and\nshould be able to convert them to ER-query format.\nThis patch tries to make it easier to add new params to queries.yml\n\nSame for NOT queries.\n\nAdditionally ""logstash"" key is added for defining even more complex queries.\n\nTested with:\n```\n  - id: Could not resolve host\n    pattern: ""Could not resolve""\n    tags: console\n    build_name:\n      - openstack-tox-py36\n    not_build_name:\n      - openstack-tox-py39\n    url: https://bugs.launchpad.net/tripleo/+bug/1929461\n```\n\n[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/elastic-recheck\n[2] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/src/data/queries.yml\n\nChange-Id: Ie4dc590c2ab6167773a190ac1ed6647df8fce989\n'}, {'number': 4, 'created': '2021-06-04 11:43:40.000000000', 'files': ['src/er-converter.py', 'output/queries-schema.json', 'src/model.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/ad6d6b76de5d9304348fbd1bac51cf6694d862c2', 'message': 'Adds new params, NOT params and option for complex queries\n\nThere may be various parameters needed to filter results from logstash.\nAs we no longer manually modify the ER-query files [1]\nour new queries.yml [2] must recognize these new params and\nshould be able to convert them to ER-query format.\nThis patch tries to make it easier to add new params to queries.yml\n\nSame for NOT queries.\n\nAdditionally ""logstash"" key is added for defining even more complex queries.\n\nTested with:\n```\n  - id: Could not resolve host\n    pattern: ""Could not resolve""\n    tags: console\n    build_name:\n      - openstack-tox-py36\n    not_build_name:\n      - openstack-tox-py39\n    url: https://bugs.launchpad.net/tripleo/+bug/1929461\n```\n\n[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/elastic-recheck\n[2] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/src/data/queries.yml\n\nChange-Id: Ie4dc590c2ab6167773a190ac1ed6647df8fce989\n'}]",0,794744,ad6d6b76de5d9304348fbd1bac51cf6694d862c2,16,4,4,32458,,,0,"Adds new params, NOT params and option for complex queries

There may be various parameters needed to filter results from logstash.
As we no longer manually modify the ER-query files [1]
our new queries.yml [2] must recognize these new params and
should be able to convert them to ER-query format.
This patch tries to make it easier to add new params to queries.yml

Same for NOT queries.

Additionally ""logstash"" key is added for defining even more complex queries.

Tested with:
```
  - id: Could not resolve host
    pattern: ""Could not resolve""
    tags: console
    build_name:
      - openstack-tox-py36
    not_build_name:
      - openstack-tox-py39
    url: https://bugs.launchpad.net/tripleo/+bug/1929461
```

[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/elastic-recheck
[2] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/src/data/queries.yml

Change-Id: Ie4dc590c2ab6167773a190ac1ed6647df8fce989
",git fetch https://review.opendev.org/openstack/tripleo-ci-health-queries refs/changes/44/794744/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/er-converter.py', 'output/queries-schema.json', 'src/model.py']",3,2a61d3e65e7cf2878d0b071583824a7099d3af51,," build_name: Optional[Union[List[str], str]] build_status: Optional[Union[List[str], str]]",,52,9
openstack%2Fansible-role-collect-logs~master~I32755e0f7352852a34b944fe8dfd0c30a83acc20,openstack/ansible-role-collect-logs,master,I32755e0f7352852a34b944fe8dfd0c30a83acc20,Add container update rpms info to collect logs,MERGED,2021-06-02 13:12:23.000000000,2021-06-08 01:51:59.000000000,2021-06-08 01:51:59.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-02 13:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/9cb7bc35e01f5722f25b6ca4bb4ee2ee3041ac28', 'message': 'Add container update rpms info to collect logs\n\nChange-Id: I32755e0f7352852a34b944fe8dfd0c30a83acc20\n'}, {'number': 2, 'created': '2021-06-02 14:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/d0127ac9c15e29270efb33bb55a33609e4e9b421', 'message': 'Add container update rpms info to collect logs\n\nChange-Id: I32755e0f7352852a34b944fe8dfd0c30a83acc20\n'}, {'number': 3, 'created': '2021-06-02 18:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b0867b16d69664926baae79e2804b06994e85201', 'message': 'Add container update rpms info to collect logs\n\nChange-Id: I32755e0f7352852a34b944fe8dfd0c30a83acc20\n'}, {'number': 4, 'created': '2021-06-03 12:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b5ba98eb7a437c91ccb1ed6b57c768af139ddf03', 'message': 'Add container update rpms info to collect logs\n\nChange-Id: I32755e0f7352852a34b944fe8dfd0c30a83acc20\n'}, {'number': 5, 'created': '2021-06-03 14:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/1c00a0ef7fd5710d675932eebf0d54d83c5b5c91', 'message': 'Add container update rpms info to collect logs\n\nChange-Id: I32755e0f7352852a34b944fe8dfd0c30a83acc20\n'}, {'number': 6, 'created': '2021-06-03 20:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/38f4a65902a30307a66b20c57b7452e6cfa2cd0b', 'message': 'Add container update rpms info to collect logs\n\nChange-Id: I32755e0f7352852a34b944fe8dfd0c30a83acc20\n'}, {'number': 7, 'created': '2021-06-04 13:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/6fce3af3b65b67af06bcecef4b3e006cd08d76d4', 'message': 'Add container update rpms info to collect logs\n\nChange-Id: I32755e0f7352852a34b944fe8dfd0c30a83acc20\n'}, {'number': 8, 'created': '2021-06-04 14:00:27.000000000', 'files': ['roles/collect_logs/files/collect-container-logs.sh'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/79f16c5ddba9795647cddba7c8d6ffcc9b8998c8', 'message': 'Add container update rpms info to collect logs\n\nChange-Id: I32755e0f7352852a34b944fe8dfd0c30a83acc20\n'}]",1,794221,79f16c5ddba9795647cddba7c8d6ffcc9b8998c8,33,5,8,9976,,,0,"Add container update rpms info to collect logs

Change-Id: I32755e0f7352852a34b944fe8dfd0c30a83acc20
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/21/794221/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect_logs/files/collect-container-logs.sh'],1,9cb7bc35e01f5722f25b6ca4bb4ee2ee3041ac28,rpm-updates," # Capture rpms updated from more recent repos update_repos = ""gating, delorean-current{% if job is defined and job.component is defined %}, {{ job.component }}{% endif %}"" echo ""*** ${cont} rpm update info ***"" >> ""$INFO_DIR/container_updates_info.log"" for repo in update_repos; do cat ""$INFO_DIR/${engine}_info.log"" | grep '@${repo}' >> ""$INFO_DIR/container_updates_info.log"" done; ",,7,0
openstack%2Ftripleo-upgrade~stable%2Fvictoria~I601b787fcc710ad06481db6727fad68eff9af672,openstack/tripleo-upgrade,stable/victoria,I601b787fcc710ad06481db6727fad68eff9af672,Switch off evacute for 1 compute topology,MERGED,2021-06-03 10:48:23.000000000,2021-06-08 01:51:56.000000000,2021-06-08 01:51:56.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 33080}]","[{'number': 1, 'created': '2021-06-03 10:48:23.000000000', 'files': ['infrared_plugin/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/831a2da64df05106037989cc23363d3844219ee0', 'message': 'Switch off evacute for 1 compute topology\n\nSigned-off-by: ciecierski <mciecier@redhat.com>\nChange-Id: I601b787fcc710ad06481db6727fad68eff9af672\n(cherry picked from commit 427d5207ffa90535a3627fee79fa10aa9e6f7bdd)\n'}]",0,794447,831a2da64df05106037989cc23363d3844219ee0,15,3,1,6816,,,0,"Switch off evacute for 1 compute topology

Signed-off-by: ciecierski <mciecier@redhat.com>
Change-Id: I601b787fcc710ad06481db6727fad68eff9af672
(cherry picked from commit 427d5207ffa90535a3627fee79fa10aa9e6f7bdd)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/47/794447/1 && git format-patch -1 --stdout FETCH_HEAD,['infrared_plugin/main.yml'],1,831a2da64df05106037989cc23363d3844219ee0,, when: - install.upgrade.compute.evacuate - groups['compute'] | length > 1, when: install.upgrade.compute.evacuate,3,1
openstack%2Fneutron~master~I9c54a268fc4ef9705637556ecba161bd6523a047,openstack/neutron,master,I9c54a268fc4ef9705637556ecba161bd6523a047,Use local and ip address to create vxlan interface,MERGED,2021-05-27 20:14:01.000000000,2021-06-08 01:37:29.000000000,2021-06-02 10:38:57.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 20366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 20:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd751a7d850f76f6e9b3c16212299785ec7e7839', 'message': ""Use local and ip address to create vxlan interface\n\nLinux kernel does not allow a loopback interface to be an endpoint\ndev interface for VXLAN terminations. In order to allow loopback\ninterfaces to be VXLAN termination endpoints, we need to change how\nthe vxlan is created: don't use dev, use local and an ip address.\nUsing local is also, perhaps, a more flexible solution, since it\nallows for picking the specific IP on the interface, as opposed to\nwhatever the OS decides to use.\n\nChange-Id: I9c54a268fc4ef9705637556ecba161bd6523a047\nSigned-off-by: Anthony Timmins <atimmins@datto.com>\n""}, {'number': 2, 'created': '2021-05-27 22:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3bd2d3c52e9ad2a45d4003808807421c8c7033a0', 'message': 'Use local and ip address to create vxlan interface\n\nAttempting to terminate a vxlan on the lo interface with\nmultiple ip addresses fails. This seems to be because only\nthe first ip address on the interface is used. If this address\nis invalid for vxlan creation (ie. 127.0.0.1), the vxlan\ninterface will be created, but will not have a source ip\naddress, and will therefore be non-functional. By setting and\nincluding the local argument during vxlan interface creation,\nwe can ensure that the intended ip address is used.\n\nChange-Id: I9c54a268fc4ef9705637556ecba161bd6523a047\nSigned-off-by: Anthony Timmins <atimmins@datto.com>\n'}, {'number': 3, 'created': '2021-05-27 22:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92cc74aa9746b3ce8b6252048246c18e33260766', 'message': 'Use local and ip address to create vxlan interface\n\nAttempting to terminate a vxlan on the lo interface with\nmultiple ip addresses fails. This seems to be because only\nthe first ip address on the interface is used. If this address\nis invalid for vxlan creation (ie. 127.0.0.1), the vxlan\ninterface will be created, but will not have a source ip\naddress, and will therefore be non-functional. By setting and\nincluding the local argument during vxlan interface creation,\nwe can ensure that the intended ip address is used.\n\nChange-Id: I9c54a268fc4ef9705637556ecba161bd6523a047\nSigned-off-by: Anthony Timmins <atimmins@datto.com>\n'}, {'number': 4, 'created': '2021-05-28 02:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/941db00b53749ca6cf54015b4496e179f2ec56e0', 'message': 'Use local and ip address to create vxlan interface\n\nAttempting to terminate a vxlan on the lo interface with\nmultiple ip addresses fails. This seems to be because only\nthe first ip address on the interface is used. If this address\nis invalid for vxlan creation (ie. 127.0.0.1), the vxlan\ninterface will be created, but will not have a source ip\naddress, and will therefore be non-functional. By setting and\nincluding the local argument during vxlan interface creation,\nwe can ensure that the intended ip address is used.\n\nChange-Id: I9c54a268fc4ef9705637556ecba161bd6523a047\nSigned-off-by: Anthony Timmins <atimmins@datto.com>\n'}, {'number': 5, 'created': '2021-05-28 12:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/603b5ac7a58c341693f45765f05c4c54505cbc66', 'message': 'Use local and ip address to create vxlan interface\n\nAttempting to terminate a vxlan on the lo interface with\nmultiple ip addresses fails. This seems to be because only\nthe first ip address on the interface is used. If this address\nis invalid for vxlan creation (ie. 127.0.0.1), the vxlan\ninterface will be created, but will not have a source ip\naddress, and will therefore be non-functional. By setting and\nincluding the local argument during vxlan interface creation,\nwe can ensure that the intended ip address is used.\n\nCloses-Bug: 1929998\nChange-Id: I9c54a268fc4ef9705637556ecba161bd6523a047\nSigned-off-by: Anthony Timmins <atimmins@datto.com>\n'}, {'number': 6, 'created': '2021-05-28 17:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d81a6fa366e21b2f48a3dfb68dec58ade88b52dd', 'message': 'Use local and ip address to create vxlan interface\n\nAttempting to terminate a vxlan on the lo interface with\nmultiple ip addresses fails. This seems to be because only\nthe first ip address on the interface is used. If this address\nis invalid for vxlan creation (ie. 127.0.0.1), the vxlan\ninterface will be created, but will not have a source ip\naddress, and will therefore be non-functional. To remedy this\nissue, when a vxlan interface is unicast, we can set the local\nargument to the local_ip, thus ensuring the intended ip\naddress is used.\n\nCloses-Bug: 1929998\nChange-Id: I9c54a268fc4ef9705637556ecba161bd6523a047\nSigned-off-by: Anthony Timmins <atimmins@datto.com>\n'}, {'number': 7, 'created': '2021-05-28 17:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/892bfea7dd51db9984d0144e32ac9b2a52334c7c', 'message': 'Use local and ip address to create vxlan interface\n\nAttempting to terminate a vxlan on the lo interface with\nmultiple ip addresses fails. This seems to be because only\nthe first ip address on the interface is used. If this address\nis invalid for vxlan creation (ie. 127.0.0.1), the vxlan\ninterface will be created, but will not have a source ip\naddress, and will therefore be non-functional. To remedy this\nissue, when a vxlan interface is unicast, we can set the local\nargument to the local_ip, thus ensuring the intended ip\naddress is used.\n\nCloses-Bug: 1929998\nChange-Id: I9c54a268fc4ef9705637556ecba161bd6523a047\nSigned-off-by: Anthony Timmins <atimmins@datto.com>\n'}, {'number': 8, 'created': '2021-05-31 21:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fddb1972010447542934d855d6cdb7806b41326b', 'message': 'Use local and ip address to create vxlan interface\n\nAttempting to terminate a vxlan on the lo interface with\nmultiple ip addresses fails. This seems to be because only\nthe first ip address on the interface is used. If this address\nis invalid for vxlan creation (ie. 127.0.0.1), the vxlan\ninterface will be created, but will not have a source ip\naddress, and will therefore be non-functional. To remedy this\nissue, when L2population is used, we can set the local\nargument to the local_ip, thus ensuring the intended ip\naddress is configured.\n\nCloses-Bug: 1929998\nChange-Id: I9c54a268fc4ef9705637556ecba161bd6523a047\nSigned-off-by: Anthony Timmins <atimmins@datto.com>\n'}, {'number': 9, 'created': '2021-06-01 13:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/419bae7ffdd6ebf9e15296226ad15c44f451251f', 'message': 'Use local and ip address to create vxlan interface\n\nAttempting to terminate a vxlan on the lo interface with\nmultiple ip addresses fails. This seems to be because only\nthe first ip address on the interface is used. If this address\nis invalid for vxlan creation (ie. 127.0.0.1), the vxlan\ninterface will be created, but will not have a source ip\naddress, and will therefore be non-functional. To remedy this\nissue, when L2population is used, we can set the local\nargument to the local_ip, thus ensuring the intended ip\naddress is configured.\n\nCloses-Bug: 1929998\nChange-Id: I9c54a268fc4ef9705637556ecba161bd6523a047\nSigned-off-by: Anthony Timmins <atimmins@datto.com>\n'}, {'number': 10, 'created': '2021-06-01 14:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff8dcc1a263ed0a0ace5c68ed0cbdcae6d33dad9', 'message': 'Use local and ip address to create vxlan interface\n\nAttempting to terminate a vxlan on the lo interface with\nmultiple ip addresses fails. This seems to be because only\nthe first ip address on the interface is used. If this address\nis invalid for vxlan creation (ie. 127.0.0.1), the vxlan\ninterface will be created, but will not have a source ip\naddress, and will therefore be non-functional. To remedy this\nissue, when L2population is used, we can set the local\nargument to the local_ip, thus ensuring the intended ip\naddress is configured.\n\nCloses-Bug: 1929998\nChange-Id: I9c54a268fc4ef9705637556ecba161bd6523a047\nSigned-off-by: Anthony Timmins <atimmins@datto.com>\n'}, {'number': 11, 'created': '2021-06-01 15:02:31.000000000', 'files': ['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cd11f4dee494c5851318410c523dfcfbce4c824', 'message': 'Use local and ip address to create vxlan interface\n\nAttempting to terminate a vxlan on the lo interface with\nmultiple ip addresses fails. This seems to be because only\nthe first ip address on the interface is used. If this address\nis invalid for vxlan creation (ie. 127.0.0.1), the vxlan\ninterface will be created, but will not have a source ip\naddress, and will therefore be non-functional. To remedy this\nissue, when L2population is used, we can set the local\nargument to the local_ip, thus ensuring the intended ip\naddress is configured.\n\nCloses-Bug: 1929998\nChange-Id: I9c54a268fc4ef9705637556ecba161bd6523a047\nSigned-off-by: Anthony Timmins <atimmins@datto.com>\n'}]",5,793500,4cd11f4dee494c5851318410c523dfcfbce4c824,64,5,11,33525,,,0,"Use local and ip address to create vxlan interface

Attempting to terminate a vxlan on the lo interface with
multiple ip addresses fails. This seems to be because only
the first ip address on the interface is used. If this address
is invalid for vxlan creation (ie. 127.0.0.1), the vxlan
interface will be created, but will not have a source ip
address, and will therefore be non-functional. To remedy this
issue, when L2population is used, we can set the local
argument to the local_ip, thus ensuring the intended ip
address is configured.

Closes-Bug: 1929998
Change-Id: I9c54a268fc4ef9705637556ecba161bd6523a047
Signed-off-by: Anthony Timmins <atimmins@datto.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/793500/9 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py'],1,dd751a7d850f76f6e9b3c16212299785ec7e7839,bug/1929998," args = {'local': self.local_ip,"," args = {'dev': self.local_int,",1,1
openstack%2Fopenstack-helm-docs~master~I72bda204463276e55f8a88b4cc6b3a807fe9af5c,openstack/openstack-helm-docs,master,I72bda204463276e55f8a88b4cc6b3a807fe9af5c,docs: Update Freenode to OFTC,MERGED,2021-06-02 02:13:31.000000000,2021-06-08 01:10:07.000000000,2021-06-08 01:09:05.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 02:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-docs/commit/7612cc140446b9751e813e9203d27c2c9eff9c5d', 'message': 'docs: Update Freenode to OFTC\n\nhttp: //lists.openstack.org/pipermail/openstack-discuss/2021-May/022780.html\nChange-Id: I72bda204463276e55f8a88b4cc6b3a807fe9af5c\n'}, {'number': 2, 'created': '2021-06-02 02:17:59.000000000', 'files': ['doc/source/contributor/contributing.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm-docs/commit/9daa98ce81e93b2e6e0a6e0690f3eefa38a0e8f2', 'message': 'docs: Update Freenode to OFTC\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-May/022780.html\nChange-Id: I72bda204463276e55f8a88b4cc6b3a807fe9af5c\n'}]",0,794082,9daa98ce81e93b2e6e0a6e0690f3eefa38a0e8f2,10,4,2,30449,,,0,"docs: Update Freenode to OFTC

http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022780.html
Change-Id: I72bda204463276e55f8a88b4cc6b3a807fe9af5c
",git fetch https://review.opendev.org/openstack/openstack-helm-docs refs/changes/82/794082/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'README.rst']",2,7612cc140446b9751e813e9203d27c2c9eff9c5d,,Contributors are encouraged to join IRC: ``#openstack-helm`` on oftc.,Contributors are encouraged to join IRC: ``#openstack-helm`` on freenode.,4,4
openstack%2Ftripleo-upgrade~stable%2Fvictoria~Ie2acc014f51dc679e4e77ff87f62cfeff7422296,openstack/tripleo-upgrade,stable/victoria,Ie2acc014f51dc679e4e77ff87f62cfeff7422296,Publish validations-extra-args parameter in infrared plugin.,MERGED,2021-06-03 10:51:15.000000000,2021-06-08 01:02:15.000000000,2021-06-08 01:02:15.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-03 10:51:15.000000000', 'files': ['tasks/common/validation_group_run.yaml', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a3b17baee7c1013590d1abdc7b08bde080f7ae24', 'message': ""Publish validations-extra-args parameter in infrared plugin.\n\nAllowing to pass a specific string with extra arguments when invoking\nthe validations for a group.\nThe patch adds a new parameter at role and infrared's plugin level called\n--validations-extra-args (infrared) and validations_extra_args (role). This\nstring will be appended to the 'openstack tripleo validator run' call and it\nallows to pass some other arguments, as --extra-vars, or --extra-vars-file.\nBy defaults it is set to empty string.\n\nChange-Id: Ie2acc014f51dc679e4e77ff87f62cfeff7422296\n(cherry picked from commit f5bd46347bf8992344ceeab78087b124c9699af8)\n""}]",0,794563,a3b17baee7c1013590d1abdc7b08bde080f7ae24,16,3,1,6816,,,0,"Publish validations-extra-args parameter in infrared plugin.

Allowing to pass a specific string with extra arguments when invoking
the validations for a group.
The patch adds a new parameter at role and infrared's plugin level called
--validations-extra-args (infrared) and validations_extra_args (role). This
string will be appended to the 'openstack tripleo validator run' call and it
allows to pass some other arguments, as --extra-vars, or --extra-vars-file.
By defaults it is set to empty string.

Change-Id: Ie2acc014f51dc679e4e77ff87f62cfeff7422296
(cherry picked from commit f5bd46347bf8992344ceeab78087b124c9699af8)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/63/794563/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/validation_group_run.yaml', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml']",5,a3b17baee7c1013590d1abdc7b08bde080f7ae24,skip_validations,," validation_args: ""--python-interpreter /usr/libexec/platform-python""",17,2
openstack%2Ftripleo-upgrade~stable%2Fvictoria~I47c1a2d0a8cc6618444b6301232079f69c5d8d6e,openstack/tripleo-upgrade,stable/victoria,I47c1a2d0a8cc6618444b6301232079f69c5d8d6e,Add mechanism to skip certain validations.,MERGED,2021-06-03 10:51:15.000000000,2021-06-08 00:16:05.000000000,2021-06-08 00:16:05.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-03 10:51:15.000000000', 'files': ['tasks/common/validation_group_run.yaml', 'templates/pre-upgrade-osp13-validation.sh.j2', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/36ab46ce6c1c6962b30f1727196c5e7430e1b2d7', 'message': ""Add mechanism to skip certain validations.\n\nWhen executing the tripleo-upgrade role with the option --run-validations\nit might occur that a set of validations want to be skipped from the group\nexecution.\n\nThis patch adds a new parameter named skiplist_validations which contains\nthe list of validations names to be skipped. This parameter is also\nintegrated in the infrared plugin, by exposing the parameter\n--skiplist-validations 'val1,val2,val3'\n\nChange-Id: I47c1a2d0a8cc6618444b6301232079f69c5d8d6e\n(cherry picked from commit be2a296ded3c65b893074e888712e076dee87371)\n""}]",0,794562,36ab46ce6c1c6962b30f1727196c5e7430e1b2d7,20,3,1,6816,,,0,"Add mechanism to skip certain validations.

When executing the tripleo-upgrade role with the option --run-validations
it might occur that a set of validations want to be skipped from the group
execution.

This patch adds a new parameter named skiplist_validations which contains
the list of validations names to be skipped. This parameter is also
integrated in the infrared plugin, by exposing the parameter
--skiplist-validations 'val1,val2,val3'

Change-Id: I47c1a2d0a8cc6618444b6301232079f69c5d8d6e
(cherry picked from commit be2a296ded3c65b893074e888712e076dee87371)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/62/794562/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/validation_group_run.yaml', 'templates/pre-upgrade-osp13-validation.sh.j2', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml']",5,36ab46ce6c1c6962b30f1727196c5e7430e1b2d7,skip_validations,# comma separated list of skipped validations skiplist_validations: '' ,,41,17
openstack%2Fopenstack-ansible-os_heat~master~I55c5c8b9806188f246af9f2e89afe4a2d1b38b3c,openstack/openstack-ansible-os_heat,master,I55c5c8b9806188f246af9f2e89afe4a2d1b38b3c,Fix _service_users for multi-domain deployments,MERGED,2021-06-04 10:17:02.000000000,2021-06-08 00:07:48.000000000,2021-06-08 00:06:40.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-04 10:17:02.000000000', 'files': ['tasks/heat_service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/f1e08dab1bf3f02d030925514b6b65fc56c0b10e', 'message': 'Fix _service_users for multi-domain deployments\n\nDeployment can fail if an user with name defined in _service_users exists in more than 1 domain(Multiple matches found for <username>). To avoid these errors we need to explicitly define domain in _service_users\n\nChange-Id: I55c5c8b9806188f246af9f2e89afe4a2d1b38b3c\n'}]",0,794770,f1e08dab1bf3f02d030925514b6b65fc56c0b10e,12,3,1,32666,,,0,"Fix _service_users for multi-domain deployments

Deployment can fail if an user with name defined in _service_users exists in more than 1 domain(Multiple matches found for <username>). To avoid these errors we need to explicitly define domain in _service_users

Change-Id: I55c5c8b9806188f246af9f2e89afe4a2d1b38b3c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/70/794770/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/heat_service_setup.yml'],1,f1e08dab1bf3f02d030925514b6b65fc56c0b10e,," domain: ""{{ heat_service_user_domain_id }}"" domain: ""{{ heat_service_user_domain_id }}""",,2,0
openstack%2Fkayobe~master~I608c0362e6eeea65ffafb32cda5c19ccb6ec8b5c,openstack/kayobe,master,I608c0362e6eeea65ffafb32cda5c19ccb6ec8b5c,Fix container image builds,MERGED,2021-06-03 14:25:32.000000000,2021-06-08 00:00:22.000000000,2021-06-07 23:59:03.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-03 14:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/47eaed441fa72482dd966cc6045fb0b149debcb5', 'message': 'Fix container image builds\n\nContainer image builds broken due to disabling docker iptables\nmanagement in\nhttps://review.opendev.org/c/openstack/kolla-ansible/+/751795. This\naffects Wallaby and later.\n\nThis patch configures kolla-build to use network_mode=host.\n\nChange-Id: I608c0362e6eeea65ffafb32cda5c19ccb6ec8b5c\nStory: 2008942\nTask: 42560\n'}, {'number': 2, 'created': '2021-06-07 15:18:53.000000000', 'files': ['releasenotes/notes/kolla-build-network-mode-ba92e36d52e70d99.yaml', 'ansible/roles/kolla-build/templates/kolla-build.conf.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9c8f74993d63d73dfead6d1edb2b2827ae0e71bf', 'message': 'Fix container image builds\n\nContainer image builds broken due to disabling docker iptables\nmanagement in\nhttps://review.opendev.org/c/openstack/kolla-ansible/+/751795. This\naffects Wallaby and later.\n\nThis patch configures kolla-build to use network_mode=host.\n\nChange-Id: I608c0362e6eeea65ffafb32cda5c19ccb6ec8b5c\nStory: 2008942\nTask: 42560\n'}]",0,794599,9c8f74993d63d73dfead6d1edb2b2827ae0e71bf,17,4,2,14826,,,0,"Fix container image builds

Container image builds broken due to disabling docker iptables
management in
https://review.opendev.org/c/openstack/kolla-ansible/+/751795. This
affects Wallaby and later.

This patch configures kolla-build to use network_mode=host.

Change-Id: I608c0362e6eeea65ffafb32cda5c19ccb6ec8b5c
Story: 2008942
Task: 42560
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/99/794599/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/kolla-build-network-mode-ba92e36d52e70d99.yaml', 'ansible/roles/kolla-build/templates/kolla-build.conf.j2']",2,47eaed441fa72482dd966cc6045fb0b149debcb5,,"# Use host networking by default, in line with Kolla Ansible's default Docker # engine configuration. network_mode=host ",,10,0
openstack%2Ftripleo-ansible~master~I5f15e26332d2b8b1e53539d58fe095997f3151c9,openstack/tripleo-ansible,master,I5f15e26332d2b8b1e53539d58fe095997f3151c9,Bump molecule to fix testing,MERGED,2021-06-07 18:40:23.000000000,2021-06-07 23:33:16.000000000,2021-06-07 23:31:48.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 18:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a306aac6926c54d0a14ba3ed9ec121269f2e5fbe', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n'}, {'number': 2, 'created': '2021-06-07 19:09:34.000000000', 'files': ['molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d66f3c80e6593ca9516655970d09d58b1050407e', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n'}]",0,795168,d66f3c80e6593ca9516655970d09d58b1050407e,11,3,2,14985,,,0,"Bump molecule to fix testing

We need to bump molecule so that we actually test proposed patches in
CI. Also pull in the podman plugin.

https://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508

Change-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/68/795168/1 && git format-patch -1 --stdout FETCH_HEAD,['molecule-requirements.txt'],1,a306aac6926c54d0a14ba3ed9ec121269f2e5fbe,bump-molecule,"molecule>=3.3.4,<3.4","molecule>=3.0,<3.1",1,1
openstack%2Ftripleo-common~stable%2Fussuri~Ia0baf8501884d9ed2324938c9acbb30d1687cf27,openstack/tripleo-common,stable/ussuri,Ia0baf8501884d9ed2324938c9acbb30d1687cf27,Fix config parsing in memcached healthcheck,MERGED,2021-06-04 08:17:25.000000000,2021-06-07 23:33:00.000000000,2021-06-07 23:31:44.000000000,"[{'_account_id': 11491}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 08:17:25.000000000', 'files': ['healthcheck/memcached'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/833ef486d65a3ffe9886c2a605c68bce3130577c', 'message': 'Fix config parsing in memcached healthcheck\n\nWhen memcached is configured to listen on multiple IP, or\nis configured with TLS-e, make sure the healthcheck parses\nthe right IP to connect to and its associated port.\n\nChange-Id: Ia0baf8501884d9ed2324938c9acbb30d1687cf27\nCloses-Bug: #1929881\n(cherry picked from commit 3f84495b8f8dc0a20148dfa8eaaa22d750ada39d)\n'}]",0,794734,833ef486d65a3ffe9886c2a605c68bce3130577c,14,4,1,20778,,,0,"Fix config parsing in memcached healthcheck

When memcached is configured to listen on multiple IP, or
is configured with TLS-e, make sure the healthcheck parses
the right IP to connect to and its associated port.

Change-Id: Ia0baf8501884d9ed2324938c9acbb30d1687cf27
Closes-Bug: #1929881
(cherry picked from commit 3f84495b8f8dc0a20148dfa8eaaa22d750ada39d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/34/794734/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/memcached'],1,833ef486d65a3ffe9886c2a605c68bce3130577c,bug/1929881-stable/ussuri,"# if memcached has TLS enabled, look for a notls ip entry in the options listen_addr=$(awk 'match($0, /notls:([0-9a-fA-F\.\:]+):11211[, ]/, a) {print a[1]}' /etc/sysconfig/memcached) if [ -z ""$listen_addr"" ]; then # otherwise look for the first ip available among all the possible ones # passed to the -l option listen_addr=$(awk 'match($0, /-l +([0-9a-fA-F\.\:]+)[, ]/, a) {print a[1]}' /etc/sysconfig/memcached) # get the configured memcached port or the default one port=$(awk -F= '$1==""PORT"" {gsub(/""/, """",$2); print $2}' /etc/sysconfig/memcached) port=${port:-11211} else # with TLS-e, TripleO always exposes the notls IP on port 11211 port=11211 fi listen_addr=$(wrap_ipv6 $listen_addr) echo ""version"" | socat - TCP:$listen_addr:$port 1>/dev/null","listen_addr=$(wrap_ipv6 $(awk 'match($0, /-l +([0-9a-fA-F\.\:]+) /, a) {print a[1]}' /etc/sysconfig/memcached)) echo ""version"" | socat - TCP:$listen_addr:11211 1>/dev/null",16,2
openstack%2Fmonasca-api~master~I9f43416f6f1121b39518555ccaa2a4d5452fea91,openstack/monasca-api,master,I9f43416f6f1121b39518555ccaa2a4d5452fea91,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 07:10:54.000000000,2021-06-07 22:28:43.000000000,2021-06-07 22:27:21.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-05-14 07:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/284059a8319af7358f1e1c1d285a68f3bd9e21e5', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I9f43416f6f1121b39518555ccaa2a4d5452fea91\n""}, {'number': 2, 'created': '2021-06-07 20:35:03.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/3d43cbec0f73ccfcb3ac43d03d710e71dda68553', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I9f43416f6f1121b39518555ccaa2a4d5452fea91\n""}]",0,791377,3d43cbec0f73ccfcb3ac43d03d710e71dda68553,9,2,2,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I9f43416f6f1121b39518555ccaa2a4d5452fea91
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/77/791377/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,284059a8319af7358f1e1c1d285a68f3bd9e21e5,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/monasca-api/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/monasca-api/latest/ python-requires = >=3.6,4,4
openstack%2Fproject-config~master~Ib852eac630f5aedcb4cd1d240fee63405d50188e,openstack/project-config,master,Ib852eac630f5aedcb4cd1d240fee63405d50188e,Remove publish-irc-meetings job,MERGED,2021-06-02 03:46:06.000000000,2021-06-07 22:20:22.000000000,2021-06-07 22:20:22.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 03:46:06.000000000', 'files': ['playbooks/yaml2ical/pre.yaml', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml', 'playbooks/yaml2ical/post.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/aaf59df62803c973181a229744b3283fe289ec24', 'message': 'Remove publish-irc-meetings job\n\nThe irc-meetings are now published to AFS\n(I6f3a9970d907f2ae1420e1523cdf8a7c50647235) and served statically from\nthere.\n\nDepends-On: https://review.opendev.org/c/opendev/system-config/+/794089\nChange-Id: Ib852eac630f5aedcb4cd1d240fee63405d50188e\n'}]",0,794091,aaf59df62803c973181a229744b3283fe289ec24,8,3,1,7118,,,0,"Remove publish-irc-meetings job

The irc-meetings are now published to AFS
(I6f3a9970d907f2ae1420e1523cdf8a7c50647235) and served statically from
there.

Depends-On: https://review.opendev.org/c/opendev/system-config/+/794089
Change-Id: Ib852eac630f5aedcb4cd1d240fee63405d50188e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/91/794091/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/yaml2ical/pre.yaml', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml', 'playbooks/yaml2ical/post.yaml']",4,aaf59df62803c973181a229744b3283fe289ec24,yaml2ical-afs,,"- hosts: all tasks: - name: Collect yaml2ical output synchronize: dest: ""{{ zuul.executor.work_root }}/yaml2ical"" mode: pull src: ""{{ zuul.projects['opendev.org/opendev/irc-meetings'].src_dir }}/output/"" verify_host: true - hosts: localhost tasks: - name: Add eavesdrop.o.o to inventory add_host: name: eavesdrop.openstack.org ansible_python_interpreter: python3 ansible_user: zuul - hosts: localhost tasks: - name: Add eavesdrop.o.o hostkey to known hosts known_hosts: name: eavesdrop.openstack.org key: ""eavesdrop.openstack.org ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDldndjk19Adb9KJECZrR5UdZc/h1kbpO8UlxC1a12Sh3LcIQPUW+VUPvzqne2mV27E75phI7CFW60xrS1f6YM8Yxb36541x26OZMeMU1XitACvrbXXUCgws+a8ikoCqNnqkIA/ObLXnCb2gX2yvRTndbNXbCZmvHyoQ2TDN3J9irRoWU42N56O6Pw4BHJ9h/mwAWFDvxmUxVaHivg9gA5ytXn1dgw5tJo1SoX97gajQ6CfbRThfXrqNlJyLHT/+FlW+JFqyRmsuH1Nu7tXD73uXKe4nm+K0Sum289jhHaVO1BNu6TIguQOR2o5psBE//u4DzhpEEdrgIe1v80fx51P"" - hosts: eavesdrop.openstack.org gather_facts: False tasks: - name: Upload index files copy: src: ""{{ zuul.executor.work_root }}/yaml2ical/{{ item }}"" dest: ""/srv/yaml2ical/{{ item }}"" with_items: - index.html - irc-meetings.ical - name: Copy calendars synchronize: src: ""{{ zuul.executor.work_root }}/yaml2ical/calendars/"" dest: ""/srv/yaml2ical/calendars"" ",0,62
openstack%2Frequirements~stable%2Ftrain~I3be40702110255f181351f08537284234d9f0673,openstack/requirements,stable/train,I3be40702110255f181351f08537284234d9f0673,update constraint for keystoneauth1 to new release 3.17.4,MERGED,2021-06-07 12:42:51.000000000,2021-06-07 22:14:13.000000000,2021-06-07 22:14:13.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-07 12:42:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9874f188560ba932c7fadc185caf8da3ed75b17f', 'message': 'update constraint for keystoneauth1 to new release 3.17.4\n\nmeta: version: 3.17.4\nmeta: diff-start: -\nmeta: series: train\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Kristi Nikolla <kristi@nikolla.me>\nmeta: release:Commit: Kristi Nikolla <kristi@nikolla.me>\nmeta: release:Change-Id: I7d1082a517e7b74c28ece8a54c7cc42268144321\nmeta: release:Code-Review+1: Kristi Nikolla <knikolla@bu.edu>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I3be40702110255f181351f08537284234d9f0673\n'}]",0,795097,9874f188560ba932c7fadc185caf8da3ed75b17f,7,3,1,11131,,,0,"update constraint for keystoneauth1 to new release 3.17.4

meta: version: 3.17.4
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Kristi Nikolla <kristi@nikolla.me>
meta: release:Commit: Kristi Nikolla <kristi@nikolla.me>
meta: release:Change-Id: I7d1082a517e7b74c28ece8a54c7cc42268144321
meta: release:Code-Review+1: Kristi Nikolla <knikolla@bu.edu>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I3be40702110255f181351f08537284234d9f0673
",git fetch https://review.opendev.org/openstack/requirements refs/changes/97/795097/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9874f188560ba932c7fadc185caf8da3ed75b17f,new-release,keystoneauth1===3.17.4,keystoneauth1===3.17.3,1,1
openstack%2Fopenstack-helm-infra~master~Iec94b7bd1a5bf413fa22d6e392645d76257a542f,openstack/openstack-helm-infra,master,Iec94b7bd1a5bf413fa22d6e392645d76257a542f,rabbitmq: Add TLS support to rabbitmq prometheus exporter,ABANDONED,2021-06-01 18:00:02.000000000,2021-06-07 22:02:41.000000000,,"[{'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 19391}, {'_account_id': 22348}, {'_account_id': 29651}, {'_account_id': 30495}, {'_account_id': 30746}, {'_account_id': 33282}]","[{'number': 1, 'created': '2021-06-01 18:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d0c65eb1967998f78bebdf15e6040b8af2404f3a', 'message': 'rabbitmq: Add TLS support to rabbitmq prometheus exporter\n\nChange-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f\n'}, {'number': 2, 'created': '2021-06-01 18:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4dfec4d1b3ded5cf1c00e62860899d0e7981b72e', 'message': 'rabbitmq: Add TLS support to rabbitmq prometheus exporter\n\nChange-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f\n'}, {'number': 3, 'created': '2021-06-01 18:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/00834530cd3944abac248e5eed224af5cbb6a9fd', 'message': 'rabbitmq: Add TLS support to rabbitmq prometheus exporter\n\nChange-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f\n'}, {'number': 4, 'created': '2021-06-02 16:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/564c636e90de70ab922e95cc8c4411aa88b39870', 'message': 'rabbitmq: Add TLS support to rabbitmq prometheus exporter\n\nChange-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f\n'}, {'number': 5, 'created': '2021-06-02 17:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d15b9073d24454f3f23c6c1c4beb5dc8ef72d603', 'message': 'rabbitmq: Add TLS support to rabbitmq prometheus exporter\n\nChange-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f\n'}, {'number': 6, 'created': '2021-06-02 17:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fd7fdda1304db057a3b67a1fdbab93ce88609ba0', 'message': 'rabbitmq: Add TLS support to rabbitmq prometheus exporter\n\nChange-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f\n'}, {'number': 7, 'created': '2021-06-02 18:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b9036912956e63b40bfb64e7db8a90c801e52400', 'message': 'rabbitmq: Add TLS support to rabbitmq prometheus exporter\n\nChange-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f\n'}, {'number': 8, 'created': '2021-06-02 19:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6c7080f601fe94fbe1132fe5b5b9398f1c9a47b5', 'message': 'rabbitmq: Add TLS support to rabbitmq prometheus exporter\n\nChange-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f\n'}, {'number': 9, 'created': '2021-06-02 22:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/515f1fe0376189def9c052ced23bbc3264dd82c6', 'message': 'rabbitmq: Add TLS support to rabbitmq prometheus exporter\n\nChange-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f\n'}, {'number': 10, 'created': '2021-06-03 04:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2a8bc45257fec348e4507bc437b4700865dcd2b5', 'message': 'rabbitmq: Add TLS support to rabbitmq prometheus exporter\n\nChange-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f\n'}, {'number': 11, 'created': '2021-06-03 05:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/61354219d1ebe1705533b97df25c8e0422a5f96c', 'message': 'rabbitmq: Add TLS support to rabbitmq prometheus exporter\n\nChange-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f\n'}, {'number': 12, 'created': '2021-06-03 05:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/14053f8c31a4c4209a7a3ce8f6e93ca11a8ef8d4', 'message': 'rabbitmq: Add TLS support to rabbitmq prometheus exporter\n\nChange-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f\n'}, {'number': 13, 'created': '2021-06-03 20:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d0a06f198111a4d7e65376da6eff1d7ecbce0996', 'message': 'rabbitmq: Add TLS support to rabbitmq prometheus exporter\n\nChange-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f\n'}, {'number': 14, 'created': '2021-06-03 21:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8159bbddb665a6447c75483ddb6bc7d10ec5f83b', 'message': 'rabbitmq: Add TLS support to rabbitmq prometheus exporter\n\nChange-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f\n'}, {'number': 15, 'created': '2021-06-03 23:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b17f7248c76c51308e8a5e0dce3483ae0a33dd84', 'message': 'rabbitmq: Add TLS support to rabbitmq prometheus exporter\n\nChange-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f\n'}, {'number': 16, 'created': '2021-06-04 03:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/de42ab7a99fcf8603237b1cae0c01273df60c1e8', 'message': 'rabbitmq: Add TLS support to rabbitmq prometheus exporter\n\nChange-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f\n'}, {'number': 17, 'created': '2021-06-04 04:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b3e7c08cc06f2a010e0b67f4a9ee2d8de0ce2210', 'message': 'rabbitmq: Add TLS support to rabbitmq prometheus exporter\n\nChange-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f\n'}, {'number': 18, 'created': '2021-06-04 16:16:26.000000000', 'files': ['rabbitmq/values_overrides/tls.yaml', 'rabbitmq/templates/monitoring/prometheus/exporter-deployment.yaml', 'releasenotes/notes/rabbitmq.yaml', 'rabbitmq/Chart.yaml', 'rabbitmq/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a96a5be80aec47c5dbee022a412c3ec7b92d3ab8', 'message': 'rabbitmq: Add TLS support to rabbitmq prometheus exporter\n\nChange-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f\n'}]",9,794018,a96a5be80aec47c5dbee022a412c3ec7b92d3ab8,47,8,18,24780,,,0,"rabbitmq: Add TLS support to rabbitmq prometheus exporter

Change-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/18/794018/11 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq/templates/monitoring/prometheus/exporter-deployment.yaml'],1,d0c65eb1967998f78bebdf15e6040b8af2404f3a,test-exporter,"{{- if $envAll.Values.manifests.certificates }} value: https://{{ tuple ""oslo_messaging"" ""internal"" . | include ""helm-toolkit.endpoints.hostname_fqdn_endpoint_lookup"" }}:15672 {{- else }}{{- end }}{{- if $envAll.Values.manifests.certificates }} - name: CAFILE value: ""/etc/rabbitmq/certs/ca.crt"" - name: CERTFILE value: ""/etc/rabbitmq/certs/tls.crt"" - name: KEYFILE value: ""/etc/rabbitmq/certs/tls.key"" volumeMounts: {{- dict ""enabled"" .Values.manifests.certificates ""name"" .Values.secrets.tls.oslo_messaging.server.internal ""path"" ""/etc/rabbitmq/certs"" | include ""helm-toolkit.snippets.tls_volume_mount"" | indent 12 }} volumes: {{- dict ""enabled"" .Values.manifests.certificates ""name"" .Values.secrets.tls.oslo_messaging.server.internal | include ""helm-toolkit.snippets.tls_volume"" | indent 8 }} {{- end }} ",,18,0
openstack%2Fopenstack-helm-infra~master~I777d67fb16a5b3b1ebd38e850cb57cbeb0a4a1a2,openstack/openstack-helm-infra,master,I777d67fb16a5b3b1ebd38e850cb57cbeb0a4a1a2,rabbitmq: Add TLS support to rabbitmq prometheus exporter,ABANDONED,2021-06-04 18:24:27.000000000,2021-06-07 21:56:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-04 18:24:27.000000000', 'files': ['rabbitmq/values_overrides/tls.yaml', 'rabbitmq/templates/monitoring/prometheus/exporter-deployment.yaml', 'rabbitmq/templates/service.yaml', 'rabbitmq/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1fd632fd557b138930281cd3aa393de73180c8a6', 'message': 'rabbitmq: Add TLS support to rabbitmq prometheus exporter\n\nChange-Id: I777d67fb16a5b3b1ebd38e850cb57cbeb0a4a1a2\n'}]",0,794875,1fd632fd557b138930281cd3aa393de73180c8a6,4,1,1,24780,,,0,"rabbitmq: Add TLS support to rabbitmq prometheus exporter

Change-Id: I777d67fb16a5b3b1ebd38e850cb57cbeb0a4a1a2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/75/794875/1 && git format-patch -1 --stdout FETCH_HEAD,"['rabbitmq/values_overrides/tls.yaml', 'rabbitmq/templates/monitoring/prometheus/exporter-deployment.yaml', 'rabbitmq/templates/service.yaml', 'rabbitmq/values.yaml']",4,1fd632fd557b138930281cd3aa393de73180c8a6,, https: default: 15680 public: 443,,20,5
openstack%2Fnova~master~I7f2b6330decb92e2838aa7cee47fb228f00f47da,openstack/nova,master,I7f2b6330decb92e2838aa7cee47fb228f00f47da,Replace blind retry with libvirt event waiting in detach,MERGED,2021-01-12 08:36:24.000000000,2021-06-07 21:49:56.000000000,2021-04-21 12:59:40.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 08:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a28a4b43e09a174c15b41d8e1b48793bd2b12a1c', 'message': 'DNM try to replace retry with libvirt event in detach\n\nSee comments in the code about the status of the impl\n\nQuestions:\n* what to do with synchronous errors from libvirt? retry?\n* what to do with asynch error from libvirt? just fail?\n* what could be the good ID to match incoming event to waiters?\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n'}, {'number': 2, 'created': '2021-01-12 15:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1bce9297416de616fc0aaa00383d12e16318928b', 'message': 'DNM try to replace retry with libvirt event in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device.\n\nWhen a device (disk or interface) is detached from a guest libvirt emits\nan event [1].\n\nThis patch changes the libvirt driver to instead of periodically\nretrying the device detach only send the detach request once and then\nwait for the libvirt event about the finish of the detach process.\n\nThere are some open questions regarding this implementation in\ncomparison with the original retry based impl:\n* what to do with synchronous errors from libvirt? retry?\n* what to do with asynch error from libvirt? (ie when\n  VIR_DOMAIN_EVENT_ID_DEVICE_REMOVAL_FAILED event is received) just fail?\n* is it OK to ignore the error if the event is not received within 60\n  seconds? The original code ignored the error if run out of retry\n  attempts.\n* there was two detach attempts in the original code if the domain had  both\n  live and persistent configs. It was implemented by retrying the detach. The\n  current code has no such logic. Is it OK to simply send one single\n  detach request regardless of the domain being persistent && live?\n\nTODO:\n* resolve the above questions\n* do internal memory cleanup when a guest is destroyed\n* add unit test coverage\n* remove unused old code\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n'}, {'number': 3, 'created': '2021-01-13 16:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bbdce57609bfdfa0902744f492deca3da42ebed5', 'message': 'DNM try to replace retry with libvirt event in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device.\n\nWhen a device (disk or interface) is detached from a guest libvirt emits\nan event [1].\n\nThis patch changes the libvirt driver to instead of periodically\nretrying the device detach only send the detach request once and then\nwait for the libvirt event about the finish of the detach process.\n\nThere are some open questions regarding this implementation in\ncomparison with the original retry based impl:\n* what to do with synchronous errors from libvirt? retry?\n* what to do with asynch error from libvirt? (ie when\n  VIR_DOMAIN_EVENT_ID_DEVICE_REMOVAL_FAILED event is received) just fail?\n* is it OK to ignore the error if the event is not received within 60\n  seconds? The original code ignored the error if run out of retry\n  attempts.\n* there was two detach attempts in the original code if the domain had  both\n  live and persistent configs. It was implemented by retrying the detach. The\n  current code has no such logic. Is it OK to simply send one single\n  detach request regardless of the domain being persistent && live?\n\nTODO:\n* resolve the above questions\n* do internal memory cleanup when a guest is destroyed\n* add unit test coverage\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n'}, {'number': 4, 'created': '2021-01-14 15:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23b6fcbed537c1fe2cc34a893e6c112644dd786a', 'message': ""DNM try to replace retry with libvirt event in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device.\n\nWhen a device (disk or interface) is detached from a guest libvirt emits\nan event [1].\n\nThis patch changes the libvirt driver to instead of periodically\nretrying the device detach only send the detach request once and then\nwait for the libvirt event about the finish of the detach process.\n\nIf detach in libvirt fails synchronously saying that the device is not\nfound and we have both a persistent domain and a live domain then the\ndetach is retriggered on the live domain only.\n\nIf the detach fails asynchronosly by receiving a\nDeviceRemovalFailedEvent instead of a DeviceRemovedEvent or for any\nother reason the device is still exists in the domain after the async\nevent then the detach will be retriggered.\n\nAfter 7 retries (same amount as in the baseline) the libvirt driver\ngives up.\n\nTODO:\n* implement retry\n* make sure that the nova timeout value is bigger than the libvirt's\n  timeout value for the detach event\n* do internal memory cleanup when a guest is destroyed\n* add unit test coverage\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n""}, {'number': 5, 'created': '2021-01-15 13:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fd40a1ee1a033f4d19a8901b19258727d1dcd82', 'message': ""DNM try to replace retry with libvirt event in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device.\n\nWhen a device (disk or interface) is detached from a guest libvirt emits\nan event [1].\n\nThis patch changes the libvirt driver to instead of periodically\nretrying the device detach only send the detach request once and then\nwait for the libvirt event about the finish of the detach process.\n\nIf detach in libvirt fails synchronously saying that the device is not\nfound and we have both a persistent domain and a live domain then the\ndetach is retriggered on the live domain only.\n\nIf the detach fails asynchronosly by receiving a\nDeviceRemovalFailedEvent instead of a DeviceRemovedEvent or for any\nother reason the device is still exists in the domain after the async\nevent then the detach will be retriggered as well.\n\nAfter 7 retries (same amount as in the baseline) the libvirt driver\ngives up.\n\nTODO:\n* implement retry\n* make sure that the nova timeout value is bigger than the libvirt's\n  timeout value for the detach event\n* do internal memory cleanup when a guest is destroyed\n* add unit test coverage\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n""}, {'number': 6, 'created': '2021-01-17 08:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f31a736a6ec4ca300200b1c686c3568cc1bd008e', 'message': ""Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device.\n\nWhen a device (disk or interface) is detached from a guest libvirt emits\nan event [1].\n\nThis patch changes the libvirt driver to instead of periodically\nretrying the device detach only send the detach request once and then\nwait for the libvirt event about the finish of the detach process.\n\nIf detach in libvirt fails synchronously saying that the device is not\nfound and we have both a persistent domain and a live domain then the\ndetach is retriggered on the live domain only.\n\nIf the detach fails asynchronosly by receiving a\nDeviceRemovalFailedEvent instead of a DeviceRemovedEvent or for any\nother reason the device is still exists in the domain after the async\nevent then the detach will be retriggered as well.\n\nIf the libvirt event is not received within a predefined time then the\ndetach will be retriggered too. We make sure that the our timeout value\nis bigger than the timeout in libvirt so we only retry the detach when\nlibvirt is already give it up.\n\nAfter 8 tries (same amount as in the baseline) the libvirt driver\ngives up.\n\nTODO:\n* make sure that the nova timeout value is bigger than the libvirt's\n  timeout value for the detach event\n* do internal memory cleanup when a guest is destroyed\n* add unit test coverage\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n""}, {'number': 7, 'created': '2021-01-17 11:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03d6c0e1f02ee0517a2cce946c91e03f1e794156', 'message': ""Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device.\n\nWhen a device (disk or interface) is detached from a guest libvirt emits\nan event [1].\n\nThis patch changes the libvirt driver to instead of periodically\nretrying the device detach only send the detach request once and then\nwait for the libvirt event about the finish of the detach process.\n\nIf detach in libvirt fails synchronously saying that the device is not\nfound and we have both a persistent domain and a live domain then the\ndetach is retriggered on the live domain only.\n\nIf the detach fails asynchronosly by receiving a\nDeviceRemovalFailedEvent instead of a DeviceRemovedEvent or for any\nother reason the device is still exists in the domain after the async\nevent then the detach will be retriggered as well.\n\nIf the libvirt event is not received within a predefined time then the\ndetach will be retriggered too. We make sure that the our timeout value\nis bigger than the timeout in libvirt so we only retry the detach when\nlibvirt is already give it up.\n\nAfter 8 tries (same amount as in the baseline) the libvirt driver\ngives up.\n\nTODO:\n* make sure that the nova timeout value is bigger than the libvirt's\n  timeout value for the detach event\n* do internal memory cleanup when a guest is destroyed\n* add unit test coverage\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n""}, {'number': 8, 'created': '2021-01-18 16:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fd8504f2238acad14f2d066869270bec2d6b3cb', 'message': ""Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device.\n\nWhen a device (disk or interface) is detached from a guest libvirt emits\nan event [1].\n\nThis patch changes the libvirt driver to instead of periodically\nretrying the device detach only send the detach request once and then\nwait for the libvirt event about the finish of the detach process.\n\nIf detach in libvirt fails synchronously saying that the device is not\nfound and we have both a persistent domain and a live domain then the\ndetach is retriggered on the live domain only.\n\nIf the detach fails asynchronosly by receiving a\nDeviceRemovalFailedEvent instead of a DeviceRemovedEvent or for any\nother reason the device is still exists in the domain after the async\nevent then the detach will be retriggered as well.\n\nIf the libvirt event is not received within a predefined time then the\ndetach will be retriggered too. We make sure that the our timeout value\nis bigger than the timeout in libvirt so we only retry the detach when\nlibvirt is already give it up.\n\nAfter 8 tries (same amount as in the baseline) the libvirt driver\ngives up.\n\nTODO:\n* make sure that the nova timeout value is bigger than the libvirt's\n  timeout value for the detach event\n* do internal memory cleanup when a guest is destroyed\n* add unit test coverage\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n""}, {'number': 9, 'created': '2021-01-19 17:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e17af5813a53411901938e7b74b72e88caf8f68', 'message': ""Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device.\n\nWhen a device (disk or interface) is detached from a guest libvirt emits\nan event [1].\n\nThis patch changes the libvirt driver to instead of periodically\nretrying the device detach only send the detach request once and then\nwait for the libvirt event about the finish of the detach process.\n\nIf detach in libvirt fails synchronously saying that the device is not\nfound and we have both a persistent domain and a live domain then the\ndetach is retriggered on the live domain only.\n\nIf the detach fails asynchronosly by receiving a\nDeviceRemovalFailedEvent instead of a DeviceRemovedEvent or for any\nother reason the device is still exists in the domain after the async\nevent then the detach will be retriggered as well.\n\nIf the libvirt event is not received within a predefined time then the\ndetach will be retriggered too. We make sure that the our timeout value\nis bigger than the timeout in libvirt so we only retry the detach when\nlibvirt is already give it up.\n\nAfter 8 tries (same amount as in the baseline) the libvirt driver\ngives up.\n\nTODO:\n* make sure that the nova timeout value is bigger than the libvirt's\n  timeout value for the detach event\n* treat DeviceRemovalFailedEvent as failure without retry\n* do internal memory cleanup when a guest is destroyed\n* fix existing and add new unit test coverage\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n""}, {'number': 10, 'created': '2021-01-20 17:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/418bfefa42b36f49b12b815d8efc94df81924fb4', 'message': ""Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device.\n\nWhen a device (disk or interface) is detached from a guest libvirt emits\nan event [1].\n\nThis patch changes the libvirt driver to instead of periodically\nretrying the device detach only send the detach request once and then\nwait for the libvirt event about the finish of the detach process.\n\nIf detach in libvirt fails synchronously saying that the device is not\nfound and we have both a persistent domain and a live domain then the\ndetach is retriggered on the live domain only.\n\nIf the detach fails asynchronosly by receiving a\nDeviceRemovalFailedEvent instead of a DeviceRemovedEvent or for any\nother reason the device is still exists in the domain after the async\nevent then the detach will be retriggered as well.\n\nIf the libvirt event is not received within a predefined time then the\ndetach will be retriggered too. We make sure that the our timeout value\nis bigger than the timeout in libvirt so we only retry the detach when\nlibvirt is already give it up.\n\nAfter 8 tries (same amount as in the baseline) the libvirt driver\ngives up.\n\nTODO:\n* make sure that the nova timeout value is bigger than the libvirt's\n  timeout value for the detach event\n* treat DeviceRemovalFailedEvent as failure without retry\n* do internal memory cleanup when a guest is destroyed\n* fix existing and add new unit test coverage\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n""}, {'number': 11, 'created': '2021-01-21 15:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/409e8368759962919d757a267f52804ac0943185', 'message': ""Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device.\n\nWhen a device (disk or interface) is detached from a guest libvirt emits\nan event [1].\n\nThis patch changes the libvirt driver to instead of periodically\nretrying the device detach only send the detach request once and then\nwait for the libvirt event about the finish of the detach process.\n\nIf detach in libvirt fails synchronously saying that the device is not\nfound and we have both a persistent domain and a live domain then the\ndetach is retriggered on the live domain only.\n\nIf the detach fails asynchronosly by receiving a\nDeviceRemovalFailedEvent instead of a DeviceRemovedEvent or for any\nother reason the device is still exists in the domain after the async\nevent then the detach will be retriggered as well.\n\nIf the libvirt event is not received within a predefined time then the\ndetach will be retriggered too. We make sure that the our timeout value\nis bigger than the timeout in libvirt so we only retry the detach when\nlibvirt is already give it up.\n\nAfter 8 tries (same amount as in the baseline) the libvirt driver\ngives up.\n\nAlso this patch makes the detach from the persistent domain and from the\nlive domain explicitly independent. This makes the error cases simpler\nand makes event handling to be done only for live detach where\nlibvirt implemented the event sending.\n\nTODO:\n* make sure that the nova timeout value is bigger than the libvirt's\n  timeout value for the detach event\n* treat DeviceRemovalFailedEvent as failure without retry\n* do internal memory cleanup when a guest is destroyed\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n""}, {'number': 12, 'created': '2021-01-22 18:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5073577e40590e50dab17c9a3406a2aab5e2c26', 'message': ""Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device.\n\nAlso if there was both a persistent and a lvie domain the nova tried the\ndetach from both at the same call. This lead to confusion about the\nresult when such call failed. Was the detach failed partially?\n\nWe can do better, at least for the live detach case. Based on the\nlibvirt developers detaching from the persistent domain always\nsucceeds and it is a synchronous process. Detaching from the live\ndomain can be both synchronous or asynchronous depending on the guest\nOS and the load on the hypervisor. But for live detach libvirt always\nsends an event [1] nova can wait for.\n\nSo this patch does two things.\n\n1) Separates the detach from the persistent domain from the detach from\n   the live domain to make the error cases clearer.\n\n2) Changes the retry mechanism.\n\n   Detaching from the persistent domain is not retried. If libvirt\n   reports device not found, while both persistent and live detach\n   is needed, the error is ignored, and the process continues with\n   the live detach. In any other case the error considered as fatal.\n\n   Detaching from the live domain is changed to always wait for the\n   libvirt event. In case of timeout, the live detach is retried.\n   But a failure event from libvirt considered fatal, based on the\n   information from the libvirt developers, so in this case the\n   detach is not retried.\n\nTODO:\n* make sure that the nova timeout value is bigger than the libvirt's\n  timeout value for the detach event\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n""}, {'number': 13, 'created': '2021-01-25 15:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c9916724e273a3188e066c0db5b565b0b13c62f', 'message': ""Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device.\n\nAlso if there was both a persistent and a lvie domain the nova tried the\ndetach from both at the same call. This lead to confusion about the\nresult when such call failed. Was the detach failed partially?\n\nWe can do better, at least for the live detach case. Based on the\nlibvirt developers detaching from the persistent domain always\nsucceeds and it is a synchronous process. Detaching from the live\ndomain can be both synchronous or asynchronous depending on the guest\nOS and the load on the hypervisor. But for live detach libvirt always\nsends an event [1] nova can wait for.\n\nSo this patch does two things.\n\n1) Separates the detach from the persistent domain from the detach from\n   the live domain to make the error cases clearer.\n\n2) Changes the retry mechanism.\n\n   Detaching from the persistent domain is not retried. If libvirt\n   reports device not found, while both persistent and live detach\n   is needed, the error is ignored, and the process continues with\n   the live detach. In any other case the error considered as fatal.\n\n   Detaching from the live domain is changed to always wait for the\n   libvirt event. In case of timeout, the live detach is retried.\n   But a failure event from libvirt considered fatal, based on the\n   information from the libvirt developers, so in this case the\n   detach is not retried.\n\nTODO:\n* make sure that the nova timeout value is bigger than the libvirt's\n  timeout value for the detach event\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n""}, {'number': 14, 'created': '2021-01-25 17:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8739b34dda56cccfa02b369a6807c05611f44eb3', 'message': ""Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device.\n\nAlso if there was both a persistent and a lvie domain the nova tried the\ndetach from both at the same call. This lead to confusion about the\nresult when such call failed. Was the detach failed partially?\n\nWe can do better, at least for the live detach case. Based on the\nlibvirt developers detaching from the persistent domain always\nsucceeds and it is a synchronous process. Detaching from the live\ndomain can be both synchronous or asynchronous depending on the guest\nOS and the load on the hypervisor. But for live detach libvirt always\nsends an event [1] nova can wait for.\n\nSo this patch does two things.\n\n1) Separates the detach from the persistent domain from the detach from\n   the live domain to make the error cases clearer.\n\n2) Changes the retry mechanism.\n\n   Detaching from the persistent domain is not retried. If libvirt\n   reports device not found, while both persistent and live detach\n   is needed, the error is ignored, and the process continues with\n   the live detach. In any other case the error considered as fatal.\n\n   Detaching from the live domain is changed to always wait for the\n   libvirt event. In case of timeout, the live detach is retried.\n   But a failure event from libvirt considered fatal, based on the\n   information from the libvirt developers, so in this case the\n   detach is not retried.\n\nTODO:\n* make sure that the nova timeout value is bigger than the libvirt's\n  timeout value for the detach event\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n""}, {'number': 15, 'created': '2021-01-25 17:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0f2e819c3c9e6a78206c7161395d4b24e390387', 'message': ""Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device.\n\nAlso if there was both a persistent and a lvie domain the nova tried the\ndetach from both at the same call. This lead to confusion about the\nresult when such call failed. Was the detach failed partially?\n\nWe can do better, at least for the live detach case. Based on the\nlibvirt developers detaching from the persistent domain always\nsucceeds and it is a synchronous process. Detaching from the live\ndomain can be both synchronous or asynchronous depending on the guest\nOS and the load on the hypervisor. But for live detach libvirt always\nsends an event [1] nova can wait for.\n\nSo this patch does two things.\n\n1) Separates the detach from the persistent domain from the detach from\n   the live domain to make the error cases clearer.\n\n2) Changes the retry mechanism.\n\n   Detaching from the persistent domain is not retried. If libvirt\n   reports device not found, while both persistent and live detach\n   is needed, the error is ignored, and the process continues with\n   the live detach. In any other case the error considered as fatal.\n\n   Detaching from the live domain is changed to always wait for the\n   libvirt event. In case of timeout, the live detach is retried.\n   But a failure event from libvirt considered fatal, based on the\n   information from the libvirt developers, so in this case the\n   detach is not retried.\n\nTODO:\n* make sure that the nova timeout value is bigger than the libvirt's\n  timeout value for the detach event\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n""}, {'number': 16, 'created': '2021-01-26 17:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60142cb7777506a81e4712d1cbfd7cb08cb77762', 'message': ""Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device.\n\nAlso if there was both a persistent and a lvie domain the nova tried the\ndetach from both at the same call. This lead to confusion about the\nresult when such call failed. Was the detach failed partially?\n\nWe can do better, at least for the live detach case. Based on the\nlibvirt developers detaching from the persistent domain always\nsucceeds and it is a synchronous process. Detaching from the live\ndomain can be both synchronous or asynchronous depending on the guest\nOS and the load on the hypervisor. But for live detach libvirt always\nsends an event [1] nova can wait for.\n\nSo this patch does two things.\n\n1) Separates the detach from the persistent domain from the detach from\n   the live domain to make the error cases clearer.\n\n2) Changes the retry mechanism.\n\n   Detaching from the persistent domain is not retried. If libvirt\n   reports device not found, while both persistent and live detach\n   is needed, the error is ignored, and the process continues with\n   the live detach. In any other case the error considered as fatal.\n\n   Detaching from the live domain is changed to always wait for the\n   libvirt event. In case of timeout, the live detach is retried.\n   But a failure event from libvirt considered fatal, based on the\n   information from the libvirt developers, so in this case the\n   detach is not retried.\n\nTODO:\n* make sure that the nova timeout value is bigger than the libvirt's\n  timeout value for the detach event\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n""}, {'number': 17, 'created': '2021-01-29 12:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29397519d5c7802421b31dca90a7ee4ee046020c', 'message': ""Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device.\n\nAlso if there was both a persistent and a lvie domain the nova tried the\ndetach from both at the same call. This lead to confusion about the\nresult when such call failed. Was the detach failed partially?\n\nWe can do better, at least for the live detach case. Based on the\nlibvirt developers detaching from the persistent domain always\nsucceeds and it is a synchronous process. Detaching from the live\ndomain can be both synchronous or asynchronous depending on the guest\nOS and the load on the hypervisor. But for live detach libvirt always\nsends an event [1] nova can wait for.\n\nSo this patch does two things.\n\n1) Separates the detach from the persistent domain from the detach from\n   the live domain to make the error cases clearer.\n\n2) Changes the retry mechanism.\n\n   Detaching from the persistent domain is not retried. If libvirt\n   reports device not found, while both persistent and live detach\n   is needed, the error is ignored, and the process continues with\n   the live detach. In any other case the error considered as fatal.\n\n   Detaching from the live domain is changed to always wait for the\n   libvirt event. In case of timeout, the live detach is retried.\n   But a failure event from libvirt considered fatal, based on the\n   information from the libvirt developers, so in this case the\n   detach is not retried.\n\nTODO:\n* make sure that the nova timeout value is bigger than the libvirt's\n  timeout value for the detach event\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n""}, {'number': 18, 'created': '2021-01-29 12:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac45794d9b7a90d6725df678dc46f37debb3cb62', 'message': 'Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device.\n\nAlso if there was both a persistent and a live domain the nova tried the\ndetach from both at the same call. This lead to confusion about the\nresult when such call failed. Was the detach failed partially?\n\nWe can do better, at least for the live detach case. Based on the\nlibvirt developers detaching from the persistent domain always\nsucceeds and it is a synchronous process. Detaching from the live\ndomain can be both synchronous or asynchronous depending on the guest\nOS and the load on the hypervisor. But for live detach libvirt always\nsends an event [1] nova can wait for.\n\nSo this patch does two things.\n\n1) Separates the detach from the persistent domain from the detach from\n   the live domain to make the error cases clearer.\n\n2) Changes the retry mechanism.\n\n   Detaching from the persistent domain is not retried. If libvirt\n   reports device not found, while both persistent and live detach\n   is needed, the error is ignored, and the process continues with\n   the live detach. In any other case the error considered as fatal.\n\n   Detaching from the live domain is changed to always wait for the\n   libvirt event. In case of timeout, the live detach is retried.\n   But a failure event from libvirt considered fatal, based on the\n   information from the libvirt developers, so in this case the\n   detach is not retried.\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n'}, {'number': 19, 'created': '2021-02-08 17:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8bc9ef4ba95d36b9a5efa7806730b899c2207b2', 'message': 'Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device.\n\nAlso if there was both a persistent and a live domain the nova tried the\ndetach from both at the same call. This lead to confusion about the\nresult when such call failed. Was the detach failed partially?\n\nWe can do better, at least for the live detach case. Based on the\nlibvirt developers detaching from the persistent domain always\nsucceeds and it is a synchronous process. Detaching from the live\ndomain can be both synchronous or asynchronous depending on the guest\nOS and the load on the hypervisor. But for live detach libvirt always\nsends an event [1] nova can wait for.\n\nSo this patch does two things.\n\n1) Separates the detach from the persistent domain from the detach from\n   the live domain to make the error cases clearer.\n\n2) Changes the retry mechanism.\n\n   Detaching from the persistent domain is not retried. If libvirt\n   reports device not found, while both persistent and live detach\n   is needed, the error is ignored, and the process continues with\n   the live detach. In any other case the error considered as fatal.\n\n   Detaching from the live domain is changed to always wait for the\n   libvirt event. In case of timeout, the live detach is retried.\n   But a failure event from libvirt considered fatal, based on the\n   information from the libvirt developers, so in this case the\n   detach is not retried.\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n'}, {'number': 20, 'created': '2021-02-22 15:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fbdb64600d8de6993615724d98635abe80f9bf5', 'message': 'Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device. See bug #1882521 for more information.\n\nAlso if there was both a persistent and a live domain the nova tried the\ndetach from both at the same call. This lead to confusion about the\nresult when such call failed. Was the detach failed partially?\n\nWe can do better, at least for the live detach case. Based on the\nlibvirt developers detaching from the persistent domain always\nsucceeds and it is a synchronous process. Detaching from the live\ndomain can be both synchronous or asynchronous depending on the guest\nOS and the load on the hypervisor. But for live detach libvirt always\nsends an event [1] nova can wait for.\n\nSo this patch does two things.\n\n1) Separates the detach from the persistent domain from the detach from\n   the live domain to make the error cases clearer.\n\n2) Changes the retry mechanism.\n\n   Detaching from the persistent domain is not retried. If libvirt\n   reports device not found, while both persistent and live detach\n   is needed, the error is ignored, and the process continues with\n   the live detach. In any other case the error considered as fatal.\n\n   Detaching from the live domain is changed to always wait for the\n   libvirt event. In case of timeout, the live detach is retried.\n   But a failure event from libvirt considered fatal, based on the\n   information from the libvirt developers, so in this case the\n   detach is not retried.\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n'}, {'number': 21, 'created': '2021-03-04 17:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e27f51fdb7873fc39cf93f49838661eed11b1e03', 'message': 'Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device. See bug #1882521 for more information.\n\nAlso if there was both a persistent and a live domain the nova tried the\ndetach from both at the same call. This lead to confusion about the\nresult when such call failed. Was the detach failed partially?\n\nWe can do better, at least for the live detach case. Based on the\nlibvirt developers detaching from the persistent domain always\nsucceeds and it is a synchronous process. Detaching from the live\ndomain can be both synchronous or asynchronous depending on the guest\nOS and the load on the hypervisor. But for live detach libvirt always\nsends an event [1] nova can wait for.\n\nSo this patch does two things.\n\n1) Separates the detach from the persistent domain from the detach from\n   the live domain to make the error cases clearer.\n\n2) Changes the retry mechanism.\n\n   Detaching from the persistent domain is not retried. If libvirt\n   reports device not found, while both persistent and live detach\n   is needed, the error is ignored, and the process continues with\n   the live detach. In any other case the error considered as fatal.\n\n   Detaching from the live domain is changed to always wait for the\n   libvirt event. In case of timeout, the live detach is retried.\n   But a failure event from libvirt considered fatal, based on the\n   information from the libvirt developers, so in this case the\n   detach is not retried.\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n'}, {'number': 22, 'created': '2021-03-04 17:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7a7a16a80c5ddcf290b925afff97cee224d38d9', 'message': 'Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device. See bug #1882521 for more information.\n\nAlso if there was both a persistent and a live domain the nova tried the\ndetach from both at the same call. This lead to confusion about the\nresult when such call failed. Was the detach failed partially?\n\nWe can do better, at least for the live detach case. Based on the\nlibvirt developers detaching from the persistent domain always\nsucceeds and it is a synchronous process. Detaching from the live\ndomain can be both synchronous or asynchronous depending on the guest\nOS and the load on the hypervisor. But for live detach libvirt always\nsends an event [1] nova can wait for.\n\nSo this patch does two things.\n\n1) Separates the detach from the persistent domain from the detach from\n   the live domain to make the error cases clearer.\n\n2) Changes the retry mechanism.\n\n   Detaching from the persistent domain is not retried. If libvirt\n   reports device not found, while both persistent and live detach\n   is needed, the error is ignored, and the process continues with\n   the live detach. In any other case the error considered as fatal.\n\n   Detaching from the live domain is changed to always wait for the\n   libvirt event. In case of timeout, the live detach is retried.\n   But a failure event from libvirt considered fatal, based on the\n   information from the libvirt developers, so in this case the\n   detach is not retried.\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n'}, {'number': 23, 'created': '2021-03-05 08:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/036551a1addb36fd78eec9343d795f181e287781', 'message': 'Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device. See bug #1882521 for more information.\n\nAlso if there was both a persistent and a live domain the nova tried the\ndetach from both at the same call. This lead to confusion about the\nresult when such call failed. Was the detach failed partially?\n\nWe can do better, at least for the live detach case. Based on the\nlibvirt developers detaching from the persistent domain always\nsucceeds and it is a synchronous process. Detaching from the live\ndomain can be both synchronous or asynchronous depending on the guest\nOS and the load on the hypervisor. But for live detach libvirt always\nsends an event [1] nova can wait for.\n\nSo this patch does two things.\n\n1) Separates the detach from the persistent domain from the detach from\n   the live domain to make the error cases clearer.\n\n2) Changes the retry mechanism.\n\n   Detaching from the persistent domain is not retried. If libvirt\n   reports device not found, while both persistent and live detach\n   is needed, the error is ignored, and the process continues with\n   the live detach. In any other case the error considered as fatal.\n\n   Detaching from the live domain is changed to always wait for the\n   libvirt event. In case of timeout, the live detach is retried.\n   But a failure event from libvirt considered fatal, based on the\n   information from the libvirt developers, so in this case the\n   detach is not retried.\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n'}, {'number': 24, 'created': '2021-03-05 11:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20f7c54ab734fec0478b4b61bca8699e89bc6482', 'message': 'Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device. See bug #1882521 for more information.\n\nAlso if there was both a persistent and a live domain the nova tried the\ndetach from both at the same call. This lead to confusion about the\nresult when such call failed. Was the detach failed partially?\n\nWe can do better, at least for the live detach case. Based on the\nlibvirt developers detaching from the persistent domain always\nsucceeds and it is a synchronous process. Detaching from the live\ndomain can be both synchronous or asynchronous depending on the guest\nOS and the load on the hypervisor. But for live detach libvirt always\nsends an event [1] nova can wait for.\n\nSo this patch does two things.\n\n1) Separates the detach from the persistent domain from the detach from\n   the live domain to make the error cases clearer.\n\n2) Changes the retry mechanism.\n\n   Detaching from the persistent domain is not retried. If libvirt\n   reports device not found, while both persistent and live detach\n   is needed, the error is ignored, and the process continues with\n   the live detach. In any other case the error considered as fatal.\n\n   Detaching from the live domain is changed to always wait for the\n   libvirt event. In case of timeout, the live detach is retried.\n   But a failure event from libvirt considered fatal, based on the\n   information from the libvirt developers, so in this case the\n   detach is not retried.\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n'}, {'number': 25, 'created': '2021-04-14 16:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c21fa22773dab39f783901b8b8acbde7f4a8e46', 'message': 'Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device. See bug #1882521 for more information.\n\nAlso if there was both a persistent and a live domain the nova tried the\ndetach from both at the same call. This lead to confusion about the\nresult when such call failed. Was the detach failed partially?\n\nWe can do better, at least for the live detach case. Based on the\nlibvirt developers detaching from the persistent domain always\nsucceeds and it is a synchronous process. Detaching from the live\ndomain can be both synchronous or asynchronous depending on the guest\nOS and the load on the hypervisor. But for live detach libvirt always\nsends an event [1] nova can wait for.\n\nSo this patch does two things.\n\n1) Separates the detach from the persistent domain from the detach from\n   the live domain to make the error cases clearer.\n\n2) Changes the retry mechanism.\n\n   Detaching from the persistent domain is not retried. If libvirt\n   reports device not found, while both persistent and live detach\n   is needed, the error is ignored, and the process continues with\n   the live detach. In any other case the error considered as fatal.\n\n   Detaching from the live domain is changed to always wait for the\n   libvirt event. In case of timeout, the live detach is retried.\n   But a failure event from libvirt considered fatal, based on the\n   information from the libvirt developers, so in this case the\n   detach is not retried.\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n'}, {'number': 26, 'created': '2021-04-15 07:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c04e34c7292ee3da718d2fac9bd9b86f52deca84', 'message': 'Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device. See bug #1882521 for more information.\n\nAlso if there was both a persistent and a live domain the nova tried the\ndetach from both at the same call. This lead to confusion about the\nresult when such call failed. Was the detach failed partially?\n\nWe can do better, at least for the live detach case. Based on the\nlibvirt developers detaching from the persistent domain always\nsucceeds and it is a synchronous process. Detaching from the live\ndomain can be both synchronous or asynchronous depending on the guest\nOS and the load on the hypervisor. But for live detach libvirt always\nsends an event [1] nova can wait for.\n\nSo this patch does two things.\n\n1) Separates the detach from the persistent domain from the detach from\n   the live domain to make the error cases clearer.\n\n2) Changes the retry mechanism.\n\n   Detaching from the persistent domain is not retried. If libvirt\n   reports device not found, while both persistent and live detach\n   is needed, the error is ignored, and the process continues with\n   the live detach. In any other case the error considered as fatal.\n\n   Detaching from the live domain is changed to always wait for the\n   libvirt event. In case of timeout, the live detach is retried.\n   But a failure event from libvirt considered fatal, based on the\n   information from the libvirt developers, so in this case the\n   detach is not retried.\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n'}, {'number': 27, 'created': '2021-04-16 14:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fc32c7a9756b147b1b1ba205ef20bcfe2f20df1', 'message': 'Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device. See bug #1882521 for more information.\n\nAlso if there was both a persistent and a live domain the nova tried the\ndetach from both at the same call. This lead to confusion about the\nresult when such call failed. Was the detach failed partially?\n\nWe can do better, at least for the live detach case. Based on the\nlibvirt developers detaching from the persistent domain always\nsucceeds and it is a synchronous process. Detaching from the live\ndomain can be both synchronous or asynchronous depending on the guest\nOS and the load on the hypervisor. But for live detach libvirt always\nsends an event [1] nova can wait for.\n\nSo this patch does two things.\n\n1) Separates the detach from the persistent domain from the detach from\n   the live domain to make the error cases clearer.\n\n2) Changes the retry mechanism.\n\n   Detaching from the persistent domain is not retried. If libvirt\n   reports device not found, while both persistent and live detach\n   is needed, the error is ignored, and the process continues with\n   the live detach. In any other case the error considered as fatal.\n\n   Detaching from the live domain is changed to always wait for the\n   libvirt event. In case of timeout, the live detach is retried.\n   But a failure event from libvirt considered fatal, based on the\n   information from the libvirt developers, so in this case the\n   detach is not retried.\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n'}, {'number': 28, 'created': '2021-04-18 08:26:10.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/conf/libvirt.py', 'releasenotes/notes/libvirt-event-based-device-detach-23ac037004d753b1.yaml', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e56cc4f439846558fc13298c2360d7cdd473cc89', 'message': 'Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device. See bug #1882521 for more information.\n\nAlso if there was both a persistent and a live domain the nova tried the\ndetach from both at the same call. This lead to confusion about the\nresult when such call failed. Was the detach failed partially?\n\nWe can do better, at least for the live detach case. Based on the\nlibvirt developers detaching from the persistent domain always\nsucceeds and it is a synchronous process. Detaching from the live\ndomain can be both synchronous or asynchronous depending on the guest\nOS and the load on the hypervisor. But for live detach libvirt always\nsends an event [1] nova can wait for.\n\nSo this patch does two things.\n\n1) Separates the detach from the persistent domain from the detach from\n   the live domain to make the error cases clearer.\n\n2) Changes the retry mechanism.\n\n   Detaching from the persistent domain is not retried. If libvirt\n   reports device not found, while both persistent and live detach\n   is needed, the error is ignored, and the process continues with\n   the live detach. In any other case the error considered as fatal.\n\n   Detaching from the live domain is changed to always wait for the\n   libvirt event. In case of timeout, the live detach is retried.\n   But a failure event from libvirt considered fatal, based on the\n   information from the libvirt developers, so in this case the\n   detach is not retried.\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n'}]",190,770246,e56cc4f439846558fc13298c2360d7cdd473cc89,260,5,28,9708,,,0,"Replace blind retry with libvirt event waiting in detach

Nova so far applied a retry loop that tried to periodically detach the
device from libvirt while the device was visible in the domain xml. This
could lead to an issue where an already progressing detach on the
libvirt side is interrupted by nova re-sending the detach request for
the same device. See bug #1882521 for more information.

Also if there was both a persistent and a live domain the nova tried the
detach from both at the same call. This lead to confusion about the
result when such call failed. Was the detach failed partially?

We can do better, at least for the live detach case. Based on the
libvirt developers detaching from the persistent domain always
succeeds and it is a synchronous process. Detaching from the live
domain can be both synchronous or asynchronous depending on the guest
OS and the load on the hypervisor. But for live detach libvirt always
sends an event [1] nova can wait for.

So this patch does two things.

1) Separates the detach from the persistent domain from the detach from
   the live domain to make the error cases clearer.

2) Changes the retry mechanism.

   Detaching from the persistent domain is not retried. If libvirt
   reports device not found, while both persistent and live detach
   is needed, the error is ignored, and the process continues with
   the live detach. In any other case the error considered as fatal.

   Detaching from the live domain is changed to always wait for the
   libvirt event. In case of timeout, the live detach is retried.
   But a failure event from libvirt considered fatal, based on the
   information from the libvirt developers, so in this case the
   detach is not retried.

Related-Bug: #1882521

[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback

Change-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/770246/18 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/driver.py']",2,a28a4b43e09a174c15b41d8e1b48793bd2b12a1c,bug/1882521," LOG.debug('!!! (generic driver) event %s', event)",,203,3
openstack%2Fneutron~stable%2Ftrain~I9c54a268fc4ef9705637556ecba161bd6523a047,openstack/neutron,stable/train,I9c54a268fc4ef9705637556ecba161bd6523a047,Use local and ip address to create vxlan interface,MERGED,2021-06-03 10:49:48.000000000,2021-06-07 21:37:46.000000000,2021-06-07 21:35:59.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 33525}]","[{'number': 1, 'created': '2021-06-03 10:49:48.000000000', 'files': ['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/27d4b1b4502d07bf0fd9890031c479f28d0b7fd6', 'message': 'Use local and ip address to create vxlan interface\n\nAttempting to terminate a vxlan on the lo interface with\nmultiple ip addresses fails. This seems to be because only\nthe first ip address on the interface is used. If this address\nis invalid for vxlan creation (ie. 127.0.0.1), the vxlan\ninterface will be created, but will not have a source ip\naddress, and will therefore be non-functional. To remedy this\nissue, when L2population is used, we can set the local\nargument to the local_ip, thus ensuring the intended ip\naddress is configured.\n\nCloses-Bug: 1929998\nChange-Id: I9c54a268fc4ef9705637556ecba161bd6523a047\nSigned-off-by: Anthony Timmins <atimmins@datto.com>\n(cherry picked from commit 4cd11f4dee494c5851318410c523dfcfbce4c824)\n'}]",0,794449,27d4b1b4502d07bf0fd9890031c479f28d0b7fd6,17,4,1,16688,,,0,"Use local and ip address to create vxlan interface

Attempting to terminate a vxlan on the lo interface with
multiple ip addresses fails. This seems to be because only
the first ip address on the interface is used. If this address
is invalid for vxlan creation (ie. 127.0.0.1), the vxlan
interface will be created, but will not have a source ip
address, and will therefore be non-functional. To remedy this
issue, when L2population is used, we can set the local
argument to the local_ip, thus ensuring the intended ip
address is configured.

Closes-Bug: 1929998
Change-Id: I9c54a268fc4ef9705637556ecba161bd6523a047
Signed-off-by: Anthony Timmins <atimmins@datto.com>
(cherry picked from commit 4cd11f4dee494c5851318410c523dfcfbce4c824)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/794449/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py']",2,27d4b1b4502d07bf0fd9890031c479f28d0b7fd6,bug/1929998-stable/train," local=self.lbm.local_ip,",,5,0
openstack%2Fopenstack-ansible-tests~stable%2Fvictoria~I8f24804caa6c242a1ed6cc9adb70de08817c8f5e,openstack/openstack-ansible-tests,stable/victoria,I8f24804caa6c242a1ed6cc9adb70de08817c8f5e,Workaround linting issue,MERGED,2021-05-25 08:26:41.000000000,2021-06-07 21:22:06.000000000,2021-06-07 21:20:33.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-05-25 08:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/d18385dff6e433134cadab8451941f6bb5e0a837', 'message': ""Workaround linting issue\n\nansible-lint<5.0.0 will try to install latest ansible as it's part of the\nrequirements. This brings in an issue, where lint will be broken\nbecause of too modern ansible. We workaround this by specifying version\nthat won't install ansible-core and thus break linting\n\nChange-Id: I8f24804caa6c242a1ed6cc9adb70de08817c8f5e\n""}, {'number': 2, 'created': '2021-06-03 12:57:37.000000000', 'files': ['test-requirements.txt', 'test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/107988e13165921080604e07dbea23bd60d4726e', 'message': ""Workaround linting issue\n\nansible-lint<5.0.0 will try to install latest ansible as it's part of the\nrequirements. This brings in an issue, where lint will be broken\nbecause of too modern ansible. We workaround this by specifying version\nthat won't install ansible-core and thus break linting\n\nWe also comment out tempest_git_repo as we want it to be installed\nfrom constraints instead of the master version\n\nChange-Id: I8f24804caa6c242a1ed6cc9adb70de08817c8f5e\n""}]",0,792906,107988e13165921080604e07dbea23bd60d4726e,26,3,2,28619,,,0,"Workaround linting issue

ansible-lint<5.0.0 will try to install latest ansible as it's part of the
requirements. This brings in an issue, where lint will be broken
because of too modern ansible. We workaround this by specifying version
that won't install ansible-core and thus break linting

We also comment out tempest_git_repo as we want it to be installed
from constraints instead of the master version

Change-Id: I8f24804caa6c242a1ed6cc9adb70de08817c8f5e
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/06/792906/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d18385dff6e433134cadab8451941f6bb5e0a837,,"# Workaround for old ansible-lint that otherwise will try to install # latest ansible along with ansible-core, which will break linting. ansible<3.0.0 ",,4,0
openstack%2Ftripleo-heat-templates~master~I0e3d5748a50937880a55413b75fe6eca479c9160,openstack/tripleo-heat-templates,master,I0e3d5748a50937880a55413b75fe6eca479c9160,Use kolla_config for other actions,MERGED,2021-05-12 17:30:43.000000000,2021-06-07 21:14:56.000000000,2021-06-07 21:14:56.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-05-12 17:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a81953fa6779ba30e67cb3836779939a8454383', 'message': 'Use kolla config for db syncs\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}, {'number': 2, 'created': '2021-05-12 18:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/514663e95452be0ce7ced892009447e6c6a56f6a', 'message': 'Use kolla config for db syncs\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}, {'number': 3, 'created': '2021-05-12 18:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/308f7113e0accb5ddea67b7987a4cfadf5fdcd36', 'message': 'Use kolla config for db syncs\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}, {'number': 4, 'created': '2021-05-12 19:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5904a1b45966711414719546c2eaa329940839c5', 'message': 'Use kolla config for db syncs\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}, {'number': 5, 'created': '2021-05-12 20:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4952a793b04e92977f3bb3cb15972e8e5b3b0164', 'message': 'Use kolla config for db syncs\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}, {'number': 6, 'created': '2021-05-12 21:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/81e1d9083d7809fda86c6901050cec4c526a437e', 'message': 'Use kolla config for db syncs\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}, {'number': 7, 'created': '2021-05-12 22:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/128e2aeb57ad5f2f5f19dec3dfef3b9a85fa7185', 'message': 'Use kolla config for db syncs\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}, {'number': 8, 'created': '2021-05-13 14:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eba8f74fbfe9ab60f344484af330776329a3fe5a', 'message': 'Use kolla config for db syncs\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}, {'number': 9, 'created': '2021-05-13 16:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6e7c0a514a50000f323fb3265ef3b124a19e24ea', 'message': 'Use kolla_config for other actions\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}, {'number': 10, 'created': '2021-05-13 16:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3e9fc739d3a584e517fc0f4eae2e3954dfb02e0', 'message': 'Use kolla_config for other actions\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}, {'number': 11, 'created': '2021-05-13 19:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/832a72b8c92f10d5bd44e59bc4ba2c1333578a41', 'message': 'Use kolla_config for other actions\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}, {'number': 12, 'created': '2021-05-14 14:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b43295c6bb4520315249bf45f71a3e350cb2374f', 'message': 'Use kolla_config for other actions\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}, {'number': 13, 'created': '2021-05-14 19:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7ecbc54a601dc6156c2ea6ae14476e0529d117a', 'message': 'Use kolla_config for other actions\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}, {'number': 14, 'created': '2021-05-17 18:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/828b36dd71af1c4b1d6fa6f4febd6ab2b8e4b942', 'message': 'Use kolla_config for other actions\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}, {'number': 15, 'created': '2021-05-18 21:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/417e585381c834d6fedf596974059e492d4adaa6', 'message': 'Use kolla_config for other actions\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}, {'number': 16, 'created': '2021-05-19 19:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f50f7f8c1f3cf9a2dfab0a776c8e7dc1fba264de', 'message': 'Use kolla_config for other actions\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}, {'number': 17, 'created': '2021-05-21 16:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2f3b7b2f32ddd650357c73112e0612044d59bd0', 'message': 'Use kolla_config for other actions\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}, {'number': 18, 'created': '2021-05-21 19:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e36a2af1bafa2da131ace96bbe6f7e6832e913fb', 'message': 'Use kolla_config for other actions\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}, {'number': 19, 'created': '2021-05-25 13:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8bb23c65f7886c4ca101277d72ad364307c697b8', 'message': 'Use kolla_config for other actions\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}, {'number': 20, 'created': '2021-06-02 14:54:45.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/deprecated/zaqar/zaqar-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/deprecated/mistral/mistral-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e052715c87dde7fba62824d25b847d52c97dc5e', 'message': 'Use kolla_config for other actions\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n'}]",1,791033,8e052715c87dde7fba62824d25b847d52c97dc5e,74,7,20,14985,,,0,"Use kolla_config for other actions

Today for some services we mount in /var/lib/config-data/<service>/etc
which is actually an output from the container-puppet process. We should
be using kolla to ensure that we properly create the configurations
based on the puppet generated configurations and things in the
container.  Some services correctly leverage the kolla_config that the
associated api/service uses when running their db sync. This patch
aligns the rest to follow the similar pattern.

Change-Id: I0e3d5748a50937880a55413b75fe6eca479c9160
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/791033/10 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/deprecated/zaqar/zaqar-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/deprecated/mistral/mistral-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml']",12,2a81953fa6779ba30e67cb3836779939a8454383,config-next," volumes: &aodh_api_volumes command: ""/usr/bin/bootstrap_host_exec aodh_api su aodh -s /bin/bash -c /usr/bin/aodh-dbsync"" environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} step_4: aodh_api: image: *aodh_api_image net: host privileged: false restart: always healthcheck: test: /openstack/healthcheck volumes: *aodh_api_volumes"," volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/config-data/aodh/etc/my.cnf.d/tripleo.cnf:/etc/my.cnf.d/tripleo.cnf:ro - /var/lib/config-data/aodh/etc/aodh/:/etc/aodh/:ro - /var/log/containers/aodh:/var/log/aodh - /var/log/containers/httpd/aodh-api:/var/log/httpd command: ""/usr/bin/bootstrap_host_exec aodh_api su aodh -s /bin/bash -c /usr/bin/aodh-dbsync"" environment: TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} step_4: aodh_api: image: *aodh_api_image net: host privileged: false restart: always healthcheck: test: /openstack/healthcheck volumes:",119,143
openstack%2Fpuppet-tripleo~master~Ifb1046d710827a82dcecbfbb2a449b1f87bbe363,openstack/puppet-tripleo,master,Ifb1046d710827a82dcecbfbb2a449b1f87bbe363,Add posibility to download scripts for sensubility,MERGED,2020-09-25 14:53:16.000000000,2021-06-07 20:37:33.000000000,2021-06-07 20:34:40.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-25 14:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/26493f5b55f06eb31f0486e2db209f5dc1a2bdf2', 'message': '[WIP] Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class tripleo::profile::base::metrics::collectd::sensubility\nenabling download of various scripts for usage within sensubility check definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 2, 'created': '2020-09-25 15:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4f313f50ebd3f7eaa7b7d7436184aa311a8e03ab', 'message': '[WIP] Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class tripleo::profile::base::metrics::collectd::sensubility\nenabling download of various scripts for usage within sensubility check definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 3, 'created': '2020-09-25 15:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/759507a597d1995957ac3da13e3f005c94c6b801', 'message': '[WIP] Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class tripleo::profile::base::metrics::collectd::sensubility\nenabling download of various scripts for usage within sensubility check definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 4, 'created': '2020-10-01 13:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ef9ab8ae1492c09b17007596e2d1c7a540d94329', 'message': '[WIP] Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class tripleo::profile::base::metrics::collectd::sensubility\nenabling download of various scripts for usage within sensubility check definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 5, 'created': '2020-10-08 12:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c651fa655e4c8f3db1f0bed20a8eab4de54c686f', 'message': '[WIP] Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 6, 'created': '2020-10-08 12:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6b80972ccdc6e795c377ba94a8cb4ec93307d9f4', 'message': '[WIP] Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 7, 'created': '2020-10-09 11:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5aa7d64cc982337c8f04c0c434d3ebfe654b557c', 'message': '[WIP] Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 8, 'created': '2020-10-12 12:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9f098c2f0c563b38a70c47cc32ac38ba57a08b8e', 'message': '[WIP] Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 9, 'created': '2020-10-14 15:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/39930c411130f486fcd2212fb9aea9fb04cb8467', 'message': '[WIP] Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 10, 'created': '2020-10-30 14:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/39a370a08a1a99d3f818bdce4f233a82227b0847', 'message': '[WIP] Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 11, 'created': '2020-11-02 13:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d5c18667d89485f2896b10e1f129b9fbd6ac093e', 'message': '[WIP] Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 12, 'created': '2020-11-05 11:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/35347599b7da89142cbaff81ab1758cc5a6fc07c', 'message': '[WIP] Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 13, 'created': '2020-11-10 15:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b22a3b1222189a9593c6eef35f6578c8de8d2743', 'message': '[WIP] Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 14, 'created': '2020-11-10 22:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d34ec54223d8a50d44dfedc26b83ec567e792ab6', 'message': '[WIP] Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 15, 'created': '2020-11-12 13:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/72dc7d40d0a94f21b2f1174db01045aacff2b7f8', 'message': '[WIP] Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 16, 'created': '2020-11-12 13:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/25120efd7de85b85f6f8e26c21637114fb1bbc65', 'message': 'Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 17, 'created': '2020-11-19 15:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9aea81a0875b67a5473aa21ea8bc010dbf57f970', 'message': 'Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 18, 'created': '2020-11-20 14:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2263f9762f6673a3a781a12fbdc1f54c36a5ac9a', 'message': 'Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 19, 'created': '2020-12-01 21:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9ae968d6ff5fc63da3a9f2b95ff97e569e73c5c3', 'message': 'Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 20, 'created': '2020-12-01 21:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/925ee83cdc0d4987a8c3f83a7722ea1d26d45edf', 'message': 'Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 21, 'created': '2021-05-20 12:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b7dc3bf07a5a08ad222d53ef1b36ed7d6f6ce211', 'message': 'Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 22, 'created': '2021-05-20 13:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d55dddd55c0666bf829177e19e5e2621ecdb4af3', 'message': 'Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}, {'number': 23, 'created': '2021-05-23 15:03:00.000000000', 'files': ['spec/classes/tripleo_profile_base_metrics_collectd_spec.rb', 'releasenotes/notes/sensubility-scripts-994014edfcc2da88.yaml', 'spec/defines/tripleo_profile_base_metrics_collectd_sensubility_script_spec.rb', 'manifests/profile/base/metrics/collectd/sensubility.pp', 'manifests/profile/base/metrics/collectd/sensubility_script.pp', 'spec/classes/tripleo_profile_base_metrics_collectd_sensubility_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c204077a60f1571bca864c39c1485044dd9e91f4', 'message': 'Add posibility to download scripts for sensubility\n\nThis patch adds parameters for class collectd::sensubility\nenabling download of various scripts for usage within sensubility\ncheck definitions\n\nChange-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\n'}]",13,754418,c204077a60f1571bca864c39c1485044dd9e91f4,60,4,23,5241,,,0,"Add posibility to download scripts for sensubility

This patch adds parameters for class collectd::sensubility
enabling download of various scripts for usage within sensubility
check definitions

Change-Id: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/18/754418/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/sensubility-scripts-994014edfcc2da88.yaml', 'spec/defines/tripleo_profile_base_metrics_collectd_sensubility_script_spec.rb', 'manifests/profile/base/metrics/collectd/sensubility.pp', 'manifests/profile/base/metrics/collectd/sensubility_script.pp', 'spec/classes/tripleo_profile_base_metrics_collectd_sensubility_spec.rb']",5,26493f5b55f06eb31f0486e2db209f5dc1a2bdf2,sensubility-scripts,"# http://www.apache.org/licenses/LICENSE-2.> context 'with defaults and scripts for download defined' do let(:params) do { :scriptsdir => '/some/path' :scripts => { 'scriptA' => { 'source' => 'http://some.uri/scriptA', 'checksum' => '1234567890', }, 'scripB' => { 'source' => 'http://some.other.uri/scriptB', 'checksum' => '0987654321', } } } end it 'requests the scripts download' do is_expected.to compile.with_all_deps is_expected.to contain_file('/some/path/scriptA').with( :source => 'http://some.uri/scriptA', :checksum_value => '1234567890', ) is_expected.to contain_file('/usr/bin/sensubility_scriptA') is_expected.to contain_file('/some/path/scriptB').with( :source => 'http://some.uri/scriptB', :checksum_value => '09876554321', :create_bin_link => false ) is_expected.not_to contain_file('/usr/bin/sensubility_scriptB') end end",# http://www.apache.org/licenses/LICENSE-2.0,197,4
openstack%2Ftripleo-ansible~master~I3f1d0205f2228d59c5e8bc6b33084c64974c2a2b,openstack/tripleo-ansible,master,I3f1d0205f2228d59c5e8bc6b33084c64974c2a2b,Make the monitoring stack ports configurable for each daemon,MERGED,2021-06-01 17:43:49.000000000,2021-06-07 20:37:29.000000000,2021-06-07 20:33:36.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-01 17:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/818aa92e7ed49e422cf1f76dbd8170decca37107', 'message': 'Make the monitoring stack ports configurable for each daemon\n\nAccording to [1] the monitoring stack daemons are able to bind on the\nspecified {ip}:{port}.\nThis change turns the previously defined monitoring items into a dict\nwhere the name of the daemon and the port can be specified (the ports\nare supposed to come from the tht parameters).\n\n[1] https://github.com/ceph/ceph/pull/41444\n\nChange-Id: I3f1d0205f2228d59c5e8bc6b33084c64974c2a2b\n'}, {'number': 2, 'created': '2021-06-04 09:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f5f69ff4691f7bd1122e5d075f813b56f8a25399', 'message': 'Make the monitoring stack ports configurable for each daemon\n\nAccording to [1] the monitoring stack daemons are able to bind on the\nspecified {ip}:{port}.\nThis change turns the previously defined monitoring items into a dict\nwhere the name of the daemon and the port can be specified (the ports\nare supposed to come from the tht parameters).\n\n[1] https://github.com/ceph/ceph/pull/41444\n\nChange-Id: I3f1d0205f2228d59c5e8bc6b33084c64974c2a2b\n'}, {'number': 3, 'created': '2021-06-04 10:35:34.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml', 'tripleo_ansible/ansible_plugins/module_utils/ceph_spec.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ccdecf061ebd39e1fb78c5f370613afb0392294e', 'message': ""Make the monitoring stack ports configurable for each daemon\n\nAccording to [1] the monitoring stack daemons are able to bind on the\nspecified {ip}:{port}.\nThis change turns the previously defined monitoring items into a dict\nwhere the name of the daemon and the port can be specified (the ports\nare supposed to come from the tht parameters).\nIn addition, we need to make sure that the port parameter is evaluated\nas an int, otherwise cephadm fails when the spec is applied. For this\nreason a new 'normalize_spec' function is introduced, with the purpose\nof analyzing the provided payload and make sure the port parameters\nare expressed as int. This is required due to the fact that the ansible\noption 'ANSIBLE_JINJA2_NATIVE=True' [2], which is supposed to enable\nthis feature at tripleo-ansible level is missing, but it's a constraint\nwe wouldn't like to introduce.\n\n[1] https://github.com/ceph/ceph/pull/41444\n[2] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#envvar-ANSIBLE_JINJA2_NATIVE\n\nChange-Id: I3f1d0205f2228d59c5e8bc6b33084c64974c2a2b\n""}]",2,794015,ccdecf061ebd39e1fb78c5f370613afb0392294e,22,6,3,25402,,,0,"Make the monitoring stack ports configurable for each daemon

According to [1] the monitoring stack daemons are able to bind on the
specified {ip}:{port}.
This change turns the previously defined monitoring items into a dict
where the name of the daemon and the port can be specified (the ports
are supposed to come from the tht parameters).
In addition, we need to make sure that the port parameter is evaluated
as an int, otherwise cephadm fails when the spec is applied. For this
reason a new 'normalize_spec' function is introduced, with the purpose
of analyzing the provided payload and make sure the port parameters
are expressed as int. This is required due to the fact that the ansible
option 'ANSIBLE_JINJA2_NATIVE=True' [2], which is supposed to enable
this feature at tripleo-ansible level is missing, but it's a constraint
we wouldn't like to introduce.

[1] https://github.com/ceph/ceph/pull/41444
[2] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#envvar-ANSIBLE_JINJA2_NATIVE

Change-Id: I3f1d0205f2228d59c5e8bc6b33084c64974c2a2b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/15/794015/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml'],1,818aa92e7ed49e422cf1f76dbd8170decca37107,cephadm_monitoring," service_type: ""{{ item.daemon }}"" service_id: ""{{ item.daemon }}"" service_name: ""{{ item.daemon }}"" spec: port: ""{{ item.port }}"" - {""daemon"": ""grafana"", ""port"": ""{{ tripleo_cephadm_grafana_port | default(3100) }}""} - {""daemon"": ""prometheus"", ""port"": ""{{ tripleo_cephadm_prometheus_port | default(9092) }}""} - {""daemon"": ""alertmanager"", ""port"": ""{{ tripleo_cephadm_alertmanager_port | default(9094) }}""}"," service_type: ""{{ item }}"" service_id: ""{{ item }}"" service_name: ""{{ item }}"" - ""alertmanager"" - ""prometheus"" - ""grafana""",8,6
openstack%2Fmonasca-thresh~stable%2Fvictoria~I148aaf118ffdf3e9aa38c902fa6ab22a474752f2,openstack/monasca-thresh,stable/victoria,I148aaf118ffdf3e9aa38c902fa6ab22a474752f2,"Revert ""Use external Zookeeper in Local mode""",MERGED,2021-06-07 16:02:29.000000000,2021-06-07 20:36:19.000000000,2021-06-07 20:36:19.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-06-07 16:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/8225afd78a84a536127b226c09a5318d0a814bdf', 'message': 'Revert ""Use external Zookeeper in Local mode""\n\nThis reverts commit 3919c1abf90865d00affd07b8ea220de24e340b8.\n\nChange-Id: I148aaf118ffdf3e9aa38c902fa6ab22a474752f2\n'}, {'number': 2, 'created': '2021-06-07 19:22:07.000000000', 'files': ['thresh/src/main/java/monasca/thresh/ThresholdingEngine.java'], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/ec37516a686fe45f85807d17d82f66237a81036f', 'message': 'Revert ""Use external Zookeeper in Local mode""\n\nThis reverts commit 3919c1abf90865d00affd07b8ea220de24e340b8.\n\nChange-Id: I148aaf118ffdf3e9aa38c902fa6ab22a474752f2\n'}]",0,795052,ec37516a686fe45f85807d17d82f66237a81036f,8,2,2,28062,,,0,"Revert ""Use external Zookeeper in Local mode""

This reverts commit 3919c1abf90865d00affd07b8ea220de24e340b8.

Change-Id: I148aaf118ffdf3e9aa38c902fa6ab22a474752f2
",git fetch https://review.opendev.org/openstack/monasca-thresh refs/changes/52/795052/2 && git format-patch -1 --stdout FETCH_HEAD,['thresh/src/main/java/monasca/thresh/ThresholdingEngine.java'],1,8225afd78a84a536127b226c09a5318d0a814bdf,," new LocalCluster().submitTopology(topologyName, config, topology);"," new LocalCluster( System.getenv(""ZOOKEEPER_SERVERS""), new Long(System.getenv(""ZOOKEEPER_PORT"")) ).submitTopology(topologyName, config, topology);",1,4
openstack%2Fmonasca-thresh~stable%2Fwallaby~Ib104b1a18399e370a47a75ba3eb3e60264a7e5d0,openstack/monasca-thresh,stable/wallaby,Ib104b1a18399e370a47a75ba3eb3e60264a7e5d0,"Revert ""Use external Zookeeper in Local mode""",MERGED,2021-06-07 16:01:47.000000000,2021-06-07 20:36:16.000000000,2021-06-07 20:36:16.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-06-07 16:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/f8c080bd00ef9ae3b1322f34e23bea24d9073af2', 'message': 'Revert ""Use external Zookeeper in Local mode""\n\nThis reverts commit 085c5a967070c0e90ae57df97decb86bfe27d8d2.\n\nChange-Id: Ib104b1a18399e370a47a75ba3eb3e60264a7e5d0\n'}, {'number': 2, 'created': '2021-06-07 19:21:45.000000000', 'files': ['thresh/src/main/java/monasca/thresh/ThresholdingEngine.java'], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/e9bfaec6de2ccd0c2c81160a2d997f8692c6c8c7', 'message': 'Revert ""Use external Zookeeper in Local mode""\n\nThis reverts commit 085c5a967070c0e90ae57df97decb86bfe27d8d2.\n\nChange-Id: Ib104b1a18399e370a47a75ba3eb3e60264a7e5d0\n'}]",0,795051,e9bfaec6de2ccd0c2c81160a2d997f8692c6c8c7,8,2,2,28062,,,0,"Revert ""Use external Zookeeper in Local mode""

This reverts commit 085c5a967070c0e90ae57df97decb86bfe27d8d2.

Change-Id: Ib104b1a18399e370a47a75ba3eb3e60264a7e5d0
",git fetch https://review.opendev.org/openstack/monasca-thresh refs/changes/51/795051/2 && git format-patch -1 --stdout FETCH_HEAD,['thresh/src/main/java/monasca/thresh/ThresholdingEngine.java'],1,f8c080bd00ef9ae3b1322f34e23bea24d9073af2,," new LocalCluster().submitTopology(topologyName, config, topology);"," new LocalCluster( System.getenv(""ZOOKEEPER_SERVERS""), new Long(System.getenv(""ZOOKEEPER_PORT"")) ).submitTopology(topologyName, config, topology);",1,4
openstack%2Ftripleo-ansible~stable%2Fvictoria~I780103e17f1bb42a0546c30bd6c001c642ad88b3,openstack/tripleo-ansible,stable/victoria,I780103e17f1bb42a0546c30bd6c001c642ad88b3,Add podman's events_logger option by default set to journald,MERGED,2021-06-07 12:52:31.000000000,2021-06-07 20:35:29.000000000,2021-06-07 20:35:29.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-07 12:52:31.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/637db1c401c6c6a0d2e3cef26ab8a97cc3b31bf2', 'message': 'Add podman\'s events_logger option by default set to journald\n\nBy default podman 3.0.x sets the [engine]/events_logger to ""file"".\nThis causes every exec in podman to create a line of text in\n/run/libpod/events/events.log like the following:\n\n  {""ID"":""412b6770c0b418e6d49a4801e71a198ddb81bbbefdaf1c9aad4d7948f77910ee"",""Image"":""quay.io/centos/centos:latest"",""Name"":""leak-test-7"",""Status"":""exec"",""Time"":""2021-06-03T08:36:05.237964012Z"",""Type"":""container"",""Attributes"":{""org.label-schema.build-date"":""20201204"",""org.label-schema.license"":""GPLv2"",""org.label-schema.name"":""CentOS Base Image"",""org.label-schema.schema-version"":""1.0"",""org.label-schema.vendor"":""CentOS""}}\n\nSince by default /run is mounted on tmpfs, this has the side-effect of\nincreasing kernel slab objects over time indefinitely eventually causing\nan OOM of the box.\n\nWe initially wanted to switch to the \'none\' backend, but the podman\nfolks recommended using the journald backend because events logs are\nused by podman in case of a rare race when running ""podman run --rm"".\nGiven that we call run with --rm from in a multithreaded fashion this\nseems to be the safest approach. The drawback of using journald is\nthat events won\'t be logged for rootless containers unless the user\nis part of the \'wheel\' group. We believe we\'re not using those\ncontainers in tripleo anyways, so this should be safe.\n\nTested by applying a backport of this patch to Train + podman 3.0.x and\ngot the following:\n[root@controller-0 containers]# ls -la /run/libpod/events/\ntotal 0\ndrwx------. 2 root root  40 Jun  3 11:55 .\ndrwxr-x--x. 5 root root 140 Jun  3 11:55 ..\n\n[root@controller-0 containers]# more /etc/containers/containers.conf\n[containers]\npids_limit = 4096\n[engine]\nevents_logger = ""journald""\n\nAlso tested the override via the corresponding THT change in\nIeffe2852111c3ec8347343a042dd78bbf691d79a.\n\nCloses-Bug: #1923607\n\nChange-Id: I780103e17f1bb42a0546c30bd6c001c642ad88b3\n(cherry picked from commit f31bab878bfd3332c20a10bf9ca26d443028d214)\n(cherry picked from commit 79be78bba35199c5b26632e51d8bda411a8239c5)\n'}]",0,795041,637db1c401c6c6a0d2e3cef26ab8a97cc3b31bf2,8,4,1,20172,,,0,"Add podman's events_logger option by default set to journald

By default podman 3.0.x sets the [engine]/events_logger to ""file"".
This causes every exec in podman to create a line of text in
/run/libpod/events/events.log like the following:

  {""ID"":""412b6770c0b418e6d49a4801e71a198ddb81bbbefdaf1c9aad4d7948f77910ee"",""Image"":""quay.io/centos/centos:latest"",""Name"":""leak-test-7"",""Status"":""exec"",""Time"":""2021-06-03T08:36:05.237964012Z"",""Type"":""container"",""Attributes"":{""org.label-schema.build-date"":""20201204"",""org.label-schema.license"":""GPLv2"",""org.label-schema.name"":""CentOS Base Image"",""org.label-schema.schema-version"":""1.0"",""org.label-schema.vendor"":""CentOS""}}

Since by default /run is mounted on tmpfs, this has the side-effect of
increasing kernel slab objects over time indefinitely eventually causing
an OOM of the box.

We initially wanted to switch to the 'none' backend, but the podman
folks recommended using the journald backend because events logs are
used by podman in case of a rare race when running ""podman run --rm"".
Given that we call run with --rm from in a multithreaded fashion this
seems to be the safest approach. The drawback of using journald is
that events won't be logged for rootless containers unless the user
is part of the 'wheel' group. We believe we're not using those
containers in tripleo anyways, so this should be safe.

Tested by applying a backport of this patch to Train + podman 3.0.x and
got the following:
[root@controller-0 containers]# ls -la /run/libpod/events/
total 0
drwx------. 2 root root  40 Jun  3 11:55 .
drwxr-x--x. 5 root root 140 Jun  3 11:55 ..

[root@controller-0 containers]# more /etc/containers/containers.conf
[containers]
pids_limit = 4096
[engine]
events_logger = ""journald""

Also tested the override via the corresponding THT change in
Ieffe2852111c3ec8347343a042dd78bbf691d79a.

Closes-Bug: #1923607

Change-Id: I780103e17f1bb42a0546c30bd6c001c642ad88b3
(cherry picked from commit f31bab878bfd3332c20a10bf9ca26d443028d214)
(cherry picked from commit 79be78bba35199c5b26632e51d8bda411a8239c5)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/795041/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml']",2,637db1c401c6c6a0d2e3cef26ab8a97cc3b31bf2,events-logger-stable/wallaby-stable/victoria," section: ""{{ item.section }}"" option: ""{{ item.option }}"" value: ""{{ item.value }}"" loop: - section: containers option: pids_limit value: ""{{ tripleo_container_default_pids_limit }}"" - section: engine option: events_logger value: ""\""{{ tripleo_container_events_logger_mechanism }}\"""""," section: containers option: pids_limit value: ""{{ tripleo_container_default_pids_limit }}""",11,3
openstack%2Ftripleo-heat-templates~master~I95ab281b6f4f9402feae26487b922e6a59884a99,openstack/tripleo-heat-templates,master,I95ab281b6f4f9402feae26487b922e6a59884a99,Pass scripts list for download for sensubility,MERGED,2020-12-17 11:51:44.000000000,2021-06-07 20:34:47.000000000,2021-06-07 20:34:47.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-17 11:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/99359f41dc055017bb97a39caa579543664073d8', 'message': 'Pass scripts list for download for sensubility\n\nDepends-On: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\nChange-Id: I95ab281b6f4f9402feae26487b922e6a59884a99\n'}, {'number': 2, 'created': '2021-05-20 13:29:59.000000000', 'files': ['deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66c964bf91f51e74094ed9235be610961b3d0bc0', 'message': 'Pass scripts list for download for sensubility\n\nDepends-On: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363\nChange-Id: I95ab281b6f4f9402feae26487b922e6a59884a99\n'}]",0,767518,66c964bf91f51e74094ed9235be610961b3d0bc0,17,4,2,5241,,,0,"Pass scripts list for download for sensubility

Depends-On: Ifb1046d710827a82dcecbfbb2a449b1f87bbe363
Change-Id: I95ab281b6f4f9402feae26487b922e6a59884a99
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/767518/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/collectd-container-puppet.yaml'],1,99359f41dc055017bb97a39caa579543664073d8,sensubility-scripts," CollectdSensubilityScripts: type: json description: | Hash of scripts for download for sensubility usage. The hash has to be in following format: {""script-name"": {""source"": ""<http URI to download script>"", ""checksum"": ""<md5sum of the script file>"", ""create_bin_link"": true/false <creates /usr/bin/sensubility_script-name if true which is default>}} default: {} tripleo::profile::base::metrics::collectd::sensubility::scripts: get_param: CollectdSensubilityScripts",,9,0
openstack%2Ftripleo-ansible~master~I95dac5daa3176286fa5f83d27368aa2a54c32186,openstack/tripleo-ansible,master,I95dac5daa3176286fa5f83d27368aa2a54c32186,Fix mtu reference in standalone template,MERGED,2021-01-11 21:22:13.000000000,2021-06-07 20:34:31.000000000,2021-06-07 20:34:31.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-11 21:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c584493480e8d5c76ee372a8c4792b8b9bd76289', 'message': ""Fix mtu reference in standalone template\n\nThe standalone documentation instructs to use the\n'InterfaceLocalMtu' parameter to define the MTU\nfor the interface.\n\nThe 'local_mtu' variable used in the standalone template\nget's the value of {{role.name}}LocalMtu.\n\nThis changes the standalone template to use the value of\nthe 'ctlplane_mtu', which in the depends on is set from\nthe 'InterfaceLocalMtu' parameter.\n\nDepends-On: https://review.opendev.org/769709\nChange-Id: I95dac5daa3176286fa5f83d27368aa2a54c32186\n""}, {'number': 2, 'created': '2021-01-14 12:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5685b38402e0d833f195e3a0a6ec447de8bf257c', 'message': ""Fix mtu reference in standalone template\n\nThe standalone documentation instructs to use the\n'InterfaceLocalMtu' parameter to define the MTU\nfor the interface.\n\nThe 'local_mtu' variable used in the standalone template\nget's the value of {{role.name}}LocalMtu.\n\nThis changes the standalone template to use the value of\nthe 'ctlplane_mtu', which in the depends on is set from\nthe 'InterfaceLocalMtu' parameter.\n\nDepends-On: https://review.opendev.org/769709\nChange-Id: I95dac5daa3176286fa5f83d27368aa2a54c32186\n""}, {'number': 3, 'created': '2021-05-10 11:56:39.000000000', 'files': ['tripleo_ansible/roles/tripleo_network_config/templates/standalone.j2', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dd9340608cebff98362abe128ce92c5b33866455', 'message': ""Fix mtu reference in standalone template\n\nThe standalone documentation instructs to use the\n'InterfaceLocalMtu' parameter to define the MTU\nfor the interface.\n\nThe 'local_mtu' variable used in the standalone template\nget's the value of {{role.name}}LocalMtu.\n\nThis changes the standalone template to use the value of\nthe 'ctlplane_mtu', which in the depends on is set from\nthe 'InterfaceLocalMtu' parameter.\n\nDepends-On: https://review.opendev.org/769709\nChange-Id: I95dac5daa3176286fa5f83d27368aa2a54c32186\n""}]",0,770206,dd9340608cebff98362abe128ce92c5b33866455,19,4,3,24245,,,0,"Fix mtu reference in standalone template

The standalone documentation instructs to use the
'InterfaceLocalMtu' parameter to define the MTU
for the interface.

The 'local_mtu' variable used in the standalone template
get's the value of {{role.name}}LocalMtu.

This changes the standalone template to use the value of
the 'ctlplane_mtu', which in the depends on is set from
the 'InterfaceLocalMtu' parameter.

Depends-On: https://review.opendev.org/769709
Change-Id: I95dac5daa3176286fa5f83d27368aa2a54c32186
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/770206/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_network_config/templates/standalone.j2'],1,c584493480e8d5c76ee372a8c4792b8b9bd76289,fix-standalone-single-nic, mtu: {{ ctlplane_mtu }} mtu: {{ ctlplane_mtu }}, mtu: {{ local_mtu }} mtu: {{ local_mtu }},2,2
openstack%2Ftripleo-ansible~master~I3f89898227db8649a8937f65fd5e0cc8626cd803,openstack/tripleo-ansible,master,I3f89898227db8649a8937f65fd5e0cc8626cd803,Default net name upper to name lower in net maps,MERGED,2021-06-04 21:40:37.000000000,2021-06-07 20:34:07.000000000,2021-06-07 20:34:07.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 21:40:37.000000000', 'files': ['tripleo_ansible/ansible_plugins/module_utils/network_data_v2.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc0be3eb69b94aefe7e0425ef5a818df96076e61', 'message': 'Default net name upper to name lower in net maps\n\nIf the network does not have the tripleo_network_name\ntag set, default the ""name_upper"" net.name.\n\nCloses-Bug: #1930936\nChange-Id: I3f89898227db8649a8937f65fd5e0cc8626cd803\n'}]",0,794903,fc0be3eb69b94aefe7e0425ef5a818df96076e61,8,4,1,24245,,,0,"Default net name upper to name lower in net maps

If the network does not have the tripleo_network_name
tag set, default the ""name_upper"" net.name.

Closes-Bug: #1930936
Change-Id: I3f89898227db8649a8937f65fd5e0cc8626cd803
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/03/794903/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/module_utils/network_data_v2.py'],1,fc0be3eb69b94aefe7e0425ef5a818df96076e61,bug/1930936," name_upper=tags.get('tripleo_network_name', net.name)", name_upper=tags.get('tripleo_network_name'),1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ib5f83f7fcbf7ecbbbea41a62275970d13d589ae8,openstack/tripleo-heat-templates,stable/wallaby,Ib5f83f7fcbf7ecbbbea41a62275970d13d589ae8,Include the standalone ganesha tasks when ceph is external,MERGED,2021-06-04 19:24:29.000000000,2021-06-07 20:33:42.000000000,2021-06-07 20:33:42.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 9003}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 19:24:29.000000000', 'files': ['deployment/cephadm/ceph-client.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ef96bfd198cc5f71974874915d1da2165d6bdb8d', 'message': 'Include the standalone ganesha tasks when ceph is external\n\nWhen Ceph is external, we can use [1] to deploy standalone ganesha\ninstances; these instances can be connected to the external ceph\ncluster via the related ceph.conf and keyrings.\n\n[1] https://review.opendev.org/786871\n\nDepends-On: Ied85643d888d6729aa97172d836c8d1e04bb469f\nChange-Id: Ib5f83f7fcbf7ecbbbea41a62275970d13d589ae8\n(cherry picked from commit 49c49d3c03e4ca7f0e147e8946951885d062dfc3)\n'}]",0,794821,ef96bfd198cc5f71974874915d1da2165d6bdb8d,11,6,1,25402,,,0,"Include the standalone ganesha tasks when ceph is external

When Ceph is external, we can use [1] to deploy standalone ganesha
instances; these instances can be connected to the external ceph
cluster via the related ceph.conf and keyrings.

[1] https://review.opendev.org/786871

Depends-On: Ied85643d888d6729aa97172d836c8d1e04bb469f
Change-Id: Ib5f83f7fcbf7ecbbbea41a62275970d13d589ae8
(cherry picked from commit 49c49d3c03e4ca7f0e147e8946951885d062dfc3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/794821/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-client.yaml'],1,ef96bfd198cc5f71974874915d1da2165d6bdb8d,cephadm_ganesha," - name: Load variables for standalone ganesha include_vars: ""{{ playbook_dir }}/cephadm/cephadm-extra-vars-heat.yml"" when: - groups['ceph_mon'] | default([]) | length == 0 - groups['ceph_nfs'] | default([]) | length > 0 - name: Config Standalone Ganesha include_role: name: tripleo_cephadm tasks_from: nfs when: - groups['ceph_mon'] | default([]) | length == 0 - groups['ceph_nfs'] | default([]) | length > 0",,12,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I3d277cdefda431d08fd8fbc103b53304ea44eb29,openstack/python-tripleoclient,stable/wallaby,I3d277cdefda431d08fd8fbc103b53304ea44eb29,Remove references to tripleo-validations legacy directory,MERGED,2021-06-07 06:51:30.000000000,2021-06-07 20:32:35.000000000,2021-06-07 20:30:40.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-07 06:51:30.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c8870f5d9f0fba7848d31a3293de89b757788511', 'message': ""Remove references to tripleo-validations legacy directory\n\n'/usr/share/openstack-tripleo-validations' doesn't exist anymore since\nTrain. Tripleo-validations installs its bits in '/usr/share/ansible/'.\nIt is now quite safe to remove the references to this legacy directory.\n\n**Note**\nThis patch will be applied to master and stable/wallaby only. This logic\nwill be kept as is for stable/train like this directory may still be\npresent during an upgrade.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I3d277cdefda431d08fd8fbc103b53304ea44eb29\n(cherry picked from commit 2b8d55e31e6d46041a180d05b0fcd035c462a75c)\n""}]",1,794952,c8870f5d9f0fba7848d31a3293de89b757788511,9,7,1,11491,,,0,"Remove references to tripleo-validations legacy directory

'/usr/share/openstack-tripleo-validations' doesn't exist anymore since
Train. Tripleo-validations installs its bits in '/usr/share/ansible/'.
It is now quite safe to remove the references to this legacy directory.

**Note**
This patch will be applied to master and stable/wallaby only. This logic
will be kept as is for stable/train like this directory may still be
present during an upgrade.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I3d277cdefda431d08fd8fbc103b53304ea44eb29
(cherry picked from commit 2b8d55e31e6d46041a180d05b0fcd035c462a75c)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/52/794952/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/utils.py']",2,c8870f5d9f0fba7848d31a3293de89b757788511,remove_tripleo-validations_legacy_dir-stable/wallaby, constants.DEFAULT_VALIDATIONS_BASEDIR constants.DEFAULT_VALIDATIONS_BASEDIR constants.DEFAULT_VALIDATIONS_BASEDIR constants.DEFAULT_VALIDATIONS_BASEDIR constants.DEFAULT_VALIDATIONS_BASEDIR constants.DEFAULT_VALIDATIONS_BASEDIR," '{}/library:' constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR '{}/lookup_plugins:' constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR '{}/callback_plugins:' constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR '{}/action_plugins:' constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR '{}/filter_plugins:' constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR '{}/roles:' constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR",8,31
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Id0d73a8ab0ddf7bf9e2b76ea14ffc9acff3a0ad3,openstack/tripleo-heat-templates,stable/ussuri,Id0d73a8ab0ddf7bf9e2b76ea14ffc9acff3a0ad3,Mount /etc/openldap inside the keystone container,MERGED,2021-04-19 14:29:44.000000000,2021-06-07 20:31:10.000000000,2021-06-07 20:31:10.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-19 14:29:44.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6342deafc386cd6956941f818eab7e8781899584', 'message': 'Mount /etc/openldap inside the keystone container\n\nFor configuring high availability for LDAP in keystone one\nneeds to edit /etc/openldap/ldap.conf. This worked\nbefore control plane was containerised. Mounting the\nopenldap configuration into the keystone container\nrestores the previous behavior.\n\nChange-Id: Id0d73a8ab0ddf7bf9e2b76ea14ffc9acff3a0ad3\nCloses-Bug: #1923048\nResolves: rhbz#1944466\n(cherry picked from commit 313e4484e2a219eec7affb5e1e5e61d41687c6fd)\n'}]",0,786896,6342deafc386cd6956941f818eab7e8781899584,18,4,1,14250,,,0,"Mount /etc/openldap inside the keystone container

For configuring high availability for LDAP in keystone one
needs to edit /etc/openldap/ldap.conf. This worked
before control plane was containerised. Mounting the
openldap configuration into the keystone container
restores the previous behavior.

Change-Id: Id0d73a8ab0ddf7bf9e2b76ea14ffc9acff3a0ad3
Closes-Bug: #1923048
Resolves: rhbz#1944466
(cherry picked from commit 313e4484e2a219eec7affb5e1e5e61d41687c6fd)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/786896/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,6342deafc386cd6956941f818eab7e8781899584,, - /etc/openldap:/etc/openldap:ro,,1,0
openstack%2Ftripleo-ci~master~Ib2f6e8d35ae2bb7e0956de0767a7ac328ccc631c,openstack/tripleo-ci,master,Ib2f6e8d35ae2bb7e0956de0767a7ac328ccc631c,Add ovb 2.0 in condition to redefine ZUUL_BRANCH,MERGED,2021-06-04 07:05:10.000000000,2021-06-07 20:31:02.000000000,2021-06-07 20:31:02.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 07:05:10.000000000', 'files': ['roles/run-test/templates/common_vars.bash.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a4797fa9b32a74a5f1c7598cfc6fee86ae1d2246', 'message': 'Add ovb 2.0 in condition to redefine ZUUL_BRANCH\n\nopenstack-virtual-baremetal project now have 2.0 branch, But TripleO\njobs knows about OpenStack branches only - master, wallaby, etc.\nIt doesn\'t know about 1.0 or 2.0.\n\nWe redefine ZUUL_BRANCH to be ""master"" so we run actual TripleO master\njob on OVB branches.\n\nCloses-Bug: #1930723\nChange-Id: Ib2f6e8d35ae2bb7e0956de0767a7ac328ccc631c\n'}]",0,794714,a4797fa9b32a74a5f1c7598cfc6fee86ae1d2246,15,6,1,29775,,,0,"Add ovb 2.0 in condition to redefine ZUUL_BRANCH

openstack-virtual-baremetal project now have 2.0 branch, But TripleO
jobs knows about OpenStack branches only - master, wallaby, etc.
It doesn't know about 1.0 or 2.0.

We redefine ZUUL_BRANCH to be ""master"" so we run actual TripleO master
job on OVB branches.

Closes-Bug: #1930723
Change-Id: Ib2f6e8d35ae2bb7e0956de0767a7ac328ccc631c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/14/794714/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/common_vars.bash.j2'],1,a4797fa9b32a74a5f1c7598cfc6fee86ae1d2246,,"if [ ""$ZUUL_BRANCH"" = ""stable/1.0"" -o ""$ZUUL_BRANCH"" = ""stable/2.0"" -a ""$ZUUL_PROJECT"" = ""openstack/openstack-virtual-baremetal"" ]; then","if [ ""$ZUUL_BRANCH"" = ""stable/1.0"" -a ""$ZUUL_PROJECT"" = ""openstack/openstack-virtual-baremetal"" ]; then",1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I7b8df9cf8a56606f3db54f00af547378e4f4e472,openstack/tripleo-ansible,stable/train,I7b8df9cf8a56606f3db54f00af547378e4f4e472,"After SFTP backup, the backup file and the iso must be deleted from the machine",MERGED,2021-05-27 10:49:27.000000000,2021-06-07 20:30:36.000000000,2021-06-07 20:30:36.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-05-27 10:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3296327247a12f0c105230c14a1c43bc4ea903d2', 'message': 'After SFTP backup, the backup file and the iso must be deleted from the machine\n\nCurrently, the SFTP backup leaves huge archives on the machine that the\nbackup has been taken. This change adds a cleanup task to the\nbackup&restore role. Also, to perform an SFTP backup, it is needed that\nthe SSH fingerprint of the storage node is downloaded on the node.\nAlthough this could be done by hand, this change automates also this\naction.\n\nbz#1955495\n\nChange-Id: I7b8df9cf8a56606f3db54f00af547378e4f4e472\n(cherry picked from commit afe69e3dbf1aa27873e9c6c8c67dee02f6ec4564)\n'}, {'number': 2, 'created': '2021-05-27 11:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0d1793ec05c8143e4809c2d2828c49c2b27ca827', 'message': 'After SFTP backup, the backup file and the iso must be deleted from the machine\n\nCurrently, the SFTP backup leaves huge archives on the machine that the\nbackup has been taken. This change adds a cleanup task to the\nbackup&restore role. Also, to perform an SFTP backup, it is needed that\nthe SSH fingerprint of the storage node is downloaded on the node.\nAlthough this could be done by hand, this change automates also this\naction.\n\nbz#1955495\n\nChange-Id: I7b8df9cf8a56606f3db54f00af547378e4f4e472\n(cherry picked from commit afe69e3dbf1aa27873e9c6c8c67dee02f6ec4564)\n'}, {'number': 3, 'created': '2021-05-27 11:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3f53d2ecd978ae039d940b63eb86912ab8ec1a1b', 'message': 'After SFTP backup, the backup file and the iso must be deleted from the machine\n\nCurrently, the SFTP backup leaves huge archives on the machine that the\nbackup has been taken. This change adds a cleanup task to the\nbackup&restore role. Also, to perform an SFTP backup, it is needed that\nthe SSH fingerprint of the storage node is downloaded on the node.\nAlthough this could be done by hand, this change automates also this\naction.\n\nbz#1955495\n\nChange-Id: I7b8df9cf8a56606f3db54f00af547378e4f4e472\n(cherry picked from commit afe69e3dbf1aa27873e9c6c8c67dee02f6ec4564)\n'}, {'number': 4, 'created': '2021-06-07 07:31:15.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/backup/tasks/main.yml', 'tripleo_ansible/roles/backup-and-restore/setup_rear/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dad7312fd92e5271575796856c2953626a027358', 'message': 'After SFTP backup, the backup file and the iso must be deleted from the machine\n\nCurrently, the SFTP backup leaves huge archives on the machine that the\nbackup has been taken. This change adds a cleanup task to the\nbackup&restore role. Also, to perform an SFTP backup, it is needed that\nthe SSH fingerprint of the storage node is downloaded on the node.\nAlthough this could be done by hand, this change automates also this\naction.\n\nAs the directory structure is not the same in train as it is in more\nadvanced versions, this cherry pick is not completely clean, and some\nrework needed to be done to put the code in the right place.\n\nbz#1955495\n\nChange-Id: I7b8df9cf8a56606f3db54f00af547378e4f4e472\n(cherry picked from commit afe69e3dbf1aa27873e9c6c8c67dee02f6ec4564)\n'}]",4,793340,dad7312fd92e5271575796856c2953626a027358,18,5,4,32968,,,0,"After SFTP backup, the backup file and the iso must be deleted from the machine

Currently, the SFTP backup leaves huge archives on the machine that the
backup has been taken. This change adds a cleanup task to the
backup&restore role. Also, to perform an SFTP backup, it is needed that
the SSH fingerprint of the storage node is downloaded on the node.
Although this could be done by hand, this change automates also this
action.

As the directory structure is not the same in train as it is in more
advanced versions, this cherry pick is not completely clean, and some
rework needed to be done to put the code in the right place.

bz#1955495

Change-Id: I7b8df9cf8a56606f3db54f00af547378e4f4e472
(cherry picked from commit afe69e3dbf1aa27873e9c6c8c67dee02f6ec4564)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/40/793340/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml']",2,3296327247a12f0c105230c14a1c43bc4ea903d2,change-793340-2,"<<<<<<< HEAD (2979a0 Fix tripleo_network config conditional) ======= --- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # ""backup_and_restore"" will search for and load any operating system variable file # found within the ""vars/"" path. If no OS files are found the task will skip. - name: Gather variables for each operating system include_vars: ""{{ item }}"" with_first_found: - skip: true files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" tags: - always - name: Install required packages for ReaR become: true package: name: ""{{ tripleo_backup_and_restore_rear_packages }}"" state: present tags: - bar_setup_rear - name: Remove ReaR rpm default cron programming become: true file: path: /etc/cron.d/rear state: absent when: tripleo_backup_and_restore_remove_default_cronjob | bool tags: - bar_setup_rear - name: Get local hostname command: hostname register: tripleo_backup_and_restore_hostname when: tripleo_backup_and_restore_hostname is undefined tags: - bar_setup_rear - name: Set bootstrap nodeid become: true register: tripleo_backup_and_restore_bootstrap_nodeid command: | hiera -c {{ tripleo_backup_and_restore_hiera_config_file }} 'mysql_short_bootstrap_node_name' tags: - bar_setup_rear - name: List enabled services by node become: true register: tripleo_backup_and_restore_enabled_services command: | hiera -c {{ tripleo_backup_and_restore_hiera_config_file }} 'service_names' tags: - bar_setup_rear - name: Calculate exclude paths set_fact: tripleo_backup_and_restore_exclude_paths: - ""{{ tripleo_backup_and_restore_exclude_paths_common }}"" - ""{{ (tripleo_backup_and_restore_enabled_services.stdout is search('nova_compute')) | ternary(tripleo_backup_and_restore_exclude_paths_compute, []) }}"" - ""{{ (tripleo_backup_and_restore_bootstrap_nodeid.stdout != tripleo_backup_and_restore_hostname.stdout and tripleo_backup_and_restore_enabled_services.stdout is search('pacemaker') and tripleo_backup_and_restore_enabled_services.stdout is search('mysql') and tripleo_backup_and_restore_exclude_paths_controller_non_bootrapnode|bool) | ternary(tripleo_backup_and_restore_exclude_paths_controller, []) }}"" tags: - bar_setup_rear - name: Generate ReaR config file become: true template: src: local.conf.j2 dest: /etc/rear/local.conf owner: root group: root mode: '0644' backup: true tags: - bar_setup_rear - name: Generate ReaR rescue file become: true template: src: rescue.conf.j2 dest: /etc/rear/rescue.conf owner: root group: root mode: '0644' backup: true tags: - bar_setup_rear - name: Load rear config become: true slurp: src: /etc/rear/local.conf register: rear_config tags: - bar_setup_rear - name: Extract OUTPUT_URL from rear config set_fact: output_url: ""{{ rear_config.content | b64decode | regex_findall('OUTPUT_URL=(.+)') | first }}"" tags: - bar_setup_rear - name: Check if this is a SFTP backup set_fact: sftp_backup: ""{{ output_url is search ('sftp://') }}"" tags: - bar_setup_rear - name: Extract the SFTP hostname set_fact: sftp_host: ""{{ output_url | regex_search('(?<=@)(.*?)(?=/)') }}"" when: sftp_backup tags: - bar_setup_rear - name: Retrieve host ssh fingerprint shell: ""ssh-keyscan -H {{ sftp_host }} >> ~/.ssh/known_hosts"" when: sftp_backup tags: - bar_setup_rear >>>>>>> CHANGE (a7176a After SFTP backup, the backup file and the iso must be delet) ",,228,0
openstack%2Fopenstack-ansible~master~Ib1ae7a4ba61efdb90ac9d12d0e43de6154593834,openstack/openstack-ansible,master,Ib1ae7a4ba61efdb90ac9d12d0e43de6154593834,Move CentOS 8 jobs to NV,ABANDONED,2021-06-07 16:16:42.000000000,2021-06-07 19:57:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-07 16:16:42.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7c4245d5375a746d08b57180ee07e02cc3ffaec9', 'message': ""Move CentOS 8 jobs to NV\n\nWith release of CentOS 8.4 we faced with circular dependecy that can't\nbe solved in other manner rather then setting CentOS 8 to NV.\n\nOnce it will be resolved, we revert this patch\n\nChange-Id: Ib1ae7a4ba61efdb90ac9d12d0e43de6154593834\n""}]",0,795153,7c4245d5375a746d08b57180ee07e02cc3ffaec9,6,2,1,28619,,,0,"Move CentOS 8 jobs to NV

With release of CentOS 8.4 we faced with circular dependecy that can't
be solved in other manner rather then setting CentOS 8 to NV.

Once it will be resolved, we revert this patch

Change-Id: Ib1ae7a4ba61efdb90ac9d12d0e43de6154593834
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/53/795153/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,7c4245d5375a746d08b57180ee07e02cc3ffaec9,osa/el84, voting: false voting: false voting: false voting: false voting: false voting: false voting: false voting: false voting: false voting: false voting: false voting: false,,12,6
openstack%2Ftripleo-ansible~stable%2Fussuri~I7b8df9cf8a56606f3db54f00af547378e4f4e472,openstack/tripleo-ansible,stable/ussuri,I7b8df9cf8a56606f3db54f00af547378e4f4e472,"After SFTP backup, the backup file and the iso must be deleted from the machine",MERGED,2021-05-27 10:49:01.000000000,2021-06-07 19:31:12.000000000,2021-06-07 19:31:12.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-05-27 10:49:01.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a7176ae4212d2f7f6e21cfd96ec19fd4b0c00c22', 'message': 'After SFTP backup, the backup file and the iso must be deleted from the machine\n\nCurrently, the SFTP backup leaves huge archives on the machine that the\nbackup has been taken. This change adds a cleanup task to the\nbackup&restore role. Also, to perform an SFTP backup, it is needed that\nthe SSH fingerprint of the storage node is downloaded on the node.\nAlthough this could be done by hand, this change automates also this\naction.\n\nbz#1955495\n\nChange-Id: I7b8df9cf8a56606f3db54f00af547378e4f4e472\n(cherry picked from commit afe69e3dbf1aa27873e9c6c8c67dee02f6ec4564)\n'}]",0,793339,a7176ae4212d2f7f6e21cfd96ec19fd4b0c00c22,18,8,1,32968,,,0,"After SFTP backup, the backup file and the iso must be deleted from the machine

Currently, the SFTP backup leaves huge archives on the machine that the
backup has been taken. This change adds a cleanup task to the
backup&restore role. Also, to perform an SFTP backup, it is needed that
the SSH fingerprint of the storage node is downloaded on the node.
Although this could be done by hand, this change automates also this
action.

bz#1955495

Change-Id: I7b8df9cf8a56606f3db54f00af547378e4f4e472
(cherry picked from commit afe69e3dbf1aa27873e9c6c8c67dee02f6ec4564)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/39/793339/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml']",2,a7176ae4212d2f7f6e21cfd96ec19fd4b0c00c22,change-793336-1-stable/ussuri," - name: Load rear config become: true slurp: src: /etc/rear/local.conf register: rear_config tags: - bar_setup_rear - name: Extract OUTPUT_URL from rear config set_fact: output_url: ""{{ rear_config.content | b64decode | regex_findall('OUTPUT_URL=(.+)') | first }}"" tags: - bar_setup_rear - name: Check if this is a SFTP backup set_fact: sftp_backup: ""{{ output_url is search ('sftp://') }}"" tags: - bar_setup_rear - name: Extract the SFTP hostname set_fact: sftp_host: ""{{ output_url | regex_search('(?<=@)(.*?)(?=/)') }}"" when: sftp_backup tags: - bar_setup_rear - name: Retrieve host ssh fingerprint shell: ""ssh-keyscan -H {{ sftp_host }} >> ~/.ssh/known_hosts"" when: sftp_backup tags: - bar_setup_rear",,64,0
openstack%2Ftripleo-ansible~stable%2Fvictoria~I7b8df9cf8a56606f3db54f00af547378e4f4e472,openstack/tripleo-ansible,stable/victoria,I7b8df9cf8a56606f3db54f00af547378e4f4e472,"After SFTP backup, the backup file and the iso must be deleted from the machine",MERGED,2021-05-27 09:45:03.000000000,2021-06-07 19:31:09.000000000,2021-06-07 19:31:09.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-05-27 09:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6c2e1d1b6fd96684cfdbbdbf55829e54816c1697', 'message': 'After SFTP backup, the backup file and the iso must be deleted from the machine\n\nCurrently, the SFTP backup leaves huge archives on the machine that the\nbackup has been taken. This change adds a cleanup task to the\nbackup&restore role. Also, to perform an SFTP backup, it is needed that\nthe SSH fingerprint of the storage node is downloaded on the node.\nAlthough this could be done by hand, this change automates also this\naction.\n\nbz#1955495\n\nChange-Id: I7b8df9cf8a56606f3db54f00af547378e4f4e472\n(cherry picked from commit afe69e3dbf1aa27873e9c6c8c67dee02f6ec4564)\n'}, {'number': 2, 'created': '2021-05-27 10:47:12.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/debdb047576df13a5f86cb25393c7f7328710c22', 'message': 'After SFTP backup, the backup file and the iso must be deleted from the machine\n\nCurrently, the SFTP backup leaves huge archives on the machine that the\nbackup has been taken. This change adds a cleanup task to the\nbackup&restore role. Also, to perform an SFTP backup, it is needed that\nthe SSH fingerprint of the storage node is downloaded on the node.\nAlthough this could be done by hand, this change automates also this\naction.\n\nbz#1955495\n\nChange-Id: I7b8df9cf8a56606f3db54f00af547378e4f4e472\n(cherry picked from commit afe69e3dbf1aa27873e9c6c8c67dee02f6ec4564)\n'}]",1,793336,debdb047576df13a5f86cb25393c7f7328710c22,20,8,2,32968,,,0,"After SFTP backup, the backup file and the iso must be deleted from the machine

Currently, the SFTP backup leaves huge archives on the machine that the
backup has been taken. This change adds a cleanup task to the
backup&restore role. Also, to perform an SFTP backup, it is needed that
the SSH fingerprint of the storage node is downloaded on the node.
Although this could be done by hand, this change automates also this
action.

bz#1955495

Change-Id: I7b8df9cf8a56606f3db54f00af547378e4f4e472
(cherry picked from commit afe69e3dbf1aa27873e9c6c8c67dee02f6ec4564)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/36/793336/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml']",2,6c2e1d1b6fd96684cfdbbdbf55829e54816c1697,change-793336-1," - name: Load rear config become: true slurp: src: /etc/rear/local.conf register: rear_config tags: - bar_setup_rear - name: Extract OUTPUT_URL from rear config set_fact: output_url: ""{{ rear_config.content | b64decode | regex_findall('OUTPUT_URL=(.+)') | first }}"" tags: - bar_setup_rear - name: Check if this is a SFTP backup set_fact: sftp_backup: ""{{ output_url is search ('sftp://') }}"" tags: - bar_setup_rear - name: Extract the SFTP hostname set_fact: sftp_host: ""{{ output_url | regex_search('(?<=@)(.*?)(?=/)') }}"" when: sftp_backup tags: - bar_setup_rear - name: Retrieve host ssh fingerprint shell: ""ssh-keyscan -H {{ sftp_host }} >> ~/.ssh/known_hosts"" when: sftp_backup tags: - bar_setup_rear",,67,0
openstack%2Frequirements~master~Ifb6d0935f8df4600ea06fc541dc031868e4682e0,openstack/requirements,master,Ifb6d0935f8df4600ea06fc541dc031868e4682e0,Updated from generate-constraints,MERGED,2021-06-05 06:30:19.000000000,2021-06-07 19:23:25.000000000,2021-06-07 19:22:05.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 06:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7c1a38cfe7b5d96de4eb877b35f95aa15a87cac0', 'message': 'Updated from generate-constraints\n\nChange-Id: Ifb6d0935f8df4600ea06fc541dc031868e4682e0\n'}, {'number': 2, 'created': '2021-06-07 06:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/762f5bfd32298547759e0e30d170a8336e433829', 'message': 'Updated from generate-constraints\n\nChange-Id: Ifb6d0935f8df4600ea06fc541dc031868e4682e0\n'}, {'number': 3, 'created': '2021-06-07 14:11:36.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/748e981ff163732e486e7f0d589e4907fdd52454', 'message': 'Updated from generate-constraints\n\nChange-Id: Ifb6d0935f8df4600ea06fc541dc031868e4682e0\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,794953,748e981ff163732e486e7f0d589e4907fdd52454,15,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: Ifb6d0935f8df4600ea06fc541dc031868e4682e0
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/53/794953/3 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7c1a38cfe7b5d96de4eb877b35f95aa15a87cac0,openstack/requirements/constraints/noclob,neutron-lib===2.12.0XStatic-Angular===1.8.2.1google-api-core===1.29.0pyghmi===1.5.27SQLAlchemy===1.4.17eventlet===0.31.0importlib-metadata===4.5.0docutils===0.17.1boto3===1.17.88Sphinx===4.0.2botocore===1.20.88pkg-resources===0.0.0fasteners===0.16.1,neutron-lib===2.11.0XStatic-Angular===1.5.8.0google-api-core===1.28.0pyghmi===1.5.26SQLAlchemy===1.3.23eventlet===0.30.2importlib-metadata===4.4.0docutils===0.16boto3===1.17.86Sphinx===3.5.4botocore===1.20.86fasteners===0.14.1setuptools===57.0.0,13,13
openstack%2Fneutron-tempest-plugin~master~I7cec85b14c70ab6d55656cd518fdb4c806713c73,openstack/neutron-tempest-plugin,master,I7cec85b14c70ab6d55656cd518fdb4c806713c73,QoS rule negative tests,MERGED,2021-05-05 08:37:15.000000000,2021-06-07 19:22:01.000000000,2021-06-07 19:22:01.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 33341}]","[{'number': 1, 'created': '2021-05-05 08:37:15.000000000', 'files': ['neutron_tempest_plugin/api/base.py', 'neutron_tempest_plugin/api/test_qos_negative.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/dbb0b4891ffaab0b600307768cee2b997e2b5f78', 'message': 'QoS rule negative tests\n\nAdd negative tests for QoS minimum bandwidth rule and QoS DSCP rules.\n\nChange-Id: I7cec85b14c70ab6d55656cd518fdb4c806713c73\n'}]",2,789732,dbb0b4891ffaab0b600307768cee2b997e2b5f78,19,4,1,8313,,,0,"QoS rule negative tests

Add negative tests for QoS minimum bandwidth rule and QoS DSCP rules.

Change-Id: I7cec85b14c70ab6d55656cd518fdb4c806713c73
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/32/789732/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/api/base.py', 'neutron_tempest_plugin/api/test_qos_negative.py']",2,dbb0b4891ffaab0b600307768cee2b997e2b5f78,qos_rule_negative_tests,"class QosRuleNegativeBaseTestJSON(base.BaseAdminNetworkTest): def _test_rule_update_rule_nonexistent_policy(self, create_params, update_params): rule = self.rule_create_m(policy_id=policy['id'], **create_params) self.rule_update_m, non_exist_id, rule['id'], **update_params) def _test_rule_create_rule_non_existent_policy(self, create_params): self.rule_create_m, non_exist_id, **create_params) def _test_rule_update_rule_nonexistent_rule(self, update_params): self.rule_update_m, policy['id'], non_exist_id, **update_params) class QosBandwidthLimitRuleNegativeTestJSON(QosRuleNegativeBaseTestJSON): @classmethod def resource_setup(cls): cls.rule_create_m = cls.create_qos_bandwidth_limit_rule cls.rule_update_m = cls.admin_client.update_bandwidth_limit_rule super(QosBandwidthLimitRuleNegativeTestJSON, cls).resource_setup() @decorators.attr(type='negative') @decorators.idempotent_id('e9ce8042-c828-4cb9-b1f1-85bd35e6553a') def test_rule_update_rule_nonexistent_policy(self): create_params = {'max_kbps': 1, 'max_burst_kbps': 1} update_params = {'max_kbps': 200, 'max_burst_kbps': 1337} self._test_rule_update_rule_nonexistent_policy( create_params, update_params) @decorators.attr(type='negative') @decorators.idempotent_id('1b592566-745f-4e15-a439-073afe341244') def test_rule_create_rule_non_existent_policy(self): create_params = {'max_kbps': 200, 'max_burst_kbps': 300} self._test_rule_create_rule_non_existent_policy(create_params) @decorators.attr(type='negative') @decorators.idempotent_id('a2c72066-0c32-4f28-be7f-78fa721588b6') def test_rule_update_rule_nonexistent_rule(self): update_params = {'max_kbps': 200, 'max_burst_kbps': 1337} self._test_rule_update_rule_nonexistent_rule(update_params) class QosMinimumBandwidthRuleNegativeTestJSON(QosRuleNegativeBaseTestJSON): @classmethod def resource_setup(cls): cls.rule_create_m = cls.create_qos_minimum_bandwidth_rule cls.rule_update_m = cls.admin_client.update_minimum_bandwidth_rule super(QosMinimumBandwidthRuleNegativeTestJSON, cls).resource_setup() @decorators.attr(type='negative') @decorators.idempotent_id('08b8455b-4d4f-4119-bad3-9357085c3a80') def test_rule_update_rule_nonexistent_policy(self): create_params = {'min_kbps': 1} update_params = {'min_kbps': 200} self._test_rule_update_rule_nonexistent_policy( create_params, update_params) @decorators.attr(type='negative') @decorators.idempotent_id('5a714a4a-bfbc-4cf9-b0c0-13fd185204f7') def test_rule_create_rule_non_existent_policy(self): create_params = {'min_kbps': 200} self._test_rule_create_rule_non_existent_policy(create_params) @decorators.attr(type='negative') @decorators.idempotent_id('8470cbe0-8ca5-46ab-9c66-7cf69301b121') def test_rule_update_rule_nonexistent_rule(self): update_params = {'min_kbps': 200} self._test_rule_update_rule_nonexistent_rule(update_params) class QosDscpRuleNegativeTestJSON(QosRuleNegativeBaseTestJSON): @classmethod def resource_setup(cls): cls.rule_create_m = cls.create_qos_dscp_marking_rule cls.rule_update_m = cls.admin_client.update_dscp_marking_rule super(QosDscpRuleNegativeTestJSON, cls).resource_setup() @decorators.attr(type='negative') @decorators.idempotent_id('d47d5fbe-3e98-476f-b2fd-97818175dea5') def test_rule_update_rule_nonexistent_policy(self): create_params = {'dscp_mark': 26} update_params = {'dscp_mark': 16} self._test_rule_update_rule_nonexistent_policy( create_params, update_params) @decorators.attr(type='negative') @decorators.idempotent_id('07d17f09-3dc4-4c24-9bb1-49081a153c5a') def test_rule_create_rule_non_existent_policy(self): create_params = {'dscp_mark': 16} self._test_rule_create_rule_non_existent_policy(create_params) @decorators.attr(type='negative') @decorators.idempotent_id('9c0bd085-5a7a-496f-a984-50dc631a64f2') def test_rule_update_rule_nonexistent_rule(self): update_params = {'dscp_mark': 16} self._test_rule_update_rule_nonexistent_rule(update_params)","class QosBandwidthLimitRuleNegativeTestJSON(base.BaseAdminNetworkTest): @decorators.attr(type='negative') @decorators.idempotent_id('e9ce8042-c828-4cb9-b1f1-85bd35e6553a') def test_rule_update_rule_nonexistent_policy(self): rule = self.create_qos_bandwidth_limit_rule(policy_id=policy['id'], max_kbps=1, max_burst_kbps=1) self.admin_client.update_bandwidth_limit_rule, non_exist_id, rule['id'], max_kbps=200, max_burst_kbps=1337) @decorators.attr(type='negative') @decorators.idempotent_id('1b592566-745f-4e15-a439-073afe341244') def test_rule_create_rule_non_existent_policy(self): self.admin_client.create_bandwidth_limit_rule, non_exist_id, max_kbps=200, max_burst_kbps=300) @decorators.attr(type='negative') @decorators.idempotent_id('a2c72066-0c32-4f28-be7f-78fa721588b6') def test_rule_update_rule_nonexistent_rule(self): self.admin_client.update_bandwidth_limit_rule, policy['id'], non_exist_id, max_kbps=200, max_burst_kbps=1337)",108,19
openstack%2Fvalidations-libs~master~I761c4449579590b9081a78627eeac754d6b04e2a,openstack/validations-libs,master,I761c4449579590b9081a78627eeac754d6b04e2a,Constants path formatting unification,MERGED,2021-05-06 10:03:07.000000000,2021-06-07 19:16:48.000000000,2021-06-07 19:15:11.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-06 10:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2edaaffc5b7a8f8fbf751529d00edaa8c3b9ac15', 'message': 'Constants path formatting unification\n\nPaths in the constants.py are now formatted\nusing a single function, the os.path.join.\n\nThis both normalizes the code and reduces\nchance of errors and confusion arising\nfrom nonstandard paths.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I761c4449579590b9081a78627eeac754d6b04e2a\n'}, {'number': 2, 'created': '2021-05-06 14:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b3903d2a8129b6b941c42928f7a2c462808a36bf', 'message': 'Constants path formatting unification\n\nPaths in the constants.py are now formatted\nusing a single function, the os.path.join.\n\nThis both normalizes the code and reduces\nchance of errors and confusion arising\nfrom nonstandard paths.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I761c4449579590b9081a78627eeac754d6b04e2a\n'}, {'number': 3, 'created': '2021-05-10 11:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/167cfd4e840c2b32a485cadda2dfe6e3718e74b0', 'message': 'Constants path formatting unification\n\nPaths in the constants.py are now formatted\nusing a single function, the os.path.join.\n\nThis both normalizes the code and reduces\nchance of errors and confusion arising\nfrom nonstandard paths.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I761c4449579590b9081a78627eeac754d6b04e2a\n'}, {'number': 4, 'created': '2021-05-10 14:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/39d02884f38edb7c0d1f9dbec346ce1b2a910412', 'message': 'Constants path formatting unification\n\nPaths in the constants.py are now formatted\nusing a single function, the os.path.join.\n\nThis both normalizes the code and reduces\nchance of errors and confusion arising\nfrom nonstandard paths.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I761c4449579590b9081a78627eeac754d6b04e2a\n'}, {'number': 5, 'created': '2021-05-17 05:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/bd3c1720889f223be9ac62763cc3176b63cc3a09', 'message': 'Constants path formatting unification\n\nPaths in the constants.py are now formatted\nusing a single function, the os.path.join.\n\nThis both normalizes the code and reduces\nchance of errors and confusion arising\nfrom nonstandard paths.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I761c4449579590b9081a78627eeac754d6b04e2a\n'}, {'number': 6, 'created': '2021-05-19 12:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c822472ddc1a116e7cd771445b58b7bf43f7870d', 'message': 'Constants path formatting unification\n\nPaths in the constants.py are now formatted\nusing a single function, the os.path.join.\n\nThis both normalizes the code and reduces\nchance of errors and confusion arising\nfrom nonstandard paths.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I761c4449579590b9081a78627eeac754d6b04e2a\n'}, {'number': 7, 'created': '2021-05-20 14:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/00ae79b226436591fda548a025067d12412a1093', 'message': 'Constants path formatting unification\n\nPaths in the constants.py are now formatted\nusing a single function, the os.path.join.\n\nThis both normalizes the code and reduces\nchance of errors and confusion arising\nfrom nonstandard paths.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I761c4449579590b9081a78627eeac754d6b04e2a\n'}, {'number': 8, 'created': '2021-05-31 08:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/66276bc110df2b5732a0f716ed4eb423ff351704', 'message': 'Constants path formatting unification\n\nPaths in the constants.py are now formatted\nusing a single function, the os.path.join.\n\nThis both normalizes the code and reduces\nchance of errors and confusion arising\nfrom nonstandard paths.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I761c4449579590b9081a78627eeac754d6b04e2a\n'}, {'number': 9, 'created': '2021-06-03 11:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4c0cf3bf0c17895536624d58e96b8016be0babab', 'message': 'Constants path formatting unification\n\nPaths in the constants.py are now formatted\nusing a single function, the os.path.join.\n\nThis both normalizes the code and reduces\nchance of errors and confusion arising\nfrom nonstandard paths.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I761c4449579590b9081a78627eeac754d6b04e2a\n'}, {'number': 10, 'created': '2021-06-03 12:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/84bce6ccbe84dc4402ceec860af5b2164b2be627', 'message': 'Constants path formatting unification\n\nPaths in the constants.py are now formatted\nusing a single function, the os.path.join.\n\nThis both normalizes the code and reduces\nchance of errors and confusion arising\nfrom nonstandard paths.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I761c4449579590b9081a78627eeac754d6b04e2a\n'}, {'number': 11, 'created': '2021-06-03 13:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/edd17369f699929bc3d0e2c203fa6fa9ba888857', 'message': 'Constants path formatting unification\n\nPaths in the constants.py are now formatted\nusing a single function, the os.path.join.\n\nThis both normalizes the code and reduces\nchance of errors and confusion arising\nfrom nonstandard paths.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I761c4449579590b9081a78627eeac754d6b04e2a\n'}, {'number': 12, 'created': '2021-06-04 11:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/803e5b4abf811ade7e46aafc834ebdfcdbabfb41', 'message': 'Constants path formatting unification\n\nPaths in the constants.py are now formatted\nusing a single function, the os.path.join.\n\nThis both normalizes the code and reduces\nchance of errors and confusion arising\nfrom nonstandard paths.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I761c4449579590b9081a78627eeac754d6b04e2a\n'}, {'number': 13, 'created': '2021-06-04 12:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c905f57046424e32eb4f46cc57d1556d42c53e13', 'message': 'Constants path formatting unification\n\nPaths in the constants.py are now formatted\nusing a single function, the os.path.join.\n\nThis both normalizes the code and reduces\nchance of errors and confusion arising\nfrom nonstandard paths.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I761c4449579590b9081a78627eeac754d6b04e2a\n'}, {'number': 14, 'created': '2021-06-04 12:21:31.000000000', 'files': ['validations_libs/constants.py', 'validations_libs/utils.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a70ad120430fbc09e823afb149193a6373435e61', 'message': 'Constants path formatting unification\n\nPaths in the constants.py are now formatted\nusing a single function, the os.path.join.\n\nThis both normalizes the code and reduces\nchance of errors and confusion arising\nfrom nonstandard paths.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I761c4449579590b9081a78627eeac754d6b04e2a\n'}]",1,790031,a70ad120430fbc09e823afb149193a6373435e61,36,4,14,32926,,,0,"Constants path formatting unification

Paths in the constants.py are now formatted
using a single function, the os.path.join.

This both normalizes the code and reduces
chance of errors and confusion arising
from nonstandard paths.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I761c4449579590b9081a78627eeac754d6b04e2a
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/31/790031/5 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/constants.py'],1,2edaaffc5b7a8f8fbf751529d00edaa8c3b9ac15,constants/pathformat,"VALIDATION_GROUPS_INFO = os.path.join( DEFAULT_VALIDATIONS_BASEDIR, 'groups.yaml')VALIDATION_ANSIBLE_ARTIFACT_PATH = os.path.join( VALIDATIONS_LOG_BASEDIR, 'artifacts')",VALIDATION_GROUPS_INFO = '%s/groups.yaml' % DEFAULT_VALIDATIONS_BASEDIRVALIDATION_ANSIBLE_ARTIFACT_PATH = '{}/artifacts/'.format( VALIDATIONS_LOG_BASEDIR),6,3
openstack%2Fpuppet-pacemaker~master~I7c53e2c8ff9cf3558c4a5e7564e9113e6616baac,openstack/puppet-pacemaker,master,I7c53e2c8ff9cf3558c4a5e7564e9113e6616baac,Update metadata to match released tag,MERGED,2021-06-02 15:59:00.000000000,2021-06-07 19:15:38.000000000,2021-06-07 19:15:38.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 15:59:00.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/b0ea31ae9a4860e0b8d9d80150c2e69962eadaed', 'message': 'Update metadata to match released tag\n\nWe had tag 1.2.0 released for commit 6e272bf9ec, but the metadata.json\nfile was not updated to match. This commit fixes that.\n\nChange-Id: I7c53e2c8ff9cf3558c4a5e7564e9113e6616baac\n'}]",0,794261,b0ea31ae9a4860e0b8d9d80150c2e69962eadaed,8,4,1,13294,,,0,"Update metadata to match released tag

We had tag 1.2.0 released for commit 6e272bf9ec, but the metadata.json
file was not updated to match. This commit fixes that.

Change-Id: I7c53e2c8ff9cf3558c4a5e7564e9113e6616baac
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/61/794261/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,b0ea31ae9a4860e0b8d9d80150c2e69962eadaed,," ""version"": ""1.2.0"","," ""version"": ""1.1.0"",",1,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ied85643d888d6729aa97172d836c8d1e04bb469f,openstack/tripleo-ansible,stable/wallaby,Ied85643d888d6729aa97172d836c8d1e04bb469f,Deploy standalone ganesha instances using cephadm,MERGED,2021-06-04 19:23:43.000000000,2021-06-07 19:15:08.000000000,2021-06-07 19:15:08.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 9003}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 19:23:43.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/templates/ceph-nfs.service.j2', 'tripleo_ansible/roles/tripleo_cephadm/tasks/ceph_cli.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/nfs.yaml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1a64203a40f8707c7e2b7566eb1efd7162ff529a', 'message': 'Deploy standalone ganesha instances using cephadm\n\nWhen Ceph is external, we can still deploy standalone ganesha\ninstances; these instances can be connected to the external ceph\ncluster via the related ceph.conf and keyring.\n\nChange-Id: Ied85643d888d6729aa97172d836c8d1e04bb469f\n(cherry picked from commit e19887106889795f2c2bc11199ecef5fd08e4ff1)\n'}]",0,794820,1a64203a40f8707c7e2b7566eb1efd7162ff529a,10,6,1,25402,,,0,"Deploy standalone ganesha instances using cephadm

When Ceph is external, we can still deploy standalone ganesha
instances; these instances can be connected to the external ceph
cluster via the related ceph.conf and keyring.

Change-Id: Ied85643d888d6729aa97172d836c8d1e04bb469f
(cherry picked from commit e19887106889795f2c2bc11199ecef5fd08e4ff1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/794820/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/templates/ceph-nfs.service.j2', 'tripleo_ansible/roles/tripleo_cephadm/tasks/ceph_cli.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/nfs.yaml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/prepare.yml']",5,1a64203a40f8707c7e2b7566eb1efd7162ff529a,cephadm_ganesha,"- name: Configure boostrap host info for cephadm when: ""{{ groups['ceph_mon'] | default([]) | length > 0 }}"" block: - name: Set bootstrap host set_fact: tripleo_cephadm_bootstrap_host: ""{{ groups['ceph_mon'][0] }}"" - name: Set first monitor IP set_fact: tripleo_cephadm_first_mon_ip: ""{{ hostvars[tripleo_cephadm_bootstrap_host][tripleo_run_cephadm_net] | default(ansible_host) }}"" vars: tripleo_run_cephadm_net: ""{{ service_net_map['ceph_mon_network']|default('') + '_ip' }}"" - name: genereate ceph_spec for bootstrap ceph_spec_bootstrap: new_ceph_spec: ""{{ tripleo_run_cephadm_spec_path }}"" tripleo_ansible_inventory: ""{{ inventory_file }}"" fqdn: ""{{ ceph_spec_fqdn }}"" osd_spec: ""{{ ceph_osd_spec }}"" when: - tripleo_cephadm_dynamic_spec tripleo_cephadm_bootstrap_host: {{ tripleo_cephadm_bootstrap_host | default('') }} tripleo_cephadm_first_mon_ip: {{ tripleo_cephadm_first_mon_ip | default('') }}","- name: Set bootstrap host set_fact: tripleo_cephadm_bootstrap_host: ""{{ groups['ceph_mon'][0] }}"" - name: Set first monitor IP set_fact: tripleo_cephadm_first_mon_ip: ""{{ hostvars[tripleo_cephadm_bootstrap_host][tripleo_run_cephadm_net] | default(ansible_host) }}"" vars: tripleo_run_cephadm_net: ""{{ service_net_map['ceph_mon_network']|default('') + '_ip' }}"" - name: genereate ceph_spec for bootstrap ceph_spec_bootstrap: new_ceph_spec: ""{{ tripleo_run_cephadm_spec_path }}"" tripleo_ansible_inventory: ""{{ inventory_file }}"" fqdn: ""{{ ceph_spec_fqdn }}"" osd_spec: ""{{ ceph_osd_spec }}"" when: - tripleo_cephadm_dynamic_spec tripleo_cephadm_bootstrap_host: {{ tripleo_cephadm_bootstrap_host }} tripleo_cephadm_first_mon_ip: {{ tripleo_cephadm_first_mon_ip }}",34,23
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ieffe2852111c3ec8347343a042dd78bbf691d79a,openstack/tripleo-heat-templates,stable/wallaby,Ieffe2852111c3ec8347343a042dd78bbf691d79a,Allow customizing podman's [engine]/events_logger,MERGED,2021-06-07 06:55:32.000000000,2021-06-07 19:15:03.000000000,2021-06-07 19:15:03.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-07 06:55:32.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aaf57f21df8386b6143513960f04cb1b956b021b', 'message': ""Allow customizing podman's [engine]/events_logger\n\nIn I780103e17f1bb42a0546c30bd6c001c642ad88b3 we introduced the\njournald default for the events_logger key. With this change we\nallow to change this new default, in case we do need to change it\nfor some reason.\n\nRelated-Bug: #1923607\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/794948\nChange-Id: Ieffe2852111c3ec8347343a042dd78bbf691d79a\n(cherry picked from commit 4ea2a6eb7c84682d49b50f1e087c64b7dce13103)\n""}]",0,795034,aaf57f21df8386b6143513960f04cb1b956b021b,7,3,1,20172,,,0,"Allow customizing podman's [engine]/events_logger

In I780103e17f1bb42a0546c30bd6c001c642ad88b3 we introduced the
journald default for the events_logger key. With this change we
allow to change this new default, in case we do need to change it
for some reason.

Related-Bug: #1923607

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/794948
Change-Id: Ieffe2852111c3ec8347343a042dd78bbf691d79a
(cherry picked from commit 4ea2a6eb7c84682d49b50f1e087c64b7dce13103)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/795034/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,aaf57f21df8386b6143513960f04cb1b956b021b,events-logger-stable/wallaby," ContainerDefaultEventsLogger: type: string default: 'journald' description: Setting to configure where podman logs its events. Uses journald by default as that will rotate data stored in tmpfs. constraints: - allowed_values: ['journald', 'file', 'none'] container_events_logger_mechanism: {get_param: ContainerDefaultEventsLogger} tripleo_container_events_logger_mechanism: ""{{ container_events_logger_mechanism }}""",,9,0
openstack%2Fmonasca-thresh~stable%2Fvictoria~I954ec191692c394f546219acdb17afc0f5f916ed,openstack/monasca-thresh,stable/victoria,I954ec191692c394f546219acdb17afc0f5f916ed,Fix Docker build,MERGED,2021-06-07 16:16:44.000000000,2021-06-07 19:02:35.000000000,2021-06-07 19:02:35.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-06-07 16:16:44.000000000', 'files': ['docker/build_image.sh'], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/1a0782d40e6f6b007a2d9801894b757385fd727b', 'message': ""Fix Docker build\n\nThe default nodeset was just changed to focal [1], which in the absence\nof the python-is-python3 package doesn't provide a python binary.\n\n[1] https://review.opendev.org/c/opendev/base-jobs/+/789098\n\nChange-Id: I954ec191692c394f546219acdb17afc0f5f916ed\n(cherry picked from commit d54904e585e44d5fa4715f4b37c07bc90de21c84)\n""}]",0,795134,1a0782d40e6f6b007a2d9801894b757385fd727b,6,3,1,28062,,,0,"Fix Docker build

The default nodeset was just changed to focal [1], which in the absence
of the python-is-python3 package doesn't provide a python binary.

[1] https://review.opendev.org/c/opendev/base-jobs/+/789098

Change-Id: I954ec191692c394f546219acdb17afc0f5f916ed
(cherry picked from commit d54904e585e44d5fa4715f4b37c07bc90de21c84)
",git fetch https://review.opendev.org/openstack/monasca-thresh refs/changes/34/795134/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/build_image.sh'],1,1a0782d40e6f6b007a2d9801894b757385fd727b,docker-build-fixes-stable/victoria,"REAL_PATH=$(python3 -c ""import os,sys; print(os.path.realpath('$0'))"")","REAL_PATH=$(python -c ""import os,sys; print(os.path.realpath('$0'))"")",1,1
openstack%2Fmonasca-thresh~stable%2Fwallaby~I954ec191692c394f546219acdb17afc0f5f916ed,openstack/monasca-thresh,stable/wallaby,I954ec191692c394f546219acdb17afc0f5f916ed,Fix Docker build,MERGED,2021-06-07 16:16:16.000000000,2021-06-07 18:59:25.000000000,2021-06-07 18:59:25.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-06-07 16:16:16.000000000', 'files': ['docker/build_image.sh'], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/b8451cd3aa81d9aec081cf17daf4d671fa44fc2c', 'message': ""Fix Docker build\n\nThe default nodeset was just changed to focal [1], which in the absence\nof the python-is-python3 package doesn't provide a python binary.\n\n[1] https://review.opendev.org/c/opendev/base-jobs/+/789098\n\nChange-Id: I954ec191692c394f546219acdb17afc0f5f916ed\n(cherry picked from commit d54904e585e44d5fa4715f4b37c07bc90de21c84)\n""}]",0,795133,b8451cd3aa81d9aec081cf17daf4d671fa44fc2c,6,3,1,28062,,,0,"Fix Docker build

The default nodeset was just changed to focal [1], which in the absence
of the python-is-python3 package doesn't provide a python binary.

[1] https://review.opendev.org/c/opendev/base-jobs/+/789098

Change-Id: I954ec191692c394f546219acdb17afc0f5f916ed
(cherry picked from commit d54904e585e44d5fa4715f4b37c07bc90de21c84)
",git fetch https://review.opendev.org/openstack/monasca-thresh refs/changes/33/795133/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/build_image.sh'],1,b8451cd3aa81d9aec081cf17daf4d671fa44fc2c,docker-build-fixes-stable/wallaby,"REAL_PATH=$(python3 -c ""import os,sys; print(os.path.realpath('$0'))"")","REAL_PATH=$(python -c ""import os,sys; print(os.path.realpath('$0'))"")",1,1
openstack%2Fpuppet-horizon~master~Ie1442d34b6837ced5f44018d038d4d716d568655,openstack/puppet-horizon,master,Ie1442d34b6837ced5f44018d038d4d716d568655,Add support for independent manila-dashboard configurations,MERGED,2021-05-09 02:15:53.000000000,2021-06-07 18:31:04.000000000,2021-06-07 18:29:34.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-09 02:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/bf50707eab3ad7d8b032d723d88d7280e5ccc82c', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new octavia::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n'}, {'number': 2, 'created': '2021-05-09 02:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/39dcd70327e5ff1cbfa333c06f2bdf6424ea8f0c', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new octavia::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n'}, {'number': 3, 'created': '2021-05-09 11:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/daf8e50d1ae9754b19f343611d5c4968d4c75279', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new octavia::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n'}, {'number': 4, 'created': '2021-05-10 23:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/fd74ab0aa5a26a5b1ffe4bd57c40bb9d90160324', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new octavia::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n'}, {'number': 5, 'created': '2021-05-11 15:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/2db2f5368123fe9383d8b00ea1eda1e45c86db4a', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new octavia::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n'}, {'number': 6, 'created': '2021-05-17 06:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/d2a6c5563ec25b32259a838a0b85266d9eff4109', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new octavia::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n'}, {'number': 7, 'created': '2021-05-17 15:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/79c0b10dc75a909ce3c75e028f9a5840948a55e0', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n'}, {'number': 8, 'created': '2021-05-21 08:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/c0955f455d60d2a42a947ee4f05ced8be9522248', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n'}, {'number': 9, 'created': '2021-05-28 00:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/1244b55f854948fa224876c059f09f2d91f9cc40', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n'}, {'number': 10, 'created': '2021-06-03 14:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/6f6c19cf06b3391a7f16efa9f126e404817c7912', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n'}, {'number': 11, 'created': '2021-06-03 16:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/6910c2a9e48a5ec6b0db139e4159b76222e3252f', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n'}, {'number': 12, 'created': '2021-06-05 22:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/9e7e4325dfff285aaf24c43b3c78aa2a2374e1ee', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n'}, {'number': 13, 'created': '2021-06-05 22:57:50.000000000', 'files': ['releasenotes/notes/manila-dashboard-aaf28389e0bcfa9b.yaml', 'templates/_90_manila_shares.py.erb', 'manifests/params.pp', 'manifests/dashboards/manila.pp', 'spec/classes/horizon_dashboards_manila_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/a7d71fb37d7638d19f9ba22650a49c93b2be9142', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n'}]",7,790350,a7d71fb37d7638d19f9ba22650a49c93b2be9142,51,8,13,9816,,,0,"Add support for independent manila-dashboard configurations

This change introduces the new horizon::dashboards::manila class,
which allows users to manage the independent configuration file for
manila dashboard (_90_manila_shares.py).

Change-Id: Ie1442d34b6837ced5f44018d038d4d716d568655
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/50/790350/6 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/manila-dashboard-aaf28389e0bcfa9b.yaml', 'manifests/params.pp', 'manifests/dashboards/manila.pp', 'templates/_90_manila_shares.py', 'spec/classes/horizon_dashboards_manila_spec.rb']",5,bf50707eab3ad7d8b032d723d88d7280e5ccc82c,puppet-horizon-dashboards,"require 'spec_helper' describe 'horizon::dashboards::manila' do let :params do {} end shared_examples_for 'horizon::dashboards::manila' do context 'with default parameters' do let(:pre_condition) do <<-eos class { 'horizon': secret_key => 'elj1IWiLoWHgcyYxFVLj7cM5rGOOxWl0', } eos end it 'installs manila-dashboard package' do is_expected.to contain_package('manila-dashboard').with( :ensure => 'present', :name => platform_params[:manila_dashboard_package_name], :tag => ['openstack', 'horizon-package'] ) end it 'generates _90_manila_shares.py' do verify_concat_fragment_contents(catalogue, '_90_manila_shares.py', [ ""settings.POLICY_FILES.update({"", "" 'share': 'manila_policy.yaml',"", ""})"" ]) end end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end let(:platform_params) do case facts[:osfamily] when 'Debian' { :manila_dashboard_package_name => 'python3-manila-dashboard' } when 'RedHat' { :manila_dashboard_package_name => 'openstack-manila-ui' } end end it_behaves_like 'horizon::dashboards::manila' end end end ",,172,0
openstack%2Fpuppet-horizon~master~I54f7fb778bc2487bf977e23e193773d627d91dd9,openstack/puppet-horizon,master,I54f7fb778bc2487bf977e23e193773d627d91dd9,Add support for independent octavia-dashboard configurations,MERGED,2021-05-05 02:55:50.000000000,2021-06-07 18:27:43.000000000,2021-06-07 18:25:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 02:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/320d6006a53573b0dba388a1bb59a6064d942d9d', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new octavia::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n'}, {'number': 2, 'created': '2021-05-05 06:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/815610f898c6c2acf20982113da9b10bf823417e', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new octavia::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n'}, {'number': 3, 'created': '2021-05-05 06:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/a7f0841db005c6557b11ab2c0411429b0371ccad', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new octavia::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n'}, {'number': 4, 'created': '2021-05-05 09:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/61cad07cdce34b974a6d32f8d274307eee88f246', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new octavia::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n'}, {'number': 5, 'created': '2021-05-09 02:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/ab9d0b5d841dc518ff85c06651a8aa75784da0e2', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new octavia::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n'}, {'number': 6, 'created': '2021-05-09 02:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/0083681226b0f2f47d57796ee489873dc054581a', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new octavia::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n'}, {'number': 7, 'created': '2021-05-10 23:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/3278d3f083e7e618f461ecbdab3b92688ffdf101', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new octavia::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n'}, {'number': 8, 'created': '2021-05-11 15:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/277d015e4f47446cc11f0c1498d93d5cb58b7e0a', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new octavia::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n'}, {'number': 9, 'created': '2021-05-17 06:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/1e7bd34260744a505c7b18e0254f16fa35891185', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new octavia::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n'}, {'number': 10, 'created': '2021-05-17 15:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/3724aa7b706cad7c32c33bcc0b380d82c1c78747', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new horizon::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n'}, {'number': 11, 'created': '2021-05-21 08:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/0fa503fc2b958b75e4b48501aadcc870bab8e5be', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new horizon::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n'}, {'number': 12, 'created': '2021-05-28 00:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/be7c9e7f1a3f9a1da912026d31f9e9ba4f2a904a', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new horizon::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n'}, {'number': 13, 'created': '2021-06-05 22:55:55.000000000', 'files': ['templates/_1499_load_balancer_settings.py.erb', 'manifests/params.pp', 'manifests/dashboards/octavia.pp', 'spec/classes/horizon_dashboards_octavia_spec.rb', 'releasenotes/notes/octavia-dashboard-0eb5300606586e80.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/c29622ee456494e6a34f62ded5747585a7ec5e62', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new horizon::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n'}]",0,789701,c29622ee456494e6a34f62ded5747585a7ec5e62,38,3,13,9816,,,0,"Add support for independent octavia-dashboard configurations

This change introduces the new horizon::dashboards::octavia class,
which allows users to manage the independent configuration file for
octavia dashboard (_1499_load_balancer_settings.py).

Change-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/01/789701/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/_1499_load_balancer_settings.py.erb', 'manifests/params.pp', 'manifests/dashboards/octavia.pp', 'spec/classes/horizon_dashboards_octavia_spec.rb', 'releasenotes/notes/octavia-dashboard-0eb5300606586e80.yaml']",5,320d6006a53573b0dba388a1bb59a6064d942d9d,puppet-horizon-dashboards,--- features: - | The new ``horizon::dashboards::octavia`` class has been added. This class can be used to manage parameters for octavia-dashboard. ,,172,33
openstack%2Fpuppet-horizon~master~I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9,openstack/puppet-horizon,master,I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9,Add support for independent heat-dashboard configurations,MERGED,2021-02-12 07:29:12.000000000,2021-06-07 18:26:34.000000000,2021-06-07 18:25:00.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-12 07:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/16e6a82f32b3b48e8ac6f5f2a90868635e2ad5df', 'message': 'WIP: Add support for independent heat-dashboard\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 2, 'created': '2021-02-12 07:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/ad589e674964ff5974908bc6b74ac2ca4627bc89', 'message': 'WIP: Add support for independent heat-dashboard\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 3, 'created': '2021-02-12 07:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/225bc5b6a857833924eb62eea5ae7c34efcbe835', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovide a specific file to define its parameter, and plugin specific\nparameters are being removed from base local_settings(.py).\n\nThis change introduces an independent file for heat-dashboard. Support\nfor the other dashboards like manila-ui, octavia-ui, and etc will be\nadded later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 4, 'created': '2021-02-12 07:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/6e372920cc766af1dfbc565cff8d0904394052dd', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin suppose to have its configurations managed,\nthis change introduces an independent file for heat-dashboard. Support\nfor the other dashboards like manila-ui, octavia-ui, and etc will be\nadded later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 5, 'created': '2021-02-12 08:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/311e442b421060ad1c309d3553c31989c6048713', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin suppose to have its configurations managed,\nthis change introduces an independent file for heat-dashboard. Support\nfor the other dashboards like manila-ui, octavia-ui, and etc will be\nadded later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 6, 'created': '2021-02-13 09:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/c7b9123b8b4df470d43adbad059d3e6459ba4fc1', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin suppose to have its configurations managed,\nthis change introduces an independent file for heat-dashboard. Support\nfor the other dashboards like manila-ui, octavia-ui, and etc will be\nadded later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 7, 'created': '2021-02-13 09:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/f6be1255ec397980465339364ee094b88d218c81', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin suppose to have its configurations managed,\nthis change introduces an independent file for heat-dashboard. Support\nfor the other dashboards like manila-ui, octavia-ui, and etc will be\nadded later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 8, 'created': '2021-02-13 13:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/dd573e6b12c456051681f9660316d16ab3fc8183', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin suppose to have its configurations managed,\nthis change introduces an independent file for heat-dashboard. Support\nfor the other dashboards like manila-ui, octavia-ui, and etc will be\nadded later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 9, 'created': '2021-03-12 11:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/e545ed592841248fb174afdee17799d294ff23c3', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin suppose to have its configurations managed,\nthis change introduces an independent file for heat-dashboard. Support\nfor the other dashboards like manila-ui, octavia-ui, and etc will be\nadded later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 10, 'created': '2021-03-12 11:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/5f1493c392f40239c9f91e7b02532dd1ba839790', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin suppose to have its configurations managed,\nthis change introduces an independent file for heat-dashboard. Support\nfor the other dashboards like manila-ui, octavia-ui, and etc will be\nadded later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 11, 'created': '2021-03-12 11:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/e467a0cb96ac140ff6442f61dc85172784a454d4', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin suppose to have its configurations managed,\nthis change introduces an independent file for heat-dashboard. Support\nfor the other dashboards like manila-ui, octavia-ui, and etc will be\nadded later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 12, 'created': '2021-03-12 11:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/63b1bc8ff915fee532a5af6602a934fd6f07c3ba', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin is supposed to have its configurations\nmanaged, this change introduces an independent file for heat-dashboard.\nSupport for the other dashboards like manila-ui, octavia-ui, and etc\nwill be added later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 13, 'created': '2021-05-03 14:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/b0200d20856c37e87fb2490f79dd2483ddbfc27e', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin is supposed to have its configurations\nmanaged, this change introduces an independent file for heat-dashboard.\nSupport for the other dashboards like manila-ui, octavia-ui, and etc\nwill be added later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 14, 'created': '2021-05-05 02:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/fb51d8e8a4cc8ffdc08b969d313d45897ad22012', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin is supposed to have its configurations\nmanaged, this change introduces an independent file for heat-dashboard.\nSupport for the other dashboards like manila-ui, octavia-ui, and etc\nwill be added later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 15, 'created': '2021-05-05 02:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/d47026ef5db498026470ec508e378c005d6f5e6b', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin is supposed to have its configurations\nmanaged, this change introduces an independent file for heat-dashboard.\nSupport for the other dashboards like manila-ui, octavia-ui, and etc\nwill be added later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 16, 'created': '2021-05-05 06:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/1bf52e425cbc31f8d4e19946ca074d51d1fadc59', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin is supposed to have its configurations\nmanaged, this change introduces an independent file for heat-dashboard.\nSupport for the other dashboards like manila-ui, octavia-ui, and etc\nwill be added later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 17, 'created': '2021-05-05 06:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/bde6347dbe98b8af286a6fb3634d7960c9aec48f', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin is supposed to have its configurations\nmanaged, this change introduces an independent file for heat-dashboard.\nSupport for the other dashboards like manila-ui, octavia-ui, and etc\nwill be added later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 18, 'created': '2021-05-05 09:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/dd917dc0176cbd26c334d09d2a841e5507bbc076', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin is supposed to have its configurations\nmanaged, this change introduces an independent file for heat-dashboard.\nSupport for the other dashboards like manila-ui, octavia-ui, and etc\nwill be added later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 19, 'created': '2021-05-10 23:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/31aec90a966de63d3f9cab1ee0833244d6754987', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin is supposed to have its configurations\nmanaged, this change introduces an independent file for heat-dashboard.\nSupport for the other dashboards like manila-ui, octavia-ui, and etc\nwill be added later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 20, 'created': '2021-05-11 15:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/03c733f51f28660e7620223fa045b6feb3036ca4', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin is supposed to have its configurations\nmanaged, this change introduces an independent file for heat-dashboard.\nSupport for the other dashboards like manila-ui, octavia-ui, and etc\nwill be added later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 21, 'created': '2021-05-17 06:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/f8d848eb1c38b098b9d48c5928ced1a85c09e261', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin is supposed to have its configurations\nmanaged, this change introduces an independent file for heat-dashboard.\nSupport for the other dashboards like manila-ui, octavia-ui, and etc\nwill be added later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 22, 'created': '2021-05-21 08:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/fe96f36b3882769fab515104b82691c5c69ca9b6', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin is supposed to have its configurations\nmanaged, this change introduces an independent file for heat-dashboard.\nSupport for the other dashboards like manila-ui, octavia-ui, and etc\nwill be added later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}, {'number': 23, 'created': '2021-05-28 00:11:29.000000000', 'files': ['templates/local_settings.py.erb', 'manifests/dashboards/heat.pp', 'manifests/init.pp', 'manifests/params.pp', 'releasenotes/notes/heat-dashboard-c34cea1d256164cd.yaml', 'spec/classes/horizon_init_spec.rb', 'templates/_1699_orchestration_settings.py.erb', 'spec/classes/horizon_dashboards_heat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/382877dd4c8ee321eff1846c7c7afe4104dbd58f', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin is supposed to have its configurations\nmanaged, this change introduces an independent file for heat-dashboard.\nSupport for the other dashboards like manila-ui, octavia-ui, and etc\nwill be added later.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n'}]",3,775322,382877dd4c8ee321eff1846c7c7afe4104dbd58f,63,4,23,9816,,,0,"Add support for independent heat-dashboard configurations

Currently horizon supports per-dashboard configurations in
/etc/openstack-dashboard/local_settings.d. Each dashboard plugin
provides a specific file to define its parameters, and any parameters
used in dashboard plugins have been removed from the base
local_settings(.py) in horizon repo.

To follow how each plugin is supposed to have its configurations
managed, this change introduces an independent file for heat-dashboard.
Support for the other dashboards like manila-ui, octavia-ui, and etc
will be added later.

Change-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/22/775322/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/heat.pp', 'manifests/params.pp', 'templates/_1699_orchestration_settings.py.erb']",4,16e6a82f32b3b48e8ac6f5f2a90868635e2ad5df,puppet-horizon-dashboards,"from django.conf import settings OPENSTACK_HEAT_STACK = { <%- if @enable_user_pass_real -%> 'enable_user_pass': True, <%- else -%> 'enable_user_pass': False, <%- end -%> } settings.POLICY_FILES.update({ <%- if @policy_file_real -%> 'orchestration': '<%= @policy_file_real %>', <%- else -%> 'orchestration': 'heat_policy.json', <%- end -%> }) # Sample # settings.LOGGING['loggers'].update({ # 'heatclient': { # 'handlers': ['console'], # 'level': 'DEBUG', # 'propagate': False, # } # }) settings.LOGGING['loggers'].update({ 'heatclient': { # 'handlers': ['console'], 'handlers': ['<%= @log_handlers.join(""', '"") %>'] # level': 'DEBUG', 'level': '<%= @log_level %>', 'propagate': False, } }) # Template Generator retrieve options API TIMEOUT HEAT_TEMPLATE_GENERATOR_API_TIMEOUT = 60 # Template Generator retrieve options API PARALLEL LEVEL HEAT_TEMPLATE_GENERATOR_API_PARALLEL = 2 ",,116,9
openstack%2Foslo.config~stable%2Fussuri~Id6f70b27df117f35a6bd5a6b38b4ffaee7e930b3,openstack/oslo.config,stable/ussuri,Id6f70b27df117f35a6bd5a6b38b4ffaee7e930b3,Updating lower-constraints.txt,MERGED,2021-06-05 14:12:17.000000000,2021-06-07 18:09:21.000000000,2021-06-07 18:07:46.000000000,"[{'_account_id': 1955}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-05 14:12:17.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/f1ab25875d8540f69d54bd6dfe1e1b74da823fd4', 'message': ""Updating lower-constraints.txt\n\nThere's currently a conflict when installing test-requirements.txt with\nlower-constraints.txt.\n\nThe conflict is caused by:\n    The user requested flake8<3.8.0 and >=3.6.0\n    The user requested (constraint) flake8==2.5.5\n    oslotest 3.2.0 depends on python-subunit>=1.0.0\n    stestr 2.1.0 depends on python-subunit>=1.3.0\n\nChange-Id: Id6f70b27df117f35a6bd5a6b38b4ffaee7e930b3\n""}]",0,794960,f1ab25875d8540f69d54bd6dfe1e1b74da823fd4,8,7,1,27419,,,0,"Updating lower-constraints.txt

There's currently a conflict when installing test-requirements.txt with
lower-constraints.txt.

The conflict is caused by:
    The user requested flake8<3.8.0 and >=3.6.0
    The user requested (constraint) flake8==2.5.5
    oslotest 3.2.0 depends on python-subunit>=1.0.0
    stestr 2.1.0 depends on python-subunit>=1.3.0

Change-Id: Id6f70b27df117f35a6bd5a6b38b4ffaee7e930b3
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/60/794960/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,f1ab25875d8540f69d54bd6dfe1e1b74da823fd4,,flake8==3.6.0mccabe==0.6.0pyflakes==2.0.0python-subunit==1.3.0,flake8==2.5.5mccabe==0.2.1pyflakes==0.8.1python-subunit==1.0.0,4,4
openstack%2Fkayobe~master~Ie94099075bae3c491f9cf830c38e6cfc8af605a6,openstack/kayobe,master,Ie94099075bae3c491f9cf830c38e6cfc8af605a6,Ubuntu: ensure /usr/bin/python is python3,MERGED,2021-06-07 09:02:37.000000000,2021-06-07 18:08:20.000000000,2021-06-07 18:05:24.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-07 09:02:37.000000000', 'files': ['dev/functions', 'doc/source/installation.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/82def9a51641106ed92569e6d132527934350bac', 'message': 'Ubuntu: ensure /usr/bin/python is python3\n\n/usr/bin/python may be python 2 on Focal, which causes problems with\nAnsible on the control host. By installing the python-is-python3 package\nwe ensure that the correct interpreter is used.\n\nThis change updates the installation documentation and development\nenvironment scripts.\n\nStory: 2004960\nTask: 42579\n\nChange-Id: Ie94099075bae3c491f9cf830c38e6cfc8af605a6\n'}]",0,795068,82def9a51641106ed92569e6d132527934350bac,10,3,1,14826,,,0,"Ubuntu: ensure /usr/bin/python is python3

/usr/bin/python may be python 2 on Focal, which causes problems with
Ansible on the control host. By installing the python-is-python3 package
we ensure that the correct interpreter is used.

This change updates the installation documentation and development
environment scripts.

Story: 2004960
Task: 42579

Change-Id: Ie94099075bae3c491f9cf830c38e6cfc8af605a6
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/68/795068/1 && git format-patch -1 --stdout FETCH_HEAD,"['dev/functions', 'doc/source/installation.rst']",2,82def9a51641106ed92569e6d132527934350bac,,"On Ubuntu, ensure that /usr/bin/python points to a Python 3 interpreter:: $ apt install -y python-is-python3 ",,5,1
openstack%2Fkayobe~master~I275102ec6b5bab6982577b52fd29654c874446ce,openstack/kayobe,master,I275102ec6b5bab6982577b52fd29654c874446ce,chrony: cleanup during overcloud host upgrade,MERGED,2021-05-19 18:48:04.000000000,2021-06-07 18:07:08.000000000,2021-06-07 18:05:20.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-05-19 18:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c1c331ab903c91126c7cdfdb6329d3744c2464f0', 'message': 'WIP: chrony: cleanup during overcloud host upgrade\n\nChange-Id: I275102ec6b5bab6982577b52fd29654c874446ce\n'}, {'number': 2, 'created': '2021-05-21 09:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/709591ccd215eca7cc3d4a65b9f8c92abbdc56aa', 'message': 'WIP: chrony: cleanup during overcloud host upgrade\n\nChange-Id: I275102ec6b5bab6982577b52fd29654c874446ce\n'}, {'number': 3, 'created': '2021-05-21 10:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9220605fbcb1c199a8d9b329f8cc6b2f46c36b29', 'message': 'WIP: chrony: cleanup during overcloud host upgrade\n\nChange-Id: I275102ec6b5bab6982577b52fd29654c874446ce\n'}, {'number': 4, 'created': '2021-05-24 10:00:45.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/dc53d29eaa0e5f67335aef3db23fc11a17dc21b0', 'message': ""chrony: cleanup during overcloud host upgrade\n\nThe Kolla Ansible chrony container is disabled by default in the Wallaby\nrelease. A new kolla-ansible chrony-cleanup command can be used to clean\nup the container.\n\nThis change extends the 'kayobe overcloud host upgrade' command to cover\ncleaning up the chrony container (if disabled) and deploying a host\nchrony daemon.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/792119\n\nChange-Id: I275102ec6b5bab6982577b52fd29654c874446ce\n""}]",0,792243,dc53d29eaa0e5f67335aef3db23fc11a17dc21b0,17,3,4,14826,,,0,"chrony: cleanup during overcloud host upgrade

The Kolla Ansible chrony container is disabled by default in the Wallaby
release. A new kolla-ansible chrony-cleanup command can be used to clean
up the container.

This change extends the 'kayobe overcloud host upgrade' command to cover
cleaning up the chrony container (if disabled) and deploying a host
chrony daemon.

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/792119

Change-Id: I275102ec6b5bab6982577b52fd29654c874446ce
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/43/792243/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ntp/tasks/prepare.yml', 'kayobe/cli/commands.py']",2,c1c331ab903c91126c7cdfdb6329d3744c2464f0,," # TODO(mgoddard): Remove this in Y cycle after Kolla Ansible chrony # container has been dropped for a cycle. self.generate_kolla_ansible_config(parsed_args, service_config=False) # Kolla-ansible chrony-cleanup self.run_kolla_ansible_overcloud(parsed_args, ""chrony-cleanup"") ",,6,12
openstack%2Fdevstack~master~I838d87b97b4605435b81821683c698c10281caa4,openstack/devstack,master,I838d87b97b4605435b81821683c698c10281caa4,WIP Add centos 8 nodeset for centos stream,ABANDONED,2021-06-04 18:55:29.000000000,2021-06-07 17:54:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-04 18:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/aafa60f158207e5e4e36ea96899aa23518d3170b', 'message': 'WIP Switch centos 8 nodeset to centos stream\n\nRight now, centos-8 nodesets appear to be failing because wallaby+\nRDO is centos-8-stream only.\n\nChange-Id: I838d87b97b4605435b81821683c698c10281caa4\n'}, {'number': 2, 'created': '2021-06-04 19:11:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8aaa4ebd132d75fa4680696f9a93a6574622b0ce', 'message': 'WIP Add centos 8 nodeset for centos stream\n\nRight now, centos-8 nodesets appear to be failing because wallaby+\nRDO is centos-8-stream only.\n\nI am not entirely sure the best way to fix this, but for now, for\ntesting, I have added a new nodeset that uses centos stream.\n\nChange-Id: I838d87b97b4605435b81821683c698c10281caa4\n'}]",0,794879,8aaa4ebd132d75fa4680696f9a93a6574622b0ce,6,1,2,9914,,,0,"WIP Add centos 8 nodeset for centos stream

Right now, centos-8 nodesets appear to be failing because wallaby+
RDO is centos-8-stream only.

I am not entirely sure the best way to fix this, but for now, for
testing, I have added a new nodeset that uses centos stream.

Change-Id: I838d87b97b4605435b81821683c698c10281caa4
",git fetch https://review.opendev.org/openstack/devstack refs/changes/79/794879/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,aafa60f158207e5e4e36ea96899aa23518d3170b,set_devstack_centos_8_to_stream, label: centos-8-stream, label: centos-8,1,1
openstack%2Fheat-templates~master~Ie9ce52769504816734e72037aa08cb26c5276332,openstack/heat-templates,master,Ie9ce52769504816734e72037aa08cb26c5276332,Fix zuul config for heat-templates-check,MERGED,2021-06-07 09:07:07.000000000,2021-06-07 17:49:21.000000000,2021-06-07 17:49:21.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 09:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/9305b71d597200d80911a0de824b2f68f90439c6', 'message': ""Fix zuul config for heat-functional\n\nYAML indentation is wrong, instead of their appropriate sections\noptions are set to the DEFAULT section of config like the following\n\n  [DEFAULT]\n  heat_api = {'workers': 2}\n\nnot sure if oslo.config handles that properly so better fix this.\n\nChange-Id: Ie9ce52769504816734e72037aa08cb26c5276332\n""}, {'number': 2, 'created': '2021-06-07 09:08:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/7917e1877c1769088d14a9868c7078622642f7e1', 'message': ""Fix zuul config for heat-templates-check\n\nYAML indentation is wrong, instead of their appropriate sections\noptions are set to the DEFAULT section of config like the following\n\n  [DEFAULT]\n  heat_api = {'workers': 2}\n\nnot sure if oslo.config handles that properly so better fix this.\n\nChange-Id: Ie9ce52769504816734e72037aa08cb26c5276332\n""}]",0,795070,7917e1877c1769088d14a9868c7078622642f7e1,7,2,2,9542,,,0,"Fix zuul config for heat-templates-check

YAML indentation is wrong, instead of their appropriate sections
options are set to the DEFAULT section of config like the following

  [DEFAULT]
  heat_api = {'workers': 2}

not sure if oslo.config handles that properly so better fix this.

Change-Id: Ie9ce52769504816734e72037aa08cb26c5276332
",git fetch https://review.opendev.org/openstack/heat-templates refs/changes/70/795070/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9305b71d597200d80911a0de824b2f68f90439c6,fix-zuul-post-config, heat_api: workers: 2 heat_api_cfn: workers: 2 cache: enabled: True eventlet_opts: client_socket_timeout: 120 oslo_messaging_notifications: driver: messagingv2, heat_api: workers: 2 heat_api_cfn: workers: 2 cache: enabled: True eventlet_opts: client_socket_timeout: 120 oslo_messaging_notifications: driver: messagingv2,10,10
openstack%2Fcloudkitty~master~I8703c7d3e69f35ef3e85234c27b4743242111f3d,openstack/cloudkitty,master,I8703c7d3e69f35ef3e85234c27b4743242111f3d,Fix tests cases broken by flask >=2.0.1,MERGED,2021-06-01 13:52:23.000000000,2021-06-07 17:45:58.000000000,2021-06-07 17:43:48.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2021-06-01 13:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/6a8fd9bb11fbb6b6b85853ee32f307221c89101c', 'message': 'Fix tests cases broken by flask >=2.0.1\n\nFlask has been updated in the requirements projects from OpenStack [1].\nThis has broken some test cases that were mocking the root object ""flask.request"".\n\nInstead of mocking the root object, we address the issue by mocking only the needed\nmethods and attributes. This facilitates the understanding of the unit test, and also\nhelps people to pin-point problems right away.\n\nThis patch is an alternative solution to: https://review.opendev.org/c/openstack/cloudkitty/+/793790\n\n[1] https://review.opendev.org/c/openstack/requirements/+/793023\n\nChange-Id: I8703c7d3e69f35ef3e85234c27b4743242111f3d\n'}, {'number': 2, 'created': '2021-06-01 13:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/16c1e7b1ab660ddfdfd9c43cadd16917ab6f07c8', 'message': 'Fix tests cases broken by flask >=2.0.1\n\nFlask has been updated in the requirements projects from OpenStack [1].\nThis has broken some test cases that were mocking the root object ""flask.request"".\n\nInstead of mocking the root object, we address the issue by mocking\nonly the needed methods and attributes. This facilitates the\nunderstanding of the unit test, and also helps people to pin-point\nproblems right away.\n\nThis patch is an alternative solution to: https://review.opendev.org/c/openstack/cloudkitty/+/793790\n\n[1] https://review.opendev.org/c/openstack/requirements/+/793023\n\nChange-Id: I8703c7d3e69f35ef3e85234c27b4743242111f3d\n'}, {'number': 3, 'created': '2021-06-01 21:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/2aa529dc087e103db0075398e0107aef27161f9c', 'message': 'Fix tests cases broken by flask >=2.0.1\n\nFlask has been updated in the requirements projects from OpenStack [1].\nThis has broken some test cases that were mocking the root object ""flask.request"".\n\nInstead of mocking the root object, we address the issue by mocking\nonly the needed methods and attributes. This facilitates the\nunderstanding of the unit test, and also helps people to pin-point\nproblems right away.\n\nThis patch is an alternative solution to: https://review.opendev.org/c/openstack/cloudkitty/+/793790\n\n[1] https://review.opendev.org/c/openstack/requirements/+/793023\n\nChange-Id: I8703c7d3e69f35ef3e85234c27b4743242111f3d\n'}, {'number': 4, 'created': '2021-06-01 21:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/99527817e989333f4a233ca396d9b875fb61d2f6', 'message': 'Fix tests cases broken by flask >=2.0.1\n\nFlask has been updated in the requirements projects from OpenStack [1].\nThis has broken some test cases that were mocking the root object ""flask.request"".\n\nInstead of mocking the root object, we address the issue by mocking\nonly the needed methods and attributes. This facilitates the\nunderstanding of the unit test, and also helps people to pin-point\nproblems right away.\n\nThis patch is an alternative solution to: https://review.opendev.org/c/openstack/cloudkitty/+/793790\n\n[1] https://review.opendev.org/c/openstack/requirements/+/793023\n\nChange-Id: I8703c7d3e69f35ef3e85234c27b4743242111f3d\n'}, {'number': 5, 'created': '2021-06-02 00:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/aaabf2673053c7618e7bba0a382b2f6602ad9530', 'message': 'Fix tests cases broken by flask >=2.0.1\n\nFlask has been updated in the requirements projects from OpenStack [1].\nThis has broken some test cases that were mocking the root object ""flask.request"".\n\nInstead of mocking the root object, we address the issue by mocking\nonly the needed methods and attributes. This facilitates the\nunderstanding of the unit test, and also helps people to pin-point\nproblems right away.\n\nThis patch is an alternative solution to: https://review.opendev.org/c/openstack/cloudkitty/+/793790\n\n[1] https://review.opendev.org/c/openstack/requirements/+/793023\n\nChange-Id: I8703c7d3e69f35ef3e85234c27b4743242111f3d\n'}, {'number': 6, 'created': '2021-06-02 10:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/538ec8e32aec0a45a01fb7a1eed11ca8458ea626', 'message': 'Fix tests cases broken by flask >=2.0.1\n\nFlask has been updated in the requirements projects from OpenStack [1].\nThis has broken some test cases that were mocking the root object ""flask.request"".\n\nInstead of mocking the root object, we address the issue by mocking\nonly the needed methods and attributes. This facilitates the\nunderstanding of the unit test, and also helps people to pin-point\nproblems right away.\n\nThis patch is an alternative solution to: https://review.opendev.org/c/openstack/cloudkitty/+/793790\n\n[1] https://review.opendev.org/c/openstack/requirements/+/793023\n\nChange-Id: I8703c7d3e69f35ef3e85234c27b4743242111f3d\n'}, {'number': 7, 'created': '2021-06-07 16:19:55.000000000', 'files': ['cloudkitty/api/app.py', 'requirements.txt', 'cloudkitty/tests/api/v2/test_utils.py', 'cloudkitty/tests/api/v2/dataframes/test_dataframes.py', 'lower-constraints.txt', 'cloudkitty/tests/api/v2/summary/test_summary.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/885c9f077f1bc08570e65df00948e00f4fc3b954', 'message': 'Fix tests cases broken by flask >=2.0.1\n\nFlask has been updated in the requirements projects from OpenStack [1].\nThis has broken some test cases that were mocking the root object\n""flask.request"".\n\nInstead of mocking the root object, we address the issue by mocking only\nthe needed methods and attributes. This facilitates the understanding of\nthe unit test, and also helps people to pin-point problems right away.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/793023\n\nChange-Id: I8703c7d3e69f35ef3e85234c27b4743242111f3d\n'}]",4,793973,885c9f077f1bc08570e65df00948e00f4fc3b954,23,3,7,28356,,,0,"Fix tests cases broken by flask >=2.0.1

Flask has been updated in the requirements projects from OpenStack [1].
This has broken some test cases that were mocking the root object
""flask.request"".

Instead of mocking the root object, we address the issue by mocking only
the needed methods and attributes. This facilitates the understanding of
the unit test, and also helps people to pin-point problems right away.

[1] https://review.opendev.org/c/openstack/requirements/+/793023

Change-Id: I8703c7d3e69f35ef3e85234c27b4743242111f3d
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/73/793973/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'cloudkitty/tests/api/v2/test_utils.py', 'cloudkitty/api/v2/summary/summary.py', 'cloudkitty/tests/api/v2/dataframes/test_dataframes.py', 'lower-constraints.txt', 'cloudkitty/tests/api/v2/summary/test_summary.py']",6,6a8fd9bb11fbb6b6b85853ee32f307221c89101c,fix-gate,"import flask import uuid flask.request.context = mock.Mock() flask.request.context.project_id = str(uuid.uuid4()) flask.request.context.is_admin = True with mock.patch.object(self.endpoint._storage, 'total') as total_mock: with policy_mock, mock.patch('flask.request.args.lists') as fmock: fmock.return_value = ["," with mock.patch.object(self.endpoint._storage, 'total') as total_mock: with policy_mock, mock.patch('flask.request') as fmock: fmock.args.lists.return_value = [",26,12
openstack%2Fnova~stable%2Fwallaby~I02b2b851a74f24816d2f782a66d94de81ee527b0,openstack/nova,stable/wallaby,I02b2b851a74f24816d2f782a66d94de81ee527b0,zuul: Replace grenade and nova-grenade-multinode with grenade-multinode,MERGED,2021-06-02 22:13:45.000000000,2021-06-07 17:45:52.000000000,2021-06-07 17:42:26.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 22:13:45.000000000', 'files': ['playbooks/legacy/nova-live-migration/run.yaml', 'gate/live_migration/hooks/nfs.sh', 'gate/live_migration/hooks/utils.sh', 'playbooks/legacy/nova-grenade-multinode/run.yaml', 'playbooks/legacy/nova-grenade-multinode/post.yaml', 'gate/live_migration/hooks/ceph.sh', '.zuul.yaml', 'playbooks/legacy/nova-live-migration/post.yaml', 'gate/live_migration/hooks/run_tests.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/c45bedd98d50af865d727b7456c974c8e27bff8b', 'message': ""zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n\nIf2608406776e0d5a06b726e65b55881e70562d18 dropped the single node\ngrenade job from the integrated-gate-compute template as it duplicates\nthe existing grenade-multinode job. However it doesn't remove the\nremianing single node grenade job still present in the Nova project.\n\nThis change replaces the dsvm based nova-grenade-multinode job with the\nzuulv3 native grenade-multinode based job.\n\nVarious legacy playbooks and hook scripts are also removed as they are\nno longer used. Note that this does result in a loss of coverage for\nceph that should be replaced as soon as a zuulv3 native ceph based\nmultinode job is available.\n\nConflicts:\n    playbooks/legacy/nova-grenade-multinode/run.yaml\n\nNOTE(melwitt): The conflict is because change\nI51f0273e90ee39d644cf85a0bdb9d4f95de6d3c7 ([OVN] Explicitly set grenade\njob to ML2/OVS) is not in Wallaby.\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n(cherry picked from commit 91e53e4c2b90ea57aeac4ec522dd7c8c54961d09)\n""}]",4,794345,c45bedd98d50af865d727b7456c974c8e27bff8b,18,3,1,4690,,,0,"zuul: Replace grenade and nova-grenade-multinode with grenade-multinode

If2608406776e0d5a06b726e65b55881e70562d18 dropped the single node
grenade job from the integrated-gate-compute template as it duplicates
the existing grenade-multinode job. However it doesn't remove the
remianing single node grenade job still present in the Nova project.

This change replaces the dsvm based nova-grenade-multinode job with the
zuulv3 native grenade-multinode based job.

Various legacy playbooks and hook scripts are also removed as they are
no longer used. Note that this does result in a loss of coverage for
ceph that should be replaced as soon as a zuulv3 native ceph based
multinode job is available.

Conflicts:
    playbooks/legacy/nova-grenade-multinode/run.yaml

NOTE(melwitt): The conflict is because change
I51f0273e90ee39d644cf85a0bdb9d4f95de6d3c7 ([OVN] Explicitly set grenade
job to ML2/OVS) is not in Wallaby.

Change-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0
(cherry picked from commit 91e53e4c2b90ea57aeac4ec522dd7c8c54961d09)
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/794345/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/nova-live-migration/run.yaml', 'gate/live_migration/hooks/nfs.sh', 'gate/live_migration/hooks/utils.sh', 'playbooks/legacy/nova-grenade-multinode/run.yaml', 'playbooks/legacy/nova-grenade-multinode/post.yaml', 'gate/live_migration/hooks/ceph.sh', '.zuul.yaml', 'playbooks/legacy/nova-live-migration/post.yaml', 'gate/live_migration/hooks/run_tests.sh']",9,c45bedd98d50af865d727b7456c974c8e27bff8b,native-zuulv3-migration,,"#!/bin/bash # Live migration dedicated ci job will be responsible for testing different # environments based on underlying storage, used for ephemerals. # This hook allows to inject logic of environment reconfiguration in ci job. # Base scenario for this would be: # # 1. test with all local storage (use default for volumes) # 2. test with NFS for root + ephemeral disks # 3. test with Ceph for root + ephemeral disks # 4. test with Ceph for volumes and root + ephemeral disk set -xe cd $BASE/new/tempest source $BASE/new/devstack/functions source $BASE/new/devstack/functions-common source $BASE/new/devstack/lib/nova source $WORKSPACE/devstack-gate/functions.sh source $BASE/new/nova/gate/live_migration/hooks/utils.sh source $BASE/new/nova/gate/live_migration/hooks/nfs.sh source $BASE/new/nova/gate/live_migration/hooks/ceph.sh primary_node=$(cat /etc/nodepool/primary_node_private) SUBNODES=$(cat /etc/nodepool/sub_nodes_private) SERVICE_HOST=$primary_node STACK_USER=${STACK_USER:-stack} echo '1. test with all local storage (use default for volumes)' echo 'NOTE: test_volume_backed_live_migration is skipped due to https://bugs.launchpad.net/nova/+bug/1524898' echo 'NOTE: test_live_block_migration_paused is skipped due to https://bugs.launchpad.net/nova/+bug/1901739' run_tempest ""block migration test"" ""^.*test_live_migration(?!.*(test_volume_backed_live_migration|test_live_block_migration_paused))"" # TODO(mriedem): Run $BASE/new/nova/gate/test_evacuate.sh for local storage #all tests bellow this line use shared storage, need to update tempest.conf echo 'disabling block_migration in tempest' $ANSIBLE primary --become -f 5 -i ""$WORKSPACE/inventory"" -m ini_file -a ""dest=$BASE/new/tempest/etc/tempest.conf section=compute-feature-enabled option=block_migration_for_live_migration value=False"" echo '2. NFS testing is skipped due to setup failures with Ubuntu 16.04' #echo '2. test with NFS for root + ephemeral disks' #nfs_setup #nfs_configure_tempest #nfs_verify_setup #run_tempest ""NFS shared storage test"" ""live_migration"" #nfs_teardown # The nova-grenade-multinode job also runs resize and cold migration tests # so we check for a grenade-only variable. if [[ -n ""$GRENADE_NEW_BRANCH"" ]]; then echo '3. test cold migration and resize' run_tempest ""cold migration and resize test"" ""test_resize_server|test_cold_migration|test_revert_cold_migration"" else echo '3. cold migration and resize is skipped for non-grenade jobs' fi echo '4. test with Ceph for root + ephemeral disks' # Discover and set variables for the OS version so the devstack-plugin-ceph # scripts can find the correct repository to install the ceph packages. GetOSVersion USE_PYTHON3=${USE_PYTHON3:-True} prepare_ceph GLANCE_API_CONF=${GLANCE_API_CONF:-/etc/glance/glance-api.conf} configure_and_start_glance configure_and_start_nova run_tempest ""Ceph nova&glance test"" ""^.*test_live_migration(?!.*(test_volume_backed_live_migration))"" set +e #echo '5. test with Ceph for volumes and root + ephemeral disk' #configure_and_start_cinder #run_tempest ""Ceph nova&glance&cinder test"" ""live_migration"" ",16,512
openstack%2Fneutron~stable%2Fvictoria~I9c54a268fc4ef9705637556ecba161bd6523a047,openstack/neutron,stable/victoria,I9c54a268fc4ef9705637556ecba161bd6523a047,Use local and ip address to create vxlan interface,MERGED,2021-06-02 14:00:49.000000000,2021-06-07 17:44:50.000000000,2021-06-07 17:42:17.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 14:00:49.000000000', 'files': ['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8c2412a2f0da6078e81fe912e46ee87af0df16e', 'message': 'Use local and ip address to create vxlan interface\n\nAttempting to terminate a vxlan on the lo interface with\nmultiple ip addresses fails. This seems to be because only\nthe first ip address on the interface is used. If this address\nis invalid for vxlan creation (ie. 127.0.0.1), the vxlan\ninterface will be created, but will not have a source ip\naddress, and will therefore be non-functional. To remedy this\nissue, when L2population is used, we can set the local\nargument to the local_ip, thus ensuring the intended ip\naddress is configured.\n\nCloses-Bug: 1929998\nChange-Id: I9c54a268fc4ef9705637556ecba161bd6523a047\nSigned-off-by: Anthony Timmins <atimmins@datto.com>\n(cherry picked from commit 4cd11f4dee494c5851318410c523dfcfbce4c824)\n'}]",0,794230,d8c2412a2f0da6078e81fe912e46ee87af0df16e,17,3,1,33525,,,0,"Use local and ip address to create vxlan interface

Attempting to terminate a vxlan on the lo interface with
multiple ip addresses fails. This seems to be because only
the first ip address on the interface is used. If this address
is invalid for vxlan creation (ie. 127.0.0.1), the vxlan
interface will be created, but will not have a source ip
address, and will therefore be non-functional. To remedy this
issue, when L2population is used, we can set the local
argument to the local_ip, thus ensuring the intended ip
address is configured.

Closes-Bug: 1929998
Change-Id: I9c54a268fc4ef9705637556ecba161bd6523a047
Signed-off-by: Anthony Timmins <atimmins@datto.com>
(cherry picked from commit 4cd11f4dee494c5851318410c523dfcfbce4c824)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/794230/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py']",2,d8c2412a2f0da6078e81fe912e46ee87af0df16e,bug/1929998," local=self.lbm.local_ip,",,5,0
openstack%2Fcliff~master~I0d60e44450da1f48dbd8f459549da80fda69aad5,openstack/cliff,master,I0d60e44450da1f48dbd8f459549da80fda69aad5,Handle SIGPIPE exit gracefully,MERGED,2021-06-07 12:42:33.000000000,2021-06-07 17:40:48.000000000,2021-06-07 17:38:57.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-07 12:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/401a26f1971bca9c33093ff640e7544d9e12464f', 'message': 'Handle SIGPIPE exit gracefully\n\nIf we are piping output to a command that exits before the entire\noutput is written (e.g. ""head"") then we will receive a BrokenPipeError.\nThis is expected and we should react by exiting gracefully, setting an\nappropriate return code (128 + SIGPIPE).\n\nChange-Id: I0d60e44450da1f48dbd8f459549da80fda69aad5\n'}, {'number': 2, 'created': '2021-06-07 13:13:16.000000000', 'files': ['cliff/app.py', 'cliff/tests/test_app.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/392f3b2e7cb2dad8036ebbaefbb75dd758914421', 'message': 'Handle SIGPIPE exit gracefully\n\nIf we are piping output to a command that exits before the entire\noutput is written (e.g. ""head"") then we will receive a BrokenPipeError.\nThis is expected and we should react by exiting gracefully, setting an\nappropriate return code (128 + SIGPIPE).\n\nChange-Id: I0d60e44450da1f48dbd8f459549da80fda69aad5\n'}]",0,795096,392f3b2e7cb2dad8036ebbaefbb75dd758914421,10,3,2,4257,,,0,"Handle SIGPIPE exit gracefully

If we are piping output to a command that exits before the entire
output is written (e.g. ""head"") then we will receive a BrokenPipeError.
This is expected and we should react by exiting gracefully, setting an
appropriate return code (128 + SIGPIPE).

Change-Id: I0d60e44450da1f48dbd8f459549da80fda69aad5
",git fetch https://review.opendev.org/openstack/cliff refs/changes/96/795096/2 && git format-patch -1 --stdout FETCH_HEAD,['cliff/app.py'],1,401a26f1971bca9c33093ff640e7544d9e12464f,,_SIGPIPE_EXIT = 141 except BrokenPipeError: return _SIGPIPE_EXIT,,3,0
openstack%2Fneutron~stable%2Ftrain~I5d6c72c271ff450d9e43b3e33a99dd59d727882d,openstack/neutron,stable/train,I5d6c72c271ff450d9e43b3e33a99dd59d727882d,[DVR] Send allowed address pairs info to the L3 agents,MERGED,2021-05-24 09:12:26.000000000,2021-06-07 17:38:54.000000000,2021-06-07 17:36:58.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-24 09:12:26.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/888ab6a2fc9a26b2dc30a58b29694fe7df50426e', 'message': ""[DVR] Send allowed address pairs info to the L3 agents\n\nWhen new dvr router is going to be created on the node, L3 agent\nasks server for list of ports plugged to the subnets, to populate\narp entries for all fixed IPs from those ports.\nThere was missing info about allowed address pairs there, so those\nIPs were not populated in the qrouter namespace.\nNow it's added and L3 agent can add those arp entries to the qrouter\nnamespaces too.\n\nConflicts:\n    neutron/agent/l3/dvr_local_router.py\n    neutron/objects/port/extensions/allowedaddresspairs.py\n    neutron/tests/unit/db/test_l3_dvr_db.py\n\nCloses-Bug: #1928466\nChange-Id: I5d6c72c271ff450d9e43b3e33a99dd59d727882d\n(cherry picked from commit 7b59b5069b1402730602b430416a15b1609253ea)\n""}]",0,792791,888ab6a2fc9a26b2dc30a58b29694fe7df50426e,18,3,1,11975,,,0,"[DVR] Send allowed address pairs info to the L3 agents

When new dvr router is going to be created on the node, L3 agent
asks server for list of ports plugged to the subnets, to populate
arp entries for all fixed IPs from those ports.
There was missing info about allowed address pairs there, so those
IPs were not populated in the qrouter namespace.
Now it's added and L3 agent can add those arp entries to the qrouter
namespaces too.

Conflicts:
    neutron/agent/l3/dvr_local_router.py
    neutron/objects/port/extensions/allowedaddresspairs.py
    neutron/tests/unit/db/test_l3_dvr_db.py

Closes-Bug: #1928466
Change-Id: I5d6c72c271ff450d9e43b3e33a99dd59d727882d
(cherry picked from commit 7b59b5069b1402730602b430416a15b1609253ea)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/792791/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py']",7,888ab6a2fc9a26b2dc30a58b29694fe7df50426e,bug/1928466-stable/train," 'subnet_id': subnet_id}], 'allowed_address_pairs': [ {'ip_address': '10.20.30.40', 'mac_address': '00:11:22:33:44:55'}]}, self.mock_ip_dev.neigh.add.assert_has_calls([ mock.call('1.2.3.4', '00:11:22:33:44:55'), mock.call('10.20.30.40', '00:11:22:33:44:55')])"," 'subnet_id': subnet_id}]}, self.mock_ip_dev.neigh.add.assert_called_once_with( '1.2.3.4', '00:11:22:33:44:55')",63,12
openstack%2Fneutron~stable%2Fussuri~I5d6c72c271ff450d9e43b3e33a99dd59d727882d,openstack/neutron,stable/ussuri,I5d6c72c271ff450d9e43b3e33a99dd59d727882d,[DVR] Send allowed address pairs info to the L3 agents,MERGED,2021-05-24 08:52:20.000000000,2021-06-07 17:28:16.000000000,2021-06-07 17:26:03.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-24 08:52:20.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab31406d77a29278a9a0360e375bb3689526aec0', 'message': ""[DVR] Send allowed address pairs info to the L3 agents\n\nWhen new dvr router is going to be created on the node, L3 agent\nasks server for list of ports plugged to the subnets, to populate\narp entries for all fixed IPs from those ports.\nThere was missing info about allowed address pairs there, so those\nIPs were not populated in the qrouter namespace.\nNow it's added and L3 agent can add those arp entries to the qrouter\nnamespaces too.\n\nConflicts:\n    neutron/tests/unit/db/test_l3_dvr_db.py\n\nCloses-Bug: #1928466\nChange-Id: I5d6c72c271ff450d9e43b3e33a99dd59d727882d\n(cherry picked from commit 7b59b5069b1402730602b430416a15b1609253ea)\n""}]",0,792757,ab31406d77a29278a9a0360e375bb3689526aec0,15,3,1,11975,,,0,"[DVR] Send allowed address pairs info to the L3 agents

When new dvr router is going to be created on the node, L3 agent
asks server for list of ports plugged to the subnets, to populate
arp entries for all fixed IPs from those ports.
There was missing info about allowed address pairs there, so those
IPs were not populated in the qrouter namespace.
Now it's added and L3 agent can add those arp entries to the qrouter
namespaces too.

Conflicts:
    neutron/tests/unit/db/test_l3_dvr_db.py

Closes-Bug: #1928466
Change-Id: I5d6c72c271ff450d9e43b3e33a99dd59d727882d
(cherry picked from commit 7b59b5069b1402730602b430416a15b1609253ea)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/792757/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py']",7,ab31406d77a29278a9a0360e375bb3689526aec0,bug/1928466-stable/wallaby-stable/victoria-stable/ussuri," 'subnet_id': subnet_id}], 'allowed_address_pairs': [ {'ip_address': '10.20.30.40', 'mac_address': '00:11:22:33:44:55'}]}, self.mock_ip_dev.neigh.add.assert_has_calls([ mock.call('1.2.3.4', '00:11:22:33:44:55'), mock.call('10.20.30.40', '00:11:22:33:44:55')])"," 'subnet_id': subnet_id}]}, self.mock_ip_dev.neigh.add.assert_called_once_with( '1.2.3.4', '00:11:22:33:44:55')",65,12
openstack%2Fneutron~stable%2Fvictoria~I5d6c72c271ff450d9e43b3e33a99dd59d727882d,openstack/neutron,stable/victoria,I5d6c72c271ff450d9e43b3e33a99dd59d727882d,[DVR] Send allowed address pairs info to the L3 agents,MERGED,2021-05-24 08:51:53.000000000,2021-06-07 17:28:02.000000000,2021-06-07 17:25:43.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-24 08:51:53.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ce952609071b8c7873361b4679aec187f1cf9a8', 'message': ""[DVR] Send allowed address pairs info to the L3 agents\n\nWhen new dvr router is going to be created on the node, L3 agent\nasks server for list of ports plugged to the subnets, to populate\narp entries for all fixed IPs from those ports.\nThere was missing info about allowed address pairs there, so those\nIPs were not populated in the qrouter namespace.\nNow it's added and L3 agent can add those arp entries to the qrouter\nnamespaces too.\n\nConflicts:\n    neutron/tests/unit/db/test_l3_dvr_db.py\n\nCloses-Bug: #1928466\nChange-Id: I5d6c72c271ff450d9e43b3e33a99dd59d727882d\n(cherry picked from commit 7b59b5069b1402730602b430416a15b1609253ea)\n""}]",0,792756,0ce952609071b8c7873361b4679aec187f1cf9a8,11,3,1,11975,,,0,"[DVR] Send allowed address pairs info to the L3 agents

When new dvr router is going to be created on the node, L3 agent
asks server for list of ports plugged to the subnets, to populate
arp entries for all fixed IPs from those ports.
There was missing info about allowed address pairs there, so those
IPs were not populated in the qrouter namespace.
Now it's added and L3 agent can add those arp entries to the qrouter
namespaces too.

Conflicts:
    neutron/tests/unit/db/test_l3_dvr_db.py

Closes-Bug: #1928466
Change-Id: I5d6c72c271ff450d9e43b3e33a99dd59d727882d
(cherry picked from commit 7b59b5069b1402730602b430416a15b1609253ea)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/792756/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py']",7,0ce952609071b8c7873361b4679aec187f1cf9a8,bug/1928466-stable/wallaby-stable/victoria," 'subnet_id': subnet_id}], 'allowed_address_pairs': [ {'ip_address': '10.20.30.40', 'mac_address': '00:11:22:33:44:55'}]}, self.mock_ip_dev.neigh.add.assert_has_calls([ mock.call('1.2.3.4', '00:11:22:33:44:55'), mock.call('10.20.30.40', '00:11:22:33:44:55')])"," 'subnet_id': subnet_id}]}, self.mock_ip_dev.neigh.add.assert_called_once_with( '1.2.3.4', '00:11:22:33:44:55')",65,12
openstack%2Fironic~master~If298a98b0807e69a3194e48e42d897e8c8414e7e,openstack/ironic,master,If298a98b0807e69a3194e48e42d897e8c8414e7e,Improve agent_client logging,MERGED,2021-06-01 15:46:45.000000000,2021-06-07 17:07:40.000000000,2021-06-07 17:05:55.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-01 15:46:45.000000000', 'files': ['ironic/drivers/modules/agent_client.py', 'ironic/common/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/96aae720ad17231da5144b1c43eee97865f2d52d', 'message': 'Improve agent_client logging\n\n* Avoid logging large keys, such as system_logs\n* Log request params when sending a request\n* Sanitizing requests and responses before logging\n\nChange-Id: If298a98b0807e69a3194e48e42d897e8c8414e7e\n'}]",0,793995,96aae720ad17231da5144b1c43eee97865f2d52d,16,3,1,10239,,,0,"Improve agent_client logging

* Avoid logging large keys, such as system_logs
* Log request params when sending a request
* Sanitizing requests and responses before logging

Change-Id: If298a98b0807e69a3194e48e42d897e8c8414e7e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/95/793995/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent_client.py', 'ironic/common/utils.py']",2,96aae720ad17231da5144b1c43eee97865f2d52d,logging,"from collections import abc _LARGE_KEYS = frozenset(['system_logs']) def remove_large_keys(var): """"""Remove specific keys from the var, recursing into dicts and lists."""""" if isinstance(var, abc.Mapping): return {key: (remove_large_keys(value) if key not in _LARGE_KEYS else '<...>') for key, value in var.items()} elif isinstance(var, abc.Sequence) and not isinstance(var, str): return var.__class__(map(remove_large_keys, var)) else: return var",,33,4
openstack%2Fopenstack-virtual-baremetal~stable%2F2.0~I5ee994296e5910ca434ed517ac470104c73263a8,openstack/openstack-virtual-baremetal,stable/2.0,I5ee994296e5910ca434ed517ac470104c73263a8,DNM test 2.0 jobs,ABANDONED,2021-06-07 12:40:49.000000000,2021-06-07 16:56:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-07 12:40:49.000000000', 'files': ['openstack_virtual_baremetal/deploy.py'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/39352185820b9a5123bdf58b71de1fcaabdcfb21', 'message': 'DNM test 2.0 jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/794714\nChange-Id: I5ee994296e5910ca434ed517ac470104c73263a8\n'}]",0,795095,39352185820b9a5123bdf58b71de1fcaabdcfb21,4,2,1,10969,,,0,"DNM test 2.0 jobs

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/794714
Change-Id: I5ee994296e5910ca434ed517ac470104c73263a8
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/95/795095/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_virtual_baremetal/deploy.py'],1,39352185820b9a5123bdf58b71de1fcaabdcfb21,test20,# test,,1,0
openstack%2Fcinder~master~I6d73b1dd8327df363df080b58ffb35b7a22ad3f2,openstack/cinder,master,I6d73b1dd8327df363df080b58ffb35b7a22ad3f2,"[Storwize]:Optimize start fcmap,fcconsistgrp CLI",NEW,2020-09-03 07:51:17.000000000,2021-06-07 16:52:24.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14806}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 29705}, {'_account_id': 32036}]","[{'number': 1, 'created': '2020-09-03 07:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/540be016465b20cd032320ed1116271d18f7d521', 'message': '[Storwize]:Optimize start fcmap,fcconsistgrp CLI\n\nDuring a snapshot, clone preparefcmap can be excluded and the same can\nbe achieved through single cli command using startfcmap -prep\n\nAlso during group-snapshot and group-clone, prestartfcconsistgrp can\nbe excluded and the same can be achieved through single cli command\nusing startfcconsistgrp -prep\n\ncloses bug: #1894054\n\nChange-Id: I6d73b1dd8327df363df080b58ffb35b7a22ad3f2\n'}, {'number': 2, 'created': '2020-09-07 09:00:19.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a66c93ad20b1de2c542f42cff6bdd3cbed5f563', 'message': '[Storwize]:Optimize start fcmap,fcconsistgrp CLI\n\nDuring a snapshot, clone preparefcmap can be excluded and the same can\nbe achieved through single cli command using startfcmap -prep\n\nAlso during group-snapshot and group-clone, prestartfcconsistgrp can\nbe excluded and the same can be achieved through single cli command\nusing startfcconsistgrp -prep\n\nChange-Id: I6d73b1dd8327df363df080b58ffb35b7a22ad3f2\n'}]",4,749662,7a66c93ad20b1de2c542f42cff6bdd3cbed5f563,62,19,2,32036,,,0,"[Storwize]:Optimize start fcmap,fcconsistgrp CLI

During a snapshot, clone preparefcmap can be excluded and the same can
be achieved through single cli command using startfcmap -prep

Also during group-snapshot and group-clone, prestartfcconsistgrp can
be excluded and the same can be achieved through single cli command
using startfcconsistgrp -prep

Change-Id: I6d73b1dd8327df363df080b58ffb35b7a22ad3f2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/749662/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']",2,540be016465b20cd032320ed1116271d18f7d521,startfcmap_with_prep," else: ssh_cmd.append('-prep') def startfcconsistgrp(self, fc_consist_group, prep=False): ssh_cmd = ['svctask', 'startfcconsistgrp'] if prep: ssh_cmd.append('-prep') ssh_cmd.append(fc_consist_group) def start_fc_consistgrp(self, fc_consistgrp, prep=False): self.ssh.startfcconsistgrp(fc_consistgrp, prep) self.start_fc_consistgrp(fc_consistgrp, prep=True) self.start_fc_consistgrp(fc_consistgrp, prep=True) if restore: self._prepare_fc_map(fc_map_id, timeout, restore)"," def startfcconsistgrp(self, fc_consist_group): ssh_cmd = ['svctask', 'startfcconsistgrp', fc_consist_group] def start_fc_consistgrp(self, fc_consistgrp): self.ssh.startfcconsistgrp(fc_consistgrp) self.prepare_fc_consistgrp(fc_consistgrp, timeout) self.start_fc_consistgrp(fc_consistgrp) self.prepare_fc_consistgrp(fc_consistgrp, timeout) self.start_fc_consistgrp(fc_consistgrp) self._prepare_fc_map(fc_map_id, timeout, restore)",251,28
openstack%2Fneutron~stable%2Fwallaby~I5d6c72c271ff450d9e43b3e33a99dd59d727882d,openstack/neutron,stable/wallaby,I5d6c72c271ff450d9e43b3e33a99dd59d727882d,[DVR] Send allowed address pairs info to the L3 agents,MERGED,2021-05-24 08:51:30.000000000,2021-06-07 16:47:00.000000000,2021-06-07 16:45:07.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-24 08:51:30.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e622b28e2c009aacc6bebac7d0740cfab85b8b68', 'message': ""[DVR] Send allowed address pairs info to the L3 agents\n\nWhen new dvr router is going to be created on the node, L3 agent\nasks server for list of ports plugged to the subnets, to populate\narp entries for all fixed IPs from those ports.\nThere was missing info about allowed address pairs there, so those\nIPs were not populated in the qrouter namespace.\nNow it's added and L3 agent can add those arp entries to the qrouter\nnamespaces too.\n\nConflicts:\n    neutron/tests/unit/db/test_l3_dvr_db.py\n\nCloses-Bug: #1928466\nChange-Id: I5d6c72c271ff450d9e43b3e33a99dd59d727882d\n(cherry picked from commit 7b59b5069b1402730602b430416a15b1609253ea)\n""}]",0,792790,e622b28e2c009aacc6bebac7d0740cfab85b8b68,10,3,1,11975,,,0,"[DVR] Send allowed address pairs info to the L3 agents

When new dvr router is going to be created on the node, L3 agent
asks server for list of ports plugged to the subnets, to populate
arp entries for all fixed IPs from those ports.
There was missing info about allowed address pairs there, so those
IPs were not populated in the qrouter namespace.
Now it's added and L3 agent can add those arp entries to the qrouter
namespaces too.

Conflicts:
    neutron/tests/unit/db/test_l3_dvr_db.py

Closes-Bug: #1928466
Change-Id: I5d6c72c271ff450d9e43b3e33a99dd59d727882d
(cherry picked from commit 7b59b5069b1402730602b430416a15b1609253ea)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/792790/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py']",7,e622b28e2c009aacc6bebac7d0740cfab85b8b68,bug/1928466-stable/wallaby," 'subnet_id': subnet_id}], 'allowed_address_pairs': [ {'ip_address': '10.20.30.40', 'mac_address': '00:11:22:33:44:55'}]}, self.mock_ip_dev.neigh.add.assert_has_calls([ mock.call('1.2.3.4', '00:11:22:33:44:55'), mock.call('10.20.30.40', '00:11:22:33:44:55')])"," 'subnet_id': subnet_id}]}, self.mock_ip_dev.neigh.add.assert_called_once_with( '1.2.3.4', '00:11:22:33:44:55')",65,12
openstack%2Freleases~master~Ic142de61e2be97f7e1236d57f4db222e56d11ec6,openstack/releases,master,Ic142de61e2be97f7e1236d57f4db222e56d11ec6,[keystone] Transition Train to EM,MERGED,2021-05-11 15:09:08.000000000,2021-06-07 16:46:12.000000000,2021-06-07 16:46:12.000000000,"[{'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e51e29186463eca041733d65341ac818657e5ef0', 'message': '[keystone] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ic142de61e2be97f7e1236d57f4db222e56d11ec6\n'}, {'number': 2, 'created': '2021-06-07 12:34:42.000000000', 'files': ['deliverables/train/keystoneauth.yaml', 'deliverables/train/pycadf.yaml', 'deliverables/train/python-keystoneclient.yaml', 'deliverables/train/keystonemiddleware.yaml', 'deliverables/train/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/685a04272854e4cd285505a3b9cbdab4822089aa', 'message': '[keystone] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ic142de61e2be97f7e1236d57f4db222e56d11ec6\n'}]",0,790750,685a04272854e4cd285505a3b9cbdab4822089aa,14,4,2,17685,,,0,"[keystone] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: Ic142de61e2be97f7e1236d57f4db222e56d11ec6
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/790750/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/keystoneauth.yaml', 'deliverables/train/pycadf.yaml', 'deliverables/train/python-keystoneclient.yaml', 'deliverables/train/keystonemiddleware.yaml', 'deliverables/train/keystone.yaml']",5,e51e29186463eca041733d65341ac818657e5ef0,train-em, - version: train-em projects: - repo: openstack/keystone hash: 40cbb7bebd50276412daa1981ff5a7c7b3b899a5,,20,0
openstack%2Fneutron~stable%2Frocky~I5d6c72c271ff450d9e43b3e33a99dd59d727882d,openstack/neutron,stable/rocky,I5d6c72c271ff450d9e43b3e33a99dd59d727882d,[DVR] Send allowed address pairs info to the L3 agents,MERGED,2021-05-24 09:15:45.000000000,2021-06-07 16:45:22.000000000,2021-06-07 16:45:22.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-24 09:15:45.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1321a31a8ce7bc266df05ad432a94e16ed693305', 'message': ""[DVR] Send allowed address pairs info to the L3 agents\n\nWhen new dvr router is going to be created on the node, L3 agent\nasks server for list of ports plugged to the subnets, to populate\narp entries for all fixed IPs from those ports.\nThere was missing info about allowed address pairs there, so those\nIPs were not populated in the qrouter namespace.\nNow it's added and L3 agent can add those arp entries to the qrouter\nnamespaces too.\n\nConflicts:\n    neutron/agent/l3/dvr_local_router.py\n    neutron/objects/port/extensions/allowedaddresspairs.py\n    neutron/tests/unit/db/test_l3_dvr_db.py\n\nCloses-Bug: #1928466\nChange-Id: I5d6c72c271ff450d9e43b3e33a99dd59d727882d\n(cherry picked from commit 7b59b5069b1402730602b430416a15b1609253ea)\n""}]",0,792759,1321a31a8ce7bc266df05ad432a94e16ed693305,7,3,1,11975,,,0,"[DVR] Send allowed address pairs info to the L3 agents

When new dvr router is going to be created on the node, L3 agent
asks server for list of ports plugged to the subnets, to populate
arp entries for all fixed IPs from those ports.
There was missing info about allowed address pairs there, so those
IPs were not populated in the qrouter namespace.
Now it's added and L3 agent can add those arp entries to the qrouter
namespaces too.

Conflicts:
    neutron/agent/l3/dvr_local_router.py
    neutron/objects/port/extensions/allowedaddresspairs.py
    neutron/tests/unit/db/test_l3_dvr_db.py

Closes-Bug: #1928466
Change-Id: I5d6c72c271ff450d9e43b3e33a99dd59d727882d
(cherry picked from commit 7b59b5069b1402730602b430416a15b1609253ea)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/792759/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py']",7,1321a31a8ce7bc266df05ad432a94e16ed693305,bug/1928466-stable/stein-stable/rocky," 'subnet_id': subnet_id}], 'allowed_address_pairs': [ {'ip_address': '10.20.30.40', 'mac_address': '00:11:22:33:44:55'}]}, self.mock_ip_dev.neigh.add.assert_has_calls([ mock.call('1.2.3.4', '00:11:22:33:44:55'), mock.call('10.20.30.40', '00:11:22:33:44:55')])"," 'subnet_id': subnet_id}]}, self.mock_ip_dev.neigh.add.assert_called_once_with( '1.2.3.4', '00:11:22:33:44:55')",63,12
openstack%2Fneutron~stable%2Fqueens~I59b0f99463ab00743f19016a890561916df900ed,openstack/neutron,stable/queens,I59b0f99463ab00743f19016a890561916df900ed,designate: allow PTR zone creation to fail,MERGED,2021-05-05 06:45:09.000000000,2021-06-07 16:45:00.000000000,2021-06-07 16:45:00.000000000,"[{'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 06:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a481ced24d0f8bf0738abe2f56fc2171b20b1f8', 'message': 'designate: allow PTR zone creation to fail\n\nWhen multiple PTR records are created at the same time, Neutron may try\nto create the same zone multiple times, resulting in a conflict. Ignore\nthe resulting error instead and try to create the record anyway.\n\nChange-Id: I59b0f99463ab00743f19016a890561916df900ed\nCloses-Bug: 1891309\n(cherry picked from commit ca1c6fd69bda5f392712a8a966bf4f9b85ecb57a)\n'}, {'number': 2, 'created': '2021-05-14 08:02:05.000000000', 'files': ['neutron/services/externaldns/drivers/designate/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9b7c64802dc10906b1a056f764d8328a69ef3ee', 'message': 'designate: allow PTR zone creation to fail\n\nWhen multiple PTR records are created at the same time, Neutron may try\nto create the same zone multiple times, resulting in a conflict. Ignore\nthe resulting error instead and try to create the record anyway.\n\nChange-Id: I59b0f99463ab00743f19016a890561916df900ed\nCloses-Bug: 1891309\n(cherry picked from commit ca1c6fd69bda5f392712a8a966bf4f9b85ecb57a)\n'}]",0,789665,e9b7c64802dc10906b1a056f764d8328a69ef3ee,19,4,2,11975,,,0,"designate: allow PTR zone creation to fail

When multiple PTR records are created at the same time, Neutron may try
to create the same zone multiple times, resulting in a conflict. Ignore
the resulting error instead and try to create the record anyway.

Change-Id: I59b0f99463ab00743f19016a890561916df900ed
Closes-Bug: 1891309
(cherry picked from commit ca1c6fd69bda5f392712a8a966bf4f9b85ecb57a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/789665/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/externaldns/drivers/designate/driver.py'],1,2a481ced24d0f8bf0738abe2f56fc2171b20b1f8,bug/1891309-stable/wallaby-stable/victoria-stable/ussuri-stable/train-stable/stein-stable/rocky-stable/queens,"from oslo_log import logLOG = log.getLogger(__name__) # Note(jh): If multiple PTRs get created at the same time, # the creation of the zone may fail with a conflict because # it has already been created by a parallel job. So we # ignore that error and try to create the recordset # anyway. That call will still fail in the end if something # is really broken. See bug 1891309. try: designate_admin.zones.create( in_addr_zone_name, email=ptr_zone_email, description=in_addr_zone_description) except d_exc.Conflict: LOG.debug('Conflict when trying to create PTR zone %s,' ' assuming it exists.', in_addr_zone_name) pass"," designate_admin.zones.create( in_addr_zone_name, email=ptr_zone_email, description=in_addr_zone_description)",18,3
openstack%2Fmonasca-common~master~I43e86ff631034bc6b35fedbc30b72282b5d3b7c8,openstack/monasca-common,master,I43e86ff631034bc6b35fedbc30b72282b5d3b7c8,Fix Docker build,MERGED,2021-06-07 14:45:50.000000000,2021-06-07 16:37:51.000000000,2021-06-07 16:37:51.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-06-07 14:45:50.000000000', 'files': ['docker/build_base_image.sh'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/844db67a91fabfcf7ca8ec55aeb3a700ab1b6168', 'message': ""Fix Docker build\n\nThe default nodeset was just changed to focal [1], which in the absence\nof the python-is-python3 package doesn't provide a python binary.\n\n[1] https://review.opendev.org/c/opendev/base-jobs/+/789098\n\nChange-Id: I43e86ff631034bc6b35fedbc30b72282b5d3b7c8\n""}]",0,795119,844db67a91fabfcf7ca8ec55aeb3a700ab1b6168,6,2,1,28062,,,0,"Fix Docker build

The default nodeset was just changed to focal [1], which in the absence
of the python-is-python3 package doesn't provide a python binary.

[1] https://review.opendev.org/c/opendev/base-jobs/+/789098

Change-Id: I43e86ff631034bc6b35fedbc30b72282b5d3b7c8
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/19/795119/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/build_base_image.sh'],1,844db67a91fabfcf7ca8ec55aeb3a700ab1b6168,docker-build-fixes,"REAL_PATH=$(python3 -c ""import os,sys;print(os.path.realpath('$0'))"")","REAL_PATH=$(python -c ""import os,sys;print(os.path.realpath('$0'))"")",1,1
openstack%2Ftripleo-docs~master~I0e3ff5605b59a7a3ca527756271825f9a781e728,openstack/tripleo-docs,master,I0e3ff5605b59a7a3ca527756271825f9a781e728,Document Ephemeral Heat,MERGED,2021-03-25 14:04:04.000000000,2021-06-07 16:29:58.000000000,2021-06-07 16:27:40.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-25 14:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4ffe51288b0137c1b14255b51a6efbe3b3fdf4a4', 'message': 'Document Ephemeral Heat\n\nChange-Id: I0e3ff5605b59a7a3ca527756271825f9a781e728\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-04-28 20:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/c52c99677e419216151e93c0d7196b1ba493f00d', 'message': 'Document Ephemeral Heat\n\nChange-Id: I0e3ff5605b59a7a3ca527756271825f9a781e728\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2021-05-04 14:49:05.000000000', 'files': ['deploy-guide/source/deployment/standalone.rst', 'deploy-guide/source/deployment/index.rst', 'deploy-guide/source/deployment/ephemeral_heat.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/257955d7df7dd5477aad3edb0296b139388ac2b8', 'message': 'Document Ephemeral Heat\n\nChange-Id: I0e3ff5605b59a7a3ca527756271825f9a781e728\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",23,783008,257955d7df7dd5477aad3edb0296b139388ac2b8,23,8,3,7144,,,0,"Document Ephemeral Heat

Change-Id: I0e3ff5605b59a7a3ca527756271825f9a781e728
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/08/783008/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/deployment/standalone.rst', 'deploy-guide/source/deployment/index.rst', 'deploy-guide/source/deployment/ephemeral_heat.rst']",3,4ffe51288b0137c1b14255b51a6efbe3b3fdf4a4,ephemeral-heat,".. _ephemeral_heat: Ephemeral Heat ============== Introduction ------------ Ephemeral Heat is a means to install the overcloud by using an ephemeral Heat processes instead of a system installed Heat processes. This change is possibly beginning in the Wallaby release. In a typical undercloud, Heat is installed on the undercloud and processes are run in podman containers for heat-api and heat-engine. When using ephemeral Heat, there is no longer a requirement that Heat is installed on the undercloud, instead these processes are started on demand by the deployment process. This model has been in use within TripleO already for both the undercloud and :ref:`standalone <standalone>` installation methods, which start an on demand all in one heat-all process in order to perform only the installation. Using ephemeral Heat in this way allows for re-use of the Heat templates from tripleo-heat-templates without having to require an already fully installed undercloud. Description ----------- Ephemeral Heat is enabled by passing the ``--heat-type`` argument to ``openstack overcloud deploy``. The ephemeral process can also be launched outside of a deployment with the ``openstack tripleo launch heat`` command. The latter command also takes a ``--heat-type`` argument to enable selecting the type of Heat process to use. Heat types __________ The ``--heat-type`` argument allows for the following options described below. installed Use the system Heat installation. This is the historical TripleO usage of Heat with Heat fully installed on the undercloud. This is the default value, and requires a fully installed undercloud. native Use an ephemeral ``heat-all`` process. The process will be started natively on the system executing tripleoclient commands by way of an OS (operating system) fork. container A podman container will be started on the executing system that runs a single ``heat-all`` process. pod A podman pod will be started on the executing system that runs containers for ``heat-api`` and ``heat-engine``. In all cases, the process(es) are terminated at the end of the deployment. .. note:: The native and container methods are limited in scale due to being a single Heat process. Deploying more than 3 nodes or 2 roles will singificantly impact the deployment time with these methods as Heat has only a single worker thread. Using the installed or pod methods enable scaling node and role counts as is typically required. Using ----- The following example shows using ``--heat-type`` to enable ephemeral Heat:: openstack overcloud deploy \ --stack overcloud \ --work-dir ~/overcloud-deploy/overcloud \ --heat-type <pod|container|native> \ <other cli arguments> With ephemeral Heat enabled, several additional deployment artificats are generated related to the management of the Heat process(es). These artifcats are generated under the working directory of the deployment in a ``heat-launder`` subdirectory. The working directory can be overridden with the ``--work-dir`` argument. Using the above example, the Heat artifcat directory would be located at ``~/overcloud-deploy/overcloud/heat-launcher``. An example of the directory contents is shown below:: [centos@ephemeral-heat ~]$ ls -l ~/overcloud-deploy/overcloud/heat-launcher/ total 41864 -rw-rw-r--. 1 centos centos 650 Mar 24 18:39 api-paste.ini -rw-rw-r--. 1 centos centos 1054 Mar 24 18:39 heat.conf -rw-rw-r--. 1 centos centos 42852118 Mar 24 18:31 heat-db-dump.sql -rw-rw-r--. 1 centos centos 2704 Mar 24 18:39 heat-pod.yaml drwxrwxr-x. 2 centos centos 49 Mar 24 16:02 log -rw-rw-r--. 1 centos centos 1589 Mar 24 18:39 token_file.json The directory contains the necessary files to inspect and debug the Heat process(es), and if necessary reproduce the deployment. .. note:: The consolidated log file for the Heat process is the ``log`` file in the ``heat-launcher`` directory. Launching Ephemeral Heat ________________________ Outside of a deployment, the ephermal Heat process can also be started with the ``openstack tripleo launch heat`` command. This can be used to interactively use the ephemeral Heat process or to debug a previous deployment. When combined with ``--heat-dir`` and ``--restore-db``, the command can be used to restore the Heat process and database from a previous deployment:: openstack tripleo launch heat \ --heat-type pod \ --heat-dir ~/overcloud-deploy/overcloud/heat-launcher \ --restore-db The command will exit after launching the Heat process, and the Heat process will continue to run in the background. Interacting with ephemeral Heat ............................... With the ephermal Heat process launched and running, ``openstackclient`` can be used to interact with the Heat API. The following shell environment configuration must be set in order to disable authentication:: unset OS_PROJECT_NAME unset OS_PROJECT_DOMAIN_NAME unset OS_USER_DOMAIN_NAME OS_AUTH_TYPE=none OS_ENDPOINT=http://192.168.24.2:8006/v1/admin Once the environment is configured, ``openstackclient`` work as expected against the Heat API:: [centos@ephemeral-heat ~]$ openstack stack list +--------------------------------------+------------+---------+-----------------+----------------------+--------------+ | ID | Stack Name | Project | Stack Status | Creation Time | Updated Time | +--------------------------------------+------------+---------+-----------------+----------------------+--------------+ | 761e2a54-c6f9-4e0f-abe6-c8e0ad51a76c | overcloud | admin | CREATE_COMPLETE | 2021-03-22T20:48:37Z | None | +--------------------------------------+------------+---------+-----------------+----------------------+--------------+ Killing ephemeral Heat ...................... To stop the ephemeral Heat process previously started with ``openstack tripleo launch heat``, use the ``--kill`` argument:: openstack tripleo launch heat \ --heat-type pod \ --heat-dir ~/overcloud-deploy/overcloud/heat-launcher \ --kill Limitations ----------- Ephemeral Heat currently only supports new deployments. Update and Upgrade support for deployments that previously used the system installed Heat will be coming. ",,167,0
openstack%2Fkuryr-kubernetes~master~Iaaa6805287c175de618e0ec20099887f129e7536,openstack/kuryr-kubernetes,master,Iaaa6805287c175de618e0ec20099887f129e7536,Fix Listener timeouts update,MERGED,2021-05-31 11:13:09.000000000,2021-06-07 16:29:23.000000000,2021-06-07 16:23:08.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-05-31 11:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/88eefcfccfe238e2b1cf34d0e3952e5da159db49', 'message': ""Fix Listener timeouts update\n\nIt's possible that the Listener timeouts data was\nincluded in the CRD status, even though there is\nno annotation on the Service, probably the Listener\nwas not present on the CRD, but created and the\ncontroller attempts to find it and includes the timeouts\nvalue. The timeouts included on the CRD then differs\nfrom the spec values causing the constant update\nof the Listener. This commit fixes the issue my ensuring\nthe timeouts information is only included on the CRD\nwhen there was annoation(s) on the Service.\n\nCloses-bug: 1930220\nChange-Id: Iaaa6805287c175de618e0ec20099887f129e7536\n""}, {'number': 2, 'created': '2021-06-01 07:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1546989230ba5fc2a297cf31a7b82ef8ff2f10fd', 'message': ""Fix Listener timeouts update\n\nIt's possible that the Listener timeouts data was\nincluded in the CRD status, even though there is\nno annotation on the Service, probably the Listener\nwas not present on the CRD, but created and the\ncontroller attempts to find it and includes the timeouts\nvalue. The timeouts included on the CRD then differs\nfrom the spec values causing the constant update\nof the Listener. This commit fixes the issue my ensuring\nthe timeouts information is only included on the CRD\nwhen there was annoation(s) on the Service.\n\nCloses-bug: 1930220\nChange-Id: Iaaa6805287c175de618e0ec20099887f129e7536\n""}, {'number': 3, 'created': '2021-06-07 12:06:02.000000000', 'files': ['kuryr_kubernetes/controller/drivers/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b24380b4ae30f9a4659b1965839068cb623853cc', 'message': ""Fix Listener timeouts update\n\nIt's possible that the Listener timeouts data was\nincluded in the CRD status, even though there is\nno annotation on the Service, probably the Listener\nwas not present on the CRD, but created and the\ncontroller attempts to find it and includes the timeouts\nvalue. The timeouts included on the CRD then differs\nfrom the spec values causing the constant update\nof the Listener. This commit fixes the issue by ensuring\nthe timeouts information is only included on the CRD\nwhen there was annoation(s) on the Service.\n\nCloses-bug: 1930220\nChange-Id: Iaaa6805287c175de618e0ec20099887f129e7536\n""}]",3,793768,b24380b4ae30f9a4659b1965839068cb623853cc,18,4,3,27032,,,0,"Fix Listener timeouts update

It's possible that the Listener timeouts data was
included in the CRD status, even though there is
no annotation on the Service, probably the Listener
was not present on the CRD, but created and the
controller attempts to find it and includes the timeouts
value. The timeouts included on the CRD then differs
from the spec values causing the constant update
of the Listener. This commit fixes the issue by ensuring
the timeouts information is only included on the CRD
when there was annoation(s) on the Service.

Closes-bug: 1930220
Change-Id: Iaaa6805287c175de618e0ec20099887f129e7536
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/68/793768/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/lbaasv2.py'],1,88eefcfccfe238e2b1cf34d0e3952e5da159db49,bug/1930220," LOG.debug(""Updating listener %s"", os_listener.id) elif not timeout_cli or not timeout_mb: LOG.debug(""Updating listener %s"", os_listener.id) lbaas.update_listener(os_listener.id, **request)"," elif not timeout_cli or not timeout_mb: n_listen = lbaas.update_listener(os_listener.id, **request) if n_listen:",4,3
openstack%2Fneutron~stable%2Frocky~I59b0f99463ab00743f19016a890561916df900ed,openstack/neutron,stable/rocky,I59b0f99463ab00743f19016a890561916df900ed,designate: allow PTR zone creation to fail,MERGED,2021-05-05 06:44:32.000000000,2021-06-07 16:24:20.000000000,2021-06-07 16:24:20.000000000,"[{'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 06:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/437120752e74648cc4ce812692f9ab9f89ba062f', 'message': 'designate: allow PTR zone creation to fail\n\nWhen multiple PTR records are created at the same time, Neutron may try\nto create the same zone multiple times, resulting in a conflict. Ignore\nthe resulting error instead and try to create the record anyway.\n\nChange-Id: I59b0f99463ab00743f19016a890561916df900ed\nCloses-Bug: 1891309\n(cherry picked from commit ca1c6fd69bda5f392712a8a966bf4f9b85ecb57a)\n'}, {'number': 2, 'created': '2021-05-14 08:00:47.000000000', 'files': ['neutron/services/externaldns/drivers/designate/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8977e2e7a49804b0464df9da13c6838362b0bef1', 'message': 'designate: allow PTR zone creation to fail\n\nWhen multiple PTR records are created at the same time, Neutron may try\nto create the same zone multiple times, resulting in a conflict. Ignore\nthe resulting error instead and try to create the record anyway.\n\nChange-Id: I59b0f99463ab00743f19016a890561916df900ed\nCloses-Bug: 1891309\n(cherry picked from commit ca1c6fd69bda5f392712a8a966bf4f9b85ecb57a)\n'}]",0,789664,8977e2e7a49804b0464df9da13c6838362b0bef1,22,4,2,11975,,,0,"designate: allow PTR zone creation to fail

When multiple PTR records are created at the same time, Neutron may try
to create the same zone multiple times, resulting in a conflict. Ignore
the resulting error instead and try to create the record anyway.

Change-Id: I59b0f99463ab00743f19016a890561916df900ed
Closes-Bug: 1891309
(cherry picked from commit ca1c6fd69bda5f392712a8a966bf4f9b85ecb57a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/789664/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/externaldns/drivers/designate/driver.py'],1,437120752e74648cc4ce812692f9ab9f89ba062f,bug/1891309-stable/wallaby-stable/victoria-stable/ussuri-stable/train-stable/stein-stable/rocky,"from oslo_log import logLOG = log.getLogger(__name__) # Note(jh): If multiple PTRs get created at the same time, # the creation of the zone may fail with a conflict because # it has already been created by a parallel job. So we # ignore that error and try to create the recordset # anyway. That call will still fail in the end if something # is really broken. See bug 1891309. try: designate_admin.zones.create( in_addr_zone_name, email=ptr_zone_email, description=in_addr_zone_description) except d_exc.Conflict: LOG.debug('Conflict when trying to create PTR zone %s,' ' assuming it exists.', in_addr_zone_name) pass"," designate_admin.zones.create( in_addr_zone_name, email=ptr_zone_email, description=in_addr_zone_description)",18,3
openstack%2Fcloudkitty~master~Ifdd0151ef3d4f5e8995e1095c62d0d587d2186fa,openstack/cloudkitty,master,Ifdd0151ef3d4f5e8995e1095c62d0d587d2186fa,[DNM] Pin Flask to 1.x,ABANDONED,2021-05-31 13:18:44.000000000,2021-06-07 16:20:07.000000000,,"[{'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2021-05-31 13:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/1afb4ed474cf6320ce732229c3349945a728af0d', 'message': 'Pin Flask to 1.x\n\nFlask 2.x was made available via upper constraints [1], which breaks\nseveral Zuul jobs. Pin Flask to 1.x for now.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/793023\n\nChange-Id: Ifdd0151ef3d4f5e8995e1095c62d0d587d2186fa\n'}, {'number': 2, 'created': '2021-05-31 14:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/bbc5c13116d52a14e8abe3dcaec44fa64e8dc68e', 'message': '[DNM] Pin Flask to 1.x\n\nFlask 2.x was made available via upper constraints [1], which breaks\nseveral Zuul jobs. Pin Flask to 1.x for now.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/793023\n\nChange-Id: Ifdd0151ef3d4f5e8995e1095c62d0d587d2186fa\n'}, {'number': 3, 'created': '2021-05-31 14:09:55.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/9149825a4a28e7be6f52c73918daaeb53e0d8715', 'message': '[DNM] Pin Flask to 1.x\n\nFlask 2.x was made available via upper constraints [1], which breaks\nseveral Zuul jobs. Pin Flask to 1.x for now.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/793023\n\nChange-Id: Ifdd0151ef3d4f5e8995e1095c62d0d587d2186fa\n'}]",0,793790,9149825a4a28e7be6f52c73918daaeb53e0d8715,5,2,3,15197,,,0,"[DNM] Pin Flask to 1.x

Flask 2.x was made available via upper constraints [1], which breaks
several Zuul jobs. Pin Flask to 1.x for now.

[1] https://review.opendev.org/c/openstack/requirements/+/793023

Change-Id: Ifdd0151ef3d4f5e8995e1095c62d0d587d2186fa
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/90/793790/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,1afb4ed474cf6320ce732229c3349945a728af0d,fix-gate,"Flask>=1.1.2,<2.0 # BSD",Flask>=1.1.2 # BSD,1,1
openstack%2Fopenstack-helm~master~I6a160916ec65d73eef1aaffb510c85ee7fb0d501,openstack/openstack-helm,master,I6a160916ec65d73eef1aaffb510c85ee7fb0d501,Barbican: Add conditional wrapper to helm hook,MERGED,2021-06-06 02:58:05.000000000,2021-06-07 16:11:58.000000000,2021-06-07 16:10:19.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28275}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-06-06 02:58:05.000000000', 'files': ['barbican/templates/job-rabbit-init.yaml', 'releasenotes/notes/barbican.yaml', 'barbican/templates/job-db-init.yaml', 'barbican/templates/job-image-repo-sync.yaml', 'barbican/templates/job-ks-endpoints.yaml', 'barbican/values.yaml', 'barbican/templates/job-ks-service.yaml', 'barbican/templates/job-db-sync.yaml', 'barbican/Chart.yaml', 'barbican/templates/job-bootstrap.yaml', 'barbican/templates/job-ks-user.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/43f24adf576240b82a9d053caeb09dc3900aa69e', 'message': 'Barbican: Add conditional wrapper to helm hook\n\nThe pre-install hooks for several of the barbican templates [0] cause\nupgrade failures when using helm2. Similar to what was done for keystone\n[1], this change wraps them in a conditional that can be toggled off for\nanyone still using helm2.\n\n0: https://review.opendev.org/c/openstack/openstack-helm/+/782710\n1: https://review.opendev.org/c/openstack/openstack-helm/+/785517\n\nChange-Id: I6a160916ec65d73eef1aaffb510c85ee7fb0d501\n'}]",0,794969,43f24adf576240b82a9d053caeb09dc3900aa69e,10,5,1,28719,,,0,"Barbican: Add conditional wrapper to helm hook

The pre-install hooks for several of the barbican templates [0] cause
upgrade failures when using helm2. Similar to what was done for keystone
[1], this change wraps them in a conditional that can be toggled off for
anyone still using helm2.

0: https://review.opendev.org/c/openstack/openstack-helm/+/782710
1: https://review.opendev.org/c/openstack/openstack-helm/+/785517

Change-Id: I6a160916ec65d73eef1aaffb510c85ee7fb0d501
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/69/794969/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/templates/job-rabbit-init.yaml', 'releasenotes/notes/barbican.yaml', 'barbican/templates/job-db-init.yaml', 'barbican/templates/job-image-repo-sync.yaml', 'barbican/templates/job-ks-endpoints.yaml', 'barbican/templates/job-ks-service.yaml', 'barbican/values.yaml', 'barbican/Chart.yaml', 'barbican/templates/job-db-sync.yaml', 'barbican/templates/job-bootstrap.yaml', 'barbican/templates/job-ks-user.yaml']",11,43f24adf576240b82a9d053caeb09dc3900aa69e,,{{- if .Values.helm3_hook }}{{- end }},,22,1
openstack%2Fmonasca-thresh~stable%2Fvictoria~I4c6e6f1dbacf093f94b566abc7251f4e33eff93f,openstack/monasca-thresh,stable/victoria,I4c6e6f1dbacf093f94b566abc7251f4e33eff93f,Use external Zookeeper in Local mode,MERGED,2021-04-08 13:44:24.000000000,2021-06-07 16:02:29.000000000,2021-04-08 19:59:17.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-08 13:44:24.000000000', 'files': ['thresh/src/main/java/monasca/thresh/ThresholdingEngine.java'], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/3919c1abf90865d00affd07b8ea220de24e340b8', 'message': ""Use external Zookeeper in Local mode\n\nBy default Storm uses the in-process ZooKeeper when the local mode\nis chosen.\n\nThe in-process ZooKeeper doesn't handle the trim of ZooKeeper\nTransactional logs & snapshots.\n\nThere is a constructor which enables the possibility to use an\nexternal ZooKeeper when the local mode is used. [1][2]\n\n[1] https://issues.apache.org/jira/browse/STORM-213\n[2] https://github.com/apache/storm/pull/137/files\n\nChange-Id: I4c6e6f1dbacf093f94b566abc7251f4e33eff93f\n(cherry picked from commit d156980a528caf1797df1a621719dd76668a18dd)\n""}]",0,785379,3919c1abf90865d00affd07b8ea220de24e340b8,7,2,1,28062,,,0,"Use external Zookeeper in Local mode

By default Storm uses the in-process ZooKeeper when the local mode
is chosen.

The in-process ZooKeeper doesn't handle the trim of ZooKeeper
Transactional logs & snapshots.

There is a constructor which enables the possibility to use an
external ZooKeeper when the local mode is used. [1][2]

[1] https://issues.apache.org/jira/browse/STORM-213
[2] https://github.com/apache/storm/pull/137/files

Change-Id: I4c6e6f1dbacf093f94b566abc7251f4e33eff93f
(cherry picked from commit d156980a528caf1797df1a621719dd76668a18dd)
",git fetch https://review.opendev.org/openstack/monasca-thresh refs/changes/79/785379/1 && git format-patch -1 --stdout FETCH_HEAD,['thresh/src/main/java/monasca/thresh/ThresholdingEngine.java'],1,3919c1abf90865d00affd07b8ea220de24e340b8,," new LocalCluster( System.getenv(""ZOOKEEPER_SERVERS""), new Long(System.getenv(""ZOOKEEPER_PORT"")) ).submitTopology(topologyName, config, topology);"," new LocalCluster().submitTopology(topologyName, config, topology);",4,1
openstack%2Fmonasca-thresh~stable%2Fwallaby~I4c6e6f1dbacf093f94b566abc7251f4e33eff93f,openstack/monasca-thresh,stable/wallaby,I4c6e6f1dbacf093f94b566abc7251f4e33eff93f,Use external Zookeeper in Local mode,MERGED,2021-04-08 13:43:37.000000000,2021-06-07 16:01:47.000000000,2021-04-08 19:59:20.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-08 13:43:37.000000000', 'files': ['thresh/src/main/java/monasca/thresh/ThresholdingEngine.java'], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/085c5a967070c0e90ae57df97decb86bfe27d8d2', 'message': ""Use external Zookeeper in Local mode\n\nBy default Storm uses the in-process ZooKeeper when the local mode\nis chosen.\n\nThe in-process ZooKeeper doesn't handle the trim of ZooKeeper\nTransactional logs & snapshots.\n\nThere is a constructor which enables the possibility to use an\nexternal ZooKeeper when the local mode is used. [1][2]\n\n[1] https://issues.apache.org/jira/browse/STORM-213\n[2] https://github.com/apache/storm/pull/137/files\n\nChange-Id: I4c6e6f1dbacf093f94b566abc7251f4e33eff93f\n(cherry picked from commit d156980a528caf1797df1a621719dd76668a18dd)\n""}]",0,785378,085c5a967070c0e90ae57df97decb86bfe27d8d2,7,2,1,28062,,,0,"Use external Zookeeper in Local mode

By default Storm uses the in-process ZooKeeper when the local mode
is chosen.

The in-process ZooKeeper doesn't handle the trim of ZooKeeper
Transactional logs & snapshots.

There is a constructor which enables the possibility to use an
external ZooKeeper when the local mode is used. [1][2]

[1] https://issues.apache.org/jira/browse/STORM-213
[2] https://github.com/apache/storm/pull/137/files

Change-Id: I4c6e6f1dbacf093f94b566abc7251f4e33eff93f
(cherry picked from commit d156980a528caf1797df1a621719dd76668a18dd)
",git fetch https://review.opendev.org/openstack/monasca-thresh refs/changes/78/785378/1 && git format-patch -1 --stdout FETCH_HEAD,['thresh/src/main/java/monasca/thresh/ThresholdingEngine.java'],1,085c5a967070c0e90ae57df97decb86bfe27d8d2,," new LocalCluster( System.getenv(""ZOOKEEPER_SERVERS""), new Long(System.getenv(""ZOOKEEPER_PORT"")) ).submitTopology(topologyName, config, topology);"," new LocalCluster().submitTopology(topologyName, config, topology);",4,1
openstack%2Fcoverage2sql~master~Id582b9d916081d11edfc1928f87742df5d54888f,openstack/coverage2sql,master,Id582b9d916081d11edfc1928f87742df5d54888f,setup.cfg: Replace dashes with underscores,MERGED,2021-05-29 19:22:16.000000000,2021-06-07 15:48:28.000000000,2021-06-07 15:47:07.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-05-29 19:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/coverage2sql/commit/03fd4dcdb257e842d4ab55a2ffd2edde3387cbbf', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Id582b9d916081d11edfc1928f87742df5d54888f\n""}, {'number': 2, 'created': '2021-06-02 10:42:30.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/coverage2sql/commit/2a81af8bd394076a1ecd938318a864924e32b0c9', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Id582b9d916081d11edfc1928f87742df5d54888f\n""}]",2,793663,2a81af8bd394076a1ecd938318a864924e32b0c9,11,2,2,33379,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Id582b9d916081d11edfc1928f87742df5d54888f
",git fetch https://review.opendev.org/openstack/coverage2sql refs/changes/63/793663/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,03fd4dcdb257e842d4ab55a2ffd2edde3387cbbf,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/coverage2sql/latest/ python_requires = >=3.6 coverage2sql_db_manage = coverage2sql.migrations.cli:main,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/coverage2sql/latest/ python-requires = >=3.6 coverage2sql-db-manage = coverage2sql.migrations.cli:main,5,5
openstack%2Fansible-collections-openstack~master~I867d6869744528aae3034a7e0add2d0e922a97ff,openstack/ansible-collections-openstack,master,I867d6869744528aae3034a7e0add2d0e922a97ff,Fail if referenced source image for a new volume does not exist,MERGED,2021-05-26 16:25:46.000000000,2021-06-07 15:46:16.000000000,2021-06-07 15:46:16.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-05-26 16:25:46.000000000', 'files': ['plugins/modules/volume.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/82792ab5d50cf4bdfb450203045a9ba30c8d3f3c', 'message': 'Fail if referenced source image for a new volume does not exist\n\nStory: 2008926\nTask: 42525\nChange-Id: I867d6869744528aae3034a7e0add2d0e922a97ff\n'}]",0,793203,82792ab5d50cf4bdfb450203045a9ba30c8d3f3c,7,4,1,32755,,,0,"Fail if referenced source image for a new volume does not exist

Story: 2008926
Task: 42525
Change-Id: I867d6869744528aae3034a7e0add2d0e922a97ff
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/03/793203/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/volume.py'],1,82792ab5d50cf4bdfb450203045a9ba30c8d3f3c,," if not image_id: self.fail_json(msg=""Failed to find image '%s'"" % self.params['image'])",,2,0
openstack%2Fansible-collections-openstack~master~I0b2f8d0578b764ba3484d45c212f81ad728072e5,openstack/ansible-collections-openstack,master,I0b2f8d0578b764ba3484d45c212f81ad728072e5,Fix host_aggregate to tolerate aggregate.hosts being None,MERGED,2021-05-28 14:40:59.000000000,2021-06-07 15:45:40.000000000,2021-06-07 15:45:40.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-05-28 14:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/27becdedb87ca285209e2bb64aa944c502dcc8b6', 'message': 'Fix host_aggregate to tolerate None for list of aggregate.hosts\n\nStory: 2008925\nTask: 42524\n\nChange-Id: I0b2f8d0578b764ba3484d45c212f81ad728072e5\n'}, {'number': 2, 'created': '2021-06-01 08:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/091f6886e250be40de2f173ead9d661d1464db82', 'message': 'Fix host_aggregate to tolerate aggregate.hosts being None\n\nStory: 2008925\nTask: 42524\n\nChange-Id: I0b2f8d0578b764ba3484d45c212f81ad728072e5\n'}, {'number': 3, 'created': '2021-06-01 10:45:51.000000000', 'files': ['plugins/modules/host_aggregate.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/47708e0172d19786e7d2429e9a97384b51e7aa37', 'message': 'Fix host_aggregate to tolerate aggregate.hosts being None\n\nStory: 2008925\nTask: 42524\n\nChange-Id: I0b2f8d0578b764ba3484d45c212f81ad728072e5\n'}]",12,793612,47708e0172d19786e7d2429e9a97384b51e7aa37,16,4,3,32755,,,0,"Fix host_aggregate to tolerate aggregate.hosts being None

Story: 2008925
Task: 42524

Change-Id: I0b2f8d0578b764ba3484d45c212f81ad728072e5
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/12/793612/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/host_aggregate.py'],1,27becdedb87ca285209e2bb64aa944c502dcc8b6,aggregateEmptyHosts, if aggregate.hosts is None: aggregate.hosts = [] ,,3,0
openstack%2Fansible-collections-openstack~master~Ic79510f863cf3a39c3f5c6d99f61d335f92f9388,openstack/ansible-collections-openstack,master,Ic79510f863cf3a39c3f5c6d99f61d335f92f9388,Update checks for validate_certs in openstack_cloud_from_module,MERGED,2021-05-13 17:10:15.000000000,2021-06-07 15:45:33.000000000,2021-06-07 15:45:33.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 17:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a3e4fd5ed61c3f8befff2c9a08ed1a7894ac8aa5', 'message': 'Update checks for validate_certs in openstack_cloud_from_module\n\nChange I51105f11565c5ff33b04add36259c8703af11240 moved validate_certs default\nfrom None to False. This causes checks to fail in openstack_cloud_from_module\nas validate_certs is never None anymore.\n(https://opendev.org/openstack/ansible-collections-openstack/commit/e504d807de05dcd9f0edd270fc0a74a725c6193e)\n\nThis patch changes the checks so that a failure is triggered when a non default\nvalue is supplied to validate_certs when a cloud_config is being used.\n\nStory: 2008600\nChange-Id: Ic79510f863cf3a39c3f5c6d99f61d335f92f9388\n'}, {'number': 2, 'created': '2021-05-13 17:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6eb118fe1c2c65e9482927a68b05cc21a90b82e7', 'message': 'Update checks for validate_certs in openstack_cloud_from_module\n\nChange I51105f11565c5ff33b04add36259c8703af11240 moved validate_certs default from None to False.\nThis causes checks to fail in openstack_cloud_from_module as validate_certs is never None anymore.\n\nThis patch changes the checks so that a failure is triggered when a non default value is supplied to\nvalidate_certs when a cloud_config is being used.\n\nStory: 2008600\nChange-Id: Ic79510f863cf3a39c3f5c6d99f61d335f92f9388\n'}, {'number': 3, 'created': '2021-05-13 21:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3de55643141cfe7a785977472fa47f8a3de95736', 'message': 'Update checks for validate_certs in openstack_cloud_from_module\n\nChange I51105f11565c5ff33b04add36259c8703af11240 moved validate_certs default from None to False.\nThis causes checks to fail in openstack_cloud_from_module as validate_certs is never None anymore.\n\nThis patch changes the checks so that a failure is triggered when a non default value is supplied to\nvalidate_certs when a cloud_config is being used.\n\nStory: 2008600\nChange-Id: Ic79510f863cf3a39c3f5c6d99f61d335f92f9388\n'}, {'number': 4, 'created': '2021-05-18 09:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f97944939e1adadf9e34e3f5040cde7551c51fe9', 'message': 'Update checks for validate_certs in openstack_cloud_from_module\n\nChange I51105f11565c5ff33b04add36259c8703af11240 moved validate_certs default from None to False.\nThis causes checks to fail in openstack_cloud_from_module as validate_certs is never None anymore.\n\nThis patch changes the checks so that a failure is triggered when a non default value is supplied to\nvalidate_certs when a cloud_config is being used.\n\nTask:  41776\nStory: 2008600\nChange-Id: Ic79510f863cf3a39c3f5c6d99f61d335f92f9388\n'}, {'number': 5, 'created': '2021-05-20 17:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1593baac7f45e3b5cb1cc64e112dc079a285ece8', 'message': 'Update checks for validate_certs in openstack_cloud_from_module\n\nChange I51105f11565c5ff33b04add36259c8703af11240 moved validate_certs default from None to False.\nThis causes checks to fail in openstack_cloud_from_module as validate_certs is never None anymore.\n\nThis patch changes the checks so that a failure is triggered when a non default value is supplied to\nvalidate_certs when a cloud_config is being used.\n\nTask:  41776\nStory: 2008600\nChange-Id: Ic79510f863cf3a39c3f5c6d99f61d335f92f9388\n'}, {'number': 6, 'created': '2021-06-01 16:23:27.000000000', 'files': ['plugins/module_utils/openstack.py', 'plugins/doc_fragments/openstack.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/329a5ef50dfeba582c9a7a0884a42759ece0c321', 'message': 'Update checks for validate_certs in openstack_cloud_from_module\n\nChange I51105f11565c5ff33b04add36259c8703af11240 moved validate_certs default from None to False.\nThis causes checks to fail in openstack_cloud_from_module as validate_certs is never None anymore.\n\nThis patch changes reverts the default back to None, and reflects this in the documentation.\n\nTask: 41776\nStory: 2008600\nChange-Id: Ic79510f863cf3a39c3f5c6d99f61d335f92f9388\n'}]",13,791291,329a5ef50dfeba582c9a7a0884a42759ece0c321,25,2,6,29865,,,0,"Update checks for validate_certs in openstack_cloud_from_module

Change I51105f11565c5ff33b04add36259c8703af11240 moved validate_certs default from None to False.
This causes checks to fail in openstack_cloud_from_module as validate_certs is never None anymore.

This patch changes reverts the default back to None, and reflects this in the documentation.

Task: 41776
Story: 2008600
Change-Id: Ic79510f863cf3a39c3f5c6d99f61d335f92f9388
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/91/791291/3 && git format-patch -1 --stdout FETCH_HEAD,['plugins/module_utils/openstack.py'],1,a3e4fd5ed61c3f8befff2c9a08ed1a7894ac8aa5,," 'auth', 'region_name', 'ca_cert', 'client_key', 'api_timeout', 'auth_type'): # For 'validate_certs' parameter, fail if we receive a non-default value if module.params['validate_certs'] != False: module.fail_json(msg=fail_message.format(param='validate_certs')) 'auth', 'region_name', 'ca_cert', 'client_key', 'api_timeout', 'auth_type'): # For 'validate_certs' parameter, fail if we receive a non-default value if self.params['validate_certs'] != False: self.fail_json(msg=fail_message.format(param='validate_certs'))"," 'auth', 'region_name', 'validate_certs', 'ca_cert', 'client_key', 'api_timeout', 'auth_type'): 'auth', 'region_name', 'validate_certs', 'ca_cert', 'client_key', 'api_timeout', 'auth_type'):",10,4
openstack%2Fmonasca-thresh~master~I8a0bbf34db9d25503e50d4ef9d9da466f229fc78,openstack/monasca-thresh,master,I8a0bbf34db9d25503e50d4ef9d9da466f229fc78,"Revert ""Use external Zookeeper in Local mode""",MERGED,2021-05-27 14:16:14.000000000,2021-06-07 15:35:26.000000000,2021-06-07 15:35:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-05-27 14:16:14.000000000', 'files': ['thresh/src/main/java/monasca/thresh/ThresholdingEngine.java'], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/37ccf62158a0c06a9fb199b1feef081b2eabc2fb', 'message': 'Revert ""Use external Zookeeper in Local mode""\n\nThis reverts commit d156980a528caf1797df1a621719dd76668a18dd.\n\nChange-Id: I8a0bbf34db9d25503e50d4ef9d9da466f229fc78\n'}]",0,793413,37ccf62158a0c06a9fb199b1feef081b2eabc2fb,8,2,1,28062,,,0,"Revert ""Use external Zookeeper in Local mode""

This reverts commit d156980a528caf1797df1a621719dd76668a18dd.

Change-Id: I8a0bbf34db9d25503e50d4ef9d9da466f229fc78
",git fetch https://review.opendev.org/openstack/monasca-thresh refs/changes/13/793413/1 && git format-patch -1 --stdout FETCH_HEAD,['thresh/src/main/java/monasca/thresh/ThresholdingEngine.java'],1,37ccf62158a0c06a9fb199b1feef081b2eabc2fb,," new LocalCluster().submitTopology(topologyName, config, topology);"," new LocalCluster( System.getenv(""ZOOKEEPER_SERVERS""), new Long(System.getenv(""ZOOKEEPER_PORT"")) ).submitTopology(topologyName, config, topology);",1,4
openstack%2Fpuppet-tripleo~master~Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2,openstack/puppet-tripleo,master,Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2,Allow ovn_db_host to be of type array,MERGED,2021-03-01 20:52:59.000000000,2021-06-07 15:30:01.000000000,2021-04-14 10:51:39.000000000,"[{'_account_id': 6469}, {'_account_id': 6926}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-01 20:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b7ec91158a78bcb48dc91888d67a48b1b794e20d', 'message': 'WIP: Allow ovn_db_host to be of list type\n\nOn an OVN clustered database environment, there is no OVN VIP as all\nOVN databases are active. Neutron has to be configured to point to all\nOVN database servers in the cluster.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nChange-Id: Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2\n'}, {'number': 2, 'created': '2021-03-02 10:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2a155d1c0c743f0d1feab3e38ccf5a34acc68c8f', 'message': 'WIP: Allow ovn_db_host to be of list type\n\nOn an OVN clustered database environment, there is no OVN VIP as all\nOVN databases are active. Neutron has to be configured to point to all\nOVN database servers in the cluster.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nChange-Id: Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2\n'}, {'number': 3, 'created': '2021-03-02 12:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6156f909526207180065a87caddb5b4d20fcae66', 'message': 'Allow ovn_db_host to be of type array\n\nOn an OVN clustered database environment, there is no OVN VIP as all\nOVN databases are active. Neutron has to be configured to point to all\nOVN database servers in the cluster.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nChange-Id: Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2\n'}, {'number': 4, 'created': '2021-04-13 09:39:01.000000000', 'files': ['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0b51d8258c4a0618ec6f2abd8f86bfe6943cd51f', 'message': 'Allow ovn_db_host to be of type array\n\nOn an OVN clustered database environment, there is no OVN VIP as all\nOVN databases are active. Neutron has to be configured to point to all\nOVN database servers in the cluster.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nChange-Id: Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2\n'}]",1,778066,0b51d8258c4a0618ec6f2abd8f86bfe6943cd51f,23,6,4,6469,,,0,"Allow ovn_db_host to be of type array

On an OVN clustered database environment, there is no OVN VIP as all
OVN databases are active. Neutron has to be configured to point to all
OVN database servers in the cluster.

Co-Authored-By: Michele Baldessari <michele@acksyn.org>
Change-Id: Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/66/778066/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp']",3,b7ec91158a78bcb48dc91888d67a48b1b794e20d,ovn-cluster,"# (Optional) The IP-Address where OVN DBs are listening. If passed a list it # will construct a comma separated string like # protocol:ip1:port,protocol:ip2:port. if is_string($ovn_db_host) { $ovn_remote_real = join([""${protocol}"", normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':') } elsif is_array($ovn_db_host) { $ovn_remote_real = join($ovn_db_host.map |$i| { ""${protocol}:${i}:${ovn_sbdb_port}"" }, ',') } class { 'ovn::controller': ovn_remote => ovn_remote_real,","# (Optional) The IP-Address where OVN DBs are listening. class { 'ovn::controller': ovn_remote => join([$protocol, normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':'),",31,7
openstack%2Fneutron~stable%2Fqueens~Ib73babdd563e3e8c21ce6f63456cc87af414c5aa,openstack/neutron,stable/queens,Ib73babdd563e3e8c21ce6f63456cc87af414c5aa,Don't try to create default SG when security groups are disabled,MERGED,2021-02-08 10:38:14.000000000,2021-06-07 15:29:37.000000000,2021-06-07 15:29:37.000000000,"[{'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-08 10:38:14.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a502a375705a889c1480209b7539b0dbae50f602', 'message': ""Don't try to create default SG when security groups are disabled\n\nIf security group API is disabled, there is no point to create default\nsecurity group for tenant when e.g. network is created.\n\nConflicts:\n    neutron/db/securitygroups_db.py\n    neutron/tests/unit/db/test_securitygroups_db.py\n\nCloses-Bug: #1913297\nChange-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa\n(cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae)\n""}]",0,774408,a502a375705a889c1480209b7539b0dbae50f602,9,4,1,11975,,,0,"Don't try to create default SG when security groups are disabled

If security group API is disabled, there is no point to create default
security group for tenant when e.g. network is created.

Conflicts:
    neutron/db/securitygroups_db.py
    neutron/tests/unit/db/test_securitygroups_db.py

Closes-Bug: #1913297
Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa
(cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/774408/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py']",2,a502a375705a889c1480209b7539b0dbae50f602,bug/1913297-stable/rocky-stable/queens," is_ext_supported = mock.patch( 'neutron_lib.api.extensions.is_extension_supported') self.is_ext_supported = is_ext_supported.start() self.is_ext_supported.return_value = True def test__ensure_default_security_group_when_disabled(self): with mock.patch.object( self.mixin, '_get_default_sg_id') as get_default_sg_id,\ mock.patch.object( self.mixin, 'create_security_group') as create_sg: self.is_ext_supported.return_value = False self.mixin._ensure_default_security_group(self.ctx, 'tenant_1') create_sg.assert_not_called() get_default_sg_id.assert_not_called()",,19,1
openstack%2Fneutron~stable%2Frocky~Ib73babdd563e3e8c21ce6f63456cc87af414c5aa,openstack/neutron,stable/rocky,Ib73babdd563e3e8c21ce6f63456cc87af414c5aa,Don't try to create default SG when security groups are disabled,MERGED,2021-02-08 10:36:59.000000000,2021-06-07 15:29:24.000000000,2021-06-07 15:29:24.000000000,"[{'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-08 10:36:59.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b5914662efe2650263a5a583200c53868d0e2902', 'message': ""Don't try to create default SG when security groups are disabled\n\nIf security group API is disabled, there is no point to create default\nsecurity group for tenant when e.g. network is created.\n\nConflicts:\n    neutron/db/securitygroups_db.py\n    neutron/tests/unit/db/test_securitygroups_db.py\n\nCloses-Bug: #1913297\nChange-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa\n(cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae)\n""}]",0,774430,b5914662efe2650263a5a583200c53868d0e2902,9,4,1,11975,,,0,"Don't try to create default SG when security groups are disabled

If security group API is disabled, there is no point to create default
security group for tenant when e.g. network is created.

Conflicts:
    neutron/db/securitygroups_db.py
    neutron/tests/unit/db/test_securitygroups_db.py

Closes-Bug: #1913297
Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa
(cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/774430/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py']",2,b5914662efe2650263a5a583200c53868d0e2902,bug/1913297-stable/rocky," is_ext_supported = mock.patch( 'neutron_lib.api.extensions.is_extension_supported') self.is_ext_supported = is_ext_supported.start() self.is_ext_supported.return_value = True def test__ensure_default_security_group_when_disabled(self): with mock.patch.object( self.mixin, '_get_default_sg_id') as get_default_sg_id,\ mock.patch.object( self.mixin, 'create_security_group') as create_sg: self.is_ext_supported.return_value = False self.mixin._ensure_default_security_group(self.ctx, 'tenant_1') create_sg.assert_not_called() get_default_sg_id.assert_not_called()",,19,1
openstack%2Fmonasca-agent~master~I70984db7af7ce5f7028077db4debcd2cd9bd7c45,openstack/monasca-agent,master,I70984db7af7ce5f7028077db4debcd2cd9bd7c45,Fix Docker builds,MERGED,2021-05-20 15:12:26.000000000,2021-06-07 15:27:18.000000000,2021-06-07 15:27:18.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-05-20 15:12:26.000000000', 'files': ['docker/forwarder/build_image.sh', 'docker/build_image.sh', 'docker/statsd/build_image.sh', 'docker/collector/build_image.sh'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/7d21e505e8a8f750e88978c80f7ac47d73d7f2db', 'message': ""Fix Docker builds\n\nThe default nodeset was just changed to focal [1], which in the absence\nof the python-is-python3 package doesn't provide a python binary.\n\n[1] https://review.opendev.org/c/opendev/base-jobs/+/789098\n\nChange-Id: I70984db7af7ce5f7028077db4debcd2cd9bd7c45\n""}]",0,792398,7d21e505e8a8f750e88978c80f7ac47d73d7f2db,8,3,1,15197,,,0,"Fix Docker builds

The default nodeset was just changed to focal [1], which in the absence
of the python-is-python3 package doesn't provide a python binary.

[1] https://review.opendev.org/c/opendev/base-jobs/+/789098

Change-Id: I70984db7af7ce5f7028077db4debcd2cd9bd7c45
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/98/792398/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/forwarder/build_image.sh', 'docker/build_image.sh', 'docker/statsd/build_image.sh', 'docker/collector/build_image.sh']",4,7d21e505e8a8f750e88978c80f7ac47d73d7f2db,docker-build-fixes,"REAL_PATH=$(python3 -c ""import os,sys; print(os.path.realpath('$0'))"")","REAL_PATH=$(python -c ""import os,sys; print(os.path.realpath('$0'))"")",4,4
openstack%2Fpython-monascaclient~master~I70984db7af7ce5f7028077db4debcd2cd9bd7c45,openstack/python-monascaclient,master,I70984db7af7ce5f7028077db4debcd2cd9bd7c45,Fix Docker build,MERGED,2021-05-20 16:26:31.000000000,2021-06-07 15:26:46.000000000,2021-06-07 15:25:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-05-20 16:26:31.000000000', 'files': ['docker/build_image.sh'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/6d04502de7febdca9633834e46f4e5b9264a44a8', 'message': ""Fix Docker build\n\nThe default nodeset was just changed to focal [1], which in the absence\nof the python-is-python3 package doesn't provide a python binary.\n\n[1] https://review.opendev.org/c/opendev/base-jobs/+/789098\n\nChange-Id: I70984db7af7ce5f7028077db4debcd2cd9bd7c45\n""}]",0,792409,6d04502de7febdca9633834e46f4e5b9264a44a8,7,2,1,15197,,,0,"Fix Docker build

The default nodeset was just changed to focal [1], which in the absence
of the python-is-python3 package doesn't provide a python binary.

[1] https://review.opendev.org/c/opendev/base-jobs/+/789098

Change-Id: I70984db7af7ce5f7028077db4debcd2cd9bd7c45
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/09/792409/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/build_image.sh'],1,6d04502de7febdca9633834e46f4e5b9264a44a8,docker-build-fixes,"REAL_PATH=$(python3 -c ""import os,sys; print(os.path.realpath('$0'))"")","REAL_PATH=$(python -c ""import os,sys; print(os.path.realpath('$0'))"")",1,1
openstack%2Fdevstack~master~Iee5a262af757f27f79ba1d6f790e949427dca190,openstack/devstack,master,Iee5a262af757f27f79ba1d6f790e949427dca190,Check centos-8-stream,MERGED,2020-10-21 18:33:28.000000000,2021-06-07 15:25:53.000000000,2021-06-07 15:22:18.000000000,"[{'_account_id': 5689}, {'_account_id': 6413}, {'_account_id': 6469}, {'_account_id': 6796}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 27329}, {'_account_id': 29963}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-10-21 18:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/744838c10d36b9656c9fe298d7fc92c60f34fccb', 'message': '[DNM] Check centos-8-stream\n\nChange-Id: Iee5a262af757f27f79ba1d6f790e949427dca190\n'}, {'number': 2, 'created': '2020-12-08 14:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8d466214fe6945d989b739dddea3229f0bf0a5ed', 'message': 'Check centos-8-stream\n\nThe centos-8-stream images are available now.\nThe Manila team has asked QA to test centos-8-stream\nin the common gate.\nMore recently, it turned out the point releases of\nCentOS 8 will stop happening entirely by the end of\n2021. [1]\nHence, this patch proposes to test centos-8-stream\nalready, awaiting approval from the TC to fully\nreplace the old (point releases) variant.\n\nFor those less aware, CentOS 8 Stream is a more\nrolling-release model of CentOS rebuilding what\nRHEL is soon to be.\n\n[1] https://lists.centos.org/pipermail/centos-devel/2020-December/075451.html\n\nChange-Id: Iee5a262af757f27f79ba1d6f790e949427dca190\n'}, {'number': 3, 'created': '2020-12-08 14:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5a362d4a099c4ff858a4564301477d53dfcda0cc', 'message': 'Check centos-8-stream\n\nThe centos-8-stream images are available now.\nThe Manila team has asked QA to test centos-8-stream\nin the common gate.\nMore recently, it turned out the point releases of\nCentOS 8 will stop happening entirely by the end of\n2021. [1]\nHence, this patch proposes to test centos-8-stream\nalready, awaiting approval from the TC to fully\nreplace the old (point releases) variant.\n\nFor those less aware, CentOS 8 Stream is a more\nrolling-release model of CentOS rebuilding what\nRHEL is soon to be.\n\n[1] https://lists.centos.org/pipermail/centos-devel/2020-December/075451.html\n\nChange-Id: Iee5a262af757f27f79ba1d6f790e949427dca190\n'}, {'number': 4, 'created': '2020-12-10 08:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/55ad52570ab10893fe13ab305eb09760f12c0b92', 'message': 'Check centos-8-stream\n\nThe centos-8-stream images are available now.\nThe Manila team has asked QA to test centos-8-stream\nin the common gate.\nMore recently, it turned out the point releases of\nCentOS 8 will stop happening entirely by the end of\n2021. [1]\nHence, this patch proposes to test centos-8-stream\nalready, awaiting approval from the TC to fully\nreplace the old (point releases) variant.\n\nFor those less aware, CentOS 8 Stream is a more\nrolling-release model of CentOS rebuilding what\nRHEL is soon to be.\n\n[1] https://lists.centos.org/pipermail/centos-devel/2020-December/075451.html\n\nChange-Id: Iee5a262af757f27f79ba1d6f790e949427dca190\n'}, {'number': 5, 'created': '2020-12-15 19:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cc1dc4b3fe3d3ba5cdaa5ef075783f913a46724f', 'message': 'Check centos-8-stream\n\nThe centos-8-stream images are available now.\nThe Manila team has asked QA to test centos-8-stream\nin the common gate.\nMore recently, it turned out the point releases of\nCentOS 8 will stop happening entirely by the end of\n2021. [1]\nHence, this patch proposes to test centos-8-stream\nalready, awaiting approval from the TC to fully\nreplace the old (point releases) variant.\n\nFor those less aware, CentOS 8 Stream is a more\nrolling-release model of CentOS rebuilding what\nRHEL is soon to be.\n\n[1] https://lists.centos.org/pipermail/centos-devel/2020-December/075451.html\n\nChange-Id: Iee5a262af757f27f79ba1d6f790e949427dca190\n'}, {'number': 6, 'created': '2020-12-18 14:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0cefe141f404c2d7850ad4c1917b070e61612975', 'message': 'Check centos-8-stream\n\nThe centos-8-stream images are available now.\nThe Manila team has asked QA to test centos-8-stream\nin the common gate.\nMore recently, it turned out the point releases of\nCentOS 8 will stop happening entirely by the end of\n2021. [1]\nHence, this patch proposes to test centos-8-stream\nalready, awaiting approval from the TC to fully\nreplace the old (point releases) variant.\n\nFor those less aware, CentOS 8 Stream is a more\nrolling-release model of CentOS rebuilding what\nRHEL is soon to be.\n\n[1] https://lists.centos.org/pipermail/centos-devel/2020-December/075451.html\n\nChange-Id: Iee5a262af757f27f79ba1d6f790e949427dca190\n'}, {'number': 7, 'created': '2021-02-03 08:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5eca792151c196db4cd38e133bba6d8ec61b035d', 'message': 'Check centos-8-stream\n\nThe centos-8-stream images are available now.\nThe Manila team has asked QA to test centos-8-stream\nin the common gate.\nMore recently, it turned out the point releases of\nCentOS 8 will stop happening entirely by the end of\n2021. [1]\nHence, this patch proposes to test centos-8-stream\nalready, awaiting approval from the TC to fully\nreplace the old (point releases) variant.\n\nFor those less aware, CentOS 8 Stream is a more\nrolling-release model of CentOS rebuilding what\nRHEL is soon to be.\n\n[1] https://lists.centos.org/pipermail/centos-devel/2020-December/075451.html\n\nChange-Id: Iee5a262af757f27f79ba1d6f790e949427dca190\n'}, {'number': 8, 'created': '2021-06-04 19:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b24060b475e2b6ae56a190bf986a5b707129b647', 'message': 'Check centos-8-stream\n\nThe centos-8-stream images are available now.\nThe Manila team has asked QA to test centos-8-stream\nin the common gate.\nMore recently, it turned out the point releases of\nCentOS 8 will stop happening entirely by the end of\n2021. [1]\nHence, this patch proposes to test centos-8-stream\nalready, awaiting approval from the TC to fully\nreplace the old (point releases) variant.\n\nFor those less aware, CentOS 8 Stream is a more\nrolling-release model of CentOS rebuilding what\nRHEL is soon to be.\n\n[1] https://lists.centos.org/pipermail/centos-devel/2020-December/075451.html\n\nChange-Id: Iee5a262af757f27f79ba1d6f790e949427dca190\n'}, {'number': 9, 'created': '2021-06-04 19:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cacbafe7801e3c9442027fe7db020b77f58b935a', 'message': 'Check centos-8-stream\n\nCentOS Stream 8 (aka CentOS 8 Stream) is the currently\nsupported runtime platform. [0]\n\nSome background history:\nThe Manila team has asked QA to test centos-8-stream\nin the common gate.\nA bit later it turned out the point releases of CentOS 8 (aka\nCentOS Linux 8) will stop happening entirely by the end of 2021.\n[1]\n\n[0] https://governance.openstack.org/tc/reference/runtimes/xena.html\n[1] https://lists.centos.org/pipermail/centos-devel/2020-December/075451.html\n\nChange-Id: Iee5a262af757f27f79ba1d6f790e949427dca190\n'}, {'number': 10, 'created': '2021-06-07 06:55:10.000000000', 'files': ['lib/nova_plugins/functions-libvirt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/96509ea025459ac077d2c85289da7725c53235cf', 'message': 'Check centos-8-stream\n\nCentOS Stream 8 (aka CentOS 8 Stream) is the currently\nsupported runtime platform. [0]\n\nSome background history:\nThe Manila team has asked QA to test centos-8-stream\nin the common gate.\nA bit later it turned out the point releases of CentOS 8 (aka\nCentOS Linux 8) will stop happening entirely by the end of 2021.\n[1]\n\nIncludes a workaround to the edk2-ovmf issue on CentOS Stream 8\nx86_64.\n\n[0] https://governance.openstack.org/tc/reference/runtimes/xena.html\n[1] https://lists.centos.org/pipermail/centos-devel/2020-December/075451.html\n\nChange-Id: Iee5a262af757f27f79ba1d6f790e949427dca190\n'}]",2,759122,96509ea025459ac077d2c85289da7725c53235cf,65,14,10,30491,,,0,"Check centos-8-stream

CentOS Stream 8 (aka CentOS 8 Stream) is the currently
supported runtime platform. [0]

Some background history:
The Manila team has asked QA to test centos-8-stream
in the common gate.
A bit later it turned out the point releases of CentOS 8 (aka
CentOS Linux 8) will stop happening entirely by the end of 2021.
[1]

Includes a workaround to the edk2-ovmf issue on CentOS Stream 8
x86_64.

[0] https://governance.openstack.org/tc/reference/runtimes/xena.html
[1] https://lists.centos.org/pipermail/centos-devel/2020-December/075451.html

Change-Id: Iee5a262af757f27f79ba1d6f790e949427dca190
",git fetch https://review.opendev.org/openstack/devstack refs/changes/22/759122/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,744838c10d36b9656c9fe298d7fc92c60f34fccb,centos-8-stream, name: devstack-single-node-centos-8-stream nodes: - name: controller label: centos-8-stream groups: - name: tempest nodes: - controller - nodeset: name: devstack-platform-centos-8-stream parent: tempest-full-py3 description: Centos 8 platform test nodeset: devstack-single-node-centos-8-stream voting: false timeout: 9000 - job: - devstack-platform-centos-8-stream,,19,0
openstack%2Fkolla~master~I3c6fdcb9b7dd7443a7755599f7e4ee59f67e0a91,openstack/kolla,master,I3c6fdcb9b7dd7443a7755599f7e4ee59f67e0a91,Add missing default policy files for ubuntu-binary-horizon,MERGED,2021-06-03 13:38:37.000000000,2021-06-07 15:20:34.000000000,2021-06-07 12:29:02.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-03 13:38:37.000000000', 'files': ['docker/horizon/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/740448a658f0060b86d56e78915d8b751ade3616', 'message': 'Add missing default policy files for ubuntu-binary-horizon\n\nThe ubuntu-binary-horizon image is missing the default policies files\nwhich should be in /etc/openstack-dashboard/default_policies. By copying\neverything from /usr/share/openstack-dashboard/openstack_dashboard/conf\ninto /etc/openstack-dashboard, we get the default policy files, as well\nas commented out policy files (e.g. cinder_policy.yaml) and the\nnova_policy.d directory containing api-extensions.yaml.\n\nChange-Id: I3c6fdcb9b7dd7443a7755599f7e4ee59f67e0a91\nCloses-Bug: #1930586\n'}]",0,794589,740448a658f0060b86d56e78915d8b751ade3616,14,4,1,15197,,,0,"Add missing default policy files for ubuntu-binary-horizon

The ubuntu-binary-horizon image is missing the default policies files
which should be in /etc/openstack-dashboard/default_policies. By copying
everything from /usr/share/openstack-dashboard/openstack_dashboard/conf
into /etc/openstack-dashboard, we get the default policy files, as well
as commented out policy files (e.g. cinder_policy.yaml) and the
nova_policy.d directory containing api-extensions.yaml.

Change-Id: I3c6fdcb9b7dd7443a7755599f7e4ee59f67e0a91
Closes-Bug: #1930586
",git fetch https://review.opendev.org/openstack/kolla refs/changes/89/794589/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/Dockerfile.j2'],1,740448a658f0060b86d56e78915d8b751ade3616,bug/1930586, && cp -r /usr/share/openstack-dashboard/openstack_dashboard/conf/* /etc/openstack-dashboard \, && cp /usr/share/openstack-dashboard/openstack_dashboard/conf/*.json /etc/openstack-dashboard \,1,1
openstack%2Fmonasca-persister~master~I2b208db2b7b34da034071a4fc0c5d49768b6dad3,openstack/monasca-persister,master,I2b208db2b7b34da034071a4fc0c5d49768b6dad3,Fix Docker build,MERGED,2021-05-20 16:28:53.000000000,2021-06-07 15:02:14.000000000,2021-06-07 15:02:14.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-05-20 16:28:53.000000000', 'files': ['docker/build_image.sh'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/31152e169dad086c8b5be19473c142f90baa2961', 'message': ""Fix Docker build\n\nThe default nodeset was just changed to focal [1], which in the absence\nof the python-is-python3 package doesn't provide a python binary.\n\n[1] https://review.opendev.org/c/opendev/base-jobs/+/789098\n\nChange-Id: I2b208db2b7b34da034071a4fc0c5d49768b6dad3\n""}]",0,792411,31152e169dad086c8b5be19473c142f90baa2961,8,2,1,15197,,,0,"Fix Docker build

The default nodeset was just changed to focal [1], which in the absence
of the python-is-python3 package doesn't provide a python binary.

[1] https://review.opendev.org/c/opendev/base-jobs/+/789098

Change-Id: I2b208db2b7b34da034071a4fc0c5d49768b6dad3
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/11/792411/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/build_image.sh'],1,31152e169dad086c8b5be19473c142f90baa2961,docker-build-fixes,"REAL_PATH=$(python3 -c ""import os,sys; print(os.path.realpath('$0'))"")","REAL_PATH=$(python -c ""import os,sys; print(os.path.realpath('$0'))"")",1,1
openstack%2Fpuppet-openstack-integration~master~I9621db45b19487c8639f6cbfb404e427a85fcafc,openstack/puppet-openstack-integration,master,I9621db45b19487c8639f6cbfb404e427a85fcafc,Explain usage of fixtures/manifests directory,MERGED,2021-06-06 13:03:36.000000000,2021-06-07 15:01:23.000000000,2021-06-07 15:01:23.000000000,"[{'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-06 13:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fc9314cc1ab755ccaabbde3819e28b5224b53b27', 'message': 'Exlain usage of fixtures/manifests directory\n\nChange-Id: I9621db45b19487c8639f6cbfb404e427a85fcafc\n'}, {'number': 2, 'created': '2021-06-06 13:09:56.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/96f828c735b84053bd70be3c51808f7bbaec910b', 'message': 'Explain usage of fixtures/manifests directory\n\nChange-Id: I9621db45b19487c8639f6cbfb404e427a85fcafc\n'}]",0,794990,96f828c735b84053bd70be3c51808f7bbaec910b,10,3,2,9816,,,0,"Explain usage of fixtures/manifests directory

Change-Id: I9621db45b19487c8639f6cbfb404e427a85fcafc
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/90/794990/2 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,fc9314cc1ab755ccaabbde3819e28b5224b53b27,dir-desc,"The manifest files under the fixtures directory is used to compose the required services for each senario. The manifest files under the manifests directory is used to set up basic set of a single component (like nova, cinder and so on). ",,4,0
openstack%2Fpuppet-placement~master~Ib369975e3c852919765deebd09a5fa74dd78808a,openstack/puppet-placement,master,Ib369975e3c852919765deebd09a5fa74dd78808a,Get rid of the $pyvers variable,MERGED,2021-05-21 10:25:38.000000000,2021-06-07 14:41:06.000000000,2021-06-07 14:41:06.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-21 10:25:38.000000000', 'files': ['spec/classes/placement_client_spec.rb', 'spec/classes/placement_init_spec.rb', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/517c3d6fe7e68ebcaf3869b76aef8f0a021d5c03', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: Ib369975e3c852919765deebd09a5fa74dd78808a\n""}]",0,792573,517c3d6fe7e68ebcaf3869b76aef8f0a021d5c03,7,3,1,6476,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: Ib369975e3c852919765deebd09a5fa74dd78808a
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/73/792573/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/placement_client_spec.rb', 'spec/classes/placement_init_spec.rb', 'manifests/params.pp']",3,517c3d6fe7e68ebcaf3869b76aef8f0a021d5c03,, $python_package_name = 'python3-placement' $osc_package_name = 'python3-osc-placement' $python_package_name = 'python3-placement' $osc_package_name = 'python3-osc-placement'," $pyvers = $::openstacklib::defaults::pyvers $pyvers_real = $pyvers ? { '' => '2', default => $pyvers } $python_package_name = ""python${pyvers_real}-placement"" $osc_package_name = ""python${pyvers_real}-osc-placement"" $python_package_name = ""python${pyvers_real}-placement"" $osc_package_name = ""python${pyvers_real}-osc-placement""",9,37
openstack%2Fos-brick~master~I9162520c0d6c211cf89dcdcab5653d7230deb77a,openstack/os-brick,master,I9162520c0d6c211cf89dcdcab5653d7230deb77a,Fixed multipath residue when evacuating the VM,NEW,2020-12-17 08:58:18.000000000,2021-06-07 14:38:53.000000000,,"[{'_account_id': 9535}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-17 08:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d8e4472ff4ec77a425f04ec702361815a8a03406', 'message': 'Fixed multipath residue when evacuating the VM\n\nEvacuation results in multipath residue when the back-end storage uses FC and NOVA to configure multipath, this is part of patch and the other part is in Nova its function is to remove local multipath residues\n\nCloses-Bug: #1906768\nChange-Id: I9162520c0d6c211cf89dcdcab5653d7230deb77a\n'}, {'number': 2, 'created': '2020-12-18 03:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a7d65257732b82e85bbd29d72b343ca69face0b3', 'message': 'Fixed multipath residue when evacuating the VM\n\nEvacuation results in multipath residue when the back-end storage uses FC and NOVA to configure multipath, this is part of patch and the other part is in Nova its function is to remove local multipath residues\n\nCloses-Bug: #1906768\nChange-Id: I9162520c0d6c211cf89dcdcab5653d7230deb77a\n'}, {'number': 3, 'created': '2020-12-18 08:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b0bae30d2a6042e1570e9c5b07275cc8049e1270', 'message': 'Fixed multipath residue when evacuating the VM\n\nEvacuation results in multipath residue when the back-end storage uses FC and NOVA to configure multipath, this is part of patch and the other part is in Nova its function is to remove local multipath residues\n\nCloses-Bug: #1906768\nChange-Id: I9162520c0d6c211cf89dcdcab5653d7230deb77a\n'}, {'number': 4, 'created': '2021-01-04 07:11:08.000000000', 'files': ['os_brick/initiator/connectors/fibre_channel.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b020b02d214104042d34c12854b3414cb3dd127e', 'message': 'Fixed multipath residue when evacuating the VM\n\nEvacuation results in multipath residue when the back-end storage uses FC and NOVA to configure multipath, this is part of patch and the other part is in Nova its function is to remove local multipath residues\n\nCloses-Bug: #1906768\nChange-Id: I9162520c0d6c211cf89dcdcab5653d7230deb77a\n'}]",4,767500,b020b02d214104042d34c12854b3414cb3dd127e,37,3,4,20252,,,0,"Fixed multipath residue when evacuating the VM

Evacuation results in multipath residue when the back-end storage uses FC and NOVA to configure multipath, this is part of patch and the other part is in Nova its function is to remove local multipath residues

Closes-Bug: #1906768
Change-Id: I9162520c0d6c211cf89dcdcab5653d7230deb77a
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/00/767500/4 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/fibre_channel.py'],1,d8e4472ff4ec77a425f04ec702361815a8a03406,bug/1906768," # delete loacal residual path if (connection_properties.get(""destroy_residual_path"", """"): residual_path = None wwn = connection_properties.get(""multipath_id"", """") wwn_path = ""/dev/disk/by-id/scsi-"" + str(wwn) while True: if os.path.exists(wwn_path) and os.path.islink(wwn_path): real_path = os.path.realpath(wwn_path) if (real_path.startswith('/dev/') and os.path.exists(real_path)): # exec 'echo 1 > /sys/block/%s/device/delete %device' self._linuxscsi.remove_scsi_device(real_path) else: break if wwn: residual_path = self._linuxscsi.find_multipath_device_path(wwn) if residual_path: # exec 'multitpah -f multipath_id' self._linuxscsi.flush_multipath_device(residual_path) ",,20,0
openstack%2Fpython-monascaclient~master~Ib6dd741dabdd118741d5726b6a1f6f00b3a909b3,openstack/python-monascaclient,master,Ib6dd741dabdd118741d5726b6a1f6f00b3a909b3,Fix Docker build,ABANDONED,2021-05-20 16:28:38.000000000,2021-06-07 14:19:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-20 16:28:38.000000000', 'files': ['docker/build_image.sh'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/7bd9c520441eb17d9dd8199f7f44dc85962a8ee1', 'message': ""Fix Docker build\n\nThe default nodeset was just changed to focal [1], which in the absence\nof the python-is-python3 package doesn't provide a python binary.\n\n[1] https://review.opendev.org/c/opendev/base-jobs/+/789098\n\nChange-Id: Ib6dd741dabdd118741d5726b6a1f6f00b3a909b3\n""}]",0,792410,7bd9c520441eb17d9dd8199f7f44dc85962a8ee1,3,1,1,15197,,,0,"Fix Docker build

The default nodeset was just changed to focal [1], which in the absence
of the python-is-python3 package doesn't provide a python binary.

[1] https://review.opendev.org/c/opendev/base-jobs/+/789098

Change-Id: Ib6dd741dabdd118741d5726b6a1f6f00b3a909b3
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/10/792410/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/build_image.sh'],1,7bd9c520441eb17d9dd8199f7f44dc85962a8ee1,docker-build-fixes,"REAL_PATH=$(python3 -c ""import os,sys; print(os.path.realpath('$0'))"")","REAL_PATH=$(python -c ""import os,sys; print(os.path.realpath('$0'))"")",1,1
openstack%2Ftripleo-common~stable%2Ftrain~I428723525a334f7bf2235d8e6ae62da6d5d00bb7,openstack/tripleo-common,stable/train,I428723525a334f7bf2235d8e6ae62da6d5d00bb7,Fix site-packages in horizon's extend_start.sh,MERGED,2021-05-26 17:50:31.000000000,2021-06-07 14:19:19.000000000,2021-06-02 20:17:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-26 17:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fb7b0b5fc1b0f8d8b6f81394bd78af9820afeb5c', 'message': ""Fix site-packages in horizon's extend_start.sh\n\nWe were relying on an unset variable from kolla:\nKOLLA_DISTRO_PYTHON_VERSION to figure out the\nlocation of site-packages to bootstrap horizon\nand load its various plugins. Since we only support\npython3, we can drop the need for a config variable,\nand rely on facts from the system to find our way.\n\nChange-Id: I428723525a334f7bf2235d8e6ae62da6d5d00bb7\nCloses-Bug: BZ#1928291\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 2, 'created': '2021-05-26 18:00:35.000000000', 'files': ['container-images/kolla/horizon/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a9863faf4ae6071ce823ebb407e88af2b2aa4913', 'message': ""Fix site-packages in horizon's extend_start.sh\n\nWe were relying on an unset variable from kolla:\nKOLLA_DISTRO_PYTHON_VERSION to figure out the\nlocation of site-packages to bootstrap horizon\nand load its various plugins. Since we only support\npython3, we can drop the need for a config variable,\nand rely on facts from the system to find our way.\n\nChange-Id: I428723525a334f7bf2235d8e6ae62da6d5d00bb7\nCloses-Bug: BZ#1928291\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 6c8fbd330b5e8680fede0d63f4ef77bff5a15883)\n(cherry picked from commit b81b1ea1466176e38c9e2582aa3e4acaeeb874d4)\n(cherry picked from commit 14b7d3e78af1fa5e35c2a2bdf1af5ee0055a089e)\n(cherry picked from commit 9e22f65ea26adbe4286f949335e2d9bead8452c3)\n""}]",0,793185,a9863faf4ae6071ce823ebb407e88af2b2aa4913,27,4,2,6413,,,0,"Fix site-packages in horizon's extend_start.sh

We were relying on an unset variable from kolla:
KOLLA_DISTRO_PYTHON_VERSION to figure out the
location of site-packages to bootstrap horizon
and load its various plugins. Since we only support
python3, we can drop the need for a config variable,
and rely on facts from the system to find our way.

Change-Id: I428723525a334f7bf2235d8e6ae62da6d5d00bb7
Closes-Bug: BZ#1928291
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 6c8fbd330b5e8680fede0d63f4ef77bff5a15883)
(cherry picked from commit b81b1ea1466176e38c9e2582aa3e4acaeeb874d4)
(cherry picked from commit 14b7d3e78af1fa5e35c2a2bdf1af5ee0055a089e)
(cherry picked from commit 9e22f65ea26adbe4286f949335e2d9bead8452c3)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/85/793185/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/kolla/horizon/extend_start.sh'],1,fb7b0b5fc1b0f8d8b6f81394bd78af9820afeb5c,bz/1928291,"PYTHON_VERSION=$(python3 --version | awk '{print $2}' | awk -F'.' '{print $1"".""$2}') SITE_PACKAGES=""/usr/lib/python${PYTHON_VERSION}/site-packages""","SITE_PACKAGES=""/usr/lib/python${KOLLA_DISTRO_PYTHON_VERSION:-3}/site-packages""",2,1
openstack%2Fneutron~master~Icf74685cbe2cb3ccaea05bc31cacf37c98d5fc04,openstack/neutron,master,Icf74685cbe2cb3ccaea05bc31cacf37c98d5fc04,Improve AddressScope.get_bound_tenant_ids method,MERGED,2021-04-12 17:50:41.000000000,2021-06-07 14:16:50.000000000,2021-06-07 14:13:42.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 17:50:41.000000000', 'files': ['neutron/objects/address_scope.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/960f3694f4c32e732e46d677973f396531f1e015', 'message': 'Improve AddressScope.get_bound_tenant_ids method\n\nRetrieve only ""project_id"" from ""AddressScope"" objects.\n\nTrivial-Fix\n\nChange-Id: Icf74685cbe2cb3ccaea05bc31cacf37c98d5fc04\n'}]",3,785950,960f3694f4c32e732e46d677973f396531f1e015,25,5,1,16688,,,0,"Improve AddressScope.get_bound_tenant_ids method

Retrieve only ""project_id"" from ""AddressScope"" objects.

Trivial-Fix

Change-Id: Icf74685cbe2cb3ccaea05bc31cacf37c98d5fc04
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/785950/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/objects/address_scope.py'],1,960f3694f4c32e732e46d677973f396531f1e015,trivial-fix," context, address_scope_id=obj_id, fields=['project_id']) return {snp['project_id'] for snp in snp_objs}"," context, address_scope_id=obj_id ) return {snp.project_id for snp in snp_objs}",2,3
openstack%2Ftripleo-quickstart~master~I0f358192f31e193c066719315d9822089f80fcf2,openstack/tripleo-quickstart,master,I0f358192f31e193c066719315d9822089f80fcf2,Disable delorean repo in component jobs,MERGED,2021-05-24 14:33:53.000000000,2021-06-07 14:16:03.000000000,2021-06-05 14:24:32.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-05-24 14:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7549490c152fdf145c736df2a1c94471fb2d39ea', 'message': 'Disable delorean repo in component jobs\n\nIn component jobs, there is an updated component\nrepo from component-ci-testing.\nA component-delorean repo is added with all\nother components from current-tripleo.\n\nDNF can revert to install the wrong version\nof an rpm if there is an access it.\n\nWe should disable the older repo to avoid this.\n\nChange-Id: I0f358192f31e193c066719315d9822089f80fcf2\n'}, {'number': 2, 'created': '2021-05-26 12:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a3aa5a442e07619e8ce6520e56f1bdab9288504d', 'message': 'DNM: Disable delorean repo in component jobs\n\nIn component jobs, there is an updated component\nrepo from component-ci-testing.\nA component-delorean repo is added with all\nother components from current-tripleo.\n\nDNF can revert to install the wrong version\nof an rpm if there is an access it.\n\nWe should disable the older repo to avoid this.\n\nChange-Id: I0f358192f31e193c066719315d9822089f80fcf2\n'}, {'number': 3, 'created': '2021-06-01 12:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a3e3ff336c0b122217b2fb57ab8fb7400c59e00c', 'message': 'Disable delorean repo in component jobs\n\nIn component jobs, there is an updated component\nrepo from component-ci-testing.\nA component-delorean repo is added with all\nother components from current-tripleo.\n\nDNF can revert to install the wrong version\nof an rpm if there is an access it.\n\nWe should disable the older repo to avoid this.\n\nChange-Id: I0f358192f31e193c066719315d9822089f80fcf2\n'}, {'number': 4, 'created': '2021-06-02 12:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/31a29f3cdc052e47ae593170de31654deaa1dac7', 'message': 'Disable delorean repo in component jobs\n\nIn component jobs, there is an updated component\nrepo from component-ci-testing.\nA component-delorean repo is added with all\nother components from current-tripleo.\n\nDNF can revert to install the wrong version\nof an rpm if there is an access it.\n\nWe should disable the older repo to avoid this.\n\nChange-Id: I0f358192f31e193c066719315d9822089f80fcf2\n'}, {'number': 5, 'created': '2021-06-03 12:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/08c02704237670c7e6e04eeeb222ffd8debe9570', 'message': 'Disable delorean repo in component jobs\n\nIn component jobs, there is an updated component\nrepo from component-ci-testing.\nA component-delorean repo is added with all\nother components from current-tripleo.\n\nDNF can revert to install the wrong version\nof an rpm if there is an access it.\n\nWe should disable the older repo to avoid this.\n\nChange-Id: I0f358192f31e193c066719315d9822089f80fcf2\n'}, {'number': 6, 'created': '2021-06-03 20:08:21.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/231a50748adbd0c968d0d822ffa2eca0abb900db', 'message': 'Disable delorean repo in component jobs\n\nIn component jobs, there is an updated component\nrepo from component-ci-testing.\nA component-delorean repo is added with all\nother components from current-tripleo.\n\nDNF can revert to install the wrong version\nof an rpm if there is an access it.\n\nWe should disable the older repo to avoid this.\n\nChange-Id: I0f358192f31e193c066719315d9822089f80fcf2\n'}]",1,792818,231a50748adbd0c968d0d822ffa2eca0abb900db,47,8,6,9976,,,0,"Disable delorean repo in component jobs

In component jobs, there is an updated component
repo from component-ci-testing.
A component-delorean repo is added with all
other components from current-tripleo.

DNF can revert to install the wrong version
of an rpm if there is an access it.

We should disable the older repo to avoid this.

Change-Id: I0f358192f31e193c066719315d9822089f80fcf2
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/18/792818/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml']",4,7549490c152fdf145c736df2a1c94471fb2d39ea,component-delorean, # Disable delorean repo if a similar component repo exists {% if job.component is defined %} dnf config-manager --disable delorean-component-{{ job.component }}; {% endif %},,16,0
openstack%2Fbifrost~stable%2Fvictoria~I5be8b355b92f0d9d907c743b522982f6de0398c1,openstack/bifrost,stable/victoria,I5be8b355b92f0d9d907c743b522982f6de0398c1,Install DIB dependencies in bifrost-ironic-install role,MERGED,2021-06-02 10:31:10.000000000,2021-06-07 14:07:56.000000000,2021-06-07 14:06:02.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-02 10:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1464781381992bdb73bcd5db2ecbef333eb598fd', 'message': 'Install DIB dependencies in bifrost-ironic-install role\n\nThis provides a cleaner separation between installation and image\ncreation.\n\nThis allows Kolla to install all package dependencies at container image\nbuild time rather than when using the container image to build disk\nimages.\n\nStory: 2008839\nTask: 42346\n\nChange-Id: I5be8b355b92f0d9d907c743b522982f6de0398c1\n(cherry picked from commit c72dd2fd7b62d6a3422504e1decfcc024a67e8bb)\n'}, {'number': 2, 'created': '2021-06-02 10:32:27.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/vars/main.yml', 'playbooks/inventory/group_vars/localhost', 'playbooks/inventory/group_vars/target', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'releasenotes/notes/move-dib-deps-install-8a8aafc060461dc0.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7912fc5aa151ae25a52bf48b6602320064eabf26', 'message': 'Install DIB dependencies in bifrost-ironic-install role\n\nThis provides a cleaner separation between installation and image\ncreation.\n\nThis allows Kolla to install all package dependencies at container image\nbuild time rather than when using the container image to build disk\nimages.\n\nStory: 2008839\nTask: 42346\n\nChange-Id: I5be8b355b92f0d9d907c743b522982f6de0398c1\n(cherry picked from commit c72dd2fd7b62d6a3422504e1decfcc024a67e8bb)\n'}]",0,794177,7912fc5aa151ae25a52bf48b6602320064eabf26,11,3,2,14826,,,0,"Install DIB dependencies in bifrost-ironic-install role

This provides a cleaner separation between installation and image
creation.

This allows Kolla to install all package dependencies at container image
build time rather than when using the container image to build disk
images.

Story: 2008839
Task: 42346

Change-Id: I5be8b355b92f0d9d907c743b522982f6de0398c1
(cherry picked from commit c72dd2fd7b62d6a3422504e1decfcc024a67e8bb)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/77/794177/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/vars/main.yml', 'playbooks/inventory/group_vars/localhost', 'playbooks/inventory/group_vars/target', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'releasenotes/notes/move-dib-deps-install-8a8aafc060461dc0.yaml']",7,1464781381992bdb73bcd5db2ecbef333eb598fd,,--- upgrade: - | Moves installation of package dependencies for Diskimage Builder (DIB) from the ``bifrost-create-dib-image`` role to the ``bifrost-install-ironic`` role. This provides a cleaner separation between installation and image creation. ,,27,8
openstack%2Fos-brick~master~I3e8188e596ca8711d231f9f44b0de3ec00a30e36,openstack/os-brick,master,I3e8188e596ca8711d231f9f44b0de3ec00a30e36,Failed to discover the volumes on ppc64le - Part 2,NEW,2020-12-11 11:30:16.000000000,2021-06-07 13:59:21.000000000,,"[{'_account_id': 9535}, {'_account_id': 13002}, {'_account_id': 14806}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-11 11:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/364cf308e0517647868a65eee63ef94eed5902c2', 'message': 'Failed to discover the volumes on ppc64le - Part 2\n\nCode refactoring for Volume discovery on ppcle systems.\n\nIn continuation with review\nhttps://review.opendev.org/c/openstack/os-brick/+/737446\n\nCloses-Bug: #1884707\nChange-Id: I3e8188e596ca8711d231f9f44b0de3ec00a30e36\n'}, {'number': 2, 'created': '2020-12-11 11:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0ff9a1c32773bc7d498fb4b7cf9d3619edbcc065', 'message': 'Failed to discover the volumes on ppc64le - Part 2\n\nCode refactoring for Volume discovery on ppcle systems.\n\nIn continuation with review\nhttps://review.opendev.org/c/openstack/os-brick/+/737446\n\nCloses-Bug: #1884707\nChange-Id: I3e8188e596ca8711d231f9f44b0de3ec00a30e36\n'}, {'number': 3, 'created': '2020-12-12 09:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7b037dc5c8d797736e81013879505bf844d009c0', 'message': 'Failed to discover the volumes on ppc64le - Part 2\n\nCode refactoring for Volume discovery on ppcle systems.\n\nIn continuation with review\nhttps://review.opendev.org/c/openstack/os-brick/+/737446\n\nCloses-Bug: #1884707\nChange-Id: I3e8188e596ca8711d231f9f44b0de3ec00a30e36\n'}, {'number': 4, 'created': '2020-12-12 11:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/3f986bbbd02ecad8ae7ce2f1b8c060d65ac7c018', 'message': 'Failed to discover the volumes on ppc64le - Part 2\n\nCode refactoring for Volume discovery on ppcle systems.\n\nIn continuation with review\nhttps://review.opendev.org/c/openstack/os-brick/+/737446\n\nCloses-Bug: #1884707\nChange-Id: I3e8188e596ca8711d231f9f44b0de3ec00a30e36\n'}, {'number': 5, 'created': '2020-12-12 13:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/fcee2dc5b6a4863a9cd6c28d78298bde947ba62d', 'message': 'Failed to discover the volumes on ppc64le - Part 2\n\nCode refactoring for Volume discovery on ppcle systems.\n\nIn continuation with review\nhttps://review.opendev.org/c/openstack/os-brick/+/737446\n\nCloses-Bug: #1884707\nChange-Id: I3e8188e596ca8711d231f9f44b0de3ec00a30e36\n'}, {'number': 6, 'created': '2020-12-12 16:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/cafb8d962945b7d1a6467d85d8c42fafe29cbfa8', 'message': 'Failed to discover the volumes on ppc64le - Part 2\n\nCode refactoring for Volume discovery on ppcle systems.\n\nIn continuation with review\nhttps://review.opendev.org/c/openstack/os-brick/+/737446\n\nCloses-Bug: #1884707\nChange-Id: I3e8188e596ca8711d231f9f44b0de3ec00a30e36\n'}, {'number': 7, 'created': '2020-12-12 17:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/8225c0811e96a5745ee52096889e70a5e5beaef9', 'message': 'Failed to discover the volumes on ppc64le - Part 2\n\nCode refactoring for Volume discovery on ppcle systems.\n\nIn continuation with review\nhttps://review.opendev.org/c/openstack/os-brick/+/737446\n\nCloses-Bug: #1884707\nChange-Id: I3e8188e596ca8711d231f9f44b0de3ec00a30e36\n'}, {'number': 8, 'created': '2020-12-12 17:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0659bc79a546ff829dc2380125cfba13cd2ef6d6', 'message': 'Failed to discover the volumes on ppc64le - Part 2\n\nCode refactoring for Volume discovery on ppcle systems.\n\nIn continuation with review\nhttps://review.opendev.org/c/openstack/os-brick/+/737446\n\nCloses-Bug: #1884707\nChange-Id: I3e8188e596ca8711d231f9f44b0de3ec00a30e36\n'}, {'number': 9, 'created': '2020-12-15 08:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4cec58e01ab58a130b6a9e176c0d97f076c0066d', 'message': 'Failed to discover the volumes on ppc64le - Part 2\n\nCode refactoring for Volume discovery on ppcle systems.\n\nIn continuation with review\nhttps://review.opendev.org/c/openstack/os-brick/+/737446\n\nCloses-Bug: #1884707\nChange-Id: I3e8188e596ca8711d231f9f44b0de3ec00a30e36\n'}, {'number': 10, 'created': '2020-12-17 08:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c65e70e424f533e3e1d28f3fd76c890d498f8b5b', 'message': 'Failed to discover the volumes on ppc64le - Part 2\n\nCode refactoring for Volume discovery on ppcle systems.\n\nIn continuation with review\nhttps://review.opendev.org/c/openstack/os-brick/+/737446\n\nCloses-Bug: #1884707\nChange-Id: I3e8188e596ca8711d231f9f44b0de3ec00a30e36\n'}, {'number': 11, 'created': '2021-01-06 08:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e61d705713f19fc278ceac51d49538578c55d469', 'message': 'Failed to discover the volumes on ppc64le - Part 2\n\nCode refactoring for Volume discovery on ppcle systems.\n\nIn continuation with review\nhttps://review.opendev.org/c/openstack/os-brick/+/737446\n\nCloses-Bug: #1884707\nChange-Id: I3e8188e596ca8711d231f9f44b0de3ec00a30e36\n'}, {'number': 12, 'created': '2021-01-13 10:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/55a512fbeef333baf93750e1eb6a220bb6d3f0ec', 'message': 'Failed to discover the volumes on ppc64le - Part 2\n\nCode refactoring for Volume discovery on ppcle systems.\n\nIn continuation with review\nhttps://review.opendev.org/c/openstack/os-brick/+/737446\n\nCloses-Bug: #1884707\nChange-Id: I3e8188e596ca8711d231f9f44b0de3ec00a30e36\n'}, {'number': 13, 'created': '2021-01-25 08:06:05.000000000', 'files': ['releasenotes/notes/bug_1884707_failure_to_discover_ppcle_volumes_2.yaml', 'os_brick/tests/initiator/connectors/test_fibre_channel_ppc64.py', 'os_brick/initiator/connectors/fibre_channel_ppc64.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ad9030f4a204748b048262196f643d07321375df', 'message': 'Failed to discover the volumes on ppc64le - Part 2\n\nCode refactoring for Volume discovery on ppcle systems.\n\nIn continuation with review\nhttps://review.opendev.org/c/openstack/os-brick/+/737446\n\nCloses-Bug: #1884707\nChange-Id: I3e8188e596ca8711d231f9f44b0de3ec00a30e36\n'}]",12,766717,ad9030f4a204748b048262196f643d07321375df,75,4,13,32345,,,0,"Failed to discover the volumes on ppc64le - Part 2

Code refactoring for Volume discovery on ppcle systems.

In continuation with review
https://review.opendev.org/c/openstack/os-brick/+/737446

Closes-Bug: #1884707
Change-Id: I3e8188e596ca8711d231f9f44b0de3ec00a30e36
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/17/766717/13 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/fibre_channel_ppc64.py'],1,364cf308e0517647868a65eee63ef94eed5902c2,bug/1884707,"import os def _get_possible_paths_by_wwn(self, connection_properties): # New full method with logic to look up devices by wwn ID, rather than # ITL/symlinks. Method requires that 'device_info' be set in # connection_properties, and that 'scsi_wwn' be present in device_info. from oslo_concurrency import processutils as putils v_wwn = connection_properties['device_info']['scsi_wwn'] if not v_wwn: return [] LOG.info(""Find paths by page83 (volume wwn) ID: %s"" % v_wwn) dev_paths = list() for devname in [d for d in os.listdir('/sys/block') if d.startswith('sd')]: realdev = '/dev/' + devname try: # make sure this command can time out. (out, _err) = self._linuxscsi._execute( '/usr/lib/udev/scsi_id', '--page=0x83', '--whitelisted', '--device=%s' % realdev, run_as_root=True, attempts=2, timeout=100, interval=10, root_helper=self._linuxscsi._root_helper) # 1.4.0.1-iFix: case-insensitive compare if v_wwn.lower() in out.strip().lower(): dev_paths.append(realdev) except putils.ProcessExecutionError as exc: LOG.info(""Could not retrieve scsi ID for device %(dev)s. "" ""Exit code %(code)s"", {'dev': realdev, 'code': exc.exit_code}) if dev_paths: LOG.debug(""Found %d devices based on wwn: %s"" % (len(dev_paths), dev_paths)) else: LOG.info(""Could not find devices based on wwn. Fallback."") return dev_paths def _get_possible_volume_paths(self, connection_properties, hbas): # IBM-only start # If 'device_info' is present, then we can employ a flow that # looks up and disconnects disks by wwn instead of symlinks in which # there may not be enough symlink paths to disconnect all device # paths. if ('device_info' in connection_properties and 'scsi_wwn' in connection_properties['device_info'] and connection_properties['device_info'].get('type') == 'block'): host_paths = self._get_possible_paths_by_wwn(connection_properties) if host_paths: return host_paths # IBM-only end # Otherwise fall back to looking for by-path symlinks. ports = connection_properties.get('targets') it_map = connection_properties['initiator_target_map'] # recreate the it_map with case insensitive wwns c_map = dict() for key in it_map.keys(): c_map[key.lower()] = it_map[key] LOG.debug(""Updated it_map with lower case c_map=%s"", c_map) for hba in hbas: if hba['node_name'].lower() in c_map.keys(): hba['target_wwn'] = c_map.get(hba['node_name'].lower()) possible_devs = self._get_possible_devices(hbas, ports) host_paths = self._get_host_devices(possible_devs) LOG.info(""host_paths = %s"" % host_paths) return host_paths ",,67,0
openstack%2Fvalidations-libs~master~I56044c93b03531159953c323f8e530d833819a5f,openstack/validations-libs,master,I56044c93b03531159953c323f8e530d833819a5f,Expansion of logging for the list action,MERGED,2021-05-12 08:04:09.000000000,2021-06-07 13:48:42.000000000,2021-06-07 13:44:57.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-12 08:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/092abdfd831280442278d547da1c2f41e401249c', 'message': 'Expansion of logging for the list action\n\nTwo new logging calls for the list action on the\ninfo and debbug level.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I56044c93b03531159953c323f8e530d833819a5f\n'}, {'number': 2, 'created': '2021-05-12 08:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/119ed5f1412dfc292c8bfe658facd4b30053daa6', 'message': 'Expansion of logging for the list action\n\nTwo new logging calls for the list action on the\ninfo and debbug level.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I56044c93b03531159953c323f8e530d833819a5f\n'}, {'number': 3, 'created': '2021-06-03 06:39:50.000000000', 'files': ['validations_libs/validation_actions.py', 'validations_libs/utils.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/91c17107c508d7c3b4c87a930a7d60fc5f112f05', 'message': 'Expansion of logging for the list action\n\nTwo new logging calls for the list action on the\ninfo and debbug level.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I56044c93b03531159953c323f8e530d833819a5f\n'}]",0,790913,91c17107c508d7c3b4c87a930a7d60fc5f112f05,20,7,3,32926,,,0,"Expansion of logging for the list action

Two new logging calls for the list action on the
info and debbug level.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I56044c93b03531159953c323f8e530d833819a5f
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/13/790913/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/validation_actions.py', 'validations_libs/utils.py']",2,092abdfd831280442278d547da1c2f41e401249c,logging/actionslist," LOG.debug( ""Attempting to parse validations of groups `{}` from {}"".format( ','.join(groups), validations_abspath ) ) ",,13,0
openstack%2Fvalidations-libs~master~I3b2f0bfaa9d92e9cc664dea8ba5f7966c6931837,openstack/validations-libs,master,I3b2f0bfaa9d92e9cc664dea8ba5f7966c6931837,Expansion of logging for the show action.,MERGED,2021-05-12 12:30:03.000000000,2021-06-07 13:46:42.000000000,2021-06-07 13:44:36.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-12 12:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/eb536866da472e9ee9a7f6bc338884be2062b07b', 'message': 'Expansion of logging for the list action.\n\nNew logging calls on the debug level.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I3b2f0bfaa9d92e9cc664dea8ba5f7966c6931837\n'}, {'number': 2, 'created': '2021-05-18 14:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/fbe34ba826c46f2f46c20a662ac76324c18b7383', 'message': 'Expansion of logging for the show action.\n\nNew logging calls on the debug level.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I3b2f0bfaa9d92e9cc664dea8ba5f7966c6931837\n'}, {'number': 3, 'created': '2021-05-31 05:16:00.000000000', 'files': ['validations_libs/validation_logs.py', 'validations_libs/utils.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/eb439a35db4c588ea9da643b104de71b8e816974', 'message': 'Expansion of logging for the show action.\n\nNew logging calls on the debug level.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I3b2f0bfaa9d92e9cc664dea8ba5f7966c6931837\n'}]",0,790959,eb439a35db4c588ea9da643b104de71b8e816974,21,6,3,32926,,,0,"Expansion of logging for the show action.

New logging calls on the debug level.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I3b2f0bfaa9d92e9cc664dea8ba5f7966c6931837
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/59/790959/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/validation_logs.py', 'validations_libs/utils.py']",2,eb536866da472e9ee9a7f6bc338884be2062b07b,logging/actionsshow," LOG.debug( ""Obtaining information about validation {} from {}"".format( validation, val_path) ) ",,33,4
openstack%2Ftripleo-heat-templates~master~I422e49f0027efbbb25256d8b4718eb0aa78d90a4,openstack/tripleo-heat-templates,master,I422e49f0027efbbb25256d8b4718eb0aa78d90a4,set ganesha idmap.conf file path and overrides,MERGED,2021-02-03 20:42:21.000000000,2021-06-07 13:44:28.000000000,2021-06-07 13:44:28.000000000,"[{'_account_id': 6796}, {'_account_id': 8833}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 18002}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-02-03 20:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/49328940f2c9681634b96360bc607dd607242778', 'message': ""WIP: set idmap.conf file path and domain\n\nCurrently Ganesha consumes /etc/idmapd.conf, which controls mapping of\nuser/owner identities under NFSv4+.  With containerized service\ndeployment, this file is an immutable part of the container image and\ncannot be modified.  In concert with a corresponding modification to\nceph ansible we provide here parameters to set the path of the idmap\nconfiguration file and to make the most common adjustment to the\ncontents of that file -- namely to set the 'Domain'.  We default the\npath to /etc/ganesha/idmap.conf so that we will not conflict with\n/etc/idmapd.conf on the controller nodes where ganesha runs.  NFSv4\nclients, as used for example by the Cinder NFS driver, consume\n/etc/idmapd.conf and may require different settings than what is wanted\nfor ganesha.  Additionally, we already bind /etc/ganesha from the host\ninto the ganesha container so that the file ganesha consumes will no\nlonger be an immutable part of the container.\n\nWe'll keep this patch WIP only for now while we get the corresponding\nCeph PR underway.\n\nChange-Id: I422e49f0027efbbb25256d8b4718eb0aa78d90a4\n""}, {'number': 2, 'created': '2021-02-03 20:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e5b31b2d6f77cdb6a30b193e6c9213574c163c3b', 'message': ""WIP: set idmap.conf file path and domain\n\nCurrently Ganesha consumes /etc/idmapd.conf, which controls mapping of\nuser/owner identities under NFSv4+.  With containerized service\ndeployment, this file is an immutable part of the container image and\ncannot be modified.  In concert with a corresponding modification to\nceph ansible we provide here parameters to set the path of the idmap\nconfiguration file and to make the most common adjustment to the\ncontents of that file -- namely to set the 'Domain'.  We default the\npath to /etc/ganesha/idmap.conf so that we will not conflict with\n/etc/idmapd.conf on the controller nodes where ganesha runs.  NFSv4\nclients, as used for example by the Cinder NFS driver, consume\n/etc/idmapd.conf and may require different settings than what is wanted\nfor ganesha.  Additionally, we already bind /etc/ganesha from the host\ninto the ganesha container so that the file ganesha consumes will no\nlonger be an immutable part of the container.\n\nWe'll keep this patch WIP only for now while we get the corresponding\nceph-ansible PR underway.\n\nChange-Id: I422e49f0027efbbb25256d8b4718eb0aa78d90a4\n""}, {'number': 3, 'created': '2021-02-05 17:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce64c81eaed28971ce64f13c23c8b2a852f38957', 'message': ""WIP: set idmap.conf file path and domain\n\nCurrently Ganesha consumes /etc/idmapd.conf, which controls mapping of\nuser/owner identities under NFSv4+.  With containerized service\ndeployment, this file is an immutable part of the container image and\ncannot be modified.  In concert with a corresponding modification to\nceph ansible we provide here parameters to set the path of the idmap\nconfiguration file and to make the most common adjustment to the\ncontents of that file -- namely to set the 'Domain'.  We default the\npath to /etc/ganesha/idmap.conf so that we will not conflict with\n/etc/idmapd.conf on the controller nodes where ganesha runs.  NFSv4\nclients, as used for example by the Cinder NFS driver, consume\n/etc/idmapd.conf and may require different settings than what is wanted\nfor ganesha.  Additionally, we already bind /etc/ganesha from the host\ninto the ganesha container so that the file ganesha consumes will no\nlonger be an immutable part of the container.\n\nWe'll keep this patch WIP only for now while we get the corresponding\nceph-ansible PR underway.\nNote: posted now as https://github.com/ceph/ceph-ansible/pull/6248\n\nChange-Id: I422e49f0027efbbb25256d8b4718eb0aa78d90a4\n""}, {'number': 4, 'created': '2021-04-26 17:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90a177507af32896ed47ace3ae872c8eadbf3773', 'message': 'set ganesha idmap.conf file path and overrides\n\nTraditionally,  Ganesha consumes /etc/idmapd.conf, which controls\nmapping of user/owner identities under NFSv4+.  With containerized service\ndeployment, this file has beenan immutable part of the container image\nand could not be modified.\n\nRecently ceph-ansible was modified to allow the user to set the path\nfor idmapd.conf and to override ini settings in this file by supplying\njson configuration for the overrides in the same way that it can be\nsupplied for ceph.conf overrides [1].  Also, the default path setting\nfor the idmapd.conf file is /etc/ganesha/idmap.conf, which already is\nreflected into containerized ganesha under /etc/ganesha, solving the\nimmutability issue.  If no overrides are supplied, the file put in this\nlocation will match that originally frozen into the container, so there\nis no issue here with backwards compatibility.\n\nThis change exposes parameters for idmap.conf file path and override\ncontents in TripleO and passes them into ceph-ansible.  It also sets up\nthese parameters for cephadm.  Cephadm support for OpenStack Ganesha\nis WIP so there will likely need to be a followup patch to make these\neffective when cephadm replaces ceph ansible.\n\n[1] https://github.com/ceph/ceph-ansible/pull/6422\n\nChange-Id: I422e49f0027efbbb25256d8b4718eb0aa78d90a4\n'}, {'number': 5, 'created': '2021-04-29 14:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7eda53e44f550f03eedd22045d23d913332a00b', 'message': 'set ganesha idmap.conf file path and overrides\n\nTraditionally,  Ganesha consumes /etc/idmapd.conf, which controls\nmapping of user/owner identities under NFSv4+.  With containerized service\ndeployment, this file has beenan immutable part of the container image\nand could not be modified.\n\nRecently ceph-ansible was modified to allow the user to set the path\nfor idmapd.conf and to override ini settings in this file by supplying\njson configuration for the overrides in the same way that it can be\nsupplied for ceph.conf overrides [1].  Also, the default path setting\nfor the idmapd.conf file is /etc/ganesha/idmap.conf, which already is\nreflected into containerized ganesha under /etc/ganesha, solving the\nimmutability issue.  If no overrides are supplied, the file put in this\nlocation will match that originally frozen into the container, so there\nis no issue here with backwards compatibility.\n\nThis change exposes parameters for idmap.conf file path and override\ncontents in TripleO and passes them into ceph-ansible.  It also sets up\nthese parameters for cephadm.  Cephadm support for OpenStack Ganesha\nis WIP so there will likely need to be a followup patch to make these\neffective when cephadm replaces ceph ansible.\n\n[1] https://github.com/ceph/ceph-ansible/pull/6422\n\nChange-Id: I422e49f0027efbbb25256d8b4718eb0aa78d90a4\n'}, {'number': 6, 'created': '2021-05-24 08:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8e0dac815ff1f4ffacb239eb4a2637fda4d5154', 'message': 'set ganesha idmap.conf file path and overrides\n\nTraditionally,  Ganesha consumes /etc/idmapd.conf, which controls\nmapping of user/owner identities under NFSv4+.  With containerized service\ndeployment, this file has beenan immutable part of the container image\nand could not be modified.\n\nRecently ceph-ansible was modified to allow the user to set the path\nfor idmapd.conf and to override ini settings in this file by supplying\njson configuration for the overrides in the same way that it can be\nsupplied for ceph.conf overrides [1].  Also, the default path setting\nfor the idmapd.conf file is /etc/ganesha/idmap.conf, which already is\nreflected into containerized ganesha under /etc/ganesha, solving the\nimmutability issue.  If no overrides are supplied, the file put in this\nlocation will match that originally frozen into the container, so there\nis no issue here with backwards compatibility.\n\nThis change exposes parameters for idmap.conf file path and override\ncontents in TripleO and passes them into ceph-ansible.  It also sets up\nthese parameters for cephadm.  Cephadm support for OpenStack Ganesha\nis WIP so there will likely need to be a followup patch to make these\neffective when cephadm replaces ceph ansible.\n\n[1] https://github.com/ceph/ceph-ansible/pull/6422\n\nChange-Id: I422e49f0027efbbb25256d8b4718eb0aa78d90a4\n'}, {'number': 7, 'created': '2021-06-01 11:40:37.000000000', 'files': ['deployment/ceph-ansible/ceph-nfs.yaml', 'environments/manila-cephfsganesha-config.yaml', 'deployment/cephadm/ceph-nfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a42686dc7f9181246fdddf87e35a6a669726cea', 'message': 'set ganesha idmap.conf file path and overrides\n\nTraditionally,  Ganesha consumes /etc/idmapd.conf, which controls\nmapping of user/owner identities under NFSv4+.  With containerized service\ndeployment, this file has beenan immutable part of the container image\nand could not be modified.\n\nRecently ceph-ansible was modified to allow the user to set the path\nfor idmapd.conf and to override ini settings in this file by supplying\njson configuration for the overrides in the same way that it can be\nsupplied for ceph.conf overrides [1].  Also, the default path setting\nfor the idmapd.conf file is /etc/ganesha/idmap.conf, which already is\nreflected into containerized ganesha under /etc/ganesha, solving the\nimmutability issue.  If no overrides are supplied, the file put in this\nlocation will match that originally frozen into the container, so there\nis no issue here with backwards compatibility.\n\nThis change exposes parameters for idmap.conf file path and override\ncontents in TripleO and passes them into ceph-ansible.  It also sets up\nthese parameters for cephadm.  Cephadm support for OpenStack Ganesha\nis WIP so there will likely need to be a followup patch to make these\neffective when cephadm replaces ceph ansible.\n\n[1] https://github.com/ceph/ceph-ansible/pull/6422\n\nChange-Id: I422e49f0027efbbb25256d8b4718eb0aa78d90a4\n'}]",9,773999,9a42686dc7f9181246fdddf87e35a6a669726cea,62,9,7,9003,,,0,"set ganesha idmap.conf file path and overrides

Traditionally,  Ganesha consumes /etc/idmapd.conf, which controls
mapping of user/owner identities under NFSv4+.  With containerized service
deployment, this file has beenan immutable part of the container image
and could not be modified.

Recently ceph-ansible was modified to allow the user to set the path
for idmapd.conf and to override ini settings in this file by supplying
json configuration for the overrides in the same way that it can be
supplied for ceph.conf overrides [1].  Also, the default path setting
for the idmapd.conf file is /etc/ganesha/idmap.conf, which already is
reflected into containerized ganesha under /etc/ganesha, solving the
immutability issue.  If no overrides are supplied, the file put in this
location will match that originally frozen into the container, so there
is no issue here with backwards compatibility.

This change exposes parameters for idmap.conf file path and override
contents in TripleO and passes them into ceph-ansible.  It also sets up
these parameters for cephadm.  Cephadm support for OpenStack Ganesha
is WIP so there will likely need to be a followup patch to make these
effective when cephadm replaces ceph ansible.

[1] https://github.com/ceph/ceph-ansible/pull/6422

Change-Id: I422e49f0027efbbb25256d8b4718eb0aa78d90a4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/773999/7 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ceph-ansible/ceph-nfs.yaml', 'environments/manila-cephfsganesha-config.yaml']",2,49328940f2c9681634b96360bc607dd607242778,centos-storage-sig, # Use ManilaCephFSNFSIdmapConf to change the path of the idmap.conf file consumed by ganesha ManilaCephFSNFSIdmapConf: '/etc/ganesha/idmap.conf' # Use ManilaCephFSNFSDomainName if you want to set the Domain in /etc/ganesha/idmap.conf ManilaCephFSNFSDomainName: '',,12,0
openstack%2Fmonasca-tempest-plugin~master~I55924ec1721181f8301357729df5d2c4abcad892,openstack/monasca-tempest-plugin,master,I55924ec1721181f8301357729df5d2c4abcad892,Fix Docker build,MERGED,2021-05-20 16:34:01.000000000,2021-06-07 13:42:15.000000000,2021-06-07 13:40:35.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-05-20 16:34:01.000000000', 'files': ['docker/build_image.sh'], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/062cb7576a574d5fd12f75bea351e6381b19a5a1', 'message': ""Fix Docker build\n\nThe default nodeset was just changed to focal [1], which in the absence\nof the python-is-python3 package doesn't provide a python binary.\n\n[1] https://review.opendev.org/c/opendev/base-jobs/+/789098\n\nChange-Id: I55924ec1721181f8301357729df5d2c4abcad892\n""}]",0,792414,062cb7576a574d5fd12f75bea351e6381b19a5a1,9,2,1,15197,,,0,"Fix Docker build

The default nodeset was just changed to focal [1], which in the absence
of the python-is-python3 package doesn't provide a python binary.

[1] https://review.opendev.org/c/opendev/base-jobs/+/789098

Change-Id: I55924ec1721181f8301357729df5d2c4abcad892
",git fetch https://review.opendev.org/openstack/monasca-tempest-plugin refs/changes/14/792414/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/build_image.sh'],1,062cb7576a574d5fd12f75bea351e6381b19a5a1,docker-build-fixes,"REAL_PATH=$(python3 -c ""import os,sys; print(os.path.realpath('$0'))"")","REAL_PATH=$(python -c ""import os,sys; print(os.path.realpath('$0'))"")",1,1
openstack%2Ftripleo-ansible~stable%2Fussuri~Id2aff61f219b0c4992f6f0045f1aba2c7d129758,openstack/tripleo-ansible,stable/ussuri,Id2aff61f219b0c4992f6f0045f1aba2c7d129758,Make execution of the backup idempotent,MERGED,2021-06-01 10:25:25.000000000,2021-06-07 13:34:16.000000000,2021-06-07 13:34:16.000000000,"[{'_account_id': 8449}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-06-01 10:25:25.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_pause.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/363f7645829e7b38033e7d808b4809cbf493713e', 'message': ""Make execution of the backup idempotent\n\nCurrently, the playbook stops the services and the pacemaker to perform the backup. If the backup fails for whatever reason, the playbook cannot run again and fails due to the services being down. This patch fixes the issue in two directions. First, by using the block-always ansible feature, we ensure that whenever an error happens, the playbook will restart the pacemaker and the services before exiting.\n\nThe second direction is on the execution itself. By controlling certain actions, we ensure that the backup will be succesful not matter what state the services and the pacemaker are when the playbook is ran. This ensures success even in the case an operator stops the ansible execution manually (which will not trigger the 'always' condition).\n\nBZ: #1954818\nChange-Id: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\n(cherry picked from commit 9a865d176987f82ecafe121f21ba8db9641379d2)\n""}]",0,793919,363f7645829e7b38033e7d808b4809cbf493713e,12,7,1,32968,,,0,"Make execution of the backup idempotent

Currently, the playbook stops the services and the pacemaker to perform the backup. If the backup fails for whatever reason, the playbook cannot run again and fails due to the services being down. This patch fixes the issue in two directions. First, by using the block-always ansible feature, we ensure that whenever an error happens, the playbook will restart the pacemaker and the services before exiting.

The second direction is on the execution itself. By controlling certain actions, we ensure that the backup will be succesful not matter what state the services and the pacemaker are when the playbook is ran. This ensures success even in the case an operator stops the ansible execution manually (which will not trigger the 'always' condition).

BZ: #1954818
Change-Id: Id2aff61f219b0c4992f6f0045f1aba2c7d129758
(cherry picked from commit 9a865d176987f82ecafe121f21ba8db9641379d2)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/19/793919/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_pause.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml']",4,363f7645829e7b38033e7d808b4809cbf493713e,change-793691-2-stable/ussuri,"- name: Unpause ceph mon container if paused command: ""{{ tripleo_container_cli }} unpause ceph-mon-{{ ansible_facts['hostname'] }}"" failed_when: false tags: - bar_create_recover_image ",,50,2
openstack%2Fmonasca-api~master~Ic78169052517701b235e906852923388d93776e8,openstack/monasca-api,master,Ic78169052517701b235e906852923388d93776e8,Fix Docker build,MERGED,2021-05-20 16:29:26.000000000,2021-06-07 13:27:33.000000000,2021-06-07 13:24:49.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-05-20 16:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/b45ce70aa19e71b41d4590500c05e0c863687a41', 'message': ""Fix Docker build\n\nThe default nodeset was just changed to focal [1], which in the absence\nof the python-is-python3 package doesn't provide a python binary.\n\n[1] https://review.opendev.org/c/opendev/base-jobs/+/789098\n\nChange-Id: Ic78169052517701b235e906852923388d93776e8\n""}, {'number': 2, 'created': '2021-06-06 20:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/ddfd4a8185e2fb2b60700095042f60deeaecf52d', 'message': ""Fix Docker build\n\nThe default nodeset was just changed to focal [1], which in the absence\nof the python-is-python3 package doesn't provide a python binary.\n\n[1] https://review.opendev.org/c/opendev/base-jobs/+/789098\n\nChange-Id: Ic78169052517701b235e906852923388d93776e8\n""}, {'number': 3, 'created': '2021-06-07 11:16:30.000000000', 'files': ['.zuul.yaml', 'docker/build_image.sh'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/5b2af7db13f04e9df03e23e9001c133347494ade', 'message': ""Fix Docker build\n\nThe default nodeset was just changed to focal [1], which in the absence\nof the python-is-python3 package doesn't provide a python binary.\n\nEnable again the docker-build and docker-publish Zuul jobs.\n\n[1] https://review.opendev.org/c/opendev/base-jobs/+/789098\n\nChange-Id: Ic78169052517701b235e906852923388d93776e8\n""}]",0,792412,5b2af7db13f04e9df03e23e9001c133347494ade,12,2,3,15197,,,0,"Fix Docker build

The default nodeset was just changed to focal [1], which in the absence
of the python-is-python3 package doesn't provide a python binary.

Enable again the docker-build and docker-publish Zuul jobs.

[1] https://review.opendev.org/c/opendev/base-jobs/+/789098

Change-Id: Ic78169052517701b235e906852923388d93776e8
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/12/792412/3 && git format-patch -1 --stdout FETCH_HEAD,['docker/build_image.sh'],1,b45ce70aa19e71b41d4590500c05e0c863687a41,docker-build-fixes,"REAL_PATH=$(python3 -c ""import os,sys; print(os.path.realpath('$0'))"")","REAL_PATH=$(python -c ""import os,sys; print(os.path.realpath('$0'))"")",1,1
openstack%2Ftripleo-validations~stable%2Fwallaby~Ibf7b523667d0083a36f478d2adc8f2cb94151504,openstack/tripleo-validations,stable/wallaby,Ibf7b523667d0083a36f478d2adc8f2cb94151504,"Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""",ABANDONED,2021-06-07 08:45:41.000000000,2021-06-07 13:17:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-07 08:45:41.000000000', 'files': ['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/adba645aa98be9b3fbac88a83b2718bfc887d195', 'message': 'Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""\n\nSee the comment[1] on the bugzilla.\n\nThis reverts commit ea453ca45e4593e65685366b8674f3aff78479fc.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1959764#c6\nChange-Id: I2bec2a1c956f1da3569b2e6fe40d14ca5f5682b6\n\nChange-Id: Ibf7b523667d0083a36f478d2adc8f2cb94151504\n'}]",0,795064,adba645aa98be9b3fbac88a83b2718bfc887d195,3,1,1,31245,,,0,"Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""

See the comment[1] on the bugzilla.

This reverts commit ea453ca45e4593e65685366b8674f3aff78479fc.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1959764#c6
Change-Id: I2bec2a1c956f1da3569b2e6fe40d14ca5f5682b6

Change-Id: Ibf7b523667d0083a36f478d2adc8f2cb94151504
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/64/795064/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml']",10,adba645aa98be9b3fbac88a83b2718bfc887d195,,,"--- # inherits tripleo-validations/.config/molecule/config.yml # To override default values, please take a look at the config.yml. driver: name: podman ",0,307
openstack%2Ftripleo-validations~stable%2Fvictoria~I5356a147b863579306100fe846ea837c3df8fa9e,openstack/tripleo-validations,stable/victoria,I5356a147b863579306100fe846ea837c3df8fa9e,"Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""",ABANDONED,2021-06-07 08:51:17.000000000,2021-06-07 13:15:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-07 08:51:17.000000000', 'files': ['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1ab6222b0fd04822f6d8d82a1411dc903c83341b', 'message': 'Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""\n\nSee the comment[1] on the bugzilla.\n\nThis reverts commit dad3e9f171064ab5b8b982575910fcc900fa7fc8.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1959764#c6\nChange-Id: If95ac6555481d05f656eff60ef981565be4873bf\n\nChange-Id: I5356a147b863579306100fe846ea837c3df8fa9e\n'}]",0,795067,1ab6222b0fd04822f6d8d82a1411dc903c83341b,3,1,1,31245,,,0,"Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""

See the comment[1] on the bugzilla.

This reverts commit dad3e9f171064ab5b8b982575910fcc900fa7fc8.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1959764#c6
Change-Id: If95ac6555481d05f656eff60ef981565be4873bf

Change-Id: I5356a147b863579306100fe846ea837c3df8fa9e
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/67/795067/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml']",10,1ab6222b0fd04822f6d8d82a1411dc903c83341b,,,"--- driver: name: podman log: true platforms: - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile pkg_extras: python*-setuptools python*-pyyaml privileged: true volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" ulimits: &ulimit - host provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy verifier: name: testinfra ",1,383
openstack%2Ftripleo-validations~stable%2Fvictoria~Ia3168ce368d9d11c2872fa378b2aa28638f9c1f3,openstack/tripleo-validations,stable/victoria,Ia3168ce368d9d11c2872fa378b2aa28638f9c1f3,"Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""",ABANDONED,2021-06-07 08:48:33.000000000,2021-06-07 13:14:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-07 08:48:33.000000000', 'files': ['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/af2ad495b2aacedf90e31afffba1c4682b1a705f', 'message': 'Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""\n\nSee the comment[1] on the bugzilla.\n\nThis reverts commit dad3e9f171064ab5b8b982575910fcc900fa7fc8.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1959764#c6\nChange-Id: If95ac6555481d05f656eff60ef981565be4873bf\n\nChange-Id: Ia3168ce368d9d11c2872fa378b2aa28638f9c1f3\n'}]",0,795066,af2ad495b2aacedf90e31afffba1c4682b1a705f,3,1,1,31245,,,0,"Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""

See the comment[1] on the bugzilla.

This reverts commit dad3e9f171064ab5b8b982575910fcc900fa7fc8.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1959764#c6
Change-Id: If95ac6555481d05f656eff60ef981565be4873bf

Change-Id: Ia3168ce368d9d11c2872fa378b2aa28638f9c1f3
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/66/795066/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml']",10,af2ad495b2aacedf90e31afffba1c4682b1a705f,,,"--- driver: name: podman log: true platforms: - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile pkg_extras: python*-setuptools python*-pyyaml privileged: true volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" ulimits: &ulimit - host provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy verifier: name: testinfra ",1,383
openstack%2Ftripleo-validations~stable%2Ftrain~Id7781934145188c3ed4471f01a53fdaaa4aed588,openstack/tripleo-validations,stable/train,Id7781934145188c3ed4471f01a53fdaaa4aed588,"Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""",ABANDONED,2021-06-07 08:47:10.000000000,2021-06-07 13:12:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-07 08:47:10.000000000', 'files': ['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ea2633b623538cf86037ac6facb4a02d555b8628', 'message': 'Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""\n\nSee the comment[1] on the bugzilla.\n\nThis reverts commit b1ee6a4545df972f3baa7ae5983e3b52bb664605.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1959764#c6\nChange-Id: I2afd591352819e8050e44226405fcdb7cf3e0c9b\n\nChange-Id: Id7781934145188c3ed4471f01a53fdaaa4aed588\n'}]",0,795065,ea2633b623538cf86037ac6facb4a02d555b8628,3,1,1,31245,,,0,"Revert ""Add validation to check DockerInsecureRegistryAddress matches the UC hostname""

See the comment[1] on the bugzilla.

This reverts commit b1ee6a4545df972f3baa7ae5983e3b52bb664605.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1959764#c6
Change-Id: I2afd591352819e8050e44226405fcdb7cf3e0c9b

Change-Id: Id7781934145188c3ed4471f01a53fdaaa4aed588
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/65/795065/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_uc_hostname/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'playbooks/check-uc-hostname.yaml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml']",10,ea2633b623538cf86037ac6facb4a02d555b8628,,,"--- driver: name: podman log: true platforms: - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile pkg_extras: python*-setuptools python*-pyyaml privileged: true volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" ulimits: &ulimit - host provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy verifier: name: testinfra ",2,386
openstack%2Fopenstack-helm-infra~master~Iee35773f05d380d31f2e69a1bc7dedd7345f3bb7,openstack/openstack-helm-infra,master,Iee35773f05d380d31f2e69a1bc7dedd7345f3bb7,DMN - Test Values for Elastic Search,ABANDONED,2021-03-25 17:38:41.000000000,2021-06-07 13:07:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-25 17:38:41.000000000', 'files': ['elasticsearch/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b1dfa0ee5ba88d311c9be0630a6f34c2c46e9ccd', 'message': 'DMN - Test Values for Elastic Search\n\nTrying to isolate some behavioral differences between master\nand https://review.opendev.org/c/openstack/openstack-helm-infra/+/780453\n\nChange-Id: Iee35773f05d380d31f2e69a1bc7dedd7345f3bb7\n'}]",0,783071,b1dfa0ee5ba88d311c9be0630a6f34c2c46e9ccd,3,1,1,30777,,,0,"DMN - Test Values for Elastic Search

Trying to isolate some behavioral differences between master
and https://review.opendev.org/c/openstack/openstack-helm-infra/+/780453

Change-Id: Iee35773f05d380d31f2e69a1bc7dedd7345f3bb7
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/71/783071/1 && git format-patch -1 --stdout FETCH_HEAD,['elasticsearch/values.yaml'],1,b1dfa0ee5ba88d311c9be0630a6f34c2c46e9ccd,, jobs: - elasticsearch-s3-user - create-elasticsearch-templates - create-elasticsearch-templates rootLogger.level = debug endpoint: ceph-rgw.osh-infra.svc.cluster.local:8088 - endpoint: _snapshot/logstash_snapshots body: type: s3 settings: client: default bucket: elasticsearch_bucket job_snapshot_repository: false, - elasticsearch-register-snapshot-repository - elasticsearch-register-snapshot-repository rootLogger.level = info endpoint: null job_snapshot_repository: true,13,5
openstack%2Fcharm-ops-openstack~master~Idc3435743105af3e4d702e73d59d7b141afd2d26,openstack/charm-ops-openstack,master,Idc3435743105af3e4d702e73d59d7b141afd2d26,Support charms without pause/resume actions,MERGED,2021-06-07 12:08:16.000000000,2021-06-07 13:05:08.000000000,2021-06-07 13:05:08.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-07 12:08:16.000000000', 'files': ['ops_openstack/core.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-openstack/commit/2057e90e4622621dae1749db819288d3787e3523', 'message': 'Support charms without pause/resume actions\n\nChange-Id: Idc3435743105af3e4d702e73d59d7b141afd2d26\n'}]",0,795090,2057e90e4622621dae1749db819288d3787e3523,6,2,1,12549,,,0,"Support charms without pause/resume actions

Change-Id: Idc3435743105af3e4d702e73d59d7b141afd2d26
",git fetch https://review.opendev.org/openstack/charm-ops-openstack refs/changes/90/795090/1 && git format-patch -1 --stdout FETCH_HEAD,['ops_openstack/core.py'],1,2057e90e4622621dae1749db819288d3787e3523,support-pause-resume-absent," # A charm may not have pause/resume actions if it does not manage a # daemon. try: self.framework.observe( self.on.pause_action, self.on_pause_action) except AttributeError: pass try: self.framework.observe( self.on.resume_action, self.on_resume_action) except AttributeError: pass"," self.framework.observe(self.on.pause_action, self.on_pause_action) self.framework.observe(self.on.resume_action, self.on_resume_action)",14,2
openstack%2Fkolla-ansible~stable%2Fwallaby~Ib32b78cfd6f3fe535d30d8aa48f3187b9aec746e,openstack/kolla-ansible,stable/wallaby,Ib32b78cfd6f3fe535d30d8aa48f3187b9aec746e,grafana: add bootstrap during upgrade,MERGED,2021-06-07 09:37:21.000000000,2021-06-07 12:53:32.000000000,2021-06-07 12:50:01.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-07 09:37:21.000000000', 'files': ['ansible/roles/grafana/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/12dc474830b3a6b1e8687829cca3fd3963c67b41', 'message': ""grafana: add bootstrap during upgrade\n\nUpgrading from Victoria to Wallaby with Monasca enabled fails waiting\nfor Grafana to start.\n\nGrafana defaults to enabled if Monasca is enabled in Wallaby (was\ndefault disabled in Victoria), so the database user and tables don't\nnecessarily exist prior to the upgrade.\n\nRunning `kolla-ansible upgrade` then attempts to start the Grafana\ncontainer, but fails to include the bootstrap task (which creates the\ndb) so the container is unable to start with a database connection\nerror, from the grafana container logs:\n\n  service init failed: failed to check table existence: Error 1045:\n  Access denied for user 'grafana'@'xxx' (using password: YES)\n\nThis change performs a bootstrap of Grafana during upgrade. It is\nrequired only for the Wallaby release where the default change is\nintroduced.\n\nCloses-Bug: #1931037\nCo-Authored-By: Scott Shambarger\n\nChange-Id: Ib32b78cfd6f3fe535d30d8aa48f3187b9aec746e\n""}]",0,795072,12dc474830b3a6b1e8687829cca3fd3963c67b41,10,3,1,14826,,,0,"grafana: add bootstrap during upgrade

Upgrading from Victoria to Wallaby with Monasca enabled fails waiting
for Grafana to start.

Grafana defaults to enabled if Monasca is enabled in Wallaby (was
default disabled in Victoria), so the database user and tables don't
necessarily exist prior to the upgrade.

Running `kolla-ansible upgrade` then attempts to start the Grafana
container, but fails to include the bootstrap task (which creates the
db) so the container is unable to start with a database connection
error, from the grafana container logs:

  service init failed: failed to check table existence: Error 1045:
  Access denied for user 'grafana'@'xxx' (using password: YES)

This change performs a bootstrap of Grafana during upgrade. It is
required only for the Wallaby release where the default change is
introduced.

Closes-Bug: #1931037
Co-Authored-By: Scott Shambarger

Change-Id: Ib32b78cfd6f3fe535d30d8aa48f3187b9aec746e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/795072/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/grafana/tasks/upgrade.yml'],1,12dc474830b3a6b1e8687829cca3fd3963c67b41,,"# NOTE(mgoddard): Bootstrap during upgrade added for Wallaby only, since # Monasca users will get grafana enabled by default, when previously they may # have been using monasca-grafana. - import_tasks: bootstrap.yml ",,5,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I134e8aa8ed5eae479e5af743464dc2a0e40a1353,openstack/kolla-ansible,stable/wallaby,I134e8aa8ed5eae479e5af743464dc2a0e40a1353,Bump min Docker version,MERGED,2021-06-07 09:05:32.000000000,2021-06-07 12:52:24.000000000,2021-06-07 12:49:26.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-07 09:05:32.000000000', 'files': ['releasenotes/notes/bump-minimum-docker-version-18-09-37af3b4c134da67e.yaml', 'ansible/roles/prechecks/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a8982e57172729b5ee94242e3ff292bf65621876', 'message': 'Bump min Docker version\n\nAnd python-docker version.\nMake them less scary.\n\nChange-Id: I134e8aa8ed5eae479e5af743464dc2a0e40a1353\n(cherry picked from commit a3caf8c3a007ac636623519a95e6d41e8f19ad82)\n'}]",0,795037,a8982e57172729b5ee94242e3ff292bf65621876,9,3,1,14826,,,0,"Bump min Docker version

And python-docker version.
Make them less scary.

Change-Id: I134e8aa8ed5eae479e5af743464dc2a0e40a1353
(cherry picked from commit a3caf8c3a007ac636623519a95e6d41e8f19ad82)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/795037/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bump-minimum-docker-version-18-09-37af3b4c134da67e.yaml', 'ansible/roles/prechecks/vars/main.yml']",2,a8982e57172729b5ee94242e3ff292bf65621876,bump-min-docker-version-stable/wallaby,docker_version_min: '18.09' docker_py_version_min: '3.4.1',docker_version_min: '1.10.0' docker_py_version_min: '2.0.0',8,2
openstack%2Fironic-python-agent~master~I5f5e336bd629846b3d779fd0fc7a2060b385b035,openstack/ironic-python-agent,master,I5f5e336bd629846b3d779fd0fc7a2060b385b035,Burn-in: Add disk step,MERGED,2021-05-21 15:12:50.000000000,2021-06-07 12:50:25.000000000,2021-06-07 12:46:14.000000000,"[{'_account_id': 11076}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-21 15:12:50.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/burnin.py', 'doc/source/admin/hardware_managers.rst', 'ironic_python_agent/tests/unit/test_hardware.py', 'releasenotes/notes/add_burnin_disk-12adb5735a41af47.yaml', 'ironic_python_agent/tests/unit/test_burnin.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/20c5894bc25389b7ea39a02e3e3853bc4cc41da7', 'message': ""Burn-in: Add disk step\n\nAdd a clean step for disk burn-in via fio. Get basic\nrun parameters from the node's driver_info.\n\nStory: #2007523\nTask: #42384\n\nChange-Id: I5f5e336bd629846b3d779fd0fc7a2060b385b035\n""}]",0,792644,20c5894bc25389b7ea39a02e3e3853bc4cc41da7,9,3,1,11292,,,0,"Burn-in: Add disk step

Add a clean step for disk burn-in via fio. Get basic
run parameters from the node's driver_info.

Story: #2007523
Task: #42384

Change-Id: I5f5e336bd629846b3d779fd0fc7a2060b385b035
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/44/792644/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/burnin.py', 'doc/source/admin/hardware_managers.rst', 'ironic_python_agent/tests/unit/test_hardware.py', 'releasenotes/notes/add_burnin_disk-12adb5735a41af47.yaml', 'ironic_python_agent/tests/unit/test_burnin.py']",6,20c5894bc25389b7ea39a02e3e3853bc4cc41da7,story_2007523_disk,"from ironic_python_agent import hardware @mock.patch.object(hardware, 'list_all_block_devices', autospec=True) def test_fio_disk_default(self, mock_list, mock_execute): node = {'driver_info': {}} mock_list.return_value = [ hardware.BlockDevice('/dev/sdj', 'big', 1073741824, True), hardware.BlockDevice('/dev/hdaa', 'small', 65535, False), ] mock_execute.return_value = (['out', 'err']) burnin.fio_disk(node) mock_execute.assert_called_once_with( 'fio', '--rw', 'readwrite', '--bs', '4k', '--direct', 1, '--ioengine', 'libaio', '--iodepth', '32', '--verify', 'crc32c', '--verify_dump', 1, '--continue_on_error', 'verify', '--loops', 4, '--runtime', 0, '--time_based', '--name', '/dev/sdj', '--name', '/dev/hdaa') @mock.patch.object(hardware, 'list_all_block_devices', autospec=True) def test_fio_disk_no_default(self, mock_list, mock_execute): node = {'driver_info': {'agent_burnin_fio_disk_runtime': 600, 'agent_burnin_fio_disk_loops': 5}} mock_list.return_value = [ hardware.BlockDevice('/dev/sdj', 'big', 1073741824, True), hardware.BlockDevice('/dev/hdaa', 'small', 65535, False), ] mock_execute.return_value = (['out', 'err']) burnin.fio_disk(node) mock_execute.assert_called_once_with( 'fio', '--rw', 'readwrite', '--bs', '4k', '--direct', 1, '--ioengine', 'libaio', '--iodepth', '32', '--verify', 'crc32c', '--verify_dump', 1, '--continue_on_error', 'verify', '--loops', 5, '--runtime', 600, '--time_based', '--name', '/dev/sdj', '--name', '/dev/hdaa') @mock.patch.object(hardware, 'list_all_block_devices', autospec=True) def test_fio_disk_no_fio(self, mock_list, mock_execute): node = {'driver_info': {}} mock_execute.side_effect = (['out', 'err'], processutils.ProcessExecutionError()) burnin.fio_disk(node) self.assertRaises(errors.CommandExecutionError, burnin.fio_disk, node)",,122,0
openstack%2Fneutron~master~I29137b22c158e979e81be9e41464948aa99f5498,openstack/neutron,master,I29137b22c158e979e81be9e41464948aa99f5498,Remove leading zeroes from an IP address,MERGED,2021-05-31 11:42:49.000000000,2021-06-07 12:48:39.000000000,2021-05-31 23:11:18.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-31 11:42:49.000000000', 'files': ['neutron/tests/unit/services/metering/test_metering_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b141aed51296fd6564ccce18f907dc1913a4bc5b', 'message': 'Remove leading zeroes from an IP address\n\nIn python3.9, ipaddress.IPv4Interface does not support defining an\nIP address with leading zeroes. E.g.:\n\n>>> ipaddress.IPv4Interface(\'00.0.0.0/0\')\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\n  File ""/usr/lib/python3.9/ipaddress.py"", line 1390, in __init__\n    IPv4Address.__init__(self, addr)\n  File ""/usr/lib/python3.9/ipaddress.py"", line 1307, in __init__\n    self._ip = self._ip_int_from_string(addr_str)\n  File ""/usr/lib/python3.9/ipaddress.py"", line 1199, in\n_ip_int_from_string\n    raise AddressValueError(""%s in %r"" % (exc, ip_str)) from None\nipaddress.AddressValueError: Leading zeros are not permitted in \'00\' in\n\'00.0.0.0\'\n\nChange-Id: I29137b22c158e979e81be9e41464948aa99f5498\nCloses-Bug: #1930222\n'}]",0,793772,b141aed51296fd6564ccce18f907dc1913a4bc5b,11,4,1,16688,,,0,"Remove leading zeroes from an IP address

In python3.9, ipaddress.IPv4Interface does not support defining an
IP address with leading zeroes. E.g.:

>>> ipaddress.IPv4Interface('00.0.0.0/0')
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/usr/lib/python3.9/ipaddress.py"", line 1390, in __init__
    IPv4Address.__init__(self, addr)
  File ""/usr/lib/python3.9/ipaddress.py"", line 1307, in __init__
    self._ip = self._ip_int_from_string(addr_str)
  File ""/usr/lib/python3.9/ipaddress.py"", line 1199, in
_ip_int_from_string
    raise AddressValueError(""%s in %r"" % (exc, ip_str)) from None
ipaddress.AddressValueError: Leading zeros are not permitted in '00' in
'00.0.0.0'

Change-Id: I29137b22c158e979e81be9e41464948aa99f5498
Closes-Bug: #1930222
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/793772/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/services/metering/test_metering_plugin.py'],1,b141aed51296fd6564ccce18f907dc1913a4bc5b,bug/1930222, 'destination_ip_prefix': '0.0.0.0/0'}, 'destination_ip_prefix': '00.0.0.0/0'},1,1
openstack%2Fpuppet-murano~master~I89c429aa195fba9fa09ddfae97b6318a8c35e21c,openstack/puppet-murano,master,I89c429aa195fba9fa09ddfae97b6318a8c35e21c,Get rid of the $pyvers variable,MERGED,2021-05-21 09:51:24.000000000,2021-06-07 12:43:04.000000000,2021-06-07 12:43:04.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-21 09:51:24.000000000', 'files': ['spec/classes/murano_client_spec.rb', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/8f301a178ef77bff43f444d0c2b70eaa26cda5fc', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I89c429aa195fba9fa09ddfae97b6318a8c35e21c\n""}]",0,792561,8f301a178ef77bff43f444d0c2b70eaa26cda5fc,7,3,1,6476,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: I89c429aa195fba9fa09ddfae97b6318a8c35e21c
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/61/792561/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/murano_client_spec.rb', 'manifests/params.pp']",2,8f301a178ef77bff43f444d0c2b70eaa26cda5fc,, $pythonclient_package_name = 'python3-muranoclient' $dashboard_package_name = 'python3-murano-dashboard'," $pyvers = $::openstacklib::defaults::pyvers $pythonclient_package_name = ""python${pyvers}-muranoclient"" $dashboard_package_name = ""python${pyvers}-murano-dashboard""",3,12
openstack%2Ftripleo-upgrade~master~I47c1a2d0a8cc6618444b6301232079f69c5d8d6e,openstack/tripleo-upgrade,master,I47c1a2d0a8cc6618444b6301232079f69c5d8d6e,Add mechanism to skip certain validations.,MERGED,2021-05-10 12:11:57.000000000,2021-06-07 12:42:12.000000000,2021-06-02 13:30:43.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 29222}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-05-10 12:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/190308847a8bd953d1239a23a19e8d9b1e9663d2', 'message': ""Add mechanism to skip certain validations.\n\nWhen executing the tripleo-upgrade role with the option --run-validations\nit might occur that a set of validations want to be skipped from the group\nexecution.\n\nThis patch adds a new parameter named blacklist_validations which contains\nthe list of validations names to be skipped. This parameter is also\nintegrated in the infrared plugin, by exposing the parameter\n--blacklist-validations 'val1,val2,val3'\n\nChange-Id: I47c1a2d0a8cc6618444b6301232079f69c5d8d6e\n""}, {'number': 2, 'created': '2021-05-10 12:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/34ac4b14fa06946f2c206e0b75b8f90bf44a2cee', 'message': ""Add mechanism to skip certain validations.\n\nWhen executing the tripleo-upgrade role with the option --run-validations\nit might occur that a set of validations want to be skipped from the group\nexecution.\n\nThis patch adds a new parameter named blacklist_validations which contains\nthe list of validations names to be skipped. This parameter is also\nintegrated in the infrared plugin, by exposing the parameter\n--blacklist-validations 'val1,val2,val3'\n\nChange-Id: I47c1a2d0a8cc6618444b6301232079f69c5d8d6e\n""}, {'number': 3, 'created': '2021-05-10 16:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/cef69acedbb1fe449877d9fa282cf279b09a08dc', 'message': ""Add mechanism to skip certain validations.\n\nWhen executing the tripleo-upgrade role with the option --run-validations\nit might occur that a set of validations want to be skipped from the group\nexecution.\n\nThis patch adds a new parameter named skiplist_validations which contains\nthe list of validations names to be skipped. This parameter is also\nintegrated in the infrared plugin, by exposing the parameter\n--skiplist-validations 'val1,val2,val3'\n\nChange-Id: I47c1a2d0a8cc6618444b6301232079f69c5d8d6e\n""}, {'number': 4, 'created': '2021-05-11 09:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/689d155776ea463e8635e11afd622231af4c8e22', 'message': ""Add mechanism to skip certain validations.\n\nWhen executing the tripleo-upgrade role with the option --run-validations\nit might occur that a set of validations want to be skipped from the group\nexecution.\n\nThis patch adds a new parameter named skiplist_validations which contains\nthe list of validations names to be skipped. This parameter is also\nintegrated in the infrared plugin, by exposing the parameter\n--skiplist-validations 'val1,val2,val3'\n\nChange-Id: I47c1a2d0a8cc6618444b6301232079f69c5d8d6e\n""}, {'number': 5, 'created': '2021-05-11 11:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0f29c60adca81d0e3eeaf0f03f5906c973dd178f', 'message': ""Add mechanism to skip certain validations.\n\nWhen executing the tripleo-upgrade role with the option --run-validations\nit might occur that a set of validations want to be skipped from the group\nexecution.\n\nThis patch adds a new parameter named skiplist_validations which contains\nthe list of validations names to be skipped. This parameter is also\nintegrated in the infrared plugin, by exposing the parameter\n--skiplist-validations 'val1,val2,val3'\n\nChange-Id: I47c1a2d0a8cc6618444b6301232079f69c5d8d6e\n""}, {'number': 6, 'created': '2021-05-11 12:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8ed6a654fa6e6104795727a8802d3e53aeadcc25', 'message': ""Add mechanism to skip certain validations.\n\nWhen executing the tripleo-upgrade role with the option --run-validations\nit might occur that a set of validations want to be skipped from the group\nexecution.\n\nThis patch adds a new parameter named skiplist_validations which contains\nthe list of validations names to be skipped. This parameter is also\nintegrated in the infrared plugin, by exposing the parameter\n--skiplist-validations 'val1,val2,val3'\n\nChange-Id: I47c1a2d0a8cc6618444b6301232079f69c5d8d6e\n""}, {'number': 7, 'created': '2021-05-12 14:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0d22fe9e1c6e769ed342cd61cfa5e6e53b84b8cf', 'message': ""Add mechanism to skip certain validations.\n\nWhen executing the tripleo-upgrade role with the option --run-validations\nit might occur that a set of validations want to be skipped from the group\nexecution.\n\nThis patch adds a new parameter named skiplist_validations which contains\nthe list of validations names to be skipped. This parameter is also\nintegrated in the infrared plugin, by exposing the parameter\n--skiplist-validations 'val1,val2,val3'\n\nChange-Id: I47c1a2d0a8cc6618444b6301232079f69c5d8d6e\n""}, {'number': 8, 'created': '2021-05-13 09:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7b4abe70401a4a42b62d0d326c57ef7a42162a2a', 'message': ""Add mechanism to skip certain validations.\n\nWhen executing the tripleo-upgrade role with the option --run-validations\nit might occur that a set of validations want to be skipped from the group\nexecution.\n\nThis patch adds a new parameter named skiplist_validations which contains\nthe list of validations names to be skipped. This parameter is also\nintegrated in the infrared plugin, by exposing the parameter\n--skiplist-validations 'val1,val2,val3'\n\nChange-Id: I47c1a2d0a8cc6618444b6301232079f69c5d8d6e\n""}, {'number': 9, 'created': '2021-05-13 10:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/be8cb36355bafc31352958f6f4f5db6436618542', 'message': ""Add mechanism to skip certain validations.\n\nWhen executing the tripleo-upgrade role with the option --run-validations\nit might occur that a set of validations want to be skipped from the group\nexecution.\n\nThis patch adds a new parameter named skiplist_validations which contains\nthe list of validations names to be skipped. This parameter is also\nintegrated in the infrared plugin, by exposing the parameter\n--skiplist-validations 'val1,val2,val3'\n\nChange-Id: I47c1a2d0a8cc6618444b6301232079f69c5d8d6e\n""}, {'number': 10, 'created': '2021-06-01 15:28:38.000000000', 'files': ['tasks/common/validation_group_run.yaml', 'templates/pre-upgrade-osp13-validation.sh.j2', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/be2a296ded3c65b893074e888712e076dee87371', 'message': ""Add mechanism to skip certain validations.\n\nWhen executing the tripleo-upgrade role with the option --run-validations\nit might occur that a set of validations want to be skipped from the group\nexecution.\n\nThis patch adds a new parameter named skiplist_validations which contains\nthe list of validations names to be skipped. This parameter is also\nintegrated in the infrared plugin, by exposing the parameter\n--skiplist-validations 'val1,val2,val3'\n\nChange-Id: I47c1a2d0a8cc6618444b6301232079f69c5d8d6e\n""}]",11,790425,be2a296ded3c65b893074e888712e076dee87371,38,7,10,26343,,,0,"Add mechanism to skip certain validations.

When executing the tripleo-upgrade role with the option --run-validations
it might occur that a set of validations want to be skipped from the group
execution.

This patch adds a new parameter named skiplist_validations which contains
the list of validations names to be skipped. This parameter is also
integrated in the infrared plugin, by exposing the parameter
--skiplist-validations 'val1,val2,val3'

Change-Id: I47c1a2d0a8cc6618444b6301232079f69c5d8d6e
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/25/790425/10 && git format-patch -1 --stdout FETCH_HEAD,"['templates/pre-upgrade-osp13-validation.sh.j2', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml']",4,190308847a8bd953d1239a23a19e8d9b1e9663d2,skip_validations,# list of blacklisted validations blacklist_validations: [] ,,27,10
openstack%2Fironic~stable%2Fwallaby~Ida21f21d6435c0d7fa46cb5b1161f034ad8956ee,openstack/ironic,stable/wallaby,Ida21f21d6435c0d7fa46cb5b1161f034ad8956ee,Avoid unnecessary validation in boot interfaces,MERGED,2021-05-10 15:45:16.000000000,2021-06-07 12:40:46.000000000,2021-06-07 12:36:29.000000000,"[{'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 15:45:16.000000000', 'files': ['ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'releasenotes/notes/boot-validate-6b4b6b40c8e27273.yaml', 'ironic/drivers/modules/redfish/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0500fe1072be3e5061da59781ff3a19a9caccb36', 'message': ""Avoid unnecessary validation in boot interfaces\n\nInterfaces should only validate values they're going to use. Boot\ninterfaces do not care about image properties when local boot is used\n(which is the default), so they shouldn't validate them. The deploy\ninterface has to provide validation for images.\n\nThis change fixes PXE, iPXE and redfish-virtual-media, although other\nboot interfaces may need a similar change. We also need to refactor\nhandling instance_info in deploy_utils, but that can wait until the\niSCSI deploy removal.\n\nAlso refactor unit tests for redfish-virtual-media.\n\nStory: #2008874\nTask: #42418\nChange-Id: Ida21f21d6435c0d7fa46cb5b1161f034ad8956ee\n(cherry picked from commit e6bb99cd8ff94a24c3f2108e649c7ca39189d220)\n""}]",0,790441,0500fe1072be3e5061da59781ff3a19a9caccb36,11,3,1,10239,,,0,"Avoid unnecessary validation in boot interfaces

Interfaces should only validate values they're going to use. Boot
interfaces do not care about image properties when local boot is used
(which is the default), so they shouldn't validate them. The deploy
interface has to provide validation for images.

This change fixes PXE, iPXE and redfish-virtual-media, although other
boot interfaces may need a similar change. We also need to refactor
handling instance_info in deploy_utils, but that can wait until the
iSCSI deploy removal.

Also refactor unit tests for redfish-virtual-media.

Story: #2008874
Task: #42418
Change-Id: Ida21f21d6435c0d7fa46cb5b1161f034ad8956ee
(cherry picked from commit e6bb99cd8ff94a24c3f2108e649c7ca39189d220)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/41/790441/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'releasenotes/notes/boot-validate-6b4b6b40c8e27273.yaml', 'ironic/drivers/modules/redfish/boot.py']",6,0500fe1072be3e5061da59781ff3a19a9caccb36,boot-validate-stable/wallaby, # NOTE(dtantsur): if we're are writing an image with local boot # the boot interface does not care about image parameters and # must not validate them. if (not task.driver.storage.should_write_image(task) or deploy_utils.get_boot_option(node) == 'local'): return self._validate_instance_info(task), if task.driver.storage.should_write_image(task): self._validate_instance_info(task),91,103
openstack%2Fpuppet-rally~master~Idaef3d0ecd6a25f6b50fd380cc5b69e7d4488940,openstack/puppet-rally,master,Idaef3d0ecd6a25f6b50fd380cc5b69e7d4488940,Add the missing 'Table of Contents',MERGED,2018-08-27 14:55:35.000000000,2021-06-07 12:39:57.000000000,2021-06-07 12:39:57.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-08-27 14:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/80e28e18afacd7f75e517beb7038bd320de56951', 'message': ""Add the missing 'Table of Contents'\n\nChange-Id: Idaef3d0ecd6a25f6b50fd380cc5b69e7d4488940\n""}, {'number': 2, 'created': '2020-12-21 15:19:57.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/9ed69d439118c4a42768f4b7d12866036adf3a22', 'message': ""Add the missing 'Table of Contents'\n\nChange-Id: Idaef3d0ecd6a25f6b50fd380cc5b69e7d4488940\n""}]",0,596786,9ed69d439118c4a42768f4b7d12866036adf3a22,16,4,2,14320,,,0,"Add the missing 'Table of Contents'

Change-Id: Idaef3d0ecd6a25f6b50fd380cc5b69e7d4488940
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/86/596786/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,80e28e18afacd7f75e517beb7038bd320de56951,,8. [Release Notes - Release notes for the project](#release-notes) 9. [Repository - The project source code repository](#repository),,2,0
openstack%2Ftripleo-quickstart-extras~master~Ia38ef3737f4d24d4f0cf705788563248e3119182,openstack/tripleo-quickstart-extras,master,Ia38ef3737f4d24d4f0cf705788563248e3119182,repo-setup should execute on the virthost,MERGED,2021-05-27 16:06:04.000000000,2021-06-07 12:38:08.000000000,2021-06-07 12:38:08.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-27 16:06:04.000000000', 'files': ['playbooks/baremetal-prep-virthost.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/96b0405bd9a7f813b6b5b223f0c8327f674feb2f', 'message': 'repo-setup should execute on the virthost\n\nThe virthost in baremetal environments are\nnot refreshing the repos etc, and should be\n\nChange-Id: Ia38ef3737f4d24d4f0cf705788563248e3119182\n'}]",1,793466,96b0405bd9a7f813b6b5b223f0c8327f674feb2f,15,4,1,9592,,,0,"repo-setup should execute on the virthost

The virthost in baremetal environments are
not refreshing the repos etc, and should be

Change-Id: Ia38ef3737f4d24d4f0cf705788563248e3119182
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/66/793466/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/baremetal-prep-virthost.yml'],1,96b0405bd9a7f813b6b5b223f0c8327f674feb2f,,- name: setup yum repos on virthost hosts: virthost gather_facts: true roles: - repo-setup tags: - provision ,,8,0
openstack%2Ftripleo-quickstart-extras~master~Ia515a1523a38a2d634d9520a9d9453218b9c38e1,openstack/tripleo-quickstart-extras,master,Ia515a1523a38a2d634d9520a9d9453218b9c38e1,Update public subnet allocation pool,MERGED,2021-06-02 08:49:49.000000000,2021-06-07 12:37:41.000000000,2021-06-07 12:37:41.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-02 08:49:49.000000000', 'files': ['playbooks/tasks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/52e5da0b8f2dbf812a21011cf619bc8df2413ef9', 'message': 'Update public subnet allocation pool\n\nPreviously allocation pool was starting with tempest_cidr.100\nand ended with tempest_cidr.150 IP addresses.\nIn some jobs it overlapped with the IPs used for\nRedisVirtualFixedIPs (192.168.24.101) and\nOVNDBsVirtualFixedIPs (192.168.24.102)\n\nIn such case, when e.g. 192.168.24.102 was used in tempest test as FIP,\ntest was failing due to paramiko.ssh_exception.BadHostKeyException\nraised as on the ~/.ssh/known_hosts in the undercloud there was already\nkey for host with IP 192.168.24.102.\n\nThose RedisVirtualFixedIPs and OVNDBsVirtualFixedIPs were added in\ncommit [1].\nThis patch changes allocation pool used in tempest to be\ntempest_cidr.150 - tempest_cidr.200 to avoid that overlap.\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/777106\n\nCloses-Bug: #1928933\nChange-Id: Ia515a1523a38a2d634d9520a9d9453218b9c38e1\n'}]",0,794164,52e5da0b8f2dbf812a21011cf619bc8df2413ef9,15,8,1,11975,,,0,"Update public subnet allocation pool

Previously allocation pool was starting with tempest_cidr.100
and ended with tempest_cidr.150 IP addresses.
In some jobs it overlapped with the IPs used for
RedisVirtualFixedIPs (192.168.24.101) and
OVNDBsVirtualFixedIPs (192.168.24.102)

In such case, when e.g. 192.168.24.102 was used in tempest test as FIP,
test was failing due to paramiko.ssh_exception.BadHostKeyException
raised as on the ~/.ssh/known_hosts in the undercloud there was already
key for host with IP 192.168.24.102.

Those RedisVirtualFixedIPs and OVNDBsVirtualFixedIPs were added in
commit [1].
This patch changes allocation pool used in tempest to be
tempest_cidr.150 - tempest_cidr.200 to avoid that overlap.

[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/777106

Closes-Bug: #1928933
Change-Id: Ia515a1523a38a2d634d9520a9d9453218b9c38e1
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/64/794164/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tasks/tempest.yml'],1,52e5da0b8f2dbf812a21011cf619bc8df2413ef9,bug/1928933," tempest_public_subnet_allocation_pools: '{{ tempest_cidr|nthhost(150) ~ ""-"" ~ tempest_cidr|nthhost(200) }}'"," tempest_public_subnet_allocation_pools: '{{ tempest_cidr|nthhost(100) ~ ""-"" ~ tempest_cidr|nthhost(150) }}'",1,1
openstack%2Fneutron~stable%2Fussuri~I9c54a268fc4ef9705637556ecba161bd6523a047,openstack/neutron,stable/ussuri,I9c54a268fc4ef9705637556ecba161bd6523a047,Use local and ip address to create vxlan interface,MERGED,2021-06-02 13:59:30.000000000,2021-06-07 12:34:09.000000000,2021-06-07 12:31:18.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 13:59:30.000000000', 'files': ['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4237d1993e670357cf38e775aa37ce09b947fc13', 'message': 'Use local and ip address to create vxlan interface\n\nAttempting to terminate a vxlan on the lo interface with\nmultiple ip addresses fails. This seems to be because only\nthe first ip address on the interface is used. If this address\nis invalid for vxlan creation (ie. 127.0.0.1), the vxlan\ninterface will be created, but will not have a source ip\naddress, and will therefore be non-functional. To remedy this\nissue, when L2population is used, we can set the local\nargument to the local_ip, thus ensuring the intended ip\naddress is configured.\n\nCloses-Bug: 1929998\nChange-Id: I9c54a268fc4ef9705637556ecba161bd6523a047\nSigned-off-by: Anthony Timmins <atimmins@datto.com>\n(cherry picked from commit 4cd11f4dee494c5851318410c523dfcfbce4c824)\n'}]",0,794229,4237d1993e670357cf38e775aa37ce09b947fc13,9,3,1,33525,,,0,"Use local and ip address to create vxlan interface

Attempting to terminate a vxlan on the lo interface with
multiple ip addresses fails. This seems to be because only
the first ip address on the interface is used. If this address
is invalid for vxlan creation (ie. 127.0.0.1), the vxlan
interface will be created, but will not have a source ip
address, and will therefore be non-functional. To remedy this
issue, when L2population is used, we can set the local
argument to the local_ip, thus ensuring the intended ip
address is configured.

Closes-Bug: 1929998
Change-Id: I9c54a268fc4ef9705637556ecba161bd6523a047
Signed-off-by: Anthony Timmins <atimmins@datto.com>
(cherry picked from commit 4cd11f4dee494c5851318410c523dfcfbce4c824)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/794229/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py']",2,4237d1993e670357cf38e775aa37ce09b947fc13,bug/1929998," local=self.lbm.local_ip,",,5,0
openstack%2Ftripleo-validations~master~I219f4054e6b854306719b9c91a0738c526f07666,openstack/tripleo-validations,master,I219f4054e6b854306719b9c91a0738c526f07666,Introduce new Ansible validation_init role.,MERGED,2021-05-18 13:55:45.000000000,2021-06-07 12:31:53.000000000,2021-06-07 12:29:23.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-18 13:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/696e2db692ca0aaa01af0ece7b598feea38e4587', 'message': 'WIP role-addition refactoring\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n'}, {'number': 2, 'created': '2021-05-18 14:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5b0ef54f6588ab82376f9fe7a351ba812762e0a3', 'message': 'WIP role-addition refactoring\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n'}, {'number': 3, 'created': '2021-05-19 10:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7381d5e8b2705ee5d798d60859ad094121c48544', 'message': ""Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won't change and it will be\nfully transparent for the user.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n""}, {'number': 4, 'created': '2021-05-19 11:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/302b2455bf166f2f99f21267ab20068e9bae5e11', 'message': ""Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won't change and it will be\nfully transparent for the user.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n""}, {'number': 5, 'created': '2021-05-26 21:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/13ba7e5868c4448322f97e4c403d0a3748e137cf', 'message': ""Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won't change and it will be\nfully transparent for the user.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n""}, {'number': 6, 'created': '2021-05-27 08:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a6d694414776bd6cb62f811cc217b005da41828e', 'message': ""Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won't change and it will be\nfully transparent for the user.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n""}, {'number': 7, 'created': '2021-05-27 09:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fe7f302b57136c10b956971d57c44b000b85d451', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n'}, {'number': 8, 'created': '2021-05-27 10:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b12c9786b8a4e0f8cd762f151f93ec66242c00b5', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n'}, {'number': 9, 'created': '2021-05-27 14:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e5f35336b05f3cdeb7e47791da939e44f76e6fcc', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n'}, {'number': 10, 'created': '2021-05-28 13:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/361a8d1e83d6abcdde18f50c1d14b00ee6134f18', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n'}, {'number': 11, 'created': '2021-05-31 12:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/16c4fb62e54d1a66458cd4bad27e978c2ae127ce', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n'}, {'number': 12, 'created': '2021-06-01 08:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9050e0d4c174bbe21bccbd81f400dc304449addc', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n'}, {'number': 13, 'created': '2021-06-02 09:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/26338249c63609295b00ab713d88928d7f3fe8db', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n'}, {'number': 14, 'created': '2021-06-02 10:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9ea13e2b5aa7526345cb0a3453acd874f0e75eb8', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n'}, {'number': 15, 'created': '2021-06-04 09:19:27.000000000', 'files': ['roles/validation_init/files/_skeleton_role_/tasks/main.yml.j2', 'roles/validation_init/files/_skeleton_role_/handlers/main.yml', 'roles/validation_init/files/_skeleton_role_/vars/main.yml.j2', 'roles/validation_init/molecule/default/prepare.yml', 'roles/validation_init/templates/README.md.j2', 'roles/validation_init/molecule/default/converge.yml', 'roles/validation_init/defaults/main.yml', 'roles/validation_init/tasks/main.yml', 'doc/source/contributing/developer_guide.rst', 'doc/source/roles/role-validation_init.rst', 'roles/validation_init/files/_skeleton_role_/defaults/main.yml.j2', 'zuul.d/molecule.yaml', 'roles/validation_init/files/_skeleton_role_/molecule/default/converge.yml.j2', 'roles/validation_init/README.md', 'role-addition.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/prepare.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/verify.yml', 'roles/validation_init/molecule/default/molecule.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/molecule.yml', '.config/molecule/config.yml', 'roles/validation_init/molecule/default/verify.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/83ba5e32fdf617d2669b5ed83517729b470a7cd5', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n'}]",4,791977,83ba5e32fdf617d2669b5ed83517729b470a7cd5,66,8,15,11491,,,0,"Introduce new Ansible validation_init role.

This patch migrates the new role addition playbook into a proper Ansible
role with proper molecule tests. This new role will be responsible for
creating a new validation.

It is good to mention that the process won't change and it will be
fully transparent for the user.

To create a new role in tripleo-validations:

$ cd tripleo-validations/
$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""
$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I219f4054e6b854306719b9c91a0738c526f07666
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/77/791977/13 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validation_init/files/skeleton_role/molecule/default/converge.yml.j2', 'roles/validation_init/files/skeleton_role/molecule/default/molecule.yml', 'roles/validation_init/molecule/default/prepare.yml', 'roles/validation_init/molecule/default/converge.yml', 'roles/validation_init/defaults/main.yml', 'roles/validation_init/files/skeleton_role/defaults/main.yml.j2', 'roles/validation_init/tasks/main.yml', 'doc/source/roles/role-validation_init.rst', 'roles/validation_init/files/skeleton_role/vars/main.yml.j2', 'zuul.d/molecule.yaml', 'roles/validation_init/files/skeleton_role/handlers/main.yml', 'role-addition.yml', 'roles/validation_init/molecule/default/molecule.yml', 'roles/validation_init/files/skeleton_role/tasks/main.yml.j2', 'roles/validation_init/molecule/default/verify.yml']",15,696e2db692ca0aaa01af0ece7b598feea38e4587,VALIDATION_DEVELOPMENT_WORKFLOW,"--- # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Verify hosts: all gather_facts: false vars: new_role_path: ""/tmp/roles/tripleo_skeleton_test"" new_zmol_path: ""/tmp/zuul.d/molecule.yaml"" new_play_path: ""/tmp/playbooks/tripleo-skeleton-test.yaml"" new_role_doc: ""/tmp/doc/source/roles/role-tripleo_skeleton_test.rst"" tasks: - name: Check new role directory is present stat: path: ""{{ new_role_path }}"" register: roles_name_dir - assert: that: - roles_name_dir.stat.exists - roles_name_dir.stat.isdir fail_msg: | {{ new_role_path }} role directory doesn't exist. success_msg: | {{ new_role_path }} role directory does exist. - name: Read zuul molecule file slurp: src: ""{{ new_zmol_path }}"" register: molecule_yaml - name: Print returned information debug: msg: ""{{ molecule_yaml['content'] | b64decode }}"" - name: Check zuul molecule file content (gate/check definition) lineinfile: path: ""{{ new_zmol_path }}"" regexp: '^.*- tripleo-validations-centos-8-molecule-skeleton' insertbefore: '^.*name: tripleo-validations-molecule-tripleo_undercloud_conf' line: ' - tripleo-validations-centos-8-molecule-skeleton_test' state: present check_mode: true register: zuul_def failed_when: (zuul_def is changed) or (zuul_def is failed) - name: Check zuul molecule file content (job definition) lineinfile: path: ""{{ new_zmol_path }}"" regexp: '^.*name: tripleo-validations-centos-8-molecule-skeleton' insertbefore: '^.*parent: tripleo-validations-centos-8-base$' line: ' name: tripleo-validations-centos-8-molecule-skeleton_test' state: present check_mode: true register: zuul_job_def failed_when: (zuul_job_def is changed) or (zuul_job_def is failed) - name: Check new validation playbook is present stat: path: ""{{ new_play_path }}"" register: play_name_path - assert: that: - play_name_path.stat.exists - play_name_path.stat.isreg fail_msg: | {{ new_play_path }} playbook doesn't exist. success_msg: | {{ new_play_path }} playbook directory does exist. - name: Read new playbook file slurp: src: ""{{ new_play_path }}"" register: playbook_yaml - name: Check playbook content for new role lineinfile: path: ""{{ new_play_path }}"" regexp: '.*- tripleo_skeleton: ' insertafter: '^.*roles:$' line: ' - tripleo_skeleton_test' state: present check_mode: true register: include_role failed_when: (include_role is changed) or (include_role is failed) - name: Print returned information debug: msg: ""{{ playbook_yaml['content'] | b64decode }}"" - name: Check new role doc is present stat: path: ""{{ new_role_doc }}"" register: role_doc_file - assert: that: - role_doc_file.stat.exists - role_doc_file.stat.isreg fail_msg: | {{ new_role_doc }} playbook doesn't exist. success_msg: | {{ new_role_doc }} playbook directory does exist. - name: Read new role documentation file slurp: src: ""{{ new_role_doc }}"" register: doc_file - name: Print returned information debug: msg: ""{{ doc_file['content'] | b64decode }}"" - name: Check role documentation content lineinfile: path: ""{{ new_role_doc }}"" regexp: '.*:role: ' insertafter: '^\.\. ansibleautoplugin::$' line: ' :role: /tmp/roles/tripleo_skeleton_test' state: present check_mode: true register: doc failed_when: (doc is changed) or (doc is failed) ",,474,144
openstack%2Ftripleo-ansible~stable%2Fwallaby~I780103e17f1bb42a0546c30bd6c001c642ad88b3,openstack/tripleo-ansible,stable/wallaby,I780103e17f1bb42a0546c30bd6c001c642ad88b3,Add podman's events_logger option by default set to journald,MERGED,2021-06-06 07:51:46.000000000,2021-06-07 12:29:27.000000000,2021-06-07 12:29:27.000000000,"[{'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-06 07:51:46.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/79be78bba35199c5b26632e51d8bda411a8239c5', 'message': 'Add podman\'s events_logger option by default set to journald\n\nBy default podman 3.0.x sets the [engine]/events_logger to ""file"".\nThis causes every exec in podman to create a line of text in\n/run/libpod/events/events.log like the following:\n\n  {""ID"":""412b6770c0b418e6d49a4801e71a198ddb81bbbefdaf1c9aad4d7948f77910ee"",""Image"":""quay.io/centos/centos:latest"",""Name"":""leak-test-7"",""Status"":""exec"",""Time"":""2021-06-03T08:36:05.237964012Z"",""Type"":""container"",""Attributes"":{""org.label-schema.build-date"":""20201204"",""org.label-schema.license"":""GPLv2"",""org.label-schema.name"":""CentOS Base Image"",""org.label-schema.schema-version"":""1.0"",""org.label-schema.vendor"":""CentOS""}}\n\nSince by default /run is mounted on tmpfs, this has the side-effect of\nincreasing kernel slab objects over time indefinitely eventually causing\nan OOM of the box.\n\nWe initially wanted to switch to the \'none\' backend, but the podman\nfolks recommended using the journald backend because events logs are\nused by podman in case of a rare race when running ""podman run --rm"".\nGiven that we call run with --rm from in a multithreaded fashion this\nseems to be the safest approach. The drawback of using journald is\nthat events won\'t be logged for rootless containers unless the user\nis part of the \'wheel\' group. We believe we\'re not using those\ncontainers in tripleo anyways, so this should be safe.\n\nTested by applying a backport of this patch to Train + podman 3.0.x and\ngot the following:\n[root@controller-0 containers]# ls -la /run/libpod/events/\ntotal 0\ndrwx------. 2 root root  40 Jun  3 11:55 .\ndrwxr-x--x. 5 root root 140 Jun  3 11:55 ..\n\n[root@controller-0 containers]# more /etc/containers/containers.conf\n[containers]\npids_limit = 4096\n[engine]\nevents_logger = ""journald""\n\nAlso tested the override via the corresponding THT change in\nIeffe2852111c3ec8347343a042dd78bbf691d79a.\n\nCloses-Bug: #1923607\n\nChange-Id: I780103e17f1bb42a0546c30bd6c001c642ad88b3\n(cherry picked from commit f31bab878bfd3332c20a10bf9ca26d443028d214)\n'}]",0,794948,79be78bba35199c5b26632e51d8bda411a8239c5,8,3,1,20172,,,0,"Add podman's events_logger option by default set to journald

By default podman 3.0.x sets the [engine]/events_logger to ""file"".
This causes every exec in podman to create a line of text in
/run/libpod/events/events.log like the following:

  {""ID"":""412b6770c0b418e6d49a4801e71a198ddb81bbbefdaf1c9aad4d7948f77910ee"",""Image"":""quay.io/centos/centos:latest"",""Name"":""leak-test-7"",""Status"":""exec"",""Time"":""2021-06-03T08:36:05.237964012Z"",""Type"":""container"",""Attributes"":{""org.label-schema.build-date"":""20201204"",""org.label-schema.license"":""GPLv2"",""org.label-schema.name"":""CentOS Base Image"",""org.label-schema.schema-version"":""1.0"",""org.label-schema.vendor"":""CentOS""}}

Since by default /run is mounted on tmpfs, this has the side-effect of
increasing kernel slab objects over time indefinitely eventually causing
an OOM of the box.

We initially wanted to switch to the 'none' backend, but the podman
folks recommended using the journald backend because events logs are
used by podman in case of a rare race when running ""podman run --rm"".
Given that we call run with --rm from in a multithreaded fashion this
seems to be the safest approach. The drawback of using journald is
that events won't be logged for rootless containers unless the user
is part of the 'wheel' group. We believe we're not using those
containers in tripleo anyways, so this should be safe.

Tested by applying a backport of this patch to Train + podman 3.0.x and
got the following:
[root@controller-0 containers]# ls -la /run/libpod/events/
total 0
drwx------. 2 root root  40 Jun  3 11:55 .
drwxr-x--x. 5 root root 140 Jun  3 11:55 ..

[root@controller-0 containers]# more /etc/containers/containers.conf
[containers]
pids_limit = 4096
[engine]
events_logger = ""journald""

Also tested the override via the corresponding THT change in
Ieffe2852111c3ec8347343a042dd78bbf691d79a.

Closes-Bug: #1923607

Change-Id: I780103e17f1bb42a0546c30bd6c001c642ad88b3
(cherry picked from commit f31bab878bfd3332c20a10bf9ca26d443028d214)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/794948/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml']",2,79be78bba35199c5b26632e51d8bda411a8239c5,events-logger-stable/wallaby," section: ""{{ item.section }}"" option: ""{{ item.option }}"" value: ""{{ item.value }}"" loop: - section: containers option: pids_limit value: ""{{ tripleo_container_default_pids_limit }}"" - section: engine option: events_logger value: ""\""{{ tripleo_container_events_logger_mechanism }}\"""""," section: containers option: pids_limit value: ""{{ tripleo_container_default_pids_limit }}""",11,3
openstack%2Fmasakari~master~Ib22bbae26494ca6b7e4f81c36aa3afcc6be7e3c8,openstack/masakari,master,Ib22bbae26494ca6b7e4f81c36aa3afcc6be7e3c8,[CI] Clear an overridden param,MERGED,2021-06-07 11:56:42.000000000,2021-06-07 12:22:16.000000000,2021-06-07 12:19:56.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-07 11:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/193b8ca8d05a7875a86863118b56397a9200d106', 'message': ""[CI] Cleanup of an overridden param\n\nThe default is fine. It's ``true`` already.\n\nChange-Id: Ib22bbae26494ca6b7e4f81c36aa3afcc6be7e3c8\n""}, {'number': 2, 'created': '2021-06-07 11:59:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/1ed2b1fc3e77fbe0011a0c6dc9370a57862a0afc', 'message': ""[CI] Clear an overridden param\n\nThe default is fine. It's ``true`` already.\n\nChange-Id: Ib22bbae26494ca6b7e4f81c36aa3afcc6be7e3c8\n""}]",0,795088,1ed2b1fc3e77fbe0011a0c6dc9370a57862a0afc,9,2,2,30491,,,0,"[CI] Clear an overridden param

The default is fine. It's ``true`` already.

Change-Id: Ib22bbae26494ca6b7e4f81c36aa3afcc6be7e3c8
",git fetch https://review.opendev.org/openstack/masakari refs/changes/88/795088/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,193b8ca8d05a7875a86863118b56397a9200d106,ci-cleanup, - masakari-functional-devstack-multinode, - masakari-functional-devstack-multinode: voting: true,1,2
openstack%2Freleases~master~I7d1082a517e7b74c28ece8a54c7cc42268144321,openstack/releases,master,I7d1082a517e7b74c28ece8a54c7cc42268144321,Releases for Train: keystone 16.0.2 and keystoneauth 3.17.4,MERGED,2021-06-04 13:36:43.000000000,2021-06-07 12:20:43.000000000,2021-06-07 12:20:43.000000000,"[{'_account_id': 308}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-04 13:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a36fa67b9eea15c2fc7ea58c265663211cc69083', 'message': 'Releases for Train: keystone 16.0.2 and keystoneauth 3.17.4\n\nPossibly the last releases for keystone for Train.\n\nChange-Id: I7d1082a517e7b74c28ece8a54c7cc42268144321\n'}, {'number': 2, 'created': '2021-06-04 20:27:44.000000000', 'files': ['deliverables/train/keystoneauth.yaml', 'deliverables/train/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/887b6772d7687453c5b8795045d5fd788e32de38', 'message': 'Releases for Train: keystone 16.0.2 and keystoneauth 3.17.4\n\nPossibly the last releases for keystone for Train.\n\nChange-Id: I7d1082a517e7b74c28ece8a54c7cc42268144321\n'}]",1,794810,887b6772d7687453c5b8795045d5fd788e32de38,13,4,2,16465,,,0,"Releases for Train: keystone 16.0.2 and keystoneauth 3.17.4

Possibly the last releases for keystone for Train.

Change-Id: I7d1082a517e7b74c28ece8a54c7cc42268144321
",git fetch https://review.opendev.org/openstack/releases refs/changes/10/794810/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/keystoneauth.yaml', 'deliverables/train/keystone.yaml']",2,a36fa67b9eea15c2fc7ea58c265663211cc69083,keystone-train-releases, - version: 16.0.2 projects: - repo: openstack/keystone hash: d0a91b0b9f82f5b3a1b699b70dc76d551769816b,,8,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I1c4436072c2d47a95625e64b731edb473384b395,openstack/kolla-ansible,stable/wallaby,I1c4436072c2d47a95625e64b731edb473384b395,chrony: allow to remove the container,MERGED,2021-06-07 09:05:11.000000000,2021-06-07 11:41:13.000000000,2021-06-07 11:39:09.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-07 09:05:11.000000000', 'files': ['ansible/roles/chrony/tasks/cleanup.yml', 'ansible/roles/prechecks/defaults/main.yml', 'ansible/roles/prechecks/tasks/timesync_checks.yml', 'ansible/chrony-cleanup.yml', 'tests/pre.yml', 'tests/templates/globals-default.j2', 'releasenotes/notes/deprecate-chrony-077a8686e79a919e.yaml', 'tools/kolla-ansible', 'tests/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/94e115e15210666d70e0f2e8a25c6bf4611b6c08', 'message': 'chrony: allow to remove the container\n\nThe chrony container is deprecated in Wallaby, and disabled by default.\nThis change allows to remove the container if chrony is disabled.\n\nChange-Id: I1c4436072c2d47a95625e64b731edb473384b395\n(cherry picked from commit 84ac7b309629a5c253dd4774b75708c673374e5f)\n'}]",0,795036,94e115e15210666d70e0f2e8a25c6bf4611b6c08,9,3,1,14826,,,0,"chrony: allow to remove the container

The chrony container is deprecated in Wallaby, and disabled by default.
This change allows to remove the container if chrony is disabled.

Change-Id: I1c4436072c2d47a95625e64b731edb473384b395
(cherry picked from commit 84ac7b309629a5c253dd4774b75708c673374e5f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/795036/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/chrony/tasks/cleanup.yml', 'ansible/roles/prechecks/defaults/main.yml', 'ansible/roles/prechecks/tasks/timesync_checks.yml', 'ansible/chrony-cleanup.yml', 'tests/pre.yml', 'tests/templates/globals-default.j2', 'releasenotes/notes/deprecate-chrony-077a8686e79a919e.yaml', 'tools/kolla-ansible', 'tests/upgrade.sh']",9,94e115e15210666d70e0f2e8a25c6bf4611b6c08,," # TODO(mgoddard): Remove this block in the Y cycle after chrony has been # dropped for a cycle. # NOTE(mgoddard): Remove the chrony container and install a host chrony # daemon. kolla-ansible -i ${RAW_INVENTORY} -vvv chrony-cleanup &> /tmp/logs/ansible/chrony-cleanup if [[ $(source /etc/os-release && echo $ID) = ""centos"" ]]; then chrony_service=""chronyd"" else chrony_service=""chrony"" fi ansible all -i $RAW_INVENTORY -m package -a 'name=chrony state=present' -b &> /tmp/logs/ansible/chrony-install ansible all -i $RAW_INVENTORY -m service -a 'name='$chrony_service' state=started enabled=yes' -b &>> /tmp/logs/ansible/chrony-install ",,158,17
openstack%2Fneutron~stable%2Fwallaby~Ic53f44ceb82c86ca72565ceda75a251339d5cc4e,openstack/neutron,stable/wallaby,Ic53f44ceb82c86ca72565ceda75a251339d5cc4e,Use exceptions and resources from neutron-lib,MERGED,2021-04-26 06:29:38.000000000,2021-06-07 11:39:56.000000000,2021-06-07 11:37:45.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-04-26 06:29:38.000000000', 'files': ['neutron/db/address_group_db.py', 'neutron/plugins/ml2/ovo_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/69fcf1be754b72bff8826328759d26a52e05e242', 'message': 'Use exceptions and resources from neutron-lib\n\nExceptions and resources were released in neutron-lib 2.7.0\n\nChange-Id: Ic53f44ceb82c86ca72565ceda75a251339d5cc4e\n(cherry picked from commit cd4d96a4f7c7e8430477402928f64e6ac8b657a7)\n'}]",0,787847,69fcf1be754b72bff8826328759d26a52e05e242,25,4,1,30858,,,0,"Use exceptions and resources from neutron-lib

Exceptions and resources were released in neutron-lib 2.7.0

Change-Id: Ic53f44ceb82c86ca72565ceda75a251339d5cc4e
(cherry picked from commit cd4d96a4f7c7e8430477402928f64e6ac8b657a7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/787847/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/address_group_db.py', 'neutron/plugins/ml2/ovo_rpc.py']",2,69fcf1be754b72bff8826328759d26a52e05e242,fix_todo-stable/wallaby," resources.ADDRESS_GROUP: address_group.AddressGroup,"," # TODO(mlavalle) Following line should be replaced by: # resources.ADDRESS_GROUP: address_group.AddressGroup, # when https://review.opendev.org/#/c/756927/ is released 'address_group': address_group.AddressGroup,",8,26
openstack%2Fpython-neutronclient~master~Ia68af29ea15bda7330fda1b18416798a0f4cb7a4,openstack/python-neutronclient,master,Ia68af29ea15bda7330fda1b18416798a0f4cb7a4,Set when deprecated neutron client CLI will be removed,MERGED,2021-05-27 10:22:43.000000000,2021-06-07 11:31:25.000000000,2021-06-07 11:28:54.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 10:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/644e538fb83df8b55dbe66b03f0100c1f3ef5c72', 'message': 'Set when deprecated neutron client CLI will be removed\n\n[1] was the last missing bit in OSC to have feature parity between\nOpenStack client and Neutronclient CLI tools.\nSo now as [1] is merged we can really deprecate and specify that in Z\ncycle we will remove neutronclient CLI.\nThis patch changes deprecation message to reflect that.\n\n[1] https://review.opendev.org/c/openstack/python-openstackclient/+/768210\n\nChange-Id: Ia68af29ea15bda7330fda1b18416798a0f4cb7a4\n'}, {'number': 2, 'created': '2021-05-27 12:09:32.000000000', 'files': ['doc/source/contributor/transition_to_osc.rst', 'neutronclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/76dd26f9fdd35bf922509e587e25a30927517808', 'message': 'Set when deprecated neutron client CLI will be removed\n\n[1] was the last missing bit in OSC to have feature parity between\nOpenStack client and Neutronclient CLI tools.\nSo now as [1] is merged we can really deprecate and specify that in Z\ncycle we will remove neutronclient CLI.\nThis patch changes deprecation message to reflect that.\n\n[1] https://review.opendev.org/c/openstack/python-openstackclient/+/768210\n\nChange-Id: Ia68af29ea15bda7330fda1b18416798a0f4cb7a4\n'}]",0,793366,76dd26f9fdd35bf922509e587e25a30927517808,12,4,2,11975,,,0,"Set when deprecated neutron client CLI will be removed

[1] was the last missing bit in OSC to have feature parity between
OpenStack client and Neutronclient CLI tools.
So now as [1] is merged we can really deprecate and specify that in Z
cycle we will remove neutronclient CLI.
This patch changes deprecation message to reflect that.

[1] https://review.opendev.org/c/openstack/python-openstackclient/+/768210

Change-Id: Ia68af29ea15bda7330fda1b18416798a0f4cb7a4
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/66/793366/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/transition_to_osc.rst', 'neutronclient/shell.py']",2,644e538fb83df8b55dbe66b03f0100c1f3ef5c72,neutron-osc-migration," ""in the Z cycle. Use openstack CLI instead.""), file=sys.stderr)"," ""in the future. Use openstack CLI instead.""), file=sys.stderr)",4,4
openstack%2Fkayobe~stable%2Fwallaby~I4613e8973ccaef4534e44e3c79e910de5041add0,openstack/kayobe,stable/wallaby,I4613e8973ccaef4534e44e3c79e910de5041add0,Optimise order of inspector_processing_hooks,MERGED,2021-06-04 18:33:22.000000000,2021-06-07 11:31:00.000000000,2021-06-07 11:29:37.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 18:33:22.000000000', 'files': ['ansible/group_vars/all/inspector'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9a374af8d4616d3a5c553ba70707d74e7091ef6e', 'message': 'Optimise order of inspector_processing_hooks\n\nIronic Inspector docs [1] recommend to use lldp_basic before\nlocal_link_connection.\nIt is also how TripleO applies them.\n\n[1] https://docs.openstack.org/ironic-inspector/wallaby/user/usage.html#plugins\n\nChange-Id: I4613e8973ccaef4534e44e3c79e910de5041add0\n(cherry picked from commit a52b3b27be4ddabc49c69ddd8ea2b264427d630c)\n'}]",0,794818,9a374af8d4616d3a5c553ba70707d74e7091ef6e,9,3,1,30491,,,0,"Optimise order of inspector_processing_hooks

Ironic Inspector docs [1] recommend to use lldp_basic before
local_link_connection.
It is also how TripleO applies them.

[1] https://docs.openstack.org/ironic-inspector/wallaby/user/usage.html#plugins

Change-Id: I4613e8973ccaef4534e44e3c79e910de5041add0
(cherry picked from commit a52b3b27be4ddabc49c69ddd8ea2b264427d630c)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/18/794818/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all/inspector'],1,9a374af8d4616d3a5c553ba70707d74e7091ef6e,ironic-inspector-plugins-order-stable/wallaby, - local_link_connection, - local_link_connection,1,1
openstack%2Fpython-neutronclient~master~I9e3f41a2be56c1fd5fc3aff9af8e5ff5163087bd,openstack/python-neutronclient,master,I9e3f41a2be56c1fd5fc3aff9af8e5ff5163087bd,Skip metering functional tests when metering extension is not enabled,MERGED,2021-05-27 12:09:09.000000000,2021-06-07 11:30:09.000000000,2021-06-07 11:28:45.000000000,"[{'_account_id': 841}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 12:09:09.000000000', 'files': ['neutronclient/tests/functional/core/test_readonly_neutron.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/439e290e95735dfa80b7e0fb193e45470128daec', 'message': 'Skip metering functional tests when metering extension is not enabled\n\nChange-Id: I9e3f41a2be56c1fd5fc3aff9af8e5ff5163087bd\n'}]",0,793392,439e290e95735dfa80b7e0fb193e45470128daec,8,5,1,11975,,,0,"Skip metering functional tests when metering extension is not enabled

Change-Id: I9e3f41a2be56c1fd5fc3aff9af8e5ff5163087bd
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/92/793392/1 && git format-patch -1 --stdout FETCH_HEAD,['neutronclient/tests/functional/core/test_readonly_neutron.py'],1,439e290e95735dfa80b7e0fb193e45470128daec,ovn-as-default, if not self.is_extension_enabled('metering'): self.skipTest('metering is not enabled') if not self.is_extension_enabled('metering'): self.skipTest('metering is not enabled'),,4,0
openstack%2Fcharm-glance~master~I077d6f2a11b37b23cae9328475b99dba707636c0,openstack/charm-glance,master,I077d6f2a11b37b23cae9328475b99dba707636c0,Add impish to metadata.yaml,MERGED,2021-06-03 09:12:00.000000000,2021-06-07 11:21:51.000000000,2021-06-07 11:21:51.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:12:00.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/6aed7471fc4f8b7cc313b64b6ce369a32281933d', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I077d6f2a11b37b23cae9328475b99dba707636c0\n'}]",0,794498,6aed7471fc4f8b7cc313b64b6ce369a32281933d,9,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I077d6f2a11b37b23cae9328475b99dba707636c0
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/98/794498/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,6aed7471fc4f8b7cc313b64b6ce369a32281933d,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-barbican-softhsm~master~If19bee71e83b0bfbc22e629fa2e8b94e6de32a17,openstack/charm-barbican-softhsm,master,If19bee71e83b0bfbc22e629fa2e8b94e6de32a17,Add impish to metadata.yaml,MERGED,2021-06-03 09:02:53.000000000,2021-06-07 11:21:17.000000000,2021-06-07 11:21:17.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:02:53.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/8c6f2d189d0367aeea80d04c9c2e50463092bbd3', 'message': 'Add impish to metadata.yaml\n\nChange-Id: If19bee71e83b0bfbc22e629fa2e8b94e6de32a17\n'}]",0,794476,8c6f2d189d0367aeea80d04c9c2e50463092bbd3,6,2,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: If19bee71e83b0bfbc22e629fa2e8b94e6de32a17
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/76/794476/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,8c6f2d189d0367aeea80d04c9c2e50463092bbd3,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-ceph-iscsi~master~I5d36922ca668e9a160b3bdbbb213cf9a3a87f2c3,openstack/charm-ceph-iscsi,master,I5d36922ca668e9a160b3bdbbb213cf9a3a87f2c3,Add impish to metadata.yaml,MERGED,2021-06-03 09:07:28.000000000,2021-06-07 11:19:58.000000000,2021-06-07 11:19:58.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:07:28.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/1775d292cda6e788c240a9834cbe4279798858bf', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I5d36922ca668e9a160b3bdbbb213cf9a3a87f2c3\n'}]",0,794483,1775d292cda6e788c240a9834cbe4279798858bf,6,2,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I5d36922ca668e9a160b3bdbbb213cf9a3a87f2c3
",git fetch https://review.opendev.org/openstack/charm-ceph-iscsi refs/changes/83/794483/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,1775d292cda6e788c240a9834cbe4279798858bf,charm-metadata-impish, - hirsute - impish,,2,0
openstack%2Fcharm-designate-bind~master~I7d926cc09629b93dc92a50f809699fd0afafbc53,openstack/charm-designate-bind,master,I7d926cc09629b93dc92a50f809699fd0afafbc53,Add impish to metadata.yaml,MERGED,2021-06-03 09:11:40.000000000,2021-06-07 11:19:20.000000000,2021-06-07 11:19:20.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:11:40.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/2f62f331c2bbb9e7120db4986c74d38814367bf9', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I7d926cc09629b93dc92a50f809699fd0afafbc53\n'}]",0,794497,2f62f331c2bbb9e7120db4986c74d38814367bf9,9,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I7d926cc09629b93dc92a50f809699fd0afafbc53
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/97/794497/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,2f62f331c2bbb9e7120db4986c74d38814367bf9,charm-metadata-impish,- impish,,1,0
