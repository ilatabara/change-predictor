id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fneutron-dynamic-routing~master~Id3ddadc141a9466bec7cf87f9ae651afa80ffcc0,openstack/neutron-dynamic-routing,master,Id3ddadc141a9466bec7cf87f9ae651afa80ffcc0,Bump neutron-lib to 1.26.0,MERGED,2019-02-12 23:02:49.000000000,2019-05-08 13:57:06.000000000,2019-05-08 13:57:06.000000000,"[{'_account_id': 4187}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-12 23:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/c4ffbb551ba470476a2470e2782528df1f57a6e8', 'message': 'Bump neutron-lib to 1.23.0\n\nThis change bumps neutron-lib to 1.23.0.\n\nChange-Id: Id3ddadc141a9466bec7cf87f9ae651afa80ffcc0\n'}, {'number': 2, 'created': '2019-02-14 02:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/47bd41ad377338f9b3a8bb05845f5f4a326ffddd', 'message': 'Bump neutron-lib to 1.24.0\n\nThis change bumps neutron-lib to 1.24.0.\n\nChange-Id: Id3ddadc141a9466bec7cf87f9ae651afa80ffcc0\n'}, {'number': 3, 'created': '2019-05-06 17:28:22.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/8082c2733562def45ef3d1c37314d09c1d5ab2c7', 'message': 'Bump neutron-lib to 1.26.0\n\nThis change bumps neutron-lib to 1.26.0.\n\nChange-Id: Id3ddadc141a9466bec7cf87f9ae651afa80ffcc0\n'}]",0,636465,8082c2733562def45ef3d1c37314d09c1d5ab2c7,17,4,3,4187,,,0,"Bump neutron-lib to 1.26.0

This change bumps neutron-lib to 1.26.0.

Change-Id: Id3ddadc141a9466bec7cf87f9ae651afa80ffcc0
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/65/636465/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,c4ffbb551ba470476a2470e2782528df1f57a6e8,,neutron-lib==1.23.0,neutron-lib==1.21.0,2,2
openstack%2Foctavia-tempest-plugin~master~I6407b17a389f9687b7d3875b19c985196e2b485b,openstack/octavia-tempest-plugin,master,I6407b17a389f9687b7d3875b19c985196e2b485b,Add TLS Barbican jobs against stable branches,MERGED,2019-05-03 17:31:45.000000000,2019-05-08 13:52:25.000000000,2019-05-08 13:52:25.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 17:31:45.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/564facfe7f3bed5e5761f3572efba7a3484dd2aa', 'message': 'Add TLS Barbican jobs against stable branches\n\nNow not having octavia-lib as a requirement in the TLS Barbican tempest\nscenario, the scenario can be tested against stable branches. This patch\nadds jobs to run all the way back to stable/queens.\n\nChange-Id: I6407b17a389f9687b7d3875b19c985196e2b485b\n'}]",0,656989,564facfe7f3bed5e5761f3572efba7a3484dd2aa,21,4,1,6469,,,0,"Add TLS Barbican jobs against stable branches

Now not having octavia-lib as a requirement in the TLS Barbican tempest
scenario, the scenario can be tested against stable branches. This patch
adds jobs to run all the way back to stable/queens.

Change-Id: I6407b17a389f9687b7d3875b19c985196e2b485b
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/89/656989/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,564facfe7f3bed5e5761f3572efba7a3484dd2aa,656845,- job: name: octavia-v2-dsvm-tls-barbican-stable-stein parent: octavia-v2-dsvm-tls-barbican override-checkout: stable/stein - job: name: octavia-v2-dsvm-tls-barbican-stable-rocky parent: octavia-v2-dsvm-tls-barbican override-checkout: stable/rocky - job: name: octavia-v2-dsvm-tls-barbican-stable-queens parent: octavia-v2-dsvm-tls-barbican override-checkout: stable/queens ,,21,0
openstack%2Fneutron-dynamic-routing~master~I0666cd7a038a5c319f0009f1d296970cd2624b16,openstack/neutron-dynamic-routing,master,I0666cd7a038a5c319f0009f1d296970cd2624b16,Updated from global requirements,MERGED,2018-03-26 08:12:33.000000000,2019-05-08 13:49:49.000000000,2019-05-08 13:49:48.000000000,"[{'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-03-26 08:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/860b1a619a14a13242d96c30665e74fd469b5d5d', 'message': 'Updated from global requirements\n\nChange-Id: I0666cd7a038a5c319f0009f1d296970cd2624b16\n'}, {'number': 2, 'created': '2018-04-13 12:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/b4e7883f05084ce6b430faed18218e0010a312c8', 'message': 'Updated from global requirements\n\nChange-Id: I0666cd7a038a5c319f0009f1d296970cd2624b16\n'}, {'number': 3, 'created': '2018-04-16 08:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/2f47bbfca82c5a2a173d0d860a78684b4274f7ff', 'message': 'Updated from global requirements\n\nChange-Id: I0666cd7a038a5c319f0009f1d296970cd2624b16\n'}, {'number': 4, 'created': '2018-04-19 10:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/a582bc64c7b91bce23a86a99d4299d0bd5cbb464', 'message': 'Updated from global requirements\n\nChange-Id: I0666cd7a038a5c319f0009f1d296970cd2624b16\n'}, {'number': 5, 'created': '2019-05-08 05:13:57.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ae63222106f8bbba0f97b6ce292ffb386f1b6ad4', 'message': 'Updated from global requirements\n\nChange-Id: I0666cd7a038a5c319f0009f1d296970cd2624b16\n'}]",0,556414,ae63222106f8bbba0f97b6ce292ffb386f1b6ad4,22,6,5,11131,,,0,"Updated from global requirements

Change-Id: I0666cd7a038a5c319f0009f1d296970cd2624b16
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/14/556414/5 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,860b1a619a14a13242d96c30665e74fd469b5d5d,openstack/requirements,oslo.concurrency>=3.26.0 # Apache-2.0,oslo.concurrency>=3.25.0 # Apache-2.0,1,1
openstack%2Fnova~master~I719c222a5fa3d654e7397f126a1338e653b7bbcc,openstack/nova,master,I719c222a5fa3d654e7397f126a1338e653b7bbcc,Fix SynchronousThreadPoolExecutorFixture mock of Future,MERGED,2019-04-05 01:34:10.000000000,2019-05-08 13:31:49.000000000,2019-05-08 13:31:49.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-05 01:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3cc6768536fb22ca3ca36eeafcaffb07ae437c5f', 'message': ""Fix SynchronousThreadPoolExecutorFixture mock spec\n\nThe fixture's mock spec was not working because the spec needs to be a\nclass or an instance, not a string. This changes the string to a class\nand adds test coverage.\n\nCloses-Bug: #1823278\n\nChange-Id: I719c222a5fa3d654e7397f126a1338e653b7bbcc\n""}, {'number': 2, 'created': '2019-04-05 03:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab0076934ea4a76ad07d8080ce7f6bff2fafb73b', 'message': ""Fix SynchronousThreadPoolExecutorFixture mock spec\n\nThe fixture's mock spec was not working because the spec needs to be a\nclass or an instance, not a string. This changes the string to a class\nand adds test coverage.\n\nCloses-Bug: #1823278\n\nChange-Id: I719c222a5fa3d654e7397f126a1338e653b7bbcc\n""}, {'number': 3, 'created': '2019-04-19 01:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/492409af40b230b39491fd32b97b3e210bb1688c', 'message': ""Fix SynchronousThreadPoolExecutorFixture mock spec\n\nThe fixture's mock spec was not working because the spec needs to be a\nclass or an instance, not a string. This swaps out the\nGreenThreadPoolExecutor for the SynchronousExecutor and adds test\ncoverage.\n\nCloses-Bug: #1823278\n\nChange-Id: I719c222a5fa3d654e7397f126a1338e653b7bbcc\n""}, {'number': 4, 'created': '2019-04-24 00:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b467ccf595da653b1dc7453a1f410a70af06a63f', 'message': ""Fix SynchronousThreadPoolExecutorFixture mock spec\n\nThe fixture's mock spec was not working because the spec needs to be a\nclass or an instance, not a string. This swaps out the\nGreenThreadPoolExecutor for the SynchronousExecutor and adds test\ncoverage.\n\nA few changes were also needed in unit tests that are running with the\nthread pool executor. Because the thread pool executor is created in\nthe compute manager's __init__ method, we need to patch the synchronous\nexecutor in before calling the base test class's setUp method. Next, a\ncouple of unit tests were asserting that an exception would be raised\nfrom the thread pool executor's submit() method but that will not\nhappen because if an exception is raised during a submitted task, that\nexception will not be raised until Future.result() is called. And\nFuture.result() is never called in the compute manager.\n\nCloses-Bug: #1823278\n\nChange-Id: I719c222a5fa3d654e7397f126a1338e653b7bbcc\n""}, {'number': 5, 'created': '2019-05-02 22:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a6806ac69a03323f53ce5e4d426af17d1dc10dd', 'message': ""Fix SynchronousThreadPoolExecutorFixture mock of Future\n\nThe fixture is not mocking the Future.result() method correctly and an\nattempt to access it results in the following error:\n\n  AttributeError: Mock object has no attribute 'result'\n\nInstead of mocking the submit() method, we can just swap out the\nGreenThreadPoolExecutor for the SynchronousExecutor to make the\nexecutor synchronous for testing.\n\nA few changes were also needed in unit tests that are running with the\nthread pool executor. Because the thread pool executor is created in\nthe compute manager's __init__ method, we need to patch the synchronous\nexecutor in before calling the base test class's setUp method. Next, a\ncouple of unit tests were asserting that an exception would be raised\nfrom the thread pool executor's submit() method but that will not\nhappen because if an exception is raised during a submitted task, that\nexception will not be raised until Future.result() is called. And\nFuture.result() is never called in the compute manager.\n\nCloses-Bug: #1823278\n\nChange-Id: I719c222a5fa3d654e7397f126a1338e653b7bbcc\n""}, {'number': 6, 'created': '2019-05-03 21:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb87f16fd2ea1d540d9a65d153a987641220ccf2', 'message': ""Fix SynchronousThreadPoolExecutorFixture mock of Future\n\nThe fixture is not mocking the Future.result() method correctly and an\nattempt to access it results in the following error:\n\n  AttributeError: Mock object has no attribute 'result'\n\nInstead of mocking the submit() method, we can just swap out the\nGreenThreadPoolExecutor for the SynchronousExecutor to make the\nexecutor synchronous for testing.\n\nA few changes were also needed in unit tests that are running with the\nthread pool executor. Because the thread pool executor is created in\nthe compute manager's __init__ method, we need to patch the synchronous\nexecutor in before calling the base test class's setUp method. Next, a\ncouple of unit tests were asserting that an exception would be raised\nfrom the thread pool executor's submit() method but that will not\nhappen because if an exception is raised during a submitted task, that\nexception will not be raised until Future.result() is called. And\nFuture.result() is never called in the compute manager.\n\nCloses-Bug: #1823278\n\nChange-Id: I719c222a5fa3d654e7397f126a1338e653b7bbcc\n""}, {'number': 7, 'created': '2019-05-08 02:50:51.000000000', 'files': ['nova/tests/fixtures.py', 'nova/tests/unit/test_fixtures.py', 'nova/tests/unit/compute/test_compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/87b7f0c2aff153eecd8bdf3cb5503287d0e77a24', 'message': ""Fix SynchronousThreadPoolExecutorFixture mock of Future\n\nThe fixture is not mocking the Future.result() method correctly and an\nattempt to access it results in the following error:\n\n  AttributeError: Mock object has no attribute 'result'\n\nInstead of mocking the submit() method, we can just swap out the\nGreenThreadPoolExecutor for the SynchronousExecutor to make the\nexecutor synchronous for testing.\n\nA few changes were also needed in unit tests that are running with the\nthread pool executor. Because the thread pool executor is created in\nthe compute manager's __init__ method, we need to patch the synchronous\nexecutor in before calling the base test class's setUp method. Next, a\ncouple of unit tests were asserting that an exception would be raised\nfrom the thread pool executor's submit() method but that will not\nhappen because if an exception is raised during a submitted task, that\nexception will not be raised until Future.result() is called. And\nFuture.result() is never called in the compute manager.\n\nCloses-Bug: #1823278\n\nChange-Id: I719c222a5fa3d654e7397f126a1338e653b7bbcc\n""}]",1,650171,87b7f0c2aff153eecd8bdf3cb5503287d0e77a24,74,17,7,4690,,,0,"Fix SynchronousThreadPoolExecutorFixture mock of Future

The fixture is not mocking the Future.result() method correctly and an
attempt to access it results in the following error:

  AttributeError: Mock object has no attribute 'result'

Instead of mocking the submit() method, we can just swap out the
GreenThreadPoolExecutor for the SynchronousExecutor to make the
executor synchronous for testing.

A few changes were also needed in unit tests that are running with the
thread pool executor. Because the thread pool executor is created in
the compute manager's __init__ method, we need to patch the synchronous
executor in before calling the base test class's setUp method. Next, a
couple of unit tests were asserting that an exception would be raised
from the thread pool executor's submit() method but that will not
happen because if an exception is raised during a submitted task, that
exception will not be raised until Future.result() is called. And
Future.result() is never called in the compute manager.

Closes-Bug: #1823278

Change-Id: I719c222a5fa3d654e7397f126a1338e653b7bbcc
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/650171/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures.py', 'nova/tests/unit/test_fixtures.py']",2,3cc6768536fb22ca3ca36eeafcaffb07ae437c5f,cell-scatter-gather-futurist,"import futuristclass TestSynchronousThreadPoolExecutorFixture(testtools.TestCase): def test_submit_passes_through(self): self.useFixture(fixtures.SynchronousThreadPoolExecutorFixture()) tester = mock.MagicMock() executor = futurist.GreenThreadPoolExecutor() future = executor.submit(tester.function, 'foo', bar='bar') tester.function.assert_called_once_with('foo', bar='bar') result = future.result() self.assertEqual(tester.function.return_value, result) ",,14,2
openstack%2Fcharm-neutron-dynamic-routing~stable%2F19.04~I6f788c15e7db12a6bbbe9f5e4be946e3f9e69e47,openstack/charm-neutron-dynamic-routing,stable/19.04,I6f788c15e7db12a6bbbe9f5e4be946e3f9e69e47,Migrate Zaza tests to independant OpenStack Charms specific library,MERGED,2019-05-02 05:57:33.000000000,2019-05-08 13:25:22.000000000,2019-05-08 13:25:22.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 05:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/f2249b3c93d3ac33c64bc0ada65b42260626ee15', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: I6f788c15e7db12a6bbbe9f5e4be946e3f9e69e47\n(cherry picked from commit 013201b37004b58fb9b13b5650bf6899f531f636)\n'}, {'number': 2, 'created': '2019-05-03 08:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/7ff17e09b76d57e6637ab41af8cb8385c33ff03d', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: I6f788c15e7db12a6bbbe9f5e4be946e3f9e69e47\n(cherry picked from commit 013201b37004b58fb9b13b5650bf6899f531f636)\n'}, {'number': 3, 'created': '2019-05-08 12:37:41.000000000', 'files': ['src/test-requirements.txt', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/9709f698bd390b2b21c89168b8403651b355bd60', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: I6f788c15e7db12a6bbbe9f5e4be946e3f9e69e47\n(cherry picked from commit 013201b37004b58fb9b13b5650bf6899f531f636)\n'}]",0,656729,9709f698bd390b2b21c89168b8403651b355bd60,30,4,3,20634,,,0,"Migrate Zaza tests to independant OpenStack Charms specific library

Change-Id: I6f788c15e7db12a6bbbe9f5e4be946e3f9e69e47
(cherry picked from commit 013201b37004b58fb9b13b5650bf6899f531f636)
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/29/656729/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/test-requirements.txt', 'src/tests/tests.yaml']",2,f2249b3c93d3ac33c64bc0ada65b42260626ee15,zaza-refactor-stable/19.04,- zaza.openstack.charm_tests.dragent.configure.setup- zaza.openstack.charm_tests.dragent.tests.DRAgentTest,- zaza.charm_tests.dragent.configure.setup- zaza.charm_tests.dragent.tests.DRAgentTest,3,3
openstack%2Fcharm-vault~stable%2F19.04~I8f3c2372b3ac2415ad882e414e589d5e22c34fd3,openstack/charm-vault,stable/19.04,I8f3c2372b3ac2415ad882e414e589d5e22c34fd3,Migrate Zaza tests to independant OpenStack Charms specific library,MERGED,2019-05-02 05:57:50.000000000,2019-05-08 13:24:58.000000000,2019-05-08 13:24:57.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 05:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/b8d6770d2bbc0f1f564ed27e42565503271fd625', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: I8f3c2372b3ac2415ad882e414e589d5e22c34fd3\n(cherry picked from commit cdc898bf5b40646eb32917cce98f3f561577bad0)\n'}, {'number': 2, 'created': '2019-05-08 12:37:53.000000000', 'files': ['src/test-requirements.txt', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/b85f196a0fe49d570ca93f738ce3f3e574460813', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: I8f3c2372b3ac2415ad882e414e589d5e22c34fd3\n(cherry picked from commit cdc898bf5b40646eb32917cce98f3f561577bad0)\n'}]",0,656734,b85f196a0fe49d570ca93f738ce3f3e574460813,24,4,2,20634,,,0,"Migrate Zaza tests to independant OpenStack Charms specific library

Change-Id: I8f3c2372b3ac2415ad882e414e589d5e22c34fd3
(cherry picked from commit cdc898bf5b40646eb32917cce98f3f561577bad0)
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/34/656734/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/test-requirements.txt', 'src/tests/tests.yaml']",2,b8d6770d2bbc0f1f564ed27e42565503271fd625,zaza-refactor-stable/19.04,- zaza.openstack.charm_tests.vault.setup.basic_setup- zaza.openstack.charm_tests.vault.tests.VaultTest,- zaza.charm_tests.vault.setup.basic_setup- zaza.charm_tests.vault.tests.VaultTest,3,3
openstack%2Fdesignate~master~I1338d2ca180274ae84d4b358ff467e6655eb8022,openstack/designate,master,I1338d2ca180274ae84d4b358ff467e6655eb8022,Designate service_statuses is not working,MERGED,2019-05-06 13:25:24.000000000,2019-05-08 13:16:09.000000000,2019-05-08 13:16:09.000000000,"[{'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28140}]","[{'number': 1, 'created': '2019-05-06 13:25:24.000000000', 'files': ['designate/cmd/api.py', 'designate/cmd/worker.py', 'designate/cmd/pool_manager.py', 'designate/cmd/central.py', 'designate/cmd/zone_manager.py', 'designate/cmd/mdns.py', 'designate/cmd/producer.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/9214a42a8e502b135224d5f7d0f3871ac7daa00f', 'message': ""Designate service_statuses is not working\n\nWhen I set the 2 or more each designate service workers,\nthose service_status was not working.\nIn this case, The 'HeartBeatEmitter.start' is called\nby child processes.\nAnd The 'HeartBeatEmitter._emit_heartbeat' is called\nby Parent process.\nParent process' '_running' value never change to TRUE\non parent process.\nSo in this case, designate isn't emitted the heartbeat.\n\nChange-Id: I1338d2ca180274ae84d4b358ff467e6655eb8022\nCloses-Bug: #1827070\n""}]",0,657382,9214a42a8e502b135224d5f7d0f3871ac7daa00f,10,5,1,28140,,,0,"Designate service_statuses is not working

When I set the 2 or more each designate service workers,
those service_status was not working.
In this case, The 'HeartBeatEmitter.start' is called
by child processes.
And The 'HeartBeatEmitter._emit_heartbeat' is called
by Parent process.
Parent process' '_running' value never change to TRUE
on parent process.
So in this case, designate isn't emitted the heartbeat.

Change-Id: I1338d2ca180274ae84d4b358ff467e6655eb8022
Closes-Bug: #1827070
",git fetch https://review.opendev.org/openstack/designate refs/changes/82/657382/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/cmd/api.py', 'designate/cmd/pool_manager.py', 'designate/cmd/worker.py', 'designate/cmd/central.py', 'designate/cmd/zone_manager.py', 'designate/cmd/mdns.py', 'designate/cmd/producer.py']",7,9214a42a8e502b135224d5f7d0f3871ac7daa00f,bug/1827070, server.heartbeat_emitter.start(),,7,0
openstack%2Fmonasca-agent~stable%2Fqueens~Ic8d73eaf6b37d23b939758d57209586ad40916aa,openstack/monasca-agent,stable/queens,Ic8d73eaf6b37d23b939758d57209586ad40916aa,Update git.openstack.org to opendev.org,MERGED,2019-04-25 12:36:49.000000000,2019-05-08 12:55:27.000000000,2019-05-08 12:55:26.000000000,"[{'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-04-25 12:36:49.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/f3794adcdad8efaf97526544dbee2913ec500513', 'message': 'Update git.openstack.org to opendev.org\n\nThe project infrastructure is now hosted at opendev.org.\n\nChange-Id: Ic8d73eaf6b37d23b939758d57209586ad40916aa\n'}]",0,655681,f3794adcdad8efaf97526544dbee2913ec500513,7,3,1,17669,,,0,"Update git.openstack.org to opendev.org

The project infrastructure is now hosted at opendev.org.

Change-Id: Ic8d73eaf6b37d23b939758d57209586ad40916aa
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/81/655681/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f3794adcdad8efaf97526544dbee2913ec500513,,* Source: https://opendev.org/openstack/monasca-agent,* Source: http://git.openstack.org/cgit/openstack/monasca-agent,1,1
openstack%2Fpuppet-tripleo~master~I4633d96a0bb7375b95f3fa5f2423325add3b8f4f,openstack/puppet-tripleo,master,I4633d96a0bb7375b95f3fa5f2423325add3b8f4f,Update version in metadata.json,MERGED,2019-05-08 08:55:41.000000000,2019-05-08 12:28:29.000000000,2019-05-08 12:28:29.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-08 08:55:41.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5460291800995ffc4b0439a879a7dd41a9da1374', 'message': 'Update version in metadata.json\n\nIt was bumped as seen with pbr in [1] but puppet modules version is\ndefined in metadata.json.\n\n[1] https://review.opendev.org/#/c/653763/\n\nChange-Id: I4633d96a0bb7375b95f3fa5f2423325add3b8f4f\n'}]",0,657758,5460291800995ffc4b0439a879a7dd41a9da1374,8,4,1,16312,,,0,"Update version in metadata.json

It was bumped as seen with pbr in [1] but puppet modules version is
defined in metadata.json.

[1] https://review.opendev.org/#/c/653763/

Change-Id: I4633d96a0bb7375b95f3fa5f2423325add3b8f4f
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/58/657758/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,5460291800995ffc4b0439a879a7dd41a9da1374,," ""version"": ""10.5.0"", { ""name"": ""openstack/openstacklib"", ""version_requirement"": "">=15.0.0 <16.0.0"" },"," ""version"": ""10.4.1"", { ""name"": ""openstack/openstacklib"", ""version_requirement"": "">=14.0.0 <15.0.0"" },",2,2
openstack%2Ftrove~master~Ifddb5d0d38e4353e17e14ecd65a0d086a6886763,openstack/trove,master,Ifddb5d0d38e4353e17e14ecd65a0d086a6886763,Instead of deprecated keystone cli in docs,MERGED,2019-05-06 09:26:22.000000000,2019-05-08 12:19:16.000000000,2019-05-08 12:19:16.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 09:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/644f62a7200eb404df2c78b00a0d4265511ae374', 'message': 'Instead of deprecated keystone cli in docs\n\nThe keystone CLI is deprecated in favor of\npython-openstackclient, update docs using\nopenstack CLI instead of keystone CLI.\n\nChange-Id: Ifddb5d0d38e4353e17e14ecd65a0d086a6886763\n'}, {'number': 2, 'created': '2019-05-06 09:30:17.000000000', 'files': ['doc/source/install/manual_install.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/27cf32564ee2751f097c0f9a5381cd6846695dff', 'message': 'Instead of deprecated keystone cli in docs\n\nThe keystone CLI is deprecated in favor of\npython-openstackclient, update docs using\nopenstack CLI instead of keystone CLI.\n\nChange-Id: Ifddb5d0d38e4353e17e14ecd65a0d086a6886763\n'}]",0,657360,27cf32564ee2751f097c0f9a5381cd6846695dff,7,2,2,8037,,,0,"Instead of deprecated keystone cli in docs

The keystone CLI is deprecated in favor of
python-openstackclient, update docs using
openstack CLI instead of keystone CLI.

Change-Id: Ifddb5d0d38e4353e17e14ecd65a0d086a6886763
",git fetch https://review.opendev.org/openstack/trove refs/changes/60/657360/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/manual_install.rst'],1,644f62a7200eb404df2c78b00a0d4265511ae374,remove_keystone_cli_docs," $ openstack --os-username <OpenStackAdminUsername> --os-password <OpenStackAdminPassword> --os-project-name <OpenStackAdminProject> --os-domain-name <OpenstackDomainName> --os-auth-url http://<KeystoneIP>/identity project create trove_for_trove_usage $ openstack --os-username <OpenStackAdminUsername> --os-password <OpenStackAdminPassword> --os-project-name <OpenStackAdminProject> --os-domain-name <OpenstackDomainName> --os-auth-url http://<KeystoneIP>/identity user create regular_trove_user --project trove_for_trove_usage --password-prompt $ openstack --os-username <OpenStackAdminUsername> --os-password <OpenStackAdminPassword> --os-project-name <OpenStackAdminProject> --os-domain-name <OpenstackDomainName> --os-auth-url http://<KeystoneIP>/identity user create admin_trove_user --project trove_for_trove_usage --password-prompt $ openstack --os-username <OpenStackAdminUsername> --os-password <OpenStackAdminPassword> --os-project-name <OpenStackAdminProject> --os-domain-name <OpenstackDomainName> --os-auth-url http://<KeystoneIP>/identity role add --user admin_trove_user --project trove_for_trove_usage admin $ openstack --os-username <OpenStackAdminUsername> --os-password <OpenStackAdminPassword> --os-project-name <OpenStackAdminProject> --os-domain-name <OpenstackDomainName> --os-auth-url http://<KeystoneIP>/identity service create --name trove --description ""Database"" database $ openstack --os-username <OpenStackAdminUsername> --os-password <OpenStackAdminPassword> --os-project-name <OpenStackAdminProject> --os-domain-name <OpenstackDomainName> --os-auth-url http://<KeystoneIP>/identity endpoint create --region RegionOne database public 'http://<EnvironmentPublicIP>:<EnvironmentPort>/v1.0/$(tenant_id)s' $ openstack --os-username <OpenStackAdminUsername> --os-password <OpenStackAdminPassword> --os-project-name <OpenStackAdminProject> --os-domain-name <OpenstackDomainName> --os-auth-url http://<KeystoneIP>/identity endpoint create --region RegionOne database admin 'http://<EnvironmentPublicIP>:<EnvironmentPort>/v1.0/$(tenant_id)s' $ openstack --os-username <OpenStackAdminUsername> --os-password <OpenStackAdminPassword> --os-project-name <OpenStackAdminProject> --os-domain-name <OpenstackDomainName> --os-auth-url http://<KeystoneIP>/identity endpoint create --region RegionOne database internal 'http://<EnvironmentPublicIP>:<EnvironmentPort>/v1.0/$(tenant_id)s' export OS_PROJECT_NAME=trove export OS_PASSWORD=<UserPassword> export OS_AUTH_URL=""http://<KeystoneIP>/identity"" export OS_USER_DOMAIN_NAME=Default export OS_PROJECT_DOMAIN_NAME=Default $ trove create <name> <flavor> [--size <size>] [--volume_type <volume_type>] [--databases <database> [<database> ...]] [--users <user:password> [<user:password> ...]] [--backup <backup>] [--nic <net-id=<net-uuid>,v4-fixed-ip=<ip-addr>,port-id=<port-uuid>>] [--replica_of <source_instance>] [--replica_count <count>] [--module <module>] [--locality <policy>]"," $ keystone --os-username <OpenStackAdminUsername> --os-password <OpenStackAdminPassword> --os-tenant-name <OpenStackAdminTenant> --os-auth-url http://<KeystoneIP>:<KeystonePort>/v2.0 tenant-create --user trove_for_trove_usage $ keystone --os-username <OpenStackAdminUsername> --os-password <OpenStackAdminPassword> --os-tenant-name <OpenStackAdminTenant> --os-auth-url http://<KeystoneIP>:<KeystonePort>/v2.0 user-create --user regular_trove_user --pass trove --tenant trove_for_trove_usage $ keystone --os-username <OpenStackAdminUsername> --os-password <OpenStackAdminPassword> --os-tenant-name <OpenStackAdminTenant> --os-auth-url http://<KeystoneIP>:<KeystonePort>/v2.0 user-create --user admin_trove_user --pass trove --tenant trove_for_trove_usage $ keystone --os-username <OpenStackAdminUsername> --os-password <OpenStackAdminPassword> --os-tenant-name <OpenStackAdminTenant> --os-auth-url http://<KeystoneIP>:<KeystonePort>/v2.0 user-role-add --user admin_trove_user --tenant trove_for_trove_usage --role admin $ keystone --os-username <OpenStackAdminUsername> --os-password <OpenStackAdminPassword> --os-tenant-name <OpenStackAdminTenant> --os-auth-url http://<KeystoneIP>:<KeystonePort>/v2.0 service-create --user trove --type database $ keystone --os-username <OpenStackAdminUsername> --os-password <OpenStackAdminPassword> --os-tenant-name <OpenStackAdminTenant> --os-auth-url http://<KeystoneIP>:<KeystonePort>/v2.0 endpoint-create --service trove --region RegionOne --publicurl 'http://<EnvironmentPublicIP>:<EnvironmentPort>/v1.0/$(tenant_id)s' --adminurl 'http://<EnvironmentPublicIP>:<EnvironmentPort>/v1.0/$(tenant_id)s' --internalurl 'http://<EnvironmentPublicIP>:<EnvironmentPort>/v1.0/$(tenant_id)s' export OS_TENANT_NAME=trove export OS_PASSWORD=trove export OS_AUTH_URL=""http://<KeystoneIP>:<KeystonePort>/v2.0/"" export OS_AUTH_STRATEGY=keystone $ trove create <name> <flavor_id> [--size <size>] [--databases <databases> [<databases> ...]] [--users <users> [<users> ...]] [--backup <backup>] [--nic <net-id=net-uuid,v4-fixed-ip=ip-addr,port-id=port-uuid>] [--replica_of <source_id>]",24,16
openstack%2Ftrove~master~I00eec0b5edfedbea954ce9e093e7a6cb5a84ddb5,openstack/trove,master,I00eec0b5edfedbea954ce9e093e7a6cb5a84ddb5,Fix syntax error,MERGED,2019-04-29 02:41:21.000000000,2019-05-08 12:16:09.000000000,2019-05-08 12:16:09.000000000,"[{'_account_id': 6732}, {'_account_id': 9414}, {'_account_id': 22348}, {'_account_id': 29995}]","[{'number': 1, 'created': '2019-04-29 02:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3883709f84befa5ed35b52bd3945ff894c05da19', 'message': 'Fix syntax error\n\nREADME of Devstack shows a problem[1].\n\n[1]https://opendev.org/openstack/trove/src/branch/master/devstack\n\nChange-Id: I00eec0b5edfedbea954ce9e093e7a6cb5a84ddb5\n'}, {'number': 2, 'created': '2019-05-06 10:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/aaedc69a5740401d6de8a83c8708b16969e3042f', 'message': 'Fix syntax error\n\nREADME of Devstack shows a problem[1].\n\n[1]https://opendev.org/openstack/trove/src/branch/master/devstack\n\nChange-Id: I00eec0b5edfedbea954ce9e093e7a6cb5a84ddb5\n'}, {'number': 3, 'created': '2019-05-06 10:33:53.000000000', 'files': ['devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/c704af6e3281a52d9b8330a70f111a634fe2109b', 'message': 'Fix syntax error\n\nREADME of Devstack shows a problem[1].\n\n[1]https://opendev.org/openstack/trove/src/branch/master/devstack\n\nChange-Id: I00eec0b5edfedbea954ce9e093e7a6cb5a84ddb5\n'}]",1,656228,c704af6e3281a52d9b8330a70f111a634fe2109b,11,4,3,9414,,,0,"Fix syntax error

README of Devstack shows a problem[1].

[1]https://opendev.org/openstack/trove/src/branch/master/devstack

Change-Id: I00eec0b5edfedbea954ce9e093e7a6cb5a84ddb5
",git fetch https://review.opendev.org/openstack/trove refs/changes/28/656228/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/README.rst'],1,3883709f84befa5ed35b52bd3945ff894c05da19,fix-syntax-error-rst,::::::::,.. sourcecode:: bash.. sourcecode:: bash.. sourcecode:: bash.. sourcecode:: bash,4,4
openstack%2Fmonasca-agent~stable%2Fpike~I09e089f2c74684fef7f12d79b238002893942d4d,openstack/monasca-agent,stable/pike,I09e089f2c74684fef7f12d79b238002893942d4d,Convert README to reStructuredText,MERGED,2019-04-18 00:04:28.000000000,2019-05-08 12:07:03.000000000,2019-05-08 12:07:03.000000000,"[{'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-04-18 00:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/a2edcd778d3d6f45a1eca950b9ba371e8fc620bb', 'message': 'Convert README to reStructuredText\n\n* convert README\n* add syntax check\n\nStory: 2002163\nTask: 24461\n\nDropped queens/older changes in favour of keeping in sync with newer\nbranches\nAlso updated contact email to openstack-discuss\n\nChange-Id: I09e089f2c74684fef7f12d79b238002893942d4d\n(cherry picked from commit 2f7153a59c0f79059e977d4d189475771e99d15f)\n(cherry picked from commit f21a43b2b43a7c72217552981283257307fc0361)\n'}, {'number': 2, 'created': '2019-04-25 12:38:40.000000000', 'files': ['test-requirements.txt', 'README.rst', 'setup.cfg', 'tox.ini', 'README.md'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/80976613107df97e6135518c7cdd109c0b55b019', 'message': 'Convert README to reStructuredText\n\n* convert README\n* add syntax check\n\nStory: 2002163\nTask: 24461\n\nDropped queens/older changes in favour of keeping in sync with newer\nbranches\nAlso updated contact email to openstack-discuss\n\nChange-Id: I09e089f2c74684fef7f12d79b238002893942d4d\n(cherry picked from commit 2f7153a59c0f79059e977d4d189475771e99d15f)\n(cherry picked from commit f21a43b2b43a7c72217552981283257307fc0361)\n'}]",0,653642,80976613107df97e6135518c7cdd109c0b55b019,15,4,2,12898,,,0,"Convert README to reStructuredText

* convert README
* add syntax check

Story: 2002163
Task: 24461

Dropped queens/older changes in favour of keeping in sync with newer
branches
Also updated contact email to openstack-discuss

Change-Id: I09e089f2c74684fef7f12d79b238002893942d4d
(cherry picked from commit 2f7153a59c0f79059e977d4d189475771e99d15f)
(cherry picked from commit f21a43b2b43a7c72217552981283257307fc0361)
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/42/653642/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'README.rst', 'setup.cfg', 'tox.ini', 'README.md']",5,a2edcd778d3d6f45a1eca950b9ba371e8fc620bb,,,"Team and repository tags ======================== [![Team and repository tags](https://governance.openstack.org/badges/monasca-agent.svg)](https://governance.openstack.org/reference/tags/index.html) <!-- Change things from this point on --> <!-- START doctoc generated TOC please keep comment here to allow auto update --> <!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE --> **Table of Contents** - [Introduction](#introduction) - [Detailed Documentation](#detailed-documentation) - [License](#license) <!-- END doctoc generated TOC please keep comment here to allow auto update --> # Introduction The Monasca Agent is a modern Python monitoring agent for gathering metrics and sending them to the Monasca API. The Agent supports collecting metrics from a variety of sources as follows: * System metrics such as cpu and memory utilization. * Nagios plugins. The Monasca Agent can run Nagios plugins and send the status code returned by the plugin as a metric to the Monasca API. * Statsd. The Monasca Agent supports an integrated Statsd daemon which can be used by applications via a statsd client library. * Host alive. The Monasca Agent can perform active checks on a host to determine if it is alive using ping (ICMP) or SSH. * Process checks. The Monasca Agent can check a process and return several metrics on the process such as number of instances, memory, io and threads. * Http Endpoint checks. The Monasca Agent can perform active checks on http endpoints by sending an HTTP request to an API. * Service checks. The Agent can check service such as MySQL, RabbitMQ, and many more. * OpenStack metrics. The agent can perform checks on OpenStack processes. * The Agent can automatically detect and setup checks on certain processes and resources. The Agent is extensible through configuration of additional plugins, written in Python. # Detailed Documentation For an introduction to the Monasca Agent, including a complete list of the metrics that the Agent supports, see the ""Agent"" detailed documentation. The Agent is extensible through configuration of additional check and setup plugins, written in Python. See the ""Agent Customizations"" detailed documentation. Agent [github.com/openstack/monasca-agent/blob/master/docs/Agent.md](https://github.com/openstack/monasca-agent/blob/master/docs/Agent.md) Agent Customizations [github.com/openstack/monasca-agent/docs/Customizations.md](https://github.com/openstack/monasca-agent/blob/master/docs/Customizations.md) Monasca Metrics [github.com/openstack/monasca-agent/docs/MonascaMetrics.md](https://github.com/openstack/monasca-agent/blob/master/docs/MonascaMetrics.md) Agent Plugin details [github.com/openstack/monasca-agent/docs/Plugins.md](https://github.com/openstack/monasca-agent/blob/master/docs/Plugins.md) # License (C) Copyright 2015 Hewlett Packard Enterprise Development Company LP ",76,58
openstack%2Fnova~master~I27c3d1882ab904933129bd3414ccded8c3c56b1e,openstack/nova,master,I27c3d1882ab904933129bd3414ccded8c3c56b1e,[Docs] Change the server query parameter display into a list.,MERGED,2019-05-07 15:12:40.000000000,2019-05-08 12:03:58.000000000,2019-05-08 12:03:58.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-07 15:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17d3b4f3b969ef8ea36eb59d55c5168df03f0c5a', 'message': '[Docs] Change the server query parameter display into a list docs.\n\nThe server query parameters that are allowed for users are displayed\nin a single paragraph which is difficult to parse and some of the\nparameters are missing the microversions they are available from.\nThis problem exists in the server_concepts api-guide documentation\nwhile its already in the list form in the servers api-reference\ndocumentation. This patch basically copies the list over from the\napi-guide.\n\nChange-Id: I27c3d1882ab904933129bd3414ccded8c3c56b1e\n'}, {'number': 2, 'created': '2019-05-07 15:16:29.000000000', 'files': ['api-guide/source/server_concepts.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/16f2571e0725e00cb7d58607ba1c2abd3019b5ac', 'message': '[Docs] Change the server query parameter display into a list.\n\nThe server query parameters that are allowed for users are displayed\nin a single paragraph which is difficult to parse and some of the\nparameters are missing the microversions they are available from.\nThis problem exists in the server_concepts api-guide documentation\nwhile its already in the list form in the servers api-reference\ndocumentation. This patch basically copies the list over from the\napi-guide.\n\nChange-Id: I27c3d1882ab904933129bd3414ccded8c3c56b1e\n'}]",0,657624,16f2571e0725e00cb7d58607ba1c2abd3019b5ac,18,11,2,26936,,,0,"[Docs] Change the server query parameter display into a list.

The server query parameters that are allowed for users are displayed
in a single paragraph which is difficult to parse and some of the
parameters are missing the microversions they are available from.
This problem exists in the server_concepts api-guide documentation
while its already in the list form in the servers api-reference
documentation. This patch basically copies the list over from the
api-guide.

Change-Id: I27c3d1882ab904933129bd3414ccded8c3c56b1e
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/657624/1 && git format-patch -1 --stdout FETCH_HEAD,['api-guide/source/server_concepts.rst'],1,17d3b4f3b969ef8ea36eb59d55c5168df03f0c5a,cleanup-server-query-list, used as query option. The supported options are: - ``changes-since`` - ``flavor`` - ``image`` - ``ip`` - ``ip6`` (New in version 2.5) - ``name`` - ``not-tags`` (New in version 2.26) - ``not-tags-any`` (New in version 2.26) - ``reservation_id`` - ``status`` - ``tags`` (New in version 2.26) - ``tags-any`` (New in version 2.26) - ``changes-before`` (New in version 2.66) Other options will be ignored by nova silently.," used as query option. ``reservation_id``, ``name``, ``status``, ``image``, ``flavor``, ``ip``, ``changes-since``, ``changes-before``, ``ip6``, ``tags``, ``tags-any``, ``not-tags``, ``not-tags-any`` are supported options to be used. Other options will be ignored by nova silently.",17,4
openstack%2Fnetworking-ovn~master~Icfb92b15b4bd8147c956d79c2ad186d7fdb83463,openstack/networking-ovn,master,Icfb92b15b4bd8147c956d79c2ad186d7fdb83463,WIP: Debug running 003 scenario,ABANDONED,2019-02-22 12:17:30.000000000,2019-05-08 11:42:43.000000000,,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-22 12:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/55129dd484a835f8ac3a106dc6cacd144508e58d', 'message': 'WIP: Debug running 003 scenario\n\nChange-Id: Icfb92b15b4bd8147c956d79c2ad186d7fdb83463\n'}, {'number': 2, 'created': '2019-03-13 10:12:14.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ae9cf8420f117fdba34c9afc02610cc3fa2ed8fb', 'message': 'WIP: Debug running 003 scenario\n\nChange-Id: Icfb92b15b4bd8147c956d79c2ad186d7fdb83463\n'}]",0,638650,ae9cf8420f117fdba34c9afc02610cc3fa2ed8fb,8,3,2,8655,,,0,"WIP: Debug running 003 scenario

Change-Id: Icfb92b15b4bd8147c956d79c2ad186d7fdb83463
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/50/638650/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/networkin-ovn-jobs.yaml', 'zuul.d/project.yaml']",2,55129dd484a835f8ac3a106dc6cacd144508e58d,debug, debug: true,,2,4
openstack%2Fopenstack-ansible-openstack_hosts~master~I8e37df687f5fbec1013af83218572ccae3d7427c,openstack/openstack-ansible-openstack_hosts,master,I8e37df687f5fbec1013af83218572ccae3d7427c,Add vendor editing,ABANDONED,2018-12-19 10:31:45.000000000,2019-05-08 11:20:58.000000000,,"[{'_account_id': 17068}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-19 10:31:45.000000000', 'files': ['tasks/openstack_hosts_configure_zypper.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/10a9d6df94df969ec7b8b498a3af431ab7407f2d', 'message': ""Add vendor editing\n\nWithout this patch, no vendor is whitelisted.\nThis is a problem, as some packages might come from an upstream repo\nwe should trust and use, which holds update packages over some system\npackages.\n\nFor example, OBS:Cloud:OpenStack:Master holds libxml2-devel\npackage, which is required for some package in this repo, and is an\nupdate over the standard provided libxml2-devel (with a different\nvendor). Not considering this OBS source as the same vendor as the\nsystem would cause the any update of the package to fail in Ansible,\nas the question whether a change of vendor for this package will not\nhappen in Ansible.\n\nThis fixes it by ensuring the OBS:Cloud:OpenStack:Master repo's\nVendor is the same as the system vendor, by creating a vendor.d\nentry. Alternatively we could pass an argument in ALL package calls,\nor disable vendor checking. This is the cleanest solution.\n\nChange-Id: I8e37df687f5fbec1013af83218572ccae3d7427c\n""}]",0,626139,10a9d6df94df969ec7b8b498a3af431ab7407f2d,7,3,1,17068,,,0,"Add vendor editing

Without this patch, no vendor is whitelisted.
This is a problem, as some packages might come from an upstream repo
we should trust and use, which holds update packages over some system
packages.

For example, OBS:Cloud:OpenStack:Master holds libxml2-devel
package, which is required for some package in this repo, and is an
update over the standard provided libxml2-devel (with a different
vendor). Not considering this OBS source as the same vendor as the
system would cause the any update of the package to fail in Ansible,
as the question whether a change of vendor for this package will not
happen in Ansible.

This fixes it by ensuring the OBS:Cloud:OpenStack:Master repo's
Vendor is the same as the system vendor, by creating a vendor.d
entry. Alternatively we could pass an argument in ALL package calls,
or disable vendor checking. This is the cleanest solution.

Change-Id: I8e37df687f5fbec1013af83218572ccae3d7427c
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/39/626139/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/openstack_hosts_configure_zypper.yml', 'defaults/main.yml']",2,10a9d6df94df969ec7b8b498a3af431ab7407f2d,add_obs_as_known_vendor,"opensuse_default_vendors: ""suse,opensuse,obs://build.opensuse.org/Cloud:OpenStack""",,9,0
openstack%2Fhorizon~master~Ice1a6bb2dcddab0a89c99f345d1f2cd101955b28,openstack/horizon,master,Ice1a6bb2dcddab0a89c99f345d1f2cd101955b28,Do not specify device_name when creating server with BFV,MERGED,2019-03-28 06:43:34.000000000,2019-05-08 10:47:17.000000000,2019-05-08 10:47:17.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 20944}, {'_account_id': 22348}, {'_account_id': 25946}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-03-28 06:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1dc28134bdd2e034db36f7926b64a5d752450ec8', 'message': ""Do not specify device_name when creating server with BFV\n\nWhen creating a server using an existing volume or volume snapshot,\nhorizon specified a device_name 'vda'.\nHowever the device name depends on bus type or something and\nthis causes incorrect volume information in the instance detail page\n(and nova volume-attachments CLI output).\nFor detail background, see bug 1560965.\n\nblock_device_mapping v1 required device_name but it is no longer\nrequired to specify device_name 'vda' in block_device_mapping v2\nin Nova create-server API.\n\nThis commit changes to use block_device_mapping v2 so that\nwe can avoid specifying device_name.\n\nChange-Id: Ice1a6bb2dcddab0a89c99f345d1f2cd101955b28\nPartial-Bug: #1560965\n""}, {'number': 2, 'created': '2019-03-28 06:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/90a99fd966ec5d9bf2760cc6ca3fd04a0d30683d', 'message': ""Do not specify device_name when creating server with BFV\n\nWhen creating a server using an existing volume or volume snapshot,\nhorizon specified a device_name 'vda'.\nHowever the device name depends on bus type or something and\nthis causes incorrect volume information in the instance detail page\n(and nova volume-attachments CLI output).\nFor detail background, see bug 1560965.\n\nblock_device_mapping v1 required device_name but it is no longer\nrequired to specify device_name 'vda' in block_device_mapping v2\nin Nova create-server API.\n\nThis commit changes to use block_device_mapping v2 so that\nwe can avoid specifying device_name.\n\nChange-Id: Ice1a6bb2dcddab0a89c99f345d1f2cd101955b28\nPartial-Bug: #1560965\n""}, {'number': 3, 'created': '2019-03-28 09:19:50.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5ab15c49da8f85f5855f949ad9b1a4c95a50e714', 'message': ""Do not specify device_name when creating server with BFV\n\nWhen creating a server using an existing volume or volume snapshot,\nhorizon specified a device_name 'vda'.\nHowever the device name depends on bus type or something and\nthis causes incorrect volume information in the instance detail page\n(and nova volume-attachments CLI output).\nFor detail background, see bug 1560965.\n\nblock_device_mapping v1 required device_name but it is no longer\nrequired to specify device_name 'vda' in block_device_mapping v2\nin Nova create-server API.\n\nThis commit changes to use block_device_mapping v2 so that\nwe can avoid specifying device_name.\n\nChange-Id: Ice1a6bb2dcddab0a89c99f345d1f2cd101955b28\nPartial-Bug: #1560965\n""}]",0,648328,5ab15c49da8f85f5855f949ad9b1a4c95a50e714,14,7,3,841,,,0,"Do not specify device_name when creating server with BFV

When creating a server using an existing volume or volume snapshot,
horizon specified a device_name 'vda'.
However the device name depends on bus type or something and
this causes incorrect volume information in the instance detail page
(and nova volume-attachments CLI output).
For detail background, see bug 1560965.

block_device_mapping v1 required device_name but it is no longer
required to specify device_name 'vda' in block_device_mapping v2
in Nova create-server API.

This commit changes to use block_device_mapping v2 so that
we can avoid specifying device_name.

Change-Id: Ice1a6bb2dcddab0a89c99f345d1f2cd101955b28
Partial-Bug: #1560965
",git fetch https://review.opendev.org/openstack/horizon refs/changes/28/648328/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js'],1,1dc28134bdd2e034db36f7926b64a5d752450ec8,bug/1560965," setFinalSpecBootFromVolumeDevice(finalSpec, 'volume'); setFinalSpecBootFromVolumeDevice(finalSpec, 'snapshot'); finalSpec.block_device_mapping_v2 = []; finalSpec.block_device_mapping_v2.push( { 'source_type': sourceType, 'destination_type': bootSourceTypes.VOLUME, 'delete_on_termination': finalSpec.vol_delete_on_instance_delete, 'uuid': finalSpec.source_id, 'boot_index': '0' } );"," // May be null vol_device_name: null, setFinalSpecBootFromVolumeDevice(finalSpec, 'vol'); setFinalSpecBootFromVolumeDevice(finalSpec, 'snap'); delete finalSpec.vol_device_name; finalSpec.block_device_mapping = {}; finalSpec.block_device_mapping[finalSpec.vol_device_name] = [ finalSpec.source_id, ':', sourceType, '::', finalSpec.vol_delete_on_instance_delete ].join('');",12,13
openstack%2Fopenstack-ansible-lxc_hosts~master~I2bd032f0d5dc17f61e380b44a761fe110ccb42f5,openstack/openstack-ansible-lxc_hosts,master,I2bd032f0d5dc17f61e380b44a761fe110ccb42f5,Update (yet again) SUSE lxc container name,MERGED,2019-05-08 02:00:41.000000000,2019-05-08 10:46:37.000000000,2019-05-08 06:29:16.000000000,"[{'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-08 02:00:41.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/6c7623d4edf97e57107924181809aa47f4cf0525', 'message': 'Update (yet again) SUSE lxc container name\n\nChange-Id: I2bd032f0d5dc17f61e380b44a761fe110ccb42f5\nSigned-off-by: Nicolas Bock <nicolas.bock@suse.com>\n'}]",0,657720,6c7623d4edf97e57107924181809aa47f4cf0525,11,3,1,19298,,,0,"Update (yet again) SUSE lxc container name

Change-Id: I2bd032f0d5dc17f61e380b44a761fe110ccb42f5
Signed-off-by: Nicolas Bock <nicolas.bock@suse.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/20/657720/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,6c7623d4edf97e57107924181809aa47f4cf0525,suse_name,"_lxc_hosts_container_image_url: ""{{ _lxc_hosts_container_image_url_base }}opensuse-leap-image-lxcBuild30.1.tar.xz""","_lxc_hosts_container_image_url: ""{{ _lxc_hosts_container_image_url_base }}opensuse-leap-image.x86_64-{{ ansible_distribution_version }}.0.tar.xz""",1,1
openstack%2Fkuryr-libnetwork~master~I7ec366c59eda13c0483e3cae185c263e40694bac,openstack/kuryr-libnetwork,master,I7ec366c59eda13c0483e3cae185c263e40694bac,Update install guide for master branch,MERGED,2019-04-27 16:13:51.000000000,2019-05-08 10:30:27.000000000,2019-05-08 10:30:26.000000000,"[{'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 11343}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-27 16:13:51.000000000', 'files': ['doc/source/install/compute-install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/01b20b1af14352591e5fbd3f776ab2cb6fcd0e10', 'message': 'Update install guide for master branch\n\nChange-Id: I7ec366c59eda13c0483e3cae185c263e40694bac\n'}]",0,656071,01b20b1af14352591e5fbd3f776ab2cb6fcd0e10,7,6,1,11536,,,0,"Update install guide for master branch

Change-Id: I7ec366c59eda13c0483e3cae185c263e40694bac
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/71/656071/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/compute-install-ubuntu.rst'],1,01b20b1af14352591e5fbd3f776ab2cb6fcd0e10,, # git clone -b master https://git.openstack.org/openstack/kuryr-libnetwork.git, # git clone -b stable/rocky https://git.openstack.org/openstack/kuryr-libnetwork.git,1,1
openstack%2Fkuryr-libnetwork~stable%2Fstein~Ie0d875b3c7ce25c7c1e8b629c624f271ad2e8f9d,openstack/kuryr-libnetwork,stable/stein,Ie0d875b3c7ce25c7c1e8b629c624f271ad2e8f9d,Update install guide for stein release,MERGED,2019-04-27 16:09:46.000000000,2019-05-08 10:30:27.000000000,2019-05-08 10:30:27.000000000,"[{'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 11343}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-27 16:09:46.000000000', 'files': ['doc/source/install/compute-install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/4682b2dd6456796a72d209bae70d8ececb2c9951', 'message': 'Update install guide for stein release\n\nChange-Id: Ie0d875b3c7ce25c7c1e8b629c624f271ad2e8f9d\n'}]",0,656069,4682b2dd6456796a72d209bae70d8ececb2c9951,7,6,1,11536,,,0,"Update install guide for stein release

Change-Id: Ie0d875b3c7ce25c7c1e8b629c624f271ad2e8f9d
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/69/656069/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/compute-install-ubuntu.rst'],1,4682b2dd6456796a72d209bae70d8ececb2c9951,, # git clone -b stable/stein https://git.openstack.org/openstack/kuryr-libnetwork.git, # git clone -b stable/rocky https://git.openstack.org/openstack/kuryr-libnetwork.git,1,1
openstack%2Fkuryr-libnetwork~master~I4fee6ebcca6cbb1c610fa19c4294ef5a45b50709,openstack/kuryr-libnetwork,master,I4fee6ebcca6cbb1c610fa19c4294ef5a45b50709,Replace port 35357 with port 5000,MERGED,2019-04-29 22:17:04.000000000,2019-05-08 10:30:26.000000000,2019-05-08 10:30:26.000000000,"[{'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 11343}, {'_account_id': 11536}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-29 22:17:04.000000000', 'files': ['Dockerfile', 'contrib/docker/v2plugin/config.json', 'doc/source/install/compute-install-ubuntu.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/c528e9be2fe244329c83429d5375da5ab398561f', 'message': 'Replace port 35357 with port 5000\n\nStarting from Keystone v3, the port 35357 is not used.\nSee: https://review.opendev.org/#/c/541857/\n\nChange-Id: I4fee6ebcca6cbb1c610fa19c4294ef5a45b50709\n'}]",0,656414,c528e9be2fe244329c83429d5375da5ab398561f,8,7,1,11536,,,0,"Replace port 35357 with port 5000

Starting from Keystone v3, the port 35357 is not used.
See: https://review.opendev.org/#/c/541857/

Change-Id: I4fee6ebcca6cbb1c610fa19c4294ef5a45b50709
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/14/656414/1 && git format-patch -1 --stdout FETCH_HEAD,"['Dockerfile', 'contrib/docker/v2plugin/config.json', 'doc/source/install/compute-install-ubuntu.rst', 'README.rst']",4,c528e9be2fe244329c83429d5375da5ab398561f,, -e IDENTITY_URL=http://127.0.0.1:5000/v3 \ auth_url = http://127.0.0.1:5000/v3/ auth_url = http://127.0.0.1:5000/v2.0/ auth_url = http://KEYSTONE_SERVER_IP:5000/v3/, -e IDENTITY_URL=http://127.0.0.1:35357/v3 \ auth_url = http://127.0.0.1:35357/v3/ auth_url = http://127.0.0.1:35357/v2.0/ auth_url = http://KEYSTONE_SERVER_IP:35357/v3/,7,7
openstack%2Fironic-specs~master~If06a019cf97aca48949054b331b526f4d9bf6cc1,openstack/ironic-specs,master,If06a019cf97aca48949054b331b526f4d9bf6cc1,Follow up for Intel SST-PP spec,MERGED,2019-05-06 08:41:16.000000000,2019-05-08 10:11:51.000000000,2019-05-08 10:11:51.000000000,"[{'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-05-06 08:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/4528856356fc7cf1cdb02a2778b3c5e76830ec74', 'message': 'Follow up for Intel SST-PP spec\n\nThis patch fixes the comments on https://review.opendev.org/#/c/651459/9\n\nChange-Id: If06a019cf97aca48949054b331b526f4d9bf6cc1\n'}, {'number': 2, 'created': '2019-05-06 08:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/8d6392e43dd4d52448dc5f1f640d3463b64d2435', 'message': 'Follow up for Intel SST-PP spec\n\nThis patch fixes the comments on https://review.opendev.org/#/c/651459/9\n\nChange-Id: If06a019cf97aca48949054b331b526f4d9bf6cc1\n'}, {'number': 3, 'created': '2019-05-07 07:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/c42a7e1d1f882ef2dadf9f87cbf532c55b48dba1', 'message': 'Follow up for Intel SST-PP spec\n\nThis patch fixes the comments on https://review.opendev.org/#/c/651459/9\n\nChange-Id: If06a019cf97aca48949054b331b526f4d9bf6cc1\n'}, {'number': 4, 'created': '2019-05-08 03:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/3d7d814c027bf71137ba86f36063c20d01cbf27d', 'message': 'Follow up for Intel SST-PP spec\n\nThis patch fixes the comments on https://review.opendev.org/#/c/651459/9\n\nChange-Id: If06a019cf97aca48949054b331b526f4d9bf6cc1\n'}, {'number': 5, 'created': '2019-05-08 09:37:14.000000000', 'files': ['specs/approved/support-intel-speed-select.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/973a1833b7c0fc61899e317a4a1c9c07d7fb2322', 'message': 'Follow up for Intel SST-PP spec\n\nThis patch fixes the comments on https://review.opendev.org/#/c/651459/9\n\nChange-Id: If06a019cf97aca48949054b331b526f4d9bf6cc1\n'}]",8,657347,973a1833b7c0fc61899e317a4a1c9c07d7fb2322,24,9,5,10206,,,0,"Follow up for Intel SST-PP spec

This patch fixes the comments on https://review.opendev.org/#/c/651459/9

Change-Id: If06a019cf97aca48949054b331b526f4d9bf6cc1
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/47/657347/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/support-intel-speed-select.rst'],1,4528856356fc7cf1cdb02a2778b3c5e76830ec74,,"Multiple types of servers are needed to handle diverse workloads. Purchasingperformance and optimizes TCO by providing more control over CPU performance. With Intel SST, one server can do more which means the same server can be used to run different workloads. One of the feature is Intel Speed Select Technology-Performance Profile (SST-PP) which allows configuring the CPU to run at 3 distinct operating points or profiles.frequencies which can help to tune the server to specific workload performance.own hexa raw code that the server understands. Ironic sends this code to the server via IPMI to set the desired SST-PP level. $ openstack baremetal node add trait node-0 \Now, when user sends a request to boot a node with the ``baremetal`` flavor, placement API service will select the Ironic node that supports Intel SST-PP.* Number of socket: This is the number of sockets per CPU. Setting Intel SST-PP needs to be done for every socket. enabled servers.* Add a new management interface ``IntelIPMIManagement`` to manage the configuration of Intel SST-PP on the servers. This class will have a new deploy step ``configure_intel_speedselect`` to configure Intel SST-PP on the nodes. This will also be enabled as a clean step so that it can be used to reset the configuration while node cleaning. The following table contains the ``intel_speedselect_config`` values for the proposed deploy templates::Users will have to update the traits with the desired Intel SST-PP configuration level in the corresponding flavors.","Multiple type of servers are needed to handle diverse workloads. Purchasingperformance and optimize TCO by providing more control over CPU performance. With Intel SST, one server can do more which means same server can be used to run different workloads. One of the feature is Intel Speed Select Technology-Performance Profile (SST-PP) allows configuring the CPU to run at 3 distinct operating points or profiles.frequency. It allows to set the number of cores and their frequencies which can help to tune the server to specific workload performance.own hexa raw code that server understands. Ironic sends this code to the server via IPMI to set the desired SST-PP level. $ openstack --os-baremetal-api-version 1.37 baremetal node add trait node-0 \Now, when user sends a request to boot a node with the ``baremetal`` flavor. Placement API service will select the Ironic node that supports Intel SST-PP.* No. of socket: This is the no. of sockets per CPU. Setting Intel SST-PP needs to be done for every socket. enabled hardwares.* Add a new management interface ``IntelIPMIManagement`` to manage configuring Intel SST-PP on the servers. This class will have a new deploy step ``configure_intel_speedselect`` to configure Intel SST-PP on the nodes. This will also be enabled as a clean step so that it can be used to reset configuration while node cleaning. Following is table for ``intel_speedselect_config`` value corresponding each deploy template::Users will have to update the traits with required Intel SST-PP configuration level in flavor.",24,25
openstack%2Fcharm-nova-cell-controller~stable%2F19.04~Ibc8432251bba9ec5967620655133a37db9baeee3,openstack/charm-nova-cell-controller,stable/19.04,Ibc8432251bba9ec5967620655133a37db9baeee3,Migrate Zaza tests to independant OpenStack Charms specific library,MERGED,2019-05-02 05:57:27.000000000,2019-05-08 10:08:13.000000000,2019-05-08 10:08:12.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 05:57:27.000000000', 'files': ['src/test-requirements.txt', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/4eb98f828382d9ad4c964137c43282651d442617', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: Ibc8432251bba9ec5967620655133a37db9baeee3\n(cherry picked from commit fa615488d3513071f63e040b5dba08382ae3e14a)\n'}]",0,656727,4eb98f828382d9ad4c964137c43282651d442617,9,4,1,20634,,,0,"Migrate Zaza tests to independant OpenStack Charms specific library

Change-Id: Ibc8432251bba9ec5967620655133a37db9baeee3
(cherry picked from commit fa615488d3513071f63e040b5dba08382ae3e14a)
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/27/656727/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/test-requirements.txt', 'src/tests/tests.yaml']",2,4eb98f828382d9ad4c964137c43282651d442617,zaza-refactor-stable/19.04, - zaza.openstack.charm_tests.nova.tests.CirrosGuestCreateTest configure: - zaza.openstack.charm_tests.glance.setup.add_cirros_image - zaza.openstack.charm_tests.glance.setup.add_lts_image - zaza.openstack.charm_tests.neutron.setup.basic_overcloud_network - zaza.openstack.charm_tests.nova.setup.create_flavors - zaza.openstack.charm_tests.nova.setup.manage_ssh_key, - zaza.charm_tests.nova.tests.CirrosGuestCreateTest configure: - zaza.charm_tests.glance.setup.add_cirros_image - zaza.charm_tests.glance.setup.add_lts_image - zaza.charm_tests.neutron.setup.basic_overcloud_network - zaza.charm_tests.nova.setup.create_flavors - zaza.charm_tests.nova.setup.manage_ssh_key,7,7
openstack%2Fcharm-ceph-osd~stable%2F19.04~Ia50a57c52c97208a014ea89e6c48be2fe6f9f36d,openstack/charm-ceph-osd,stable/19.04,Ia50a57c52c97208a014ea89e6c48be2fe6f9f36d,Migrate Zaza tests to independant OpenStack Charms specific library,MERGED,2019-05-02 05:57:36.000000000,2019-05-08 10:05:37.000000000,2019-05-08 10:05:36.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 05:57:36.000000000', 'files': ['tests/tests.yaml', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/16f7581ce4dab4cca7d67a7a1796a418ee8e23c7', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: Ia50a57c52c97208a014ea89e6c48be2fe6f9f36d\n(cherry picked from commit 67ddea1e5a09c9fb255a45e1e58ceeb7a2cfd64c)\n'}]",0,656730,16f7581ce4dab4cca7d67a7a1796a418ee8e23c7,9,4,1,20634,,,0,"Migrate Zaza tests to independant OpenStack Charms specific library

Change-Id: Ia50a57c52c97208a014ea89e6c48be2fe6f9f36d
(cherry picked from commit 67ddea1e5a09c9fb255a45e1e58ceeb7a2cfd64c)
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/30/656730/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'test-requirements.txt']",2,16f7581ce4dab4cca7d67a7a1796a418ee8e23c7,zaza-refactor-stable/19.04,git+https://github.com/openstack-charmers/zaza.git@namespace-tests#egg=zaza;python_version>='3.0',git+https://github.com/openstack-charmers/zaza.git#egg=zaza;python_version>='3.0',6,6
openstack%2Fcharm-barbican-vault~stable%2F19.04~I4edcecf076d1659aad5c62ad7ef0573f8226f00c,openstack/charm-barbican-vault,stable/19.04,I4edcecf076d1659aad5c62ad7ef0573f8226f00c,Migrate Zaza tests to independant OpenStack Charms specific library,MERGED,2019-05-02 05:57:23.000000000,2019-05-08 10:05:24.000000000,2019-05-08 10:05:24.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 05:57:23.000000000', 'files': ['src/test-requirements.txt', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/dfa3b8bddda0d43ecdc1f692019335b1e0d8e4e9', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: I4edcecf076d1659aad5c62ad7ef0573f8226f00c\n(cherry picked from commit 38d4a4bf211a7585a194abf6ba778aed2f0af2d6)\n'}]",0,656726,dfa3b8bddda0d43ecdc1f692019335b1e0d8e4e9,9,4,1,20634,,,0,"Migrate Zaza tests to independant OpenStack Charms specific library

Change-Id: I4edcecf076d1659aad5c62ad7ef0573f8226f00c
(cherry picked from commit 38d4a4bf211a7585a194abf6ba778aed2f0af2d6)
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/26/656726/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/test-requirements.txt', 'src/tests/tests.yaml']",2,dfa3b8bddda0d43ecdc1f692019335b1e0d8e4e9,zaza-refactor-stable/19.04,- zaza.openstack.charm_tests.vault.setup.basic_setup tests: - zaza.openstack.charm_tests.barbican_vault.tests.BarbicanVaultUnsealVault,- zaza.charm_tests.vault.setup.basic_setup tests: - zaza.charm_tests.barbican_vault.tests.BarbicanVaultUnsealVault,3,3
openstack%2Fcharm-keystone~stable%2F19.04~I19c98b17087b6d1ff86aa749654a13a14e61c951,openstack/charm-keystone,stable/19.04,I19c98b17087b6d1ff86aa749654a13a14e61c951,Migrate Zaza tests to independant OpenStack Charms specific library,MERGED,2019-05-02 05:57:30.000000000,2019-05-08 10:04:41.000000000,2019-05-08 10:04:41.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 05:57:30.000000000', 'files': ['tests/tests.yaml', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/d30f49140024365cafc11938a67d33385edaf410', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: I19c98b17087b6d1ff86aa749654a13a14e61c951\n(cherry picked from commit 665ef98ba92cbe1e1900f9394706044be5b62076)\n'}]",0,656728,d30f49140024365cafc11938a67d33385edaf410,11,4,1,20634,,,0,"Migrate Zaza tests to independant OpenStack Charms specific library

Change-Id: I19c98b17087b6d1ff86aa749654a13a14e61c951
(cherry picked from commit 665ef98ba92cbe1e1900f9394706044be5b62076)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/28/656728/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'test-requirements.txt']",2,d30f49140024365cafc11938a67d33385edaf410,zaza-refactor-stable/19.04,git+https://github.com/openstack-charmers/zaza.git@namespace-tests#egg=zaza;python_version>='3.0',git+https://github.com/openstack-charmers/zaza.git#egg=zaza;python_version>='3.0',6,6
openstack%2Fcharm-ceph-radosgw~stable%2F19.04~Ib39798d8676e9431a55be6a0a52e9ad5de66f3da,openstack/charm-ceph-radosgw,stable/19.04,Ib39798d8676e9431a55be6a0a52e9ad5de66f3da,Migrate Zaza tests to independant OpenStack Charms specific library,MERGED,2019-05-02 05:57:44.000000000,2019-05-08 10:02:29.000000000,2019-05-08 10:02:28.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 05:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/b252026690d2c61596814f1b20e3a5c55dec873d', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: Ib39798d8676e9431a55be6a0a52e9ad5de66f3da\n(cherry picked from commit 33e4afc8b0cb00ffdc5067145820e0f74a06d403)\n'}, {'number': 2, 'created': '2019-05-07 13:58:40.000000000', 'files': ['tests/tests.yaml', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/68bcc0483bca4c7ad6aa63a6017befb6048765cf', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: Ib39798d8676e9431a55be6a0a52e9ad5de66f3da\n(cherry picked from commit 33e4afc8b0cb00ffdc5067145820e0f74a06d403)\n'}]",0,656732,68bcc0483bca4c7ad6aa63a6017befb6048765cf,19,4,2,20634,,,0,"Migrate Zaza tests to independant OpenStack Charms specific library

Change-Id: Ib39798d8676e9431a55be6a0a52e9ad5de66f3da
(cherry picked from commit 33e4afc8b0cb00ffdc5067145820e0f74a06d403)
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/32/656732/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'test-requirements.txt']",2,b252026690d2c61596814f1b20e3a5c55dec873d,zaza-refactor-stable/19.04,git+https://github.com/openstack-charmers/zaza.git@namespace-tests#egg=zaza;python_version>='3.0',git+https://github.com/openstack-charmers/zaza.git#egg=zaza;python_version>='3.0' ,2,2
openstack%2Fneutron-lib~master~Id1bdd97634be0de52b3ad0697740cc1621c9682a,openstack/neutron-lib,master,Id1bdd97634be0de52b3ad0697740cc1621c9682a,use once rather than always for filterwarnings,MERGED,2019-05-06 21:13:42.000000000,2019-05-08 09:28:15.000000000,2019-05-08 09:28:15.000000000,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 21:13:42.000000000', 'files': ['neutron_lib/fixture.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c220374779ddb73c3d7870fcc0055cfe92a6dc84', 'message': 'use once rather than always for filterwarnings\n\nThe previous update to the WarningsFixture in [1] didn\'t account for\nthe use of ""once"" vs ""always"" for the filterwarnings call. This patch\nswitches over to ""once"" for parity with neutron.\n\n[1] https://review.opendev.org/#/c/651372/\n\nChange-Id: Id1bdd97634be0de52b3ad0697740cc1621c9682a\n'}]",0,657456,c220374779ddb73c3d7870fcc0055cfe92a6dc84,8,4,1,5367,,,0,"use once rather than always for filterwarnings

The previous update to the WarningsFixture in [1] didn't account for
the use of ""once"" vs ""always"" for the filterwarnings call. This patch
switches over to ""once"" for parity with neutron.

[1] https://review.opendev.org/#/c/651372/

Change-Id: Id1bdd97634be0de52b3ad0697740cc1621c9682a
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/56/657456/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/fixture.py'],1,c220374779ddb73c3d7870fcc0055cfe92a6dc84,fix-warnfixture," ""once"", category=wtype, module='|'.join(self._modules))"," ""always"", category=wtype, module='|'.join(self._modules))",1,1
openstack%2Fpuppet-tripleo~master~I629e9e37aff9a1610df874b46c7a5b1eedd3e374,openstack/puppet-tripleo,master,I629e9e37aff9a1610df874b46c7a5b1eedd3e374,Fix kolla permissions errors inside nova_virtlogd,MERGED,2019-03-11 19:35:20.000000000,2019-05-08 09:27:55.000000000,2019-03-12 04:33:45.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-03-11 19:35:20.000000000', 'files': ['manifests/profile/base/nova/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7643761601a89823efee9bbbd92f2d05106fc129', 'message': ""Fix kolla permissions errors inside nova_virtlogd\n\n[stack@win1 ~]$ sudo podman logs nova_virtlogd\n+sudo -E kolla_set_configs OSError: [Errno 30] Read-only file system\n\nThe reason is the following nova_virtlogd bind mount:\n ... - /etc/libvirt/qemu:/etc/libvirt/qemu:ro\n\nSeems kolla config has a some empty folders that are then copied to a\n:ro fs and we fail:\n()[root@win1 /]$ find\nvar/lib/kolla/config_files/src/\nvar/lib/kolla/config_files/src/\nvar/lib/kolla/config_files/src/etc\nvar/lib/kolla/config_files/src/etc/libvirt\nvar/lib/kolla/config_files/src/etc/libvirt/qemu\nvar/lib/kolla/config_files/src/etc/libvirt/qemu/networks\nvar/lib/kolla/config_files/src/etc/libvirt/qemu/networks/autostart\n\nSince the above empty folders are due to the timestamp\nchange caused by the default.xml file removal, let's do\nthose on BM only.\n\nHopefully compute folks can propose a more definitive fix that\ntakes that default.xml removal logic into host-prep-task (if it\nis still needed)\n\nTested on a RHEL8 OS/Containers combo and the error is gone:\n[root@overcloud-novacompute-0 ~]# podman logs nova_virtlogd 2>&1| tail -n5\n++ chmod 755 /var/log/kolla/libvirt\n++ chmod 644 /var/log/kolla/libvirt/libvirtd.log\nRunning command: '/usr/sbin/virtlogd --config /etc/libvirt/virtlogd.conf'\n+ echo 'Running command: '\\''/usr/sbin/virtlogd --config /etc/libvirt/virtlogd.conf'\\'''\n+ exec /usr/sbin/virtlogd --config /etc/libvirt/virtlogd.conf\n\nChange-Id: I629e9e37aff9a1610df874b46c7a5b1eedd3e374\nCloses-Bug: #1819482\n""}]",2,642549,7643761601a89823efee9bbbd92f2d05106fc129,12,7,1,20172,,,0,"Fix kolla permissions errors inside nova_virtlogd

[stack@win1 ~]$ sudo podman logs nova_virtlogd
+sudo -E kolla_set_configs OSError: [Errno 30] Read-only file system

The reason is the following nova_virtlogd bind mount:
 ... - /etc/libvirt/qemu:/etc/libvirt/qemu:ro

Seems kolla config has a some empty folders that are then copied to a
:ro fs and we fail:
()[root@win1 /]$ find
var/lib/kolla/config_files/src/
var/lib/kolla/config_files/src/
var/lib/kolla/config_files/src/etc
var/lib/kolla/config_files/src/etc/libvirt
var/lib/kolla/config_files/src/etc/libvirt/qemu
var/lib/kolla/config_files/src/etc/libvirt/qemu/networks
var/lib/kolla/config_files/src/etc/libvirt/qemu/networks/autostart

Since the above empty folders are due to the timestamp
change caused by the default.xml file removal, let's do
those on BM only.

Hopefully compute folks can propose a more definitive fix that
takes that default.xml removal logic into host-prep-task (if it
is still needed)

Tested on a RHEL8 OS/Containers combo and the error is gone:
[root@overcloud-novacompute-0 ~]# podman logs nova_virtlogd 2>&1| tail -n5
++ chmod 755 /var/log/kolla/libvirt
++ chmod 644 /var/log/kolla/libvirt/libvirtd.log
Running command: '/usr/sbin/virtlogd --config /etc/libvirt/virtlogd.conf'
+ echo 'Running command: '\''/usr/sbin/virtlogd --config /etc/libvirt/virtlogd.conf'\'''
+ exec /usr/sbin/virtlogd --config /etc/libvirt/virtlogd.conf

Change-Id: I629e9e37aff9a1610df874b46c7a5b1eedd3e374
Closes-Bug: #1819482
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/49/642549/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/nova/libvirt.pp'],1,7643761601a89823efee9bbbd92f2d05106fc129,bug/1819482," # This removal of files in /etc/libvirt/qemu should not happen inside containers # Avoids LP#1819482 if ! ($::uuid == 'docker' or $::deployment_type == 'containers') { file { ['/etc/libvirt/qemu/networks/autostart/default.xml', '/etc/libvirt/qemu/networks/default.xml']: ensure => absent, require => Package['libvirt'], before => Service['libvirt'], }"," file { ['/etc/libvirt/qemu/networks/autostart/default.xml', '/etc/libvirt/qemu/networks/default.xml']: ensure => absent, require => Package['libvirt'], before => Service['libvirt'],",9,5
openstack%2Fpuppet-openstack-guide~master~Ia93b8a96d459fd6927d7c57d1d11c9b72ef6d959,openstack/puppet-openstack-guide,master,Ia93b8a96d459fd6927d7c57d1d11c9b72ef6d959,Update EOL time for Rocky release,MERGED,2019-05-08 08:21:42.000000000,2019-05-08 08:56:48.000000000,2019-05-08 08:56:48.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-08 08:21:42.000000000', 'files': ['doc/source/install/releases.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/e3c134ca8b7954a216b1ae84cfbbf205fa3f2649', 'message': 'Update EOL time for Rocky release\n\nChange-Id: Ia93b8a96d459fd6927d7c57d1d11c9b72ef6d959\n'}]",0,657754,e3c134ca8b7954a216b1ae84cfbbf205fa3f2649,6,2,1,9414,,,0,"Update EOL time for Rocky release

Change-Id: Ia93b8a96d459fd6927d7c57d1d11c9b72ef6d959
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/54/657754/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/releases.rst'],1,e3c134ca8b7954a216b1ae84cfbbf205fa3f2649,update-eol-rocky-time,| 13.z.y | Rocky | yes - EOL (2018-08-30) |,| 13.z.y | Rocky | yes - EOL (2019-02-23) |,1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ia630f08f553bd53656c76e5c8059f15d314a17c0,openstack/tripleo-heat-templates,stable/queens,Ia630f08f553bd53656c76e5c8059f15d314a17c0,Be explicit when passing vars into deploy steps,ABANDONED,2019-04-09 08:11:27.000000000,2019-05-08 08:51:49.000000000,,"[{'_account_id': 360}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-09 08:11:27.000000000', 'files': ['common/deploy-steps.j2', 'common/deploy-steps-tasks.yaml', 'docker/docker-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/848e3b2556a34e3d99147190dce4619b372dedec', 'message': ""Be explicit when passing vars into deploy steps\n\nImplicit defaults hide issues with overring ansible variables as we\npass values in from deploy-steps.j2.\n\nMake no implicit defaults for variables passed into deploy steps via\nansible vars. Only expect those take the values defined in the caller\ndeploy-steps.j2 playbook template. Add missing params and vars for\ntemplates to propagate ansible values for external deploy/upgrade,\nupgrade/update and post upgrade steps playbooks.\n\nMake DockerPuppetDebug boolean to align with other booleans we pass\ninto deploy steps via ansible vars. Fix its processing in\ndocker-puppet.py, which is defaults for DockerPuppetDebug: ''\nconverted into 'false' in deploy steps tasks playbook, and then\nthat becomes always True in docker-puppet.py.\n\nThat is only a partial backport as there is other master/stein\npatches to deploy-steps* seem missing.\n\nRelated-Bug: #1799914\n\nChange-Id: Ia630f08f553bd53656c76e5c8059f15d314a17c0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",0,651133,848e3b2556a34e3d99147190dce4619b372dedec,6,6,1,6926,,,0,"Be explicit when passing vars into deploy steps

Implicit defaults hide issues with overring ansible variables as we
pass values in from deploy-steps.j2.

Make no implicit defaults for variables passed into deploy steps via
ansible vars. Only expect those take the values defined in the caller
deploy-steps.j2 playbook template. Add missing params and vars for
templates to propagate ansible values for external deploy/upgrade,
upgrade/update and post upgrade steps playbooks.

Make DockerPuppetDebug boolean to align with other booleans we pass
into deploy steps via ansible vars. Fix its processing in
docker-puppet.py, which is defaults for DockerPuppetDebug: ''
converted into 'false' in deploy steps tasks playbook, and then
that becomes always True in docker-puppet.py.

That is only a partial backport as there is other master/stein
patches to deploy-steps* seem missing.

Related-Bug: #1799914

Change-Id: Ia630f08f553bd53656c76e5c8059f15d314a17c0
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/651133/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps.j2', 'common/deploy-steps-tasks.yaml', 'docker/docker-puppet.py']",3,848e3b2556a34e3d99147190dce4619b372dedec,," if os.environ.get('DEBUG') in ['True', 'true'] :"," if os.environ.get('DEBUG', False):",7,6
openstack%2Fopenstack-helm~master~I0062e74bed399206becb8d9e00f9ec805da864a3,openstack/openstack-helm,master,I0062e74bed399206becb8d9e00f9ec805da864a3,Use nova's ping method to find out if the service is alive,MERGED,2019-04-09 08:48:22.000000000,2019-05-08 08:34:07.000000000,2019-05-08 00:37:34.000000000,"[{'_account_id': 2062}, {'_account_id': 2394}, {'_account_id': 4393}, {'_account_id': 6593}, {'_account_id': 6928}, {'_account_id': 8749}, {'_account_id': 8864}, {'_account_id': 9963}, {'_account_id': 12281}, {'_account_id': 14070}, {'_account_id': 19307}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29364}]","[{'number': 1, 'created': '2019-04-09 08:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b3d5de145497ab86027e9b7d2b6b2bcff19bd8bc', 'message': 'WIP: Use real rpc methods to find out if the service is alive\n\nThere used to be fake rpc call ""pod_health_probe_method_ignore_errors""\nto pass to the service, just to find out if it is responding. Because\nsuch method does not exist, it is needed to catch and handle the exception\nthat is inevitably thrown by the service.\n\nWhile this is technically working correctly, the exceptions pollute the\nlog files and make it harder for user to see possible real errors.\n\nThis situation is new since https://review.openstack.org/#/c/639711/\nwhich (correctly) increased the default level of logging. Before 639711\nerror messages from oslo (both real and ones that could be ignored) were not\npresent in nova logs at all.\n\nChange-Id: I0062e74bed399206becb8d9e00f9ec805da864a3\n'}, {'number': 2, 'created': '2019-04-09 14:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/99a77d20661cb84c5b6e83af8a265513df2c7a92', 'message': 'WIP: Use real rpc methods to find out if the service is alive\n\nCurrently there is fake rpc call ""pod_health_probe_method_ignore_errors""\nthat is passed to the service, just to find out if it is responding. Because\nsuch method does not exist, it is needed to catch and handle the exception\nthat is inevitably thrown by the service.\n\nWhile this is technically working correctly, the exceptions pollute the\nlog files and make it harder for user to see possible real errors.\n\nThis is how the error looks like:\n\nERROR oslo_messaging.rpc.server [-] Exception during message handling: oslo_messaging.rpc.dispatcher.UnsupportedVersion: Endpoint does not support RPC version 1.0. Attempted method: pod_health_probe_method_ignore_errors\nERROR oslo_messaging.rpc.server Traceback (most recent call last):\nERROR oslo_messaging.rpc.server   File ""/var/lib/openstack/lib/python3.6/site-packages/oslo_messaging/rpc/server.py"", line 163, in _process_incoming\nERROR oslo_messaging.rpc.server     res = self.dispatcher.dispatch(message)\nERROR oslo_messaging.rpc.server   File ""/var/lib/openstack/lib/python3.6/site-packages/oslo_messaging/rpc/dispatcher.py"", line 276, in dispatch\nERROR oslo_messaging.rpc.server     raise UnsupportedVersion(version, method=method)\nERROR oslo_messaging.rpc.server oslo_messaging.rpc.dispatcher.UnsupportedVersion: Endpoint does not support RPC version 1.0. Attempted method: pod_health_probe_method_ignore_errors\n\nThis situation is new since https://review.openstack.org/#/c/639711/\nwhich (correctly) increased the default level of logging. Before 639711\nerror messages from oslo (both real and ones that could be ignored) were not\npresent in nova logs at all.\n\nChange-Id: I0062e74bed399206becb8d9e00f9ec805da864a3\n'}, {'number': 3, 'created': '2019-04-29 12:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/477042ede9b8231b5c3504fb421e70d8e7728a7d', 'message': 'Use nova\'s ping method to find out if the service is alive\n\nCurrently there is fake rpc call ""pod_health_probe_method_ignore_errors""\nthat is passed to the service, just to find out if it is responding. Because\nsuch method does not exist, it is needed to catch and handle the exception\nthat is inevitably thrown by the service.\n\nWhile this is technically working correctly, the exceptions pollute the\nlog files and make it harder for user to see possible real errors.\n\nThis is how the error looks like:\n\nERROR oslo_messaging.rpc.server [-] Exception during message handling: oslo_messaging.rpc.dispatcher.UnsupportedVersion: Endpoint does not support RPC version 1.0. Attempted method: pod_health_probe_method_ignore_errors\nERROR oslo_messaging.rpc.server Traceback (most recent call last):\nERROR oslo_messaging.rpc.server   File ""/var/lib/openstack/lib/python3.6/site-packages/oslo_messaging/rpc/server.py"", line 163, in _process_incoming\nERROR oslo_messaging.rpc.server     res = self.dispatcher.dispatch(message)\nERROR oslo_messaging.rpc.server   File ""/var/lib/openstack/lib/python3.6/site-packages/oslo_messaging/rpc/dispatcher.py"", line 276, in dispatch\nERROR oslo_messaging.rpc.server     raise UnsupportedVersion(version, method=method)\nERROR oslo_messaging.rpc.server oslo_messaging.rpc.dispatcher.UnsupportedVersion: Endpoint does not support RPC version 1.0. Attempted method: pod_health_probe_method_ignore_errors\n\nThis situation is new since https://review.openstack.org/#/c/639711/\nwhich (correctly) increased the default level of logging. Before 639711\nerror messages from oslo (both real and ones that could be ignored) were not\npresent in nova logs at all.\n\nFortunatelly, nova\'s BaseAPI class provides \'ping\' method that is can\nbe used for this basic purpose by all nova components.\n\nChange-Id: I0062e74bed399206becb8d9e00f9ec805da864a3\n'}, {'number': 4, 'created': '2019-05-02 08:27:08.000000000', 'files': ['nova/templates/bin/_health-probe.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/baf5356a4fb61590a95f64a63c0dcabfebb3baaa', 'message': 'Use nova\'s ping method to find out if the service is alive\n\nCurrently there is fake rpc call ""pod_health_probe_method_ignore_errors""\nthat is passed to the service, just to find out if it is responding. Because\nsuch method does not exist, it is needed to catch and handle the exception\nthat is inevitably thrown by the service.\n\nWhile this is technically working correctly, the exceptions pollute the\nlog files and make it harder for user to see possible real errors.\n\nThis is how the error looks like:\n\nERROR oslo_messaging.rpc.server [-] Exception during message handling: oslo_messaging.rpc.dispatcher.UnsupportedVersion: Endpoint does not support RPC version 1.0. Attempted method: pod_health_probe_method_ignore_errors\nERROR oslo_messaging.rpc.server Traceback (most recent call last):\nERROR oslo_messaging.rpc.server   File ""/var/lib/openstack/lib/python3.6/site-packages/oslo_messaging/rpc/server.py"", line 163, in _process_incoming\nERROR oslo_messaging.rpc.server     res = self.dispatcher.dispatch(message)\nERROR oslo_messaging.rpc.server   File ""/var/lib/openstack/lib/python3.6/site-packages/oslo_messaging/rpc/dispatcher.py"", line 276, in dispatch\nERROR oslo_messaging.rpc.server     raise UnsupportedVersion(version, method=method)\nERROR oslo_messaging.rpc.server oslo_messaging.rpc.dispatcher.UnsupportedVersion: Endpoint does not support RPC version 1.0. Attempted method: pod_health_probe_method_ignore_errors\n\nThis situation is new since https://review.openstack.org/#/c/639711/\nwhich (correctly) increased the default level of logging. Before 639711\nerror messages from oslo (both real and ones that could be ignored) were not\npresent in nova logs at all.\n\nFortunatelly, nova\'s BaseAPI class provides \'ping\' method that is can\nbe used for this basic purpose by all nova components.\n\nChange-Id: I0062e74bed399206becb8d9e00f9ec805da864a3\n'}]",4,651140,baf5356a4fb61590a95f64a63c0dcabfebb3baaa,29,15,4,9963,,,0,"Use nova's ping method to find out if the service is alive

Currently there is fake rpc call ""pod_health_probe_method_ignore_errors""
that is passed to the service, just to find out if it is responding. Because
such method does not exist, it is needed to catch and handle the exception
that is inevitably thrown by the service.

While this is technically working correctly, the exceptions pollute the
log files and make it harder for user to see possible real errors.

This is how the error looks like:

ERROR oslo_messaging.rpc.server [-] Exception during message handling: oslo_messaging.rpc.dispatcher.UnsupportedVersion: Endpoint does not support RPC version 1.0. Attempted method: pod_health_probe_method_ignore_errors
ERROR oslo_messaging.rpc.server Traceback (most recent call last):
ERROR oslo_messaging.rpc.server   File ""/var/lib/openstack/lib/python3.6/site-packages/oslo_messaging/rpc/server.py"", line 163, in _process_incoming
ERROR oslo_messaging.rpc.server     res = self.dispatcher.dispatch(message)
ERROR oslo_messaging.rpc.server   File ""/var/lib/openstack/lib/python3.6/site-packages/oslo_messaging/rpc/dispatcher.py"", line 276, in dispatch
ERROR oslo_messaging.rpc.server     raise UnsupportedVersion(version, method=method)
ERROR oslo_messaging.rpc.server oslo_messaging.rpc.dispatcher.UnsupportedVersion: Endpoint does not support RPC version 1.0. Attempted method: pod_health_probe_method_ignore_errors

This situation is new since https://review.openstack.org/#/c/639711/
which (correctly) increased the default level of logging. Before 639711
error messages from oslo (both real and ones that could be ignored) were not
present in nova logs at all.

Fortunatelly, nova's BaseAPI class provides 'ping' method that is can
be used for this basic purpose by all nova components.

Change-Id: I0062e74bed399206becb8d9e00f9ec805da864a3
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/40/651140/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/bin/_health-probe.py.tpl'],1,b3d5de145497ab86027e9b7d2b6b2bcff19bd8bc,nova-probes,"# TODO: update the description here# python health-probe.py --config-file /etc/nova/nova.conf \ server=socket.gethostname(), version=""4.0"") # TODO: we must provide correct RPC version for different openstack releases # via some argument (or values.yaml) # TODO: we might need different method names for differnt nova components if cfg.CONF.service_queue_name == ""compute"": # get_console_topic is just a simple method without any arguments client.call(context.RequestContext(), 'get_console_topic') else: client.call(context.RequestContext(),","# python health-probe-rpc.py --config-file /etc/nova/nova.conf \ server=socket.gethostname()) client.call(context.RequestContext(),",12,3
openstack%2Fwatcher~stable%2Fstein~I287763d5e426ff860aefabc4a1f3fe3f51accd76,openstack/watcher,stable/stein,I287763d5e426ff860aefabc4a1f3fe3f51accd76,Resolve problems with audit scope and add tests,MERGED,2019-05-08 01:44:46.000000000,2019-05-08 08:22:19.000000000,2019-05-08 08:22:19.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 27609}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-05-08 01:44:46.000000000', 'files': ['watcher/decision_engine/model/collector/nova.py', 'watcher/tests/decision_engine/cluster/test_model_builder.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/36c2095254a24cbcfa7bc11b8bd453de0f659c5a', 'message': 'Resolve problems with audit scope and add tests\n\nThis resolves problems with the audit scope such as the scope being\nignored, the scope not merging due to a type in .append, change update\ninto .add method when adding single elements to a set and making the\naccess of dict keys and values as lists work in python 3.7.\n\nAll these methods from the model builder now have tests to prevent\nregressions.\n\nCo-Authored-By: Canwei Li <li.canwei2@zte.com.cn>\n\nChange-Id: I287763d5e426ff860aefabc4a1f3fe3f51accd76\n(cherry picked from commit d84f8c50f5f52207ebaf7824df0c585ec10f5a9c)\n'}]",0,657717,36c2095254a24cbcfa7bc11b8bd453de0f659c5a,7,4,1,21692,,,0,"Resolve problems with audit scope and add tests

This resolves problems with the audit scope such as the scope being
ignored, the scope not merging due to a type in .append, change update
into .add method when adding single elements to a set and making the
access of dict keys and values as lists work in python 3.7.

All these methods from the model builder now have tests to prevent
regressions.

Co-Authored-By: Canwei Li <li.canwei2@zte.com.cn>

Change-Id: I287763d5e426ff860aefabc4a1f3fe3f51accd76
(cherry picked from commit d84f8c50f5f52207ebaf7824df0c585ec10f5a9c)
",git fetch https://review.opendev.org/openstack/watcher refs/changes/17/657717/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/decision_engine/model/collector/nova.py', 'watcher/tests/decision_engine/cluster/test_model_builder.py']",2,36c2095254a24cbcfa7bc11b8bd453de0f659c5a,fix-audit-scope-stable/stein,"# -*- encoding: utf-8 -*- # Copyright (c) 2019 European Organization for Nuclear Research (CERN) # # Authors: Corne Lukken <info@dantalion.nl> # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import mock from oslo_config import cfg from oslo_log import log from watcher.common import nova_helper from watcher.decision_engine.model.collector import nova from watcher.tests import base CONF = cfg.CONF LOG = log.getLogger(__name__) class TestModelBuilder(base.BaseTestCase): """"""Test the collector ModelBuilder Objects under test are preceded with t_ and mocked objects are preceded with m_ , additionally, patched objects are preceded with p_ no object under test should be created in setUp this can influence the results. """""" def setUp(self): super(TestModelBuilder, self).setUp() def test_check_model(self): """"""Initialize collector ModelBuilder and test check model"""""" m_scope = [{""compute"": [ {""host_aggregates"": [{""id"": 5}]}, {""availability_zones"": [{""name"": ""av_a""}]} ]}] t_nova_cluster = nova.ModelBuilder(mock.Mock()) self.assertTrue(t_nova_cluster._check_model_scope(m_scope)) def test_check_model_update_false(self): """"""Initialize check model with multiple identical scopes The seconds check_model should return false as the models are the same """""" m_scope = [{""compute"": [ {""host_aggregates"": [{""id"": 5}]}, {""availability_zones"": [{""name"": ""av_a""}]} ]}] t_nova_cluster = nova.ModelBuilder(mock.Mock()) self.assertTrue(t_nova_cluster._check_model_scope(m_scope)) self.assertFalse(t_nova_cluster._check_model_scope(m_scope)) def test_check_model_update_true(self): """"""Initialize check model with multiple different scopes Since the models differ both should return True for the update flag """""" m_scope_one = [{""compute"": [ {""host_aggregates"": [{""id"": 5}]}, {""availability_zones"": [{""name"": ""av_a""}]} ]}] m_scope_two = [{""compute"": [ {""host_aggregates"": [{""id"": 2}]}, {""availability_zones"": [{""name"": ""av_b""}]} ]}] t_nova_cluster = nova.ModelBuilder(mock.Mock()) self.assertTrue(t_nova_cluster._check_model_scope(m_scope_one)) self.assertTrue(t_nova_cluster._check_model_scope(m_scope_two)) def test_merge_compute_scope(self): """""""""""" m_scope_one = [ {""host_aggregates"": [{""id"": 5}]}, {""availability_zones"": [{""name"": ""av_a""}]} ] m_scope_two = [ {""host_aggregates"": [{""id"": 4}]}, {""availability_zones"": [{""name"": ""av_b""}]} ] reference = {'availability_zones': [{'name': 'av_a'}, {'name': 'av_b'}], 'host_aggregates': [{'id': 5}, {'id': 4}]} t_nova_cluster = nova.ModelBuilder(mock.Mock()) t_nova_cluster._merge_compute_scope(m_scope_one) t_nova_cluster._merge_compute_scope(m_scope_two) self.assertEqual(reference, t_nova_cluster.model_scope) @mock.patch.object(nova_helper, 'NovaHelper') def test_collect_aggregates(self, m_nova): """""""""""" m_nova.return_value.get_aggregate_list.return_value = \ [mock.Mock(id=1, name='example'), mock.Mock(id=5, name='example', hosts=['hostone', 'hosttwo'])] m_nova.return_value.get_compute_node_by_name.return_value = False m_scope = [{'id': 5}] t_nova_cluster = nova.ModelBuilder(mock.Mock()) result = set() t_nova_cluster._collect_aggregates(m_scope, result) self.assertEqual(set(['hostone', 'hosttwo']), result) @mock.patch.object(nova_helper, 'NovaHelper') def test_collect_zones(self, m_nova): """""""""""" m_nova.return_value.get_service_list.return_value = \ [mock.Mock(zone='av_b'), mock.Mock(zone='av_a', host='hostone')] m_nova.return_value.get_compute_node_by_name.return_value = False m_scope = [{'name': 'av_a'}] t_nova_cluster = nova.ModelBuilder(mock.Mock()) result = set() t_nova_cluster._collect_zones(m_scope, result) self.assertEqual(set(['hostone']), result) @mock.patch.object(nova_helper, 'NovaHelper') def test_add_physical_layer(self, m_nova): """""""""""" m_nova.return_value.get_aggregate_list.return_value = \ [mock.Mock(id=1, name='example'), mock.Mock(id=5, name='example', hosts=['hostone', 'hosttwo'])] m_nova.return_value.get_service_list.return_value = \ [mock.Mock(zone='av_b', host='hostthree'), mock.Mock(zone='av_a', host='hostone')] m_nova.return_value.get_compute_node_by_name.return_value = False m_scope = [{""compute"": [ {""host_aggregates"": [{""id"": 5}]}, {""availability_zones"": [{""name"": ""av_a""}]} ]}] t_nova_cluster = nova.ModelBuilder(mock.Mock()) t_nova_cluster.execute(m_scope) m_nova.return_value.get_compute_node_by_name.assert_any_call( 'hostone', servers=True) m_nova.return_value.get_compute_node_by_name.assert_any_call( 'hosttwo', servers=True) self.assertEqual( m_nova.return_value.get_compute_node_by_name.call_count, 2) ",,185,166
openstack%2Frpm-packaging~master~I3f9d9ee9414632fbab8ef2b01f21714d74fa8ac7,openstack/rpm-packaging,master,I3f9d9ee9414632fbab8ef2b01f21714d74fa8ac7,Use https for tarball.o.org,MERGED,2019-05-07 17:46:10.000000000,2019-05-08 08:20:54.000000000,2019-05-08 08:20:54.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-07 17:46:10.000000000', 'files': ['openstack/cyborg/cyborg.spec.j2', 'openstack/monasca-persister/monasca-persister.spec.j2', 'openstack/monasca-ui/monasca-ui.spec.j2', 'openstack/networking-generic-switch/networking-generic-switch.spec.j2', 'openstack/monasca-notification/monasca-notification.spec.j2', 'openstack/monasca-agent/monasca-agent.spec.j2', 'openstack/monasca-ceilometer/monasca-ceilometer.spec.j2', 'openstack/monasca-common/monasca-common.spec.j2', 'openstack/monasca-log-api/monasca-log-api.spec.j2', 'openstack/monasca-api/monasca-api.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a5b8fdd85c52bd1dad74034860bc9c59aec388ed', 'message': 'Use https for tarball.o.org\n\nChange-Id: I3f9d9ee9414632fbab8ef2b01f21714d74fa8ac7\n'}]",0,657655,a5b8fdd85c52bd1dad74034860bc9c59aec388ed,9,5,1,6593,,,0,"Use https for tarball.o.org

Change-Id: I3f9d9ee9414632fbab8ef2b01f21714d74fa8ac7
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/55/657655/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cyborg/cyborg.spec.j2', 'openstack/monasca-persister/monasca-persister.spec.j2', 'openstack/monasca-ui/monasca-ui.spec.j2', 'openstack/networking-generic-switch/networking-generic-switch.spec.j2', 'openstack/monasca-notification/monasca-notification.spec.j2', 'openstack/monasca-agent/monasca-agent.spec.j2', 'openstack/monasca-ceilometer/monasca-ceilometer.spec.j2', 'openstack/monasca-common/monasca-common.spec.j2', 'openstack/monasca-log-api/monasca-log-api.spec.j2', 'openstack/monasca-api/monasca-api.spec.j2']",10,a5b8fdd85c52bd1dad74034860bc9c59aec388ed,https,{% set source = fetch_source('https://tarballs.openstack.org/monasca-api/monasca-api-master.tar.gz') %},{% set source = fetch_source('http://tarballs.openstack.org/monasca-api/monasca-api-master.tar.gz') %},11,11
openstack%2Fpuppet-openstack-guide~master~I9390fffb87607613a1d4a51cba0254daac6fce3e,openstack/puppet-openstack-guide,master,I9390fffb87607613a1d4a51cba0254daac6fce3e,Add EOL for stein release,MERGED,2019-05-08 07:36:31.000000000,2019-05-08 08:19:34.000000000,2019-05-08 08:19:34.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-08 07:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/8dc1bda8f1d996b55c135d1abea4bab5be4e7ad3', 'message': 'Add EOL for stein release\n\nChange-Id: I9390fffb87607613a1d4a51cba0254daac6fce3e\n'}, {'number': 2, 'created': '2019-05-08 07:46:14.000000000', 'files': ['doc/source/install/releases.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/e0ac897a251db179c3295f20aa6b48c1bb25b225', 'message': 'Add EOL for stein release\n\nChange-Id: I9390fffb87607613a1d4a51cba0254daac6fce3e\n'}]",0,657745,e0ac897a251db179c3295f20aa6b48c1bb25b225,8,2,2,9414,,,0,"Add EOL for stein release

Change-Id: I9390fffb87607613a1d4a51cba0254daac6fce3e
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/45/657745/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/releases.rst'],1,8dc1bda8f1d996b55c135d1abea4bab5be4e7ad3,eol-stein-release,| 14.z.y | Stein | yes - EOL (2019-02-23) |,| 14.z.y | Stein | yes |,1,1
openstack%2Fpuppet-openstack-guide~master~I47701d597e1bff90ae70e6c97f7f0fd1206c9daa,openstack/puppet-openstack-guide,master,I47701d597e1bff90ae70e6c97f7f0fd1206c9daa,Add puppet-tacker to Puppet OpenStack Modules,MERGED,2019-05-08 07:44:05.000000000,2019-05-08 08:18:13.000000000,2019-05-08 08:18:12.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-08 07:44:05.000000000', 'files': ['doc/source/contributor/module-list.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/416d78c7b2d2fdde9c29a1dd24c75690e67870cb', 'message': 'Add puppet-tacker to Puppet OpenStack Modules\n\nChange-Id: I47701d597e1bff90ae70e6c97f7f0fd1206c9daa\n'}]",0,657747,416d78c7b2d2fdde9c29a1dd24c75690e67870cb,6,2,1,9414,,,0,"Add puppet-tacker to Puppet OpenStack Modules

Change-Id: I47701d597e1bff90ae70e6c97f7f0fd1206c9daa
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/47/657747/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/module-list.rst'],1,416d78c7b2d2fdde9c29a1dd24c75690e67870cb,add-tacker,* `NFV Orchestration service <http://opendev.org/openstack/puppet-tacker/>`_ (*Tacker*),,1,0
openstack%2Ftripleo-heat-templates~master~If2d920f046e2d8935e86aa7f8aa94408e84b92d7,openstack/tripleo-heat-templates,master,If2d920f046e2d8935e86aa7f8aa94408e84b92d7,WIP: Use rhsm to subscribe the OC nodes before operating system upgrade.,ABANDONED,2019-05-07 11:26:15.000000000,2019-05-08 08:09:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-07 11:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8fb087d9651d2fa18adc29c4caaeb561d59b0801', 'message': 'WIP: Use rhsm to subscribe the OC nodes before operating system upgrade.\n\nIn order to run Leapp to perform the operating system upgrade\nwe need to be registered via the subscription-management service.\nIn the case the nodes were not previously registered, we can make\nuse of the the rhsm service to perform the registration during\nthe system_upgrade_prepare step.\n\nChange-Id: If2d920f046e2d8935e86aa7f8aa94408e84b92d7\n'}, {'number': 2, 'created': '2019-05-07 11:46:57.000000000', 'files': ['extraconfig/services/rhsm.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ccbe28a41398828db6d173da35a6f514ab903f5a', 'message': 'WIP: Use rhsm to subscribe the OC nodes before operating system upgrade.\n\nIn order to run Leapp to perform the operating system upgrade\nwe need to be registered via the subscription-management service.\nIn the case the nodes were not previously registered, we can make\nuse of the the rhsm service to perform the registration during\nthe system_upgrade_prepare step.\n\nChange-Id: If2d920f046e2d8935e86aa7f8aa94408e84b92d7\n'}]",0,657573,ccbe28a41398828db6d173da35a6f514ab903f5a,5,2,2,26343,,,0,"WIP: Use rhsm to subscribe the OC nodes before operating system upgrade.

In order to run Leapp to perform the operating system upgrade
we need to be registered via the subscription-management service.
In the case the nodes were not previously registered, we can make
use of the the rhsm service to perform the registration during
the system_upgrade_prepare step.

Change-Id: If2d920f046e2d8935e86aa7f8aa94408e84b92d7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/657573/2 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/rhsm.yaml'],1,8fb087d9651d2fa18adc29c4caaeb561d59b0801,, - &rhsm_upgrade_task name: Red Hat Subscription Management configuration - block: # Allow registering OC nodes to upgrade operating system - *rhsm_upgrade_task - name: Get leapp repository get_url: url: https://copr.fedorainfracloud.org/coprs/g/leapp/leapp-devel/repo/epel-7/group_leapp-leapp-devel-epel-7.repo dest: /etc/yum.repos.d/group_leapp-leapp-devel-epel-7.repo mode: 0644 - name: Install leapp package: name: leapp state: latest tags: - never - leapp, - name: Red Hat Subscription Management configuration,16,1
openstack%2Fos-ken~master~I1cc51c618c9a5ad016f506c4fcaf65a7fca001ca,openstack/os-ken,master,I1cc51c618c9a5ad016f506c4fcaf65a7fca001ca,Dropping the py35 testing,MERGED,2019-04-15 02:42:55.000000000,2019-05-08 07:57:02.000000000,2019-05-08 07:57:02.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-04-15 02:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/00f34897b7abe0a341e939ebda4a7eb598683cbe', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I1cc51c618c9a5ad016f506c4fcaf65a7fca001ca\n'}, {'number': 2, 'created': '2019-05-08 07:23:16.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/b9e3c6748b0fe110c5538c8820ca38d9baec1c1c', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I1cc51c618c9a5ad016f506c4fcaf65a7fca001ca\n'}]",0,652502,b9e3c6748b0fe110c5538c8820ca38d9baec1c1c,10,9,2,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I1cc51c618c9a5ad016f506c4fcaf65a7fca001ca
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/02/652502/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,00f34897b7abe0a341e939ebda4a7eb598683cbe,dropping-py35-testing,"envlist = py36,py27,pep8","envlist = py35,py27,pep8",2,3
openstack%2Ftripleo-heat-templates~master~I0403b0a2e46592a4fab984ce44b3a53d55ad287f,openstack/tripleo-heat-templates,master,I0403b0a2e46592a4fab984ce44b3a53d55ad287f,Change scenario messaging,ABANDONED,2019-05-08 07:08:06.000000000,2019-05-08 07:30:35.000000000,,[],"[{'number': 1, 'created': '2019-05-08 07:08:06.000000000', 'files': ['ci/environments/scenario003-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d65783b1f8502e8800f88591fdb221001a9fbe3b', 'message': 'Change scenario messaging\n\nChange-Id: I0403b0a2e46592a4fab984ce44b3a53d55ad287f\nPartial-Bug: #1824326\n'}]",0,657742,d65783b1f8502e8800f88591fdb221001a9fbe3b,2,0,1,11082,,,0,"Change scenario messaging

Change-Id: I0403b0a2e46592a4fab984ce44b3a53d55ad287f
Partial-Bug: #1824326
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/657742/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario003-multinode-containers.yaml'],1,d65783b1f8502e8800f88591fdb221001a9fbe3b,bug/1824326, OS::TripleO::Services::OsloMessagingRpc: ../../deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml, OS::TripleO::Services::OsloMessagingRpc: ../../deployment/messaging/rpc-qdrouterd-container-puppet.yaml,1,1
openstack%2Fpython-tripleoclient~master~Id836ba2d88f04a90c1738bb71f2aeb07211d2620,openstack/python-tripleoclient,master,Id836ba2d88f04a90c1738bb71f2aeb07211d2620,Get validations playbooks from playbooks directory,MERGED,2019-04-02 13:54:59.000000000,2019-05-08 06:51:02.000000000,2019-05-08 04:19:50.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 10873}, {'_account_id': 11082}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28223}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-02 13:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a554d06e3b8c982ecb1ba245c9f494850d052210', 'message': '[DNM] Get validations playbooks from playbook dir\n\nWith the new validation framework, all the validations have been\nmigrated into their own Ansible Roles. The validations are now usable\nfrom tripleo-validations/playbooks directory.\n\nDo Not Merge it until all the tripleo-validations patches are not fully\nmerged [1].\n\n[1] - https://bit.ly/2WFfjji\n\nChange-Id: Id836ba2d88f04a90c1738bb71f2aeb07211d2620\nImplements: blueprint validation-framework\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2019-04-18 11:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/61269eb81ec92ae7ab53b98f7855f9e595b5a8b8', 'message': 'Get validations playbooks from playbook dir\n\nWith the new validation framework, all the validations have been\nmigrated into their own Ansible Roles. The validations are now usable\nfrom tripleo-validations/playbooks directory.\n\nChange-Id: Id836ba2d88f04a90c1738bb71f2aeb07211d2620\nImplements: blueprint validation-framework\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2019-04-18 14:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5cc6498c90c326b533fc1e40e0d01cf984779cf5', 'message': 'Get validations playbooks from playbooks directory\n\nWith the new validation framework, all the validations have been\nmigrated into their own Ansible Roles. The validations are now usable\nfrom tripleo-validations/playbooks directory.\n\nChange-Id: Id836ba2d88f04a90c1738bb71f2aeb07211d2620\nImplements: blueprint validation-framework\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2019-04-18 14:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/31cdfbdd19d257e729fe6b680637f9833da12500', 'message': 'Get validations playbooks from playbooks directory\n\nWith the new validation framework, all the validations have been\nmigrated into their own Ansible Roles. The validations are now usable\nfrom tripleo-validations/playbooks directory.\n\nChange-Id: Id836ba2d88f04a90c1738bb71f2aeb07211d2620\nImplements: blueprint validation-framework\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2019-04-18 15:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/72b3ae5c2568e8dff0f914ba929762422023e5a5', 'message': 'Get validations playbooks from playbooks directory\n\nWith the new validation framework, all the validations have been\nmigrated into their own Ansible Roles. The validations are now usable\nfrom tripleo-validations/playbooks directory.\n\nChange-Id: Id836ba2d88f04a90c1738bb71f2aeb07211d2620\nImplements: blueprint validation-framework\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2019-05-05 13:24:15.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/constants.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/51a9880702686f9ffc0b5781c4824e2c013df76c', 'message': 'Get validations playbooks from playbooks directory\n\nWith the new validation framework, all the validations have been\nmigrated into their own Ansible Roles. The validations are now usable\nfrom tripleo-validations/playbooks directory.\n\nChange-Id: Id836ba2d88f04a90c1738bb71f2aeb07211d2620\nImplements: blueprint validation-framework\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,649337,51a9880702686f9ffc0b5781c4824e2c013df76c,26,12,6,11491,,,0,"Get validations playbooks from playbooks directory

With the new validation framework, all the validations have been
migrated into their own Ansible Roles. The validations are now usable
from tripleo-validations/playbooks directory.

Change-Id: Id836ba2d88f04a90c1738bb71f2aeb07211d2620
Implements: blueprint validation-framework
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/37/649337/5 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/constants.py'],1,a554d06e3b8c982ecb1ba245c9f494850d052210,bp/validation-framework,ANSIBLE_VALIDATION_DIR = '/usr/share/openstack-tripleo-validations/playbooks',ANSIBLE_VALIDATION_DIR = '/usr/share/openstack-tripleo-validations/validations',1,1
openstack%2Fzun-tempest-plugin~master~Ie3cbeeff7b45b141da9ca2853f07b82297f50850,openstack/zun-tempest-plugin,master,Ie3cbeeff7b45b141da9ca2853f07b82297f50850,Remove assertion of neutron port tags removal,MERGED,2019-05-06 03:03:57.000000000,2019-05-08 06:13:37.000000000,2019-05-08 06:13:37.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 30382}]","[{'number': 1, 'created': '2019-05-06 03:03:57.000000000', 'files': ['zun_tempest_plugin/tests/tempest/api/test_containers.py'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/64a63385e75b6126361bc93087b9b5a7ea9c40df', 'message': 'Remove assertion of neutron port tags removal\n\nChange-Id: Ie3cbeeff7b45b141da9ca2853f07b82297f50850\nRelated-Bug: #1776035\n'}]",0,657307,64a63385e75b6126361bc93087b9b5a7ea9c40df,19,3,1,11536,,,0,"Remove assertion of neutron port tags removal

Change-Id: Ie3cbeeff7b45b141da9ca2853f07b82297f50850
Related-Bug: #1776035
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/07/657307/1 && git format-patch -1 --stdout FETCH_HEAD,['zun_tempest_plugin/tests/tempest/api/test_containers.py'],1,64a63385e75b6126361bc93087b9b5a7ea9c40df,bug/1776035," # TODO(hongbin): The tags are not always cleanup due to bug #1776035 # Need to investigate the issue. # self.assertEqual([], port['tags'])"," self.assertEqual([], port['tags'])",3,1
openstack%2Fansible-role-systemd_service~stable%2Fstein~I7fca0af11bf7a0fed18294c97b81ef1dfa074e34,openstack/ansible-role-systemd_service,stable/stein,I7fca0af11bf7a0fed18294c97b81ef1dfa074e34,Require network-online insetad of network target,MERGED,2019-05-07 22:22:36.000000000,2019-05-08 05:59:24.000000000,2019-05-08 05:59:24.000000000,"[{'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-07 22:22:36.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/b5a6c7460baa94817c51c95efd9813bb09015026', 'message': 'Require network-online insetad of network target\n\nDepending on the network-online.target rather than network.target\nwill result in more reliable service startups since network.target\ndoes not indicate that the network stack has fully started, only\nthat networking has been initialized. When starting network-related\nservices like neturon, where a bridge or veth interface may be\nexpected to exist already, relying on network.target can cause broken\nservice startup during system reboots since the interfaces depended\non may not exist yet once network.target is reached.\n\nBy relying on network-online.target instead, units will start more\nreliably during system reboots or network restarts.\n\nThe systemd docs at\nhttps://www.freedesktop.org/wiki/Software/systemd/NetworkTarget/#conceptsinsystemd\nprovide more information about why we should use the network-online\ninstead of the network target.\n\nChange-Id: I7fca0af11bf7a0fed18294c97b81ef1dfa074e34\n'}]",0,657694,b5a6c7460baa94817c51c95efd9813bb09015026,8,3,1,7353,,,0,"Require network-online insetad of network target

Depending on the network-online.target rather than network.target
will result in more reliable service startups since network.target
does not indicate that the network stack has fully started, only
that networking has been initialized. When starting network-related
services like neturon, where a bridge or veth interface may be
expected to exist already, relying on network.target can cause broken
service startup during system reboots since the interfaces depended
on may not exist yet once network.target is reached.

By relying on network-online.target instead, units will start more
reliably during system reboots or network restarts.

The systemd docs at
https://www.freedesktop.org/wiki/Software/systemd/NetworkTarget/#conceptsinsystemd
provide more information about why we should use the network-online
instead of the network target.

Change-Id: I7fca0af11bf7a0fed18294c97b81ef1dfa074e34
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/94/657694/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,b5a6c7460baa94817c51c95efd9813bb09015026,systemd-network-online-stable/stein, - network-online.target, - network.target,1,1
openstack%2Fhorizon~master~I2d8207ed1f87c2f604d4f3d2bf34f8214e785203,openstack/horizon,master,I2d8207ed1f87c2f604d4f3d2bf34f8214e785203,Correct error messages on create rbac policy form,MERGED,2019-04-28 03:04:33.000000000,2019-05-08 05:45:51.000000000,2019-05-08 05:45:51.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-04-28 03:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8845108109bc9d8003c6b52ad1d4839310c3d181', 'message': 'Correct error messages on create rbac policy form\n\nThe number of rbac policies reaches the maximum quota,\nwhen create rbac policy,\nan error message is shown and the error information is unclear.\nThis patch correct the error message\n\nChange-Id: I2d8207ed1f87c2f604d4f3d2bf34f8214e785203\nCloses-Bug: #1826693\n'}, {'number': 2, 'created': '2019-04-28 05:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/baa1532fe82945a7963380dedaf37fb4a3210ec5', 'message': 'Correct error messages on create rbac policy form\n\nThe number of rbac policies reaches the maximum quota,\nwhen create rbac policy,\nan error message is shown and the error information is unclear.\nThis patch correct the error message\n\nChange-Id: I2d8207ed1f87c2f604d4f3d2bf34f8214e785203\nCloses-Bug: #1826693\n'}, {'number': 3, 'created': '2019-04-28 06:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8604483372f8742350ae8e29c24d5ce8075e35ae', 'message': 'Correct error messages on create rbac policy form\n\nThe number of rbac policies reaches the maximum quota,\nwhen create rbac policy,\nan error message is shown and the error information is unclear.\nThis patch correct the error message\n\nChange-Id: I2d8207ed1f87c2f604d4f3d2bf34f8214e785203\nCloses-Bug: #1826693\n'}, {'number': 4, 'created': '2019-04-28 06:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/733a006b58143cc6d1d9ca70dc8342ed89d02cab', 'message': 'Correct error messages and disable the Button of create on rbac policy panel\n\nThe number of rbac policy reaches the maximum quota,\nwhen create rbac policy,\nan error message is shown and the error information is unclear.\nThis patch correct the error message and disable the button\n\nChange-Id: I2d8207ed1f87c2f604d4f3d2bf34f8214e785203\nCloses-Bug: #1826693\n'}, {'number': 5, 'created': '2019-04-28 06:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/da5304ca15ec0071221e3d7f2988139ca2c1da42', 'message': 'Correct error messages and disable button of create on rbac policy panel\n\nThe number of rbac policy reaches the maximum quota,\nwhen create rbac policy,\nan error message is shown and the error information is unclear.\nThis patch correct the error message and disable the button\n\nChange-Id: I2d8207ed1f87c2f604d4f3d2bf34f8214e785203\nCloses-Bug: #1826693\n'}, {'number': 6, 'created': '2019-04-29 02:18:31.000000000', 'files': ['openstack_dashboard/dashboards/admin/rbac_policies/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/31395b4d85db318c6e5f6b9c97b2b17bcc163268', 'message': 'Correct error messages on create rbac policy form\n\nThe number of rbac policy reaches the maximum quota,\nwhen create rbac policy,\nan error message is shown and the error information is unclear.\nThis patch correct the error message\n\nChange-Id: I2d8207ed1f87c2f604d4f3d2bf34f8214e785203\nCloses-Bug: #1826693\n'}]",0,656104,31395b4d85db318c6e5f6b9c97b2b17bcc163268,14,3,6,27822,,,0,"Correct error messages on create rbac policy form

The number of rbac policy reaches the maximum quota,
when create rbac policy,
an error message is shown and the error information is unclear.
This patch correct the error message

Change-Id: I2d8207ed1f87c2f604d4f3d2bf34f8214e785203
Closes-Bug: #1826693
",git fetch https://review.opendev.org/openstack/horizon refs/changes/04/656104/6 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/admin/rbac_policies/forms.py'],1,8845108109bc9d8003c6b52ad1d4839310c3d181,bug/1826693,"from neutronclient.common import exceptions as neutron_exc except neutron_exc.OverQuotaClient: redirect = reverse('horizon:admin:rbac_policies:index') msg = _('rbac policy quota exceeded.') exceptions.handle(request, msg, redirect=redirect)",,6,0
openstack%2Fhorizon~master~I11187d2b03b7e0033a6c6ba3f8be25b8b5e4dd74,openstack/horizon,master,I11187d2b03b7e0033a6c6ba3f8be25b8b5e4dd74,Drop cinder consistency group support,MERGED,2019-03-22 09:28:57.000000000,2019-05-08 05:40:51.000000000,2019-05-08 05:40:51.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-03-22 09:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/849ef9c55c5c2aee70fcecba30ffa9ed85fa663c', 'message': 'Drop cinder consistency group support\n\nCinder consistency group has been replaced by the generic group feature.\nHorizon support of the generic group (in the project dashboard) is\navailable since Rocky release and it covers all existing support\nfor consistency group in horizon.\n\nThe consistency group support is horizon was marked as deprecated\nin Stein release [1].\n\nThis commit drops the consistency group support.\n\n[1] https://review.openstack.org/#/c/626846/\n\nChange-Id: I11187d2b03b7e0033a6c6ba3f8be25b8b5e4dd74\n'}, {'number': 2, 'created': '2019-03-22 12:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/49e75be13ea9fabcac1e526f08c1fb2f9336eec5', 'message': 'Drop cinder consistency group support\n\nCinder consistency group has been replaced by the generic group feature.\nHorizon support of the generic group (in the project dashboard) is\navailable since Rocky release and it covers all existing support\nfor consistency group in horizon.\n\nThe consistency group support is horizon was marked as deprecated\nin Stein release [1].\n\nThis commit drops the consistency group support.\n\n[1] https://review.openstack.org/#/c/626846/\n\nChange-Id: I11187d2b03b7e0033a6c6ba3f8be25b8b5e4dd74\n'}, {'number': 3, 'created': '2019-03-27 05:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c2ae81d4c076a84226d4d19c7883718adb96fb80', 'message': 'Drop cinder consistency group support\n\nCinder consistency group has been replaced by the generic group feature.\nHorizon support of the generic group (in the project dashboard) is\navailable since Rocky release and it covers all existing support\nfor consistency group in horizon.\n\nThe consistency group support is horizon was marked as deprecated\nin Stein release [1].\n\nThis commit drops the consistency group support.\n\n[1] https://review.openstack.org/#/c/626846/\n\nChange-Id: I11187d2b03b7e0033a6c6ba3f8be25b8b5e4dd74\n'}, {'number': 4, 'created': '2019-05-03 18:16:23.000000000', 'files': ['openstack_dashboard/dashboards/project/cgroups/panel.py', 'openstack_dashboard/dashboards/project/cg_snapshots/templates/cg_snapshots/_update.html', 'openstack_dashboard/dashboards/project/cgroups/urls.py', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/create.html', 'openstack_dashboard/dashboards/project/cgroups/__init__.py', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/delete.html', 'releasenotes/notes/drop-cgroup-c1f6b169ba10a5d3.yaml', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/create_snapshot.html', 'openstack_dashboard/dashboards/project/cg_snapshots/templates/cg_snapshots/update.html', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/_create_snapshot.html', 'openstack_dashboard/dashboards/project/cgroups/workflows.py', 'openstack_dashboard/enabled/_1350_project_cg_snapshots_panel.py', 'openstack_dashboard/dashboards/project/cg_snapshots/__init__.py', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/_snapshot_limits.html', 'openstack_dashboard/dashboards/project/cg_snapshots/tabs.py', 'openstack_dashboard/settings.py', 'openstack_dashboard/conf/cinder_policy.d/consistencygroup.yaml', 'openstack_dashboard/dashboards/project/vg_snapshots/forms.py', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/remove_vols.html', 'openstack_dashboard/dashboards/project/cg_snapshots/forms.py', 'openstack_dashboard/dashboards/project/cg_snapshots/panel.py', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/_clone_cgroup.html', 'openstack_dashboard/dashboards/project/cg_snapshots/templates/cg_snapshots/_detail_overview.html', 'openstack_dashboard/dashboards/project/cg_snapshots/templates/cg_snapshots/create.html', 'openstack_dashboard/dashboards/project/cg_snapshots/templates/cg_snapshots/_create.html', 'openstack_dashboard/test/unit/api/test_cinder.py', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/clone_cgroup.html', 'openstack_dashboard/dashboards/project/cgroups/tabs.py', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/dashboards/project/cg_snapshots/views.py', 'openstack_dashboard/dashboards/project/volume_groups/tests.py', 'openstack_dashboard/dashboards/project/cgroups/tests.py', 'openstack_dashboard/test/test_data/cinder_data.py', 'openstack_dashboard/dashboards/project/cgroups/tables.py', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/_detail_overview.html', 'openstack_dashboard/dashboards/project/cgroups/views.py', 'openstack_dashboard/dashboards/project/cgroups/forms.py', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/_delete.html', 'openstack_dashboard/api/microversions.py', 'openstack_dashboard/dashboards/admin/volume_groups/tests.py', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/_update.html', 'openstack_dashboard/test/settings.py', 'openstack_dashboard/dashboards/project/cg_snapshots/tables.py', 'openstack_dashboard/dashboards/project/cg_snapshots/tests.py', 'openstack_dashboard/enabled/_1340_project_consistency_groups_panel.py', 'openstack_dashboard/dashboards/project/cg_snapshots/urls.py', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/update.html', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/_remove_vols.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/431fd6c16b721eb30102e001466ad2dced50d8cb', 'message': 'Drop cinder consistency group support\n\nCinder consistency group has been replaced by the generic group feature.\nHorizon support of the generic group (in the project dashboard) is\navailable since Rocky release and it covers all existing support\nfor consistency group in horizon.\n\nThe consistency group support is horizon was marked as deprecated\nin Stein release [1].\n\nThis commit drops the consistency group support.\n\n[1] https://review.openstack.org/#/c/626846/\n\nChange-Id: I11187d2b03b7e0033a6c6ba3f8be25b8b5e4dd74\n'}]",0,645515,431fd6c16b721eb30102e001466ad2dced50d8cb,26,4,4,841,,,0,"Drop cinder consistency group support

Cinder consistency group has been replaced by the generic group feature.
Horizon support of the generic group (in the project dashboard) is
available since Rocky release and it covers all existing support
for consistency group in horizon.

The consistency group support is horizon was marked as deprecated
in Stein release [1].

This commit drops the consistency group support.

[1] https://review.openstack.org/#/c/626846/

Change-Id: I11187d2b03b7e0033a6c6ba3f8be25b8b5e4dd74
",git fetch https://review.opendev.org/openstack/horizon refs/changes/15/645515/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/cgroups/panel.py', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/dashboards/project/cg_snapshots/templates/cg_snapshots/_update.html', 'openstack_dashboard/dashboards/project/cg_snapshots/views.py', 'openstack_dashboard/dashboards/project/volume_groups/tests.py', 'openstack_dashboard/dashboards/project/cgroups/tests.py', 'openstack_dashboard/dashboards/project/cgroups/urls.py', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/create.html', 'openstack_dashboard/dashboards/project/cgroups/__init__.py', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/delete.html', 'openstack_dashboard/test/test_data/cinder_data.py', 'openstack_dashboard/dashboards/project/cgroups/tables.py', 'releasenotes/notes/drop-cgroup-c1f6b169ba10a5d3.yaml', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/_detail_overview.html', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/create_snapshot.html', 'openstack_dashboard/dashboards/project/cgroups/views.py', 'openstack_dashboard/dashboards/project/cgroups/forms.py', 'openstack_dashboard/dashboards/project/cg_snapshots/templates/cg_snapshots/update.html', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/_delete.html', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/_create_snapshot.html', 'openstack_dashboard/dashboards/project/cgroups/workflows.py', 'openstack_dashboard/enabled/_1350_project_cg_snapshots_panel.py', 'openstack_dashboard/api/microversions.py', 'openstack_dashboard/dashboards/project/cg_snapshots/__init__.py', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/_snapshot_limits.html', 'openstack_dashboard/dashboards/project/cg_snapshots/tabs.py', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/_update.html', 'openstack_dashboard/test/settings.py', 'openstack_dashboard/dashboards/project/vg_snapshots/forms.py', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/remove_vols.html', 'openstack_dashboard/dashboards/project/cg_snapshots/forms.py', 'openstack_dashboard/dashboards/project/cg_snapshots/panel.py', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/_clone_cgroup.html', 'openstack_dashboard/dashboards/project/cg_snapshots/tables.py', 'openstack_dashboard/dashboards/project/cg_snapshots/templates/cg_snapshots/_detail_overview.html', 'openstack_dashboard/dashboards/project/cg_snapshots/tests.py', 'openstack_dashboard/enabled/_1340_project_consistency_groups_panel.py', 'openstack_dashboard/dashboards/project/cg_snapshots/templates/cg_snapshots/create.html', 'openstack_dashboard/dashboards/project/cg_snapshots/templates/cg_snapshots/_create.html', 'openstack_dashboard/test/unit/api/test_cinder.py', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/clone_cgroup.html', 'openstack_dashboard/dashboards/project/cg_snapshots/urls.py', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/update.html', 'openstack_dashboard/dashboards/project/cgroups/tabs.py', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/_remove_vols.html']",45,849ef9c55c5c2aee70fcecba30ffa9ed85fa663c,drop-consistency-group,,"{% extends ""horizon/common/_modal_form.html"" %} {% load i18n %} {% block title %}{{ page_title }}{% endblock %} {% block modal-body %} <p>{% trans ""This action will unassign all volumes that are currently contained in this consistency group."" %}</p> {% endblock %} ",9,2764
openstack%2Fopenstack-helm-infra~master~I84efc5e7c8529e3a7a334b7b6ee8d33c4e917202,openstack/openstack-helm-infra,master,I84efc5e7c8529e3a7a334b7b6ee8d33c4e917202,[DO NOT MERGE] Test dev set,ABANDONED,2019-02-11 18:54:44.000000000,2019-05-08 04:59:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 24165}, {'_account_id': 29268}]","[{'number': 1, 'created': '2019-02-11 18:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c47f686c498f6be816b2ad1eb47ba9dd5fea316a', 'message': '[DO NOT MERGE] Test dev set\n\nChange-Id: I84efc5e7c8529e3a7a334b7b6ee8d33c4e917202\n'}, {'number': 2, 'created': '2019-02-19 19:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0c5655809d91258adbbf80c59f91974307557d87', 'message': '[DO NOT MERGE] Test dev set\n\nChange-Id: I84efc5e7c8529e3a7a334b7b6ee8d33c4e917202\n'}, {'number': 3, 'created': '2019-02-20 18:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/109e7b5cff43305311d2bece3f5a51dde62d8c06', 'message': '[DO NOT MERGE] Test dev set\n\nChange-Id: I84efc5e7c8529e3a7a334b7b6ee8d33c4e917202\n'}, {'number': 4, 'created': '2019-02-20 22:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3f3968891b89fd3970ac0a226e749421b77de6a4', 'message': '[DO NOT MERGE] Test dev set\n\nChange-Id: I84efc5e7c8529e3a7a334b7b6ee8d33c4e917202\n'}, {'number': 5, 'created': '2019-02-26 00:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fbe9fd5729a870bbcd1f472033ffb7a38005037f', 'message': '[DO NOT MERGE] Test dev set\n\nChange-Id: I84efc5e7c8529e3a7a334b7b6ee8d33c4e917202\n'}, {'number': 6, 'created': '2019-03-04 06:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b2220f85cee1e939cbc2c2894b2cc39e31c084ac', 'message': '[DO NOT MERGE] Test dev set\n\nChange-Id: I84efc5e7c8529e3a7a334b7b6ee8d33c4e917202\n'}, {'number': 7, 'created': '2019-03-06 06:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1b7941ed9fb1fb1c6220b01bd4ba9f0c5c43348b', 'message': '[DO NOT MERGE] Test dev set\n\nChange-Id: I84efc5e7c8529e3a7a334b7b6ee8d33c4e917202\n'}, {'number': 8, 'created': '2019-03-19 10:49:32.000000000', 'files': ['roles/deploy-docker/defaults/main.yml', 'roles/deploy-package/defaults/main.yml', 'tools/gate/devel/local-vars.yaml', 'roles/deploy-python-pip/defaults/main.yml', 'tools/gate/devel/multinode-vars.yaml', 'tools/gate/devel/multinode-inventory.yaml', 'roles/build-images/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b6c480da44b5a04376a2c6963e95a757725fbf65', 'message': '[DO NOT MERGE] Test dev set\n\nChange-Id: I84efc5e7c8529e3a7a334b7b6ee8d33c4e917202\n'}]",0,636205,b6c480da44b5a04376a2c6963e95a757725fbf65,21,3,8,24165,,,0,"[DO NOT MERGE] Test dev set

Change-Id: I84efc5e7c8529e3a7a334b7b6ee8d33c4e917202
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/05/636205/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/deploy-docker/defaults/main.yml', 'roles/deploy-package/defaults/main.yml', 'tools/gate/devel/local-vars.yaml', 'roles/deploy-python-pip/defaults/main.yml', 'tools/images/kubeadm-aio/assets/opt/playbooks/vars.yaml', 'tools/gate/devel/multinode-vars.yaml', 'tools/gate/devel/multinode-inventory.yaml', 'tools/gate/devel/start.sh', 'roles/build-images/defaults/main.yml']",9,c47f686c498f6be816b2ad1eb47ba9dd5fea316a,multi-node-dev-lab," http: http://one.proxy.att.com:8080 https: http://one.proxy.att.com:8080 noproxy: 127.0.0.1,localhost,.svc.cluster.local,172.17.0.1", http: null https: null noproxy: null,37,32
openstack%2Fopenstack-helm-infra~master~Ie1e71d00b5aed0f31c00650ebb6c22f092b94dca,openstack/openstack-helm-infra,master,Ie1e71d00b5aed0f31c00650ebb6c22f092b94dca,Ceph-rgw - Adding more tests,ABANDONED,2018-11-16 20:29:15.000000000,2019-05-08 04:53:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26201}, {'_account_id': 29268}]","[{'number': 1, 'created': '2018-11-16 20:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a235925b7fd3a5938a885ed9bbb563f77c6d3953', 'message': 'Ceph-rgw - Adding more tests\n\nChange-Id: Ie1e71d00b5aed0f31c00650ebb6c22f092b94dca\n'}, {'number': 2, 'created': '2019-02-27 21:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e88fcd4cdd1ffb4e3030ce80722ff1ac4224d2dc', 'message': 'Ceph-rgw - Adding more tests\n\nChange-Id: Ie1e71d00b5aed0f31c00650ebb6c22f092b94dca\n'}, {'number': 3, 'created': '2019-04-22 05:17:24.000000000', 'files': ['ceph-rgw/templates/bin/tests/_run-ceph-rgw-validation.sh.tpl', 'ceph-osd/templates/pod-helm-tests.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ecff155af47727609828c29c11fcf5dc62a7f1f7', 'message': 'Ceph-rgw - Adding more tests\n\nChange-Id: Ie1e71d00b5aed0f31c00650ebb6c22f092b94dca\n'}]",2,618592,ecff155af47727609828c29c11fcf5dc62a7f1f7,11,4,3,24165,,,0,"Ceph-rgw - Adding more tests

Change-Id: Ie1e71d00b5aed0f31c00650ebb6c22f092b94dca
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/92/618592/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-rgw/templates/tests/pod-helm-tests.yaml', 'ceph-rgw/templates/bin/tests/_run-ceph-rgw-validation.sh.tpl']",2,a235925b7fd3a5938a885ed9bbb563f77c6d3953,ceph-rgw-tests,"function rgw_service_status() { export podIP=$(kubectl get pods --namespace=${RGW_DEPLOYMENT_NAMESPACE} -l component=rgw -o jsonpath={.items[0].status.podIP}) export podPort=$(kubectl get pods --namespace=${RGW_DEPLOYMENT_NAMESPACE} -l component=rgw -o jsonpath={.items[0].spec.containers[0].env[1].value}) export podCode=$(curl -s -I -o /dev/null -w ""%{http_code}"" http://${podIP}:${podPort}) if [ ""x${podCode}"" == ""x200"" ]; then exit 0 else exit 1 fi } rgw_service_status ",,17,0
openstack%2Fopenstack-helm-infra~master~I99015b93523406baef5fe9446519fd3c08ea581c,openstack/openstack-helm-infra,master,I99015b93523406baef5fe9446519fd3c08ea581c,"[WIP] Ceph Mon,OSD,Client,Provisioners cleanup",ABANDONED,2018-10-07 20:29:24.000000000,2019-05-08 04:53:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 24165}, {'_account_id': 28372}]","[{'number': 1, 'created': '2018-10-07 20:29:24.000000000', 'files': ['tools/deployment/developer/ceph/030-ceph.sh', 'ceph-client/templates/configmap-etc-client.yaml', 'ceph-client/templates/service-mgr.yaml', 'ceph-client/values.yaml', 'ceph-client/templates/deployment-mds.yaml', 'tools/deployment/developer/ceph/035-ceph-ns-activate.sh', 'ceph-client/templates/configmap-bin.yaml', 'ceph-client/templates/job-rbd-pool.yaml', 'ceph-client/templates/deployment-mgr.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/84ab768119e09f865954bf56ae3ea85ba33e9b8a', 'message': '[WIP] Ceph Mon,OSD,Client,Provisioners cleanup\n\n- Ceph chart cleanup and update deploy scripts\n\nChange-Id: I99015b93523406baef5fe9446519fd3c08ea581c\n'}]",0,608466,84ab768119e09f865954bf56ae3ea85ba33e9b8a,6,3,1,24165,,,0,"[WIP] Ceph Mon,OSD,Client,Provisioners cleanup

- Ceph chart cleanup and update deploy scripts

Change-Id: I99015b93523406baef5fe9446519fd3c08ea581c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/66/608466/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/developer/ceph/030-ceph.sh', 'ceph-client/templates/configmap-etc-client.yaml', 'ceph-client/templates/service-mgr.yaml', 'ceph-client/templates/deployment-mds.yaml', 'ceph-client/values.yaml', 'tools/deployment/developer/ceph/035-ceph-ns-activate.sh', 'ceph-client/templates/configmap-bin.yaml', 'ceph-client/templates/deployment-mgr.yaml', 'ceph-client/templates/job-rbd-pool.yaml']",9,84ab768119e09f865954bf56ae3ea85ba33e9b8a,,{{- if .Values.manifests.job_rbd_pool }},{{- if and .Values.manifests.job_rbd_pool .Values.deployment.ceph }},16,24
openstack%2Fopenstack-helm~master~I91c377ec09433820ca9db61993dd619feec4ffcf,openstack/openstack-helm,master,I91c377ec09433820ca9db61993dd619feec4ffcf,Move Failure Domain docs from OSH-Infra to OSH,ABANDONED,2019-02-19 05:59:23.000000000,2019-05-08 04:52:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 29132}, {'_account_id': 29268}]","[{'number': 1, 'created': '2019-02-19 05:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8702ba694b20efe3fbe0dddcba5a6dea774d4784', 'message': 'Move Failure Domain doc from OSH-Infra to OSH\n\nChange-Id: I91c377ec09433820ca9db61993dd619feec4ffcf\n'}, {'number': 2, 'created': '2019-02-19 06:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/91b7985f56e4755c1120ef7b3ce873cce4ddff04', 'message': 'Move Failure Domain docs from OSH-Infra to OSH\n\nChange-Id: I91c377ec09433820ca9db61993dd619feec4ffcf\n'}, {'number': 3, 'created': '2019-02-19 08:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6ae882d641a6feea0b3c84666c55169cd098a08a', 'message': 'Move Failure Domain docs from OSH-Infra to OSH\n\nChange-Id: I91c377ec09433820ca9db61993dd619feec4ffcf\n'}, {'number': 4, 'created': '2019-02-19 09:25:14.000000000', 'files': ['doc/source/testing/ceph-resiliency/validate-object-replication.rst', 'doc/source/testing/ceph-resiliency/namespace-deletion.rst', 'doc/source/testing/ceph-resiliency/README.rst', 'doc/source/testing/ceph-resiliency/index.rst', 'doc/source/testing/ceph-resiliency/failure-domain.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f0cf7ede21a07a3fd82220573070c808d206bd42', 'message': 'Move Failure Domain docs from OSH-Infra to OSH\n\nChange-Id: I91c377ec09433820ca9db61993dd619feec4ffcf\n'}]",0,637704,f0cf7ede21a07a3fd82220573070c808d206bd42,10,3,4,24165,,,0,"Move Failure Domain docs from OSH-Infra to OSH

Change-Id: I91c377ec09433820ca9db61993dd619feec4ffcf
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/04/637704/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/testing/ceph-resiliency/failure-domain/index.rst'],1,8702ba694b20efe3fbe0dddcba5a6dea774d4784,doc_mov,,,0,0
openstack%2Fopenstack-helm-infra~master~I17a24290518e1cf40039f906bc15c314eed2a8c0,openstack/openstack-helm-infra,master,I17a24290518e1cf40039f906bc15c314eed2a8c0,Move Ceph docs from OSH-Infra to OSH,ABANDONED,2019-02-19 06:09:53.000000000,2019-05-08 04:52:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 29268}]","[{'number': 1, 'created': '2019-02-19 06:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/908decfd20583ac537b2963b5f9cceb49d8b9d21', 'message': 'Move Ceph docs from OSH-Infra to OSH\n\nRemoving Ceph docs from OSH-Infra to OSH.\nHere is the PS to add docs in OSH:637704\n\nChange-Id: I17a24290518e1cf40039f906bc15c314eed2a8c0\n'}, {'number': 2, 'created': '2019-02-19 09:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bb6f781fc1d13e74f111748c21905115472b56f6', 'message': 'Move Ceph docs from OSH-Infra to OSH\n\nRemoving Ceph docs from OSH-Infra to OSH.\nHere is the PS to add docs in OSH:637704\n\nChange-Id: I17a24290518e1cf40039f906bc15c314eed2a8c0\n'}, {'number': 3, 'created': '2019-05-08 04:43:59.000000000', 'files': ['doc/source/index.rst', 'doc/source/testing/ceph-resiliency/validate-object-replication.rst', 'doc/source/testing/ceph-resiliency/namespace-deletion.rst', 'doc/source/testing/ceph-resiliency/README.rst', 'doc/source/testing/ceph-resiliency/index.rst', 'doc/source/testing/index.rst', 'doc/source/testing/ceph-resiliency/failure-domain.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/54ac406a8add3598ff69801956e696b5b738eed6', 'message': 'Move Ceph docs from OSH-Infra to OSH\n\nRemoving Ceph docs from OSH-Infra to OSH.\nHere is the PS to add docs in OSH:637704\n\nChange-Id: I17a24290518e1cf40039f906bc15c314eed2a8c0\n'}]",0,637705,54ac406a8add3598ff69801956e696b5b738eed6,7,2,3,24165,,,0,"Move Ceph docs from OSH-Infra to OSH

Removing Ceph docs from OSH-Infra to OSH.
Here is the PS to add docs in OSH:637704

Change-Id: I17a24290518e1cf40039f906bc15c314eed2a8c0
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/05/637705/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/testing/ceph-resiliency/validate-object-replication.rst', 'doc/source/testing/ceph-resiliency/namespace-deletion.rst', 'doc/source/testing/ceph-resiliency/README.rst', 'doc/source/testing/ceph-resiliency/index.rst', 'doc/source/testing/index.rst', 'doc/source/testing/ceph-resiliency/failure-domain.rst']",6,908decfd20583ac537b2963b5f9cceb49d8b9d21,move-doc-osh,,".. -*- coding: utf-8 -*- .. NOTE TO MAINTAINERS: use rst2html script to convert .rst to .html rst2html ./failure-domain.rst ./failure-domain.html open ./failure-domain.html ============================== Failure Domains in CRUSH Map ============================== .. contents:: .. sectnum:: Overview ======== The `CRUSH Map <http://docs.ceph.com/docs/master/rados/operations/crush-map/?highlight=hammer%20profile>`__ in a Ceph cluster is best visualized as an inverted tree. The hierarchical layout describes the physical topology of the Ceph cluster. Through the physical topology, failure domains are conceptualized from the different branches in the inverted tree. CRUSH rules are created and map to failure domains with data placement policy to distribute the data. The internal nodes (non-leaves and non-root) in the hierarchy are identified as buckets. Each bucket is a hierarchical aggregation of storage locations and their assigned weights. These are the types defined by CRUSH as the supported buckets. :: # types type 0 osd type 1 host type 2 chassis type 3 rack type 4 row type 5 pdu type 6 pod type 7 room type 8 datacenter type 9 region type 10 root This guide describes the host and rack buckets and their role in constructing a CRUSH Map with separate failure domains. Once a Ceph cluster is configured with the expected CRUSh Map and Rule, the PGs of the designated pool are verified with a script (**utils-checkPGs.py**) to ensure that the OSDs in all the PGs reside in separate failure domains. Ceph Environment ================ The ceph commands and scripts described in this write-up are executed as Linux user root on one of orchestration nodes and one of the ceph monitors deployed as kubernetes pods. The root user has the credential to execute all the ceph commands. On a kubernetes cluster, a separate namespace named **ceph** is configured for the ceph cluster. Include the **ceph** namespace in **kubectl** when executing this command. A kubernetes pod is a collection of docker containers sharing a network and mount namespace. It is the basic unit of deployment in the kubernetes cluster. The node in the kubernetes cluster where the orchestration operations are performed needs access to the **kubectl** command. In this guide, this node is referred to as the orchestration node. On this node, you can list all the pods that are deployed. To execute a command in a given pod, use **kubectl** to locate the name of the pod and switch to it to execute the command. Orchestration Node ------------------ To gain access to the kubernetes orchestration node, use your login credential and the authentication procedure assigned to you. For environments setup with SSH key-based access, your id_rsa.pub (generated through the ssh-keygen) public key should be in your ~/.ssh/authorized_keys file on the orchestration node. The kubernetes and ceph commands require the root login credential to execute. Your Linux login requires the *sudo* privilege to execute commands as user root. On the orchestration node, acquire the root's privilege with your Linux login through the *sudo* command. :: [orchestration]$ sudo -i <Your Linux login's password>: [orchestration]# Kubernetes Pods --------------- On the orchestration node, execute the **kubectl** command to list the specific set of pods with the **--selector** option. This **kubectl** command lists all the ceph monitor pods. :: [orchestration]# kubectl get pods -n ceph --selector component=mon NAME READY STATUS RESTARTS AGE ceph-mon-85mlt 2/2 Running 0 9d ceph-mon-9mpnb 2/2 Running 0 9d ceph-mon-rzzqr 2/2 Running 0 9d ceph-mon-snds8 2/2 Running 0 9d ceph-mon-snzwx 2/2 Running 0 9d The following **kubectl** command lists the Ceph OSD pods. :: [orchestration]# kubectl get pods -n ceph --selector component=osd NAME READY STATUS RESTARTS AGE ceph-osd-default-166a1044-95s74 2/2 Running 0 9d ceph-osd-default-166a1044-bglnm 2/2 Running 0 9d ceph-osd-default-166a1044-lq5qq 2/2 Running 0 9d ceph-osd-default-166a1044-lz6x6 2/2 Running 0 9d . . . To list all the pods in all the namespaces, execute this **kubectl** command. :: [orchestration]# kubectl get pods --all-namespaces NAMESPACE NAME READY STATUS RESTARTS AGE ceph ceph-bootstrap-rpzld 0/1 Completed 0 10d ceph ceph-cephfs-client-key-generator-pvzs6 0/1 Completed 0 10d ceph ceph-cephfs-provisioner-796668cd7-bn6mn 1/1 Running 0 10d Execute Commands in Pods ^^^^^^^^^^^^^^^^^^^^^^^^ To execute multiple commands in a pod, you can switch to the execution context of the pod with a /bin/bash session. :: [orchestration]# kubectl exec -it ceph-mon-85mlt -n ceph -- /bin/bash [ceph-mon]# ceph status cluster: id: 07c31d0f-bcc6-4db4-aadf-2d2a0f13edb8 health: HEALTH_OK services: mon: 5 daemons, quorum host1,host2,host3,host4,host5 mgr: host6(active), standbys: host1 mds: cephfs-1/1/1 up {0=mds-ceph-mds-7cb4f57cc-prh87=up:active}, 1 up:standby osd: 72 osds: 72 up, 72 in rgw: 2 daemons active data: pools: 20 pools, 3944 pgs objects: 86970 objects, 323 GB usage: 1350 GB used, 79077 GB / 80428 GB avail pgs: 3944 active+clean io: client: 981 kB/s wr, 0 op/s rd, 84 op/s wr To verify that you are executing within the context of a pod. Display the content of the */proc/self/cgroup* control group file. The *kubepods* output in the cgroup file shows that you're executing in a docker container of a pod. :: [ceph-mon]# cat /proc/self/cgroup 11:hugetlb:/kubepods/besteffort/podafb3689c-8c5b-11e8-be6a-246e96290f14/ff6cbc58348a44722ee6a493845b9c2903fabdce80d0902d217cc4d6962d7b53 . . . To exit the pod and resume the orchestration node's execution context. :: [ceph-mon]# exit [orchestration]# To verify that you are executing on the orchestration node's context, display the */proc/self/cgroup* control group file. You would not see the *kubepods* docker container in the output. :: [orchestration]# cat /proc/self/cgroup 11:blkio:/user.slice 10:freezer:/ 9:hugetlb:/ . . . It is also possible to run the ceph commands via the **kubectl exec** without switching to a pod's container. :: [orchestration]# kubectl exec ceph-mon-9mpnb -n ceph -- ceph status cluster: id: 07c31d0f-bcc6-4db4-aadf-2d2a0f13edb8 health: HEALTH_OK . . . Failure Domains =============== A failure domain provides the fault isolation for the data and it corresponds to a branch on the hierarchical topology. To protect against data loss, OSDs that are allocated to PGs should be chosen from different failure domains. Losing a branch takes down all the OSDs in that branch only and OSDs in the other branches are not effected. In a data center, baremetal hosts are typically installed in a rack (refrigerator size cabinet). Multiple racks with hosts in each rack are used to provision the OSDs running on each host. A rack is envisioned as a branch in the CRUSH topology. To provide data redundancy, ceph maintains multiple copies of the data. The total number of copies to store for each piece of data is determined by the ceph **osd_pool_default_size** ceph.conf parameter. With this parameter set to 3, each piece of the data has 3 copies that gets stored in a pool. Each copy is stored on different OSDs allocated from different failure domains. Host ---- Choosing host as the failure domain lacks all the protections against data loss. To illustrate, a Ceph cluster has been provisioned with six hosts and four OSDs on each host. The hosts are enclosed in respective racks where each rack contains two hosts. In the configuration of the Ceph cluster, without explicit instructions on where the host and rack buckets should be placed, Ceph would create a CRUSH map without the rack bucket. A CRUSH rule that get created uses the host as the failure domain. With the size (replica) of a pool set to 3, the OSDs in all the PGs are allocated from different hosts. :: root=default  host1   osd.1   osd.2   osd.3   osd.4  host2   osd.5   osd.6   osd.7   osd.8  host3   osd.9   osd.10   osd.11   osd.12  host4   osd.13   osd.14   osd.15   osd.16  host5   osd.17   osd.18   osd.19   osd.20  host6  osd.21  osd.22  osd.23  osd.24 On this ceph cluster, it has a CRUSH rule that uses the host as the failure domain. :: # ceph osd crush rule ls replicated_host # ceph osd crush rule dump replicated_host { ""rule_id"": 0, ""rule_name"": ""replicated_host"", ""ruleset"": 0, ""type"": 1, ""min_size"": 1, ""max_size"": 10, ""steps"": [ { ""op"": ""take"", ""item"": -1, ""item_name"": ""default"" }, { ""op"": ""chooseleaf_firstn"", ""num"": 0, ""type"": ""host"" }, { ""op"": ""emit"" } ] } Verify the CRUSH rule that is assigned to the ceph pool. In this example, the rbd pool is used. :: # ceph osd pool get rbd crush_rule crush_rule: replicated_host # ceph osd pool get rbd size size: 3 # ceph osd pool get rbd pg_num pg_num: 1024 To verify that the OSDs in all the PGs are allocated from different hosts, invoke the **utils-checkPGs.py** utility on the ceph pool. The offending PGs are printed to stdout. :: # /tmp/utils-checkPGs.py rbd Checking PGs in pool rbd ... Passed With host as the failure domain, quite possibly, some of the PGs might have OSDs allocated from different hosts that are located in the same rack. For example, one PG might have OSD numbers [1, 8, 13]. OSDs 1 and 8 are found on hosts located in rack1. When rack1 suffers a catastrophe failure, PGs with OSDs allocated from the hosts in rack1 would be severely degraded. Rack ---- Choosing rack as the failure domain provides better protection against data loss. To prevent PGs with OSDs allocated from hosts that are located in the same rack, configure the CRUSH hierarchy with the rack buckets. In each rack bucket, it contains the hosts that reside in the same physical rack. A CRUSH Rule is configured with rack as the failure domain. In the following hierarchical topology, the Ceph cluster was configured with three rack buckets. Each bucket has two hosts. In pools that were created with the CRUSH rule set to rack, the OSDs in all the PGs are allocated from the distinct rack. :: root=default  rack1   host1    osd.1    osd.2    osd.3    osd.4   host2   osd.5   osd.6   osd.7   osd.8  rack2   host3    osd.9    osd.10    osd.11    osd.12   host4   osd.13   osd.14   osd.15   osd.16  rack3  host5   osd.17   osd.18   osd.19   osd.20  host6  osd.21  osd.22  osd.23  osd.24 Verify the Ceph cluster has a CRUSH rule with rack as the failure domain. :: # ceph osd crush rule ls rack_replicated_rule # ceph osd crush rule dump rack_replicated_rule { ""rule_id"": 2, ""rule_name"": ""rack_replicated_rule"", ""ruleset"": 2, ""type"": 1, ""min_size"": 1, ""max_size"": 10, ""steps"": [ { ""op"": ""take"", ""item"": -1, ""item_name"": ""default"" }, { ""op"": ""chooseleaf_firstn"", ""num"": 0, ""type"": ""rack"" }, { ""op"": ""emit"" } ] } Create a ceph pool with its CRUSH rule set to the rack's rule. :: # ceph osd pool create rbd 2048 2048 replicated rack_replicated_rule pool 'rbd' created # ceph osd pool get rbd crush_rule crush_rule: rack_replicated_rule # ceph osd pool get rbd size size: 3 # ceph osd pool get rbd pg_num pg_num: 2048 Invoke the **utils-checkPGs.py** script on the pool to verify that there are no PGs with OSDs allocated from the same rack. The offending PGs are printed to stdout. :: # /tmp/utils-checkPGs.py rbd Checking PGs in pool rbd ... Passed CRUSH Map and Rule ================== On a properly configured Ceph cluster, there are different ways to view the CRUSH hierarchy. ceph CLI -------- Print to stdout the CRUSH hierarchy with the ceph CLI. :: root@host5:/# ceph osd crush tree ID CLASS WEIGHT TYPE NAME -1 78.47974 root default -15 26.15991 rack rack1 -2 13.07996 host host1 0 hdd 1.09000 osd.0 1 hdd 1.09000 osd.1 2 hdd 1.09000 osd.2 3 hdd 1.09000 osd.3 4 hdd 1.09000 osd.4 5 hdd 1.09000 osd.5 6 hdd 1.09000 osd.6 7 hdd 1.09000 osd.7 8 hdd 1.09000 osd.8 9 hdd 1.09000 osd.9 10 hdd 1.09000 osd.10 11 hdd 1.09000 osd.11 -5 13.07996 host host2 12 hdd 1.09000 osd.12 13 hdd 1.09000 osd.13 14 hdd 1.09000 osd.14 15 hdd 1.09000 osd.15 16 hdd 1.09000 osd.16 17 hdd 1.09000 osd.17 18 hdd 1.09000 osd.18 19 hdd 1.09000 osd.19 20 hdd 1.09000 osd.20 21 hdd 1.09000 osd.21 22 hdd 1.09000 osd.22 23 hdd 1.09000 osd.23 -16 26.15991 rack rack2 -13 13.07996 host host3 53 hdd 1.09000 osd.53 54 hdd 1.09000 osd.54 58 hdd 1.09000 osd.58 59 hdd 1.09000 osd.59 64 hdd 1.09000 osd.64 65 hdd 1.09000 osd.65 66 hdd 1.09000 osd.66 67 hdd 1.09000 osd.67 68 hdd 1.09000 osd.68 69 hdd 1.09000 osd.69 70 hdd 1.09000 osd.70 71 hdd 1.09000 osd.71 -9 13.07996 host host4 36 hdd 1.09000 osd.36 37 hdd 1.09000 osd.37 38 hdd 1.09000 osd.38 39 hdd 1.09000 osd.39 40 hdd 1.09000 osd.40 41 hdd 1.09000 osd.41 42 hdd 1.09000 osd.42 43 hdd 1.09000 osd.43 44 hdd 1.09000 osd.44 45 hdd 1.09000 osd.45 46 hdd 1.09000 osd.46 47 hdd 1.09000 osd.47 -17 26.15991 rack rack3 -11 13.07996 host host5 48 hdd 1.09000 osd.48 49 hdd 1.09000 osd.49 50 hdd 1.09000 osd.50 51 hdd 1.09000 osd.51 52 hdd 1.09000 osd.52 55 hdd 1.09000 osd.55 56 hdd 1.09000 osd.56 57 hdd 1.09000 osd.57 60 hdd 1.09000 osd.60 61 hdd 1.09000 osd.61 62 hdd 1.09000 osd.62 63 hdd 1.09000 osd.63 -7 13.07996 host host6 24 hdd 1.09000 osd.24 25 hdd 1.09000 osd.25 26 hdd 1.09000 osd.26 27 hdd 1.09000 osd.27 28 hdd 1.09000 osd.28 29 hdd 1.09000 osd.29 30 hdd 1.09000 osd.30 31 hdd 1.09000 osd.31 32 hdd 1.09000 osd.32 33 hdd 1.09000 osd.33 34 hdd 1.09000 osd.34 35 hdd 1.09000 osd.35 root@host5:/# To see weight and affinity of each OSD. :: root@host5:/# ceph osd tree ID CLASS WEIGHT TYPE NAME STATUS REWEIGHT PRI-AFF -1 78.47974 root default -15 26.15991 rack rack1 -2 13.07996 host host1 0 hdd 1.09000 osd.0 up 1.00000 1.00000 1 hdd 1.09000 osd.1 up 1.00000 1.00000 2 hdd 1.09000 osd.2 up 1.00000 1.00000 3 hdd 1.09000 osd.3 up 1.00000 1.00000 4 hdd 1.09000 osd.4 up 1.00000 1.00000 5 hdd 1.09000 osd.5 up 1.00000 1.00000 6 hdd 1.09000 osd.6 up 1.00000 1.00000 7 hdd 1.09000 osd.7 up 1.00000 1.00000 8 hdd 1.09000 osd.8 up 1.00000 1.00000 9 hdd 1.09000 osd.9 up 1.00000 1.00000 10 hdd 1.09000 osd.10 up 1.00000 1.00000 11 hdd 1.09000 osd.11 up 1.00000 1.00000 -5 13.07996 host host2 12 hdd 1.09000 osd.12 up 1.00000 1.00000 13 hdd 1.09000 osd.13 up 1.00000 1.00000 14 hdd 1.09000 osd.14 up 1.00000 1.00000 15 hdd 1.09000 osd.15 up 1.00000 1.00000 16 hdd 1.09000 osd.16 up 1.00000 1.00000 17 hdd 1.09000 osd.17 up 1.00000 1.00000 18 hdd 1.09000 osd.18 up 1.00000 1.00000 19 hdd 1.09000 osd.19 up 1.00000 1.00000 20 hdd 1.09000 osd.20 up 1.00000 1.00000 21 hdd 1.09000 osd.21 up 1.00000 1.00000 22 hdd 1.09000 osd.22 up 1.00000 1.00000 23 hdd 1.09000 osd.23 up 1.00000 1.00000 crushtool CLI ------------- To extract the CRUSH Map from a running cluster and convert it into ascii text. :: # ceph osd getcrushmap -o /tmp/cm.bin 100 # crushtool -d /tmp/cm.bin -o /tmp/cm.rack.ascii # cat /tmp/cm.rack.ascii . . . # buckets host host1 { id -2 # do not change unnecessarily id -3 class hdd # do not change unnecessarily # weight 13.080 alg straw2 hash 0 # rjenkins1 item osd.0 weight 1.090 item osd.1 weight 1.090 item osd.2 weight 1.090 item osd.3 weight 1.090 item osd.4 weight 1.090 item osd.5 weight 1.090 item osd.6 weight 1.090 item osd.7 weight 1.090 item osd.8 weight 1.090 item osd.9 weight 1.090 item osd.10 weight 1.090 item osd.11 weight 1.090 } host host2 { id -5 # do not change unnecessarily id -6 class hdd # do not change unnecessarily # weight 13.080 alg straw2 hash 0 # rjenkins1 item osd.12 weight 1.090 item osd.13 weight 1.090 item osd.14 weight 1.090 item osd.15 weight 1.090 item osd.16 weight 1.090 item osd.18 weight 1.090 item osd.19 weight 1.090 item osd.17 weight 1.090 item osd.20 weight 1.090 item osd.21 weight 1.090 item osd.22 weight 1.090 item osd.23 weight 1.090 } rack rack1 { id -15 # do not change unnecessarily id -20 class hdd # do not change unnecessarily # weight 26.160 alg straw2 hash 0 # rjenkins1 item host1 weight 13.080 item host2 weight 13.080 } . . . root default { id -1 # do not change unnecessarily id -4 class hdd # do not change unnecessarily # weight 78.480 alg straw2 hash 0 # rjenkins1 item rack1 weight 26.160 item rack2 weight 26.160 item rack3 weight 26.160 } # rules rule replicated_rack { id 2 type replicated min_size 1 max_size 10 step take default step chooseleaf firstn 0 type rack step emit } # end crush map The **utils-checkPGs.py** script can read the same data from memory and construct the failure domains with OSDs. Verify the OSDs in each PG against the constructed failure domains. Configure the Failure Domain in CRUSH Map ========================================= The Ceph ceph-osd, ceph-client and cinder charts accept configuration parameters to set the Failure Domain for CRUSH. The options available are **failure_domain**, **failure_domain_by_hostname**, **failure_domain_name** and **crush_rule** :: ceph-osd specific overrides failure_domain: Set the CRUSH bucket type for your OSD to reside in. (DEFAULT: ""host"") failure_domain_by_hostname: Specify the portion of the hostname to use for your failure domain bucket name. (DEFAULT: ""false"") failure_domain_name: Manually name the failure domain bucket name. This configuration option should only be used when using host based overrides. (DEFAULT: ""false"") :: ceph-client and cinder specific overrides crush_rule**: Set the crush rule for a pool (DEFAULT: ""replicated_rule"") An example of a lab enviroment had the following paramters set for the ceph yaml override file to apply a rack level failure domain within CRUSH. :: endpoints: identity: namespace: openstack object_store: namespace: ceph ceph_mon: namespace: ceph network: public: 10.0.0.0/24 cluster: 10.0.0.0/24 deployment: storage_secrets: true ceph: true rbd_provisioner: true cephfs_provisioner: true client_secrets: false rgw_keystone_user_and_endpoints: false bootstrap: enabled: true conf: ceph: global: fsid: 6c12a986-148d-45a7-9120-0cf0522ca5e0 rgw_ks: enabled: true pool: default: crush_rule: rack_replicated_rule crush: tunables: null target: # NOTE(portdirect): 5 nodes, with one osd per node osd: 18 pg_per_osd: 100 storage: osd: - data: type: block-logical location: /dev/vdb journal: type: block-logical location: /dev/vde1 - data: type: block-logical location: /dev/vdc journal: type: block-logical location: /dev/vde2 - data: type: block-logical location: /dev/vdd journal: type: block-logical location: /dev/vde3 overrides: ceph_osd: hosts: - name: osh-1 conf: storage: failure_domain: ""rack"" failure_domain_name: ""rack1"" - name: osh-2 conf: storage: failure_domain: ""rack"" failure_domain_name: ""rack1"" - name: osh-3 conf: storage: failure_domain: ""rack"" failure_domain_name: ""rack2"" - name: osh-4 conf: storage: failure_domain: ""rack"" failure_domain_name: ""rack2"" - name: osh-5 conf: storage: failure_domain: ""rack"" failure_domain_name: ""rack3"" - name: osh-6 conf: storage: failure_domain: ""rack"" failure_domain_name: ""rack3"" .. NOTE:: Note that the cinder chart will need an override configured to ensure the cinder pools in Ceph are using the correct **crush_rule**. :: pod: replicas: api: 2 volume: 1 scheduler: 1 backup: 1 conf: cinder: DEFAULT: backup_driver: cinder.backup.drivers.swift ceph: pools: backup: replicated: 3 crush_rule: rack_replicated_rule chunk_size: 8 volume: replicated: 3 crush_rule: rack_replicated_rule chunk_size: 8 The charts can be updated with these overrides pre or post deployment. If this is a post deployment change then the following steps will apply for a gate based openstack-helm deployment. :: cd /opt/openstack-helm helm upgrade --install ceph-osd ../openstack-helm-infra/ceph-osd --namespace=ceph --values=/tmp/ceph.yaml kubectl delete jobs/ceph-rbd-pool -n ceph helm upgrade --install ceph-client ../openstack-helm-infra/ceph-client --namespace=ceph --values=/tmp/ceph.yaml helm delete cinder --purge helm upgrade --install cinder ./cinder --namespace=openstack --values=/tmp/cinder.yaml .. NOTE:: There will be a brief interuption of I/O and a data movement of placement groups in Ceph while these changes are applied. The data movement operation can take several minutes to several days to complete. The utils-checkPGs.py Script ============================ The purpose of the **utils-checkPGs.py** script is to check whether a PG has OSDs allocated from the same failure domain. The violating PGs with their respective OSDs are printed to the stdout. In this example, a pool was created with the CRUSH rule set to the host failure domain. The ceph cluster was configured with the rack buckets. The CRUSH algorithm allocated the OSDs from different hosts in each PG. The rack buckets were ignored and thus the duplicate racks which get reported by the script. :: root@host5:/# /tmp/utils-checkPGs.py cmTestPool Checking PGs in pool cmTestPool ... Failed OSDs [44, 32, 53] in PG 20.a failed check in rack [u'rack2', u'rack2', u'rack2'] OSDs [61, 5, 12] in PG 20.19 failed check in rack [u'rack1', u'rack1', u'rack1'] OSDs [69, 9, 15] in PG 20.2a failed check in rack [u'rack1', u'rack1', u'rack1'] . . . .. NOTE:: The **utils-checkPGs.py** utility is executed on-demand. It is intended to be executed on one of the ceph-mon pods. If the **utils-checkPGs.py** script did not find any violation, it prints Passed. In this example, the ceph cluster was configured with the rack buckets. The rbd pool was created with its CRUSH rule set to the rack. The **utils-checkPGs.py** script did not find duplicate racks in PGs. :: root@host5:/# /tmp/utils-checkPGs.py rbd Checking PGs in pool rbd ... Passed Invoke the **utils-checkPGs.py** script with the --help option to get the script's usage. :: root@host5:/# /tmp/utils-checkPGs.py --help usage: utils-checkPGs.py [-h] PoolName [PoolName ...] Cross-check the OSDs assigned to the Placement Groups (PGs) of a ceph pool with the CRUSH topology. The cross-check compares the OSDs in a PG and verifies the OSDs reside in separate failure domains. PGs with OSDs in the same failure domain are flagged as violation. The offending PGs are printed to stdout. This CLI is executed on-demand on a ceph-mon pod. To invoke the CLI, you can specify one pool or list of pools to check. The special pool name All (or all) checks all the pools in the ceph cluster. positional arguments: PoolName List of pools (or All) to validate the PGs and OSDs mapping optional arguments: -h, --help show this help message and exit root@host5:/# The source for the **utils-checkPGs.py** script is available at **openstack-helm/ceph-mon/templates/bin/utils/_checkPGs.py.tpl**. Ceph Deployments ================ Through testing and verification, you derive at a CRUSH Map with the buckets that are deemed beneficial to your ceph cluster. Standardize on the verified CRUSH map to have the consistency in all the Ceph deployments across the data centers. Mimicking the hierarchy in your CRUSH Map with the physical hardware setup should provide the needed information on the topology layout. With the racks layout, each rack can store a replica of your data. To validate a ceph cluster with the number of replica that is based on the number of racks: #. The number of physical racks and the number of replicas are 3, respectively. Create a ceph pool with replica set to 3 and pg_num set to (# of OSDs * 50) / 3 and round the number to the next power-of-2. For example, if the calculation is 240, round it to 256. Assuming the pool you just created had 256 PGs. In each PG, verify the OSDs are chosen from the three racks, respectively. Use the **utils-checkPGs.py** script to verify the OSDs in all the PGs of the pool. #. The number of physical racks is 2 and the number of replica is 3. Create a ceph pool as described in the previous step. In the pool you created, in each PG, verify two of the OSDs are chosen from the two racks, respectively. The third OSD can come from one of the two racks but not from the same hosts as the other two OSDs. Data Movement ============= Changes to the CRUSH Map always trigger data movement. It is prudent that you plan accordingly when restructuring the CRUSH Map. Once started, the CRUSH Map restructuring runs to completion and can neither be stopped nor suspended. On a busy Ceph cluster with live transactions, it is always safer to use divide-and-conquer approach to complete small chunk of works in multiple sessions. Watch the progress of the data movement while the Ceph cluster re-balances itself. :: # watch ceph status cluster: id: 07c31d0f-bcc6-4db4-aadf-2d2a0f13edb8 health: HEALTH_WARN 137084/325509 objects misplaced (42.114%) Degraded data redundancy: 28/325509 objects degraded (0.009%), 15 pgs degraded services: mon: 5 daemons, quorum host1,host2,host3,host4,host5 mgr: host6(active), standbys: host1 mds: cephfs-1/1/1 up {0=mds-ceph-mds-7cb4f57cc-prh87=up:active}, 1 up:standby osd: 72 osds: 72 up, 72 in; 815 remapped pgs rgw: 2 daemons active data: pools: 19 pools, 2920 pgs objects: 105k objects, 408 GB usage: 1609 GB used, 78819 GB / 80428 GB avail pgs: 28/325509 objects degraded (0.009%) 137084/325509 objects misplaced (42.114%) 2085 active+clean 790 active+remapped+backfill_wait 22 active+remapped+backfilling 15 active+recovery_wait+degraded 4 active+recovery_wait+remapped 4 active+recovery_wait io: client: 11934 B/s rd, 3731 MB/s wr, 2 op/s rd, 228 kop/s wr recovery: 636 MB/s, 163 objects/s At the time this **ceph status** command was executed, the status's output showed that the ceph cluster was going through re-balancing. Among the overall 2920 pgs, 2085 of them are in **active+clean** state. The remaining pgs are either being remapped or recovered. As the ceph cluster continues its re-balance, the number of pgs in **active+clean** increases. :: # ceph status cluster: id: 07c31d0f-bcc6-4db4-aadf-2d2a0f13edb8 health: HEALTH_OK services: mon: 5 daemons, quorum host1,host2,host3,host4,host5 mgr: host6(active), standbys: host1 mds: cephfs-1/1/1 up {0=mds-ceph-mds-7cc55c9695-lj22d=up:active}, 1 up:standby osd: 72 osds: 72 up, 72 in rgw: 2 daemons active data: pools: 19 pools, 2920 pgs objects: 134k objects, 519 GB usage: 1933 GB used, 78494 GB / 80428 GB avail pgs: 2920 active+clean io: client: 1179 B/s rd, 971 kB/s wr, 1 op/s rd, 41 op/s wr When the overall number of pgs is equal to the number of **active+clean** pgs, the health of the ceph cluster changes to **HEALTH_OK** (assuming there are no other warning conditions). ",0,1306
openstack%2Ftripleo-heat-templates~master~I328b3e5aedbdfb03463906045c841f53c38652ab,openstack/tripleo-heat-templates,master,I328b3e5aedbdfb03463906045c841f53c38652ab,Fix network IpListMap - no longer need fallback,ABANDONED,2019-01-30 15:23:00.000000000,2019-05-08 04:42:44.000000000,,"[{'_account_id': 17280}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-01-30 15:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1bc9e4bb42bdb02dbe812c1ea3bdab44dc766cfd', 'message': 'Fix network IpListMap - no longer need fallback\n\nSince https://review.openstack.org/627420 disabled\nnetworks are no longer templated.\n\nWe should no longer pass a property with fallback\nctlplane IP address for disabled networks to the\nIpListMap resources.\n\nCloses-Bug: #1813950\nChange-Id: I328b3e5aedbdfb03463906045c841f53c38652ab\n'}, {'number': 2, 'created': '2019-01-31 15:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d0daf38f82f11039c74fba64903180aea0b976d', 'message': 'Fix network IpListMap - no longer need fallback\n\nSince https://review.openstack.org/627420 disabled\nnetworks are no longer templated.\n\nWe should no longer pass a property with fallback\nctlplane IP address for disabled networks to the\nIpListMap resources.\n\nCloses-Bug: #1813950\nChange-Id: I328b3e5aedbdfb03463906045c841f53c38652ab\n'}, {'number': 3, 'created': '2019-02-24 22:42:08.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6460d03946bf6fe931adce3cf7fbba5307e8b041', 'message': 'Fix network IpListMap - no longer need fallback\n\nSince https://review.openstack.org/627420 disabled\nnetworks are no longer templated.\n\nWe should no longer pass a property with fallback\nctlplane IP address for disabled networks to the\nIpListMap resources.\n\nCloses-Bug: #1813950\nChange-Id: I328b3e5aedbdfb03463906045c841f53c38652ab\n'}]",0,633975,6460d03946bf6fe931adce3cf7fbba5307e8b041,15,4,3,24245,,,0,"Fix network IpListMap - no longer need fallback

Since https://review.openstack.org/627420 disabled
networks are no longer templated.

We should no longer pass a property with fallback
ctlplane IP address for disabled networks to the
IpListMap resources.

Closes-Bug: #1813950
Change-Id: I328b3e5aedbdfb03463906045c841f53c38652ab
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/633975/2 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,1bc9e4bb42bdb02dbe812c1ea3bdab44dc766cfd,bug/1813950, {%- for network in networks if network.enabled|default(true) and network.name in role.networks|default([]) %}," {%- for network in networks %} {%- if network.enabled|default(true) and network.name in role.networks|default([]) %} {%- else %} {{network.name}}IpList: {get_attr: [{{role.name}}, ip_address]} {%- endif %}",1,5
openstack%2Fzun-tempest-plugin~master~I299ae26ba6de5ed438579dd73d59416a54b0be98,openstack/zun-tempest-plugin,master,I299ae26ba6de5ed438579dd73d59416a54b0be98,Remove assertion of resource constraint,MERGED,2019-05-06 02:56:15.000000000,2019-05-08 03:42:42.000000000,2019-05-08 03:42:42.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 02:56:15.000000000', 'files': ['zun_tempest_plugin/tests/tempest/api/test_containers.py'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/6327701485d832c9419de80737233dfb6750c267', 'message': ""Remove assertion of resource constraint\n\nThis assertion doesn't work well in multinode gate. This commit\nremoves them temporarily. Later, we will revisit this logic.\nPerhaps, we can re-introduce it in a non-tempest pipeline.\n\nChange-Id: I299ae26ba6de5ed438579dd73d59416a54b0be98\n""}]",0,657304,6327701485d832c9419de80737233dfb6750c267,14,2,1,11536,,,0,"Remove assertion of resource constraint

This assertion doesn't work well in multinode gate. This commit
removes them temporarily. Later, we will revisit this logic.
Perhaps, we can re-introduce it in a non-tempest pipeline.

Change-Id: I299ae26ba6de5ed438579dd73d59416a54b0be98
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/04/657304/1 && git format-patch -1 --stdout FETCH_HEAD,['zun_tempest_plugin/tests/tempest/api/test_containers.py'],1,6327701485d832c9419de80737233dfb6750c267,," # docker_base_url = self._get_docker_url(model) # container = self.docker_client.get_container(model.uuid, # docker_base_url) # self._assert_resource_constraints(container, cpu=0.1, memory=100) # container = self.docker_client.get_container(model.uuid, # docker_base_url) # self._assert_resource_constraints(container, cpu=0.2, memory=200)"," docker_base_url = self._get_docker_url(model) container = self.docker_client.get_container(model.uuid, docker_base_url) self._assert_resource_constraints(container, cpu=0.1, memory=100) container = self.docker_client.get_container(model.uuid, docker_base_url) self._assert_resource_constraints(container, cpu=0.2, memory=200)",7,7
openstack%2Fheat~master~I50c106a2b80a707ba8296efed86194526d6e5da6,openstack/heat,master,I50c106a2b80a707ba8296efed86194526d6e5da6,Retry on DB deadlock in event_create(),MERGED,2019-03-27 21:07:33.000000000,2019-05-08 03:33:47.000000000,2019-05-03 19:14:18.000000000,"[{'_account_id': 8833}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-27 21:07:33.000000000', 'files': ['heat/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/41b9a650dfd9a78614272a1fd8f23c617261266a', 'message': 'Retry on DB deadlock in event_create()\n\nChange-Id: I50c106a2b80a707ba8296efed86194526d6e5da6\nTask: 30196\n'}]",0,648244,41b9a650dfd9a78614272a1fd8f23c617261266a,9,4,1,4257,,,0,"Retry on DB deadlock in event_create()

Change-Id: I50c106a2b80a707ba8296efed86194526d6e5da6
Task: 30196
",git fetch https://review.opendev.org/openstack/heat refs/changes/44/648244/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/db/sqlalchemy/api.py'],1,41b9a650dfd9a78614272a1fd8f23c617261266a,,"@oslo_db_api.wrap_db_retry(max_retries=3, retry_on_deadlock=True, retry_interval=0.5, inc_retry_interval=True)",,2,0
openstack%2Frpm-packaging~master~I9652c5388266c6fdb7a59d540e6b83ac5ed10581,openstack/rpm-packaging,master,I9652c5388266c6fdb7a59d540e6b83ac5ed10581,microversion_parse: convert to singlespec,MERGED,2019-05-07 13:03:12.000000000,2019-05-08 03:29:36.000000000,2019-05-08 03:29:36.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-07 13:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/60d9e97884ac84419dd2317190a364c425e04b40', 'message': 'microversion_parse: convert to singlespec\n\nChange-Id: I9652c5388266c6fdb7a59d540e6b83ac5ed10581\n'}, {'number': 2, 'created': '2019-05-07 16:37:58.000000000', 'files': ['openstack/microversion_parse/microversion_parse.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/273ca6b6141344d308df3c006ca15d5a40880f21', 'message': 'microversion_parse: convert to singlespec\n\nChange-Id: I9652c5388266c6fdb7a59d540e6b83ac5ed10581\n'}]",0,657593,273ca6b6141344d308df3c006ca15d5a40880f21,13,5,2,6593,,,0,"microversion_parse: convert to singlespec

Change-Id: I9652c5388266c6fdb7a59d540e6b83ac5ed10581
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/93/657593/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/microversion_parse/microversion_parse.spec.j2'],1,60d9e97884ac84419dd2317190a364c425e04b40,microversion_parse,"{% set pypi_name = 'microversion_parse' %} {% set upstream_version = upstream_version('0.2.1') %} {% set rpm_release = '1' %} {% set source = url_pypi() %} Name: {{ py2name() }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }}URL: https://www.openstack.org/ Source0: {{ source }}BuildRequires: {{ py2pkg('WebOb', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('gabbi', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }}%python_subpackages%package -n {{ py2name() }}-doc%description -n {{ py2name() }}-doc%python_buildPBR_VERSION=%{version} sphinx-build -b html doc/source doc/build/html%python_install%python_exec -m stestr.cli run %files %{python_files}%files -n {{ py2name() }}-doc",Name: {{ py2name('microversion_parse') }} Version: 0.2.1 Release: 0URL: http://www.openstack.org/ Source0: https://files.pythonhosted.org/packages/source/m/microversion_parse/microversion_parse-%{version}.tar.gzBuildRequires: {{ py2pkg('WebOb') }} BuildRequires: {{ py2pkg('gabbi') }} BuildRequires: {{ py2pkg('setuptools') }} BuildRequires: {{ py2pkg('stestr') }} BuildRequires: {{ py2pkg('testrepository') }} BuildRequires: {{ py2pkg('testtools') }}%package doc%description doc%{py2_build}%{__python2} setup.py build_sphinx%{py2_install}stestr run %files%files doc,24,19
openstack%2Fironic~master~Ib1cfa6a1b0859a1e2680055ce0394053db1c307e,openstack/ironic,master,Ib1cfa6a1b0859a1e2680055ce0394053db1c307e,Run vbmcd as stack user in devstack,MERGED,2019-05-07 13:58:10.000000000,2019-05-08 03:07:55.000000000,2019-05-08 03:07:31.000000000,"[{'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 28429}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-05-07 13:58:10.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bace52165f04f04d061f8fb5603f6f0f50a1ce94', 'message': 'Run vbmcd as stack user in devstack\n\ndevstack may be run as some other non-root user, and the service\nwill fail to start if there is no stack user available.\n\nChange-Id: Ib1cfa6a1b0859a1e2680055ce0394053db1c307e\nSigned-off-by: michaeltchapman <woppin@gmail.com>\n'}]",0,657606,bace52165f04f04d061f8fb5603f6f0f50a1ce94,13,7,1,6994,,,0,"Run vbmcd as stack user in devstack

devstack may be run as some other non-root user, and the service
will fail to start if there is no stack user available.

Change-Id: Ib1cfa6a1b0859a1e2680055ce0394053db1c307e
Signed-off-by: michaeltchapman <woppin@gmail.com>
",git fetch https://review.opendev.org/openstack/ironic refs/changes/06/657606/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,bace52165f04f04d061f8fb5603f6f0f50a1ce94,," write_user_unit_file $IRONIC_VBMC_SYSTEMD_SERVICE ""$cmd"" """" ""$STACK_USER"""," write_user_unit_file $IRONIC_VBMC_SYSTEMD_SERVICE ""$cmd"" """" ""stack""",1,1
openstack%2Fironic-python-agent~master~I63a6ff91d702b990ef09da13e6e2e269e7274cce,openstack/ironic-python-agent,master,I63a6ff91d702b990ef09da13e6e2e269e7274cce,Add more channel number for detecting BMC IP address,MERGED,2019-04-29 09:33:16.000000000,2019-05-08 02:06:49.000000000,2019-05-08 02:03:44.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 12860}, {'_account_id': 13689}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-04-29 09:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6455143888072fda0acb65180011964945ad5fb1', 'message': 'Add more channel model for detecting BMC IP address\n\nIPMI SPEC assignment channel number 1-14 for vendors\nimplementation, we met an baremetal product,\nlike H3C, use number 8 as LAN channel.\n\nCurrent code limit channel number to 1~7,\nI think this can increase to 1~14.\n\nChange-Id: I63a6ff91d702b990ef09da13e6e2e269e7274cce\nTask: 30654\nStory: 2005528\n'}, {'number': 2, 'created': '2019-04-29 09:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/524a3d245600fe83c57c98926aa3fb51306e911d', 'message': 'Add more channel number for detecting BMC IP address\n\nIPMI SPEC assignment channel number 1-14 for vendors\nimplementation, we met an baremetal product,\nlike H3C, use number 8 as LAN channel.\n\nCurrent code limit channel number to 1~7,\nI think this can increase to 1~14.\n\nChange-Id: I63a6ff91d702b990ef09da13e6e2e269e7274cce\nTask: 30654\nStory: 2005528\n'}, {'number': 3, 'created': '2019-04-29 10:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1153c98ec8f28464c5257d4ba4b8b1a232e3fbdc', 'message': 'Add more channel number for detecting BMC IP address\n\nIPMI SPEC assignment channel number 1-11 for vendors\nimplementation, we met an baremetal product,\nlike H3C, use number 8 as LAN channel.\n\nCurrent code limit channel number to 1~7,\nI think this can increase to 1~11.\n\nChange-Id: I63a6ff91d702b990ef09da13e6e2e269e7274cce\nTask: 30654\nStory: 2005528\n'}, {'number': 4, 'created': '2019-04-30 09:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/088c03b05d2de9ee2ffd9b830568a970f28a676e', 'message': 'Add more channel number for detecting BMC IP address\n\nIPMI SPEC[1] assignment channel number 1-11 for vendors\nimplementation(We an search ""Channel Numbers"" in section 6.3).\nWe met an baremetal product, like H3C, use number 8 as LAN channel.\n\nCurrent code limit channel number to 1~7,\nI think this can increase to 1~11.\n\n[1] https://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/ipmi-second-gen-interface-spec-v2-rev1-1.pdf\n\nChange-Id: I63a6ff91d702b990ef09da13e6e2e269e7274cce\nTask: 30654\nStory: 2005528\n'}, {'number': 5, 'created': '2019-05-05 10:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c576655a60e7e133288611123f097615e8c3286c', 'message': 'Add more channel number for detecting BMC IP address\n\nIPMI SPEC[1] assignment channel number 1-11 for vendors\nimplementation(We an search ""Channel Numbers"" in section 6.3).\nWe met an baremetal product, like H3C, use number 8 as LAN channel.\n\nCurrent code limit channel number to 1~7,\nI think this can increase to 1~11.\n\n[1] https://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/ipmi-second-gen-interface-spec-v2-rev1-1.pdf\n\nChange-Id: I63a6ff91d702b990ef09da13e6e2e269e7274cce\nTask: 30654\nStory: 2005528\n'}, {'number': 6, 'created': '2019-05-05 10:30:19.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/add-more-lan-channels-8f5197ed5f057c25.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/66d3c8e453a58c01740581079045e9b4368c4bde', 'message': 'Add more channel number for detecting BMC IP address\n\nIPMI SPEC[1] assignment channel number 1-11 for vendors\nimplementation(We an search ""Channel Numbers"" in section 6.3).\nWe met an baremetal product, like H3C, use number 8 as LAN channel.\n\nCurrent code limit channel number to 1~7,\nI think this can increase to 1~11.\n\n[1] https://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/ipmi-second-gen-interface-spec-v2-rev1-1.pdf\n\nChange-Id: I63a6ff91d702b990ef09da13e6e2e269e7274cce\nTask: 30654\nStory: 2005528\n'}]",1,656275,66d3c8e453a58c01740581079045e9b4368c4bde,28,12,6,12860,,,0,"Add more channel number for detecting BMC IP address

IPMI SPEC[1] assignment channel number 1-11 for vendors
implementation(We an search ""Channel Numbers"" in section 6.3).
We met an baremetal product, like H3C, use number 8 as LAN channel.

Current code limit channel number to 1~7,
I think this can increase to 1~11.

[1] https://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/ipmi-second-gen-interface-spec-v2-rev1-1.pdf

Change-Id: I63a6ff91d702b990ef09da13e6e2e269e7274cce
Task: 30654
Story: 2005528
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/75/656275/6 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,6455143888072fda0acb65180011964945ad5fb1,bug/2005528," # From all the channels 0-15, only 1-11 can be assigned to # different types of communication media and protocols and # effectively used for channel in range(1, 12):"," # From all the channels 0-15, only 1-7 can be assigned to different # types of communication media and protocols and effectively used for channel in range(1, 8):",4,3
openstack%2Fwatcher~master~I287763d5e426ff860aefabc4a1f3fe3f51accd76,openstack/watcher,master,I287763d5e426ff860aefabc4a1f3fe3f51accd76,Resolve problems with audit scope and add tests,MERGED,2019-04-20 10:50:20.000000000,2019-05-08 01:44:46.000000000,2019-04-30 09:20:27.000000000,"[{'_account_id': 5575}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-04-20 10:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/c797c03c2c9ef3d3a3d65571cf0ed005f029dfdb', 'message': 'Resolve problems with audit scope and add tests\n\nThis resolves problems with the audit scope such as the scope being\nignored, the scope not merging due to a type in .append, change update\ninto .add method when adding single elements to a set and making the\naccess of dict keys and values as lists work in python 3.7.\n\nAll these methods from the model builder now have tests to prevent\nregressions.\n\nChange-Id: I287763d5e426ff860aefabc4a1f3fe3f51accd76\n'}, {'number': 2, 'created': '2019-04-25 05:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/0c1d2f26b2007f55054adf40b38b2cec544effb9', 'message': 'Resolve problems with audit scope and add tests\n\nThis resolves problems with the audit scope such as the scope being\nignored, the scope not merging due to a type in .append, change update\ninto .add method when adding single elements to a set and making the\naccess of dict keys and values as lists work in python 3.7.\n\nAll these methods from the model builder now have tests to prevent\nregressions.\n\nChange-Id: I287763d5e426ff860aefabc4a1f3fe3f51accd76\n'}, {'number': 3, 'created': '2019-04-29 08:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/79c62a0c347622250596dc3a615b3c40f8b37f96', 'message': 'Resolve problems with audit scope and add tests\n\nThis resolves problems with the audit scope such as the scope being\nignored, the scope not merging due to a type in .append, change update\ninto .add method when adding single elements to a set and making the\naccess of dict keys and values as lists work in python 3.7.\n\nAll these methods from the model builder now have tests to prevent\nregressions.\n\nChange-Id: I287763d5e426ff860aefabc4a1f3fe3f51accd76\n'}, {'number': 4, 'created': '2019-04-29 08:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/e61cb7a081f64df1e8abcf6358834d3feed870d8', 'message': 'Resolve problems with audit scope and add tests\n\nThis resolves problems with the audit scope such as the scope being\nignored, the scope not merging due to a type in .append, change update\ninto .add method when adding single elements to a set and making the\naccess of dict keys and values as lists work in python 3.7.\n\nAll these methods from the model builder now have tests to prevent\nregressions.\n\nChange-Id: I287763d5e426ff860aefabc4a1f3fe3f51accd76\n'}, {'number': 5, 'created': '2019-04-30 07:13:03.000000000', 'files': ['watcher/decision_engine/model/collector/nova.py', 'watcher/tests/decision_engine/cluster/test_model_builder.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/d84f8c50f5f52207ebaf7824df0c585ec10f5a9c', 'message': 'Resolve problems with audit scope and add tests\n\nThis resolves problems with the audit scope such as the scope being\nignored, the scope not merging due to a type in .append, change update\ninto .add method when adding single elements to a set and making the\naccess of dict keys and values as lists work in python 3.7.\n\nAll these methods from the model builder now have tests to prevent\nregressions.\n\nCo-Authored-By: Canwei Li <li.canwei2@zte.com.cn>\n\nChange-Id: I287763d5e426ff860aefabc4a1f3fe3f51accd76\n'}]",3,653977,d84f8c50f5f52207ebaf7824df0c585ec10f5a9c,23,5,5,29911,,,0,"Resolve problems with audit scope and add tests

This resolves problems with the audit scope such as the scope being
ignored, the scope not merging due to a type in .append, change update
into .add method when adding single elements to a set and making the
access of dict keys and values as lists work in python 3.7.

All these methods from the model builder now have tests to prevent
regressions.

Co-Authored-By: Canwei Li <li.canwei2@zte.com.cn>

Change-Id: I287763d5e426ff860aefabc4a1f3fe3f51accd76
",git fetch https://review.opendev.org/openstack/watcher refs/changes/77/653977/4 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/decision_engine/model/collector/nova.py', 'watcher/tests/decision_engine/cluster/test_model_builder.py']",2,c797c03c2c9ef3d3a3d65571cf0ed005f029dfdb,fix-audit-scope,"# -*- encoding: utf-8 -*- # Copyright (c) 2019 European Organization for Nuclear Research (CERN) # # Authors: Corne Lukken <info@dantalion.nl> # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import mock from oslo_config import cfg from oslo_log import log from watcher.common import nova_helper from watcher.decision_engine.model.collector import nova from watcher.tests import base CONF = cfg.CONF LOG = log.getLogger(__name__) # @mock.patch.object(clients.OpenStackClients, 'nova', mock.Mock()) # @mock.patch.object(nova_helper, 'NovaHelper', mock.Mock()) class TestModelBuilder(base.BaseTestCase): """"""Test the collector ModelBuilder Objects under test are preceded with t_ and mocked objects are preceded with m_ , additionally, patched objects are preceded with p_ no object under test should be created in setUp this can influence the results. """""" def setUp(self): super(TestModelBuilder, self).setUp() def test_check_model(self): """"""Initialize collector ModelBuilder and test check model"""""" m_scope = [{""compute"": [ {""host_aggregates"": [{""id"": 5}]}, {""availability_zones"": [{""name"": ""av_a""}]} ]}] t_nova_cluster = nova.ModelBuilder(mock.Mock()) self.assertTrue(t_nova_cluster._check_model_scope(m_scope)) def test_check_model_update_false(self): """"""Initialize check model with multiple identical scopes The seconds check_model should return false as the models are the same """""" m_scope = [{""compute"": [ {""host_aggregates"": [{""id"": 5}]}, {""availability_zones"": [{""name"": ""av_a""}]} ]}] t_nova_cluster = nova.ModelBuilder(mock.Mock()) self.assertTrue(t_nova_cluster._check_model_scope(m_scope)) self.assertFalse(t_nova_cluster._check_model_scope(m_scope)) def test_check_model_update_true(self): """"""Initialize check model with multiple different scopes Since the models differ both should return True for the update flag """""" m_scope_one = [{""compute"": [ {""host_aggregates"": [{""id"": 5}]}, {""availability_zones"": [{""name"": ""av_a""}]} ]}] m_scope_two = [{""compute"": [ {""host_aggregates"": [{""id"": 2}]}, {""availability_zones"": [{""name"": ""av_b""}]} ]}] t_nova_cluster = nova.ModelBuilder(mock.Mock()) self.assertTrue(t_nova_cluster._check_model_scope(m_scope_one)) self.assertTrue(t_nova_cluster._check_model_scope(m_scope_two)) def test_merge_compute_scope(self): """""""""""" m_scope_one = [ {""host_aggregates"": [{""id"": 5}]}, {""availability_zones"": [{""name"": ""av_a""}]} ] m_scope_two = [ {""host_aggregates"": [{""id"": 4}]}, {""availability_zones"": [{""name"": ""av_b""}]} ] reference = {'availability_zones': [{'name': 'av_a'}, {'name': 'av_b'}], 'host_aggregates': [{'id': 5}, {'id': 4}]} t_nova_cluster = nova.ModelBuilder(mock.Mock()) t_nova_cluster._merge_compute_scope(m_scope_one) t_nova_cluster._merge_compute_scope(m_scope_two) self.assertEqual(t_nova_cluster.model_scope, reference) @mock.patch.object(nova_helper, 'NovaHelper') def test_collect_aggregates(self, m_nova): """""""""""" m_nova.return_value.get_aggregate_list.return_value = \ [mock.Mock(id=1, name='example'), mock.Mock(id=5, name='example', hosts=['hostone', 'hosttwo'])] m_nova.return_value.get_compute_node_by_name.return_value = False m_scope = [{'id': 5}] t_nova_cluster = nova.ModelBuilder(mock.Mock()) result = set() t_nova_cluster._collect_aggregates(m_scope, result) self.assertEqual(result, set(['hostone', 'hosttwo'])) @mock.patch.object(nova_helper, 'NovaHelper') def test_collect_zones(self, m_nova): """""""""""" m_nova.return_value.get_service_list.return_value = \ [mock.Mock(zone='av_b'), mock.Mock(zone='av_a', host='hostone')] m_nova.return_value.get_compute_node_by_name.return_value = False m_scope = [{'name': 'av_a'}] t_nova_cluster = nova.ModelBuilder(mock.Mock()) result = set() t_nova_cluster._collect_zones(m_scope, result) self.assertEqual(result, set(['hostone'])) @mock.patch.object(nova_helper, 'NovaHelper') def test_add_physical_layer(self, m_nova): """""""""""" m_nova.return_value.get_aggregate_list.return_value = \ [mock.Mock(id=1, name='example'), mock.Mock(id=5, name='example', hosts=['hostone', 'hosttwo'])] m_nova.return_value.get_service_list.return_value = \ [mock.Mock(zone='av_b', host='hostthree'), mock.Mock(zone='av_a', host='hostone')] m_nova.return_value.get_compute_node_by_name.return_value = False m_scope = [{""compute"": [ {""host_aggregates"": [{""id"": 5}]}, {""availability_zones"": [{""name"": ""av_a""}]} ]}] t_nova_cluster = nova.ModelBuilder(mock.Mock()) t_nova_cluster.execute(m_scope) m_nova.return_value.get_compute_node_by_name.assert_any_call( 'hostone', servers=True) m_nova.return_value.get_compute_node_by_name.assert_any_call( 'hosttwo', servers=True) self.assertEqual( m_nova.return_value.get_compute_node_by_name.call_count, 2) ",,188,167
openstack%2Fzaqar-tempest-plugin~master~I6553e791ab9e8389d8f438df2e6a6d4e04582459,openstack/zaqar-tempest-plugin,master,I6553e791ab9e8389d8f438df2e6a6d4e04582459,Update hacking version to latest,ABANDONED,2019-01-09 02:22:22.000000000,2019-05-08 01:33:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 27078}, {'_account_id': 27565}]","[{'number': 1, 'created': '2019-01-09 02:22:22.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/d03da772f133c8c4ca971926051c8c5cca30bb1d', 'message': 'Update hacking version to latest\n\nChange-Id: I6553e791ab9e8389d8f438df2e6a6d4e04582459\n'}]",0,629367,d03da772f133c8c4ca971926051c8c5cca30bb1d,6,3,1,27565,,,0,"Update hacking version to latest

Change-Id: I6553e791ab9e8389d8f438df2e6a6d4e04582459
",git fetch https://review.opendev.org/openstack/zaqar-tempest-plugin refs/changes/67/629367/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d03da772f133c8c4ca971926051c8c5cca30bb1d,,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking>=0.12.0,<0.13 # Apache-2.0",1,1
openstack%2Fsolum-tempest-plugin~master~I3e22003879c0c9917c40ff6fc6430778e689938f,openstack/solum-tempest-plugin,master,I3e22003879c0c9917c40ff6fc6430778e689938f,Update hacking version to latest,ABANDONED,2019-01-09 02:20:59.000000000,2019-05-08 01:33:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 27565}]","[{'number': 1, 'created': '2019-01-09 02:20:59.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/solum-tempest-plugin/commit/de00931121f55cf9c8aece559e30dd5875dd478e', 'message': 'Update hacking version to latest\n\nChange-Id: I3e22003879c0c9917c40ff6fc6430778e689938f\n'}]",0,629360,de00931121f55cf9c8aece559e30dd5875dd478e,5,2,1,27565,,,0,"Update hacking version to latest

Change-Id: I3e22003879c0c9917c40ff6fc6430778e689938f
",git fetch https://review.opendev.org/openstack/solum-tempest-plugin refs/changes/60/629360/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,de00931121f55cf9c8aece559e30dd5875dd478e,,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking<0.13,>=0.12.0 # Apache-2.0",1,1
openstack%2Fmurano-tempest-plugin~master~Idb8305137e401013b7083d90e1d5d2b5631b1e74,openstack/murano-tempest-plugin,master,Idb8305137e401013b7083d90e1d5d2b5631b1e74,Update hacking version to latest,ABANDONED,2019-01-09 02:15:58.000000000,2019-05-08 01:33:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 27565}]","[{'number': 1, 'created': '2019-01-09 02:15:58.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/c96088709b08945b454a1ea19c82f3eb3700f29c', 'message': 'Update hacking version to latest\n\nChange-Id: Idb8305137e401013b7083d90e1d5d2b5631b1e74\n'}]",0,629354,c96088709b08945b454a1ea19c82f3eb3700f29c,5,2,1,27565,,,0,"Update hacking version to latest

Change-Id: Idb8305137e401013b7083d90e1d5d2b5631b1e74
",git fetch https://review.opendev.org/openstack/murano-tempest-plugin refs/changes/54/629354/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c96088709b08945b454a1ea19c82f3eb3700f29c,,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking<0.13,>=0.12.0 # Apache-2.0",1,1
openstack%2Fopenstack-ansible~master~I941a47d0a963d42150c56676c5a60a1accf64bc4,openstack/openstack-ansible,master,I941a47d0a963d42150c56676c5a60a1accf64bc4,Enable standalone Octavia for testing,MERGED,2019-04-18 20:11:56.000000000,2019-05-08 00:48:23.000000000,2019-05-08 00:48:23.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 26647}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-04-18 20:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/05ce4966b4fda6ba501c43f61fbda79b840dcb35', 'message': 'Enable standalone Octavia for testing\n\nChange-Id: I941a47d0a963d42150c56676c5a60a1accf64bc4\n'}, {'number': 2, 'created': '2019-04-19 14:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9f0300304a77964eca8b1de4f2d98f8638c10dd6', 'message': 'Enable standalone Octavia for testing\n\nneutron-lbass project is deprecated as of the Queens. And will go away\nin T or U release. (https://wiki.openstack.org/wiki/Neutron/LBaaS/Deprecation)\n\nAdding new scenario ""octaviav2"" to test standalone Octavia deployment\nwithout neutron integration.\n\nChange-Id: I941a47d0a963d42150c56676c5a60a1accf64bc4\n'}, {'number': 3, 'created': '2019-04-22 13:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/846d3f56be54494b97a0059232c8fa720435d307', 'message': 'Enable standalone Octavia for testing\n\nneutron-lbass project is deprecated as of the Queens. And will go away\nin T or U release. (https://wiki.openstack.org/wiki/Neutron/LBaaS/Deprecation)\n\nAdding new scenario ""octaviav2"" to test standalone Octavia deployment\nwithout neutron integration.\n\nChange-Id: I941a47d0a963d42150c56676c5a60a1accf64bc4\n'}, {'number': 4, 'created': '2019-04-25 14:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/31c7a12913aeb571cc5187f2fd7320924d2c00a1', 'message': 'Enable standalone Octavia for testing\n\nneutron-lbass project is deprecated as of the Queens. And will go away\nin T or U release. (https://wiki.openstack.org/wiki/Neutron/LBaaS/Deprecation)\n\nAdding new scenario ""octaviav2"" to test standalone Octavia deployment\nwithout neutron integration.\n\nChange-Id: I941a47d0a963d42150c56676c5a60a1accf64bc4\n'}, {'number': 5, 'created': '2019-05-07 14:13:29.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'tests/roles/bootstrap-host/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bf691ea4e57a76aa93550d930efad751152ff136', 'message': 'Enable standalone Octavia for testing\n\nneutron-lbass project is deprecated as of the Queens. And will go away\nin T or U release. (https://wiki.openstack.org/wiki/Neutron/LBaaS/Deprecation)\n\nAdding new scenario ""octaviav2"" to test standalone Octavia deployment\nwithout neutron integration.\n\nChange-Id: I941a47d0a963d42150c56676c5a60a1accf64bc4\n'}]",5,653849,bf691ea4e57a76aa93550d930efad751152ff136,40,7,5,26647,,,0,"Enable standalone Octavia for testing

neutron-lbass project is deprecated as of the Queens. And will go away
in T or U release. (https://wiki.openstack.org/wiki/Neutron/LBaaS/Deprecation)

Adding new scenario ""octaviav2"" to test standalone Octavia deployment
without neutron integration.

Change-Id: I941a47d0a963d42150c56676c5a60a1accf64bc4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/49/653849/4 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,05ce4966b4fda6ba501c43f61fbda79b840dcb35,,# Disable Octavia support in Neutron neutron_lbaas_octavia: False # Disable LBaaS V2 neutron_lbaasv2: False # Enable Octavia V2 API/standalone octavia_v2: True # Disable Octavia V1 API octavia_v1: False,# Octavia specific stuff neutron_lbaas_octavia: True,8,2
openstack%2Fopenstack-ansible~master~I7daa73353560e70949d2e860e9f49296884fd4db,openstack/openstack-ansible,master,I7daa73353560e70949d2e860e9f49296884fd4db,Remove the use of 'private' with include_role during bootstrap,MERGED,2019-04-30 20:21:17.000000000,2019-05-08 00:42:42.000000000,2019-05-08 00:42:42.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-04-30 20:21:17.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_loopback_machines.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_swap.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_manila.yml', 'tests/roles/bootstrap-host/tasks/prepare_data_disk.yml', 'tests/roles/bootstrap-host/tasks/prepare_ceph.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_nova.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_swift.yml', 'tests/roles/bootstrap-host/tasks/prepare_networking.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_btrfs.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_cinder.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d56c3095d0f33c2148ede497644f8c2cc70f350f', 'message': ""Remove the use of 'private' with include_role during bootstrap\n\nThis is deprecated and will be removed in ansible 2.8\n\nChange-Id: I7daa73353560e70949d2e860e9f49296884fd4db\n""}]",0,656582,d56c3095d0f33c2148ede497644f8c2cc70f350f,10,3,1,25023,,,0,"Remove the use of 'private' with include_role during bootstrap

This is deprecated and will be removed in ansible 2.8

Change-Id: I7daa73353560e70949d2e860e9f49296884fd4db
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/82/656582/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/tasks/prepare_loopback_machines.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_swap.yml', 'tests/roles/bootstrap-host/tasks/prepare_data_disk.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_manila.yml', 'tests/roles/bootstrap-host/tasks/prepare_ceph.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_nova.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_swift.yml', 'tests/roles/bootstrap-host/tasks/prepare_networking.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_btrfs.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_cinder.yml']",10,d56c3095d0f33c2148ede497644f8c2cc70f350f,,, private: true,0,12
openstack%2Fopenstack-helm-infra~master~If4166749085522ee0f10fa673d9fa36094091baa,openstack/openstack-helm-infra,master,If4166749085522ee0f10fa673d9fa36094091baa,This adds the ability to specify custom resource dependencies,MERGED,2019-01-30 19:31:58.000000000,2019-05-08 00:41:01.000000000,2019-05-08 00:41:01.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 27715}, {'_account_id': 28701}, {'_account_id': 28869}, {'_account_id': 29441}]","[{'number': 1, 'created': '2019-01-30 19:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/14e565efc3812467a0bdb0ebbdddaf3ffe4f0ed3', 'message': 'This adds the ability to specify custom resource dependencies\n\nChange-Id: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 2, 'created': '2019-01-31 14:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ea08b054f4a3d2a826ddc9b5c8226a0339cf0c31', 'message': 'This adds the ability to specify custom resource dependencies\n\nChange-Id: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 3, 'created': '2019-02-04 16:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/82ccc561c3f9edefe330def36cd7acd4eeda6d78', 'message': 'This adds the ability to specify custom resource dependencies\n\nChange-Id: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 4, 'created': '2019-02-18 15:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3d1e6b7e6182281b483d8d12f9b96d8a56a12c55', 'message': 'This adds the ability to specify custom resource dependencies\n\nChange-Id: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 5, 'created': '2019-03-25 05:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b47025109509bea791d07834e3fd79b8cd24a52e', 'message': 'This adds the ability to specify custom resource dependencies\n\nChange-Id: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 6, 'created': '2019-04-06 04:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c45cde1dbfa71442e5688bda07d5fb77ee9ed51b', 'message': 'This adds the ability to specify custom resource dependencies\n\nChange-Id: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 7, 'created': '2019-04-23 11:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/49dd6b3dacc7a3984567a87ed1bef2a5a5eeadab', 'message': 'This adds the ability to specify custom resource dependencies\n\nChange-Id: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 8, 'created': '2019-04-24 14:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e794dc4fbc1f47fddbbb15821373d539ec0b21e8', 'message': 'This adds the ability to specify custom resource dependencies\n\nChange-Id: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 9, 'created': '2019-05-07 05:30:08.000000000', 'files': ['helm-toolkit/templates/snippets/_kubernetes_entrypoint_init_container.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/22dcebb93d154261f785fa57b09b23b78c9f2e14', 'message': 'This adds the ability to specify custom resource dependencies\n\nChange-Id: If4166749085522ee0f10fa673d9fa36094091baa\n'}]",9,634037,22dcebb93d154261f785fa57b09b23b78c9f2e14,54,9,9,28869,,,0,"This adds the ability to specify custom resource dependencies

Change-Id: If4166749085522ee0f10fa673d9fa36094091baa
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/37/634037/6 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/snippets/_kubernetes_entrypoint_init_container.tpl'],1,14e565efc3812467a0bdb0ebbdddaf3ffe4f0ed3,feat/crd," - name: DEPENDENCY_CUSTOM_RESOURCE value: {{ if $deps.custom_resource }}{{ toJson $deps.custom_resource | quote }}{{ else }}""""{{ end }}",,2,0
openstack%2Fnetworking-odl~master~Ibf79fa3c7077aea023d882dd6bd562261d093d8d,openstack/networking-odl,master,Ibf79fa3c7077aea023d882dd6bd562261d093d8d,stop using common db mixin,MERGED,2019-02-11 15:48:21.000000000,2019-05-08 00:35:29.000000000,2019-05-08 00:35:29.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 17130}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-11 15:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/1468da34b7e0dde3efcd70b5b3157011e463e2eb', 'message': ""stop using common db mixin\n\nAll of the methods of common db mixin are available via neutron-lib\nand the mixin will be removed before long.\nThis patch switches the code over to use neutron-lib's APIs rather\nthan those of the mixin as well as top using the mixin as a parent\nclass.\n\nChange-Id: Ibf79fa3c7077aea023d882dd6bd562261d093d8d\n""}, {'number': 2, 'created': '2019-02-21 14:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7c24f984fc3030e51e5b77334422a6b738505fc4', 'message': ""stop using common db mixin\n\nAll of the methods of common db mixin are available via neutron-lib\nand the mixin will be removed before long.\nThis patch switches the code over to use neutron-lib's APIs rather\nthan those of the mixin as well as top using the mixin as a parent\nclass.\n\nChange-Id: Ibf79fa3c7077aea023d882dd6bd562261d093d8d\n""}, {'number': 3, 'created': '2019-04-01 17:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/1e712ef0f9d1123022dac877cbf237019144f47a', 'message': ""stop using common db mixin\n\nAll of the methods of common db mixin are available via neutron-lib\nand the mixin will be removed before long.\nThis patch switches the code over to use neutron-lib's APIs rather\nthan those of the mixin as well as top using the mixin as a parent\nclass.\n\nChange-Id: Ibf79fa3c7077aea023d882dd6bd562261d093d8d\n""}, {'number': 4, 'created': '2019-05-07 20:27:27.000000000', 'files': ['networking_odl/l3/l3_odl_v2.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b1e38fdc14ad018304b8b1dcfdfc98bb67412062', 'message': ""stop using common db mixin\n\nAll of the methods of common db mixin are available via neutron-lib\nand the mixin will be removed before long.\nThis patch switches the code over to use neutron-lib's APIs rather\nthan those of the mixin as well as top using the mixin as a parent\nclass.\n\nChange-Id: Ibf79fa3c7077aea023d882dd6bd562261d093d8d\n""}]",2,636159,b1e38fdc14ad018304b8b1dcfdfc98bb67412062,36,8,4,5367,,,0,"stop using common db mixin

All of the methods of common db mixin are available via neutron-lib
and the mixin will be removed before long.
This patch switches the code over to use neutron-lib's APIs rather
than those of the mixin as well as top using the mixin as a parent
class.

Change-Id: Ibf79fa3c7077aea023d882dd6bd562261d093d8d
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/59/636159/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/l3/l3_odl_v2.py'],1,1468da34b7e0dde3efcd70b5b3157011e463e2eb,bp/neutronlib-decouple-db,,"from neutron.db import common_db_mixin common_db_mixin.CommonDbMixin,",0,2
openstack%2Fopenstack-ansible-os_cinder~master~I5758456899aa00f1ed9d49ee37f561d0eaf77229,openstack/openstack-ansible-os_cinder,master,I5758456899aa00f1ed9d49ee37f561d0eaf77229,Remove deprecated use of tests as filters,MERGED,2019-05-04 20:30:03.000000000,2019-05-08 00:26:26.000000000,2019-05-08 00:26:26.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-04 20:30:03.000000000', 'files': ['tasks/cinder_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/dae546f097c51d1a3838f3229a410c71ff50da3f', 'message': 'Remove deprecated use of tests as filters\n\nChange-Id: I5758456899aa00f1ed9d49ee37f561d0eaf77229\n'}]",0,657158,dae546f097c51d1a3838f3229a410c71ff50da3f,9,4,1,25023,,,0,"Remove deprecated use of tests as filters

Change-Id: I5758456899aa00f1ed9d49ee37f561d0eaf77229
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/58/657158/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/cinder_db_setup.yml'],1,dae546f097c51d1a3838f3229a410c71ff50da3f,, - not data_migrations is skipped, - not data_migrations | skipped,1,1
openstack%2Fopenstack-ansible-os_trove~master~Ib12f291002914cc2fcd9df34fad54ef23176ee70,openstack/openstack-ansible-os_trove,master,Ib12f291002914cc2fcd9df34fad54ef23176ee70,Replace Module,MERGED,2019-05-02 13:40:26.000000000,2019-05-07 23:48:02.000000000,2019-05-07 23:48:02.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-05-02 13:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/6447fc215d0dc0bf2bdb29a8ced13ee71a9d950b', 'message': 'Replace Module\n\nModified the file to use the os_project module instead\nof the keystone module.\n\nw\n\nChange-Id: Ib12f291002914cc2fcd9df34fad54ef23176ee70\n'}, {'number': 2, 'created': '2019-05-04 10:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/d5cfc3122d6dd0cb9ae401d7f4b6d41b7bcf4bab', 'message': 'Replace Module\n\nModified the file to use the os_project module instead\nof the keystone module.\n\nw\n\nChange-Id: Ib12f291002914cc2fcd9df34fad54ef23176ee70\n'}, {'number': 3, 'created': '2019-05-06 23:39:36.000000000', 'files': ['tasks/trove_service_network.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/2563c39ab0820cb71d5624d6d35147bb77aebd39', 'message': 'Replace Module\n\nModified the file to use the os_project module instead\nof the keystone module.\n\nw\n\nChange-Id: Ib12f291002914cc2fcd9df34fad54ef23176ee70\n'}]",1,656777,2563c39ab0820cb71d5624d6d35147bb77aebd39,13,4,3,30324,,,0,"Replace Module

Modified the file to use the os_project module instead
of the keystone module.

w

Change-Id: Ib12f291002914cc2fcd9df34fad54ef23176ee70
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/77/656777/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/trove_service_network.yml'],1,6447fc215d0dc0bf2bdb29a8ced13ee71a9d950b,," name: admin interface: ""{{ keystone_service_adminurl }}"""," command: get_tenant tenant_name: admin endpoint: ""{{ keystone_service_adminurl }}"" login_user: ""{{ keystone_admin_user_name }}"" login_password: ""{{ keystone_auth_admin_password }}"" login_project_name: ""{{ keystone_admin_tenant_name }}""",2,6
openstack%2Fmonasca-transform~master~Ied7dca1bd9e3d66fc8504884ced8c30571fd28cc,openstack/monasca-transform,master,Ied7dca1bd9e3d66fc8504884ced8c30571fd28cc,Dropping the py35 testing,MERGED,2019-04-15 00:18:39.000000000,2019-05-07 23:47:00.000000000,2019-05-07 23:47:00.000000000,"[{'_account_id': 8556}, {'_account_id': 10311}, {'_account_id': 11580}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-04-15 00:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/fa461d66fcd9acecddaee91b4c18158c3e12dfb7', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ied7dca1bd9e3d66fc8504884ced8c30571fd28cc\n'}, {'number': 2, 'created': '2019-04-15 00:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/ea40beeb9c143c43224e03157239ddff1d5c8a2c', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ied7dca1bd9e3d66fc8504884ced8c30571fd28cc\n'}, {'number': 3, 'created': '2019-04-15 16:30:51.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/d77da2bfda70fd79db44e2111a83ba14b97ed9be', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ied7dca1bd9e3d66fc8504884ced8c30571fd28cc\n'}]",0,652423,d77da2bfda70fd79db44e2111a83ba14b97ed9be,13,5,3,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Ied7dca1bd9e3d66fc8504884ced8c30571fd28cc
",git fetch https://review.opendev.org/openstack/monasca-transform refs/changes/23/652423/3 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,fa461d66fcd9acecddaee91b4c18158c3e12dfb7,dropping-py35-testing,,[testenv:functional-py35] basepython = python3.5 setenv = {[testenv]setenv} SPARK_HOME=/opt/spark/current OS_TEST_PATH=tests/functional commands = stestr run --serial {posargs} ,0,14
openstack%2Fos-ken~master~I005b11b1d1593574140c7d97eab97bf6edd73678,openstack/os-ken,master,I005b11b1d1593574140c7d97eab97bf6edd73678,Do not raise exception if Activity is already stopped,MERGED,2019-04-01 12:54:43.000000000,2019-05-07 23:43:37.000000000,2019-05-07 23:43:37.000000000,"[{'_account_id': 841}, {'_account_id': 4187}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-04-01 12:54:43.000000000', 'files': ['os_ken/services/protocols/bgp/base.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/7cab51acdbe6ae99927279cf1b879519d89de17c', 'message': 'Do not raise exception if Activity is already stopped\n\nIf an Activity derived object is not started, silently return the\nstop() function instead of raising an exception. This behaviour will\nallow next processes to continue.\n\nChange-Id: I005b11b1d1593574140c7d97eab97bf6edd73678\nCloses-Bug: #1820297\n'}]",2,648993,7cab51acdbe6ae99927279cf1b879519d89de17c,12,6,1,16688,,,0,"Do not raise exception if Activity is already stopped

If an Activity derived object is not started, silently return the
stop() function instead of raising an exception. This behaviour will
allow next processes to continue.

Change-Id: I005b11b1d1593574140c7d97eab97bf6edd73678
Closes-Bug: #1820297
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/93/648993/1 && git format-patch -1 --stdout FETCH_HEAD,['os_ken/services/protocols/bgp/base.py'],1,7cab51acdbe6ae99927279cf1b879519d89de17c,bug/1820297," Re-initializes this activity to be able to start again. If the activity is not started (is already stopped), it will silently return. return", Re-initializes this activity to be able to start again. Raise `ActivityException` if activity is not currently started. raise ActivityException(desc='Cannot call stop when activity is ' 'not started or has been stopped already.'),3,4
openstack%2Fos-ken~master~I17f479ef0554e4518b321ab1b789de7d38358a02,openstack/os-ken,master,I17f479ef0554e4518b321ab1b789de7d38358a02,Update master for stable/stein,MERGED,2019-03-18 14:42:11.000000000,2019-05-07 23:36:02.000000000,2019-05-07 23:36:02.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-03-18 14:42:11.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/stein.rst'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/7995cb63c129ca197f6ffdb1302a9944d875f015', 'message': 'Update master for stable/stein\n\nAdd file to the reno documentation build to show release notes for\nstable/stein.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/stein.\n\nChange-Id: I17f479ef0554e4518b321ab1b789de7d38358a02\nSem-Ver: feature\n'}]",0,644027,7995cb63c129ca197f6ffdb1302a9944d875f015,7,3,1,22816,,,0,"Update master for stable/stein

Add file to the reno documentation build to show release notes for
stable/stein.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/stein.

Change-Id: I17f479ef0554e4518b321ab1b789de7d38358a02
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/27/644027/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/stein.rst']",2,7995cb63c129ca197f6ffdb1302a9944d875f015,reno-stein,=================================== Stein Series Release Notes =================================== .. release-notes:: :branch: stable/stein ,,7,0
openstack%2Fos-ken~master~I5fb3cf680aeea00bbca7695301939c14d78d0a7e,openstack/os-ken,master,I5fb3cf680aeea00bbca7695301939c14d78d0a7e,add python 3.7 unit test job,MERGED,2019-03-11 14:12:01.000000000,2019-05-07 23:36:02.000000000,2019-05-07 23:36:02.000000000,"[{'_account_id': 841}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-03-11 14:12:01.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/6e920c8994fb07856bbcbffeaa4a3730a58af34a', 'message': 'add python 3.7 unit test job\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: I5fb3cf680aeea00bbca7695301939c14d78d0a7e\nStory: #2004073\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",0,642463,6e920c8994fb07856bbcbffeaa4a3730a58af34a,8,4,1,7730,,,0,"add python 3.7 unit test job

See ML discussion here [1] for context.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html

Change-Id: I5fb3cf680aeea00bbca7695301939c14d78d0a7e
Story: #2004073
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/63/642463/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,6e920c8994fb07856bbcbffeaa4a3730a58af34a,py37-job,"envlist = py37,py35,py27,pep8","envlist = py35,py27,pep8",2,1
openstack%2Fhorizon~master~I7d380b6e12099f3a7c4380903e9259233a833612,openstack/horizon,master,I7d380b6e12099f3a7c4380903e9259233a833612,Imported Translations from Zanata,MERGED,2019-05-06 09:53:43.000000000,2019-05-07 23:19:29.000000000,2019-05-07 23:19:29.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-05-06 09:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/47b4aa656196d5592acd8560f6adac1483009e6f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7d380b6e12099f3a7c4380903e9259233a833612\n'}, {'number': 2, 'created': '2019-05-07 10:01:44.000000000', 'files': ['openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/fr/LC_MESSAGES/djangojs.po', 'doc/source/locale/id/LC_MESSAGES/doc-configuration.po', 'doc/source/locale/id/LC_MESSAGES/doc-admin.po', 'doc/source/locale/fr/LC_MESSAGES/doc-admin.po', 'openstack_dashboard/locale/id/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/djangojs.po', 'doc/source/locale/id/LC_MESSAGES/doc-install.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/id/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a1d1756ea0f561cfc109928219110dffe9677306', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7d380b6e12099f3a7c4380903e9259233a833612\n'}]",0,657367,a1d1756ea0f561cfc109928219110dffe9677306,10,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7d380b6e12099f3a7c4380903e9259233a833612
",git fetch https://review.opendev.org/openstack/horizon refs/changes/67/657367/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/fr/LC_MESSAGES/djangojs.po', 'doc/source/locale/id/LC_MESSAGES/doc-configuration.po', 'doc/source/locale/id/LC_MESSAGES/doc-admin.po', 'doc/source/locale/fr/LC_MESSAGES/doc-admin.po', 'openstack_dashboard/locale/de/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/id/LC_MESSAGES/django.po', 'doc/source/locale/id/LC_MESSAGES/doc-install.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/id/LC_MESSAGES/djangojs.po']",10,47b4aa656196d5592acd8560f6adac1483009e6f,zanata/translations,"# suhartono <cloudsuhartono@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-05-03 01:14+0000\n""""PO-Revision-Date: 2019-04-30 02:45+0000\n""msgid ""Key Type"" msgstr ""Key Type"" msgid ""SSH Key"" msgstr ""SSH Key"" #, python-format msgid ""Scheduled creation of %s instance."" msgid_plural ""Scheduled creation of %s instances."" msgstr[0] ""Scheduled creation of %s instance."" msgid ""Volume size is required and must be positive integer"" msgstr ""Diperlukan ukuran volume dan harus bilangan integer positif"" msgid ""X509 Certificate"" msgstr ""X509 Certificate"" msgid ""min disk is required and must be an integer not less than 0"" msgstr """" ""min disk diperlukan dan harus berupa bilangan bulat tidak kurang dari 0"" msgid ""min ram is required and must be an integer not less than 0"" msgstr ""min ram diperlukan dan harus bilangan bulat tidak kurang dari 0"" ","""POT-Creation-Date: 2019-02-22 16:05+0000\n""""PO-Revision-Date: 2018-12-19 08:08+0000\n""",1038,29
openstack%2Fcharm-openstack-dashboard~stable%2F19.04~Ia8678063ad332731c5d09dc908f0282a91badb4d,openstack/charm-openstack-dashboard,stable/19.04,Ia8678063ad332731c5d09dc908f0282a91badb4d,Fix incorrect policy rules,MERGED,2019-05-03 15:16:24.000000000,2019-05-07 23:14:39.000000000,2019-05-07 23:14:39.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2019-05-03 15:16:24.000000000', 'files': ['templates/rocky/keystonev3_policy.json'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/eae844180cee62816df406fc06f4b318de7e2aa9', 'message': 'Fix incorrect policy rules\n\nThe template for Rocky+ contains incorrect policy rules.\n\nuser_id and domain_id are not rules and are built-in to oslo.policy.\n\nChange-Id: Ia8678063ad332731c5d09dc908f0282a91badb4d\nCloses-Bug: #1827526\n(cherry picked from commit 2e927f2c42866d113e3b1e25a4cc4aa3efcb88e2)\n'}]",0,656959,eae844180cee62816df406fc06f4b318de7e2aa9,9,4,1,24824,,,0,"Fix incorrect policy rules

The template for Rocky+ contains incorrect policy rules.

user_id and domain_id are not rules and are built-in to oslo.policy.

Change-Id: Ia8678063ad332731c5d09dc908f0282a91badb4d
Closes-Bug: #1827526
(cherry picked from commit 2e927f2c42866d113e3b1e25a4cc4aa3efcb88e2)
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/59/656959/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/rocky/keystonev3_policy.json'],1,eae844180cee62816df406fc06f4b318de7e2aa9,bug/1827526," ""cloud_admin"": ""rule:admin_required and domain_id:{{ admin_domain_id }}"", ""owner"" : ""user_id:%(user_id)s or user_id:%(target.token.user_id)s"", ""admin_or_owner"": ""(rule:admin_required and domain_id:%(target.token.user.domain.id)s) or rule:owner"", ""admin_and_matching_domain_id"": ""rule:admin_required and domain_id:%(domain_id)s"", ""identity:create_trust"": ""user_id:%(trust.trustor_user_id)s"","," ""cloud_admin"": ""rule:admin_required and rule:domain_id:{{ admin_domain_id }}"", ""owner"" : ""rule:user_id:%(user_id)s or rule:user_id:%(target.token.user_id)s"", ""admin_or_owner"": ""(rule:admin_required and rule:domain_id:%(target.token.user.domain.id)s) or rule:owner"", ""admin_and_matching_domain_id"": ""rule:admin_required and rule:domain_id:%(domain_id)s"", ""identity:create_trust"": ""rule:user_id:%(trust.trustor_user_id)s"",",5,5
openstack%2Fpaunch~master~I354edf45c247369876ffd931cb7fe3a4122b9a3e,openstack/paunch,master,I354edf45c247369876ffd931cb7fe3a4122b9a3e,Add 'hostname' and 'extra_hosts' to docker,MERGED,2019-05-07 09:17:47.000000000,2019-05-07 23:09:12.000000000,2019-05-07 23:09:12.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-05-07 09:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/a7e5823fb925473e582ea54fd8748ea60093cebe', 'message': ""Add 'hostname' and 'extra_hosts' to docker\n\nThis change is a porting to docker of [1], so we can run the tripleo ci\nzuul reproducer at [2] with both docker and podman using just paunch.\n\n[1] https://review.opendev.org/#/c/656270/\n[2] https://review.rdoproject.org/r/#/c/20488/\n\nChange-Id: I354edf45c247369876ffd931cb7fe3a4122b9a3e\n""}, {'number': 2, 'created': '2019-05-07 09:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/bedc25d88d599ae67ab69aa7a861e1e52a331caf', 'message': ""Add 'hostname' and 'extra_hosts' to docker\n\nThis change is a porting to docker of [1], so we can run the tripleo ci\nzuul reproducer at [2] with both docker and podman using just paunch.\n\n[1] https://review.opendev.org/#/c/656270/\n[2] https://review.rdoproject.org/r/#/c/20488/\n\nChange-Id: I354edf45c247369876ffd931cb7fe3a4122b9a3e\n""}, {'number': 3, 'created': '2019-05-07 10:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/68e518901a993e0b925aad8dc700fd37f017749b', 'message': ""Add 'hostname' and 'extra_hosts' to docker\n\nThis change is a porting to docker of [1], so we can run the tripleo ci\nzuul reproducer at [2] with both docker and podman using just paunch.\n\n[1] https://review.opendev.org/#/c/656270/\n[2] https://review.rdoproject.org/r/#/c/20488/\n\nChange-Id: I354edf45c247369876ffd931cb7fe3a4122b9a3e\n""}, {'number': 4, 'created': '2019-05-07 10:49:22.000000000', 'files': ['paunch/tests/test_builder_compose1.py', 'releasenotes/notes/add-docker-hostname-and-extra_hosts-args-8a2b2b06f69e1f20.yaml', 'paunch/builder/compose1.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/19788779a55f86b497c60077ec1e0a30dc8e2aeb', 'message': ""Add 'hostname' and 'extra_hosts' to docker\n\nThis change is a porting to docker of [1], so we can run the tripleo ci\nzuul reproducer at [2] with both docker and podman using just paunch.\n\n[1] https://review.opendev.org/#/c/656270/\n[2] https://review.rdoproject.org/r/#/c/20488/\n\nChange-Id: I354edf45c247369876ffd931cb7fe3a4122b9a3e\n""}]",2,657554,19788779a55f86b497c60077ec1e0a30dc8e2aeb,23,16,4,27898,,,0,"Add 'hostname' and 'extra_hosts' to docker

This change is a porting to docker of [1], so we can run the tripleo ci
zuul reproducer at [2] with both docker and podman using just paunch.

[1] https://review.opendev.org/#/c/656270/
[2] https://review.rdoproject.org/r/#/c/20488/

Change-Id: I354edf45c247369876ffd931cb7fe3a4122b9a3e
",git fetch https://review.opendev.org/openstack/paunch refs/changes/54/657554/4 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_builder_compose1.py', 'paunch/builder/compose1.py']",2,a7e5823fb925473e582ea54fd8748ea60093cebe,," self.string_arg(cconfig, cmd, 'hostname', '--hostname') for extra_host in cconfig.get('extra_hosts', []): if extra_host: cmd.append('--add-host=%s' % extra_host)",,14,1
openstack%2Fansible-role-systemd_service~stable%2Frocky~I7fca0af11bf7a0fed18294c97b81ef1dfa074e34,openstack/ansible-role-systemd_service,stable/rocky,I7fca0af11bf7a0fed18294c97b81ef1dfa074e34,Require network-online insetad of network target,MERGED,2019-05-07 22:22:41.000000000,2019-05-07 23:03:13.000000000,2019-05-07 23:03:13.000000000,"[{'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-07 22:22:41.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/487e2179c31d2aed565e58a838491d34b75000b3', 'message': 'Require network-online insetad of network target\n\nDepending on the network-online.target rather than network.target\nwill result in more reliable service startups since network.target\ndoes not indicate that the network stack has fully started, only\nthat networking has been initialized. When starting network-related\nservices like neturon, where a bridge or veth interface may be\nexpected to exist already, relying on network.target can cause broken\nservice startup during system reboots since the interfaces depended\non may not exist yet once network.target is reached.\n\nBy relying on network-online.target instead, units will start more\nreliably during system reboots or network restarts.\n\nThe systemd docs at\nhttps://www.freedesktop.org/wiki/Software/systemd/NetworkTarget/#conceptsinsystemd\nprovide more information about why we should use the network-online\ninstead of the network target.\n\nChange-Id: I7fca0af11bf7a0fed18294c97b81ef1dfa074e34\n'}]",0,657695,487e2179c31d2aed565e58a838491d34b75000b3,6,3,1,7353,,,0,"Require network-online insetad of network target

Depending on the network-online.target rather than network.target
will result in more reliable service startups since network.target
does not indicate that the network stack has fully started, only
that networking has been initialized. When starting network-related
services like neturon, where a bridge or veth interface may be
expected to exist already, relying on network.target can cause broken
service startup during system reboots since the interfaces depended
on may not exist yet once network.target is reached.

By relying on network-online.target instead, units will start more
reliably during system reboots or network restarts.

The systemd docs at
https://www.freedesktop.org/wiki/Software/systemd/NetworkTarget/#conceptsinsystemd
provide more information about why we should use the network-online
instead of the network target.

Change-Id: I7fca0af11bf7a0fed18294c97b81ef1dfa074e34
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/95/657695/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,487e2179c31d2aed565e58a838491d34b75000b3,systemd-network-online-stable/stein-stable/rocky, - network-online.target, - network.target,1,1
openstack%2Fcharm-openstack-dashboard~master~Ia8678063ad332731c5d09dc908f0282a91badb4d,openstack/charm-openstack-dashboard,master,Ia8678063ad332731c5d09dc908f0282a91badb4d,Fix incorrect policy rules,MERGED,2019-05-03 15:15:19.000000000,2019-05-07 22:54:18.000000000,2019-05-07 22:54:18.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2019-05-03 15:15:19.000000000', 'files': ['templates/rocky/keystonev3_policy.json'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/2e927f2c42866d113e3b1e25a4cc4aa3efcb88e2', 'message': 'Fix incorrect policy rules\n\nThe template for Rocky+ contains incorrect policy rules.\n\nuser_id and domain_id are not rules and are built-in to oslo.policy.\n\nChange-Id: Ia8678063ad332731c5d09dc908f0282a91badb4d\nCloses-Bug: #1827526\n'}]",0,656958,2e927f2c42866d113e3b1e25a4cc4aa3efcb88e2,9,4,1,24824,,,0,"Fix incorrect policy rules

The template for Rocky+ contains incorrect policy rules.

user_id and domain_id are not rules and are built-in to oslo.policy.

Change-Id: Ia8678063ad332731c5d09dc908f0282a91badb4d
Closes-Bug: #1827526
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/58/656958/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/rocky/keystonev3_policy.json'],1,2e927f2c42866d113e3b1e25a4cc4aa3efcb88e2,bug/1827526," ""cloud_admin"": ""rule:admin_required and domain_id:{{ admin_domain_id }}"", ""owner"" : ""user_id:%(user_id)s or user_id:%(target.token.user_id)s"", ""admin_or_owner"": ""(rule:admin_required and domain_id:%(target.token.user.domain.id)s) or rule:owner"", ""admin_and_matching_domain_id"": ""rule:admin_required and domain_id:%(domain_id)s"", ""identity:create_trust"": ""user_id:%(trust.trustor_user_id)s"","," ""cloud_admin"": ""rule:admin_required and rule:domain_id:{{ admin_domain_id }}"", ""owner"" : ""rule:user_id:%(user_id)s or rule:user_id:%(target.token.user_id)s"", ""admin_or_owner"": ""(rule:admin_required and rule:domain_id:%(target.token.user.domain.id)s) or rule:owner"", ""admin_and_matching_domain_id"": ""rule:admin_required and rule:domain_id:%(domain_id)s"", ""identity:create_trust"": ""rule:user_id:%(trust.trustor_user_id)s"",",5,5
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fstein~I7770c5417feacfc43a3ad8801125603a55ba9ea8,openstack/openstack-ansible-lxc_hosts,stable/stein,I7770c5417feacfc43a3ad8801125603a55ba9ea8,Temporary fix of failing aria2 on centos,MERGED,2019-05-06 14:11:59.000000000,2019-05-07 22:43:12.000000000,2019-05-07 22:43:12.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-05-06 14:11:59.000000000', 'files': ['tasks/lxc_cache_preparation_systemd_new.yml', 'tasks/lxc_cache_preparation_systemd_old.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/5fb9fe50359e21dcc3a0d0dce7436b9f8e233831', 'message': ""Temporary fix of failing aria2 on centos\n\nAdded get_url as an alternate downloader, when aria2 is failing\ndue to SSL error. Now it happens for CentOS and is reproducable.\nWe probably won't need this patch once aria2 package will be fixed.\n\nChange-Id: I7770c5417feacfc43a3ad8801125603a55ba9ea8\n(cherry picked from commit 43e61820f42d88f36ec0ab4865800cbb4b1076ae)\n""}]",0,657386,5fb9fe50359e21dcc3a0d0dce7436b9f8e233831,6,3,1,17799,,,0,"Temporary fix of failing aria2 on centos

Added get_url as an alternate downloader, when aria2 is failing
due to SSL error. Now it happens for CentOS and is reproducable.
We probably won't need this patch once aria2 package will be fixed.

Change-Id: I7770c5417feacfc43a3ad8801125603a55ba9ea8
(cherry picked from commit 43e61820f42d88f36ec0ab4865800cbb4b1076ae)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/86/657386/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_cache_preparation_systemd_new.yml', 'tasks/lxc_cache_preparation_systemd_old.yml']",2,5fb9fe50359e21dcc3a0d0dce7436b9f8e233831,fix_aria_centos-stable/stein," ignore_errors: true- name: Trying to download image with alternate method get_url: url: ""{{ lxc_hosts_container_image_url }}"" dest: ""/tmp/{{ cache_basename }}"" validate_certs: ""{{ (lxc_hosts_validate_certs | bool) | lower }}"" force: true when: job_result.failed ",,18,0
openstack%2Ftripleo-common~stable%2Frocky~I36a851397a0adeadc3216656c96c58f8668fd7fc,openstack/tripleo-common,stable/rocky,I36a851397a0adeadc3216656c96c58f8668fd7fc,Remove amp_hw_arch from octavia_post,MERGED,2019-04-11 14:37:50.000000000,2019-05-07 22:37:04.000000000,2019-05-07 22:37:04.000000000,"[{'_account_id': 3153}, {'_account_id': 6579}, {'_account_id': 6681}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-11 14:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7154ddff49566f98e2d3329283f35d4b5a648ca1', 'message': ""Remove amp_hw_arch from octavia_post\n\nThis patch is a followup to this[1] change.\n\nThe reasons for removing amp_hw_arch from octavia_post:\n1. In stable/queens, we break since we don't feed ansible with any\nvalue.\n2. We don't support or ship an Amphora image that is non-x86_64.The\npurpose of specifying the arch is (as stated here[1]) to hint the Nova\nscheduler which compute nodes to take into account when it schedules\nan Amphora instance.\n\nCloses-Bug: #1824368\n\n[1] Ia7be6503a40e08d0d1f7f4d89132c9e9b5bd6704\nChange-Id: I36a851397a0adeadc3216656c96c58f8668fd7fc\n""}, {'number': 2, 'created': '2019-04-14 08:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c75d5e031ee9ec925a6c8de1eac5962f436ffbb8', 'message': ""Remove amp_hw_arch from octavia_post\n\nThis patch is a followup to this[1] change.\n\nThe reasons for removing amp_hw_arch from octavia_post:\n1. In stable/queens, we break since we don't feed ansible with any\nvalue.\n2. We don't support or ship an Amphora image that is non-x86_64.The\npurpose of specifying the arch is (as stated here[1]) to hint the Nova\nscheduler which compute nodes to take into account when it schedules\nan Amphora instance.\n\nCloses-Bug: #1824368\n\n[1] Ia7be6503a40e08d0d1f7f4d89132c9e9b5bd6704\nChange-Id: I36a851397a0adeadc3216656c96c58f8668fd7fc\n(cherry picked from commit e2b67d33cf59464bf82e07e247f45c6b96f2bb6c)\n""}, {'number': 3, 'created': '2019-04-22 10:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4555490c566a8459bab01c3da2eb2f65703920ff', 'message': ""Remove amp_hw_arch from octavia_post\n\nThis patch is a followup to this[1] change.\n\nThe reasons for removing amp_hw_arch from octavia_post:\n1. In stable/queens, we break since we don't feed ansible with any\nvalue.\n2. We don't support or ship an Amphora image that is non-x86_64.The\npurpose of specifying the arch is (as stated here[1]) to hint the Nova\nscheduler which compute nodes to take into account when it schedules\nan Amphora instance.\n\nCloses-Bug: #1824368\n\n[1] Ia7be6503a40e08d0d1f7f4d89132c9e9b5bd6704\nChange-Id: I36a851397a0adeadc3216656c96c58f8668fd7fc\n(cherry picked from commit e2b67d33cf59464bf82e07e247f45c6b96f2bb6c)\n""}, {'number': 4, 'created': '2019-04-22 11:22:54.000000000', 'files': ['workbooks/octavia_post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b1676eac87147096e76f4317226336411ffdf819', 'message': ""Remove amp_hw_arch from octavia_post\n\nThis patch is a followup to this[1] change.\n\nThe reasons for removing amp_hw_arch from octavia_post:\n1. In stable/queens, we break since we don't feed ansible with any\nvalue.\n2. We don't support or ship an Amphora image that is non-x86_64.The\npurpose of specifying the arch is (as stated here[1]) to hint the Nova\nscheduler which compute nodes to take into account when it schedules\nan Amphora instance.\n\nCloses-Bug: #1824368\n\n[1] Ia7be6503a40e08d0d1f7f4d89132c9e9b5bd6704\nChange-Id: I36a851397a0adeadc3216656c96c58f8668fd7fc\n(cherry picked from commit e2b67d33cf59464bf82e07e247f45c6b96f2bb6c)\n""}]",0,651799,b1676eac87147096e76f4317226336411ffdf819,26,7,4,6579,,,0,"Remove amp_hw_arch from octavia_post

This patch is a followup to this[1] change.

The reasons for removing amp_hw_arch from octavia_post:
1. In stable/queens, we break since we don't feed ansible with any
value.
2. We don't support or ship an Amphora image that is non-x86_64.The
purpose of specifying the arch is (as stated here[1]) to hint the Nova
scheduler which compute nodes to take into account when it schedules
an Amphora instance.

Closes-Bug: #1824368

[1] Ia7be6503a40e08d0d1f7f4d89132c9e9b5bd6704
Change-Id: I36a851397a0adeadc3216656c96c58f8668fd7fc
(cherry picked from commit e2b67d33cf59464bf82e07e247f45c6b96f2bb6c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/99/651799/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/octavia_post.yaml'],1,7154ddff49566f98e2d3329283f35d4b5a648ca1,bug/1824368,, - amp_hw_arch amp_hw_arch: <% $.amp_hw_arch %>,0,2
openstack%2Fansible-role-systemd_mount~master~I716f4bf1180115452d60b3507dd0c06ff570a48b,openstack/ansible-role-systemd_mount,master,I716f4bf1180115452d60b3507dd0c06ff570a48b,Update home-page,MERGED,2019-01-12 10:08:34.000000000,2019-05-07 22:35:10.000000000,2019-05-07 22:35:10.000000000,"[{'_account_id': 7353}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-12 10:08:34.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/3e134f4c470ebeddc2983bf7df4306818cfdafd6', 'message': 'Update home-page\n\nChange-Id: I716f4bf1180115452d60b3507dd0c06ff570a48b\n'}]",0,630445,3e134f4c470ebeddc2983bf7df4306818cfdafd6,9,5,1,26297,,,0,"Update home-page

Change-Id: I716f4bf1180115452d60b3507dd0c06ff570a48b
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/45/630445/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3e134f4c470ebeddc2983bf7df4306818cfdafd6,,home-page = https://docs.openstack.org/ansible-role-systemd_mount/latest/,home-page = http://docs.openstack.org/developer/ansible-systemd_mount/,1,1
openstack%2Fansible-role-systemd_mount~master~Ifc152942fdea3d81b5bc98e5d68904b380e6f784,openstack/ansible-role-systemd_mount,master,Ifc152942fdea3d81b5bc98e5d68904b380e6f784,Update to opendev,MERGED,2019-04-23 05:02:33.000000000,2019-05-07 22:35:09.000000000,2019-05-07 22:35:09.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-04-23 05:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/3c86763b8ec1bdeaf3427d4153b73cca3e9ac04a', 'message': 'Update to opendev\n\nChange-Id: Ifc152942fdea3d81b5bc98e5d68904b380e6f784\n'}, {'number': 2, 'created': '2019-04-24 01:10:23.000000000', 'files': ['ansible-role-requirements.yaml', 'doc/source/conf.py', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/272f4b274e0348e989261ba5eb02a8d2de448dab', 'message': 'Update to opendev\n\nChange-Id: Ifc152942fdea3d81b5bc98e5d68904b380e6f784\n'}]",0,654700,272f4b274e0348e989261ba5eb02a8d2de448dab,11,3,2,26584,,,0,"Update to opendev

Change-Id: Ifc152942fdea3d81b5bc98e5d68904b380e6f784
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/00/654700/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'bindep.txt', 'ansible-role-requirements.yaml', 'Vagrantfile', 'doc/source/conf.py', 'tox.ini', 'releasenotes/source/conf.py']",7,3c86763b8ec1bdeaf3427d4153b73cca3e9ac04a,," ""https://opendev.org/openstack/{}"".format(target_name)"," ""https://git.openstack.org/cgit/openstack/{}"".format(target_name)",11,11
openstack%2Fansible-role-systemd_service~master~I7fca0af11bf7a0fed18294c97b81ef1dfa074e34,openstack/ansible-role-systemd_service,master,I7fca0af11bf7a0fed18294c97b81ef1dfa074e34,Require network-online insetad of network target,MERGED,2019-05-03 16:19:37.000000000,2019-05-07 22:34:58.000000000,2019-05-07 22:34:58.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 16:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/3a677a060b0c83e2ea53b2df432b9359e0acc9d3', 'message': 'Require network-online insetad of network target\n\nDepending on the network-online.target rather than network.target\nwill result in more reliable service startups since network.target\ndoes not indicate that the network stack has fully started, only\nthat networking has been initialized. When starting network-related\nservices like neturon, where a bridge or veth interface may be\nexpected to exist already, relying on network.target can cause broken\nservice startup during system reboots since the interfaces depended\non may not exist yet once network.target is reached.\n\nBy relying on network-online.target instead, units will start more\nreliably during system reboots or network restarts.\n\nChange-Id: I7fca0af11bf7a0fed18294c97b81ef1dfa074e34\n'}, {'number': 2, 'created': '2019-05-03 16:20:49.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/9fd965fc1b5633b26cc22f68905bf854ff7f71db', 'message': 'Require network-online insetad of network target\n\nDepending on the network-online.target rather than network.target\nwill result in more reliable service startups since network.target\ndoes not indicate that the network stack has fully started, only\nthat networking has been initialized. When starting network-related\nservices like neturon, where a bridge or veth interface may be\nexpected to exist already, relying on network.target can cause broken\nservice startup during system reboots since the interfaces depended\non may not exist yet once network.target is reached.\n\nBy relying on network-online.target instead, units will start more\nreliably during system reboots or network restarts.\n\nThe systemd docs at\nhttps://www.freedesktop.org/wiki/Software/systemd/NetworkTarget/#conceptsinsystemd\nprovide more information about why we should use the network-online\ninstead of the network target.\n\nChange-Id: I7fca0af11bf7a0fed18294c97b81ef1dfa074e34\n'}]",0,656978,9fd965fc1b5633b26cc22f68905bf854ff7f71db,8,2,2,17799,,,0,"Require network-online insetad of network target

Depending on the network-online.target rather than network.target
will result in more reliable service startups since network.target
does not indicate that the network stack has fully started, only
that networking has been initialized. When starting network-related
services like neturon, where a bridge or veth interface may be
expected to exist already, relying on network.target can cause broken
service startup during system reboots since the interfaces depended
on may not exist yet once network.target is reached.

By relying on network-online.target instead, units will start more
reliably during system reboots or network restarts.

The systemd docs at
https://www.freedesktop.org/wiki/Software/systemd/NetworkTarget/#conceptsinsystemd
provide more information about why we should use the network-online
instead of the network target.

Change-Id: I7fca0af11bf7a0fed18294c97b81ef1dfa074e34
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/78/656978/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,3a677a060b0c83e2ea53b2df432b9359e0acc9d3,systemd-network-online, - network-online.target, - network.target,1,1
openstack%2Fansible-role-systemd_networkd~master~I4d9a87582fac75077b91c76c74ab9f18d7c9de13,openstack/ansible-role-systemd_networkd,master,I4d9a87582fac75077b91c76c74ab9f18d7c9de13,Update hacking version to latest,ABANDONED,2019-01-04 16:22:12.000000000,2019-05-07 22:28:53.000000000,,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2019-01-04 16:22:12.000000000', 'files': ['tests/ansible-role-requirements.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/d82c1e0761556ed6406e45ee242fa0c9666c31bf', 'message': 'Update hacking version to latest\n\nChange-Id: I4d9a87582fac75077b91c76c74ab9f18d7c9de13\n'}]",0,628549,d82c1e0761556ed6406e45ee242fa0c9666c31bf,7,3,1,28614,,,0,"Update hacking version to latest

Change-Id: I4d9a87582fac75077b91c76c74ab9f18d7c9de13
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/49/628549/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yaml'],1,d82c1e0761556ed6406e45ee242fa0c9666c31bf,,"- name: ""plugins"" src: ""https://git.openstack.org/openstack/openstack-ansible-plugins"" scm: git version: ""master"" ",,4,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I3d7b43db67434c8a7331c712f04b61cff14b993e,openstack/tripleo-heat-templates,stable/rocky,I3d7b43db67434c8a7331c712f04b61cff14b993e,Change setype for non container /var/log/nova-placement,MERGED,2019-05-03 14:57:07.000000000,2019-05-07 22:05:39.000000000,2019-05-07 22:05:38.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-03 14:57:07.000000000', 'files': ['docker/services/logging/files/nova-placement.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93c81bb62344e5c923734c245ecb8daaf64d0cd5', 'message': 'Change setype for non container /var/log/nova-placement\n\nI870f6f5286ac9222d6d8fbdcb48fe6b6559993ba changes the setype to\nvar_log_t for the other services. Since nova-placement was\nremoved in train the backport does not change it.\n\nThis is a stein and lower fix to change it also for nova-placment.\n\n/var/log/<service> is not used by containers, therefore setype\nsvirt_sandbox_file_t is not required. This changes it to the\ndefault var_log_t.\n\nChange-Id: I3d7b43db67434c8a7331c712f04b61cff14b993e\n(cherry picked from commit 4e36f4918399d4910548b77f1721903239e4baca)\n'}]",0,656954,93c81bb62344e5c923734c245ecb8daaf64d0cd5,18,6,1,17216,,,0,"Change setype for non container /var/log/nova-placement

I870f6f5286ac9222d6d8fbdcb48fe6b6559993ba changes the setype to
var_log_t for the other services. Since nova-placement was
removed in train the backport does not change it.

This is a stein and lower fix to change it also for nova-placment.

/var/log/<service> is not used by containers, therefore setype
svirt_sandbox_file_t is not required. This changes it to the
default var_log_t.

Change-Id: I3d7b43db67434c8a7331c712f04b61cff14b993e
(cherry picked from commit 4e36f4918399d4910548b77f1721903239e4baca)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/656954/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/logging/files/nova-placement.yaml'],1,93c81bb62344e5c923734c245ecb8daaf64d0cd5,logging_setype_nova-placement-rocky," - { 'path': /var/log/nova, 'setype': var_log_t }"," - { 'path': /var/log/nova, 'setype': svirt_sandbox_file_t }",1,1
openstack%2Fswift~master~Ica10e3ac42375c2dc141478e647408df90028ae9,openstack/swift,master,Ica10e3ac42375c2dc141478e647408df90028ae9,Require logger passed to broker in unit tests for account-reaper,MERGED,2019-05-03 08:50:55.000000000,2019-05-07 21:55:49.000000000,2019-05-07 21:55:49.000000000,"[{'_account_id': 9816}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 08:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e4c97ed92f5e1b2c4ee70ec33461acd9ba0fc490', 'message': 'WIP: Require logger passed to broker in unit tests\n\nChange-Id: Ica10e3ac42375c2dc141478e647408df90028ae9\n'}, {'number': 2, 'created': '2019-05-03 09:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5d3a4b83d088f291acee4fb97216f96274a8a6a2', 'message': 'Require logger passed to broker in unit tests\n\nThis patch removes default value for logger passed to\nfaked BrokerClass in some unit tests, to make sure that\na logger instance is properly passed when generation\nBrokerClass instance.\n\nNOTE: This patch is a follow-up of my previous commit[1]\n\n[1] https://review.opendev.org/#/c/295875/\n\nChange-Id: Ica10e3ac42375c2dc141478e647408df90028ae9\n'}, {'number': 3, 'created': '2019-05-03 09:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b178f32d36cb96833af5a912d4475d513bf3d73a', 'message': 'Require logger passed to broker in unit tests\n\nThis patch removes default value for logger passed to\nfaked BrokerClass in some unit tests, to make sure that\na logger instance is properly passed when generation\nBrokerClass instance.\n\nNOTE: This patch is a follow-up of my previous commit[1]\n\n[1] https://review.opendev.org/#/c/295875/\n\nChange-Id: Ica10e3ac42375c2dc141478e647408df90028ae9\n'}, {'number': 4, 'created': '2019-05-03 15:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6c3f2c84f3818339d760e0875e7a29f64b434a56', 'message': 'Require logger passed to broker in unit tests for account-reaper\n\nThis patch removes default value for logger passed to\nfaked BrokerClass in some unit tests for account reaper,\nto make sure that a logger instance is properly passed\nwhen generation BrokerClass instance.\n\nNOTE: This patch is a follow-up of my previous commit[1]\n\n[1] https://review.opendev.org/#/c/295875/\n\nChange-Id: Ica10e3ac42375c2dc141478e647408df90028ae9\n'}, {'number': 5, 'created': '2019-05-03 15:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2cda89b3bef0f2cb24d53501a71436b050f88e17', 'message': 'Require logger passed to broker in unit tests for account-reaper\n\nThis patch removes default value for logger passed to\nfaked BrokerClass in some unit tests for account reaper,\nto make sure that a logger instance is properly passed\nwhen generation BrokerClass instance.\n\nThis patch also removes unnecessory parameter, which is\nadded to confirm logger passed to broker, but is not\nuseful in fact.\n\nNOTE: This patch is a follow-up of my previous commit[1]\n\n[1] https://review.opendev.org/#/c/295875/\n\nChange-Id: Ica10e3ac42375c2dc141478e647408df90028ae9\n'}, {'number': 6, 'created': '2019-05-03 16:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9542857944e970ad4cdfca951df03482b5114cb2', 'message': 'Require logger passed to broker in unit tests for account-reaper\n\nThis patch removes default value for logger passed to\nfaked BrokerClass in some unit tests for account reaper,\nto make sure that a logger instance is properly passed\nwhen generation BrokerClass instance.\n\nThis patch also removes unnecessory parameter, which is\nadded to confirm logger passed to broker, but is not\nuseful in fact.\n\nNOTE: This patch is a follow-up of my previous commit[1]\n\n[1] https://review.opendev.org/#/c/295875/\n\nChange-Id: Ica10e3ac42375c2dc141478e647408df90028ae9\n'}, {'number': 7, 'created': '2019-05-07 00:16:13.000000000', 'files': ['test/unit/account/test_reaper.py', 'test/unit/container/test_sync.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/211cf3983c79edc0e4305b743b41feddaa461cfa', 'message': 'Require logger passed to broker in unit tests for account-reaper\n\nThis patch removes default value for logger passed to\nfaked BrokerClass in some unit tests for account reaper,\nto make sure that a logger instance is properly passed\nwhen generation BrokerClass instance.\n\nThis patch also removes unnecessory parameter, which is\nadded to confirm logger passed to broker, but is not\nuseful in fact.\n\nNOTE: This patch is a follow-up of my previous commit[1]\n\n[1] https://review.opendev.org/#/c/295875/\n\nChange-Id: Ica10e3ac42375c2dc141478e647408df90028ae9\n'}]",1,656931,211cf3983c79edc0e4305b743b41feddaa461cfa,21,3,7,9816,,,0,"Require logger passed to broker in unit tests for account-reaper

This patch removes default value for logger passed to
faked BrokerClass in some unit tests for account reaper,
to make sure that a logger instance is properly passed
when generation BrokerClass instance.

This patch also removes unnecessory parameter, which is
added to confirm logger passed to broker, but is not
useful in fact.

NOTE: This patch is a follow-up of my previous commit[1]

[1] https://review.opendev.org/#/c/295875/

Change-Id: Ica10e3ac42375c2dc141478e647408df90028ae9
",git fetch https://review.opendev.org/openstack/swift refs/changes/31/656931/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/account/test_reaper.py', 'test/unit/container/test_sync.py']",2,e4c97ed92f5e1b2c4ee70ec33461acd9ba0fc490,pass-logger-ut," items_since=None, logger):"," items_since=None, logger=None):",2,2
openstack%2Fopenstack-helm-infra~master~Id4a0e5232efe906482d413ebd8b18ad75abbab39,openstack/openstack-helm-infra,master,Id4a0e5232efe906482d413ebd8b18ad75abbab39,"Revert ""Ceph: Make /etc/ceph and /run emptydirs uniformly across all pods""",ABANDONED,2019-05-02 23:44:51.000000000,2019-05-07 21:47:38.000000000,,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29132}, {'_account_id': 29161}]","[{'number': 1, 'created': '2019-05-02 23:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/463049b8e65991ad7b82575028390ea917e01a60', 'message': 'Revert ""Ceph: Make /etc/ceph and /run emptydirs uniformly across all pods""\n\nReverting this PS, to check if BF scenario is successful  \n\nThis reverts commit dece00833750d5bd67839d6a3477fba678cdf0a2.\n\nChange-Id: Id4a0e5232efe906482d413ebd8b18ad75abbab39\n'}, {'number': 2, 'created': '2019-05-03 17:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2c93fb8e062e113f794ac7bf204f5f8346e3aef9', 'message': 'Revert ""Ceph: Make /etc/ceph and /run emptydirs uniformly across all pods""\n\nReverting this PS, Since Ceph-Mon is failing in BrownField Scenarios\n\nRevert PS: https://review.opendev.org/#/c/654252/\n\nThis reverts commit dece00833750d5bd67839d6a3477fba678cdf0a2.\n\nChange-Id: Id4a0e5232efe906482d413ebd8b18ad75abbab39\n'}, {'number': 3, 'created': '2019-05-03 20:07:23.000000000', 'files': ['ceph-provisioners/templates/job-bootstrap.yaml', 'ceph-osd/templates/cronjob-defragosds.yaml', 'ceph-mon/templates/job-bootstrap.yaml', 'ceph-rgw/templates/job-s3-admin.yaml', 'ceph-provisioners/templates/deployment-rbd-provisioner.yaml', 'ceph-rgw/templates/pod-helm-tests.yaml', 'ceph-client/templates/cronjob-checkPGs.yaml', 'ceph-osd/templates/daemonset-osd.yaml', 'ceph-provisioners/templates/job-cephfs-client-key.yaml', 'ceph-provisioners/templates/job-namespace-client-key-cleaner.yaml', 'ceph-client/templates/deployment-mds.yaml', 'ceph-client/templates/job-bootstrap.yaml', 'ceph-mon/templates/daemonset-mon.yaml', 'ceph-provisioners/templates/deployment-cephfs-provisioner.yaml', 'ceph-mon/templates/job-keyring.yaml', 'ceph-rgw/templates/job-rgw-storage-init.yaml', 'ceph-mon/templates/deployment-moncheck.yaml', 'ceph-mon/templates/job-storage-admin-keys.yaml', 'ceph-provisioners/templates/job-namespace-client-key.yaml', 'ceph-rgw/templates/deployment-rgw.yaml', 'ceph-client/templates/deployment-mgr.yaml', 'ceph-osd/templates/pod-helm-tests.yaml', 'ceph-osd/templates/job-bootstrap.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/866645c3a222a3b5d2937cb6a889f6e3ffcb9cdb', 'message': 'Revert ""Ceph: Make /etc/ceph and /run emptydirs uniformly across all pods""\n\nReverting this PS, Since Ceph-Mon is failing in BrownField Scenarios\n\nRevert PS: https://review.opendev.org/#/c/654252/\n\nThis reverts commit dece00833750d5bd67839d6a3477fba678cdf0a2.\n\nChange-Id: Id4a0e5232efe906482d413ebd8b18ad75abbab39\n'}]",0,656904,866645c3a222a3b5d2937cb6a889f6e3ffcb9cdb,9,7,3,29132,,,0,"Revert ""Ceph: Make /etc/ceph and /run emptydirs uniformly across all pods""

Reverting this PS, Since Ceph-Mon is failing in BrownField Scenarios

Revert PS: https://review.opendev.org/#/c/654252/

This reverts commit dece00833750d5bd67839d6a3477fba678cdf0a2.

Change-Id: Id4a0e5232efe906482d413ebd8b18ad75abbab39
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/04/656904/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-provisioners/templates/job-bootstrap.yaml', 'ceph-osd/templates/cronjob-defragosds.yaml', 'ceph-mon/templates/job-bootstrap.yaml', 'ceph-rgw/templates/job-s3-admin.yaml', 'ceph-provisioners/templates/deployment-rbd-provisioner.yaml', 'ceph-rgw/templates/pod-helm-tests.yaml', 'ceph-client/templates/cronjob-checkPGs.yaml', 'ceph-osd/templates/daemonset-osd.yaml', 'ceph-provisioners/templates/job-cephfs-client-key.yaml', 'ceph-provisioners/templates/job-namespace-client-key-cleaner.yaml', 'ceph-client/templates/deployment-mds.yaml', 'ceph-client/templates/job-bootstrap.yaml', 'ceph-mon/templates/daemonset-mon.yaml', 'ceph-provisioners/templates/deployment-cephfs-provisioner.yaml', 'ceph-mon/templates/job-keyring.yaml', 'ceph-rgw/templates/job-rgw-storage-init.yaml', 'ceph-mon/templates/deployment-moncheck.yaml', 'ceph-mon/templates/job-storage-admin-keys.yaml', 'ceph-provisioners/templates/job-namespace-client-key.yaml', 'ceph-rgw/templates/deployment-rgw.yaml', 'ceph-client/templates/deployment-mgr.yaml', 'ceph-osd/templates/pod-helm-tests.yaml', 'ceph-osd/templates/job-bootstrap.yaml']",23,463049b8e65991ad7b82575028390ea917e01a60,ceph-etc,, - name: pod-etc-ceph mountPath: /etc/ceph - name: pod-etc-ceph emptyDir: {},70,160
openstack%2Foctavia~master~Idae8cfc6f5f2884631cf1070b0c931781b17b3a9,openstack/octavia,master,Idae8cfc6f5f2884631cf1070b0c931781b17b3a9,Handle non-graceful shutdown,ABANDONED,2019-04-18 22:28:06.000000000,2019-05-07 21:23:47.000000000,,"[{'_account_id': 6579}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-18 22:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/95b3edbc6a405991656cff6ff5b6ac5e41f7b32e', 'message': 'Handle non-graceful shutdown\n\nThis patch provides an interim (until we have flow resumption) fix\nto objects getting stuck in PENDING_* states when the processes are\nnot gracefully shutdown (power loss, kill -9, etc.).\n\nChange-Id: Idae8cfc6f5f2884631cf1070b0c931781b17b3a9\n'}, {'number': 2, 'created': '2019-04-22 22:57:16.000000000', 'files': ['octavia/cmd/health_manager.py', 'octavia/common/utils.py', 'octavia/db/migration/alembic_migrations/versions/9644f017e7f5_add_instance_owner_table.py', 'octavia/tests/unit/cmd/test_octavia_worker.py', 'octavia/db/models.py', 'octavia/cmd/octavia_worker.py', 'octavia/tests/unit/cmd/test_house_keeping.py', 'octavia/tests/unit/common/test_utils.py', 'octavia/cmd/house_keeping.py', 'octavia/tests/functional/db/test_repositories.py', 'octavia/common/constants.py', 'octavia/db/repositories.py', 'octavia/common/decorators.py', 'octavia/controller/worker/controller_worker.py', 'octavia/tests/unit/cmd/test_health_manager.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c317a957133e15c0f858bfa85ee4a3540c850af3', 'message': 'Handle non-graceful shutdown\n\nThis patch provides an interim (until we have flow resumption) fix\nto objects getting stuck in PENDING_* states when the processes are\nnot gracefully shutdown (power loss, kill -9, etc.).\n\nChange-Id: Idae8cfc6f5f2884631cf1070b0c931781b17b3a9\n'}]",1,653872,c317a957133e15c0f858bfa85ee4a3540c850af3,10,4,2,11628,,,0,"Handle non-graceful shutdown

This patch provides an interim (until we have flow resumption) fix
to objects getting stuck in PENDING_* states when the processes are
not gracefully shutdown (power loss, kill -9, etc.).

Change-Id: Idae8cfc6f5f2884631cf1070b0c931781b17b3a9
",git fetch https://review.opendev.org/openstack/octavia refs/changes/72/653872/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/cmd/health_manager.py', 'octavia/common/utils.py', 'octavia/db/migration/alembic_migrations/versions/9644f017e7f5_add_instance_owner_table.py', 'octavia/db/models.py', 'octavia/cmd/octavia_worker.py', 'octavia/tests/unit/cmd/test_house_keeping.py', 'octavia/cmd/house_keeping.py', 'octavia/tests/functional/db/test_repositories.py', 'octavia/common/constants.py', 'octavia/db/repositories.py', 'octavia/common/decorators.py', 'octavia/controller/worker/controller_worker.py', 'octavia/tests/unit/cmd/test_health_manager.py']",13,95b3edbc6a405991656cff6ff5b6ac5e41f7b32e,," @mock.patch('octavia.db.api.get_session') def test_main(self, mock_service, mock_process, mock_session): @mock.patch('octavia.db.api.get_session') mock_kill, mock_session):"," def test_main(self, mock_service, mock_process): mock_kill):",290,11
openstack%2Fcharm-openstack-dashboard~stable%2F19.04~I14e7ff1ec548de4ec98ee41fc27c8948b56fafec,openstack/charm-openstack-dashboard,stable/19.04,I14e7ff1ec548de4ec98ee41fc27c8948b56fafec,Fix websso path formatting,MERGED,2019-05-07 18:57:41.000000000,2019-05-07 20:43:04.000000000,2019-05-07 20:43:04.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2019-05-07 18:57:41.000000000', 'files': ['hooks/horizon_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/9ca74deceaac535334ec4cacd073feebbaa1d1aa', 'message': ""Fix websso path formatting\n\nIf webroot is '/' the resulting path becomes '//' after joining which\nleads to 'path: //auth/websso/' passed in relation data.\n\nAs a result authentication attempts fail with:\n\n'ERROR https://dashboard.maas/auth/websso/ is not a trusted dashboard\nhost'\n\nChange-Id: I14e7ff1ec548de4ec98ee41fc27c8948b56fafec\nCloses-Bug: #1815205\nCloses-Bug: #1828021\n(cherry picked from commit d28f593d6688b01ab48068b6f4868ef03ef9108d)\n""}]",0,657668,9ca74deceaac535334ec4cacd073feebbaa1d1aa,7,3,1,20805,,,0,"Fix websso path formatting

If webroot is '/' the resulting path becomes '//' after joining which
leads to 'path: //auth/websso/' passed in relation data.

As a result authentication attempts fail with:

'ERROR https://dashboard.maas/auth/websso/ is not a trusted dashboard
host'

Change-Id: I14e7ff1ec548de4ec98ee41fc27c8948b56fafec
Closes-Bug: #1815205
Closes-Bug: #1828021
(cherry picked from commit d28f593d6688b01ab48068b6f4868ef03ef9108d)
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/68/657668/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/horizon_hooks.py'],1,9ca74deceaac535334ec4cacd073feebbaa1d1aa,bug/1815205-stable/19.04,"import urllib # urljoin needs a base url to be '/'-terminated contrary to the joined path webroot = config('webroot') if not webroot.endswith('/'): webroot += '/' path = urllib.parse.urljoin(webroot, ""auth/websso/"")"," path = ""{}/auth/websso/"".format(config('webroot'))",8,2
openstack%2Felection~master~I2568502d25587012b98f0533dbdafa43b81635e9,openstack/election,master,I2568502d25587012b98f0533dbdafa43b81635e9,Add link to PTL responsibilities,MERGED,2019-05-04 19:24:14.000000000,2019-05-07 20:40:57.000000000,2019-05-07 20:40:57.000000000,"[{'_account_id': 6088}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-04 19:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/c6f96ecf2a25247bc21b063eedb67aa6f3121850', 'message': 'Add link to PTL responsibilities\n\nMany PTLs, including multitime PTLs, are not aware that we have\ndocumented the responsibilities of that role. Add a link to the docs\nunder the PTL details.\n\nChange-Id: I2568502d25587012b98f0533dbdafa43b81635e9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-05-04 19:31:36.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/election/commit/8ff53a7d79e6e39f3f8bd3540aec65335f3199a4', 'message': 'Add link to PTL responsibilities\n\nMany PTLs, including multitime PTLs, are not aware that we have\ndocumented the responsibilities of that role. Add a link to the docs\nunder the PTL details.\n\nChange-Id: I2568502d25587012b98f0533dbdafa43b81635e9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,657152,8ff53a7d79e6e39f3f8bd3540aec65335f3199a4,11,3,2,11904,,,0,"Add link to PTL responsibilities

Many PTLs, including multitime PTLs, are not aware that we have
documented the responsibilities of that role. Add a link to the docs
under the PTL details.

Change-Id: I2568502d25587012b98f0533dbdafa43b81635e9
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/election refs/changes/52/657152/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,c6f96ecf2a25247bc21b063eedb67aa6f3121850,ptlwhat,Every `official project team`__ must elect a `PTL<https://docs.openstack.org/project-team-guide/ptl.html>`_. PTLs are elected for 6 months.,Every `official project team`__ must elect a PTL. PTLs are elected for 6 months.,3,1
openstack%2Fcharm-glance~master~I15d802d34de4a4b9319fd83a7063523df19cbe03,openstack/charm-glance,master,I15d802d34de4a4b9319fd83a7063523df19cbe03,Rework keystone_authsection generation for Queens+,MERGED,2019-05-03 15:13:06.000000000,2019-05-07 20:39:12.000000000,2019-05-07 20:25:21.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30110}]","[{'number': 1, 'created': '2019-05-03 15:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/691f6220add0c82fbc8b5d100481a3833b14620d', 'message': ""Generate keystone_authsection section configuration option names\nand values in Python code, and just iterate over it from Jinja\ntemplate. The idea is to have more flexibility in case of complex\nbranching logic (e.g. per OpenStack version).\n\nThis change helps to support keystonemiddleware configuration\noption deprecation (i.e. renaming) and it might simplify\ntemplate's code with complex conditional logic.\n\nChange-Id: I15d802d34de4a4b9319fd83a7063523df19cbe03\nRelated-to: https://bugs.launchpad.net/charm-glance/+bug/1786186\n""}, {'number': 2, 'created': '2019-05-07 16:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/74ccead309f0da7f5451d103b1279c3c89152448', 'message': ""Generate keystone_authsection section configuration option names\nand values in Python code, and just iterate over it from Jinja\ntemplate. The idea is to have more flexibility in case of complex\nbranching logic (e.g. per OpenStack version).\n\nThis change helps to support keystonemiddleware configuration\noption deprecation (i.e. renaming) and it might simplify\ntemplate's code with complex conditional logic.\n\nChange-Id: I15d802d34de4a4b9319fd83a7063523df19cbe03\nRelated-to: https://bugs.launchpad.net/charm-glance/+bug/1786186\n""}, {'number': 3, 'created': '2019-05-07 16:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/928351278209d1b67bd301d0d08ec55cf46964af', 'message': 'Rework keystone_authsection generation for Queens+\n\nGenerate keystone_authsection section configuration option names\nand values in Python code, and just iterate over it from Jinja\ntemplate. The idea is to have more flexibility in case of complex\nbranching logic (e.g. per OpenStack version), or to support option\ndeprecation.\n\nChange-Id: I15d802d34de4a4b9319fd83a7063523df19cbe03\nRelated-to: https://bugs.launchpad.net/charm-glance/+bug/1786186\n'}, {'number': 4, 'created': '2019-05-07 17:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/e778479774c9f99943485419a2580e161450c46f', 'message': 'Rework keystone_authsection generation for Queens+\n\nGenerate keystone_authsection section configuration option names\nand values in Python code, and just iterate over it from Jinja\ntemplate. The idea is to have more flexibility in case of complex\nbranching logic (e.g. per OpenStack version), or to support option\ndeprecation.\n\nChange-Id: I15d802d34de4a4b9319fd83a7063523df19cbe03\nRelated-to: https://bugs.launchpad.net/charm-glance/+bug/1786186\n'}, {'number': 5, 'created': '2019-05-07 17:39:47.000000000', 'files': ['templates/queens/glance-registry.conf', 'templates/queens/glance-api.conf', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-v3only'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/83b304ba18b511e10242b8182bed53aed51fe71a', 'message': 'Rework keystone_authsection generation for Queens+\n\nGenerate keystone_authsection section configuration option names\nand values in Python code, and just iterate over it from Jinja\ntemplate. The idea is to have more flexibility in case of complex\nbranching logic (e.g. per OpenStack version), or to support option\ndeprecation.\n\nChange-Id: I15d802d34de4a4b9319fd83a7063523df19cbe03\nRelated-to: https://bugs.launchpad.net/charm-glance/+bug/1786186\n'}]",0,656956,83b304ba18b511e10242b8182bed53aed51fe71a,22,4,5,30110,,,0,"Rework keystone_authsection generation for Queens+

Generate keystone_authsection section configuration option names
and values in Python code, and just iterate over it from Jinja
template. The idea is to have more flexibility in case of complex
branching logic (e.g. per OpenStack version), or to support option
deprecation.

Change-Id: I15d802d34de4a4b9319fd83a7063523df19cbe03
Related-to: https://bugs.launchpad.net/charm-glance/+bug/1786186
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/56/656956/3 && git format-patch -1 --stdout FETCH_HEAD,"['templates/queens/glance-registry.conf', 'templates/queens/glance-api.conf', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-v3only']",4,691f6220add0c82fbc8b5d100481a3833b14620d,bug/1786186,"{% if auth_host -%} [keystone_authtoken] {% for option_name, option_value in keystone_authtoken.items() -%} {{ option_name }} = {{ option_value }} {% endfor -%} {% if use_memcache == true %} memcached_servers = {{ memcache_url }} {% endif -%} {% endif -%} ",,201,1
openstack%2Fglance~stable%2Fqueens~I3aeeeb67d19832ad72f0ab06c8adc0b018020c71,openstack/glance,stable/queens,I3aeeeb67d19832ad72f0ab06c8adc0b018020c71,Add an oslo.policy.enforcer entrypoint,ABANDONED,2019-03-20 20:29:50.000000000,2019-05-07 19:56:16.000000000,,"[{'_account_id': 8122}, {'_account_id': 22348}, {'_account_id': 26233}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-03-20 20:29:50.000000000', 'files': ['glance/api/policy.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance/commit/d9d3c2d4f5532c62829d24879bf758e584f504b9', 'message': 'Add an oslo.policy.enforcer entrypoint\n\nThis will allow oslopolicy-policy-generator to generate useful\ninformation about Glance policies.\n\nChange-Id: I3aeeeb67d19832ad72f0ab06c8adc0b018020c71\nCloses-Bug: #1816647\n(cherry-picked from commit 517d8d66c3083bdbe85784ade73d85d0b4ddd83b)\n'}]",0,644996,d9d3c2d4f5532c62829d24879bf758e584f504b9,8,4,1,8122,,,0,"Add an oslo.policy.enforcer entrypoint

This will allow oslopolicy-policy-generator to generate useful
information about Glance policies.

Change-Id: I3aeeeb67d19832ad72f0ab06c8adc0b018020c71
Closes-Bug: #1816647
(cherry-picked from commit 517d8d66c3083bdbe85784ade73d85d0b4ddd83b)
",git fetch https://review.opendev.org/openstack/glance refs/changes/96/644996/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/policy.py', 'setup.cfg']",2,d9d3c2d4f5532c62829d24879bf758e584f504b9,bug/1816647,oslo.policy.enforcer = glance = glance.api.policy:get_enforcer ,,12,0
openstack%2Fglance~stable%2Frocky~I3aeeeb67d19832ad72f0ab06c8adc0b018020c71,openstack/glance,stable/rocky,I3aeeeb67d19832ad72f0ab06c8adc0b018020c71,Add an oslo.policy.enforcer entrypoint,ABANDONED,2019-03-20 20:25:53.000000000,2019-05-07 19:55:58.000000000,,"[{'_account_id': 5202}, {'_account_id': 8122}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-20 20:25:53.000000000', 'files': ['glance/api/policy.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance/commit/a402005441c61c12680ae1a426809db3cc2701a4', 'message': 'Add an oslo.policy.enforcer entrypoint\n\nThis will allow oslopolicy-policy-generator to generate useful\ninformation about Glance policies.\n\nChange-Id: I3aeeeb67d19832ad72f0ab06c8adc0b018020c71\nCloses-Bug: #1816647\n(cherry-picked from commit 517d8d66c3083bdbe85784ade73d85d0b4ddd83b)\n'}]",0,644994,a402005441c61c12680ae1a426809db3cc2701a4,5,3,1,8122,,,0,"Add an oslo.policy.enforcer entrypoint

This will allow oslopolicy-policy-generator to generate useful
information about Glance policies.

Change-Id: I3aeeeb67d19832ad72f0ab06c8adc0b018020c71
Closes-Bug: #1816647
(cherry-picked from commit 517d8d66c3083bdbe85784ade73d85d0b4ddd83b)
",git fetch https://review.opendev.org/openstack/glance refs/changes/94/644994/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/policy.py', 'setup.cfg']",2,a402005441c61c12680ae1a426809db3cc2701a4,bug/1816647,oslo.policy.enforcer = glance = glance.api.policy:get_enforcer ,,12,0
openstack%2Fkolla~master~I53fdb56f001837e833df46cb86cdaab9c710ac99,openstack/kolla,master,I53fdb56f001837e833df46cb86cdaab9c710ac99,[Trivial fix]Remove unnecessary slash,MERGED,2019-05-06 09:49:14.000000000,2019-05-07 19:42:37.000000000,2019-05-07 19:42:37.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-05-06 09:49:14.000000000', 'files': ['docker/kolla-toolbox/find_disks.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4dc412a23bb74222f8737eccd3a561e1795847bd', 'message': ""[Trivial fix]Remove unnecessary slash\n\nThis is to remove the unncessary slash when the line doesn't\nexceed the length of 79, to make the code more readable.\n\nChange-Id: I53fdb56f001837e833df46cb86cdaab9c710ac99\n""}]",0,657366,4dc412a23bb74222f8737eccd3a561e1795847bd,8,4,1,20190,,,0,"[Trivial fix]Remove unnecessary slash

This is to remove the unncessary slash when the line doesn't
exceed the length of 79, to make the code more readable.

Change-Id: I53fdb56f001837e833df46cb86cdaab9c710ac99
",git fetch https://review.opendev.org/openstack/kolla refs/changes/66/657366/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/kolla-toolbox/find_disks.py'],1,4dc412a23bb74222f8737eccd3a561e1795847bd,slash," kwargs['partition_num'] = re.sub(r'.*[^\d]', '', dev.device_node)"," kwargs['partition_num'] = \ re.sub(r'.*[^\d]', '', dev.device_node)",1,2
openstack%2Fdiskimage-builder~master~I3051320d867a5033e82deef10c5e723ca9829884,openstack/diskimage-builder,master,I3051320d867a5033e82deef10c5e723ca9829884,openssh-server: harden sshd config,MERGED,2019-04-19 00:58:01.000000000,2019-05-07 19:35:41.000000000,2019-05-07 19:35:41.000000000,"[{'_account_id': 1955}, {'_account_id': 4162}, {'_account_id': 7118}, {'_account_id': 9311}, {'_account_id': 10118}, {'_account_id': 11810}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-19 00:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/656e3f1d4d3246dd8f4c1fa3afc9c2b07e7b562b', 'message': 'openssh-server: enforce sshd config\n\nEnforce sshd configuration by adding KexAlgorithms, Ciphers and MACs for sshd,\nfollowing good pratices on https://infosec.mozilla.org/guidelines/openssh\n\nChange-Id: I3051320d867a5033e82deef10c5e723ca9829884\nCo-Authored-By: Nicolas Hicher <nhicher@redhat.com>\n'}, {'number': 2, 'created': '2019-04-23 13:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/928bea8b29bbc9a044e28c0510b463288a102b19', 'message': 'openssh-server: enforce sshd config\n\nEnforce sshd configuration by adding KexAlgorithms, Ciphers and MACs for sshd,\nfollowing good pratices on https://infosec.mozilla.org/guidelines/openssh\n\nChange-Id: I3051320d867a5033e82deef10c5e723ca9829884\nCo-Authored-By: Nicolas Hicher <nhicher@redhat.com>\n'}, {'number': 3, 'created': '2019-04-23 15:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/995f516581c51c928d1d2b7e9eadc7ffa786fb6c', 'message': 'openssh-server: enforce sshd config\n\nEnforce sshd configuration by adding KexAlgorithms, Ciphers and MACs for sshd,\nfollowing good pratices on https://infosec.mozilla.org/guidelines/openssh\n\nChange-Id: I3051320d867a5033e82deef10c5e723ca9829884\nCo-Authored-By: Nicolas Hicher <nhicher@redhat.com>\n'}, {'number': 4, 'created': '2019-04-23 18:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/89bf274c0715ab35f681854c29381e42792a3ffd', 'message': 'openssh-server: enforce sshd config\n\nEnforce sshd configuration by adding KexAlgorithms, Ciphers and MACs for sshd,\nfollowing good pratices on https://infosec.mozilla.org/guidelines/openssh\n\nChange-Id: I3051320d867a5033e82deef10c5e723ca9829884\nCo-Authored-By: Nicolas Hicher <nhicher@redhat.com>\n'}, {'number': 5, 'created': '2019-05-01 15:42:29.000000000', 'files': ['releasenotes/notes/harden-sshd-config-3f84556136014f95.yaml', 'diskimage_builder/elements/openssh-server/post-install.d/99-harden-sshd-config', 'diskimage_builder/elements/openssh-server/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/11ec95b77969bcc29a5e305ec18ee0ce87ab3cb8', 'message': 'openssh-server: harden sshd config\n\nHarden sshd configuration by adding KexAlgorithms, Ciphers and MACs for sshd,\nfollowing good pratices on https://infosec.mozilla.org/guidelines/openssh\n\nChange-Id: I3051320d867a5033e82deef10c5e723ca9829884\nCo-Authored-By: Nicolas Hicher <nhicher@redhat.com>\n'}]",6,653890,11ec95b77969bcc29a5e305ec18ee0ce87ab3cb8,43,9,5,9311,,,0,"openssh-server: harden sshd config

Harden sshd configuration by adding KexAlgorithms, Ciphers and MACs for sshd,
following good pratices on https://infosec.mozilla.org/guidelines/openssh

Change-Id: I3051320d867a5033e82deef10c5e723ca9829884
Co-Authored-By: Nicolas Hicher <nhicher@redhat.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/90/653890/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/openssh-server/post-install.d/99-enforce-sshd-config'],1,656e3f1d4d3246dd8f4c1fa3afc9c2b07e7b562b,653890,"#!/bin/bash if [ ${DIB_DEBUG_TRACE:-1} -gt 0 ]; then set -x fi set -eu set -o pipefail if ! grep -q '^KexAlgorithms' /etc/ssh/sshd_config; then sed -i '/# Ciphers and keying/a KexAlgorithms curve25519-sha256@libssh.org,ecdh-sha2-nistp521,ecdh-sha2-nistp384,ecdh-sha2-nistp256,diffie-hellman-group-exchange-sha256' /etc/ssh/sshd_config sed -i '/# Ciphers and keying/a Ciphers chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr,aes128-ctr' /etc/ssh/sshd_config sed -i '/# Ciphers and keying/a MACs hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-512,hmac-sha2-256,umac-128@openssh.com' /etc/ssh/sshd_config fi ",,14,0
openstack%2Fkolla~master~I209c3c60d5c2edb6856e81eb374fbcad648e3904,openstack/kolla,master,I209c3c60d5c2edb6856e81eb374fbcad648e3904,Add template override for grafana plugins,MERGED,2019-04-30 11:58:19.000000000,2019-05-07 19:28:48.000000000,2019-05-07 19:28:48.000000000,"[{'_account_id': 10068}, {'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 28595}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-04-30 11:58:19.000000000', 'files': ['docker/grafana/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a873677392f1736a73726d3f25a01c2f7cb1ade9', 'message': 'Add template override for grafana plugins\n\nChange-Id: I209c3c60d5c2edb6856e81eb374fbcad648e3904\nCloses-Bug: #1827025\n'}]",0,656502,a873677392f1736a73726d3f25a01c2f7cb1ade9,13,9,1,30354,,,0,"Add template override for grafana plugins

Change-Id: I209c3c60d5c2edb6856e81eb374fbcad648e3904
Closes-Bug: #1827025
",git fetch https://review.opendev.org/openstack/kolla refs/changes/02/656502/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/grafana/Dockerfile.j2'],1,a873677392f1736a73726d3f25a01c2f7cb1ade9,bug/1827025,{% block grafana_plugins_install %} && grafana-cli plugins install grafana-influxdb-08-datasource {% endblock %} RUN chmod 750 /etc/sudoers.d \, && grafana-cli plugins install grafana-influxdb-08-datasource \ && chmod 750 /etc/sudoers.d \,7,2
openstack%2Fkolla~master~I7cf9a7c2a6c7876e5784a3df93369e7fa5036173,openstack/kolla,master,I7cf9a7c2a6c7876e5784a3df93369e7fa5036173,Improve doc of kolla-build '--docker-dir' option,MERGED,2019-04-30 23:18:29.000000000,2019-05-07 19:28:46.000000000,2019-05-07 19:28:46.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-04-30 23:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/88994bf62b1706b8f82acc04fff3463a1c34b262', 'message': ""Improve doc of kolla-build '--docker-dir' option\n\nLet's make clear that '--docker-dir' can be specified multiple times\nas argument of kolla-build. It was not clear if '--docker-dir' options\naccept comma separated list of values or it can be specified multiple\ntimes.\n\nChange-Id: I7cf9a7c2a6c7876e5784a3df93369e7fa5036173\nPartial-Bug: #1827146\n""}, {'number': 2, 'created': '2019-04-30 23:20:48.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/da24177fd03e79ab0936aa3f63bd38ae55cc63c3', 'message': ""Improve doc of kolla-build '--docker-dir' option\n\nLet's make clear that '--docker-dir' can be specified multiple times\nas argument of kolla-build. It was not clear if '--docker-dir' options\naccept comma separated list of values or it can be specified multiple\ntimes.\n\nChange-Id: I7cf9a7c2a6c7876e5784a3df93369e7fa5036173\nPartial-Bug: #1827146\n""}]",0,656605,da24177fd03e79ab0936aa3f63bd38ae55cc63c3,10,5,2,11444,,,0,"Improve doc of kolla-build '--docker-dir' option

Let's make clear that '--docker-dir' can be specified multiple times
as argument of kolla-build. It was not clear if '--docker-dir' options
accept comma separated list of values or it can be specified multiple
times.

Change-Id: I7cf9a7c2a6c7876e5784a3df93369e7fa5036173
Partial-Bug: #1827146
",git fetch https://review.opendev.org/openstack/kolla refs/changes/05/656605/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,88994bf62b1706b8f82acc04fff3463a1c34b262,bug/1827146," help=('Path to additional docker file template directory,' ' can be specified multiple times'),"," help='Path to additional docker file template directory',",2,1
openstack%2Fswift~master~I378705a8d9ad51dbfa85287d44e6313aa7680c23,openstack/swift,master,I378705a8d9ad51dbfa85287d44e6313aa7680c23,py3: port unit/proxy/test_sysmeta.py,MERGED,2019-05-05 04:46:45.000000000,2019-05-07 19:17:31.000000000,2019-05-07 19:17:31.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-05 04:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dfd69e63f070a324332d554b50f55617fb68998b', 'message': 'py3: port unit/proxy/test_sysmeta.py\n\nChange-Id: I378705a8d9ad51dbfa85287d44e6313aa7680c23\n'}, {'number': 2, 'created': '2019-05-05 05:07:08.000000000', 'files': ['test/unit/proxy/test_sysmeta.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/767872210f2d33c2a786d2bfc571bf7b44767738', 'message': 'py3: port unit/proxy/test_sysmeta.py\n\nChange-Id: I378705a8d9ad51dbfa85287d44e6313aa7680c23\n'}]",0,657196,767872210f2d33c2a786d2bfc571bf7b44767738,15,3,2,15343,,,0,"py3: port unit/proxy/test_sysmeta.py

Change-Id: I378705a8d9ad51dbfa85287d44e6313aa7680c23
",git fetch https://review.opendev.org/openstack/swift refs/changes/96/657196/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_sysmeta.py', 'tox.ini']",2,dfd69e63f070a324332d554b50f55617fb68998b,," test/unit/proxy/controllers, test/unit/proxy/test_sysmeta.py}", test/unit/proxy/controllers/test_account.py \ test/unit/proxy/controllers/test_base.py \ test/unit/proxy/controllers/test_container.py \ test/unit/proxy/controllers/test_info.py \ test/unit/proxy/controllers/test_obj.py},17,21
openstack%2Fcinder~stable%2Frocky~Idda5512d8e35da401ee232524ec1d1fcd03bf9e2,openstack/cinder,stable/rocky,Idda5512d8e35da401ee232524ec1d1fcd03bf9e2,3PAR: Provide an option duing creation of volume from snapshot,MERGED,2019-05-03 02:00:51.000000000,2019-05-07 19:17:30.000000000,2019-05-07 19:17:30.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 29122}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-03 02:00:51.000000000', 'files': ['cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8d5ce262c6d8b859d7448f4327f6310aeaef21a5', 'message': '3PAR: Provide an option duing creation of volume from snapshot\n\nA new extra spec has been added on the volume.\nWhile creating volume from snapshot, its value is checked and\nvolume is created either as a snapshot/independent copy.\n\nDetails of extra spec:\nName - hpe3par:convert_to_base\nValue - True/False; defaults to False\n\nTrue: Volume (from snapshot) is created independently\nAdvantage: new volumes are decoupled from initial snapshot and original\nvolume\nUsage: where instances are launched for longer/unpredictable time frame\n\nFalse: Volume (from snapshot) is created as child of snapshot\nAdvantage: new volumes can be created quickly\nUsage: where many similar instances are launched for short time frame\n\nChange-Id: Idda5512d8e35da401ee232524ec1d1fcd03bf9e2\nCloses-Bug: #1814027\n(cherry picked from commit f8084991284acfd8e0cd80ed456a83bcec6d5dcc)\n'}]",0,656911,8d5ce262c6d8b859d7448f4327f6310aeaef21a5,27,21,1,14892,,,0,"3PAR: Provide an option duing creation of volume from snapshot

A new extra spec has been added on the volume.
While creating volume from snapshot, its value is checked and
volume is created either as a snapshot/independent copy.

Details of extra spec:
Name - hpe3par:convert_to_base
Value - True/False; defaults to False

True: Volume (from snapshot) is created independently
Advantage: new volumes are decoupled from initial snapshot and original
volume
Usage: where instances are launched for longer/unpredictable time frame

False: Volume (from snapshot) is created as child of snapshot
Advantage: new volumes can be created quickly
Usage: where many similar instances are launched for short time frame

Change-Id: Idda5512d8e35da401ee232524ec1d1fcd03bf9e2
Closes-Bug: #1814027
(cherry picked from commit f8084991284acfd8e0cd80ed456a83bcec6d5dcc)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/656911/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",2,8d5ce262c6d8b859d7448f4327f6310aeaef21a5,bug/1814027-stable/rocky," 4.0.11 - Added extra spec hpe3par:convert_to_base VERSION = ""4.0.11"" 'flash_cache', 'compression', 'group_replication', 'convert_to_base'] def _get_boolean_key_value(self, hpe3par_keys, key, default=False): value = self._get_key_value( hpe3par_keys, key, default) if isinstance(value, six.string_types): if value.lower() == 'true': value = True else: value = False return value # by default, set convert_to_base to False convert_to_base = self._get_boolean_key_value( hpe3par_keys, 'convert_to_base', False) 'group_replication': hpe3par_tiramisu, 'convert_to_base': convert_to_base} # by default, set convert_to_base to False convert_to_base = self._get_boolean_key_value( hpe3par_keys, 'convert_to_base', False) LOG.debug(""convert_to_base: %(convert)s"", {'convert': convert_to_base}) LOG.debug(""growth_size: %(size)s"", {'size': growth_size}) if growth_size > 0 or convert_to_base: # Convert snapshot volume to base volume type LOG.debug('Converting to base volume type: %(id)s.', {'id': volume['id']}) model_update = self._convert_to_base_volume(volume) else: LOG.debug(""volume is created as child of snapshot"") if snap.startswith('osv-'): LOG.info( ""Found a volume %(name)s"", {'name': snap}) # Get details of original volume v1 # These details would be required to form v2 s1_detail = self.client.getVolume(snap_name) v1_name = s1_detail.get('copyOf') v1 = self.client.getVolume(v1_name) # Get details of volume v2, # which is child of snapshot s1 v2_name = snap v2 = self.client.getVolume(v2_name) # Update v2 object as required for # _convert_to_base function v2['volume_type_id'] = \ self._get_3par_vol_comment_value( v1['comment'], 'volume_type_id') v2['id'] = self._get_3par_vol_comment_value( v2['comment'], 'volume_id') v2['host'] = '#' + v1['userCPG'] LOG.debug('Converting to base volume type: ' '%(id)s.', {'id': v2['id']}) self._convert_to_base_volume(v2) "," VERSION = ""4.0.10"" 'flash_cache', 'compression', 'group_replication'] 'group_replication': hpe3par_tiramisu} # Convert snapshot volume to base volume type LOG.debug('Converting to base volume type: %s.', volume['id']) model_update = self._convert_to_base_volume(volume) # Grow the snapshot if needed",285,58
openstack%2Freleases~master~I41e2422e9ac48f0b7df0ed4ac88060dbc7007439,openstack/releases,master,I41e2422e9ac48f0b7df0ed4ac88060dbc7007439,oslo.db 4.40.2,MERGED,2019-04-22 20:04:13.000000000,2019-05-07 19:14:48.000000000,2019-05-07 19:14:48.000000000,"[{'_account_id': 308}, {'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-22 20:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f7fae319f98a1683ec70cf3c8aa8e5f3d560a45b', 'message': 'oslo.db 4.40.2\n\nThis is a bugfix release of stable/rocky.\n\nChange-Id: I41e2422e9ac48f0b7df0ed4ac88060dbc7007439\n'}, {'number': 2, 'created': '2019-05-06 20:33:55.000000000', 'files': ['deliverables/rocky/oslo.db.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/659f9f359013cdcbfac16acfda0f23ac24b1dfdc', 'message': 'oslo.db 4.40.2\n\nThis is a bugfix release of stable/rocky.\n\nChange-Id: I41e2422e9ac48f0b7df0ed4ac88060dbc7007439\n'}]",0,654623,659f9f359013cdcbfac16acfda0f23ac24b1dfdc,10,4,2,6928,,,0,"oslo.db 4.40.2

This is a bugfix release of stable/rocky.

Change-Id: I41e2422e9ac48f0b7df0ed4ac88060dbc7007439
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/654623/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/oslo.db.yaml'],1,f7fae319f98a1683ec70cf3c8aa8e5f3d560a45b,oslo-rocky, - projects: - hash: 249c65b5010941855d77d642c508177443a5c371 repo: openstack/oslo.db version: 4.40.2,,4,0
openstack%2Freleases~master~I6a6cf9110a737204e332c60004f72a68b770d1e7,openstack/releases,master,I6a6cf9110a737204e332c60004f72a68b770d1e7,[list_changes] Handle non-numeric tags,MERGED,2019-04-17 01:22:43.000000000,2019-05-07 19:10:55.000000000,2019-05-07 19:10:54.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-17 01:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a23dea7dfdbf08890a06af6fb624491c523e8faa', 'message': ""[list_chnages] Handle non-numeri tags\n\nAfter we tagged a realease EM git describe on a branch will include that\ntag and as it contains a '-' it breaks the partition() we're using to\nget the tag[1].\n\nSwitch to using a re rather than the simple partition.\n\n(venv) [tony@thor releases]$ ipython\nPython 3.7.3 (default, Mar 27 2019, 13:41:07)\nType 'copyright', 'credits' or 'license' for more information\nIPython 7.4.0 -- An enhanced Interactive Python. Type '?' for help.\n\nIn [1]: import openstack_releases.cmds.list_changes\nIn [2]: workdir = '/home/tony/projects/openstack'\nIn [3]: repo = 'openstack/python-manilaclient'\nIn [4]: openstack_releases.cmds.list_changes.git_list_existing_branches(workdir, repo)\n\nAll Branches with Version Numbers\n---------------------------------\nfeature/add-constraints-support 1.11.0-36-g7134e3c   1.11.0       2 years, 8 months ago\nmaster                         1.27.0-10-g05a3f4d   1.27.0       6 months ago\nreview/openstack_release_bot/create-stein 1.27.0-2-g31608cf    1.27.0       6 months ago\nremotes/gerrit/master          1.27.0-10-g05a3f4d   1.27.0       6 months ago\nfatal: ambiguous argument 'ocata': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions, like this:\n'git <command> [<revision>...] -- [<file>...]'\nremotes/gerrit/stable/ocata    ocata-em-5-g22e9c42  ocata\nremotes/gerrit/stable/pike     1.17.4               1.17.4       7 months ago\nremotes/gerrit/stable/queens   1.21.1-6-g02d6234    1.21.1       1 year, 1 month ago\nremotes/gerrit/stable/rocky    1.24.1-9-g816bfc8    1.24.1       9 months ago\nremotes/gerrit/stable/stein    1.27.0-3-g7430f4c    1.27.0       6 months ago\nremotes/origin/master          1.27.0-10-g05a3f4d   1.27.0       6 months ago\nfatal: ambiguous argument 'ocata': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions, like this:\n'git <command> [<revision>...] -- [<file>...]'\nremotes/origin/stable/ocata    ocata-em-5-g22e9c42  ocata\nremotes/origin/stable/pike     1.17.4               1.17.4       7 months ago\nremotes/origin/stable/queens   1.21.1-6-g02d6234    1.21.1       1 year, 1 month ago\nremotes/origin/stable/rocky    1.24.1-9-g816bfc8    1.24.1       9 months ago\nremotes/origin/stable/stein    1.27.0-3-g7430f4c    1.27.0       6 months ago\n\nIn [5]: from imp import reload\nIn [6]: reload(openstack_releases.cmds.list_changes)\nOut[6]: <module 'openstack_releases.cmds.list_changes' from '/home/tony/projects/openstack/openstack/releases/openstack_releases/cmds/list_changes.py'>\nIn [7]: openstack_releases.cmds.list_changes.git_list_existing_branches(workdir, repo)\n\nAll Branches with Version Numbers\n---------------------------------\nfeature/add-constraints-support 1.11.0-36-g7134e3c   1.11.0       2 years, 8 months ago\nmaster                         1.27.0-10-g05a3f4d   1.27.0       6 months ago\nreview/openstack_release_bot/create-stein 1.27.0-2-g31608cf    1.27.0       6 months ago\nremotes/gerrit/master          1.27.0-10-g05a3f4d   1.27.0       6 months ago\nremotes/gerrit/stable/ocata    ocata-em-5-g22e9c42  ocata-em     2 years, 3 months ago\nremotes/gerrit/stable/pike     1.17.4\nremotes/gerrit/stable/queens   1.21.1-6-g02d6234    1.21.1       1 year, 1 month ago\nremotes/gerrit/stable/rocky    1.24.1-9-g816bfc8    1.24.1       9 months ago\nremotes/gerrit/stable/stein    1.27.0-3-g7430f4c    1.27.0       6 months ago\nremotes/origin/master          1.27.0-10-g05a3f4d   1.27.0       6 months ago\nremotes/origin/stable/ocata    ocata-em-5-g22e9c42  ocata-em     2 years, 3 months ago\nremotes/origin/stable/pike     1.17.4\nremotes/origin/stable/queens   1.21.1-6-g02d6234    1.21.1       1 year, 1 month ago\nremotes/origin/stable/rocky    1.24.1-9-g816bfc8    1.24.1       9 months ago\nremotes/origin/stable/stein    1.27.0-3-g7430f4c    1.27.0       6 months ago\n\n[1] http://logs.openstack.org/75/652775/2/check/releases-tox-list-changes/92b219a/job-output.txt.gz#_2019-04-16_14_25_50_377843\n\nChange-Id: I6a6cf9110a737204e332c60004f72a68b770d1e7\n""}, {'number': 2, 'created': '2019-04-18 08:55:42.000000000', 'files': ['openstack_releases/cmds/list_changes.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/55fa425cdc0617da2ae94de37c4452dc92808c79', 'message': ""[list_changes] Handle non-numeric tags\n\nAfter we tagged a realease EM git describe on a branch will include that\ntag and as it contains a '-' it breaks the partition() we're using to\nget the tag[1].\n\nSwitch to using a re rather than the simple partition.\n\n(venv) [tony@thor releases]$ ipython\nPython 3.7.3 (default, Mar 27 2019, 13:41:07)\nType 'copyright', 'credits' or 'license' for more information\nIPython 7.4.0 -- An enhanced Interactive Python. Type '?' for help.\n\nIn [1]: import openstack_releases.cmds.list_changes\nIn [2]: workdir = '/home/tony/projects/openstack'\nIn [3]: repo = 'openstack/python-manilaclient'\nIn [4]: openstack_releases.cmds.list_changes.git_list_existing_branches(workdir, repo)\n\nAll Branches with Version Numbers\n---------------------------------\nfeature/add-constraints-support 1.11.0-36-g7134e3c   1.11.0       2 years, 8 months ago\nmaster                         1.27.0-10-g05a3f4d   1.27.0       6 months ago\nreview/openstack_release_bot/create-stein 1.27.0-2-g31608cf    1.27.0       6 months ago\nremotes/gerrit/master          1.27.0-10-g05a3f4d   1.27.0       6 months ago\nfatal: ambiguous argument 'ocata': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions, like this:\n'git <command> [<revision>...] -- [<file>...]'\nremotes/gerrit/stable/ocata    ocata-em-5-g22e9c42  ocata\nremotes/gerrit/stable/pike     1.17.4               1.17.4       7 months ago\nremotes/gerrit/stable/queens   1.21.1-6-g02d6234    1.21.1       1 year, 1 month ago\nremotes/gerrit/stable/rocky    1.24.1-9-g816bfc8    1.24.1       9 months ago\nremotes/gerrit/stable/stein    1.27.0-3-g7430f4c    1.27.0       6 months ago\nremotes/origin/master          1.27.0-10-g05a3f4d   1.27.0       6 months ago\nfatal: ambiguous argument 'ocata': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions, like this:\n'git <command> [<revision>...] -- [<file>...]'\nremotes/origin/stable/ocata    ocata-em-5-g22e9c42  ocata\nremotes/origin/stable/pike     1.17.4               1.17.4       7 months ago\nremotes/origin/stable/queens   1.21.1-6-g02d6234    1.21.1       1 year, 1 month ago\nremotes/origin/stable/rocky    1.24.1-9-g816bfc8    1.24.1       9 months ago\nremotes/origin/stable/stein    1.27.0-3-g7430f4c    1.27.0       6 months ago\n\nIn [5]: from imp import reload\nIn [6]: reload(openstack_releases.cmds.list_changes)\nOut[6]: <module 'openstack_releases.cmds.list_changes' from '/home/tony/projects/openstack/openstack/releases/openstack_releases/cmds/list_changes.py'>\nIn [7]: openstack_releases.cmds.list_changes.git_list_existing_branches(workdir, repo)\n\nAll Branches with Version Numbers\n---------------------------------\nfeature/add-constraints-support 1.11.0-36-g7134e3c   1.11.0       2 years, 8 months ago\nmaster                         1.27.0-10-g05a3f4d   1.27.0       6 months ago\nreview/openstack_release_bot/create-stein 1.27.0-2-g31608cf    1.27.0       6 months ago\nremotes/gerrit/master          1.27.0-10-g05a3f4d   1.27.0       6 months ago\nremotes/gerrit/stable/ocata    ocata-em-5-g22e9c42  ocata-em     2 years, 3 months ago\nremotes/gerrit/stable/pike     1.17.4\nremotes/gerrit/stable/queens   1.21.1-6-g02d6234    1.21.1       1 year, 1 month ago\nremotes/gerrit/stable/rocky    1.24.1-9-g816bfc8    1.24.1       9 months ago\nremotes/gerrit/stable/stein    1.27.0-3-g7430f4c    1.27.0       6 months ago\nremotes/origin/master          1.27.0-10-g05a3f4d   1.27.0       6 months ago\nremotes/origin/stable/ocata    ocata-em-5-g22e9c42  ocata-em     2 years, 3 months ago\nremotes/origin/stable/pike     1.17.4\nremotes/origin/stable/queens   1.21.1-6-g02d6234    1.21.1       1 year, 1 month ago\nremotes/origin/stable/rocky    1.24.1-9-g816bfc8    1.24.1       9 months ago\nremotes/origin/stable/stein    1.27.0-3-g7430f4c    1.27.0       6 months ago\n\n[1] http://logs.openstack.org/75/652775/2/check/releases-tox-list-changes/92b219a/job-output.txt.gz#_2019-04-16_14_25_50_377843\n\nChange-Id: I6a6cf9110a737204e332c60004f72a68b770d1e7\n""}]",0,653181,55fa425cdc0617da2ae94de37c4452dc92808c79,9,3,2,12898,,,0,"[list_changes] Handle non-numeric tags

After we tagged a realease EM git describe on a branch will include that
tag and as it contains a '-' it breaks the partition() we're using to
get the tag[1].

Switch to using a re rather than the simple partition.

(venv) [tony@thor releases]$ ipython
Python 3.7.3 (default, Mar 27 2019, 13:41:07)
Type 'copyright', 'credits' or 'license' for more information
IPython 7.4.0 -- An enhanced Interactive Python. Type '?' for help.

In [1]: import openstack_releases.cmds.list_changes
In [2]: workdir = '/home/tony/projects/openstack'
In [3]: repo = 'openstack/python-manilaclient'
In [4]: openstack_releases.cmds.list_changes.git_list_existing_branches(workdir, repo)

All Branches with Version Numbers
---------------------------------
feature/add-constraints-support 1.11.0-36-g7134e3c   1.11.0       2 years, 8 months ago
master                         1.27.0-10-g05a3f4d   1.27.0       6 months ago
review/openstack_release_bot/create-stein 1.27.0-2-g31608cf    1.27.0       6 months ago
remotes/gerrit/master          1.27.0-10-g05a3f4d   1.27.0       6 months ago
fatal: ambiguous argument 'ocata': unknown revision or path not in the working tree.
Use '--' to separate paths from revisions, like this:
'git <command> [<revision>...] -- [<file>...]'
remotes/gerrit/stable/ocata    ocata-em-5-g22e9c42  ocata
remotes/gerrit/stable/pike     1.17.4               1.17.4       7 months ago
remotes/gerrit/stable/queens   1.21.1-6-g02d6234    1.21.1       1 year, 1 month ago
remotes/gerrit/stable/rocky    1.24.1-9-g816bfc8    1.24.1       9 months ago
remotes/gerrit/stable/stein    1.27.0-3-g7430f4c    1.27.0       6 months ago
remotes/origin/master          1.27.0-10-g05a3f4d   1.27.0       6 months ago
fatal: ambiguous argument 'ocata': unknown revision or path not in the working tree.
Use '--' to separate paths from revisions, like this:
'git <command> [<revision>...] -- [<file>...]'
remotes/origin/stable/ocata    ocata-em-5-g22e9c42  ocata
remotes/origin/stable/pike     1.17.4               1.17.4       7 months ago
remotes/origin/stable/queens   1.21.1-6-g02d6234    1.21.1       1 year, 1 month ago
remotes/origin/stable/rocky    1.24.1-9-g816bfc8    1.24.1       9 months ago
remotes/origin/stable/stein    1.27.0-3-g7430f4c    1.27.0       6 months ago

In [5]: from imp import reload
In [6]: reload(openstack_releases.cmds.list_changes)
Out[6]: <module 'openstack_releases.cmds.list_changes' from '/home/tony/projects/openstack/openstack/releases/openstack_releases/cmds/list_changes.py'>
In [7]: openstack_releases.cmds.list_changes.git_list_existing_branches(workdir, repo)

All Branches with Version Numbers
---------------------------------
feature/add-constraints-support 1.11.0-36-g7134e3c   1.11.0       2 years, 8 months ago
master                         1.27.0-10-g05a3f4d   1.27.0       6 months ago
review/openstack_release_bot/create-stein 1.27.0-2-g31608cf    1.27.0       6 months ago
remotes/gerrit/master          1.27.0-10-g05a3f4d   1.27.0       6 months ago
remotes/gerrit/stable/ocata    ocata-em-5-g22e9c42  ocata-em     2 years, 3 months ago
remotes/gerrit/stable/pike     1.17.4
remotes/gerrit/stable/queens   1.21.1-6-g02d6234    1.21.1       1 year, 1 month ago
remotes/gerrit/stable/rocky    1.24.1-9-g816bfc8    1.24.1       9 months ago
remotes/gerrit/stable/stein    1.27.0-3-g7430f4c    1.27.0       6 months ago
remotes/origin/master          1.27.0-10-g05a3f4d   1.27.0       6 months ago
remotes/origin/stable/ocata    ocata-em-5-g22e9c42  ocata-em     2 years, 3 months ago
remotes/origin/stable/pike     1.17.4
remotes/origin/stable/queens   1.21.1-6-g02d6234    1.21.1       1 year, 1 month ago
remotes/origin/stable/rocky    1.24.1-9-g816bfc8    1.24.1       9 months ago
remotes/origin/stable/stein    1.27.0-3-g7430f4c    1.27.0       6 months ago

[1] http://logs.openstack.org/75/652775/2/check/releases-tox-list-changes/92b219a/job-output.txt.gz#_2019-04-16_14_25_50_377843

Change-Id: I6a6cf9110a737204e332c60004f72a68b770d1e7
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/653181/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/list_changes.py'],1,a23dea7dfdbf08890a06af6fb624491c523e8faa,,"import re # strip to the real tag value match = re.match('^(.*)-[0-9]+-g[a-f0-9]+', description, re.IGNORECASE) if match: tag = match.groups()[0] else: tag = ''", tag = description.partition('-')[0] # strip to the real tag value,8,1
openstack%2Fcharm-openstack-dashboard~master~I14e7ff1ec548de4ec98ee41fc27c8948b56fafec,openstack/charm-openstack-dashboard,master,I14e7ff1ec548de4ec98ee41fc27c8948b56fafec,Fix websso path formatting,MERGED,2019-05-07 10:47:16.000000000,2019-05-07 18:57:41.000000000,2019-05-07 18:52:47.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2019-05-07 10:47:16.000000000', 'files': ['hooks/horizon_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/d28f593d6688b01ab48068b6f4868ef03ef9108d', 'message': ""Fix websso path formatting\n\nIf webroot is '/' the resulting path becomes '//' after joining which\nleads to 'path: //auth/websso/' passed in relation data.\n\nAs a result authentication attempts fail with:\n\n'ERROR https://dashboard.maas/auth/websso/ is not a trusted dashboard\nhost'\n\nChange-Id: I14e7ff1ec548de4ec98ee41fc27c8948b56fafec\nCloses-Bug: #1815205\nCloses-Bug: #1828021\n""}]",0,657566,d28f593d6688b01ab48068b6f4868ef03ef9108d,9,4,1,24824,,,0,"Fix websso path formatting

If webroot is '/' the resulting path becomes '//' after joining which
leads to 'path: //auth/websso/' passed in relation data.

As a result authentication attempts fail with:

'ERROR https://dashboard.maas/auth/websso/ is not a trusted dashboard
host'

Change-Id: I14e7ff1ec548de4ec98ee41fc27c8948b56fafec
Closes-Bug: #1815205
Closes-Bug: #1828021
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/66/657566/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/horizon_hooks.py'],1,d28f593d6688b01ab48068b6f4868ef03ef9108d,bug/1815205,"import urllib # urljoin needs a base url to be '/'-terminated contrary to the joined path webroot = config('webroot') if not webroot.endswith('/'): webroot += '/' path = urllib.parse.urljoin(webroot, ""auth/websso/"")"," path = ""{}/auth/websso/"".format(config('webroot'))",8,2
openstack%2Fswift~master~I602e398600d53fb1095c2a5ea97b8fb572cde157,openstack/swift,master,I602e398600d53fb1095c2a5ea97b8fb572cde157,Simplify patching in test_reap_delay,NEW,2019-05-07 16:57:34.000000000,2019-05-07 18:36:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-07 16:57:34.000000000', 'files': ['test/unit/account/test_reaper.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5fe4969588694d14fa7c194244bdde27443f2f90', 'message': 'Simplify patching in test_reap_delay\n\nChange-Id: I602e398600d53fb1095c2a5ea97b8fb572cde157\n'}]",0,657648,5fe4969588694d14fa7c194244bdde27443f2f90,2,1,1,15343,,,0,"Simplify patching in test_reap_delay

Change-Id: I602e398600d53fb1095c2a5ea97b8fb572cde157
",git fetch https://review.opendev.org/openstack/swift refs/changes/48/657648/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/account/test_reaper.py'],1,5fe4969588694d14fa7c194244bdde27443f2f90,," @patch.object(reaper, 'time', return_value=100) def test_reap_delay(self, mock_time): r = reaper.AccountReaper({'delay_reaping': '10'}) b = FakeBroker() # Deleted in the future b.info['delete_timestamp'] = normalize_timestamp(110) self.assertFalse(r.reap_account(b, 0, None)) # Deleted, but not enough time has passed b.info['delete_timestamp'] = normalize_timestamp(100) self.assertFalse(r.reap_account(b, 0, None)) b.info['delete_timestamp'] = normalize_timestamp(90) self.assertFalse(r.reap_account(b, 0, None)) # Deleted and enough time has passed. Expect a KeyError # to be raised immediately as reap_account tries to get the # account's name to do the reaping. b.info['delete_timestamp'] = normalize_timestamp(89) self.assertRaises(KeyError, r.reap_account, b, 0, None) b.info['delete_timestamp'] = normalize_timestamp(1) self.assertRaises(KeyError, r.reap_account, b, 0, None)"," def test_reap_delay(self): time_value = [100] def _time(): return time_value[0] time_orig = reaper.time try: reaper.time = _time r = reaper.AccountReaper({'delay_reaping': '10'}) b = FakeBroker() b.info['delete_timestamp'] = normalize_timestamp(110) self.assertFalse(r.reap_account(b, 0, None)) b.info['delete_timestamp'] = normalize_timestamp(100) self.assertFalse(r.reap_account(b, 0, None)) b.info['delete_timestamp'] = normalize_timestamp(90) self.assertFalse(r.reap_account(b, 0, None)) # KeyError raised immediately as reap_account tries to get the # account's name to do the reaping. b.info['delete_timestamp'] = normalize_timestamp(89) self.assertRaises(KeyError, r.reap_account, b, 0, None) b.info['delete_timestamp'] = normalize_timestamp(1) self.assertRaises(KeyError, r.reap_account, b, 0, None) finally: reaper.time = time_orig",19,24
openstack%2Ftripleo-common~stable%2Frocky~I0d5ea0ba630714f7ec3ca4f1361e3235320e52d7,openstack/tripleo-common,stable/rocky,I0d5ea0ba630714f7ec3ca4f1361e3235320e52d7,Add new healthchecks for zaqar services,MERGED,2019-05-01 14:40:23.000000000,2019-05-07 18:35:06.000000000,2019-05-07 18:35:06.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-05-01 14:40:23.000000000', 'files': ['healthcheck/zaqar-socket', 'healthcheck/zaqar-api'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4bbd532485253366e197d74b08fb4aea9580b48f', 'message': 'Add new healthchecks for zaqar services\n\nZaqar has 2 containers, one for API (wsgi) and a second one for\nwebsocket (python).\n\nWe therefore want to ensure the ports are in use in the containers.\n\nChange-Id: I0d5ea0ba630714f7ec3ca4f1361e3235320e52d7\n(cherry picked from commit 4f5a275086a6fab538a69bfdb74e002489d7e599)\n'}]",0,656639,4bbd532485253366e197d74b08fb4aea9580b48f,19,7,1,3153,,,0,"Add new healthchecks for zaqar services

Zaqar has 2 containers, one for API (wsgi) and a second one for
websocket (python).

We therefore want to ensure the ports are in use in the containers.

Change-Id: I0d5ea0ba630714f7ec3ca4f1361e3235320e52d7
(cherry picked from commit 4f5a275086a6fab538a69bfdb74e002489d7e599)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/39/656639/1 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/zaqar-socket', 'healthcheck/zaqar-api']",2,4bbd532485253366e197d74b08fb4aea9580b48f,healthchecks/zaqar-stable/rocky,#!/bin/bash . ${HEALTHCHECK_SCRIPTS:-/usr/share/openstack-tripleo-common/healthcheck}/common.sh check_url=$(get_url_from_vhost /etc/httpd/conf.d/10-zaqar_wsgi.conf) healthcheck_curl ${check_url} ,,21,0
openstack%2Finstack-undercloud~stable%2Fqueens~I4e08f9cda1663d4a9fd90f689363e495be3c66d1,openstack/instack-undercloud,stable/queens,I4e08f9cda1663d4a9fd90f689363e495be3c66d1,Wrap the undercloud public_host IP for IPv6,MERGED,2019-05-07 12:45:04.000000000,2019-05-07 18:10:35.000000000,2019-05-07 18:10:35.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-07 12:45:04.000000000', 'files': ['templates/config.json.template', 'elements/undercloud-install/os-apply-config/root/stackrc', 'instack_undercloud/undercloud.py', 'elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/5babfee11193d7736d4ab5142121392b7887344c', 'message': ""Wrap the undercloud public_host IP for IPv6\n\nIn order to handle IPv6 SSL deployments, bracket the undercloud public_host IP address\nwith '[',']' for IPv6.\n\nCloses-Bug: #1827897\nChange-Id: I4e08f9cda1663d4a9fd90f689363e495be3c66d1\n(cherry picked from commit 11d9fef529300a9268417979d701f45e100f0241)\n""}]",0,657586,5babfee11193d7736d4ab5142121392b7887344c,7,3,1,21909,,,0,"Wrap the undercloud public_host IP for IPv6

In order to handle IPv6 SSL deployments, bracket the undercloud public_host IP address
with '[',']' for IPv6.

Closes-Bug: #1827897
Change-Id: I4e08f9cda1663d4a9fd90f689363e495be3c66d1
(cherry picked from commit 11d9fef529300a9268417979d701f45e100f0241)
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/86/657586/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/config.json.template', 'elements/undercloud-install/os-apply-config/root/stackrc', 'instack_undercloud/undercloud.py', 'elements/puppet-stack-config/puppet-stack-config.yaml.template']",4,5babfee11193d7736d4ab5142121392b7887344c,bug/1827897-stable/queens,controller_public_host_wrapped: {{UNDERCLOUD_PUBLIC_HOST_WRAPPED}},,10,2
openstack%2Fsenlin~master~I67c6fb710e9946a9a5947a7062e2b03106a8e5c2,openstack/senlin,master,I67c6fb710e9946a9a5947a7062e2b03106a8e5c2,Cleaned up devstack logging,MERGED,2018-11-05 22:57:11.000000000,2019-05-07 17:21:53.000000000,2018-11-07 21:24:17.000000000,"[{'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 25674}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-11-05 22:57:11.000000000', 'files': ['devstack/lib/senlin'], 'web_link': 'https://opendev.org/openstack/senlin/commit/f06ec494b42667941fecb27e43fb279940a44dc5', 'message': 'Cleaned up devstack logging\n\nSwitch to systemd logging to take advantage of some of the newer\nlogging features.\n\nChange-Id: I67c6fb710e9946a9a5947a7062e2b03106a8e5c2\n'}]",1,615688,f06ec494b42667941fecb27e43fb279940a44dc5,10,4,1,22623,,,0,"Cleaned up devstack logging

Switch to systemd logging to take advantage of some of the newer
logging features.

Change-Id: I67c6fb710e9946a9a5947a7062e2b03106a8e5c2
",git fetch https://review.opendev.org/openstack/senlin refs/changes/88/615688/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/senlin'],1,f06ec494b42667941fecb27e43fb279940a44dc5,," if [ ""$USE_SYSTEMD"" != ""False"" ]; then setup_systemd_logging $SENLIN_CONF fi if [ ""$LOG_COLOR"" == ""True"" ] && [ ""$USE_SYSTEMD"" == ""False"" ] && [ ""$SENLIN_USE_MOD_WSGI"" == ""False"" ]; then"," iniset $SENLIN_CONF DEFAULT use_syslog $SYSLOG if [ ""$LOG_COLOR"" == ""True"" ] && [ ""$SYSLOG"" == ""False"" ] && [ ""$SENLIN_USE_MOD_WSGI"" == ""False"" ]; then",5,2
openstack%2Fnova~master~Ib94e56f6fd644b1f8e4c1b4a235fea3d1d575bec,openstack/nova,master,Ib94e56f6fd644b1f8e4c1b4a235fea3d1d575bec,VMware: Use project name in folder,ABANDONED,2018-05-13 12:27:47.000000000,2019-05-07 17:20:41.000000000,,"[{'_account_id': 1653}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 18028}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-05-13 12:27:47.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/virt/vmwareapi/vm_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/33774879b890521cdcc6fb45281fb4a7f70981a3', 'message': ""VMware: Use project name in folder\n\nWhen an instance is created the instance will be created in a\nfolder that has the following format:\nOpenStack/Project (<Project UUID>)/Instances\nThe patch will use the project name instead of 'Project'. This will\nprovide a little extra visibility to VMware admins.\nThe change is backwards compatibale and if a project folder already\nexists then that folder will be used.\n\nChange-Id: Ib94e56f6fd644b1f8e4c1b4a235fea3d1d575bec\n""}]",3,568062,33774879b890521cdcc6fb45281fb4a7f70981a3,27,16,1,1653,,,0,"VMware: Use project name in folder

When an instance is created the instance will be created in a
folder that has the following format:
OpenStack/Project (<Project UUID>)/Instances
The patch will use the project name instead of 'Project'. This will
provide a little extra visibility to VMware admins.
The change is backwards compatibale and if a project folder already
exists then that folder will be used.

Change-Id: Ib94e56f6fd644b1f8e4c1b4a235fea3d1d575bec
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/568062/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/virt/vmwareapi/vm_util.py']",4,33774879b890521cdcc6fb45281fb4a7f70981a3,project-name-folder,"def get_folder(session, parent_folder_ref, name):","def _get_folder(session, parent_folder_ref, name):",52,15
openstack%2Ftripleo-heat-templates~master~Iab64473d2b5ccc910d226fc6bec06c73f43515b8,openstack/tripleo-heat-templates,master,Iab64473d2b5ccc910d226fc6bec06c73f43515b8,Copy keys for tripleo-admin user,MERGED,2019-05-07 08:02:32.000000000,2019-05-07 16:44:19.000000000,2019-05-07 16:23:47.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-07 08:02:32.000000000', 'files': ['deployment/mistral/mistral-executor-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2fae913d9ec15ba9272077e370a95595335abf9', 'message': 'Copy keys for tripleo-admin user\n\nChange-Id: Iab64473d2b5ccc910d226fc6bec06c73f43515b8\nPartial-Bug: #1824326\n'}]",1,657541,d2fae913d9ec15ba9272077e370a95595335abf9,11,6,1,11082,,,0,"Copy keys for tripleo-admin user

Change-Id: Iab64473d2b5ccc910d226fc6bec06c73f43515b8
Partial-Bug: #1824326
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/657541/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/mistral/mistral-executor-container-puppet.yaml'],1,d2fae913d9ec15ba9272077e370a95595335abf9,bug/1824326, remote_src: yes,,1,0
openstack%2Frpm-packaging~master~If4517a9cabe3476820166eb600279e53ae03e51c,openstack/rpm-packaging,master,If4517a9cabe3476820166eb600279e53ae03e51c,update openstackdocstheme to 1.29.3,MERGED,2019-05-07 02:13:02.000000000,2019-05-07 16:44:18.000000000,2019-05-07 16:44:18.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-07 02:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3163a1bee80ff946d8d1d2cb01aa23dcd3ee298e', 'message': 'update openstackdocstheme to 1.29.3\n\nChange-Id: If4517a9cabe3476820166eb600279e53ae03e51c\n'}, {'number': 2, 'created': '2019-05-07 13:08:15.000000000', 'files': ['openstack/openstackdocstheme/openstackdocstheme.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0c5b5681582d863b68856b7e4a049672cd49aef8', 'message': 'update openstackdocstheme to 1.29.3\n\nChange-Id: If4517a9cabe3476820166eb600279e53ae03e51c\n'}]",0,657512,0c5b5681582d863b68856b7e4a049672cd49aef8,13,5,2,30298,,,0,"update openstackdocstheme to 1.29.3

Change-Id: If4517a9cabe3476820166eb600279e53ae03e51c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/12/657512/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstackdocstheme/openstackdocstheme.spec.j2'],1,3163a1bee80ff946d8d1d2cb01aa23dcd3ee298e,openstackdocstheme,{% set upstream_version = upstream_version('1.29.3') %},{% set upstream_version = upstream_version('1.29.2') %},1,1
openstack%2Fcharm-nova-lxd~stable%2F19.04~I699cbd3634256d13beba875710e47eb89cc9fbae,openstack/charm-nova-lxd,stable/19.04,I699cbd3634256d13beba875710e47eb89cc9fbae,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:15:22.000000000,2019-05-07 16:27:50.000000000,2019-05-07 16:27:50.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:15:22.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-nova-lxd/commit/5821038a351d02ab877cbfe4e49766de743f819e', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I699cbd3634256d13beba875710e47eb89cc9fbae\n'}]",0,657488,5821038a351d02ab877cbfe4e49766de743f819e,13,4,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I699cbd3634256d13beba875710e47eb89cc9fbae
",git fetch https://review.opendev.org/openstack/charm-nova-lxd refs/changes/88/657488/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5821038a351d02ab877cbfe4e49766de743f819e,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fkeystone~master~I9ac523ad7637b1ff1c6c49b75add387ca112f980,openstack/keystone,master,I9ac523ad7637b1ff1c6c49b75add387ca112f980,Fix werkzeug imports for version 0.15.x,MERGED,2019-04-10 03:00:32.000000000,2019-05-07 16:07:08.000000000,2019-04-22 18:44:16.000000000,"[{'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-04-10 03:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ea9a98c92ab26e1f2dde223bc5486c609216dc56', 'message': 'Fix werkzeug imports for version 0.15.x\n\nVersion 0.15.0 introduced some ""deprecation warning"" that cause a fatal\nerror and break all the unit tests. The new usage is not backwards\ncompatible, so this commit updates the module imports to accomodate both\nversions.\n\nChange-Id: I9ac523ad7637b1ff1c6c49b75add387ca112f980\n'}, {'number': 2, 'created': '2019-04-10 17:06:56.000000000', 'files': ['keystone/server/flask/application.py', 'keystone/server/flask/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/de07ad37fc1b4d99176d5e706c0179c7cf939958', 'message': 'Fix werkzeug imports for version 0.15.x\n\nVersion 0.15.0 introduced some ""deprecation warning"" that cause a fatal\nerror and break all the unit tests. The new usage is not backwards\ncompatible, so this commit updates the module imports to accomodate both\nversions.\n\nChange-Id: I9ac523ad7637b1ff1c6c49b75add387ca112f980\n'}]",8,651430,de07ad37fc1b4d99176d5e706c0179c7cf939958,16,5,2,8482,,,0,"Fix werkzeug imports for version 0.15.x

Version 0.15.0 introduced some ""deprecation warning"" that cause a fatal
error and break all the unit tests. The new usage is not backwards
compatible, so this commit updates the module imports to accomodate both
versions.

Change-Id: I9ac523ad7637b1ff1c6c49b75add387ca112f980
",git fetch https://review.opendev.org/openstack/keystone refs/changes/30/651430/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/server/flask/application.py', 'keystone/server/flask/core.py']",2,ea9a98c92ab26e1f2dde223bc5486c609216dc56,fix-werkzeug-for-real, try: # werkzeug 0.15.x from werkzeug.middleware import proxy_fix except ModuleNotFoundError: # werkzeug 0.14.x from werkzeug.contrib import fixers as proxy_fix # Apply werkzeug specific middleware app.wsgi_app = proxy_fix.ProxyFix(app.wsgi_app),from werkzeug.contrib import fixers # Apply werkzeug speficic middleware app.wsgi_app = fixers.ProxyFix(app.wsgi_app),17,5
openstack%2Ftripleo-ci~master~Id6bbf0da1c504dcf1bb09c9435c92e0f18c7c06b,openstack/tripleo-ci,master,Id6bbf0da1c504dcf1bb09c9435c92e0f18c7c06b,Do not run reset_connection meta with buildah,MERGED,2019-05-07 05:25:46.000000000,2019-05-07 16:05:56.000000000,2019-05-07 16:05:56.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-05-07 05:25:46.000000000', 'files': ['roles/build-containers/tasks/reset_connection.yaml', 'roles/build-containers/tasks/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2d17ead4a6f1f26412ab6ddd858e2e5013e9ba5a', 'message': ""Do not run reset_connection meta with buildah\n\nreset_connection is not needed when running container\nbuild with buildah.\n\nreset_conneciton doesn't work[1] with when condition and has\ndifferent behavior with different ansible versions:-\n- With ansible-2.5.15:- Fatal error\n- With ansible-2.7:- Warning\n\nSince the ansible version in RDO zuul is still 2.5 we\nneed to workaround by moving the meta task to different\nplay and include it in the main playbook.\n\n[1] https://github.com/ansible/ansible/issues/46275\n\nChange-Id: Id6bbf0da1c504dcf1bb09c9435c92e0f18c7c06b\n""}]",0,657526,2d17ead4a6f1f26412ab6ddd858e2e5013e9ba5a,8,8,1,13861,,,0,"Do not run reset_connection meta with buildah

reset_connection is not needed when running container
build with buildah.

reset_conneciton doesn't work[1] with when condition and has
different behavior with different ansible versions:-
- With ansible-2.5.15:- Fatal error
- With ansible-2.7:- Warning

Since the ansible version in RDO zuul is still 2.5 we
need to workaround by moving the meta task to different
play and include it in the main playbook.

[1] https://github.com/ansible/ansible/issues/46275

Change-Id: Id6bbf0da1c504dcf1bb09c9435c92e0f18c7c06b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/26/657526/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-containers/tasks/reset_connection.yaml', 'roles/build-containers/tasks/pre.yaml']",2,2d17ead4a6f1f26412ab6ddd858e2e5013e9ba5a,, - include_tasks: reset_connection.yaml when: not use_buildah | default(false) | bool, - name: Reset connection because of group changes for current user meta: reset_connection,5,2
openstack%2Fcinder~stable%2Fstein~Idda5512d8e35da401ee232524ec1d1fcd03bf9e2,openstack/cinder,stable/stein,Idda5512d8e35da401ee232524ec1d1fcd03bf9e2,3PAR: Provide an option duing creation of volume from snapshot,MERGED,2019-05-02 16:11:36.000000000,2019-05-07 16:03:07.000000000,2019-05-07 16:03:06.000000000,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 29122}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-02 16:11:36.000000000', 'files': ['cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bec06e6a71f359836d5a8a643112196336da3174', 'message': '3PAR: Provide an option duing creation of volume from snapshot\n\nA new extra spec has been added on the volume.\nWhile creating volume from snapshot, its value is checked and\nvolume is created either as a snapshot/independent copy.\n\nDetails of extra spec:\nName - hpe3par:convert_to_base\nValue - True/False; defaults to False\n\nTrue: Volume (from snapshot) is created independently\nAdvantage: new volumes are decoupled from initial snapshot and original\nvolume\nUsage: where instances are launched for longer/unpredictable time frame\n\nFalse: Volume (from snapshot) is created as child of snapshot\nAdvantage: new volumes can be created quickly\nUsage: where many similar instances are launched for short time frame\n\nChange-Id: Idda5512d8e35da401ee232524ec1d1fcd03bf9e2\nCloses-Bug: #1814027\n(cherry picked from commit f8084991284acfd8e0cd80ed456a83bcec6d5dcc)\n'}]",2,656802,bec06e6a71f359836d5a8a643112196336da3174,22,19,1,14892,,,0,"3PAR: Provide an option duing creation of volume from snapshot

A new extra spec has been added on the volume.
While creating volume from snapshot, its value is checked and
volume is created either as a snapshot/independent copy.

Details of extra spec:
Name - hpe3par:convert_to_base
Value - True/False; defaults to False

True: Volume (from snapshot) is created independently
Advantage: new volumes are decoupled from initial snapshot and original
volume
Usage: where instances are launched for longer/unpredictable time frame

False: Volume (from snapshot) is created as child of snapshot
Advantage: new volumes can be created quickly
Usage: where many similar instances are launched for short time frame

Change-Id: Idda5512d8e35da401ee232524ec1d1fcd03bf9e2
Closes-Bug: #1814027
(cherry picked from commit f8084991284acfd8e0cd80ed456a83bcec6d5dcc)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/656802/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",2,bec06e6a71f359836d5a8a643112196336da3174,bug/1814027-stable/stein," 4.0.11 - Added extra spec hpe3par:convert_to_base VERSION = ""4.0.11"" 'flash_cache', 'compression', 'group_replication', 'convert_to_base'] def _get_boolean_key_value(self, hpe3par_keys, key, default=False): value = self._get_key_value( hpe3par_keys, key, default) if isinstance(value, six.string_types): if value.lower() == 'true': value = True else: value = False return value # by default, set convert_to_base to False convert_to_base = self._get_boolean_key_value( hpe3par_keys, 'convert_to_base', False) 'group_replication': hpe3par_tiramisu, 'convert_to_base': convert_to_base} # by default, set convert_to_base to False convert_to_base = self._get_boolean_key_value( hpe3par_keys, 'convert_to_base', False) LOG.debug(""convert_to_base: %(convert)s"", {'convert': convert_to_base}) LOG.debug(""growth_size: %(size)s"", {'size': growth_size}) if growth_size > 0 or convert_to_base: # Convert snapshot volume to base volume type LOG.debug('Converting to base volume type: %(id)s.', {'id': volume['id']}) model_update = self._convert_to_base_volume(volume) else: LOG.debug(""volume is created as child of snapshot"") if snap.startswith('osv-'): LOG.info( ""Found a volume %(name)s"", {'name': snap}) # Get details of original volume v1 # These details would be required to form v2 s1_detail = self.client.getVolume(snap_name) v1_name = s1_detail.get('copyOf') v1 = self.client.getVolume(v1_name) # Get details of volume v2, # which is child of snapshot s1 v2_name = snap v2 = self.client.getVolume(v2_name) # Update v2 object as required for # _convert_to_base function v2['volume_type_id'] = \ self._get_3par_vol_comment_value( v1['comment'], 'volume_type_id') v2['id'] = self._get_3par_vol_comment_value( v2['comment'], 'volume_id') v2['host'] = '#' + v1['userCPG'] LOG.debug('Converting to base volume type: ' '%(id)s.', {'id': v2['id']}) self._convert_to_base_volume(v2) "," VERSION = ""4.0.10"" 'flash_cache', 'compression', 'group_replication'] 'group_replication': hpe3par_tiramisu} # Convert snapshot volume to base volume type LOG.debug('Converting to base volume type: %s.', volume['id']) model_update = self._convert_to_base_volume(volume) # Grow the snapshot if needed",285,58
openstack%2Fironic~stable%2Fstein~I10e02919e40d25bd4411f2b6f98f9317d1cfb187,openstack/ironic,stable/stein,I10e02919e40d25bd4411f2b6f98f9317d1cfb187,Do not try to create temporary URLs with zero lifetime,MERGED,2019-04-17 15:41:52.000000000,2019-05-07 15:56:47.000000000,2019-05-07 15:56:33.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28429}, {'_account_id': 29745}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-04-17 15:41:52.000000000', 'files': ['ironic/conf/conductor.py', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/zero-temp-url-c21e208f8933c6f6.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/46ce095a9ca2be10585aeed3b6790f239b8f5dff', 'message': 'Do not try to create temporary URLs with zero lifetime\n\nA new option is introduced for that, which defaults to the deploy timeout\nif it is set and to 1800 seconds if it is not.\n\nChange-Id: I10e02919e40d25bd4411f2b6f98f9317d1cfb187\nStory: #1653112\nTask: #9707\n(cherry picked from commit 2039138cfe2854b477f06d9185eddbdb264b649f)\n'}]",3,653475,46ce095a9ca2be10585aeed3b6790f239b8f5dff,54,10,1,10239,,,0,"Do not try to create temporary URLs with zero lifetime

A new option is introduced for that, which defaults to the deploy timeout
if it is set and to 1800 seconds if it is not.

Change-Id: I10e02919e40d25bd4411f2b6f98f9317d1cfb187
Story: #1653112
Task: #9707
(cherry picked from commit 2039138cfe2854b477f06d9185eddbdb264b649f)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/653475/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/conductor.py', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/zero-temp-url-c21e208f8933c6f6.yaml']",4,46ce095a9ca2be10585aeed3b6790f239b8f5dff,story/1653112-stable/stein,--- fixes: - | No longer tries to create a temporary URL with zero lifetime if the ``deploy_callback_timeout`` option is set to zero. The default of 1800 seconds is used in that case. Use the new ``configdrive_swift_temp_url_duration`` option to override. ,,73,1
openstack%2Fkolla-ansible~stable%2Frocky~Idc95306c50a09666ac0a12e975307a42aef9e352,openstack/kolla-ansible,stable/rocky,Idc95306c50a09666ac0a12e975307a42aef9e352,Check if glance_upgrading is defined before using it,MERGED,2019-04-29 08:05:40.000000000,2019-05-07 15:45:50.000000000,2019-05-07 15:45:50.000000000,"[{'_account_id': 14826}, {'_account_id': 16036}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 28367}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-29 08:05:40.000000000', 'files': ['ansible/roles/glance/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1d86b9a0b28c1c2bd5dba4d6b05fd80087b5c500', 'message': 'Check if glance_upgrading is defined before using it\n\nglance_upgrading variable is defined only during rolling upgrades, but\nits value is checked on every call to ""Restart glance-api container"" handler.\n\nCloses-Bug: #1826511\nChange-Id: Idc95306c50a09666ac0a12e975307a42aef9e352\n(cherry picked from commit f5b52608663bea5bbe1d58eff1a7bdfd21568173)\n'}]",0,656266,1d86b9a0b28c1c2bd5dba4d6b05fd80087b5c500,9,6,1,14826,,,0,"Check if glance_upgrading is defined before using it

glance_upgrading variable is defined only during rolling upgrades, but
its value is checked on every call to ""Restart glance-api container"" handler.

Closes-Bug: #1826511
Change-Id: Idc95306c50a09666ac0a12e975307a42aef9e352
(cherry picked from commit f5b52608663bea5bbe1d58eff1a7bdfd21568173)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/656266/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/glance/handlers/main.yml'],1,1d86b9a0b28c1c2bd5dba4d6b05fd80087b5c500,bug/1826511, or ( glance_upgrading is defined and glance_upgrading | bool ), or glance_upgrading | bool,1,1
openstack%2Felection~master~Ic97857e1dd14401ebcfef0776106f036b495d3f8,openstack/election,master,Ic97857e1dd14401ebcfef0776106f036b495d3f8,Sort team names in PTL election results,MERGED,2019-03-22 19:32:32.000000000,2019-05-07 15:25:08.000000000,2019-05-07 15:25:08.000000000,"[{'_account_id': 6088}, {'_account_id': 12898}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-03-22 19:32:32.000000000', 'files': ['doc/source/_exts/ptl_announce.jinja', 'doc/source/_exts/ptl_archive.jinja'], 'web_link': 'https://opendev.org/openstack/election/commit/489246c0586bf55b14d7628c2db44a8638154696', 'message': 'Sort team names in PTL election results\n\nChange I9b9526e3a5ddd42545a086b4b7a0fe03923915ed sorted project teams\nfor the list of active PTL election candidates, but did not go far\nenough to also sort the teams in the final results of the election.\n\nChange-Id: Ic97857e1dd14401ebcfef0776106f036b495d3f8\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,645858,489246c0586bf55b14d7628c2db44a8638154696,12,5,1,11904,,,0,"Sort team names in PTL election results

Change I9b9526e3a5ddd42545a086b4b7a0fe03923915ed sorted project teams
for the list of active PTL election candidates, but did not go far
enough to also sort the teams in the final results of the election.

Change-Id: Ic97857e1dd14401ebcfef0776106f036b495d3f8
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/election refs/changes/58/645858/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_exts/ptl_announce.jinja', 'doc/source/_exts/ptl_archive.jinja']",2,489246c0586bf55b14d7628c2db44a8638154696,result_sort,{% for project in projects|sort %}{% for project in projects|sort %}{% if project in elections_results %}{% for project in projects|sort %},{% for project in projects %}{% for project in projects %}{% if project in elections_results %}{% for project in projects %},4,4
openstack%2Fneutron~master~Iac5757fccc6485b100a4ad9c24d0573eb22f3197,openstack/neutron,master,Iac5757fccc6485b100a4ad9c24d0573eb22f3197,Fistro,ABANDONED,2019-05-07 14:38:36.000000000,2019-05-07 15:22:16.000000000,,[{'_account_id': 15752}],"[{'number': 1, 'created': '2019-05-07 14:38:36.000000000', 'files': ['neutron/privileged/__init__.py', 'neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aeb6f33e14bcf5a8401ec30a8d3e61a20840b20a', 'message': 'Fistro\n\nChange-Id: Iac5757fccc6485b100a4ad9c24d0573eb22f3197\n'}]",0,657615,aeb6f33e14bcf5a8401ec30a8d3e61a20840b20a,3,1,1,16688,,,0,"Fistro

Change-Id: Iac5757fccc6485b100a4ad9c24d0573eb22f3197
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/657615/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/privileged/__init__.py', 'neutron/privileged/agent/linux/ip_lib.py']",2,aeb6f33e14bcf5a8401ec30a8d3e61a20840b20a,DNM_privsep_breakdown,@privileged.ip_commands.entrypoint,@privileged.default.entrypoint,9,1
openstack%2Ftripleo-heat-templates~master~If35aec24f446769fca7897c2126fb6657454f073,openstack/tripleo-heat-templates,master,If35aec24f446769fca7897c2126fb6657454f073,Switch off nova metadata api on the undercloud,MERGED,2019-04-30 20:15:20.000000000,2019-05-07 15:15:30.000000000,2019-05-02 21:40:41.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-04-30 20:15:20.000000000', 'files': ['environments/undercloud.yaml', 'roles_data_undercloud.yaml', 'roles/Undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/28a675dea5444ddb6de34fbdfc5599702e03cef5', 'message': 'Switch off nova metadata api on the undercloud\n\nAll known consumers of boot data (os-collect-config, etc) have a\npreference for using config-drive as the data source.\n\nThe last known consumer was novajoin, but that switched to preferring\nconfig-drive early in the Stein development cycle[1] so it should now\nbe safe to switch off the nova metadata API service.\n\n[1] https://review.opendev.org/#/c/607492/\nBlueprint: nova-less-deploy\n\nChange-Id: If35aec24f446769fca7897c2126fb6657454f073\n'}]",0,656581,28a675dea5444ddb6de34fbdfc5599702e03cef5,15,7,1,4571,,,0,"Switch off nova metadata api on the undercloud

All known consumers of boot data (os-collect-config, etc) have a
preference for using config-drive as the data source.

The last known consumer was novajoin, but that switched to preferring
config-drive early in the Stein development cycle[1] so it should now
be safe to switch off the nova metadata API service.

[1] https://review.opendev.org/#/c/607492/
Blueprint: nova-less-deploy

Change-Id: If35aec24f446769fca7897c2126fb6657454f073
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/656581/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/undercloud.yaml', 'roles_data_undercloud.yaml', 'roles/Undercloud.yaml']",3,28a675dea5444ddb6de34fbdfc5599702e03cef5,bp/nova-less-deploy,, - OS::TripleO::Services::NovaMetadata,3,5
openstack%2Ftripleo-heat-templates~master~I9033ee1ff228fd390f6fe816a1bf16b19424f931,openstack/tripleo-heat-templates,master,I9033ee1ff228fd390f6fe816a1bf16b19424f931,WIP - Deploy pacemaker by default on the overcloud,ABANDONED,2019-05-07 07:23:45.000000000,2019-05-07 15:08:55.000000000,,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-07 07:23:45.000000000', 'files': ['plan-environment.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5bd51dba89ca1aebcce2ad874405e7886b946d70', 'message': 'WIP - Deploy pacemaker by default on the overcloud\n\nChange-Id: I9033ee1ff228fd390f6fe816a1bf16b19424f931\n'}]",1,657538,5bd51dba89ca1aebcce2ad874405e7886b946d70,7,4,1,3153,,,0,"WIP - Deploy pacemaker by default on the overcloud

Change-Id: I9033ee1ff228fd390f6fe816a1bf16b19424f931
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/657538/1 && git format-patch -1 --stdout FETCH_HEAD,['plan-environment.yaml'],1,5bd51dba89ca1aebcce2ad874405e7886b946d70,pacemaker/default, - path: environments/docker-ha.yaml,,1,0
openstack%2Fdiskimage-builder~master~I8f8711044fc4074b91939e0a6dfdac4d7a14a35b,openstack/diskimage-builder,master,I8f8711044fc4074b91939e0a6dfdac4d7a14a35b,Use fedora-release-common for fedora 30+,MERGED,2019-05-02 23:58:50.000000000,2019-05-07 15:07:40.000000000,2019-05-07 14:16:41.000000000,"[{'_account_id': 4162}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-02 23:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2292ffa02139f8b356982dba83bbbccb8a9c120d', 'message': 'Use fedora-release-common for fedora 30+\n\nIt looks like fedora-release on fedora 30+ has been split into sub\npackages. Use fedora-release-common to avoid package conflicts.\n\nChange-Id: I8f8711044fc4074b91939e0a6dfdac4d7a14a35b\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2019-05-03 00:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f0c7112ff4663e083e363ae8eca6fa8edc71429c', 'message': 'Use fedora-release-common for fedora 30+\n\nIt looks like fedora-release on fedora 30+ has been split into sub\npackages. Use fedora-release-common to avoid package conflicts.\n\nChange-Id: I8f8711044fc4074b91939e0a6dfdac4d7a14a35b\nDepends-On: https://review.opendev.org/656608\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 3, 'created': '2019-05-03 02:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c173ba72dda5be18e3cd0efde022e3ba62901682', 'message': 'Use fedora-release-common for fedora 30+\n\nIt looks like fedora-release on fedora 30+ has been split into sub\npackages. Use fedora-release-common to avoid package conflicts.\n\nChange-Id: I8f8711044fc4074b91939e0a6dfdac4d7a14a35b\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 4, 'created': '2019-05-04 17:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/dfb5586cdce18703cc41827358e0084db0553d2a', 'message': 'Use fedora-release-common for fedora 30+\n\nIt looks like fedora-release on fedora 30+ has been split into sub\npackages. Use fedora-release-common to avoid package conflicts.\n\nChange-Id: I8f8711044fc4074b91939e0a6dfdac4d7a14a35b\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 5, 'created': '2019-05-07 12:08:50.000000000', 'files': ['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5d60979e932fd8b81021dac8e5a8e56207f6a561', 'message': 'Use fedora-release-common for fedora 30+\n\nIt looks like fedora-release on fedora 30+ has been split into sub\npackages. Use fedora-release-common to avoid package conflicts.\n\nChange-Id: I8f8711044fc4074b91939e0a6dfdac4d7a14a35b\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,656905,5d60979e932fd8b81021dac8e5a8e56207f6a561,21,5,5,4162,,,0,"Use fedora-release-common for fedora 30+

It looks like fedora-release on fedora 30+ has been split into sub
packages. Use fedora-release-common to avoid package conflicts.

Change-Id: I8f8711044fc4074b91939e0a6dfdac4d7a14a35b
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/05/656905/5 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot'],1,2292ffa02139f8b356982dba83bbbccb8a9c120d,," if [[ ${DISTRO_NAME} = fedora && ${DIB_RELEASE} -gt 29 ]]; then packages+=""${DISTRO_NAME}-release-common "" else packages+=""${DISTRO_NAME}-release "" fi"," packages+=""${DISTRO_NAME}-release """,5,1
openstack%2Fcharm-swift-proxy~master~I2ee8cb968ae2cf34558546b1be6be5273c2f52d3,openstack/charm-swift-proxy,master,I2ee8cb968ae2cf34558546b1be6be5273c2f52d3,Add S3 SigV4 location support,MERGED,2019-03-29 14:06:22.000000000,2019-05-07 15:05:38.000000000,2019-05-07 15:05:38.000000000,"[{'_account_id': 6737}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-29 14:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/778df98eac82991e16822b49453ba283a58178fc', 'message': 'Add S3 SigV4 location support\n\nChange-Id: I2ee8cb968ae2cf34558546b1be6be5273c2f52d3\nCloses-Bug: #1822322\n'}, {'number': 2, 'created': '2019-03-29 14:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/5e235ccf698f25c73f8b14a79b153bc772ac01ac', 'message': 'Add S3 SigV4 location support\n\nChange-Id: I2ee8cb968ae2cf34558546b1be6be5273c2f52d3\nCloses-Bug: #1822322\n'}, {'number': 3, 'created': '2019-05-03 10:16:37.000000000', 'files': ['lib/swift_utils.py', 'templates/rocky/proxy-server.conf', 'templates/queens/proxy-server.conf', 'lib/swift_context.py', 'unit_tests/test_swift_context.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/cc280d9dcb9259c203481029df80524c6c458d3a', 'message': 'Add S3 SigV4 location support\n\nChange-Id: I2ee8cb968ae2cf34558546b1be6be5273c2f52d3\nCloses-Bug: #1822322\n'}]",0,648695,cc280d9dcb9259c203481029df80524c6c458d3a,16,4,3,6737,,,0,"Add S3 SigV4 location support

Change-Id: I2ee8cb968ae2cf34558546b1be6be5273c2f52d3
Closes-Bug: #1822322
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/95/648695/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/swift_utils.py', 'config.yaml', 'templates/rocky/proxy-server.conf', 'templates/queens/proxy-server.conf', 'lib/swift_context.py', 'unit_tests/test_swift_context.py']",6,778df98eac82991e16822b49453ba283a58178fc,bug/1822322," class SwiftS3ContextTestCase(unittest.TestCase): @mock.patch('lib.swift_context.os_release') @mock.patch('lib.swift_context.config') def test_location(self, mock_config, mock_os_release): cfg = {'location': 'London'} def fake_config(key): return cfg.get(key) mock_config.side_effect = fake_config mock_os_release.return_value = 'queens' ctxt = swift_context.SwiftS3Context() self.assertEqual({'location': 'London'}, ctxt()) mock_os_release.return_value = 'pike' ctxt = swift_context.SwiftS3Context() self.assertEqual({}, ctxt())",,50,1
openstack%2Fhorizon~master~I06d5252c8f7bd955025587393f5d8ff00fe01c3b,openstack/horizon,master,I06d5252c8f7bd955025587393f5d8ff00fe01c3b,Remove ENABLE_FLAVOR_EDIT config option,MERGED,2019-05-03 04:27:15.000000000,2019-05-07 14:56:53.000000000,2019-05-07 14:56:53.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-05-03 04:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d42da1a5aa880819b057fbf14c84fb6fc28d7c16', 'message': 'Remove ENABLE_FLAVOR_EDIT config option\n\nENABLE_FLAVOR_EDIT is deprecated since Pike release and is not used\nanywhere.\n\nChange-Id: I06d5252c8f7bd955025587393f5d8ff00fe01c3b\n'}, {'number': 2, 'created': '2019-05-04 15:36:51.000000000', 'files': ['openstack_dashboard/management/commands/upgrade_check.py', 'doc/source/configuration/settings.rst', 'releasenotes/notes/remove-enable-flavor-edit-config-option-0733b2ebb2ee1b4d.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/0e518521c8e9b882e2fa778e46a11c6026f52eb7', 'message': 'Remove ENABLE_FLAVOR_EDIT config option\n\nENABLE_FLAVOR_EDIT is deprecated since Pike release and is not used\nanywhere.\n\nChange-Id: I06d5252c8f7bd955025587393f5d8ff00fe01c3b\n'}]",1,656919,0e518521c8e9b882e2fa778e46a11c6026f52eb7,11,4,2,1736,,,0,"Remove ENABLE_FLAVOR_EDIT config option

ENABLE_FLAVOR_EDIT is deprecated since Pike release and is not used
anywhere.

Change-Id: I06d5252c8f7bd955025587393f5d8ff00fe01c3b
",git fetch https://review.opendev.org/openstack/horizon refs/changes/19/656919/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/management/commands/upgrade_check.py', 'doc/source/configuration/settings.rst', 'releasenotes/notes/remove-enable-flavor-edit-config-option-0733b2ebb2ee1b4d.yaml']",3,d42da1a5aa880819b057fbf14c84fb6fc28d7c16,remove-ENABLE_FLAVOR_EDIT,--- upgrade: - | Deprecated config option ENABLE_FLAVOR_EDIT is removed since Train release. ,,6,24
openstack%2Fopenstack-ansible-openstack_hosts~master~I4da59a479c8b512865386213a3c7b69078589267,openstack/openstack-ansible-openstack_hosts,master,I4da59a479c8b512865386213a3c7b69078589267,debian: switch to generic version,MERGED,2019-05-06 00:04:13.000000000,2019-05-07 14:54:26.000000000,2019-05-07 14:54:26.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-05-06 00:04:13.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/5ae041b6d05cb218357290e4844adc726d24fb75', 'message': 'debian: switch to generic version\n\nThis patch moves Debian to a generic version as well as makes\nthe conntrack modules only used/added for older kernels that\nneed it.\n\nChange-Id: I4da59a479c8b512865386213a3c7b69078589267\n'}]",0,657290,5ae041b6d05cb218357290e4844adc726d24fb75,7,3,1,1004,,,0,"debian: switch to generic version

This patch moves Debian to a generic version as well as makes
the conntrack modules only used/added for older kernels that
need it.

Change-Id: I4da59a479c8b512865386213a3c7b69078589267
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/90/657290/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,5ae041b6d05cb218357290e4844adc726d24fb75,osa/debian-support," # NOTE(mnaser): 4.19 kernel merged nf_conntrack_ipv{4,6} into nf_conntrack - name: ""{% if hostvars[inventory_hostname]['ansible_kernel'] | version_compare('4.19.0', '<=') %}nf_conntrack_ipv4{% endif %}"" - name: ""{% if hostvars[inventory_hostname]['ansible_kernel'] | version_compare('4.19.0', '<=') %}nf_conntrack_ipv6{% endif %}""", - name: nf_conntrack_ipv4 - name: nf_conntrack_ipv6,3,2
openstack%2Felection~master~I43ee066394d1307540d22f977b071616870f2166,openstack/election,master,I43ee066394d1307540d22f977b071616870f2166,Clarify --help for setup-election-config tool,MERGED,2019-05-04 15:23:43.000000000,2019-05-07 14:47:32.000000000,2019-05-07 14:47:31.000000000,"[{'_account_id': 6088}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-04 15:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/02c84b76341deb0724fb3cd87b8cc94779c6cbe7', 'message': 'Add date format to help for setup-election-config\n\nAdd some basic format info to make it clear how to use the\nsetup-election-config tool.\n\nChange-Id: I43ee066394d1307540d22f977b071616870f2166\n'}, {'number': 2, 'created': '2019-05-04 15:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/a45dd5a57db984d01906b16f4429798b412cd6ab', 'message': 'Clarify --help for setup-election-config tool\n\nAdd some basic info to make it clear how to use the\nsetup-election-config tool.\n\nChange-Id: I43ee066394d1307540d22f977b071616870f2166\n'}, {'number': 3, 'created': '2019-05-04 16:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/b5c689eda76fbd6d47ce8e04e384406edf69befc', 'message': 'Clarify --help for setup-election-config tool\n\nAdd some basic info to make it clear how to use the\nsetup-election-config tool.\n\nChange-Id: I43ee066394d1307540d22f977b071616870f2166\n'}, {'number': 4, 'created': '2019-05-04 16:43:38.000000000', 'files': ['openstack_election/cmds/setup_election_config.py'], 'web_link': 'https://opendev.org/openstack/election/commit/fba623a4cd41dc037b5b2a25ac40284bcd363a03', 'message': 'Clarify --help for setup-election-config tool\n\nAdd some basic info to make it clear how to use the\nsetup-election-config tool.\n\nChange-Id: I43ee066394d1307540d22f977b071616870f2166\n'}]",0,657122,fba623a4cd41dc037b5b2a25ac40284bcd363a03,13,3,4,2799,,,0,"Clarify --help for setup-election-config tool

Add some basic info to make it clear how to use the
setup-election-config tool.

Change-Id: I43ee066394d1307540d22f977b071616870f2166
",git fetch https://review.opendev.org/openstack/election refs/changes/22/657122/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_election/cmds/setup_election_config.py'],1,02c84b76341deb0724fb3cd87b8cc94779c6cbe7,election," parser.add_argument('date', type=valid_date, help='in the form YYYY-MM-DD') parser.add_argument('release', help='release name')"," parser.add_argument('date', type=valid_date) parser.add_argument('release')",2,2
openstack%2Felection~master~I5b8d37d1c66fd96564741aa0aa69cc840ad39950,openstack/election,master,I5b8d37d1c66fd96564741aa0aa69cc840ad39950,Only check Candidates during Active election,MERGED,2019-05-04 16:37:59.000000000,2019-05-07 14:46:53.000000000,2019-05-07 14:46:53.000000000,"[{'_account_id': 6088}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-04 16:37:59.000000000', 'files': ['openstack_election/cmds/ci_check_all_candidate_files.py'], 'web_link': 'https://opendev.org/openstack/election/commit/8e021580ad84414e9e3212eee088b4ccde79f2d8', 'message': ""Only check Candidates during Active election\n\nThe CI jobs will fail outside of election time due to name mismatches,\nbut we don't need to run an election candidate CI job when there is no\nactive election.\n\nChange-Id: I5b8d37d1c66fd96564741aa0aa69cc840ad39950\n""}]",0,657134,8e021580ad84414e9e3212eee088b4ccde79f2d8,7,3,1,2799,,,0,"Only check Candidates during Active election

The CI jobs will fail outside of election time due to name mismatches,
but we don't need to run an election candidate CI job when there is no
active election.

Change-Id: I5b8d37d1c66fd96564741aa0aa69cc840ad39950
",git fetch https://review.opendev.org/openstack/election refs/changes/34/657134/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_election/cmds/ci_check_all_candidate_files.py'],1,8e021580ad84414e9e3212eee088b4ccde79f2d8,election, if not utils.election_is_running(): print('no current active election') return 0 ,,4,0
openstack%2Fcharm-ceph-radosgw~master~I291fb02e1439a224ed91f0d7d2bd80115b73671a,openstack/charm-ceph-radosgw,master,I291fb02e1439a224ed91f0d7d2bd80115b73671a,Charmhelper sync and corresponding unit test fix.,MERGED,2019-05-07 13:39:02.000000000,2019-05-07 14:44:07.000000000,2019-05-07 14:44:07.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-07 13:39:02.000000000', 'files': ['unit_tests/test_ceph_radosgw_context.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-v3only'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/1c8dcc17b5e5a14485a95b1b205d1d60616005f8', 'message': 'Charmhelper sync and corresponding unit test fix.\n\nChange-Id: I291fb02e1439a224ed91f0d7d2bd80115b73671a\n'}]",0,657599,1c8dcc17b5e5a14485a95b1b205d1d60616005f8,7,3,1,12549,,,0,"Charmhelper sync and corresponding unit test fix.

Change-Id: I291fb02e1439a224ed91f0d7d2bd80115b73671a
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/99/657599/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ceph_radosgw_context.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-v3only', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications']",6,1c8dcc17b5e5a14485a95b1b205d1d60616005f8,bugs/fix-unit-tests,driver = {{ oslo_messaging_driver }}[notifications],driver = messagingv2,111,7
openstack%2Foctavia-tempest-plugin~master~I269da85a9a7adabce340aa436d9457b12dee6e36,openstack/octavia-tempest-plugin,master,I269da85a9a7adabce340aa436d9457b12dee6e36,Drop requirement on octavia-lib,MERGED,2019-05-02 18:32:10.000000000,2019-05-07 14:43:41.000000000,2019-05-07 14:43:41.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 18:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/9757d740e220523371e5941f0c4ca6ec51573b5b', 'message': 'Drop requirement on octavia-lib\n\noctavia-lib is only required to get a constant which actually should be\nin the octavia-tempest-plugin codebase like other protocols are.\n\nDoing so allow us to run the barbican tempest test against stable\nbranches.\n\nChange-Id: I269da85a9a7adabce340aa436d9457b12dee6e36\n'}, {'number': 2, 'created': '2019-05-02 19:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e81f518b10dfc0c8e3fd41fe647bfd8571a46a90', 'message': 'Drop requirement on octavia-lib\n\noctavia-lib is only required to get a constant which actually should be\nin the octavia-tempest-plugin codebase like other protocols are.\n\nDoing so allow us to run the barbican tempest test against stable\nbranches.\n\nChange-Id: I269da85a9a7adabce340aa436d9457b12dee6e36\n'}, {'number': 3, 'created': '2019-05-02 19:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b8cda50863fccfa74b36506083e96514e4cb615c', 'message': 'Drop requirement on octavia-lib\n\noctavia-lib is only required to get a constant which actually should be\nin the octavia-tempest-plugin codebase like other protocols are.\n\nDoing so allow us to run the barbican tempest test against stable\nbranches.\n\nChange-Id: I269da85a9a7adabce340aa436d9457b12dee6e36\n'}, {'number': 4, 'created': '2019-05-03 17:28:22.000000000', 'files': ['requirements.txt', 'octavia_tempest_plugin/common/constants.py', 'octavia_tempest_plugin/tests/barbican_scenario/v2/test_tls_barbican.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/9777f1154e15207e9f369d1bea4d5dbe11241f7b', 'message': 'Drop requirement on octavia-lib\n\noctavia-lib is only required to get a constant which actually should be\nin the octavia-tempest-plugin codebase like other protocols are.\n\nChange-Id: I269da85a9a7adabce340aa436d9457b12dee6e36\n'}]",2,656845,9777f1154e15207e9f369d1bea4d5dbe11241f7b,17,4,4,6469,,,0,"Drop requirement on octavia-lib

octavia-lib is only required to get a constant which actually should be
in the octavia-tempest-plugin codebase like other protocols are.

Change-Id: I269da85a9a7adabce340aa436d9457b12dee6e36
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/45/656845/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'octavia_tempest_plugin/common/constants.py', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml', 'octavia_tempest_plugin/tests/barbican_scenario/v2/test_tls_barbican.py']",5,9757d740e220523371e5941f0c4ca6ec51573b5b,656845, const.PROTOCOL: const.TERMINATED_HTTPS,"from octavia_lib.common import constants as lib_consts const.PROTOCOL: lib_consts.PROTOCOL_TERMINATED_HTTPS,",23,5
openstack%2Fcharm-manila~stable%2F19.04~I3bf99b82d87337558163020abc3eaba2c704af56,openstack/charm-manila,stable/19.04,I3bf99b82d87337558163020abc3eaba2c704af56,Update stable charms to use stable CH in test reqs,ABANDONED,2019-05-06 23:15:30.000000000,2019-05-07 14:35:59.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:15:30.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/d03b8accaed37a8e6943c1bac39870afb75147e7', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I3bf99b82d87337558163020abc3eaba2c704af56\n'}]",0,657489,d03b8accaed37a8e6943c1bac39870afb75147e7,5,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I3bf99b82d87337558163020abc3eaba2c704af56
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/89/657489/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,d03b8accaed37a8e6943c1bac39870afb75147e7,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-manila-generic~stable%2F19.04~If2b7bf93244a302718a42da8eff6ec2f643973fd,openstack/charm-manila-generic,stable/19.04,If2b7bf93244a302718a42da8eff6ec2f643973fd,Update stable charms to use stable CH in test reqs,ABANDONED,2019-05-06 23:15:38.000000000,2019-05-07 14:35:51.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:15:38.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/2a2cf4ff16a5971f553dc360f29987a44dcbc6fc', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: If2b7bf93244a302718a42da8eff6ec2f643973fd\n'}]",0,657490,2a2cf4ff16a5971f553dc360f29987a44dcbc6fc,5,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: If2b7bf93244a302718a42da8eff6ec2f643973fd
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/90/657490/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,2a2cf4ff16a5971f553dc360f29987a44dcbc6fc,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fvitrage~master~If24a299b56c30e49d556058c18519bfee06b6e66,openstack/vitrage,master,If24a299b56c30e49d556058c18519bfee06b6e66,Make vitrage-api wrap uWSGI,MERGED,2019-05-05 13:24:40.000000000,2019-05-07 14:22:37.000000000,2019-05-07 14:22:37.000000000,"[{'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 19184}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-05 13:24:40.000000000', 'files': ['vitrage/api/app.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/c5b0d78b6fb16081eac9c432ba49f9194f1a950d', 'message': 'Make vitrage-api wrap uWSGI\n\nWhen running vitrage-api as a standalone\nit uses a development server which is not suitable for\nproduction. Many use this in production if uWSGI is installed\nlets use uWSGI instead. if not then run the development server\nand print a warning\n\nChange-Id: If24a299b56c30e49d556058c18519bfee06b6e66\n'}]",0,657272,c5b0d78b6fb16081eac9c432ba49f9194f1a950d,11,4,1,19134,,,0,"Make vitrage-api wrap uWSGI

When running vitrage-api as a standalone
it uses a development server which is not suitable for
production. Many use this in production if uWSGI is installed
lets use uWSGI instead. if not then run the development server
and print a warning

Change-Id: If24a299b56c30e49d556058c18519bfee06b6e66
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/72/657272/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage/api/app.py'],1,c5b0d78b6fb16081eac9c432ba49f9194f1a950d,eyalb/uwsgi,"import mathfrom os import path import sysfrom distutils import spawn uwsgi = spawn.find_executable(""uwsgi"") if not uwsgi: LOG.warning('uwsgi not installed, starting a TEST server') build_simple_server(conf) else: build_uwsgi_server(conf, uwsgi) def wsgi_file(): return path.join(path.dirname(__file__), 'app.wsgi') def build_uwsgi_server(conf, uwsgi): args = [ ""--if-not-plugin"", ""python"", ""--plugin"", ""python"", ""--endif"", ""--http-socket"", ""%s:%d"" % (conf.api.host, conf.api.port), ""--master"", ""--enable-threads"", ""--thunder-lock"", ""--hook-master-start"", ""unix_signal:15 gracefully_kill_them_all"", ""--die-on-term"", ""--processes"", str(math.floor(conf.api.workers * 1.5)), ""--threads"", str(conf.api.workers), ""--lazy-apps"", ""--chdir"", ""/"", ""--wsgi-file"", wsgi_file(), ""--procname-prefix"", ""vitrage"", ""--pyargv"", "" "".join(sys.argv[1:]), ] virtual_env = os.getenv(""VIRTUAL_ENV"") if virtual_env is not None: args.extend([""-H"", os.getenv(""VIRTUAL_ENV"", ""."")]) return os.execl(uwsgi, uwsgi, *args) def build_simple_server(conf): LOG.info('""DANGER! For testing only, do not use in production""') ",,45,0
openstack%2Fovsdbapp~stable%2Fqueens~I6a3708b22b7f9c11af1960bfa6be7413e497534c,openstack/ovsdbapp,stable/queens,I6a3708b22b7f9c11af1960bfa6be7413e497534c,IP should be optional in lsp_set_addresses,MERGED,2019-05-07 10:52:52.000000000,2019-05-07 14:15:13.000000000,2019-05-07 14:15:13.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 27378}]","[{'number': 1, 'created': '2019-05-07 10:52:52.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/639905b030b1ee39c30852509277498d9b772456', 'message': 'IP should be optional in lsp_set_addresses\n\novsdbapp, unlike ovn-nbctl, does not allow address in lsp_set_addresses\nto be a MAC alone without an IP.\n\novn-nbctl.8 manual:\n""an  Ethernet  address, optionally followed by a space and one or\nmore IP addresses""\n\nWith this patch, IP address is optional.\n\nChange-Id: I6a3708b22b7f9c11af1960bfa6be7413e497534c\n(cherry picked from commit 124b52c4252da835a404f1cfa6cdd775978e4563)\n'}]",0,657568,639905b030b1ee39c30852509277498d9b772456,10,5,1,8655,,,0,"IP should be optional in lsp_set_addresses

ovsdbapp, unlike ovn-nbctl, does not allow address in lsp_set_addresses
to be a MAC alone without an IP.

ovn-nbctl.8 manual:
""an  Ethernet  address, optionally followed by a space and one or
more IP addresses""

With this patch, IP address is optional.

Change-Id: I6a3708b22b7f9c11af1960bfa6be7413e497534c
(cherry picked from commit 124b52c4252da835a404f1cfa6cdd775978e4563)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/68/657568/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py']",2,639905b030b1ee39c30852509277498d9b772456,2," for addr in ('dynamic', 'unknown', 'router', 'de:ad:be:ef:4d:ad', self.api.lsp_set_addresses, 'fake', 'invalidaddress')"," for addr in ('dynamic', 'unknown', 'router', self.api.lsp_set_addresses, 'fake', '01:02:03:04:05:06')",5,4
openstack%2Fneutron~master~Id5e6f2f8e9c31a7138da9cd6792e9d75845b81c5,openstack/neutron,master,Id5e6f2f8e9c31a7138da9cd6792e9d75845b81c5,Lock privileged.agent.linux.ip_lib functions,MERGED,2019-01-16 16:31:38.000000000,2019-05-07 13:59:48.000000000,2019-01-17 20:06:06.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9396}, {'_account_id': 9531}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-01-16 16:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a099d710bbf151817cc240920d8fefa4a606d0b', 'message': ""Lock privileged.agent.linux.ip_lib._get_iproute function\n\nIt is workaround of bug in pyroute2 library which, when\nrunning in multithread environment, sometimes have issues\nwith NetNS class.\nWhen NetNS.__init__() is called, it uses os.pipe() function to\ncreate 2 file descriptors which are used to communicated between\n2 processes.\nIn some cases when multiple threads are running it might happen\nthat in two instances of NetNS() class there will be same file\ndescriptors used and that leads to problems when one thread\ncloses file descriptor and second still wants to use it.\n\nWith this patch function which creates instances of NetNS class\nare locked thus there shouldn't be risk of using same file descriptors\nin 2 separate threads.\n\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: Id5e6f2f8e9c31a7138da9cd6792e9d75845b81c5\nCloses-Bug: #1811515\n""}, {'number': 2, 'created': '2019-01-16 17:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac32f1053a1546c122cfbb832bfee64a8c2f5cee', 'message': ""Lock privileged.agent.linux.ip_lib functions\n\nIt is workaround of bug in pyroute2 library which, when\nrunning in multithread environment, sometimes have issues\nwith NetNS class.\nWhen NetNS.__init__() is called, it uses os.pipe() function to\ncreate 2 file descriptors which are used to communicated between\n2 processes.\nIn some cases when multiple threads are running it might happen\nthat in two instances of NetNS() class there will be same file\ndescriptors used and that leads to problems when one thread\ncloses file descriptor and second still wants to use it.\n\nWith this patch functions which uses instance of pyroute2.NetNS class\nare locked thus there shouldn't be risk of using same file descriptors\nin 2 separate threads.\n\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: Id5e6f2f8e9c31a7138da9cd6792e9d75845b81c5\nCloses-Bug: #1811515\n""}, {'number': 3, 'created': '2019-01-16 21:47:00.000000000', 'files': ['neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/284afcf24f2dfd3af20a803ada79c69205249f25', 'message': ""Lock privileged.agent.linux.ip_lib functions\n\nIt is workaround of bug in pyroute2 library which, when\nrunning in multithread environment, sometimes have issues\nwith NetNS class.\nWhen NetNS.__init__() is called, it uses os.pipe() function to\ncreate 2 file descriptors which are used to communicated between\n2 processes.\nIn some cases when multiple threads are running it might happen\nthat in two instances of NetNS() class there will be same file\ndescriptors used and that leads to problems when one thread\ncloses file descriptor and second still wants to use it.\n\nWith this patch functions which uses instance of pyroute2.NetNS class\nare locked thus there shouldn't be risk of using same file descriptors\nin 2 separate threads.\n\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: Id5e6f2f8e9c31a7138da9cd6792e9d75845b81c5\nCloses-Bug: #1811515\n""}]",0,631275,284afcf24f2dfd3af20a803ada79c69205249f25,40,11,3,11975,,,0,"Lock privileged.agent.linux.ip_lib functions

It is workaround of bug in pyroute2 library which, when
running in multithread environment, sometimes have issues
with NetNS class.
When NetNS.__init__() is called, it uses os.pipe() function to
create 2 file descriptors which are used to communicated between
2 processes.
In some cases when multiple threads are running it might happen
that in two instances of NetNS() class there will be same file
descriptors used and that leads to problems when one thread
closes file descriptor and second still wants to use it.

With this patch functions which uses instance of pyroute2.NetNS class
are locked thus there shouldn't be risk of using same file descriptors
in 2 separate threads.

Co-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>

Change-Id: Id5e6f2f8e9c31a7138da9cd6792e9d75845b81c5
Closes-Bug: #1811515
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/631275/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/privileged/agent/linux/ip_lib.py'],1,1a099d710bbf151817cc240920d8fefa4a606d0b,bug/1811515,"from oslo_concurrency import lockutils# NOTE(slaweq): Because of issue with pyroute2.NetNS objects running in threads # we need to lock this function to workaround this issue. # For details please check https://bugs.launchpad.net/neutron/+bug/1811515 @lockutils.synchronized(""privileged-ip-lib"")# NOTE(slaweq): Because of issue with pyroute2.NetNS objects running in threads # we need to lock this function to workaround this issue. # For details please check https://bugs.launchpad.net/neutron/+bug/1811515 @lockutils.synchronized(""privileged-ip-lib"")",,9,0
openstack%2Ftripleo-heat-templates~master~I89062275541d7c6bb6fb725f5283ba59feb38a94,openstack/tripleo-heat-templates,master,I89062275541d7c6bb6fb725f5283ba59feb38a94,Enable ndisc_notify sysctl setting to notify of MAC changes,MERGED,2019-05-06 18:45:23.000000000,2019-05-07 13:55:25.000000000,2019-05-07 03:21:08.000000000,"[{'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-05-06 18:45:23.000000000', 'files': ['deployment/kernel/kernel-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b113a7a1287f30e0e57abf4e3c74870d4720534', 'message': 'Enable ndisc_notify sysctl setting to notify of MAC changes\n\nOn RHEL/CentOS systems, ndisc_notify is disabled by default. When\nOVS restarts or an internal port flaps, the MAC address may change.\nWithout ndisc_notify, neighbor hosts on the same network will not\nknow about the MAC change, and will lose connectivity until the MAC\ntimer expires.\n\nThis change sets net.ipv6.conf.all.ndisc_notify to 1, which will\ncause a gratuitous neighbor discovery packet which will update MAC\naddress tables on neighboring hosts.\n\nChange-Id: I89062275541d7c6bb6fb725f5283ba59feb38a94\nCloses-bug: 1827927\n'}]",0,657429,4b113a7a1287f30e0e57abf4e3c74870d4720534,10,5,1,12398,,,0,"Enable ndisc_notify sysctl setting to notify of MAC changes

On RHEL/CentOS systems, ndisc_notify is disabled by default. When
OVS restarts or an internal port flaps, the MAC address may change.
Without ndisc_notify, neighbor hosts on the same network will not
know about the MAC change, and will lose connectivity until the MAC
timer expires.

This change sets net.ipv6.conf.all.ndisc_notify to 1, which will
cause a gratuitous neighbor discovery packet which will update MAC
address tables on neighboring hosts.

Change-Id: I89062275541d7c6bb6fb725f5283ba59feb38a94
Closes-bug: 1827927
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/657429/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/kernel/kernel-baremetal-puppet.yaml'],1,4b113a7a1287f30e0e57abf4e3c74870d4720534,bug/1827927, net.ipv6.conf.all.ndisc_notify: value: 1,,2,0
openstack%2Ftripleo-heat-templates~master~Ic2fb3291de78891d05ef12e3778263fe74fbff8c,openstack/tripleo-heat-templates,master,Ic2fb3291de78891d05ef12e3778263fe74fbff8c,Use timesync service,MERGED,2019-05-03 20:37:26.000000000,2019-05-07 13:52:17.000000000,2019-05-06 23:29:11.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 17130}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-03 20:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/12ad703da590fb0ce85792ecc9d0423482ad51b5', 'message': 'Use timesync service\n\nThe Ntp service should no longer defined on the roles as we should be\nusing the meta Timesync service to ensure the correct service is defined\nfor the sync service.\n\nChange-Id: Ic2fb3291de78891d05ef12e3778263fe74fbff8c\nRelated-Blueprint: tripleo-chrony\n'}, {'number': 2, 'created': '2019-05-03 20:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d50c874ad2be83e8fcb22b63b3fb6b6f5c54c828', 'message': 'Use timesync service\n\nThe Ntp service should no longer defined on the roles as we should be\nusing the meta Timesync service to ensure the correct service is defined\nfor the sync service.\n\nChange-Id: Ic2fb3291de78891d05ef12e3778263fe74fbff8c\nRelated-Blueprint: tripleo-chrony\nCloses-Bug: #1827676\n'}, {'number': 3, 'created': '2019-05-03 20:42:24.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario012-multinode-containers.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'ci/environments/scenario002-multinode-containers.yaml', 'ci/environments/scenario004-multinode-containers.yaml', 'ci/environments/scenario009-multinode.yaml', 'ci/environments/scenario006-multinode.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'ci/environments/multinode-3nodes.yaml', 'ci/environments/scenario000-multinode-containers.yaml', 'ci/environments/scenario006-multinode-containers.yaml', 'ci/environments/scenario008-multinode-containers.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/CellController.yaml', 'ci/environments/multinode-containers.yaml', 'roles/ControllerOpenstack.yaml', 'ci/environments/scenario003-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90562b6f5d17240e59a7f229091e704da2c0ff62', 'message': 'Use timesync service\n\nThe Ntp service should no longer defined on the roles as we should be\nusing the meta Timesync service to ensure the correct service is defined\nfor the sync service.\n\nChange-Id: Ic2fb3291de78891d05ef12e3778263fe74fbff8c\nRelated-Blueprint: tripleo-chrony\nCloses-Bug: #1827676\n'}]",0,657035,90562b6f5d17240e59a7f229091e704da2c0ff62,13,6,3,14985,,,0,"Use timesync service

The Ntp service should no longer defined on the roles as we should be
using the meta Timesync service to ensure the correct service is defined
for the sync service.

Change-Id: Ic2fb3291de78891d05ef12e3778263fe74fbff8c
Related-Blueprint: tripleo-chrony
Closes-Bug: #1827676
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/657035/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario012-multinode-containers.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'ci/environments/scenario002-multinode-containers.yaml', 'ci/environments/scenario004-multinode-containers.yaml', 'ci/environments/scenario009-multinode.yaml', 'ci/environments/scenario006-multinode.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'ci/environments/multinode-3nodes.yaml', 'ci/environments/scenario000-multinode-containers.yaml', 'ci/environments/scenario006-multinode-containers.yaml', 'ci/environments/scenario008-multinode-containers.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/CellController.yaml', 'ci/environments/multinode-containers.yaml', 'roles/ControllerOpenstack.yaml', 'ci/environments/scenario003-multinode-containers.yaml']",19,12ad703da590fb0ce85792ecc9d0423482ad51b5,bug/1827676, - OS::TripleO::Services::Timesync, - OS::TripleO::Services::Ntp,20,21
openstack%2Frpm-packaging~master~I50085b403afeca7477180a7f733cdf99804f8c51,openstack/rpm-packaging,master,I50085b403afeca7477180a7f733cdf99804f8c51,Update os-*config to 10.3.0,MERGED,2019-05-07 13:13:10.000000000,2019-05-07 13:52:02.000000000,2019-05-07 13:52:02.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-07 13:13:10.000000000', 'files': ['openstack/os-apply-config/os-apply-config.spec.j2', 'openstack/os-collect-config/os-collect-config.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/829d91cec7d5b114ab4c7701d5b8435820df6690', 'message': 'Update os-*config to 10.3.0\n\nChange-Id: I50085b403afeca7477180a7f733cdf99804f8c51\n'}]",0,657597,829d91cec7d5b114ab4c7701d5b8435820df6690,9,5,1,6593,,,0,"Update os-*config to 10.3.0

Change-Id: I50085b403afeca7477180a7f733cdf99804f8c51
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/97/657597/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/os-apply-config/os-apply-config.spec.j2', 'openstack/os-collect-config/os-collect-config.spec.j2']",2,829d91cec7d5b114ab4c7701d5b8435820df6690,os_stuff,Version: 10.3.0,Version: 10.2.0,2,2
openstack%2Fpuppet-tripleo~master~I8d813fdccb45a464e5bbecda2de0f322299cf6e3,openstack/puppet-tripleo,master,I8d813fdccb45a464e5bbecda2de0f322299cf6e3,Remove ntp,MERGED,2019-05-03 18:07:59.000000000,2019-05-07 13:51:51.000000000,2019-05-07 13:51:51.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-05-03 18:07:59.000000000', 'files': ['releasenotes/notes/remove-ntp-34d5eb69bfc231b0.yaml', 'spec/classes/tripleo_profile_base_time_ntp_spec.rb', 'Puppetfile_extras', 'manifests/profile/base/time/ntp.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ce0cffe07715838868b1a65af0d9dc5fd667a80e', 'message': 'Remove ntp\n\nWe no longer support ntp so we should remove the puppet classes and\npuppet-ntp usage.\n\nChange-Id: I8d813fdccb45a464e5bbecda2de0f322299cf6e3\nDepends-On: https://review.opendev.org/#/c/656999/\nRelated-Blueprint: tripleo-chrony\n'}]",0,657001,ce0cffe07715838868b1a65af0d9dc5fd667a80e,20,8,1,14985,,,0,"Remove ntp

We no longer support ntp so we should remove the puppet classes and
puppet-ntp usage.

Change-Id: I8d813fdccb45a464e5bbecda2de0f322299cf6e3
Depends-On: https://review.opendev.org/#/c/656999/
Related-Blueprint: tripleo-chrony
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/01/657001/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-ntp-34d5eb69bfc231b0.yaml', 'spec/classes/tripleo_profile_base_time_ntp_spec.rb', 'Puppetfile_extras', 'manifests/profile/base/time/ntp.pp']",4,ce0cffe07715838868b1a65af0d9dc5fd667a80e,bp/tripleo-chrony,,"# Copyright 2017 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::ntp # # Enable NTP via composable services. # class tripleo::profile::base::time::ntp { # If installed, we don't want chrony to conflict with ntp. LP#1665426 # It should be noted that this work even if the package is not installed service { 'chronyd': ensure => stopped, enable => false, before => Class['ntp'] } service { 'chrony-wait': ensure => stopped, enable => false, before => Class['ntp'] } include ::ntp } ",4,78
openstack%2Ftripleo-common~stable%2Fstein~I16742ca8ecb748046e64d6849cdff00ee8036e2e,openstack/tripleo-common,stable/stein,I16742ca8ecb748046e64d6849cdff00ee8036e2e,Run ansible before scale down,ABANDONED,2019-05-05 14:29:28.000000000,2019-05-07 13:41:02.000000000,,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-05 14:29:28.000000000', 'files': ['workbooks/scale.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c94c6e23fdd9ee06b0fd769786b1ac9f39865a73', 'message': 'Run ansible before scale down\n\nThis patch modifies the scale workbook, to add a new workflow which\nruns Ansible tasks before removing the servers during a scale down.\n\nblueprint scale-down-tasks\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n\nChange-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e\n(cherry picked from commit 508324b1f4a397d6364322969fb3020e73ec6fe4)\n'}]",0,657274,c94c6e23fdd9ee06b0fd769786b1ac9f39865a73,6,3,1,3153,,,0,"Run ansible before scale down

This patch modifies the scale workbook, to add a new workflow which
runs Ansible tasks before removing the servers during a scale down.

blueprint scale-down-tasks
Co-Authored-By: Alex Schultz <aschultz@redhat.com>

Change-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e
(cherry picked from commit 508324b1f4a397d6364322969fb3020e73ec6fe4)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/74/657274/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/scale.yaml'],1,c94c6e23fdd9ee06b0fd769786b1ac9f39865a73,bp/scale-down-tasks-stable/stein," ansible_scale_down: tags: - tripleo-common-managed input: - container: overcloud - plan_name: overcloud - work_dir: /var/lib/mistral - nodes - timeout: 240 - queue_name: tripleo tasks: get_config: action: tripleo.config.get_overcloud_config input: container: <% $.get('plan_name') %> container_config: <% $.get('plan_name') %>-config on-success: download_config on-error: send_message publish-on-error: status: FAILED message: <% task().result %> deployment_status: DEPLOY_FAILED download_config: action: tripleo.config.download_config input: work_dir: <% $.get('work_dir') %>/<% $.get('plan_name') %> container_config: <% $.get('plan_name') %>-config on-success: send_msg_config_download on-error: send_message publish-on-error: status: FAILED message: <% task().result %> deployment_status: DEPLOY_FAILED send_msg_config_download: workflow: tripleo.messaging.v1.send input: queue_name: <% $.queue_name %> type: <% execution().name %> status: <% $.get('status', 'RUNNING') %> deployment_status: DEPLOYING execution: <% execution() %> message: Config downloaded at <% $.get('work_dir') %>/<% $.get('plan_name') %> plan_name: <% $.plan_name %> on-success: get_private_key get_private_key: action: tripleo.validations.get_privkey on-success: uuids_to_names uuids_to_names: action: ironic.node_get_by_instance_uuid on-success: scale_down input: instance_uuid: <% $.node %> fields: ['instance_info'] with-items: node in <% $.nodes %> scale_down: action: tripleo.ansible-playbook on-success: send_message on-error: scale_down_failed publish: output: <% task().result %> publish-on-error: status: FAILED message: <% task().result %> input: ssh_private_key: <% task(get_private_key).result %> verbosity: 1 remote_user: tripleo-admin plan_name: <% $.container %> become: true playbook: <% $.get('work_dir') %>/<% $.get('container') %>/scale_playbook.yaml tags: down limit_hosts: <% list(task(uuids_to_names).result.instance_info.display_name).join(',') %> inventory: <% $.get('work_dir') %>/<% $.get('container') %>/tripleo-ansible-inventory.yaml execution_id: <% execution().id %> queue_name: <% $.queue_name %> scale_down_failed: on-success: send_message publish: status: FAILED message: <% task(scale_down).result %> send_message: workflow: tripleo.messaging.v1.send input: queue_name: <% $.queue_name %> type: <% execution().name %> status: <% $.get('status', 'SUCCESS') %> execution: <% execution() %> message: <% $.get('message', '') %> ",,98,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I29835c2724b5de884e9825e084780c36837bff84,openstack/tripleo-heat-templates,stable/stein,I29835c2724b5de884e9825e084780c36837bff84,Introduce scale_tasks,ABANDONED,2019-05-01 14:46:19.000000000,2019-05-07 13:40:47.000000000,,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-01 14:46:19.000000000', 'files': ['common/deploy-steps.j2', 'common/services/role.role.j2.yaml', 'tools/yaml-validate.py', 'releasenotes/notes/scale_tasks-2042b294d074b37a.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/77bbd585663764d22974ca66a51531dd9f5bc870', 'message': 'Introduce scale_tasks\n\nComposable service templates can now define scale_tasks. They are\nmeant for scale down/up logic of services which need to be\nstopped/started during the scaling procedure. All happens within a single\nplaybook and the down/up Ansible tags are required to differenciate them\nduring the run.\n\nblueprint scale-down-tasks\n\nChange-Id: I29835c2724b5de884e9825e084780c36837bff84\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n(cherry picked from commit 5d66b9c1eb7cfd8720414f2fd73f76b514bd7958)\n'}]",0,656640,77bbd585663764d22974ca66a51531dd9f5bc870,6,4,1,3153,,,0,"Introduce scale_tasks

Composable service templates can now define scale_tasks. They are
meant for scale down/up logic of services which need to be
stopped/started during the scaling procedure. All happens within a single
playbook and the down/up Ansible tags are required to differenciate them
during the run.

blueprint scale-down-tasks

Change-Id: I29835c2724b5de884e9825e084780c36837bff84
Co-Authored-By: Alex Schultz <aschultz@redhat.com>
(cherry picked from commit 5d66b9c1eb7cfd8720414f2fd73f76b514bd7958)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/656640/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps.j2', 'common/services/role.role.j2.yaml', 'tools/yaml-validate.py', 'releasenotes/notes/scale_tasks-2042b294d074b37a.yaml']",4,77bbd585663764d22974ca66a51531dd9f5bc870,bp/scale-down-tasks-stable/stein,--- features: - | Composable service templates can now define scale_tasks. They are meant for scale down/up logic of services which need to be stopped/started during the scaling procedure. All happens within a single playbook and the down/up Ansible tags are required to differenciate them during the run. ,,117,1
openstack%2Freleases~master~I33030f21276e4efca84db8c9699d971488b5424b,openstack/releases,master,I33030f21276e4efca84db8c9699d971488b5424b,Update python-tempestconf to 2.2.0,MERGED,2019-04-25 14:03:21.000000000,2019-05-07 13:31:26.000000000,2019-05-07 13:31:26.000000000,"[{'_account_id': 2472}, {'_account_id': 7822}, {'_account_id': 8367}, {'_account_id': 11904}, {'_account_id': 12393}, {'_account_id': 12898}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-25 14:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ff8807fb5fb4c9e803a5dfe80e14a1c7b95dbeb3', 'message': 'Update python-tempestconf to 2.2.0\n\nMake a new release of python-tempestconf contaning\nthe newest changes.\n\nChange-Id: I33030f21276e4efca84db8c9699d971488b5424b\n'}, {'number': 2, 'created': '2019-04-30 09:49:22.000000000', 'files': ['deliverables/_independent/python-tempestconf.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6a6fac62a1bc9fb5d7654c7d8a09387202c3cab0', 'message': 'Update python-tempestconf to 2.2.0\n\nMake a new release of python-tempestconf contaning\nthe newest changes.\n\nChange-Id: I33030f21276e4efca84db8c9699d971488b5424b\n'}]",1,655698,6a6fac62a1bc9fb5d7654c7d8a09387202c3cab0,13,8,2,22873,,,0,"Update python-tempestconf to 2.2.0

Make a new release of python-tempestconf contaning
the newest changes.

Change-Id: I33030f21276e4efca84db8c9699d971488b5424b
",git fetch https://review.opendev.org/openstack/releases refs/changes/98/655698/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/python-tempestconf.yaml'],1,ff8807fb5fb4c9e803a5dfe80e14a1c7b95dbeb3,, - version: 2.2.0 projects: - repo: openstack/python-tempestconf hash: f12cbe83aefa82d463643349d762096b13aca552,,4,0
openstack%2Frpm-packaging~stable%2Fstein~I8fe2e586cf9d1b1090a11dec27a0518dab3f8d87,openstack/rpm-packaging,stable/stein,I8fe2e586cf9d1b1090a11dec27a0518dab3f8d87,xenapi: update to 0.3.4,MERGED,2019-04-25 19:42:57.000000000,2019-05-07 13:12:34.000000000,2019-05-07 13:12:34.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-25 19:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5222fee3b60183a365ee9f43d66adbceb522956b', 'message': 'xenapi: update to 0.3.4\n\nChange-Id: I8fe2e586cf9d1b1090a11dec27a0518dab3f8d87\n'}, {'number': 2, 'created': '2019-04-29 18:28:43.000000000', 'files': ['openstack/os-xenapi/os-xenapi.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/cd15b683cba7ea6d94467fa745b1dad27ea6c4a1', 'message': 'xenapi: update to 0.3.4\n\nChange-Id: I8fe2e586cf9d1b1090a11dec27a0518dab3f8d87\n'}]",0,655779,cd15b683cba7ea6d94467fa745b1dad27ea6c4a1,13,5,2,6593,,,0,"xenapi: update to 0.3.4

Change-Id: I8fe2e586cf9d1b1090a11dec27a0518dab3f8d87
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/79/655779/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-xenapi/os-xenapi.spec.j2'],1,5222fee3b60183a365ee9f43d66adbceb522956b,stein_updates,{% set upstream_version = upstream_version('0.3.4') %},{% set upstream_version = upstream_version('0.3.3') %},1,1
openstack%2Frpm-packaging~master~I0e9850048cab880ecaece1f87dc5970b0d30fc27,openstack/rpm-packaging,master,I0e9850048cab880ecaece1f87dc5970b0d30fc27,nova: remove placement subpackage,MERGED,2019-05-07 12:03:08.000000000,2019-05-07 13:12:33.000000000,2019-05-07 13:12:33.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-07 12:03:08.000000000', 'files': ['openstack/nova/nova.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/40eb423e8f5bfab58a85dac21393dd5f23f4d32b', 'message': 'nova: remove placement subpackage\n\nplacement is its own toplevel service now and was removed\nin Nova just after the stein branching.\n\nChange-Id: I0e9850048cab880ecaece1f87dc5970b0d30fc27\n'}]",0,657583,40eb423e8f5bfab58a85dac21393dd5f23f4d32b,9,5,1,6593,,,0,"nova: remove placement subpackage

placement is its own toplevel service now and was removed
in Nova just after the stein branching.

Change-Id: I0e9850048cab880ecaece1f87dc5970b0d30fc27
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/83/657583/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/nova/nova.spec.j2'],1,40eb423e8f5bfab58a85dac21393dd5f23f4d32b,nova_placement,,Source26: wsgi-nova-placement-api.conf%package placement-api %if 0%{?suse_version} %define apache_name apache2 %define apache_site_dir %{_sysconfdir}/%{apache_name}/vhosts.d/ BuildRequires: apache2-mod_wsgi Requires: apache2-mod_wsgi %else %define apache_name httpd %define apache_site_dir %{_sysconfdir}/%{apache_name}/conf.d/ BuildRequires: mod_wsgi Requires: mod_wsgi %endif Summary: OpenStack Nova - Placement API service Group: Applications/System Requires: %{name} = %{epoch}:%{version}-%{release} %description placement-api This package contains the OpenStack Nova Placement API. # WSGI apache config for nova-placement-api %if 0%{?rdo} # adjust paths to WSGI scripts sed -i 's#/local/bin#/bin#' %{SOURCE26} sed -i 's#apache2#httpd#' %{SOURCE26} %endif # Install apache configuration files install -d -m 755 %{buildroot}%{apache_site_dir} install -p -D -m 644 %{SOURCE26} %{buildroot}%{_datarootdir}/nova/wsgi-nova-placement-api.conf install -p -D -m 644 %{SOURCE26} %{buildroot}%{apache_site_dir}/nova-placement-api.conf %post placement-api %systemd_post %{apache_name}.service %postun placement-api %systemd_postun_with_restart %{apache_name}.service %files placement-api %license LICENSE %{_bindir}/nova-placement-api %dir %{apache_site_dir} %dir %{_datarootdir}/nova/ %{apache_site_dir}/nova-placement-api.conf %{_datarootdir}/nova/wsgi-nova-placement-api.conf ,0,45
openstack%2Ftripleo-heat-templates~master~I8286e11829a55b51a11d214c2f9f5312eaa2f52c,openstack/tripleo-heat-templates,master,I8286e11829a55b51a11d214c2f9f5312eaa2f52c,DNM: Testing os_tempest,ABANDONED,2019-05-07 12:54:53.000000000,2019-05-07 12:59:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-07 12:54:53.000000000', 'files': ['ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ddf1a809c2b361abf965790cab584ae8637ebad5', 'message': 'DNM: Testing os_tempest\n\nDepends-On: https://review.opendev.org/#/c/657589/\nChange-Id: I8286e11829a55b51a11d214c2f9f5312eaa2f52c\n'}]",0,657590,ddf1a809c2b361abf965790cab584ae8637ebad5,4,2,1,8367,,,0,"DNM: Testing os_tempest

Depends-On: https://review.opendev.org/#/c/657589/
Change-Id: I8286e11829a55b51a11d214c2f9f5312eaa2f52c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/657590/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-standalone.yaml'],1,ddf1a809c2b361abf965790cab584ae8637ebad5,,,,1,0
openstack%2Fsahara-dashboard~stable%2Fstein~Ief62948940f17b78aa0639d15b01923fccd83bce,openstack/sahara-dashboard,stable/stein,Ief62948940f17b78aa0639d15b01923fccd83bce,Imported Translations from Zanata,MERGED,2019-05-01 09:34:44.000000000,2019-05-07 12:58:51.000000000,2019-05-07 12:58:51.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 09:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/784c063b8c887f0ce9c84a6af5533d5a6631f3a4', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ief62948940f17b78aa0639d15b01923fccd83bce\n'}, {'number': 2, 'created': '2019-05-02 09:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/c5647f64be1a46aec3af116b0ccab9f217e46848', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ief62948940f17b78aa0639d15b01923fccd83bce\n'}, {'number': 3, 'created': '2019-05-04 08:46:55.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'sahara_dashboard/locale/id/LC_MESSAGES/django.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'sahara_dashboard/locale/ru/LC_MESSAGES/django.po', 'sahara_dashboard/locale/fr/LC_MESSAGES/django.po', 'sahara_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'sahara_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po', 'sahara_dashboard/locale/tr_TR/LC_MESSAGES/django.po', 'sahara_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'sahara_dashboard/locale/ja/LC_MESSAGES/django.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'sahara_dashboard/locale/de/LC_MESSAGES/django.po', 'sahara_dashboard/locale/cs/LC_MESSAGES/django.po', 'sahara_dashboard/locale/ko_KR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/d73912d3853d05995b55635fb51d34c20dce3979', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ief62948940f17b78aa0639d15b01923fccd83bce\n'}]",0,656623,d73912d3853d05995b55635fb51d34c20dce3979,10,2,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ief62948940f17b78aa0639d15b01923fccd83bce
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/23/656623/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'sahara_dashboard/locale/id/LC_MESSAGES/django.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'sahara_dashboard/locale/ru/LC_MESSAGES/django.po', 'sahara_dashboard/locale/fr/LC_MESSAGES/django.po', 'sahara_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'sahara_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po', 'sahara_dashboard/locale/tr_TR/LC_MESSAGES/django.po', 'sahara_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'sahara_dashboard/locale/ja/LC_MESSAGES/django.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'sahara_dashboard/locale/de/LC_MESSAGES/django.po', 'sahara_dashboard/locale/cs/LC_MESSAGES/django.po', 'sahara_dashboard/locale/ko_KR/LC_MESSAGES/django.po']",18,784c063b8c887f0ce9c84a6af5533d5a6631f3a4,zanata/translations,"""POT-Creation-Date: 2019-03-25 09:09+0000\n""","""POT-Creation-Date: 2018-08-27 10:14+0000\n""msgid ""Boot From Volume"" msgstr "" "" msgid ""If selected, the node group instance will be booted from volume"" msgstr "",     ."" msgid ""Project Id"" msgstr "" ID"" msgid ""Storage location"" msgstr "" "" ",53,661
openstack%2Finstack-undercloud~stable%2Frocky~I4e08f9cda1663d4a9fd90f689363e495be3c66d1,openstack/instack-undercloud,stable/rocky,I4e08f9cda1663d4a9fd90f689363e495be3c66d1,Wrap the undercloud public_host IP for IPv6,MERGED,2019-04-30 20:06:58.000000000,2019-05-07 12:45:04.000000000,2019-05-07 03:16:24.000000000,"[{'_account_id': 1926}, {'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-30 20:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/4c28aa1c5b62d39676a6143d81cf4d536101e181', 'message': ""Wrap the undercloud public_host IP for IPv6\n\nIn order to handle IPv6 SSL deployments, bracket the undercloud public_host IP address\nwith '[',']' for IPv6.\n\nChange-Id: I4e08f9cda1663d4a9fd90f689363e495be3c66d1\n""}, {'number': 2, 'created': '2019-05-01 00:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/23b5c25cac46a843ce3701ad9ef8a518a85986e8', 'message': ""Wrap the undercloud public_host IP for IPv6\n\nIn order to handle IPv6 SSL deployments, bracket the undercloud public_host IP address\nwith '[',']' for IPv6.\n\nChange-Id: I4e08f9cda1663d4a9fd90f689363e495be3c66d1\n""}, {'number': 3, 'created': '2019-05-01 11:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/db45e13ad844d8abecde704ae5ae1f42c99c1c33', 'message': ""Wrap the undercloud public_host IP for IPv6\n\nIn order to handle IPv6 SSL deployments, bracket the undercloud public_host IP address\nwith '[',']' for IPv6.\n\nChange-Id: I4e08f9cda1663d4a9fd90f689363e495be3c66d1\n""}, {'number': 4, 'created': '2019-05-06 15:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/2e33ab0c5ce87d5f807398922950963bff1f6a6b', 'message': ""Wrap the undercloud public_host IP for IPv6\n\nIn order to handle IPv6 SSL deployments, bracket the undercloud public_host IP address\nwith '[',']' for IPv6.\n\nCloses-Bug: #1827897\nChange-Id: I4e08f9cda1663d4a9fd90f689363e495be3c66d1\n""}, {'number': 5, 'created': '2019-05-06 19:02:03.000000000', 'files': ['templates/config.json.template', 'elements/undercloud-install/os-apply-config/root/stackrc', 'instack_undercloud/undercloud.py', 'elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/11d9fef529300a9268417979d701f45e100f0241', 'message': ""Wrap the undercloud public_host IP for IPv6\n\nIn order to handle IPv6 SSL deployments, bracket the undercloud public_host IP address\nwith '[',']' for IPv6.\n\nCloses-Bug: #1827897\nChange-Id: I4e08f9cda1663d4a9fd90f689363e495be3c66d1\n""}]",2,656579,11d9fef529300a9268417979d701f45e100f0241,32,7,5,21909,,,0,"Wrap the undercloud public_host IP for IPv6

In order to handle IPv6 SSL deployments, bracket the undercloud public_host IP address
with '[',']' for IPv6.

Closes-Bug: #1827897
Change-Id: I4e08f9cda1663d4a9fd90f689363e495be3c66d1
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/79/656579/5 && git format-patch -1 --stdout FETCH_HEAD,"['templates/config.json.template', 'elements/undercloud-install/os-apply-config/root/stackrc', 'instack_undercloud/undercloud.py', 'elements/puppet-stack-config/puppet-stack-config.yaml.template']",4,4c28aa1c5b62d39676a6143d81cf4d536101e181,bug/1827897,controller_public_host_wrapped: {{UNDERCLOUD_PUBLIC_HOST_WRAPPED}},,8,2
openstack%2Fcharm-barbican~stable%2F19.04~I16389e71bc35b63e157f8280b76f794cd867bfbe,openstack/charm-barbican,stable/19.04,I16389e71bc35b63e157f8280b76f794cd867bfbe,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:12:28.000000000,2019-05-07 12:26:07.000000000,2019-05-07 12:26:07.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:12:28.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/6b9de9190fffb9f4f20ae72e7e9f5c12b28e34e2', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I16389e71bc35b63e157f8280b76f794cd867bfbe\n'}]",0,657468,6b9de9190fffb9f4f20ae72e7e9f5c12b28e34e2,9,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I16389e71bc35b63e157f8280b76f794cd867bfbe
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/68/657468/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,6b9de9190fffb9f4f20ae72e7e9f5c12b28e34e2,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-rabbitmq-server~stable%2F19.04~I168efdc31de8d61bda3ede7b05c9fbe3010078b9,openstack/charm-rabbitmq-server,stable/19.04,I168efdc31de8d61bda3ede7b05c9fbe3010078b9,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:16:55.000000000,2019-05-07 12:21:54.000000000,2019-05-07 12:21:53.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:16:55.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/3e263226f3b398f0378abaebc6c2c9b12cc98951', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I168efdc31de8d61bda3ede7b05c9fbe3010078b9\n'}]",0,657498,3e263226f3b398f0378abaebc6c2c9b12cc98951,9,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I168efdc31de8d61bda3ede7b05c9fbe3010078b9
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/98/657498/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,3e263226f3b398f0378abaebc6c2c9b12cc98951,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-ceph-fs~stable%2F19.04~Ie28c4d07068236d1fe7d88aaf4b9409e9a958f3a,openstack/charm-ceph-fs,stable/19.04,Ie28c4d07068236d1fe7d88aaf4b9409e9a958f3a,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:13:00.000000000,2019-05-07 12:20:11.000000000,2019-05-07 12:20:10.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:13:00.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/ccb991110e4aa6bdc2edbc7ffdf3a22ba8e19430', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: Ie28c4d07068236d1fe7d88aaf4b9409e9a958f3a\n'}]",0,657472,ccb991110e4aa6bdc2edbc7ffdf3a22ba8e19430,9,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: Ie28c4d07068236d1fe7d88aaf4b9409e9a958f3a
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/72/657472/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,ccb991110e4aa6bdc2edbc7ffdf3a22ba8e19430,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-swift-proxy~stable%2F19.04~I6b9862359c9ecd20bb4011e148293de96ee74831,openstack/charm-swift-proxy,stable/19.04,I6b9862359c9ecd20bb4011e148293de96ee74831,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:17:04.000000000,2019-05-07 12:19:49.000000000,2019-05-07 12:19:48.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:17:04.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/d576e2da5d478c09c1af40445aaec6b92e248d8e', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I6b9862359c9ecd20bb4011e148293de96ee74831\n'}]",0,657499,d576e2da5d478c09c1af40445aaec6b92e248d8e,9,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I6b9862359c9ecd20bb4011e148293de96ee74831
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/99/657499/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d576e2da5d478c09c1af40445aaec6b92e248d8e,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-nova-compute~stable%2F19.04~I277ba708125c9e8c0e0fdf320cbd899d3d3ebaa0,openstack/charm-nova-compute,stable/19.04,I277ba708125c9e8c0e0fdf320cbd899d3d3ebaa0,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:16:30.000000000,2019-05-07 12:19:31.000000000,2019-05-07 12:19:31.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:16:30.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/5957359b263f0f23bf2707de8b275b04f729c66a', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I277ba708125c9e8c0e0fdf320cbd899d3d3ebaa0\n'}]",0,657495,5957359b263f0f23bf2707de8b275b04f729c66a,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I277ba708125c9e8c0e0fdf320cbd899d3d3ebaa0
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/95/657495/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5957359b263f0f23bf2707de8b275b04f729c66a,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-neutron-gateway~stable%2F19.04~I18c90f9300c4b2bf9c9567a96f0b712ada4ac06e,openstack/charm-neutron-gateway,stable/19.04,I18c90f9300c4b2bf9c9567a96f0b712ada4ac06e,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:15:55.000000000,2019-05-07 12:19:08.000000000,2019-05-07 12:19:08.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:15:55.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/9733743501c1abd82e31c4e6c6cb14faefdc05a8', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I18c90f9300c4b2bf9c9567a96f0b712ada4ac06e\n'}]",0,657492,9733743501c1abd82e31c4e6c6cb14faefdc05a8,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I18c90f9300c4b2bf9c9567a96f0b712ada4ac06e
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/92/657492/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,9733743501c1abd82e31c4e6c6cb14faefdc05a8,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-swift-storage~stable%2F19.04~I29be342076b99121dbbd6158d6a27d4d0d01f150,openstack/charm-swift-storage,stable/19.04,I29be342076b99121dbbd6158d6a27d4d0d01f150,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:17:14.000000000,2019-05-07 12:18:57.000000000,2019-05-07 12:18:57.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:17:14.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/656489f0ecaac7ca57c1713b0407ee79aa2c641e', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I29be342076b99121dbbd6158d6a27d4d0d01f150\n'}]",0,657500,656489f0ecaac7ca57c1713b0407ee79aa2c641e,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I29be342076b99121dbbd6158d6a27d4d0d01f150
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/00/657500/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,656489f0ecaac7ca57c1713b0407ee79aa2c641e,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-percona-cluster~stable%2F19.04~Ie662cb5c6ce18627759bee90b10256cabb7b13e9,openstack/charm-percona-cluster,stable/19.04,Ie662cb5c6ce18627759bee90b10256cabb7b13e9,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:16:47.000000000,2019-05-07 12:18:54.000000000,2019-05-07 12:18:54.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:16:47.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/76cb13a94ce4d41a2564f86d06e9beef71c31d9d', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: Ie662cb5c6ce18627759bee90b10256cabb7b13e9\n'}]",0,657497,76cb13a94ce4d41a2564f86d06e9beef71c31d9d,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: Ie662cb5c6ce18627759bee90b10256cabb7b13e9
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/97/657497/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,76cb13a94ce4d41a2564f86d06e9beef71c31d9d,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-neutron-api~stable%2F19.04~I7a6fa95563d7da7a18cc5b020166c35eb902bef3,openstack/charm-neutron-api,stable/19.04,I7a6fa95563d7da7a18cc5b020166c35eb902bef3,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:15:46.000000000,2019-05-07 12:18:41.000000000,2019-05-07 12:18:41.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:15:46.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/f02d3cc793c588536a165f601ff72c67879fc968', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I7a6fa95563d7da7a18cc5b020166c35eb902bef3\n'}]",0,657491,f02d3cc793c588536a165f601ff72c67879fc968,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I7a6fa95563d7da7a18cc5b020166c35eb902bef3
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/91/657491/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f02d3cc793c588536a165f601ff72c67879fc968,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-neutron-openvswitch~stable%2F19.04~I5d5af13e51f6b3e2f27310b51a6873c8b112e4c5,openstack/charm-neutron-openvswitch,stable/19.04,I5d5af13e51f6b3e2f27310b51a6873c8b112e4c5,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:16:12.000000000,2019-05-07 12:18:20.000000000,2019-05-07 12:18:20.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:16:12.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/fe666d0207d50c8fd0ab081a6533070149d322e2', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I5d5af13e51f6b3e2f27310b51a6873c8b112e4c5\n'}]",0,657493,fe666d0207d50c8fd0ab081a6533070149d322e2,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I5d5af13e51f6b3e2f27310b51a6873c8b112e4c5
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/93/657493/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,fe666d0207d50c8fd0ab081a6533070149d322e2,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-tempest~stable%2F19.04~I9c7effbd9b159db5e4275c02c5041dae20340572,openstack/charm-tempest,stable/19.04,I9c7effbd9b159db5e4275c02c5041dae20340572,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:17:23.000000000,2019-05-07 12:17:56.000000000,2019-05-07 12:17:56.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:17:23.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/f031d747228f4227eb2b10c327f780cb86eea6a0', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I9c7effbd9b159db5e4275c02c5041dae20340572\n'}]",0,657501,f031d747228f4227eb2b10c327f780cb86eea6a0,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I9c7effbd9b159db5e4275c02c5041dae20340572
",git fetch https://review.opendev.org/openstack/charm-tempest refs/changes/01/657501/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,f031d747228f4227eb2b10c327f780cb86eea6a0,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-nova-cloud-controller~stable%2F19.04~I446a68d2db0df2332a4627ff694927085432c6a1,openstack/charm-nova-cloud-controller,stable/19.04,I446a68d2db0df2332a4627ff694927085432c6a1,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:16:21.000000000,2019-05-07 12:17:47.000000000,2019-05-07 12:17:47.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:16:21.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/8ca2346d2d220ce4b6188cfb6c3dc5056478b0ee', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I446a68d2db0df2332a4627ff694927085432c6a1\n'}]",0,657494,8ca2346d2d220ce4b6188cfb6c3dc5056478b0ee,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I446a68d2db0df2332a4627ff694927085432c6a1
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/94/657494/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,8ca2346d2d220ce4b6188cfb6c3dc5056478b0ee,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-ceph-osd~stable%2F19.04~Ib7fb44adc5f0d327b02190cf8659a80923f3a991,openstack/charm-ceph-osd,stable/19.04,Ib7fb44adc5f0d327b02190cf8659a80923f3a991,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:13:17.000000000,2019-05-07 12:17:11.000000000,2019-05-07 12:17:11.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:13:17.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/0c2f1e4735263fd2b0b3c4b745dfd99b74e5172d', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: Ib7fb44adc5f0d327b02190cf8659a80923f3a991\n'}]",0,657474,0c2f1e4735263fd2b0b3c4b745dfd99b74e5172d,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: Ib7fb44adc5f0d327b02190cf8659a80923f3a991
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/74/657474/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,0c2f1e4735263fd2b0b3c4b745dfd99b74e5172d,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-glance-simplestreams-sync~stable%2F19.04~I64ddb703205994ff4ab7b30633d26b04cde04ee1,openstack/charm-glance-simplestreams-sync,stable/19.04,I64ddb703205994ff4ab7b30633d26b04cde04ee1,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:14:38.000000000,2019-05-07 12:16:50.000000000,2019-05-07 12:16:50.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:14:38.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/c89a6502bf833ef837b3752442afcc7d51a63f9c', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I64ddb703205994ff4ab7b30633d26b04cde04ee1\n'}]",0,657483,c89a6502bf833ef837b3752442afcc7d51a63f9c,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I64ddb703205994ff4ab7b30633d26b04cde04ee1
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/83/657483/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c89a6502bf833ef837b3752442afcc7d51a63f9c,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-gnocchi~stable%2F19.04~I2ade1e7ff30825d62db04646a41d42519bb1211b,openstack/charm-gnocchi,stable/19.04,I2ade1e7ff30825d62db04646a41d42519bb1211b,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:14:48.000000000,2019-05-07 12:16:45.000000000,2019-05-07 12:16:45.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:14:48.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/6d429c05f327d3ef46358d573a105fc022f23a56', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I2ade1e7ff30825d62db04646a41d42519bb1211b\n'}]",0,657484,6d429c05f327d3ef46358d573a105fc022f23a56,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I2ade1e7ff30825d62db04646a41d42519bb1211b
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/84/657484/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,6d429c05f327d3ef46358d573a105fc022f23a56,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-ceph-proxy~stable%2F19.04~I1f457bc79790b0b331d64115a15776ae72302434,openstack/charm-ceph-proxy,stable/19.04,I1f457bc79790b0b331d64115a15776ae72302434,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:13:25.000000000,2019-05-07 12:16:43.000000000,2019-05-07 12:16:43.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:13:25.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/efa087cd1f1300049b58c32a5bf055516a8f29bc', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I1f457bc79790b0b331d64115a15776ae72302434\n'}]",0,657475,efa087cd1f1300049b58c32a5bf055516a8f29bc,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I1f457bc79790b0b331d64115a15776ae72302434
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/75/657475/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,efa087cd1f1300049b58c32a5bf055516a8f29bc,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-ceilometer-agent~stable%2F19.04~Ic0d3b3b3c01a0b5dc9e671e4882e9f52535931bc,openstack/charm-ceilometer-agent,stable/19.04,Ic0d3b3b3c01a0b5dc9e671e4882e9f52535931bc,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:12:53.000000000,2019-05-07 12:16:39.000000000,2019-05-07 12:16:39.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:12:53.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/207ef0842ea7234354577b8ee354715910d8bab2', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: Ic0d3b3b3c01a0b5dc9e671e4882e9f52535931bc\n'}]",0,657471,207ef0842ea7234354577b8ee354715910d8bab2,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: Ic0d3b3b3c01a0b5dc9e671e4882e9f52535931bc
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/71/657471/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,207ef0842ea7234354577b8ee354715910d8bab2,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-ceph-radosgw~stable%2F19.04~I6079e9aa713ecb0d6bba07a931b6ff4bf46fe4d7,openstack/charm-ceph-radosgw,stable/19.04,I6079e9aa713ecb0d6bba07a931b6ff4bf46fe4d7,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:13:33.000000000,2019-05-07 12:16:34.000000000,2019-05-07 12:16:34.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:13:33.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/7ce5aabb09401910573e2f86063086814e0c4655', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I6079e9aa713ecb0d6bba07a931b6ff4bf46fe4d7\n'}]",0,657476,7ce5aabb09401910573e2f86063086814e0c4655,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I6079e9aa713ecb0d6bba07a931b6ff4bf46fe4d7
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/76/657476/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7ce5aabb09401910573e2f86063086814e0c4655,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-cinder-backup~stable%2F19.04~I79aaa52c41780a0d14875ef8fe1f10726e013129,openstack/charm-cinder-backup,stable/19.04,I79aaa52c41780a0d14875ef8fe1f10726e013129,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:13:59.000000000,2019-05-07 12:16:22.000000000,2019-05-07 12:16:22.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:13:59.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/6f870ab8bf3d76b86f8b2008906238b8a40f8740', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I79aaa52c41780a0d14875ef8fe1f10726e013129\n'}]",0,657478,6f870ab8bf3d76b86f8b2008906238b8a40f8740,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I79aaa52c41780a0d14875ef8fe1f10726e013129
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/78/657478/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6f870ab8bf3d76b86f8b2008906238b8a40f8740,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-cinder-ceph~stable%2F19.04~I50c1b9edf1ff412598af83170e22a65b8f9401e6,openstack/charm-cinder-ceph,stable/19.04,I50c1b9edf1ff412598af83170e22a65b8f9401e6,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:14:07.000000000,2019-05-07 12:16:20.000000000,2019-05-07 12:16:20.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:14:07.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/1461ee12a5a0964250ad7521f3e20ba7598161f4', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I50c1b9edf1ff412598af83170e22a65b8f9401e6\n'}]",0,657479,1461ee12a5a0964250ad7521f3e20ba7598161f4,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I50c1b9edf1ff412598af83170e22a65b8f9401e6
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/79/657479/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1461ee12a5a0964250ad7521f3e20ba7598161f4,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-ceph-mon~stable%2F19.04~I108278fad79dbd10d73ac1292a7789496820ce88,openstack/charm-ceph-mon,stable/19.04,I108278fad79dbd10d73ac1292a7789496820ce88,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:13:09.000000000,2019-05-07 12:16:17.000000000,2019-05-07 12:16:17.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:13:09.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/89a95d808db1600cfcb03cd96476f33e46c34b4d', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I108278fad79dbd10d73ac1292a7789496820ce88\n'}]",0,657473,89a95d808db1600cfcb03cd96476f33e46c34b4d,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I108278fad79dbd10d73ac1292a7789496820ce88
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/73/657473/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,89a95d808db1600cfcb03cd96476f33e46c34b4d,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-ceilometer~stable%2F19.04~Id6236cd45d34f999974876c32b14d7861a0fc567,openstack/charm-ceilometer,stable/19.04,Id6236cd45d34f999974876c32b14d7861a0fc567,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:12:46.000000000,2019-05-07 12:16:11.000000000,2019-05-07 12:16:11.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:12:46.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/a6bd4416e7d38fc5dcb4b152059075b78aa0f5cb', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: Id6236cd45d34f999974876c32b14d7861a0fc567\n'}]",0,657470,a6bd4416e7d38fc5dcb4b152059075b78aa0f5cb,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: Id6236cd45d34f999974876c32b14d7861a0fc567
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/70/657470/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,a6bd4416e7d38fc5dcb4b152059075b78aa0f5cb,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-aodh~stable%2F19.04~I02c2a133ece898eced1e265a729cbb0a280e04f7,openstack/charm-aodh,stable/19.04,I02c2a133ece898eced1e265a729cbb0a280e04f7,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:12:19.000000000,2019-05-07 12:16:09.000000000,2019-05-07 12:16:09.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:12:19.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/cbd965c7c0c661df17904c191a4bf078b6536067', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I02c2a133ece898eced1e265a729cbb0a280e04f7\n'}]",0,657467,cbd965c7c0c661df17904c191a4bf078b6536067,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I02c2a133ece898eced1e265a729cbb0a280e04f7
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/67/657467/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,cbd965c7c0c661df17904c191a4bf078b6536067,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-keystone-ldap~stable%2F19.04~I3b28250907f4b301e0447d690d66be3e0d624d99,openstack/charm-keystone-ldap,stable/19.04,I3b28250907f4b301e0447d690d66be3e0d624d99,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:15:13.000000000,2019-05-07 12:15:45.000000000,2019-05-07 12:15:45.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:15:13.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/1c666bc79b4a5015122f28dd2fa1088c4a649336', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I3b28250907f4b301e0447d690d66be3e0d624d99\n'}]",0,657487,1c666bc79b4a5015122f28dd2fa1088c4a649336,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I3b28250907f4b301e0447d690d66be3e0d624d99
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/87/657487/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,1c666bc79b4a5015122f28dd2fa1088c4a649336,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fproject-team-guide~master~I8ed6e7ff1adbea7571f3e8d27d98217f3ac51fc1,openstack/project-team-guide,master,I8ed6e7ff1adbea7571f3e8d27d98217f3ac51fc1,Update release info to reflect Friday policy change,MERGED,2019-05-03 17:57:46.000000000,2019-05-07 12:15:03.000000000,2019-05-07 12:15:03.000000000,"[{'_account_id': 308}, {'_account_id': 11564}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 17:57:46.000000000', 'files': ['doc/source/release-management.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/94aadf343ad43c14dfdd232a60d4951b3551b23c', 'message': 'Update release info to reflect Friday policy change\n\nChange-Id: I8ed6e7ff1adbea7571f3e8d27d98217f3ac51fc1\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,656996,94aadf343ad43c14dfdd232a60d4951b3551b23c,8,5,1,11904,,,0,"Update release info to reflect Friday policy change

Change-Id: I8ed6e7ff1adbea7571f3e8d27d98217f3ac51fc1
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/96/656996/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/release-management.rst'],1,94aadf343ad43c14dfdd232a60d4951b3551b23c,relmgmt,"Release Team, generally avoiding weekends when no one would be around to help triage potential release automation issues. .. _README file in that repository: https://opendev.org/openstack/releases/src/branch/master/README.rst","Release Team, generally avoiding Mondays and Fridays and periods where the CI system is not fully operational. .. _README file in that repository: http://git.openstack.org/cgit/openstack/releases/tree/README.rst",3,3
openstack%2Fcharm-barbican-softhsm~stable%2F19.04~Ic361235aeee89015eeeb13c07fb5deec949be09b,openstack/charm-barbican-softhsm,stable/19.04,Ic361235aeee89015eeeb13c07fb5deec949be09b,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:12:36.000000000,2019-05-07 12:14:56.000000000,2019-05-07 12:14:56.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:12:36.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/0419bf634d0c6ddc45d5297c6199a0c52768d3b4', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: Ic361235aeee89015eeeb13c07fb5deec949be09b\n'}]",0,657469,0419bf634d0c6ddc45d5297c6199a0c52768d3b4,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: Ic361235aeee89015eeeb13c07fb5deec949be09b
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/69/657469/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,0419bf634d0c6ddc45d5297c6199a0c52768d3b4,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-designate~stable%2F19.04~I2cc3615d20b5d639ddf18f8377bb3b87c9375d57,openstack/charm-designate,stable/19.04,I2cc3615d20b5d639ddf18f8377bb3b87c9375d57,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:14:15.000000000,2019-05-07 12:14:18.000000000,2019-05-07 12:14:18.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:14:15.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/efdbdc73f1be1017921e7735f210a0159497b94f', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I2cc3615d20b5d639ddf18f8377bb3b87c9375d57\n'}]",0,657480,efdbdc73f1be1017921e7735f210a0159497b94f,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I2cc3615d20b5d639ddf18f8377bb3b87c9375d57
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/80/657480/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,efdbdc73f1be1017921e7735f210a0159497b94f,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-designate-bind~stable%2F19.04~I84abb224a7dd41be61a55aa0941109fa0d7bdd6e,openstack/charm-designate-bind,stable/19.04,I84abb224a7dd41be61a55aa0941109fa0d7bdd6e,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:14:22.000000000,2019-05-07 12:14:08.000000000,2019-05-07 12:14:08.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:14:22.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/0d956c428cb74bc9692987e97e969614cf3fce3c', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I84abb224a7dd41be61a55aa0941109fa0d7bdd6e\n'}]",0,657481,0d956c428cb74bc9692987e97e969614cf3fce3c,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I84abb224a7dd41be61a55aa0941109fa0d7bdd6e
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/81/657481/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,0d956c428cb74bc9692987e97e969614cf3fce3c,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-heat~stable%2F19.04~Ib825de3412e6d09b09bfbf41ee302610ce243b03,openstack/charm-heat,stable/19.04,Ib825de3412e6d09b09bfbf41ee302610ce243b03,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:15:05.000000000,2019-05-07 12:14:07.000000000,2019-05-07 12:14:07.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:15:05.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/83b875bc0e1696e6109981b6832a655059825126', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: Ib825de3412e6d09b09bfbf41ee302610ce243b03\n'}]",0,657486,83b875bc0e1696e6109981b6832a655059825126,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: Ib825de3412e6d09b09bfbf41ee302610ce243b03
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/86/657486/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,83b875bc0e1696e6109981b6832a655059825126,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fnetworking-ovn~master~I8112c305a8f7080e4385b712b7198a464d351836,openstack/networking-ovn,master,I8112c305a8f7080e4385b712b7198a464d351836,Fix DHCP failure of vm with sg which has no rule,ABANDONED,2019-04-30 09:09:53.000000000,2019-05-07 12:14:04.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-30 09:09:53.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/common/acl.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/deefc30da6f49dec8b7e50ec3ebb37c22778de2e', 'message': ""Fix DHCP failure of vm with sg which has no rule\n\nThis patch is adding acl rule in 'ls_in_acl' table of logical flow\nto allow dhcp traffic.Even a vm with sg has no rule can also get its\noffered ip address.\n\nChange-Id: I8112c305a8f7080e4385b712b7198a464d351836\nRelated-Bug: #1790900\n""}]",0,656475,deefc30da6f49dec8b7e50ec3ebb37c22778de2e,4,2,1,29874,,,0,"Fix DHCP failure of vm with sg which has no rule

This patch is adding acl rule in 'ls_in_acl' table of logical flow
to allow dhcp traffic.Even a vm with sg has no rule can also get its
offered ip address.

Change-Id: I8112c305a8f7080e4385b712b7198a464d351836
Related-Bug: #1790900
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/75/656475/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/common/acl.py']",3,deefc30da6f49dec8b7e50ec3ebb37c22778de2e,bug/1790900,"def add_acls_for_subnet_port_group(ovn, pg_name, subnet, ovn_dhcp=True): # Allow DHCP requests for OVN native DHCP service, while responses are # allowed in ovn-northd. # Allow both DHCP requests and responses to pass for other DHCP services. # We do this even if DHCP isn't enabled for the subnet acl_list = [] if subnet['ipv6_address_mode'] is None: if not ovn_dhcp: acl = {""port_group"": pg_name, ""priority"": ovn_const.ACL_PRIORITY_ALLOW, ""action"": ovn_const.ACL_ACTION_ALLOW, ""log"": False, ""name"": [], ""severity"": [], ""direction"": 'to-lport', ""match"": ('outport == @%s && ip4 && ip4.src == %s && ' 'udp && udp.src == 67 && udp.dst == 68' ) % (pg_name, subnet['cidr'])} acl_list.append(acl) acl = {""port_group"": pg_name, ""priority"": ovn_const.ACL_PRIORITY_ALLOW, ""action"": ovn_const.ACL_ACTION_ALLOW, ""log"": False, ""name"": [], ""severity"": [], ""direction"": 'from-lport', ""match"": ('inport == @%s && ip4 && ' 'ip4.dst == {255.255.255.255, %s} && ' 'udp && udp.src == 68 && udp.dst == 67' ) % (pg_name, subnet['cidr'])} acl_list.append(acl) if not ovn_dhcp: acl = {""port_group"": pg_name, ""priority"": ovn_const.ACL_PRIORITY_ALLOW, ""action"": ovn_const.ACL_ACTION_ALLOW, ""log"": False, ""name"": [], ""severity"": [], ""direction"": 'to-lport', ""match"": ('outport == @%s && ip6 && ip6.src == %s && ' 'udp && udp.src == 546 && udp.dst == 547' ) % (pg_name, subnet['cidr'])} acl_list.append(acl) acl = {""port_group"": pg_name, ""priority"": ovn_const.ACL_PRIORITY_ALLOW, ""action"": ovn_const.ACL_ACTION_ALLOW, ""log"": False, ""name"": [], ""severity"": [], ""direction"": 'from-lport', ""match"": ('inport == @%s && ip6 && ' 'ip6.dst == {ff02::/16, %s} && ' 'udp && udp.src == 546 && udp.dst == 547' ) % (pg_name, subnet['cidr'])} acl_list.append(acl) return acl_list ",,132,0
openstack%2Fcharm-hacluster~stable%2F19.04~If55579fe5f421b1640c44ab5466652fbd66e2441,openstack/charm-hacluster,stable/19.04,If55579fe5f421b1640c44ab5466652fbd66e2441,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:14:57.000000000,2019-05-07 12:13:58.000000000,2019-05-07 12:13:58.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:14:57.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/984b657d0c3e39305422e9bfae953188f8739d05', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: If55579fe5f421b1640c44ab5466652fbd66e2441\n'}]",0,657485,984b657d0c3e39305422e9bfae953188f8739d05,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: If55579fe5f421b1640c44ab5466652fbd66e2441
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/85/657485/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,984b657d0c3e39305422e9bfae953188f8739d05,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-glance~stable%2F19.04~I7b76266a9f30efedef2fb9be2beceb79f7c1e418,openstack/charm-glance,stable/19.04,I7b76266a9f30efedef2fb9be2beceb79f7c1e418,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:14:30.000000000,2019-05-07 12:13:57.000000000,2019-05-07 12:13:57.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:14:30.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/8478abec8c8e3658896da886ff8bdc3319bacb0e', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I7b76266a9f30efedef2fb9be2beceb79f7c1e418\n'}]",0,657482,8478abec8c8e3658896da886ff8bdc3319bacb0e,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I7b76266a9f30efedef2fb9be2beceb79f7c1e418
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/82/657482/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,8478abec8c8e3658896da886ff8bdc3319bacb0e,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-openstack-dashboard~stable%2F19.04~I2c341d727cf068dca88238bfa79a9a34e444fbc7,openstack/charm-openstack-dashboard,stable/19.04,I2c341d727cf068dca88238bfa79a9a34e444fbc7,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:16:39.000000000,2019-05-07 12:13:47.000000000,2019-05-07 12:13:47.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:16:39.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/f947a9f316cf4fc8d08b2c31fd12e3d0ef41be0d', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: I2c341d727cf068dca88238bfa79a9a34e444fbc7\n'}]",0,657496,f947a9f316cf4fc8d08b2c31fd12e3d0ef41be0d,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: I2c341d727cf068dca88238bfa79a9a34e444fbc7
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/96/657496/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f947a9f316cf4fc8d08b2c31fd12e3d0ef41be0d,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-cinder~stable%2F19.04~Icdd58f62dac5026ca67f2be0c1b00460fce1c997,openstack/charm-cinder,stable/19.04,Icdd58f62dac5026ca67f2be0c1b00460fce1c997,Update stable charms to use stable CH in test reqs,MERGED,2019-05-06 23:13:52.000000000,2019-05-07 12:12:54.000000000,2019-05-07 12:12:54.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:13:52.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/e65e3a113fc020140096a1e237182c81cba2120e', 'message': 'Update stable charms to use stable CH in test reqs\n\nIn our test-requirements.txt we often pull in charm-helpers. As stable and\nmaster branches of charm-helpers diverge this can lead to testing failures\non the stable branch charms.\n\nUpdate tests-requirements.txt to point to the stable branch of charm-helpers.\n\nChange-Id: Icdd58f62dac5026ca67f2be0c1b00460fce1c997\n'}]",0,657477,e65e3a113fc020140096a1e237182c81cba2120e,7,3,1,20805,,,0,"Update stable charms to use stable CH in test reqs

In our test-requirements.txt we often pull in charm-helpers. As stable and
master branches of charm-helpers diverge this can lead to testing failures
on the stable branch charms.

Update tests-requirements.txt to point to the stable branch of charm-helpers.

Change-Id: Icdd58f62dac5026ca67f2be0c1b00460fce1c997
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/77/657477/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e65e3a113fc020140096a1e237182c81cba2120e,use-stable-ch,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Ftripleo-common~stable%2Fstein~I2e43de001938bcdec96875ede0ef52d4742dc01c,openstack/tripleo-common,stable/stein,I2e43de001938bcdec96875ede0ef52d4742dc01c,bootstrap: install network-scripts if EL8,MERGED,2019-05-06 20:04:25.000000000,2019-05-07 12:04:54.000000000,2019-05-07 12:04:54.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 18851}, {'_account_id': 20147}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-06 20:04:25.000000000', 'files': ['roles/tripleo-bootstrap/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fac2c32d3fd81a74b5b296f0fc6ac1cddc087f7c', 'message': ""bootstrap: install network-scripts if EL8\n\nnetwork-scripts is required by the network service which is enabled\nin tasks/main.yml.\nAlso run this block of tasks on EL8 only, where it's actually needed.\n\nChange-Id: I2e43de001938bcdec96875ede0ef52d4742dc01c\nCloses-bug: 1827277\n(cherry picked from commit 878a7727b9d019c0520edb88c020e4eb740271f9)\n""}]",0,657448,fac2c32d3fd81a74b5b296f0fc6ac1cddc087f7c,9,7,1,3153,,,0,"bootstrap: install network-scripts if EL8

network-scripts is required by the network service which is enabled
in tasks/main.yml.
Also run this block of tasks on EL8 only, where it's actually needed.

Change-Id: I2e43de001938bcdec96875ede0ef52d4742dc01c
Closes-bug: 1827277
(cherry picked from commit 878a7727b9d019c0520edb88c020e4eb740271f9)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/48/657448/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-bootstrap/tasks/main.yml'],1,fac2c32d3fd81a74b5b296f0fc6ac1cddc087f7c,bug/1827277,- name: Deploy and enable network service when: ansible_distribution_major_version == '8' block: - name: Deploy network-scripts required for deprecated network service package: name: network-scripts become: true ignore_errors: true - name: Ensure network service is enabled service: name: network enabled: yes become: true,- name: Ensure network service is enabled service: name: network enabled: yes become: true,13,5
openstack%2Fnova~master~I5d905aeb5b25f84d406dbf238d0d3a46f0f81161,openstack/nova,master,I5d905aeb5b25f84d406dbf238d0d3a46f0f81161,Log when port resource is leaked during port delete,MERGED,2019-05-03 22:35:50.000000000,2019-05-07 11:50:30.000000000,2019-05-07 11:27:41.000000000,"[{'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8313}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-03 22:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e408bd50ad705a9b7ae2bac50d4df91b437a1f31', 'message': 'Log when port resource is leaked during port delete\n\nWhen a bound port deleted in the neutron nova got notified and the port\nis detached from the server. However if the port had resource request\nthen the resulting allocation is leaked.\n\nThis patch makes sure nova at least logs and ERROR. Also this patch\nasserts that the leaked allocation is reclaimed when the server is\ndeleted.\n\nChange-Id: I5d905aeb5b25f84d406dbf238d0d3a46f0f81161\nRelated-Bug: #1820588\n'}, {'number': 2, 'created': '2019-05-04 17:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/935068fd22470d8c76c547c4357e2c6465a19191', 'message': 'Log when port resource is leaked during port delete\n\nWhen a bound port is deleted in neutron, nova gets a\nnetwork-vif-deleted notification and the port is\ndetached from the server. However if the port had resource request\nthen the resulting allocation is leaked.\n\nThis patch makes sure nova at least logs an ERROR. Also this patch\nasserts that the leaked allocation is reclaimed when the server is\ndeleted.\n\nChange-Id: I5d905aeb5b25f84d406dbf238d0d3a46f0f81161\nRelated-Bug: #1820588\n'}, {'number': 3, 'created': '2019-05-05 11:56:35.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e9d572ddfad10da18603c55da1aad2e70da15381', 'message': 'Log when port resource is leaked during port delete\n\nWhen a bound port is deleted in neutron, nova gets a\nnetwork-vif-deleted notification and the port is\ndetached from the server. However if the port had resource request\nthen the resulting allocation is leaked.\n\nThis patch makes sure nova at least logs an ERROR. Also this patch\nasserts that the leaked allocation is reclaimed when the server is\ndeleted.\n\nChange-Id: I5d905aeb5b25f84d406dbf238d0d3a46f0f81161\nRelated-Bug: #1820588\n'}]",25,657079,e9d572ddfad10da18603c55da1aad2e70da15381,54,17,3,9708,,,0,"Log when port resource is leaked during port delete

When a bound port is deleted in neutron, nova gets a
network-vif-deleted notification and the port is
detached from the server. However if the port had resource request
then the resulting allocation is leaked.

This patch makes sure nova at least logs an ERROR. Also this patch
asserts that the leaked allocation is reclaimed when the server is
deleted.

Change-Id: I5d905aeb5b25f84d406dbf238d0d3a46f0f81161
Related-Bug: #1820588
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/657079/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/functional/test_servers.py']",2,e408bd50ad705a9b7ae2bac50d4df91b437a1f31,bug/1820588," def test_delete_bound_port_in_neutron_with_resource_request(self): """"""Neutron sends a network-vif-deleted os-server-external notification to nova when a bound port is deleted. Nova detach the vif from the server. If the port had resource allocation then that allocation is leaked. This test makes sure that 1) an ERROR is logged when the leak happens. 2) the leaked resource is reclaimed when the server is deleted. """""" port = self.neutron.port_with_resource_request # create a server server = self._create_server( flavor=self.flavor, networks=[{'port': port['id']}]) server = self._wait_for_state_change(self.admin_api, server, 'ACTIVE') allocations = self.placement_api.get( '/allocations/%s' % server['id']).body['allocations'] # We expect one set of allocations for the compute resources on the # compute rp and one set for the networking resources on the ovs bridge # rp due to the port resource request self.assertEqual(2, len(allocations)) compute_allocations = allocations[self.compute1_rp_uuid]['resources'] network_allocations = allocations[ self.ovs_bridge_rp_per_host[self.compute1_rp_uuid]]['resources'] self.assertEqual(self._resources_from_flavor(self.flavor), compute_allocations) self.assertPortMatchesAllocation(port, network_allocations) # We expect that only the RP uuid of the networking RP having the port # allocation is sent in the port binding for the port having resource # request updated_port = self.neutron.show_port(port['id'])['port'] binding_profile = updated_port['binding:profile'] self.assertEqual(self.ovs_bridge_rp_per_host[self.compute1_rp_uuid], binding_profile['allocation']) # neutron is faked in the functional test so this test just send in # a os-server-external notification to trigger the detach + ERROR log. events = { ""events"": [ { ""name"": ""network-vif-deleted"", ""server_uuid"": server['id'], ""tag"": port['id'], } ] } response = self.api.api_post('/os-server-external-events', events).body self.assertEqual(200, response['events'][0]['code']) # NOTE(gibi): the os-server-external-events is asynchron and there is # no notification emitted when this event is handled so we can only # do sleep a bit to ensure the thet detach happens time.sleep(2) allocations = self.placement_api.get( '/allocations/%s' % server['id']).body['allocations'] # Nova leaks the port allocation so the server still has the same # allocation before the port delete. self.assertEqual(2, len(allocations)) compute_allocations = allocations[self.compute1_rp_uuid]['resources'] port_rp_uuid = self.ovs_bridge_rp_per_host[self.compute1_rp_uuid] network_allocations = allocations[port_rp_uuid]['resources'] self.assertEqual(self._resources_from_flavor(self.flavor), compute_allocations) self.assertPortMatchesAllocation(port, network_allocations) # 1) At least nova logs an ERROR about the leak self.assertIn('ERROR [nova.compute.manager] The bound port ' '%(port_id)s is deleted in Neutron but the resource ' 'allocation on the resource provider %(rp_uuid)s is ' 'leaked until the server %(server_uuid)s is deleted.' % {'port_id': port['id'], 'rp_uuid': port_rp_uuid, 'server_uuid': server['id']}, self.stdlog.logger.output) # 2) Also nova will reclaim the leaked resource during the server # delete self._delete_and_check_allocations(server) ",,96,2
openstack%2Fnova~master~I1bdf3431bda2da98380e0dcaa9f952e6768ca3af,openstack/nova,master,I1bdf3431bda2da98380e0dcaa9f952e6768ca3af,Use migration_status during volume migrating and retyping,MERGED,2019-02-15 17:03:15.000000000,2019-05-07 11:39:28.000000000,2019-05-07 09:07:22.000000000,"[{'_account_id': 2243}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-02-15 17:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/104bb22e0369941eb41b228e5c4f125e60c3ae77', 'message': 'WIP Use migration_status during volume migrating and retyping\n\nWhen swapping volumes Nova has to identify if the switch itself is\nrealted to an underlying migration or retype of the volume by Cinder.\nNova would previously use the status of the volume to determine if the\nvolume was retyping or migrating.\n\nHowever in the migration case where a volume is moved directly between\nbackends this status has never been set by Cinder and would result in\nNova never calling the os-migrate_volume_completion cinder API to\ncomplete the migration.\n\nThis change ensures that migration_status is now used to ensure that\nthis API is called for both retypes and migrations.\n\nChange-Id: I1bdf3431bda2da98380e0dcaa9f952e6768ca3af\nCloses-bug: #1803961\n'}, {'number': 2, 'created': '2019-02-18 22:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55bf8d8505855ebc9104549ccea9b50bcfd89b2d', 'message': 'Use migration_status during volume migrating and retyping\n\nWhen swapping volumes Nova has to identify if the swap itself is related\nto an underlying migration or retype of the volume by Cinder.  Nova\nwould previously use the status of the volume to determine if the volume\nwas retyping or migrating.\n\nHowever in the migration case where a volume is moved directly between\nhosts the volume is never given a status  of migrating by Cinder leading\nto Nova never calling the os-migrate_volume_completion cinder API to\ncomplete the migration.\n\nThis change switches Nova to use the migration_status of the volume to\nensure that this API is called for both retypes and migrations.\n\nChange-Id: I1bdf3431bda2da98380e0dcaa9f952e6768ca3af\nCloses-bug: #1803961\n'}, {'number': 3, 'created': '2019-02-24 19:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fcbd6c40ec2ecf8416b2cd98790bfc80e82bd31', 'message': 'Use migration_status during volume retype and migration\n\nWhen called to swap attached volumes Nova has to identify if the swap\nitself relates to an underlying migration or retype of the volume by\nCinder. Nova would previously use the status of the volume being set to\nmigrating to determine if the volume was retyping or migrating.\n\nHowever in the migration case where Cinder is moving the volume directly\nbetween backends the status is never set to migrating, This would\npreviously lead to Nova never calling the os-migrate_volume_completion\ncinder API to complete the migration as documented in bug #1803961.\n\nThis change corrects this by switching Nova to use the migration_status\nof the volume to determine when a volume is being retyped or migrating.\nIn both cases the volume will have a migration_status of migrating when\nNova is called by Cinder to swap to the new volume. This will then\nensure that the os-migrate_volume_completion API is called correctly\nonce Nova has completed the swap.\n\nChange-Id: I1bdf3431bda2da98380e0dcaa9f952e6768ca3af\nCloses-bug: #1803961\n'}, {'number': 4, 'created': '2019-02-26 13:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/301f8e000cd16a7ed356797ee9c39c51d9918d6b', 'message': 'WIP Use migration_status during volume migrating and retyping\n\nWhen swapping volumes Nova has to identify if the swap itself is related\nto an underlying migration or retype of the volume by Cinder.  Nova\nwould previously use the status of the volume to determine if the volume\nwas retyping or migrating.\n\nHowever in the migration case where a volume is moved directly between\nhosts the volume is never given a status  of migrating by Cinder leading\nto Nova never calling the os-migrate_volume_completion cinder API to\ncomplete the migration.\n\nThis change switches Nova to use the migration_status of the volume to\nensure that this API is called for both retypes and migrations.\n\nChange-Id: I1bdf3431bda2da98380e0dcaa9f952e6768ca3af\nCloses-bug: #1803961\n'}, {'number': 5, 'created': '2019-03-01 15:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6723096813c92696c3fa84f3b8507d9442def11e', 'message': 'Use migration_status during volume migrating and retyping\n\nWhen swapping volumes Nova has to identify if the swap itself is related\nto an underlying migration or retype of the volume by Cinder.  Nova\nwould previously use the status of the volume to determine if the volume\nwas retyping or migrating.\n\nHowever in the migration case where a volume is moved directly between\nhosts the volume is never given a status  of migrating by Cinder leading\nto Nova never calling the os-migrate_volume_completion cinder API to\ncomplete the migration.\n\nThis change switches Nova to use the migration_status of the volume to\nensure that this API is called for both retypes and migrations.\n\nDepends-On: https://review.openstack.org/#/c/639331/\nChange-Id: I1bdf3431bda2da98380e0dcaa9f952e6768ca3af\nCloses-bug: #1803961\n'}, {'number': 6, 'created': '2019-03-22 09:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6c918c6a1dc4c7653561f4768af962c8f7c7bf6', 'message': 'Use migration_status during volume migrating and retyping\n\nWhen swapping volumes Nova has to identify if the swap itself is related\nto an underlying migration or retype of the volume by Cinder.  Nova\nwould previously use the status of the volume to determine if the volume\nwas retyping or migrating.\n\nHowever in the migration case where a volume is moved directly between\nhosts the volume is never given a status  of migrating by Cinder leading\nto Nova never calling the os-migrate_volume_completion cinder API to\ncomplete the migration.\n\nThis change switches Nova to use the migration_status of the volume to\nensure that this API is called for both retypes and migrations.\n\nDepends-On: https://review.openstack.org/#/c/639331/\nChange-Id: I1bdf3431bda2da98380e0dcaa9f952e6768ca3af\nCloses-bug: #1803961\n'}, {'number': 7, 'created': '2019-04-04 11:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fabcbc884ada74e175bb0b8c34a9abf2a3982e6', 'message': 'Use migration_status during volume migrating and retyping\n\nWhen swapping volumes Nova has to identify if the swap itself is related\nto an underlying migration or retype of the volume by Cinder.  Nova\nwould previously use the status of the volume to determine if the volume\nwas retyping or migrating.\n\nHowever in the migration case where a volume is moved directly between\nhosts the volume is never given a status  of migrating by Cinder leading\nto Nova never calling the os-migrate_volume_completion cinder API to\ncomplete the migration.\n\nThis change switches Nova to use the migration_status of the volume to\nensure that this API is called for both retypes and migrations.\n\nDepends-On: https://review.openstack.org/#/c/639331/\nChange-Id: I1bdf3431bda2da98380e0dcaa9f952e6768ca3af\nCloses-bug: #1803961\n'}, {'number': 8, 'created': '2019-04-09 13:21:28.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/volume/cinder.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/53c3cfa7a02d684ce27800e22e00a816af44c510', 'message': 'Use migration_status during volume migrating and retyping\n\nWhen swapping volumes Nova has to identify if the swap itself is related\nto an underlying migration or retype of the volume by Cinder.  Nova\nwould previously use the status of the volume to determine if the volume\nwas retyping or migrating.\n\nHowever in the migration case where a volume is moved directly between\nhosts the volume is never given a status  of migrating by Cinder leading\nto Nova never calling the os-migrate_volume_completion cinder API to\ncomplete the migration.\n\nThis change switches Nova to use the migration_status of the volume to\nensure that this API is called for both retypes and migrations.\n\nDepends-On: https://review.openstack.org/#/c/639331/\nChange-Id: I1bdf3431bda2da98380e0dcaa9f952e6768ca3af\nCloses-bug: #1803961\n'}]",15,637224,53c3cfa7a02d684ce27800e22e00a816af44c510,107,16,8,10135,,,0,"Use migration_status during volume migrating and retyping

When swapping volumes Nova has to identify if the swap itself is related
to an underlying migration or retype of the volume by Cinder.  Nova
would previously use the status of the volume to determine if the volume
was retyping or migrating.

However in the migration case where a volume is moved directly between
hosts the volume is never given a status  of migrating by Cinder leading
to Nova never calling the os-migrate_volume_completion cinder API to
complete the migration.

This change switches Nova to use the migration_status of the volume to
ensure that this API is called for both retypes and migrations.

Depends-On: https://review.openstack.org/#/c/639331/
Change-Id: I1bdf3431bda2da98380e0dcaa9f952e6768ca3af
Closes-bug: #1803961
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/637224/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/volume/cinder.py', 'nova/compute/manager.py']",2,104bb22e0369941eb41b228e5c4f125e60c3ae77,bug/1803961, is_cinder_migration = False if 'migration_status' in old_volume: is_cinder_migration = old_volume['migration_status'] == 'migrating'," is_cinder_migration = ( True if old_volume['status'] in ('retyping', 'migrating') else False)",6,3
openstack%2Fnova~master~I9d77ee9007965285261362e7170114455b3bf29a,openstack/nova,master,I9d77ee9007965285261362e7170114455b3bf29a,Fix assert methods in unit tests,MERGED,2019-05-07 04:48:21.000000000,2019-05-07 11:27:55.000000000,2019-05-07 11:27:55.000000000,"[{'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23253}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-07 04:48:21.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3c411febf8b67f93cf16e639aed043f7312f9577', 'message': 'Fix assert methods in unit tests\n\nChange-Id: I9d77ee9007965285261362e7170114455b3bf29a\nCloses-Bug: #1827984\n'}]",0,657525,3c411febf8b67f93cf16e639aed043f7312f9577,15,11,1,7634,,,0,"Fix assert methods in unit tests

Change-Id: I9d77ee9007965285261362e7170114455b3bf29a
Closes-Bug: #1827984
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/657525/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/compute/test_compute_mgr.py'],1,3c411febf8b67f93cf16e639aed043f7312f9577,bug/1827984," mock_failedspawn.assert_not_called() assert_called_once_with(self.context, self.instance)"," mock_failedspawn.asset_not_called() asset_called_once_with(self.context, self.instance)",2,2
openstack%2Fswift~master~I31070067913560d6147f95d0fdfba4f9f9ce0936,openstack/swift,master,I31070067913560d6147f95d0fdfba4f9f9ce0936,[Trivial fix]Remove unnecessary slash,MERGED,2019-05-06 06:25:50.000000000,2019-05-07 11:27:51.000000000,2019-05-07 11:27:51.000000000,"[{'_account_id': 15343}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 06:25:50.000000000', 'files': ['swift/common/utils.py', 'swift/common/middleware/ratelimit.py', 'swift/cli/recon.py', 'swift/common/middleware/s3api/controllers/multi_upload.py', 'swift/common/middleware/formpost.py', 'swift/common/middleware/x_profile/html_viewer.py', 'swift/proxy/server.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6d63297f02b434e439ff32411ca322d0d97087ba', 'message': ""[Trivial fix]Remove unnecessary slash\n\nThis is to remove the unncessary slash when the line doesn't\nexceed the length of 79, to make the code more readable.\n\nChange-Id: I31070067913560d6147f95d0fdfba4f9f9ce0936\n""}]",1,657323,6d63297f02b434e439ff32411ca322d0d97087ba,16,3,1,20190,,,0,"[Trivial fix]Remove unnecessary slash

This is to remove the unncessary slash when the line doesn't
exceed the length of 79, to make the code more readable.

Change-Id: I31070067913560d6147f95d0fdfba4f9f9ce0936
",git fetch https://review.opendev.org/openstack/swift refs/changes/23/657323/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'swift/common/middleware/ratelimit.py', 'swift/cli/recon.py', 'swift/common/middleware/s3api/controllers/multi_upload.py', 'swift/common/middleware/formpost.py', 'swift/common/middleware/x_profile/html_viewer.py', 'swift/proxy/server.py', 'swift/proxy/controllers/base.py']",8,6d63297f02b434e439ff32411ca322d0d97087ba,slash," (version, account, _junk, _junk) = split_path(env['PATH_INFO'], 2, 4, True) res.environ['swift_x_timestamp'] = source.getheader('x-timestamp')"," (version, account, _junk, _junk) = \ split_path(env['PATH_INFO'], 2, 4, True) res.environ['swift_x_timestamp'] = \ source.getheader('x-timestamp')",11,22
openstack%2Fkeystone~master~I7cd39dacaa1f2cdc2d74da39ae3971246e922907,openstack/keystone,master,I7cd39dacaa1f2cdc2d74da39ae3971246e922907,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-22 04:16:06.000000000,2019-05-07 11:27:46.000000000,2019-05-07 11:27:46.000000000,"[{'_account_id': 9414}, {'_account_id': 11022}, {'_account_id': 15054}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-04-22 04:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/325b7f47687648978ebd834c76a57aba86b3d16d', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nThorough replacement of git.openstack.org URLs with their opendev.org\ncounterparts.\n\nChange-Id: I7cd39dacaa1f2cdc2d74da39ae3971246e922907\n'}, {'number': 2, 'created': '2019-04-24 03:51:15.000000000', 'files': ['releasenotes/notes/extensions-to-core-a0d270d216d47276.yaml', 'doc/source/contributor/set-up-keystone.rst', 'keystone/common/sql/migrate_repo/README', 'releasenotes/notes/deprecated-as-of-queens-8ad7f826e4f08f57.yaml', 'README.rst', 'doc/source/getting-started/architecture.rst', 'releasenotes/notes/bug-1705485-7a1ad17b9cc99b9d.yaml', 'doc/source/contributor/database-migrations.rst', 'doc/source/cli/keystone-status.rst', 'doc/source/getting-started/community.rst', 'doc/source/contributor/proposing-features.rst', 'doc/source/contributor/testing-keystone.rst', 'doc/source/contributor/api_change_tutorial.rst', 'doc/source/contributor/services.rst', 'doc/source/index.rst', 'keystone/common/sql/expand_repo/README', 'doc/source/contributor/how-can-i-help.rst', 'keystone_tempest_plugin/README.rst', 'keystone/common/sql/contract_repo/README', 'keystone/common/sql/data_migration_repo/README', 'tox.ini', 'doc/source/admin/federation/configure_federation.rst', 'doc/source/cli/keystone-manage.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5f90447b408219e46dde83526235bc68a9c162fe', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nThorough replacement of git.openstack.org URLs with their opendev.org\ncounterparts.\n\nChange-Id: I7cd39dacaa1f2cdc2d74da39ae3971246e922907\n'}]",0,654296,5f90447b408219e46dde83526235bc68a9c162fe,16,6,2,9414,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Thorough replacement of git.openstack.org URLs with their opendev.org
counterparts.

Change-Id: I7cd39dacaa1f2cdc2d74da39ae3971246e922907
",git fetch https://review.opendev.org/openstack/keystone refs/changes/96/654296/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/extensions-to-core-a0d270d216d47276.yaml', 'doc/source/contributor/set-up-keystone.rst', 'keystone/common/sql/migrate_repo/README', 'releasenotes/notes/deprecated-as-of-queens-8ad7f826e4f08f57.yaml', 'README.rst', 'doc/source/getting-started/architecture.rst', 'releasenotes/notes/bug-1705485-7a1ad17b9cc99b9d.yaml', 'doc/source/contributor/database-migrations.rst', 'doc/source/cli/keystone-status.rst', 'doc/source/getting-started/community.rst', 'doc/source/contributor/proposing-features.rst', 'doc/source/contributor/testing-keystone.rst', 'doc/source/contributor/api_change_tutorial.rst', 'doc/source/contributor/services.rst', 'doc/source/index.rst', 'keystone/common/sql/expand_repo/README', 'doc/source/contributor/how-can-i-help.rst', 'keystone_tempest_plugin/README.rst', 'keystone/common/sql/contract_repo/README', 'keystone/common/sql/data_migration_repo/README', 'tox.ini', 'doc/source/admin/federation/configure_federation.rst', 'doc/source/cli/keystone-manage.rst']",23,325b7f47687648978ebd834c76a57aba86b3d16d,opendev,* Keystone is sourced in Gerrit git `Keystone <https://opendev.org/openstack/keystone>`__,* Keystone is sourced in Gerrit git `Keystone <https://git.openstack.org/cgit/openstack/keystone>`__,42,42
openstack%2Finstack-undercloud~stable%2Frocky~Ib2e27b1b43f573385c089e57bd2290daac49d814,openstack/instack-undercloud,stable/rocky,Ib2e27b1b43f573385c089e57bd2290daac49d814,Get the stack name if possible before running the validations group,MERGED,2018-11-20 23:08:09.000000000,2019-05-07 11:22:10.000000000,2018-12-13 20:06:57.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 22895}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-11-20 23:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/a4f42620dcee933ae262ff2263f6af1914e97812', 'message': ""Get the stack name if possible before running the validations group\n\nIf we run the group validations in the Undercloud and we\ndo not specify the stack name, this will fail if the\nOvercloud stack is not called 'overcloud'.\n\nIn this case we try to fetch the stack name and we compare it\nwith the swift containers to match the deployment plan name\nif there is a match, then we know the stack name.\n\nChange-Id: Ib2e27b1b43f573385c089e57bd2290daac49d814\nTODO: Add all the bugs and BZ'r references...\n""}, {'number': 2, 'created': '2018-11-20 23:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/1d36cd94fdf2a20594bc29e325cc6af87b68d35a', 'message': ""Get the stack name if possible before running the validations group\n\nIf we run the group validations in the Undercloud and we\ndo not specify the stack name, this will fail if the\nOvercloud stack is not called 'overcloud'.\n\nIn this case we try to fetch the stack name and we compare it\nwith the swift containers to match the deployment plan name\nif there is a match, then we know the stack name.\n\nChange-Id: Ib2e27b1b43f573385c089e57bd2290daac49d814\nTODO: Add all the bugs and BZ'r references...\n""}, {'number': 3, 'created': '2018-11-21 08:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/f9ddc9d7b5824307c2386befb2a8c71483d49e4e', 'message': ""Get the stack name if possible before running the validations group\n\nIf we run the group validations in the Undercloud and we\ndo not specify the stack name, this will fail if the\nOvercloud stack is not called 'overcloud'.\n\nIn this case we try to fetch the stack name and we compare it\nwith the swift containers to match the deployment plan name\nif there is a match, then we know the stack name.\n\nChange-Id: Ib2e27b1b43f573385c089e57bd2290daac49d814\nTODO: Add all the bugs and BZ'r references...\n""}, {'number': 4, 'created': '2018-11-21 11:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/88a444c61407854db6e08b3498703ba43cc56cc2', 'message': ""Get the stack name if possible before running the validations group\n\nIf we run the group validations in the Undercloud and we\ndo not specify the stack name, this will fail if the\nOvercloud stack is not called 'overcloud'.\n\nIn this case we try to fetch the stack name and we compare it\nwith the swift containers to match the deployment plan name\nif there is a match, then we know the stack name.\n\nChange-Id: Ib2e27b1b43f573385c089e57bd2290daac49d814\nTODO: Add all the bugs and BZ'r references...\n""}, {'number': 5, 'created': '2018-11-21 11:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/8471d3c75e56685d7fea282ad6f76a7f3674e8ea', 'message': ""Get the stack name if possible before running the validations group\n\nIf we run the group validations in the Undercloud and we\ndo not specify the stack name, this will fail if the\nOvercloud stack is not called 'overcloud'.\n\nIn this case we try to fetch the stack name and we compare it\nwith the swift containers to match the deployment plan name\nif there is a match, then we know the stack name.\n\nChange-Id: Ib2e27b1b43f573385c089e57bd2290daac49d814\nTODO: Add all the bugs and BZ'r references...\n""}, {'number': 6, 'created': '2018-11-21 15:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/c090fccdd410e3f3cff466096b17db9c987f0865', 'message': ""Get the stack name if possible before running the validations group\n\nIf we run the group validations in the Undercloud and we\ndo not specify the stack name, this will fail if the\nOvercloud stack is not called 'overcloud'.\n\nIn this case we try to fetch the stack name and we compare it\nwith the swift containers to match the deployment plan name\nif there is a match, then we know the stack name.\n\nChange-Id: Ib2e27b1b43f573385c089e57bd2290daac49d814\nTODO: Add all the bugs and BZ'r references...\n""}, {'number': 7, 'created': '2018-11-21 19:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/eb88fef18adc600e29bbacf886943e1e944e8f57', 'message': ""Get the stack name if possible before running the validations group\n\nIf we run the group validations in the Undercloud and we\ndo not specify the stack name, this will fail if the\nOvercloud stack is not called 'overcloud'.\n\nIn this case we try to fetch the stack name and we compare it\nwith the swift containers to match the deployment plan name\nif there is a match, then we know the stack name.\n\nChange-Id: Ib2e27b1b43f573385c089e57bd2290daac49d814\nTODO: Add all the bugs and BZ'r references...\n""}, {'number': 8, 'created': '2018-11-21 19:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/187c7e250788605bc5410d85c6f60d871c299d8e', 'message': ""Get the stack name if possible before running the validations group\n\nIf we run the group validations in the Undercloud and we\ndo not specify the stack name, this will fail if the\nOvercloud stack is not called 'overcloud'.\n\nIn this case we try to fetch the stack name and we compare it\nwith the swift containers to match the deployment plan name\nif there is a match, then we know the stack name.\n\nChange-Id: Ib2e27b1b43f573385c089e57bd2290daac49d814\nTODO: Add all the bugs and BZ'r references...\n""}, {'number': 9, 'created': '2018-11-21 20:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/6ddb78c11327d11019156aa7c3971cd1f7c36464', 'message': ""Get the stack name if possible before running the validations group\n\nIf we run the group validations in the Undercloud and we\ndo not specify the stack name, this will fail if the\nOvercloud stack is not called 'overcloud'.\n\nIn this case we try to fetch the stack name and we compare it\nwith the swift containers to match the deployment plan name\nif there is a match, then we know the stack name.\n\nChange-Id: Ib2e27b1b43f573385c089e57bd2290daac49d814\nTODO: Add all the bugs and BZ'r references...\n""}, {'number': 10, 'created': '2018-12-04 09:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/4dca97e380f343da60f52f01752915375026c069', 'message': ""Get the stack name if possible before running the validations group\n\nIf we run the group validations in the Undercloud and we\ndo not specify the stack name, this will fail if the\nOvercloud stack is not called 'overcloud'.\n\nIn this case we try to fetch the stack name and we compare it\nwith the swift containers to match the deployment plan name\nif there is a match, then we know the stack name.\n\nChange-Id: Ib2e27b1b43f573385c089e57bd2290daac49d814\nTODO: Add all the bugs and BZ'r references...\n""}, {'number': 11, 'created': '2018-12-04 12:36:06.000000000', 'files': ['instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/227ce3fc90e5b07d7902ee6299e65b2c2ba9cf9b', 'message': ""Get the stack name if possible before running the validations group\n\nIf we run the group validations in the Undercloud and we\ndo not specify the stack name, this will fail if the\nOvercloud stack is not called 'overcloud'.\n\nIn this case we try to fetch the stack name and we compare it\nwith the swift containers to match the deployment plan name\nif there is a match, then we know the stack name.\n\nChange-Id: Ib2e27b1b43f573385c089e57bd2290daac49d814\nCloses-Bug: 1806684\nResolves: rhbz#1573120\n""}]",1,619112,227ce3fc90e5b07d7902ee6299e65b2c2ba9cf9b,32,12,11,20775,,,0,"Get the stack name if possible before running the validations group

If we run the group validations in the Undercloud and we
do not specify the stack name, this will fail if the
Overcloud stack is not called 'overcloud'.

In this case we try to fetch the stack name and we compare it
with the swift containers to match the deployment plan name
if there is a match, then we know the stack name.

Change-Id: Ib2e27b1b43f573385c089e57bd2290daac49d814
Closes-Bug: 1806684
Resolves: rhbz#1573120
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/12/619112/7 && git format-patch -1 --stdout FETCH_HEAD,['instack_undercloud/undercloud.py'],1,a4f42620dcee933ae262ff2263f6af1914e97812,619112," swift = swiftclient.Connection(session=sess) plans = [container[""name""] for container in swift.get_account()[1]] user, password, project, auth_url = _get_auth_values() heat = os_client_config.make_client('orchestration', auth_url=auth_url, username=user, password=password, project_name=project, project_domain_name='Default', user_domain_name='Default') stack_names_list = [stack.stack_name for stack in heat.stacks.list()] existing_stack = list(set(plans) & set(stack_names_list)) # We can not run the validations if we do not have the Overcloud deployed # We are running a group validation and if the validation runs in both # the Undercloud and Overcloud nodes is mandatory to define the Overcloud # stack name. For example there are validations in the post-upgrade group # that will run in both the Undercloud and Overcloud making this mistral # execution fail. if existing_stack: LOG.info('Starting and waiting for validation groups %s ', groups) execution = mistral.executions.create( 'tripleo.validations.v1.run_groups', workflow_input={'group_names': groups, 'plan': existing_stack[0]} ) fail_message = (""error running the validation groups %s "" % groups) timeout_at = time.time() + timeout _wait_for_mistral_execution(timeout_at, mistral, execution, fail_message, fail_on_error) else: LOG.info('We can not run validations if the Overcloud is not deployed')"," LOG.info('Starting and waiting for validation groups %s ', groups) execution = mistral.executions.create( 'tripleo.validations.v1.run_groups', workflow_input={'group_names': groups} ) fail_message = (""error running the validation groups %s "" % groups) timeout_at = time.time() + timeout _wait_for_mistral_execution(timeout_at, mistral, execution, fail_message, fail_on_error)",38,9
openstack%2Fcinder~master~Iedba1f487aa432c8da009d6bbf28536d048f6f1d,openstack/cinder,master,Iedba1f487aa432c8da009d6bbf28536d048f6f1d,Remove unused exception,ABANDONED,2019-05-07 11:09:24.000000000,2019-05-07 11:17:21.000000000,,"[{'_account_id': 12369}, {'_account_id': 15296}, {'_account_id': 16897}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 24921}]","[{'number': 1, 'created': '2019-05-07 11:09:24.000000000', 'files': ['cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e86458d422e1b9478bb4a04c52c6ab7e2491abec', 'message': ""Remove unused exception\n\nInvalidAttachment exception isn't used in the code anymore so\nremoving it.\n\nChange-Id: Iedba1f487aa432c8da009d6bbf28536d048f6f1d\n""}]",0,657570,e86458d422e1b9478bb4a04c52c6ab7e2491abec,8,6,1,27615,,,0,"Remove unused exception

InvalidAttachment exception isn't used in the code anymore so
removing it.

Change-Id: Iedba1f487aa432c8da009d6bbf28536d048f6f1d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/657570/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/exception.py'],1,e86458d422e1b9478bb4a04c52c6ab7e2491abec,,,"class InvalidAttachment(Invalid): message = _(""Invalid attachment: %(reason)s"") ",0,4
openstack%2Ftraining-labs~master~Ia16920c800521d84a2795dea03abe67536d28362,openstack/training-labs,master,Ia16920c800521d84a2795dea03abe67536d28362,Remove code for i386 arch on bionic (no ISO image available),MERGED,2019-05-07 05:44:57.000000000,2019-05-07 11:08:02.000000000,2019-05-07 11:08:02.000000000,"[{'_account_id': 11109}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-07 05:44:57.000000000', 'files': ['labs/stacktrain/distros/ubuntu_18_04_server_amd64.py'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/7e33c809da26c95861ddf8ac5c37dfb66ebcc928', 'message': 'Remove code for i386 arch on bionic (no ISO image available)\n\nChange-Id: Ia16920c800521d84a2795dea03abe67536d28362\n'}]",0,657528,7e33c809da26c95861ddf8ac5c37dfb66ebcc928,7,3,1,11109,,,0,"Remove code for i386 arch on bionic (no ISO image available)

Change-Id: Ia16920c800521d84a2795dea03abe67536d28362
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/28/657528/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/stacktrain/distros/ubuntu_18_04_server_amd64.py'],1,7e33c809da26c95861ddf8ac5c37dfb66ebcc928,drop_i386_bionic," logger.error(""Arch: i386 unsupported in bionic. Aborting."") sys.exit(1)"," self.url = (""http://cloud-images.ubuntu.com/xenial/current/"" ""xenial-server-cloudimg-i386-disk1.img"") self.release_name = ""ubuntu-18.04-i386"" self.md5 = ""ff3ee93fd36d7d002a0b841eec7501e6"" conf.vbox_ostype = ""Ubuntu"" else: ma = re.search(r""(.*) \*{0,1}(.*server-i386.iso)"", txt)",2,7
openstack%2Fnetworking-ovn~master~I1251f33a2a93b0d99574dc94ca000b1f4eb9be99,openstack/networking-ovn,master,I1251f33a2a93b0d99574dc94ca000b1f4eb9be99,Set ostestr concurrency to 0 to fix networking-ovn gate,MERGED,2019-05-05 10:50:02.000000000,2019-05-07 11:06:27.000000000,2019-05-06 13:12:03.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-05-05 10:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b45fa72969aaf73bd4c920565fe63de8bb80a2c2', 'message': 'Add concurrency support to os-testr\n\nCurrently there seems to be an incompatibility in how\nos-testr is being used with stestr-2.3.1, because of which\nerrors are generated. Till the time the inconsistency is not\nresolved, run os-testr with concurrency 0 to avoid this issue.\n\nChange-Id: I1251f33a2a93b0d99574dc94ca000b1f4eb9be99\n'}, {'number': 2, 'created': '2019-05-06 07:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/acbaa6624066bd4247a7010cde35226e0a4693fe', 'message': 'Add concurrency support to os-testr\n\nCurrently there seems to be an incompatibility in how\nos-testr is being used with stestr-2.3.1, because of which\nerrors are generated. Till the time the inconsistency is not\nresolved, run os-testr with concurrency 0 to avoid this issue.\n\nCloses-Bug: #1827834\nChange-Id: I1251f33a2a93b0d99574dc94ca000b1f4eb9be99\n'}, {'number': 3, 'created': '2019-05-06 10:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3a5fd7a35c95bcfdc320a36f39aec28d500b36be', 'message': 'Fix incompatibility between stestr-2.3.1 and ostestr\n\nCurrently there is an incompatibility between stestr-2.3.1 and os-testr,\nbecause of which tox jobs are failing in networking-ovn. This is because\nostestr passes --concurrency None to stestr and after [1] merged, stestr\nis expecting only integer values. Till [2] is not released in the\nupdated stestr version, run stestr with --concurrency 0 so that parallel\njobs (number of jobs = number of CPUs) can run with stestr, thus fixing\nthe issue with tox and the gate failures resulting because of this\ninconsistency.\n\n[1]: https://github.com/mtreinish/stestr/commit/c93bc81\n[2]: https://github.com/mtreinish/stestr/commit/ac8dac0\n\nRelated-Bug: #1827834\nChange-Id: I1251f33a2a93b0d99574dc94ca000b1f4eb9be99\n'}, {'number': 4, 'created': '2019-05-06 10:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/92720ef373eacff13da9e8bbca779a593b8e8a4c', 'message': 'Fix gate failure for networking-ovn\n\nCurrently due to an incompatibility between stestr-2.3.1 and os-testr,\ngate jobs are failing in networking-ovn. This is because ostestr passes\n--concurrency None to stestr and after [1] merged, stestr\nis expecting only integer values. Till [2] is not released in the\nupdated stestr version, run stestr with --concurrency 0.\n--concurrency 0 allows to run as many jobs as there are CPUs in the\nsystem, allowing paralle execution in stestr.\nThis temporarily fixes the issue with tox and the gate failures\nresulting because of this inconsistency. Once [2] is released, this\nchange can be reverted.\n\n[1]: https://github.com/mtreinish/stestr/commit/c93bc81\n[2]: https://github.com/mtreinish/stestr/commit/ac8dac0\n\nRelated-Bug: #1827834\nChange-Id: I1251f33a2a93b0d99574dc94ca000b1f4eb9be99\n'}, {'number': 5, 'created': '2019-05-06 11:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/46c665c74b68e839394ecb6871c4c98fdfc2e56e', 'message': 'Set ostestr concurrency to 0 to fix networking-ovn gate\n\nCurrently due to an incompatibility between stestr-2.3.1 and os-testr,\ngate jobs are failing in networking-ovn. This is because ostestr passes\n--concurrency None to stestr and after [1] merged, stestr\nis expecting only integer values. Till [2] is not released in the\nupdated stestr version, run stestr with --concurrency 0.\n--concurrency 0 allows to run as many jobs as there are CPUs in the\nsystem, allowing paralle execution in stestr.\nThis temporarily fixes the issue with tox and the gate failures\nresulting because of this inconsistency. Once [2] is released, this\nchange can be reverted.\n\n[1]: https://github.com/mtreinish/stestr/commit/c93bc81\n[2]: https://github.com/mtreinish/stestr/commit/ac8dac0\n\nRelated-Bug: #1827834\nChange-Id: I1251f33a2a93b0d99574dc94ca000b1f4eb9be99\n'}, {'number': 6, 'created': '2019-05-06 12:19:50.000000000', 'files': ['tools/ostestr_compat_shim.sh'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b04a2341126becbd7b449be6950cfaae4b01a2e5', 'message': 'Set ostestr concurrency to 0 to fix networking-ovn gate\n\nCurrently due to an incompatibility between stestr-2.3.1 and os-testr,\ngate jobs are failing in networking-ovn. This is because ostestr passes\n--concurrency None to stestr and after [1] merged, stestr\nis expecting only integer values. Till [2] is not released in the\nupdated stestr version, run stestr with --concurrency 0.\n--concurrency 0 allows to run as many jobs as there are CPUs in the\nsystem, allowing parallel execution in stestr.\nThis temporarily fixes the issue with tox and the gate failures\nresulting because of this inconsistency. Once [2] is released, this\nchange can be reverted.\n\n[1]: https://github.com/mtreinish/stestr/commit/c93bc81\n[2]: https://github.com/mtreinish/stestr/commit/ac8dac0\n\nRelated-Bug: #1827834\nChange-Id: I1251f33a2a93b0d99574dc94ca000b1f4eb9be99\n'}]",13,657223,b04a2341126becbd7b449be6950cfaae4b01a2e5,32,5,6,17776,,,0,"Set ostestr concurrency to 0 to fix networking-ovn gate

Currently due to an incompatibility between stestr-2.3.1 and os-testr,
gate jobs are failing in networking-ovn. This is because ostestr passes
--concurrency None to stestr and after [1] merged, stestr
is expecting only integer values. Till [2] is not released in the
updated stestr version, run stestr with --concurrency 0.
--concurrency 0 allows to run as many jobs as there are CPUs in the
system, allowing parallel execution in stestr.
This temporarily fixes the issue with tox and the gate failures
resulting because of this inconsistency. Once [2] is released, this
change can be reverted.

[1]: https://github.com/mtreinish/stestr/commit/c93bc81
[2]: https://github.com/mtreinish/stestr/commit/ac8dac0

Related-Bug: #1827834
Change-Id: I1251f33a2a93b0d99574dc94ca000b1f4eb9be99
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/23/657223/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/ostestr_compat_shim.sh'],1,b45fa72969aaf73bd4c920565fe63de8bb80a2c2,stestr-compatible-changes," (*--*) ostestr --concurrency 0 $@;; ('') ostestr --concurrency 0;; (*) ostestr --concurrency 0 --regex ""$@"""," (*--*) ostestr $@;; ('') ostestr;; (*) ostestr --regex ""$@""",3,3
openstack%2Fdiskimage-builder~master~I114c739d11d0cfe3b8d8abc6df5ff989edfb67f2,openstack/diskimage-builder,master,I114c739d11d0cfe3b8d8abc6df5ff989edfb67f2,Support defining the free space in the image,MERGED,2019-04-23 12:41:06.000000000,2019-05-07 10:14:01.000000000,2019-05-07 10:14:01.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 16068}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-23 12:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f79804fa4a60c9749b850fec9da8719de2ec4501', 'message': 'Support defining the free space in the image\n\nCurrently diskimage-builder supports two ways to specify the image\nsize. One is defining a fixed image size using DIB_IMAGE_SIZE, the\nother one is auto-detection while adding a security margin of 66% as\nfree space. This means when building larger images (e.g. >100GB) with\nunknown size upfront we end up with much wasted space, IO and network\ntraffic when uploading the images to several cloud providers. This can\nbe optimized by adding a third way by defining DIB_IMAGE_EXTRA_SIZE to\nspecify the free space in GB. This makes it possible to easily build\nimages of varying sizes while still minimizing the overhead by keeping\nthe free space constant to e.g. 1GB.\n\nChange-Id: I114c739d11d0cfe3b8d8abc6df5ff989edfb67f2\n'}, {'number': 2, 'created': '2019-04-29 07:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cfbb2cc6cc423ab7ea58b99e4ae8b8aa09b464c6', 'message': 'Support defining the free space in the image\n\nCurrently diskimage-builder supports two ways to specify the image\nsize. One is defining a fixed image size using DIB_IMAGE_SIZE, the\nother one is auto-detection while adding a security margin of 60% as\nfree space. This means when building larger images (e.g. >100GB) with\nunknown size upfront we end up with much wasted space, IO and network\ntraffic when uploading the images to several cloud providers. This can\nbe optimized by adding a third way by defining DIB_IMAGE_EXTRA_SIZE to\nspecify the free space in GB. This makes it possible to easily build\nimages of varying sizes while still minimizing the overhead by keeping\nthe free space constant to e.g. 1GB.\n\nChange-Id: I114c739d11d0cfe3b8d8abc6df5ff989edfb67f2\n'}, {'number': 3, 'created': '2019-04-29 10:18:56.000000000', 'files': ['releasenotes/notes/image-size-padding-24f88d1c4a215221.yaml', 'doc/source/user_guide/building_an_image.rst', 'diskimage_builder/lib/disk-image-create'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/778d0071506fd45c28dbe504fec3437418a9e163', 'message': 'Support defining the free space in the image\n\nCurrently diskimage-builder supports two ways to specify the image\nsize. One is defining a fixed image size using DIB_IMAGE_SIZE, the\nother one is auto-detection while adding a security margin of 60% as\nfree space. This means when building larger images (e.g. >100GB) with\nunknown size upfront we end up with much wasted space, IO and network\ntraffic when uploading the images to several cloud providers. This can\nbe optimized by adding a third way by defining DIB_IMAGE_EXTRA_SIZE to\nspecify the free space in GB. This makes it possible to easily build\nimages of varying sizes while still minimizing the overhead by keeping\nthe free space constant to e.g. 1GB.\n\nChange-Id: I114c739d11d0cfe3b8d8abc6df5ff989edfb67f2\n'}]",0,655127,778d0071506fd45c28dbe504fec3437418a9e163,25,5,3,16068,,,0,"Support defining the free space in the image

Currently diskimage-builder supports two ways to specify the image
size. One is defining a fixed image size using DIB_IMAGE_SIZE, the
other one is auto-detection while adding a security margin of 60% as
free space. This means when building larger images (e.g. >100GB) with
unknown size upfront we end up with much wasted space, IO and network
traffic when uploading the images to several cloud providers. This can
be optimized by adding a third way by defining DIB_IMAGE_EXTRA_SIZE to
specify the free space in GB. This makes it possible to easily build
images of varying sizes while still minimizing the overhead by keeping
the free space constant to e.g. 1GB.

Change-Id: I114c739d11d0cfe3b8d8abc6df5ff989edfb67f2
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/27/655127/3 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/lib/disk-image-create'],1,f79804fa4a60c9749b850fec9da8719de2ec4501,journal-size," echo "" --image-extra-size size -- extra image size in GB for the created image"" --image-extra-size) export DIB_IMAGE_EXTRA_SIZE=$2; shift 2;; if [ -n ""$DIB_IMAGE_EXTRA_SIZE"" ]; then # add DIB_IMAGE_EXTRA_SIZE to create a bigger image as requested du_extra_size=$(echo ""$DIB_IMAGE_EXTRA_SIZE"" | awk '{printf(""%d\n"",$1 * 1024 *1024)}') du_size_tmp=$(tail -n1 ${du_output} | cut -f1) du_size=$(echo ""$du_size_tmp $du_extra_size"" | awk '{print int($1 + $2)}') else # scale this by 0.6 to create a slightly bigger image du_size=$(tail -n1 ${du_output} | cut -f1 | awk '{print int($1 / 0.6)}') fi", # scale this by 0.6 to create a slightly bigger image du_size=$(tail -n1 ${du_output} | cut -f1 | awk '{print int($1 / 0.6)}'),11,2
openstack%2Fdiskimage-builder~master~I65fa13a088eecdfe61636678578577ea2cfb3c0c,openstack/diskimage-builder,master,I65fa13a088eecdfe61636678578577ea2cfb3c0c,Allow specification of filesystem journal size,MERGED,2019-01-26 20:07:54.000000000,2019-05-07 10:14:00.000000000,2019-05-07 10:14:00.000000000,"[{'_account_id': 4146}, {'_account_id': 6133}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 11628}, {'_account_id': 16068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-26 20:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/59f0d9c9fad6db5c9ee4df7e62e4e341ecfaad3f', 'message': 'Allow specification of filesystem journal size\n\nIn many cases, the statically sized 64MB journal is far below the\ne2fstools default calculation[0] which calls for a 64MB journal only\non filesystems smaller than 16GB. On bare metal in particular, the\ncorrect default journal size will often be in the 512MB-1GB range.\n\nSince we cannot know what the target system is, this should be a\ntunable parameter that the user can set depending on the intended\nimage usage.\n\nAdd a DIB_JOURNAL_SIZE envvar and --mkfs-journal-size parameter\nto the image creation so users can override the default journal\nsize.\n\nAlso adjust the default DIB journal to 128MB to more closely\nreflect a typical image deployment once deployed and filled to\nthe size of the disk.\n\n[0] https://git.kernel.org/pub/scm/fs/ext2/e2fsprogs.git/tree/lib/ext2fs/mkjournal.c#n333\n\nChange-Id: I65fa13a088eecdfe61636678578577ea2cfb3c0c\n'}, {'number': 2, 'created': '2019-01-26 20:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/721ce91be8c5daf3dfdf8c04f25b20f974825050', 'message': 'Allow specification of filesystem journal size\n\nIn many cases, the statically sized 64MB journal is far below the\ne2fstools default calculation[0] which calls for a 64MB journal only\non filesystems smaller than 16GB. On bare metal in particular, the\ncorrect default journal size will often be in the 512MB-1GB range.\n\nSince we cannot know what the target system is, this should be a\ntunable parameter that the user can set depending on the intended\nimage usage.\n\nAdd a DIB_JOURNAL_SIZE envvar and --mkfs-journal-size parameter\nto the image creation so users can override the default journal\nsize.\n\nAlso adjust the default DIB journal to 128MB to more closely\nreflect a typical image deployment once deployed and filled to\nthe size of the disk.\n\n[0] https://git.kernel.org/pub/scm/fs/ext2/e2fsprogs.git/tree/lib/ext2fs/mkjournal.c#n333\n\nChange-Id: I65fa13a088eecdfe61636678578577ea2cfb3c0c\n'}, {'number': 3, 'created': '2019-01-26 20:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0d1445345d54fecf7013d7d22a375cd6e56d6ca1', 'message': 'Allow specification of filesystem journal size\n\nIn many cases, the statically sized 64MB journal is far below the\ne2fstools default calculation[0] which calls for a 64MB journal only\non filesystems smaller than 16GB. On bare metal in particular, the\ncorrect default journal size will often be in the 512MB-1GB range.\n\nSince we cannot know what the target system is, this should be a\ntunable parameter that the user can set depending on the intended\nimage usage.\n\nAdd a DIB_JOURNAL_SIZE envvar and --mkfs-journal-size parameter\nto the image creation so users can override the default journal\nsize.\n\nAlso adjust the default DIB journal to 128MB to more closely\nreflect a typical image deployment once deployed and filled to\nthe size of the disk.\n\n[0] https://git.kernel.org/pub/scm/fs/ext2/e2fsprogs.git/tree/lib/ext2fs/mkjournal.c#n333\n\nChange-Id: I65fa13a088eecdfe61636678578577ea2cfb3c0c\n'}, {'number': 4, 'created': '2019-02-25 15:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cd471f8667618e62fca2860884d9b7e0428078bb', 'message': 'Allow specification of filesystem journal size\n\nIn many cases, the statically sized 64MB journal is far below the\ne2fstools default calculation[0] which calls for a 64MB journal only\non filesystems smaller than 16GB. On bare metal in particular, the\ncorrect default journal size will often be in the 512MB-1GB range.\n\nSince we cannot know what the target system is, this should be a\ntunable parameter that the user can set depending on the intended\nimage usage.\n\nAdd a DIB_JOURNAL_SIZE envvar and --mkfs-journal-size parameter\nto the image creation so users can override the default journal\nsize.\n\n[0] https://git.kernel.org/pub/scm/fs/ext2/e2fsprogs.git/tree/lib/ext2fs/mkjournal.c#n333\n\nChange-Id: I65fa13a088eecdfe61636678578577ea2cfb3c0c\n'}, {'number': 5, 'created': '2019-04-29 07:07:33.000000000', 'files': ['releasenotes/notes/root-journal-size-618e064d6681699a.yaml', 'doc/source/user_guide/building_an_image.rst', 'diskimage_builder/lib/disk-image-create'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/11142f75b49be50ba16034f8e1296150763ee45a', 'message': 'Allow specification of filesystem journal size\n\nIn many cases, the statically sized 64MB journal is far below the\ne2fstools default calculation[0] which calls for a 64MB journal only\non filesystems smaller than 16GB. On bare metal in particular, the\ncorrect default journal size will often be in the 512MB-1GB range.\n\nSince we cannot know what the target system is, this should be a\ntunable parameter that the user can set depending on the intended\nimage usage.\n\nAdd a DIB_JOURNAL_SIZE envvar and --mkfs-journal-size parameter\nto the image creation so users can override the default journal\nsize.\n\n[0] https://git.kernel.org/pub/scm/fs/ext2/e2fsprogs.git/tree/lib/ext2fs/mkjournal.c#n333\n\nChange-Id: I65fa13a088eecdfe61636678578577ea2cfb3c0c\n'}]",11,633368,11142f75b49be50ba16034f8e1296150763ee45a,42,9,5,17799,,,0,"Allow specification of filesystem journal size

In many cases, the statically sized 64MB journal is far below the
e2fstools default calculation[0] which calls for a 64MB journal only
on filesystems smaller than 16GB. On bare metal in particular, the
correct default journal size will often be in the 512MB-1GB range.

Since we cannot know what the target system is, this should be a
tunable parameter that the user can set depending on the intended
image usage.

Add a DIB_JOURNAL_SIZE envvar and --mkfs-journal-size parameter
to the image creation so users can override the default journal
size.

[0] https://git.kernel.org/pub/scm/fs/ext2/e2fsprogs.git/tree/lib/ext2fs/mkjournal.c#n333

Change-Id: I65fa13a088eecdfe61636678578577ea2cfb3c0c
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/68/633368/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/lib/disk-image-create'],1,59f0d9c9fad6db5c9ee4df7e62e4e341ecfaad3f,journal-size," --mkfs-journal-size) export DIB_JOURNAL_SIZE=$2; shift 2;;if [ -n ""$DIB_JOURNAL_SIZE"" ]; then journal_size=""$DIB_JOURNAL_SIZE"" else journal_size=64 fi MKFS_OPTS=""-i 4096 -J size=$journal_size $MKFS_OPTS"" du_size=$(( $du_size + ($journal_size * 1024) ))"," MKFS_OPTS=""-i 4096 -J size=64 $MKFS_OPTS"" du_size=$(( $du_size + 65536 ))",9,2
openstack%2Fopenstacksdk~master~If9a217981237d6f851ee470717da01fddd1b5ff1,openstack/openstacksdk,master,If9a217981237d6f851ee470717da01fddd1b5ff1,Skip attaching FloatingIP if it is already attached,MERGED,2019-04-15 08:59:05.000000000,2019-05-07 09:57:29.000000000,2019-05-07 09:57:29.000000000,"[{'_account_id': 2}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-04-15 08:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b0ebe109a9615d8ed77a9e8cd607c48132f941e2', 'message': 'WIP Skip attaching FloatingIP if it is already attached\n\nThere are some flows in the cloud layer (reuse, but not found), which \ntry to attach a freshly allocated (and attached) FIP. There is at least \none cloud in the crowd, which explicitely forbids FIP attachment when it \nis already attached, what results in SDK and Ansible failure with \nauto_ip=True\n\nChange-Id: If9a217981237d6f851ee470717da01fddd1b5ff1\n'}, {'number': 2, 'created': '2019-04-15 11:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f3c29c22a4e2a48e8fc7b14b8d16f52296a67ea6', 'message': 'Skip attaching FloatingIP if it is already attached\n\nThere are some flows in the cloud layer (reuse, but not found), which \ntry to attach a freshly allocated (and attached) FIP. There is at least \none cloud in the crowd, which explicitely forbids FIP attachment when it \nis already attached, what results in SDK and Ansible failure with \nauto_ip=True\n\nThe test test_add_ip_refresh_timeout is being removed, since normally we \nshould never end up this way (with reuse=False we wait for the FIP to be \nassigned during creation and we leave _add_auto_ip on a short-cut)\n\nChange-Id: If9a217981237d6f851ee470717da01fddd1b5ff1\n'}, {'number': 3, 'created': '2019-04-15 12:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c15e0374b29a57acc20f07383c7d81d112ed51c1', 'message': 'Skip attaching FloatingIP if it is already attached\n\nThere are some flows in the cloud layer (reuse, but not found), which \ntry to attach a freshly allocated (and attached) FIP. There is at least \none cloud in the crowd, which explicitely forbids FIP attachment when it \nis already attached, what results in SDK and Ansible failure with \nauto_ip=True\n\nThe test test_add_ip_refresh_timeout is being removed, since normally we \nshould never end up this way (with reuse=False we wait for the FIP to be \nassigned during creation and we leave _add_auto_ip on a short-cut)\n\nChange-Id: If9a217981237d6f851ee470717da01fddd1b5ff1\n'}, {'number': 4, 'created': '2019-05-06 10:39:09.000000000', 'files': ['openstack/tests/unit/cloud/test_floating_ip_neutron.py', 'openstack/cloud/_floating_ip.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f9483e5d95653906d6740a9a8ec0b715237f586e', 'message': 'Skip attaching FloatingIP if it is already attached\n\nThere are some flows in the cloud layer (reuse, but not found), which\ntry to attach a freshly allocated (and attached) FIP. There is at least\none cloud in the crowd, which explicitely forbids FIP attachment when it\nis already attached, what results in SDK and Ansible failure with\nauto_ip=True\n\nThe test test_add_ip_refresh_timeout is being removed, since normally we\nshould never end up this way (with reuse=False we wait for the FIP to be\nassigned during creation and we leave _add_auto_ip on a short-cut)\n\nChange-Id: If9a217981237d6f851ee470717da01fddd1b5ff1\n'}]",3,652594,f9483e5d95653906d6740a9a8ec0b715237f586e,19,4,4,27900,,,0,"Skip attaching FloatingIP if it is already attached

There are some flows in the cloud layer (reuse, but not found), which
try to attach a freshly allocated (and attached) FIP. There is at least
one cloud in the crowd, which explicitely forbids FIP attachment when it
is already attached, what results in SDK and Ansible failure with
auto_ip=True

The test test_add_ip_refresh_timeout is being removed, since normally we
should never end up this way (with reuse=False we wait for the FIP to be
assigned during creation and we leave _add_auto_ip on a short-cut)

Change-Id: If9a217981237d6f851ee470717da01fddd1b5ff1
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/94/652594/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_floating_ip.py'],1,b0ebe109a9615d8ed77a9e8cd607c48132f941e2,," if not ext_ip and floating_ip['port_id']: # When we came here from reuse_fip and created FIP it might be # already attached, but the server info might be also # old to check whether it belongs to us now, thus refresh # the server data and try again. There are some clouds, which # explicitely forbids FIP assign call if it is already assigned. server = self.get_server_by_id(server['id']) ext_ip = meta.get_server_ip(server, ext_tag='floating', public=True) server = self.get_server_by_id(server_id)", server = self.get_server(server_id),9,1
openstack%2Fcharm-keystone~master~Ibb7df0c2b97801abb15af2d97534535af24205a1,openstack/charm-keystone,master,Ibb7df0c2b97801abb15af2d97534535af24205a1,Ensure is_ipv6_disabled is properly mocked,MERGED,2019-04-30 14:57:52.000000000,2019-05-07 09:55:26.000000000,2019-05-07 09:55:26.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2019-04-30 14:57:52.000000000', 'files': ['unit_tests/test_keystone_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/2e3808dd9bc523b626076d9a1c615ce91fc49622', 'message': 'Ensure is_ipv6_disabled is properly mocked\n\nChange-Id: Ibb7df0c2b97801abb15af2d97534535af24205a1\nCloses-Bug: #1827061\n'}]",0,656526,2e3808dd9bc523b626076d9a1c615ce91fc49622,7,3,1,20634,,,0,"Ensure is_ipv6_disabled is properly mocked

Change-Id: Ibb7df0c2b97801abb15af2d97534535af24205a1
Closes-Bug: #1827061
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/26/656526/1 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_keystone_contexts.py'],1,2e3808dd9bc523b626076d9a1c615ce91fc49622,bug/1827061," @patch('charmhelpers.contrib.openstack.context.is_ipv6_disabled') mock_api_port, mock_mkdir, mock_get_relation_ip, is_ipv6_disabled): is_ipv6_disabled.return_value = False"," mock_api_port, mock_mkdir, mock_get_relation_ip):",3,2
openstack%2Freleases~master~I0d497ac42b59a0af6fa5213fd429c3d33cc34c00,openstack/releases,master,I0d497ac42b59a0af6fa5213fd429c3d33cc34c00,Release mistralclient 3.8.1,ABANDONED,2019-04-17 12:30:12.000000000,2019-05-07 09:37:28.000000000,,"[{'_account_id': 308}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 27008}]","[{'number': 1, 'created': '2019-04-17 12:30:12.000000000', 'files': ['deliverables/stein/python-mistralclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7482fc4cdada238f7c5163a5f844ec652e69dcbd', 'message': 'Release mistralclient 3.8.1\n\nChange-Id: I0d497ac42b59a0af6fa5213fd429c3d33cc34c00\n'}]",0,653418,7482fc4cdada238f7c5163a5f844ec652e69dcbd,11,8,1,9712,,,0,"Release mistralclient 3.8.1

Change-Id: I0d497ac42b59a0af6fa5213fd429c3d33cc34c00
",git fetch https://review.opendev.org/openstack/releases refs/changes/18/653418/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/python-mistralclient.yaml'],1,7482fc4cdada238f7c5163a5f844ec652e69dcbd,, - projects: - hash: ac6de6cf29e522a0b2222da2b018d068a493b685 repo: openstack/python-mistralclient version: 3.8.1,,4,0
openstack%2Fmistral~master~Ia6c954e688589f69a7463f1b8e02244d029e8b7a,openstack/mistral,master,Ia6c954e688589f69a7463f1b8e02244d029e8b7a,Adding root_execution_id to the jinja executor function,MERGED,2019-05-06 11:42:11.000000000,2019-05-07 09:29:18.000000000,2019-05-07 09:29:17.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 11:42:11.000000000', 'files': ['mistral/tests/unit/expressions/test_jinja_expression.py', 'mistral/utils/expression_utils.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/f172e5da24b306b81ce617d4aee58470d33f4513', 'message': 'Adding root_execution_id to the jinja executor function\n\nThis makes getting a root_execution_id possible without having to go\nthrough filtering and querying the executions search.\n\nChange-Id: Ia6c954e688589f69a7463f1b8e02244d029e8b7a\n'}]",0,657376,f172e5da24b306b81ce617d4aee58470d33f4513,6,2,1,15895,,,0,"Adding root_execution_id to the jinja executor function

This makes getting a root_execution_id possible without having to go
through filtering and querying the executions search.

Change-Id: Ia6c954e688589f69a7463f1b8e02244d029e8b7a
",git fetch https://review.opendev.org/openstack/mistral refs/changes/76/657376/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/expressions/test_jinja_expression.py', 'mistral/utils/expression_utils.py']",2,f172e5da24b306b81ce617d4aee58470d33f4513,return_root_exec," 'updated_at': wf_ex.updated_at.isoformat(' '), 'root_execution_id': wf_ex.root_execution_id", 'updated_at': wf_ex.updated_at.isoformat(' '),7,4
openstack%2Fmistral~master~Ie31f08a20265a59bcaa63dd6480834eb6918f349,openstack/mistral,master,Ie31f08a20265a59bcaa63dd6480834eb6918f349,Reformat retry logic for tasks with join,MERGED,2019-04-25 21:11:57.000000000,2019-05-07 09:27:18.000000000,2019-05-07 09:27:18.000000000,"[{'_account_id': 8731}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23253}]","[{'number': 1, 'created': '2019-04-25 21:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/23e86fae70c4153210dfad79e1680e2b760fd778', 'message': 'Reformat retry logic for tasks with join\n\nChange-Id: Ie31f08a20265a59bcaa63dd6480834eb6918f349\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 2, 'created': '2019-04-26 13:21:19.000000000', 'files': ['mistral/tests/unit/engine/test_policies.py', 'mistral/engine/policies.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/88e5af4148291ab962b9d41f3fe0e5ab0c4e3bf7', 'message': 'Reformat retry logic for tasks with join\n\nChange-Id: Ie31f08a20265a59bcaa63dd6480834eb6918f349\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}]",0,655797,88e5af4148291ab962b9d41f3fe0e5ab0c4e3bf7,11,4,2,29124,,,0,"Reformat retry logic for tasks with join

Change-Id: Ie31f08a20265a59bcaa63dd6480834eb6918f349
Signed-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/97/655797/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/engine/test_policies.py', 'mistral/engine/policies.py']",2,23e86fae70c4153210dfad79e1680e2b760fd778,bugfix/1819418,"def _log_task_delay(task_ex, delay_sec, state=states.RUNNING_DELAYED): (task_ex.name, task_ex.state, state, delay_sec) if task_spec.get_join(): from mistral.engine import task_handler as t_h _log_task_delay(task_ex, self.delay, states.WAITING) task_ex.state = states.WAITING t_h._schedule_refresh_task_state(task_ex.id, self.delay) return _log_task_delay(task_ex, self.delay) task_ex.state = states.RUNNING_DELAYED ","def _log_task_delay(task_ex, delay_sec): (task_ex.name, task_ex.state, states.RUNNING_DELAYED, delay_sec)def _has_incomplete_inbound_tasks(task_ex): if ""triggered_by"" not in task_ex.runtime_context: return False for trigger in task_ex.runtime_context[""triggered_by""]: if trigger[""event""] == ""not triggered"": return True return False stop_continue_flag = ( stop_continue_flag or _has_incomplete_inbound_tasks(task_ex) ) _log_task_delay(task_ex, self.delay) task_ex.state = states.RUNNING_DELAYED ",51,32
openstack%2Fansible-role-collect-logs~master~Ie9603f2ae1937b3aed093081dacada461bf883cd,openstack/ansible-role-collect-logs,master,Ie9603f2ae1937b3aed093081dacada461bf883cd,Added tripleo job template against new collect-logs role,MERGED,2019-04-26 09:40:48.000000000,2019-05-07 09:16:33.000000000,2019-05-07 09:16:33.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 8944}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-04-26 09:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/d3060cbc8f9fa0275c047208fcfe1df2ca7a6d80', 'message': 'Add tripleo-standalone-scenarios-full job\n\nIn order to test new collect-logs, we are moving jobs step\nby step in order to make sure it does not break any thing.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/999\n\nDepends-On: https://review.opendev.org/#/c/654934/\n\nChange-Id: Ie9603f2ae1937b3aed093081dacada461bf883cd\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-04-30 06:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f6e2aee6fb209a9b7a663cfd281f727cdc6aaf54', 'message': 'Add tripleo job\n\nIn order to test new collect-logs, we are moving jobs step\nby step in order to make sure it does not break any thing.\n\nIt adds following jobs:\ntripleo-build-containers-jobs\ntripleo-multinode-baremetal-full\ntripleo-multinode-container-full\ntripleo-undercloud-jobs\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/999\n\nDepends-On: https://review.opendev.org/#/c/654934/\n\nChange-Id: Ie9603f2ae1937b3aed093081dacada461bf883cd\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-04-30 06:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b1dbf75e1c49b3a60d57509ad6b255e1f077ebc7', 'message': 'Add tripleo job template for testing new collect logs\n\nIn order to test new collect-logs, we are moving jobs step\nby step in order to make sure it does not break any thing.\n\nIt adds following jobs:\ntripleo-build-containers-jobs\ntripleo-multinode-baremetal-full\ntripleo-multinode-container-full\ntripleo-undercloud-jobs\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/999\n\nDepends-On: https://review.opendev.org/#/c/654934/\n\nChange-Id: Ie9603f2ae1937b3aed093081dacada461bf883cd\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2019-04-30 12:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/1c8ab3b0240e52c55da107ad797f7ff432b9365f', 'message': 'Add tripleo job template for testing new collect logs\n\nIn order to test new collect-logs, we are moving jobs step\nby step in order to make sure it does not break any thing.\n\nIt adds following jobs:\ntripleo-build-containers-jobs\ntripleo-standalone-scenarios-full\ntripleo-undercloud-jobs\n\nIt covers three different scenario for testing new\ncollect-logs role.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/999\n\nDepends-On: https://review.opendev.org/#/c/654934/\n\nChange-Id: Ie9603f2ae1937b3aed093081dacada461bf883cd\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2019-05-02 07:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/9719c302c4848f2a4b185278e2e82e5699db0882', 'message': 'Add tripleo job template for testing new collect logs\n\nIn order to test new collect-logs, we are moving jobs step\nby step in order to make sure it does not break any thing.\n\nIt adds following jobs:\ntripleo-standalone-scenarios-full\ntripleo-undercloud-jobs\n\nIt covers three different scenario for testing new\ncollect-logs role.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/999\n\nDepends-On: https://review.opendev.org/#/c/654934/\n\nChange-Id: Ie9603f2ae1937b3aed093081dacada461bf883cd\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2019-05-02 07:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/7472d4aa4ab6012543854783baa5a54e2786f32f', 'message': 'Add tripleo job template for testing new collect logs\n\nIn order to test new collect-logs, we are moving jobs step\nby step in order to make sure it does not break any thing.\n\nIt adds following jobs:\ntripleo-build-containers-jobs\ntripleo-standalone-scenarios-full\ntripleo-undercloud-jobs\n\nIt covers three different scenario for testing new\ncollect-logs role.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/999\n\nDepends-On: https://review.opendev.org/#/c/654934/\n\nChange-Id: Ie9603f2ae1937b3aed093081dacada461bf883cd\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2019-05-02 15:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/e47ef8ff7731a185d3b101dbe3c790d78b03fff1', 'message': 'Add tripleo job template for testing new collect logs\n\nIn order to test new collect-logs, we are moving jobs step\nby step in order to make sure it does not break any thing.\n\nIt adds following jobs:\ntripleo-build-containers-jobs\ntripleo-standalone-scenarios-full\ntripleo-undercloud-jobs\n\nIt covers three different scenario for testing new\ncollect-logs role.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/999\n\nDepends-On: https://review.opendev.org/#/c/654934/\n\nChange-Id: Ie9603f2ae1937b3aed093081dacada461bf883cd\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2019-05-02 15:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/0658a80b647f3df7e7427832cdedd484e04f175f', 'message': 'Add tripleo job template for testing new collect logs\n\nIn order to test new collect-logs, we are moving jobs step\nby step in order to make sure it does not break any thing.\n\nIt adds following jobs:\ntripleo-standalone-scenarios-full\ntripleo-undercloud-jobs\n\nIt covers three different scenario for testing new\ncollect-logs role.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/999\n\nDepends-On: https://review.opendev.org/#/c/654934/\n\nChange-Id: Ie9603f2ae1937b3aed093081dacada461bf883cd\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 9, 'created': '2019-05-03 06:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/3c2aa062a12026e72556cfa40c0e391fa49d91fd', 'message': 'Add tripleo job template for testing new collect logs\n\nIn order to test new collect-logs, we are moving jobs step\nby step in order to make sure it does not break any thing.\n\nIt adds following jobs:\ntripleo-standalone-scenarios-full\ntripleo-undercloud-jobs\n\nIt covers three different scenario for testing new\ncollect-logs role.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/999\n\nDepends-On: https://review.opendev.org/#/c/654934/\n\nChange-Id: Ie9603f2ae1937b3aed093081dacada461bf883cd\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 10, 'created': '2019-05-06 05:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/d4495cb253565ee7579ebab24d3a1a54017922e0', 'message': 'Add tripleo job template for testing new collect logs\n\nIn order to test new collect-logs, we are moving jobs step by\nstep in order to make sure it does not break any thing.\n\nIt adds following jobs:\n tripleo-standalone-scenarios-full\n tripleo-undercloud-jobs\n tripleo-multinode-container-full\n\nIt covers three different scenario for testing new collect-logs\nrole.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/999\n\nDepends-On: https://review.opendev.org/#/c/654934/\nChange-Id: Ie9603f2ae1937b3aed093081dacada461bf883cd\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 11, 'created': '2019-05-06 05:13:04.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/dbcc233be7bb12038cf766cafd397479fe80996a', 'message': 'Added tripleo job template against new collect-logs role\n\nIn order to test new collect-logs, we are moving jobs step by\nstep in order to make sure it does not break any thing.\n\nIt adds following jobs:\n tripleo-standalone-scenarios-full\n tripleo-undercloud-jobs\n tripleo-multinode-container-full\n\nIt covers three different scenario for testing new collect-logs\nrole.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/999\n\nDepends-On: https://review.opendev.org/#/c/654934/\nChange-Id: Ie9603f2ae1937b3aed093081dacada461bf883cd\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",4,655850,dbcc233be7bb12038cf766cafd397479fe80996a,40,12,11,12393,,,0,"Added tripleo job template against new collect-logs role

In order to test new collect-logs, we are moving jobs step by
step in order to make sure it does not break any thing.

It adds following jobs:
 tripleo-standalone-scenarios-full
 tripleo-undercloud-jobs
 tripleo-multinode-container-full

It covers three different scenario for testing new collect-logs
role.

https://tree.taiga.io/project/tripleo-ci-board/task/999

Depends-On: https://review.opendev.org/#/c/654934/
Change-Id: Ie9603f2ae1937b3aed093081dacada461bf883cd
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/50/655850/8 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,d3060cbc8f9fa0275c047208fcfe1df2ca7a6d80,collectlogs, templates: - tripleo-standalone-scenarios-full, post: jobs: - publish-openstack-python-branch-tarball,2,3
openstack%2Ftempest~master~I32f0611bdfd2ccede73e7ab774286f5315ff92c3,openstack/tempest,master,I32f0611bdfd2ccede73e7ab774286f5315ff92c3,Add assertions to attached volume retype test,MERGED,2019-02-26 13:22:02.000000000,2019-05-07 09:04:12.000000000,2019-05-07 09:04:12.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9555}, {'_account_id': 10135}, {'_account_id': 12033}, {'_account_id': 12393}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-26 13:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c03bce88ca726a991ea39489c126a960c3609b3e', 'message': 'WIP Add assertions to volume retype tests\n\nChange-Id: I32f0611bdfd2ccede73e7ab774286f5315ff92c3\n'}, {'number': 2, 'created': '2019-02-26 21:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/07e4321713d70a04f194a3f4a7857a4bb5425a9e', 'message': 'WIP Remove timestamp assertions from volume retype test\n\nChange-Id: I32f0611bdfd2ccede73e7ab774286f5315ff92c3\n'}, {'number': 3, 'created': '2019-03-01 14:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/09708438f08a7c64deba2758fbd7c429197d1be3', 'message': 'Remove timestamp assertions from volume retype test\n\nThe use of a timestamp written to the volume is slow, error prone, and\nnot enough to ensure the successful retype of a volume.\n\nThis change replaces this assertions with specific state checks\nregarding the volume, the migration and the instance.\n\nChange-Id: I32f0611bdfd2ccede73e7ab774286f5315ff92c3\n'}, {'number': 4, 'created': '2019-03-05 11:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8caa0a7067bdf0ffac1d1c48b0f8f10b7c301232', 'message': 'Add assertions to attached volume retype test\n\nPreviously only the volume type and timestamp data was checked when\nretyping an attached volume. This change adds additional assertions to\nensure the volume state remains `in-use`, volume migration state is\n`success` and the same `volume_id` remains attached to the instance\nafter the retype completes. This final check ensures that nova has\ncorrectly called the os-migrate_volume_completion cinder API.\n\nRelated-bug: #1803961\nChange-Id: I32f0611bdfd2ccede73e7ab774286f5315ff92c3\n'}, {'number': 5, 'created': '2019-03-18 19:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/52a5096179b0735084d61dc86d05de1ac53f711a', 'message': 'Add assertions to attached volume retype test\n\nPreviously only the volume type and timestamp data was checked when\nretyping an attached volume. This change adds additional assertions to\nensure the volume state remains `in-use`, volume migration state is\n`success` and the same `volume_id` remains attached to the instance\nafter the retype completes. This final check ensures that nova has\ncorrectly called the os-migrate_volume_completion cinder API.\n\nRelated-bug: #1803961\nChange-Id: I32f0611bdfd2ccede73e7ab774286f5315ff92c3\n'}, {'number': 6, 'created': '2019-03-22 09:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/00592f64917931942dd76548a743ec4360719c9e', 'message': 'Add assertions to attached volume retype test\n\nPreviously only the volume type and timestamp data was checked when\nretyping an attached volume. This change adds additional assertions to\nensure the volume state remains `in-use`, volume migration state is\n`success` and the same `volume_id` remains attached to the instance\nafter the retype completes. This final check ensures that nova has\ncorrectly called the os-migrate_volume_completion cinder API.\n\nRelated-bug: #1803961\nChange-Id: I32f0611bdfd2ccede73e7ab774286f5315ff92c3\n'}, {'number': 7, 'created': '2019-04-04 11:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2ded2f73711624d3c73e7d5cc1328860d2b9eb1b', 'message': 'Add assertions to attached volume retype test\n\nPreviously only the volume type and timestamp data was checked when\nretyping an attached volume. This change adds additional assertions to\nensure the volume state remains `in-use`, volume migration state is\n`success` and the same `volume_id` remains attached to the instance\nafter the retype completes. This final check ensures that nova has\ncorrectly called the os-migrate_volume_completion cinder API.\n\nRelated-bug: #1803961\nChange-Id: I32f0611bdfd2ccede73e7ab774286f5315ff92c3\n'}, {'number': 8, 'created': '2019-04-09 13:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/13fe382495d39437d711a2f67a06d9d2b3563e23', 'message': 'Add assertions to attached volume retype test\n\nPreviously only the volume type and timestamp data was checked when\nretyping an attached volume. This change adds additional assertions to\nensure the volume state remains `in-use`, volume migration state is\n`success` and the same `volume_id` remains attached to the instance\nafter the retype completes. This final check ensures that nova has\ncorrectly called the os-migrate_volume_completion cinder API.\n\nRelated-bug: #1803961\nChange-Id: I32f0611bdfd2ccede73e7ab774286f5315ff92c3\n'}, {'number': 9, 'created': '2019-04-09 16:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/67ae340460211a15cf05aa5458fcc9f4f8135035', 'message': 'Add assertions to attached volume retype test\n\nPreviously only the volume type and timestamp data was checked when\nretyping an attached volume. This change adds additional assertions to\nensure the volume state remains `in-use`, volume migration state is\n`success` and the same `volume_id` remains attached to the instance\nafter the retype completes. This final check ensures that nova has\ncorrectly called the os-migrate_volume_completion cinder API.\n\nRelated-bug: #1803961\nChange-Id: I32f0611bdfd2ccede73e7ab774286f5315ff92c3\n'}, {'number': 10, 'created': '2019-04-23 16:44:54.000000000', 'files': ['tempest/scenario/test_volume_migrate_attached.py', 'tempest/lib/api_schema/response/compute/v2_1/volumes.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8df5fdcbe0c5729d65336f2a9d48462582e68ae9', 'message': 'Add assertions to attached volume retype test\n\nPreviously only the volume type and timestamp data was checked when\nretyping an attached volume. This change adds additional assertions to\nensure the volume state remains `in-use`, volume migration state is\n`success` and the same `volume_id` remains attached to the instance\nafter the retype completes. This final check ensures that nova has\ncorrectly called the os-migrate_volume_completion cinder API.\n\nRelated-bug: #1803961\nChange-Id: I32f0611bdfd2ccede73e7ab774286f5315ff92c3\n'}]",10,639331,8df5fdcbe0c5729d65336f2a9d48462582e68ae9,48,10,10,10135,,,0,"Add assertions to attached volume retype test

Previously only the volume type and timestamp data was checked when
retyping an attached volume. This change adds additional assertions to
ensure the volume state remains `in-use`, volume migration state is
`success` and the same `volume_id` remains attached to the instance
after the retype completes. This final check ensures that nova has
correctly called the os-migrate_volume_completion cinder API.

Related-bug: #1803961
Change-Id: I32f0611bdfd2ccede73e7ab774286f5315ff92c3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/31/639331/10 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_volume_migrate_attached.py'],1,c03bce88ca726a991ea39489c126a960c3609b3e,bug/1803961," volume_id = self.create_volume(imageRef=CONF.compute.image_ref, volume_type=source_type)['id'] instance = self._boot_instance_from_volume(volume_id, keypair, security_group) LOG.info(""Retyping Volume %s to new type %s"", volume_id, dest_type) self._volume_retype_with_migration(volume_id, dest_type) # Assert that the volume type has been updated volume = self.admin_volumes_client.show_volume(volume_id) self.assertEqual(dest_type, volume['volume_type']) # Assert that the same volume id is attached to the instance, ensuring # the os-migrate_volume_completion Cinder API has been called. attached_volumes = self.servers_client.list_volume_attachments( instance['id'])['volumeAttachments'] attached_volume_id = attached_volumes[0]['id'] self.assertEqual(volume_id, attached_volume_id)"," volume_origin = self.create_volume(imageRef=CONF.compute.image_ref, volume_type=source_type) instance = self._boot_instance_from_volume(volume_origin['id'], keypair, security_group) LOG.info(""Retyping Volume %s to new type %s"", volume_origin['id'], dest_type) self._volume_retype_with_migration(volume_origin['id'], dest_type)",17,7
openstack%2Fdiskimage-builder~master~I49affcbef868d644f673b833bef8310cf25cfd0f,openstack/diskimage-builder,master,I49affcbef868d644f673b833bef8310cf25cfd0f,Document the various global filesystem options,MERGED,2019-04-29 07:07:33.000000000,2019-05-07 09:03:44.000000000,2019-05-07 09:03:44.000000000,"[{'_account_id': 7118}, {'_account_id': 16068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-29 07:07:33.000000000', 'files': ['doc/source/user_guide/building_an_image.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d18e73147e3f9fca0fbafd5675a21a7d042ae0d1', 'message': 'Document the various global filesystem options\n\nThese options have always been a bit of a mess since v2 when we added\nall the block-device flexibility.  Add some explicit documentation to\ntry and help explain the relationship between these options and the\nblock-device config.\n\nChange-Id: I49affcbef868d644f673b833bef8310cf25cfd0f\n'}]",0,656255,d18e73147e3f9fca0fbafd5675a21a7d042ae0d1,7,3,1,7118,,,0,"Document the various global filesystem options

These options have always been a bit of a mess since v2 when we added
all the block-device flexibility.  Add some explicit documentation to
try and help explain the relationship between these options and the
block-device config.

Change-Id: I49affcbef868d644f673b833bef8310cf25cfd0f
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/55/656255/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user_guide/building_an_image.rst'],1,d18e73147e3f9fca0fbafd5675a21a7d042ae0d1,journal-size,"Legacy global filesystem configuration -------------------------------------- The ``disk-image-create`` tool has a number of historic global disk-related command-line options which are maintained for backwards compatibility. These options are merged as necessary by the block-device layer into the active configuration. If you are using more complicated block-device layouts with multiple partitions, you may need to take into account the special behaviour described below. The ``local_loop`` module will take it's default size from the following argument. ``--image-size`` The size of loopback device which the image will be generated in, in gigabytes. If this is left unset, the size will be calculated from the on-disk size of the image and then scaled up by a fixed 60% factor. Can also set ``DIB_IMAGE_SIZE``. The special node named ``mkfs_root`` is affected by the following; this reflects that the standard layout has only a single root partition so the options are, in effect, global for the default configuration. Note that if you are using multiple partitions, settings such as ``--mkfs-options`` will *not* apply to other partitions. The file-system type for the ``mkfs_root`` node is set by the ``FS_TYPE`` environment variable, and defaults to ``ext4``. ``xfs`` should also work. There is no command-line argument for this. The following options also affect the ``mkfs_root`` node configuration: ``--mkfs-options`` Options passed to mkfs when making the root partition. For ``ext4`` partitions, this by default sets a 4k byte-to-inode ratio (see below) and a default journal size of 64MiB. Note ``--mkfs-options`` are options passed to the mfks *driver* (i.e. ``mkfs.ext4``) rather than ``mkfs`` itself (i.e. arguments come after the initial ``mkfs -t <fstype>`` argument). You also need to be careful with quoting. Can also set ``MKFS_OPTS``. By default, ``disk-image-create`` uses a 4k byte-to-inode ratio when creating the filesystem in the image. This allows large 'whole-system' images to utilize several TB disks without exhausting inodes. In contrast, when creating images intended for tenant instances, this ratio consumes more disk space than an end-user would expect (e.g. a 50GB root disk has 47GB available). If the image is intended to run within a tens to hundrededs of gigabyte disk, setting the byte-to-inode ratio to the ext4 default of 16k will allow for more usable space on the instance. The default can be overridden by passing ``'-i 16384'`` as a ``--mkfs-options`` argument. ``--max-online-resize`` Only valid for ``FS_TYPE==ext4``; this value sets the maximum filesystem blocks when resizing. Can also set ``MAX_ONLINE_RESIZE``. ``--root-label`` The file-system label specified when creating the root file system. Defaults to ``cloudimg-rootfs`` for ``ext4`` and ``img-rootfs`` for ``xfs``. Can also set ``ROOT_LABEL``.","Filesystem Caveat ----------------- By default, disk-image-create uses a 4k byte-to-inode ratio when creating the filesystem in the image. This allows large 'whole-system' images to utilize several TB disks without exhausting inodes. In contrast, when creating images intended for tenant instances, this ratio consumes more disk space than an end-user would expect (e.g. a 50GB root disk has 47GB avail.). If the image is intended to run within a tens to hundrededs of gigabyte disk, setting the byte-to-inode ratio to the ext4 default of 16k will allow for more usable space on the instance. The default can be overridden by passing ``--mkfs-options`` like this:: disk-image-create --mkfs-options '-i 16384' <distro> vm You can also select a different filesystem by setting the ``FS_TYPE`` environment variable. Note ``--mkfs-options`` are options passed to the mfks *driver*, rather than ``mkfs`` itself (i.e. after the initial `-t` argument).",59,17
openstack%2Ftripleo-common~master~I402c0609463ed4cc7c6c6f8e76b552d24d1d3885,openstack/tripleo-common,master,I402c0609463ed4cc7c6c6f8e76b552d24d1d3885,WIP - do not review - refactor scale,ABANDONED,2019-05-07 08:24:30.000000000,2019-05-07 09:01:44.000000000,,[],"[{'number': 1, 'created': '2019-05-07 08:24:30.000000000', 'files': ['workbooks/scale.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/37c8c33d3b215d5de5da22dbc1ca2dac5b2a2e30', 'message': 'WIP - do not review - refactor scale\n\nChange-Id: I402c0609463ed4cc7c6c6f8e76b552d24d1d3885\n'}]",0,657542,37c8c33d3b215d5de5da22dbc1ca2dac5b2a2e30,2,0,1,3153,,,0,"WIP - do not review - refactor scale

Change-Id: I402c0609463ed4cc7c6c6f8e76b552d24d1d3885
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/42/657542/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/scale.yaml'],1,37c8c33d3b215d5de5da22dbc1ca2dac5b2a2e30,scale," - override_ansible_cfg: """" - config_download_timeout: 14400 get_blacklisted_hostnames: action: heat.stacks_output_show input: stack_id: <% $.plan_name %> output_key: BlacklistedHostnames publish: blacklisted_hostnames: <% task().result.output.output_value.where($ != """") %> on-success: get_config on-error: send_message publish-on-error: status: FAILED message: <% task().result %> deployment_status: DEPLOY_FAILED on-success: send_msg_run_ansible send_msg_run_ansible: workflow: tripleo.messaging.v1.send input: queue_name: <% $.queue_name %> type: <% execution().name %> status: <% $.get('status', 'RUNNING') %> deployment_status: DEPLOYING execution: <% execution() %> plan_name: <% $.plan_name %> message: > Running ansible playbook at <% $.get('work_dir') %>/<% $.get('plan_name') %>/scale_playbook.yaml. See log file at <% $.get('work_dir') %>/<% $.get('plan_name') %>/ansible.log for progress. ... on-success: scale_down work_dir: <% $.get('work_dir') %>/<% $.get('plan_name') %> trash_output: true blacklisted_hostnames: <% $.blacklisted_hostnames %> override_ansible_cfg: <% $.override_ansible_cfg %> command_timeout: <% $.config_download_timeout %> publish: deployment_status: DEPLOY_SUCCESS on-success: - ansible_passed: <% task().result.returncode = 0 %> - ansible_timeout: <% task().result.returncode = 124 %> - ansible_failed: <% not task().result.returncode in [0, 124] %> on-error: send_message publish-on-error: status: FAILED message: Ansible failed, check log at <% $.get('work_dir') %>/<% $.get('plan_name') %>/ansible.log. deployment_status: DEPLOY_FAILED ansible_passed: on-success: send_message publish: status: SUCCESS message: Ansible passed. deployment_status: DEPLOY_SUCCESS ansible_timeout: message: Ansible timed out at <% $.config_download_timeout %> seconds. deployment_status: DEPLOY_FAILED ansible_failed: on-success: send_message publish: status: FAILED message: Ansible failed, check log at <% $.get('work_dir') %>/<% $.get('plan_name') %>/ansible.log. deployment_status: DEPLOY_FAILED plan_name: <% $.plan_name %> deployment_status: <% $.deployment_status %>", on-success: scale_down on-success: send_message on-error: scale_down_failed publish: output: <% task().result %> publish-on-error: status: FAILED message: <% task().result %> scale_down_failed: message: <% task(scale_down).result %>,67,10
openstack%2Fdiskimage-builder~master~If2d7fb9fc26aac62570ad6e797007553607fe18a,openstack/diskimage-builder,master,If2d7fb9fc26aac62570ad6e797007553607fe18a,[wip] test pre-intsall of systemd,ABANDONED,2019-05-07 05:55:39.000000000,2019-05-07 08:59:50.000000000,,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-07 05:55:39.000000000', 'files': ['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'diskimage_builder/elements/yum-minimal/install.d/11-ensure-dbus-daemon'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a2b6146cfa2d16612c4f0e9674db6e632ca0a83a', 'message': '[wip] test pre-intsall of systemd\n\nChange-Id: If2d7fb9fc26aac62570ad6e797007553607fe18a\n'}]",0,657530,a2b6146cfa2d16612c4f0e9674db6e632ca0a83a,6,4,1,7118,,,0,"[wip] test pre-intsall of systemd

Change-Id: If2d7fb9fc26aac62570ad6e797007553607fe18a
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/30/657530/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'diskimage_builder/elements/yum-minimal/install.d/11-ensure-dbus-daemon']",2,a2b6146cfa2d16612c4f0e9674db6e632ca0a83a,657126,,"#!/bin/bash # # Copyright 2019 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # if [ ""${DIB_DEBUG_TRACE:-0}"" -gt 0 ]; then set -x fi set -eu set -o pipefail # Ensure that dbus-daemon is enabled; fedora 30 and above has switched to # dbus-broker. if [[ ${DISTRO_NAME} == 'fedora' && ${DIB_RELEASE} -le 29 ]]; then systemctl --no-reload enable dbus-daemon.service fi ",12,29
openstack%2Fnova~master~I1e552d6dfef77d98638463ca2c309cc658e02445,openstack/nova,master,I1e552d6dfef77d98638463ca2c309cc658e02445,Add flavor to requested_resources in RequestSpec,NEW,2019-03-25 10:57:44.000000000,2019-05-07 08:43:37.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-25 10:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75e17c98fa03d28b93bd288f7a4bfe98e5255f1e', 'message': ""Add falvor to requested_resources in RequestSpec\n\nRequestGroups created from neutron ports are added to the\nrequested_resources already but Flavor also contains resource request\nfor the unnumbered and possibily for numbered groups. '\n\nThis patch translates the flavor to RequestGroups in the RequestSpec to\nunify the handling of the resource request.\n\nTODO:\n* resize casues incosistent resoruce handling\n\nChange-Id: I1e552d6dfef77d98638463ca2c309cc658e02445\n""}, {'number': 2, 'created': '2019-03-25 15:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93e1183221a1e8fa5e6c4b083b143ef8a574b278', 'message': 'Add falvor to requested_resources in RequestSpec\n\nRequestGroups created from neutron ports are added to the\nrequested_resources already but the RequesSpec itself and\nthe Flavor stored in the Reuqest spec also contains\nresource request or required traits both for the unnumbered\nand possibily for multiple numbered groups.\n\nThis patch moves the translation of these request from the\nallocation candidate query generation codepath to the RequestSpec\ncreate and update codepath. This way the RequestGroups are created\nearlier so that extra finetuning can be done based on RequestGroup\nobjects instead of injecting flavor extra_spec keys.\n\nChange-Id: I1e552d6dfef77d98638463ca2c309cc658e02445\n'}, {'number': 3, 'created': '2019-03-25 15:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc96e524b477e8fb55dcfde0d0e9b412ca17c9e0', 'message': 'Add flavor to requested_resources in RequestSpec\n\nRequestGroups created from neutron ports are added to the\nrequested_resources already but the RequesSpec itself and\nthe Flavor stored in the Reuqest spec also contains\nresource request or required traits both for the unnumbered\nand possibily for multiple numbered groups.\n\nThis patch moves the translation of these request from the\nallocation candidate query generation codepath to the RequestSpec\ncreate and update codepath. This way the RequestGroups are created\nearlier so that extra finetuning can be done based on RequestGroup\nobjects instead of injecting flavor extra_spec keys.\n\nChange-Id: I1e552d6dfef77d98638463ca2c309cc658e02445\n'}, {'number': 4, 'created': '2019-03-25 16:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/299a72df410b27dbafdf0826c43d3d73ac0c1d98', 'message': 'Add flavor to requested_resources in RequestSpec\n\nRequestGroups created from neutron ports are added to the\nrequested_resources already but the RequesSpec itself and\nthe Flavor stored in the Reuqest spec also contains\nresource request or required traits both for the unnumbered\nand possibily for multiple numbered groups.\n\nThis patch moves the translation of these request from the\nallocation candidate query generation codepath to the RequestSpec\ncreate and update codepath. This way the RequestGroups are created\nearlier so that extra finetuning can be done based on RequestGroup\nobjects instead of injecting flavor extra_spec keys.\n\nNote: This patch in its current form changes how the request groups\nare numbered in the allocation candidate query. The numbering in\nthe placement query will not match with the numbering in the flavor\nextra spec. But still each group has its own unique number.\n\nChange-Id: I1e552d6dfef77d98638463ca2c309cc658e02445\n'}, {'number': 5, 'created': '2019-03-26 16:27:53.000000000', 'files': ['nova/objects/request_spec.py', 'nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/scheduler/request_filter.py', 'nova/conductor/manager.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/08da12b5239cb980c0f303255b6594af0892b4fe', 'message': ""Add flavor to requested_resources in RequestSpec\n\nRequestGroups created from neutron ports are added to the\nrequested_resources already but the RequesSpec itself and\nthe Flavor stored in the Request spec also contains\nrequested resources or required traits both for the unnumbered\nand possibily for multiple numbered groups.\n\nThis patch moves the translation of these requests from the\nallocation candidate query generation codepath to the RequestSpec\ncreate and update codepath. This way the RequestGroups are created\nearlier so that extra finetuning can be done based on RequestGroup\nobjects instead of injecting flavor extra_spec keys.\n\nOn the other hand this also means that if some fields of the\nRequestSpec object changes then the request groups needs to be\nregenerated. For example the request filters are changing the\nRequestSpec before the scheduling. So after those filters run the\nRequestGroups needs to be regenerated. This is problematic becase\nanyting that is added directly to the RequestGroups generated from\nthe RequestSpec before the request filters run will be lost as those\ngroups are re-generated based on the updated content of the RequestSpec.\n\nNote: Detecting the changes of the RequestSpec fields is not easy. The\npythonic way would be to define a @property for each fields with getters\nand setters and trigger the RequestGroup re-generation from the setter.\nUnfortunately OVOs autogenerate properties that are overwrite the\nproperties added to an OVO manually (See bug 1821619).\nEven if OVO would allow defining properties it would be impossible to\nrun the RequestGroup re-generation from the setter because such setter\ncan be called on an half initialized object. For example OVO's\n__deepcopy__ first instantiate a new OVO object then copies its fields\none by one. Therefore it calls some setter while the OVO is not fully\ninitialized. This means it is the caller's responsibility to call the\nRequestGroup re-generate method after some field is set on the\nRequestGroup.\n\nNote: This patch in its current form changes how the request groups\nare numbered in the allocation candidate query. The numbering in\nthe placement query will not match with the numbering in the flavor\nextra spec. But still each group will have the appropriate content and\nhas its own unique number.\n\nChange-Id: I1e552d6dfef77d98638463ca2c309cc658e02445\n""}]",39,647396,08da12b5239cb980c0f303255b6594af0892b4fe,43,13,5,9708,,,0,"Add flavor to requested_resources in RequestSpec

RequestGroups created from neutron ports are added to the
requested_resources already but the RequesSpec itself and
the Flavor stored in the Request spec also contains
requested resources or required traits both for the unnumbered
and possibily for multiple numbered groups.

This patch moves the translation of these requests from the
allocation candidate query generation codepath to the RequestSpec
create and update codepath. This way the RequestGroups are created
earlier so that extra finetuning can be done based on RequestGroup
objects instead of injecting flavor extra_spec keys.

On the other hand this also means that if some fields of the
RequestSpec object changes then the request groups needs to be
regenerated. For example the request filters are changing the
RequestSpec before the scheduling. So after those filters run the
RequestGroups needs to be regenerated. This is problematic becase
anyting that is added directly to the RequestGroups generated from
the RequestSpec before the request filters run will be lost as those
groups are re-generated based on the updated content of the RequestSpec.

Note: Detecting the changes of the RequestSpec fields is not easy. The
pythonic way would be to define a @property for each fields with getters
and setters and trigger the RequestGroup re-generation from the setter.
Unfortunately OVOs autogenerate properties that are overwrite the
properties added to an OVO manually (See bug 1821619).
Even if OVO would allow defining properties it would be impossible to
run the RequestGroup re-generation from the setter because such setter
can be called on an half initialized object. For example OVO's
__deepcopy__ first instantiate a new OVO object then copies its fields
one by one. Therefore it calls some setter while the OVO is not fully
initialized. This means it is the caller's responsibility to call the
RequestGroup re-generate method after some field is set on the
RequestGroup.

Note: This patch in its current form changes how the request groups
are numbered in the allocation candidate query. The numbering in
the placement query will not match with the numbering in the flavor
extra spec. But still each group will have the appropriate content and
has its own unique number.

Change-Id: I1e552d6dfef77d98638463ca2c309cc658e02445
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/647396/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/scheduler/utils.py']",2,75e17c98fa03d28b93bd288f7a4bfe98e5255f1e,," def get_request_groups(self): return self._rg_by_id.values() def add_group_policy(self, policy): return spec_obj.get_resource_request()"," def _add_group_policy(self, policy): """"""Given a RequestSpec object, returns a ResourceRequest of the resources, traits, and aggregates it represents. """""" spec_resources = { orc.VCPU: spec_obj.vcpus, orc.MEMORY_MB: spec_obj.memory_mb, } requested_disk_mb = ((1024 * spec_obj.ephemeral_gb) + spec_obj.swap) if 'is_bfv' not in spec_obj or not spec_obj.is_bfv: # Either this is not a BFV instance, or we are not sure, # so ask for root_gb allocation requested_disk_mb += (1024 * spec_obj.root_gb) # NOTE(sbauza): Disk request is expressed in MB but we count # resources in GB. Since there could be a remainder of the division # by 1024, we need to ceil the result to the next bigger Gb so we # can be sure there would be enough disk space in the destination # to sustain the request. # FIXME(sbauza): All of that could be using math.ceil() but since # we support both py2 and py3, let's fake it until we only support # py3. requested_disk_gb = requested_disk_mb // 1024 if requested_disk_mb % 1024 != 0: # Let's ask for a bit more space since we count in GB requested_disk_gb += 1 # NOTE(sbauza): Some flavors provide zero size for disk values, we need # to avoid asking for disk usage. if requested_disk_gb != 0: spec_resources[orc.DISK_GB] = requested_disk_gb # Process extra_specs if ""extra_specs"" in spec_obj.flavor: res_req = ResourceRequest.from_extra_specs(spec_obj.flavor.extra_specs) # If any of the three standard resources above was explicitly given in # the extra_specs - in any group - we need to replace it, or delete it # if it was given as zero. We'll do this by grabbing a merged version # of the ResourceRequest resources and removing matching items from the # spec_resources. spec_resources = {rclass: amt for rclass, amt in spec_resources.items() if rclass not in res_req.merged_resources()} # Now we don't need (or want) any remaining zero entries - remove them. res_req.strip_zeros() else: # Start with an empty one res_req = ResourceRequest() # Process any image properties if 'image' in spec_obj and 'properties' in spec_obj.image: res_req = ResourceRequest.from_image_props(spec_obj.image.properties, req=res_req) # Add the (remaining) items from the spec_resources to the sharing group for rclass, amount in spec_resources.items(): res_req.get_request_group(None).resources[rclass] = amount requested_resources = (spec_obj.requested_resources if 'requested_resources' in spec_obj and spec_obj.requested_resources else []) for group in requested_resources: res_req.add_request_group(group) if 'requested_destination' in spec_obj: destination = spec_obj.requested_destination if destination and destination.aggregates: grp = res_req.get_request_group(None) grp.aggregates = [ored.split(',') for ored in destination.aggregates] # Don't limit allocation candidates when using force_hosts or force_nodes. if 'force_hosts' in spec_obj and spec_obj.force_hosts: res_req._limit = None if 'force_nodes' in spec_obj and spec_obj.force_nodes: res_req._limit = None return res_req",135,98
openstack%2Foctavia~stable%2Fstein~I05b31ba628bafeefec36cc5c000dae1aefb63d67,openstack/octavia,stable/stein,I05b31ba628bafeefec36cc5c000dae1aefb63d67,Fix IPv6 in Active/Standby topology on CentOS,MERGED,2019-04-29 12:20:14.000000000,2019-05-07 08:30:17.000000000,2019-05-07 08:30:17.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-04-29 12:20:14.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/rh_plug_vip_ethX.conf.j2', 'releasenotes/notes/fix-active-standby-in-centos-4e47140e0e139de8.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7dc3cb975ffd050ebcafd30956dae3d174b50c80', 'message': 'Fix IPv6 in Active/Standby topology on CentOS\n\nAvoid duplicated IPv6 VIP addresses on CentOS in Active/Standby mode,\nKeepalived will set/unset the VIP address.\n\nStory: 2005365\nTask: 30340\n\nChange-Id: I05b31ba628bafeefec36cc5c000dae1aefb63d67\n(cherry picked from commit 951afb9a0a94413f8d452fa5516cf4dc412968a7)\n'}]",0,656300,7dc3cb975ffd050ebcafd30956dae3d174b50c80,16,5,1,29244,,,0,"Fix IPv6 in Active/Standby topology on CentOS

Avoid duplicated IPv6 VIP addresses on CentOS in Active/Standby mode,
Keepalived will set/unset the VIP address.

Story: 2005365
Task: 30340

Change-Id: I05b31ba628bafeefec36cc5c000dae1aefb63d67
(cherry picked from commit 951afb9a0a94413f8d452fa5516cf4dc412968a7)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/00/656300/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/templates/rh_plug_vip_ethX.conf.j2', 'releasenotes/notes/fix-active-standby-in-centos-4e47140e0e139de8.yaml']",2,7dc3cb975ffd050ebcafd30956dae3d174b50c80,centos_active_standby-stable/stein,--- fixes: - | Fixed duplicated IPv6 addresses in Active/Standby mode in CentOS amphorae. ,,6,0
openstack%2Fvitrage~master~I275135378a63b70c6859e5dfe36bdef9cb1b9c4b,openstack/vitrage,master,I275135378a63b70c6859e5dfe36bdef9cb1b9c4b,Add kapacitor datasource,MERGED,2019-04-17 12:26:07.000000000,2019-05-07 08:25:58.000000000,2019-05-07 08:25:58.000000000,"[{'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}, {'_account_id': 23253}]","[{'number': 1, 'created': '2019-04-17 12:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/418aa380f6d053c040bbe1d70a379fa3af9947fc', 'message': 'Add kapacitor datasource\n\nEnabling Kapacitor alerts and clusters in Vitrage Entity Graph.\nGoal is integrate TICK monitor system with vitrage\n\nChange-Id: I275135378a63b70c6859e5dfe36bdef9cb1b9c4b\nStory: 2005428\nTask: 30461\n'}, {'number': 2, 'created': '2019-04-19 08:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/3f241d9dc0bb580f32583c5eb40b258abc90b1dc', 'message': 'Add kapacitor datasource\n\nEnabling Kapacitor alerts and clusters in Vitrage Entity Graph.\nGoal is integrate TICK monitor system with vitrage\n\nChange-Id: I275135378a63b70c6859e5dfe36bdef9cb1b9c4b\nStory: 2005428\nTask: 30461\n'}, {'number': 3, 'created': '2019-04-22 13:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/5ec65ef84ba92e1c8cf91e4b74cb8a9d6d3351fd', 'message': 'Add kapacitor datasource\n\nEnabling Kapacitor alerts and clusters in Vitrage Entity Graph.\nGoal is integrate TICK monitor system with vitrage\n\nChange-Id: I275135378a63b70c6859e5dfe36bdef9cb1b9c4b\nStory: 2005428\nTask: 30461\n'}, {'number': 4, 'created': '2019-04-26 12:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/0dd2d2406c2a581d14c5b2b08d5926299e8923d5', 'message': 'Add kapacitor datasource\n\nEnabling Kapacitor alerts and clusters in Vitrage Entity Graph.\nGoal is integrate TICK monitor system with vitrage\n\nChange-Id: I275135378a63b70c6859e5dfe36bdef9cb1b9c4b\nStory: 2005428\nTask: 30461\n'}, {'number': 5, 'created': '2019-04-30 10:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/4eeaf3bc1c4dfa93c3db5bfceae2342985ecbb25', 'message': 'Add kapacitor datasource\n\nEnabling Kapacitor alerts and clusters in Vitrage Entity Graph.\nGoal is integrate TICK monitor system with vitrage\n\nChange-Id: I275135378a63b70c6859e5dfe36bdef9cb1b9c4b\nStory: 2005428\nTask: 30461\n'}, {'number': 6, 'created': '2019-05-02 09:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/4a783af5df1b016297206f0e285d536f2a60f2c3', 'message': 'Add kapacitor datasource\n\nEnabling Kapacitor alerts and clusters in Vitrage Entity Graph.\nGoal is integrate TICK monitor system with vitrage\n\nChange-Id: I275135378a63b70c6859e5dfe36bdef9cb1b9c4b\nStory: 2005428\nTask: 30461\n'}, {'number': 7, 'created': '2019-05-02 11:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/2ab2a4e40c618ae805264525aa5515d7ddabd371', 'message': 'Add kapacitor datasource\n\nEnabling Kapacitor alerts and clusters in Vitrage Entity Graph.\nGoal is integrate TICK monitor system with vitrage\n\nChange-Id: I275135378a63b70c6859e5dfe36bdef9cb1b9c4b\nStory: 2005428\nTask: 30461\n'}, {'number': 8, 'created': '2019-05-02 11:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/66379cc055ddbe12ad63e98784a3cefeb39b0fa0', 'message': 'Add kapacitor datasource\n\nEnabling Kapacitor alerts and clusters in Vitrage Entity Graph.\nGoal is integrate TICK monitor system with vitrage\n\nChange-Id: I275135378a63b70c6859e5dfe36bdef9cb1b9c4b\nStory: 2005428\nTask: 30461\n'}, {'number': 9, 'created': '2019-05-02 14:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/6cb6ec0f59e3bb5178e39c4ec9cd5c256c246ce2', 'message': 'Add kapacitor datasource\n\nEnabling Kapacitor alerts and clusters in Vitrage Entity Graph.\nGoal is integrate TICK monitor system with vitrage\n\nChange-Id: I275135378a63b70c6859e5dfe36bdef9cb1b9c4b\nStory: 2005428\nTask: 30461\n'}, {'number': 10, 'created': '2019-05-02 15:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/9a9b9768ae1b0e167a316fab8432a859702e71b8', 'message': 'Add kapacitor datasource\n\nEnabling Kapacitor alerts and clusters in Vitrage Entity Graph.\nGoal is integrate TICK monitor system with vitrage\n\nChange-Id: I275135378a63b70c6859e5dfe36bdef9cb1b9c4b\nStory: 2005428\nTask: 30461\n'}, {'number': 11, 'created': '2019-05-05 07:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/b3e819bfa32d485ce50e074df483044f9f7ac235', 'message': 'Add kapacitor datasource\n\nEnabling Kapacitor alerts and clusters in Vitrage Entity Graph.\nGoal is integrate TICK monitor system with vitrage\n\nChange-Id: I275135378a63b70c6859e5dfe36bdef9cb1b9c4b\nStory: 2005428\nTask: 30461\n'}, {'number': 12, 'created': '2019-05-05 07:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/007f7b870bdc2a76df0eb9847d8f3c47d26617cb', 'message': 'Add kapacitor datasource\n\nEnabling Kapacitor alerts and clusters in Vitrage Entity Graph.\nGoal is integrate TICK monitor system with vitrage\n\nChange-Id: I275135378a63b70c6859e5dfe36bdef9cb1b9c4b\nStory: 2005428\nTask: 30461\n'}, {'number': 13, 'created': '2019-05-05 07:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/ed5a46fc75dc11917de274cad1a788a547140223', 'message': 'Add kapacitor datasource\n\nEnabling Kapacitor alerts and clusters in Vitrage Entity Graph.\nGoal is integrate TICK monitor system with vitrage\n\nChange-Id: I275135378a63b70c6859e5dfe36bdef9cb1b9c4b\nStory: 2005428\nTask: 30461\n'}, {'number': 14, 'created': '2019-05-05 10:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/f3d7b13e75ca093120322292cb504994f8e797de', 'message': 'Add kapacitor datasource\n\nEnabling Kapacitor alerts and clusters in Vitrage Entity Graph.\nGoal is integrate TICK monitor system with vitrage\n\nChange-Id: I275135378a63b70c6859e5dfe36bdef9cb1b9c4b\nStory: 2005428\nTask: 30461\n'}, {'number': 15, 'created': '2019-05-05 11:00:46.000000000', 'files': ['vitrage/datasources/kapacitor/__init__.py', 'vitrage/tests/unit/datasources/kapacitor/__init__.py', 'releasenotes/notes/kapacitor_datasource-c0c9563bb52ff1f1.yaml', 'vitrage/tests/resources/kapacitor/kapacitor_conf.yaml', 'vitrage/tests/mocks/mock_driver.py', 'vitrage/datasources/kapacitor/driver.py', 'vitrage/datasources/kapacitor/auxiliary/kapacitor_vitrage.py', 'vitrage/tests/resources/mock_configurations/transformer/transformer_kapacitor_update_dynamic.json', 'vitrage/datasources/kapacitor/config.py', 'vitrage/tests/unit/datasources/kapacitor/test_kapacitor_configuration.py', 'vitrage/tests/unit/datasources/kapacitor/test_kapacitor_transformer.py', 'doc/source/contributor/configuration.rst', 'vitrage/tests/mocks/trace_generator.py', 'doc/source/contributor/kapacitor-datasource.rst', 'vitrage/tests/mocks/mock_transformer.py', 'vitrage/datasources/kapacitor/transformer.py', 'etc/vitrage/datasources_values/kapacitor.yaml', 'vitrage/tests/unit/datasources/kapacitor/test_kapacitor_driver.py', 'vitrage/datasources/kapacitor/properties.py', 'vitrage/tests/resources/mock_configurations/driver/driver_kapacitor_update_dynamic.json'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/bc54094285e5bfa114a6f9e72431372bc17d6982', 'message': 'Add kapacitor datasource\n\nEnabling Kapacitor alerts and clusters in Vitrage Entity Graph.\nGoal is integrate TICK monitor system with vitrage\n\nChange-Id: I275135378a63b70c6859e5dfe36bdef9cb1b9c4b\nStory: 2005428\nTask: 30461\n'}]",46,653416,bc54094285e5bfa114a6f9e72431372bc17d6982,44,4,15,30154,,,0,"Add kapacitor datasource

Enabling Kapacitor alerts and clusters in Vitrage Entity Graph.
Goal is integrate TICK monitor system with vitrage

Change-Id: I275135378a63b70c6859e5dfe36bdef9cb1b9c4b
Story: 2005428
Task: 30461
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/16/653416/6 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/datasources/kapacitor/__init__.py', 'vitrage/datasources/kapacitor/auxiliary/readme.rst', 'vitrage/datasources/kapacitor/driver.py', 'vitrage/datasources/kapacitor/auxiliary/kapacitor_vitrage.py', 'vitrage/datasources/kapacitor/transformer.py', 'etc/vitrage/datasources_values/kapacitor.yaml', 'vitrage/datasources/kapacitor/properties.py']",7,418aa380f6d053c040bbe1d70a379fa3af9947fc,add_kapacitor_datasource,"# Copyright 2016 - Nokia # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. class KapacitorProperties(object): ID = 'id' RESOURCE_TYPE = 'resource_type' RESOURCE_NAME = 'resource_name' DETAILS = 'details' STATUS = 'status' HOST = 'host' PRIORITY = 'priority' TIMESTAMP = 'timestamp' KAPACITOR_TIMESTAMP_FORMAT = '%Y.%m.%d %H:%M:%S' MESSAGE = 'message' KAPACITOR_RESOURCE_NAME = 'kapacitor_resource_name' class KapacitorState(object): OK = 'ok' INFO = 'info' WARNING = 'warning' CRITICAL = 'critical' ",,545,0
openstack%2Fpuppet-openstack-guide~master~I4542434d9b3e47c374e99538fd475df4debeff6d,openstack/puppet-openstack-guide,master,I4542434d9b3e47c374e99538fd475df4debeff6d,Update puppet-ceph version to 3.0.0,MERGED,2019-05-01 19:03:14.000000000,2019-05-07 08:08:23.000000000,2019-05-07 08:08:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 19:03:14.000000000', 'files': ['doc/source/install/releases.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/7ab45a405dbe9edf332d683d61c01a308b121e11', 'message': 'Update puppet-ceph version to 3.0.0\n\nDepends-On: https://review.opendev.org/#/c/655642/\nChange-Id: I4542434d9b3e47c374e99538fd475df4debeff6d\n'}]",0,656696,7ab45a405dbe9edf332d683d61c01a308b121e11,8,3,1,16137,,,0,"Update puppet-ceph version to 3.0.0

Depends-On: https://review.opendev.org/#/c/655642/
Change-Id: I4542434d9b3e47c374e99538fd475df4debeff6d
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/96/656696/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/releases.rst'],1,7ab45a405dbe9edf332d683d61c01a308b121e11,ceph-version,| puppet-ceph_ | `3.0.0 <http://docs.openstack.org/releasenotes/puppet-ceph/>`__ |,| puppet-ceph_ | `2.6.0 <http://docs.openstack.org/releasenotes/puppet-ceph/>`__ |,1,1
openstack%2Fplacement~master~I8f762cbf0ce2126609b7c24a8054785e252bdd03,openstack/placement,master,I8f762cbf0ce2126609b7c24a8054785e252bdd03,Skip notification sample tests when running nova functional,MERGED,2019-05-06 21:06:36.000000000,2019-05-07 08:05:48.000000000,2019-05-07 08:05:48.000000000,"[{'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 21:06:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/df12d4d2c998f264e2eaf7d362d2d67f24029ab3', 'message': 'Skip notification sample tests when running nova functional\n\nThe notification sample tests are many and at least some of\nthem contribute quite a bit of time so may as well not run\nthem when placement runs the nova functional tests.\n\nIn a recent run those tests took ~11.5 minutes to run in total,\nwith ~6.5 minutes being devoted to the actual tests.\n\nTuning this to perfection is probably a fools errand but\nmaking tweaks when there are obviously useless (in this\ncontext) time consumers, may as well kill them.\n\n(Not listing a task here as the story has already merged\nso the following syntax will operate similar to related-bug.)\n\nChange-Id: I8f762cbf0ce2126609b7c24a8054785e252bdd03\nStory: 2005562\n'}]",0,657455,df12d4d2c998f264e2eaf7d362d2d67f24029ab3,7,3,1,11564,,,0,"Skip notification sample tests when running nova functional

The notification sample tests are many and at least some of
them contribute quite a bit of time so may as well not run
them when placement runs the nova functional tests.

In a recent run those tests took ~11.5 minutes to run in total,
with ~6.5 minutes being devoted to the actual tests.

Tuning this to perfection is probably a fools errand but
making tweaks when there are obviously useless (in this
context) time consumers, may as well kill them.

(Not listing a task here as the story has already merged
so the following syntax will operate similar to related-bug.)

Change-Id: I8f762cbf0ce2126609b7c24a8054785e252bdd03
Story: 2005562
",git fetch https://review.opendev.org/openstack/placement refs/changes/55/657455/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,df12d4d2c998f264e2eaf7d362d2d67f24029ab3,cd/2005562-followup, # Skip the api and notification _sample_tests tox_extra_args: '^((?!(?:api|notification)_sample_tests).)*$', # Skip the api_sample_tests tox_extra_args: '^((?!api_sample_tests).)*$',2,2
openstack%2Fcloudkitty~master~I8dcd25aac6dcb2ac70f867275647650283d2125f,openstack/cloudkitty,master,I8dcd25aac6dcb2ac70f867275647650283d2125f,Documentation enhancements,ABANDONED,2018-08-16 09:34:46.000000000,2019-05-07 08:01:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 26767}]","[{'number': 1, 'created': '2018-08-16 09:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/6d38d44d5432e7c3ca39278003437b8d99c5fec1', 'message': 'Documentation enhancements\n\nIn order to cover the new metrics.yml configuration file structure,\nthe documentation as been reworked.\n\nThe usage of a standalone Cloudkitty deployement, in a non-OpenStack\ncontext is also covered.\n\nCollector-specific configuration and examples are also provided.\n\nChange-Id: I8dcd25aac6dcb2ac70f867275647650283d2125f\n'}, {'number': 2, 'created': '2018-08-21 16:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/7155dff79ff65faa45d9a748d02365984009e3c3', 'message': 'Documentation enhancements\n\nIn order to cover the new metrics.yml configuration file structure,\nthe documentation as been reworked.\n\nThe usage of a standalone Cloudkitty deployement, in a non-OpenStack\ncontext is also covered.\n\nCollector-specific configuration and examples are also provided.\n\nChange-Id: I8dcd25aac6dcb2ac70f867275647650283d2125f\n'}, {'number': 3, 'created': '2018-08-22 16:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/57ae1de9b1a5ccb0a8185156861b1390f7247922', 'message': 'Documentation enhancements\n\nIn order to cover the new metrics.yml configuration file structure,\nthe documentation as been reworked.\n\nThe usage of a standalone Cloudkitty deployement, in a non-OpenStack\ncontext is also covered.\n\nCollector-specific configuration and examples are also provided.\n\nChange-Id: I8dcd25aac6dcb2ac70f867275647650283d2125f\n'}, {'number': 4, 'created': '2018-08-23 14:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/799648690a55247f561677cb4cc9fec0df51b6e4', 'message': 'Documentation enhancements\n\nIn order to cover the new metrics.yml configuration file structure,\nthe documentation as been reworked.\n\nThe usage of a standalone Cloudkitty deployement, in a non-OpenStack\ncontext is also covered.\n\nCollector-specific configuration and examples are also provided.\n\nChange-Id: I8dcd25aac6dcb2ac70f867275647650283d2125f\n'}, {'number': 5, 'created': '2018-09-03 12:48:50.000000000', 'files': ['doc/source/configuration/index.rst', 'doc/source/configuration/standalone.rst', 'doc/source/configuration/overview.rst', 'doc/source/configuration/collectors.rst', 'doc/source/configuration/openstack.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/0571c91e3044814e3ee871f3210ae18352095068', 'message': 'Documentation enhancements\n\nIn order to cover the new metrics.yml configuration file structure,\nthe documentation as been reworked.\n\nThe usage of a standalone Cloudkitty deployement, in a non-OpenStack\ncontext is also covered.\n\nCollector-specific configuration and examples are also provided.\n\nChange-Id: I8dcd25aac6dcb2ac70f867275647650283d2125f\n'}]",31,592329,0571c91e3044814e3ee871f3210ae18352095068,14,4,5,26767,,,0,"Documentation enhancements

In order to cover the new metrics.yml configuration file structure,
the documentation as been reworked.

The usage of a standalone Cloudkitty deployement, in a non-OpenStack
context is also covered.

Collector-specific configuration and examples are also provided.

Change-Id: I8dcd25aac6dcb2ac70f867275647650283d2125f
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/29/592329/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/index.rst', 'doc/source/configuration/overview.rst', 'doc/source/configuration/standalone.rst', 'doc/source/configuration/collectors.rst', 'doc/source/configuration/openstack.rst']",5,6d38d44d5432e7c3ca39278003437b8d99c5fec1,doc_enhancements,"OpenStack Configuration ======================= Fetcher Configuration --------------------- The `Fetcher` is a class that allows Cloudkitty to retrieve scope information about available metrics, giving a data source. It fetches and splits information from the data source into scopes (e.g: by projet/tenant for Openstack, or by metric for some other data sources). The Fetcher makes possible to divide the metric collection and rating between multiple Cloudkitty processors, by affecting each one one or more scopes. To retrieve the projects list from OpenStack, the `Tenant Fetcher` is used and enabled by setting ``keystone`` as the fetcher backend in the :file:`/etc/cloudkitty/cloudkitty.conf` file. .. code-block:: ini [fetcher] backend = keystone Authentication method --------------------- The authentication method wished to reach Cloudkitty API endpoints needs to be configured. With OpenStack, the Keystone API is used for authentication. This needs to be set in configuration: .. code-block:: ini [DEFAULT] auth_strategy = keystone The Keystone API version to use can be determined using the ``openstack endpoint list`` command. Keep in mind that the Keystone API v3 should always be used starting from the OpenStack Queens release. The `Tenant Fetcher` needs to know the Keystone API version to use. This can be set in the ``[keystone_fetcher]`` section: .. code-block:: ini [keystone_fetcher] auth_section = ks_auth keystone_version = 3 # If Keystone API v3 used Keystone (identity): API v3 --------------------------- The following shows the basic configuration items, based on the Keystone v3 API version: .. code-block:: ini [DEFAULT] verbose = True log_dir = /var/log/cloudkitty transport_url = rabbit://RABBIT_USER:RABBIT_PASSWORD@RABBIT_HOST/ auth_strategy = keystone [ks_auth] auth_type = v3password auth_protocol = http auth_url = http://KEYSTONE_HOST:5000/ identity_uri = http://KEYSTONE_HOST:5000/ username = cloudkitty password = CK_PASSWORD project_name = service user_domain_name = default project_domain_name = default debug = True [keystone_authtoken] auth_section = ks_auth [database] connection = mysql+pymysql://CK_DBUSER:CK_DBPASSWORD@DB_HOST/cloudkitty [fetcher] backend = keystone [keystone_fetcher] auth_section = ks_auth keystone_version = 3 .. note:: The tenant named ``service`` is also commonly called ``services`` Storage backend Configuration ----------------------------- The following assumes that the database and storage backends are correctly configured. This is covered in the ``Overview`` section. As we seen with the `Tenant Fetcher`, collectors and storage backends sometimes need additional configuration sections. The section's name has the following format: ``[{backend_name}_{backend_type}]`` (``[gnocchi_collector]`` for example), except for ``[storage_gnocchi]``. .. note:: The section name format should become ``[{backend_type}_{backend_name}]`` for all sections in the future (``[storage_gnocchi]`` style). If you want to use the hybrid storage with Gnocchi as data source, add the following entry: .. code-block:: ini [storage_gnocchi] auth_section = ks_auth Collectors Configuration ------------------------ Two collectors are currently available for OpenStack: Gnocchi and Monasca. The Monasca collector collects metrics published by the Ceilometer agent to Monasca using Ceilosca_. The collect information, is separated from the Cloudkitty configuration file, in a Yaml one. This allows Cloudkitty users and operators to change the metrology configuration, without modifying source code or Cloudkitty configuration file. Precise the metrics configuration file location: .. code-block:: ini [collect] metrics_conf = /etc/cloudkitty/metrics.yml The usage of the :file:`/etc/cloudkitty/metrics.yml` file is covered in the ``Collectors Configuration`` section. .. _Ceilosca: https://github.com/openstack/monasca-ceilometer ",,442,1
openstack%2Fcloudkitty~master~Iee5415465733ae0206a1ce5949336f47c05b13bf,openstack/cloudkitty,master,Iee5415465733ae0206a1ce5949336f47c05b13bf,Enhance utils.py to support local time zone,ABANDONED,2016-02-20 12:37:40.000000000,2019-05-07 08:01:27.000000000,,"[{'_account_id': 3}, {'_account_id': 2376}, {'_account_id': 8358}, {'_account_id': 9642}, {'_account_id': 13001}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2016-02-20 12:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/1b4a4068b9b09106fa1c6dfb0044bcb8aa58a417', 'message': 'Enhance utils.py to support local time zone\n\nAdd a bunch of wrapper functions in utils.py for implementing business\nlogic of local time zone support\n\nChange-Id: Iee5415465733ae0206a1ce5949336f47c05b13bf\nImplements: blueprint local-time-zone-support\n'}, {'number': 2, 'created': '2016-02-22 02:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/d9546f693955cf5fa79500744f109a212a9ac57e', 'message': 'Enhance utils.py to support local time zone\n\nAdd a bunch of wrapper functions in utils.py for implementing business\nlogic of local time zone support\n\nChange-Id: Iee5415465733ae0206a1ce5949336f47c05b13bf\nImplements: blueprint local-time-zone-support\n'}, {'number': 3, 'created': '2017-01-07 15:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/5396e1517a851316f38db1e73f7c2d468e8ec1e3', 'message': 'Enhance utils.py to support local time zone\n\nAdd a bunch of wrapper functions in utils.py for implementing business\nlogic of local time zone support. Also UT is added.\n\nChange-Id: Iee5415465733ae0206a1ce5949336f47c05b13bf\nImplements: blueprint local-time-zone-support\n'}, {'number': 4, 'created': '2017-01-07 17:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/9b99d18cd936d1153ae70524a5cd711665101e42', 'message': 'Enhance utils.py to support local time zone\n\nAdd a bunch of wrapper functions in utils.py for implementing business\nlogic of local time zone support. Also UT is added.\n\nChange-Id: Iee5415465733ae0206a1ce5949336f47c05b13bf\nImplements: blueprint local-time-zone-support\n'}, {'number': 5, 'created': '2018-02-14 08:05:19.000000000', 'files': ['cloudkitty/utils.py', 'cloudkitty/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/3f91fa4698e2e001a87bf79e40f5b3c7f11bcfc4', 'message': 'Enhance utils.py to support local time zone\n\nAdd a bunch of wrapper functions in utils.py for implementing business\nlogic of local time zone support. Also UT is added.\n\nChange-Id: Iee5415465733ae0206a1ce5949336f47c05b13bf\nImplements: blueprint local-time-zone-support\n'}]",0,282661,3f91fa4698e2e001a87bf79e40f5b3c7f11bcfc4,19,8,5,13001,,,0,"Enhance utils.py to support local time zone

Add a bunch of wrapper functions in utils.py for implementing business
logic of local time zone support. Also UT is added.

Change-Id: Iee5415465733ae0206a1ce5949336f47c05b13bf
Implements: blueprint local-time-zone-support
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/61/282661/2 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/utils.py'],1,1b4a4068b9b09106fa1c6dfb0044bcb8aa58a417,bp/local-time-zone-support,"from dateutil import tzdef local2utc(dt=None): """"""local time to utc time"""""" if not dt: dt = datetime.datetime.now() from_zone = tz.gettz(datetime.datetime.now(tz.tzlocal()).tzname()) to_zone = tz.gettz('UTC') local = dt.replace(tzinfo=from_zone) return local.astimezone(to_zone) def utc2local(dt=None): """"""utc time to local time"""""" if not dt: dt = utcnow() from_zone = tz.gettz('UTC') to_zone = tz.gettz(datetime.datetime.now(tz.tzlocal()).tzname()) utc = dt.replace(tzinfo=from_zone) return utc.astimezone(to_zone) def get_local_month_boundary(): """"""Get boundary of current month in local timezone format. Used to calculate month boundary based on different time zone on which CloudKitty deploy. the boundary is returned as utc format. """""" # NOTE(lixiangjun): local boundary calculation for day/year also will be # added if special business logic(e.g. statistics for current day/year) is # added. begin = local2utc(get_month_start()) end = local2utc(get_next_month()) return begin, end ",,35,0
openstack%2Fcloudkitty~master~I2903641b05849604215f24c5a9545b234535efcc,openstack/cloudkitty,master,I2903641b05849604215f24c5a9545b234535efcc,Update metrology documentation,ABANDONED,2018-04-20 09:24:08.000000000,2019-05-07 08:01:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2018-04-20 09:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/8ac00df7292fc8f3eff87c9630de43da8c0ecfa9', 'message': 'Update metrology documentation\n\nChange-Id: I2903641b05849604215f24c5a9545b234535efcc\n'}, {'number': 2, 'created': '2018-04-23 08:30:32.000000000', 'files': ['doc/source/admin/rating/hashmap.rst', 'doc/source/webapi/v1.rst', 'doc/source/install/install-source.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/76aca2d7a239610d03bb7cb5ca67fdec10a23643', 'message': 'Update metrology documentation\n\nChange-Id: I2903641b05849604215f24c5a9545b234535efcc\n'}]",2,563005,76aca2d7a239610d03bb7cb5ca67fdec10a23643,7,2,2,26767,,,0,"Update metrology documentation

Change-Id: I2903641b05849604215f24c5a9545b234535efcc
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/05/563005/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/rating/hashmap.rst', 'doc/source/webapi/v1.rst', 'doc/source/install/install-source.rst']",3,8ac00df7292fc8f3eff87c9630de43da8c0ecfa9,metrology_doc_update, cp etc/cloudkitty/metrics.yml /etc/cloudkitty,,70,47
openstack%2Fcloudkitty~master~Ibc518cebe3d70025d9c203c89699220abb77953d,openstack/cloudkitty,master,Ibc518cebe3d70025d9c203c89699220abb77953d,Allow Cloudkitty to collect data sources from a timestamp,ABANDONED,2018-10-01 15:36:59.000000000,2019-05-07 08:00:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 26767}]","[{'number': 1, 'created': '2018-10-01 15:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/89e0cec9e0fb42f9e9c95f7eabaa549e7d84db86', 'message': 'Allow Cloudkitty to collect data sources from a timestamp\n\nChange-Id: Ibc518cebe3d70025d9c203c89699220abb77953d\nStory: 2003928\n'}, {'number': 2, 'created': '2018-10-08 14:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/710f835edd644fdb3d108262f80b5654e2cd91c5', 'message': 'Allow Cloudkitty to collect data sources from a timestamp\n\nChange-Id: Ibc518cebe3d70025d9c203c89699220abb77953d\nStory: 2003928\n'}, {'number': 3, 'created': '2018-10-09 14:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/704d484451dfc3fcef28d517438f16da66264531', 'message': 'Allow Cloudkitty to collect data sources from a timestamp\n\nAlso simplify the way that the timestamp is retrieved\nand calculated by Cloudkitty classes.\n\nChange-Id: Ibc518cebe3d70025d9c203c89699220abb77953d\nStory: 2003928\n'}, {'number': 4, 'created': '2018-10-09 15:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/181133bbe7b048bd1e7e46ed3a655f51739898dd', 'message': 'Allow Cloudkitty to collect data sources from a timestamp\n\nAlso simplify the way that the timestamp is retrieved\nand calculated by Cloudkitty classes.\n\nChange-Id: Ibc518cebe3d70025d9c203c89699220abb77953d\nStory: 2003928\n'}, {'number': 5, 'created': '2018-10-10 08:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/de0139d618332ff70ad7e4e95b6895f511c124cb', 'message': 'Allow Cloudkitty to collect data sources from a timestamp\n\nAlso simplify the way that the timestamp is retrieved\nand calculated by Cloudkitty classes.\n\nChange-Id: Ibc518cebe3d70025d9c203c89699220abb77953d\nStory: 2003928\n'}, {'number': 6, 'created': '2018-10-10 09:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/6d0fd0b03089d9527d0f39f56089db4ebdb3ac5e', 'message': 'Allow Cloudkitty to collect data sources from a timestamp\n\nAlso simplify the way that the timestamp is retrieved\nand calculated by Cloudkitty classes.\n\nChange-Id: Ibc518cebe3d70025d9c203c89699220abb77953d\nStory: 2003928\n'}, {'number': 7, 'created': '2018-10-12 09:05:21.000000000', 'files': ['cloudkitty/utils.py', 'cloudkitty/collector/__init__.py', 'cloudkitty/orchestrator.py', 'cloudkitty/storage_state/__init__.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/c42d18e727989da3de2138669df8160fcb31f89b', 'message': 'Allow Cloudkitty to collect data sources from a timestamp\n\nAlso simplify the way that the timestamp is retrieved\nand calculated by Cloudkitty classes.\n\nChange-Id: Ibc518cebe3d70025d9c203c89699220abb77953d\nStory: 2003928\n'}]",0,606979,c42d18e727989da3de2138669df8160fcb31f89b,16,2,7,26767,,,0,"Allow Cloudkitty to collect data sources from a timestamp

Also simplify the way that the timestamp is retrieved
and calculated by Cloudkitty classes.

Change-Id: Ibc518cebe3d70025d9c203c89699220abb77953d
Story: 2003928
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/79/606979/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/collector/__init__.py', 'cloudkitty/orchestrator.py', 'cloudkitty/storage_state/__init__.py']",3,89e0cec9e0fb42f9e9c95f7eabaa549e7d84db86,collect_from_date," def get_state(self, identifier, from_ts): timestamp = ck_utils.dt2ts(r.state) if r else None return from_ts if not timestamp and from_ts else timestamp"," def get_state(self, identifier): return ck_utils.dt2ts(r.state) if r else None",8,3
openstack%2Fpython-cloudkittyclient~master~I8026b304d3d0646b85ef8557647408099efb1a48,openstack/python-cloudkittyclient,master,I8026b304d3d0646b85ef8557647408099efb1a48,Fixed wrap from taking negative values,ABANDONED,2017-07-06 10:21:11.000000000,2019-05-07 08:00:04.000000000,,"[{'_account_id': 3}, {'_account_id': 23060}]","[{'number': 1, 'created': '2017-07-06 10:21:11.000000000', 'files': ['cloudkittyclient/common/cliutils.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/2ed42a336aeeb3f2230314bf4dec9e78b30c8a54', 'message': 'Fixed wrap from taking negative values\n\nNow for wrap input it will take only postive integers as an input and\nif any negative numbers are give it will give output as ""Wrap argument\nshould be a positive integer"".\n\nChange-Id: I8026b304d3d0646b85ef8557647408099efb1a48\n'}]",0,480959,2ed42a336aeeb3f2230314bf4dec9e78b30c8a54,4,2,1,24925,,,0,"Fixed wrap from taking negative values

Now for wrap input it will take only postive integers as an input and
if any negative numbers are give it will give output as ""Wrap argument
should be a positive integer"".

Change-Id: I8026b304d3d0646b85ef8557647408099efb1a48
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/59/480959/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkittyclient/common/cliutils.py'],1,2ed42a336aeeb3f2230314bf4dec9e78b30c8a54,pos," elif wrap < 0: raise ValueError(_(""Wrap argument should be a positive integer""))",,2,0
openstack%2Fcloudkitty-specs~master~Ifec9827a91ba45b7d002b2cabfdf2cd7883f43e3,openstack/cloudkitty-specs,master,Ifec9827a91ba45b7d002b2cabfdf2cd7883f43e3,[WIP] Run cloudkitty-api behind mod-wsgi,ABANDONED,2017-04-26 03:44:26.000000000,2019-05-07 07:59:50.000000000,,"[{'_account_id': 3}, {'_account_id': 8358}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}]","[{'number': 1, 'created': '2017-04-26 03:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/857f86ddc4afa0927bb77ebd5f21961bf95cf8ec', 'message': '[WIP] Run cloudkitty-api behind mod-wsgi\n\nChange-Id: Ifec9827a91ba45b7d002b2cabfdf2cd7883f43e3\n'}, {'number': 2, 'created': '2018-10-23 09:37:01.000000000', 'files': ['doc/source/index.rst', 'specs/pike/add-wsgi-support.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/8e5c6a9fc4be59e977f6c8dc357d24c4e9f976c7', 'message': '[WIP] Run cloudkitty-api behind mod-wsgi\n\nChange-Id: Ifec9827a91ba45b7d002b2cabfdf2cd7883f43e3\n'}]",4,459933,8e5c6a9fc4be59e977f6c8dc357d24c4e9f976c7,9,6,2,8358,,,0,"[WIP] Run cloudkitty-api behind mod-wsgi

Change-Id: Ifec9827a91ba45b7d002b2cabfdf2cd7883f43e3
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/33/459933/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/pike/add-wsgi-support.rst']",2,857f86ddc4afa0927bb77ebd5f21961bf95cf8ec,bp/add-wsgi-suppor,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================================== Run cloudkitty-api behind mod-wsgi =================================== Launchpad blueprint: https://blueprints.launchpad.net/cloudkitty/+spec/wsgi-support The community has set a community wide goal in Pike cycle ``Control Plane API endpoints deployment via WSGI`` at https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html #. Provide WSGI application script file(s). #. Switch devstack jobs to deploy control-plane API services in WSGI with Apache. Problem Description =================== When the cloudkitty provides a WSGI application the API service gains flexibility in terms of deployment, performance, configuration and scaling. But now the cloudkitty-api just can run as a Python command. Proposed Change =============== Here is where you cover the change you propose to make in detail. How do you propose to solve this problem? If this is one part of a larger effort make it clear where this piece ends. In other words, what's the scope of this effort? Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications Impact ---------------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed? Are the default values ones which will work well in real deployments? * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? * If this change is a new binary, how would it be deployed? * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. Developer impact ---------------- Discuss things that will affect other developers working on OpenStack, such as: * New dependencies in development environments. * Changes to typical developer workflows. * Changes that will require updates to CI. * Changes to shared code that will require updates to other areas of code outside this feature. Implementation ============== Assignee(s) ----------- zhangguoqing Primary assignee: <zhangguoqing (474751729-o)> Work Items ---------- The work can be split to those parts: * Added wsgi app script files, to run cloudkitty-api under apache. * Updated devstack plugin to run cloudkitty-api default with mod-wsgi. * Updated document to deploy cloudkitty-api behind wsgi. Dependencies ============ None Testing ======= None Documentation Impact ==================== * Add the document section about run cloudkitty-api under apache by wsgi. * Update the document about starting cloudkitty at https://docs.openstack.org/developer/cloudkitty/installation.html#start-cloudkitty References ========== https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html https://blueprints.launchpad.net/cloudkitty/+spec/wsgi-support https://docs.openstack.org/developer/cloudkitty/installation.html https://docs.openstack.org/developer/keystone/apache-httpd.html https://docs.openstack.org/developer/panko/install/mod_wsgi.html ",,177,0
openstack%2Fcloudkitty-dashboard~master~Idc72613a45e2331a5c4ac40255067b014d17aa29,openstack/cloudkitty-dashboard,master,Idc72613a45e2331a5c4ac40255067b014d17aa29,Remove link to modindex,ABANDONED,2017-01-27 06:14:19.000000000,2019-05-07 07:59:33.000000000,,"[{'_account_id': 3}, {'_account_id': 12015}, {'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2017-01-27 06:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/3664dcd0c63b43d192f6b59a7eac10eab64994e8', 'message': 'Remove link to modindex\n\nThe documentation build does not generate any module index, thus\nremove the link to the page. The page\nhttp://docs.openstack.org/developer/cloudkitty-dashboard/\npy-modindex.html does not exists\n\nChange-Id: Idc72613a45e2331a5c4ac40255067b014d17aa29\n'}, {'number': 2, 'created': '2018-10-23 09:41:32.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/b8566cd2d933a12b2f6f2f1b45e250ffc5106fd2', 'message': 'Remove link to modindex\n\nThe documentation build does not generate any module index, thus\nremove the link to the page. The page\nhttp://docs.openstack.org/developer/cloudkitty-dashboard/\npy-modindex.html does not exists\n\nChange-Id: Idc72613a45e2331a5c4ac40255067b014d17aa29\n'}]",1,426088,b8566cd2d933a12b2f6f2f1b45e250ffc5106fd2,10,4,2,19457,,,0,"Remove link to modindex

The documentation build does not generate any module index, thus
remove the link to the page. The page
http://docs.openstack.org/developer/cloudkitty-dashboard/
py-modindex.html does not exists

Change-Id: Idc72613a45e2331a5c4ac40255067b014d17aa29
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/88/426088/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,3664dcd0c63b43d192f6b59a7eac10eab64994e8,,,* :ref:`modindex`,0,1
openstack%2Fcloudkitty-dashboard~master~Id61770905e6f7a7a5355d5290be95f15484ca790,openstack/cloudkitty-dashboard,master,Id61770905e6f7a7a5355d5290be95f15484ca790,Fix : To return Duplicate Error occured 500 Internal Error in dashboard.,ABANDONED,2017-09-19 09:27:35.000000000,2019-05-07 07:59:14.000000000,,"[{'_account_id': 3}, {'_account_id': 2376}, {'_account_id': 7923}, {'_account_id': 9642}, {'_account_id': 10313}, {'_account_id': 11616}, {'_account_id': 23060}, {'_account_id': 26490}]","[{'number': 1, 'created': '2017-09-19 09:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/58230ff05bccb10450be1ade1d2e3fe9072fd777', 'message': 'Fix : To return Duplicate Error occured 500 Internal Error in dashboard.\n\n* It should implement it so that you know what is already in use.\n  so, Add to receive duplication exception 409.\n\nChange-Id: Id61770905e6f7a7a5355d5290be95f15484ca790\nCloses-bug: #1718098\n'}, {'number': 2, 'created': '2017-09-20 02:03:37.000000000', 'files': ['cloudkittydashboard/dashboards/admin/hashmap/forms.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/d0f846585cb301a7ce7f1e0027c7d5f5e404c8e4', 'message': 'Fix : To return Duplicate Error occured 500 Internal Error in dashboard.\n\n* It should implement it so that you know what is already in use.\n  so, Add to receive duplication exception 409.\n\nChange-Id: Id61770905e6f7a7a5355d5290be95f15484ca790\nCloses-bug: #1718098\n'}]",0,505133,d0f846585cb301a7ce7f1e0027c7d5f5e404c8e4,7,8,2,11616,,,0,"Fix : To return Duplicate Error occured 500 Internal Error in dashboard.

* It should implement it so that you know what is already in use.
  so, Add to receive duplication exception 409.

Change-Id: Id61770905e6f7a7a5355d5290be95f15484ca790
Closes-bug: #1718098
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/33/505133/2 && git format-patch -1 --stdout FETCH_HEAD,['cloudkittydashboard/dashboards/admin/hashmap/forms.py'],1,58230ff05bccb10450be1ade1d2e3fe9072fd777,bug/1718098," try: services_mgr = api.cloudkittyclient(request).hashmap.services LOG.info('Creating service with name %s' % (service)) return services_mgr.create(name=service) except exceptions.Conflict: LOG.info('The service is 409 Conflict : %s' % (service)) error_msg = _('The name ""%s"" is already used by ' 'another service.') % service self._errors['service'] = self.error_class([error_msg]) try: return fields_mgr.create(name=field, service_id=service_id) except exceptions.Conflict: LOG.info('The field is 409 Conflict : %s' % (field)) error_msg = _('The name ""%s"" is already used by ' 'another field.') % field self._errors['field'] = self.error_class([error_msg]) try: return api.cloudkittyclient(request).hashmap.groups.create(name=name) except exceptions.Conflict: LOG.info('The group is 409 Conflict : %s' % (name)) error_msg = _('The name ""%s"" is already used by ' 'another group.') % name self._errors['name'] = self.error_class([error_msg]) try: return thresholds_mgr.create(**threshold) except exceptions.Conflict: tenant_id = data['tenant_id'] LOG.info('The request is 409 Conflict : %s' % (tenant_id)) error_msg = _('The name ""%s"" is already used by ' 'another Project.') % tenant_id self._errors['tenant_id'] = self.error_class([error_msg]) try: return mapping_mgr.create(**mapping) except exceptions.Conflict: tenant_id = data[""tenant_id""] LOG.info('The project is 409 Conflict : %s' % (tenant_id)) error_msg = _('The name ""%s"" is already used by ' 'another Project.') % tenant_id self._errors['tenant_id'] = self.error_class([error_msg]) try: return mapping_mgr.update(**mapping) except exceptions.Conflict: tenant_id = data[""tenant_id""] LOG.info('The project is 409 Conflict : %s' % (tenant_id)) error_msg = _('The name ""%s"" is already used by ' 'another Project.') % tenant_id self._errors['tenant_id'] = self.error_class([error_msg]) try: return threshold_mgr.update(**threshold) except exceptions.Conflict: tenant_id = data[""tenant_id""] LOG.info('The project is 409 Conflict : %s' % (tenant_id)) error_msg = _('The name ""%s"" is already used by ' 'another Project.') % tenant_id self._errors['tenant_id'] = self.error_class([error_msg])"," services_mgr = api.cloudkittyclient(request).hashmap.services LOG.info('Creating service with name %s' % (service)) return services_mgr.create(name=service) return fields_mgr.create(name=field, service_id=service_id) return api.cloudkittyclient(request).hashmap.groups.create(name=name) return thresholds_mgr.create(**threshold) return mapping_mgr.create(**mapping) return mapping_mgr.update(**mapping) return threshold_mgr.update(**threshold)",55,9
openstack%2Fcloudkitty~master~I024fc280d201286fa5bf997bb7f561be3ba300ab,openstack/cloudkitty,master,I024fc280d201286fa5bf997bb7f561be3ba300ab,Refactor boundary calculation logic,ABANDONED,2016-02-20 13:13:06.000000000,2019-05-07 07:58:49.000000000,,"[{'_account_id': 8358}, {'_account_id': 9642}, {'_account_id': 19137}, {'_account_id': 21797}, {'_account_id': 23060}]","[{'number': 1, 'created': '2016-02-20 13:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/1033331098ba26070bc7274e07d7491df9bc3719', 'message': 'Refactor boundary calculation logic\n\nRefactor boundary calculation logic of current month so that ensure\ncalculated boundary is based on local time zone.\n\nChange-Id: I024fc280d201286fa5bf997bb7f561be3ba300ab\nImplements: blueprint local-time-zone-support\n'}, {'number': 2, 'created': '2016-02-22 02:59:51.000000000', 'files': ['cloudkitty/tests/storage/test_storage.py', 'cloudkitty/storage/sqlalchemy/__init__.py', 'cloudkitty/orchestrator.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/89e73af7ecedce5fc6af8f592cc4e537f5da9385', 'message': 'Refactor boundary calculation logic\n\nRefactor boundary calculation logic of current month so that ensure\ncalculated boundary is based on local time zone.\n\nChange-Id: I024fc280d201286fa5bf997bb7f561be3ba300ab\nImplements: blueprint local-time-zone-support\nDepends-On: Iee5415465733ae0206a1ce5949336f47c05b13bf\n'}]",0,282672,89e73af7ecedce5fc6af8f592cc4e537f5da9385,13,5,2,13001,,,0,"Refactor boundary calculation logic

Refactor boundary calculation logic of current month so that ensure
calculated boundary is based on local time zone.

Change-Id: I024fc280d201286fa5bf997bb7f561be3ba300ab
Implements: blueprint local-time-zone-support
Depends-On: Iee5415465733ae0206a1ce5949336f47c05b13bf
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/72/282672/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/storage/sqlalchemy/__init__.py', 'cloudkitty/orchestrator.py']",2,1033331098ba26070bc7274e07d7491df9bc3719,bp/local-time-zone-support, month_start = ck_utils.local2utc(ck_utils.get_month_start()), month_start = ck_utils.get_month_start(),3,9
openstack%2Fplacement~master~Ie326ce8a2a0692d20793bc18be606e034fa94a44,openstack/placement,master,Ie326ce8a2a0692d20793bc18be606e034fa94a44,Package db migration scripts in placement pypi dist,MERGED,2019-05-01 22:36:04.000000000,2019-05-07 06:54:34.000000000,2019-05-07 06:54:34.000000000,"[{'_account_id': 1004}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 22:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/76814664c129d921dc3311c716d42c985049cc07', 'message': 'Package db migration scripts in placement pypi dist\n\nHaving the db migration scripts within the openstack-placement pypi\ndistribution is desirable for deployment tools, such as\nopenstack-ansible. It provides a known good location for the script,\navailable with a pip install.\n\nThere are several ways to distribute files with a python package. The\nmethod used here was chosen because it works both with tarballs and\nwheels (the files are already in the tarball, as a result of the way pbr\nworks, but not in the wheel).\n\nHere\'s what\'s done:\n\n* The db migrate scripts are put in their own direcory,\n  placement_db_tools, so that only they are packaged, not the other\n  tools.\n* To preserve how grenade interacts with these files as well as not\n  disrupt the docs, symlinks from tools to placement_db_tools have been\n  created.\n* placement_db_tools is added to the list of packages included in the\n  openstack-placement distro. This means that when \'pip install\n  openstack-placement\' happens, the python environment will then include\n  placement and placement_db_tools directories.\n\nThe end result is that the true path to the script can be found with:\n\n  pkg_resources.resource_filename(\'placement_db_tools\', \'mysql-migrate-db.sh\')\n\nThis has been noted in the to-stein.rst document.\n\nA different package was chosen to not muddy the waters of what is\n""actually placement"".\n\nSimilarly, the \'data_files\' functionality provided by pbr was not used,\nbecause that requires the file be written to a location on the local\nfilesystem, relative to the install prefix. Dirtying the filesystem\noutside the python lib with this sort of thing is inappropriate.\n\nChange-Id: Ie326ce8a2a0692d20793bc18be606e034fa94a44\nStory: 2005535\nTask: 30671\n'}, {'number': 2, 'created': '2019-05-06 22:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/582bdaa9b73e0983334fa9bf7380e4e719c3fa2f', 'message': 'Package db migration scripts in placement pypi dist\n\nHaving the db migration scripts within the openstack-placement pypi\ndistribution is desirable for deployment tools, such as\nopenstack-ansible. It provides a known good location for the script,\navailable with a pip install.\n\nThere are several ways to distribute files with a python package. The\nmethod used here was chosen because it works both with tarballs and\nwheels (the files are already in the tarball, as a result of the way pbr\nworks, but not in the wheel).\n\nHere\'s what\'s done:\n\n* The db migrate scripts are put in their own direcory,\n  placement_db_tools, so that only they are packaged, not the other\n  tools.\n* To preserve how grenade interacts with these files as well as not\n  disrupt the docs, symlinks from tools to placement_db_tools have been\n  created.\n* placement_db_tools is added to the list of packages included in the\n  openstack-placement distro. This means that when \'pip install\n  openstack-placement\' happens, the python environment will then include\n  placement and placement_db_tools directories.\n\nThe end result is that the true path to the script can be found with:\n\n  pkg_resources.resource_filename(\'placement_db_tools\', \'mysql-migrate-db.sh\')\n\nThis has been noted in the to-stein.rst document.\n\nA different package was chosen to not muddy the waters of what is\n""actually placement"".\n\nSimilarly, the \'data_files\' functionality provided by pbr was not used,\nbecause that requires the file be written to a location on the local\nfilesystem, relative to the install prefix. Dirtying the filesystem\noutside the python lib with this sort of thing is inappropriate.\n\nChange-Id: Ie326ce8a2a0692d20793bc18be606e034fa94a44\nStory: 2005535\nTask: 30671\n'}, {'number': 3, 'created': '2019-05-07 00:08:41.000000000', 'files': ['placement_db_tools/mysql-migrate-db.sh', 'tools/postgresql-migrate-db.sh', 'placement_db_tools/__init__.py', 'setup.cfg', 'tools/mysql-migrate-db.sh', 'placement_db_tools/postgresql-migrate-db.sh', 'doc/source/upgrade/to-stein.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/c62ed6ccba4b09b454cc1992582a2955ea309aeb', 'message': 'Package db migration scripts in placement pypi dist\n\nHaving the db migration scripts within the openstack-placement pypi\ndistribution is desirable for deployment tools, such as\nopenstack-ansible. It provides a known good location for the script,\navailable with a pip install.\n\nThere are several ways to distribute files with a python package. The\nmethod used here was chosen because it works both with tarballs and\nwheels (the files are already in the tarball, as a result of the way pbr\nworks, but not in the wheel).\n\nHere\'s what\'s done:\n\n* The db migrate scripts are put in their own direcory,\n  placement_db_tools, so that only they are packaged, not the other\n  tools.\n* To preserve how grenade interacts with these files as well as not\n  disrupt the docs, symlinks from tools to placement_db_tools have been\n  created.\n* placement_db_tools is added to the list of packages included in the\n  openstack-placement distro. This means that when \'pip install\n  openstack-placement\' happens, the python environment will then include\n  placement and placement_db_tools directories.\n\nThe end result is that the true path to the script can be found with:\n\n  pkg_resources.resource_filename(\'placement_db_tools\', \'mysql-migrate-db.sh\')\n\nThis has been noted in the to-stein.rst document.\n\nA different package was chosen to not muddy the waters of what is\n""actually placement"".\n\nSimilarly, the \'data_files\' functionality provided by pbr was not used,\nbecause that requires the file be written to a location on the local\nfilesystem, relative to the install prefix. Dirtying the filesystem\noutside the python lib with this sort of thing is inappropriate.\n\nChange-Id: Ie326ce8a2a0692d20793bc18be606e034fa94a44\nStory: 2005535\nTask: 30671\n'}]",6,656717,c62ed6ccba4b09b454cc1992582a2955ea309aeb,20,8,3,11564,,,0,"Package db migration scripts in placement pypi dist

Having the db migration scripts within the openstack-placement pypi
distribution is desirable for deployment tools, such as
openstack-ansible. It provides a known good location for the script,
available with a pip install.

There are several ways to distribute files with a python package. The
method used here was chosen because it works both with tarballs and
wheels (the files are already in the tarball, as a result of the way pbr
works, but not in the wheel).

Here's what's done:

* The db migrate scripts are put in their own direcory,
  placement_db_tools, so that only they are packaged, not the other
  tools.
* To preserve how grenade interacts with these files as well as not
  disrupt the docs, symlinks from tools to placement_db_tools have been
  created.
* placement_db_tools is added to the list of packages included in the
  openstack-placement distro. This means that when 'pip install
  openstack-placement' happens, the python environment will then include
  placement and placement_db_tools directories.

The end result is that the true path to the script can be found with:

  pkg_resources.resource_filename('placement_db_tools', 'mysql-migrate-db.sh')

This has been noted in the to-stein.rst document.

A different package was chosen to not muddy the waters of what is
""actually placement"".

Similarly, the 'data_files' functionality provided by pbr was not used,
because that requires the file be written to a location on the local
filesystem, relative to the install prefix. Dirtying the filesystem
outside the python lib with this sort of thing is inappropriate.

Change-Id: Ie326ce8a2a0692d20793bc18be606e034fa94a44
Story: 2005535
Task: 30671
",git fetch https://review.opendev.org/openstack/placement refs/changes/17/656717/3 && git format-patch -1 --stdout FETCH_HEAD,"['placement_db_tools/mysql-migrate-db.sh', 'placement_db_tools/__init__.py', 'tools/postgresql-migrate-db.sh', 'setup.cfg', 'placement_db_tools/postgresql-migrate-db.sh', 'tools/mysql-migrate-db.sh', 'doc/source/upgrade/to-stein.rst']",7,76814664c129d921dc3311c716d42c985049cc07,story/2005535,".. note:: These migration scripts are also packaged with the `openstack-placement`_ package on PyPI. Their filenames may be discovered using ``pkg_resources`` to look in the ``placement_db_tools``:: pkg_resources.resource_filename('placement_db_tools', 'mysql-migrate-db.sh') ",,10,0
openstack%2Fwatcher~master~I00bc03be6a59edf117b66388305486d8f74f77ce,openstack/watcher,master,I00bc03be6a59edf117b66388305486d8f74f77ce,Put the method add_migration() in base.py,MERGED,2019-04-25 11:32:26.000000000,2019-05-07 06:00:55.000000000,2019-05-07 06:00:55.000000000,"[{'_account_id': 13111}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-04-25 11:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/9eb78dc0cead88ba05ec250f21337dcb50e846e0', 'message': 'Put the method add_migration() in base.py\n\nChange-Id: I00bc03be6a59edf117b66388305486d8f74f77ce\n'}, {'number': 2, 'created': '2019-04-28 07:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/456ba83d03d7f1c69ba504180b16362795764744', 'message': 'Put the method add_migration() in base.py\n\nChange-Id: I00bc03be6a59edf117b66388305486d8f74f77ce\n'}, {'number': 3, 'created': '2019-05-06 05:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/6b2e7fff82efdf536179b7ee21fe7d67b05c82af', 'message': 'Put the method add_migration() in base.py\n\nChange-Id: I00bc03be6a59edf117b66388305486d8f74f77ce\n'}, {'number': 4, 'created': '2019-05-06 05:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/eebc33f5430700f21b0e984275b4e175b5c0d406', 'message': 'Put the method add_migration() in base.py\n\nChange-Id: I00bc03be6a59edf117b66388305486d8f74f77ce\n'}, {'number': 5, 'created': '2019-05-06 06:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/b22f17fa0423840a9f3deb76b027bbfbb1714e91', 'message': 'Put the method add_migration() in base.py\n\nChange-Id: I00bc03be6a59edf117b66388305486d8f74f77ce\n'}, {'number': 6, 'created': '2019-05-06 06:29:51.000000000', 'files': ['watcher/decision_engine/strategy/strategies/basic_consolidation.py', 'watcher/decision_engine/strategy/strategies/base.py', 'watcher/decision_engine/strategy/strategies/workload_stabilization.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/4d480d5ccf5860ca692d3a6311ce296dc304096e', 'message': 'Put the method add_migration() in base.py\n\nChange-Id: I00bc03be6a59edf117b66388305486d8f74f77ce\n'}]",4,655675,4d480d5ccf5860ca692d3a6311ce296dc304096e,23,5,6,28748,,,0,"Put the method add_migration() in base.py

Change-Id: I00bc03be6a59edf117b66388305486d8f74f77ce
",git fetch https://review.opendev.org/openstack/watcher refs/changes/75/655675/5 && git format-patch -1 --stdout FETCH_HEAD,['watcher/decision_engine/strategy/strategies/base.py'],1,9eb78dc0cead88ba05ec250f21337dcb50e846e0,add_migration_method_in_base_strategy," def add_migration(self, instance, migration_type, source_node, destination_node): parameters = {'migration_type': migration_type, 'source_node': source_node.uuid, 'destination_node': destination_node.uuid} self.solution.add_action(action_type=self.MIGRATION, resource_id=instance.uuid, input_parameters=parameters) ",,12,0
openstack%2Fpython-watcherclient~master~Ic104274f445869ebc18090f9adc17b94261822db,openstack/python-watcherclient,master,Ic104274f445869ebc18090f9adc17b94261822db,Add tempest voting,MERGED,2019-04-30 08:20:42.000000000,2019-05-07 05:49:36.000000000,2019-05-07 05:49:36.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-04-30 08:20:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/c30f095481e05b633ecd332b3cc1fb960f014088', 'message': 'Add tempest voting\n\nChange-Id: Ic104274f445869ebc18090f9adc17b94261822db\n'}]",0,656461,c30f095481e05b633ecd332b3cc1fb960f014088,7,3,1,21692,,,0,"Add tempest voting

Change-Id: Ic104274f445869ebc18090f9adc17b94261822db
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/61/656461/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c30f095481e05b633ecd332b3cc1fb960f014088,tempest_voting, - watcherclient-tempest-functional, - watcherclient-tempest-functional: voting: false,1,2
openstack%2Fwatcher-specs~master~Iada900ac58f0cbfd5035a9cc371669dc998e8d80,openstack/watcher-specs,master,Iada900ac58f0cbfd5035a9cc371669dc998e8d80,Use pep8 replace py27,MERGED,2019-05-05 03:31:31.000000000,2019-05-07 05:42:32.000000000,2019-05-07 05:42:32.000000000,"[{'_account_id': 13111}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-05-05 03:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/e4e99065aeace2a66b0ec9f266fbbeb3bcabd087', 'message': 'Use pep8 replace py27\n\nChange-Id: Iada900ac58f0cbfd5035a9cc371669dc998e8d80\n'}, {'number': 2, 'created': '2019-05-05 05:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/cd5a40b83df5b9e67ff6991cedae6a2efaac0acd', 'message': 'Use pep8 replace py27\n\nDepends-on: I98d4c3e9924346b826e5267b0b7c6b73f86741aa\nChange-Id: Iada900ac58f0cbfd5035a9cc371669dc998e8d80\n'}, {'number': 3, 'created': '2019-05-06 07:16:07.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/3f2d3415e4a66344a72684bd4917b847af0d7ae1', 'message': 'Use pep8 replace py27\n\nDepends-on: I98d4c3e9924346b826e5267b0b7c6b73f86741aa\nChange-Id: Iada900ac58f0cbfd5035a9cc371669dc998e8d80\n'}]",2,657192,3f2d3415e4a66344a72684bd4917b847af0d7ae1,13,5,3,28748,,,0,"Use pep8 replace py27

Depends-on: I98d4c3e9924346b826e5267b0b7c6b73f86741aa
Change-Id: Iada900ac58f0cbfd5035a9cc371669dc998e8d80
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/92/657192/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,e4e99065aeace2a66b0ec9f266fbbeb3bcabd087,use_pep8_replace_py27,"minversion = 2.0 envlist = docs,pep8deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt find . -type f -name ""*.pyc"" -delete stestr run --slowest {posargs} flake8 {posargs}","# Hold back to 1.4, since that's what's in Fedora 20 repos # and we don't need anything newer for watcher-specs tests minversion = 1.4 envlist = docs,py27,pep8basepython = python3 deps = -r{toxinidir}/test-requirements.txt doc8 doc/source/ README.rst flake8 {posargs}",10,10
openstack%2Fzun~stable%2Fstein~I3c65cdef17d8279233bfbb74a38c9db79b01a2de,openstack/zun,stable/stein,I3c65cdef17d8279233bfbb74a38c9db79b01a2de,Skip image validation if failed,MERGED,2019-05-07 03:07:00.000000000,2019-05-07 05:27:08.000000000,2019-05-07 05:27:08.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-07 03:07:00.000000000', 'files': ['zun/compute/api.py', 'zun/tests/unit/compute/test_compute_api.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/244cb32fe4e6d7d608964fc944c23fec229fdc8b', 'message': 'Skip image validation if failed\n\nThis allows image validation to fail and continue lauching the\ncontainer. This is because image validation might depend on\nexternal image registry (i.e. DockerHub) which is not always stable.\n\nChange-Id: I3c65cdef17d8279233bfbb74a38c9db79b01a2de\nCloses-Bug: #1827968\n'}]",0,657516,244cb32fe4e6d7d608964fc944c23fec229fdc8b,6,2,1,11536,,,0,"Skip image validation if failed

This allows image validation to fail and continue lauching the
container. This is because image validation might depend on
external image registry (i.e. DockerHub) which is not always stable.

Change-Id: I3c65cdef17d8279233bfbb74a38c9db79b01a2de
Closes-Bug: #1827968
",git fetch https://review.opendev.org/openstack/zun refs/changes/16/657516/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/compute/api.py', 'zun/tests/unit/compute/test_compute_api.py']",2,244cb32fe4e6d7d608964fc944c23fec229fdc8b,bug/1827968," @mock.patch('zun.compute.rpcapi.API._cast') @mock.patch.object(objects.ContainerAction, 'action_start') mock_image_search, mock_start, mock_cast): self.compute_api.container_create( self.context, container, None, None, None, False) self.assertFalse(mock_save.called) self.assertEqual(consts.CREATING, container.status)"," mock_image_search): self.assertRaises(exception.ZunException, self.compute_api.container_create, self.context, container, None, None, None, False) self.assertTrue(mock_save.called) self.assertEqual(consts.ERROR, container.status)",10,11
openstack%2Fproject-config~master~Iafd16a44a6176ce7957bf7b5c31496c1317dcb68,openstack/project-config,master,Iafd16a44a6176ce7957bf7b5c31496c1317dcb68,openafs-client : update kdc servers,MERGED,2019-05-06 23:55:31.000000000,2019-05-07 05:14:01.000000000,2019-05-07 05:14:01.000000000,"[{'_account_id': 1}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 23:55:31.000000000', 'files': ['playbooks/openafs-client/setup.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/159f7cd985148344a7e54775cd9642e6f7311d63', 'message': 'openafs-client : update kdc servers\n\nThese are the new kdc servers deployed recently\n\nChange-Id: Iafd16a44a6176ce7957bf7b5c31496c1317dcb68\n'}]",0,657504,159f7cd985148344a7e54775cd9642e6f7311d63,7,3,1,7118,,,0,"openafs-client : update kdc servers

These are the new kdc servers deployed recently

Change-Id: Iafd16a44a6176ce7957bf7b5c31496c1317dcb68
",git fetch https://review.opendev.org/openstack/project-config refs/changes/04/657504/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/openafs-client/setup.yaml'],1,159f7cd985148344a7e54775cd9642e6f7311d63,kdc-servers, - kdc03.openstack.org - kdc04.openstack.org, - kdc01.openstack.org - kdc02.openstack.org,2,2
openstack%2Fdevstack-plugin-container~master~I7877ceda08bbdab807116a13d74ff884136dc501,openstack/devstack-plugin-container,master,I7877ceda08bbdab807116a13d74ff884136dc501,Support k8s installation,MERGED,2019-03-23 20:55:48.000000000,2019-05-07 04:27:00.000000000,2019-05-07 04:27:00.000000000,"[{'_account_id': 9003}, {'_account_id': 9820}, {'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 14119}, {'_account_id': 14352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-23 20:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/70186857285d93ea37affc552a4ce4f3acab7399', 'message': '[WIP] Support k8s installation\n\nChange-Id: I7877ceda08bbdab807116a13d74ff884136dc501\n'}, {'number': 2, 'created': '2019-03-24 00:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/e9074279feb7fa10eaffd63a95316ca6574bfa98', 'message': '[WIP] Support k8s installation\n\nChange-Id: I7877ceda08bbdab807116a13d74ff884136dc501\n'}, {'number': 3, 'created': '2019-03-24 17:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/5d7442f84ea3b396e4b58d6f25304d468d0b9526', 'message': '[WIP] Support k8s installation\n\nChange-Id: I7877ceda08bbdab807116a13d74ff884136dc501\n'}, {'number': 4, 'created': '2019-03-24 20:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/6975ad12d4c554dd9c886a7843980cdd4760cbaa', 'message': '[WIP] Support k8s installation\n\nChange-Id: I7877ceda08bbdab807116a13d74ff884136dc501\n'}, {'number': 5, 'created': '2019-03-24 22:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/6687a0b44f1cc98dd6e50b7d1d26d19875386502', 'message': '[WIP] Support k8s installation\n\nChange-Id: I7877ceda08bbdab807116a13d74ff884136dc501\n'}, {'number': 6, 'created': '2019-03-24 22:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/add7069802ed4b5d748354926471bca7e636828e', 'message': 'Support k8s installation\n\nChange-Id: I7877ceda08bbdab807116a13d74ff884136dc501\n'}, {'number': 7, 'created': '2019-03-24 23:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/08fcabbb8a5756824b378a9bc4b040228d7c4781', 'message': '[WIP] Support k8s installation\n\nChange-Id: I7877ceda08bbdab807116a13d74ff884136dc501\n'}, {'number': 8, 'created': '2019-03-25 02:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/b344de0ae6bda0f51c7895b714d58e85197b4585', 'message': 'Support k8s installation\n\nAdd support for installing kubernetes cluster via devstack.\nIt uses kubeadm to bootstrap the k8s cluster.\n\nChange-Id: I7877ceda08bbdab807116a13d74ff884136dc501\n'}, {'number': 9, 'created': '2019-04-06 14:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/c19a2832e9efb27438cea486aa37b3fd969fdaee', 'message': 'Support k8s installation\n\nAdd support for installing kubernetes cluster via devstack.\nIt uses kubeadm to bootstrap the k8s cluster.\n\nChange-Id: I7877ceda08bbdab807116a13d74ff884136dc501\n'}, {'number': 10, 'created': '2019-04-20 22:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/2330c5a5185f3d55d699c3c47fe0efa8894674f1', 'message': '[WIP] Support k8s installation\n\nAdd support for installing kubernetes cluster via devstack.\nIt uses kubeadm to bootstrap the k8s cluster.\n\nChange-Id: I7877ceda08bbdab807116a13d74ff884136dc501\n'}, {'number': 11, 'created': '2019-04-20 23:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/d3b135e9f24788bcede33e9fa4909491fc7f9def', 'message': '[WIP] Support k8s installation\n\nAdd support for installing kubernetes cluster via devstack.\nIt uses kubeadm to bootstrap the k8s cluster.\n\nChange-Id: I7877ceda08bbdab807116a13d74ff884136dc501\n'}, {'number': 12, 'created': '2019-04-21 21:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/5cfe4cc5f2efb2387051a8378b841eb9471e8883', 'message': '[WIP] Support k8s installation\n\nAdd support for installing kubernetes cluster via devstack.\nIt uses kubeadm to bootstrap the k8s cluster.\n\nChange-Id: I7877ceda08bbdab807116a13d74ff884136dc501\n'}, {'number': 13, 'created': '2019-04-21 22:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/4efb9b0cbcdf940af7208657c1386dc4f5baeee4', 'message': '[WIP] Support k8s installation\n\nAdd support for installing kubernetes cluster via devstack.\nIt uses kubeadm to bootstrap the k8s cluster.\n\nChange-Id: I7877ceda08bbdab807116a13d74ff884136dc501\n'}, {'number': 14, 'created': '2019-04-21 23:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/7abe1b8f16ad0f910559fcd0342f6bcd563fc3ea', 'message': '[WIP] Support k8s installation\n\nAdd support for installing kubernetes cluster via devstack.\nIt uses kubeadm to bootstrap the k8s cluster.\n\nChange-Id: I7877ceda08bbdab807116a13d74ff884136dc501\n'}, {'number': 15, 'created': '2019-04-22 04:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/003b9521692250d4ea1a36854f35a6d54e5dd6fb', 'message': '[WIP] Support k8s installation\n\nAdd support for installing kubernetes cluster via devstack.\nIt uses kubeadm to bootstrap the k8s cluster.\n\nChange-Id: I7877ceda08bbdab807116a13d74ff884136dc501\n'}, {'number': 16, 'created': '2019-04-22 05:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/b14f9e4650ee96a588317c01637ca2feea91542e', 'message': 'Support k8s installation\n\nAdd support for installing kubernetes cluster via devstack.\nIt uses kubeadm to bootstrap the k8s cluster.\n\nChange-Id: I7877ceda08bbdab807116a13d74ff884136dc501\n'}, {'number': 17, 'created': '2019-05-07 03:57:24.000000000', 'files': ['README.rst', 'devstack/plugin.sh', 'devstack/lib/k8s', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/80f8d7f2603f20460a578ce4cfd0eb36640c90ad', 'message': 'Support k8s installation\n\nAdd support for installing kubernetes cluster via devstack.\nIt uses kubeadm to bootstrap the k8s cluster.\n\nChange-Id: I7877ceda08bbdab807116a13d74ff884136dc501\n'}]",12,646018,80f8d7f2603f20460a578ce4cfd0eb36640c90ad,49,7,17,11536,,,0,"Support k8s installation

Add support for installing kubernetes cluster via devstack.
It uses kubeadm to bootstrap the k8s cluster.

Change-Id: I7877ceda08bbdab807116a13d74ff884136dc501
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/18/646018/15 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/lib/k8s', 'devstack/settings']",3,70186857285d93ea37affc552a4ce4f3acab7399,,enable_service k8s-master enable_service k8s-worker,,87,0
openstack%2Fpuppet-nova~master~I3660d45c857840989c3a1ee783d49c0d2ead55bb,openstack/puppet-nova,master,I3660d45c857840989c3a1ee783d49c0d2ead55bb,Using NIC numbering in SRIOV PCI passthrough,ABANDONED,2018-12-21 05:21:19.000000000,2019-05-07 03:56:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-21 05:21:19.000000000', 'files': ['manifests/compute/pci.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2e64fecd369673d5b9a5e994bde2d67698464b09', 'message': 'Using NIC numbering in SRIOV PCI passthrough\n\nThis change is to use NIC numbering alias name instead of actual\nNIC name in SRIOV NovaPCIPassthrough parameter.\n\nChange-Id: I3660d45c857840989c3a1ee783d49c0d2ead55bb\n'}]",0,626807,2e64fecd369673d5b9a5e994bde2d67698464b09,5,3,1,22865,,,0,"Using NIC numbering in SRIOV PCI passthrough

This change is to use NIC numbering alias name instead of actual
NIC name in SRIOV NovaPCIPassthrough parameter.

Change-Id: I3660d45c857840989c3a1ee783d49c0d2ead55bb
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/07/626807/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/compute/pci.pp'],1,2e64fecd369673d5b9a5e994bde2d67698464b09,sriov-nic-numbering," $picked_passthrough.each |Hash[String, String] $passthrough| { $nic_alias = $passthrough[""devname""] if $nic_alias[0, 3] == ""nic"" { $nic_name = $facts[""nic_alias""][$nic_alias] $passthrough[""devname""] = $nic_name } }} ",},8,1
openstack%2Fpuppet-neutron~master~Ibbc82d86dd38ccc4df46f257beb21f7f7e15cec7,openstack/puppet-neutron,master,Ibbc82d86dd38ccc4df46f257beb21f7f7e15cec7,Using NIC numbering in SRIOV parameters,ABANDONED,2018-12-21 07:43:29.000000000,2019-05-07 03:54:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-21 07:43:29.000000000', 'files': ['lib/puppet/provider/neutron_agent_sriov_numvfs/sriov_numvfs.rb', 'manifests/agents/ml2/sriov.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/86db8b611e537de678b96f5494b24d6f6d646204', 'message': 'Using NIC numbering in SRIOV parameters\n\nThis change is to use NIC numbering alias name instead of actual\nNIC name for SRIOV numvfs and physical device mappings parameters.\n\nChange-Id: Ibbc82d86dd38ccc4df46f257beb21f7f7e15cec7\n'}]",0,626844,86db8b611e537de678b96f5494b24d6f6d646204,5,3,1,22865,,,0,"Using NIC numbering in SRIOV parameters

This change is to use NIC numbering alias name instead of actual
NIC name for SRIOV numvfs and physical device mappings parameters.

Change-Id: Ibbc82d86dd38ccc4df46f257beb21f7f7e15cec7
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/44/626844/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/neutron_agent_sriov_numvfs/sriov_numvfs.rb', 'manifests/agents/ml2/sriov.pp']",2,86db8b611e537de678b96f5494b24d6f6d646204,sriov-nic-numbering," if $physical_device_mappings and !empty($physical_device_mappings) { $physical_device_mappings.each |String $phy_dev_map| { $net, $nic_alias = split($phy_dev_map, ':') if $nic_alias[0, 3] == ""nic"" { $nic_name = $facts[""nic_alias""][$nic_alias] $phy_dev_map = $net + "":"" + $nic_name } } ",,16,1
openstack%2Fopenstack-ansible-ops~master~I3dc29acf3ab06a30802915017cace259c0035b37,openstack/openstack-ansible-ops,master,I3dc29acf3ab06a30802915017cace259c0035b37,Add option to allow a deployer to manually set master nodes,ABANDONED,2018-07-20 18:12:13.000000000,2019-05-07 03:30:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-20 18:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/c1ac2646e16219ffd972933d976b1f738ff18087', 'message': 'Add option to allow a deployer to specific specific master\n\nA deployer can now specify specific nodes as masters by adding hosts to\nthe ""elastic-masters"" group.\n\nChange-Id: I3dc29acf3ab06a30802915017cace259c0035b37\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-09-20 08:49:55.000000000', 'files': ['elk_metrics_6x/common_task_data_node_hosts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/8bb3ad3aee0d889ae04db692ae7b005ccf32d43e', 'message': 'Add option to allow a deployer to manually set master nodes\n\nA deployer can now mark specific nodes as masters by adding hosts to\nthe ""elastic-masters"" group.\n\nChange-Id: I3dc29acf3ab06a30802915017cace259c0035b37\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,584462,8bb3ad3aee0d889ae04db692ae7b005ccf32d43e,5,1,2,7353,,,0,"Add option to allow a deployer to manually set master nodes

A deployer can now mark specific nodes as masters by adding hosts to
the ""elastic-masters"" group.

Change-Id: I3dc29acf3ab06a30802915017cace259c0035b37
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/62/584462/2 && git format-patch -1 --stdout FETCH_HEAD,['elk_metrics_6x/common_task_data_node_hosts.yml'],1,c1ac2646e16219ffd972933d976b1f738ff18087,," {% if (groups['elastic-masters'] | default([]) | length) > 0 %} {% set masters = groups['elastic-masters'] | default([]) | length %} {% set masters = 0 %} {% if (storage_node_count | int) < 3 %} {% set masters = 1 %} {% elif (storage_node_count | int) == 3 %} {% set masters = 3 %} {% else %} {% set masters = (storage_node_count | int ) // 2 %} {% if ((masters | int) % 2 == 0) %} {% set masters = (masters | int) + 1 %} {% endif %}- name: Check if there are enough master nodes fail: msg: >- the number of master nodes ""{{ master_node_count }}"" in too small. Review your inventory and try again. when: - (master_node_count | int) < 1 data_nodes: |- {% if (groups['elastic-masters'] | default([]) | length) > 0 %} {{ groups['elastic-logstash'] | difference(groups['elastic-masters']) }} {% else %} {{ groups['elastic-logstash'][:(master_node_count | int)] | union(groups['elastic-logstash'][(master_node_count | int)::2]) }} {% endif %} master_nodes: |- {% if (groups['elastic-masters'] | default([]) | length) > 0 %} {{ groups['elastic-masters'] | difference(groups['elastic-logstash']) }} {% else %} {{ groups['elastic-logstash'][:(master_node_count | int)] }} {% endif %} {% for host in (groups['elastic-masters'] | default([]) | union(groups['elastic-logstash']) | union(groups['kibana'])) %}- name: Check if master nodes is an odd number fail: msg: >- the number of master nodes {{ master_nodes }} in and that will cause a split brain problem in production. Review your inventory and try again. when: - (master_nodes | length) is even "," {% set masters = 0 %} {% if (storage_node_count | int) < 3 %} {% set masters = 1 %} {% elif (storage_node_count | int) == 3 %} {% set masters = 3 %} {% set masters = (storage_node_count | int ) // 2 %} {% if ((masters | int) % 2 == 0) %} {% set masters = (masters | int) + 1 %} data_nodes: ""{{ (groups['elastic-logstash'][:master_node_count | int] + groups['elastic-logstash'][master_node_count | int::2]) }}"" master_nodes: ""{{ groups['elastic-logstash'][:master_node_count | int] }}"" {% for host in (groups['elastic-logstash'] | union(groups['kibana'])) %}",41,11
openstack%2Fopenstack-ansible-ops~master~I76cab678c9c164455dc8bd03e6158655fc4d103e,openstack/openstack-ansible-ops,master,I76cab678c9c164455dc8bd03e6158655fc4d103e,Move the kibana index creation to the index playbook,ABANDONED,2018-10-13 19:11:01.000000000,2019-05-07 03:30:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-13 19:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/34189a056ae33865757d5d8d33842279179376bd', 'message': 'Move the kibana index creation to the index playbook\n\nThe kibana index process was being run after kibana installation however\nthat creates an inconsistent experience as a user would expect these\nindexes to be created during our general purpose index playbook. This\nchange moves the index creation tasks that were in the kibana playbook\nto address the UX issue.\n\nChange-Id: I76cab678c9c164455dc8bd03e6158655fc4d103e\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-10-13 19:12:11.000000000', 'files': ['elk_metrics_6x/installKibana.yml', 'elk_metrics_6x/createElasticIndexes.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/08c0bbcf1ca72629dc66d9833b18b3bf3f212c8c', 'message': 'Move the kibana index creation to the index playbook\n\nThe kibana index process was being run after kibana installation however\nthat creates an inconsistent experience as a user would expect these\nindexes to be created during our general purpose index playbook. This\nchange moves the index creation tasks that were in the kibana playbook\nto address the UX issue.\n\nAnother UX issue is that users expect the default index to be filebeat\n(formerly logstash) the default index is now being set to ""filebeat-*""\nwhich will ensure an expected experience.\n\nChange-Id: I76cab678c9c164455dc8bd03e6158655fc4d103e\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,610281,08c0bbcf1ca72629dc66d9833b18b3bf3f212c8c,4,1,2,7353,,,0,"Move the kibana index creation to the index playbook

The kibana index process was being run after kibana installation however
that creates an inconsistent experience as a user would expect these
indexes to be created during our general purpose index playbook. This
change moves the index creation tasks that were in the kibana playbook
to address the UX issue.

Another UX issue is that users expect the default index to be filebeat
(formerly logstash) the default index is now being set to ""filebeat-*""
which will ensure an expected experience.

Change-Id: I76cab678c9c164455dc8bd03e6158655fc4d103e
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/81/610281/2 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_6x/installKibana.yml', 'elk_metrics_6x/createElasticIndexes.yml']",2,34189a056ae33865757d5d8d33842279179376bd,," - name: Install Kibana hosts: kibana[0] become: true vars_files: - vars/variables.yml environment: ""{{ deployment_environment_variables | default({}) }}"" tasks: - name: Create basic indexes uri: url: ""http://127.0.0.1:5601/api/saved_objects/index-pattern/{{ item.name }}"" method: POST body: ""{{ item.index_options | to_json }}"" status_code: 200,409 body_format: json headers: Content-Type: ""application/json"" kbn-xsrf: ""{{ inventory_hostname | to_uuid }}"" with_items: - name: ""journalbeat-*"" index_options: attributes: title: ""journalbeat-*"" timeFieldName: ""@timestamp"" register: kibana_indexes until: kibana_indexes is success retries: 6 delay: 10 run_once: true - name: Create basic indexes uri: url: ""http://127.0.0.1:5601/api/kibana/settings/defaultIndex"" method: POST body: ""{{ item.index_options | to_json }}"" status_code: 200 body_format: json headers: Content-Type: ""application/json"" kbn-xsrf: ""{{ inventory_hostname | to_uuid }}"" with_items: - name: ""filebeat-*"" index_options: value: ""filebeat-*"" register: kibana_indexes until: kibana_indexes is success retries: 6 delay: 10 run_once: true",,52,48
openstack%2Fopenstack-ansible~master~I538abb34c9f7de0dfd2425e4023b54f77804f6ca,openstack/openstack-ansible,master,I538abb34c9f7de0dfd2425e4023b54f77804f6ca,Add force update option for apt,ABANDONED,2018-06-21 22:27:23.000000000,2019-05-07 03:29:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-06-21 22:27:23.000000000', 'files': ['playbooks/containers-nspawn-create.yml', 'playbooks/common-tasks/package-cache-proxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b05c723ea3372d4699e7dbb51a15f0fa1b3b708e', 'message': 'Add force update option for apt\n\nThe nspawn container create process does not create any package cache at\nthe completion of the create process which results in a broken cache. To\ncorrec the issue an apt_force_update option has been added to ensure\nnspawn containers always have an updated cache when the playbooks are\nrunning the nspawn-container-create playbook.\n\nChange-Id: I538abb34c9f7de0dfd2425e4023b54f77804f6ca\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,577311,b05c723ea3372d4699e7dbb51a15f0fa1b3b708e,4,2,1,7353,,,0,"Add force update option for apt

The nspawn container create process does not create any package cache at
the completion of the create process which results in a broken cache. To
correc the issue an apt_force_update option has been added to ensure
nspawn containers always have an updated cache when the playbooks are
running the nspawn-container-create playbook.

Change-Id: I538abb34c9f7de0dfd2425e4023b54f77804f6ca
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/11/577311/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/containers-nspawn-create.yml', 'playbooks/common-tasks/package-cache-proxy.yml']",2,b05c723ea3372d4699e7dbb51a15f0fa1b3b708e,, (_apt_proxy_removed is mapping and _apt_proxy_removed | changed) or (apt_force_update is defined and is apt_force_update | bool), (_apt_proxy_removed is mapping and _apt_proxy_removed | changed),4,1
openstack%2Fopenstack-ansible-nspawn_container_create~master~I8e0ce74d988657a256059c9d81dca063139ffaee,openstack/openstack-ansible-nspawn_container_create,master,I8e0ce74d988657a256059c9d81dca063139ffaee,Move tasks and block them to better handle creates,ABANDONED,2018-07-04 05:19:15.000000000,2019-05-07 03:29:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-04 05:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/c2a4b1e3068e9e6373f881fa2574a6c7d23cbeaf', 'message': 'Move tasks and block them to better handle creates\n\nThe container create tasks were running all runs. this change blocks the\ntasks and adds a conditional to the block which ensures that effort is\nnot wasted on a role rerun.\n\nThe container create process needs to gather the machine-id and set it\nin the config to ensure that the journals are logged on the host and not\njust running within the container, which can result in a full fs. This\nchange adds the machine-id slurp task so that the value can be used in\nconfig which will ensure the mount is handled correctly.\n\nChange-Id: I8e0ce74d988657a256059c9d81dca063139ffaee\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-07-04 05:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/67e6b131f0ca95e9e4c4fca7a5ac417e9ab03c01', 'message': 'Move tasks and block them to better handle creates\n\nThe container create tasks were running all runs. this change blocks the\ntasks and adds a conditional to the block which ensures that effort is\nnot wasted on a role rerun.\n\nThe container create process needs to gather the machine-id and set it\nin the config to ensure that the journals are logged on the host and not\njust running within the container, which can result in a full fs. This\nchange adds the machine-id slurp task so that the value can be used in\nconfig which will ensure the mount is handled correctly.\n\nThe environment variable used in a ""read only"" bind mount was removed\nbecause it did far more harm than good, epecially if/when it\'s needed to\nmodity a specific environment within a container.\n\nChange-Id: I8e0ce74d988657a256059c9d81dca063139ffaee\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-07-10 14:22:12.000000000', 'files': ['tasks/main.yml', 'vars/ubuntu-18.04.yml', 'templates/container_config.nspawn.j2', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml', 'templates/container_config_old.nspawn.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/4c6e30ed054fdbecfde6d7e01c5ca0e8ba8b5281', 'message': 'Move tasks and block them to better handle creates\n\nThe container create tasks were running all runs. this change blocks the\ntasks and adds a conditional to the block which ensures that effort is\nnot wasted on a role rerun.\n\nThe container create process needs to gather the machine-id and set it\nin the config to ensure that the journals are logged on the host and not\njust running within the container, which can result in a full fs. This\nchange adds the machine-id slurp task so that the value can be used in\nconfig which will ensure the mount is handled correctly.\n\nThe environment variable used in a ""read only"" bind mount was removed\nbecause it did far more harm than good, epecially if/when it\'s needed to\nmodity a specific environment within a container.\n\nChange-Id: I8e0ce74d988657a256059c9d81dca063139ffaee\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,580036,4c6e30ed054fdbecfde6d7e01c5ca0e8ba8b5281,6,1,3,7353,,,0,"Move tasks and block them to better handle creates

The container create tasks were running all runs. this change blocks the
tasks and adds a conditional to the block which ensures that effort is
not wasted on a role rerun.

The container create process needs to gather the machine-id and set it
in the config to ensure that the journals are logged on the host and not
just running within the container, which can result in a full fs. This
change adds the machine-id slurp task so that the value can be used in
config which will ensure the mount is handled correctly.

The environment variable used in a ""read only"" bind mount was removed
because it did far more harm than good, epecially if/when it's needed to
modity a specific environment within a container.

Change-Id: I8e0ce74d988657a256059c9d81dca063139ffaee
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/36/580036/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/container_config.nspawn.j2', 'templates/container_config_old.nspawn.j2']",3,c2a4b1e3068e9e6373f881fa2574a6c7d23cbeaf,,{% set _ = cli_switches.append('--bind=/var/log/journal/' + container_machine_id + ':/var/log/journal/' + container_machine_id) %}After=network-online.target After=systemd-networkd.service After=nspawn-macvlan.service Wants=network-online.targetTasksMax=16384WantedBy=machines.target,TasksMax=8192WantedBy=multi-user.target,67,36
openstack%2Fopenstack-ansible-galera_server~master~Ie1e505e64ffb231c3475f88588105804d0022bdb,openstack/openstack-ansible-galera_server,master,Ie1e505e64ffb231c3475f88588105804d0022bdb,Convert self-signed SSL to use the openssl modules,ABANDONED,2018-05-04 21:36:04.000000000,2019-05-07 03:28:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-04 21:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/bb4fc40e395800cc6292f6c1ebcf505cd186c778', 'message': 'Convert self-signed SSL to use the openssl modules\n\nThe current process uses command tasks to generate self-signed\ncertificates. This removes our useage of command tasks in favor\nof using the ansible modules.\n\nChange-Id: Ie1e505e64ffb231c3475f88588105804d0022bdb\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-05-05 06:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/aa2af9f14820e20b4ce501e95afa7f856ab76b14', 'message': 'Convert self-signed SSL to use the openssl modules\n\nThe current process uses command tasks to generate self-signed\ncertificates. This removes our useage of command tasks in favor\nof using the ansible modules. As part of the old key\ndistribution process we used to store the entire key in memory\nfor the duration of the runtime. While this process worked very\nwell, it has the potential to consume a lot of memory. The new\ntasks will now syncronize the generated certificates using a pull\nand push model instead of store the key in facts.\n\nIn order to use the new certificate modules the python-openssl\nlibrary has been added as a dependency.\n\nChange-Id: Ie1e505e64ffb231c3475f88588105804d0022bdb\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-05-05 07:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/d9c3c89303a0688ad37243daa8db359b25d23c0d', 'message': 'Convert self-signed SSL to use the openssl modules\n\nThe current process uses command tasks to generate self-signed\ncertificates. This removes our useage of command tasks in favor\nof using the ansible modules. As part of the old key\ndistribution process we used to store the entire key in memory\nfor the duration of the runtime. While this process worked very\nwell, it has the potential to consume a lot of memory. The new\ntasks will now syncronize the generated certificates using a pull\nand push model instead of store the key in facts.\n\nIn order to use the new certificate modules the python-openssl\nlibrary has been added as a dependency.\n\nChange-Id: Ie1e505e64ffb231c3475f88588105804d0022bdb\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-05-05 17:47:50.000000000', 'files': ['tasks/galera_cluster_state.yml', 'tasks/galera_ssl_self_signed.yml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'tasks/galera_post_install.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/30de76e1572d67584d17b1f5f20b5897313094de', 'message': 'Convert self-signed SSL to use the openssl modules\n\nThe current process uses command tasks to generate self-signed\ncertificates. This removes our useage of command tasks in favor\nof using the ansible modules. As part of the old key\ndistribution process we used to store the entire key in memory\nfor the duration of the runtime. While this process worked very\nwell, it has the potential to consume a lot of memory. The new\ntasks will now syncronize the generated certificates using a pull\nand push model instead of store the key in facts.\n\nIn order to use the new certificate modules the python-openssl\nlibrary has been added as a dependency.\n\nChange-Id: Ie1e505e64ffb231c3475f88588105804d0022bdb\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,566408,30de76e1572d67584d17b1f5f20b5897313094de,9,1,4,7353,,,0,"Convert self-signed SSL to use the openssl modules

The current process uses command tasks to generate self-signed
certificates. This removes our useage of command tasks in favor
of using the ansible modules. As part of the old key
distribution process we used to store the entire key in memory
for the duration of the runtime. While this process worked very
well, it has the potential to consume a lot of memory. The new
tasks will now syncronize the generated certificates using a pull
and push model instead of store the key in facts.

In order to use the new certificate modules the python-openssl
library has been added as a dependency.

Change-Id: Ie1e505e64ffb231c3475f88588105804d0022bdb
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/08/566408/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/galera_ssl_self_signed.yml', 'templates/my.cnf.j2', 'defaults/main.yml']",3,bb4fc40e395800cc6292f6c1ebcf505cd186c778,ansible_ssl_modules,galera_ssl_csr: /etc/mysql/ssl/galera.csrgalera_ssl_ca_csr: /etc/ssl/certs/galera-ca.csr galera_ssl_ca_key: /etc/ssl/certs/galera-ca.key,"galera_ssl_self_signed_subject: ""/C=US/ST=Texas/L=San Antonio/O=IT/CN={{ galera_address }}"" galera_ssl_ca_self_signed_subject: ""/C=US/ST=Texas/L=San Antonio/O=IT"" # This option is used for creating the CA and overriding the Galera address on the clients side. # Should be set to either public VIP of VIP FQDN, depending on what is currently used in the env. galera_address: ""{{ ansible_host }}""",47,95
openstack%2Fopenstack-ansible-rabbitmq_server~master~I039624d4a10aac3784fa8e4cb820066b6d6dd680,openstack/openstack-ansible-rabbitmq_server,master,I039624d4a10aac3784fa8e4cb820066b6d6dd680,Convert self-signed SSL to use the openssl modules,ABANDONED,2018-05-04 19:26:55.000000000,2019-05-07 03:28:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-04 19:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/74e4cb3936081fef3e88cb0174c2b4e1a709614c', 'message': 'Convert self-signed SSL to use the openssl modules\n\nThe current process uses command tasks to generate self-signed\ncertificates. This removes our useage of command tasks in favor\nof using the ansible modules.\n\nChange-Id: I039624d4a10aac3784fa8e4cb820066b6d6dd680\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-05-04 19:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/9792cda2c088bdaa46ed612dc4899134bc39069b', 'message': 'Convert self-signed SSL to use the openssl modules\n\nThe current process uses command tasks to generate self-signed\ncertificates. This removes our useage of command tasks in favor\nof using the ansible modules.\n\nChange-Id: I039624d4a10aac3784fa8e4cb820066b6d6dd680\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-05-04 19:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/3c6df6153ab94415d30994833c3e9b3f9f4d1711', 'message': 'Convert self-signed SSL to use the openssl modules\n\nThe current process uses command tasks to generate self-signed\ncertificates. This removes our useage of command tasks in favor\nof using the ansible modules.\n\nChange-Id: I039624d4a10aac3784fa8e4cb820066b6d6dd680\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-05-04 20:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/77bd0e901790cd048ad1422d612d701009c645c7', 'message': 'Convert self-signed SSL to use the openssl modules\n\nThe current process uses command tasks to generate self-signed\ncertificates. This removes our useage of command tasks in favor\nof using the ansible modules.\n\nChange-Id: I039624d4a10aac3784fa8e4cb820066b6d6dd680\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2018-05-04 21:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/399d7a9f083889e2b14c83d260391efaa98691eb', 'message': 'Convert self-signed SSL to use the openssl modules\n\nThe current process uses command tasks to generate self-signed\ncertificates. This removes our useage of command tasks in favor\nof using the ansible modules.\n\nChange-Id: I039624d4a10aac3784fa8e4cb820066b6d6dd680\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2018-05-04 22:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/c39cc4bba43885211e070d6f93b8950ad939f18f', 'message': 'Convert self-signed SSL to use the openssl modules\n\nThe current process uses command tasks to generate self-signed\ncertificates. This removes our useage of command tasks in favor\nof using the ansible modules.\n\nChange-Id: I039624d4a10aac3784fa8e4cb820066b6d6dd680\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 7, 'created': '2018-05-05 01:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/c823a5d4094fdad6dade47cc0de4f7f4c98c65ed', 'message': 'Convert self-signed SSL to use the openssl modules\n\nThe current process uses command tasks to generate self-signed\ncertificates. This removes our useage of command tasks in favor\nof using the ansible modules.\n\nChange-Id: I039624d4a10aac3784fa8e4cb820066b6d6dd680\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 8, 'created': '2018-05-05 02:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/1d885986cd25557c2c36a9b004effa24712621d7', 'message': 'Convert self-signed SSL to use the openssl modules\n\nThe current process uses command tasks to generate self-signed\ncertificates. This removes our useage of command tasks in favor\nof using the ansible modules.\n\nChange-Id: I039624d4a10aac3784fa8e4cb820066b6d6dd680\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 9, 'created': '2018-05-05 04:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/7489c43d352d6fadbb5df49a79ff0ad13f1b804e', 'message': 'Convert self-signed SSL to use the openssl modules\n\nThe current process uses command tasks to generate self-signed\ncertificates. This removes our useage of command tasks in favor\nof using the ansible modules.\n\nChange-Id: I039624d4a10aac3784fa8e4cb820066b6d6dd680\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 10, 'created': '2018-05-05 06:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/e6aa23d7dab7c0c5edf80ae02380e339f589fb06', 'message': 'Convert self-signed SSL to use the openssl modules\n\nThe current process uses command tasks to generate self-signed\ncertificates. This removes our useage of command tasks in favor\nof using the ansible modules. This also removes some of the extra\ntasks we had which are no longer required. As part of the old key\ndistribution process we used to store the entire key in memory\nfor the duration of the runtime. While this process worked very\nwell, it has the potential to consume a lot of memory. The new\ntasks will now syncronize the generated certificates using a pull\nand push model instead of store the key in facts.\n\nIn order to use the new certificate modules the python-openssl\nlibrary has been added as a dependency.\n\nChange-Id: I039624d4a10aac3784fa8e4cb820066b6d6dd680\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 11, 'created': '2018-05-05 06:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/86392e5aef0a340af23acc2ef67dd88126809708', 'message': 'Convert self-signed SSL to use the openssl modules\n\nThe current process uses command tasks to generate self-signed\ncertificates. This removes our useage of command tasks in favor\nof using the ansible modules. This also removes some of the extra\ntasks we had which are no longer required. As part of the old key\ndistribution process we used to store the entire key in memory\nfor the duration of the runtime. While this process worked very\nwell, it has the potential to consume a lot of memory. The new\ntasks will now syncronize the generated certificates using a pull\nand push model instead of store the key in facts.\n\nIn order to use the new certificate modules the python-openssl\nlibrary has been added as a dependency.\n\nChange-Id: I039624d4a10aac3784fa8e4cb820066b6d6dd680\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 12, 'created': '2018-05-05 07:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/13c5cceb0a64b35cf89ecd39e1fe96ce0eafcc81', 'message': 'Convert self-signed SSL to use the openssl modules\n\nThe current process uses command tasks to generate self-signed\ncertificates. This removes our useage of command tasks in favor\nof using the ansible modules. This also removes some of the extra\ntasks we had which are no longer required. As part of the old key\ndistribution process we used to store the entire key in memory\nfor the duration of the runtime. While this process worked very\nwell, it has the potential to consume a lot of memory. The new\ntasks will now syncronize the generated certificates using a pull\nand push model instead of store the key in facts.\n\nIn order to use the new certificate modules the python-openssl\nlibrary has been added as a dependency.\n\nChange-Id: I039624d4a10aac3784fa8e4cb820066b6d6dd680\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 13, 'created': '2018-05-05 17:48:52.000000000', 'files': ['tasks/main.yml', 'tasks/rabbitmq_ssl_key_distribute.yml', 'tasks/rabbitmq_install.yml', 'tasks/rabbitmq_post_install.yml', 'tasks/rabbitmq_ssl_user_provided.yml', 'tasks/rabbitmq_ssl_key_store.yml', 'vars/debian.yml', 'tasks/rabbitmq_cluster_join.yml', 'tasks/install_apt.yml', 'defaults/main.yml', 'tasks/rabbitmq_pre_install.yml', 'tasks/rabbitmq_ssl_self_signed.yml', 'vars/redhat.yml', 'tasks/rabbitmq_ssl_key_create.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/35d60bf5e6f444eb575347268256b4906fc9d5aa', 'message': 'Convert self-signed SSL to use the openssl modules\n\nThe current process uses command tasks to generate self-signed\ncertificates. This removes our useage of command tasks in favor\nof using the ansible modules. This also removes some of the extra\ntasks we had which are no longer required. As part of the old key\ndistribution process we used to store the entire key in memory\nfor the duration of the runtime. While this process worked very\nwell, it has the potential to consume a lot of memory. The new\ntasks will now syncronize the generated certificates using a pull\nand push model instead of store the key in facts.\n\nIn order to use the new certificate modules the python-openssl\nlibrary has been added as a dependency.\n\nChange-Id: I039624d4a10aac3784fa8e4cb820066b6d6dd680\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,566391,35d60bf5e6f444eb575347268256b4906fc9d5aa,26,1,13,7353,,,0,"Convert self-signed SSL to use the openssl modules

The current process uses command tasks to generate self-signed
certificates. This removes our useage of command tasks in favor
of using the ansible modules. This also removes some of the extra
tasks we had which are no longer required. As part of the old key
distribution process we used to store the entire key in memory
for the duration of the runtime. While this process worked very
well, it has the potential to consume a lot of memory. The new
tasks will now syncronize the generated certificates using a pull
and push model instead of store the key in facts.

In order to use the new certificate modules the python-openssl
library has been added as a dependency.

Change-Id: I039624d4a10aac3784fa8e4cb820066b6d6dd680
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/91/566391/7 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/rabbitmq_ssl_key_create.yml', 'defaults/main.yml']",2,74e4cb3936081fef3e88cb0174c2b4e1a709614c,heads/gerrit/master,rabbitmq_ssl_csr: /etc/rabbitmq/rabbitmq.key,"rabbitmq_ssl_self_signed_subject: ""/C=US/ST=Texas/L=San Antonio/O=IT/CN={{ ansible_hostname }}""",24,22
openstack%2Fopenstack-ansible-plugins~master~Ic2cecf9531613769c2cb4142cf7e99516a82c1ff,openstack/openstack-ansible-plugins,master,Ic2cecf9531613769c2cb4142cf7e99516a82c1ff,"Allow remote user to ""become"" when managing containers",ABANDONED,2018-03-30 07:19:15.000000000,2019-05-07 03:27:47.000000000,,"[{'_account_id': 2463}, {'_account_id': 4162}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 14805}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 07:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/f5d05e6498f70eb50fa667cafbe7a50fbcfb914d', 'message': 'Allow remote user to ""become"" when managing containers\n\nPresently the connection plugin role assumes that the remote user is\nroot however it\'s entirely possible that the executing user is not root\nand has to escalate privledges to manage container infrastructure and\nrun commands within the container as yet another user. This change\nallows the remote user to use the Ansible become capabilities while also\nallowing the container user to be set to something else entirely.\n\nThe connection plugin assumes that the container user is\n\nChange-Id: Ic2cecf9531613769c2cb4142cf7e99516a82c1ff\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-03-30 07:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/554a9d838c5936abab815d1b0390eb9de0b53195', 'message': 'Allow remote user to ""become"" when managing containers\n\nPresently the connection plugin assumes the remote user is root however\nit\'s entirely possible that the executing user is not root and that the\nuser running the playbooks has to escalate privileges to manage container\ninfrastructures. This change allows the remote user to ""become"" another\nuser while also allowing the container execution user to be set to\nsomething else entirely which ensures we\'re able to use all of the built\nin functionality that Ansible provides to escalate privileges.\n\nSeveral new debug statements have been added which provide more insight\non how the plugin is running when debug is enabled.\n\nChange-Id: Ic2cecf9531613769c2cb4142cf7e99516a82c1ff\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-03-30 14:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/9fcc46245fd483099397fecf791cb14fd3303766', 'message': 'Allow remote user to ""become"" when managing containers\n\nPresently the connection plugin assumes the remote user is root however\nit\'s entirely possible that the executing user is not root and that the\nuser running the playbooks has to escalate privileges to manage container\ninfrastructures. This change allows the remote user to ""become"" another\nuser while also allowing the container execution user to be set to\nsomething else entirely which ensures we\'re able to use all of the built\nin functionality that Ansible provides to escalate privileges.\n\nSeveral new debug statements have been added which provide more insight\non how the plugin is running when debug is enabled.\n\nChange-Id: Ic2cecf9531613769c2cb4142cf7e99516a82c1ff\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-03-30 16:05:02.000000000', 'files': ['connection/ssh.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/d7c55880b05c4cd593f32f5fc3213856ef11d2e2', 'message': 'Allow remote user to ""become"" when managing containers\n\nPresently the connection plugin assumes the remote user is root however\nit\'s entirely possible that the executing user is not root and that the\nuser running the playbooks has to escalate privileges to manage container\ninfrastructures. This change allows the remote user to ""become"" another\nuser while also allowing the container execution user to be set to\nsomething else entirely which ensures we\'re able to use all of the built\nin functionality that Ansible provides to escalate privileges.\n\nSeveral new debug statements have been added which provide more insight\non how the plugin is running when debug is enabled.\n\nChange-Id: Ic2cecf9531613769c2cb4142cf7e99516a82c1ff\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",4,557901,d7c55880b05c4cd593f32f5fc3213856ef11d2e2,28,9,4,7353,,,0,"Allow remote user to ""become"" when managing containers

Presently the connection plugin assumes the remote user is root however
it's entirely possible that the executing user is not root and that the
user running the playbooks has to escalate privileges to manage container
infrastructures. This change allows the remote user to ""become"" another
user while also allowing the container execution user to be set to
something else entirely which ensures we're able to use all of the built
in functionality that Ansible provides to escalate privileges.

Several new debug statements have been added which provide more insight
on how the plugin is running when debug is enabled.

Change-Id: Ic2cecf9531613769c2cb4142cf7e99516a82c1ff
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/01/557901/1 && git format-patch -1 --stdout FETCH_HEAD,['connection/ssh.py'],1,f5d05e6498f70eb50fa667cafbe7a50fbcfb914d,," self.container_become = False self.container_su = False for i in ['container_name', 'container_tech', 'container_user', 'container_namespaces', 'chroot_path', 'physical_host',]: try: option = self.get_option(i) except Exception as exp: SSH.display.vvv( u'[Notice] failed to get config option ""{}"": ""{}""'.format( i, str(exp) ) ) else: setattr(self, i, option) if self.container_become: _pad = 'sudo -H -S -n -u {} {}'.format( self._play_context.become_user, _pad ) elif self._chroot_check() and sudoable: SSH.display.vvv(u'Container user ""{}""'.format( self.container_user) ) SSH.display.vvv( u'Container namspaces Set {}'.format( self.container_namespaces ) ) self.container_su = ( self.container_user != self._play_context.remote_user ) if self._play_context.become: self.container_become = True if self._container_check(): if self.container_su: # NOTE(cloudnull): The only functional transfer method, when # using containers, and becoming a different user, is piped. # While we could allow this to remain using the ""smart"" method, # it will simply fail using ""sftp"", and ""scp"" to eventually use # ""piped"". This parameter is being changed to simply cuts out # the retries and uses the known functional method. The original # transfer method will be restored at the end of this action. _transfer_method = self._play_context.ssh_transfer_method self._play_context.ssh_transfer_method = 'piped' super(Connection, self).put_file(in_path, out_path) _out_path = self._container_path_pad(path=out_path) self.exec_command('mv {} {}'.format(out_path, _out_path)) # NOTE(pabelanger): Because we put_file as remote_user, it is possible # that user doesn't exist inside the container, so use the root user to # chown the file to container_user. _user = self.container_user try: self.container_user = 'root' self.exec_command('chown %s %s' % (_user, _out_path)) finally: self.container_user = _user self._play_context.ssh_transfer_method = _transfer_method else: super(Connection, self).put_file( in_path, self._container_path_pad(path=out_path) ) else: super(Connection, self).put_file(in_path, out_path) "," self.chroot_path = self.get_option('chroot_path') self.container_name = self.get_option('container_name') self.physical_host = self.get_option('physical_host') self.container_tech = self.get_option('container_tech') elif self._chroot_check(): _out_path = out_path if self._container_check(): _out_path = self._container_path_pad(path=_out_path) res = super(Connection, self).put_file(in_path, _out_path) # NOTE(pabelanger): Because we put_file as remote_user, it is possible # that user doesn't exist inside the container, so use the root user to # chown the file to container_user. if self.container_user != self._play_context.remote_user: _user = self.container_user self.container_user = 'root' self.exec_command('chown %s %s' % (_user, out_path)) self.container_user = _user",67,16
openstack%2Fopenstack-ansible-ops~master~I8f04bbda500459222e727c3de9d1cf277ad4a617,openstack/openstack-ansible-ops,master,I8f04bbda500459222e727c3de9d1cf277ad4a617,Add a playbook to set local facts on newton redeploy,ABANDONED,2018-05-04 16:20:59.000000000,2019-05-07 03:27:25.000000000,,"[{'_account_id': 7414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-04 16:20:59.000000000', 'files': ['leap-upgrades/re-deploy.sh', 'leap-upgrades/upgrade-utilities-newton/playbooks/set-local-facts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/272a6431461e8ad5f4cd5dd216207ab5e6291cbd', 'message': 'Add a playbook to set local facts on newton redeploy\n\nThe newton redeployment process, while fairly straight forward, cna have\nissues due to transient problems or DB states. This change sets all of\nthe known local facts for a newton deployment within the new target\ncontainers during the redeployment process. This will ensure that all\nlocal facts are set prior to running the redeployment which will also\neffectively finish the upgrade for the cloud.\n\nChange-Id: I8f04bbda500459222e727c3de9d1cf277ad4a617\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,566360,272a6431461e8ad5f4cd5dd216207ab5e6291cbd,3,2,1,7353,,,0,"Add a playbook to set local facts on newton redeploy

The newton redeployment process, while fairly straight forward, cna have
issues due to transient problems or DB states. This change sets all of
the known local facts for a newton deployment within the new target
containers during the redeployment process. This will ensure that all
local facts are set prior to running the redeployment which will also
effectively finish the upgrade for the cloud.

Change-Id: I8f04bbda500459222e727c3de9d1cf277ad4a617
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/60/566360/1 && git format-patch -1 --stdout FETCH_HEAD,"['leap-upgrades/re-deploy.sh', 'leap-upgrades/upgrade-utilities-newton/playbooks/set-local-facts.yml']",2,272a6431461e8ad5f4cd5dd216207ab5e6291cbd,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Ensure local facts can be used hosts: all user: root gather_facts: false tasks: - name: Allow the usage of local facts file: path: /etc/ansible/facts.d/ state: directory tags: - openstack_hosts-install - name: Ensure local facts are initialized for upgrade hosts: magnum_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: magnum option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: aodh_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: aodh option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: barbican_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: barbican option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: swift_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: swift option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: octavia_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: octavia option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: trove_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: trove option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: cinder_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: cinder option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: need_db_sync value: true - option: need_online_data_migrations value: true - option: need_service_restart value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: molteniron_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: molteniron option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: ironic_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: ironic option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: glance_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: glance option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: need_db_sync value: true - option: need_service_restart value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: galera_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: galera option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: deployed value: false - name: Ensure local facts are initialized for upgrade hosts: glance_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: glance option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: need_db_expand value: true - option: need_db_contract value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: sahara_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: sahara option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: ceilometer_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: ceilometer option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: ceilometer_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: ceilometer option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: need_db_expand value: true - option: need_db_migrate value: true - option: need_db_contract value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: heat_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: heat option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: horizon_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: horizon option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: tacker_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: tacker option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: rally_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: rally option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: designate_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: designate option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: nova_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: nova option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: need_service_restart value: true - option: need_online_data_migrations value: true - option: venv_tag value: ""undefined"" - name: Ensure local facts are initialized for upgrade hosts: gnocchi_all user: root gather_facts: false tasks: - name: Set local facts ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: gnocchi option: ""{{ item.value }}"" value: ""{{ item.option }}"" with_items: - option: initialized value: true - option: venv_tag value: ""undefined"" ",,428,0
openstack%2Fopenstack-ansible~master~Ibc971d152f8fd985c0eac82edfd3d0d29479f3d7,openstack/openstack-ansible,master,Ibc971d152f8fd985c0eac82edfd3d0d29479f3d7,[DNM] Test inventory with static YAML based inventory,ABANDONED,2018-07-11 04:53:34.000000000,2019-05-07 03:27:07.000000000,,"[{'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-07-11 04:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5262293cca9aad6a74fa5f706c6e9105ca9d19ca', 'message': ""[DNM] Test inventory with static YAML based inventory\n\nThis change implements a simple Ansible JSON to YAML converter which\nwill allow a user to convert an existing dynamic JSON inventory to a\nstatic YAML based inventory. This was done in an effort to test what's\npossible and what works and to see if there's continued interest in\ngoing the static inventory route.\n\nChange-Id: Ibc971d152f8fd985c0eac82edfd3d0d29479f3d7\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 2, 'created': '2018-07-11 15:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/46ad92cc8e7ef987eabb42e0cd2d030e19a02cf9', 'message': ""[DNM] Test inventory with static YAML based inventory\n\nThis change implements a simple Ansible JSON to YAML converter which\nwill allow a user to convert an existing dynamic JSON inventory to a\nstatic YAML based inventory. This was done in an effort to test what's\npossible and what works and to see if there's continued interest in\ngoing the static inventory route.\n\nChange-Id: Ibc971d152f8fd985c0eac82edfd3d0d29479f3d7\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 3, 'created': '2018-07-11 19:11:44.000000000', 'files': ['.gitignore', 'scripts/gate-check-commit.sh', 'scripts/static-inventory-converter.py', 'scripts/openstack-ansible.rc'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f892621d197e197248e91fa80bd830cd943272f3', 'message': ""[DNM] Test inventory with static YAML based inventory\n\nThis change implements a simple Ansible JSON to YAML converter which\nwill allow a user to convert an existing dynamic JSON inventory to a\nstatic YAML based inventory. This was done in an effort to test what's\npossible and what works and to see if there's continued interest in\ngoing the static inventory route.\n\nChange-Id: Ibc971d152f8fd985c0eac82edfd3d0d29479f3d7\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}]",0,581568,f892621d197e197248e91fa80bd830cd943272f3,12,4,3,7353,,,0,"[DNM] Test inventory with static YAML based inventory

This change implements a simple Ansible JSON to YAML converter which
will allow a user to convert an existing dynamic JSON inventory to a
static YAML based inventory. This was done in an effort to test what's
possible and what works and to see if there's continued interest in
going the static inventory route.

Change-Id: Ibc971d152f8fd985c0eac82edfd3d0d29479f3d7
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/68/581568/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'scripts/gate-check-commit.sh', 'scripts/static-inventory-converter.py', 'scripts/openstack-ansible.rc']",4,5262293cca9aad6a74fa5f706c6e9105ca9d19ca,inventory-convert,"#### TESTING STATIC INVENTORY ### The dynamic_inventory.py script has been replaced with static inventory in ### yaml format. This has a readability improvement which should provide ### operators the ability to tune inventory as they see fit. export ANSIBLE_INVENTORY=""${ANSIBLE_INVENTORY:-OSA_INVENTORY_PATH/inventory.yaml,/etc/openstack_deploy/inventory.ini}""","export ANSIBLE_INVENTORY=""${ANSIBLE_INVENTORY:-OSA_INVENTORY_PATH/dynamic_inventory.py,/etc/openstack_deploy/inventory.ini}""",104,1
openstack%2Ftripleo-common~master~I2e43de001938bcdec96875ede0ef52d4742dc01c,openstack/tripleo-common,master,I2e43de001938bcdec96875ede0ef52d4742dc01c,bootstrap: install network-scripts if EL8,MERGED,2019-05-01 20:55:12.000000000,2019-05-07 03:21:06.000000000,2019-05-07 03:21:06.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29315}, {'_account_id': 30258}]","[{'number': 1, 'created': '2019-05-01 20:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7cd18563996aef00da7dd9d51d7adc52aad3d750', 'message': 'Add network-scripts to packages_bootstrap list\n\nnetwork-scripts is required by the network service which is enabled\nin tasks/main.yml\n\nChange-Id: I2e43de001938bcdec96875ede0ef52d4742dc01c\nCloses-bug: 1827277\n'}, {'number': 2, 'created': '2019-05-01 23:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/de79f08bcea8ce19f99122475face8e7580fa973', 'message': ""bootstrap: install network-scripts if EL8\n\nnetwork-scripts is required by the network service which is enabled\nin tasks/main.yml.\nAlso run this block of tasks on EL8 only, where it's actually needed.\n\nChange-Id: I2e43de001938bcdec96875ede0ef52d4742dc01c\nCloses-bug: 1827277\n""}, {'number': 3, 'created': '2019-05-02 16:29:11.000000000', 'files': ['roles/tripleo-bootstrap/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/878a7727b9d019c0520edb88c020e4eb740271f9', 'message': ""bootstrap: install network-scripts if EL8\n\nnetwork-scripts is required by the network service which is enabled\nin tasks/main.yml.\nAlso run this block of tasks on EL8 only, where it's actually needed.\n\nChange-Id: I2e43de001938bcdec96875ede0ef52d4742dc01c\nCloses-bug: 1827277\n""}]",9,656705,878a7727b9d019c0520edb88c020e4eb740271f9,32,9,3,18851,,,0,"bootstrap: install network-scripts if EL8

network-scripts is required by the network service which is enabled
in tasks/main.yml.
Also run this block of tasks on EL8 only, where it's actually needed.

Change-Id: I2e43de001938bcdec96875ede0ef52d4742dc01c
Closes-bug: 1827277
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/05/656705/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-bootstrap/defaults/main.yml'],1,7cd18563996aef00da7dd9d51d7adc52aad3d750,bug/1827277, - network-scripts,,1,0
openstack%2Ftripleo-common~master~I3fc5b351c3e20ab01953a510bd71a70d3c083527,openstack/tripleo-common,master,I3fc5b351c3e20ab01953a510bd71a70d3c083527,Introduce tripleo-container-rm,MERGED,2019-05-05 16:25:43.000000000,2019-05-07 03:21:05.000000000,2019-05-07 03:21:05.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-05-05 16:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1a51927cc81a9751b225aa97b8bffde641e722fc', 'message': 'Introduce tripleo-container-rm\n\ntripleo-container-rm is the new role that replaces tripleo-docker-rm which\nis in charge of tearing down containers running in Docker or Podman.\nIf the container_cli is Podman, the role takes care of systemd cleanup for\nboth the container and its healthcheck if it does exist.\n\nChange-Id: I3fc5b351c3e20ab01953a510bd71a70d3c083527\n'}, {'number': 2, 'created': '2019-05-05 22:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/802b3043545be62a6ef7b82d67fea47bac894526', 'message': 'Introduce tripleo-container-rm\n\ntripleo-container-rm is the new role that replaces tripleo-docker-rm which\nis in charge of tearing down containers running in Docker or Podman.\nIf the container_cli is Podman, the role takes care of systemd cleanup for\nboth the container and its healthcheck if it does exist.\n\nChange-Id: I3fc5b351c3e20ab01953a510bd71a70d3c083527\n'}, {'number': 3, 'created': '2019-05-06 08:16:39.000000000', 'files': ['roles/tripleo-container-rm/tasks/docker.yaml', 'roles/tripleo-container-rm/README.md', 'roles/tripleo-container-rm/defaults/main.yaml', 'roles/tripleo-container-rm/tasks/podman.yaml', 'releasenotes/notes/tripleo-container-rm-082aa93d2de1e8bc.yaml', 'roles/tripleo-docker-rm/README.md', 'roles/tripleo-container-rm/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/13775b8e2077574b4e9e6a8e492b0007a3a126cf', 'message': 'Introduce tripleo-container-rm\n\ntripleo-container-rm is the new role that replaces tripleo-docker-rm which\nis in charge of tearing down containers running in Docker or Podman.\nIf the container_cli is Podman, the role takes care of systemd cleanup for\nboth the container and its healthcheck if it does exist.\n\nChange-Id: I3fc5b351c3e20ab01953a510bd71a70d3c083527\n'}]",2,657279,13775b8e2077574b4e9e6a8e492b0007a3a126cf,24,6,3,3153,,,0,"Introduce tripleo-container-rm

tripleo-container-rm is the new role that replaces tripleo-docker-rm which
is in charge of tearing down containers running in Docker or Podman.
If the container_cli is Podman, the role takes care of systemd cleanup for
both the container and its healthcheck if it does exist.

Change-Id: I3fc5b351c3e20ab01953a510bd71a70d3c083527
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/79/657279/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-container-rm/tasks/docker.yaml', 'roles/tripleo-container-rm/README.md', 'roles/tripleo-container-rm/defaults/main.yaml', 'roles/tripleo-container-rm/tasks/podman.yaml', 'releasenotes/notes/tripleo-container-rm-082aa93d2de1e8bc.yaml', 'roles/tripleo-container-rm/tasks/main.yaml', 'roles/tripleo-docker-rm/README.md']",7,1a51927cc81a9751b225aa97b8bffde641e722fc,bp/replace-keepalived-undercloud,This role is being replaced by tripleo-container-rm which will support podman.,,116,0
openstack%2Ftripleo-ci~master~Ia0dd8ce3a62a72d056c57e434b93237663b54c22,openstack/tripleo-ci,master,Ia0dd8ce3a62a72d056c57e434b93237663b54c22,Allow to change registry port in container-build,MERGED,2019-05-02 05:00:17.000000000,2019-05-07 03:16:22.000000000,2019-05-07 03:16:22.000000000,"[{'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-05-02 05:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/de5ddd6381e01a0a65b47d34ad5d37ec383eb3e3', 'message': '[DNM] allow to change registry port in container-build\n\nChange-Id: Ia0dd8ce3a62a72d056c57e434b93237663b54c22\n'}, {'number': 2, 'created': '2019-05-06 03:24:39.000000000', 'files': ['roles/build-containers/templates/docker-playbook.yaml.j2', 'roles/build-containers/tasks/pre.yaml', 'roles/build-containers/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ba014200bf0408dfead4f2c03f733cd4fed51c93', 'message': 'Allow to change registry port in container-build\n\nAdd a role variable: push_registry_port which default\nto 8787 and this variable  can be used to set different\nport to be used by container registry set by build-containers\nrole.\n\nThis is required in cases where 8787 port is used by\nsome other service.\n\nChange-Id: Ia0dd8ce3a62a72d056c57e434b93237663b54c22\n'}]",0,656725,ba014200bf0408dfead4f2c03f733cd4fed51c93,17,7,2,13861,,,0,"Allow to change registry port in container-build

Add a role variable: push_registry_port which default
to 8787 and this variable  can be used to set different
port to be used by container registry set by build-containers
role.

This is required in cases where 8787 port is used by
some other service.

Change-Id: Ia0dd8ce3a62a72d056c57e434b93237663b54c22
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/25/656725/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-containers/templates/docker-playbook.yaml.j2', 'roles/build-containers/tasks/pre.yaml', 'zuul.d/layout.yaml', 'roles/build-containers/defaults/main.yaml']",4,de5ddd6381e01a0a65b47d34ad5d37ec383eb3e3,656725,"push_registry_port: 8787 push_registry: ""127.0.0.1:{{ push_registry_port }}""","push_registry: ""127.0.0.1:8787""",4,57
openstack%2Ftripleo-common~stable%2Fstein~Idd3098cfa3aab5dd618645e54b922f90cd9ae13f,openstack/tripleo-common,stable/stein,Idd3098cfa3aab5dd618645e54b922f90cd9ae13f,Fix chown command in write_inputs_file function,MERGED,2019-05-02 15:55:54.000000000,2019-05-07 03:16:21.000000000,2019-05-07 03:16:21.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-05-02 15:55:54.000000000', 'files': ['sudoers', 'tripleo_common/utils/validations.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/27a4322b644b87cbef63e2cfe6408576a615c4aa', 'message': ""Fix chown command in write_inputs_file function\n\nThe tripleo-common sudoers file allows an owner change on the\nvalidations identity file. The command is only allowed with the `-h`\noption, but this option isn't used in the `write_inputs_file` python\ncode. This breaks validation runs started through Mistral.\n\nThis patch adds this option to the `chown` command. It also removes an\nuseless line in the sudoers file.\n\nChange-Id: Idd3098cfa3aab5dd618645e54b922f90cd9ae13f\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit d0831dc4ce70ddc8ac733c8946afaa014ff7a2ef)\n""}]",0,656800,27a4322b644b87cbef63e2cfe6408576a615c4aa,20,9,1,11491,,,0,"Fix chown command in write_inputs_file function

The tripleo-common sudoers file allows an owner change on the
validations identity file. The command is only allowed with the `-h`
option, but this option isn't used in the `write_inputs_file` python
code. This breaks validation runs started through Mistral.

This patch adds this option to the `chown` command. It also removes an
useless line in the sudoers file.

Change-Id: Idd3098cfa3aab5dd618645e54b922f90cd9ae13f
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit d0831dc4ce70ddc8ac733c8946afaa014ff7a2ef)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/00/656800/1 && git format-patch -1 --stdout FETCH_HEAD,"['sudoers', 'tripleo_common/utils/validations.py']",2,27a4322b644b87cbef63e2cfe6408576a615c4aa,," processutils.execute('/usr/bin/sudo', '/usr/bin/chown', '-h', 'validations:',"," processutils.execute('/usr/bin/sudo', '/usr/bin/chown', 'validations:',",4,2
openstack%2Fopenstack-ansible-ops~master~Ib6bd330706cf818f5f7cb1b8c4666d3541b7bbcd,openstack/openstack-ansible-ops,master,Ib6bd330706cf818f5f7cb1b8c4666d3541b7bbcd,Add Wazuh support to the Elastic-Stack,ABANDONED,2018-08-29 00:34:15.000000000,2019-05-07 03:13:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-08-29 00:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/51291cdb99c980d16d6e402fb745ecfd2f2c8e16', 'message': 'Add Wazuh support to the Elastic-Stack\n\nWazuh provides us the ability to begin capturing and monitoring OSSEC.\n\nDocumentation for Wazuh can be found here: https://documentation.wazuh.com\n\nChange-Id: Ib6bd330706cf818f5f7cb1b8c4666d3541b7bbcd\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-08-29 00:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/a8984c71d1192f02880be7d4a2941703696c1976', 'message': 'Add Wazuh support to the Elastic-Stack\n\nWazuh provides us the ability to begin capturing and monitoring OSSEC.\n\nDocumentation for Wazuh can be found here: https://documentation.wazuh.com\n\nChange-Id: Ib6bd330706cf818f5f7cb1b8c4666d3541b7bbcd\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-08-29 05:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/51a0470a12ee4b550175470ae10e41ed4e6b5087', 'message': 'Add Wazuh support to the Elastic-Stack\n\nWazuh provides us the ability to begin capturing and monitoring OSSEC.\nThe changes implement the agent, api, and management framework for wazuh\nwithin a single environment. Clustered wazuh will be added later.\n\nDocumentation for Wazuh can be found here: https://documentation.wazuh.com\n\nChange-Id: Ib6bd330706cf818f5f7cb1b8c4666d3541b7bbcd\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-08-29 17:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/1c9d24625bbde5b57743688cbb82cb689c1f37ab', 'message': 'Add Wazuh support to the Elastic-Stack\n\nWazuh provides us the ability to begin capturing and monitoring OSSEC.\nThe changes implement the agent, api, and management framework for wazuh\nwithin a single environment. Clustered wazuh will be added later.\n\nDocumentation for Wazuh can be found here: https://documentation.wazuh.com\n\nChange-Id: Ib6bd330706cf818f5f7cb1b8c4666d3541b7bbcd\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2018-08-30 04:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/38f44d1ae6ba1f5148ddd8d07ddb8fbb4cd14eac', 'message': 'Add Wazuh support to the Elastic-Stack\n\nWazuh provides us the ability to begin capturing and monitoring OSSEC.\nThe changes implement the agent, api, and management framework for wazuh\nwithin a single environment. Clustered wazuh will be added later.\n\nDocumentation for Wazuh can be found here: https://documentation.wazuh.com\n\nChange-Id: Ib6bd330706cf818f5f7cb1b8c4666d3541b7bbcd\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2018-09-11 14:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/6ec884bc94f31626c4398f023c8a0701d55f3b9b', 'message': 'Add Wazuh support to the Elastic-Stack\n\nWazuh provides us the ability to begin capturing and monitoring OSSEC.\nThe changes implement the agent, api, and management framework for wazuh\nwithin a single environment. Clustered wazuh will be added later.\n\nDocumentation for Wazuh can be found here: https://documentation.wazuh.com\n\nChange-Id: Ib6bd330706cf818f5f7cb1b8c4666d3541b7bbcd\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 7, 'created': '2018-09-11 14:39:36.000000000', 'files': ['elk_metrics_6x/roles/elastic_ossec_api/defaults/main.yml', 'elk_metrics_6x/templates/logstash-pipelines.yml.j2', 'elk_metrics_6x/roles/elastic_ossec_agent/vars/main.yml', 'elk_metrics_6x/roles/elastic_ossec_repositories/vars/redhat.yml', 'elk_metrics_6x/roles/elastic_ossec_agent/handlers/main.yml', 'elk_metrics_6x/roles/elasticsearch/templates/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_ossec_api/vars/suse.yml', 'elk_metrics_6x/roles/elastic_filebeat/templates/filebeat.yml.j2', 'elk_metrics_6x/roles/elastic_ossec_api/vars/redhat.yml', 'elk_metrics_6x/roles/elastic_packetbeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_ossec_api/handlers/main.yml', 'elk_metrics_6x/roles/elastic_ossec_agent/vars/redhat.yml', 'elk_metrics_6x/installWazuh.yml', 'elk_metrics_6x/roles/elastic_logstash/defaults/main.yml', 'elk_metrics_6x/roles/elastic_ossec_repositories/tasks/elastic_apt_repos.yml', 'elk_metrics_6x/roles/elastic_metricbeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_heartbeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_ossec_agent/vars/suse.yml', 'elk_metrics_6x/roles/elastic_filebeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_ossec_api/meta/main.yml', 'elk_metrics_6x/roles/elastic_ossec_repositories/vars/ubuntu.yml', 'elk_metrics_6x/roles/elastic_auditbeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_ossec_agent/templates/ossec.conf.j2', 'elk_metrics_6x/roles/elastic_logstash/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_ossec_api/tasks/main.yml', 'elk_metrics_6x/roles/elastic_ossec_agent/defaults/main.yml', 'elk_metrics_6x/roles/elastic_ossec_api/vars/ubuntu.yml', 'elk_metrics_6x/roles/elastic_ossec_repositories/tasks/elastic_zypper_repos.yml', 'elk_metrics_6x/roles/elastic_ossec_api/templates/config.js.j2', 'elk_metrics_6x/roles/elastic_journalbeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_ossec_agent/vars/ubuntu.yml', 'elk_metrics_6x/roles/elastic_ossec_repositories/meta/main.yml', 'elk_metrics_6x/roles/elastic_ossec_repositories/defaults/main.yml', 'elk_metrics_6x/site-elka.yml', 'elk_metrics_6x/roles/elastic_ossec_agent/meta/main.yml', 'elk_metrics_6x/roles/elastic_ossec_repositories/vars/suse.yml', 'elk_metrics_6x/roles/elastic_ossec_agent/tasks/main.yml', 'elk_metrics_6x/roles/elastic_apm_server/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_kibana/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_ossec_repositories/tasks/elastic_yum_repos.yml', 'elk_metrics_6x/roles/elastic_ossec_repositories/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/3fb249825ae5a84ebf5d2b0fb980a48bc2a3e8d8', 'message': 'Add Wazuh support to the Elastic-Stack\n\nWazuh provides us the ability to begin capturing and monitoring OSSEC.\nThe changes implement the agent, api, and management framework for wazuh\nwithin a single environment. Clustered wazuh will be added later.\n\nDocumentation for Wazuh can be found here: https://documentation.wazuh.com\n\nChange-Id: Ib6bd330706cf818f5f7cb1b8c4666d3541b7bbcd\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,597329,3fb249825ae5a84ebf5d2b0fb980a48bc2a3e8d8,13,2,7,7353,,,0,"Add Wazuh support to the Elastic-Stack

Wazuh provides us the ability to begin capturing and monitoring OSSEC.
The changes implement the agent, api, and management framework for wazuh
within a single environment. Clustered wazuh will be added later.

Documentation for Wazuh can be found here: https://documentation.wazuh.com

Change-Id: Ib6bd330706cf818f5f7cb1b8c4666d3541b7bbcd
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/29/597329/3 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_6x/templates/logstash-pipelines.yml.j2', 'elk_metrics_6x/roles/elastic_ossec_agent/vars/main.yml', 'elk_metrics_6x/roles/elastic_ossec_repositories/vars/redhat.yml', 'elk_metrics_6x/roles/elastic_ossec_agent/handlers/main.yml', 'elk_metrics_6x/roles/elasticsearch/templates/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_ossec_api/vars/suse.yml', 'elk_metrics_6x/roles/elastic_filebeat/templates/filebeat.yml.j2', 'elk_metrics_6x/roles/elastic_ossec_api/vars/redhat.yml', 'elk_metrics_6x/roles/elastic_packetbeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_ossec_api/handlers/main.yml', 'elk_metrics_6x/roles/elastic_ossec_agent/vars/redhat.yml', 'elk_metrics_6x/installWazuh.yml', 'elk_metrics_6x/roles/elastic_ossec_repositories/tasks/elastic_apt_repos.yml', 'elk_metrics_6x/roles/elastic_metricbeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_heartbeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_ossec_agent/vars/suse.yml', 'elk_metrics_6x/roles/elastic_filebeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_ossec_api/meta/main.yml', 'elk_metrics_6x/roles/elastic_ossec_repositories/vars/ubuntu.yml', 'elk_metrics_6x/roles/elastic_auditbeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_ossec_agent/templates/ossec.conf.j2', 'elk_metrics_6x/roles/elastic_logstash/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_ossec_api/tasks/main.yml', 'elk_metrics_6x/roles/elastic_ossec_api/vars/ubuntu.yml', 'elk_metrics_6x/roles/elastic_ossec_repositories/tasks/elastic_zypper_repos.yml', 'elk_metrics_6x/roles/elastic_ossec_api/templates/config.js.j2', 'elk_metrics_6x/roles/elastic_journalbeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_ossec_agent/vars/ubuntu.yml', 'elk_metrics_6x/roles/elastic_ossec_repositories/meta/main.yml', 'elk_metrics_6x/roles/elastic_ossec_repositories/defaults/main.yml', 'elk_metrics_6x/site-elka.yml', 'elk_metrics_6x/roles/elastic_ossec_agent/meta/main.yml', 'elk_metrics_6x/roles/elastic_ossec_repositories/vars/suse.yml', 'elk_metrics_6x/roles/elastic_ossec_agent/tasks/main.yml', 'elk_metrics_6x/roles/elastic_apm_server/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_kibana/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_6x/roles/elastic_ossec_repositories/tasks/elastic_yum_repos.yml', 'elk_metrics_6x/roles/elastic_ossec_repositories/tasks/main.yml']",38,51291cdb99c980d16d6e402fb745ecfd2f2c8e16,597329,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Gather variables for each operating system include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_version.split('.')[0] }}.yml"" - ""{{ ansible_os_family | lower }}.yml"" tags: - always - name: Install repo disto packages package: name: ""{{ ossec_pre_distro_packages }}"" state: present update_cache: ""{{ (ansible_pkg_mgr == 'apt') | ternary('yes', omit) }}"" register: _apt_task until: _apt_task is success retries: 3 delay: 2 tags: - package_install - include_tasks: ""elastic_{{ ansible_pkg_mgr }}_repos.yml"" ",,1328,13
openstack%2Fopenstack-ansible~stable%2Focata~I1efe2f29e25f144388163a59c7b626baf3f91afd,openstack/openstack-ansible,stable/ocata,I1efe2f29e25f144388163a59c7b626baf3f91afd,Backport nova placement api healthcheck from pike,ABANDONED,2018-05-03 05:01:19.000000000,2019-05-07 03:04:15.000000000,,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-05-03 05:01:19.000000000', 'files': ['playbooks/vars/configs/haproxy_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/157ef45a108e0086cc20d0d21db3ffe2daf13005', 'message': ""Backport nova placement api healthcheck from pike\n\nThe nova placement API needs to check for 401 given that it does not\nhave a proper healthcheck API. Without this change haproxy will gladly\ntry and use any node within the cluster, even if it's returning in\nerror.\n\nChange-Id: I1efe2f29e25f144388163a59c7b626baf3f91afd\nCloses-Bug: #1721356\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}]",0,565955,157ef45a108e0086cc20d0d21db3ffe2daf13005,8,3,1,7353,,,0,"Backport nova placement api healthcheck from pike

The nova placement API needs to check for 401 given that it does not
have a proper healthcheck API. Without this change haproxy will gladly
try and use any node within the cluster, even if it's returning in
error.

Change-Id: I1efe2f29e25f144388163a59c7b626baf3f91afd
Closes-Bug: #1721356
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/55/565955/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/vars/configs/haproxy_config.yml'],1,157ef45a108e0086cc20d0d21db3ffe2daf13005,bug/1721356," haproxy_backend_httpcheck_options: - ""expect status 401""",,2,0
openstack%2Fceilometer~stable%2Fqueens~If7870fd525d1ef58e4c2dbbbf93525bab3623b0f,openstack/ceilometer,stable/queens,If7870fd525d1ef58e4c2dbbbf93525bab3623b0f,Add new attributes to instance,MERGED,2019-05-01 16:36:28.000000000,2019-05-07 03:03:10.000000000,2019-05-07 03:03:09.000000000,"[{'_account_id': 2813}, {'_account_id': 6924}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 27068}, {'_account_id': 30357}]","[{'number': 1, 'created': '2019-05-01 16:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/be6af5f4fc9eb48192b5daec33381a69d6944c6d', 'message': 'Add new attributes to instance\n\nThis change adds launched_at/started_at/deleted_at attribute to instance.\n\nRely on started_at/ended_at of Gnocchi to known when the operation have\ndone is not precise. Nova records the exact time of this event, just\ncopy them to Gnocchi.\n\nBackport to queens.\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n\nChange-Id: If7870fd525d1ef58e4c2dbbbf93525bab3623b0f\n(cherry picked from commit 36414e1cebe3a43d962f8d2adfe7cc34742e9057)\n'}, {'number': 2, 'created': '2019-05-01 22:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/143dca37054ae7d6b08b0008ded97f9573f465de', 'message': 'Add new attributes to instance\n\nThis change adds launched_at/started_at/deleted_at attribute to instance.\n\nRely on started_at/ended_at of Gnocchi to known when the operation have\ndone is not precise. Nova records the exact time of this event, just\ncopy them to Gnocchi.\n\nBackport to queens.\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n\nChange-Id: If7870fd525d1ef58e4c2dbbbf93525bab3623b0f\n(cherry picked from commit 36414e1cebe3a43d962f8d2adfe7cc34742e9057)\n'}, {'number': 3, 'created': '2019-05-03 14:04:14.000000000', 'files': ['ceilometer/gnocchi_client.py', 'ceilometer/publisher/data/gnocchi_resources.yaml', 'releasenotes/notes/instance-record-launched-created-deleted-d7f44df3bbcf0790.yaml', 'ceilometer/data/meters.d/meters.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6582e8e4e20c511acab9e16cfd3c0f8e569f705a', 'message': 'Add new attributes to instance\n\nThis change adds launched_at/started_at/deleted_at attribute to instance.\n\nRely on started_at/ended_at of Gnocchi to known when the operation have\ndone is not precise. Nova records the exact time of this event, just\ncopy them to Gnocchi.\n\nBackport to queens.\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n\nChange-Id: If7870fd525d1ef58e4c2dbbbf93525bab3623b0f\n(cherry picked from commit 36414e1cebe3a43d962f8d2adfe7cc34742e9057)\n'}]",8,656668,6582e8e4e20c511acab9e16cfd3c0f8e569f705a,21,6,3,30357,,,0,"Add new attributes to instance

This change adds launched_at/started_at/deleted_at attribute to instance.

Rely on started_at/ended_at of Gnocchi to known when the operation have
done is not precise. Nova records the exact time of this event, just
copy them to Gnocchi.

Backport to queens.
Signed-off-by: Ryan McCabe <rmccabe@redhat.com>

Change-Id: If7870fd525d1ef58e4c2dbbbf93525bab3623b0f
(cherry picked from commit 36414e1cebe3a43d962f8d2adfe7cc34742e9057)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/68/656668/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/gnocchi_client.py', 'ceilometer/publisher/data/gnocchi_resources.yaml', 'releasenotes/notes/instance-record-launched-created-deleted-d7f44df3bbcf0790.yaml', 'ceilometer/data/meters.d/meters.yaml']",4,be6af5f4fc9eb48192b5daec33381a69d6944c6d,queens-bz1701453, launched_at: $.payload.launched_at created_at: $.payload.created_at deleted_at: $.payload.deleted_at,,22,1
openstack%2Fopenstack-ansible~master~I4e5a1c784e38fb918308c857d20aad6e70bf484a,openstack/openstack-ansible,master,I4e5a1c784e38fb918308c857d20aad6e70bf484a,Use fan out when deploying with nspawn,ABANDONED,2018-05-14 17:02:44.000000000,2019-05-07 03:02:59.000000000,,"[{'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 24441}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-05-14 17:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ad9bd93417f5d5cf6bfbf80af4597b51fae2a62b', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-05-15 03:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ab686342dc080614b33b0546889f4148058a02e9', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-05-15 05:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ab66f568d99472052928b262886a72830434635f', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-05-15 14:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/46bd9bd40f71cf5b2d83efcaff62cab7e1632123', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2018-05-15 15:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/75720cfa649b6cedbca3d548a10539d618f33b39', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2018-05-15 15:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/76f83df019bc1e920ec398a3eec37a0c5856ddd4', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 7, 'created': '2018-05-15 15:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b4d21e8602c4949f5b9a5b5f68bcbd3fcd3eb541', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 8, 'created': '2018-05-15 16:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2763e8ef697a6347d43dcd0128553919b901d524', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 9, 'created': '2018-05-15 17:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5f9da16bbe439f818025faf9e4907299749d70f3', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 10, 'created': '2018-05-16 00:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2ba635c2d53aea2256ba9e9933678902e55996c3', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 11, 'created': '2018-05-16 14:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e58391306a76f67aee45ed1665cd9a3550059e4d', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 12, 'created': '2018-05-17 00:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/aab267d5305b1d15f3ea48a215aa6aa75dfc0e9c', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 13, 'created': '2018-05-17 02:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6f2389cf7681c7d2eefaf3cd7dd4111f22b2a310', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 14, 'created': '2018-05-17 02:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/aebc7d0ccf88afcc5b3eab1557efea976a7edf7a', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 15, 'created': '2018-05-17 02:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ea8fd9f0f7cb14ea67d3333252d762181e029714', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 16, 'created': '2018-05-17 04:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8f4d7925a5ac3129eff61cd2c579e38e83e6aa5c', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 17, 'created': '2018-05-17 05:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8ede2ab2986dae2e1db508ec82bcec035acf0d88', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 18, 'created': '2018-05-17 18:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8d17a65e9dfb71773d987912b8a0915965017417', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 19, 'created': '2018-05-18 04:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/69038da25590c86bab18df4e43d6025dc72948e0', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 20, 'created': '2018-06-01 00:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b71bac948c415c91283b30dcf5cd5497f9e8b5e8', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 21, 'created': '2018-06-01 00:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d474622f41c79725b016bf7971883d94f83ebd3f', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 22, 'created': '2018-06-01 05:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/79863f7733ff5152030abab3036cc6b31056ac96', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 23, 'created': '2018-06-09 19:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7c51116d2c64eaedb5e9f27d1d3acc9ac8e12ba8', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 24, 'created': '2018-06-30 00:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b932c797b9e2125b1bcfe294a61d5c5b2a6ed433', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 25, 'created': '2018-08-11 17:40:14.000000000', 'files': ['playbooks/containers-nspawn-create.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/55fc356e71e65d05576373c199606c85adae0329', 'message': 'Use fan out when deploying with nspawn\n\nWhen deploying with nspawn containers the deployment process can be made\nsimpler and faster by using a fan out. This change will group the\ncontainers by ""primary"" and ""all"". The deployment process will create\nthe primary containers on all physical hosts which runs through the long\ndeployment process. Once these primary containers are online the rest of\nthe containers are then built off the primary image using a clone.\n\nChange-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",3,568331,55fc356e71e65d05576373c199606c85adae0329,99,5,25,7353,,,0,"Use fan out when deploying with nspawn

When deploying with nspawn containers the deployment process can be made
simpler and faster by using a fan out. This change will group the
containers by ""primary"" and ""all"". The deployment process will create
the primary containers on all physical hosts which runs through the long
deployment process. Once these primary containers are online the rest of
the containers are then built off the primary image using a clone.

Change-Id: I4e5a1c784e38fb918308c857d20aad6e70bf484a
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/31/568331/5 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/containers-nspawn-create.yml'],1,ad9bd93417f5d5cf6bfbf80af4597b51fae2a62b,," tags: - always - name: Group containers by physical host group_by: key: ""nspawn_containers_{{ physical_host }}"" changed_when: false - name: Prepare a group of primary containers add_host: name: ""{{ (groups[item] | sort)[-1] }}"" groups: container_masters with_items: ""{{ groups | select('match', '^nspawn_containers_') | list }}"" changed_when: false- name: Create primary container(s) hosts: container_masters post_tasks: - include: common-tasks/package-cache-proxy.yml - include: common-tasks/set-pip-vars.yml - name: Run the openstack hosts role include_role: name: openstack_hosts private: true vars: is_container: true vars_files: - defaults/repo_packages/openstack_services.yml- name: Create all other container(s) hosts: ""all_nspawn_containers:!container_masters"" gather_facts: false roles: - role: ""nspawn_container_create"" container_image: ""{{ (groups['container_masters'] | select('match', physical_host) | list)[0] }}"""," - name: Add hosts to dynamic inventory group group_by: key: nspawn_containers when: - container_tech == 'nspawn'- name: Create container(s) hosts: all_nspawn_containers- name: Configure containers default software hosts: all_nspawn_containers gather_facts: true pre_tasks: - include: common-tasks/package-cache-proxy.yml - include: common-tasks/set-pip-vars.yml roles: - role: ""openstack_hosts"" is_container: true vars_files: - defaults/repo_packages/openstack_services.yml",30,16
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ia603411862538c6461c2626c20762b796d8f3ae4,openstack/openstack-ansible-rabbitmq_server,master,Ia603411862538c6461c2626c20762b796d8f3ae4,Change include to include_tasks,ABANDONED,2018-05-05 04:53:28.000000000,2019-05-07 02:56:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-05 04:53:28.000000000', 'files': ['tasks/main.yml', 'tasks/rabbitmq_set_cookie.yml', 'tasks/rabbitmq_install.yml', 'tasks/rabbitmq_cluster.yml', 'tasks/rabbitmq_post_install.yml', 'tests/test-upgrade-pre.yml', 'tasks/rabbitmq_upgrade_check.yml', 'tests/test-upgrade-post.yml', 'tasks/rabbitmq_restart.yml', 'tests/test.yml', 'tasks/rabbitmq_upgrade_prep.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/da89548cab7ea214c10a3adc77d68c6a76ec8a4d', 'message': 'Change include to include_tasks\n\nThe old include option is being deprecated this coverts the role to use\nthe new option.\n\nChange-Id: Ia603411862538c6461c2626c20762b796d8f3ae4\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,566429,da89548cab7ea214c10a3adc77d68c6a76ec8a4d,3,1,1,7353,,,0,"Change include to include_tasks

The old include option is being deprecated this coverts the role to use
the new option.

Change-Id: Ia603411862538c6461c2626c20762b796d8f3ae4
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/29/566429/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/rabbitmq_set_cookie.yml', 'tasks/rabbitmq_install.yml', 'tasks/rabbitmq_cluster.yml', 'tasks/rabbitmq_post_install.yml', 'tests/test-upgrade-pre.yml', 'tasks/rabbitmq_upgrade_check.yml', 'tests/test-upgrade-post.yml', 'tasks/rabbitmq_restart.yml', 'tests/test.yml', 'tasks/rabbitmq_upgrade_prep.yml']",11,da89548cab7ea214c10a3adc77d68c6a76ec8a4d,heads/gerrit/master,- include_tasks: rabbitmq_stopped.yml,- include: rabbitmq_stopped.yml,31,25
openstack%2Fopenstack-ansible-rabbitmq_server~master~Iaf61081d14ef9fa43c72c08a65f6793261c4ef35,openstack/openstack-ansible-rabbitmq_server,master,Iaf61081d14ef9fa43c72c08a65f6793261c4ef35,Tune-up the rabbitmq role for efficiency,ABANDONED,2017-11-30 00:21:40.000000000,2019-05-07 02:42:43.000000000,,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-30 00:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/75f7061cb6bad878e6d2bd180eb329004e967d4b', 'message': 'Tune-up the rabbitmq role for efficiency\n\nThe rabbitmq role has grown organically over the last few cycles. This\nchange cleans up the role and applies some of our more established\npatterns. This will allow the role to be more efficient.\n\nChange-Id: Iaf61081d14ef9fa43c72c08a65f6793261c4ef35\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2017-11-30 01:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/0b26caa5c4d2224ea549590b6ed8ee5283f226bd', 'message': 'Tune-up the rabbitmq role for efficiency\n\nThe rabbitmq role has grown organically over the last few cycles. This\nchange cleans up the role and applies some of our more established\npatterns. This will allow the role to be more efficient.\n\nChange-Id: Iaf61081d14ef9fa43c72c08a65f6793261c4ef35\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2017-11-30 02:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/95d2359df7059255bd756fdb4f02272445d5741b', 'message': ""Tune-up the rabbitmq role for efficiency\n\nThe rabbitmq role has grown organically over the last few cycles. This\nchange cleans up the role and applies some of our more established\npatterns. This will allow the role to be more efficient.\n\nFor service consistency and isolation a configuration file for private\ndevices and service slices have been added into the role. These options\nprovide for a consistent and isolated deployment no matter if it's in a\ncontainer or on baremetal.\n\nChange-Id: Iaf61081d14ef9fa43c72c08a65f6793261c4ef35\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 4, 'created': '2017-11-30 02:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/6a97698fd05dbd34acc5e7be4702add6f4c073ad', 'message': ""Tune-up the rabbitmq role for efficiency\n\nThe rabbitmq role has grown organically over the last few cycles. This\nchange cleans up the role and applies some of our more established\npatterns. This will allow the role to be more efficient.\n\nFor service consistency and isolation a configuration file for private\ndevices and service slices have been added into the role. These options\nprovide for a consistent and isolated deployment no matter if it's in a\ncontainer or on baremetal.\n\nChange-Id: Iaf61081d14ef9fa43c72c08a65f6793261c4ef35\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 5, 'created': '2017-11-30 04:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/82dc0c10288c85c6cfbe1f19c1c2527fdbef4771', 'message': ""Tune-up the rabbitmq role for efficiency\n\nThe rabbitmq role has grown organically over the last few cycles. This\nchange cleans up the role and applies some of our more established\npatterns. This will allow the role to be more efficient.\n\nFor service consistency and isolation a configuration file for private\ndevices and service slices have been added into the role. These options\nprovide for a consistent and isolated deployment no matter if it's in a\ncontainer or on baremetal.\n\nChange-Id: Iaf61081d14ef9fa43c72c08a65f6793261c4ef35\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 6, 'created': '2017-11-30 05:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/3063c663f3f12185a0bbbde9bf3b597e4976cf48', 'message': ""Tune-up the rabbitmq role for efficiency\n\nThe rabbitmq role has grown organically over the last few cycles. This\nchange cleans up the role and applies some of our more established\npatterns. This will allow the role to be more efficient.\n\nFor service consistency and isolation a configuration file for private\ndevices and service slices have been added into the role. These options\nprovide for a consistent and isolated deployment no matter if it's in a\ncontainer or on baremetal.\n\nChange-Id: Iaf61081d14ef9fa43c72c08a65f6793261c4ef35\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 7, 'created': '2017-11-30 05:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/a4908e8e8786788332ed05bab3d747cabad33279', 'message': ""Tune-up the rabbitmq role for efficiency\n\nThe rabbitmq role has grown organically over the last few cycles. This\nchange cleans up the role and applies some of our more established\npatterns. This will allow the role to be more efficient.\n\nFor service consistency and isolation a configuration file for private\ndevices and service slices have been added into the role. These options\nprovide for a consistent and isolated deployment no matter if it's in a\ncontainer or on baremetal.\n\nChange-Id: Iaf61081d14ef9fa43c72c08a65f6793261c4ef35\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 8, 'created': '2017-11-30 06:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/95f1b1174027c45acff9d9a1a9a761aff83dec13', 'message': ""Tune-up the rabbitmq role for efficiency\n\nThe rabbitmq role has grown organically over the last few cycles. This\nchange cleans up the role and applies some of our more established\npatterns. This will allow the role to be more efficient.\n\nFor service consistency and isolation a configuration file for private\ndevices and service slices have been added into the role. These options\nprovide for a consistent and isolated deployment no matter if it's in a\ncontainer or on baremetal.\n\nChange-Id: Iaf61081d14ef9fa43c72c08a65f6793261c4ef35\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 9, 'created': '2017-11-30 07:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/02a1a61eec93a0cd8a94738674fccb45d8675827', 'message': ""Tune-up the rabbitmq role for efficiency\n\nThe rabbitmq role has grown organically over the last few cycles. This\nchange cleans up the role and applies some of our more established\npatterns. This will allow the role to be more efficient.\n\nFor service consistency and isolation a configuration file for private\ndevices and service slices have been added into the role. These options\nprovide for a consistent and isolated deployment no matter if it's in a\ncontainer or on baremetal.\n\nChange-Id: Iaf61081d14ef9fa43c72c08a65f6793261c4ef35\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 10, 'created': '2018-05-03 02:43:52.000000000', 'files': ['tasks/main.yml', 'tasks/rabbitmq_started.yml', 'templates/systemd.without-privatedevices.conf.j2', 'defaults/main.yml', 'tasks/rabbitmq_upgrade_prep.yml', 'templates/systemd.restart.conf.j2', 'tasks/rabbitmq_set_cookie.yml', 'tasks/rabbitmq_install_zypper.yml', 'templates/systemd.slice.conf.j2', 'tasks/rabbitmq_install.yml', 'tasks/rabbitmq_install_dnf.yml', 'tasks/rabbitmq_post_install.yml', 'tasks/install_dnf.yml', 'tasks/rabbitmq_install_apt.yml', 'handlers/main.yml', 'tasks/rabbitmq_install_yum.yml', 'tasks/rabbitmq_pre_install.yml', 'templates/systemd.limits.conf.j2', 'tests/test-install-previous-rabbitmq.yml', 'tasks/install_zypper.yml', 'tasks/rabbitmq_cluster.yml', 'tasks/rabbitmq_upgrade_check.yml', 'tasks/rabbitmq_restart.yml', 'tasks/rabbitmq_stopped.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/f4a943f39e6fd1f3c514bda973532c5d8c0ba925', 'message': ""Tune-up the rabbitmq role for efficiency\n\nThe rabbitmq role has grown organically over the last few cycles. This\nchange cleans up the role and applies some of our more established\npatterns. This will allow the role to be more efficient.\n\nFor service consistency and isolation a configuration file for private\ndevices and service slices have been added into the role. These options\nprovide for a consistent and isolated deployment no matter if it's in a\ncontainer or on baremetal.\n\nChange-Id: Iaf61081d14ef9fa43c72c08a65f6793261c4ef35\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}]",0,524028,f4a943f39e6fd1f3c514bda973532c5d8c0ba925,23,2,10,7353,,,0,"Tune-up the rabbitmq role for efficiency

The rabbitmq role has grown organically over the last few cycles. This
change cleans up the role and applies some of our more established
patterns. This will allow the role to be more efficient.

For service consistency and isolation a configuration file for private
devices and service slices have been added into the role. These options
provide for a consistent and isolated deployment no matter if it's in a
container or on baremetal.

Change-Id: Iaf61081d14ef9fa43c72c08a65f6793261c4ef35
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/28/524028/8 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/rabbitmq_started.yml', 'tasks/rabbitmq_install.yml', 'tasks/rabbitmq_install_dnf.yml', 'tasks/rabbitmq_post_install.yml', 'tasks/install_dnf.yml', 'tasks/rabbitmq_install_apt.yml', 'handlers/main.yml', 'tasks/rabbitmq_install_yum.yml', 'tasks/rabbitmq_pre_install.yml', 'tasks/rabbitmq_upgrade_prep.yml', 'tasks/rabbitmq_set_cookie.yml', 'tasks/install_zypper.yml', 'tasks/rabbitmq_cluster.yml', 'tasks/rabbitmq_upgrade_check.yml', 'tasks/rabbitmq_install_zypper.yml', 'tasks/rabbitmq_restart.yml', 'tasks/rabbitmq_stopped.yml']",18,75f7061cb6bad878e6d2bd180eb329004e967d4b,tune-up-rabbitmq,,"--- # Copyright 2014, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: ""Ensure RabbitMQ nodes [1:] are stopped"" service: name: rabbitmq-server state: stopped failed_when: false when: - ansible_hostname != rabbitmq_primary_cluster_node tags: - rabbitmq-server-stopped - rabbitmq-upgrade - rabbitmq-stop - name: ""Ensure RabbitMQ node [0] is stopped"" service: name: rabbitmq-server state: stopped failed_when: false when: - ansible_hostname == rabbitmq_primary_cluster_node tags: - rabbitmq-server-stopped - rabbitmq-upgrade - rabbitmq-stop ",269,467
openstack%2Fopenstack-ansible-tests~master~I0a83399ccf8d7a889e7dbebec4a5323c48ede537,openstack/openstack-ansible-tests,master,I0a83399ccf8d7a889e7dbebec4a5323c48ede537,Simplify the creation of test networks,ABANDONED,2018-03-01 17:17:49.000000000,2019-05-07 02:41:41.000000000,,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-01 17:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/8c18420fcd5806ae1dfc302ff83c3efdd995814f', 'message': 'Simplify the creation of test networks\n\nThis change modifies the test networks creation to be a simple service\nfile instead of unique system interface files.\n\nChange-Id: I0a83399ccf8d7a889e7dbebec4a5323c48ede537\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-03-01 18:17:30.000000000', 'files': ['network_interfaces/suse_interface_default.cfg.j2', 'network_interfaces/redhat_interface_alias.cfg.j2', 'test-prepare-host.yml', 'network_interfaces/rpm_interface_ifdown-post.cfg.j2', 'network_interfaces/rpm_interface_ifup-post.cfg.j2', 'network_interfaces/debian_interface_default.cfg.j2', 'templates/test-networks.service.j2', 'network_interfaces/redhat_interface_default.cfg.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/803a63634249d565d0d77b9fcb339a905572156b', 'message': 'Simplify the creation of test networks\n\nThis change modifies the test networks creation to be a simple service\nfile instead of unique system interface files.\n\nChange-Id: I0a83399ccf8d7a889e7dbebec4a5323c48ede537\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,549007,803a63634249d565d0d77b9fcb339a905572156b,7,2,2,7353,,,0,"Simplify the creation of test networks

This change modifies the test networks creation to be a simple service
file instead of unique system interface files.

Change-Id: I0a83399ccf8d7a889e7dbebec4a5323c48ede537
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/07/549007/2 && git format-patch -1 --stdout FETCH_HEAD,"['network_interfaces/suse_interface_default.cfg.j2', 'network_interfaces/redhat_interface_alias.cfg.j2', 'test-prepare-host.yml', 'network_interfaces/rpm_interface_ifdown-post.cfg.j2', 'network_interfaces/rpm_interface_ifup-post.cfg.j2', 'network_interfaces/debian_interface_default.cfg.j2', 'templates/test-networks.service.j2', 'network_interfaces/redhat_interface_default.cfg.j2']",8,8c18420fcd5806ae1dfc302ff83c3efdd995814f,,,"{% if item.veth_peer is defined %} # This interface has a veth peer {% endif %} DEVICE={{ item.name | default('br-mgmt') }} TYPE=Bridge IPADDR={{ item.ip_addr | default('10.1.0.1') }} NETMASK={{ item.netmask | default('255.255.255.0') }} ONBOOT=yes BOOTPROTO=none NM_CONTROLLED=no DELAY=0 ETHTOOL_OPTS=""-K ${DEVICE} sg off"" ",53,253
openstack%2Fopenstack-ansible-lxc_hosts~master~I5ab3f31be486b5a4a6311086cc39f5ff1c6ed964,openstack/openstack-ansible-lxc_hosts,master,I5ab3f31be486b5a4a6311086cc39f5ff1c6ed964,Convert systemd services to common role(s),ABANDONED,2018-03-19 04:08:06.000000000,2019-05-07 02:41:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-19 04:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/ea7a679b0a98ff0e8f7f158f4406efea9a5a7c55', 'message': 'Convert systemd services to common role(s)\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded. The exterior role is built to be OSA compatible and may be pulled\ninto tree should we deem it necessary.\n\nChange-Id: I5ab3f31be486b5a4a6311086cc39f5ff1c6ed964\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-03-19 04:23:17.000000000', 'files': ['templates/systemd-machined.service.j2', 'templates/lxc-net-suseredhat-postdown.cfg.j2', 'templates/lxc-dnsmasq-systemd-init.j2', 'handlers/main.yml', 'vars/ubuntu-16.04.yml', 'templates/lxc-net-redhat-bridge.cfg.j2', 'tasks/lxc_cache_preparation_systemd_old.yml', 'defaults/main.yml', 'templates/lxc-net-suse-routes.cfg.j2', 'templates/lxc-system-manage.j2', 'tests/ansible-role-requirements.yml', 'tasks/lxc_net.yml', 'templates/lxc-net-bridge.cfg.j2', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'templates/lxc-net-suse-bridge.cfg.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/6578f001aa2190b9be2d6207a0ec4ac87a4acabd', 'message': 'Convert systemd services to common role(s)\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded. The exterior role is built to be OSA compatible and may be pulled\ninto tree should we deem it necessary.\n\nChange-Id: I5ab3f31be486b5a4a6311086cc39f5ff1c6ed964\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,554119,6578f001aa2190b9be2d6207a0ec4ac87a4acabd,4,1,2,7353,,,0,"Convert systemd services to common role(s)

This removes the systemd service templates and tasks from this role and
leverages a common systemd service role instead. This change removes a
lot of code duplication across all roles all without sacrificing features
or functionality. The intention of this change is to ensure uniformity and
reduce the maintenance burden on the community when sweeping changes are
needed. The exterior role is built to be OSA compatible and may be pulled
into tree should we deem it necessary.

Change-Id: I5ab3f31be486b5a4a6311086cc39f5ff1c6ed964
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/19/554119/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/systemd-machined.service.j2', 'templates/lxc-net-suseredhat-postdown.cfg.j2', 'templates/lxc-dnsmasq-systemd-init.j2', 'handlers/main.yml', 'vars/ubuntu-16.04.yml', 'templates/lxc-net-redhat-bridge.cfg.j2', 'tasks/lxc_cache_preparation_systemd_old.yml', 'defaults/main.yml', 'templates/lxc-net-suse-routes.cfg.j2', 'templates/lxc-system-manage.j2', 'tests/ansible-role-requirements.yml', 'tasks/lxc_net.yml', 'templates/lxc-net-bridge.cfg.j2', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'templates/lxc-net-suse-bridge.cfg.j2']",16,ea7a679b0a98ff0e8f7f158f4406efea9a5a7c55,common-systemd-service,,"# {{ ansible_managed }} BRIDGE='yes' IPADDR={{ lxc_net_address }} NETMASK={{ lxc_net_netmask }} BOOTPROTO=static STARTMODE=auto BRIDGE_STP='off' # POST_UP script POST_UP_SCRIPT=""compat:suse:ifup-post-{{ lxc_net_bridge }}"" # POST_DOWN script POST_DOWN_SCRIPT=""compat:suse:ifdown-post-{{ lxc_net_bridge }}"" ",120,308
openstack%2Fopenstack-ansible~master~Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c,openstack/openstack-ansible,master,Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c,Modify LXC container create to JIT create,ABANDONED,2017-08-04 16:44:46.000000000,2019-05-07 02:40:32.000000000,,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 14805}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-08-04 16:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e59c27a40682d4fcf8bbbfea142836bd7eb0258f', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2017-08-04 17:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ad852cf07bd444509cec8af62d9a046d8a76354c', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2017-08-04 17:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c5f391663f8a734589481cae39c856e199cd4969', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2017-08-04 18:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5d152a898e36a0158a15ce0dbbbd016ad068b6b3', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2017-08-04 19:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3c305c2a939004668bcc5f30a150896f43ed4712', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2017-08-06 03:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/38a88d1496d06ee92d72362be5019bf1327e3f56', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 7, 'created': '2017-08-06 03:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/67d8d64fff41a534f2e62c48557c503173064d51', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 8, 'created': '2017-08-06 03:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3e7a6ec5c1c82a72c0656f523e6a1c83e8531496', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 9, 'created': '2017-08-06 03:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/165d1e8f568ceaf4e139ed1561d56edd09ff40d6', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 10, 'created': '2017-08-06 04:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d54863dfdbbc86fb51618cb565908f6c376dc6b0', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 11, 'created': '2017-08-06 05:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/30cd89d20dd6d4f543d3d38ef4ee46efe8b5c6c7', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 12, 'created': '2017-08-06 15:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9c27bce2429e1e2ca00249b3b279dcf92ef8ce3c', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 13, 'created': '2017-08-09 02:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e5680b0b7a6c83e6354d6b324cd2cb7b6bae4277', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 14, 'created': '2017-08-09 20:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f54c494944562f0bbe9627fbf63df47155b021c3', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 15, 'created': '2017-08-11 04:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3d80821bc9ef3c24f940a89fbb89bdbd09975870', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 16, 'created': '2017-08-14 05:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d5cd2378c6e9d01c19596e136c49e70959c1d5f9', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 17, 'created': '2017-08-15 01:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e148a66ee79dc5a0d65588d33032ca7825433d8e', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 18, 'created': '2017-08-15 04:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ec1d2724210638c9474263feea994abd82a5e7c9', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 19, 'created': '2017-08-15 15:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f6b77d52a4ff846e657a43376368df7f96ec167e', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 20, 'created': '2017-08-17 00:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a9277e57797a93dfc6a5f17467638906ac455050', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 21, 'created': '2017-08-17 06:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d953160420f12e97598e68e264d214264cab5c7e', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 22, 'created': '2017-08-22 15:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/76a4fb8f547cc4161ce6027d2345c59ce6444667', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 23, 'created': '2017-08-22 18:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2a3c910733e16587b1c045d2eb3400585a6bf7e1', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 24, 'created': '2017-10-27 02:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/29aae616f62a70561ac1230a9eaf3765d989e4aa', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 25, 'created': '2017-11-22 22:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c41ee17288ee0d4ead65c176fe406ce490387b5e', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 26, 'created': '2017-11-22 23:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dd6991bee08c48f1d36dc54c762b36e5d2c59d57', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 27, 'created': '2017-11-23 04:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6488d80d7bd0972d121cedc1c86ab714f36598e8', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nDepends-On: I6ef6e280e9697c45e428ec9dc519cfd0f82b651a\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 28, 'created': '2017-11-24 04:06:32.000000000', 'files': ['playbooks/rsyslog-install.yml', 'group_vars/rsyslog.yml', 'playbooks/rabbitmq-install.yml', 'scripts/gate-check-commit.sh', 'etc/openstack_deploy/user_variables.yml.prod.example', 'playbooks/common-playbooks/gather-container-groups.yml', 'playbooks/os-magnum-install.yml', 'playbooks/os-octavia-install.yml', 'playbooks/os-rally-install.yml', 'playbooks/setup-hosts.yml', 'playbooks/os-swift-install.yml', 'playbooks/ceph-install.yml', 'playbooks/os-sahara-install.yml', 'playbooks/os-horizon-install.yml', 'playbooks/os-trove-install.yml', 'etc/openstack_deploy/user_variables.yml.test.example', 'playbooks/os-tempest-install.yml', 'playbooks/common-playbooks/glance.yml', 'playbooks/os-cinder-install.yml', 'playbooks/utility-install.yml', 'playbooks/os-aodh-install.yml', 'playbooks/common-playbooks/nova.yml', 'playbooks/repo-server.yml', 'playbooks/galera-install.yml', 'playbooks/os-neutron-install.yml', 'group_vars/all/all.yml', 'playbooks/common-playbooks/neutron.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-heat-install.yml', 'playbooks/os-nova-install.yml', 'releasenotes/notes/remove-container-release-fa49ff23ca8c1324.yaml', 'playbooks/os-glance-install.yml', 'playbooks/os-molteniron-install.yml', 'playbooks/common-playbooks/cinder.yml', 'playbooks/common-playbooks/lxc-containers-create.yml', 'playbooks/os-ceilometer-install.yml', 'playbooks/memcached-install.yml', 'group_vars/repo_all.yml', 'playbooks/os-designate-install.yml', 'playbooks/etcd-install.yml', 'playbooks/os-keystone-install.yml', 'etc/openstack_deploy/user_variables.yml', 'playbooks/os-ironic-install.yml', 'playbooks/unbound-install.yml', 'playbooks/os-barbican-install.yml', 'playbooks/setup-openstack.yml', 'playbooks/haproxy-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/01a1cba8a01a3bd275bf04ffebd16ef8054cb570', 'message': 'Modify LXC container create to JIT create\n\nThe container builds with are now following a JIT pattern. This gives us\ngreater flexability and capabilities in terms of how we deploy the\ncontainers and how we build our environments. Each resouce requiring a\ncontainer will run the ""$TYPE-containers-create.yml"" playbook and only\nbuild the resources needed at runtime. This also ensures that\nconfiguration changes specific to a resouce are always applied to the\ncontainer and that any new containers needed throught the lifetime of a\ndeployment are automatically created.\n\nDepends-On: I6ef6e280e9697c45e428ec9dc519cfd0f82b651a\nChange-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",13,490976,01a1cba8a01a3bd275bf04ffebd16ef8054cb570,98,8,28,7353,,,0,"Modify LXC container create to JIT create

The container builds with are now following a JIT pattern. This gives us
greater flexability and capabilities in terms of how we deploy the
containers and how we build our environments. Each resouce requiring a
container will run the ""$TYPE-containers-create.yml"" playbook and only
build the resources needed at runtime. This also ensures that
configuration changes specific to a resouce are always applied to the
container and that any new containers needed throught the lifetime of a
deployment are automatically created.

Depends-On: I6ef6e280e9697c45e428ec9dc519cfd0f82b651a
Change-Id: Iaeab87b3451af8ceb60c4f8d6d32cfa9fb3f3d2c
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/76/490976/9 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/rsyslog-install.yml', 'group_vars/rsyslog.yml', 'playbooks/rabbitmq-install.yml', 'playbooks/common-playbooks/gather-container-groups.yml', 'playbooks/os-magnum-install.yml', 'playbooks/os-octavia-install.yml', 'playbooks/os-rally-install.yml', 'playbooks/setup-hosts.yml', 'playbooks/os-swift-install.yml', 'playbooks/ceph-install.yml', 'playbooks/os-sahara-install.yml', 'playbooks/os-horizon-install.yml', 'playbooks/os-trove-install.yml', 'playbooks/os-tempest-install.yml', 'playbooks/os-cinder-install.yml', 'playbooks/utility-install.yml', 'playbooks/os-aodh-install.yml', 'playbooks/repo-server.yml', 'playbooks/galera-install.yml', 'playbooks/os-neutron-install.yml', 'group_vars/all/all.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-heat-install.yml', 'playbooks/os-nova-install.yml', 'playbooks/os-glance-install.yml', 'playbooks/os-molteniron-install.yml', 'playbooks/common-playbooks/lxc-containers-create.yml', 'playbooks/os-ceilometer-install.yml', 'playbooks/memcached-install.yml', 'group_vars/repo_all.yml', 'playbooks/os-designate-install.yml', 'playbooks/etcd-install.yml', 'playbooks/os-keystone-install.yml', 'playbooks/os-ironic-install.yml', 'playbooks/unbound-install.yml', 'playbooks/os-barbican-install.yml', 'playbooks/haproxy-install.yml']",37,e59c27a40682d4fcf8bbbfea142836bd7eb0258f,nspawn-container-3,"- include: ""common-playbooks/{{ container_type }}-container-create.yml"" static: no vars: container_group: ""haproxy"" ", - include: common-tasks/os-lxc-container-setup.yml,259,97
openstack%2Fpython-tripleoclient~master~Iaeca19457d78f4f6c4b3bd8091194be31563e5e5,openstack/python-tripleoclient,master,Iaeca19457d78f4f6c4b3bd8091194be31563e5e5,First check ipv4 then ipv6 connectivity,MERGED,2019-03-13 07:33:34.000000000,2019-05-07 02:37:00.000000000,2019-03-18 14:43:36.000000000,"[{'_account_id': 2874}, {'_account_id': 6926}, {'_account_id': 11082}, {'_account_id': 12398}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-03-13 07:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d62c1f5cc7f04fbbaf5364868e69aa93fe38f162', 'message': 'First check ipv4 then ipv6 connectivity\n\nChange-Id: Iaeca19457d78f4f6c4b3bd8091194be31563e5e5\nCloses-Bug: #1819834\n'}, {'number': 2, 'created': '2019-03-13 07:35:06.000000000', 'files': ['tripleoclient/workflows/deployment.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4dcd8708819a1d3afe8ad43d6673d36c4254ae7a', 'message': 'First check ipv4 then ipv6 connectivity\n\nChange-Id: Iaeca19457d78f4f6c4b3bd8091194be31563e5e5\nCloses-Bug: #1819834\n'}]",0,642962,4dcd8708819a1d3afe8ad43d6673d36c4254ae7a,23,8,2,2874,,,0,"First check ipv4 then ipv6 connectivity

Change-Id: Iaeca19457d78f4f6c4b3bd8091194be31563e5e5
Closes-Bug: #1819834
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/62/642962/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/deployment.py'],1,d62c1f5cc7f04fbbaf5364868e69aa93fe38f162,bug/1819834," # first check in ipv4 then check in ipv6 try: socket.socket(socket.AF_INET6).connect((host, 22)) return except socket.error: pass", pass,6,2
openstack%2Fopenstack-ansible-os_horizon~master~Ie0f983193d181b8e5a6aff94cfdbbf4cf6200848,openstack/openstack-ansible-os_horizon,master,Ie0f983193d181b8e5a6aff94cfdbbf4cf6200848,Add developer panels to horizon,ABANDONED,2018-06-07 16:35:46.000000000,2019-05-07 02:30:12.000000000,,"[{'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-06-07 16:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/9fd57becd8c3a54da47140b73fea6f53a06b2390', 'message': 'Add developer panels to horizon\n\nThe developer panels can be enabled to provide users additional workflow\noptions and insight into their clouds. This change adds options to\nenable the developer panels and connect osprofiler to an elasticsearch\nbackend.\n\nChange-Id: Ie0f983193d181b8e5a6aff94cfdbbf4cf6200848\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-06-08 02:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/71d94ece191710e1cf417b3d8740432753aa3180', 'message': 'Add developer panels to horizon\n\nThe developer panels can be enabled to provide users additional workflow\noptions and insight into their clouds. This change adds options to\nenable the developer panels and connect osprofiler to an elasticsearch\nbackend.\n\nChange-Id: Ie0f983193d181b8e5a6aff94cfdbbf4cf6200848\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-06-08 13:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/d3183135a74f3a729628ab1ff93839f5ca938a46', 'message': 'Add developer panels to horizon\n\nThe developer panels can be enabled to provide users additional workflow\noptions and insight into their clouds. This change adds options to\nenable the developer panels and connect osprofiler to an elasticsearch\nbackend.\n\nChange-Id: Ie0f983193d181b8e5a6aff94cfdbbf4cf6200848\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-06-08 17:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/e43b2d5a6fffac151a957dc32a4b9eb57e2a6f2d', 'message': 'Add developer panels to horizon\n\nThe developer panels can be enabled to provide users additional workflow\noptions and insight into their clouds. This change adds options to\nenable the developer panels and connect osprofiler to an elasticsearch\nbackend.\n\nChange-Id: Ie0f983193d181b8e5a6aff94cfdbbf4cf6200848\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2018-06-08 18:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/4635eb57df0a50e4f2c7845042f2eb172a2a32df', 'message': 'Add developer panels to horizon\n\nThe developer panels can be enabled to provide users additional workflow\noptions and insight into their clouds. This change adds options to\nenable the developer panels and connect osprofiler to an elasticsearch\nbackend.\n\nChange-Id: Ie0f983193d181b8e5a6aff94cfdbbf4cf6200848\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2018-06-09 18:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/61062a85a77512148a5859d57f0e07120e980038', 'message': 'Add developer panels to horizon\n\nThe developer panels can be enabled to provide users additional workflow\noptions and insight into their clouds. This change adds options to\nenable the developer panels and connect osprofiler to an elasticsearch\nbackend.\n\nChange-Id: Ie0f983193d181b8e5a6aff94cfdbbf4cf6200848\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 7, 'created': '2018-06-21 09:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/e8801273be23bc56f4001e5d810fb29949a3608b', 'message': 'Add developer panels to horizon\n\nThe developer panels can be enabled to provide users additional workflow\noptions and insight into their clouds. This change adds options to\nenable the developer panels and connect osprofiler to an elasticsearch\nbackend.\n\nDepends-On: https://review.openstack.org/577113\nChange-Id: Ie0f983193d181b8e5a6aff94cfdbbf4cf6200848\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 8, 'created': '2018-06-21 11:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/23ab16a354ea7b4609e98dc8ac36ff088f78a652', 'message': 'Add developer panels to horizon\n\nThe developer panels can be enabled to provide users additional workflow\noptions and insight into their clouds. This change adds options to\nenable the developer panels and connect osprofiler to an elasticsearch\nbackend.\n\nDepends-On: https://review.openstack.org/#/c/574232\nDepends-On: https://review.openstack.org/#/c/577113\nChange-Id: Ie0f983193d181b8e5a6aff94cfdbbf4cf6200848\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 9, 'created': '2018-06-22 07:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/9cb84b41f2d642e3ec96d07de593165954e7b055', 'message': 'Add developer panels to horizon\n\nThe developer panels can be enabled to provide users additional workflow\noptions and insight into their clouds. This change adds options to\nenable the developer panels and connect osprofiler to an elasticsearch\nbackend.\n\nChange-Id: Ie0f983193d181b8e5a6aff94cfdbbf4cf6200848\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 10, 'created': '2018-06-25 21:52:39.000000000', 'files': ['templates/horizon_django.wsgi.j2', 'tasks/main.yml', 'defaults/main.yml', 'vars/main.yml', 'templates/horizon_local_settings.py.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/87db00eb589476e8c7514b70f4ddbf2626986a66', 'message': 'Add developer panels to horizon\n\nThe developer panels can be enabled to provide users additional workflow\noptions and insight into their clouds. This change adds options to\nenable the developer panels and connect osprofiler to an elasticsearch\nbackend.\n\nChange-Id: Ie0f983193d181b8e5a6aff94cfdbbf4cf6200848\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",7,573318,87db00eb589476e8c7514b70f4ddbf2626986a66,56,4,10,7353,,,0,"Add developer panels to horizon

The developer panels can be enabled to provide users additional workflow
options and insight into their clouds. This change adds options to
enable the developer panels and connect osprofiler to an elasticsearch
backend.

Change-Id: Ie0f983193d181b8e5a6aff94cfdbbf4cf6200848
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/18/573318/6 && git format-patch -1 --stdout FETCH_HEAD,"['templates/9030_profiler_settings.py.j2', 'defaults/main.yml', 'vars/main.yml', 'tasks/horizon_post_install.yml']",4,9fd57becd8c3a54da47140b73fea6f53a06b2390,osprofiler,"- name: Horizon developer block block: - name: Create horizon log dir file: path: ""{{ horizon_lib_dir }}/openstack_dashboard/local/local_settings.d"" state: directory owner: ""{{ horizon_system_user_name }}"" group: ""{{ horizon_system_group_name }}"" - name: Setup Horizon developer config(s) template: src: ""9030_profiler_settings.py.j2"" dest: ""{{ horizon_lib_dir }}/openstack_dashboard/local/local_settings.d/_9030_profiler_settings.py"" owner: ""{{ horizon_system_user_name }}"" group: ""{{ horizon_system_group_name }}"" notify: Restart apache2 when: - horizon_enable_developer_ui | bool ",,56,2
openstack%2Fopenstack-ansible-nspawn_hosts~master~If66dd93b75db667d92ddf711d14291480b9458ec,openstack/openstack-ansible-nspawn_hosts,master,If66dd93b75db667d92ddf711d14291480b9458ec,Add SUSE 15 to the nspawn hosts role,ABANDONED,2018-08-15 18:46:14.000000000,2019-05-07 02:28:46.000000000,,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-08-15 18:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/f962f6f371f1a61a2af3b93e14bf5c6cfe707ce2', 'message': 'Add SUSE 15 to the nspawn hosts role\n\nChange-Id: If66dd93b75db667d92ddf711d14291480b9458ec\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-08-15 19:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/37bb46eef79c472571864645303405d0f1297528', 'message': 'Add SUSE 15 to the nspawn hosts role\n\nChange-Id: If66dd93b75db667d92ddf711d14291480b9458ec\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-08-15 20:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/e645d33761bfec4752344ce03825b6e18310051a', 'message': 'Add SUSE 15 to the nspawn hosts role\n\nChange-Id: If66dd93b75db667d92ddf711d14291480b9458ec\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-08-16 18:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/0e5a69298c74e0bf47d7922a7fadf7d6cc56ce52', 'message': 'Add SUSE 15 to the nspawn hosts role\n\nChange-Id: If66dd93b75db667d92ddf711d14291480b9458ec\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2018-08-16 18:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/e55f91214454422d03b5056dd4c81e110fda279d', 'message': 'Add SUSE 15 to the nspawn hosts role\n\nChange-Id: If66dd93b75db667d92ddf711d14291480b9458ec\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2018-08-17 02:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/71af167f2a787e738541b9e5c88ec7b6a2128308', 'message': 'Add SUSE 15 to the nspawn hosts role\n\nChange-Id: If66dd93b75db667d92ddf711d14291480b9458ec\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 7, 'created': '2018-08-17 02:34:51.000000000', 'files': ['tasks/main.yml', 'vars/suse-15.yml', 'tasks/nspawn_cache_prestage.yml', 'vars/suse-42.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/8c40a863d1ab83dbecf1675af942a3013df052ee', 'message': 'Add SUSE 15 to the nspawn hosts role\n\nChange-Id: If66dd93b75db667d92ddf711d14291480b9458ec\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,592177,8c40a863d1ab83dbecf1675af942a3013df052ee,21,3,7,7353,,,0,"Add SUSE 15 to the nspawn hosts role

Change-Id: If66dd93b75db667d92ddf711d14291480b9458ec
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/77/592177/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/suse-15.yml', 'vars/suse-42.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",4,f962f6f371f1a61a2af3b93e14bf5c6cfe707ce2,, name: openstack-ansible-nspawn-container-create-opensuse-150 parent: openstack-ansible-nspawn-container-create nodeset: opensuse-150 voting: false - job:,,74,2
openstack%2Fopenstack-ansible-nspawn_hosts~master~I6455278efecaa7d8ad34886c3b0fc1f37f19873b,openstack/openstack-ansible-nspawn_hosts,master,I6455278efecaa7d8ad34886c3b0fc1f37f19873b,Further simplify the networking stack by eliminating veths,ABANDONED,2018-10-08 20:00:56.000000000,2019-05-07 02:28:38.000000000,,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-08 20:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/0bf1dc79a818fe394b0a3802cec53dc43612380c', 'message': 'Further simplify the networking stack by eliminating veths\n\nThe networking stack, in legacy mode, was building out links and veth\npairs to any networking device which has a ""bridge"" type. This change\neliminates all of that. With the introduction with `host_only` config,\nand host scopped addresses / routes the use of veth pairs is no longer\nrequired. The macvlan interface is now spawned off of any interface\npassed into config and no longer needs to use a special code path for\n""bridge"" devices.\n\nChange-Id: I6455278efecaa7d8ad34886c3b0fc1f37f19873b\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-10-09 18:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/faf9711dbf04810f6884a8ecf51ffa24480cbb6c', 'message': 'Further simplify the networking stack by eliminating veths\n\nThe networking stack, in legacy mode, was building out links and veth\npairs to any networking device which has a ""bridge"" type. This change\neliminates all of that. With the introduction with `host_only` config,\nand host scopped addresses / routes the use of veth pairs is no longer\nrequired. The macvlan interface is now spawned off of any interface\npassed into config and no longer needs to use a special code path for\n""bridge"" devices.\n\nDepends-On: I6455278efecaa7d8ad34886c3b0fc1f37f19873b\nChange-Id: I6455278efecaa7d8ad34886c3b0fc1f37f19873b\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-10-09 18:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/3e470cb9ddea3fb0b42ecd0ec36d4f120449bad5', 'message': 'Further simplify the networking stack by eliminating veths\n\nThe networking stack, in legacy mode, was building out links and veth\npairs to any networking device which has a ""bridge"" type. This change\neliminates all of that. With the introduction with `host_only` config,\nand host scopped addresses / routes the use of veth pairs is no longer\nrequired. The macvlan interface is now spawned off of any interface\npassed into config and no longer needs to use a special code path for\n""bridge"" devices.\n\nDepends-On: Id20afab8b705f6528ba5575ee4704c1661e6e65c\nChange-Id: I6455278efecaa7d8ad34886c3b0fc1f37f19873b\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-10-09 19:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/e64e1789610a892ad27323dc6aeadcef4de6f540', 'message': 'Further simplify the networking stack by eliminating veths\n\nThe networking stack, in legacy mode, was building out links and veth\npairs to any networking device which has a ""bridge"" type. This change\neliminates all of that. With the introduction with `host_only` config,\nand host scopped addresses / routes the use of veth pairs is no longer\nrequired. The macvlan interface is now spawned off of any interface\npassed into config and no longer needs to use a special code path for\n""bridge"" devices.\n\nChange-Id: I6455278efecaa7d8ad34886c3b0fc1f37f19873b\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2018-10-09 20:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/78cefe5cbafe475fbc78b3d38a7f01808a7d3e2f', 'message': 'Further simplify the networking stack by eliminating veths\n\nThe networking stack, in legacy mode, was building out links and veth\npairs to any networking device which has a ""bridge"" type. This change\neliminates all of that. With the introduction with `host_only` config,\nand host scopped addresses / routes the use of veth pairs is no longer\nrequired. The macvlan interface is now spawned off of any interface\npassed into config and no longer needs to use a special code path for\n""bridge"" devices.\n\nDepends-On: Id20afab8b705f6528ba5575ee4704c1661e6e65c\nChange-Id: I6455278efecaa7d8ad34886c3b0fc1f37f19873b\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2018-10-10 02:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/74c7e47178c165d0976ad4befcef7fde0d63a9a5', 'message': 'Further simplify the networking stack by eliminating veths\n\nThe networking stack, in legacy mode, was building out links and veth\npairs to any networking device which has a ""bridge"" type. This change\neliminates all of that. With the introduction with `host_only` config,\nand host scopped addresses / routes the use of veth pairs is no longer\nrequired. The macvlan interface is now spawned off of any interface\npassed into config and no longer needs to use a special code path for\n""bridge"" devices.\n\nDepends-On: Id20afab8b705f6528ba5575ee4704c1661e6e65c\nChange-Id: I6455278efecaa7d8ad34886c3b0fc1f37f19873b\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 7, 'created': '2018-12-18 10:23:26.000000000', 'files': ['tasks/nspawn_networking.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/38291957d0e7ccd5f4bf0db6936578ac806c78c0', 'message': 'Further simplify the networking stack by eliminating veths\n\nThe networking stack, in legacy mode, was building out links and veth\npairs to any networking device which has a ""bridge"" type. This change\neliminates all of that. With the introduction with `host_only` config,\nand host scopped addresses / routes the use of veth pairs is no longer\nrequired. The macvlan interface is now spawned off of any interface\npassed into config and no longer needs to use a special code path for\n""bridge"" devices.\n\nDepends-On: Id20afab8b705f6528ba5575ee4704c1661e6e65c\nChange-Id: I6455278efecaa7d8ad34886c3b0fc1f37f19873b\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,608759,38291957d0e7ccd5f4bf0db6936578ac806c78c0,20,3,7,7353,,,0,"Further simplify the networking stack by eliminating veths

The networking stack, in legacy mode, was building out links and veth
pairs to any networking device which has a ""bridge"" type. This change
eliminates all of that. With the introduction with `host_only` config,
and host scopped addresses / routes the use of veth pairs is no longer
required. The macvlan interface is now spawned off of any interface
passed into config and no longer needs to use a special code path for
""bridge"" devices.

Depends-On: Id20afab8b705f6528ba5575ee4704c1661e6e65c
Change-Id: I6455278efecaa7d8ad34886c3b0fc1f37f19873b
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/59/608759/4 && git format-patch -1 --stdout FETCH_HEAD,['tasks/nspawn_networking.yml'],1,0bf1dc79a818fe394b0a3802cec53dc43612380c,," {% set start_commands = [] %} {% set seen_start_interfaces = [] %} {% for key, value in nspawn_combined_networks.items() %} {% if value.interface is defined %} {% set interface = value.interface %} {% set mv_interface = value.interface %} {% else %} {% set interface = value.bridge.split('br-')[-1] %} {% set mv_interface = 'mv-' + interface %} {% endif %} {% if value.bridge not in seen_start_interfaces %} {% if value.private_device | default(false) | bool %} {% set _ = start_commands.append('-/sbin/ip link add dev ' + value.bridge + ' type dummy') %} {% set _ = start_commands.append('-/sbin/ip link set dev ' + value.bridge + ' up') %} {% endif %} {% set interface_from_ansible = 'ansible_' + value.bridge | replace('-', '_') %} {% set interface_data = hostvars[inventory_hostname][interface_from_ansible] | default({'type': none}) %} {% set _ = start_commands.append('-/sbin/ip link add ' + mv_interface + ' link ' + value.bridge + ' mtu ' ~ (interface_data[""mtu""] | default(1500)) ~ ' type macvlan mode ' + value.macvlan_mode | default(nspawn_macvlan_mode)) %} {% set _ = start_commands.append('-/sbin/ip link set dev ' + mv_interface + ' up') %} {% if hostvars[inventory_hostname][key.split('_')[0] + '_cidr'] is defined and (value.address is undefined) %} {% set net_cidr = hostvars[inventory_hostname][key.split('_')[0] + '_cidr'] %} {% set _ = start_commands.append('-/sbin/ip route add ' ~ net_cidr ~ ' dev ' ~ (value.routed_interface | default(nspawn_primary_interface)) ~ ' metric 100 proto kernel scope link table local') %} {% elif (value.address is defined) and ((interface_data['ipv4'] | default({'address': none}))['address'] != value.address) and ((value.host_only | default(false)) | bool) %} {% set net_cidr = (value.address ~ '/' ~ (value.netmask | default('32'))) %} {% set _ = start_commands.append('-/sbin/ip address add ' ~ net_cidr ~ ' dev ' ~ mv_interface ~ ' scope host noprefixroute') %} {% set _ = start_commands.append('-/sbin/ip route add ' ~ (net_cidr | ipaddr('network')) ~ '/' ~ (value.netmask | default('32')) ~ ' dev ' ~ mv_interface ~ ' metric 100 proto kernel scope link table local') %} {% endif %} {% endif %} {% endfor %}"," {%- set start_commands = [] %} {%- set seen_start_interfaces = [] %} {%- for key, value in nspawn_combined_networks.items() %} {%- if value.interface is defined %} {%- set interface = value.interface %} {%- set mv_interface = value.interface %} {%- else %} {%- set interface = value.bridge.split('br-')[-1] %} {%- set mv_interface = 'mv-' + interface %} {%- endif %} {%- if value.bridge not in seen_start_interfaces %} {%- if value.private_device | default(false) | bool %} {%- set _ = start_commands.append('-/sbin/ip link add dev ' + value.bridge + ' type dummy') %} {%- set _ = start_commands.append('-/sbin/ip link set dev ' + value.bridge + ' up') %} {%- endif %} {%- set interface_from_ansible = 'ansible_' + value.bridge | replace('-', '_') %} {%- set interface_data = hostvars[inventory_hostname][interface_from_ansible] | default({'type': none}) %} {%- if interface_data['type'] == 'bridge' %} {%- set _ = start_commands.append('-/sbin/ip link add dev veth-' + interface + '1 type veth peer name veth-' + interface + '2') %} {%- set _ = start_commands.append('-/sbin/ip link set dev veth-' + interface + '1 up') %} {%- set _ = start_commands.append('-/sbin/ip link set dev veth-' + interface + '1 mtu ' ~ (interface_data[""mtu""] | default(1500))) %} {%- set _ = start_commands.append('-/sbin/ip link set dev veth-' + interface + '2 up') %} {%- set _ = start_commands.append('-/sbin/ip link set dev veth-' + interface + '2 mtu ' ~ (interface_data[""mtu""] | default(1500))) %} {%- set _ = start_commands.append('-/sbin/ip link set dev veth-' + interface + '1 master ' + value.bridge) %} {%- set _ = start_commands.append('-/sbin/ip link add ' + mv_interface + ' link veth-' + interface + '2 mtu ' ~ (interface_data[""mtu""] | default(1500)) ~ ' type macvlan mode ' + value.macvlan_mode | default(nspawn_macvlan_mode)) %} {%- set _ = start_commands.append('-/sbin/ip link set dev ' + mv_interface + ' up') %} {%- else %} {%- set _ = start_commands.append('-/sbin/ip link add ' + mv_interface + ' link ' + value.bridge + ' mtu ' ~ (interface_data[""mtu""] | default(1500)) ~ ' type macvlan mode ' + value.macvlan_mode | default(nspawn_macvlan_mode)) %} {%- set _ = start_commands.append('-/sbin/ip link set dev ' + mv_interface + ' up') %} {% if hostvars[inventory_hostname][key.split('_')[0] + '_cidr'] is defined and (value.address is undefined) %} {% set net_cidr = hostvars[inventory_hostname][key.split('_')[0] + '_cidr'] %} {% set _ = start_commands.append('-/sbin/ip route add ' ~ net_cidr ~ ' dev ' ~ (value.routed_interface | default(nspawn_primary_interface)) ~ ' metric 100 proto kernel scope link table local') %} {% elif (value.address is defined) and ((interface_data['ipv4'] | default({'address': none}))['address'] != value.address) and ((value.host_only | default(false)) | bool) %} {% set net_cidr = (value.address ~ '/' ~ (value.netmask | default('32'))) %} {% set _ = start_commands.append('-/sbin/ip address add ' ~ net_cidr ~ ' dev ' ~ mv_interface ~ ' scope host noprefixroute') %} {% set _ = start_commands.append('-/sbin/ip route add ' ~ (net_cidr | ipaddr('network')) ~ '/' ~ (value.netmask | default('32')) ~ ' dev ' ~ mv_interface ~ ' metric 100 proto kernel scope link table local') %} {%- endif %} {%- endif %} {%- endif %} {%- endfor %}",29,40
openstack%2Fopenstack-ansible~master~I5de35ecf139d260558264c939209da5046c4d002,openstack/openstack-ansible,master,I5de35ecf139d260558264c939209da5046c4d002,Run gate playbooks in parallel,ABANDONED,2017-08-25 06:32:13.000000000,2019-05-07 02:27:56.000000000,,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-08-25 06:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bd1ec8176144a79ec75c9b87e0ff6b6a54cf84ea', 'message': '[WIP] Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2017-08-25 06:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1fd78fd1a1b7d15e7b242079a72f2d82756f7ecb', 'message': '[WIP] Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2017-08-25 07:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f5f4957f3cee6a9e1084c6768504c96312b799bf', 'message': '[WIP] Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2017-08-25 08:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ca7325204cb9ed0e85654bb681f619e584639afb', 'message': '[WIP] Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2017-08-25 15:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eb23cc022274003e32db745731d9455f5bf7d0c8', 'message': '[WIP] Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2017-08-25 17:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fdb05527012c4961a2a19b9611fdbe39a390b858', 'message': '[WIP] Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 7, 'created': '2017-08-25 17:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2c08ee10c9acded3aa8c7333edc39cd1c1c85048', 'message': '[WIP] Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 8, 'created': '2017-08-25 18:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/55839910d7b421e4cfdd3a88a0e3693af05277a8', 'message': '[WIP] Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 9, 'created': '2017-08-25 19:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8da62aea27229b60c52cd556ef7191cf713b4496', 'message': '[WIP] Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 10, 'created': '2017-08-25 19:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/09e6bb041af86b8ced640b6fcd77311746e6fea2', 'message': '[WIP] Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 11, 'created': '2017-08-25 21:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/436b219536d4ba0f79f22dd320b658013dc19331', 'message': '[WIP] Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 12, 'created': '2017-08-25 22:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f13e8465258b6007fd121e5fe556ff0c848ac603', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 13, 'created': '2017-08-26 00:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2233718e40ddbd956dbeff059a6e05913d2ac0ad', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 14, 'created': '2017-08-26 06:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8e2fc125c9e257234f0522c1cadbf02bc3754b2b', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 15, 'created': '2017-08-26 16:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5a2c177f359f28b6a6f98953f4801df784b25bf6', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 16, 'created': '2017-08-29 19:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4d130b3e372ef5b72935ea5397396ac4f5b43a51', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nTo enable the parallel execution of playbooks two new files have been\nadded.\n\n* The first is the bash entry point which will run the playbooks as\n  jobs using nothing more than the `openstack-ansible` command line\n  utility as a bash job.\n\n* The Second file is a python processing tool which will interpret the\n  yaml playbooks and scrape tags for the specific run level. If no run\n  level is provided as a tag the discovered playbooks will be marked\n  such that they are run serially.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 17, 'created': '2017-08-29 22:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/57b95ca1e2c0d59ab7bcf855aadfa5a2d804c404', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nTo enable the parallel execution of playbooks two new files have been\nadded.\n\n* The first is the bash entry point which will run the playbooks as\n  jobs using nothing more than the `openstack-ansible` command line\n  utility as a bash job.\n\n* The Second file is a python processing tool which will interpret the\n  yaml playbooks and scrape tags for the specific run level. If no run\n  level is provided as a tag the discovered playbooks will be marked\n  such that they are run serially.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 18, 'created': '2017-08-30 03:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ac4787ccf932182effec7b75977fb79573df8cc1', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nTo enable the parallel execution of playbooks two new files have been\nadded.\n\n* The first is the bash entry point which will run the playbooks as\n  jobs using nothing more than the `openstack-ansible` command line\n  utility as a bash job.\n\n* The Second file is a python processing tool which will interpret the\n  yaml playbooks and scrape tags for the specific run level. If no run\n  level is provided as a tag the discovered playbooks will be marked\n  such that they are run serially.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 19, 'created': '2017-08-30 13:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/031f2b5beae12510592be38d34489a05d3cf7acc', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nTo enable the parallel execution of playbooks two new files have been\nadded.\n\n* The first is the bash entry point which will run the playbooks as\n  jobs using nothing more than the `openstack-ansible` command line\n  utility as a bash job.\n\n* The Second file is a python processing tool which will interpret the\n  yaml playbooks and scrape tags for the specific run level. If no run\n  level is provided as a tag the discovered playbooks will be marked\n  such that they are run serially.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 20, 'created': '2017-09-01 04:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f3d937bec0e8b705ad54a0130dd799b6811155c5', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nTo enable the parallel execution of playbooks two new files have been\nadded.\n\n* The first is the bash entry point which will run the playbooks as\n  jobs using nothing more than the `openstack-ansible` command line\n  utility as a bash job.\n\n* The Second file is a python processing tool which will interpret the\n  yaml playbooks and scrape tags for the specific run level. If no run\n  level is provided as a tag the discovered playbooks will be marked\n  such that they are run serially.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 21, 'created': '2017-09-03 05:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5f3d94dc83aab8a1d61b996b79a043a673452837', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nTo enable the parallel execution of playbooks two new files have been\nadded.\n\n* The first is the bash entry point which will run the playbooks as\n  jobs using nothing more than the `openstack-ansible` command line\n  utility as a bash job.\n\n* The Second file is a python processing tool which will interpret the\n  yaml playbooks and scrape tags for the specific run level. If no run\n  level is provided as a tag the discovered playbooks will be marked\n  such that they are run serially.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 22, 'created': '2017-09-06 19:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f465218c9fc872517156fc28ada0ae7737788f31', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nTo enable the parallel execution of playbooks two new files have been\nadded.\n\n* The first is the bash entry point which will run the playbooks as\n  jobs using nothing more than the `openstack-ansible` command line\n  utility as a bash job.\n\n* The Second file is a python processing tool which will interpret the\n  yaml playbooks and scrape tags for the specific run level. If no run\n  level is provided as a tag the discovered playbooks will be marked\n  such that they are run serially.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 23, 'created': '2017-09-25 16:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/85c71a1f62d6524210066cecc7d6885d7a047eb3', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nTo enable the parallel execution of playbooks two new files have been\nadded.\n\n* The first is the bash entry point which will run the playbooks as\n  jobs using nothing more than the `openstack-ansible` command line\n  utility as a bash job.\n\n* The Second file is a python processing tool which will interpret the\n  yaml playbooks and scrape tags for the specific run level. If no run\n  level is provided as a tag the discovered playbooks will be marked\n  such that they are run serially.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 24, 'created': '2017-09-25 23:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0310825478d12e840b76da475d8e650a49e299d4', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nTo enable the parallel execution of playbooks two new files have been\nadded.\n\n* The first is the bash entry point which will run the playbooks as\n  jobs using nothing more than the `openstack-ansible` command line\n  utility as a bash job.\n\n* The Second file is a python processing tool which will interpret the\n  yaml playbooks and scrape tags for the specific run level. If no run\n  level is provided as a tag the discovered playbooks will be marked\n  such that they are run serially.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 25, 'created': '2017-10-27 00:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1c90e62ccff0481766367b90adb916b5472032b2', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nTo enable the parallel execution of playbooks two new files have been\nadded.\n\n* The first is the bash entry point which will run the playbooks as\n  jobs using nothing more than the `openstack-ansible` command line\n  utility as a bash job.\n\n* The Second file is a python processing tool which will interpret the\n  yaml playbooks and scrape tags for the specific run level. If no run\n  level is provided as a tag the discovered playbooks will be marked\n  such that they are run serially.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 26, 'created': '2017-10-27 15:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/31227690973f1a002a0de7d758c8590ccfcfcf92', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nTo enable the parallel execution of playbooks two new files have been\nadded.\n\n* The first is the bash entry point which will run the playbooks as\n  jobs using nothing more than the `openstack-ansible` command line\n  utility as a bash job.\n\n* The Second file is a python processing tool which will interpret the\n  yaml playbooks and scrape tags for the specific run level. If no run\n  level is provided as a tag the discovered playbooks will be marked\n  such that they are run serially.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 27, 'created': '2017-10-27 17:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/81251e3fcce2ac1aa75d57cdcfac5846d9434a44', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nTo enable the parallel execution of playbooks two new files have been\nadded.\n\n* The first is the bash entry point which will run the playbooks as\n  jobs using nothing more than the `openstack-ansible` command line\n  utility as a bash job.\n\n* The Second file is a python processing tool which will interpret the\n  yaml playbooks and scrape tags for the specific run level. If no run\n  level is provided as a tag the discovered playbooks will be marked\n  such that they are run serially.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 28, 'created': '2017-10-28 08:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/40933f997fda2357f1da75c414babf815c9527b2', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nTo enable the parallel execution of playbooks two new files have been\nadded.\n\n* The first is the bash entry point which will run the playbooks as\n  jobs using nothing more than the `openstack-ansible` command line\n  utility as a bash job.\n\n* The Second file is a python processing tool which will interpret the\n  yaml playbooks and scrape tags for the specific run level. If no run\n  level is provided as a tag the discovered playbooks will be marked\n  such that they are run serially.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 29, 'created': '2017-11-01 04:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/047cd90369aa85f4833f6e1c56602d758e7bcb63', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nTo enable the parallel execution of playbooks two new files have been\nadded.\n\n* The first is the bash entry point which will run the playbooks as\n  jobs using nothing more than the `openstack-ansible` command line\n  utility as a bash job.\n\n* The Second file is a python processing tool which will interpret the\n  yaml playbooks and scrape tags for the specific run level. If no run\n  level is provided as a tag the discovered playbooks will be marked\n  such that they are run serially.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 30, 'created': '2017-11-02 18:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a04f2f5d2804943ca9f53415a14b8a1ba4233975', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nTo enable the parallel execution of playbooks two new files have been\nadded.\n\n* The first is the bash entry point which will run the playbooks as\n  jobs using nothing more than the `openstack-ansible` command line\n  utility as a bash job.\n\n* The Second file is a python processing tool which will interpret the\n  yaml playbooks and scrape tags for the specific run level. If no run\n  level is provided as a tag the discovered playbooks will be marked\n  such that they are run serially.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 31, 'created': '2017-11-19 05:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/09a9504c3b9ac090b27e1cce6589899088082c68', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nTo enable the parallel execution of playbooks two new files have been\nadded.\n\n* The first is the bash entry point which will run the playbooks as\n  jobs using nothing more than the `openstack-ansible` command line\n  utility as a bash job.\n\n* The Second file is a python processing tool which will interpret the\n  yaml playbooks and scrape tags for the specific run level. If no run\n  level is provided as a tag the discovered playbooks will be marked\n  such that they are run serially.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 32, 'created': '2018-11-15 14:01:46.000000000', 'files': ['scripts/gate-check-commit.sh', 'playbooks/setup-hosts.yml', 'scripts/multi-runner.py', 'playbooks/setup-openstack.yml', 'playbooks/setup-infrastructure.yml', 'scripts/multi-runner.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/93544fa607de267d62e2333e5097d2a9d40778d3', 'message': 'Run gate playbooks in parallel\n\nThis PR intends to run all of the ""setup"" playbooks we use in the gate.\nThe execution will be kept in order by grouping different included\nplaybooks based on the run level however if a given playbook shares\na runlevel with another playbook they will be run together. This should\nspeed up our gate runtimes by effectively bringing async execution\nto top level playbooks.\n\nTo enable the parallel execution of playbooks two new files have been\nadded.\n\n* The first is the bash entry point which will run the playbooks as\n  jobs using nothing more than the `openstack-ansible` command line\n  utility as a bash job.\n\n* The Second file is a python processing tool which will interpret the\n  yaml playbooks and scrape tags for the specific run level. If no run\n  level is provided as a tag the discovered playbooks will be marked\n  such that they are run serially.\n\nChange-Id: I5de35ecf139d260558264c939209da5046c4d002\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",6,497742,93544fa607de267d62e2333e5097d2a9d40778d3,118,8,32,7353,,,0,"Run gate playbooks in parallel

This PR intends to run all of the ""setup"" playbooks we use in the gate.
The execution will be kept in order by grouping different included
playbooks based on the run level however if a given playbook shares
a runlevel with another playbook they will be run together. This should
speed up our gate runtimes by effectively bringing async execution
to top level playbooks.

To enable the parallel execution of playbooks two new files have been
added.

* The first is the bash entry point which will run the playbooks as
  jobs using nothing more than the `openstack-ansible` command line
  utility as a bash job.

* The Second file is a python processing tool which will interpret the
  yaml playbooks and scrape tags for the specific run level. If no run
  level is provided as a tag the discovered playbooks will be marked
  such that they are run serially.

Change-Id: I5de35ecf139d260558264c939209da5046c4d002
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/42/497742/32 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/gate-check-commit.sh', 'playbooks/setup-hosts.yml', 'playbooks/setup-openstack.yml', 'playbooks/setup-infrastructure.yml', 'scripts/multi-runner.sh']",5,bd1ec8176144a79ec75c9b87e0ff6b6a54cf84ea,gate-speed,"#!/usr/bin/env bash # Copyright 2014, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ## Shell Opts ---------------------------------------------------------------- set -eu ## Main ---------------------------------------------------------------------- function exit_fail { set +e ps auxf | awk '/ansible-runtime/ {print $2}' | xargs -n 1 kill -9 cat /var/log/multi-runner-playbook-*.log exit_task } function exit_task { rm /tmp/multi-runner.yaml rm multi-runner-playbook-*.yaml rm /var/log/multi-runner-playbook-*.log } function get_includes { /opt/ansible-runtime/bin/python <<EOC import yaml with open(""${1}"") as f: yaml_list = yaml.load(f.read()) return_data = dict() count = 0 for i in yaml_list: if 'vars' in i and 'Run' in i['vars']: run_level = i['vars']['Run'] else: run_level = count count += 1 if run_level not in return_data: return_data[run_level] = list() return_data[run_level].append([i]) with open('/tmp/multi-runner.yaml', 'w') as f: f.write(yaml.safe_dump(return_data, default_flow_style=False, width=1000)) EOC } function get_runlevels { /opt/ansible-runtime/bin/python <<EOC import yaml with open(""/tmp/multi-runner.yaml"") as f: print(' '.join([str(i) for i in sorted(yaml.load(f.read()).keys())])) EOC } function get_run_level_playbooks { /opt/ansible-runtime/bin/python <<EOC import yaml with open(""/tmp/multi-runner.yaml"") as f: playbooks = yaml.load(f.read()) count = 0 items = list() for playbook in playbooks[${1}]: count += 1 playbook_item = 'multi-runner-playbook-%s.yaml' % count with open(playbook_item, 'w') as f: item = '---\n' + yaml.safe_dump(playbook, default_flow_style=False, width=1000) f.write(item) items.append(playbook_item) print(' '.join(items)) EOC } trap ""exit_fail ${LINENO} $? 'Received STOP Signal'"" SIGHUP SIGINT SIGTERM trap ""exit_fail ${LINENO} $?"" ERR get_includes ""${1}"" for run_level in $(get_runlevels); do PID=() PLAYBOOKS=$(get_run_level_playbooks ${run_level}) # Run included playbooks for playbook in ${PLAYBOOKS}; do echo ""To follow playbook progress in realtime run: tail -f /var/log/${playbook}.log"" openstack-ansible ${playbook} $(echo $@ | sed ""s/${1}//g"") 2>&1 > /var/log/${playbook}.log & pid[${run_level}]=$! done # Wait for jobs to complete for job_pid in ${!pid[@]}; do wait ${pid[$job_pid]} || exit 99 done # Print the playbook stdout logs in the order of execution for playbook in ${PLAYBOOKS}; do cat /var/log/${playbook}.log done done exit_task ",,196,4
openstack%2Fdesignate-dashboard~master~I047c5374cb7224211683dd266e9a278a2a961f60,openstack/designate-dashboard,master,I047c5374cb7224211683dd266e9a278a2a961f60,Imported Translations from Zanata,MERGED,2019-05-06 08:10:06.000000000,2019-05-07 02:26:05.000000000,2019-05-07 02:26:04.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-05-06 08:10:06.000000000', 'files': ['designatedashboard/locale/ko_KR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/ff276852c6985910c4606e8eeb807328fd1f9126', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I047c5374cb7224211683dd266e9a278a2a961f60\n'}]",0,657336,ff276852c6985910c4606e8eeb807328fd1f9126,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I047c5374cb7224211683dd266e9a278a2a961f60
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/36/657336/1 && git format-patch -1 --stdout FETCH_HEAD,['designatedashboard/locale/ko_KR/LC_MESSAGES/django.po'],1,ff276852c6985910c4606e8eeb807328fd1f9126,zanata/translations,"# ByungYeol Woo <wby1089@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-05-02 19:16+0000\n""""PO-Revision-Date: 2019-05-01 10:51+0000\n"" ""Last-Translator: ByungYeol Woo <wby1089@gmail.com>\n""msgid """" ""<p> <strong>TTL</strong> The TTL is the time-to-live for the record, in "" ""seconds. </p> <p> See <a href=\""https://en.wikipedia.org/wiki/"" ""List_of_DNS_record_types\"" target=\""_designate_record_defs\"">more info</a> "" ""on record types. </p>"" msgstr """" ""<p> <strong>TTL</strong> TTL time-to-live    . "" ""</p> <p>    <a href=\""https://en.wikipedia.org/wiki/"" ""List_of_DNS_record_types\"" target=\""_designate_record_defs\""> </a> "" "" . </p>"" ","""POT-Creation-Date: 2019-01-14 09:00+0000\n""""PO-Revision-Date: 2018-03-13 01:48+0000\n"" ""Last-Translator: Ian Y. Choi <ianyrchoi@gmail.com>\n""",15,3
openstack%2Fsenlin~master~If7a9d2edf8b95ce8f153777a7240b8040c4bd484,openstack/senlin,master,If7a9d2edf8b95ce8f153777a7240b8040c4bd484,Allow updates to be issued to degraded LB,MERGED,2019-05-01 18:22:39.000000000,2019-05-07 02:18:52.000000000,2019-05-03 06:09:18.000000000,"[{'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 25138}, {'_account_id': 25674}, {'_account_id': 27224}, {'_account_id': 27488}, {'_account_id': 28691}]","[{'number': 1, 'created': '2019-05-01 18:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/124944b4f72b5d000017f4fe6aaa880f33dd23f7', 'message': 'Allow updates to be issued to degraded LB\n\nAn LB goes into DEGRADED status when some but not all of its members are\nin ERROR.\n\nUpdates should still be allowed in a DEGRADED state lest LB policy\nbecomes unable to operate on any partially operational cluster.\n\nChange-Id: If7a9d2edf8b95ce8f153777a7240b8040c4bd484\n'}, {'number': 2, 'created': '2019-05-02 22:13:59.000000000', 'files': ['senlin/drivers/os/lbaas.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/4764595ac7163cd6630d14ac1ff6612bd5ae7ffd', 'message': 'Allow updates to be issued to degraded LB\n\nAn LB goes into DEGRADED status when some but not all of its members are\nin ERROR.\n\nUpdates should still be allowed in a DEGRADED state lest LB policy\nbecomes unable to operate on any partially operational cluster.\n\nChange-Id: If7a9d2edf8b95ce8f153777a7240b8040c4bd484\n'}]",2,656687,4764595ac7163cd6630d14ac1ff6612bd5ae7ffd,21,8,2,25138,,,0,"Allow updates to be issued to degraded LB

An LB goes into DEGRADED status when some but not all of its members are
in ERROR.

Updates should still be allowed in a DEGRADED state lest LB policy
becomes unable to operate on any partially operational cluster.

Change-Id: If7a9d2edf8b95ce8f153777a7240b8040c4bd484
",git fetch https://review.opendev.org/openstack/senlin refs/changes/87/656687/2 && git format-patch -1 --stdout FETCH_HEAD,['senlin/drivers/os/lbaas.py'],1,124944b4f72b5d000017f4fe6aaa880f33dd23f7,lb-policy-fix," its operating_status is ONLINE or DEGRADED. (lb.operating_status in ('ONLINE', 'DEGRADED')))", its operating_status is ONLINE. (lb.operating_status == 'ONLINE')),2,2
openstack%2Fopenstack-ansible-ops~master~Ibd73e16001319fc0e6c6fe0085aa8890ace81e8b,openstack/openstack-ansible-ops,master,Ibd73e16001319fc0e6c6fe0085aa8890ace81e8b,Add pip overrides to basic bootstrap,ABANDONED,2019-04-01 22:56:53.000000000,2019-05-07 02:16:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-01 22:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/240496a84316bc862bd02693e1ace16cf7e35f2e', 'message': 'Add pip overrides to basic bootstrap\n\nThis change adds some basic overrides to the embedded ansible\nbootstrap process. This will allow deployers to setup pip\nenvironmental overrides as needed.\n\nChange-Id: Ibd73e16001319fc0e6c6fe0085aa8890ace81e8b\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 2, 'created': '2019-04-02 00:27:59.000000000', 'files': ['bootstrap-embedded-ansible/embedded-ansible-setup.yml', 'bootstrap-embedded-ansible/bootstrap-embedded-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/d098eb5fecefd59cd54f11643299e0522c5f62a6', 'message': 'Add pip overrides to basic bootstrap\n\nThis change adds some basic overrides to the embedded ansible\nbootstrap process. This will allow deployers to setup pip\nenvironmental overrides as needed.\n\nChange-Id: Ibd73e16001319fc0e6c6fe0085aa8890ace81e8b\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}]",0,649200,d098eb5fecefd59cd54f11643299e0522c5f62a6,5,1,2,7353,,,0,"Add pip overrides to basic bootstrap

This change adds some basic overrides to the embedded ansible
bootstrap process. This will allow deployers to setup pip
environmental overrides as needed.

Change-Id: Ibd73e16001319fc0e6c6fe0085aa8890ace81e8b
Signed-off-by: Kevin Carter <kevin@cloudnull.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/00/649200/2 && git format-patch -1 --stdout FETCH_HEAD,"['bootstrap-embedded-ansible/embedded-ansible-setup.yml', 'bootstrap-embedded-ansible/bootstrap-embedded-ansible.sh']",2,240496a84316bc862bd02693e1ace16cf7e35f2e,," eval ""${ANSIBLE_EMBED_HOME}/bin/pip install --upgrade --force pip ${PIP_INSTALL_OPTS:-''}""eval ""${ANSIBLE_EMBED_HOME}/bin/pip install --upgrade ansible=='${ANSIBLE_VERSION}' --isolated ${PIP_INSTALL_OPTS:-''}"""," eval ""${ANSIBLE_EMBED_HOME}/bin/pip install --upgrade --force pip""eval ""${ANSIBLE_EMBED_HOME}/bin/pip install --upgrade ansible=='${ANSIBLE_VERSION}' --isolated""",7,3
openstack%2Fopenstack-ansible~master~If2b6c574e10b68d743977a74725389e0bc4ea7d6,openstack/openstack-ansible,master,If2b6c574e10b68d743977a74725389e0bc4ea7d6,Convert git.openstack.org to opendev.org,ABANDONED,2019-03-08 15:09:11.000000000,2019-05-07 02:15:57.000000000,,"[{'_account_id': 17765}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-03-08 15:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4e6a35553c54f3a0243fccbee7ca48f495aa8303', 'message': 'Convert git.openstack.org to opendev.org\n\nFollowing the recent mailing list anouncement, all of the git repos\nwe use have been converted to the new domain.\n\nChange-Id: If2b6c574e10b68d743977a74725389e0bc4ea7d6\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 2, 'created': '2019-03-08 15:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d6df3b5ab2d839887641c7f5bcc1d8735987af59', 'message': 'Convert git.openstack.org to opendev.org\n\nFollowing the recent mailing list anouncement, all of the git repos\nwe use have been converted to the new domain.\n\nChange-Id: If2b6c574e10b68d743977a74725389e0bc4ea7d6\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 3, 'created': '2019-04-22 15:11:41.000000000', 'files': ['doc/source/contributor/testing.rst', 'doc/source/user/aio/quickstart.rst', 'doc/source/reference/configuration/extending-osa.rst', 'doc/source/locale/id/LC_MESSAGES/doc-admin.po', 'README.rst', 'doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po', 'releasenotes/notes/ceilometer_conf_from_upstream-3bc88e19085cdace.yaml', 'bindep.txt', 'doc/source/contributor/code-rules.rst', 'scripts/bootstrap-ansible.sh', 'playbooks/defaults/repo_packages/openstack_testing.yml', 'releasenotes/notes/gnocchi_upstream_file_retrieve-e2a056bfc532d761.yaml', 'doc/source/admin/scale-environment.rst', 'scripts/sources-branch-updater-lib.sh', 'playbooks/healthcheck-hosts.yml', 'ansible-role-requirements.yml', 'doc/source/contributor/contribute.rst', 'deploy-guide/source/deploymenthost.rst', 'playbooks/defaults/repo_packages/openstack_services.yml', 'run_tests.sh', 'doc/source/locale/de/LC_MESSAGES/doc-admin.po', 'scripts/scripts-library.sh', 'releasenotes/notes/ceilometer_upstream_file_retrieve-bbbf147cdeacb8f2.yaml', 'playbooks/defaults/healthchecks-vars.yml', 'tests/roles/bootstrap-host/templates/user_variables_barbican.yml.j2', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5e884bf08fde727c479e6ecc633d7d57ce114eed', 'message': 'Convert git.openstack.org to opendev.org\n\nFollowing the recent mailing list anouncement, all of the git repos\nwe use have been converted to the new domain.\n\nChange-Id: If2b6c574e10b68d743977a74725389e0bc4ea7d6\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}]",0,642049,5e884bf08fde727c479e6ecc633d7d57ce114eed,13,4,3,7353,,,0,"Convert git.openstack.org to opendev.org

Following the recent mailing list anouncement, all of the git repos
we use have been converted to the new domain.

Change-Id: If2b6c574e10b68d743977a74725389e0bc4ea7d6
Signed-off-by: Kevin Carter <kevin@cloudnull.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/49/642049/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testing.rst', 'doc/source/user/aio/quickstart.rst', 'doc/source/reference/configuration/extending-osa.rst', 'doc/source/locale/id/LC_MESSAGES/doc-admin.po', 'README.rst', 'tests/bootstrap-aio.yml', 'doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po', 'releasenotes/notes/ceilometer_conf_from_upstream-3bc88e19085cdace.yaml', 'bindep.txt', 'doc/source/contributor/code-rules.rst', 'scripts/bootstrap-ansible.sh', 'playbooks/common-tasks/set-pip-vars.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml', 'releasenotes/notes/gnocchi_upstream_file_retrieve-e2a056bfc532d761.yaml', 'zuul.d/playbooks/post.yml', 'doc/source/admin/scale-environment.rst', 'scripts/sources-branch-updater-lib.sh', 'zuul.d/playbooks/run.yml', 'playbooks/healthcheck-hosts.yml', 'ansible-role-requirements.yml', 'doc/source/contributor/contribute.rst', 'deploy-guide/source/deploymenthost.rst', 'playbooks/defaults/repo_packages/openstack_services.yml', 'run_tests.sh', 'doc/source/locale/de/LC_MESSAGES/doc-admin.po', 'scripts/scripts-library.sh', 'releasenotes/notes/ceilometer_upstream_file_retrieve-bbbf147cdeacb8f2.yaml', 'playbooks/defaults/healthchecks-vars.yml', 'tests/roles/bootstrap-host/templates/user_variables_barbican.yml.j2', 'tox.ini', 'releasenotes/source/conf.py']",31,4e6a35553c54f3a0243fccbee7ca48f495aa8303,," ""https://opendev.org/openstack/{}"".format(target_name)"," ""https://git.openstack.org/cgit/openstack/{}"".format(target_name)",145,145
openstack%2Fsearchlight~master~I881dd037494ffe5e82a7e086337775933641dd4e,openstack/searchlight,master,I881dd037494ffe5e82a7e086337775933641dd4e,[Trivial fix]Remove unnecessary slash,MERGED,2019-05-06 09:41:21.000000000,2019-05-07 02:15:35.000000000,2019-05-07 02:15:35.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-05-06 09:41:21.000000000', 'files': ['searchlight/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/de09b7f40d7174c74da8374f7454e725cb524174', 'message': ""[Trivial fix]Remove unnecessary slash\n\nThis is to remove the unncessary slash when the line doesn't\nexceed the length of 79, to make the code more readable.\n\nChange-Id: I881dd037494ffe5e82a7e086337775933641dd4e\n""}]",0,657363,de09b7f40d7174c74da8374f7454e725cb524174,6,2,1,20190,,,0,"[Trivial fix]Remove unnecessary slash

This is to remove the unncessary slash when the line doesn't
exceed the length of 79, to make the code more readable.

Change-Id: I881dd037494ffe5e82a7e086337775933641dd4e
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/63/657363/1 && git format-patch -1 --stdout FETCH_HEAD,['searchlight/cmd/manage.py'],1,de09b7f40d7174c74da8374f7454e725cb524174,slash, alias_search = [a for a in resource_groups if a[0] == group][0][1], alias_search = \ [a for a in resource_groups if a[0] == group][0][1],1,2
openstack%2Fsearchlight~master~I5f2e98b59126e3e6758e5c1847f55d67fa82c039,openstack/searchlight,master,I5f2e98b59126e3e6758e5c1847f55d67fa82c039,Do not use self in classmethod,MERGED,2019-05-05 03:44:06.000000000,2019-05-07 02:15:35.000000000,2019-05-07 02:15:34.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-05-05 03:44:06.000000000', 'files': ['searchlight/elasticsearch/plugins/ironic/nodes.py', 'searchlight/elasticsearch/plugins/nova/servergroups.py', 'searchlight/elasticsearch/plugins/neutron/security_groups.py', 'searchlight/elasticsearch/plugins/designate/recordsets.py', 'searchlight/elasticsearch/plugins/nova/flavors.py', 'searchlight/elasticsearch/plugins/nova/hypervisors.py', 'searchlight/elasticsearch/plugins/nova/servers.py', 'searchlight/elasticsearch/plugins/neutron/ports.py', 'searchlight/elasticsearch/plugins/neutron/networks.py', 'searchlight/elasticsearch/plugins/cinder/snapshots.py', 'searchlight/elasticsearch/plugins/cinder/volumes.py', 'searchlight/elasticsearch/plugins/neutron/subnets.py', 'searchlight/elasticsearch/plugins/neutron/routers.py', 'searchlight/elasticsearch/plugins/ironic/chassis.py', 'searchlight/elasticsearch/plugins/ironic/ports.py'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/93c611fd3e425585d3182d9ddffb7f2890311def', 'message': 'Do not use self in classmethod\n\ncls should be used in classmethd, instead of self.\nThis patch corrects this in the following places:\n    - searchlight/elasticsearch/plugins/cinder/snapshots.py\n    - searchlight/elasticsearch/plugins/cinder/volumes.py\n    - searchlight/elasticsearch/plugins/designate/recordsets.py\n    - searchlight/elasticsearch/plugins/ironic/chassis.py\n    - searchlight/elasticsearch/plugins/ironic/nodes.py\n    - searchlight/elasticsearch/plugins/ironic/ports.py\n    - searchlight/elasticsearch/plugins/neutron/networks.py\n    - searchlight/elasticsearch/plugins/neutron/ports.py\n    - searchlight/elasticsearch/plugins/neutron/routers.py\n    - searchlight/elasticsearch/plugins/neutron/security_groups.py\n    - searchlight/elasticsearch/plugins/neutron/subnets.py\n    - searchlight/elasticsearch/plugins/nova/flavors.py\n    - searchlight/elasticsearch/plugins/nova/hypervisors.py\n    - searchlight/elasticsearch/plugins/nova/servergroups.py\n    - searchlight/elasticsearch/plugins/nova/servers.py\n\nChange-Id: I5f2e98b59126e3e6758e5c1847f55d67fa82c039\n'}]",0,657193,93c611fd3e425585d3182d9ddffb7f2890311def,6,2,1,20190,,,0,"Do not use self in classmethod

cls should be used in classmethd, instead of self.
This patch corrects this in the following places:
    - searchlight/elasticsearch/plugins/cinder/snapshots.py
    - searchlight/elasticsearch/plugins/cinder/volumes.py
    - searchlight/elasticsearch/plugins/designate/recordsets.py
    - searchlight/elasticsearch/plugins/ironic/chassis.py
    - searchlight/elasticsearch/plugins/ironic/nodes.py
    - searchlight/elasticsearch/plugins/ironic/ports.py
    - searchlight/elasticsearch/plugins/neutron/networks.py
    - searchlight/elasticsearch/plugins/neutron/ports.py
    - searchlight/elasticsearch/plugins/neutron/routers.py
    - searchlight/elasticsearch/plugins/neutron/security_groups.py
    - searchlight/elasticsearch/plugins/neutron/subnets.py
    - searchlight/elasticsearch/plugins/nova/flavors.py
    - searchlight/elasticsearch/plugins/nova/hypervisors.py
    - searchlight/elasticsearch/plugins/nova/servergroups.py
    - searchlight/elasticsearch/plugins/nova/servers.py

Change-Id: I5f2e98b59126e3e6758e5c1847f55d67fa82c039
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/93/657193/1 && git format-patch -1 --stdout FETCH_HEAD,"['searchlight/elasticsearch/plugins/ironic/nodes.py', 'searchlight/elasticsearch/plugins/nova/servergroups.py', 'searchlight/elasticsearch/plugins/neutron/security_groups.py', 'searchlight/elasticsearch/plugins/designate/recordsets.py', 'searchlight/elasticsearch/plugins/nova/flavors.py', 'searchlight/elasticsearch/plugins/nova/hypervisors.py', 'searchlight/elasticsearch/plugins/nova/servers.py', 'searchlight/elasticsearch/plugins/neutron/ports.py', 'searchlight/elasticsearch/plugins/neutron/networks.py', 'searchlight/elasticsearch/plugins/cinder/snapshots.py', 'searchlight/elasticsearch/plugins/cinder/volumes.py', 'searchlight/elasticsearch/plugins/neutron/subnets.py', 'searchlight/elasticsearch/plugins/neutron/routers.py', 'searchlight/elasticsearch/plugins/ironic/chassis.py', 'searchlight/elasticsearch/plugins/ironic/ports.py']",15,93c611fd3e425585d3182d9ddffb7f2890311def,self_cls, def get_document_type(cls):, def get_document_type(self):,15,15
openstack%2Fopenstack-helm-addons~master~I029de49bbef2f66c4fd3b67ad73d2ae1f243e38b,openstack/openstack-helm-addons,master,I029de49bbef2f66c4fd3b67ad73d2ae1f243e38b,Stop all ranger processes in container on invocation of stop,MERGED,2019-05-03 18:07:15.000000000,2019-05-07 01:55:48.000000000,2019-05-07 01:55:48.000000000,"[{'_account_id': 7769}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21111}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24999}, {'_account_id': 28701}]","[{'number': 1, 'created': '2019-05-03 18:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/024ec7eedb782ad7257113edac215676afbd25db', 'message': 'Stop all ranger processes in container on invocation of stop\n\nChange-Id: I029de49bbef2f66c4fd3b67ad73d2ae1f243e38b\n'}, {'number': 2, 'created': '2019-05-03 22:06:42.000000000', 'files': ['ranger/templates/bin/_ranger-services.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/144c4f62e9bf842cf732edae63e97eccbb6da11e', 'message': 'Stop all ranger processes in container on invocation of stop\n\nChange-Id: I029de49bbef2f66c4fd3b67ad73d2ae1f243e38b\n'}]",0,657000,144c4f62e9bf842cf732edae63e97eccbb6da11e,15,11,2,24999,,,0,"Stop all ranger processes in container on invocation of stop

Change-Id: I029de49bbef2f66c4fd3b67ad73d2ae1f243e38b
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/00/657000/2 && git format-patch -1 --stdout FETCH_HEAD,['ranger/templates/bin/_ranger-services.sh.tpl'],1,024ec7eedb782ad7257113edac215676afbd25db,," for process in $(ps aux|awk '$11~""/usr/bin/python"" {print $2}'); do kill -TERM $process done", kill -TERM 1,3,1
openstack%2Fmagnum-ui~master~I1f9c8b580b6047599d0d5041ca636c6284d907d1,openstack/magnum-ui,master,I1f9c8b580b6047599d0d5041ca636c6284d907d1,Changes for url transition to OpenDev,MERGED,2019-04-23 06:05:58.000000000,2019-05-07 01:28:50.000000000,2019-05-07 01:28:49.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-04-23 06:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/565cfa7bc7e2068dc5dc1ffabc4eac5b9c8cfc42', 'message': 'Changes for url transition to OpenDev\n\nThis commit changes openstack.org URL to opendev.org URL\nas discussed here [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003603.html\n\nChange-Id: I1f9c8b580b6047599d0d5041ca636c6284d907d1\n'}, {'number': 2, 'created': '2019-04-25 02:42:24.000000000', 'files': ['doc/source/index.rst', 'releasenotes/notes/ocata-summary-a717111a782c7a68.yaml', 'README.rst', 'package.json', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/ec51d614522928125e57404b76513373d7f2e647', 'message': 'Changes for url transition to OpenDev\n\nThis commit changes openstack.org URL to opendev.org URL\nas discussed here [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003603.html\n\nChange-Id: I1f9c8b580b6047599d0d5041ca636c6284d907d1\n'}]",0,654791,ec51d614522928125e57404b76513373d7f2e647,10,3,2,29313,,,0,"Changes for url transition to OpenDev

This commit changes openstack.org URL to opendev.org URL
as discussed here [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003603.html

Change-Id: I1f9c8b580b6047599d0d5041ca636c6284d907d1
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/91/654791/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/notes/ocata-summary-a717111a782c7a68.yaml', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'README.rst', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po', 'doc/source/index.rst', 'releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po', 'package.json', 'tox.ini']",12,565cfa7bc7e2068dc5dc1ffabc4eac5b9c8cfc42,654791, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},110,110
openstack%2Fmagnum-ui~master~I6973f98b3c41466505d66befe52efa09755a418b,openstack/magnum-ui,master,I6973f98b3c41466505d66befe52efa09755a418b,Imported Translations from Zanata,MERGED,2019-05-06 07:59:37.000000000,2019-05-07 00:45:16.000000000,2019-05-07 00:45:16.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 07:59:37.000000000', 'files': ['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/dadc25913bb2d741d4fa1c6bca312bb1023870b5', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6973f98b3c41466505d66befe52efa09755a418b\n'}]",0,657333,dadc25913bb2d741d4fa1c6bca312bb1023870b5,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6973f98b3c41466505d66befe52efa09755a418b
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/33/657333/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po']",3,dadc25913bb2d741d4fa1c6bca312bb1023870b5,zanata/translations,"# Robert Simai <robert.simai@suse.com>, 2019. #zanata""POT-Creation-Date: 2019-04-15 07:55+0000\n""""PO-Revision-Date: 2019-05-03 02:15+0000\n""msgid ""5.1.0"" msgstr ""5.1.0"" msgid ""API address"" msgstr ""API Addresse"" msgid ""COE Version"" msgstr ""COE Version"" msgid ""Container Version"" msgstr ""Container Version"" msgid ""Docker Volume Size"" msgstr ""Docker Datentrgergrsse"" msgid ""Keypair"" msgstr ""Schlsselpaar"" msgid ""Labels"" msgstr ""Bezeichnungen"" msgid ""Master Addresses"" msgstr ""Masteradressen"" msgid ""Master Flavor ID"" msgstr ""Master Variante ID"" msgid ""Stack Faults"" msgstr ""Stapelfehler"" msgid ""Status Reason"" msgstr ""Status Grund"" msgid ""Stein Series Release Notes"" msgstr ""Stein Serie Releasenotes"" ","""POT-Creation-Date: 2018-09-18 03:13+0000\n""""PO-Revision-Date: 2018-09-17 01:14+0000\n""",130,8
openstack%2Fsenlin-dashboard~master~I79e2244f0e15c4100627f87a628963aac55429f0,openstack/senlin-dashboard,master,I79e2244f0e15c4100627f87a628963aac55429f0,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 03:06:58.000000000,2019-05-07 00:41:48.000000000,2019-05-07 00:41:48.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-23 03:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/2be67c5631f1b4b076732afbbc521fa140640204', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I79e2244f0e15c4100627f87a628963aac55429f0\n'}, {'number': 2, 'created': '2019-04-23 03:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/2e901f370acd5d98bbf9a5f36817eea36c48559a', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I79e2244f0e15c4100627f87a628963aac55429f0\n'}, {'number': 3, 'created': '2019-05-05 05:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/3a9ca53a3fb14f2f8bdf4bdaa997bdc8f73ca0b6', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I79e2244f0e15c4100627f87a628963aac55429f0\n'}, {'number': 4, 'created': '2019-05-05 05:19:54.000000000', 'files': ['README.rst', 'package.json', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/e0a28bc3e33d4c43ed57efe5e6a92093d2959abb', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I79e2244f0e15c4100627f87a628963aac55429f0\n'}]",2,654685,e0a28bc3e33d4c43ed57efe5e6a92093d2959abb,13,4,4,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I79e2244f0e15c4100627f87a628963aac55429f0
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/85/654685/4 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'package.json', 'tox.ini']",3,2be67c5631f1b4b076732afbbc521fa140640204,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},4,4
openstack%2Fzaqar-ui~master~Ie01b387241b8def1c4adac21354cf440acf4a1c9,openstack/zaqar-ui,master,Ie01b387241b8def1c4adac21354cf440acf4a1c9,Imported Translations from Zanata,MERGED,2019-05-02 07:10:33.000000000,2019-05-07 00:39:52.000000000,2019-05-07 00:39:51.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 07:10:33.000000000', 'files': ['zaqar_ui/locale/ko_KR/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/472d462c9030bf204fb11c67456f9651c44d4270', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie01b387241b8def1c4adac21354cf440acf4a1c9\n'}]",0,656740,472d462c9030bf204fb11c67456f9651c44d4270,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie01b387241b8def1c4adac21354cf440acf4a1c9
",git fetch https://review.opendev.org/openstack/zaqar-ui refs/changes/40/656740/1 && git format-patch -1 --stdout FETCH_HEAD,['zaqar_ui/locale/ko_KR/LC_MESSAGES/djangojs.po'],1,472d462c9030bf204fb11c67456f9651c44d4270,zanata/translations,"# ByungYeol Woo <wby1089@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-04-25 01:55+0000\n""""PO-Revision-Date: 2019-05-01 10:52+0000\n"" ""Last-Translator: ByungYeol Woo <wby1089@gmail.com>\n""msgstr ""Flavor   .""msgstr ""Flavor   .""","""POT-Creation-Date: 2018-02-19 00:40+0000\n""""PO-Revision-Date: 2017-08-28 02:15+0000\n"" ""Last-Translator: minwook-shin <minwook0106@gmail.com>\n""msgstr ""Flavor  .""msgstr ""Flavor  .""",6,5
openstack%2Fpython-ironicclient~master~I1aa27a4ce727b4328a42ca2c3f56fc3ba94299d2,openstack/python-ironicclient,master,I1aa27a4ce727b4328a42ca2c3f56fc3ba94299d2,"""openstack baremetal node show"" doesn't support blank separated fields",ABANDONED,2018-09-19 07:57:10.000000000,2019-05-07 00:30:27.000000000,,"[{'_account_id': 13689}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 25284}]","[{'number': 1, 'created': '2018-09-19 07:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/1a6a63d26113b415215962fc5eb7a065d2eb541c', 'message': '""openstack baremetal node show"" doesn\'t support blank separated fields\n\nChange-Id: I1aa27a4ce727b4328a42ca2c3f56fc3ba94299d2\nStory: #2003807\nTask: #26551\n'}, {'number': 2, 'created': '2018-09-19 09:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/b94623680ad42f891b200c57c3e47ab4973b9336', 'message': '""openstack baremetal node show"" doesn\'t support blank separated fields\n\nChange-Id: I1aa27a4ce727b4328a42ca2c3f56fc3ba94299d2\nStory: #2003807\nTask: #26551\n'}, {'number': 3, 'created': '2018-09-27 07:06:36.000000000', 'files': ['ironicclient/osc/v1/baremetal_node.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/bdfba2f808d18bf194dcd7945c39b207c1b04a02', 'message': '""openstack baremetal node show"" doesn\'t support blank separated fields\n\nChange-Id: I1aa27a4ce727b4328a42ca2c3f56fc3ba94299d2\nStory: #2003807\nTask: #26551\n'}]",1,603582,bdfba2f808d18bf194dcd7945c39b207c1b04a02,13,4,3,25284,,,0,"""openstack baremetal node show"" doesn't support blank separated fields

Change-Id: I1aa27a4ce727b4328a42ca2c3f56fc3ba94299d2
Story: #2003807
Task: #26551
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/82/603582/1 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/osc/v1/baremetal_node.py'],1,1a6a63d26113b415215962fc5eb7a065d2eb541c,story-2003807," nargs=1,"," nargs='+',",1,1
openstack%2Fnova~master~Ie07eb67f90ae0ec5701a04820967d789be5292b4,openstack/nova,master,Ie07eb67f90ae0ec5701a04820967d789be5292b4,Delete allocations for instances that is not in this node,ABANDONED,2018-07-16 09:15:19.000000000,2019-05-07 00:30:16.000000000,,"[{'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25284}, {'_account_id': 25562}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-16 09:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b946119603d88bf9315079c6150be4a03c668073', 'message': 'Delete allocations when it is re-allocated\n\nIf instance has been moved to another host, delete allocations that remained for this instance against this compute host\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 2, 'created': '2018-07-18 04:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6b0fdb3830d6e86a435d102946e6f06b7701506', 'message': 'Delete allocations when it is re-allocated\n\nIf instance has been moved to another host, delete allocations that\nremained for this instance against this compute host\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 3, 'created': '2018-07-18 06:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27207b22e4763ae5b6dd5f47f3a4dd7075cd23f5', 'message': 'Delete allocations when it is re-allocated\n\nIf instance has been moved to another host, delete allocations that\nremained for this instance against this compute host\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 4, 'created': '2018-07-19 02:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9955e92d1123c84b86df5cd11f997d1ffa1bb6c7', 'message': 'Delete allocations when it is re-allocated\n\nIf instance has been moved to another host, delete allocations that\nremained for this instance against this compute host\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 5, 'created': '2018-07-19 05:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/73d429fc563ea6b7e4905d842e29c35b15c819a2', 'message': 'Delete allocations when it is re-allocated\n\nIf instance has been moved to another host, delete allocations that\nremained for this instance against this compute host\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 6, 'created': '2018-07-19 08:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4722023ff35f0765560708f0e89760ffe6b66a1', 'message': 'Delete allocations when it is re-allocated\n\nIf instance has been moved to another host, delete allocations that\nremained for this instance against this compute host\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 7, 'created': '2018-07-20 02:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd526972a4459dbafea6dbb5dbd9cb4af0f579d6', 'message': 'Delete allocations when it is re-allocated\n\nIf instance has been moved to another host, delete allocations that\nremained for this instance against this compute host\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 8, 'created': '2018-07-20 05:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1bcea5b887c02e1d0b850fd4e1aa82aa5e0021a9', 'message': 'Delete allocations when it is re-allocated\n\nIf instance has been moved to another host, delete allocations that\nremained for this instance against this compute host\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 9, 'created': '2018-07-23 00:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2864359164232cc3978982890f66b9d16d83530d', 'message': 'Delete allocations when it is re-allocated\n\nIf instance has been moved to another host, delete allocations that\nremained for this instance against this compute host\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 10, 'created': '2018-09-04 08:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2cbfeb0809ac53ecf1cdf4fafb8bd5a8900f74ed', 'message': 'Delete allocations for instances that have been moved to another node\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 11, 'created': '2018-09-04 08:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84e44f7fe38a10c788dbfc363b531753eb4d7a18', 'message': 'Delete allocations for instances that have been moved to another node\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 12, 'created': '2018-09-04 08:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/245022c13332d5a86e4f51c35893161a9cfa8324', 'message': 'Delete allocations for instances that have been moved to another node\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 13, 'created': '2018-09-04 10:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d970e6b530a0606743a49fb3b5da8611739e11a2', 'message': 'Delete allocations for instances that have been moved to another node\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 14, 'created': '2018-09-05 00:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2430f81fd7772d9bfe293361bdbc7eb2d78ba8a', 'message': 'Delete allocations for instances that have been moved to another node\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 15, 'created': '2018-09-05 02:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb5eb9b1c783589c9e34e465e2db7c8363d5070c', 'message': 'Delete allocations for instances that have been moved to another node\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 16, 'created': '2018-09-06 01:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a6832cd7e0a5534d677c1aa851863a024ee3bab', 'message': 'Delete allocations for instances that have been moved to another node\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 17, 'created': '2018-09-07 06:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0190a432ddc63d4e5d10566d27acf67b12d99104', 'message': 'Delete allocations for instances that have been moved to another node\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 18, 'created': '2018-09-07 06:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c64d2645d5fe67248ca732736a0276e3daad2d2d', 'message': 'Delete allocations for instances that have been moved to another node\n\nUsr create a VM, failed because rabbitMQ exception after the resource\nwas allocated. In this case, the resource allocated in placement can not\nbe clean. So clean these resource allocations in periodic_task\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 19, 'created': '2018-09-07 06:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0b1cdd8737d2303acc7697646af49fcb5534579', 'message': 'Delete allocations for instances that is not in this node\n\nIf an user create a VM, failed because rabbitMQ exception after the\nresource was allocated. In this case, the resource allocated in\nplacement can not be clean. So clean these resource allocations\nin periodic_task.\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 20, 'created': '2018-09-10 01:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60d763c62a2439194f31f0275259ea9b5998ed73', 'message': 'Delete allocations for instances that is not in this node\n\nIf an user create a VM, failed because rabbitMQ exception after the\nresource was allocated. In this case, the resource allocated in\nplacement can not be clean. So clean these resource allocations\nin periodic_task.\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 21, 'created': '2018-09-10 01:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81223305b212a86b1447a8a5cc2a60bf9a753b1f', 'message': 'Delete allocations for instances that is not in this node\n\nIf an user create a VM, failed because rabbitMQ exception after the\nresource was allocated. In this case, the resource allocated in\nplacement can not be clean. So clean these resource allocations\nin periodic_task.\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 22, 'created': '2018-09-10 01:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d74f712fa2d9f9a5e14c76070727575e5ffaba8', 'message': 'Delete allocations for instances that is not in this node\n\nIf an user create a VM, failed because rabbitMQ exception after the\nresource was allocated. In this case, the resource allocated in\nplacement can not be clean. So clean these resource allocations\nin periodic_task.\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 23, 'created': '2018-09-10 01:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/605448b5e3f2471ae04c112acea19a6915883f29', 'message': 'Delete allocations for instances that is not in this node\n\nIf an user create a VM, failed because rabbitMQ exception after the\nresource was allocated. In this case, the resource allocated in\nplacement can not be clean. So clean these resource allocations\nin periodic_task.\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 24, 'created': '2018-09-10 01:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e25f82fd073c46ba9395ea81db437bab4a8471e', 'message': 'Delete allocations for instances that is not in this node\n\nIf an user create a VM, failed because rabbitMQ exception after the\nresource was allocated. In this case, the resource allocated in\nplacement can not be clean. So clean these resource allocations\nin periodic_task.\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 25, 'created': '2018-09-10 06:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a117f5c78fe5ceb5e4df41c30b25704a338180e2', 'message': 'Delete allocations for instances that is not in this node\n\nIf an user create a VM, failed because rabbitMQ exception after the\nresource was allocated. In this case, the resource allocated in\nplacement can not be clean. So clean these resource allocations\nin periodic_task.\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 26, 'created': '2018-09-10 07:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e11167f1a33daab89d5afa32b06519d50207b858', 'message': 'Delete allocations for instances that is not in this node\n\nIf an user create a VM, failed because rabbitMQ exception after the\nresource was allocated. In this case, the resource allocated in\nplacement can not be clean. So clean these resource allocations\nin periodic_task.\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 27, 'created': '2018-09-12 07:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9594d70a9d4408c7739943552d8c091f858afb0f', 'message': 'Delete allocations for instances that is not in this node\n\nWhen migrating a VM, failed because rabbitMQ exception after the\nresource was allocated. In this case, the resource allocated in\nplacement can not be cleaned.\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 28, 'created': '2018-09-18 01:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eadaa30472e5538bf3dc8752f7121f2dcffc7283', 'message': 'Delete allocations for instances that is not in this node\n\nWhen migrating a VM, failed because rabbitMQ exception after the\nresource was allocated. In this case, the resource allocated in\nplacement can not be cleaned.\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}, {'number': 29, 'created': '2018-09-18 01:37:46.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5b93ce24ce2006268ac5e7f1ae4f9415d7fcdec2', 'message': 'Delete allocations for instances that is not in this node\n\nWhen migrating a VM, task failed because rabbitMQ exception after the \nresource was allocated. In this case, the resource allocated in \nplacement can not be cleaned.\n\nCloses-Bug: #1790569\n\nChange-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4\n'}]",28,582899,5b93ce24ce2006268ac5e7f1ae4f9415d7fcdec2,288,24,29,25284,,,0,"Delete allocations for instances that is not in this node

When migrating a VM, task failed because rabbitMQ exception after the 
resource was allocated. In this case, the resource allocated in 
placement can not be cleaned.

Closes-Bug: #1790569

Change-Id: Ie07eb67f90ae0ec5701a04820967d789be5292b4
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/582899/14 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,b946119603d88bf9315079c6150be4a03c668073,bug/1790569," if not _instance_in_resize_state(instance) and \ not instance.task_state: LOG.debug( ""Instance %s is not in migaration or resize state,"" ""deleting allocations that remained for this"" ""instance against this compute host: %s."", instance_uuid, alloc) self.reportclient.remove_provider_from_instance_allocation( instance.uuid, cn.uuid, instance.user_id, instance.project_id, alloc['resources'])",,10,0
openstack%2Fironic~master~I1aaf62d36aa7fc30bd2d9639e43a600ca453734d,openstack/ironic,master,I1aaf62d36aa7fc30bd2d9639e43a600ca453734d,Add error codes for port operation,ABANDONED,2018-04-18 07:00:29.000000000,2019-05-07 00:30:08.000000000,,"[{'_account_id': 10118}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 25284}, {'_account_id': 26340}]","[{'number': 1, 'created': '2018-04-18 07:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b8994c976c5080d418ae4cd78f44367a298247c3', 'message': 'Add Error Codes for port-operation\n\nChange-Id: I1aaf62d36aa7fc30bd2d9639e43a600ca453734d\n'}, {'number': 2, 'created': '2018-04-18 09:28:39.000000000', 'files': ['ironic/api/controllers/v1/port.py', 'api-ref/source/baremetal-api-v1-ports.inc'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b8c84d9bbc23211e132a61ff01f99e6a0aee1b26', 'message': 'Add error codes for port operation\n\nChange-Id: I1aaf62d36aa7fc30bd2d9639e43a600ca453734d\n'}]",1,562128,b8c84d9bbc23211e132a61ff01f99e6a0aee1b26,16,8,2,25284,,,0,"Add error codes for port operation

Change-Id: I1aaf62d36aa7fc30bd2d9639e43a600ca453734d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/28/562128/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/port.py', 'api-ref/source/baremetal-api-v1-ports.inc']",2,b8994c976c5080d418ae4cd78f44367a298247c3,err-code-port,"Error codes: 400,403,406 Error codes: 403,406,409 Error codes: 400,403,404,406 Error codes: 400,403,406 Error codes: 400,403,406,409 Error codes: 403,404 ",,17,5
openstack%2Fironic~master~Icdbca96a4cbac01545854e2b6fdfed17cee929e5,openstack/ironic,master,Icdbca96a4cbac01545854e2b6fdfed17cee929e5,Fix html_last_updated_fmt for Python3,ABANDONED,2017-07-07 05:51:03.000000000,2019-05-07 00:29:58.000000000,,"[{'_account_id': 3}, {'_account_id': 6637}, {'_account_id': 10118}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 14760}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 25284}]","[{'number': 1, 'created': '2017-07-07 05:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/52f91528e205406b21ca3c55ddb241d12ebce672', 'message': 'Fix html_last_updated_fmt for Python3\n\nCatch exception and log out error information.\n\nChange-Id: Icdbca96a4cbac01545854e2b6fdfed17cee929e5\n'}, {'number': 2, 'created': '2018-01-08 00:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/017d975737a126ef27ffbbbc95643abeb8a8b07e', 'message': 'Fix html_last_updated_fmt for Python3\n\nCatch exception and log out error information.\n\nChange-Id: Icdbca96a4cbac01545854e2b6fdfed17cee929e5\n'}, {'number': 3, 'created': '2018-01-08 02:03:44.000000000', 'files': ['api-ref/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7cd4f08c57db6e7fecaece1ce7c8c258df8be9b6', 'message': 'Fix html_last_updated_fmt for Python3\n\nCatch exception and log out error information.\n\nChange-Id: Icdbca96a4cbac01545854e2b6fdfed17cee929e5\n'}]",3,481438,7cd4f08c57db6e7fecaece1ce7c8c258df8be9b6,21,9,3,25284,,,0,"Fix html_last_updated_fmt for Python3

Catch exception and log out error information.

Change-Id: Icdbca96a4cbac01545854e2b6fdfed17cee929e5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/38/481438/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/conf.py'],1,52f91528e205406b21ca3c55ddb241d12ebce672,bugs,"import warningstry: html_last_updated_fmt = subprocess.check_output(git_cmd).decode('utf-8') except Exception: warnings.warn('Cannot get last updated time from git repository. ' 'Not setting ""html_last_updated_fmt"".')",html_last_updated_fmt = subprocess.check_output(git_cmd).decode('utf-8'),6,1
openstack%2Fdiskimage-builder~master~I56afdc668c2e115b5a6d54cf97492b283835b875,openstack/diskimage-builder,master,I56afdc668c2e115b5a6d54cf97492b283835b875,"Revert ""Enable dbus-broker for Fedora 29""",ABANDONED,2019-05-03 00:54:58.000000000,2019-05-07 00:27:29.000000000,,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-03 00:54:58.000000000', 'files': ['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'diskimage_builder/elements/yum-minimal/install.d/11-ensure-dbus-broker'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1c821f0f47af72eef8431411074fb7aa2f943ff4', 'message': 'Revert ""Enable dbus-broker for Fedora 29""\n\nIt seems fedora-29 doesn\'t use dbus-broker by default, but fedora-30\ndoes.  The reason for this revert, is I am not able to build fedora-29\ncurrent due to the following error:\n\n2019-05-03 00:06:00.184 | + systemctl --no-reload enable dbus-broker.service\n2019-05-03 00:06:00.191 | Failed to enable unit, file /etc/systemd/system/dbus.service already exists and is a symlink to /usr/lib/systemd/system/dbus-daemon.service.\n2019-05-03 00:06:00.192 | Failed to enable unit, file /etc/systemd/system/messagebus.service already exists and is a symlink to /usr/lib/systemd/system/dbus-daemon.service.\n\nThis reverts commit 7cb5916a7600b0bd4cd26c9f254cab71778b1702.\n\nChange-Id: I56afdc668c2e115b5a6d54cf97492b283835b875\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,656909,1c821f0f47af72eef8431411074fb7aa2f943ff4,6,4,1,4162,,,0,"Revert ""Enable dbus-broker for Fedora 29""

It seems fedora-29 doesn't use dbus-broker by default, but fedora-30
does.  The reason for this revert, is I am not able to build fedora-29
current due to the following error:

2019-05-03 00:06:00.184 | + systemctl --no-reload enable dbus-broker.service
2019-05-03 00:06:00.191 | Failed to enable unit, file /etc/systemd/system/dbus.service already exists and is a symlink to /usr/lib/systemd/system/dbus-daemon.service.
2019-05-03 00:06:00.192 | Failed to enable unit, file /etc/systemd/system/messagebus.service already exists and is a symlink to /usr/lib/systemd/system/dbus-daemon.service.

This reverts commit 7cb5916a7600b0bd4cd26c9f254cab71778b1702.

Change-Id: I56afdc668c2e115b5a6d54cf97492b283835b875
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/09/656909/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'diskimage_builder/elements/yum-minimal/install.d/11-ensure-dbus-broker']",2,1c821f0f47af72eef8431411074fb7aa2f943ff4,,,"#!/bin/bash # # Copyright 2019 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # if [ ""${DIB_DEBUG_TRACE:-0}"" -gt 0 ]; then set -x fi set -eu set -o pipefail # Ensure that dbus-broker is enabled; it seems that because of the # transition between dbus-daemon and dbus-broker (see # https://pagure.io/fesco/issue/1853) the .spec files could possibly # not enable this (likely related to ordering or something we do in # the non-standardish chroot building) and a 2019 system with no dbus # is very unhappy (networkmanager fails, etc). if [[ ${DISTRO_NAME} == 'fedora' && ${DIB_RELEASE} -ge 29 ]]; then systemctl --no-reload enable dbus-broker.service fi ",0,40
openstack%2Ftripleo-heat-templates~master~Iab476205f29e0ca9e4053c0c9fb2d051b72b13f0,openstack/tripleo-heat-templates,master,Iab476205f29e0ca9e4053c0c9fb2d051b72b13f0,Remove NTP,MERGED,2019-05-03 18:04:44.000000000,2019-05-06 23:49:41.000000000,2019-05-06 23:49:41.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 17130}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-03 18:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/328797de32a1acd6c04feb3a117aa9d3077097c6', 'message': 'Remove NTP\n\nChrony has replaced the usage of ntp and is not supported beyond Stein.\n\nChange-Id: Iab476205f29e0ca9e4053c0c9fb2d051b72b13f0\nRelated-Blueprint: tripleo-chrony\n'}, {'number': 2, 'created': '2019-05-03 20:42:24.000000000', 'files': ['sample-env-generator/standalone.yaml', 'deployment/time/ntp-baremetal-puppet.yaml', 'sample-env-generator/composable-roles.yaml', 'environments/services/ptp.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/remove-ntp-20905abec5281f54.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3abededac21ec9ad4f98b8e60d7b72ca49f1d7c0', 'message': 'Remove NTP\n\nChrony has replaced the usage of ntp and is not supported beyond Stein.\n\nChange-Id: Iab476205f29e0ca9e4053c0c9fb2d051b72b13f0\nRelated-Blueprint: tripleo-chrony\n'}]",0,656999,3abededac21ec9ad4f98b8e60d7b72ca49f1d7c0,13,6,2,14985,,,0,"Remove NTP

Chrony has replaced the usage of ntp and is not supported beyond Stein.

Change-Id: Iab476205f29e0ca9e4053c0c9fb2d051b72b13f0
Related-Blueprint: tripleo-chrony
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/656999/2 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'deployment/time/ntp-baremetal-puppet.yaml', 'sample-env-generator/composable-roles.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/remove-ntp-20905abec5281f54.yaml']",5,328797de32a1acd6c04feb3a117aa9d3077097c6,bug/1827676,--- upgrade: - | Removed the OS::TripleO::Services::Ntp service and related ntp files as chrony is the new default. ,,10,121
openstack%2Fsenlin~master~I14c6c591e3f6cec2c0600a5d9726c7720256d647,openstack/senlin,master,I14c6c591e3f6cec2c0600a5d9726c7720256d647,Move node replacement candidates to dict in inputs,MERGED,2019-05-02 18:18:30.000000000,2019-05-06 23:31:05.000000000,2019-05-06 23:31:04.000000000,"[{'_account_id': 12640}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 25674}, {'_account_id': 27224}]","[{'number': 1, 'created': '2019-05-02 18:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/593333c6e73a0f54f621d2845d34dd0e47896800', 'message': 'Skip last_op on node replace.\n\nNode replace iterates through all inputs treating key/value pairs as\nUUIDs to nodes. However, when the cluster has policy it injects a key\ncalled last_op into self.inputs in Action.policy_check, treating this as\na pair of UUIDs causes node replace to fail.\n\nChange-Id: I14c6c591e3f6cec2c0600a5d9726c7720256d647\n'}, {'number': 2, 'created': '2019-05-02 20:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/02cc8bd73d4fdd19770d2cc1efe02b74aa22f79a', 'message': ""Move node replacement candidates to dict in inputs\n\nNode replace iterates through all inputs treating key/value pairs as\nUUIDs to nodes. However, when the cluster has policy it injects a key\ncalled last_op into self.inputs in Action.policy_check, treating this as\na pair of UUIDs causes node replace to fail. Therefore we move the nodes\ninto inputs['candidates'] and only iterate through those.\n\nChange-Id: I14c6c591e3f6cec2c0600a5d9726c7720256d647\n""}, {'number': 3, 'created': '2019-05-02 21:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/e863e41838fd720d3e0bb7627fca09ba2d9e0965', 'message': ""Move node replacement candidates to dict in inputs\n\nNode replace iterates through all inputs treating key/value pairs as\nUUIDs to nodes. However, when the cluster has policy it injects a key\ncalled last_op into self.inputs in Action.policy_check, treating this as\na pair of UUIDs causes node replace to fail. Therefore we move the nodes\ninto inputs['candidates'] and only iterate through those.\n\nChange-Id: I14c6c591e3f6cec2c0600a5d9726c7720256d647\n""}, {'number': 4, 'created': '2019-05-03 05:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/758247fc203997a1fda07c7fa1ec52a8beb13fe5', 'message': ""Move node replacement candidates to dict in inputs\n\nNode replace iterates through all inputs treating key/value pairs as\nUUIDs to nodes. However, when the cluster has policy it injects a key\ncalled last_op into self.inputs in Action.policy_check, treating this as\na pair of UUIDs causes node replace to fail. Therefore we move the nodes\ninto inputs['candidates'] and only iterate through those.\n\nChange-Id: I14c6c591e3f6cec2c0600a5d9726c7720256d647\n""}, {'number': 5, 'created': '2019-05-03 05:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/38754b96099dcceac09c396b1915fb1cd12a2893', 'message': ""Move node replacement candidates to dict in inputs\n\nNode replace iterates through all inputs treating key/value pairs as\nUUIDs to nodes. However, when the cluster has policy it injects a key\ncalled last_op into self.inputs in Action.policy_check, treating this as\na pair of UUIDs causes node replace to fail. Therefore we move the nodes\ninto inputs['candidates'] and only iterate through those.\n\nChange-Id: I14c6c591e3f6cec2c0600a5d9726c7720256d647\n""}, {'number': 6, 'created': '2019-05-06 21:25:32.000000000', 'files': ['senlin/engine/service.py', 'senlin/tests/unit/engine/service/test_clusters.py', 'senlin/engine/actions/cluster_action.py', 'senlin/tests/unit/engine/actions/test_replace_nodes.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/bb0be93cf17b7488bbdfabeae9f5da27e6265191', 'message': ""Move node replacement candidates to dict in inputs\n\nNode replace iterates through all inputs treating key/value pairs as\nUUIDs to nodes. However, when the cluster has policy it injects a key\ncalled last_op into self.inputs in Action.policy_check, treating this as\na pair of UUIDs causes node replace to fail. Therefore we move the nodes\ninto inputs['candidates'] and only iterate through those.\n\nChange-Id: I14c6c591e3f6cec2c0600a5d9726c7720256d647\n""}]",5,656842,bb0be93cf17b7488bbdfabeae9f5da27e6265191,30,6,6,25138,,,0,"Move node replacement candidates to dict in inputs

Node replace iterates through all inputs treating key/value pairs as
UUIDs to nodes. However, when the cluster has policy it injects a key
called last_op into self.inputs in Action.policy_check, treating this as
a pair of UUIDs causes node replace to fail. Therefore we move the nodes
into inputs['candidates'] and only iterate through those.

Change-Id: I14c6c591e3f6cec2c0600a5d9726c7720256d647
",git fetch https://review.opendev.org/openstack/senlin refs/changes/42/656842/5 && git format-patch -1 --stdout FETCH_HEAD,['senlin/engine/actions/cluster_action.py'],1,593333c6e73a0f54f621d2845d34dd0e47896800,node-replace-fix, if original == 'last_op': # Skip input added for policy. continue,,3,0
openstack%2Fopenstack-ansible-os_swift~master~Iacad6eef5286c51c39d73bed065515bf22d2167d,openstack/openstack-ansible-os_swift,master,Iacad6eef5286c51c39d73bed065515bf22d2167d,Replace Module,ABANDONED,2019-05-06 23:23:01.000000000,2019-05-06 23:23:48.000000000,,[],"[{'number': 1, 'created': '2019-05-06 23:23:01.000000000', 'files': ['tasks/swift_proxy_hosts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/1689f2ac2eb8d2e3a63378c2b2385319b061550e', 'message': 'Replace Module\n\nModified the file to use the os_project module instead\nof the keystone module.\n\nChange-Id: Iacad6eef5286c51c39d73bed065515bf22d2167d\n'}]",0,657502,1689f2ac2eb8d2e3a63378c2b2385319b061550e,2,0,1,30324,,,0,"Replace Module

Modified the file to use the os_project module instead
of the keystone module.

Change-Id: Iacad6eef5286c51c39d73bed065515bf22d2167d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/02/657502/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/swift_proxy_hosts.yml'],1,1689f2ac2eb8d2e3a63378c2b2385319b061550e,kanishk, os_project_facts: cloud: default state: present, os_project:,3,1
openstack%2Fheat~stable%2Fstein~I6c5aaf116916eb197a62d89561d4d20236006581,openstack/heat,stable/stein,I6c5aaf116916eb197a62d89561d4d20236006581,Support tags for Octavia pool member,ABANDONED,2019-05-06 02:43:58.000000000,2019-05-06 23:08:07.000000000,,"[{'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 7385}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 02:43:58.000000000', 'files': ['releasenotes/notes/octavia-member-tags-84cd00224d6b7bc1.yaml', 'heat/tests/openstack/octavia/inline_templates.py', 'heat/engine/resources/openstack/octavia/pool_member.py', 'heat/tests/openstack/octavia/test_pool_member.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/f9a451915f6cc048afeb61609ee7598c49f42042', 'message': 'Support tags for Octavia pool member\n\nThe API doc:\nhttps://developer.openstack.org/api-ref/load-balancer/v2/index.html#create-member\n\nChange-Id: I6c5aaf116916eb197a62d89561d4d20236006581\nStory: #2005219\nTask: #29998\n(cherry picked from commit f3c08330fe2e161f65cea2dfd3e4069d6f4e932a)\n'}]",0,657300,f9a451915f6cc048afeb61609ee7598c49f42042,4,9,1,6732,,,0,"Support tags for Octavia pool member

The API doc:
https://developer.openstack.org/api-ref/load-balancer/v2/index.html#create-member

Change-Id: I6c5aaf116916eb197a62d89561d4d20236006581
Story: #2005219
Task: #29998
(cherry picked from commit f3c08330fe2e161f65cea2dfd3e4069d6f4e932a)
",git fetch https://review.opendev.org/openstack/heat refs/changes/00/657300/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/octavia-member-tags-84cd00224d6b7bc1.yaml', 'heat/tests/openstack/octavia/inline_templates.py', 'heat/engine/resources/openstack/octavia/pool_member.py', 'heat/tests/openstack/octavia/test_pool_member.py']",4,f9a451915f6cc048afeb61609ee7598c49f42042,member-tags-stable/stein," 'tags': ['tag1', 'tag2'] 'tags': ['tag3', 'tag4']",,19,2
openstack%2Fcharm-nova-cloud-controller~stable%2F19.04~I1a7aa261973dd0399493c373d5fa0e6fba7c588e,openstack/charm-nova-cloud-controller,stable/19.04,I1a7aa261973dd0399493c373d5fa0e6fba7c588e,Replace ostestr with stestr in testing framework.,ABANDONED,2019-05-06 23:04:31.000000000,2019-05-06 23:07:03.000000000,,[],"[{'number': 1, 'created': '2019-05-06 23:04:31.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/f7a52178adfdb7b0e924fec60e6d2d7a7ae646ab', 'message': 'Replace ostestr with stestr in testing framework.\n\nA system upgrade broke ostestr. We can fix it by just calling stestr\ndirectly.\n\nChange-Id: I1a7aa261973dd0399493c373d5fa0e6fba7c588e\n'}]",0,657465,f7a52178adfdb7b0e924fec60e6d2d7a7ae646ab,2,0,1,20805,,,0,"Replace ostestr with stestr in testing framework.

A system upgrade broke ostestr. We can fix it by just calling stestr
directly.

Change-Id: I1a7aa261973dd0399493c373d5fa0e6fba7c588e
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/65/657465/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f7a52178adfdb7b0e924fec60e6d2d7a7ae646ab,replace-ostestr-with-testr,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Fcharm-nova-compute~stable%2F19.04~I90deb8fba9f06fef0cddf07ea85746f09a9c5e41,openstack/charm-nova-compute,stable/19.04,I90deb8fba9f06fef0cddf07ea85746f09a9c5e41,Replace ostestr with stestr in testing framework.,ABANDONED,2019-05-06 23:04:40.000000000,2019-05-06 23:06:55.000000000,,[],"[{'number': 1, 'created': '2019-05-06 23:04:40.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/0a90697123fa86ca188dd415a4f97445f20bb24b', 'message': 'Replace ostestr with stestr in testing framework.\n\nA system upgrade broke ostestr. We can fix it by just calling stestr\ndirectly.\n\nChange-Id: I90deb8fba9f06fef0cddf07ea85746f09a9c5e41\n'}]",0,657466,0a90697123fa86ca188dd415a4f97445f20bb24b,2,0,1,20805,,,0,"Replace ostestr with stestr in testing framework.

A system upgrade broke ostestr. We can fix it by just calling stestr
directly.

Change-Id: I90deb8fba9f06fef0cddf07ea85746f09a9c5e41
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/66/657466/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,0a90697123fa86ca188dd415a4f97445f20bb24b,replace-ostestr-with-testr,git+https://github.com/juju/charm-helpers.git@stable/19.04#egg=charmhelpers,git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,1,1
openstack%2Frequirements~master~I71ade12d8069ab0757f5c10ecbfcc0792fe31693,openstack/requirements,master,I71ade12d8069ab0757f5c10ecbfcc0792fe31693,update constraint for openstackdocstheme to new release 1.29.3,MERGED,2019-05-06 16:09:29.000000000,2019-05-06 22:52:58.000000000,2019-05-06 22:52:58.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 16:09:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/16e8fd6a0f179e3cad0ae2197a5c1be18ada2ea1', 'message': 'update constraint for openstackdocstheme to new release 1.29.3\n\nChange-Id: I71ade12d8069ab0757f5c10ecbfcc0792fe31693\nmeta:version: 1.29.3\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Andreas Jaeger <aj@suse.com>\nmeta:release:Commit: Andreas Jaeger <aj@suse.com>\nmeta:release:Change-Id: Ic0c12cbafcc66affe5a24b4d6b9522b8b4fdf42d\n'}]",0,657402,16e8fd6a0f179e3cad0ae2197a5c1be18ada2ea1,9,3,1,11131,,,0,"update constraint for openstackdocstheme to new release 1.29.3

Change-Id: I71ade12d8069ab0757f5c10ecbfcc0792fe31693
meta:version: 1.29.3
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Andreas Jaeger <aj@suse.com>
meta:release:Commit: Andreas Jaeger <aj@suse.com>
meta:release:Change-Id: Ic0c12cbafcc66affe5a24b4d6b9522b8b4fdf42d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/02/657402/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,16e8fd6a0f179e3cad0ae2197a5c1be18ada2ea1,new-release,openstackdocstheme===1.29.3,openstackdocstheme===1.29.2,1,1
openstack%2Fnova~master~Ibd34b7f24016641bc251f85e6ea17e8a969c3095,openstack/nova,master,Ibd34b7f24016641bc251f85e6ea17e8a969c3095,Exclude fake marker instance when listing servers,MERGED,2019-04-16 21:51:05.000000000,2019-05-06 22:52:53.000000000,2019-05-06 22:52:52.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-16 21:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff41ac7231cd66a065b04373c4ab11ddabc0630a', 'message': ""Exclude fake marker instance when listing servers\n\nThe fill_virtual_interface_list online data migration added\nin Stein creates a fake instance marker record without some\nfields (like flavor) which will fail to load and result in\na 500 error when listing deleted servers across all tenants:\n\n  openstack server list --all-projects --deleted\n\nThis fixes the issue by excluding the specific fake marker\ninstance when listing servers in the API.\n\nThis admittedly isn't great but it's one of many not-so-great\noptions (listed in the bug) and also something that we'll\neventually remove when we drop the online data migration.\n\nChange-Id: Ibd34b7f24016641bc251f85e6ea17e8a969c3095\nCloses-Bug: #1825034\n""}, {'number': 2, 'created': '2019-04-17 02:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67e2822e2c8ec9be069a80b5b66de06a91a2e6b6', 'message': ""Exclude fake marker instance when listing servers\n\nThe fill_virtual_interface_list online data migration added\nin Stein creates a fake instance marker record without some\nfields (like flavor) which will fail to load and result in\na 500 error when listing deleted servers across all tenants:\n\n  openstack server list --all-projects --deleted\n\nThis fixes the issue by excluding the specific fake marker\ninstance when listing servers in the API.\n\nThis admittedly isn't great but it's one of many not-so-great\noptions (listed in the bug) and also something that we'll\neventually remove when we drop the online data migration.\n\nChange-Id: Ibd34b7f24016641bc251f85e6ea17e8a969c3095\nCloses-Bug: #1825034\n""}, {'number': 3, 'created': '2019-05-06 17:54:13.000000000', 'files': ['nova/api/openstack/compute/views/servers.py', 'nova/tests/functional/regressions/test_bug_1825034.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f9eb685bee156590600889449470b35c993cc4cf', 'message': ""Exclude fake marker instance when listing servers\n\nThe fill_virtual_interface_list online data migration added\nin Stein creates a fake instance marker record without some\nfields (like flavor) which will fail to load and result in\na 500 error when listing deleted servers across all tenants:\n\n  openstack server list --all-projects --deleted\n\nThis fixes the issue by excluding the specific fake marker\ninstance when listing servers in the API.\n\nThis admittedly isn't great but it's one of many not-so-great\noptions (listed in the bug) and also something that we'll\neventually remove when we drop the online data migration.\n\nChange-Id: Ibd34b7f24016641bc251f85e6ea17e8a969c3095\nCloses-Bug: #1825034\n""}]",3,653158,f9eb685bee156590600889449470b35c993cc4cf,39,17,3,6873,,,0,"Exclude fake marker instance when listing servers

The fill_virtual_interface_list online data migration added
in Stein creates a fake instance marker record without some
fields (like flavor) which will fail to load and result in
a 500 error when listing deleted servers across all tenants:

  openstack server list --all-projects --deleted

This fixes the issue by excluding the specific fake marker
instance when listing servers in the API.

This admittedly isn't great but it's one of many not-so-great
options (listed in the bug) and also something that we'll
eventually remove when we drop the online data migration.

Change-Id: Ibd34b7f24016641bc251f85e6ea17e8a969c3095
Closes-Bug: #1825034
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/653158/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/views/servers.py', 'nova/tests/functional/regressions/test_bug_1825034.py']",2,ff41ac7231cd66a065b04373c4ab11ddabc0630a,bug/1825034," # Now list deleted servers. The fake marker instance should be excluded # from the API results. for detail in (True, False): servers = self.api.get_servers(detail=detail, search_opts={'all_tenants': 1, 'deleted': 1}) self.assertEqual(0, len(servers))","import six from nova.tests.functional.api import client as api_client # Now list deleted servers. # FIXME(mriedem): This blows up trying to load fields (flavor) on the # deleted marker flavor (bug 1825034). ex = self.assertRaises(api_client.OpenStackApiException, self.api.get_servers, search_opts={'all_tenants': 1, 'deleted': 1}) self.assertIn('OrphanedObjectError', six.text_type(ex))",12,11
openstack%2Fi18n~master~Iafe9516ca0048ad23d25a0eccaf1a5d8f3571612,openstack/i18n,master,Iafe9516ca0048ad23d25a0eccaf1a5d8f3571612,Imported Translations from Zanata,MERGED,2019-05-06 06:17:55.000000000,2019-05-06 22:21:18.000000000,2019-05-06 22:21:18.000000000,"[{'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 06:17:55.000000000', 'files': ['doc/source/locale/en_GB/LC_MESSAGES/doc.po', 'doc/source/locale/zh_CN/LC_MESSAGES/doc.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc.po', 'doc/source/locale/ja/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/tr_TR/LC_MESSAGES/doc.po'], 'web_link': 'https://opendev.org/openstack/i18n/commit/99d411aeed47acf4a49f513523b9f7aaafc4196a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iafe9516ca0048ad23d25a0eccaf1a5d8f3571612\n'}]",0,657320,99d411aeed47acf4a49f513523b9f7aaafc4196a,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iafe9516ca0048ad23d25a0eccaf1a5d8f3571612
",git fetch https://review.opendev.org/openstack/i18n refs/changes/20/657320/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/en_GB/LC_MESSAGES/doc.po', 'doc/source/locale/zh_CN/LC_MESSAGES/doc.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc.po', 'doc/source/locale/ja/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/tr_TR/LC_MESSAGES/doc.po']",7,99d411aeed47acf4a49f513523b9f7aaafc4196a,zanata/translations,"""POT-Creation-Date: 2019-05-03 22:59+0000\n""","""POT-Creation-Date: 2018-07-29 12:03+0000\n""msgid """" ""Before you start contribution, you'll have to `agree to the contributor "" ""license agreement <http://docs.openstack.org/infra/manual/developers."" ""html#account-setup>`_. (You can preview the full text of `the OpenStack "" ""Individual Contributor License Agreement <https://review.openstack.org/"" ""static/cla.html>`_ first if you want.)"" msgstr """" ""Katk vermeye balamadan nce, `katkc lisans anlamasn kabul etmeniz "" ""gerekir <http://docs.openstack.org/infra/manual/developers.html#account-"" ""setup>`_. (sterseniz nce `OpenStack Bamsz Katkc Anlamasnn <https://"" ""review.openstack.org/static/cla.html>`_ tam metnine gz atabilirsiniz.)"" msgid """" ""Every day, new translations get imported into the repositories using a "" ""proposal job. These need to have a review on whether the bot worked "" ""properly. You can see all open reviews in `Gerrit <https://review.openstack."" ""org/#/q/status:open+topic:zanata/translations,n,z>`_. The subject of these "" ""patches is always \""Imported Translations from Zanata\""."" msgstr """" ""Her gn, yeni eviriler planl bir i kullanlarak depolara aktarlr. "" ""Bunlarn dzgn alp almadklaryla ilgili gzden geirilmeleri "" ""gerekir. Tm ak gzden geirmeleri `Gerrit <https://review.openstack.org/#/"" ""q/status:open+topic:zanata/translations,n,z>`_ zerinde grebilirsiniz. Bu "" ""yamalarn konusu \""Zanata'dan e Aktarlan eviriler\""dir."" ""If your Zanata ID is different from your launchpad ID, Stackalytics will not "" ""find your translation statistics. You need to let Stackalytics know your ID "" ""mappings. To do this, you need to add your user data into ``etc/detault_data."" ""json`` in `the Stackalytics repository <http://git.openstack.org/cgit/"" ""openstack/stackalytics/>`__. An example is https://review.openstack.org/#/"" ""c/284638/1/etc/default_data.json."" msgstr """" ""Zanata kimliiniz launchpad kimliinizden farklysa, Stackalytics eviri "" ""istatistiklerinizi bulamayacaktr. Stackalytics'in kimlik eletirmenizi "" ""bilmesini salamalsnz. Bunu yapmak iin, kullanc verinizi `Stackalytics "" ""deposunda <http://git.openstack.org/cgit/openstack/stackalytics/>`__ ``etc/"" ""detault_data.json`` dosyasna eklemeniz gerekir. rnein https://review."" ""openstack.org/#/c/284638/1/etc/default_data.json."" msgid """"""Is your Zanata ID included in the `translator list <http://git.openstack.org/"" ""cgit/openstack/i18n/tree/tools/zanata/translation_team.yaml>`__?"" msgstr """" ""Zanata kimliiniz `evirmen listesinde <http://git.openstack.org/cgit/"" ""openstack/i18n/tree/tools/zanata/translation_team.yaml>`__ mevcut mu?"" msgid """"""Once you find location(s) of a string you would like to check, you can check "" ""more detail context where the string is used by looking at the code in the "" ""git repository. Zanata project and git repository are one-to-one "" ""relationship. If Zanata project name is ``<Zanata-project-name>``, the "" ""corresponding git repository location is ``http://git.openstack.org/cgit/"" ""openstack/<Zanata-project-name>/``. For example, if you are translating "" ""``horizon``, the git repository is found at http://git.openstack.org/cgit/"" ""openstack/horizon/."" msgstr """" ""Kontrol etmek istediiniz bir karakter dizisinin konumunu bulduktan sonra, "" ""git deposundaki koda bakarak bu karakter dizisinin hangi ierikte "" ""kullanldn grebilirsiniz. Zanata projesi ve git deposu birebir "" ""ilikilidir. Zanata proje ismi ``<Zanata-proje-ismi>`` ise, ilikili git "" ""deposunun konumu ``http://git.openstack.org/cgit/openstack/<Zanata-proje-"" ""ismi>/`` adresindedir. rnein, ``horizon`` evirisi yapyorsanz, git "" ""deposu u adreste bulunabilir http://git.openstack.org/cgit/openstack/"" ""horizon/."" msgid """"msgid """" ""Patch on governance repository: https://review.openstack.org/#/c/213989/ "" ""(`diff <http://git.openstack.org/cgit/openstack/governance/commit/?"" ""id=a229d38469c5135af496d3c739695acbe1146a76>`__)"" msgstr """" ""Ynetim deposundaki yama: https://review.openstack.org/#/c/213989/ (`diff "" ""<http://git.openstack.org/cgit/openstack/governance/commit/?"" ""id=a229d38469c5135af496d3c739695acbe1146a76>`__)"" msgid """" ""Patch on governance repository: https://review.openstack.org/#/c/281145/ "" ""(`diff <http://git.openstack.org/cgit/openstack/governance/commit/?"" ""id=8b3c83f28102c7b47688fbaca970a52a76eb6de5>`__)"" msgstr """" ""Yama ynetim deposunda: https://review.openstack.org/#/c/281145/ (`diff "" ""<http://git.openstack.org/cgit/openstack/governance/commit/?"" ""id=8b3c83f28102c7b47688fbaca970a52a76eb6de5>`__)"" msgid """" ""Patch on governance repository: https://review.openstack.org/#/c/351480/ "" ""(`diff <http://git.openstack.org/cgit/openstack/governance/commit/?"" ""id=3aa6cb3e52944f8bed250e0714c7373605b2ebc5>`__)"" msgstr """" ""Ynetim deposundaki yama: https://review.openstack.org/#/c/351480/ (`diff "" ""<http://git.openstack.org/cgit/openstack/governance/commit/?"" ""id=3aa6cb3e52944f8bed250e0714c7373605b2ebc5>`__)"" msgid """" ""Patch on governance repository: https://review.openstack.org/#/c/417569/ "" ""(`diff <http://git.openstack.org/cgit/openstack/governance/commit/?"" ""id=bd71cefff1302ed04fc21faac5cf967365a7d7c7>`__)"" msgstr """" ""Ynetim deposundaki yama: https://review.openstack.org/#/c/417569/ (`diff "" ""<http://git.openstack.org/cgit/openstack/governance/commit/?"" ""id=bd71cefff1302ed04fc21faac5cf967365a7d7c7>`__)"" msgid ""Patch on governance repository: https://review.openstack.org/483452"" msgstr ""Ynetim deposundaki yama: https://review.openstack.org/483452"" ""This following statistics data is calculated using up-to-date "" ""`translation_team.yaml <http://git.openstack.org/cgit/openstack/i18n/tree/"" ""tools/zanata/translation_team.yaml?"" ""id=a67e08d86cc78907da38d5f09b8be6f71d1979a0>`__ (date: Jan 15, 2017)."" msgstr """" ""Aadaki istatistik verisi gncel `translation_team.yaml <http://git."" ""openstack.org/cgit/openstack/i18n/tree/tools/zanata/translation_team.yaml?"" ""id=a67e08d86cc78907da38d5f09b8be6f71d1979a0>`__ (tarih: Ocak 15, 2017) "" ""kullanlarak hesapland."" msgid """"""When proposing extra ATCs at that time, some translators were not included "" ""in `translation_team.yaml <http://git.openstack.org/cgit/openstack/i18n/tree/"" ""tools/zanata/translation_team.yaml?"" ""id=73a36041dbdc45212051c60cbeef3f7783200fd2>`__ file. It seems that 1) new "" ""translators were joined and the statistics was calculated but the file was "" ""already created, or 2) there might be some lack of communication with "" ""language coordinators, since I18n encouraged each language coordinator to "" ""update this file."" msgstr """" ""Ek ATC'ler teklif edilirken baz evirmenler `translation_team.yaml <http://"" ""git.openstack.org/cgit/openstack/i18n/tree/tools/zanata/translation_team."" ""yaml?id=73a36041dbdc45212051c60cbeef3f7783200fd2>`__ dosyasna dahil "" ""edilmemiti. 1) yeni evirmenler katlmt ve istatistikler hesaplanmt "" ""ama dosya zaten oluturulmu durumdayd, veya 2) dil dzenleyiciler arasnda "" ""bir iletiim sorunu olumutu, nk I18n her bir dil dzenleyiciyi bu "" ""dosyay gncellemeye tevik ediyordu."" msgid """"",26,1615
openstack%2Fcliff~stable%2Fpike~I888ee148995c080f793f90e168613348283d0ff0,openstack/cliff,stable/pike,I888ee148995c080f793f90e168613348283d0ff0,Remove tox_install.sh and just pass -c in tox,MERGED,2019-05-04 15:41:04.000000000,2019-05-06 21:56:54.000000000,2019-05-06 21:56:54.000000000,"[{'_account_id': 2}, {'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-04 15:41:04.000000000', 'files': ['tools/tox_install.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cliff/commit/f7f4fc46c391ef8dabe7d4bdc71f8b6e241a1377', 'message': ""Remove tox_install.sh and just pass -c in tox\n\nThe tox_install.sh scripts are there to enable dealing with constraints\nsupport. All of that can be accomplished directly, it turns out, by\nsimply adding the -c line to the requirements list.\n\nRemove tox_install.sh and just set constraints directly.\n\nConflicts:\n\ttox.ini\n\nNOTE(stephenfin): Conflicts are due to some additional changes\nintroduced to tox in stable/queens before this patch. This patch is\nrequired because 'tox_install.sh' uses curl w/o -L switch so it fails to\naccount for redirects that are now in place for backward compat with\ngit.openstack.org.\n\nChange-Id: I888ee148995c080f793f90e168613348283d0ff0\n(cherry picked from commit d8cb8ca09bb7835671011c7765504404e28c74b3)\n""}]",0,657124,f7f4fc46c391ef8dabe7d4bdc71f8b6e241a1377,8,5,1,15334,,,0,"Remove tox_install.sh and just pass -c in tox

The tox_install.sh scripts are there to enable dealing with constraints
support. All of that can be accomplished directly, it turns out, by
simply adding the -c line to the requirements list.

Remove tox_install.sh and just set constraints directly.

Conflicts:
	tox.ini

NOTE(stephenfin): Conflicts are due to some additional changes
introduced to tox in stable/queens before this patch. This patch is
required because 'tox_install.sh' uses curl w/o -L switch so it fails to
account for redirects that are now in place for backward compat with
git.openstack.org.

Change-Id: I888ee148995c080f793f90e168613348283d0ff0
(cherry picked from commit d8cb8ca09bb7835671011c7765504404e28c74b3)
",git fetch https://review.opendev.org/openstack/cliff refs/changes/24/657124/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/tox_install.sh', 'tox.ini']",2,f7f4fc46c391ef8dabe7d4bdc71f8b6e241a1377,rm-tox_install,install_command = pip install {opts} {packages}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/pike} -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,passenv = ZUUL_CACHE_DIRinstall_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/pike} {opts} {packages}deps = -r{toxinidir}/test-requirements.txt,5,89
openstack%2Fosc-placement~master~I7deda200b372ff6a7ba67b0c4fa0e53c4fa16ffc,openstack/osc-placement,master,I7deda200b372ff6a7ba67b0c4fa0e53c4fa16ffc,Use PlacementFixture in functional tests,MERGED,2019-04-11 22:33:54.000000000,2019-05-06 21:27:52.000000000,2019-05-06 21:27:52.000000000,"[{'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-11 22:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/e3f79f7c3a08add093c371a476af1648e2dd9cc2', 'message': ""WIP: Use PlacementFixture in functional tests\n\nChange the functional tests to use the PlacementFixture instead\nof devstack as the source of a placement API. This speeds up\nthe tests considerably and lowers the number of dependencies.\n\nThis is not yet ready as there were many rabbit holes to\ntraverse before this even began to work.\n\nThere are three primary changes:\n\n* For each test a PlacementFixture is instantiated, using the\n  usual in-RAM db and in-process placement.\n\n* Because of some exceedingly confusing optimizations in\n  osc_lib and python-openstackclient, done to improve start\n  up time, a session to placement was caching the service\n  url. This meant that after a first test succeeded, every\n  subsequent one would not because it was trying to talk\n  to a fake hostname that was no longer being intercepted.\n\n  The workaround for this was to monkeypatch the method\n  in the ClientCache class which provides access to a client (per\n  service-type). The replacement method makes a new client\n  every time.\n\n* The previous tests would subprocess out to a real call of\n  the openstack command and then interpret the results.\n\n  Now, a run() method on OpenStackShell is called instead.\n  This accepts arguments in the same way, but we need to\n  a) capture stderr and stdout, b) make a try/except for\n  SystemExit to get some error responses (mostly from\n  the argparse lib which has a tendency to exit for you\n  instead of politely telling you it wants to), c) deal\n  with errors from commands ourself rather than using\n  exceptions from the subprocess module.\n\n  Switching to this form means that logging becomes in-process\n  and more visible. To accomodate this the Capture fixture\n  from placement is used. This was chosen because we are already\n  pulling in the PlacementFixture. If this seems icky, I can fix\n  it with a local one. This was the shorter path.\n\nThings that need to be cleaned up:\n\n* The zuul jobs for functional tests are still using devstack, that\n  can be turned off.\n\n* When new functional test jobs are created, placement needs to\n  listed as a required project to get tox-siblings working.\n\n* The new base._CommandException is used in several modules, so\n  should be public.\n\n* I've seen evidence of sys.stdout and sys.stderr sometimes getting\n  a bit confused, especially with the log capture going on, sometimes\n  causing tests to go into an 'in progress' mode, eventually failing.\n\n  I've only seen it a couple times and it may be the result of something\n  else I was doing, so I'm going to leave it for now.\n\nI'm committing now because I'd like to go to bed and not lose this if\nthe sky falls.\n\nChange-Id: I7deda200b372ff6a7ba67b0c4fa0e53c4fa16ffc\nStory: 2005411\nTask: 30428\n""}, {'number': 2, 'created': '2019-04-12 11:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/bb5e206aa9059594999f10a6846e3c1a965e46c5', 'message': 'Use PlacementFixture in functional tests\n\nChange the functional tests to use the PlacementFixture instead\nof devstack as the source of a placement API. This speeds up\nthe tests considerably and lowers the number of dependencies.\n\nThere are four primary changes:\n\n* For each test a PlacementFixture is instantiated, using the\n  usual in-RAM db and in-process placement.\n\n* Because of some exceedingly confusing optimizations in\n  osc_lib and python-openstackclient, done to improve start\n  up time, a session to placement was caching the service\n  url. This meant that after a first test succeeded, every\n  subsequent one would not because it was trying to talk\n  to a fake hostname that was no longer being intercepted.\n\n  The workaround for this was to monkeypatch the method\n  in the ClientCache class which provides access to a client (per\n  service-type). The replacement method makes a new client\n  every time.\n\n* The previous tests would subprocess out to a real call of\n  the openstack command and then interpret the results.\n\n  Now, a run() method on OpenStackShell is called instead.\n  This accepts arguments in the same way, but we need to\n  a) capture stderr and stdout, b) make a try/except for\n  SystemExit to get some error responses (mostly from\n  the argparse lib which has a tendency to exit for you\n  instead of politely telling you it wants to), c) deal\n  with errors from commands ourself rather than using\n  exceptions from the subprocess module.\n\n  Switching to this form means that logging becomes in-process\n  and more visible. To accomodate this the Capture fixture\n  from placement is used. This was chosen because we are already\n  pulling in the PlacementFixture. If this seems icky, I can fix\n  it with a local one. This was the shorter path.\n\n* The legacy dsvm jobs have been removed in favor of ""standard""\n  functional jobs for 2.7 and 3.6 that require openstack/placement.\n  The playbooks associated with the legacy jobs are removed.\n\n  tox.ini is adjusted to reflect this new setup. Because tox-siblings\n  functional is being used, we don\'t want to share tox envs with the unit\n  tests.\n\nChange-Id: I7deda200b372ff6a7ba67b0c4fa0e53c4fa16ffc\nStory: 2005411\nTask: 30428\n'}, {'number': 3, 'created': '2019-04-17 17:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/be67b30adcfbcdb7d12312dfe3961edd8ebd9ab3', 'message': 'Use PlacementFixture in functional tests\n\nChange the functional tests to use the PlacementFixture instead\nof devstack as the source of a placement API. This speeds up\nthe tests considerably and lowers the number of dependencies.\n\nThere are four primary changes:\n\n* For each test a PlacementFixture is instantiated, using the\n  usual in-RAM db and in-process placement.\n\n* Because of some exceedingly confusing optimizations in\n  osc_lib and python-openstackclient, done to improve start\n  up time, a session to placement was caching the service\n  url. This meant that after a first test succeeded, every\n  subsequent one would not because it was trying to talk\n  to a fake hostname that was no longer being intercepted.\n\n  The workaround for this was to monkeypatch the method\n  in the ClientCache class which provides access to a client (per\n  service-type). The replacement method makes a new client\n  every time.\n\n* The previous tests would subprocess out to a real call of\n  the openstack command and then interpret the results.\n\n  Now, a run() method on OpenStackShell is called instead.\n  This accepts arguments in the same way, but we need to\n  a) capture stderr and stdout, b) make a try/except for\n  SystemExit to get some error responses (mostly from\n  the argparse lib which has a tendency to exit for you\n  instead of politely telling you it wants to), c) deal\n  with errors from commands ourself rather than using\n  exceptions from the subprocess module.\n\n  Switching to this form means that logging becomes in-process\n  and more visible. To accomodate this the Capture fixture\n  from placement is used. This was chosen because we are already\n  pulling in the PlacementFixture. If this seems icky, I can fix\n  it with a local one. This was the shorter path.\n\n* The legacy dsvm jobs have been removed in favor of ""standard""\n  functional jobs for 2.7 and 3.6 that require openstack/placement.\n  The playbooks associated with the legacy jobs are removed.\n\n  tox.ini is adjusted to reflect this new setup. Because tox-siblings\n  functional is being used, we don\'t want to share tox envs with the unit\n  tests. The 3.5 functional job is removed because we no longer target\n  that.\n\nChange-Id: I7deda200b372ff6a7ba67b0c4fa0e53c4fa16ffc\nStory: 2005411\nTask: 30428\n'}, {'number': 4, 'created': '2019-04-17 18:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/a67f4ffd3feb2527b9fe1b4ddc845fd7f87438a8', 'message': 'Use PlacementFixture in functional tests\n\nChange the functional tests to use the PlacementFixture instead\nof devstack as the source of a placement API. This speeds up\nthe tests considerably and lowers the number of dependencies.\n\nThere are four primary changes:\n\n* For each test a PlacementFixture is instantiated, using the\n  usual in-RAM db and in-process placement.\n\n* Because of some exceedingly confusing optimizations in\n  osc_lib and python-openstackclient, done to improve start\n  up time, a session to placement was caching the service\n  url. This meant that after a first test succeeded, every\n  subsequent one would not because it was trying to talk\n  to a fake hostname that was no longer being intercepted.\n\n  The workaround for this was to monkeypatch the method\n  in the ClientCache class which provides access to a client (per\n  service-type). The replacement method makes a new client\n  every time.\n\n* The previous tests would subprocess out to a real call of\n  the openstack command and then interpret the results.\n\n  Now, a run() method on OpenStackShell is called instead.\n  This accepts arguments in the same way, but we need to\n  a) capture stderr and stdout, b) make a try/except for\n  SystemExit to get some error responses (mostly from\n  the argparse lib which has a tendency to exit for you\n  instead of politely telling you it wants to), c) deal\n  with errors from commands ourself rather than using\n  exceptions from the subprocess module.\n\n  Switching to this form means that logging becomes in-process\n  and more visible. To accomodate this the Capture fixture\n  from placement is used. This was chosen because we are already\n  pulling in the PlacementFixture. If this seems icky, I can fix\n  it with a local one. This was the shorter path.\n\n* The legacy dsvm jobs have been removed in favor of ""standard""\n  functional jobs for 2.7 and 3.6 that require openstack/placement.\n  The playbooks associated with the legacy jobs are removed.\n\n  tox.ini is adjusted to reflect this new setup. Because tox-siblings\n  functional is being used, we don\'t want to share tox envs with the unit\n  tests. The 3.5 functional job is removed because we no longer target\n  that.\n\nChange-Id: I7deda200b372ff6a7ba67b0c4fa0e53c4fa16ffc\nStory: 2005411\nTask: 30428\n'}, {'number': 5, 'created': '2019-04-28 20:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/6072e047402c2e54d999d7cb7daa7e52194c723b', 'message': 'Use PlacementFixture in functional tests\n\nChange the functional tests to use the PlacementFixture instead\nof devstack as the source of a placement API. This speeds up\nthe tests considerably and lowers the number of dependencies.\n\nThere are four primary changes:\n\n* For each test a PlacementFixture is instantiated, using the\n  usual in-RAM db and in-process placement.\n\n* Because of some exceedingly confusing optimizations in\n  osc_lib and python-openstackclient, done to improve start\n  up time, a session to placement was caching the service\n  url. This meant that after a first test succeeded, every\n  subsequent one would not because it was trying to talk\n  to a fake hostname that was no longer being intercepted.\n\n  The workaround for this was to monkeypatch the method\n  in the ClientCache class which provides access to a client (per\n  service-type). The replacement method makes a new client\n  every time.\n\n* The previous tests would subprocess out to a real call of\n  the openstack command and then interpret the results.\n\n  Now, a run() method on OpenStackShell is called instead.\n  This accepts arguments in the same way, but we need to\n  a) capture stderr and stdout, b) make a try/except for\n  SystemExit to get some error responses (mostly from\n  the argparse lib which has a tendency to exit for you\n  instead of politely telling you it wants to), c) deal\n  with errors from commands ourself rather than using\n  exceptions from the subprocess module.\n\n  Switching to this form means that logging becomes in-process\n  and more visible. To accomodate this the Capture fixture\n  from placement is used. This was chosen because we are already\n  pulling in the PlacementFixture. If this seems icky, I can fix\n  it with a local one. This was the shorter path.\n\n* The legacy dsvm jobs have been removed in favor of ""standard""\n  functional jobs for 2.7 and 3.6 that require openstack/placement.\n  The playbooks associated with the legacy jobs are removed.\n\n  tox.ini is adjusted to reflect this new setup. Because tox-siblings\n  functional is being used, we don\'t want to share tox envs with the unit\n  tests. The 3.5 functional job is removed because we no longer target\n  that.\n\nChange-Id: I7deda200b372ff6a7ba67b0c4fa0e53c4fa16ffc\nStory: 2005411\nTask: 30428\n'}, {'number': 6, 'created': '2019-04-29 23:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/778d1df6c49cd0b472bc7db58f0004856db60e32', 'message': 'Use PlacementFixture in functional tests\n\nChange the functional tests to use the PlacementFixture instead\nof devstack as the source of a placement API. This speeds up\nthe tests considerably and lowers the number of dependencies.\n\nThere are four primary changes:\n\n* For each test a PlacementFixture is instantiated, using the\n  usual in-RAM db and in-process placement.\n\n* Because of some exceedingly confusing optimizations in\n  osc_lib and python-openstackclient, done to improve start\n  up time, a session to placement was caching the service\n  url. This meant that after a first test succeeded, every\n  subsequent one would not because it was trying to talk\n  to a fake hostname that was no longer being intercepted.\n\n  The workaround for this was to monkeypatch the method\n  in the ClientCache class which provides access to a client (per\n  service-type). The replacement method makes a new client\n  every time.\n\n* The previous tests would subprocess out to a real call of\n  the openstack command and then interpret the results.\n\n  Now, a run() method on OpenStackShell is called instead.\n  This accepts arguments in the same way, but we need to\n  a) capture stderr and stdout, b) make a try/except for\n  SystemExit to get some error responses (mostly from\n  the argparse lib which has a tendency to exit for you\n  instead of politely telling you it wants to), c) deal\n  with errors from commands ourself rather than using\n  exceptions from the subprocess module.\n\n  Switching to this form means that logging becomes in-process\n  and more visible. To accomodate this the Capture fixture\n  from placement is used. This was chosen because we are already\n  pulling in the PlacementFixture. If this seems icky, I can fix\n  it with a local one. This was the shorter path.\n\n* The legacy dsvm jobs have been removed in favor of ""standard""\n  functional jobs for 2.7 and 3.6 that require openstack/placement.\n  The playbooks associated with the legacy jobs are removed.\n\n  tox.ini is adjusted to reflect this new setup. Because tox-siblings\n  functional is being used, we don\'t want to share tox envs with the unit\n  tests. The 3.5 functional job is removed because we no longer target\n  that.\n\nAfter running these for a while it became clear that there were\nintermittent failures being caused by subunit attachments being too\nlarger. This was eventually traced back to logging from all packages\nbeing set to DEBUG even when something else was requested. That was\ntraced back to a poor interaction between the way that osc does\nlogging and the way oslo_logging does logging (used by placement and\nthus the placement fixture). The workaround, embodied in the\nRESET_LOGGING list in in osc_placement/tests/functional/base.py, is\nto get and reset the log level for a subset of the packages that are\nused.\n\nChange-Id: I7deda200b372ff6a7ba67b0c4fa0e53c4fa16ffc\nStory: 2005411\nTask: 30428\n'}, {'number': 7, 'created': '2019-05-03 21:05:22.000000000', 'files': ['test-requirements.txt', 'osc_placement/tests/functional/hooks/post_test_hook.sh', '.zuul.yaml', 'osc_placement/tests/functional/test_usage.py', 'playbooks/legacy/osc-placement-dsvm-functional-py3/post.yaml', 'playbooks/legacy/osc-placement-dsvm-functional-py3/run.yaml', 'osc_placement/tests/functional/base.py', 'osc_placement/tests/functional/test_allocation.py', 'osc_placement/tests/functional/test_inventory.py', 'osc_placement/tests/functional/test_resource_provider.py', 'playbooks/legacy/osc-placement-dsvm-functional/run.yaml', 'tox.ini', 'playbooks/legacy/osc-placement-dsvm-functional/post.yaml'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/da8cd4d68b06399c607776db2a704b4578146996', 'message': 'Use PlacementFixture in functional tests\n\nChange the functional tests to use the PlacementFixture instead\nof devstack as the source of a placement API. This speeds up\nthe tests considerably and lowers the number of dependencies.\n\nThere are four primary changes:\n\n* For each test a PlacementFixture is instantiated, using the\n  usual in-RAM db and in-process placement.\n\n* Because of some exceedingly confusing optimizations in\n  osc_lib and python-openstackclient, done to improve start\n  up time, a session to placement was caching the service\n  url. This meant that after a first test succeeded, every\n  subsequent one would not because it was trying to talk\n  to a fake hostname that was no longer being intercepted.\n\n  The workaround for this was to monkeypatch the method\n  in the ClientCache class which provides access to a client (per\n  service-type). The replacement method makes a new client\n  every time.\n\n* The previous tests would subprocess out to a real call of\n  the openstack command and then interpret the results.\n\n  Now, a run() method on OpenStackShell is called instead.\n  This accepts arguments in the same way, but we need to\n  a) capture stderr and stdout, b) make a try/except for\n  SystemExit to get some error responses (mostly from\n  the argparse lib which has a tendency to exit for you\n  instead of politely telling you it wants to), c) deal\n  with errors from commands ourself rather than using\n  exceptions from the subprocess module.\n\n  Switching to this form means that logging becomes in-process\n  and more visible. To accomodate this the Capture fixture\n  from placement is used. This was chosen because we are already\n  pulling in the PlacementFixture. If this seems icky, I can fix\n  it with a local one. This was the shorter path.\n\n* The legacy dsvm jobs have been removed in favor of ""standard""\n  functional jobs for 2.7 and 3.6 that require openstack/placement.\n  The playbooks associated with the legacy jobs are removed.\n\n  tox.ini is adjusted to reflect this new setup. Because tox-siblings\n  functional is being used, we don\'t want to share tox envs with the unit\n  tests. The 3.5 functional job is removed because we no longer target\n  that.\n\nAfter running these for a while it became clear that there were\nintermittent failures being caused by subunit attachments being too\nlarge. This was eventually traced back to logging from all packages\nbeing set to DEBUG even when something else was requested. That was\ntraced back to a poor interaction between the way that osc does\nlogging and the way oslo_logging does logging (used by placement and\nthus the placement fixture). The workaround, embodied in the\nRESET_LOGGING list in osc_placement/tests/functional/base.py, is to\nget and reset the log level for a subset of the packages that are\nused.\n\nChange-Id: I7deda200b372ff6a7ba67b0c4fa0e53c4fa16ffc\nStory: 2005411\nTask: 30428\n'}]",29,651939,da8cd4d68b06399c607776db2a704b4578146996,29,5,7,11564,,,0,"Use PlacementFixture in functional tests

Change the functional tests to use the PlacementFixture instead
of devstack as the source of a placement API. This speeds up
the tests considerably and lowers the number of dependencies.

There are four primary changes:

* For each test a PlacementFixture is instantiated, using the
  usual in-RAM db and in-process placement.

* Because of some exceedingly confusing optimizations in
  osc_lib and python-openstackclient, done to improve start
  up time, a session to placement was caching the service
  url. This meant that after a first test succeeded, every
  subsequent one would not because it was trying to talk
  to a fake hostname that was no longer being intercepted.

  The workaround for this was to monkeypatch the method
  in the ClientCache class which provides access to a client (per
  service-type). The replacement method makes a new client
  every time.

* The previous tests would subprocess out to a real call of
  the openstack command and then interpret the results.

  Now, a run() method on OpenStackShell is called instead.
  This accepts arguments in the same way, but we need to
  a) capture stderr and stdout, b) make a try/except for
  SystemExit to get some error responses (mostly from
  the argparse lib which has a tendency to exit for you
  instead of politely telling you it wants to), c) deal
  with errors from commands ourself rather than using
  exceptions from the subprocess module.

  Switching to this form means that logging becomes in-process
  and more visible. To accomodate this the Capture fixture
  from placement is used. This was chosen because we are already
  pulling in the PlacementFixture. If this seems icky, I can fix
  it with a local one. This was the shorter path.

* The legacy dsvm jobs have been removed in favor of ""standard""
  functional jobs for 2.7 and 3.6 that require openstack/placement.
  The playbooks associated with the legacy jobs are removed.

  tox.ini is adjusted to reflect this new setup. Because tox-siblings
  functional is being used, we don't want to share tox envs with the unit
  tests. The 3.5 functional job is removed because we no longer target
  that.

After running these for a while it became clear that there were
intermittent failures being caused by subunit attachments being too
large. This was eventually traced back to logging from all packages
being set to DEBUG even when something else was requested. That was
traced back to a poor interaction between the way that osc does
logging and the way oslo_logging does logging (used by placement and
thus the placement fixture). The workaround, embodied in the
RESET_LOGGING list in osc_placement/tests/functional/base.py, is to
get and reset the log level for a subset of the packages that are
used.

Change-Id: I7deda200b372ff6a7ba67b0c4fa0e53c4fa16ffc
Story: 2005411
Task: 30428
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/39/651939/4 && git format-patch -1 --stdout FETCH_HEAD,"['osc_placement/tests/functional/base.py', 'osc_placement/tests/functional/test_allocation.py', 'osc_placement/tests/functional/test_inventory.py', 'osc_placement/tests/functional/test_resource_provider.py', 'test-requirements.txt', 'osc_placement/tests/functional/test_usage.py']",6,e3f79f7c3a08add093c371a476af1648e2dd9cc2,story/2005411,"import six exc = self.assertRaises(base._CommandException, six.text_type(exc)","import subprocess exc = self.assertRaises(subprocess.CalledProcessError, exc.output.decode('utf-8')",124,78
openstack%2Foctavia-tempest-plugin~master~I45354806f7ad1ce06e59e644004770ac57bcc6ef,openstack/octavia-tempest-plugin,master,I45354806f7ad1ce06e59e644004770ac57bcc6ef,Fix ipv6 multinode gate (use private subnet),MERGED,2019-05-02 19:56:37.000000000,2019-05-06 21:02:15.000000000,2019-05-06 21:02:15.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 19:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/17bb8fa6be25d44d8c9ca988e010bd25eb0eed8e', 'message': 'DNM: ipv6 multinode gate debugging\n\nChange-Id: I45354806f7ad1ce06e59e644004770ac57bcc6ef\n'}, {'number': 2, 'created': '2019-05-02 20:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5dd262339a2f7b2c7b34b0cb45bd6a1288f83056', 'message': 'DNM: ipv6 multinode gate debugging\n\nChange-Id: I45354806f7ad1ce06e59e644004770ac57bcc6ef\n'}, {'number': 3, 'created': '2019-05-02 21:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a2b0ea141a659f83401c54db7ef30a090c1611ee', 'message': 'DNM: ipv6 multinode gate debugging\n\nChange-Id: I45354806f7ad1ce06e59e644004770ac57bcc6ef\n'}, {'number': 4, 'created': '2019-05-02 21:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/83ab19630f20694297a697627ce7cbe91bad78eb', 'message': 'DNM: ipv6 multinode gate debugging\n\nChange-Id: I45354806f7ad1ce06e59e644004770ac57bcc6ef\n'}, {'number': 5, 'created': '2019-05-02 21:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ea2b65ddc84d2e813473ac56c3bc0b258e4ad329', 'message': 'DNM: ipv6 multinode gate debugging\n\nChange-Id: I45354806f7ad1ce06e59e644004770ac57bcc6ef\n'}, {'number': 6, 'created': '2019-05-02 21:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c89c5231e28633387024655d6240ea495c50508c', 'message': 'DNM: ipv6 multinode gate debugging\n\nChange-Id: I45354806f7ad1ce06e59e644004770ac57bcc6ef\n'}, {'number': 7, 'created': '2019-05-02 22:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/64838450493447f779ce8fd40ee07582e5b8076a', 'message': 'DNM: ipv6 multinode gate debugging\n\nChange-Id: I45354806f7ad1ce06e59e644004770ac57bcc6ef\n'}, {'number': 8, 'created': '2019-05-02 22:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/11c753376ec85f963ec32fab21f8088c542ea1a9', 'message': 'DNM: ipv6 multinode gate debugging\n\nChange-Id: I45354806f7ad1ce06e59e644004770ac57bcc6ef\n'}, {'number': 9, 'created': '2019-05-02 22:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3393965a1e6fb4982094118cd69099132961cbe2', 'message': 'DNM: ipv6 multinode gate debugging\n\nChange-Id: I45354806f7ad1ce06e59e644004770ac57bcc6ef\n'}, {'number': 10, 'created': '2019-05-03 20:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e220c0e7fec6e845ebfac8c49ebe95f80ae1cf75', 'message': 'DNM: ipv6 multinode gate debugging\n\nChange-Id: I45354806f7ad1ce06e59e644004770ac57bcc6ef\n'}, {'number': 11, 'created': '2019-05-04 19:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6f270c4902c60640af889f54a854372655009b96', 'message': 'DNM: ipv6 multinode gate debugging\n\nChange-Id: I45354806f7ad1ce06e59e644004770ac57bcc6ef\n'}, {'number': 12, 'created': '2019-05-04 21:11:41.000000000', 'files': ['octavia_tempest_plugin/tests/test_base.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2b9432f7e9fcc4144007f9954ee0168fd13690c6', 'message': ""Fix ipv6 multinode gate (use private subnet)\n\nPublic ipv6 subnet isn't actually pluggable -- neutron in devstack makes\nthe private ipv6 subnet externally routable instead. So, we should use\nthat in our tests.\n\nChange-Id: I45354806f7ad1ce06e59e644004770ac57bcc6ef\n""}]",0,656852,2b9432f7e9fcc4144007f9954ee0168fd13690c6,21,3,12,10273,,,0,"Fix ipv6 multinode gate (use private subnet)

Public ipv6 subnet isn't actually pluggable -- neutron in devstack makes
the private ipv6 subnet externally routable instead. So, we should use
that in our tests.

Change-Id: I45354806f7ad1ce06e59e644004770ac57bcc6ef
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/52/656852/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/Octavia-DSVM/run.yaml', 'zuul.d/jobs.yaml']",2,17bb8fa6be25d44d8c9ca988e010bd25eb0eed8e,, run: - playbooks/Octavia-DSVM/run.yaml,,16,0
openstack%2Fswift~feature%2Flosf~I8c3fd33c67a48efdc3a5218f05aaa57aa86d0be1,openstack/swift,feature/losf,I8c3fd33c67a48efdc3a5218f05aaa57aa86d0be1,Resolve statsd module incompatibility,MERGED,2019-05-03 20:55:25.000000000,2019-05-06 20:36:38.000000000,2019-05-06 20:36:38.000000000,"[{'_account_id': 1179}, {'_account_id': 4608}, {'_account_id': 22348}, {'_account_id': 25251}]","[{'number': 1, 'created': '2019-05-03 20:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f31de80423bc88d050d6ac94785505c9bbdbfec7', 'message': ""Resolve statsd module incompatibility\n\nThat is from no go moudle supports in statsd repo and now, v2.0.4\nsupports the mechanism so let's pin the version to v2.0.4.\n\nAnd also the go.mod is cleaned up according to the newest versions\nthat seems to work with the current losf.\n\nChange-Id: I8c3fd33c67a48efdc3a5218f05aaa57aa86d0be1\n""}, {'number': 2, 'created': '2019-05-04 04:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f5acff3ebd5d3852c943f453676367c11da4afcb', 'message': ""Resolve statsd module incompatibility\n\nThat is from no go moudle supports in statsd repo and now, v2.0.4\nsupports the mechanism so let's pin the version to v2.0.4.\n\nAnd also the go.mod is cleaned up according to the newest versions\nthat seems to work with the current losf.\n\nChange-Id: I8c3fd33c67a48efdc3a5218f05aaa57aa86d0be1\n""}, {'number': 3, 'created': '2019-05-04 17:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/223ea73a316ff429c0d08a21c8d0e47c397ac202', 'message': ""Resolve statsd module incompatibility\n\nThat is from no go moudle supports in statsd repo and now, v2.0.4\nsupports the mechanism so let's pin the version to v2.0.4.\n\nAnd also the go.mod is cleaned up according to the newest versions\nthat seems to work with the current losf.\n\nChange-Id: I8c3fd33c67a48efdc3a5218f05aaa57aa86d0be1\n""}, {'number': 4, 'created': '2019-05-05 10:50:51.000000000', 'files': ['go/swift-rpc-losf/rpc.go', 'go/swift-rpc-losf/go.sum', 'go/swift-rpc-losf/go.mod'], 'web_link': 'https://opendev.org/openstack/swift/commit/826126cadfb8f7bebc60f90d99d450fb372ebec1', 'message': ""Resolve statsd module incompatibility\n\nThat is from no go moudle supports in statsd repo and now, v2.0.4\nsupports the mechanism so let's pin the version to v2.0.4.\n\nAnd also the go.mod is cleaned up according to the newest versions\nthat seems to work with the current losf.\n\nChange-Id: I8c3fd33c67a48efdc3a5218f05aaa57aa86d0be1\n""}]",0,657045,826126cadfb8f7bebc60f90d99d450fb372ebec1,22,4,4,4608,,,0,"Resolve statsd module incompatibility

That is from no go moudle supports in statsd repo and now, v2.0.4
supports the mechanism so let's pin the version to v2.0.4.

And also the go.mod is cleaned up according to the newest versions
that seems to work with the current losf.

Change-Id: I8c3fd33c67a48efdc3a5218f05aaa57aa86d0be1
",git fetch https://review.opendev.org/openstack/swift refs/changes/45/657045/2 && git format-patch -1 --stdout FETCH_HEAD,"['go/swift-rpc-losf/rpc.go', 'go/swift-rpc-losf/go.sum', 'go/swift-rpc-losf/go.mod']",3,f31de80423bc88d050d6ac94785505c9bbdbfec7,losf-functests,// GO111MODULE=on go get // able to run anywhare github.com/alecuyer/statsd/v2 v2.0.4 github.com/golang/protobuf v1.3.1 github.com/jmhodges/levigo v1.0.0 github.com/sirupsen/logrus v1.4.1 github.com/syndtr/goleveldb v1.0.0 golang.org/x/net v0.0.0-20190503192946-f4e77d36d62c golang.org/x/sys v0.0.0-20190502175342-a43fa875dd82 google.golang.org/grpc v1.20.1,// go get // able to run anywhare github.com/alecuyer/statsd v2.0.0+incompatible github.com/golang/protobuf v1.2.0 github.com/golang/snappy v0.0.0-20180518054509-2e65f85255db // indirect github.com/jmhodges/levigo v0.0.0-20161115193449-c42d9e0ca023 github.com/sirupsen/logrus v1.3.0 github.com/syndtr/goleveldb v0.0.0-20181128100959-b001fa50d6b2 golang.org/x/net v0.0.0-20190125091013-d26f9f9a57f3 golang.org/x/sys v0.0.0-20190201073406-2970a3744de3 google.golang.org/grpc v1.18.0,44,11
openstack%2Fswift~master~I2e233afff26878ba94e268c71f6779bcca7b641c,openstack/swift,master,I2e233afff26878ba94e268c71f6779bcca7b641c,py3: Make StoragePolicy objects hashable,MERGED,2019-05-05 04:02:09.000000000,2019-05-06 20:36:36.000000000,2019-05-06 20:36:36.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-05 04:02:09.000000000', 'files': ['test/unit/common/test_storage_policy.py', 'swift/common/storage_policy.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/fed0204e869bc1a92dbd74319ed5dbef95f3ea5e', 'message': 'py3: Make StoragePolicy objects hashable\n\nChange-Id: I2e233afff26878ba94e268c71f6779bcca7b641c\n'}]",0,657195,fed0204e869bc1a92dbd74319ed5dbef95f3ea5e,10,3,1,15343,,,0,"py3: Make StoragePolicy objects hashable

Change-Id: I2e233afff26878ba94e268c71f6779bcca7b641c
",git fetch https://review.opendev.org/openstack/swift refs/changes/95/657195/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_storage_policy.py', 'swift/common/storage_policy.py']",2,fed0204e869bc1a92dbd74319ed5dbef95f3ea5e,, def __hash__(self): return hash(self.idx) ,,17,0
openstack%2Fswift~master~I167b5375e7ed39d4abecf0653f84834ea7dac635,openstack/swift,master,I167b5375e7ed39d4abecf0653f84834ea7dac635,py3: start porting for unit/proxy/test_server.py,MERGED,2019-05-04 23:35:53.000000000,2019-05-06 20:36:35.000000000,2019-05-06 20:36:35.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-04 23:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/57fec8449db7f10ee9450025d37f38d5f9abbea5', 'message': ""py3: start porting for unit/proxy/test_server.py\n\nMostly this ammounts to\n\nException.message -> Exception.args[0]\n'...' -> b'...'\nStringIO -> BytesIO\nmakefile() -> makefile('rwb')\niter.next() -> next(iter)\nbytes[0] -> bytes[0:1] and the like\ninteger\tdivision\n\nNote that the versioning tests aren't touched yet; they seemed to get a\nlittle hairy.\n\nChange-Id: I167b5375e7ed39d4abecf0653f84834ea7dac635\n""}, {'number': 2, 'created': '2019-05-05 03:36:24.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'swift/proxy/server.py', 'swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b8284538be4c17052c4c399a7fa09fd2abb50c49', 'message': ""py3: start porting for unit/proxy/test_server.py\n\nMostly this ammounts to\n\n    Exception.message -> Exception.args[0]\n    '...' -> b'...'\n    StringIO -> BytesIO\n    makefile() -> makefile('rwb')\n    iter.next() -> next(iter)\n    bytes[n] -> bytes[n:n + 1]\n    integer division\n\nNote that the versioning tests are mostly untouched; they seemed to get\na little hairy.\n\nChange-Id: I167b5375e7ed39d4abecf0653f84834ea7dac635\n""}]",0,657172,b8284538be4c17052c4c399a7fa09fd2abb50c49,14,3,2,15343,,,0,"py3: start porting for unit/proxy/test_server.py

Mostly this ammounts to

    Exception.message -> Exception.args[0]
    '...' -> b'...'
    StringIO -> BytesIO
    makefile() -> makefile('rwb')
    iter.next() -> next(iter)
    bytes[n] -> bytes[n:n + 1]
    integer division

Note that the versioning tests are mostly untouched; they seemed to get
a little hairy.

Change-Id: I167b5375e7ed39d4abecf0653f84834ea7dac635
",git fetch https://review.opendev.org/openstack/swift refs/changes/72/657172/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'swift/proxy/server.py']",2,57fec8449db7f10ee9450025d37f38d5f9abbea5,," (self.read_affinity, err.args[0])) (self.write_affinity, err.args[0])) raise ValueError('%s for %s' % (err, label_for_policy))"," (self.read_affinity, err.message)) (self.write_affinity, err.message)) raise ValueError(err.message + ' for %s' % label_for_policy)",853,807
openstack%2Ftempest~master~Ib3a7943eabaf037540520d5e0e53750c4db5743d,openstack/tempest,master,Ib3a7943eabaf037540520d5e0e53750c4db5743d,[Trivial]Remove unused variable assignments,MERGED,2019-04-28 07:31:14.000000000,2019-05-06 20:36:32.000000000,2019-05-06 20:36:32.000000000,"[{'_account_id': 6167}, {'_account_id': 17130}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-04-28 07:31:14.000000000', 'files': ['tempest/common/waiters.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f5cff8b44819d027e56e5c534983c9f9788b48e9', 'message': '[Trivial]Remove unused variable assignments\n\nThis is to remove unused variable assignments in waiters.py.\n\nChange-Id: Ib3a7943eabaf037540520d5e0e53750c4db5743d\n'}]",0,656146,f5cff8b44819d027e56e5c534983c9f9788b48e9,25,6,1,20190,,,0,"[Trivial]Remove unused variable assignments

This is to remove unused variable assignments in waiters.py.

Change-Id: Ib3a7943eabaf037540520d5e0e53750c4db5743d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/46/656146/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/common/waiters.py'],1,f5cff8b44819d027e56e5c534983c9f9788b48e9,waiter, old_status = body['status'] old_task_state = _get_task_state(body), old_status = server_status = body['status'] old_task_state = task_state = _get_task_state(body),2,2
openstack%2Ftripleo-ci~master~I6473405025623d0dbd5347a4e348f4bbb9635894,openstack/tripleo-ci,master,I6473405025623d0dbd5347a4e348f4bbb9635894,Port standalone job to os_tempest,MERGED,2019-05-02 08:42:20.000000000,2019-05-06 20:15:34.000000000,2019-05-03 15:50:42.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-02 08:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/185a27174a43989213f75ababcf892ecb82d2fc0', 'message': 'Port standalone job to os_tempest and remove duplicate\n\nThis patch remove tripleo-ci-centos-7-standalone-os-tempest and replace\nvalidate-tempest with os_tempest role in tripleo-ci-centos-7-standalone.\nThe removal of tripleo-ci-centos-7-standalone-os-tempest is because with\ntripleo-ci-centos-7-standalone running os_tempest, it would be a\nduplicate job.\n\nChange-Id: I6473405025623d0dbd5347a4e348f4bbb9635894\n'}, {'number': 2, 'created': '2019-05-02 08:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/947ccd81a7bfdc00fee5c6eaf5984d75a191f89b', 'message': 'Port standalone job to os_tempest and remove duplicate\n\nThis patch remove tripleo-ci-centos-7-standalone-os-tempest and replace\nvalidate-tempest with os_tempest role in tripleo-ci-centos-7-standalone.\nThe removal of tripleo-ci-centos-7-standalone-os-tempest is because with\ntripleo-ci-centos-7-standalone running os_tempest, it would be a\nduplicate job.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1032\n\nChange-Id: I6473405025623d0dbd5347a4e348f4bbb9635894\n'}, {'number': 3, 'created': '2019-05-02 08:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e839533db13d64d1b52a06476bbfe7fe851b5dc6', 'message': 'Port standalone job to os_tempest\n\nChanging tripleo-ci-centos-7-standalone job to use os_tempest instead of\nvalidate-tempest role to execute tempest tests.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1032\n\nChange-Id: I6473405025623d0dbd5347a4e348f4bbb9635894\n'}, {'number': 4, 'created': '2019-05-02 11:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/13d23c68ba860cc7519cfb0d71072b2e370c3569', 'message': 'Port standalone job to os_tempest\n\nChanging tripleo-ci-centos-7-standalone job to use os_tempest instead of\nvalidate-tempest role to execute tempest tests.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1032\n\nChange-Id: I6473405025623d0dbd5347a4e348f4bbb9635894\n'}, {'number': 5, 'created': '2019-05-02 15:51:30.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e0b96a1605de6c28948f665a846163a48ccc9b91', 'message': 'Port standalone job to os_tempest\n\nChanging tripleo-ci-centos-7-standalone job to use os_tempest instead of\nvalidate-tempest role to execute tempest tests.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1032\n\nChange-Id: I6473405025623d0dbd5347a4e348f4bbb9635894\n'}]",3,656748,e0b96a1605de6c28948f665a846163a48ccc9b91,29,10,5,8367,,,0,"Port standalone job to os_tempest

Changing tripleo-ci-centos-7-standalone job to use os_tempest instead of
validate-tempest role to execute tempest tests.

https://tree.taiga.io/project/tripleo-ci-board/task/1032

Change-Id: I6473405025623d0dbd5347a4e348f4bbb9635894
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/48/656748/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,185a27174a43989213f75ababcf892ecb82d2fc0,standalone-os-tempest, run_tempest: false tempest_tempest_conf_overrides: auth.use_dynamic_credentials: true use_os_tempest: true,- job: name: tripleo-ci-centos-7-standalone-os-tempest parent: tripleo-ci-base-standalone nodeset: single-centos-7-node branches: ^(?!stable/(newton|ocata|pike|queens|rocky)).*$ vars: featureset: '052' featureset_override: run_tempest: false use_os_tempest: true tempest_tempest_conf_overrides: auth.use_dynamic_credentials: true tempest_test_whitelist: - 'tempest.api.identity.v3' - 'tempest.scenario.test_server_basic_ops' - 'tempest.api.volume.admin.test_multi_backend' - 'tempest.scenario.test_object_storage_basic_ops',4,17
openstack%2Fnova~master~I2030412566dfc6ec23dbf37685f6e6d145f710dc,openstack/nova,master,I2030412566dfc6ec23dbf37685f6e6d145f710dc,Add regression test for bug 1825034,MERGED,2019-04-16 19:20:21.000000000,2019-05-06 20:10:15.000000000,2019-05-06 18:45:04.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9373}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-16 19:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a4827d1da4312f6275ce3862d3364f80d307596', 'message': 'Add regression test for bug 1825034\n\nThe fill_virtual_interface_list online data migration creates a\nfake mostly empty instance record to satisfy a foreign key constraint\nin the virtual_interfaces table which is used as a marker when paging\nacross cells to fulfill the migration. The problem is if you list deleted\nservers (as admin) with the all_tenants=1 and deleted=1 filters, the API\nwill fail with a 500 error trying to load the instance.flavor field.\n\nThis adds a functional regression test for the bug.\n\nChange-Id: I2030412566dfc6ec23dbf37685f6e6d145f710dc\nRelated-Bug: #1825034\n'}, {'number': 2, 'created': '2019-04-16 19:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/624dbe60aadc0a12ab3c8274b047024a9b4597b5', 'message': 'Add regression test for bug 1825034\n\nThe fill_virtual_interface_list online data migration creates a\nfake mostly empty instance record to satisfy a foreign key constraint\nin the virtual_interfaces table which is used as a marker when paging\nacross cells to fulfill the migration. The problem is if you list deleted\nservers (as admin) with the all_tenants=1 and deleted=1 filters, the API\nwill fail with a 500 error trying to load the instance.flavor field.\n\nThis adds a functional regression test for the bug.\n\nChange-Id: I2030412566dfc6ec23dbf37685f6e6d145f710dc\nRelated-Bug: #1825034\n'}, {'number': 3, 'created': '2019-05-06 17:53:01.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1825034.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/91056970b5359b8410348010ce7a96547272e1c8', 'message': 'Add regression test for bug 1825034\n\nThe fill_virtual_interface_list online data migration creates a\nfake mostly empty instance record to satisfy a foreign key constraint\nin the virtual_interfaces table which is used as a marker when paging\nacross cells to fulfill the migration. The problem is if you list deleted\nservers (as admin) with the all_tenants=1 and deleted=1 filters, the API\nwill fail with a 500 error trying to load the instance.flavor field.\n\nThis adds a functional regression test for the bug.\n\nChange-Id: I2030412566dfc6ec23dbf37685f6e6d145f710dc\nRelated-Bug: #1825034\n'}]",5,653098,91056970b5359b8410348010ce7a96547272e1c8,28,13,3,6873,,,0,"Add regression test for bug 1825034

The fill_virtual_interface_list online data migration creates a
fake mostly empty instance record to satisfy a foreign key constraint
in the virtual_interfaces table which is used as a marker when paging
across cells to fulfill the migration. The problem is if you list deleted
servers (as admin) with the all_tenants=1 and deleted=1 filters, the API
will fail with a 500 error trying to load the instance.flavor field.

This adds a functional regression test for the bug.

Change-Id: I2030412566dfc6ec23dbf37685f6e6d145f710dc
Related-Bug: #1825034
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/653098/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1824435.py'],1,8a4827d1da4312f6275ce3862d3364f80d307596,bug/1825034,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import six from nova import context as nova_context from nova.db import api as db_api from nova.objects import virtual_interface from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional.api import client as api_client from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit.image import fake as fake_image class FillVirtualInterfaceListMigration( test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Regression test for a bug 1825034 introduced in Stein. The fill_virtual_interface_list online data migration creates a mostly empty marker instance record and immediately (soft) deletes it just to satisfy a foreign key constraint with the virtual_interfaces table. The problem is since the fake instance marker record is mostly empty, it can fail to load fields in the API when listing deleted servers. """""" def setUp(self): super(FillVirtualInterfaceListMigration, self).setUp() api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(func_fixtures.PlacementFixture()) self.start_service('conductor') self.start_service('scheduler') self.start_service('compute') # the image fake backend needed for image discovery fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) def _create_server(self): server = self.api.post_server({ 'server': { 'flavorRef': '1', 'name': 'test_fill_vifs_migration', 'networks': [{ 'uuid': nova_fixtures.NeutronFixture.network_1['id'] }], 'imageRef': fake_image.get_valid_image_id() } }) return self._wait_for_state_change(self.api, server, 'ACTIVE') def test_fill_vifs_migration(self): # Create a test server. self._create_server() # Run the online data migration which will create a (soft-deleted) # marker record. ctxt = nova_context.get_admin_context() virtual_interface.fill_virtual_interface_list(ctxt, max_count=50) # Now archive the deleted instance record. table_to_rows_archived, deleted_instance_uuids = ( db_api.archive_deleted_rows(max_rows=1000)) self.assertIn('instances', table_to_rows_archived) self.assertEqual(1, table_to_rows_archived['instances']) self.assertEqual(1, len(deleted_instance_uuids)) self.assertEqual(virtual_interface.FAKE_UUID, deleted_instance_uuids[0]) # Now run the online data migration again which should create a new # marker record. virtual_interface.fill_virtual_interface_list(ctxt, max_count=50) # Now list deleted servers. # FIXME(mriedem): This blows up trying to load fields (flavor) on the # deleted marker flavor (bug 1825034). ex = self.assertRaises(api_client.OpenStackApiException, self.api.get_servers, search_opts={'all_tenants': 1, 'deleted': 1}) self.assertIn('OrphanedObjectError', six.text_type(ex)) ",,89,0
openstack%2Foctavia-dashboard~stable%2Fstein~Id9150597190f146e84a40198e68846f41f8c8662,openstack/octavia-dashboard,stable/stein,Id9150597190f146e84a40198e68846f41f8c8662,Imported Translations from Zanata,MERGED,2019-05-02 08:45:42.000000000,2019-05-06 20:05:53.000000000,2019-05-06 20:05:53.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 08:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/59280241cb2c6aab8d0267382b571a9c397aafb6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id9150597190f146e84a40198e68846f41f8c8662\n'}, {'number': 2, 'created': '2019-05-04 08:20:23.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_TW/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'octavia_dashboard/locale/ko_KR/LC_MESSAGES/djangojs.po', 'octavia_dashboard/locale/de/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/ffafed20ede47b717b897f29dad0f23f8a3c4f1f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id9150597190f146e84a40198e68846f41f8c8662\n'}]",0,656749,ffafed20ede47b717b897f29dad0f23f8a3c4f1f,9,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id9150597190f146e84a40198e68846f41f8c8662
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/49/656749/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_TW/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'octavia_dashboard/locale/ko_KR/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po']",7,59280241cb2c6aab8d0267382b571a9c397aafb6,zanata/translations,,"# Jacky Hu <hudayou@hotmail.com>, 2018. #zanata msgid """" msgstr """" ""Project-Id-Version: octavia-dashboard\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2018-08-30 22:04+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2018-06-03 09:44+0000\n"" ""Last-Translator: Copied by Zanata <copied-by-zanata@zanata.org>\n"" ""Language-Team: Chinese (China)\n"" ""Language: zh_CN\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=1; plural=0\n"" msgid ""1.0.0"" msgstr ""1.0.0"" msgid """" ""A new dashboard wizard for Octavia. Allows you to create an Octavia load "" ""balancer and related resources such as a listener, pool, pool members, and "" ""health monitor."" msgstr """" "" Octavia .  Octavia "" "",,"" msgid ""A view of all the existing Octavia load balancers."" msgstr "" Octavia "" msgid """" ""Ability to associate and disassociate floating IP addresses for a load "" ""balancer."" msgstr "" IP"" msgid """" ""Ability to choose from SSL certificates stored by the key-manager service "" ""when creating a listener using the TERMINATED_HTTPS protocol."" msgstr """" "" key-manager  SSL  TERMINATED_HTTPS "" """" msgid """" ""Ability to choose from existing instances from the compute service or "" ""specify external members when adding members to a pool."" msgstr """" msgid """" ""Ability to create, update, and delete the Octavia load balancer, listener, "" ""pool, pool member, and health monitor resources."" msgstr """" "" Octavia "" msgid """" ""Ability to view details of a Octavia load balancer and drill down to see "" ""details for the listener, pool, pool member, and health monitor resources."" msgstr """" "" Octavia "" """" msgid ""Adds L7 policy support to the dashboard."" msgstr """" msgid ""Adds RBAC support to the dashboard panels."" msgstr "" RBAC "" msgid ""Adds the ability to set the insertion headers on listeners."" msgstr """" msgid ""All objects now allow setting the \""Admin State\""."" msgstr """" msgid ""Created at and Updated at times are now visible on the details pages."" msgstr """" msgid ""Current Series Release Notes"" msgstr """" msgid ""Health monitors can now change the expected HTTP codes."" msgstr "" HTTP "" msgid ""Health monitors can now use alternate IP addresses and ports."" msgstr "" IP "" msgid ""Known Issues"" msgstr """" msgid ""Listener connection limits can now be updated."" msgstr """" msgid ""Members now display the subnet_id on the details page."" msgstr """" msgid ""New Features"" msgstr """" msgid ""Octavia Dashboard Release Notes"" msgstr ""Octavia "" msgid ""Other Notes"" msgstr """" msgid """" ""Pools attached to a load balancer are now listed on the load balancer "" ""details page."" msgstr """" msgid ""Pools can now change the load balancing algorithm after creation."" msgstr """" msgid ""Prelude"" msgstr """" msgid """" ""Provisioning and operating status is now available on all object details "" ""pages."" msgstr """" msgid ""Queens Series Release Notes"" msgstr ""Queens "" msgid """" ""RBAC can now be enabled for the Octavia dashboard. Whether you enable RBAC "" ""in the dashboard or not, the API RBAC will still be in effect. Enabling RBAC "" ""in the dashboard will enforce the policies in the dashboard before the API "" ""call is made."" msgstr """" ""RBAC  Octavia  RBAC"" ""RBAC API  API  RBAC "" msgid ""Security Issues"" msgstr """" msgid """" ""The Octavia team is excited to release the 1.0.0 version of the Octavia "" ""dashboard. This dashboard uses the Octavia API endpoint via the "" ""openstacksdk. This release includes a number of improvements over the old "" ""neutron-lbaas-dashboard that worked against the neutron API endpoint. These "" ""improvements are listed below in the features section of this release note."" msgstr """" ""Octavia  Octavia  1.0.0  "" ""openstacksdk  Octavia API neutron-lbaas-dashboard "" """" msgid """" ""The neutron-lbaas neutron extension is not required to use this dashboard. "" ""Load balancers created with neutron-lbaas that have not been migrated to "" ""Octavia may not be accessible via this dashboard. Only resources accessible "" ""via the Octavia API will be visible in this dashboard."" msgstr """" "" neutron  neutron-lbaas  neutron-lbaas "" "" Octavia  "" ""Octavia API "" msgid ""The object details pages now use a tabbed navigation for child objects."" msgstr """" msgid """" ""The octavia-dashboard requires openstacksdk >= 0.10.0 to resolve an issue "" ""with displaying the health monitor details page. It is expected this will be "" ""included in the OpenStack Queens release."" msgstr """" "" openstacksdk >= 0.10.0 "" "" OpenStack Queens "" msgid """" ""The pool name is now visible in pool selection drop downs in addition to the "" ""pool ID."" msgstr "" ID "" msgid ""The session persistence for a pool can now be changed."" msgstr """" msgid """" ""This dashboard can be used alongside the neutron-lbaas-dashboard, but both "" ""dashboard panels will use the \""Load Balancer\"" labels."" msgstr """" "" neutron-lbaas-dashboard  "" """" msgid """" ""To enable RBAC support in the Octavia dashboard you need to install the "" ""generated octavia_dashboard/conf/octavia_policy.yaml file into your horizon "" ""openstack_dashboard/conf/ directory and also copy octavia_dashboard/"" ""local_settings.d/_1499_load_balancer_settings.py file into your horizon "" ""openstack_dashboard/local/local_settings.d/ directory."" msgstr """" "" Octavia  RBAC  octavia_dashboard/conf/"" ""octavia_policy.yaml  horizon  openstack_dashboard/conf/ "" "" octavia_dashboard/local_settings.d/_1499_load_balancer_settings.py "" "" horizon  openstack_dashboard/local/local_settings.d/ directory "" msgid ""Upgrade Notes"" msgstr """" msgid ""You can now change the default pool on listeners."" msgstr """" ",38,1203
openstack%2Foctavia-dashboard~master~I6cddcab4ff956c3121ba35b0617f991c617dc8b7,openstack/octavia-dashboard,master,I6cddcab4ff956c3121ba35b0617f991c617dc8b7,Changes for url transition to OpenDev,MERGED,2019-04-22 14:16:44.000000000,2019-05-06 19:25:04.000000000,2019-05-06 19:25:04.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-04-22 14:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/1a381354882f32e707e25e4551de021036b3ad35', 'message': 'Changes for url transition to OpenDev\n\nThis commit changes openstack.org URL to opendev.org URL\n\nChange-Id: I6cddcab4ff956c3121ba35b0617f991c617dc8b7\n'}, {'number': 2, 'created': '2019-04-29 14:06:48.000000000', 'files': ['README.rst', 'package.json', 'tox.ini', 'devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/af17a8baa36ca1558ba1a11f93fd9d317dce973e', 'message': 'Changes for url transition to OpenDev\n\nThis commit changes openstack.org URL to opendev.org URL\n\nChange-Id: I6cddcab4ff956c3121ba35b0617f991c617dc8b7\n'}]",0,654461,af17a8baa36ca1558ba1a11f93fd9d317dce973e,12,7,2,29313,,,0,"Changes for url transition to OpenDev

This commit changes openstack.org URL to opendev.org URL

Change-Id: I6cddcab4ff956c3121ba35b0617f991c617dc8b7
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/61/654461/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'package.json', 'tox.ini']",3,1a381354882f32e707e25e4551de021036b3ad35,654461,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},5,5
openstack%2Fopenstack-helm-infra~master~Ied9192f9c5db9fbe761efa7ed89027c4accd8cbb,openstack/openstack-helm-infra,master,Ied9192f9c5db9fbe761efa7ed89027c4accd8cbb,WIP: Elasticsearch updates,ABANDONED,2019-04-26 13:44:10.000000000,2019-05-06 19:18:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-26 13:44:10.000000000', 'files': ['elasticsearch/values.yaml', 'elasticsearch/templates/statefulset-master.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/749d31c2fbd3c5aef8e2355cc962fb5824f6c166', 'message': 'WIP: Elasticsearch updates\n\nChange-Id: Ied9192f9c5db9fbe761efa7ed89027c4accd8cbb\n'}]",0,655904,749d31c2fbd3c5aef8e2355cc962fb5824f6c166,3,1,1,17591,,,0,"WIP: Elasticsearch updates

Change-Id: Ied9192f9c5db9fbe761efa7ed89027c4accd8cbb
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/04/655904/1 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/values.yaml', 'elasticsearch/templates/statefulset-master.yaml']",2,749d31c2fbd3c5aef8e2355cc962fb5824f6c166,elasticsearch-updates,"{{- if .Values.manifests.statefulset_master }}{{- $serviceAccountName := printf ""%s-%s"" .Release.Name ""elasticsearch-master"" }}kind: StatefulSet serviceName: {{ tuple ""elasticsearch"" ""discovery"" . | include ""helm-toolkit.endpoints.hostname_short_endpoint_lookup"" }}{{ dict ""envAll"" $envAll ""podName"" ""elasticsearch-master"" ""containerNames"" (list ""elasticsearch-master"") | include ""helm-toolkit.snippets.kubernetes_mandatory_access_control_annotation"" | indent 8 }} terminationGracePeriodSeconds: {{ .Values.pod.lifecycle.termination_grace_period.data.timeout | default ""600"" }} - sysctl - -w - vm.max_map_count={{ .Values.conf.init.max_map_count }}{{ dict ""envAll"" $envAll ""application"" ""master"" ""container"" ""elasticsearch_master"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }} - name: DISCOVERY_SERVICE value: {{ tuple ""elasticsearch"" ""discovery"" $envAll | include ""helm-toolkit.endpoints.hostname_short_endpoint_lookup"" }}","{{- if .Values.manifests.deployment_master }}{{- $serviceAccountName := ""elasticsearch-master"" }}kind: Deployment{{ tuple $envAll | include ""helm-toolkit.snippets.kubernetes_upgrades_deployment"" | indent 2 }}{{ dict ""envAll"" $envAll ""podName"" ""elasticsearch-master"" ""containerNames"" (list ""elasticsearch-master"") | include ""helm-toolkit.snippets.kubernetes_mandatory_access_control_annotation"" | indent 8 }} terminationGracePeriodSeconds: {{ .Values.pod.lifecycle.termination_grace_period.master.timeout | default ""600"" }} - sysctl - -w - vm.max_map_count={{ .Values.conf.init.max_map_count }}{{ dict ""envAll"" $envAll ""application"" ""master"" ""container"" ""elasticsearch_master"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }} - name: DISCOVERY_SERVICE value: {{ tuple ""elasticsearch"" ""discovery"" $envAll | include ""helm-toolkit.endpoints.hostname_short_endpoint_lookup"" }}",13,13
openstack%2Fopenstack-helm~master~Iad1690e6825a6f3f4afa613bb5d0c9a278a8e2ce,openstack/openstack-helm,master,Iad1690e6825a6f3f4afa613bb5d0c9a278a8e2ce,DNM: set tempest test backofflimit high to determine failure cause,ABANDONED,2019-04-16 16:13:20.000000000,2019-05-06 19:18:01.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-04-16 16:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f49cc697bac248babf8949b01499b733af44489b', 'message': 'DNM: set tempest test backofflimit high to determine failure cause\n\nChange-Id: Iad1690e6825a6f3f4afa613bb5d0c9a278a8e2ce\n'}, {'number': 2, 'created': '2019-04-16 16:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c6c1962c36d24ed4b67aa4884387e516633966ce', 'message': 'DNM: set tempest test backofflimit high to determine failure cause\n\nChange-Id: Iad1690e6825a6f3f4afa613bb5d0c9a278a8e2ce\n'}, {'number': 3, 'created': '2019-04-16 18:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f77fd569705d5e11493831f06eed9a2c2af58b5d', 'message': 'DNM: set tempest test backofflimit high to determine failure cause\n\nDepends-On: https://review.openstack.org/#/c/603229/\nChange-Id: Iad1690e6825a6f3f4afa613bb5d0c9a278a8e2ce\n'}, {'number': 4, 'created': '2019-04-16 18:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d93e512215832292585ca198e6fb8b41f471e957', 'message': 'DNM: set tempest test backofflimit high to determine failure cause\n\nDepends-On: https://review.openstack.org/#/c/603229/\nChange-Id: Iad1690e6825a6f3f4afa613bb5d0c9a278a8e2ce\n'}, {'number': 5, 'created': '2019-04-17 08:11:20.000000000', 'files': ['tempest/templates/job-run-tests.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2d9f2430eb3a5fd3d95e22e5050159091ef3e336', 'message': 'DNM: set tempest test backofflimit high to determine failure cause\n\nDepends-On: https://review.openstack.org/#/c/603229/\nChange-Id: Iad1690e6825a6f3f4afa613bb5d0c9a278a8e2ce\n'}]",0,653038,2d9f2430eb3a5fd3d95e22e5050159091ef3e336,13,3,5,17591,,,0,"DNM: set tempest test backofflimit high to determine failure cause

Depends-On: https://review.openstack.org/#/c/603229/
Change-Id: Iad1690e6825a6f3f4afa613bb5d0c9a278a8e2ce
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/38/653038/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/templates/job-run-tests.yaml'],1,f49cc697bac248babf8949b01499b733af44489b,update_test_backoff, backoffLimit: 100,,1,0
openstack%2Fopenstack-helm~master~I6f532fd54e49eeac9793a10282566a0ae3b9d3f7,openstack/openstack-helm,master,I6f532fd54e49eeac9793a10282566a0ae3b9d3f7,Add ubuntu multinode job as experimental check,ABANDONED,2019-03-26 16:00:30.000000000,2019-05-06 19:17:47.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 28435}]","[{'number': 1, 'created': '2019-03-26 16:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f36d208da7517ae9bfeb9fdfdbf89a33bf8ceb4e', 'message': 'Add ubuntu multinode job as experimental check\n\nThis adds the ubuntu multinode job as an experimental check to\nhelp supplement the armada experimental jobs\n\nChange-Id: I6f532fd54e49eeac9793a10282566a0ae3b9d3f7\n'}, {'number': 2, 'created': '2019-03-26 16:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fc7f0e186e583d0fea194947091b0ac9e0c36f26', 'message': 'Add ubuntu multinode job as experimental check\n\nThis adds the ubuntu multinode job as an experimental check to\nhelp supplement the armada experimental jobs\n\nChange-Id: I6f532fd54e49eeac9793a10282566a0ae3b9d3f7\n'}, {'number': 3, 'created': '2019-03-28 19:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ebfc7f80e6709448a9f1e72eceb7655426ecdf29', 'message': 'Add ubuntu multinode job as experimental check\n\nThis adds the ubuntu multinode job as an experimental check to\nhelp supplement the armada experimental jobs.\n\nChange-Id: I6f532fd54e49eeac9793a10282566a0ae3b9d3f7\n'}, {'number': 4, 'created': '2019-03-28 19:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4d317a4ae29b637bc895710fad7b56b417c1944d', 'message': 'Add ubuntu multinode job as experimental check\n\nThis adds the ubuntu multinode job as an experimental check to\nhelp supplement the armada experimental jobs.\n\nChange-Id: I6f532fd54e49eeac9793a10282566a0ae3b9d3f7\n'}, {'number': 5, 'created': '2019-04-03 03:48:25.000000000', 'files': ['tools/gate/playbooks/multinode-deploy.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c1b4f91eb974dc098618a6376b1afe771c01ae66', 'message': 'Add ubuntu multinode job as experimental check\n\nThis adds the ubuntu multinode job as an experimental check to\nhelp supplement the armada experimental jobs.\n\nChange-Id: I6f532fd54e49eeac9793a10282566a0ae3b9d3f7\n'}]",0,647787,c1b4f91eb974dc098618a6376b1afe771c01ae66,15,3,5,17591,,,0,"Add ubuntu multinode job as experimental check

This adds the ubuntu multinode job as an experimental check to
help supplement the armada experimental jobs.

Change-Id: I6f532fd54e49eeac9793a10282566a0ae3b9d3f7
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/87/647787/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f36d208da7517ae9bfeb9fdfdbf89a33bf8ceb4e,multinode-periodic, - openstack-helm-multinode-temp-ubuntu,,1,0
openstack%2Fopenstack-helm-infra~master~Icb710a85fed3667ecccb147a82c835f8dfae1e5a,openstack/openstack-helm-infra,master,Icb710a85fed3667ecccb147a82c835f8dfae1e5a,WIP: Create unique Elasticsearch indices for services,ABANDONED,2019-02-25 13:14:46.000000000,2019-05-06 19:17:39.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-25 13:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2071c19b3cd89ee77774d1223c3622cb328dfbfe', 'message': 'WIP: Create separate Elasticsearch indices\n\nChange-Id: Icb710a85fed3667ecccb147a82c835f8dfae1e5a\n'}, {'number': 2, 'created': '2019-02-25 18:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/94ee33413bd86fd4dc666099731b9e0a24a0dda6', 'message': 'WIP: Create separate Elasticsearch indices\n\nChange-Id: Icb710a85fed3667ecccb147a82c835f8dfae1e5a\n'}, {'number': 3, 'created': '2019-02-25 20:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/317716546821a7ffd51d9db587e0ac1d0ff4c764', 'message': 'Create unique Elasticsearch indices for services\n\nThis creates a separate Elasticsearch index for the core openstack\nservices as well as the supporting LMA focused services. This\nallows for finer control over the lifecycle of the logs gathered\nfrom these services\n\nChange-Id: Icb710a85fed3667ecccb147a82c835f8dfae1e5a\n'}, {'number': 4, 'created': '2019-02-25 20:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/687c2cd6ee7b7c5438611c3d3f1af290ee53fab5', 'message': 'Create unique Elasticsearch indices for services\n\nThis creates a separate Elasticsearch index for the core openstack\nservices as well as the supporting LMA focused services. This\nallows for finer control over the lifecycle of the logs gathered\nfrom these services\n\nChange-Id: Icb710a85fed3667ecccb147a82c835f8dfae1e5a\n'}, {'number': 5, 'created': '2019-02-25 20:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/78e3558010a121a889c2a7021d0fb875ab4132ee', 'message': 'WIP: Create unique Elasticsearch indices for services\n\nThis creates a separate Elasticsearch index for the following\nservices: ceph, kibana, grafana, elasticsearch, prometheus, nagios\nand the core openstack services. This allows for finer control\nover the lifecycle of logged events from these services\n\nChange-Id: Icb710a85fed3667ecccb147a82c835f8dfae1e5a\n'}, {'number': 6, 'created': '2019-03-04 16:39:51.000000000', 'files': ['elasticsearch/values.yaml', 'tools/deployment/armada/030-armada-apply-manifests.sh', 'fluent-logging/templates/bin/_helm-tests.sh.tpl', 'tools/deployment/armada/manifests/armada-lma.yaml', 'fluent-logging/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ca11f643bb5f826995f6b676d6d4b54c264ed497', 'message': 'WIP: Create unique Elasticsearch indices for services\n\nThis creates a separate Elasticsearch index for the following\nservices: ceph, kibana, grafana, elasticsearch, prometheus, nagios\nand the core openstack services. This allows for finer control\nover the lifecycle of logged events from these services\n\nChange-Id: Icb710a85fed3667ecccb147a82c835f8dfae1e5a\n'}]",0,639085,ca11f643bb5f826995f6b676d6d4b54c264ed497,14,2,6,17591,,,0,"WIP: Create unique Elasticsearch indices for services

This creates a separate Elasticsearch index for the following
services: ceph, kibana, grafana, elasticsearch, prometheus, nagios
and the core openstack services. This allows for finer control
over the lifecycle of logged events from these services

Change-Id: Icb710a85fed3667ecccb147a82c835f8dfae1e5a
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/85/639085/3 && git format-patch -1 --stdout FETCH_HEAD,['fluent-logging/values.yaml'],1,2071c19b3cd89ee77774d1223c3622cb328dfbfe,update-elasticsearch-indexes," - ceph_elasticsearch: expression: ""ceph**"" logstash_prefix: ceph type_name: ceph_logs - horizon_elasticsearch: expression: ""**.horizon-**.log"" logstash_prefix: horizon type_name: fluent - calico_elasticsearch: expression: ""**.calico-**.log"" logstash_prefix: calico type_name: fluent - keystone_elasticsearch: expression: ""**.keystone.**"" logstash_prefix: keystone - glance_elasticsearch: header: match type: elasticsearch user: ""#{ENV['ELASTICSEARCH_USERNAME']}"" password: ""#{ENV['ELASTICSEARCH_PASSWORD']}"" expression: ""**.glance.**"" include_tag_key: true host: ""#{ENV['ELASTICSEARCH_HOST']}"" port: ""#{ENV['ELASTICSEARCH_PORT']}"" logstash_format: true logstash_prefix: glance buffer: - - header: buffer flush_thread_count: 8 flush_interval: ""15"" chunk_limit_size: 8MB queue_limit_length: 256 retry_max_interval: 30 retry_forever: false - nova_elasticsearch: header: match type: elasticsearch user: ""#{ENV['ELASTICSEARCH_USERNAME']}"" password: ""#{ENV['ELASTICSEARCH_PASSWORD']}"" expression: ""**.nova.**"" include_tag_key: true host: ""#{ENV['ELASTICSEARCH_HOST']}"" port: ""#{ENV['ELASTICSEARCH_PORT']}"" logstash_format: true logstash_prefix: nova buffer: - - header: buffer flush_thread_count: 8 flush_interval: ""15"" chunk_limit_size: 8MB queue_limit_length: 256 retry_max_interval: 30 retry_forever: false num_threads: 8 - cinder_elasticsearch: header: match type: elasticsearch user: ""#{ENV['ELASTICSEARCH_USERNAME']}"" password: ""#{ENV['ELASTICSEARCH_PASSWORD']}"" expression: ""**.cinder.**"" include_tag_key: true host: ""#{ENV['ELASTICSEARCH_HOST']}"" port: ""#{ENV['ELASTICSEARCH_PORT']}"" logstash_format: true logstash_prefix: cinder buffer: - - header: buffer flush_thread_count: 8 flush_interval: ""15"" chunk_limit_size: 8MB queue_limit_length: 256 retry_max_interval: 30 retry_forever: false - neutron_elasticsearch: header: match type: elasticsearch user: ""#{ENV['ELASTICSEARCH_USERNAME']}"" password: ""#{ENV['ELASTICSEARCH_PASSWORD']}"" expression: ""**.neutron.**"" include_tag_key: true host: ""#{ENV['ELASTICSEARCH_HOST']}"" port: ""#{ENV['ELASTICSEARCH_PORT']}"" logstash_format: true logstash_prefix: neutron buffer: - - header: buffer flush_thread_count: 8 flush_interval: ""15"" chunk_limit_size: 8MB queue_limit_length: 256 retry_max_interval: 30 retry_forever: false - heat_elasticsearch: header: match type: elasticsearch user: ""#{ENV['ELASTICSEARCH_USERNAME']}"" password: ""#{ENV['ELASTICSEARCH_PASSWORD']}"" expression: ""**.heat.**"" include_tag_key: true host: ""#{ENV['ELASTICSEARCH_HOST']}"" port: ""#{ENV['ELASTICSEARCH_PORT']}"" logstash_format: true logstash_prefix: heat buffer: - - header: buffer flush_thread_count: 8 flush_interval: ""15"" chunk_limit_size: 8MB queue_limit_length: 256 retry_max_interval: 30 retry_forever: false - grafana_elasticsearch: header: match type: elasticsearch user: ""#{ENV['ELASTICSEARCH_USERNAME']}"" password: ""#{ENV['ELASTICSEARCH_PASSWORD']}"" expression: ""**.kube.var.log.containers.grafana**.log"" include_tag_key: true host: ""#{ENV['ELASTICSEARCH_HOST']}"" port: ""#{ENV['ELASTICSEARCH_PORT']}"" logstash_format: true logstash_prefix: grafana buffer: - - header: buffer flush_thread_count: 8 flush_interval: ""15"" chunk_limit_size: 8MB queue_limit_length: 256 retry_max_interval: 30 retry_forever: false - prometheus_elasticsearch: header: match type: elasticsearch user: ""#{ENV['ELASTICSEARCH_USERNAME']}"" password: ""#{ENV['ELASTICSEARCH_PASSWORD']}"" expression: ""**.kube.var.log.containers.prometheus**.log"" include_tag_key: true host: ""#{ENV['ELASTICSEARCH_HOST']}"" port: ""#{ENV['ELASTICSEARCH_PORT']}"" logstash_format: true logstash_prefix: prometheus buffer: - - header: buffer flush_thread_count: 8 flush_interval: ""15"" chunk_limit_size: 8MB queue_limit_length: 256 retry_max_interval: 30 retry_forever: false - kibana_elasticsearch: header: match type: elasticsearch user: ""#{ENV['ELASTICSEARCH_USERNAME']}"" password: ""#{ENV['ELASTICSEARCH_PASSWORD']}"" expression: ""**.kube.var.log.containers.kibana**.log"" include_tag_key: true host: ""#{ENV['ELASTICSEARCH_HOST']}"" port: ""#{ENV['ELASTICSEARCH_PORT']}"" logstash_format: true logstash_prefix: kibana buffer: - - header: buffer flush_thread_count: 8 flush_interval: ""15"" chunk_limit_size: 8MB queue_limit_length: 256 retry_max_interval: 30 retry_forever: false - elasticsearch_elasticsearch: header: match type: elasticsearch user: ""#{ENV['ELASTICSEARCH_USERNAME']}"" password: ""#{ENV['ELASTICSEARCH_PASSWORD']}"" expression: ""**.kube.var.log.containers.elasticsearch**.log"" include_tag_key: true host: ""#{ENV['ELASTICSEARCH_HOST']}"" port: ""#{ENV['ELASTICSEARCH_PORT']}"" logstash_format: true logstash_prefix: elasticsearch buffer: - - header: buffer flush_thread_count: 8 flush_interval: ""15"" chunk_limit_size: 8MB queue_limit_length: 256 retry_max_interval: 30 retry_forever: false - nagios_elasticsearch: header: match type: elasticsearch user: ""#{ENV['ELASTICSEARCH_USERNAME']}"" password: ""#{ENV['ELASTICSEARCH_PASSWORD']}"" expression: ""**.kube.var.log.containers.nagios**.log"" include_tag_key: true host: ""#{ENV['ELASTICSEARCH_HOST']}"" port: ""#{ENV['ELASTICSEARCH_PORT']}"" logstash_format: true logstash_prefix: nagios buffer: - - header: buffer flush_thread_count: 8 flush_interval: ""15"" chunk_limit_size: 8MB queue_limit_length: 256 retry_max_interval: 30 retry_forever: false # - libvirt_elasticsearch: # header: match # type: elasticsearch # user: ""#{ENV['ELASTICSEARCH_USERNAME']}"" # password: ""#{ENV['ELASTICSEARCH_PASSWORD']}"" # expression: ""libvirt"" # include_tag_key: true # host: ""#{ENV['ELASTICSEARCH_HOST']}"" # port: ""#{ENV['ELASTICSEARCH_PORT']}"" # logstash_format: true # logstash_prefix: libvirt # buffer: # - # - header: buffer # flush_thread_count: 8 # flush_interval: ""15"" # chunk_limit_size: 8MB # queue_limit_length: 256 # retry_max_interval: 30 # retry_forever: false # - qemu_elasticsearch: # header: match # type: elasticsearch # user: ""#{ENV['ELASTICSEARCH_USERNAME']}"" # password: ""#{ENV['ELASTICSEARCH_PASSWORD']}"" # expression: ""qemu"" # include_tag_key: true # host: ""#{ENV['ELASTICSEARCH_HOST']}"" # port: ""#{ENV['ELASTICSEARCH_PORT']}"" # logstash_format: true # logstash_prefix: qemu # buffer: # - # - header: buffer # flush_thread_count: 8 # flush_interval: ""15"" # chunk_limit_size: 8MB # queue_limit_length: 256 # retry_max_interval: 30 # retry_forever: false # - journal_elasticsearch: # header: match # type: elasticsearch # user: ""#{ENV['ELASTICSEARCH_USERNAME']}"" # password: ""#{ENV['ELASTICSEARCH_PASSWORD']}"" # expression: ""journal.**"" # include_tag_key: true # host: ""#{ENV['ELASTICSEARCH_HOST']}"" # port: ""#{ENV['ELASTICSEARCH_PORT']}"" # logstash_format: true # logstash_prefix: journal # buffer: # - # - header: buffer # flush_thread_count: 8 # flush_interval: ""15"" # chunk_limit_size: 8MB # queue_limit_length: 256 # retry_max_interval: 30 # retry_forever: false # - kernel_elasticsearch: # header: match # type: elasticsearch # user: ""#{ENV['ELASTICSEARCH_USERNAME']}"" # password: ""#{ENV['ELASTICSEARCH_PASSWORD']}"" # expression: ""kernel"" # include_tag_key: true # host: ""#{ENV['ELASTICSEARCH_HOST']}"" # port: ""#{ENV['ELASTICSEARCH_PORT']}"" # logstash_format: true # logstash_prefix: kernel # buffer: # - # - header: buffer # flush_thread_count: 8 # flush_interval: ""15"" # chunk_limit_size: 8MB # queue_limit_length: 256 # retry_max_interval: 30 # retry_forever: false ceph_logs: template: ""ceph-*"" index_patterns: ""ceph-*"" settings: number_of_shards: 1 mappings: ceph_logs: properties: log: type: text"," - kernel_messages: header: input Name: tail Tag: kernel Path: /var/log/kern.log Mem_Buf_Limit: 5MB Buffer_Chunk_Size: 1M Buffer_Max_Size: 1M - libvirt: header: input Name: tail Tag: libvirt Path: /var/log/libvirt/libvirtd.log Mem_Buf_Limit: 5MB Buffer_Chunk_Size: 1M Buffer_Max_Size: 1M - qemu: header: input Name: tail Tag: qemu Path: /var/log/libvirt/qemu/*.log Mem_Buf_Limit: 5MB Buffer_Chunk_Size: 1M Buffer_Max_Size: 1M - kubelet: header: input Name: systemd Tag: journal.* Path: ${JOURNAL_PATH} Systemd_Filter: _SYSTEMD_UNIT=kubelet.service Mem_Buf_Limit: 5MB Buffer_Chunk_Size: 1M Buffer_Max_Size: 1M - docker_daemon: header: input Name: systemd Tag: journal.* Path: ${JOURNAL_PATH} Systemd_Filter: _SYSTEMD_UNIT=docker.service Mem_Buf_Limit: 5MB Buffer_Chunk_Size: 1M Buffer_Max_Size: 1M #NOTE(tp6510): This prefixes the tag for auth entries # it allows for lookups on openstack logs with # a particular auth log (ie: auth.openstack.keystone) - tag_auth_log: header: match type: rewrite_tag_filter expression: ""*.openstack.**"" rule: - - header: rule key: application pattern: keystone tag: auth.${tag} - header: rule key: application pattern: horizon tag: auth.${tag} - header: rule key: application pattern: mariadb tag: auth.${tag} - header: rule key: application pattern: memcached tag: auth.${tag} - header: rule key: application pattern: rabbitmq tag: auth.${tag} - libvirt_elasticsearch: expression: ""libvirt"" logstash_prefix: libvirt - qemu_elasticsearch: expression: ""qemu"" logstash_prefix: qemu - journal_elasticsearch: expression: ""journal.**"" logstash_prefix: journal - kernel_elasticsearch: expression: ""kernel"" logstash_prefix: kernel",306,83
openstack%2Fopenstack-helm~master~I7f8941e044333c5d6bec92488aac59d9155ca2b1,openstack/openstack-helm,master,I7f8941e044333c5d6bec92488aac59d9155ca2b1,WIP: Deploy selenium in Armada check job,ABANDONED,2019-01-08 22:24:52.000000000,2019-05-06 19:17:24.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-08 22:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/71dfca971c8043e91cd37cbf7150efcb428891b0', 'message': 'WIP: Deploy selenium in Armada check job\n\nChange-Id: I7f8941e044333c5d6bec92488aac59d9155ca2b1\n'}, {'number': 2, 'created': '2019-01-10 14:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2b8580b142fb217b726ff36b118acd87dded740d', 'message': 'WIP: Deploy selenium in Armada check job\n\nChange-Id: I7f8941e044333c5d6bec92488aac59d9155ca2b1\n'}, {'number': 3, 'created': '2019-01-11 15:36:46.000000000', 'files': ['tools/gate/playbooks/osh-infra-deploy-selenium.yaml', 'tools/deployment/armada/generate-passwords.sh', 'tools/gate/playbooks/armada-fullstack-deploy.yaml', 'tools/deployment/armada/manifests/armada-lma.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ef313387ff405148f6860056a962bf597f5d66bc', 'message': 'WIP: Deploy selenium in Armada check job\n\nChange-Id: I7f8941e044333c5d6bec92488aac59d9155ca2b1\n'}]",0,629327,ef313387ff405148f6860056a962bf597f5d66bc,19,2,3,17591,,,0,"WIP: Deploy selenium in Armada check job

Change-Id: I7f8941e044333c5d6bec92488aac59d9155ca2b1
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/27/629327/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/playbooks/osh-infra-deploy-selenium.yaml', 'tools/deployment/armada/generate-passwords.sh', 'tools/gate/playbooks/armada-fullstack-deploy.yaml', 'tools/deployment/armada/manifests/armada-lma.yaml']",4,71dfca971c8043e91cd37cbf7150efcb428891b0,armada/selenium,, endpoints: monitoring: auth: admin: password: ${PROMETHEUS_ADMIN_PASSWORD} monitoring: auth: admin: password: ${PROMETHEUS_ADMIN_PASSWORD} monitoring: auth: admin: password: ${PROMETHEUS_ADMIN_PASSWORD} grafana: auth: admin: password: ${GRAFANA_ADMIN_PASSWORD},62,19
openstack%2Fopenstack-helm-infra~master~I9a85b4fb0f39230792c6bf1bc01fb6ddf2bd473a,openstack/openstack-helm-infra,master,I9a85b4fb0f39230792c6bf1bc01fb6ddf2bd473a,Node Exporter: Enable systemd collector,ABANDONED,2018-10-22 18:08:03.000000000,2019-05-06 19:17:15.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-10-22 18:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/21c995219e7e384c2a4499ad45f24830a5155ff0', 'message': ""Node Exporter: Enable systemd collector, fix flags\n\nThis updates the node exporter chart to enable the systemd metrics\ncollector, as it is disabled by default. This also removes a few\nnamespace entries in the chart, and also removes a flag from the\ncharts entrypoint that doesn't exist. This flag was missed due to\na missing '\\' character that appended the line to the overall\nflags used at the container's startup\n\nChange-Id: I9a85b4fb0f39230792c6bf1bc01fb6ddf2bd473a\n""}, {'number': 2, 'created': '2018-10-24 12:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4efaa20ee8c42c65a2d89e3a51bb5f8738f59b85', 'message': ""Node Exporter: Enable systemd collector, fix flags\n\nThis updates the node exporter chart to enable the systemd metrics\ncollector, as it is disabled by default. This also removes a few\nnamespace entries in the chart, and also removes a flag from the\ncharts entrypoint that doesn't exist. This flag was missed due to\na missing '\\' character that appended the line to the overall\nflags used at the container's startup\n\nChange-Id: I9a85b4fb0f39230792c6bf1bc01fb6ddf2bd473a\n""}, {'number': 3, 'created': '2018-10-25 05:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/60c4c59a7fa6ed7e336a6785d0aa1d173d5d1b5f', 'message': ""Node Exporter: Enable systemd collector, fix flags\n\nThis updates the node exporter chart to enable the systemd metrics\ncollector, as it is disabled by default. This also removes a few\nnamespace entries in the chart, and also removes a flag from the\ncharts entrypoint that doesn't exist. This flag was missed due to\na missing '\\' character that appended the line to the overall\nflags used at the container's startup\n\nChange-Id: I9a85b4fb0f39230792c6bf1bc01fb6ddf2bd473a\n""}, {'number': 4, 'created': '2018-11-27 18:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4e1c78e348d2e52a852efc5b483ec807df01d1de', 'message': 'Node Exporter: Enable systemd collector, fix flags\n\nThis updates the node exporter chart to enable the systemd metrics\ncollector, as it is disabled by default. This also removes a few\nnamespace entries in the chart.\n\nChange-Id: I9a85b4fb0f39230792c6bf1bc01fb6ddf2bd473a\n'}, {'number': 5, 'created': '2018-11-27 18:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5cdb39c3553b40b4205747ba134a34df627076a0', 'message': 'Node Exporter: Enable systemd collector\n\nThis updates the node exporter chart to enable the systemd metrics\ncollector, as it is disabled by default. This also removes a few\nnamespace entries in the chart.\n\nChange-Id: I9a85b4fb0f39230792c6bf1bc01fb6ddf2bd473a\n'}, {'number': 6, 'created': '2019-01-14 08:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/84c9325bf3e84b04c940fcc4c8f66cbc9d2f7aee', 'message': 'Node Exporter: Enable systemd collector\n\nThis updates the node exporter chart to enable the systemd metrics\ncollector, as it is disabled by default. This also removes a few\nnamespace entries in the chart.\n\nChange-Id: I9a85b4fb0f39230792c6bf1bc01fb6ddf2bd473a\n'}, {'number': 7, 'created': '2019-01-22 05:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9168bc9ceeeadc6e120d8f17caed8bef539b592e', 'message': 'Node Exporter: Enable systemd collector\n\nThis updates the node exporter chart to enable the systemd metrics\ncollector, as it is disabled by default. This also removes a few\nnamespace entries in the chart.\n\nChange-Id: I9a85b4fb0f39230792c6bf1bc01fb6ddf2bd473a\n'}, {'number': 8, 'created': '2019-03-06 03:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0443e5fb1d249777cc4afd234a4ce08ec715e7db', 'message': 'Node Exporter: Enable systemd collector\n\nThis updates the node exporter chart to enable the systemd metrics\ncollector, as it is disabled by default. This also removes a few\nnamespace entries in the chart.\n\nChange-Id: I9a85b4fb0f39230792c6bf1bc01fb6ddf2bd473a\n'}, {'number': 9, 'created': '2019-03-15 13:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7abf87292533dfdaac9620eec103bb3775bc486d', 'message': 'Node Exporter: Enable systemd collector\n\nThis updates the node exporter chart to enable the systemd metrics\ncollector, as it is disabled by default. This also removes a few\nnamespace entries in the chart.\n\nChange-Id: I9a85b4fb0f39230792c6bf1bc01fb6ddf2bd473a\n'}, {'number': 10, 'created': '2019-03-15 15:51:24.000000000', 'files': ['prometheus-node-exporter/values.yaml', 'prometheus-node-exporter/templates/daemonset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d2ad5c97fb7cbcebc3336ec0fb300d2f04151bed', 'message': 'Node Exporter: Enable systemd collector\n\nThis updates the node exporter chart to enable the systemd metrics\ncollector, as it is disabled by default. This also removes a few\nnamespace entries in the chart.\n\nChange-Id: I9a85b4fb0f39230792c6bf1bc01fb6ddf2bd473a\n'}]",0,612465,d2ad5c97fb7cbcebc3336ec0fb300d2f04151bed,27,3,10,17591,,,0,"Node Exporter: Enable systemd collector

This updates the node exporter chart to enable the systemd metrics
collector, as it is disabled by default. This also removes a few
namespace entries in the chart.

Change-Id: I9a85b4fb0f39230792c6bf1bc01fb6ddf2bd473a
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/65/612465/9 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-node-exporter/templates/bin/_node-exporter.sh.tpl', 'prometheus-node-exporter/templates/daemonset.yaml']",2,21c995219e7e384c2a4499ad45f24830a5155ff0,node_exporter/flags, securityContext: privileged: true - name: systemd-socket mountPath: /var/run/dbus/system_bus_socket readOnly: true - name: systemd-socket hostPath: path: /var/run/dbus/system_bus_socket, namespace: {{ .Values.endpoints.node_metrics.namespace }} namespace: {{ .Values.endpoints.node_metrics.namespace }},10,4
openstack%2Fopenstack-helm-infra~master~I194459f37a9044e34015a1d474663968a45cbb7c,openstack/openstack-helm-infra,master,I194459f37a9044e34015a1d474663968a45cbb7c,WIP: Add helm tests for Prometheus exporters,ABANDONED,2018-10-11 20:27:09.000000000,2019-05-06 19:17:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-11 20:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/46929a46bac7f9970cb53c85f1c047efd31d84ae', 'message': 'WIP: Add helm tests for Prometheus exporters\n\nChange-Id: I194459f37a9044e34015a1d474663968a45cbb7c\n'}, {'number': 2, 'created': '2018-10-12 19:41:04.000000000', 'files': ['prometheus-node-exporter/values.yaml', 'prometheus-node-exporter/templates/configmap-bin.yaml', 'prometheus-node-exporter/templates/pod-helm-tests.yaml', 'prometheus-node-exporter/templates/bin/_helm-tests.sh.tpl', 'tools/deployment/common/080-node-exporter.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/21a37f4c8a5dea9533ab316bc4181e7acbb090a1', 'message': 'WIP: Add helm tests for Prometheus exporters\n\nChange-Id: I194459f37a9044e34015a1d474663968a45cbb7c\n'}]",0,609808,21a37f4c8a5dea9533ab316bc4181e7acbb090a1,5,1,2,17591,,,0,"WIP: Add helm tests for Prometheus exporters

Change-Id: I194459f37a9044e34015a1d474663968a45cbb7c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/08/609808/2 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-node-exporter/values.yaml', 'prometheus-node-exporter/templates/configmap-bin.yaml', 'prometheus-node-exporter/templates/pod-helm-tests.yaml', 'prometheus-node-exporter/templates/bin/_helm-tests.sh.tpl', 'tools/deployment/common/080-node-exporter.sh']",5,46929a46bac7f9970cb53c85f1c047efd31d84ae,exporters/helm_tests, helm test prometheus-node-exporter,,111,0
openstack%2Fopenstack-helm~master~I63db2a5dca133fdff3d23e2d8fdd3f12e0fd7dd7,openstack/openstack-helm,master,I63db2a5dca133fdff3d23e2d8fdd3f12e0fd7dd7,Update openstack armada manifest,ABANDONED,2019-03-26 14:00:24.000000000,2019-05-06 19:16:54.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-26 14:00:24.000000000', 'files': ['tools/deployment/armada/manifests/armada-osh.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3f9efe7f3ed229da7610c32c2bb5b0b3cbe5aa9c', 'message': 'Update openstack armada manifest\n\nThis updates the armada-osh manifest to include:\n- updated dependencies for each chart on rabbitmq cluster wait job\n- add upgrade options to the mariadb and rabbitmq charts to force\n  an upgrade and to recreate all rabbitmq pods on upgrades\n\nChange-Id: I63db2a5dca133fdff3d23e2d8fdd3f12e0fd7dd7\n'}]",0,647746,3f9efe7f3ed229da7610c32c2bb5b0b3cbe5aa9c,5,2,1,17591,,,0,"Update openstack armada manifest

This updates the armada-osh manifest to include:
- updated dependencies for each chart on rabbitmq cluster wait job
- add upgrade options to the mariadb and rabbitmq charts to force
  an upgrade and to recreate all rabbitmq pods on upgrades

Change-Id: I63db2a5dca133fdff3d23e2d8fdd3f12e0fd7dd7
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/46/647746/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/armada/manifests/armada-osh.yaml'],1,3f9efe7f3ed229da7610c32c2bb5b0b3cbe5aa9c,update-osh-armada, options: force: true resources: - type: statefulset - type: job options: force: true recreate_pods: true dependencies: static: rabbit_init: services: - endpoint: internal service: oslo_messaging jobs: - osh-rabbitmq-cluster-wait dependencies: static: rabbit_init: services: - endpoint: internal service: oslo_messaging jobs: - osh-rabbitmq-cluster-wait dependencies: static: rabbit_init: services: - endpoint: internal service: oslo_messaging jobs: - osh-rabbitmq-cluster-wait dependencies: static: rabbit_init: services: - endpoint: internal service: oslo_messaging jobs: - osh-rabbitmq-cluster-wait dependencies: static: rabbit_init: services: - endpoint: internal service: oslo_messaging jobs: - osh-rabbitmq-cluster-wait dependencies: static: rabbit_init: services: - endpoint: internal service: oslo_messaging jobs: - osh-rabbitmq-cluster-wait,,56,0
openstack%2Fpython-magnumclient~master~I10e74e8dc5a727f93f4401fc5dcbaa87bd431e20,openstack/python-magnumclient,master,I10e74e8dc5a727f93f4401fc5dcbaa87bd431e20,Adding extra-labels feature and bug fixes,ABANDONED,2019-05-06 17:24:14.000000000,2019-05-06 19:03:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-06 17:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/2d58c7c06f1b7b857cd77c7bacacda5ce40b850a', 'message': 'Adding extra-labels feature and bug fixes\n\nSupporting topic 2 from\nhttps://etherpad.openstack.org/p/magnum-train-ptg\nThis adds extra-labels feature and fixes comma\ndelimited parsing to be more intelligent and respect\nquoted variables such as nested lists\nAlso contains KeyError and incorrect path bugfix\n\nChange-Id: I10e74e8dc5a727f93f4401fc5dcbaa87bd431e20\n'}, {'number': 2, 'created': '2019-05-06 17:53:36.000000000', 'files': ['magnumclient/common/utils.py', 'magnumclient/osc/v1/clusters.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/29f5cdacb59ece5f5399d58761aefe9d72c31ebf', 'message': 'Adding extra-labels feature and bug fixes\n\nSupporting topic 2 from\nhttps://etherpad.openstack.org/p/magnum-train-ptg\nThis adds extra-labels feature and fixes comma\ndelimited parsing to be more intelligent and respect\nquoted variables such as nested lists\nAlso contains KeyError and incorrect path bugfix\n\nChange-Id: I10e74e8dc5a727f93f4401fc5dcbaa87bd431e20\n'}]",0,657410,29f5cdacb59ece5f5399d58761aefe9d72c31ebf,5,1,2,28411,,,0,"Adding extra-labels feature and bug fixes

Supporting topic 2 from
https://etherpad.openstack.org/p/magnum-train-ptg
This adds extra-labels feature and fixes comma
delimited parsing to be more intelligent and respect
quoted variables such as nested lists
Also contains KeyError and incorrect path bugfix

Change-Id: I10e74e8dc5a727f93f4401fc5dcbaa87bd431e20
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/10/657410/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnumclient/common/utils.py', 'magnumclient/osc/v1/clusters.py']",2,2d58c7c06f1b7b857cd77c7bacacda5ce40b850a,extralabels," parser.add_argument('--extra-labels', metavar='<KEY1=VALUE1,KEY2=""VALUE2A,VALUE2B""...>', help=_('additional driver specified labels in the ' 'form of key=value' 'pairs to associate with a cluster ' 'template. May be used once.')) if parsed_args.extra_labels is not None: if 'labels' not in args: ct = parsed_args.cluster_template cluster_template = mag_client.cluster_templates.get(ct) args['labels'] = cluster_template._info['labels'] extra_labels = magnum_utils.handle_labels(parsed_args.extra_labels) args['labels'].update(extra_labels) ",,26,7
openstack%2Fopenstack-helm~master~Iae9d6e40528ab7e445ff45badeeaa0c67883e805,openstack/openstack-helm,master,Iae9d6e40528ab7e445ff45badeeaa0c67883e805,Update links for opendev,MERGED,2019-04-23 01:16:37.000000000,2019-05-06 18:39:57.000000000,2019-05-06 18:39:57.000000000,"[{'_account_id': 17591}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-04-23 01:16:37.000000000', 'files': ['aodh/Chart.yaml', 'mistral/Chart.yaml', 'heat/Chart.yaml', 'senlin/Chart.yaml', 'README.rst', 'horizon/Chart.yaml', 'rally/Chart.yaml', 'doc/source/install/kubernetes-gate.rst', 'ironic/Chart.yaml', 'neutron/Chart.yaml', 'nova/Chart.yaml', 'congress/Chart.yaml', 'glance/Chart.yaml', 'magnum/Chart.yaml', 'tempest/Chart.yaml', 'barbican/Chart.yaml', 'cinder/Chart.yaml', 'ceilometer/Chart.yaml', 'panko/Chart.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/81106d87f8acb4197413aa82b51ed93a8577de8f', 'message': 'Update links for opendev\n\nUpdate links to use OpenDev.\n\nChange-Id: Iae9d6e40528ab7e445ff45badeeaa0c67883e805\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,654662,81106d87f8acb4197413aa82b51ed93a8577de8f,8,4,1,20466,,,0,"Update links for opendev

Update links to use OpenDev.

Change-Id: Iae9d6e40528ab7e445ff45badeeaa0c67883e805
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/62/654662/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/Chart.yaml', 'mistral/Chart.yaml', 'heat/Chart.yaml', 'senlin/Chart.yaml', 'README.rst', 'horizon/Chart.yaml', 'rally/Chart.yaml', 'doc/source/install/kubernetes-gate.rst', 'ironic/Chart.yaml', 'neutron/Chart.yaml', 'nova/Chart.yaml', 'congress/Chart.yaml', 'glance/Chart.yaml', 'magnum/Chart.yaml', 'tempest/Chart.yaml', 'barbican/Chart.yaml', 'cinder/Chart.yaml', 'ceilometer/Chart.yaml', 'panko/Chart.yaml', 'keystone/Chart.yaml']",20,81106d87f8acb4197413aa82b51ed93a8577de8f,opendev, - https://opendev.org/openstack/keystone - https://opendev.org/openstack/openstack-helm, - https://git.openstack.org/cgit/openstack/keystone - https://git.openstack.org/cgit/openstack/openstack-helm,37,38
openstack%2Ftripleo-common~stable%2Fstein~I9024cfff5c6fb3b7fad6d39992dc1e9bb3128b0b,openstack/tripleo-common,stable/stein,I9024cfff5c6fb3b7fad6d39992dc1e9bb3128b0b,Fix privileges in task fro tripleo-admin,ABANDONED,2019-05-06 16:54:30.000000000,2019-05-06 18:37:54.000000000,,"[{'_account_id': 3153}, {'_account_id': 11082}]","[{'number': 1, 'created': '2019-05-06 16:54:30.000000000', 'files': ['roles/tripleo-create-admin/tasks/create_user.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/23055aaf999ee2f211f29afe7a9dcb12ab01269c', 'message': 'Fix privileges in task fro tripleo-admin\n\nChange-Id: I9024cfff5c6fb3b7fad6d39992dc1e9bb3128b0b\nCloses-Bug: 1824326\n(cherry picked from commit 136d8c752cf5255474981b94b8f0c0f2d82b9c8b)\n'}]",0,657407,23055aaf999ee2f211f29afe7a9dcb12ab01269c,5,2,1,3153,,,0,"Fix privileges in task fro tripleo-admin

Change-Id: I9024cfff5c6fb3b7fad6d39992dc1e9bb3128b0b
Closes-Bug: 1824326
(cherry picked from commit 136d8c752cf5255474981b94b8f0c0f2d82b9c8b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/657407/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-create-admin/tasks/create_user.yml'],1,23055aaf999ee2f211f29afe7a9dcb12ab01269c,bug/1824326-stable/stein, owner: '{{ tripleo_admin_user }}' group: '{{ tripleo_admin_user }}' mode: 0600,,3,0
openstack%2Ftripleo-docs~master~I11b94a7432d54b398e1b929607b77ed0395d1ca3,openstack/tripleo-docs,master,I11b94a7432d54b398e1b929607b77ed0395d1ca3,Update new ceph-ansible Messenger v2/v1 parameter section.,MERGED,2019-04-24 19:48:21.000000000,2019-05-06 18:23:33.000000000,2019-05-06 18:23:33.000000000,"[{'_account_id': 6796}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-24 19:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b1c112a72713660d4a5c881fcc82a8b7c0de0a0b', 'message': 'Update new ceph-ansible Messenger v2/v1 parameter section.\n\nUpdate documentation for Ceph advanced deployment using the new\nceph-ansible parameters that can be added with Nautilus version.\nIn particular for fresh installation users can disable v1 (the\nold Messenger protocol) passing the new variables to the\nceph-ansible playbook as extra_vars, overriding the default\nbehaviour.\n\nChange-Id: I11b94a7432d54b398e1b929607b77ed0395d1ca3\n'}, {'number': 2, 'created': '2019-04-24 20:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/0cffb8dcb3a3c2b310899968b2de34618a8dbda1', 'message': 'Update new ceph-ansible Messenger v2/v1 parameter section.\n\nUpdate documentation for Ceph advanced deployment using the new\nceph-ansible parameters that can be added with Nautilus version.\nIn particular for fresh installation users can disable v1 (the\nold Messenger protocol) passing the new variables to the\nceph-ansible playbook as extra_vars, overriding the default\nbehaviour.\n\nChange-Id: I11b94a7432d54b398e1b929607b77ed0395d1ca3\n'}, {'number': 3, 'created': '2019-04-29 15:03:41.000000000', 'files': ['doc/source/install/advanced_deployment/ceph_config.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/8299999b8342690aab12d59036ef2ed7e63940e1', 'message': 'Update new ceph-ansible Messenger v2/v1 parameter section.\n\nUpdate documentation for Ceph advanced deployment using the new\nceph-ansible parameters that can be added with Nautilus version.\nIn particular for fresh installation users can disable v1 (the\nold Messenger protocol) passing the new variables to the\nceph-ansible playbook as extra_vars, overriding the default\nbehaviour.\n\nChange-Id: I11b94a7432d54b398e1b929607b77ed0395d1ca3\n'}]",6,655543,8299999b8342690aab12d59036ef2ed7e63940e1,16,7,3,25402,,,0,"Update new ceph-ansible Messenger v2/v1 parameter section.

Update documentation for Ceph advanced deployment using the new
ceph-ansible parameters that can be added with Nautilus version.
In particular for fresh installation users can disable v1 (the
old Messenger protocol) passing the new variables to the
ceph-ansible playbook as extra_vars, overriding the default
behaviour.

Change-Id: I11b94a7432d54b398e1b929607b77ed0395d1ca3
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/43/655543/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/advanced_deployment/ceph_config.rst'],1,b1c112a72713660d4a5c881fcc82a8b7c0de0a0b,ceph-nautilus,".. admonition:: ceph-ansible 4.0 and newer :class: ceph As Nautilus is the new default and comes up with the new Messenger v2 protocol, ceph-ansible 4.0 and newer added a parameter to enable and disable the old v1 protocol and define, as additional parameter, the port used to bind the process. Ceph Nautilus enables both v1 and v2 protocols by default (v1 is maintained for backward compatibility), but to disable v1 protocol, just set this variables as in the example below: parameter_defaults: CephAnsibleExtraConfig: mon_host_v1: enabled: False ",,16,0
openstack%2Foctavia-dashboard~master~If217b38515e9592f38aa69f22016a83234fb904d,openstack/octavia-dashboard,master,If217b38515e9592f38aa69f22016a83234fb904d,Imported Translations from Zanata,MERGED,2019-05-06 08:40:14.000000000,2019-05-06 18:12:22.000000000,2019-05-06 18:12:22.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 08:40:14.000000000', 'files': ['octavia_dashboard/locale/ko_KR/LC_MESSAGES/djangojs.po', 'octavia_dashboard/locale/de/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/b20d0c1a1e6cffd14951589f5444ebfc6bc03838', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If217b38515e9592f38aa69f22016a83234fb904d\n'}]",0,657346,b20d0c1a1e6cffd14951589f5444ebfc6bc03838,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If217b38515e9592f38aa69f22016a83234fb904d
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/46/657346/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/locale/ko_KR/LC_MESSAGES/djangojs.po', 'octavia_dashboard/locale/de/LC_MESSAGES/djangojs.po']",2,b20d0c1a1e6cffd14951589f5444ebfc6bc03838,zanata/translations,"# Robert Simai <robert.simai@suse.com>, 2019. #zanata""POT-Creation-Date: 2019-04-15 14:20+0000\n""""PO-Revision-Date: 2019-05-03 02:05+0000\n"" ""Last-Translator: Robert Simai <robert.simai@suse.com>\n""msgid ""Flavor Description"" msgstr ""Varianten-Beschreibung"" msgid ""Flavor ID"" msgstr ""Varianten-ID"" msgid ""Unable to create flavor profile."" msgstr ""Das Varianten-Profil konnte nicht erstellt werden."" msgid ""Unable to create flavor."" msgstr ""Variante kann nicht erstellt werden."" msgid ""Unable to delete flavor profile."" msgstr ""Das Varianten-Profil kann nicht gelscht werden."" msgid ""Unable to delete flavor."" msgstr ""Variante kann nicht gelscht werden."" msgid ""Unable to retrieve flavor profile."" msgstr ""Das Varianten-Profil kann nicht abgerufen werden."" msgid ""Unable to retrieve flavor profiles."" msgstr ""Die Varianten-Profile knnen nicht abgerufen werden."" msgid ""Unable to retrieve flavor."" msgstr ""Die Variante kann nicht abgerufen werden."" msgid ""Unable to retrieve flavors."" msgstr ""Varianten knnen nicht abgerufen werden."" msgid ""Unable to update flavor profile."" msgstr ""Das Varianten-Profil konnte nicht aktualisiert werden."" msgid ""Unable to update flavor."" msgstr ""Die Variante kann nicht aktualisiert werden."" msgid """" ""You have selected \""%s\"". Deleted load balancer is not recoverable and this "" ""deletion will delete all of the sub-resources."" msgid_plural """" ""You have selected \""%s\"". Deleted load balancers are not recoverable and "" ""this deletion will delete all of the sub-resources."" msgstr[0] """" ""Sie haben \""%s\"" ausgewhlt. Gelschte Loadbalancer knnen nicht "" ""wiederhergestellt werden und die Aktion lscht auch alle Unterressourcen."" msgstr[1] """" ""Sie haben \""%s\"" ausgewhlt. Gelschte Loadbalancer knnen nicht "" ""wiederhergestellt werden und die Aktion lscht auch alle Unterressourcen."" #, python-format","""POT-Creation-Date: 2019-02-17 22:34+0000\n""""PO-Revision-Date: 2018-12-21 08:01+0000\n"" ""Last-Translator: Andreas Jaeger <jaegerandi@gmail.com>\n""",92,5
openstack%2Fopenstack-helm~master~I0d036e1f366eaf15b7cefe1c76fcd12ebc78211a,openstack/openstack-helm,master,I0d036e1f366eaf15b7cefe1c76fcd12ebc78211a,Update git repository location,MERGED,2019-05-03 20:34:34.000000000,2019-05-06 18:09:40.000000000,2019-05-06 18:09:40.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-05-03 20:34:34.000000000', 'files': ['doc/source/install/developer/kubernetes-and-common-setup.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2002d7a1132238ff70899c57d49e8801bccfc59c', 'message': 'Update git repository location\n\nChange-Id: I0d036e1f366eaf15b7cefe1c76fcd12ebc78211a\nSigned-off-by: Nicolas Bock <nicolas.bock@suse.com>\n'}]",0,657030,2002d7a1132238ff70899c57d49e8801bccfc59c,9,3,1,19298,,,0,"Update git repository location

Change-Id: I0d036e1f366eaf15b7cefe1c76fcd12ebc78211a
Signed-off-by: Nicolas Bock <nicolas.bock@suse.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/30/657030/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/developer/kubernetes-and-common-setup.rst'],1,2002d7a1132238ff70899c57d49e8801bccfc59c,docs, git clone https://opendev.org/openstack/openstack-helm-infra.git git clone https://opendev.org/openstack/openstack-helm.git, git clone https://git.openstack.org/openstack/openstack-helm-infra.git git clone https://git.openstack.org/openstack/openstack-helm.git,2,2
openstack%2Fironic~master~Ib4f767818532c100826fb3562d02e7c100902411,openstack/ironic,master,Ib4f767818532c100826fb3562d02e7c100902411,Adding enabled_boot_interface attribute in tempest config,MERGED,2019-05-02 06:46:20.000000000,2019-05-06 17:50:46.000000000,2019-05-06 17:50:29.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 19604}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28429}]","[{'number': 1, 'created': '2019-05-02 06:46:20.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9d5461506e95d6a7d736f56f2c4dc487acfdceed', 'message': 'Adding enabled_boot_interface attribute in tempest config\n\nThis patch will adds enabled_boot_interfaces in tempest\nconfig file.\n\nChange-Id: Ib4f767818532c100826fb3562d02e7c100902411\nStory: 2005549\nTask: 30697\n'}]",0,656739,9d5461506e95d6a7d736f56f2c4dc487acfdceed,19,7,1,19604,,,0,"Adding enabled_boot_interface attribute in tempest config

This patch will adds enabled_boot_interfaces in tempest
config file.

Change-Id: Ib4f767818532c100826fb3562d02e7c100902411
Story: 2005549
Task: 30697
",git fetch https://review.opendev.org/openstack/ironic refs/changes/39/656739/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,9d5461506e95d6a7d736f56f2c4dc487acfdceed,ci, iniset $TEMPEST_CONFIG baremetal enabled_boot_interfaces $IRONIC_ENABLED_BOOT_INTERFACES,,1,0
openstack%2Ftaskflow~master~Ifd0f0586f945d1da4dd597ae7b4514117cd49f57,openstack/taskflow,master,Ifd0f0586f945d1da4dd597ae7b4514117cd49f57,Uncap jsonschema,MERGED,2019-04-04 03:01:05.000000000,2019-05-06 17:31:30.000000000,2019-05-06 17:31:30.000000000,"[{'_account_id': 1736}, {'_account_id': 6547}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-04 03:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/7f77fbe46bda7c4bd0f6ed7358c857f57354b9d3', 'message': 'Uncap jsonschema\n\nWe have jsonschema capped at a fairly old version. Other than some\nspecific releases, it looks like keeping it below 3.0 was added in\nI943fd68b9fab3bce1764305a5058df5339470757 without really any explanation\nwhy.\n\nIn order to update to a 3.x release we need to:\n1. Remove the cap from global-requirements.txt (see Depends-On), leaving\n   upper-constraints.txt at a 2.x release\n2. Remove the cap from all consumers (this change)\n3. Release a new version of consumers that are published to pypi\n4. Update upper-constraints.txt with those new releases\n5. Update jsonschema in upper-constraints.txt to a 3.X release\n   (See: https://review.openstack.org/649789)\n6. Test consumers with the change from 5.\n7. [Optional] fix issues in consumers that arise from 6.\n8. Merge the change from 5.\n\nChange-Id: Ifd0f0586f945d1da4dd597ae7b4514117cd49f57\nCo-Authored-by: Sean McGinnis <sean.mcginnis@gmail.com>\nDepends-On: https://review.openstack.org/649669\n'}, {'number': 2, 'created': '2019-04-09 13:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/4af5090d61ac422b7c16604bb3c1e7900f894fc6', 'message': 'Uncap jsonschema\n\nWe have jsonschema capped at a fairly old version. Other than some\nspecific releases, it looks like keeping it below 3.0 was added in\nI943fd68b9fab3bce1764305a5058df5339470757 without really any explanation\nwhy.\n\nIn order to update to a 3.x release we need to:\n1. Remove the cap from global-requirements.txt (see Depends-On), leaving\n   upper-constraints.txt at a 2.x release\n2. Remove the cap from all consumers (this change)\n3. Release a new version of consumers that are published to pypi\n4. Update upper-constraints.txt with those new releases\n5. Update jsonschema in upper-constraints.txt to a 3.X release\n   (See: https://review.openstack.org/649789)\n6. Test consumers with the change from 5.\n7. [Optional] fix issues in consumers that arise from 6.\n8. Merge the change from 5.\n\nChange-Id: Ifd0f0586f945d1da4dd597ae7b4514117cd49f57\nCo-Authored-by: Sean McGinnis <sean.mcginnis@gmail.com>\nDepends-On: https://review.openstack.org/649669\n'}, {'number': 3, 'created': '2019-04-09 14:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/6d8d822dcf4f4120d5245cad53eb02dd1eead504', 'message': 'Uncap jsonschema\n\nWe have jsonschema capped at a fairly old version. Other than some\nspecific releases, it looks like keeping it below 3.0 was added in\nI943fd68b9fab3bce1764305a5058df5339470757 without really any explanation\nwhy.\n\nIn order to update to a 3.x release we need to:\n1. Remove the cap from global-requirements.txt (see Depends-On), leaving\n   upper-constraints.txt at a 2.x release\n2. Remove the cap from all consumers (this change)\n3. Release a new version of consumers that are published to pypi\n4. Update upper-constraints.txt with those new releases\n5. Update jsonschema in upper-constraints.txt to a 3.X release\n   (See: https://review.openstack.org/649789)\n6. Test consumers with the change from 5.\n7. [Optional] fix issues in consumers that arise from 6.\n8. Merge the change from 5.\n\nChange-Id: Ifd0f0586f945d1da4dd597ae7b4514117cd49f57\nCo-Authored-by: Sean McGinnis <sean.mcginnis@gmail.com>\nDepends-On: https://review.openstack.org/649669\n'}, {'number': 4, 'created': '2019-04-09 14:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/9ea4dae964e590a56d05e0f563c27732a20c2890', 'message': 'Uncap jsonschema\n\nWe have jsonschema capped at a fairly old version. Other than some\nspecific releases, it looks like keeping it below 3.0 was added in\nI943fd68b9fab3bce1764305a5058df5339470757 without really any explanation\nwhy.\n\nIn order to update to a 3.x release we need to:\n1. Remove the cap from global-requirements.txt (see Depends-On), leaving\n   upper-constraints.txt at a 2.x release\n2. Remove the cap from all consumers (this change)\n3. Release a new version of consumers that are published to pypi\n4. Update upper-constraints.txt with those new releases\n5. Update jsonschema in upper-constraints.txt to a 3.X release\n   (See: https://review.openstack.org/649789)\n6. Test consumers with the change from 5.\n7. [Optional] fix issues in consumers that arise from 6.\n8. Merge the change from 5.\n\nAlso includes squashed commit:\nRaise lower constraint of psycopg2\n\nVersions prior to 3.7 did not support postgresql version numbering\nstarting with postgresql 10, causing setup failures. This raises the\nlower-constraint to the first version that contained the fix [0] to\nsupport that.\n\nWith the change in global requirements for jsonschema, requirements\ncheck fails on raising psycopg2, but we need that raised in order for\nthe jsonschema version to be raised.\n\n[0] https://github.com/psycopg/psycopg2/pull/504\n\nChange-Id: Ifd0f0586f945d1da4dd597ae7b4514117cd49f57\nCo-Authored-by: Sean McGinnis <sean.mcginnis@gmail.com>\nDepends-On: https://review.openstack.org/649669\n'}, {'number': 5, 'created': '2019-04-09 15:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/1d829799e3f2fd5e0a5c671e1b3f0d88fbef553d', 'message': 'Raise lower constraint of psycopg2\n\nVersions prior to 3.7 did not support postgresql version numbering\nstarting with postgresql 10, causing setup failures. This raises the\nlower-constraint to the first version that contained the fix [0] to\nsupport that.\n\nWith the change in global requirements for jsonschema, requirements\ncheck fails on raising psycopg2, but we need that raised in order for\nthe jsonschema version to be raised.\n\n[0] https://github.com/psycopg/psycopg2/pull/504\n\nNOTE: Modified from merge to master branch due to the need to squash\nboth this change with a change to uncap jsonschema to get tests to pass.\nThis is the extraction of just the psycopg2 change that would have been\ndone alone in I779ba615c5905eca23ab5074a08483dccc60db10.\n\nChange-Id: Ifd0f0586f945d1da4dd597ae7b4514117cd49f57\n(cherry picked from commit 9ea4dae964e590a56d05e0f563c27732a20c2890)\n'}, {'number': 6, 'created': '2019-04-09 15:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/98b9df2b1d22f6b4ab8fb20d632e8b3df987b41c', 'message': 'Uncap jsonschema\n\nWe have jsonschema capped at a fairly old version. Other than some\nspecific releases, it looks like keeping it below 3.0 was added in\nI943fd68b9fab3bce1764305a5058df5339470757 without really any explanation\nwhy.\n\nIn order to update to a 3.x release we need to:\n1. Remove the cap from global-requirements.txt (see Depends-On), leaving\n   upper-constraints.txt at a 2.x release\n2. Remove the cap from all consumers (this change)\n3. Release a new version of consumers that are published to pypi\n4. Update upper-constraints.txt with those new releases\n5. Update jsonschema in upper-constraints.txt to a 3.X release\n   (See: https://review.openstack.org/649789)\n6. Test consumers with the change from 5.\n7. [Optional] fix issues in consumers that arise from 6.\n8. Merge the change from 5.\n\nAlso includes squashed commit:\nRaise lower constraint of psycopg2\n\nVersions prior to 3.7 did not support postgresql version numbering\nstarting with postgresql 10, causing setup failures. This raises the\nlower-constraint to the first version that contained the fix [0] to\nsupport that.\n\nWith the change in global requirements for jsonschema, requirements\ncheck fails on raising psycopg2, but we need that raised in order for\nthe jsonschema version to be raised.\n\n[0] https://github.com/psycopg/psycopg2/pull/504\n\nChange-Id: Ifd0f0586f945d1da4dd597ae7b4514117cd49f57\nCo-Authored-by: Sean McGinnis <sean.mcginnis@gmail.com>\nDepends-On: https://review.openstack.org/649669\n'}, {'number': 7, 'created': '2019-05-04 16:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/b12ebed20467dc58ccacd601a98bc36fabd6b810', 'message': 'Uncap jsonschema\n\nWe have jsonschema capped at a fairly old version. Other than some\nspecific releases, it looks like keeping it below 3.0 was added in\nI943fd68b9fab3bce1764305a5058df5339470757 without really any explanation\nwhy.\n\nIn order to update to a 3.x release we need to:\n1. Remove the cap from global-requirements.txt (see Depends-On), leaving\n   upper-constraints.txt at a 2.x release\n2. Remove the cap from all consumers (this change)\n3. Release a new version of consumers that are published to pypi\n4. Update upper-constraints.txt with those new releases\n5. Update jsonschema in upper-constraints.txt to a 3.X release\n   (See: https://review.openstack.org/649789)\n6. Test consumers with the change from 5.\n7. [Optional] fix issues in consumers that arise from 6.\n8. Merge the change from 5.\n\nAlso includes squashed commit:\nRaise lower constraint of psycopg2\n\nVersions prior to 3.7 did not support postgresql version numbering\nstarting with postgresql 10, causing setup failures. This raises the\nlower-constraint to the first version that contained the fix [0] to\nsupport that.\n\nWith the change in global requirements for jsonschema, requirements\ncheck fails on raising psycopg2, but we need that raised in order for\nthe jsonschema version to be raised.\n\n[0] https://github.com/psycopg/psycopg2/pull/504\n\nAlso required updating networkx constraints to match current g-r.\n\nChange-Id: Ifd0f0586f945d1da4dd597ae7b4514117cd49f57\nCo-Authored-by: Sean McGinnis <sean.mcginnis@gmail.com>\nDepends-On: https://review.openstack.org/649669\n'}, {'number': 8, 'created': '2019-05-04 16:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/13f56a67d7d6813adacb6788504885f7ca903141', 'message': 'Uncap jsonschema\n\nWe have jsonschema capped at a fairly old version. Other than some\nspecific releases, it looks like keeping it below 3.0 was added in\nI943fd68b9fab3bce1764305a5058df5339470757 without really any explanation\nwhy.\n\nIn order to update to a 3.x release we need to:\n1. Remove the cap from global-requirements.txt (see Depends-On), leaving\n   upper-constraints.txt at a 2.x release\n2. Remove the cap from all consumers (this change)\n3. Release a new version of consumers that are published to pypi\n4. Update upper-constraints.txt with those new releases\n5. Update jsonschema in upper-constraints.txt to a 3.X release\n   (See: https://review.openstack.org/649789)\n6. Test consumers with the change from 5.\n7. [Optional] fix issues in consumers that arise from 6.\n8. Merge the change from 5.\n\nAlso includes squashed commit:\nRaise lower constraint of psycopg2\n\nVersions prior to 3.7 did not support postgresql version numbering\nstarting with postgresql 10, causing setup failures. This raises the\nlower-constraint to the first version that contained the fix [0] to\nsupport that.\n\nWith the change in global requirements for jsonschema, requirements\ncheck fails on raising psycopg2, but we need that raised in order for\nthe jsonschema version to be raised.\n\n[0] https://github.com/psycopg/psycopg2/pull/504\n\nAlso required updating networkx constraints to match current g-r.\n\nChange-Id: Ifd0f0586f945d1da4dd597ae7b4514117cd49f57\nCo-Authored-by: Sean McGinnis <sean.mcginnis@gmail.com>\nDepends-On: https://review.openstack.org/649669\n'}, {'number': 9, 'created': '2019-05-04 19:12:27.000000000', 'files': ['requirements.txt', '.gitignore', 'test-requirements.txt', 'lower-constraints.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/8bcef3f5e74f4a3ad47aaccc5697ac2a8d76deb8', 'message': 'Uncap jsonschema\n\nWe have jsonschema capped at a fairly old version. Other than some\nspecific releases, it looks like keeping it below 3.0 was added in\nI943fd68b9fab3bce1764305a5058df5339470757 without really any explanation\nwhy.\n\nIn order to update to a 3.x release we need to:\n1. Remove the cap from global-requirements.txt (see Depends-On), leaving\n   upper-constraints.txt at a 2.x release\n2. Remove the cap from all consumers (this change)\n3. Release a new version of consumers that are published to pypi\n4. Update upper-constraints.txt with those new releases\n5. Update jsonschema in upper-constraints.txt to a 3.X release\n   (See: https://review.openstack.org/649789)\n6. Test consumers with the change from 5.\n7. [Optional] fix issues in consumers that arise from 6.\n8. Merge the change from 5.\n\nAlso includes squashed commit:\nRaise lower constraint of psycopg2\n\nVersions prior to 3.7 did not support postgresql version numbering\nstarting with postgresql 10, causing setup failures. This raises the\nlower-constraint to the first version that contained the fix [0] to\nsupport that.\n\nWith the change in global requirements for jsonschema, requirements\ncheck fails on raising psycopg2, but we need that raised in order for\nthe jsonschema version to be raised.\n\n[0] https://github.com/psycopg/psycopg2/pull/504\n\nAlso required updating networkx constraints to match current g-r.\n\nChange-Id: Ifd0f0586f945d1da4dd597ae7b4514117cd49f57\nCo-Authored-by: Sean McGinnis <sean.mcginnis@gmail.com>\nDepends-On: https://review.openstack.org/649669\n'}]",2,649803,8bcef3f5e74f4a3ad47aaccc5697ac2a8d76deb8,33,6,9,12898,,,0,"Uncap jsonschema

We have jsonschema capped at a fairly old version. Other than some
specific releases, it looks like keeping it below 3.0 was added in
I943fd68b9fab3bce1764305a5058df5339470757 without really any explanation
why.

In order to update to a 3.x release we need to:
1. Remove the cap from global-requirements.txt (see Depends-On), leaving
   upper-constraints.txt at a 2.x release
2. Remove the cap from all consumers (this change)
3. Release a new version of consumers that are published to pypi
4. Update upper-constraints.txt with those new releases
5. Update jsonschema in upper-constraints.txt to a 3.X release
   (See: https://review.openstack.org/649789)
6. Test consumers with the change from 5.
7. [Optional] fix issues in consumers that arise from 6.
8. Merge the change from 5.

Also includes squashed commit:
Raise lower constraint of psycopg2

Versions prior to 3.7 did not support postgresql version numbering
starting with postgresql 10, causing setup failures. This raises the
lower-constraint to the first version that contained the fix [0] to
support that.

With the change in global requirements for jsonschema, requirements
check fails on raising psycopg2, but we need that raised in order for
the jsonschema version to be raised.

[0] https://github.com/psycopg/psycopg2/pull/504

Also required updating networkx constraints to match current g-r.

Change-Id: Ifd0f0586f945d1da4dd597ae7b4514117cd49f57
Co-Authored-by: Sean McGinnis <sean.mcginnis@gmail.com>
Depends-On: https://review.openstack.org/649669
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/03/649803/5 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,7f77fbe46bda7c4bd0f6ed7358c857f57354b9d3,jsonschema,jsonschema>=2.6.0 # MIT,"jsonschema<3.0.0,>=2.6.0 # MIT",1,1
openstack%2Fopenstack-ansible~master~Ib63cecb85912dd06ddf55bf35cbdac5b7634ea32,openstack/openstack-ansible,master,Ib63cecb85912dd06ddf55bf35cbdac5b7634ea32,Remove pip.conf before upgrades from hosts/repo,ABANDONED,2019-05-01 23:49:25.000000000,2019-05-06 17:05:03.000000000,,"[{'_account_id': 290}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-05-01 23:49:25.000000000', 'files': ['scripts/upgrade-utilities/pip-conf-removal.yml', 'scripts/run-upgrade.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/67e2e119857424e760ce84c017c5874c32c44dfa', 'message': 'Remove pip.conf before upgrades from hosts/repo\n\nRemoves pip.conf as existing was preventing pip and other\npackages from being installed to the hosts/repos during the\npython_venv_build play.\n\nChange-Id: Ib63cecb85912dd06ddf55bf35cbdac5b7634ea32\n'}]",1,656721,67e2e119857424e760ce84c017c5874c32c44dfa,7,3,1,290,,,0,"Remove pip.conf before upgrades from hosts/repo

Removes pip.conf as existing was preventing pip and other
packages from being installed to the hosts/repos during the
python_venv_build play.

Change-Id: Ib63cecb85912dd06ddf55bf35cbdac5b7634ea32
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/21/656721/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/upgrade-utilities/pip-conf-removal.yml', 'scripts/run-upgrade.sh']",2,67e2e119857424e760ce84c017c5874c32c44dfa,remove_pip_conf," RUN_TASKS+=(""${SCRIPTS_PATH}/upgrade-utilities/pip-conf-removal.yml"")",,25,0
openstack%2Ftripleo-common~master~I9024cfff5c6fb3b7fad6d39992dc1e9bb3128b0b,openstack/tripleo-common,master,I9024cfff5c6fb3b7fad6d39992dc1e9bb3128b0b,Fix privileges in task fro tripleo-admin,MERGED,2019-04-26 09:20:45.000000000,2019-05-06 16:54:30.000000000,2019-05-06 16:46:25.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6547}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-26 09:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/24865a7aa94228b7a1fb080ffcc833044321303f', 'message': 'Fix privileges in task fro tripleo-admin\n\nChange-Id: I9024cfff5c6fb3b7fad6d39992dc1e9bb3128b0b\nCloses-Bug: 1824326\n'}, {'number': 2, 'created': '2019-05-06 10:44:54.000000000', 'files': ['roles/tripleo-create-admin/tasks/create_user.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/136d8c752cf5255474981b94b8f0c0f2d82b9c8b', 'message': 'Fix privileges in task fro tripleo-admin\n\nChange-Id: I9024cfff5c6fb3b7fad6d39992dc1e9bb3128b0b\nCloses-Bug: 1824326\n'}]",0,655846,136d8c752cf5255474981b94b8f0c0f2d82b9c8b,16,8,2,11082,,,0,"Fix privileges in task fro tripleo-admin

Change-Id: I9024cfff5c6fb3b7fad6d39992dc1e9bb3128b0b
Closes-Bug: 1824326
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/46/655846/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-create-admin/tasks/create_user.yml'],1,24865a7aa94228b7a1fb080ffcc833044321303f,bug/1824326, owner: '{{ tripleo_admin_user }}' group: '{{ tripleo_admin_user }}' mode: 0600,,3,0
openstack%2Ftripleo-quickstart-extras~master~Ib7892fca145a8c1947f54bfa8f7a35675e625e4d,openstack/tripleo-quickstart-extras,master,Ib7892fca145a8c1947f54bfa8f7a35675e625e4d,Remove existing TQE collect-logs to test new role,MERGED,2019-04-23 10:10:54.000000000,2019-05-06 16:46:26.000000000,2019-05-06 16:46:26.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 8944}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-04-23 10:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a32cd70bd221fbc10525d7efd4de1b5398d28f51', 'message': '[WIP] Remove existing TQE collect-logs to test new role\n\nIt removes the existing the TQE collect-logs role in order to\ntest with the new opendev/ansible-role-collect-logs role.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/998\n\nChange-Id: Ib7892fca145a8c1947f54bfa8f7a35675e625e4d\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-04-24 07:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/759dc7576397ee3b5e5325b9bd57dfbbd8b080c7', 'message': '[WIP] Remove existing TQE collect-logs to test new role\n\nIt removes the existing the TQE collect-logs role in order to\ntest with the new opendev/ansible-role-collect-logs role.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/998\n\nDepends-On: https://review.opendev.org/#/c/652920/\n\nChange-Id: Ib7892fca145a8c1947f54bfa8f7a35675e625e4d\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-04-24 10:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dbbadc1b3c381266bd60147588e23f9adcb65862', 'message': '[WIP] Remove existing TQE collect-logs to test new role\n\nIt removes the existing the TQE collect-logs role in order to\ntest with the new opendev/ansible-role-collect-logs role.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/998\n\nDepends-On: https://review.opendev.org/#/c/652920/\nDepends-On: https://review.opendev.org/#/c/652918/\n\nChange-Id: Ib7892fca145a8c1947f54bfa8f7a35675e625e4d\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2019-04-26 09:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/58e56dedf861feec16c626814b0d6b7b04b4792f', 'message': 'Remove existing TQE collect-logs to test new role\n\nIt removes the existing the TQE collect-logs role in order to\ntest with the new opendev/ansible-role-collect-logs role.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1001\n\nChange-Id: Ib7892fca145a8c1947f54bfa8f7a35675e625e4d\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2019-04-26 09:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4c0b3188f68592e433b36d8a6ce527588710cacf', 'message': 'Remove existing TQE collect-logs to test new role\n\nIt removes the existing the TQE collect-logs role in order to\ntest with the new opendev/ansible-role-collect-logs role.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1001\n\nChange-Id: Ib7892fca145a8c1947f54bfa8f7a35675e625e4d\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2019-05-02 15:08:26.000000000', 'files': ['roles/collect-logs/tasks/publish.yml', 'roles/collect-logs/docs/static/baremetal-overcloud/virtual-vs-baremetal-undercloud.rst', 'roles/collect-logs/tasks/collect.yml', 'roles/collect-logs/docs/static/baremetal-overcloud/_images/TripleO_Network_Diagram_.jpg', 'roles/collect-logs/docs/source/conf.py', 'roles/collect-logs/tasks/create-docs.yml', 'roles/collect-logs/docs/source/_custom/rdo_styling.css', 'roles/collect-logs/templates/get_host_info.sh.j2', 'roles/collect-logs/docs/static/baremetal-overcloud/requirements.rst', 'roles/collect-logs/templates/index.rst.j2', 'roles/collect-logs/library/ara_graphite.py', 'roles/collect-logs/docs/static/baremetal-overcloud/copying-customized-files.rst', 'roles/collect-logs/docs/static/env-setup-virt.rst', 'roles/collect-logs/docs/static/ovb-openstack-cloud/introduction.rst', 'roles/collect-logs/doc-requirements.txt', 'roles/collect-logs/defaults/main.yml', 'roles/collect-logs/docs/static/baremetal-overcloud/customizing-external-network-vlan.rst', 'roles/collect-logs/docs/static/baremetal-overcloud/validate-prior-to-deploy.rst', 'roles/collect-logs/tasks/ara_influxdb.yml', 'roles/collect-logs/README.md', 'roles/collect-logs/tasks/main.yml', 'roles/collect-logs/docs/static/ovb-openstack-cloud/calling-quickstart.rst', 'roles/collect-logs/scripts/doc_extrapolation.awk', 'roles/collect-logs/docs/static/baremetal-overcloud/environment-settings-structure.rst', 'roles/collect-logs/docs/static/ovb-openstack-cloud/running-quickstart-instances-openstack.rst', 'roles/collect-logs/docs/static/baremetal-overcloud/customizing-undercloud-conf.rst', 'roles/collect-logs/docs/static/baremetal-overcloud/env-setup.rst', 'roles/collect-logs/templates/odl_extra_logs.j2', 'roles/collect-logs/meta/main.yml', 'roles/collect-logs/docs/static/baremetal-overcloud/env-specific-pre-deploy-steps.rst', 'roles/collect-logs/docs/static/baremetal-overcloud/networking.rst', 'roles/collect-logs/docs/source/_custom/custom.css', 'roles/collect-logs/templates/full_logs.html.j2', 'roles/collect-logs/tasks/ara_graphite.yml', 'roles/collect-logs/files/heat-deploy-times.py', 'roles/collect-logs/library/ara_influxdb.py', 'roles/collect-logs/templates/rsync-filter.j2', 'roles/collect-logs/docs/source/_templates/layout.html', 'roles/collect-logs/docs/static/baremetal-overcloud/introduction.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/920762abf4c26084dca0983d7a56f8c6d6ee8995', 'message': 'Remove existing TQE collect-logs to test new role\n\nIt removes the existing the TQE collect-logs role in order to\ntest with the new opendev/ansible-role-collect-logs role.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1001\n\nChange-Id: Ib7892fca145a8c1947f54bfa8f7a35675e625e4d\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}]",0,654934,920762abf4c26084dca0983d7a56f8c6d6ee8995,35,15,6,12393,,,0,"Remove existing TQE collect-logs to test new role

It removes the existing the TQE collect-logs role in order to
test with the new opendev/ansible-role-collect-logs role.

https://tree.taiga.io/project/tripleo-ci-board/task/1001

Change-Id: Ib7892fca145a8c1947f54bfa8f7a35675e625e4d
Signed-off-by: Chandan Kumar <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/34/654934/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/collect-logs/tasks/publish.yml', 'roles/collect-logs/docs/static/baremetal-overcloud/virtual-vs-baremetal-undercloud.rst', 'roles/collect-logs/tasks/collect.yml', 'roles/collect-logs/docs/static/baremetal-overcloud/_images/TripleO_Network_Diagram_.jpg', 'roles/collect-logs/docs/source/conf.py', 'roles/collect-logs/tasks/create-docs.yml', 'roles/collect-logs/docs/source/_custom/rdo_styling.css', 'roles/collect-logs/templates/get_host_info.sh.j2', 'roles/collect-logs/docs/static/baremetal-overcloud/requirements.rst', 'roles/collect-logs/templates/index.rst.j2', 'roles/collect-logs/library/ara_graphite.py', 'roles/collect-logs/docs/static/baremetal-overcloud/copying-customized-files.rst', 'roles/collect-logs/docs/static/env-setup-virt.rst', 'roles/collect-logs/docs/static/ovb-openstack-cloud/introduction.rst', 'roles/collect-logs/doc-requirements.txt', 'roles/collect-logs/defaults/main.yml', 'roles/collect-logs/docs/static/baremetal-overcloud/customizing-external-network-vlan.rst', 'roles/collect-logs/docs/static/baremetal-overcloud/validate-prior-to-deploy.rst', 'roles/collect-logs/tasks/ara_influxdb.yml', 'roles/collect-logs/README.md', 'roles/collect-logs/tasks/main.yml', 'roles/collect-logs/docs/static/ovb-openstack-cloud/calling-quickstart.rst', 'roles/collect-logs/scripts/doc_extrapolation.awk', 'roles/collect-logs/docs/static/baremetal-overcloud/environment-settings-structure.rst', 'roles/collect-logs/docs/static/ovb-openstack-cloud/running-quickstart-instances-openstack.rst', 'roles/collect-logs/docs/static/baremetal-overcloud/customizing-undercloud-conf.rst', 'roles/collect-logs/docs/static/baremetal-overcloud/env-setup.rst', 'roles/collect-logs/templates/odl_extra_logs.j2', 'roles/collect-logs/meta/main.yml', 'roles/collect-logs/docs/static/baremetal-overcloud/env-specific-pre-deploy-steps.rst', 'roles/collect-logs/docs/static/baremetal-overcloud/networking.rst', 'roles/collect-logs/docs/source/_custom/custom.css', 'roles/collect-logs/templates/full_logs.html.j2', 'roles/collect-logs/tasks/ara_graphite.yml', 'roles/collect-logs/files/heat-deploy-times.py', 'roles/collect-logs/library/ara_influxdb.py', 'roles/collect-logs/templates/rsync-filter.j2', 'roles/collect-logs/docs/source/_templates/layout.html', 'roles/collect-logs/docs/static/baremetal-overcloud/introduction.rst']",39,a32cd70bd221fbc10525d7efd4de1b5398d28f51,use_new_collect_logs,,TripleO Quickstart ================== TripleO Quickstart is a fast and easy way to setup and configure your virtual environment for TripleO. Further documentation can be found at https://github.com/openstack/tripleo-quickstart A quick way to test that your virthost machine is ready to rock is: :: ssh root@$VIRTHOST uname -a Getting the script ------------------ You can download the `quickstart.sh` script with `wget`: :: wget https://raw.githubusercontent.com/openstack/tripleo-quickstart/master/quickstart.sh ,0,3321
openstack%2Fironic~master~Id9a2ed71a997fb13523a77563d6e941904675f97,openstack/ironic,master,Id9a2ed71a997fb13523a77563d6e941904675f97,Improve VirtualBMC use in Devstack,MERGED,2019-03-28 19:10:07.000000000,2019-05-06 16:33:42.000000000,2019-05-06 16:33:25.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}, {'_account_id': 28239}, {'_account_id': 28429}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-03-28 19:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f87fdcbecc9df0533b61f958d8b66bad40eecff4', 'message': 'Improve VirtualBMC use in Devstack\n\nThis patch brings two somewhat related changes:\n\n1. Older versions of VirtualBMC worked without any server keeping\n   state on the filesystem. The contemporary version is build around\n   client-server model. To preserve backward compatibility, the\n   `vbmc` client would invoke `vbmcd` behind the scenes if the daemon\n   is not running.\n\n   This change inhibits this automatic `vbmcd` start behaviour because\n   devstack invokes `vbmcd` explicitly through systemd.\n\n2. This patch makes Devstack messing with VirtualBMC only if it is\n   determined that IPMI deployment is required. Otherwise (e.g.\n   Redfish deployment is planned) Devstack will not attempt to\n   start/stop IPMI emulation.\n\nChange-Id: Id9a2ed71a997fb13523a77563d6e941904675f97\n'}, {'number': 2, 'created': '2019-04-01 18:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/698bae671803e4fcf178ac74b7a842f43818ad86', 'message': 'Improve VirtualBMC use in Devstack\n\nThis patch brings two somewhat related changes:\n\n1. Older versions of VirtualBMC worked without any server keeping\n   state on the filesystem. The contemporary version is build around\n   client-server model. To preserve backward compatibility, the\n   `vbmc` client would invoke `vbmcd` behind the scenes if the daemon\n   is not running.\n\n   This change inhibits this automatic `vbmcd` start behaviour because\n   devstack invokes `vbmcd` explicitly through systemd.\n\n2. This patch makes Devstack messing with VirtualBMC only if it is\n   determined that IPMI deployment is required. Otherwise (e.g.\n   Redfish deployment is planned) Devstack will not attempt to\n   start/stop IPMI emulation.\n\nChange-Id: Id9a2ed71a997fb13523a77563d6e941904675f97\n'}, {'number': 3, 'created': '2019-04-09 12:07:04.000000000', 'files': ['devstack/lib/ironic', 'devstack/tools/ironic/scripts/cleanup-node.sh', 'devstack/tools/ironic/scripts/create-node.sh'], 'web_link': 'https://opendev.org/openstack/ironic/commit/01b0be9db2c2ce87d5d2fc8d84bb1e6339bc0248', 'message': 'Improve VirtualBMC use in Devstack\n\nThis patch brings two somewhat related changes:\n\n1. Older versions of VirtualBMC worked without any server keeping\n   state on the filesystem. The contemporary version is build around\n   client-server model. To preserve backward compatibility, the\n   `vbmc` client would invoke `vbmcd` behind the scenes if the daemon\n   is not running.\n\n   This change inhibits this automatic `vbmcd` start behaviour because\n   devstack invokes `vbmcd` explicitly through systemd.\n\n2. This patch makes Devstack messing with VirtualBMC only if it is\n   determined that IPMI deployment is required. Otherwise (e.g.\n   Redfish deployment is planned) Devstack will not attempt to\n   start/stop IPMI emulation.\n\nChange-Id: Id9a2ed71a997fb13523a77563d6e941904675f97\n'}]",1,648510,01b0be9db2c2ce87d5d2fc8d84bb1e6339bc0248,46,11,3,26340,,,0,"Improve VirtualBMC use in Devstack

This patch brings two somewhat related changes:

1. Older versions of VirtualBMC worked without any server keeping
   state on the filesystem. The contemporary version is build around
   client-server model. To preserve backward compatibility, the
   `vbmc` client would invoke `vbmcd` behind the scenes if the daemon
   is not running.

   This change inhibits this automatic `vbmcd` start behaviour because
   devstack invokes `vbmcd` explicitly through systemd.

2. This patch makes Devstack messing with VirtualBMC only if it is
   determined that IPMI deployment is required. Otherwise (e.g.
   Redfish deployment is planned) Devstack will not attempt to
   start/stop IPMI emulation.

Change-Id: Id9a2ed71a997fb13523a77563d6e941904675f97
",git fetch https://review.opendev.org/openstack/ironic refs/changes/10/648510/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/ironic', 'devstack/tools/ironic/scripts/cleanup-node.sh', 'devstack/tools/ironic/scripts/create-node.sh']",3,f87fdcbecc9df0533b61f958d8b66bad40eecff4,04-conditional-vbmc-use-devstack,," # Create Virtual BMC for the node if IPMI is used if [[ $(type -P vbmc) != """" ]]; then vbmc add $NAME --port $VBMC_PORT vbmc start $NAME fi",11,11
openstack%2Ftripleo-heat-templates~master~I7c08b0f9dcbc583af02cef64d0e953756e344d27,openstack/tripleo-heat-templates,master,I7c08b0f9dcbc583af02cef64d0e953756e344d27,Scale-down tasks for RHSM,MERGED,2019-04-12 02:31:28.000000000,2019-05-06 16:16:36.000000000,2019-05-06 16:16:36.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-04-12 02:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90d56975f8bc3aecafa513576a03914c441bf5e5', 'message': 'Scale-down tasks for RHSM\n\nFirst implementation of scale-down tasks, for Red Hat Subcription\nManager.\n\nWith this patch, when an overcloud node will be removed, Ansible will\ntake care of unregister the node from the Red Hat subscription properly\nbefore the node is actually removed from the stack.\n\nDepends-On: Ic1b6674c4608b555f51aa8c6716630c8d96b7fe2\nChange-Id: I7c08b0f9dcbc583af02cef64d0e953756e344d27\n'}, {'number': 2, 'created': '2019-04-12 02:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d605c172f54ee4685f581575ecab91c617bc6d6c', 'message': 'Scale-down tasks for RHSM\n\nFirst implementation of scale-down tasks, for Red Hat Subcription\nManager.\n\nWith this patch, when an overcloud node will be removed, Ansible will\ntake care of unregister the node from the Red Hat subscription properly\nbefore the node is actually removed from the stack.\n\nDepends-On: Ic1b6674c4608b555f51aa8c6716630c8d96b7fe2\nChange-Id: I7c08b0f9dcbc583af02cef64d0e953756e344d27\n'}, {'number': 3, 'created': '2019-04-15 21:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/320e553127efee7dcef9ba40c0a8158365fcb0f7', 'message': 'Scale-down tasks for RHSM\n\nFirst implementation of scale-down tasks, for Red Hat Subcription\nManager.\n\nWith this patch, when an overcloud node will be removed, Ansible will\ntake care of unregister the node from the Red Hat subscription properly\nbefore the node is actually removed from the stack.\n\nDepends-On: Ic1b6674c4608b555f51aa8c6716630c8d96b7fe2\nChange-Id: I7c08b0f9dcbc583af02cef64d0e953756e344d27\n'}, {'number': 4, 'created': '2019-04-16 20:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/46ff3a671143f903b4bb337d51bbaa087b839a56', 'message': 'Scale-down tasks for RHSM\n\nFirst implementation of scale-down tasks, for Red Hat Subcription\nManager.\n\nWith this patch, when an overcloud node will be removed, Ansible will\ntake care of unregister the node from the Red Hat subscription properly\nbefore the node is actually removed from the stack.\n\nDepends-On: Ic1b6674c4608b555f51aa8c6716630c8d96b7fe2\nChange-Id: I7c08b0f9dcbc583af02cef64d0e953756e344d27\n'}, {'number': 5, 'created': '2019-04-17 22:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16b04faf563140af0ef534d0618ffc49cc58f4b9', 'message': 'Scale-down tasks for RHSM\n\nFirst implementation of scale-down tasks, for Red Hat Subcription\nManager.\n\nWith this patch, when an overcloud node will be removed, Ansible will\ntake care of unregister the node from the Red Hat subscription properly\nbefore the node is actually removed from the stack.\n\nDepends-On: Ic1b6674c4608b555f51aa8c6716630c8d96b7fe2\nChange-Id: I7c08b0f9dcbc583af02cef64d0e953756e344d27\n'}, {'number': 6, 'created': '2019-04-17 22:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/904b1c33d84190f3187237759332c69faa3bbb49', 'message': 'Scale-down tasks for RHSM\n\nFirst implementation of scale-down tasks, for Red Hat Subcription\nManager.\n\nWith this patch, when an overcloud node will be removed, Ansible will\ntake care of unregister the node from the Red Hat subscription properly\nbefore the node is actually removed from the stack.\n\nDepends-On: Ic1b6674c4608b555f51aa8c6716630c8d96b7fe2\nChange-Id: I7c08b0f9dcbc583af02cef64d0e953756e344d27\n'}, {'number': 7, 'created': '2019-04-18 18:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b0dc57a5d9f7600127de296f9c0926951dadc435', 'message': 'Scale-down tasks for RHSM\n\nFirst implementation of scale-down tasks, for Red Hat Subcription\nManager.\n\nWith this patch, when an overcloud node will be removed, Ansible will\ntake care of unregister the node from the Red Hat subscription properly\nbefore the node is actually removed from the stack.\n\nDepends-On: Ic1b6674c4608b555f51aa8c6716630c8d96b7fe2\nChange-Id: I7c08b0f9dcbc583af02cef64d0e953756e344d27\n'}, {'number': 8, 'created': '2019-04-18 23:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7fc5cf4486404fc89f096c03eac7ae2ad9335b54', 'message': 'Scale-down tasks for RHSM\n\nFirst implementation of scale-down tasks, for Red Hat Subcription\nManager.\n\nWith this patch, when an overcloud node will be removed, Ansible will\ntake care of unregister the node from the Red Hat subscription properly\nbefore the node is actually removed from the stack.\n\nDepends-On: Ic1b6674c4608b555f51aa8c6716630c8d96b7fe2\nChange-Id: I7c08b0f9dcbc583af02cef64d0e953756e344d27\n'}, {'number': 9, 'created': '2019-04-18 23:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d15630ec30c3c5b5fad45b57e3994990bc34c30', 'message': 'Scale-down tasks for RHSM\n\nFirst implementation of scale-down tasks, for Red Hat Subcription\nManager.\n\nWith this patch, when an overcloud node will be removed, Ansible will\ntake care of unregister the node from the Red Hat subscription properly\nbefore the node is actually removed from the stack.\n\nChange-Id: I7c08b0f9dcbc583af02cef64d0e953756e344d27\n'}, {'number': 10, 'created': '2019-04-22 13:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/485c9bdc627811a2b57a3cb55c8698d454651c08', 'message': 'Scale-down tasks for RHSM\n\nFirst implementation of scale-down tasks, for Red Hat Subcription\nManager.\n\nWith this patch, when an overcloud node will be removed, Ansible will\ntake care of unregister the node from the Red Hat subscription properly\nbefore the node is actually removed from the stack.\n\nChange-Id: I7c08b0f9dcbc583af02cef64d0e953756e344d27\n'}, {'number': 11, 'created': '2019-04-22 21:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c9cdcfaa538fbe5253034d39a53c393aa3bbc63', 'message': 'Scale-down tasks for RHSM\n\nFirst implementation of scale-down tasks, for Red Hat Subcription\nManager.\n\nWith this patch, when an overcloud node will be removed, Ansible will\ntake care of unregister the node from the Red Hat subscription properly\nbefore the node is actually removed from the stack.\n\nChange-Id: I7c08b0f9dcbc583af02cef64d0e953756e344d27\n'}, {'number': 12, 'created': '2019-04-23 19:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f5dd4010d96f1602ab81405678447fce42fd636', 'message': 'Scale-down tasks for RHSM\n\nFirst implementation of scale-down tasks, for Red Hat Subcription\nManager.\n\nWith this patch, when an overcloud node will be removed, Ansible will\ntake care of unregister the node from the Red Hat subscription properly\nbefore the node is actually removed from the stack.\n\nChange-Id: I7c08b0f9dcbc583af02cef64d0e953756e344d27\n'}, {'number': 13, 'created': '2019-04-23 19:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/abfd80147bfba66e53c98a323fd61f366e56e934', 'message': 'Scale-down tasks for RHSM\n\nFirst implementation of scale-down tasks, for Red Hat Subcription\nManager.\n\nWith this patch, when an overcloud node will be removed, Ansible will\ntake care of unregister the node from the Red Hat subscription properly\nbefore the node is actually removed from the stack.\n\nChange-Id: I7c08b0f9dcbc583af02cef64d0e953756e344d27\n'}, {'number': 14, 'created': '2019-04-24 15:08:16.000000000', 'files': ['extraconfig/services/rhsm.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a82f3f0c790b633b13451a2139a5665134d5d49a', 'message': 'Scale-down tasks for RHSM\n\nFirst implementation of scale-down tasks, for Red Hat Subcription\nManager.\n\nWith this patch, when an overcloud node will be removed, Ansible will\ntake care of unregister the node from the Red Hat subscription properly\nbefore the node is actually removed from the stack.\n\nChange-Id: I7c08b0f9dcbc583af02cef64d0e953756e344d27\n'}]",0,651959,a82f3f0c790b633b13451a2139a5665134d5d49a,40,6,14,3153,,,0,"Scale-down tasks for RHSM

First implementation of scale-down tasks, for Red Hat Subcription
Manager.

With this patch, when an overcloud node will be removed, Ansible will
take care of unregister the node from the Red Hat subscription properly
before the node is actually removed from the stack.

Change-Id: I7c08b0f9dcbc583af02cef64d0e953756e344d27
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/651959/3 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/rhsm.yaml'],1,90d56975f8bc3aecafa513576a03914c441bf5e5,bp/scale-down-tasks, - name: Red Hat Subscription Management configuration during deployment scale_tasks: - name: Red Hat Subscription Management configuration during scale-down tags: down when: step|int == 1 include_role: name: redhat-subscription tasks_from: unregister, - name: Red Hat Subscription Management configuration,8,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~If9b9ffa4651133b966ea0c28069dd1a81f3b2df5,openstack/tripleo-heat-templates,stable/stein,If9b9ffa4651133b966ea0c28069dd1a81f3b2df5,Enable Podman Service For Lacking Roles,MERGED,2019-05-05 14:28:37.000000000,2019-05-06 16:12:42.000000000,2019-05-06 16:12:42.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28245}]","[{'number': 1, 'created': '2019-05-05 14:28:37.000000000', 'files': ['roles/ComputeOvsDpdkSriovRT.yaml', 'roles/CellController.yaml', 'roles/ComputeOvsDpdkSriov.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/480100564d945264fc7e9e42b266e6b8308b1043', 'message': 'Enable Podman Service For Lacking Roles\n\nComputeOvsDpdkSriov, ComputeOvsDpdkSriovRT and CellController roles do\nnot include OS::TripleO::Services::Podman which may cause Overcloud deployments to\nfail.\n\nAdding Podman service to these roles in order to be aligned with the rest of the roles.\n\nChange-Id: If9b9ffa4651133b966ea0c28069dd1a81f3b2df5\n(cherry picked from commit 894481fafe4028ba41eec881605a09f2b08492e5)\n'}]",0,657273,480100564d945264fc7e9e42b266e6b8308b1043,8,4,1,3153,,,0,"Enable Podman Service For Lacking Roles

ComputeOvsDpdkSriov, ComputeOvsDpdkSriovRT and CellController roles do
not include OS::TripleO::Services::Podman which may cause Overcloud deployments to
fail.

Adding Podman service to these roles in order to be aligned with the rest of the roles.

Change-Id: If9b9ffa4651133b966ea0c28069dd1a81f3b2df5
(cherry picked from commit 894481fafe4028ba41eec881605a09f2b08492e5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/657273/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ComputeOvsDpdkSriovRT.yaml', 'roles/CellController.yaml', 'roles/ComputeOvsDpdkSriov.yaml']",3,480100564d945264fc7e9e42b266e6b8308b1043,bug/1827724-stable/stein, - OS::TripleO::Services::Podman,,3,0
openstack%2Fkeystone-specs~master~I6228e503f908b4bc82aa55b908995314e3e6adf7,openstack/keystone-specs,master,I6228e503f908b4bc82aa55b908995314e3e6adf7,Add resource-options-for-all specification,MERGED,2018-12-10 18:46:56.000000000,2019-05-06 15:59:33.000000000,2019-05-06 15:59:33.000000000,"[{'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 10420}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-10 18:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/099de75e253cda461da7e29b3f6008e465f7e447', 'message': 'Add resource-options-for-all specification\n\nSpecification defining the addition of resource options for all\nresources within Keystone isntead of just users.\n\nChange-Id: I6228e503f908b4bc82aa55b908995314e3e6adf7\npartial-bug: 1807751\n'}, {'number': 2, 'created': '2018-12-10 18:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/e466dc1fce5b1f609f0ce7f9dfbc813f18fe70b0', 'message': 'Add resource-options-for-all specification\n\nSpecification defining the addition of resource options for all\nresources within Keystone isntead of just users.\n\nChange-Id: I6228e503f908b4bc82aa55b908995314e3e6adf7\npartial-bug: 1807751\n'}, {'number': 3, 'created': '2019-04-12 17:57:40.000000000', 'files': ['specs/keystone/train/resource-options-for-all.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/2d0de7cccd172c6c70349851b0ca50ada8dd5c79', 'message': 'Add resource-options-for-all specification\n\nSpecification defining the addition of resource options for all\nresources within Keystone isntead of just users.\n\nChange-Id: I6228e503f908b4bc82aa55b908995314e3e6adf7\npartial-bug: 1807751\n'}]",7,624162,2d0de7cccd172c6c70349851b0ca50ada8dd5c79,18,6,3,2903,,,0,"Add resource-options-for-all specification

Specification defining the addition of resource options for all
resources within Keystone isntead of just users.

Change-Id: I6228e503f908b4bc82aa55b908995314e3e6adf7
partial-bug: 1807751
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/62/624162/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/keystone/stein/resource-options-for-all.rst'],1,099de75e253cda461da7e29b3f6008e465f7e447,bug/1807751,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================= Resource options for all resource types ======================================= `bug #1807751 <https://bugs.launchpad.net/keystone/+bug/1807751>`_ Resource Options have been implemented for the User resource type. These are used for PCI-DSS controls (e.g. exempting a user from password change requirements) and Multi-Factor Auth login rules. The other resource types within keystone will benefit from a similar set of technologies. Examples of use cases are: * Limit login to specific origins (IP Addrs) for tokens scoped to a given project or domain * Apply default PCI-DSS options to all users contained within a Domain, e.g. exempt all service users in a ``service`` domain from password change requirements. * Apply default Multi-Factor-Auth rules to all logins scoping to a given domain or project. Problem Description =================== Each resource type may have explicit controls or options that are unique to that resource class (e.g. exempting a user from PCI-DSS password change requirements). This specification proposes expanding the resource option functionality from users to encompass all resource types. This is implementing the scaffolding for future options to be built upon. No options will be added in the scope of this specification. Proposed Change =============== Add the same controls, db tables, and responses for all resource types that currently do not have resource options implemented. This will be implemented as part of the base SQL Model class defined within keystone, all future resource types will be expected to implement the resource option functionality. Alternatives ------------ * Option #1: implement resource options explicitly when needed for a given resource class. * Option #2: do not implement resource options and tool the functionality separately for the same behaviors. Security Impact --------------- This is structure and code capability implementation and should have no security impact. Notifications Impact -------------------- None Other End User Impact --------------------- Users will see an added ``resource_option`` response for resources. Performance Impact ------------------ The additional DB lookups for extracting the resource options will add additional load to keystone. Most resources will have no resource options and those that do have resource options will be (by default) leaning on SQL indexes to mitigate the potential additional load. Other Deployer Impact --------------------- No deployer impact until future options are implemented. Developer Impact ---------------- Developers will need to implement resource option functionality for all new resource types after this spec is implemented. Implementation ============== Assignee(s) ----------- Primary assignee: morgan fainberg <morgan.fainberg@gmail.com> Work Items ---------- * Implement DB Migrations to add the resource option tables for each resource type/class. * Implement the API handlers to process and validate resource options for each resource type. * Implement resource option base code into the SQL Model base defined within keystone. Dependencies ============ None Documentation Impact ==================== Documentation on adding new resource options will be needed. References ========== N/A",,133,0
openstack%2Freleases~master~Ic0c12cbafcc66affe5a24b4d6b9522b8b4fdf42d,openstack/releases,master,Ic0c12cbafcc66affe5a24b4d6b9522b8b4fdf42d,Release openstackdocstheme 1.29.3,MERGED,2019-04-23 17:50:00.000000000,2019-05-06 15:49:53.000000000,2019-05-06 15:49:53.000000000,"[{'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 17:50:00.000000000', 'files': ['deliverables/_independent/openstackdocstheme.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c5e4764a575a69b95b305aaa7c8d5ad6d78fc384', 'message': 'Release openstackdocstheme 1.29.3\n\nSome minor updates, including update to use opendev in report-a-bug-URL.\n\nChange-Id: Ic0c12cbafcc66affe5a24b4d6b9522b8b4fdf42d\n'}]",0,655221,c5e4764a575a69b95b305aaa7c8d5ad6d78fc384,9,4,1,6547,,,0,"Release openstackdocstheme 1.29.3

Some minor updates, including update to use opendev in report-a-bug-URL.

Change-Id: Ic0c12cbafcc66affe5a24b4d6b9522b8b4fdf42d
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/655221/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/openstackdocstheme.yaml'],1,c5e4764a575a69b95b305aaa7c8d5ad6d78fc384,docstheme, - projects: - hash: 466cb878f86907d4574177856778eeabc8065ab7 repo: openstack/openstackdocstheme version: 1.29.3,,4,0
openstack%2Freleases~master~Ieee421693f01bbd032e5909f2fd617e7b907753f,openstack/releases,master,Ieee421693f01bbd032e5909f2fd617e7b907753f,Release puppet-ceph 3.0.0,MERGED,2019-04-25 09:37:08.000000000,2019-05-06 15:45:16.000000000,2019-05-06 15:45:16.000000000,"[{'_account_id': 8175}, {'_account_id': 9414}, {'_account_id': 11904}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-04-25 09:37:08.000000000', 'files': ['deliverables/_independent/puppet-ceph.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dc501e03932e5441ac42e077d760d92ff0920ec2', 'message': ""Release puppet-ceph 3.0.0\n\nFirst release including support for Ceph Nautilus.\n\nAlthough this version is maintaining the same configuration parameters,\nsupport for file-based OSDs has been removed so i think it's more\nappropiate bump major release.\n\nDepends-On: https://review.opendev.org/#/c/655635/\nChange-Id: Ieee421693f01bbd032e5909f2fd617e7b907753f\n""}]",0,655642,dc501e03932e5441ac42e077d760d92ff0920ec2,15,8,1,16312,,,0,"Release puppet-ceph 3.0.0

First release including support for Ceph Nautilus.

Although this version is maintaining the same configuration parameters,
support for file-based OSDs has been removed so i think it's more
appropiate bump major release.

Depends-On: https://review.opendev.org/#/c/655635/
Change-Id: Ieee421693f01bbd032e5909f2fd617e7b907753f
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/655642/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/puppet-ceph.yaml'],1,dc501e03932e5441ac42e077d760d92ff0920ec2,ceph-nautilus, - projects: - hash: 896a22275b5a73c45c2f9aca877b1a09bc68b517 repo: openstack/puppet-ceph version: 3.0.0,,4,0
openstack%2Fkayobe~master~Ibf099c6fe4ad516f29d1f4f500f381f4f1baa212,openstack/kayobe,master,Ibf099c6fe4ad516f29d1f4f500f381f4f1baa212,Use x/kayobe for storyboard link,MERGED,2019-04-25 18:01:03.000000000,2019-05-06 15:45:03.000000000,2019-05-06 15:45:02.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-04-25 18:01:03.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2d6fbfa2802464a0f45cc5f9b32862483bec2b1a', 'message': 'Use x/kayobe for storyboard link\n\nChange-Id: Ibf099c6fe4ad516f29d1f4f500f381f4f1baa212\n'}]",0,655755,2d6fbfa2802464a0f45cc5f9b32862483bec2b1a,7,3,1,14826,,,0,"Use x/kayobe for storyboard link

Change-Id: Ibf099c6fe4ad516f29d1f4f500f381f4f1baa212
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/55/655755/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,2d6fbfa2802464a0f45cc5f9b32862483bec2b1a,opendev,* Bugs: https://storyboard.openstack.org/#!/project/x/kayobe,* Bugs: https://storyboard.openstack.org/#!/project/openstack/kayobe,1,1
openstack%2Fnova~stable%2Fqueens~If21230869826c992e7d0398434b9a4b255940213,openstack/nova,stable/queens,If21230869826c992e7d0398434b9a4b255940213,libvirt: Always disconnect volumes after libvirtError exceptions,MERGED,2019-05-04 12:24:32.000000000,2019-05-06 15:32:41.000000000,2019-05-06 15:32:41.000000000,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-04 12:24:32.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/99a63a6633f623cc4e6c9b361965a9c0935113cf', 'message': 'libvirt: Always disconnect volumes after libvirtError exceptions\n\nBuilding on Ib440f4f2e484312af5f393722363846f6c95b760 we should always\nattempt to disconnect volumes from the host when exceptions are thrown\nwhile attempting to attach a volume to a domain. This was previously\ndone for generic exceptions but not for libvirtError exceptions.\n\nCloses-Bug: #1826523\nChange-Id: If21230869826c992e7d0398434b9a4b255940213\n(cherry picked from commit 091a910576d9b580678f1881fffa425ab4632f48)\n(cherry picked from commit 048d5b790f3da2756a0a1bf2bc015812cb24d53a)\n(cherry picked from commit 786083c91fa69ba9ff90bafe80d3b83b9f9bbc69)\n'}]",0,657111,99a63a6633f623cc4e6c9b361965a9c0935113cf,11,7,1,10135,,,0,"libvirt: Always disconnect volumes after libvirtError exceptions

Building on Ib440f4f2e484312af5f393722363846f6c95b760 we should always
attempt to disconnect volumes from the host when exceptions are thrown
while attempting to attach a volume to a domain. This was previously
done for generic exceptions but not for libvirtError exceptions.

Closes-Bug: #1826523
Change-Id: If21230869826c992e7d0398434b9a4b255940213
(cherry picked from commit 091a910576d9b580678f1881fffa425ab4632f48)
(cherry picked from commit 048d5b790f3da2756a0a1bf2bc015812cb24d53a)
(cherry picked from commit 786083c91fa69ba9ff90bafe80d3b83b9f9bbc69)
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/657111/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,99a63a6633f623cc4e6c9b361965a9c0935113cf,bug/1826523," mock.patch.object(drvr, '_disconnect_volume'), mock_disconnect_volume, mock_get_volume_config, mock_check_discard, mock_build_metadata): mock_disconnect_volume.assert_called_once() mock.patch.object(drvr, '_disconnect_volume'), mock_disconnect_volume, mock_get_volume_config, mock_check_discard, mock_build_metadata): mock_disconnect_volume.assert_called_once()"," mock_get_volume_config, mock_check_discard, mock_build_metadata): mock_get_volume_config, mock_check_discard, mock_build_metadata):",10,2
openstack%2Fnova~stable%2Fqueens~Ib440f4f2e484312af5f393722363846f6c95b760,openstack/nova,stable/queens,Ib440f4f2e484312af5f393722363846f6c95b760,libvirt: Stop ignoring unknown libvirtError exceptions during volume attach,MERGED,2019-05-03 21:11:22.000000000,2019-05-06 15:26:41.000000000,2019-05-06 15:26:40.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-03 21:11:22.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/63b45a87b82655824e61641016430a6613cee001', 'message': ""libvirt: Stop ignoring unknown libvirtError exceptions during volume attach\n\nId346bce6e47431988cce7001abcf29a9faf2936a attempted to introduce a\nsimple breadcrumb in the logs to highlight a known Libvirt issue.\nUnfortunately this change resulted in libvirtError exceptions that\ndidn't match the known issue being silently ignored.\n\nThis change corrects this by using excutils.save_and_reraise_exception\nto ensure all libvirtError exceptions are logged and raised regardless\nof being linked to the known issue.\n\nChange-Id: Ib440f4f2e484312af5f393722363846f6c95b760\nCloses-Bug: #1825882\n(cherry picked from commit bc57ae50734fa6a70115b6369e867079fb5eb4b8)\n(cherry picked from commit b3dedefcc58a1fc76ba37f9f8bb1ef7d238aaceb)\n(cherry picked from commit 34b4220448395f10eb2fd39d68b3f527339ab414)\n""}]",0,657050,63b45a87b82655824e61641016430a6613cee001,15,7,1,10135,,,0,"libvirt: Stop ignoring unknown libvirtError exceptions during volume attach

Id346bce6e47431988cce7001abcf29a9faf2936a attempted to introduce a
simple breadcrumb in the logs to highlight a known Libvirt issue.
Unfortunately this change resulted in libvirtError exceptions that
didn't match the known issue being silently ignored.

This change corrects this by using excutils.save_and_reraise_exception
to ensure all libvirtError exceptions are logged and raised regardless
of being linked to the known issue.

Change-Id: Ib440f4f2e484312af5f393722363846f6c95b760
Closes-Bug: #1825882
(cherry picked from commit bc57ae50734fa6a70115b6369e867079fb5eb4b8)
(cherry picked from commit b3dedefcc58a1fc76ba37f9f8bb1ef7d238aaceb)
(cherry picked from commit 34b4220448395f10eb2fd39d68b3f527339ab414)
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/657050/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,63b45a87b82655824e61641016430a6613cee001,bug/1825882," @mock.patch('nova.virt.libvirt.blockinfo.get_info_from_bdm') def test_attach_volume_with_libvirt_exception(self, mock_get_info): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) instance = objects.Instance(**self.test_instance) connection_info = {""driver_volume_type"": ""fake"", ""data"": {""device_path"": ""/fake"", ""access_mode"": ""rw""}} bdm = {'device_name': 'vdb', 'disk_bus': 'fake-bus', 'device_type': 'fake-type'} disk_info = {'bus': bdm['disk_bus'], 'type': bdm['device_type'], 'dev': 'vdb'} libvirt_exc = fakelibvirt.make_libvirtError(fakelibvirt.libvirtError, ""Target vdb already exists', device is busy"", error_code=fakelibvirt.VIR_ERR_INTERNAL_ERROR) with test.nested( mock.patch.object(drvr._host, 'get_guest'), mock.patch('nova.virt.libvirt.driver.LOG'), mock.patch.object(drvr, '_connect_volume'), mock.patch.object(drvr, '_get_volume_config'), mock.patch.object(drvr, '_check_discard_for_attach_volume'), mock.patch.object(drvr, '_build_device_metadata'), ) as (mock_get_guest, mock_log, mock_connect_volume, mock_get_volume_config, mock_check_discard, mock_build_metadata): mock_conf = mock.MagicMock() mock_guest = mock.MagicMock() mock_guest.attach_device.side_effect = libvirt_exc mock_get_volume_config.return_value = mock_conf mock_get_guest.return_value = mock_guest mock_get_info.return_value = disk_info mock_build_metadata.return_value = objects.InstanceDeviceMetadata() self.assertRaises(fakelibvirt.libvirtError, drvr.attach_volume, self.context, connection_info, instance, ""/dev/vdb"", disk_bus=bdm['disk_bus'], device_type=bdm['device_type']) mock_log.exception.assert_called_once_with(u'Failed to attach ' 'volume at mountpoint: %s', '/dev/vdb', instance=instance) ",,49,5
openstack%2Ftripleo-ui~stable%2Fstein~Ida297660d44d747cbd660acb74b05b2a2871e25a,openstack/tripleo-ui,stable/stein,Ida297660d44d747cbd660acb74b05b2a2871e25a,Imported Translations from Zanata,MERGED,2019-04-29 09:38:31.000000000,2019-05-06 15:18:58.000000000,2019-05-06 15:18:58.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-29 09:38:31.000000000', 'files': ['i18n/locales/ja.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/abc992e50a11bd7f7ac2eebdc1e6b3b4f629d390', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ida297660d44d747cbd660acb74b05b2a2871e25a\n'}]",0,656277,abc992e50a11bd7f7ac2eebdc1e6b3b4f629d390,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ida297660d44d747cbd660acb74b05b2a2871e25a
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/77/656277/1 && git format-patch -1 --stdout FETCH_HEAD,['i18n/locales/ja.json'],1,abc992e50a11bd7f7ac2eebdc1e6b3b4f629d390,zanata/translations," ""PlanUploadTypeRadios.useDefaultTemplates"": ""\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3059\u308b"","," ""PlanUploadTypeRadios.useDefaultTemplates"": ""\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044"",",1,1
openstack%2Ftripleo-ui~stable%2Frocky~I40ae45d3b7293609ab5ec3d54478483bbae12003,openstack/tripleo-ui,stable/rocky,I40ae45d3b7293609ab5ec3d54478483bbae12003,Imported Translations from Zanata,MERGED,2019-04-29 09:28:08.000000000,2019-05-06 15:18:58.000000000,2019-05-06 15:18:57.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-29 09:28:08.000000000', 'files': ['i18n/locales/ja.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/b080d285068b10bd563743f4cc62d07e4337bba2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I40ae45d3b7293609ab5ec3d54478483bbae12003\n'}]",0,656274,b080d285068b10bd563743f4cc62d07e4337bba2,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I40ae45d3b7293609ab5ec3d54478483bbae12003
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/74/656274/1 && git format-patch -1 --stdout FETCH_HEAD,['i18n/locales/ja.json'],1,b080d285068b10bd563743f4cc62d07e4337bba2,zanata/translations," ""PlanUploadTypeRadios.useDefaultTemplates"": ""\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3059\u308b"","," ""PlanUploadTypeRadios.useDefaultTemplates"": ""\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044"",",1,1
openstack%2Fosprofiler~master~I179720cb7042c96142945190c9b9a4584fa22b0c,openstack/osprofiler,master,I179720cb7042c96142945190c9b9a4584fa22b0c,"modify files: api, background, collector, setup  following the exist comments remove redundance `space`",ABANDONED,2018-10-31 10:36:10.000000000,2019-05-06 15:06:53.000000000,,"[{'_account_id': 6928}, {'_account_id': 9008}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23630}, {'_account_id': 29248}]","[{'number': 1, 'created': '2018-10-31 10:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/e9b33497e146d4e0c723056aab7ffad0f987ff1d', 'message': 'modify and add doc guide\n\nChange-Id: I179720cb7042c96142945190c9b9a4584fa22b0c\n'}, {'number': 2, 'created': '2018-11-03 17:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/5fd316edf4e5d0dce47066f93e2233ad94e153c3', 'message': 'modify and add doc guide\nfixed error following the exist comments\n\nChange-Id: I179720cb7042c96142945190c9b9a4584fa22b0c\n'}, {'number': 3, 'created': '2018-11-03 17:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/aa4bee092e1763d040ed4f672091a0f15b58934a', 'message': 'modify and add doc guide\n\nfixed error following the exist comments\n\nChange-Id: I179720cb7042c96142945190c9b9a4584fa22b0c\n'}, {'number': 4, 'created': '2018-11-04 08:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/0fae0a41a187f9d7806cf3d44fcc3b4cdde3c605', 'message': 'modify and add doc guide\n\nfixed error following the exist comments\n\nChange-Id: I179720cb7042c96142945190c9b9a4584fa22b0c\n'}, {'number': 5, 'created': '2018-11-25 07:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/6fb990fa98ddb5976e8c3ae129c3657317a933a8', 'message': 'modify files: api, background, collector, setup\n following the exist comments\n\nChange-Id: I179720cb7042c96142945190c9b9a4584fa22b0c\n'}, {'number': 6, 'created': '2018-11-25 07:13:27.000000000', 'files': ['doc/source/user/index.rst', 'doc/source/user/background.rst', 'doc/source/user/api.rst', 'doc/source/user/collectors.rst', 'doc/source/user/setup-env.rst'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/07cf6a182eefa53b50349d8528cb174af6099ace', 'message': 'modify files: api, background, collector, setup\n following the exist comments\nremove redundance `space`\n\nChange-Id: I179720cb7042c96142945190c9b9a4584fa22b0c\n'}]",61,614460,07cf6a182eefa53b50349d8528cb174af6099ace,25,6,6,29248,,,0,"modify files: api, background, collector, setup
 following the exist comments
remove redundance `space`

Change-Id: I179720cb7042c96142945190c9b9a4584fa22b0c
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/60/614460/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'doc/source/user/setup_env.rst', 'doc/source/user/background.rst', 'doc/source/user/api.rst', 'doc/source/user/collectors.rst']",5,e9b33497e146d4e0c723056aab7ffad0f987ff1d,tadt,"* Setup Read more: https://redis.io/topics/quickstart Config services for redis ^^^^^^^^^^^^^^^^^^^^^^^^^ - Services: Nova, keystone, glance, cinder Step 1-location of files config: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ * Nova: /etc/nova/nova.conf * Keystone: /etc/keystone/keystone.conf <neglected> * Cinder: /etc/cinder/cinder.conf * Glance: /etc/glance/glance-api.conf Step 2-Adding content to files service ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .. code-block:: bash [profiler] enabled = true trace_sqlalchemy = true connection_string = redis://localhost:6379 hmac_keys = your encryption `With keystone: trace_sqlalchemy = false` Step 3-Restart services ~~~~~~~~~~~~~~~~~~~~~~~ .. code-block:: bash sudo systemctl restart <service-name> replacing `<service-name>` by the corresponding name: * Nova: devstack@n-api.service * Keystone: devstack@keystone.service <neglected> * Cinder: devstack@c-api.service * Glance: devstack@g-api.service Jaeger ------ Why jaeger ^^^^^^^^^^ * High Scalability * Native support for OpenTracing * Multiple storage backends * Modern Web UI * Cloud Native Deployment * Observability * Backwards compatibility with Zipkin More detail: https://github.com/jaegertracing/jaeger Start Jaeger ^^^^^^^^^^^^ We will be using an open source distributed tracing system Jaeger to collect and view the traces and analyze the applications behavior. Lets run Jaeger backend as an all-in-one Docker image (see up to date instructions): .. code-block:: bash $ docker run -d --name jaeger \ -e COLLECTOR_ZIPKIN_HTTP_PORT=9411 \ -p 5775:5775/udp \ -p 6831:6831/udp \ -p 6832:6832/udp \ -p 5778:5778 \ -p 16686:16686 \ -p 14268:14268 \ -p 9411:9411 \ jaegertracing/all-in-one:1.7 Once the container starts, open http://127.0.0.1:16686/ in the browser to access the Jaeger UI. Read more: https://www.jaegertracing.io/docs/1.7/getting-started/ Install Jaeger-client ~~~~~~~~~~~~~~~~~~~~~ .. code-block:: bash sudo pip install jaeger-client Config services for jaeger ^^^^^^^^^^^^^^^^^^^^^^^^^^ * Services: Nova, keystone, glance, cinder Step 1-location of files config: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ - Nova: /etc/nova/nova.conf - Keystone: /etc/keystone/keystone.conf <neglected> - Cinder: /etc/cinder/cinder.conf - Glance: /etc/glance/glance-api.conf Step 2-Adding content to files service: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .. code-block:: bash [profiler] enabled = true trace_sqlalchemy = true connection_string = jaeger://localhost:6831 hmac_keys = your encryption `With keystone: trace_sqlalchemy = false` Step 3-Restart services ~~~~~~~~~~~~~~~~~~~~~~~ .. code-block:: bash sudo systemctl restart <service-name> replacing `<service-name>` by the corresponding name: * Nova: devstack@n-api.service * Keystone: devstack@keystone.service * Cinder: devstack@c-api.service * Glance: devstack@g-api.service",,245,1
openstack%2Fcookbook-openstack-common~master~Ib6549c00596f6560dab74491309b6b580ae7b312,openstack/cookbook-openstack-common,master,Ib6549c00596f6560dab74491309b6b580ae7b312,Add recipe to create bash completions for OSC,MERGED,2019-04-23 10:21:08.000000000,2019-05-06 15:05:05.000000000,2019-05-06 15:05:05.000000000,"[{'_account_id': 11915}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 10:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/02de5eb89cd655de59b24194af86d149094a10ed', 'message': 'Add recipe to create bash completions for OSC\n\nThe new recipe ""completions"" can be executed in order to create a file\nwith command completions for the ""openstack"" command in bash. We want\nthis to be dynamic because the set of available commands depends on the\nset of python plugins installed on the host.\n\nChange-Id: Ib6549c00596f6560dab74491309b6b580ae7b312\n'}, {'number': 2, 'created': '2019-05-06 08:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/c359291f5836561d41b2bf8799db5c6d4a44995e', 'message': 'Add recipe to create bash completions for OSC\n\nThe new recipe ""completions"" can be executed in order to create a file\nwith command completions for the ""openstack"" command in bash. We want\nthis to be dynamic because the set of available commands depends on the\nset of python plugins installed on the host.\n\nChange-Id: Ib6549c00596f6560dab74491309b6b580ae7b312\n'}, {'number': 3, 'created': '2019-05-06 08:28:38.000000000', 'files': ['attributes/default.rb', 'recipes/completions.rb', 'spec/completions_spec.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/9170a08c7c4c427438d4353ff82438376d3ea3ac', 'message': 'Add recipe to create bash completions for OSC\n\nThe new recipe ""completions"" can be executed in order to create a file\nwith command completions for the ""openstack"" command in bash. We want\nthis to be dynamic because the set of available commands depends on the\nset of python plugins installed on the host.\n\nChange-Id: Ib6549c00596f6560dab74491309b6b580ae7b312\n'}]",0,654936,9170a08c7c4c427438d4353ff82438376d3ea3ac,11,3,3,13252,,,0,"Add recipe to create bash completions for OSC

The new recipe ""completions"" can be executed in order to create a file
with command completions for the ""openstack"" command in bash. We want
this to be dynamic because the set of available commands depends on the
set of python plugins installed on the host.

Change-Id: Ib6549c00596f6560dab74491309b6b580ae7b312
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/36/654936/1 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'recipes/completions.rb']",2,02de5eb89cd655de59b24194af86d149094a10ed,654936,"# encoding: UTF-8 # # Cookbook Name:: openstack-common # Recipe:: completions # # Copyright 2019, x-ion GmbH # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # bash_complete = node['openstack']['common']['bash_complete'] execute 'create OSC bash completions' do command ""openstack complete > #{bash_complete}"" creates bash_complete end ",,28,0
openstack%2Fcookbook-openstack-common~master~Id8fa969af80bcb1cb6f3ce743b1861f26c36523f,openstack/cookbook-openstack-common,master,Id8fa969af80bcb1cb6f3ce743b1861f26c36523f,Drop admin endpoints,MERGED,2019-04-16 13:46:20.000000000,2019-05-06 15:05:04.000000000,2019-05-06 15:05:04.000000000,"[{'_account_id': 11915}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-16 13:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/0bc3f43b551efacefe3f0099799ac7e4f27bba3d', 'message': 'Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed.\n\nAlso drop the attribute for setting an auth version, as keystone only\nsupports v3 now.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nChange-Id: Id8fa969af80bcb1cb6f3ce743b1861f26c36523f\n'}, {'number': 2, 'created': '2019-04-29 11:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/ffcc7077da62d19d81f3edadccc4b846acc4001f', 'message': 'Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed.\n\nAlso drop the attribute for setting an auth version, as keystone only\nsupports v3 now.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nDepends-On: https://review.opendev.org/656289\nChange-Id: Id8fa969af80bcb1cb6f3ce743b1861f26c36523f\n'}, {'number': 3, 'created': '2019-04-30 13:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/43722086f98cae8baad25875cc9188a4b5857af2', 'message': 'Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed.\n\nAlso drop the attribute for setting an auth version, as keystone only\nsupports v3 now.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nDepends-On: https://review.opendev.org/656289\nDepends-On: https://review.opendev.org/656514\nChange-Id: Id8fa969af80bcb1cb6f3ce743b1861f26c36523f\n'}, {'number': 4, 'created': '2019-04-30 13:55:38.000000000', 'files': ['libraries/endpoints.rb', 'attributes/default.rb', 'spec/endpoints_spec.rb', 'README.md'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/6fd3db17171918d864c98d21f979b2d143568ce4', 'message': 'Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed.\n\nAlso drop the attribute for setting an auth version, as keystone only\nsupports v3 now.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nDepends-On: https://review.opendev.org/656289\nDepends-On: https://review.opendev.org/656514\nDepends-On: https://review.opendev.org/656518\nChange-Id: Id8fa969af80bcb1cb6f3ce743b1861f26c36523f\n'}]",0,652997,6fd3db17171918d864c98d21f979b2d143568ce4,13,3,4,13252,,,0,"Drop admin endpoints

The admin endpoints offer no special functionality, users may talk to
the public endpoints instead. The only historic use case has been the
keystone v2 admin endpoint, but with keystone v3 API, even that is no
longer needed.

Also drop the attribute for setting an auth version, as keystone only
supports v3 now.

[0]
https://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst

Depends-On: https://review.opendev.org/656289
Depends-On: https://review.opendev.org/656514
Depends-On: https://review.opendev.org/656518
Change-Id: Id8fa969af80bcb1cb6f3ce743b1861f26c36523f
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/97/652997/2 && git format-patch -1 --stdout FETCH_HEAD,"['libraries/endpoints.rb', 'attributes/default.rb', 'spec/endpoints_spec.rb', 'README.md']",4,0bc3f43b551efacefe3f0099799ac7e4f27bba3d,drop-admin-endpoints,,"* `admin_endpoint` -- Used to return a `::URI` object representing the named OpenStack admin endpoint if one was specified. Otherwise, it will return the same value as `endpoint`.",3,10
openstack%2Ftripleo-docs~master~I333dd4b80099b21ff06d577141335f8c36da5d79,openstack/tripleo-docs,master,I333dd4b80099b21ff06d577141335f8c36da5d79,Small correction to the DCN description,MERGED,2019-05-02 16:28:59.000000000,2019-05-06 14:52:49.000000000,2019-05-06 14:52:49.000000000,"[{'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 16:28:59.000000000', 'files': ['doc/source/install/advanced_deployment/distributed_compute_node.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/1895bc6592f6a893cc2a0f9873babbf1b19e81bf', 'message': 'Small correction to the DCN description\n\nChange-Id: I333dd4b80099b21ff06d577141335f8c36da5d79\nSigned-off-by: Gergely Csatari <gergely.csatari@nokia.com>\n'}]",0,656805,1895bc6592f6a893cc2a0f9873babbf1b19e81bf,7,3,1,21723,,,0,"Small correction to the DCN description

Change-Id: I333dd4b80099b21ff06d577141335f8c36da5d79
Signed-off-by: Gergely Csatari <gergely.csatari@nokia.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/05/656805/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/advanced_deployment/distributed_compute_node.rst'],1,1895bc6592f6a893cc2a0f9873babbf1b19e81bf,dcn-bash,deployment with the following command:,deployment with the following command::,1,1
openstack%2Ftripleo-common~master~Id22b1465d6d2424d90781983b970aba4545feb8a,openstack/tripleo-common,master,Id22b1465d6d2424d90781983b970aba4545feb8a,Use oslo_rootwrap subprocess module in order to gain proper eventlet awareness,MERGED,2019-05-02 23:19:16.000000000,2019-05-06 13:39:15.000000000,2019-05-03 23:52:41.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-05-02 23:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b6226842120e5c32e3693506726a0c7baa033870', 'message': 'Use oslo_rootwrap subprocess module in order to gain proper eventlet awareness\n\nVia https://github.com/openstack/oslo.rootwrap/commit/31cfdbd4076bb6556cf9612171ba43fa44475d71\noslo.rootwrap gained support eventlet when using subprocess. By moving\nto oslo_rootwrap.subprocess we make sure that with python3 the\nsubprocess calls use eventlet.green.subprocess if eventlet is used.\nThis worked on python2 because (from above commit):\n""""""\nOn Python 2, it ""works"" to use directly subprocess: subprocess.Popen\ncalls os.pipe() and os.fdopen(fd) which are both monkey-patched. On\nPython 3, it doesn\'t work because subprocess uses os.pipe() and\nio.open(fd), and the io module is *not* monkey-patched at all.\n""""""\n\nBy applying this change what happens is that the heartbeat thread is\nable to be scheduled every 15seconds by default. Without this patch\nwhat we have been observing with python3 is that while running ansible\nmistral would constantly log error messages like the following:\n2019-05-02 19:14:36.702 8 WARNING oslo.messaging._drivers.impl_rabbit [-] Unexpected error during heartbeart thread processing, retrying...: amqp.exceptions.ConnectionForced: Too many heartbeats missed\n\nWith this change we could not reproduce this issue during a deployment\nand no missed heartbeat messages were observed during the deploy.\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCo-Authored-By: Herv Beraud <hberaud@redhat.com>\n\nCloses-Bug: #1826281\n\nChange-Id: Id22b1465d6d2424d90781983b970aba4545feb8a\n'}, {'number': 2, 'created': '2019-05-03 15:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d082b2dff030ddf3e1268db0e08734939faeaecd', 'message': 'Use oslo_rootwrap subprocess module in order to gain proper eventlet awareness\n\nVia https://github.com/openstack/oslo.rootwrap/commit/31cfdbd4076bb6556cf9612171ba43fa44475d71\noslo.rootwrap gained support eventlet when using subprocess. By moving\nto oslo_rootwrap.subprocess we make sure that with python3 the\nsubprocess calls use eventlet.green.subprocess if eventlet is used.\nThis worked on python2 because (from above commit):\n""""""\nOn Python 2, it ""works"" to use directly subprocess: subprocess.Popen\ncalls os.pipe() and os.fdopen(fd) which are both monkey-patched. On\nPython 3, it doesn\'t work because subprocess uses os.pipe() and\nio.open(fd), and the io module is *not* monkey-patched at all.\n""""""\n\nBy applying this change what happens is that the heartbeat thread is\nable to be scheduled every 15seconds by default. Without this patch\nwhat we have been observing with python3 is that while running ansible\nmistral would constantly log error messages like the following:\n2019-05-02 19:14:36.702 8 WARNING oslo.messaging._drivers.impl_rabbit [-] Unexpected error during heartbeart thread processing, retrying...: amqp.exceptions.ConnectionForced: Too many heartbeats missed\n\nWith this change we could not reproduce this issue during a deployment\nand no missed heartbeat messages were observed during the deploy.\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCo-Authored-By: Herv Beraud <hberaud@redhat.com>\n\nCloses-Bug: #1826281\n\nChange-Id: Id22b1465d6d2424d90781983b970aba4545feb8a\n'}, {'number': 3, 'created': '2019-05-03 17:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bbc5f5bfbec02a2169c8cbc4f8525fac49bf6311', 'message': 'Use oslo_rootwrap subprocess module in order to gain proper eventlet awareness\n\nVia https://github.com/openstack/oslo.rootwrap/commit/31cfdbd4076bb6556cf9612171ba43fa44475d71\noslo.rootwrap gained support eventlet when using subprocess. By moving\nto oslo_rootwrap.subprocess we make sure that with python3 the\nsubprocess calls use eventlet.green.subprocess if eventlet is used.\nThis worked on python2 because (from above commit):\n""""""\nOn Python 2, it ""works"" to use directly subprocess: subprocess.Popen\ncalls os.pipe() and os.fdopen(fd) which are both monkey-patched. On\nPython 3, it doesn\'t work because subprocess uses os.pipe() and\nio.open(fd), and the io module is *not* monkey-patched at all.\n""""""\n\nBy applying this change what happens is that the heartbeat thread is\nable to be scheduled every 15seconds by default. Without this patch\nwhat we have been observing with python3 is that while running ansible\nmistral would constantly log error messages like the following:\n2019-05-02 19:14:36.702 8 WARNING oslo.messaging._drivers.impl_rabbit [-] Unexpected error during heartbeart thread processing, retrying...: amqp.exceptions.ConnectionForced: Too many heartbeats missed\n\nWith this change we could not reproduce this issue during a deployment\nand no missed heartbeat messages were observed during the deploy.\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCo-Authored-By: Herv Beraud <hberaud@redhat.com>\n\nCloses-Bug: #1826281\n\nChange-Id: Id22b1465d6d2424d90781983b970aba4545feb8a\n'}, {'number': 4, 'created': '2019-05-03 18:13:53.000000000', 'files': ['tripleo_common/actions/ansible.py', 'requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2e54cff0db213494d07c72ce0f36d60831d2e84d', 'message': 'Use oslo_rootwrap subprocess module in order to gain proper eventlet awareness\n\nVia https://github.com/openstack/oslo.rootwrap/commit/31cfdbd4076bb6556cf9612171ba43fa44475d71\noslo.rootwrap gained support eventlet when using subprocess. By moving\nto oslo_rootwrap.subprocess we make sure that with python3 the\nsubprocess calls use eventlet.green.subprocess if eventlet is used.\nThis worked on python2 because (from above commit):\n""""""\nOn Python 2, it ""works"" to use directly subprocess: subprocess.Popen\ncalls os.pipe() and os.fdopen(fd) which are both monkey-patched. On\nPython 3, it doesn\'t work because subprocess uses os.pipe() and\nio.open(fd), and the io module is *not* monkey-patched at all.\n""""""\n\nBy applying this change what happens is that the heartbeat thread is\nable to be scheduled every 15seconds by default. Without this patch\nwhat we have been observing with python3 is that while running ansible\nmistral would constantly log error messages like the following:\n2019-05-02 19:14:36.702 8 WARNING oslo.messaging._drivers.impl_rabbit [-] Unexpected error during heartbeart thread processing, retrying...: amqp.exceptions.ConnectionForced: Too many heartbeats missed\n\nWith this change we could not reproduce this issue during a deployment\nand no missed heartbeat messages were observed during the deploy.\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCo-Authored-By: Herv Beraud <hberaud@redhat.com>\n\nCloses-Bug: #1826281\n\nChange-Id: Id22b1465d6d2424d90781983b970aba4545feb8a\n'}]",1,656901,2e54cff0db213494d07c72ce0f36d60831d2e84d,21,8,4,20172,,,0,"Use oslo_rootwrap subprocess module in order to gain proper eventlet awareness

Via https://github.com/openstack/oslo.rootwrap/commit/31cfdbd4076bb6556cf9612171ba43fa44475d71
oslo.rootwrap gained support eventlet when using subprocess. By moving
to oslo_rootwrap.subprocess we make sure that with python3 the
subprocess calls use eventlet.green.subprocess if eventlet is used.
This worked on python2 because (from above commit):
""""""
On Python 2, it ""works"" to use directly subprocess: subprocess.Popen
calls os.pipe() and os.fdopen(fd) which are both monkey-patched. On
Python 3, it doesn't work because subprocess uses os.pipe() and
io.open(fd), and the io module is *not* monkey-patched at all.
""""""

By applying this change what happens is that the heartbeat thread is
able to be scheduled every 15seconds by default. Without this patch
what we have been observing with python3 is that while running ansible
mistral would constantly log error messages like the following:
2019-05-02 19:14:36.702 8 WARNING oslo.messaging._drivers.impl_rabbit [-] Unexpected error during heartbeart thread processing, retrying...: amqp.exceptions.ConnectionForced: Too many heartbeats missed

With this change we could not reproduce this issue during a deployment
and no missed heartbeat messages were observed during the deploy.

Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>
Co-Authored-By: Herv Beraud <hberaud@redhat.com>

Closes-Bug: #1826281

Change-Id: Id22b1465d6d2424d90781983b970aba4545feb8a
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/01/656901/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,b6226842120e5c32e3693506726a0c7baa033870,bug/1826281,from oslo_rootwrap import subprocess,import subprocess,1,1
openstack%2Fnova~master~I4b82895649faf54596215ec7aa697be071af1bfb,openstack/nova,master,I4b82895649faf54596215ec7aa697be071af1bfb,[Trivial fix]Remove unnecessary slash,MERGED,2019-05-06 08:27:25.000000000,2019-05-06 13:22:30.000000000,2019-05-06 13:22:30.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-06 08:27:25.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/network/os_vif_util.py', 'nova/servicegroup/drivers/mc.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/acc6c52a8130a724cb35032fe7e0bd381fa7c9c7', 'message': ""[Trivial fix]Remove unnecessary slash\n\nThis is to remove the unncessary slash when the line doesn't\nexceed the length of 79, to make the code more readable.\n\nChange-Id: I4b82895649faf54596215ec7aa697be071af1bfb\n""}]",0,657342,acc6c52a8130a724cb35032fe7e0bd381fa7c9c7,18,14,1,20190,,,0,"[Trivial fix]Remove unnecessary slash

This is to remove the unncessary slash when the line doesn't
exceed the length of 79, to make the code more readable.

Change-Id: I4b82895649faf54596215ec7aa697be071af1bfb
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/657342/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/network/os_vif_util.py', 'nova/servicegroup/drivers/mc.py']",3,acc6c52a8130a724cb35032fe7e0bd381fa7c9c7,slash, updated_time_in_mc = updated_time_in_mc.replace(tzinfo=iso8601.UTC), updated_time_in_mc = \ updated_time_in_mc.replace(tzinfo=iso8601.UTC),4,8
openstack%2Finstack-undercloud~stable%2Fqueens~I3a5c1f558ba3ae639857f1a0596a6243a91d49e6,openstack/instack-undercloud,stable/queens,I3a5c1f558ba3ae639857f1a0596a6243a91d49e6,[queens] re-add ssh firewall rule,MERGED,2019-05-06 08:00:03.000000000,2019-05-06 12:33:25.000000000,2019-05-06 12:33:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26828}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-05-06 08:00:03.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/3d8563887a2b5dd2b5e2c8705a1531888cc4af35', 'message': ""[queens] re-add ssh firewall rule\n\nWhen the undercloud isn't containerized,\nI89cff59947dda3f51482486c41a3d67c4aa36a3e isn't enough and we need to\nadd the rule in instack-undercloud.\n\nIt was removed in pre-rules: I14b540e6564c5b7c5d54b4f1fd5368b000744135\nto allow more granularity for the operators.\nLet's keep the functionality but still allowing ssh by default.\n\nChange-Id: I3a5c1f558ba3ae639857f1a0596a6243a91d49e6\nRelated-Bug: #1826829\n""}]",0,657334,3d8563887a2b5dd2b5e2c8705a1531888cc4af35,9,8,1,3153,,,0,"[queens] re-add ssh firewall rule

When the undercloud isn't containerized,
I89cff59947dda3f51482486c41a3d67c4aa36a3e isn't enough and we need to
add the rule in instack-undercloud.

It was removed in pre-rules: I14b540e6564c5b7c5d54b4f1fd5368b000744135
to allow more granularity for the operators.
Let's keep the functionality but still allowing ssh by default.

Change-Id: I3a5c1f558ba3ae639857f1a0596a6243a91d49e6
Related-Bug: #1826829
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/34/657334/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.yaml.template'],1,3d8563887a2b5dd2b5e2c8705a1531888cc4af35,bug/1826829, '003 ssh': dport: - 22,,3,0
openstack%2Fcookbook-openstack-integration-test~master~I99c55bcd4451d4cac2c127ccad0dc471fc641be0,openstack/cookbook-openstack-integration-test,master,I99c55bcd4451d4cac2c127ccad0dc471fc641be0,Update identity endpoint handling,MERGED,2019-04-30 13:55:13.000000000,2019-05-06 12:18:41.000000000,2019-05-06 12:18:41.000000000,"[{'_account_id': 11915}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-30 13:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/9ed0e907aba1af474bd29ca1c77aca476a137c7c', 'message': 'Update identity endpoint handling\n\n- Use the internal endpoint like in the identity cookbook\n- Drop the api auth version attribute\n\nChange-Id: I99c55bcd4451d4cac2c127ccad0dc471fc641be0\n'}, {'number': 2, 'created': '2019-05-06 08:29:36.000000000', 'files': ['recipes/setup.rb', 'spec/setup_spec.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/ef8d213673867ba44949d28b86532a12022131d4', 'message': 'Update identity endpoint handling\n\n- Use the internal endpoint like in the identity cookbook\n- Drop the api auth version attribute\n\nChange-Id: I99c55bcd4451d4cac2c127ccad0dc471fc641be0\n'}]",0,656518,ef8d213673867ba44949d28b86532a12022131d4,9,3,2,13252,,,0,"Update identity endpoint handling

- Use the internal endpoint like in the identity cookbook
- Drop the api auth version attribute

Change-Id: I99c55bcd4451d4cac2c127ccad0dc471fc641be0
",git fetch https://review.opendev.org/openstack/cookbook-openstack-integration-test refs/changes/18/656518/1 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/setup.rb', 'spec/setup_spec.rb']",2,9ed0e907aba1af474bd29ca1c77aca476a137c7c,drop-api-auth-version," openstack_endpoint_type: 'internalURL',",,13,7
openstack%2Ftripleo-ci~master~I663cabba364008b13e51fcea17d4f9f61d370f87,openstack/tripleo-ci,master,I663cabba364008b13e51fcea17d4f9f61d370f87,"WIP: Exclude ""neutron-server-opendaylight"" and debug build command",ABANDONED,2019-04-10 22:50:22.000000000,2019-05-06 12:14:37.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-10 22:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a142c78d771cee157b5735c6fd6ebe843c26a22d', 'message': 'WIP: Exclude ""neutron-server-opendaylight"" and debug build command\n\nChange-Id: I663cabba364008b13e51fcea17d4f9f61d370f87\n'}, {'number': 2, 'created': '2019-04-10 23:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b7ea4eefaf9a062905da73f7d085a7d4dbd7459f', 'message': 'WIP: Exclude ""neutron-server-opendaylight"" and debug build command\n\nChange-Id: I663cabba364008b13e51fcea17d4f9f61d370f87\n'}, {'number': 3, 'created': '2019-04-10 23:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fb71f217a4aa952af864a50cd58292093ee82882', 'message': 'WIP: Exclude ""neutron-server-opendaylight"" and debug build command\n\nChange-Id: I663cabba364008b13e51fcea17d4f9f61d370f87\n'}, {'number': 4, 'created': '2019-04-10 23:55:16.000000000', 'files': ['playbooks/tripleo-buildcontainers/templates/build.sh.j2', 'playbooks/tripleo-buildcontainers/vars/common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/50ac6b592944a07a4a790e7c326d460c4476fa9f', 'message': 'WIP: Exclude ""neutron-server-opendaylight"" and debug build command\n\nChange-Id: I663cabba364008b13e51fcea17d4f9f61d370f87\n'}]",0,651662,50ac6b592944a07a4a790e7c326d460c4476fa9f,8,3,4,9976,,,0,"WIP: Exclude ""neutron-server-opendaylight"" and debug build command

Change-Id: I663cabba364008b13e51fcea17d4f9f61d370f87
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/62/651662/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/tripleo-buildcontainers/templates/build.sh.j2', 'playbooks/tripleo-buildcontainers/vars/common.yaml']",2,a142c78d771cee157b5735c6fd6ebe843c26a22d,excludes-opendaylight, - neutron-server-opendaylight - neutron-server-opendaylight,,4,3
openstack%2Ftripleo-quickstart-extras~master~I2fb608e0166f6693e1e6c1c316ed33d8dd4935c0,openstack/tripleo-quickstart-extras,master,I2fb608e0166f6693e1e6c1c316ed33d8dd4935c0,Fix spacing when flavor args are used,ABANDONED,2019-04-17 23:46:44.000000000,2019-05-06 12:14:19.000000000,,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-17 23:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/173145066e656ca2c18859744ad291c6e6f3a5df', 'message': 'Fix spacing when falor args are used\n\nThe previous fix removed the line return after the endif\nresulting in an unknown option.\n\nChange-Id: I2fb608e0166f6693e1e6c1c316ed33d8dd4935c0\n'}, {'number': 2, 'created': '2019-04-17 23:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c21bd10888a098b17144816810dc9009f3bcd32f', 'message': 'Fix spacing when flavor args are used\n\nThe previous fix removed the line return after the endif\nresulting in an unknown option.\n\nChange-Id: I2fb608e0166f6693e1e6c1c316ed33d8dd4935c0\n'}, {'number': 3, 'created': '2019-04-18 12:06:59.000000000', 'files': ['roles/overcloud-deploy/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c98c37263dcc88511c4de1561aa18185b54a84dc', 'message': 'Fix spacing when flavor args are used\n\nThe previous fix removed the line return after the endif\nresulting in an unknown option.\n\nChange-Id: I2fb608e0166f6693e1e6c1c316ed33d8dd4935c0\n'}]",0,653634,c98c37263dcc88511c4de1561aa18185b54a84dc,18,5,3,9976,,,0,"Fix spacing when flavor args are used

The previous fix removed the line return after the endif
resulting in an unknown option.

Change-Id: I2fb608e0166f6693e1e6c1c316ed33d8dd4935c0
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/34/653634/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/defaults/main.yml'],1,173145066e656ca2c18859744ad291c6e6f3a5df,fix-flavors-spacing," {% if release in ['newton','ocata','pike','queens','rocky','stein'] -%}{{ flavor_args }}{%- endif %}"," {% if release in ['newton','ocata','pike','queens','rocky','stein'] -%}{{ flavor_args }}{%- endif -%}",1,1
openstack%2Ftripleo-heat-templates~master~Ib9617279bff4e1e7b0bec281c50ef407846c53da,openstack/tripleo-heat-templates,master,Ib9617279bff4e1e7b0bec281c50ef407846c53da,DNM - Testing placement fixes,ABANDONED,2019-04-24 15:47:03.000000000,2019-05-06 12:14:08.000000000,,"[{'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-24 15:47:03.000000000', 'files': ['deployment/nova/nova-metadata-container-puppet.yaml', 'zuul.d/layout.yaml', 'deployment/logging/files/placement-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7cef6f3d404f2db4f6dbf9e154b3f13db479e0b2', 'message': 'DNM - Testing placement fixes\n\nChange-Id: Ib9617279bff4e1e7b0bec281c50ef407846c53da\n'}]",0,655478,7cef6f3d404f2db4f6dbf9e154b3f13db479e0b2,5,5,1,9976,,,0,"DNM - Testing placement fixes

Change-Id: Ib9617279bff4e1e7b0bec281c50ef407846c53da
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/655478/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-metadata-container-puppet.yaml', 'zuul.d/layout.yaml', 'deployment/logging/files/placement-api.yaml']",3,7cef6f3d404f2db4f6dbf9e154b3f13db479e0b2,test-placement-changes," - { 'path': /var/log/placement, 'setype': svirt_sandbox_file_t }",,2,176
openstack%2Fcookbook-openstack-identity~master~Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28,openstack/cookbook-openstack-identity,master,Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28,Drop admin endpoints,MERGED,2019-04-04 13:12:48.000000000,2019-05-06 12:09:04.000000000,2019-05-06 12:09:03.000000000,"[{'_account_id': 11915}, {'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-04 13:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/911b248af294d9ba97aaabd9853bfbba9666fd75', 'message': 'Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nChange-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28\n'}, {'number': 2, 'created': '2019-04-04 13:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/1b7c62602746ed4cec6016000021990653ac8672', 'message': 'Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nChange-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28\n'}, {'number': 3, 'created': '2019-04-04 16:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/332be4d7d2cdbe504ffc4774d67c2241c53954e8', 'message': 'Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nChange-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28\n'}, {'number': 4, 'created': '2019-04-05 11:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/b34d5292ac360cf762397e53297564cb30579976', 'message': 'Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nChange-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28\n'}, {'number': 5, 'created': '2019-04-05 13:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/87faf5e399effa2e8243f4c00efdc6c08c477837', 'message': 'Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed.\n\nAlso drop explicitly creating resources that are created during keystone\nbootstrap anyway.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nChange-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28\n'}, {'number': 6, 'created': '2019-04-08 08:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/da8f6770576d8e61be9ed47bb2899af8345f980a', 'message': 'Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed.\n\nAlso drop explicitly creating resources that are created during keystone\nbootstrap anyway.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nDepends-On: https://review.openstack.org/650633\nChange-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28\n'}, {'number': 7, 'created': '2019-04-08 09:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/c5664cc55e40d8ffe114a298e0f345f77d361072', 'message': 'Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed.\n\nAlso drop explicitly creating resources that are created during keystone\nbootstrap anyway.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nChange-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28\n'}, {'number': 8, 'created': '2019-04-08 09:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/e035f9deca0fd52395ed22e7ecc2908f50d58011', 'message': 'Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed.\n\nAlso drop explicitly creating resources that are created during keystone\nbootstrap anyway.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nChange-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28\n'}, {'number': 9, 'created': '2019-04-08 11:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/e0044f277ff45851b0b6ee0f0ac9fb505cd5071f', 'message': 'Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed.\n\nAlso drop explicitly creating resources that are created during keystone\nbootstrap anyway.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nChange-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28\n'}, {'number': 10, 'created': '2019-04-12 11:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/32721c42ede6c230e18adb97a744cd15e06a602b', 'message': 'Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed.\n\nAlso drop explicitly creating resources that are created during keystone\nbootstrap anyway.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nChange-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28\n'}, {'number': 11, 'created': '2019-04-12 12:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/c8dbcdf1a83785b9356a47505c5fb36f6a8b9417', 'message': 'Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed.\n\nAlso drop explicitly creating resources that are created during keystone\nbootstrap anyway.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nChange-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28\n'}, {'number': 12, 'created': '2019-04-12 12:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/57bd2f61bab67d5ba71005bfdc975c34dccd6423', 'message': 'Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed.\n\nAlso drop explicitly creating resources that are created during keystone\nbootstrap anyway.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nDepends-On: https://review.openstack.org/652052\nChange-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28\n'}, {'number': 13, 'created': '2019-04-12 14:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/da013727e0a2424a709422baff31dbf2a2b6e3da', 'message': 'Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed.\n\nAlso drop explicitly creating resources that are created during keystone\nbootstrap anyway.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nDepends-On: https://review.openstack.org/652052\nDepends-On: https://review.openstack.org/652064\nChange-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28\n'}, {'number': 14, 'created': '2019-04-12 15:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/46f779d09427410e74c1635b218e33b35b44783e', 'message': 'Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed.\n\nAlso drop explicitly creating resources that are created during keystone\nbootstrap anyway.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nDepends-On: https://review.openstack.org/652052\nDepends-On: https://review.openstack.org/652064\nDepends-On: https://review.openstack.org/652098\nChange-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28\n'}, {'number': 15, 'created': '2019-04-15 08:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/9ffd692db90c26077214c14163a4346dd1924259', 'message': 'Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed.\n\nAlso drop explicitly creating resources that are created during keystone\nbootstrap anyway.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nDepends-On: https://review.openstack.org/652052\nDepends-On: https://review.openstack.org/652064\nDepends-On: https://review.openstack.org/652098\nDepends-On: https://review.openstack.org/652589\nChange-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28\n'}, {'number': 16, 'created': '2019-04-16 09:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/47ef2514dad425d56f87e7be2a219b1c1dc7a4b2', 'message': ""Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed, except that it's use is hardcoded in keystonemiddleware.\nSo we prepare everything for completely getting rid of the admin\nIdentity endpoint, but still create it during bootstrap.\n\nAlso drop explicitly creating resources that are created during keystone\nbootstrap anyway.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nDepends-On: https://review.openstack.org/652052\nDepends-On: https://review.openstack.org/652064\nDepends-On: https://review.openstack.org/652098\nDepends-On: https://review.openstack.org/652589\nChange-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28\n""}, {'number': 17, 'created': '2019-04-16 13:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/681646a73b0e5dd271e830ec4e4cf5e0014fb5d3', 'message': ""Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed, except that it's use is hardcoded in keystonemiddleware.\nSo we prepare everything for completely getting rid of the admin\nIdentity endpoint, but still create it during bootstrap.\n\nAlso drop explicitly creating resources that are created during keystone\nbootstrap anyway.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nDepends-On: https://review.openstack.org/652052\nDepends-On: https://review.openstack.org/652064\nDepends-On: https://review.openstack.org/652098\nDepends-On: https://review.openstack.org/652589\nChange-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28\n""}, {'number': 18, 'created': '2019-04-17 08:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/0a148fcecbc7550ae1ad8ff37d010b204cfbc93b', 'message': ""Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed, except that it's use is hardcoded in keystonemiddleware.\nSo we prepare everything for completely getting rid of the admin\nIdentity endpoint, but still create it during bootstrap.\n\nAlso drop explicitly creating resources that are created during keystone\nbootstrap anyway.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nDepends-On: https://review.openstack.org/652052\nDepends-On: https://review.openstack.org/652064\nDepends-On: https://review.openstack.org/652098\nDepends-On: https://review.openstack.org/652589\nChange-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28\n""}, {'number': 19, 'created': '2019-04-18 11:06:43.000000000', 'files': ['recipes/server-apache.rb', 'templates/default/keystone-paste.ini.erb', 'recipes/registration.rb', 'spec/server-apache_spec.rb', 'spec/registration_spec.rb', 'attributes/default.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/284d54be798a3cdea0f1745f22e39a0cc0db2a0f', 'message': ""Drop admin endpoints\n\nThe admin endpoints offer no special functionality, users may talk to\nthe public endpoints instead. The only historic use case has been the\nkeystone v2 admin endpoint, but with keystone v3 API, even that is no\nlonger needed, except that it's use is hardcoded in keystonemiddleware.\nSo we prepare everything for completely getting rid of the admin\nIdentity endpoint, but still create it during bootstrap.\n\nAlso drop explicitly creating resources that are created during keystone\nbootstrap anyway.\n\n[0]\nhttps://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst\n\nDepends-On: https://review.openstack.org/652052\nDepends-On: https://review.openstack.org/652064\nDepends-On: https://review.openstack.org/652098\nDepends-On: https://review.openstack.org/652589\nChange-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28\n""}]",0,649987,284d54be798a3cdea0f1745f22e39a0cc0db2a0f,45,4,19,13252,,,0,"Drop admin endpoints

The admin endpoints offer no special functionality, users may talk to
the public endpoints instead. The only historic use case has been the
keystone v2 admin endpoint, but with keystone v3 API, even that is no
longer needed, except that it's use is hardcoded in keystonemiddleware.
So we prepare everything for completely getting rid of the admin
Identity endpoint, but still create it during bootstrap.

Also drop explicitly creating resources that are created during keystone
bootstrap anyway.

[0]
https://opendev.org/openstack/openstack-chef-specs/src/branch/master/specs/ocata/all/drop-admin-endpoints.rst

Depends-On: https://review.openstack.org/652052
Depends-On: https://review.openstack.org/652064
Depends-On: https://review.openstack.org/652098
Depends-On: https://review.openstack.org/652589
Change-Id: Iddfae1c2cb29217cd9aae89d56bc65fa935fcd28
",git fetch https://review.opendev.org/openstack/cookbook-openstack-identity refs/changes/87/649987/17 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/server-apache.rb', 'templates/default/keystone-paste.ini.erb', 'recipes/registration.rb', 'spec/server-apache_spec.rb', 'attributes/default.rb']",5,911b248af294d9ba97aaabd9853bfbba9666fd75,drop-admin-endpoints,"# Copyright 2019, x-ion GmbH# This specifies the pipeline of the keystone V3 API,","# This specify the pipeline of the keystone public API, # all Identity public API requests will be processed by the order of the pipeline. # this value will be used in the templated version of keystone-paste.ini # The last item in this pipeline must be public_service or an equivalent # application. It cannot be a filter. default['openstack']['identity']['pipeline']['public_api'] = 'healthcheck cors sizelimit http_proxy_to_wsgi osprofiler url_normalize request_id build_auth_context token_auth json_body ec2_extension public_service' # This specify the pipeline of the keystone admin API, # all Identity admin API requests will be processed by the order of the pipeline. # this value will be used in the templated version of keystone-paste.ini # The last item in this pipeline must be admin_service or an equivalent # application. It cannot be a filter. default['openstack']['identity']['pipeline']['admin_api'] = 'healthcheck cors sizelimit http_proxy_to_wsgi osprofiler url_normalize request_id build_auth_context token_auth json_body ec2_extension s3_extension admin_service' # This specify the pipeline of the keystone V3 API,",2,48
openstack%2Fosprofiler~master~Iadb5a14d495dbf242970b8b1f4705cd33545a7eb,openstack/osprofiler,master,Iadb5a14d495dbf242970b8b1f4705cd33545a7eb,Fix elasticsearch version in python requirements,MERGED,2019-04-28 21:07:01.000000000,2019-05-06 11:51:59.000000000,2019-05-06 11:51:59.000000000,"[{'_account_id': 5950}, {'_account_id': 9008}, {'_account_id': 22348}, {'_account_id': 27875}]","[{'number': 1, 'created': '2019-04-28 21:07:01.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/895dbc60c64b723aca5160dbd6ad47245b361705', 'message': 'Fix elasticsearch version in python requirements\n\nOpenStack Python requirements check fails on Python elasticsearch with error:\n\n > Requirement for package elasticsearch excludes a version\n > not excluded in the global list.\n\nChange-Id: Iadb5a14d495dbf242970b8b1f4705cd33545a7eb\nCloses-Bug: #1826782\n'}]",0,656192,895dbc60c64b723aca5160dbd6ad47245b361705,13,4,1,11444,,,0,"Fix elasticsearch version in python requirements

OpenStack Python requirements check fails on Python elasticsearch with error:

 > Requirement for package elasticsearch excludes a version
 > not excluded in the global list.

Change-Id: Iadb5a14d495dbf242970b8b1f4705cd33545a7eb
Closes-Bug: #1826782
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/92/656192/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,895dbc60c64b723aca5160dbd6ad47245b361705,bug/1826782,"elasticsearch>=2.0.0,<3.0.0 # Apache-2.0","elasticsearch>=2.0.0,<=3.0.0 # Apache-2.0",1,1
openstack%2Fopenstacksdk~master~Ia53d5dfd9047640243a1f101289df1e156ed7624,openstack/openstacksdk,master,Ia53d5dfd9047640243a1f101289df1e156ed7624,Allow dynamic properties on Resource,ABANDONED,2019-04-02 13:41:53.000000000,2019-05-06 11:51:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-02 13:41:53.000000000', 'files': ['openstack/tests/unit/test_resource.py', 'openstack/resource.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cc5bb02fff8169cc1de04e913efc6f9734831504', 'message': 'Allow dynamic properties on Resource\n\nSome services support ""dynamic"" (or better to say not standardized \nproperties on the resource (i.e. Image). In order to complete switch \nfrom re-implementation of the requests in cloud/proxy layer we need to \nprovide ability to set/read properties not present in the native \nresource definition.\nAnother use case is setting/retrieving of dynamic header properties \n(i.e. Object)\n\nChange-Id: Ia53d5dfd9047640243a1f101289df1e156ed7624\n'}]",0,649329,cc5bb02fff8169cc1de04e913efc6f9734831504,3,1,1,27900,,,0,"Allow dynamic properties on Resource

Some services support ""dynamic"" (or better to say not standardized 
properties on the resource (i.e. Image). In order to complete switch 
from re-implementation of the requests in cloud/proxy layer we need to 
provide ability to set/read properties not present in the native 
resource definition.
Another use case is setting/retrieving of dynamic header properties 
(i.e. Object)

Change-Id: Ia53d5dfd9047640243a1f101289df1e156ed7624
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/29/649329/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/test_resource.py', 'openstack/resource.py']",2,cc5bb02fff8169cc1de04e913efc6f9734831504,," #: Allow dynamic (not pre-defined) body attributes on the resource allow_dynamic_body_attrs = False #: Allow dynamic (not pre-defined) header attributes on the resource allow_dynamic_header_attrs = False def add_attribute(self, name, obj): """"""Add dynamic attribute to the resource. :param name: The attribute name :param obj: Instance of :class:`~openstack.resource.BaseComponent` """""" if (isinstance(obj, Body) and self.allow_dynamic_body_attrs) or \ (isinstance(obj, Header) and self.allow_dynamic_header_attrs): real_item = getattr(self.__class__, name, None) if not real_item: setattr(self.__class__, name, obj) else: raise KeyError( ""{name} is already present."".format( name=name)) else: raise exceptions.SDKException( 'Dymamic attributes are not allowed on {module}.{cls}'.format( module=self.__module__, cls=self.__class__.__name__, )) return self._consume_mapped_attrs( Body, attrs, self.allow_dynamic_body_attrs) return self._consume_mapped_attrs( Header, attrs, self.allow_dynamic_header_attrs) def _consume_mapped_attrs(self, mapping_cls, attrs, allow_dynamic_attrs=False): interim_res = self._consume_attrs(mapping, attrs) if allow_dynamic_attrs: # Allow dynamic attributes consumed_keys = [] for key, value in attrs.items(): # Attribute name will be adapted attr_name = key.replace('-', '_') # Create property attr = mapping_cls(key) # Add property self.add_attribute(attr_name, attr) # Save value for consuming interim_res[key] = value consumed_keys.append(key) for key in consumed_keys: attrs.pop(key) return interim_res"," return self._consume_mapped_attrs(Body, attrs) return self._consume_mapped_attrs(Header, attrs) def _consume_mapped_attrs(self, mapping_cls, attrs): return self._consume_attrs(mapping, attrs)",138,4
openstack%2Fnova~master~Id5432b143f298f49a9b8ac1724ef5c200c91501d,openstack/nova,master,Id5432b143f298f49a9b8ac1724ef5c200c91501d,Plumbing for locking an instance with reason,ABANDONED,2019-04-18 09:04:46.000000000,2019-05-06 11:51:08.000000000,,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2019-04-18 09:04:46.000000000', 'files': ['nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/12b7afad2948977be5afe6b7fce9e6e1b1b0f2da', 'message': 'Plumbing for locking an instance with reason\n\nThis patch adds the required plumbing for locking and unlocking\na server with a reason. Note that this will not be used until the\nnew microversion patch in this series merges.\n\nRelated to blueprint add-locked-reason\n\nChange-Id: Id5432b143f298f49a9b8ac1724ef5c200c91501d\n'}]",2,653691,12b7afad2948977be5afe6b7fce9e6e1b1b0f2da,15,13,1,26936,,,0,"Plumbing for locking an instance with reason

This patch adds the required plumbing for locking and unlocking
a server with a reason. Note that this will not be used until the
new microversion patch in this series merges.

Related to blueprint add-locked-reason

Change-Id: Id5432b143f298f49a9b8ac1724ef5c200c91501d
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/653691/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py']",2,12b7afad2948977be5afe6b7fce9e6e1b1b0f2da,bp/add-locked-reason," def lock(self, context, instance, reason=None): def lock(self, context, instance, reason=None): if reason: instance.system_metadata['locked_reason'] = reason lock(self, context, instance, reason=reason) if 'locked_reason' in instance.system_metadata: del instance.system_metadata['locked_reason']"," def lock(self, context, instance): def lock(self, context, instance): lock(self, context, instance)",52,3
openstack%2Fironic~stable%2Fpike~Ie101d1e312bd7820294fad8b317fc62faa8769e1,openstack/ironic,stable/pike,Ie101d1e312bd7820294fad8b317fc62faa8769e1,Miss node_id in devstack lib,MERGED,2019-05-02 03:13:05.000000000,2019-05-06 11:33:19.000000000,2019-05-06 11:33:07.000000000,"[{'_account_id': 6618}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23360}, {'_account_id': 23851}, {'_account_id': 26458}, {'_account_id': 28429}]","[{'number': 1, 'created': '2019-05-02 03:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f09c14fb5b73750a6b3d3b95dadf7c7ce0c1fb22', 'message': 'Fix the wrong ironic command\n\nFix the wrong ironic command\n\nChange-Id: Ie101d1e312bd7820294fad8b317fc62faa8769e1\n'}, {'number': 2, 'created': '2019-05-03 23:45:34.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e3aa496a788df40ab6867dd23231c8e133082192', 'message': 'Miss node_id in devstack lib\n\nWhen installing devstack, found there is\na missing node id in devstack/lib/ironic\nwhen root devices are less than 4Gb.\n\nChange-Id: Ie101d1e312bd7820294fad8b317fc62faa8769e1\nStory: #1730526\nTask: #9773\n(cherry picked from commit 4b6fe6668779ea60781f77b94d7d7c4bb9dbae5e)\n'}]",2,656723,e3aa496a788df40ab6867dd23231c8e133082192,33,11,2,23360,,,0,"Miss node_id in devstack lib

When installing devstack, found there is
a missing node id in devstack/lib/ironic
when root devices are less than 4Gb.

Change-Id: Ie101d1e312bd7820294fad8b317fc62faa8769e1
Story: #1730526
Task: #9773
(cherry picked from commit 4b6fe6668779ea60781f77b94d7d7c4bb9dbae5e)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/23/656723/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,f09c14fb5b73750a6b3d3b95dadf7c7ce0c1fb22,pike," $IRONIC_CMD node set $node_id --property \ root_device='{""vendor"": ""0x1af4""}'"," $IRONIC_CMD node set --property root_device='{""vendor"": ""0x1af4""}'",2,1
openstack%2Fkolla~stable%2Fstein~I402f58ce53fdce426582cf2fc31349da6d2f5ae0,openstack/kolla,stable/stein,I402f58ce53fdce426582cf2fc31349da6d2f5ae0,Reuse /var/lib/tempest symlink for rpm also,MERGED,2019-05-06 05:26:28.000000000,2019-05-06 10:39:57.000000000,2019-05-06 10:39:57.000000000,"[{'_account_id': 13861}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23717}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-05-06 05:26:28.000000000', 'files': ['docker/tempest/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2648c12c8d3567ecafc6c4b6c3c1ce9c6090c972', 'message': ""Reuse /var/lib/tempest symlink for rpm also\n\nhttps://review.openstack.org/#/c/605980/ with this review in\ntripleo, we use /var/lib/tempest path but in kolla tempest\ndockerfile /usr/share/openstack-tempest is used which is not\nmounted in tripleo deployment.\nLet's reuse the same volume with tempest container instead\nof /usr/share/openstack-tempest.\n\nChange-Id: I402f58ce53fdce426582cf2fc31349da6d2f5ae0\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n(cherry picked from commit 8b8958459809940b812364542a6994a89624f981)\n""}]",0,657314,2648c12c8d3567ecafc6c4b6c3c1ce9c6090c972,13,6,1,12393,,,0,"Reuse /var/lib/tempest symlink for rpm also

https://review.openstack.org/#/c/605980/ with this review in
tripleo, we use /var/lib/tempest path but in kolla tempest
dockerfile /usr/share/openstack-tempest is used which is not
mounted in tripleo deployment.
Let's reuse the same volume with tempest container instead
of /usr/share/openstack-tempest.

Change-Id: I402f58ce53fdce426582cf2fc31349da6d2f5ae0
Signed-off-by: Chandan Kumar <chkumar@redhat.com>
(cherry picked from commit 8b8958459809940b812364542a6994a89624f981)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/14/657314/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/tempest/Dockerfile.j2'],1,2648c12c8d3567ecafc6c4b6c3c1ce9c6090c972,tempest-stable/stein, {% endif %} ,"{{ macros.install_packages(tempest_packages | customizable(""packages"")) }} RUN ln -sf /usr/share/openstack-tempest /tempest {% endif %} ",2,5
openstack%2Fneutron-dynamic-routing~master~I10b11ae52b36552d448cecaea03cfa1baaca026a,openstack/neutron-dynamic-routing,master,I10b11ae52b36552d448cecaea03cfa1baaca026a,Ignore DrAgentAssociationError in test_remove_add_speaker_agent,MERGED,2019-03-15 15:54:40.000000000,2019-05-06 10:23:31.000000000,2019-05-06 10:23:31.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 15:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/7ee9a242ed1e0708bebe7130b73ba70ad1906447', 'message': 'Ignore DrAgentAssociationError in test_remove_add_speaker_agent\n\nThe BGP service plugin will automatically re-schedule BGP speakers\nthat are unscheduled with a periodic job. This introduces a race\ncondition that the basic scenario test needs to account for. This\nchange causes the test_remove_add_speaker_agent() test to ignore\nDrAgentAssociationError when attempting to explicitly reschedule\na BGP speaker that has just unscheduled. Since the content of the\ntest is not affected by catching and ignoring these errors, we can\nsafely ignore the error while enabling the test to pass consistently.\n\nChange-Id: I10b11ae52b36552d448cecaea03cfa1baaca026a\nCloses-Bug: #1820293\n'}, {'number': 2, 'created': '2019-03-15 18:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/fcae06de440e08b0d7bc08ca34db053e295a94bc', 'message': 'Ignore DrAgentAssociationError in test_remove_add_speaker_agent\n\nThe BGP service plugin will automatically re-schedule BGP speakers\nthat are unscheduled with a periodic job. This introduces a race\ncondition that the basic scenario test needs to account for. This\nchange causes the test_remove_add_speaker_agent() test to ignore\nDrAgentAssociationError when attempting to explicitly reschedule\na BGP speaker that has just unscheduled. Since the content of the\ntest is not affected by catching and ignoring these errors, we can\nsafely ignore the error while enabling the test to pass consistently.\n\nChange-Id: I10b11ae52b36552d448cecaea03cfa1baaca026a\nCloses-Bug: #1820293\n'}, {'number': 3, 'created': '2019-03-15 21:35:26.000000000', 'files': ['neutron_dynamic_routing/tests/tempest/scenario/basic/test_basic.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/efaf23a962c3f9fe35d732b93069d216487fb7c2', 'message': 'Ignore DrAgentAssociationError in test_remove_add_speaker_agent\n\nThe BGP service plugin will automatically re-schedule BGP speakers\nthat are unscheduled with a periodic job. This introduces a race\ncondition that the basic scenario test job needs to account for. This\nchange causes the test_remove_add_speaker_agent() test to ignore\nany DrAgentAssociationError when attempting to explicitly reschedule\na BGP speaker that has just unscheduled. Since the content of the\ntest is not affected by catching and ignoring these errors, we can\nsafely ignore the error while enabling the test to pass consistently.\n\nChange-Id: I10b11ae52b36552d448cecaea03cfa1baaca026a\nCloses-Bug: #1820293\n'}]",0,643619,efaf23a962c3f9fe35d732b93069d216487fb7c2,18,5,3,4187,,,0,"Ignore DrAgentAssociationError in test_remove_add_speaker_agent

The BGP service plugin will automatically re-schedule BGP speakers
that are unscheduled with a periodic job. This introduces a race
condition that the basic scenario test job needs to account for. This
change causes the test_remove_add_speaker_agent() test to ignore
any DrAgentAssociationError when attempting to explicitly reschedule
a BGP speaker that has just unscheduled. Since the content of the
test is not affected by catching and ignoring these errors, we can
safely ignore the error while enabling the test to pass consistently.

Change-Id: I10b11ae52b36552d448cecaea03cfa1baaca026a
Closes-Bug: #1820293
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/19/643619/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/tests/tempest/scenario/basic/test_basic.py'],1,7ee9a242ed1e0708bebe7130b73ba70ad1906447,bug/1820293,"from neutron_dynamic_routing.extensions import bgp_dragentscheduler as bgp_dras_ext # noqa try: self.bgp_client.add_bgp_speaker_to_dragent(agent_id, speaker_id) except bgp_dras_ext.DrAgentAssociationError: # Ignore this error because the bgpspeaker may have been # re-scheduled automatically between now and the last call to # self.bgp_client.remove_bgp_speaker_from_dragent(). pass "," self.bgp_client.add_bgp_speaker_to_dragent(agent_id, speaker_id)",10,1
openstack%2Fneutron-dynamic-routing~master~Iaeebe7f3f76339f0c34c9e0f4db838ec192dbd83,openstack/neutron-dynamic-routing,master,Iaeebe7f3f76339f0c34c9e0f4db838ec192dbd83,Update hacking version,MERGED,2019-01-04 17:48:33.000000000,2019-05-06 10:23:30.000000000,2019-05-06 10:23:30.000000000,"[{'_account_id': 4187}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 17130}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26297}, {'_account_id': 28614}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-01-04 17:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/62e77477b1992470538793bbe9d1056189904b56', 'message': 'Update hacking version to latest\n\nChange-Id: Iaeebe7f3f76339f0c34c9e0f4db838ec192dbd83\n'}, {'number': 2, 'created': '2019-04-18 02:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/240a30366682dc43f7bdc11eb81b9809ff7ea287', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: Iaeebe7f3f76339f0c34c9e0f4db838ec192dbd83\n'}, {'number': 3, 'created': '2019-04-29 05:50:41.000000000', 'files': ['test-requirements.txt', 'neutron_dynamic_routing/tests/unit/db/test_bgp_db.py', 'tox.ini', 'neutron_dynamic_routing/tests/unit/services/bgp/driver/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/bb7a0fb1cb339651bdf6e172431142562861263b', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: Iaeebe7f3f76339f0c34c9e0f4db838ec192dbd83\n'}]",2,628649,bb7a0fb1cb339651bdf6e172431142562861263b,24,10,3,27781,,,0,"Update hacking version

Use latest release 1.1.0 and compatible changes w.r.t pep8

Change-Id: Iaeebe7f3f76339f0c34c9e0f4db838ec192dbd83
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/49/628649/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,62e77477b1992470538793bbe9d1056189904b56,,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking<0.12,>=0.11.0 # Apache-2.0",1,1
openstack%2Fsahara-dashboard~master~Ice0f4e55874ea61f63e8eb5b16be25b4b0f301fd,openstack/sahara-dashboard,master,Ice0f4e55874ea61f63e8eb5b16be25b4b0f301fd,Imported Translations from Zanata,MERGED,2019-05-06 08:59:29.000000000,2019-05-06 10:05:28.000000000,2019-05-06 10:05:27.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 08:59:29.000000000', 'files': ['sahara_dashboard/locale/id/LC_MESSAGES/django.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'sahara_dashboard/locale/ru/LC_MESSAGES/django.po', 'sahara_dashboard/locale/fr/LC_MESSAGES/django.po', 'sahara_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'sahara_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'sahara_dashboard/locale/tr_TR/LC_MESSAGES/django.po', 'sahara_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'sahara_dashboard/locale/ja/LC_MESSAGES/django.po', 'sahara_dashboard/locale/de/LC_MESSAGES/django.po', 'sahara_dashboard/locale/cs/LC_MESSAGES/django.po', 'sahara_dashboard/locale/ko_KR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/21a61b509a4a8688415f996c55cffb55980a372a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ice0f4e55874ea61f63e8eb5b16be25b4b0f301fd\n'}]",0,657354,21a61b509a4a8688415f996c55cffb55980a372a,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ice0f4e55874ea61f63e8eb5b16be25b4b0f301fd
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/54/657354/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_dashboard/locale/id/LC_MESSAGES/django.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'sahara_dashboard/locale/ru/LC_MESSAGES/django.po', 'sahara_dashboard/locale/fr/LC_MESSAGES/django.po', 'sahara_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'sahara_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'sahara_dashboard/locale/tr_TR/LC_MESSAGES/django.po', 'sahara_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'sahara_dashboard/locale/ja/LC_MESSAGES/django.po', 'sahara_dashboard/locale/de/LC_MESSAGES/django.po', 'sahara_dashboard/locale/cs/LC_MESSAGES/django.po', 'sahara_dashboard/locale/ko_KR/LC_MESSAGES/django.po']",12,21a61b509a4a8688415f996c55cffb55980a372a,zanata/translations,"# ByungYeol Woo <wby1089@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-04-22 11:41+0000\n""""PO-Revision-Date: 2019-05-01 11:14+0000\n""msgid ""Attached storage location"" msgstr ""  "" msgid ""Boot storage location"" msgstr ""  "" msgid ""Boot volume type"" msgstr ""  "" msgid ""Choose a boot mode"" msgstr ""  "" ","""POT-Creation-Date: 2018-08-27 10:14+0000\n""""PO-Revision-Date: 2018-08-31 10:47+0000\n""msgid ""Boot From Volume"" msgstr "" "" msgid ""If selected, the node group instance will be booted from volume"" msgstr "",     ."" msgid ""Project Id"" msgstr "" ID"" msgid ""Storage location"" msgstr "" "" ",98,114
openstack%2Fsahara-plugin-ambari~master~Ib9141ebbdccc87159398bf08ad2c24a9807038c4,openstack/sahara-plugin-ambari,master,Ib9141ebbdccc87159398bf08ad2c24a9807038c4,Imported Translations from Zanata,MERGED,2019-05-06 07:29:47.000000000,2019-05-06 10:03:19.000000000,2019-05-06 10:03:18.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 07:29:47.000000000', 'files': ['releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-ambari/commit/5e5d274bf177ddda2b9612f2f2d49cabf31658f0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ib9141ebbdccc87159398bf08ad2c24a9807038c4\n'}]",0,657327,5e5d274bf177ddda2b9612f2f2d49cabf31658f0,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib9141ebbdccc87159398bf08ad2c24a9807038c4
",git fetch https://review.opendev.org/openstack/sahara-plugin-ambari refs/changes/27/657327/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po'],1,5e5d274bf177ddda2b9612f2f2d49cabf31658f0,zanata/translations,"# Rodrigo Loures <rmoraesloures@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: sahara-plugin-ambari\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2019-04-22 11:43+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-04-18 09:33+0000\n"" ""Last-Translator: Rodrigo Loures <rmoraesloures@gmail.com>\n"" ""Language-Team: Portuguese (Brazil)\n"" ""Language: pt_BR\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""Bug Fixes"" msgstr ""Correo de erros"" msgid ""Current Series Release Notes"" msgstr ""Atual - Srie de Notas de Verso"" msgid """" ""Fixed several bugs which prevented sahara-image-pack from generating Ambari-"" ""based Ubuntu images."" msgstr """" ""Correo de alguns erros aos quais impediam sahara-image-pack de gerar "" ""imagens Ubuntu baseadas em Ambari. "" msgid ""Sahara Ambari Plugin Release Notes"" msgstr ""Notas de verso do plugin Sahara Ambari"" msgid ""Stein Series Release Notes"" msgstr ""Notas de verso da Srie Stein"" ",,34,0
openstack%2Fmonasca-persister~master~I208c4b4957a40616a9f66c74bcd307630747e1c9,openstack/monasca-persister,master,I208c4b4957a40616a9f66c74bcd307630747e1c9,Improve Docker README file,MERGED,2019-04-11 11:23:41.000000000,2019-05-06 09:54:55.000000000,2019-05-06 09:54:54.000000000,"[{'_account_id': 10311}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2019-04-11 11:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/094dbb49550ad92d500355d812ea34ba0868114f', 'message': 'Improve Docker README file\n\nChange-Id: I208c4b4957a40616a9f66c74bcd307630747e1c9\n'}, {'number': 2, 'created': '2019-04-15 11:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/8afa5c4e3e297c4b435ff68ecf3b1aedede599c2', 'message': 'Improve Docker README file\n\nChange-Id: I208c4b4957a40616a9f66c74bcd307630747e1c9\n'}, {'number': 3, 'created': '2019-04-15 11:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/11fce05a0037eddc4a250df9dec3ef0e470e7fc9', 'message': 'Improve Docker README file\n\nChange-Id: I208c4b4957a40616a9f66c74bcd307630747e1c9\n'}, {'number': 4, 'created': '2019-04-15 11:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/59ff2319e808a456b1a8b5b0cf445b2c10f00a1f', 'message': 'Improve Docker README file\n\nChange-Id: I208c4b4957a40616a9f66c74bcd307630747e1c9\n'}, {'number': 5, 'created': '2019-04-18 12:16:59.000000000', 'files': ['docker/README.rst'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/650105fe16c306abe2b90ed2dd92505c3ab8ea32', 'message': 'Improve Docker README file\n\nChange-Id: I208c4b4957a40616a9f66c74bcd307630747e1c9\n'}]",0,651757,650105fe16c306abe2b90ed2dd92505c3ab8ea32,14,3,5,21922,,,0,"Improve Docker README file

Change-Id: I208c4b4957a40616a9f66c74bcd307630747e1c9
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/57/651757/3 && git format-patch -1 --stdout FETCH_HEAD,['docker/README.rst'],1,094dbb49550ad92d500355d812ea34ba0868114f,docs_cleaning,"Building Docker image ===================== Example: $ ./build_image.sh <repository_version> <upper_constrains_branch> <common_version> Everything after ``./build_image.sh`` is optional and by default configured to get versions from ``Dockerfile``. ``./build_image.sh`` also contain more detailed build description. Environment variables ~~~~~~~~~~~~~~~~~~~~~ =============================== ================= ================================================ Variable Default Description =============================== ================= ================================================ DEBUG false If true, enable debug logging VERBOSE true If true, enable info logging ZOOKEEPER_URI zookeeper:2181 The host and port for zookeeper KAFKA_URI kafka:9092 The host and port for kafka KAFKA_ALARM_HISTORY_BATCH_SIZE 1000 Kafka consumer takes messages in a batch KAFKA_ALARM_HISTORY_WAIT_TIME 15 Seconds to wait if the batch size is not reached KAFKA_METRICS_BATCH_SIZE 1000 Kafka consumer takes messages in a batch KAFKA_METRICS_WAIT_TIME 15 Seconds to wait if the batch size is not reached DATABASE_BACKEND influxdb Select for backend database INFLUX_HOST influxdb The host for influxdb INFLUX_PORT 8086 The port for influxdb INFLUX_USER mon_persister The influx username INFLUX_PASSWORD password The influx password INFLUX_DB mon The influx database name INFLUX_IGNORE_PARSE_POINT_ERROR false Don't exit on InfluxDB parse point errors CASSANDRA_HOSTS cassandra Cassandra node addresses CASSANDRA_PORT 8086 Cassandra port number CASSANDRA_USER mon_persister Cassandra user name CASSANDRA_PASSWORD password Cassandra password CASSANDRA_KEY_SPACE monasca Keyspace name where metrics are stored CASSANDRA_CONNECTION_TIMEOUT 5 Cassandra timeout in seconds CASSANDRA_RETENTION_POLICY 45 Data retention period in days STAY_ALIVE_ON_FAILURE false If true, container runs 2 hours even start fails =============================== ================= ================================================ Wait scripts environment variables ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ======================== ================================ ========================================== Variable Default Description ======================== ================================ ========================================== KAFKA_URI kafka:9092 URI to Apache Kafka (distributed streaming platform) KAFKA_WAIT_FOR_TOPICS alarm-state-transitions,metrics The topics where metric-api streams the metric messages and alarm-states KAFKA_WAIT_RETRIES 24 Number of kafka connect attempts KAFKA_WAIT_DELAY 5 Seconds to wait between attempts ======================== ================================ ========================================== Scripts ~~~~~~~health_check.py This file will be used for checking the status of the application.","Building Monasca persister image (child) ======================================== Requirements from monasca-base image ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ health_check.py This file will be used for checking the status of the Monasca persister application. Scripts for child image ~~~~~~~~~~~~~~~~~~~~~~~build_image.sh Please read detailed build description inside the script. Build arguments (child) ~~~~~~~~~~~~~~~~~~~~~~~ ====================== ========================= Arguments Occurrence ====================== ========================= BASE_TAG Dockerfile ====================== ========================= Environment variables (child) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ =============================== =============================== ================================================ Variable Default Description =============================== =============================== ================================================ DEBUG false If true, enable debug logging VERBOSE true If true, enable info logging ZOOKEEPER_URI zookeeper:2181 The host and port for zookeeper KAFKA_URI kafka:9092 The host and port for kafka KAFKA_WAIT_FOR_TOPICS alarm-state-transitions,metrics Topics to wait on at startup KAFKA_WAIT_RETRIES 24 Number of kafka connect attempts KAFKA_WAIT_DELAY 5 Seconds to wait between attempts KAFKA_ALARM_HISTORY_BATCH_SIZE 1000 Kafka consumer takes messages in a batch KAFKA_ALARM_HISTORY_WAIT_TIME 15 Seconds to wait if the batch size is not reached KAFKA_METRICS_BATCH_SIZE 1000 Kafka consumer takes messages in a batch KAFKA_METRICS_WAIT_TIME 15 Seconds to wait if the batch size is not reached DATABASE_BACKEND influxdb Select for backend database INFLUX_HOST influxdb The host for influxdb INFLUX_PORT 8086 The port for influxdb INFLUX_USER mon_persister The influx username INFLUX_PASSWORD password The influx password INFLUX_DB mon The influx database name INFLUX_IGNORE_PARSE_POINT_ERROR false Don't exit on InfluxDB parse point errors CASSANDRA_HOSTS cassandra Cassandra node addresses CASSANDRA_PORT 8086 Cassandra port number CASSANDRA_USER mon_persister Cassandra user name CASSANDRA_PASSWORD password Cassandra password CASSANDRA_KEY_SPACE monasca Keyspace name where metrics are stored CASSANDRA_CONNECTION_TIMEOUT 5 Cassandra timeout in seconds CASSANDRA_RETENTION_POLICY 45 Data retention period in days STAY_ALIVE_ON_FAILURE false If true, container runs 2 hours even start fails =============================== =============================== ================================================ ",51,55
openstack%2Fosprofiler~master~I2510660c36aaa89117a97c67b4cb61fa3dade14d,openstack/osprofiler,master,I2510660c36aaa89117a97c67b4cb61fa3dade14d,change function list_traces of mongodb module,MERGED,2019-05-03 07:49:46.000000000,2019-05-06 09:53:39.000000000,2019-05-06 09:53:39.000000000,"[{'_account_id': 5950}, {'_account_id': 9008}, {'_account_id': 22348}, {'_account_id': 27336}]","[{'number': 1, 'created': '2019-05-03 07:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/93b4e54526018ecb6f270251078dca02b73eb7a6', 'message': 'change function list_traces of mongodb module\n\nosprofiler fails when it is configed with mongon.\nthe minist version of pymongo osprofile requires is 3.0.2\nand in this version and after when function list_traces is\nis invoked error will show described in the bug issue.\n\nChange-Id: I2510660c36aaa89117a97c67b4cb61fa3dade14d\nCloses-Bug: 1827480\n'}, {'number': 2, 'created': '2019-05-03 07:53:48.000000000', 'files': ['osprofiler/drivers/mongodb.py'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/5386d7c40cdaef39a08b69fcce96467a5396c6ee', 'message': 'change function list_traces of mongodb module\n\nosprofiler fails when it is configed with mongon.\nthe minimum version of pymongo osprofile requires is 3.0.2\nand in this version and after when function list_traces is\nis invoked error will show described in the bug issue.\n\nChange-Id: I2510660c36aaa89117a97c67b4cb61fa3dade14d\nCloses-Bug: 1827480\n'}]",0,656929,5386d7c40cdaef39a08b69fcce96467a5396c6ee,12,4,2,27336,,,0,"change function list_traces of mongodb module

osprofiler fails when it is configed with mongon.
the minimum version of pymongo osprofile requires is 3.0.2
and in this version and after when function list_traces is
is invoked error will show described in the bug issue.

Change-Id: I2510660c36aaa89117a97c67b4cb61fa3dade14d
Closes-Bug: 1827480
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/29/656929/1 && git format-patch -1 --stdout FETCH_HEAD,['osprofiler/drivers/mongodb.py'],1,93b4e54526018ecb6f270251078dca02b73eb7a6,bug/1827480," ids = self.db.profiler.find({}).distinct(""base_id"")"," ids = self.db.profiler.find(""*"").distinct(""base_id"")",1,1
openstack%2Fironic-tempest-plugin~master~Ie34f97faf15fd91a524d48de594a8cace2d64f47,openstack/ironic-tempest-plugin,master,Ie34f97faf15fd91a524d48de594a8cace2d64f47,[WIP|DNM] troubleshooting commands,ABANDONED,2019-04-30 12:41:37.000000000,2019-05-06 09:11:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-30 12:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/c57d9a86cc167c00481038249b46e4290a6a82af', 'message': '[WIP|DNM] show all mounts\n\n***This is a test***\n\nChange-Id: Ie34f97faf15fd91a524d48de594a8cace2d64f47\n'}, {'number': 2, 'created': '2019-05-02 15:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/5e4a7518aebb57cc60818246cb44ca837f22a79d', 'message': '[WIP|DNM] troubleshooting commands\n\n*** This is a test ***\n\nChange-Id: Ie34f97faf15fd91a524d48de594a8cace2d64f47\n'}, {'number': 3, 'created': '2019-05-03 09:27:17.000000000', 'files': ['ironic_tempest_plugin/tests/scenario/test_baremetal_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/007364526bdbd13335717f1e3781b5baa1a8f19e', 'message': '[WIP|DNM] troubleshooting commands\n\n*** This is a test ***\n\nChange-Id: Ie34f97faf15fd91a524d48de594a8cace2d64f47\n'}]",0,656506,007364526bdbd13335717f1e3781b5baa1a8f19e,7,1,3,23851,,,0,"[WIP|DNM] troubleshooting commands

*** This is a test ***

Change-Id: Ie34f97faf15fd91a524d48de594a8cace2d64f47
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/06/656506/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/tests/scenario/test_baremetal_basic_ops.py'],1,c57d9a86cc167c00481038249b46e4290a6a82af,test-show-mounts," # Show mounts cmd = 'mount' mounts = client.exec_command(cmd) LOG.debug(""MOUNTS"") LOG.debug(mounts) ",,6,0
openstack%2Fcookbook-openstack-common~master~Ibcb44125ea2752bbfc4e4b031e65c813958d4d3a,openstack/cookbook-openstack-common,master,Ibcb44125ea2752bbfc4e4b031e65c813958d4d3a,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:37:34.000000000,2019-05-06 09:11:42.000000000,2019-05-06 09:11:42.000000000,"[{'_account_id': 11915}, {'_account_id': 14790}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 11:37:34.000000000', 'files': ['recipes/python.rb', 'recipes/default.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/ea8cfb083b0bdee61f83d247e8c200d8472580cd', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ibcb44125ea2752bbfc4e4b031e65c813958d4d3a\n'}]",0,654992,ea8cfb083b0bdee61f83d247e8c200d8472580cd,9,4,1,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Ibcb44125ea2752bbfc4e4b031e65c813958d4d3a
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/92/654992/1 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/python.rb', 'recipes/default.rb']",2,ea8cfb083b0bdee61f83d247e8c200d8472580cd,, # Align with eg. OpenStack-Ansible (https://opendev.org/openstack/openstack-ansible/tree/global-requirement-pins.txt), # Align with eg. OpenStack-Ansible (https://git.openstack.org/cgit/openstack/openstack-ansible/tree/global-requirement-pins.txt),2,2
openstack%2Fcookbook-openstack-bare-metal~master~I7899c3e2f60b6bc3ec5266a270bee25eb377417a,openstack/cookbook-openstack-bare-metal,master,I7899c3e2f60b6bc3ec5266a270bee25eb377417a,Drop api auth version attribute,MERGED,2019-04-30 13:27:48.000000000,2019-05-06 09:05:35.000000000,2019-05-06 09:05:35.000000000,"[{'_account_id': 11915}, {'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-30 13:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/5084f827e16febfae8b263f57b874f7b63c93628', 'message': ""Drop api auth version attribute\n\nThis isn't needed anymore.\n\nChange-Id: I7899c3e2f60b6bc3ec5266a270bee25eb377417a\n""}, {'number': 2, 'created': '2019-05-02 09:47:43.000000000', 'files': ['attributes/default.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/08292ef64fd1f1e8842290edb7a1f23414ddfb80', 'message': ""Drop api auth version attribute\n\nThis attribute isn't used anywhere and we are dropping the global\nattribute that is being referenced here in [0].\n\n[0] https://review.opendev.org/652997\n\nChange-Id: I7899c3e2f60b6bc3ec5266a270bee25eb377417a\n""}]",0,656514,08292ef64fd1f1e8842290edb7a1f23414ddfb80,11,4,2,13252,,,0,"Drop api auth version attribute

This attribute isn't used anywhere and we are dropping the global
attribute that is being referenced here in [0].

[0] https://review.opendev.org/652997

Change-Id: I7899c3e2f60b6bc3ec5266a270bee25eb377417a
",git fetch https://review.opendev.org/openstack/cookbook-openstack-bare-metal refs/changes/14/656514/1 && git format-patch -1 --stdout FETCH_HEAD,['attributes/default.rb'],1,5084f827e16febfae8b263f57b874f7b63c93628,drop-api-auth-version,,default['openstack']['bare_metal']['api']['auth']['version'] = node['openstack']['api']['auth']['version'] ,0,2
openstack%2Fironic~master~I7b56fcd0be1cd48a6b72a0c156d37b3f279a8da9,openstack/ironic,master,I7b56fcd0be1cd48a6b72a0c156d37b3f279a8da9,Disable metadata_csum when creating ext4 filesystems,MERGED,2018-12-13 15:31:56.000000000,2019-05-06 08:57:47.000000000,2018-12-15 00:21:48.000000000,"[{'_account_id': 1926}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 28429}]","[{'number': 1, 'created': '2018-12-13 15:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/501663ae427a072f45d6b31ce1d4c59f9a9a1fb2', 'message': '[WIP] CI tests\n\nChange-Id: I7b56fcd0be1cd48a6b72a0c156d37b3f279a8da9\n'}, {'number': 2, 'created': '2018-12-13 15:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2a501d7d4f70bbf70deb3e1d14a5d58d504935e8', 'message': '[WIP] CI tests\n\nChange-Id: I7b56fcd0be1cd48a6b72a0c156d37b3f279a8da9\n'}, {'number': 3, 'created': '2018-12-14 11:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/473d9189aab42ca1ba920a492abbae597f352cfa', 'message': ""Disable metadata_csum when creating ext4 filesystems\n\nCirros can't mount a ephemeral partition if its enabled.\n\nChange-Id: I7b56fcd0be1cd48a6b72a0c156d37b3f279a8da9\nStory: #2004604\nTask: #28499\n""}, {'number': 4, 'created': '2018-12-14 13:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7c32c08cbe48b0e0e1cc57dff1f5e3d38564c772', 'message': ""Disable metadata_csum when creating ext4 filesystems\n\nCirros can't mount a ephemeral partition if its enabled.\n\nChange-Id: I7b56fcd0be1cd48a6b72a0c156d37b3f279a8da9\nStory: #2004604\nTask: #28499\n""}, {'number': 5, 'created': '2018-12-14 14:35:47.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/71f0256b1d951229c22aea2784c0f0711f045e54', 'message': ""Disable metadata_csum when creating ext4 filesystems\n\nCirros can't mount a ephemeral partition if its enabled.\n\nChange-Id: I7b56fcd0be1cd48a6b72a0c156d37b3f279a8da9\nStory: #2004604\nTask: #28499\n""}]",0,625026,71f0256b1d951229c22aea2784c0f0711f045e54,34,9,5,1926,,,0,"Disable metadata_csum when creating ext4 filesystems

Cirros can't mount a ephemeral partition if its enabled.

Change-Id: I7b56fcd0be1cd48a6b72a0c156d37b3f279a8da9
Story: #2004604
Task: #28499
",git fetch https://review.opendev.org/openstack/ironic refs/changes/26/625026/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic']",2,501663ae427a072f45d6b31ce1d4c59f9a9a1fb2,," # Testing Disable 64bit ext4 [ -f /etc/mke2fs.conf ] && sudo sed -i -e 's/,64bit//g' /etc/mke2fs.conf",,3,4
openstack%2Fironic-specs~master~Ic4c185ada78796a6df8c8bd4ae41281e628465e3,openstack/ironic-specs,master,Ic4c185ada78796a6df8c8bd4ae41281e628465e3,Add support for Intel Speed Select in Ironic,MERGED,2019-04-10 08:37:23.000000000,2019-05-06 08:44:50.000000000,2019-05-03 18:25:11.000000000,"[{'_account_id': 6618}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 26340}, {'_account_id': 29745}, {'_account_id': 29792}]","[{'number': 1, 'created': '2019-04-10 08:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/ec0f19b3ad10790fd0a87e91eed46a6da9ac5906', 'message': 'Add support for Intel Speed Select in Ironic\n\nChange-Id: Ic4c185ada78796a6df8c8bd4ae41281e628465e3\nStory: #2005390\n'}, {'number': 2, 'created': '2019-04-10 08:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/aece6350950852f548b5c6c05edb21633b6475ec', 'message': 'Add support for Intel Speed Select in Ironic\n\nChange-Id: Ic4c185ada78796a6df8c8bd4ae41281e628465e3\nStory: #2005390\n'}, {'number': 3, 'created': '2019-04-15 16:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/b123a37fcb0352302adb53c51077411fe8aae754', 'message': 'Add support for Intel Speed Select in Ironic\n\nChange-Id: Ic4c185ada78796a6df8c8bd4ae41281e628465e3\nStory: #2005390\nTask: #29803\n'}, {'number': 4, 'created': '2019-04-26 08:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e8b75e863a7c839c64e4ff0251fbbb95eb2a5a99', 'message': 'Add support for Intel Speed Select in Ironic\n\nChange-Id: Ic4c185ada78796a6df8c8bd4ae41281e628465e3\nStory: #2005390\nTask: #29803\n'}, {'number': 5, 'created': '2019-04-30 09:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/1c599a1f6fd993509351ff218a586abbd0cb12e8', 'message': 'Add support for Intel Speed Select in Ironic\n\nChange-Id: Ic4c185ada78796a6df8c8bd4ae41281e628465e3\nStory: #2005390\nTask: #29803\n'}, {'number': 6, 'created': '2019-05-02 08:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/fe7e5e4afcc592bae327a727d0f4a241e9303e31', 'message': 'Add support for Intel Speed Select in Ironic\n\nChange-Id: Ic4c185ada78796a6df8c8bd4ae41281e628465e3\nStory: #2005390\nTask: #29803\n'}, {'number': 7, 'created': '2019-05-03 08:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/d6630dc37c37fa15f138e9196478db50cba15f8a', 'message': 'Add support for Intel Speed Select in Ironic\n\nChange-Id: Ic4c185ada78796a6df8c8bd4ae41281e628465e3\nStory: #2005390\nTask: #29803\n'}, {'number': 8, 'created': '2019-05-03 09:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f68a2893f339c37901976b0c4415f427ab98f06f', 'message': 'xAdd support for Intel Speed Select in Ironic\n\nChange-Id: Ic4c185ada78796a6df8c8bd4ae41281e628465e3\nStory: #2005390\nTask: #29803\n'}, {'number': 9, 'created': '2019-05-03 09:51:04.000000000', 'files': ['specs/not-implemented/support-intel-speed-select.rst', 'specs/approved/support-intel-speed-select.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/c8214b7486266d4bb9a398321dfca06ff9026c4e', 'message': 'Add support for Intel Speed Select in Ironic\n\nChange-Id: Ic4c185ada78796a6df8c8bd4ae41281e628465e3\nStory: #2005390\nTask: #29803\n'}]",121,651459,c8214b7486266d4bb9a398321dfca06ff9026c4e,43,12,9,10206,,,0,"Add support for Intel Speed Select in Ironic

Change-Id: Ic4c185ada78796a6df8c8bd4ae41281e628465e3
Story: #2005390
Task: #29803
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/59/651459/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/not-implemented/support-intel-speed-select.rst', 'specs/approved/support-intel-speed-select.rst']",2,ec0f19b3ad10790fd0a87e91eed46a6da9ac5906,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================== Add Intel Speed Select Support =============================== Multiple type of servers are needed to handle diverse workloads. Purchasing and managing these servers introduces complexity and increases total cost of ownership(TCO). Intel Speed Select Technology(SST) is a collection of features that improves performance and optimize TCO by providing more control over CPU performance. With Intel SST, one server can do more. One of the feature is Intel Speed Select Technology-Performance Profile (SST-PP) allows configuring the CPU to run at 3 distinct operating points or profiles. It's supported on Intel processors[1]. With Intel SST-PP, one can set the desired core count and their base and turbo frequency. It allows to set the number of cores and their frequencies which can help to tune the server to specific workload performance. Problem description =================== This spec proposes to support Intel SST-PP feature in Ironic. This feature allows Ironic users to run higher performance baremetal instances with less TCO in their cloud. Proposed Change =============== Intel SST-PP Speed Select supports three configuration levels: * 0 - Intel SST-PP Base Config * 1 - Intel SST-PP Config 1 * 2 - Intel SST-PP Config 2 Below table shows the list of actives cores and their base frequency at different SST-PP config levels:: --------------------------------------------- | Config | Cores | Base Freq (GHz) | --------------------------------------------- | Base | 24 | 2.4 | | Config 1 | 20 | 2.5 | | Config 2 | 16 | 2.7 | --------------------------------------------- Intel SST-PP can be set over IPMI and Redfish. We will map these configurations to traits that Ironic understands. * 0 - ``CUSTOM_INTEL_SPEED_SELECT_CONFIG_BASE`` * 1 - ``CUSTOM_INTEL_SPEED_SELECT_CONFIG_1`` * 2 - ``CUSTOM_INTEL_SPEED_SELECT_CONFIG_2`` The solution works at two stages: Scheduling ---------- The solution to support Intel SST-PP is first enable scheduling the request for baremetal instance deployment on the nodes that supports it. We set the desired configuration as the trait in our flavor. $ openstack flavor set --property trait:CUSTOM_INTEL_SPEED_SELECT_CONFIG_2=required baremetal Now, we also need to update the Ironic node's trait with the supported configuration levels. $ openstack --os-baremetal-api-version 1.37 baremetal node add trait node-0 CUSTOM_INTEL_SPEED_SELECT_CONFIG_BASE CUSTOM_INTEL_SPEED_SELECT_CONFIG_1 CUSTOM_INTEL_SPEED_SELECT_CONFIG_2 .. NOTE: After ``ironic-inspector`` supports the discovery of Intel SST-PP, the manual step of updating the node's trait can be removed. Now, when user sends a request to boot a node with the ``baremetal`` flavor. Placement API service will select the Ironic node that supports Intel SST-PP. Provisioning ------------ The Intel SST-PP needs to be set via IPMI/Redfish before powering on the node in the process of provisioning. Ironic API service receives the desired configuration in ``node.instance_info.traits`` in the boot request. Ironic will then configure the Intel SST-PP configuration if any of the traits is found in the ``Node`` object and then power on the node. Ironic will need below details to configure Intel SST-PP on the node: * Intel SST-PP configuration level: This information is set by admins in the flavor's trait they want to boot the baremetal node with. Nova in turn updates the Ironic's node information with the trait. Ironic stores the trait details in ``node.instance_info.traits``. Ironic will store a mapping of the configuration level in trait and the raw code for IPMI in a new conf parameter ``[deploy]/intel_speedselect_config``. The value will look like this: .. code-block:: python cfg.DictOpt('intel_speedselect_config', default={""CUSTOM_INTEL_SPEED_SELECT_CONFIG_BASE"": ""0x00"", ""CUSTOM_INTEL_SPEED_SELECT_CONFIG_1"": ""0x01"", ""CUSTOM_INTEL_SPEED_SELECT_CONFIG_2"": ""0x02""}, help=_('Default Intel SST-PP config and hexa value mapping.')) We also store this mapping in Node's ``extra`` field. Priority of the value stored with node will be higher than the default config value. * No. of socket: Setting Intel SST-PP needs to be done for every socket. The users will have to store the no. of sockets in ``node.properties.socket_count``. Alternatives ------------ Continue to not support Intel SST-PP or users can manually configure it independent of Ironic. Data model impact ----------------- None State Machine Impact -------------------- None REST API impact --------------- None Client (CLI) impact ------------------- ""ironic"" CLI ~~~~~~~~~~~~ None ""openstack baremetal"" CLI ~~~~~~~~~~~~~~~~~~~~~~~~~ None RPC API impact -------------- None Driver API impact ----------------- * Add a new deploy step ``do_configure_intel_speedselect`` to configure Intel SST-PP on the nodes. This step will be added to class ``AgentDeploy``. .. code-block:: python @base.deploy_step(priority=200) def do_configure_intel_speedselect(self, task): traits= task.node.instance_info.get('traits', []) iss_trait = manager_utils.get_intel_speedselect_trait(traits) if iss_trait: task.driver.management.set_intel_speedselect(task, iss_trait) return None * The code to set Intel SST-PP will be implemented in the ``ipmitool`` driver. The support for configuring Intel SST-PP will be added in the management interface of ``ipmitool`` driver. Basically we send the raw hexa code corresponding the requested config to the node and do a power recycle to reflect the changes. Nova driver impact ------------------ None Ramdisk impact -------------- None Security impact --------------- None Other end user impact --------------------- Users will have to update the traits with required Intel SST-PP configuration level in flavor. Scalability impact ------------------ None Performance Impact ------------------ None Other deployer impact --------------------- Deployers wishing to use feature will have to update the ``socket_count`` in Node properties and also add the Intel SST-PP configuration in Node traits. .. NOTE: This will be automated with the support of ironic-inspector. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: mkrai Work Items ---------- * Implement Intel SST-PP support code in Ironic. * Write the test code. * Write a document explaining how to use Intel SST-PP. Dependencies ============ None Testing ======= * Unit tests * Add support for testing Intel SST-PP in virtual BMC for gate test. Upgrades and Backwards Compatibility ==================================== None Documentation Impact ==================== New document will be added to explain the support of new Intel SST-PP feature in Ironic and how to use it. References ========== [1] https://www.intel.com/content/www/us/en/products/docs/processors/xeon/2nd-gen-xeon-scalable-processors-brief.html?wapkw=speed+select ",,271,0
openstack%2Fpython-vitrageclient~master~I08e0fe10af872af6f9d34c63bb0797a9224057d0,openstack/python-vitrageclient,master,I08e0fe10af872af6f9d34c63bb0797a9224057d0,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:45:11.000000000,2019-05-06 07:38:59.000000000,2019-05-06 07:38:59.000000000,"[{'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 27781}, {'_account_id': 28543}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-23 05:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/74265823034bc125a60ae7b83665b91bf1083f95', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I08e0fe10af872af6f9d34c63bb0797a9224057d0\n'}, {'number': 2, 'created': '2019-04-30 05:21:54.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/c8ce0bcf2e82fc6db2c8e058acf391cb6d5335c9', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I08e0fe10af872af6f9d34c63bb0797a9224057d0\n'}]",2,654778,c8ce0bcf2e82fc6db2c8e058acf391cb6d5335c9,13,7,2,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I08e0fe10af872af6f9d34c63bb0797a9224057d0
",git fetch https://review.opendev.org/openstack/python-vitrageclient refs/changes/78/654778/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,74265823034bc125a60ae7b83665b91bf1083f95,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},3,3
openstack%2Fproject-config~master~I91e09035ff829392306fd970aad439fdb18ae1a8,openstack/project-config,master,I91e09035ff829392306fd970aad439fdb18ae1a8,Retire cloud-init,MERGED,2019-04-01 15:51:03.000000000,2019-05-06 07:26:16.000000000,2019-05-06 07:26:16.000000000,"[{'_account_id': 1004}, {'_account_id': 1297}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-01 15:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/96bb38a4f8bc2573261bcbe466a7d307b738b351', 'message': 'Retire cloud-init\n\nThis was never an official project so no patches against governance are\nrequired.\n\nChange-Id: I91e09035ff829392306fd970aad439fdb18ae1a8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.openstack.org/649081\n'}, {'number': 2, 'created': '2019-04-02 13:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/960a9272073795630816d03eb5230177c8c96069', 'message': 'Retire cloud-init\n\nThis was never an official project so no patches against governance are\nrequired.\n\nChange-Id: I91e09035ff829392306fd970aad439fdb18ae1a8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.openstack.org/649081\n'}, {'number': 3, 'created': '2019-04-30 20:58:58.000000000', 'files': ['gerrit/acls/x/cloud-init.config', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b6886279d2b8e4899b99b6b47eff9d5d0bef7736', 'message': 'Retire cloud-init\n\nThis was never an official project so no patches against governance are\nrequired.\n\nChange-Id: I91e09035ff829392306fd970aad439fdb18ae1a8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.openstack.org/649081\n'}]",1,649082,b6886279d2b8e4899b99b6b47eff9d5d0bef7736,20,8,3,15334,,,0,"Retire cloud-init

This was never an official project so no patches against governance are
required.

Change-Id: I91e09035ff829392306fd970aad439fdb18ae1a8
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Depends-On: https://review.openstack.org/649081
",git fetch https://review.opendev.org/openstack/project-config refs/changes/82/649082/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/cloud-init.config', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",4,96bb38a4f8bc2573261bcbe466a7d307b738b351,retire-cloud-init,, - openstack/cloud-init,1,22
openstack%2Fproject-config~master~I0a5ecc715142756a9ec37fca559fad691651430c,openstack/project-config,master,I0a5ecc715142756a9ec37fca559fad691651430c,add version map for python3.6 to 3.7,MERGED,2019-05-03 20:52:05.000000000,2019-05-06 07:26:15.000000000,2019-05-06 07:26:14.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 20:52:05.000000000', 'files': ['playbooks/proposal/propose_update.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/24254e5db1eb07ac126b6c7aa4c3c46084d83df8', 'message': 'add version map for python3.6 to 3.7\n\nThis prevents installing unconstrainted versions of libraries for\npython3.7.  When it was unmapped there was no constraint for it for\ncertian libraries (some libraries had diferent versions for each version\nof python).\n\nChange-Id: I0a5ecc715142756a9ec37fca559fad691651430c\n'}]",0,657044,24254e5db1eb07ac126b6c7aa4c3c46084d83df8,8,3,1,14288,,,0,"add version map for python3.6 to 3.7

This prevents installing unconstrainted versions of libraries for
python3.7.  When it was unmapped there was no constraint for it for
certian libraries (some libraries had diferent versions for each version
of python).

Change-Id: I0a5ecc715142756a9ec37fca559fad691651430c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/44/657044/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/proposal/propose_update.sh'],1,24254e5db1eb07ac126b6c7aa4c3c46084d83df8,reqs-py37-version-mapping, --version-map 3.6:3.4 --version-map 3.6:3.5 --version-map 3.6:3.7 \, --version-map 3.6:3.4 --version-map 3.6:3.5 \,1,1
openstack%2Fwatcher-specs~master~If2f80f65bb37656d0604b6565bbdd33be2c80cc0,openstack/watcher-specs,master,If2f80f65bb37656d0604b6565bbdd33be2c80cc0,update git.openstack.org to opendev,MERGED,2019-04-29 05:58:35.000000000,2019-05-06 06:54:10.000000000,2019-05-06 06:54:10.000000000,"[{'_account_id': 13111}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}, {'_account_id': 30298}]","[{'number': 1, 'created': '2019-04-29 05:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/91fffb29cbf2d5ce2632307ad3380effbb43098d', 'message': 'update git.openstack.org to opendev\n\nChange-Id: If2f80f65bb37656d0604b6565bbdd33be2c80cc0\n'}, {'number': 2, 'created': '2019-04-29 13:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/b7a7f0e82a181256564e2223f11c51eb20d901d6', 'message': 'update git.openstack.org to opendev\n\nChange-Id: If2f80f65bb37656d0604b6565bbdd33be2c80cc0\n'}, {'number': 3, 'created': '2019-04-29 14:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/3cc48c0e40624547816c1d395746608c87ddb79f', 'message': 'update git.openstack.org to opendev\n\nFix line length in recently passed to spec to build with the url changes\n\nChange-Id: If2f80f65bb37656d0604b6565bbdd33be2c80cc0\n'}, {'number': 4, 'created': '2019-04-30 01:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/9fc9e509b0042b6f09e30c2db0a12ca58b0b1123', 'message': 'update git.openstack.org to opendev\n\nFix line length in recently passed to spec to build with the url changes\n\nCo-Authored-By: chenker <chen.ke14@zte.com.cn>\n\nChange-Id: If2f80f65bb37656d0604b6565bbdd33be2c80cc0\n'}, {'number': 5, 'created': '2019-05-01 11:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/db38731688d14a9096ff76906881a1196984c387', 'message': 'update git.openstack.org to opendev\n\nFix line length in recently passed to spec to build with the url changes\n\nCo-Authored-By: chenker <chen.ke14@zte.com.cn>\nCo-Authored-By: Dantali0n <info@dantalion.nl>\n\nChange-Id: If2f80f65bb37656d0604b6565bbdd33be2c80cc0\n'}, {'number': 6, 'created': '2019-05-05 02:06:29.000000000', 'files': ['specs/backlog-template.rst', 'specs/queens-template.rst', 'specs/pike-template.rst', 'specs/stein-template.rst', 'specs/train/approved/global-datasource-preference.rst', 'specs/mitaka-template.rst', 'specs/rocky-template.rst', 'specs/ocata-template.rst', 'specs/mitaka/implemented/watcher-add-actions-via-conf.rst', 'tox.ini', 'specs/train-template.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/776f221fb8b50545695e96e449ade957ada81f67', 'message': 'update git.openstack.org to opendev\n\nFix line length in recently passed to spec to build with the url changes\n\nCo-Authored-By: chenker <chen.ke14@zte.com.cn>\nCo-Authored-By: Dantali0n <info@dantalion.nl>\n\nDepends-on: I98d4c3e9924346b826e5267b0b7c6b73f86741aa\nChange-Id: If2f80f65bb37656d0604b6565bbdd33be2c80cc0\n'}]",0,656246,776f221fb8b50545695e96e449ade957ada81f67,31,6,6,30298,,,0,"update git.openstack.org to opendev

Fix line length in recently passed to spec to build with the url changes

Co-Authored-By: chenker <chen.ke14@zte.com.cn>
Co-Authored-By: Dantali0n <info@dantalion.nl>

Depends-on: I98d4c3e9924346b826e5267b0b7c6b73f86741aa
Change-Id: If2f80f65bb37656d0604b6565bbdd33be2c80cc0
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/46/656246/6 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,91fffb29cbf2d5ce2632307ad3380effbb43098d,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/brance/master/upper-constraints.txt} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fwatcher-specs~master~I98d4c3e9924346b826e5267b0b7c6b73f86741aa,openstack/watcher-specs,master,I98d4c3e9924346b826e5267b0b7c6b73f86741aa,Make spec's line limited to a maximum of 79 characters,MERGED,2019-05-05 01:53:31.000000000,2019-05-06 06:54:09.000000000,2019-05-06 06:54:09.000000000,"[{'_account_id': 13111}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-05-05 01:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/08c483945a5f8b2f5456587592753497b166f5e2', 'message': ""Make spec's line limited to a maximum of 79 characters\n\nChange-Id: I98d4c3e9924346b826e5267b0b7c6b73f86741aa\n""}, {'number': 2, 'created': '2019-05-05 03:24:02.000000000', 'files': ['specs/train/approved/formal-datasource-interface.rst', 'specs/train/approved/global-datasource-preference.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/24e7a5f7d2deeae78a59417d4715859369f5bf5e', 'message': ""Make spec's line limited to a maximum of 79 characters\n\nChange-Id: I98d4c3e9924346b826e5267b0b7c6b73f86741aa\n""}]",0,657184,24e7a5f7d2deeae78a59417d4715859369f5bf5e,8,4,2,28748,,,0,"Make spec's line limited to a maximum of 79 characters

Change-Id: I98d4c3e9924346b826e5267b0b7c6b73f86741aa
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/84/657184/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/formal-datasource-interface.rst'],1,08c483945a5f8b2f5456587592753497b166f5e2,,"The definitions off most methods in ``DataSourceBase`` will now look as detailed below. def statistic_aggregation(self, resource=None, resource_type, meter_name=None, period=300, granularity=300, aggregate='mean')","The definitions off most methods in ``DataSourceBase`` will now look as detailed below. def statistic_aggregation(self, resource=None, resource_type, meter_name=None, period=300, granularity=300, aggregate='mean')",5,4
openstack%2Fproject-config~master~Ifcb05fc5c666e85f3c483f8d542dd1485cd05a11,openstack/project-config,master,Ifcb05fc5c666e85f3c483f8d542dd1485cd05a11,Add openstack/tenks Ansible dependencies,MERGED,2018-11-16 11:03:50.000000000,2019-05-06 06:39:15.000000000,2019-05-06 06:39:15.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2018-11-16 11:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ad05c2a1e879923e3090e1cfb0e535ec0c673e0e', 'message': ""Add openstack/tenks Ansible dependencies\n\nIt would be useful to if would depend on pull requests for these\nprojects so that we can ensure they don't break tenks.\n\nChange-Id: Ifcb05fc5c666e85f3c483f8d542dd1485cd05a11\n""}, {'number': 2, 'created': '2018-11-19 17:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8a93a512149564bad8c90ba498c19c630b084614', 'message': ""Add openstack/tenks Ansible dependencies\n\nIt would be useful to if could depend on pull requests for these\nprojects so that we can ensure they don't break tenks.\n\nChange-Id: Ifcb05fc5c666e85f3c483f8d542dd1485cd05a11\n""}, {'number': 3, 'created': '2019-04-30 16:45:03.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5b6211a819b9c567a90da504b6297a5f7dadfe73', 'message': ""Add openstack/tenks Ansible dependencies\n\nIt would be useful if we could depend on pull requests for these\nprojects so that we can ensure they don't break tenks.\n\nChange-Id: Ifcb05fc5c666e85f3c483f8d542dd1485cd05a11\n""}]",2,618511,5b6211a819b9c567a90da504b6297a5f7dadfe73,20,6,3,28048,,,0,"Add openstack/tenks Ansible dependencies

It would be useful if we could depend on pull requests for these
projects so that we can ensure they don't break tenks.

Change-Id: Ifcb05fc5c666e85f3c483f8d542dd1485cd05a11
",git fetch https://review.opendev.org/openstack/project-config refs/changes/11/618511/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,ad05c2a1e879923e3090e1cfb0e535ec0c673e0e,rebase-zuul, - stackhpc/ansible-role-libvirt-host - stackhpc/ansible-role-libvirt-vm,,2,0
openstack%2Fproject-config~master~I2fff76fcfb26deba1293dbc50b225a3236d84591,openstack/project-config,master,I2fff76fcfb26deba1293dbc50b225a3236d84591,Remove unnecessary pyeclib configuration from zuul.d,MERGED,2019-05-04 18:33:32.000000000,2019-05-06 06:37:19.000000000,2019-05-06 06:37:19.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-04 18:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/93972cd3156f27344d539e6ce3ff01659cdbf7b2', 'message': 'Remove pyeclib configuration from zuul.d\n\nThis has been in-tree since https://review.opendev.org/#/c/636698/\n\nChange-Id: I2fff76fcfb26deba1293dbc50b225a3236d84591\n'}, {'number': 2, 'created': '2019-05-04 19:05:43.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1cc4b80677526c1c45896b78a6af383a02f52b0a', 'message': 'Remove unnecessary pyeclib configuration from zuul.d\n\nThis has been in-tree since https://review.opendev.org/#/c/636698/\n\nChange-Id: I2fff76fcfb26deba1293dbc50b225a3236d84591\n'}]",2,657147,1cc4b80677526c1c45896b78a6af383a02f52b0a,11,4,2,15343,,,0,"Remove unnecessary pyeclib configuration from zuul.d

This has been in-tree since https://review.opendev.org/#/c/636698/

Change-Id: I2fff76fcfb26deba1293dbc50b225a3236d84591
",git fetch https://review.opendev.org/openstack/project-config refs/changes/47/657147/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,93972cd3156f27344d539e6ce3ff01659cdbf7b2,pyeclib-cleanup,, name: x/pyeclib templates: - openstack-python-jobs - publish-to-pypi experimental: jobs: - openstack-tox-py35 - project:,0,9
openstack%2Fproject-config~master~I006500a2c98f512176fbac4ab426a8719243fc70,openstack/project-config,master,I006500a2c98f512176fbac4ab426a8719243fc70,wheel-build: Work around pip 19.0 errors,MERGED,2019-05-06 05:45:30.000000000,2019-05-06 06:36:46.000000000,2019-05-06 06:36:46.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 05:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/61366a7ecc65e5b11914e40c8bfa3814d8452864', 'message': ""Work around pip errors\n\nAs pointed out by ajaeger; the wheel build jobs are failing with\n\n Error installing 'pip from\n git+https://github.com/ianw/pip.git@path-and-hash#egg=pip': editable\n mode is not supported for pyproject.toml-style projects.\n\nThis appears to be an issue with pip 19.0 which would be installed on\nthe build hosts, interacting with projects that have a pyproject.toml\nfile.\n\nThe problem only seems to be related to installing in editable mode,\nwhich we don't really need here on this ephemeral host.  So just\nswitch to a regular install, with upgrade/reinstall to be sure.\n\n[1] https://github.com/pypa/pip/pull/6449\n\nChange-Id: I006500a2c98f512176fbac4ab426a8719243fc70\n""}, {'number': 2, 'created': '2019-05-06 05:46:12.000000000', 'files': ['roles/build-wheels/files/wheel-build.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cd3894ea51be03f3b236aa8d2ea2f27b6ff5c57b', 'message': ""wheel-build: Work around pip 19.0 errors\n\nAs pointed out by ajaeger; the wheel build jobs are failing with\n\n Error installing 'pip from\n git+https://github.com/ianw/pip.git@path-and-hash#egg=pip': editable\n mode is not supported for pyproject.toml-style projects.\n\nThis appears to be an issue with pip 19.0 which would be installed on\nthe build hosts, interacting with projects that have a pyproject.toml\nfile.\n\nThe problem only seems to be related to installing in editable mode,\nwhich we don't really need here on this ephemeral host.  So just\nswitch to a regular install, with upgrade/reinstall to be sure.\n\n[1] https://github.com/pypa/pip/pull/6449\n\nChange-Id: I006500a2c98f512176fbac4ab426a8719243fc70\n""}]",0,657316,cd3894ea51be03f3b236aa8d2ea2f27b6ff5c57b,9,3,2,7118,,,0,"wheel-build: Work around pip 19.0 errors

As pointed out by ajaeger; the wheel build jobs are failing with

 Error installing 'pip from
 git+https://github.com/ianw/pip.git@path-and-hash#egg=pip': editable
 mode is not supported for pyproject.toml-style projects.

This appears to be an issue with pip 19.0 which would be installed on
the build hosts, interacting with projects that have a pyproject.toml
file.

The problem only seems to be related to installing in editable mode,
which we don't really need here on this ephemeral host.  So just
switch to a regular install, with upgrade/reinstall to be sure.

[1] https://github.com/pypa/pip/pull/6449

Change-Id: I006500a2c98f512176fbac4ab426a8719243fc70
",git fetch https://review.opendev.org/openstack/project-config refs/changes/16/657316/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-wheels/files/wheel-build.sh'],1,61366a7ecc65e5b11914e40c8bfa3814d8452864,pip-no-editable, build_env/bin/pip install --upgrade --force-reinstall \ 'git+https://github.com/ianw/pip.git@path-and-hash#egg=pip', build_env/bin/pip install -e 'git+https://github.com/ianw/pip.git@path-and-hash#egg=pip',2,1
openstack%2Ftripleo-quickstart-extras~master~Iea28bfa830ee51721cfb590e2099fcdbe0b5be88,openstack/tripleo-quickstart-extras,master,Iea28bfa830ee51721cfb590e2099fcdbe0b5be88,Skip building new collect-logs role during pkg build,MERGED,2019-04-16 06:18:34.000000000,2019-05-06 06:14:08.000000000,2019-04-25 20:22:13.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 8944}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-04-16 06:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/357c33b26a0d394e77efa8f3809d94653004e861', 'message': 'Skip building new collect-logs role during pkg build\n\nSince collect-logs role is moved to a new repo from tqe. It\nshould not be built during package build process.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/998\n\nChange-Id: Iea28bfa830ee51721cfb590e2099fcdbe0b5be88\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-04-23 09:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/391c192b71ce70b83cc2342b6be58d294f7a2819', 'message': 'Skip building new collect-logs role during pkg build\n\nSince collect-logs role is moved to a new repo from tqe. It\nshould not be built during package build process.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/998\n\nChange-Id: Iea28bfa830ee51721cfb590e2099fcdbe0b5be88\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-04-24 16:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e50e8d69da6d5af82de01f4fe3b5de7409389008', 'message': 'Skip building new collect-logs role during pkg build\n\nSince collect-logs role is moved to a new repo from tqe. It\nshould not be built during package build process.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/998\n\nChange-Id: Iea28bfa830ee51721cfb590e2099fcdbe0b5be88\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2019-04-25 12:03:23.000000000', 'files': ['roles/build-test-packages/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ce900e556457d7eca32a4e1b901ba4a36da6a66b', 'message': 'Skip building new collect-logs role during pkg build\n\nSince collect-logs role is moved to a new repo from tqe. It\nshould not be built during package build process.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/998\n\nChange-Id: Iea28bfa830ee51721cfb590e2099fcdbe0b5be88\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}]",1,652919,ce900e556457d7eca32a4e1b901ba4a36da6a66b,27,11,4,12393,,,0,"Skip building new collect-logs role during pkg build

Since collect-logs role is moved to a new repo from tqe. It
should not be built during package build process.

https://tree.taiga.io/project/tripleo-ci-board/task/998

Change-Id: Iea28bfa830ee51721cfb590e2099fcdbe0b5be88
Signed-off-by: Chandan Kumar <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/19/652919/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/defaults/main.yml'],1,357c33b26a0d394e77efa8f3809d94653004e861,collect_logs, - openstack/ansible-role-collect-logs,,1,0
openstack%2Ftripleo-quickstart-extras~master~I3fca6c23ee417b476f86abeee957088900a831d3,openstack/tripleo-quickstart-extras,master,I3fca6c23ee417b476f86abeee957088900a831d3,Add option to modify ceph parameters in standalone,MERGED,2019-04-02 22:22:16.000000000,2019-05-06 06:14:08.000000000,2019-04-16 02:22:53.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 18002}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-02 22:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ead05a2784956d23066b7fd17aa51c9dd061bbb1', 'message': 'DNM - Testing standalone - non-centos\n\nChange-Id: I3fca6c23ee417b476f86abeee957088900a831d3\n'}, {'number': 2, 'created': '2019-04-08 16:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fccf9101e6321583e43e57d9be305d8461982457', 'message': 'DNM - Testing standalone - non-centos\n\nChange-Id: I3fca6c23ee417b476f86abeee957088900a831d3\n'}, {'number': 3, 'created': '2019-04-08 21:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e2fc5d529bae34ab67aec78a3a30180f5855e88b', 'message': 'Add option to modify ceph parameters in standalone\n\nRunning standlone with a custom registry requires\nsetting non-standard parameters for ceph.\nThis review adds the option to modify the ceph\nparameters.\n\nThe option will default to false and the step\nwill be skipped in a standard deployment.\n\nChange-Id: I3fca6c23ee417b476f86abeee957088900a831d3\n'}, {'number': 4, 'created': '2019-04-15 18:57:13.000000000', 'files': ['roles/standalone/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/22243ef86d5968095a1728ab8b9fdd65eeab9518', 'message': 'Add option to modify ceph parameters in standalone\n\nRunning standlone with a custom registry requires\nsetting non-standard parameters for ceph.\nThis review adds the option to modify the ceph\nparameters.\n\nThe option will default to false and the step\nwill be skipped in a standard deployment.\n\nChange-Id: I3fca6c23ee417b476f86abeee957088900a831d3\n'}]",5,649462,22243ef86d5968095a1728ab8b9fdd65eeab9518,29,8,4,9976,,,0,"Add option to modify ceph parameters in standalone

Running standlone with a custom registry requires
setting non-standard parameters for ceph.
This review adds the option to modify the ceph
parameters.

The option will default to false and the step
will be skipped in a standard deployment.

Change-Id: I3fca6c23ee417b476f86abeee957088900a831d3
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/62/649462/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone/templates/standalone-container-prep.sh.j2', 'roles/standalone/tasks/main.yml']",2,ead05a2784956d23066b7fd17aa51c9dd061bbb1,standalone-options,"# ceph parameters - name: update container ceph parameters when: - standalone_container_ceph_updates|default(false)|bool vars: yaml_file: ""{{ working_dir }}/containers-prepare-parameters.yaml"" container_image_prep_updates: set: ceph_namespace: ""{{ docker_ceph_namespace }}"" ceph_image: ""{{ docker_ceph_image }}"" ceph_tag: ""{{ docker_ceph_tag }}"" initial_dict: | {{ lookup('file', yaml_file) | from_yaml }} merged_dict: parameter_defaults: ContainerImagePrepare: - | {{ initial_dict.parameter_defaults.ContainerImagePrepare | combine(container_image_prep_updates, recursive=true) }} copy: content: ""{{ merged_dict | to_nice_yaml }}"" dest: ""{{ yaml_file }}"" backup: true ",,25,1
openstack%2Ftripleo-quickstart-extras~master~I709c04cdffbc03e4d264a4ff116a8743e402473d,openstack/tripleo-quickstart-extras,master,I709c04cdffbc03e4d264a4ff116a8743e402473d,Introduce tempest_services var for installing tempest_plugins,ABANDONED,2019-03-29 13:00:10.000000000,2019-05-06 06:14:08.000000000,,"[{'_account_id': 8367}, {'_account_id': 8944}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-03-29 13:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ef7556ff8c117f990abd4fcf584477b43f42af38', 'message': ""Introduce tempest_services var for installing tempest_plugins\n\nCurrently in os_tempest, we have multiple vars related for\ninstalling tempest plugins. For installing any plugin, we\nneed to do tempest_service_avilable_{service} to true and it is\nvery hard to manage doing that.\nAdding tempest_services:\n         - 'cinder'\n         - 'neutron'\nwill install the respective services.\n\nChange-Id: I709c04cdffbc03e4d264a4ff116a8743e402473d\n""}, {'number': 2, 'created': '2019-03-29 15:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ac4654b2a8b66e79b072856a624118f56e1b9986', 'message': ""Introduce tempest_services var for installing tempest_plugins\n\nCurrently in os_tempest, we have multiple vars related for\ninstalling tempest plugins. For installing any plugin, we\nneed to do tempest_service_avilable_{service} to true and it is\nvery hard to manage doing that.\nAdding tempest_services:\n         - 'cinder'\n         - 'neutron'\nwill install the respective services.\n\nChange-Id: I709c04cdffbc03e4d264a4ff116a8743e402473d\n""}, {'number': 3, 'created': '2019-04-02 07:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fd6e8febec2f2c448d08af767189186f1708ffc0', 'message': ""Introduce tempest_services var for installing tempest_plugins\n\nCurrently in os_tempest, we have multiple vars related for\ninstalling tempest plugins. For installing any plugin, we\nneed to do tempest_service_avilable_{service} to true and it is\nvery hard to manage doing that.\nAdding tempest_services:\n         - 'cinder'\n         - 'neutron'\nwill install the respective services.\n\nChange-Id: I709c04cdffbc03e4d264a4ff116a8743e402473d\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n""}, {'number': 4, 'created': '2019-04-02 08:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b6e432d9ada597c4e90de9e68f33077679196a47', 'message': ""Introduce tempest_services var for installing tempest_plugins\n\nCurrently in os_tempest, we have multiple vars related for\ninstalling tempest plugins. For installing any plugin, we\nneed to do tempest_service_avilable_{service} to true and it is\nvery hard to manage doing that.\nAdding tempest_services:\n         - 'cinder'\n         - 'neutron'\nwill install the respective services.\n\nChange-Id: I709c04cdffbc03e4d264a4ff116a8743e402473d\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n""}, {'number': 5, 'created': '2019-04-02 09:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7dd2d679ff726fcc21111aa3390a94ec30bd0b12', 'message': ""Introduce tempest_services var for installing tempest_plugins\n\nCurrently in os_tempest, we have multiple vars related for\ninstalling tempest plugins. For installing any plugin, we\nneed to do tempest_service_avilable_{service} to true and it is\nvery hard to manage doing that.\nAdding tempest_services:\n         - 'cinder'\n         - 'neutron'\nwill install the respective services.\n\nChange-Id: I709c04cdffbc03e4d264a4ff116a8743e402473d\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n""}, {'number': 6, 'created': '2019-04-02 09:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3fbb144cfd1dbd9197235de739fc673cc56515b7', 'message': ""Introduce tempest_services var for installing tempest_plugins\n\nCurrently in os_tempest, we have multiple vars related for\ninstalling tempest plugins. For installing any plugin, we\nneed to do tempest_service_avilable_{service} to true and it is\nvery hard to manage doing that.\nAdding tempest_services:\n         - 'cinder'\n         - 'neutron'\nwill install the respective services.\n\nChange-Id: I709c04cdffbc03e4d264a4ff116a8743e402473d\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n""}, {'number': 7, 'created': '2019-04-02 11:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b7382ac8982195bd15ebfd8a1f98c2a65b508e57', 'message': ""Introduce tempest_services var for installing tempest_plugins\n\nCurrently in os_tempest, we have multiple vars related for\ninstalling tempest plugins. For installing any plugin, we\nneed to do tempest_service_avilable_{service} to true and it is\nvery hard to manage doing that.\nAdding tempest_services:\n         - 'cinder'\n         - 'neutron'\nwill install the respective services.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/954\n\nChange-Id: I709c04cdffbc03e4d264a4ff116a8743e402473d\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n""}, {'number': 8, 'created': '2019-04-02 12:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/44a7a872e3a46e0ea6289e258181713f02d1ea9f', 'message': ""Introduce tempest_services var for installing tempest_plugins\n\nCurrently in os_tempest, we have multiple vars related for\ninstalling tempest plugins. For installing any plugin, we\nneed to do tempest_service_avilable_{service} to true and it is\nvery hard to manage doing that.\nAdding tempest_services:\n         - 'cinder'\n         - 'neutron'\nwill install the respective services.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/954\n\nChange-Id: I709c04cdffbc03e4d264a4ff116a8743e402473d\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n""}, {'number': 9, 'created': '2019-04-02 15:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7a1774db2dee772b7a22c376562d5f7029dc3659', 'message': ""Introduce tempest_services var for installing tempest_plugins\n\nCurrently in os_tempest, we have multiple vars related for\ninstalling tempest plugins. For installing any plugin, we\nneed to do tempest_service_avilable_{service} to true and it is\nvery hard to manage doing that.\nAdding tempest_services:\n         - 'cinder'\n         - 'neutron'\nwill install the respective services.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/954\n\nChange-Id: I709c04cdffbc03e4d264a4ff116a8743e402473d\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n""}, {'number': 10, 'created': '2019-04-03 08:57:11.000000000', 'files': ['playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/804eb03b85f021f1d6866e7b53a47740cb19cbc3', 'message': ""Introduce tempest_services var for installing tempest_plugins\n\nCurrently in os_tempest, there are multiple vars available like\ntempest_service_available_{service_name}\nhttp://git.openstack.org/cgit/openstack/openstack-ansible-os_tempest\n/tree/defaults/main.yml#n159 in defaults/main.yml for installing\ntempest plugins and create pre tempest resouces for them. Their\nvalues are controlled based on openstack-ansible group vars but\nin tripleo we configure services using tripleo heat templates\nWhich makes it hard for us to auto set the value of these\nos_tempest vars.\n\nIn order to make it easier for our consumption, we are using\ntempest_services var which can be used in zuul job featureset\noverride to enable any service. but default it is disabled.\n\nAdding tempest_services:\n         - 'cinder'\n         - 'neutron'\nwill install the respective services.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/954\n\nChange-Id: I709c04cdffbc03e4d264a4ff116a8743e402473d\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n""}]",6,648678,804eb03b85f021f1d6866e7b53a47740cb19cbc3,36,11,10,12393,,,0,"Introduce tempest_services var for installing tempest_plugins

Currently in os_tempest, there are multiple vars available like
tempest_service_available_{service_name}
http://git.openstack.org/cgit/openstack/openstack-ansible-os_tempest
/tree/defaults/main.yml#n159 in defaults/main.yml for installing
tempest plugins and create pre tempest resouces for them. Their
values are controlled based on openstack-ansible group vars but
in tripleo we configure services using tripleo heat templates
Which makes it hard for us to auto set the value of these
os_tempest vars.

In order to make it easier for our consumption, we are using
tempest_services var which can be used in zuul job featureset
override to enable any service. but default it is disabled.

Adding tempest_services:
         - 'cinder'
         - 'neutron'
will install the respective services.

https://tree.taiga.io/project/tripleo-ci-board/task/954

Change-Id: I709c04cdffbc03e4d264a4ff116a8743e402473d
Signed-off-by: Chandan Kumar <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/78/648678/4 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest.yml'],1,ef7556ff8c117f990abd4fcf584477b43f42af38,os_tempest,"- name: Handle tempest plugin installation vars: allowed_services: - 'telemetry' - 'heat' - 'cinder' - 'neutron' - 'barbican' - 'horizon' - 'designate' - 'ironic' - 'mistral' - 'octavia' - 'sahara' - 'zaqar' set_fact: tempest_service_avaiable_{{ item }}: true when: item in ""{{ allowed_services }}"" with_items: ""{{ tempest_services }}"" ",,20,0
openstack%2Fkolla~master~I402f58ce53fdce426582cf2fc31349da6d2f5ae0,openstack/kolla,master,I402f58ce53fdce426582cf2fc31349da6d2f5ae0,Reuse /var/lib/tempest symlink for rpm also,MERGED,2019-04-16 08:01:46.000000000,2019-05-06 05:26:28.000000000,2019-04-29 14:30:49.000000000,"[{'_account_id': 167}, {'_account_id': 7488}, {'_account_id': 8944}, {'_account_id': 10969}, {'_account_id': 11869}, {'_account_id': 12393}, {'_account_id': 13039}, {'_account_id': 13861}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 23717}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-04-16 08:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ac577ab505ac085fce95f44d55ab56bee44c9cf6', 'message': 'Use /var/lib/tempest symlink for tempest container\n\nCurrently with in tempest Dockerfile, we have two symlink\n/usr/share/openstack and /var/lib/tempest, we cannot create\ntwo symlink for a single directory. It is causing failure to\nbuild container using buildah.\n\nChange-Id: I402f58ce53fdce426582cf2fc31349da6d2f5ae0\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-04-17 06:30:53.000000000', 'files': ['docker/tempest/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8b8958459809940b812364542a6994a89624f981', 'message': ""Reuse /var/lib/tempest symlink for rpm also\n\nhttps://review.openstack.org/#/c/605980/ with this review in\ntripleo, we use /var/lib/tempest path but in kolla tempest\ndockerfile /usr/share/openstack-tempest is used which is not\nmounted in tripleo deployment.\nLet's reuse the same volume with tempest container instead\nof /usr/share/openstack-tempest.\n\nChange-Id: I402f58ce53fdce426582cf2fc31349da6d2f5ae0\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n""}]",0,652937,8b8958459809940b812364542a6994a89624f981,16,18,2,12393,,,0,"Reuse /var/lib/tempest symlink for rpm also

https://review.openstack.org/#/c/605980/ with this review in
tripleo, we use /var/lib/tempest path but in kolla tempest
dockerfile /usr/share/openstack-tempest is used which is not
mounted in tripleo deployment.
Let's reuse the same volume with tempest container instead
of /usr/share/openstack-tempest.

Change-Id: I402f58ce53fdce426582cf2fc31349da6d2f5ae0
Signed-off-by: Chandan Kumar <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/37/652937/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/tempest/Dockerfile.j2'],1,ac577ab505ac085fce95f44d55ab56bee44c9cf6,tempest,,RUN ln -sf /usr/share/openstack-tempest /tempest,0,1
openstack%2Fopenstack-ansible-os_placement~master~I1ee165b06fe6c6a840784565a7a661b11bf9ebff,openstack/openstack-ansible-os_placement,master,I1ee165b06fe6c6a840784565a7a661b11bf9ebff,Ensure libxml2 is present as a library for uwsgi,MERGED,2019-05-04 13:29:00.000000000,2019-05-06 03:41:09.000000000,2019-05-06 03:41:09.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-05-04 13:29:00.000000000', 'files': ['vars/redhat-7.yml', 'vars/debian.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/ceafdb0e6910c9186cb86f79e5401a97ef64cdef', 'message': 'Ensure libxml2 is present as a library for uwsgi\n\nChange-Id: I1ee165b06fe6c6a840784565a7a661b11bf9ebff\n'}]",0,657117,ceafdb0e6910c9186cb86f79e5401a97ef64cdef,9,3,1,25023,,,0,"Ensure libxml2 is present as a library for uwsgi

Change-Id: I1ee165b06fe6c6a840784565a7a661b11bf9ebff
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/17/657117/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'vars/debian.yml', 'vars/suse.yml']",3,ceafdb0e6910c9186cb86f79e5401a97ef64cdef,placement_integration,placement_distro_packages: - libxml2 placement_service_distro_packages: [] ,placement_distro_packages: [] placement_service_distro_packages: [],8,5
openstack%2Fheat~master~I6c5aaf116916eb197a62d89561d4d20236006581,openstack/heat,master,I6c5aaf116916eb197a62d89561d4d20236006581,Support tags for Octavia pool member,MERGED,2019-03-13 05:59:14.000000000,2019-05-06 02:43:58.000000000,2019-03-22 00:35:43.000000000,"[{'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 6732}, {'_account_id': 7385}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 29759}]","[{'number': 1, 'created': '2019-03-13 05:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2b7e2a962ca5c452a07debdb19ca400a8eaa4bf7', 'message': 'Support tags for Octavia pool member\n\nThe API doc:\nhttps://developer.openstack.org/api-ref/load-balancer/v2/index.html#create-member\n\nChange-Id: I6c5aaf116916eb197a62d89561d4d20236006581\nStory: #2005219\nTask: #29998\n'}, {'number': 2, 'created': '2019-03-13 09:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d7073c7f91f9de88d847d2b2114ee5f40ecdf5fa', 'message': 'Support tags for Octavia pool member\n\nThe API doc:\nhttps://developer.openstack.org/api-ref/load-balancer/v2/index.html#create-member\n\nChange-Id: I6c5aaf116916eb197a62d89561d4d20236006581\nStory: #2005219\nTask: #29998\n'}, {'number': 3, 'created': '2019-03-16 11:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9735125f059e0473bc38184a09e88362614a4855', 'message': 'Support tags for Octavia pool member\n\nThe API doc:\nhttps://developer.openstack.org/api-ref/load-balancer/v2/index.html#create-member\n\nChange-Id: I6c5aaf116916eb197a62d89561d4d20236006581\nStory: #2005219\nTask: #29998\n'}, {'number': 4, 'created': '2019-03-21 20:11:52.000000000', 'files': ['releasenotes/notes/octavia-member-tags-84cd00224d6b7bc1.yaml', 'heat/tests/openstack/octavia/inline_templates.py', 'heat/engine/resources/openstack/octavia/pool_member.py', 'heat/tests/openstack/octavia/test_pool_member.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/f3c08330fe2e161f65cea2dfd3e4069d6f4e932a', 'message': 'Support tags for Octavia pool member\n\nThe API doc:\nhttps://developer.openstack.org/api-ref/load-balancer/v2/index.html#create-member\n\nChange-Id: I6c5aaf116916eb197a62d89561d4d20236006581\nStory: #2005219\nTask: #29998\n'}]",3,642950,f3c08330fe2e161f65cea2dfd3e4069d6f4e932a,32,14,4,6732,,,0,"Support tags for Octavia pool member

The API doc:
https://developer.openstack.org/api-ref/load-balancer/v2/index.html#create-member

Change-Id: I6c5aaf116916eb197a62d89561d4d20236006581
Story: #2005219
Task: #29998
",git fetch https://review.opendev.org/openstack/heat refs/changes/50/642950/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/octavia/inline_templates.py', 'heat/engine/resources/openstack/octavia/pool_member.py', 'heat/tests/openstack/octavia/test_pool_member.py']",3,2b7e2a962ca5c452a07debdb19ca400a8eaa4bf7,member-tags," 'tags': ['tag1', 'tag2'] 'tags': ['tag3', 'tag4']",,10,2
openstack%2Fhorizon~master~Ic3f75ec38aff1c5e28c4c45b6f42d5f6e4b743ed,openstack/horizon,master,Ic3f75ec38aff1c5e28c4c45b6f42d5f6e4b743ed,Do not judge whether the quota is over-limit in the allowed method,ABANDONED,2019-05-05 08:00:59.000000000,2019-05-06 01:56:02.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-05 08:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/90ef320c666784940dd991499fdeb0b5f7175890', 'message': 'Do not judge whether the quota is over-limit in the allowed method on CreateSnapshot\n\nThe allowed method in createsnapshot calls the interface of the cinder service.\nIf there are 10 volumes, it will be called 10 times,\nwhich has an impact on the access speed of the volume page.\n\nThis patch removes the service interface used in the allowed method.\n\nChange-Id: Ic3f75ec38aff1c5e28c4c45b6f42d5f6e4b743ed\nCloses-Bug: #1827766\n'}, {'number': 2, 'created': '2019-05-05 08:03:24.000000000', 'files': ['openstack_dashboard/dashboards/project/volumes/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6186f1ee96e998cf294f4bae22f07112d88899a1', 'message': 'Do not judge whether the quota is over-limit in the allowed method\n\nThe allowed method in createsnapshot calls the interface\nof the cinder service. If there are 10 volumes,\nit will be called 10 times,\nwhich has an impact on the access speed of the volume page.\n\nThis patch removes the service interface used in the allowed method.\n\nChange-Id: Ic3f75ec38aff1c5e28c4c45b6f42d5f6e4b743ed\nCloses-Bug: #1827766\n'}]",1,657208,6186f1ee96e998cf294f4bae22f07112d88899a1,5,2,2,27822,,,0,"Do not judge whether the quota is over-limit in the allowed method

The allowed method in createsnapshot calls the interface
of the cinder service. If there are 10 volumes,
it will be called 10 times,
which has an impact on the access speed of the volume page.

This patch removes the service interface used in the allowed method.

Change-Id: Ic3f75ec38aff1c5e28c4c45b6f42d5f6e4b743ed
Closes-Bug: #1827766
",git fetch https://review.opendev.org/openstack/horizon refs/changes/08/657208/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/volumes/tables.py'],1,90ef320c666784940dd991499fdeb0b5f7175890,bug/1827766,," try: limits = api.cinder.tenant_absolute_limits(request) except Exception: exceptions.handle(request, _('Unable to retrieve tenant limits.')) limits = {} snapshots_available = (limits.get('maxTotalSnapshots', float(""inf"")) - limits.get('totalSnapshotsUsed', 0)) if snapshots_available <= 0 and ""disabled"" not in self.classes: self.classes = [c for c in self.classes] + ['disabled'] self.verbose_name = string_concat(self.verbose_name, ' ', _(""(Quota exceeded)""))",0,13
openstack%2Fpuppet-openstack-integration~stable%2Fstein~I801a486f8ccc8e7e3db6d3562278f177a014dd5a,openstack/puppet-openstack-integration,stable/stein,I801a486f8ccc8e7e3db6d3562278f177a014dd5a,ceph: deploy OpenStack Stein for Ceph Mimic,ABANDONED,2019-04-30 23:20:46.000000000,2019-05-05 21:40:01.000000000,,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-30 23:20:46.000000000', 'files': ['playbooks/prepare-node-integration.yaml', 'configure_facts.sh', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/235bd6ae51bec50826cf9d290bceefca18b9e665', 'message': ""ceph: deploy OpenStack Stein for Ceph Mimic\n\nIn stable/mimic, we want a stable version of OpenStack which is Stein\nright now.\nThere are plans to deploy Nautilus in Train, so let's deploy Stein when a\npatch is sent to puppet-ceph stable/mimic.\n\nChange-Id: I801a486f8ccc8e7e3db6d3562278f177a014dd5a\n""}]",0,656606,235bd6ae51bec50826cf9d290bceefca18b9e665,4,2,1,3153,,,0,"ceph: deploy OpenStack Stein for Ceph Mimic

In stable/mimic, we want a stable version of OpenStack which is Stein
right now.
There are plans to deploy Nautilus in Train, so let's deploy Stein when a
patch is sent to puppet-ceph stable/mimic.

Change-Id: I801a486f8ccc8e7e3db6d3562278f177a014dd5a
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/06/656606/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/prepare-node-integration.yaml', 'configure_facts.sh', 'zuul.d/base.yaml']",3,235bd6ae51bec50826cf9d290bceefca18b9e665,mimic,- pragma: implied-branches: - stable/stein - stable/mimic branches: ^stable/(mimic|stein).*$ override-checkout: stable/mimic branches: ^stable/(mimic|stein).*$ ceph: mimic, override-checkout: master ceph: luminous,13,3
openstack%2Fosprofiler~master~Id2b126d0b66a24a099fb7f52aa819b4b0ac0f7c7,openstack/osprofiler,master,Id2b126d0b66a24a099fb7f52aa819b4b0ac0f7c7,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:39:54.000000000,2019-05-05 21:06:42.000000000,2019-05-05 21:06:42.000000000,"[{'_account_id': 5950}, {'_account_id': 9008}, {'_account_id': 11444}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-23 11:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/c6ccc0d16a56dcd7419d2c4bb9883170b28a972c', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Id2b126d0b66a24a099fb7f52aa819b4b0ac0f7c7\n'}, {'number': 2, 'created': '2019-04-29 04:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/c8f98aa0d10c25889ee063a98ea208d317385f40', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Id2b126d0b66a24a099fb7f52aa819b4b0ac0f7c7\n'}, {'number': 3, 'created': '2019-04-29 05:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/44372908d8ebdfafc46a56382d5a5385d1cbf74e', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Id2b126d0b66a24a099fb7f52aa819b4b0ac0f7c7\n'}, {'number': 4, 'created': '2019-04-29 06:48:23.000000000', 'files': ['README.rst', 'doc/source/user/similar_projects.rst', 'tox.ini', 'devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/b0189254b1c20b1daa1ac81d38a998b364527075', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Id2b126d0b66a24a099fb7f52aa819b4b0ac0f7c7\n'}]",2,655061,b0189254b1c20b1daa1ac81d38a998b364527075,26,7,4,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Id2b126d0b66a24a099fb7f52aa819b4b0ac0f7c7
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/61/655061/4 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini', 'devstack/README.rst']",3,c6ccc0d16a56dcd7419d2c4bb9883170b28a972c,,``https://opendev.org/openstack/osprofiler/tree/osprofiler/drivers``.,``https://git.openstack.org/cgit/openstack/osprofiler/tree/osprofiler/drivers``.,3,3
openstack%2Fneutron-tempest-plugin~master~If60f0bea94b5cf1009466c6371a4c8ee06e9c728,openstack/neutron-tempest-plugin,master,If60f0bea94b5cf1009466c6371a4c8ee06e9c728,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:38:58.000000000,2019-05-05 20:41:55.000000000,2019-05-05 20:41:55.000000000,"[{'_account_id': 4694}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 17130}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27654}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-23 11:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ae0ff51eff5ee4b902fa640ef8067fbf09d66f9b', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: If60f0bea94b5cf1009466c6371a4c8ee06e9c728\n'}, {'number': 2, 'created': '2019-04-24 07:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/072aceb57f1b8b9f14aa7bc3c4f837b9300b12db', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: If60f0bea94b5cf1009466c6371a4c8ee06e9c728\n'}, {'number': 3, 'created': '2019-04-26 09:31:37.000000000', 'files': ['roles/multi-node-setup/README.rst', 'README.rst', 'neutron_tempest_plugin/api/test_networks.py', 'setup.cfg', 'tox.ini', 'devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d49cf7ab5c42c81aff58860d5809500d2f6c7b1a', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: If60f0bea94b5cf1009466c6371a4c8ee06e9c728\n'}]",4,655028,d49cf7ab5c42c81aff58860d5809500d2f6c7b1a,29,10,3,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: If60f0bea94b5cf1009466c6371a4c8ee06e9c728
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/28/655028/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/multi-node-setup/README.rst', 'README.rst', 'setup.cfg', 'tox.ini']",4,ae0ff51eff5ee4b902fa640ef8067fbf09d66f9b,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},4,4
openstack%2Fcontributor-guide~master~I372838b42124bfcf118570825f08ec4fc2a5fa01,openstack/contributor-guide,master,I372838b42124bfcf118570825f08ec4fc2a5fa01,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-05-05 17:10:37.000000000,2019-05-05 20:03:04.000000000,2019-05-05 20:03:04.000000000,"[{'_account_id': 6547}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-05 17:10:37.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/f25992159a09d418d12b050227c0bac761c80cb4', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nThorough replacement of git.openstack.org URLs with their opendev.org\ncounterparts.\n\nChange-Id: I372838b42124bfcf118570825f08ec4fc2a5fa01\n'}]",0,657281,f25992159a09d418d12b050227c0bac761c80cb4,7,3,1,30356,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Thorough replacement of git.openstack.org URLs with their opendev.org
counterparts.

Change-Id: I372838b42124bfcf118570825f08ec4fc2a5fa01
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/81/657281/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f25992159a09d418d12b050227c0bac761c80cb4,,* Source: https://opendev.org/openstack/contributor-guide/,* Source: https://git.openstack.org/cgit/openstack/contributor-guide,1,1
openstack%2Foslo.log~master~I35110a02e8b16f9c1d3b44441409db990eb1a23f,openstack/oslo.log,master,I35110a02e8b16f9c1d3b44441409db990eb1a23f,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:25:36.000000000,2019-05-05 19:53:33.000000000,2019-05-05 19:53:33.000000000,"[{'_account_id': 8770}, {'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-23 05:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/96579d3b3361496863d65404dab9a4d2c68910c5', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I35110a02e8b16f9c1d3b44441409db990eb1a23f\n'}, {'number': 2, 'created': '2019-04-23 05:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/3f23d6f9126284f6545e22acff9ac9b5415e2389', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I35110a02e8b16f9c1d3b44441409db990eb1a23f\n'}, {'number': 3, 'created': '2019-04-26 02:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/80c346ef926ce79a14fa6f8a9b9d6db17584f84e', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I35110a02e8b16f9c1d3b44441409db990eb1a23f\n'}, {'number': 4, 'created': '2019-04-26 02:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/5857ae957dbe5790886ace75f816a3202f208735', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I35110a02e8b16f9c1d3b44441409db990eb1a23f\n'}, {'number': 5, 'created': '2019-04-30 05:38:20.000000000', 'files': ['doc/source/user/examples.rst', 'doc/source/user/migration.rst', 'doc/source/admin/nova_sample.conf', 'README.rst', 'doc/source/admin/journal.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/815df26f0ddcc1a7a9fa3939d6f7c8b714314270', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I35110a02e8b16f9c1d3b44441409db990eb1a23f\n'}]",3,654732,815df26f0ddcc1a7a9fa3939d6f7c8b714314270,17,6,5,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I35110a02e8b16f9c1d3b44441409db990eb1a23f
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/32/654732/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/examples.rst', 'doc/source/user/migration.rst', 'README.rst', 'doc/source/admin/journal.rst', 'tox.ini']",5,96579d3b3361496863d65404dab9a4d2c68910c5,,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},5,5
openstack%2Fcliff~master~I2a7ac86c8a9b07fe6e35be1f0ac552ef77d17bfd,openstack/cliff,master,I2a7ac86c8a9b07fe6e35be1f0ac552ef77d17bfd,Remove dead files,MERGED,2018-10-19 14:34:34.000000000,2019-05-05 19:27:49.000000000,2019-05-05 19:27:49.000000000,"[{'_account_id': 841}, {'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-19 14:34:34.000000000', 'files': ['doc/Makefile', 'Makefile', 'MANIFEST.in'], 'web_link': 'https://opendev.org/openstack/cliff/commit/a4ff48c63b21d9fc466d7fec394896b03c84b500', 'message': ""Remove dead files\n\nMANIFEST files aren't needed when using pbr, while the Makefiles have\nsince been replace by infra's release tooling (for release) and tox (for\ndocs).\n\nChange-Id: I2a7ac86c8a9b07fe6e35be1f0ac552ef77d17bfd\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,611888,a4ff48c63b21d9fc466d7fec394896b03c84b500,7,4,1,15334,,,0,"Remove dead files

MANIFEST files aren't needed when using pbr, while the Makefiles have
since been replace by infra's release tooling (for release) and tox (for
docs).

Change-Id: I2a7ac86c8a9b07fe6e35be1f0ac552ef77d17bfd
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/cliff refs/changes/88/611888/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/Makefile', 'Makefile', 'MANIFEST.in']",3,a4ff48c63b21d9fc466d7fec394896b03c84b500,envvar-integration,,include setup.py recursive-include docs *.rst *.py *.html *.css *.js *.png *.txt recursive-include demoapp *.py recursive-include tests *.py include tox.ini ,0,180
openstack%2Foctavia~stable%2Fstein~I9c9002486a9a547a215514c24ccb95f039b23ec2,openstack/octavia,stable/stein,I9c9002486a9a547a215514c24ccb95f039b23ec2,Fix spare amphora failover,MERGED,2019-04-29 11:49:47.000000000,2019-05-05 19:11:07.000000000,2019-05-05 19:11:07.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-04-29 11:49:47.000000000', 'files': ['releasenotes/notes/fixed-spare-amphora-rotation-007ba406411a313d.yaml', 'octavia/controller/worker/controller_worker.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/aa259d12234b33e1a0061e4f87bb0038e3e25b40', 'message': ""Fix spare amphora failover\n\nFailover of spare amphorae failed with an exception,\nbecause they're not attached to any loadbalancer.\n\nThis commit fixes this issue, allowing to rotate/update\nspare amphora images.\n\nStory: 2005470\nTask: 30549\n\nChange-Id: I9c9002486a9a547a215514c24ccb95f039b23ec2\n(cherry picked from commit a509710a7faf5c643377d1593a2591d37f3e8390)\n""}]",0,656297,aa259d12234b33e1a0061e4f87bb0038e3e25b40,20,5,1,29244,,,0,"Fix spare amphora failover

Failover of spare amphorae failed with an exception,
because they're not attached to any loadbalancer.

This commit fixes this issue, allowing to rotate/update
spare amphora images.

Story: 2005470
Task: 30549

Change-Id: I9c9002486a9a547a215514c24ccb95f039b23ec2
(cherry picked from commit a509710a7faf5c643377d1593a2591d37f3e8390)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/97/656297/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fixed-spare-amphora-rotation-007ba406411a313d.yaml', 'octavia/controller/worker/controller_worker.py']",2,aa259d12234b33e1a0061e4f87bb0038e3e25b40,, if lb and lb.flavor_id:, if lb.flavor_id:,5,1
openstack%2Fplacement~master~I72ae7f552879be13777fea90fa7055e056d309a7,openstack/placement,master,I72ae7f552879be13777fea90fa7055e056d309a7,Run nova-tox-functional-py36 in the placement gate,MERGED,2019-05-03 22:29:48.000000000,2019-05-05 18:40:03.000000000,2019-05-05 18:40:03.000000000,"[{'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 22:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/80ae067b781d9a78a841e4ecfa1a46ff8e02b8d6', 'message': 'WIP: Run nova-tox-functional-py36 in the placement gate\n\nThis requires some slight adjustsments to the job in nova,\nfound in the depends-on.\n\nThe result of this will be _this_ placement change running\nagainst nova master.\n\nIf it works I will tune it to blacklist some jobs.\n\nDepends-On: https://review.opendev.org/657074\nChange-Id: I72ae7f552879be13777fea90fa7055e056d309a7\n'}, {'number': 2, 'created': '2019-05-03 23:19:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/e621d30097e547cba716c0311d982b55debdf6c0', 'message': 'Run nova-tox-functional-py36 in the placement gate\n\nThis requires some slight adjustsments to the job in nova,\nfound in the depends-on.\n\nThe result of this will be _this_ placement change running\nagainst nova master.\n\nIn order to blacklist the api_sample_tests (to save some time)\nthe job is inherited and some args are added to the tox command.\n\nStory: 2005562\nTask: 30746\nDepends-On: https://review.opendev.org/657074\nChange-Id: I72ae7f552879be13777fea90fa7055e056d309a7\n'}]",3,657077,e621d30097e547cba716c0311d982b55debdf6c0,21,4,2,11564,,,0,"Run nova-tox-functional-py36 in the placement gate

This requires some slight adjustsments to the job in nova,
found in the depends-on.

The result of this will be _this_ placement change running
against nova master.

In order to blacklist the api_sample_tests (to save some time)
the job is inherited and some args are added to the tox command.

Story: 2005562
Task: 30746
Depends-On: https://review.opendev.org/657074
Change-Id: I72ae7f552879be13777fea90fa7055e056d309a7
",git fetch https://review.opendev.org/openstack/placement refs/changes/77/657077/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,80ae067b781d9a78a841e4ecfa1a46ff8e02b8d6,story/2005562, - nova-tox-functional-py36 - nova-tox-functional-py36,,2,0
openstack%2Ftripleo-common~stable%2Fpike~I12213909a47e0a186bdb2e06c58784457bfe8d13,openstack/tripleo-common,stable/pike,I12213909a47e0a186bdb2e06c58784457bfe8d13,Don't use node count from failed stack parameters,MERGED,2019-05-03 21:40:39.000000000,2019-05-05 18:33:30.000000000,2019-05-05 18:33:30.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-03 21:40:39.000000000', 'files': ['tripleo_common/actions/validations.py', 'tripleo_common/tests/actions/test_validations.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f9801ec9bd0be9e24a274127f1d9849cc8aabf00', 'message': ""Don't use node count from failed stack parameters\n\nWhile checking node count in predeploy validations, if the stack\nis in FAILED state, parameters may not represent the actual nodes\nin stack. Don't use them for validations.\n\nChange-Id: I12213909a47e0a186bdb2e06c58784457bfe8d13\nCloses-Bug: #1826925\n(cherry picked from commit 4fe901d2d079a71f0e1bb91aa3dfd0f486cba30c)\n""}]",0,657063,f9801ec9bd0be9e24a274127f1d9849cc8aabf00,7,3,1,8833,,,0,"Don't use node count from failed stack parameters

While checking node count in predeploy validations, if the stack
is in FAILED state, parameters may not represent the actual nodes
in stack. Don't use them for validations.

Change-Id: I12213909a47e0a186bdb2e06c58784457bfe8d13
Closes-Bug: #1826925
(cherry picked from commit 4fe901d2d079a71f0e1bb91aa3dfd0f486cba30c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/63/657063/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/validations.py', 'tripleo_common/tests/actions/test_validations.py']",2,f9801ec9bd0be9e24a274127f1d9849cc8aabf00,bug/1826925-stable/pike," params = self.defaults.copy() self.stack = mock.Mock(status='COMPLETE', parameters=params) params = self.defaults.copy() self.stack = mock.Mock(status='COMPLETE', parameters=params) params = self.defaults.copy() del params[missing_param] self.stack = mock.Mock(status='COMPLETE', parameters=params)", action_args['stack'] = {'parameters': self.defaults.copy()} action_args['stack'] = {'parameters': self.defaults.copy()} action_args['stack'] = {'parameters': self.defaults.copy()} del action_args['stack']['parameters'][missing_param] ,11,6
openstack%2Fnova~stable%2Frocky~If21230869826c992e7d0398434b9a4b255940213,openstack/nova,stable/rocky,If21230869826c992e7d0398434b9a4b255940213,libvirt: Always disconnect volumes after libvirtError exceptions,MERGED,2019-05-04 12:23:55.000000000,2019-05-05 18:04:15.000000000,2019-05-05 18:04:15.000000000,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-04 12:23:55.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/786083c91fa69ba9ff90bafe80d3b83b9f9bbc69', 'message': 'libvirt: Always disconnect volumes after libvirtError exceptions\n\nBuilding on Ib440f4f2e484312af5f393722363846f6c95b760 we should always\nattempt to disconnect volumes from the host when exceptions are thrown\nwhile attempting to attach a volume to a domain. This was previously\ndone for generic exceptions but not for libvirtError exceptions.\n\nCloses-Bug: #1826523\nChange-Id: If21230869826c992e7d0398434b9a4b255940213\n(cherry picked from commit 091a910576d9b580678f1881fffa425ab4632f48)\n(cherry picked from commit 048d5b790f3da2756a0a1bf2bc015812cb24d53a)\n'}]",0,657110,786083c91fa69ba9ff90bafe80d3b83b9f9bbc69,11,7,1,10135,,,0,"libvirt: Always disconnect volumes after libvirtError exceptions

Building on Ib440f4f2e484312af5f393722363846f6c95b760 we should always
attempt to disconnect volumes from the host when exceptions are thrown
while attempting to attach a volume to a domain. This was previously
done for generic exceptions but not for libvirtError exceptions.

Closes-Bug: #1826523
Change-Id: If21230869826c992e7d0398434b9a4b255940213
(cherry picked from commit 091a910576d9b580678f1881fffa425ab4632f48)
(cherry picked from commit 048d5b790f3da2756a0a1bf2bc015812cb24d53a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/657110/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,786083c91fa69ba9ff90bafe80d3b83b9f9bbc69,bug/1826523," mock.patch.object(drvr, '_disconnect_volume'), mock_disconnect_volume, mock_get_volume_config, mock_check_discard, mock_build_metadata): mock_disconnect_volume.assert_called_once() mock.patch.object(drvr, '_disconnect_volume'), mock_disconnect_volume, mock_get_volume_config, mock_check_discard, mock_build_metadata): mock_disconnect_volume.assert_called_once()"," mock_get_volume_config, mock_check_discard, mock_build_metadata): mock_get_volume_config, mock_check_discard, mock_build_metadata):",10,2
openstack%2Fnova~stable%2Frocky~Ib440f4f2e484312af5f393722363846f6c95b760,openstack/nova,stable/rocky,Ib440f4f2e484312af5f393722363846f6c95b760,libvirt: Stop ignoring unknown libvirtError exceptions during volume attach,MERGED,2019-05-03 21:14:45.000000000,2019-05-05 17:41:49.000000000,2019-05-05 17:41:49.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-03 21:14:45.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/34b4220448395f10eb2fd39d68b3f527339ab414', 'message': ""libvirt: Stop ignoring unknown libvirtError exceptions during volume attach\n\nId346bce6e47431988cce7001abcf29a9faf2936a attempted to introduce a\nsimple breadcrumb in the logs to highlight a known Libvirt issue.\nUnfortunately this change resulted in libvirtError exceptions that\ndidn't match the known issue being silently ignored.\n\nThis change corrects this by using excutils.save_and_reraise_exception\nto ensure all libvirtError exceptions are logged and raised regardless\nof being linked to the known issue.\n\nChange-Id: Ib440f4f2e484312af5f393722363846f6c95b760\nCloses-Bug: #1825882\n(cherry picked from commit bc57ae50734fa6a70115b6369e867079fb5eb4b8)\n(cherry picked from commit b3dedefcc58a1fc76ba37f9f8bb1ef7d238aaceb)\n""}]",0,657051,34b4220448395f10eb2fd39d68b3f527339ab414,10,6,1,10135,,,0,"libvirt: Stop ignoring unknown libvirtError exceptions during volume attach

Id346bce6e47431988cce7001abcf29a9faf2936a attempted to introduce a
simple breadcrumb in the logs to highlight a known Libvirt issue.
Unfortunately this change resulted in libvirtError exceptions that
didn't match the known issue being silently ignored.

This change corrects this by using excutils.save_and_reraise_exception
to ensure all libvirtError exceptions are logged and raised regardless
of being linked to the known issue.

Change-Id: Ib440f4f2e484312af5f393722363846f6c95b760
Closes-Bug: #1825882
(cherry picked from commit bc57ae50734fa6a70115b6369e867079fb5eb4b8)
(cherry picked from commit b3dedefcc58a1fc76ba37f9f8bb1ef7d238aaceb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/657051/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,34b4220448395f10eb2fd39d68b3f527339ab414,bug/1825882," @mock.patch('nova.virt.libvirt.blockinfo.get_info_from_bdm') def test_attach_volume_with_libvirt_exception(self, mock_get_info): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) instance = objects.Instance(**self.test_instance) connection_info = {""driver_volume_type"": ""fake"", ""data"": {""device_path"": ""/fake"", ""access_mode"": ""rw""}} bdm = {'device_name': 'vdb', 'disk_bus': 'fake-bus', 'device_type': 'fake-type'} disk_info = {'bus': bdm['disk_bus'], 'type': bdm['device_type'], 'dev': 'vdb'} libvirt_exc = fakelibvirt.make_libvirtError(fakelibvirt.libvirtError, ""Target vdb already exists', device is busy"", error_code=fakelibvirt.VIR_ERR_INTERNAL_ERROR) with test.nested( mock.patch.object(drvr._host, 'get_guest'), mock.patch('nova.virt.libvirt.driver.LOG'), mock.patch.object(drvr, '_connect_volume'), mock.patch.object(drvr, '_get_volume_config'), mock.patch.object(drvr, '_check_discard_for_attach_volume'), mock.patch.object(drvr, '_build_device_metadata'), ) as (mock_get_guest, mock_log, mock_connect_volume, mock_get_volume_config, mock_check_discard, mock_build_metadata): mock_conf = mock.MagicMock() mock_guest = mock.MagicMock() mock_guest.attach_device.side_effect = libvirt_exc mock_get_volume_config.return_value = mock_conf mock_get_guest.return_value = mock_guest mock_get_info.return_value = disk_info mock_build_metadata.return_value = objects.InstanceDeviceMetadata() self.assertRaises(fakelibvirt.libvirtError, drvr.attach_volume, self.context, connection_info, instance, ""/dev/vdb"", disk_bus=bdm['disk_bus'], device_type=bdm['device_type']) mock_log.exception.assert_called_once_with(u'Failed to attach ' 'volume at mountpoint: %s', '/dev/vdb', instance=instance) ",,49,5
openstack%2Ftripleo-validations~stable%2Fstein~Iede839ab30f8afcddba7a52373ac1a8113f3f688,openstack/tripleo-validations,stable/stein,Iede839ab30f8afcddba7a52373ac1a8113f3f688,Adds roles support in the script generating the validations doc.,MERGED,2019-04-24 09:47:43.000000000,2019-05-05 17:37:33.000000000,2019-05-05 17:37:33.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-04-24 09:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/866d52ab82ca4b6b9a0aa312add3e4e513660749', 'message': 'Adds roles support in the script generating the validations doc.\n\n* Also fixes some rst formatting.\n\nChange-Id: Iede839ab30f8afcddba7a52373ac1a8113f3f688\nImplements: blueprint validation-framework\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 177d29941c840aba916c699d330391aaf39c25d8)\n'}, {'number': 2, 'created': '2019-05-05 12:50:27.000000000', 'files': ['doc/source/index.rst', 'doc/source/readme.rst', 'doc/source/_exts/generate_validations_doc.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/db08b157a94ff6ca8cdfce8156f743a9b1a59f6d', 'message': 'Adds roles support in the script generating the validations doc.\n\n* Also fixes some rst formatting.\n\nChange-Id: Iede839ab30f8afcddba7a52373ac1a8113f3f688\nImplements: blueprint validation-framework\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 177d29941c840aba916c699d330391aaf39c25d8)\n'}]",0,655368,db08b157a94ff6ca8cdfce8156f743a9b1a59f6d,8,6,2,11491,,,0,"Adds roles support in the script generating the validations doc.

* Also fixes some rst formatting.

Change-Id: Iede839ab30f8afcddba7a52373ac1a8113f3f688
Implements: blueprint validation-framework
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 177d29941c840aba916c699d330391aaf39c25d8)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/68/655368/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/readme.rst', 'doc/source/_exts/generate_validations_doc.py']",3,866d52ab82ca4b6b9a0aa312add3e4e513660749,bp/validation-framework-stable/stein,"def get_include_role(validation): try: if 'tasks' in validation: return validation['tasks'][0]['include_role']['name'] else: return validation['roles'][0] except KeyError: return list() - **roles**: {roles} `View source code for the role <http://git.openstack.org/cgit/openstack/tripleo-validations/tree/roles/{roles}/>`__. roles=validation['roles'] for validation_path in sorted(glob('playbooks/*.yaml')): 'metadata': get_remaining_metadata(loaded_validation), 'roles': get_include_role(loaded_validation)", `View validation source code <http://git.openstack.org/cgit/openstack/tripleo-validations/plain/validations/{title}.yaml>`__. for validation_path in sorted(glob('validations/*.yaml')): 'metadata': get_remaining_metadata(loaded_validation),22,5
openstack%2Ftripleo-validations~stable%2Fstein~Ia93aa434f703a90b883e05cf2c89a5eb5887c326,openstack/tripleo-validations,stable/stein,Ia93aa434f703a90b883e05cf2c89a5eb5887c326,Update UPPER_CONSTRAINTS_FILE for stable/stein,MERGED,2019-04-18 15:00:31.000000000,2019-05-05 17:37:32.000000000,2019-05-05 17:37:31.000000000,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-18 15:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b1b882725f444c9ec18104e43dfbe79fea78e133', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ia93aa434f703a90b883e05cf2c89a5eb5887c326\n'}, {'number': 2, 'created': '2019-05-02 15:36:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/47ad8312ad77e294a3d6259344dfed8084469010', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ia93aa434f703a90b883e05cf2c89a5eb5887c326\n'}]",0,653781,47ad8312ad77e294a3d6259344dfed8084469010,14,4,2,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/stein

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/stein branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ia93aa434f703a90b883e05cf2c89a5eb5887c326
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/81/653781/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b1b882725f444c9ec18104e43dfbe79fea78e133,create-stein,"install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein} {opts} {packages} ""ansible>=2"" ""ansible-lint""","install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} ""ansible>=2"" ""ansible-lint""",1,1
openstack%2Fpuppet-tripleo~master~Ic11e0330010f51c39a8a27700cd7d96b466bd532,openstack/puppet-tripleo,master,Ic11e0330010f51c39a8a27700cd7d96b466bd532,Switch metrics qdrs to edge mode,MERGED,2019-04-17 20:09:38.000000000,2019-05-05 17:37:30.000000000,2019-05-05 17:37:30.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 7294}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28504}]","[{'number': 1, 'created': '2019-04-17 20:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/327b6bfd077ba6008c4e5455ce6c75bbc6d8c106', 'message': 'Switch metrics qdrs to edge mode\n\nWe have proper qdrouterd version available now, so we can do the switch.\n\nChange-Id: Ic11e0330010f51c39a8a27700cd7d96b466bd532\n'}, {'number': 2, 'created': '2019-05-02 08:02:33.000000000', 'files': ['manifests/profile/base/metrics/qdr.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ccbaeac737c845237b7f8f91e2e392fd3a204175', 'message': 'Switch metrics qdrs to edge mode\n\nWe have proper qdrouterd version available now, so we can do the switch.\n\nChange-Id: Ic11e0330010f51c39a8a27700cd7d96b466bd532\n'}]",0,653547,ccbaeac737c845237b7f8f91e2e392fd3a204175,16,7,2,5241,,,0,"Switch metrics qdrs to edge mode

We have proper qdrouterd version available now, so we can do the switch.

Change-Id: Ic11e0330010f51c39a8a27700cd7d96b466bd532
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/47/653547/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/metrics/qdr.pp'],1,327b6bfd077ba6008c4e5455ce6c75bbc6d8c106,qdr-edge," router_mode => 'edge',"," # TO-DO(mmagr): Metrics QDRs gonna run in edge mode as soon as we will # have a newest version of qpid-dispatch-router. Until then we have to run # in interior mode #router_mode => 'edge', router_mode => 'interior',",1,5
openstack%2Fcontributor-guide~master~I883e1d10f80bf2c93027963cb2606446ec87c341,openstack/contributor-guide,master,I883e1d10f80bf2c93027963cb2606446ec87c341,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-04-23 11:37:34.000000000,2019-05-05 17:21:24.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 11:37:34.000000000', 'files': ['doc/source/locale/de/LC_MESSAGES/doc-common.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributing.po', 'README.rst', 'doc/source/locale/de/LC_MESSAGES/doc-operators.po', 'doc/source/locale/id/LC_MESSAGES/doc-common.po', 'doc/source/locale/id/LC_MESSAGES/doc-operators.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-operators.po', 'doc/source/locale/id/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/zh_CN/LC_MESSAGES/doc-operators.po', 'doc/source/locale/de/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/de/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-code-and-documentation.po'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/7ab96abf007e0cfef4532c31e727712eb99e9a01', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I883e1d10f80bf2c93027963cb2606446ec87c341\n'}]",0,654990,7ab96abf007e0cfef4532c31e727712eb99e9a01,5,2,1,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I883e1d10f80bf2c93027963cb2606446ec87c341
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/90/654990/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/de/LC_MESSAGES/doc-common.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributing.po', 'README.rst', 'doc/source/locale/de/LC_MESSAGES/doc-operators.po', 'doc/source/locale/id/LC_MESSAGES/doc-common.po', 'doc/source/locale/id/LC_MESSAGES/doc-operators.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-operators.po', 'doc/source/locale/id/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/zh_CN/LC_MESSAGES/doc-operators.po', 'doc/source/locale/de/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/de/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-code-and-documentation.po']",13,7ab96abf007e0cfef4532c31e727712eb99e9a01,,"""recheck <https://opendev.org/openstack-infra/elastic-recheck/tree/""""recheck <https://opendev.org/openstack-infra/elastic-recheck/tree/""""You can find a `sandbox Git repository <https://opendev.org/""""You can find a `sandbox Git repository <https://opendev.org/""""`OpenStack git repository browser <https://opendev.org>`_""""`OpenStack git repository browser <https://opendev.org>`_""","""recheck <https://git.openstack.org/cgit/openstack-infra/elastic-recheck/tree/""""recheck <https://git.openstack.org/cgit/openstack-infra/elastic-recheck/tree/""""You can find a `sandbox Git repository <https://git.openstack.org/cgit/""""You can find a `sandbox Git repository <https://git.openstack.org/cgit/""""`OpenStack git repository browser <https://git.openstack.org/cgit>`_""""`OpenStack git repository browser <https://git.openstack.org/cgit>`_""",48,48
openstack%2Fproject-config~master~Iac7729978b574a6274062b3488daef5b3facad87,openstack/project-config,master,Iac7729978b574a6274062b3488daef5b3facad87,Added check to ensure template usage,ABANDONED,2017-12-20 13:51:50.000000000,2019-05-05 17:13:33.000000000,,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-20 13:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d91fd79caad9e7207610cb2eadf610c336d67b7e', 'message': 'Added check to ensure template usage\n\nThis patch adds a check to make sure common project templates\nare used as well as addresses a few which had problems.\n\nIdeally, this patch would depend on openstack-zuul-jobs and\ncheck all templates from there, but that should be done in\na follow-up change.\n\nChange-Id: Iac7729978b574a6274062b3488daef5b3facad87\n'}, {'number': 2, 'created': '2018-02-17 20:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f8f1ce37f7826c170fd16066cc9a1be280122944', 'message': 'Added check to ensure template usage\n\nThis patch adds a check to make sure common project templates\nare used as well as addresses a few which had problems.\n\nIdeally, this patch would depend on openstack-zuul-jobs and\ncheck all templates from there, but that should be done in\na follow-up change.\n\nChange-Id: Iac7729978b574a6274062b3488daef5b3facad87\n'}, {'number': 3, 'created': '2018-02-20 04:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/584fe6dd940d8974b78bb23e085e3dacd38a90cc', 'message': 'Added check to ensure template usage\n\nThis patch adds a check to make sure common project templates\nare used as well as addresses a few which had problems.\n\nIdeally, this patch would depend on openstack-zuul-jobs and\ncheck all templates from there, but that should be done in\na follow-up change.\n\nChange-Id: Iac7729978b574a6274062b3488daef5b3facad87\n'}, {'number': 4, 'created': '2018-02-20 23:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/937cd8d4966a545534e66741381a7a626025e678', 'message': 'Added check to ensure template usage\n\nThis patch adds a check to make sure common project templates\nare used as well as addresses a few which had problems.\n\nIdeally, this patch would depend on openstack-zuul-jobs and\ncheck all templates from there, but that should be done in\na follow-up change.\n\nChange-Id: Iac7729978b574a6274062b3488daef5b3facad87\n'}, {'number': 5, 'created': '2018-02-21 16:48:38.000000000', 'files': ['zuul.d/projects.yaml', 'tools/zuul-projects-checks.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1e89cd35961b6cabff6639a2939324660f74ef6d', 'message': 'Added check to ensure template usage\n\nThis patch adds a check to make sure common project templates\nare used as well as addresses a few which had problems.\n\nIdeally, this patch would depend on openstack-zuul-jobs and\ncheck all templates from there, but that should be done in\na follow-up change.\n\nChange-Id: Iac7729978b574a6274062b3488daef5b3facad87\n'}]",1,529318,1e89cd35961b6cabff6639a2939324660f74ef6d,14,3,5,1004,,,0,"Added check to ensure template usage

This patch adds a check to make sure common project templates
are used as well as addresses a few which had problems.

Ideally, this patch would depend on openstack-zuul-jobs and
check all templates from there, but that should be done in
a follow-up change.

Change-Id: Iac7729978b574a6274062b3488daef5b3facad87
",git fetch https://review.opendev.org/openstack/project-config refs/changes/18/529318/5 && git format-patch -1 --stdout FETCH_HEAD,"['tools/zuul-projects-checks.py', 'zuul.d/projects.yaml']",2,d91fd79caad9e7207610cb2eadf610c336d67b7e,, - openstack-python-jobs - openstack-python-jobs, check: jobs: - openstack-tox-pep8 - openstack-tox-py27 gate: jobs: - openstack-tox-pep8 - openstack-tox-py27 post: jobs: - publish-openstack-python-branch-tarball check: jobs: - openstack-tox-pep8 - openstack-tox-py27 gate: jobs: - openstack-tox-pep8 - openstack-tox-py27 post: jobs: - publish-openstack-python-branch-tarball,46,22
openstack%2Fpuppet-openstack-integration~stable%2Fstein~I61b6c353cb5216265bf31d56a9f40437821b92fc,openstack/puppet-openstack-integration,stable/stein,I61b6c353cb5216265bf31d56a9f40437821b92fc,Handle lvcreate failure by ensuring dep on lvm2,MERGED,2019-05-05 04:56:23.000000000,2019-05-05 16:32:33.000000000,2019-05-05 16:32:33.000000000,"[{'_account_id': 9414}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-05 04:56:23.000000000', 'files': ['manifests/ceph.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3802dcc07a804b716a6a99783c390d964af6beb7', 'message': ""Handle lvcreate failure by ensuring dep on lvm2\n\n[1] added lvm_create task to create a lvm device\nrequired by ceph-nautilus. lvcreate command fails\nsome times with below Error:-\n/dev/ceph_vg/lv_data: not found: device not cleared\n\nTo overcome this let's add a direct dependency on 'lvm2'\npackage as lvm_create task needs that package, in addition\nadds a sleep task of 5 seconds.\n\n[1] https://review.opendev.org/#/c/650281\n\nChange-Id: I61b6c353cb5216265bf31d56a9f40437821b92fc\n(cherry picked from commit ed4b1af4d163ae4c969018720cf2fc0bf0657fca)\n""}]",0,657197,3802dcc07a804b716a6a99783c390d964af6beb7,12,3,1,13861,,,0,"Handle lvcreate failure by ensuring dep on lvm2

[1] added lvm_create task to create a lvm device
required by ceph-nautilus. lvcreate command fails
some times with below Error:-
/dev/ceph_vg/lv_data: not found: device not cleared

To overcome this let's add a direct dependency on 'lvm2'
package as lvm_create task needs that package, in addition
adds a sleep task of 5 seconds.

[1] https://review.opendev.org/#/c/650281

Change-Id: I61b6c353cb5216265bf31d56a9f40437821b92fc
(cherry picked from commit ed4b1af4d163ae4c969018720cf2fc0bf0657fca)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/97/657197/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ceph.pp'],1,3802dcc07a804b716a6a99783c390d964af6beb7,ceph-nautilus-stable/stein," ensure_packages(['lvm2'], {'ensure' => 'present', before => Exec['lvm_create']}) sleep 5",,3,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ic5f545b3bda571e028452d5c4123d9eca4493054,openstack/tripleo-heat-templates,stable/stein,Ic5f545b3bda571e028452d5c4123d9eca4493054,Use oslo_messaging_rpc_port for nova rpc healthchecks,MERGED,2019-05-04 17:23:53.000000000,2019-05-05 16:29:09.000000000,2019-05-05 16:29:09.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-04 17:23:53.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9096b494185279b7e7cfcc21c965c08b8a8a0c26', 'message': 'Use oslo_messaging_rpc_port for nova rpc healthchecks\n\nWith 405366fa32583e88c34417e5f46fa574ed8f4e98 the parameters RpcPort,\nRpcUserName, RpcPassword and RpcUseSSL got deprecated and\nnova::rabbitmq_port removed. As a result the healtcheck get called with\nnull parameter and fail.\nWe now get the global_config_settings from RabbitMQService and use\noslo_messaging_rpc_port for the healthcheck.\n\nThis is an addition to 8ff04029f5bc4cc2db4b3575229ce7bafb4eb358 for\nthe undercloud compute service.\n\nRelated-Bug: #1824805\n\nChange-Id: Ic5f545b3bda571e028452d5c4123d9eca4493054\n(cherry picked from commit 372ca22483a1988a363b9ed8ab0ef319b1ab0f16)\n'}]",0,657139,9096b494185279b7e7cfcc21c965c08b8a8a0c26,7,4,1,17216,,,0,"Use oslo_messaging_rpc_port for nova rpc healthchecks

With 405366fa32583e88c34417e5f46fa574ed8f4e98 the parameters RpcPort,
RpcUserName, RpcPassword and RpcUseSSL got deprecated and
nova::rabbitmq_port removed. As a result the healtcheck get called with
null parameter and fail.
We now get the global_config_settings from RabbitMQService and use
oslo_messaging_rpc_port for the healthcheck.

This is an addition to 8ff04029f5bc4cc2db4b3575229ce7bafb4eb358 for
the undercloud compute service.

Related-Bug: #1824805

Change-Id: Ic5f545b3bda571e028452d5c4123d9eca4493054
(cherry picked from commit 372ca22483a1988a363b9ed8ab0ef319b1ab0f16)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/657139/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-ironic-container-puppet.yaml'],1,9096b494185279b7e7cfcc21c965c08b8a8a0c26,bug/1824805-stable/stein," RabbitMQService: type: ../rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml properties: ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} DefaultPasswords: {get_param: DefaultPasswords} EndpointMap: {get_param: EndpointMap} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} global_config_settings: {get_attr: [RabbitMQService, role_data, global_config_settings]} port: {get_attr: [RabbitMQService, role_data, global_config_settings, 'oslo_messaging_rpc_port']}"," port: {get_attr: [NovaBase, role_data, config_settings, 'nova::rabbit_port']}",12,1
openstack%2Fos-loganalyze~master~Ief8522fedd711ee3f922c4f58c639f5e6dbb5083,openstack/os-loganalyze,master,Ief8522fedd711ee3f922c4f58c639f5e6dbb5083,Add support for Senlin,MERGED,2018-11-06 18:58:28.000000000,2019-05-05 16:25:41.000000000,2019-05-05 16:25:41.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 7069}, {'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 24162}, {'_account_id': 25674}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-11-06 18:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-loganalyze/commit/3edaf305632886e56f0a3f910f3f9eb86b0809bd', 'message': 'Add support for Senlin\n\nDepends-On: https://review.openstack.org/#/c/615688/\nChange-Id: Ief8522fedd711ee3f922c4f58c639f5e6dbb5083\n'}, {'number': 2, 'created': '2019-04-21 03:57:19.000000000', 'files': ['os_loganalyze/filter.py'], 'web_link': 'https://opendev.org/openstack/os-loganalyze/commit/5ec0b46df6ff55f533baf659d88247c043c26dfe', 'message': 'Add support for Senlin\n\nDepends-On: https://review.opendev.org/#/c/615688/\nChange-Id: Ief8522fedd711ee3f922c4f58c639f5e6dbb5083\n'}]",0,615977,5ec0b46df6ff55f533baf659d88247c043c26dfe,18,10,2,22623,,,0,"Add support for Senlin

Depends-On: https://review.opendev.org/#/c/615688/
Change-Id: Ief8522fedd711ee3f922c4f58c639f5e6dbb5083
",git fetch https://review.opendev.org/openstack/os-loganalyze refs/changes/77/615977/1 && git format-patch -1 --stdout FETCH_HEAD,['os_loganalyze/filter.py'],1,3edaf305632886e56f0a3f910f3f9eb86b0809bd,, r'ceil|key|sah|des|tr|sl)' # openstack logs, r'ceil|key|sah|des|tr)' # openstack logs,1,1
openstack%2Fpuppet-ceph~stable%2Fluminous~I11f134bed59da706a03ce4a70d941145c16f8175,openstack/puppet-ceph,stable/luminous,I11f134bed59da706a03ce4a70d941145c16f8175,Resolve puppet overwriting a pre-existing bootstrap-osd auth entry,MERGED,2019-04-29 10:07:01.000000000,2019-05-05 16:09:28.000000000,2019-05-05 16:09:28.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 19564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-29 10:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/2845668e4aa57bbbfc988f1ad26e3c7eecf06a59', 'message': 'Resolve puppet overwriting a pre-existing bootstrap-osd auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. puppet-ceph has been overwriting this keyring in memory and\non the filesystem. This patch updates ceph::osd to exract the\nclient keyring from memory and write it to the filesystem. This will\nmeans ceph::key will not need to create the client.bootstrap-osd keyring.\n\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\nPartial-bug: 1769722\n'}, {'number': 2, 'created': '2019-05-03 16:39:17.000000000', 'files': ['manifests/osd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/372379bfe62a7812105c030ea5908086e5462831', 'message': 'Resolve puppet overwriting a pre-existing bootstrap-osd auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. puppet-ceph has been overwriting this keyring in memory and\non the filesystem. This patch updates ceph::osd to exract the\nclient keyring from memory and write it to the filesystem. This will\nmeans ceph::key will not need to create the client.bootstrap-osd keyring.\n\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\nPartial-bug: 1769722\n(cherry picked from commit d833c03b975c922a28281918a2ac71a3dd7a2104)\n'}]",0,656282,372379bfe62a7812105c030ea5908086e5462831,10,4,2,6796,,,0,"Resolve puppet overwriting a pre-existing bootstrap-osd auth entry

Ceph jewel creates the client.bootstrap-osd auth entry when the cluster
is created. puppet-ceph has been overwriting this keyring in memory and
on the filesystem. This patch updates ceph::osd to exract the
client keyring from memory and write it to the filesystem. This will
means ceph::key will not need to create the client.bootstrap-osd keyring.

Change-Id: I11f134bed59da706a03ce4a70d941145c16f8175
Partial-bug: 1769722
(cherry picked from commit d833c03b975c922a28281918a2ac71a3dd7a2104)
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/82/656282/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/osd.pp'],1,2845668e4aa57bbbfc988f1ad26e3c7eecf06a59,bug/1769722," #name of the bootstrap osd keyring $bootstrap_osd_keyring = ""/var/lib/ceph/bootstrap-osd/${cluster_name}.keyring"" exec { ""extract-bootstrap-osd-keyring-${name}"": command => ""/bin/true # comment to satisfy puppet syntax requirements ceph auth get client.bootstrap-osd > ${bootstrap_osd_keyring} "", creates => ""${bootstrap_osd_keyring}"", } Exec[$ceph_check_udev] -> Exec[""extract-bootstrap-osd-keyring-${name}""] Exec[""extract-bootstrap-osd-keyring-${name}""] -> Exec[$ceph_prepare] ", Exec[$ceph_check_udev] -> Exec[$ceph_prepare],11,1
openstack%2Fpuppet-ceph~stable%2Fjewel~I11f134bed59da706a03ce4a70d941145c16f8175,openstack/puppet-ceph,stable/jewel,I11f134bed59da706a03ce4a70d941145c16f8175,Resolve puppet overwriting a pre-existing bootstrap-osd auth entry,MERGED,2019-04-29 10:07:20.000000000,2019-05-05 16:08:43.000000000,2019-05-05 16:08:43.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 19564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-29 10:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/4cc1abbf58b4b78737aec145f4b1feec6d51fc6a', 'message': 'Resolve puppet overwriting a pre-existing bootstrap-osd auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. puppet-ceph has been overwriting this keyring in memory and\non the filesystem. This patch updates ceph::osd to exract the\nclient keyring from memory and write it to the filesystem. This will\nmeans ceph::key will not need to create the client.bootstrap-osd keyring.\n\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\nPartial-bug: 1769722\n'}, {'number': 2, 'created': '2019-05-03 16:39:33.000000000', 'files': ['manifests/osd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/bceeedadb4c20772dfc8f92c261054be073d0d42', 'message': 'Resolve puppet overwriting a pre-existing bootstrap-osd auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. puppet-ceph has been overwriting this keyring in memory and\non the filesystem. This patch updates ceph::osd to exract the\nclient keyring from memory and write it to the filesystem. This will\nmeans ceph::key will not need to create the client.bootstrap-osd keyring.\n\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\nPartial-bug: 1769722\n(cherry picked from commit d833c03b975c922a28281918a2ac71a3dd7a2104)\n'}]",0,656283,bceeedadb4c20772dfc8f92c261054be073d0d42,10,4,2,6796,,,0,"Resolve puppet overwriting a pre-existing bootstrap-osd auth entry

Ceph jewel creates the client.bootstrap-osd auth entry when the cluster
is created. puppet-ceph has been overwriting this keyring in memory and
on the filesystem. This patch updates ceph::osd to exract the
client keyring from memory and write it to the filesystem. This will
means ceph::key will not need to create the client.bootstrap-osd keyring.

Change-Id: I11f134bed59da706a03ce4a70d941145c16f8175
Partial-bug: 1769722
(cherry picked from commit d833c03b975c922a28281918a2ac71a3dd7a2104)
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/83/656283/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/osd.pp'],1,4cc1abbf58b4b78737aec145f4b1feec6d51fc6a,bug/1769722," #name of the bootstrap osd keyring $bootstrap_osd_keyring = ""/var/lib/ceph/bootstrap-osd/${cluster_name}.keyring"" exec { ""extract-bootstrap-osd-keyring-${name}"": command => ""/bin/true # comment to satisfy puppet syntax requirements ceph auth get client.bootstrap-osd > ${bootstrap_osd_keyring} "", creates => ""${bootstrap_osd_keyring}"", } Exec[$ceph_check_udev] -> Exec[""extract-bootstrap-osd-keyring-${name}""] Exec[""extract-bootstrap-osd-keyring-${name}""] -> Exec[$ceph_prepare] ", Exec[$ceph_check_udev] -> Exec[$ceph_prepare],11,1
openstack%2Fplacement~master~I62921ef9ee51c391bbd2b4e39941df5b68a9a908,openstack/placement,master,I62921ef9ee51c391bbd2b4e39941df5b68a9a908,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:40:46.000000000,2019-05-05 14:34:16.000000000,2019-05-05 14:34:16.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-23 11:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/2e6a84f964150c4f7cb489d32fdb7cea0767a771', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I62921ef9ee51c391bbd2b4e39941df5b68a9a908\n'}, {'number': 2, 'created': '2019-04-29 05:06:17.000000000', 'files': ['doc/source/contributor/contributing.rst', 'doc/source/specs/train/approved/2005297-negative-aggregate-membership.rst', 'doc/source/index.rst', 'README.rst', 'doc/source/contributor/goals.rst', 'releasenotes/notes/stein-prelude-779b0dbfe65cf9ac.yaml', 'doc/source/usage/provider-tree.rst', 'tox.ini', 'doc/source/contributor/quick-dev.rst', 'doc/source/upgrade/to-stein.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/a2513d8ea6bb19bbd1e65196ccf45ee5a637259c', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I62921ef9ee51c391bbd2b4e39941df5b68a9a908\n'}]",6,655095,a2513d8ea6bb19bbd1e65196ccf45ee5a637259c,15,9,2,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I62921ef9ee51c391bbd2b4e39941df5b68a9a908
",git fetch https://review.opendev.org/openstack/placement refs/changes/95/655095/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'doc/source/index.rst', 'README.rst', 'releasenotes/notes/stein-prelude-779b0dbfe65cf9ac.yaml', 'tox.ini', 'doc/source/contributor/quick-dev.rst', 'doc/source/upgrade/to-stein.rst']",7,2e6a84f964150c4f7cb489d32fdb7cea0767a771,,.. _mysql-migrate-db.sh: https://opendev.org/openstack/placement/plain/tools/mysql-migrate-db.sh .. _postgresql-migrate-db.sh: https://opendev.org/openstack/placement/plain/tools/postgresql-migrate-db.sh,.. _mysql-migrate-db.sh: https://git.openstack.org/cgit/openstack/placement/plain/tools/mysql-migrate-db.sh .. _postgresql-migrate-db.sh: https://git.openstack.org/cgit/openstack/placement/plain/tools/postgresql-migrate-db.sh,10,10
openstack%2Fnova~master~I73f9dacd912331d209a6fa04eaf5591d94d720f2,openstack/nova,master,I73f9dacd912331d209a6fa04eaf5591d94d720f2,Make nova-tox-functional-py36 reusable,MERGED,2019-05-03 22:26:56.000000000,2019-05-05 14:34:12.000000000,2019-05-05 14:34:12.000000000,"[{'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-03 22:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f614b05d57ed3e1eda08dc18c5fdca9af4c2187b', 'message': ""WIP: Make nova-tox-functional-py36 reusable\n\nWe'd like placement to be able to run this job itself. Instead of\nduplicating it, we can simply use it directly. However, according\nto discussions with the infra gang, to ensure that works properly\nwe need to make openstack/nova a required project and explicitly\nset zuul_work_dir. These are the default values already when\nused from nova itself.\n\nChange-Id: I73f9dacd912331d209a6fa04eaf5591d94d720f2\nStory: 2005562\n""}, {'number': 2, 'created': '2019-05-03 23:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da908d69cfd444859ad8b3a66c986f1d1e832e3d', 'message': ""Make nova-tox-functional-py36 reusable\n\nWe'd like placement to be able to run this job itself. Instead of\nduplicating it, we can simply use it directly. However, according\nto discussions with the infra gang, to ensure that works properly\nwe need to make openstack/nova a required project and explicitly\nset zuul_work_dir. These are the default values already when\nused from nova itself.\n\nChange-Id: I73f9dacd912331d209a6fa04eaf5591d94d720f2\nStory: 2005562\n""}, {'number': 3, 'created': '2019-05-04 16:51:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/2860bef70a6ce1fd6cc1f7bcd4f23778addc51cc', 'message': ""Make nova-tox-functional-py36 reusable\n\nWe'd like placement to be able to run this job itself. Instead of\nduplicating it, we can simply use it directly. However, according\nto discussions with the infra gang, to ensure that works properly\nwe need to make openstack/nova a required project and explicitly\nset zuul_work_dir. These are the default values already when\nused from nova itself.\n\nChange-Id: I73f9dacd912331d209a6fa04eaf5591d94d720f2\nStory: 2005562\n""}]",2,657074,2860bef70a6ce1fd6cc1f7bcd4f23778addc51cc,40,14,3,11564,,,0,"Make nova-tox-functional-py36 reusable

We'd like placement to be able to run this job itself. Instead of
duplicating it, we can simply use it directly. However, according
to discussions with the infra gang, to ensure that works properly
we need to make openstack/nova a required project and explicitly
set zuul_work_dir. These are the default values already when
used from nova itself.

Change-Id: I73f9dacd912331d209a6fa04eaf5591d94d720f2
Story: 2005562
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/657074/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f614b05d57ed3e1eda08dc18c5fdca9af4c2187b,story/2005562, - openstack/nova zuul_work_dir: src/opendev.org/openstack/nova,,2,0
openstack%2Ftripleo-common~master~I16742ca8ecb748046e64d6849cdff00ee8036e2e,openstack/tripleo-common,master,I16742ca8ecb748046e64d6849cdff00ee8036e2e,Run ansible before scale down,MERGED,2019-04-09 19:03:26.000000000,2019-05-05 14:29:28.000000000,2019-05-04 16:53:51.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-04-09 19:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/83c0609a452fa23bdcf680c208bae470a79b7e37', 'message': 'WIP - Run ansible before scale down\n\nblueprint scale-down-tasks\nChange-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e\n'}, {'number': 2, 'created': '2019-04-10 18:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/49efd5ce2f60c61e7bb3e6e3dc8922164a10e4de', 'message': 'WIP - Run ansible before scale down\n\nblueprint scale-down-tasks\nChange-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e\n'}, {'number': 3, 'created': '2019-04-10 19:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7120887a5062a607b233aba4ee30caf004d16352', 'message': 'WIP - Run ansible before scale down\n\nblueprint scale-down-tasks\nChange-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e\n'}, {'number': 4, 'created': '2019-04-10 20:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1cc6d3a9a6413a5ea46ee874e959e482241bd7ca', 'message': 'WIP - Run ansible before scale down\n\nblueprint scale-down-tasks\nChange-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e\n'}, {'number': 5, 'created': '2019-04-10 21:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/190557312012b51749ce9cc62fb3b44a83ceb35c', 'message': 'WIP - Run ansible before scale down\n\nblueprint scale-down-tasks\nChange-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e\n'}, {'number': 6, 'created': '2019-04-10 21:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/92b6c70e710478280ce9ed17c5fe0247c46e63f6', 'message': 'WIP - Run ansible before scale down\n\nblueprint scale-down-tasks\nDepends-On: I29835c2724b5de884e9825e084780c36837bff84\nChange-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e\n'}, {'number': 7, 'created': '2019-04-10 21:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d39763685be5f8d866dc6c05e834eac2a26820c1', 'message': 'WIP - Run ansible before scale down\n\nblueprint scale-down-tasks\nDepends-On: I29835c2724b5de884e9825e084780c36837bff84\nChange-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e\n'}, {'number': 8, 'created': '2019-04-11 02:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3e3bcec5c09129133922ed9ec1146d700194aefd', 'message': 'WIP - Run ansible before scale down\n\nThis patch modifies the scale workbook, to add a new workflow which\nruns Ansible tasks before removing the servers during a scale down.\n\nblueprint scale-down-tasks\nDepends-On: I29835c2724b5de884e9825e084780c36837bff84\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n\nChange-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e\n'}, {'number': 9, 'created': '2019-04-18 23:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/82e5e63222ff358db4607d4b627ea57315017aad', 'message': 'Run ansible before scale down\n\nThis patch modifies the scale workbook, to add a new workflow which\nruns Ansible tasks before removing the servers during a scale down.\n\nblueprint scale-down-tasks\nDepends-On: I29835c2724b5de884e9825e084780c36837bff84\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n\nChange-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e\n'}, {'number': 10, 'created': '2019-04-19 02:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/978aeed859b182be06090e318aec93a770aba05b', 'message': 'Run ansible before scale down\n\nThis patch modifies the scale workbook, to add a new workflow which\nruns Ansible tasks before removing the servers during a scale down.\n\nblueprint scale-down-tasks\nDepends-On: I29835c2724b5de884e9825e084780c36837bff84\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n\nChange-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e\n'}, {'number': 11, 'created': '2019-04-22 13:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2c8fd31d7fdb76f447544147cc915ad49533dbf2', 'message': 'Run ansible before scale down\n\nThis patch modifies the scale workbook, to add a new workflow which\nruns Ansible tasks before removing the servers during a scale down.\n\nblueprint scale-down-tasks\nDepends-On: I29835c2724b5de884e9825e084780c36837bff84\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n\nChange-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e\n'}, {'number': 12, 'created': '2019-04-22 21:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b1678396c168d70de2b013fe3887555dcc50f15e', 'message': 'Run ansible before scale down\n\nThis patch modifies the scale workbook, to add a new workflow which\nruns Ansible tasks before removing the servers during a scale down.\n\nblueprint scale-down-tasks\nDepends-On: I29835c2724b5de884e9825e084780c36837bff84\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n\nChange-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e\n'}, {'number': 13, 'created': '2019-04-22 21:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ad8402ae8116dd930155a679709d6670a2116760', 'message': 'Run ansible before scale down\n\nThis patch modifies the scale workbook, to add a new workflow which\nruns Ansible tasks before removing the servers during a scale down.\n\nblueprint scale-down-tasks\nDepends-On: I29835c2724b5de884e9825e084780c36837bff84\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n\nChange-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e\n'}, {'number': 14, 'created': '2019-05-02 06:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7797351af7607afc7153afde1af6b8f46ca2c182', 'message': 'Run ansible before scale down\n\nThis patch modifies the scale workbook, to add a new workflow which\nruns Ansible tasks before removing the servers during a scale down.\n\nblueprint scale-down-tasks\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n\nChange-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e\n'}, {'number': 15, 'created': '2019-05-03 23:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7de4b31b2a0c2e871c4ea63a9fb29289e5f81c59', 'message': 'Run ansible before scale down\n\nThis patch modifies the scale workbook, to add a new workflow which\nruns Ansible tasks before removing the servers during a scale down.\n\nblueprint scale-down-tasks\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n\nChange-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e\n'}, {'number': 16, 'created': '2019-05-04 04:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7a6b58f24b5fba378d1537389ebe951160b6d8ac', 'message': 'Run ansible before scale down\n\nThis patch modifies the scale workbook, to add a new workflow which\nruns Ansible tasks before removing the servers during a scale down.\n\nblueprint scale-down-tasks\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n\nChange-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e\n'}, {'number': 17, 'created': '2019-05-04 04:19:08.000000000', 'files': ['workbooks/scale.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/508324b1f4a397d6364322969fb3020e73ec6fe4', 'message': 'Run ansible before scale down\n\nThis patch modifies the scale workbook, to add a new workflow which\nruns Ansible tasks before removing the servers during a scale down.\n\nblueprint scale-down-tasks\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n\nChange-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e\n'}]",5,651355,508324b1f4a397d6364322969fb3020e73ec6fe4,54,6,17,3153,,,0,"Run ansible before scale down

This patch modifies the scale workbook, to add a new workflow which
runs Ansible tasks before removing the servers during a scale down.

blueprint scale-down-tasks
Co-Authored-By: Alex Schultz <aschultz@redhat.com>

Change-Id: I16742ca8ecb748046e64d6849cdff00ee8036e2e
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/55/651355/17 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/scale.yaml'],1,83c0609a452fa23bdcf680c208bae470a79b7e37,bp/scale-down-tasks, ansible_scale_down: tags: - tripleo-common-managed input: - container: overcloud - work_dir: /var/lib/mistral - plan_name: overcloud tasks: get_private_key: action: tripleo.validations.get_privkey on-success: scale_down scale_down: action: tripleo.ansible-playbook publish: output: <% task().result %> input: ssh_private_key: <% task(get_private_key).result %> verbosity: 1 remote_user: tripleo-admin become: true become_user: root playbook: <% $.get('work_dir') %>/<% $.get('plan_name') %>/scale_playbook.yaml tags: down inventory: <% $.get('work_dir') %>/<% $.get('container') %>/tripleo-ansible-inventory.yaml use_openstack_credentials: true execution_id: <% execution().id %> ,,30,0
openstack%2Ftripleo-heat-templates~master~If9b9ffa4651133b966ea0c28069dd1a81f3b2df5,openstack/tripleo-heat-templates,master,If9b9ffa4651133b966ea0c28069dd1a81f3b2df5,Enable Podman Service For Lacking Roles,MERGED,2019-05-04 13:35:58.000000000,2019-05-05 14:28:37.000000000,2019-05-04 19:24:58.000000000,"[{'_account_id': 3153}, {'_account_id': 10068}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-04 13:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/361e969b31bd177220dc1f49caff5c131a912180', 'message': 'Enable Podman Service For NFV Roles\n\nComputeOvsDpdkSriov and ComputeOvsDpdkSriovRT roles do not include\nOS::TripleO::Services::Podman which may cause Overcloud deployments to\nfail.\n\nAdding Podman service to be aligned with the rest of the roles.\n\nChange-Id: If9b9ffa4651133b966ea0c28069dd1a81f3b2df5\n'}, {'number': 2, 'created': '2019-05-04 14:19:02.000000000', 'files': ['roles/ComputeOvsDpdkSriovRT.yaml', 'roles/CellController.yaml', 'roles/ComputeOvsDpdkSriov.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/894481fafe4028ba41eec881605a09f2b08492e5', 'message': 'Enable Podman Service For Lacking Roles\n\nComputeOvsDpdkSriov, ComputeOvsDpdkSriovRT and CellController roles do\nnot include OS::TripleO::Services::Podman which may cause Overcloud deployments to\nfail.\n\nAdding Podman service to these roles in order to be aligned with the rest of the roles.\n\nChange-Id: If9b9ffa4651133b966ea0c28069dd1a81f3b2df5\n'}]",0,657118,894481fafe4028ba41eec881605a09f2b08492e5,11,5,2,28245,,,0,"Enable Podman Service For Lacking Roles

ComputeOvsDpdkSriov, ComputeOvsDpdkSriovRT and CellController roles do
not include OS::TripleO::Services::Podman which may cause Overcloud deployments to
fail.

Adding Podman service to these roles in order to be aligned with the rest of the roles.

Change-Id: If9b9ffa4651133b966ea0c28069dd1a81f3b2df5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/657118/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ComputeOvsDpdkSriovRT.yaml', 'roles/ComputeOvsDpdkSriov.yaml']",2,361e969b31bd177220dc1f49caff5c131a912180,bug/1827724, - OS::TripleO::Services::Podman,,2,0
openstack%2Foctavia~stable%2Fqueens~I05b31ba628bafeefec36cc5c000dae1aefb63d67,openstack/octavia,stable/queens,I05b31ba628bafeefec36cc5c000dae1aefb63d67,Fix IPv6 in Active/Standby topology on CentOS,MERGED,2019-04-29 12:21:03.000000000,2019-05-05 11:28:36.000000000,2019-05-05 11:28:36.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-29 12:21:03.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/rh_plug_vip_ethX.conf.j2', 'releasenotes/notes/fix-active-standby-in-centos-4e47140e0e139de8.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/de4eeff89a1c5ad7b4bf7338b1a13657cc0f56a7', 'message': 'Fix IPv6 in Active/Standby topology on CentOS\n\nAvoid duplicated IPv6 VIP addresses on CentOS in Active/Standby mode,\nKeepalived will set/unset the VIP address.\n\nStory: 2005365\nTask: 30340\n\nChange-Id: I05b31ba628bafeefec36cc5c000dae1aefb63d67\n(cherry picked from commit 951afb9a0a94413f8d452fa5516cf4dc412968a7)\n'}]",0,656302,de4eeff89a1c5ad7b4bf7338b1a13657cc0f56a7,7,3,1,29244,,,0,"Fix IPv6 in Active/Standby topology on CentOS

Avoid duplicated IPv6 VIP addresses on CentOS in Active/Standby mode,
Keepalived will set/unset the VIP address.

Story: 2005365
Task: 30340

Change-Id: I05b31ba628bafeefec36cc5c000dae1aefb63d67
(cherry picked from commit 951afb9a0a94413f8d452fa5516cf4dc412968a7)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/02/656302/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/templates/rh_plug_vip_ethX.conf.j2', 'releasenotes/notes/fix-active-standby-in-centos-4e47140e0e139de8.yaml']",2,de4eeff89a1c5ad7b4bf7338b1a13657cc0f56a7,centos_active_standby-stable/queens,--- fixes: - | Fixed duplicated IPv6 addresses in Active/Standby mode in CentOS amphorae. ,,6,0
openstack%2Foctavia~stable%2Frocky~I05b31ba628bafeefec36cc5c000dae1aefb63d67,openstack/octavia,stable/rocky,I05b31ba628bafeefec36cc5c000dae1aefb63d67,Fix IPv6 in Active/Standby topology on CentOS,MERGED,2019-04-29 12:20:47.000000000,2019-05-05 11:28:30.000000000,2019-05-05 11:28:30.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-29 12:20:47.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/rh_plug_vip_ethX.conf.j2', 'releasenotes/notes/fix-active-standby-in-centos-4e47140e0e139de8.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/cedb553b144688b0de6440e0e1a5eed0ff838b51', 'message': 'Fix IPv6 in Active/Standby topology on CentOS\n\nAvoid duplicated IPv6 VIP addresses on CentOS in Active/Standby mode,\nKeepalived will set/unset the VIP address.\n\nStory: 2005365\nTask: 30340\n\nChange-Id: I05b31ba628bafeefec36cc5c000dae1aefb63d67\n(cherry picked from commit 951afb9a0a94413f8d452fa5516cf4dc412968a7)\n'}]",0,656301,cedb553b144688b0de6440e0e1a5eed0ff838b51,7,3,1,29244,,,0,"Fix IPv6 in Active/Standby topology on CentOS

Avoid duplicated IPv6 VIP addresses on CentOS in Active/Standby mode,
Keepalived will set/unset the VIP address.

Story: 2005365
Task: 30340

Change-Id: I05b31ba628bafeefec36cc5c000dae1aefb63d67
(cherry picked from commit 951afb9a0a94413f8d452fa5516cf4dc412968a7)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/01/656301/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/templates/rh_plug_vip_ethX.conf.j2', 'releasenotes/notes/fix-active-standby-in-centos-4e47140e0e139de8.yaml']",2,cedb553b144688b0de6440e0e1a5eed0ff838b51,centos_active_standby-stable/rocky,--- fixes: - | Fixed duplicated IPv6 addresses in Active/Standby mode in CentOS amphorae. ,,6,0
openstack%2Foctavia~stable%2Fqueens~I41c9bedd8a3452513af3d409fbacd65ea287f02a,openstack/octavia,stable/queens,I41c9bedd8a3452513af3d409fbacd65ea287f02a,Fix listener API handling of None/null updates,MERGED,2019-04-26 00:03:40.000000000,2019-05-05 11:20:00.000000000,2019-05-05 11:19:59.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-26 00:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/32999e58bfe10f0070d6fa0d7cb147c4fabc4795', 'message': 'Fix listener API handling of None/null updates\n\nThe current listener API does not properly handle clearing/reseting\nvalues on update. Some integer only fields, such as connection-limit,\nwill accept null, but will store the value as ""None"". These will\nwill cause failures updating the amphora configuration.\n\nThis patch corrects this to appropriately handle None/null updates\nto the listener parameters.\n\nChange-Id: I41c9bedd8a3452513af3d409fbacd65ea287f02a\nStory: 2005374\nTask: 30352\n(cherry picked from commit 930a3236bf7fd341b32ba41b2c99cd3ad832d709)\n'}, {'number': 2, 'created': '2019-04-26 15:55:02.000000000', 'files': ['releasenotes/notes/fix-listener-API-update-with-null/None-fde2ffab82e783a4.yaml', 'octavia/common/constants.py', 'octavia/api/v2/types/listener.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d086b3a98b7a14be4393ac997f18cdc504396c32', 'message': 'Fix listener API handling of None/null updates\n\nThe current listener API does not properly handle clearing/reseting\nvalues on update. Some integer only fields, such as connection-limit,\nwill accept null, but will store the value as ""None"". These will\nwill cause failures updating the amphora configuration.\n\nThis patch corrects this to appropriately handle None/null updates\nto the listener parameters.\n\nChange-Id: I41c9bedd8a3452513af3d409fbacd65ea287f02a\nStory: 2005374\nTask: 30352\n(cherry picked from commit 930a3236bf7fd341b32ba41b2c99cd3ad832d709)\n'}]",1,655815,d086b3a98b7a14be4393ac997f18cdc504396c32,13,4,2,11628,,,0,"Fix listener API handling of None/null updates

The current listener API does not properly handle clearing/reseting
values on update. Some integer only fields, such as connection-limit,
will accept null, but will store the value as ""None"". These will
will cause failures updating the amphora configuration.

This patch corrects this to appropriately handle None/null updates
to the listener parameters.

Change-Id: I41c9bedd8a3452513af3d409fbacd65ea287f02a
Story: 2005374
Task: 30352
(cherry picked from commit 930a3236bf7fd341b32ba41b2c99cd3ad832d709)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/15/655815/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-listener-API-update-with-null/None-fde2ffab82e783a4.yaml', 'octavia/common/constants.py', 'octavia/api/v2/types/listener.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/listener.py']",5,32999e58bfe10f0070d6fa0d7cb147c4fabc4795,," def _set_default_on_none(self, listener): """"""Reset settings to their default values if None/null was passed in A None/null value can be passed in to clear a value. PUT values that were not provided by the user have a type of wtypes.UnsetType. If the user is attempting to clear values, they should either be set to None (for example in the name field) or they should be reset to their default values. This method is intended to handle those values that need to be set back to a default value. """""" if listener.connection_limit is None: listener.connection_limit = constants.DEFAULT_CONNECTION_LIMIT self._set_default_on_none(listener) ",,51,2
openstack%2Fnova~master~Ic9d1fb364e06e08250c7c5d7d4bdb956cb60e678,openstack/nova,master,Ic9d1fb364e06e08250c7c5d7d4bdb956cb60e678,Add nova-status upgrade check for minimum required cinder API version,MERGED,2019-04-03 22:51:47.000000000,2019-05-05 10:57:59.000000000,2019-05-04 03:05:41.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-03 22:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d0c5bad12e9b9e9b66227da2d31ece277562145', 'message': 'Add nova-status upgrade check for minimum required cinder API version\n\nThe compute API has required cinder API >= 3.44 since Queens [1] for\nworking with the volume attachments API as part of the wider\nvolume multi-attach support.\n\nIn order to start removing the compatibility code in the compute API\nthis change adds an upgrade check for the minimum required cinder API\nversion (3.44).\n\n[1] Ifc01dbf98545104c998ab96f65ff8623a6db0f28\n\nChange-Id: Ic9d1fb364e06e08250c7c5d7d4bdb956cb60e678\n'}, {'number': 2, 'created': '2019-04-04 02:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef996b76d61fd1b2feb9079d434d89d3e477fd68', 'message': 'Add nova-status upgrade check for minimum required cinder API version\n\nThe compute API has required cinder API >= 3.44 since Queens [1] for\nworking with the volume attachments API as part of the wider\nvolume multi-attach support.\n\nIn order to start removing the compatibility code in the compute API\nthis change adds an upgrade check for the minimum required cinder API\nversion (3.44).\n\n[1] Ifc01dbf98545104c998ab96f65ff8623a6db0f28\n\nChange-Id: Ic9d1fb364e06e08250c7c5d7d4bdb956cb60e678\n'}, {'number': 3, 'created': '2019-04-26 20:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/478cf994571b31e6a27dbe11b809bff611dcdeb5', 'message': 'Add nova-status upgrade check for minimum required cinder API version\n\nThe compute API has required cinder API >= 3.44 since Queens [1] for\nworking with the volume attachments API as part of the wider\nvolume multi-attach support.\n\nIn order to start removing the compatibility code in the compute API\nthis change adds an upgrade check for the minimum required cinder API\nversion (3.44).\n\n[1] Ifc01dbf98545104c998ab96f65ff8623a6db0f28\n\nChange-Id: Ic9d1fb364e06e08250c7c5d7d4bdb956cb60e678\n'}, {'number': 4, 'created': '2019-05-03 15:53:19.000000000', 'files': ['nova/tests/unit/cmd/test_status.py', 'doc/source/cli/nova-status.rst', 'nova/cmd/status.py', 'releasenotes/notes/train-require-cinder-3.44-6965b902dd230413.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/270d5d351e1f1a3ac27aa91ff7ec756b672401df', 'message': 'Add nova-status upgrade check for minimum required cinder API version\n\nThe compute API has required cinder API >= 3.44 since Queens [1] for\nworking with the volume attachments API as part of the wider\nvolume multi-attach support.\n\nIn order to start removing the compatibility code in the compute API\nthis change adds an upgrade check for the minimum required cinder API\nversion (3.44).\n\n[1] Ifc01dbf98545104c998ab96f65ff8623a6db0f28\n\nChange-Id: Ic9d1fb364e06e08250c7c5d7d4bdb956cb60e678\n'}]",4,649759,270d5d351e1f1a3ac27aa91ff7ec756b672401df,69,16,4,6873,,,0,"Add nova-status upgrade check for minimum required cinder API version

The compute API has required cinder API >= 3.44 since Queens [1] for
working with the volume attachments API as part of the wider
volume multi-attach support.

In order to start removing the compatibility code in the compute API
this change adds an upgrade check for the minimum required cinder API
version (3.44).

[1] Ifc01dbf98545104c998ab96f65ff8623a6db0f28

Change-Id: Ic9d1fb364e06e08250c7c5d7d4bdb956cb60e678
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/649759/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/cmd/test_status.py', 'doc/source/cli/nova-status.rst', 'nova/cmd/status.py', 'releasenotes/notes/train-require-cinder-3.44-6965b902dd230413.yaml']",4,2d0c5bad12e9b9e9b66227da2d31ece277562145,drop-min-compute-multiattach,--- upgrade: - | The block-storage (cinder) version 3.44 API is now required when working with volume attachments. A check has been added to the ``nova-status upgrade check`` command for this requirement. ,,89,0
openstack%2Fswift~feature%2Flosf~I5b1a56dc88704b1865e5ad887cd41e591d2e27f2,openstack/swift,feature/losf,I5b1a56dc88704b1865e5ad887cd41e591d2e27f2,Change section to [object-rpcmanager],MERGED,2019-05-04 22:33:58.000000000,2019-05-05 10:19:21.000000000,2019-05-05 10:19:21.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-04 22:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d4b1b248710df5c26de5f24a06f80d253037a05f', 'message': 'Change section to [object-rpcmanager]\n\nI think it matches the command name better\n\nChange-Id: I5b1a56dc88704b1865e5ad887cd41e591d2e27f2\n'}, {'number': 2, 'created': '2019-05-04 23:12:45.000000000', 'files': ['bin/swift-object-rpcmanager'], 'web_link': 'https://opendev.org/openstack/swift/commit/cb6e1e385438420ef7288b910d4c4c6003dbb5e0', 'message': 'Change section to [object-rpcmanager]\n\nI think it matches the command name better\n\nChange-Id: I5b1a56dc88704b1865e5ad887cd41e591d2e27f2\n'}]",0,657169,cb6e1e385438420ef7288b910d4c4c6003dbb5e0,10,2,2,1179,,,0,"Change section to [object-rpcmanager]

I think it matches the command name better

Change-Id: I5b1a56dc88704b1865e5ad887cd41e591d2e27f2
",git fetch https://review.opendev.org/openstack/swift refs/changes/69/657169/2 && git format-patch -1 --stdout FETCH_HEAD,['bin/swift-object-rpcmanager'],1,d4b1b248710df5c26de5f24a06f80d253037a05f,losf-functests," run_daemon(ObjectRpcManager, conf_file, section_name='object-rpcmanager', **options)"," run_daemon(ObjectRpcManager, conf_file, **options)",2,1
openstack%2Fnova~master~I4181f39dea7eb10b84e6f5057938767b3e422aff,openstack/nova,master,I4181f39dea7eb10b84e6f5057938767b3e422aff,Delete the placement code,MERGED,2018-11-15 16:39:46.000000000,2019-05-05 10:14:52.000000000,2019-05-04 09:16:41.000000000,"[{'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 13692}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-15 16:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67720e7625d16ab2f73ecc8b61d3e80448405a6d', 'message': ""WIP: Delete the placement code\n\nDidn't get this done, but this is a first pass at removing the\nplacement code from nova to see what breaks and also to help\nvalidate the use of external placement for tests (the parent\npatch of this one).\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 2, 'created': '2018-11-15 17:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cd798a722cd24638a46aacf6a816d4aed5f8cca', 'message': ""WIP: Delete the placement code\n\nDidn't get this done, but this is a first pass at removing the\nplacement code from nova to see what breaks and also to help\nvalidate the use of external placement for tests (the parent\npatch of this one).\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 3, 'created': '2018-11-16 10:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8803faa470f194c5b05745ef3835ce41e5d51811', 'message': ""WIP: Delete the placement code\n\nDidn't get this done, but this is a first pass at removing the\nplacement code from nova to see what breaks and also to help\nvalidate the use of external placement for tests (the parent\npatch of this one).\n\nNote that the libvirt.test_driver.TestUpdateProviderTree test\nhas been entirely removed because it uses resource provider\nobjects directly. We will probably need to add some other\nkind of test in. I did not do that this in this instance\nbecause the a) this is exploring for now, b) I wasn't sure\nif we potentially had coverage elsewhere, c) I'm hoping\nsomeone else will do that.\n\nDepends on is to devstack with external placement\n\nDepends-On: https://review.openstack.org/600162\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 4, 'created': '2018-11-16 10:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cabcfa6836cc298f73ec0e02d671af4796aab4c6', 'message': ""WIP: Delete the placement code\n\nDidn't get this done, but this is a first pass at removing the\nplacement code from nova to see what breaks and also to help\nvalidate the use of external placement for tests (the parent\npatch of this one).\n\nNote that the libvirt.test_driver.TestUpdateProviderTree test\nhas been entirely removed because it uses resource provider\nobjects directly. We will probably need to add some other\nkind of test in. I did not do that this in this instance\nbecause the a) this is exploring for now, b) I wasn't sure\nif we potentially had coverage elsewhere, c) I'm hoping\nsomeone else will do that.\n\nDepends on is to devstack with external placement\n\nDepends-On: https://review.openstack.org/600162\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 5, 'created': '2018-11-16 10:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af2b8fa1305ed4a8be392a42c7912addff307f93', 'message': ""WIP: Delete the placement code\n\nDidn't get this done, but this is a first pass at removing the\nplacement code from nova to see what breaks and also to help\nvalidate the use of external placement for tests (the parent\npatch of this one).\n\nNote that the libvirt.test_driver.TestUpdateProviderTree test\nhas been entirely removed because it uses resource provider\nobjects directly. We will probably need to add some other\nkind of test in. I did not do that this in this instance\nbecause the a) this is exploring for now, b) I wasn't sure\nif we potentially had coverage elsewhere, c) I'm hoping\nsomeone else will do that.\n\nThis needs to depend on the devstack change with the\nexternal placement [1], but that is causing failure to merge\nissues from zuul, so for now going to leave it off.\n\n[1] https://review.openstack.org/600162\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 6, 'created': '2018-11-16 11:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7709790dcac9f0d43495598abcddbc04f9cb8a7', 'message': ""WIP: Delete the placement code\n\nDidn't get this done, but this is a first pass at removing the\nplacement code from nova to see what breaks and also to help\nvalidate the use of external placement for tests (the parent\npatch of this one).\n\nNote that the libvirt.test_driver.TestUpdateProviderTree test\nhas been entirely removed because it uses resource provider\nobjects directly. We will probably need to add some other\nkind of test in. I did not do that this in this instance\nbecause the a) this is exploring for now, b) I wasn't sure\nif we potentially had coverage elsewhere, c) I'm hoping\nsomeone else will do that.\n\nThis needs to depend on the devstack change with the\nexternal placement.\n\nDepends-On: https://review.openstack.org/600162\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 7, 'created': '2018-11-19 18:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9965953ec413f789289dfa54d6bce7a4590c319', 'message': ""WIP: Delete the placement code\n\nThis is a pass at removing the placement code from nova to see what\nbreaks and also to help validate the use of external placement for\ntests (the parent patch of this one).\n\nNote that the libvirt.test_driver.TestUpdateProviderTree test has\nbeen entirely removed because it uses resource provider objects\ndirectly. A separate patch is pending at\nhttps://review.openstack.org/#/c/618786/ to address this.\n\nnova-status has had the count resource providers check removed: it\nrelies on direct access to the placement database which we\npresumably do not wish to require. We'll need some other way to\naccomplish the same thing, if it is still required.\n\nSimilarly the migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\nDocs have been somewhat updated, to remove errors, but not to\ncompletely correct them. user and contributor docs remain, but as\nstubs with links to the new locations. Install and upgrade\ndocumentation is not (yet) updated as that will require more\nsignificant changes on the placement.  Policy doc handling for\nplacement is removed. Documentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nThis needs to depend on the devstack change with the\nexternal placement.\n\nDepends-On: https://review.openstack.org/600162\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 8, 'created': '2018-11-20 10:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3d67eded0ca7c1c770be140cc038df97381c11f', 'message': ""WIP: Delete the placement code\n\nThis is a pass at removing the placement code from nova to see what\nbreaks and also to help validate the use of external placement for\ntests (the parent patch of this one).\n\nNote that the libvirt.test_driver.TestUpdateProviderTree test has\nbeen entirely removed because it uses resource provider objects\ndirectly. A separate patch is pending at\nhttps://review.openstack.org/#/c/618786/ to address this.\n\nnova-status has had the count resource providers check removed: it\nrelies on direct access to the placement database which we\npresumably do not wish to require. We'll need some other way to\naccomplish the same thing, if it is still required.\n\nSimilarly the migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\nDocs have been somewhat updated, to remove errors, but not to\ncompletely correct them. user and contributor docs remain, but as\nstubs with links to the new locations. Install and upgrade\ndocumentation is not (yet) updated as that will require more\nsignificant changes on the placement.  Policy doc handling for\nplacement is removed. Documentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nThis needs to depend on the devstack change with the\nexternal placement.\n\nDepends-On: https://review.openstack.org/600162\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 9, 'created': '2018-11-20 12:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49500223173ce7a30e9bd5d2e6989e7c34da3dbc', 'message': ""WIP: Delete the placement code\n\nThis is a pass at removing the placement code from nova to see what\nbreaks and also to help validate the use of external placement for\ntests (the parent patch of this one).\n\nNote that the libvirt.test_driver.TestUpdateProviderTree test has\nbeen entirely removed because it uses resource provider objects\ndirectly. A separate patch is pending at\nhttps://review.openstack.org/#/c/618786/ to address this.\n\nnova-status has had the count resource providers check removed: it\nrelies on direct access to the placement database which we\npresumably do not wish to require. We'll need some other way to\naccomplish the same thing, if it is still required.\n\nSimilarly the migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\nDocs have been somewhat updated, to remove errors, but not to\ncompletely correct them. user and contributor docs remain, but as\nstubs with links to the new locations. Install and upgrade\ndocumentation is not (yet) updated as that will require more\nsignificant changes on the placement.  Policy doc handling for\nplacement is removed. Documentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nThis needs to depend on the devstack change with the\nexternal placement.\n\nDepends-On: https://review.openstack.org/600162\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 10, 'created': '2018-11-20 12:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23e895b9d8a34ae25b86806837b76cfefb5a0ff7', 'message': ""WIP: Delete the placement code\n\nThis is a pass at removing the placement code from nova to see what\nbreaks and also to help validate the use of external placement for\ntests (the parent patch of this one).\n\nnova-status has had the count resource providers check removed: it\nrelies on direct access to the placement database which we\npresumably do not wish to require. We'll need some other way to\naccomplish the same thing, if it is still required.\n\nSimilarly the migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\nDocs have been somewhat updated, to remove errors, but not to\ncompletely correct them. user and contributor docs remain, but as\nstubs with links to the new locations. Install and upgrade\ndocumentation is not (yet) updated as that will require more\nsignificant changes on the placement.  Policy doc handling for\nplacement is removed. Documentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nThis needs to depend on the devstack change with the\nexternal placement.\n\nDepends-On: https://review.openstack.org/600162\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 11, 'created': '2018-11-20 15:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6ebc67c23872852d9383bcb0ef76ed0ae8db877', 'message': ""WIP: Delete the placement code\n\nThis is a pass at removing the placement code from nova to see what\nbreaks and also to help validate the use of external placement for\ntests (the parent patch of this one).\n\nnova-status has had the count resource providers check removed: it\nrelies on direct access to the placement database which we\npresumably do not wish to require. We'll need some other way to\naccomplish the same thing, if it is still required.\n\nSimilarly the migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\nDocs have been somewhat updated, to remove errors, but not to\ncompletely correct them. user and contributor docs remain, but as\nstubs with links to the new locations. Install and upgrade\ndocumentation is not (yet) updated as that will require more\nsignificant changes on the placement.  Policy doc handling for\nplacement is removed. Documentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nThis needs to depend on the devstack change with the\nexternal placement.\n\nDepends-On: I0b217e7a8c68a637b7a3445f6c44b7574117e320\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 12, 'created': '2018-11-20 22:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2502d7c77af853efc7bc182fa193dbb77c09e9bb', 'message': ""WIP: Delete the placement code\n\nThis is a pass at removing the placement code from nova to see what\nbreaks and also to help validate the use of external placement for\ntests (the parent patch of this one).\n\nnova-status has had the count resource providers check removed: it\nrelies on direct access to the placement database which we\npresumably do not wish to require. We'll need some other way to\naccomplish the same thing, if it is still required.\n\nSimilarly the migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\nDocs have been somewhat updated, to remove errors, but not to\ncompletely correct them. user and contributor docs remain, but as\nstubs with links to the new locations. Install and upgrade\ndocumentation is not (yet) updated as that will require more\nsignificant changes on the placement.  Policy doc handling for\nplacement is removed. Documentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nThis needs to depend on the devstack change with the\nexternal placement.\n\nDepends-On: I0b217e7a8c68a637b7a3445f6c44b7574117e320\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 13, 'created': '2018-11-21 10:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9fadf0edbde9b797a358b71707df3a37aeead0f', 'message': ""WIP: Delete the placement code\n\nThis is a pass at removing the placement code from nova to see what\nbreaks and also to help validate the use of external placement for\ntests (the parent patch of this one).\n\nnova-status has had the count resource providers check removed: it\nrelies on direct access to the placement database which we\npresumably do not wish to require. We'll need some other way to\naccomplish the same thing, if it is still required.\n\nSimilarly the migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\nDocs have been somewhat updated, to remove errors, but not to\ncompletely correct them. user and contributor docs remain, but as\nstubs with links to the new locations. Install and upgrade\ndocumentation is not (yet) updated as that will require more\nsignificant changes on the placement.  Policy doc handling for\nplacement is removed. Documentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nThis needs to depend on the devstack change with the\nexternal placement.\n\nDepends-On: I0b217e7a8c68a637b7a3445f6c44b7574117e320\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 14, 'created': '2018-11-27 09:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4c19965f09f03ba0f1cb28c8664d7377180bc38', 'message': ""WIP: Delete the placement code\n\nThis is a pass at removing the placement code from nova to see what\nbreaks and also to help validate the use of external placement for\ntests (the parent patch of this one).\n\nnova-status has had the count resource providers check removed: it\nrelies on direct access to the placement database which we\npresumably do not wish to require. We'll need some other way to\naccomplish the same thing, if it is still required.\n\nSimilarly the migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\nDocs have been somewhat updated, to remove errors, but not to\ncompletely correct them. user and contributor docs remain, but as\nstubs with links to the new locations. Install and upgrade\ndocumentation is not (yet) updated as that will require more\nsignificant changes on the placement.  Policy doc handling for\nplacement is removed. Documentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nThis needs to depend on the devstack change with the\nexternal placement.\n\nDepends-On: I0b217e7a8c68a637b7a3445f6c44b7574117e320\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 15, 'created': '2018-11-27 10:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/100d785cd7b016d81ea66420923f385224167317', 'message': ""Delete the placement code\n\nThis is a pass at removing the placement code from nova to see what\nbreaks and also to help validate the use of external placement for\ntests (the parent patch of this one).\n\nnova-status has had the count resource providers check removed: it\nrelies on direct access to the placement database which we\npresumably do not wish to require. We'll need some other way to\naccomplish the same thing, if it is still required.\n\nSimilarly the migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\nDocs have been somewhat updated, to remove errors, but not to\ncompletely correct them. user and contributor docs remain, but as\nstubs with links to the new locations. Install and upgrade\ndocumentation is not (yet) updated as that will require more\nsignificant changes on the placement.  Policy doc handling for\nplacement is removed. Documentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nThis needs to depend on the devstack change with the\nexternal placement.\n\nDepends-On: I0b217e7a8c68a637b7a3445f6c44b7574117e320\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 16, 'created': '2018-11-28 03:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00d32efc62ab8bced2cb9cbe70ab748b4e913fe2', 'message': ""Delete the placement code\n\nThis is a pass at removing the placement code from nova to see what\nbreaks and also to help validate the use of external placement for\ntests (the parent patch of this one).\n\nnova-status has had the count resource providers check removed: it\nrelies on direct access to the placement database which we\npresumably do not wish to require. We'll need some other way to\naccomplish the same thing, if it is still required.\n\nSimilarly the migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\nDocs have been somewhat updated, to remove errors, but not to\ncompletely correct them. user and contributor docs remain, but as\nstubs with links to the new locations. Install and upgrade\ndocumentation is not (yet) updated as that will require more\nsignificant changes on the placement.  Policy doc handling for\nplacement is removed. Documentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nThis needs to depend on the devstack change with the\nexternal placement.\n\nDepends-On: I0b217e7a8c68a637b7a3445f6c44b7574117e320\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 17, 'created': '2018-11-28 10:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f9e20375e114922a6e34ee53333c1198e56a83d', 'message': ""Delete the placement code\n\nThis is a pass at removing the placement code from nova to see what\nbreaks and also to help validate the use of external placement for\ntests (the parent patch of this one).\n\nnova-status has had the count resource providers check removed: it\nrelies on direct access to the placement database which we\npresumably do not wish to require. We'll need some other way to\naccomplish the same thing, if it is still required.\n\nSimilarly the migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\nDocs have been somewhat updated, to remove errors, but not to\ncompletely correct them. user and contributor docs remain, but as\nstubs with links to the new locations. Install and upgrade\ndocumentation is not (yet) updated as that will require more\nsignificant changes on the placement.  Policy doc handling for\nplacement is removed. Documentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nThis needs to depend on the devstack change with the\nexternal placement.\n\nDepends-On: I0b217e7a8c68a637b7a3445f6c44b7574117e320\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 18, 'created': '2018-12-01 10:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8353846d9f77b4290cec90a95d394b146d674f64', 'message': ""Delete the placement code\n\nThis is a pass at removing the placement code from nova to see what\nbreaks and also to help validate the use of external placement for\ntests (the parent patch of this one).\n\nnova-status has had the count resource providers check removed: it\nrelies on direct access to the placement database which we\npresumably do not wish to require. We'll need some other way to\naccomplish the same thing, if it is still required.\n\nSimilarly the migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\nDocs have been somewhat updated, to remove errors, but not to\ncompletely correct them. user and contributor docs remain, but as\nstubs with links to the new locations. Install and upgrade\ndocumentation is not (yet) updated as that will require more\nsignificant changes on the placement.  Policy doc handling for\nplacement is removed. Documentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nThis needs to depend on the devstack change with the\nexternal placement.\n\nDepends-On: I0b217e7a8c68a637b7a3445f6c44b7574117e320\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 19, 'created': '2018-12-03 18:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae5f65db21d7ac3cdcd2108241a0168e458773ca', 'message': ""Delete the placement code\n\nThis is a pass at removing the placement code from nova to see what\nbreaks and also to help validate the use of external placement for\ntests (the parent patch of this one).\n\nnova-status has had the count resource providers check removed: it\nrelies on direct access to the placement database which we\npresumably do not wish to require. We'll need some other way to\naccomplish the same thing, if it is still required.\n\nSimilarly the migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\nDocs have been somewhat updated, to remove errors, but not to\ncompletely correct them. user and contributor docs remain, but as\nstubs with links to the new locations. Install and upgrade\ndocumentation is not (yet) updated as that will require more\nsignificant changes on the placement.  Policy doc handling for\nplacement is removed. Documentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nThis needs to depend on the devstack change with the\nexternal placement.\n\nDepends-On: I0b217e7a8c68a637b7a3445f6c44b7574117e320\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 20, 'created': '2018-12-04 10:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91e4b218be8560494fc2626c6cb58a2694582962', 'message': ""Delete the placement code\n\nThis is a pass at removing the placement code from nova to see what\nbreaks and also to help validate the use of external placement for\ntests (the parent patch of this one).\n\nnova-status has had the count resource providers check removed: it\nrelies on direct access to the placement database which we\npresumably do not wish to require. We'll need some other way to\naccomplish the same thing, if it is still required.\n\nSimilarly the migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\nDocs have been somewhat updated, to remove errors, but not to\ncompletely correct them. user and contributor docs remain, but as\nstubs with links to the new locations. Install and upgrade\ndocumentation is not (yet) updated as that will require more\nsignificant changes on the placement.  Policy doc handling for\nplacement is removed. Documentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nThis needs to depend on the devstack change with the\nexternal placement.\n\nDepends-On: I0b217e7a8c68a637b7a3445f6c44b7574117e320\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 21, 'created': '2018-12-10 11:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc11853d93481034efa0e2f2a5d64122f9a4c9a6', 'message': ""Delete the placement code\n\nThis is a pass at removing the placement code from nova to see what\nbreaks and also to help validate the use of external placement for\ntests (the parent patch of this one).\n\nnova-status has had the count resource providers check removed: it\nrelies on direct access to the placement database which we\npresumably do not wish to require. We'll need some other way to\naccomplish the same thing, if it is still required.\n\nSimilarly the migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\nDocs have been somewhat updated, to remove errors, but not to\ncompletely correct them. user and contributor docs remain, but as\nstubs with links to the new locations. Install and upgrade\ndocumentation is not (yet) updated as that will require more\nsignificant changes on the placement.  Policy doc handling for\nplacement is removed. Documentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nThis needs to depend on the devstack change with the\nexternal placement.\n\nDepends-On: I0b217e7a8c68a637b7a3445f6c44b7574117e320\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 22, 'created': '2018-12-10 19:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ef9371c5f64b84aab4899d5109e53d570424812', 'message': ""Delete the placement code\n\nThis is a pass at removing the placement code from nova to see what\nbreaks and also to help validate the use of external placement for\ntests (the parent patch of this one).\n\nnova-status has had the count resource providers check removed: it\nrelies on direct access to the placement database which we\npresumably do not wish to require. We'll need some other way to\naccomplish the same thing, if it is still required.\n\nSimilarly the migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\nDocs have been somewhat updated, to remove errors, but not to\ncompletely correct them. user and contributor docs remain, but as\nstubs with links to the new locations. Install and upgrade\ndocumentation is not (yet) updated as that will require more\nsignificant changes on the placement.  Policy doc handling for\nplacement is removed. Documentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nThis needs to depend on the devstack change with the\nexternal placement.\n\nDepends-On: I0b217e7a8c68a637b7a3445f6c44b7574117e320\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 23, 'created': '2018-12-11 10:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ca4767fe8e87c8b25fb438475bac4ede3a1a9a2', 'message': ""Delete the placement code\n\nThis is a pass at removing the placement code from nova to see what\nbreaks and also to help validate the use of external placement for\ntests (the parent patch of this one).\n\nnova-status has had the count resource providers check removed: it\nrelies on direct access to the placement database which we\npresumably do not wish to require. We'll need some other way to\naccomplish the same thing, if it is still required.\n\nSimilarly the migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\nDocs have been somewhat updated, to remove errors, but not to\ncompletely correct them. user and contributor docs remain, but as\nstubs with links to the new locations. Install and upgrade\ndocumentation is not (yet) updated as that will require more\nsignificant changes on the placement.  Policy doc handling for\nplacement is removed. Documentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nThis needs to depend on the devstack change with the\nexternal placement.\n\nDepends-On: I0b217e7a8c68a637b7a3445f6c44b7574117e320\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 24, 'created': '2018-12-12 18:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bdc88227a0b82bf611f2c3c838904c1b2f3d116e', 'message': ""Delete the placement code\n\nThis is a pass at removing the placement code from nova to see what\nbreaks and also to help validate the use of external placement for\ntests (the parent patch of this one).\n\nnova-status has had the count resource providers check removed: it\nrelies on direct access to the placement database which we\npresumably do not wish to require. We'll need some other way to\naccomplish the same thing, if it is still required.\n\nSimilarly the migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\nDocs have been somewhat updated, to remove errors, but not to\ncompletely correct them. user and contributor docs remain, but as\nstubs with links to the new locations. Install and upgrade\ndocumentation is not (yet) updated as that will require more\nsignificant changes on the placement.  Policy doc handling for\nplacement is removed. Documentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 25, 'created': '2018-12-18 10:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1504dccadc74e4da7793459cc1921e5debfab87', 'message': ""Delete the placement code\n\nThis is a pass at removing the placement code from nova to see what\nbreaks and also to help validate the use of external placement for\ntests (the parent patch of this one).\n\nnova-status has had the count resource providers check removed: it\nrelies on direct access to the placement database which we\npresumably do not wish to require. We'll need some other way to\naccomplish the same thing, if it is still required.\n\nSimilarly the migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\nDocs have been somewhat updated, to remove errors, but not to\ncompletely correct them. user and contributor docs remain, but as\nstubs with links to the new locations. Install and upgrade\ndocumentation is not (yet) updated as that will require more\nsignificant changes on the placement.  Policy doc handling for\nplacement is removed. Documentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 26, 'created': '2019-01-03 11:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30be306468aba7c7805906ec2c3ae01c1b31db73', 'message': 'Delete the placement code\n\nThis is the first in a series of changes to remove the placement\ncode from nova. This change primarily removes code and makes\nminor fixes to the docs (to remove errors) and test tooling.\nMajor changes to documentation, notably install and upgrade\ndocumentation, will follow.\n\nA database migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\ntox.ini is updated to remove the group_regex required by the\nplacement gabbi tests. This should probably have gone when the\nplacement functional tests went, but was overlooked.\n\nA release note is added as a placeholder. It\'s not clear how much\ndetail is required. Do we want to explain the various reasons why in\nthe note or is it sufficient to say ""it\'s happened""?\n\nDocumentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n'}, {'number': 27, 'created': '2019-01-08 13:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bf79236a39aa4417fea39ab1f900bf150b05764', 'message': 'Delete the placement code\n\nThis is the first in a series of changes to remove the placement\ncode from nova. This change primarily removes code and makes\nminor fixes to the docs (to remove errors) and test tooling.\nMajor changes to documentation, notably install and upgrade\ndocumentation, will follow.\n\nA database migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\ntox.ini is updated to remove the group_regex required by the\nplacement gabbi tests. This should probably have gone when the\nplacement functional tests went, but was overlooked.\n\nA release note is added as a placeholder. It\'s not clear how much\ndetail is required. Do we want to explain the various reasons why in\nthe note or is it sufficient to say ""it\'s happened""?\n\nDocumentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n'}, {'number': 28, 'created': '2019-01-31 10:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4840251feff2b6868b6072d5d81c7b740103a579', 'message': 'Delete the placement code\n\nThis is the first in a series of changes to remove the placement\ncode from nova. This change primarily removes code and makes\nminor fixes to the docs (to remove errors) and test tooling.\nMajor changes to documentation, notably install and upgrade\ndocumentation, will follow.\n\nA database migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\ntox.ini is updated to remove the group_regex required by the\nplacement gabbi tests. This should probably have gone when the\nplacement functional tests went, but was overlooked.\n\nA release note is added as a placeholder. It\'s not clear how much\ndetail is required. Do we want to explain the various reasons why in\nthe note or is it sufficient to say ""it\'s happened""?\n\nDocumentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n'}, {'number': 29, 'created': '2019-02-04 09:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/558276d2285af9ef1d9b8117ff8476a65cc92485', 'message': 'Delete the placement code\n\nThis is the first in a series of changes to remove the placement\ncode from nova. This change primarily removes code and makes\nminor fixes to the docs (to remove errors) and test tooling.\nMajor changes to documentation, notably install and upgrade\ndocumentation, will follow.\n\nA database migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\ntox.ini is updated to remove the group_regex required by the\nplacement gabbi tests. This should probably have gone when the\nplacement functional tests went, but was overlooked.\n\nA release note is added as a placeholder. It\'s not clear how much\ndetail is required. Do we want to explain the various reasons why in\nthe note or is it sufficient to say ""it\'s happened""?\n\nDocumentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n'}, {'number': 30, 'created': '2019-03-23 10:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e185b7eed7b33e7c0830eed91d6074e8ce2ee7e0', 'message': 'Delete the placement code\n\nThis is the first in a series of changes to remove the placement\ncode from nova. This change primarily removes code and makes\nminor fixes to the docs (to remove errors) and test tooling.\nMajor changes to documentation, notably install and upgrade\ndocumentation, will follow.\n\nA database migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved. Not sure of the correct way to deal with that, but\npresumably, by Stein people will have already done that migration?\n\nplacement-related configuration is not (yet) updated as there are\nmultiple types of placement conf: configuration for placement\nitself, and configuration for using placement.\n\ntox.ini is updated to remove the group_regex required by the\nplacement gabbi tests. This should probably have gone when the\nplacement functional tests went, but was overlooked.\n\nA release note is added as a placeholder. It\'s not clear how much\ndetail is required. Do we want to explain the various reasons why in\nthe note or is it sufficient to say ""it\'s happened""?\n\nDocumentation tuning will likely require a\nseries of changes on both sides (nova and placement) and plenty of\nhuman iteration to get it right. Getting it right in one fell swoop\nis unlikely.\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n'}, {'number': 31, 'created': '2019-03-23 11:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0dfe84c309685960cc8bea41d25bd32d5e4aaba', 'message': 'Delete the placement code\n\nThis finalizes the removal of the placement code from nova.\nThis change primarily removes code and makes fixes to cmd,\ntest and migration tooling to adapt to the removal.\n\nPlacement tests and documention were already removed in\nearly patches.\n\nA database migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved.\n\nplacement-related configuration is updated to only register those\nopts which are relevant on the nova side. This mostly means\nksa-related opts. placement-database configuration is removed\nfrom nova/conf/database.\n\ntox.ini is updated to remove the group_regex required by the\nplacement gabbi tests. This should probably have gone when the\nplacement functional tests went, but was overlooked.\n\nA release note is added which describes that this is cleanup,\nthe main action already happened.\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n'}, {'number': 32, 'created': '2019-03-23 11:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6902f841a5b75632dbc34813ce207744e3cd05d6', 'message': 'Delete the placement code\n\nThis finalizes the removal of the placement code from nova.\nThis change primarily removes code and makes fixes to cmd,\ntest and migration tooling to adapt to the removal.\n\nPlacement tests and documention were already removed in\nearly patches.\n\nA database migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved.\n\nplacement-related configuration is updated to only register those\nopts which are relevant on the nova side. This mostly means\nksa-related opts. placement-database configuration is removed\nfrom nova/conf/database.\n\ntox.ini is updated to remove the group_regex required by the\nplacement gabbi tests. This should probably have gone when the\nplacement functional tests went, but was overlooked.\n\nA release note is added which describes that this is cleanup,\nthe main action already happened.\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n'}, {'number': 33, 'created': '2019-03-23 17:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01084e1f8109bee2bc3166987e55298051ca3c77', 'message': 'Delete the placement code\n\nThis finalizes the removal of the placement code from nova.\nThis change primarily removes code and makes fixes to cmd,\ntest and migration tooling to adapt to the removal.\n\nPlacement tests and documention were already removed in\nearly patches.\n\nA database migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved.\n\nUnit tests which confirm that the default incomplete consumer\nuser and project id will be used when updating allcations are\nremoved. A functional test which does a similar thing is maintained\nbut its use of conf.placement.incomplete_* (now removed) is\nreplaced with a constant. The placement server, running in the\nfunctional test, provides its own config.\n\nplacement-related configuration is updated to only register those\nopts which are relevant on the nova side. This mostly means\nksa-related opts. placement-database configuration is removed\nfrom nova/conf/database.\n\ntox.ini is updated to remove the group_regex required by the\nplacement gabbi tests. This should probably have gone when the\nplacement functional tests went, but was overlooked.\n\nA release note is added which describes that this is cleanup,\nthe main action already happened.\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n'}, {'number': 34, 'created': '2019-03-25 19:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3bb5d51f331d89c58754aa37d9a77d0d804f4f4', 'message': ""Delete the placement code\n\nThis finalizes the removal of the placement code from nova.\nThis change primarily removes code and makes fixes to cmd,\ntest and migration tooling to adapt to the removal.\n\nPlacement tests and documention were already removed in\nearly patches.\n\nA database migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved.\n\nA functional test which confirms the default incomplete\nconsumer user and project id has been changes so its its use of\nconf.placement.incomplete_* (now removed) is replaced with a\nconstant. The placement server, running in the functional\ntest, provides its own config.\n\nplacement-related configuration is updated to only register those\nopts which are relevant on the nova side. This mostly means\nksa-related opts. placement-database configuration is removed\nfrom nova/conf/database.\n\ntox.ini is updated to remove the group_regex required by the\nplacement gabbi tests. This should probably have gone when the\nplacement functional tests went, but was overlooked.\n\nA release note is added which describes that this is cleanup,\nthe main action already happened, but points people to the\nnova to placement upgrade instructions in case they haven't\ndone it yet.\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 35, 'created': '2019-04-11 10:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7edffe3c2b9b58569c3d9fc11f9569dca5281e6', 'message': ""Delete the placement code\n\nThis finalizes the removal of the placement code from nova.\nThis change primarily removes code and makes fixes to cmd,\ntest and migration tooling to adapt to the removal.\n\nPlacement tests and documention were already removed in\nearly patches.\n\nA database migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved.\n\nA functional test which confirms the default incomplete\nconsumer user and project id has been changes so its its use of\nconf.placement.incomplete_* (now removed) is replaced with a\nconstant. The placement server, running in the functional\ntest, provides its own config.\n\nplacement-related configuration is updated to only register those\nopts which are relevant on the nova side. This mostly means\nksa-related opts. placement-database configuration is removed\nfrom nova/conf/database.\n\ntox.ini is updated to remove the group_regex required by the\nplacement gabbi tests. This should probably have gone when the\nplacement functional tests went, but was overlooked.\n\nA release note is added which describes that this is cleanup,\nthe main action already happened, but points people to the\nnova to placement upgrade instructions in case they haven't\ndone it yet.\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 36, 'created': '2019-04-16 10:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ece337b2ea2456f00357b6456fe6a0c05e7da2ae', 'message': ""Delete the placement code\n\nThis finalizes the removal of the placement code from nova.\nThis change primarily removes code and makes fixes to cmd,\ntest and migration tooling to adapt to the removal.\n\nPlacement tests and documention were already removed in\nearly patches.\n\nA database migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved.\n\nA functional test which confirms the default incomplete\nconsumer user and project id has been changes so its its use of\nconf.placement.incomplete_* (now removed) is replaced with a\nconstant. The placement server, running in the functional\ntest, provides its own config.\n\nplacement-related configuration is updated to only register those\nopts which are relevant on the nova side. This mostly means\nksa-related opts. placement-database configuration is removed\nfrom nova/conf/database.\n\ntox.ini is updated to remove the group_regex required by the\nplacement gabbi tests. This should probably have gone when the\nplacement functional tests went, but was overlooked.\n\nA release note is added which describes that this is cleanup,\nthe main action already happened, but points people to the\nnova to placement upgrade instructions in case they haven't\ndone it yet.\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}, {'number': 37, 'created': '2019-04-28 20:06:15.000000000', 'files': ['nova/api/openstack/placement/schemas/allocation.py', 'nova/api/openstack/placement/schemas/inventory.py', 'nova/tests/unit/policy_fixture.py', 'nova/api/openstack/placement/handlers/inventory.py', 'nova/api/openstack/placement/db_api.py', 'nova/api/openstack/placement/objects/consumer.py', 'nova/api/openstack/placement/policies/aggregate.py', 'nova/api/openstack/placement/deploy.py', 'nova/api/openstack/placement/schemas/common.py', 'nova/api/openstack/placement/schemas/resource_provider.py', 'nova/api/openstack/placement/exception.py', 'nova/db/sqlalchemy/migration.py', 'nova/api/openstack/placement/direct.py', 'nova/api/openstack/placement/policies/__init__.py', 'nova/api/openstack/placement/lib.py', 'nova/api/openstack/placement/schemas/resource_class.py', 'nova/api/openstack/placement/__init__.py', 'nova/api/openstack/placement/util.py', 'nova/cmd/manage.py', 'nova/api/openstack/placement/policies/allocation_candidate.py', 'nova/api/openstack/placement/objects/project.py', 'nova/api/openstack/placement/objects/resource_provider.py', 'nova/api/openstack/placement/rest_api_version_history.rst', 'nova/api/openstack/placement/requestlog.py', 'nova/tests/functional/test_nova_manage.py', 'nova/api/openstack/placement/policies/usage.py', 'nova/api/openstack/placement/schemas/allocation_candidate.py', 'nova/hacking/checks.py', 'nova/api/openstack/placement/handlers/usage.py', 'nova/api/openstack/placement/fault_wrap.py', 'nova/api/openstack/placement/schemas/aggregate.py', 'nova/api/openstack/placement/objects/__init__.py', 'nova/config.py', 'setup.cfg', 'nova/api/openstack/placement/schemas/usage.py', 'tox.ini', 'nova/api/openstack/placement/context.py', 'nova/api/openstack/placement/errors.py', 'nova/api/openstack/placement/policy.py', '.gitignore', 'nova/api/openstack/placement/handlers/__init__.py', 'nova/conf/placement.py', 'nova/api/openstack/placement/policies/resource_provider.py', 'nova/conf/database.py', 'nova/api/openstack/placement/handlers/resource_class.py', 'nova/api/openstack/placement/policies/inventory.py', 'nova/api/openstack/placement/schemas/__init__.py', 'nova/api/openstack/placement/resource_class_cache.py', 'nova/api/openstack/placement/handlers/root.py', 'nova/api/openstack/placement/handlers/allocation.py', 'nova/api/openstack/placement/wsgi.py', 'nova/api/openstack/placement/policies/allocation.py', 'nova/api/openstack/placement/policies/base.py', 'nova/rc_fields.py', 'nova/tests/unit/test_conf.py', 'doc/source/conf.py', 'nova/api/openstack/placement/auth.py', 'nova/api/openstack/placement/handlers/trait.py', 'nova/api/openstack/placement/microversion.py', 'nova/api/openstack/placement/wsgi_wrapper.py', 'nova/api/openstack/placement/policies/resource_class.py', 'nova/api/openstack/placement/schemas/trait.py', 'nova/api/openstack/placement/policies/reshaper.py', 'nova/api/openstack/placement/handlers/aggregate.py', 'releasenotes/notes/placement-deleted-a79ad405f428a5f8.yaml', 'nova/api/openstack/placement/handlers/allocation_candidate.py', 'nova/api/openstack/placement/schemas/reshaper.py', 'nova/tests/unit/test_nova_manage.py', 'nova/api/openstack/placement/objects/user.py', 'nova/api/openstack/placement/handler.py', 'nova/api/openstack/placement/policies/trait.py', 'nova/api/openstack/placement/handlers/resource_provider.py', 'nova/api/openstack/placement/handlers/reshaper.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/70a2879b2c75377f728f8faec8bd581613061230', 'message': ""Delete the placement code\n\nThis finalizes the removal of the placement code from nova.\nThis change primarily removes code and makes fixes to cmd,\ntest and migration tooling to adapt to the removal.\n\nPlacement tests and documention were already removed in\nearly patches.\n\nA database migration that calls\nconsumer_obj.create_incomplete_consumers in nova-manage has been\nremoved.\n\nA functional test which confirms the default incomplete\nconsumer user and project id has been changes so its its use of\nconf.placement.incomplete_* (now removed) is replaced with a\nconstant. The placement server, running in the functional\ntest, provides its own config.\n\nplacement-related configuration is updated to only register those\nopts which are relevant on the nova side. This mostly means\nksa-related opts. placement-database configuration is removed\nfrom nova/conf/database.\n\ntox.ini is updated to remove the group_regex required by the\nplacement gabbi tests. This should probably have gone when the\nplacement functional tests went, but was overlooked.\n\nA release note is added which describes that this is cleanup,\nthe main action already happened, but points people to the\nnova to placement upgrade instructions in case they haven't\ndone it yet.\n\nChange-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff\n""}]",16,618215,70a2879b2c75377f728f8faec8bd581613061230,540,28,37,11564,,,0,"Delete the placement code

This finalizes the removal of the placement code from nova.
This change primarily removes code and makes fixes to cmd,
test and migration tooling to adapt to the removal.

Placement tests and documention were already removed in
early patches.

A database migration that calls
consumer_obj.create_incomplete_consumers in nova-manage has been
removed.

A functional test which confirms the default incomplete
consumer user and project id has been changes so its its use of
conf.placement.incomplete_* (now removed) is replaced with a
constant. The placement server, running in the functional
test, provides its own config.

placement-related configuration is updated to only register those
opts which are relevant on the nova side. This mostly means
ksa-related opts. placement-database configuration is removed
from nova/conf/database.

tox.ini is updated to remove the group_regex required by the
placement gabbi tests. This should probably have gone when the
placement functional tests went, but was overlooked.

A release note is added which describes that this is cleanup,
the main action already happened, but points people to the
nova to placement upgrade instructions in case they haven't
done it yet.

Change-Id: I4181f39dea7eb10b84e6f5057938767b3e422aff
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/618215/37 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/schemas/allocation.py', 'nova/api/openstack/placement/schemas/inventory.py', 'nova/tests/unit/policy_fixture.py', 'nova/api/openstack/placement/handlers/inventory.py', 'nova/api/openstack/placement/db_api.py', 'nova/api/openstack/placement/objects/consumer.py', 'nova/api/openstack/placement/policies/aggregate.py', 'nova/api/openstack/placement/deploy.py', 'nova/api/openstack/placement/schemas/common.py', 'nova/api/openstack/placement/schemas/resource_provider.py', 'nova/api/openstack/placement/exception.py', 'nova/db/sqlalchemy/migration.py', 'nova/api/openstack/placement/direct.py', 'nova/api/openstack/placement/policies/__init__.py', 'nova/api/openstack/placement/lib.py', 'nova/api/openstack/placement/schemas/resource_class.py', 'nova/api/openstack/placement/__init__.py', 'nova/api/openstack/placement/util.py', 'nova/cmd/manage.py', 'nova/api/openstack/placement/policies/allocation_candidate.py', 'nova/api/openstack/placement/objects/project.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/api/openstack/placement/objects/resource_provider.py', 'nova/api/openstack/placement/rest_api_version_history.rst', 'nova/api/openstack/placement/requestlog.py', 'nova/api/openstack/placement/policies/usage.py', 'nova/api/openstack/placement/schemas/allocation_candidate.py', 'nova/api/openstack/placement/handlers/usage.py', 'nova/api/openstack/placement/fault_wrap.py', 'nova/api/openstack/placement/schemas/aggregate.py', 'nova/api/openstack/placement/objects/__init__.py', 'nova/config.py', 'setup.cfg', 'nova/api/openstack/placement/schemas/usage.py', 'nova/api/openstack/placement/context.py', 'nova/api/openstack/placement/errors.py', 'nova/api/openstack/placement/policy.py', 'nova/api/openstack/placement/handlers/__init__.py', 'nova/api/openstack/placement/policies/resource_provider.py', 'nova/api/openstack/placement/handlers/resource_class.py', 'nova/api/openstack/placement/policies/inventory.py', 'nova/api/openstack/placement/schemas/__init__.py', 'nova/api/openstack/placement/resource_class_cache.py', 'nova/api/openstack/placement/handlers/root.py', 'nova/api/openstack/placement/handlers/allocation.py', 'nova/cmd/status.py', 'nova/api/openstack/placement/wsgi.py', 'nova/api/openstack/placement/policies/allocation.py', 'nova/api/openstack/placement/policies/base.py', 'nova/api/openstack/placement/auth.py', 'nova/api/openstack/placement/handlers/trait.py', 'nova/api/openstack/placement/microversion.py', 'nova/api/openstack/placement/wsgi_wrapper.py', 'nova/api/openstack/placement/policies/resource_class.py', 'nova/api/openstack/placement/schemas/trait.py', 'nova/api/openstack/placement/policies/reshaper.py', 'nova/api/openstack/placement/handlers/aggregate.py', 'nova/api/openstack/placement/handlers/allocation_candidate.py', 'nova/api/openstack/placement/schemas/reshaper.py', 'nova/api/openstack/placement/objects/user.py', 'nova/api/openstack/placement/handler.py', 'nova/api/openstack/placement/policies/trait.py', 'nova/api/openstack/placement/handlers/resource_provider.py', 'nova/api/openstack/placement/handlers/reshaper.py']",64,67720e7625d16ab2f73ecc8b61d3e80448405a6d,cd/func-explore,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Placement API handler for the reshaper. The reshaper provides for atomically migrating resource provider inventories and associated allocations when some of the inventory moves from one resource provider to another, such as when a class of inventory moves from a parent provider to a new child provider. """""" import copy from oslo_utils import excutils import webob from nova.api.openstack.placement import errors from nova.api.openstack.placement import exception # TODO(cdent): That we are doing this suggests that there's stuff to be # extracted from the handler to a shared module. from nova.api.openstack.placement.handlers import allocation from nova.api.openstack.placement.handlers import inventory from nova.api.openstack.placement import microversion from nova.api.openstack.placement.objects import resource_provider as rp_obj from nova.api.openstack.placement.policies import reshaper as policies from nova.api.openstack.placement.schemas import reshaper as schema from nova.api.openstack.placement import util from nova.api.openstack.placement import wsgi_wrapper # TODO(cdent): placement needs its own version of this from nova.i18n import _ @wsgi_wrapper.PlacementWsgify @microversion.version_handler('1.30') @util.require_content('application/json') def reshape(req): context = req.environ['placement.context'] want_version = req.environ[microversion.MICROVERSION_ENVIRON] context.can(policies.RESHAPE) data = util.extract_json(req.body, schema.POST_RESHAPER_SCHEMA) inventories = data['inventories'] allocations = data['allocations'] # We're going to create several InventoryList, by rp uuid. inventory_by_rp = {} # TODO(cdent): this has overlaps with inventory:set_inventories # and is a mess of bad names and lack of method extraction. for rp_uuid, inventory_data in inventories.items(): try: resource_provider = rp_obj.ResourceProvider.get_by_uuid( context, rp_uuid) except exception.NotFound as exc: raise webob.exc.HTTPBadRequest( _('Resource provider %(rp_uuid)s in inventories not found: ' '%(error)s') % {'rp_uuid': rp_uuid, 'error': exc}, comment=errors.RESOURCE_PROVIDER_NOT_FOUND) # Do an early generation check. generation = inventory_data['resource_provider_generation'] if generation != resource_provider.generation: raise webob.exc.HTTPConflict( _('resource provider generation conflict: ' 'actual: %(actual)s, given: %(given)s') % {'actual': resource_provider.generation, 'given': generation}, comment=errors.CONCURRENT_UPDATE) inv_list = [] for res_class, raw_inventory in inventory_data['inventories'].items(): inv_data = copy.copy(inventory.INVENTORY_DEFAULTS) inv_data.update(raw_inventory) inv_obj = inventory.make_inventory_object( resource_provider, res_class, **inv_data) inv_list.append(inv_obj) inventory_by_rp[resource_provider] = rp_obj.InventoryList( objects=inv_list) # Make the consumer objects associated with the allocations. consumers, new_consumers_created = allocation.inspect_consumers( context, allocations, want_version) # Nest exception handling so that any exception results in new consumer # objects being deleted, then reraise for translating to HTTP exceptions. try: try: # When these allocations are created they get resource provider # objects which are different instances (usually with the same # data) from those loaded above when creating inventory objects. # The reshape method below is responsible for ensuring that the # resource providers and their generations do not conflict. allocation_objects = allocation.create_allocation_list( context, allocations, consumers) rp_obj.reshape(context, inventory_by_rp, allocation_objects) except Exception: with excutils.save_and_reraise_exception(): allocation.delete_consumers(new_consumers_created) # Generation conflict is a (rare) possibility in a few different # places in reshape(). except exception.ConcurrentUpdateDetected as exc: raise webob.exc.HTTPConflict( _('update conflict: %(error)s') % {'error': exc}, comment=errors.CONCURRENT_UPDATE) # A NotFound here means a resource class that does not exist was named except exception.NotFound as exc: raise webob.exc.HTTPBadRequest( _('malformed reshaper data: %(error)s') % {'error': exc}) # Distinguish inventory in use (has allocations on it)... except exception.InventoryInUse as exc: raise webob.exc.HTTPConflict( _('update conflict: %(error)s') % {'error': exc}, comment=errors.INVENTORY_INUSE) # ...from allocations which won't fit for a variety of reasons. except exception.InvalidInventory as exc: raise webob.exc.HTTPConflict( _('Unable to allocate inventory: %(error)s') % {'error': exc}) req.response.status = 204 req.response.content_type = None return req.response ",3,11660
openstack%2Fos-brick~master~I19858dd47afe3bdb3dd25c1dfead732a804cdee2,openstack/os-brick,master,I19858dd47afe3bdb3dd25c1dfead732a804cdee2,os-brick add extend_volume API,MERGED,2015-11-10 19:03:10.000000000,2019-05-05 09:45:19.000000000,2016-01-14 00:13:53.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13915}, {'_account_id': 14242}, {'_account_id': 14384}, {'_account_id': 15374}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16862}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18402}, {'_account_id': 19004}, {'_account_id': 26458}]","[{'number': 1, 'created': '2015-11-10 19:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/612bd3bc903a2d6498ad63db7220728bf27b5b2b', 'message': 'WIP: brick add extend_volume API\n\nThis is a Work in Progress.\n\nThis patch adds the new extend_volume API to the connector objects.\nThe purpose of this patch is to add the ability to notify the host\nkernel when an attached volume has been resized.   This allows both\nraw device paths and multipath devices to get new sizes on the fly\nwithout detaching and then reattaching to the host.\n\nCinder Spec:\n  https://review.openstack.org/#/c/243730/\n\nImplements blueprint: brick-extend-attached-volume\n\nChange-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2\n'}, {'number': 2, 'created': '2015-11-10 19:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e194bf0b6d356be0952ab1488f6152b124ec9a04', 'message': 'WIP: brick add extend_volume API\n\nThis is a Work in Progress.\n\nThis patch adds the new extend_volume API to the connector objects.\nThe purpose of this patch is to add the ability to notify the host\nkernel when an attached volume has been resized.   This allows both\nraw device paths and multipath devices to get new sizes on the fly\nwithout detaching and then reattaching to the host.\n\nCinder Spec:\n  https://review.openstack.org/#/c/243730/\n\nImplements blueprint: brick-extend-attached-volume\n\nChange-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2\n'}, {'number': 3, 'created': '2015-11-10 20:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/308eb738459d250f97b5383abbb092f2f9a0461b', 'message': 'WIP: brick add extend_volume API\n\nThis is a Work in Progress.\n\nThis patch adds the new extend_volume API to the connector objects.\nThe purpose of this patch is to add the ability to notify the host\nkernel when an attached volume has been resized.   This allows both\nraw device paths and multipath devices to get new sizes on the fly\nwithout detaching and then reattaching to the host.\n\nCinder Spec:\n  https://review.openstack.org/#/c/243730/\n\nTo manually test:\n  https://gist.github.com/WaltHP/e9b71e0ea1b1d9097762\n  https://gist.github.com/WaltHP/997d7dda2092e1331b23\n\nImplements blueprint: brick-extend-attached-volume\n\nChange-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2\n'}, {'number': 4, 'created': '2015-11-10 20:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/6805a095ac094c7fc047bd0ad3e0c60d68630ed9', 'message': 'WIP: brick add extend_volume API\n\nThis is a Work in Progress.\n\nThis patch adds the new extend_volume API to the connector objects.\nThe purpose of this patch is to add the ability to notify the host\nkernel when an attached volume has been resized.   This allows both\nraw device paths and multipath devices to get new sizes on the fly\nwithout detaching and then reattaching to the host.\n\nCinder Spec:\n  https://review.openstack.org/#/c/243730/\n\nTo manually test:\n  https://gist.github.com/WaltHP/e9b71e0ea1b1d9097762\n  https://gist.github.com/WaltHP/997d7dda2092e1331b23\n\nImplements blueprint: brick-extend-attached-volume\n\nChange-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2\n'}, {'number': 5, 'created': '2015-11-10 22:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/bcd95cea21fc4b6b99e1f7fe4be8e48a7c6263b6', 'message': 'WIP: brick add extend_volume API\n\nThis is a Work in Progress.\n\nThis patch adds the new extend_volume API to the connector objects.\nThe purpose of this patch is to add the ability to notify the host\nkernel when an attached volume has been resized.   This allows both\nraw device paths and multipath devices to get new sizes on the fly\nwithout detaching and then reattaching to the host.\n\nCinder Spec:\n  https://review.openstack.org/#/c/243730/\n\nTo manually test:\n  https://gist.github.com/WaltHP/e9b71e0ea1b1d9097762\n  https://gist.github.com/WaltHP/997d7dda2092e1331b23\n\nImplements blueprint: brick-extend-attached-volume\n\nChange-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2\n'}, {'number': 6, 'created': '2015-11-11 17:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/6b497f95afeea95cee1c0fd86381f762b1f6ce99', 'message': 'WIP: brick add extend_volume API\n\nThis is a Work in Progress.\n\nThis patch adds the new extend_volume API to the connector objects.\nThe purpose of this patch is to add the ability to notify the host\nkernel when an attached volume has been resized.   This allows both\nraw device paths and multipath devices to get new sizes on the fly\nwithout detaching and then reattaching to the host.\n\nCinder Spec:\n  https://review.openstack.org/#/c/243730/\n\nTo manually test:\n  https://gist.github.com/WaltHP/e9b71e0ea1b1d9097762\n  https://gist.github.com/WaltHP/997d7dda2092e1331b23\n\nImplements blueprint: brick-extend-attached-volume\n\nChange-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2\n'}, {'number': 7, 'created': '2015-11-13 22:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/472fba4805c341f9e682968928513afa6eacebbc', 'message': 'WIP: brick add extend_volume API\n\nThis is a Work in Progress.\n\nThis patch adds the new extend_volume API to the connector objects.\nThe purpose of this patch is to add the ability to notify the host\nkernel when an attached volume has been resized.   This allows both\nraw device paths and multipath devices to get new sizes on the fly\nwithout detaching and then reattaching to the host.\n\nCinder Spec:\n  https://review.openstack.org/#/c/243730/\n\nTo manually test:\n  https://gist.github.com/WaltHP/e9b71e0ea1b1d9097762\n  https://gist.github.com/WaltHP/997d7dda2092e1331b23\n\nImplements blueprint: brick-extend-attached-volume\n\nChange-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2\n'}, {'number': 8, 'created': '2015-11-13 23:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a5423437fbfaaee5f93fd371993adb536f9375b3', 'message': 'WIP: brick add extend_volume API\n\nThis is a Work in Progress.\n\nThis patch adds the new extend_volume API to the connector objects.\nThe purpose of this patch is to add the ability to notify the host\nkernel when an attached volume has been resized.   This allows both\nraw device paths and multipath devices to get new sizes on the fly\nwithout detaching and then reattaching to the host.\n\nCinder Spec:\n  https://review.openstack.org/#/c/243730/\n\nTo manually test:\n  https://gist.github.com/WaltHP/e9b71e0ea1b1d9097762\n  https://gist.github.com/WaltHP/221b8f6b0e91ad8421a0\n\nImplements blueprint: brick-extend-attached-volume\n\nChange-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2\n'}, {'number': 9, 'created': '2015-11-16 16:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/977153a74045b2c057b1224036f73b399a66166c', 'message': 'WIP: brick add extend_volume API\n\nThis is a Work in Progress.\n\nThis patch adds the new extend_volume API to the connector objects.\nThe purpose of this patch is to add the ability to notify the host\nkernel when an attached volume has been resized.   This allows both\nraw device paths and multipath devices to get new sizes on the fly\nwithout detaching and then reattaching to the host.\n\nCinder Spec:\n  https://review.openstack.org/#/c/243730/\n\nTo manually test:\n  https://gist.github.com/WaltHP/e9b71e0ea1b1d9097762\n  https://gist.github.com/WaltHP/221b8f6b0e91ad8421a0\n\nImplements blueprint: brick-extend-attached-volume\n\nChange-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2\n'}, {'number': 10, 'created': '2015-11-16 21:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/fe5f8dd0f5a18b15ee16d662f1e9a2dc510bed24', 'message': 'WIP: brick add extend_volume API\n\nThis is a Work in Progress.\n\nThis patch adds the new extend_volume API to the connector objects.\nThe purpose of this patch is to add the ability to notify the host\nkernel when an attached volume has been resized.   This allows both\nraw device paths and multipath devices to get new sizes on the fly\nwithout detaching and then reattaching to the host.\n\nCinder Spec:\n  https://review.openstack.org/#/c/243730/\n\nTo manually test:\n  https://gist.github.com/WaltHP/e9b71e0ea1b1d9097762\n  https://gist.github.com/WaltHP/221b8f6b0e91ad8421a0\n\n  After a successful resize, find the virt domain name\n  then run \n  virsh blockresize <domain name> <path to raw device> <new size>\n  for example,\n  blockresize instance-00000007 /dev/disk/by-id/dm-uuid-mpath-350002ace1dda383d 3145728\n\nImplements blueprint: brick-extend-attached-volume\n\nChange-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2\n'}, {'number': 11, 'created': '2015-11-18 19:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/94d30a56e6cb4f1e536c0401cdc5e573b6e08bb8', 'message': 'WIP: brick add extend_volume API\n\nThis is a Work in Progress.\n\nThis patch adds the new extend_volume API to the connector objects.\nThe purpose of this patch is to add the ability to notify the host\nkernel when an attached volume has been resized.   This allows both\nraw device paths and multipath devices to get new sizes on the fly\nwithout detaching and then reattaching to the host.\n\nCinder Spec:\n  https://review.openstack.org/#/c/243730/\n\nTo manually test:\n  Use the brick_resize.py tool here:\n  https://github.com/WaltHP/diediedie/blob/master/diediedie/brick_resize.py\n\n  sample brick.conf to output debug logging for the brick_resize.py tool\n  https://gist.github.com/WaltHP/e9b71e0ea1b1d9097762\n  \n  \n\n  After a successful resize, find the virt domain name\n  then run \n  virsh blockresize <domain name> <path to raw device> <new size>\n  for example,\n  blockresize instance-00000007 /dev/disk/by-id/dm-uuid-mpath-350002ace1dda383d 3145728\n\nImplements blueprint: brick-extend-attached-volume\n\nChange-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2\n'}, {'number': 12, 'created': '2015-12-17 18:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/55f2562da02f7cfa4f6ed7a25e483755f733a077', 'message': 'WIP: brick add extend_volume API\n\nThis is a Work in Progress.\n\nThis patch adds the new extend_volume API to the connector objects.\nThe purpose of this patch is to add the ability to notify the host\nkernel when an attached volume has been resized.   This allows both\nraw device paths and multipath devices to get new sizes on the fly\nwithout detaching and then reattaching to the host.\n\nCinder Spec:\n  https://review.openstack.org/#/c/243730/\n\nTo manually test:\n  Use the brick_resize.py tool here:\n  https://github.com/WaltHP/diediedie/blob/master/diediedie/brick_resize.py\n\n  sample brick.conf to output debug logging for the brick_resize.py tool\n  https://gist.github.com/WaltHP/e9b71e0ea1b1d9097762\n\n  After a successful resize, find the virt domain name\n  then run\n  virsh blockresize <domain name> <path to raw device> <new size>\n  for example,\n  blockresize instance-00000007 /dev/disk/by-id/dm-uuid-mpath-350002ace1dda383d 3145728\n\nImplements blueprint: brick-extend-attached-volume\n\nChange-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2\n'}, {'number': 13, 'created': '2015-12-21 23:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/8c748f44676d15382be6373cadb570df86dd815d', 'message': 'WIP: brick add extend_volume API\n\nThis is a Work in Progress.\n\nThis patch adds the new extend_volume API to the connector objects.\nThe purpose of this patch is to add the ability to notify the host\nkernel when an attached volume has been resized.   This allows both\nraw device paths and multipath devices to get new sizes on the fly\nwithout detaching and then reattaching to the host.\n\nCinder Spec:\n  https://review.openstack.org/#/c/243730/\n\nTo manually test:\n  Use the brick_resize.py tool here:\n  https://github.com/WaltHP/diediedie/blob/master/diediedie/brick_resize.py\n\n  sample brick.conf to output debug logging for the brick_resize.py tool\n  https://gist.github.com/WaltHP/e9b71e0ea1b1d9097762\n\n  After a successful resize, find the virt domain name\n  then run\n  virsh blockresize <domain name> <path to raw device> <new size>\n  for example,\n  blockresize instance-00000007 /dev/disk/by-id/dm-uuid-mpath-350002ace1dda383d 3145728\n\nImplements blueprint: brick-extend-attached-volume\n\nChange-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2\n'}, {'number': 14, 'created': '2015-12-22 00:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0a2e5c026aac6f21ffd13e9d11cece48af82230c', 'message': 'WIP: brick add extend_volume API\n\nThis is a Work in Progress.\n\nThis patch adds the new extend_volume API to the connector objects.\nThe purpose of this patch is to add the ability to notify the host\nkernel when an attached volume has been resized.   This allows both\nraw device paths and multipath devices to get new sizes on the fly\nwithout detaching and then reattaching to the host.\n\nCinder Spec:\n  https://review.openstack.org/#/c/243730/\n\nTo manually test:\n  Use the brick_resize.py tool here:\n  https://github.com/WaltHP/diediedie/blob/master/diediedie/brick_resize.py\n\n  sample brick.conf to output debug logging for the brick_resize.py tool\n  https://gist.github.com/WaltHP/e9b71e0ea1b1d9097762\n\n  After a successful resize, find the virt domain name\n  then run\n  virsh blockresize <domain name> <path to raw device> <new size>\n  for example,\n  blockresize instance-00000007 /dev/disk/by-id/dm-uuid-mpath-350002ace1dda383d 3145728\n\nImplements blueprint: brick-extend-attached-volume\n\nChange-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2\n'}, {'number': 15, 'created': '2015-12-22 18:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a603a8f55a5ce9700169ea30253ce2e07ab30dd2', 'message': 'WIP: brick add extend_volume API\n\nThis is a Work in Progress.\n\nThis patch adds the new extend_volume API to the connector objects.\nThe purpose of this patch is to add the ability to notify the host\nkernel when an attached volume has been resized.   This allows both\nraw device paths and multipath devices to get new sizes on the fly\nwithout detaching and then reattaching to the host.\n\nCinder Spec:\n  https://review.openstack.org/#/c/243730/\n\nTo manually test:\n  Use the brick_resize.py tool here:\n  https://github.com/WaltHP/diediedie/blob/master/diediedie/brick_resize.py\n\n  sample brick.conf to output debug logging for the brick_resize.py tool\n  https://gist.github.com/WaltHP/e9b71e0ea1b1d9097762\n\n  After a successful resize, find the virt domain name\n  then run\n  virsh blockresize <domain name> <path to raw device> <new size>\n  for example,\n  blockresize instance-00000007 /dev/disk/by-id/dm-uuid-mpath-350002ace1dda383d 3145728\n\nImplements blueprint: brick-extend-attached-volume\n\nChange-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2\n'}, {'number': 16, 'created': '2015-12-22 19:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/88ade4e4d7e1fc05f0a8eefa5fc73cef7c0098f3', 'message': 'os-brick add extend_volume API\n\nThis patch adds the new extend_volume API to the connector objects.\nThe purpose of this patch is to add the ability to notify the host\nkernel when an attached volume has been resized.   This allows both\nraw device paths and multipath devices to get new sizes on the fly\nwithout detaching and then reattaching to the host.\n\nCinder Spec:\n  https://review.openstack.org/#/c/243730/\n\nTo manually test:\n  Use the brick_resize.py tool here:\n  https://github.com/WaltHP/diediedie/blob/master/diediedie/brick_resize.py\n\n  sample brick.conf to output debug logging for the brick_resize.py tool\n  https://gist.github.com/WaltHP/e9b71e0ea1b1d9097762\n\n  After a successful resize, find the virt domain name\n  then run\n  virsh blockresize <domain name> <path to raw device> <new size>\n  for example,\n  blockresize instance-00000007 /dev/disk/by-id/dm-uuid-mpath-350002ace1dda383d 3145728\n\nImplements blueprint: brick-extend-attached-volume\n\nChange-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2\n'}, {'number': 17, 'created': '2016-01-05 23:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/fe340db85885664e22b59d865644dd88bff18b29', 'message': 'os-brick add extend_volume API\n\nThis patch adds the new extend_volume API to the connector objects.\nThe purpose of this patch is to add the ability to notify the host\nkernel when an attached volume has been resized.   This allows both\nraw device paths and multipath devices to get new sizes on the fly\nwithout detaching and then reattaching to the host.\n\nCinder Spec:\n  https://review.openstack.org/#/c/243730/\n\nTo manually test:\n  Use the brick_resize.py tool here:\n  https://github.com/WaltHP/diediedie/blob/master/diediedie/brick_resize.py\n\n  sample brick.conf to output debug logging for the brick_resize.py tool\n  https://gist.github.com/WaltHP/e9b71e0ea1b1d9097762\n\n  After a successful resize, find the virt domain name\n  then run\n  virsh blockresize <domain name> <path to raw device> <new size>\n  for example,\n  blockresize instance-00000007 /dev/disk/by-id/dm-uuid-mpath-350002ace1dda383d 3145728\n\nImplements blueprint: brick-extend-attached-volume\n\nChange-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2\n'}, {'number': 18, 'created': '2016-01-06 19:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/50beaa3e42b889fee45580c1fac74e700edcb310', 'message': 'os-brick add extend_volume API\n\nThis patch adds the new extend_volume API to the connector objects.\nThe purpose of this patch is to add the ability to notify the host\nkernel when an attached volume has been resized.   This allows both\nraw device paths and multipath devices to get new sizes on the fly\nwithout detaching and then reattaching to the host.\n\nCinder Spec:\n  https://review.openstack.org/#/c/243730/\n\nTo manually test:\n  Use the brick_resize.py tool here:\n  https://github.com/WaltHP/diediedie/blob/master/diediedie/brick_resize.py\n\n  sample brick.conf to output debug logging for the brick_resize.py tool\n  https://gist.github.com/WaltHP/e9b71e0ea1b1d9097762\n\n  After a successful resize, find the virt domain name\n  then run\n  virsh blockresize <domain name> <path to raw device> <new size>\n  for example,\n  blockresize instance-00000007 /dev/disk/by-id/dm-uuid-mpath-350002ace1dda383d 3145728\n\nImplements blueprint: brick-extend-attached-volume\n\nChange-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2\n'}, {'number': 19, 'created': '2016-01-13 16:09:43.000000000', 'files': ['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/tests/initiator/test_connector.py', 'os_brick/initiator/connector.py', 'os_brick/exception.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7e10ab7bfacc8f966abe31981122454fddf4874a', 'message': 'os-brick add extend_volume API\n\nThis patch adds the new extend_volume API to the connector objects.\nThe purpose of this patch is to add the ability to notify the host\nkernel when an attached volume has been resized.   This allows both\nraw device paths and multipath devices to get new sizes on the fly\nwithout detaching and then reattaching to the host.\n\nCinder Spec:\n  https://review.openstack.org/#/c/243730/\n\nTo manually test:\n  Use the brick_resize.py tool here:\n  https://github.com/WaltHP/diediedie/blob/master/diediedie/brick_resize.py\n\n  sample brick.conf to output debug logging for the brick_resize.py tool\n  https://gist.github.com/WaltHP/e9b71e0ea1b1d9097762\n\n  After a successful resize, find the virt domain name\n  then run\n  virsh blockresize <domain name> <path to raw device> <new size>\n  for example,\n  blockresize instance-00000007 /dev/disk/by-id/dm-uuid-mpath-350002ace1dda383d 3145728\n\nImplements blueprint: brick-extend-attached-volume\n\nChange-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2\n'}]",14,243776,7e10ab7bfacc8f966abe31981122454fddf4874a,142,21,19,5997,,,0,"os-brick add extend_volume API

This patch adds the new extend_volume API to the connector objects.
The purpose of this patch is to add the ability to notify the host
kernel when an attached volume has been resized.   This allows both
raw device paths and multipath devices to get new sizes on the fly
without detaching and then reattaching to the host.

Cinder Spec:
  https://review.openstack.org/#/c/243730/

To manually test:
  Use the brick_resize.py tool here:
  https://github.com/WaltHP/diediedie/blob/master/diediedie/brick_resize.py

  sample brick.conf to output debug logging for the brick_resize.py tool
  https://gist.github.com/WaltHP/e9b71e0ea1b1d9097762

  After a successful resize, find the virt domain name
  then run
  virsh blockresize <domain name> <path to raw device> <new size>
  for example,
  blockresize instance-00000007 /dev/disk/by-id/dm-uuid-mpath-350002ace1dda383d 3145728

Implements blueprint: brick-extend-attached-volume

Change-Id: I19858dd47afe3bdb3dd25c1dfead732a804cdee2
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/76/243776/17 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/linuxscsi.py', 'os_brick/initiator/connector.py']",2,612bd3bc903a2d6498ad63db7220728bf27b5b2b,bp/brick-extend-attached-volume," @abc.abstractmethod def extend_volume(self, connection_properties): """"""Update the attached volume's size. This method will attempt to update the local hosts's volume after the volume has been extended on the remote system. """""" pass def extend_volume(self, connection_properties): pass @synchronized('extend_volume') def extend_volume(self, connection_properties): """"""Update the local kernel's size information. Try and update the local kernel's size information for an iSCSI volume. """""" volume_paths = self.get_volume_paths(connection_properties) if volume_paths: self._linuxscsi.extend_volume(volume_paths[0]) else: LOG.warning(_LW(""Couldn't find any volume paths on the host to "" ""extend volume for %(props)s""), {'props': connection_properties}) @synchronized('extend_volume') def extend_volume(self, connection_properties): """"""Update the local kernel's size information. Try and update the local kernel's size information for an FC volume. """""" volume_paths = self.get_volume_paths(connection_properties) if volume_paths: self._linuxscsi.extend_volume(volume_paths[0]) else: LOG.warning(_LW(""Couldn't find any volume paths on the host to "" ""extend volume for %(props)s""), {'props': connection_properties}) ",,107,1
openstack%2Fnova~master~If21230869826c992e7d0398434b9a4b255940213,openstack/nova,master,If21230869826c992e7d0398434b9a4b255940213,libvirt: Always disconnect volumes after libvirtError exceptions,MERGED,2019-04-25 14:42:32.000000000,2019-05-05 07:55:33.000000000,2019-05-04 02:22:15.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-25 14:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b8fc35fa2ac2a3d1bd0f2dddd813dc369aa131e', 'message': 'libvirt: Always disconnect volumes after libvirtError exceptions\n\nBuilding on Ib440f4f2e484312af5f393722363846f6c95b760 we should always\nattempt to disconnect volumes from the host when exceptions are thrown\nwhile attempting to attach a volume to a domain. This was previously\ndone for generic exceptions but not for libvirtError exceptions.\n\nChange-Id: If21230869826c992e7d0398434b9a4b255940213\n'}, {'number': 2, 'created': '2019-04-26 09:26:57.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/091a910576d9b580678f1881fffa425ab4632f48', 'message': 'libvirt: Always disconnect volumes after libvirtError exceptions\n\nBuilding on Ib440f4f2e484312af5f393722363846f6c95b760 we should always\nattempt to disconnect volumes from the host when exceptions are thrown\nwhile attempting to attach a volume to a domain. This was previously\ndone for generic exceptions but not for libvirtError exceptions.\n\nCloses-Bug: #1826523\nChange-Id: If21230869826c992e7d0398434b9a4b255940213\n'}]",1,655712,091a910576d9b580678f1881fffa425ab4632f48,60,15,2,10135,,,0,"libvirt: Always disconnect volumes after libvirtError exceptions

Building on Ib440f4f2e484312af5f393722363846f6c95b760 we should always
attempt to disconnect volumes from the host when exceptions are thrown
while attempting to attach a volume to a domain. This was previously
done for generic exceptions but not for libvirtError exceptions.

Closes-Bug: #1826523
Change-Id: If21230869826c992e7d0398434b9a4b255940213
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/655712/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,6b8fc35fa2ac2a3d1bd0f2dddd813dc369aa131e,bug/1826523," mock.patch.object(drvr, '_disconnect_volume'), mock_disconnect_volume, mock_get_volume_config, mock_check_discard, mock_build_metadata): mock_disconnect_volume.assert_called_once() mock.patch.object(drvr, '_disconnect_volume'), mock_disconnect_volume, mock_get_volume_config, mock_check_discard, mock_build_metadata): mock_disconnect_volume.assert_called_once()"," mock_get_volume_config, mock_check_discard, mock_build_metadata): mock_get_volume_config, mock_check_discard, mock_build_metadata):",11,2
openstack%2Ftraining-guides~master~I1cde282376b26c8b4e5d0f9e52a08f8756bd5deb,openstack/training-guides,master,I1cde282376b26c8b4e5d0f9e52a08f8756bd5deb,Imported Translations from Zanata,MERGED,2019-05-05 06:52:34.000000000,2019-05-05 07:44:07.000000000,2019-05-05 07:44:07.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-05 06:52:34.000000000', 'files': ['doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/en_GB/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/id/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/de/LC_MESSAGES/upstream-training.po'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/54837c395d768a86bf3f0399166baa0930a860b7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I1cde282376b26c8b4e5d0f9e52a08f8756bd5deb\n'}]",0,657205,54837c395d768a86bf3f0399166baa0930a860b7,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I1cde282376b26c8b4e5d0f9e52a08f8756bd5deb
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/05/657205/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/en_GB/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/id/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/de/LC_MESSAGES/upstream-training.po']",4,54837c395d768a86bf3f0399166baa0930a860b7,zanata/translations,"""POT-Creation-Date: 2019-05-02 21:05+0000\n""","""POT-Creation-Date: 2019-04-24 14:31+0000\n""msgid ""How many milestones are there?"" msgstr ""Wieviele Meilensteine gibt es?"" msgid ""What is the focus of each of the milestones?"" msgstr ""Was ist der Fokus von jedem Meilenstein?"" ",11,29
openstack%2Fswift~feature%2Flosf~Ida96518a70987c81756229819ed3edebf70c62af,openstack/swift,feature/losf,Ida96518a70987c81756229819ed3edebf70c62af,Do not use o_tmpfile_supported() in kvfile.py,MERGED,2019-05-03 18:34:21.000000000,2019-05-05 07:10:58.000000000,2019-05-05 07:10:58.000000000,"[{'_account_id': 1179}, {'_account_id': 4608}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 25251}]","[{'number': 1, 'created': '2019-05-03 18:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/aa04c6c6f99c20f00e1719aedd98c2214ee05fd2', 'message': 'Do not use o_tmpfile_supported() in kvfile.py\n\nkvfile.py does not use linkat(), no need to check for support\n\nChange-Id: Ida96518a70987c81756229819ed3edebf70c62af\n'}, {'number': 2, 'created': '2019-05-04 04:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/82d5318da707b4748a0bc108aa84650b3ef95945', 'message': 'Do not use o_tmpfile_supported() in kvfile.py\n\nkvfile.py does not use linkat(), no need to check for support\n\nChange-Id: Ida96518a70987c81756229819ed3edebf70c62af\n'}, {'number': 3, 'created': '2019-05-04 16:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e243e6e9bd762a7f8a43fc2bc2316b1483f0ba3c', 'message': 'Do not use o_tmpfile_supported() in kvfile.py\n\nkvfile.py does not use linkat(), no need to check for support\n\nChange-Id: Ida96518a70987c81756229819ed3edebf70c62af\n'}, {'number': 4, 'created': '2019-05-04 17:06:23.000000000', 'files': ['swift/obj/kvfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5434e00b2978835b84639419043f1300c7071352', 'message': 'Do not use o_tmpfile_supported() in kvfile.py\n\nkvfile.py does not use linkat(), no need to check for support\n\nChange-Id: Ida96518a70987c81756229819ed3edebf70c62af\n'}]",0,657003,5434e00b2978835b84639419043f1300c7071352,23,5,4,25251,,,0,"Do not use o_tmpfile_supported() in kvfile.py

kvfile.py does not use linkat(), no need to check for support

Change-Id: Ida96518a70987c81756229819ed3edebf70c62af
",git fetch https://review.opendev.org/openstack/swift refs/changes/03/657003/4 && git format-patch -1 --stdout FETCH_HEAD,['swift/obj/kvfile.py'],1,aa04c6c6f99c20f00e1719aedd98c2214ee05fd2,losf-functests," config_true_value, listdir, split_path"," config_true_value, listdir, split_path, \ o_tmpfile_supported self.use_linkat = o_tmpfile_supported() ",1,4
openstack%2Fopenstack-manuals~master~Iaf0718b56505927860081bb2504cc9fcc5bada52,openstack/openstack-manuals,master,Iaf0718b56505927860081bb2504cc9fcc5bada52,Redirect missing project page for openstack-charms,MERGED,2019-05-03 14:54:11.000000000,2019-05-05 06:36:17.000000000,2019-05-05 06:36:17.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 14:54:11.000000000', 'files': ['www/.htaccess', 'www/redirect-tests.txt'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7b6b2b52140bdc74caf476c4b795c266a74f8535', 'message': 'Redirect missing project page for openstack-charms\n\nLink is required for the project navigator\n\nChange-Id: Iaf0718b56505927860081bb2504cc9fcc5bada52\n'}]",0,656952,7b6b2b52140bdc74caf476c4b795c266a74f8535,9,4,1,17765,,,0,"Redirect missing project page for openstack-charms

Link is required for the project navigator

Change-Id: Iaf0718b56505927860081bb2504cc9fcc5bada52
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/52/656952/1 && git format-patch -1 --stdout FETCH_HEAD,"['www/.htaccess', 'www/redirect-tests.txt']",2,7b6b2b52140bdc74caf476c4b795c266a74f8535,,"# Redirect missing project page for openstack-charms {{ path_to_page('/openstack-charms', '/charm-guide/') }} ",,6,0
openstack%2Fswift~master~Iae9aa7a91b9afc19cb8613b5bc31de463b853dde,openstack/swift,master,Iae9aa7a91b9afc19cb8613b5bc31de463b853dde,Clarify usage of dequeue_from_legacy option,MERGED,2019-05-02 22:12:15.000000000,2019-05-05 06:23:13.000000000,2019-05-05 06:23:13.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 22:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a82a53dd6252efe6c67ae6b17b88e21d65f8fe69', 'message': 'Clarify usage of dequeue_from_legacy option\n\nChange-Id: Iae9aa7a91b9afc19cb8613b5bc31de463b853dde\n'}, {'number': 2, 'created': '2019-05-05 03:20:34.000000000', 'files': ['swift/obj/expirer.py', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/34bd4f7fa34124856d3c16d407d543d6562c3297', 'message': 'Clarify usage of dequeue_from_legacy option\n\nChange-Id: Iae9aa7a91b9afc19cb8613b5bc31de463b853dde\n'}]",0,656883,34bd4f7fa34124856d3c16d407d543d6562c3297,19,2,2,1179,,,0,"Clarify usage of dequeue_from_legacy option

Change-Id: Iae9aa7a91b9afc19cb8613b5bc31de463b853dde
",git fetch https://review.opendev.org/openstack/swift refs/changes/83/656883/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/expirer.py', 'etc/object-server.conf-sample']",2,a82a53dd6252efe6c67ae6b17b88e21d65f8fe69,expirer-section-in-object-server-conf,"# If this true, this expirer will execute tasks from legacy expirer task queue, # at least one object server should run with dequeue_from_legacy = true # dequeue_from_legacy = false ## acccount/container server for the hidden too busy. # # Note: the processes and process options can only be used in conjunction with # notes using `dequeue_from_legacy = true`. These options are ignored on nodes # with `dequeue_from_legacy = false`. # # processes is how many parts to divide the legacy work into, one part per # process that will be doing the work # processes set 0 means that a single legacy process will be doing all the work # processes can also be specified on the command line and will override the # config value # processes = 0 # # process is which of the parts a particular legacy process will work on # process can also be specified on the command line and will override the config # value # process is ""zero based"", if you want to use 3 processes, you should run # processes with process set to 0, 1, and 2 # process = 0 # # internal_client_conf_path = /etc/swift/internal-client.conf","# acccount/container server for the hidden ones busy.# If this true, expirer execute tasks in legacy expirer task queue # dequeue_from_legacy = false # # internal_client_conf_path = /etc/swift/internal-client.conf # # processes can only be used in conjunction with `dequeue_from_legacy`. # So this option is ignored if dequeue_from_legacy=false. # processes is how many parts to divide the legacy work into, one part per # process that will be doing the work # processes set 0 means that a single legacy process will be doing all the work # processes can also be specified on the command line and will override the # config value # processes = 0 # # process can only be used in conjunction with `dequeue_from_legacy`. # So this option is ignored if dequeue_from_legacy=false. # process is which of the parts a particular legacy process will work on # process can also be specified on the command line and will override the config # value # process is ""zero based"", if you want to use 3 processes, you should run # processes with process set to 0, 1, and 2 # process = 0 #",30,27
openstack%2Fcliff~master~Id897d890c1c2fa2a7234e057e4d5c3dd4d8d55e6,openstack/cliff,master,Id897d890c1c2fa2a7234e057e4d5c3dd4d8d55e6,"Missing carriage return in some cases, using -f json",MERGED,2018-12-28 20:57:43.000000000,2019-05-05 05:51:35.000000000,2019-05-05 05:51:35.000000000,"[{'_account_id': 841}, {'_account_id': 10857}, {'_account_id': 15334}, {'_account_id': 16690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-28 20:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/5e46997e89ff6f9bdca062c82f2194294ab00080', 'message': 'Fix for bug:\nhttps://bugs.launchpad.net/python-openstackclient/+bug/1674213\n\nMissing carriage return in some cases, using -f json\n\nChange-Id: Id897d890c1c2fa2a7234e057e4d5c3dd4d8d55e6\n'}, {'number': 2, 'created': '2019-01-23 19:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/a1bbe96cf2888d7f29bd3268fd162d78e18afcd3', 'message': 'Missing carriage return in some cases, using -f json\n\nCloses-Bug: 1674213\n\nChange-Id: Id897d890c1c2fa2a7234e057e4d5c3dd4d8d55e6\n'}, {'number': 3, 'created': '2019-01-23 19:42:59.000000000', 'files': ['cliff/formatters/json_format.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/b895afe8e18b0bd67cb5dadc90667bf4d64d5d4e', 'message': 'Missing carriage return in some cases, using -f json\n\nCloses-Bug #1674213\n\nChange-Id: Id897d890c1c2fa2a7234e057e4d5c3dd4d8d55e6\n'}]",1,627734,b895afe8e18b0bd67cb5dadc90667bf4d64d5d4e,13,5,3,10857,,,0,"Missing carriage return in some cases, using -f json

Closes-Bug #1674213

Change-Id: Id897d890c1c2fa2a7234e057e4d5c3dd4d8d55e6
",git fetch https://review.opendev.org/openstack/cliff refs/changes/34/627734/3 && git format-patch -1 --stdout FETCH_HEAD,['cliff/formatters/json_format.py'],1,5e46997e89ff6f9bdca062c82f2194294ab00080,bug/1674213, stdout.write('\n'),,1,0
openstack%2Fpuppet-glance~master~Ic6ffd3093a7f1b5e40af8c74272aba549f21abac,openstack/puppet-glance,master,Ic6ffd3093a7f1b5e40af8c74272aba549f21abac,Port puppet-glance-tripleo-standalone to os_tempest,MERGED,2019-05-02 09:09:50.000000000,2019-05-05 05:24:00.000000000,2019-05-05 05:24:00.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-02 09:09:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/a6c77dc3818b0d638468c4630049de6bd8d90013', 'message': 'Port puppet-glance-tripleo-standalone to os_tempest\n\nPreviously Tripleo validate-tempest role was used to run tempest\non tripleo jobs. Recently we are moving to os_tempest (an unified\nrole developed by openstack-ansible team).\n\nIt moves the vars to os_tempest.\nBelow is the other var changes:\n\nrun_tempest: false -> to disable validate-tempest role\nuse_os_tempest: true -> enable os_tempest\ntempest_whitelist -> tempest_test_whitelist\n\nChange-Id: Ic6ffd3093a7f1b5e40af8c74272aba549f21abac\n'}]",0,656753,a6c77dc3818b0d638468c4630049de6bd8d90013,9,6,1,8367,,,0,"Port puppet-glance-tripleo-standalone to os_tempest

Previously Tripleo validate-tempest role was used to run tempest
on tripleo jobs. Recently we are moving to os_tempest (an unified
role developed by openstack-ansible team).

It moves the vars to os_tempest.
Below is the other var changes:

run_tempest: false -> to disable validate-tempest role
use_os_tempest: true -> enable os_tempest
tempest_whitelist -> tempest_test_whitelist

Change-Id: Ic6ffd3093a7f1b5e40af8c74272aba549f21abac
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/53/656753/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a6c77dc3818b0d638468c4630049de6bd8d90013,os_tempest, run_tempest: false tempest_test_whitelist: use_os_tempest: true, run_tempest: true tempest_whitelist:,3,2
openstack%2Fnova~master~I19054fae14f95dc3ea73efde45df7e1a59086b44,openstack/nova,master,I19054fae14f95dc3ea73efde45df7e1a59086b44,Improve metadata performance,MERGED,2018-11-04 13:22:48.000000000,2019-05-05 05:07:36.000000000,2019-05-04 22:38:41.000000000,"[{'_account_id': 1653}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12860}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-04 13:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b7b7f1b60b26fcf2873760f5125c772e10d2136', 'message': 'Improve metadata performance\n\nSave many requests to the neutron service if the provider\nhas recently been queried.\n\nChange-Id: I19054fae14f95dc3ea73efde45df7e1a59086b44\n'}, {'number': 2, 'created': '2019-01-06 10:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3590dd25640bd629be4fcd6bc2b92788c87f046b', 'message': 'Improve metadata performance\n\nSave many requests to the neutron service if the provider\nhas recently been queried.\n\nCommit 622a845b757aa35932f703963beffc764d8ae244 has the details\nabout the provider support. The caching helps improve this\nsupport as the neutron service will not be queried many times.\n\nCloses-Bug: #1810642\n\nChange-Id: I19054fae14f95dc3ea73efde45df7e1a59086b44\n'}, {'number': 3, 'created': '2019-01-06 19:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/298d2222d53ee8b3fb4d15bf8ca867b8c3cf2431', 'message': 'Improve metadata performance\n\nSave many requests to the neutron service if the provider\nhas recently been queried.\n\nCommit 622a845b757aa35932f703963beffc764d8ae244 has the details\nabout the provider support. The caching helps improve this\nsupport as the neutron service will not be queried many times.\n\nCloses-Bug: #1810642\n\nChange-Id: I19054fae14f95dc3ea73efde45df7e1a59086b44\n'}, {'number': 4, 'created': '2019-04-25 14:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed7bce6e2af80bb84ccf86fb6208b7fe272a83a6', 'message': 'Improve metadata performance\n\nSave many requests to the neutron service if the provider\nhas recently been queried.\n\nCommit 622a845b757aa35932f703963beffc764d8ae244 has the details\nabout the provider support. The caching helps improve this\nsupport as the neutron service will not be queried many times.\n\nCloses-Bug: #1810642\n\nChange-Id: I19054fae14f95dc3ea73efde45df7e1a59086b44\n'}, {'number': 5, 'created': '2019-05-03 16:48:48.000000000', 'files': ['nova/tests/unit/test_metadata.py', 'nova/api/metadata/handler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0b683028af72ca38905703a30f3a6b48377150d3', 'message': 'Improve metadata performance\n\nSave many requests to the neutron service if the provider\nhas recently been queried.\n\nCommit 622a845b757aa35932f703963beffc764d8ae244 has the details\nabout the provider support. The caching helps improve this\nsupport as the neutron service will not be queried many times.\n\nCloses-Bug: #1810642\n\nChange-Id: I19054fae14f95dc3ea73efde45df7e1a59086b44\n'}]",2,615435,0b683028af72ca38905703a30f3a6b48377150d3,125,24,5,1653,,,0,"Improve metadata performance

Save many requests to the neutron service if the provider
has recently been queried.

Commit 622a845b757aa35932f703963beffc764d8ae244 has the details
about the provider support. The caching helps improve this
support as the neutron service will not be queried many times.

Closes-Bug: #1810642

Change-Id: I19054fae14f95dc3ea73efde45df7e1a59086b44
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/615435/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/metadata/handler.py'],1,5b7b7f1b60b26fcf2873760f5125c772e10d2136,metadata-cache," cache_key = 'provider-%s-%s' % (provider_id, instance_address) data = self._cache.get(cache_key) if data: LOG.debug(""Using cached metadata for %s for %s"", provider_id, instance_address) instance_id, tenant_id = data else: instance_id, tenant_id = self._get_instance_id_from_lb( provider_id, instance_address) if CONF.api.metadata_cache_expiration > 0: self._cache.set(cache_key, (instance_id, tenant_id))"," instance_id, tenant_id = self._get_instance_id_from_lb( provider_id, instance_address)",11,2
openstack%2Fpuppet-openstack-integration~master~I61b6c353cb5216265bf31d56a9f40437821b92fc,openstack/puppet-openstack-integration,master,I61b6c353cb5216265bf31d56a9f40437821b92fc,Handle lvcreate failure by ensuring dep on lvm2,MERGED,2019-05-03 12:55:57.000000000,2019-05-05 04:56:23.000000000,2019-05-05 03:57:33.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 9414}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-05-03 12:55:57.000000000', 'files': ['manifests/ceph.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ed4b1af4d163ae4c969018720cf2fc0bf0657fca', 'message': ""Handle lvcreate failure by ensuring dep on lvm2\n\n[1] added lvm_create task to create a lvm device\nrequired by ceph-nautilus. lvcreate command fails\nsome times with below Error:-\n/dev/ceph_vg/lv_data: not found: device not cleared\n\nTo overcome this let's add a direct dependency on 'lvm2'\npackage as lvm_create task needs that package, in addition\nadds a sleep task of 5 seconds.\n\n[1] https://review.opendev.org/#/c/650281\n\nChange-Id: I61b6c353cb5216265bf31d56a9f40437821b92fc\n""}]",0,656944,ed4b1af4d163ae4c969018720cf2fc0bf0657fca,14,9,1,13861,,,0,"Handle lvcreate failure by ensuring dep on lvm2

[1] added lvm_create task to create a lvm device
required by ceph-nautilus. lvcreate command fails
some times with below Error:-
/dev/ceph_vg/lv_data: not found: device not cleared

To overcome this let's add a direct dependency on 'lvm2'
package as lvm_create task needs that package, in addition
adds a sleep task of 5 seconds.

[1] https://review.opendev.org/#/c/650281

Change-Id: I61b6c353cb5216265bf31d56a9f40437821b92fc
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/44/656944/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ceph.pp'],1,ed4b1af4d163ae4c969018720cf2fc0bf0657fca,ceph-nautilus," ensure_packages(['lvm2'], {'ensure' => 'present', before => Exec['lvm_create']}) sleep 5",,3,0
openstack%2Fmagnum~master~Ia0193b5f1e902a8f5295baa54abb644d768131be,openstack/magnum,master,Ia0193b5f1e902a8f5295baa54abb644d768131be,suport multi discovery service,ABANDONED,2019-02-18 03:28:46.000000000,2019-05-05 03:54:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-02-18 03:28:46.000000000', 'files': ['magnum/drivers/heat/template_def.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/a2564dab671f17b0986b55d710df8febdd5a7e6c', 'message': 'suport multi discovery service\n\nmagnum will try to use discovery url in following order:\n1. discovery url which is passed when create a cluster\n2. discovery service endpoint in configuration\n3. if configurated discovery endpoint is differnent from\n   ""https://discovery.etcd.io/new?size=%(size)d"" and,\n   use ""https://discovery.etcd.io/new?size=%(size)d"" as a backup\n   service\n\nChange-Id: Ia0193b5f1e902a8f5295baa54abb644d768131be\nTask: 26938\n'}]",0,637450,a2564dab671f17b0986b55d710df8febdd5a7e6c,3,1,1,29549,,,0,"suport multi discovery service

magnum will try to use discovery url in following order:
1. discovery url which is passed when create a cluster
2. discovery service endpoint in configuration
3. if configurated discovery endpoint is differnent from
   ""https://discovery.etcd.io/new?size=%(size)d"" and,
   use ""https://discovery.etcd.io/new?size=%(size)d"" as a backup
   service

Change-Id: Ia0193b5f1e902a8f5295baa54abb644d768131be
Task: 26938
",git fetch https://review.opendev.org/openstack/magnum refs/changes/50/637450/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/heat/template_def.py'],1,a2564dab671f17b0986b55d710df8febdd5a7e6c,task-26938,"BACKUP_DISCOVERY_ENDPOINT_FORMAT = \ ""https://discovery.etcd.io/new?size=%(size)d"" def _get_discovery_url(endpoint_fmt, master_count): discovery_endpoint = endpoint_fmt % {'size': master_count} return discovery_url if hasattr(cluster, 'discovery_url') and cluster.discovery_url: if getattr(cluster, 'master_count', None) is not None: self.validate_discovery_url(cluster.discovery_url, cluster.master_count) else: self.validate_discovery_url(cluster.discovery_url, 1) discovery_url = cluster.discovery_url else: discovery_endpoint_fmt = \ CONF.cluster.etcd_discovery_service_endpoint_format try: discovery_url = _get_discovery_url( discovery_endpoint_fmt, cluster.master_count) except (exception.GetDiscoveryUrlFailed, exception.InvalidClusterDiscoveryURL): if discovery_endpoint_fmt != BACKUP_DISCOVERY_ENDPOINT_FORMAT: msg = 'invalid discovery endpoint fmt {}, use backup' \ 'discovery service {}' msg = msg.format(discovery_endpoint_fmt, BACKUP_DISCOVERY_ENDPOINT_FORMAT) LOG.warning(msg) discovery_url = _get_discovery_url( BACKUP_DISCOVERY_ENDPOINT_FORMAT, cluster.master_count) cluster.discovery_url = discovery_url"," if hasattr(cluster, 'discovery_url') and cluster.discovery_url: if getattr(cluster, 'master_count', None) is not None: self.validate_discovery_url(cluster.discovery_url, cluster.master_count) else: self.validate_discovery_url(cluster.discovery_url, 1) discovery_url = cluster.discovery_url else: discovery_endpoint = ( CONF.cluster.etcd_discovery_service_endpoint_format % {'size': cluster.master_count}) else: cluster.discovery_url = discovery_url",34,12
openstack%2Fironic-tempest-plugin~master~Idde0be920bb6a9be534d4c17e0ca98da2beff342,openstack/ironic-tempest-plugin,master,Idde0be920bb6a9be534d4c17e0ca98da2beff342,Using proper options for blkid.,MERGED,2019-04-30 13:06:37.000000000,2019-05-05 03:06:16.000000000,2019-05-05 03:06:15.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-04-30 13:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/ced1a2cce1d8e707044bf127991bbd67dedd9011', 'message': 'Use findmnt for verify partition\n\nRemoving mount/grep/cut combo in favor of single powerful\nfindmnt command.\n\nExample:\ntest:~$ findmnt -n -o SOURCE --source LABEL=cloudimg-rootfs\n/dev/vda1\ntest:~$ findmnt -n -o TARGET --source /dev/vda1\n/\n\nChange-Id: Idde0be920bb6a9be534d4c17e0ca98da2beff342\n'}, {'number': 2, 'created': '2019-04-30 15:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/cf967a645731c6beec0c59019b0b0da25f72f011', 'message': 'Use findmnt for verify partition\n\nRemoving mount/grep/cut combo in favor of single powerful\nfindmnt command.\nAlso using proper option for blkid.\n\nExample:\ntest:~$ sudo blkid -L cloudimg-rootfs\n/dev/vda1\ntest:~$ sudo findmnt -n -o TARGET --source /dev/vda1\n/\n\nChange-Id: Idde0be920bb6a9be534d4c17e0ca98da2beff342\n'}, {'number': 3, 'created': '2019-05-01 09:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/594e71584e731122c161fc9cf96739f7af1aa578', 'message': 'Improve verify partition\n\nRemoving mount/grep/cut combo in favor of single powerful\nfindmnt command.\nAlso using proper options for blkid.\n\nExample:\ntest:~$ sudo /sbin/blkid -c /dev/null -o device -t LABEL=cloudimg-rootfs\n/dev/vda1\ntest:~$ sudo findmnt -n -o TARGET --source /dev/vda1\n/\n\nChange-Id: Idde0be920bb6a9be534d4c17e0ca98da2beff342\n'}, {'number': 4, 'created': '2019-05-03 10:04:52.000000000', 'files': ['ironic_tempest_plugin/tests/scenario/test_baremetal_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/2ebfc15bf4424bf9fa32f5cfeb641b384c76b6c9', 'message': 'Using proper options for blkid.\n\nWe can use blikd options to get the device path.\n\nExample:\ntest:~$ sudo /sbin/blkid -c /dev/null -o device -t LABEL=cloudimg-rootfs\n/dev/vda1\n\nChange-Id: Idde0be920bb6a9be534d4c17e0ca98da2beff342\n'}]",0,656509,2ebfc15bf4424bf9fa32f5cfeb641b384c76b6c9,20,4,4,23851,,,0,"Using proper options for blkid.

We can use blikd options to get the device path.

Example:
test:~$ sudo /sbin/blkid -c /dev/null -o device -t LABEL=cloudimg-rootfs
/dev/vda1

Change-Id: Idde0be920bb6a9be534d4c17e0ca98da2beff342
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/09/656509/4 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/tests/scenario/test_baremetal_basic_ops.py'],1,ced1a2cce1d8e707044bf127991bbd67dedd9011,blkid-options," cmd = ""findmnt -n -o SOURCE --source LABEL=%s"" % label cmd = ""findmnt -n -o TARGET --source %s"" % device"," cmd = ""/sbin/blkid | grep '%s' | cut -d':' -f1"" % label cmd = ""mount | grep -w '%s' | cut -d' ' -f3"" % device",2,2
openstack%2Fos-vif~master~I8721b680bbd9f59a67bd8e6855ffb291c208cdb8,openstack/os-vif,master,I8721b680bbd9f59a67bd8e6855ffb291c208cdb8,"Prevent ""qbr"" Linux Bridge from replying to ARP messages",MERGED,2019-04-24 07:19:53.000000000,2019-05-05 02:53:29.000000000,2019-05-05 02:53:29.000000000,"[{'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 07:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/dee5f0ebc693af278deae69225c235ac9fc69024', 'message': 'Prevent ""qbr"" Linux Bridge from replying to ARP messages\n\nThe Linux Bridge inbetween the VM TAP interface and OVS should [1][2]:\n- Reply only if the target IP address is local address configured\n  on the incoming interface.\n- Always use the best local address.\n\n[1]http://kb.linuxvirtualserver.org/wiki/Using_arp_announce/arp_ignore_to_disable_ARP\n[2]http://linux-ip.net/html/ether-arp.html#ether-arp-flux\n\nChange-Id: I8721b680bbd9f59a67bd8e6855ffb291c208cdb8\nCloses-Bug: #1825888\n'}, {'number': 2, 'created': '2019-04-24 12:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/c8ff51cea9c1eba422199d41cafa085aa7ff0f6a', 'message': 'Prevent ""qbr"" Linux Bridge from replying to ARP messages\n\nThe Linux Bridge inbetween the VM TAP interface and OVS should [1][2]:\n- Reply only if the target IP address is local address configured\n  on the incoming interface.\n- Always use the best local address.\n\n[1]http://kb.linuxvirtualserver.org/wiki/Using_arp_announce/arp_ignore_to_disable_ARP\n[2]http://linux-ip.net/html/ether-arp.html#ether-arp-flux\n\nChange-Id: I8721b680bbd9f59a67bd8e6855ffb291c208cdb8\nCloses-Bug: #1825888\n'}, {'number': 3, 'created': '2019-04-24 14:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/9ed5894d5759ecded5ff3ad9f82c775855dbf2d7', 'message': 'Prevent ""qbr"" Linux Bridge from replying to ARP messages\n\nThe Linux Bridge inbetween the VM TAP interface and OVS should [1][2]:\n- Reply only if the target IP address is local address configured\n  on the incoming interface.\n- Always use the best local address.\n\n[1]http://kb.linuxvirtualserver.org/wiki/Using_arp_announce/arp_ignore_to_disable_ARP\n[2]http://linux-ip.net/html/ether-arp.html#ether-arp-flux\n\nChange-Id: I8721b680bbd9f59a67bd8e6855ffb291c208cdb8\nCloses-Bug: #1825888\n'}, {'number': 4, 'created': '2019-04-25 08:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/fe36b1d023624b3e283dcb0cfc915c8166faccfc', 'message': 'Prevent ""qbr"" Linux Bridge from replying to ARP messages\n\nThe Linux Bridge inbetween the VM TAP interface and OVS should [1][2]:\n- Reply only if the target IP address is local address configured\n  on the incoming interface.\n- Always use the best local address.\n\n[1]http://kb.linuxvirtualserver.org/wiki/Using_arp_announce/arp_ignore_to_disable_ARP\n[2]http://linux-ip.net/html/ether-arp.html#ether-arp-flux\n\nChange-Id: I8721b680bbd9f59a67bd8e6855ffb291c208cdb8\nCloses-Bug: #1825888\n'}, {'number': 5, 'created': '2019-04-25 14:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/a653e3a8bad8a54d0f3bfe98ce364c5afd200884', 'message': 'Prevent ""qbr"" Linux Bridge from replying to ARP messages\n\nThe Linux Bridge in between the VM TAP interface and OVS should [1][2]:\n- Reply only if the target IP address is local address configured\n  on the incoming interface.\n- Always use the best local address.\n\n[1]http://kb.linuxvirtualserver.org/wiki/Using_arp_announce/arp_ignore_to_disable_ARP\n[2]http://linux-ip.net/html/ether-arp.html#ether-arp-flux\n\nChange-Id: I8721b680bbd9f59a67bd8e6855ffb291c208cdb8\nCloses-Bug: #1825888\n'}, {'number': 6, 'created': '2019-04-26 09:20:14.000000000', 'files': ['vif_plug_linux_bridge/tests/unit/test_linux_net.py', 'releasenotes/notes/prevent-lb-reply-arp-6459133bfb056069.yaml', 'vif_plug_ovs/linux_net.py', 'vif_plug_linux_bridge/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/9ad9b8483913a38345133120b04c4677fab9cb68', 'message': 'Prevent ""qbr"" Linux Bridge from replying to ARP messages\n\nThe Linux Bridge in between the VM TAP interface and OVS should [1][2]:\n- Reply only if the target IP address is local address configured\n  on the incoming interface.\n- Always use the best local address.\n\n[1]http://kb.linuxvirtualserver.org/wiki/Using_arp_announce/arp_ignore_to_disable_ARP\n[2]http://linux-ip.net/html/ether-arp.html#ether-arp-flux\n\nChange-Id: I8721b680bbd9f59a67bd8e6855ffb291c208cdb8\nCloses-Bug: #1825888\n'}]",12,655332,9ad9b8483913a38345133120b04c4677fab9cb68,35,6,6,16688,,,0,"Prevent ""qbr"" Linux Bridge from replying to ARP messages

The Linux Bridge in between the VM TAP interface and OVS should [1][2]:
- Reply only if the target IP address is local address configured
  on the incoming interface.
- Always use the best local address.

[1]http://kb.linuxvirtualserver.org/wiki/Using_arp_announce/arp_ignore_to_disable_ARP
[2]http://linux-ip.net/html/ether-arp.html#ether-arp-flux

Change-Id: I8721b680bbd9f59a67bd8e6855ffb291c208cdb8
Closes-Bug: #1825888
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/32/655332/6 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py']",2,dee5f0ebc693af278deae69225c235ac9fc69024,bug/1825888,"from oslo_concurrency import processutils @mock.patch.object(linux_net, ""_arp_filtering"") mock_disable_ipv6, mock_set_state, mock_arp_filtering): mock_arp_filtering.assert_called_once_with(""br0"") @mock.patch.object(linux_net, ""_arp_filtering"") mock_disable_ipv6, mock_set_state, mock_arp_filtering): mock_arp_filtering.assert_called_once_with(""br0"") @mock.patch.object(processutils, ""execute"") def test__arp_filtering(self, mock_execute): linux_net._arp_filtering(""br0"") mock_execute.assert_has_calls([ mock.call('sysctl', '-w', 'net.ipv4.conf.br0.arp_ignore=1'), mock.call('sysctl', '-w', 'net.ipv4.conf.br0.arp_announce=2') ]) "," mock_disable_ipv6, mock_set_state): mock_disable_ipv6, mock_set_state):",32,2
openstack%2Frequirements~master~I69d32ea9d94ec2c34ed173b84a291d91da1b93e2,openstack/requirements,master,I69d32ea9d94ec2c34ed173b84a291d91da1b93e2,Updated from generate-constraints,MERGED,2019-05-03 06:26:00.000000000,2019-05-05 02:50:28.000000000,2019-05-05 02:50:28.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 06:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/005a7db5f4eb1dbb4d0be4a9daaecf977df58aee', 'message': 'Updated from generate-constraints\n\nChange-Id: I69d32ea9d94ec2c34ed173b84a291d91da1b93e2\n'}, {'number': 2, 'created': '2019-05-04 06:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ee773777f8bd90f6c0de2e093b8550c9a2c3cb22', 'message': 'Updated from generate-constraints\n\nChange-Id: I69d32ea9d94ec2c34ed173b84a291d91da1b93e2\n'}, {'number': 3, 'created': '2019-05-04 19:21:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6affabb05381072509f382af865a54a7916b7664', 'message': 'Updated from generate-constraints\n\nChange-Id: I69d32ea9d94ec2c34ed173b84a291d91da1b93e2\n'}]",0,656924,6affabb05381072509f382af865a54a7916b7664,13,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: I69d32ea9d94ec2c34ed173b84a291d91da1b93e2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/24/656924/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,005a7db5f4eb1dbb4d0be4a9daaecf977df58aee,openstack/requirements/constraints/noclob,SQLAlchemy===1.3.3urllib3===1.25.2tornado===5.1.1;python_version=='2.7'mock===3.0.3cassandra-driver===3.17.1stestr===2.3.1kubernetes===9.0.0botocore===1.12.141network-runner===0.1.6Werkzeug===0.15.2jsonschema===3.0.1,SQLAlchemy===1.2.18urllib3===1.24.1tornado===4.5.3;python_version=='2.7'mock===2.0.0cassandra-driver===3.17.0stestr===2.2.0kubernetes===8.0.1botocore===1.12.139network-runner===0.1.5Werkzeug===0.14.1jsonschema===2.6.0,11,11
openstack%2Fzun~master~I67ad3fd69bc7680fb565bfc138bc0d8b77157649,openstack/zun,master,I67ad3fd69bc7680fb565bfc138bc0d8b77157649,Disable image validation,MERGED,2019-05-04 21:01:28.000000000,2019-05-05 02:08:11.000000000,2019-05-05 02:08:11.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-04 21:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/8169585ebc6bb0557ec89993a7b6982bd38ebc51', 'message': ""Disable image validation\n\nIn before, Zun validate the container's image before lauching\nthe container. The goal is to have a pre-flight check before\ndoing an expensive operation.\n\nHowever, this feature has several disadvantages:\n* It blocks the zun api server on validating the image\n* It relies on API call to external image registry (i.e. DockerHub),\n  so it is not reliable.\n\nThis commit changes the default configuration to disable image\nvalidation by default.\n\nChange-Id: I67ad3fd69bc7680fb565bfc138bc0d8b77157649\n""}, {'number': 2, 'created': '2019-05-04 22:38:47.000000000', 'files': ['zun/conf/api.py', 'zun/tests/unit/compute/test_compute_api.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/b00bba2483a372c76c2d64c06c701a7c8d9e3a7b', 'message': ""Disable image validation\n\nIn before, Zun validate the container's image before lauching\nthe container. The goal is to have a pre-flight check before\ndoing an expensive operation.\n\nHowever, this feature has several disadvantages:\n* It blocks the zun api server on validating the image\n* It relies on API call to external image registry (i.e. DockerHub),\n  so it is not reliable.\n\nThis commit changes the default configuration to disable image\nvalidation by default.\n\nChange-Id: I67ad3fd69bc7680fb565bfc138bc0d8b77157649\n""}]",0,657165,b00bba2483a372c76c2d64c06c701a7c8d9e3a7b,10,2,2,11536,,,0,"Disable image validation

In before, Zun validate the container's image before lauching
the container. The goal is to have a pre-flight check before
doing an expensive operation.

However, this feature has several disadvantages:
* It blocks the zun api server on validating the image
* It relies on API call to external image registry (i.e. DockerHub),
  so it is not reliable.

This commit changes the default configuration to disable image
validation by default.

Change-Id: I67ad3fd69bc7680fb565bfc138bc0d8b77157649
",git fetch https://review.opendev.org/openstack/zun refs/changes/65/657165/2 && git format-patch -1 --stdout FETCH_HEAD,['zun/conf/api.py'],1,8169585ebc6bb0557ec89993a7b6982bd38ebc51,," default=False,"," default=True,",1,1
openstack%2Fhorizon~master~I85712fd9587d8815d2f3c74227ded9a4f62296f3,openstack/horizon,master,I85712fd9587d8815d2f3c74227ded9a4f62296f3,Fix KeyError when image was deleted,MERGED,2019-04-30 08:12:03.000000000,2019-05-05 01:40:13.000000000,2019-05-03 01:08:46.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-04-30 08:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d2a6674602805a37bed82a4f3af4c00a2853faea', 'message': 'Fix KeyError when image was deleted\n\nKeyError was raised when volume was created from image and\nthen this image is deleted. THis patch adds additional check\nto avoid such situations.\n\nChange-Id: I85712fd9587d8815d2f3c74227ded9a4f62296f3\n'}, {'number': 2, 'created': '2019-04-30 08:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d41ccc9211e0fa6eaa9c996a24234487dc50e6fa', 'message': 'Fix KeyError when image was deleted\n\nKeyError was raised when volume was created from image and\nthen this image is deleted. THis patch adds additional check\nto avoid such situations.\n\nChange-Id: I85712fd9587d8815d2f3c74227ded9a4f62296f3\n'}, {'number': 3, 'created': '2019-04-30 09:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e40fdb1b7eb780e6b1dbfc696260fa8cdeae3baf', 'message': 'Fix KeyError when image was deleted\n\nKeyError was raised when volume was created from image and\nthen this image is deleted. THis patch adds additional check\nto avoid such situations.\n\nChange-Id: I85712fd9587d8815d2f3c74227ded9a4f62296f3\n'}, {'number': 4, 'created': '2019-05-01 09:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b49d882743b580ce9a79fe01b3c6101067d63a0e', 'message': 'Fix KeyError when image was deleted\n\nKeyError was raised when volume was created from image and\nthen this image is deleted. THis patch adds additional check\nto avoid such situations.\n\nChange-Id: I85712fd9587d8815d2f3c74227ded9a4f62296f3\n'}, {'number': 5, 'created': '2019-05-01 10:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0bb826fb650e6a179e09b32ffaa89e7eeb2a2a6c', 'message': 'Fix KeyError when image was deleted\n\nKeyError was raised when volume was created from image and\nthen this image is deleted. THis patch adds additional check\nto avoid such situations.\n\nChange-Id: I85712fd9587d8815d2f3c74227ded9a4f62296f3\n'}, {'number': 6, 'created': '2019-05-01 12:01:43.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a1559be7786f8f944cb01b4f502c9c54ae2c7baf', 'message': 'Fix KeyError when image was deleted\n\nKeyError was raised when volume was created from image and\nthen this image is deleted. THis patch adds additional check\nto avoid such situations.\n\nChange-Id: I85712fd9587d8815d2f3c74227ded9a4f62296f3\n'}]",4,656456,a1559be7786f8f944cb01b4f502c9c54ae2c7baf,22,4,6,28619,,,0,"Fix KeyError when image was deleted

KeyError was raised when volume was created from image and
then this image is deleted. THis patch adds additional check
to avoid such situations.

Change-Id: I85712fd9587d8815d2f3c74227ded9a4f62296f3
",git fetch https://review.opendev.org/openstack/horizon refs/changes/56/656456/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/views.py'],1,d2a6674602805a37bed82a4f3af4c00a2853faea,instances/volume_image_metadata," if hasattr(boot_volume, ""volume_image_metadata"") and \ boot_volume.volume_image_metadata['image_id'] in \ image_dict: submit_label = _(""Disassocaite"")"," if hasattr(boot_volume, ""volume_image_metadata""): submit_label = _(""Disassociate"")",4,2
openstack%2Fmurano~master~Iaf5868c173963eb737e27c2a3221f6b6a23fac84,openstack/murano,master,Iaf5868c173963eb737e27c2a3221f6b6a23fac84,Correct the environment template clone error message,MERGED,2018-01-30 08:23:01.000000000,2019-05-05 01:32:36.000000000,2019-05-05 01:32:36.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-30 08:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/3779b93acae91c5f2df8d835fbfc8731613fe977', 'message': 'Environment template clone\n\n    When cloning environment template with the same name, the\nexception description is error.\n\nChange-Id: Iaf5868c173963eb737e27c2a3221f6b6a23fac84\n'}, {'number': 2, 'created': '2018-02-08 08:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/d3599083a6be2ead9b1c96e196420818dd4f5986', 'message': 'Environment template clone\n\n    When cloning environment template with the same name, the\ncurrent exception description is ""Environment with specified name \nalready exists"", ""Environment"" in the exception description \nshould be ""Env template"".\n\nChange-Id: Iaf5868c173963eb737e27c2a3221f6b6a23fac84\n'}, {'number': 3, 'created': '2019-04-30 07:42:58.000000000', 'files': ['murano/api/v1/templates.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/2ea5234a4dee2c7fa866be175711a2e3b4b5139c', 'message': 'Correct the environment template clone error message\n\nWhen cloning environment template with the same name, the\ncurrent exception description is ""Environment with specified name\nalready exists"", ""Environment"" in the exception description\nshould be ""Env template"".\n\nCo-Authored-By: zhurong <aaronzhu1121@gmail.com>\nChange-Id: Iaf5868c173963eb737e27c2a3221f6b6a23fac84\n'}]",1,539133,2ea5234a4dee2c7fa866be175711a2e3b4b5139c,12,2,3,24269,,,0,"Correct the environment template clone error message

When cloning environment template with the same name, the
current exception description is ""Environment with specified name
already exists"", ""Environment"" in the exception description
should be ""Env template"".

Co-Authored-By: zhurong <aaronzhu1121@gmail.com>
Change-Id: Iaf5868c173963eb737e27c2a3221f6b6a23fac84
",git fetch https://review.opendev.org/openstack/murano refs/changes/33/539133/2 && git format-patch -1 --stdout FETCH_HEAD,['murano/api/v1/templates.py'],1,3779b93acae91c5f2df8d835fbfc8731613fe977,bugFix000214, msg = _('Env Template with specified name already exists'), msg = _('Environment with specified name already exists'),1,1
openstack%2Fhorizon~master~I0998136f6e1c0a37fe39fc2c54a3a106cd24c7d1,openstack/horizon,master,I0998136f6e1c0a37fe39fc2c54a3a106cd24c7d1,Get the instance.image using the get method,ABANDONED,2019-04-28 02:00:11.000000000,2019-05-05 01:26:16.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-28 02:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/dec969ca995f9f76d2ba9cf8fd967f2a18b6647a', 'message': 'Get the instance.image using the get method\n\nAfter creating an instance in the way of creating a new volume,\ndelete the used image first, then access the instance page,\nand an error message is shown.\n\nThis patch using the get method to get image\n\nChange-Id: I0998136f6e1c0a37fe39fc2c54a3a106cd24c7d1\nCloses-Bug: #1826690\n'}, {'number': 2, 'created': '2019-04-28 02:01:31.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/10afff1c17b06bfb9a2e9b38d8c7077e1ec1a623', 'message': 'Get the instance.image using the get method\n\nAfter creating an instance in the way of creating a new volume,\ndelete the used image first, then access the instance page,\nand an error message is shown.\n\nThis patch use the get method to get image\n\nChange-Id: I0998136f6e1c0a37fe39fc2c54a3a106cd24c7d1\nCloses-Bug: #1826690\n'}]",0,656093,10afff1c17b06bfb9a2e9b38d8c7077e1ec1a623,5,2,2,27822,,,0,"Get the instance.image using the get method

After creating an instance in the way of creating a new volume,
delete the used image first, then access the instance page,
and an error message is shown.

This patch use the get method to get image

Change-Id: I0998136f6e1c0a37fe39fc2c54a3a106cd24c7d1
Closes-Bug: #1826690
",git fetch https://review.opendev.org/openstack/horizon refs/changes/93/656093/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/views.py'],1,dec969ca995f9f76d2ba9cf8fd967f2a18b6647a,bug/1826690, instance.image = image_dict.get( ), instance.image = image_dict[ ],2,2
openstack%2Ftripleo-heat-templates~stable%2Fstein~I9c7e938ddd3a21eeb6166ade7874c46700bb6a5b,openstack/tripleo-heat-templates,stable/stein,I9c7e938ddd3a21eeb6166ade7874c46700bb6a5b,Fix cinder-backup deployment templates,MERGED,2019-05-03 22:04:28.000000000,2019-05-05 01:20:58.000000000,2019-05-05 01:20:57.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-03 22:04:28.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/125cecfcb2fb8cca7804d5e9c5b4b749c9717aec', 'message': ""Fix cinder-backup deployment templates\n\nFix the step_config portion of the puppet_config that configures the\ncinder-backup service's backend driver. For the pacemaker version,\nfix the path to the CinderBackupBase's step_config.\n\nCloses-Bug: #1826897\nChange-Id: I9c7e938ddd3a21eeb6166ade7874c46700bb6a5b\n(cherry picked from commit 1e33dfa8f6b0e872890a41a3b537ed8c14e21dc0)\n""}]",0,657069,125cecfcb2fb8cca7804d5e9c5b4b749c9717aec,7,3,1,21129,,,0,"Fix cinder-backup deployment templates

Fix the step_config portion of the puppet_config that configures the
cinder-backup service's backend driver. For the pacemaker version,
fix the path to the CinderBackupBase's step_config.

Closes-Bug: #1826897
Change-Id: I9c7e938ddd3a21eeb6166ade7874c46700bb6a5b
(cherry picked from commit 1e33dfa8f6b0e872890a41a3b537ed8c14e21dc0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/657069/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml']",2,125cecfcb2fb8cca7804d5e9c5b4b749c9717aec,bug/1826897," - str_replace: template: ""include ::tripleo::profile::base::cinder::backup::DRIVER"" params: DRIVER: {get_param: CinderBackupBackend}"," str_replace: template: ""include ::tripleo::profile::base::cinder::backup::DRIVER"" params: DRIVER: {get_param: CinderBackupBackend}",6,6
openstack%2Fneutron~master~Ibaa8ec2270d4fe76f20c55218ee6af9d2b7d38c0,openstack/neutron,master,Ibaa8ec2270d4fe76f20c55218ee6af9d2b7d38c0,Remove ovs-ofctl after 5 develop cycles,ABANDONED,2019-04-30 07:25:53.000000000,2019-05-05 01:15:07.000000000,,"[{'_account_id': 1131}, {'_account_id': 6854}, {'_account_id': 9200}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-30 07:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f45123e5981fe9077d77160a4c26703520756f74', 'message': 'Remove ovs-ofctl after 5 develop cycles\n\nChange-Id: Ibaa8ec2270d4fe76f20c55218ee6af9d2b7d38c0\n'}, {'number': 2, 'created': '2019-04-30 07:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/810dff25c569e61f51a503c10461b54cd1b94a1f', 'message': ""Remove ovs-ofctl after 5 develop cycles\n\nIt was marked as deprecated after Ocata Design Summit [1],\nand mostly because it is really inefficient at sacle. So\nlet's remove it.\n\n[1] https://review.opendev.org/#/c/424953/\n\nChange-Id: Ibaa8ec2270d4fe76f20c55218ee6af9d2b7d38c0\n""}, {'number': 3, 'created': '2019-04-30 10:57:44.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/main.py', 'neutron/tests/fullstack/test_firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/__init__.py', 'releasenotes/notes/permanently-remove-ovs-ofctl-044b30286c8af367.yaml', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/main.py', 'neutron/tests/fullstack/test_logging.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/br_int.py', 'neutron/tests/fullstack/resources/environment.py', 'neutron/cmd/sanity/checks.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/test_br_phys.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/br_phys.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ofswitch.py', 'neutron/tests/fullstack/test_qos.py', 'neutron/tests/fullstack/utils.py', 'neutron/tests/fullstack/test_securitygroup.py', 'etc/neutron/rootwrap.d/openvswitch-plugin.filters', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/test_br_tun.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/ovs_bridge_test_base.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/test_br_int.py', 'neutron/tests/functional/agent/test_ovs_flows.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_tun.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/ovs_bridge.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/ofswitch.py', 'neutron/tests/common/conn_testers.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/test_br_cookie.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/br_dvr_process.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/tests/functional/services/logapi/test_logging.py', 'neutron/tests/functional/test_oskenapp.py', 'neutron/tests/unit/agent/l2/extensions/test_qos.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/__init__.py', 'neutron/tests/unit/services/logapi/agent/test_log_extension.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/br_tun.py', 'neutron/tests/fullstack/resources/config.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/extension_drivers/test_qos_driver.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/tests/fullstack/test_connectivity.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed87ea47ad792864d0fb8d80de0ecd3def8c813d', 'message': ""Remove ovs-ofctl after 5 develop cycles\n\nIt was marked as deprecated after Ocata Design Summit [1],\nand mostly because it is really inefficient at sacle. So\nlet's remove it.\n\n[1] https://review.opendev.org/#/c/424953/\n\nChange-Id: Ibaa8ec2270d4fe76f20c55218ee6af9d2b7d38c0\n""}]",4,656453,ed87ea47ad792864d0fb8d80de0ecd3def8c813d,16,10,3,9531,,,0,"Remove ovs-ofctl after 5 develop cycles

It was marked as deprecated after Ocata Design Summit [1],
and mostly because it is really inefficient at sacle. So
let's remove it.

[1] https://review.opendev.org/#/c/424953/

Change-Id: Ibaa8ec2270d4fe76f20c55218ee6af9d2b7d38c0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/656453/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/main.py', 'etc/neutron/rootwrap.d/openvswitch-plugin.filters', 'neutron/tests/fullstack/test_firewall.py', 'neutron/tests/functional/agent/test_ovs_flows.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_tun.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/main.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/ovs_bridge.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/ofswitch.py', 'neutron/tests/fullstack/test_logging.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/br_int.py', 'neutron/tests/fullstack/resources/environment.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/br_dvr_process.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/br_phys.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ofswitch.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/__init__.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/br_tun.py', 'neutron/tests/fullstack/test_qos.py', 'neutron/tests/fullstack/resources/config.py', 'neutron/tests/fullstack/utils.py', 'neutron/tests/fullstack/test_connectivity.py', 'neutron/tests/fullstack/test_securitygroup.py']",22,f45123e5981fe9077d77160a4c26703520756f74,remove_ovs_ofctl,," of_interface = None of_interface=self.of_interface, 'of_interface': 'native', ('ovs-openflow-cli', { 'firewall_driver': 'openvswitch', 'of_interface': 'ovs-ofctl', 'l2_agent_type': constants.AGENT_TYPE_OVS, 'num_hosts': 2}), 'of_interface': 'native',",12,869
openstack%2Fswift~master~Ib21568f9b9d8547da87a99d65ae73a550e9c3230,openstack/swift,master,Ib21568f9b9d8547da87a99d65ae73a550e9c3230,Enable to configure object-expirer in object-server.conf,MERGED,2018-09-12 08:25:43.000000000,2019-05-05 00:25:11.000000000,2019-05-05 00:25:11.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 4608}, {'_account_id': 7233}, {'_account_id': 13852}, {'_account_id': 14766}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-12 08:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6f581b544324f21a34929fcd0ca166e21e8a0487', 'message': ""Enable to configure object-expirer in object-server.conf\n\nTo prepare for object-expirer's general task queue feature [1],\nthis patch enables to configure object-expirer in object-server.conf.\nobject-expirer.conf can be used in the same manner as before.\n\n[1]: https://review.openstack.org/#/c/517389/\n\nChange-Id: Ib21568f9b9d8547da87a99d65ae73a550e9c3230\n""}, {'number': 2, 'created': '2018-09-12 16:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7e7613ff9b337f1c6bb31c9be98da4a24ceb302e', 'message': 'Enable to configure object-expirer in object-server.conf\n\nTo prepare for object-expirer\'s general task queue feature [1],\nthis patch enables to configure object-expirer in object-server.conf.\nObject-expirer.conf can be used in the same manner as before.\n\nIf both of object-server.conf with ""object-expirer"" section and\nobject-expirer.conf, only object-server.conf is used.\nObject-expirer.conf is used only when all object-server.conf\ndoesn\'t have ""object-expirer"" section.\n\n[1]: https://review.openstack.org/#/c/517389/\n\nChange-Id: Ib21568f9b9d8547da87a99d65ae73a550e9c3230\n'}, {'number': 3, 'created': '2018-09-14 23:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5d0e763c62902e25f2c37b7b63890d638f947641', 'message': 'Enable to configure object-expirer in object-server.conf\n\nTo prepare for object-expirer\'s general task queue feature [1],\nthis patch enables to configure object-expirer in object-server.conf.\nObject-expirer.conf can be used in the same manner as before.\n\nIf both of object-server.conf with ""object-expirer"" section and\nobject-expirer.conf, only object-server.conf is used.\nObject-expirer.conf is used only when all object-server.conf\ndoesn\'t have ""object-expirer"" section.\n\n[1]: https://review.openstack.org/#/c/517389/\n\nChange-Id: Ib21568f9b9d8547da87a99d65ae73a550e9c3230\n'}, {'number': 4, 'created': '2018-09-21 12:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/24db649ea44147a6dbb1f4365cc94309cef4f03c', 'message': 'Enable to configure object-expirer in object-server.conf\n\nTo prepare for object-expirer\'s general task queue feature [1],\nthis patch enables to configure object-expirer in object-server.conf.\nObject-expirer.conf can be used in the same manner as before, but deprecated.\n\nIf both of object-server.conf with ""object-expirer"" section and\nobject-expirer.conf are in a node, only object-server.conf is used.\nObject-expirer.conf is used only if all object-server.conf doesn\'t have\n""object-expirer"" section.\n\n[1]: https://review.openstack.org/#/c/517389/\n\nChange-Id: Ib21568f9b9d8547da87a99d65ae73a550e9c3230\n'}, {'number': 5, 'created': '2018-10-10 09:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ca59e1dabd65e9914942e6fa66665cd1b11be93d', 'message': 'Enable to configure object-expirer in object-server.conf\n\nTo prepare for object-expirer\'s general task queue feature [1],\nthis patch enables to configure object-expirer in object-server.conf.\nObject-expirer.conf can be used in the same manner as before, but deprecated.\n\nIf both of object-server.conf with ""object-expirer"" section and\nobject-expirer.conf are in a node, only object-server.conf is used.\nObject-expirer.conf is used only if all object-server.conf doesn\'t have\n""object-expirer"" section.\n\n[1]: https://review.openstack.org/#/c/517389/\n\nChange-Id: Ib21568f9b9d8547da87a99d65ae73a550e9c3230\n'}, {'number': 6, 'created': '2018-11-28 08:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ff5efc0255132902aa88706df2d17046e0e8838f', 'message': 'Enable to configure object-expirer in object-server.conf\n\nTo prepare for object-expirer\'s general task queue feature [1],\nthis patch enables to configure object-expirer in object-server.conf.\nObject-expirer.conf can be used in the same manner as before, but deprecated.\n\nIf both of object-server.conf with ""object-expirer"" section and\nobject-expirer.conf are in a node, only object-server.conf is used.\nObject-expirer.conf is used only if all object-server.conf doesn\'t have\n""object-expirer"" section.\n\n[1]: https://review.openstack.org/#/c/517389/\n\nChange-Id: Ib21568f9b9d8547da87a99d65ae73a550e9c3230\n'}, {'number': 7, 'created': '2018-12-26 02:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/01c6820fb010768bfb32e40ee2cefd4a0463ad44', 'message': 'Enable to configure object-expirer in object-server.conf\n\nTo prepare for object-expirer\'s general task queue feature [1],\nthis patch enables to configure object-expirer in object-server.conf.\nObject-expirer.conf can be used in the same manner as before, but deprecated.\n\nIf both of object-server.conf with ""object-expirer"" section and\nobject-expirer.conf are in a node, only object-server.conf is used.\nObject-expirer.conf is used only if all object-server.conf doesn\'t have\n""object-expirer"" section.\n\n[1]: https://review.openstack.org/#/c/517389/\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: Ib21568f9b9d8547da87a99d65ae73a550e9c3230\n'}, {'number': 8, 'created': '2018-12-26 04:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a2a8aed681fd2bbbe60ac8f3ab9c0a584ecd09cc', 'message': 'Enable to configure object-expirer in object-server.conf\n\nTo prepare for object-expirer\'s general task queue feature [1],\nthis patch enables to configure object-expirer in object-server.conf.\nObject-expirer.conf can be used in the same manner as before, but deprecated.\n\nIf both of object-server.conf with ""object-expirer"" section and\nobject-expirer.conf are in a node, only object-server.conf is used.\nObject-expirer.conf is used only if all object-server.conf doesn\'t have\n""object-expirer"" section.\n\n[1]: https://review.openstack.org/#/c/517389/\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: Ib21568f9b9d8547da87a99d65ae73a550e9c3230\n'}, {'number': 9, 'created': '2018-12-26 04:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f0d94b2dadf131ed1eb64efe07b59d801009fd55', 'message': 'Enable to configure object-expirer in object-server.conf\n\nTo prepare for object-expirer\'s general task queue feature [1],\nthis patch enables to configure object-expirer in object-server.conf.\nObject-expirer.conf can be used in the same manner as before, but deprecated.\n\nIf both of object-server.conf with ""object-expirer"" section and\nobject-expirer.conf are in a node, only object-server.conf is used.\nObject-expirer.conf is used only if all object-server.conf doesn\'t have\n""object-expirer"" section.\n\n[1]: https://review.openstack.org/#/c/517389/\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: Ib21568f9b9d8547da87a99d65ae73a550e9c3230\n'}, {'number': 10, 'created': '2018-12-27 09:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/29b56d6d97b1e74bcf1e33867384d5efc2690f92', 'message': 'Enable to configure object-expirer in object-server.conf\n\nTo prepare for object-expirer\'s general task queue feature [1],\nthis patch enables to configure object-expirer in object-server.conf.\nObject-expirer.conf can be used in the same manner as before, but deprecated.\n\nIf both of object-server.conf with ""object-expirer"" section and\nobject-expirer.conf are in a node, only object-server.conf is used.\nObject-expirer.conf is used only if all object-server.conf doesn\'t have\n""object-expirer"" section.\n\n[1]: https://review.openstack.org/#/c/517389/\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: Ib21568f9b9d8547da87a99d65ae73a550e9c3230\n'}, {'number': 11, 'created': '2018-12-27 10:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/99095807a919b8f8cb1e26a8f30a1f8f457894e1', 'message': 'Enable to configure object-expirer in object-server.conf\n\nTo prepare for object-expirer\'s general task queue feature [1],\nthis patch enables to configure object-expirer in object-server.conf.\nObject-expirer.conf can be used in the same manner as before, but deprecated.\n\nIf both of object-server.conf with ""object-expirer"" section and\nobject-expirer.conf are in a node, only object-server.conf is used.\nObject-expirer.conf is used only if all object-server.conf doesn\'t have\n""object-expirer"" section.\n\n[1]: https://review.openstack.org/#/c/517389/\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: Ib21568f9b9d8547da87a99d65ae73a550e9c3230\n'}, {'number': 12, 'created': '2019-03-29 04:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e0498217469b8640d5e409899ce75298db0a007a', 'message': 'Enable to configure object-expirer in object-server.conf\n\nTo prepare for object-expirer\'s general task queue feature [1],\nthis patch enables to configure object-expirer in object-server.conf.\nObject-expirer.conf can be used in the same manner as before, but deprecated.\n\nIf both of object-server.conf with ""object-expirer"" section and\nobject-expirer.conf are in a node, only object-server.conf is used.\nObject-expirer.conf is used only if all object-server.conf doesn\'t have\n""object-expirer"" section.\n\nThere are two differences between ""object-expirer.conf"" style and\n""object-server.conf"" style.\n\nThe first difference is `dequeue_from_legacy` default value.\n`dequeue_from_legacy` defines task queue mode. In ""object-expirer.conf""\nstyle, the default mode is legacy queue. In ""object-server.conf"" style,\nthe default mode is general queue. But general mode means no-op mode\nfor now, because general task queue is not implemented yet.\n\nThe second difference is internal client config. In ""object-expirer.conf""\nstyle, config file of internal client is the object-expirer.conf itself.\nIn ""object-server.conf"" style, config file of internal client is\nanother file.\n\n[1]: https://review.openstack.org/#/c/517389/\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: Ib21568f9b9d8547da87a99d65ae73a550e9c3230\n'}, {'number': 13, 'created': '2019-03-29 05:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/52e3336abf8485d3bfc267dd447b208fba1fb68f', 'message': 'Enable to configure object-expirer in object-server.conf\n\nTo prepare for object-expirer\'s general task queue feature [1],\nthis patch enables to configure object-expirer in object-server.conf.\nObject-expirer.conf can be used in the same manner as before, but deprecated.\n\nIf both of object-server.conf with ""object-expirer"" section and\nobject-expirer.conf are in a node, only object-server.conf is used.\nObject-expirer.conf is used only if all object-server.conf doesn\'t have\n""object-expirer"" section.\n\nThere are two differences between ""object-expirer.conf"" style and\n""object-server.conf"" style.\n\nThe first difference is `dequeue_from_legacy` default value.\n`dequeue_from_legacy` defines task queue mode. In ""object-expirer.conf""\nstyle, the default mode is legacy queue. In ""object-server.conf"" style,\nthe default mode is general queue. But general mode means no-op mode\nfor now, because general task queue is not implemented yet.\n\nThe second difference is internal client config. In ""object-expirer.conf""\nstyle, config file of internal client is the object-expirer.conf itself.\nIn ""object-server.conf"" style, config file of internal client is\nanother file.\n\n[1]: https://review.openstack.org/#/c/517389/\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: Ib21568f9b9d8547da87a99d65ae73a550e9c3230\n'}, {'number': 14, 'created': '2019-05-02 21:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3269a3c1e903ec97fbf48e6b2bbe411fcdfe3401', 'message': 'Enable to configure object-expirer in object-server.conf\n\nTo prepare for object-expirer\'s general task queue feature [1],\nthis patch enables to configure object-expirer in object-server.conf.\nObject-expirer.conf can be used in the same manner as before, but deprecated.\n\nIf both of object-server.conf with ""object-expirer"" section and\nobject-expirer.conf are in a node, only object-server.conf is used.\nObject-expirer.conf is used only if all object-server.conf doesn\'t have\n""object-expirer"" section.\n\nThere are two differences between ""object-expirer.conf"" style and\n""object-server.conf"" style.\n\nThe first difference is `dequeue_from_legacy` default value.\n`dequeue_from_legacy` defines task queue mode. In ""object-expirer.conf""\nstyle, the default mode is legacy queue. In ""object-server.conf"" style,\nthe default mode is general queue. But general mode means no-op mode\nfor now, because general task queue is not implemented yet.\n\nThe second difference is internal client config. In ""object-expirer.conf""\nstyle, config file of internal client is the object-expirer.conf itself.\nIn ""object-server.conf"" style, config file of internal client is\nanother file.\n\n[1]: https://review.openstack.org/#/c/517389/\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: Ib21568f9b9d8547da87a99d65ae73a550e9c3230\n'}, {'number': 15, 'created': '2019-05-04 15:45:02.000000000', 'files': ['doc/source/deployment_guide.rst', 'doc/manpages/swift-object-expirer.1', 'test/unit/common/test_manager.py', 'swift/common/manager.py', 'doc/manpages/object-server.conf.5', 'doc/source/overview_expiring_objects.rst', 'swift/obj/expirer.py', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/443f029a584c5bb7dd7b910ddacd8fa562272dfb', 'message': 'Enable to configure object-expirer in object-server.conf\n\nTo prepare for object-expirer\'s general task queue feature [1],\nthis patch enables to configure object-expirer in object-server.conf.\nObject-expirer.conf can be used in the same manner as before, but deprecated.\n\nIf both of object-server.conf with ""object-expirer"" section and\nobject-expirer.conf are in a node, only object-server.conf is used.\nObject-expirer.conf is used only if all object-server.conf doesn\'t have\n""object-expirer"" section.\n\nThere are two differences between ""object-expirer.conf"" style and\n""object-server.conf"" style.\n\nThe first difference is `dequeue_from_legacy` default value.\n`dequeue_from_legacy` defines task queue mode. In ""object-expirer.conf""\nstyle, the default mode is legacy queue. In ""object-server.conf"" style,\nthe default mode is general queue. But general mode means no-op mode\nfor now, because general task queue is not implemented yet.\n\nThe second difference is internal client config. In ""object-expirer.conf""\nstyle, config file of internal client is the object-expirer.conf itself.\nIn ""object-server.conf"" style, config file of internal client is\nanother file.\n\n[1]: https://review.openstack.org/#/c/517389/\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: Ib21568f9b9d8547da87a99d65ae73a550e9c3230\n'}]",47,601950,443f029a584c5bb7dd7b910ddacd8fa562272dfb,82,8,15,14766,,,0,"Enable to configure object-expirer in object-server.conf

To prepare for object-expirer's general task queue feature [1],
this patch enables to configure object-expirer in object-server.conf.
Object-expirer.conf can be used in the same manner as before, but deprecated.

If both of object-server.conf with ""object-expirer"" section and
object-expirer.conf are in a node, only object-server.conf is used.
Object-expirer.conf is used only if all object-server.conf doesn't have
""object-expirer"" section.

There are two differences between ""object-expirer.conf"" style and
""object-server.conf"" style.

The first difference is `dequeue_from_legacy` default value.
`dequeue_from_legacy` defines task queue mode. In ""object-expirer.conf""
style, the default mode is legacy queue. In ""object-server.conf"" style,
the default mode is general queue. But general mode means no-op mode
for now, because general task queue is not implemented yet.

The second difference is internal client config. In ""object-expirer.conf""
style, config file of internal client is the object-expirer.conf itself.
In ""object-server.conf"" style, config file of internal client is
another file.

[1]: https://review.openstack.org/#/c/517389/

Co-Authored-By: Matthew Oliver <matt@oliver.net.au>

Change-Id: Ib21568f9b9d8547da87a99d65ae73a550e9c3230
",git fetch https://review.opendev.org/openstack/swift refs/changes/50/601950/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/deployment_guide.rst', 'doc/manpages/swift-object-expirer.1', 'swift/common/manager.py', 'test/unit/common/test_manager.py', 'doc/manpages/object-server.conf.5', 'etc/object-server.conf-sample']",6,6f581b544324f21a34929fcd0ca166e21e8a0487,expirer-section-in-object-server-conf,"# [object-expirer] # Note: Be careful not to enable too many expirers as all tasks are stored in a # single hidden account and the same hidden containers. On a large cluster one # may inadvertently make the acccount/container server for the hidden ones # busy. # # You can override the default log routing for this app here (don't use set!): # log_name = object-expirer # log_facility = LOG_LOCAL0 # log_level = INFO # log_address = /dev/log # # interval = 300 # # processes can only be used in conjunction with `dequeue_from_legacy_queue`. # So this option is ignored if dequeue_from_legacy_queue=false. # processes is how many parts to divide the legacy work into, one part per # process that will be doing the work # processes set 0 means that a single legacy process will be doing all the work # processes can also be specified on the command line and will override the # config value # processes = 0 # # process can only be used in conjunction with `dequeue_from_legacy_queue`. # So this option is ignored if dequeue_from_legacy_queue=false. # process is which of the parts a particular legacy process will work on # process can also be specified on the command line and will override the config # value # process is ""zero based"", if you want to use 3 processes, you should run # processes with process set to 0, 1, and 2 # process = 0 # # report_interval = 300 # # request_tries is the number of times the expirer's internal client will # attempt any given request in the event of failure. The default is 3. # request_tries = 3 # # concurrency is the level of concurrency to use to do the work, this value # must be set to at least 1 # concurrency = 1 # # The expirer will re-attempt expiring if the source object is not available # up to reclaim_age seconds before it gives up and deletes the entry in the # queue. # reclaim_age = 604800 # # recon_cache_path = /var/cache/swift # # You can set scheduling priority of processes. Niceness values range from -20 # (most favorable to the process) to 19 (least favorable to the process). # nice_priority = # # You can set I/O scheduling class and priority of processes. I/O niceness # class values are realtime, best-effort and idle. I/O niceness # priority is a number which goes from 0 to 7. The higher the value, the lower # the I/O priority of the process. Work only with ionice_class. # ionice_class = # ionice_priority = # # Internal client config file path # internal_client_conf_path = /etc/swift/internal-client.conf ",,224,11
openstack%2Fswift~master~Id3c2ed87230c5918c18e2c01d086df8157f036b1,openstack/swift,master,Id3c2ed87230c5918c18e2c01d086df8157f036b1,Unify auth_host/port/ssl/prefix func test options into auth_uri,MERGED,2018-08-01 23:53:04.000000000,2019-05-05 00:04:08.000000000,2019-05-05 00:04:08.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 26240}]","[{'number': 1, 'created': '2018-08-01 23:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/adf85de56cb78dd01c0119e41879d349dd0d6764', 'message': 'Unify auth_host/port/ssl/prefix func test options into auth_url\n\nRetain support for the old way, though (at least for now).\n\nChange-Id: Id3c2ed87230c5918c18e2c01d086df8157f036b1\n'}, {'number': 2, 'created': '2018-08-03 19:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dcdc709b0f5ef39506115c366f13eeea9a7d9090', 'message': 'Unify auth_host/port/ssl/prefix func test options into auth_url\n\nRetain support for the old way, though (at least for now).\n\nChange-Id: Id3c2ed87230c5918c18e2c01d086df8157f036b1\n'}, {'number': 3, 'created': '2018-08-03 19:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9401f36294e34eae567ac4ddf46de1f22ed90e1d', 'message': 'Unify auth_host/port/ssl/prefix func test options into auth_url\n\nRetain support for the old way, though (at least for now).\n\nChange-Id: Id3c2ed87230c5918c18e2c01d086df8157f036b1\n'}, {'number': 4, 'created': '2018-08-03 19:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/90b4098c348a28631f6b7dba1e3422a5db69c14e', 'message': 'Unify auth_host/port/ssl/prefix func test options into auth_url\n\nRetain support for the old way, though (at least for now).\n\nChange-Id: Id3c2ed87230c5918c18e2c01d086df8157f036b1\n'}, {'number': 5, 'created': '2018-08-08 22:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/96d0994eea815a9b1a0aa146e00642fe7484a22e', 'message': 'Unify auth_host/port/ssl/prefix func test options into auth_uri\n\nRetain support for the old way, though (at least for now).\n\nChange-Id: Id3c2ed87230c5918c18e2c01d086df8157f036b1\n'}, {'number': 6, 'created': '2019-05-03 20:55:52.000000000', 'files': ['test/sample.conf', 'test/functional/__init__.py', 'test/functional/swift_test_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/359d136c290de0f16986db53a3006a0111aa0285', 'message': 'Unify auth_host/port/ssl/prefix func test options into auth_uri\n\nRetain support for the old way, though (at least for now).\n\nChange-Id: Id3c2ed87230c5918c18e2c01d086df8157f036b1\n'}]",0,588103,359d136c290de0f16986db53a3006a0111aa0285,26,4,6,15343,,,0,"Unify auth_host/port/ssl/prefix func test options into auth_uri

Retain support for the old way, though (at least for now).

Change-Id: Id3c2ed87230c5918c18e2c01d086df8157f036b1
",git fetch https://review.opendev.org/openstack/swift refs/changes/03/588103/3 && git format-patch -1 --stdout FETCH_HEAD,"['test/sample.conf', 'test/functional/__init__.py', 'test/functional/swift_test_client.py']",3,adf85de56cb78dd01c0119e41879d349dd0d6764,func-tests-auth_url," for key in 'auth_url username password'.split(): self.auth_url = config['auth_url'] if self.auth_version == ""1"" and self.account: auth_user = '%s:%s' % (self.account, self.username) self.auth_url, auth_user, self.password, **authargs)"," for key in 'auth_host auth_port auth_ssl username password'.split(): self.auth_host = config['auth_host'] self.auth_port = int(config['auth_port']) self.auth_ssl = config['auth_ssl'] in ('on', 'true', 'yes', '1') self.auth_prefix = config.get('auth_prefix', '/') if self.auth_version == ""1"": auth_path = '%sv1.0' % (self.auth_prefix) if self.account: auth_user = '%s:%s' % (self.account, self.username) else: auth_user = self.username auth_path = self.auth_prefix auth_scheme = 'https://' if self.auth_ssl else 'http://' auth_netloc = ""%s:%d"" % (self.auth_host, self.auth_port) auth_url = auth_scheme + auth_netloc + auth_path auth_url, auth_user, self.password, **authargs)",23,35
openstack%2Fswift~feature%2Flosf~Ief3287e650c80dea951d2c85b16d1eaa9b7631d5,openstack/swift,feature/losf,Ief3287e650c80dea951d2c85b16d1eaa9b7631d5,Add losf package installation for gate job,MERGED,2019-04-30 19:15:40.000000000,2019-05-04 23:52:22.000000000,2019-05-04 23:52:22.000000000,"[{'_account_id': 1179}, {'_account_id': 4608}, {'_account_id': 22348}, {'_account_id': 25251}]","[{'number': 1, 'created': '2019-04-30 19:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a11839f638f275c20a5a25cd93c80d656c1f3d5d', 'message': 'WIP: try install losf packages\n\nWIP because this patch will be squashed up to the parent\nwhen it gets succeeded.\n\nChange-Id: Ief3287e650c80dea951d2c85b16d1eaa9b7631d5\n'}, {'number': 2, 'created': '2019-04-30 21:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b3fe1ebb188c7249cbddc02fc5478d6010c0d3d5', 'message': 'WIP: try install losf packages\n\nWIP because this patch will be squashed up to the parent\nwhen it gets succeeded.\n\nChange-Id: Ief3287e650c80dea951d2c85b16d1eaa9b7631d5\n'}, {'number': 3, 'created': '2019-05-01 16:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a626852b123f2bab16f3208a1fbf8dc913ebb894', 'message': 'WIP: try install losf packages\n\nWIP because this patch will be squashed up to the parent\nwhen it gets succeeded.\n\nChange-Id: Ief3287e650c80dea951d2c85b16d1eaa9b7631d5\n'}, {'number': 4, 'created': '2019-05-01 17:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6292bda516c430284515f1f9a53bd53c23f869c8', 'message': 'WIP: try install losf packages\n\nWIP because this patch will be squashed up to the parent\nwhen it gets succeeded.\n\nChange-Id: Ief3287e650c80dea951d2c85b16d1eaa9b7631d5\n'}, {'number': 5, 'created': '2019-05-01 18:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d3a2256551a47843f57f6eb5c894e40bab51066a', 'message': 'WIP: try install losf packages\n\nWIP because this patch will be squashed up to the parent\nwhen it gets succeeded.\n\nChange-Id: Ief3287e650c80dea951d2c85b16d1eaa9b7631d5\n'}, {'number': 6, 'created': '2019-05-02 00:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c17979745f0a2823f30b0831aae158dacd88d60b', 'message': 'WIP: try install losf packages\n\nWIP because this patch will be squashed up to the parent\nwhen it gets succeeded.\n\nPort some changes from https://review.opendev.org/#/c/651520/\nChange-Id: Ief3287e650c80dea951d2c85b16d1eaa9b7631d5\n'}, {'number': 7, 'created': '2019-05-02 07:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a739778a5e3898b25ffc14396ffe492c36d98011', 'message': 'WIP: try install losf packages\n\nWIP because this patch will be squashed up to the parent\nwhen it gets succeeded.\n\nTo make it working well, this includes changes below:\n\nChange the Makefile to work on vagrant swift all in one\n\nWith the $PATH properly set (needs $HOME/go/bin, and the path to cmake,\nif needed), it works and compiles swift-rpc-losf.\nBut I removed the build/install distinction which we may want to keep?\n\nAlso, -Wl,-rpath does not appear to work yet, it would be nice for the\nbinary not to require setting LD_LIBRARY_PATH to find leveldb.so\nIt seems that the ""go get levigo.."" line compiles it but does not\ninstall the binary, and the ""go get"" line eventually installs the\nbinary, but without the proper LDFLAGS. I don\'t know how to specify them\nwith the new go module system, I\'ll try again tomorrow\n\nCo-Authored-By: Alexandre Lcuyer <alexandre.lecuyer@corp.ovh.com>\n\nChange-Id: Ief3287e650c80dea951d2c85b16d1eaa9b7631d5\n'}, {'number': 8, 'created': '2019-05-02 08:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/226d80cb79982818a00a58cd3365d2afde940132', 'message': 'WIP: try install losf packages\n\nWIP because this patch will be squashed up to the parent\nwhen it gets succeeded.\n\nTo make it working well, this includes changes below:\n\nChange the Makefile to work on vagrant swift all in one\n\nWith the $PATH properly set (needs $HOME/go/bin, and the path to cmake,\nif needed), it works and compiles swift-rpc-losf.\nBut I removed the build/install distinction which we may want to keep?\n\nAlso, -Wl,-rpath does not appear to work yet, it would be nice for the\nbinary not to require setting LD_LIBRARY_PATH to find leveldb.so\nIt seems that the ""go get levigo.."" line compiles it but does not\ninstall the binary, and the ""go get"" line eventually installs the\nbinary, but without the proper LDFLAGS. I don\'t know how to specify them\nwith the new go module system, I\'ll try again tomorrow\n\nCo-Authored-By: Alexandre Lcuyer <alexandre.lecuyer@corp.ovh.com>\n\nChange-Id: Ief3287e650c80dea951d2c85b16d1eaa9b7631d5\n'}, {'number': 9, 'created': '2019-05-02 12:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3c56baa15bd2c3d60c216ec8bc45a26ac7c9b8f1', 'message': 'WIP: try install losf packages\n\nWIP because this patch will be squashed up to the parent\nwhen it gets succeeded.\n\nTo make it working well, this includes changes below:\n\nChange the Makefile to work on vagrant swift all in one\n\nWith the $PATH properly set (needs $HOME/go/bin, and the path to cmake,\nif needed), it works and compiles swift-rpc-losf.\nBut I removed the build/install distinction which we may want to keep?\n\nAlso, -Wl,-rpath does not appear to work yet, it would be nice for the\nbinary not to require setting LD_LIBRARY_PATH to find leveldb.so\nIt seems that the ""go get levigo.."" line compiles it but does not\ninstall the binary, and the ""go get"" line eventually installs the\nbinary, but without the proper LDFLAGS. I don\'t know how to specify them\nwith the new go module system, I\'ll try again tomorrow\n\nCo-Authored-By: Alexandre Lcuyer <alexandre.lecuyer@corp.ovh.com>\n\nChange-Id: Ief3287e650c80dea951d2c85b16d1eaa9b7631d5\n'}, {'number': 10, 'created': '2019-05-02 14:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/53116ea9b6d08b47183df425626134c1cf9e7a9a', 'message': 'WIP: try install losf packages\n\nWIP because this patch will be squashed up to the parent\nwhen it gets succeeded.\n\nTo make it working well, this includes changes below:\n\nChange the Makefile to work on vagrant swift all in one\n\nWith the $PATH properly set (needs $HOME/go/bin, and the path to cmake,\nif needed), it works and compiles swift-rpc-losf.\nBut I removed the build/install distinction which we may want to keep?\n\nAlso, -Wl,-rpath does not appear to work yet, it would be nice for the\nbinary not to require setting LD_LIBRARY_PATH to find leveldb.so\nIt seems that the ""go get levigo.."" line compiles it but does not\ninstall the binary, and the ""go get"" line eventually installs the\nbinary, but without the proper LDFLAGS. I don\'t know how to specify them\nwith the new go module system, I\'ll try again tomorrow\n\nCo-Authored-By: Alexandre Lcuyer <alexandre.lecuyer@corp.ovh.com>\n\nChange-Id: Ief3287e650c80dea951d2c85b16d1eaa9b7631d5\n'}, {'number': 11, 'created': '2019-05-02 15:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/488b5bf8de38809231ed5c5d3837e74deba29c68', 'message': 'WIP: try install losf packages\n\nWIP because this patch will be squashed up to the parent\nwhen it gets succeeded.\n\nTo make it working well, this includes changes below:\n\nChange the Makefile to work on vagrant swift all in one\n\nWith the $PATH properly set (needs $HOME/go/bin, and the path to cmake,\nif needed), it works and compiles swift-rpc-losf.\nBut I removed the build/install distinction which we may want to keep?\n\nAlso, -Wl,-rpath does not appear to work yet, it would be nice for the\nbinary not to require setting LD_LIBRARY_PATH to find leveldb.so\nIt seems that the ""go get levigo.."" line compiles it but does not\ninstall the binary, and the ""go get"" line eventually installs the\nbinary, but without the proper LDFLAGS. I don\'t know how to specify them\nwith the new go module system, I\'ll try again tomorrow\n\nCo-Authored-By: Alexandre Lcuyer <alexandre.lecuyer@corp.ovh.com>\n\nChange-Id: Ief3287e650c80dea951d2c85b16d1eaa9b7631d5\n'}, {'number': 12, 'created': '2019-05-02 17:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0b9743b734c5967fa0d3eb127b46dde5b5664c89', 'message': 'WIP: try install losf packages\n\nWIP because this patch will be squashed up to the parent\nwhen it gets succeeded.\n\nTo make it working well, this includes changes below:\n\nChange the Makefile to work on vagrant swift all in one\n\nWith the $PATH properly set (needs $HOME/go/bin, and the path to cmake,\nif needed), it works and compiles swift-rpc-losf.\nBut I removed the build/install distinction which we may want to keep?\n\nAlso, -Wl,-rpath does not appear to work yet, it would be nice for the\nbinary not to require setting LD_LIBRARY_PATH to find leveldb.so\nIt seems that the ""go get levigo.."" line compiles it but does not\ninstall the binary, and the ""go get"" line eventually installs the\nbinary, but without the proper LDFLAGS. I don\'t know how to specify them\nwith the new go module system, I\'ll try again tomorrow\n\nCo-Authored-By: Alexandre Lcuyer <alexandre.lecuyer@corp.ovh.com>\n\nChange-Id: Ief3287e650c80dea951d2c85b16d1eaa9b7631d5\n'}, {'number': 13, 'created': '2019-05-02 19:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bbf1ee127a5bc94368534f8c2fabcb6e802855ec', 'message': 'Add losf package installation for gate job\n\nAnd also calling the setups as pre-run scripts.\nTo make it working well, this includes changes below:\n\nChange the Makefile to work on vagrant swift all in one\n\nWith the $PATH properly set (needs $HOME/go/bin, and the path to cmake,\nif needed), it works and compiles swift-rpc-losf.\n\nAlso, -Wl,-rpath does not appear to work yet, it would be nice for the\nbinary not to require setting LD_LIBRARY_PATH to find leveldb.so\nIt seems that the ""go get levigo.."" line compiles it but does not\ninstall the binary.\n\nCo-Authored-By: Alexandre Lcuyer <alexandre.lecuyer@corp.ovh.com>\n\nChange-Id: Ief3287e650c80dea951d2c85b16d1eaa9b7631d5\n'}, {'number': 14, 'created': '2019-05-04 15:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9cd17498357f6e4584388f2208bca008af65895a', 'message': 'Add losf package installation for gate job\n\nAnd also calling the setups as pre-run scripts.\nTo make it working well, this includes changes below:\n\nChange the Makefile to work on vagrant swift all in one\n\nWith the $PATH properly set (needs $HOME/go/bin, and the path to cmake,\nif needed), it works and compiles swift-rpc-losf.\n\nAlso, -Wl,-rpath does not appear to work yet, it would be nice for the\nbinary not to require setting LD_LIBRARY_PATH to find leveldb.so\nIt seems that the ""go get levigo.."" line compiles it but does not\ninstall the binary.\n\nCo-Authored-By: Alexandre Lcuyer <alexandre.lecuyer@corp.ovh.com>\n\nChange-Id: Ief3287e650c80dea951d2c85b16d1eaa9b7631d5\n'}, {'number': 15, 'created': '2019-05-04 17:03:07.000000000', 'files': ['tools/playbooks/losf_setup/pre.yaml', '.zuul.yaml', 'tools/playbooks/common/install_losf_dependencies.yaml', 'go/swift-rpc-losf/Makefile'], 'web_link': 'https://opendev.org/openstack/swift/commit/3a8fdf68c8857248e5907e170163adf137b89b1c', 'message': 'Add losf package installation for gate job\n\nAnd also calling the setups as pre-run scripts.\nTo make it working well, this includes changes below:\n\nChange the Makefile to work on vagrant swift all in one\n\nWith the $PATH properly set (needs $HOME/go/bin, and the path to cmake,\nif needed), it works and compiles swift-rpc-losf.\n\nAlso, -Wl,-rpath does not appear to work yet, it would be nice for the\nbinary not to require setting LD_LIBRARY_PATH to find leveldb.so\nIt seems that the ""go get levigo.."" line compiles it but does not\ninstall the binary.\n\nCo-Authored-By: Alexandre Lcuyer <alexandre.lecuyer@corp.ovh.com>\n\nChange-Id: Ief3287e650c80dea951d2c85b16d1eaa9b7631d5\n'}]",0,656576,3a8fdf68c8857248e5907e170163adf137b89b1c,38,4,15,4608,,,0,"Add losf package installation for gate job

And also calling the setups as pre-run scripts.
To make it working well, this includes changes below:

Change the Makefile to work on vagrant swift all in one

With the $PATH properly set (needs $HOME/go/bin, and the path to cmake,
if needed), it works and compiles swift-rpc-losf.

Also, -Wl,-rpath does not appear to work yet, it would be nice for the
binary not to require setting LD_LIBRARY_PATH to find leveldb.so
It seems that the ""go get levigo.."" line compiles it but does not
install the binary.

Co-Authored-By: Alexandre Lcuyer <alexandre.lecuyer@corp.ovh.com>

Change-Id: Ief3287e650c80dea951d2c85b16d1eaa9b7631d5
",git fetch https://review.opendev.org/openstack/swift refs/changes/76/656576/8 && git format-patch -1 --stdout FETCH_HEAD,['tools/playbooks/common/install_losf_dependencies.yaml'],1,a11839f638f275c20a5a25cd93c80d656c1f3d5d,," # setup golang # losf golang package installation - name: build losf golang package make: chdir: ""{{ zuul.project.src_dir }}/go/swift-rpc-losf"" - name: install losf golang package make: target: install chdir: ""{{ zuul.project.src_dir }}/go/swift-rpc-losf"" become: true", # setup golang here,12,1
openstack%2Fswift~feature%2Flosf~Ideebc0b2b12660e927fee16b03a340ec194b3ada,openstack/swift,feature/losf,Ideebc0b2b12660e927fee16b03a340ec194b3ada,Update Makefile and README,MERGED,2019-04-09 06:01:06.000000000,2019-05-04 23:52:21.000000000,2019-05-04 23:52:21.000000000,"[{'_account_id': 4608}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 25251}]","[{'number': 1, 'created': '2019-04-09 06:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ed4699150ded496e55b6d4edea3e80aa90c55f1c', 'message': 'Update Makefile and README\n\nTo support build/install snappy and leveldb.\n\nChange-Id: Ideebc0b2b12660e927fee16b03a340ec194b3ada\n'}, {'number': 2, 'created': '2019-04-29 18:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4bacf6becca68764a20f9c19e75816533bb35870', 'message': 'Update Makefile and README\n\nTo support build/install snappy and leveldb.\n\nChange-Id: Ideebc0b2b12660e927fee16b03a340ec194b3ada\n'}, {'number': 3, 'created': '2019-04-29 18:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fd5a219021f29ce1dea826a58b09c5e5d1043b68', 'message': 'Update Makefile and README\n\nTo support build/install snappy and leveldb.\n\nChange-Id: Ideebc0b2b12660e927fee16b03a340ec194b3ada\n'}, {'number': 4, 'created': '2019-05-02 19:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/89b6715e6765eb7b804b47cc7fd0db49a3d9ba4a', 'message': 'Update Makefile and README\n\nTo support build/install snappy and leveldb.\n\nChange-Id: Ideebc0b2b12660e927fee16b03a340ec194b3ada\n'}, {'number': 5, 'created': '2019-05-04 15:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cafc17b569de6c298cc1fc6cb83c94f86096188b', 'message': 'Update Makefile and README\n\nTo support build/install snappy and leveldb.\n\nChange-Id: Ideebc0b2b12660e927fee16b03a340ec194b3ada\n'}, {'number': 6, 'created': '2019-05-04 16:52:45.000000000', 'files': ['.gitmodules', 'go/swift-rpc-losf/README.md', 'go/swift-rpc-losf/snappy', 'go/swift-rpc-losf/leveldb', 'go/swift-rpc-losf/Makefile'], 'web_link': 'https://opendev.org/openstack/swift/commit/fe5857d7b5d4e35753afcddf4e24c0eb93077d7a', 'message': 'Update Makefile and README\n\nTo support build/install snappy and leveldb.\n\nChange-Id: Ideebc0b2b12660e927fee16b03a340ec194b3ada\n'}]",8,651100,fe5857d7b5d4e35753afcddf4e24c0eb93077d7a,29,4,6,4608,,,0,"Update Makefile and README

To support build/install snappy and leveldb.

Change-Id: Ideebc0b2b12660e927fee16b03a340ec194b3ada
",git fetch https://review.opendev.org/openstack/swift refs/changes/00/651100/6 && git format-patch -1 --stdout FETCH_HEAD,"['.gitmodules', 'go/swift-rpc-losf/README.md', 'go/swift-rpc-losf/snappy', 'go/swift-rpc-losf/Makefile', 'go/swift-rpc-losf/leveldb']",5,ed4699150ded496e55b6d4edea3e80aa90c55f1c,651101,Subproject commit fe4494804f5e3a2e25485d32aeb0eb7d2f25732e,,43,47
openstack%2Fswift~feature%2Flosf~I108d54ed6b61533ebc6d4581f28ae279f19cbb53,openstack/swift,feature/losf,I108d54ed6b61533ebc6d4581f28ae279f19cbb53,Add draft version of Makefile to build golang module,MERGED,2019-04-09 06:01:06.000000000,2019-05-04 23:52:20.000000000,2019-05-04 23:52:19.000000000,"[{'_account_id': 4608}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 25251}]","[{'number': 1, 'created': '2019-04-09 06:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e6fb42b8e1eece72898eb9a18bae893a3e343b2c', 'message': 'Add draft version of Makefile to build golang module\n\nChange-Id: I108d54ed6b61533ebc6d4581f28ae279f19cbb53\n'}, {'number': 2, 'created': '2019-04-29 18:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/354c5022a6d4d8dcea107307cf8f2260a83c0bc7', 'message': 'Add draft version of Makefile to build golang module\n\nChange-Id: I108d54ed6b61533ebc6d4581f28ae279f19cbb53\n'}, {'number': 3, 'created': '2019-04-29 18:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0a28b16b3bff2c062195dbf302642f8dac0062f4', 'message': 'Add draft version of Makefile to build golang module\n\nChange-Id: I108d54ed6b61533ebc6d4581f28ae279f19cbb53\n'}, {'number': 4, 'created': '2019-05-02 19:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/36c29afe2280eeaf6f6fa40aeab0c04c83f246e9', 'message': 'Add draft version of Makefile to build golang module\n\nChange-Id: I108d54ed6b61533ebc6d4581f28ae279f19cbb53\n'}, {'number': 5, 'created': '2019-05-04 15:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/40b5289c8fb3743540ece42e754725c027c75fdd', 'message': 'Add draft version of Makefile to build golang module\n\nChange-Id: I108d54ed6b61533ebc6d4581f28ae279f19cbb53\n'}, {'number': 6, 'created': '2019-05-04 16:52:34.000000000', 'files': ['go/swift-rpc-losf/Makefile'], 'web_link': 'https://opendev.org/openstack/swift/commit/76f4c4b6c2f89211353b49520287e884bc1b2b2b', 'message': 'Add draft version of Makefile to build golang module\n\nChange-Id: I108d54ed6b61533ebc6d4581f28ae279f19cbb53\n'}]",2,651099,76f4c4b6c2f89211353b49520287e884bc1b2b2b,40,4,6,4608,,,0,"Add draft version of Makefile to build golang module

Change-Id: I108d54ed6b61533ebc6d4581f28ae279f19cbb53
",git fetch https://review.opendev.org/openstack/swift refs/changes/99/651099/5 && git format-patch -1 --stdout FETCH_HEAD,['go/swift-rpc-losf/Makefile'],1,e6fb42b8e1eece72898eb9a18bae893a3e343b2c,651101,"# Copyright (c) 2010-2012 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. all: build build: go get -u github.com/golang/protobuf/protoc-gen-go protoc -I ../../swift/obj fmgr.proto --go_out=plugins=grpc:proto go get go build -o ../../swift-rpc-losf ",,22,0
openstack%2Fswift~feature%2Flosf~I69ccecdfdfcffafb088c8e7e0c0b60ccf5f30cfa,openstack/swift,feature/losf,I69ccecdfdfcffafb088c8e7e0c0b60ccf5f30cfa,Merge remote-tracking branch 'remotes/origin/master' into merge-master,MERGED,2019-05-04 15:39:47.000000000,2019-05-04 23:52:18.000000000,2019-05-04 23:52:18.000000000,"[{'_account_id': 4608}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-04 15:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c8d2d965f9016174d3b5624dd32d60d674e9db06', 'message': ""Merge remote-tracking branch 'remotes/origin/master' into merge-master\n\nChange-Id: I69ccecdfdfcffafb088c8e7e0c0b60ccf5f30cfa\n""}, {'number': 2, 'created': '2019-05-04 16:46:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/e4aed201e0a8dbd5f966cca2ce2c6f70bf3c61ef', 'message': ""Merge remote-tracking branch 'remotes/origin/master' into merge-master\n\nTouch .zuul.yaml to ensure that the rolling-upgrade job is non-voting.\n\nChange-Id: I69ccecdfdfcffafb088c8e7e0c0b60ccf5f30cfa\n""}]",0,657123,e4aed201e0a8dbd5f966cca2ce2c6f70bf3c61ef,20,3,2,4608,,,0,"Merge remote-tracking branch 'remotes/origin/master' into merge-master

Touch .zuul.yaml to ensure that the rolling-upgrade job is non-voting.

Change-Id: I69ccecdfdfcffafb088c8e7e0c0b60ccf5f30cfa
",git fetch https://review.opendev.org/openstack/swift refs/changes/23/657123/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,c8d2d965f9016174d3b5624dd32d60d674e9db06,merge-from-master,,,0,0
openstack%2Foctavia~master~I5ccae72695642379c5e817f7335348c344480747,openstack/octavia,master,I5ccae72695642379c5e817f7335348c344480747,Fix missing INCLUDEPKGS var in haproxy element,MERGED,2019-05-03 21:26:55.000000000,2019-05-04 23:41:37.000000000,2019-05-04 23:41:37.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 21:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/24ae44041f5d0ca7c76977275b6aa509fc4d89b2', 'message': 'Fix missing INCLUDEPKGS var in haproxy element\n\nChange-Id: I5ccae72695642379c5e817f7335348c344480747\n'}, {'number': 2, 'created': '2019-05-03 21:28:50.000000000', 'files': ['elements/haproxy-octavia/pre-install.d/01-backports'], 'web_link': 'https://opendev.org/openstack/octavia/commit/28f4f9e44a07c224ea4da74169470c4e5cd2b17e', 'message': 'Fix missing INCLUDEPKGS var in haproxy element\n\nChange-Id: I5ccae72695642379c5e817f7335348c344480747\n'}]",0,657058,28f4f9e44a07c224ea4da74169470c4e5cd2b17e,17,3,2,10273,,,0,"Fix missing INCLUDEPKGS var in haproxy element

Change-Id: I5ccae72695642379c5e817f7335348c344480747
",git fetch https://review.opendev.org/openstack/octavia refs/changes/58/657058/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/haproxy-octavia/pre-install.d/01-backports'],1,24ae44041f5d0ca7c76977275b6aa509fc4d89b2,,INCLUDEPKGS='' ,,2,0
openstack%2Ftripleo-heat-templates~master~Ia9c50afd3a88b27e6e0dca2ce150f91633681466,openstack/tripleo-heat-templates,master,Ia9c50afd3a88b27e6e0dca2ce150f91633681466,Unnessary deploying of bootstrap-osd ceph auth entry,ABANDONED,2018-05-07 18:53:19.000000000,2019-05-04 22:55:26.000000000,,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-07 18:53:19.000000000', 'files': ['puppet/services/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d64db0cf1b6751e514863464f92458b7b97c8c7e', 'message': 'Unnessary deploying of bootstrap-osd ceph auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. heat does not need to pass this key to ceph::key as the\nauth will already be populated on the monitors and the OSD nodes will\nextract a copy from memory. This patch removes client.bootstrap-osd from\nthe ceph::profile::params::client_keys array.\n\nChange-Id: Ia9c50afd3a88b27e6e0dca2ce150f91633681466\nPartial-bug: 1769722\nDepends-on: I11f134bed59da706a03ce4a70d941145c16f8175\n'}]",0,566701,d64db0cf1b6751e514863464f92458b7b97c8c7e,8,3,1,19564,,,0,"Unnessary deploying of bootstrap-osd ceph auth entry

Ceph jewel creates the client.bootstrap-osd auth entry when the cluster
is created. heat does not need to pass this key to ceph::key as the
auth will already be populated on the monitors and the OSD nodes will
extract a copy from memory. This patch removes client.bootstrap-osd from
the ceph::profile::params::client_keys array.

Change-Id: Ia9c50afd3a88b27e6e0dca2ce150f91633681466
Partial-bug: 1769722
Depends-on: I11f134bed59da706a03ce4a70d941145c16f8175
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/566701/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/ceph-base.yaml'],1,d64db0cf1b6751e514863464f92458b7b97c8c7e,bug/1769722,, client.bootstrap-osd: secret: {get_param: CephAdminKey} keyring_path: '/var/lib/ceph/bootstrap-osd/ceph.keyring' cap_mon: 'allow profile bootstrap-osd',0,4
openstack%2Ftripleo-common~master~I187dbe6585461f21e32bbd9fa1451fab73ae7e7e,openstack/tripleo-common,master,I187dbe6585461f21e32bbd9fa1451fab73ae7e7e,Makes endpoint_type used by get_endpoint_for_project configurable,ABANDONED,2018-08-02 11:24:14.000000000,2019-05-04 22:54:54.000000000,,"[{'_account_id': 6796}, {'_account_id': 7385}, {'_account_id': 8042}, {'_account_id': 10873}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-08-02 11:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6af0dd3559dd5308bd2df7a9b7cd79290e1c508e', 'message': 'Changes get_endpoint_for_project default from publicURL to internalURL\n\nDefaulting to publicURL forces all connections to go over SSL and all\nclients to trust the undercloud certificate when self-signed.\n\nThis submission changes the default to look for the internalURL and\nadds a parameter to make specific calls use a different endpoint.\n\nChange-Id: I187dbe6585461f21e32bbd9fa1451fab73ae7e7e\nCloses-Bug: #1785045\n'}, {'number': 2, 'created': '2018-08-08 17:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/54b6ce8487d138be65f2b72cfd7abbe6e6f052db', 'message': 'Makes endpoint_type used by get_endpoint_for_project configurable\n\nAdds a parameter to make specific calls use a different endpoint\nand updates support and deployment workflows to use the internal\nendpoint.\n\nChange-Id: I187dbe6585461f21e32bbd9fa1451fab73ae7e7e\nCloses-Bug: #1785045\n'}, {'number': 3, 'created': '2018-08-08 17:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f75dc36ba585bb19231a9956df4cffa0a22b063e', 'message': 'Makes endpoint_type used by get_endpoint_for_project configurable\n\nAdds a parameter to make specific calls use a different endpoint\nand updates support and deployment workflows to use the internal\nendpoint.\n\nChange-Id: I187dbe6585461f21e32bbd9fa1451fab73ae7e7e\nCloses-Bug: #1785045\n'}, {'number': 4, 'created': '2018-08-09 14:38:19.000000000', 'files': ['tripleo_common/tests/actions/test_base.py', 'workbooks/deployment.yaml', 'tripleo_common/actions/deployment.py', 'workbooks/support.yaml', 'tripleo_common/actions/base.py', 'tripleo_common/utils/keystone.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/125c2717ec56ebd2d20014b067ff1a8d4accca5b', 'message': 'Makes endpoint_type used by get_endpoint_for_project configurable\n\nAdds a parameter to make specific calls use a different endpoint\nand updates support and deployment workflows to use the internal\nendpoint.\n\nChange-Id: I187dbe6585461f21e32bbd9fa1451fab73ae7e7e\nCloses-Bug: #1785045\n'}]",4,588216,125c2717ec56ebd2d20014b067ff1a8d4accca5b,24,8,4,6796,,,0,"Makes endpoint_type used by get_endpoint_for_project configurable

Adds a parameter to make specific calls use a different endpoint
and updates support and deployment workflows to use the internal
endpoint.

Change-Id: I187dbe6585461f21e32bbd9fa1451fab73ae7e7e
Closes-Bug: #1785045
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/16/588216/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/keystone.py'],1,6af0dd3559dd5308bd2df7a9b7cd79290e1c508e,bug/1785045," region_name=None, endpoint_type='internal'): v3_endpoint_type = endpoint_type v2_endpoint_type = ''.join([endpoint_type, ""URL""]) if v3_endpoint_type in interface_type: if v2_endpoint_type in ep: endpoint_data = { 'url': ep[v2_endpoint_type],"," region_name=None): os_actions_endpoint_type = 'public' if os_actions_endpoint_type in interface_type: if 'publicURL' in ep: endpoint_data = { 'url': ep['publicURL'],",6,5
openstack%2Fdib-utils~master~I746b5c89082fedc01b32ad00e573a25f8c4201c0,openstack/dib-utils,master,I746b5c89082fedc01b32ad00e573a25f8c4201c0,Make sure target exists before running it,ABANDONED,2017-01-16 17:58:16.000000000,2019-05-04 22:53:42.000000000,,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 11085}, {'_account_id': 13039}, {'_account_id': 18002}, {'_account_id': 27336}, {'_account_id': 27427}]","[{'number': 1, 'created': '2017-01-16 17:58:16.000000000', 'files': ['bin/dib-run-parts'], 'web_link': 'https://opendev.org/openstack/dib-utils/commit/5481b77ecf61fc240db00bd90700df81a24a7a92', 'message': ""Make sure target exists before running it\n\nBy generating the targets list once prior to running the targets, there\nis the possibility that a script doesn't exist anymore or doesn't have\nthe right permissions by the time it is called.\n\nSee for instance [1] that deletes files from the target_dir.\n\nThis commit ensures the target exists and is executable before trying to\nrun it.\n\n[1] https://github.com/openstack/tripleo-puppet-elements/blob/41ee9895d544ff9809bf5a2b47182ccfbbae4c0f/elements/hiera/os-refresh-config/configure.d/10-hiera-disable\nChange-Id: I746b5c89082fedc01b32ad00e573a25f8c4201c0\n""}]",2,420885,5481b77ecf61fc240db00bd90700df81a24a7a92,14,7,1,13039,,,0,"Make sure target exists before running it

By generating the targets list once prior to running the targets, there
is the possibility that a script doesn't exist anymore or doesn't have
the right permissions by the time it is called.

See for instance [1] that deletes files from the target_dir.

This commit ensures the target exists and is executable before trying to
run it.

[1] https://github.com/openstack/tripleo-puppet-elements/blob/41ee9895d544ff9809bf5a2b47182ccfbbae4c0f/elements/hiera/os-refresh-config/configure.d/10-hiera-disable
Change-Id: I746b5c89082fedc01b32ad00e573a25f8c4201c0
",git fetch https://review.opendev.org/openstack/dib-utils refs/changes/85/420885/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/dib-run-parts'],1,5481b77ecf61fc240db00bd90700df81a24a7a92,ensure_script_is_executable, if [ -x $target_dir/$target ]; then $target_dir/$target fi, $target_dir/$target,3,1
openstack%2Fswift~master~Ifc35aacb2e45004f74c871f08ff3c52bc57c1463,openstack/swift,master,Ifc35aacb2e45004f74c871f08ff3c52bc57c1463,py3: port s3api,MERGED,2019-04-11 17:49:58.000000000,2019-05-04 22:49:38.000000000,2019-05-04 22:49:38.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-11 17:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fbdb42f8122c1c60e7b2201954a0a19184df7637', 'message': 'py3: port s3api\n\nChange-Id: Ifc35aacb2e45004f74c871f08ff3c52bc57c1463\n'}, {'number': 2, 'created': '2019-04-11 18:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8b995ae73d0076563a2c4f5bc5e0c975c8f23be1', 'message': ""py3: port s3api\n\nDrive-by: When passing a list or tuple to swob.Response as an app_iter,\ncheck that it's full of byte strings.\n\nChange-Id: Ifc35aacb2e45004f74c871f08ff3c52bc57c1463\n""}, {'number': 3, 'created': '2019-04-11 19:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/14e4d30fe097a069145470980c8688e8aa3a6ca3', 'message': ""py3: port s3api\n\nDrive-by: When passing a list or tuple to swob.Response as an app_iter,\ncheck that it's full of byte strings.\n\nChange-Id: Ifc35aacb2e45004f74c871f08ff3c52bc57c1463\n""}, {'number': 4, 'created': '2019-04-24 17:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5b85e936e23087d71ae3b062aa7cfad549533e3d', 'message': ""py3: port s3api\n\nDrive-by: When passing a list or tuple to swob.Response as an app_iter,\ncheck that it's full of byte strings.\n\nChange-Id: Ifc35aacb2e45004f74c871f08ff3c52bc57c1463\n""}, {'number': 5, 'created': '2019-05-02 23:38:48.000000000', 'files': ['test/unit/common/middleware/s3api/test_multi_delete.py', 'swift/common/middleware/s3api/controllers/obj.py', 'test/unit/common/middleware/s3api/test_obj.py', 'test/unit/common/middleware/s3api/test_bucket.py', 'swift/common/middleware/s3api/controllers/multi_upload.py', 'swift/common/middleware/s3api/s3response.py', 'swift/common/middleware/s3api/subresource.py', 'swift/common/middleware/s3api/controllers/bucket.py', 'test/unit/common/middleware/s3api/test_s3request.py', 'test/unit/common/middleware/s3api/test_multi_upload.py', 'test/unit/common/test_internal_client.py', 'test/unit/common/middleware/s3api/test_s3_acl.py', 'swift/common/middleware/s3api/etree.py', 'test/unit/common/middleware/s3api/test_service.py', 'swift/common/middleware/s3api/s3request.py', 'swift/common/middleware/s3api/s3api.py', 'swift/common/swob.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/unit/common/middleware/s3api/test_etree.py', 'test/unit/common/test_swob.py', 'tox.ini', 'test/unit/common/middleware/s3api/helpers.py', 'test/unit/common/middleware/s3api/test_acl.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3a9f3f841957f54801c32832356c540dbef69817', 'message': ""py3: port s3api\n\nDrive-by: When passing a list or tuple to swob.Response as an app_iter,\ncheck that it's full of byte strings.\n\nChange-Id: Ifc35aacb2e45004f74c871f08ff3c52bc57c1463\n""}]",11,651893,3a9f3f841957f54801c32832356c540dbef69817,30,3,5,15343,,,0,"py3: port s3api

Drive-by: When passing a list or tuple to swob.Response as an app_iter,
check that it's full of byte strings.

Change-Id: Ifc35aacb2e45004f74c871f08ff3c52bc57c1463
",git fetch https://review.opendev.org/openstack/swift refs/changes/93/651893/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/s3api/test_multi_delete.py', 'swift/common/middleware/s3api/controllers/obj.py', 'test/unit/common/middleware/s3api/test_obj.py', 'test/unit/common/middleware/s3api/test_bucket.py', 'swift/common/middleware/s3api/controllers/multi_upload.py', 'swift/common/middleware/s3api/s3response.py', 'swift/common/middleware/s3api/subresource.py', 'swift/common/middleware/s3api/controllers/bucket.py', 'test/unit/common/middleware/s3api/test_s3request.py', 'test/unit/common/middleware/s3api/test_multi_upload.py', 'test/unit/common/middleware/s3api/test_s3_acl.py', 'swift/common/middleware/s3api/etree.py', 'test/unit/common/middleware/s3api/test_service.py', 'swift/common/middleware/s3api/s3request.py', 'swift/common/middleware/s3api/s3api.py', 'swift/common/swob.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/unit/common/middleware/s3api/test_etree.py', 'tox.ini', 'test/unit/common/middleware/s3api/helpers.py', 'test/unit/common/middleware/s3api/test_acl.py']",21,fbdb42f8122c1c60e7b2201954a0a19184df7637,651893,"import base64 use_transfer_encoding=False, string_to_md5=b''): content_md5 = base64.b64encode(md5(string_to_md5).digest()).strip() self.assertIn(b'<MissingHeaderName>x-amz-acl</MissingHeaderName>', body) self._test_put_no_body(string_to_md5=b'test') self._test_put_no_body(use_content_length=True, string_to_md5=b'test') self._test_put_no_body(use_transfer_encoding=True, string_to_md5=b'zz')"," use_transfer_encoding=False, string_to_md5=''): content_md5 = md5(string_to_md5).digest().encode('base64').strip() self.assertIn('<MissingHeaderName>x-amz-acl</MissingHeaderName>', body) self._test_put_no_body(string_to_md5='test') self._test_put_no_body(use_content_length=True, string_to_md5='test') self._test_put_no_body(use_transfer_encoding=True, string_to_md5='zz')",295,218
openstack%2Fswift~master~Iadb3bed811907740f85bd9277ba09a4ca17fc025,openstack/swift,master,Iadb3bed811907740f85bd9277ba09a4ca17fc025,Remove py35 unit test job,MERGED,2019-05-03 20:37:05.000000000,2019-05-04 22:38:47.000000000,2019-05-04 22:38:46.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 20:37:05.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/a239f4ec355b48999cbdb8e54660624e9b44e835', 'message': 'Remove py35 unit test job\n\nChange-Id: Iadb3bed811907740f85bd9277ba09a4ca17fc025\n'}]",0,657033,a239f4ec355b48999cbdb8e54660624e9b44e835,16,2,1,15343,,,0,"Remove py35 unit test job

Change-Id: Iadb3bed811907740f85bd9277ba09a4ca17fc025
",git fetch https://review.opendev.org/openstack/swift refs/changes/33/657033/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,a239f4ec355b48999cbdb8e54660624e9b44e835,,,[testenv:py35] commands = {[testenv:py37]commands} ,0,26
openstack%2Fdevstack~master~I5cab6a3be553713e1257599fb72042c6001f2672,openstack/devstack,master,I5cab6a3be553713e1257599fb72042c6001f2672,Fix is_neutron_legacy_enabled function,MERGED,2019-04-15 21:58:08.000000000,2019-05-04 22:38:45.000000000,2019-05-04 22:38:45.000000000,"[{'_account_id': 1653}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 11975}, {'_account_id': 14595}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 21:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/081be8f71716b2528f9a4daecb8c82d542e95263', 'message': 'Fix is_neutron_legacy_enabled function\n\nThis function will now first filter out all ""neutron-"" strings from\nDISABLED_SERVICES list before looking for ""neutron"" string in it.\n\nChange-Id: I5cab6a3be553713e1257599fb72042c6001f2672\nClose-Bug: #1824884\n'}, {'number': 2, 'created': '2019-04-18 07:54:38.000000000', 'files': ['lib/neutron'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a9a51ca6382eb01c99fce51084f64a69f4c7d58a', 'message': 'Fix is_neutron_legacy_enabled function\n\nThis function will now first filter out all ""neutron-"" strings from\nDISABLED_SERVICES list before looking for ""neutron"" string in it.\n\nChange-Id: I5cab6a3be553713e1257599fb72042c6001f2672\nClose-Bug: #1824884\n'}]",2,652782,a9a51ca6382eb01c99fce51084f64a69f4c7d58a,28,7,2,11975,,,0,"Fix is_neutron_legacy_enabled function

This function will now first filter out all ""neutron-"" strings from
DISABLED_SERVICES list before looking for ""neutron"" string in it.

Change-Id: I5cab6a3be553713e1257599fb72042c6001f2672
Close-Bug: #1824884
",git fetch https://review.opendev.org/openstack/devstack refs/changes/82/652782/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron'],1,081be8f71716b2528f9a4daecb8c82d542e95263,bug/1824884," # first we need to remove all ""neutron-"" from DISABLED_SERVICES list disabled_services_copy=$(echo $DISABLED_SERVICES | sed 's/neutron-//') [[ ,${disabled_services_copy} =~ ,""neutron"" ]] && return 1"," [[ ,${DISABLED_SERVICES} =~ ,""neutron"" ]] && return 1",3,1
openstack%2Foslo.messaging~master~I9ddb6595fc52e46ed8844e39d2fa71029c90b65c,openstack/oslo.messaging,master,I9ddb6595fc52e46ed8844e39d2fa71029c90b65c,Remove log translation and i18n,MERGED,2019-04-12 12:35:48.000000000,2019-05-04 22:31:13.000000000,2019-05-04 22:31:13.000000000,"[{'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-12 12:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b0e595ab56f4d4219635a336a285f811e33d9209', 'message': 'Remove log translation and i18n\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nChange-Id: I9ddb6595fc52e46ed8844e39d2fa71029c90b65c\nCloses-Bug: #1674567\n'}, {'number': 2, 'created': '2019-04-12 12:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/58de883e2646a6d055639f1d4a839659cb8d136a', 'message': 'Remove log translation and i18n\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nChange-Id: I9ddb6595fc52e46ed8844e39d2fa71029c90b65c\nCloses-Bug: #1674567\n'}, {'number': 3, 'created': '2019-04-12 13:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1f6cd6bbd0307f8b062ea3f1a613224b55649e57', 'message': 'Remove log translation and i18n\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nChange-Id: I9ddb6595fc52e46ed8844e39d2fa71029c90b65c\nCloses-Bug: #1674567\n'}, {'number': 4, 'created': '2019-04-15 10:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/72636d5ddc0517d4c0c73e80157f4b17a5bfa1a2', 'message': 'Remove log translation and i18n\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nChange-Id: I9ddb6595fc52e46ed8844e39d2fa71029c90b65c\nCloses-Bug: #1674567\n'}, {'number': 5, 'created': '2019-04-17 14:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/01ffe37f40ed04d45a683fe1708e7b71dd4fdc19', 'message': 'Remove log translation and i18n\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nChange-Id: I9ddb6595fc52e46ed8844e39d2fa71029c90b65c\nCloses-Bug: #1674567\n'}, {'number': 6, 'created': '2019-04-18 09:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/43cee045e789b9aa963d57b94c739a6df728eee9', 'message': 'Remove log translation and i18n\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nChange-Id: I9ddb6595fc52e46ed8844e39d2fa71029c90b65c\nCloses-Bug: #1674567\n'}, {'number': 7, 'created': '2019-04-18 09:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/bba51a2858deb1805faa722545f2ac04431eb37a', 'message': 'Remove log translation and i18n\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nChange-Id: I9ddb6595fc52e46ed8844e39d2fa71029c90b65c\nCloses-Bug: #1674567\n'}, {'number': 8, 'created': '2019-04-23 13:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/af67413d580d50b8898153f90982730bb59160d0', 'message': 'Remove log translation and i18n\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nChange-Id: I9ddb6595fc52e46ed8844e39d2fa71029c90b65c\nCloses-Bug: #1674567\n'}, {'number': 9, 'created': '2019-04-24 09:55:51.000000000', 'files': ['oslo_messaging/_i18n.py', 'oslo_messaging/hacking/checks.py', 'oslo_messaging/notify/dispatcher.py', 'oslo_messaging/notify/middleware.py', 'oslo_messaging/notify/listener.py', 'oslo_messaging/_drivers/amqp1_driver/controller.py', 'oslo_messaging/notify/messaging.py', 'oslo_messaging/server.py', 'oslo_messaging/notify/notifier.py', 'oslo_messaging/_drivers/common.py', 'oslo_messaging/_drivers/impl_rabbit.py', 'oslo_messaging/transport.py', 'requirements.txt', 'oslo_messaging/notify/_impl_routing.py', 'oslo_messaging/rpc/server.py', 'oslo_messaging/_drivers/impl_amqp1.py', 'oslo_messaging/_drivers/amqpdriver.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4f385720d7d43aadfaff7c6f41b0534312b23ba8', 'message': 'Remove log translation and i18n\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nChange-Id: I9ddb6595fc52e46ed8844e39d2fa71029c90b65c\nCloses-Bug: #1674567\n'}]",40,652056,4f385720d7d43aadfaff7c6f41b0534312b23ba8,38,6,9,28522,,,0,"Remove log translation and i18n

Log messages are no longer being translated. This removes all use of
the _LE, _LI, and _LW translation markers to simplify logging and to
avoid confusion with new contributions.

Change-Id: I9ddb6595fc52e46ed8844e39d2fa71029c90b65c
Closes-Bug: #1674567
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/56/652056/6 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_i18n.py', 'oslo_messaging/hacking/checks.py', 'oslo_messaging/notify/dispatcher.py', 'oslo_messaging/notify/middleware.py', 'oslo_messaging/notify/listener.py', 'oslo_messaging/_drivers/amqp1_driver/controller.py', 'oslo_messaging/notify/messaging.py', 'oslo_messaging/server.py', 'oslo_messaging/notify/notifier.py', 'oslo_messaging/_drivers/common.py', 'oslo_messaging/_drivers/impl_rabbit.py', 'oslo_messaging/transport.py', 'requirements.txt', 'oslo_messaging/_drivers/amqp1_driver/addressing.py', 'oslo_messaging/notify/_impl_routing.py', 'oslo_messaging/rpc/server.py', 'oslo_messaging/_drivers/impl_amqp1.py', 'oslo_messaging/_drivers/amqpdriver.py', 'tox.ini']",19,b0e595ab56f4d4219635a336a285f811e33d9209,bug/1674567,, oslo_messaging._i18n,132,256
openstack%2Foslo.context~master~Iaf18cea9ee9f1edfd1ef1a96a36de1569e399886,openstack/oslo.context,master,Iaf18cea9ee9f1edfd1ef1a96a36de1569e399886,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:25:34.000000000,2019-05-04 22:26:39.000000000,2019-05-04 22:26:39.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-04-23 05:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/ad3e7a337b273f25a52a856fc3d42b40f63abd75', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Iaf18cea9ee9f1edfd1ef1a96a36de1569e399886\n'}, {'number': 2, 'created': '2019-04-30 05:30:42.000000000', 'files': ['doc/source/user/examples.rst', 'doc/source/user/usage.rst', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/dd33e2a2c81043ea99c0453a9da545b4e8abf4aa', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Iaf18cea9ee9f1edfd1ef1a96a36de1569e399886\n'}]",1,654728,dd33e2a2c81043ea99c0453a9da545b4e8abf4aa,11,4,2,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Iaf18cea9ee9f1edfd1ef1a96a36de1569e399886
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/28/654728/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/examples.rst', 'doc/source/user/usage.rst', 'README.rst', 'tox.ini']",4,ad3e7a337b273f25a52a856fc3d42b40f63abd75,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},6,6
openstack%2Foslo.serialization~master~Ic30ef00d39126d5a6f00a29893ed760bf4e753c6,openstack/oslo.serialization,master,Ic30ef00d39126d5a6f00a29893ed760bf4e753c6,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:25:40.000000000,2019-05-04 22:14:21.000000000,2019-05-04 22:14:21.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-04-23 05:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/f230051ae251b1a25fa0a80e094d47fe06ea1e27', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ic30ef00d39126d5a6f00a29893ed760bf4e753c6\n'}, {'number': 2, 'created': '2019-04-23 05:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/ac939e2626b892ead11a120f12103aa7050aaca4', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ic30ef00d39126d5a6f00a29893ed760bf4e753c6\nCloses-Bug: #1825936\n'}, {'number': 3, 'created': '2019-05-03 20:33:13.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/28da3afa6867d377ed154c0ddeeb32d4bc22c1ac', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ic30ef00d39126d5a6f00a29893ed760bf4e753c6\nCloses-Bug: #1825936\n'}]",0,654734,28da3afa6867d377ed154c0ddeeb32d4bc22c1ac,12,4,3,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Ic30ef00d39126d5a6f00a29893ed760bf4e753c6
Closes-Bug: #1825936
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/34/654734/3 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,f230051ae251b1a25fa0a80e094d47fe06ea1e27,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},2,2
openstack%2Foslo.middleware~master~I0ab27098deb48de60b4d93cbedf59c1d0aa4f318,openstack/oslo.middleware,master,I0ab27098deb48de60b4d93cbedf59c1d0aa4f318,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:25:28.000000000,2019-05-04 22:13:31.000000000,2019-05-04 22:13:31.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-04-23 05:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/469926679404972514b42604567be44e8bd47790', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I0ab27098deb48de60b4d93cbedf59c1d0aa4f318\n'}, {'number': 2, 'created': '2019-04-30 05:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/202293f638a50bde01ec295c926955d64850273a', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I0ab27098deb48de60b4d93cbedf59c1d0aa4f318\n'}, {'number': 3, 'created': '2019-04-30 05:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/7c783b83d341554bb0be1ff63d0dfc048c85cb65', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I0ab27098deb48de60b4d93cbedf59c1d0aa4f318\n'}, {'number': 4, 'created': '2019-04-30 05:45:21.000000000', 'files': ['doc/source/reference/index.rst', 'oslo_middleware/cors.py', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/f0a9926b11a669fb55131fb6ec6e52db2a82c20a', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I0ab27098deb48de60b4d93cbedf59c1d0aa4f318\n'}]",1,654723,f0a9926b11a669fb55131fb6ec6e52db2a82c20a,13,4,4,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I0ab27098deb48de60b4d93cbedf59c1d0aa4f318
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/23/654723/4 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,469926679404972514b42604567be44e8bd47790,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},2,2
openstack%2Foslo.i18n~master~I3836f1c839ca36b320b3f42d724f594f2d7b12ee,openstack/oslo.i18n,master,I3836f1c839ca36b320b3f42d724f594f2d7b12ee,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:25:35.000000000,2019-05-04 22:07:46.000000000,2019-05-04 22:07:46.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 05:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/2f71cef70793f5e26d012b9079637543071e6dd7', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I3836f1c839ca36b320b3f42d724f594f2d7b12ee\n'}, {'number': 2, 'created': '2019-04-24 11:13:25.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/292a952e2bb19b218c9db9337fa3799f5fa1ae06', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I3836f1c839ca36b320b3f42d724f594f2d7b12ee\nCloses-Bug: #1826196\n'}]",0,654731,292a952e2bb19b218c9db9337fa3799f5fa1ae06,10,3,2,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I3836f1c839ca36b320b3f42d724f594f2d7b12ee
Closes-Bug: #1826196
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/31/654731/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,2f71cef70793f5e26d012b9079637543071e6dd7,bug/1826196, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},2,2
openstack%2Fopenstack-ansible-os_placement~master~Id6b11e94e57d45151deb0aeb57761e5117eadd86,openstack/openstack-ansible-os_placement,master,Id6b11e94e57d45151deb0aeb57761e5117eadd86,Switch authenticate_uri to use v3,ABANDONED,2019-05-04 00:30:15.000000000,2019-05-04 21:47:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-04 00:30:15.000000000', 'files': ['templates/placement.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/b77c2ec5dab533167d9ae923dcdd17e653dd704f', 'message': 'Switch authenticate_uri to use v3\n\nChange-Id: Id6b11e94e57d45151deb0aeb57761e5117eadd86\n'}]",0,657088,b77c2ec5dab533167d9ae923dcdd17e653dd704f,3,1,1,28008,,,0,"Switch authenticate_uri to use v3

Change-Id: Id6b11e94e57d45151deb0aeb57761e5117eadd86
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/88/657088/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/placement.conf.j2'],1,b77c2ec5dab533167d9ae923dcdd17e653dd704f,placement_integration,www_authenticate_uri = {{ keystone_service_publicuri }}/v3,www_authenticate_uri = {{ keystone_service_publicuri }},1,1
openstack%2Fopenstack-ansible-os_nova~master~I8b55ad0c51778e60c04f56dd0cf360265d1655f2,openstack/openstack-ansible-os_nova,master,I8b55ad0c51778e60c04f56dd0cf360265d1655f2,[DNM] Drop placement user creation,ABANDONED,2019-05-04 20:39:25.000000000,2019-05-04 21:28:09.000000000,,[],"[{'number': 1, 'created': '2019-05-04 20:39:25.000000000', 'files': ['tasks/nova_service_setup.yml', 'templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/9de6aae66f8fa77a49aa7af7f428f5a2008fe9a8', 'message': '[DNM] Drop placement user creation\n\nChange-Id: I8b55ad0c51778e60c04f56dd0cf360265d1655f2\n'}]",0,657161,9de6aae66f8fa77a49aa7af7f428f5a2008fe9a8,2,0,1,28008,,,0,"[DNM] Drop placement user creation

Change-Id: I8b55ad0c51778e60c04f56dd0cf360265d1655f2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/61/657161/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/nova_service_setup.yml', 'templates/nova.conf.j2']",2,9de6aae66f8fa77a49aa7af7f428f5a2008fe9a8,placement_integration,password = {{ placement_service_password }}password = {{ placement_service_password }},password = {{ nova_placement_service_password }}password = {{ nova_placement_service_password }},2,6
openstack%2Fglance~master~I0a6901ba2f5d1c26ac5d9df561bf9057fdbe0e8e,openstack/glance,master,I0a6901ba2f5d1c26ac5d9df561bf9057fdbe0e8e,Add backend to location metadata,NEW,2018-11-20 02:03:12.000000000,2019-05-04 21:13:21.000000000,,"[{'_account_id': 9008}, {'_account_id': 22348}, {'_account_id': 23561}, {'_account_id': 26458}, {'_account_id': 28595}]","[{'number': 1, 'created': '2018-11-20 02:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/acffedec5fef1b0ef4d5714fed2dc30468664a74', 'message': ""WIP: Add backend to location metadata\n\nAdds 'backend' to location metadata if multistire enabled and none\nsupplied. Queries glance_store to find the first configured backend\ncapable of handling the URL.\n\nWIP - for discussion, and need to add unit tests.\n\nChange-Id: I0a6901ba2f5d1c26ac5d9df561bf9057fdbe0e8e\nCloses-Bug: #1802587\nDepends-On: https://review.openstack.org/618932\n""}, {'number': 2, 'created': '2018-11-21 23:35:27.000000000', 'files': ['glance/tests/unit/v2/test_discovery_stores.py', 'glance/api/v2/images.py', 'glance/tests/unit/base.py', 'glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/4414bdc92ccc4585f4fb8074cad0e0beb25d9ca3', 'message': ""Add backend to location metadata\n\nAdds 'backend' to location metadata if multistire enabled and none\nsupplied. Queries glance_store to find the first configured backend\ncapable of handling the URL.\n\nChange-Id: I0a6901ba2f5d1c26ac5d9df561bf9057fdbe0e8e\nCloses-Bug: #1802587\nDepends-On: https://review.openstack.org/618932\n""}]",1,618933,4414bdc92ccc4585f4fb8074cad0e0beb25d9ca3,8,5,2,23561,,,0,"Add backend to location metadata

Adds 'backend' to location metadata if multistire enabled and none
supplied. Queries glance_store to find the first configured backend
capable of handling the URL.

Change-Id: I0a6901ba2f5d1c26ac5d9df561bf9057fdbe0e8e
Closes-Bug: #1802587
Depends-On: https://review.openstack.org/618932
",git fetch https://review.opendev.org/openstack/glance refs/changes/33/618933/2 && git format-patch -1 --stdout FETCH_HEAD,['glance/api/v2/images.py'],1,acffedec5fef1b0ef4d5714fed2dc30468664a74,bug/1802587," def _populate_backend_metadata(self, locations): if not CONF.enabled_backends: return for location in locations: try: backend = glance_store.find_backend_for_url(location['url']) except glance_store.exceptions.UnknownScheme as e: raise webob.exc.HTTPBadRequest( explanation=encodeutils.exception_to_unicode(e)) location['metadata']['backend'] = six.text_type(backend) self._populate_backend_metadata(value) self._populate_backend_metadata([value])",,13,0
openstack%2Fpyeclib~master~I45f92fbf282afab06a80db5cd5b311db76344737,openstack/pyeclib,master,I45f92fbf282afab06a80db5cd5b311db76344737,Update .zuul.yaml,MERGED,2019-05-04 18:59:09.000000000,2019-05-04 20:38:00.000000000,2019-05-04 20:37:59.000000000,"[{'_account_id': 6547}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-04 18:59:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/b1df313d42676f29d881708bf9de284703f3ae33', 'message': 'Update .zuul.yaml\n\nRemove publish-to-pypi, it should stay in project-config so that tagging\nof repos with multiple branches works, see\nhttps://docs.openstack.org/infra/manual/creators.html#central-config-exceptions\n\nRemove names, this should never be used - and is a noop. It will cause\nharm in case the repo gets renamed.\n\nChange-Id: I45f92fbf282afab06a80db5cd5b311db76344737\n'}]",0,657148,b1df313d42676f29d881708bf9de284703f3ae33,10,3,1,6547,,,0,"Update .zuul.yaml

Remove publish-to-pypi, it should stay in project-config so that tagging
of repos with multiple branches works, see
https://docs.openstack.org/infra/manual/creators.html#central-config-exceptions

Remove names, this should never be used - and is a noop. It will cause
harm in case the repo gets renamed.

Change-Id: I45f92fbf282afab06a80db5cd5b311db76344737
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/48/657148/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b1df313d42676f29d881708bf9de284703f3ae33,,, name: x/pyeclib - publish-to-pypi,0,2
openstack%2Fopenstack-ansible-os_nova~master~I0255e521bb2733ba94cbeea0cd94005403c9a7fd,openstack/openstack-ansible-os_nova,master,I0255e521bb2733ba94cbeea0cd94005403c9a7fd,[DNM] Drop placement user creation,ABANDONED,2019-05-04 15:01:01.000000000,2019-05-04 20:37:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-04 15:01:01.000000000', 'files': ['tasks/nova_service_setup.yml', 'templates/nova.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/c649084455d3d52f6d3f8d9572b6a0cb54736833', 'message': '[DNM] Drop placement user creation\n\nChange-Id: I0255e521bb2733ba94cbeea0cd94005403c9a7fd\n'}]",0,657121,c649084455d3d52f6d3f8d9572b6a0cb54736833,3,1,1,28008,,,0,"[DNM] Drop placement user creation

Change-Id: I0255e521bb2733ba94cbeea0cd94005403c9a7fd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/21/657121/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/nova_service_setup.yml', 'templates/nova.conf.j2', 'defaults/main.yml']",3,c649084455d3d52f6d3f8d9572b6a0cb54736833,placement_integration,,nova_placement_service_username: placement,4,13
openstack%2Fnova~master~Id2912a46dddee3d63ce373e4d280fad79d0128a8,openstack/nova,master,Id2912a46dddee3d63ce373e4d280fad79d0128a8,Add image type capability flags and trait conversions,MERGED,2019-04-15 15:55:03.000000000,2019-05-04 20:32:15.000000000,2019-05-04 20:32:15.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-15 15:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efe9536ae866621dc3cae1aa946a07d60f7b3766', 'message': 'Add image type capability flags and trait conversions\n\nThis makes the base virt driver define capability flags for each of the\nglance-defined image types. It also adds a capability-to-trait mapping\nfor each, causing any driver that supports a given image type to expose\nthe corresponding trait.\n\nRelated to blueprint request-filter-image-types\n\nChange-Id: Id2912a46dddee3d63ce373e4d280fad79d0128a8\n'}, {'number': 2, 'created': '2019-04-15 20:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47eea022b7a6f795661b746333a0a26876b0ed3c', 'message': 'Add image type capability flags and trait conversions\n\nThis makes the base virt driver define capability flags for each of the\nglance-defined image types. It also adds a capability-to-trait mapping\nfor each, causing any driver that supports a given image type to expose\nthe corresponding trait.\n\nRelated to blueprint request-filter-image-types\n\nChange-Id: Id2912a46dddee3d63ce373e4d280fad79d0128a8\n'}, {'number': 3, 'created': '2019-04-24 19:40:23.000000000', 'files': ['requirements.txt', 'nova/virt/driver.py', 'lower-constraints.txt', 'nova/virt/powervm/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b81fe4dbe451fe4125f0e67f14f9e67bb266db4c', 'message': 'Add image type capability flags and trait conversions\n\nThis makes the base virt driver define capability flags for each of the\nglance-defined image types. It also adds a capability-to-trait mapping\nfor each, causing any driver that supports a given image type to expose\nthe corresponding trait.\n\nRelated to blueprint request-filter-image-types\n\nChange-Id: Id2912a46dddee3d63ce373e4d280fad79d0128a8\n'}]",5,652710,b81fe4dbe451fe4125f0e67f14f9e67bb266db4c,36,17,3,4393,,,0,"Add image type capability flags and trait conversions

This makes the base virt driver define capability flags for each of the
glance-defined image types. It also adds a capability-to-trait mapping
for each, causing any driver that supports a given image type to expose
the corresponding trait.

Related to blueprint request-filter-image-types

Change-Id: Id2912a46dddee3d63ce373e4d280fad79d0128a8
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/652710/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'nova/virt/driver.py', 'nova/virt/powervm/driver.py']",3,efe9536ae866621dc3cae1aa946a07d60f7b3766,bp/request-filter-image-types," # Supported image types ""supports_image_type_aki"": False, ""supports_image_type_ami"": False, ""supports_image_type_ari"": False, ""supports_image_type_iso"": False, ""supports_image_type_qcow2"": False, ""supports_image_type_raw"": True, ""supports_image_type_vdi"": False, ""supports_image_type_vhd"": False, ""supports_image_type_vhdx"": False, ""supports_image_type_vmdk"": False,",,38,2
openstack%2Ftripleo-heat-templates~master~I5f1c89e7fad7624c2edbf557ec39f5777b089d55,openstack/tripleo-heat-templates,master,I5f1c89e7fad7624c2edbf557ec39f5777b089d55,"Revert ""mistral: configure heartbeat parameters to avoid action timeout""",MERGED,2019-05-04 14:52:22.000000000,2019-05-04 20:13:11.000000000,2019-05-04 20:13:11.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-05-04 14:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af0e390d9e5c8de837539194d87581a9f5b5bc7d', 'message': 'Revert ""mistral: configure heartbeat parameters to avoid action timeout""\n\nThis reverts commit 374fafd66afa792ba197403b479dadbfa3055bce.\n\nThe root cause of the timeout has been addressed by:\nId22b1465d6d2424d90781983b970aba4545feb8a\n\nWe don\'t need that horrible hack.\nRelated-Bug: #1826281\n\nChange-Id: I5f1c89e7fad7624c2edbf557ec39f5777b089d55\n'}, {'number': 2, 'created': '2019-05-04 14:52:25.000000000', 'files': ['deployment/mistral/mistral-base.yaml', 'environments/undercloud.yaml', 'releasenotes/notes/mistral_timeout-c00344d5b3d8c4b0.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/738486f10850425a56809f23b830951832712e0b', 'message': 'Revert ""mistral: configure heartbeat parameters to avoid action timeout""\n\nThis reverts commit 374fafd66afa792ba197403b479dadbfa3055bce.\n\nThe root cause of the timeout has been addressed by:\nId22b1465d6d2424d90781983b970aba4545feb8a\n\nWe don\'t need that horrible hack.\nRelated-Bug: #1826281\n\nChange-Id: I5f1c89e7fad7624c2edbf557ec39f5777b089d55\n'}]",0,657119,738486f10850425a56809f23b830951832712e0b,10,7,2,3153,,,0,"Revert ""mistral: configure heartbeat parameters to avoid action timeout""

This reverts commit 374fafd66afa792ba197403b479dadbfa3055bce.

The root cause of the timeout has been addressed by:
Id22b1465d6d2424d90781983b970aba4545feb8a

We don't need that horrible hack.
Related-Bug: #1826281

Change-Id: I5f1c89e7fad7624c2edbf557ec39f5777b089d55
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/657119/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/mistral/mistral-base.yaml', 'environments/undercloud.yaml', 'releasenotes/notes/mistral_timeout-c00344d5b3d8c4b0.yaml']",3,af0e390d9e5c8de837539194d87581a9f5b5bc7d,bug/1821611,,--- fixes: - | Allow to configure Mistral parameters for Heartbeat and set sane defaults for the Undercloud so we can deploy an Overcloud in Stein. Fixes `bug 1821611 <https://bugs.launchpad.net/tripleo/+bug/1821611>`__. ,0,45
openstack%2Ftripleo-heat-templates~stable%2Fstein~I5f1c89e7fad7624c2edbf557ec39f5777b089d55,openstack/tripleo-heat-templates,stable/stein,I5f1c89e7fad7624c2edbf557ec39f5777b089d55,"Revert ""mistral: configure heartbeat parameters to avoid action timeout""",MERGED,2019-05-04 14:54:00.000000000,2019-05-04 20:13:09.000000000,2019-05-04 20:13:09.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-04 14:54:00.000000000', 'files': ['deployment/mistral/mistral-base.yaml', 'environments/undercloud.yaml', 'releasenotes/notes/mistral_timeout-c00344d5b3d8c4b0.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f5ef977e1c3a24af70f511ec9d4d7a496e57b2d5', 'message': 'Revert ""mistral: configure heartbeat parameters to avoid action timeout""\n\nThis reverts commit 374fafd66afa792ba197403b479dadbfa3055bce.\n\nThe root cause of the timeout has been addressed by:\nId22b1465d6d2424d90781983b970aba4545feb8a\n\nWe don\'t need that horrible hack.\nRelated-Bug: #1826281\n\nChange-Id: I5f1c89e7fad7624c2edbf557ec39f5777b089d55\n(cherry picked from commit 738486f10850425a56809f23b830951832712e0b)\n'}]",0,657120,f5ef977e1c3a24af70f511ec9d4d7a496e57b2d5,8,4,1,3153,,,0,"Revert ""mistral: configure heartbeat parameters to avoid action timeout""

This reverts commit 374fafd66afa792ba197403b479dadbfa3055bce.

The root cause of the timeout has been addressed by:
Id22b1465d6d2424d90781983b970aba4545feb8a

We don't need that horrible hack.
Related-Bug: #1826281

Change-Id: I5f1c89e7fad7624c2edbf557ec39f5777b089d55
(cherry picked from commit 738486f10850425a56809f23b830951832712e0b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/657120/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/mistral/mistral-base.yaml', 'environments/undercloud.yaml', 'releasenotes/notes/mistral_timeout-c00344d5b3d8c4b0.yaml']",3,f5ef977e1c3a24af70f511ec9d4d7a496e57b2d5,bug/1826281,,--- fixes: - | Allow to configure Mistral parameters for Heartbeat and set sane defaults for the Undercloud so we can deploy an Overcloud in Stein. Fixes `bug 1821611 <https://bugs.launchpad.net/tripleo/+bug/1821611>`__. ,0,45
openstack%2Fneutron~stable%2Frocky~I83394394860d10e27379efe0356d0fa9c567140e,openstack/neutron,stable/rocky,I83394394860d10e27379efe0356d0fa9c567140e,Get ports query: extract limit and use it only at the end.,MERGED,2019-04-27 15:45:14.000000000,2019-05-04 20:08:17.000000000,2019-05-04 20:08:17.000000000,"[{'_account_id': 1131}, {'_account_id': 10022}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-27 15:45:14.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9ff4aee2034d676af06cc7bceb841bae3465bef', 'message': 'Get ports query: extract limit and use it only at the end.\n\n_get_ports_query add filters after a get_collection. If limits are\npassed to applied to the query, then no additional filter is allowed.\nThis patch extracts an eventual limit argument, to apply it only after\nthe additional filters.\n\nChange-Id: I83394394860d10e27379efe0356d0fa9c567140e\nCloses-Bug: #1826186\n(cherry picked from commit cf8f3326be14d30456b20e4d1a55a36762daa550)\n'}]",0,656064,d9ff4aee2034d676af06cc7bceb841bae3465bef,17,5,1,10022,,,0,"Get ports query: extract limit and use it only at the end.

_get_ports_query add filters after a get_collection. If limits are
passed to applied to the query, then no additional filter is allowed.
This patch extracts an eventual limit argument, to apply it only after
the additional filters.

Change-Id: I83394394860d10e27379efe0356d0fa9c567140e
Closes-Bug: #1826186
(cherry picked from commit cf8f3326be14d30456b20e4d1a55a36762daa550)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/656064/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py']",2,d9ff4aee2034d676af06cc7bceb841bae3465bef,bug/1826186," limit = kwargs.pop('limit', None) if limit: query = query.limit(limit)",,15,1
openstack%2Fnova~stable%2Fstein~If21230869826c992e7d0398434b9a4b255940213,openstack/nova,stable/stein,If21230869826c992e7d0398434b9a4b255940213,libvirt: Always disconnect volumes after libvirtError exceptions,MERGED,2019-05-04 12:23:25.000000000,2019-05-04 20:08:13.000000000,2019-05-04 20:08:13.000000000,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-04 12:23:25.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/048d5b790f3da2756a0a1bf2bc015812cb24d53a', 'message': 'libvirt: Always disconnect volumes after libvirtError exceptions\n\nBuilding on Ib440f4f2e484312af5f393722363846f6c95b760 we should always\nattempt to disconnect volumes from the host when exceptions are thrown\nwhile attempting to attach a volume to a domain. This was previously\ndone for generic exceptions but not for libvirtError exceptions.\n\nCloses-Bug: #1826523\nChange-Id: If21230869826c992e7d0398434b9a4b255940213\n(cherry picked from commit 091a910576d9b580678f1881fffa425ab4632f48)\n'}]",0,657109,048d5b790f3da2756a0a1bf2bc015812cb24d53a,14,7,1,10135,,,0,"libvirt: Always disconnect volumes after libvirtError exceptions

Building on Ib440f4f2e484312af5f393722363846f6c95b760 we should always
attempt to disconnect volumes from the host when exceptions are thrown
while attempting to attach a volume to a domain. This was previously
done for generic exceptions but not for libvirtError exceptions.

Closes-Bug: #1826523
Change-Id: If21230869826c992e7d0398434b9a4b255940213
(cherry picked from commit 091a910576d9b580678f1881fffa425ab4632f48)
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/657109/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,048d5b790f3da2756a0a1bf2bc015812cb24d53a,bug/1826523," mock.patch.object(drvr, '_disconnect_volume'), mock_disconnect_volume, mock_get_volume_config, mock_check_discard, mock_build_metadata): mock_disconnect_volume.assert_called_once() mock.patch.object(drvr, '_disconnect_volume'), mock_disconnect_volume, mock_get_volume_config, mock_check_discard, mock_build_metadata): mock_disconnect_volume.assert_called_once()"," mock_get_volume_config, mock_check_discard, mock_build_metadata): mock_get_volume_config, mock_check_discard, mock_build_metadata):",10,2
openstack%2Fkeystone~master~If496152e40d2213a03faad5645667220fddfcf62,openstack/keystone,master,If496152e40d2213a03faad5645667220fddfcf62,Move redelegation fields out of extras,MERGED,2016-02-04 22:23:17.000000000,2019-05-04 19:42:41.000000000,2019-05-04 19:42:41.000000000,"[{'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 7725}, {'_account_id': 8482}, {'_account_id': 8871}, {'_account_id': 13055}, {'_account_id': 13152}, {'_account_id': 15054}, {'_account_id': 17860}, {'_account_id': 18338}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-02-04 22:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/29db40d8e029dddaf2ca299dcdeab5865be2e62a', 'message': 'Move redelegated_trust_id out of extras\n\nCurrently new created trust store the redelegated_trust_id attribute in\nextas. This patch adds a migrtion the moves the attribte out of extras\nand defines it on trust schema.\n\nChange-Id: If496152e40d2213a03faad5645667220fddfcf62\nPartial-Bug: 1539766\n'}, {'number': 2, 'created': '2016-02-05 15:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/64607b88e1ed9a706845b29fd2ed14519fe086b9', 'message': 'Move redelegated_trust_id out of extras\n\nCurrently new created trust store the redelegated_trust_id attribute in\nextas. This patch adds a migrtion the moves the attribte out of extras\nand defines it on trust schema.\n\nChange-Id: If496152e40d2213a03faad5645667220fddfcf62\nPartial-Bug: 1539766\n'}, {'number': 3, 'created': '2016-02-09 18:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1e06e827af2c25a2a3b1d429c4c7bc7a3f11496a', 'message': 'Move redelegated_trust_id out of extras\n\nCurrently new created trust stores the redelegated_trust_id attribute in\nextras. This patch adds a migration the moves the attribute out of extras\nand defines it on the trust schema.\n\nChange-Id: If496152e40d2213a03faad5645667220fddfcf62\nPartial-Bug: 1539766\n'}, {'number': 4, 'created': '2016-02-10 22:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1de799720b7d04ce35366319a0a5fcc24167b585', 'message': 'Move redelegated_trust_id out of extras\n\nCurrently new created trust stores the redelegated_trust_id attribute in\nextras. This patch adds a migration the moves the attribute out of extras\nand defines it on the trust schema.\n\nChange-Id: If496152e40d2213a03faad5645667220fddfcf62\nPartial-Bug: 1539766\n'}, {'number': 5, 'created': '2016-11-28 21:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/24d1adb324dd8dec9c194dbacd4b7572b98b9aee', 'message': 'Move redelegated_trust_id out of extras\n\nCurrently new created trust stores the redelegated_trust_id attribute in\nextras. This patch adds a migration the moves the attribute out of extras\nand defines it on the trust schema.\n\nChange-Id: If496152e40d2213a03faad5645667220fddfcf62\nRelated-Bug: 1539766\n'}, {'number': 6, 'created': '2016-12-02 17:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2cd86483cb800ebc7fbd6f0954ba09b9d69bf9ae', 'message': ""Move redelegation fields out of extras\n\nThe trust SQL backend uses the extras column to store the\nredeletegated_trust_id and redelegation_count info. It's\nbetter to make them first class citizens and give them\ntheir own columns.\n\nCo-Authored-By: David Stanek <dstanek@dstanek.com>\nCo-Authored-By: Alexander Makarov <amakarov@mirantis.com>\nChange-Id: If496152e40d2213a03faad5645667220fddfcf62\nRelated-Bug: 1539766\n""}, {'number': 7, 'created': '2019-04-13 01:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4283810db7d3f756bc953334dd319dd750140575', 'message': ""Move redelegation fields out of extras\n\nThe trust SQL backend uses the extras column to store the\nredeletegated_trust_id and redelegation_count info. It's\nbetter to make them first class citizens and give them\ntheir own columns.\n\nThis change does not add redelegation_trust_id to the trust schema\nbecause this value is set by the token context, not by the user. We also\nremove it from the api-ref example to avoid confusion about this.\n\nCo-Authored-By: David Stanek <dstanek@dstanek.com>\nCo-Authored-By: Alexander Makarov <amakarov@mirantis.com>\nChange-Id: If496152e40d2213a03faad5645667220fddfcf62\n""}, {'number': 8, 'created': '2019-04-13 03:27:43.000000000', 'files': ['keystone/common/sql/expand_repo/versions/062_expand_extract_redelegation_data_from_extras.py', 'api-ref/source/v3-ext/trust.inc', 'keystone/common/sql/data_migration_repo/versions/062_migrate_extract_redelegation_data_from_extras.py', 'keystone/trust/backends/sql.py', 'keystone/common/sql/contract_repo/versions/062_contract_extract_redelegation_data_from_extras.py', 'keystone/tests/unit/test_sql_upgrade.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/2b9d409f0df08a8763b16a59c36c87b4a6004be7', 'message': ""Move redelegation fields out of extras\n\nThe trust SQL backend uses the extras column to store the\nredeletegated_trust_id and redelegation_count info. It's\nbetter to make them first class citizens and give them\ntheir own columns.\n\nThis change does not add redelegation_trust_id to the trust schema\nbecause this value is set by the token context, not by the user. We also\nremove it from the api-ref example to avoid confusion about this.\n\nCo-Authored-By: David Stanek <dstanek@dstanek.com>\nCo-Authored-By: Alexander Makarov <amakarov@mirantis.com>\nChange-Id: If496152e40d2213a03faad5645667220fddfcf62\n""}]",37,276474,2b9d409f0df08a8763b16a59c36c87b4a6004be7,44,12,8,13152,,,0,"Move redelegation fields out of extras

The trust SQL backend uses the extras column to store the
redeletegated_trust_id and redelegation_count info. It's
better to make them first class citizens and give them
their own columns.

This change does not add redelegation_trust_id to the trust schema
because this value is set by the token context, not by the user. We also
remove it from the api-ref example to avoid confusion about this.

Co-Authored-By: David Stanek <dstanek@dstanek.com>
Co-Authored-By: Alexander Makarov <amakarov@mirantis.com>
Change-Id: If496152e40d2213a03faad5645667220fddfcf62
",git fetch https://review.opendev.org/openstack/keystone refs/changes/74/276474/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/trust/schema.py', 'keystone/common/sql/migrate_repo/versions/088_move_redelegated_trust_id.py', 'keystone/trust/backends/sql.py']",3,29db40d8e029dddaf2ca299dcdeab5865be2e62a,bug/1539766," 'remaining_uses', 'deleted_at', 'redelegated_trust_id'] redelegated_trust_id = sql.Column(sql.String(64))"," 'remaining_uses', 'deleted_at']",55,2
openstack%2Foslo.cache~stable%2Frocky~I1e099545e642712ab8d99b9f8e4484ca9cb108c5,openstack/oslo.cache,stable/rocky,I1e099545e642712ab8d99b9f8e4484ca9cb108c5,Update UPPER_CONSTRAINTS_FILE for stable/rocky,MERGED,2018-07-26 12:36:58.000000000,2019-05-04 19:16:34.000000000,2019-05-04 19:16:34.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/ff3e7d3e96d39569d4fd4dce1b66a36a77efcad4', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/rocky\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I1e099545e642712ab8d99b9f8e4484ca9cb108c5\n""}, {'number': 2, 'created': '2019-05-04 16:29:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/8ef2778179af79165189cfd485b46ddb54aef967', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/rocky\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I1e099545e642712ab8d99b9f8e4484ca9cb108c5\n""}]",0,586117,8ef2778179af79165189cfd485b46ddb54aef967,10,4,2,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/rocky

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I1e099545e642712ab8d99b9f8e4484ca9cb108c5
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/17/586117/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ff3e7d3e96d39569d4fd4dce1b66a36a77efcad4,create-rocky,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky} {opts} {packages},install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fpyeclib~master~I84fbe1c0ea7f3d991d37ef123630cef5519a2f49,openstack/pyeclib,master,I84fbe1c0ea7f3d991d37ef123630cef5519a2f49,Move project-config job definitions in-tree,MERGED,2019-02-13 18:00:07.000000000,2019-05-04 18:59:23.000000000,2019-02-13 20:36:47.000000000,"[{'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-13 18:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/51e765214065c27781486baa2e17aef427ef3962', 'message': 'Move project-config job definitions in-tree\n\nAlso, add py36 to the experimental checks.\n\nChange-Id: I84fbe1c0ea7f3d991d37ef123630cef5519a2f49\n'}, {'number': 2, 'created': '2019-02-13 19:46:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/8d0afbb0324fd87abd05b4d60b269dc847595b35', 'message': 'Move project-config job definitions in-tree\n\nAlso, add py36 to the experimental checks.\n\nChange-Id: I84fbe1c0ea7f3d991d37ef123630cef5519a2f49\n'}]",2,636698,8d0afbb0324fd87abd05b4d60b269dc847595b35,12,3,2,15343,,,0,"Move project-config job definitions in-tree

Also, add py36 to the experimental checks.

Change-Id: I84fbe1c0ea7f3d991d37ef123630cef5519a2f49
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/98/636698/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,51e765214065c27781486baa2e17aef427ef3962,zuul, name: openstack/pyeclib templates: - openstack-python-jobs - publish-to-pypi - openstack-tox-py35 - openstack-tox-py36,,6,0
openstack%2Fcliff~stable%2Frocky~I71bfd18ecd846f1df347cb063747ec320afb8ab2,openstack/cliff,stable/rocky,I71bfd18ecd846f1df347cb063747ec320afb8ab2,Update UPPER_CONSTRAINTS_FILE for stable/rocky,MERGED,2018-07-26 12:32:58.000000000,2019-05-04 18:54:10.000000000,2019-05-04 18:54:10.000000000,"[{'_account_id': 9542}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/99def25046f0b881e974a30c57f1577d6f8426bf', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/rocky\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I71bfd18ecd846f1df347cb063747ec320afb8ab2\n""}, {'number': 2, 'created': '2019-05-04 15:54:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cliff/commit/3fcb33c5cf8970e8ec045176d8d83da51bc181fc', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/rocky\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I71bfd18ecd846f1df347cb063747ec320afb8ab2\n""}]",0,586071,3fcb33c5cf8970e8ec045176d8d83da51bc181fc,11,3,2,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/rocky

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I71bfd18ecd846f1df347cb063747ec320afb8ab2
",git fetch https://review.opendev.org/openstack/cliff refs/changes/71/586071/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,99def25046f0b881e974a30c57f1577d6f8426bf,create-rocky, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Fcliff~master~If5a40b37102d4f729c5eb5a0316f7e3857afe151,openstack/cliff,master,If5a40b37102d4f729c5eb5a0316f7e3857afe151,Updates for OpenDev transition,MERGED,2019-04-21 15:09:28.000000000,2019-05-04 18:49:41.000000000,2019-05-04 18:49:41.000000000,"[{'_account_id': 970}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-21 15:09:28.000000000', 'files': ['doc/source/install/index.rst', 'README.rst', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cliff/commit/ffb579b76c7f6ed311a90480d82e4fd78178cf1a', 'message': 'Updates for OpenDev transition\n\nChange-Id: If5a40b37102d4f729c5eb5a0316f7e3857afe151\nSigned-off-by: Dean Troyer <dtroyer@gmail.com>\n'}]",0,654253,ffb579b76c7f6ed311a90480d82e4fd78178cf1a,10,3,1,970,,,0,"Updates for OpenDev transition

Change-Id: If5a40b37102d4f729c5eb5a0316f7e3857afe151
Signed-off-by: Dean Troyer <dtroyer@gmail.com>
",git fetch https://review.opendev.org/openstack/cliff refs/changes/53/654253/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/index.rst', 'README.rst', 'setup.cfg', 'tox.ini']",4,ffb579b76c7f6ed311a90480d82e4fd78178cf1a,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},4,4
openstack%2Fswift~master~Ia44e832e4198e75f3337884c4612f4e9fe3b9e0b,openstack/swift,master,Ia44e832e4198e75f3337884c4612f4e9fe3b9e0b,versioned_writes: stop trying to catch HTTPPreconditionFailed,MERGED,2019-02-19 21:29:12.000000000,2019-05-04 18:35:50.000000000,2019-05-04 18:35:50.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-19 21:29:12.000000000', 'files': ['swift/common/middleware/versioned_writes.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8e045d0de213457e97a943d0e6f75fe456c377e1', 'message': ""versioned_writes: stop trying to catch HTTPPreconditionFailed\n\n* We just caught it to raise another one\n* On newer versions of python, we wouldn't actually catch\n  anything, because HTTPPreconditionFailed is not an instance\n  of BaseException -- it's a partial function application\n  which when called will return an exception.\n\nChange-Id: Ia44e832e4198e75f3337884c4612f4e9fe3b9e0b\n""}]",1,638015,8e045d0de213457e97a943d0e6f75fe456c377e1,23,3,1,15343,,,0,"versioned_writes: stop trying to catch HTTPPreconditionFailed

* We just caught it to raise another one
* On newer versions of python, we wouldn't actually catch
  anything, because HTTPPreconditionFailed is not an instance
  of BaseException -- it's a partial function application
  which when called will return an exception.

Change-Id: Ia44e832e4198e75f3337884c4612f4e9fe3b9e0b
",git fetch https://review.opendev.org/openstack/swift refs/changes/15/638015/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/versioned_writes.py'],1,8e045d0de213457e97a943d0e6f75fe456c377e1,," lprefix, req): req, failed_marker, failed_listing): req, marker, end_marker=failed_marker, reverse=False): req, marker='', end_marker='', reverse=True): req.environ, method='GET', swift_source='VW', raise HTTPPreconditionFailed(request=req) req, marker, sublisting)"," lprefix, req.environ): except HTTPPreconditionFailed: raise HTTPPreconditionFailed(request=req) env, failed_marker, failed_listing): env, marker, end_marker=failed_marker, reverse=False): env, marker='', end_marker='', reverse=True): env, method='GET', swift_source='VW', raise HTTPPreconditionFailed() env, marker, sublisting)",7,9
openstack%2Ftempest~master~I390f9e013930477f32c537191adbef37e1b4dd1c,openstack/tempest,master,I390f9e013930477f32c537191adbef37e1b4dd1c,Fix resource leaks in EndPointGroupsTest,MERGED,2019-05-03 11:51:23.000000000,2019-05-04 18:35:48.000000000,2019-05-04 18:35:48.000000000,"[{'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-05-03 11:51:23.000000000', 'files': ['tempest/api/identity/admin/v3/test_endpoint_groups.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/23325c0ee8868324b1d4cd79ccbcb5026c7ed00a', 'message': 'Fix resource leaks in EndPointGroupsTest\n\nTest cases were creating services at the test case\nscope and not add them to addCleanup method.\n\nChange-Id: I390f9e013930477f32c537191adbef37e1b4dd1c\n'}]",0,656941,23325c0ee8868324b1d4cd79ccbcb5026c7ed00a,11,11,1,17887,,,0,"Fix resource leaks in EndPointGroupsTest

Test cases were creating services at the test case
scope and not add them to addCleanup method.

Change-Id: I390f9e013930477f32c537191adbef37e1b4dd1c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/41/656941/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_endpoint_groups.py'],1,23325c0ee8868324b1d4cd79ccbcb5026c7ed00a,," self.addCleanup(self.services_client.delete_service, service_id) self.addCleanup(self.services_client.delete_service, service1_id)",,2,0
openstack%2Fnova~master~I574be2b629aaff23556e25f8db0d740105be6f07,openstack/nova,master,I574be2b629aaff23556e25f8db0d740105be6f07,qemu: Make disk image conversion dramatically faster,MERGED,2019-03-04 15:00:27.000000000,2019-05-04 18:23:27.000000000,2019-03-19 00:14:47.000000000,"[{'_account_id': 2394}, {'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 9373}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12860}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-04 15:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a90678111aa65955eba94e7b90ce5d5385f2da80', 'message': 'qemu: Make disk image conversion dramatically faster\n\ntl;dr: Use \'writeback\' instead of \'writethrough\' as the cache mode of\nthe target image for `qemu-img convert`.  Two reasons: (a) if the image\nconversion completes succesfully, then \'writeback\' calls fsync(2) to\nsafely write data to the physical disk; and (b) \'writeback\' makes the\nimage conversion a lot (at least 15 times, in some cases) faster.\n\nBack-of-the-envelope benchmark (on an SSD)\n------------------------------------------\n\n(Ran this three times each.)\n\nWith \'writethrough\':\n\n    $> time (qemu-img convert -t writethrough -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 Fedora-Cloud-Base-29.raw)\n    real    1m43.470s\n    user    0m8.310s\n    sys     0m3.661s\n\nWith \'writeback\':\n\n    $> time (qemu-img convert -t writeback  -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 5-Fedora-Cloud-Base-29.raw)\n\n    real    0m7.390s\n    user    0m5.179s\n    sys     0m1.780s\n\nThe \'writeback\' cache mode is at least _15_ times faster!\n\nDetails\n-------\n\nNova commit e6ce9557f8 (""qemu-img do not use cache=none if no O_DIRECT\nsupport"") was introduced to make Nova instances boot on filesystems that\ndon\'t support \'O_DIRECT\' (which bypasses the host page cache and flush\ndata directly to the disk), such as \'tmpfs\'.  In doing so it introduced\nthe \'writethrough\' cache for the target image for `qemu-img convert`.\n\nThis patch proposes to change that to \'writeback\'.  Let\'s addresses the\n""safety"" concern:\n\n  ""What about data integrity in the event of a host crash (especially\n   on shared file systems such as NFS)?""\n\nAnswer: If the host crashes mid-way during image conversion, then\nneither ""data integrity"" nor the cache mode in use matters.  But if the\nimage conversion completes _succesfully_, then \'writeback\' will safely\nwrite the data to the physical disk, just as \'writethough\' does.\n\nSo we are as safe as we can; but with the extra benefit of image\nconversion being much faster.\n\n        * * *\n\nThe `qemu-img convert` command defaults to \'cache=writeback\' for the\nsource image.  And \'cache=unsafe\' for the target, because if `qemu-img`\n""crashes during the conversion, the user will throw away the broken.\noutput file anyway and start over""[1].\n\nUpstream `qemu-img convert` supports[2] fsync() for the target image\nsince QEMU 1.1 (2012).\n\n[1] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=1bd8e175\n    -- ""qemu-img convert: Use cache=unsafe for output image""\n[2] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=80ccf93b\n    -- ""qemu-img: let \'qemu-img convert\' flush data""\n\nChange-Id: I574be2b629aaff23556e25f8db0d740105be6f07\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nNoticed-and-reviewed-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 2, 'created': '2019-03-04 17:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e35cb8a56aef95dc725745fea558b384372a0b9f', 'message': 'qemu: Make disk image conversion dramatically faster\n\ntl;dr: Use \'writeback\' instead of \'writethrough\' as the cache mode of\nthe target image for `qemu-img convert`.  Two reasons: (a) if the image\nconversion completes succesfully, then \'writeback\' calls fsync() to\nsafely write data to the physical disk; and (b) \'writeback\' makes the\nimage conversion a _lot_ faster.\n\nBack-of-the-envelope ""benchmark"" (on an SSD)\n--------------------------------------------\n\n(Ran both the tests thrice each.)\n\nWith \'writethrough\':\n\n    $> time (qemu-img convert -t writethrough -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 Fedora-Cloud-Base-29.raw)\n    real    1m43.470s\n    user    0m8.310s\n    sys     0m3.661s\n\nWith \'writeback\':\n\n    $> time (qemu-img convert -t writeback  -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 5-Fedora-Cloud-Base-29.raw)\n\n    real    0m7.390s\n    user    0m5.179s\n    sys     0m1.780s\n\nI.e. ~103 seconds of elapsed wall-clock time for \'writethrough\' vs ~7\nseconds for \'writeback\' -- IOW, \'writeback\' is nearly _15_ times faster!\n\nDetails\n-------\n\nNova commit e6ce9557f8 (""qemu-img do not use cache=none if no O_DIRECT\nsupport"") was introduced to make instances boot on filesystems that\ndon\'t support \'O_DIRECT\' (which bypasses the host page cache and flushes\ndata directly to the disk), such as \'tmpfs\'.  In doing so it introduced\nthe \'writethrough\' cache for the target image for `qemu-img convert`.\n\nThis patch proposes to change that to \'writeback\'.\n\nLet\'s addresses the \'safety\' concern:\n\n  ""What about data integrity in the event of a host crash (especially\n   on shared file systems such as NFS)?""\n\nAnswer: If the host crashes mid-way during image conversion, then\nneither ""data integrity"" nor the cache mode in use matters.  But if the\nimage conversion completes _succesfully_, then \'writeback\' will safely\nwrite the data to the physical disk, just as \'writethough\' does.\n\nSo we are as safe as we can, but with the extra benefit of image\nconversion being _much_ faster.\n\n        * * *\n\nThe `qemu-img convert` command defaults to \'cache=writeback\' for the\nsource image.  And \'cache=unsafe\' for the target, because if `qemu-img`\n""crashes during the conversion, the user will throw away the broken.\noutput file anyway and start over""[1].  And `qemu-img convert`\nsupports[2] fsync() for the target image since QEMU 1.1 (2012).\n\n[1] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=1bd8e175\n    -- ""qemu-img convert: Use cache=unsafe for output image""\n[2] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=80ccf93b\n    -- ""qemu-img: let \'qemu-img convert\' flush data""\n\nChange-Id: I574be2b629aaff23556e25f8db0d740105be6f07\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 3, 'created': '2019-03-05 09:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eaf00c5eb2665b3e9eb3b9fcfa9dc547e3c2c89c', 'message': 'qemu: Make disk image conversion dramatically faster\n\ntl;dr: Use \'writeback\' instead of \'writethrough\' as the cache mode of\nthe target image for `qemu-img convert`.  Two reasons: (a) if the image\nconversion completes succesfully, then \'writeback\' calls fsync() to\nsafely write data to the physical disk; and (b) \'writeback\' makes the\nimage conversion a _lot_ faster.\n\nBack-of-the-envelope ""benchmark"" (on an SSD)\n--------------------------------------------\n\n(Ran both the tests thrice each; version: qemu-img-2.11.0)\n\nWith \'writethrough\':\n\n    $> time (qemu-img convert -t writethrough -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 Fedora-Cloud-Base-29.raw)\n    real    1m43.470s\n    user    0m8.310s\n    sys     0m3.661s\n\nWith \'writeback\':\n\n    $> time (qemu-img convert -t writeback  -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 5-Fedora-Cloud-Base-29.raw)\n\n    real    0m7.390s\n    user    0m5.179s\n    sys     0m1.780s\n\nI.e. ~103 seconds of elapsed wall-clock time for \'writethrough\' vs. ~7\nseconds for \'writeback\' -- IOW, \'writeback\' is nearly _15_ times faster!\n\nDetails\n-------\n\nNova commit e6ce9557f8 (""qemu-img do not use cache=none if no O_DIRECT\nsupport"") was introduced to make instances boot on filesystems that\ndon\'t support \'O_DIRECT\' (which bypasses the host page cache and flushes\ndata directly to the disk), such as \'tmpfs\'.  In doing so it introduced\nthe \'writethrough\' cache for the target image for `qemu-img convert`.\n\nThis patch proposes to change that to \'writeback\'.\n\nLet\'s addresses the \'safety\' concern:\n\n  ""What about data integrity in the event of a host crash (especially\n   on shared file systems such as NFS)?""\n\nAnswer: If the host crashes mid-way during image conversion, then\nneither ""data integrity"" nor the cache mode in use matters.  But if the\nimage conversion completes _succesfully_, then \'writeback\' will safely\nwrite the data to the physical disk, just as \'writethough\' does.\n\nSo we are as safe as we can, but with the extra benefit of image\nconversion being _much_ faster.\n\n        * * *\n\nThe `qemu-img convert` command defaults to \'cache=writeback\' for the\nsource image.  And \'cache=unsafe\' for the target, because if `qemu-img`\n""crashes during the conversion, the user will throw away the broken.\noutput file anyway and start over""[1].  And `qemu-img convert`\nsupports[2] fsync() for the target image since QEMU 1.1 (2012).\n\n[1] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=1bd8e175\n    -- ""qemu-img convert: Use cache=unsafe for output image""\n[2] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=80ccf93b\n    -- ""qemu-img: let \'qemu-img convert\' flush data""\n\nChange-Id: I574be2b629aaff23556e25f8db0d740105be6f07\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 4, 'created': '2019-03-08 10:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4980534bca413408a83c9da54b47f95eb9bb26d', 'message': 'qemu: Make disk image conversion dramatically faster\n\ntl;dr: Use \'writeback\' instead of \'writethrough\' as the cache mode of\nthe target image for `qemu-img convert`.  Two reasons: (a) if the image\nconversion completes succesfully, then \'writeback\' calls fsync() to\nsafely write data to the physical disk; and (b) \'writeback\' makes the\nimage conversion a _lot_ faster.\n\nBack-of-the-envelope ""benchmark"" (on an SSD)\n--------------------------------------------\n\n(Ran both the tests thrice each; version: qemu-img-2.11.0)\n\nWith \'writethrough\':\n\n    $> time (qemu-img convert -t writethrough -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 Fedora-Cloud-Base-29.raw)\n    real    1m43.470s\n    user    0m8.310s\n    sys     0m3.661s\n\nWith \'writeback\':\n\n    $> time (qemu-img convert -t writeback  -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 5-Fedora-Cloud-Base-29.raw)\n\n    real    0m7.390s\n    user    0m5.179s\n    sys     0m1.780s\n\nI.e. ~103 seconds of elapsed wall-clock time for \'writethrough\' vs. ~7\nseconds for \'writeback\' -- IOW, \'writeback\' is nearly _15_ times faster!\n\nDetails\n-------\n\nNova commit e6ce9557f8 (""qemu-img do not use cache=none if no O_DIRECT\nsupport"") was introduced to make instances boot on filesystems that\ndon\'t support \'O_DIRECT\' (which bypasses the host page cache and flushes\ndata directly to the disk), such as \'tmpfs\'.  In doing so it introduced\nthe \'writethrough\' cache for the target image for `qemu-img convert`.\n\nThis patch proposes to change that to \'writeback\'.\n\nLet\'s addresses the \'safety\' concern:\n\n  ""What about data integrity in the event of a host crash (especially\n   on shared file systems such as NFS)?""\n\nAnswer: If the host crashes mid-way during image conversion, then\nneither ""data integrity"" nor the cache mode in use matters.  But if the\nimage conversion completes _succesfully_, then \'writeback\' will safely\nwrite the data to the physical disk, just as \'writethough\' does.\n\nSo we are as safe as we can, but with the extra benefit of image\nconversion being _much_ faster.\n\n        * * *\n\nThe `qemu-img convert` command defaults to \'cache=writeback\' for the\nsource image.  And \'cache=unsafe\' for the target, because if `qemu-img`\n""crashes during the conversion, the user will throw away the broken\noutput file anyway and start over""[1].  And `qemu-img convert`\nsupports[2] fsync() for the target image since QEMU 1.1 (2012).\n\n[1] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=1bd8e175\n    -- ""qemu-img convert: Use cache=unsafe for output image""\n[2] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=80ccf93b\n    -- ""qemu-img: let \'qemu-img convert\' flush data""\n\nCloses-Bug: #1818847\n\nChange-Id: I574be2b629aaff23556e25f8db0d740105be6f07\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 5, 'created': '2019-03-12 00:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c98e535ef0a43dcabad987cc95e9a260c4913d7c', 'message': 'qemu: Make disk image conversion dramatically faster\n\ntl;dr: Use \'writeback\' instead of \'writethrough\' as the cache mode of\nthe target image for `qemu-img convert`.  Two reasons: (a) if the image\nconversion completes succesfully, then \'writeback\' calls fsync() to\nsafely write data to the physical disk; and (b) \'writeback\' makes the\nimage conversion a _lot_ faster.\n\nBack-of-the-envelope ""benchmark"" (on an SSD)\n--------------------------------------------\n\n(Ran both the tests thrice each; version: qemu-img-2.11.0)\n\nWith \'writethrough\':\n\n    $> time (qemu-img convert -t writethrough -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 Fedora-Cloud-Base-29.raw)\n    real    1m43.470s\n    user    0m8.310s\n    sys     0m3.661s\n\nWith \'writeback\':\n\n    $> time (qemu-img convert -t writeback  -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 5-Fedora-Cloud-Base-29.raw)\n\n    real    0m7.390s\n    user    0m5.179s\n    sys     0m1.780s\n\nI.e. ~103 seconds of elapsed wall-clock time for \'writethrough\' vs. ~7\nseconds for \'writeback\' -- IOW, \'writeback\' is nearly _15_ times faster!\n\nDetails\n-------\n\nNova commit e6ce9557f8 (""qemu-img do not use cache=none if no O_DIRECT\nsupport"") was introduced to make instances boot on filesystems that\ndon\'t support \'O_DIRECT\' (which bypasses the host page cache and flushes\ndata directly to the disk), such as \'tmpfs\'.  In doing so it introduced\nthe \'writethrough\' cache for the target image for `qemu-img convert`.\n\nThis patch proposes to change that to \'writeback\'.\n\nLet\'s addresses the \'safety\' concern:\n\n  ""What about data integrity in the event of a host crash (especially\n   on shared file systems such as NFS)?""\n\nAnswer: If the host crashes mid-way during image conversion, then\nneither ""data integrity"" nor the cache mode in use matters.  But if the\nimage conversion completes _succesfully_, then \'writeback\' will safely\nwrite the data to the physical disk, just as \'writethough\' does.\n\nSo we are as safe as we can, but with the extra benefit of image\nconversion being _much_ faster.\n\n        * * *\n\nThe `qemu-img convert` command defaults to \'cache=writeback\' for the\nsource image.  And \'cache=unsafe\' for the target, because if `qemu-img`\n""crashes during the conversion, the user will throw away the broken\noutput file anyway and start over""[1].  And `qemu-img convert`\nsupports[2] fsync() for the target image since QEMU 1.1 (2012).\n\n[1] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=1bd8e175\n    -- ""qemu-img convert: Use cache=unsafe for output image""\n[2] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=80ccf93b\n    -- ""qemu-img: let \'qemu-img convert\' flush data""\n\nCloses-Bug: #1818847\n\nChange-Id: I574be2b629aaff23556e25f8db0d740105be6f07\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 6, 'created': '2019-03-14 15:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33782daddf90c61052ff668c138185753bc6c71f', 'message': 'qemu: Make disk image conversion dramatically faster\n\ntl;dr: Use \'writeback\' instead of \'writethrough\' as the cache mode of\nthe target image for `qemu-img convert`.  Two reasons: (a) if the image\nconversion completes succesfully, then \'writeback\' calls fsync() to\nsafely write data to the physical disk; and (b) \'writeback\' makes the\nimage conversion a _lot_ faster.\n\nBack-of-the-envelope ""benchmark"" (on an SSD)\n--------------------------------------------\n\n(Ran both the tests thrice each; version: qemu-img-2.11.0)\n\nWith \'writethrough\':\n\n    $> time (qemu-img convert -t writethrough -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 Fedora-Cloud-Base-29.raw)\n    real    1m43.470s\n    user    0m8.310s\n    sys     0m3.661s\n\nWith \'writeback\':\n\n    $> time (qemu-img convert -t writeback  -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 5-Fedora-Cloud-Base-29.raw)\n\n    real    0m7.390s\n    user    0m5.179s\n    sys     0m1.780s\n\nI.e. ~103 seconds of elapsed wall-clock time for \'writethrough\' vs. ~7\nseconds for \'writeback\' -- IOW, \'writeback\' is nearly _15_ times faster!\n\nDetails\n-------\n\nNova commit e6ce9557f8 (""qemu-img do not use cache=none if no O_DIRECT\nsupport"") was introduced to make instances boot on filesystems that\ndon\'t support \'O_DIRECT\' (which bypasses the host page cache and flushes\ndata directly to the disk), such as \'tmpfs\'.  In doing so it introduced\nthe \'writethrough\' cache for the target image for `qemu-img convert`.\n\nThis patch proposes to change that to \'writeback\'.\n\nLet\'s addresses the \'safety\' concern:\n\n  ""What about data integrity in the event of a host crash (especially\n   on shared file systems such as NFS)?""\n\nAnswer: If the host crashes mid-way during image conversion, then\nneither ""data integrity"" nor the cache mode in use matters.  But if the\nimage conversion completes _succesfully_, then \'writeback\' will safely\nwrite the data to the physical disk, just as \'writethough\' does.\n\nSo we are as safe as we can, but with the extra benefit of image\nconversion being _much_ faster.\n\n        * * *\n\nThe `qemu-img convert` command defaults to \'cache=writeback\' for the\nsource image.  And \'cache=unsafe\' for the target, because if `qemu-img`\n""crashes during the conversion, the user will throw away the broken\noutput file anyway and start over""[1].  And `qemu-img convert`\nsupports[2] fsync() for the target image since QEMU 1.1 (2012).\n\n[1] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=1bd8e175\n    -- ""qemu-img convert: Use cache=unsafe for output image""\n[2] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=80ccf93b\n    -- ""qemu-img: let \'qemu-img convert\' flush data""\n\nCloses-Bug: #1818847\n\nChange-Id: I574be2b629aaff23556e25f8db0d740105be6f07\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 7, 'created': '2019-03-14 16:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfac912c83ac9fb90e5e9fd90dda74ce5b2893f7', 'message': 'qemu: Make disk image conversion dramatically faster\n\ntl;dr: Use \'writeback\' instead of \'writethrough\' as the cache mode of\nthe target image for `qemu-img convert`.  Two reasons: (a) if the image\nconversion completes succesfully, then \'writeback\' calls fsync() to\nsafely write data to the physical disk; and (b) \'writeback\' makes the\nimage conversion a _lot_ faster.\n\nBack-of-the-envelope ""benchmark"" (on an SSD)\n--------------------------------------------\n\n(Ran both the tests thrice each; version: qemu-img-2.11.0)\n\nWith \'writethrough\':\n\n    $> time (qemu-img convert -t writethrough -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 Fedora-Cloud-Base-29.raw)\n    real    1m43.470s\n    user    0m8.310s\n    sys     0m3.661s\n\nWith \'writeback\':\n\n    $> time (qemu-img convert -t writeback  -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 5-Fedora-Cloud-Base-29.raw)\n\n    real    0m7.390s\n    user    0m5.179s\n    sys     0m1.780s\n\nI.e. ~103 seconds of elapsed wall-clock time for \'writethrough\' vs. ~7\nseconds for \'writeback\' -- IOW, \'writeback\' is nearly _15_ times faster!\n\nDetails\n-------\n\nNova commit e6ce9557f8 (""qemu-img do not use cache=none if no O_DIRECT\nsupport"") was introduced to make instances boot on filesystems that\ndon\'t support \'O_DIRECT\' (which bypasses the host page cache and flushes\ndata directly to the disk), such as \'tmpfs\'.  In doing so it introduced\nthe \'writethrough\' cache for the target image for `qemu-img convert`.\n\nThis patch proposes to change that to \'writeback\'.\n\nLet\'s addresses the \'safety\' concern:\n\n  ""What about data integrity in the event of a host crash (especially\n   on shared file systems such as NFS)?""\n\nAnswer: If the host crashes mid-way during image conversion, then\nneither ""data integrity"" nor the cache mode in use matters.  But if the\nimage conversion completes _succesfully_, then \'writeback\' will safely\nwrite the data to the physical disk, just as \'writethough\' does.\n\nSo we are as safe as we can, but with the extra benefit of image\nconversion being _much_ faster.\n\n        * * *\n\nThe `qemu-img convert` command defaults to \'cache=writeback\' for the\nsource image.  And \'cache=unsafe\' for the target, because if `qemu-img`\n""crashes during the conversion, the user will throw away the broken\noutput file anyway and start over""[1].  And `qemu-img convert`\nsupports[2] fsync() for the target image since QEMU 1.1 (2012).\n\n[1] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=1bd8e175\n    -- ""qemu-img convert: Use cache=unsafe for output image""\n[2] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=80ccf93b\n    -- ""qemu-img: let \'qemu-img convert\' flush data""\n\nCloses-Bug: #1818847\n\nChange-Id: I574be2b629aaff23556e25f8db0d740105be6f07\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 8, 'created': '2019-03-18 10:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01dcaabc16dc0c130e0fdc2336e18f2823065f7c', 'message': 'qemu: Make disk image conversion dramatically faster\n\ntl;dr: Use \'writeback\' instead of \'writethrough\' as the cache mode of\nthe target image for `qemu-img convert`.  Two reasons: (a) if the image\nconversion completes succesfully, then \'writeback\' calls fsync() to\nsafely write data to the physical disk; and (b) \'writeback\' makes the\nimage conversion a _lot_ faster.\n\nBack-of-the-envelope ""benchmark"" (on an SSD)\n--------------------------------------------\n\n(Ran both the tests thrice each; version: qemu-img-2.11.0)\n\nWith \'writethrough\':\n\n    $> time (qemu-img convert -t writethrough -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 Fedora-Cloud-Base-29.raw)\n    real    1m43.470s\n    user    0m8.310s\n    sys     0m3.661s\n\nWith \'writeback\':\n\n    $> time (qemu-img convert -t writeback  -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 5-Fedora-Cloud-Base-29.raw)\n\n    real    0m7.390s\n    user    0m5.179s\n    sys     0m1.780s\n\nI.e. ~103 seconds of elapsed wall-clock time for \'writethrough\' vs. ~7\nseconds for \'writeback\' -- IOW, \'writeback\' is nearly _15_ times faster!\n\nDetails\n-------\n\nNova commit e6ce9557f8 (""qemu-img do not use cache=none if no O_DIRECT\nsupport"") was introduced to make instances boot on filesystems that\ndon\'t support \'O_DIRECT\' (which bypasses the host page cache and flushes\ndata directly to the disk), such as \'tmpfs\'.  In doing so it introduced\nthe \'writethrough\' cache for the target image for `qemu-img convert`.\n\nThis patch proposes to change that to \'writeback\'.\n\nLet\'s addresses the \'safety\' concern:\n\n  ""What about data integrity in the event of a host crash (especially\n   on shared file systems such as NFS)?""\n\nAnswer: If the host crashes mid-way during image conversion, then\nneither ""data integrity"" nor the cache mode in use matters.  But if the\nimage conversion completes _succesfully_, then \'writeback\' will safely\nwrite the data to the physical disk, just as \'writethough\' does.\n\nSo we are as safe as we can, but with the extra benefit of image\nconversion being _much_ faster.\n\n        * * *\n\nThe `qemu-img convert` command defaults to \'cache=writeback\' for the\nsource image.  And \'cache=unsafe\' for the target, because if `qemu-img`\n""crashes during the conversion, the user will throw away the broken\noutput file anyway and start over""[1].  And `qemu-img convert`\nsupports[2] fsync() for the target image since QEMU 1.1 (2012).\n\n[1] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=1bd8e175\n    -- ""qemu-img convert: Use cache=unsafe for output image""\n[2] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=80ccf93b\n    -- ""qemu-img: let \'qemu-img convert\' flush data""\n\nCloses-Bug: #1818847\n\nChange-Id: I574be2b629aaff23556e25f8db0d740105be6f07\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 9, 'created': '2019-03-18 11:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/886850f50f62e97a5661d68c1689fdc932fb7b61', 'message': 'qemu: Make disk image conversion dramatically faster\n\ntl;dr: Use \'writeback\' instead of \'writethrough\' as the cache mode of\nthe target image for `qemu-img convert`.  Two reasons: (a) if the image\nconversion completes succesfully, then \'writeback\' calls fsync() to\nsafely write data to the physical disk; and (b) \'writeback\' makes the\nimage conversion a _lot_ faster.\n\nBack-of-the-envelope ""benchmark"" (on an SSD)\n--------------------------------------------\n\n(Ran both the tests thrice each; version: qemu-img-2.11.0)\n\nWith \'writethrough\':\n\n    $> time (qemu-img convert -t writethrough -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 Fedora-Cloud-Base-29.raw)\n    real    1m43.470s\n    user    0m8.310s\n    sys     0m3.661s\n\nWith \'writeback\':\n\n    $> time (qemu-img convert -t writeback  -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 5-Fedora-Cloud-Base-29.raw)\n\n    real    0m7.390s\n    user    0m5.179s\n    sys     0m1.780s\n\nI.e. ~103 seconds of elapsed wall-clock time for \'writethrough\' vs. ~7\nseconds for \'writeback\' -- IOW, \'writeback\' is nearly _15_ times faster!\n\nDetails\n-------\n\nNova commit e6ce9557f84cdcdf4ffdd12ce73a008c96c7b94a (""qemu-img do not\nuse cache=none if no O_DIRECT support"") was introduced to make instances\nboot on filesystems that don\'t support \'O_DIRECT\' (which bypasses the\nhost page cache and flushes data directly to the disk), such as \'tmpfs\'.\nIn doing so it introduced the \'writethrough\' cache for the target image\nfor `qemu-img convert`.\n\nThis patch proposes to change that to \'writeback\'.\n\nLet\'s addresses the \'safety\' concern:\n\n  ""What about data integrity in the event of a host crash (especially\n   on shared file systems such as NFS)?""\n\nAnswer: If the host crashes mid-way during image conversion, then\nneither ""data integrity"" nor the cache mode in use matters.  But if the\nimage conversion completes _succesfully_, then \'writeback\' will safely\nwrite the data to the physical disk, just as \'writethough\' does.\n\nSo we are as safe as we can, but with the extra benefit of image\nconversion being _much_ faster.\n\n        * * *\n\nThe `qemu-img convert` command defaults to \'cache=writeback\' for the\nsource image.  And \'cache=unsafe\' for the target, because if `qemu-img`\n""crashes during the conversion, the user will throw away the broken\noutput file anyway and start over""[1].  And `qemu-img convert`\nsupports[2] fsync() for the target image since QEMU 1.1 (2012).\n\n[1] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=1bd8e175\n    -- ""qemu-img convert: Use cache=unsafe for output image""\n[2] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=80ccf93b\n    -- ""qemu-img: let \'qemu-img convert\' flush data""\n\nCloses-Bug: #1818847\n\nChange-Id: I574be2b629aaff23556e25f8db0d740105be6f07\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 10, 'created': '2019-03-18 19:53:47.000000000', 'files': ['nova/tests/unit/virt/test_images.py', 'nova/privsep/qemu.py', 'releasenotes/notes/make-disk-image-conversion-faster-c4abe83ae702888b.yaml', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e7b64eaad82db38dd46f586b650da4ddde42533b', 'message': 'qemu: Make disk image conversion dramatically faster\n\ntl;dr: Use \'writeback\' instead of \'writethrough\' as the cache mode of\nthe target image for `qemu-img convert`.  Two reasons: (a) if the image\nconversion completes succesfully, then \'writeback\' calls fsync() to\nsafely write data to the physical disk; and (b) \'writeback\' makes the\nimage conversion a _lot_ faster.\n\nBack-of-the-envelope ""benchmark"" (on an SSD)\n--------------------------------------------\n\n(Ran both the tests thrice each; version: qemu-img-2.11.0)\n\nWith \'writethrough\':\n\n    $> time (qemu-img convert -t writethrough -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 Fedora-Cloud-Base-29.raw)\n    real    1m43.470s\n    user    0m8.310s\n    sys     0m3.661s\n\nWith \'writeback\':\n\n    $> time (qemu-img convert -t writeback  -f qcow2 -O raw \\\n            Fedora-Cloud-Base-29.qcow2 5-Fedora-Cloud-Base-29.raw)\n\n    real    0m7.390s\n    user    0m5.179s\n    sys     0m1.780s\n\nI.e. ~103 seconds of elapsed wall-clock time for \'writethrough\' vs. ~7\nseconds for \'writeback\' -- IOW, \'writeback\' is nearly _15_ times faster!\n\nDetails\n-------\n\nNova commit e6ce9557f84cdcdf4ffdd12ce73a008c96c7b94a (""qemu-img do not\nuse cache=none if no O_DIRECT support"") was introduced to make instances\nboot on filesystems that don\'t support \'O_DIRECT\' (which bypasses the\nhost page cache and flushes data directly to the disk), such as \'tmpfs\'.\nIn doing so it introduced the \'writethrough\' cache for the target image\nfor `qemu-img convert`.\n\nThis patch proposes to change that to \'writeback\'.\n\nLet\'s addresses the \'safety\' concern:\n\n  ""What about data integrity in the event of a host crash (especially\n   on shared file systems such as NFS)?""\n\nAnswer: If the host crashes mid-way during image conversion, then\nneither ""data integrity"" nor the cache mode in use matters.  But if the\nimage conversion completes _succesfully_, then \'writeback\' will safely\nwrite the data to the physical disk, just as \'writethough\' does.\n\nSo we are as safe as we can, but with the extra benefit of image\nconversion being _much_ faster.\n\n        * * *\n\nThe `qemu-img convert` command defaults to \'cache=writeback\' for the\nsource image.  And \'cache=unsafe\' for the target, because if `qemu-img`\n""crashes during the conversion, the user will throw away the broken\noutput file anyway and start over""[1].  And `qemu-img convert`\nsupports[2] fsync() for the target image since QEMU 1.1 (2012).\n\n[1] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=1bd8e175\n    -- ""qemu-img convert: Use cache=unsafe for output image""\n[2] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=80ccf93b\n    -- ""qemu-img: let \'qemu-img convert\' flush data""\n\nCloses-Bug: #1818847\n\nChange-Id: I574be2b629aaff23556e25f8db0d740105be6f07\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}]",16,640781,e7b64eaad82db38dd46f586b650da4ddde42533b,101,24,10,6962,,,0,"qemu: Make disk image conversion dramatically faster

tl;dr: Use 'writeback' instead of 'writethrough' as the cache mode of
the target image for `qemu-img convert`.  Two reasons: (a) if the image
conversion completes succesfully, then 'writeback' calls fsync() to
safely write data to the physical disk; and (b) 'writeback' makes the
image conversion a _lot_ faster.

Back-of-the-envelope ""benchmark"" (on an SSD)
--------------------------------------------

(Ran both the tests thrice each; version: qemu-img-2.11.0)

With 'writethrough':

    $> time (qemu-img convert -t writethrough -f qcow2 -O raw \
            Fedora-Cloud-Base-29.qcow2 Fedora-Cloud-Base-29.raw)
    real    1m43.470s
    user    0m8.310s
    sys     0m3.661s

With 'writeback':

    $> time (qemu-img convert -t writeback  -f qcow2 -O raw \
            Fedora-Cloud-Base-29.qcow2 5-Fedora-Cloud-Base-29.raw)

    real    0m7.390s
    user    0m5.179s
    sys     0m1.780s

I.e. ~103 seconds of elapsed wall-clock time for 'writethrough' vs. ~7
seconds for 'writeback' -- IOW, 'writeback' is nearly _15_ times faster!

Details
-------

Nova commit e6ce9557f84cdcdf4ffdd12ce73a008c96c7b94a (""qemu-img do not
use cache=none if no O_DIRECT support"") was introduced to make instances
boot on filesystems that don't support 'O_DIRECT' (which bypasses the
host page cache and flushes data directly to the disk), such as 'tmpfs'.
In doing so it introduced the 'writethrough' cache for the target image
for `qemu-img convert`.

This patch proposes to change that to 'writeback'.

Let's addresses the 'safety' concern:

  ""What about data integrity in the event of a host crash (especially
   on shared file systems such as NFS)?""

Answer: If the host crashes mid-way during image conversion, then
neither ""data integrity"" nor the cache mode in use matters.  But if the
image conversion completes _succesfully_, then 'writeback' will safely
write the data to the physical disk, just as 'writethough' does.

So we are as safe as we can, but with the extra benefit of image
conversion being _much_ faster.

        * * *

The `qemu-img convert` command defaults to 'cache=writeback' for the
source image.  And 'cache=unsafe' for the target, because if `qemu-img`
""crashes during the conversion, the user will throw away the broken
output file anyway and start over""[1].  And `qemu-img convert`
supports[2] fsync() for the target image since QEMU 1.1 (2012).

[1] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=1bd8e175
    -- ""qemu-img convert: Use cache=unsafe for output image""
[2] https://git.qemu.org/?p=qemu.git;a=commitdiff;h=80ccf93b
    -- ""qemu-img: let 'qemu-img convert' flush data""

Closes-Bug: #1818847

Change-Id: I574be2b629aaff23556e25f8db0d740105be6f07
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
Looks-good-to-me'd-by: Kevin Wolf <kwolf@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/640781/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/privsep/qemu.py'],1,a90678111aa65955eba94e7b90ce5d5385f2da80,bug/1818847," # NOTE(mdbooth, kchamart): `qemu-img convert` defaults to # 'cache=writeback' for the source image, and 'cache=unsafe' for the # target, which means that data is not synced to disk at completion. # We explicitly use 'cache=none' here, for the target image, to (1) # ensure that we don't interfere with other applications using the # host's I/O cache, and (2) ensure that the data is on persistent # storage when the command exits. Without (2), a host crash may # leave a corrupt image in the image cache, which Nova cannot # recover automatically. # NOTE(zigo, kchamart): We cannot use `qemu-img convert -t none` if # the 'instance_dir' is mounted on a filesystem that doesn't support # O_DIRECT, which is the case, for example, with 'tmpfs'. This # simply crashes `openstack server create` in environments like live # distributions. In such cases, the best choice is 'writeback', # which (a) makes the conversaion much faster; and (b) relatively # safe, because at the end of the conversion it will call fsync(2), # which will ensure that data is written safely to the disk. cache_mode = 'writeback'"," # NOTE(mdbooth): qemu-img convert defaults to cache=unsafe, which means # that data is not synced to disk at completion. We explicitly use # cache=none here to (1) ensure that we don't interfere with other # applications using the host's io cache, and (2) ensure that the data is # on persistent storage when the command exits. Without (2), a host crash # may leave a corrupt image in the image cache, which Nova cannot recover # automatically. # NOTE(zigo): we cannot use -t none if the instances dir is mounted on a # filesystem that doesn't have support for O_DIRECT, which is the case # for example with tmpfs. This simply crashes ""openstack server create"" # in environments like live distributions. In such case, the best choice # is writethrough, which is power-failure safe, but still faster than # writeback. cache_mode = 'writethrough'",20,14
openstack%2Fzun-tempest-plugin~master~Ic709a09c4d42fd310735ecb292e750eb9dc4f71d,openstack/zun-tempest-plugin,master,Ic709a09c4d42fd310735ecb292e750eb9dc4f71d,Remove etcd job from gate,MERGED,2019-04-27 17:52:49.000000000,2019-05-04 18:08:15.000000000,2019-05-04 18:08:15.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-27 17:52:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/d309e43e61842cd3ca1b1b48aaa53161a66b5dc0', 'message': 'Remove etcd job from gate\n\nThe etcd backend is duplicated for removal. This commit removes\nthe etcd job.\n\nChange-Id: Ic709a09c4d42fd310735ecb292e750eb9dc4f71d\n'}]",0,656077,d309e43e61842cd3ca1b1b48aaa53161a66b5dc0,8,2,1,11536,,,0,"Remove etcd job from gate

The etcd backend is duplicated for removal. This commit removes
the etcd job.

Change-Id: Ic709a09c4d42fd310735ecb292e750eb9dc4f71d
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/77/656077/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d309e43e61842cd3ca1b1b48aaa53161a66b5dc0,,, - zun-tempest-docker-etcd,0,1
openstack%2Fhorizon~stable%2Fstein~I2c381a2a685c1d8088e832bde12234e37b03e704,openstack/horizon,stable/stein,I2c381a2a685c1d8088e832bde12234e37b03e704,Imported Translations from Zanata,MERGED,2019-05-04 09:24:18.000000000,2019-05-04 18:00:02.000000000,2019-05-04 18:00:02.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-04 09:24:18.000000000', 'files': ['doc/source/locale/fr/LC_MESSAGES/doc-admin.po', 'openstack_dashboard/locale/de/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6199bf3528c499e5665c837bd04229d920d9e511', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2c381a2a685c1d8088e832bde12234e37b03e704\n'}]",0,657101,6199bf3528c499e5665c837bd04229d920d9e511,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2c381a2a685c1d8088e832bde12234e37b03e704
",git fetch https://review.opendev.org/openstack/horizon refs/changes/01/657101/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/fr/LC_MESSAGES/doc-admin.po', 'openstack_dashboard/locale/de/LC_MESSAGES/djangojs.po']",2,6199bf3528c499e5665c837bd04229d920d9e511,zanata/translations,"# Frank Kloeker <eumel@arcor.de>, 2019. #zanata""POT-Creation-Date: 2019-05-01 16:31+0000\n""""PO-Revision-Date: 2019-05-03 02:19+0000\n""msgid ""Key Type"" msgstr ""Schlsseltyp"" msgid ""SSH Key"" msgstr ""SSH Schlssel"" #, python-format msgid ""Scheduled creation of %s instance."" msgid_plural ""Scheduled creation of %s instances."" msgstr[0] ""Geplante Erzeugung von %s Instanz."" msgstr[1] ""Geplante Erzeugung von %s Instanzen."" msgid ""X509 Certificate"" msgstr ""X509 Zertifikat"" ","""POT-Creation-Date: 2019-02-22 16:05+0000\n""""PO-Revision-Date: 2019-02-14 10:59+0000\n""",33,6
openstack%2Fswift~master~I789fb2413985942460d3275b479d6410c62c380f,openstack/swift,master,I789fb2413985942460d3275b479d6410c62c380f,Fix wrong tox env name from func-post-ec to func-ec,MERGED,2019-05-03 22:29:40.000000000,2019-05-04 17:49:22.000000000,2019-05-04 17:49:22.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 25251}]","[{'number': 1, 'created': '2019-05-03 22:29:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/f5b472cdc7f3f4a64d8cbdc60ce4fa0111622627', 'message': 'Fix wrong tox env name from func-post-ec to func-ec\n\nChange-Id: I789fb2413985942460d3275b479d6410c62c380f\n'}]",0,657076,f5b472cdc7f3f4a64d8cbdc60ce4fa0111622627,7,3,1,4608,,,0,"Fix wrong tox env name from func-post-ec to func-ec

Change-Id: I789fb2413985942460d3275b479d6410c62c380f
",git fetch https://review.opendev.org/openstack/swift refs/changes/76/657076/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f5b472cdc7f3f4a64d8cbdc60ce4fa0111622627,, Uses tox with the ``func-ec`` environment., Uses tox with the ``func-post-ec`` environment.,1,1
openstack%2Fnova~master~Ie3a7ac393a558e450fba5f51b05ffae7f73a32a4,openstack/nova,master,Ie3a7ac393a558e450fba5f51b05ffae7f73a32a4,Improve test coverage of nova.privsep.utils.,MERGED,2019-04-24 01:44:56.000000000,2019-05-04 17:49:18.000000000,2019-05-04 17:49:18.000000000,"[{'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-24 01:44:56.000000000', 'files': ['nova/tests/unit/privsep/test_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8d71c615f2ee84bb53d93f6114ad6a17ecf81285', 'message': 'Improve test coverage of nova.privsep.utils.\n\nTrivial, but makes testing coverage for this file complete.\n\nChange-Id: Ie3a7ac393a558e450fba5f51b05ffae7f73a32a4\n'}]",0,655281,8d71c615f2ee84bb53d93f6114ad6a17ecf81285,20,10,1,2271,,,0,"Improve test coverage of nova.privsep.utils.

Trivial, but makes testing coverage for this file complete.

Change-Id: Ie3a7ac393a558e450fba5f51b05ffae7f73a32a4
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/655281/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/privsep/test_utils.py'],1,8d71c615f2ee84bb53d93f6114ad6a17ecf81285,my-own-personal-alternative-universe,"from nova.tests import fixtures class UtilsTestCase(test.NoDBTestCase): def setUp(self): super(UtilsTestCase, self).setUp() self.useFixture(fixtures.PrivsepFixture()) @mock.patch('os.kill') def test_kill(self, mock_kill): nova.privsep.utils.kill(42, -9) mock_kill.assert_called_with(42, -9)",,12,0
openstack%2Fnova-specs~master~I1a94f50d42e57ff9d746e2f160a89dfab1978894,openstack/nova-specs,master,I1a94f50d42e57ff9d746e2f160a89dfab1978894,Support filtering of allocation_candidates by forbidden aggregates,MERGED,2018-10-12 08:29:37.000000000,2019-05-04 17:43:17.000000000,2019-05-04 17:43:17.000000000,"[{'_account_id': 7}, {'_account_id': 1011}, {'_account_id': 1063}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 12408}, {'_account_id': 14070}, {'_account_id': 15197}, {'_account_id': 15888}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-10-12 08:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0fa658045bc179df1ef8155320dd8452787e95f2', 'message': 'Support filtering of allocation_candidates by forbidden aggregates\n\nThis blueprint proposes to specify forbidden aggregates in the `member_of`\nquery parameter of the `GET /allocation_candidates` placement API.\n\nDepends-On: https://review.openstack.org/#/c/603352\n\nChange-Id: I1a94f50d42e57ff9d746e2f160a89dfab1978894\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 2, 'created': '2018-10-15 02:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b38eb982d448beff4aae935146f9db5998c25df7', 'message': 'Support filtering of allocation_candidates by forbidden aggregates\n\nThis blueprint proposes to specify forbidden aggregates in the `member_of`\nquery parameter of the `GET /allocation_candidates` placement API.\n\nDepends-On: https://review.openstack.org/#/c/603352\n\nChange-Id: I1a94f50d42e57ff9d746e2f160a89dfab1978894\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 3, 'created': '2018-12-05 02:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/985bf6718f0a015723473c2663095c6f05ffaea2', 'message': 'Support filtering of allocation_candidates by forbidden aggregates\n\nThis blueprint proposes to specify forbidden aggregates in the `member_of`\nquery parameter of the `GET /allocation_candidates` placement API.\n\nDepends-On: https://review.openstack.org/#/c/603352\n\nChange-Id: I1a94f50d42e57ff9d746e2f160a89dfab1978894\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 4, 'created': '2019-04-05 02:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9d53e3493e8eab6077cf3bf2af8724d7796ff6e5', 'message': 'Support filtering of allocation_candidates by forbidden aggregates\n\nThis blueprint proposes to specify forbidden aggregates in the `member_of`\nquery parameter of the `GET /allocation_candidates` placement API.\n\nDepends-On: https://review.openstack.org/#/c/603352\n\nChange-Id: I1a94f50d42e57ff9d746e2f160a89dfab1978894\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 5, 'created': '2019-04-05 07:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ee11cd411cacd9f101b1f2734d7cd59bcb43de7f', 'message': 'Support filtering of allocation_candidates by forbidden aggregates\n\nThis blueprint proposes to specify forbidden aggregates in the `member_of`\nquery parameter of the `GET /allocation_candidates` placement API.\n\nDepends-On: https://review.openstack.org/#/c/603352\n\nChange-Id: I1a94f50d42e57ff9d746e2f160a89dfab1978894\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 6, 'created': '2019-04-15 08:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f5626f41434d84ec1ad7c89fbbba655e81ba4945', 'message': 'Support filtering of allocation_candidates by forbidden aggregates\n\nThis blueprint proposes to specify forbidden aggregates in the `member_of`\nquery parameter of the `GET /allocation_candidates` placement API.\n\nDepends-On: https://review.openstack.org/#/c/603352\n\nChange-Id: I1a94f50d42e57ff9d746e2f160a89dfab1978894\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 7, 'created': '2019-05-02 23:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3b7fda1a8b672ed758fd38f8a086f346660cbf5d', 'message': 'Support filtering of allocation_candidates by forbidden aggregates\n\nThis blueprint proposes to specify forbidden aggregates in the `member_of`\nquery parameter of the `GET /allocation_candidates` placement API.\n\nDepends-On: https://review.openstack.org/#/c/603352\n\nChange-Id: I1a94f50d42e57ff9d746e2f160a89dfab1978894\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 8, 'created': '2019-05-04 17:25:57.000000000', 'files': ['specs/train/approved/placement-req-filter-forbidden-aggregates.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2e5a8e0f3af476c656a4303a35e5652c708664bd', 'message': 'Support filtering of allocation_candidates by forbidden aggregates\n\nThis blueprint proposes to specify forbidden aggregates in the `member_of`\nquery parameter of the `GET /allocation_candidates` placement API.\n\nDepends-On: https://review.openstack.org/#/c/603352\n\nChange-Id: I1a94f50d42e57ff9d746e2f160a89dfab1978894\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}]",63,609960,2e5a8e0f3af476c656a4303a35e5652c708664bd,61,16,8,1011,,,0,"Support filtering of allocation_candidates by forbidden aggregates

This blueprint proposes to specify forbidden aggregates in the `member_of`
query parameter of the `GET /allocation_candidates` placement API.

Depends-On: https://review.openstack.org/#/c/603352

Change-Id: I1a94f50d42e57ff9d746e2f160a89dfab1978894
Implements: blueprint placement-req-filter-forbidden-aggregates
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/60/609960/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/approved/placement-req-filter-forbidden-aggregates.rst'],1,0fa658045bc179df1ef8155320dd8452787e95f2,bp/proposes,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================================================================== Support filtering of allocation_candidates by forbidden aggregates =================================================================== https://blueprints.launchpad.net/nova/+spec/placement-req-filter-forbidden-aggregates This blueprint proposes to specify forbidden aggregates in the `member_of` query parameter of the `GET /allocation_candidates` placement API. Problem description =================== If flavor or image doesn't contain any ``required`` or ``forbidden`` traits, then all resource providers will be eligible to be returned in the ``GET /allocation_candidates`` API call depending on the availability of the requested resources. Some of the resource providers (compute host) could be special ones like `Licensed Windows Compute Host`, meaning any VM booted on this compute host will be considered as licensed Windows image and depending on the usage of VM operators will charge it to their end-users. As an operator, I want to avoid booting images/volumes without special custom `required`` or ``forbidden`` traits on `Licensed Windows Compute Host`. Use Cases --------- This feature is useful to save special resources for specific users as listed in specs `negative-aggregate-membership`_. Proposed change =============== Add a new placement request filter ``forbidden_aggregates`` and a new config option of type list ``query_placement_special_traits``. Operator will set special custom traits to this config option which are assigned to the special resource providers like ``Licensed Windows Compute Host``. In the new request filter, it will get the required traits set in both flavor and images from request_spec object and compare it with the ``query_placement_special_traits`` to create a list of non-matching traits. Then, it will create a list of aggregates which we want placment to ignore by ``GET /allocation_candidates`` API by comparing non-matching traits with each aggregate metadata. This list of forbidden aggregates will be set in `Destination` object in a new attribute `forbidden_aggregates`. For example `query_placement_special_traits` would be set if operator wants to enable ``forbidden_aggregates`` placement request filter: .. code:: [scheduler] query_placement_special_traits = CUSTOM_WINDOWS_LICENSED_TRAITS, CUSTOM_XYZ Changes to the Destination class: .. code:: class Destination(base.NovaObject): ... fields = { ... 'aggregates': fields.ListOfStringsField(nullable=True, default=None), + 'forbidden_aggregates': fields.ListOfStringsField(nullable=True, default=None) } Modify ``resources_from_request_spec`` method to add forbidden aggregates to the `nova.api.openstack.placement.RequestGroup` in a new attribute `forbidden_member_of`. Finally, modify `to_querystring` method of `RequestGroup` to generate query parameter `member_of` passing forbidden aggregates which will be supported in the `negative-aggregate-membership`_ specs. Changes to the nova.api.openstack.placement.RequestGroup class .. code:: class RequestGroup(object): def __init__(self, use_same_provider=True, resources=None, required_traits=None, forbidden_traits=None, member_of=None, forbidden_member_of=None): .... :param member_of: A list of [ [aggregate_UUID], [aggregate_UUID, aggregate_UUID] ... ] + :param forbidden_member_of: A list of [ [aggregate_UUID], [aggregate_UUID, aggregate_UUID] ... ] self.member_of = member_of or [] + self.forbidden_member_of = forbidden_member_of or [] or .. code:: class RequestGroup(object): def __init__(self, use_same_provider=True, resources=None, required_traits=None, forbidden_traits=None, member_of=None): .... :param member_of: A Dict of list { ""required"" : [[aggregate1_UUID], [aggregate2_UUID, aggregate3_UUID]], ""forbidden"" : [[aggregate4_UUID], [aggregate5_UUID]] } ... self.member_of = member_of or [] .. note:: Operator will need to synchronize nova host aggregates with resource provider aggregates in order for placement to respect `member_of` query parameter of the `GET /allocation_candidates` API using below `nova-manage` command: ``nova-manage placement sync_aggregates`` Alternatives ------------ We can create nova scheduler filters to do post-processing of compute hosts by looking at host aggregate relationships. However, this is inefficient. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ DB call to fetch aggregates metadata in the ``forbidden_aggregates`` placement request filter will marginally impact the overall processing time of each request. Other deployer impact --------------------- A new config list option ``query_placement_special_traits`` will be added in nova.conf which will be used by nova-scheduler service. The default value of this config option will be an empty list. For example: query_placement_special_traits = CUSTOM_LICENSE_TRAIT,CUSTOM_XYZ_TRAIT Developer impact ---------------- None. Upgrade impact -------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: shilpa.devharakar <shilpa.devharakar@nttdata.com> Work Items ---------- * Add a placement request filter ``forbidden_aggregates``. * Modify ``resources_from_request_spec`` method to add forbidden aggregates to the Destination object. * Modify ``RequestGroup`` class `to_querystring` method to generate a `member_of` query parameter to pass forbidden aggregates in format ``&member_of=!<agg1>&member_of=!<agg2>``. * Add unit and functional tests for the changes. * Add releasenotes. Dependencies ============ This specs is dependent on `negative-aggregate-membership`_ which supports passing forbidden aggregates in the `member_of` query parameter. Testing ======= Add normal functional and unit testing. Documentation Impact ==================== Add document to explain how to use ``forbidden_aggregates`` placement request filter. References ========== .. _negative-aggregate-membership: https://review.openstack.org/#/c/603352/4/specs/stein/approved/negative-aggregate-membership.rst ",,220,0
openstack%2Ftempest~master~I45bc7043a513056740ec1beef147422ed9b035a8,openstack/tempest,master,I45bc7043a513056740ec1beef147422ed9b035a8,Refactor random naming,MERGED,2018-05-23 10:33:47.000000000,2019-05-04 17:34:12.000000000,2018-05-23 22:49:22.000000000,"[{'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-05-23 10:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ec5e9f67ede307730a3e95bdfee7b5d803ff0a25', 'message': ""Refactor random naming\n\n'create_volume_type' method creates a very long and\nunnecessary name, this patch do some clean code.\n\nChange-Id: I45bc7043a513056740ec1beef147422ed9b035a8\n""}, {'number': 2, 'created': '2018-05-23 10:34:55.000000000', 'files': ['tempest/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e3e7b2722e6b78216373f392af5bfeba1e2da5ec', 'message': ""Refactor random naming\n\n'create_volume_type' method creates a very long and\nunnecessary name, this patch do some clean code.\n\nChange-Id: I45bc7043a513056740ec1beef147422ed9b035a8\n""}]",0,570161,e3e7b2722e6b78216373f392af5bfeba1e2da5ec,13,6,2,19262,,,0,"Refactor random naming

'create_volume_type' method creates a very long and
unnecessary name, this patch do some clean code.

Change-Id: I45bc7043a513056740ec1beef147422ed9b035a8
",git fetch https://review.opendev.org/openstack/tempest refs/changes/61/570161/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,ec5e9f67ede307730a3e95bdfee7b5d803ff0a25,random_name, # cls.backups_client = cls.os_primary.backups_client_latest randomized_name = name or data_utils.rand_name( 'volume-type-' + self.__class__.__name__), cls.backups_client = cls.os_primary.backups_client_latest if not name: class_name = self.__class__.__name__ name = data_utils.rand_name(class_name + '-volume-type') randomized_name = data_utils.rand_name('scenario-type-' + name),3,5
openstack%2Fcliff~master~I56c541c6afda611d10bb6d30af9aa6a86cf948c6,openstack/cliff,master,I56c541c6afda611d10bb6d30af9aa6a86cf948c6,Dropping the py35 testing,MERGED,2019-04-22 23:36:51.000000000,2019-05-04 17:31:54.000000000,2019-05-04 17:31:53.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-22 23:36:51.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cliff/commit/4465e2501d157b4e472868a70aea580ff630d4d4', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I56c541c6afda611d10bb6d30af9aa6a86cf948c6\n'}]",0,654657,4465e2501d157b4e472868a70aea580ff630d4d4,6,2,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I56c541c6afda611d10bb6d30af9aa6a86cf948c6
",git fetch https://review.opendev.org/openstack/cliff refs/changes/57/654657/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,4465e2501d157b4e472868a70aea580ff630d4d4,dropping-py35-testing,"envlist = py36,py27,pep8","envlist = py35,py27,pep8",2,3
openstack%2Fcliff~master~I586425c1e65a9dd1c3a0a82ba7de4cc63e9892d9,openstack/cliff,master,I586425c1e65a9dd1c3a0a82ba7de4cc63e9892d9,Change openstack-dev to openstack-discuss,MERGED,2018-12-07 13:11:36.000000000,2019-05-04 17:29:19.000000000,2019-05-04 17:29:19.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-12-07 13:11:36.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cliff/commit/122a779eede50a7b82d9991cc86339a5a7ca983b', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I586425c1e65a9dd1c3a0a82ba7de4cc63e9892d9\n'}]",0,623482,122a779eede50a7b82d9991cc86339a5a7ca983b,7,3,1,17130,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I586425c1e65a9dd1c3a0a82ba7de4cc63e9892d9
",git fetch https://review.opendev.org/openstack/cliff refs/changes/82/623482/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,122a779eede50a7b82d9991cc86339a5a7ca983b,mail-list,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fcliff~master~I99c62d5772017333136527f7f509c776623641a1,openstack/cliff,master,I99c62d5772017333136527f7f509c776623641a1,"add argparse conflict handler ""ignore""",MERGED,2018-01-26 21:02:04.000000000,2019-05-04 17:29:18.000000000,2019-05-04 17:29:18.000000000,"[{'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-26 21:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/9e3a827b3b1c8d0ec3473f420cb8a763b34579d5', 'message': 'add argparse conflict handler ""ignore""\n\nUpdate our version of ArgumentParser with a conflict resolution\nhandler called ""ignore"" to ignore options from commands if they would\nconflict with options already registered. An error is reported if the\naction associated with the option would not be registered at all\nbecause all of its names conflict. A warning is reported for each\noption string that is being ignored.\n\nChange-Id: I99c62d5772017333136527f7f509c776623641a1\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-02-01 14:19:46.000000000', 'files': ['cliff/tests/test_command.py', 'cliff/_argparse.py', 'cliff/command.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/854e59b7df84a88ba10877696eaa5f74a70d2bd3', 'message': 'add argparse conflict handler ""ignore""\n\nUpdate our version of ArgumentParser with a conflict resolution\nhandler called ""ignore"" to ignore options from commands if they would\nconflict with options already registered. An error is reported if the\naction associated with the option would not be registered at all\nbecause all of its names conflict. A warning is reported for each\noption string that is being ignored.\n\nChange-Id: I99c62d5772017333136527f7f509c776623641a1\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,538335,854e59b7df84a88ba10877696eaa5f74a70d2bd3,12,5,2,2472,,,0,"add argparse conflict handler ""ignore""

Update our version of ArgumentParser with a conflict resolution
handler called ""ignore"" to ignore options from commands if they would
conflict with options already registered. An error is reported if the
action associated with the option would not be registered at all
because all of its names conflict. A warning is reported for each
option string that is being ignored.

Change-Id: I99c62d5772017333136527f7f509c776623641a1
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/cliff refs/changes/35/538335/1 && git format-patch -1 --stdout FETCH_HEAD,"['cliff/tests/test_command.py', 'cliff/_argparse.py', 'cliff/command.py']",3,9e3a827b3b1c8d0ec3473f420cb8a763b34579d5,option-conflict-resolution," conflict_handler='ignore',",,92,5
openstack%2Ftripleo-heat-templates~master~Ic5f545b3bda571e028452d5c4123d9eca4493054,openstack/tripleo-heat-templates,master,Ic5f545b3bda571e028452d5c4123d9eca4493054,Use oslo_messaging_rpc_port for nova rpc healthchecks,MERGED,2019-04-30 09:48:26.000000000,2019-05-04 17:23:53.000000000,2019-05-04 17:22:38.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-04-30 09:48:26.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/372ca22483a1988a363b9ed8ab0ef319b1ab0f16', 'message': 'Use oslo_messaging_rpc_port for nova rpc healthchecks\n\nWith 405366fa32583e88c34417e5f46fa574ed8f4e98 the parameters RpcPort,\nRpcUserName, RpcPassword and RpcUseSSL got deprecated and\nnova::rabbitmq_port removed. As a result the healtcheck get called with\nnull parameter and fail.\nWe now get the global_config_settings from RabbitMQService and use\noslo_messaging_rpc_port for the healthcheck.\n\nThis is an addition to 8ff04029f5bc4cc2db4b3575229ce7bafb4eb358 for\nthe undercloud compute service.\n\nRelated-Bug: #1824805\n\nChange-Id: Ic5f545b3bda571e028452d5c4123d9eca4493054\n'}]",0,656488,372ca22483a1988a363b9ed8ab0ef319b1ab0f16,9,7,1,17216,,,0,"Use oslo_messaging_rpc_port for nova rpc healthchecks

With 405366fa32583e88c34417e5f46fa574ed8f4e98 the parameters RpcPort,
RpcUserName, RpcPassword and RpcUseSSL got deprecated and
nova::rabbitmq_port removed. As a result the healtcheck get called with
null parameter and fail.
We now get the global_config_settings from RabbitMQService and use
oslo_messaging_rpc_port for the healthcheck.

This is an addition to 8ff04029f5bc4cc2db4b3575229ce7bafb4eb358 for
the undercloud compute service.

Related-Bug: #1824805

Change-Id: Ic5f545b3bda571e028452d5c4123d9eca4493054
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/656488/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-ironic-container-puppet.yaml'],1,372ca22483a1988a363b9ed8ab0ef319b1ab0f16,bug/1824805," RabbitMQService: type: ../rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml properties: ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} DefaultPasswords: {get_param: DefaultPasswords} EndpointMap: {get_param: EndpointMap} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} global_config_settings: {get_attr: [RabbitMQService, role_data, global_config_settings]} port: {get_attr: [RabbitMQService, role_data, global_config_settings, 'oslo_messaging_rpc_port']}"," port: {get_attr: [NovaBase, role_data, config_settings, 'nova::rabbit_port']}",12,1
openstack%2Fdiskimage-builder~master~I25c5927a1eb55ee16b919dd64403184f335839b6,openstack/diskimage-builder,master,I25c5927a1eb55ee16b919dd64403184f335839b6,Switch simple-init to support python3,MERGED,2019-05-02 18:07:44.000000000,2019-05-04 17:07:14.000000000,2019-05-04 17:07:14.000000000,"[{'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-02 18:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a25ed56e8554c70d5027ec97ff8b96bbd955b6b2', 'message': ""Switch simple-init to pip3\n\nIn the case of fedora-30, we don't want to pull in the dependency of\npython2. And by default the python3-pip package doesn't create pip file,\nswitching to pip3 solves this problem.\n\nChange-Id: I25c5927a1eb55ee16b919dd64403184f335839b6\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n""}, {'number': 2, 'created': '2019-05-02 23:39:35.000000000', 'files': ['diskimage_builder/elements/simple-init/install.d/simple-init-source-install/40-glean', 'diskimage_builder/elements/simple-init/install.d/simple-init-repo-install/40-glean'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/daf5a4e4bd81a2383a06ce8d2bcb14f23e39ea15', 'message': 'Switch simple-init to support python3\n\nDepending on the version of $DIB_PYTHON_VERSION, we can either use pip /\npip3 to install glean.  This is helpful for newer OSes that might not\nwant to ship python2 (pip).\n\nChange-Id: I25c5927a1eb55ee16b919dd64403184f335839b6\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,656838,daf5a4e4bd81a2383a06ce8d2bcb14f23e39ea15,15,6,2,4162,,,0,"Switch simple-init to support python3

Depending on the version of $DIB_PYTHON_VERSION, we can either use pip /
pip3 to install glean.  This is helpful for newer OSes that might not
want to ship python2 (pip).

Change-Id: I25c5927a1eb55ee16b919dd64403184f335839b6
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/38/656838/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/simple-init/install.d/simple-init-source-install/40-glean', 'diskimage_builder/elements/simple-init/install.d/simple-init-repo-install/40-glean']",2,a25ed56e8554c70d5027ec97ff8b96bbd955b6b2,,pip3 install /tmp/glean.git,pip install /tmp/glean.git,2,2
openstack%2Fkeystone-specs~master~Ieca37c81a46fcc407ce33174d202bc3c6a61ff61,openstack/keystone-specs,master,Ieca37c81a46fcc407ce33174d202bc3c6a61ff61,Service Catalog Subsets by ID,ABANDONED,2015-03-03 17:20:29.000000000,2019-05-04 16:56:09.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 2218}, {'_account_id': 5046}, {'_account_id': 6460}, {'_account_id': 6534}, {'_account_id': 8978}, {'_account_id': 10046}, {'_account_id': 13055}, {'_account_id': 13997}, {'_account_id': 17860}, {'_account_id': 22348}]","[{'number': 1, 'created': '2015-03-03 17:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/87971145cd6a573d501db5fa8ae385aea5d11fed', 'message': 'Service Catalog Subsets by ID\n\nAllow the shorthand naming of subests of the service catalog\n\nChange-Id: Ieca37c81a46fcc407ce33174d202bc3c6a61ff61\n'}, {'number': 2, 'created': '2015-03-31 22:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/5ff08aed477b89e581aaa4c5b9bdb69db39a6199', 'message': 'Service Catalog Subsets by ID\n\nAllow the shorthand naming of subsets of the service catalog\n\nChange-Id: Ieca37c81a46fcc407ce33174d202bc3c6a61ff61'}, {'number': 3, 'created': '2015-12-14 19:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/1fb48b11f96e8bae75e3afd3b5975ca1b6e7dedc', 'message': 'Service Catalog Subsets by ID\n\nAllow the shorthand naming of subsets of the service catalog\n\nChange-Id: Ieca37c81a46fcc407ce33174d202bc3c6a61ff61\n'}, {'number': 4, 'created': '2016-02-11 04:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/104b40b5b34ed1ad1dd08a64773567128b9f1b85', 'message': 'Service Catalog Subsets by ID\n\nAllow the shorthand naming of subsets of the service catalog\n\nChange-Id: Ieca37c81a46fcc407ce33174d202bc3c6a61ff61\n'}, {'number': 5, 'created': '2016-07-21 17:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/dd120c26ebdee6abda4c8b93e9ce213b8a509e76', 'message': 'Service Catalog Subsets by ID\n\nAllow the shorthand naming of subsets of the service catalog\n\nChange-Id: Ieca37c81a46fcc407ce33174d202bc3c6a61ff61\n'}, {'number': 6, 'created': '2016-12-01 23:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/84208de367ad5024b03e91671bf6c64bfc635dc4', 'message': 'Service Catalog Subsets by ID\n\nAllow the shorthand naming of subsets of the service catalog\n\nChange-Id: Ieca37c81a46fcc407ce33174d202bc3c6a61ff61\n'}, {'number': 7, 'created': '2018-09-07 15:25:01.000000000', 'files': ['specs/keystone/ongoing/service-catalog-ids.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/fd1c39efeb5353287a13bd1d8499a17d7b7343a6', 'message': 'Service Catalog Subsets by ID\n\nAllow the shorthand naming of subsets of the service catalog\n\nChange-Id: Ieca37c81a46fcc407ce33174d202bc3c6a61ff61\n'}]",28,160909,fd1c39efeb5353287a13bd1d8499a17d7b7343a6,33,12,7,2218,,,0,"Service Catalog Subsets by ID

Allow the shorthand naming of subsets of the service catalog

Change-Id: Ieca37c81a46fcc407ce33174d202bc3c6a61ff61
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/09/160909/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/backlog/service-catalog-ids.rst'],1,87971145cd6a573d501db5fa8ae385aea5d11fed,service-catalog-ids,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================== Service Catalogs by Id ====================== `bp service-catalog-ids <https://blueprints.launchpad.net/keystone/+spec/service-catalog-ids>`_ Allow the definition of subsets of the service catalog that can be referenced by ID. Use the ID as a way to shorthand the service catalog in tokens and other remote references. Problem Description =================== The endpoint filtering extension allows for limiting the number of endpoints on a project. But specifying that on a per-project basis leads to much duplication of effort. Keystone tokens are huge. The largest portion of the Data is the Service catalog. This data is also redundant. If the token merely had an identifier that could be used to fetch that subset of the service catalog, the subset could be fetched once and cached. Proposed Change =============== Whenever something defines a subset of the service catalog, such as in the endpoint filtering spec, create a hash (default sha256) of the data of the service catalog to be used as an identifier. Create a new API that fetches the subset of the service catalog from the hash Add a configuration option to use these service catalog subset identifiers in token body (PKI) and in token validation responses. Add caching capability to Keystone client and Keystone Middleware to maintain the service catalog by id. Alternatives ------------ Reduce tokens to endpoint-id and service-id only. Allow the consumers to fetch this data individually. Drop the catalog all-together Security Impact --------------- Security impact should be little-to-none. It is not exposing new data, just exposing existing data in a shorthand notation. The service catalog is not typically considered a secret. * Does this change touch sensitive data such as tokens, keys, or user data? * No * Does this change alter the API in a way that may impact security, such as a new way to access sensitive information or a new way to login? * No * Does this change involve cryptography or hashing? * Yes. It uses Hashing, but not in a sensitive way. The use is comparable to how git uses it. * Does this change require the use of sudo or any elevated privileges? * No * Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer. * No * Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? Some examples of this include launching subprocesses for each connection, or entity expansion attacks in XML. * No Notifications Impact -------------------- No new notifications should be required. Existing notifications for service catalog events should be sufficient. Other End User Impact --------------------- Yes: Token validation will be the primary consumer. Performance Impact ------------------ Perfomance impact should be somewhere between small and net-positive. Tokens should be smaller, and should require significantly less data to be marshalled. Additionally, the service catalog queries should be much smaller. Other Deployer Impact --------------------- * config options: SERVICE_CATALOG_SUBIDS_IN_TOKNES to determine that the token body/validation should use the sub ids, and not the full details. * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? * Upon merge, we will have a migration for old catalogs, as well as creating new IDs for new catalog events. The consumption of this change will require explicit enabling. Developer Impact ---------------- Discuss things that will affect other developers working on OpenStack, such as: * If the blueprint proposes a change to the driver API, discussion of how other backends would implement the feature is required. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: ayoung: Adam Young Other contributors: <launchpad-id or None> Work Items ---------- * Create hash upon sub-catalog definition. * Migrate old catalogs * New API that fetches the subset of the service catalog from the hash * Add a configuration option to use these service catalog subset identifiers in token body (PKI) and in token validation response. * Add caching capability to Keystone client * Add caching capability to Keystone middleware Dependencies ============ * None Documentation Impact ==================== Token documentation will need to be updated to reflect the use of the IDs for service catalogs in the token. References ========== ",,193,0
openstack%2Foslo.cache~master~I0f6ca974dc3055aad28638ef4b087a19935b4c29,openstack/oslo.cache,master,I0f6ca974dc3055aad28638ef4b087a19935b4c29,Fix lower-constraints,MERGED,2019-05-03 23:06:49.000000000,2019-05-04 16:05:27.000000000,2019-05-04 16:05:26.000000000,"[{'_account_id': 6547}, {'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 23:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/8ceb02eeba51adf3d54f2dc501b99e65a48d5cca', 'message': ""Fix lower-constraints\n\nWe require six >= 1.11.0 due to our oslo.log dependency. Fix this. We\nwon't actually see this fix until we remove the use of 'tox_install.sh'\nin I48f31084d595c44114391e046e5fe418c1fb787a.\n\nChange-Id: I0f6ca974dc3055aad28638ef4b087a19935b4c29\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2019-05-04 05:03:27.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/c8625175022068a71ae7eefd3dbcfcd4eaa1b7b2', 'message': ""Fix lower-constraints\n\nWe require six >= 1.11.0 due to our oslo.log dependency. Fix this. We\nwon't actually see this fix until we remove the use of 'tox_install.sh'\nin I48f31084d595c44114391e046e5fe418c1fb787a.\n\nChange-Id: I0f6ca974dc3055aad28638ef4b087a19935b4c29\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,657081,c8625175022068a71ae7eefd3dbcfcd4eaa1b7b2,13,3,2,15334,,,0,"Fix lower-constraints

We require six >= 1.11.0 due to our oslo.log dependency. Fix this. We
won't actually see this fix until we remove the use of 'tox_install.sh'
in I48f31084d595c44114391e046e5fe418c1fb787a.

Change-Id: I0f6ca974dc3055aad28638ef4b087a19935b4c29
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/81/657081/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,8ceb02eeba51adf3d54f2dc501b99e65a48d5cca,trivial,six==1.11.0,six==1.10.0,1,1
openstack%2Foslo.cache~master~I48f31084d595c44114391e046e5fe418c1fb787a,openstack/oslo.cache,master,I48f31084d595c44114391e046e5fe418c1fb787a,Avoid tox_install.sh for constraints support,MERGED,2019-05-03 20:11:09.000000000,2019-05-04 16:05:27.000000000,2019-05-04 16:05:27.000000000,"[{'_account_id': 6547}, {'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 20:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/5550aebb5b6b5cfeae2d927edbdf63521b582606', 'message': 'void tox_install.sh for constraints support\n\nWe do not need tox_install.sh, pip can handle constraints itself\nand install the project correctly. Thus update tox.ini and remove\nthe now obsolete tools/tox_install.sh file.\n\nThis follows https://review.openstack.org/#/c/508061 to remove\ntools/tox_install.sh.\n\nChange-Id: I48f31084d595c44114391e046e5fe418c1fb787a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2019-05-03 20:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/fe2736725f0c1012c9c25b3262f2409228fcaf2e', 'message': 'Avoid tox_install.sh for constraints support\n\nWe do not need tox_install.sh, pip can handle constraints itself\nand install the project correctly. Thus update tox.ini and remove\nthe now obsolete tools/tox_install.sh file.\n\nThis follows https://review.openstack.org/#/c/508061 to remove\ntools/tox_install.sh.\n\nChange-Id: I48f31084d595c44114391e046e5fe418c1fb787a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2019-05-03 23:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/713fef652c182f0ab3425c8944f54e54321aade8', 'message': 'Avoid tox_install.sh for constraints support\n\nWe do not need tox_install.sh, pip can handle constraints itself\nand install the project correctly. Thus update tox.ini and remove\nthe now obsolete tools/tox_install.sh file.\n\nThis follows https://review.openstack.org/#/c/508061 to remove\ntools/tox_install.sh.\n\nChange-Id: I48f31084d595c44114391e046e5fe418c1fb787a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2019-05-04 05:03:27.000000000', 'files': ['tools/tox_install.sh', 'test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/6503e2426e11020f0fda11b4e552384c24a4e343', 'message': 'Avoid tox_install.sh for constraints support\n\nWe do not need tox_install.sh, pip can handle constraints itself\nand install the project correctly. Thus update tox.ini and remove\nthe now obsolete tools/tox_install.sh file.\n\nThis follows https://review.openstack.org/#/c/508061 to remove\ntools/tox_install.sh.\n\nChange-Id: I48f31084d595c44114391e046e5fe418c1fb787a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,657026,6503e2426e11020f0fda11b4e552384c24a4e343,16,4,4,15334,,,0,"Avoid tox_install.sh for constraints support

We do not need tox_install.sh, pip can handle constraints itself
and install the project correctly. Thus update tox.ini and remove
the now obsolete tools/tox_install.sh file.

This follows https://review.openstack.org/#/c/508061 to remove
tools/tox_install.sh.

Change-Id: I48f31084d595c44114391e046e5fe418c1fb787a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/26/657026/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/tox_install.sh', 'test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",4,5550aebb5b6b5cfeae2d927edbdf63521b582606,trivial,"envlist = py27,py36,pypy,pep8whitelist_externals = find deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/upper-constraints.txt} -r{toxinidir}/test-requirements.txt find . -type f -name ""*.pyc"" -delete stestr run --slowest {posargs} find . -type f -name ""*.pyc"" -delete {toxinidir}/tools/setup-etcd-env.sh pifpaf -e OSLO_CACHE_TEST run etcd -- stestr run --slowest functional.* find . -type f -name ""*.pyc"" -delete {toxinidir}/tools/setup-etcd-env.sh pifpaf -e OSLO_CACHE_TEST run etcd -- stestr run --slowest functional.*deps = {[testenv]deps} -r{toxinidir}/doc/requirements.txt rm -fr doc/build sphinx-build -b html doc/source doc/build/html PYTHON=coverage run --source oslo_cache --parallel-mode stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html","envlist = py36,py27,pypy,pep8setenv = VIRTUAL_ENV={envdir} BRANCH_NAME=master CLIENT_NAME=oslo.cache install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} deps = .[dogpile] .[mongo] .[etcd3gw] -r{toxinidir}/test-requirements.txt find . -type f -name ""*.pyc"" -delete stestr run --slowest {posargs} find . -type f -name ""*.pyc"" -delete {toxinidir}/tools/setup-etcd-env.sh pifpaf -e OSLO_CACHE_TEST run etcd -- stestr run --slowest functional.* find . -type f -name ""*.pyc"" -delete {toxinidir}/tools/setup-etcd-env.sh pifpaf -e OSLO_CACHE_TEST run etcd -- stestr run --slowest functional.*deps = -r{toxinidir}/doc/requirements.txt rm -fr doc/build sphinx-build -b html doc/source doc/build/html PYTHON=coverage run --source oslo_cache --parallel-mode stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html .[dogpile,mongo,etcd3gw]",27,64
openstack%2Fheat~master~I9ab70c74eeff509410d90f4305af116d83420f45,openstack/heat,master,I9ab70c74eeff509410d90f4305af116d83420f45,Dropping the py35 testing,MERGED,2019-04-14 21:54:30.000000000,2019-05-04 16:01:58.000000000,2019-05-04 16:01:58.000000000,"[{'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-14 21:54:30.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/132457d44775141e40b10e2498697794c36473a1', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I9ab70c74eeff509410d90f4305af116d83420f45\n'}]",0,652373,132457d44775141e40b10e2498697794c36473a1,7,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I9ab70c74eeff509410d90f4305af116d83420f45
",git fetch https://review.opendev.org/openstack/heat refs/changes/73/652373/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,132457d44775141e40b10e2498697794c36473a1,dropping-py35-testing,"envlist = py36,py27,pep8","envlist = py36,py35,py27,pep8",2,3
openstack%2Fcliff~master~Ic529cb5d45099881512aa768a2e8a1a194063e7f,openstack/cliff,master,Ic529cb5d45099881512aa768a2e8a1a194063e7f,Enable not to print list header in TableFormatter and CSVLister.,ABANDONED,2015-07-24 14:18:59.000000000,2019-05-04 15:49:36.000000000,,"[{'_account_id': 6482}, {'_account_id': 9107}, {'_account_id': 13444}]","[{'number': 1, 'created': '2015-07-24 14:18:59.000000000', 'files': ['cliff/formatters/commaseparated.py', 'cliff/formatters/table.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/897205689358029aa40c1993dcd3f3f9d85f1b25', 'message': 'Enable not to print list header in TableFormatter and CSVLister.\n\nThis is a preparation to implementing ""print list without header""\noption, for example ""neutron net-list --without-header"".\n\nChange-Id: Ic529cb5d45099881512aa768a2e8a1a194063e7f\n'}]",2,205550,897205689358029aa40c1993dcd3f3f9d85f1b25,10,3,1,13444,,,0,"Enable not to print list header in TableFormatter and CSVLister.

This is a preparation to implementing ""print list without header""
option, for example ""neutron net-list --without-header"".

Change-Id: Ic529cb5d45099881512aa768a2e8a1a194063e7f
",git fetch https://review.opendev.org/openstack/cliff refs/changes/50/205550/1 && git format-patch -1 --stdout FETCH_HEAD,"['cliff/formatters/commaseparated.py', 'cliff/formatters/table.py']",2,897205689358029aa40c1993dcd3f3f9d85f1b25,feature/emit_list-without-header," print_header = True if hasattr(parsed_args, 'without_header'): print_header = not parsed_args.without_header formatted = x.get_string(fields=column_names, header=print_header)", formatted = x.get_string(fields=column_names),9,2
openstack%2Fcliff~master~I3f1a4ae9d932ebba5423f823f799f2cf07797c91,openstack/cliff,master,I3f1a4ae9d932ebba5423f823f799f2cf07797c91,Move legacy jobs to project,ABANDONED,2017-10-09 06:49:17.000000000,2019-05-04 15:49:01.000000000,,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 19741}, {'_account_id': 22348}, {'_account_id': 22582}]","[{'number': 1, 'created': '2017-10-09 06:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/4da00882cd7114422bb140c5277b4f0eb5cd1b83', 'message': '[WIP] Move legacy jobs to project\n\nThis patch implements first step in zuulv3 migration guide [1]:\n\nMove jobs to cliff repo\n\n[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nChange-Id: I3f1a4ae9d932ebba5423f823f799f2cf07797c91\n'}, {'number': 2, 'created': '2017-10-09 06:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/0f7f415320de3bccf204f238f5fa4680b2cef246', 'message': '[WIP] Move legacy jobs to project\n\nThis patch implements first step in zuulv3 migration guide [1]:\n\nMove jobs to cliff repo\n\n[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nChange-Id: I3f1a4ae9d932ebba5423f823f799f2cf07797c91\nCo-Authored-By: Kien Nguyen <KienNT@vn.fujitsu.com>\n'}, {'number': 3, 'created': '2017-10-13 09:28:29.000000000', 'files': ['playbooks/legacy/cliff-tox-neutronclient-tip/run.yaml', 'playbooks/legacy/cliff-tox-neutronclient-tip/post.yaml', 'playbooks/legacy/cliff-tox-openstackclient-tip/post.yaml', '.zuul.yaml', 'playbooks/legacy/cliff-tox-openstackclient-tip/run.yaml'], 'web_link': 'https://opendev.org/openstack/cliff/commit/a7e3da82354dbc57fe1dc4a7943557d4e091b2ac', 'message': 'Move legacy jobs to project\n\nThis patch implements first step in zuulv3 migration guide [1]:\n\nMove jobs to cliff repo\n\n[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nChange-Id: I3f1a4ae9d932ebba5423f823f799f2cf07797c91\nCo-Authored-By: Kien Nguyen <KienNT@vn.fujitsu.com>\n'}]",0,510418,a7e3da82354dbc57fe1dc4a7943557d4e091b2ac,19,7,3,22582,,,0,"Move legacy jobs to project

This patch implements first step in zuulv3 migration guide [1]:

Move jobs to cliff repo

[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details

Change-Id: I3f1a4ae9d932ebba5423f823f799f2cf07797c91
Co-Authored-By: Kien Nguyen <KienNT@vn.fujitsu.com>
",git fetch https://review.opendev.org/openstack/cliff refs/changes/18/510418/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/cliff-tox-neutronclient-tip/run.yaml', 'playbooks/legacy/cliff-tox-neutronclient-tip/post.yaml', 'playbooks/legacy/cliff-tox-openstackclient-tip/post.yaml', '.zuul.yaml', 'playbooks/legacy/cliff-tox-openstackclient-tip/run.yaml']",5,4da00882cd7114422bb140c5277b4f0eb5cd1b83,,"- hosts: all name: Autoconverted job legacy-cliff-tox-openstackclient-tip from old job gate-cliff-tox-openstackclient-tip-ubuntu-xenial tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x CLONEMAP=`mktemp` REQS_DIR=`mktemp -d` function cleanup { mkdir -p $WORKSPACE rm -rf $CLONEMAP $REQS_DIR } trap cleanup EXIT cat > $CLONEMAP << EOF clonemap: - name: $ZUUL_PROJECT dest: . EOF # zuul cloner works poorly if there are 2 names that are the # same in here. if [[ ""$ZUUL_PROJECT"" != ""openstack/requirements"" ]]; then cat >> $CLONEMAP << EOF - name: openstack/requirements dest: $REQS_DIR EOF fi /usr/zuul-env/bin/zuul-cloner -m $CLONEMAP --cache-dir /opt/git \ git://git.openstack.org $ZUUL_PROJECT openstack/requirements # REQS_DIR is not set for openstack/requirements and there is also # no need to copy in this case. if [[ ""$ZUUL_PROJECT"" != ""openstack/requirements"" ]]; then cp $REQS_DIR/upper-constraints.txt ./ fi executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: /usr/local/jenkins/slave_scripts/install-distro-packages.sh chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | if [ -x tools/test-setup.sh ] ; then tools/test-setup.sh fi chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -x sudo rm -f /etc/sudoers.d/zuul # Prove that general sudo access is actually revoked ! sudo -n true executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: /usr/local/jenkins/slave_scripts/run-tox.sh openstackclient-tip chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | OUT=`git ls-files --other --exclude-standard --directory` if [ -z ""$OUT"" ]; then echo ""No extra files created during test."" exit 0 else echo ""The following un-ignored files were created during the test:"" echo ""$OUT"" exit 0 # TODO: change to 1 to fail tests. fi executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",,340,0
openstack%2Fcliff~master~I23466d23bd608b47183d894f9503e9425b9b6be6,openstack/cliff,master,I23466d23bd608b47183d894f9503e9425b9b6be6,"Trivial: Fix the pep8 warning The yaml should start with ""---""",ABANDONED,2018-05-14 06:33:36.000000000,2019-05-04 15:45:59.000000000,,"[{'_account_id': 2}, {'_account_id': 841}, {'_account_id': 8871}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 06:33:36.000000000', 'files': ['bandit.yaml'], 'web_link': 'https://opendev.org/openstack/cliff/commit/363e4a21475d210cd81fad1d1e7dbeb6650c0891', 'message': 'Trivial: Fix the pep8 warning\nThe yaml should start with ""---""\n\nChange-Id: I23466d23bd608b47183d894f9503e9425b9b6be6\n'}]",0,568205,363e4a21475d210cd81fad1d1e7dbeb6650c0891,7,5,1,25073,,,0,"Trivial: Fix the pep8 warning
The yaml should start with ""---""

Change-Id: I23466d23bd608b47183d894f9503e9425b9b6be6
",git fetch https://review.opendev.org/openstack/cliff refs/changes/05/568205/1 && git format-patch -1 --stdout FETCH_HEAD,['bandit.yaml'],1,363e4a21475d210cd81fad1d1e7dbeb6650c0891,Fix-the-pep8,---,,1,0
openstack%2Fcliff~master~Id7ed91ff242e1e791716a34d9730491cc636be34,openstack/cliff,master,Id7ed91ff242e1e791716a34d9730491cc636be34,Change openstack-dev to openstack-discuss in setup.cfg,ABANDONED,2019-01-22 08:26:07.000000000,2019-05-04 15:45:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-01-22 08:26:07.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cliff/commit/80138c9a5f906216d9f4b042b4deebf292b28f27', 'message': 'Change openstack-dev to openstack-discuss in setup.cfg\n\nChange-Id: Id7ed91ff242e1e791716a34d9730491cc636be34\n'}]",0,632295,80138c9a5f906216d9f4b042b4deebf292b28f27,4,2,1,29423,,,0,"Change openstack-dev to openstack-discuss in setup.cfg

Change-Id: Id7ed91ff242e1e791716a34d9730491cc636be34
",git fetch https://review.opendev.org/openstack/cliff refs/changes/95/632295/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,80138c9a5f906216d9f4b042b4deebf292b28f27,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fcliff~master~I3bde60d16f92d6805ff5f6c1eee88bb3e474a07a,openstack/cliff,master,I3bde60d16f92d6805ff5f6c1eee88bb3e474a07a,cap cmd2 also for python3,ABANDONED,2018-08-15 14:18:23.000000000,2019-05-04 15:44:49.000000000,,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-15 14:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/29d06750b1f34515664969668c153fee7ec7441f', 'message': 'cap cmd2 also for python3\n\nWith python 3.6.6 osc is not able to work in an interactive mode \n(unrecognized argument). This can be reproduced by installing osc into \nthe virtualenv created with python 3.6.6\n\nChange-Id: I3bde60d16f92d6805ff5f6c1eee88bb3e474a07a\n'}, {'number': 2, 'created': '2018-08-16 07:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/13aa70881bcf86256766643933ceb5f4407a7862', 'message': 'cap cmd2 also for python3\n\nWith python 3.6.6 osc is not able to work in an interactive mode \n(unrecognized argument). This can be reproduced by installing osc into \nthe virtualenv created with python 3.6.6, 3.5.5, 3.4.8. Manual \ndowngrading of cmd2 to 0.8.8 helps\n\nChange-Id: I3bde60d16f92d6805ff5f6c1eee88bb3e474a07a\n'}, {'number': 3, 'created': '2018-08-16 07:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/db1187026e93f0967ea799c6fe2b0e824bf7789c', 'message': 'cap cmd2 also for python3\n\nWith python 3.6.6 osc is not able to work in an interactive mode \n(unrecognized argument). This can be reproduced by installing osc into \nthe virtualenv created with python 3.6.6, 3.5.5, 3.4.8. Manual \ndowngrading of cmd2 to 0.8.8 helps\n\nChange-Id: I3bde60d16f92d6805ff5f6c1eee88bb3e474a07a\n'}, {'number': 4, 'created': '2019-05-04 15:43:39.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cliff/commit/6e12a1d6aeb6ac34f2b4bc6425306591494599f8', 'message': 'cap cmd2 also for python3\n\nWith python 3.6.6 osc is not able to work in an interactive mode \n(unrecognized argument). This can be reproduced by installing osc into \nthe virtualenv created with python 3.6.6, 3.5.5, 3.4.8. Manual \ndowngrading of cmd2 to 0.8.8 helps\n\nChange-Id: I3bde60d16f92d6805ff5f6c1eee88bb3e474a07a\n'}]",0,592060,6e12a1d6aeb6ac34f2b4bc6425306591494599f8,10,2,4,27900,,,0,"cap cmd2 also for python3

With python 3.6.6 osc is not able to work in an interactive mode 
(unrecognized argument). This can be reproduced by installing osc into 
the virtualenv created with python 3.6.6, 3.5.5, 3.4.8. Manual 
downgrading of cmd2 to 0.8.8 helps

Change-Id: I3bde60d16f92d6805ff5f6c1eee88bb3e474a07a
",git fetch https://review.opendev.org/openstack/cliff refs/changes/60/592060/4 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,29d06750b1f34515664969668c153fee7ec7441f,,"cmd2!=0.8.3,<0.9.0 # MIT","cmd2!=0.8.3,<0.9.0;python_version<'3.0' # MIT cmd2!=0.8.3;python_version>='3.0' # MIT",1,2
openstack%2Fswift~master~Icba6c46bcff0e0516107e0f6742d32c92488ae20,openstack/swift,master,Icba6c46bcff0e0516107e0f6742d32c92488ae20,Fix ostestr invocation,MERGED,2019-04-09 15:35:04.000000000,2019-05-04 15:35:32.000000000,2019-05-04 15:35:32.000000000,"[{'_account_id': 597}, {'_account_id': 4608}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-09 15:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/42cb5981354dd2f5f8ee1d67970aa0f446698bef', 'message': ""Fix ostestr invocation\n\nApparently when they switched to using stestr behind the scenes, the\nconcurrency option parsing broke everything and all our func tests would\nfail with:\n\n   TypeError: int() argument must be a string or a number, not 'NoneType'\n\nChange-Id: Icba6c46bcff0e0516107e0f6742d32c92488ae20\n""}, {'number': 2, 'created': '2019-04-09 15:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/79f127107e31ada7eb0cf5987cc40575bcd8704b', 'message': ""Fix ostestr invocation\n\nMore-recent versions of stestr are rather picky about wanting an integer\nfor concurrency [1], but ostestr prior to [2] defaults it to None. As a\nresult, all our func tests would fail with:\n\n   TypeError: int() argument must be a string or a number, not 'NoneType'\n\n[1] https://github.com/mtreinish/stestr/commit/c93bc81\n[2] https://review.openstack.org/#/c/651275/\n\nChange-Id: Icba6c46bcff0e0516107e0f6742d32c92488ae20\n""}, {'number': 3, 'created': '2019-05-04 05:49:37.000000000', 'files': ['.functests', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/1e4cdca3390906a7bc4b27af9afa62002d20880c', 'message': ""Fix ostestr invocation\n\nMore-recent versions of stestr are rather picky about wanting an integer\nfor concurrency [1], but ostestr prior to [2] defaults it to None. As a\nresult, all our func tests would fail with:\n\n   TypeError: int() argument must be a string or a number, not 'NoneType'\n\nAlso, move the rolling upgrade job to non-voting since it's going to\npull in the old version but try to run with new deps.\n\n[1] https://github.com/mtreinish/stestr/commit/c93bc81\n[2] https://review.openstack.org/#/c/651275/\n\nChange-Id: Icba6c46bcff0e0516107e0f6742d32c92488ae20\n""}]",0,651277,1e4cdca3390906a7bc4b27af9afa62002d20880c,29,5,3,15343,,,0,"Fix ostestr invocation

More-recent versions of stestr are rather picky about wanting an integer
for concurrency [1], but ostestr prior to [2] defaults it to None. As a
result, all our func tests would fail with:

   TypeError: int() argument must be a string or a number, not 'NoneType'

Also, move the rolling upgrade job to non-voting since it's going to
pull in the old version but try to run with new deps.

[1] https://github.com/mtreinish/stestr/commit/c93bc81
[2] https://review.openstack.org/#/c/651275/

Change-Id: Icba6c46bcff0e0516107e0f6742d32c92488ae20
",git fetch https://review.opendev.org/openstack/swift refs/changes/77/651277/3 && git format-patch -1 --stdout FETCH_HEAD,['.functests'],1,42cb5981354dd2f5f8ee1d67970aa0f446698bef,651277,"ARGS=""--concurrency 1 ${@:-""--pretty""}""","ARGS=""--serial ${@:-""--pretty""}""",1,1
openstack%2Fnova~stable%2Fstein~Id670f13a7f197e71c77dc91276fc2fba2fc5f314,openstack/nova,stable/stein,Id670f13a7f197e71c77dc91276fc2fba2fc5f314,libvirt: Avoid using os-brick encryptors when device_path isn't provided,MERGED,2019-04-30 08:27:26.000000000,2019-05-04 15:35:28.000000000,2019-05-04 15:35:28.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-30 08:27:26.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c6432ac0212d15b6d8f1620b42937b2abcb66d46', 'message': ""libvirt: Avoid using os-brick encryptors when device_path isn't provided\n\nWhen disconnecting an encrypted volume the Libvirt driver uses the\npresence of a Libvirt secret associated with the volume to determine if\nthe new style native QEMU LUKS decryption or original decryption method\nusing os-brick encrytors is used.\n\nWhile this works well in most deployments some issues have been observed\nin Kolla based environments where the Libvirt secrets are not fully\npersisted between host reboots or container upgrades. This can lead to\n_detach_encryptor attempting to build an encryptor which will fail if\nthe associated connection_info for the volume does not contain a\ndevice_path, such as in the case for encrypted rbd volumes.\n\nThis change adds a simple conditional to _detach_encryptor to ensure we\nreturn when device_path is not present in connection_info and native\nQEMU LUKS decryption is available. This handles the specific use\ncase where we are certain that the encrypted volume was never decrypted\nusing the os-brick encryptors, as these require a local block device on\nthe compute host and have thus never supported rbd.\n\nIt is still safe to build an encryptor and call detach_volume when a\ndevice_path is present however as change I9f52f89b8466d036 made such\ncalls idempotent within os-brick.\n\nChange-Id: Id670f13a7f197e71c77dc91276fc2fba2fc5f314\nCloses-bug: #1821696\n(cherry picked from commit 56ca4d32ddf944b541b8a6c46f07275e7d8472bc)\n""}]",0,656462,c6432ac0212d15b6d8f1620b42937b2abcb66d46,10,6,1,10135,,,0,"libvirt: Avoid using os-brick encryptors when device_path isn't provided

When disconnecting an encrypted volume the Libvirt driver uses the
presence of a Libvirt secret associated with the volume to determine if
the new style native QEMU LUKS decryption or original decryption method
using os-brick encrytors is used.

While this works well in most deployments some issues have been observed
in Kolla based environments where the Libvirt secrets are not fully
persisted between host reboots or container upgrades. This can lead to
_detach_encryptor attempting to build an encryptor which will fail if
the associated connection_info for the volume does not contain a
device_path, such as in the case for encrypted rbd volumes.

This change adds a simple conditional to _detach_encryptor to ensure we
return when device_path is not present in connection_info and native
QEMU LUKS decryption is available. This handles the specific use
case where we are certain that the encrypted volume was never decrypted
using the os-brick encryptors, as these require a local block device on
the compute host and have thus never supported rbd.

It is still safe to build an encryptor and call detach_volume when a
device_path is present however as change I9f52f89b8466d036 made such
calls idempotent within os-brick.

Change-Id: Id670f13a7f197e71c77dc91276fc2fba2fc5f314
Closes-bug: #1821696
(cherry picked from commit 56ca4d32ddf944b541b8a6c46f07275e7d8472bc)
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/656462/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,c6432ac0212d15b6d8f1620b42937b2abcb66d46,bug/1821696," @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._use_native_luks') mock_use_native_luks, mock_get_encryptor, mock_get_metadata): mock_use_native_luks.return_value = False @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._use_native_luks') mock_use_native_luks, mock_get_encryptor, mock_get_metadata): mock_use_native_luks.return_value = False @mock.patch('nova.virt.libvirt.host.Host.find_secret') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._use_native_luks') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_volume_encryptor') def test_detach_encryptor_native_luks_device_path_secret_missing(self, mock_get_encryptor, mock_use_native_luks, mock_find_secret): """"""Assert that the encryptor is not built when native LUKS is available, the associated volume secret is missing and device_path is also missing from the connection_info. """""" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) encryption = {'provider': 'luks', 'control_location': 'front-end', 'encryption_key_id': uuids.encryption_key_id} connection_info = {'data': {'volume_id': uuids.volume_id}} mock_find_secret.return_value = False mock_use_native_luks.return_value = True drvr._detach_encryptor(self.context, connection_info, encryption) mock_find_secret.assert_called_once_with('volume', uuids.volume_id) mock_get_encryptor.assert_not_called() "," mock_get_encryptor, mock_get_metadata): mock_get_encryptor, mock_get_metadata):",35,2
openstack%2Fnova~stable%2Fstein~Ib440f4f2e484312af5f393722363846f6c95b760,openstack/nova,stable/stein,Ib440f4f2e484312af5f393722363846f6c95b760,libvirt: Stop ignoring unknown libvirtError exceptions during volume attach,MERGED,2019-05-03 21:10:42.000000000,2019-05-04 15:20:54.000000000,2019-05-04 15:20:54.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-03 21:10:42.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b3dedefcc58a1fc76ba37f9f8bb1ef7d238aaceb', 'message': ""libvirt: Stop ignoring unknown libvirtError exceptions during volume attach\n\nId346bce6e47431988cce7001abcf29a9faf2936a attempted to introduce a\nsimple breadcrumb in the logs to highlight a known Libvirt issue.\nUnfortunately this change resulted in libvirtError exceptions that\ndidn't match the known issue being silently ignored.\n\nThis change corrects this by using excutils.save_and_reraise_exception\nto ensure all libvirtError exceptions are logged and raised regardless\nof being linked to the known issue.\n\nChange-Id: Ib440f4f2e484312af5f393722363846f6c95b760\nCloses-Bug: #1825882\n(cherry picked from commit bc57ae50734fa6a70115b6369e867079fb5eb4b8)\n""}]",0,657049,b3dedefcc58a1fc76ba37f9f8bb1ef7d238aaceb,9,5,1,10135,,,0,"libvirt: Stop ignoring unknown libvirtError exceptions during volume attach

Id346bce6e47431988cce7001abcf29a9faf2936a attempted to introduce a
simple breadcrumb in the logs to highlight a known Libvirt issue.
Unfortunately this change resulted in libvirtError exceptions that
didn't match the known issue being silently ignored.

This change corrects this by using excutils.save_and_reraise_exception
to ensure all libvirtError exceptions are logged and raised regardless
of being linked to the known issue.

Change-Id: Ib440f4f2e484312af5f393722363846f6c95b760
Closes-Bug: #1825882
(cherry picked from commit bc57ae50734fa6a70115b6369e867079fb5eb4b8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/657049/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,b3dedefcc58a1fc76ba37f9f8bb1ef7d238aaceb,bug/1825882," @mock.patch('nova.virt.libvirt.blockinfo.get_info_from_bdm') def test_attach_volume_with_libvirt_exception(self, mock_get_info): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) instance = objects.Instance(**self.test_instance) connection_info = {""driver_volume_type"": ""fake"", ""data"": {""device_path"": ""/fake"", ""access_mode"": ""rw""}} bdm = {'device_name': 'vdb', 'disk_bus': 'fake-bus', 'device_type': 'fake-type'} disk_info = {'bus': bdm['disk_bus'], 'type': bdm['device_type'], 'dev': 'vdb'} libvirt_exc = fakelibvirt.make_libvirtError(fakelibvirt.libvirtError, ""Target vdb already exists', device is busy"", error_code=fakelibvirt.VIR_ERR_INTERNAL_ERROR) with test.nested( mock.patch.object(drvr._host, 'get_guest'), mock.patch('nova.virt.libvirt.driver.LOG'), mock.patch.object(drvr, '_connect_volume'), mock.patch.object(drvr, '_get_volume_config'), mock.patch.object(drvr, '_check_discard_for_attach_volume'), mock.patch.object(drvr, '_build_device_metadata'), ) as (mock_get_guest, mock_log, mock_connect_volume, mock_get_volume_config, mock_check_discard, mock_build_metadata): mock_conf = mock.MagicMock() mock_guest = mock.MagicMock() mock_guest.attach_device.side_effect = libvirt_exc mock_get_volume_config.return_value = mock_conf mock_get_guest.return_value = mock_guest mock_get_info.return_value = disk_info mock_build_metadata.return_value = objects.InstanceDeviceMetadata() self.assertRaises(fakelibvirt.libvirtError, drvr.attach_volume, self.context, connection_info, instance, ""/dev/vdb"", disk_bus=bdm['disk_bus'], device_type=bdm['device_type']) mock_log.exception.assert_called_once_with(u'Failed to attach ' 'volume at mountpoint: %s', '/dev/vdb', instance=instance) ",,49,5
openstack%2Foslo.messaging~stable%2Fqueens~I7ab1f9d21ebb807285bf1422bc14cc6e07dcd32a,openstack/oslo.messaging,stable/queens,I7ab1f9d21ebb807285bf1422bc14cc6e07dcd32a,Retry to declare a queue after internal error,MERGED,2019-04-23 07:50:24.000000000,2019-05-04 15:20:07.000000000,2019-05-04 15:20:07.000000000,"[{'_account_id': 8770}, {'_account_id': 9373}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-04-23 07:50:24.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/6ea1bb5fad84079d07d8ad48d2c2a71aa29cdda4', 'message': ""Retry to declare a queue after internal error\n\nWithout this commit, the client can lose the messages, because the\nclient does not handler the 'AMQP internal error 541',\nread here [2] for details.\nThe fix retries to create the queue after a delay.\nWhen the virtual-host is ready the declare does not fail.\nThis is a rare condiction, please read the bug [1] for details.\n\nCloses-Bug: #1822778\n\n[1] https://bugs.launchpad.net/oslo.messaging/+bug/1822778\n[2] https://www.rabbitmq.com/amqp-0-9-1-reference.html\n\nChange-Id: I7ab1f9d21ebb807285bf1422bc14cc6e07dcd32a\n(cherry picked from commit 4d2787227b00b973973554f7387e621d2664c0d8)\n""}]",0,654818,6ea1bb5fad84079d07d8ad48d2c2a71aa29cdda4,12,5,1,29364,,,0,"Retry to declare a queue after internal error

Without this commit, the client can lose the messages, because the
client does not handler the 'AMQP internal error 541',
read here [2] for details.
The fix retries to create the queue after a delay.
When the virtual-host is ready the declare does not fail.
This is a rare condiction, please read the bug [1] for details.

Closes-Bug: #1822778

[1] https://bugs.launchpad.net/oslo.messaging/+bug/1822778
[2] https://www.rabbitmq.com/amqp-0-9-1-reference.html

Change-Id: I7ab1f9d21ebb807285bf1422bc14cc6e07dcd32a
(cherry picked from commit 4d2787227b00b973973554f7387e621d2664c0d8)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/18/654818/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,6ea1bb5fad84079d07d8ad48d2c2a71aa29cdda4,bug/1822778-stable/queens," except kombu.exceptions.ConnectionError as exc: # NOTE(gsantomaggio): This exception happens when the # connection is established,but it fails to create the queue. # Add some delay to avoid too many requests to the server. # See: https://bugs.launchpad.net/oslo.messaging/+bug/1822778 # for details. if exc.code == 541: interval = 2 info = {'sleep_time': interval, 'queue': self.queue_name, 'err_str': exc } LOG.error(_LE('Internal amqp error (541) ' 'during queue declare,' 'retrying in %(sleep_time)s seconds. ' 'Queue: [%(queue)s], ' 'error message: [%(err_str)s]'), info) time.sleep(interval) self.queue.declare() else: raise ",,22,1
openstack%2Fpython-heatclient~master~I6b8dacf455ec068acd9599d96e0d66522c8bdf5c,openstack/python-heatclient,master,I6b8dacf455ec068acd9599d96e0d66522c8bdf5c,Dropping the py35 testing,MERGED,2019-04-14 22:06:52.000000000,2019-05-04 15:09:28.000000000,2019-05-04 15:09:28.000000000,"[{'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-14 22:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/58edddd16d2c1c0c6d1bc3af93321e8a5e4fe112', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I6b8dacf455ec068acd9599d96e0d66522c8bdf5c\n'}, {'number': 2, 'created': '2019-04-15 18:06:18.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/422f001e25b89924e88ec29c2c62ed8a06018e46', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I6b8dacf455ec068acd9599d96e0d66522c8bdf5c\n'}]",0,652380,422f001e25b89924e88ec29c2c62ed8a06018e46,9,3,2,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I6b8dacf455ec068acd9599d96e0d66522c8bdf5c
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/80/652380/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,58edddd16d2c1c0c6d1bc3af93321e8a5e4fe112,dropping-py35-testing,"envlist = pypy,py27,pep8","envlist = pypy,py35,py27,pep8",2,3
openstack%2Fopenstack-ansible-os_nova~stable%2Frocky~I7b2a2db877140ef4f1f1479584f291177fdeae64,openstack/openstack-ansible-os_nova,stable/rocky,I7b2a2db877140ef4f1f1479584f291177fdeae64,[DNM] Drop placement user creation,ABANDONED,2019-05-04 04:47:58.000000000,2019-05-04 14:58:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-04 04:47:58.000000000', 'files': ['tasks/nova_service_setup.yml', 'templates/nova.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/f80ff75ecb039586241763bcaddee9cca758bbf2', 'message': '[DNM] Drop placement user creation\n\nChange-Id: I7b2a2db877140ef4f1f1479584f291177fdeae64\n'}]",0,657091,f80ff75ecb039586241763bcaddee9cca758bbf2,3,1,1,28008,,,0,"[DNM] Drop placement user creation

Change-Id: I7b2a2db877140ef4f1f1479584f291177fdeae64
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/91/657091/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/nova_service_setup.yml', 'templates/nova.conf.j2', 'defaults/main.yml']",3,f80ff75ecb039586241763bcaddee9cca758bbf2,placement_integration,,nova_placement_service_username: placement,4,13
openstack%2Fcharm-openstack-dashboard~stable%2F19.04~I42d4772ebe185c35cc5e81c36ebdb3f6f6c169c4,openstack/charm-openstack-dashboard,stable/19.04,I42d4772ebe185c35cc5e81c36ebdb3f6f6c169c4,Add app-credentials-specific policy rules,MERGED,2019-05-01 15:04:33.000000000,2019-05-04 14:55:02.000000000,2019-05-04 14:55:02.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 15:04:33.000000000', 'files': ['templates/rocky/keystonev3_policy.json'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/81e45184a1c0ed748928ff994defb79af7981f11', 'message': 'Add app-credentials-specific policy rules\n\nIn order to have Create and Delete buttons for application credentials\nin non-admin projects we need to add the respective policy.json rules.\n\nThe dashboard pane for application credentials was added in Rocky.\n\nChange-Id: I42d4772ebe185c35cc5e81c36ebdb3f6f6c169c4\nCloses-Bug: #1827107\n'}]",0,656651,81e45184a1c0ed748928ff994defb79af7981f11,9,3,1,24824,,,0,"Add app-credentials-specific policy rules

In order to have Create and Delete buttons for application credentials
in non-admin projects we need to add the respective policy.json rules.

The dashboard pane for application credentials was added in Rocky.

Change-Id: I42d4772ebe185c35cc5e81c36ebdb3f6f6c169c4
Closes-Bug: #1827107
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/51/656651/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/rocky/keystonev3_policy.json'],1,81e45184a1c0ed748928ff994defb79af7981f11,bug/1827107," ""identity:get_application_credential"": ""rule:admin_required or user_id:%(user_id)s"", ""identity:create_application_credential"": ""rule:admin_required or user_id:%(user_id)s"", ""identity:delete_application_credential"": ""rule:admin_required or user_id:%(user_id)s"", ""identity:list_application_credentials"": ""rule:admin_required or user_id:%(user_id)s"", ",,5,0
openstack%2Ftripleo-heat-templates~master~Id8663e76b61c9e09547c228da226b706383a3e20,openstack/tripleo-heat-templates,master,Id8663e76b61c9e09547c228da226b706383a3e20,mistral: configure heartbeat parameters to avoid action timeout,MERGED,2019-03-25 20:26:53.000000000,2019-05-04 14:52:22.000000000,2019-03-26 17:47:38.000000000,"[{'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-03-25 20:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2c00e3cbcc4d4c9e9e12f88a43104e59a251a99', 'message': ""mistral: configure heartbeat parameters to avoid action timeout\n\nThis patch configures and increases the defaults heartbeat parameters in\nMistral so we don't hit timeouts when an action in a workflow takes\ntimes to reply back in Mistral, when deploying an Overcloud.\n\nParameters added:\n\n  MistralMaxMissedHeartbeats:\n    type: number\n    default: 15\n    description: >\n        The maximum amount of missed heartbeats to be allowed.\n        If set to 0 then this feature is disabled. See check_interval for more\n        details.\n    constraints:\n      - range: { min: 0 }\n  MistralCheckInterval:\n    type: number\n    default: 20\n    description: >\n        How often (in seconds) action executions are checked.\n        For example when check_interval is 10, check action\n        executions every 10 seconds. When the checker runs it will\n        transit all running action executions to error if the last\n        heartbeat received is older than 10 * max_missed_heartbeats\n        seconds. If set to 0 then this feature is disabled.\n    constraints:\n      - range: { min: 0 }\n  MistralFirstHeartbeatTimeout:\n    type: number\n    default: 3600\n    description: >\n        The first heartbeat is handled differently, to provide a\n        grace period in case there is no available executor to handle\n        the action execution. For example when\n        first_heartbeat_timeout = 3600, wait 3600 seconds before\n        closing the action executions that never received a heartbeat.\n    constraints:\n      - range: { min: 0 }\n\nConfiguration applied to Undercloud:\nMaximum missed heartbeats: 30 seconds\nTime between interval checks: 40 seconds\nFirst Heartbeat timeout after 7200 seconds\n\nDepends-On: I7a2313bed58485e077ae210d222902f4f997f0f0\nChange-Id: Id8663e76b61c9e09547c228da226b706383a3e20\nCloses-Bug: #1821611\n""}, {'number': 2, 'created': '2019-03-25 20:29:24.000000000', 'files': ['deployment/mistral/mistral-base.yaml', 'environments/undercloud.yaml', 'releasenotes/notes/mistral_timeout-c00344d5b3d8c4b0.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/374fafd66afa792ba197403b479dadbfa3055bce', 'message': ""mistral: configure heartbeat parameters to avoid action timeout\n\nThis patch configures and increases the defaults heartbeat parameters in\nMistral so we don't hit timeouts when an action in a workflow takes\ntimes to reply back in Mistral, when deploying an Overcloud.\n\nParameters added:\n\n  MistralMaxMissedHeartbeats:\n    type: number\n    default: 15\n    description: >\n        The maximum amount of missed heartbeats to be allowed.\n        If set to 0 then this feature is disabled. See check_interval for more\n        details.\n    constraints:\n      - range: { min: 0 }\n  MistralCheckInterval:\n    type: number\n    default: 20\n    description: >\n        How often (in seconds) action executions are checked.\n        For example when check_interval is 10, check action\n        executions every 10 seconds. When the checker runs it will\n        transit all running action executions to error if the last\n        heartbeat received is older than 10 * max_missed_heartbeats\n        seconds. If set to 0 then this feature is disabled.\n    constraints:\n      - range: { min: 0 }\n  MistralFirstHeartbeatTimeout:\n    type: number\n    default: 3600\n    description: >\n        The first heartbeat is handled differently, to provide a\n        grace period in case there is no available executor to handle\n        the action execution. For example when\n        first_heartbeat_timeout = 3600, wait 3600 seconds before\n        closing the action executions that never received a heartbeat.\n    constraints:\n      - range: { min: 0 }\n\nConfiguration applied to Undercloud:\nMaximum missed heartbeats: 30 seconds\nTime between interval checks: 40 seconds\nFirst Heartbeat timeout after 7200 seconds\n\nDepends-On: I7a2313bed58485e077ae210d222902f4f997f0f0\nChange-Id: Id8663e76b61c9e09547c228da226b706383a3e20\nCloses-Bug: #1821611\n""}]",1,647597,374fafd66afa792ba197403b479dadbfa3055bce,17,6,2,3153,,,0,"mistral: configure heartbeat parameters to avoid action timeout

This patch configures and increases the defaults heartbeat parameters in
Mistral so we don't hit timeouts when an action in a workflow takes
times to reply back in Mistral, when deploying an Overcloud.

Parameters added:

  MistralMaxMissedHeartbeats:
    type: number
    default: 15
    description: >
        The maximum amount of missed heartbeats to be allowed.
        If set to 0 then this feature is disabled. See check_interval for more
        details.
    constraints:
      - range: { min: 0 }
  MistralCheckInterval:
    type: number
    default: 20
    description: >
        How often (in seconds) action executions are checked.
        For example when check_interval is 10, check action
        executions every 10 seconds. When the checker runs it will
        transit all running action executions to error if the last
        heartbeat received is older than 10 * max_missed_heartbeats
        seconds. If set to 0 then this feature is disabled.
    constraints:
      - range: { min: 0 }
  MistralFirstHeartbeatTimeout:
    type: number
    default: 3600
    description: >
        The first heartbeat is handled differently, to provide a
        grace period in case there is no available executor to handle
        the action execution. For example when
        first_heartbeat_timeout = 3600, wait 3600 seconds before
        closing the action executions that never received a heartbeat.
    constraints:
      - range: { min: 0 }

Configuration applied to Undercloud:
Maximum missed heartbeats: 30 seconds
Time between interval checks: 40 seconds
First Heartbeat timeout after 7200 seconds

Depends-On: I7a2313bed58485e077ae210d222902f4f997f0f0
Change-Id: Id8663e76b61c9e09547c228da226b706383a3e20
Closes-Bug: #1821611
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/647597/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/mistral/mistral-base.yaml', 'environments/undercloud.yaml', 'releasenotes/notes/mistral_timeout-c00344d5b3d8c4b0.yaml']",3,c2c00e3cbcc4d4c9e9e12f88a43104e59a251a99,bug/1821611,--- fixes: - | Allow to configure Mistral parameters for Heartbeat and set sane defaults for the Undercloud so we can deploy an Overcloud in Stein. Fixes `bug 1821611 <https://bugs.launchpad.net/tripleo/+bug/1821611>`__. ,,45,0
openstack%2Fheat-agents~master~I32190b32bb53dd070ef85f68ffcfb7e43c403b4f,openstack/heat-agents,master,I32190b32bb53dd070ef85f68ffcfb7e43c403b4f,Dropping the py35 testing,MERGED,2019-04-14 21:57:45.000000000,2019-05-04 14:52:20.000000000,2019-05-04 14:52:19.000000000,"[{'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-14 21:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/5f552fb6c186a04d504d18020d5039f3a3f3fa10', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I32190b32bb53dd070ef85f68ffcfb7e43c403b4f\n'}, {'number': 2, 'created': '2019-04-15 18:05:22.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/e4361bfeb50e3146743a43e0c91ab4eaa630169e', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I32190b32bb53dd070ef85f68ffcfb7e43c403b4f\n'}]",0,652375,e4361bfeb50e3146743a43e0c91ab4eaa630169e,9,3,2,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I32190b32bb53dd070ef85f68ffcfb7e43c403b4f
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/75/652375/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,5f552fb6c186a04d504d18020d5039f3a3f3fa10,dropping-py35-testing,"envlist = py27,pep8","envlist = py27,py35,pep8",1,2
openstack%2Foslo.config~master~I02ff56f47ac8b93e0ee37eb55b53552059e4da27,openstack/oslo.config,master,I02ff56f47ac8b93e0ee37eb55b53552059e4da27,Add a Quick Start tutorial,MERGED,2019-04-26 16:17:33.000000000,2019-05-04 14:30:42.000000000,2019-05-04 14:30:42.000000000,"[{'_account_id': 2472}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-04-26 16:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/3fa4094baac8c9e2ed41de812265255eaeb7609b', 'message': 'Add a Quick Start tutorial\n\nAs a user completely new to oslo_config (well, I had only experienced it\nin the already-implemented context of the nova project), I would like to\nhave had a reference document that provided a step-by-step guide to\nwriting a simple test script I could use to noodle around.  It might\nhave gone something like this.\n\nChange-Id: I02ff56f47ac8b93e0ee37eb55b53552059e4da27\n'}, {'number': 2, 'created': '2019-05-03 22:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/eda8e414292d5adee719f7bdb05e173869eb35e4', 'message': 'Add a Quick Start tutorial\n\nAs a user completely new to oslo_config (well, I had only experienced it\nin the already-implemented context of the nova project), I would like to\nhave had a reference document that provided a step-by-step guide to\nwriting a simple test script I could use to noodle around.  It might\nhave gone something like this.\n\nChange-Id: I02ff56f47ac8b93e0ee37eb55b53552059e4da27\n'}, {'number': 3, 'created': '2019-05-03 22:12:19.000000000', 'files': ['doc/source/configuration/index.rst', 'doc/source/configuration/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/bab155673527f88fa6efe50274257fb674ed77b1', 'message': 'Add a Quick Start tutorial\n\nAs a user completely new to oslo_config (well, I had only experienced it\nin the already-implemented context of the nova project), I would like to\nhave had a reference document that provided a step-by-step guide to\nwriting a simple test script I could use to noodle around.  It might\nhave gone something like this.\n\nChange-Id: I02ff56f47ac8b93e0ee37eb55b53552059e4da27\n'}]",5,655937,bab155673527f88fa6efe50274257fb674ed77b1,17,5,3,14070,,,0,"Add a Quick Start tutorial

As a user completely new to oslo_config (well, I had only experienced it
in the already-implemented context of the nova project), I would like to
have had a reference document that provided a step-by-step guide to
writing a simple test script I could use to noodle around.  It might
have gone something like this.

Change-Id: I02ff56f47ac8b93e0ee37eb55b53552059e4da27
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/37/655937/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/quickstart.rst']",2,3fa4094baac8c9e2ed41de812265255eaeb7609b,quick-start-guide,"========================== oslo.config Quick Start! ========================== Are you brand new to oslo.config? This brief tutorial will get you started understanding some of the fundamentals. Prerequisites ------------- * A plain text editor or Python-enabled IDE * A Python interpreter * A command shell from which the interpreter can be invoked * The oslo_config library in your Python path. Test Script ----------- Put this in a file called ``oslocfgtest.py``. .. code:: python # The sys module lets you get at the command line arguments. import sys # Load up the cfg module, which contains all the classes and methods # you'll need. from oslo_config import cfg # Define an option group grp = cfg.OptGroup('mygroup') # Define a couple of options opts = [cfg.StrOpt('option1'), cfg.IntOpt('option2', default=42)] # Register your config group cfg.CONF.register_group(grp) # Register your options within the config group cfg.CONF.register_opts(opts, group=grp) # Process command line arguments. The arguments tell CONF where to # find your config file, which it loads and parses to populate itself. cfg.CONF(sys.argv[1:]) # Now you can access the values from the config file as # CONF.<group>.<opt> print(""The value of option1 is %s"" % cfg.CONF.mygroup.option1) print(""The value of option2 is %d"" % cfg.CONF.mygroup.option2) Conf File --------- Put this in a file called ``oslocfgtest.conf`` in the same directory as ``oslocfgtest.py``. .. code:: ini [mygroup] option1 = foo # Comment out option2 to test the default value # option2 = 123 Run It! ------- From your command shell, in the same directory as your script and conf, invoke: .. code:: shell python oslocfgtest.py --config-file oslocfgtest.conf Revel in the output being exactly as expected. If you've done everything right, you should see: .. code:: shell The value of option1 is foo The value of option2 is 42 Now go play with some more advanced option settings! ",,79,0
openstack%2Fopenstack-manuals~master~I93c67ce37b514146bfd78eaff68d4b28120e0d19,openstack/openstack-manuals,master,I93c67ce37b514146bfd78eaff68d4b28120e0d19,Imported Translations from Zanata,MERGED,2019-05-04 07:58:41.000000000,2019-05-04 14:28:21.000000000,2019-05-04 14:28:21.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-04 07:58:41.000000000', 'files': ['doc/install-guide/source/locale/id/LC_MESSAGES/install-guide.po', 'doc/install-guide/source/locale/en_GB/LC_MESSAGES/install-guide.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a497aeb53b1615ef85f5f9eba82999e4a2c8cb50', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I93c67ce37b514146bfd78eaff68d4b28120e0d19\n'}]",0,657095,a497aeb53b1615ef85f5f9eba82999e4a2c8cb50,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I93c67ce37b514146bfd78eaff68d4b28120e0d19
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/95/657095/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/source/locale/id/LC_MESSAGES/install-guide.po', 'doc/install-guide/source/locale/en_GB/LC_MESSAGES/install-guide.po']",2,a497aeb53b1615ef85f5f9eba82999e4a2c8cb50,zanata/translations,"""POT-Creation-Date: 2019-05-03 23:28+0000\n""","""POT-Creation-Date: 2019-02-28 10:36+0000\n""msgid ""Enable the Ubuntu Cloud Archive pocket as needed"" msgstr ""Enable the Ubuntu Cloud Archive pocket as needed"" ""OpenStack Queens is available directly using Ubuntu 18.04 LTS and OpenStack "" ""Mitaka is available directly using Ubuntu 16.04 LTS without having to enable "" ""an Ubuntu Cloud Archive pocket."" msgstr """" ""OpenStack Queens is available directly using Ubuntu 18.04 LTS and OpenStack "" ""Mitaka is available directly using Ubuntu 16.04 LTS without having to enable "" ""an Ubuntu Cloud Archive pocket."" msgid """"""Ubuntu releases OpenStack with each Ubuntu release. Ubuntu LTS releases are "" ""provided every 2 years. OpenStack packages from interim releases of Ubuntu "" ""are made available to the prior Ubuntu LTS via the Ubuntu Cloud Archive."" msgstr """" ""Ubuntu releases OpenStack with each Ubuntu release. Ubuntu LTS releases are "" ""provided every 2 years. OpenStack packages from interim releases of Ubuntu "" ""are made available to the prior Ubuntu LTS via the Ubuntu Cloud Archive."" msgid """"",22,30
openstack%2Fapi-site~master~Ic517a3065e32741b8f03844fc1d79fd2deae653a,openstack/api-site,master,Ic517a3065e32741b8f03844fc1d79fd2deae653a,Imported Translations from Zanata,MERGED,2019-05-04 09:06:33.000000000,2019-05-04 14:21:09.000000000,2019-05-04 14:21:09.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-04 09:06:33.000000000', 'files': ['api-quick-start/source/locale/id/LC_MESSAGES/api-quick-start.po'], 'web_link': 'https://opendev.org/openstack/api-site/commit/7dcc4376311643f01c42e699b2dbc11815e1d43d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic517a3065e32741b8f03844fc1d79fd2deae653a\n'}]",0,657099,7dcc4376311643f01c42e699b2dbc11815e1d43d,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ic517a3065e32741b8f03844fc1d79fd2deae653a
",git fetch https://review.opendev.org/openstack/api-site refs/changes/99/657099/1 && git format-patch -1 --stdout FETCH_HEAD,['api-quick-start/source/locale/id/LC_MESSAGES/api-quick-start.po'],1,7dcc4376311643f01c42e699b2dbc11815e1d43d,zanata/translations,"""Project-Id-Version: OpenStack API Documentation 2013.2.1.dev4247\n""""POT-Creation-Date: 2019-05-03 22:55+0000\n""""PO-Revision-Date: 2019-05-04 07:44+0000\n""""`Key Manager API v1 <https://docs.openstack.org/barbican/latest/api/>`__"" msgstr """" ""`Key Manager API v1 <https://docs.openstack.org/barbican/latest/api/>`__"" msgid """"","""Project-Id-Version: OpenStack API Documentation 2013.2.1.dev4245\n""""POT-Creation-Date: 2019-04-23 14:55+0000\n""""PO-Revision-Date: 2019-04-25 03:33+0000\n""",8,3
openstack%2Fnova~master~Ibdcfd81554e47f2cb24f74d6cd1e48f2d9df9cc9,openstack/nova,master,Ibdcfd81554e47f2cb24f74d6cd1e48f2d9df9cc9,Choose VMware datastore by the least provisioned space,ABANDONED,2016-11-25 14:03:05.000000000,2019-05-04 13:10:11.000000000,,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9172}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 20040}, {'_account_id': 20382}, {'_account_id': 21479}, {'_account_id': 22348}, {'_account_id': 22868}, {'_account_id': 23266}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2016-11-25 14:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb80230bb48f4498269a4ba226d4d4cadb10410e', 'message': ""Choose VMware datastore by the least provisioned space\n\nAt the moment the _select_datastore method in the VMware driver chooses\nthe in dependence of the free space. The datastore with the most free\nspace will be chosen for a new instance. But some users may want to\nplace new instances on the datastore with the less provisioned space and\nnot the one with the most free space.\n\nThis feature introduces a new configuration parameter\n'datastore_allocation_type'. When datastore_allocation_type is set to\n'provisionedSpace' then the datastore with the lowest value for\nprovisionedSpace will be chosen. If set to 'freeSpace', the datastore\nwith the most free space will be chosen for a new instance.\n\nChange-Id: Ibdcfd81554e47f2cb24f74d6cd1e48f2d9df9cc9\nCloses-Bug: #1643569\n""}, {'number': 2, 'created': '2016-11-30 07:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d3eacc1892c32a23b283ad6712dacfb09c06bd7', 'message': ""Choose VMware datastore by the least provisioned space\n\nAt the moment the _select_datastore method in the VMware driver chooses\nthe in dependence of the free space. The datastore with the most free\nspace will be chosen for a new instance. But some users may want to\nplace new instances on the datastore with the less provisioned space or\nmost connected hosts.\n\nThis patch introduces a new configuration parameter\n'datastore_allocation_type'. When datastore_allocation_type is set to\n'provisionedSpace' then the datastore with the lowest value for\nprovisionedSpace will be chosen. If set to 'freeSpace', the datastore\nwith the most free space will be chosen for a new instance. When\nchoosing 'mostConnectedHosts', prefer the one with more connected hosts.\n\nChange-Id: Ibdcfd81554e47f2cb24f74d6cd1e48f2d9df9cc9\nCloses-Bug: #1643569\n""}, {'number': 3, 'created': '2016-12-01 02:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63cba5af87f1f8d19b3d9e4315b5d32dcb354c22', 'message': ""Choose VMware datastore by the least provisioned space\n\nAt the moment the _select_datastore method in the VMware driver chooses\nthe in dependence of the free space. The datastore with the most free\nspace will be chosen for a new instance. But some users may want to\nplace new instances on the datastore with the less provisioned space or\nmost connected hosts.\n\nThis patch introduces a new configuration parameter\n'datastore_allocation_type'. When datastore_allocation_type is set to\n'provisionedSpace' then the datastore with the lowest value for\nprovisionedSpace will be chosen. If set to 'freeSpace', the datastore\nwith the most free space will be chosen for a new instance. When\nchoosing 'mostConnectedHosts', prefer the one with more connected hosts.\n\nChange-Id: Ibdcfd81554e47f2cb24f74d6cd1e48f2d9df9cc9\nCloses-Bug: #1643569\n""}, {'number': 4, 'created': '2016-12-07 11:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/933ebcb5556111c6f3f83a2f293f2fa516686118', 'message': ""Choose VMware datastore by the least provisioned space\n\nAt the moment the _select_datastore method in the VMware driver chooses\nin dependence of the free space. The datastore with the most free\nspace will be chosen for a new instance. But some users may want to\nplace new instances on the datastore with the less provisioned space or\nmost connected hosts.\n\nThis patch introduces a new configuration parameter\n'datastore_allocation_type'. When datastore_allocation_type is set to\n'provisionedSpace' then the datastore with the lowest value for\nprovisionedSpace will be chosen. If set to 'freeSpace', the datastore\nwith the most free space will be chosen for a new instance. When\nchoosing 'mostConnectedHosts', prefer the one with more connected hosts.\n\nChange-Id: Ibdcfd81554e47f2cb24f74d6cd1e48f2d9df9cc9\nCloses-Bug: #1643569\n""}, {'number': 5, 'created': '2016-12-07 14:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ec60784c37f9ab22e9e416cb3dc0d8d0b2cf79c', 'message': ""Choose VMware datastore by the least provisioned space\n\nAt the moment the _select_datastore method in the VMware driver chooses\nin dependence of the free space. The datastore with the most free\nspace will be chosen for a new instance. But some users may want to\nplace new instances on the datastore with the less provisioned space or\nmost connected hosts.\n\nThis patch introduces a new configuration parameter\n'datastore_allocation_type'. When datastore_allocation_type is set to\n'provisionedSpace' then the datastore with the lowest value for\nprovisionedSpace will be chosen. If set to 'freeSpace', the datastore\nwith the most free space will be chosen for a new instance. When\nchoosing 'mostConnectedHosts', prefer the one with more connected hosts.\n\nChange-Id: Ibdcfd81554e47f2cb24f74d6cd1e48f2d9df9cc9\nCloses-Bug: #1643569\n""}, {'number': 6, 'created': '2016-12-19 05:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0283fc3737d53b1f12eaa508635f9bb43b44bf0a', 'message': ""Choose VMware datastore by the least provisioned space\n\nAt the moment the _select_datastore method in the VMware driver chooses\nin dependence of the free space. The datastore with the most free\nspace will be chosen for a new instance. But some users may want to\nplace new instances on the datastore with the less provisioned space or\nmost connected hosts.\n\nThis patch introduces a new configuration parameter\n'datastore_allocation_type'. When datastore_allocation_type is set to\n'provisionedSpace' then the datastore with the lowest value for\nprovisionedSpace will be chosen. If set to 'freeSpace', the datastore\nwith the most free space will be chosen for a new instance. When\nchoosing 'mostConnectedHosts', prefer the one with more connected hosts.\n\nChange-Id: Ibdcfd81554e47f2cb24f74d6cd1e48f2d9df9cc9\nCloses-Bug: #1643569\n""}, {'number': 7, 'created': '2016-12-21 02:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/219d4647c17fecd1c5f6a92c7655c33aa70f08cc', 'message': ""Choose VMware datastore by the least provisioned space\n\nAt the moment the _select_datastore method in the VMware driver chooses\nin dependence of the free space. The datastore with the most free\nspace will be chosen for a new instance. But some users may want to\nplace new instances on the datastore with the less provisioned space or\nmost connected hosts.\n\nThis patch introduces a new configuration parameter\n'datastore_allocation_type'. When datastore_allocation_type is set to\n'provisionedSpace' then the datastore with the lowest value for\nprovisionedSpace will be chosen. If set to 'freeSpace', the datastore\nwith the most free space will be chosen for a new instance. When\nchoosing 'mostConnectedHosts', prefer the one with more connected hosts.\n\nChange-Id: Ibdcfd81554e47f2cb24f74d6cd1e48f2d9df9cc9\nCloses-Bug: #1643569\n""}, {'number': 8, 'created': '2017-01-02 15:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/723a141ca93ae2ed74559562b59f8ea1c3240dd1', 'message': ""Choose VMware datastore by the least provisioned space\n\nAt the moment the _select_datastore method in the VMware driver chooses\nin dependence of the free space. The datastore with the most free\nspace will be chosen for a new instance. But some users may want to\nplace new instances on the datastore with the less provisioned space or\nmost connected hosts.\n\nThis patch introduces a new configuration parameter\n'datastore_allocation_type'. When datastore_allocation_type is set to\n'provisionedSpace' then the datastore with the lowest value for\nprovisionedSpace will be chosen. If set to 'freeSpace', the datastore\nwith the most free space will be chosen for a new instance. When\nchoosing 'mostConnectedHosts', prefer the one with more connected hosts.\n\nChange-Id: Ibdcfd81554e47f2cb24f74d6cd1e48f2d9df9cc9\nCloses-Bug: #1643569\n""}, {'number': 9, 'created': '2017-01-17 16:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c77d0b44a312d1d7371b432783e46eef09174565', 'message': ""Choose VMware datastore by the least provisioned space\n\nAt the moment the _select_datastore method in the VMware driver chooses\nin dependence of the free space. The datastore with the most free\nspace will be chosen for a new instance. But some users may want to\nplace new instances on the datastore with the less provisioned space or\nmost connected hosts.\n\nThis patch introduces a new configuration parameter\n'datastore_allocation_type'. When datastore_allocation_type is set to\n'provisionedSpace' then the datastore with the lowest value for\nprovisionedSpace will be chosen. If set to 'freeSpace', the datastore\nwith the most free space will be chosen for a new instance. When\nchoosing 'mostConnectedHosts', prefer the one with more connected hosts.\n\nChange-Id: Ibdcfd81554e47f2cb24f74d6cd1e48f2d9df9cc9\nCloses-Bug: #1643569\n""}, {'number': 10, 'created': '2017-09-12 08:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9739f0c25b14fab97c4eb934526b3311f98e6f68', 'message': ""Choose VMware datastore by the least provisioned space\n\nAt the moment the _select_datastore method in the VMware driver chooses\nin dependence of the free space. The datastore with the most free\nspace will be chosen for a new instance. But some users may want to\nplace new instances on the datastore with the less provisioned space or\nmost connected hosts.\n\nThis patch introduces a new configuration parameter\n'datastore_allocation_type'. When datastore_allocation_type is set to\n'provisionedSpace' then the datastore with the lowest value for\nprovisionedSpace will be chosen. If set to 'freeSpace', the datastore\nwith the most free space will be chosen for a new instance. When\nchoosing 'mostConnectedHosts', prefer the one with more connected hosts.\n\nChange-Id: Ibdcfd81554e47f2cb24f74d6cd1e48f2d9df9cc9\nCloses-Bug: #1643569\n""}, {'number': 11, 'created': '2017-09-13 07:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9d273eeebd5b44f3fd1960e76e9691903080a81', 'message': ""Choose VMware datastore by the least provisioned space\n\nAt the moment the _select_datastore method in the VMware driver chooses\nin dependence of the free space. The datastore with the most free\nspace will be chosen for a new instance. But some users may want to\nplace new instances on the datastore with the less provisioned space or\nmost connected hosts.\n\nThis patch introduces a new configuration parameter\n'datastore_allocation_type'. When datastore_allocation_type is set to\n'provisionedSpace' then the datastore with the lowest value for\nprovisionedSpace will be chosen. If set to 'freeSpace', the datastore\nwith the most free space will be chosen for a new instance. When\nchoosing 'mostConnectedHosts', prefer the one with more connected hosts.\n\nChange-Id: Ibdcfd81554e47f2cb24f74d6cd1e48f2d9df9cc9\nCloses-Bug: #1643569\n""}, {'number': 12, 'created': '2017-10-09 07:18:12.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'releasenotes/notes/add-datastore_allocation_type-configuration-parameter-cce7efba5f3dc3b9.yaml', 'nova/virt/vmwareapi/ds_util.py', 'nova/tests/unit/virt/vmwareapi/fake.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util_datastore_selection.py', 'nova/conf/vmware.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c583f2412a0739f5df730df8c403f9829b928e33', 'message': ""Choose VMware datastore by the least provisioned space\n\nAt the moment the _select_datastore method in the VMware driver chooses\ndepending on the free space. The datastore with the most free\nspace will be chosen for a new instance. But some users may want to\nplace new instances on the datastore with the less provisioned space or\nmost connected hosts.\n\nThis patch introduces a new configuration parameter\n'datastore_allocation_type'. When datastore_allocation_type is set to\n'provisionedSpace' then the datastore with the lowest value for\nprovisionedSpace will be chosen. If set to 'freeSpace', the datastore\nwith the most free space will be chosen for a new instance. When\nchoosing 'mostConnectedHosts', prefer the one with more connected hosts.\n\nChange-Id: Ibdcfd81554e47f2cb24f74d6cd1e48f2d9df9cc9\nCloses-Bug: #1643569\n""}]",13,402632,c583f2412a0739f5df730df8c403f9829b928e33,204,31,12,21479,,,0,"Choose VMware datastore by the least provisioned space

At the moment the _select_datastore method in the VMware driver chooses
depending on the free space. The datastore with the most free
space will be chosen for a new instance. But some users may want to
place new instances on the datastore with the less provisioned space or
most connected hosts.

This patch introduces a new configuration parameter
'datastore_allocation_type'. When datastore_allocation_type is set to
'provisionedSpace' then the datastore with the lowest value for
provisionedSpace will be chosen. If set to 'freeSpace', the datastore
with the most free space will be chosen for a new instance. When
choosing 'mostConnectedHosts', prefer the one with more connected hosts.

Change-Id: Ibdcfd81554e47f2cb24f74d6cd1e48f2d9df9cc9
Closes-Bug: #1643569
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/402632/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/virt/vmwareapi/ds_util.py', 'nova/tests/unit/virt/vmwareapi/fake.py', 'nova/conf/vmware.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util.py']",5,cb80230bb48f4498269a4ba226d4d4cadb10410e,bug/1643569," 0, False, ""normal"")) 0, True, ""inMaintenance"")) def test_get_datastore_by_provisionedSpace(self): self.flags(datastore_allocation_type='provisionedSpace', group='vmware') fake_objects = fake.FakeRetrieveResult() fake_objects.add_object(fake.Datastore(""fake-ds-1"", 2048, 1024, 200)) fake_objects.add_object(fake.Datastore(""fake-ds-2"", 2048, 1024, 800)) fake_objects.add_object(fake.Datastore(""fake-ds-3"", 4096, 3072, 600)) with self._mock_get_datastore_calls(fake_objects): result = ds_util.get_datastore(self.session, 'fake-cluster') self.assertEqual(""fake-ds-2"", result.name) self.assertEqual(units.Ti * 2, result.capacity) self.assertEqual(units.Ti, result.freespace) self.assertEqual(800 * units.Gi, result.uncommitted) "," False, ""normal"")) True, ""inMaintenance""))",121,23
openstack%2Fopenstack-ansible-os_trove~master~Idc74cd829381871d32a697b44095da9595a2ea38,openstack/openstack-ansible-os_trove,master,Idc74cd829381871d32a697b44095da9595a2ea38,Replace Module,ABANDONED,2019-05-02 14:02:41.000000000,2019-05-04 08:46:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-05-02 14:02:41.000000000', 'files': ['tasks/trove_service_network.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/a7f1329def613c2ee6488ccb154a23156eb80a5a', 'message': 'Replace Module\n\nModified the file to use the os_project module instead\nof the keystone module.\n\nChange-Id: Idc74cd829381871d32a697b44095da9595a2ea38\n'}]",0,656781,a7f1329def613c2ee6488ccb154a23156eb80a5a,4,2,1,30324,,,0,"Replace Module

Modified the file to use the os_project module instead
of the keystone module.

Change-Id: Idc74cd829381871d32a697b44095da9595a2ea38
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/81/656781/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/trove_service_network.yml'],1,a7f1329def613c2ee6488ccb154a23156eb80a5a,, os_project: cloud: default state: present, keystone:,3,1
openstack%2Fopenstack-ansible-os_swift~master~Ifaa584f8e65de9611aa559889d34c79e740dd57a,openstack/openstack-ansible-os_swift,master,Ifaa584f8e65de9611aa559889d34c79e740dd57a,Replace Module,ABANDONED,2019-05-02 13:57:52.000000000,2019-05-04 08:45:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-05-02 13:57:52.000000000', 'files': ['tasks/swift_proxy_hosts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/24fdc3d8674430410bd9053cf0e8914656903997', 'message': 'Replace Module\n\nModified the file to use the os_project module instead\nof the keystone module.\n\nChange-Id: Ifaa584f8e65de9611aa559889d34c79e740dd57a\n'}]",0,656779,24fdc3d8674430410bd9053cf0e8914656903997,4,2,1,30324,,,0,"Replace Module

Modified the file to use the os_project module instead
of the keystone module.

Change-Id: Ifaa584f8e65de9611aa559889d34c79e740dd57a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/79/656779/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/swift_proxy_hosts.yml'],1,24fdc3d8674430410bd9053cf0e8914656903997,kanishk, cloud: default state: present,,2,0
openstack%2Ftripleo-common~stable%2Fstein~Id22b1465d6d2424d90781983b970aba4545feb8a,openstack/tripleo-common,stable/stein,Id22b1465d6d2424d90781983b970aba4545feb8a,Use oslo_rootwrap subprocess module in order to gain proper eventlet awareness,MERGED,2019-05-04 02:58:28.000000000,2019-05-04 08:32:39.000000000,2019-05-04 08:32:39.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-04 02:58:28.000000000', 'files': ['tripleo_common/actions/ansible.py', 'requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6f55c8917101b12f4600796a681505e170969a14', 'message': 'Use oslo_rootwrap subprocess module in order to gain proper eventlet awareness\n\nVia https://github.com/openstack/oslo.rootwrap/commit/31cfdbd4076bb6556cf9612171ba43fa44475d71\noslo.rootwrap gained support eventlet when using subprocess. By moving\nto oslo_rootwrap.subprocess we make sure that with python3 the\nsubprocess calls use eventlet.green.subprocess if eventlet is used.\nThis worked on python2 because (from above commit):\n""""""\nOn Python 2, it ""works"" to use directly subprocess: subprocess.Popen\ncalls os.pipe() and os.fdopen(fd) which are both monkey-patched. On\nPython 3, it doesn\'t work because subprocess uses os.pipe() and\nio.open(fd), and the io module is *not* monkey-patched at all.\n""""""\n\nBy applying this change what happens is that the heartbeat thread is\nable to be scheduled every 15seconds by default. Without this patch\nwhat we have been observing with python3 is that while running ansible\nmistral would constantly log error messages like the following:\n2019-05-02 19:14:36.702 8 WARNING oslo.messaging._drivers.impl_rabbit [-] Unexpected error during heartbeart thread processing, retrying...: amqp.exceptions.ConnectionForced: Too many heartbeats missed\n\nWith this change we could not reproduce this issue during a deployment\nand no missed heartbeat messages were observed during the deploy.\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCo-Authored-By: Herv Beraud <hberaud@redhat.com>\n\nCloses-Bug: #1826281\n\nChange-Id: Id22b1465d6d2424d90781983b970aba4545feb8a\n(cherry picked from commit 2e54cff0db213494d07c72ce0f36d60831d2e84d)\n'}]",0,657090,6f55c8917101b12f4600796a681505e170969a14,7,3,1,20172,,,0,"Use oslo_rootwrap subprocess module in order to gain proper eventlet awareness

Via https://github.com/openstack/oslo.rootwrap/commit/31cfdbd4076bb6556cf9612171ba43fa44475d71
oslo.rootwrap gained support eventlet when using subprocess. By moving
to oslo_rootwrap.subprocess we make sure that with python3 the
subprocess calls use eventlet.green.subprocess if eventlet is used.
This worked on python2 because (from above commit):
""""""
On Python 2, it ""works"" to use directly subprocess: subprocess.Popen
calls os.pipe() and os.fdopen(fd) which are both monkey-patched. On
Python 3, it doesn't work because subprocess uses os.pipe() and
io.open(fd), and the io module is *not* monkey-patched at all.
""""""

By applying this change what happens is that the heartbeat thread is
able to be scheduled every 15seconds by default. Without this patch
what we have been observing with python3 is that while running ansible
mistral would constantly log error messages like the following:
2019-05-02 19:14:36.702 8 WARNING oslo.messaging._drivers.impl_rabbit [-] Unexpected error during heartbeart thread processing, retrying...: amqp.exceptions.ConnectionForced: Too many heartbeats missed

With this change we could not reproduce this issue during a deployment
and no missed heartbeat messages were observed during the deploy.

Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>
Co-Authored-By: Herv Beraud <hberaud@redhat.com>

Closes-Bug: #1826281

Change-Id: Id22b1465d6d2424d90781983b970aba4545feb8a
(cherry picked from commit 2e54cff0db213494d07c72ce0f36d60831d2e84d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/90/657090/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tripleo_common/actions/ansible.py', 'lower-constraints.txt']",3,6f55c8917101b12f4600796a681505e170969a14,bug/1826281,oslo.rootwrap==5.8.0,,3,1
openstack%2Ftripleo-quickstart-extras~master~Ifc7ef1db1c4a86adededd83ac3798d5bdb033c49,openstack/tripleo-quickstart-extras,master,Ifc7ef1db1c4a86adededd83ac3798d5bdb033c49,Add release note link in README,ABANDONED,2018-06-28 06:01:57.000000000,2019-05-04 04:48:32.000000000,,"[{'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 24752}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-06-28 06:01:57.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/791a42786ca7ca92c315b838da21524e51721abb', 'message': 'Add release note link in README\n\nChange-Id: Ifc7ef1db1c4a86adededd83ac3798d5bdb033c49\n'}]",0,578686,791a42786ca7ca92c315b838da21524e51721abb,8,6,1,27336,,,0,"Add release note link in README

Change-Id: Ifc7ef1db1c4a86adededd83ac3798d5bdb033c49
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/86/578686/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,791a42786ca7ca92c315b838da21524e51721abb,, Release notes for the project can be found at: https://docs.openstack.org/releasenotes/tripleo-quickstart-extras,,3,0
openstack%2Frequirements~master~I3067f250cf62c40b0f16117b73b0e4580de6c370,openstack/requirements,master,I3067f250cf62c40b0f16117b73b0e4580de6c370,Updated from generate-constraints,MERGED,2019-05-02 06:11:09.000000000,2019-05-04 02:40:28.000000000,2019-05-04 02:40:28.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 06:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/934dbce3c487d1d84afd29be72a1693915a24db3', 'message': 'Updated from generate-constraints\n\nChange-Id: I3067f250cf62c40b0f16117b73b0e4580de6c370\n'}, {'number': 2, 'created': '2019-05-02 17:48:45.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fc07718c9c043bf52d2d0f7206d711a362251e16', 'message': 'Updated from generate-constraints\n\nDepends-On: https://review.opendev.org/656667\n\nChange-Id: I3067f250cf62c40b0f16117b73b0e4580de6c370\n'}]",0,656736,fc07718c9c043bf52d2d0f7206d711a362251e16,12,2,2,11131,,,0,"Updated from generate-constraints

Depends-On: https://review.opendev.org/656667

Change-Id: I3067f250cf62c40b0f16117b73b0e4580de6c370
",git fetch https://review.opendev.org/openstack/requirements refs/changes/36/656736/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,934dbce3c487d1d84afd29be72a1693915a24db3,openstack/requirements/constraints/noclob,SQLAlchemy===1.3.3urllib3===1.25.2tornado===5.1.1;python_version=='2.7'dogtag-pki===10.6.9.1stestr===2.3.1kubernetes===9.0.0botocore===1.12.140Werkzeug===0.15.2jsonschema===3.0.1,SQLAlchemy===1.2.18urllib3===1.24.1tornado===4.5.3;python_version=='2.7'dogtag-pki===10.3.5.1stestr===2.2.0kubernetes===8.0.1botocore===1.12.137Werkzeug===0.14.1jsonschema===2.6.0,9,9
openstack%2Fkeystone~master~Ia5a7750cff833aa90f7fc446f396c270343fc590,openstack/keystone,master,Ia5a7750cff833aa90f7fc446f396c270343fc590,Fix for werkzeug > 0.15,MERGED,2019-05-01 16:25:50.000000000,2019-05-04 02:40:27.000000000,2019-05-04 02:40:26.000000000,"[{'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 14288}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 16:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7e83a46135dc1b92aa5a1559f2b0c5b2365b5836', 'message': ""Fix for werkzeug > 0.15\n\nWerkzeug is pickier about how Content-Type is handled in general.\nIn this case we are now explicitly checking for either Content-Type\nbeing '' or being non-existant in addition to Content-Type being set\nto json for decoding the body.\n\nChange-Id: Ia5a7750cff833aa90f7fc446f396c270343fc590\n""}, {'number': 2, 'created': '2019-05-01 19:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5a31dbaf0c523fc420e202a55bbef28384296fa6', 'message': ""Fix for werkzeug > 0.15\n\nWerkzeug is pickier about how Content-Type is handled in general.\nIn this case we are now explicitly checking for either Content-Type\nbeing '' or being non-existant in addition to Content-Type being set\nto json for decoding the body.\n\nChange-Id: Ia5a7750cff833aa90f7fc446f396c270343fc590\n""}, {'number': 3, 'created': '2019-05-01 19:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/45c553098cd3703796e0da481b9fdd76d2161211', 'message': ""Fix for werkzeug > 0.15\n\nWerkzeug is pickier about how Content-Type is handled in general.\nIn this case we are now explicitly checking for either Content-Type\nbeing '' or being non-existant in addition to Content-Type being set\nto json for decoding the body.\n\nChange-Id: Ia5a7750cff833aa90f7fc446f396c270343fc590\n""}, {'number': 4, 'created': '2019-05-01 23:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2eb7ca931999c8b97ab608821c495f04cd58fb27', 'message': ""Fix for werkzeug > 0.15\n\nWerkzeug is pickier about how Content-Type is handled in general.\nIn this case we are now explicitly checking for either Content-Type\nbeing '' or being non-existant in addition to Content-Type being set\nto json for decoding the body.\n\nChange-Id: Ia5a7750cff833aa90f7fc446f396c270343fc590\n""}, {'number': 5, 'created': '2019-05-02 00:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5d9f638f9be80013730c6639f3e98263030beed7', 'message': ""Fix for werkzeug > 0.15\n\nWerkzeug is pickier about how Content-Type is handled in general.\nIn this case we are now explicitly checking for either Content-Type\nbeing '' or being non-existant in addition to Content-Type being set\nto json for decoding the body.\n\nChange-Id: Ia5a7750cff833aa90f7fc446f396c270343fc590\n""}, {'number': 6, 'created': '2019-05-02 00:37:49.000000000', 'files': ['keystone/server/flask/request_processing/json_body.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3d31723b3bfdbb43037acf9e916740ba918e48e2', 'message': ""Fix for werkzeug > 0.15\n\nWerkzeug is pickier about how Content-Type is handled in general.\nIn this case we are now explicitly checking for either Content-Type\nbeing '' or being non-existant in addition to Content-Type being set\nto json for decoding the body.\n\nChange-Id: Ia5a7750cff833aa90f7fc446f396c270343fc590\n""}]",2,656667,3d31723b3bfdbb43037acf9e916740ba918e48e2,19,5,6,2903,,,0,"Fix for werkzeug > 0.15

Werkzeug is pickier about how Content-Type is handled in general.
In this case we are now explicitly checking for either Content-Type
being '' or being non-existant in addition to Content-Type being set
to json for decoding the body.

Change-Id: Ia5a7750cff833aa90f7fc446f396c270343fc590
",git fetch https://review.opendev.org/openstack/keystone refs/changes/67/656667/4 && git format-patch -1 --stdout FETCH_HEAD,['keystone/server/flask/request_processing/json_body.py'],1,7e83a46135dc1b92aa5a1559f2b0c5b2365b5836,," or flask.request.get('Content-Type', '') == ''):", or flask.request.headers['Content-Type'] == ''):,1,1
openstack%2Fneutron~stable%2Fstein~Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1,openstack/neutron,stable/stein,Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1,Move subnet postcommit out of transaction for bulk create,MERGED,2019-04-23 11:14:21.000000000,2019-05-04 02:40:24.000000000,2019-05-04 02:40:24.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-23 11:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b0d17833bacc10deca13a3af4cd2c689940d887b', 'message': 'Move subnet postcommit out of transaction for bulk create\n\nFor auto-address IPv6 subnets postcommit has update port action\nif the net already has ports. This results in\n""cannot be called within a transaction"" error for bulk IPv6 subnet\ncreate.\n\nCloses-Bug: #1822582\nChange-Id: Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1\n'}, {'number': 2, 'created': '2019-04-25 08:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/00ec432e267c19692883b875e7b9b831147f2ec0', 'message': 'Move subnet postcommit out of transaction for bulk create\n\nFor auto-address IPv6 subnets postcommit has update port action\nif the net already has ports. This results in\n""cannot be called within a transaction"" error for bulk IPv6 subnet\ncreate.\n\nCloses-Bug: #1822582\nChange-Id: Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1\n(cherry picked from commit 14c76d31814b8e696349a1c00ba65ef2919b48af)\n'}, {'number': 3, 'created': '2019-05-03 01:57:18.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd88d5c1aa68af30f3119508645a423f90eb92e4', 'message': 'Move subnet postcommit out of transaction for bulk create\n\nFor auto-address IPv6 subnets postcommit has update port action\nif the net already has ports. This results in\n""cannot be called within a transaction"" error for bulk IPv6 subnet\ncreate.\n\nCloses-Bug: #1822582\nChange-Id: Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1\n(cherry picked from commit 14c76d31814b8e696349a1c00ba65ef2919b48af)\n'}]",0,654956,fd88d5c1aa68af30f3119508645a423f90eb92e4,41,5,3,5948,,,0,"Move subnet postcommit out of transaction for bulk create

For auto-address IPv6 subnets postcommit has update port action
if the net already has ports. This results in
""cannot be called within a transaction"" error for bulk IPv6 subnet
create.

Closes-Bug: #1822582
Change-Id: Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1
(cherry picked from commit 14c76d31814b8e696349a1c00ba65ef2919b48af)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/654956/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/plugins/ml2/plugin.py']",4,b0d17833bacc10deca13a3af4cd2c689940d887b,bug/1822582-stable/stein," # db base plugin post commit ops self._create_subnet_postcommit(context, result) "," # TODO(kevinbenton): move this to '_after_subnet_create' # db base plugin post commit ops self._create_subnet_postcommit(context, result, net_db, ipam_sub) ",53,6
openstack%2Foslo.reports~master~I64347cfbd447605609dbe8d3628672776136d3ef,openstack/oslo.reports,master,I64347cfbd447605609dbe8d3628672776136d3ef,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:25:36.000000000,2019-05-04 02:28:30.000000000,2019-05-04 02:28:30.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-04-23 05:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/fe193ca92493cbe3b2d4e2853470772f372e4366', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I64347cfbd447605609dbe8d3628672776136d3ef\n'}, {'number': 2, 'created': '2019-04-23 05:34:33.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/8425d85fd8130a1bc15aa677e01b85aad1ea6908', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nThorough replacement of git.openstack.org URLs with\ntheir opendev.org counterparts.\n\nChange-Id: I64347cfbd447605609dbe8d3628672776136d3ef\nCloses-Bug: #1825934\n'}]",0,654733,8425d85fd8130a1bc15aa677e01b85aad1ea6908,12,4,2,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Thorough replacement of git.openstack.org URLs with
their opendev.org counterparts.

Change-Id: I64347cfbd447605609dbe8d3628672776136d3ef
Closes-Bug: #1825934
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/33/654733/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,fe193ca92493cbe3b2d4e2853470772f372e4366,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},2,2
openstack%2Fpython-cinderclient~master~If22b72452065080b24cb1b899c5a5a88b809e986,openstack/python-cinderclient,master,If22b72452065080b24cb1b899c5a5a88b809e986,Correct discover_version response,MERGED,2019-04-25 01:40:40.000000000,2019-05-04 02:11:07.000000000,2019-05-04 02:11:07.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-25 01:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/c016435acfc4cc523ef149dd5412cb6c3bf6bb0d', 'message': 'Correct discover_version response\n\nThe discover_version function was ignoring the max microversion\nsupported by the client.  This patch corrects its behavior to return\nthe most recent API version, if any, supported by both the client\nand the server it is communicating with.\n\nChange-Id: If22b72452065080b24cb1b899c5a5a88b809e986\n'}, {'number': 2, 'created': '2019-04-25 12:13:47.000000000', 'files': ['releasenotes/notes/bug-1826286-c9b68709a0d63d06.yaml', 'cinderclient/api_versions.py', 'cinderclient/tests/unit/test_api_versions.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/99769753428ba9a5252f1ba0ddb03cca3b8acc95', 'message': 'Correct discover_version response\n\nThe discover_version function was ignoring the max microversion\nsupported by the client.  This patch corrects its behavior to return\nthe most recent API version, if any, supported by both the client\nand the server it is communicating with.\n\nCloses-bug: #1826286\nChange-Id: If22b72452065080b24cb1b899c5a5a88b809e986\n'}]",0,655595,99769753428ba9a5252f1ba0ddb03cca3b8acc95,13,4,2,5314,,,0,"Correct discover_version response

The discover_version function was ignoring the max microversion
supported by the client.  This patch corrects its behavior to return
the most recent API version, if any, supported by both the client
and the server it is communicating with.

Closes-bug: #1826286
Change-Id: If22b72452065080b24cb1b899c5a5a88b809e986
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/95/655595/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1826286-c9b68709a0d63d06.yaml', 'cinderclient/api_versions.py', 'cinderclient/tests/unit/test_api_versions.py']",3,c016435acfc4cc523ef149dd5412cb6c3bf6bb0d,bug/1826286," # downgraded because of server: (""3.5"", ""3.8"", ""3.0"", ""3.7"", ""3.8"", False, ""3.7""), # downgraded because of client: (""3.5"", ""3.8"", ""3.0"", ""3.9"", ""3.9"", False, ""3.8""), # downgraded because of both: (""3.5"", ""3.7"", ""3.0"", ""3.8"", ""3.9"", False, ""3.7""),"," (""3.5"", ""3.8"", ""3.0"", ""3.7"", ""3.8"", False, ""3.7""), # downgraded",36,9
openstack%2Foslo.log~master~Ia5637f35315127c5cc46e01f5e38eccb094e772d,openstack/oslo.log,master,Ia5637f35315127c5cc46e01f5e38eccb094e772d,Use raw string for regex,MERGED,2019-04-09 20:55:27.000000000,2019-05-04 01:27:39.000000000,2019-05-04 01:27:39.000000000,"[{'_account_id': 1736}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-09 20:55:27.000000000', 'files': ['oslo_log/formatters.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/b882c312465c311dfde059d6266efca2a43ec8e0', 'message': ""Use raw string for regex\n\nSpecial characters in regular strings now cause DeprecationWarnings\nstarting with Python 3.6. This frequently happens with regex strings.\n\nOslo.log had one instance of a regex string containing '\\' that would\ncause deprecation warnings in logs. This switches that instance over to\nbe a raw string to avoid these warnings.\n\nChange-Id: Ia5637f35315127c5cc46e01f5e38eccb094e772d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,651378,b882c312465c311dfde059d6266efca2a43ec8e0,11,3,1,11904,,,0,"Use raw string for regex

Special characters in regular strings now cause DeprecationWarnings
starting with Python 3.6. This frequently happens with regex strings.

Oslo.log had one instance of a regex string containing '\' that would
cause deprecation warnings in logs. This switches that instance over to
be a raw string to avoid these warnings.

Change-Id: Ia5637f35315127c5cc46e01f5e38eccb094e772d
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/78/651378/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_log/formatters.py'],1,b882c312465c311dfde059d6266efca2a43ec8e0,deprecations,_MSG_KEY_REGEX = re.compile(r'(%+)\((\w+)\)'),_MSG_KEY_REGEX = re.compile('(%+)\((\w+)\)'),1,1
openstack%2Fneutron~stable%2Fqueens~I42cdf540129bd4470ec1a59345db9845a6198328,openstack/neutron,stable/queens,I42cdf540129bd4470ec1a59345db9845a6198328,objects: avoid deepcopying models in test_db_obj,MERGED,2019-04-06 17:11:09.000000000,2019-05-04 00:57:12.000000000,2019-05-04 00:57:12.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 10980}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-06 17:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/410714167c4518acf43b50a901fc79cc828425d5', 'message': ""objects: avoid deepcopying models in test_db_obj\n\nSQLAlchemy may asynchronously push models out of session cache in which\ncase we may receive DetachedInstanceError.\n\nIn the test case, instead of deepcopying models to compare, compare\neach modified attribute independently.\n\nThis change also includes conversion from InstrumentedLists to regular\nlists when converting model attributes to object fields. The fact that\nwe were returning InstrumentedLists was always an oversight but it\nrevealed itself after the modification of the test case that is the\ncore of this patch.\n\nWhen converting object fields to db, convert Port's distributed_binding\nNone value to a empty list to reflect that the relationship of the Port\ndatabase model is a list. It was not an issue before the patch because\nwe were not comparing model attribute for equality but for in-equality\nbefore, and so None was always != [].\n\nFinally, this patch moves a bunch of TODOs to better reflect where they\nbelong to.\n\nCloses-Bug: #1770452\nChange-Id: I42cdf540129bd4470ec1a59345db9845a6198328\n(cherry picked from commit 1a8a15f6309a56087702a0974041fa9850de4f62)\n""}, {'number': 2, 'created': '2019-04-06 20:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4dfaa38916d978ef43726c89d571fb783d3ca338', 'message': ""objects: avoid deepcopying models in test_db_obj\n\nSQLAlchemy may asynchronously push models out of session cache in which\ncase we may receive DetachedInstanceError.\n\nIn the test case, instead of deepcopying models to compare, compare\neach modified attribute independently.\n\nThis change also includes conversion from InstrumentedLists to regular\nlists when converting model attributes to object fields. The fact that\nwe were returning InstrumentedLists was always an oversight but it\nrevealed itself after the modification of the test case that is the\ncore of this patch.\n\nWhen converting object fields to db, convert Port's distributed_binding\nNone value to a empty list to reflect that the relationship of the Port\ndatabase model is a list. It was not an issue before the patch because\nwe were not comparing model attribute for equality but for in-equality\nbefore, and so None was always != [].\n\nFinally, this patch moves a bunch of TODOs to better reflect where they\nbelong to.\n\nCloses-Bug: #1770452\nChange-Id: I42cdf540129bd4470ec1a59345db9845a6198328\n(cherry picked from commit 1a8a15f6309a56087702a0974041fa9850de4f62)\n""}, {'number': 3, 'created': '2019-04-30 14:26:12.000000000', 'files': ['neutron/objects/base.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/objects/ports.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8915febaaf956a13d4dc77a120b2608769cf394d', 'message': ""objects: avoid deepcopying models in test_db_obj\n\nSQLAlchemy may asynchronously push models out of session cache in which\ncase we may receive DetachedInstanceError.\n\nIn the test case, instead of deepcopying models to compare, compare\neach modified attribute independently.\n\nThis change also includes conversion from InstrumentedLists to regular\nlists when converting model attributes to object fields. The fact that\nwe were returning InstrumentedLists was always an oversight but it\nrevealed itself after the modification of the test case that is the\ncore of this patch.\n\nWhen converting object fields to db, convert Port's distributed_binding\nNone value to a empty list to reflect that the relationship of the Port\ndatabase model is a list. It was not an issue before the patch because\nwe were not comparing model attribute for equality but for in-equality\nbefore, and so None was always != [].\n\nFinally, this patch moves a bunch of TODOs to better reflect where they\nbelong to.\n\nCloses-Bug: #1770452\nChange-Id: I42cdf540129bd4470ec1a59345db9845a6198328\n(cherry picked from commit 1a8a15f6309a56087702a0974041fa9850de4f62)\n""}]",0,650516,8915febaaf956a13d4dc77a120b2608769cf394d,21,6,3,10980,,,0,"objects: avoid deepcopying models in test_db_obj

SQLAlchemy may asynchronously push models out of session cache in which
case we may receive DetachedInstanceError.

In the test case, instead of deepcopying models to compare, compare
each modified attribute independently.

This change also includes conversion from InstrumentedLists to regular
lists when converting model attributes to object fields. The fact that
we were returning InstrumentedLists was always an oversight but it
revealed itself after the modification of the test case that is the
core of this patch.

When converting object fields to db, convert Port's distributed_binding
None value to a empty list to reflect that the relationship of the Port
database model is a list. It was not an issue before the patch because
we were not comparing model attribute for equality but for in-equality
before, and so None was always != [].

Finally, this patch moves a bunch of TODOs to better reflect where they
belong to.

Closes-Bug: #1770452
Change-Id: I42cdf540129bd4470ec1a59345db9845a6198328
(cherry picked from commit 1a8a15f6309a56087702a0974041fa9850de4f62)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/650516/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/objects/base.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/objects/ports.py']",3,410714167c4518acf43b50a901fc79cc828425d5,bug/1770452, # TODO(rossella_s): get rid of it once we switch the db model to using # custom types. # convert None to [] if 'distributed_port_binding' in result: result['distributed_port_binding'] = ( result['distributed_port_binding'] or [] ) # TODO(rossella_s): get rid of it once we switch the db model to using # custom types., # TODO(rossella_s): get rid of it once we switch the db model to using # custom types. # TODO(rossella_s): get rid of it once we switch the db model to using # custom types.,24,6
openstack%2Fneutron~stable%2Fqueens~I83394394860d10e27379efe0356d0fa9c567140e,openstack/neutron,stable/queens,I83394394860d10e27379efe0356d0fa9c567140e,Get ports query: extract limit and use it only at the end.,MERGED,2019-04-27 15:47:54.000000000,2019-05-04 00:57:10.000000000,2019-05-04 00:57:10.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-27 15:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0a471f87c838de5a521021e55c62b3c048232d0', 'message': 'Get ports query: extract limit and use it only at the end.\n\n_get_ports_query add filters after a get_collection. If limits are\npassed to applied to the query, then no additional filter is allowed.\nThis patch extracts an eventual limit argument, to apply it only after\nthe additional filters.\n\nChange-Id: I83394394860d10e27379efe0356d0fa9c567140e\nCloses-Bug: #1826186\n(cherry picked from commit cf8f3326be14d30456b20e4d1a55a36762daa550)\n'}, {'number': 2, 'created': '2019-05-02 10:11:07.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c6f7339330ceeea30b9cb673de2c8b61d8529af', 'message': 'Get ports query: extract limit and use it only at the end.\n\n_get_ports_query add filters after a get_collection. If limits are\npassed to applied to the query, then no additional filter is allowed.\nThis patch extracts an eventual limit argument, to apply it only after\nthe additional filters.\n\nChange-Id: I83394394860d10e27379efe0356d0fa9c567140e\nCloses-Bug: #1826186\n(cherry picked from commit cf8f3326be14d30456b20e4d1a55a36762daa550)\n'}]",0,656066,2c6f7339330ceeea30b9cb673de2c8b61d8529af,13,5,2,10022,,,0,"Get ports query: extract limit and use it only at the end.

_get_ports_query add filters after a get_collection. If limits are
passed to applied to the query, then no additional filter is allowed.
This patch extracts an eventual limit argument, to apply it only after
the additional filters.

Change-Id: I83394394860d10e27379efe0356d0fa9c567140e
Closes-Bug: #1826186
(cherry picked from commit cf8f3326be14d30456b20e4d1a55a36762daa550)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/656066/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py']",2,d0a471f87c838de5a521021e55c62b3c048232d0,bug/1826186," limit = kwargs.pop('limit', None) if limit: query = query.limit(limit)",,15,1
openstack%2Fswift~master~I1359c475fbe93db2f0fcc4b450be6dd5073f922e,openstack/swift,master,I1359c475fbe93db2f0fcc4b450be6dd5073f922e,py3: Stop using stdlib's putrequest(); it only does ASCII,MERGED,2019-03-12 21:19:59.000000000,2019-05-04 00:13:42.000000000,2019-05-04 00:13:42.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-12 21:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b28525b88b50fd44ec0eb4d9441d80f3d830b257', 'message': ""py3: Stop using stdlib's putrequest(); it only does ASCII\n\nSee also: https://bugs.python.org/issue36274\n\nChange-Id: I1359c475fbe93db2f0fcc4b450be6dd5073f922e\n""}, {'number': 2, 'created': '2019-03-14 05:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/39f2531a1c124213a8cbca791b618b6982cc9f49', 'message': ""py3: Stop using stdlib's putrequest(); it only does ASCII\n\nNote that this only affects the functest client.\n\nSee also: https://bugs.python.org/issue36274\n\nChange-Id: I1359c475fbe93db2f0fcc4b450be6dd5073f922e\n""}, {'number': 3, 'created': '2019-03-21 17:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c53cf08787a2d72c6473ec83d9f27a5257b5b08d', 'message': ""py3: Stop using stdlib's putrequest(); it only does ASCII\n\nNote that this only affects the functest client.\n\nSee also: https://bugs.python.org/issue36274\n\nChange-Id: I1359c475fbe93db2f0fcc4b450be6dd5073f922e\n""}, {'number': 4, 'created': '2019-03-21 23:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8522673a4faad96e1b23e96f656aecc929986dc2', 'message': ""py3: Stop using stdlib's putrequest(); it only does ASCII\n\nNote that this only affects the functest client.\n\nSee also: https://bugs.python.org/issue36274\n\nChange-Id: I1359c475fbe93db2f0fcc4b450be6dd5073f922e\n""}, {'number': 5, 'created': '2019-04-15 18:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b6cdaaaf822ab920b4e3dc3fd715a3acdd037e68', 'message': ""py3: Stop using stdlib's putrequest(); it only does ASCII\n\nNote that this only affects the functest client.\n\nSee also: https://bugs.python.org/issue36274\n\nChange-Id: I1359c475fbe93db2f0fcc4b450be6dd5073f922e\n""}, {'number': 6, 'created': '2019-04-17 19:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e38656c7872d69c36e3411200ee6bf42c6886dd0', 'message': ""py3: Stop using stdlib's putrequest(); it only does ASCII\n\nNote that this only affects the functest client.\n\nSee also: https://bugs.python.org/issue36274\n\nChange-Id: I1359c475fbe93db2f0fcc4b450be6dd5073f922e\n""}, {'number': 7, 'created': '2019-05-02 20:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ff4738f58381726f6c5ecce4a515a92651cbb3e9', 'message': ""py3: Stop using stdlib's putrequest(); it only does ASCII\n\nNote that this only affects the functest client.\n\nSee also: https://bugs.python.org/issue36274\n\nChange-Id: I1359c475fbe93db2f0fcc4b450be6dd5073f922e\n""}, {'number': 8, 'created': '2019-05-02 21:44:25.000000000', 'files': ['test/functional/swift_test_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c0ae48ba9aafb0b91869ea3bae8da07a32088777', 'message': ""py3: Stop using stdlib's putrequest(); it only does ASCII\n\nNote that this only affects the functest client.\n\nSee also: https://bugs.python.org/issue36274\n\nChange-Id: I1359c475fbe93db2f0fcc4b450be6dd5073f922e\n""}]",0,642893,c0ae48ba9aafb0b91869ea3bae8da07a32088777,22,3,8,15343,,,0,"py3: Stop using stdlib's putrequest(); it only does ASCII

Note that this only affects the functest client.

See also: https://bugs.python.org/issue36274

Change-Id: I1359c475fbe93db2f0fcc4b450be6dd5073f922e
",git fetch https://review.opendev.org/openstack/swift refs/changes/93/642893/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/bufferedhttp.py'],1,b28525b88b50fd44ec0eb4d9441d80f3d830b257,py3-func-tests,"from six.moves.urllib.parse import quote, urlsplit from eventlet.green import httplib as http_client from eventlet.green.http import client as http_client # (Mostly) inline the parent class implementation so we can # send non-ascii request lines if self._HTTPConnection__response \ and self._HTTPConnection__response.isclosed(): self._HTTPConnection__response = None if self._HTTPConnection__state == http_client._CS_IDLE: self._HTTPConnection__state = http_client._CS_REQ_STARTED else: raise http_client.CannotSendRequest(self._HTTPConnection__state) if not url: url = '/' request = '%s %s %s' % (method, url, self._http_vsn_str) if not isinstance(request, bytes): # This choice of encoding is the whole reason we copy/paste from # cpython. When making backend requests, it should never be used; # however, we have some functional tests that want to send # non-ascii bytes. self._output(request.encode('latin1')) else: self._output(request) if self._http_vsn == 11: if not skip_host: netloc = '' if url.startswith('http'): nil, netloc, nil, nil, nil = urlsplit(url) if netloc: try: netloc_enc = netloc.encode(""ascii"") except UnicodeEncodeError: netloc_enc = netloc.encode(""idna"") self.putheader('Host', netloc_enc) else: if self._tunnel_host: host = self._tunnel_host port = self._tunnel_port else: host = self.host port = self.port try: host_enc = host.encode(""ascii"") except UnicodeEncodeError: host_enc = host.encode(""idna"") if host.find(':') >= 0: host_enc = b'[' + host_enc + b']' if port == self.default_port: self.putheader('Host', host_enc) else: host_enc = host_enc.decode(""ascii"") self.putheader('Host', ""%s:%s"" % (host_enc, port)) if not skip_accept_encoding: self.putheader('Accept-Encoding', 'identity')","from six.moves.urllib.parse import quote return HTTPConnection.putrequest(self, method, url, skip_host, skip_accept_encoding)",62,3
openstack%2Fneutron~stable%2Fstein~I83394394860d10e27379efe0356d0fa9c567140e,openstack/neutron,stable/stein,I83394394860d10e27379efe0356d0fa9c567140e,Get ports query: extract limit and use it only at the end.,MERGED,2019-04-27 15:42:03.000000000,2019-05-04 00:13:39.000000000,2019-05-04 00:13:39.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 10022}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-27 15:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/18c840302ba21548f9dcb2335969a3d9b180a6f0', 'message': 'Get ports query: extract limit and use it only at the end.\n\n_get_ports_query add filters after a get_collection. If limits are\npassed to applied to the query, then no additional filter is allowed.\nThis patch extracts an eventual limit argument, to apply it only after\nthe additional filters.\n\nChange-Id: I83394394860d10e27379efe0356d0fa9c567140e\nCloses-Bug: #1826186\n(cherry picked from commit cf8f3326be14d30456b20e4d1a55a36762daa550)\n'}, {'number': 2, 'created': '2019-05-02 10:10:38.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe09b40d57d239aa4a54b6660fc28c940a3306c5', 'message': 'Get ports query: extract limit and use it only at the end.\n\n_get_ports_query add filters after a get_collection. If limits are\npassed to applied to the query, then no additional filter is allowed.\nThis patch extracts an eventual limit argument, to apply it only after\nthe additional filters.\n\nChange-Id: I83394394860d10e27379efe0356d0fa9c567140e\nCloses-Bug: #1826186\n(cherry picked from commit cf8f3326be14d30456b20e4d1a55a36762daa550)\n'}]",0,656063,fe09b40d57d239aa4a54b6660fc28c940a3306c5,19,6,2,10022,,,0,"Get ports query: extract limit and use it only at the end.

_get_ports_query add filters after a get_collection. If limits are
passed to applied to the query, then no additional filter is allowed.
This patch extracts an eventual limit argument, to apply it only after
the additional filters.

Change-Id: I83394394860d10e27379efe0356d0fa9c567140e
Closes-Bug: #1826186
(cherry picked from commit cf8f3326be14d30456b20e4d1a55a36762daa550)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/656063/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py']",2,18c840302ba21548f9dcb2335969a3d9b180a6f0,bug/1826186," limit = kwargs.pop('limit', None) if limit: query = query.limit(limit)",,15,1
openstack%2Foslo.config~master~Ief33299e46242d9435a382116cf51c2780cc1beb,openstack/oslo.config,master,Ief33299e46242d9435a382116cf51c2780cc1beb,"Revert ""Replace git.openstack.org URLs with opendev.org URLs""",MERGED,2019-05-03 20:36:15.000000000,2019-05-04 00:11:59.000000000,2019-05-04 00:11:59.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-05-03 20:36:15.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/893d6c1131f180c5c19d0f6d568061998502931c', 'message': 'Revert ""Replace git.openstack.org URLs with opendev.org URLs""\n\nThis reverts commit 034a90d005549e98e5fcd6c481ec79fe1d99bc22.\n\nChange-Id: Ief33299e46242d9435a382116cf51c2780cc1beb\n'}]",0,657032,893d6c1131f180c5c19d0f6d568061998502931c,6,3,1,15334,,,0,"Revert ""Replace git.openstack.org URLs with opendev.org URLs""

This reverts commit 034a90d005549e98e5fcd6c481ec79fe1d99bc22.

Change-Id: Ief33299e46242d9435a382116cf51c2780cc1beb
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/32/657032/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,893d6c1131f180c5c19d0f6d568061998502931c,, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt},2,2
openstack%2Fmanila~master~I97bfa5ec667971d8e392b1d517c9eb9014e2665f,openstack/manila,master,I97bfa5ec667971d8e392b1d517c9eb9014e2665f,Add NextGen generic driver,NEW,2017-10-10 20:59:33.000000000,2019-05-04 00:01:44.000000000,,"[{'_account_id': 3}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 18883}, {'_account_id': 20695}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24863}]","[{'number': 1, 'created': '2017-10-10 20:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7ce77c7f348e70feefc86f74c278110bf3c36364', 'message': 'Add NextGen generic driver\n\nChange-Id: I97bfa5ec667971d8e392b1d517c9eb9014e2665f\n'}, {'number': 2, 'created': '2017-10-10 21:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9051a4b5d18cd9209d87ba15c3ee91874b029def', 'message': 'Add NextGen generic driver\n\nDepends-On: I48516d4fd524cfa0979708239d0d5aafd0461a76\n\nChange-Id: I97bfa5ec667971d8e392b1d517c9eb9014e2665f\n'}, {'number': 3, 'created': '2017-10-10 21:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0b9c522915d20b58092b9f0afd27f0da9d4d8edf', 'message': 'Add NextGen generic driver\n\nDepends-On: I48516d4fd524cfa0979708239d0d5aafd0461a76\n\nChange-Id: I97bfa5ec667971d8e392b1d517c9eb9014e2665f\n'}, {'number': 4, 'created': '2017-10-16 03:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7ecce01bad46d6499ef2111ee2f3663075b31c6b', 'message': 'Add NextGen generic driver\n\nDepends-On: I48516d4fd524cfa0979708239d0d5aafd0461a76\n\nChange-Id: I97bfa5ec667971d8e392b1d517c9eb9014e2665f\n'}, {'number': 5, 'created': '2019-05-03 18:32:41.000000000', 'files': ['devstack/plugin.sh', 'manila/share/drivers/generic2.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/b145f2c547f3fbbc3c66023bf518c935f4c40df9', 'message': 'Add NextGen generic driver\n\nDepends-On: I48516d4fd524cfa0979708239d0d5aafd0461a76\n\nChange-Id: I97bfa5ec667971d8e392b1d517c9eb9014e2665f\n'}]",0,511038,b145f2c547f3fbbc3c66023bf518c935f4c40df9,27,11,5,2417,,,0,"Add NextGen generic driver

Depends-On: I48516d4fd524cfa0979708239d0d5aafd0461a76

Change-Id: I97bfa5ec667971d8e392b1d517c9eb9014e2665f
",git fetch https://review.opendev.org/openstack/manila refs/changes/38/511038/4 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'manila/share/drivers/generic2.py']",2,7ce77c7f348e70feefc86f74c278110bf3c36364,exports,"# Copyright (c) 2014 NetApp, Inc. # Copyright (c) 2017 Ben Swartzlander # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Next generation generic driver for shares."""""" from io import StringIO import retrying import six import time from oslo_concurrency import processutils from oslo_config import cfg from oslo_log import log from manila.common import constants as const from manila import compute from manila import context from manila import exception from manila.i18n import _ from manila.share import driver from manila.share.drivers import service_instance from manila import utils from manila import volume LOG = log.getLogger(__name__) share_opts = [ cfg.StrOpt('volume_name_template', default='manila-share-%s', help=""Volume name template.""), cfg.StrOpt('volume_snapshot_name_template', default='manila-snapshot-%s', help=""Volume snapshot name template.""), cfg.IntOpt('max_time_to_create_volume', default=180, help=""Maximum time to wait for creating cinder volume.""), cfg.IntOpt('max_time_to_extend_volume', default=180, help=""Maximum time to wait for extending cinder volume.""), cfg.IntOpt('max_time_to_attach', default=120, help=""Maximum time to wait for attaching cinder volume.""), cfg.StrOpt('cinder_volume_type', help='Name or id of cinder volume type which will be used ' 'for all volumes created by driver.'), ] CONF = cfg.CONF CONF.register_opts(share_opts) def ensure_server(f): def wrap(self, context, *args, **kwargs): server = kwargs.get('share_server') if not server: raise exception.ManilaException( _(""Share server handling is enabled. But 'share_server' "" ""is not provided. Make sure you used 'share_network'."")) if not server.get('backend_details'): raise exception.ManilaException( _(""Share server '%s' does not have backend details."") % server['id']) if not self.service_instance_manager.ensure_service_instance( context, server['backend_details']): raise exception.ServiceInstanceUnavailable() return f(self, context, *args, **kwargs) return wrap class NextGenGenericDriver(driver.ShareDriver): """"""Executes commands relating to Shares."""""" def __init__(self, *args, **kwargs): """"""Do initialization."""""" super(NextGenGenericDriver, self).__init__([True], *args, **kwargs) self.admin_context = context.get_admin_context() self.configuration.append_config_values(share_opts) self.configuration.append_config_values(driver.ssh_opts) self.backend_name = self.configuration.safe_get( 'share_backend_name') or ""NextGenGeneric"" self.ssh_connections = {} self.service_instance_manager = ( service_instance.ServiceInstanceManager( driver_config=self.configuration)) self.private_storage = kwargs.get('private_storage') def _get_ssh(self, server): connection = self.ssh_connections.get(server['instance_id']) ssh_conn_timeout = self.configuration.ssh_conn_timeout if not connection: ssh_pool = utils.SSHPool(server['ip'], 22, ssh_conn_timeout, server['username'], server.get('password'), server.get('pk_path'), max_size=1) ssh = ssh_pool.create() self.ssh_connections[server['instance_id']] = (ssh_pool, ssh) else: ssh_pool, ssh = connection if not ssh.get_transport().is_active(): ssh_pool.remove(ssh) ssh = ssh_pool.create() self.ssh_connections[server['instance_id']] = (ssh_pool, ssh) return ssh def _ssh_exec(self, server, command, check_exit_code=True): ssh = self._get_ssh(server) return processutils.ssh_execute(ssh, ' '.join(command), check_exit_code=check_exit_code) def _write_remote_file(self, server, filename, contents): ssh = self._get_ssh(server) utils.write_remote_file(ssh, filename, contents, as_root=True) def check_for_setup_error(self): """"""Returns an error if prerequisites aren't met."""""" def do_setup(self, context): """"""Any initialization the generic driver does while starting."""""" super(NextGenGenericDriver, self).do_setup(context) self.compute_api = compute.API() self.volume_api = volume.API() @ensure_server def create_share(self, context, share, share_server=None): """"""Creates share."""""" return self._create_share( context, share, snapshot=None, share_server=share_server, ) @staticmethod def _get_exports(server, path_template): if 'public_addresses' in server: pairs = list(map(lambda addr: (addr, False), server['public_addresses'])) else: pairs = [(server['public_address'], False)] # NOTE(vponomaryov): # Generic driver case: 'admin_ip' exists only in case of DHSS=True # mode and 'ip' exists in case of DHSS=False mode. # Use one of these for creation of export location for service needs. service_address = server.get(""admin_ip"", server.get(""ip"")) if service_address: pairs.append((service_address, True)) exports = [] for ip, is_admin in pairs: exports.append({ 'path': path_template % ip, 'is_admin_only': is_admin, 'metadata': {}, }) return exports def _create_share(self, context, share, snapshot, share_server=None): server_details = share_server['backend_details'] volume = self._allocate_container( self.admin_context, share, snapshot=snapshot) volume = self._attach_volume( self.admin_context, share, server_details['instance_id'], volume) device_path = volume['mountpoint'] if not snapshot: command = ('manila-mkfs', device_path) self._ssh_exec(server_details, command) share_id = share['id'] command = ('manila-mount', device_path, share_id) output, __ = self._ssh_exec(server_details, command) cookie = output.strip() self.private_storage.update(share_id, {'cookie': cookie}) proto = share['share_proto'].upper() if 'NFS' == proto: command = ('manila-nfs-create', cookie) output, __ = self._ssh_exec(server_details, command) export_path = output.strip() self.private_storage.update(share_id, {'export_path': export_path}) path_template = '%%s:%s' % export_path elif 'CIFS' == proto: command = ('manila-cifs-create', cookie) output, __ = self._ssh_exec(server_details, command) cifs_share = output.strip() self.private_storage.update(share_id, {'cifs_share': cifs_share}) path_template = '\\\\%%s\\%s' % cifs_share else: raise exception.InvalidShare( reason=""Wrong, unsupported or disabled protocol"") return self._get_exports(server_details, path_template) @utils.retry(exception.ProcessExecutionError) def _unmount_device(self, share, server_details): share_id = share['id'] cookie = self.private_storage.get(share_id, 'cookie') command = ('manila-unmount', cookie) self._ssh_exec(server_details, command) def _attach_volume(self, context, share, instance_id, volume): """"""Attaches cinder volume to service vm."""""" @utils.synchronized( ""generic_driver_attach_detach_%s"" % instance_id, external=True) def do_attach(volume): if volume['status'] == 'in-use': attached_volumes = [vol.id for vol in self.compute_api.instance_volumes_list( self.admin_context, instance_id)] if volume['id'] in attached_volumes: return volume else: raise exception.ManilaException( _('Volume %s is already attached to another instance') % volume['id']) @retrying.retry(stop_max_attempt_number=3, wait_fixed=2000, retry_on_exception=lambda exc: True) def attach_volume(): self.compute_api.instance_volume_attach( self.admin_context, instance_id, volume['id']) attach_volume() t = time.time() while time.time() - t < self.configuration.max_time_to_attach: volume = self.volume_api.get(context, volume['id']) if volume['status'] == 'in-use': return volume elif volume['status'] != 'attaching': raise exception.ManilaException( _('Failed to attach volume %s') % volume['id']) time.sleep(1) else: err_msg = { 'volume_id': volume['id'], 'max_time': self.configuration.max_time_to_attach } raise exception.ManilaException( _('Volume %(volume_id)s has not been attached in ' '%(max_time)ss. Giving up.') % err_msg) return do_attach(volume) def _get_volume_name(self, share_id): return self.configuration.volume_name_template % share_id def _get_volume(self, context, share_id): """"""Finds volume, associated to the specific share."""""" volume_id = self.private_storage.get(share_id, 'volume_id') return self.volume_api.get(context, volume_id) def _get_volume_snapshot(self, context, snapshot_id): """"""Find volume snapshot associated to the specific share snapshot."""""" volume_snapshot_id = self.private_storage.get( snapshot_id, 'volume_snapshot_id') return self.volume_api.get_snapshot(context, volume_snapshot_id) def _detach_volume(self, context, share, server_details): """"""Detaches cinder volume from service vm."""""" instance_id = server_details['instance_id'] @utils.synchronized( ""generic_driver_attach_detach_%s"" % instance_id, external=True) def do_detach(): attached_volumes = [vol.id for vol in self.compute_api.instance_volumes_list( self.admin_context, instance_id)] try: volume = self._get_volume(context, share['id']) except exception.VolumeNotFound: LOG.warning(""Volume not found for share %s. "" ""Possibly already deleted."", share['id']) volume = None if volume and volume['id'] in attached_volumes: self.compute_api.instance_volume_detach( self.admin_context, instance_id, volume['id'] ) t = time.time() while time.time() - t < self.configuration.max_time_to_attach: volume = self.volume_api.get(context, volume['id']) if volume['status'] in (const.STATUS_AVAILABLE, const.STATUS_ERROR): break time.sleep(1) else: err_msg = { 'volume_id': volume['id'], 'max_time': self.configuration.max_time_to_attach } raise exception.ManilaException( _('Volume %(volume_id)s has not been detached in ' '%(max_time)ss. Giving up.') % err_msg) do_detach() def _allocate_container(self, context, share, snapshot=None): """"""Creates cinder volume, associated to share by name."""""" volume_snapshot = None if snapshot: volume_snapshot = self._get_volume_snapshot(context, snapshot['id']) volume = self.volume_api.create( context, share['size'], self.configuration.volume_name_template % share['id'], '', snapshot=volume_snapshot, volume_type=self.configuration.cinder_volume_type, availability_zone=share['availability_zone']) self.private_storage.update( share['id'], {'volume_id': volume['id']}) msg_error = _('Failed to create volume') msg_timeout = ( _('Volume has not been created in %ss. Giving up') % self.configuration.max_time_to_create_volume ) return self._wait_for_available_volume( volume, self.configuration.max_time_to_create_volume, msg_error=msg_error, msg_timeout=msg_timeout ) def _wait_for_available_volume(self, volume, timeout, msg_error, msg_timeout, expected_size=None): t = time.time() while time.time() - t < timeout: if volume['status'] == const.STATUS_AVAILABLE: if expected_size and volume['size'] != expected_size: LOG.debug(""The volume %(vol_id)s is available but the "" ""volume size does not match the expected size. "" ""A volume resize operation may be pending. "" ""Expected size: %(expected_size)s, "" ""Actual size: %(volume_size)s."", dict(vol_id=volume['id'], expected_size=expected_size, volume_size=volume['size'])) else: break elif 'error' in volume['status'].lower(): raise exception.ManilaException(msg_error) time.sleep(1) volume = self.volume_api.get(self.admin_context, volume['id']) else: raise exception.ManilaException(msg_timeout) return volume def _deallocate_container(self, context, share): """"""Deletes cinder volume."""""" try: volume = self._get_volume(context, share['id']) except exception.VolumeNotFound: LOG.info(""Volume not found. Already deleted?"") volume = None if volume: if volume['status'] == 'in-use': raise exception.ManilaException( _('Volume is still in use and ' 'cannot be deleted now.')) self.volume_api.delete(context, volume['id']) t = time.time() while (time.time() - t < self.configuration.max_time_to_create_volume): try: volume = self.volume_api.get(context, volume['id']) except exception.VolumeNotFound: LOG.debug('Volume was deleted successfully') break time.sleep(1) else: raise exception.ManilaException( _('Volume have not been ' 'deleted in %ss. Giving up') % self.configuration.max_time_to_create_volume) def _update_share_stats(self): """"""Retrieve stats info from share volume group."""""" data = dict( share_backend_name=self.backend_name, storage_protocol='NFS_CIFS', reserved_percentage=self.configuration.reserved_share_percentage, ) super(NextGenGenericDriver, self)._update_share_stats(data) @ensure_server def create_share_from_snapshot(self, context, share, snapshot, share_server=None): """"""Is called to create share from snapshot."""""" return self._create_share( context, share, snapshot=snapshot, share_server=share_server, ) @ensure_server def extend_share(self, share, new_size, share_server=None): server_details = share_server['backend_details'] share_id = share['id'] cookie = self.private_storage.get(share_id, 'cookie') proto = share['share_proto'].lower() command = ('manila-%s-suspend' % proto, cookie) self._ssh_exec(server_details, command) command = ('manila-pre-extend', cookie) self._ssh_exec(server_details, command) volume = self._get_volume(self.admin_context, share_id) if int(new_size) > volume['size']: self._detach_volume(self.admin_context, share, server_details) volume = self._extend_volume(self.admin_context, volume, new_size) volume = self._attach_volume(self.admin_context, share, server_details['instance_id'], volume) command = ('manila-post-extend', cookie, volume['mountpoint']) self._ssh_exec(server_details, command) command = ('manila-%s-resume' % proto, cookie) self._ssh_exec(server_details, command) def _extend_volume(self, context, volume, new_size): self.volume_api.extend(context, volume['id'], new_size) msg_error = _('Failed to extend volume %s') % volume['id'] msg_timeout = ( _('Volume has not been extended in %ss. Giving up') % self.configuration.max_time_to_extend_volume ) return self._wait_for_available_volume( volume, self.configuration.max_time_to_extend_volume, msg_error=msg_error, msg_timeout=msg_timeout, expected_size=new_size ) @ensure_server def shrink_share(self, share, new_size, share_server=None): server_details = share_server['backend_details'] share_id = share['id'] cookie = self.private_storage.get(share_id, 'cookie') proto = share['share_proto'].lower() command = ('manila-%s-suspend' % proto, cookie) self._ssh_exec(server_details, command) volume = self._get_volume(self.admin_context, share_id) command = ('manila-shrink', cookie, volume['mountpoint'], six.text_type(new_size)) self._ssh_exec(server_details, command) command = ('manila-%s-resume' % proto, cookie) self._ssh_exec(server_details, command) def _is_share_server_active(self, context, share_server): """"""Check if the share server is active."""""" has_active_share_server = ( share_server and share_server.get('backend_details') and self.service_instance_manager.ensure_service_instance( context, share_server['backend_details'])) return has_active_share_server def delete_share(self, context, share, share_server=None): """"""Deletes share."""""" if self._is_share_server_active(context, share_server): server_details = share_server['backend_details'] self._remove_exports(share, server_details) self._unmount_device(share, server_details) self._detach_volume(self.admin_context, share, server_details) # Note(jun): It is an intended breakage to deal with the cases # with any reason that caused absence of Nova instances. self._deallocate_container(self.admin_context, share) self.private_storage.delete(share['id']) def create_snapshot(self, context, snapshot, share_server=None): """"""Creates a snapshot."""""" model_update = {} volume = self._get_volume( self.admin_context, snapshot['share_instance_id']) volume_snapshot_name = (self.configuration. volume_snapshot_name_template % snapshot['id']) volume_snapshot = self.volume_api.create_snapshot_force( self.admin_context, volume['id'], volume_snapshot_name, '') t = time.time() while time.time() - t < self.configuration.max_time_to_create_volume: if volume_snapshot['status'] == const.STATUS_AVAILABLE: break if volume_snapshot['status'] == const.STATUS_ERROR: raise exception.ManilaException(_('Failed to create volume ' 'snapshot')) time.sleep(1) volume_snapshot = self.volume_api.get_snapshot( self.admin_context, volume_snapshot['id']) # NOTE(xyang): We should look at whether we still need to save # volume_snapshot_id in private_storage later, now that is saved # in provider_location. self.private_storage.update( snapshot['id'], {'volume_snapshot_id': volume_snapshot['id']}) # NOTE(xyang): Need to update provider_location in the db so # that it can be used in manage/unmanage snapshot tempest tests. model_update['provider_location'] = volume_snapshot['id'] else: raise exception.ManilaException( _('Volume snapshot have not been ' 'created in %ss. Giving up') % self.configuration.max_time_to_create_volume) return model_update def delete_snapshot(self, context, snapshot, share_server=None): """"""Deletes a snapshot."""""" volume_snapshot = self._get_volume_snapshot(self.admin_context, snapshot['id']) if volume_snapshot is None: return self.volume_api.delete_snapshot(self.admin_context, volume_snapshot['id']) t = time.time() while time.time() - t < self.configuration.max_time_to_create_volume: try: snapshot = self.volume_api.get_snapshot(self.admin_context, volume_snapshot['id']) except exception.VolumeSnapshotNotFound: LOG.debug('Volume snapshot was deleted successfully') self.private_storage.delete(snapshot['id']) break time.sleep(1) else: raise exception.ManilaException( _('Volume snapshot have not been ' 'deleted in %ss. Giving up') % self.configuration.max_time_to_create_volume) def _update_access_nfs(self, share_id, access_rules, server): export_path = self.private_storage.get(share_id, 'export_path') # Write the rules to a string buffer buffer = StringIO() for access in access_rules: options = ['no_subtree_check', 'no_root_squash', 'sync', access['access_level']] access_to = access['access_to'] if '/' in access_to and 0 == int(access_to.split('/')[1]): access_to = '*' buffer.write('%s %s(%s)\n' % (export_path, access_to, u','.join(options))) export_file_contents = buffer.getvalue() buffer.close() exports_filename = '/tmp/%s.exports' % share_id self._write_remote_file(server, exports_filename, export_file_contents) cookie = self.private_storage.get(share_id, 'cookie') command = ('manila-nfs-update', cookie, exports_filename) self._ssh_exec(server, command) def _update_access_cifs(self, share_id, access_rules, server): valid_users = [] read_list = [] for access in access_rules: access_to = access['access_to'] if const.ACCESS_LEVEL_RW == access['access_level']: valid_users.append(access_to) else: read_list.append(access_to) parms_file_contents = 'valid users = %s\nread list = %s\n' % ( ' '.join(valid_users), ' '.join(read_list) ) parms_filename = '/tmp/%s.parms' % share_id self._write_remote_file(server, parms_filename, parms_file_contents) cookie = self.private_storage.get(share_id, 'cookie') command = ('manila-cifs-update', cookie, parms_filename) self._ssh_exec(server, command) @ensure_server def ensure_share(self, context, share, share_server=None): pass @ensure_server def update_access(self, context, share, access_rules, add_rules, delete_rules, share_server=None): server = share_server['backend_details'] share_id = share['id'] proto = share['share_proto'].upper() if 'NFS' == proto: self._update_access_nfs(share_id, access_rules, server) elif 'CIFS' == proto: self._update_access_cifs(share_id, access_rules, server) else: raise exception.InvalidShare( reason=""Wrong, unsupported or disabled protocol"") def _remove_exports(self, share, server): share_id = share['id'] cookie = self.private_storage.get(share_id, 'cookie') command = ('manila-%s-delete' % share['share_proto'].lower(), cookie) self._ssh_exec(server, command) def get_network_allocations_number(self): """"""Get number of network interfaces to be created."""""" # NOTE(vponomaryov): Generic driver does not need allocations, because # Nova will handle it. It is valid for all multitenant drivers, that # use service instance provided by Nova. return 0 def _setup_server(self, network_info, metadata=None): msg = ""Creating share server '%s'."" LOG.debug(msg, network_info['server_id']) server = self.service_instance_manager.set_up_service_instance( self.admin_context, network_info) self._ssh_exec(server, ['manila-init']) return server def _teardown_server(self, server_details, security_services=None): instance_id = server_details.get(""instance_id"") LOG.debug(""Removing share infrastructure for service instance '%s'."", instance_id) self.service_instance_manager.delete_service_instance( self.admin_context, server_details) ",,653,0
openstack%2Fmanila~master~I1c8d63620bdb8dc43c318bee7a9bc545755ebb99,openstack/manila,master,I1c8d63620bdb8dc43c318bee7a9bc545755ebb99,Reapply access rules when doing ensure share,NEW,2018-02-28 15:51:10.000000000,2019-05-03 23:55:17.000000000,,"[{'_account_id': 2417}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 15942}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-02-28 15:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b53bfbe5a51d75ea671760d79dfa2ca1cae4a2f9', 'message': 'Reapply access rules when doing ensure share\n\nChange-Id: I1c8d63620bdb8dc43c318bee7a9bc545755ebb99\n'}, {'number': 2, 'created': '2018-03-01 10:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0991f7cc544e92bd070f3c6de851658138b933d4', 'message': 'Reapply access rules when doing ensure share\n\nChange-Id: I1c8d63620bdb8dc43c318bee7a9bc545755ebb99\n'}, {'number': 3, 'created': '2019-01-02 20:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/df14c35fd32af5a7da694edc6a3fe030b4a50740', 'message': 'Reapply access rules when doing ensure share\n\nChange-Id: I1c8d63620bdb8dc43c318bee7a9bc545755ebb99\n'}, {'number': 4, 'created': '2019-05-03 18:32:55.000000000', 'files': ['manila/share/manager.py', 'manila/share/access.py', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/d84ad9ec7bf300e9d1a062e7e93858fa8e266d8f', 'message': 'Reapply access rules when doing ensure share\n\nChange-Id: I1c8d63620bdb8dc43c318bee7a9bc545755ebb99\n'}]",13,548624,d84ad9ec7bf300e9d1a062e7e93858fa8e266d8f,39,18,4,2417,,,0,"Reapply access rules when doing ensure share

Change-Id: I1c8d63620bdb8dc43c318bee7a9bc545755ebb99
",git fetch https://review.opendev.org/openstack/manila refs/changes/24/548624/3 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/manager.py', 'manila/share/access.py']",2,b53bfbe5a51d75ea671760d79dfa2ca1cae4a2f9,ensure-share-reapply-access," def reset_applying_rules(self, context, share_instance_id, requeue_active=False): if requeue_active: conditional_updates[constants.ACCESS_STATE_ACTIVE] = ( constants.ACCESS_STATE_QUEUED_TO_APPLY)"," def reset_applying_rules(self, context, share_instance_id):",16,6
openstack%2Ftripleo-heat-templates~master~I29e65bb828c9e66dca9a0f1206152c705f7beabf,openstack/tripleo-heat-templates,master,I29e65bb828c9e66dca9a0f1206152c705f7beabf,undercloud: increase MistralCheckInterval to 240s,ABANDONED,2019-04-11 14:41:06.000000000,2019-05-03 23:39:41.000000000,,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-11 14:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/689f26f7943d732500ba5f17af91903089ad24d7', 'message': ""undercloud: increase MistralFirstHeartBeatTimeout to 4 hours\n\n2 hours isn't enough and on deployments where Ansible takes more than 2\nhours it failed again with the same error reported in bug #1821611.\n\nIncreasing the timeout to 4 hours to follow the default timeout value in\novercloud deploy command.\n\nChange-Id: I29e65bb828c9e66dca9a0f1206152c705f7beabf\nRelated-Bug: #1821611\n""}, {'number': 2, 'created': '2019-04-12 03:10:50.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/447968debd407c6877673619ff8cc045cd48579b', 'message': 'undercloud: increase MistralCheckInterval to 240s\n\nWe increased MistralFirstHeartBeatTimeout default to 7200 (2 hours), but\nnow we hit an issue with the second heartbeat which takes more than\n30x40 seconds (20 minutes).\n\nIncreasing the timeout to 2 hours to follow the first heartbeat timeout value.\n\nChange-Id: I29e65bb828c9e66dca9a0f1206152c705f7beabf\nRelated-Bug: #1821611\n'}]",0,651802,447968debd407c6877673619ff8cc045cd48579b,9,4,2,3153,,,0,"undercloud: increase MistralCheckInterval to 240s

We increased MistralFirstHeartBeatTimeout default to 7200 (2 hours), but
now we hit an issue with the second heartbeat which takes more than
30x40 seconds (20 minutes).

Increasing the timeout to 2 hours to follow the first heartbeat timeout value.

Change-Id: I29e65bb828c9e66dca9a0f1206152c705f7beabf
Related-Bug: #1821611
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/651802/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,689f26f7943d732500ba5f17af91903089ad24d7,bug/1821611, MistralFirstHeartBeatTimeout: 14400, MistralFirstHeartBeatTimeout: 7200,1,1
openstack%2Ftripleo-heat-templates~master~Ibe43efafe9be4b56b74e46bb977f7713cdbd1ab4,openstack/tripleo-heat-templates,master,Ibe43efafe9be4b56b74e46bb977f7713cdbd1ab4,DNM - do not stop / remove docker during upgrade to podman,ABANDONED,2019-04-02 23:26:16.000000000,2019-05-03 23:39:36.000000000,,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 11082}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-02 23:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4cd72dc08ec6fc72a75f1d145faf9d0dfd43948c', 'message': 'DNM - do not stop / remove docker during upgrade to podman\n\ndebugging https://launchpad.net/bugs/1822867\ndo not review\n\nChange-Id: Ibe43efafe9be4b56b74e46bb977f7713cdbd1ab4\n'}, {'number': 2, 'created': '2019-04-02 23:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d39b397b14970e84eb0d6da1086309b98f07cc5e', 'message': 'DNM - do not stop / remove docker during upgrade to podman\n\ndebugging https://launchpad.net/bugs/1822867\ndo not review\n\nDepends-On: I6a0c1dc2e00c30da37ffd18e944c50748ae43625\nChange-Id: Ibe43efafe9be4b56b74e46bb977f7713cdbd1ab4\n'}, {'number': 3, 'created': '2019-04-03 15:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/784dbee3f177d923fd7b37cf747e95a64279c2f1', 'message': 'DNM - do not stop / remove docker during upgrade to podman\n\ndebugging https://launchpad.net/bugs/1822867\ndo not review\n\nDepends-On: I6a0c1dc2e00c30da37ffd18e944c50748ae43625\nChange-Id: Ibe43efafe9be4b56b74e46bb977f7713cdbd1ab4\n'}, {'number': 4, 'created': '2019-04-05 00:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e926f8f611ec5c78f5808305e7d98955b601f16', 'message': 'DNM - do not stop / remove docker during upgrade to podman\n\ndebugging https://launchpad.net/bugs/1822867\ndo not review\n\nDepends-On: I6a0c1dc2e00c30da37ffd18e944c50748ae43625\nChange-Id: Ibe43efafe9be4b56b74e46bb977f7713cdbd1ab4\n'}, {'number': 5, 'created': '2019-04-05 02:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db71e3bc837921013638ea277d451b105868ec6d', 'message': 'DNM - do not stop / remove docker during upgrade to podman\n\ndebugging https://launchpad.net/bugs/1822867\ndo not review\n\nDepends-On: Icbd7b919e73ab08f61ebef7ac1d6d21251b8b9d2\nChange-Id: Ibe43efafe9be4b56b74e46bb977f7713cdbd1ab4\n'}, {'number': 6, 'created': '2019-04-09 11:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/827edec4128049cb0b957ff462fb2c7f3c7d0ad6', 'message': 'DNM - do not stop / remove docker during upgrade to podman\n\ndebugging https://launchpad.net/bugs/1822867\ndo not review\n\nChange-Id: Ibe43efafe9be4b56b74e46bb977f7713cdbd1ab4\n'}, {'number': 7, 'created': '2019-04-09 11:46:40.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/260e0e5d63bb5473ba102cf9cfe66789422cc561', 'message': 'DNM - do not stop / remove docker during upgrade to podman\n\ndebugging https://launchpad.net/bugs/1822867\ndo not review\n\nChange-Id: Ibe43efafe9be4b56b74e46bb977f7713cdbd1ab4\n'}]",0,649476,260e0e5d63bb5473ba102cf9cfe66789422cc561,20,5,7,3153,,,0,"DNM - do not stop / remove docker during upgrade to podman

debugging https://launchpad.net/bugs/1822867
do not review

Change-Id: Ibe43efafe9be4b56b74e46bb977f7713cdbd1ab4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/649476/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,4cd72dc08ec6fc72a75f1d145faf9d0dfd43948c,dnm,, - name: Stop and disable Docker service when: docker_service_state.status['SubState'] == 'running' systemd: name: docker state: stopped enabled: no - name: Uninstall Docker rpm package: name: docker state: absent,0,10
openstack%2Fheat-agents~master~I3c7df59e493f02fe2c5018a025b515c2b0f50860,openstack/heat-agents,master,I3c7df59e493f02fe2c5018a025b515c2b0f50860,Update the hiera hook to work with Puppet5 and beyond.,ABANDONED,2019-01-15 18:23:03.000000000,2019-05-03 23:39:27.000000000,,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-15 18:23:03.000000000', 'files': ['releasenotes/notes/puppet5-ec4a969ac9d11f52.yaml', 'tests/test_hook_hiera.py', 'heat-config-hiera/install.d/hook-hiera.py'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/9e7b8ac8faacf01b9c956a6840614c910ea34c4a', 'message': ""Update the hiera hook to work with Puppet5 and beyond.\n\nHiera in Puppet5 has a format that isn't compatible with Puppet4, we\nhave to change the file format so it works with recent versions of\nPuppet.\n\nThis patch isn't backward compatible with old versions of Puppet. If you\nrun Puppet4, it'll likely break you.\n\nChange-Id: I3c7df59e493f02fe2c5018a025b515c2b0f50860\n""}]",2,631043,9e7b8ac8faacf01b9c956a6840614c910ea34c4a,4,2,1,3153,,,0,"Update the hiera hook to work with Puppet5 and beyond.

Hiera in Puppet5 has a format that isn't compatible with Puppet4, we
have to change the file format so it works with recent versions of
Puppet.

This patch isn't backward compatible with old versions of Puppet. If you
run Puppet4, it'll likely break you.

Change-Id: I3c7df59e493f02fe2c5018a025b515c2b0f50860
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/43/631043/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/puppet5-ec4a969ac9d11f52.yaml', 'tests/test_hook_hiera.py', 'heat-config-hiera/install.d/hook-hiera.py']",3,9e7b8ac8faacf01b9c956a6840614c910ea34c4a,puppet5,version: 5 defaults: datadir: %(datadir)s data_hash: json_data hierarchy: config_file.write(' - name: Hieradata from %s\n' % item) config_file.write(' path: %s\n' % item),:backends: - json :json: :datadir: %(datadir)s :hierarchy: config_file.write(' - %s\n' % item),18,12
openstack%2Fstackviz~master~Id2ba86c441246ccb7c2b54ae57d1fad594d5b14f,openstack/stackviz,master,Id2ba86c441246ccb7c2b54ae57d1fad594d5b14f,Add interactive guideline and detail for dstat,NEW,2017-03-07 03:48:34.000000000,2019-05-03 23:31:40.000000000,,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5689}, {'_account_id': 17001}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-03-07 03:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/825e56dea98a9aac8f5cfe7b20cd70abfd8f0f36', 'message': '[SUPER WIP] Add interactive guideline and detail for dstat\n\nSUPER WIP, so far.\n\nChange-Id: Id2ba86c441246ccb7c2b54ae57d1fad594d5b14f\n'}, {'number': 2, 'created': '2017-03-24 06:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/d806902545a85cf18432b65960df87e5afb84fa6', 'message': 'Add interactive guideline and detail for dstat\n\nThis commit adds an interactive guideline(cursor) and details for dstat\ngraph. Because users want to know individual values of them.\n\nChange-Id: Id2ba86c441246ccb7c2b54ae57d1fad594d5b14f\n'}, {'number': 3, 'created': '2017-03-24 06:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/b37e7ae222c9fe75927b5ad6be7ed0497e7df530', 'message': 'Add interactive guideline and detail for dstat\n\nThis commit adds an interactive guideline(cursor) and details for dstat\ngraph. Because users want to know individual values of them.\n\nChange-Id: Id2ba86c441246ccb7c2b54ae57d1fad594d5b14f\n'}, {'number': 4, 'created': '2017-03-27 09:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/97a521fdc52f0fbef7016a7a3ca9ee3ccdb1a3c6', 'message': 'Add interactive guideline and detail for dstat\n\nThis commit adds an interactive guideline(cursor) and details for dstat\ngraph. Because users want to know individual values of them.\n\nChange-Id: Id2ba86c441246ccb7c2b54ae57d1fad594d5b14f\n'}, {'number': 5, 'created': '2017-03-27 09:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/f9f2a52bfcaf7247cffa929a35c05d80f0d8f79d', 'message': 'Add interactive guideline and detail for dstat\n\nThis commit adds an interactive guideline(cursor) and details for dstat\ngraph. Because users want to know individual values of them.\n\nChange-Id: Id2ba86c441246ccb7c2b54ae57d1fad594d5b14f\n'}, {'number': 6, 'created': '2019-05-03 23:15:01.000000000', 'files': ['app/js/directives/timeline-dstat.js'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/a483bd65c8de265c46274c95945f95cb64af7e35', 'message': 'Add interactive guideline and detail for dstat\n\nThis commit adds an interactive guideline(cursor) and details for dstat\ngraph. Because users want to know individual values of them.\n\nChange-Id: Id2ba86c441246ccb7c2b54ae57d1fad594d5b14f\n'}]",11,442253,a483bd65c8de265c46274c95945f95cb64af7e35,20,6,6,5689,,,0,"Add interactive guideline and detail for dstat

This commit adds an interactive guideline(cursor) and details for dstat
graph. Because users want to know individual values of them.

Change-Id: Id2ba86c441246ccb7c2b54ae57d1fad594d5b14f
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/53/442253/6 && git format-patch -1 --stdout FETCH_HEAD,['app/js/directives/timeline-dstat.js'],1,825e56dea98a9aac8f5cfe7b20cd70abfd8f0f36,(HEAD,"var d3TimeFormat = require('d3-time-format'); text: ""Memory(used)"" }, { scale: d3Scale.scaleLinear().domain([0, maxes.memory_usage_cach]), value: function(d) { return d.memory_usage_cach; }, color: ""rgba(224, 224, 188, 0.75)"", text: ""Memory(cache)"" }, { scale: d3Scale.scaleLinear().domain([0, maxes.memory_usage_buff]), value: function(d) { return d.memory_usage_buff; }, color: ""rgba(102, 224, 188, 0.75)"", text: ""Memory(buff)"" } ]); var laneHeight = 10; var cursorTimeFormat = d3TimeFormat.timeFormat('%X'); // selection and hover variables var mousePoint = null; var selection = null; var hover = null; * Initializes rects from a list of parsed subunit log entries, setting * initial sizes and positions based on the current view extents. * @param {Array} data A list of parsed subunit log entries */ function createRects(data) { var rects = []; var h = 0.8 * y(1); for (var i = 0; i < data.length; i++) { var entry = data[i]; var start = absolute(+entry.startDate); rects.push({ x: start, y: y(entry.worker), width: absolute(+entry.endDate) - start, height: h, entry: entry }); } return rects; } /** var rects = createRects(data); data: data, rects: rects, /** * Find the region managing the given canvas-local X coordinate. If the x * value is outside of the actual canvas area where regions are rendered, * this may return null. Rarely, null may also be returned if, while * animating, the view moves to a position outside of capped view bounds * (i.e. when the view extents are small); if this happens, it can be * ignored and createRegions() will generate the necessary area when the * animation finishes. * @param {number} screenX the canvas-local x coordinate * @return {object|null} the matching region or null */ function getRegionAt(screenX) { if (screenX < margin.left || screenX > main.canvas.width - margin.right) { return null; } var absX = absolute(currentViewExtents[0]) + (screenX - margin.left); return regions.find(function(r) { return absX >= r.x && absX <= (r.x + r.width); }); } /** * Get the rect at the given canvas-local coordinates, if any exists. This * function has the same limitations as getRegionAt() and will return null * when the coordinates are out of bounds or rarely when animating, but also * returns null when no rect exists at the given coords. * * Note that this will only search within the region containing the * coordinates so it should be fairly performant, though it will only return * one of possibly many matching rects. * @param {number} screenX the canvas-local x coordinate * @param {number} screenY the canvas-local y coordinate * @return {object|null} the matching rect in the region or null */ function getRectAt(screenX, screenY) { if (screenY < margin.top || screenY > main.canvas.height - margin.bottom) { return null; } var region = getRegionAt(screenX); if (!region) { return null; } // find the absolute coords in rect-space var absX = absolute(currentViewExtents[0]) + (screenX - margin.left); var absY = screenY - margin.top; for (var i = 0; i < region.rects.length; i++) { var rect = region.rects[i]; if (absX >= rect.x && absX <= (rect.x + rect.width) && absY >= rect.y && absY <= (rect.y + rect.height)) { // make sure the point is contained inside the rect return rect; } } return null; } /** * Draw a single rect within a region. This may be called independently of * drawRegion() to update only a single rect, if needed. * @param {object} region the region to draw within * @param {object} rect the rect to draw * @param {boolean} [clear] if true, clear the rect first (default: false) */ function drawSingleRect(region, rect, clear) { var ctx = region.c.ctx; if (rect.entry === selection) { ctx.fillStyle = statusColorMap.selected; } else if (rect.entry === hover) { ctx.fillStyle = statusColorMap.hover; } else { ctx.fillStyle = statusColorMap[rect.entry.status]; } if (clear) { ctx.clearRect(rect.x - region.x, rect.y, rect.width, rect.height); } var filter = timelineController.filterFunction; if (!filter || filter(rect.entry)) { ctx.globalAlpha = 1.0; } else { ctx.globalAlpha = 0.15; } ctx.fillRect(rect.x - region.x, rect.y, rect.width, rect.height); ctx.strokeRect(rect.x - region.x, rect.y, rect.width, rect.height); } /** * Redraw all matching rects among all regions that contain this entry. * @param {object} entry the entry to redraw */ function drawAllForEntry(entry) { getRegionsForEntry(entry).forEach(function(region) { if (!region.c) { return; } var r = getRectForEntry(region, entry); if (r) { drawSingleRect(region, r, true); } }); } function drawCursor() { if (!mousePoint || !mousePoint.inBounds) { return; } var r = main.ratio; var ctx = main.ctx; ctx.scale(main.ratio, main.ratio); ctx.textAlign = 'center'; ctx.textBaseline = 'top'; ctx.fillStyle = 'dimgrey'; ctx.strokeStyle = 'blue'; // draw the cursor line ctx.beginPath(); ctx.moveTo(mousePoint.x, margin.top); ctx.lineTo(mousePoint.x, margin.top + height); ctx.stroke(); // draw the time label ctx.font = '9px sans-serif'; var selectedPoint = xSelected.invert(mousePoint.x - margin.left); var date = new Date(selectedPoint); // console.log(mousePoint.x, margin.left); // console.log(xSelected.invert(mousePoint.x - margin.left)); // console.log(timelineController.dstat['minimums']); // console.log(timelineController.dstat['maximums']); // console.log(timelineController.dstat['entries'][timelineController.dstat['entries'].length-1]); // console.log(timelineController.dstat['entries'][timelineController.dstat['entries'].length-1].system_time.getTime()); // console.log(timelineController.dstatInBounds(xSelected.invert(mousePoint.x - margin.left), xSelected.invert(mousePoint.x - margin.left))); var dstats = timelineController.dstatInBounds(selectedPoint, selectedPoint); // var dstat = timelineController.dstat['entries'][parseInt(xSelected.invert(mousePoint.x - margin.left))] // for (var key in dstat) { // console.log(key, dstat[key]); // } if (dstats.length !== 0) { var dstat = dstats[0]; ctx.fillText([cursorTimeFormat(date), 'cpu(usr):', dstat.total_cpu_usage_usr, 'cpu(wai):', dstat.total_cpu_usage_wai, 'net(recv):', dstat.net_total_recv, 'mem(used):', dstat.memory_usage_used, 'disk(read):', dstat.dsk_total_read, 'disk(write):', dstat.dsk_total_writ ], mousePoint.x, 16); } // draw the hovered item info if (hover) { var leftEdge = margin.left; var rightEdge = leftEdge + timelineController.width; ctx.font = 'bold 12px sans-serif'; var name = hover.name.split('.').pop(); var tw = ctx.measureText(name).width; var cx = mousePoint.x; if (mousePoint.x + (tw / 2) > rightEdge) { cx -= mousePoint.x - (rightEdge - tw / 2); } else if (mousePoint.x - (tw / 2) < leftEdge) { cx += (leftEdge + tw / 2) - mousePoint.x; } ctx.fillText(name, cx, 1); } // reset scale ctx.setTransform(1, 0, 0, 1, 0, 0); } drawCursor(); /** * Gets the canvas-local mouse point for the given mouse event, accounting * for all relevant offsets and margins. The returned object will include an * additional `inBounds` property indicating whether or not the point falls * within the bounds of the main canvas. * @param {MouseEvent} evt the mouse event * @return {object} a point object */ function getMousePoint(evt) { var r = main.canvas.getBoundingClientRect(); var ret = { xRaw: evt.clientX - r.left, x: evt.clientX - r.left, y: evt.clientY - r.top }; ret.inBounds = ret.x > margin.left && ret.x < (margin.left + timelineController.width) && ret.y > margin.top && ret.y < (margin.top + height); return ret; } main.canvas.addEventListener('mousedown', function(evt) { evt.preventDefault(); mousePoint = getMousePoint(evt); var rect = getRectAt(mousePoint.x, mousePoint.y); if (rect) { timelineController.selectItem(rect.entry); scope.$apply(); } }); main.canvas.addEventListener('mousemove', function(evt) { mousePoint = getMousePoint(evt); var rect = getRectAt(mousePoint.x, mousePoint.y); var oldHover = hover; if (rect && rect.entry !== hover) { main.canvas.style.cursor = 'pointer'; hover = rect.entry; drawAllForEntry(rect.entry); if (oldHover) { drawAllForEntry(oldHover); } } else if (!rect && hover) { main.canvas.style.cursor = 'default'; hover = null; drawAllForEntry(oldHover); } timelineController.animate(); }); main.canvas.addEventListener('mouseout', function(evt) { mousePoint = null; main.canvas.style.cursor = 'default'; timelineController.animate(); }); "," text: ""Memory"" }]); var laneHeight = 30; data: data,",294,4
openstack%2Fswift~master~I4fa4f23a485bd429e59380ef9cfd9e6f5188e603,openstack/swift,master,I4fa4f23a485bd429e59380ef9cfd9e6f5188e603,Add Zuul jobs to build docker container,ABANDONED,2019-05-03 21:39:03.000000000,2019-05-03 23:16:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-03 21:39:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/62cb1d248f60fcbed61507318cc5907154f9ded7', 'message': 'Add Zuul jobs to build docker container\n\nChange-Id: I4fa4f23a485bd429e59380ef9cfd9e6f5188e603\n'}]",0,657062,62cb1d248f60fcbed61507318cc5907154f9ded7,3,1,1,9625,,,0,"Add Zuul jobs to build docker container

Change-Id: I4fa4f23a485bd429e59380ef9cfd9e6f5188e603
",git fetch https://review.opendev.org/openstack/swift refs/changes/62/657062/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,62cb1d248f60fcbed61507318cc5907154f9ded7,build_docker_image,# Image building jobs - secret: name: swift-dockerhub data: username: screamingfrenzy password: !encrypted/pkcs1-oaep - pYB731sR3fw+DWOXi0EtUBhbz1ldSljJLIeJlzqP38fq6D2bOoSXzepijdiSrdKUqYWWD 7j5ka6/JxV3ZThwjXqN1EmHp9vcD6sO7FlnRafWPu+OmZNOLxohb7gpDqOcsd1dg6tRWR pcAx2TWsUGzZSfLVGPWZgM8fVqrt7HK2S4A9YRMdKDQvlAQmeIebb+tg7nkyOg4fwKfKP 4eVdOmWu78Fd1UpTMKaQA0oP7MBnStdaUk3VOIKh7R5fAV4zJLtvWEXUfIJx5UaUn8fi+ tbfY+d/4RKUtTwre6fTYdWJt4za/LKPAheJDK69LlaQe1MQAsw6snoGrDBNBBCRjlc0yr TMYW74oEzgh+r87FUiOY6WQGrF/6d4KXjWibiMHvQnFUOGaSlozMHKgu35rMDmdryv1P2 /CPa+oAUvQ6mP5q33Zdpp3hMYd22A5odBrPA0dSNST3CzlKv5+ucgBF8WSYQT3f5NPtPL YE6Xlm07RhpbiWjJoR9ngwV6pvbnguq5IN3ZR3zh0rkTAghdPd3CWPAyBGaUeKVuytcaD EUaYy+r9nwE7GDJmsci12mSTf/JcWgMuKbXqONwtNkxYxPV4Q3hBMj7XLhRjsuP2LR8YV tAwGmc+xCRKngC6USvWuRV5vAx6IkJgNGuDQbd0CuQjVnuO0d6xWMKfT2Lgu60= - job: name: swift-build-image parent: opendev-build-docker-image description: Build SAIO docker images. vars: &swift_image_vars docker_images: - context: . repository: openstackswift/saio - job: name: swift-upload-image parent: opendev-upload-docker-image description: Build SAIO docker images and upload to Docker Hub. secrets: name: swift_docker_credentials secret: swift-dockerhub pass-to-parent: true vars: *swift_image_vars - job: name: swift-promote-image parent: opendev-promote-docker-image description: Promote previously uploaded Docker images. secrets: name: swift_docker_credentials secret: swift-dockerhub pass-to-parent: true vars: *swift_image_vars - swift-build-image: irrelevant-files: - ^(api-ref|doc|releasenotes)/.*$ - ^test/(functional|probe)/.*$ - swift-upload-image promote: jobs: - swift-promote-image,,54,0
openstack%2Fbarbican-tempest-plugin~master~Ibb5c06ce2773e0ee13bda97717e8e18e77e0be7c,openstack/barbican-tempest-plugin,master,Ibb5c06ce2773e0ee13bda97717e8e18e77e0be7c,Add option to toggle validation of signed image,MERGED,2019-04-03 16:36:21.000000000,2019-05-03 23:06:25.000000000,2019-05-03 23:06:25.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-03 16:36:21.000000000', 'files': ['barbican_tempest_plugin/tests/scenario/test_image_signing.py', 'barbican_tempest_plugin/config.py', 'barbican_tempest_plugin/plugin.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/62ec85c79f8e487f9ef12ff771070a1e7f1a818e', 'message': ""Add option to toggle validation of signed image\n\nWithout this patch, if the barbican tempest plugin is installed in an\nenvironment running with `[glance]/verify_glance_signatures] set to\nfalse in nova.conf, which is the default value, the test will fail.\nEnabling glance signature verification unconditionally in order to\nsupport this test is not realistic, as it then prevents users from\nbooting from unsigned images which may not always be desired. This patch\nadds a configuration option to allow for disabling the\n`test_signed_image_upload_boot_failure` test, so that we can still run\nthe majority of the plugin tests for a standard environment with default\nnova configuration. The new option defaults to `True`, meaning assume\nthat nova's configuration has been overrridden to enforce image\nverification, which allows the barbican CI to run as normal with no\nconfiguration changes, but it allows operators to explicitly disable the\ntest as needed.\n\nChange-Id: Ibb5c06ce2773e0ee13bda97717e8e18e77e0be7c\n""}]",0,649670,62ec85c79f8e487f9ef12ff771070a1e7f1a818e,7,3,1,8482,,,0,"Add option to toggle validation of signed image

Without this patch, if the barbican tempest plugin is installed in an
environment running with `[glance]/verify_glance_signatures] set to
false in nova.conf, which is the default value, the test will fail.
Enabling glance signature verification unconditionally in order to
support this test is not realistic, as it then prevents users from
booting from unsigned images which may not always be desired. This patch
adds a configuration option to allow for disabling the
`test_signed_image_upload_boot_failure` test, so that we can still run
the majority of the plugin tests for a standard environment with default
nova configuration. The new option defaults to `True`, meaning assume
that nova's configuration has been overrridden to enforce image
verification, which allows the barbican CI to run as normal with no
configuration changes, but it allows operators to explicitly disable the
test as needed.

Change-Id: Ibb5c06ce2773e0ee13bda97717e8e18e77e0be7c
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/70/649670/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/tests/scenario/test_image_signing.py', 'barbican_tempest_plugin/config.py', 'barbican_tempest_plugin/plugin.py']",3,62ec85c79f8e487f9ef12ff771070a1e7f1a818e,toggle-signature-verification," conf.register_opts(project_config.ImageSignatureVerificationGroup, project_config.image_signature_verification_group)",,17,0
openstack%2Fswift~master~I64b0d8fdb2ffce786f56665a74ed7eb2603abfda,openstack/swift,master,I64b0d8fdb2ffce786f56665a74ed7eb2603abfda,Replace MIME with PUT+POST for EC and Encryption,NEW,2017-02-01 20:42:12.000000000,2019-05-03 22:59:40.000000000,,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 6968}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 9625}, {'_account_id': 13052}, {'_account_id': 13852}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 26240}]","[{'number': 1, 'created': '2017-02-01 20:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/442f483da525b9f7c9f6bdd35f412a1fb92c8974', 'message': 'WIP PUT+POST and its development test\n\n- test-ecput.py\n  N.B. The test adds -s and -n to object-server.\n- putter_map to resolve index needed at connection time\n\n(WIP)\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 2, 'created': '2017-02-04 03:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ab655e0536a224d0b97e6bf68579b53a61651730', 'message': 'WIP PUT+POST and its development test\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -s and -n to object-server.\n- putter_map to resolve index needed at connection time\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n\nTODO:\n\n- POST ends in 500\n    metadata = dict(disk_file.get_metafile_metadata())\n- cludged headers into commit... and other XXX\n- removing Connection: close breaks things, so where is the pipeline?\n\n(WIP)\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 3, 'created': '2017-02-11 04:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f5c4310bfbd7b0550853ed69fb96c6799818c9f2', 'message': 'WIP PUT+POST and its development test\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -s and -n to object-server and fixes swift-get-info.\n- putter_map to resolve index needed at connection time\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n  Other headers saved too.\n\nNOTE:\n\n- POST creates .meta with diskfile.write_metadata(), which is different\n  from what PUT does using writer.put().\n  Also, we add metadata with the same timestamp as data.\n\nTODO:\n\n- resolve XXX\n  such as PUT always calls writer.commit(), no way to create non-durable\n- verify that connection is kept open between PUT and POST\n- container updates in PUT and POST occur twice\n- potential issue with visibility between PUT and POST\n  hopefuly going to be ameliorated by reaving non-durable after PUT\n- PUT returns 201, POST returns 202 - may get visible by client\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 4, 'created': '2017-02-16 05:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/054ad491a2cf5fd8407e99a04485a11702f9952b', 'message': 'WIP PUT+POST and its development test\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -s and -n to object-server and fixes swift-get-info.\n- putter_map to resolve index needed at connection time\n- Proxy conection is kept open between PUT and POST\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n  Other headers saved too.\n\nNOTE:\n\n- POST creates .meta with diskfile.write_metadata(), which is different\n  from what PUT does using writer.put().\n  Also, we add metadata with the same timestamp as data.\n\nTODO:\n\n- resolve XXX\n  such as PUT always calls writer.commit(), no way to create non-durable\n- container updates in PUT and POST occur twice\n- potential issue with visibility between PUT and POST\n  hopefuly going to be ameliorated by reaving non-durable after PUT\n- PUT returns 201, POST returns 202 - may get visible by client\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 5, 'created': '2017-04-20 21:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fbb0a3222e517fb8306dfe794c6bd30483b06582', 'message': 'PUT+POST and its development test\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -s and -n to object-server and fixes swift-get-info.\n- Proxy conection is kept open between PUT and POST\n  Saves connection setup times, but PUT and POST are not pipelined.\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n  Other necessary headers are saved too, such as Content-Length.\n- Saving the file into temporary location at PUT, not a visible object\n- No double updates to container server anymore\n\nTODO:\n\n* unit tests are busted in the switch to the tempfile-based PUT+POST\n- resolve XXX\n- PUT returns 201, POST returns 202 - may get visible by client\n- Ensure a cleanup of tmp*/ that does not sweep fresh temporary files\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 6, 'created': '2017-04-24 01:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c767de6e3a45bebb279f1cde1fe6826730cec4b6', 'message': 'PUT+POST and its development test\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -s and -n to object-server and fixes swift-get-info.\n- Proxy conection is kept open between PUT and POST\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n  Other headers saved too.\n- Saving the file into temporary location at PUT\n- No double updates to container server anymore\n\nTODO:\n\n- resolve XXX\n- PUT returns 201, POST returns 202 - may get visible by client\n- Ensure a cleanup of tmp*/ that does not sweep fresh temporary files\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 7, 'created': '2017-04-28 00:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f5f18ccf80bc90ad9cf34e2580809d3e047c87ee', 'message': 'PUT+POST and its development test\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -s and -n to object-server and fixes swift-get-info.\n- Proxy conection is kept open between PUT and POST\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n  Other headers are saved too.\n- Saving the file into a temporary location at PUT\n- No double updates to container server anymore\n- Using conn.path\n\nTODO:\n\n- Make it so we actually fall back once in 20 minutes\n- resolve XXX\n- PUT returns 201, POST returns 202 - may get visible by client\n- Ensure a cleanup of tmp*/ that does not sweep fresh temporary files\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 8, 'created': '2017-05-02 07:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/78f47b42db89987c611761d87ef3ff2e2c28b491', 'message': 'PUT+POST and its development test\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -s and -n to object-server and fixes swift-get-info.\n- Proxy conection is kept open between PUT and POST\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n  Other headers are saved too.\n- Saving the file into a temporary location at PUT\n- No double updates to container server anymore\n- Using conn.path\n- Falls back to legacy and attempts to return after 20 minutes\n\nTODO:\n\n- Add tests\n- Resolve XXX\n- PUT returns 201, POST returns 202 - may get visible by client\n- Ensure a cleanup of tmp*/ that does not sweep fresh temporary files\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 9, 'created': '2017-05-17 22:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ee26b469b4fb5c6d22b6ae3394ae7396869764d2', 'message': 'PUT+POST and its development test\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -s and -n to object-server and fixes swift-get-info.\n- Proxy conection is kept open between PUT and POST\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n  Other headers are saved too.\n- Saving the file into a temporary location at PUT\n- No double updates to container server anymore\n- Using conn.path\n- Falls back to legacy and attempts to return after 20 minutes\n\nTODO:\n\n- Add tests\n- Resolve XXX\n- PUT returns 201, POST returns 202 - may get visible by client\n- Ensure a cleanup of tmp*/ that does not sweep fresh temporary files\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 10, 'created': '2017-06-30 13:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/78ebbecdf917b461c4c954118cf9d33f9e2e593a', 'message': 'PUT+POST and its development test\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -s and -n to object-server and fixes swift-get-info.\n- Proxy conection is kept open between PUT and POST\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n  Other headers are saved too.\n- Saving the file into a temporary location at PUT\n- No double updates to container server anymore\n- Using conn.path\n- Falls back to legacy and attempts to return after 20 minutes\n\nTODO:\n\n- Add tests\n- Resolve XXX\n- PUT returns 201, POST returns 202 - may get visible by client\n- Ensure a cleanup of tmp*/ that does not sweep fresh temporary files\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 11, 'created': '2017-07-07 20:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a1c2a2441045df33277665323ac0850d3a0579f3', 'message': 'PUT+POST and its development test\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -s and -n to object-server and fixes swift-get-info.\n- Proxy conection is kept open between PUT and POST\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n  Other headers are saved too.\n- Saving the file into a temporary location at PUT\n- No double updates to container server anymore\n- Using conn.path\n- Falls back to legacy and attempts to return after 20 minutes\n\nTODO:\n\n- do something about the relocation of _finalize_durable, too much trouble\n  - it dragged _part_power_cleanup in its wake even\n- Add tests\n- Resolve XXX\n  - move hold() to EC putter\n  - make sure etag is returned out of proxy PUT as before\n- PUT returns 201, POST returns 202 - may get visible by client\n- Ensure a cleanup of tmp*/ that does not sweep fresh temporary files\n- rename ""hold"" into ""stage"" (from tburke)\n- Make tmp IDs more opaque, remove the path. Sanitize them when supplied.\n- Verify that we reject POST with tmp ID if the temporary file is missing\n- Reduce X-Backend-Post-To-Durable and X-Backend-Temp-Id to one\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 12, 'created': '2017-07-12 00:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/21a5332322ab2bcbe4e77adb3f9dd122ea1b5b27', 'message': 'PUT+POST and its development test\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -s and -n to object-server and fixes swift-get-info.\n- Proxy conection is kept open between PUT and POST\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n  Other headers are saved too.\n- Saving the file into a temporary location at PUT\n- No double updates to container server anymore\n- Using conn.path\n- Falls back to legacy and attempts to return after 20 minutes\n- Since POST does not have a writer, relocated commit() to DiskFile\n\nTODO:\n\n- Add tests\n- Resolve XXX\n  - move hold() to EC putter\n  - make sure etag is returned out of proxy PUT as before\n- PUT returns 201, POST returns 202 - may get visible by client\n- Ensure a cleanup of tmp*/ that does not sweep fresh temporary files\n- rename ""hold"" into ""stage"" (from tburke)\n- Make tmp IDs more opaque, remove the path. Sanitize them when supplied.\n- Verify that we reject POST with tmp ID if the temporary file is missing\n- Reduce X-Backend-Post-To-Durable and X-Backend-Temp-Id to one\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 13, 'created': '2017-07-27 00:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b69978dbe94d272478ec4c8fa0b75cf79d6196f6', 'message': 'PUT+POST and its development test\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -n to object-server\n- Proxy conection is kept open between PUT and POST\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n  Other headers are saved too.\n- Saving the file into a temporary location at PUT\n- No double updates to container server anymore\n- Using conn.path\n- Falls back to legacy and attempts to return after 20 minutes\n- Since POST does not have a writer, relocated commit() to DiskFile\n\nTODO:\n\n- Add tests\n- Resolve XXX\n  - move hold() to EC putter\n  - make sure etag is returned out of proxy PUT as before\n- PUT returns 201, POST returns 202 - may get visible by client\n- Ensure a cleanup of tmp*/ that does not sweep fresh temporary files\n- rename ""hold"" into ""stage"" (from tburke)\n- Make tmp IDs more opaque, remove the path. Sanitize them when supplied.\n- Verify that we reject POST with tmp ID if the temporary file is missing\n- Reduce X-Backend-Post-To-Durable and X-Backend-Temp-Id to one\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 14, 'created': '2017-09-02 05:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8021363b7f9c61594c07cc4bd706d29fa1e7dc8c', 'message': 'PUT+POST and its development test\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -n to object-server\n- Proxy conection is kept open between PUT and POST\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n  Other headers are saved too.\n- Saving the file into a temporary location at PUT\n- No double updates to container server anymore\n- Using conn.path\n- Falls back to legacy and attempts to return after 20 minutes\n- Since POST does not have a writer, relocated commit() to DiskFile\n- Cleaned up useless *kw in make_on_disk_filename()\n\nTODO:\n\n- Add tests\n- Resolve XXX\n  - move hold() to EC putter\n  - make sure etag is returned out of proxy PUT as before\n- PUT returns 201, POST returns 202 - may get visible by client\n- Ensure a cleanup of tmp*/ that does not sweep fresh temporary files\n- rename ""hold"" into ""stage"" (from tburke)\n- Make tmp IDs more opaque, remove the path. Sanitize them when supplied.\n- Verify that we reject POST with tmp ID if the temporary file is missing\n- Reduce X-Backend-Post-To-Durable and X-Backend-Temp-Id to one\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 15, 'created': '2017-09-03 23:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/09e8fe563a98fa592a0b764b175d4043471fd174', 'message': 'PUT+POST and its development test\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -n to object-server\n- Proxy conection is kept open between PUT and POST\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n  Other headers are saved too.\n- Saving the file into a temporary location at PUT\n- No double updates to container server anymore\n- Using conn.path\n- Falls back to legacy and attempts to return after 20 minutes\n- Since POST does not have a writer, relocated commit() to DiskFile\n- Cleaned up useless *kw in make_on_disk_filename()\n\nTODO:\n\n- Add tests\n- Resolve XXX\n  - make sure etag is returned out of proxy PUT as before\n- PUT returns 201, POST returns 202 - may get visible by client\n- Ensure a cleanup of tmp*/ that does not sweep fresh temporary files\n- Make tmp IDs more opaque, remove the path. Sanitize them when supplied.\n- Verify that we reject POST with tmp ID if the temporary file is missing\n- Reduce X-Backend-Post-To-Durable and X-Backend-Temp-Id to one\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 16, 'created': '2017-09-05 03:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f5a2732a764241a3179a6d1dddbe3927d70a3696', 'message': ""PUT+POST and its development test\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -n to object-server\n- Proxy conection is kept open between PUT and POST\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n  Other headers are saved too.\n- Saving the file into a temporary location at PUT\n- No double updates to container server anymore\n- Using conn.path\n- Falls back to legacy and attempts to return after 20 minutes\n- Since POST does not have a writer, relocated commit() to DiskFile\n- Cleaned up useless *kw in make_on_disk_filename()\n- Return etag from POST, for testing reasons\n- Return 201 from POST, even if it's not very correct\n- Patched node_timeout through DoublePutter() - unlike conn.path\n\nTODO:\n\n- Add more tests\n- Resolve XXX\n- Ensure a cleanup of tmp*/ that does not sweep fresh temporary files\n- Make tmp IDs more opaque, remove the path. Sanitize them when supplied.\n- Verify that we reject POST with tmp ID if the temporary file is missing\n- Reduce X-Backend-Post-To-Durable and X-Backend-Temp-Id to one\n- Catch ChunkWriteTimeout from send_commit_confirmation()\n- Decide if the loss of transient sysmeta is bad, see the unit test\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n""}, {'number': 17, 'created': '2017-09-07 23:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/02d08298b1718dd56c9a2ac6b392e15fd071496b', 'message': ""PUT+POST and its development test\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -n to object-server\n- Proxy conection is kept open between PUT and POST\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n  Other headers are saved too.\n- Saving the file into a temporary location at PUT\n- No double updates to container server anymore\n- Using conn.path\n- Falls back to legacy and attempts to return after 20 minutes\n- Since POST does not have a writer, relocated commit() to DiskFile\n- Cleaned up useless *kw in make_on_disk_filename()\n- Return etag from POST, for testing reasons\n- Return 201 from POST, even if it's not very correct\n- Patched node_timeout through DoublePutter() - unlike conn.path\n\nTODO:\n\n- Add more tests\n- Ensure a cleanup of tmp*/ that does not sweep fresh temporary files\n- Make tmp IDs more opaque, remove the path. Sanitize them when supplied.\n- Verify that we reject POST with tmp ID if the temporary file is missing\n- Catch ChunkWriteTimeout from send_commit_confirmation()\n- Decide if the loss of transient sysmeta is bad, see the unit test\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n""}, {'number': 18, 'created': '2017-09-09 03:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ad7a81a738ce86371535bbdf94b6c359ae0bb2cd', 'message': ""PUT+POST and its development test\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -n to object-server\n- Proxy conection is kept open between PUT and POST\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n  Other headers are saved too.\n- Saving the file into a temporary location at PUT\n- No double updates to container server anymore\n- Using conn.path\n- Falls back to legacy and attempts to return after 20 minutes\n- Since POST does not have a writer, relocated commit() to DiskFile\n- Cleaned up useless *kw in make_on_disk_filename()\n- Return etag from POST, for testing reasons\n- Return 201 from POST, even if it's not very correct\n- Patched node_timeout through DoublePutter() - unlike conn.path\n\nTODO:\n\n- Add more tests\n- Ensure a cleanup of tmp*/ that does not sweep fresh temporary files\n- Verify that we reject POST with tmp ID if the temporary file is missing\n- Catch ChunkWriteTimeout from send_commit_confirmation()\n- Decide if the loss of transient sysmeta is bad, see the unit test\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n""}, {'number': 19, 'created': '2017-10-03 17:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/69ef1ba4da42fb6b3d2a6feca8ec39215db6b0a9', 'message': 'PUT+POST and its development test\n\nThis is the 3-phase version (PUT+POST+POST).\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -n to object-server\n- Proxy conection is kept open between PUT and POST\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n- Saving the file into a temporary location at PUT\n- No double updates to container server anymore\n- Using conn.path\n- Falls back to legacy and attempts to return after 20 minutes\n- Since POST does not have a writer, relocated commit() to DiskFile\n- Cleaned up useless *kw in make_on_disk_filename()\n- Return etag from 2nd POST\n- Return 201 from POST, even if it\'s not very correct\n- Patched node_timeout through DoublePutter() - unlike conn.path\n- Made sure ""v2"" returns 400 (future-proof) - a review comment by acoles\n- Made the final_phase depend on the underlying putter\n- Introduced frag_prefs, or else POST cannot open non-durable and 404\n- Preserved our meta from being filtered out\n\nTODO:\n\n- Incorporate torgomatic\'s patch that allows us to return to linkat()\n- Run functests\n- Add more unit tests - acoles volunteered to help with the framework issues\n- Ensure a cleanup of tmp*/ that does not sweep fresh temporary files\n- Catch newly-added ChunkWriteTimeout in proxy\n- [Decide if the loss of transient sysmeta is bad, see the unit test]\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 20, 'created': '2017-10-30 04:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6026560216c751abfe95db7e8d32f95b2c92663a', 'message': 'PUT+POST and its development test\n\nThis is the 3-phase version (PUT+POST+POST).\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -n to object-server\n- Proxy conection is kept open between PUT and POST\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n- Saving the file into a temporary location at PUT\n- No double updates to container server anymore\n- Using conn.path\n- Falls back to legacy and attempts to return after 20 minutes\n- Since POST does not have a writer, relocated commit() to DiskFile\n- Cleaned up useless *kw in make_on_disk_filename()\n- Return etag from 2nd POST\n- Return 201 from POST, even if it\'s not very correct\n- Patched node_timeout through DoublePutter() - unlike conn.path\n- Made sure ""v2"" returns 400 (future-proof) - a review comment by acoles\n- Made the final_phase depend on the underlying putter\n- Introduced frag_prefs, or else POST cannot open non-durable and 404\n- Preserved our meta from being filtered out\n- Removed the timer-based fallback, added the use_put_v1 knob\n- re-factored object POST to reduce technical debt w/ _post_metadata()\n- let DoublePutter to pipe chunked, pushed treatment of length into putter\n- stored the metadata in the .data like PUT, not .meta as a normal POST\n- Allow successes as well as informational responses from putters\n\nTODO:\n\n- Incorporate torgomatic\'s patch that allows us to return to linkat()\n- Add more unit tests - acoles volunteered to help with the framework issues\n- Ensure a cleanup of tmp*/ that does not sweep fresh temporary files\n- Catch newly-added ChunkWriteTimeout in proxy\n- [Decide if the loss of transient sysmeta is bad, see the unit test]\n- Find why proxy adds ""Connection: Close""\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 21, 'created': '2017-12-07 03:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/861549ebd2ab6c8a57352a1948055537fe7cfe24', 'message': 'PUT+POST and its development test\n\nThis is the 3-phase version (PUT+POST+POST).\nAlso, adds Sam\'s hanging writer patch.\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -n to object-server\n- Proxy conection is kept open between PUT and POST\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n- Saving the file into a temporary location at PUT\n- No double updates to container server anymore\n- Using conn.path\n- Falls back to legacy and attempts to return after 20 minutes\n- Since POST does not have a writer, relocated commit() to DiskFile\n- Cleaned up useless *kw in make_on_disk_filename()\n- Return etag from 2nd POST\n- Return 201 from POST, even if it\'s not very correct\n- Patched node_timeout through DoublePutter() - unlike conn.path\n- Made sure ""v2"" returns 400 (future-proof) - a review comment by acoles\n- Made the final_phase depend on the underlying putter\n- Introduced frag_prefs, or else POST cannot open non-durable and 404\n- Preserved our meta from being filtered out\n- Removed the timer-based fallback, added the use_put_v1 knob\n- re-factored object POST to reduce technical debt w/ _post_metadata()\n- let DoublePutter to pipe chunked, pushed treatment of length into putter\n- stored the metadata in the .data like PUT, not .meta as a normal POST\n- Allow successes as well as informational responses from putters\n\nTODO:\n\n- Incorporate torgomatic\'s patch that allows us to return to linkat()\n- Add more unit tests - acoles volunteered to help with the framework issues\n- Ensure a cleanup of tmp*/ that does not sweep fresh temporary files\n- Catch newly-added ChunkWriteTimeout in proxy\n- [Decide if the loss of transient sysmeta is bad, see the unit test]\n- Find why proxy adds ""Connection: Close""\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 22, 'created': '2017-12-16 04:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b732d251df8ea58d43e0944781f72c1e48896a96', 'message': 'PUT+POST and its development test\n\nThis is the 3-phase version (PUT+POST+POST).\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -n to object-server\n- Proxy conection is kept open between PUT and POST\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n- Saving the file into a temporary location at PUT\n- No double updates to container server anymore\n- Using conn.path\n- Falls back to legacy and attempts to return after 20 minutes\n- Since POST does not have a writer, relocated commit() to DiskFile\n- Cleaned up useless *kw in make_on_disk_filename()\n- Return etag from 2nd POST\n- Return 201 from POST, even if it\'s not very correct\n- Patched node_timeout through DoublePutter() - unlike conn.path\n- Made sure ""v2"" returns 400 (future-proof) - a review comment by acoles\n- Made the final_phase depend on the underlying putter\n- Introduced frag_prefs, or else POST cannot open non-durable and 404\n- Preserved our meta from being filtered out\n- Removed the timer-based fallback, added the use_put_v1 knob\n- re-factored object POST to reduce technical debt w/ _post_metadata()\n- let DoublePutter to pipe chunked, pushed treatment of length into putter\n- stored the metadata in the .data like PUT, not .meta as a normal POST\n- Allow successes as well as informational responses from putters\n- Added a persisting DiskFileWriter (in order to regain linkat())\n\nTODO:\n\n- Incorporate torgomatic\'s patch that allows us to return to linkat()\n  - almost done! just needs to make use of the persisting DiskFileWriter\n- Add more unit tests - acoles volunteered to help with the framework issues\n- Ensure a cleanup of tmp*/ that does not sweep fresh temporary files\n- Catch newly-added ChunkWriteTimeout in proxy\n- [Decide if the loss of transient sysmeta is bad, see the unit test]\n- Find why proxy adds ""Connection: Close""\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 23, 'created': '2017-12-21 05:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a6b97ff04b6aee1fa4acb1661bc97ef614f6aec5', 'message': 'PUT+POST and its development test\n\nThis is the 3-phase version (PUT+POST+POST) with a persisting DiskFile.\n\nDONE:\n\n- Added (temporarily) test-ecput.py\n  N.B. The test adds -n to object-server\n- Proxy conection is kept open between PUT and POST\n- X-Timestamp same for POST as for PUT (with X-Backend-To-Durable)\n- Saving the file into a temporary location at PUT\n- No double updates to container server anymore\n- Using conn.path\n- Falls back to legacy and attempts to return after 20 minutes\n- Since POST does not have a writer, relocated commit() to DiskFile\n- Cleaned up useless *kw in make_on_disk_filename()\n- Return etag from 2nd POST\n- Return 201 from POST, even if it\'s not very correct\n- Patched node_timeout through DoublePutter() - unlike conn.path\n- Made sure ""v2"" returns 400 (future-proof) - a review comment by acoles\n- Made the final_phase depend on the underlying putter\n- Introduced frag_prefs, or else POST cannot open non-durable and 404\n- Preserved our meta from being filtered out\n- Removed the timer-based fallback, added the use_put_v1 knob\n- re-factored object POST to reduce technical debt w/ _post_metadata()\n- let DoublePutter to pipe chunked, pushed treatment of length into putter\n- stored the metadata in the .data like PUT, not .meta as a normal POST\n- Allow successes as well as informational responses from putters\n- Added a persisting DiskFileWriter (in order to regain linkat())\n\nTODO:\n\n- Add more unit tests - acoles volunteered to help with the framework issues\n- Catch newly-added ChunkWriteTimeout in proxy\n- [Decide if the loss of transient sysmeta is bad, see the unit test]\n- Find why proxy adds ""Connection: Close""\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 24, 'created': '2018-01-23 05:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e4eabb8e31a2038438003892d5823947a3afa0bd', 'message': 'PUT+POST and its development test\n\nThis is the 3-phase version (PUT+POST+POST) with a persisting DiskFile.\n\nN.B. This version adds test-ecput.py, which needs to add -n to the\nobject server. These changes are only necessary for the development.\n\nTODO:\n\n- Add more unit tests - acoles volunteered to help with the framework issues\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 25, 'created': '2018-01-25 00:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/79fec861768bb219815e6cab80d3b1320e393b1e', 'message': 'PUT+POST and its development test\n\nThis is the 3-phase version (PUT+POST+POST) with a persisting DiskFile.\n\nN.B. This version adds test-ecput.py, which needs to add -n to the\nobject server. These changes are only necessary for the development.\n\nTODO:\n\n- Add more unit tests - acoles volunteered to help with the framework issues\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 26, 'created': '2018-03-20 22:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c71f8f231c4ab67628c2bb828a0e6bb929bd54b7', 'message': 'PUT+POST and its development test\n\nThis is the 3-phase version (PUT+POST+POST) with a persisting DiskFile.\n\nN.B. This version adds test-ecput.py, which needs to add -n to the\nobject server. These changes are only necessary for the development.\n\nTODO:\n\n- get rid of test-ecput.py\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 27, 'created': '2018-03-21 01:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/061690bbc467be6a017aaddd5c3cc79632ec55b8', 'message': 'Replace MIME with PUT+POST for EC and Encryption\n\nActually, we do not force a replacement outright, for compatibility\nand safety reasons. Instead, a configuration option is provided to\nenable the new protocol.\n\nThis is the 3-phase version (PUT+POST+POST) with a persisting DiskFile.\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 28, 'created': '2018-06-14 17:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/46ee580e707c3b8bcdcd5de49391f025a2016433', 'message': 'Replace MIME with PUT+POST for EC and Encryption\n\nActually, we do not force a replacement outright, for compatibility\nand safety reasons. Instead, a configuration option is provided to\nenable the new protocol.\n\nThis is the 3-phase version (PUT+POST+POST) with a persisting DiskFile.\n\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 29, 'created': '2018-06-26 05:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cae53f566a2a0da91013bb83518c4901bb929111', 'message': 'Replace MIME with PUT+POST for EC and Encryption\n\nActually, we do not force a replacement outright, for compatibility\nand safety reasons. Instead, a configuration option is provided to\nenable the new protocol.\n\nThis is the 3-phase version (PUT+POST+POST) with a persisting DiskFile.\n\nCo-authored-by: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 30, 'created': '2018-07-03 04:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4428ce434517b95e3ccdf91dee6f5f4df344c5c4', 'message': 'Replace MIME with PUT+POST for EC and Encryption\n\nActually, we do not force a replacement outright, for compatibility\nand safety reasons. Instead, a configuration option is provided to\nenable the new protocol.\n\nThis is the 3-phase version (PUT+POST+POST) with a persisting DiskFile.\n\nCo-authored-by: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 31, 'created': '2018-07-05 17:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/87254cfccc5497106f6ecea6c4445c3035eb4e2a', 'message': 'Replace MIME with PUT+POST for EC and Encryption\n\nActually, we do not force a replacement outright, for compatibility\nand safety reasons. Instead, a configuration option is provided to\nenable the new protocol.\n\nThis is the 3-phase version (PUT+POST+POST) with a persisting DiskFile.\n\nCo-authored-by: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 32, 'created': '2018-07-18 21:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/83256db01ae98b902df7691cad155bbdc6024080', 'message': 'Replace MIME with PUT+POST for EC and Encryption\n\nActually, we do not force a replacement outright, for compatibility\nand safety reasons. Instead, a configuration option is provided to\nenable the new protocol.\n\nThis is the 3-phase version (PUT+POST+POST) with a persisting DiskFile.\n\nCo-authored-by: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 33, 'created': '2018-09-11 21:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e1e2274a9a4236c43c5ffebe4d246b964095326c', 'message': 'Replace MIME with PUT+POST for EC and Encryption\n\nActually, we do not force a replacement outright, for compatibility\nand safety reasons. Instead, a configuration option is provided to\nenable the new protocol.\n\nThis is the 3-phase version (PUT+POST+POST) with a persisting DiskFile.\n\nCo-authored-by: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 34, 'created': '2018-09-11 21:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6affdc190ab0fba68fa29cb4fe71c8c72a7985cc', 'message': 'Replace MIME with PUT+POST for EC and Encryption\n\nActually, we do not force a replacement outright, for compatibility\nand safety reasons. Instead, a configuration option is provided to\nenable the new protocol.\n\nThis is the 3-phase version (PUT+POST+POST) with a persisting DiskFile.\n\nCo-authored-by: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 35, 'created': '2018-09-12 20:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7393798d07927fd979a8240835484acc72beb79c', 'message': 'Replace MIME with PUT+POST for EC and Encryption\n\nActually, we do not force a replacement outright, for compatibility\nand safety reasons. Instead, a configuration option is provided to\nenable the new protocol.\n\nThis is the 3-phase version (PUT+POST+POST) with a persisting DiskFile.\n\nCo-authored-by: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 36, 'created': '2018-09-13 05:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d9f04fe6f5f30597270ac980aea0ce7150186ded', 'message': 'Replace MIME with PUT+POST for EC and Encryption\n\nActually, we do not force a replacement outright, for compatibility\nand safety reasons. Instead, a configuration option is provided to\nenable the new protocol.\n\nThis is the 3-phase version (PUT+POST+POST) with a persisting DiskFile.\n\nThe Id7619a7ea356be33d3e5b3ad70d6880608320740 is not used anymore.\nInstead, we rely of DiskFileWriter.open().\n\nCo-authored-by: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}, {'number': 37, 'created': '2019-05-03 21:20:07.000000000', 'files': ['swift/obj/server.py', 'test/unit/proxy/test_server.py', 'swift/obj/mem_diskfile.py', 'test/unit/__init__.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/obj/test_server.py', 'test/unit/obj/test_diskfile.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/server.py', 'test/unit/common/middleware/test_copy.py', 'test/unit/obj/test_auditor.py', 'test/unit/proxy/test_mem_server.py', 'etc/proxy-server.conf-sample', 'test/unit/proxy/test_sysmeta.py', 'swift/common/request_helpers.py', 'swift/common/bufferedhttp.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c569071aec8369f3fe1e6d187a33e3e1d9e87431', 'message': 'Replace MIME with PUT+POST for EC and Encryption\n\nActually, we do not force a replacement outright, for compatibility\nand safety reasons. Instead, a configuration option is provided to\nenable the new protocol.\n\nThis is the 3-phase version (PUT+POST+POST) with a persisting DiskFile.\n\nThe Id7619a7ea356be33d3e5b3ad70d6880608320740 is not used anymore.\nInstead, we rely of DiskFileWriter.open().\n\nCo-authored-by: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda\n'}]",187,427911,c569071aec8369f3fe1e6d187a33e3e1d9e87431,139,13,37,597,,,0,"Replace MIME with PUT+POST for EC and Encryption

Actually, we do not force a replacement outright, for compatibility
and safety reasons. Instead, a configuration option is provided to
enable the new protocol.

This is the 3-phase version (PUT+POST+POST) with a persisting DiskFile.

The Id7619a7ea356be33d3e5b3ad70d6880608320740 is not used anymore.
Instead, we rely of DiskFileWriter.open().

Co-authored-by: Alistair Coles <alistairncoles@gmail.com>
Change-Id: I64b0d8fdb2ffce786f56665a74ed7eb2603abfda
",git fetch https://review.opendev.org/openstack/swift refs/changes/11/427911/26 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'test/unit/common/test_storage_policy.py', 'test-ecput.py', 'bin/swift-object-server', 'test/functional/__init__.py', 'test/unit/obj/test_server.py', 'swift/common/storage_policy.py', 'swift/common/wsgi.py', 'swift/proxy/controllers/obj.py', 'test/unit/common/test_wsgi.py', 'swift/obj/diskfile.py']",11,442f483da525b9f7c9f6bdd35f412a1fb92c8974,ecputpost," # P3 fp = open(""/tmp/dump"", 'a') fp.write(""BaseDiskFileWriter.commit %s\n"" % self._name) fp.close() # P3 fp = open(""/tmp/dump"", 'a') fp.write(""DiskFileWriter.put %s\n"" % self._name) fp.close() # P3 fp = open(""/tmp/dump"", 'a') fp.write(""ECDiskFileWriter.commit %s\n"" % self._name) fp.close() # P3 fp = open(""/tmp/dump"", 'a') fp.write(""ECDiskFileWriter.put %s\n"" % self._name) fp.close()",,577,71
openstack%2Fi18n~master~I58a8304adbb63ed30b3a32b342d4a723be36dda6,openstack/i18n,master,I58a8304adbb63ed30b3a32b342d4a723be36dda6,Update links to opendev.org,MERGED,2019-04-20 22:36:58.000000000,2019-05-03 22:49:37.000000000,2019-05-03 22:49:36.000000000,"[{'_account_id': 14482}, {'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-20 22:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/a35c146b4818e51711aef2c6193b8b8a7b8cf8a4', 'message': 'Update links to git repos\n\nChange-Id: I58a8304adbb63ed30b3a32b342d4a723be36dda6\n'}, {'number': 2, 'created': '2019-04-24 14:06:43.000000000', 'files': ['doc/source/ptl.rst', 'doc/source/check_translation.rst', 'doc/source/atc-stats.rst', 'doc/source/reviewing-translation-import.rst', 'doc/source/official_translator.rst', 'doc/source/infra.rst', 'doc/source/i18n_team_meeting.rst', 'doc/source/translation_stats.rst', 'doc/source/translation_tips.rst'], 'web_link': 'https://opendev.org/openstack/i18n/commit/de15bc991d3adbff989e60c914b4f1a497bf79ac', 'message': 'Update links to opendev.org\n\nChange-Id: I58a8304adbb63ed30b3a32b342d4a723be36dda6\n'}]",11,654069,de15bc991d3adbff989e60c914b4f1a497bf79ac,11,3,2,17765,,,0,"Update links to opendev.org

Change-Id: I58a8304adbb63ed30b3a32b342d4a723be36dda6
",git fetch https://review.opendev.org/openstack/i18n refs/changes/69/654069/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ptl.rst', 'doc/source/check_translation.rst', 'doc/source/atc-stats.rst', 'doc/source/official_translator.rst', 'doc/source/infra.rst', 'doc/source/translation_stats.rst', 'doc/source/translation_tips.rst']",7,a35c146b4818e51711aef2c6193b8b8a7b8cf8a4,,``https://opendev.org/openstack/<Zanata-project-name>/``.https://opendev.org/openstack/horizon/.,``http://git.openstack.org/cgit/openstack/<Zanata-project-name>/``.http://git.openstack.org/cgit/openstack/horizon/.,27,28
openstack%2Fcharm-specs~master~Iff03e143f6719637f98abbc56978657e0abf2723,openstack/charm-specs,master,Iff03e143f6719637f98abbc56978657e0abf2723,Train opening,MERGED,2019-05-03 22:26:03.000000000,2019-05-03 22:49:26.000000000,2019-05-03 22:49:26.000000000,"[{'_account_id': 20635}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 22:26:03.000000000', 'files': ['specs/train/approved/release-notes-migration-to-reno.rst', 'specs/stein/implemented/ceph-rbd-mirror.rst', 'specs/stein/implemented/keystone-federation.rst', 'specs/train/backlog/charm-panko.rst', 'specs/train/redirects', 'specs/train/backlog/controlled-service-restarts.rst', 'doc/source/specs/train/implemented', 'doc/source/specs/train/index.rst', 'specs/train/backlog/swift-extended-cluster-operations.rst', 'specs/train/backlog/service-discovery.rst', 'specs/stein/implemented/radosgw-multi-site.rst', 'specs/train/backlog/ceph-storage-action.rst', 'doc/source/specs/train/backlog', 'specs/train/approved/charm-openstack-ovn.rst', 'specs/train/backlog/openstack-load-balancer.rst', 'doc/source/specs/train/approved', 'doc/source/specs/train/redirects', 'doc/source/specs/train/template.rst', 'specs/stein/implemented/keystone-goal-state.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/007770c3db5f188ae3dab5cb0b9146eb443f4f31', 'message': 'Train opening\n\nTidy Stein specs based on status.\n\nMove backport to Train.\n\nMove OVN to approved for Train.\n\nChange-Id: Iff03e143f6719637f98abbc56978657e0abf2723\n'}]",0,657073,007770c3db5f188ae3dab5cb0b9146eb443f4f31,7,3,1,935,,,0,"Train opening

Tidy Stein specs based on status.

Move backport to Train.

Move OVN to approved for Train.

Change-Id: Iff03e143f6719637f98abbc56978657e0abf2723
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/73/657073/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/train/approved/release-notes-migration-to-reno.rst', 'specs/stein/implemented/ceph-rbd-mirror.rst', 'specs/stein/implemented/keystone-federation.rst', 'specs/train/backlog/charm-panko.rst', 'specs/train/redirects', 'specs/train/backlog/controlled-service-restarts.rst', 'doc/source/specs/train/implemented', 'doc/source/specs/train/index.rst', 'specs/train/backlog/swift-extended-cluster-operations.rst', 'specs/train/backlog/service-discovery.rst', 'specs/stein/implemented/radosgw-multi-site.rst', 'specs/train/backlog/ceph-storage-action.rst', 'doc/source/specs/train/backlog', 'specs/train/approved/charm-openstack-ovn.rst', 'specs/train/backlog/openstack-load-balancer.rst', 'doc/source/specs/train/approved', 'doc/source/specs/train/redirects', 'doc/source/specs/train/template.rst', 'specs/stein/implemented/keystone-goal-state.rst']",19,007770c3db5f188ae3dab5cb0b9146eb443f4f31,train-opening,,,39,0
