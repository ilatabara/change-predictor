id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fxena~Ib6b911d02972e54c6c306b074835ed1baf2d8de7,openstack/openstack-ansible-haproxy_server,stable/xena,Ib6b911d02972e54c6c306b074835ed1baf2d8de7,Update tox.ini to work with 4.0,MERGED,2022-12-29 16:28:49.000000000,2022-12-30 18:49:52.000000000,2022-12-30 18:48:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-12-29 16:28:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/0a5279669967cdf34dda41559398c0afa4b60db0', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Ib6b911d02972e54c6c306b074835ed1baf2d8de7'}]",0,868881,0a5279669967cdf34dda41559398c0afa4b60db0,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Ib6b911d02972e54c6c306b074835ed1baf2d8de7",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/81/868881/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0a5279669967cdf34dda41559398c0afa4b60db0,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-os_swift~stable%2Fxena~I6140e79707f50c2cad8bc8373b15d213e3dbc219,openstack/openstack-ansible-os_swift,stable/xena,I6140e79707f50c2cad8bc8373b15d213e3dbc219,Update tox.ini to work with 4.0,MERGED,2022-12-29 16:29:08.000000000,2022-12-30 18:49:22.000000000,2022-12-30 18:48:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-12-29 16:29:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/104b5b295835a6b87c88f3a8c14ea81c53221d45', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I6140e79707f50c2cad8bc8373b15d213e3dbc219'}]",0,868894,104b5b295835a6b87c88f3a8c14ea81c53221d45,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I6140e79707f50c2cad8bc8373b15d213e3dbc219",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/94/868894/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,104b5b295835a6b87c88f3a8c14ea81c53221d45,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-os_magnum~stable%2Fxena~Ic6d66a3ffff83af20af029f8be39770124ec4520,openstack/openstack-ansible-os_magnum,stable/xena,Ic6d66a3ffff83af20af029f8be39770124ec4520,Update tox.ini to work with 4.0,MERGED,2022-12-29 16:29:02.000000000,2022-12-30 18:49:15.000000000,2022-12-30 18:48:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-12-29 16:29:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/81ca2a766d29b7df445ab0ddb7e510c2537c979e', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Ic6d66a3ffff83af20af029f8be39770124ec4520'}]",0,868890,81ca2a766d29b7df445ab0ddb7e510c2537c979e,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Ic6d66a3ffff83af20af029f8be39770124ec4520",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/90/868890/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,81ca2a766d29b7df445ab0ddb7e510c2537c979e,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-os_murano~stable%2Fxena~I50f674241b0b93823de84954a89f876785334b3e,openstack/openstack-ansible-os_murano,stable/xena,I50f674241b0b93823de84954a89f876785334b3e,Update tox.ini to work with 4.0,MERGED,2022-12-29 16:29:01.000000000,2022-12-30 18:44:53.000000000,2022-12-30 18:43:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-12-29 16:29:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/ca8ed73116561d3006098c760f598ec76f1886c2', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I50f674241b0b93823de84954a89f876785334b3e'}]",0,868889,ca8ed73116561d3006098c760f598ec76f1886c2,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I50f674241b0b93823de84954a89f876785334b3e",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/89/868889/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ca8ed73116561d3006098c760f598ec76f1886c2,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fironic-python-agent-builder~master~I3dd1ab78de71a2a2feb9e7d59612b5c2a09e1f4a,openstack/ironic-python-agent-builder,master,I3dd1ab78de71a2a2feb9e7d59612b5c2a09e1f4a,Fix tox4 and setuptools errors,MERGED,2022-12-28 14:02:53.000000000,2022-12-30 14:56:02.000000000,2022-12-30 14:55:06.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-28 14:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/7f4ed06657fee3d6367dea96c1e85164706426b8', 'message': 'Fix tox4 error\n\nRemove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n\nChange-Id: I3dd1ab78de71a2a2feb9e7d59612b5c2a09e1f4a\n'}, {'number': 2, 'created': '2022-12-28 14:44:41.000000000', 'files': ['setup.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/9416e82903292bae08cabcc09f7e9707f36eb8b0', 'message': 'Fix tox4 and setuptools errors\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- disable setuptools autodiscovery\n\nChange-Id: I3dd1ab78de71a2a2feb9e7d59612b5c2a09e1f4a\n'}]",0,868753,9416e82903292bae08cabcc09f7e9707f36eb8b0,10,2,2,23851,,,0,"Fix tox4 and setuptools errors

- Remove skipsdist that it was never supported and causes breakage
when used with usedevelop.
- disable setuptools autodiscovery

Change-Id: I3dd1ab78de71a2a2feb9e7d59612b5c2a09e1f4a
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/53/868753/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7f4ed06657fee3d6367dea96c1e85164706426b8,moar-tox4-fix,,skipsdist = True,0,1
openstack%2Fkolla-ansible~stable%2Fzed~Iecd9a5727f8e4caf1b478ed58722e0607390ba99,openstack/kolla-ansible,stable/zed,Iecd9a5727f8e4caf1b478ed58722e0607390ba99,"Revert ""[release] Update ansible-collection-kolla to stable/zed""",ABANDONED,2022-12-30 14:13:49.000000000,2022-12-30 14:18:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-12-30 14:13:49.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aecbe03b46fcc471e85bafea9bddc3c2bb18362a', 'message': 'Revert ""[release] Update ansible-collection-kolla to stable/zed""\n\nThis reverts commit 688fa215fc37ae725a9106e3b050ce9a322f733c.\n\nReason for revert: Zed is released\n\nChange-Id: Iecd9a5727f8e4caf1b478ed58722e0607390ba99\n'}]",0,868775,aecbe03b46fcc471e85bafea9bddc3c2bb18362a,2,3,1,22629,,,0,"Revert ""[release] Update ansible-collection-kolla to stable/zed""

This reverts commit 688fa215fc37ae725a9106e3b050ce9a322f733c.

Reason for revert: Zed is released

Change-Id: Iecd9a5727f8e4caf1b478ed58722e0607390ba99
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/75/868775/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,aecbe03b46fcc471e85bafea9bddc3c2bb18362a,, version: master, version: stable/zed,1,1
openstack%2Fkolla-ansible~stable%2Fzed~I75a09ec80173a8694457e9324bca466d61c4b664,openstack/kolla-ansible,stable/zed,I75a09ec80173a8694457e9324bca466d61c4b664,"Revert ""[release] Use Zed images in stable/zed""",ABANDONED,2022-12-30 14:13:14.000000000,2022-12-30 14:17:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-12-30 14:13:14.000000000', 'files': ['ansible/group_vars/all.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b6c3b200eb0738d30e41c5b229b454864f139105', 'message': 'Revert ""[release] Use Zed images in stable/zed""\n\nThis reverts commit f0ab54b0d9e09f8ea9357cbf3f8f08b8ef6ed961.\n\nReason for revert: Zed is released\n\nChange-Id: I75a09ec80173a8694457e9324bca466d61c4b664\n'}]",0,868774,b6c3b200eb0738d30e41c5b229b454864f139105,2,3,1,22629,,,0,"Revert ""[release] Use Zed images in stable/zed""

This reverts commit f0ab54b0d9e09f8ea9357cbf3f8f08b8ef6ed961.

Reason for revert: Zed is released

Change-Id: I75a09ec80173a8694457e9324bca466d61c4b664
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/74/868774/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'etc/kolla/globals.yml']",2,b6c3b200eb0738d30e41c5b229b454864f139105,,"#openstack_release: ""master""","#openstack_release: ""zed""",2,2
openstack%2Fkolla-ansible~stable%2Fzed~I80026fce59fb517024c25c86037474a978f953e1,openstack/kolla-ansible,stable/zed,I80026fce59fb517024c25c86037474a978f953e1,[release] Update ansible-collection-kolla to stable/zed,MERGED,2022-12-13 14:25:22.000000000,2022-12-30 14:13:49.000000000,2022-12-13 17:06:57.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-12-13 14:25:22.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/688fa215fc37ae725a9106e3b050ce9a322f733c', 'message': '[release] Update ansible-collection-kolla to stable/zed\n\nChange-Id: I80026fce59fb517024c25c86037474a978f953e1\n'}]",0,867516,688fa215fc37ae725a9106e3b050ce9a322f733c,10,3,1,23084,,,0,"[release] Update ansible-collection-kolla to stable/zed

Change-Id: I80026fce59fb517024c25c86037474a978f953e1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/867516/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,688fa215fc37ae725a9106e3b050ce9a322f733c,, version: stable/zed, version: master,1,1
openstack%2Fkolla-ansible~stable%2Fzed~I82ae8bc51bca988c404d4c63eb9cc027317ac5dd,openstack/kolla-ansible,stable/zed,I82ae8bc51bca988c404d4c63eb9cc027317ac5dd,[release] Use Zed images in stable/zed,MERGED,2022-12-13 14:37:23.000000000,2022-12-30 14:13:14.000000000,2022-12-13 17:38:06.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-12-13 14:37:23.000000000', 'files': ['ansible/group_vars/all.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f0ab54b0d9e09f8ea9357cbf3f8f08b8ef6ed961', 'message': '[release] Use Zed images in stable/zed\n\nChange-Id: I82ae8bc51bca988c404d4c63eb9cc027317ac5dd\n'}]",0,867519,f0ab54b0d9e09f8ea9357cbf3f8f08b8ef6ed961,10,3,1,23084,,,0,"[release] Use Zed images in stable/zed

Change-Id: I82ae8bc51bca988c404d4c63eb9cc027317ac5dd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/867519/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'etc/kolla/globals.yml']",2,f0ab54b0d9e09f8ea9357cbf3f8f08b8ef6ed961,,"#openstack_release: ""zed""","#openstack_release: ""master""",2,2
openstack%2Fansible-collections-openstack~master~I63ad716415755d2a140a6ade97d22bd18236a0df,openstack/ansible-collections-openstack,master,I63ad716415755d2a140a6ade97d22bd18236a0df,"Improved compatibility with both tox>3,<4 and tox>=4",MERGED,2022-12-27 11:09:12.000000000,2022-12-30 14:12:38.000000000,2022-12-30 14:12:38.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-12-27 11:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c5778668a2a35ea82c165a9994624f3fc259433c', 'message': '[DNM] Tox 4 compatibility\n\nChange-Id: I63ad716415755d2a140a6ade97d22bd18236a0df\n'}, {'number': 2, 'created': '2022-12-27 11:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7535501338b3827b5e762d14628ae2c0d9c2f3d4', 'message': '[DNM] Tox 4 compatibility\n\nChange-Id: I63ad716415755d2a140a6ade97d22bd18236a0df\n'}, {'number': 3, 'created': '2022-12-27 12:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5c3da2e6d3c7e36255c35f73d21cb5647ce9b89c', 'message': '[DNM] Tox 4 compatibility\n\nChange-Id: I63ad716415755d2a140a6ade97d22bd18236a0df\n'}, {'number': 4, 'created': '2022-12-27 20:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5a84cd3bacd7a4acb930b5317f93cabeea301e11', 'message': '[DNM] Tox 4 compatibility\n\nChange-Id: I63ad716415755d2a140a6ade97d22bd18236a0df\n'}, {'number': 5, 'created': '2022-12-28 08:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/941949574073524b4d84425960101cd0ac4399ef', 'message': '[DNM] Tox 4 compatibility\n\nChange-Id: I63ad716415755d2a140a6ade97d22bd18236a0df\n'}, {'number': 6, 'created': '2022-12-28 17:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0d7c90d26712d53551abe07851ff3cd32ecf10f9', 'message': '[DNM] Tox 4 compatibility\n\nChange-Id: I63ad716415755d2a140a6ade97d22bd18236a0df\n'}, {'number': 7, 'created': '2022-12-29 11:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a3c5f23ae54161d9b55af23c9ddf9cf773d20fdb', 'message': '[DNM] Improved Tox 4 compatibility\n\nChange-Id: I63ad716415755d2a140a6ade97d22bd18236a0df\n'}, {'number': 8, 'created': '2022-12-29 12:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0efb1f79b21f57abafa0f699f126d303c617e1e6', 'message': '[DNM] Refactored Tox configuration\n\nImproved compatibility with both tox>3,<4 and tox>=4.\n\nChange-Id: I63ad716415755d2a140a6ade97d22bd18236a0df\n'}, {'number': 9, 'created': '2022-12-29 12:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/24745d499be5f334d315a9b55edf11175be120d5', 'message': '[DNM] Refactored Tox configuration\n\nImproved compatibility with both tox>3,<4 and tox>=4.\n\nTox>3,<4 does not support dots in generative envlists and tox>=4 changed\nits behaviour when it detects hyphens in env names [1].\n\n[1] https://github.com/tox-dev/tox/blob/0580121601a5949957dd9344beb1f289c66f16a2/src/tox/tox_env/python/api.py#L130\n\nChange-Id: I63ad716415755d2a140a6ade97d22bd18236a0df\n'}, {'number': 10, 'created': '2022-12-29 12:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/89ae46b9455bc5416f54d10aec0f7c6a88a0129b', 'message': '[DNM] Refactored Tox configuration\n\nImproved compatibility with both tox>3,<4 and tox>=4.\n\nTox>3,<4 does not support dots in generative envlists and tox>=4 changed\nits behaviour when it detects hyphens in env names [1].\n\n[1] https://github.com/tox-dev/tox/blob/0580121601a5949957dd9344beb1f289c66f16a2/src/tox/tox_env/python/api.py#L130\n\nChange-Id: I63ad716415755d2a140a6ade97d22bd18236a0df\n'}, {'number': 11, 'created': '2022-12-29 16:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/57bfdabf3e5a963c5cd9a05f1d2d0de4f746d68e', 'message': '[DNM] Refactored Tox configuration\n\nImproved compatibility with both tox>3,<4 and tox>=4.\n\nTox>3,<4 does not support dots in generative envlists and tox>=4 changed\nits behaviour when it detects hyphens in env names [1].\n\n[1] https://github.com/tox-dev/tox/blob/0580121601a5949957dd9344beb1f289c66f16a2/src/tox/tox_env/python/api.py#L130\n\nChange-Id: I63ad716415755d2a140a6ade97d22bd18236a0df\n'}, {'number': 12, 'created': '2022-12-30 09:39:42.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7945d7f01a555ee801ce7ede6813c518774f3989', 'message': 'Improved compatibility with both tox>3,<4 and tox>=4\n\nTox>3,<4 does not support dots in generative envlists and tox>=4 changed\nits behaviour when it detects hyphens in env names [1].\n\n[1] https://github.com/tox-dev/tox/blob/0580121601a5949957dd9344beb1f289c66f16a2/src/tox/tox_env/python/api.py#L130\n\nChange-Id: I63ad716415755d2a140a6ade97d22bd18236a0df\n'}]",1,868675,7945d7f01a555ee801ce7ede6813c518774f3989,28,3,12,32962,,,0,"Improved compatibility with both tox>3,<4 and tox>=4

Tox>3,<4 does not support dots in generative envlists and tox>=4 changed
its behaviour when it detects hyphens in env names [1].

[1] https://github.com/tox-dev/tox/blob/0580121601a5949957dd9344beb1f289c66f16a2/src/tox/tox_env/python/api.py#L130

Change-Id: I63ad716415755d2a140a6ade97d22bd18236a0df
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/75/868675/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c5778668a2a35ea82c165a9994624f3fc259433c,tox-4-compat,,skipsdist = True,0,1
openstack%2Ftripleo-quickstart~master~Ia3b4634b551e5791b382ce62cfefd39167dfd27e,openstack/tripleo-quickstart,master,Ia3b4634b551e5791b382ce62cfefd39167dfd27e,Upload /etc/ci/mirror_info.sh to overcloud images,MERGED,2022-12-29 10:21:34.000000000,2022-12-30 13:52:31.000000000,2022-12-30 13:51:38.000000000,"[{'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}, {'_account_id': 31075}]","[{'number': 1, 'created': '2022-12-29 10:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0e2d339be3499bd75e22ab9c23ee2d4b47927f26', 'message': 'Upload /etc/ci/mirror_info.sh to overcloud images\n\nIn order to use local mirrors on overcloud nodes,\nwe need to copy /etc/ci/mirror_info.sh script there so\nthat we can pull the correct packages from afs mirror\notherwise we will pull it from centos mirror which results into\nrandom issues, which are hard to debug.\n\nThis patch copys the same using modify-image role.\n\nRelated-Bug: #2000226\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: Ia3b4634b551e5791b382ce62cfefd39167dfd27e\n'}, {'number': 2, 'created': '2022-12-29 12:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/538d3b8db0bd018563672a6987d6091006903780', 'message': 'Upload /etc/ci/mirror_info.sh to overcloud images\n\nIn order to use local mirrors on overcloud nodes,\nwe need to copy /etc/ci/mirror_info.sh script there so\nthat we can pull the correct packages from afs mirror\notherwise we will pull it from centos mirror which results into\nrandom issues, which are hard to debug.\n\nThis patch copys the same using modify-image role.\n\nRelated-Bug: #2000226\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/868861\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: Ia3b4634b551e5791b382ce62cfefd39167dfd27e\n'}, {'number': 3, 'created': '2022-12-29 13:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9400a5e68feee49922ac511fac26a859f07bec0d', 'message': 'Upload /etc/ci/mirror_info.sh to overcloud images\n\nIn order to use local mirrors on overcloud nodes,\nwe need to copy /etc/ci/mirror_info.sh script there so\nthat we can pull the correct packages from afs mirror\notherwise we will pull it from centos mirror which results into\nrandom issues, which are hard to debug.\n\nThis patch copys the same using modify-image role.\n\nRelated-Bug: #2000226\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/868861\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: Ia3b4634b551e5791b382ce62cfefd39167dfd27e\n'}, {'number': 4, 'created': '2022-12-29 13:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5ecf00b12c9ae59209221c85ebcf1059a54e31de', 'message': 'Upload /etc/ci/mirror_info.sh to overcloud images\n\nIn order to use local mirrors on overcloud nodes,\nwe need to copy /etc/ci/mirror_info.sh script there so\nthat we can pull the correct packages from afs mirror\notherwise we will pull it from centos mirror which results into\nrandom issues, which are hard to debug.\n\nThis patch copys the same using modify-image role.\n\nRelated-Bug: #2000226\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/868861\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: Ia3b4634b551e5791b382ce62cfefd39167dfd27e\n'}, {'number': 5, 'created': '2022-12-29 15:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bcaf9991ef040773d7f0a4ead5e90d9a160fadbb', 'message': 'Upload /etc/ci/mirror_info.sh to overcloud images\n\nIn order to use local mirrors on overcloud nodes,\nwe need to copy /etc/ci/mirror_info.sh script there so\nthat we can pull the correct packages from afs mirror\notherwise we will pull it from centos mirror which results into\nrandom issues, which are hard to debug.\n\nThis patch copys the same using modify-image role.\n\nRelated-Bug: #2000226\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/868861\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: Ia3b4634b551e5791b382ce62cfefd39167dfd27e\n'}, {'number': 6, 'created': '2022-12-29 15:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f9ff79f19499125d7f5736e266c874911d8fff9e', 'message': 'Upload /etc/ci/mirror_info.sh to overcloud images\n\nIn order to use local mirrors on overcloud nodes,\nwe need to copy /etc/ci/mirror_info.sh script there so\nthat we can pull the correct packages from afs mirror\notherwise we will pull it from centos mirror which results into\nrandom issues, which are hard to debug.\n\nThis patch copys the same using modify-image role.\n\nRelated-Bug: #2000226\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/868861\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: Ia3b4634b551e5791b382ce62cfefd39167dfd27e\n'}, {'number': 7, 'created': '2022-12-30 04:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/585f85de052d4672784e5bcc58e63ea32984507f', 'message': 'Upload /etc/ci/mirror_info.sh to overcloud images\n\nIn order to use local mirrors on overcloud nodes,\nwe need to copy /etc/ci/mirror_info.sh script there so\nthat we can pull the correct packages from afs mirror\notherwise we will pull it from centos mirror which results into\nrandom issues, which are hard to debug.\n\nThis patch copys the same using modify-image role.\nhttps://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/868861\nmakes sure before copying existing directory exists on the image.\n\nThe added task will not work for qcow2 image and mirror_info.sh needs to\nbe present on undercloud.\n\nRelated-Bug: #2000226\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/868861\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: Ia3b4634b551e5791b382ce62cfefd39167dfd27e\n'}, {'number': 8, 'created': '2022-12-30 06:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a192a05e40df609bc6613d62f3bcc40ddcce1d9c', 'message': 'Upload /etc/ci/mirror_info.sh to overcloud images\n\nIn order to use local mirrors on overcloud nodes,\nwe need to copy /etc/ci/mirror_info.sh script there so\nthat we can pull the correct packages from afs mirror\notherwise we will pull it from centos mirror which results into\nrandom issues, which are hard to debug.\n\nThis patch copys the same using modify-image role.\nhttps://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/868861\nmakes sure before copying existing directory exists on the image.\n\nThe added task will not work for qcow2 image and mirror_info.sh needs to\nbe present on undercloud.\n\nRelated-Bug: #2000226\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/868861\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: Ia3b4634b551e5791b382ce62cfefd39167dfd27e\n'}, {'number': 9, 'created': '2022-12-30 07:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/157a758c7997a76ab9e86a95a3bddb610d9d7f28', 'message': 'Upload /etc/ci/mirror_info.sh to overcloud images\n\nIn order to use local mirrors on overcloud nodes,\nwe need to copy /etc/ci/mirror_info.sh script there so\nthat we can pull the correct packages from afs mirror\notherwise we will pull it from centos mirror which results into\nrandom issues, which are hard to debug.\n\nThis patch copys the same using modify-image role.\nhttps://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/868861\nmakes sure before copying existing directory exists on the image.\n\nThe added task will not work for qcow2 image and mirror_info.sh needs to\nbe present on undercloud.\n\nRelated-Bug: #2000226\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/868861\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: Ia3b4634b551e5791b382ce62cfefd39167dfd27e\n'}, {'number': 10, 'created': '2022-12-30 07:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c589d5a6460be30ea4cb32f84f65418ad015410d', 'message': 'Upload /etc/ci/mirror_info.sh to overcloud images\n\nIn order to use local mirrors on overcloud nodes,\nwe need to copy /etc/ci/mirror_info.sh script there so\nthat we can pull the correct packages from afs mirror\notherwise we will pull it from centos mirror which results into\nrandom issues, which are hard to debug.\n\nThis patch copys the same using modify-image role.\nhttps://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/868861\nmakes sure before copying existing directory exists on the image.\n\nThe added task will not work for qcow2 image and mirror_info.sh needs to\nbe present on undercloud.\n\nRelated-Bug: #2000226\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/868861\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: Ia3b4634b551e5791b382ce62cfefd39167dfd27e\n'}, {'number': 11, 'created': '2022-12-30 08:21:09.000000000', 'files': ['roles/repo-setup/tasks/inject_repos_into_image.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5b5f1cf307751cc440f0341914b1a54a2f617dd5', 'message': 'Upload /etc/ci/mirror_info.sh to overcloud images\n\nIn order to use local mirrors on overcloud nodes,\nwe need to copy /etc/ci/mirror_info.sh script there so\nthat we can pull the correct packages from afs mirror\notherwise we will pull it from centos mirror which results into\nrandom issues, which are hard to debug.\n\nThis patch copys the same using modify-image role.\nhttps://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/868861\nmakes sure before copying existing directory exists on the image.\n\nThe added task will work for qcow2 image and mirror_info.sh needs to\nbe present on undercloud.\n\nRelated-Bug: #2000226\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/868861\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: Ia3b4634b551e5791b382ce62cfefd39167dfd27e\n'}]",3,868864,5b5f1cf307751cc440f0341914b1a54a2f617dd5,29,5,11,12393,,,0,"Upload /etc/ci/mirror_info.sh to overcloud images

In order to use local mirrors on overcloud nodes,
we need to copy /etc/ci/mirror_info.sh script there so
that we can pull the correct packages from afs mirror
otherwise we will pull it from centos mirror which results into
random issues, which are hard to debug.

This patch copys the same using modify-image role.
https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/868861
makes sure before copying existing directory exists on the image.

The added task will work for qcow2 image and mirror_info.sh needs to
be present on undercloud.

Related-Bug: #2000226

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/868861

Signed-off-by: Chandan Kumar <chkumar@redhat.com>
Change-Id: Ia3b4634b551e5791b382ce62cfefd39167dfd27e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/64/868864/8 && git format-patch -1 --stdout FETCH_HEAD,['roles/repo-setup/tasks/inject_repos_into_image.yml'],1,0e2d339be3499bd75e22ab9c23ee2d4b47927f26,bug/2000226, modify_image_upload_files: - src: /etc/ci/mirror_info.sh dest: /etc/ci/mirror_info.sh,,3,0
openstack%2Ftripleo-quickstart-extras~master~I8575c712467db8fea403459d26731dd7070df131,openstack/tripleo-quickstart-extras,master,I8575c712467db8fea403459d26731dd7070df131,Add modify_image_run_command var to modify-image role,MERGED,2022-12-29 07:02:50.000000000,2022-12-30 13:45:11.000000000,2022-12-30 13:45:11.000000000,"[{'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}, {'_account_id': 30750}, {'_account_id': 31075}]","[{'number': 1, 'created': '2022-12-29 07:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f65762ad38019a25908f611a1a9d86d4dfe14f24', 'message': 'Copy mirror_info.sh script to overcloud images\n\nIn order to use local mirrors on overcloud nodes,\nwe need to copy /etc/ci/mirror_info.sh script there so\nthat we can pull the correct packages from afs mirror\notherwise we will pull it from centos mirror which results into\nrandom issues, which are hard to debug.\n\nThis patch copys the same.\n\nRelated-Bug: #2000226\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: I8575c712467db8fea403459d26731dd7070df131\n'}, {'number': 2, 'created': '2022-12-29 12:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cfdb2b8920041375c545377fdcc8bde60d629d72', 'message': 'Add modify_image_run_command var to modify-image role\n\nIn order to run specific command on the image, we need\nto add support for --run-command to the modify image role.\nIt will be useful to run specific command instead of using\nscript.\n\nThis functionality will be consumed here:\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/868864\n\nRelated-Bug: #2000226\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: I8575c712467db8fea403459d26731dd7070df131\n'}, {'number': 3, 'created': '2022-12-29 12:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d76db5fbfd2ef2bdc659d24e91ff4a3137ad1798', 'message': 'Add modify_image_run_command var to modify-image role\n\nIn order to run specific command on the image, we need\nto add support for --run-command to the modify image role.\nIt will be useful to run specific command instead of using\nscript.\n\nThis functionality will be consumed here:\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/868864\n\nRelated-Bug: #2000226\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: I8575c712467db8fea403459d26731dd7070df131\n'}, {'number': 4, 'created': '2022-12-29 15:18:16.000000000', 'files': ['roles/modify-image/defaults/main.yml', 'roles/modify-image/tasks/libguestfs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/85fcfd4eb226337d84f6a38aa5feaab6ca3372f5', 'message': 'Add modify_image_run_command var to modify-image role\n\nIn order to run specific command on the image, we need\nto add support for --run-command to the modify image role.\nIt will be useful to run specific command instead of using\nscript.\n\nThis functionality will be consumed here:\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/868864\n\nRelated-Bug: #2000226\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: I8575c712467db8fea403459d26731dd7070df131\n'}]",5,868861,85fcfd4eb226337d84f6a38aa5feaab6ca3372f5,19,7,4,12393,,,0,"Add modify_image_run_command var to modify-image role

In order to run specific command on the image, we need
to add support for --run-command to the modify image role.
It will be useful to run specific command instead of using
script.

This functionality will be consumed here:
https://review.opendev.org/c/openstack/tripleo-quickstart/+/868864

Related-Bug: #2000226

Signed-off-by: Chandan Kumar <chkumar@redhat.com>
Change-Id: I8575c712467db8fea403459d26731dd7070df131
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/61/868861/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/modify-image/tasks/manual.yml'],1,f65762ad38019a25908f611a1a9d86d4dfe14f24,bug/2000226," - name: Check if /etc/ci/mirror_info.sh exists stat: path: ""/etc/ci/mirror_info.sh"" register: ci_result - name: copy mirror_info file to image when: ci_result.stat.exists block: - name: Create {{ mount_tempdir }}/etc/ci/ dir file: path: ""{{ mount_tempdir }}/etc/ci"" state: directory mode: '0755' - name: Copy mirror_info.sh file copy: src: ""/etc/ci/mirror_info.sh"" dest: ""{{ mount_tempdir }}/etc/ci/mirror_info.sh"" mode: '0755' {% if ci_result.stat.exists %} mv {{ mount_tempdir }}/etc/ci/mirror_info.sh{,_}; {% endif %} {% if ci_result.stat.exists %} mv {{ mount_tempdir }}/etc/ci/mirror_info.sh{_,}; {% endif %}",,27,0
openstack%2Fironic-inspector~master~Icd107c69be1685af9eddf9cc9fe2236d5eb57c5a,openstack/ironic-inspector,master,Icd107c69be1685af9eddf9cc9fe2236d5eb57c5a,Fix tox4 and setuptools errors,MERGED,2022-12-28 13:58:25.000000000,2022-12-30 13:25:17.000000000,2022-12-30 13:24:07.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-28 13:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/950c6a4713e5039e9cc69c377aeb2812fbb9f1d0', 'message': 'Fix tox4 error\n\nRemove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n\nChange-Id: Icd107c69be1685af9eddf9cc9fe2236d5eb57c5a\n'}, {'number': 2, 'created': '2022-12-28 14:43:07.000000000', 'files': ['setup.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0f5bbf68d6b46708496bced76c6e8ade30d74724', 'message': 'Fix tox4 and setuptools errors\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- disable setuptools autodiscovery\n\nChange-Id: Icd107c69be1685af9eddf9cc9fe2236d5eb57c5a\n'}]",1,868750,0f5bbf68d6b46708496bced76c6e8ade30d74724,12,2,2,23851,,,0,"Fix tox4 and setuptools errors

- Remove skipsdist that it was never supported and causes breakage
when used with usedevelop.
- disable setuptools autodiscovery

Change-Id: Icd107c69be1685af9eddf9cc9fe2236d5eb57c5a
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/50/868750/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,950c6a4713e5039e9cc69c377aeb2812fbb9f1d0,moar-tox4-fix,,skipsdist = True,0,1
openstack%2Fironic-tempest-plugin~master~Ic1cb9d8f0f555e05d35c7e2201187a0b82b48d4c,openstack/ironic-tempest-plugin,master,Ic1cb9d8f0f555e05d35c7e2201187a0b82b48d4c,Fix tox4 error,MERGED,2022-12-28 14:03:46.000000000,2022-12-30 13:25:08.000000000,2022-12-30 13:24:09.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-28 14:03:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/e0b4af905e87c68d3c7b7c2827e2f63b58b172fc', 'message': 'Fix tox4 error\n\nRemove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n\nChange-Id: Ic1cb9d8f0f555e05d35c7e2201187a0b82b48d4c\n'}]",0,868754,e0b4af905e87c68d3c7b7c2827e2f63b58b172fc,8,2,1,23851,,,0,"Fix tox4 error

Remove skipsdist that it was never supported and causes breakage
when used with usedevelop.

Change-Id: Ic1cb9d8f0f555e05d35c7e2201187a0b82b48d4c
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/54/868754/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e0b4af905e87c68d3c7b7c2827e2f63b58b172fc,moar-tox4-fix,,skipsdist = True,0,1
openstack%2Fnetworking-baremetal~master~I9ee37b1ba6d9cb84bbd6b2bb21077ad8259e2aec,openstack/networking-baremetal,master,I9ee37b1ba6d9cb84bbd6b2bb21077ad8259e2aec,Fix tox4 errors,MERGED,2022-12-28 14:06:19.000000000,2022-12-30 12:15:39.000000000,2022-12-30 12:14:36.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-28 14:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/6269b86ec9b4937e41221ad8110620be131020fc', 'message': 'Fix tox4 error\n\nRemove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n\nChange-Id: I9ee37b1ba6d9cb84bbd6b2bb21077ad8259e2aec\n'}, {'number': 2, 'created': '2022-12-28 14:36:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/2cf7c04d7799f17e2d6f7ead0ecaa9c0e8426ad5', 'message': 'Fix tox4 errors\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- add script to allowlist\n\nChange-Id: I9ee37b1ba6d9cb84bbd6b2bb21077ad8259e2aec\n'}]",0,868756,2cf7c04d7799f17e2d6f7ead0ecaa9c0e8426ad5,10,2,2,23851,,,0,"Fix tox4 errors

- Remove skipsdist that it was never supported and causes breakage
when used with usedevelop.
- add script to allowlist

Change-Id: I9ee37b1ba6d9cb84bbd6b2bb21077ad8259e2aec
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/56/868756/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6269b86ec9b4937e41221ad8110620be131020fc,moar-tox4-fix,,skipsdist = True,0,1
openstack%2Fnetworking-generic-switch~master~Ib823caf3d90b02d5a280aa9f7ae1c25edafd9f0b,openstack/networking-generic-switch,master,Ib823caf3d90b02d5a280aa9f7ae1c25edafd9f0b,Fix tox4 errors,MERGED,2022-12-28 14:07:06.000000000,2022-12-30 12:14:22.000000000,2022-12-30 12:13:18.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-28 14:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/2ba6b74a3a4481a42a567f05f1a2b7e0173f6fe5', 'message': 'Fix tox4 error\n\nRemove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n\nChange-Id: Ib823caf3d90b02d5a280aa9f7ae1c25edafd9f0b\n'}, {'number': 2, 'created': '2022-12-28 14:35:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/3fed0d9afe95425f10a9be60d0cf976abf6c33a8', 'message': 'Fix tox4 errors\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- add script to allowlist\n\nChange-Id: Ib823caf3d90b02d5a280aa9f7ae1c25edafd9f0b\n'}]",0,868757,3fed0d9afe95425f10a9be60d0cf976abf6c33a8,10,2,2,23851,,,0,"Fix tox4 errors

- Remove skipsdist that it was never supported and causes breakage
when used with usedevelop.
- add script to allowlist

Change-Id: Ib823caf3d90b02d5a280aa9f7ae1c25edafd9f0b
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/57/868757/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2ba6b74a3a4481a42a567f05f1a2b7e0173f6fe5,moar-tox4-fix,,skipsdist = True,0,1
openstack%2Fpython-ironicclient~master~I003c38181f4900127aefc29025b600c2d9681c75,openstack/python-ironicclient,master,I003c38181f4900127aefc29025b600c2d9681c75,Fix tox4 error,MERGED,2022-12-28 14:09:20.000000000,2022-12-30 12:12:00.000000000,2022-12-30 12:11:03.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-28 14:09:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/f945974feaa6db0793e8c958bf95ae128746ed9b', 'message': 'Fix tox4 error\n\nRemove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n\nChange-Id: I003c38181f4900127aefc29025b600c2d9681c75\n'}]",0,868758,f945974feaa6db0793e8c958bf95ae128746ed9b,8,2,1,23851,,,0,"Fix tox4 error

Remove skipsdist that it was never supported and causes breakage
when used with usedevelop.

Change-Id: I003c38181f4900127aefc29025b600c2d9681c75
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/58/868758/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f945974feaa6db0793e8c958bf95ae128746ed9b,moar-tox4-fix,,skipsdist = True,0,1
openstack%2Fironic-prometheus-exporter~master~I9885539a99918b024618cd63242b2c1b0bf9cd4c,openstack/ironic-prometheus-exporter,master,I9885539a99918b024618cd63242b2c1b0bf9cd4c,Fix tox4 error,MERGED,2022-12-28 14:00:47.000000000,2022-12-30 12:11:44.000000000,2022-12-30 12:10:45.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-28 14:00:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/15668dbea41e70a041aa6420b04fdb9f10226cf7', 'message': 'Fix tox4 error\n\nRemove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n\nChange-Id: I9885539a99918b024618cd63242b2c1b0bf9cd4c\n'}]",0,868752,15668dbea41e70a041aa6420b04fdb9f10226cf7,8,2,1,23851,,,0,"Fix tox4 error

Remove skipsdist that it was never supported and causes breakage
when used with usedevelop.

Change-Id: I9885539a99918b024618cd63242b2c1b0bf9cd4c
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/52/868752/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,15668dbea41e70a041aa6420b04fdb9f10226cf7,moar-tox4-fix,,"envlist = py3,pep8",0,1
openstack%2Fironic-lib~master~I20029ec4944b68a98c1b94b2b76dd81dcd2c5209,openstack/ironic-lib,master,I20029ec4944b68a98c1b94b2b76dd81dcd2c5209,Fix tox4 error,MERGED,2022-12-28 13:59:12.000000000,2022-12-30 12:11:02.000000000,2022-12-30 12:10:02.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-28 13:59:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/55b67de89ef048e1440cf95c4a4da94ba1d4fd4d', 'message': 'Fix tox4 error\n\nRemove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n\nChange-Id: I20029ec4944b68a98c1b94b2b76dd81dcd2c5209\n'}]",0,868751,55b67de89ef048e1440cf95c4a4da94ba1d4fd4d,8,2,1,23851,,,0,"Fix tox4 error

Remove skipsdist that it was never supported and causes breakage
when used with usedevelop.

Change-Id: I20029ec4944b68a98c1b94b2b76dd81dcd2c5209
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/51/868751/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,55b67de89ef048e1440cf95c4a4da94ba1d4fd4d,moar-tox4-fix,,skipsdist = True,0,1
openstack%2Foctavia~master~Ib0a176b44136c41b8878795244c6d8584140984b,openstack/octavia,master,Ib0a176b44136c41b8878795244c6d8584140984b,Fix tox.ini for tox4,NEW,2022-12-30 03:08:33.000000000,2022-12-30 08:06:19.000000000,,"[{'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-12-30 03:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e4674c31b673c08a45457f02cb9c12134d2b840f', 'message': 'Fix tox.ini for tox4\n\nChange-Id: Ib0a176b44136c41b8878795244c6d8584140984b\n'}, {'number': 2, 'created': '2022-12-30 03:12:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5c5ea1b7fadcbfbf7b60c9084bcdf7af045ab0b0', 'message': 'Fix tox.ini for tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943/\n\nChange-Id: Ib0a176b44136c41b8878795244c6d8584140984b\n'}]",1,868667,5c5ea1b7fadcbfbf7b60c9084bcdf7af045ab0b0,4,2,2,33881,,,0,"Fix tox.ini for tox4

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943/

Change-Id: Ib0a176b44136c41b8878795244c6d8584140984b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/67/868667/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e4674c31b673c08a45457f02cb9c12134d2b840f,, bash {toxinidir}/tools/check_unit_test_structure.sh,skipsdist = True {toxinidir}/tools/check_unit_test_structure.sh,1,2
openstack%2Ftrove~master~Icb83ff3a37498bdab670445981d5afbe605aa0ca,openstack/trove,master,Icb83ff3a37498bdab670445981d5afbe605aa0ca,Building guest image using CentOS Stream8/9,NEW,2022-05-01 17:22:18.000000000,2022-12-30 06:29:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 31737}]","[{'number': 1, 'created': '2022-05-01 17:22:18.000000000', 'files': ['integration/scripts/files/elements/centos-guest/install.d/11-user', 'integration/scripts/files/elements/centos-guest/install.d/12-ssh-key-dev', 'integration/scripts/files/elements/guest-agent/post-install.d/99-clean-apt', 'integration/scripts/files/elements/centos-docker/element-deps', 'integration/scripts/files/elements/guest-agent/post-install.d/99-clean-pkg', 'integration/scripts/functions_qemu', 'integration/scripts/files/elements/centos-guest/post-install.d/12-ntp', 'integration/scripts/files/elements/centos-docker/install.d/21-docker', 'integration/scripts/files/elements/guest-agent/pkg-map', 'integration/scripts/files/elements/centos-guest/extra-data.d/11-ssh-key-dev', 'integration/scripts/files/elements/centos-guest/post-install.d/11-ipforwarding', 'integration/scripts/files/elements/centos-guest/pre-install.d/11-enable-powertools', 'integration/scripts/files/elements/guest-agent/svc-map', 'integration/scripts/files/elements/centos-guest/post-install.d/13-trove-guest-sudoers'], 'web_link': 'https://opendev.org/openstack/trove/commit/0d6fbefc918c5cb2a296a38c95aee7eb984f7a40', 'message': 'Building guest image using CentOS Stream8/9\n\nThis PR adds CentOS Stream8/9 to the supported Guest OS.\n\nTask: 45231\nStory: 2010020\nChange-Id: Icb83ff3a37498bdab670445981d5afbe605aa0ca\n'}]",7,840113,0d6fbefc918c5cb2a296a38c95aee7eb984f7a40,9,3,1,31737,,,0,"Building guest image using CentOS Stream8/9

This PR adds CentOS Stream8/9 to the supported Guest OS.

Task: 45231
Story: 2010020
Change-Id: Icb83ff3a37498bdab670445981d5afbe605aa0ca
",git fetch https://review.opendev.org/openstack/trove refs/changes/13/840113/1 && git format-patch -1 --stdout FETCH_HEAD,"['integration/scripts/files/elements/centos-guest/install.d/11-user', 'integration/scripts/files/elements/centos-guest/install.d/12-ssh-key-dev', 'integration/scripts/files/elements/guest-agent/post-install.d/99-clean-apt', 'integration/scripts/files/elements/centos-docker/element-deps', 'integration/scripts/files/elements/guest-agent/post-install.d/99-clean-pkg', 'integration/scripts/functions_qemu', 'integration/scripts/files/elements/centos-guest/post-install.d/12-ntp', 'integration/scripts/files/elements/centos-docker/install.d/21-docker', 'integration/scripts/files/elements/guest-agent/pkg-map', 'integration/scripts/files/elements/centos-guest/extra-data.d/11-ssh-key-dev', 'integration/scripts/files/elements/centos-guest/post-install.d/11-ipforwarding', 'integration/scripts/files/elements/centos-guest/pre-install.d/11-enable-powertools', 'integration/scripts/files/elements/guest-agent/svc-map', 'integration/scripts/files/elements/centos-guest/post-install.d/13-trove-guest-sudoers']",14,0d6fbefc918c5cb2a296a38c95aee7eb984f7a40,story/2010020,"#!/bin/bash set -e set -o xtrace # CONTEXT: HOST after IMAGE BUILD as SCRIPT USER # PURPOSE: add the guest user account to the /etc/sudoers files with NOPASSWD # Adds user to the sudoers file so they can do everything w/o a pass # Some binaries might be under /sbin or /usr/sbin, so make sure sudo will # see them by forcing PATH TEMPFILE=`mktemp` echo ""${GUEST_USERNAME} ALL=(ALL) NOPASSWD:ALL"" > $TEMPFILE chmod 0440 $TEMPFILE sudo chown root:root $TEMPFILE sudo mv $TEMPFILE /etc/sudoers.d/60_trove_guest ",,154,11
openstack%2Ftrove~master~Ic1c2d0e100faee0fe57fde01a49190cd69c6a532,openstack/trove,master,Ic1c2d0e100faee0fe57fde01a49190cd69c6a532,CI: build centos guest image,NEW,2022-12-30 03:32:08.000000000,2022-12-30 05:41:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-30 03:32:08.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/618edd5e9657dcba2959f42083bbd15836001f87', 'message': 'CI: build centos guest image\n\nDepends-On: https://review.opendev.org/c/openstack/trove/+/840113\nChange-Id: Ic1c2d0e100faee0fe57fde01a49190cd69c6a532\n'}]",0,868917,618edd5e9657dcba2959f42083bbd15836001f87,3,1,1,26285,,,0,"CI: build centos guest image

Depends-On: https://review.opendev.org/c/openstack/trove/+/840113
Change-Id: Ic1c2d0e100faee0fe57fde01a49190cd69c6a532
",git fetch https://review.opendev.org/openstack/trove refs/changes/17/868917/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,618edd5e9657dcba2959f42083bbd15836001f87,CI-build-centos-image," name: trove-guest-image-centos-build run: playbooks/image-build/run.yaml nodeset: trove-centos8s-single description: | Build Centos stream based image only on centos8 stream. required-projects: - openstack/diskimage-builder - openstack/trove - openstack/tripleo-image-elements files: - ^integration/(scripts|tests)/ vars: guest_os: centos guest_os_release: 8-stream guest_username: centos branch: master dev_mode: false image_suffix: """" - job:",,23,0
openstack%2Fpuppet-openstack-integration~master~I025cea2da23997c0a8f1a6e840a605b18fb42c82,openstack/puppet-openstack-integration,master,I025cea2da23997c0a8f1a6e840a605b18fb42c82,Updated from Puppet OpenStack modules constraints,MERGED,2022-12-23 02:13:07.000000000,2022-12-30 05:26:47.000000000,2022-12-30 05:26:47.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-23 02:13:07.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e9e93e06becab1f399684f6f43f0c6938b84dc92', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I025cea2da23997c0a8f1a6e840a605b18fb42c82\n'}]",0,868452,e9e93e06becab1f399684f6f43f0c6938b84dc92,7,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I025cea2da23997c0a8f1a6e840a605b18fb42c82
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/52/868452/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,e9e93e06becab1f399684f6f43f0c6938b84dc92,openstack/puppet/constraints, :ref => 'v9.0.1', :ref => 'v9.0.0',1,1
openstack%2Frequirements~master~Ie676079c0b798335ab2a82c03fe4715e0eee4d57,openstack/requirements,master,Ie676079c0b798335ab2a82c03fe4715e0eee4d57,Use correct nodeset for requirement-checks job,MERGED,2022-12-29 04:59:42.000000000,2022-12-30 04:24:13.000000000,2022-12-30 04:20:58.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-29 04:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b74f92a0c70e79ffd6e0edb55adefa4b48912e5f', 'message': 'Use correct nodeset for requirement-checks job\n\nAs the base job (unittests job) moved to the ubuntu-jammy\nnodeset, requirement-checks job also start running on\nubuntu-jammy which is right thing for master but for stable\nbranch also it run on ubuntu-jammy which is incorrect and\nstart failing:\n- https://zuul.opendev.org/t/openstack/build/811ca9311b894b97bfae4438070e5e22\n\nSetting the correct nodeset as per the master/stable branch.\n\nChange-Id: Ie676079c0b798335ab2a82c03fe4715e0eee4d57\n'}, {'number': 2, 'created': '2022-12-29 17:30:18.000000000', 'files': ['.zuul.d/project-template.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7cd38e82d68c00a9b039af1fce7377eb443cddfb', 'message': 'Use correct nodeset for requirement-checks job\n\nAs the base job (unittests job) moved to the ubuntu-jammy\nnodeset, requirement-checks job also start running on\nubuntu-jammy which is right thing for master but for stable\nbranch also it run on ubuntu-jammy which is incorrect and\nstart failing:\n- https://zuul.opendev.org/t/openstack/build/811ca9311b894b97bfae4438070e5e22\n\nSetting the correct nodeset as per the master/stable branch.\n\nChange-Id: Ie676079c0b798335ab2a82c03fe4715e0eee4d57\n'}]",0,868854,7cd38e82d68c00a9b039af1fce7377eb443cddfb,9,2,2,8556,,,0,"Use correct nodeset for requirement-checks job

As the base job (unittests job) moved to the ubuntu-jammy
nodeset, requirement-checks job also start running on
ubuntu-jammy which is right thing for master but for stable
branch also it run on ubuntu-jammy which is incorrect and
start failing:
- https://zuul.opendev.org/t/openstack/build/811ca9311b894b97bfae4438070e5e22

Setting the correct nodeset as per the master/stable branch.

Change-Id: Ie676079c0b798335ab2a82c03fe4715e0eee4d57
",git fetch https://review.opendev.org/openstack/requirements refs/changes/54/868854/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project-template.yaml'],1,b74f92a0c70e79ffd6e0edb55adefa4b48912e5f,, # NOTE(gmann): Update the nodeset if we move testing to the new version # of ubuntu. We are explicitly setting the nodeset here because the base # job (unittests) moving to the ubuntu latest version can break this # job on stable branch (as this job on stable branch will start running on # ubuntu latest version). This nodeset setting will avoid such breaking # on stable branch and make sure it continue to run on the supported ubuntu # version on stable branches. nodeset: ubuntu-jammy,,8,0
openstack%2Frequirements~master~I7bc7c98954395765f16cc943e5c826983db5dba0,openstack/requirements,master,I7bc7c98954395765f16cc943e5c826983db5dba0,Fix tox4 error,MERGED,2022-12-29 05:19:12.000000000,2022-12-30 04:22:42.000000000,2022-12-30 04:20:56.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-29 05:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/26f2ec8d1c394db40d2680a16f1a23bb80817879', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One of them is to allow\nexternal command to run by adding them into allowlist_externals\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I7bc7c98954395765f16cc943e5c826983db5dba0\n'}, {'number': 2, 'created': '2022-12-29 05:33:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c393eb75a46bf73339299ab658173ef316283260', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One of them is to allow\nexternal command to run by adding them into allowlist_externals\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I7bc7c98954395765f16cc943e5c826983db5dba0\n'}]",0,868859,c393eb75a46bf73339299ab658173ef316283260,8,2,2,8556,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One of them is to allow
external command to run by adding them into allowlist_externals

Fixing tox.ini for tox4 changes.

Change-Id: I7bc7c98954395765f16cc943e5c826983db5dba0
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/868859/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,26f2ec8d1c394db40d2680a16f1a23bb80817879,tox4,allowlist_externals = check-conflictsallowlist_externals = check-conflictsallowlist_externals = update-requirementsallowlist_externals = generate-constraintsallowlist_externals = validate-constraintsallowlist_externals = validate-projectsallowlist_externals = {[testenv:linters]allowlist_externals}allowlist_externals = bash findallowlist_externals = sphinx-buildallowlist_externals = {toxinidir}/playbooks/files/project-requirements-change.pyallowlist_externals = {toxinidir}/tools/babel-test.sh,skipsdist = Truewhitelist_externals = {[testenv:linters]whitelist_externals}whitelist_externals = bash,22,3
openstack%2Frequirements~stable%2Fwallaby~Ie676079c0b798335ab2a82c03fe4715e0eee4d57,openstack/requirements,stable/wallaby,Ie676079c0b798335ab2a82c03fe4715e0eee4d57,Use correct nodeset for requirement-checks job,MERGED,2022-12-29 05:05:40.000000000,2022-12-30 04:21:14.000000000,2022-12-30 04:21:14.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-29 05:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/980e6bc2259f69d49636ffbb18ec23fa6ddf49cc', 'message': 'Use correct nodeset for requirement-checks job\n\nAs the base job (unittests job) moved to the ubuntu-jammy\nnodeset, requirement-checks job also start running on\nubuntu-jammy which is right thing for master but for stable\nbranch also it run on ubuntu-jammy which is incorrect and\nstart failing:\n- https://zuul.opendev.org/t/openstack/build/811ca9311b894b97bfae4438070e5e22\n\nSetting the correct nodeset as per the master/stable branch.\n\nChange-Id: Ie676079c0b798335ab2a82c03fe4715e0eee4d57\n(cherry picked from commit b74f92a0c70e79ffd6e0edb55adefa4b48912e5f)\n(cherry picked from commit 29d222b87854b6d67236c67f01eb7cacb97ac25a)\n(cherry picked from commit af8f63f54e50686a1a830c26c8de372e1468f15a)\n(cherry picked from commit a35e583da146b13aadbcebba2856d81fe64a95e9)\n'}, {'number': 2, 'created': '2022-12-29 18:17:13.000000000', 'files': ['.zuul.d/project-template.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/35c167b04cd0d210503de1ebf7be165d0236b905', 'message': 'Use correct nodeset for requirement-checks job\n\nAs the base job (unittests job) moved to the ubuntu-jammy\nnodeset, requirement-checks job also start running on\nubuntu-jammy which is right thing for master but for stable\nbranch also it run on ubuntu-jammy which is incorrect and\nstart failing:\n- https://zuul.opendev.org/t/openstack/build/811ca9311b894b97bfae4438070e5e22\n\nSetting the correct nodeset as per the master/stable branch.\n\nChange-Id: Ie676079c0b798335ab2a82c03fe4715e0eee4d57\n(cherry picked from commit b74f92a0c70e79ffd6e0edb55adefa4b48912e5f)\n(cherry picked from commit 29d222b87854b6d67236c67f01eb7cacb97ac25a)\n(cherry picked from commit af8f63f54e50686a1a830c26c8de372e1468f15a)\n(cherry picked from commit a35e583da146b13aadbcebba2856d81fe64a95e9)\n'}]",0,868858,35c167b04cd0d210503de1ebf7be165d0236b905,8,2,2,8556,,,0,"Use correct nodeset for requirement-checks job

As the base job (unittests job) moved to the ubuntu-jammy
nodeset, requirement-checks job also start running on
ubuntu-jammy which is right thing for master but for stable
branch also it run on ubuntu-jammy which is incorrect and
start failing:
- https://zuul.opendev.org/t/openstack/build/811ca9311b894b97bfae4438070e5e22

Setting the correct nodeset as per the master/stable branch.

Change-Id: Ie676079c0b798335ab2a82c03fe4715e0eee4d57
(cherry picked from commit b74f92a0c70e79ffd6e0edb55adefa4b48912e5f)
(cherry picked from commit 29d222b87854b6d67236c67f01eb7cacb97ac25a)
(cherry picked from commit af8f63f54e50686a1a830c26c8de372e1468f15a)
(cherry picked from commit a35e583da146b13aadbcebba2856d81fe64a95e9)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/58/868858/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project-template.yaml'],1,980e6bc2259f69d49636ffbb18ec23fa6ddf49cc,, # NOTE(gmann): Update the nodeset if we move testing to the new version # of ubuntu. We are explicitly setting the nodeset here because the base # job (unittests) moving to the ubuntu latest version can break this # job on stable branch (as this job on stable branch will start running on # ubuntu latest version). This nodeset setting will avoid such breaking # on stable branch and make sure it continue to run on the supported ubuntu # version on stable branches. nodeset: ubuntu-focal,,8,0
openstack%2Frequirements~stable%2Fwallaby~I7bc7c98954395765f16cc943e5c826983db5dba0,openstack/requirements,stable/wallaby,I7bc7c98954395765f16cc943e5c826983db5dba0,Fix tox4 error,MERGED,2022-12-29 17:26:34.000000000,2022-12-30 04:21:12.000000000,2022-12-30 04:21:12.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-29 17:26:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/requirements/commit/824b5b63c77687ccda3978d9c30a90ec8f09aa3e', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One of them is to allow\nexternal command to run by adding them into allowlist_externals\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I7bc7c98954395765f16cc943e5c826983db5dba0\n(cherry picked from commit c393eb75a46bf73339299ab658173ef316283260)\n(cherry picked from commit b4e42a86d9253351be2da7e0cf31262546c51d3e)\n(cherry picked from commit 807579d1f0d7e98c65e6574ebce8a4b759c9fa27)\n(cherry picked from commit dbd37b8034d1c35f727a2bc6c89952dfcbbe97f0)\n'}]",0,868905,824b5b63c77687ccda3978d9c30a90ec8f09aa3e,6,2,1,8556,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One of them is to allow
external command to run by adding them into allowlist_externals

Fixing tox.ini for tox4 changes.

Change-Id: I7bc7c98954395765f16cc943e5c826983db5dba0
(cherry picked from commit c393eb75a46bf73339299ab658173ef316283260)
(cherry picked from commit b4e42a86d9253351be2da7e0cf31262546c51d3e)
(cherry picked from commit 807579d1f0d7e98c65e6574ebce8a4b759c9fa27)
(cherry picked from commit dbd37b8034d1c35f727a2bc6c89952dfcbbe97f0)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/05/868905/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,824b5b63c77687ccda3978d9c30a90ec8f09aa3e,tox4,"allowlist_externals = check-conflictsallowlist_externals = check-conflictsallowlist_externals = update-requirementsallowlist_externals = generate-constraintsallowlist_externals = validate-constraintsallowlist_externals = validate-projectsallowlist_externals = bash commands = flake8 bash -c ""find {toxinidir}/tools \ -type f \ -name \*.sh \ -print0 | xargs -0 bashate -v -iE006,E010"" bash -c 'sed -e ""s,===,==,"" upper-constraints.txt > {envtmpdir}/safety-check.txt' -safety check --json -r {envtmpdir}/safety-check.txtallowlist_externals = bashallowlist_externals = sphinx-buildallowlist_externals = {toxinidir}/playbooks/files/project-requirements-change.pyallowlist_externals = {toxinidir}/tools/babel-test.sh",skipsdist = Truewhitelist_externals = {[testenv:linters]whitelist_externals} commands = {[testenv:linters]commands}whitelist_externals = bash,30,4
openstack%2Frequirements~stable%2Fxena~Ie676079c0b798335ab2a82c03fe4715e0eee4d57,openstack/requirements,stable/xena,Ie676079c0b798335ab2a82c03fe4715e0eee4d57,Use correct nodeset for requirement-checks job,MERGED,2022-12-29 05:04:17.000000000,2022-12-30 04:21:09.000000000,2022-12-30 04:21:09.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-29 05:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a35e583da146b13aadbcebba2856d81fe64a95e9', 'message': 'Use correct nodeset for requirement-checks job\n\nAs the base job (unittests job) moved to the ubuntu-jammy\nnodeset, requirement-checks job also start running on\nubuntu-jammy which is right thing for master but for stable\nbranch also it run on ubuntu-jammy which is incorrect and\nstart failing:\n- https://zuul.opendev.org/t/openstack/build/811ca9311b894b97bfae4438070e5e22\n\nSetting the correct nodeset as per the master/stable branch.\n\nChange-Id: Ie676079c0b798335ab2a82c03fe4715e0eee4d57\n(cherry picked from commit b74f92a0c70e79ffd6e0edb55adefa4b48912e5f)\n(cherry picked from commit 29d222b87854b6d67236c67f01eb7cacb97ac25a)\n(cherry picked from commit af8f63f54e50686a1a830c26c8de372e1468f15a)\n'}, {'number': 2, 'created': '2022-12-29 18:16:52.000000000', 'files': ['.zuul.d/project-template.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ce4590a60086450e4b66c6b5d810c0bbb8258518', 'message': 'Use correct nodeset for requirement-checks job\n\nAs the base job (unittests job) moved to the ubuntu-jammy\nnodeset, requirement-checks job also start running on\nubuntu-jammy which is right thing for master but for stable\nbranch also it run on ubuntu-jammy which is incorrect and\nstart failing:\n- https://zuul.opendev.org/t/openstack/build/811ca9311b894b97bfae4438070e5e22\n\nSetting the correct nodeset as per the master/stable branch.\n\nChange-Id: Ie676079c0b798335ab2a82c03fe4715e0eee4d57\n(cherry picked from commit b74f92a0c70e79ffd6e0edb55adefa4b48912e5f)\n(cherry picked from commit 29d222b87854b6d67236c67f01eb7cacb97ac25a)\n(cherry picked from commit af8f63f54e50686a1a830c26c8de372e1468f15a)\n'}]",0,868857,ce4590a60086450e4b66c6b5d810c0bbb8258518,8,2,2,8556,,,0,"Use correct nodeset for requirement-checks job

As the base job (unittests job) moved to the ubuntu-jammy
nodeset, requirement-checks job also start running on
ubuntu-jammy which is right thing for master but for stable
branch also it run on ubuntu-jammy which is incorrect and
start failing:
- https://zuul.opendev.org/t/openstack/build/811ca9311b894b97bfae4438070e5e22

Setting the correct nodeset as per the master/stable branch.

Change-Id: Ie676079c0b798335ab2a82c03fe4715e0eee4d57
(cherry picked from commit b74f92a0c70e79ffd6e0edb55adefa4b48912e5f)
(cherry picked from commit 29d222b87854b6d67236c67f01eb7cacb97ac25a)
(cherry picked from commit af8f63f54e50686a1a830c26c8de372e1468f15a)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/57/868857/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project-template.yaml'],1,a35e583da146b13aadbcebba2856d81fe64a95e9,, # NOTE(gmann): Update the nodeset if we move testing to the new version # of ubuntu. We are explicitly setting the nodeset here because the base # job (unittests) moving to the ubuntu latest version can break this # job on stable branch (as this job on stable branch will start running on # ubuntu latest version). This nodeset setting will avoid such breaking # on stable branch and make sure it continue to run on the supported ubuntu # version on stable branches. nodeset: ubuntu-focal,,8,0
openstack%2Frequirements~stable%2Fxena~I7bc7c98954395765f16cc943e5c826983db5dba0,openstack/requirements,stable/xena,I7bc7c98954395765f16cc943e5c826983db5dba0,Fix tox4 error,MERGED,2022-12-29 17:21:17.000000000,2022-12-30 04:21:07.000000000,2022-12-30 04:21:07.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-29 17:21:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/requirements/commit/dbd37b8034d1c35f727a2bc6c89952dfcbbe97f0', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One of them is to allow\nexternal command to run by adding them into allowlist_externals\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I7bc7c98954395765f16cc943e5c826983db5dba0\n(cherry picked from commit c393eb75a46bf73339299ab658173ef316283260)\n(cherry picked from commit b4e42a86d9253351be2da7e0cf31262546c51d3e)\n(cherry picked from commit 807579d1f0d7e98c65e6574ebce8a4b759c9fa27)\n'}]",0,868904,dbd37b8034d1c35f727a2bc6c89952dfcbbe97f0,6,2,1,8556,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One of them is to allow
external command to run by adding them into allowlist_externals

Fixing tox.ini for tox4 changes.

Change-Id: I7bc7c98954395765f16cc943e5c826983db5dba0
(cherry picked from commit c393eb75a46bf73339299ab658173ef316283260)
(cherry picked from commit b4e42a86d9253351be2da7e0cf31262546c51d3e)
(cherry picked from commit 807579d1f0d7e98c65e6574ebce8a4b759c9fa27)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/04/868904/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,dbd37b8034d1c35f727a2bc6c89952dfcbbe97f0,tox4,"allowlist_externals = check-conflictsallowlist_externals = check-conflictsallowlist_externals = update-requirementsallowlist_externals = generate-constraintsallowlist_externals = validate-constraintsallowlist_externals = validate-projectsallowlist_externals = bash commands = flake8 bash -c ""find {toxinidir}/tools \ -type f \ -name \*.sh \ -print0 | xargs -0 bashate -v -iE006,E010"" bash -c 'sed -e ""s,===,==,"" upper-constraints.txt > {envtmpdir}/safety-check.txt' -safety check --json -r {envtmpdir}/safety-check.txtallowlist_externals = bashallowlist_externals = sphinx-buildallowlist_externals = {toxinidir}/playbooks/files/project-requirements-change.pyallowlist_externals = {toxinidir}/tools/babel-test.sh",skipsdist = Truewhitelist_externals = {[testenv:linters]whitelist_externals} commands = {[testenv:linters]commands}whitelist_externals = bash,30,4
openstack%2Frequirements~stable%2Fyoga~Ie676079c0b798335ab2a82c03fe4715e0eee4d57,openstack/requirements,stable/yoga,Ie676079c0b798335ab2a82c03fe4715e0eee4d57,Use correct nodeset for requirement-checks job,MERGED,2022-12-29 05:03:40.000000000,2022-12-30 04:21:05.000000000,2022-12-30 04:21:05.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-29 05:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/af8f63f54e50686a1a830c26c8de372e1468f15a', 'message': 'Use correct nodeset for requirement-checks job\n\nAs the base job (unittests job) moved to the ubuntu-jammy\nnodeset, requirement-checks job also start running on\nubuntu-jammy which is right thing for master but for stable\nbranch also it run on ubuntu-jammy which is incorrect and\nstart failing:\n- https://zuul.opendev.org/t/openstack/build/811ca9311b894b97bfae4438070e5e22\n\nSetting the correct nodeset as per the master/stable branch.\n\nChange-Id: Ie676079c0b798335ab2a82c03fe4715e0eee4d57\n(cherry picked from commit b74f92a0c70e79ffd6e0edb55adefa4b48912e5f)\n(cherry picked from commit 29d222b87854b6d67236c67f01eb7cacb97ac25a)\n'}, {'number': 2, 'created': '2022-12-29 18:16:28.000000000', 'files': ['.zuul.d/project-template.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/707da594d13b7f1ed47800660aaa2a8a804689df', 'message': 'Use correct nodeset for requirement-checks job\n\nAs the base job (unittests job) moved to the ubuntu-jammy\nnodeset, requirement-checks job also start running on\nubuntu-jammy which is right thing for master but for stable\nbranch also it run on ubuntu-jammy which is incorrect and\nstart failing:\n- https://zuul.opendev.org/t/openstack/build/811ca9311b894b97bfae4438070e5e22\n\nSetting the correct nodeset as per the master/stable branch.\n\nChange-Id: Ie676079c0b798335ab2a82c03fe4715e0eee4d57\n(cherry picked from commit b74f92a0c70e79ffd6e0edb55adefa4b48912e5f)\n(cherry picked from commit 29d222b87854b6d67236c67f01eb7cacb97ac25a)\n'}]",0,868856,707da594d13b7f1ed47800660aaa2a8a804689df,8,2,2,8556,,,0,"Use correct nodeset for requirement-checks job

As the base job (unittests job) moved to the ubuntu-jammy
nodeset, requirement-checks job also start running on
ubuntu-jammy which is right thing for master but for stable
branch also it run on ubuntu-jammy which is incorrect and
start failing:
- https://zuul.opendev.org/t/openstack/build/811ca9311b894b97bfae4438070e5e22

Setting the correct nodeset as per the master/stable branch.

Change-Id: Ie676079c0b798335ab2a82c03fe4715e0eee4d57
(cherry picked from commit b74f92a0c70e79ffd6e0edb55adefa4b48912e5f)
(cherry picked from commit 29d222b87854b6d67236c67f01eb7cacb97ac25a)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/56/868856/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project-template.yaml'],1,af8f63f54e50686a1a830c26c8de372e1468f15a,, # NOTE(gmann): Update the nodeset if we move testing to the new version # of ubuntu. We are explicitly setting the nodeset here because the base # job (unittests) moving to the ubuntu latest version can break this # job on stable branch (as this job on stable branch will start running on # ubuntu latest version). This nodeset setting will avoid such breaking # on stable branch and make sure it continue to run on the supported ubuntu # version on stable branches. nodeset: ubuntu-focal,,8,0
openstack%2Frequirements~stable%2Fyoga~I7bc7c98954395765f16cc943e5c826983db5dba0,openstack/requirements,stable/yoga,I7bc7c98954395765f16cc943e5c826983db5dba0,Fix tox4 error,MERGED,2022-12-29 17:15:26.000000000,2022-12-30 04:21:04.000000000,2022-12-30 04:21:04.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-29 17:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4bb07322c856c94396fe33b914b4fa3bb2e5ac52', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One of them is to allow\nexternal command to run by adding them into allowlist_externals\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I7bc7c98954395765f16cc943e5c826983db5dba0\n(cherry picked from commit c393eb75a46bf73339299ab658173ef316283260)\n(cherry picked from commit b4e42a86d9253351be2da7e0cf31262546c51d3e)\n'}, {'number': 2, 'created': '2022-12-29 17:18:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/requirements/commit/807579d1f0d7e98c65e6574ebce8a4b759c9fa27', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One of them is to allow\nexternal command to run by adding them into allowlist_externals\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I7bc7c98954395765f16cc943e5c826983db5dba0\n(cherry picked from commit c393eb75a46bf73339299ab658173ef316283260)\n(cherry picked from commit b4e42a86d9253351be2da7e0cf31262546c51d3e)\n'}]",0,868903,807579d1f0d7e98c65e6574ebce8a4b759c9fa27,7,2,2,8556,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One of them is to allow
external command to run by adding them into allowlist_externals

Fixing tox.ini for tox4 changes.

Change-Id: I7bc7c98954395765f16cc943e5c826983db5dba0
(cherry picked from commit c393eb75a46bf73339299ab658173ef316283260)
(cherry picked from commit b4e42a86d9253351be2da7e0cf31262546c51d3e)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/03/868903/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4bb07322c856c94396fe33b914b4fa3bb2e5ac52,tox4,"<<<<<<< HEAD======= [testenv:py38-check-uc] allowlist_externals = check-conflicts basepython = python3.8 deps = -r{toxinidir}/upper-constraints.txt commands = check-conflicts {toxinidir}/upper-constraints.txt {toxinidir}/upper-constraints-xfails.txt [testenv:py39-check-uc] allowlist_externals = check-conflicts basepython = python3.9 >>>>>>> b4e42a86... Fix tox4 errorallowlist_externals = update-requirementsallowlist_externals = generate-constraintsallowlist_externals = validate-constraintsallowlist_externals = validate-projectsallowlist_externals = bash commands = flake8 bash -c ""find {toxinidir}/tools \ -type f \ -name \*.sh \ -print0 | xargs -0 bashate -v -iE006,E010"" bash -c 'sed -e ""s,===,==,"" upper-constraints.txt > {envtmpdir}/safety-check.txt' -safety check --json -r {envtmpdir}/safety-check.txtallowlist_externals = bashallowlist_externals = sphinx-buildallowlist_externals = {toxinidir}/playbooks/files/project-requirements-change.pyallowlist_externals = {toxinidir}/tools/babel-test.sh",skipsdist = Truewhitelist_externals = {[testenv:linters]whitelist_externals} commands = {[testenv:linters]commands}whitelist_externals = bash,40,4
openstack%2Frequirements~stable%2Fzed~Ie676079c0b798335ab2a82c03fe4715e0eee4d57,openstack/requirements,stable/zed,Ie676079c0b798335ab2a82c03fe4715e0eee4d57,Use correct nodeset for requirement-checks job,MERGED,2022-12-29 05:02:32.000000000,2022-12-30 04:21:02.000000000,2022-12-30 04:21:02.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-29 05:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/29d222b87854b6d67236c67f01eb7cacb97ac25a', 'message': 'Use correct nodeset for requirement-checks job\n\nAs the base job (unittests job) moved to the ubuntu-jammy\nnodeset, requirement-checks job also start running on\nubuntu-jammy which is right thing for master but for stable\nbranch also it run on ubuntu-jammy which is incorrect and\nstart failing:\n- https://zuul.opendev.org/t/openstack/build/811ca9311b894b97bfae4438070e5e22\n\nSetting the correct nodeset as per the master/stable branch.\n\nChange-Id: Ie676079c0b798335ab2a82c03fe4715e0eee4d57\n(cherry picked from commit b74f92a0c70e79ffd6e0edb55adefa4b48912e5f)\n'}, {'number': 2, 'created': '2022-12-29 18:16:05.000000000', 'files': ['.zuul.d/project-template.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fc7e2105e81c352602085bd2928a706d0ab8a80d', 'message': 'Use correct nodeset for requirement-checks job\n\nAs the base job (unittests job) moved to the ubuntu-jammy\nnodeset, requirement-checks job also start running on\nubuntu-jammy which is right thing for master but for stable\nbranch also it run on ubuntu-jammy which is incorrect and\nstart failing:\n- https://zuul.opendev.org/t/openstack/build/811ca9311b894b97bfae4438070e5e22\n\nSetting the correct nodeset as per the master/stable branch.\n\nChange-Id: Ie676079c0b798335ab2a82c03fe4715e0eee4d57\n(cherry picked from commit b74f92a0c70e79ffd6e0edb55adefa4b48912e5f)\n'}]",0,868855,fc7e2105e81c352602085bd2928a706d0ab8a80d,8,2,2,8556,,,0,"Use correct nodeset for requirement-checks job

As the base job (unittests job) moved to the ubuntu-jammy
nodeset, requirement-checks job also start running on
ubuntu-jammy which is right thing for master but for stable
branch also it run on ubuntu-jammy which is incorrect and
start failing:
- https://zuul.opendev.org/t/openstack/build/811ca9311b894b97bfae4438070e5e22

Setting the correct nodeset as per the master/stable branch.

Change-Id: Ie676079c0b798335ab2a82c03fe4715e0eee4d57
(cherry picked from commit b74f92a0c70e79ffd6e0edb55adefa4b48912e5f)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/55/868855/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project-template.yaml'],1,29d222b87854b6d67236c67f01eb7cacb97ac25a,, # NOTE(gmann): Update the nodeset if we move testing to the new version # of ubuntu. We are explicitly setting the nodeset here because the base # job (unittests) moving to the ubuntu latest version can break this # job on stable branch (as this job on stable branch will start running on # ubuntu latest version). This nodeset setting will avoid such breaking # on stable branch and make sure it continue to run on the supported ubuntu # version on stable branches. nodeset: ubuntu-focal,,8,0
openstack%2Frequirements~stable%2Fzed~I7bc7c98954395765f16cc943e5c826983db5dba0,openstack/requirements,stable/zed,I7bc7c98954395765f16cc943e5c826983db5dba0,Fix tox4 error,MERGED,2022-12-29 17:13:33.000000000,2022-12-30 04:21:00.000000000,2022-12-30 04:21:00.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-29 17:13:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b4e42a86d9253351be2da7e0cf31262546c51d3e', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One of them is to allow\nexternal command to run by adding them into allowlist_externals\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I7bc7c98954395765f16cc943e5c826983db5dba0\n(cherry picked from commit c393eb75a46bf73339299ab658173ef316283260)\n'}]",0,868902,b4e42a86d9253351be2da7e0cf31262546c51d3e,6,2,1,8556,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One of them is to allow
external command to run by adding them into allowlist_externals

Fixing tox.ini for tox4 changes.

Change-Id: I7bc7c98954395765f16cc943e5c826983db5dba0
(cherry picked from commit c393eb75a46bf73339299ab658173ef316283260)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/02/868902/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b4e42a86d9253351be2da7e0cf31262546c51d3e,tox4,"allowlist_externals = check-conflictsallowlist_externals = check-conflictsallowlist_externals = update-requirementsallowlist_externals = generate-constraintsallowlist_externals = validate-constraintsallowlist_externals = validate-projectsallowlist_externals = bash commands = flake8 bash -c ""find {toxinidir}/tools \ -type f \ -name \*.sh \ -print0 | xargs -0 bashate -v -iE006,E010"" bash -c 'sed -e ""s,===,==,"" upper-constraints.txt > {envtmpdir}/safety-check.txt' -safety check --json -r {envtmpdir}/safety-check.txtallowlist_externals = bashallowlist_externals = sphinx-buildallowlist_externals = {toxinidir}/playbooks/files/project-requirements-change.pyallowlist_externals = {toxinidir}/tools/babel-test.sh",skipsdist = Truewhitelist_externals = {[testenv:linters]whitelist_externals} commands = {[testenv:linters]commands}whitelist_externals = bash,30,4
openstack%2Fironic~master~I0bfef09a5312a17be54ce5c09805f06b7c349026,openstack/ironic,master,I0bfef09a5312a17be54ce5c09805f06b7c349026,Fix CI,MERGED,2022-12-28 13:54:05.000000000,2022-12-30 01:42:06.000000000,2022-12-30 01:40:13.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-28 13:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eca1fecad51f9a18777a4c1daf185e82fa480098', 'message': 'Fix tox4 error\n\nRemove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n\nChange-Id: I0bfef09a5312a17be54ce5c09805f06b7c349026\n'}, {'number': 2, 'created': '2022-12-28 14:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/96935d611d67f66c3bfe722a1823bbe231c47bc4', 'message': 'Fix tox4 and setuptools errors\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- disable setuptools autodiscovery\n\nChange-Id: I0bfef09a5312a17be54ce5c09805f06b7c349026\n'}, {'number': 3, 'created': '2022-12-28 16:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/539e951cb9289cdd9fdfa2ae04622e65929d444b', 'message': 'Fix tox4 and setuptools errors\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- add script to allowlist for pep8 test\n- disable setuptools autodiscovery\n\nChange-Id: I0bfef09a5312a17be54ce5c09805f06b7c349026\n'}, {'number': 4, 'created': '2022-12-29 00:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c54560ac1f49d61f3e20f61b6ab8c1ed925fde92', 'message': 'Fix tox4 and setuptools errors\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- add script to allowlist for pep8 test\n- disable setuptools autodiscovery\n\nChange-Id: I0bfef09a5312a17be54ce5c09805f06b7c349026\n'}, {'number': 5, 'created': '2022-12-29 09:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a382f83c05d0b05ec612af255b0a72ec49da1c13', 'message': 'Fix CI\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- add script to allowlist for pep8 test\n- disable setuptools autodiscovery\n- Increase base VM memory according to new requirements for CS9\nbased IPA\n\nChange-Id: I0bfef09a5312a17be54ce5c09805f06b7c349026\n'}, {'number': 6, 'created': '2022-12-29 16:10:59.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'setup.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6b84fbf8f2a92fc9c591e26eeec4b69cc1aa2ffe', 'message': 'Fix CI\n\n- Remove skipsdist that it was never supported and causes breakage\nwhen used with usedevelop.\n- add script to allowlist for pep8 test\n- disable setuptools autodiscovery\n- Increase base VM memory according to new requirements for CS9\nbased IPA\n\nChange-Id: I0bfef09a5312a17be54ce5c09805f06b7c349026\n'}]",2,868749,6b84fbf8f2a92fc9c591e26eeec4b69cc1aa2ffe,26,2,6,23851,,,0,"Fix CI

- Remove skipsdist that it was never supported and causes breakage
when used with usedevelop.
- add script to allowlist for pep8 test
- disable setuptools autodiscovery
- Increase base VM memory according to new requirements for CS9
based IPA

Change-Id: I0bfef09a5312a17be54ce5c09805f06b7c349026
",git fetch https://review.opendev.org/openstack/ironic refs/changes/49/868749/6 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eca1fecad51f9a18777a4c1daf185e82fa480098,moar-tox4-fix,,skipsdist = True,0,1
openstack%2Fopenstack-helm-infra~master~Ibf2cc45857173010ac6cc5757ec5035d6ea22b6f,openstack/openstack-helm-infra,master,Ibf2cc45857173010ac6cc5757ec5035d6ea22b6f,Adding the feature to launch Prometheus process with custom script,ABANDONED,2022-12-23 03:54:26.000000000,2022-12-30 00:25:16.000000000,,[],"[{'number': 1, 'created': '2022-12-23 03:54:26.000000000', 'files': ['prometheus/Chart.yaml', 'releasenotes/notes/prometheus.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1cbe20ad5fe999ed384da4a1aad20e79108f4883', 'message': ""Adding the feature to launch Prometheus process with custom script\n\nThis change adds feature to launch Prometheus process using a custom script which should be stored in override values. Because the known issue https://github.com/prometheus/prometheus/issues/6934 is still open many years, we are going to struggle with growing WAL files using our custom downstream wrapper script which stops Prometheus process and deletes WALs.\nThis solution can not fit all customers because completely kills wal cached data but it is ok for our purposes. Such way I just added the feature to use another custom script to launch Prometheus and left original functionality by default. Default/custom mode are defined in 'values.yaml' as the body of the custom launcher script.\n\nChange-Id: Ibf2cc45857173010ac6cc5757ec5035d6ea22b6f\n""}]",0,868336,1cbe20ad5fe999ed384da4a1aad20e79108f4883,6,0,1,16164,,,0,"Adding the feature to launch Prometheus process with custom script

This change adds feature to launch Prometheus process using a custom script which should be stored in override values. Because the known issue https://github.com/prometheus/prometheus/issues/6934 is still open many years, we are going to struggle with growing WAL files using our custom downstream wrapper script which stops Prometheus process and deletes WALs.
This solution can not fit all customers because completely kills wal cached data but it is ok for our purposes. Such way I just added the feature to use another custom script to launch Prometheus and left original functionality by default. Default/custom mode are defined in 'values.yaml' as the body of the custom launcher script.

Change-Id: Ibf2cc45857173010ac6cc5757ec5035d6ea22b6f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/36/868336/1 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus/Chart.yaml', 'releasenotes/notes/prometheus.yaml']",2,1cbe20ad5fe999ed384da4a1aad20e79108f4883,, - 0.1.14 Added feature to launch Prometheus with custom script,,2,1
openstack%2Fopenstack-helm-infra~master~I5c65871be8525c1294ca1c71f153d2f9a2b88031,openstack/openstack-helm-infra,master,I5c65871be8525c1294ca1c71f153d2f9a2b88031,Adding the feature to launch Prometheus process with custom script,ABANDONED,2022-12-23 04:07:45.000000000,2022-12-30 00:25:08.000000000,,"[{'_account_id': 17119}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 35309}]","[{'number': 1, 'created': '2022-12-23 04:07:45.000000000', 'files': ['prometheus/Chart.yaml', 'prometheus/templates/bin/_prometheus.sh.tpl', 'releasenotes/notes/prometheus.yaml', 'prometheus/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d50084ab426b60b3e2a2070fcb09f2cc6cad0782', 'message': ""Adding the feature to launch Prometheus process with custom script\n\nThis change adds feature to launch Prometheus process using a custom script which should be stored in override values. Because the known issue https://github.com/prometheus/prometheus/issues/6934 is still open many years, we are going to struggle with growing WAL files using our custom downstream wrapper script which stops Prometheus process and deletes WALs.\nThis solution can not fit all customers because completely kills wal cached data but it is ok for our purposes. Such way I just added the feature to use another custom script to launch Prometheus and left original functionality by default. Default/custom mode are defined in 'values.yaml' as the body of the custom launcher script.\n\nChange-Id: I5c65871be8525c1294ca1c71f153d2f9a2b88031\n""}]",1,868337,d50084ab426b60b3e2a2070fcb09f2cc6cad0782,7,4,1,16164,,,0,"Adding the feature to launch Prometheus process with custom script

This change adds feature to launch Prometheus process using a custom script which should be stored in override values. Because the known issue https://github.com/prometheus/prometheus/issues/6934 is still open many years, we are going to struggle with growing WAL files using our custom downstream wrapper script which stops Prometheus process and deletes WALs.
This solution can not fit all customers because completely kills wal cached data but it is ok for our purposes. Such way I just added the feature to use another custom script to launch Prometheus and left original functionality by default. Default/custom mode are defined in 'values.yaml' as the body of the custom launcher script.

Change-Id: I5c65871be8525c1294ca1c71f153d2f9a2b88031
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/37/868337/1 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus/Chart.yaml', 'prometheus/templates/bin/_prometheus.sh.tpl', 'releasenotes/notes/prometheus.yaml', 'prometheus/values.yaml']",4,d50084ab426b60b3e2a2070fcb09f2cc6cad0782,, sleep 5, sleep 10,3,3
openstack%2Fkolla~master~I84b4d006fba4aaedcdb324c24e42a9c0b441405f,openstack/kolla,master,I84b4d006fba4aaedcdb324c24e42a9c0b441405f,"Revert ""[release] Change RDO's DELOREAN_DEPS repo to Zed""",MERGED,2022-12-28 14:07:36.000000000,2022-12-29 19:52:09.000000000,2022-12-29 19:50:29.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-12-28 14:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/233c8f9ed1ab80535466c673903d878fd364057d', 'message': 'Revert ""[release] Change RDO\'s DELOREAN_DEPS repo to Zed""\n\nThis reverts commit 206521af2881425cb91fe0365fe87d35a4b2de3f.\n\nReason for revert: Reverting after Zed release\n\nChange-Id: I84b4d006fba4aaedcdb324c24e42a9c0b441405f\n'}, {'number': 2, 'created': '2022-12-28 15:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/142a2f989d205c4d94d9ee45a30c0500df97baad', 'message': 'Revert ""[release] Change RDO\'s DELOREAN_DEPS repo to Zed""\n\nThis reverts commit 206521af2881425cb91fe0365fe87d35a4b2de3f.\n\nReason for revert: Reverting after Zed release\n\nChange-Id: I84b4d006fba4aaedcdb324c24e42a9c0b441405f\n'}, {'number': 3, 'created': '2022-12-28 17:42:38.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6b3c64dce820601cb2d9a9ae1a141392c2abe95d', 'message': 'Revert ""[release] Change RDO\'s DELOREAN_DEPS repo to Zed""\n\nThis reverts commit 206521af2881425cb91fe0365fe87d35a4b2de3f.\n\nReason for revert: Reverting after Zed release\n\nChange-Id: I84b4d006fba4aaedcdb324c24e42a9c0b441405f\n'}]",0,868564,6b3c64dce820601cb2d9a9ae1a141392c2abe95d,13,5,3,22629,,,0,"Revert ""[release] Change RDO's DELOREAN_DEPS repo to Zed""

This reverts commit 206521af2881425cb91fe0365fe87d35a4b2de3f.

Reason for revert: Reverting after Zed release

Change-Id: I84b4d006fba4aaedcdb324c24e42a9c0b441405f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/64/868564/2 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,233c8f9ed1ab80535466c673903d878fd364057d,,"DELOREAN_DEPS = ""https://trunk.rdoproject.org/centos9-master/"" \","DELOREAN_DEPS = ""https://trunk.rdoproject.org/centos9-zed/"" \",1,1
openstack%2Fkolla~master~Ie02f7e8be1acc3129564af54bef99a12f6275042,openstack/kolla,master,Ie02f7e8be1acc3129564af54bef99a12f6275042,"Revert ""[release] Use Zed sources by default""",MERGED,2022-12-28 14:07:58.000000000,2022-12-29 19:51:27.000000000,2022-12-29 19:50:26.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-12-28 14:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/93dd679dfbc47b702d1323b03c03ff4a02118218', 'message': 'Revert ""[release] Use Zed sources by default""\n\nThis reverts commit e1a4048041bde649e7bb16b9a23d49522f7a0385.\n\nReason for revert: Reverting after Zed release\n\nChange-Id: Ie02f7e8be1acc3129564af54bef99a12f6275042\n'}, {'number': 2, 'created': '2022-12-28 15:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/56ee40de5e5ba63e0143587f8b7281e5e0d940c0', 'message': 'Revert ""[release] Use Zed sources by default""\n\nThis reverts commit e1a4048041bde649e7bb16b9a23d49522f7a0385.\n\nReason for revert: Reverting after Zed release\n\nChange-Id: Ie02f7e8be1acc3129564af54bef99a12f6275042\n'}, {'number': 3, 'created': '2022-12-28 17:42:26.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b6bbd4c2055a3cfdbd7ca0b4dfb3f5263535d2be', 'message': 'Revert ""[release] Use Zed sources by default""\n\nThis reverts commit e1a4048041bde649e7bb16b9a23d49522f7a0385.\n\nReason for revert: Reverting after Zed release\n\nChange-Id: Ie02f7e8be1acc3129564af54bef99a12f6275042\n'}]",0,868565,b6bbd4c2055a3cfdbd7ca0b4dfb3f5263535d2be,14,5,3,22629,,,0,"Revert ""[release] Use Zed sources by default""

This reverts commit e1a4048041bde649e7bb16b9a23d49522f7a0385.

Reason for revert: Reverting after Zed release

Change-Id: Ie02f7e8be1acc3129564af54bef99a12f6275042
",git fetch https://review.opendev.org/openstack/kolla refs/changes/65/868565/2 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,93dd679dfbc47b702d1323b03c03ff4a02118218,,OPENSTACK_RELEASE = 'master',OPENSTACK_RELEASE = 'zed',1,1
openstack%2Ftacker~stable%2Fxena~I42f12c6209fdf298488061617e12d8b32ee5f8aa,openstack/tacker,stable/xena,I42f12c6209fdf298488061617e12d8b32ee5f8aa,Fix tox4 error,NEW,2022-12-29 17:37:27.000000000,2022-12-29 19:38:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-29 17:37:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker/commit/d8d4b8be0d127d4d0ddf3b816dd9444125cc62de', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One is passenv where we need\nto pass each value in newline otherwise, it fails with\nerror:\n\n failed with pass_env values cannot contain whitespace,\n use comma to have multiple values in a single line,\n invalid values found.....\n\nOther failure is due to the skipsdist = True.\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I42f12c6209fdf298488061617e12d8b32ee5f8aa\n(cherry picked from commit d35484d13d0e7f09b83a858524ce9299548248e7)\n(cherry picked from commit 2da7ebdebd4d0d4177dc5ca1ee02e3dfa2d6e3b5)\n(cherry picked from commit fedd684e96abbab1d4cb44b3e10e2a14a2dea6ca)\n'}]",0,868908,d8d4b8be0d127d4d0ddf3b816dd9444125cc62de,2,1,1,8556,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One is passenv where we need
to pass each value in newline otherwise, it fails with
error:

 failed with pass_env values cannot contain whitespace,
 use comma to have multiple values in a single line,
 invalid values found.....

Other failure is due to the skipsdist = True.

Fixing tox.ini for tox4 changes.

Change-Id: I42f12c6209fdf298488061617e12d8b32ee5f8aa
(cherry picked from commit d35484d13d0e7f09b83a858524ce9299548248e7)
(cherry picked from commit 2da7ebdebd4d0d4177dc5ca1ee02e3dfa2d6e3b5)
(cherry picked from commit fedd684e96abbab1d4cb44b3e10e2a14a2dea6ca)
",git fetch https://review.opendev.org/openstack/tacker refs/changes/08/868908/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d8d4b8be0d127d4d0ddf3b816dd9444125cc62de,tox4,allowlist_externals = sphinx-build,skipsdist = True,2,1
openstack%2Fansible-role-qdrouterd~stable%2Fyoga~I678676c09a43d34879a3ae6d1bd44407f341d9c5,openstack/ansible-role-qdrouterd,stable/yoga,I678676c09a43d34879a3ae6d1bd44407f341d9c5,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:30.000000000,2022-12-29 18:23:07.000000000,2022-12-29 18:22:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/fc1be8325e7c478507d6deb0ab1fb40afda29e01', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I678676c09a43d34879a3ae6d1bd44407f341d9c5'}]",1,868796,fc1be8325e7c478507d6deb0ab1fb40afda29e01,10,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I678676c09a43d34879a3ae6d1bd44407f341d9c5",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/96/868796/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fc1be8325e7c478507d6deb0ab1fb40afda29e01,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fopenstack-ansible-plugins~stable%2Fyoga~I43557ff1c1ff80d2af69f17ee52cbfedf5c4770d,openstack/openstack-ansible-plugins,stable/yoga,I43557ff1c1ff80d2af69f17ee52cbfedf5c4770d,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:56.000000000,2022-12-29 18:22:26.000000000,2022-12-29 18:21:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/86b8f8a7e216e2665f4399399e3d88f38123790b', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I43557ff1c1ff80d2af69f17ee52cbfedf5c4770d'}]",2,868816,86b8f8a7e216e2665f4399399e3d88f38123790b,11,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I43557ff1c1ff80d2af69f17ee52cbfedf5c4770d",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/16/868816/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,86b8f8a7e216e2665f4399399e3d88f38123790b,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fansible-role-systemd_mount~stable%2Fyoga~I8cdc855202678f824baf5a84c73aa3264c96733f,openstack/ansible-role-systemd_mount,stable/yoga,I8cdc855202678f824baf5a84c73aa3264c96733f,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:30.000000000,2022-12-29 18:18:48.000000000,2022-12-29 18:17:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/e7fec19ae21d6507fc01b414e64852aef655c9c2', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I8cdc855202678f824baf5a84c73aa3264c96733f'}]",1,868797,e7fec19ae21d6507fc01b414e64852aef655c9c2,10,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I8cdc855202678f824baf5a84c73aa3264c96733f",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/97/868797/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e7fec19ae21d6507fc01b414e64852aef655c9c2,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-apt_package_pinning~stable%2Fyoga~I3884174e6bf838959a541851a76964b6173a8966,openstack/openstack-ansible-apt_package_pinning,stable/yoga,I3884174e6bf838959a541851a76964b6173a8966,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:35.000000000,2022-12-29 18:18:05.000000000,2022-12-29 18:17:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/561fd8c473b7a0af4e9003316ea0e802371065f7', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I3884174e6bf838959a541851a76964b6173a8966'}]",1,868801,561fd8c473b7a0af4e9003316ea0e802371065f7,10,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I3884174e6bf838959a541851a76964b6173a8966",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/01/868801/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,561fd8c473b7a0af4e9003316ea0e802371065f7,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fopenstack-ansible-rsyslog_server~stable%2Fyoga~If3756334c5e48c43dc8faa3f2eade7b2687df5b6,openstack/openstack-ansible-rsyslog_server,stable/yoga,If3756334c5e48c43dc8faa3f2eade7b2687df5b6,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:58.000000000,2022-12-29 18:17:04.000000000,2022-12-29 18:16:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/e19315de7a1e756a0d4b9e60d16e4bce02a0fb5c', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: If3756334c5e48c43dc8faa3f2eade7b2687df5b6'}]",1,868819,e19315de7a1e756a0d4b9e60d16e4bce02a0fb5c,10,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: If3756334c5e48c43dc8faa3f2eade7b2687df5b6",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_server refs/changes/19/868819/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e19315de7a1e756a0d4b9e60d16e4bce02a0fb5c,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fopenstack-ansible-ceph_client~stable%2Fyoga~I8d982217854ff48619e61fe22a043789e4595e53,openstack/openstack-ansible-ceph_client,stable/yoga,I8d982217854ff48619e61fe22a043789e4595e53,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:35.000000000,2022-12-29 18:17:03.000000000,2022-12-29 18:16:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/522d55b27c6a882d00bfeb0870392ae0bc015981', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I8d982217854ff48619e61fe22a043789e4595e53'}]",1,868802,522d55b27c6a882d00bfeb0870392ae0bc015981,10,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I8d982217854ff48619e61fe22a043789e4595e53",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/02/868802/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,522d55b27c6a882d00bfeb0870392ae0bc015981,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fansible-role-systemd_service~stable%2Fyoga~I589449b4dd71ecec26678feaf7e7d758996fc4a7,openstack/ansible-role-systemd_service,stable/yoga,I589449b4dd71ecec26678feaf7e7d758996fc4a7,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:31.000000000,2022-12-29 18:16:58.000000000,2022-12-29 18:15:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/9aecc1b24dbb0f3c1caa3bf9746aa5cd07edafbc', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I589449b4dd71ecec26678feaf7e7d758996fc4a7'}]",1,868800,9aecc1b24dbb0f3c1caa3bf9746aa5cd07edafbc,10,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I589449b4dd71ecec26678feaf7e7d758996fc4a7",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/00/868800/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9aecc1b24dbb0f3c1caa3bf9746aa5cd07edafbc,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fansible-role-systemd_networkd~stable%2Fyoga~I9e4c7e1500079cc97709af993adbb0b472325f02,openstack/ansible-role-systemd_networkd,stable/yoga,I9e4c7e1500079cc97709af993adbb0b472325f02,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:30.000000000,2022-12-29 18:16:07.000000000,2022-12-29 18:15:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/eb69811a5b709dd465ced1dc001b02d679b9bffb', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I9e4c7e1500079cc97709af993adbb0b472325f02'}]",1,868798,eb69811a5b709dd465ced1dc001b02d679b9bffb,10,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I9e4c7e1500079cc97709af993adbb0b472325f02",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/98/868798/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eb69811a5b709dd465ced1dc001b02d679b9bffb,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fwallaby~I968e6f1e9c72b0bf04b909f285495b0860279c77,openstack/openstack-ansible-rabbitmq_server,stable/wallaby,I968e6f1e9c72b0bf04b909f285495b0860279c77,Upgrade rabbitmq and erlang version,ABANDONED,2022-12-29 16:26:41.000000000,2022-12-29 16:27:10.000000000,,[],"[{'number': 1, 'created': '2022-12-29 16:26:41.000000000', 'files': ['releasenotes/notes/erlang_24_wildcard-f98bea4c7df0dc23.yaml', 'vars/redhat.yml', 'vars/debian.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/a71f2d2309964246f8bd3866d71044744841a505', 'message': ""Upgrade rabbitmq and erlang version\n\nErlang 24.2.2-1 has been completely removed from cloudsmith repo.\nWe are constantly hitting issues related to the fact that package\nversions disappear from this repo.\nBecause Xena will move to 'Extended Maintenance' soon, I think the best\noption would be to let OSA install any 24.3.* erlang version.\n\nBecause erlang 24.2.* is not available anymore and 24.3.* requires\nRabbitMQ >=3.9.15, RabbitMQ must be upgraded as well.\n\nChange-Id: I968e6f1e9c72b0bf04b909f285495b0860279c77\n(cherry picked from commit 5e37f866470e6a8a228582ff2002480eb4206958)\n""}]",0,868773,a71f2d2309964246f8bd3866d71044744841a505,2,0,1,28619,,,0,"Upgrade rabbitmq and erlang version

Erlang 24.2.2-1 has been completely removed from cloudsmith repo.
We are constantly hitting issues related to the fact that package
versions disappear from this repo.
Because Xena will move to 'Extended Maintenance' soon, I think the best
option would be to let OSA install any 24.3.* erlang version.

Because erlang 24.2.* is not available anymore and 24.3.* requires
RabbitMQ >=3.9.15, RabbitMQ must be upgraded as well.

Change-Id: I968e6f1e9c72b0bf04b909f285495b0860279c77
(cherry picked from commit 5e37f866470e6a8a228582ff2002480eb4206958)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/73/868773/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/erlang_24_wildcard-f98bea4c7df0dc23.yaml', 'vars/redhat.yml', 'vars/debian.yml', 'tox.ini']",4,a71f2d2309964246f8bd3866d71044744841a505,,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,19,2
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fxena~I968e6f1e9c72b0bf04b909f285495b0860279c77,openstack/openstack-ansible-rabbitmq_server,stable/xena,I968e6f1e9c72b0bf04b909f285495b0860279c77,Upgrade rabbitmq and erlang version,MERGED,2022-12-19 16:50:50.000000000,2022-12-29 15:53:43.000000000,2022-12-29 15:52:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-12-19 16:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/440869f378b05442bc34f142585344a86bbbeee8', 'message': ""Upgrade erlang version\n\nErlang 24.2.2-1 has been completely removed from cloudsmith repo.\nWe are constantly hitting issues related to the fact that package\nversions disappear from this repo.\nBecause Xena will move to 'Extended Maintenance' soon, I think the best\noption would be to let OSA install any 24.* erlang version.\n\nChange-Id: I968e6f1e9c72b0bf04b909f285495b0860279c77\n""}, {'number': 2, 'created': '2022-12-20 16:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/1ea0ada537e0f01eebca7f961ed09c0dc81e3cb0', 'message': ""Upgrade rabbitmq and erlang version\n\nErlang 24.2.2-1 has been completely removed from cloudsmith repo.\nWe are constantly hitting issues related to the fact that package\nversions disappear from this repo.\nBecause Xena will move to 'Extended Maintenance' soon, I think the best\noption would be to let OSA install any 24.3.* erlang version.\n\nBecause erlang 24.2.* is not available anymore and 24.3.* requires\nRabbitMQ >=3.9.15, RabbitMQ must be upgraded as well.\n\nChange-Id: I968e6f1e9c72b0bf04b909f285495b0860279c77\n""}, {'number': 3, 'created': '2022-12-20 16:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/3a533477b59b34d20bc883e1c7cd0472c7d68f19', 'message': ""Upgrade rabbitmq and erlang version\n\nErlang 24.2.2-1 has been completely removed from cloudsmith repo.\nWe are constantly hitting issues related to the fact that package\nversions disappear from this repo.\nBecause Xena will move to 'Extended Maintenance' soon, I think the best\noption would be to let OSA install any 24.3.* erlang version.\n\nBecause erlang 24.2.* is not available anymore and 24.3.* requires\nRabbitMQ >=3.9.15, RabbitMQ must be upgraded as well.\n\nChange-Id: I968e6f1e9c72b0bf04b909f285495b0860279c77\n""}, {'number': 4, 'created': '2022-12-28 21:36:53.000000000', 'files': ['releasenotes/notes/erlang_24_wildcard-f98bea4c7df0dc23.yaml', 'vars/redhat.yml', 'vars/debian.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/5e37f866470e6a8a228582ff2002480eb4206958', 'message': ""Upgrade rabbitmq and erlang version\n\nErlang 24.2.2-1 has been completely removed from cloudsmith repo.\nWe are constantly hitting issues related to the fact that package\nversions disappear from this repo.\nBecause Xena will move to 'Extended Maintenance' soon, I think the best\noption would be to let OSA install any 24.3.* erlang version.\n\nBecause erlang 24.2.* is not available anymore and 24.3.* requires\nRabbitMQ >=3.9.15, RabbitMQ must be upgraded as well.\n\nChange-Id: I968e6f1e9c72b0bf04b909f285495b0860279c77\n""}]",2,868107,5e37f866470e6a8a228582ff2002480eb4206958,18,4,4,32666,,,0,"Upgrade rabbitmq and erlang version

Erlang 24.2.2-1 has been completely removed from cloudsmith repo.
We are constantly hitting issues related to the fact that package
versions disappear from this repo.
Because Xena will move to 'Extended Maintenance' soon, I think the best
option would be to let OSA install any 24.3.* erlang version.

Because erlang 24.2.* is not available anymore and 24.3.* requires
RabbitMQ >=3.9.15, RabbitMQ must be upgraded as well.

Change-Id: I968e6f1e9c72b0bf04b909f285495b0860279c77
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/07/868107/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/erlang_24_wildcard-f98bea4c7df0dc23.yaml', 'vars/debian.yml']",2,440869f378b05442bc34f142585344a86bbbeee8,,"_rabbitmq_erlang_version_spec: ""{{ (rabbitmq_install_method == 'external_repo') | ternary('1:24.*', '1:22.*') }}""","_rabbitmq_erlang_version_spec: ""{{ (rabbitmq_install_method == 'external_repo') | ternary('1:24.2.2-1', '1:22.*') }}""",5,1
openstack%2Fopenstack-ansible-plugins~stable%2Fzed~I92d9b6dea8e5102344800474d37bb4a39bd1fd9b,openstack/openstack-ansible-plugins,stable/zed,I92d9b6dea8e5102344800474d37bb4a39bd1fd9b,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:27:06.000000000,2022-12-29 14:45:00.000000000,2022-12-29 14:44:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/5beec83d884716a90542d07f3d6d104780b13c4d', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I92d9b6dea8e5102344800474d37bb4a39bd1fd9b'}, {'number': 2, 'created': '2022-12-29 10:03:54.000000000', 'files': ['tests/test-connection-plugin.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/89534bfd50d91afcd5bb7120ba66c5604edd9804', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I92d9b6dea8e5102344800474d37bb4a39bd1fd9b'}]",0,868846,89534bfd50d91afcd5bb7120ba66c5604edd9804,10,3,2,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I92d9b6dea8e5102344800474d37bb4a39bd1fd9b",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/46/868846/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5beec83d884716a90542d07f3d6d104780b13c4d,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Ftripleo-heat-templates~master~I129121360fd6943a63c769bc2d43ee7e1714e163,openstack/tripleo-heat-templates,master,I129121360fd6943a63c769bc2d43ee7e1714e163,mock patch to test ci,ABANDONED,2022-12-13 16:21:07.000000000,2022-12-29 14:09:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-13 16:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6cc5dac035b393d80ba6c664581fb5596e7d59a5', 'message': 'mock patch to test ci\n\nThis patch will be abandoned after verifying ci results\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/867232\nChange-Id: I129121360fd6943a63c769bc2d43ee7e1714e163\n'}, {'number': 2, 'created': '2022-12-14 15:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7afe30c885beafdb898901d53b29d9787b31731', 'message': 'mock patch to test ci\n\nThis patch will be abandoned after verifying ci results\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/867232\nChange-Id: I129121360fd6943a63c769bc2d43ee7e1714e163\n'}, {'number': 3, 'created': '2022-12-14 18:31:30.000000000', 'files': ['deployment/cephadm/ceph-osd.yaml', 'overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4673926b651af161bbf0cc7a5df29257d4237088', 'message': 'mock patch to test ci\n\nThis patch will be abandoned after verifying ci results\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/867232\nChange-Id: I129121360fd6943a63c769bc2d43ee7e1714e163\n'}]",0,867332,4673926b651af161bbf0cc7a5df29257d4237088,9,2,3,34598,,,0,"mock patch to test ci

This patch will be abandoned after verifying ci results

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/867232
Change-Id: I129121360fd6943a63c769bc2d43ee7e1714e163
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/867332/3 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-resource-registry-puppet.j2.yaml'],1,6cc5dac035b393d80ba6c664581fb5596e7d59a5,mock, # Port assignments for the {{role.name}} role., # Port assignments for the {{role.name}} role,1,1
openstack%2Ftripleo-quickstart-extras~master~I2e4678f7146286f37fc52f5ffdfcabc794c60e63,openstack/tripleo-quickstart-extras,master,I2e4678f7146286f37fc52f5ffdfcabc794c60e63,[DNM] tempest testing,ABANDONED,2022-11-01 14:45:19.000000000,2022-12-29 14:06:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-01 14:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f2b0c87b68c7b9f4534d8c6baaae9051e3869843', 'message': '[DNM] tempest testing\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I2e4678f7146286f37fc52f5ffdfcabc794c60e63\n'}, {'number': 2, 'created': '2022-11-25 05:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ea15d75d3c651c536343d6fcd53c1b9840e12029', 'message': '[DNM] tempest testing\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I2e4678f7146286f37fc52f5ffdfcabc794c60e63\n'}, {'number': 3, 'created': '2022-11-25 07:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2b0066ea95fb0cc3e053f3a2af4052c2e6b62d0c', 'message': '[DNM] tempest testing\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I2e4678f7146286f37fc52f5ffdfcabc794c60e63\n'}, {'number': 4, 'created': '2022-11-25 09:20:03.000000000', 'files': ['playbooks/deploy-standalone-compute.yml', 'roles/external-data-plane-management/tasks/generate_tripleo_standalone_vars.yml', 'roles/external-data-plane-management/tasks/compute_services_on_target_host.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3f9e9388c064ab2a49fafe7be84fe1c092e1dfda', 'message': '[DNM] tempest testing\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I2e4678f7146286f37fc52f5ffdfcabc794c60e63\n'}]",0,863143,3f9e9388c064ab2a49fafe7be84fe1c092e1dfda,10,2,4,12393,,,0,"[DNM] tempest testing

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I2e4678f7146286f37fc52f5ffdfcabc794c60e63
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/43/863143/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/deploy-standalone-compute.yml'],1,f2b0c87b68c7b9f4534d8c6baaae9051e3869843,dnm," # Per https://bugs.launchpad.net/tripleo/+bug/1903993 we need to reduce the # standalone-upgrade runtime. If this is upgrade job fs56 skip tempest include. - name: Validate the deployment hosts: undercloud # Note(chkumar246): Moved the os_tempest related var at the top # of play level in order to have scope for the whole of the play # https://bugs.launchpad.net/tripleo/+bug/1838496 vars: tempest_install_method: distro tempest_cloud_name: 'standalone' tasks: - include_tasks: tasks/tempest.yml when: job is undefined or (job is defined and job.featureset is defined and job.featureset != '056') and use_os_tempest | default(true) environment: # Disable ssl warnings CURL_CA_BUNDLE: """" tags: - standalone",,21,0
openstack%2Ftripleo-quickstart~master~I5493029145c7b925f2def94413a3c7855128fb92,openstack/tripleo-quickstart,master,I5493029145c7b925f2def94413a3c7855128fb92,[DNM] Testing tempest,ABANDONED,2022-11-01 14:49:21.000000000,2022-12-29 14:06:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-01 14:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cb92b21e02e1bfad22dc8c355e1ae663654364fb', 'message': '[DNM] Testing tempest\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/863143\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I5493029145c7b925f2def94413a3c7855128fb92\n'}, {'number': 2, 'created': '2022-11-02 11:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3abda951a3a08dc1942382e0ef52890033a04736', 'message': '[DNM] Testing tempest\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/863143\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I5493029145c7b925f2def94413a3c7855128fb92\n'}, {'number': 3, 'created': '2022-11-28 05:32:49.000000000', 'files': ['config/general_config/featureset053.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/91cbc1ca6323a781083ac6a76b6689a384ff39cd', 'message': '[DNM] Testing tempest\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/863143\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I5493029145c7b925f2def94413a3c7855128fb92\n'}]",0,863145,91cbc1ca6323a781083ac6a76b6689a384ff39cd,10,2,3,12393,,,0,"[DNM] Testing tempest

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/863143

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I5493029145c7b925f2def94413a3c7855128fb92
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/45/863145/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset053.yml'],1,cb92b21e02e1bfad22dc8c355e1ae663654364fb,dnm," # Tempest Config test_ping: false # Running only smoke tests and a few scenarios test_white_regex: '\[.*\bsmoke\b.*\]' # NOTE(aschultz): containers assume RC at the moment tempest_undercloud: true tempest_overcloud: false tempest_workers: 2 tempest_os_cloud: standalone tempest_allowed_group_check: ""featureset052"" tempest_allowed_group_periodic: ""featureset052_periodic"" # Settings for os_tempest use_os_tempest: >- {% if release not in ['pike', 'queens', 'stein'] -%} true {%- else -%} false {%- endif -%} tempest_allowed_group: >- {% if (('periodic' in zuul.pipeline and not job.force_non_periodic|default(false)|bool) or (job.force_periodic|default(false)|bool)) and not tempest_run_skipped | default(false) | bool or (job.component is defined|default(false)|bool) -%} {{ tempest_allowed_group_periodic }} {%- else -%} {{ tempest_allowed_group_check }} {%- endif -%} tempest_run_concurrency: 2",,30,0
openstack%2Fpython-tripleoclient~master~Ib3838d9017be1f64a1d3fc0712b91c29a572e539,openstack/python-tripleoclient,master,Ib3838d9017be1f64a1d3fc0712b91c29a572e539,[DNM] Debug undercloud-upgrade,ABANDONED,2022-12-12 06:43:52.000000000,2022-12-29 14:06:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-12 06:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1b8d8ceeade8b0323dec3169e01851a4a135de57', 'message': '[DNM] Debug undercloud-upgrade\n\nPatch to find out why tripleoclient is not getting upgraded\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ib3838d9017be1f64a1d3fc0712b91c29a572e539\n'}, {'number': 2, 'created': '2022-12-12 07:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/153b137d844678cfb7644f44daaf766532a004e3', 'message': '[DNM] Debug undercloud-upgrade\n\nPatch to find out why tripleoclient is not getting upgraded\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ib3838d9017be1f64a1d3fc0712b91c29a572e539\n'}, {'number': 3, 'created': '2022-12-12 07:15:17.000000000', 'files': ['tripleoclient/v1/undercloud.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/16e632e76c8f26ce50dac5adffa8a7e0a5ad4ba5', 'message': '[DNM] Debug undercloud-upgrade\n\nPatch to find out why tripleoclient is not getting upgraded\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ib3838d9017be1f64a1d3fc0712b91c29a572e539\n'}]",0,867195,16e632e76c8f26ce50dac5adffa8a7e0a5ad4ba5,5,1,3,12393,,,0,"[DNM] Debug undercloud-upgrade

Patch to find out why tripleoclient is not getting upgraded

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ib3838d9017be1f64a1d3fc0712b91c29a572e539
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/95/867195/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud.py'],1,1b8d8ceeade8b0323dec3169e01851a4a135de57,," for package in packages: cmd = [""rpm"", ""-q""] + package output = utils.run_command(cmd, name=""Check RPM"") self.log.warning(""{}"".format(output))",,4,0
openstack%2Ftripleo-ci~master~Ica4f0a6e475da62da71da465bd4ec088c6c5938f,openstack/tripleo-ci,master,Ica4f0a6e475da62da71da465bd4ec088c6c5938f,[DNM] rbac nova policy,ABANDONED,2022-11-09 12:54:31.000000000,2022-12-29 14:06:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-09 12:54:31.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ba800ef41b7dccdab3cb9259aa6382edeaabb670', 'message': '[DNM] rbac nova policy\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ica4f0a6e475da62da71da465bd4ec088c6c5938f\n'}]",0,864110,ba800ef41b7dccdab3cb9259aa6382edeaabb670,4,2,1,12393,,,0,"[DNM] rbac nova policy

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ica4f0a6e475da62da71da465bd4ec088c6c5938f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/10/864110/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,ba800ef41b7dccdab3cb9259aa6382edeaabb670,dnm, featureset_override: standalone_environment_files: - 'environments/enable-secure-rbac.yaml',,3,0
openstack%2Ftripleo-heat-templates~master~I45b8f186149d67efa304852381bc2b21a61f679d,openstack/tripleo-heat-templates,master,I45b8f186149d67efa304852381bc2b21a61f679d,[DNM] debug tempest,ABANDONED,2022-11-07 21:06:38.000000000,2022-12-29 14:06:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-07 21:06:38.000000000', 'files': ['environments/enable-secure-rbac.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8943e526ad7471b0a41426c93c2cccfa1abfb2e8', 'message': '[DNM] debug tempest\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I45b8f186149d67efa304852381bc2b21a61f679d\n'}]",0,863937,8943e526ad7471b0a41426c93c2cccfa1abfb2e8,4,2,1,12393,,,0,"[DNM] debug tempest

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I45b8f186149d67efa304852381bc2b21a61f679d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/863937/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-secure-rbac.yaml'],1,8943e526ad7471b0a41426c93c2cccfa1abfb2e8,dnm," value: ""rule:admin_api or rule:project_member_api"""," value: ""rule:admin_api""",1,1
openstack%2Fopenstack-tempest-skiplist~master~I06d59c2ede1f88d6d7c9d1b6be65d119f7d45699,openstack/openstack-tempest-skiplist,master,I06d59c2ede1f88d6d7c9d1b6be65d119f7d45699,[DNM] skipping tests,ABANDONED,2022-07-27 12:27:43.000000000,2022-12-29 14:05:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-27 12:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/8edeb007fe2a8ee3e0313452abdcb7167e6b6748', 'message': '[DNM] skipping tests\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I06d59c2ede1f88d6d7c9d1b6be65d119f7d45699\n'}, {'number': 2, 'created': '2022-07-28 10:59:30.000000000', 'files': ['roles/validate-tempest/vars/tempest_allow.yml', 'roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/57d8062cd4fc29e8985d69e4b264ebf5d34b239a', 'message': '[DNM] skipping tests\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I06d59c2ede1f88d6d7c9d1b6be65d119f7d45699\n'}]",0,851216,57d8062cd4fc29e8985d69e4b264ebf5d34b239a,5,1,2,12393,,,0,"[DNM] skipping tests

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I06d59c2ede1f88d6d7c9d1b6be65d119f7d45699
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/16/851216/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,8edeb007fe2a8ee3e0313452abdcb7167e6b6748,dnm,, - name: wallaby reason: Failed to find floating IP lp: https://bugs.launchpad.net/tripleo/+bug/1923194 - name: wallaby reason: Failed to find floating IP # See also: https://bugs.launchpad.net/tripleo/+bug/1923194/comments/14 lp: https://bugs.launchpad.net/tripleo/+bug/1980255,0,7
openstack%2Fmistral~master~I1750d7286c302436dabb803019bd98f8d60f289f,openstack/mistral,master,I1750d7286c302436dabb803019bd98f8d60f289f,Update tox.ini to work with tox 4,ABANDONED,2022-12-29 12:13:59.000000000,2022-12-29 13:04:12.000000000,,[],"[{'number': 1, 'created': '2022-12-29 12:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/fc8dc7a3db5a016511da4c57d250416048606110', 'message': 'Update tox.ini to work with tox 4\n\nChange-Id: I1750d7286c302436dabb803019bd98f8d60f289f\n'}, {'number': 2, 'created': '2022-12-29 12:17:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral/commit/d30402e115d5358dd211d449f146b3bcf767e88b', 'message': 'Update tox.ini to work with tox 4\n\nThis change will allow this repo to pass zuul now\nthat this has merged:\nhttps://review.opendev.org/c/zuul/zuul-jobs/+/866943\n\nTox 4 deprecated whitelist_externals.\nReplace whitelist_externals with allowlist_externals\nTox 4 Fail on pass_env/passenv entries containing whitespace.\nUpdated passenv with comma separated values\nCloses-Bug: #2000727\n\nChange-Id: I1750d7286c302436dabb803019bd98f8d60f289f\n'}]",0,868866,d30402e115d5358dd211d449f146b3bcf767e88b,3,0,2,35584,,,0,"Update tox.ini to work with tox 4

This change will allow this repo to pass zuul now
that this has merged:
https://review.opendev.org/c/zuul/zuul-jobs/+/866943

Tox 4 deprecated whitelist_externals.
Replace whitelist_externals with allowlist_externals
Tox 4 Fail on pass_env/passenv entries containing whitespace.
Updated passenv with comma separated values
Closes-Bug: #2000727

Change-Id: I1750d7286c302436dabb803019bd98f8d60f289f
",git fetch https://review.opendev.org/openstack/mistral refs/changes/66/868866/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fc8dc7a3db5a016511da4c57d250416048606110,bug/2000727,"passenv = http_proxy,HTTP_PROXY,https_proxy,HTTPS_PROXY,no_proxy,NO_PROXYallowlist_externals =allowlist_externals =allowlist_externals = rm",passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYwhitelist_externals =whitelist_externals =whitelist_externals = rm,4,4
openstack%2Fopenstack-ansible-tests~stable%2Fyoga~Iae193d2bc0722c0afdffac67794dbc2ea1c06f71,openstack/openstack-ansible-tests,stable/yoga,Iae193d2bc0722c0afdffac67794dbc2ea1c06f71,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:26:00.000000000,2022-12-29 12:47:15.000000000,2022-12-29 12:46:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/ce150110e9590c55c9487c91edfa5b788ce16291', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Iae193d2bc0722c0afdffac67794dbc2ea1c06f71'}, {'number': 2, 'created': '2022-12-29 08:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/0f18371a249af097201656e4793653f9ef915c94', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Iae193d2bc0722c0afdffac67794dbc2ea1c06f71'}, {'number': 3, 'created': '2022-12-29 09:02:36.000000000', 'files': ['run_tests_common.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/1947b867bb63df4bbb512e3bee85d2107caedf1f', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Iae193d2bc0722c0afdffac67794dbc2ea1c06f71'}]",0,868820,1947b867bb63df4bbb512e3bee85d2107caedf1f,11,3,3,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Iae193d2bc0722c0afdffac67794dbc2ea1c06f71",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/20/868820/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ce150110e9590c55c9487c91edfa5b788ce16291,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-tests~stable%2Fzed~I1abdd264d5e7fb97a67e04be86501d03665e795a,openstack/openstack-ansible-tests,stable/zed,I1abdd264d5e7fb97a67e04be86501d03665e795a,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:27:13.000000000,2022-12-29 12:44:36.000000000,2022-12-29 12:43:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/a6a8fc20551c5ec5e2074a8d47d68a68a78230ac', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I1abdd264d5e7fb97a67e04be86501d03665e795a'}, {'number': 2, 'created': '2022-12-29 08:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/b7838d21dfc6cd2e18a511714e525e4e6b7c0944', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I1abdd264d5e7fb97a67e04be86501d03665e795a'}, {'number': 3, 'created': '2022-12-29 09:05:11.000000000', 'files': ['run_tests_common.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/9d8025a8d641808bb0fc39eb42526faf97159da2', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I1abdd264d5e7fb97a67e04be86501d03665e795a'}]",0,868849,9d8025a8d641808bb0fc39eb42526faf97159da2,11,3,3,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I1abdd264d5e7fb97a67e04be86501d03665e795a",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/49/868849/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a6a8fc20551c5ec5e2074a8d47d68a68a78230ac,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fmonasca-agent~master~Idf2e07014153cf20df5ac1151573dbe4a615b4b0,openstack/monasca-agent,master,Idf2e07014153cf20df5ac1151573dbe4a615b4b0,Fix autodiscovery using pods annotations in prometheus plugin.,NEW,2022-12-29 11:56:40.000000000,2022-12-29 12:27:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-29 11:56:40.000000000', 'files': ['monasca_agent/collector/checks/utils.py', 'monasca_agent/collector/checks_d/prometheus.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/a9b6edd093ccd97de78c49f38ca469164cc5c1c4', 'message': 'Fix autodiscovery using pods annotations in prometheus plugin.\n\nUsing Kubernetes API endpoint instaed of kubelet readonly endpoint to get all pods and their annotations.\nUpdate API endpoint to get replicaset details.\n\nTask: 47092\nStory: 2010505\nSigned-off-by: Pawe Kubica <pawel.kubica@comarch.com>\nChange-Id: Idf2e07014153cf20df5ac1151573dbe4a615b4b0\n'}]",0,868865,a9b6edd093ccd97de78c49f38ca469164cc5c1c4,2,1,1,35572,,,0,"Fix autodiscovery using pods annotations in prometheus plugin.

Using Kubernetes API endpoint instaed of kubelet readonly endpoint to get all pods and their annotations.
Update API endpoint to get replicaset details.

Task: 47092
Story: 2010505
Signed-off-by: Pawe Kubica <pawel.kubica@comarch.com>
Change-Id: Idf2e07014153cf20df5ac1151573dbe4a615b4b0
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/65/868865/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_agent/collector/checks/utils.py', 'monasca_agent/collector/checks_d/prometheus.py']",2,a9b6edd093ccd97de78c49f38ca469164cc5c1c4,fix_prometheus_pod_autodiscovery," pods = self.kubernetes_connector.get_request(""/api/v1/pods"") except Exception as e: exception_message = ""Could not get pods from Kubernetes API with error - {}"".format(e)"," self.kubelet_url = None if not self.kubelet_url: try: host = self.kubernetes_connector.get_agent_pod_host() self.kubelet_url = ""http://{}:10255/pods"".format(host) except Exception as e: self.log.error(""Could not obtain current host from Kubernetes API {}. "" ""Skipping check"".format(e)) return pods = requests.get(self.kubelet_url, timeout=self.connection_timeout).json() except Exception as e: exception_message = ""Could not get pods from local kubelet with error - {}"".format(e)",3,12
openstack%2Fkayobe~stable%2Fxena~I66b3a85adfe2928b936006780fb20b5fc7cc802f,openstack/kayobe,stable/xena,I66b3a85adfe2928b936006780fb20b5fc7cc802f,Fix tox.ini for tox4,MERGED,2022-12-28 17:43:22.000000000,2022-12-29 10:58:37.000000000,2022-12-29 10:57:37.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-28 17:43:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e9a420160afd5fd41fe753691f03f6bf2baee300', 'message': 'Fix tox.ini for tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943/\n\nChange-Id: I66b3a85adfe2928b936006780fb20b5fc7cc802f\n(cherry picked from commit 5e1e28538451cd4b45bd0b4ed42239a7d622ecf4)\n'}]",1,868568,e9a420160afd5fd41fe753691f03f6bf2baee300,12,3,1,22629,,,0,"Fix tox.ini for tox4

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943/

Change-Id: I66b3a85adfe2928b936006780fb20b5fc7cc802f
(cherry picked from commit 5e1e28538451cd4b45bd0b4ed42239a7d622ecf4)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/68/868568/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e9a420160afd5fd41fe753691f03f6bf2baee300,fix-tox-stable/xena,allowlist_externals = make python3 bash {toxinidir}/tools/run-bashate.sh python3 {toxinidir}/tools/sphinx8 README.rst CONTRIBUTING.rst doc/source --ignore D001 bash {toxinidir}/tools/ansible-galaxy-retried.sh install \ bash {toxinidir}/tools/test-ansible.sh {posargs} bash {toxinidir}/tools/ansible-galaxy-retried.sh install \ bash {toxinidir}/tools/ansible-galaxy-retried.sh install \,skipsdist = Truewhitelist_externals = {toxinidir}/tools/run-bashate.sh {toxinidir}/tools/sphinx8 README.rst CONTRIBUTING.rst doc/source --ignore D001 {toxinidir}/tools/ansible-galaxy-retried.sh install \ {toxinidir}/tools/test-ansible.sh {posargs}whitelist_externals = bash {toxinidir}/tools/ansible-galaxy-retried.sh install \ {toxinidir}/tools/ansible-galaxy-retried.sh install \whitelist_externals = make,9,11
openstack%2Fironic~master~If46712d9a7991d47f93a1f29dea9c65dad12f1a8,openstack/ironic,master,If46712d9a7991d47f93a1f29dea9c65dad12f1a8,Fix CI,ABANDONED,2022-12-21 10:19:53.000000000,2022-12-29 09:19:06.000000000,,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 10:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2b3ea51521acd7a8558d2372abde8ac4add6e55d', 'message': '[DNM] test ci\n\nIncrease base VM memory\n\nChange-Id: If46712d9a7991d47f93a1f29dea9c65dad12f1a8\n'}, {'number': 2, 'created': '2022-12-21 12:50:11.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/95ed4f1a7b469baead23fff7ec6f6855d87be232', 'message': 'Fix CI\n\nIncrease base VM memory according to new requirements for CS9 based IPA\n\nChange-Id: If46712d9a7991d47f93a1f29dea9c65dad12f1a8\n'}]",3,868302,95ed4f1a7b469baead23fff7ec6f6855d87be232,21,4,2,23851,,,0,"Fix CI

Increase base VM memory according to new requirements for CS9 based IPA

Change-Id: If46712d9a7991d47f93a1f29dea9c65dad12f1a8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/02/868302/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,2b3ea51521acd7a8558d2372abde8ac4add6e55d,test-ci, IRONIC_VM_SPECS_RAM: 3192, IRONIC_VM_SPECS_RAM: 2600,1,1
openstack%2Fvenus~master~Id535dc328dcf88f12fc5b645f60d439726d8cde5,openstack/venus,master,Id535dc328dcf88f12fc5b645f60d439726d8cde5,setting task execute interval as 60s,MERGED,2022-12-29 06:27:54.000000000,2022-12-29 08:15:41.000000000,2022-12-29 08:14:43.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-12-29 06:27:54.000000000', 'files': ['venus/task/timer.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/47e4e1651ecfd534ae95b6e156ac04994f2fd620', 'message': 'setting task execute interval as 60s\n\nChange-Id: Id535dc328dcf88f12fc5b645f60d439726d8cde5\n'}]",0,868860,47e4e1651ecfd534ae95b6e156ac04994f2fd620,7,2,1,30455,,,0,"setting task execute interval as 60s

Change-Id: Id535dc328dcf88f12fc5b645f60d439726d8cde5
",git fetch https://review.opendev.org/openstack/venus refs/changes/60/868860/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/task/timer.py'],1,47e4e1651ecfd534ae95b6e156ac04994f2fd620,," seconds=60, id='delete_es_index_job') "," seconds=10, id='delete_es_index_job') ",1,1
openstack%2Fnova~stable%2Fzed~Ifb0129869422829b94260e37051d5666c41a9fe7,openstack/nova,stable/zed,Ifb0129869422829b94260e37051d5666c41a9fe7,DNM: testing requirement-checks job on stable branch,ABANDONED,2022-12-29 04:08:14.000000000,2022-12-29 04:21:22.000000000,,[],"[{'number': 1, 'created': '2022-12-29 04:08:14.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/926912e510b54f8eb24ca38bbd8689f7f8a650e9', 'message': 'DNM: testing requirement-checks job on stable branch\n\nChange-Id: Ifb0129869422829b94260e37051d5666c41a9fe7\n'}]",0,868852,926912e510b54f8eb24ca38bbd8689f7f8a650e9,2,0,1,8556,,,0,"DNM: testing requirement-checks job on stable branch

Change-Id: Ifb0129869422829b94260e37051d5666c41a9fe7
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/868852/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,926912e510b54f8eb24ca38bbd8689f7f8a650e9,,oslo.policy>=3.8.0 # Apache-2.0,oslo.policy>=3.7.0 # Apache-2.0,1,1
openstack%2Ftripleo-quickstart-extras~master~Iecf36eff8ef27fd2734f77b09180d0b4d8654c52,openstack/tripleo-quickstart-extras,master,Iecf36eff8ef27fd2734f77b09180d0b4d8654c52,Pass centos.repo from host during image build.,MERGED,2022-12-27 11:54:41.000000000,2022-12-29 00:25:30.000000000,2022-12-29 00:25:30.000000000,"[{'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-12-27 11:54:41.000000000', 'files': ['roles/build-images/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6d250182278bf686d5120f5c5863d1ee24bccb41', 'message': 'Pass centos.repo from host during image build.\n\nImage build in component jobs is pulling content from\ncentos.repo instead of quickstart repos, see [0]\n\nThis can cause mismatch of rpm when mirrors.centos.org and\nlocal mirrors are not in sync.\n\nThe base image which we use to build overcloud images already have\ncentos.repo and when proxy mirros are not updated this can cause\nan issue.\n\nThis is a workaround patch to pass centos.repo(which are disabled\non host) so that same repos in the image will be overridden.\n\nOne change in behavior is at the end of image build, dib will delete\nthe centos.repos in the overcloud image as dib cleans up what it adds\nignoring what was already present.\n\noooci-build-images already have same fix.\n\n[0] https://logserver.rdoproject.org/openstack-component-baremetal/opendev.org/openstack/tripleo-ci/master/periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset001-baremetal-wallaby/1cd7430/logs/undercloud/home/zuul/build.log.txt.gz\n~~~\n2022-12-27 00:54:07.471 |  kernel                         x86_64  5.14.0-214.el9            baseos           2.8 M\n~~~\n\n[1] https://github.com/openstack/tripleo-ci/commit/b2ce4b4c101d68eaa71d1499609423e10f50f2d5\n\nRelated-Bug: #2000226\nChange-Id: Iecf36eff8ef27fd2734f77b09180d0b4d8654c52\n'}]",7,868677,6d250182278bf686d5120f5c5863d1ee24bccb41,25,5,1,29775,,,0,"Pass centos.repo from host during image build.

Image build in component jobs is pulling content from
centos.repo instead of quickstart repos, see [0]

This can cause mismatch of rpm when mirrors.centos.org and
local mirrors are not in sync.

The base image which we use to build overcloud images already have
centos.repo and when proxy mirros are not updated this can cause
an issue.

This is a workaround patch to pass centos.repo(which are disabled
on host) so that same repos in the image will be overridden.

One change in behavior is at the end of image build, dib will delete
the centos.repos in the overcloud image as dib cleans up what it adds
ignoring what was already present.

oooci-build-images already have same fix.

[0] https://logserver.rdoproject.org/openstack-component-baremetal/opendev.org/openstack/tripleo-ci/master/periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset001-baremetal-wallaby/1cd7430/logs/undercloud/home/zuul/build.log.txt.gz
~~~
2022-12-27 00:54:07.471 |  kernel                         x86_64  5.14.0-214.el9            baseos           2.8 M
~~~

[1] https://github.com/openstack/tripleo-ci/commit/b2ce4b4c101d68eaa71d1499609423e10f50f2d5

Related-Bug: #2000226
Change-Id: Iecf36eff8ef27fd2734f77b09180d0b4d8654c52
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/77/868677/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-images/defaults/main.yml'],1,6d250182278bf686d5120f5c5863d1ee24bccb41,pass-centos-repo-during-image-build," - ""/etc/yum.repos.d/centos.repo""",,1,0
openstack%2Fansible-role-qdrouterd~stable%2Fzed~If4222df60a99a022d2e50f4612796417decb6493,openstack/ansible-role-qdrouterd,stable/zed,If4222df60a99a022d2e50f4612796417decb6493,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:26:45.000000000,2022-12-28 22:39:44.000000000,2022-12-28 22:38:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:26:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/eacfc566c25586d53fe295816b2f549c357a611b', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: If4222df60a99a022d2e50f4612796417decb6493'}]",0,868827,eacfc566c25586d53fe295816b2f549c357a611b,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: If4222df60a99a022d2e50f4612796417decb6493",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/27/868827/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eacfc566c25586d53fe295816b2f549c357a611b,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fopenstack-ansible-repo_server~stable%2Fyoga~I425da18308b74297dc1f554096331e7d025e78f9,openstack/openstack-ansible-repo_server,stable/yoga,I425da18308b74297dc1f554096331e7d025e78f9,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:57.000000000,2022-12-28 22:26:14.000000000,2022-12-28 22:25:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/923356ce952f395ffa33bc8be979436f8e4ac133', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I425da18308b74297dc1f554096331e7d025e78f9'}]",0,868818,923356ce952f395ffa33bc8be979436f8e4ac133,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I425da18308b74297dc1f554096331e7d025e78f9",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/18/868818/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,923356ce952f395ffa33bc8be979436f8e4ac133,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fansible-role-systemd_networkd~stable%2Fzed~Idd2791c321e194bc82d38d857d82d1ec1ccb9681,openstack/ansible-role-systemd_networkd,stable/zed,Idd2791c321e194bc82d38d857d82d1ec1ccb9681,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:26:45.000000000,2022-12-28 22:26:02.000000000,2022-12-28 22:25:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:26:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/a1828b72631caa30dcc0db69a380dc6d0523033f', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Idd2791c321e194bc82d38d857d82d1ec1ccb9681'}]",0,868825,a1828b72631caa30dcc0db69a380dc6d0523033f,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Idd2791c321e194bc82d38d857d82d1ec1ccb9681",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/25/868825/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a1828b72631caa30dcc0db69a380dc6d0523033f,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fansible-hardening~stable%2Fzed~Idaed4660d8598de8693e309a47764cdc1a447e8f,openstack/ansible-hardening,stable/zed,Idaed4660d8598de8693e309a47764cdc1a447e8f,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:26:46.000000000,2022-12-28 22:26:01.000000000,2022-12-28 22:25:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:26:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/aa691e0c5a566bcfb656f9090f7faa29b42e905d', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Idaed4660d8598de8693e309a47764cdc1a447e8f'}]",0,868828,aa691e0c5a566bcfb656f9090f7faa29b42e905d,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Idaed4660d8598de8693e309a47764cdc1a447e8f",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/28/868828/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,aa691e0c5a566bcfb656f9090f7faa29b42e905d,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fansible-role-systemd_mount~stable%2Fzed~I879177aae9d4eade6504a3a0377a79dc69b091f9,openstack/ansible-role-systemd_mount,stable/zed,I879177aae9d4eade6504a3a0377a79dc69b091f9,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:26:45.000000000,2022-12-28 22:25:30.000000000,2022-12-28 22:24:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:26:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/6fa41b1c201af9f2dfa3f805aba3fff15f13ff32', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I879177aae9d4eade6504a3a0377a79dc69b091f9'}]",0,868824,6fa41b1c201af9f2dfa3f805aba3fff15f13ff32,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I879177aae9d4eade6504a3a0377a79dc69b091f9",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/24/868824/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6fa41b1c201af9f2dfa3f805aba3fff15f13ff32,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fzed~I1d1917f1739910774edec42daa5fbdd11abda042,openstack/openstack-ansible-haproxy_server,stable/zed,I1d1917f1739910774edec42daa5fbdd11abda042,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:26:49.000000000,2022-12-28 22:24:54.000000000,2022-12-28 22:23:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:26:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/a19df7b182a9c2eaf4dcb1ac9224aa6af3ec9576', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I1d1917f1739910774edec42daa5fbdd11abda042'}]",0,868830,a19df7b182a9c2eaf4dcb1ac9224aa6af3ec9576,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I1d1917f1739910774edec42daa5fbdd11abda042",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/30/868830/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a19df7b182a9c2eaf4dcb1ac9224aa6af3ec9576,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-memcached_server~stable%2Fzed~I566425e9bcb73ecc28fb3a3d5112d36f7fbcf18d,openstack/openstack-ansible-memcached_server,stable/zed,I566425e9bcb73ecc28fb3a3d5112d36f7fbcf18d,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:26:50.000000000,2022-12-28 22:24:44.000000000,2022-12-28 22:23:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:26:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/77c4a9574ac0cb1a1b164542b397104f476a61e0', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I566425e9bcb73ecc28fb3a3d5112d36f7fbcf18d'}]",0,868835,77c4a9574ac0cb1a1b164542b397104f476a61e0,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I566425e9bcb73ecc28fb3a3d5112d36f7fbcf18d",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/35/868835/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,77c4a9574ac0cb1a1b164542b397104f476a61e0,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-apt_package_pinning~stable%2Fzed~I4fade52d563cb9c5ef935ee25a782c9f2dfb12c1,openstack/openstack-ansible-apt_package_pinning,stable/zed,I4fade52d563cb9c5ef935ee25a782c9f2dfb12c1,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:26:49.000000000,2022-12-28 22:24:32.000000000,2022-12-28 22:23:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:26:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/9c55270ef792b5b51f99d1cd142d8d10794312bb', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I4fade52d563cb9c5ef935ee25a782c9f2dfb12c1'}]",0,868829,9c55270ef792b5b51f99d1cd142d8d10794312bb,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I4fade52d563cb9c5ef935ee25a782c9f2dfb12c1",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/29/868829/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9c55270ef792b5b51f99d1cd142d8d10794312bb,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fyoga~I5fe02c217c049ac3f3a9dac5f795d09ee26ce1dc,openstack/openstack-ansible-lxc_container_create,stable/yoga,I5fe02c217c049ac3f3a9dac5f795d09ee26ce1dc,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:36.000000000,2022-12-28 22:24:29.000000000,2022-12-28 22:23:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/b59f1c8ecf6ed928d0a95dd2703195a5a5461442', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I5fe02c217c049ac3f3a9dac5f795d09ee26ce1dc'}]",0,868806,b59f1c8ecf6ed928d0a95dd2703195a5a5461442,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I5fe02c217c049ac3f3a9dac5f795d09ee26ce1dc",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/06/868806/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b59f1c8ecf6ed928d0a95dd2703195a5a5461442,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fzed~I06e66544d3610633a125214aea448f98a4e9c503,openstack/openstack-ansible-openstack_hosts,stable/zed,I06e66544d3610633a125214aea448f98a4e9c503,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:26:53.000000000,2022-12-28 22:24:13.000000000,2022-12-28 22:23:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:26:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/f66b2983e388c7f61bea1c3d4f89a9183f0d82a7', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I06e66544d3610633a125214aea448f98a4e9c503'}]",0,868838,f66b2983e388c7f61bea1c3d4f89a9183f0d82a7,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I06e66544d3610633a125214aea448f98a4e9c503",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/38/868838/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f66b2983e388c7f61bea1c3d4f89a9183f0d82a7,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fzed~I2ba2c0e4a45806f4a56a84afd420140c8cca694c,openstack/openstack-ansible-lxc_hosts,stable/zed,I2ba2c0e4a45806f4a56a84afd420140c8cca694c,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:26:50.000000000,2022-12-28 22:24:03.000000000,2022-12-28 22:23:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:26:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/53d90decd4d10dd4e6c8a9737051a65a16b343d4', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I2ba2c0e4a45806f4a56a84afd420140c8cca694c'}]",0,868836,53d90decd4d10dd4e6c8a9737051a65a16b343d4,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I2ba2c0e4a45806f4a56a84afd420140c8cca694c",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/36/868836/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,53d90decd4d10dd4e6c8a9737051a65a16b343d4,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-os_senlin~stable%2Fzed~I539f71462cc39f11afd1c3b0037875d9030f612e,openstack/openstack-ansible-os_senlin,stable/zed,I539f71462cc39f11afd1c3b0037875d9030f612e,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:27:05.000000000,2022-12-28 22:23:39.000000000,2022-12-28 22:22:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:27:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/239ef906bd1b208e488ee0fa01b7ff5f320347e0', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I539f71462cc39f11afd1c3b0037875d9030f612e'}]",0,868843,239ef906bd1b208e488ee0fa01b7ff5f320347e0,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I539f71462cc39f11afd1c3b0037875d9030f612e",git fetch https://review.opendev.org/openstack/openstack-ansible-os_senlin refs/changes/43/868843/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,239ef906bd1b208e488ee0fa01b7ff5f320347e0,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-os_magnum~stable%2Fyoga~I5d2d4c23ec2d81261a01f68d2be80b2b5033b498,openstack/openstack-ansible-os_magnum,stable/yoga,I5d2d4c23ec2d81261a01f68d2be80b2b5033b498,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:54.000000000,2022-12-28 22:23:08.000000000,2022-12-28 22:22:10.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/48f1cccb70dd53844d50b93b0eee2048bc91e908', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I5d2d4c23ec2d81261a01f68d2be80b2b5033b498'}]",0,868815,48f1cccb70dd53844d50b93b0eee2048bc91e908,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I5d2d4c23ec2d81261a01f68d2be80b2b5033b498",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/15/868815/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,48f1cccb70dd53844d50b93b0eee2048bc91e908,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-os_magnum~stable%2Fzed~I2a48c9d76ee5ebf891895008903c030334e64a93,openstack/openstack-ansible-os_magnum,stable/zed,I2a48c9d76ee5ebf891895008903c030334e64a93,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:27:00.000000000,2022-12-28 22:23:06.000000000,2022-12-28 22:22:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:27:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/bc08f947475c96715393786d125d4171933cd9e6', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I2a48c9d76ee5ebf891895008903c030334e64a93'}]",0,868841,bc08f947475c96715393786d125d4171933cd9e6,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I2a48c9d76ee5ebf891895008903c030334e64a93",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/41/868841/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bc08f947475c96715393786d125d4171933cd9e6,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fansible-role-pki~stable%2Fzed~Ic193e50c1dde46b4574b8715c2bdf63b4bc28d44,openstack/ansible-role-pki,stable/zed,Ic193e50c1dde46b4574b8715c2bdf63b4bc28d44,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:26:45.000000000,2022-12-28 22:22:55.000000000,2022-12-28 22:21:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:26:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/5f0e6c374c551123954a6be01c1711335e92db29', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Ic193e50c1dde46b4574b8715c2bdf63b4bc28d44'}]",0,868823,5f0e6c374c551123954a6be01c1711335e92db29,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Ic193e50c1dde46b4574b8715c2bdf63b4bc28d44",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/23/868823/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5f0e6c374c551123954a6be01c1711335e92db29,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fyoga~I0d1ea8c8739287c96305f9dbfeea4629940b4d63,openstack/openstack-ansible-haproxy_server,stable/yoga,I0d1ea8c8739287c96305f9dbfeea4629940b4d63,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:35.000000000,2022-12-28 22:22:40.000000000,2022-12-28 22:21:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/e6a178576156545988fb590d0d8f7ca4701ec112', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I0d1ea8c8739287c96305f9dbfeea4629940b4d63'}]",0,868803,e6a178576156545988fb590d0d8f7ca4701ec112,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I0d1ea8c8739287c96305f9dbfeea4629940b4d63",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/03/868803/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e6a178576156545988fb590d0d8f7ca4701ec112,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-os_manila~stable%2Fzed~Iedb5a9c846028e3e984ce823575764cae667f7e5,openstack/openstack-ansible-os_manila,stable/zed,Iedb5a9c846028e3e984ce823575764cae667f7e5,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:27:00.000000000,2022-12-28 22:22:14.000000000,2022-12-28 22:21:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:27:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/571c0eb70a5c79a7ef323a5a093d5ba4e1152896', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Iedb5a9c846028e3e984ce823575764cae667f7e5'}]",0,868840,571c0eb70a5c79a7ef323a5a093d5ba4e1152896,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Iedb5a9c846028e3e984ce823575764cae667f7e5",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/40/868840/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,571c0eb70a5c79a7ef323a5a093d5ba4e1152896,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-memcached_server~stable%2Fyoga~If11938e8a8ba2cf2e55d8a1b7ffcaa0e3a0f3661,openstack/openstack-ansible-memcached_server,stable/yoga,If11938e8a8ba2cf2e55d8a1b7ffcaa0e3a0f3661,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:35.000000000,2022-12-28 22:22:01.000000000,2022-12-28 22:20:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/64ff6f4ede9f184dfa7ff0fd3b371326f1643760', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: If11938e8a8ba2cf2e55d8a1b7ffcaa0e3a0f3661'}]",0,868804,64ff6f4ede9f184dfa7ff0fd3b371326f1643760,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: If11938e8a8ba2cf2e55d8a1b7ffcaa0e3a0f3661",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/04/868804/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,64ff6f4ede9f184dfa7ff0fd3b371326f1643760,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-openstack_openrc~stable%2Fyoga~I8c92b0c324c87815742aec948964be09e6055a58,openstack/openstack-ansible-openstack_openrc,stable/yoga,I8c92b0c324c87815742aec948964be09e6055a58,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:40.000000000,2022-12-28 22:21:47.000000000,2022-12-28 22:20:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/b5b92174132280c42041032dbd00db6d372fed8e', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I8c92b0c324c87815742aec948964be09e6055a58'}]",0,868808,b5b92174132280c42041032dbd00db6d372fed8e,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I8c92b0c324c87815742aec948964be09e6055a58",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/08/868808/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b5b92174132280c42041032dbd00db6d372fed8e,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fyoga~I028515c34a46a9d7e8358beb7515cae1db4f8b47,openstack/openstack-ansible-openstack_hosts,stable/yoga,I028515c34a46a9d7e8358beb7515cae1db4f8b47,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:37.000000000,2022-12-28 22:21:37.000000000,2022-12-28 22:20:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/ce1ca3e70a511ed4cb02ba7348c1c3cf4ea2b7d9', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I028515c34a46a9d7e8358beb7515cae1db4f8b47'}]",0,868807,ce1ca3e70a511ed4cb02ba7348c1c3cf4ea2b7d9,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I028515c34a46a9d7e8358beb7515cae1db4f8b47",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/07/868807/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ce1ca3e70a511ed4cb02ba7348c1c3cf4ea2b7d9,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-openstack_openrc~stable%2Fzed~Ic0c27c9d4628ab028c362b849728a4d6633f8fe4,openstack/openstack-ansible-openstack_openrc,stable/zed,Ic0c27c9d4628ab028c362b849728a4d6633f8fe4,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:26:53.000000000,2022-12-28 22:21:33.000000000,2022-12-28 22:20:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:26:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/e920785f37285998fd8e56918e780ab12d2cac94', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Ic0c27c9d4628ab028c362b849728a4d6633f8fe4'}]",0,868837,e920785f37285998fd8e56918e780ab12d2cac94,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Ic0c27c9d4628ab028c362b849728a4d6633f8fe4",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/37/868837/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e920785f37285998fd8e56918e780ab12d2cac94,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-os_manila~stable%2Fyoga~I690d0bf190ac357432c370343038cbb9e7c4a303,openstack/openstack-ansible-os_manila,stable/yoga,I690d0bf190ac357432c370343038cbb9e7c4a303,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:46.000000000,2022-12-28 22:21:20.000000000,2022-12-28 22:20:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/8581462a5895ed545b2c40b0cb3ce5350efd1c4e', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I690d0bf190ac357432c370343038cbb9e7c4a303'}]",0,868810,8581462a5895ed545b2c40b0cb3ce5350efd1c4e,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I690d0bf190ac357432c370343038cbb9e7c4a303",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/10/868810/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8581462a5895ed545b2c40b0cb3ce5350efd1c4e,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-repo_server~stable%2Fzed~I26188d170af62c4a3217429dd98f61936bceba19,openstack/openstack-ansible-repo_server,stable/zed,I26188d170af62c4a3217429dd98f61936bceba19,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:27:09.000000000,2022-12-28 22:21:17.000000000,2022-12-28 22:20:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:27:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/bce490a901c711856cae59d577bf8d35cce450fa', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I26188d170af62c4a3217429dd98f61936bceba19'}]",0,868848,bce490a901c711856cae59d577bf8d35cce450fa,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I26188d170af62c4a3217429dd98f61936bceba19",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/48/868848/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bce490a901c711856cae59d577bf8d35cce450fa,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fzed~Iaeb008da8fa511326b8d2c99ff5cbb76a3746246,openstack/openstack-ansible-rabbitmq_server,stable/zed,Iaeb008da8fa511326b8d2c99ff5cbb76a3746246,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:27:08.000000000,2022-12-28 22:21:14.000000000,2022-12-28 22:20:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:27:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/57af986d44be21e1bfb95e0b332edb30f7792b31', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Iaeb008da8fa511326b8d2c99ff5cbb76a3746246'}]",0,868847,57af986d44be21e1bfb95e0b332edb30f7792b31,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Iaeb008da8fa511326b8d2c99ff5cbb76a3746246",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/47/868847/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,57af986d44be21e1bfb95e0b332edb30f7792b31,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fansible-role-uwsgi~stable%2Fyoga~Iad05c95d6700840591a01e365f1d74e554ec113a,openstack/ansible-role-uwsgi,stable/yoga,Iad05c95d6700840591a01e365f1d74e554ec113a,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:30.000000000,2022-12-28 22:21:10.000000000,2022-12-28 22:20:10.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/59623917c2a8dd7d87043cabe2c416585b43719c', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Iad05c95d6700840591a01e365f1d74e554ec113a'}]",0,868794,59623917c2a8dd7d87043cabe2c416585b43719c,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Iad05c95d6700840591a01e365f1d74e554ec113a",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/94/868794/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,59623917c2a8dd7d87043cabe2c416585b43719c,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fansible-hardening~stable%2Fyoga~I6ee6786145b96256da805a3ae5ab3d7718fdef5e,openstack/ansible-hardening,stable/yoga,I6ee6786145b96256da805a3ae5ab3d7718fdef5e,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:41.000000000,2022-12-28 22:20:43.000000000,2022-12-28 22:19:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/4e172c119bdb40898e3b0869b8e326c894b8fe7c', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I6ee6786145b96256da805a3ae5ab3d7718fdef5e'}]",0,868809,4e172c119bdb40898e3b0869b8e326c894b8fe7c,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I6ee6786145b96256da805a3ae5ab3d7718fdef5e",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/09/868809/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4e172c119bdb40898e3b0869b8e326c894b8fe7c,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fansible-role-systemd_service~stable%2Fzed~I18bef2f055944cc7b2b6694389c6fa3db0570309,openstack/ansible-role-systemd_service,stable/zed,I18bef2f055944cc7b2b6694389c6fa3db0570309,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:26:50.000000000,2022-12-28 22:20:29.000000000,2022-12-28 22:19:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:26:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/aa6b331296f808c2bc1161edc672f18ab39b4897', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I18bef2f055944cc7b2b6694389c6fa3db0570309'}]",0,868834,aa6b331296f808c2bc1161edc672f18ab39b4897,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I18bef2f055944cc7b2b6694389c6fa3db0570309",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/34/868834/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,aa6b331296f808c2bc1161edc672f18ab39b4897,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fzed~If2bf6c5e5aed3b1a36a7b139ef7924294b77e5a7,openstack/openstack-ansible-lxc_container_create,stable/zed,If2bf6c5e5aed3b1a36a7b139ef7924294b77e5a7,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:26:49.000000000,2022-12-28 22:20:29.000000000,2022-12-28 22:19:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:26:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/efd5586bacae972623cf4f96555828e368454fea', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: If2bf6c5e5aed3b1a36a7b139ef7924294b77e5a7'}]",0,868832,efd5586bacae972623cf4f96555828e368454fea,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: If2bf6c5e5aed3b1a36a7b139ef7924294b77e5a7",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/32/868832/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,efd5586bacae972623cf4f96555828e368454fea,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-galera_server~stable%2Fyoga~Id6421b20778c2d23d7529e973390c97378150a4e,openstack/openstack-ansible-galera_server,stable/yoga,Id6421b20778c2d23d7529e973390c97378150a4e,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:36.000000000,2022-12-28 22:20:12.000000000,2022-12-28 22:19:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/681be76e7b93ef0059a7653f0f54245d6a586c1f', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Id6421b20778c2d23d7529e973390c97378150a4e'}]",0,868805,681be76e7b93ef0059a7653f0f54245d6a586c1f,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Id6421b20778c2d23d7529e973390c97378150a4e",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/05/868805/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,681be76e7b93ef0059a7653f0f54245d6a586c1f,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-ceph_client~stable%2Fzed~I216f4d1d6f88e0bd81bee0a1849be75b52bc7389,openstack/openstack-ansible-ceph_client,stable/zed,I216f4d1d6f88e0bd81bee0a1849be75b52bc7389,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:26:49.000000000,2022-12-28 22:19:53.000000000,2022-12-28 22:18:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:26:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/d3e39178b99b2471c3cd65f0ef4e554a5cda3b8a', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I216f4d1d6f88e0bd81bee0a1849be75b52bc7389'}]",0,868831,d3e39178b99b2471c3cd65f0ef4e554a5cda3b8a,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I216f4d1d6f88e0bd81bee0a1849be75b52bc7389",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/31/868831/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d3e39178b99b2471c3cd65f0ef4e554a5cda3b8a,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-os_senlin~stable%2Fyoga~I7613371b8ea072c15acba47a32ee05e0295c6caa,openstack/openstack-ansible-os_senlin,stable/yoga,I7613371b8ea072c15acba47a32ee05e0295c6caa,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:52.000000000,2022-12-28 22:19:51.000000000,2022-12-28 22:18:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/5f0105d17d6ed4dd243cf0f11dacd45804507000', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I7613371b8ea072c15acba47a32ee05e0295c6caa'}]",0,868812,5f0105d17d6ed4dd243cf0f11dacd45804507000,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I7613371b8ea072c15acba47a32ee05e0295c6caa",git fetch https://review.opendev.org/openstack/openstack-ansible-os_senlin refs/changes/12/868812/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5f0105d17d6ed4dd243cf0f11dacd45804507000,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fansible-role-uwsgi~stable%2Fzed~Icc3ff59e4df1a86dfcec9a5a7f9b04d7cf778de3,openstack/ansible-role-uwsgi,stable/zed,Icc3ff59e4df1a86dfcec9a5a7f9b04d7cf778de3,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:26:45.000000000,2022-12-28 22:19:49.000000000,2022-12-28 22:18:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:26:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/97dd886df149a04bf0351ea198eda5860cdaac70', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Icc3ff59e4df1a86dfcec9a5a7f9b04d7cf778de3'}]",0,868822,97dd886df149a04bf0351ea198eda5860cdaac70,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Icc3ff59e4df1a86dfcec9a5a7f9b04d7cf778de3",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/22/868822/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,97dd886df149a04bf0351ea198eda5860cdaac70,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fansible-role-python_venv_build~stable%2Fzed~I3d5f896df1a3b0d0e30b1852ebe278a016553a71,openstack/ansible-role-python_venv_build,stable/zed,I3d5f896df1a3b0d0e30b1852ebe278a016553a71,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:26:45.000000000,2022-12-28 22:19:44.000000000,2022-12-28 22:18:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:26:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/8e983f803db6cbee363ceb6eb2c7f2563d411fa7', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I3d5f896df1a3b0d0e30b1852ebe278a016553a71'}]",0,868826,8e983f803db6cbee363ceb6eb2c7f2563d411fa7,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I3d5f896df1a3b0d0e30b1852ebe278a016553a71",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/26/868826/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8e983f803db6cbee363ceb6eb2c7f2563d411fa7,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fyoga~Id09c518db3e1a8f23f5c6bd17bed0fe146d5869a,openstack/openstack-ansible-lxc_hosts,stable/yoga,Id09c518db3e1a8f23f5c6bd17bed0fe146d5869a,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:24:53.000000000,2022-12-28 22:19:19.000000000,2022-12-28 22:18:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:24:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/a9b363a5c5c051f7eb108b2a5271c9dcf2b3daa3', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Id09c518db3e1a8f23f5c6bd17bed0fe146d5869a'}]",0,868793,a9b363a5c5c051f7eb108b2a5271c9dcf2b3daa3,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Id09c518db3e1a8f23f5c6bd17bed0fe146d5869a",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/93/868793/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a9b363a5c5c051f7eb108b2a5271c9dcf2b3daa3,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fansible-role-pki~stable%2Fyoga~I115ed3481ffbaa139a7332a88a98310f1791a62a,openstack/ansible-role-pki,stable/yoga,I115ed3481ffbaa139a7332a88a98310f1791a62a,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:30.000000000,2022-12-28 22:19:13.000000000,2022-12-28 22:18:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/b053c9de7fa69aba3615c21682ebece9850e9569', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I115ed3481ffbaa139a7332a88a98310f1791a62a'}]",0,868795,b053c9de7fa69aba3615c21682ebece9850e9569,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I115ed3481ffbaa139a7332a88a98310f1791a62a",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/95/868795/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b053c9de7fa69aba3615c21682ebece9850e9569,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fopenstack-ansible-os_sahara~stable%2Fzed~Ie491f0a41bfb7ab79654ea583cef98415fe2668c,openstack/openstack-ansible-os_sahara,stable/zed,Ie491f0a41bfb7ab79654ea583cef98415fe2668c,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:27:05.000000000,2022-12-28 22:18:45.000000000,2022-12-28 22:17:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:27:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/4ef2f5af755b03224f0e7dfea7eb27193612ad40', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Ie491f0a41bfb7ab79654ea583cef98415fe2668c'}]",0,868844,4ef2f5af755b03224f0e7dfea7eb27193612ad40,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Ie491f0a41bfb7ab79654ea583cef98415fe2668c",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/44/868844/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4ef2f5af755b03224f0e7dfea7eb27193612ad40,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fyoga~I703d8137f6c9054b9014ebc6558d976c508d3921,openstack/openstack-ansible-rabbitmq_server,stable/yoga,I703d8137f6c9054b9014ebc6558d976c508d3921,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:56.000000000,2022-12-28 22:18:36.000000000,2022-12-28 22:17:40.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/0a692b02f8e4e408991f24a2424b8018af3c23d2', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I703d8137f6c9054b9014ebc6558d976c508d3921'}]",0,868817,0a692b02f8e4e408991f24a2424b8018af3c23d2,7,2,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I703d8137f6c9054b9014ebc6558d976c508d3921",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/17/868817/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0a692b02f8e4e408991f24a2424b8018af3c23d2,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-os_swift~stable%2Fzed~I019b6f2a081f160b430f9cb7d8cb35ea299fd5e1,openstack/openstack-ansible-os_swift,stable/zed,I019b6f2a081f160b430f9cb7d8cb35ea299fd5e1,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:27:06.000000000,2022-12-28 22:18:20.000000000,2022-12-28 22:17:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:27:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/e7527d082e56240af6854d26e09184ad32599c3f', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I019b6f2a081f160b430f9cb7d8cb35ea299fd5e1'}]",0,868845,e7527d082e56240af6854d26e09184ad32599c3f,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I019b6f2a081f160b430f9cb7d8cb35ea299fd5e1",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/45/868845/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e7527d082e56240af6854d26e09184ad32599c3f,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-os_sahara~stable%2Fyoga~I0f56bb42bc2c297feb001af28fcd89df31bdce9b,openstack/openstack-ansible-os_sahara,stable/yoga,I0f56bb42bc2c297feb001af28fcd89df31bdce9b,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:52.000000000,2022-12-28 22:17:14.000000000,2022-12-28 22:16:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/4948e934211abe6c3c763015a7f15f4c60c9389a', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I0f56bb42bc2c297feb001af28fcd89df31bdce9b'}]",0,868813,4948e934211abe6c3c763015a7f15f4c60c9389a,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I0f56bb42bc2c297feb001af28fcd89df31bdce9b",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/13/868813/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4948e934211abe6c3c763015a7f15f4c60c9389a,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-os_swift~stable%2Fyoga~Ia88f419a5d9eb62e54c204f8a6188473e356503a,openstack/openstack-ansible-os_swift,stable/yoga,Ia88f419a5d9eb62e54c204f8a6188473e356503a,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:53.000000000,2022-12-28 22:17:05.000000000,2022-12-28 22:16:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/8597899a3d144ea292da77d13b9391cd8b93dae8', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Ia88f419a5d9eb62e54c204f8a6188473e356503a'}]",0,868814,8597899a3d144ea292da77d13b9391cd8b93dae8,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Ia88f419a5d9eb62e54c204f8a6188473e356503a",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/14/868814/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8597899a3d144ea292da77d13b9391cd8b93dae8,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-galera_server~stable%2Fzed~Ie6216d0cd9105acf482d6c4cff26088ff2df61f7,openstack/openstack-ansible-galera_server,stable/zed,Ie6216d0cd9105acf482d6c4cff26088ff2df61f7,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:26:49.000000000,2022-12-28 22:16:59.000000000,2022-12-28 22:15:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:26:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/e8876fef59aa52718dfd8aaca0e3c86fc5744b43', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Ie6216d0cd9105acf482d6c4cff26088ff2df61f7'}]",0,868833,e8876fef59aa52718dfd8aaca0e3c86fc5744b43,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Ie6216d0cd9105acf482d6c4cff26088ff2df61f7",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/33/868833/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e8876fef59aa52718dfd8aaca0e3c86fc5744b43,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fansible-role-python_venv_build~stable%2Fyoga~Ie3e6f8bf939ed228758bc6303577676d0e66b7aa,openstack/ansible-role-python_venv_build,stable/yoga,Ie3e6f8bf939ed228758bc6303577676d0e66b7aa,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:31.000000000,2022-12-28 22:15:37.000000000,2022-12-28 22:14:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/376cd2f894fe1fc736da15bd482b986064ec4ff0', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Ie3e6f8bf939ed228758bc6303577676d0e66b7aa'}]",0,868799,376cd2f894fe1fc736da15bd482b986064ec4ff0,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Ie3e6f8bf939ed228758bc6303577676d0e66b7aa",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/99/868799/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,376cd2f894fe1fc736da15bd482b986064ec4ff0,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-ops~stable%2Fzed~I610f042fb8bc0a1da3c444cd56561f88c7056a3c,openstack/openstack-ansible-ops,stable/zed,I610f042fb8bc0a1da3c444cd56561f88c7056a3c,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:26:55.000000000,2022-12-28 22:13:00.000000000,2022-12-28 22:12:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:26:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/26d30e2a96236d764624c55cd40ac57df5bf90ce', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I610f042fb8bc0a1da3c444cd56561f88c7056a3c'}]",0,868839,26d30e2a96236d764624c55cd40ac57df5bf90ce,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I610f042fb8bc0a1da3c444cd56561f88c7056a3c",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/39/868839/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,26d30e2a96236d764624c55cd40ac57df5bf90ce,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fopenstack-ansible-os_murano~stable%2Fzed~Ia5634aca647ec45a598c359d1bdc4a1c3d48d2ce,openstack/openstack-ansible-os_murano,stable/zed,Ia5634aca647ec45a598c359d1bdc4a1c3d48d2ce,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:27:01.000000000,2022-12-28 22:12:12.000000000,2022-12-28 22:10:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:27:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/3dc5d4a0cfe7c896b5d0570f201daf90876c6a16', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Ia5634aca647ec45a598c359d1bdc4a1c3d48d2ce'}]",0,868842,3dc5d4a0cfe7c896b5d0570f201daf90876c6a16,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Ia5634aca647ec45a598c359d1bdc4a1c3d48d2ce",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/42/868842/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3dc5d4a0cfe7c896b5d0570f201daf90876c6a16,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fopenstack-ansible-os_murano~stable%2Fyoga~Ib58c661f3a506a6808d83cbac8cab95dd0c424a1,openstack/openstack-ansible-os_murano,stable/yoga,Ib58c661f3a506a6808d83cbac8cab95dd0c424a1,Update tox.ini to work with 4.0,MERGED,2022-12-28 21:25:48.000000000,2022-12-28 22:07:44.000000000,2022-12-28 22:06:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 21:25:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/ef351a57304d4058300490c5b530f69adf3e4e4f', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Ib58c661f3a506a6808d83cbac8cab95dd0c424a1'}]",0,868811,ef351a57304d4058300490c5b530f69adf3e4e4f,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Ib58c661f3a506a6808d83cbac8cab95dd0c424a1",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/11/868811/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ef351a57304d4058300490c5b530f69adf3e4e4f,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fopenstack-ansible-os_neutron~master~Ib6d69bb2ce340b50140216e2abf236a1da93e46b,openstack/openstack-ansible-os_neutron,master,Ib6d69bb2ce340b50140216e2abf236a1da93e46b,Create separate lock path for neutron-ovn-metadata-agent,MERGED,2022-12-22 12:53:51.000000000,2022-12-28 22:05:58.000000000,2022-12-28 22:04:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-22 12:53:51.000000000', 'files': ['vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/d4cbd2d7adcf4bba95a885c87d2c6e4dc9c1b012', 'message': ""Create separate lock path for neutron-ovn-metadata-agent\n\nroot user/group ownership of the neutron-ovn-metadata service caused\nthe neutron lock dir to be owned by root:root, which caused issues\nwith neutron-server's ability to write the OVN hash ring lock file\nto /run/lock/neutron and prevented the creation of networks.\n\nIt appears neutron-ovn-metadata-agent needs access to the OVS DB\nschema via unix:/var/run/openvswitch/db.sock, which is owned by root,\nso a separate lock path has been created for the metadata agent to\nworkaround this.\n\nFWIW, this issue manifested with upstream Neutron commit\n536498a29a4e7662a4d0b1bb923e2521509ad77a.\n\nChange-Id: Ib6d69bb2ce340b50140216e2abf236a1da93e46b\n""}]",9,868415,d4cbd2d7adcf4bba95a885c87d2c6e4dc9c1b012,24,3,1,16011,,,0,"Create separate lock path for neutron-ovn-metadata-agent

root user/group ownership of the neutron-ovn-metadata service caused
the neutron lock dir to be owned by root:root, which caused issues
with neutron-server's ability to write the OVN hash ring lock file
to /run/lock/neutron and prevented the creation of networks.

It appears neutron-ovn-metadata-agent needs access to the OVS DB
schema via unix:/var/run/openvswitch/db.sock, which is owned by root,
so a separate lock path has been created for the metadata agent to
workaround this.

FWIW, this issue manifested with upstream Neutron commit
536498a29a4e7662a4d0b1bb923e2521509ad77a.

Change-Id: Ib6d69bb2ce340b50140216e2abf236a1da93e46b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/15/868415/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,d4cbd2d7adcf4bba95a885c87d2c6e4dc9c1b012,, systemd_lock_dir: /run/lock/neutron-ovn-metadata,,1,0
openstack%2Fopenstack-ansible-plugins~master~Ibecc7a87957d3d1ca672a644713af60173b75cb3,openstack/openstack-ansible-plugins,master,Ibecc7a87957d3d1ca672a644713af60173b75cb3,Update tox.ini to work with 4.0,ABANDONED,2022-12-27 16:53:29.000000000,2022-12-28 21:38:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-27 16:53:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/a31a2ac42f2eeca7f03c5bbf4407e00f803d7f06', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Ibecc7a87957d3d1ca672a644713af60173b75cb3'}]",1,868707,a31a2ac42f2eeca7f03c5bbf4407e00f803d7f06,5,1,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Ibecc7a87957d3d1ca672a644713af60173b75cb3",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/07/868707/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a31a2ac42f2eeca7f03c5bbf4407e00f803d7f06,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fopenstack-ansible~stable%2Fzed~I4f9587c3a30c23efb1d4c9fe6b598f7eaf793410,openstack/openstack-ansible,stable/zed,I4f9587c3a30c23efb1d4c9fe6b598f7eaf793410,[doc] Fix document on dymanic_inventory tox usage,MERGED,2022-12-21 08:49:58.000000000,2022-12-28 21:27:01.000000000,2022-12-28 21:25:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-21 08:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/21753fe09784f2d37a96151ee33d765b65031d36', 'message': '[doc] Fix document on dymanic_inventory tox usage\n\nThere was a type and one important option missed for inventory\ninstallation i na document, that was adjusted in [1]\n\nSo basically wah twe need to do, is store source in tox venv and create\nan egg-link to it to get dynamic_inventory binary.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/863423\n\nChange-Id: I4f9587c3a30c23efb1d4c9fe6b598f7eaf793410\n(cherry picked from commit 8493f264e8b8d3408550906d458068264ba05774)\n'}, {'number': 2, 'created': '2022-12-28 19:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/054b4c2491c56ad7a9d5a3cd9e18e2f24198404c', 'message': '[doc] Fix document on dymanic_inventory tox usage\n\nThere was a type and one important option missed for inventory\ninstallation i na document, that was adjusted in [1]\n\nSo basically wah twe need to do, is store source in tox venv and create\nan egg-link to it to get dynamic_inventory binary.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/863423\n\nChange-Id: I4f9587c3a30c23efb1d4c9fe6b598f7eaf793410\n(cherry picked from commit 8493f264e8b8d3408550906d458068264ba05774)\n'}, {'number': 3, 'created': '2022-12-28 19:51:43.000000000', 'files': ['doc/source/reference/inventory/generate-inventory.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1ac606dcc2f4db3cbf5cb2fdeabbd0b592bf42c3', 'message': '[doc] Fix document on dymanic_inventory tox usage\n\nThere was a typo and one important option missed for inventory\ninstallation in a document, that was adjusted in [1]\n\nSo basically what we need to do, is store source in tox venv and create\nan egg-link to it to get dynamic_inventory binary.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/863423\n\nChange-Id: I4f9587c3a30c23efb1d4c9fe6b598f7eaf793410\n(cherry picked from commit 8493f264e8b8d3408550906d458068264ba05774)\n'}]",1,868272,1ac606dcc2f4db3cbf5cb2fdeabbd0b592bf42c3,11,3,3,25023,,,0,"[doc] Fix document on dymanic_inventory tox usage

There was a typo and one important option missed for inventory
installation in a document, that was adjusted in [1]

So basically what we need to do, is store source in tox venv and create
an egg-link to it to get dynamic_inventory binary.

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/863423

Change-Id: I4f9587c3a30c23efb1d4c9fe6b598f7eaf793410
(cherry picked from commit 8493f264e8b8d3408550906d458068264ba05774)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/72/868272/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/inventory/generate-inventory.rst'],1,21753fe09784f2d37a96151ee33d765b65031d36,, pip install -c https://releases.openstack.org/constraints/upper/master {packages} -e git+https://opendev.org/openstack/openstack-ansible@master\#egg=openstack-ansible openstack-ansible-inventory --config {toxinidir}/openstack_deploy, pip install -c https://releases.openstack.org/constraints/upper/master {packages} git+https://opendev.org/openstack/openstack-ansible@master osa-dynamic-inventory --config {toxinidir},2,2
openstack%2Fopenstack-ansible~stable%2Fxena~I1132fbfc3b5481ee43ebb684e1ef02e678e7c932,openstack/openstack-ansible,stable/xena,I1132fbfc3b5481ee43ebb684e1ef02e678e7c932,Update tox.ini,MERGED,2022-12-28 20:13:01.000000000,2022-12-28 21:22:22.000000000,2022-12-28 21:21:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 20:13:01.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/37daa50aa40a229eca88c1e817b87ca2f7a2d16e', 'message': 'Update tox.ini\n\nChange-Id: I1132fbfc3b5481ee43ebb684e1ef02e678e7c932\n(cherry picked from commit fbce36854b7a5930709f28ea71c59ad52e23ade2)\n'}]",0,868772,37daa50aa40a229eca88c1e817b87ca2f7a2d16e,8,3,1,25023,,,0,"Update tox.ini

Change-Id: I1132fbfc3b5481ee43ebb684e1ef02e678e7c932
(cherry picked from commit fbce36854b7a5930709f28ea71c59ad52e23ade2)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/72/868772/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,37daa50aa40a229eca88c1e817b87ca2f7a2d16e,,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,3,2
openstack%2Fopenstack-ansible-plugins~stable%2Fzed~I9af04765f2e43a80e5e931330feeb5534736c4f0,openstack/openstack-ansible-plugins,stable/zed,I9af04765f2e43a80e5e931330feeb5534736c4f0,Update tox.ini to work with 4.0,ABANDONED,2022-12-28 21:13:45.000000000,2022-12-28 21:14:42.000000000,,[],"[{'number': 1, 'created': '2022-12-28 21:13:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/5bad5c4d8d00637bce54c6d2076b75e4e03fc359', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I9af04765f2e43a80e5e931330feeb5534736c4f0'}]",0,868792,5bad5c4d8d00637bce54c6d2076b75e4e03fc359,2,0,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I9af04765f2e43a80e5e931330feeb5534736c4f0",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/92/868792/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5bad5c4d8d00637bce54c6d2076b75e4e03fc359,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fglance_store~stable%2Fxena~I96feba843ca5ebecdc7313961207369da30e72f5,openstack/glance_store,stable/xena,I96feba843ca5ebecdc7313961207369da30e72f5,Fix tox4 error,MERGED,2022-12-27 19:55:09.000000000,2022-12-28 20:38:02.000000000,2022-12-28 20:36:49.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-27 19:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/0d9333b62146cf11e4e8b61a2361024f62184d80', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes.\n\nFixing tox.ini for tox4 changes.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/868530\n\nChange-Id: I96feba843ca5ebecdc7313961207369da30e72f5\n(cherry picked from commit 1a01fe7fd7a30ba1deed9628abf347b599363a27)\n(cherry picked from commit c581c20a48e585f7ca24d217a012064c61273ec4)\n(cherry picked from commit 8eb5629a6e68fa6362d0e9997ace1507102a2756)\n'}, {'number': 2, 'created': '2022-12-28 05:17:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/ece3fbe0619d21580c30f8a86a243ad336718103', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes.\n\nFixing tox.ini for tox4 changes.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/868715\n\nChange-Id: I96feba843ca5ebecdc7313961207369da30e72f5\n(cherry picked from commit 1a01fe7fd7a30ba1deed9628abf347b599363a27)\n(cherry picked from commit c581c20a48e585f7ca24d217a012064c61273ec4)\n(cherry picked from commit 8eb5629a6e68fa6362d0e9997ace1507102a2756)\n'}]",1,868718,ece3fbe0619d21580c30f8a86a243ad336718103,9,2,2,8556,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes.

Fixing tox.ini for tox4 changes.

Depends-On: https://review.opendev.org/c/openstack/glance/+/868715

Change-Id: I96feba843ca5ebecdc7313961207369da30e72f5
(cherry picked from commit 1a01fe7fd7a30ba1deed9628abf347b599363a27)
(cherry picked from commit c581c20a48e585f7ca24d217a012064c61273ec4)
(cherry picked from commit 8eb5629a6e68fa6362d0e9997ace1507102a2756)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/18/868718/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0d9333b62146cf11e4e8b61a2361024f62184d80,tox4,,skipsdist = True,0,1
openstack%2Fopenstack-ansible~stable%2Fyoga~I1132fbfc3b5481ee43ebb684e1ef02e678e7c932,openstack/openstack-ansible,stable/yoga,I1132fbfc3b5481ee43ebb684e1ef02e678e7c932,Update tox.ini,MERGED,2022-12-28 12:28:58.000000000,2022-12-28 20:11:33.000000000,2022-12-28 20:09:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 12:28:58.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/87b638b9c1c9756c17cf2388c648579f2eb3ba1e', 'message': 'Update tox.ini\n\nChange-Id: I1132fbfc3b5481ee43ebb684e1ef02e678e7c932\n(cherry picked from commit fbce36854b7a5930709f28ea71c59ad52e23ade2)\n'}]",0,868563,87b638b9c1c9756c17cf2388c648579f2eb3ba1e,8,3,1,25023,,,0,"Update tox.ini

Change-Id: I1132fbfc3b5481ee43ebb684e1ef02e678e7c932
(cherry picked from commit fbce36854b7a5930709f28ea71c59ad52e23ade2)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/63/868563/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,87b638b9c1c9756c17cf2388c648579f2eb3ba1e,,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,3,2
openstack%2Fopenstack-ansible~stable%2Fzed~I1132fbfc3b5481ee43ebb684e1ef02e678e7c932,openstack/openstack-ansible,stable/zed,I1132fbfc3b5481ee43ebb684e1ef02e678e7c932,Update tox.ini,MERGED,2022-12-28 12:28:44.000000000,2022-12-28 20:11:26.000000000,2022-12-28 20:09:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-28 12:28:44.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/52b99e009358c6772aca56ba32ba9f0abc9fba1c', 'message': 'Update tox.ini\n\nChange-Id: I1132fbfc3b5481ee43ebb684e1ef02e678e7c932\n(cherry picked from commit fbce36854b7a5930709f28ea71c59ad52e23ade2)\n'}]",0,868562,52b99e009358c6772aca56ba32ba9f0abc9fba1c,8,3,1,25023,,,0,"Update tox.ini

Change-Id: I1132fbfc3b5481ee43ebb684e1ef02e678e7c932
(cherry picked from commit fbce36854b7a5930709f28ea71c59ad52e23ade2)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/62/868562/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,52b99e009358c6772aca56ba32ba9f0abc9fba1c,,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,3,2
openstack%2Fgovernance~master~I1da0e4b2a3909bd4e8d2b8f22d7b6c9dec42fd95,openstack/governance,master,I1da0e4b2a3909bd4e8d2b8f22d7b6c9dec42fd95,Fixing some nits in emerging-inactive project documentation,MERGED,2022-12-21 18:57:43.000000000,2022-12-28 19:19:06.000000000,2022-12-28 19:18:09.000000000,"[{'_account_id': 8556}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-21 18:57:43.000000000', 'files': ['reference/emerging-technology-and-inactive-projects.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/96d6f775935bab9e27a43c613558e606a0b0f041', 'message': 'Fixing some nits in emerging-inactive project documentation\n\nThis commit fixes some nits in documentation review comments\ngiven in\n- https://review.opendev.org/c/openstack/governance/+/867062\n\nChange-Id: I1da0e4b2a3909bd4e8d2b8f22d7b6c9dec42fd95\n'}]",1,868365,96d6f775935bab9e27a43c613558e606a0b0f041,13,4,1,8556,,,0,"Fixing some nits in emerging-inactive project documentation

This commit fixes some nits in documentation review comments
given in
- https://review.opendev.org/c/openstack/governance/+/867062

Change-Id: I1da0e4b2a3909bd4e8d2b8f22d7b6c9dec42fd95
",git fetch https://review.opendev.org/openstack/governance refs/changes/65/868365/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/emerging-technology-and-inactive-projects.rst'],1,96d6f775935bab9e27a43c613558e606a0b0f041,typo-fix,"In such a case, it is up to the project itself to get CI working and propose a release if that is needed. It may be required in some cases for example, when there will be security fixes or compatibility fixes merged in thestate, the TC will discuss with the team if project will be retired before the","In such a case it is up to the project itself to get CI working and propose a release if that is needed. It may be required like that for example when there will be some security fixes or compatibility fixes merged in thestate, TC will discuss with the team if project will be retired before the",4,4
openstack%2Fglance_store~stable%2Fyoga~I96feba843ca5ebecdc7313961207369da30e72f5,openstack/glance_store,stable/yoga,I96feba843ca5ebecdc7313961207369da30e72f5,Fix tox4 error,MERGED,2022-12-27 19:54:15.000000000,2022-12-28 19:01:33.000000000,2022-12-28 19:00:31.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-27 19:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/8eb5629a6e68fa6362d0e9997ace1507102a2756', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes.\n\nFixing tox.ini for tox4 changes.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/868530\n\nChange-Id: I96feba843ca5ebecdc7313961207369da30e72f5\n(cherry picked from commit 1a01fe7fd7a30ba1deed9628abf347b599363a27)\n(cherry picked from commit c581c20a48e585f7ca24d217a012064c61273ec4)\n'}, {'number': 2, 'created': '2022-12-28 05:16:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/bc9375e68c0d8fcf7f4386daca8b046aa9395cb2', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes.\n\nFixing tox.ini for tox4 changes.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/868714\n\nChange-Id: I96feba843ca5ebecdc7313961207369da30e72f5\n(cherry picked from commit 1a01fe7fd7a30ba1deed9628abf347b599363a27)\n(cherry picked from commit c581c20a48e585f7ca24d217a012064c61273ec4)\n'}]",1,868717,bc9375e68c0d8fcf7f4386daca8b046aa9395cb2,9,2,2,8556,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes.

Fixing tox.ini for tox4 changes.

Depends-On: https://review.opendev.org/c/openstack/glance/+/868714

Change-Id: I96feba843ca5ebecdc7313961207369da30e72f5
(cherry picked from commit 1a01fe7fd7a30ba1deed9628abf347b599363a27)
(cherry picked from commit c581c20a48e585f7ca24d217a012064c61273ec4)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/17/868717/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8eb5629a6e68fa6362d0e9997ace1507102a2756,tox4,,skipsdist = True,0,1
openstack%2Fgovernance~master~I55232b60e92f31891790ae0917fc5f582477cbed,openstack/governance,master,I55232b60e92f31891790ae0917fc5f582477cbed,Fix tox4 error,MERGED,2022-12-27 21:05:06.000000000,2022-12-28 18:50:53.000000000,2022-12-28 18:49:57.000000000,"[{'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-27 21:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/dac23f6b4e7e6f98c28b1d9f558f0b6a9f512dfe', 'message': 'Fix tox4 error\n\nFixing tox4 error to remove the skipsdist=True and\nadd external command via allowlist_externals.\n\nChange-Id: I55232b60e92f31891790ae0917fc5f582477cbed\n'}, {'number': 2, 'created': '2022-12-27 23:09:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/governance/commit/ea29ed06e9c534d90a2cc4b8b621758960822956', 'message': 'Fix tox4 error\n\nFixing tox4 error to remove the skipsdist=True and\nadd external command via allowlist_externals.\n\nChange-Id: I55232b60e92f31891790ae0917fc5f582477cbed\n'}]",4,868729,ea29ed06e9c534d90a2cc4b8b621758960822956,15,5,2,8556,,,0,"Fix tox4 error

Fixing tox4 error to remove the skipsdist=True and
add external command via allowlist_externals.

Change-Id: I55232b60e92f31891790ae0917fc5f582477cbed
",git fetch https://review.opendev.org/openstack/governance refs/changes/29/868729/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,dac23f6b4e7e6f98c28b1d9f558f0b6a9f512dfe,code-change,allowlist_externals = bash {toxinidir}/tools/validate_repositories.pyallowlist_externals = {toxinidir}/tools/validate-legacy.pyallowlist_externals = {toxinidir}/tools/validate_atcs.pyallowlist_externals =allowlist_externals = {toxinidir}/tools/check_review_status.py,skipsdist = Truewhitelist_externals = bashwhitelist_externals =,10,3
openstack%2Fkayobe~stable%2Fwallaby~I66b3a85adfe2928b936006780fb20b5fc7cc802f,openstack/kayobe,stable/wallaby,I66b3a85adfe2928b936006780fb20b5fc7cc802f,Fix tox.ini for tox4,MERGED,2022-12-28 17:43:33.000000000,2022-12-28 18:38:35.000000000,2022-12-28 18:37:38.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-28 17:43:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f232ab555e9f3ad89a0fff5ace588c7f68d0b26c', 'message': 'Fix tox.ini for tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943/\n\nChange-Id: I66b3a85adfe2928b936006780fb20b5fc7cc802f\n(cherry picked from commit 5e1e28538451cd4b45bd0b4ed42239a7d622ecf4)\n'}]",0,868569,f232ab555e9f3ad89a0fff5ace588c7f68d0b26c,7,2,1,22629,,,0,"Fix tox.ini for tox4

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943/

Change-Id: I66b3a85adfe2928b936006780fb20b5fc7cc802f
(cherry picked from commit 5e1e28538451cd4b45bd0b4ed42239a7d622ecf4)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/69/868569/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f232ab555e9f3ad89a0fff5ace588c7f68d0b26c,fix-tox-stable/wallaby,allowlist_externals = make python3 bash {toxinidir}/tools/run-bashate.sh python3 {toxinidir}/tools/sphinx8 README.rst CONTRIBUTING.rst doc/source --ignore D001 bash {toxinidir}/tools/ansible-galaxy-retried.sh install \ bash {toxinidir}/tools/test-ansible.sh {posargs} bash {toxinidir}/tools/ansible-galaxy-retried.sh install \ bash {toxinidir}/tools/ansible-galaxy-retried.sh install \,skipsdist = Truewhitelist_externals = {toxinidir}/tools/run-bashate.sh {toxinidir}/tools/sphinx8 README.rst CONTRIBUTING.rst doc/source --ignore D001 {toxinidir}/tools/ansible-galaxy-retried.sh install \ {toxinidir}/tools/test-ansible.sh {posargs}whitelist_externals = bash {toxinidir}/tools/ansible-galaxy-retried.sh install \ {toxinidir}/tools/ansible-galaxy-retried.sh install \whitelist_externals = make,9,11
openstack%2Fkayobe~stable%2Fyoga~I66b3a85adfe2928b936006780fb20b5fc7cc802f,openstack/kayobe,stable/yoga,I66b3a85adfe2928b936006780fb20b5fc7cc802f,Fix tox.ini for tox4,MERGED,2022-12-28 17:43:10.000000000,2022-12-28 18:23:55.000000000,2022-12-28 18:22:54.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-28 17:43:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/089094cf495f5c2592ff21a57a42762f3a0284a3', 'message': 'Fix tox.ini for tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943/\n\nChange-Id: I66b3a85adfe2928b936006780fb20b5fc7cc802f\n(cherry picked from commit 5e1e28538451cd4b45bd0b4ed42239a7d622ecf4)\n'}]",0,868567,089094cf495f5c2592ff21a57a42762f3a0284a3,7,2,1,22629,,,0,"Fix tox.ini for tox4

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943/

Change-Id: I66b3a85adfe2928b936006780fb20b5fc7cc802f
(cherry picked from commit 5e1e28538451cd4b45bd0b4ed42239a7d622ecf4)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/67/868567/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,089094cf495f5c2592ff21a57a42762f3a0284a3,fix-tox-stable/yoga,allowlist_externals = make python3 bash {toxinidir}/tools/run-bashate.sh python3 {toxinidir}/tools/sphinx8 README.rst CONTRIBUTING.rst doc/source --ignore D001 bash {toxinidir}/tools/ansible-galaxy-retried.sh install \ bash {toxinidir}/tools/test-ansible.sh {posargs} bash {toxinidir}/tools/ansible-galaxy-retried.sh install \ bash {toxinidir}/tools/ansible-galaxy-retried.sh install \,skipsdist = Truewhitelist_externals = {toxinidir}/tools/run-bashate.sh {toxinidir}/tools/sphinx8 README.rst CONTRIBUTING.rst doc/source --ignore D001 {toxinidir}/tools/ansible-galaxy-retried.sh install \ {toxinidir}/tools/test-ansible.sh {posargs}whitelist_externals = bash {toxinidir}/tools/ansible-galaxy-retried.sh install \ {toxinidir}/tools/ansible-galaxy-retried.sh install \whitelist_externals = make,9,11
openstack%2Fkolla-ansible~stable%2Fxena~Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5,openstack/kolla-ansible,stable/xena,Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5,CI: Support tox4,MERGED,2022-12-28 17:46:19.000000000,2022-12-28 18:15:46.000000000,2022-12-28 18:14:43.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-28 17:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/83eecf703685d85671d21d99cbaa81f515588b30', 'message': 'CI: Support tox4\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5\n(cherry picked from commit 1f71aa563e626f70684fdc48966ddff3cfce518d)\n(cherry picked from commit e75c580d1e1bcc33e8610b8413985ea256ba6df1)\n'}, {'number': 2, 'created': '2022-12-28 17:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/42561f6d6b27433b7401fa2d920ffedf2593862b', 'message': 'CI: Support tox4\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5\n(cherry picked from commit 1f71aa563e626f70684fdc48966ddff3cfce518d)\n(cherry picked from commit e75c580d1e1bcc33e8610b8413985ea256ba6df1)\n'}, {'number': 3, 'created': '2022-12-28 17:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b4128c9051bcbe7caecb517e1a9807beef77c7c1', 'message': 'CI: Support tox4\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5\n(cherry picked from commit 1f71aa563e626f70684fdc48966ddff3cfce518d)\n(cherry picked from commit e75c580d1e1bcc33e8610b8413985ea256ba6df1)\n'}, {'number': 4, 'created': '2022-12-28 17:47:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dd64d8b0b760a75ae949fccabd91c64100c624a6', 'message': 'CI: Support tox4\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5\n(cherry picked from commit 1f71aa563e626f70684fdc48966ddff3cfce518d)\n(cherry picked from commit e75c580d1e1bcc33e8610b8413985ea256ba6df1)\n'}]",0,868770,dd64d8b0b760a75ae949fccabd91c64100c624a6,11,2,4,22629,,,0,"CI: Support tox4

Depends-On: https://review.opendev.org/866943
Change-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5
(cherry picked from commit 1f71aa563e626f70684fdc48966ddff3cfce518d)
(cherry picked from commit e75c580d1e1bcc33e8610b8413985ea256ba6df1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/70/868770/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,83eecf703685d85671d21d99cbaa81f515588b30,,"allowlist_externals = bash find passenv = http_proxy,HTTP_PROXY,https_proxy,HTTPS_PROXY,no_proxy,NO_PROXY, \ OS_STDOUT_CAPTURE,OS_STDERR_CAPTURE,OS_LOG_CAPTURE,OS_TEST_TIMEOUT, \ PYTHON,OS_TEST_PATH,LISTOPT,IDOPTION<<<<<<< HEAD (20294b docs: Fix reference to Libvirt TLS) ======= bash {toxinidir}/tests/link-module-utils.sh {toxinidir} {envsitepackagesdir} >>>>>>> CHANGE (e75c58 CI: Support tox4)<<<<<<< HEAD (20294b docs: Fix reference to Libvirt TLS) ======= bash {toxinidir}/tests/link-module-utils.sh {toxinidir} {envsitepackagesdir} >>>>>>> CHANGE (e75c58 CI: Support tox4) rm",skipsdist = Trueallowlist_externals = findpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_STDOUT_CAPTURE OS_STDERR_CAPTURE OS_LOG_CAPTURE OS_TEST_TIMEOUT PYTHON OS_TEST_PATH LISTOPT IDOPTION,14,5
openstack%2Fkayobe~stable%2Fzed~I66b3a85adfe2928b936006780fb20b5fc7cc802f,openstack/kayobe,stable/zed,I66b3a85adfe2928b936006780fb20b5fc7cc802f,Fix tox.ini for tox4,MERGED,2022-12-28 17:42:59.000000000,2022-12-28 18:15:24.000000000,2022-12-28 18:14:24.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-28 17:42:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/77c2ba3bb8b9a158fcae89c434ea2d32bea98dd0', 'message': 'Fix tox.ini for tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943/\n\nChange-Id: I66b3a85adfe2928b936006780fb20b5fc7cc802f\n(cherry picked from commit 5e1e28538451cd4b45bd0b4ed42239a7d622ecf4)\n'}]",0,868566,77c2ba3bb8b9a158fcae89c434ea2d32bea98dd0,7,2,1,22629,,,0,"Fix tox.ini for tox4

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943/

Change-Id: I66b3a85adfe2928b936006780fb20b5fc7cc802f
(cherry picked from commit 5e1e28538451cd4b45bd0b4ed42239a7d622ecf4)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/66/868566/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,77c2ba3bb8b9a158fcae89c434ea2d32bea98dd0,fix-tox-stable/zed,allowlist_externals = make python3 bash {toxinidir}/tools/run-bashate.sh python3 {toxinidir}/tools/sphinx8 README.rst CONTRIBUTING.rst doc/source --ignore D001 bash {toxinidir}/tools/ansible-galaxy-retried.sh install \ bash {toxinidir}/tools/test-ansible.sh {posargs} bash {toxinidir}/tools/ansible-galaxy-retried.sh install \ bash {toxinidir}/tools/ansible-galaxy-retried.sh install \,skipsdist = Truewhitelist_externals = {toxinidir}/tools/run-bashate.sh {toxinidir}/tools/sphinx8 README.rst CONTRIBUTING.rst doc/source --ignore D001 {toxinidir}/tools/ansible-galaxy-retried.sh install \ {toxinidir}/tools/test-ansible.sh {posargs}whitelist_externals = bash {toxinidir}/tools/ansible-galaxy-retried.sh install \ {toxinidir}/tools/ansible-galaxy-retried.sh install \whitelist_externals = make,9,11
openstack%2Fkolla~master~I4d2f521b36ee4684a331e725787bfb56434d1d44,openstack/kolla,master,I4d2f521b36ee4684a331e725787bfb56434d1d44,CI: Fix tox 4 once again,MERGED,2022-12-28 17:30:34.000000000,2022-12-28 17:55:15.000000000,2022-12-28 17:54:09.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-28 17:30:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a313ed46dd5ac9c15100bb5a748322c2840ee5c0', 'message': 'CI: Fix tox 4 once again\n\nChange-Id: I4d2f521b36ee4684a331e725787bfb56434d1d44\n'}]",0,868768,a313ed46dd5ac9c15100bb5a748322c2840ee5c0,8,2,1,22629,,,0,"CI: Fix tox 4 once again

Change-Id: I4d2f521b36ee4684a331e725787bfb56434d1d44
",git fetch https://review.opendev.org/openstack/kolla refs/changes/68/868768/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a313ed46dd5ac9c15100bb5a748322c2840ee5c0,,"passenv = http_proxy,HTTP_PROXY,https_proxy,HTTPS_PROXY,no_proxy,NO_PROXY OS_STDOUT_CAPTURE,OS_STDERR_CAPTURE,OS_LOG_CAPTURE,OS_TEST_TIMEOUT PYTHON,OS_TEST_PATH,LISTOPT,IDOPTION",passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_STDOUT_CAPTURE OS_STDERR_CAPTURE OS_LOG_CAPTURE OS_TEST_TIMEOUT PYTHON OS_TEST_PATH LISTOPT IDOPTION,3,3
openstack%2Ftacker-specs~master~I549d072d79264642a403da3776fa824b2a0de8cf,openstack/tacker-specs,master,I549d072d79264642a403da3776fa824b2a0de8cf,Support multiple conductors onboarding,MERGED,2022-12-19 04:52:08.000000000,2022-12-28 17:41:43.000000000,2022-12-28 17:40:47.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-12-19 04:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/92b693f64d59b394b8f6d9e697cce58cde38f538', 'message': 'Support onboarding in multiple conductors environment\n\nThis specification describes enhancement of managing VNF packages\nby multiple Tacker conductors.\n\nImplements: blueprint support-multi-conductors-onboarding\nChange-Id: I549d072d79264642a403da3776fa824b2a0de8cf\n'}, {'number': 2, 'created': '2022-12-22 04:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/8b81a73ef568b250e9cb669f1f00b311ec15a806', 'message': 'Support multiple conductors onboarding\n\nThis specification describes enhancement of managing VNF packages\nby multiple Tacker conductors.\n\nImplements: blueprint support-multi-conductors-onboarding\nChange-Id: I549d072d79264642a403da3776fa824b2a0de8cf\n'}, {'number': 3, 'created': '2022-12-26 10:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/07679b01919d68f4271a3d390cad1bdf5696fc00', 'message': 'Support multiple conductors onboarding\n\nThis specification describes enhancement of managing VNF packages\nby multiple Tacker conductors.\n\nImplements: blueprint support-multi-conductors-onboarding\nChange-Id: I549d072d79264642a403da3776fa824b2a0de8cf\n'}, {'number': 4, 'created': '2022-12-28 09:36:33.000000000', 'files': ['specs/2023.1/support-multi-conductors-onboarding.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/9b5230b69b0095e37a36e512a2700603f88c5a91', 'message': 'Support multiple conductors onboarding\n\nThis specification describes enhancement of managing VNF packages\nby multiple Tacker conductors.\n\nImplements: blueprint support-multi-conductors-onboarding\nChange-Id: I549d072d79264642a403da3776fa824b2a0de8cf\n'}]",55,867341,9b5230b69b0095e37a36e512a2700603f88c5a91,31,5,4,34107,,,0,"Support multiple conductors onboarding

This specification describes enhancement of managing VNF packages
by multiple Tacker conductors.

Implements: blueprint support-multi-conductors-onboarding
Change-Id: I549d072d79264642a403da3776fa824b2a0de8cf
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/41/867341/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/support-multi-conductors-onboarding.rst'],1,92b693f64d59b394b8f6d9e697cce58cde38f538,bp/support-multi-conductors-onboarding,"===================================================== Support Onboarding In Multiple Conductors Environment ===================================================== https://blueprints.launchpad.net/tacker/+spec/support-multi-conductors-onboarding In current implementation, onboarding process doesn't work when using Tacker as N-Act cluster. This specification describes enhancement of managing VNF packages by multiple Tacker conductors. Problem description =================== In current implementation, onboarding process are as follows. - when receiving the ""PUT /vnfpkgm/v1/vnf_packages/{vnfPkgId}/package_content"" request. #. Tacker-server receives ""PUT /vnfpkgm/v1/vnf_packages/{vnf_package_id}/package_content"" request. #. Tacker-server updates the onboardingState on DB to ""UPLOADING"". #. Tacker-server uploads a CSAR file to a backend storage. #. Tacker-server sends a rpc message of `Upload VNF Package from content` with ``fanout=False`` #. The Tacker-conductor that gets the message first downloads the CSAR file to its local file system. #. Tacker-server updates the onboardingState on DB to ""ONBOARDED"". The sequence of the process is as follows. .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""DB"" ""Tacker-server"" ""Backend Storage"" ""Messaging Queue"" ""Tacker-conductor 1"" ""Tacker-conductor 2"" ""Tacker-conductor 3"" Client -> ""Tacker-server"" [label = ""1. PUT /vnfpkgm/v1/vnf_packages/{vnfPkgId}/package_content""]; ""Tacker-server"" -> ""DB"" [label = ""2. Update onboardingState to UPLOADING""] ""Tacker-server"" <- ""DB"" [label = """"] ""Tacker-server"" -> ""Backend Storage"" [label = ""3. Upload CSAR file""] ""Tacker-server"" <- ""Backend Storage"" [label = """"] ""Tacker-server"" -> ""Messaging Queue"" [label = ""4. Send a rpc message of 'Upload VNF Package from content' with fanout=True""] Client <- ""Tacker-server"" [label = ""response 202 Accepted""] ""Messaging Queue"" -> ""Tacker-conductor 1"" [label = """"] ""Tacker-conductor 1"" -> ""Backend Storage"" [label = ""5. Download the CSAR file to local file system""] ""Tacker-conductor 1"" <- ""Backend Storage"" [label = """"] ""Tacker-conductor 1"" -> ""DB"" [label = ""6. Update onboardingState to ONBOARDED""] ""Tacker-conductor 1"" <- ""DB"" [label = """"] ""Messaging Queue"" <- ""Tacker-conductor 1"" [label = """"] } - when receiving the ""POST /vnfpkgm/v1/vnf_packages/{vnf_package_id} /package_content/upload_from_uri"" request. #. Tacker-server receives ""POST /vnfpkgm/v1/vnf_packages/ {vnf_package_id}/package_content/upload_from_uri"" request. #. Tacker-server updates the onboardingState on DB to ""UPLOADING"". #. Tacker-server sends a rpc message of `Upload VNF Package from uri` with ``fanout=False``. #. The Tacker-conductor that gets the message first uploads a CSAR file to a backend storage. #. The same Tacker-conductor downloads the CSAR file to its local file system. #. The same Tacker-conductor updates the onboardingState on DB to ""ONBOARDED"". The sequence of the process is as follows. .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""DB"" ""Tacker-server"" ""Backend Storage"" ""Messaging Queue"" ""Tacker-conductor 1"" ""Tacker-conductor 2"" ""Tacker-conductor 3"" Client -> ""Tacker-server"" [label = ""1. POST /vnfpkgm/v1/vnf_packages/{vnf_package_id}/package_content/upload_from_uri""]; ""Tacker-server"" -> ""DB"" [label = ""2. Update onboardingState to UPLOADING""] ""Tacker-server"" <- ""DB"" [label = """"] ""Tacker-server"" -> ""Messaging Queue"" [label = ""3. Send a rpc message of 'Upload VNF Package from uri' with fanout=False""] Client <- ""Tacker-server"" [label = ""response 202 Accepted""] ""Messaging Queue"" -> ""Tacker-conductor 1"" [label = """"] ""Tacker-conductor 1"" -> ""Backend Storage"" [label = ""4. Upload CSAR file""] ""Tacker-conductor 1"" <- ""Backend Storage"" [label = """"] ""Tacker-conductor 1"" -> ""Backend Storage"" [label = ""5. Download the CSAR file to local file system""] ""Tacker-conductor 1"" -> ""DB"" [label = ""6. Update onboardingState to ONBOARDED""] ""Tacker-conductor 1"" <- ""DB"" [label = """"] ""Tacker-conductor 1"" <- ""Backend Storage"" [label = """"] ""Messaging Queue"" <- ""Tacker-conductor 1"" [label = """"] } .. note:: Configurations of a backend storage are defined in ``[glance_store]`` section in ``tacker.conf``. For example, the type of a backend storage is configured by ``stores`` in ``[glance_store]``. Configurations of a local file system for vnf packages are defined in ``[vnf_package]`` section in ``tacker.conf``. For example, the path where vnf packages are downloaded is configured by ``vnf_package_csar_path`` in ``[vnf_package]``. If conductors are running on multiple nodes, the only conductor that will receive the onboarding request first can download a CSAR file to its local file system following the process above. But other conductors that don't receive the request can't download a CSAR file at the timing, and so these conductors can't operate instantiation because they can't refer the CSAR file. Consider a user who wants to use external storage such as Object Storage to store VNF packages and make it shareable by multiple conductors, it is necessary to enable all conductors to download CSAR files. Proposed change =============== We would enable all conductors in the N-Act cluster to download a CSAR file at the onboarding process. The process of onboarding VNF package ------------------------------------- We would change the process of onboarding as follows. - when receiving the ""PUT /vnfpkgm/v1/vnf_packages/{vnf_package_id}/ package_content"" request. #. Tacker-server receives ""PUT /vnfpkgm/v1/vnf_packages/{vnf_package_id}/package_content"" request. #. Tacker-server updates the onboardingState to ""UPLOADING"". #. Tacker-server uploads a CSAR file to a backend storage. #. Tacker-server sends a rpc message of ``Upload VNF Package from content`` with ``fanout=False`` to Tacker-conductor. #. The Tacker-conductor that gets the message first sends a rpc message to download the CSAR file with ``fanout=True`` to all Tacker-conductors including itself. #. All Tacker-conductors that get the message download the CSAR file to their local file system and return a result via rpc. #. The Tacker-conductor that sends a message to all Tacker-conductors updates the onboardingState to ""ONBOARDED"". .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""DB"" ""Tacker-server"" ""Backend Storage"" ""Messaging Queue"" ""Tacker-conductor 1"" ""Tacker-conductor 2"" ""Tacker-conductor 3"" Client -> ""Tacker-server"" [label = ""1. PUT /vnfpkgm/v1/vnf_packages/{vnfPkgId}/package_content""]; ""Tacker-server"" -> ""DB"" [label = ""2. Update onboardingState to UPLOADING""] ""Tacker-server"" <- ""DB"" [label = """"] ""Tacker-server"" -> ""Backend Storage"" [label = ""3. Upload CSAR file""] ""Tacker-server"" <- ""Backend Storage"" [label = """"] ""Tacker-server"" -> ""Messaging Queue"" [label = ""4. Send a rpc message of 'Upload VNF Package from content' with fanout=False""] Client <- ""Tacker-server"" [label = ""response 202 Accepted""] ""Messaging Queue"" -> ""Tacker-conductor 1"" [label = """"] ""Tacker-conductor 1"" -> ""Messaging Queue"" [label = ""5. sends a rpc message to download the CSAR file with fanout=True""] ""Messaging Queue"" -> ""Tacker-conductor 1"" [label = """"] ""Messaging Queue"" -> ""Tacker-conductor 2"" [label = """"] ""Messaging Queue"" -> ""Tacker-conductor 3"" [label = """"] ""Tacker-conductor 1"" -> ""Backend Storage"" [label = ""6. Download the CSAR file to local file system""] ""Tacker-conductor 1"" <- ""Backend Storage"" [label = """"] ""Tacker-conductor 2"" -> ""Backend Storage"" [label = ""6. Download the CSAR file to local file system""] ""Tacker-conductor 2"" <- ""Backend Storage"" [label = """"] ""Tacker-conductor 3"" -> ""Backend Storage"" [label = ""6. Download the CSAR file to local file system""] ""Tacker-conductor 3"" <- ""Backend Storage"" [label = """"] ""Messaging Queue"" <- ""Tacker-conductor 1"" [label = """"] ""Messaging Queue"" <- ""Tacker-conductor 2"" [label = """"] ""Messaging Queue"" <- ""Tacker-conductor 3"" [label = """"] ""Tacker-conductor 1"" <- ""Messaging Queue"" [label = """"] ""Tacker-conductor 1"" -> ""DB"" [label = ""7. Update onboardingState to ONBOARDED""] ""Tacker-conductor 1"" <- ""DB"" [label = """"] ""Messaging Queue"" <- ""Tacker-conductor 1"" [label = """"] } - when receiving the ""POST /vnfpkgm/v1/vnf_packages/{vnf_package_id}/ package_content/upload_from_uri"" request. #. Tacker-server receives ""POST /vnfpkgm/v1/vnf_packages/{vnf_package_id} /package_content/upload_from_uri"" request. #. Tacker-server update the onboardingState to ""UPLOADING"". #. Tacker-server send a rpc message of ``Upload VNF Package from uri`` with ``fanout=False`` #. The Tacker-conductor that gets the message first uploads a CSAR file to a backend storage. #. The same Tacker-conductor sends a rpc message to download the CSAR file with ``fanout=True`` to all Tacker-conductors including itself. #. All Tacker-conductors that get the message download the CSAR file to their local file system and return a result via rpc. #. The Tacker-conductor that sends a message to all Tacker-conductors updates the onboardingState to ""ONBOARDED"". .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""DB"" ""Tacker-server"" ""Backend Storage"" ""Messaging Queue"" ""Tacker-conductor 1"" ""Tacker-conductor 2"" ""Tacker-conductor 3"" Client -> ""Tacker-server"" [label = ""1. POST /vnfpkgm/v1/vnf_packages/{vnf_package_id}/package_content/upload_from_uri""]; ""Tacker-server"" -> ""DB"" [label = ""2. Update onboardingState to UPLOADING""] ""Tacker-server"" <- ""DB"" [label = """"] ""Tacker-server"" -> ""Messaging Queue"" [label = ""3. Send a rpc message of 'Upload VNF Package from uri' with fanout=False""] Client <- ""Tacker-server"" [label = ""response 202 Accepted""] ""Messaging Queue"" -> ""Tacker-conductor 1"" [label = """"] ""Tacker-conductor 1"" -> ""Backend Storage"" [label = ""4. Upload CSAR file""] ""Tacker-conductor 1"" <- ""Backend Storage"" [label = """"] ""Tacker-conductor 1"" -> ""Messaging Queue"" [label = ""5. sends a rpc message to download the CSAR file with fanout=True""] ""Messaging Queue"" -> ""Tacker-conductor 1"" [label = """"] ""Messaging Queue"" -> ""Tacker-conductor 2"" [label = """"] ""Messaging Queue"" -> ""Tacker-conductor 3"" [label = """"] ""Tacker-conductor 1"" -> ""Backend Storage"" [label = ""6. Download the CSAR file to local file system""] ""Tacker-conductor 1"" <- ""Backend Storage"" [label = """"] ""Tacker-conductor 2"" -> ""Backend Storage"" [label = ""6. Download the CSAR file to local file system""] ""Tacker-conductor 2"" <- ""Backend Storage"" [label = """"] ""Tacker-conductor 3"" -> ""Backend Storage"" [label = ""6. Download the CSAR file to local file system""] ""Tacker-conductor 3"" <- ""Backend Storage"" [label = """"] ""Messaging Queue"" <- ""Tacker-conductor 1"" [label = """"] ""Messaging Queue"" <- ""Tacker-conductor 2"" [label = """"] ""Messaging Queue"" <- ""Tacker-conductor 3"" [label = """"] ""Tacker-conductor 1"" <- ""Messaging Queue"" [label = """"] ""Tacker-conductor 1"" -> ""DB"" [label = ""7. Update onboardingState to ONBOARDED""] ""Tacker-conductor 1"" <- ""DB"" [label = """"] ""Messaging Queue"" <- ""Tacker-conductor 1"" [label = """"] } The process of deleting VNF packages ------------------------------------ We would change the process of deleting VNF packages as follows. - when receiving ""DELETE /vnfpkgm/v1/vnf_packages/{vnf_package_id}"" request. #. Tacker-server receives ""DELETE /vnfpkgm/v1/vnf_packages/{vnf_package_id}"" request. #. Tacker-server update the delete flag of the related record to 1. #. Tacker-server send a rpc message of ""Delete VNF Package"" with ``fanout=False``. #. The Tacker-conductor that gets the message first delete the file from backend storage. #. The same Tacker-conductor send a rpc message to delete the file from local file system with ``fanout=True`` to all Tacker-conductors including itself. #. All Tacker-conductors that get the message delete the file from their local file system and return a result via rpc. .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""DB"" ""Tacker-server"" ""Backend Storage"" ""Messaging Queue"" ""Tacker-conductor 1"" ""Tacker-conductor 2"" ""Tacker-conductor 3"" Client -> ""Tacker-server"" [label = ""1. DELETE /vnfpkgm/v1/vnf_packages/{vnf_package_id}""]; ""Tacker-server"" -> ""DB"" [label = ""2. Update the deleted flag to 1""] ""Tacker-server"" <- ""DB"" [label = """"] ""Tacker-server"" -> ""Messaging Queue"" [label = ""3. Send a rpc message of 'Delete VNF Package' with fanout=False""] Client <- ""Tacker-server"" [label = ""response 204 No Content""] ""Messaging Queue"" -> ""Tacker-conductor 1"" [label = """"] ""Tacker-conductor 1"" -> ""Backend Storage"" [label = ""4. Delete CSAR file""] ""Tacker-conductor 1"" <- ""Backend Storage"" [label = """"] ""Tacker-conductor 1"" -> ""Messaging Queue"" [label = ""5. sends a rpc message to delete the file from local file system with fanout=True""] ""Messaging Queue"" -> ""Tacker-conductor 1"" [label = """"] ""Messaging Queue"" -> ""Tacker-conductor 2"" [label = """"] ""Messaging Queue"" -> ""Tacker-conductor 3"" [label = """"] ""Tacker-conductor 1"" -> ""Backend Storage"" [label = ""6. Delete the CSAR file from local file system""] ""Tacker-conductor 1"" <- ""Backend Storage"" [label = """"] ""Tacker-conductor 2"" -> ""Backend Storage"" [label = ""6. Delete the CSAR file from local file system""] ""Tacker-conductor 2"" <- ""Backend Storage"" [label = """"] ""Tacker-conductor 3"" -> ""Backend Storage"" [label = ""6. Delete the CSAR file from local file system""] ""Tacker-conductor 3"" <- ""Backend Storage"" [label = """"] ""Messaging Queue"" <- ""Tacker-conductor 1"" [label = """"] ""Messaging Queue"" <- ""Tacker-conductor 2"" [label = """"] ""Messaging Queue"" <- ""Tacker-conductor 3"" [label = """"] ""Tacker-conductor 1"" <- ""Messaging Queue"" [label = """"] ""Messaging Queue"" <- ""Tacker-conductor 1"" [label = """"] } If a Tacker-conductor is newly added to the cluster, the following process should be executed to download onboarded VNF package to its local file system. #. The Tacker-conductor get the list of VNF packages whose state is `ONBOARDED`. #. The Tacker-conductor downloads the VNF packages to its local file systems. .. note:: Tacker-conductor must not receive any requests until the above process is completed. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Masaki Oyama <ma-ooyama@kddi.com> Other contributors: Hitomi Koba <hi-koba@kddi.com> Yukihiro Kinjo <yu-kinjou@kddi.com> Xu Hongjin <ho-xu@kddi.com> Work Items ---------- * Implement onboarding function * Add unit test * Add functional test Dependencies ============ None Testing ======= Unit test and functional test will be added. Documentation Impact ==================== None References ========== None ",,600,0
openstack%2Fglance_store~stable%2Fzed~I96feba843ca5ebecdc7313961207369da30e72f5,openstack/glance_store,stable/zed,I96feba843ca5ebecdc7313961207369da30e72f5,Fix tox4 error,MERGED,2022-12-27 19:48:16.000000000,2022-12-28 17:30:04.000000000,2022-12-28 17:28:59.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-27 19:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/c581c20a48e585f7ca24d217a012064c61273ec4', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes.\n\nFixing tox.ini for tox4 changes.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/868530\n\nChange-Id: I96feba843ca5ebecdc7313961207369da30e72f5\n(cherry picked from commit 1a01fe7fd7a30ba1deed9628abf347b599363a27)\n'}, {'number': 2, 'created': '2022-12-28 05:16:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/3d3467d527864670bd9bc59656800553b2c5ac0b', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes.\n\nFixing tox.ini for tox4 changes.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/868713\n\nChange-Id: I96feba843ca5ebecdc7313961207369da30e72f5\n(cherry picked from commit 1a01fe7fd7a30ba1deed9628abf347b599363a27)\n'}]",2,868716,3d3467d527864670bd9bc59656800553b2c5ac0b,10,2,2,8556,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes.

Fixing tox.ini for tox4 changes.

Depends-On: https://review.opendev.org/c/openstack/glance/+/868713

Change-Id: I96feba843ca5ebecdc7313961207369da30e72f5
(cherry picked from commit 1a01fe7fd7a30ba1deed9628abf347b599363a27)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/16/868716/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c581c20a48e585f7ca24d217a012064c61273ec4,tox4,,skipsdist = True,0,1
openstack%2Fkayobe~master~I66b3a85adfe2928b936006780fb20b5fc7cc802f,openstack/kayobe,master,I66b3a85adfe2928b936006780fb20b5fc7cc802f,Fix tox.ini for tox4,MERGED,2022-12-08 16:38:53.000000000,2022-12-28 15:49:10.000000000,2022-12-28 15:48:03.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-08 16:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a9be4668d4f8aa2c0fb7573a148e99cf5648f8ec', 'message': 'Fix tox.ini for tox4\n\nChange-Id: I66b3a85adfe2928b936006780fb20b5fc7cc802f\n'}, {'number': 2, 'created': '2022-12-13 13:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8d7ce253c0a69990c25e938f6db0d169dfe88a66', 'message': 'Fix tox.ini for tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943/\n\nChange-Id: I66b3a85adfe2928b936006780fb20b5fc7cc802f\n'}, {'number': 3, 'created': '2022-12-14 07:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c9ad0382ad8d4bf5541a9cdae81ccfe594df2a77', 'message': 'Fix tox.ini for tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943/\n\nChange-Id: I66b3a85adfe2928b936006780fb20b5fc7cc802f\n'}, {'number': 4, 'created': '2022-12-28 12:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/aaf94477bb8e6754617f162ab008864957fbdec0', 'message': 'Fix tox.ini for tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943/\n\nChange-Id: I66b3a85adfe2928b936006780fb20b5fc7cc802f\n'}, {'number': 5, 'created': '2022-12-28 13:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f6a00aed96b3d5756a852cb2936179806f97e634', 'message': 'Fix tox.ini for tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943/\n\nChange-Id: I66b3a85adfe2928b936006780fb20b5fc7cc802f\n'}, {'number': 6, 'created': '2022-12-28 13:52:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5e1e28538451cd4b45bd0b4ed42239a7d622ecf4', 'message': 'Fix tox.ini for tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943/\n\nChange-Id: I66b3a85adfe2928b936006780fb20b5fc7cc802f\n'}]",4,867030,5e1e28538451cd4b45bd0b4ed42239a7d622ecf4,19,2,6,15197,,,0,"Fix tox.ini for tox4

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943/

Change-Id: I66b3a85adfe2928b936006780fb20b5fc7cc802f
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/30/867030/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a9be4668d4f8aa2c0fb7573a148e99cf5648f8ec,fix-tox,allowlist_externals =allowlist_externals = bash python3 bash {toxinidir}/tools/run-bashate.sh python3 {toxinidir}/tools/sphinx8 README.rst CONTRIBUTING.rst doc/source --ignore D001 bash {toxinidir}/tools/ansible-galaxy-retried.sh install \ bash {toxinidir}/tools/test-ansible.sh {posargs}allowlist_externals = bash {toxinidir}/tools/ansible-galaxy-retried.sh install \ bash {toxinidir}/tools/ansible-galaxy-retried.sh install \allowlist_externals = make rm,whitelist_externals = {toxinidir}/tools/run-bashate.sh {toxinidir}/tools/sphinx8 README.rst CONTRIBUTING.rst doc/source --ignore D001 {toxinidir}/tools/ansible-galaxy-retried.sh install \ {toxinidir}/tools/test-ansible.sh {posargs}whitelist_externals = {toxinidir}/tools/ansible-galaxy-retried.sh install \ {toxinidir}/tools/ansible-galaxy-retried.sh install \whitelist_externals = make,14,9
openstack%2Ftacker-specs~master~Iaa3a4f58f8fb8341eb49dd2a2b5248bf76612bf7,openstack/tacker-specs,master,Iaa3a4f58f8fb8341eb49dd2a2b5248bf76612bf7,Improvement of error message,MERGED,2022-12-21 06:24:07.000000000,2022-12-28 15:36:12.000000000,2022-12-28 15:34:54.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 32736}]","[{'number': 1, 'created': '2022-12-21 06:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/4e381acd3789916c43eda02df85ebea7b31d85f1', 'message': 'Improve Mgmt driver\n\nThis specification proposes two improvements about mgmt driver.\nFirst is defining the interface of error handling\nbetween Tacker and Mgmt Driver.\nSecond is improving the message of exception\nraised when Ansible playbook fails.\n\nChange-Id: Iaa3a4f58f8fb8341eb49dd2a2b5248bf76612bf7\n'}, {'number': 2, 'created': '2022-12-21 06:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/5daea4ab9e247f0b2f855bc34f709df098813ced', 'message': 'Improve Mgmt Driver\n\nThis specification proposes two improvements about mgmt driver.\nFirst is defining the interface of error handling\nbetween Tacker and Mgmt Driver.\nSecond is improving the message of exception\nraised when Ansible playbook fails.\n\nImplements: blueprint improving-mgmt-driver-log\nChange-Id: Iaa3a4f58f8fb8341eb49dd2a2b5248bf76612bf7\n'}, {'number': 3, 'created': '2022-12-26 03:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/1f6ac8e29b1ddb39f97ea4c4a73337753f129bea', 'message': 'Improvement of error message\n\nThis specification proposes two improvements about mgmt driver.\nFirst is defining the interface of error handling\nbetween Tacker and Mgmt Driver.\nSecond is improving the message of exception\nraised when Ansible playbook fails.\n\nImplements: blueprint improving-mgmt-driver-log\nChange-Id: Iaa3a4f58f8fb8341eb49dd2a2b5248bf76612bf7\n'}, {'number': 4, 'created': '2022-12-26 10:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/2047fde40776a61860aff520d14840de13bae5ac', 'message': 'Improvement of error message\n\nThis specification proposes two improvements about mgmt driver.\nFirst is defining the interface of error handling\nbetween Tacker and Mgmt Driver.\nSecond is improving the message of exception\nraised when Ansible playbook fails.\n\nImplements: blueprint improving-mgmt-driver-log\nChange-Id: Iaa3a4f58f8fb8341eb49dd2a2b5248bf76612bf7\n'}, {'number': 5, 'created': '2022-12-27 04:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/f1b1f26b9ded0fa40d261dbb8d3dec615c97eb60', 'message': 'Improvement of error message\n\nThis specification proposes two improvements about mgmt driver.\nFirst is defining the interface of error handling\nbetween Tacker and Mgmt Driver.\nSecond is improving the message of exception\nraised when Ansible playbook fails.\n\nImplements: blueprint improving-mgmt-driver-log\nChange-Id: Iaa3a4f58f8fb8341eb49dd2a2b5248bf76612bf7\n'}, {'number': 6, 'created': '2022-12-28 06:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/94ad32885b26ca7ff2b0dbf4dd9188092642b14f', 'message': 'Improvement of error message\n\nThis specification proposes two improvements about mgmt driver.\nFirst is defining the interface of error handling\nbetween Tacker and Mgmt Driver.\nSecond is improving the message of exception\nraised when Ansible playbook fails.\n\nImplements: blueprint improving-mgmt-driver-log\nChange-Id: Iaa3a4f58f8fb8341eb49dd2a2b5248bf76612bf7\n'}, {'number': 7, 'created': '2022-12-28 08:02:39.000000000', 'files': ['specs/2023.1/improving-mgmt-driver-log.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c86a8d0f2b7a0bf2ec6e63f2b8279b7a38160975', 'message': 'Improvement of error message\n\nThis specification proposes two improvements about mgmt driver.\nFirst is defining the interface of error handling\nbetween Tacker and Mgmt Driver.\nSecond is improving the message of exception\nraised when Ansible playbook fails.\n\nImplements: blueprint improving-mgmt-driver-log\nChange-Id: Iaa3a4f58f8fb8341eb49dd2a2b5248bf76612bf7\n'}]",78,867348,c86a8d0f2b7a0bf2ec6e63f2b8279b7a38160975,41,6,7,34107,,,0,"Improvement of error message

This specification proposes two improvements about mgmt driver.
First is defining the interface of error handling
between Tacker and Mgmt Driver.
Second is improving the message of exception
raised when Ansible playbook fails.

Implements: blueprint improving-mgmt-driver-log
Change-Id: Iaa3a4f58f8fb8341eb49dd2a2b5248bf76612bf7
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/48/867348/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/improving-mgmt-driver-log.rst'],1,4e381acd3789916c43eda02df85ebea7b31d85f1,bp/improving-mgmt-driver-log,"=================== Improve Mgmt Driver =================== https://blueprints.launchpad.net/tacker/+spec/improving-mgmt-driver-log This specification proposes two improvements as follows. - Defining the interface of error handling between Tacker and Mgmt Driver - Improving the message of exception raised when Ansible playbook fails Problem description =================== No clear interface between Tacker and Mgmt Driver ------------------------------------------------- When an error occurs in Mgmt Driver, Tacker-conductor receives any type of exception raised from Mgmt Driver. Then, Tacker-conductor converts it to the type of ``ProblemDetails`` defined in ETSI GS NFV-SOL 013 v2.6.1 [#ETSI-GS-NFV-SOL013-v2.6.1]_ and stores it in the error field in VnfLcmOpOcc defined in ETSI GS NFV-SOL 003 v2.6.1 [#ETSI-GS-NFV-SOL003-v2.6.1]_. In this way, there are no rules of handling an error message between Tacker and Mgmt Driver, and how to define the type of error raised from Mgmt Driver depends on users' implementation. Mgmt Driver is a user-customizable plugin in Tacker. Therefore, it is desirable that there is clear interface of error handling between Tacker and Mgmt Driver for users. Lack of information in error message of Ansible Mgmt Driver ----------------------------------------------------------- The Tacker source code has the Ansible Mgmt Driver sample [#sample-ansible-driver]_. When using this sample, the information included in the exception generated when the Ansible playbook fails is just ""the return code of the command is not 0"", and users can only check this message by CLI ""vnflcm op show"". The ``tacker-conductor.log`` includes more information about the error. But in general, an administrator of Tacker only has the authority to access the log, and so there is no way for users to debug the error. Therefore, it is necessary to improve the error users see through CLI command. Proposed change =============== This specification proposes two improvements. 1) Defining the interface of error handling between Tacker and Mgmt Driver -------------------------------------------------------------------------- Defining the following rules for error handling between Tacker-conductor and Mgmt Driver. - The exception raised from Mgmt Driver must conform to the format of ``ProblemDetails`` defined in ETSI GS NFV-SOL 013 specification. - Tacker-conductor must be able to catch the type of exception. .. note:: For backward compatibility reasons, exceptions of any type can also be received. In that case, the exception is converted to a string and stored in the error field of VnfLcmOpOccs as the current implementation. The definition of ``ProblemDetails`` is as follows. .. csv-table:: Table 6.3-1: Definition of the ``ProblemDetails`` data type [#ETSI-GS-NFV-SOL013-v2.6.1]_ :header: Attribute name, Data type, Cardinality, Description type,Uri,0..1, ""A URI reference according to IETF RFC 3986 that identifies the problem type. It is encouraged that the URI provides human-readable documentation for the problem (e.g. using HTML) when dereferenced. When this member is not present, its value is assumed to be 'about:blank'."" title,String,0..1, ""A short, human-readable summary of the problem type. It should not change from occurrence to occurrence of the problem, except for purposes of localization. If type is given and other than 'about:blank', this attribute shall also be provided."" status,Integer,1, ""The HTTP status code for this occurrence of the problem."" detail,String,1, ""A human-readable explanation specific to this occurrence of the problem."" instance,Uri,0..1, ""A URI reference that identifies the specific occurrence of the problem. It may yield further information if dereferenced"" (additional attributes),Not specified.,0..N, ""Any number of additional attributes, as defined in a specification or by an implementation."" To implement this rule, there should be the base exception class complied with ``ProblemDetails`` in Tacker side. And developers of Mgmt Driver use it to make exceptions in their Mgmt Driver compatible with ``ProblemDetails``. The base class is defined in `tacker/common/exceptions.py`. The format is like this. .. code-block:: python class ManagementDriverError(Exception): def __init__(self, type=None, title=None, status, detail, instance=None) self.type = type self.title = title self.status = status self.detail = detail self.instance = instance The exceptions in Mgmt Driver must inherit the base class to comply to ``ProblemDetails`` like this. .. code-block:: python class SampleException(ManagementDriverError): 2) Improving the message of exception raised when Ansible playbook fails ------------------------------------------------------------------------ In Ansible Mgmt Driver sample, CommandExecutionError is raised when Ansible playbook fails. This error always outputs the same message regardless of what task fails. In this spec, it is modified to include following 3 points. - VDU name to be configured - failed task name - stdout of failed task Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Masaki Oyama <ma-ooyama@kddi.com> Other contributors: Yukihiro Kinjo <yu-kinjou@kddi.com> Xu Hongjin <ho-xu@kddi.com> Hitomi Koba <hi-koba@kddi.com> Work Items ---------- - implement interface of error handling between Tacker and Mgmt Driver - improving the message of exception raised when Ansible playbook fails - Add unittest for the interface Dependencies ============ None Testing ======= None Documentation Impact ==================== Documentation about the interface of error handling between Tacker and Mgmt Driver will be added. References ========== .. [#ETSI-GS-NFV-SOL013-v2.6.1] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/013/02.06.01_60/gs_nfv-sol013v020601p.pdf .. [#ETSI-GS-NFV-SOL003-v2.6.1] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.06.01_60/gs_nfv-sol003v020601p.pdf .. [#sample-ansible-driver] https://opendev.org/openstack/tacker/src/branch/master/samples/mgmt_driver/ansible ",,201,0
openstack%2Fneutron~master~Ifb958f174f8173b330d3cf7a8a8afa182c52a421,openstack/neutron,master,Ifb958f174f8173b330d3cf7a8a8afa182c52a421,Ignore python warnings in the neutron-status functional tests,MERGED,2022-12-22 09:16:15.000000000,2022-12-28 15:10:44.000000000,2022-12-28 15:09:20.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-12-22 09:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/76b656fee81202cb76125c0fb260e8e9d8ee9aa4', 'message': 'Ignore python warnings in the neutron-status functional tests\n\nThere is functional test which asserts on the stderr of the\nneutron-status command. We should ensure that there is no any python\nwarning about e.g. deprecation printed there as that may cause test\nfailure.\n\nRelated-Bug: #199955\nChange-Id: Ifb958f174f8173b330d3cf7a8a8afa182c52a421\n'}, {'number': 2, 'created': '2022-12-22 09:20:22.000000000', 'files': ['neutron/tests/functional/cmd/test_status.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/08e485d0cd97123ac8eb43b6a93b315273f70c91', 'message': 'Ignore python warnings in the neutron-status functional tests\n\nThere is functional test which asserts on the stderr of the\nneutron-status command. We should ensure that there is no any python\nwarning about e.g. deprecation printed there as that may cause test\nfailure.\n\nRelated-Bug: #1999558\nChange-Id: Ifb958f174f8173b330d3cf7a8a8afa182c52a421\n'}]",2,868379,08e485d0cd97123ac8eb43b6a93b315273f70c91,17,7,2,11975,,,0,"Ignore python warnings in the neutron-status functional tests

There is functional test which asserts on the stderr of the
neutron-status command. We should ensure that there is no any python
warning about e.g. deprecation printed there as that may cause test
failure.

Related-Bug: #1999558
Change-Id: Ifb958f174f8173b330d3cf7a8a8afa182c52a421
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/868379/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/cmd/test_status.py'],1,76b656fee81202cb76125c0fb260e8e9d8ee9aa4,bug/199955," addl_env={'PYTHONWARNINGS': 'ignore'},",,1,0
openstack%2Fkolla~master~I5ca2aeeb6be64e2442324fb445ef5eebecd826b9,openstack/kolla,master,I5ca2aeeb6be64e2442324fb445ef5eebecd826b9,[release] Use Zed sources by default,MERGED,2022-12-05 09:06:11.000000000,2022-12-28 14:07:58.000000000,2022-12-05 14:40:52.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-12-05 09:06:11.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e1a4048041bde649e7bb16b9a23d49522f7a0385', 'message': '[release] Use Zed sources by default\n\nChange-Id: I5ca2aeeb6be64e2442324fb445ef5eebecd826b9\n'}]",1,866556,e1a4048041bde649e7bb16b9a23d49522f7a0385,10,3,1,23084,,,0,"[release] Use Zed sources by default

Change-Id: I5ca2aeeb6be64e2442324fb445ef5eebecd826b9
",git fetch https://review.opendev.org/openstack/kolla refs/changes/56/866556/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,e1a4048041bde649e7bb16b9a23d49522f7a0385,,OPENSTACK_RELEASE = 'zed',OPENSTACK_RELEASE = 'master',1,1
openstack%2Fkolla~master~I94b14406c59caa1d2358590fdf8c84b92260de20,openstack/kolla,master,I94b14406c59caa1d2358590fdf8c84b92260de20,[release] Change RDO's DELOREAN_DEPS repo to Zed,MERGED,2022-12-05 13:50:57.000000000,2022-12-28 14:07:36.000000000,2022-12-05 17:51:59.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-12-05 13:50:57.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/206521af2881425cb91fe0365fe87d35a4b2de3f', 'message': ""[release] Change RDO's DELOREAN_DEPS repo to Zed\n\nChange-Id: I94b14406c59caa1d2358590fdf8c84b92260de20\n""}]",0,866577,206521af2881425cb91fe0365fe87d35a4b2de3f,10,3,1,23084,,,0,"[release] Change RDO's DELOREAN_DEPS repo to Zed

Change-Id: I94b14406c59caa1d2358590fdf8c84b92260de20
",git fetch https://review.opendev.org/openstack/kolla refs/changes/77/866577/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,206521af2881425cb91fe0365fe87d35a4b2de3f,,"DELOREAN_DEPS = ""https://trunk.rdoproject.org/centos9-zed/"" \","DELOREAN_DEPS = ""https://trunk.rdoproject.org/centos9-master/"" \",1,1
openstack%2Fironic-python-agent~master~I23b025570f9df125540ca575d9b2c3e8027f72ee,openstack/ironic-python-agent,master,I23b025570f9df125540ca575d9b2c3e8027f72ee,Update tox.ini for tox 4,ABANDONED,2022-12-15 10:54:54.000000000,2022-12-28 14:01:27.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 10:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/91cda26605017e7feb88aa1106700b8f3dcc50fc', 'message': 'Update tox.ini for tox 4\n\nUpdate tox.ini to be compatible with tox 4\nIt should also be retrocompatible with tox 3\n\nChange-Id: I23b025570f9df125540ca575d9b2c3e8027f72ee\n'}, {'number': 2, 'created': '2022-12-15 11:21:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/fc79ef921ce229a4ff919bf598081d4c76544f15', 'message': 'Update tox.ini for tox 4\n\nUpdate tox.ini to be compatible with tox 4\nIt should also be retrocompatible with tox 3\n\nChange-Id: I23b025570f9df125540ca575d9b2c3e8027f72ee\n'}]",0,867782,fc79ef921ce229a4ff919bf598081d4c76544f15,10,2,2,23851,,,0,"Update tox.ini for tox 4

Update tox.ini to be compatible with tox 4
It should also be retrocompatible with tox 3

Change-Id: I23b025570f9df125540ca575d9b2c3e8027f72ee
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/82/867782/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,91cda26605017e7feb88aa1106700b8f3dcc50fc,tox4,"passenv = http_proxy,HTTP_PROXY,https_proxy,HTTPS_PROXY,no_proxy,NO_PROXY",passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,1,1
openstack%2Foctavia-dashboard~master~I7a94478340937e0e3ca2fc333470efadbdf22a80,openstack/octavia-dashboard,master,I7a94478340937e0e3ca2fc333470efadbdf22a80,Remove hard-coded Python path in karma.conf.js,MERGED,2022-12-06 11:11:07.000000000,2022-12-28 13:50:21.000000000,2022-12-28 13:49:20.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-12-06 11:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/773d179311e27b27525d7ec25b9e5f96aff34dbe', 'message': '[DNM] Test CI jobs\n\nChange-Id: I7a94478340937e0e3ca2fc333470efadbdf22a80\n'}, {'number': 2, 'created': '2022-12-06 17:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/d6489032fcec80c7e39a433b058f0c7510f1495a', 'message': 'Remove hard-coded Python path in karma.conf.js\n\nThis patch removes hard-coded Python path in karma.conf.js\nto fix the npm jobs because now these npm jobs run on\ndebian-bullseye and py38 are not available there.\n\nChange-Id: I7a94478340937e0e3ca2fc333470efadbdf22a80\n'}, {'number': 3, 'created': '2022-12-06 18:07:39.000000000', 'files': ['octavia_dashboard/karma.conf.js'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/529cfb2c9feed4dd882d10a656dbdb0430a4b701', 'message': 'Remove hard-coded Python path in karma.conf.js\n\nThis patch removes hard-coded Python path in karma.conf.js\nto fix the npm jobs because now these npm jobs run on\ndebian-bullseye and py38 are not available there.\n\nChange-Id: I7a94478340937e0e3ca2fc333470efadbdf22a80\n'}]",1,866685,529cfb2c9feed4dd882d10a656dbdb0430a4b701,13,4,3,29313,,,0,"Remove hard-coded Python path in karma.conf.js

This patch removes hard-coded Python path in karma.conf.js
to fix the npm jobs because now these npm jobs run on
debian-bullseye and py38 are not available there.

Change-Id: I7a94478340937e0e3ca2fc333470efadbdf22a80
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/85/866685/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,773d179311e27b27525d7ec25b9e5f96aff34dbe,update karma.conf.js, ,,1,0
openstack%2Fkolla-ansible~stable%2Fzed~Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5,openstack/kolla-ansible,stable/zed,Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5,CI: Support tox4,MERGED,2022-12-28 11:20:18.000000000,2022-12-28 12:43:20.000000000,2022-12-28 12:41:58.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-28 11:20:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/972a23e12787171c26bbb4bd6a712367a4ab8cc5', 'message': 'CI: Support tox4\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5\n(cherry picked from commit 1f71aa563e626f70684fdc48966ddff3cfce518d)\n'}]",0,868560,972a23e12787171c26bbb4bd6a712367a4ab8cc5,7,2,1,22629,,,0,"CI: Support tox4

Depends-On: https://review.opendev.org/866943
Change-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5
(cherry picked from commit 1f71aa563e626f70684fdc48966ddff3cfce518d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/868560/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,972a23e12787171c26bbb4bd6a712367a4ab8cc5,,"allowlist_externals = bash find passenv = http_proxy,HTTP_PROXY,https_proxy,HTTPS_PROXY,no_proxy,NO_PROXY, \ OS_STDOUT_CAPTURE,OS_STDERR_CAPTURE,OS_LOG_CAPTURE,OS_TEST_TIMEOUT, \ PYTHON,OS_TEST_PATH,LISTOPT,IDOPTION bash {toxinidir}/tests/link-module-utils.sh {toxinidir} {envsitepackagesdir} bash {toxinidir}/tests/link-module-utils.sh {toxinidir} {envsitepackagesdir} rm",skipsdist = Trueallowlist_externals = findpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_STDOUT_CAPTURE OS_STDERR_CAPTURE OS_LOG_CAPTURE OS_TEST_TIMEOUT PYTHON OS_TEST_PATH LISTOPT IDOPTION {toxinidir}/tests/link-module-utils.sh {toxinidir} {envsitepackagesdir} {toxinidir}/tests/link-module-utils.sh {toxinidir} {envsitepackagesdir},8,7
openstack%2Fkolla-ansible~stable%2Fyoga~Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5,openstack/kolla-ansible,stable/yoga,Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5,CI: Support tox4,MERGED,2022-12-28 11:20:45.000000000,2022-12-28 12:43:07.000000000,2022-12-28 12:42:00.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-28 11:20:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e75c580d1e1bcc33e8610b8413985ea256ba6df1', 'message': 'CI: Support tox4\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5\n(cherry picked from commit 1f71aa563e626f70684fdc48966ddff3cfce518d)\n'}]",0,868561,e75c580d1e1bcc33e8610b8413985ea256ba6df1,7,2,1,22629,,,0,"CI: Support tox4

Depends-On: https://review.opendev.org/866943
Change-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5
(cherry picked from commit 1f71aa563e626f70684fdc48966ddff3cfce518d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/61/868561/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e75c580d1e1bcc33e8610b8413985ea256ba6df1,,"allowlist_externals = bash find passenv = http_proxy,HTTP_PROXY,https_proxy,HTTPS_PROXY,no_proxy,NO_PROXY, \ OS_STDOUT_CAPTURE,OS_STDERR_CAPTURE,OS_LOG_CAPTURE,OS_TEST_TIMEOUT, \ PYTHON,OS_TEST_PATH,LISTOPT,IDOPTION bash {toxinidir}/tests/link-module-utils.sh {toxinidir} {envsitepackagesdir} bash {toxinidir}/tests/link-module-utils.sh {toxinidir} {envsitepackagesdir} rm",skipsdist = Trueallowlist_externals = findpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_STDOUT_CAPTURE OS_STDERR_CAPTURE OS_LOG_CAPTURE OS_TEST_TIMEOUT PYTHON OS_TEST_PATH LISTOPT IDOPTION {toxinidir}/tests/link-module-utils.sh {toxinidir} {envsitepackagesdir} {toxinidir}/tests/link-module-utils.sh {toxinidir} {envsitepackagesdir},8,7
openstack%2Fglance~stable%2Fxena~I0a377c9329cef8b251b800018fc0d7f784008329,openstack/glance,stable/xena,I0a377c9329cef8b251b800018fc0d7f784008329,Fix tox4 error,MERGED,2022-12-27 19:41:19.000000000,2022-12-28 12:25:37.000000000,2022-12-28 12:24:11.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-27 19:41:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/e45a32d17e0a0a4a2e3de964647549d075e276ba', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One is passenv where we need\nto pass each value in newline otherwise, it fails with\nerror:\n\n failed with pass_env values cannot contain whitespace,\n use comma to have multiple values in a single line,\n invalid values found.....\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I0a377c9329cef8b251b800018fc0d7f784008329\n(cherry picked from commit e2cd7251f46e9d8fe7796ba0e178ee692de98fe6)\n(cherry picked from commit 022e15025270ea2660dec2d29446658bd8ea9dab)\n(cherry picked from commit 3f6c689b7241bc20bc9f7ed398058bc312f81df3)\n'}]",1,868715,e45a32d17e0a0a4a2e3de964647549d075e276ba,7,2,1,8556,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One is passenv where we need
to pass each value in newline otherwise, it fails with
error:

 failed with pass_env values cannot contain whitespace,
 use comma to have multiple values in a single line,
 invalid values found.....

Fixing tox.ini for tox4 changes.

Change-Id: I0a377c9329cef8b251b800018fc0d7f784008329
(cherry picked from commit e2cd7251f46e9d8fe7796ba0e178ee692de98fe6)
(cherry picked from commit 022e15025270ea2660dec2d29446658bd8ea9dab)
(cherry picked from commit 3f6c689b7241bc20bc9f7ed398058bc312f81df3)
",git fetch https://review.opendev.org/openstack/glance refs/changes/15/868715/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e45a32d17e0a0a4a2e3de964647549d075e276ba,tox4,passenv = *_proxy *_PROXY,skipsdist = Truepassenv = *_proxy *_PROXY,3,2
openstack%2Fopenstack-ansible~master~I807985f68e1a090c5b3c055a78c16b79beeec8c5,openstack/openstack-ansible,master,I807985f68e1a090c5b3c055a78c16b79beeec8c5,Do not run dstat by default,MERGED,2022-12-20 16:42:35.000000000,2022-12-28 12:18:38.000000000,2022-12-28 12:16:42.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32238}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-12-20 16:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8890efcd16936985f0e50dbab3455e03ed1c580d', 'message': 'Do not run dstat by default\n\nFixing dstat runtime in gate resulted in a side-effect, that dstat_graph\ntries to run even outside of the gates, since GATE_EXIT_RUN_DSTAT\nwas always defaulted to True. Now we default it to False and set to true\nonly when gate-check-commit is ran.\n\nChange-Id: I807985f68e1a090c5b3c055a78c16b79beeec8c5\n'}, {'number': 2, 'created': '2022-12-20 16:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/302ee394fe246a8d0362d012840d389dbb9a0f7c', 'message': ""Do not run dstat by default\n\nFixing dstat runtime in gate resulted in a side-effect, that dstat_graph\ntries to run even outside of the gates, since GATE_EXIT_RUN_DSTAT\nwas always defaulted to True. Now we enable dstat only when ZUUL_PROJECT\nvariable is defined. In it's turn ZUUL_PROJECT is set only in zuul pre-run\ntasks for our jobs.\n\nChange-Id: I807985f68e1a090c5b3c055a78c16b79beeec8c5\n""}, {'number': 3, 'created': '2022-12-20 16:58:23.000000000', 'files': ['scripts/scripts-library.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0369605a1c560981fbcf4171f0c9e195502fcfe9', 'message': ""Do not run dstat by default\n\nFixing dstat runtime in gate resulted in a side-effect, that dstat_graph\ntries to run even outside of the gates, since GATE_EXIT_RUN_DSTAT\nwas always defaulted to True. Now we enable dstat only when ZUUL_PROJECT\nvariable is defined. In it's turn ZUUL_PROJECT is set only in zuul pre-run\ntasks for our jobs.\n\nChange-Id: I807985f68e1a090c5b3c055a78c16b79beeec8c5\n""}]",0,868224,0369605a1c560981fbcf4171f0c9e195502fcfe9,12,7,3,28619,,,0,"Do not run dstat by default

Fixing dstat runtime in gate resulted in a side-effect, that dstat_graph
tries to run even outside of the gates, since GATE_EXIT_RUN_DSTAT
was always defaulted to True. Now we enable dstat only when ZUUL_PROJECT
variable is defined. In it's turn ZUUL_PROJECT is set only in zuul pre-run
tasks for our jobs.

Change-Id: I807985f68e1a090c5b3c055a78c16b79beeec8c5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/24/868224/2 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/gate-check-commit.sh', 'scripts/scripts-library.sh']",2,8890efcd16936985f0e50dbab3455e03ed1c580d,,"GATE_EXIT_RUN_DSTAT=""${GATE_EXIT_RUN_DSTAT:-false}""","GATE_EXIT_RUN_DSTAT=""${GATE_EXIT_RUN_DSTAT:-true}""",2,1
openstack%2Ftripleo-quickstart-extras~master~Ia7f8a4dd970ac76322adadc0698ac1c14aa87180,openstack/tripleo-quickstart-extras,master,Ia7f8a4dd970ac76322adadc0698ac1c14aa87180,Use tox-4 for linters and Molecules,MERGED,2022-12-28 07:33:58.000000000,2022-12-28 12:15:12.000000000,2022-12-28 12:14:14.000000000,"[{'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-12-28 07:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/617b0a33497a7d9949c883c8404d17e121129f28', 'message': '[DNM] tox timeout issue\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: Ia7f8a4dd970ac76322adadc0698ac1c14aa87180\n'}, {'number': 2, 'created': '2022-12-28 07:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4aedb68b1a4cd0e7cf1e33792899a516d7d5f11b', 'message': '[DNM] tox timeout issue\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: Ia7f8a4dd970ac76322adadc0698ac1c14aa87180\n'}, {'number': 3, 'created': '2022-12-28 08:45:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b4669d9f7492a7a9ecf7ea54a328ed9fe146de30', 'message': 'Use tox-4 for linters and Molecules\n\nIt removes following things:\n- skipdist option\n- updates whitelist_externals to allowlist_externals\n- Drops tox-bindep as it does not support tox-4\n- Tox-4 also includes fix for hanging issue:\n  https://github.com/tox-dev/tox/issues/2595\n\nbindep is quite stable and tox-4 is around from long\ntime and tox-bindep last got released on jan 2021. [1]\nhttps://github.com/tox-dev/tox-bindep/releases/tag/0.2.1\n\nSo, We are dropping it.\n\nCloses-Bug: #2000622\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: Ia7f8a4dd970ac76322adadc0698ac1c14aa87180\n'}]",3,868741,b4669d9f7492a7a9ecf7ea54a328ed9fe146de30,12,3,3,12393,,,0,"Use tox-4 for linters and Molecules

It removes following things:
- skipdist option
- updates whitelist_externals to allowlist_externals
- Drops tox-bindep as it does not support tox-4
- Tox-4 also includes fix for hanging issue:
  https://github.com/tox-dev/tox/issues/2595

bindep is quite stable and tox-4 is around from long
time and tox-bindep last got released on jan 2021. [1]
https://github.com/tox-dev/tox-bindep/releases/tag/0.2.1

So, We are dropping it.

Closes-Bug: #2000622

Signed-off-by: Chandan Kumar <chkumar@redhat.com>
Change-Id: Ia7f8a4dd970ac76322adadc0698ac1c14aa87180
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/41/868741/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,617b0a33497a7d9949c883c8404d17e121129f28,tox_time_out, tox,skipdist = True tox<4,1,2
openstack%2Fopenstack-ansible-tests~master~Id2a4cb712b4099bff1c05c4d10502a7572517268,openstack/openstack-ansible-tests,master,Id2a4cb712b4099bff1c05c4d10502a7572517268,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:31.000000000,2022-12-28 12:01:33.000000000,2022-12-28 12:00:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-12-27 16:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/88f58b6de926d4a0ca561a16e837f5d9d8ad4661', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Id2a4cb712b4099bff1c05c4d10502a7572517268'}, {'number': 2, 'created': '2022-12-28 09:14:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/747c5f65542bcafcf3fb0da34b232909c59ddc4f', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Id2a4cb712b4099bff1c05c4d10502a7572517268'}]",0,868709,747c5f65542bcafcf3fb0da34b232909c59ddc4f,10,3,2,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Id2a4cb712b4099bff1c05c4d10502a7572517268",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/09/868709/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,88f58b6de926d4a0ca561a16e837f5d9d8ad4661,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Ftacker-specs~master~I12b8168f14d1e0286df34a06c4f0020365e66308,openstack/tacker-specs,master,I12b8168f14d1e0286df34a06c4f0020365e66308,SRBAC:Implement project personas in Tacker,MERGED,2022-12-08 05:58:19.000000000,2022-12-28 11:53:33.000000000,2022-12-28 11:52:27.000000000,"[{'_account_id': 8556}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32029}, {'_account_id': 34712}]","[{'number': 1, 'created': '2022-12-08 05:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c647127a24c111a4c5aed853b25a318d2eb5f61a', 'message': '[WIP]SRBAC:Implement project-reader persona in Tacker\n\nImplements: bp implement-reader-role\nChange-Id: I12b8168f14d1e0286df34a06c4f0020365e66308\n'}, {'number': 2, 'created': '2022-12-08 06:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/f82e71c97d381bea33b74e6a738a18f3f460b4a0', 'message': '[WIP]SRBAC:Implement project-reader persona in Tacker\n\nImplements: bp implement-reader-role\nChange-Id: I12b8168f14d1e0286df34a06c4f0020365e66308\n'}, {'number': 3, 'created': '2022-12-08 06:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/27251efc9e996f8affdd187b9338666b50afc473', 'message': '[WIP]SRBAC:Implement project-reader persona in Tacker\n\nImplements: bp implement-reader-role\nChange-Id: I12b8168f14d1e0286df34a06c4f0020365e66308\n'}, {'number': 4, 'created': '2022-12-20 09:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/ee72d994b7703d78030136e2268dfc03a93e0bd6', 'message': 'SRBAC:Implement project-reader persona in Tacker\n\nIn the OpenStack Zed cycle, the Technical committee proposed\nintroducing the project scope reader role [1].\nA project-reader persona will operate within its own project\nresource, and have read-only access within the project.\n\nThis specification discusses the implementation for project-reader\npersona in Tacker.\n\n[1] https://review.opendev.org/c/openstack/governance/+/847418\n\nImplements: bp implement-reader-role\nChange-Id: I12b8168f14d1e0286df34a06c4f0020365e66308\n'}, {'number': 5, 'created': '2022-12-22 10:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/f1fdf6537d8f2d31f72b6bd76dc439593a0c9915', 'message': 'SRBAC:Implement project personas in Tacker\n\nIn the OpenStack Zed cycle, the Technical committee proposed\nintroducing the project scope reader and member role [1].\n\nA project-reader persona will operate within its own project\nresource, and have read-only access within the project.\n\nA project-member is denoted by someone with the member role\non a project. It is intended to be used by end users who\nconsume resources within a project. It inherits all the\npermissions of a project-reader.\n\nThis specification discusses the implementation of project\npersonas (project-reader and project-member) in Tacker.\n\n[1] https://review.opendev.org/c/openstack/governance/+/847418\n\nImplements: bp implement-reader-role\nChange-Id: I12b8168f14d1e0286df34a06c4f0020365e66308\n'}, {'number': 6, 'created': '2022-12-27 05:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/dc7f4493a871ab27aec1bc3072a8da6e283ee130', 'message': 'SRBAC:Implement project personas in Tacker\n\nIn the OpenStack Zed cycle, the Technical committee proposed\nintroducing the project scope reader and member role [1].\n\nA project-reader persona will operate within its project\nresource, and have read-only access within the project.\n\nA project-member is denoted by someone with a member role\non a project. It is intended to be used by end users who\nconsume resources within a project. It inherits all the\npermissions of a project-reader.\n\nThis specification discusses the implementation of the project\npersonas (project-reader and project-member) in Tacker.\n\n[1] https://review.opendev.org/c/openstack/governance/+/847418\n\nImplements: bp implement-project-personas\nChange-Id: I12b8168f14d1e0286df34a06c4f0020365e66308\n'}, {'number': 7, 'created': '2022-12-28 04:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/57851aeeb00da8c293890d521f6d8096284c58dc', 'message': 'SRBAC:Implement project personas in Tacker\n\nIn the OpenStack Zed cycle, the Technical committee proposed\nintroducing the project scope reader and member role [1].\n\nA project-reader persona will operate within its project\nresource, and have read-only access within the project.\n\nA project-member is denoted by someone with a member role\non a project. It is intended to be used by end users who\nconsume resources within a project. It inherits all the\npermissions of a project-reader.\n\nIn order to implement the project-member and project-reader role\nwe need to depreciate the existing ""owner"" rule which allows\nany role to behave as the owner of the project.\n\nThis specification discusses the implementation of the project\npersonas (project-reader and project-member) in Tacker.\n\n[1] https://review.opendev.org/c/openstack/governance/+/847418\n\nImplements: bp implement-project-personas\nChange-Id: I12b8168f14d1e0286df34a06c4f0020365e66308\n'}, {'number': 8, 'created': '2022-12-28 05:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/2c854f53b8d6c8fc7c88ed83df616ba87e1e5b9a', 'message': 'SRBAC:Implement project personas in Tacker\n\nIn the OpenStack Zed cycle, the Technical committee proposed\nintroducing the project scope reader and member role [1].\n\nA project-reader persona will operate within its project\nresource, and have read-only access within the project.\n\nA project-member is denoted by someone with a member role\non a project. It is intended to be used by end users who\nconsume resources within a project. It inherits all the\npermissions of a project-reader.\n\nIn order to implement the project-member and project-reader role\nwe need to depreciate the existing ""owner"" rule which allows\nany role to behave as the owner of the project.\n\nThis specification discusses the implementation of the project\npersonas (project-reader and project-member) in Tacker.\n\n[1] https://review.opendev.org/c/openstack/governance/+/847418\n\nImplements: bp implement-project-personas\nChange-Id: I12b8168f14d1e0286df34a06c4f0020365e66308\n'}, {'number': 9, 'created': '2022-12-28 05:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/a883ada16e5817e0b76e852358e766f29300442b', 'message': 'SRBAC:Implement project personas in Tacker\n\nIn the OpenStack Zed cycle, the Technical committee proposed\nintroducing the project scope reader and member role [1].\n\nA project-reader persona will operate within its project\nresource, and have read-only access within the project.\n\nA project-member is denoted by someone with a member role\non a project. It is intended to be used by end users who\nconsume resources within a project. It inherits all the\npermissions of a project-reader.\n\nIn order to implement the project-member and project-reader role\nwe need to depreciate the existing ""owner"" rule which allows\nany role to behave as the owner of the project.\n\nThis specification discusses the implementation of the project\npersonas (project-reader and project-member) in Tacker.\n\n[1] https://review.opendev.org/c/openstack/governance/+/847418\n\nImplements: bp implement-project-personas\nChange-Id: I12b8168f14d1e0286df34a06c4f0020365e66308\n'}, {'number': 10, 'created': '2022-12-28 05:59:12.000000000', 'files': ['specs/2023.1/srbac-implement-project-personas.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/a46ebac66330632ea637f115b14b3e2d8072e7b0', 'message': 'SRBAC:Implement project personas in Tacker\n\nIn the OpenStack Zed cycle, the Technical committee proposed\nintroducing the project scope reader and member role [1].\n\nA project-reader persona will operate within its project\nresource, and have read-only access within the project.\n\nA project-member is denoted by someone with a member role\non a project. It is intended to be used by end users who\nconsume resources within a project. It inherits all the\npermissions of a project-reader.\n\nIn order to implement the project-member and project-reader role\nwe need to depreciate the existing ""owner"" rule which allows\nany role to behave as the owner of the project.\n\nThis specification discusses the implementation of the project\npersonas (project-reader and project-member) in Tacker.\n\n[1] https://review.opendev.org/c/openstack/governance/+/847418\n\nImplements: bp implement-project-personas\nChange-Id: I12b8168f14d1e0286df34a06c4f0020365e66308\n'}]",47,866956,a46ebac66330632ea637f115b14b3e2d8072e7b0,41,7,10,32102,,,0,"SRBAC:Implement project personas in Tacker

In the OpenStack Zed cycle, the Technical committee proposed
introducing the project scope reader and member role [1].

A project-reader persona will operate within its project
resource, and have read-only access within the project.

A project-member is denoted by someone with a member role
on a project. It is intended to be used by end users who
consume resources within a project. It inherits all the
permissions of a project-reader.

In order to implement the project-member and project-reader role
we need to depreciate the existing ""owner"" rule which allows
any role to behave as the owner of the project.

This specification discusses the implementation of the project
personas (project-reader and project-member) in Tacker.

[1] https://review.opendev.org/c/openstack/governance/+/847418

Implements: bp implement-project-personas
Change-Id: I12b8168f14d1e0286df34a06c4f0020365e66308
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/56/866956/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/srbac-implement-project-reader-persona.rst'],1,c647127a24c111a4c5aed853b25a318d2eb5f61a,bp/implement-project-personas,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================== SRBAC: Implement Support Of Project Reader Persona ================================================== https://blueprints.launchpad.net/tacker/+spec/implement-reader-role This specification discusses the implementation for project-reader persona in Tacker. Role-Based Access Control (RBAC) is used by most OpenStack services to control user access to resources. Authorization is granted if a user has the necessary role to perform an action. Problem description =================== In the Zed cycle, OpenStack Technical Committee proposed to implement support project personas [#TC-GOALS]_. Implement support project personas. This is to introduce the member and reader roles to operate things within their project. By default, any other project role like foo will not be allowed to do anything in the project. In the OpenStack 2023.1 Antelope release, we will be implementing project-reader persona in the Tacker. Proposed change =============== In Tacker, we will implement the project-reader persona which will operate within its own project resource, and have read-only access within the project. Not allowed to make any writable changes to the project-owned resources. The project-reader changes will make sure that by default any other role for example foo in that project will not be able to do anything. project-reader is denoted by someone with the reader role on a project. It is intended to be used by end users for read-only access within a project. .. code-block:: json policy.RuleDefault( name=""project_reader"", check_str=""role:reader and project_id:%(project_id)s"", description=""Default rule for Project level read only APIs."" ) .. note:: Using it in policy rule (with admin + reader access) to intact legacy admin behavior, to give access of reader APIs to admin role as well. project-reader persona in the policy check string: For example, the policy check string for query to show an individual VNF instance will be change as follow. .. code-block:: json policy.DocumentedRuleDefault( name=VNFLCM % 'show', check_str=base.RULE_ADMIN_OR_OWNER, description=""Query an Individual VNF instance."", operations=[ { 'method': 'GET', 'path': '/vnflcm/v1/vnf_instances/{vnfInstanceId}' } ] ), policy.DocumentedRuleDefault( name=VNFLCM % 'show', check_str=role:admin or (' + 'role:reader and project_id:%(project_id)s)', description=""Query an Individual VNF instance."", operations=[ { 'method': 'GET', 'path': '/vnflcm/v1/vnf_instances/{vnfInstanceId}' } ] ), Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- List of impacted Tacker APIs: #. VNF packages * List VNF Packages * Show VNF Package * Read VNFD of an individual VNF package * Fetch an on-boarded VNF package with HTTP_RANGE * Fetch an on-boarded VNF package Artifacts with HTTP_RANGE #. VNF Life Cycle Management Versions * List VNFLCM API versions * Show VNFLCM API versions #. VNF Life Cycle Management * Show VNF Instance * List VNF Instance * Show VNF LCM operation occurrence * List VNF LCM operation occurrence * Show subscription * List subscription #. VNF Life Cycle Management (v2) * Show VNF Instance (v2) * List VNF Instance(v2) * Show VNF LCM operation occurrence(v2) * List VNF LCM operation occurrence(v2) * Show subscription(v2) * List subscription(v2) #. VNF Fault Management * Get all alarms (v1) * Get the individual alarm (v1) * Get all subscriptions (v1) * Get a subscription (v1) #. VNF Performance Management Interface * Get for PM jobs (v2) * Get a PM job (v2) * Get individual performance report (v2) Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Manpreet Kaur <kaurmanpreet2620@gmail.com> Work Items ---------- * Implement project-reader role in the Tacker project. * Add the project-reader persona in the policy check string of APIs supporting the ""GET"" method. * Add unit test cases to validate the project-reader role policy changes. Dependencies ============ None Testing ======= Add unit test cases to validate new project-reader role support. Documentation Impact ==================== Update the Tacker policy document [#TACKER-POLICY-DOC]_ by adding details for new project persona role. References ========== .. [#TC-GOALS] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#phase-2 .. [#TACKER-POLICY-DOC] https://docs.openstack.org/tacker/latest/configuration/policy.html ",,214,0
openstack%2Fansible-role-qdrouterd~master~I4354d6b70b5a88efa3bac56363c14b478b9e32b4,openstack/ansible-role-qdrouterd,master,I4354d6b70b5a88efa3bac56363c14b478b9e32b4,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:08.000000000,2022-12-28 11:52:35.000000000,2022-12-28 11:51:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-12-27 16:53:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/ed78ef112cb5b3946d102de8ab3d7ce4592adebb', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I4354d6b70b5a88efa3bac56363c14b478b9e32b4'}]",0,868686,ed78ef112cb5b3946d102de8ab3d7ce4592adebb,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I4354d6b70b5a88efa3bac56363c14b478b9e32b4",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/86/868686/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ed78ef112cb5b3946d102de8ab3d7ce4592adebb,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fopenstack-ansible-memcached_server~master~I92e651bdcf6bdc6da8d90f2934238b51a5534cca,openstack/openstack-ansible-memcached_server,master,I92e651bdcf6bdc6da8d90f2934238b51a5534cca,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:14.000000000,2022-12-28 11:39:59.000000000,2022-12-28 11:38:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-12-27 16:53:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/c74e83e51f98bd417ab7d6f50f06ce8029552f2d', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I92e651bdcf6bdc6da8d90f2934238b51a5534cca'}]",1,868695,c74e83e51f98bd417ab7d6f50f06ce8029552f2d,10,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I92e651bdcf6bdc6da8d90f2934238b51a5534cca",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/95/868695/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c74e83e51f98bd417ab7d6f50f06ce8029552f2d,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fansible-hardening~master~I7807b7d29f4504404253f5c42b624639c8b19c97,openstack/ansible-hardening,master,I7807b7d29f4504404253f5c42b624639c8b19c97,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:12.000000000,2022-12-28 11:37:59.000000000,2022-12-28 11:36:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-12-27 16:53:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/e77c311442cb1d1ef8caa7df9d9c00471afa75e7', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I7807b7d29f4504404253f5c42b624639c8b19c97'}]",0,868691,e77c311442cb1d1ef8caa7df9d9c00471afa75e7,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I7807b7d29f4504404253f5c42b624639c8b19c97",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/91/868691/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e77c311442cb1d1ef8caa7df9d9c00471afa75e7,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-os_magnum~master~Ibf6b05d89cf1d8f113881d64878c58256b865342,openstack/openstack-ansible-os_magnum,master,Ibf6b05d89cf1d8f113881d64878c58256b865342,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:22.000000000,2022-12-28 11:37:46.000000000,2022-12-28 11:36:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-12-27 16:53:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/50f4db5bacbf4db3f10b1019549e03966dc13f75', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Ibf6b05d89cf1d8f113881d64878c58256b865342'}]",0,868701,50f4db5bacbf4db3f10b1019549e03966dc13f75,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Ibf6b05d89cf1d8f113881d64878c58256b865342",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/01/868701/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,50f4db5bacbf4db3f10b1019549e03966dc13f75,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fansible-role-systemd_mount~master~I8db7ddabfd3586136f442da4a4807fafbb91b5d3,openstack/ansible-role-systemd_mount,master,I8db7ddabfd3586136f442da4a4807fafbb91b5d3,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:08.000000000,2022-12-28 11:37:30.000000000,2022-12-28 11:36:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-12-27 16:53:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/526293ad5bb5daf69088e1348bec6b5946e2ee6d', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I8db7ddabfd3586136f442da4a4807fafbb91b5d3'}]",0,868687,526293ad5bb5daf69088e1348bec6b5946e2ee6d,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I8db7ddabfd3586136f442da4a4807fafbb91b5d3",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/87/868687/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,526293ad5bb5daf69088e1348bec6b5946e2ee6d,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fglance~stable%2Fzed~I0a377c9329cef8b251b800018fc0d7f784008329,openstack/glance,stable/zed,I0a377c9329cef8b251b800018fc0d7f784008329,Fix tox4 error,MERGED,2022-12-27 19:35:36.000000000,2022-12-28 11:23:35.000000000,2022-12-28 11:22:31.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-27 19:35:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/022e15025270ea2660dec2d29446658bd8ea9dab', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One is passenv where we need\nto pass each value in newline otherwise, it fails with\nerror:\n\n failed with pass_env values cannot contain whitespace,\n use comma to have multiple values in a single line,\n invalid values found.....\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I0a377c9329cef8b251b800018fc0d7f784008329\n(cherry picked from commit e2cd7251f46e9d8fe7796ba0e178ee692de98fe6)\n'}]",2,868713,022e15025270ea2660dec2d29446658bd8ea9dab,11,2,1,8556,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One is passenv where we need
to pass each value in newline otherwise, it fails with
error:

 failed with pass_env values cannot contain whitespace,
 use comma to have multiple values in a single line,
 invalid values found.....

Fixing tox.ini for tox4 changes.

Change-Id: I0a377c9329cef8b251b800018fc0d7f784008329
(cherry picked from commit e2cd7251f46e9d8fe7796ba0e178ee692de98fe6)
",git fetch https://review.opendev.org/openstack/glance refs/changes/13/868713/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,022e15025270ea2660dec2d29446658bd8ea9dab,tox4,passenv = *_proxy *_PROXY,skipsdist = Truepassenv = *_proxy *_PROXY,3,2
openstack%2Ftripleo-quickstart~master~Ida80b2a660a5ee54155d242607711cbaad9ecbd2,openstack/tripleo-quickstart,master,Ida80b2a660a5ee54155d242607711cbaad9ecbd2,Fix tox4 issues,MERGED,2022-12-27 16:30:33.000000000,2022-12-28 11:07:41.000000000,2022-12-28 11:06:29.000000000,"[{'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-27 16:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9ece648919de86a7e6a7af5bf59cc5fa6223c1df', 'message': 'Fix tox4 issues\n\nThis patch fixes tox4 issues:\n - replace whitelist which was deprecated.\n\nChange-Id: Ida80b2a660a5ee54155d242607711cbaad9ecbd2\n'}, {'number': 2, 'created': '2022-12-27 17:34:48.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/30d2e99eb54813f6d52ca7329717cd5c06288a40', 'message': 'Fix tox4 issues\n\nThis patch fixes tox4 issues:\n - replace whitelist which was deprecated.\nAdds pyaml requirement for doc generation\n\nChange-Id: Ida80b2a660a5ee54155d242607711cbaad9ecbd2\n'}]",2,868682,30d2e99eb54813f6d52ca7329717cd5c06288a40,11,3,2,30002,,,0,"Fix tox4 issues

This patch fixes tox4 issues:
 - replace whitelist which was deprecated.
Adds pyaml requirement for doc generation

Change-Id: Ida80b2a660a5ee54155d242607711cbaad9ecbd2
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/82/868682/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9ece648919de86a7e6a7af5bf59cc5fa6223c1df,fix_tox_4.0,allowlist_externals =allowlist_externals = bash,whitelist_externals =whitelist_externals = bash,2,2
openstack%2Fkolla-ansible~master~Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5,openstack/kolla-ansible,master,Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5,CI: Support tox4,MERGED,2022-12-09 10:10:43.000000000,2022-12-28 11:06:16.000000000,2022-12-28 11:05:10.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-09 10:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f8a9fba3975d2ad944669829a98ee4931ef716ac', 'message': 'CI: test tox4\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5\n'}, {'number': 2, 'created': '2022-12-09 10:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ec3ed5daab245296bc7e17e8baeeb8a6acb8a8b4', 'message': 'CI: Support tox4\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5\n'}, {'number': 3, 'created': '2022-12-09 10:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a4c5c6563212e71582278d575aaaaa2dcf880417', 'message': 'CI: Support tox4\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5\n'}, {'number': 4, 'created': '2022-12-12 09:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a85f7a2b4a2e0eae0d0de089b77e8bb75070d3a9', 'message': 'CI: Support tox4\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5\n'}, {'number': 5, 'created': '2022-12-12 09:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b45d2422277cb3e37048710f1bff34b415118d7e', 'message': 'CI: Support tox4\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5\n'}, {'number': 6, 'created': '2022-12-12 10:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/19c3a7268afe1c123e55677b86070c64b84a25a2', 'message': 'CI: Support tox4\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5\n'}, {'number': 7, 'created': '2022-12-28 09:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/43464b30a2a3ae4fbd9792b41bb37d92cb7a2192', 'message': 'CI: Support tox4\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5\n'}, {'number': 8, 'created': '2022-12-28 09:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/18ef233039da3f0031e378d92accdd5d38e0e452', 'message': 'CI: Support tox4\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5\n'}, {'number': 9, 'created': '2022-12-28 09:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d13feb15ccce8aa7a0f046bf234eb9f65a30866f', 'message': 'CI: Support tox4\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5\n'}, {'number': 10, 'created': '2022-12-28 10:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f80f84cd606f7b2a5bb0337d9873e75cc78f4416', 'message': 'CI: Support tox4\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5\n'}, {'number': 11, 'created': '2022-12-28 10:13:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f71aa563e626f70684fdc48966ddff3cfce518d', 'message': 'CI: Support tox4\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5\n'}]",6,867091,1f71aa563e626f70684fdc48966ddff3cfce518d,29,2,11,22629,,,0,"CI: Support tox4

Depends-On: https://review.opendev.org/866943
Change-Id: Ib3caf7378c1d5e2e9cfe04e36797bd827e99d6c5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/91/867091/7 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f8a9fba3975d2ad944669829a98ee4931ef716ac,,,,1,0
openstack%2Fopenstack-ansible-os_trove~master~Iebbd7a91d7e3a993d9a424cb1ccbf6b87192fdc7,openstack/openstack-ansible-os_trove,master,Iebbd7a91d7e3a993d9a424cb1ccbf6b87192fdc7,DNM,ABANDONED,2022-12-12 15:57:35.000000000,2022-12-28 10:23:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-12 15:57:35.000000000', 'files': ['noop'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/da7edaaa8f18a9ad1e8fdcc98ca335a65fd66cf4', 'message': 'DNM\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/867256\nChange-Id: Iebbd7a91d7e3a993d9a424cb1ccbf6b87192fdc7\n'}]",0,867257,da7edaaa8f18a9ad1e8fdcc98ca335a65fd66cf4,3,1,1,28619,,,0,"DNM

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/867256
Change-Id: Iebbd7a91d7e3a993d9a424cb1ccbf6b87192fdc7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/57/867257/1 && git format-patch -1 --stdout FETCH_HEAD,['noop'],1,da7edaaa8f18a9ad1e8fdcc98ca335a65fd66cf4,,,,0,0
openstack%2Fansible-role-systemd_networkd~master~I62d6dc8e5b075b4803b0384d5533980c01873f66,openstack/ansible-role-systemd_networkd,master,I62d6dc8e5b075b4803b0384d5533980c01873f66,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:08.000000000,2022-12-28 09:59:13.000000000,2022-12-28 09:58:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-12-27 16:53:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/c70084757dcbc0909cb512834300f57fbf0702bd', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I62d6dc8e5b075b4803b0384d5533980c01873f66'}]",0,868685,c70084757dcbc0909cb512834300f57fbf0702bd,9,4,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I62d6dc8e5b075b4803b0384d5533980c01873f66",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/85/868685/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c70084757dcbc0909cb512834300f57fbf0702bd,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-haproxy_server~master~I73cad1846dd3fbcbf9e3317227c472d769d1e7b6,openstack/openstack-ansible-haproxy_server,master,I73cad1846dd3fbcbf9e3317227c472d769d1e7b6,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:12.000000000,2022-12-28 09:48:16.000000000,2022-12-28 09:47:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-27 16:53:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/a5daa83172719631101323f5aad0eb7b6590797d', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I73cad1846dd3fbcbf9e3317227c472d769d1e7b6'}]",0,868693,a5daa83172719631101323f5aad0eb7b6590797d,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I73cad1846dd3fbcbf9e3317227c472d769d1e7b6",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/93/868693/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a5daa83172719631101323f5aad0eb7b6590797d,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-os_senlin~master~I46bf7f2a17517856685ea7ee8361ad2fa08ceb7d,openstack/openstack-ansible-os_senlin,master,I46bf7f2a17517856685ea7ee8361ad2fa08ceb7d,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:27.000000000,2022-12-28 09:47:34.000000000,2022-12-28 09:46:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-27 16:53:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/f8c2373474753648e8c59654a78254362a7e47ce', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I46bf7f2a17517856685ea7ee8361ad2fa08ceb7d'}]",0,868704,f8c2373474753648e8c59654a78254362a7e47ce,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I46bf7f2a17517856685ea7ee8361ad2fa08ceb7d",git fetch https://review.opendev.org/openstack/openstack-ansible-os_senlin refs/changes/04/868704/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f8c2373474753648e8c59654a78254362a7e47ce,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-openstack_hosts~master~If97768b2420ae969369ea1642d5578f3ef6f7565,openstack/openstack-ansible-openstack_hosts,master,If97768b2420ae969369ea1642d5578f3ef6f7565,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:17.000000000,2022-12-28 09:47:30.000000000,2022-12-28 09:46:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-27 16:53:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/95e6ca7705c284c9edfc2de8963b22fd1491ce52', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: If97768b2420ae969369ea1642d5578f3ef6f7565'}]",0,868698,95e6ca7705c284c9edfc2de8963b22fd1491ce52,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: If97768b2420ae969369ea1642d5578f3ef6f7565",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/98/868698/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,95e6ca7705c284c9edfc2de8963b22fd1491ce52,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-galera_server~master~I0aa8f63d16d9008ca9c4384fd6e049b13838e097,openstack/openstack-ansible-galera_server,master,I0aa8f63d16d9008ca9c4384fd6e049b13838e097,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:14.000000000,2022-12-28 09:47:11.000000000,2022-12-28 09:46:18.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-27 16:53:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/badfff13463f5c50698448e8e5d8ea1d2eaa55ac', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I0aa8f63d16d9008ca9c4384fd6e049b13838e097'}]",0,868697,badfff13463f5c50698448e8e5d8ea1d2eaa55ac,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I0aa8f63d16d9008ca9c4384fd6e049b13838e097",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/97/868697/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,badfff13463f5c50698448e8e5d8ea1d2eaa55ac,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-repo_server~master~Ib6f505093477a8b19ca8ae31ab7759904369a8c0,openstack/openstack-ansible-repo_server,master,Ib6f505093477a8b19ca8ae31ab7759904369a8c0,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:36.000000000,2022-12-28 09:47:05.000000000,2022-12-28 09:46:10.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-27 16:53:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/b9d9ccfc8a781759f421d5c8aa1a9276295765b5', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Ib6f505093477a8b19ca8ae31ab7759904369a8c0'}]",0,868710,b9d9ccfc8a781759f421d5c8aa1a9276295765b5,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Ib6f505093477a8b19ca8ae31ab7759904369a8c0",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/10/868710/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b9d9ccfc8a781759f421d5c8aa1a9276295765b5,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-os_swift~master~Ic7864bf2150acbeab504d4dce3dd1a920974e5eb,openstack/openstack-ansible-os_swift,master,Ic7864bf2150acbeab504d4dce3dd1a920974e5eb,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:28.000000000,2022-12-28 09:45:34.000000000,2022-12-28 09:44:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-27 16:53:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/737c9a51d6fb78927594ddccc1277c0173868f6a', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Ic7864bf2150acbeab504d4dce3dd1a920974e5eb'}]",0,868706,737c9a51d6fb78927594ddccc1277c0173868f6a,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Ic7864bf2150acbeab504d4dce3dd1a920974e5eb",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/06/868706/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,737c9a51d6fb78927594ddccc1277c0173868f6a,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-openstack_openrc~master~Ib30ad75b70011fa9c74f8f57e41b0b85e2007003,openstack/openstack-ansible-openstack_openrc,master,Ib30ad75b70011fa9c74f8f57e41b0b85e2007003,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:17.000000000,2022-12-28 09:44:59.000000000,2022-12-28 09:44:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-27 16:53:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/3e711706727cd354d784ad83b63303313b92bef8', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Ib30ad75b70011fa9c74f8f57e41b0b85e2007003'}]",0,868699,3e711706727cd354d784ad83b63303313b92bef8,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Ib30ad75b70011fa9c74f8f57e41b0b85e2007003",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/99/868699/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3e711706727cd354d784ad83b63303313b92bef8,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-apt_package_pinning~master~I915e2d54a89b059f9baa21dc3f142e131c33f600,openstack/openstack-ansible-apt_package_pinning,master,I915e2d54a89b059f9baa21dc3f142e131c33f600,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:12.000000000,2022-12-28 09:43:37.000000000,2022-12-28 09:42:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-27 16:53:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/310b799873e132dd5bd93458d863a3cb347fb835', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I915e2d54a89b059f9baa21dc3f142e131c33f600'}]",0,868690,310b799873e132dd5bd93458d863a3cb347fb835,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I915e2d54a89b059f9baa21dc3f142e131c33f600",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/90/868690/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,310b799873e132dd5bd93458d863a3cb347fb835,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fansible-role-python_venv_build~master~Ic77fb02afbf08e071d7ba0f0eb3a273f03a3a960,openstack/ansible-role-python_venv_build,master,Ic77fb02afbf08e071d7ba0f0eb3a273f03a3a960,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:08.000000000,2022-12-28 09:43:34.000000000,2022-12-28 09:42:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-12-27 16:53:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/a6c6dfe358d5644b3056a34efb406ad2820914cf', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Ic77fb02afbf08e071d7ba0f0eb3a273f03a3a960'}]",0,868688,a6c6dfe358d5644b3056a34efb406ad2820914cf,9,4,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Ic77fb02afbf08e071d7ba0f0eb3a273f03a3a960",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/88/868688/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a6c6dfe358d5644b3056a34efb406ad2820914cf,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-os_manila~master~Ibbb153da7fd38b2a7df2b13480f647ab95d96d81,openstack/openstack-ansible-os_manila,master,Ibbb153da7fd38b2a7df2b13480f647ab95d96d81,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:22.000000000,2022-12-28 09:43:08.000000000,2022-12-28 09:42:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-27 16:53:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/b8865bde4c84479bbf379359a2c7719c7a510798', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Ibbb153da7fd38b2a7df2b13480f647ab95d96d81'}]",0,868702,b8865bde4c84479bbf379359a2c7719c7a510798,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Ibbb153da7fd38b2a7df2b13480f647ab95d96d81",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/02/868702/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b8865bde4c84479bbf379359a2c7719c7a510798,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-rabbitmq_server~master~I55cade793fc74fd5555c0f520bc132916343330e,openstack/openstack-ansible-rabbitmq_server,master,I55cade793fc74fd5555c0f520bc132916343330e,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:29.000000000,2022-12-28 09:42:39.000000000,2022-12-28 09:41:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-27 16:53:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/fd205c38da908140dae95e1ee23a080c864e7d88', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I55cade793fc74fd5555c0f520bc132916343330e'}]",0,868708,fd205c38da908140dae95e1ee23a080c864e7d88,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I55cade793fc74fd5555c0f520bc132916343330e",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/08/868708/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fd205c38da908140dae95e1ee23a080c864e7d88,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fansible-role-systemd_service~master~Ib07b10672187610c046e84b7d8a884d4ddb58164,openstack/ansible-role-systemd_service,master,Ib07b10672187610c046e84b7d8a884d4ddb58164,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:09.000000000,2022-12-28 09:42:18.000000000,2022-12-28 09:41:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-27 16:53:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/ed306794169a64ef3258aba652256c22543f8f3d', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Ib07b10672187610c046e84b7d8a884d4ddb58164'}]",0,868689,ed306794169a64ef3258aba652256c22543f8f3d,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Ib07b10672187610c046e84b7d8a884d4ddb58164",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/89/868689/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ed306794169a64ef3258aba652256c22543f8f3d,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-lxc_container_create~master~I2c6fc60cda0151fc6cd23951c4c976b9cef6a543,openstack/openstack-ansible-lxc_container_create,master,I2c6fc60cda0151fc6cd23951c4c976b9cef6a543,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:13.000000000,2022-12-28 09:42:17.000000000,2022-12-28 09:41:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-12-27 16:53:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/e09707752955d17a00b3b22f920a78a2c2069276', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I2c6fc60cda0151fc6cd23951c4c976b9cef6a543'}]",0,868694,e09707752955d17a00b3b22f920a78a2c2069276,9,4,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I2c6fc60cda0151fc6cd23951c4c976b9cef6a543",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/94/868694/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e09707752955d17a00b3b22f920a78a2c2069276,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fansible-role-pki~master~I29db8c62309bb22845a7e2acc0b54bd67916aff6,openstack/ansible-role-pki,master,I29db8c62309bb22845a7e2acc0b54bd67916aff6,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:08.000000000,2022-12-28 09:42:13.000000000,2022-12-28 09:41:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-27 16:53:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/422e31e1c226e0471bb46a3e94c9511d5268cf4a', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I29db8c62309bb22845a7e2acc0b54bd67916aff6'}]",0,868684,422e31e1c226e0471bb46a3e94c9511d5268cf4a,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I29db8c62309bb22845a7e2acc0b54bd67916aff6",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/84/868684/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,422e31e1c226e0471bb46a3e94c9511d5268cf4a,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fopenstack-ansible-ceph_client~master~If194947d7929dd251113a0384a3bda3e5fde8915,openstack/openstack-ansible-ceph_client,master,If194947d7929dd251113a0384a3bda3e5fde8915,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:12.000000000,2022-12-28 09:40:42.000000000,2022-12-28 09:39:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-12-27 16:53:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/b1dff02847d201b28e961a91422c0b6e6ffed783', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: If194947d7929dd251113a0384a3bda3e5fde8915'}]",0,868692,b1dff02847d201b28e961a91422c0b6e6ffed783,9,4,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: If194947d7929dd251113a0384a3bda3e5fde8915",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/92/868692/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b1dff02847d201b28e961a91422c0b6e6ffed783,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-lxc_hosts~master~I4967f301398621ae6e7b47b22d9a4d52037f6a3b,openstack/openstack-ansible-lxc_hosts,master,I4967f301398621ae6e7b47b22d9a4d52037f6a3b,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:14.000000000,2022-12-28 09:40:04.000000000,2022-12-28 09:39:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-27 16:53:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/97a3e26e01e246815e2e1eb04cccc8ae246ca04c', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I4967f301398621ae6e7b47b22d9a4d52037f6a3b'}]",0,868696,97a3e26e01e246815e2e1eb04cccc8ae246ca04c,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I4967f301398621ae6e7b47b22d9a4d52037f6a3b",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/96/868696/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,97a3e26e01e246815e2e1eb04cccc8ae246ca04c,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fopenstack-ansible-ops~master~I2b9d561d7e7a63c3540197b4ebc58f1e5b8846ec,openstack/openstack-ansible-ops,master,I2b9d561d7e7a63c3540197b4ebc58f1e5b8846ec,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:18.000000000,2022-12-28 09:39:48.000000000,2022-12-28 09:38:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-27 16:53:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/2a6c5710785134c602fcc943055f7d4778d1de6d', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I2b9d561d7e7a63c3540197b4ebc58f1e5b8846ec'}]",0,868700,2a6c5710785134c602fcc943055f7d4778d1de6d,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I2b9d561d7e7a63c3540197b4ebc58f1e5b8846ec",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/00/868700/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2a6c5710785134c602fcc943055f7d4778d1de6d,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fopenstack-ansible-os_sahara~master~I88f881ae0396973f60ea892453933a263b685c88,openstack/openstack-ansible-os_sahara,master,I88f881ae0396973f60ea892453933a263b685c88,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:27.000000000,2022-12-28 09:38:39.000000000,2022-12-28 09:37:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-12-27 16:53:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/6deed3ff81c3dc05df33d84b014449623e14deea', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: I88f881ae0396973f60ea892453933a263b685c88'}]",0,868705,6deed3ff81c3dc05df33d84b014449623e14deea,9,4,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: I88f881ae0396973f60ea892453933a263b685c88",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/05/868705/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6deed3ff81c3dc05df33d84b014449623e14deea,osa/tox4,allowlist_externals =allowlist_externals =,whitelist_externals =whitelist_externals =,2,2
openstack%2Fansible-role-uwsgi~master~Icb55e725014dd174bf54e00fe89ad1cdd496ccb1,openstack/ansible-role-uwsgi,master,Icb55e725014dd174bf54e00fe89ad1cdd496ccb1,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:08.000000000,2022-12-28 09:37:52.000000000,2022-12-28 09:36:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-12-27 16:53:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/a5466a04345172d51f582adb4ddd0efa8c7e1a9d', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: Icb55e725014dd174bf54e00fe89ad1cdd496ccb1'}]",0,868683,a5466a04345172d51f582adb4ddd0efa8c7e1a9d,9,4,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: Icb55e725014dd174bf54e00fe89ad1cdd496ccb1",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/83/868683/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a5466a04345172d51f582adb4ddd0efa8c7e1a9d,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Fopenstack-ansible-os_murano~master~If539db8261f3ab2aff2c476bdead78083ab2eb69,openstack/openstack-ansible-os_murano,master,If539db8261f3ab2aff2c476bdead78083ab2eb69,Update tox.ini to work with 4.0,MERGED,2022-12-27 16:53:23.000000000,2022-12-28 09:37:25.000000000,2022-12-28 09:36:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-27 16:53:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/c51ada7894b554e405ae5945f55447971f008ffc', 'message': 'Update tox.ini to work with 4.0\n\nWith tox release of 4.0, some parameters were deprecated and are ignored now\nwhich causes tox failures. One of the most spread issues we have is using\n`whitelist_externals` isntead of `allowlist_externals`\n\n\nChange-Id: If539db8261f3ab2aff2c476bdead78083ab2eb69'}]",0,868703,c51ada7894b554e405ae5945f55447971f008ffc,8,3,1,28619,,,0,"Update tox.ini to work with 4.0

With tox release of 4.0, some parameters were deprecated and are ignored now
which causes tox failures. One of the most spread issues we have is using
`whitelist_externals` isntead of `allowlist_externals`


Change-Id: If539db8261f3ab2aff2c476bdead78083ab2eb69",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/03/868703/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c51ada7894b554e405ae5945f55447971f008ffc,osa/tox4,allowlist_externals =,whitelist_externals =,1,1
openstack%2Foctavia~master~Ib8a29ab1ce4fb6878d6152b1d01652c766017ec6,openstack/octavia,master,Ib8a29ab1ce4fb6878d6152b1d01652c766017ec6,Cleanup/Remove unused Tasks,NEW,2022-12-20 13:46:06.000000000,2022-12-28 09:34:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 31664}, {'_account_id': 32029}, {'_account_id': 32761}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-12-20 13:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e2786b1d1602146ec87b800b3e8eed1f0f1ea8ad', 'message': 'Cleanup/Remove unused Tasks\n\nA lot of tasks in network_tasks are unused, they are leftovers of the\nfailover refactor patch.\n\nChange-Id: Ib8a29ab1ce4fb6878d6152b1d01652c766017ec6\n'}, {'number': 2, 'created': '2022-12-21 07:40:06.000000000', 'files': ['octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/79d25a2ef1bfbe20bd2d1dcdbb63e797ee5678f0', 'message': 'Cleanup/Remove unused Tasks\n\nA lot of tasks in network_tasks are unused, they are leftovers of the\nfailover refactor patch.\n\nChange-Id: Ib8a29ab1ce4fb6878d6152b1d01652c766017ec6\n'}]",1,868216,79d25a2ef1bfbe20bd2d1dcdbb63e797ee5678f0,8,5,2,29244,,,0,"Cleanup/Remove unused Tasks

A lot of tasks in network_tasks are unused, they are leftovers of the
failover refactor patch.

Change-Id: Ib8a29ab1ce4fb6878d6152b1d01652c766017ec6
",git fetch https://review.opendev.org/openstack/octavia refs/changes/16/868216/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py']",6,e2786b1d1602146ec87b800b3e8eed1f0f1ea8ad,, pass," if self.dns_integration_enabled: self._failover_preparation(amphora) def _failover_preparation(self, amphora): interfaces = self.get_plugged_networks(compute_id=amphora.compute_id) ports = [] for interface_ in interfaces: port = self.get_port(port_id=interface_.port_id) ips = port.fixed_ips lb_network = False for ip in ips: if ip.ip_address == amphora.lb_network_ip: lb_network = True if not lb_network: ports.append(port) for port in ports: try: self.neutron_client.update_port( port.id, {constants.PORT: {'dns_name': ''}}) except (neutron_client_exceptions.NotFound, neutron_client_exceptions.PortNotFoundClient) as e: raise base.PortNotFound() from e",1,919
openstack%2Fhorizon~master~If94e91e5ae6568e06096380c2bf65d08d20a5958,openstack/horizon,master,If94e91e5ae6568e06096380c2bf65d08d20a5958,List ports with project_id.,NEW,2022-11-10 13:59:42.000000000,2022-12-28 09:32:33.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32029}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-11-10 13:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/236a1c59e9e07fa3defc5ffdc590e4f376769847', 'message': ""List ports with project_id.\n\nDuring launch_instance, all ports belonging to network are shown if the\nnetwork is shared. However each port actually has a 'project_id'\nproperty, and the port cannot be used for any instance outside of that\nproject. When a user attempts to start an instance with a port from a\ndifferent project, it fails like this: nova.exception.PortNotUsable\n\nFix by filters port_list with project_id.\n\nCloses-bug: #1996108\nChange-Id: If94e91e5ae6568e06096380c2bf65d08d20a5958\n""}, {'number': 2, 'created': '2022-11-10 14:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2fbe754c9fca6f35aaac3a48f7e996b7d3ad4289', 'message': ""List ports with project_id.\n\nDuring launch_instance, all ports belonging to network are shown if the\nnetwork is shared. However each port actually has a 'project_id'\nproperty, and the port cannot be used for any instance outside of that\nproject. When a user attempts to start an instance with a port from a\ndifferent project, it fails like this: nova.exception.PortNotUsable\n\nFix by filters port_list with project_id.\n\nCloses-bug: #1996108\nChange-Id: If94e91e5ae6568e06096380c2bf65d08d20a5958\n""}, {'number': 3, 'created': '2022-11-10 19:37:07.000000000', 'files': ['openstack_dashboard/api/rest/neutron.py', 'openstack_dashboard/dashboards/admin/networks/ports/tests.py', 'openstack_dashboard/test/unit/api/rest/test_neutron.py', 'openstack_dashboard/dashboards/project/networks/tests.py', 'openstack_dashboard/dashboards/admin/networks/tests.py', 'openstack_dashboard/dashboards/project/networks/ports/tests.py', 'openstack_dashboard/dashboards/project/networks/ports/tabs.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b1646b65c374fff9cb842775f72c42fdca987f28', 'message': ""List ports with project_id.\n\nDuring launch_instance, all ports belonging to network are shown if the\nnetwork is shared. However each port actually has a 'project_id'\nproperty, and the port cannot be used for any instance outside of that\nproject. When a user attempts to start an instance with a port from a\ndifferent project, it fails like this: nova.exception.PortNotUsable\n\nFix by filters port_list with project_id.\n\nCloses-bug: #1996108\nChange-Id: If94e91e5ae6568e06096380c2bf65d08d20a5958\n""}]",1,864205,b1646b65c374fff9cb842775f72c42fdca987f28,9,7,3,35507,,,0,"List ports with project_id.

During launch_instance, all ports belonging to network are shown if the
network is shared. However each port actually has a 'project_id'
property, and the port cannot be used for any instance outside of that
project. When a user attempts to start an instance with a port from a
different project, it fails like this: nova.exception.PortNotUsable

Fix by filters port_list with project_id.

Closes-bug: #1996108
Change-Id: If94e91e5ae6568e06096380c2bf65d08d20a5958
",git fetch https://review.opendev.org/openstack/horizon refs/changes/05/864205/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/api/rest/neutron.py', 'openstack_dashboard/dashboards/project/networks/ports/tabs.py']",2,236a1c59e9e07fa3defc5ffdc590e4f376769847,bug/1996108," project_id = self.request.user.project_id ports = api.neutron.port_list(self.request, network_id=network_id, project_id=project_id)"," ports = api.neutron.port_list(self.request, network_id=network_id)",5,1
openstack%2Fglance_store~master~I96feba843ca5ebecdc7313961207369da30e72f5,openstack/glance_store,master,I96feba843ca5ebecdc7313961207369da30e72f5,Fix tox4 error,MERGED,2022-12-25 03:27:48.000000000,2022-12-28 09:25:44.000000000,2022-12-28 09:24:41.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-25 03:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/e9f09e1dbc58a7543489b03316bba725eea7e751', 'message': 'DNM: testing tox4\n\nChange-Id: I96feba843ca5ebecdc7313961207369da30e72f5\n'}, {'number': 2, 'created': '2022-12-26 19:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/f4348b8106cfd0a813f890b394b2f9dc159ec7d9', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes.\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I96feba843ca5ebecdc7313961207369da30e72f5\n'}, {'number': 3, 'created': '2022-12-27 01:46:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/1a01fe7fd7a30ba1deed9628abf347b599363a27', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes.\n\nFixing tox.ini for tox4 changes.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/868530\n\nChange-Id: I96feba843ca5ebecdc7313961207369da30e72f5\n'}]",5,868531,1a01fe7fd7a30ba1deed9628abf347b599363a27,18,2,3,8556,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes.

Fixing tox.ini for tox4 changes.

Depends-On: https://review.opendev.org/c/openstack/glance/+/868530

Change-Id: I96feba843ca5ebecdc7313961207369da30e72f5
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/31/868531/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e9f09e1dbc58a7543489b03316bba725eea7e751,tox4,#test tox4,,1,0
openstack%2Fzun~stable%2Fzed~I41f2cd5e5bcfa3192a761d4fb72663ff4b27b78e,openstack/zun,stable/zed,I41f2cd5e5bcfa3192a761d4fb72663ff4b27b78e,Fix circular import,MERGED,2022-12-27 06:36:46.000000000,2022-12-28 09:24:11.000000000,2022-12-28 09:23:16.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-27 06:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a20be5925b529163426f100252cb200c52753f5e', 'message': 'Fix circular import\n\nCloses-Bug: #2000386\nChange-Id: I41f2cd5e5bcfa3192a761d4fb72663ff4b27b78e\n(cherry picked from commit f4e8f995b55e7cdbfdd46eabfa2af62dd5b769a0)\n'}, {'number': 2, 'created': '2022-12-28 06:10:14.000000000', 'files': ['zun/common/context.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/d5f102d740c51ea94a2a2478f941da4a2c3fa0b9', 'message': 'Fix circular import\n\nCloses-Bug: #2000386\nChange-Id: I41f2cd5e5bcfa3192a761d4fb72663ff4b27b78e\n(cherry picked from commit f4e8f995b55e7cdbfdd46eabfa2af62dd5b769a0)\n'}]",0,868557,d5f102d740c51ea94a2a2478f941da4a2c3fa0b9,9,2,2,11536,,,0,"Fix circular import

Closes-Bug: #2000386
Change-Id: I41f2cd5e5bcfa3192a761d4fb72663ff4b27b78e
(cherry picked from commit f4e8f995b55e7cdbfdd46eabfa2af62dd5b769a0)
",git fetch https://review.opendev.org/openstack/zun refs/changes/57/868557/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/common/context.py'],1,a20be5925b529163426f100252cb200c52753f5e,," 'timestamp': self.timestamp.strftime( ""%Y-%m-%dT%H:%M:%S.%f"") if",from zun.common import utils 'timestamp': utils.strtime(self.timestamp) if,2,2
openstack%2Fvenus~master~I83f45eadf49a310b9bdaa7f2cdb828fed314601b,openstack/venus,master,I83f45eadf49a310b9bdaa7f2cdb828fed314601b,add try-except when request a remote url,MERGED,2022-12-28 06:56:14.000000000,2022-12-28 09:04:52.000000000,2022-12-28 09:04:02.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-12-28 06:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/b37217cff57b05c8076db8fd64af1f9cdbb62804', 'message': 'add try-except when request a remote url\n\nChange-Id: I83f45eadf49a310b9bdaa7f2cdb828fed314601b\n'}, {'number': 2, 'created': '2022-12-28 07:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/73618feb913c50e8577173596f24ddcb576a21f5', 'message': 'add try-except when request a remote url\n\nChange-Id: I83f45eadf49a310b9bdaa7f2cdb828fed314601b\n'}, {'number': 3, 'created': '2022-12-28 07:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/495a8a4829d2f94af7ecd1a5a2969f5da6421e29', 'message': 'add try-except when request a remote url\n\nChange-Id: I83f45eadf49a310b9bdaa7f2cdb828fed314601b\n'}, {'number': 4, 'created': '2022-12-28 08:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/4352976c140c2c3aef781a79a045ed2ccd68a762', 'message': 'add try-except when request a remote url\n\nChange-Id: I83f45eadf49a310b9bdaa7f2cdb828fed314601b\n'}, {'number': 5, 'created': '2022-12-28 08:43:48.000000000', 'files': ['venus/task/core/delete_es_index_task.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/ecafa9253abbdb9ee8e7ec954065c16c4dc29e6a', 'message': 'add try-except when request a remote url\n\nChange-Id: I83f45eadf49a310b9bdaa7f2cdb828fed314601b\n'}]",16,868740,ecafa9253abbdb9ee8e7ec954065c16c4dc29e6a,15,2,5,30455,,,0,"add try-except when request a remote url

Change-Id: I83f45eadf49a310b9bdaa7f2cdb828fed314601b
",git fetch https://review.opendev.org/openstack/venus refs/changes/40/868740/4 && git format-patch -1 --stdout FETCH_HEAD,['venus/task/core/delete_es_index_task.py'],1,b37217cff57b05c8076db8fd64af1f9cdbb62804,," try: indexes_array = self.search_lib.get_all_index() for index in indexes_array: try: index_name = index[""index""] index_day = index_name.split('-')[1] diff_day = datetime.datetime.strptime(today, ""%Y-%m-%d"") - \ datetime.datetime.strptime(index_day, '%Y.%m.%d') if diff_day.days >= int(len_d): LOG.info(""delete index {}, diff_day {}"" .format(index_name, diff_day)) self.delete_index(index_name) except Exception as e: LOG.error(""delete index {} error:{}"".format( index[""index""], str(e))) except Exception as e: LOG.error(_LE(""get es inidex error"")) "," indexes_array = self.search_lib.get_all_index() for index in indexes_array: try: index_name = index[""index""] index_day = index_name.split('-')[1] diff_day = datetime.datetime.strptime(today, ""%Y-%m-%d"") - \ datetime.datetime.strptime(index_day, '%Y.%m.%d') if diff_day.days >= int(len_d): LOG.info(""delete index {}, diff_day {}"" .format(index_name, diff_day)) self.delete_index(index_name) except Exception as e: LOG.error(""delete index {} error:{}"".format( index[""index""], str(e))) ",19,14
openstack%2Fglance~stable%2Fyoga~I0a377c9329cef8b251b800018fc0d7f784008329,openstack/glance,stable/yoga,I0a377c9329cef8b251b800018fc0d7f784008329,Fix tox4 error,MERGED,2022-12-27 19:38:38.000000000,2022-12-28 09:01:10.000000000,2022-12-28 09:00:07.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-27 19:38:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/3f6c689b7241bc20bc9f7ed398058bc312f81df3', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One is passenv where we need\nto pass each value in newline otherwise, it fails with\nerror:\n\n failed with pass_env values cannot contain whitespace,\n use comma to have multiple values in a single line,\n invalid values found.....\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I0a377c9329cef8b251b800018fc0d7f784008329\n(cherry picked from commit e2cd7251f46e9d8fe7796ba0e178ee692de98fe6)\n(cherry picked from commit 022e15025270ea2660dec2d29446658bd8ea9dab)\n'}]",1,868714,3f6c689b7241bc20bc9f7ed398058bc312f81df3,7,2,1,8556,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One is passenv where we need
to pass each value in newline otherwise, it fails with
error:

 failed with pass_env values cannot contain whitespace,
 use comma to have multiple values in a single line,
 invalid values found.....

Fixing tox.ini for tox4 changes.

Change-Id: I0a377c9329cef8b251b800018fc0d7f784008329
(cherry picked from commit e2cd7251f46e9d8fe7796ba0e178ee692de98fe6)
(cherry picked from commit 022e15025270ea2660dec2d29446658bd8ea9dab)
",git fetch https://review.opendev.org/openstack/glance refs/changes/14/868714/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3f6c689b7241bc20bc9f7ed398058bc312f81df3,tox4,passenv = *_proxy *_PROXY,skipsdist = Truepassenv = *_proxy *_PROXY,3,2
openstack%2Fcinder~master~I72074357140e9817eee704b6e9ebfd7f50343235,openstack/cinder,master,I72074357140e9817eee704b6e9ebfd7f50343235,[SVf]: mkhost failure when volume and node are on different iogrp,MERGED,2022-08-17 06:41:14.000000000,2022-12-28 07:45:28.000000000,2022-12-27 10:58:26.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 13425}, {'_account_id': 16339}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 34760}]","[{'number': 1, 'created': '2022-08-17 06:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1fd279a929cbee58a772093363b0bb5f5cd1a460', 'message': '[SVf]: Attach operation fails when volume and back-end host are on different\niogroup. The assignment of the node IP addresses is done outside the try\nblock, and the ""for ip_data in lsip_resp"" loop. Because of this the loop was\nnot consistent before, so only latest node was detected instead of all nodes\n\nCloses-Bug: #1985065\nChange-Id: I72074357140e9817eee704b6e9ebfd7f50343235\n'}, {'number': 2, 'created': '2022-08-17 06:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/72b2b7baa610ac914125fce7cc05075d0fdae9f2', 'message': '[SVf]: mkhost failure when volume and node are on different iogrp\n\nAttach operation fails when volume and back-end host are on different\niogroup. The assignment of the node IP addresses is done outside the\ntry block, and the ""for ip_data in lsip_resp"" loop. Because of this\nthe loop was not consistent before, so only latest node was detected\ninstead of all nodes.\n\nCloses-Bug: #1985065\nChange-Id: I72074357140e9817eee704b6e9ebfd7f50343235\n'}, {'number': 3, 'created': '2022-12-15 12:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/44fa359845b4a40ffa775f68dc156c1a116c0ff9', 'message': '[SVf]: mkhost failure when volume and node are on different iogrp\n\nAttach operation fails when volume and back-end host are on different\niogroup. The assignment of the node IP addresses is done outside the\ntry block, and the ""for ip_data in lsip_resp"" loop. Because of this\nthe loop was not consistent before, so only latest node was detected\ninstead of all nodes.\n\nCloses-Bug: #1985065\nChange-Id: I72074357140e9817eee704b6e9ebfd7f50343235\n'}, {'number': 4, 'created': '2022-12-16 10:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/96e848c49cac2c696f5ff3274afb98f6cce50559', 'message': '[SVf]: mkhost failure when volume and node are on different iogrp\n\nAttach operation fails when volume and back-end host are on different\niogroup. The assignment of the node IP addresses is done outside the\ntry block, and the ""for ip_data in lsip_resp"" loop. Because of this\nthe loop was not consistent before, so only latest node was detected\ninstead of all nodes.\n\nCloses-Bug: #1985065\nChange-Id: I72074357140e9817eee704b6e9ebfd7f50343235\n'}, {'number': 5, 'created': '2022-12-20 09:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4a6714651aab39859cb605251dac6adb014093e', 'message': '[SVf]: mkhost failure when volume and node are on different iogrp\n\nAttach operation fails when volume and back-end host are on different\niogroup. The assignment of the node IP addresses is done outside the\ntry block, and the ""for ip_data in lsip_resp"" loop. Because of this\nthe loop was not consistent before, so only latest node was detected\ninstead of all nodes.\n\nCloses-Bug: #1985065\nChange-Id: I72074357140e9817eee704b6e9ebfd7f50343235\n'}, {'number': 6, 'created': '2022-12-21 12:27:27.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/bug-1985065-storwize-mkhost-failure-592d8cb76e9feeb2.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/54872f9b6caa1a6ffa06d4cc19d07a04a90b26e1', 'message': '[SVf]: mkhost failure when volume and node are on different iogrp\n\nAttach operation fails when volume and back-end host are on different\niogroup. The assignment of the node IP addresses is done outside the\ntry block, and the ""for ip_data in lsip_resp"" loop. Because of this\nthe loop was not consistent before, so only latest node was detected\ninstead of all nodes.\n\nCloses-Bug: #1985065\nChange-Id: I72074357140e9817eee704b6e9ebfd7f50343235\n'}]",46,853126,54872f9b6caa1a6ffa06d4cc19d07a04a90b26e1,170,7,6,32074,,,0,"[SVf]: mkhost failure when volume and node are on different iogrp

Attach operation fails when volume and back-end host are on different
iogroup. The assignment of the node IP addresses is done outside the
try block, and the ""for ip_data in lsip_resp"" loop. Because of this
the loop was not consistent before, so only latest node was detected
instead of all nodes.

Closes-Bug: #1985065
Change-Id: I72074357140e9817eee704b6e9ebfd7f50343235
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/853126/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/bug-1985065-storwize-mkhost-failure-592d8cb76e9feeb2.yaml']",2,1fd279a929cbee58a772093363b0bb5f5cd1a460,bug/1985065,--- fixes: - | IBM Spectrum Virtualize Family driver: `Bug #1985065 <https://bugs.launchpad.net/cinder/+bug/1985065>`_: Fixed to collect all the IP addresses for all the storage nodes given in lsip command response as volume of any iogrp should be available to the storage nodes in default scenario. ,,11,3
openstack%2Fvenus~master~Ia3a3eeccb0fabc00d79565259d8d335494638e16,openstack/venus,master,Ia3a3eeccb0fabc00d79565259d8d335494638e16,update delete task config from db,MERGED,2022-12-28 02:12:57.000000000,2022-12-28 06:55:50.000000000,2022-12-28 06:54:55.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-12-28 02:12:57.000000000', 'files': ['venus/task/core/delete_es_index_task.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/8206ba139f6beed7022718dba440a0d64787efa2', 'message': 'update delete task config from db\n\nChange-Id: Ia3a3eeccb0fabc00d79565259d8d335494638e16\n'}]",0,868733,8206ba139f6beed7022718dba440a0d64787efa2,7,2,1,30455,,,0,"update delete task config from db

Change-Id: Ia3a3eeccb0fabc00d79565259d8d335494638e16
",git fetch https://review.opendev.org/openstack/venus refs/changes/33/868733/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/task/core/delete_es_index_task.py'],1,8206ba139f6beed7022718dba440a0d64787efa2,,"from venus.modules.custom_config.action import CustomConfigCore self.config_api = CustomConfigCore() len_d = self.config_api.get_config(""es_index_length"") self.delete_es_history_index() "," len_d = CONF.elasticsearch.es_index_days if CONF.elasticsearch.url == """": LOG.info(_LI(""not deploy es and not need execute"")) return try: self.delete_es_history_index() except Exception as e: LOG.error(_LE(""delete es index, catch exception:%s""), str(e)) ",4,11
openstack%2Fglance~master~I0a377c9329cef8b251b800018fc0d7f784008329,openstack/glance,master,I0a377c9329cef8b251b800018fc0d7f784008329,Fix tox4 error,MERGED,2022-12-25 03:27:05.000000000,2022-12-28 06:20:44.000000000,2022-12-28 06:19:09.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-25 03:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9e2bd3a6c1680fd609ccbf7be43bbb0212f719d2', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One is passenv where we need\nto pass each value in newline otherwise, it fails with\nerror:\n\n failed with pass_env values cannot contain whitespace,\n use comma to have multiple values in a single line,\n invalid values found.....\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I0a377c9329cef8b251b800018fc0d7f784008329\n'}, {'number': 2, 'created': '2022-12-26 00:23:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/e2cd7251f46e9d8fe7796ba0e178ee692de98fe6', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One is passenv where we need\nto pass each value in newline otherwise, it fails with\nerror:\n\n failed with pass_env values cannot contain whitespace,\n use comma to have multiple values in a single line,\n invalid values found.....\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I0a377c9329cef8b251b800018fc0d7f784008329\n'}]",2,868530,e2cd7251f46e9d8fe7796ba0e178ee692de98fe6,14,2,2,8556,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One is passenv where we need
to pass each value in newline otherwise, it fails with
error:

 failed with pass_env values cannot contain whitespace,
 use comma to have multiple values in a single line,
 invalid values found.....

Fixing tox.ini for tox4 changes.

Change-Id: I0a377c9329cef8b251b800018fc0d7f784008329
",git fetch https://review.opendev.org/openstack/glance refs/changes/30/868530/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9e2bd3a6c1680fd609ccbf7be43bbb0212f719d2,tox4,passenv = *_proxy *_PROXY,passenv = *_proxy *_PROXY,3,1
openstack%2Fcoverage2sql~master~I96e6bea19a3f08b40842cab266137769377a35c9,openstack/coverage2sql,master,I96e6bea19a3f08b40842cab266137769377a35c9,DNM: teting tox4,ABANDONED,2022-12-28 05:52:31.000000000,2022-12-28 06:15:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-28 05:52:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/coverage2sql/commit/8d4bdaff2888b991821d11736cb7dbc5894d8cef', 'message': 'DNM: teting tox4\n\nChange-Id: I96e6bea19a3f08b40842cab266137769377a35c9\n'}]",0,868738,8d4bdaff2888b991821d11736cb7dbc5894d8cef,3,1,1,8556,,,0,"DNM: teting tox4

Change-Id: I96e6bea19a3f08b40842cab266137769377a35c9
",git fetch https://review.opendev.org/openstack/coverage2sql refs/changes/38/868738/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8d4bdaff2888b991821d11736cb7dbc5894d8cef,tox4,#testing,,1,0
openstack%2Ftacker-specs~master~Ib8f1c83be1bec3644f0fbead46ccd6ab7c2d4e83,openstack/tacker-specs,master,Ib8f1c83be1bec3644f0fbead46ccd6ab7c2d4e83,Enhancement of Tacker API Resource Access Control,MERGED,2022-12-15 07:50:18.000000000,2022-12-28 05:24:37.000000000,2022-12-28 05:23:36.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 33455}]","[{'number': 1, 'created': '2022-12-15 07:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/8c90fd9fb9eda8fe0775a96a074b491366177a4d', 'message': 'Enhancement of Tacker API Resource Access Control\n\nThis specification describes implements of fine-grained\naccess control based on user and VNF information for API resources.\nIt will extend user information to include role, VIM information, VNF\ninstance information,\nand implement the policy enforcer that uses not only roles, but also\nuser and VNF information.\nThe following items will be supported.\n\n1. Add additional attributes to resources when be created.\n2. Change the API process to support Tacker policy checker.\n3. Add the Tacker policy filter to the list API processes.\n4. Convert special roles to API attributes in context.\n5. Add a configuration option and policy samples.\n\nImplements: blueprint enhance-api-policy\nChange-Id: Ib8f1c83be1bec3644f0fbead46ccd6ab7c2d4e83\n'}, {'number': 2, 'created': '2022-12-26 12:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/8da9e1f51538403f83ef64ffc68f042e4f30f39c', 'message': 'Enhancement of Tacker API Resource Access Control\n\nThis specification describes implements of fine-grained\naccess control based on user and VNF information for API resources.\nIt will extend user information to include role, VIM information, VNF\ninstance information,\nand implement the policy enforcer that uses not only roles, but also\nuser and VNF information.\nThe following items will be supported.\n\n1. Add additional attributes to resources when be created.\n2. Change the API process to support Tacker policy checker.\n3. Add the Tacker policy filter to the list API processes.\n4. Convert special roles to API attributes in context.\n5. Add a configuration option and policy samples.\n\nImplements: blueprint enhance-api-policy\nChange-Id: Ib8f1c83be1bec3644f0fbead46ccd6ab7c2d4e83\n'}, {'number': 3, 'created': '2022-12-27 23:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/5cac5728543053c0270352c99413002ffb15c53a', 'message': 'Enhancement of Tacker API Resource Access Control\n\nThis specification describes implements of fine-grained\naccess control based on user and VNF information for API resources.\nIt will extend user information to include role, VIM information, VNF\ninstance information,\nand implement the policy enforcer that uses not only roles, but also\nuser and VNF information.\nThe following items will be supported.\n\n1. Add additional attributes to resources when be created.\n2. Change the API process to support Tacker policy checker.\n3. Add the Tacker policy filter to the list API processes.\n4. Convert special roles to API attributes in context.\n5. Add a configuration option and policy samples.\n\nImplements: blueprint enhance-api-policy\nChange-Id: Ib8f1c83be1bec3644f0fbead46ccd6ab7c2d4e83\n'}, {'number': 4, 'created': '2022-12-28 00:00:08.000000000', 'files': ['specs/2023.1/enhance-tacker-policy.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/2f959940bcd93c59a7bc5f2ab7588303481b07db', 'message': 'Enhancement of Tacker API Resource Access Control\n\nThis specification describes implements of fine-grained\naccess control based on user and VNF information for API resources.\nIt will extend user information to include role, VIM information, VNF\ninstance information,\nand implement the policy enforcer that uses not only roles, but also\nuser and VNF information.\nThe following items will be supported.\n\n1. Add additional attributes to resources when be created.\n2. Change the API process to support Tacker policy checker.\n3. Add the Tacker policy filter to the list API processes.\n4. Convert special roles to API attributes in context.\n5. Add a configuration option and policy samples.\n\nImplements: blueprint enhance-api-policy\nChange-Id: Ib8f1c83be1bec3644f0fbead46ccd6ab7c2d4e83\n'}]",17,867763,2f959940bcd93c59a7bc5f2ab7588303481b07db,19,6,4,34712,,,0,"Enhancement of Tacker API Resource Access Control

This specification describes implements of fine-grained
access control based on user and VNF information for API resources.
It will extend user information to include role, VIM information, VNF
instance information,
and implement the policy enforcer that uses not only roles, but also
user and VNF information.
The following items will be supported.

1. Add additional attributes to resources when be created.
2. Change the API process to support Tacker policy checker.
3. Add the Tacker policy filter to the list API processes.
4. Convert special roles to API attributes in context.
5. Add a configuration option and policy samples.

Implements: blueprint enhance-api-policy
Change-Id: Ib8f1c83be1bec3644f0fbead46ccd6ab7c2d4e83
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/63/867763/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/enhance-tacker-policy.rst'],1,8c90fd9fb9eda8fe0775a96a074b491366177a4d,bp/enhance-api-policy,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================= Enhancement of Tacker API Resource Access Control ================================================= https://blueprints.launchpad.net/tacker/+spec/enhance-api-policy Problem description =================== In the current implementation, the Tacker API policy only supports whether the user can access the API, but does not determine whether the user can access the object on which the API call operates. However, in commercial networks, telecom operators need finer-grained access control for API resources. For example, only engineers of Company A are allowed to operate VNF/CNF of Company A, but engineers of other companies cannot. The oslo.policy [#oslo.policy]_ supports the function to compare API attributes to object attributes. For example: .. code-block:: console ""os_nfv_orchestration_api:vnf_instances:show"" : ""project_id:%(project_id)s"" The project_id string before the colon is an API attribute, namely the project ID of the API user. It is compared with the project ID of the object (in this case, a VNF instance). More precisely, it is compared with the project_id field of that object in the database. If the two values are equal, permission is granted. Based on this function, this specification describes implements of fine-grained access control based on user and VNF information for API resources. Proposed change =============== The following changes are needed: #. Add additional attributes to resources when be created. #. Change the API process to support Tacker policy checker. #. Add the Tacker policy filter to the list API processes. #. Convert special roles to API attributes in context. #. Add a configuration option. #. Policy and roles samples. Add Additional Attributes to Resources When Be Created ------------------------------------------------------ #. Register Vim API + Put an area attribute into request parameter 'extra'. It will be stored into DB by later API process. #. Create VNF instance API v1/v2 + Get area attribute from default Vim, then put it in the 'extra' field of VimConnectionInfo object in VnfInstance object, and then store it into DB. #. Instantiate VNF instance v1/v2 + Get Vim info by vim_id in VimConnectionInfo from request body. + Get area attribute from Vim info, then put it in the 'extra' field of VimConnectionInfo object in InstantiateVnfRequest object, and then store it into DB. .. note:: Area attribute is a area-region pair. The value of this attribute is a string in the format of ""area@region"". Change the API Process to Support Tacker Policy Checker ------------------------------------------------------- In the current implementation, the Tacker API process did not pass in the attributes of the accessed resource when calling the policy function. However, those attributes are needed by enhanced Tacker API policy function to determine if a user can access the resource or not. Therefore, we should modify the API process. Get the attributes required by policy checker from the database and pass them to policy checker when calling. The flow of a policy check in API process to support enhanced Tacker policy. .. seqdiag:: seqdiag { Client -> Keystonemiddleware [label = ""request""]; Keystonemiddleware -> ""API Process"" [label = ""1. Request with user info""]; ""API Process"" -> TackerDB [label = ""2. Get the accessed \nresources from the TackerDB.""] ""API Process"" <-- TackerDB [label = ""return the accessed\n resources""]; ""API Process"" -> ""API Process"" [label = ""3. Get required \nresource \nattributes \nfrom accessed \nresources""]; ""API Process"" -> Context [label = ""4. Invoke policy check function with accessed resource\n attributes.""]; Context -> Context [label = ""5. Convert special \nroles to user\n attributes""]; Context -> oslo.policy [label = ""6. Invoke policy enforcer\n with resource attributes\n and user attributes""]; Context <-- oslo.policy; ""API Process"" <-- Context; === 7. Operate the accessed resource. === Keystonemiddleware <-- ""API Process"" [label = ""response""]; Client <-- Keystonemiddleware [label = ""response""]; } Step 3 is specialized and needs to be implemented by each API process by itself. The other steps are common or already exist for all API processes to be changed: 1. Keystonemiddleware will send request to API process with user info which includes user roles. Special user roles will be converted to user attributes in later step. This step is an existing step and does not need to be modified. 2. API Process gets the accessed resources from the TackerDB. This step is existing and does not need to be modified. 3. API Process gets required resource attributes from accessed resources. This step is newly added. 4. API Process invokes policy check function with accessed resource attributes. This step is existing, but what needs to be modified is to add resource attributes as call parameters when calling the policy check function. 5. Context converts special roles to user attributes. This step is newly added and whether it is executed or not will be determined by the configuration option described in the following section `Add a Configuration Option`_. For the conversion rules, please refer to the later section `Convert Special Roles to API Attributes in Context`_ for details. 6. Context invokes policy enforcer with resource attributes and user attributes. This step is existing and does not need to be modified. 7. API Process operates the accessed resource. This step is existing and does not need to be modified. Vim API processes to be changed ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ * Vim delete * Vim update * Vim show The following table shows that the attribute required by a policy checker could be queried by which API request parameter from which table and stored in which field. .. list-table:: :widths: 10 28 16 12 50 :header-rows: 1 * - Attribute - Request Parameter - Table - Field - Sample * - area - vim_id - vims - extra - {""area"": ""tokyo@japan""} VNF Package API processes to be changed ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ * VNF package show * VNF package delete * VNF package update * VNF package read * VNF package fetch The following table shows that the attribute required by policy check could be queried by which API request parameter from which table and stored in which field. .. list-table:: :widths: 10 28 14 12 50 :header-rows: 1 * - Attribute - Request Parameter - Table - Field - Sample * - vendor - vnf_package_id - vnf_package_vnfd - vnf_provider - ""Company"" VNF Instance API processes to be changed ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The change of VNF instance API processes include v1 and v2 versions. #. VNF instance create API process needs to be changed: The following table shows that the attribute required by policy check could be queried by which API request parameter from which table and stored in which field. .. list-table:: :widths: 10 28 14 12 50 :header-rows: 1 * - Attribute - Request Parameter - Table - Field - Sample * - vendor - vnfdId - vnf_package_vnfd - vnf_provider - ""Company"" #. VNF instance instantiate API process needs to be changed: The following table shows that the attribute required by policy check could be queried by which API request parameter from which table and stored in which field. .. list-table:: :widths: 10 28 14 12 50 :header-rows: 1 * - Attribute - Request Parameter - Table - Field - Sample * - vendor - vnfdId - vnf_instances,VnfInstanceV2 - vnf_provider,vnfProvider - ""Company"" #. The following API processes need to be changed: * VNF instance terminate * VNF instance heal * VNF instance delete * VNF instance show * VNF instance scale * VNF instance modify * VNF instance change_ext_conn * VNF instance change_vnfpkg (v2) The following table shows that the attribute required by policy check could be queried by which API request parameter from which table and stored in which field. .. list-table:: :widths: 10 28 14 12 50 :header-rows: 1 * - Attribute - Request Parameter - Table - Field - Sample * - vendor - vnfdId - vnf_instances,VnfInstanceV2 - vnf_provider,vnfProvider - ""Company"" * - area - vnfInstanceId - vnf_instances,VnfInstanceV2 - vim_connection_info/extra,vimConnectionInfo/extra - {""area"": ""tokyo@japan""} * - namespace(CNF) - vnfInstanceId - vnf_instances,VnfInstanceV2 - vnf_metadata,metadata - {""namespace"": ""default""} Add the Tacker Policy Filter to the List API Processes ------------------------------------------------------ In the current implementation, Tacker policy does not support filter for list API. We will add a filter based on policy rule to filter the results of the list operation. The flow of a policy filter in API process to support enhanced Tacker policy. .. seqdiag:: seqdiag { Client -> Keystonemiddleware [label = ""request""]; Keystonemiddleware -> ""API Process"" [label = ""1. Request with user info""]; ""API Process"" -> Context [label = ""2. Invoke policy check\n function without resource \nattributes.""]; ""API Process"" <-- Context; ""API Process"" -> TackerDB [label = ""3. Get the accessed resources from the database.""]; ""API Process"" <-- TackerDB [label = ""return accessed resources.""]; ""API Process"" -> Context [label = ""4. Get user attributes.""]; Context -> Context [label = ""5. Convert special \nroles to user\n attributes""]; ""API Process"" <-- Context [label = ""return user attributes""]; ""API Process"" -> ""API Process"" [label = ""6. Filter the list\n operation results \nbased on policy\n rules.""]; Keystonemiddleware <-- ""API Process"" [label = ""7. Return the filtered\n result to user.""]; Client <-- Keystonemiddleware [label = ""response""]; } Step 6 is specialized and needs to be implemented by each API process by itself. The other steps are common or already exist steps for all API processes to be changed: 1. Keystonemiddleware will send request to API process with user info which includes user roles. Special user roles will be converted to user attributes in later step. This step is an existing step and does not need to be modified. 2. API Process invokes policy check function without resource attributes. This step is an existing step and does not need to be modified. 3. API Process gets the accessed resources from the database. This step is an existing step and does not need to be modified. 4. API Process gets user attributes from context. This step is newly added and common. 5. Context converts special roles to user attributes, this step is newly added and depends on the configuration option described in the following section `Add a Configuration Option`_. For the conversion rules, please refer to the later section `Convert Special Roles to API Attributes in Context`_ for details. 6. API Process filters the list operation results based on policy rules. This step is newly added. 7. API Process returns the filtered result to user. This step is existing and does not need to be modified. The List API Processes to be changed ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #. For Vim list API, the following attributes are supported by Tacker policy filter. .. list-table:: :widths: 10 14 12 50 :header-rows: 1 * - Attribute - Table - Field - Sample * - area - vims - extra - {""area"": ""tokyo@japan""} #. For VNF package list API, the following attributes are supported by Tacker policy filter. .. list-table:: :widths: 10 14 12 50 :header-rows: 1 * - Attribute - Table - Field - Sample * - vendor - vnf_package_vnfd - vnf_provider - ""Company"" #. For VNF instance list API, the following attributes are supported by Tacker policy filter. .. list-table:: :widths: 10 14 12 50 :header-rows: 1 * - Attribute - Table - Field - Sample * - vendor - vnf_instances,VnfInstanceV2 - vnf_provider,vnfProvider - ""Company"" * - area - vnf_instances,VnfInstanceV2 - vim_connection_info/extra,vimConnectionInfo/extra - {""area"": ""tokyo@japan""} * - namespace(CNF) - vnf_instances,VnfInstanceV2 - vnf_metadata,metadata - {""namespace"": ""default""} Convert Special Roles to API Attributes in Context -------------------------------------------------- Special Roles' Naming Rules ~~~~~~~~~~~~~~~~~~~~~~~~~~~ We will define some special roles, and the naming of these roles follows the following rules. #. The role name consists of three parts: prefix + ""_"" + [attribute value/special value] #. Supported prefixes, attribute values and special values are shown in the following table: .. list-table:: :widths: 10 14 12 50 :header-rows: 1 * - Prefix - Attribute value - Special value - Sample * - AREA - area value - all@all, all@{region_value} - AREA_tokyo@japan, AREA_all@all, AREA_all@japan * - VENDOR - vendor value - all - VENDOR_vendor_A, VENDOR_all * - NAMESPACE - namespace value - all - NAMESPACE_default, NAMESPACE_all .. note:: As ""all"" is treated as a special value, the above attribute of resource cannot use ""all"" as the attribute value. Conversion rules ~~~~~~~~~~~~~~~~ In Tacker context, we convert these special roles into API attributes and provide them to Tacker policy. Please refer to the `Change the API Process to Support Tacker Policy Checker`_ and `Add the Tacker Policy Filter to the List API Processes`_ sections of this specification for the flow chart of this change. The conversion follows the following rules: #. For ordinary attribute values, they will be directly converted to user attribute values. .. list-table:: :widths: 10 14 50 :header-rows: 1 * - Prefix - Attribute Name - Sample (special role -> user attribute value) * - AREA - area - AREA_tokyo@japan -> {""area"": [""tokyo@japan""]} * - VENDOR - vendor - VENDOR_vendor_A -> {""vendor"": [""vendor_A""]} * - NAMESPACE - namespace value - NAMESPACE_default -> {""namespace"": [""default""]} #. For special value in policy checker, the corresponding attribute value of resource will be assigned to user. .. list-table:: :widths: 10 14 14 50 :header-rows: 1 * - Prefix - Attribute Name - Special Value - Sample (resource attribute -> user attribute) * - AREA - area - all@all - {""area"": ""tokyo@japan""} -> {""area"": [""tokyo@japan""]} * - AREA - area - all@{region_value} - same region value: .. code-block:: console {""area"": ""tokyo@japan""} -> {""area"": [""tokyo@japan""]} different region value: .. code-block:: console any -> {""area"": []} * - VENDOR - vendor - all - {""vendor"": ""vendor_A""} -> {""vendor"": [""vendor_A""]} * - NAMESPACE - namespace value - all - {""namespace"": ""default""} -> {""namespace"": [""default""]} #. For special value ""all"" in policy filter, the attribute will not be used as a filtering attribute. Note that the ""area"" attribute needs to be divided into two parts with ""@"" when it is used as a filter attribute. Therefore, the special value ""all@{region_value}"" of ""area"" needs to be divided into ""all"" and ""{region_value}"". The part of ""area"" is not used as a filter attribute, but ""{region_value}"" should be used as a filter attribute because it is the special value ""all"". Add a Configuration Option -------------------------- As the function defined in this specification changes the default behavior of the Tacker API policy, it is suggested to add a configuration option to the ``tacker.conf`` file. Therefore, a user can choose whether to enable this function or not. .. code-block:: [oslo_policy] enhanced_tacker_policy = False As a suggested implementation, when the enhanced_tacker_policy is True, the function of converting special roles to user attributes in context described in the previous chapter `Convert special roles to API attributes in context`_ takes effect; When enhanced_tacker_policy is False, this function will not take effect. .. note:: When enhanced_tacker_policy is False, special roles will not be converted to user attributes, then users will not have the enhanced policy attributes such as area, vendor and namespace(CNF). At this time, if the enhanced policy attributes are used as comparison attributes in the policy rule, this rule will prevent users from accessing any resource as the comparison result is always false. Policy and Roles Samples ------------------------ Policy Examples ~~~~~~~~~~~~~~~ .. note:: For details on Tacker policy configuration, please refer to Tacker Configuration Guide [#tacker_policy]_. .. code-block:: yaml # Decides what is required for the 'is_admin:True' check to succeed. ""context_is_admin"": ""role:admin"" # Default rule for most non-Admin APIs. ""admin_or_owner"": ""is_admin:True or project_id:%(project_id)s"" # Default rule for most Admin APIs. ""admin_only"": ""is_admin:True"" # Default rule for sharing vims. ""shared"": ""field:vims:shared=True"" # Default rule for most non-Admin APIs. ""default"": ""rule:admin_or_owner"" # For manager ""manager_and_owner"": ""rule:manager and project_id:%(project_id)s"" # For user ""owner"": ""project_id:%(project_id)s"" # VIM resource attributes compare rule. ""vim_attrs_cmp"": ""area:%(area)s"" # Register a VIM. # Post /v1.0/vims ""create_vim"": ""@"" # List VIMs or show a VIM. # GET /v1.0/vims # GET /v1.0/vims/{vim_id} ""get_vim"": ""rule:vim_attrs_cmp and rule:owner"" # Update a VIM. # PUT /v1.0/vims/{vim_id} ""update_vim"": ""rule:vim_attrs_cmp and rule:manager_and_owner"" # Delete a VIM. # DELETE /v1.0/vims/{vim_id} ""delete_vim"": ""rule:vim_attrs_cmp and rule:manager_and_owner"" # vnf_packages resource attributes compare rule. ""vnf_pkg_attrs_cmp"": ""vendor:%(vendor)s"" # Create a VNF package. # POST /vnf_packages ""os_nfv_orchestration_api:vnf_packages:create"": ""rule:admin_or_owner"" # Show a VNF package. # GET /vnf_packages/{vnf_package_id} ""os_nfv_orchestration_api:vnf_packages:show"": ""rule:vnf_pkg_attrs_cmp and rule:owner"" # List all VNF packages. # GET /vnf_packages/ ""os_nfv_orchestration_api:vnf_packages:index"": ""rule:vnf_pkg_attrs_cmp and rule:owner"" # Delete a VNF package. # DELETE /vnf_packages/{vnf_package_id} ""os_nfv_orchestration_api:vnf_packages:delete"": ""rule:vnf_pkg_attrs_cmp and rule:manager_and_owner"" # Fetch the contents of an on-boarded VNF Package. # GET /vnf_packages/{vnf_package_id}/package_content ""os_nfv_orchestration_api:vnf_packages:fetch_package_content"": ""rule:vnf_pkg_attrs_cmp and rule:owner"" # Upload a VNF package content. # PUT /vnf_packages/{vnf_package_id}/package_content ""os_nfv_orchestration_api:vnf_packages:upload_package_content"": ""rule:admin_or_owner"" # Upload a VNF package content from URI. # POST /vnf_packages/{vnf_package_id}/package_content/upload_from_uri ""os_nfv_orchestration_api:vnf_packages:upload_from_uri"": ""rule:admin_or_owner"" # Update information of VNF package. # PATCH /vnf_packages/{vnf_package_id} ""os_nfv_orchestration_api:vnf_packages:patch"": ""rule:vnf_pkg_attrs_cmp and rule:manager_and_owner"" # Read the content of the VNFD within a VNF package. # GET /vnf_packages/{vnf_package_id}/vnfd ""os_nfv_orchestration_api:vnf_packages:get_vnf_package_vnfd"": ""rule:vnf_pkg_attrs_cmp and rule:owner"" # Read the content of the artifact within a VNF package. # GET /vnf_packages/{vnfPkgId}/artifacts/{artifactPath} ""os_nfv_orchestration_api:vnf_packages:fetch_artifact"": ""rule:vnf_pkg_attrs_cmp and rule:owner"" # vnflcm create attributes compare rule. ""vnflcm_create_attrs_cmp"": ""vendor:%(vendor)s and rule:manager_and_owner"" # vnflcm instantiate attributes compare rule. ""vnflcm_inst_attrs_cmp"": ""vendor:%(vendor)s and rule:manager_and_owner"" # vnflcm resource attributes compare rule. ""vnflcm_attrs_cmp"": ""area:%(area)s and vendor:%(vendor)s and namespace:%(namespace)s"" # Get API Versions. # GET /vnflcm/v1/api_versions ""os_nfv_orchestration_api:vnf_instances:api_versions"": ""@"" # Create VNF instance. # POST /vnflcm/v1/vnf_instances ""os_nfv_orchestration_api:vnf_instances:create"": ""rule:vnflcm_create_attrs_cmp and rule:manager_and_owner"" # Instantiate VNF instance. # POST /vnflcm/v1/vnf_instances/{vnfInstanceId}/instantiate ""os_nfv_orchestration_api:vnf_instances:instantiate"": ""rule:vnflcm_inst_attrs_cmp and rule:manager_and_owner"" # Query an Individual VNF instance. # GET /vnflcm/v1/vnf_instances/{vnfInstanceId} ""os_nfv_orchestration_api:vnf_instances:show"": ""rule:vnflcm_attrs_cmp and rule:owner"" # Terminate a VNF instance. # POST /vnflcm/v1/vnf_instances/{vnfInstanceId}/terminate ""os_nfv_orchestration_api:vnf_instances:terminate"": ""rule:vnflcm_attrs_cmp and rule:manager_and_owner"" # Heal a VNF instance. # POST /vnflcm/v1/vnf_instances/{vnfInstanceId}/heal ""os_nfv_orchestration_api:vnf_instances:heal"": ""rule:vnflcm_attrs_cmp and rule:manager_and_owner"" # Scale a VNF instance. # POST /vnflcm/v1/vnf_instances/{vnfInstanceId}/scale ""os_nfv_orchestration_api:vnf_instances:scale"": ""rule:vnflcm_attrs_cmp and rule:manager_and_owner"" # Query an Individual VNF LCM operation occurrence. # GET /vnflcm/v1/vnf_lcm_op_occs/{vnfLcmOpOccId} ""os_nfv_orchestration_api:vnf_instances:show_lcm_op_occs"": ""rule:admin_or_owner"" # Query VNF LCM operation occurrence. # GET /vnflcm/v1/vnf_lcm_op_occs ""os_nfv_orchestration_api:vnf_instances:list_lcm_op_occs"": ""rule:admin_or_owner"" # Query VNF instances. # GET /vnflcm/v1/vnf_instances ""os_nfv_orchestration_api:vnf_instances:index"": ""rule:vnflcm_attrs_cmp and rule:owner"" # Delete an Individual VNF instance. # DELETE /vnflcm/v1/vnf_instances/{vnfInstanceId} ""os_nfv_orchestration_api:vnf_instances:delete"": ""rule:vnflcm_attrs_cmp and rule:manager_and_owner"" # Update an Individual VNF instance. # PATCH /vnflcm/v1/vnf_instances/{vnfInstanceId} ""os_nfv_orchestration_api:vnf_instances:update_vnf"": ""rule:vnflcm_attrs_cmp and rule:manager_and_owner"" # Rollback a VNF instance. # POST /vnflcm/v1/vnf_lcm_op_occs/{vnfLcmOpOccId}/rollback ""os_nfv_orchestration_api:vnf_instances:rollback"": ""rule:admin_or_owner"" # Cancel a VNF instance. # POST /vnflcm/v1/vnf_lcm_op_occs/{vnfLcmOpOccId}/cancel ""os_nfv_orchestration_api:vnf_instances:cancel"": ""rule:admin_or_owner"" # Fail a VNF instance. # POST /vnflcm/v1/vnf_lcm_op_occs/{vnfLcmOpOccId}/fail ""os_nfv_orchestration_api:vnf_instances:fail"": ""rule:admin_or_owner"" # Retry a VNF instance. # POST /vnflcm/v1/vnf_lcm_op_occs/{vnfLcmOpOccId}/retry ""os_nfv_orchestration_api:vnf_instances:retry"": ""rule:admin_or_owner"" # Change external VNF connectivity. # POST /vnflcm/v1/vnf_instances/{vnfInstanceId}/change_ext_conn ""os_nfv_orchestration_api:vnf_instances:change_ext_conn"": ""rule:vnflcm_attrs_cmp and rule:manager_and_owner"" # Get API Versions. # GET /vnflcm/v2/api_versions ""os_nfv_orchestration_api_v2:vnf_instances:api_versions"": ""@"" # Create VNF instance. # POST /vnflcm/v2/vnf_instances ""os_nfv_orchestration_api_v2:vnf_instances:create"": ""rule:vnflcm_create_attrs_cmp and rule:manager_and_owner"" # Query VNF instances. # GET /vnflcm/v2/vnf_instances ""os_nfv_orchestration_api_v2:vnf_instances:index"": ""rule:vnflcm_attrs_cmp and rule:owner"" # Query an Individual VNF instance. # GET /vnflcm/v2/vnf_instances/{vnfInstanceId} ""os_nfv_orchestration_api_v2:vnf_instances:show"": ""rule:vnflcm_attrs_cmp and rule:owner"" # Delete an Individual VNF instance. # DELETE /vnflcm/v2/vnf_instances/{vnfInstanceId} ""os_nfv_orchestration_api_v2:vnf_instances:delete"": ""rule:vnflcm_attrs_cmp and rule:manager_and_owner"" # Modify VNF instance information. # PATCH /vnflcm/v2/vnf_instances/{vnfInstanceId} ""os_nfv_orchestration_api_v2:vnf_instances:update"": ""rule:vnflcm_attrs_cmp and rule:manager_and_owner"" # Instantiate VNF instance. # POST /vnflcm/v2/vnf_instances/{vnfInstanceId}/instantiate ""os_nfv_orchestration_api_v2:vnf_instances:instantiate"": ""rule:vnflcm_inst_attrs_cmp and rule:manager_and_owner"" # Terminate VNF instance. # POST /vnflcm/v2/vnf_instances/{vnfInstanceId}/terminate ""os_nfv_orchestration_api_v2:vnf_instances:terminate"": ""rule:vnflcm_attrs_cmp and rule:manager_and_owner"" # Scale VNF instance. # POST /vnflcm/v2/vnf_instances/{vnfInstanceId}/scale ""os_nfv_orchestration_api_v2:vnf_instances:scale"": ""rule:vnflcm_attrs_cmp and rule:manager_and_owner"" # Heal VNF instance. # POST /vnflcm/v2/vnf_instances/{vnfInstanceId}/heal ""os_nfv_orchestration_api_v2:vnf_instances:heal"": ""rule:vnflcm_attrs_cmp and rule:manager_and_owner"" # Change external VNF connectivity. # POST /vnflcm/v2/vnf_instances/{vnfInstanceId}/change_ext_conn ""os_nfv_orchestration_api_v2:vnf_instances:change_ext_conn"": ""rule:vnflcm_attrs_cmp and rule:manager_and_owner"" # Change VNF package. # POST /vnflcm/v2/vnf_instances/{vnfInstanceId}/change_vnfpkg ""os_nfv_orchestration_api_v2:vnf_instances:change_vnfpkg"": ""rule:vnflcm_attrs_cmp and rule:manager_and_owner"" # Create subscription. # POST /vnflcm/v2/subscriptions ""os_nfv_orchestration_api_v2:vnf_instances:subscription_create"": ""@"" # List subscription. # GET /vnflcm/v2/subscriptions ""os_nfv_orchestration_api_v2:vnf_instances:subscription_list"": ""@"" # Show subscription. # GET /vnflcm/v2/vnf_instances/{subscriptionId} ""os_nfv_orchestration_api_v2:vnf_instances:subscription_show"": ""@"" # Delete subscription. # DELETE /vnflcm/v2/vnf_instances/{subscriptionId} ""os_nfv_orchestration_api_v2:vnf_instances:subscription_delete"": ""@"" # List VnfLcmOpOcc. # GET /vnflcm/v2/vnf_lcm_op_occs ""os_nfv_orchestration_api_v2:vnf_instances:lcm_op_occ_list"": ""@"" # Show VnfLcmOpOcc. # GET /vnflcm/v2/vnf_lcm_op_occs/{vnfLcmOpOccId} ""os_nfv_orchestration_api_v2:vnf_instances:lcm_op_occ_show"": ""@"" # Retry VnfLcmOpOcc. # POST /vnflcm/v2/vnf_lcm_op_occs/{vnfLcmOpOccId}/retry ""os_nfv_orchestration_api_v2:vnf_instances:lcm_op_occ_retry"": ""@"" # Rollback VnfLcmOpOcc. # POST /vnflcm/v2/vnf_lcm_op_occs/{vnfLcmOpOccId}/rollback ""os_nfv_orchestration_api_v2:vnf_instances:lcm_op_occ_rollback"": ""@"" # Fail VnfLcmOpOcc. # POST /vnflcm/v2/vnf_lcm_op_occs/{vnfLcmOpOccId}/fail ""os_nfv_orchestration_api_v2:vnf_instances:lcm_op_occ_fail"": ""@"" # Delete VnfLcmOpOcc. # DELETE /vnflcm/v2/vnf_lcm_op_occs/{vnfLcmOpOccId} ""os_nfv_orchestration_api_v2:vnf_instances:lcm_op_occ_delete"": ""@"" Roles Examples ~~~~~~~~~~~~~~ Create the following roles: * admin * member * reader * manager * AREA_area_A@region_A * AREA_area_B@region_A * AREA_area_A@region_B * AREA_area_B@region_B * AREA_all@region_A * AREA_all@region_B * AREA_all@all * VENDOR_vendor_A * VENDOR_vendor_B * VENDOR_all * NAMESPACE_default * NAMESPACE_namespace_A * NAMESPACE_all The root user needs to be assigned the following roles: * admin * manager * AREA_all@all * VENDOR_all * NAMESPACE_all The region manager needs to be assigned the following roles: * manager * AREA_all@region_A (or AREA_all@region_B) * VENDOR_all * NAMESPACE_all The area manager needs to be assigned the following roles: * manager * AREA_area_A@region_A (or AREA_area_B@region_A or AREA_area_A@region_B or AREA_area_B@region_B) * VENDOR_all * NAMESPACE_all The tenant manager needs to be assigned the following roles: * manager * AREA_all@all * VENDOR_all * NAMESPACE_all The tenant(area) manager needs to be assigned the following roles: * manager * AREA_area_A@region_A (or AREA_area_B@region_A or AREA_area_A@region_B or AREA_area_B@region_B) * VENDOR_all * NAMESPACE_all The tenant user needs to be assigned the following roles: * member or reader * AREA_all@all * VENDOR_all * NAMESPACE_all The tenant (area) user needs to be assigned the following roles: * member or reader * AREA_area_A@region_A (or AREA_area_B@region_A or AREA_area_A@region_B or AREA_area_B@region_B) * VENDOR_all * NAMESPACE_all Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- As the resources created in the previous version of Tacker may not have enhanced policy attributes, if the enhanced policy attributes are used as comparison attributes in the policy rule, this rule will prevent users from accessing those resources without these attributes as the comparison result is always false. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Yuta Kazato <yuta.kazato.nw@hco.ntt.co.jp> Hiromu Asahina <hiromu.asahina.az@hco.ntt.co.jp> Other contributors: Koji Shimizu <shimizu.koji@fujitsu.com> Yoshiyuki Katada <katada.yoshiyuk@fujitsu.com> Ayumu Ueha <ueha.ayumu@fujitsu.com> Yusuke Niimi <niimi.yusuke@fujitsu.com> Work Items ---------- + Implement Tacker to support: + Add Additional Attributes to Resources When Be Created + Change the API Process to Support Tacker Policy Checker + Add the Tacker Policy Filter to the List API Processes + Convert Special Roles to API Attributes in Context + Add a Configuration Option + Policy and Roles Samples + Add new unit and functional tests. + Write Tacker documentation to explain how to use the function described in this specification. Dependencies ============ None Testing ======= Unit and functional tests will be added to cover cases required in this specification. Documentation Impact ==================== Description about enhanced Tacker API policy function will be added to the Tacker user guide. References ========== .. [#oslo.policy] https://docs.openstack.org/oslo.policy/latest/ .. [#tacker_policy] https://docs.openstack.org/tacker/latest/configuration/index.html#policy ",,962,0
openstack%2Ftacker-specs~master~I7bc8af96e3e2a3290891f42821597184d5f77a25,openstack/tacker-specs,master,I7bc8af96e3e2a3290891f42821597184d5f77a25,Support Thresholds resource in PM Interface,MERGED,2022-12-21 03:26:28.000000000,2022-12-28 05:14:58.000000000,2022-12-28 05:13:59.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 32707}, {'_account_id': 33455}]","[{'number': 1, 'created': '2022-12-21 03:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/b2949d8ece5a98f86580465e89c2bc73c99e6b76', 'message': 'Support Threshold resource in PM Interface\n\nThis specification provides implementations of ""Thresholds""\nresource for supporting Performance Management interface\nwith external monitoring tools such as Prometheus.\n\nTacker Zed release has supported ETSI NFV-SOL\nbased Fault Management and Performance Management interfaces,\nbut Threshold resource is not implemented.\n\nThe following items will be supported.\n1. Add support Threshold resource for PM interface.\n2. Enhance notification to Client.\n3. Add support of RESTful API for communications between\n   Tacker and External Monitoring Tool.\n4. Add new unit and functional tests.\n\nImplements: blueprint support-auto-lcm\nChange-Id: I7bc8af96e3e2a3290891f42821597184d5f77a25\n'}, {'number': 2, 'created': '2022-12-21 07:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/f17dc7564ca6ddcfe75b063582920d7d1b552339', 'message': 'Support Threshold resource in PM Interface\n\nThis specification provides implementations of ""Thresholds""\nresource for supporting Performance Management interface\nwith external monitoring tools such as Prometheus.\n\nTacker Zed release has supported ETSI NFV-SOL\nbased Fault Management and Performance Management interfaces,\nbut Threshold resource is not implemented.\n\nThe following items will be supported.\n1. Add support Threshold resource for PM interface.\n2. Enhance notification to Client.\n3. Add support of RESTful API for communications between\n   Tacker and External Monitoring Tool.\n4. Add new unit and functional tests.\n\nImplements: blueprint support-auto-lcm\nChange-Id: I7bc8af96e3e2a3290891f42821597184d5f77a25\n'}, {'number': 3, 'created': '2022-12-22 05:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/8a3d66f9549ee7b501d3e767bf1324afb924079d', 'message': 'Support Thresholds resource in PM Interface\n\nThis specification provides implementations of ""Thresholds""\nresource for supporting Performance Management interface\nwith external monitoring tools such as Prometheus.\n\nTacker Zed release has supported ETSI NFV-SOL\nbased Fault Management and Performance Management interfaces,\nbut Thresholds resource is not implemented.\n\nThe following items will be supported.\n1. Add support Thresholds resource for PM interface.\n2. Enhance notification to Client.\n3. Add support of RESTful API for communications between\n   Tacker and External Monitoring Tool.\n4. Add new unit and functional tests.\n\nImplements: blueprint support-auto-lcm\nChange-Id: I7bc8af96e3e2a3290891f42821597184d5f77a25\n'}, {'number': 4, 'created': '2022-12-22 06:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/894b2088f3ca4230aa5a90ddd69873c38a9c584f', 'message': 'Support Thresholds resource in PM Interface\n\nThis specification provides implementations of ""Thresholds""\nresource for supporting Performance Management interface\nwith external monitoring tools such as Prometheus.\n\nTacker Zed release has supported ETSI NFV-SOL\nbased Fault Management and Performance Management interfaces,\nbut Thresholds resource is not implemented.\n\nThe following items will be supported.\n1. Add support Thresholds resource for PM interface.\n2. Enhance notification to Client.\n3. Add support of RESTful API for communications between\n   Tacker and External Monitoring Tool.\n4. Add new unit and functional tests.\n\nImplements: blueprint support-auto-lcm\nChange-Id: I7bc8af96e3e2a3290891f42821597184d5f77a25\n'}, {'number': 5, 'created': '2022-12-22 12:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/f890f4dc4eef83a869523d28bb979faf709f280f', 'message': 'Support Thresholds resource in PM Interface\n\nThis specification provides implementations of ""Thresholds""\nresource for supporting Performance Management interface\nwith external monitoring tools such as Prometheus.\n\nTacker Zed release has supported ETSI NFV-SOL\nbased Fault Management and Performance Management interfaces,\nbut Thresholds resource is not implemented.\n\nThe following items will be supported.\n1. Add support Thresholds resource for PM interface.\n2. Enhance notification to Client.\n3. Add support of RESTful API for communications between\n   Tacker and External Monitoring Tool.\n4. Add new unit and functional tests.\n\nImplements: blueprint support-auto-lcm\nChange-Id: I7bc8af96e3e2a3290891f42821597184d5f77a25\n'}, {'number': 6, 'created': '2022-12-23 12:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/069fb8b328908c97b91267fcca4b19e02e720304', 'message': 'Support Thresholds resource in PM Interface\n\nThis specification provides implementations of ""Thresholds""\nresource for supporting Performance Management interface\nwith external monitoring tools such as Prometheus.\n\nTacker Zed release has supported ETSI NFV-SOL\nbased Fault Management and Performance Management interfaces,\nbut Thresholds resource is not implemented.\n\nThe following items will be supported.\n1. Add support Thresholds resource for PM interface.\n2. Enhance notification to Client.\n3. Add support of RESTful API for communications between\n   Tacker and External Monitoring Tool.\n4. Add new unit and functional tests.\n\nImplements: blueprint support-auto-lcm\nChange-Id: I7bc8af96e3e2a3290891f42821597184d5f77a25\n'}, {'number': 7, 'created': '2022-12-26 11:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/d2cd60c73061cbd8246759eb1f2a265a66b2bf78', 'message': 'Support Thresholds resource in PM Interface\n\nThis specification provides implementations of ""Thresholds""\nresource for supporting Performance Management interface\nwith external monitoring tools such as Prometheus.\n\nTacker Zed release has supported ETSI NFV-SOL\nbased Fault Management and Performance Management interfaces,\nbut Thresholds resource is not implemented.\n\nThe following items will be supported.\n1. Add support Thresholds resource for PM interface.\n2. Enhance notification to Client.\n3. Add support of RESTful API for communications between\n   Tacker and External Monitoring Tool.\n4. Add new unit and functional tests.\n\nImplements: blueprint support-auto-lcm\nChange-Id: I7bc8af96e3e2a3290891f42821597184d5f77a25\n'}, {'number': 8, 'created': '2022-12-27 02:32:01.000000000', 'files': ['specs/2023.1/support-threshold-pm-interface.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/278ccb8bd096da8e7ebe1a847b1dfe13b8c5ee19', 'message': 'Support Thresholds resource in PM Interface\n\nThis specification provides implementations of ""Thresholds""\nresource for supporting Performance Management interface\nwith external monitoring tools such as Prometheus.\n\nTacker Zed release has supported ETSI NFV-SOL\nbased Fault Management and Performance Management interfaces,\nbut Thresholds resource is not implemented.\n\nThe following items will be supported.\n1. Add support Thresholds resource for PM interface.\n2. Enhance notification to Client.\n3. Add support of RESTful API for communications between\n   Tacker and External Monitoring Tool.\n4. Add new unit and functional tests.\n\nImplements: blueprint support-auto-lcm\nChange-Id: I7bc8af96e3e2a3290891f42821597184d5f77a25\n'}]",206,868254,278ccb8bd096da8e7ebe1a847b1dfe13b8c5ee19,42,7,8,34712,,,0,"Support Thresholds resource in PM Interface

This specification provides implementations of ""Thresholds""
resource for supporting Performance Management interface
with external monitoring tools such as Prometheus.

Tacker Zed release has supported ETSI NFV-SOL
based Fault Management and Performance Management interfaces,
but Thresholds resource is not implemented.

The following items will be supported.
1. Add support Thresholds resource for PM interface.
2. Enhance notification to Client.
3. Add support of RESTful API for communications between
   Tacker and External Monitoring Tool.
4. Add new unit and functional tests.

Implements: blueprint support-auto-lcm
Change-Id: I7bc8af96e3e2a3290891f42821597184d5f77a25
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/54/868254/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/support-threshold-pm-interface.rst'],1,b2949d8ece5a98f86580465e89c2bc73c99e6b76,bp/support-auto-lcm,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Support Threshold resource in PM Interface ========================================== https://blueprints.launchpad.net/tacker/+spec/support-auto-lcm Problem description =================== This specification provides implementations of ""Thresholds"" resource for supporting Performance Management interface with external monitoring tools such as Prometheus [#Prometheus]_. Tacker Zed release has supported ETSI NFV-SOL 002 v3.3.1 [#SOL002_v3.3.1]_ and ETSI NFV-SOL 003 v3.3.1 [#SOL003_v3.3.1]_ based Fault Management and Performance Management interfaces, however, Threshold resource is not implemented for the Performance Management interface in Tacker. Tacker needs to support Threshold resource for advancing ETSI NFV standard compliance and functionality. * | **Table**: Operations of Performance Management interface and Tacker support status .. list-table:: :widths: 40 20 20 :header-rows: 1 * - Operations of PM interface - Supported in (Zed) - Supported in (Antlope) * - Create PM Job - Yes - Yes * - Query PM Job - Yes - Yes * - Delete PM Job - Yes - Yes * - Create Threshold - No - Yes * - Query Threshold - No - Yes * - Delete Threshold - No - Yes * - Notify - Performance information availability only - Both performance information availability and threshold crossing Proposed change =============== The following changes are needed: #. Add support Threshold resource for Performance Management interface specified in SOL002/003. + Add Threshold resource in VNF Performance Management interface: + Create and Update a threshold + POST /vnfpm/v2/thresholds to create a threshold. + PATCH /vnfpm/v2/thresholds/{thresholdId} to update the specified threshold callback. + Get threshold(s) + GET /vnfpm/v2/thresholds to get all thresholds. + GET /vnfpm/v2/thresholds/{thresholdId} to get the specified threshold. + Delete a threshold + DELETE /vnfpm/v2/thresholds/{thresholdId} to delete the specified threshold. + Enhance notification to Client: + POST <Client URI for notifications> to notify Client that Tacker received a PM threshold related event. + GET <Client URI from subscriptions> to confirm that the URI of Client is correct. #. Add support of RESTful API for communications between Tacker and External Monitoring Tool + POST /pm_threshold to receive the PM threshold event sent from External Monitoring Tool. #. Create a new DB table for PM Thresholds. .. note:: The External Monitoring Tool is a monitoring service. That is not included in Tacker. Operators implement the External Monitoring Tool. The External Monitoring Tool uses metrics service such as Prometheus and notifies PM events using the Prometheus Plugin interface [#Prometheus_usecase_guide]_. AutoScale on PM threshold event trigger --------------------------------------- Tacker has a configuration value in metadata that indicates uri of alert manager. Prometheus Plugin converts from PM threshold schema to prometheus schema when a PM threshold has been created. When the External Monitoring Tool detects that the CNF have some PM threshold events, it will send event messages to Tacker. After Tacker receives the event, it will convert the event to store it in the DB. Design of scale operation in PM Threshold ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following is a schematic diagram of scale: .. code-block:: console +------------------------+ | | 9. Send threshold notification | Client (NFVO/EM) <-------------------+ | | | +--+---------+-----------+ | | | 1. Create threshold | 10. Scale | | | +------|---------|-------------------------------|----------------------------+ | | | | VNFM | | +---|---------|---------+ +-------------------|-------------+ | | | | | Tacker | | | Tacker | | | | | | Server | | | Conductor | | | | | +-------v------+ | | | | +--------+ | | | | | VnfPm +------------------------+-----------------> Tacker | | | | | | ControllerV2 | | | +---------+----+ | | DB | | +----------------+ | | | +---------+----+ | | +------> VnfPm +------------> | | | External | | | | 2. Set | | | | | DriverV2 | | +--------+ | | Monitoring | 5. POST | | | threshold | | | | +--------------+ | | | Tool | event | | | +-------v----+ | | | 8. Create threshold | | | (based on +---------------------> Prometheus +-------+ notification | | | Prometheus) <---------------------+ Plugin | | | | | | | 6. Get related data +------------+ | | | | | | | | | 7.Evaluate | | | | +--+-------------+ 3. Set | | | threshold | | | | ^ threshold | | | crossing | | | | | 4. Trigger event | | | +------------+ | | +--------------+ | | | | | +---> Vnflcm +--------------> VmfLcmDriver +---+ | | | | | | Controller | | | +--------------+ | | | | | | +------------+ | | +---------v--+ | | | | | | | | Infra | | | | | | | | | Driver | | | | | | | | +----+-------+ | | | | +-----------------------+ +-----------------------|---------+ | | +----------------------------------------------------|------------------------+ | | | +----------------------------------------------------|------------+ | | CISM/CIS | | | | +---------------+-----------------+ | | | | | 11. Create or Delete | | | | | CNF | | | +--------v----+ +------v------+ +-------------+ | | | | +--------+ | | +--------+ | | | | +----------------------------------> | CNF | | | | CNF | | | | | | | +--------+ | | +--------+ | | | | | | Worker | | Worker | | Master | | | +-------------+ +-------------+ +-------------+ | +-----------------------------------------------------------------+ #. The Client sends a request to the Tacker to create a threshold. #. VnfPmControllerV2 sends threshold information to Prometheus Plugin. #. Prometheus Plugin sets a threshold to External Monitoring Tool. #. External Monitoring Tool collects metrics and triggers events. #. External Monitoring Tool sends POST request to Tacker with specified URI. #. Tacker collects data related to the PM event. From the data obtained in 4-5, The value and context corresponding to threshold crossing are determined. Prometheus Plugin also update the corresponding resource from the DB. #. Prometheus Plugin evaluates the event. If there is a threshold crossing condition that can match successfully, the event is sent to the specified path of the Client. If the evaluation is not successful, the processing ends. #. VnfPmDriverV2 creates a threshold notification and save threshold information to the DB. #. VnfPmDriverV2 sends a threshold notification to the Client. #. The Client makes a request for the context of the notification, then make a decision of scaling. #. Scale operation is triggered, new CNF is created in case of scale-out or old CNF is deleted in case of scale-in. Then, New CNF is created or old CNF is deleted. Request parameters for operation in PM Threshold ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The detail of API is described at `REST API impact`_. .. _sequence-pm-threshold-operation: Sequence for operation in PM threshold ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following sequence diagrams describes the Client's processing flow for Tacker to AutoScale by PM threshold. .. seqdiag:: seqdiag { node_width = 90; edge_length = 100; ""Client"" ""External Monitoring Tool"" ""Prometheus-Plugin"" ""Tacker-server"" ""Tacker-conductor"" ""VnfPmDriverV2"" ""Tacker DB"" ""Client"" -> ""Tacker-server"" [label = ""1. Create a threshold""]; ""Tacker-server"" -> ""Tacker-server"" [label = ""Get the callback_uri in the threshold""]; ""Client"" -> ""Tacker-server"" [label = ""Send a GET request to the callback_uri in the Client.""]; ""Client"" <-- ""Tacker-server"" [label = ""Response 204 No Content""]; ""Tacker-server"" -> ""Prometheus-Plugin"" [label = ""2. Set a threshold to Prometheus-Plugin""]; ""Prometheus-Plugin"" -> ""Prometheus-Plugin"" [label = ""Convert to Prometheus format""]; ""Prometheus-Plugin"" -> ""External Monitoring Tool"" [label = ""Set a threshold""]; ""Prometheus-Plugin"" <-- ""External Monitoring Tool"" ""Tacker-server"" <-- ""Prometheus-Plugin"" ""Tacker-server"" -> ""Tacker DB"" [label = ""Save a threshold to DB""]; ""Tacker-server"" <-- ""Tacker DB"" ""Client"" <-- ""Tacker-server"" [label = ""Response 201 Created""]; ""External Monitoring Tool"" -> ""Prometheus-Plugin"" [label = ""3. Send event to the specified URI""]; ""Prometheus-Plugin"" -> ""Prometheus-Plugin"" [label = ""4. Check items of prometheus_plugin from cfg.CONF.tacker"", note = ""If prometheus_plugin is False, asynchronous task is over""]; ""Prometheus-Plugin"" -> ""Tacker DB"" [label = ""5. Find the corresponding resource from the DB""]; ""Prometheus-Plugin"" <-- ""Tacker DB"" ""Prometheus-Plugin"" -> ""Prometheus-Plugin"" [label = ""6. Evaluate a threshold crossing condition."", note = ""If it does not match, the processing ends""]; ""Prometheus-Plugin"" -> ""Tacker DB"" [label = ""Update the corresponding resource from the DB""]; ""Prometheus-Plugin"" <-- ""Tacker DB"" ""Prometheus-Plugin"" -> ""VnfPmDriverV2"" [label = ""7. execute VnfPmDriverV2""]; ""VnfPmDriverV2"" -> ""Client"" [label = ""8. Send a Notify Threshold event request to the Client""]; ""VnfPmDriverV2"" <-- ""Client"" [label = ""Response 204 No Content""]; ""Prometheus-Plugin"" <-- ""VnfPmDriverV2"" ""Client"" -> ""Client"" [label = ""9. Get VNFC information from the notification."", note = ""If no information is returned, the processing is over""]; ""Client"" -> ""Tacker-server"" [label = ""10. Scale""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""11. Trigger asynchronous task"", note = ""The same with the default scale operation""]; ""Client"" <-- ""Tacker-server"" [label = ""Response 202 Accepted""]; } #. The Client sends a request to create a threshold to the Tacker. After Tacker receives the threshold, it will get the callback_uri in it. In order to verify the correctness of the callback_uri, VnfPmDriverV2 sends a request to the callback_uri address of Client. After getting the normal response HTTP 204 No Content from the Client, the Tacker will save the subscription to the DB. #. Tacker sends a threshold to Prometheus Plugin. Prometheus Plugin converts it into Prometheus format, then sends it to External Monitoring Tool. Tacker saves a threshold to the DB and responsees HTTP 201 Created to the Client. #. External Monitoring Tool receives event sent from Prometheus and inform the event to specified URI (Tacker). #. Prometheus Plugin obtains values from cfg.CONF.tacker.prometheus_plugin to determine whether to enable this function. Prometheus Plugin judges what processing to perform according to the function_type field of the labels in the event. When the ``labels.function_type`` is ``vnfpm``, AutoScale is performed. #. Prometheus Plugin finds the corresponding resource information according to the value of the node label in the event. #. Prometheus Plugin evaluates a threshold crossing condition, if it does not match, the processing ends. #. Prometheus Plugin executes VnfPmDriverV2. #. VnfPmDriverV2 sends a Notify Threshold event request to the Client's callback_uri address. After the Client receives the request and processes it, it returns HTTP 204 No Content by default. #. The Client obtains the VNFC information from the notification. #. The Client sends a request to the Tacker to scale the VNFC. #. From this step, it is completely the same with the default scale operation. Alternatives ------------ None Data model impact ----------------- Add below new db table in 'Tacker' database. * | **Table**: ThresholdV2 .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Name - Type - Constraint * - id - varchar(255) - Pri * - objectType - varchar(32) - NOT NULL * - objectInstanceId - JSON - NOT NULL * - subObjectInstanceIds - JSON - NULL * - criteria - JSON - NOT NULL * - callbackUri - varchar(255) - NOT NULL * - authentication - JSON - NULL * - metadata - JSON - NOT NULL This table have `id` as primary key. REST API impact --------------- The following RESTful APIs are in compliance with SOL002/003 [#SOL002_v3.3.1]_ [#SOL003_v3.3.1]_ 6.VNF Performance Management interface. * | **Name**: Create a threshold | **Description**: Create a threshold. Thresholds group details of performance information | **Method type**: POST | **URL for the resource**: /vnfpm/v2/thresholds | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - CreateThresholdRequest - 1 - Threshold creation request .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (CreateThresholdRequest) - Data type - Cardinality - Description * - objectType - String - 1 - Type of the measured object. The applicable measured object type for a measurement is defined in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - objectInstanceId - Identifier - 1 - Identifiers of the measured object instances associated with this threshold. * - subObjectInstanceIds - IdentifierInVnf - 0..N - Identifiers of the measured object instances in case of a structured measured object. * - criteria - ThresholdCriteria - 1 - Criteria that define this threshold. * - >performanceMetric - String - 1 - This defines the types of performance metrics associated with thethreshold. Valid values are specified as ""Measurement Name"" values in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - >thresholdType - Enum (inlined) - 1 - Type of threshold. This attribute determines which other attributes are present in the data structure. In ETSI NFV-SOL 002 v3.3.1 [#SOL002_v3.3.1]_ and ETSI NFV-SOL 003 v3.3.1 [#SOL003_v3.3.1]_, ""SIMPLE: Single-valued static threshold"" is permmited. * - >simpleThresholdDetails - Structure (inlined) - 0..1 - Details of a simple threshold. Shall be present if thresholdType=""SIMPLE"". * - >>thresholdValue - Number - 1 - The threshold value. Shall be represented as a floating point number. * - >>hysteresis - Number - 1 - The hysteresis of the threshold. Shall be represented as a non-negative floating point number. * - callbackUri - Uri - 1 - The URI of the endpoint to send the notification to. * - authentication - SubscriptionAuthentication - 0..1 - Authentication parameters to configure the use of Authorization when sending notifications corresponding to this subscription. See as clause 8.3.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ * - metadata - Structure - 1 - Additional parameters to create a threshold. * - >monitoring - Structure - 1 - Treats to specify such as monitoring system and driver information. * - >>monitorName - String - 1 - In case specifying ""prometheus"", backend of monitoring feature is to be Prometheus. * - >>driverType - String - 1 - ""external"": SCP/SFTP for config file transfer. * - >>targetsInfo - Structure - 1..N - Information about the target monitoring system. * - >>>prometheusHost - String - 1 - FQDN or ip address of target PrometheusServer. * - >>>prometheusHostPort - Int - 1 - Port of the ssh target PrometheusServer. * - >>>alertRuleConfigPath - String - 1 - Path of alertRuleConfig path for target Prometheus. * - >>>prometheusReloadApiEndpoint - String - 1 - Endpoint url of reload API of target Prometheus. * - >>>authInfo - Structure - 1 - Define authentication information to access host. * - >>>>ssh_username - String - 1 - The username of the target host for ssh. * - >>>>ssh_password - String - 1 - The password of the target host for ssh. | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - Threshold - 1 - Success: 201 - Shall be returned when a threshold has been created successfully. * - ProblemDetails - 1 - Error: 422 - The content type of the payload body is supported and the payload body of a request contains syntactically correct data but the data cannot be processed. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (Threshold) - Data type - Cardinality - Description * - id - Identifier - 1 - Identifier of this threshold. * - objectType - String - 1 - Type of the measured object. The applicable measured object type for a measurement is defined in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - objectInstanceId - Identifier - 1 - Identifiers of the measured object instances associated with this threshold. * - subObjectInstanceIds - IdentifierInVnf - 0..N - Identifiers of the measured object instances in case of a structured measured object. * - criteria - ThresholdCriteria - 1 - Criteria that define this threshold. * - >performanceMetric - String - 1 - This defines the types of performance metrics associated with thethreshold. Valid values are specified as ""Measurement Name"" values in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - >thresholdType - Enum (inlined) - 1 - Type of threshold. This attribute determines which other attributes are present in the data structure. In ETSI NFV-SOL 002 v3.3.1 [#SOL002_v3.3.1]_ and ETSI NFV-SOL 003 v3.3.1 [#SOL003_v3.3.1]_, ""SIMPLE: Single-valued static threshold"" is permmited. * - >simpleThresholdDetails - Structure (inlined) - 0..1 - Details of a simple threshold. Shall be present if thresholdType=""SIMPLE"". * - >>thresholdValue - Number - 1 - The threshold value. Shall be represented as a floating point number. * - >>hysteresis - Number - 1 - The hysteresis of the threshold. Shall be represented as a non-negative floating point number. * - callbackUri - Uri - 1 - The URI of the endpoint to send the notification to. * - _links - Structure (inlined) - 1 - Links for this resource. * - >self - Link - 1 - URI of this resource. * - >objects - Link - 0..1 - Links to resources representing the measured object instances for which performance information is collected. Shall be present if the measured object instance information is accessible as a resource. .. note:: When processing a request to create a threshold, it should enforce a suitable minimum value for this attribute by override the value or reject the request. .. note:: ""Hysteresis"" is implemented based on thresholdType, ""Single-valued static threshold."" A notification with crossing direction ""UP"" will be generated if the measured value reaches or exceeds ""thresholdValue"" + ""hysteresis"". A notification with crossing direction ""DOWN"" will be generated if the measured value reaches or undercuts ""thresholdValue"" - ""hysteresis"". These methods need to store the previous value in Tacker DB to detect the crossing direction. * | **Name**: Get for thresholds | **Description**: Allow users to filter out thresholds based on query parameter in the request | **Method type**: GET | **URL for the resource**: /vnfpm/v2/thresholds | **Query parameters**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Name - Cardinality - Description * - filter - 0..1 - Attribute-based filtering expression. according to clause 5.2 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_. For example, below URI query parameter will matching threshold with objectType=VNFC. .. code-block:: console GET /vnfpm/v2/thresholds?filter=(eq,objectType,VNFC) * - nextpage_opaque_marker - 0..1 - Marker to obtain the next page of a paged response. according to clause 5.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_. | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - n/a - - | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - Threshold - 0..N - Success: 200 - Shall be returned when information about zero or more thresholds has been queried successfully. * - ProblemDetails - 1 - Error: 400 - Invalid attribute-based filtering expression. The response body shall contain a ProblemDetails structure, in which the ""detail"" attribute should convey more information about the error. * - ProblemDetails - 1 - Error: 400 - Response too big. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (Threshold) - Data type - Cardinality - Description * - id - Identifier - 1 - Identifier of this threshold. * - objectType - String - 1 - Type of the measured object. The applicable measured object type for a measurement is defined in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - objectInstanceId - Identifier - 1 - Identifiers of the measured object instances associated with this threshold. * - subObjectInstanceIds - IdentifierInVnf - 0..N - Identifiers of the measured object instances in case of a structured measured object. * - criteria - ThresholdCriteria - 1 - Criteria that define this threshold. * - >performanceMetric - String - 1 - This defines the types of performance metrics associated with thethreshold. Valid values are specified as ""Measurement Name"" values in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - >thresholdType - Enum (inlined) - 1 - Type of threshold. This attribute determines which other attributes are present in the data structure. In ETSI NFV-SOL 002 v3.3.1 [#SOL002_v3.3.1]_ and ETSI NFV-SOL 003 v3.3.1 [#SOL003_v3.3.1]_, ""SIMPLE: Single-valued static threshold"" is permmited. * - >simpleThresholdDetails - Structure (inlined) - 0..1 - Details of a simple threshold. Shall be present if thresholdType=""SIMPLE"". * - >>thresholdValue - Number - 1 - The threshold value. Shall be represented as a floating point number. * - >>hysteresis - Number - 1 - The hysteresis of the threshold. Shall be represented as a non-negative floating point number. * - callbackUri - Uri - 1 - The URI of the endpoint to send the notification to. * - _links - Structure (inlined) - 1 - Links for this resource. * - >self - Link - 1 - URI of this resource. * - >objects - Link - 0..1 - Links to resources representing the measured object instances for which performance information is collected. Shall be present if the measured object instance information is accessible as a resource. * | **Name**: Get a threshold | **Description**: Get a individual threshold | **Method type**: GET | **URL for the resource**: /vnfpm/v2/thresholds/{thresholdId} | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - n/a - - | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - Threshold - 1 - Success: 200 - Shall be returned when information about an individual threshold has been read successfully. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (Threshold) - Data type - Cardinality - Description * - id - Identifier - 1 - Identifier of this threshold. * - objectType - String - 1 - Type of the measured object. The applicable measured object type for a measurement is defined in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - objectInstanceId - Identifier - 1 - Identifiers of the measured object instances for which performance information is collected. * - subObjectInstanceIds - IdentifierInVnf - 0..N - Identifiers of the measured object instances in case of a structured measured object. * - criteria - ThresholdCriteria - 1 - Criteria that define this threshold. * - >performanceMetric - String - 1 - This defines the types of performance metrics associated with thethreshold. Valid values are specified as ""Measurement Name"" values in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - >thresholdType - Enum (inlined) - 1 - Type of threshold. This attribute determines which other attributes are present in the data structure. In ETSI NFV-SOL 002 v3.3.1 [#SOL002_v3.3.1]_ and ETSI NFV-SOL 003 v3.3.1 [#SOL003_v3.3.1]_, ""SIMPLE: Single-valued static threshold"" is permmited. * - >simpleThresholdDetails - Structure (inlined) - 0..1 - Details of a simple threshold. Shall be present if thresholdType=""SIMPLE"". * - >>thresholdValue - Number - 1 - The threshold value. Shall be represented as a floating point number. * - >>hysteresis - Number - 1 - The hysteresis of the threshold. Shall be represented as a non-negative floating point number. * - callbackUri - Uri - 1 - The URI of the endpoint to send the notification to. * - _links - Structure (inlined) - 1 - Links for this resource. * - >self - Link - 1 - URI of this resource. * - >objects - Link - 0..1 - Links to resources representing the measured object instances for which performance information is collected. Shall be present if the measured object instance information is accessible as a resource. * | **Name**: Update a threshold | **Description**: Update resource of an individual threshold | **Method type**: PATCH | **URL for the resource**: /vnfpm/v2/thresholds/{thresholdId} | **Content-Type**: application/mergepatch+json | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - ThresholdModifications - 1 - Parameters for the threshold modification. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (ThresholdModifications) - Data type - Cardinality - Description * - callbackUri - Uri - 0..1 - New value of the ""callbackUri"" attribute. The value ""null"" is not permitted. * - authentication - SubscriptionAuthentication - 0..1 - New value of the ""authentication"" attribute, or ""null"" to remove the attribute. If present in a request body, these modifications shall be applied according to the rules of JSON Merge Patch. | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - ThresholdModifications - 1 - Success: 200 - Shall be returned when the request has been processed successfully. * - ProblemDetails - 1 - 422 - The content type of the payload body is supported and the payload body of a request contains syntactically correct data but the data cannot be processed. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. .. note:: Since current Tacker does not support http Etag, it does not support Error Code: 412 Precondition Failed. According to the ETSI NFV SOL document, there is no API request/response specification for Etag yet, and transactions using Etag are not defined by standardization. Tacker will support Etag after the ETSI NFV specification defines relevant transactions. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (ThresholdModifications) - Data type - Cardinality - Description * - callbackUri - Uri - 0..1 - New value of the ""callbackUri"" attribute. The value ""null"" is not permitted. The authentication parameter shall not be present in response bodies. * | **Name**: Delete a threshold | **Description**: Delete the threshold in the Tacker | **Method type**: DELETE | **URL for the resource**: /vnfpm/v2/thresholds/{thresholdId} | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - n/a - - | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - n/a - - Success: 204 - Shall be returned when the threshold has been deleted successfully. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. * | **Name**: Notifies a PM threshold crossing event | **Description**: Delivers a notification regarding a threshold crossing. | **Method type**: POST | **URL for the resource**: <Client URI for notifications> | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - ThresholdCrossedNotification - 1 - Notification about threshold crossing .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (ThresholdCrossedNotification) - Data type - Cardinality - Description * - id - Identifier - 1 - Identifier of this notification. If a notification is sent multiple times due to multiple subscriptions, the ""id"" attribute of all these notifications shall have the same value. * - notificationType - String - 1 - Discriminator for the different notification types. Shall be set to ""ThresholdCrossedNotification for this notification type. * - timeStamp - DateTime - 1 - Date and time of the generation of the notification. * - thresholdId - Identifier - 1 - Identifier of the threshold for which has been crossed. * - crossingDirection - CrossingDirectionType - 1 - An indication of whether the threshold was crossed in upward or downward direction. * - objectType - String - 1 - Type of the measured object. The applicable measured object type for a measurement is defined in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - objectInstanceId - Identifier - 1 - Identifier of the measured object instance as per clause 6.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - subObjectInstanceId - IdentifierInVnf - 0..1 - Identifiers of the sub-object instances of the measured object instance for which the measurements have been taken. Shall be present if the related threshold has been set up to measure only a subset of all sub-object instances of the measured object instance and a sub-object is defined in clause 6.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_ for the related measured object type. Shall be absent otherwise. * - performanceMetric - String - 1 - Name of the metric collected. This attribute shall contain the related ""Measurement Name"" value as defined in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - performanceValue - (any type) - 1 - Value of the metric that resulted in threshold crossing. This attribute shall contain the related ""Measurement Name"" value as defined in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. Measurement context information related to the measured value. The set of applicable keys is defined per measurement in the related ""Measurement Context"" in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - context - KeyValuePairs - 0..1 - Measurement context information related to the measured value. The set of applicable keys is defined per measurement in the related ""Measurement Context"" in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - _links - Structure (inlined) - 1 - Links to resources related to this notification. * - >objectInstance - NotificationLink - 0..1 - Link to the resource representing the measured object instance to which the notification applies. Shall be present if the measured object instance information is accessible as a resource. * - >threshold - NotificationLink - 1 - Link from which the available performance information of data type ""PerformanceReport"" can be obtained. This link should point to an ""Individual performance report"" resource. | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - n/a - - Success: 204 - Shall be returned when the notification has been delivered successfully. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. Security impact --------------- None Notifications impact -------------------- Performance Management: + Tacker sends POST <Client URI for notifications> to NFVO or EM to notify Client that Tacker received a PM threshold related event. + Tacker sends GET <Client URI for notifications> to NFVO or EM to confirm that the URI of Client is correct. + Tacker creates prometheus rule files related to PM threshold requests and upload these files using SSH. Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Yuta Kazato <yuta.kazato.nw@hco.ntt.co.jp> Kenta Fukaya <kenta.fukaya.xv@hco.ntt.co.jp> Other contributors: Koji Shimizu <shimizu.koji@fujitsu.com> Yoshiyuki Katada <katada.yoshiyuk@fujitsu.com> Work Items ---------- * Implement Tacker to support: * Performance Management interface * Add new Rest API ``POST /vnfpm/v2/thresholds`` to create a threshold. * Add new Rest API ``GET /vnfpm/v2/thresholds`` to get all thresholds. * Add new Rest API ``GET /vnfpm/v2/thresholds/{thresholdId}`` to get the specified threshold. * Add new Rest API ``PATCH /vnfpm/v2/thresholds/{thresholdId}`` to update target threshold callback. * Add new Rest API ``DELETE /vnfpm/v2/thresholds/{thresholdId}`` to delete the specified threshold. * Add new request ``POST <Client URI for notifications>`` to notify Client that Tacker received a threshold alerm. * Add new request ``GET <Client URI for notifications>`` to confirm that the URI of Client is correct. * External Monitoring interface * Add new Rest API ``POST /pm_threshold`` to receive the PM threshold event sent from External Monitoring Tool. * Add new unit and functional tests. Dependencies ============ None. Testing ======= Unit and functional tests will be added to cover cases required in the spec. Documentation Impact ==================== * Add Threshold examination to Tacker User guide. * Update API documentation on the API additionsmentioned in `REST API impact`_. References ========== .. [#SOL002_v3.3.1] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/002/03.03.01_60/gs_nfv-sol002v030301p.pdf .. [#SOL003_v3.3.1] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/03.03.01_60/gs_nfv-sol003v030301p.pdf .. [#Prometheus_usecase_guide] https://docs.openstack.org/tacker/latest/user/prometheus_plugin_use_case_guide.html .. [#Prometheus] https://prometheus.io/docs/introduction/overview/ .. [#NFV-SOL013_341] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/013/03.04.01_60/gs_nfv-sol013v030401p.pdf .. [#NFV-IFA027_331] https://www.etsi.org/deliver/etsi_gs/NFV-IFA/001_099/027/03.03.01_60/gs_nfv-ifa027v030301p.pdf ",,1325,0
openstack%2Fdevstack-plugin-nfs~master~Ib1c55fb268d10c8ceb65e1d8394706814d5f0bb7,openstack/devstack-plugin-nfs,master,Ib1c55fb268d10c8ceb65e1d8394706814d5f0bb7,Correct the group name for driver config,ABANDONED,2020-11-20 07:54:19.000000000,2022-12-28 03:55:46.000000000,,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-20 07:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-nfs/commit/4377e633333d1236d710d323611eff5cca6291e0', 'message': ""Correct the group name for driver config\n\nThere is a conflict of nfs driver group name between devstack and\ndevstack-plugin-nfs.\ndevstack uses 'nfsdriver-1' whereas devstack-plugin-nfs uses 'nfs'\ngroup name which causes patial configuration written when deploying\nmulti backend setup.\nThis patch changes the 'nfs' group name to 'nfsdriver-1'\n\nChange-Id: Ib1c55fb268d10c8ceb65e1d8394706814d5f0bb7\n""}, {'number': 2, 'created': '2020-11-20 09:16:01.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-nfs/commit/b9b26036f170e417f5a16a2bffe09bb1b4198375', 'message': ""Correct the group name for driver config\n\nThere is a conflict of nfs driver group name between devstack and\ndevstack-plugin-nfs.\ndevstack uses backend name ($be_name)[1] whereas devstack-plugin-nfs uses\nhardcoded 'nfs'[2] group name which causes partial configuration written\nwhen deploying multi backend setup.\nThis patch changes the 'nfs' group name to backend name variable which\nis more generic.\n\n[1] https://github.com/openstack/devstack/blob/master/lib/cinder_backends/nfs#L32-L34\n[2] https://github.com/openstack/devstack-plugin-nfs/blob/master/devstack/plugin.sh#L60-L68\n\nChange-Id: Ib1c55fb268d10c8ceb65e1d8394706814d5f0bb7\n""}]",8,763516,b9b26036f170e417f5a16a2bffe09bb1b4198375,20,4,2,27615,,,0,"Correct the group name for driver config

There is a conflict of nfs driver group name between devstack and
devstack-plugin-nfs.
devstack uses backend name ($be_name)[1] whereas devstack-plugin-nfs uses
hardcoded 'nfs'[2] group name which causes partial configuration written
when deploying multi backend setup.
This patch changes the 'nfs' group name to backend name variable which
is more generic.

[1] https://github.com/openstack/devstack/blob/master/lib/cinder_backends/nfs#L32-L34
[2] https://github.com/openstack/devstack-plugin-nfs/blob/master/devstack/plugin.sh#L60-L68

Change-Id: Ib1c55fb268d10c8ceb65e1d8394706814d5f0bb7
",git fetch https://review.opendev.org/openstack/devstack-plugin-nfs refs/changes/16/763516/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,4377e633333d1236d710d323611eff5cca6291e0,, iniset $CINDER_CONF nfsdriver-1 nas_host localhost iniset $CINDER_CONF nfsdriver-1 nas_share_path ${NFS_EXPORT_DIR} iniset $CINDER_CONF nfsdriver-1 nas_secure_file_operations \ iniset $CINDER_CONF nfsdriver1 nas_secure_file_permissions \ iniset $CINDER_CONF nfsdriver-1 nfs_snapshot_support True, iniset $CINDER_CONF nfs nas_host localhost iniset $CINDER_CONF nfs nas_share_path ${NFS_EXPORT_DIR} iniset $CINDER_CONF nfs nas_secure_file_operations \ iniset $CINDER_CONF nfs nas_secure_file_permissions \ iniset $CINDER_CONF nfs nfs_snapshot_support True,5,5
openstack%2Fnova~master~I4f877940c0e830cd7ec19476289d70ff10443c75,openstack/nova,master,I4f877940c0e830cd7ec19476289d70ff10443c75,Adds a repoducer for post_live_migration_at_destination failures,NEW,2022-12-19 14:03:43.000000000,2022-12-28 01:48:33.000000000,,"[{'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-12-19 14:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0578e20d1f73bef5900830a3d03610ddfce3802', 'message': 'Adds a repoducer for post_live_migration_at_destination failures\n\nAdds a repoducer for post_live_migration_at_destination\nfailure if the rpc client has an error example keystone service is\nnot responding.\n\nRelated-Bug: #TDB (need a launchpad id)\nChange-Id: I4f877940c0e830cd7ec19476289d70ff10443c75\n'}, {'number': 2, 'created': '2022-12-19 14:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e16fd39fccdfb8ab039e825a5c11ba81c5329ec', 'message': 'Adds a repoducer for post_live_migration_at_destination failures\n\nAdds a repoducer for post_live_migration_at_destination\nfailure if the rpc client has an error example keystone service is\nnot responding.\n\nRelated-Bug: #2000069\nChange-Id: I4f877940c0e830cd7ec19476289d70ff10443c75\n'}, {'number': 3, 'created': '2022-12-19 14:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2cfbe99f2664d6fede678fd8cc34f9d3cc9feb50', 'message': 'Adds a repoducer for post_live_migration_at_destination failures\n\nAdds a repoducer for post_live_migration_at_destination\nfailure if the rpc client has an error example keystone service is\nnot responding.\n\nRelated-Bug: #2000069\nChange-Id: I4f877940c0e830cd7ec19476289d70ff10443c75\n'}, {'number': 4, 'created': '2022-12-19 14:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a6a4a62d0b8dcf7b3dd25cefa0075eff61a2ce7', 'message': 'Adds a repoducer for post_live_migration_at_destination failures\n\nAdds a repoducer for post_live_migration_at_destination\nfailure if the rpc client has an error example keystone service is\nnot responding.\n\nRelated-Bug: #2000069\nChange-Id: I4f877940c0e830cd7ec19476289d70ff10443c75\n'}, {'number': 5, 'created': '2022-12-20 16:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8f2dbed1ef1c5184ddba6ec189307b16fe27736', 'message': 'Adds a repoducer for post_live_migration_at_destination failures\n\nAdds a repoducer for post_live_migration_at_destination\nfailure if the rpc client has an error example keystone service is\nnot responding.\n\nRelated-Bug: #2000069\nChange-Id: I4f877940c0e830cd7ec19476289d70ff10443c75\n'}, {'number': 6, 'created': '2022-12-20 17:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89cca2da3bf975a2354132368cec91c87b2e6634', 'message': 'Adds a repoducer for post_live_migration_at_destination failures\n\nAdds a repoducer for post_live_migration_at_destination\nfailure if the rpc client has an error example keystone service is\nnot responding.\n\nRelated-Bug: #2000069\nChange-Id: I4f877940c0e830cd7ec19476289d70ff10443c75\n'}, {'number': 7, 'created': '2022-12-21 14:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8f9ba2728319f5e963292f8ea2090f0a03f4e37', 'message': 'Adds a repoducer for post_live_migration_at_destination failures\n\nAdds a reproducer for post_live_migration_at_destination\nfailure due to keystone or neutron service being unavailable.\n\nRelated-Bug: #2000069\nChange-Id: I4f877940c0e830cd7ec19476289d70ff10443c75\n'}, {'number': 8, 'created': '2022-12-21 16:46:14.000000000', 'files': ['nova/tests/functional/regressions/test_bug_2143972.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9584d0ad11f03e0ef30b70ee1cd2b085ed963346', 'message': 'Adds a repoducer for post_live_migration_at_destination failures\n\nAdds a reproducer for post_live_migration_at_destination\nfailure due to keystone or neutron service being unavailable.\n\nRelated-Bug: #2000069\nChange-Id: I4f877940c0e830cd7ec19476289d70ff10443c75\n'}]",35,868088,9584d0ad11f03e0ef30b70ee1cd2b085ed963346,37,5,8,16207,,,0,"Adds a repoducer for post_live_migration_at_destination failures

Adds a reproducer for post_live_migration_at_destination
failure due to keystone or neutron service being unavailable.

Related-Bug: #2000069
Change-Id: I4f877940c0e830cd7ec19476289d70ff10443c75
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/868088/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_post_migration_bugs.py'],1,c0578e20d1f73bef5900830a3d03610ddfce3802,bug/2143972,"import oslo_messaging as messaging """"""Regression test for bug 1628606 """""" @mock.patch( 'nova.compute.rpcapi.ComputeAPI.' 'post_live_migration_at_destination', side_effect=messaging.RemoteError(exc_type=""Remote Error"", value=""ServiceUnavailable The server is currently "" ""unavailable."")) def test_post_live_migration_keystone_fails(self, mock_keystone): """"""Test for bug 2143972. A failure with post_live_migration_at_destination leave the instance in MIGRATING status and migration_expected_state to completed. """""" server = self._create_server(networks=[]) self.assertEqual(self.src.host, server['OS-EXT-SRV-ATTR:host']) server = self._live_migrate( server, migration_expected_state='error', server_expected_state='ERROR') mock_keystone.assert_called_once() self.assertEqual(self.dest.host, server['OS-EXT-SRV-ATTR:host'])"," """"""Regression test for bug 1628606 """"""",24,2
openstack%2Fopenstack-ansible~master~I1132fbfc3b5481ee43ebb684e1ef02e678e7c932,openstack/openstack-ansible,master,I1132fbfc3b5481ee43ebb684e1ef02e678e7c932,Update tox.ini,MERGED,2022-12-27 15:56:25.000000000,2022-12-27 23:39:30.000000000,2022-12-27 23:38:14.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-12-27 15:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/83e05bf05584cf2a0cfc35c9004eb382f1ebd19a', 'message': 'Update tox.ini\n\nChange-Id: I1132fbfc3b5481ee43ebb684e1ef02e678e7c932\n'}, {'number': 2, 'created': '2022-12-27 15:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3d2251952ba1d3a1a18cf8d72ff9f0be56f66d65', 'message': 'Update tox.ini\n\nChange-Id: I1132fbfc3b5481ee43ebb684e1ef02e678e7c932\n'}, {'number': 3, 'created': '2022-12-27 16:18:29.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fbce36854b7a5930709f28ea71c59ad52e23ade2', 'message': 'Update tox.ini\n\nChange-Id: I1132fbfc3b5481ee43ebb684e1ef02e678e7c932\n'}]",0,868680,fbce36854b7a5930709f28ea71c59ad52e23ade2,10,3,3,28619,,,0,"Update tox.ini

Change-Id: I1132fbfc3b5481ee43ebb684e1ef02e678e7c932
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/80/868680/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,83e05bf05584cf2a0cfc35c9004eb382f1ebd19a,,allowlist_externals =,whitelist_externals =,1,1
openstack%2Ftacker-specs~master~Iac23778091d00d26724b07a9571ff16c7a699dee,openstack/tacker-specs,master,Iac23778091d00d26724b07a9571ff16c7a699dee,Support PostgreSQL as Tacker DB backend,MERGED,2022-12-21 03:50:54.000000000,2022-12-27 18:09:57.000000000,2022-12-27 18:08:58.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32707}, {'_account_id': 33453}, {'_account_id': 33455}, {'_account_id': 34211}, {'_account_id': 35240}]","[{'number': 1, 'created': '2022-12-21 03:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/cc86f09f26a0159c3ae9b36168f1c9efcd0ada9e', 'message': 'Support PostgreSQL as Tacker DB backend\n\nThis specification proposes tacker-db-manage improvements to\nsupport Multi-DB backends, especially PostgreSQL as Tacker DB backend.\n\nThe following items will be supported.\n1. Add PostgreSQL migration functions to tacker-db-manage.\n2. Add PostgreSQL migration functions to Tacker.\n3. Add PostgreSQL install manuals to Tacker Installation Guide.\n\nImplements: blueprint support-multidb-backend\nChange-Id: Iac23778091d00d26724b07a9571ff16c7a699dee\n'}, {'number': 2, 'created': '2022-12-21 06:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/aa3677ac3dda1d2b10aa35aa80c072d67bb79288', 'message': 'Support PostgreSQL as Tacker DB backend\n\nThis specification proposes tacker-db-manage improvements to\nsupport Multi-DB backends, especially PostgreSQL as Tacker DB backend.\n\nThe following items will be supported.\n1. Add PostgreSQL migration functions to tacker-db-manage.\n2. Add PostgreSQL migration functions to Tacker.\n3. Add PostgreSQL install manuals to Tacker Installation Guide.\n\nImplements: blueprint support-multidb-backend\nChange-Id: Iac23778091d00d26724b07a9571ff16c7a699dee\n'}, {'number': 3, 'created': '2022-12-26 02:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/35846528d318cd02c61c882624d332f4ba706bab', 'message': 'Support PostgreSQL as Tacker DB backend\n\nThis specification proposes tacker-db-manage improvements to\nsupport Multi-DB backends, especially PostgreSQL as Tacker DB backend.\n\nThe following items will be supported.\n1. Add PostgreSQL migration functions to tacker-db-manage.\n2. Add PostgreSQL migration functions to Tacker.\n3. Add PostgreSQL install manuals to Tacker Installation Guide.\n\nImplements: blueprint support-multidb-backend\nChange-Id: Iac23778091d00d26724b07a9571ff16c7a699dee\n'}, {'number': 4, 'created': '2022-12-26 11:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/2948d6fa57bc61d0957c5b20ea2187c9bf4702cb', 'message': 'Support PostgreSQL as Tacker DB backend\n\nThis specification proposes tacker-db-manage improvements to\nsupport Multi-DB backends, especially PostgreSQL as Tacker DB backend.\n\nThe following items will be supported.\n1. Add PostgreSQL migration functions to tacker-db-manage.\n2. Add PostgreSQL migration functions to Tacker.\n3. Add PostgreSQL install manuals to Tacker Installation Guide.\n\nImplements: blueprint support-multidb-backend\nChange-Id: Iac23778091d00d26724b07a9571ff16c7a699dee\n'}, {'number': 5, 'created': '2022-12-27 06:50:11.000000000', 'files': ['specs/2023.1/support-tacker-db-manage-postgresql.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/e287ba86b8bba9789728c28c5f32b9f3a76624d6', 'message': 'Support PostgreSQL as Tacker DB backend\n\nThis specification proposes tacker-db-manage improvements to\nsupport Multi-DB backends, especially PostgreSQL as Tacker DB backend.\n\nThe following items will be supported.\n1. Add PostgreSQL migration functions to tacker-db-manage.\n2. Add PostgreSQL migration functions to Tacker.\n3. Add PostgreSQL install manuals to Tacker Installation Guide.\n\nImplements: blueprint support-multidb-backend\nChange-Id: Iac23778091d00d26724b07a9571ff16c7a699dee\n'}]",28,868255,e287ba86b8bba9789728c28c5f32b9f3a76624d6,26,9,5,34712,,,0,"Support PostgreSQL as Tacker DB backend

This specification proposes tacker-db-manage improvements to
support Multi-DB backends, especially PostgreSQL as Tacker DB backend.

The following items will be supported.
1. Add PostgreSQL migration functions to tacker-db-manage.
2. Add PostgreSQL migration functions to Tacker.
3. Add PostgreSQL install manuals to Tacker Installation Guide.

Implements: blueprint support-multidb-backend
Change-Id: Iac23778091d00d26724b07a9571ff16c7a699dee
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/55/868255/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/support-tacker-db-manage-postgresql.rst'],1,cc86f09f26a0159c3ae9b36168f1c9efcd0ada9e,bp/support-multidb-backend,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================= Support PostgreSQL as Tacker DB backend ======================================= .. Blueprints: https://blueprints.launchpad.net/tacker/+spec/support-multidb-backend This specification proposes tacker-db-manage improvements to support Multi-DB backends, especially PostgreSQL as Tacker DB backend. Problem description =================== OpenStack Tacker has supported MySQL for database backends. When initializing DB, ``tacker-db-manage`` upgrades the database and run any corresponding database migrations to the DB backend type. .. code-block:: console $ /usr/local/bin/tacker-db-manage --config-file \ /etc/tacker/tacker.conf upgrade head DevStack [#Dev-stack]_ that inclues a set of scripts and utilities to develop OpenStack environments also support MySQL and PostgreSQL. However, the current Tacker and ``tacker-db-manage`` does not support PostgreSQL and cause some practical errors due to differences in the implementation between MySQL and PostgreSQL. Proposed change =============== This specification proposes the following changes. - Support PostgreSQL by tacker-db-manage - Support PostgreSQL by Tacker - Add configuration to set PostgreSQL as Tacker DB backend Support PostgreSQL by tacker-db-manage -------------------------------------- Add initialization functions for PostgreSQL and adapt to the differences in the implementation between MySQL and PostgreSQL. The following items will be fixed and added for PostgreSQL. .. list-table:: :widths: 40 50 :header-rows: 1 * - Problems - Implementations for PostgreSQL * - Boolean Type Error (MySQL use ``tinyint(1)`` as Boolean.) - Replace smallint(1). * - Text Type Error (PostgreSQL does not set upper value in TEXT(length).) - Replace VARCHAR(length). * - MEDIUMTEXT could not be used in PostgreSQL. - Replace TEXT. * - PostgreSQL ENUM type requires a name. - Add a name attribute (e.g name=`varbosity`). * - Json common functions (e.g, json_extract(), json_length()) could not be used in PostgreSQL. - Replace decode(), json_array_length() and json search methods. * - SQL words such as CHANGE and GENERATED could not be used in PostgreSQL. - Replace other SQL commands. * - ifnull() could not be used in PostgreSQL. - Replace coalesce(). * - index ``auth_url`` does not exist in PostgreSQL. - Replace op.drop_constraint(). .. note:: Tacker provides VNF version upgrading tools from v1 API to v2 API by ``tacker-db-manage`` [#Db-migration]_. However, PostgreSQL environments provided in this specification do not support VNF version upgrading functions. Support PostgreSQL by Tacker ---------------------------- To support PostgreSQL, Tacker also needs to be fixed. The following items will be fixed and added. .. list-table:: :widths: 40 50 :header-rows: 1 * - Problems - Implementations for PostgreSQL * - jsonutils.dump_as_bytes() converts json to binary data. - Use jsonutils.dumps(value). * - <class `dict`> initialization is different (NULL and empty). - Support emtpy dict. * - Type comparison errors in ``deleted`` culumn. - Fix the type of comparison destinations. Add configuration to set PostgreSQL as Tacker DB backend -------------------------------------------------------- The configuration of PostgreSQL (`postgresql.conf``) and Tacker (`tacker.conf`) also need to be changed when Tacker uses PostgreSQL as a DB backend. * postgresql.conf .. code-block:: console $ vi /var/lib/postgresql/data/postgresql.conf bytea_output = 'escape' * tacker.conf .. code-block:: console $ vi /etc/tacker/tacker.conf [database] connection = postgresql://tacker:<POSTGRES_PASSWORD>@<POSTGRES_IP>/tacker?client_encoding=utf8 Flow of initializing PostgreSQL as Tacker DB backend ---------------------------------------------------- The following sequence diagram describes initializing PostgreSQL as Tacker DB backend. .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""Tacker"" ""tacker-db-manage"" ""PostgreSQL"" ""Client"" -> ""PostgreSQL"" [label = ""1. Creates Tacker DB and user""]; ""Client"" <-- ""PostgreSQL"" [label = ""Created""]; ""Client"" -> ""Tacker"" [label = ""2. Request to execute tacker-db-manage""]; ""Tacker"" -> ""tacker-db-manage"" [label = ""3. Execute tacker-db-manage""]; ""tacker-db-manage"" -> ""PostgreSQL"" [label = ""4. Update Tacker DB for PostgreSQL""]; ""PostgreSQL"" --> ""tacker-db-manage"" [label = ""Updated""]; ""tacker-db-manage"" --> ""Tacker"" [label = """"]; ""Tacker"" --> ""Client"" [label = ""Succeeed""]; } #. The Client creates Tacker DB and user in PostgreSQL. #. The Client requests Tacker to execute tacker-db-manage for PostgreSQL. #. Tacker executes tacker-db-manage. #. Tacker-db-manage updates Tacker DB in PostgreSQL. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- Deployer need to set the usage of PostgreSQL from tacker.conf. Developer impact ---------------- When adding new tables to the Tacker DB in the future, developer should support multi db such as MySQL and PostgreSQL. Implementation ============== Assignee(s) ----------- Primary assignee: Yuta Kazato <yuta.kazato.nw@hco.ntt.co.jp> Other contributors: Shun Higuchi <higuchis@intellilink.co.jp> Reina Yoshitani <yoshitanir@intellilink.co.jp> Tetsuro Kaneko <kaneko_te@tdc.co.jp> Work Items ---------- * Add PostgreSQL migration functions to tacker-db-manage. * Add PostgreSQL migration functions to Tacker. * Add PostgreSQL install manuals to Tacker Installation Guide. Dependencies ============ None Testing ======== Unit test cases for tacker-db-manage and Tacker will be used. Documentation Impact ==================== PostgreSQL configuration in Tacker Installation Guide will be added. References ========== .. [#Dev-stack] https://docs.openstack.org/devstack/latest/ .. [#Db-migration] https://docs.openstack.org/tacker/latest/user/db_migration_tool_usage_guide.html ",,249,0
openstack%2Ftacker-specs~master~I5ef4428f722d4da288469a4636020e2f0eb0ef5b,openstack/tacker-specs,master,I5ef4428f722d4da288469a4636020e2f0eb0ef5b,Support VNFM for AutoHeal and AutoScale,MERGED,2022-12-16 00:26:14.000000000,2022-12-27 17:49:16.000000000,2022-12-27 17:48:12.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31668}, {'_account_id': 31730}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 33455}, {'_account_id': 34712}]","[{'number': 1, 'created': '2022-12-16 00:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/09a5089f06406809e82ef51a68acef9516753f70', 'message': ""Support VNFM for AutoHeal and AutoScale with External Monitoring Tools\n\nThis spec provides some implementations for supporting receiving alerts\nfrom External Monitoring Tools and VNFM(tacker)-driven AutoHeal and\nAutoScale without NFVO. This implementation only supports VNF and CNF\ninstantiated through Tacker's v2 API.\n\nImplements: blueprint support-auto-lcm\nChange-Id: I5ef4428f722d4da288469a4636020e2f0eb0ef5b\n""}, {'number': 2, 'created': '2022-12-22 07:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/095d33bb07df1a63c333ed78a6058d69e54b71fc', 'message': ""Support VNFM for AutoHeal and AutoScale\n\nThis spec provides some implementations for supporting receiving alerts\nfrom External Monitoring Tools and VNFM(tacker)-driven AutoHeal and\nAutoScale without NFVO. This implementation only supports VNF and CNF\ninstantiated through Tacker's v2 API.\n\nImplements: blueprint support-auto-lcm\nChange-Id: I5ef4428f722d4da288469a4636020e2f0eb0ef5b\n""}, {'number': 3, 'created': '2022-12-26 07:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/34d8077dded11fe61b274b893fcd8f439cc99d5c', 'message': ""Support VNFM for AutoHeal and AutoScale\n\nThis spec provides some implementations for supporting receiving alerts\nfrom External Monitoring Tools and VNFM(tacker)-driven AutoHeal and\nAutoScale without NFVO. This implementation only supports VNF and CNF\ninstantiated through Tacker's v2 API.\n\nImplements: blueprint support-auto-lcm\nChange-Id: I5ef4428f722d4da288469a4636020e2f0eb0ef5b\n""}, {'number': 4, 'created': '2022-12-27 04:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/a56c88f6c954f983b2f495a6c0e86ddcb37d237e', 'message': ""Support VNFM for AutoHeal and AutoScale\n\nThis spec provides some implementations for supporting receiving alerts\nfrom External Monitoring Tools and VNFM(tacker)-driven AutoHeal and\nAutoScale without NFVO. This implementation only supports VNF and CNF\ninstantiated through Tacker's v2 API.\n\nImplements: blueprint support-auto-lcm\nChange-Id: I5ef4428f722d4da288469a4636020e2f0eb0ef5b\n""}, {'number': 5, 'created': '2022-12-27 05:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/626cab5b0a6bdc047c7166a214808202c8a1bc56', 'message': ""Support VNFM for AutoHeal and AutoScale\n\nThis spec provides some implementations for supporting receiving alerts\nfrom External Monitoring Tools and VNFM(tacker)-driven AutoHeal and\nAutoScale without NFVO. This implementation only supports VNF and CNF\ninstantiated through Tacker's v2 API.\n\nImplements: blueprint support-auto-lcm\nChange-Id: I5ef4428f722d4da288469a4636020e2f0eb0ef5b\n""}, {'number': 6, 'created': '2022-12-27 07:24:12.000000000', 'files': ['specs/2023.1/vnfm-autoheal-and-autoscale.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/8e7e908714b7bf68876aa58c2aa01bf2f3ac25f5', 'message': ""Support VNFM for AutoHeal and AutoScale\n\nThis spec provides some implementations for supporting receiving alerts\nfrom External Monitoring Tools and VNFM(tacker)-driven AutoHeal and\nAutoScale without NFVO. This implementation only supports VNF and CNF\ninstantiated through Tacker's v2 API.\n\nImplements: blueprint support-auto-lcm\nChange-Id: I5ef4428f722d4da288469a4636020e2f0eb0ef5b\n""}]",94,867339,8e7e908714b7bf68876aa58c2aa01bf2f3ac25f5,32,9,6,32707,,,0,"Support VNFM for AutoHeal and AutoScale

This spec provides some implementations for supporting receiving alerts
from External Monitoring Tools and VNFM(tacker)-driven AutoHeal and
AutoScale without NFVO. This implementation only supports VNF and CNF
instantiated through Tacker's v2 API.

Implements: blueprint support-auto-lcm
Change-Id: I5ef4428f722d4da288469a4636020e2f0eb0ef5b
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/39/867339/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/vnfm-autoheal-and-autoscale.rst'],1,09a5089f06406809e82ef51a68acef9516753f70,bp/support-auto-lcm,"====================================================================== Support VNFM for AutoHeal and AutoScale with External Monitoring Tools ====================================================================== https://blueprints.launchpad.net/tacker/+spec/support-auto-lcm Problem description =================== Zed release supported Fault Management / Performance Management(FM/PM) interfaces, and AutoHeal and AutoScale with External Monitoring Tools. However, Heal or Scale execution must be triggered by NFVO. This spec provides some implementations for supporting receiving alerts from External Monitoring Tools and VNFM(tacker)-driven AutoHeal and AutoScale without NFVO. This implementation only supports VNF and CNF instantiated through Tacker's v2 API. Proposed change =============== The following changes are needed: #. Add AutoHeal RESTful API to receive alerts sent from External Monitoring Tool. + POST /alert/auto_healing #. Modify AutoScale RESTful API to receive alerts sent from External Monitoring Tool. + POST /alert/auto_scaling #. Add fields in config file to determine if AutoHeal should be triggered or not. .. note:: The External Monitoring Tool is a monitoring service. That is not included in Tacker. Operators implement the External Monitoring Tool. The External Monitoring Tool uses metrics service such as Prometheus and triggers AutoHeal and AutoScale events using the Prometheus Plugin interface. Prometheus Plugin ----------------- The Prometheus Plugin is a sample implementation that operates Prometheus specific function. In this spec, there are two APIs in the Prometheus Plugin for receiving requests sent by Prometheus, and then calling Tacker's Heal or Scale interfaces. The Prometheus Plugin is an optional feature. The AutoHeal and AutoScale APIs can be enabled in ``tacker.conf``. .. code-block:: [prometheus_plugin] auto_healing = True auto_scaling = True Triggering of AutoHeal ---------------------- When the External Monitoring Tool detects the VNF or CNF resource failure or problem, it will send an alert message to Tacker. Tacker receives the alert and validates it. Then Tacker calls the internal Heal function for the resource. Use this Heal method to repair the failure and problem of VNF or CNF resources. Design of Heal operation ~~~~~~~~~~~~~~~~~~~~~~~~ The following is a schematic diagram of Heal: .. code-block:: +--------------------------------------------------------------------------+ | VNFM | | +------------------------+ +----------------------------+ | | | Tacker | | Tacker | | | | Server | | Conductor | | +----------------+ | | | | | | | External | 2. POST | | 3. Check parameters and confirm vnfc_info_id | | | Monitoring | alert | | +------------+ | | | +--------+ | | Tool +----------------> Prometheus +-------------------------------------------> Tacker | | | (based on | | | | Plugin | | | | | DB | | | Prometheus) | | | +------+-----+ | | | +--------+ | +--+-------------+ | | | 4. Heal | | | | | 1. Collect metrics | | | | | | | | | | +------v-----+ | | +---------------+ | | | | | | Vnflcm +--------------> Vnflcm Driver +--+ | | | | | | Controller | | | +---------------+ | | | | | | +------------+ | | +---------v--+ | | | | | | | | Infra +--------------+ | | | | | | | Driver | | | | | | | | | +------------+ | | | | | +------------------------+ +----------------------------+ | | | +----------------------------------------------------------------------|---+ | | | +-----------------------------------------------------------------+ | | | Kubernetes | | | | +---------------+-----------------------------------+ | | 5. Delete failed | | 6. Create new Pod | | | | Pod | | | | | | +--------v----+ +------v------+ +-------------+ | | | | | +--------+ | | +--------+ | | | | | +----------------------------------> | Pod | | | | Pod | | | | | | | | | +--------+ | | +--------+ | | | | | | | | Worker | | Worker | | Master | | | | | +-------------+ +-------------+ +-------------+ | | | +-----------------------------------------------------------------+ | | | | +-----------------------------------------------------------------+ | | | OpenStack | | | | +---------------+-----------------------------------+ | | 5. Delete failed | | 6. Create new VM | | | VM | | | | | +--------v----+ +------v------+ +-------------+ | | | | +--------+ | | +--------+ | | | | +----------------------------------> | VM | | | | VM | | | | | | | +--------+ | | +--------+ | | | | | | Computer | | Computer | | Controller | | | +-------------+ +-------------+ +-------------+ | +-----------------------------------------------------------------+ #. External Monitoring Tool collects metrics and decides whether triggering alert is needed or not. #. External Monitoring Tool sends POST request to ``/alert/auto_healing``. #. Prometheus Plugin receives the alert request and validates its content. Then it confirms that the ``vnfc_info_id`` in the alert request exists in the DB. #. Heal operation is triggered. #. The specified VM or Pod is deleted. #. New VM or Pod is created. Request parameters for operation ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The detail of API is described at `REST API impact`_. Sequence for operation ~~~~~~~~~~~~~~~~~~~~~~ The following describes the processing flow of the Tacker after the External Monitoring Tool sends the alert. .. seqdiag:: seqdiag { node_width = 150; edge_length = 160; ""External Monitoring Tool"" ""Prometheus Plugin"" ""Vnflcm Controller"" ""Vnflcm Driver"" ""Tacker DB"" ""External Monitoring Tool"" -> ""Prometheus Plugin"" [label = ""1. POST /alert/auto_healing""]; ""Prometheus Plugin"" -> ""Prometheus Plugin"" [label = ""2. Check if this API is enabled in Prometheus Plugin""]; ""Prometheus Plugin"" -> ""Prometheus Plugin"" [label = ""3. Check the status of the received alert""]; ""Prometheus Plugin"" -> ""Prometheus Plugin"" [label = ""4. Check if this alert is for AutoHeal""]; ""Prometheus Plugin"" -> ""Tacker DB"" [label = ""5. Find the corresponding resource from the DB""]; ""Prometheus Plugin"" <-- ""Tacker DB"" [label = ""vnf_instance""]; ""Prometheus Plugin"" -> ""Prometheus Plugin"" [label = ""6. Check whether the resource has AutoHeal enabled""]; ""Prometheus Plugin"" -> ""Prometheus Plugin"" [label = ""7. Check vnfc_info_id in vnf_instance""]; ""Prometheus Plugin"" -> ""Vnflcm Controller"" [label = ""8. Call the internal Heal function""]; ""Vnflcm Controller"" -> ""Vnflcm Driver"" [label = ""9. Trigger asynchronous task"", note = ""The same with the default Heal operation""]; ""Prometheus Plugin"" <-- ""Vnflcm Controller"" [label = ""Response 202 Accepted""]; ""External Monitoring Tool"" <-- ""Prometheus Plugin"" [label = ""Response 204 No Content""]; } #. As an External Monitoring Tool, Prometheus monitors specified resources through user-defined rules. When the data monitored by Prometheus matches the conditions of the rule, Prometheus will send an alert to Tacker. #. After Tacker receives the alert, Prometheus Plugin first checks that the value of the ``auto_healing`` field in ``tacker.conf`` is True. If not, the process is terminated. #. Prometheus Plugin checks that the value of the ``status`` field in alert is ``firing``. If not, the process is terminated. #. Prometheus Plugin checks that the value of the ``function_type`` field in alert is ``auto_heal``. If not, the process is terminated. #. According to the value of ``vnf_instance_id`` in the label in the alert, Prometheus Plugin gets the corresponding ``vnf_instance`` from the DB. #. Prometheus Plugin checks that the key of ``isAutohealEnabled`` exists in ``vnf_instance.vnfConfigurableProperties`` and its value is True. If not, the process is terminated. #. Prometheus Plugin checks that the value of ``vnfc_info_id`` in the alert request exists in ``vnf_instance.vnfc_info``. #. According to the values of ``vnf_instance_id`` and ``vnfc_info_id``, Prometheus Plugin calls the internal Heal function of vnflcm. #. From this step, it is completely the same with the default Heal operation. Triggering of AutoScale ----------------------- When the External Monitoring Tool detects that the CPU, memory, disk and other resources of the VNF or CNF are underloaded or overloaded, it will send an alert message to Tacker. Tacker receives the alert and validates it. Then Tacker calls the internal Scale function for the resource. Use this Scale method to balance underloaded or overloaded VNF or CNF resources. Design of Scale operation ~~~~~~~~~~~~~~~~~~~~~~~~~ The following is a schematic diagram of Scale: .. code-block:: +--------------------------------------------------------------------------+ | VNFM | | +------------------------+ +----------------------------+ | | | Tacker | | Tacker | | | | Server | | Conductor | | +----------------+ | | | | | | | External | 2. POST | | 3. Check parameters and confirm aspect_id | | | Monitoring | alert | | +------------+ | | | +--------+ | | Tool +----------------> Prometheus +-------------------------------------------> Tacker | | | (based on | | | | Plugin | | | | | DB | | | Prometheus) | | | +------+-----+ | | | +--------+ | +--+-------------+ | | | 4. Scale | | | | | 1. Collect metrics | | | | | | | | | | +------v-----+ | | +---------------+ | | | | | | Vnflcm +--------------> Vnflcm Driver +--+ | | | | | | Controller | | | +---------------+ | | | | | | +------------+ | | +---------v--+ | | | | | | | | Infra +--------------+ | | | | | | | Driver | | | | | | | | | +------------+ | | | | | +------------------------+ +----------------------------+ | | | +----------------------------------------------------------------------|---+ | | | +-----------------------------------------------------------------+ | | | Kubernetes | | | | +---------------+-----------------------------------+ | | | | 5. Create or Delete Pod | | | | | | | | | | +--------v----+ +------v------+ +-------------+ | | | | | +--------+ | | +--------+ | | | | | +----------------------------------> | Pod | | | | Pod | | | | | | | | | +--------+ | | +--------+ | | | | | | | | Worker | | Worker | | Master | | | | | +-------------+ +-------------+ +-------------+ | | | +-----------------------------------------------------------------+ | | | | +-----------------------------------------------------------------+ | | | OpenStack | | | | +---------------+-----------------------------------+ | | | | 5. Create or Delete VM | | | | | | | | +--------v----+ +------v------+ +-------------+ | | | | +--------+ | | +--------+ | | | | +----------------------------------> | VM | | | | VM | | | | | | | +--------+ | | +--------+ | | | | | | Computer | | Computer | | Controller | | | +-------------+ +-------------+ +-------------+ | +-----------------------------------------------------------------+ #. External Monitoring Tool collects metrics and decides whether triggering alert is needed or not. #. External Monitoring Tool sends POST request to ``/alert/auto_scaling``. #. Prometheus Plugin receives the alert request and validates its content. Then it confirms that the ``aspect_id`` in the alert request exists in the DB. #. Scale out/in operations are triggered. #. There are two types of Scale processing: * If the Scale out operation is triggered, the VM or Pod in the corresponding VDU is created. * If the Scale in operation is triggered, the VM or Pod in the corresponding VDU is deleted. Request parameters for operation ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The detail of API is described at `REST API impact`_. Sequence for operation ~~~~~~~~~~~~~~~~~~~~~~ The following describes the Client's processing flow for Tacker to AutoScale. .. seqdiag:: seqdiag { node_width = 150; edge_length = 160; ""External Monitoring Tool"" ""Prometheus Plugin"" ""Vnflcm Controller"" ""Vnflcm Driver"" ""Tacker DB"" ""External Monitoring Tool"" -> ""Prometheus Plugin"" [label = ""1. POST /alert/auto_scaling""]; ""Prometheus Plugin"" -> ""Prometheus Plugin"" [label = ""2. Check if this API is enabled in Prometheus Plugin""]; ""Prometheus Plugin"" -> ""Prometheus Plugin"" [label = ""3. Check the status of the received alert""]; ""Prometheus Plugin"" -> ""Prometheus Plugin"" [label = ""4. Check if this alert is for AutoScale""]; ""Prometheus Plugin"" -> ""Prometheus Plugin"" [label = ""5. Check that the received alert contains a valid type of Scale""]; ""Prometheus Plugin"" -> ""Tacker DB"" [label = ""6. Find the corresponding resource from the DB""]; ""Prometheus Plugin"" <-- ""Tacker DB"" [label = ""vnf_instance""]; ""Prometheus Plugin"" -> ""Prometheus Plugin"" [label = ""7. Check whether the resource has AutoScale enabled""]; ""Prometheus Plugin"" -> ""Prometheus Plugin"" [label = ""8. Check aspect_id in vnf_instance""]; ""Prometheus Plugin"" -> ""Vnflcm Controller"" [label = ""9. Call the internal Scale function""]; ""Vnflcm Controller"" -> ""Vnflcm Driver"" [label = ""10. Trigger asynchronous task"", note = ""The same with the default Scale operation""]; ""Prometheus Plugin"" <-- ""Vnflcm Controller"" [label = ""Response 202 Accepted""]; ""External Monitoring Tool"" <-- ""Prometheus Plugin"" [label = ""Response 204 No Content""]; } #. As an External Monitoring Tool, Prometheus monitors specified resources through user-defined rules. When the data monitored by Prometheus matches the conditions of the rule, Prometheus will send an alert to Tacker. #. After Tacker receives the alert, Prometheus Plugin first checks that the value of the ``auto_scaling`` field in ``tacker.conf`` is True. If not, the process is terminated. #. Prometheus Plugin checks that the value of the ``status`` field in alert is ``firing``. If not, the process is terminated. #. Prometheus Plugin checks that the value of the ``function_type`` field in alert is ``auto_scale``. If not, the process is terminated. #. Prometheus Plugin checks that the value of the ``auto_scale_type`` field in alert must be ``SCALE_OUT`` or ``SCALE_IN``. If not, the process is terminated. #. According to the value of ``vnf_instance_id`` in the label in the alert, Prometheus Plugin gets the corresponding ``vnf_instance`` from the DB. #. Prometheus Plugin checks that the key of ``isAutoscaleEnabled`` exists in ``vnf_instance.vnfConfigurableProperties`` and its value is True. If not, the process is terminated. #. Prometheus Plugin checks that the value of ``aspect_id`` in the alert request exists in ``vnf_instance.scale_status``. #. According to the values of ``vnf_instance_id``, ``auto_scale_type`` and ``aspect_id``, Prometheus Plugin calls the internal Scale function of vnflcm. #. From this step, it is completely the same with the default Scale operation. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- The following RESTful API is Tacker specific interface used for AutoHeal between Tacker and External Monitoring Tool. * | **Name**: Send an AutoHeal alert event | **Description**: Receive the AutoHeal alert sent from External Monitoring Tool | **Method type**: POST | **URL for the resource**: /alert/auto_healing | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - AutoHealAlertEvent - 1 - the AutoHeal alert sent from External Monitoring Tool .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (AutoHealAlertEvent) - Data type - Cardinality - Description * - receiver - String - 1 - Defines the receiver's name that the notification will be sent to. * - status - String - 1 - Defined as firing if at least one alert is firing, otherwise resolved. * - alerts - Structure(inlined) - 1..N - List of all alert objects in this group. * - >status - String - 1 - Defines whether or not the alert is resolved or currently firing. * - >labels - Structure(inlined) - 1 - A set of labels to be attached to the alert. * - >>receiverType - String - 1 - Type of receiver: tacker * - >>functionType - String - 1 - Type of function: auto_heal * - >>vnfInstanceId - Identifier - 1 - Identifier of vnf instance. * - >>vnfcInfoId - String - 1 - Identifier of vnfc info. * - >startsAt - DateTime - 1 - The time the alert started firing. * - >endsAt - DateTime - 1 - The end time of an alert. * - >generatorURL - String - 1 - A backlink which identifies the causing entity of this alert. * - >fingerprint - String - 1 - Fingerprint that can be used to identify the alert. * - groupLabels - KeyValuePairs - 1 - The labels these alerts were grouped by. * - commonLabels - KeyValuePairs - 1 - The labels common to all of the alerts. * - commonAnnotations - KeyValuePairs - 1 - Set of common annotations to all of the alerts. Used for longer additional strings of information about the alert. * - externalURL - String - 1 - Backlink to the Alertmanager that sent the notification. | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - n/a - - Success: 204 - Shall be returned when a request has been read successfully. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_331]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_331]_ may be returned. The following RESTful API is Tacker specific interface used for AutoScale between Tacker and External Monitoring Tool. * | **Name**: Send an AutoScale alert event | **Description**: Receive the AutoScale alert sent from External Monitoring Tool | **Method type**: POST | **URL for the resource**: /alert/auto_scaling | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - AutoScaleAlertEvent - 1 - the AutoScale alert sent from External Monitoring Tool .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (AutoScaleAlertEvent) - Data type - Cardinality - Description * - receiver - String - 1 - Defines the receiver's name that the notification will be sent to. * - status - String - 1 - Defined as firing if at least one alert is firing, otherwise resolved. * - alerts - Structure(inlined) - 1..N - List of all alert objects in this group. * - >status - String - 1 - Defines whether or not the alert is resolved or currently firing. * - >labels - Structure(inlined) - 1 - A set of labels to be attached to the alert. * - >>receiverType - String - 1 - Type of receiver: tacker * - >>functionType - String - 1 - Type of function: auto_scale * - >>autoScaleType - String - 1 - Type of Scale: SCALE_OUT or SCALE_IN * - >>vnfInstanceId - Identifier - 1 - Identifier of vnf instance. * - >>aspectId - String - 1 - The target VDU to Scale. * - >startsAt - DateTime - 1 - The time the alert started firing. * - >endsAt - DateTime - 1 - The end time of an alert. * - >generatorURL - String - 1 - A backlink which identifies the causing entity of this alert. * - >fingerprint - String - 1 - Fingerprint that can be used to identify the alert. * - groupLabels - KeyValuePairs - 1 - The labels these alerts were grouped by. * - commonLabels - KeyValuePairs - 1 - The labels common to all of the alerts. * - commonAnnotations - KeyValuePairs - 1 - Set of common annotations to all of the alerts. Used for longer additional strings of information about the alert. * - externalURL - String - 1 - Backlink to the Alertmanager that sent the notification. | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - n/a - - Success: 204 - Shall be returned when a request has been read successfully. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_331]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_331]_ may be returned. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Kenta Fukaya <kenta.fukaya.xv@hco.ntt.co.jp> Yuta Kazato <yuta.kazato.nw@hco.ntt.co.jp> Other contributors: Koji Shimizu <shimizu.koji@fujitsu.com> Yoshiyuki Katada <katada.yoshiyuk@fujitsu.com> Ayumu Ueha <ueha.ayumu@fujitsu.com> Work Items ---------- * Implement Tacker to support: * External Monitoring interface * Add new Rest API ``POST /alert/auto_healing`` to receive the AutoHeal alert sent from External Monitoring Tool. * Modify Rest API ``POST /alert/auto_scaling`` to receive the AutoScale alert sent from External Monitoring Tool. * Add new unit and functional tests. Dependencies ============ None Testing ======= Unit and functional tests will be added to cover cases required in the spec. Documentation Impact ==================== * Complete user guide will be added to explain how to AutoHeal and AutoScale by External Monitoring Tool. * Update API documentation on the API additions mentioned in `REST API impact`_. References ========== https://specs.openstack.org/openstack/tacker-specs/specs/zed/prometheus-plugin-autoheal-and-autoscale.html .. [#NFV-SOL013_331] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/013/03.03.01_60/gs_nfv-sol013v030301p.pdf ",,740,0
openstack%2Fopenstack-ansible~master~Ica5963dac12f2bbac8b77030e4c2269ae18b189e,openstack/openstack-ansible,master,Ica5963dac12f2bbac8b77030e4c2269ae18b189e,Add tempest repos to required-repos,NEW,2022-03-18 13:53:49.000000000,2022-12-27 15:23:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-03-18 13:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/055ab3a5ea32db3fe6647c292692aa7b218165f7', 'message': 'Add tempest repos to required-repos\n\nIn order to reduce load on gitea during CI tests, we add tempest plugins repos\nto required-project so that they were managed by zuul.\nWith that it also fixes Depends-On behavior for these plugins.\n\nChange-Id: Ica5963dac12f2bbac8b77030e4c2269ae18b189e\n'}, {'number': 2, 'created': '2022-03-18 19:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2ed338618560e0f0538c31f65fc5d6f322279b44', 'message': 'Add tempest repos to required-repos\n\nIn order to reduce load on gitea during CI tests, we add tempest plugins repos\nto required-project so that they were managed by zuul.\nWith that it also fixes Depends-On behavior for these plugins.\n\nChange-Id: Ica5963dac12f2bbac8b77030e4c2269ae18b189e\n'}, {'number': 3, 'created': '2022-04-04 09:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/444ef4c810e96038b763e70484f3b5495dfaa3b7', 'message': 'Add tempest repos to required-repos\n\nIn order to reduce load on gitea during CI tests, we add tempest plugins repos\nto required-project so that they were managed by zuul.\nWith that it also fixes Depends-On behavior for these plugins.\n\nChange-Id: Ica5963dac12f2bbac8b77030e4c2269ae18b189e\n'}, {'number': 4, 'created': '2022-05-20 07:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6e4700f43ba070b65dcda528593c749a8dd5226d', 'message': 'Add tempest repos to required-repos\n\nIn order to reduce load on gitea during CI tests, we add tempest plugins repos\nto required-project so that they were managed by zuul.\nWith that it also fixes Depends-On behavior for these plugins.\n\nChange-Id: Ica5963dac12f2bbac8b77030e4c2269ae18b189e\n'}, {'number': 5, 'created': '2022-05-26 15:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/decd29de8511bac3ec9844eb40587e038b287103', 'message': 'Add tempest repos to required-repos\n\nIn order to reduce load on gitea during CI tests, we add tempest plugins repos\nto required-project so that they were managed by zuul.\nWith that it also fixes Depends-On behavior for these plugins.\n\nChange-Id: Ica5963dac12f2bbac8b77030e4c2269ae18b189e\n'}, {'number': 6, 'created': '2022-06-05 19:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d4aeba2d51bf6d3b44f13bcc451cb3a05379e3c1', 'message': 'Add tempest repos to required-repos\n\nIn order to reduce load on gitea during CI tests, we add tempest plugins repos\nto required-project so that they were managed by zuul.\nWith that it also fixes Depends-On behavior for these plugins.\n\nChange-Id: Ica5963dac12f2bbac8b77030e4c2269ae18b189e\n'}, {'number': 7, 'created': '2022-06-06 09:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/118e322b55fcf1825c7e7700b3fd9e739cf52398', 'message': 'Add tempest repos to required-repos\n\nIn order to reduce load on gitea during CI tests, we add tempest plugins repos\nto required-project so that they were managed by zuul.\nWith that it also fixes Depends-On behavior for these plugins.\n\nChange-Id: Ica5963dac12f2bbac8b77030e4c2269ae18b189e\n'}, {'number': 8, 'created': '2022-06-14 18:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fab56385dc0852b855d5e7742c49c9dcbf83a1ec', 'message': 'Add tempest repos to required-repos\n\nIn order to reduce load on gitea during CI tests, we add tempest plugins repos\nto required-project so that they were managed by zuul.\nWith that it also fixes Depends-On behavior for these plugins.\n\nChange-Id: Ica5963dac12f2bbac8b77030e4c2269ae18b189e\n'}, {'number': 9, 'created': '2022-12-27 12:52:16.000000000', 'files': ['scripts/get-ansible-role-requirements.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b652bdfae56c31ce75bd925ce8a0cb39e02a1db4', 'message': 'Add tempest repos to required-repos\n\nIn order to reduce load on gitea during CI tests, we add tempest plugins repos\nto required-project so that they were managed by zuul.\nWith that it also fixes Depends-On behavior for these plugins.\n\nChange-Id: Ica5963dac12f2bbac8b77030e4c2269ae18b189e\n'}]",4,834289,b652bdfae56c31ce75bd925ce8a0cb39e02a1db4,24,1,9,28619,,,0,"Add tempest repos to required-repos

In order to reduce load on gitea during CI tests, we add tempest plugins repos
to required-project so that they were managed by zuul.
With that it also fixes Depends-On behavior for these plugins.

Change-Id: Ica5963dac12f2bbac8b77030e4c2269ae18b189e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/89/834289/5 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/get-ansible-role-requirements.yml', 'zuul.d/jobs.yaml']",2,055ab3a5ea32db3fe6647c292692aa7b218165f7,834289, - name: openstack/barbican-tempest-plugin - name: openstack/cinder-tempest-plugin - name: openstack/cloudkitty-tempest-plugin - name: openstack/designate-tempest-plugin - name: openstack/heat-tempest-plugin - name: openstack/ironic-tempest-plugin - name: openstack/keystone-tempest-plugin - name: openstack/manila-tempest-plugin - name: openstack/neutron-tempest-plugin - name: openstack/sahara-tests - name: openstack/senlin-tempest-plugin - name: openstack/tempest - name: openstack/telemetry-tempest-plugin - name: openstack/magnum-tempest-plugin - name: openstack/murano-tempest-plugin - name: openstack/trove-tempest-plugin - name: openstack/octavia-tempest-plugin - name: openstack/zun-tempest-plugin - name: x/novajoin-tempest-plugin,,22,2
openstack%2Fzun~stable%2Fzed~I86640fc7ae5565838c701974252a5775d1582eb4,openstack/zun,stable/zed,I86640fc7ae5565838c701974252a5775d1582eb4,Fix tox4 error,MERGED,2022-12-27 08:22:26.000000000,2022-12-27 11:36:09.000000000,2022-12-27 11:35:08.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-27 08:22:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/zun/commit/5c2f205e44c70407b8b2723a88ef693c4d243492', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One is passenv where we need\nto pass each value in newline otherwise, it fails with\nerror:\n\n failed with pass_env values cannot contain whitespace,\n use comma to have multiple values in a single line,\n invalid values found.....\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I86640fc7ae5565838c701974252a5775d1582eb4\n(cherry picked from commit 1fa73c55566971134b0563449e25f2a7a394d8b1)\n'}]",0,868558,5c2f205e44c70407b8b2723a88ef693c4d243492,7,2,1,11536,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One is passenv where we need
to pass each value in newline otherwise, it fails with
error:

 failed with pass_env values cannot contain whitespace,
 use comma to have multiple values in a single line,
 invalid values found.....

Fixing tox.ini for tox4 changes.

Change-Id: I86640fc7ae5565838c701974252a5775d1582eb4
(cherry picked from commit 1fa73c55566971134b0563449e25f2a7a394d8b1)
",git fetch https://review.opendev.org/openstack/zun refs/changes/58/868558/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5c2f205e44c70407b8b2723a88ef693c4d243492,,allowlist_externals = bashpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYallowlist_externals =skipsdist=True usedevelop=False,skipsdist = Truewhitelist_externals = bashpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYwhitelist_externals =,11,4
openstack%2Ftripleo-common~master~Ia4f3ca5b9838ab93ed1f20dc9a26168f030821b7,openstack/tripleo-common,master,Ia4f3ca5b9838ab93ed1f20dc9a26168f030821b7,Delete overcloud-ceph images,MERGED,2022-11-16 02:40:30.000000000,2022-12-27 10:05:25.000000000,2022-12-27 10:04:29.000000000,"[{'_account_id': 6796}, {'_account_id': 12393}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-11-16 02:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/25e87bef4517c255e962b0c1d0c6dcd41de81908', 'message': ""Delete overcloud-ceph images\n\nDownstream deploys ceph either out-of-band or with a\ndownstream-defined overcloud-minimal image, so these images are likely\nunused and untested.\n\nThis will need some confirmation from ceph folk though, I'll add them\nto this review.\n\nChange-Id: Ia4f3ca5b9838ab93ed1f20dc9a26168f030821b7\n""}, {'number': 2, 'created': '2022-11-20 20:03:04.000000000', 'files': ['image-yaml/overcloud-images-ceph.yaml', 'image-yaml/overcloud-images-ceph-rhel9.yaml', 'image-yaml/overcloud-images-ceph-centos9.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/696da32ad2db1e7aaeb091075297d5d3cd73bdc5', 'message': ""Delete overcloud-ceph images\n\nDownstream deploys ceph either out-of-band or with a\ndownstream-defined overcloud-minimal image, so these images are likely\nunused and untested.\n\nThis will need some confirmation from ceph folk though, I'll add them\nto this review.\n\nChange-Id: Ia4f3ca5b9838ab93ed1f20dc9a26168f030821b7\n""}]",4,864645,696da32ad2db1e7aaeb091075297d5d3cd73bdc5,24,7,2,4571,,,0,"Delete overcloud-ceph images

Downstream deploys ceph either out-of-band or with a
downstream-defined overcloud-minimal image, so these images are likely
unused and untested.

This will need some confirmation from ceph folk though, I'll add them
to this review.

Change-Id: Ia4f3ca5b9838ab93ed1f20dc9a26168f030821b7
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/45/864645/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-images-ceph.yaml', 'image-yaml/overcloud-images-ceph-rhel9.yaml', 'image-yaml/overcloud-images-ceph-centos9.yaml']",3,25e87bef4517c255e962b0c1d0c6dcd41de81908,old-image-delete,,disk_images: - imagename: overcloud-ceph type: qcow2 distro: centos release: 9 elements: - selinux-permissive - interface-names ,0,46
openstack%2Fmasakari-specs~master~I0362abadedff475a0900539a5751725e71d26d05,openstack/masakari-specs,master,I0362abadedff475a0900539a5751725e71d26d05,"Move ""vm moves"" spec to 2023.1 (Antelope)",MERGED,2022-12-27 09:12:05.000000000,2022-12-27 09:35:23.000000000,2022-12-27 09:34:17.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-27 09:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/42329ec9958d63b9cad0b2bc557a301b5b781761', 'message': 'Move ""vm moves"" spec to 2023.1 (Antelope)\n\nChange-Id: I0362abadedff475a0900539a5751725e71d26d05\n'}, {'number': 2, 'created': '2022-12-27 09:19:08.000000000', 'files': ['specs/yoga/approved/vm-evacuations-for-host-recovery.rst', 'specs/2023.1/approved/vm-evacuations-for-host-recovery.rst'], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/1b8b1138b8635ea12a84510ca589c93286d4b210', 'message': 'Move ""vm moves"" spec to 2023.1 (Antelope)\n\nChange-Id: I0362abadedff475a0900539a5751725e71d26d05\n'}]",0,868673,1b8b1138b8635ea12a84510ca589c93286d4b210,10,2,2,30491,,,0,"Move ""vm moves"" spec to 2023.1 (Antelope)

Change-Id: I0362abadedff475a0900539a5751725e71d26d05
",git fetch https://review.opendev.org/openstack/masakari-specs refs/changes/73/868673/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/approved/vm-evacuations-for-host-recovery.rst'],1,42329ec9958d63b9cad0b2bc557a301b5b781761,BP/vm-evacuations-for-host-recovery,,,0,0
openstack%2Fneutron~master~Idef5fd8feaf1af309862d6cb3e06da3734fb6c19,openstack/neutron,master,Idef5fd8feaf1af309862d6cb3e06da3734fb6c19,"Handle if ""TRUNK_SKELETON"" is not loaded",MERGED,2022-12-23 11:25:57.000000000,2022-12-27 09:29:55.000000000,2022-12-27 09:28:47.000000000,"[{'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-23 11:25:57.000000000', 'files': ['neutron/services/trunk/drivers/openvswitch/agent/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9401da6c7cb3616c01fc432f5e2150752afe91e1', 'message': 'Handle if ""TRUNK_SKELETON"" is not loaded\n\nIf ""TRUNK_SKELETON"" has not been initialized, the ""unregister"" method\nshould finish gracefully. This issue is happening in fullstalk tests,\nwhere the trunk initialization is not executed if ""trunk"" is not in\nthe service plugins.\n\nCloses-Bug: #2000314\nChange-Id: Idef5fd8feaf1af309862d6cb3e06da3734fb6c19\n'}]",1,868483,9401da6c7cb3616c01fc432f5e2150752afe91e1,14,4,1,16688,,,0,"Handle if ""TRUNK_SKELETON"" is not loaded

If ""TRUNK_SKELETON"" has not been initialized, the ""unregister"" method
should finish gracefully. This issue is happening in fullstalk tests,
where the trunk initialization is not executed if ""trunk"" is not in
the service plugins.

Closes-Bug: #2000314
Change-Id: Idef5fd8feaf1af309862d6cb3e06da3734fb6c19
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/868483/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/trunk/drivers/openvswitch/agent/driver.py'],1,9401da6c7cb3616c01fc432f5e2150752afe91e1,bug/2000314, try: TRUNK_SKELETON.unregister() except AttributeError: pass, TRUNK_SKELETON.unregister(),4,1
openstack%2Fhorizon~master~I60d2db52e9aac580859de3ed17fde14f9fd262a2,openstack/horizon,master,I60d2db52e9aac580859de3ed17fde14f9fd262a2,Adjust tox.ini for tox4,MERGED,2022-12-25 23:52:56.000000000,2022-12-27 09:27:34.000000000,2022-12-27 09:26:28.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-25 23:52:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/horizon/commit/aec6340398a5d6e65cda926247c2e08dff29ee4d', 'message': 'Adjust tox.ini for tox4\n\nOpenStack CI now uses tox4 by default.\n\n- Drop ""skipsdist = True"".\n  If skipsdist is specified, horizon is not installed into tox env.\n- Env vars specified in passenv should be one per line (or separated by\n  comma) in tox4.\n\nChange-Id: I60d2db52e9aac580859de3ed17fde14f9fd262a2\n'}]",1,868542,aec6340398a5d6e65cda926247c2e08dff29ee4d,7,2,1,841,,,0,"Adjust tox.ini for tox4

OpenStack CI now uses tox4 by default.

- Drop ""skipsdist = True"".
  If skipsdist is specified, horizon is not installed into tox env.
- Env vars specified in passenv should be one per line (or separated by
  comma) in tox4.

Change-Id: I60d2db52e9aac580859de3ed17fde14f9fd262a2
",git fetch https://review.opendev.org/openstack/horizon refs/changes/42/868542/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,aec6340398a5d6e65cda926247c2e08dff29ee4d,tox4,passenv = TOX_EXTRA_DEPS http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,skipsdist = Truepassenv = TOX_EXTRA_DEPS http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,8,2
openstack%2Fmasakari-specs~master~Ic0d1283bebbc562cfd20e004cb9b6ed309d0fd28,openstack/masakari-specs,master,Ic0d1283bebbc562cfd20e004cb9b6ed309d0fd28,vm moves for host notification,MERGED,2022-11-30 08:29:10.000000000,2022-12-27 09:14:58.000000000,2022-12-27 09:14:03.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-11-30 08:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/cd4e2c1448c097dee9b2a04ae2a11ac4e49d6804', 'message': ""vm motions for host notification\n\nThe original design is to save instance evacuations information\nfor host failure notification. For later new features, there will\nbe instance migrations information for host restored notification.\nIt is more compatible to use vm motion (vmotion) object, wihch\ninclude 'type' filed to show it is one evacuation or migration.\n\nBlueprint: vm-evacuations-for-host-recovery\nChange-Id: Ic0d1283bebbc562cfd20e004cb9b6ed309d0fd28\n""}, {'number': 2, 'created': '2022-12-08 01:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/9130e757a2d4e0918efeae4c31ca8f538b8ed440', 'message': ""vm moves for host notification\n\nThe original design is to save instance evacuations information\nfor host failure notification. For later new features, there will\nbe instance migrations information for host restored notification.\nIt is more compatible to use vm move (vmove) object, wihch\ninclude 'type' filed to show it is one evacuation or migration.\n\nBlueprint: vm-evacuations-for-host-recovery\nChange-Id: Ic0d1283bebbc562cfd20e004cb9b6ed309d0fd28\n""}, {'number': 3, 'created': '2022-12-26 06:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/24d75d532684fe5705a08f8e3ec1b373989b067b', 'message': ""vm moves for host notification\n\nThe original design is to save instance evacuations information\nfor host failure notification. For later new features, there will\nbe instance migrations information for host restored notification.\nIt is more compatible to use vm move (vmove) object, wihch\ninclude 'type' filed to show it is one evacuation or migration.\n\nBlueprint: vm-evacuations-for-host-recovery\nChange-Id: Ic0d1283bebbc562cfd20e004cb9b6ed309d0fd28\n""}, {'number': 4, 'created': '2022-12-27 05:57:55.000000000', 'files': ['specs/xena/approved/vm-evacuations-for-host-recovery.rst'], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/53c0119d083a49e50ca5eca769ef2d57ad7dc8a9', 'message': ""vm moves for host notification\n\nThe original design is to save instance evacuations information\nfor host failure notification. For later new features, there will\nbe instance migrations information for host restored notification.\nIt is more compatible to use vm move (vmove) object, wihch\ninclude 'type' filed to show it is one evacuation or migration.\n\nBlueprint: vm-evacuations-for-host-recovery\nChange-Id: Ic0d1283bebbc562cfd20e004cb9b6ed309d0fd28\n""}]",19,866107,53c0119d083a49e50ca5eca769ef2d57ad7dc8a9,24,2,4,30623,,,0,"vm moves for host notification

The original design is to save instance evacuations information
for host failure notification. For later new features, there will
be instance migrations information for host restored notification.
It is more compatible to use vm move (vmove) object, wihch
include 'type' filed to show it is one evacuation or migration.

Blueprint: vm-evacuations-for-host-recovery
Change-Id: Ic0d1283bebbc562cfd20e004cb9b6ed309d0fd28
",git fetch https://review.opendev.org/openstack/masakari-specs refs/changes/07/866107/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/vm-evacuations-for-host-recovery.rst'],1,cd4e2c1448c097dee9b2a04ae2a11ac4e49d6804,BP/vm-evacuations-for-host-recovery,"If one compute node failed, Masakari will evacuate the instances from the failed host. If a large number of hosts fail at the same time, the resources of computing nodes are dramatically reduced. There would not be enough resources for all instances to recovery. So it is reasonable that the very important instances to be firstly evacuated, and evacuations can be aborted once the cloud environment encounters an irreversible condition. When the failed hosts come back, the restored resources may be lying idle. In order to make full use of the restored resources, It needs to move instances to the restored hosts. Sometimes there may be a distribution on purpose. The vm motions automatically such as DRS or manually could mess up the distribution. So it is a good idea to save the evaucations when the host is failed, and move instances back when the host is restored according to the previous evaucations.This spec is mainly to record vm motions information in the database, mainly including instance_uuid, notification_uuid, source_host, dest_host, type, status, start_time and end_time. User can get vm motions information of a 'COMPUTE_HOST' type notification by vmotion API.The table ``vmotions`` will be added into the Masakari database.* uuid: UUID. UUID of the vmotion. * notification_uuid: UUID. UUID of notification the vmotion belong to. * instance_uuid: UUID. UUID of instance. * instance_uuid: String. Name of instance. * source_host: String. Source host name of the vmotion. * dest_host: String. Destination host name of the vmotion. * start_time: Datetime. Start time of the vmotion. * end_time: Datetime. End time of the vmotion. * type: String. Represents possible types for the vmotion, such as migration, live_migration or evacuation. * status: String. Represents possible statuses for the vmotion, such as pending, ongoing, ignored, failed or succeeded.Following vmotion API will be introduced in a new API micro-version. * GET /notifications/<notification_id>/vmotions ""vmotions"": [ ""instance_name"": ""vm-1"", ""source_host"": ""node01"", ""dest_host"": ""node02"", ""start_time"": ""2022-11-22 14:50:22"", ""end_time"": ""2022-11-22 14:50:35"", ""type"": ""evacuation"", ""status"": ""succeeded"", }, { ""uuid"": ""65a5da84-5819-4aea-8278-a28d2b489028"", ""instance_uuid"": ""e1a5a45b-f251-47cf-9c5f-fa1e66e1286a"", ""instance_name"": ""vm-2"", ""notification_uuid"": ""c0fa1a39-c150-4b86-ae97-8fae31700c67"", ""source_host"": ""node01"", ""dest_host"": ""node02"", ""start_time"": ""2022-11-22 14:50:23"", ""end_time"": ""2022-11-22 14:50:38"", ""type"": ""evacuation"", ""status"": ""succeeded"",* GET /notifications/<notification_id>/vmotions/<vmotion_id> ""vmotion"": ""instance_name"": ""vm-1"", ""source_host"": ""node01"", ""dest_host"": ""node02"", ""start_time"": ""2022-11-22 14:50:22"", ""end_time"": ""2022-11-22 14:50:38"", ""type"": ""evacuation"", ""status"": ""succeeded"",* suzhengwei <suzhengwei@inspur.com>* Create a new API microversion to get information for all vmotions and get detailed information about a particular vmotion. * Update docs about vm motions for host recovery manage vm motions.","If one compute node failed, Masakari will evacuate the instances from the failed host. Generally, the resources of computing nodes are gradually reduced. If a large number of hosts fail at the same time and there are not enough computing node resources, the operator needs to set the priority of instance evacuation in advance to ensure that the evacuation can be carried out in the order of priority. When the failed compute node recovers, in order to make full use of the computing node resources and due to some instances needing to run on a specific computing node, the operator wants to migrate the instance back to the original node.This spec is mainly to record instance evacuation information in the database, provide two interfaces to support obtaining all evacuation information lists and specific evacuation information details, and prepare relevant information for supporting the migration of the instances back to previously failed hosts. * Record instance evacuation information in the database, mainly including instance_id, notification_id, source_host, dest_host, status. The status is pending. * User can get evacuation information about a specific masakari notification by ``GET /notifications/<notification_id>/evacuations`` API. * User can get detailed information about a specific evacuation record of a particular masakari notification by ``GET /notifications/<notification_id>/evacuations/<evacuation_id>`` API. The table ``evacuation`` will be added into the Masakari database.* uuid: UUID. uuid of evacuation record. * notification_uuid: UUID. uuid of notification. * instance_uuid: UUID. uuid of instance. * source_host_name: String. The source compute node before the instance evacuated. * dest_host_name: String. The destination compute node after the instance is evacuated. * status: String. Represents possible statuses for notifications, such as pending, ongoing, ignored, failed and succeeded. * status_details: String. Store the details reason of evacuate failed/ignored. * priority: Numeric. Set the evacuation priority and support the evacuation of instances in order. The default value is 1.Following changes will be introduced in a new API micro-version. * GET /notifications/<notification_id>/evacuations ""evacuations"": [ ""source_host_name"": ""node01"", ""dest_host_name"": ""node02"", ""status"": ""pending"", ""status_details"": """", ""priority"": ""1""* GET /notifications/<notification_id>/evacuations/<evacuation_id> ""evacuation"": ""source_host_name"": ""node01"", ""dest_host_name"": ""node02"", ""status"": ""pending"", ""status_details"": """", ""priority"": ""1""* suzhengwei <sugar-2008@163.com> Historical assignee (pre-Yoga): * shenxinxin <shenxinxin@inspur.com>* Create a new API microversion to get information for all evacuations and get detailed information about a particular evacuation. * Update docs for instance evacuations for host recovery manage instance evacuations for host recovery.",69,64
openstack%2Fopenstack-helm~master~I393eec4726a60d725ce5f1ee9de42a1b591d8f96,openstack/openstack-helm,master,I393eec4726a60d725ce5f1ee9de42a1b591d8f96,WIP OpenStack-Helm Edge,ABANDONED,2021-03-22 15:50:36.000000000,2022-12-27 08:57:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-22 15:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0fdee14a94bbc77575f40ecd2cd91a974ecd7428', 'message': 'WIP OpenStack-Helm Edge\n\nThis is a chart for openstack focused on edge and smaller (<50 node)\ndeployments.\n\nSigned-off-by: Pete Birley <pete@port.direct>\nChange-Id: I393eec4726a60d725ce5f1ee9de42a1b591d8f96\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2021-03-22 18:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9f9bd39d49662b9c7cdf1180c4143818bebf1219', 'message': 'WIP OpenStack-Helm Edge\n\nThis is a chart for openstack focused on edge and smaller (<50 node)\ndeployments.\n\nSigned-off-by: Pete Birley <pete@port.direct>\nChange-Id: I393eec4726a60d725ce5f1ee9de42a1b591d8f96\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2021-03-22 22:12:46.000000000', 'files': ['openstack/templates/DaemonSet-compute.yaml', 'openstack/files/defaults/glance/etc/sudoers.d/glance', 'openstack/files/ansible/roles/bootstrap-nova/tasks/flavor.yaml', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.conf', 'openstack/templates/Deployment-openstack-layers/_mariadb.tpl', 'openstack/templates/DaemonSet-compute-layers/_nova_compute.tpl', 'openstack/files/defaults/cinder/etc/cinder/rootwrap.d/volume.filters', 'openstack/files/ansible/roles/config-rook/tasks/client-config.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/operating-system.json', 'openstack/files/ansible/roles/config-rook/templates/keyring.j2', 'docker/apache/Dockerfile', 'openstack/files/defaults/nova/etc/nova/rootwrap.conf', 'openstack/templates/RoleBinding-rook.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/cim-virtual-system-setting-data.json', 'openstack/files/defaults/neutron/etc/neutron/plugins/ml2/ml2_conf.ini', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-cpu-pinning.json', 'openstack/files/ansible/openstack.yaml', 'openstack/files/defaults/placement/etc/placement/placement.conf', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/heat.conf', 'openstack/files/defaults/glance/etc/glance/glance-api.conf', 'openstack/files/defaults/glance/etc/glance/rootwrap.conf', 'openstack/files/defaults/nova/etc/nova/nova-api-uwsgi.ini', 'openstack/files/defaults/nova/etc/nova/nova-cpu.conf', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/l3.filters', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-guest-shutdown.json', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-vmware-flavor.json', 'openstack/files/defaults/glance/etc/glance/metadefs/glance-common-image-props.json', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/keystone.conf', 'openstack/templates/helpers/_config.tpl', 'openstack/files/defaults/apache/etc/apache2/apache2.conf', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/dhcp.filters', 'openstack/files/ansible/roles/bootstrap-keystone/tasks/heat-domain.yaml', 'openstack/files/defaults/libvirt/etc/libvirt/secrets/rbd-cinder.xml', 'openstack/files/defaults/cinder/etc/cinder/resource_filters.json', 'openstack/values.yaml', 'openstack/templates/DaemonSet-compute-layers/_libvirt.tpl', 'openstack/files/defaults/glance/etc/glance/rootwrap.d/glance_cinder_store.filters', 'openstack/files/defaults/heat/etc/heat/heat-api-cfn-uwsgi.ini', 'openstack/files/defaults/glance/etc/glance/metadefs/cim-processor-allocation-setting-data.json', 'openstack/files/ansible/roles/bootstrap-nova/defaults/main.yaml', 'openstack/files/defaults/heat/etc/heat/heat.conf', 'openstack/templates/Deployment-openstack-layers/_nova.tpl', 'openstack/templates/DaemonSet-network-layers/_neutron_metadata.tpl', 'openstack/templates/Deployment-openstack-layers/_apache.tpl', 'openstack/files/defaults/glance/etc/glance/metadefs/storage-volume-type.json', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/debug.filters', 'openstack/files/scripts/libvirt_check.py', 'openstack/files/defaults/heat/etc/heat/api-paste.ini', 'docker/openvswitch/Dockerfile', 'openstack/files/defaults/glance/etc/glance/metadefs/cim-resource-allocation-setting-data.json', 'openstack/files/defaults/heat/etc/heat/environment.d/default.yaml', 'openstack/templates/DaemonSet-network-layers/_network_base_daemonset.tpl', 'openstack/templates/ConfigMap-ansible.yaml', 'docker/openstack/debian/sources.list', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-libvirt.json', 'openstack/files/defaults/neutron/etc/neutron/dhcp_agent.ini', 'openstack/templates/ServiceAccount-openstack.yaml', 'openstack/.helmignore', 'openstack/files/ansible/roles/bootstrap-keystone/tasks/main.yaml', 'openstack/files/ansible/roles/config-rook/defaults/main.yaml', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/ipset-firewall.filters', 'openstack/files/defaults/glance/etc/glance/metadefs/cim-storage-allocation-setting-data.json', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-hypervisor.json', 'openstack/files/defaults/placement/etc/placement/placement-uwsgi.ini', 'openstack/files/scripts/db_check.py', 'openstack/templates/helpers/_pod.tpl', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/nova.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-vmware-quota-flavor.json', 'openstack/files/ansible/roles/bootstrap-keystone/tasks/domain-project-user.yaml', 'openstack/files/defaults/libvirt/etc/libvirt/qemu.conf', 'openstack/files/ansible/roles/bootstrap-glance/tasks/main.yaml', 'openstack/Chart.yaml', 'openstack/templates/Secret-config.yaml', 'openstack/files/ansible/roles/maintenance/tasks/nova-compute-cell-mapping.yaml', 'openstack/templates/helpers/_template.tpl', 'openstack/files/scripts/endpoint_check.py', 'openstack/templates/Deployment-openstack-layers/_ansible.tpl', 'openstack/files/defaults/neutron/etc/neutron/metadata_agent.ini', 'openstack/templates/PersistentVolumeClaims-openstack.yaml', 'openstack/files/ansible/roles/bootstrap-nova/tasks/main.yaml', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/privsep.filters', 'openstack/files/defaults/cinder/etc/cinder/rootwrap.conf', 'docker/openstack/build.sh', 'openstack/files/defaults/keystone/etc/apache2/apache2.conf', 'docker/openstack/debian/Dockerfile', 'openstack/templates/Deployment-openstack-layers/_placement.tpl', 'openstack/files/defaults/horizon/etc/openstack-dashboard/local_settings', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-watchdog.json', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/dibbler.filters', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-quota.json', 'openstack/files/scripts/config_extractor.py', 'openstack/files/defaults/mariadb/etc/mysql/conf.d/99-mariadb.cnf', 'openstack/templates/DaemonSet-openvswitch-layers/_openvswitch.tpl', 'openstack/files/defaults/keystone/etc/keystone/keystone.conf', 'openstack/files/defaults/glance/etc/glance/glance-image-import.conf', 'openstack/files/defaults/glance/etc/glance/glance-swift-store.conf', 'openstack/files/defaults/glance/etc/glance/glance-api-paste.ini', 'openstack/files/scripts/fast_start.sh', 'openstack/files/defaults/nova/etc/nova/api-paste.ini', 'openstack/templates/helpers/osh/_db.tpl', 'openstack/files/defaults/neutron/etc/sudoers.d/neutron', 'openstack/files/defaults/libvirt/etc/libvirt/libvirtd.conf', 'openstack/files/ansible/roles/bootstrap-cinder/tasks/volume-type.yaml', 'openstack/files/defaults/neutron/etc/neutron/api-paste.ini', 'openstack/files/defaults/neutron/etc/neutron/neutron.conf', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/neutron.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-aggr-iops-filter.json', 'openstack/files/defaults/neutron/etc/neutron/l3_agent.ini', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/cinder.conf', 'openstack/files/ansible/roles/bootstrap-cinder/tasks/main.yaml', 'openstack/files/ansible/roles/bootstrap-keystone/tasks/service-and-endpoints.yaml', 'openstack/templates/Deployment-openstack-layers/_heat.tpl', 'openstack/files/ansible/roles/bootstrap-keystone/defaults/main.yaml', 'openstack/files/defaults/heat/etc/heat/heat-api-uwsgi.ini', 'openstack/files/defaults/horizon/etc/apache2/apache2.conf', 'openstack/files/ansible/roles/bootstrap-cinder/defaults/main.yaml', 'openstack/files/ansible/debug.yaml', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/horizon.conf', 'openstack/templates/helpers/_files.tpl', 'openstack/files/defaults/cinder/etc/cinder/api-paste.ini', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/iptables-firewall.filters', 'openstack/templates/helpers/osh/_oslo.tpl', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/glance.conf', 'openstack/files/scripts/ovs_check.sh', 'openstack/files/defaults/cinder/etc/cinder/cinder.conf', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/ebtables.filters', 'openstack/templates/Deployment-openstack-layers/_base_deployment.tpl', 'openstack/templates/Certificate-openstack.yaml', 'openstack/templates/Secret-ceph.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/software-databases.json', 'openstack/files/defaults/rabbitmq/etc/rabbitmq/rabbitmq.conf', 'openstack/files/defaults/cinder/etc/sudoers.d/cinder', 'openstack/files/defaults/nova/etc/nova/nova_cell1.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-vcputopology.json', 'openstack/templates/ConfigMap-scripts.yaml', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/nova-console.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-libvirt-image.json', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/openvswitch-plugin.filters', 'openstack/files/scripts/horizon_manage.py', 'openstack/files/ansible/roles/config-rook/tasks/main.yaml', 'openstack/files/scripts/rabbit_definition_generator.py', 'openstack/files/defaults/neutron/etc/neutron/policy.json', 'openstack/templates/Deployment-openstack-layers/_horizon.tpl', 'openstack/templates/Role-rook.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/software-webservers.json', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-vmware.json', 'openstack/files/defaults/cinder/etc/cinder/cinder-api-uwsgi.ini', 'openstack/templates/DaemonSet-network-layers/_neutron_dhcp.tpl', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/linuxbridge-plugin.filters', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-randomgen.json', 'openstack/files/defaults/glance/etc/glance/schema-image.json', 'openstack/templates/DaemonSet-network-layers/_neutron_l3.tpl', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-aggr-disk-filter.json', 'openstack/files/ansible/roles/config-rook/templates/k8s-secret.yaml.j2', 'openstack/files/defaults/heat/etc/heat/templates/AWS_RDS_DBInstance.yaml', 'openstack/templates/Ingress-openstack.yaml', 'openstack/files/defaults/nova/etc/nova/nova-metadata-uwsgi.ini', 'openstack/templates/RoleBinding-openstack.yaml', 'openstack/templates/DaemonSet-openvswitch.yaml', 'docker/libvirt/Dockerfile', 'openstack/files/defaults/horizon/etc/horizon/horizon-chart-env-check.conf', 'openstack/templates/Deployment-openstack.yaml', 'openstack/templates/Issuer-ca.yaml', 'openstack/templates/Role-openstack.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/image-signature-verification.json', 'openstack/templates/DaemonSet-openvswitch-layers/_openvswitch_base_daemonset.tpl', 'openstack/files/ansible/roles/maintenance/tasks/main.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-aggr-num-instances.json', 'openstack/templates/DaemonSet-network.yaml', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/placement.conf', 'openstack/templates/Certificate-ca.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-host-capabilities.json', 'openstack/templates/Service-openstack.yaml', 'openstack/templates/DaemonSet-compute-layers/_compute_base_daemonset.tpl', 'openstack/templates/Deployment-openstack-layers/_cinder.tpl', 'openstack/templates/Deployment-openstack-layers/_memcached.tpl', 'openstack/files/ansible/roles/bootstrap-glance/tasks/image.yaml', 'openstack/files/defaults/glance/etc/glance/glance-cache.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-xenapi.json', 'openstack/templates/Deployment-openstack-layers/_neutron.tpl', 'openstack/templates/Deployment-openstack-layers/_keystone.tpl', 'openstack/templates/Issuer-openstack.yaml', 'openstack/templates/DaemonSet-openvswitch-layers/_neutron.tpl', 'openstack/files/defaults/ansible/etc/openstack/clouds.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-guest-memory-backing.json', 'openstack/files/defaults/heat/etc/heat/templates/AWS_CloudWatch_Alarm.yaml', 'openstack/files/ansible/roles/config-rook/templates/ceph.conf.j2', 'openstack/files/defaults/nova/etc/nova/nova.conf', 'openstack/templates/Deployment-openstack-layers/_rabbitmq.tpl', 'docker/ansible/Dockerfile', 'openstack/templates/Deployment-openstack-layers/_glance.tpl', 'openstack/files/defaults/nova/etc/sudoers.d/nova', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-instance-data.json', 'openstack/files/defaults/glance/etc/glance/metadefs/software-runtimes.json', 'openstack/files/ansible/roles/bootstrap-glance/defaults/main.yaml', 'openstack/files/defaults/mariadb/docker-entrypoint-initdb.d/openstack.sql', 'openstack/files/defaults/nova/etc/nova/rootwrap.d/compute.filters', 'openstack/templates/helpers/_labels.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5be895ae1fe34d34b9dc355e6ebf194f92e5631c', 'message': 'WIP OpenStack-Helm Edge\n\nThis is a chart for openstack focused on edge and smaller (<50 node)\ndeployments.\n\nSigned-off-by: Pete Birley <pete@port.direct>\nChange-Id: I393eec4726a60d725ce5f1ee9de42a1b591d8f96\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",2,782283,5be895ae1fe34d34b9dc355e6ebf194f92e5631c,9,1,3,23928,,,0,"WIP OpenStack-Helm Edge

This is a chart for openstack focused on edge and smaller (<50 node)
deployments.

Signed-off-by: Pete Birley <pete@port.direct>
Change-Id: I393eec4726a60d725ce5f1ee9de42a1b591d8f96
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/83/782283/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/templates/DaemonSet-compute.yaml', 'openstack/files/defaults/glance/etc/sudoers.d/glance', 'openstack/files/ansible/roles/bootstrap-nova/tasks/flavor.yaml', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.conf', 'openstack/templates/Deployment-openstack-layers/_mariadb.tpl', 'openstack/templates/DaemonSet-compute-layers/_nova_compute.tpl', 'openstack/files/defaults/cinder/etc/cinder/rootwrap.d/volume.filters', 'openstack/files/ansible/roles/config-rook/tasks/client-config.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/operating-system.json', 'openstack/files/ansible/roles/config-rook/templates/keyring.j2', 'docker/apache/Dockerfile', 'openstack/files/defaults/nova/etc/nova/rootwrap.conf', 'openstack/templates/RoleBinding-rook.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/cim-virtual-system-setting-data.json', 'openstack/files/defaults/neutron/etc/neutron/plugins/ml2/ml2_conf.ini', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-cpu-pinning.json', 'openstack/files/ansible/openstack.yaml', 'openstack/files/defaults/placement/etc/placement/placement.conf', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/heat.conf', 'openstack/files/defaults/glance/etc/glance/glance-api.conf', 'openstack/files/defaults/glance/etc/glance/rootwrap.conf', 'openstack/files/defaults/nova/etc/nova/nova-api-uwsgi.ini', 'openstack/files/defaults/nova/etc/nova/nova-cpu.conf', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/l3.filters', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-guest-shutdown.json', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-vmware-flavor.json', 'openstack/files/defaults/glance/etc/glance/metadefs/glance-common-image-props.json', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/keystone.conf', 'openstack/templates/helpers/_config.tpl', 'openstack/files/defaults/apache/etc/apache2/apache2.conf', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/dhcp.filters', 'openstack/files/ansible/roles/bootstrap-keystone/tasks/heat-domain.yaml', 'openstack/files/defaults/libvirt/etc/libvirt/secrets/rbd-cinder.xml', 'openstack/files/defaults/cinder/etc/cinder/resource_filters.json', 'openstack/values.yaml', 'openstack/templates/DaemonSet-compute-layers/_libvirt.tpl', 'openstack/files/defaults/glance/etc/glance/rootwrap.d/glance_cinder_store.filters', 'openstack/files/defaults/heat/etc/heat/heat-api-cfn-uwsgi.ini', 'openstack/files/defaults/glance/etc/glance/metadefs/cim-processor-allocation-setting-data.json', 'openstack/files/ansible/roles/bootstrap-nova/defaults/main.yaml', 'openstack/files/defaults/heat/etc/heat/heat.conf', 'openstack/templates/Deployment-openstack-layers/_nova.tpl', 'openstack/templates/DaemonSet-network-layers/_neutron_metadata.tpl', 'openstack/templates/Deployment-openstack-layers/_apache.tpl', 'openstack/files/defaults/glance/etc/glance/metadefs/storage-volume-type.json', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/debug.filters', 'openstack/files/scripts/libvirt_check.py', 'openstack/files/defaults/heat/etc/heat/api-paste.ini', 'docker/openvswitch/Dockerfile', 'openstack/files/defaults/glance/etc/glance/metadefs/cim-resource-allocation-setting-data.json', 'openstack/files/defaults/heat/etc/heat/environment.d/default.yaml', 'openstack/templates/DaemonSet-network-layers/_network_base_daemonset.tpl', 'openstack/templates/ConfigMap-ansible.yaml', 'docker/openstack/debian/sources.list', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-libvirt.json', 'openstack/files/defaults/neutron/etc/neutron/dhcp_agent.ini', 'openstack/templates/ServiceAccount-openstack.yaml', 'openstack/.helmignore', 'openstack/files/ansible/roles/bootstrap-keystone/tasks/main.yaml', 'openstack/files/ansible/roles/config-rook/defaults/main.yaml', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/ipset-firewall.filters', 'openstack/files/defaults/glance/etc/glance/metadefs/cim-storage-allocation-setting-data.json', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-hypervisor.json', 'openstack/files/defaults/placement/etc/placement/placement-uwsgi.ini', 'openstack/files/scripts/db_check.py', 'openstack/templates/helpers/_pod.tpl', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/nova.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-vmware-quota-flavor.json', 'openstack/files/ansible/roles/bootstrap-keystone/tasks/domain-project-user.yaml', 'openstack/files/defaults/libvirt/etc/libvirt/qemu.conf', 'openstack/files/ansible/roles/bootstrap-glance/tasks/main.yaml', 'openstack/Chart.yaml', 'openstack/templates/Secret-config.yaml', 'openstack/files/ansible/roles/maintenance/tasks/nova-compute-cell-mapping.yaml', 'openstack/templates/helpers/_template.tpl', 'openstack/files/scripts/endpoint_check.py', 'openstack/templates/Deployment-openstack-layers/_ansible.tpl', 'openstack/files/defaults/neutron/etc/neutron/metadata_agent.ini', 'openstack/templates/PersistentVolumeClaims-openstack.yaml', 'openstack/files/ansible/roles/bootstrap-nova/tasks/main.yaml', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/privsep.filters', 'openstack/files/defaults/cinder/etc/cinder/rootwrap.conf', 'docker/openstack/build.sh', 'openstack/files/defaults/keystone/etc/apache2/apache2.conf', 'docker/openstack/debian/Dockerfile', 'openstack/templates/Deployment-openstack-layers/_placement.tpl', 'openstack/files/defaults/horizon/etc/openstack-dashboard/local_settings', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-watchdog.json', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/dibbler.filters', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-quota.json', 'openstack/files/scripts/config_extractor.py', 'openstack/files/defaults/mariadb/etc/mysql/conf.d/99-mariadb.cnf', 'openstack/templates/DaemonSet-openvswitch-layers/_openvswitch.tpl', 'openstack/files/defaults/keystone/etc/keystone/keystone.conf', 'openstack/files/defaults/glance/etc/glance/glance-image-import.conf', 'openstack/files/defaults/glance/etc/glance/glance-swift-store.conf', 'openstack/files/defaults/glance/etc/glance/glance-api-paste.ini', 'openstack/files/scripts/fast_start.sh', 'openstack/files/defaults/nova/etc/nova/api-paste.ini', 'openstack/files/defaults/neutron/etc/sudoers.d/neutron', 'openstack/files/defaults/libvirt/etc/libvirt/libvirtd.conf', 'openstack/files/ansible/roles/bootstrap-cinder/tasks/volume-type.yaml', 'openstack/files/defaults/neutron/etc/neutron/api-paste.ini', 'openstack/files/defaults/neutron/etc/neutron/neutron.conf', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/neutron.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-aggr-iops-filter.json', 'openstack/files/defaults/neutron/etc/neutron/l3_agent.ini', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/cinder.conf', 'openstack/files/ansible/roles/bootstrap-cinder/tasks/main.yaml', 'openstack/files/ansible/roles/bootstrap-keystone/tasks/service-and-endpoints.yaml', 'openstack/templates/Deployment-openstack-layers/_heat.tpl', 'openstack/files/ansible/roles/bootstrap-keystone/defaults/main.yaml', 'openstack/files/defaults/heat/etc/heat/heat-api-uwsgi.ini', 'openstack/files/defaults/horizon/etc/apache2/apache2.conf', 'openstack/files/ansible/roles/bootstrap-cinder/defaults/main.yaml', 'openstack/files/ansible/debug.yaml', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/horizon.conf', 'openstack/templates/helpers/_files.tpl', 'openstack/files/defaults/cinder/etc/cinder/api-paste.ini', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/iptables-firewall.filters', 'openstack/templates/helpers/osh/_oslo.tpl', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/glance.conf', 'openstack/files/scripts/ovs_check.sh', 'openstack/files/defaults/cinder/etc/cinder/cinder.conf', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/ebtables.filters', 'openstack/templates/Deployment-openstack-layers/_base_deployment.tpl', 'openstack/templates/Certificate-openstack.yaml', 'openstack/templates/Secret-ceph.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/software-databases.json', 'openstack/files/defaults/rabbitmq/etc/rabbitmq/rabbitmq.conf', 'openstack/files/defaults/cinder/etc/sudoers.d/cinder', 'openstack/files/defaults/nova/etc/nova/nova_cell1.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-vcputopology.json', 'openstack/templates/ConfigMap-scripts.yaml', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/nova-console.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-libvirt-image.json', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/openvswitch-plugin.filters', 'openstack/files/scripts/horizon_manage.py', 'openstack/files/ansible/roles/config-rook/tasks/main.yaml', 'openstack/files/scripts/rabbit_definition_generator.py', 'openstack/files/defaults/neutron/etc/neutron/policy.json', 'openstack/templates/Deployment-openstack-layers/_horizon.tpl', 'openstack/templates/Role-rook.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/software-webservers.json', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-vmware.json', 'openstack/files/defaults/cinder/etc/cinder/cinder-api-uwsgi.ini', 'openstack/templates/DaemonSet-network-layers/_neutron_dhcp.tpl', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/linuxbridge-plugin.filters', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-randomgen.json', 'openstack/files/defaults/glance/etc/glance/schema-image.json', 'openstack/templates/DaemonSet-network-layers/_neutron_l3.tpl', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-aggr-disk-filter.json', 'openstack/files/ansible/roles/config-rook/templates/k8s-secret.yaml.j2', 'openstack/files/defaults/heat/etc/heat/templates/AWS_RDS_DBInstance.yaml', 'openstack/templates/Ingress-openstack.yaml', 'openstack/files/defaults/nova/etc/nova/nova-metadata-uwsgi.ini', 'openstack/templates/RoleBinding-openstack.yaml', 'openstack/templates/DaemonSet-openvswitch.yaml', 'docker/libvirt/Dockerfile', 'openstack/files/defaults/horizon/etc/horizon/horizon-chart-env-check.conf', 'openstack/templates/Deployment-openstack.yaml', 'openstack/templates/Issuer-ca.yaml', 'openstack/templates/Role-openstack.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/image-signature-verification.json', 'openstack/templates/DaemonSet-openvswitch-layers/_openvswitch_base_daemonset.tpl', 'openstack/files/ansible/roles/maintenance/tasks/main.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-aggr-num-instances.json', 'openstack/templates/DaemonSet-network.yaml', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/placement.conf', 'openstack/templates/Certificate-ca.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-host-capabilities.json', 'openstack/templates/Service-openstack.yaml', 'openstack/templates/DaemonSet-compute-layers/_compute_base_daemonset.tpl', 'openstack/templates/Deployment-openstack-layers/_cinder.tpl', 'openstack/templates/Deployment-openstack-layers/_memcached.tpl', 'openstack/files/ansible/roles/bootstrap-glance/tasks/image.yaml', 'openstack/files/defaults/glance/etc/glance/glance-cache.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-xenapi.json', 'openstack/templates/Deployment-openstack-layers/_neutron.tpl', 'openstack/templates/Deployment-openstack-layers/_keystone.tpl', 'openstack/templates/Issuer-openstack.yaml', 'openstack/templates/DaemonSet-openvswitch-layers/_neutron.tpl', 'openstack/files/defaults/ansible/etc/openstack/clouds.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-guest-memory-backing.json', 'openstack/files/defaults/heat/etc/heat/templates/AWS_CloudWatch_Alarm.yaml', 'openstack/files/ansible/roles/config-rook/templates/ceph.conf.j2', 'openstack/files/defaults/nova/etc/nova/nova.conf', 'openstack/templates/Deployment-openstack-layers/_rabbitmq.tpl', 'docker/ansible/Dockerfile', 'openstack/templates/Deployment-openstack-layers/_glance.tpl', 'openstack/files/defaults/nova/etc/sudoers.d/nova', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-instance-data.json', 'openstack/files/defaults/glance/etc/glance/metadefs/software-runtimes.json', 'openstack/files/ansible/roles/bootstrap-glance/defaults/main.yaml', 'openstack/files/defaults/mariadb/docker-entrypoint-initdb.d/openstack.sql', 'openstack/files/defaults/nova/etc/nova/rootwrap.d/compute.filters', 'openstack/templates/helpers/_labels.tpl']",197,0fdee14a94bbc77575f40ecd2cd91a974ecd7428,,"{{/* vim: set filetype=mustache: */}} {{/* Expand the name of the chart. */}} {{- define ""helpers.labels.name"" -}} {{- default .Chart.Name .Values.nameOverride | trunc 63 | trimSuffix ""-"" -}} {{- end -}} {{/* Create a default fully qualified app name. We truncate at 63 chars because some Kubernetes name fields are limited to this (by the DNS naming spec). */}} {{- define ""helpers.labels.fullname"" -}} {{- if .Values.fullnameOverride -}} {{- .Values.fullnameOverride | trunc 63 | trimSuffix ""-"" -}} {{- else -}} {{- $name := default .Chart.Name .Values.nameOverride -}} {{- if contains $name .Release.Name -}} {{- .Release.Name | trunc 63 | trimSuffix ""-"" -}} {{- else -}} {{- printf ""%s-%s"" .Release.Name $name | trunc 63 | trimSuffix ""-"" -}} {{- end -}} {{- end -}} {{- end -}} {{/* Create chart name and version as used by the chart label. */}} {{- define ""helpers.labels.chart"" -}} {{- printf ""%s-%s"" .Chart.Name .Chart.Version | replace ""+"" ""_"" | trunc 63 | trimSuffix ""-"" -}} {{- end -}} {{/* Labels to use on {deploy|sts}.spec.selector.matchLabels and svc.spec.selector */}} {{- define ""helpers.labels.matchLabels"" -}} app.kubernetes.io/name: {{ include ""helpers.labels.name"" . }} app.kubernetes.io/instance: {{ .Release.Name }} {{- end -}} {{/* Common labels */}} {{- define ""helpers.labels.labels"" -}} {{ include ""helpers.labels.matchLabels"" . }} app.kubernetes.io/managed-by: {{ .Release.Service }} helm.sh/chart: {{ include ""helpers.labels.chart"" . }} {{- end -}} ",,9312,0
openstack%2Fopenstack-helm~edge~I393eec4726a60d725ce5f1ee9de42a1b591d8f96,openstack/openstack-helm,edge,I393eec4726a60d725ce5f1ee9de42a1b591d8f96,WIP OpenStack-Helm Edge,ABANDONED,2021-03-12 20:16:45.000000000,2022-12-27 08:56:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-12 20:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3acae97848e843b3091bfa22b0d23f319fc3db22', 'message': 'WIP OpenStack-Helm Edge\n\nThis is a chart for openstack focused on edge and smaller (>50 node)\ndeployments.\n\nSigned-off-by: Pete Birley <pete@port.direct>\nChange-Id: I393eec4726a60d725ce5f1ee9de42a1b591d8f96\n'}, {'number': 2, 'created': '2021-03-12 21:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e8172c1ab75c0dc3bba7e93aaf6b44c2008db9a9', 'message': 'WIP OpenStack-Helm Edge\n\nThis is a chart for openstack focused on edge and smaller (<50 node)\ndeployments.\n\nSigned-off-by: Pete Birley <pete@port.direct>\nChange-Id: I393eec4726a60d725ce5f1ee9de42a1b591d8f96\n'}, {'number': 3, 'created': '2021-03-23 14:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8654a8f8e4ba9c17510bddde7e9850820d08d19a', 'message': 'WIP OpenStack-Helm Edge\n\nThis is a chart for openstack focused on edge and smaller (<50 node)\ndeployments.\n\nSigned-off-by: Pete Birley <pete@port.direct>\nChange-Id: I393eec4726a60d725ce5f1ee9de42a1b591d8f96\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2021-03-24 14:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/41b9e0232a9545b4c0d5577b203d166e283f4ea1', 'message': 'WIP OpenStack-Helm Edge\n\nThis is a chart for openstack focused on edge and smaller (<50 node)\ndeployments.\n\nChange-Id: I393eec4726a60d725ce5f1ee9de42a1b591d8f96\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2021-03-24 14:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aac104b88405e39bd7c015365f3c6637acad8c7a', 'message': 'WIP OpenStack-Helm Edge\n\nThis is a chart for openstack focused on edge and smaller (<50 node)\ndeployments.\n\nChange-Id: I393eec4726a60d725ce5f1ee9de42a1b591d8f96\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2021-03-24 18:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a6905a47569992133426d97838331f0e52af4eda', 'message': 'WIP OpenStack-Helm Edge\n\nThis is a chart for openstack focused on edge and smaller (<50 node)\ndeployments.\n\nChange-Id: I393eec4726a60d725ce5f1ee9de42a1b591d8f96\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2021-04-03 04:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5428bc08dcbeff190424cde7b30a66de5053109c', 'message': 'WIP OpenStack-Helm Edge\n\nThis is a chart for openstack focused on edge and smaller (<50 node)\ndeployments.\n\nChange-Id: I393eec4726a60d725ce5f1ee9de42a1b591d8f96\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 8, 'created': '2021-04-03 18:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1663e851275895eb72838176e89b8cf0d2a78920', 'message': 'WIP OpenStack-Helm Edge\n\nThis is a chart for openstack focused on edge and smaller (<50 node)\ndeployments.\n\nChange-Id: I393eec4726a60d725ce5f1ee9de42a1b591d8f96\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 9, 'created': '2021-04-03 19:06:12.000000000', 'files': ['openstack/templates/DaemonSet-compute.yaml', 'openstack/files/defaults/glance/etc/sudoers.d/glance', 'openstack/files/ansible/roles/bootstrap-nova/tasks/flavor.yaml', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.conf', 'openstack/templates/Deployment-openstack-layers/_mariadb.tpl', 'openstack/templates/DaemonSet-compute-layers/_nova_compute.tpl', 'openstack/files/defaults/cinder/etc/cinder/rootwrap.d/volume.filters', 'openstack/files/ansible/roles/config-rook/tasks/client-config.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/operating-system.json', 'openstack/files/ansible/roles/config-rook/templates/keyring.j2', 'docker/apache/Dockerfile', 'openstack/files/defaults/nova/etc/nova/rootwrap.conf', 'openstack/templates/RoleBinding-rook.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/cim-virtual-system-setting-data.json', 'openstack/files/defaults/neutron/etc/neutron/plugins/ml2/ml2_conf.ini', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-cpu-pinning.json', 'openstack/files/ansible/openstack.yaml', 'openstack/files/defaults/placement/etc/placement/placement.conf', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/heat.conf', 'openstack/files/defaults/glance/etc/glance/glance-api.conf', 'openstack/files/defaults/glance/etc/glance/rootwrap.conf', 'openstack/files/defaults/nova/etc/nova/nova-api-uwsgi.ini', 'openstack/files/defaults/nova/etc/nova/nova-cpu.conf', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/l3.filters', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-guest-shutdown.json', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-vmware-flavor.json', 'openstack/files/defaults/glance/etc/glance/metadefs/glance-common-image-props.json', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/keystone.conf', 'openstack/templates/helpers/_config.tpl', 'openstack/files/defaults/apache/etc/apache2/apache2.conf', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/dhcp.filters', 'openstack/files/ansible/roles/bootstrap-keystone/tasks/heat-domain.yaml', 'openstack/files/defaults/libvirt/etc/libvirt/secrets/rbd-cinder.xml', 'openstack/files/defaults/cinder/etc/cinder/resource_filters.json', 'openstack/values.yaml', 'openstack/templates/DaemonSet-compute-layers/_libvirt.tpl', 'openstack/files/defaults/glance/etc/glance/rootwrap.d/glance_cinder_store.filters', 'openstack/files/defaults/heat/etc/heat/heat-api-cfn-uwsgi.ini', 'openstack/files/defaults/glance/etc/glance/metadefs/cim-processor-allocation-setting-data.json', 'openstack/files/ansible/roles/bootstrap-nova/defaults/main.yaml', 'openstack/files/defaults/heat/etc/heat/heat.conf', 'openstack/templates/Deployment-openstack-layers/_nova.tpl', 'openstack/templates/DaemonSet-network-layers/_neutron_metadata.tpl', 'openstack/templates/Deployment-openstack-layers/_apache.tpl', 'openstack/files/defaults/glance/etc/glance/metadefs/storage-volume-type.json', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/debug.filters', 'openstack/files/scripts/libvirt_check.py', 'openstack/files/defaults/heat/etc/heat/api-paste.ini', 'docker/openvswitch/Dockerfile', 'openstack/files/defaults/glance/etc/glance/metadefs/cim-resource-allocation-setting-data.json', 'openstack/files/defaults/heat/etc/heat/environment.d/default.yaml', 'openstack/templates/DaemonSet-network-layers/_network_base_daemonset.tpl', 'openstack/templates/ConfigMap-ansible.yaml', 'docker/openstack/debian/sources.list', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-libvirt.json', 'openstack/files/defaults/neutron/etc/neutron/dhcp_agent.ini', 'openstack/templates/ServiceAccount-openstack.yaml', 'openstack/.helmignore', 'openstack/files/ansible/roles/bootstrap-keystone/tasks/main.yaml', 'openstack/files/ansible/roles/config-rook/defaults/main.yaml', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/ipset-firewall.filters', 'openstack/files/defaults/glance/etc/glance/metadefs/cim-storage-allocation-setting-data.json', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-hypervisor.json', 'openstack/files/defaults/ansible/etc/osh/vars.yaml', 'openstack/files/defaults/placement/etc/placement/placement-uwsgi.ini', 'openstack/files/scripts/db_check.py', 'openstack/templates/helpers/_pod.tpl', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/nova.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-vmware-quota-flavor.json', 'openstack/files/ansible/roles/bootstrap-keystone/tasks/domain-project-user.yaml', 'openstack/files/defaults/libvirt/etc/libvirt/qemu.conf', 'openstack/files/ansible/roles/bootstrap-glance/tasks/main.yaml', 'openstack/Chart.yaml', 'openstack/templates/Secret-config.yaml', 'openstack/files/ansible/roles/maintenance/tasks/nova-compute-cell-mapping.yaml', 'openstack/templates/helpers/_template.tpl', 'openstack/files/scripts/endpoint_check.py', 'openstack/templates/Deployment-openstack-layers/_ansible.tpl', 'openstack/files/defaults/neutron/etc/neutron/metadata_agent.ini', 'openstack/templates/PersistentVolumeClaims-openstack.yaml', 'openstack/files/ansible/roles/bootstrap-nova/tasks/main.yaml', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/privsep.filters', 'openstack/files/defaults/cinder/etc/cinder/rootwrap.conf', 'docker/openstack/build.sh', 'openstack/files/defaults/keystone/etc/apache2/apache2.conf', 'docker/openstack/debian/Dockerfile', 'openstack/templates/Deployment-openstack-layers/_placement.tpl', 'openstack/files/defaults/horizon/etc/openstack-dashboard/local_settings', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-watchdog.json', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/dibbler.filters', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-quota.json', 'openstack/files/scripts/config_extractor.py', 'openstack/files/defaults/mariadb/etc/mysql/conf.d/99-mariadb.cnf', 'openstack/templates/DaemonSet-openvswitch-layers/_openvswitch.tpl', 'openstack/files/defaults/keystone/etc/keystone/keystone.conf', 'openstack/files/defaults/glance/etc/glance/glance-image-import.conf', 'openstack/files/defaults/glance/etc/glance/glance-swift-store.conf', 'openstack/files/defaults/glance/etc/glance/glance-api-paste.ini', 'openstack/files/scripts/fast_start.sh', 'openstack/files/defaults/nova/etc/nova/api-paste.ini', 'openstack/templates/helpers/osh/_db.tpl', 'openstack/files/defaults/neutron/etc/sudoers.d/neutron', 'openstack/files/defaults/libvirt/etc/libvirt/libvirtd.conf', 'openstack/files/ansible/roles/bootstrap-cinder/tasks/volume-type.yaml', 'openstack/files/defaults/neutron/etc/neutron/api-paste.ini', 'openstack/files/defaults/neutron/etc/neutron/neutron.conf', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/neutron.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-aggr-iops-filter.json', 'openstack/files/defaults/neutron/etc/neutron/l3_agent.ini', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/cinder.conf', 'openstack/files/ansible/roles/bootstrap-cinder/tasks/main.yaml', 'openstack/files/ansible/roles/bootstrap-keystone/tasks/service-and-endpoints.yaml', 'openstack/templates/Deployment-openstack-layers/_heat.tpl', 'openstack/files/ansible/roles/bootstrap-keystone/defaults/main.yaml', 'openstack/files/defaults/heat/etc/heat/heat-api-uwsgi.ini', 'openstack/files/defaults/horizon/etc/apache2/apache2.conf', 'openstack/files/ansible/roles/bootstrap-cinder/defaults/main.yaml', 'openstack/files/ansible/debug.yaml', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/horizon.conf', 'openstack/templates/helpers/_files.tpl', 'openstack/files/defaults/cinder/etc/cinder/api-paste.ini', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/iptables-firewall.filters', 'openstack/templates/helpers/osh/_oslo.tpl', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/glance.conf', 'openstack/files/scripts/ovs_check.sh', 'openstack/files/defaults/cinder/etc/cinder/cinder.conf', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/ebtables.filters', 'openstack/templates/Deployment-openstack-layers/_base_deployment.tpl', 'openstack/templates/Certificate-openstack.yaml', 'openstack/templates/Secret-ceph.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/software-databases.json', 'openstack/files/defaults/rabbitmq/etc/rabbitmq/rabbitmq.conf', 'openstack/files/defaults/cinder/etc/sudoers.d/cinder', 'openstack/files/defaults/nova/etc/nova/nova_cell1.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-vcputopology.json', 'openstack/templates/ConfigMap-scripts.yaml', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/nova-console.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-libvirt-image.json', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/openvswitch-plugin.filters', 'openstack/files/scripts/horizon_manage.py', 'openstack/files/ansible/roles/config-rook/tasks/main.yaml', 'openstack/files/scripts/rabbit_definition_generator.py', 'openstack/files/defaults/neutron/etc/neutron/policy.json', 'openstack/templates/Deployment-openstack-layers/_horizon.tpl', 'openstack/templates/Role-rook.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/software-webservers.json', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-vmware.json', 'openstack/files/defaults/cinder/etc/cinder/cinder-api-uwsgi.ini', 'openstack/templates/helpers/osh/_transport.tpl', 'openstack/templates/DaemonSet-network-layers/_neutron_dhcp.tpl', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/linuxbridge-plugin.filters', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-randomgen.json', 'openstack/files/defaults/glance/etc/glance/schema-image.json', 'openstack/templates/DaemonSet-network-layers/_neutron_l3.tpl', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-aggr-disk-filter.json', 'openstack/files/ansible/roles/config-rook/templates/k8s-secret.yaml.j2', 'openstack/files/defaults/heat/etc/heat/templates/AWS_RDS_DBInstance.yaml', 'openstack/templates/Ingress-openstack.yaml', 'openstack/files/defaults/nova/etc/nova/nova-metadata-uwsgi.ini', 'openstack/templates/RoleBinding-openstack.yaml', 'openstack/templates/DaemonSet-openvswitch.yaml', 'docker/libvirt/Dockerfile', 'openstack/files/defaults/horizon/etc/horizon/horizon-chart-env-check.conf', 'openstack/templates/Deployment-openstack.yaml', 'openstack/templates/Issuer-ca.yaml', 'openstack/templates/Role-openstack.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/image-signature-verification.json', 'openstack/templates/DaemonSet-openvswitch-layers/_openvswitch_base_daemonset.tpl', 'openstack/files/ansible/roles/maintenance/tasks/main.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-aggr-num-instances.json', 'openstack/templates/DaemonSet-network.yaml', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/placement.conf', 'openstack/templates/Certificate-ca.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-host-capabilities.json', 'openstack/templates/Service-openstack.yaml', 'openstack/templates/DaemonSet-compute-layers/_compute_base_daemonset.tpl', 'openstack/templates/Deployment-openstack-layers/_cinder.tpl', 'openstack/templates/Deployment-openstack-layers/_memcached.tpl', 'openstack/files/ansible/roles/bootstrap-glance/tasks/image.yaml', 'openstack/files/defaults/glance/etc/glance/glance-cache.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-xenapi.json', 'openstack/templates/Deployment-openstack-layers/_neutron.tpl', 'openstack/templates/Deployment-openstack-layers/_keystone.tpl', 'openstack/templates/Issuer-openstack.yaml', 'openstack/templates/DaemonSet-openvswitch-layers/_neutron.tpl', 'openstack/files/defaults/ansible/etc/openstack/clouds.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-guest-memory-backing.json', 'openstack/files/defaults/heat/etc/heat/templates/AWS_CloudWatch_Alarm.yaml', 'openstack/files/ansible/roles/config-rook/templates/ceph.conf.j2', 'openstack/files/defaults/nova/etc/nova/nova.conf', 'openstack/templates/Deployment-openstack-layers/_rabbitmq.tpl', 'docker/ansible/Dockerfile', 'openstack/templates/Deployment-openstack-layers/_glance.tpl', 'openstack/files/defaults/nova/etc/sudoers.d/nova', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-instance-data.json', 'openstack/files/defaults/glance/etc/glance/metadefs/software-runtimes.json', 'openstack/files/ansible/roles/bootstrap-glance/defaults/main.yaml', 'openstack/files/defaults/mariadb/docker-entrypoint-initdb.d/openstack.sql', 'openstack/files/defaults/nova/etc/nova/rootwrap.d/compute.filters', 'openstack/templates/helpers/_labels.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1f37c245247e00fe8fd85b083d099684d2ad1e36', 'message': 'WIP OpenStack-Helm Edge\n\nThis is a chart for openstack focused on edge and smaller (<50 node)\ndeployments.\n\nChange-Id: I393eec4726a60d725ce5f1ee9de42a1b591d8f96\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",2,780322,1f37c245247e00fe8fd85b083d099684d2ad1e36,15,1,9,23928,,,0,"WIP OpenStack-Helm Edge

This is a chart for openstack focused on edge and smaller (<50 node)
deployments.

Change-Id: I393eec4726a60d725ce5f1ee9de42a1b591d8f96
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/22/780322/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/templates/DaemonSet-compute.yaml', 'openstack/files/defaults/glance/etc/sudoers.d/glance', 'openstack/files/ansible/roles/bootstrap-nova/tasks/flavor.yaml', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.conf', 'openstack/templates/Deployment-openstack-layers/_mariadb.tpl', 'openstack/templates/DaemonSet-compute-layers/_nova_compute.tpl', 'openstack/files/defaults/cinder/etc/cinder/rootwrap.d/volume.filters', 'openstack/files/ansible/roles/config-rook/tasks/client-config.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/operating-system.json', 'openstack/files/ansible/roles/config-rook/templates/keyring.j2', 'docker/apache/Dockerfile', 'openstack/files/defaults/nova/etc/nova/rootwrap.conf', 'openstack/templates/RoleBinding-rook.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/cim-virtual-system-setting-data.json', 'openstack/files/defaults/neutron/etc/neutron/plugins/ml2/ml2_conf.ini', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-cpu-pinning.json', 'openstack/files/ansible/openstack.yaml', 'openstack/files/defaults/placement/etc/placement/placement.conf', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/heat.conf', 'openstack/files/defaults/glance/etc/glance/glance-api.conf', 'openstack/files/defaults/glance/etc/glance/rootwrap.conf', 'openstack/files/defaults/nova/etc/nova/nova-api-uwsgi.ini', 'openstack/files/defaults/nova/etc/nova/nova-cpu.conf', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/l3.filters', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-guest-shutdown.json', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-vmware-flavor.json', 'openstack/files/defaults/glance/etc/glance/metadefs/glance-common-image-props.json', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/keystone.conf', 'openstack/templates/helpers/_config.tpl', 'openstack/files/defaults/apache/etc/apache2/apache2.conf', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/dhcp.filters', 'openstack/files/ansible/roles/bootstrap-keystone/tasks/heat-domain.yaml', 'openstack/files/defaults/libvirt/etc/libvirt/secrets/rbd-cinder.xml', 'openstack/files/defaults/cinder/etc/cinder/resource_filters.json', 'openstack/values.yaml', 'openstack/templates/DaemonSet-compute-layers/_libvirt.tpl', 'openstack/files/defaults/glance/etc/glance/rootwrap.d/glance_cinder_store.filters', 'openstack/files/defaults/heat/etc/heat/heat-api-cfn-uwsgi.ini', 'openstack/files/defaults/glance/etc/glance/metadefs/cim-processor-allocation-setting-data.json', 'openstack/files/ansible/roles/bootstrap-nova/defaults/main.yaml', 'openstack/files/defaults/heat/etc/heat/heat.conf', 'openstack/templates/Deployment-openstack-layers/_nova.tpl', 'openstack/templates/DaemonSet-network-layers/_neutron_metadata.tpl', 'openstack/templates/Deployment-openstack-layers/_apache.tpl', 'openstack/files/defaults/glance/etc/glance/metadefs/storage-volume-type.json', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/debug.filters', 'openstack/files/scripts/libvirt_check.py', 'openstack/files/defaults/heat/etc/heat/api-paste.ini', 'docker/openvswitch/Dockerfile', 'openstack/files/defaults/glance/etc/glance/metadefs/cim-resource-allocation-setting-data.json', 'openstack/files/defaults/heat/etc/heat/environment.d/default.yaml', 'openstack/templates/DaemonSet-network-layers/_network_base_daemonset.tpl', 'openstack/templates/ConfigMap-ansible.yaml', 'docker/openstack/debian/sources.list', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-libvirt.json', 'openstack/files/defaults/neutron/etc/neutron/dhcp_agent.ini', 'openstack/templates/ServiceAccount-openstack.yaml', 'openstack/.helmignore', 'openstack/files/ansible/roles/bootstrap-keystone/tasks/main.yaml', 'openstack/files/ansible/roles/config-rook/defaults/main.yaml', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/ipset-firewall.filters', 'openstack/files/defaults/glance/etc/glance/metadefs/cim-storage-allocation-setting-data.json', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-hypervisor.json', 'openstack/files/defaults/placement/etc/placement/placement-uwsgi.ini', 'openstack/files/scripts/db_check.py', 'openstack/templates/helpers/_pod.tpl', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/nova.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-vmware-quota-flavor.json', 'openstack/files/ansible/roles/bootstrap-keystone/tasks/domain-project-user.yaml', 'openstack/files/defaults/libvirt/etc/libvirt/qemu.conf', 'openstack/files/ansible/roles/bootstrap-glance/tasks/main.yaml', 'openstack/Chart.yaml', 'openstack/templates/Secret-config.yaml', 'openstack/files/ansible/roles/maintenance/tasks/nova-compute-cell-mapping.yaml', 'openstack/templates/helpers/_template.tpl', 'openstack/files/scripts/endpoint_check.py', 'openstack/templates/Deployment-openstack-layers/_ansible.tpl', 'openstack/files/defaults/neutron/etc/neutron/metadata_agent.ini', 'openstack/templates/PersistentVolumeClaims-openstack.yaml', 'openstack/files/ansible/roles/bootstrap-nova/tasks/main.yaml', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/privsep.filters', 'openstack/files/defaults/cinder/etc/cinder/rootwrap.conf', 'docker/openstack/build.sh', 'openstack/files/defaults/keystone/etc/apache2/apache2.conf', 'docker/openstack/debian/Dockerfile', 'openstack/templates/Deployment-openstack-layers/_placement.tpl', 'openstack/files/defaults/horizon/etc/openstack-dashboard/local_settings', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-watchdog.json', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/dibbler.filters', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-quota.json', 'openstack/files/scripts/config_extractor.py', 'openstack/files/defaults/mariadb/etc/mysql/conf.d/99-mariadb.cnf', 'openstack/templates/DaemonSet-openvswitch-layers/_openvswitch.tpl', 'openstack/files/defaults/keystone/etc/keystone/keystone.conf', 'openstack/files/defaults/glance/etc/glance/glance-image-import.conf', 'openstack/files/defaults/glance/etc/glance/glance-swift-store.conf', 'openstack/files/defaults/glance/etc/glance/glance-api-paste.ini', 'openstack/files/scripts/fast_start.sh', 'openstack/files/defaults/nova/etc/nova/api-paste.ini', 'openstack/files/defaults/neutron/etc/sudoers.d/neutron', 'openstack/files/defaults/libvirt/etc/libvirt/libvirtd.conf', 'openstack/files/ansible/roles/bootstrap-cinder/tasks/volume-type.yaml', 'openstack/files/defaults/neutron/etc/neutron/api-paste.ini', 'openstack/files/defaults/neutron/etc/neutron/neutron.conf', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/neutron.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-aggr-iops-filter.json', 'openstack/files/defaults/neutron/etc/neutron/l3_agent.ini', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/cinder.conf', 'openstack/files/ansible/roles/bootstrap-cinder/tasks/main.yaml', 'openstack/files/ansible/roles/bootstrap-keystone/tasks/service-and-endpoints.yaml', 'openstack/templates/Deployment-openstack-layers/_heat.tpl', 'openstack/files/ansible/roles/bootstrap-keystone/defaults/main.yaml', 'openstack/files/defaults/heat/etc/heat/heat-api-uwsgi.ini', 'openstack/files/defaults/horizon/etc/apache2/apache2.conf', 'openstack/files/ansible/roles/bootstrap-cinder/defaults/main.yaml', 'openstack/files/ansible/debug.yaml', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/horizon.conf', 'openstack/templates/helpers/_files.tpl', 'openstack/files/defaults/cinder/etc/cinder/api-paste.ini', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/iptables-firewall.filters', 'openstack/templates/helpers/osh/_oslo.tpl', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/glance.conf', 'openstack/files/scripts/ovs_check.sh', 'openstack/files/defaults/cinder/etc/cinder/cinder.conf', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/ebtables.filters', 'openstack/templates/Deployment-openstack-layers/_base_deployment.tpl', 'openstack/templates/Certificate-openstack.yaml', 'openstack/templates/Secret-ceph.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/software-databases.json', 'openstack/files/defaults/rabbitmq/etc/rabbitmq/rabbitmq.conf', 'openstack/files/defaults/cinder/etc/sudoers.d/cinder', 'openstack/files/defaults/nova/etc/nova/nova_cell1.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-vcputopology.json', 'openstack/templates/ConfigMap-scripts.yaml', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/nova-console.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-libvirt-image.json', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/openvswitch-plugin.filters', 'openstack/files/scripts/horizon_manage.py', 'openstack/files/ansible/roles/config-rook/tasks/main.yaml', 'openstack/files/scripts/rabbit_definition_generator.py', 'openstack/files/defaults/neutron/etc/neutron/policy.json', 'openstack/templates/Deployment-openstack-layers/_horizon.tpl', 'openstack/templates/Role-rook.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/software-webservers.json', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-vmware.json', 'openstack/files/defaults/cinder/etc/cinder/cinder-api-uwsgi.ini', 'openstack/templates/DaemonSet-network-layers/_neutron_dhcp.tpl', 'openstack/files/defaults/neutron/etc/neutron/rootwrap.d/linuxbridge-plugin.filters', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-randomgen.json', 'openstack/files/defaults/glance/etc/glance/schema-image.json', 'openstack/templates/DaemonSet-network-layers/_neutron_l3.tpl', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-aggr-disk-filter.json', 'openstack/files/ansible/roles/config-rook/templates/k8s-secret.yaml.j2', 'openstack/files/defaults/heat/etc/heat/templates/AWS_RDS_DBInstance.yaml', 'openstack/templates/Ingress-openstack.yaml', 'openstack/files/defaults/nova/etc/nova/nova-metadata-uwsgi.ini', 'openstack/templates/RoleBinding-openstack.yaml', 'openstack/templates/DaemonSet-openvswitch.yaml', 'docker/libvirt/Dockerfile', 'openstack/files/defaults/horizon/etc/horizon/horizon-chart-env-check.conf', 'openstack/templates/Deployment-openstack.yaml', 'openstack/templates/Issuer-ca.yaml', 'openstack/templates/Role-openstack.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/image-signature-verification.json', 'openstack/templates/DaemonSet-openvswitch-layers/_openvswitch_base_daemonset.tpl', 'openstack/files/ansible/roles/maintenance/tasks/main.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-aggr-num-instances.json', 'openstack/templates/DaemonSet-network.yaml', 'openstack/files/defaults/apache/etc/apache2/sites-enabled/placement.conf', 'openstack/templates/Certificate-ca.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-host-capabilities.json', 'openstack/templates/Service-openstack.yaml', 'openstack/templates/DaemonSet-compute-layers/_compute_base_daemonset.tpl', 'openstack/templates/Deployment-openstack-layers/_cinder.tpl', 'openstack/templates/Deployment-openstack-layers/_memcached.tpl', 'openstack/files/ansible/roles/bootstrap-glance/tasks/image.yaml', 'openstack/files/defaults/glance/etc/glance/glance-cache.conf', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-xenapi.json', 'openstack/templates/Deployment-openstack-layers/_neutron.tpl', 'openstack/templates/Deployment-openstack-layers/_keystone.tpl', 'openstack/templates/Issuer-openstack.yaml', 'openstack/templates/DaemonSet-openvswitch-layers/_neutron.tpl', 'openstack/files/defaults/ansible/etc/openstack/clouds.yaml', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-guest-memory-backing.json', 'openstack/files/defaults/heat/etc/heat/templates/AWS_CloudWatch_Alarm.yaml', 'openstack/files/ansible/roles/config-rook/templates/ceph.conf.j2', 'openstack/files/defaults/nova/etc/nova/nova.conf', 'openstack/templates/Deployment-openstack-layers/_rabbitmq.tpl', 'docker/ansible/Dockerfile', 'openstack/templates/Deployment-openstack-layers/_glance.tpl', 'openstack/files/defaults/nova/etc/sudoers.d/nova', 'openstack/files/defaults/glance/etc/glance/metadefs/compute-instance-data.json', 'openstack/files/defaults/glance/etc/glance/metadefs/software-runtimes.json', 'openstack/files/ansible/roles/bootstrap-glance/defaults/main.yaml', 'openstack/files/defaults/mariadb/docker-entrypoint-initdb.d/openstack.sql', 'openstack/files/defaults/nova/etc/nova/rootwrap.d/compute.filters', 'openstack/templates/helpers/_labels.tpl']",197,3acae97848e843b3091bfa22b0d23f319fc3db22,,"{{/* vim: set filetype=mustache: */}} {{/* Expand the name of the chart. */}} {{- define ""helpers.labels.name"" -}} {{- default .Chart.Name .Values.nameOverride | trunc 63 | trimSuffix ""-"" -}} {{- end -}} {{/* Create a default fully qualified app name. We truncate at 63 chars because some Kubernetes name fields are limited to this (by the DNS naming spec). */}} {{- define ""helpers.labels.fullname"" -}} {{- if .Values.fullnameOverride -}} {{- .Values.fullnameOverride | trunc 63 | trimSuffix ""-"" -}} {{- else -}} {{- $name := default .Chart.Name .Values.nameOverride -}} {{- if contains $name .Release.Name -}} {{- .Release.Name | trunc 63 | trimSuffix ""-"" -}} {{- else -}} {{- printf ""%s-%s"" .Release.Name $name | trunc 63 | trimSuffix ""-"" -}} {{- end -}} {{- end -}} {{- end -}} {{/* Create chart name and version as used by the chart label. */}} {{- define ""helpers.labels.chart"" -}} {{- printf ""%s-%s"" .Chart.Name .Chart.Version | replace ""+"" ""_"" | trunc 63 | trimSuffix ""-"" -}} {{- end -}} {{/* Labels to use on {deploy|sts}.spec.selector.matchLabels and svc.spec.selector */}} {{- define ""helpers.labels.matchLabels"" -}} app.kubernetes.io/name: {{ include ""helpers.labels.name"" . }} app.kubernetes.io/instance: {{ .Release.Name }} {{- end -}} {{/* Common labels */}} {{- define ""helpers.labels.labels"" -}} {{ include ""helpers.labels.matchLabels"" . }} app.kubernetes.io/managed-by: {{ .Release.Service }} helm.sh/chart: {{ include ""helpers.labels.chart"" . }} {{- end -}} ",,9322,0
openstack%2Fopenstack-helm-images~master~I3e965c6aeff7a8404e74c8f7ef70cc480fbd9761,openstack/openstack-helm-images,master,I3e965c6aeff7a8404e74c8f7ef70cc480fbd9761,Add monasca,ABANDONED,2021-07-12 18:37:52.000000000,2022-12-27 08:51:26.000000000,,"[{'_account_id': 1004}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 18:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/369925092bc0c60638e31cbf28b2e475f6ba7d31', 'message': 'Add monasca-agent\n\nChange-Id: I3e965c6aeff7a8404e74c8f7ef70cc480fbd9761\n'}, {'number': 2, 'created': '2021-07-15 15:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/2b893cd134647f57283a77fe2222e05eac3e25fe', 'message': 'Add monasca\n- Modify the monasca-api profiles based on loci changes\n- Add monasca-agent\n- Add monasca-persister\n- Add monasca-notification\n\nChange-Id: I3e965c6aeff7a8404e74c8f7ef70cc480fbd9761\n'}, {'number': 3, 'created': '2021-07-15 15:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a1056b192ed1d16c195b5cd06ecf8e57b826cc98', 'message': 'Add monasca\n\n- Modify the monasca-api profiles based on loci changes\n- Add monasca-agent\n- Add monasca-persister\n- Add monasca-notification\n\nDepends-On: https://review.opendev.org/c/openstack/loci/+/799049\n\nChange-Id: I3e965c6aeff7a8404e74c8f7ef70cc480fbd9761\n'}, {'number': 4, 'created': '2021-07-20 20:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e2ac0f77cc593670ed8095f2c6154b5aab4b7c6e', 'message': 'Add monasca\n\n- Modify the monasca-api profiles based on loci changes\n- Add monasca-agent\n- Add monasca-persister\n- Add monasca-notification\n\nDepends-On: https://review.opendev.org/c/openstack/loci/+/799049\n\nChange-Id: I3e965c6aeff7a8404e74c8f7ef70cc480fbd9761\n'}, {'number': 5, 'created': '2021-07-20 20:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9215064d1510cb67e43157d585159808d90a899f', 'message': 'Add monasca\n\n- Modify the monasca-api profiles based on loci changes\n- Add monasca-agent\n- Add monasca-persister\n- Add monasca-notification\n\nDepends-On: https://review.opendev.org/c/openstack/loci/+/799049\n\nChange-Id: I3e965c6aeff7a8404e74c8f7ef70cc480fbd9761\n'}, {'number': 6, 'created': '2021-08-20 14:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ea851f516cd95c9a2060fbf157523a6aa3dc5327', 'message': 'Add monasca\n\n- Modify the monasca-api profiles based on loci changes\n- Add monasca-agent\n- Add monasca-persister\n- Add monasca-notification\n\nDepends-On: https://review.opendev.org/c/openstack/loci/+/799049\n\nChange-Id: I3e965c6aeff7a8404e74c8f7ef70cc480fbd9761\n'}, {'number': 7, 'created': '2021-09-29 17:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/984b950c314cd18ae7664fb33bbd11973030a06b', 'message': 'Add monasca\n\n- Modify the monasca-api profiles based on loci changes\n- Add monasca-agent\n- Add monasca-persister\n- Add monasca-notification\n\nDepends-On: https://review.opendev.org/c/openstack/loci/+/799049\n\nChange-Id: I3e965c6aeff7a8404e74c8f7ef70cc480fbd9761\n'}, {'number': 8, 'created': '2021-11-01 09:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/96b2ec5abd89fa91fbdda6b2a2fe2244e5614e87', 'message': 'Add monasca\n\n- Modify the monasca-api profiles based on loci changes\n- Add monasca-agent\n- Add monasca-persister\n- Add monasca-notification\n\nDepends-On: https://review.opendev.org/c/openstack/loci/+/799049\n\nChange-Id: I3e965c6aeff7a8404e74c8f7ef70cc480fbd9761\n'}, {'number': 9, 'created': '2022-01-21 21:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ed9932d148df392da54baaa23439ae9bd04eb224', 'message': 'Add monasca\n\n- Modify the monasca-api profiles based on loci changes\n- Add monasca-agent\n- Add monasca-persister\n- Add monasca-notification\n\nDepends-On: https://review.opendev.org/c/openstack/loci/+/799049\n\nChange-Id: I3e965c6aeff7a8404e74c8f7ef70cc480fbd9761\n'}, {'number': 10, 'created': '2022-03-01 16:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/91078d0d98f6c2624c944d5accbdb4db6365f305', 'message': 'Add monasca\n\n- Modify the monasca-api profiles based on loci changes\n- Add monasca-agent\n- Add monasca-persister\n- Add monasca-notification\n\nDepends-On: https://review.opendev.org/c/openstack/loci/+/799049\n\nChange-Id: I3e965c6aeff7a8404e74c8f7ef70cc480fbd9761\n'}, {'number': 11, 'created': '2022-03-01 16:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d61aae6e7651f27c78ca69dfbb6e4d20f82833bc', 'message': 'Add monasca\n\n- Modify the monasca-api profiles based on loci changes\n- Add monasca-agent\n- Add monasca-persister\n- Add monasca-notification\n\nDepends-On: https://review.opendev.org/c/openstack/loci/+/799049\n\nChange-Id: I3e965c6aeff7a8404e74c8f7ef70cc480fbd9761\n'}, {'number': 12, 'created': '2022-03-03 15:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/65671a757afb9016c2d307f6aa2ec3fa9a8deaee', 'message': 'Add monasca\n\n- Modify the monasca-api profiles based on loci changes\n- Add monasca-agent\n- Add monasca-persister\n- Add monasca-notification\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/831799\n\nChange-Id: I3e965c6aeff7a8404e74c8f7ef70cc480fbd9761\n'}, {'number': 13, 'created': '2022-03-15 13:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/5b9cdf5c15d68dd847b0b84ffb202c19a5155caa', 'message': 'Add monasca\n\n- Modify the monasca-api profiles based on loci changes\n- Add monasca-agent\n- Add monasca-persister\n- Add monasca-notification\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/831799\n\nChange-Id: I3e965c6aeff7a8404e74c8f7ef70cc480fbd9761\n'}, {'number': 14, 'created': '2022-03-16 08:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a92c7c06c4455d0fc802311e48e4ee3f0f8621a0', 'message': 'Add monasca\n\n- Modify the monasca-api profiles based on loci changes\n- Add monasca-agent\n- Add monasca-persister\n- Add monasca-notification\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/831799\n\nChange-Id: I3e965c6aeff7a8404e74c8f7ef70cc480fbd9761\n'}, {'number': 15, 'created': '2022-04-27 16:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/577031732fd3e59bf7ae0287bb77fa3df501c121', 'message': 'Add monasca\n\n- Modify the monasca-api profiles based on loci changes\n- Add monasca-agent\n- Add monasca-persister\n- Add monasca-notification\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/831799\n\nChange-Id: I3e965c6aeff7a8404e74c8f7ef70cc480fbd9761\n'}, {'number': 16, 'created': '2022-11-10 17:04:14.000000000', 'files': ['zuul.d/openstack-loci.yaml', 'openstack/loci/build.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/619cbb796a34a7333841cea06bc137150216c356', 'message': 'Add monasca\n\n- Modify the monasca-api profiles based on loci changes\n- Add monasca-agent\n- Add monasca-persister\n- Add monasca-notification\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/831799\n\nChange-Id: I3e965c6aeff7a8404e74c8f7ef70cc480fbd9761\n'}]",0,800541,619cbb796a34a7333841cea06bc137150216c356,31,3,16,31746,,,0,"Add monasca

- Modify the monasca-api profiles based on loci changes
- Add monasca-agent
- Add monasca-persister
- Add monasca-notification

Depends-On: https://review.opendev.org/c/openstack/requirements/+/831799

Change-Id: I3e965c6aeff7a8404e74c8f7ef70cc480fbd9761
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/41/800541/13 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/openstack-loci.yaml', 'openstack/loci/build.sh']",2,369925092bc0c60638e31cbf28b2e475f6ba7d31,,"monasca_agent_profile=${monasca_agent_profile:-""'monasca agent'""}",,16,0
openstack%2Fopenstack-helm-infra~master~I0b47821aaa5ce9cdb52592bd264980dcfd999d9e,openstack/openstack-helm-infra,master,I0b47821aaa5ce9cdb52592bd264980dcfd999d9e,WIP - See if Jammy zuul nodes work,ABANDONED,2022-10-13 01:01:16.000000000,2022-12-27 08:51:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2022-10-13 01:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7a0140cbeec26fe47ee786e566249c9f60dde100', 'message': 'WIP - See if Jammy zuul nodes work\n\nChange-Id: I0b47821aaa5ce9cdb52592bd264980dcfd999d9e\n'}, {'number': 2, 'created': '2022-10-13 01:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/17d1942db2e621319bc9088edc447d44438fbaed', 'message': 'WIP - See if Jammy zuul nodes work\n\nChange-Id: I0b47821aaa5ce9cdb52592bd264980dcfd999d9e\n'}, {'number': 3, 'created': '2022-10-13 02:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3a0845e8747f42955e4e73c50adde413d721cc53', 'message': 'WIP - See if Jammy zuul nodes work\n\nChange-Id: I0b47821aaa5ce9cdb52592bd264980dcfd999d9e\n'}, {'number': 4, 'created': '2022-10-13 14:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c86654215d3ec063b509040ddecfcf2fca148bb2', 'message': 'WIP - See if Jammy zuul nodes work\n\nChange-Id: I0b47821aaa5ce9cdb52592bd264980dcfd999d9e\n'}, {'number': 5, 'created': '2022-11-10 17:37:37.000000000', 'files': ['tools/gate/deploy-k8s.sh', 'zuul.d/nodesets.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bf012d83197dbf0794688666ab72fcf07d0eada7', 'message': 'WIP - See if Jammy zuul nodes work\n\nChange-Id: I0b47821aaa5ce9cdb52592bd264980dcfd999d9e\n'}]",1,861125,bf012d83197dbf0794688666ab72fcf07d0eada7,12,2,5,21420,,,0,"WIP - See if Jammy zuul nodes work

Change-Id: I0b47821aaa5ce9cdb52592bd264980dcfd999d9e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/25/861125/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/nodesets.yaml'],1,7a0140cbeec26fe47ee786e566249c9f60dde100,jammy, label: ubuntu-jammy label: ubuntu-jammy label: ubuntu-jammy label: ubuntu-jammy, label: ubuntu-focal label: ubuntu-focal label: ubuntu-focal label: ubuntu-focal,4,4
openstack%2Ftacker-specs~master~I612b96bd993a1e5e52e142f84c57cc11de92cf68,openstack/tacker-specs,master,I612b96bd993a1e5e52e142f84c57cc11de92cf68,Add coordinateVNF script for coordination IF,MERGED,2022-12-15 07:56:36.000000000,2022-12-27 06:36:13.000000000,2022-12-27 06:35:12.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 34712}]","[{'number': 1, 'created': '2022-12-15 07:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/18016fb890225e7b574ade4ec86617499664a7cc', 'message': 'Add sample coordinateVNF script for coordination IF\n\nThis specification proposes a sample coordinateVNF script\nfor rolling update with external management systems\n(e.g., Operations Support Systems (OSS)/Element Manager (EM)).\nThis specification focuses on only VNF update\nby the ChangeCurrentVNFPackage API.\n\nChange-Id: I612b96bd993a1e5e52e142f84c57cc11de92cf68\nImplements: blueprint add-sample-coordinate-script\n'}, {'number': 2, 'created': '2022-12-20 06:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/6261542f39360e1ddb1bd36cf29dcd442ecdb482', 'message': 'Add sample coordinateVNF script for coordination IF\n\nThis specification proposes a sample coordinateVNF script\nfor rolling update with external management systems\n(e.g., Operations Support Systems (OSS)/Element Manager (EM)).\nThis specification focuses on only VNF update\nby the ChangeCurrentVNFPackage API.\n\nChange-Id: I612b96bd993a1e5e52e142f84c57cc11de92cf68\nImplements: blueprint add-sample-coordinate-script\n'}, {'number': 3, 'created': '2022-12-21 05:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/bfb77459e3822b2d1f09d259cbf2b15c05a477b5', 'message': 'Add sample coordinateVNF script for coordination IF\n\nThis specification proposes a sample coordinateVNF script\nfor rolling update with external management systems\n(e.g., Operations Support Systems (OSS)/Element Manager (EM)).\nThis specification focuses on only VNF update\nby the ChangeCurrentVNFPackage API.\n\nChange-Id: I612b96bd993a1e5e52e142f84c57cc11de92cf68\nImplements: blueprint add-sample-coordinate-script\n'}, {'number': 4, 'created': '2022-12-21 11:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/adbc1797c074068ce56f680ba4268433ae3f00e1', 'message': 'Add sample coordinateVNF script for coordination IF\n\nThis specification proposes a sample coordinateVNF script\nfor rolling update with external management systems\n(e.g., Operations Support Systems (OSS)/Element Manager (EM)).\nThis specification focuses on only VNF update\nby the ChangeCurrentVNFPackage API.\n\nChange-Id: I612b96bd993a1e5e52e142f84c57cc11de92cf68\nImplements: blueprint add-sample-coordinate-script\n'}, {'number': 5, 'created': '2022-12-23 01:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/db14f46f8295f30a3f155e2c0bcf36ee4af32413', 'message': 'Add coordinateVNF script for coordination IF\n\nThis specification proposes a sample coordinateVNF script\nfor rolling update with external management systems\n(e.g., Operations Support Systems (OSS)/Element Manager (EM)).\nThis specification focuses on only VNF update\nby the ChangeCurrentVNFPackage API.\n\nChange-Id: I612b96bd993a1e5e52e142f84c57cc11de92cf68\nImplements: blueprint add-sample-coordinate-script\n'}, {'number': 6, 'created': '2022-12-26 01:47:50.000000000', 'files': ['specs/2023.1/add-sample-coordination.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/0bd703fcfc8a6c23ba4bcb0f0f4807911846bbac', 'message': 'Add coordinateVNF script for coordination IF\n\nThis specification proposes a sample coordinateVNF script\nfor rolling update with external management systems\n(e.g., Operations Support Systems (OSS)/Element Manager (EM)).\nThis specification focuses on only VNF update\nby the ChangeCurrentVNFPackage API.\n\nChange-Id: I612b96bd993a1e5e52e142f84c57cc11de92cf68\nImplements: blueprint add-sample-coordinate-script\n'}]",69,867335,0bd703fcfc8a6c23ba4bcb0f0f4807911846bbac,34,7,6,32581,,,0,"Add coordinateVNF script for coordination IF

This specification proposes a sample coordinateVNF script
for rolling update with external management systems
(e.g., Operations Support Systems (OSS)/Element Manager (EM)).
This specification focuses on only VNF update
by the ChangeCurrentVNFPackage API.

Change-Id: I612b96bd993a1e5e52e142f84c57cc11de92cf68
Implements: blueprint add-sample-coordinate-script
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/35/867335/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/add-sample-coordination.rst'],1,18016fb890225e7b574ade4ec86617499664a7cc,bp/add-sample-coordinate-script,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================================================== Add sample coordinateVNF script for coordination IF =================================================== .. Blueprints: https://blueprints.launchpad.net/tacker/+spec/add-sample-coordinate-script This specification proposes a sample coordinateVNF script for rolling update with external management systems (e.g., Operations Support Systems (OSS)/Element Manager (EM)). This specification focuses on only VNF update by the ChangeCurrentVNFPackage API. Problem description =================== Tacker has supported rolling update by the ChangeCurrentVNFPackage API. In some telecom systems, rolling update scenarios may require coordination with external components (e.g., changing load balancer settings from external components for authorization reasons). To address such scenarios, ETSI NFV SOL002 v3.5.1 [#NFV-SOL002_351]_ defines the VNF LCM Coordination interface. However, the current Tacker does not support this API nor have other explicit functions for coordination with external components. Proposed change =============== This specification proposes implementing the client function of Coordination API in the Coordinate VNF script [#Coordinate-script]_, which can be customized by the user without affecting common implementation. Formally, coordination action and execution timing during LCM are specified by VNFD according to ETSI NFV SOL001 [#NFV-SOL001_351]_. However, there are few products that act as the Coordination API server because this interface is not yet mature. Therefore, formal support of this API is excessive now and Tacker should focus on rolling update which has specific requirements. For the same reason, this specification targets only the ChangeCurrentVNFPackage API for VNF. The support of other APIs and CNF is future work. Support VNF LCM Coordination interface -------------------------------------- The following shows the VNF LCM Coordination interface defined in SOL002 v3.5.1. VNFM acts as a client and the external component acts as a server. * | **Name**: Coordinate an LCM operation | **Description**: Request a VNF LCM Coordination | **Method type**: POST | **URL for the resource**: {apiRoot}/lcmcoord/{apiMajorVersion}/coordinations | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - LcmCoordRequest - 1 - Parameters for the coordination action. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name - Data type - Cardinality - Description * - vnfInstanceId - Identifier - 1 - Identifier of the VNF instance which this coordination request is related to. * - vnfLcmOpOccId - Identifier - 1 - The identifier of the VNF lifecycle management operation occurrence related to the coordination. * - lcmOperationType - LcmOperationForCoordType - 1 - The type of the LCM operation with which coordination is requested. * - coordinationActionName - IdentifierInVnfd - 1 - Indicates the LCM coordination action. * - inputParams - KeyValuePairs - 0..1 - Additional parameters passed as input to the coordination action. * - _links - Structure - 1 - Links to resources related to this request. * - >vnfLcmOpOcc - Link - 1 - Related lifecycle management operation occurrence. * - >vnfInstance - Link - 1 - Related VNF instance. | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - LcmCoord - 1 - Success: 201 - Shall be returned to indicate a finished coordination action when the API producer has chosen the synchronous mode, which may be selected for coordination actions that finish within the time frame in which an HTTP response is expected. * - n/a - - Success: 202 - Shall be returned when the API producer has chosen the asynchronous mode and the request has been accepted for processing. * - ProblemDetails - 1 - Error: 403 - The starting of the coordination operation has been rejected. No ""individual coordination action"" resource shall be created. * - ProblemDetails - 1 - Error: 409 - The operation cannot be executed currently, due to a conflict with the state of the ""Coordinations"" resource. * - ProblemDetails - 1 - Error: 503 - The API producer has chosen the synchronous mode and cannot perform the requested coordination currently, but expects to be able to perform it sometime in the future. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx, 5xx - Any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name - Data type - Cardinality - Description * - id - Identifier - 1 - Identifier of this coordination result * - coordinationResult - LcmCoordResultType - 1 - The result of executing the coordination action which also implies the action to be performed by the VNFM as the result of this coordination. * - vnfInstanceId - Identifier - 1 - Identifier of the VNF instance which this coordination request is related to. * - vnfLcmOpOccId - Identifier - 1 - The identifier of the VNF lifecycle management operation occurrence related to the coordination. * - lcmOperationType - LcmOperationForCoordType - 1 - The type of the LCM operation with which coordination is requested. * - coordinationActionName - String - 1 - Indicates the LCM coordination action. * - outputParams - KeyValuePairs - 0..1 - Additional parameters returned by the coordination action. * - warnings - String - 0..N - Warning messages that were generated while the operation was executing. * - error - ProblemDetails - 0..1 - Error information related to the coordination. * - _links - Structure - 1 - Links to resources related to this resource. * - >self - Link - 1 - URI of this resource * - >vnfLcmOpOcc - Link - 1 - Related lifecycle management operation occurrence. * - >vnfInstance - Link - 1 - Related VNF instance * | **Name**: Show Individual coordination action | **Description**: Query individual Coordination action | **Method type**: GET | **URL for the resource**: {apiRoot}/lcmcoord/{apiMajorVersion}/coordinations/{coordinationId} | **Request**: | **Resource URI variables for this resource**: .. list-table:: :header-rows: 1 :widths: 2 ,2 * - Name - Description * - vnfInstanceId - Identifier of the LCM Coordination. | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - LcmCoord - 1 - Success: 200 - Shall be returned when the coordination is finished and the coordination result has been read successfully * - n/a - - Success: 202 - Shall be returned when the management operation with which coordination is requested is still ongoing or in the process of being cancelled, i.e. no coordination result is available yet. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx, 5xx - Any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name - Data type - Cardinality - Description * - id - Identifier - 1 - Identifier of this coordination result * - coordinationResult - LcmCoordResultType - 1 - The result of executing the coordination action which also implies the action to be performed by the VNFM as the result of this coordination. * - vnfInstanceId - Identifier - 1 - Identifier of the VNF instance which this coordination request is related to. * - vnfLcmOpOccId - Identifier - 1 - The identifier of the VNF lifecycle management operation occurrence related to the coordination. * - lcmOperationType - LcmOperationForCoordType - 1 - The type of the LCM operation with which coordination is requested. * - coordinationActionName - String - 1 - Indicates the LCM coordination action. * - outputParams - KeyValuePairs - 0..1 - Additional parameters returned by the coordination action. * - warnings - String - 0..N - Warning messages that were generated while the operation was executing. * - error - ProblemDetails - 0..1 - Error information related to the coordination. * - _links - Structure - 1 - Links to resources related to this resource. * - >self - Link - 1 - URI of this resource * - >vnfLcmOpOcc - Link - 1 - Related lifecycle management operation occurrence. * - >vnfInstance - Link - 1 - Related VNF instance Flow of VNF update ------------------ The following diagram shows the rolling update using coordinateVNF script. .. code-block:: +---------+ | VNFD | | | +----+----+ | (Script is included v +-------------------+ +--------------------+ in the package) +----------+ | Change current | +------------>| CoordinateVNF +--------------------->| | | VNF Package | | | script | | CSAR | | Request with | | +---------+ | | | | Additional Params | | | +-------+------------+ +-----+----+ +--+----------------+ | | | ^ | | 1. Change current VNF Package | | | | +-----v----------v------------------------------+ | | 8. Coordination| | Coordination | +-----------------------+ VNFM | | | request | | Result | | Tacker-server | | | | | | | +--+--------------------+ | | | v | | | 2. Change current VNF Package request | | | +------------+-------+ | v | | | | | | +-----------------------------------------+ | | | | EM | | | | | | | | | | | +-------------------+ | | | | +--------------------+ | | | VnfLcmDriver | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | 7. Coordinate | | +-+-----------------+ | | | | resource | | | 3. change_vnfpkg_process | | | | +--------------------+ | | v | | | | | | 4. Get stack resource| | +-------------------+ | | | | | +--------------+ | to update | | | InfraDriver | 9. Repeat steps | | | | | | Resource |<-+----------------------+--+---+ | 5 through 8 | | | +---------+->| | | 5. Update VNFC | | | | for each VNFC| | | | | |<-+----------------------+--+---+ +--------+ | | | | +--------------+ | | | | | | | | | | VNF | | | | |<-------+ | | | +--------------------+ | | | | | | | 6. Execute CoordinateVNF script | | | | | | +---------------------------------------------------------+--+---+ | | | | | +-------------------+ | | | | Tacker-conductor | | +--------------------+ | +-----------------------------------------+ | | Hardware Resources | | | +--------------------+ +-----------------------------------------------+ Sequence for Rolling update operation .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""VnfLcmDriver"" ""InfraDriver"" ""CoordinateVNF script"" ""VIM (OpenStack)"" ""VNF"" ""EM"" ""Client"" -> ""Tacker-server"" [label = ""1. POST /vnflcm/v2/vnf_instances/{vnfInstanceId}/change_vnfpkg""]; ""Client"" <-- ""Tacker-server"" [label = ""Response 202 Accepted""]; ""Tacker-server"" ->> ""Tacker-conductor"" [label = ""2. ChangeCurrentVNFPackage""]; ""Tacker-conductor"" -> ""VnfLcmDriver"" [label = ""change_vnfpkg""]; ""VnfLcmDriver"" -> ""InfraDriver"" [label = ""3. change_vnfpkg_process""]; ""InfraDriver"" -> ""VIM (OpenStack)"" [label = ""4. Get stack resource to update""]; ""InfraDriver"" <-- ""VIM (OpenStack)"" [label = """"]; ""InfraDriver"" -> ""VIM (OpenStack)"" [label = ""5. update_stack""]; ""InfraDriver"" <-- ""VIM (OpenStack)"" [label = """"]; ""InfraDriver"" -> ""CoordinateVNF script"" [label = ""6. CoordinateVNF""]; ""CoordinateVNF script"" -> ""VNF"" [label = ""7. Coordinate resource""]; ""CoordinateVNF script"" <-- ""VNF"" [label = """"]; ""CoordinateVNF script"" -> ""EM"" [label = ""8. Coordination request""]; ""CoordinateVNF script"" <-- ""EM"" [label = ""Coordination result""]; ""InfraDriver"" <-- ""CoordinateVNF script"" [label = """"]; ""InfraDriver"" -> ""InfraDriver"" [label = ""9. Repeat steps 5 through 8 for each VNFC""]; ""VnfLcmDriver"" <-- ""InfraDriver"" [label = """"]; ""Tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; } #. The Client sends a ChangeCurrentVNFPackage request to the ""Individual VNF instance"" resource. #. Tacker-server calls Tacker-conductor, then Tacker-conductor fetches an on-boarded VNF package and calls VnfLcmDriver. #. VnfLcmDriver sends a request to the InfraDriver to change vnfpkg process. #. InfraDriver sends a request to the VIM to get stack resource to update. #. InfraDriver sends a request to the VIM to update stack. #. InfraDriver runs CoordinateVNF script. #. CoordinateVNF script sends a request to the VNF to Coordinate VNF. #. CoordinateVNF script sends a Coordination request to the external component. The endpoint URL of the external component is obtained from the ChangeCurrentVNFPackage request. The target VNFC obtained from Tacker is specified as inputParams in the LcmCoordRequest. (e.g. it is specified by vnfcInstanceId). The process after receiving Coordination response diverges depending on whether the Synchronous or Asynchronous mode. See note below. #. Repeat steps 5 through 8 for each VNFC. .. note:: | According to SOL002, the Coordination interface supports Synchronous mode and Asynchronous modes. API server decides the mode, and API client can know it by the API response. Thus, since VNFM cannot control the mode, Tacker will support both modes. The following shows the Coordination processes of VNFM. | | Synchronous mode: The EM returns to the Tacker a ""201 Created"" response with a ""LcmCoord"" data structure in the body or a ""503 Service unavailable"" response with a ""ProblemDetails"". Tacker continues the process on the basis of the result. | | Asynchronous mode: The EM returns to the Tacker a ""202 Accepted"" response with an empty body and a ""Location"" HTTP header that indicates the URI of the ""Individual coordination action"" resource. Tacker waits for a certain time interval (as indicated in the Retry-After header of the previous 202 response if signalled, or determined by other means otherwise) before the next iteration of the loop. Tacker polls the status of the coordination by sending a GET request to the EM, using the URI that was returned in the ""Location"" header. After obtaining the coordination result, Tacker continues the process on the basis of it. Data model impact ----------------- None REST API impact --------------- To enable users to specify the information of the external coordination server, ``coordination_server_param`` in the ChangeCurrentVnfPkgRequest will be supported. This parameter must be set when using the coordinateVNF script which calls Coordination API. * ChangeCurrentVnfPkgRequest .. list-table:: :widths: 15 10 30 30 :header-rows: 1 * - Attribute name - Data type - Cardinality - Description * - extVirtualLinks - ExtVirtualLinkData - 0..N - Information about external VLs to connect the VNF to. * - extManagedVirtualLinks - ExtManagedVirtualLinkData - 0..N - Information about internal VLs that are managed by the NFVO. * - additionalParams - KeyValuePairs - 0..1 - Additional parameters passed by the EM as input to the process. * - vimConnectionInfo - map (VimConnectionInfo) - 0..N - ""vimConnectionInfo"" attribute array in ""VnfInstance"". * - extensions - KeyValuePairs - 0..1 - ""extensions"" attribute in ""VnfInstance"". * - vnfConfigurableProperties - KeyValuePairs - 0..1 - ""vnfConfigurableProperties"" attribute in ""VnfInstance"". User can set following parameter in additionalParams. * additionalParams .. list-table:: :widths: 15 10 30 :header-rows: 1 * - Attribute name - Cardinality - Parameter description * - upgrade_type - 1 - Type of file update operation method. Specify Blue-Green or Rolling update. * - lcm-operation-coordinate-old-vnf - 1 - The file path of the script that simulates the behavior of CoordinateVNF for old VNF. * - lcm-operation-coordinate-new-vnf - 1 - The file path of the script that simulates the behavior of CoordinateVNF for new VNF. * - vdu_params - 0..N - VDU information of target VDU to update. Specifying a vdu_params is required for OpenStack VIM and not required for Kubernetes VIM. * - > vdu_id - 1 - VDU name of target VDU to update. * - > old_vnfc_param - 0..1 - Old VNFC connection information. Required for ssh connection in CoordinateVNF operation for application configuration to VNFC. * - >> cp-name - 1 - Connection point name of old VNFC to update. * - >> username - 1 - User name of old VNFC to update. * - >> password - 1 - Password of old VNFC to update. * - >> coordination_server_param - 0..1 - Information to access coordination server. It is required when using coordinateVNF script which calling Coordination API. * - \>>> endpoint - 1 - Endpoint URL of coordination server. * - \>>> accessInfo - 1 - Profile required for access coordination server (e.g. User name and password). * - > new_vnfc_param - 0..1 - New VNFC connection information. Required for ssh connection in CoordinateVNF operation for application configuration to VNFC. * - >> cp-name - 1 - Connection point name of new VNFC to update. * - >> username - 1 - User name of new VNFC to update. * - >> password - 1 - Password of new VNFC to update. * - >> coordination_server_param - 0..1 - Information to access coordination server. It is required when using coordinateVNF script which calling Coordination API. * - \>>> endpoint - 1 - Endpoint URL of coordination server. * - \>>> accessInfo - 1 - Profile required for access coordination server (e.g. User name and password). * - external_lb_param - 0..1 - Load balancer information that requires configuration changes. Required only for the Blue-Green deployment process of OpenStack VIM. * - > ip_address - 1 - IP address of load balancer server. * - > username - 1 - User name of load balancer server. * - > password - 1 - Password of load balancer server. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Hirofumi Noguchi <hirofumi.noguchi.rs@hco.ntt.co.jp> Work Items ---------- * Add new sample VNF packages containing new coordinate VNF scripts. * Add new functional tests. * Add new utility functions to act as a coordination client. Dependencies ============ None Testing ======== Functional test cases will be added for rolling update with the new sample coordinateVNF script. Documentation Impact ==================== New utility functions to act as a coordination client will be described in user manual. References ========== .. [#NFV-SOL002_351] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/002/03.05.01_60/gs_NFV-SOL002v030501p.pdf .. [#Coordinate-script] https://specs.openstack.org/openstack/tacker-specs/specs/yoga/upgrade-vnf-package.html .. [#NFV-SOL001_351] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/001/03.05.01_60/gs_NFV-SOL001v030501p.pdf .. [#NFV-SOL013_341] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/013/03.04.01_60/gs_NFV-SOL013v030401p.pdf ",,697,0
openstack%2Fos-brick~master~Iba31b709ef0009891d0098600387e3fe6b1af26d,openstack/os-brick,master,Iba31b709ef0009891d0098600387e3fe6b1af26d,nit: correct spelling of Rescanning in debug log,MERGED,2022-09-24 18:48:34.000000000,2022-12-27 06:16:50.000000000,2022-11-18 15:44:14.000000000,"[{'_account_id': 4523}, {'_account_id': 7634}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-24 18:48:34.000000000', 'files': ['os_brick/initiator/linuxfc.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/22830d7077f75289513b52853478b1669c9ca562', 'message': 'nit: correct spelling of Rescanning in debug log\n\nChange-Id: Iba31b709ef0009891d0098600387e3fe6b1af26d\n'}]",5,859195,22830d7077f75289513b52853478b1669c9ca562,20,4,1,27615,,,0,"nit: correct spelling of Rescanning in debug log

Change-Id: Iba31b709ef0009891d0098600387e3fe6b1af26d
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/95/859195/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/linuxfc.py'],1,22830d7077f75289513b52853478b1669c9ca562,, LOG.debug('Rescanning HBAs %(hbas)s with connection properties ', LOG.debug('Rescaning HBAs %(hbas)s with connection properties ',1,1
openstack%2Fzun~master~I41f2cd5e5bcfa3192a761d4fb72663ff4b27b78e,openstack/zun,master,I41f2cd5e5bcfa3192a761d4fb72663ff4b27b78e,Fix circular import,MERGED,2022-12-24 08:53:55.000000000,2022-12-27 03:21:26.000000000,2022-12-27 03:20:16.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-24 08:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/bf31307b144367b206a564fbf5468f87a13af1f7', 'message': 'Fix circular import\n\nCloses-Bug: #2000386\nChange-Id: I41f2cd5e5bcfa3192a761d4fb72663ff4b27b78e\n'}, {'number': 2, 'created': '2022-12-26 13:24:44.000000000', 'files': ['zun/common/context.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/f4e8f995b55e7cdbfdd46eabfa2af62dd5b769a0', 'message': 'Fix circular import\n\nCloses-Bug: #2000386\nChange-Id: I41f2cd5e5bcfa3192a761d4fb72663ff4b27b78e\n'}]",3,868513,f4e8f995b55e7cdbfdd46eabfa2af62dd5b769a0,16,2,2,11536,,,0,"Fix circular import

Closes-Bug: #2000386
Change-Id: I41f2cd5e5bcfa3192a761d4fb72663ff4b27b78e
",git fetch https://review.opendev.org/openstack/zun refs/changes/13/868513/2 && git format-patch -1 --stdout FETCH_HEAD,['zun/common/context.py'],1,bf31307b144367b206a564fbf5468f87a13af1f7,," 'timestamp': self.timestamp.strftime( ""%Y-%m-%dT%H:%M:%S.%f"") if",from zun.common import utils 'timestamp': utils.strtime(self.timestamp) if,2,2
openstack%2Fcinder~master~Ia3218a9b13f0acb4694bd151704854f4b781b503,openstack/cinder,master,Ia3218a9b13f0acb4694bd151704854f4b781b503,Make openstacksdk-functional-devstack non-voting,ABANDONED,2022-12-26 10:46:19.000000000,2022-12-27 03:02:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-26 10:46:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e944b79b230ebb5c9223e03d7f9cf329b816f989', 'message': ""Make openstacksdk-functional-devstack non-voting\n\nopenstacksdk-functional-devstack job is failing[1] due to new tox 4\nenforcement. There is a fix up[2] but it's also failing gate due to\nanother job issue.\nUntil everything is resolved on the openstacksdk side, we will make\nthe openstacksdk-functional-devstack job non-voting to unblock our\ngate.\n\n[1] https://zuul.opendev.org/t/openstack/build/29c0eb15abd144a8a4f167e70fe61530\n[2] https://review.opendev.org/c/openstack/openstacksdk/+/867827\n\nChange-Id: Ia3218a9b13f0acb4694bd151704854f4b781b503\n""}]",0,868596,e944b79b230ebb5c9223e03d7f9cf329b816f989,12,1,1,27615,,,0,"Make openstacksdk-functional-devstack non-voting

openstacksdk-functional-devstack job is failing[1] due to new tox 4
enforcement. There is a fix up[2] but it's also failing gate due to
another job issue.
Until everything is resolved on the openstacksdk side, we will make
the openstacksdk-functional-devstack job non-voting to unblock our
gate.

[1] https://zuul.opendev.org/t/openstack/build/29c0eb15abd144a8a4f167e70fe61530
[2] https://review.opendev.org/c/openstack/openstacksdk/+/867827

Change-Id: Ia3218a9b13f0acb4694bd151704854f4b781b503
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/868596/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e944b79b230ebb5c9223e03d7f9cf329b816f989,, voting: false voting: false,,2,0
openstack%2Fstackviz~master~Idfa3c5aab012cf8381e001d4c3018b92b76f89af,openstack/stackviz,master,Idfa3c5aab012cf8381e001d4c3018b92b76f89af,Fix tox4 error,MERGED,2022-12-25 03:21:53.000000000,2022-12-27 02:14:34.000000000,2022-12-27 02:06:46.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-25 03:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/fdac7375384f014d1e106a35b2c7401b832e8c4c', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One is passenv where we need\nto pass each value in newline otherwise, it fails with\nerror:\n\n failed with pass_env values cannot contain whitespace,\n use comma to have multiple values in a single line,\n invalid values found.....\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: Idfa3c5aab012cf8381e001d4c3018b92b76f89af\n'}, {'number': 2, 'created': '2022-12-26 00:22:54.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/7befee2b3cf80c7ba61373d311a70199ea9123f8', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One is passenv where we need\nto pass each value in newline otherwise, it fails with\nerror:\n\n failed with pass_env values cannot contain whitespace,\n use comma to have multiple values in a single line,\n invalid values found.....\n\nFixing tox.ini for tox4 changes.\n\nAlso, remove the stable/rocky|stein job as they are\nin EM state and jobs are failing.\n\nChange-Id: Idfa3c5aab012cf8381e001d4c3018b92b76f89af\n'}]",1,868529,7befee2b3cf80c7ba61373d311a70199ea9123f8,10,2,2,8556,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One is passenv where we need
to pass each value in newline otherwise, it fails with
error:

 failed with pass_env values cannot contain whitespace,
 use comma to have multiple values in a single line,
 invalid values found.....

Fixing tox.ini for tox4 changes.

Also, remove the stable/rocky|stein job as they are
in EM state and jobs are failing.

Change-Id: Idfa3c5aab012cf8381e001d4c3018b92b76f89af
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/29/868529/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fdac7375384f014d1e106a35b2c7401b832e8c4c,tox4,passenv = OS_STDOUT_CAPTURE OS_STDERR_CAPTURE OS_TEST_TIMEOUT OS_TEST_LOCK_PATH http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY ZUUL_CACHE_DIR REQUIREMENTS_PIP_LOCATION,passenv = OS_STDOUT_CAPTURE OS_STDERR_CAPTURE OS_TEST_TIMEOUT OS_TEST_LOCK_PATH http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY ZUUL_CACHE_DIR REQUIREMENTS_PIP_LOCATION,13,1
openstack%2Fmasakari-monitors~stable%2Fzed~I929afe0d13a64caac5abf15a16d56fdb713537e5,openstack/masakari-monitors,stable/zed,I929afe0d13a64caac5abf15a16d56fdb713537e5,Fix tox4 issues,MERGED,2022-12-26 13:29:59.000000000,2022-12-26 20:56:52.000000000,2022-12-26 20:55:58.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-26 13:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/831533321cd395f16cf81de2e24b6cb8e30f3d81', 'message': 'Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, some environments require it (for setup metadata).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: I929afe0d13a64caac5abf15a16d56fdb713537e5\n(cherry picked from commit f8f5bc103dd8f30f64c25359d23f7bbc6d096648)\n'}, {'number': 2, 'created': '2022-12-26 13:30:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/475ec0447a21f7d54279fe3056d69135be6fad4b', 'message': 'Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, some environments require it (for setup metadata).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: I929afe0d13a64caac5abf15a16d56fdb713537e5\n(cherry picked from commit f8f5bc103dd8f30f64c25359d23f7bbc6d096648)\n'}]",1,868553,475ec0447a21f7d54279fe3056d69135be6fad4b,11,2,2,30491,,,0,"Fix tox4 issues

New tox version 4 has changed interpretation of tox.ini

The passenv parsing requires the list to be comma-separated.
Since the names are case-insensitive, duplicates are removed.

skipsdist is now a synonym of no_package and avoids the
installation of the package in all cases.
However, some environments require it (for setup metadata).

Fix allowlist_externals where appropriate.

Change-Id: I929afe0d13a64caac5abf15a16d56fdb713537e5
(cherry picked from commit f8f5bc103dd8f30f64c25359d23f7bbc6d096648)
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/53/868553/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,831533321cd395f16cf81de2e24b6cb8e30f3d81,fix-tox4-stable/zed,"envlist = pep8,py3passenv = HTTP_PROXY, HTTPS_PROXY, NO_PROXY, OS_DEBUG, GENERATE_HASHES<<<<<<< HEAD (684d3c [CI] Move queue setting to project level)======= -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt >>>>>>> CHANGE (f8f5bc Fix tox4 issues)allowlist_externals =skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt allowlist_externals = rmskip_install = True","envlist = pep8,py36,py39 skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_DEBUG GENERATE_HASHESwhitelist_externals =deps = {[testenv:docs]deps}# Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above).usedevelop = False",15,12
openstack%2Fmasakari-monitors~stable%2Fxena~I929afe0d13a64caac5abf15a16d56fdb713537e5,openstack/masakari-monitors,stable/xena,I929afe0d13a64caac5abf15a16d56fdb713537e5,Fix tox4 issues,MERGED,2022-12-26 13:32:01.000000000,2022-12-26 20:56:30.000000000,2022-12-26 20:55:33.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-26 13:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/4b05eaed40df98952f482af44c4e68e86bbd756d', 'message': 'Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, some environments require it (for setup metadata).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: I929afe0d13a64caac5abf15a16d56fdb713537e5\n(cherry picked from commit f8f5bc103dd8f30f64c25359d23f7bbc6d096648)\n'}, {'number': 2, 'created': '2022-12-26 13:32:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/63b344692cbc46620a7b04a78baf49dab1e68e20', 'message': 'Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, some environments require it (for setup metadata).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: I929afe0d13a64caac5abf15a16d56fdb713537e5\n(cherry picked from commit f8f5bc103dd8f30f64c25359d23f7bbc6d096648)\n'}]",1,868555,63b344692cbc46620a7b04a78baf49dab1e68e20,11,2,2,30491,,,0,"Fix tox4 issues

New tox version 4 has changed interpretation of tox.ini

The passenv parsing requires the list to be comma-separated.
Since the names are case-insensitive, duplicates are removed.

skipsdist is now a synonym of no_package and avoids the
installation of the package in all cases.
However, some environments require it (for setup metadata).

Fix allowlist_externals where appropriate.

Change-Id: I929afe0d13a64caac5abf15a16d56fdb713537e5
(cherry picked from commit f8f5bc103dd8f30f64c25359d23f7bbc6d096648)
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/55/868555/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4b05eaed40df98952f482af44c4e68e86bbd756d,fix-tox4-stable/zed-stable/yoga-stable/xena,"<<<<<<< HEAD (98a5b7 [CI] Move queue setting to project level)======= envlist = pep8,py3 >>>>>>> CHANGE (af3c05 Fix tox4 issues)passenv = HTTP_PROXY, HTTPS_PROXY, NO_PROXY, OS_DEBUG, GENERATE_HASHES<<<<<<< HEAD (98a5b7 [CI] Move queue setting to project level)======= -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga} -r{toxinidir}/requirements.txt >>>>>>> CHANGE (af3c05 Fix tox4 issues)allowlist_externals =skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga} -r{toxinidir}/doc/requirements.txt allowlist_externals = rmskip_install = True","passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_DEBUG GENERATE_HASHESwhitelist_externals =deps = {[testenv:docs]deps}# Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above).usedevelop = False",18,10
openstack%2Fmasakari-monitors~stable%2Fyoga~I929afe0d13a64caac5abf15a16d56fdb713537e5,openstack/masakari-monitors,stable/yoga,I929afe0d13a64caac5abf15a16d56fdb713537e5,Fix tox4 issues,MERGED,2022-12-26 13:30:56.000000000,2022-12-26 20:56:27.000000000,2022-12-26 20:55:31.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-26 13:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/2718b14e3247edeecb1c34c57a2ed6c7c2992f6f', 'message': 'Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, some environments require it (for setup metadata).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: I929afe0d13a64caac5abf15a16d56fdb713537e5\n(cherry picked from commit f8f5bc103dd8f30f64c25359d23f7bbc6d096648)\n'}, {'number': 2, 'created': '2022-12-26 13:31:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/af3c058f959ed036e01180e922f1e7d32e60cda1', 'message': 'Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, some environments require it (for setup metadata).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: I929afe0d13a64caac5abf15a16d56fdb713537e5\n(cherry picked from commit f8f5bc103dd8f30f64c25359d23f7bbc6d096648)\n'}]",1,868554,af3c058f959ed036e01180e922f1e7d32e60cda1,11,2,2,30491,,,0,"Fix tox4 issues

New tox version 4 has changed interpretation of tox.ini

The passenv parsing requires the list to be comma-separated.
Since the names are case-insensitive, duplicates are removed.

skipsdist is now a synonym of no_package and avoids the
installation of the package in all cases.
However, some environments require it (for setup metadata).

Fix allowlist_externals where appropriate.

Change-Id: I929afe0d13a64caac5abf15a16d56fdb713537e5
(cherry picked from commit f8f5bc103dd8f30f64c25359d23f7bbc6d096648)
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/54/868554/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2718b14e3247edeecb1c34c57a2ed6c7c2992f6f,fix-tox4-stable/zed-stable/yoga,"envlist = pep8,py3passenv = HTTP_PROXY, HTTPS_PROXY, NO_PROXY, OS_DEBUG, GENERATE_HASHES<<<<<<< HEAD (8bb6b0 [CI] Move queue setting to project level)======= -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed} -r{toxinidir}/requirements.txt >>>>>>> CHANGE (475ec0 Fix tox4 issues)allowlist_externals =skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed} -r{toxinidir}/doc/requirements.txt allowlist_externals = rmskip_install = True","envlist = pep8,py36,py39 skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_DEBUG GENERATE_HASHESwhitelist_externals =deps = {[testenv:docs]deps}# Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above).usedevelop = False",15,12
openstack%2Fopenstacksdk~master~Ibf4a16e544921ec914f6e23112e0fc37a12096a5,openstack/openstacksdk,master,Ibf4a16e544921ec914f6e23112e0fc37a12096a5,Update tox.ini for tox v4 compatibility,MERGED,2022-12-15 16:58:11.000000000,2022-12-26 19:35:14.000000000,2022-12-26 19:34:13.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32074}]","[{'number': 1, 'created': '2022-12-15 16:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5634ba336790969cdbbcc4a0dbaaf8437be73720', 'message': ""Update tox.ini for tox v4 compatibility\n\nTox v4 made a number of changes that break compatibility with old tox v3\ntox.ini files. In particular openstacksdk lists env vars for passenv on\na single line separating them with spaces. This is no longer allowed and\nproduces this error:\n\n  failed with pass_env values cannot contain whitespace, use comma to have multiple values in a single line, invalid values found 'OS_* OPENSTACKSDK_*'\n\nWe can fix this by listing each value on a single line which we do here.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: Ibf4a16e544921ec914f6e23112e0fc37a12096a5\n""}, {'number': 2, 'created': '2022-12-26 16:04:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a0f969cf92691c4c8beeeedd69d9884923a92c0e', 'message': ""Update tox.ini for tox v4 compatibility\n\nTox v4 made a number of changes that break compatibility with old tox v3\ntox.ini files. In particular openstacksdk lists env vars for passenv on\na single line separating them with spaces. This is no longer allowed and\nproduces this error:\n\n  failed with pass_env values cannot contain whitespace, use comma to have multiple values in a single line, invalid values found 'OS_* OPENSTACKSDK_*'\n\nWe can fix this by listing each value on a single line which we do here.\n\nDepends-On: https://review.opendev.org/c/openstack/python-openstackclient/+/868430\nChange-Id: Ibf4a16e544921ec914f6e23112e0fc37a12096a5\n""}]",11,867827,a0f969cf92691c4c8beeeedd69d9884923a92c0e,19,4,2,4146,,,0,"Update tox.ini for tox v4 compatibility

Tox v4 made a number of changes that break compatibility with old tox v3
tox.ini files. In particular openstacksdk lists env vars for passenv on
a single line separating them with spaces. This is no longer allowed and
produces this error:

  failed with pass_env values cannot contain whitespace, use comma to have multiple values in a single line, invalid values found 'OS_* OPENSTACKSDK_*'

We can fix this by listing each value on a single line which we do here.

Depends-On: https://review.opendev.org/c/openstack/python-openstackclient/+/868430
Change-Id: Ibf4a16e544921ec914f6e23112e0fc37a12096a5
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/27/867827/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5634ba336790969cdbbcc4a0dbaaf8437be73720,toxv4-cleanup,passenv = OS_* OPENSTACKSDK_*passenv = HOME USER ANSIBLE_VAR_*,passenv = OS_* OPENSTACKSDK_*passenv = HOME USER ANSIBLE_VAR_*,7,2
openstack%2Fmasakari-monitors~stable%2Fwallaby~I929afe0d13a64caac5abf15a16d56fdb713537e5,openstack/masakari-monitors,stable/wallaby,I929afe0d13a64caac5abf15a16d56fdb713537e5,Fix tox4 issues,MERGED,2022-12-26 13:32:50.000000000,2022-12-26 19:22:07.000000000,2022-12-26 19:21:12.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-26 13:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/9df72710d9e100eebc15b461172dbde7974c71f1', 'message': 'Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, some environments require it (for setup metadata).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: I929afe0d13a64caac5abf15a16d56fdb713537e5\n(cherry picked from commit f8f5bc103dd8f30f64c25359d23f7bbc6d096648)\n'}, {'number': 2, 'created': '2022-12-26 13:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/96a0df0a57a0a17bd7863bbfa3ed722901a6adcc', 'message': 'Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, some environments require it (for setup metadata).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: I929afe0d13a64caac5abf15a16d56fdb713537e5\n(cherry picked from commit f8f5bc103dd8f30f64c25359d23f7bbc6d096648)\n'}, {'number': 3, 'created': '2022-12-26 13:33:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/cce2c7ade70f837d6e2d690cf690d6b313c4529e', 'message': 'Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, some environments require it (for setup metadata).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: I929afe0d13a64caac5abf15a16d56fdb713537e5\n(cherry picked from commit f8f5bc103dd8f30f64c25359d23f7bbc6d096648)\n'}]",0,868556,cce2c7ade70f837d6e2d690cf690d6b313c4529e,10,2,3,30491,,,0,"Fix tox4 issues

New tox version 4 has changed interpretation of tox.ini

The passenv parsing requires the list to be comma-separated.
Since the names are case-insensitive, duplicates are removed.

skipsdist is now a synonym of no_package and avoids the
installation of the package in all cases.
However, some environments require it (for setup metadata).

Fix allowlist_externals where appropriate.

Change-Id: I929afe0d13a64caac5abf15a16d56fdb713537e5
(cherry picked from commit f8f5bc103dd8f30f64c25359d23f7bbc6d096648)
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/56/868556/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9df72710d9e100eebc15b461172dbde7974c71f1,fix-tox4-stable/zed-stable/yoga-stable/xena-stable/wallaby,"envlist = pep8,py3passenv = HTTP_PROXY, HTTPS_PROXY, NO_PROXY, OS_DEBUG, GENERATE_HASHES<<<<<<< HEAD (4bda27 connection too much when large scale failure)======= -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -r{toxinidir}/requirements.txt >>>>>>> CHANGE (63b344 Fix tox4 issues)<<<<<<< HEAD (4bda27 connection too much when large scale failure) ======= [testenv:pdf-docs]allowlist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf >>>>>>> CHANGE (63b344 Fix tox4 issues) [testenv:releasenotes] skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -r{toxinidir}/doc/requirements.txt allowlist_externals = rmskip_install = True<<<<<<< HEAD (4bda27 connection too much when large scale failure)======= [doc8] # NOTE(yoctozepto): this is due to multiple violations - it is better to keep # it limited sanely rather than disable the D001 ""Line too long"" rule altogether max-line-length = 105 >>>>>>> CHANGE (63b344 Fix tox4 issues)","envlist = pep8,py36,py38 skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_DEBUG GENERATE_HASHES[testenv:releasenotes]# Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above).",33,10
openstack%2Fmasakari~stable%2Fxena~Icb067e85e4f4874a52710d7053a2048e337305c8,openstack/masakari,stable/xena,Icb067e85e4f4874a52710d7053a2048e337305c8,Fix tox4 issues,MERGED,2022-12-25 21:17:39.000000000,2022-12-26 19:00:53.000000000,2022-12-26 18:59:52.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-25 21:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/fe4d80d22ade69c4a2f781237a56dc62ac223014', 'message': 'Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, some environments require it (for setup metadata).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: Icb067e85e4f4874a52710d7053a2048e337305c8\n(cherry picked from commit 324fe6e69b40cd1eb1dfe449340a6a2811759436)\n'}, {'number': 2, 'created': '2022-12-25 21:17:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari/commit/c5e6334f892bbde9b2686cb65f0f44c98e4d2b8c', 'message': 'Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, some environments require it (for setup metadata).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: Icb067e85e4f4874a52710d7053a2048e337305c8\n(cherry picked from commit 324fe6e69b40cd1eb1dfe449340a6a2811759436)\n'}]",0,868551,c5e6334f892bbde9b2686cb65f0f44c98e4d2b8c,8,2,2,30491,,,0,"Fix tox4 issues

New tox version 4 has changed interpretation of tox.ini

The passenv parsing requires the list to be comma-separated.
Since the names are case-insensitive, duplicates are removed.

skipsdist is now a synonym of no_package and avoids the
installation of the package in all cases.
However, some environments require it (for setup metadata).

Fix allowlist_externals where appropriate.

Change-Id: Icb067e85e4f4874a52710d7053a2048e337305c8
(cherry picked from commit 324fe6e69b40cd1eb1dfe449340a6a2811759436)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/51/868551/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fe4d80d22ade69c4a2f781237a56dc62ac223014,fix-tox4-stable/zed-stable/yoga-stable/xena,"passenv = HTTP_PROXY, HTTPS_PROXY, NO_PROXY, OS_DEBUG, GENERATE_HASHESskip_install = Trueskip_install = Trueskip_install = Trueskip_install = Trueallowlist_externals =skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga} -r{toxinidir}/doc/requirements.txt allowlist_externals = rmallowlist_externals = rmskip_install = True","skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_DEBUG GENERATE_HASHESwhitelist_externals =deps = {[testenv:docs]deps}basepython = python3# Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above).usedevelop = False",14,12
openstack%2Fmasakari~stable%2Fwallaby~Icb067e85e4f4874a52710d7053a2048e337305c8,openstack/masakari,stable/wallaby,Icb067e85e4f4874a52710d7053a2048e337305c8,Fix tox4 issues,MERGED,2022-12-25 21:17:58.000000000,2022-12-26 19:00:52.000000000,2022-12-26 18:59:53.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-25 21:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/9a64945d70a45871535e4f021f6405ae14e0322f', 'message': 'Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, some environments require it (for setup metadata).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: Icb067e85e4f4874a52710d7053a2048e337305c8\n(cherry picked from commit 324fe6e69b40cd1eb1dfe449340a6a2811759436)\n'}, {'number': 2, 'created': '2022-12-25 21:18:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari/commit/c9609c43603df97678606ca922c73d8143b249ed', 'message': 'Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, some environments require it (for setup metadata).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: Icb067e85e4f4874a52710d7053a2048e337305c8\n(cherry picked from commit 324fe6e69b40cd1eb1dfe449340a6a2811759436)\n'}]",0,868552,c9609c43603df97678606ca922c73d8143b249ed,9,2,2,30491,,,0,"Fix tox4 issues

New tox version 4 has changed interpretation of tox.ini

The passenv parsing requires the list to be comma-separated.
Since the names are case-insensitive, duplicates are removed.

skipsdist is now a synonym of no_package and avoids the
installation of the package in all cases.
However, some environments require it (for setup metadata).

Fix allowlist_externals where appropriate.

Change-Id: Icb067e85e4f4874a52710d7053a2048e337305c8
(cherry picked from commit 324fe6e69b40cd1eb1dfe449340a6a2811759436)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/52/868552/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9a64945d70a45871535e4f021f6405ae14e0322f,fix-tox4-stable/zed-stable/yoga-stable/xena-stable/wallaby,"<<<<<<< HEAD (e3f6e7 Handle host notification without host status)======= envlist = pep8,py3 >>>>>>> CHANGE (c5e633 Fix tox4 issues)passenv = HTTP_PROXY, HTTPS_PROXY, NO_PROXY, OS_DEBUG, GENERATE_HASHESskip_install = Trueskip_install = Trueskip_install = Trueskip_install = True<<<<<<< HEAD (e3f6e7 Handle host notification without host status) ======= [testenv:pdf-docs]allowlist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf >>>>>>> CHANGE (c5e633 Fix tox4 issues) [testenv:releasenotes] skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -r{toxinidir}/doc/requirements.txt allowlist_externals = rmallowlist_externals = rmskip_install = True","passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_DEBUG GENERATE_HASHES[testenv:releasenotes]basepython = python3# Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above).usedevelop = False",28,10
openstack%2Fmasakari~stable%2Fyoga~Icb067e85e4f4874a52710d7053a2048e337305c8,openstack/masakari,stable/yoga,Icb067e85e4f4874a52710d7053a2048e337305c8,Fix tox4 issues,MERGED,2022-12-25 21:17:15.000000000,2022-12-26 19:00:52.000000000,2022-12-26 18:59:50.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-25 21:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/2518429bc2aec9276e7c38fd24f01c76b929e267', 'message': 'Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, some environments require it (for setup metadata).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: Icb067e85e4f4874a52710d7053a2048e337305c8\n(cherry picked from commit 324fe6e69b40cd1eb1dfe449340a6a2811759436)\n'}, {'number': 2, 'created': '2022-12-25 21:17:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari/commit/78008dad073688049f095db59a750c6cf3dcf726', 'message': 'Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, some environments require it (for setup metadata).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: Icb067e85e4f4874a52710d7053a2048e337305c8\n(cherry picked from commit 324fe6e69b40cd1eb1dfe449340a6a2811759436)\n'}]",0,868550,78008dad073688049f095db59a750c6cf3dcf726,8,2,2,30491,,,0,"Fix tox4 issues

New tox version 4 has changed interpretation of tox.ini

The passenv parsing requires the list to be comma-separated.
Since the names are case-insensitive, duplicates are removed.

skipsdist is now a synonym of no_package and avoids the
installation of the package in all cases.
However, some environments require it (for setup metadata).

Fix allowlist_externals where appropriate.

Change-Id: Icb067e85e4f4874a52710d7053a2048e337305c8
(cherry picked from commit 324fe6e69b40cd1eb1dfe449340a6a2811759436)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/50/868550/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2518429bc2aec9276e7c38fd24f01c76b929e267,fix-tox4-stable/zed-stable/yoga,"passenv = HTTP_PROXY, HTTPS_PROXY, NO_PROXY, OS_DEBUG, GENERATE_HASHESskip_install = Trueskip_install = Trueskip_install = Trueskip_install = Trueallowlist_externals =skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed} -r{toxinidir}/doc/requirements.txt allowlist_externals = rmallowlist_externals = rmskip_install = True","skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_DEBUG GENERATE_HASHESwhitelist_externals =deps = {[testenv:docs]deps}basepython = python3# Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above).usedevelop = False",14,12
openstack%2Fmasakari~stable%2Fzed~Icb067e85e4f4874a52710d7053a2048e337305c8,openstack/masakari,stable/zed,Icb067e85e4f4874a52710d7053a2048e337305c8,Fix tox4 issues,MERGED,2022-12-25 21:16:49.000000000,2022-12-26 18:59:42.000000000,2022-12-26 18:58:46.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-25 21:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/9c3619423af36b5de3c353c8022afebeafa14ad1', 'message': 'Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, some environments require it (for setup metadata).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: Icb067e85e4f4874a52710d7053a2048e337305c8\n(cherry picked from commit 324fe6e69b40cd1eb1dfe449340a6a2811759436)\n'}, {'number': 2, 'created': '2022-12-25 21:17:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari/commit/09d595849d964f934ecf86bf6cbe21a01fbde6e4', 'message': 'Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, some environments require it (for setup metadata).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: Icb067e85e4f4874a52710d7053a2048e337305c8\n(cherry picked from commit 324fe6e69b40cd1eb1dfe449340a6a2811759436)\n'}]",0,868409,09d595849d964f934ecf86bf6cbe21a01fbde6e4,8,2,2,30491,,,0,"Fix tox4 issues

New tox version 4 has changed interpretation of tox.ini

The passenv parsing requires the list to be comma-separated.
Since the names are case-insensitive, duplicates are removed.

skipsdist is now a synonym of no_package and avoids the
installation of the package in all cases.
However, some environments require it (for setup metadata).

Fix allowlist_externals where appropriate.

Change-Id: Icb067e85e4f4874a52710d7053a2048e337305c8
(cherry picked from commit 324fe6e69b40cd1eb1dfe449340a6a2811759436)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/09/868409/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9c3619423af36b5de3c353c8022afebeafa14ad1,fix-tox4-stable/zed,"passenv = HTTP_PROXY, HTTPS_PROXY, NO_PROXY, OS_DEBUG, GENERATE_HASHESskip_install = Trueskip_install = Trueskip_install = Trueskip_install = Trueallowlist_externals =skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt allowlist_externals = rmallowlist_externals = rmskip_install = True","skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_DEBUG GENERATE_HASHESwhitelist_externals =deps = {[testenv:docs]deps}basepython = python3# Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above).usedevelop = False",14,12
openstack%2Fpython-masakariclient~stable%2Fzed~Ia7292c4c72d01ddd5320675b052a27bfbf7ea974,openstack/python-masakariclient,stable/zed,Ia7292c4c72d01ddd5320675b052a27bfbf7ea974,Fix tox4 issues,MERGED,2022-12-25 16:16:41.000000000,2022-12-26 18:39:30.000000000,2022-12-26 18:38:37.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-25 16:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/9d4e21219d9cc9f327a86462746224577370fa37', 'message': ""Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, the docs environment requires it (for cliff's auto\ngeneration).\n\nChange-Id: Ia7292c4c72d01ddd5320675b052a27bfbf7ea974\n(cherry picked from commit 73c312679cfd53cb9385c3f056f83c66cab8846d)\n""}, {'number': 2, 'created': '2022-12-25 16:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/af7185ceb1293956d1eb72356f961f41ae958e24', 'message': ""Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, the docs environment requires it (for cliff's auto\ngeneration).\n\nChange-Id: Ia7292c4c72d01ddd5320675b052a27bfbf7ea974\n(cherry picked from commit 73c312679cfd53cb9385c3f056f83c66cab8846d)\n""}, {'number': 3, 'created': '2022-12-25 16:17:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/893e0cf5680d3f2addbb2b8702ff1dbbc49bd436', 'message': ""Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, the docs environment requires it (for cliff's auto\ngeneration).\n\nChange-Id: Ia7292c4c72d01ddd5320675b052a27bfbf7ea974\n(cherry picked from commit 73c312679cfd53cb9385c3f056f83c66cab8846d)\n""}]",0,868405,893e0cf5680d3f2addbb2b8702ff1dbbc49bd436,10,2,3,30491,,,0,"Fix tox4 issues

New tox version 4 has changed interpretation of tox.ini

The passenv parsing requires the list to be comma-separated.
Since the names are case-insensitive, duplicates are removed.

skipsdist is now a synonym of no_package and avoids the
installation of the package in all cases.
However, the docs environment requires it (for cliff's auto
generation).

Change-Id: Ia7292c4c72d01ddd5320675b052a27bfbf7ea974
(cherry picked from commit 73c312679cfd53cb9385c3f056f83c66cab8846d)
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/05/868405/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9d4e21219d9cc9f327a86462746224577370fa37,fix-tox4-stable/zed,"passenv = HTTP_PROXY, HTTPS_PROXY, NO_PROXY, OS_DEBUG, GENERATE_HASHES<<<<<<< HEAD (192b9e Update TOX_CONSTRAINTS_FILE for stable/zed)======= deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt >>>>>>> CHANGE (73c312 Fix tox4 issues)skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt",skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_DEBUG GENERATE_HASHESdeps = {[testenv:docs]deps},9,3
openstack%2Fpython-masakariclient~stable%2Fyoga~Ia7292c4c72d01ddd5320675b052a27bfbf7ea974,openstack/python-masakariclient,stable/yoga,Ia7292c4c72d01ddd5320675b052a27bfbf7ea974,Fix tox4 issues,MERGED,2022-12-25 16:18:12.000000000,2022-12-26 18:38:28.000000000,2022-12-26 18:37:36.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-25 16:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/de0b2e2a45c3312440097144e07479b79d79178a', 'message': ""Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, the docs environment requires it (for cliff's auto\ngeneration).\n\nChange-Id: Ia7292c4c72d01ddd5320675b052a27bfbf7ea974\n(cherry picked from commit 73c312679cfd53cb9385c3f056f83c66cab8846d)\n""}, {'number': 2, 'created': '2022-12-25 16:19:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/d69802d14b3af5c466ff175ef9e209924332127a', 'message': ""Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, the docs environment requires it (for cliff's auto\ngeneration).\n\nChange-Id: Ia7292c4c72d01ddd5320675b052a27bfbf7ea974\n(cherry picked from commit 73c312679cfd53cb9385c3f056f83c66cab8846d)\n""}]",0,868406,d69802d14b3af5c466ff175ef9e209924332127a,9,2,2,30491,,,0,"Fix tox4 issues

New tox version 4 has changed interpretation of tox.ini

The passenv parsing requires the list to be comma-separated.
Since the names are case-insensitive, duplicates are removed.

skipsdist is now a synonym of no_package and avoids the
installation of the package in all cases.
However, the docs environment requires it (for cliff's auto
generation).

Change-Id: Ia7292c4c72d01ddd5320675b052a27bfbf7ea974
(cherry picked from commit 73c312679cfd53cb9385c3f056f83c66cab8846d)
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/06/868406/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,de0b2e2a45c3312440097144e07479b79d79178a,fix-tox4-stable/zed-stable/yoga,"passenv = HTTP_PROXY, HTTPS_PROXY, NO_PROXY, OS_DEBUG, GENERATE_HASHES<<<<<<< HEAD (f0ae5b Update TOX_CONSTRAINTS_FILE for stable/yoga)======= deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed} -r{toxinidir}/requirements.txt >>>>>>> CHANGE (893e0c Fix tox4 issues)skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed} -r{toxinidir}/doc/requirements.txt",skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_DEBUG GENERATE_HASHESdeps = {[testenv:docs]deps},9,3
openstack%2Fpython-masakariclient~stable%2Fwallaby~Ia7292c4c72d01ddd5320675b052a27bfbf7ea974,openstack/python-masakariclient,stable/wallaby,Ia7292c4c72d01ddd5320675b052a27bfbf7ea974,Fix tox4 issues,MERGED,2022-12-25 16:20:10.000000000,2022-12-26 18:33:15.000000000,2022-12-26 18:32:16.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-25 16:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/37d71c93c5074ed54a8058e9e0c97f1722bc476a', 'message': ""Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, the docs environment requires it (for cliff's auto\ngeneration).\n\nChange-Id: Ia7292c4c72d01ddd5320675b052a27bfbf7ea974\n(cherry picked from commit 73c312679cfd53cb9385c3f056f83c66cab8846d)\n""}, {'number': 2, 'created': '2022-12-25 16:20:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/8764f02bae582586b07d8e67d1653d58ca083bb6', 'message': ""Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, the docs environment requires it (for cliff's auto\ngeneration).\n\nChange-Id: Ia7292c4c72d01ddd5320675b052a27bfbf7ea974\n(cherry picked from commit 73c312679cfd53cb9385c3f056f83c66cab8846d)\n""}]",0,868408,8764f02bae582586b07d8e67d1653d58ca083bb6,9,2,2,30491,,,0,"Fix tox4 issues

New tox version 4 has changed interpretation of tox.ini

The passenv parsing requires the list to be comma-separated.
Since the names are case-insensitive, duplicates are removed.

skipsdist is now a synonym of no_package and avoids the
installation of the package in all cases.
However, the docs environment requires it (for cliff's auto
generation).

Change-Id: Ia7292c4c72d01ddd5320675b052a27bfbf7ea974
(cherry picked from commit 73c312679cfd53cb9385c3f056f83c66cab8846d)
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/08/868408/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,37d71c93c5074ed54a8058e9e0c97f1722bc476a,fix-tox4-stable/zed-stable/yoga-stable/xena-stable/wallaby,"<<<<<<< HEAD (33cbd7 Update TOX_CONSTRAINTS_FILE for stable/wallaby)======= envlist = pep8,py3 >>>>>>> CHANGE (e4baa9 Fix tox4 issues)passenv = HTTP_PROXY, HTTPS_PROXY, NO_PROXY, OS_DEBUG, GENERATE_HASHES<<<<<<< HEAD (33cbd7 Update TOX_CONSTRAINTS_FILE for stable/wallaby)======= deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -r{toxinidir}/requirements.txt >>>>>>> CHANGE (e4baa9 Fix tox4 issues)skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -r{toxinidir}/doc/requirements.txt",passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_DEBUG GENERATE_HASHESdeps = {[testenv:docs]deps},13,2
openstack%2Fpython-masakariclient~stable%2Fxena~Ia7292c4c72d01ddd5320675b052a27bfbf7ea974,openstack/python-masakariclient,stable/xena,Ia7292c4c72d01ddd5320675b052a27bfbf7ea974,Fix tox4 issues,MERGED,2022-12-25 16:19:18.000000000,2022-12-26 18:32:28.000000000,2022-12-26 18:31:29.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-25 16:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/9910b2c77f732152884c0fbdfa309832f6c0daeb', 'message': ""Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, the docs environment requires it (for cliff's auto\ngeneration).\n\nChange-Id: Ia7292c4c72d01ddd5320675b052a27bfbf7ea974\n(cherry picked from commit 73c312679cfd53cb9385c3f056f83c66cab8846d)\n""}, {'number': 2, 'created': '2022-12-25 16:19:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/e4baa9aff71fe3a98601107f66c64462d5755a9d', 'message': ""Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, the docs environment requires it (for cliff's auto\ngeneration).\n\nChange-Id: Ia7292c4c72d01ddd5320675b052a27bfbf7ea974\n(cherry picked from commit 73c312679cfd53cb9385c3f056f83c66cab8846d)\n""}]",0,868407,e4baa9aff71fe3a98601107f66c64462d5755a9d,9,2,2,30491,,,0,"Fix tox4 issues

New tox version 4 has changed interpretation of tox.ini

The passenv parsing requires the list to be comma-separated.
Since the names are case-insensitive, duplicates are removed.

skipsdist is now a synonym of no_package and avoids the
installation of the package in all cases.
However, the docs environment requires it (for cliff's auto
generation).

Change-Id: Ia7292c4c72d01ddd5320675b052a27bfbf7ea974
(cherry picked from commit 73c312679cfd53cb9385c3f056f83c66cab8846d)
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/07/868407/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9910b2c77f732152884c0fbdfa309832f6c0daeb,fix-tox4-stable/zed-stable/yoga-stable/xena,"passenv = HTTP_PROXY, HTTPS_PROXY, NO_PROXY, OS_DEBUG, GENERATE_HASHES<<<<<<< HEAD (e1dc0a Update TOX_CONSTRAINTS_FILE for stable/xena)======= deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga} -r{toxinidir}/requirements.txt >>>>>>> CHANGE (d69802 Fix tox4 issues)skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga} -r{toxinidir}/doc/requirements.txt",skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_DEBUG GENERATE_HASHESdeps = {[testenv:docs]deps},9,3
openstack%2Fpython-openstackclient~master~Iee2bceb78f5b03c559f23b99cde57fd598ce981a,openstack/python-openstackclient,master,Iee2bceb78f5b03c559f23b99cde57fd598ce981a,Fix tox v4 compatibility,MERGED,2022-12-22 19:45:47.000000000,2022-12-26 17:22:13.000000000,2022-12-26 17:21:08.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-12-22 19:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d82ac936cef72d3d6dc722e8c63860099b7a2605', 'message': 'Test with tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: Iee2bceb78f5b03c559f23b99cde57fd598ce981a\n'}, {'number': 2, 'created': '2022-12-26 14:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c28bb2bf056f7cdcbca37dbc80364bc1c4083829', 'message': 'Test with tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: Iee2bceb78f5b03c559f23b99cde57fd598ce981a\n'}, {'number': 3, 'created': '2022-12-26 14:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/33bfdd37bc2004e79406c48964f6490e93abf542', 'message': 'Fix tox v4 compatibility\n\nVarious changes to tox.ini to support v4\n\nChange-Id: Iee2bceb78f5b03c559f23b99cde57fd598ce981a\n'}, {'number': 4, 'created': '2022-12-26 14:56:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5501ac7d1dc9bef97840fea98c55c86bcb10792f', 'message': 'Fix tox v4 compatibility\n\nVarious changes to tox.ini to support v4\n\nChange-Id: Iee2bceb78f5b03c559f23b99cde57fd598ce981a\n'}]",0,868430,5501ac7d1dc9bef97840fea98c55c86bcb10792f,12,2,4,13252,,,0,"Fix tox v4 compatibility

Various changes to tox.ini to support v4

Change-Id: Iee2bceb78f5b03c559f23b99cde57fd598ce981a
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/30/868430/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d82ac936cef72d3d6dc722e8c63860099b7a2605,tox4-debugging,"envlist = py3,pep8","envlist = py38,pep8",1,1
openstack%2Fopenstack-ansible-lxc_hosts~master~I905609600451d579f3a3e7c732759d9e38b4c63e,openstack/openstack-ansible-lxc_hosts,master,I905609600451d579f3a3e7c732759d9e38b4c63e,Allow to customize networking configuration,ABANDONED,2022-12-23 14:43:46.000000000,2022-12-26 15:33:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-23 14:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/ba811bd6526cd60ebb41e7d15243190455663d85', 'message': 'Allow to customize networking configuration\n\nFor some scenarios it might be useful to customize bridges that are\ncreated for LXC.\nAt the same time we introduce variables lxc_net_extra_devices and\nlxc_net_extra_networks that allow to define more networking devices\nThey can be leveraged even to create a br-mgmt or br-stor interfaces\nusing systemd-networkd role.\n\nChange-Id: I905609600451d579f3a3e7c732759d9e38b4c63e\n'}, {'number': 2, 'created': '2022-12-24 10:31:51.000000000', 'files': ['tasks/lxc_net.yml', 'defaults/main.yml', 'releasenotes/notes/manage_extra_networks-15536d8c58f9b63e.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/25c4965ac347816ba7d206b30bbf67406ed497a1', 'message': 'Allow to customize networking configuration\n\nFor some scenarios it might be useful to customize bridges that are\ncreated for LXC.\nAt the same time we introduce variables lxc_net_extra_devices and\nlxc_net_extra_networks that allow to define more networking devices\nThey can be leveraged even to create a br-mgmt or br-stor interfaces\nusing systemd-networkd role.\n\nChange-Id: I905609600451d579f3a3e7c732759d9e38b4c63e\n'}]",1,868490,25c4965ac347816ba7d206b30bbf67406ed497a1,9,2,2,28619,,,0,"Allow to customize networking configuration

For some scenarios it might be useful to customize bridges that are
created for LXC.
At the same time we introduce variables lxc_net_extra_devices and
lxc_net_extra_networks that allow to define more networking devices
They can be leveraged even to create a br-mgmt or br-stor interfaces
using systemd-networkd role.

Change-Id: I905609600451d579f3a3e7c732759d9e38b4c63e
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/90/868490/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_net.yml', 'defaults/main.yml', 'releasenotes/notes/manage_extra_networks-15536d8c58f9b63e.yaml']",3,ba811bd6526cd60ebb41e7d15243190455663d85,,"--- features: - | Added new variables ``lxc_net_extra_devices`` and ``lxc_net_extra_networks`` that enables deployers to configure extra devices and networks on lxc_hosts. For example, it might be used for creation of default bridges, like br-mgmt or br-storage. These variables will be passed to ``systemd_networkd`` role and interfaces will be managed using systemd-networkd. ",,30,19
openstack%2Fcharm-masakari~stable%2Fussuri~Iea9d4f2484b82c22939a258e7f9faa3030a9bd1e,openstack/charm-masakari,stable/ussuri,Iea9d4f2484b82c22939a258e7f9faa3030a9bd1e,Fix transport_url with multiple rabbit servers,NEW,2022-07-26 13:52:52.000000000,2022-12-26 15:31:24.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 26032}]","[{'number': 1, 'created': '2022-07-26 13:52:52.000000000', 'files': ['src/templates/stein/masakari.conf', 'src/templates/masakari.conf'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/b1279d3fb6b708fa28fd08cfa3be18cbd5e29fad', 'message': 'Fix transport_url with multiple rabbit servers\n\nWhen RabbitMQ is deployed in HA mode the transport_url parameter of\nmasakari must reference all RabbitMQ instances. Previously it\nreferenced only one. Now uses the configuration from the base OpenStack\nlayer\n\nCloses-Bug: #1950331\nChange-Id: Iea9d4f2484b82c22939a258e7f9faa3030a9bd1e\n(cherry picked from commit 4fe9f39585a7d034a2dc724165e5c4239e0aabd2)\n'}]",9,851050,b1279d3fb6b708fa28fd08cfa3be18cbd5e29fad,20,3,1,34275,,,0,"Fix transport_url with multiple rabbit servers

When RabbitMQ is deployed in HA mode the transport_url parameter of
masakari must reference all RabbitMQ instances. Previously it
referenced only one. Now uses the configuration from the base OpenStack
layer

Closes-Bug: #1950331
Change-Id: Iea9d4f2484b82c22939a258e7f9faa3030a9bd1e
(cherry picked from commit 4fe9f39585a7d034a2dc724165e5c4239e0aabd2)
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/50/851050/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/stein/masakari.conf', 'src/templates/masakari.conf']",2,b1279d3fb6b708fa28fd08cfa3be18cbd5e29fad,fix_lp_1950331-stable/ussuri,"{% include ""parts/section-transport-url"" %}",transport_url = rabbit://masakari:{{ amqp.password }}@{{ amqp.host }}:5672/masakari,2,2
openstack%2Fneutron~master~Ie274308cfb97a0b3cdd09cc23200eff0e3e6c486,openstack/neutron,master,Ie274308cfb97a0b3cdd09cc23200eff0e3e6c486,Fix typos in routed networks doc file,MERGED,2022-12-19 23:24:16.000000000,2022-12-26 14:36:41.000000000,2022-12-26 14:35:26.000000000,"[{'_account_id': 5948}, {'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-12-19 23:24:16.000000000', 'files': ['doc/source/admin/config-routed-networks.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0475a3e3f36785e7af3c51f10f0ad17ca9f6a0ee', 'message': 'Fix typos in routed networks doc file\n\nFixes minor typos introduced in routed networks doc file introduced by\n[0].\n\n[0] https://review.opendev.org/c/openstack/neutron/+/841838\n\nChange-Id: Ie274308cfb97a0b3cdd09cc23200eff0e3e6c486\n'}]",2,868135,0475a3e3f36785e7af3c51f10f0ad17ca9f6a0ee,14,5,1,4694,,,0,"Fix typos in routed networks doc file

Fixes minor typos introduced in routed networks doc file introduced by
[0].

[0] https://review.opendev.org/c/openstack/neutron/+/841838

Change-Id: Ie274308cfb97a0b3cdd09cc23200eff0e3e6c486
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/868135/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-routed-networks.rst'],1,0475a3e3f36785e7af3c51f10f0ad17ca9f6a0ee,fix-doc-nits,"creating multiple networks and/or increasing broadcast domain.#. On a given provider network, create a second segment. In this","creating multiple networks and/or increasing broadcast domain..#. On a given provided network, create a second segment. In this",2,2
openstack%2Fmasakari-specs~master~I4712a90f0bd72a0721441d3e84b1f78ca9bccef7,openstack/masakari-specs,master,I4712a90f0bd72a0721441d3e84b1f78ca9bccef7,[tox] Pin reqs,MERGED,2022-12-26 14:08:50.000000000,2022-12-26 14:27:55.000000000,2022-12-26 14:26:56.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-26 14:08:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/e14b4bae061aab08a5b1041a7338a593ffb9165b', 'message': '[tox] Pin reqs\n\nPer the best practices.\n\nChange-Id: I4712a90f0bd72a0721441d3e84b1f78ca9bccef7\n'}]",0,868601,e14b4bae061aab08a5b1041a7338a593ffb9165b,7,2,1,30491,,,0,"[tox] Pin reqs

Per the best practices.

Change-Id: I4712a90f0bd72a0721441d3e84b1f78ca9bccef7
",git fetch https://review.opendev.org/openstack/masakari-specs refs/changes/01/868601/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e14b4bae061aab08a5b1041a7338a593ffb9165b,tox-pin-reqs, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},,1,0
openstack%2Fmasakari-specs~master~I9c395f6ccad53ab45bc4997a0da42b0444be8bfa,openstack/masakari-specs,master,I9c395f6ccad53ab45bc4997a0da42b0444be8bfa,Remove pbr from deps,MERGED,2022-12-26 14:01:51.000000000,2022-12-26 14:15:37.000000000,2022-12-26 14:14:36.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-26 14:01:51.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/77951c0ee2c133c333f8e45105019eadd2191504', 'message': 'Remove pbr from deps\n\nIt is not used by this dummy project for docs.\n\nChange-Id: I9c395f6ccad53ab45bc4997a0da42b0444be8bfa\n'}]",0,868600,77951c0ee2c133c333f8e45105019eadd2191504,7,2,1,30491,,,0,"Remove pbr from deps

It is not used by this dummy project for docs.

Change-Id: I9c395f6ccad53ab45bc4997a0da42b0444be8bfa
",git fetch https://review.opendev.org/openstack/masakari-specs refs/changes/00/868600/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,77951c0ee2c133c333f8e45105019eadd2191504,remove-pbr,,"pbr>=2.0.0,!=2.1.0 # Apache-2.0",0,1
openstack%2Fmasakari-specs~master~Iacf9cda958ce410d30a258843e276f902c499e0b,openstack/masakari-specs,master,Iacf9cda958ce410d30a258843e276f902c499e0b,Fix tox4 issues,MERGED,2022-12-26 14:00:06.000000000,2022-12-26 14:12:38.000000000,2022-12-26 14:11:42.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-26 14:00:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/b1c2d071624376f896800245fb04468700344209', 'message': 'Fix tox4 issues\n\nUse allowlist_externals for rm.\n\nAlso, make sure the behaviour is consistent across tox versions\nand always skip the installation of the dummy local package\n(skip_install for 3, skipsdist does this already for 4).\n\nChange-Id: Iacf9cda958ce410d30a258843e276f902c499e0b\n'}]",0,868599,b1c2d071624376f896800245fb04468700344209,7,2,1,30491,,,0,"Fix tox4 issues

Use allowlist_externals for rm.

Also, make sure the behaviour is consistent across tox versions
and always skip the installation of the dummy local package
(skip_install for 3, skipsdist does this already for 4).

Change-Id: Iacf9cda958ce410d30a258843e276f902c499e0b
",git fetch https://review.opendev.org/openstack/masakari-specs refs/changes/99/868599/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b1c2d071624376f896800245fb04468700344209,fix-tox4,skip_install = Trueallowlist_externals = rm rm -fr doc/build/,usedevelop = True /bin/rm -fr doc/build/,4,2
openstack%2Fcinder~master~Idcd521d347cbd852668453a25e2fd045346787be,openstack/cinder,master,Idcd521d347cbd852668453a25e2fd045346787be,Imported Translations from Zanata,MERGED,2022-12-11 03:51:40.000000000,2022-12-26 13:35:13.000000000,2022-12-26 03:41:59.000000000,"[{'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-12-11 03:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2cc8d6e4f788ecf6e766015e36040c3e2fcb8215', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Idcd521d347cbd852668453a25e2fd045346787be\n'}, {'number': 2, 'created': '2022-12-17 03:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/daec7972b6f7a7ce998049cfdc49303613f3b723', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Idcd521d347cbd852668453a25e2fd045346787be\n'}, {'number': 3, 'created': '2022-12-24 03:31:58.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/26ad1528bd5c02e81711e86cde6ec8b6fbc53aad', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Idcd521d347cbd852668453a25e2fd045346787be\n'}]",0,867183,26ad1528bd5c02e81711e86cde6ec8b6fbc53aad,54,2,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Idcd521d347cbd852668453a25e2fd045346787be
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/867183/3 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,2cc8d6e4f788ecf6e766015e36040c3e2fcb8215,zanata/translations,"""POT-Creation-Date: 2022-12-05 17:57+0000\n""""PO-Revision-Date: 2022-12-10 04:36+0000\n""msgid ""16.4.2-11"" msgstr ""16.4.2-11""msgid ""18.2.1-2"" msgstr ""18.2.1-2"" msgid ""19.1.1-10"" msgstr ""19.1.1-10""msgid ""20.0.1-13"" msgstr ""20.0.1-13""msgid ""21.0.0.0rc1-40"" msgstr ""21.0.0.0rc1-40"" ""IET iSCSI target removed. IET iSCSI target was deprecated in the V release."" msgstr """" ""IET iSCSI target removed. IET iSCSI target was deprecated in the V release."" msgid """"""`Bug #1996049 <https://bugs.launchpad.net/cinder/+bug/1996049>`_: Fixed bug "" ""where backup was not set to error on failure when volume did not exist."" msgstr """" ""`Bug #1996049 <https://bugs.launchpad.net/cinder/+bug/1996049>`_: Fixed bug "" ""where backup was not set to error on failure when volume did not exist."" msgid """"","""POT-Creation-Date: 2022-11-16 14:00+0000\n""""PO-Revision-Date: 2022-11-14 10:30+0000\n""msgid ""16.4.2-10"" msgstr ""16.4.2-10""msgid ""19.1.1-9"" msgstr ""19.1.1-9""msgid ""20.0.1-9"" msgstr ""20.0.1-9""",26,8
openstack%2Fzun~master~I86640fc7ae5565838c701974252a5775d1582eb4,openstack/zun,master,I86640fc7ae5565838c701974252a5775d1582eb4,Fix tox4 error,MERGED,2022-12-26 05:29:33.000000000,2022-12-26 11:19:52.000000000,2022-12-26 11:18:48.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-26 05:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/8a04ba26f770ba4d98e351d298be77b1df06a70e', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One is passenv where we need\nto pass each value in newline otherwise, it fails with\nerror:\n\n failed with pass_env values cannot contain whitespace,\n use comma to have multiple values in a single line,\n invalid values found.....\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I86640fc7ae5565838c701974252a5775d1582eb4\n'}, {'number': 2, 'created': '2022-12-26 05:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/1aecceabe0e321901ea2d3195c1ab1789a996934', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One is passenv where we need\nto pass each value in newline otherwise, it fails with\nerror:\n\n failed with pass_env values cannot contain whitespace,\n use comma to have multiple values in a single line,\n invalid values found.....\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I86640fc7ae5565838c701974252a5775d1582eb4\n'}, {'number': 3, 'created': '2022-12-26 06:19:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/zun/commit/1fa73c55566971134b0563449e25f2a7a394d8b1', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One is passenv where we need\nto pass each value in newline otherwise, it fails with\nerror:\n\n failed with pass_env values cannot contain whitespace,\n use comma to have multiple values in a single line,\n invalid values found.....\n\nFixing tox.ini for tox4 changes.\n\nChange-Id: I86640fc7ae5565838c701974252a5775d1582eb4\n'}]",0,868594,1fa73c55566971134b0563449e25f2a7a394d8b1,9,2,3,11536,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One is passenv where we need
to pass each value in newline otherwise, it fails with
error:

 failed with pass_env values cannot contain whitespace,
 use comma to have multiple values in a single line,
 invalid values found.....

Fixing tox.ini for tox4 changes.

Change-Id: I86640fc7ae5565838c701974252a5775d1582eb4
",git fetch https://review.opendev.org/openstack/zun refs/changes/94/868594/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8a04ba26f770ba4d98e351d298be77b1df06a70e,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYskipsdist=True usedevelop=False,skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,9,2
openstack%2Fpython-openstackclient~master~Ib3017fc4f618c1e14e3b26b616ff9374d0e24eaa,openstack/python-openstackclient,master,Ib3017fc4f618c1e14e3b26b616ff9374d0e24eaa,image: Fix the default description of image visibility,NEW,2022-12-25 23:25:56.000000000,2022-12-26 08:59:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-25 23:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1beb1b7a79786d5069b6a955cc89fcf080eb19d3', 'message': ""image: Fix the default description of image visibility\n\nThe default image visibility was changed to 'shared' in API v2.5.\n\nFix the help information of image visibility.\n\nChange-Id: Ib3017fc4f618c1e14e3b26b616ff9374d0e24eaa\n""}, {'number': 2, 'created': '2022-12-26 08:11:45.000000000', 'files': ['openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8f786d6bbf414ce737cc37fb8b2aa262b0fa8230', 'message': ""image: Fix the default description of image visibility\n\nThe default image visibility was changed to 'shared' in API v2.5.\n\nFix the help information of image visibility.\n\nChange-Id: Ib3017fc4f618c1e14e3b26b616ff9374d0e24eaa\n""}]",2,868541,8f786d6bbf414ce737cc37fb8b2aa262b0fa8230,4,1,2,34260,,,0,"image: Fix the default description of image visibility

The default image visibility was changed to 'shared' in API v2.5.

Fix the help information of image visibility.

Change-Id: Ib3017fc4f618c1e14e3b26b616ff9374d0e24eaa
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/41/868541/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/image/v2/image.py'],1,1beb1b7a79786d5069b6a955cc89fcf080eb19d3,fix_image_help," help=_(""Image is inaccessible to the public (default as API v2.4 and before)""), help=_(""Image can be shared (default as API v2.5 and later)""), help=_(""Image is inaccessible to the public (default as API v2.4 and before)""), help=_(""Image can be shared (default as API v2.5 and later)""),"," help=_(""Image is inaccessible to the public (default)""), help=_(""Image can be shared""), help=_(""Image is inaccessible to the public (default)""), help=_(""Image can be shared""),",4,4
openstack%2Fopenstacksdk~master~Iebce2f4cbcf845d74c3b87b06436927e3ba4cb75,openstack/openstacksdk,master,Iebce2f4cbcf845d74c3b87b06436927e3ba4cb75,Make openstacksdk ready for tox 4,ABANDONED,2022-12-26 08:02:22.000000000,2022-12-26 08:06:17.000000000,,[],"[{'number': 1, 'created': '2022-12-26 08:02:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2325684f51133cc2ed2b5f898f4825a543aa1fbf', 'message': ""Make openstacksdk ready for tox 4\n\nRecently we've defaulted to tox 4 and it has some backward\nincompatible behavior. One of such syntax issue is related to\n'pass_env' where we used to accept parameters as space separated\nvalues but now each parameter should be on new line. See error[1][2].\nThis patch fixes the issue and marks minimum tox version to 4.\n\n[1] 2022-12-26 06:26:28.728417 | controller | functional: 285 E failed with pass_env values cannot contain whitespace, use comma to have multiple values in a single line, invalid values found 'OS_* OPENSTACKSDK_*' [tox/session/cmd/run/single.py:54]\n[2] https://a72cfe21c2592d86f1a0-632ff0f5bf18f30fe81cecd4fd5ff676.ssl.cf1.rackcdn.com/853126/6/check/openstacksdk-functional-devstack/29c0eb1/job-output.txt\n\nChange-Id: Iebce2f4cbcf845d74c3b87b06436927e3ba4cb75\n""}]",0,868595,2325684f51133cc2ed2b5f898f4825a543aa1fbf,2,0,1,27615,,,0,"Make openstacksdk ready for tox 4

Recently we've defaulted to tox 4 and it has some backward
incompatible behavior. One of such syntax issue is related to
'pass_env' where we used to accept parameters as space separated
values but now each parameter should be on new line. See error[1][2].
This patch fixes the issue and marks minimum tox version to 4.

[1] 2022-12-26 06:26:28.728417 | controller | functional: 285 E failed with pass_env values cannot contain whitespace, use comma to have multiple values in a single line, invalid values found 'OS_* OPENSTACKSDK_*' [tox/session/cmd/run/single.py:54]
[2] https://a72cfe21c2592d86f1a0-632ff0f5bf18f30fe81cecd4fd5ff676.ssl.cf1.rackcdn.com/853126/6/check/openstacksdk-functional-devstack/29c0eb1/job-output.txt

Change-Id: Iebce2f4cbcf845d74c3b87b06436927e3ba4cb75
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/95/868595/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2325684f51133cc2ed2b5f898f4825a543aa1fbf,,minversion = 4.0.0passenv = OS_* OPENSTACKSDK_*,minversion = 3.18.0passenv = OS_* OPENSTACKSDK_*,4,2
openstack%2Fvenus~master~Ib0291ba061eae3b0d57652671c02c37a2f1054d4,openstack/venus,master,Ib0291ba061eae3b0d57652671c02c37a2f1054d4,fixbug:request can't get response,MERGED,2022-12-26 02:54:40.000000000,2022-12-26 07:16:36.000000000,2022-12-26 07:15:42.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-12-26 02:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/76d83f243df7a80ddcdffa80f25b4f634c7540f5', 'message': ""fixbug:request can't get response\n\nChange-Id: Ib0291ba061eae3b0d57652671c02c37a2f1054d4\n""}, {'number': 2, 'created': '2022-12-26 03:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/9c3b4c3d08319e0960ade755a7b5254f12c25f71', 'message': ""fixbug:request can't get response\n\nChange-Id: Ib0291ba061eae3b0d57652671c02c37a2f1054d4\n""}, {'number': 3, 'created': '2022-12-26 06:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/bfb12d50e026fc4a38805dd459210259f07488bc', 'message': ""fixbug:request can't get response\n\nChange-Id: Ib0291ba061eae3b0d57652671c02c37a2f1054d4\n""}, {'number': 4, 'created': '2022-12-26 06:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/a340b7653fb432115004f68b2a7b8f6331a12803', 'message': ""fixbug:request can't get response\n\nChange-Id: Ib0291ba061eae3b0d57652671c02c37a2f1054d4\n""}, {'number': 5, 'created': '2022-12-26 06:47:21.000000000', 'files': ['venus/modules/custom_config/action.py', 'venus/service.py', 'venus/modules/custom_config/controller.py', 'venus/context.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/e90b293138863e8f2fe835f614df66bb7f8d2f87', 'message': ""fixbug:request can't get response\n\nChange-Id: Ib0291ba061eae3b0d57652671c02c37a2f1054d4\n""}]",12,868549,e90b293138863e8f2fe835f614df66bb7f8d2f87,15,2,5,30455,,,0,"fixbug:request can't get response

Change-Id: Ib0291ba061eae3b0d57652671c02c37a2f1054d4
",git fetch https://review.opendev.org/openstack/venus refs/changes/49/868549/2 && git format-patch -1 --stdout FETCH_HEAD,"['venus/service.py', 'venus/context.py', 'venus/cmd/api.py']",3,76d83f243df7a80ddcdffa80f25b4f634c7540f5,,#eventlet.monkey_patch() #utils.monkey_patch() ,eventlet.monkey_patch() utils.monkey_patch() ,8,6
openstack%2Ftripleo-common~master~If06f7c28735f8b11815b988b073450e4fe44e44b,openstack/tripleo-common,master,If06f7c28735f8b11815b988b073450e4fe44e44b,Delete fedora based images,MERGED,2022-11-16 02:40:30.000000000,2022-12-26 07:00:11.000000000,2022-12-26 06:59:11.000000000,"[{'_account_id': 9816}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-16 02:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cd798fa39f9f71d05c47f042b94b935266f1a4f6', 'message': 'Delete fedora based images\n\nThis is definitely unused and untested.\n\nChange-Id: If06f7c28735f8b11815b988b073450e4fe44e44b\n'}, {'number': 2, 'created': '2022-11-20 20:03:04.000000000', 'files': ['image-yaml/overcloud-images-fedora.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/58fdd2972af30758db8ecddbd4078f497c730eac', 'message': 'Delete fedora based images\n\nThis is definitely unused and untested.\n\nChange-Id: If06f7c28735f8b11815b988b073450e4fe44e44b\n'}]",1,864644,58fdd2972af30758db8ecddbd4078f497c730eac,15,4,2,4571,,,0,"Delete fedora based images

This is definitely unused and untested.

Change-Id: If06f7c28735f8b11815b988b073450e4fe44e44b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/44/864644/2 && git format-patch -1 --stdout FETCH_HEAD,['image-yaml/overcloud-images-fedora.yaml'],1,cd798fa39f9f71d05c47f042b94b935266f1a4f6,old-image-delete,,"disk_images: - imagename: overcloud-full type: qcow2 distro: fedora elements: - selinux-permissive environment: FS_TYPE: xfs options: - ""--mkfs-options '-s size=4096'"" - imagename: ironic-python-agent type: qcow2 distro: fedora elements: - selinux-permissive ",0,18
openstack%2Fmasakari-monitors~master~I929afe0d13a64caac5abf15a16d56fdb713537e5,openstack/masakari-monitors,master,I929afe0d13a64caac5abf15a16d56fdb713537e5,Fix tox4 issues,MERGED,2022-12-25 15:38:50.000000000,2022-12-25 21:59:10.000000000,2022-12-25 21:58:16.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-25 15:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/9e4da46bc211183f64cb05d6c1abac2ab2b8bb0a', 'message': ""Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, the docs environment requires it (for cliff's auto\ngeneration).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: I929afe0d13a64caac5abf15a16d56fdb713537e5\n""}, {'number': 2, 'created': '2022-12-25 15:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/9a1b189379c7fb8a450e8c650350a4e0b9fba909', 'message': ""Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, the docs environment requires it (for cliff's auto\ngeneration).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: I929afe0d13a64caac5abf15a16d56fdb713537e5\n""}, {'number': 3, 'created': '2022-12-25 15:57:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/f8f5bc103dd8f30f64c25359d23f7bbc6d096648', 'message': 'Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, some environments require it (for setup metadata).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: I929afe0d13a64caac5abf15a16d56fdb713537e5\n'}]",2,868537,f8f5bc103dd8f30f64c25359d23f7bbc6d096648,12,2,3,30491,,,0,"Fix tox4 issues

New tox version 4 has changed interpretation of tox.ini

The passenv parsing requires the list to be comma-separated.
Since the names are case-insensitive, duplicates are removed.

skipsdist is now a synonym of no_package and avoids the
installation of the package in all cases.
However, some environments require it (for setup metadata).

Fix allowlist_externals where appropriate.

Change-Id: I929afe0d13a64caac5abf15a16d56fdb713537e5
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/37/868537/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9e4da46bc211183f64cb05d6c1abac2ab2b8bb0a,fix-tox4,"envlist = pep8,py3passenv = HTTP_PROXY, HTTPS_PROXY, NO_PROXY, OS_DEBUG, GENERATE_HASHES -r{toxinidir}/requirements.txtallowlist_externals =skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt allowlist_externals = rm","envlist = pep8,py36,py39 skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_DEBUG GENERATE_HASHESwhitelist_externals =deps = {[testenv:docs]deps}",10,5
openstack%2Fmasakari~master~Icb067e85e4f4874a52710d7053a2048e337305c8,openstack/masakari,master,Icb067e85e4f4874a52710d7053a2048e337305c8,Fix tox4 issues,MERGED,2022-12-25 15:56:01.000000000,2022-12-25 20:01:07.000000000,2022-12-25 20:00:08.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-25 15:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/0322cb88c25d143bef28d992f57b7e7b348026a4', 'message': ""Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, the docs environment requires it (for cliff's auto\ngeneration).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: Icb067e85e4f4874a52710d7053a2048e337305c8\n""}, {'number': 2, 'created': '2022-12-25 15:57:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari/commit/324fe6e69b40cd1eb1dfe449340a6a2811759436', 'message': 'Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, some environments require it (for setup metadata).\n\nFix allowlist_externals where appropriate.\n\nChange-Id: Icb067e85e4f4874a52710d7053a2048e337305c8\n'}]",0,868538,324fe6e69b40cd1eb1dfe449340a6a2811759436,8,2,2,30491,,,0,"Fix tox4 issues

New tox version 4 has changed interpretation of tox.ini

The passenv parsing requires the list to be comma-separated.
Since the names are case-insensitive, duplicates are removed.

skipsdist is now a synonym of no_package and avoids the
installation of the package in all cases.
However, some environments require it (for setup metadata).

Fix allowlist_externals where appropriate.

Change-Id: Icb067e85e4f4874a52710d7053a2048e337305c8
",git fetch https://review.opendev.org/openstack/masakari refs/changes/38/868538/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0322cb88c25d143bef28d992f57b7e7b348026a4,fix-tox4,"passenv = HTTP_PROXY, HTTPS_PROXY, NO_PROXY, OS_DEBUG, GENERATE_HASHESskip_install = Trueskip_install = Trueskip_install = Trueskip_install = Trueallowlist_externals =skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt allowlist_externals = rmallowlist_externals = rmskip_install = True","skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_DEBUG GENERATE_HASHESwhitelist_externals =deps = {[testenv:docs]deps}basepython = python3# Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above).usedevelop = False",14,12
openstack%2Fcinder~master~I656ccd21c3a8c661802216384d3af70038069efe,openstack/cinder,master,I656ccd21c3a8c661802216384d3af70038069efe,Automatically map availability zones to volume types. See LP#1999706 for details.,ABANDONED,2022-12-22 20:22:35.000000000,2022-12-25 18:32:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-22 20:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/85671e0946db2c67201f1058312a12364762fee6', 'message': 'Automatically map availability zones to volume types. See LP#1999706 for details.\n\nChange-Id: I656ccd21c3a8c661802216384d3af70038069efe\n'}, {'number': 2, 'created': '2022-12-22 23:58:03.000000000', 'files': ['cinder/volume/flows/api/create_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a3db7acd5979bf1a9ae860fde6bacb5d5924213', 'message': 'Automatically map availability zones to volume types. See LP#1999706 for details.\n\nChange-Id: I656ccd21c3a8c661802216384d3af70038069efe\n'}]",4,868435,3a3db7acd5979bf1a9ae860fde6bacb5d5924213,24,1,2,35648,,,0,"Automatically map availability zones to volume types. See LP#1999706 for details.

Change-Id: I656ccd21c3a8c661802216384d3af70038069efe
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/868435/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/flows/api/create_volume.py'],1,85671e0946db2c67201f1058312a12364762fee6,lp-1999706," image_volume_type_id: Optional[str], availability_zone: Optional[str]) -> objects.VolumeType: # Return a volume type that has a matching AZ in RESKEY:availability_zones specs if availability_zone: all_types = volume_types.get_all_types(context, filters={'extra_specs': {""RESKEY:availability_zones"": ""%""}}) for vtype in all_types: azs = all_types[vtype]['extra_specs']['RESKEY:availability_zones'].split(',') for az in azs: if az == availability_zone: return all_types[vtype] context, volume_type, source_volume, snapshot, image_volume_type, availability_zone)"," image_volume_type_id: Optional[str]) -> objects.VolumeType: context, volume_type, source_volume, snapshot, image_volume_type)",11,2
openstack%2Fpython-masakariclient~master~Ia7292c4c72d01ddd5320675b052a27bfbf7ea974,openstack/python-masakariclient,master,Ia7292c4c72d01ddd5320675b052a27bfbf7ea974,Fix tox4 issues,MERGED,2022-12-25 13:43:36.000000000,2022-12-25 16:09:19.000000000,2022-12-25 16:08:20.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-25 13:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/c90795066cdcddd28048ca7b35695ef30e7dd82b', 'message': 'Fix tox 4 issue\n\nNew tox 4 version has changed parsing of tox.ini\nIn this case, the passenv parsing requires the list to be\ncomma-separated. Since the names are case-insensitive, duplicates\nare removed in this patch.\n\nChange-Id: Ia7292c4c72d01ddd5320675b052a27bfbf7ea974\n'}, {'number': 2, 'created': '2022-12-25 14:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/09b6a44e45811cc7da5efaf0ba9994665e69b767', 'message': 'Fix tox 4 issue\n\nNew tox 4 version has changed parsing of tox.ini\nIn this case, the passenv parsing requires the list to be\ncomma-separated. Since the names are case-insensitive, duplicates\nare removed in this patch.\nAdditionally, fix the docs environment and make releasenotes\nindependent (as it has different needs: no package installation).\n\nChange-Id: Ia7292c4c72d01ddd5320675b052a27bfbf7ea974\n'}, {'number': 3, 'created': '2022-12-25 15:29:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/73c312679cfd53cb9385c3f056f83c66cab8846d', 'message': ""Fix tox4 issues\n\nNew tox version 4 has changed interpretation of tox.ini\n\nThe passenv parsing requires the list to be comma-separated.\nSince the names are case-insensitive, duplicates are removed.\n\nskipsdist is now a synonym of no_package and avoids the\ninstallation of the package in all cases.\nHowever, the docs environment requires it (for cliff's auto\ngeneration).\n\nChange-Id: Ia7292c4c72d01ddd5320675b052a27bfbf7ea974\n""}]",0,868535,73c312679cfd53cb9385c3f056f83c66cab8846d,11,2,3,30491,,,0,"Fix tox4 issues

New tox version 4 has changed interpretation of tox.ini

The passenv parsing requires the list to be comma-separated.
Since the names are case-insensitive, duplicates are removed.

skipsdist is now a synonym of no_package and avoids the
installation of the package in all cases.
However, the docs environment requires it (for cliff's auto
generation).

Change-Id: Ia7292c4c72d01ddd5320675b052a27bfbf7ea974
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/35/868535/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c90795066cdcddd28048ca7b35695ef30e7dd82b,fix-tox4,"passenv = HTTP_PROXY, HTTPS_PROXY, NO_PROXY, OS_DEBUG, GENERATE_HASHES",passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_DEBUG GENERATE_HASHES,1,1
openstack%2Fcinder~master~If42fcaa0f80c11fb81eab23f946a165e242268e3,openstack/cinder,master,If42fcaa0f80c11fb81eab23f946a165e242268e3,WIP: mypy: cinder/api,NEW,2022-12-19 18:05:34.000000000,2022-12-25 11:57:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-19 18:05:34.000000000', 'files': ['cinder/api/v3/volumes.py', 'cinder/api/contrib/admin_actions.py', 'cinder/api/contrib/scheduler_hints.py', 'mypy-files.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0db8c85fd4cd04d919982b06a7da27f0ed7a14f1', 'message': 'WIP: mypy: cinder/api\n\nChange-Id: If42fcaa0f80c11fb81eab23f946a165e242268e3\n'}]",0,868122,0db8c85fd4cd04d919982b06a7da27f0ed7a14f1,12,1,1,4523,,,0,"WIP: mypy: cinder/api

Change-Id: If42fcaa0f80c11fb81eab23f946a165e242268e3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/868122/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v3/volumes.py', 'cinder/api/contrib/admin_actions.py', 'cinder/api/contrib/scheduler_hints.py', 'mypy-files.txt']",4,0db8c85fd4cd04d919982b06a7da27f0ed7a14f1,mypy,cinder/api/contrib/admin_actions.py cinder/api/contrib/scheduler_hints.py cinder/api/contrib/volume_manage.py,,75,31
openstack%2Fcinder~master~I2ff8fb0aa058cd6ed3feb3de3505ebdc81ecd948,openstack/cinder,master,I2ff8fb0aa058cd6ed3feb3de3505ebdc81ecd948,WIP: mypy: api/validation,NEW,2022-12-19 18:05:34.000000000,2022-12-25 11:05:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-19 18:05:34.000000000', 'files': ['cinder/api/validation/parameter_types.py', 'cinder/api/validation/validators.py', 'mypy-files.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/52c3b8fe673b45ed6833fb3dc858058299723664', 'message': 'WIP: mypy: api/validation\n\nChange-Id: I2ff8fb0aa058cd6ed3feb3de3505ebdc81ecd948\n'}]",0,868121,52c3b8fe673b45ed6833fb3dc858058299723664,12,1,1,4523,,,0,"WIP: mypy: api/validation

Change-Id: I2ff8fb0aa058cd6ed3feb3de3505ebdc81ecd948
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/868121/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/validation/parameter_types.py', 'cinder/api/validation/validators.py', 'mypy-files.txt']",3,52c3b8fe673b45ed6833fb3dc858058299723664,mypy,cinder/api/validation/__init__.py cinder/api/validation/parameter_types.py cinder/api/validation/validators.py,,71,48
openstack%2Fpython-novaclient~master~I979b91570c7b60273f35fbdf8464f6a9ee2007d6,openstack/python-novaclient,master,I979b91570c7b60273f35fbdf8464f6a9ee2007d6,Make tox.ini tox 4.0.0 compatible,MERGED,2022-12-22 15:12:00.000000000,2022-12-25 08:35:59.000000000,2022-12-25 08:34:54.000000000,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 15:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/d77e3dda1b11495016be337f6c6f19c44158f7dc', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipdist=True to make sure novaclient is available in the virtual\n  env\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I979b91570c7b60273f35fbdf8464f6a9ee2007d6\n'}, {'number': 2, 'created': '2022-12-22 15:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/7c08550d8761c269125e5688e265fcf46b4d1a6c', 'message': 'Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure novaclient is available in the virtual\n  env\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I979b91570c7b60273f35fbdf8464f6a9ee2007d6\n'}, {'number': 3, 'created': '2022-12-22 15:53:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/c7cb02f1f7d508863c5e33f9d4b8e26b1a7ab6c0', 'message': ""Make tox.ini tox 4.0.0 compatible\n\n* removed skipsdist=True to make sure novaclient is available in the virtual\n  env. The usedevelop and skipsdist does not work together any more\n  https://github.com/tox-dev/tox/issues/2730. For bindep we still don't\n  need the current repo to be installed in the env so skipsdist added\n  there.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I979b91570c7b60273f35fbdf8464f6a9ee2007d6\n""}]",5,868421,c7cb02f1f7d508863c5e33f9d4b8e26b1a7ab6c0,17,4,3,9708,,,0,"Make tox.ini tox 4.0.0 compatible

* removed skipsdist=True to make sure novaclient is available in the virtual
  env. The usedevelop and skipsdist does not work together any more
  https://github.com/tox-dev/tox/issues/2730. For bindep we still don't
  need the current repo to be installed in the env so skipsdist added
  there.

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943
Change-Id: I979b91570c7b60273f35fbdf8464f6a9ee2007d6
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/21/868421/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d77e3dda1b11495016be337f6c6f19c44158f7dc,tox4,skipdist=True usedevelop=False,skipsdist = true,2,1
openstack%2Fopenstack-ansible-os_octavia~stable%2Fwallaby~I0ed9953a7374135a926ab496c59b58ff48c2c0d2,openstack/openstack-ansible-os_octavia,stable/wallaby,I0ed9953a7374135a926ab496c59b58ff48c2c0d2,Update Image Haproxy for Ubuntu Version To Focal,NEW,2022-12-25 05:48:55.000000000,2022-12-25 07:32:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 27623}, {'_account_id': 35595}]","[{'number': 1, 'created': '2022-12-25 05:48:55.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/a20db83f6120bb40e2abc72c58f5f2658e7072c2', 'message': 'Update Image Haproxy for Ubuntu Version To Focal\n\nChange-Id: I0ed9953a7374135a926ab496c59b58ff48c2c0d2\n'}]",0,868532,a20db83f6120bb40e2abc72c58f5f2658e7072c2,3,3,1,35595,,,0,"Update Image Haproxy for Ubuntu Version To Focal

Change-Id: I0ed9953a7374135a926ab496c59b58ff48c2c0d2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/32/868532/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,a20db83f6120bb40e2abc72c58f5f2658e7072c2,868522,octavia_artefact_url: http://tarballs.openstack.org/octavia/test-images/test-only-amphora-x64-haproxy-ubuntu-focal.qcow2,octavia_artefact_url: http://tarballs.openstack.org/octavia/test-images/test-only-amphora-x64-haproxy-ubuntu-bionic.qcow2,1,1
openstack%2Fbashate~master~I50d7221f0879ad4bdc137c6c3f6c5d36ace59b47,openstack/bashate,master,I50d7221f0879ad4bdc137c6c3f6c5d36ace59b47,DNM: testing tox4,ABANDONED,2022-12-25 03:20:13.000000000,2022-12-25 03:52:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-25 03:20:13.000000000', 'files': ['.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/bashate/commit/a5549f5ee0219895c7f2e9fef4911a614bb7df6d', 'message': 'DNM: testing tox4\n\nChange-Id: I50d7221f0879ad4bdc137c6c3f6c5d36ace59b47\n'}]",0,868528,a5549f5ee0219895c7f2e9fef4911a614bb7df6d,4,1,1,8556,,,0,"DNM: testing tox4

Change-Id: I50d7221f0879ad4bdc137c6c3f6c5d36ace59b47
",git fetch https://review.opendev.org/openstack/bashate refs/changes/28/868528/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/jobs.yaml'],1,a5549f5ee0219895c7f2e9fef4911a614bb7df6d,tox4,# testing,,1,0
openstack%2Ftempest~master~Ib5875d1dd9145a31b1a0b8f0c5e7cf1135fbd6ba,openstack/tempest,master,Ib5875d1dd9145a31b1a0b8f0c5e7cf1135fbd6ba,Synchronize scheduler_enabled_filters with Nova,ABANDONED,2022-12-20 08:38:20.000000000,2022-12-24 14:42:10.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 08:38:20.000000000', 'files': ['tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8caf134a888261bffed82015dc9fb06e3cb17c26', 'message': 'Synchronize scheduler_enabled_filters with Nova\n\nThe AvailabilityZoneFilter scheduler filter was deprecated in Xena [1]\nand removed from the default list of enabled filters.\n\n[1] https://review.opendev.org/c/openstack/nova/+/745605\n\nChange-Id: Ib5875d1dd9145a31b1a0b8f0c5e7cf1135fbd6ba\n'}]",1,868159,8caf134a888261bffed82015dc9fb06e3cb17c26,4,2,1,15197,,,0,"Synchronize scheduler_enabled_filters with Nova

The AvailabilityZoneFilter scheduler filter was deprecated in Xena [1]
and removed from the default list of enabled filters.

[1] https://review.opendev.org/c/openstack/nova/+/745605

Change-Id: Ib5875d1dd9145a31b1a0b8f0c5e7cf1135fbd6ba
",git fetch https://review.opendev.org/openstack/tempest refs/changes/59/868159/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/config.py'],1,8caf134a888261bffed82015dc9fb06e3cb17c26,remove-az-filter," default=[""ComputeFilter"", ""ComputeCapabilitiesFilter"", ""ImagePropertiesFilter"","," default=[""AvailabilityZoneFilter"", ""ComputeFilter"", ""ComputeCapabilitiesFilter"", ""ImagePropertiesFilter"",",2,2
openstack%2Fneutron~stable%2Fxena~I686a8bf41589a9a0f81f87183877b3008079c186,openstack/neutron,stable/xena,I686a8bf41589a9a0f81f87183877b3008079c186,"DNM testing patch zuul errors during ""Run tox without tests"" command",ABANDONED,2022-12-23 16:51:50.000000000,2022-12-24 10:19:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-23 16:51:50.000000000', 'files': ['neutron/neutron_plugin_base_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2f43540b7375c715c505a60a2b3a4cde8b7da99', 'message': 'DNM testing patch zuul errors during ""Run tox without tests"" command\n\nChange-Id: I686a8bf41589a9a0f81f87183877b3008079c186\n(cherry picked from commit ed4b6fe6f0ea6ceb983d161ffc8eaf7f15290f7f)\n'}]",0,868505,e2f43540b7375c715c505a60a2b3a4cde8b7da99,4,1,1,16688,,,0,"DNM testing patch zuul errors during ""Run tox without tests"" command

Change-Id: I686a8bf41589a9a0f81f87183877b3008079c186
(cherry picked from commit ed4b6fe6f0ea6ceb983d161ffc8eaf7f15290f7f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/868505/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/neutron_plugin_base_v2.py'],1,e2f43540b7375c715c505a60a2b3a4cde8b7da99,zuul_errors,TEST = True ,,2,0
openstack%2Fneutron~stable%2Fyoga~I686a8bf41589a9a0f81f87183877b3008079c186,openstack/neutron,stable/yoga,I686a8bf41589a9a0f81f87183877b3008079c186,"DNM testing patch zuul errors during ""Run tox without tests"" command",ABANDONED,2022-12-23 16:50:29.000000000,2022-12-24 10:19:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-23 16:50:29.000000000', 'files': ['neutron/neutron_plugin_base_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3ed38ef7daac4665f88fbf6c88236ee1a0f2709', 'message': 'DNM testing patch zuul errors during ""Run tox without tests"" command\n\nChange-Id: I686a8bf41589a9a0f81f87183877b3008079c186\n(cherry picked from commit ed4b6fe6f0ea6ceb983d161ffc8eaf7f15290f7f)\n'}]",0,868504,e3ed38ef7daac4665f88fbf6c88236ee1a0f2709,4,1,1,16688,,,0,"DNM testing patch zuul errors during ""Run tox without tests"" command

Change-Id: I686a8bf41589a9a0f81f87183877b3008079c186
(cherry picked from commit ed4b6fe6f0ea6ceb983d161ffc8eaf7f15290f7f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/868504/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/neutron_plugin_base_v2.py'],1,e3ed38ef7daac4665f88fbf6c88236ee1a0f2709,zuul_errors,TEST = True ,,2,0
openstack%2Fneutron~stable%2Fzed~I686a8bf41589a9a0f81f87183877b3008079c186,openstack/neutron,stable/zed,I686a8bf41589a9a0f81f87183877b3008079c186,"DNM testing patch zuul errors during ""Run tox without tests"" command",ABANDONED,2022-12-23 16:47:56.000000000,2022-12-24 10:19:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-23 16:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed4b6fe6f0ea6ceb983d161ffc8eaf7f15290f7f', 'message': 'DNM testing patch zuul errors during ""Run tox without tests"" command\n\nChange-Id: I686a8bf41589a9a0f81f87183877b3008079c186\n'}, {'number': 2, 'created': '2022-12-23 17:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c99ff859e2353212f08bc1900652f8a86723774d', 'message': 'DNM testing patch zuul errors during ""Run tox without tests"" command\n\nChange-Id: I686a8bf41589a9a0f81f87183877b3008079c186\n'}, {'number': 3, 'created': '2022-12-23 17:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a5dee4f19c6152d2f2bcf3ded73ad8aa04602963', 'message': 'DNM testing patch zuul errors during ""Run tox without tests"" command\n\nChange-Id: I686a8bf41589a9a0f81f87183877b3008079c186\n'}, {'number': 4, 'created': '2022-12-23 17:57:26.000000000', 'files': ['neutron/neutron_plugin_base_v2.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/df27dc789491a02cc63c8df9c25ac58b7439d0cb', 'message': 'DNM testing patch zuul errors during ""Run tox without tests"" command\n\nChange-Id: I686a8bf41589a9a0f81f87183877b3008079c186\n'}]",0,868503,df27dc789491a02cc63c8df9c25ac58b7439d0cb,10,1,4,16688,,,0,"DNM testing patch zuul errors during ""Run tox without tests"" command

Change-Id: I686a8bf41589a9a0f81f87183877b3008079c186
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/868503/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/neutron_plugin_base_v2.py'],1,ed4b6fe6f0ea6ceb983d161ffc8eaf7f15290f7f,zuul_errors,TEST = True ,,2,0
openstack%2Ftempest~master~Iaf68679bdbe124ca0176934f21001622ac3331dd,openstack/tempest,master,Iaf68679bdbe124ca0176934f21001622ac3331dd,Glance / Negative - create an image with deleted image id,ABANDONED,2016-11-08 09:07:25.000000000,2022-12-24 05:51:32.000000000,,"[{'_account_id': 5803}, {'_account_id': 7020}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 11075}, {'_account_id': 11869}, {'_account_id': 12017}, {'_account_id': 21187}, {'_account_id': 21511}, {'_account_id': 22833}, {'_account_id': 23003}]","[{'number': 1, 'created': '2016-11-08 09:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/015d31f25c036c008f9932cd8af082da779714b0', 'message': 'Glance / Negative - create an image with deleted image id\n\nThe testcase create an image , after deletion try to create an\nimage with same image-id that was deleted.\n\nChange-Id: Iaf68679bdbe124ca0176934f21001622ac3331dd\n'}, {'number': 2, 'created': '2016-11-22 08:19:24.000000000', 'files': ['tempest/api/image/v1/test_images_negative.py', 'tempest/api/image/v2/test_images_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0478e616584906a9346845e16552707ebf6fa2fd', 'message': 'Glance / Negative - create an image with deleted image id\n\nThe testcase create an image , after deletion try to create an\nimage with same image-id that was deleted.\n\nChange-Id: Iaf68679bdbe124ca0176934f21001622ac3331dd\n'}]",4,394834,0478e616584906a9346845e16552707ebf6fa2fd,27,12,2,11075,,,0,"Glance / Negative - create an image with deleted image id

The testcase create an image , after deletion try to create an
image with same image-id that was deleted.

Change-Id: Iaf68679bdbe124ca0176934f21001622ac3331dd
",git fetch https://review.opendev.org/openstack/tempest refs/changes/34/394834/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/image/v1/test_images_negative.py', 'tempest/api/image/v2/test_images_negative.py']",2,015d31f25c036c008f9932cd8af082da779714b0,glance_create_image_with_deleted_id,"from tempest.api.image import base from tempest.lib import exceptions as lib_exc from tempest.lib.common.utils import data_utils @test.idempotent_id('e441aae1-f3bf-4fb7-a5c1-29aa7f9dc4f7') def test_create_image_with_deleted_id(self): # get and delete the deleted image # create and delete image image = self.create_image() self.client.delete_image(image['id']) self.client.wait_for_resource_deletion(image['id']) # create an image with deleted image-id self.assertRaises(lib_exc.Conflict, self.client.create_image, name='test', id=image['id']) @test.attr(type=['negative'])",from tempest.api.image import base from tempest.lib.common.utils import data_utils from tempest.lib import exceptions as lib_exc,33,4
openstack%2Ftempest~master~I74f797f840bd2ff7f5225bd77839985dd928694b,openstack/tempest,master,I74f797f840bd2ff7f5225bd77839985dd928694b,test volume from snapshot cascade delete for ceph,ABANDONED,2021-02-02 09:49:06.000000000,2022-12-24 05:51:27.000000000,,"[{'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 09:49:06.000000000', 'files': ['tempest/api/volume/test_volume_delete_cascade.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/863a0019bb8e158bb1e4ba8d1ecc26ed7b5f1882', 'message': 'test volume from snapshot cascade delete for ceph\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/754397\nChange-Id: I74f797f840bd2ff7f5225bd77839985dd928694b\n'}]",1,773621,863a0019bb8e158bb1e4ba8d1ecc26ed7b5f1882,5,2,1,27615,,,0,"test volume from snapshot cascade delete for ceph

Depends-On: https://review.opendev.org/c/openstack/cinder/+/754397
Change-Id: I74f797f840bd2ff7f5225bd77839985dd928694b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/21/773621/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volume_delete_cascade.py'],1,863a0019bb8e158bb1e4ba8d1ecc26ed7b5f1882,,," @testtools.skipIf(CONF.volume.storage_protocol == 'ceph', 'Skip because of Bug#1677525')",0,2
openstack%2Ftempest~master~Iee8024c9e94d4606e935e4923e6edd3673bdd696,openstack/tempest,master,Iee8024c9e94d4606e935e4923e6edd3673bdd696,Use CONF.network.port_vnic_type for create_bulk_ports,ABANDONED,2020-12-11 09:14:43.000000000,2022-12-24 05:51:22.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-12-11 09:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/91fb920c4bdcfe0810b57f707003d51835190317', 'message': ""Use CONF.network.port_vnic_type for create_bulk_ports\n\nWe have testcases in scenario that use CONF.network.port_vnic_type to\ncreate single port in one request, but we have no testcase to use\nCONF.network.port_vnic_type to create bulk ports in one request, and\nit isn't worth adding calling create_bulk_ports in scenario testcases,\nso we can simply use CONF.network.port_vnic_type in\ntest_bulk_create_delete_port to cover this situation.\n\nChange-Id: Iee8024c9e94d4606e935e4923e6edd3673bdd696\n""}, {'number': 2, 'created': '2021-01-27 20:27:54.000000000', 'files': ['tempest/api/network/test_networks.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ddbab782d413bf7b8f68ba20cfce2e4b92757ff7', 'message': ""Use CONF.network.port_vnic_type for create_bulk_ports\n\nWe have testcases in scenario that use CONF.network.port_vnic_type to\ncreate single port in one request, but we have no testcase to use\nCONF.network.port_vnic_type to create bulk ports in one request, and\nit isn't worth adding calling create_bulk_ports in scenario testcases,\nso we can simply use CONF.network.port_vnic_type in\ntest_bulk_create_delete_port to cover this situation.\n\nChange-Id: Iee8024c9e94d4606e935e4923e6edd3673bdd696\n""}]",0,766688,ddbab782d413bf7b8f68ba20cfce2e4b92757ff7,17,3,2,20190,,,0,"Use CONF.network.port_vnic_type for create_bulk_ports

We have testcases in scenario that use CONF.network.port_vnic_type to
create single port in one request, but we have no testcase to use
CONF.network.port_vnic_type to create bulk ports in one request, and
it isn't worth adding calling create_bulk_ports in scenario testcases,
so we can simply use CONF.network.port_vnic_type in
test_bulk_create_delete_port to cover this situation.

Change-Id: Iee8024c9e94d4606e935e4923e6edd3673bdd696
",git fetch https://review.opendev.org/openstack/tempest refs/changes/88/766688/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/test_networks.py'],1,91fb920c4bdcfe0810b57f707003d51835190317,vnic_type, if CONF.network.port_vnic_type: p1.update({'binding:vnic_type': CONF.network.port_vnic_type}),,2,0
openstack%2Ftempest~master~I2f95b89b3f7fb1b6d15692edb289e087298d6b7f,openstack/tempest,master,I2f95b89b3f7fb1b6d15692edb289e087298d6b7f,DNM run tempest-full-py3 with port_vnic_type set,ABANDONED,2021-01-27 20:27:54.000000000,2022-12-24 05:51:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-27 20:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c28bcf0d15089e7bed11a53af5cfc6f192e8e8ec', 'message': 'DNM run tempest-full-py3 with port_vnic_type set\n\nChange-Id: I2f95b89b3f7fb1b6d15692edb289e087298d6b7f\n'}, {'number': 2, 'created': '2021-01-27 20:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/efccbc304d2f6d5ea6e76fd64eebd964d8a6ca99', 'message': 'DNM run tempest-full-py3 with port_vnic_type set\n\nChange-Id: I2f95b89b3f7fb1b6d15692edb289e087298d6b7f\n'}, {'number': 3, 'created': '2021-01-29 15:20:18.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ccaf82d1b7a53c1c2bc7b9ce7a8e09b4b8a1005c', 'message': 'DNM run tempest-full-py3 with port_vnic_type set\n\nChange-Id: I2f95b89b3f7fb1b6d15692edb289e087298d6b7f\n'}]",0,772768,ccaf82d1b7a53c1c2bc7b9ce7a8e09b4b8a1005c,7,1,3,22873,,,0,"DNM run tempest-full-py3 with port_vnic_type set

Change-Id: I2f95b89b3f7fb1b6d15692edb289e087298d6b7f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/68/772768/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/integrated-gate.yaml']",2,c28bcf0d15089e7bed11a53af5cfc6f192e8e8ec,vnic_type, network: port_vnic_type: direct,,2,138
openstack%2Ftempest~master~I52392b56eaa72f62349e34f3922ca6a34ae153cd,openstack/tempest,master,I52392b56eaa72f62349e34f3922ca6a34ae153cd,Add option to set compute quotas for dynamic users,ABANDONED,2019-04-30 15:45:35.000000000,2022-12-24 05:51:06.000000000,,"[{'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 17130}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-04-30 15:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9811d5d64035041feeab13876060b579f17aac5a', 'message': 'Add option to set compute quotas for dynamic users\n\nIf the default quotas do not provide enough resources, it is useful to be\nable to explicitly set quotas for dynamic users.\n\nChange-Id: I52392b56eaa72f62349e34f3922ca6a34ae153cd\nCloses-Bug: #1827065\n'}, {'number': 2, 'created': '2019-05-01 09:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/488aeb376249cceb5d6297910da3805ddd5fec34', 'message': 'Add option to set compute quotas for dynamic users\n\nIf the default quotas do not provide enough resources, it is useful to be\nable to explicitly set quotas for dynamic users.\n\nChange-Id: I52392b56eaa72f62349e34f3922ca6a34ae153cd\nCloses-Bug: #1827065\n'}, {'number': 3, 'created': '2019-05-01 11:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bc8a00dc874257a5c40ab4f6fa1e227f3f0a873e', 'message': 'Add option to set compute quotas for dynamic users\n\nIf the default quotas do not provide enough resources, it is useful to be\nable to explicitly set quotas for dynamic users.\n\nChange-Id: I52392b56eaa72f62349e34f3922ca6a34ae153cd\nCloses-Bug: #1827065\n'}, {'number': 4, 'created': '2019-05-01 14:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d9a2b05305d05b3d55e950f70a622a7e7d0d877f', 'message': 'Add option to set compute quotas for dynamic users\n\nIf the default quotas do not provide enough resources, it is useful to be\nable to explicitly set quotas for dynamic users.\n\nChange-Id: I52392b56eaa72f62349e34f3922ca6a34ae153cd\nCloses-Bug: #1827065\n'}, {'number': 5, 'created': '2019-05-13 10:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8d7da35947a350104bb546bc518d3d9ae1a76a7d', 'message': 'Add option to set compute quotas for dynamic users\n\nIf the default quotas do not provide enough resources, it is useful to be\nable to explicitly set quotas for dynamic users.\n\nChange-Id: I52392b56eaa72f62349e34f3922ca6a34ae153cd\nCloses-Bug: #1827065\n'}, {'number': 6, 'created': '2019-08-27 10:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/36aeb316d86f9addcbdb8878f5570592d6ac5fba', 'message': 'Add option to set compute quotas for dynamic users\n\nIf the default quotas do not provide enough resources, it is useful to be\nable to explicitly set quotas for dynamic users.\n\nChange-Id: I52392b56eaa72f62349e34f3922ca6a34ae153cd\nCloses-Bug: #1827065\n'}, {'number': 7, 'created': '2019-09-20 16:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2a45dedcc42f0f8adce17947d5644ef5e52e7dfc', 'message': 'Add option to set compute quotas for dynamic users\n\nIf the default quotas do not provide enough resources, it is useful to be\nable to explicitly set quotas for dynamic users.\n\nChange-Id: I52392b56eaa72f62349e34f3922ca6a34ae153cd\nCloses-Bug: #1827065\n'}, {'number': 8, 'created': '2019-11-01 16:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/691040da6b261b52aba22283de1fb7462dad51cd', 'message': 'Add option to set compute quotas for dynamic users\n\nIf the default quotas do not provide enough resources, it is useful to be\nable to explicitly set quotas for dynamic users.\n\nChange-Id: I52392b56eaa72f62349e34f3922ca6a34ae153cd\nCloses-Bug: #1827065\n'}, {'number': 9, 'created': '2020-10-08 12:48:13.000000000', 'files': ['tempest/lib/common/dynamic_creds.py', 'doc/source/configuration.rst', 'releasenotes/notes/feature-compute-quotas-3ea2bc467f166950.yaml', 'tempest/tests/common/test_credentials_factory.py', 'tempest/api/compute/test_quotas.py', 'tempest/config.py', 'tempest/common/credentials_factory.py', 'tempest/tests/lib/common/test_dynamic_creds.py', 'tempest/test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2f3fd829ea5657333c5ab229023338fd41f6c2d1', 'message': 'Add option to set compute quotas for dynamic users\n\nIf the default quotas do not provide enough resources, it is useful to be\nable to explicitly set quotas for dynamic users.\n\nChange-Id: I52392b56eaa72f62349e34f3922ca6a34ae153cd\nCloses-Bug: #1827065\n'}]",30,656534,2f3fd829ea5657333c5ab229023338fd41f6c2d1,46,11,9,28048,,,0,"Add option to set compute quotas for dynamic users

If the default quotas do not provide enough resources, it is useful to be
able to explicitly set quotas for dynamic users.

Change-Id: I52392b56eaa72f62349e34f3922ca6a34ae153cd
Closes-Bug: #1827065
",git fetch https://review.opendev.org/openstack/tempest refs/changes/34/656534/5 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/dynamic_creds.py', 'doc/source/configuration.rst', 'releasenotes/notes/feature-compute-quotas-3ea2bc467f166950.yaml', 'tempest/tests/common/test_credentials_factory.py', 'tempest/config.py', 'tempest/common/credentials_factory.py', 'tempest/tests/lib/common/test_dynamic_creds.py']",7,9811d5d64035041feeab13876060b579f17aac5a,quota-rebase," def test_compute_quota_set(self): expected = { 'cores': 123, 'instances': 456 } dummy_project_id = ""bd7ac6e3c4ea414b9376e145891430d4"" params = {k: v for k, v in self.fixed_params.items()} params[""compute_quotas""] = expected creds = dynamic_creds.DynamicCredentialProvider(**params) creds.creds_client = mock.MagicMock() creds.creds_client.create_project.side_effect = { 'id': dummy_project_id } creds.compute_quotas_client = mock.MagicMock() creds.compute_quotas_client.update_quota_set.side_effect = None creds._create_creds() creds.compute_quotas_client.update_quota_set.assert_called_once_with( dummy_project_id, mock.ANY, expected) def test_compute_quota_not_set(self): creds = dynamic_creds.DynamicCredentialProvider(**self.fixed_params) creds.creds_client = mock.MagicMock() creds.creds_client.create_project.side_effect = { 'id': ""bd7ac6e3c4ea414b9376e145891430d4"" } creds.compute_quotas_client = mock.MagicMock() creds.compute_quotas_client.update_quota_set.side_effect = None creds._create_creds() self.assertFalse(creds.compute_quotas_client.update_quota_set.called)",,138,5
openstack%2Ftempest~master~I5e49036fe7a2e17d9591cff1181280d1cc293061,openstack/tempest,master,I5e49036fe7a2e17d9591cff1181280d1cc293061,Add additional glance image import copy-image tests,ABANDONED,2020-09-02 06:26:04.000000000,2022-12-24 05:51:03.000000000,,"[{'_account_id': 8556}, {'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-02 06:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d7d8ba03325970210ad8cc38a4b33ff05b2d56eb', 'message': 'Add additional glance image import copy-image tests\n\nAdding testcase for copy-image import with specified\nstore list.\n\nDepends-On: Ia7c967946304a8c7a79774b4116dd6169822f3ac\nChange-Id: I5e49036fe7a2e17d9591cff1181280d1cc293061\n'}, {'number': 2, 'created': '2020-09-02 06:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1ad10942665a2c296d83bdbff39013684752eff8', 'message': 'Add additional glance image import copy-image tests\n\nAdding testcase for copy-image import with specified\nstore list.\n\nDepends-On: Ia7c967946304a8c7a79774b4116dd6169822f3ac\nChange-Id: I5e49036fe7a2e17d9591cff1181280d1cc293061\n'}, {'number': 3, 'created': '2020-10-01 10:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/033bf5d8c878095ff9187e507acdaff905ff990f', 'message': 'Add additional glance image import copy-image tests\n\nAdding testcase for copy-image import with specified\nstore list.\n\nDepends-On: Ia7c967946304a8c7a79774b4116dd6169822f3ac\nChange-Id: I5e49036fe7a2e17d9591cff1181280d1cc293061\n'}, {'number': 4, 'created': '2020-10-01 10:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4ed91ce4e9c4843fcd7d1d7d1868948a5e137f74', 'message': 'Add additional glance image import copy-image tests\n\nAdding testcase for copy-image import with specified\nstore list.\n\nDepends-On: Ia7c967946304a8c7a79774b4116dd6169822f3ac\nChange-Id: I5e49036fe7a2e17d9591cff1181280d1cc293061\n'}, {'number': 5, 'created': '2020-10-04 04:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/26dfb4a73d4cb831a37eb367975a739fdc1d8c7e', 'message': 'Add additional glance image import copy-image tests\n\nAdding testcase for copy-image import with specified\nstore list.\n\nDepends-On: Ia7c967946304a8c7a79774b4116dd6169822f3ac\nChange-Id: I5e49036fe7a2e17d9591cff1181280d1cc293061\n'}, {'number': 6, 'created': '2020-12-02 05:51:20.000000000', 'files': ['tempest/api/image/v2/admin/test_images.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b76658488eec0861cf52e18537976f994d21f411', 'message': 'Add additional glance image import copy-image tests\n\nAdding testcase for copy-image import with specified\nstore list.\n\nChange-Id: I5e49036fe7a2e17d9591cff1181280d1cc293061\n'}]",4,749441,b76658488eec0861cf52e18537976f994d21f411,18,3,6,19138,,,0,"Add additional glance image import copy-image tests

Adding testcase for copy-image import with specified
store list.

Change-Id: I5e49036fe7a2e17d9591cff1181280d1cc293061
",git fetch https://review.opendev.org/openstack/tempest refs/changes/41/749441/6 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/image/v2/admin/test_images.py'],1,d7d8ba03325970210ad8cc38a4b33ff05b2d56eb,test-copy-image," @decorators.idempotent_id('c41e89ce-eb47-11ea-b425-340286b6c574') def test_image_copy_image_import_with_specific_stores_list(self): """"""Test 'copy-image' import functionalities Create image, import image with copy-image method and verify that import succeeded. """""" available_stores = self.get_available_stores() stores = [store['id'] for store in available_stores] stores_list = stores[::len(stores) - 1] available_import_methods = self.client.info_import()[ 'import-methods']['value'] # NOTE(gmann): Skip if copy-image import method and mutlistore # are not available. if ('copy-image' not in available_import_methods or not available_stores): raise self.skipException('Either copy-image import method or ' 'multistore is not available') uuid = data_utils.rand_uuid() image_name = data_utils.rand_name('copy-image') container_format = CONF.image.container_formats[0] disk_format = CONF.image.disk_formats[0] image = self.create_image(name=image_name, container_format=container_format, disk_format=disk_format, visibility='private', ramdisk_id=uuid) self.assertEqual('queued', image['status']) file_content = data_utils.random_bytes() image_file = six.BytesIO(file_content) self.client.store_image_file(image['id'], image_file) body = self.client.show_image(image['id']) self.assertEqual(image['id'], body['id']) self.assertEqual(1024, body.get('size')) self.assertEqual('active', body['status']) # Copy image to all the stores. In case of all_stores request # glance will skip the stores where image is already available. self.admin_client.image_import(image['id'], method='copy-image', stores=stores_list) # Wait for copy to finished on all stores. failed_store = waiters.wait_and_status_copy_on_all_stores( self.client, image['id']) # Assert if copy is failed on any store. self.assertEqual(0, len(failed_store), str(failed_store))",,50,0
openstack%2Ftempest~master~Ie89874ca41059f489a4755e9db0768f497851e30,openstack/tempest,master,Ie89874ca41059f489a4755e9db0768f497851e30,Use TOX_CONSTRAINTS_FILE,ABANDONED,2020-12-24 06:22:56.000000000,2022-12-24 05:50:52.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-24 06:22:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7b61919fc513992ff46e047fcd142779cdc6d78e', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: Ie89874ca41059f489a4755e9db0768f497851e30\n'}]",0,768416,7b61919fc513992ff46e047fcd142779cdc6d78e,4,2,1,30384,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: Ie89874ca41059f489a4755e9db0768f497851e30
",git fetch https://review.opendev.org/openstack/tempest refs/changes/16/768416/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7b61919fc513992ff46e047fcd142779cdc6d78e,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},5,5
openstack%2Ftempest~master~I6b57859b75e1c595b07d294ace37a4e955411695,openstack/tempest,master,I6b57859b75e1c595b07d294ace37a4e955411695,add delete user negative test,ABANDONED,2020-08-10 06:08:55.000000000,2022-12-24 05:50:48.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30409}]","[{'number': 1, 'created': '2020-08-10 06:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a285b74de08667e27ed1fde97a5e93ee24978b10', 'message': 'add delete user negative test\n\ndelete a noe existent user negative test for delete user interface\n\nChange-Id: I6b57859b75e1c595b07d294ace37a4e955411695\n'}, {'number': 2, 'created': '2020-08-10 06:25:47.000000000', 'files': ['tempest/api/identity/admin/v3/test_users_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d32f350142a7d45f7c919cbb42d6e0f9fd9c9164', 'message': 'add delete user negative test\n\ndelete a non existent user negative test for delete user interface\n\nChange-Id: I6b57859b75e1c595b07d294ace37a4e955411695\n'}]",0,745477,d32f350142a7d45f7c919cbb42d6e0f9fd9c9164,13,3,2,30409,,,0,"add delete user negative test

delete a non existent user negative test for delete user interface

Change-Id: I6b57859b75e1c595b07d294ace37a4e955411695
",git fetch https://review.opendev.org/openstack/tempest refs/changes/77/745477/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_users_negative.py'],1,a285b74de08667e27ed1fde97a5e93ee24978b10,master23," @decorators.attr(type=['negative']) @decorators.idempotent_id('b8b1f69c-5501-4780-899e-ff90cb154257') def test_delete_non_existent_user(self): """"""Attempt to delete a non existent user should fail"""""" self.assertRaises(lib_exc.NotFound, self.users_client.delete_user, data_utils.rand_uuid_hex())",,8,0
openstack%2Ftempest~master~I25baaf8c290beaee8ecc09d0c86fd42cd338be41,openstack/tempest,master,I25baaf8c290beaee8ecc09d0c86fd42cd338be41,add update domain negative test,ABANDONED,2020-06-01 10:08:30.000000000,2022-12-24 05:50:44.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30742}]","[{'number': 1, 'created': '2020-06-01 10:08:30.000000000', 'files': ['tempest/api/identity/admin/v3/test_domains_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8afbc8ade720d813810dd384b010e5f0357e799a', 'message': 'add update domain negative test\n\nadd negative test for update domain in test_domains_negative file\nChange-Id: I25baaf8c290beaee8ecc09d0c86fd42cd338be41\n'}]",0,732144,8afbc8ade720d813810dd384b010e5f0357e799a,5,3,1,30409,,,0,"add update domain negative test

add negative test for update domain in test_domains_negative file
Change-Id: I25baaf8c290beaee8ecc09d0c86fd42cd338be41
",git fetch https://review.opendev.org/openstack/tempest refs/changes/44/732144/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_domains_negative.py'],1,8afbc8ade720d813810dd384b010e5f0357e799a,master20," @decorators.idempotent_id('a06023d9-f630-4451-aa0c-5b4ac79641da') def test_update_non_existent_domain(self): # Attempt to update a non existent domain should fail self.assertRaises(lib_exc.NotFound, self.domains_client.update_domain, data_utils.rand_uuid(), name=data_utils.rand_name('new-name')) @decorators.attr(type=['negative'])",,8,0
openstack%2Ftempest~master~Ib0ec33aa3adcefbad4de7c6dde76d2b73cf087fe,openstack/tempest,master,Ib0ec33aa3adcefbad4de7c6dde76d2b73cf087fe,add create user with name is empty negative test,ABANDONED,2020-06-01 09:25:26.000000000,2022-12-24 05:50:40.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-01 09:25:26.000000000', 'files': ['tempest/api/identity/admin/v3/test_users_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/18464bb8a6c2372a83541d609606a52b35381664', 'message': 'add create user with name is empty negative test\n\nadd create user with name is empty negative test in test_users_negative\nfile\n\nChange-Id: Ib0ec33aa3adcefbad4de7c6dde76d2b73cf087fe\n'}]",0,732120,18464bb8a6c2372a83541d609606a52b35381664,4,2,1,30409,,,0,"add create user with name is empty negative test

add create user with name is empty negative test in test_users_negative
file

Change-Id: Ib0ec33aa3adcefbad4de7c6dde76d2b73cf087fe
",git fetch https://review.opendev.org/openstack/tempest refs/changes/20/732120/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_users_negative.py'],1,18464bb8a6c2372a83541d609606a52b35381664,master19," @decorators.attr(type=['negative']) @decorators.idempotent_id('20476c34-4415-45cd-97fd-aacd1deeb957') def test_create_user_with_empty_name(self): # user name should not be empty self.assertRaises(lib_exc.BadRequest, self.users_client.create_user, name='')",,7,0
openstack%2Ftempest~master~Ib0f49b1605170b76710c566e34a47db66d0d6a5a,openstack/tempest,master,Ib0f49b1605170b76710c566e34a47db66d0d6a5a,add update volume types negative test,ABANDONED,2020-05-27 02:15:04.000000000,2022-12-24 05:50:36.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 30409}, {'_account_id': 30742}]","[{'number': 1, 'created': '2020-05-27 02:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3894fd8763cf773ca12fecad94818cdc0aa8e6ac', 'message': 'add update volume types negative test\n\nadd negative test for update volume types in test_volume_types_negative\nfile\n\nChange-Id: Ib0f49b1605170b76710c566e34a47db66d0d6a5a\n'}, {'number': 2, 'created': '2020-05-27 04:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/599764769d905e932ba0fe51a4bac70c23617532', 'message': 'add update volume types negative test\n\nadd negative test for update volume types in test_volume_types_negative\nfile\n\nChange-Id: Ib0f49b1605170b76710c566e34a47db66d0d6a5a\n'}, {'number': 3, 'created': '2020-05-27 07:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d9be8da85ec9f2f4c67cdac5b937d65771634f2a', 'message': 'add update volume types negative test\n\nadd negative test for update volume types in test_volume_types_negative\nfile\n\nChange-Id: Ib0f49b1605170b76710c566e34a47db66d0d6a5a\n'}, {'number': 4, 'created': '2020-05-27 10:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/908bd67d30fd20f8fd05adc94b9cba15cae6504d', 'message': 'add update volume types negative test\n\nadd negative test for update volume types in test_volume_types_negative\nfile\n\nChange-Id: Ib0f49b1605170b76710c566e34a47db66d0d6a5a\n'}, {'number': 5, 'created': '2020-06-01 00:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3766b2fba08bf2b73256fb5a1b04cd6a2f2e6d09', 'message': 'add update volume types negative test\n\nadd negative test for update volume types in test_volume_types_negative\nfile\n\nChange-Id: Ib0f49b1605170b76710c566e34a47db66d0d6a5a\n'}, {'number': 6, 'created': '2020-06-01 02:52:17.000000000', 'files': ['tempest/api/volume/admin/test_volume_types_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7e525c4a15849cbfbb4310cc81a2b0c61955ada5', 'message': 'add update volume types negative test\n\nadd negative test for update volume types in test_volume_types_negative\nfile\n\nChange-Id: Ib0f49b1605170b76710c566e34a47db66d0d6a5a\n'}]",6,731015,7e525c4a15849cbfbb4310cc81a2b0c61955ada5,19,5,6,30409,,,0,"add update volume types negative test

add negative test for update volume types in test_volume_types_negative
file

Change-Id: Ib0f49b1605170b76710c566e34a47db66d0d6a5a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/15/731015/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_types_negative.py'],1,3894fd8763cf773ca12fecad94818cdc0aa8e6ac,master17," @decorators.idempotent_id('994610d6-0476-4018-a644-a2602ef5d4aa') def test_update_with_nonexistent_type_id(self): # Should not be able to update volume type with nonexistent type id. self.assertRaises(lib_exc.NotFound, self.admin_volume_types_client.update_volume_type, data_utils.rand_uuid(), name = data_utils.rand_name('update'), is_public = True, description = data_utils.rand_name('update desc')) @decorators.attr(type=['negative']) @decorators.idempotent_id('95c7a4a4-36aa-42cc-bfc5-d26c8c58c9cd') def test_update_with_invalid_type_id(self): # Should not be able to update volume type with invalid type id. self.assertRaises(lib_exc.NotFound, self.admin_volume_types_client.update_volume_type, data_utils.rand_uuid('invalid'), name = data_utils.rand_name('update'), is_public = True, description = data_utils.rand_name('update desc')) @decorators.attr(type=['negative']) @decorators.idempotent_id('e92800d1-2940-40f0-a270-fbb74745e496') def test_update_with_empty_type_id(self): # Should not be able to update volume type with empty type id. self.assertRaises(lib_exc.NotFound, self.admin_volume_types_client.update_volume_type, '', name = data_utils.rand_name('update'), is_public = True, description = data_utils.rand_name('update desc')) ) @decorators.attr(type=['negative']) @decorators.idempotent_id('085d3526-490b-4cfc-a996-ca2438400859')", @decorators.idempotent_id('6b3926d2-7d73-4896-bc3d-e42dfd11a9f6'),34,1
openstack%2Ftempest~master~I8637e7aec33d8ce76a3cf02fad134cf6ea39d9a3,openstack/tempest,master,I8637e7aec33d8ce76a3cf02fad134cf6ea39d9a3,Add config option to set extend_attached_volume_support,ABANDONED,2018-06-27 16:23:48.000000000,2022-12-24 05:50:31.000000000,,"[{'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 14567}, {'_account_id': 18058}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-06-27 16:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/341b046c42de229ddef86e8e2193b12872164457', 'message': ""Add config option to set extend_attached_volume_support\n\nThere's already a config option extend_attached_volume, and if it is set\nto True, a happy path tempest test is executed. This test asserts that\nthe volume has a greater size after the extending operation.\n\nHowever, not every volume backend supports this operation. The API call\nto extend an attached volume succeeds, but the scheduler fails to\nperform the operation, and the volume remains with the original size. In\nsuch case, the tempest test fails.\n\nA config option was added to tell if the backend being tested supports\nthis feature.\nIf it does, the same happy path test is executed. If it doesn't, a new\ntest is executed, which basically does the same thing, but asserts that\nthe volume remains with the original size.\n\nChange-Id: I8637e7aec33d8ce76a3cf02fad134cf6ea39d9a3\nDepends-On: I2c31b5c171574074a8fc7ba86f94f983fc9658f7\nRelated-Bug: #1765182\n""}, {'number': 2, 'created': '2018-09-12 19:11:11.000000000', 'files': ['tempest/api/volume/test_volumes_extend.py', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/211eaba4be9703e775ff0ec4ddc14ff2096dc7d9', 'message': ""Add config option to set extend_attached_volume_support\n\nThere's already a config option extend_attached_volume, and if it is set\nto True, a happy path tempest test is executed. This test asserts that\nthe volume has a greater size after the extending operation.\n\nHowever, not every volume backend supports this operation. The API call\nto extend an attached volume succeeds, but the scheduler fails to\nperform the operation, and the volume remains with the original size. In\nsuch case, the tempest test fails.\n\nA config option was added to tell if the backend being tested supports\nthis feature.\nIf it does, the same happy path test is executed. If it doesn't, a new\ntest is executed, which basically does the same thing, but asserts that\nthe volume remains with the original size.\n\nChange-Id: I8637e7aec33d8ce76a3cf02fad134cf6ea39d9a3\nDepends-On: I2c31b5c171574074a8fc7ba86f94f983fc9658f7\nRelated-Bug: #1765182\n""}]",9,578463,211eaba4be9703e775ff0ec4ddc14ff2096dc7d9,27,12,2,18058,,,0,"Add config option to set extend_attached_volume_support

There's already a config option extend_attached_volume, and if it is set
to True, a happy path tempest test is executed. This test asserts that
the volume has a greater size after the extending operation.

However, not every volume backend supports this operation. The API call
to extend an attached volume succeeds, but the scheduler fails to
perform the operation, and the volume remains with the original size. In
such case, the tempest test fails.

A config option was added to tell if the backend being tested supports
this feature.
If it does, the same happy path test is executed. If it doesn't, a new
test is executed, which basically does the same thing, but asserts that
the volume remains with the original size.

Change-Id: I8637e7aec33d8ce76a3cf02fad134cf6ea39d9a3
Depends-On: I2c31b5c171574074a8fc7ba86f94f983fc9658f7
Related-Bug: #1765182
",git fetch https://review.opendev.org/openstack/tempest refs/changes/63/578463/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/test_volumes_extend.py', 'tempest/config.py']",2,341b046c42de229ddef86e8e2193b12872164457,bug/1765182," 'compute backends support this operation. This option ' 'enables the API test, regardless of the volume backend ' 'supporting this feature or not.'), cfg.BoolOpt('extend_attached_volume_support', default=False, help='Does the volume backend support extending the size of a ' 'volume which is currently attached to a server ' 'instance? This depends on the extend_attached_volume ' 'option to be set to True.')", 'compute backends support this operation.'),60,2
openstack%2Ftempest~master~I7d5cd8168ba50ce6c608cd2f633ef19d7fb8a1f3,openstack/tempest,master,I7d5cd8168ba50ce6c608cd2f633ef19d7fb8a1f3,Adds cleanup so project does not leak,ABANDONED,2020-07-20 18:11:39.000000000,2022-12-24 05:50:27.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-20 18:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bb73a8ad9824abd159795a4e26a4bc6073885a10', 'message': 'Adds cleanup so project does not leak\n\nChange-Id: I7d5cd8168ba50ce6c608cd2f633ef19d7fb8a1f3\n'}, {'number': 2, 'created': '2020-07-20 19:33:25.000000000', 'files': ['tempest/api/identity/admin/v3/test_tokens.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/387eb0a8e557868c140513489e4b5e68f26a53fa', 'message': 'Adds cleanup so project does not leak\n\nChange-Id: I7d5cd8168ba50ce6c608cd2f633ef19d7fb8a1f3\n'}]",1,742000,387eb0a8e557868c140513489e4b5e68f26a53fa,5,2,2,23140,,,0,"Adds cleanup so project does not leak

Change-Id: I7d5cd8168ba50ce6c608cd2f633ef19d7fb8a1f3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/00/742000/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_tokens.py'],1,bb73a8ad9824abd159795a4e26a4bc6073885a10,," self.addCleanup(self.projects_client_delete_project, project1['id'])",,1,0
openstack%2Ftempest~master~I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3,openstack/tempest,master,I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3,Add tests for boot instance with the specified volume type,ABANDONED,2018-10-10 11:32:30.000000000,2022-12-24 05:50:20.000000000,,"[{'_account_id': 5803}, {'_account_id': 6873}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 26458}, {'_account_id': 26490}, {'_account_id': 27078}, {'_account_id': 31756}]","[{'number': 1, 'created': '2018-10-10 11:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c56dfadc26e9eafd88431d43a1152b3c6e10e5f6', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 2, 'created': '2018-10-11 01:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/63bdd0eb4550cf02e8c204f3474f00ddd0eae735', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 3, 'created': '2018-10-11 03:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d8fee998a70046cdffe9a973fdb18e6f504211fb', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 4, 'created': '2018-10-12 09:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/286ceb413aa5f677ebc0b30051b8918d94a4deeb', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nDepends-On: https://review.openstack.org/606398/\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 5, 'created': '2018-10-12 13:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2d85eb07d1644dbc3b71aec6610c1b9c5597090a', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nDepends-On: https://review.openstack.org/606398/\nDepends-On: https://review.openstack.org/610032/\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 6, 'created': '2018-10-14 10:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/70e3ff041db2e7ef62f3f5fad7ca2f814cec75ef', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nDepends-On: https://review.openstack.org/606398/\nDepends-On: https://review.openstack.org/610032/\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 7, 'created': '2018-10-15 01:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1c5fcbef54ab9096390ae4a8f5b968687f088aef', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nDepends-On: https://review.openstack.org/606398/\nDepends-On: https://review.openstack.org/610032/\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 8, 'created': '2018-10-15 07:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4a8abc6a2832e3cd524e136c791a7fb176a97312', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nDepends-On: https://review.openstack.org/606398/\nDepends-On: https://review.openstack.org/610032/\nDepends-On: https://review.openstack.org/610349/\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 9, 'created': '2018-10-15 10:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/26aa0391d594dc9795dfa6c64c57c3cea6522bdf', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nDepends-On: https://review.openstack.org/606398/\nDepends-On: https://review.openstack.org/610032/\nDepends-On: https://review.openstack.org/610349/\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 10, 'created': '2018-10-16 07:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/74da1626ab1d966710026ee1bf21d8d2a950e8aa', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nDepends-On: https://review.openstack.org/606398/\nDepends-On: https://review.openstack.org/610032/\nDepends-On: https://review.openstack.org/610349/\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 11, 'created': '2018-10-16 11:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2813e392095bcba94873e3ae1df3755745cd085b', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nDepends-On: https://review.openstack.org/606398/\nDepends-On: https://review.openstack.org/610032/\nDepends-On: https://review.openstack.org/610349/\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 12, 'created': '2018-10-16 15:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9b6c973452480b93426fc423456536417c5d3938', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 13, 'created': '2018-10-18 00:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1eba21bf228d564e63d99913a92833fe49231d56', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 14, 'created': '2019-09-24 09:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7a0e4a810083a49481a0446a8fd1e22a9281064d', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 15, 'created': '2019-09-25 02:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7ce55806405f8c5720f6fef857b0121423674076', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 16, 'created': '2019-09-25 09:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e13d7a68c1bc7639d5680d9fc92df629fe501552', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 17, 'created': '2019-09-26 00:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e594abc3a8caee4f433b0e6a2c842513cbcf7eba', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 18, 'created': '2019-09-26 23:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5a3748b1d760b30917d008ff685ec8eac612ce82', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 19, 'created': '2019-09-27 00:25:17.000000000', 'files': ['doc/source/microversion_testing.rst', 'tempest/lib/services/volume/v3/types_client.py', 'tempest/api/compute/admin/test_create_server_specify_volume_type.py', 'tempest/tests/lib/services/volume/v3/test_volume_types_client.py', 'releasenotes/notes/add-show-default-volume-type-api-to-v3-types-client-0b01729586031aba.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/050b777f65c648ffa6a4b47a19eb55d45128edc2', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}]",73,609357,050b777f65c648ffa6a4b47a19eb55d45128edc2,81,15,19,26490,,,0,"Add tests for boot instance with the specified volume type

This is to add tests of boot instance with the specified volume type.

Implements blueprint: boot-instance-specific-storage-backend

Co-Authored-By: Brin Zhang <zhangbailin@inspur.com>

Change-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/57/609357/18 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_create_server_specify_volume_type.py'],1,c56dfadc26e9eafd88431d43a1152b3c6e10e5f6,bp/boot-instance-specific-storage-backend,"# Copyright 2012 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.api.compute import base from tempest import config from tempest.lib import decorators CONF = config.CONF class ServersTestSpecifyVolumeType(base.BaseV2ComputeTest): min_microversion = '2.67' max_microversion = 'latest' @classmethod def setup_credentials(cls): cls.prepare_instance_network() super(ServersTestSpecifyVolumeType, cls).setup_credentials() @classmethod def setup_clients(cls): super(ServersTestSpecifyVolumeType, cls).setup_clients() cls.client = cls.servers_client cls.volume_client = cls.volumes_extensions_client cls.volume_types_client = cls.os_primary.volume_types_client_latest @decorators.idempotent_id('defbaca5-d611-49f5-ae21-56ee25d2db66') def test_create_server_specify_volume_type(self): image_id = CONF.compute.image_ref volume_type_name = self.volume_types_client.list_volume_types()[ 'volume_types'][0].get('name') bdm = [{ 'uuid': image_id, 'source_type': 'image', 'destination_type': 'volume', 'volume_type': volume_type_name, 'boot_index': 0, 'volume_size': 1, 'delete_on_termination': False}] server = self.create_test_server( image_id='', block_device_mapping_v2=bdm, wait_until='ACTIVE') attachments = self.servers_client.list_volume_attachments( server['id'])['volumeAttachments'] fetched_volume_type = self.volumes_client.show_volume( attachments[0]['volumeId'])['volume']['volume_type'] self.addCleanup(self.delete_server, server['id']) self.assertEqual(1, len(attachments)) self.assertEqual(volume_type_name, fetched_volume_type) @decorators.idempotent_id('defbaca5-d611-49f5-ae21-56ee25d2db67') def test_create_server_without_specify_volume_type(self): image_id = CONF.compute.image_ref volume_type_name = None bdm = [{ 'uuid': image_id, 'source_type': 'image', 'destination_type': 'volume', 'volume_type': volume_type_name, 'boot_index': 0, 'volume_size': 1, 'delete_on_termination': False}] server = self.create_test_server( image_id='', block_device_mapping_v2=bdm, wait_until='ACTIVE') attachments = self.servers_client.list_volume_attachments( server['id'])['volumeAttachments'] self.addCleanup(self.delete_server, server['id']) self.assertEqual(1, len(attachments)) ",,78,0
openstack%2Ftempest~master~I95bf35223193ea697ce1f28f91203038772a3edb,openstack/tempest,master,I95bf35223193ea697ce1f28f91203038772a3edb,DNM: Test tempest-full without cinder,ABANDONED,2020-05-29 10:19:28.000000000,2022-12-24 05:50:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-29 10:19:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8881ecfd7eab6df8de4c9a8d6736dd1fe98db59b', 'message': 'DNM: Test tempest-full without cinder\n\nChange-Id: I95bf35223193ea697ce1f28f91203038772a3edb\n'}]",0,731717,8881ecfd7eab6df8de4c9a8d6736dd1fe98db59b,3,1,1,13252,,,0,"DNM: Test tempest-full without cinder

Change-Id: I95bf35223193ea697ce1f28f91203038772a3edb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/17/731717/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8881ecfd7eab6df8de4c9a8d6736dd1fe98db59b,test-no-volume, c-api: false c-vol: false c-sch: false cinder: false - tempest-full-py3, ENABLE_VOLUME_MULTIATTACH: true templates: - check-requirements - integrated-gate-py3 - openstack-cover-jobs - openstack-python3-victoria-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - devstack-tempest: files: - ^playbooks/ - ^roles/ - ^.zuul.yaml$ - devstack-tempest-ipv6: voting: false files: - ^playbooks/ - ^roles/ - ^.zuul.yaml$ - tempest-full-parallel: # Define list of irrelevant files to use everywhere else irrelevant-files: &tempest-irrelevant-files - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$ - ^tools/.*$ - ^.coveragerc$ - ^.gitignore$ - ^.gitreview$ - ^.mailmap$ - tempest-full-py3: irrelevant-files: *tempest-irrelevant-files - tempest-full-py3-ipv6: voting: false irrelevant-files: *tempest-irrelevant-files - tempest-full-ussuri-py3: irrelevant-files: *tempest-irrelevant-files - tempest-full-train-py3: irrelevant-files: *tempest-irrelevant-files - tempest-full-stein-py3: irrelevant-files: *tempest-irrelevant-files - tempest-multinode-full-py3: irrelevant-files: *tempest-irrelevant-files - tempest-tox-plugin-sanity-check: irrelevant-files: &tempest-irrelevant-files-2 - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$ - ^.coveragerc$ - ^.gitignore$ - ^.gitreview$ - ^.mailmap$ # tools/ is not here since this relies on a script in tools/. - tempest-ipv6-only: irrelevant-files: *tempest-irrelevant-files-2 - tempest-slow-py3: irrelevant-files: *tempest-irrelevant-files - nova-live-migration: voting: false irrelevant-files: *tempest-irrelevant-files - devstack-plugin-ceph-tempest-py3: voting: false irrelevant-files: *tempest-irrelevant-files - neutron-grenade-multinode: irrelevant-files: *tempest-irrelevant-files - grenade: irrelevant-files: *tempest-irrelevant-files - puppet-openstack-integration-4-scenario001-tempest-centos-7: voting: false irrelevant-files: *tempest-irrelevant-files - puppet-openstack-integration-4-scenario002-tempest-centos-7: voting: false irrelevant-files: *tempest-irrelevant-files - puppet-openstack-integration-4-scenario003-tempest-centos-7: voting: false irrelevant-files: *tempest-irrelevant-files - puppet-openstack-integration-4-scenario004-tempest-centos-7: voting: false irrelevant-files: *tempest-irrelevant-files - neutron-tempest-dvr: irrelevant-files: *tempest-irrelevant-files - interop-tempest-consistency: irrelevant-files: *tempest-irrelevant-files - tempest-full-test-account-py3: voting: false irrelevant-files: *tempest-irrelevant-files - tempest-full-test-account-no-admin-py3: voting: false irrelevant-files: *tempest-irrelevant-files - openstack-tox-bashate: irrelevant-files: *tempest-irrelevant-files-2 gate: jobs: - tempest-slow-py3: irrelevant-files: *tempest-irrelevant-files - neutron-grenade-multinode: irrelevant-files: *tempest-irrelevant-files - tempest-full-py3: irrelevant-files: *tempest-irrelevant-files - grenade: irrelevant-files: *tempest-irrelevant-files - tempest-ipv6-only: irrelevant-files: *tempest-irrelevant-files-2 experimental: jobs: - tempest-cinder-v2-api: irrelevant-files: *tempest-irrelevant-files - tempest-all: irrelevant-files: *tempest-irrelevant-files - legacy-tempest-dsvm-neutron-dvr-multinode-full: irrelevant-files: *tempest-irrelevant-files - neutron-tempest-dvr-ha-multinode-full: irrelevant-files: *tempest-irrelevant-files - nova-tempest-v2-api: irrelevant-files: *tempest-irrelevant-files - legacy-tempest-dsvm-lvm-multibackend: irrelevant-files: *tempest-irrelevant-files - tempest-pg-full: irrelevant-files: *tempest-irrelevant-files - tempest-full-py3-opensuse15: irrelevant-files: *tempest-irrelevant-files,5,129
openstack%2Ftempest~master~Ifaf69e1b3563c9c6b729885a45723acacb2c82dd,openstack/tempest,master,Ifaf69e1b3563c9c6b729885a45723acacb2c82dd,Do no check os-vol-host-attr:host when using A/A,ABANDONED,2020-03-10 13:45:21.000000000,2022-12-24 05:50:08.000000000,,"[{'_account_id': 1736}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9542}, {'_account_id': 12393}, {'_account_id': 14525}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 31868}]","[{'number': 1, 'created': '2020-03-10 13:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b9d0a740a716dca717b3ada4c8dd726da20f780c', 'message': 'Fix test_volume_retype for active-active cluster\n\nIn case of active-active cluster deployment the host of the cinder\nvolume might be changed as it is uniq per node.\n\nChange-Id: Ifaf69e1b3563c9c6b729885a45723acacb2c82dd\n'}, {'number': 2, 'created': '2020-03-10 14:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0eaec7a123d097c525690bc991e1cff3198a5a0e', 'message': 'Fix test_volume_retype for active-active cluster\n\nIn case of active-active cluster deployment the host of the cinder\nvolume might be changed as it is uniq per node.\n\nChange-Id: Ifaf69e1b3563c9c6b729885a45723acacb2c82dd\n'}, {'number': 3, 'created': '2020-04-23 07:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/aef2aead8965d557d1de4a9aa80f2d7c5de04153', 'message': ""Do no check os-vol-host-attr:host when using A/A\n\nWhen using active/active deployment services have different hostname\nsince we don't know which service process request the host might or might\nnot be changed.\n\nChange-Id: Ifaf69e1b3563c9c6b729885a45723acacb2c82dd\n""}, {'number': 4, 'created': '2020-04-23 10:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f8bf0995db8666f555d783e5d3bc6be68fd65141', 'message': ""Do no check os-vol-host-attr:host when using A/A\n\nWhen using active/active deployment services have different hostname\nsince we don't know which service process request the host might or might\nnot be changed.\n\nChange-Id: Ifaf69e1b3563c9c6b729885a45723acacb2c82dd\n""}, {'number': 5, 'created': '2020-04-23 11:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/59982f99abd5029ba8b777d30e33f14b582c79d2', 'message': ""Do no check os-vol-host-attr:host when using A/A\n\nWhen using active/active deployment services have different hostname\nsince we don't know which service process request the host might or might\nnot be changed.\n\nChange-Id: Ifaf69e1b3563c9c6b729885a45723acacb2c82dd\n""}, {'number': 6, 'created': '2020-04-29 07:22:50.000000000', 'files': ['releasenotes/notes/add-cluster-active-active-config-option-d06bd12e7842f693.yaml', 'tempest/api/volume/admin/test_volume_retype.py', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/61dda8c0e20f245505aea3bca33ff26bce53c4b2', 'message': ""Do no check os-vol-host-attr:host when using A/A\n\nWhen using active/active deployment services have different hostname\nsince we don't know which service process request the host might or might\nnot be changed.\n\nChange-Id: Ifaf69e1b3563c9c6b729885a45723acacb2c82dd\n""}]",5,712077,61dda8c0e20f245505aea3bca33ff26bce53c4b2,26,16,6,14525,,,0,"Do no check os-vol-host-attr:host when using A/A

When using active/active deployment services have different hostname
since we don't know which service process request the host might or might
not be changed.

Change-Id: Ifaf69e1b3563c9c6b729885a45723acacb2c82dd
",git fetch https://review.opendev.org/openstack/tempest refs/changes/77/712077/6 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/admin/test_volume_retype.py', 'tempest/config.py']",2,b9d0a740a716dca717b3ada4c8dd726da20f780c,mstr," 'compute backends support this operation.'), cfg.BoolOpt('cluster_active_active', default=False, help='The boolean flag to indicate if active-active mode ' 'is used by volume backend.')", 'compute backends support this operation.'),13,3
openstack%2Ftempest~master~I8dac1dc7e894af03d743117b42fb802c44a20f2b,openstack/tempest,master,I8dac1dc7e894af03d743117b42fb802c44a20f2b,Add tempest test for retype volume with attach,ABANDONED,2020-01-22 22:31:02.000000000,2022-12-24 05:50:03.000000000,,"[{'_account_id': 8367}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}, {'_account_id': 31055}]","[{'number': 1, 'created': '2020-01-22 22:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0f7bfc9c3e56974b24f39a4229eff88addeade0f', 'message': 'qwerty\n\nChange-Id: I8dac1dc7e894af03d743117b42fb802c44a20f2b\n'}, {'number': 2, 'created': '2020-01-22 22:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/48bd62f39593d48e38fe79de799d011af73114a6', 'message': 'Add tempest test for retype volume with attach\n\nAdd API admin tempest test for retype with attach afterwards.\n\nChange-Id: I8dac1dc7e894af03d743117b42fb802c44a20f2b\n'}, {'number': 3, 'created': '2020-01-26 19:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/97bdc4e2c15674c1b2cdb135cb9fc34fa06daec0', 'message': 'Add tempest test for retype volume with attach\n\nAdd API admin tempest test for retype with attach afterwards.\n\nCloses-Bug: #1843495\n\nChange-Id: I8dac1dc7e894af03d743117b42fb802c44a20f2b\n'}, {'number': 4, 'created': '2020-01-26 21:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/73a063e6ddd4160d3acc8d9cca7fda408117908b', 'message': 'Add tempest test for retype volume with attach\n\nAdd API admin tempest test for retype with attach afterwards.\n\nCloses-Bug: #1843495\n\nChange-Id: I8dac1dc7e894af03d743117b42fb802c44a20f2b\n'}, {'number': 5, 'created': '2020-01-31 16:10:55.000000000', 'files': ['tempest/api/volume/admin/test_volume_retype.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5f2b81726976a6813ce98a859669c4d39d011ca9', 'message': 'Add tempest test for retype volume with attach\n\nAdd API admin tempest test for retype with attach afterwards.\n\nCloses-Bug: #1843495\n\nChange-Id: I8dac1dc7e894af03d743117b42fb802c44a20f2b\n'}]",6,703890,5f2b81726976a6813ce98a859669c4d39d011ca9,37,9,5,31055,,,0,"Add tempest test for retype volume with attach

Add API admin tempest test for retype with attach afterwards.

Closes-Bug: #1843495

Change-Id: I8dac1dc7e894af03d743117b42fb802c44a20f2b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/90/703890/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_retype.py'],1,0f7bfc9c3e56974b24f39a4229eff88addeade0f,bug/1843495," class VolumeRetypeWithoutMigrationTestWithAttach(VolumeRetypeWithoutMigrationTest): @decorators.idempotent_id('52e9045a-e90d-4c0d-9087-79d657faffff') def test_attach_after_retype(self): server = self.create_server() volume = self.create_volume(volume_type=self.src_vol_type['name']) # Retype the volume self._retype_volume(volume, migration_policy='never') #Attach the volume self.attach_volume(server['id'], volume['id']) ",,15,0
openstack%2Ftempest~master~I6a9a9644399e54156085b8c1b4161e2cd77381bb,openstack/tempest,master,I6a9a9644399e54156085b8c1b4161e2cd77381bb,Replace all-plugin to all in tempest plugin usage docs,ABANDONED,2019-11-01 07:19:37.000000000,2022-12-24 05:49:58.000000000,,"[{'_account_id': 1921}, {'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 31055}]","[{'number': 1, 'created': '2019-11-01 07:19:37.000000000', 'files': ['doc/source/plugin.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7c30f7c2445a35c0efefec59af017464126791eb', 'message': 'Replace all-plugin to all in tempest plugin usage docs\n\nAccording to tox.ini all-plugin command is seems to be deprecated.\nThe new tox job name is added to the documentation.\n\nChange-Id: I6a9a9644399e54156085b8c1b4161e2cd77381bb\n'}]",6,692506,7c30f7c2445a35c0efefec59af017464126791eb,9,7,1,31055,,,0,"Replace all-plugin to all in tempest plugin usage docs

According to tox.ini all-plugin command is seems to be deprecated.
The new tox job name is added to the documentation.

Change-Id: I6a9a9644399e54156085b8c1b4161e2cd77381bb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/06/692506/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/plugin.rst'],1,7c30f7c2445a35c0efefec59af017464126791eb,,"Tempest also exposes a tox job, ""all"", which will setup a tox virtualenv $ tox -e all -- <plugin-name-regex>","Tempest also exposes a tox job, all-plugin, which will setup a tox virtualenv",3,1
openstack%2Ftempest~master~I01b621d72995e773fca4c65817e1654cec32fbf3,openstack/tempest,master,I01b621d72995e773fca4c65817e1654cec32fbf3,Fallback to tenant_id if project_id not found,ABANDONED,2019-10-24 05:50:12.000000000,2022-12-24 05:49:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2019-10-24 05:50:12.000000000', 'files': ['tempest/cmd/cleanup_service.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0f13256229cd512fecbd6a7cc998c31cd53f6dcb', 'message': 'Fallback to tenant_id if project_id not found\n\nCloses-Bug: #1849603\n\nChange-Id: I01b621d72995e773fca4c65817e1654cec32fbf3\n'}]",0,690809,0f13256229cd512fecbd6a7cc998c31cd53f6dcb,3,2,1,8362,,,0,"Fallback to tenant_id if project_id not found

Closes-Bug: #1849603

Change-Id: I01b621d72995e773fca4c65817e1654cec32fbf3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/09/690809/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/cmd/cleanup_service.py'],1,0f13256229cd512fecbd6a7cc998c31cd53f6dcb,bug/1849603," if (net.get('project_id', net.get('tenant_id')) == p_id and net['name'] == net_name): if secgroup['security_group_rules'][0].get('project_id', secgroup['security_group_rules'][0].get('tenant_id')) pools = [pool for pool in pools if pool.get('project_id', pool.get('tenant_id'))", if (net['project_id'] == p_id and net['name'] == net_name): if secgroup['security_group_rules'][0]['project_id'] pools = [pool for pool in pools if pool['project_id'],6,3
openstack%2Ftempest~master~Ic32d4de4bc540d8bd029e4706375bed63180acf9,openstack/tempest,master,Ic32d4de4bc540d8bd029e4706375bed63180acf9,Add last sub-command to tempest,ABANDONED,2017-10-11 08:09:25.000000000,2022-12-24 05:49:47.000000000,,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 10385}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-11 08:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/15e1c7e4c5c24426e03ca7fa641ecdd16b980206', 'message': ""Add last sub-command to tempest\n\nThis commit adds `tempest last` command which shows the last tempest run\nresult which was loaded into a repository. If we don't have this\nsub-command, we can see that result with `testr last` command. However,\nit breaks a tempest workflow a bit. Moreover, we are now changing to use\nstestr from testr. So that, tempest users don't need to know testr now.\n\nTODO\n * Implement unit tests for `tempest last`\n\nChange-Id: Ic32d4de4bc540d8bd029e4706375bed63180acf9\n""}, {'number': 2, 'created': '2017-10-12 07:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b0d2a16e443e1ab0b9fbf140aef8a37cca7317bb', 'message': ""Add last sub-command to tempest\n\nThis commit adds `tempest last` command which shows the last tempest run\nresult which was loaded into a repository. If we don't have this\nsub-command, we can see that result with `testr last` command. However,\nit breaks a tempest workflow a bit. Moreover, we are now changing to use\nstestr from testr. So that, tempest users don't need to know testr now.\n\nChange-Id: Ic32d4de4bc540d8bd029e4706375bed63180acf9\n""}, {'number': 3, 'created': '2017-10-13 05:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/14851833270494de6fd5e8d1ef1c5871fc5e5821', 'message': ""Add last sub-command to tempest\n\nThis commit adds `tempest last` command which shows the last tempest run\nresult which was loaded into a repository. If we don't have this\nsub-command, we can see that result with `testr last` command. However,\nit breaks a tempest workflow a bit. Moreover, we are now changing to use\nstestr from testr. So that, tempest users don't need to know testr now.\n\nChange-Id: Ic32d4de4bc540d8bd029e4706375bed63180acf9\n""}, {'number': 4, 'created': '2017-12-13 09:39:53.000000000', 'files': ['tempest/cmd/last.py', 'tempest/tests/cmd/test_last.py', 'tempest/tests/cmd/test_run.py', 'releasenotes/notes/add-tempest-last-subcommand-2f09618b99d7272c.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tempest/commit/408550bdebeb16f80e067ac1a8bb814ecdf70ffd', 'message': ""Add last sub-command to tempest\n\nThis commit adds `tempest last` command which shows the last tempest run\nresult which was loaded into a repository. If we don't have this\nsub-command, we can see that result with `testr last` or `stestr last`\ncommand. However, it breaks a tempest workflow a bit. One more thing is\nthat we are now switching to use stestr from testr. So that, tempest\nusers don't need to know testr now.\n\nChange-Id: Ic32d4de4bc540d8bd029e4706375bed63180acf9\n""}]",2,511172,408550bdebeb16f80e067ac1a8bb814ecdf70ffd,21,5,4,5689,,,0,"Add last sub-command to tempest

This commit adds `tempest last` command which shows the last tempest run
result which was loaded into a repository. If we don't have this
sub-command, we can see that result with `testr last` or `stestr last`
command. However, it breaks a tempest workflow a bit. One more thing is
that we are now switching to use stestr from testr. So that, tempest
users don't need to know testr now.

Change-Id: Ic32d4de4bc540d8bd029e4706375bed63180acf9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/72/511172/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/cmd/last.py', 'setup.cfg']",2,15e1c7e4c5c24426e03ca7fa641ecdd16b980206,add-last, last = tempest.cmd.last:TempestLast,,57,0
openstack%2Ftempest~master~I1f580d79f3944e74005b5923d42d0a1a3356b32c,openstack/tempest,master,I1f580d79f3944e74005b5923d42d0a1a3356b32c,TestVolumeBootPattern: Add network flag,ABANDONED,2016-11-03 11:31:36.000000000,2022-12-24 05:49:43.000000000,,"[{'_account_id': 5803}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11075}, {'_account_id': 11869}, {'_account_id': 12017}, {'_account_id': 21187}, {'_account_id': 23003}]","[{'number': 1, 'created': '2016-11-03 11:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/40d6557432ef65141f35a522b1cd1731cfcb1fe1', 'message': 'TestVolumeBootPattern: Add run_validation before ssh to an instance\n\nThis scenario ssh to an instance without checking run_validation flag.\nIn case tempest.conf validation is false , ssh to an instance should\nbe prevented.\n\nIn case run validation is enabled, we can check if its fix or\nfloating mode to ssh .\n\nChange-Id: I1f580d79f3944e74005b5923d42d0a1a3356b32c\n'}, {'number': 2, 'created': '2016-11-04 15:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2bd948d35ab0859f90fa7ce8d6b7897651e2a763', 'message': 'TestVolumeBootPattern: Add run_validation before ssh to an instance\n\nThis scenario ssh to an instance without checking run_validation flag.\nIn case tempest.conf validation is false , ssh to an instance should\nbe prevented.\n\nIn case run validation is enabled, we can check if its fix or\nfloating mode to ssh .\n\nChange-Id: I1f580d79f3944e74005b5923d42d0a1a3356b32c\n'}, {'number': 3, 'created': '2016-11-08 12:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/22f0ff3b905a25ac1ddb913b697fbb8f6aa772b9', 'message': 'TestVolumeBootPattern: Add run_validation before ssh to an instance\n\nThis scenario ssh to an instance without checking run_validation flag.\nIn case tempest.conf validation is false , ssh to an instance should\nbe prevented.\n\nIn case run validation is enabled, we can check if its fix or\nfloating mode to ssh .\n\nChange-Id: I1f580d79f3944e74005b5923d42d0a1a3356b32c\n'}, {'number': 4, 'created': '2016-11-09 05:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/397f9fe401d2d83ac9e8424fb1c1e72e4a604fb9', 'message': 'TestVolumeBootPattern: Add run_validation before ssh to an instance\n\nThis scenario ssh to an instance without checking run_validation flag.\nIn case tempest.conf validation is false , ssh to an instance should\nbe prevented.\n\nIn case run validation is enabled, we can check if its fix or\nfloating mode to ssh .\n\nChange-Id: I1f580d79f3944e74005b5923d42d0a1a3356b32c\n'}, {'number': 5, 'created': '2016-11-09 06:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7334c5d45f9b31c48b56935f4cfe3eda559007f0', 'message': 'TestVolumeBootPattern: Add run_validation before ssh to an instance\n\nThis scenario ssh to an instance without checking run_validation flag.\nIn case tempest.conf validation is false , ssh to an instance should\nbe prevented.\n\nIn case run validation is enabled, we can check if its fix or\nfloating mode to ssh .\n\nChange-Id: I1f580d79f3944e74005b5923d42d0a1a3356b32c\n'}, {'number': 6, 'created': '2016-11-09 06:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/37e5123d5fde9e011d00e07d6920711e18f5acc4', 'message': 'TestVolumeBootPattern: Add run_validation before ssh to an instance\n\nThis scenario ssh to an instance without checking run_validation flag.\nIn case tempest.conf validation is false , ssh to an instance should\nbe prevented.\n\nIn case run validation is enabled, we can check if its fix or\nfloating mode to ssh .\n\nChange-Id: I1f580d79f3944e74005b5923d42d0a1a3356b32c\n'}, {'number': 7, 'created': '2016-11-09 08:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8a9f7fa9d2efddc2b9662af395961e3d4a4a3de8', 'message': 'TestVolumeBootPattern: Add network flag\n\nThis scenario ssh to an instance using network.\n\nChange-Id: I1f580d79f3944e74005b5923d42d0a1a3356b32c\n'}, {'number': 8, 'created': '2016-11-09 12:50:13.000000000', 'files': ['tempest/scenario/test_volume_boot_pattern.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5c4f5a5ec8c7bba98afbbc186b7ed3ebcfe53020', 'message': 'TestVolumeBootPattern: Add network flag\n\nThis scenario ssh to an instance using network.\n\nChange-Id: I1f580d79f3944e74005b5923d42d0a1a3356b32c\n'}]",9,393249,5c4f5a5ec8c7bba98afbbc186b7ed3ebcfe53020,42,10,8,11075,,,0,"TestVolumeBootPattern: Add network flag

This scenario ssh to an instance using network.

Change-Id: I1f580d79f3944e74005b5923d42d0a1a3356b32c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/49/393249/8 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_volume_boot_pattern.py'],1,40d6557432ef65141f35a522b1cd1731cfcb1fe1,add_network_flag,"import testtools from tempest.common import waiters from tempest.common.utils import data_utils from tempest.scenario import manager @testtools.skipUnless(CONF.validation.run_validation, 'Instance validation tests are disabled.')",from tempest.common.utils import data_utils from tempest.common import waitersfrom tempest.scenario import manager,7,3
openstack%2Ftempest~master~Ib46712db4f47788f2832b4a5f442868edf46a2a3,openstack/tempest,master,Ib46712db4f47788f2832b4a5f442868edf46a2a3,Don't ignore api_extensions for port security,ABANDONED,2016-11-02 08:41:37.000000000,2022-12-24 05:49:38.000000000,,"[{'_account_id': 841}, {'_account_id': 1921}, {'_account_id': 6854}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 17716}]","[{'number': 1, 'created': '2016-11-02 08:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7c4649482ba3486898dc96c8e7e81a33ae9ee365', 'message': 'Do not specify port security attributes unless the extension is enabled\n\nCloses-Bug: #1638487\nChange-Id: Ib46712db4f47788f2832b4a5f442868edf46a2a3\n'}, {'number': 2, 'created': '2016-11-03 03:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/85f25e308d192d46b1e6d74f4b83a618d7586c45', 'message': ""Do not specify port security attributes unless the extension is enabled\n\nCONF.network_feature_enabled.port_security [1] was introduced\nrecently.  It's enabled by devstack unconditionally and breaks\nplugins without the extension.  This commit fixes the regression\nby avoiding using the extension unless it's available.\n\nWhy CONF.network_feature_enabled.port_security was necessary\nin addition to the usual mechanism is unclear to me.\n\n[1] I1efd5c838aa0d73cc6e8864e3041eea25850198d\n\nCloses-Bug: #1638487\nChange-Id: Ib46712db4f47788f2832b4a5f442868edf46a2a3\n""}, {'number': 3, 'created': '2016-11-10 07:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e014862c8fef336ecffc51653f0a5d9462f10fe6', 'message': ""Don't specify port security attrs unless enabled in the ext list\n\nCONF.network_feature_enabled.port_security [1] [2] was introduced\nrecently.  It's enabled by devstack unconditionally and breaks\nplugins without the extension.  This commit fixes the regression\nby avoiding using the extension unless it's available.\n\nAlso, this commit deprecates CONF.network_feature_enabled.port_security\nin favor of the existing CONF.network_feature_enabled.api_extensions.\n\n[1] I20b8d5d2a300c83a59bdb33374fc20447ce2ede3\n[2] I1efd5c838aa0d73cc6e8864e3041eea25850198d\n\nCloses-Bug: #1638487\nChange-Id: Ib46712db4f47788f2832b4a5f442868edf46a2a3\n""}, {'number': 4, 'created': '2016-11-10 07:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0e1beb116798471da888dec301d72a410a9bf8e1', 'message': ""Don't ignore api_extensions for port security\n\nCONF.network_feature_enabled.port_security [1] [2] was introduced\nrecently.  It's enabled by devstack unconditionally and breaks\nplugins without the extension.  This commit fixes the regression\nby avoiding using the extension unless it's available.\n\nAlso, this commit deprecates CONF.network_feature_enabled.port_security\nin favor of the existing CONF.network_feature_enabled.api_extensions.\n\n[1] I20b8d5d2a300c83a59bdb33374fc20447ce2ede3\n[2] I1efd5c838aa0d73cc6e8864e3041eea25850198d\n\nCloses-Bug: #1638487\nChange-Id: Ib46712db4f47788f2832b4a5f442868edf46a2a3\n""}, {'number': 5, 'created': '2016-11-18 05:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/048dbefa4b714846893c4696c7f1b02e48e758d3', 'message': ""Don't ignore api_extensions for port security\n\nCONF.network_feature_enabled.port_security [1] [2] was introduced\nrecently.  It's enabled by devstack unconditionally and breaks\nplugins without the extension.  This commit fixes the regression\nby avoiding using the extension unless it's available.\n\nAlso, this commit deprecates CONF.network_feature_enabled.port_security\nin favor of the existing CONF.network_feature_enabled.api_extensions.\n\n[1] I20b8d5d2a300c83a59bdb33374fc20447ce2ede3\n[2] I1efd5c838aa0d73cc6e8864e3041eea25850198d\n\nCloses-Bug: #1638487\nChange-Id: Ib46712db4f47788f2832b4a5f442868edf46a2a3\n""}, {'number': 6, 'created': '2016-11-18 07:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cb1e9d43b9a7bb9219cae5e3eccec4c2e3f61820', 'message': ""Don't ignore api_extensions for port security\n\nCONF.network_feature_enabled.port_security [1] [2] was introduced\nrecently.  It's enabled by devstack unconditionally and breaks\nplugins without the extension.  This commit fixes the regression\nby avoiding using the extension unless it's available.\n\nAlso, this commit deprecates CONF.network_feature_enabled.port_security\nin favor of the existing CONF.network_feature_enabled.api_extensions.\n\n[1] I20b8d5d2a300c83a59bdb33374fc20447ce2ede3\n[2] I1efd5c838aa0d73cc6e8864e3041eea25850198d\n\nCloses-Bug: #1638487\nChange-Id: Ib46712db4f47788f2832b4a5f442868edf46a2a3\n""}, {'number': 7, 'created': '2016-11-18 09:00:57.000000000', 'files': ['releasenotes/notes/deprecate-port_security_enabled-ff1ab128ca491ab4.yaml', 'tempest/scenario/manager.py', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e881b2dd637b7692092cd1c25f6720ffa3dc92e8', 'message': ""Don't ignore api_extensions for port security\n\nCONF.network_feature_enabled.port_security [1] [2] was introduced\nrecently.  It's enabled by devstack unconditionally and breaks\nplugins without the extension.  This commit fixes the regression\nby avoiding using the extension unless it's available.\n\nAlso, this commit deprecates CONF.network_feature_enabled.port_security\nin favor of the existing CONF.network_feature_enabled.api_extensions.\n\n[1] I20b8d5d2a300c83a59bdb33374fc20447ce2ede3\n[2] I1efd5c838aa0d73cc6e8864e3041eea25850198d\n\nCloses-Bug: #1638487\nChange-Id: Ib46712db4f47788f2832b4a5f442868edf46a2a3\n""}]",20,392464,e881b2dd637b7692092cd1c25f6720ffa3dc92e8,59,10,7,6854,,,0,"Don't ignore api_extensions for port security

CONF.network_feature_enabled.port_security [1] [2] was introduced
recently.  It's enabled by devstack unconditionally and breaks
plugins without the extension.  This commit fixes the regression
by avoiding using the extension unless it's available.

Also, this commit deprecates CONF.network_feature_enabled.port_security
in favor of the existing CONF.network_feature_enabled.api_extensions.

[1] I20b8d5d2a300c83a59bdb33374fc20447ce2ede3
[2] I1efd5c838aa0d73cc6e8864e3041eea25850198d

Closes-Bug: #1638487
Change-Id: Ib46712db4f47788f2832b4a5f442868edf46a2a3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/64/392464/7 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,7c4649482ba3486898dc96c8e7e81a33ae9ee365,bug/1638487," if (tempest.test.is_extension_enabled('port-security', 'network') and CONF.network_feature_enabled.port_security):", if CONF.network_feature_enabled.port_security:,2,1
openstack%2Ftempest~master~I6accf9792bc6754fce873b6c34f9889611788819,openstack/tempest,master,I6accf9792bc6754fce873b6c34f9889611788819,Ensure we delete shelved image,ABANDONED,2017-04-17 21:43:56.000000000,2022-12-24 05:49:34.000000000,,"[{'_account_id': 5196}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7350}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-04-17 21:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ed8e0da7054b24fda10c4b4e073b825647b43e31', 'message': 'Ensure we delete sheleved image\n\nWhen running test_shelved_unshelve_server() the server shelving\noperation creates an image, but we never ensure that image is cleaned up\nat the end of the test. This commit adds the image id that nova creates\nto the class level images list to make sure we delete it if the image\nstill exists during the tearDownClass.\n\nChange-Id: I6accf9792bc6754fce873b6c34f9889611788819\n'}, {'number': 2, 'created': '2017-04-19 14:30:32.000000000', 'files': ['tempest/api/compute/servers/test_delete_server.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/362562d1dbbb7dded2b4820624a8ca6e874073f6', 'message': 'Ensure we delete shelved image\n\nWhen running test_delete_server_while_in_shelved_state() the server\nshelving operation creates an image, but we never ensure that image is\ncleaned up at the end of the test. This commit adds the image id that\nnova creates to the class level images list to make sure we delete it\nif the image still exists during the tearDownClass.\n\nChange-Id: I6accf9792bc6754fce873b6c34f9889611788819\n'}]",5,457377,362562d1dbbb7dded2b4820624a8ca6e874073f6,22,9,2,5196,,,0,"Ensure we delete shelved image

When running test_delete_server_while_in_shelved_state() the server
shelving operation creates an image, but we never ensure that image is
cleaned up at the end of the test. This commit adds the image id that
nova creates to the class level images list to make sure we delete it
if the image still exists during the tearDownClass.

Change-Id: I6accf9792bc6754fce873b6c34f9889611788819
",git fetch https://review.opendev.org/openstack/tempest refs/changes/77/457377/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_server_actions.py'],1,ed8e0da7054b24fda10c4b4e073b825647b43e31,457377, self.images.append(images[0]['id']),,1,0
openstack%2Ftempest~master~I2f19067c538482565df4e0d4b6025f025f1922f6,openstack/tempest,master,I2f19067c538482565df4e0d4b6025f025f1922f6,Validate server status in volume api tests,ABANDONED,2019-03-25 20:54:16.000000000,2022-12-24 05:49:28.000000000,,"[{'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-25 20:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b47a08881efd8554b297ad27f3aca165d00ca83b', 'message': 'Validate server status in volume api tests\n\nOnly 3 test in the volume section requires a working vm\nfor proper detach, the vm aliveness tested over ssh,\nwhich will also helps in avoiding the missed acpi events issues.\n\nThe get_server_ip is closely related to the validation resources,\ncreated in the base class, so moving it there.\n\nThe ServerUnreachable exception used by this method,\nso moving it to the lib_exc.\n\nChange-Id: I2f19067c538482565df4e0d4b6025f025f1922f6\n'}, {'number': 2, 'created': '2019-03-26 04:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/66b7b05caca75b6c725f2b34a8b4fb40efdab4d2', 'message': 'Validate server status in volume api tests\n\nOnly 3 test in the volume section requires a working vm\nfor proper detach, the vm aliveness tested over ssh,\nwhich will also helps in avoiding the missed acpi events issues.\n\nThe get_server_ip is closely related to the validation resources,\ncreated in the base class, so moving it there.\n\nThe ServerUnreachable exception used by this method,\nso moving it to the lib_exc.\n\nChange-Id: I2f19067c538482565df4e0d4b6025f025f1922f6\n'}, {'number': 3, 'created': '2019-03-28 09:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a915d564e65434f525d51c71b89d3c6ec56284b8', 'message': 'Validate server status in volume api tests\n\nOnly 3 test in the volume section requires a working vm\nfor proper detach, the vm aliveness tested over ssh,\nwhich helps in avoiding the missed acpi events issues.\n\nThe get_server_ip is closely related to the validation resources,\ncreated in the base class, so moving it there.\n\nThe ServerUnreachable exception used by this method,\nso moving it to the lib_exc.\n\nThe ssh output also helps in to see was the vm\ndead before a detach failed.\n\nChange-Id: I2f19067c538482565df4e0d4b6025f025f1922f6\n'}, {'number': 4, 'created': '2019-04-01 15:35:14.000000000', 'files': ['tempest/api/compute/base.py', 'tempest/api/volume/test_volumes_backup.py', 'tempest/scenario/manager.py', 'tempest/api/volume/test_volumes_snapshots.py', 'tempest/api/volume/base.py', 'tempest/exceptions.py', 'tempest/lib/exceptions.py', 'tempest/test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/cbae6a9f2686fec46436bb70587cd2bab58eea66', 'message': 'Validate server status in volume api tests\n\nOnly 3 test in the volume section requires a working vm\nfor a proper detach. The vm aliveness tested over ssh,\nwhich helps in avoiding the missed acpi events issues.\n\nThe get_server_ip is closely related to the validation resources,\ncreated in the base class, so moving it there.\n\nThe ServerUnreachable exception used by this method,\nso moving it to the lib_exc.\n\nThe ssh output also helps in to see was the vm\ndead before a detach failed.\n\nChange-Id: I2f19067c538482565df4e0d4b6025f025f1922f6\n'}]",6,647602,cbae6a9f2686fec46436bb70587cd2bab58eea66,25,5,4,5803,,,0,"Validate server status in volume api tests

Only 3 test in the volume section requires a working vm
for a proper detach. The vm aliveness tested over ssh,
which helps in avoiding the missed acpi events issues.

The get_server_ip is closely related to the validation resources,
created in the base class, so moving it there.

The ServerUnreachable exception used by this method,
so moving it to the lib_exc.

The ssh output also helps in to see was the vm
dead before a detach failed.

Change-Id: I2f19067c538482565df4e0d4b6025f025f1922f6
",git fetch https://review.opendev.org/openstack/tempest refs/changes/02/647602/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/base.py', 'tempest/api/volume/test_volumes_backup.py', 'tempest/api/volume/test_volumes_snapshots.py', 'tempest/scenario/manager.py', 'tempest/api/volume/base.py', 'tempest/exceptions.py', 'tempest/lib/exceptions.py', 'tempest/test.py']",8,b47a08881efd8554b297ad27f3aca165d00ca83b,validate_volume," @classmethod def get_server_ip(cls, server, validation_resources=None): """"""Get the server fixed or floating IP. Based on the configuration we're in, return a correct ip address for validating that a guest is up. :param server: The server dict as returned by the API :param validation_resources: The dict of validation resources provisioned for the server. """""" if CONF.validation.connect_method == 'floating': if validation_resources: return validation_resources['floating_ip']['ip'] else: msg = ('When validation.connect_method equals floating, ' 'validation_resources cannot be None') raise lib_exc.InvalidParam(invalid_param=msg) elif CONF.validation.connect_method == 'fixed': addresses = server['addresses'][CONF.validation.network_for_ssh] for address in addresses: if address['version'] == CONF.validation.ip_version_for_ssh: return address['addr'] raise lib_exc.ServerUnreachable(server_id=server['id']) else: raise lib_exc.InvalidConfiguration() ",,81,38
openstack%2Ftempest~master~Ide9836afba4a12b2ca780cf447c747797023651c,openstack/tempest,master,Ide9836afba4a12b2ca780cf447c747797023651c,Test multiattach volume booted server does not delete multi attachments,ABANDONED,2021-11-23 08:01:42.000000000,2022-12-24 05:47:51.000000000,,"[{'_account_id': 8556}, {'_account_id': 11075}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-23 08:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/395ddf8537f8d9bd63d5921b6411f1e1f7596a28', 'message': 'Test delete server with multiattached bootable volume\n\nChange-Id: Ide9836afba4a12b2ca780cf447c747797023651c\n'}, {'number': 2, 'created': '2021-11-23 08:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d6ad70a4f23e02340e5f9bf5c34a43a0f4e1b3c4', 'message': ""Test delete server with multiattached bootable volume\n\nCreate a bootable multiattach volume with delete_on_termination=True, create server1 from the volume, then attach it to server2, and then delete server1 in which case the volume won't be deleted because it's still attached to server2 and make sure the volume is still attached to server2.\n\nChange-Id: Ide9836afba4a12b2ca780cf447c747797023651c\n""}, {'number': 3, 'created': '2021-11-24 00:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e76719dc52196379d7c32ce214add70d8e2d3822', 'message': ""Test delete server with multiattached bootable volume\n\nCreate a bootable multiattach volume with delete_on_termination=True, create server1 from the volume, then attach it to server2, and then delete server1 in which case the volume won't be deleted because it's still attached to server2 and make sure the volume is still attached to server2.\n\nChange-Id: Ide9836afba4a12b2ca780cf447c747797023651c\n""}, {'number': 4, 'created': '2021-11-24 06:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/916a189f4c6c7dba1673cd1395d5512d0028566e', 'message': ""Test delete server with multiattached bootable volume\n\nCreate a bootable multiattach volume with delete_on_termination=True, create server1 from the volume, then attach it to server2, and then delete server1 in which case the volume won't be deleted because it's still attached to server2 and make sure the volume is still attached to server2.\n\nChange-Id: Ide9836afba4a12b2ca780cf447c747797023651c\n""}, {'number': 5, 'created': '2021-12-02 00:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/18e416ac8ab79fc1cf7424c2f5a51948061bbf3f', 'message': ""Test multiattach volume booted server does not delete multi attachments\n\nCreate a bootable multiattach volume, create server1 from the volume, then attach it to server2, and then delete server1 in which case the volume won't be deleted because it's still attached to server2 and make sure the volume is still attached to server2.\n\nChange-Id: Ide9836afba4a12b2ca780cf447c747797023651c\n""}, {'number': 6, 'created': '2021-12-02 03:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f8fca90e5cda4fdcbc2084458d0f1681b2b4f896', 'message': ""Test multiattach volume booted server does not delete multi attachments\n\nCreate a bootable multiattach volume, create server1 from the volume, then attach it to server2, and then delete server1 in which case the volume won't be deleted because it's still attached to server2 and make sure the volume is still attached to server2.\n\nChange-Id: Ide9836afba4a12b2ca780cf447c747797023651c\n""}, {'number': 7, 'created': '2021-12-03 00:43:21.000000000', 'files': ['tempest/api/compute/volumes/test_attach_volume.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6d38fb282c047d95338a83bae535ae1e73470f1e', 'message': ""Test multiattach volume booted server does not delete multi attachments\n\nCreate a bootable multiattach volume, create server1 from the volume, then attach it to server2, and then delete server1 in which case the volume won't be deleted because it's still attached to server2 and make sure the volume is still attached to server2.\n\nChange-Id: Ide9836afba4a12b2ca780cf447c747797023651c\n""}]",13,818861,6d38fb282c047d95338a83bae535ae1e73470f1e,22,3,7,31280,,,0,"Test multiattach volume booted server does not delete multi attachments

Create a bootable multiattach volume, create server1 from the volume, then attach it to server2, and then delete server1 in which case the volume won't be deleted because it's still attached to server2 and make sure the volume is still attached to server2.

Change-Id: Ide9836afba4a12b2ca780cf447c747797023651c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/61/818861/7 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/volumes/test_attach_volume.py'],1,395ddf8537f8d9bd63d5921b6411f1e1f7596a28,tempest05," def _boot_from_multiattach_volume(self, delete_on_termination=False): 'delete_on_termination': delete_on_termination}] @decorators.idempotent_id('40ae5c1a-59eb-4db6-b09c-34489a9c7776') def test_delete_server_with_multiattached_bootable_volume(self): """"""Test create a bootable multiattach volume with delete_on_termination=True, create server1 from the volume, then attach it to server2, and then delete server1 in which case the volume won't be deleted because it's still attached to server2 and make sure the volume is still attached to server2. """""" server1, volume = self._boot_from_multiattach_volume( delete_on_termination=True) server2 = self.create_test_server() # Now wait for server2 to be ACTIVE. waiters.wait_for_server_status(self.servers_client, server2['id'], 'ACTIVE') # Attach the volume to server2 self._attach_volume_to_servers(volume, [server2]) # Now delete server1 check the volume won't be deleted and the volume # is still attached to server2 self.client.delete_server(server1['id']) waiters.wait_for_server_termination(self.client, server1['id']) waiters.wait_for_volume_resource_status( self.volumes_client, volume_id, 'in-use') self._detach_multiattach_volume(volume['id'], server2['id'])"," def _boot_from_multiattach_volume(self): 'delete_on_termination': False}] # TODO(mriedem): Might be interesting to create a bootable multiattach # volume with delete_on_termination=True, create server1 from the # volume, then attach it to server2, and then delete server1 in which # case the volume won't be deleted because it's still attached to # server2 and make sure the volume is still attached to server2.",31,7
openstack%2Ftempest~master~I4675e86993fa724f04789fe02b2301ea73fd8405,openstack/tempest,master,I4675e86993fa724f04789fe02b2301ea73fd8405,DNM: troubleshoot guest kernel panic,ABANDONED,2021-11-11 13:56:54.000000000,2022-12-24 05:47:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-11 13:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/85a963fe69e9c6177a1e2d81235c24899c97f5ed', 'message': 'DNM: troubleshoot guest kernel panic\n\nRelated-Bug: #1950310\nChange-Id: I4675e86993fa724f04789fe02b2301ea73fd8405\n'}, {'number': 2, 'created': '2021-11-16 11:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/115af9676aa7776c4f9ff4eabfc664ca3db70e43', 'message': 'DNM: troubleshoot guest kernel panic\n\nRelated-Bug: #1950310\nChange-Id: I4675e86993fa724f04789fe02b2301ea73fd8405\n'}, {'number': 3, 'created': '2021-11-16 13:20:50.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/274689f528e1fe9d5d84d23819a7a93c26ef0689', 'message': 'DNM: troubleshoot guest kernel panic\n\nRelated-Bug: #1950310\nChange-Id: I4675e86993fa724f04789fe02b2301ea73fd8405\n'}]",0,817560,274689f528e1fe9d5d84d23819a7a93c26ef0689,6,1,3,9708,,,0,"DNM: troubleshoot guest kernel panic

Related-Bug: #1950310
Change-Id: I4675e86993fa724f04789fe02b2301ea73fd8405
",git fetch https://review.opendev.org/openstack/tempest refs/changes/60/817560/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/base.py'],1,85a963fe69e9c6177a1e2d81235c24899c97f5ed,bug/1950310," console_output = self.servers_client.get_console_output( server['id'])['output'] LOG.debug( 'Console output before waiting 30 sec before volume detach' 'for %s\nconsole=\n%s', server['id'], console_output) import time time.sleep(30) console_output = self.servers_client.get_console_output( server['id'])['output'] LOG.debug( 'Console output before volume detach for %s\nconsole=\n%s', server['id'], console_output) ",,15,0
openstack%2Ftempest~master~Ic280f00a702d647af88daaededd4ce85c04ca1ad,openstack/tempest,master,Ic280f00a702d647af88daaededd4ce85c04ca1ad,"API support list group snapshots by filters in the url, with microversion greater than 3.29",ABANDONED,2021-08-06 06:48:42.000000000,2022-12-24 05:47:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-06 06:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7c81d57a196ac424fccdccdf58b97ef26f700168', 'message': 'API support list group snapshots by filters in the url, with microversion greater than 3.29\n\nChange-Id: Ic280f00a702d647af88daaededd4ce85c04ca1ad\n'}, {'number': 2, 'created': '2021-08-09 02:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/567c84807df02d06070f65dd5a450d53859c5e7e', 'message': 'API support list group snapshots by filters in the url, with microversion greater than 3.29\n\nTest list group snapshots sort by name\n\nChange-Id: Ic280f00a702d647af88daaededd4ce85c04ca1ad\n'}, {'number': 3, 'created': '2021-08-09 10:00:06.000000000', 'files': ['tempest/api/volume/admin/test_group_snapshots.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/355fa15951b442aff0b7793ad3c87d45e7a038b7', 'message': 'API support list group snapshots by filters in the url, with microversion greater than 3.29\n\nTest list group snapshots sort by name\n\nChange-Id: Ic280f00a702d647af88daaededd4ce85c04ca1ad\n'}]",0,803700,355fa15951b442aff0b7793ad3c87d45e7a038b7,9,1,3,31280,,,0,"API support list group snapshots by filters in the url, with microversion greater than 3.29

Test list group snapshots sort by name

Change-Id: Ic280f00a702d647af88daaededd4ce85c04ca1ad
",git fetch https://review.opendev.org/openstack/tempest refs/changes/00/803700/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_group_snapshots.py'],1,7c81d57a196ac424fccdccdf58b97ef26f700168,tempest_05," class GroupSnapshotsV329Test(BaseGroupSnapshotsTest): """"""Test group snapshot with volume microversion greater than 3.28"""""" min_microversion = '3.29' max_microversion = 'latest' @decorators.idempotent_id('ef620194-7cb6-48d3-af2d-1e8d181b0e8a') def test_list_group_snapshots_with_filters(self): """"""Test list group snapshot with filters"""""" # Create volume type volume_type = self.create_volume_type() # Create group type group_type = self.create_group_type() # Create group grp = self.create_group(group_type=group_type['id'], volume_types=[volume_type['id']]) # Create volume vol = self.create_volume(volume_type=volume_type['id'], group_id=grp['id']) # Create group snapshot snapshot_name_a = 'a_{}'.format(data_utils.rand_name('group_snapshot')) snapshot_a = self._create_group_snapshot( group_id=grp['id'], name=snapshot_name_a) snapshots = self.snapshots_client.list_snapshots( detail=True)['snapshots'] for snap in snapshots: if vol['id'] == snap['volume_id']: waiters.wait_for_volume_resource_status( self.snapshots_client, snap['id'], 'available') snapshot_name_b = 'b_{}'.format(data_utils.rand_name('group_snapshot')) snapshot_b = self._create_group_snapshot( group_id=grp['id'], name=snapshot_name_b) snapshots = self.snapshots_client.list_snapshots( detail=True)['snapshots'] for snap in snapshots: if vol['id'] == snap['volume_id']: waiters.wait_for_volume_resource_status( self.snapshots_client, snap['id'], 'available') # Get group snapshots, sort by name, sort direction is asc group_snapshots = self.group_snapshots_client.list_group_snapshots( detail=True, sort=""name:asc"")['group_snapshots'] name_list = [it['name'] for it in group_snapshots] self.assertLess( name_list.index(snapshot_name_a), name_list.index(snapshot_name_b)) # Get group snapshots, sort by name, sort direction is desc group_snapshots = self.group_snapshots_client.list_group_snapshots( detail=True, sort=""name:desc"")['group_snapshots'] name_list = [it['name'] for it in group_snapshots] self.assertLess( name_list.index(snapshot_name_b), name_list.index(snapshot_name_a)) group_snapshots = self.group_snapshots_client.list_group_snapshots( detail=True, limit=1)['group_snapshots'] self.assertEqual(1, len(group_snapshots)) # get group snapshots with large offset, check snapshot null group_snapshots = self.group_snapshots_client.list_group_snapshots( detail=True, limit=10, offset=1000000)['group_snapshots'] self.assertEqual(0, len(group_snapshots)) # Delete group snapshot self._delete_group_snapshot(snapshot_a) self._delete_group_snapshot(snapshot_b)",,72,0
openstack%2Ftempest~master~I01f3637ed3a40621418f15272ac58c618da30796,openstack/tempest,master,I01f3637ed3a40621418f15272ac58c618da30796,Create a bootable volume with group,ABANDONED,2021-07-23 12:49:17.000000000,2022-12-24 05:47:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-23 12:49:17.000000000', 'files': ['tempest/api/volume/admin/test_groups.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ea04e312c02b1891c1f6d0152bf1e2453cf73582', 'message': 'Create a bootable volume with group\n\nChange-Id: I01f3637ed3a40621418f15272ac58c618da30796\n'}]",0,802021,ea04e312c02b1891c1f6d0152bf1e2453cf73582,3,1,1,27615,,,0,"Create a bootable volume with group

Change-Id: I01f3637ed3a40621418f15272ac58c618da30796
",git fetch https://review.opendev.org/openstack/tempest refs/changes/21/802021/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_groups.py'],1,ea04e312c02b1891c1f6d0152bf1e2453cf73582,," @decorators.idempotent_id('25f7cbdb-c654-47ef-ae90-ad1379fd9bbb') def test_group_create_bootable_volume(self): """"""Test creating group with bootable volume"""""" # Create volume type volume_type = self.create_volume_type() # Create group type group_type = self.create_group_type() # Create group grp1_name = data_utils.rand_name('Group1') grp1 = self.create_group(group_type=group_type['id'], volume_types=[volume_type['id']], name=grp1_name) # Create volume from image img_uuid = CONF.compute.image_ref vol1_name = data_utils.rand_name(""volume"") params = {'name': vol1_name, 'volume_type': volume_type['id'], 'group_id': grp1['id'], 'size': CONF.volume.volume_size, 'imageRef': img_uuid} vol1 = self.volumes_client.create_volume(**params)['volume'] self.assertEqual(grp1['id'], vol1['group_id']) waiters.wait_for_volume_resource_status( self.volumes_client, vol1['id'], 'available') ",,28,0
openstack%2Ftempest~master~Ie017fc62dc1cab7c4f918e4ad283ae3da6d6d869,openstack/tempest,master,Ie017fc62dc1cab7c4f918e4ad283ae3da6d6d869,test_server_multinode.TestServerMultinode.test_schedule_to _all_nodes failed.,ABANDONED,2021-04-28 07:45:40.000000000,2022-12-24 05:47:00.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-28 07:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0842c1e1b7228c7777d4af938fdb4ba8bafc2f08', 'message': 'test_server_multinode.TestServerMultinode.\ntest_schedule_to_all_nodes will create a vm on all the\ncompute nodes included in az, but when there is an ironic\ntype hypervisor, the test fails.\n\nThis patch will exclude ironic type hypervisors.\n\nRelated Bug: #1926403\nChange-Id: Ie017fc62dc1cab7c4f918e4ad283ae3da6d6d869\n'}, {'number': 2, 'created': '2021-05-14 02:49:17.000000000', 'files': ['tempest/scenario/test_server_multinode.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/83a80ef4512ddcf72539f84dd11e119d603b61a5', 'message': 'test_server_multinode.TestServerMultinode.test_schedule_to\n_all_nodes failed.\n\ntest_server_multinode.TestServerMultinode.test_schedule_to\n_all_nodes will create a vm on all the compute nodes\nincluded in az, but when there is an ironic type\nhypervisor, the test fails.\n\nThis patch will exclude ironic type hypervisors.\n\nRelated Bug: #1926403\nChange-Id: Ie017fc62dc1cab7c4f918e4ad283ae3da6d6d869\n'}]",2,788417,83a80ef4512ddcf72539f84dd11e119d603b61a5,9,2,2,31455,,,0,"test_server_multinode.TestServerMultinode.test_schedule_to
_all_nodes failed.

test_server_multinode.TestServerMultinode.test_schedule_to
_all_nodes will create a vm on all the compute nodes
included in az, but when there is an ironic type
hypervisor, the test fails.

This patch will exclude ironic type hypervisors.

Related Bug: #1926403
Change-Id: Ie017fc62dc1cab7c4f918e4ad283ae3da6d6d869
",git fetch https://review.opendev.org/openstack/tempest refs/changes/17/788417/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_server_multinode.py'],1,0842c1e1b7228c7777d4af938fdb4ba8bafc2f08,tempest/fix_1926403, hypervisors = self.os_admin.hypervisor_client.list_hypervisors( detail=True)['hypervisors'] available_hypervisors = set( hyp['hypervisor_hostname'] for hyp in hypervisors if hyp['state'] == 'up' and hyp['hypervisor_type'] != 'ironic') zone['hosts'][host]['nova-compute']['available'] \ and host in available_hypervisors:, zone['hosts'][host]['nova-compute']['available']:,8,1
openstack%2Ftempest~master~Iab55bfaf634b003741976c820c88ab25293a8528,openstack/tempest,master,Iab55bfaf634b003741976c820c88ab25293a8528,Wait for info_cache updated,ABANDONED,2021-05-21 01:45:32.000000000,2022-12-24 05:46:56.000000000,,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-21 01:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f6d52e83f4a6d71fccf95f0fd258676077a32cfa', 'message': 'Do not assume security group name\n\nServer detail list might return a security\nid, so first iterate through available security\ngroups to make sure security group id is not there\n\nChange-Id: Iab55bfaf634b003741976c820c88ab25293a8528\n'}, {'number': 2, 'created': '2021-05-21 05:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1c252433a145f0263e6d49969258955fb1b9ae7c', 'message': 'Do not assume security group name\n\nServer detail list might return a security\nid, so first iterate through available security\ngroups to make sure security group id is not there\n\nChange-Id: Iab55bfaf634b003741976c820c88ab25293a8528\n'}, {'number': 3, 'created': '2021-05-29 03:07:35.000000000', 'files': ['tempest/api/compute/servers/test_server_actions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/fc2d80111188cf978e6c4c536e7ff35c08eeb15d', 'message': 'Wait for info_cache updated\n\nWe plan to cache security groups in info_cache\nso we should wait for its update\n\nChange-Id: Iab55bfaf634b003741976c820c88ab25293a8528\n'}]",1,792491,fc2d80111188cf978e6c4c536e7ff35c08eeb15d,12,2,3,29071,,,0,"Wait for info_cache updated

We plan to cache security groups in info_cache
so we should wait for its update

Change-Id: Iab55bfaf634b003741976c820c88ab25293a8528
",git fetch https://review.opendev.org/openstack/tempest refs/changes/91/792491/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_server_actions.py'],1,f6d52e83f4a6d71fccf95f0fd258676077a32cfa,update-remove-security," cls.security_groups_client = cls.os_primary.security_groups_client sg_list = self.security_groups_client.list_security_groups() name_or_id = server['security_groups'][0]['name'] sg_name = name_or_id for sg in sg_list: if sg['id'] == name_or_id: sg_name = sg['name'] break server['id'], name=sg_name)"," server['id'], name=server['security_groups'][0]['name'])",9,1
openstack%2Ftempest~master~I6d86fc23b00f9685a41193dc34517cdbaa395b9a,openstack/tempest,master,I6d86fc23b00f9685a41193dc34517cdbaa395b9a,Fix test_volume_crud_with_volume_type when multi backend setup,ABANDONED,2021-02-09 13:33:07.000000000,2022-12-24 05:46:52.000000000,,"[{'_account_id': 8556}, {'_account_id': 21187}, {'_account_id': 22348}, {'_account_id': 22696}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-02-09 13:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/580de0e0c9d82024f1aadbbdd1dac1d01e925e56', 'message': 'Fix test_volume_crud_with_volume_type when multi backend setup\n\nWhen having a multiple backend setup with cinder , storage_protocols\nand vendor_name are per cinder backend.\n\nAdded support for multi-backend setup, get the storage_protocol and\nvendor name from  cinder get-pool info (cinder driver) per requested\nbackend.\n\nIn case we do not enable multi-backend in tempest.conf we should\nretrieve data from tempest.conf (vendor_name)\n\nChange-Id: I6d86fc23b00f9685a41193dc34517cdbaa395b9a\n'}, {'number': 2, 'created': '2021-04-27 12:57:15.000000000', 'files': ['tempest/api/volume/admin/test_volume_types.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3391b101c6a83ca4e090ad0417f8796420288c71', 'message': 'Fix test_volume_crud_with_volume_type when multi backend setup\n\nWhen having a multiple backend setup with cinder , storage_protocols\nand vendor_name are per cinder backend.\n\nAdded support for multi-backend setup, get the storage_protocol and\nvendor name from  cinder get-pool info (cinder driver) per requested\nbackend.\n\nIn case we do not enable multi-backend in tempest.conf we should\nretrieve data from tempest.conf (vendor_name)\n\nChange-Id: I6d86fc23b00f9685a41193dc34517cdbaa395b9a\n'}]",1,774643,3391b101c6a83ca4e090ad0417f8796420288c71,13,5,2,11075,,,0,"Fix test_volume_crud_with_volume_type when multi backend setup

When having a multiple backend setup with cinder , storage_protocols
and vendor_name are per cinder backend.

Added support for multi-backend setup, get the storage_protocol and
vendor name from  cinder get-pool info (cinder driver) per requested
backend.

In case we do not enable multi-backend in tempest.conf we should
retrieve data from tempest.conf (vendor_name)

Change-Id: I6d86fc23b00f9685a41193dc34517cdbaa395b9a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/43/774643/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_types.py'],1,580de0e0c9d82024f1aadbbdd1dac1d01e925e56,," @classmethod def resource_setup(cls): """"""multi-backend setup storage_protocol and vendor_name When multi-backend enabled we retrieve the storage_protocol and vendor_name per backend from the cinder get-pools driver setting. When we create a type we must bind the storage_protocol to vendor_name """""" super(VolumeTypesTest, cls).resource_setup() cls.extra_specs = {} if CONF.volume_feature_enabled.multi_backend: cls.backend_name = CONF.volume.backend_names[0] # Get pool info according to backend name cinder_pools = cls.admin_scheduler_stats_client.list_pools( detail=True)['pools'] pool = \ [p for p in cinder_pools if p['capabilities']['volume_backend_name'] == cls.backend_name] cls._set_extra_specs(""storage_protocol"", pool[0]['capabilities']['storage_protocol']) cls._set_extra_specs(""vendor_name"", pool[0]['capabilities']['vendor_name']) cls._set_extra_specs(""volume_backend_name"", cls.backend_name) else: # if multi-backend disabled get info from CONF cls._set_extra_specs(""storage_protocol"", CONF.volume.storage_protocol) cls._set_extra_specs(""vendor_name"", CONF.volume.vendor_name) @classmethod def _set_extra_specs(cls, key, value): cls.extra_specs[key] = value extra_specs=self.extra_specs) 'extra_specs': self.extra_specs, self.assertEqual(self.extra_specs, fetched_volume_type['extra_specs'],"," proto = CONF.volume.storage_protocol vendor = CONF.volume.vendor_name extra_specs = {""storage_protocol"": proto, ""vendor_name"": vendor} extra_specs=extra_specs) proto = CONF.volume.storage_protocol vendor = CONF.volume.vendor_name extra_specs = {""storage_protocol"": proto, ""vendor_name"": vendor} 'extra_specs': extra_specs, self.assertEqual(extra_specs, fetched_volume_type['extra_specs'],",37,11
openstack%2Ftempest~master~Ibc1a085a18771a1db9e4ccbe0f3629172acf1ef4,openstack/tempest,master,Ibc1a085a18771a1db9e4ccbe0f3629172acf1ef4,[TEST][DMT] run only test_server_actions tests,ABANDONED,2021-04-04 09:35:12.000000000,2022-12-24 05:46:48.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-04 09:35:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2084cb1572f513e5ba6c668002b3519fde7879ab', 'message': '[TEST][DMT] run only test_server_actions tests\n\nChange-Id: Ibc1a085a18771a1db9e4ccbe0f3629172acf1ef4\n'}]",0,784710,2084cb1572f513e5ba6c668002b3519fde7879ab,6,2,1,12404,,,0,"[TEST][DMT] run only test_server_actions tests

Change-Id: Ibc1a085a18771a1db9e4ccbe0f3629172acf1ef4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/10/784710/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2084cb1572f513e5ba6c668002b3519fde7879ab,test-arm64-quick-test-set, tempest run --regex '(?!.*\[.*\bslow\b.*\])(^tempest\.api\.compute\.servers\.test_server_actions)' {posargs}, tempest run --regex '(?!.*\[.*\bslow\b.*\])(^tempest\.api)' {posargs} tempest run --combine --serial --regex '(?!.*\[.*\bslow\b.*\])(^tempest\.scenario)' {posargs},1,2
openstack%2Ftempest~master~I02bc587601976f5972b2926d94ce5133b3590a52,openstack/tempest,master,I02bc587601976f5972b2926d94ce5133b3590a52,Add testcases to verify disk size after snapshot created,ABANDONED,2019-11-25 18:33:09.000000000,2022-12-24 05:46:42.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5803}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 9535}, {'_account_id': 10135}, {'_account_id': 10459}, {'_account_id': 11075}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 21187}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 27615}, {'_account_id': 31239}]","[{'number': 1, 'created': '2019-11-25 18:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/18b3587ddf23dbff2f198fd84caa051ae836f5a0', 'message': 'Add testcases to verify disk size after snapshot created\n\n - testcase for clear volume\n - testcase for encrypted volume\n\nThe testcase run and create a volume from snapshot, attach it to instance\nWhen the volume attached we check with lsblk the volume size.\n\nThere is a bug that we manage to reproduce for encrypted volume:\n\nhttps://bugs.launchpad.net/cinder/+bug/1852168\n\nChange-Id: I02bc587601976f5972b2926d94ce5133b3590a52\n'}, {'number': 2, 'created': '2019-11-26 06:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/90bd44d2be3b89cf0f6b8948c931fcc32ce2c563', 'message': 'Add testcases to verify disk size after snapshot created\n\n - testcase for clear volume\n - testcase for encrypted volume\n\nThe testcase run and create a volume from snapshot, attach it to instance\nWhen the volume attached we check with lsblk the volume size.\n\nThere is a bug that we manage to reproduce for encrypted volume:\n\nhttps://bugs.launchpad.net/cinder/+bug/1852168\n\nChange-Id: I02bc587601976f5972b2926d94ce5133b3590a52\n'}, {'number': 3, 'created': '2019-11-28 19:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7c6341e0cdbe1574deaca325d13a59ab2e60e0b8', 'message': 'Add testcases to verify disk size after snapshot created\n\n - testcase for clear volume\n - testcase for encrypted volume\n\nThe testcase run and create a volume from snapshot, attach it to instance\nWhen the volume attached we check with lsblk the volume size.\n\nThere is a bug that we manage to reproduce for encrypted volume:\n\nhttps://bugs.launchpad.net/cinder/+bug/1852168\n\nChange-Id: I02bc587601976f5972b2926d94ce5133b3590a52\n'}, {'number': 4, 'created': '2019-12-12 18:59:18.000000000', 'files': ['tempest/scenario/test_volume_disk_checks.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/dd67858e5e26d148c78f3fee2f2512e31c9109c1', 'message': 'Add testcases to verify disk size after snapshot created\n\n - testcase for clear volume\n - testcase for encrypted volume\n\nThe testcase run and create a volume from snapshot, attach it to instance\nWhen the volume attached we check with lsblk the volume size.\n\nThere is a bug that we manage to reproduce for encrypted volume:\n\nhttps://bugs.launchpad.net/cinder/+bug/1852168\n\nChange-Id: I02bc587601976f5972b2926d94ce5133b3590a52\n'}]",13,695967,dd67858e5e26d148c78f3fee2f2512e31c9109c1,38,17,4,11075,,,0,"Add testcases to verify disk size after snapshot created

 - testcase for clear volume
 - testcase for encrypted volume

The testcase run and create a volume from snapshot, attach it to instance
When the volume attached we check with lsblk the volume size.

There is a bug that we manage to reproduce for encrypted volume:

https://bugs.launchpad.net/cinder/+bug/1852168

Change-Id: I02bc587601976f5972b2926d94ce5133b3590a52
",git fetch https://review.opendev.org/openstack/tempest refs/changes/67/695967/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_volume_disk_checks.py'],1,18b3587ddf23dbff2f198fd84caa051ae836f5a0,,"# Copyright (c) 2019 Redhat Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import testtools from tempest import config from tempest.lib import decorators from tempest.scenario import manager import tempest.lib.exceptions CONF = config.CONF class TestVolumeDiskSizeWhenAttached(manager.EncryptionScenarioTest): credentials = ['primary', 'admin'] @classmethod def skip_checks(cls): super(TestVolumeDiskSizeWhenAttached, cls).skip_checks() @classmethod def resource_setup(cls): super(TestVolumeDiskSizeWhenAttached, cls).resource_setup() cls.VOLUME_SIZE_BYTES = 1073741824 * CONF.volume.volume_size def _get_disk_bytes_size_from_instance(self, ip_address, dev_name, server, private_key=None): ssh_client = self.get_remote_client(ip_address, private_key=private_key, server=server) # Check if disk device exists, added "" "" to prevent names sdb1, sdb device_disk = [line for line in ssh_client.get_disks().split('\n') if dev_name + "" "" in line] if len(device_disk) != 1: msg = ""Unable to find disk device %s"" % dev_name raise tempest.lib.exceptions.TempestException(msg) return int(device_disk[0].split()[3]) def _get_disk_size(self, volume): keypair = self.create_keypair() security_group = self._create_security_group() # boot an instance from image server = self.create_server( key_name=keypair['name'], security_groups=[{'name': security_group['name']}]) self.nova_volume_attach(server, volume) self.addCleanup(self.nova_volume_detach, server, volume) # login to the instance and verify disk size instance_ip = self.get_server_ip(server) bytes_size = self._get_disk_bytes_size_from_instance( ip_address=instance_ip, dev_name=CONF.compute.volume_device_name, server=server, private_key=keypair['private_key']) return bytes_size @decorators.idempotent_id('3d59f8ef-ff5e-4563-8741-d194cda4ab6a') @testtools.skipUnless(CONF.volume_feature_enabled.snapshot, 'Snapshot is not available.') def test_volume_disk_size_volume_from_snapshot(self): """"""Test to verify disk size for a volume created from snapshot * Create a volume and a type * Create a snapshot from the volume * Create a volume from the snapshot * Boot an instance form image and attach the volume * Verify attached volume size with lsblk """""" volume_type = self.create_volume_type() volume = self.create_volume(volume_type=volume_type['name']) snapshot = self.create_volume_snapshot(volume_id=volume['id']) volume_from_snapshot = self.create_volume( snapshot_id=snapshot['id'], volume_type=volume_type['id']) bytes_size = self._get_disk_size(volume_from_snapshot) self.assertEqual(bytes_size, self.VOLUME_SIZE_BYTES) @decorators.idempotent_id('08b00328-35cc-4b19-8705-1a2bd6280680') @testtools.skipUnless( CONF.compute_feature_enabled.attach_encrypted_volume, 'Attach encrypted volume is not available.') @testtools.skipUnless(CONF.volume_feature_enabled.snapshot, 'Snapshot is not available.') @testtools.skipIf(CONF.volume.storage_protocol == 'ceph', 'Skip because of LP#1852168') def test_volume_encrypted_disk_create_volume_from_snapshot(self): """"""Test to verify disk size for encrypted volume created from snapshot * Create an encrypted volume * Create a snapshot from the encrypted volume * Create a volume from the snapshot * Boot an instance form image and attach the volume * Verify attached volume size with lsblk """""" volume_type = self.create_volume_type() kwargs = {'provider': 'nova.volume.encryptors.luks.LuksEncryptor', 'key_size': 256, 'cipher': 'aes-xts-plain64', 'control_location': 'front-end'} self.create_encryption_type(client=self.admin_encryption_types_client, type_id=volume_type['id'], **kwargs) volume = self.create_volume(volume_type=volume_type['name']) snapshot = self.create_volume_snapshot(volume_id=volume['id']) volume_from_snapshot = self.create_volume( snapshot_id=snapshot['id'], volume_type=volume_type['id']) bytes_size = self._get_disk_size(volume_from_snapshot) self.assertEqual(bytes_size, self.VOLUME_SIZE_BYTES) ",,126,0
openstack%2Ftempest~master~Ic99c361b8deb04eb1892778ad298a68becfc6d0a,openstack/tempest,master,Ic99c361b8deb04eb1892778ad298a68becfc6d0a,[WIP] Remove etc/whitelist.yaml,ABANDONED,2016-11-28 07:17:15.000000000,2022-12-24 05:46:37.000000000,,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 10385}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-11-28 07:17:15.000000000', 'files': ['etc/whitelist.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4f4cead39c9853963b54fcbf99f6edfbaa7f223b', 'message': '[WIP] Remove etc/whitelist.yaml\n\nThis commit removes etc/whitelist.yaml. This file was kept in the\ncommit[1]. However we should keep the repository clean as possible.\n\n[1] I26f0e9789b167061e2a7dac4dddf04d89bfadee3\n\nChange-Id: Ic99c361b8deb04eb1892778ad298a68becfc6d0a\n'}]",0,403530,4f4cead39c9853963b54fcbf99f6edfbaa7f223b,8,4,1,5689,,,0,"[WIP] Remove etc/whitelist.yaml

This commit removes etc/whitelist.yaml. This file was kept in the
commit[1]. However we should keep the repository clean as possible.

[1] I26f0e9789b167061e2a7dac4dddf04d89bfadee3

Change-Id: Ic99c361b8deb04eb1892778ad298a68becfc6d0a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/30/403530/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/whitelist.yaml'],1,4f4cead39c9853963b54fcbf99f6edfbaa7f223b,rm-whitelist.yaml,,,0,0
openstack%2Ftempest~master~I4d58d5d1ed0e3180337493355b5b3b9a7a75f055,openstack/tempest,master,I4d58d5d1ed0e3180337493355b5b3b9a7a75f055,add unitest for api of resource providers inventory,ABANDONED,2020-12-21 07:28:16.000000000,2022-12-24 05:46:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-12-21 07:28:16.000000000', 'files': ['tempest/lib/services/placement/resource_providers_client.py', 'tempest/tests/lib/services/placement/test_resource_providers_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/986dc41dc96de65ca91f589b7bcf38ed24dc3682', 'message': 'add unitest for api of resource providers inventory\n\nsupplement unitest for api of resource providers inventory, include:\nlist_resource_provider_aggregates,\nupdate_resource_providers_inventory,\ndelete_resource_providers_inventory\n\nChange-Id: I4d58d5d1ed0e3180337493355b5b3b9a7a75f055\n'}]",12,768047,986dc41dc96de65ca91f589b7bcf38ed24dc3682,4,2,1,30643,,,0,"add unitest for api of resource providers inventory

supplement unitest for api of resource providers inventory, include:
list_resource_provider_aggregates,
update_resource_providers_inventory,
delete_resource_providers_inventory

Change-Id: I4d58d5d1ed0e3180337493355b5b3b9a7a75f055
",git fetch https://review.opendev.org/openstack/tempest refs/changes/47/768047/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/placement/resource_providers_client.py', 'tempest/tests/lib/services/placement/test_resource_providers_client.py']",2,986dc41dc96de65ca91f589b7bcf38ed24dc3682,fix1221," FAKE_RESOURCE_NAME = 'test' FAKE_RESOURCE_PROVIDER_INVENTORY = { ""allocation_ratio"": 16.0, ""max_unit"": 4, ""min_unit"": 1, ""reserved"": 0, ""resource_provider_generation"": 9, ""step_size"": 1, ""total"": 4 } FAKE_RESOURCE_PROVIDER_INVENTORY_UPDATE_RESPONSE = { ""allocation_ratio"": 1.0, ""max_unit"": 2147483647, ""min_unit"": 1, ""reserved"": 0, ""resource_provider_generation"": 8, ""step_size"": 1, ""total"": 50 } FAKE_RESOURCE_PROVIDER_INVENTORY_UPDATE_REQUEST = { ""resource_provider_generation"": 7, ""total"": 50 } def _test_list_resource_provider_inventory(self, bytes_body=False): self.check_service_client_function( self.client.list_resource_provider_inventory, 'tempest.lib.common.rest_client.RestClient.get', self.FAKE_RESOURCE_PROVIDER_INVENTORY, to_utf=bytes_body, status=200, rp_uuid=self.FAKE_RESOURCE_PROVIDER_UUID, resource=self.FAKE_RESOURCE_NAME ) def test_list_resource_provider_inventory_with_str_body(self): self._test_list_resource_provider_inventory() def test_list_resource_provider_inventory_with_bytes_body(self): self._test_list_resource_provider_inventory(bytes_body=True) def _test_update_resource_providers_inventory(self, bytes_body=False): self.check_service_client_function( self.client.update_resource_providers_inventory, 'tempest.lib.common.rest_client.RestClient.put', self.FAKE_RESOURCE_PROVIDER_INVENTORY_UPDATE_RESPONSE, to_utf=bytes_body, status=200, rp_uuid=self.FAKE_RESOURCE_PROVIDER_UUID, resource=self.FAKE_RESOURCE_NAME, **self.FAKE_RESOURCE_PROVIDER_INVENTORY_UPDATE_REQUEST ) def test_update_resource_providers_inventory_with_str_body(self): self._test_update_resource_providers_inventory() def test_update_resource_providers_inventory_with_bytes_body(self): self._test_update_resource_providers_inventory(bytes_body=True) def test_delete_resource_providers_inventory(self): self.check_service_client_function( self.client.delete_resource_providers_inventory, 'tempest.lib.common.rest_client.RestClient.delete', {}, status=204, rp_uuid=self.FAKE_RESOURCE_PROVIDER_UUID, resource=self.FAKE_RESOURCE_NAME )",,111,0
openstack%2Ftempest~master~Iac9bf8d25b1535a400bc1a16fc223dc278223ebe,openstack/tempest,master,Iac9bf8d25b1535a400bc1a16fc223dc278223ebe,Make _create_and_stage_image always return a list of stores,ABANDONED,2020-10-02 03:54:02.000000000,2022-12-24 05:46:29.000000000,,"[{'_account_id': 8122}, {'_account_id': 19138}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-02 03:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f4fe4d565fb37f1436823a8d28d3f45b9f123c3e', 'message': 'Make _create_and_stage_image always return a list of stores\n\nMultiStoresImportImagesTest._create_and_stage_image returns two values:\nthe body of the HTTP request that was performed, and either a list or a\nstring depending on the value of the all_stores parameter. This forces\nthe caller to treat this second returned value differently depending on\nhow the call was made.\n\nMake sure _create_and_stage_image always return a list as its second\nreturn value.\n\nChange-Id: Iac9bf8d25b1535a400bc1a16fc223dc278223ebe\n'}, {'number': 2, 'created': '2021-01-14 19:58:15.000000000', 'files': ['tempest/api/image/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5c5e3c04330959aedab752d012e7ff0da6c601f7', 'message': 'Make _create_and_stage_image always return a list of stores\n\nMultiStoresImportImagesTest._create_and_stage_image returns two values:\nthe body of the HTTP request that was performed, and either a list or a\nstring depending on the value of the all_stores parameter. This forces\nthe caller to treat this second returned value differently depending on\nhow the call was made.\n\nMake sure _create_and_stage_image always returns a string as its second\nreturn value.\n\nChange-Id: Iac9bf8d25b1535a400bc1a16fc223dc278223ebe\n'}]",2,755686,5c5e3c04330959aedab752d012e7ff0da6c601f7,11,4,2,8122,,,0,"Make _create_and_stage_image always return a list of stores

MultiStoresImportImagesTest._create_and_stage_image returns two values:
the body of the HTTP request that was performed, and either a list or a
string depending on the value of the all_stores parameter. This forces
the caller to treat this second returned value differently depending on
how the call was made.

Make sure _create_and_stage_image always returns a string as its second
return value.

Change-Id: Iac9bf8d25b1535a400bc1a16fc223dc278223ebe
",git fetch https://review.opendev.org/openstack/tempest refs/changes/86/755686/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/image/v2/test_images.py'],1,f4fe4d565fb37f1436823a8d28d3f45b9f123c3e,fix-return-values," stores_list = [store['id'] for store in self.available_stores] if not all_stores: stores_list = stores_list[::len(stores_list) - 1] waiters.wait_for_image_imported_to_stores(self.client, image['id'], (','.join(stores)))"," if all_stores: stores_list = ','.join([store['id'] for store in self.available_stores]) else: stores = [store['id'] for store in self.available_stores] stores_list = stores[::len(stores) - 1] waiters.wait_for_image_imported_to_stores(self.client, image['id'], stores)",5,8
openstack%2Ftempest~master~I486049a2994d2b16e7ffdcf9afb3b759e685465c,openstack/tempest,master,I486049a2994d2b16e7ffdcf9afb3b759e685465c,Add image task api,ABANDONED,2020-02-26 07:39:05.000000000,2022-12-24 05:46:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 30643}]","[{'number': 1, 'created': '2020-02-26 07:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9255002917c482d22ce3cd84827aac152b5f9baa', 'message': 'Add image task api\n\nAdd image task api and unittest to image part.\n\nChange-Id: I486049a2994d2b16e7ffdcf9afb3b759e685465c\n'}, {'number': 2, 'created': '2020-02-27 01:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/25d1f300bc8e2b2a9fadf437e4f25082f36564f0', 'message': 'Add image task api\n\nAdd image task api and unittest to image part.\n\nChange-Id: I486049a2994d2b16e7ffdcf9afb3b759e685465c\n'}, {'number': 3, 'created': '2020-03-19 06:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bee83e68d9c0276fa83423642968f96c32761b3e', 'message': 'Add image task api\n\nAdd image task api and unittest to image part.\n\nChange-Id: I486049a2994d2b16e7ffdcf9afb3b759e685465c\n'}, {'number': 4, 'created': '2020-03-19 09:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e39e3b1475cc8ac670560ffb7ed6520db1e72617', 'message': 'Add image task api\n\nAdd image task api and unittest to image part.\n\nChange-Id: I486049a2994d2b16e7ffdcf9afb3b759e685465c\n'}, {'number': 5, 'created': '2020-10-12 03:18:00.000000000', 'files': ['releasenotes/notes/add-image-tasks-api-to-v2-image-part-1068060b16676e41.yaml', 'tempest/tests/lib/services/image/v2/test_images_client.py', 'tempest/tests/lib/services/image/v2/test_image_tasks_client.py', 'tempest/lib/services/image/v2/images_tasks_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/521cf39e0ad435051e748b28b0f7c9fa9cb60b0b', 'message': 'Add image task api\n\nAdd image task api and unittest to image part.\n\nChange-Id: I486049a2994d2b16e7ffdcf9afb3b759e685465c\n'}]",0,709961,521cf39e0ad435051e748b28b0f7c9fa9cb60b0b,13,2,5,30643,,,0,"Add image task api

Add image task api and unittest to image part.

Change-Id: I486049a2994d2b16e7ffdcf9afb3b759e685465c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/61/709961/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-image-tasks-api-to-v2-image-part-1068060b16676e41.yaml', 'tempest/tests/lib/services/image/v2/test_image_tasks_client.py', 'tempest/lib/services/image/v2/images_tasks_client.py']",3,9255002917c482d22ce3cd84827aac152b5f9baa,fix14,"# Copyright 2013 IBM Corp. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_serialization import jsonutils as json from six.moves.urllib import parse as urllib from tempest.lib.common import rest_client CHUNKSIZE = 1024 * 64 # 64kB class ImagesTasksClient(rest_client.RestClient): api_version = ""v2"" def create_task(self, **kwargs): """"""Create task For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/image/v2/index.html?expanded=#create-task """""" data = json.dumps(kwargs) resp, body = self.post('task', data) self.expected_success(201, resp.status) body = json.loads(body) return rest_client.ResponseBody(resp, body) def list_tasks(self, params=None): """"""List tasks For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/image/v2/index.html?expanded=list-tasks-detail#list-tasks """""" url = 'tasks' if params: url += '?%s' % urllib.urlencode(params) resp, body = self.get(url) self.expected_success(200, resp.status) body = json.loads(body) return rest_client.ResponseBody(resp, body) def show_tasks_details(self, task_id, params=None): """"""Show tasks details For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/image/v2/index.html?expanded=show-task-details-detail#show-task-details """""" url = 'tasks/%s' % task_id if params: url += '?%s' % urllib.urlencode(params) resp, body = self.get(url) self.expected_success(200, resp.status) body = json.loads(body) return rest_client.ResponseBody(resp, body) ",,226,0
openstack%2Ftempest~master~I44ac1ae576740e310d9b26beb436ac9c31082729,openstack/tempest,master,I44ac1ae576740e310d9b26beb436ac9c31082729,[WIP] Make tempest sanity faster,ABANDONED,2019-08-09 05:42:28.000000000,2022-12-24 05:46:23.000000000,,"[{'_account_id': 5689}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-09 05:42:28.000000000', 'files': ['tools/generate-tempest-plugins-list.py', 'tools/tempest-plugin-sanity.sh'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ee283b6afc47a924ab6f639c8176639fd3dd69ee', 'message': '[WIP] Make tempest sanity faster\n\nThis commit makes the tempest sanity job faster with parallel execution.\nThis change might increase about 50 processes compared to the original.\nBut it should be much faster than the original.\n\nChange-Id: I44ac1ae576740e310d9b26beb436ac9c31082729\n'}]",0,675523,ee283b6afc47a924ab6f639c8176639fd3dd69ee,4,2,1,5689,,,0,"[WIP] Make tempest sanity faster

This commit makes the tempest sanity job faster with parallel execution.
This change might increase about 50 processes compared to the original.
But it should be much faster than the original.

Change-Id: I44ac1ae576740e310d9b26beb436ac9c31082729
",git fetch https://review.opendev.org/openstack/tempest refs/changes/23/675523/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/generate-tempest-plugins-list.py', 'tools/tempest-plugin-sanity.sh']",2,ee283b6afc47a924ab6f639c8176639fd3dd69ee,parallel-sanity," failed_plugin+=""$project, "" > $SANITY_DIR/$project.txt &"," failed_plugin+=""$project, "" > $SANITY_DIR/$project.txt",17,3
openstack%2Ftempest~master~I09eb9adbde1ddcaff977923c5a098304722e266b,openstack/tempest,master,I09eb9adbde1ddcaff977923c5a098304722e266b,[WIP] Remove duplicated installation of python packages,ABANDONED,2019-08-09 03:55:37.000000000,2022-12-24 05:46:13.000000000,,"[{'_account_id': 5689}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-09 03:55:37.000000000', 'files': ['tools/tempest-plugin-sanity.sh'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a183c4ae50bb0a567a8468d97ecf4180f7e99cc5', 'message': '[WIP] Remove duplicated installation of python packages\n\nThis commit removes duplicated installations of python packages. This\nreduces the execution time of the tempest-sanity check. And, this could\nfind inconsistency among each plugins.\n\nChange-Id: I09eb9adbde1ddcaff977923c5a098304722e266b\n'}]",0,675513,a183c4ae50bb0a567a8468d97ecf4180f7e99cc5,4,2,1,5689,,,0,"[WIP] Remove duplicated installation of python packages

This commit removes duplicated installations of python packages. This
reduces the execution time of the tempest-sanity check. And, this could
find inconsistency among each plugins.

Change-Id: I09eb9adbde1ddcaff977923c5a098304722e266b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/13/675513/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tempest-plugin-sanity.sh'],1,a183c4ae50bb0a567a8468d97ecf4180f7e99cc5,install-plugins-at-once," if [ ! -d ""$SANITY_DIR""/tempest_sanity ]; then ""$TVENV"" tempest init ""$SANITY_DIR""/tempest_sanity fi"," ""$TVENV"" tempest init ""$SANITY_DIR""/tempest_sanity && \ # Delete tempest workspace # NOTE: Cleaning should be done even if an error occurs. ""$TVENV"" tempest workspace remove --name tempest_sanity --rmdir # Remove the sanity workspace in case of remaining rm -fr ""$SANITY_DIR""/tempest_sanity # Remove the project directory after sanity run rm -fr ""$SANITY_DIR""/""$1""",3,8
openstack%2Ftempest~master~I24e6e7aa1cbebaf2d5e2fda4c65984f4a26bf6aa,openstack/tempest,master,I24e6e7aa1cbebaf2d5e2fda4c65984f4a26bf6aa,Add test test_create_server_with_bdm_source_image,ABANDONED,2018-03-02 06:22:06.000000000,2022-12-24 05:46:10.000000000,,"[{'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-03-02 06:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4676e2f9d91ec1eade46a4a7366916bb779b2ac8', 'message': 'Add test test_create_server_with_bdm_source_image\n\nWhen booting a server, block-device can be specified\nwith source type image, volume or snapshot. Now bdm source\ntype volume and snapshot have been covered in testcases,\nand this is to add coverage for source type image, for it\nis a basic function that is often required by cloud users.\n\nChange-Id: I24e6e7aa1cbebaf2d5e2fda4c65984f4a26bf6aa\n'}, {'number': 2, 'created': '2018-08-17 03:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b99144a54700a677e47f15868ab39c36a40da13b', 'message': 'Add test test_create_server_with_bdm_source_image\n\nWhen booting a server, block-device can be specified\nwith source type image, volume or snapshot or blank.\nNow bdm source type volume and snapshot have been covered\nin testcases, and this is to add coverage for source type\nimage, for it is a basic function that is often required by\ncloud users.\n\nChange-Id: I24e6e7aa1cbebaf2d5e2fda4c65984f4a26bf6aa\n'}, {'number': 3, 'created': '2018-08-20 03:17:59.000000000', 'files': ['tempest/api/compute/servers/test_servers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/85649742610c1b763d0a94adda5feb3f7fad7d13', 'message': 'Add test test_create_server_with_bdm_source_image\n\nWhen booting a server, block-device can be specified\nwith source type image, volume or snapshot or blank.\nNow bdm source type volume and snapshot have been covered\nin testcases, and this is to add coverage for source type\nimage, for it is a basic function that is often required by\ncloud users.\n\nChange-Id: I24e6e7aa1cbebaf2d5e2fda4c65984f4a26bf6aa\n'}]",11,549111,85649742610c1b763d0a94adda5feb3f7fad7d13,29,10,3,20190,,,0,"Add test test_create_server_with_bdm_source_image

When booting a server, block-device can be specified
with source type image, volume or snapshot or blank.
Now bdm source type volume and snapshot have been covered
in testcases, and this is to add coverage for source type
image, for it is a basic function that is often required by
cloud users.

Change-Id: I24e6e7aa1cbebaf2d5e2fda4c65984f4a26bf6aa
",git fetch https://review.opendev.org/openstack/tempest refs/changes/11/549111/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_servers.py'],1,4676e2f9d91ec1eade46a4a7366916bb779b2ac8,bdm_image," @decorators.idempotent_id('0d1d84b6-1dde-11e8-bc89-9840bb81373f') def test_create_server_with_bdm_source_image(self): # Create a server with bdm source type image. bdm = [{""source_type"": ""image"", ""delete_on_termination"": True, ""boot_index"": 0, ""uuid"": self.image_ref, ""volume_size"": CONF.volume.volume_size, ""destination_type"": ""volume""}] server = self.create_test_server(block_device_mapping_v2=bdm, image_id="""", wait_until='ACTIVE') server = self.client.show_server(server['id'])['server'] self.assertEmpty(server['image']) self.assertNotEmpty(server['os-extended-volumes:volumes_attached']) ",,15,0
openstack%2Ftempest~master~I540cabf8b54b0cdc9237745ec54cc43f5c7234ec,openstack/tempest,master,I540cabf8b54b0cdc9237745ec54cc43f5c7234ec,Skip and not fail auto allocate test,ABANDONED,2018-02-09 11:34:06.000000000,2022-12-24 05:46:05.000000000,,"[{'_account_id': 1921}, {'_account_id': 6873}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-09 11:34:06.000000000', 'files': ['tempest/api/compute/admin/test_auto_allocate_network.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9e5cb20b5240d1140787b651dc30010aa4d0d54f', 'message': 'Skip and not fail auto allocate test\n\nWhen a precondition is not met we should skip the test as opposed to fail.\n\nChange-Id: I540cabf8b54b0cdc9237745ec54cc43f5c7234ec\n'}]",1,542789,9e5cb20b5240d1140787b651dc30010aa4d0d54f,8,7,1,1921,,,0,"Skip and not fail auto allocate test

When a precondition is not met we should skip the test as opposed to fail.

Change-Id: I540cabf8b54b0cdc9237745ec54cc43f5c7234ec
",git fetch https://review.opendev.org/openstack/tempest refs/changes/89/542789/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_auto_allocate_network.py'],1,9e5cb20b5240d1140787b651dc30010aa4d0d54f,skip_on_preconditions, raise cls.skipException('Found tenant networks: %s' % nets),from tempest.lib import exceptions as lib_excs raise lib_excs.TempestException( 'Found tenant networks: %s' % nets),1,3
openstack%2Ftempest~master~I90d2c4282c4c13d7b6f07923e3c50fbaedb0245b,openstack/tempest,master,I90d2c4282c4c13d7b6f07923e3c50fbaedb0245b,Remove unused variable,ABANDONED,2017-02-04 09:02:07.000000000,2022-12-24 05:46:01.000000000,,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 10385}, {'_account_id': 20190}]","[{'number': 1, 'created': '2017-02-04 09:02:07.000000000', 'files': ['tempest/api/object_storage/test_object_temp_url_negative.py', 'tempest/api/object_storage/test_object_formpost_negative.py', 'tempest/api/object_storage/test_object_formpost.py', 'tempest/api/object_storage/test_account_services.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b198161bc8e7579a90b42fde693479ca699098a4', 'message': 'Remove unused variable\n\nBaseObjectTest\'s resource_setup has ""cls.containers = []"",\nso its child needn\'t define containers, this is to remove it.\nThis is also to remove unused metadata variable.\n\nChange-Id: I90d2c4282c4c13d7b6f07923e3c50fbaedb0245b\n'}]",1,429213,b198161bc8e7579a90b42fde693479ca699098a4,6,4,1,20190,,,0,"Remove unused variable

BaseObjectTest's resource_setup has ""cls.containers = []"",
so its child needn't define containers, this is to remove it.
This is also to remove unused metadata variable.

Change-Id: I90d2c4282c4c13d7b6f07923e3c50fbaedb0245b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/13/429213/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/object_storage/test_object_temp_url_negative.py', 'tempest/api/object_storage/test_object_formpost_negative.py', 'tempest/api/object_storage/test_account_services.py', 'tempest/api/object_storage/test_object_formpost.py']",4,b198161bc8e7579a90b42fde693479ca699098a4,unused_variable,, metadata = {} containers = [] ,0,10
openstack%2Fgrenade~master~I9f8c4d7e111a266584b6b10ac5c86c6347345010,openstack/grenade,master,I9f8c4d7e111a266584b6b10ac5c86c6347345010,Add neutron-api for lib/neutron enabling,ABANDONED,2018-02-21 19:15:38.000000000,2022-12-24 05:32:49.000000000,,"[{'_account_id': 4393}, {'_account_id': 4694}, {'_account_id': 5196}, {'_account_id': 6873}, {'_account_id': 13995}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-02-21 19:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/cadaf96e6edafcc7f0f0cf7ddae318229bd8dbde', 'message': 'Add neutron-api for lib/neutron enabling\n\nAs neutron and stadium projects have adopted lib/neutron for some\njobs, but still using lib/neutron-legacy for grenade jobs, just adding\na check for neutron-api, q-svc will be ready to removed only when all the\ngrenade jobs have adapted lib/neutron.\n\nChange-Id: I9f8c4d7e111a266584b6b10ac5c86c6347345010\n'}, {'number': 2, 'created': '2018-08-30 19:59:21.000000000', 'files': ['projects/50_neutron/settings'], 'web_link': 'https://opendev.org/openstack/grenade/commit/8a764aed9d7a598b9c9c2217be8b45c99d1d1862', 'message': 'Add neutron-api for lib/neutron enabling\n\nAs neutron and stadium projects have adopted lib/neutron for some\njobs, but still using lib/neutron-legacy for grenade jobs, just adding\na check for neutron-api, q-svc will be ready to removed only when all the\ngrenade jobs have adapted lib/neutron.\n\nChange-Id: I9f8c4d7e111a266584b6b10ac5c86c6347345010\n'}]",0,546745,8a764aed9d7a598b9c9c2217be8b45c99d1d1862,17,8,2,17120,,,0,"Add neutron-api for lib/neutron enabling

As neutron and stadium projects have adopted lib/neutron for some
jobs, but still using lib/neutron-legacy for grenade jobs, just adding
a check for neutron-api, q-svc will be ready to removed only when all the
grenade jobs have adapted lib/neutron.

Change-Id: I9f8c4d7e111a266584b6b10ac5c86c6347345010
",git fetch https://review.opendev.org/openstack/grenade refs/changes/45/546745/1 && git format-patch -1 --stdout FETCH_HEAD,['projects/50_neutron/settings'],1,cadaf96e6edafcc7f0f0cf7ddae318229bd8dbde,,if is_service_enabled q-svc || is_service_enabled neutron-api; thenfi ,if is_service_enabled q-svc; thenfi,2,2
openstack%2Ftempest~master~I72529bc5c4fc0f77273ab15419bec4018b0edd52,openstack/tempest,master,I72529bc5c4fc0f77273ab15419bec4018b0edd52,"Fix VolumesActions api tests, volume should not be shared",NEW,2021-03-16 17:20:16.000000000,2022-12-24 05:31:51.000000000,,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 21187}, {'_account_id': 22348}, {'_account_id': 22696}, {'_account_id': 22873}, {'_account_id': 27478}, {'_account_id': 31033}]","[{'number': 1, 'created': '2021-03-16 17:20:16.000000000', 'files': ['tempest/api/volume/test_volumes_actions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b1948ecf8fe76f50c7bf0630594c80930442276b', 'message': 'Fix VolumesActions api tests, volume should not be shared\n\nThis class use a shared cinder volume and modify the status\nThe volume called by multiple testcase, each one change the volume\nstate and the volume cleaned in class level .\n\nChange the cinder volume to testcase level, before we enter to\ntestcase setUp called and created a dedicated volume per testcase.\n\nChange-Id: I72529bc5c4fc0f77273ab15419bec4018b0edd52\n'}]",1,780932,b1948ecf8fe76f50c7bf0630594c80930442276b,5,8,1,11075,,,0,"Fix VolumesActions api tests, volume should not be shared

This class use a shared cinder volume and modify the status
The volume called by multiple testcase, each one change the volume
state and the volume cleaned in class level .

Change the cinder volume to testcase level, before we enter to
testcase setUp called and created a dedicated volume per testcase.

Change-Id: I72529bc5c4fc0f77273ab15419bec4018b0edd52
",git fetch https://review.opendev.org/openstack/tempest refs/changes/32/780932/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_actions.py'],1,b1948ecf8fe76f50c7bf0630594c80930442276b,," def setUp(self): super(VolumesActionsTest, self).setUp() self.volume = self.create_volume()"," @classmethod def resource_setup(cls): super(VolumesActionsTest, cls).resource_setup() # Create a test shared volume for attach/detach tests cls.volume = cls.create_volume()",3,6
openstack%2Ftempest~master~I9ba22ab48cb1737a6917479089cddf961c30efe4,openstack/tempest,master,I9ba22ab48cb1737a6917479089cddf961c30efe4,Changed pip install tempest\ to sudo pip3 install tempest\,NEW,2022-06-14 12:26:14.000000000,2022-12-24 05:27:18.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 12:26:14.000000000', 'files': ['doc/source/overview.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1c90e79efce53258d52f7365dc80d2a738d5a0c8', 'message': ' Changed pip install tempest\\ to sudo pip3 install tempest\\\n\nChange-Id: I9ba22ab48cb1737a6917479089cddf961c30efe4\n'}]",7,845738,1c90e79efce53258d52f7365dc80d2a738d5a0c8,5,2,1,34637,,,0," Changed pip install tempest\ to sudo pip3 install tempest\

Change-Id: I9ba22ab48cb1737a6917479089cddf961c30efe4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/38/845738/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/overview.rst'],1,1c90e79efce53258d52f7365dc80d2a738d5a0c8,, $ sudo pip3 install tempest/, $ pip install tempest/,1,1
openstack%2Fopenstack-ansible-ops~master~Ic2b5fd102033d4d474ba260b6f815da9c2254ca3,openstack/openstack-ansible-ops,master,Ic2b5fd102033d4d474ba260b6f815da9c2254ca3,Add support for S3 backend,ABANDONED,2022-09-16 19:23:33.000000000,2022-12-24 05:04:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-16 19:23:33.000000000', 'files': ['multi-node-aio/README.rst', 'multi-node-aio/playbooks/group_vars/all.yml', 'multi-node-aio/playbooks/osa/user_mnaio_variables.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/80396272970621811ca8e80c9491717624db4ab6', 'message': 'Add support for S3 backend\n\nThis patch updates the MNAIO playbooks to add support for\nan S3 backend as long as Ceph and Swift are disabled. This\ncan speed up deployment times greatly for testing purposes\nwhen a local S3 backend is available.\n\nChange-Id: Ic2b5fd102033d4d474ba260b6f815da9c2254ca3\n'}]",0,858211,80396272970621811ca8e80c9491717624db4ab6,4,1,1,16011,,,0,"Add support for S3 backend

This patch updates the MNAIO playbooks to add support for
an S3 backend as long as Ceph and Swift are disabled. This
can speed up deployment times greatly for testing purposes
when a local S3 backend is available.

Change-Id: Ic2b5fd102033d4d474ba260b6f815da9c2254ca3
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/11/858211/1 && git format-patch -1 --stdout FETCH_HEAD,"['multi-node-aio/README.rst', 'multi-node-aio/playbooks/group_vars/all.yml', 'multi-node-aio/playbooks/osa/user_mnaio_variables.yml']",3,80396272970621811ca8e80c9491717624db4ab6,,"# NOTE(jamesdenton): Enables Glance to utilize an external S3 endpoint {% if (osa_enable_s3_storage | bool) and not (osa_enable_object_storage | bool) and not (enable_ceph_storage | bool) %} glance_default_store: s3 glance_glance_api_conf_overrides: s3: s3_store_host: ""{{ osa_s3_store_host }}"" s3_store_access_key: ""{{ osa_s3_store_access_key }}"" s3_store_secret_key: ""{{ osa_s3_store_secret_key }}"" s3_store_bucket: ""{{ osa_s3_store_bucket }}"" {% endif %} ",,62,7
openstack%2Fos-brick~master~I9f88d024c9d7b4f2761aa4e132ee0bd5b7272207,openstack/os-brick,master,I9f88d024c9d7b4f2761aa4e132ee0bd5b7272207,Get ready for tox 4,MERGED,2022-12-21 13:16:20.000000000,2022-12-24 00:35:18.000000000,2022-12-23 17:25:04.000000000,"[{'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-12-21 13:16:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c9b82241eab324673147a40c494f3996d03136cd', 'message': 'Get ready for tox 4\n\nChanges:\n- eliminate whitespace in passenv values\n- account for stricter allowlist checking\n- removed skipsdist=True, which in tox 4 appears to prevent os-brick\n  from being installed in the testenvs\n- made 4.0.0 the tox minversion\n\nThis patch makes tox 4 the default so that we can hopefully catch\nproblems locally before they block the gate.\n\nChange-Id: I9f88d024c9d7b4f2761aa4e132ee0bd5b7272207\n'}]",4,868315,c9b82241eab324673147a40c494f3996d03136cd,14,4,1,5314,,,0,"Get ready for tox 4

Changes:
- eliminate whitespace in passenv values
- account for stricter allowlist checking
- removed skipsdist=True, which in tox 4 appears to prevent os-brick
  from being installed in the testenvs
- made 4.0.0 the tox minversion

This patch makes tox 4 the default so that we can hopefully catch
problems locally before they block the gate.

Change-Id: I9f88d024c9d7b4f2761aa4e132ee0bd5b7272207
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/15/868315/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c9b82241eab324673147a40c494f3996d03136cd,tox-4-ready,"minversion = 4.0.0 # specify virtualenv here to keep local runs consistent with the # gate (it sets the versions of pip, setuptools, and wheel) requires = virtualenv>=20.17.1envlist = py3,pep8passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYallowlist_externals = {toxinidir}/tools/fast8.shcommands = {[testenv:docs]commands} {[testenv:docs]allowlist_externals}# explicitly to avoid unnecessarily installing the checked-out repo too skip_install = True","minversion = 3.18.0 skipsdist = True # python runtimes: https://governance.openstack.org/tc/reference/runtimes/ussuri.html envlist = py3,pep8passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYcommands = {[testenv:docs]commands}# explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above).",19,9
openstack%2Fcinder~master~I75e36fa100925bd486c9d4fdf8a33dd58347ce81,openstack/cinder,master,I75e36fa100925bd486c9d4fdf8a33dd58347ce81,Get ready for tox 4,MERGED,2022-12-21 02:41:22.000000000,2022-12-23 17:25:05.000000000,2022-12-23 16:04:17.000000000,"[{'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-12-21 02:41:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d110b26a59230347b8d9dc3fa43063682ad6ff24', 'message': ""Get ready for tox 4\n\nChanges:\n- eliminate whitespace in passenv values\n- account for stricter allowlist checking\n- removed skipsdist=True, which in tox 4 appears to prevent cinder\n  from being installed in the testenvs\n- made 4.0.0 the tox minversion, which means tox will have to update\n  itself until it's available in distros, which in turn means that\n  the default install_command needs to be used in the base testenv,\n  which means a new base pyXX testenv is added to include our\n  install_command that includes upper constraints\n- added install_command to most testenvs since they don't inherit\n  the correct one from the base testenv any more\n\nNot strictly necessary for this patch, but I did them anyway:\n- moved the api-ref and releasenotes testenvs to be closer to\n  the docs testenv\n- added reno as a dep for the 'venv' testenv, which our contributor\n  docs say should be used to generate a new release note from the\n  reno template, and which has apparently been broken for a while\n\nThis patch makes tox 4 the default so that we can hopefully catch\nproblems locally before they block the gate.\n\nChange-Id: I75e36fa100925bd486c9d4fdf8a33dd58347ce81\n""}]",5,868253,d110b26a59230347b8d9dc3fa43063682ad6ff24,18,4,1,5314,,,0,"Get ready for tox 4

Changes:
- eliminate whitespace in passenv values
- account for stricter allowlist checking
- removed skipsdist=True, which in tox 4 appears to prevent cinder
  from being installed in the testenvs
- made 4.0.0 the tox minversion, which means tox will have to update
  itself until it's available in distros, which in turn means that
  the default install_command needs to be used in the base testenv,
  which means a new base pyXX testenv is added to include our
  install_command that includes upper constraints
- added install_command to most testenvs since they don't inherit
  the correct one from the base testenv any more

Not strictly necessary for this patch, but I did them anyway:
- moved the api-ref and releasenotes testenvs to be closer to
  the docs testenv
- added reno as a dep for the 'venv' testenv, which our contributor
  docs say should be used to generate a new release note from the
  reno template, and which has apparently been broken for a while

This patch makes tox 4 the default so that we can hopefully catch
problems locally before they block the gate.

Change-Id: I75e36fa100925bd486c9d4fdf8a33dd58347ce81
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/868253/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d110b26a59230347b8d9dc3fa43063682ad6ff24,tox-4-ready,"minversion = 4.0.0 # specify virtualenv here to keep local runs consistent with the # gate (it sets the versions of pip, setuptools, and wheel) requires = virtualenv>=20.17.1envlist = py3,compliance,pep8 # this environment's install command is used if the 'minversion' or 'requires' # values declared above in the [tox] section require tox to update itself, so # we don't define a non-default install_command here passenv = *_proxy *_PROXY [testenv:py{3,38,39,310,311}] # NOTE: Do not move the constraints from the install_command into deps, as that # may result in tox using unconstrained/untested dependencies. # We use ""usedevelop = True"" for tox jobs (except bindep), so tox does 2 # install calls, one for the deps and another for the cinder source code # as editable (pip -e). # Without the constraints in the install_command only the first # installation will honor the upper constraints, and the second install # for cinder itself will not know about the constraints which can result # in installing versions we don't want. # With constraints in the install_command tox will always honor our # constraints. install_command = python -m pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}install_command = {[testenv:py3]install_command}[testenv:functional-py{3,38,39,310,311}] install_command = {[testenv:functional]install_command}install_command = {[testenv:functional]install_command}install_command = {[testenv:py3]install_command}allowlist_externals = {toxinidir}/tools/config/check_uptodate.sh {toxinidir}/tools/check_exec.pyinstall_command = {[testenv:py3]install_command} allowlist_externals = {toxinidir}/tools/fast8.shinstall_command = {[testenv:py3]install_command}install_command = {[testenv:py3]install_command}install_command = {[testenv:py3]install_command}install_command = {[testenv:py3]install_command}install_command = {[testenv:py3]install_command}install_command = {[testenv:py3]install_command} deps = {[testenv]deps} reno# we intentionally put the constraints in the install_command, not the # deps ... see comment near the top of this file install_command = python -m pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}install_command = {[testenv:docs]install_command}[testenv:api-ref] install_command = {[testenv:docs]install_command} allowlist_externals = rm deps = {[testenv:docs]deps} commands = rm -rf api-ref/build sphinx-build -W -b html -d api-ref/build/doctrees api-ref/source api-ref/build/html/ [testenv:releasenotes] install_command = {[testenv:docs]install_command} deps = {[testenv:docs]deps} commands = sphinx-build -a -E -W -j auto -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html install_command = {[testenv:py3]install_command}install_command = {[testenv:py3]install_command}install_command = {[testenv:bandit]install_command}# explicitly to avoid unnecessarily installing the checked-out repo too skip_install = Trueinstall_command = {[testenv:py3]install_command} allowlist_externals = {toxinidir}/tools/mypywrap.sh","minversion = 3.18.0 requires = virtualenv>=20.4.2 skipsdist = True # python runtimes: https://governance.openstack.org/tc/reference/project-testing-interface.html#tested-runtimes envlist = py3,compliance,pep8# NOTE: Do not move the constraints from the install_command into deps, as that # may result in tox using unconstrained/untested dependencies. # We use ""usedevelop = True"" for tox jobs (except bindep), so tox does 2 # install calls, one for the deps and another for the cinder source code # as editable (pip -e). # Without the constraints in the install_command only the first # installation will honor the upper constraints, and the second install # for cinder itself will not know about the constraints which can result # in installing versions we don't want. # With constraints in the install_command tox will always honor our # constraints. install_command = python -m pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}passenv = *_proxy *_PROXY [testenv:api-ref] allowlist_externals = rm deps = {[testenv:docs]deps} commands = rm -rf api-ref/build sphinx-build -W -b html -d api-ref/build/doctrees api-ref/source api-ref/build/html/ [testenv:releasenotes] deps = {[testenv:docs]deps} commands = sphinx-build -a -E -W -j auto -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html[testenv:functional-py{38,39}]# explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above).",73,32
openstack%2Fneutron~master~I3811a4ca28906dd29100c602de7fa4a3595393ab,openstack/neutron,master,I3811a4ca28906dd29100c602de7fa4a3595393ab,segment: enable multisegments support for host,MERGED,2022-05-16 07:11:36.000000000,2022-12-23 16:35:14.000000000,2022-12-23 16:34:03.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-16 07:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/209a76d95d3f5decca9f2a64f37021bf48b066d2', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 2, 'created': '2022-05-16 07:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce6fed9b80e092d9ce6665f4816b44a232d7f1fc', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 3, 'created': '2022-05-16 10:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d1193c3b855ccf25d35e3a1631ea82bde07168e', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 4, 'created': '2022-05-23 10:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/796b346f9ce7ea004660d47365c0df1b8138c1c8', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 5, 'created': '2022-05-23 12:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb9592c33be17b08e246df06ad7e5cef41b499c3', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 6, 'created': '2022-05-23 13:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/74bd7eeb54b36dad5aa8490e5940c9fc0089e42c', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 7, 'created': '2022-06-17 07:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/68590a45316a812cf75d686e79c943e834dfcf8b', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 8, 'created': '2022-06-27 07:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/212bb543cd055f3eda6b15c1f6a744c2d30d6fa8', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 9, 'created': '2022-06-30 17:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c7cc61f6d770480331ada6ab0726a0199e2ad93', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 10, 'created': '2022-06-30 17:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/66718cbea00b6b75483b3b31c725e25bb252dbe3', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 11, 'created': '2022-07-04 16:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aee6bd344b973e9c625c9ff653c273f5e58e3b03', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 12, 'created': '2022-07-07 05:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e95581b3c591c4aa1952867dbe71ff2d92b421e4', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 13, 'created': '2022-07-11 07:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b7f74c4e58764b584551d2d5b3bc69a5e141fc4', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 14, 'created': '2022-07-11 12:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/113201a9736e17a889b3815b6bb9c6f58d1643f1', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 15, 'created': '2022-07-15 07:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/450a37dcdd2c8f4147c919cde2722626543261c0', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 16, 'created': '2022-07-18 09:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6951fa8bcb62690700d83d544d12d7084190fb21', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 17, 'created': '2022-07-18 14:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/360db896a4ea22f62726212e2839c130b4f12178', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 18, 'created': '2022-07-19 20:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/09aceeda33ede66b957c04cabe5e1c1d9eb27021', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 19, 'created': '2022-07-20 05:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99403f06ec1c2a5557fac57db47ced4d6c3f4a68', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 20, 'created': '2022-07-20 20:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/79c430c67b1efc5c6cc66345ba921ee148184bca', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 21, 'created': '2022-07-21 06:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7d2dc58d01f822e740116e9a5c2f21153d6c7fa', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 22, 'created': '2022-07-21 07:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/af7d1771914ab1200e031b3198e1271f4e633d0b', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 23, 'created': '2022-07-21 10:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92e919c9f7fd8c61e1eea9f9213808b41966697d', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 24, 'created': '2022-07-21 15:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e397130b73774867a7cd5a00d8c66707a03367a8', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 25, 'created': '2022-07-21 19:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/67d338e5b4ded5d552e1e7214ce5b52129711167', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 26, 'created': '2022-07-22 06:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/842a13f62faddab26fed141d702e28dc64ee45d2', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 27, 'created': '2022-07-25 13:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4461db434fb18baafc2f3c4120e9257ffd0164e', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 28, 'created': '2022-08-01 08:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c477283bc90c62f35a331f483fb14d8b91a6c3a6', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 29, 'created': '2022-08-01 13:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ca6e5e3760e6b7b3488e5266b742c742fb9822f', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 30, 'created': '2022-08-01 13:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61ac338b40c75012ca8df4c6ab1282c18749f108', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 31, 'created': '2022-08-02 09:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eacd2d9c77fba0010f81a9788163b93b14b44699', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 32, 'created': '2022-08-04 15:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e8f74bb30a6d4f6dd43b0b458a37c48320626ae', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 33, 'created': '2022-08-05 06:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14a50486c10f6b949b9f7382784e90347620ad76', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 34, 'created': '2022-08-29 13:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac0f46a829920ca3748839f7e15b21dd28662657', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 35, 'created': '2022-08-30 08:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa0e45c059d8df35f7b4f902975eab62d165df75', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 36, 'created': '2022-09-01 16:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7d0e876e37b0159528cc71672adae9994f79ff1', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 37, 'created': '2022-09-02 10:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c7425eb344dea7ddb972791c5e335f5c9ab93cd', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 38, 'created': '2022-09-20 09:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/56c8d9089c66deb8c97b1926ecf0855ee63fa0af', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 39, 'created': '2022-10-03 09:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8d7162cad58bd32fac190e0fd6d68550439419e', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 40, 'created': '2022-10-04 13:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/881ddc6f935fdd87a54120db542d47846038b75b', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 41, 'created': '2022-10-05 06:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60e299f079699c72285cc98a3b327e05b96c984e', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 42, 'created': '2022-10-05 09:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fdfc7775db436f6e62eb320593cb9d8609e1dcbb', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 43, 'created': '2022-10-05 16:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c24b91b51e169ab68c50d938bdf76b1f439f1572', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 44, 'created': '2022-10-06 08:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/655951cfad1443c9386ad7470a8a47ee91eebf3f', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 45, 'created': '2022-10-06 18:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7c801baa24763f143d9e9d3770940e52fadccff', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 46, 'created': '2022-10-10 13:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d07a1e8f32102f364745adcc0257ab389516bde9', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 47, 'created': '2022-10-11 06:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d56887ec2696f4eb23e984895684cb29afb88358', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 48, 'created': '2022-10-24 09:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75cc72180e04c18fc36563570a35d32c2b1b9523', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 49, 'created': '2022-10-27 07:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b41d5d9a87a23989eca8a152f5a5b34999fc637', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 50, 'created': '2022-11-04 13:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4369784468a84af46b720e8324705b4e4dd910e', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 51, 'created': '2022-11-04 14:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5fbb4091fd838a9d0055ae0430302472b99ca63c', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 52, 'created': '2022-11-06 12:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/879f31bb492c498250a06c6037c480e385a539a6', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 53, 'created': '2022-11-07 08:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab5a4d464c4df4a7b92cfde456f8fa876ee0440b', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 54, 'created': '2022-11-07 12:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/91a5cb3ea4b97b47b81d074d7fc90e0092a8660d', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 55, 'created': '2022-11-08 09:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/44a7f03d5e0c8e09f45add0ab0a8d81d49e0fc90', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 56, 'created': '2022-11-08 11:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/11de4dcc58f42dc8018b2bd50487a48c01704fc0', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 57, 'created': '2022-11-08 13:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dbaaae97b186bcf3442b05729975c77dd0d259b5', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 58, 'created': '2022-11-09 06:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/141abbc501971d1e8df92830d9d7d2bac7dccc30', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 59, 'created': '2022-11-09 08:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e72c445c806c4a3e6bb2b7cb765a80b81224c996', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 60, 'created': '2022-11-09 13:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b809ef943c8057389a6bfa2a11e067dc6632d649', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 61, 'created': '2022-11-13 08:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c93f981d508bf3638d65a8066e10b529c012f59d', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 62, 'created': '2022-11-13 10:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c21ccde1989541e4acdcbb9e8b60729486c35b91', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 63, 'created': '2022-11-13 21:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/471637ab5460422724f9b50a591cf1057dd25f77', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 64, 'created': '2022-11-14 08:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e90d5bd214457c36ab5d5f7e6df8f7ade70d3f8b', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 65, 'created': '2022-11-14 20:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3415c1cd5998b5facd95d7929e8f411de23f0e79', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 66, 'created': '2022-11-15 08:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b785b462deb907b59a0a9cc66797e479ab5ff43c', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 67, 'created': '2022-11-16 08:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f163dd2be331fb49754ac1e611ebe719a57e7bf', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 68, 'created': '2022-11-17 07:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26c57ec550d49169296b5fd0c9d7b1afa7273814', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 69, 'created': '2022-11-17 10:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/23079f65e2701b62e1e81e2625f319ad7f8b96dd', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 70, 'created': '2022-11-23 07:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b114f49a3bac9be48806045bb43a0f651e5d0f59', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 71, 'created': '2022-12-15 15:56:51.000000000', 'files': ['neutron/services/segments/exceptions.py', 'neutron/objects/subnet.py', 'neutron/tests/fullstack/resources/client.py', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/agent/linux/dhcp.py', 'neutron/tests/fullstack/test_multisegs.py', 'releasenotes/notes/multisegs-support-for-phynets-f3c710139e26558c.yaml', 'doc/source/admin/config-routed-networks.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/be0996c30850a870f05cabc3f8b77a379e7ab9da', 'message': 'segment: enable multisegments support for host\n\nThis updates the exception with a log message informing that\nmulti-segments is supported by OVS only at that point.\n\nThis also add fullstack tests that validates multisegs deployment on a\nphysnet.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}]",93,841838,be0996c30850a870f05cabc3f8b77a379e7ab9da,364,6,71,7730,,,0,"segment: enable multisegments support for host

This updates the exception with a log message informing that
multi-segments is supported by OVS only at that point.

This also add fullstack tests that validates multisegs deployment on a
physnet.

Closes-Bug: #1956435
Partial-Bug: #1764738
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/841838/65 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/exceptions.py', 'neutron/objects/subnet.py', 'neutron/tests/unit/extensions/test_segment.py']",3,209a76d95d3f5decca9f2a64f37021bf48b066d2,segments," # multi segments supported since Zed. self.assertEqual(webob.exc.HTTPCreated.code, response.status_int) # multi segments supported since Zed. self.assertEqual(webob.exc.HTTPOk.code, response.status_int)"," self.assertEqual(webob.exc.HTTPConflict.code, response.status_int) self.assertEqual(segment_exc.HostConnectedToMultipleSegments.__name__, res['NeutronError']['type']) # Gets conflict because it can't map the host to a segment self.assertEqual(webob.exc.HTTPConflict.code, response.status_int) self.assertEqual(segment_exc.HostConnectedToMultipleSegments.__name__, res['NeutronError']['type'])",11,19
openstack%2Frbd-iscsi-client~master~I651f762bf6aac9679d1fd74817e7e5f201ced774,openstack/rbd-iscsi-client,master,I651f762bf6aac9679d1fd74817e7e5f201ced774,Get ready for tox 4,MERGED,2022-12-21 14:21:05.000000000,2022-12-23 16:29:16.000000000,2022-12-23 16:27:23.000000000,"[{'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-12-21 14:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rbd-iscsi-client/commit/a3f6f49ddc21aaee9b5a10a0940bf6d5f50d18ca', 'message': ""Get ready for tox 4\n\nChanges:\n- eliminate whitespace in passenv values\n- account for stricter allowlist checking\n- removed skipsdist=True, which in tox 4 appears to prevent\n  rbd-iscsi-client from being installed in the testenvs\n- made 4.0.0 the tox minversion\n- updated the 'bindep' testenv so it would work if we had\n  a bindep.txt, which we currently don't\n\nThis patch makes tox 4 the default so that we can hopefully catch\nproblems locally before they block the gate.\n\nChange-Id: I651f762bf6aac9679d1fd74817e7e5f201ced774\n""}, {'number': 2, 'created': '2022-12-21 20:58:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/rbd-iscsi-client/commit/3f7eff31e1c07cbf43913ec92ab2bdffe79f76bb', 'message': ""Get ready for tox 4\n\nChanges:\n- eliminate whitespace in passenv values\n- account for stricter allowlist checking\n- removed skipsdist=True, which in tox 4 appears to prevent\n  rbd-iscsi-client from being installed in the testenvs\n- updated the 'bindep' testenv so it would work if we had\n  a bindep.txt, which we currently don't\n\nWe can't make tox 4 the default because tox 4 only supports python\n>=3.7, and rbd-iscsi-client still supports py3.6.  When our CI job\nfor py3.6 lands on a system whose default python is 3.6, the job\nwould fail because it couldn't install tox 4.\n\nChange-Id: I651f762bf6aac9679d1fd74817e7e5f201ced774\n""}]",5,868324,3f7eff31e1c07cbf43913ec92ab2bdffe79f76bb,14,3,2,5314,,,0,"Get ready for tox 4

Changes:
- eliminate whitespace in passenv values
- account for stricter allowlist checking
- removed skipsdist=True, which in tox 4 appears to prevent
  rbd-iscsi-client from being installed in the testenvs
- updated the 'bindep' testenv so it would work if we had
  a bindep.txt, which we currently don't

We can't make tox 4 the default because tox 4 only supports python
>=3.7, and rbd-iscsi-client still supports py3.6.  When our CI job
for py3.6 lands on a system whose default python is 3.6, the job
would fail because it couldn't install tox 4.

Change-Id: I651f762bf6aac9679d1fd74817e7e5f201ced774
",git fetch https://review.opendev.org/openstack/rbd-iscsi-client refs/changes/24/868324/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a3f6f49ddc21aaee9b5a10a0940bf6d5f50d18ca,tox-4-ready,"minversion = 4.0.0 # specify virtualenv here to keep local runs consistent with the # gate (it sets the versions of pip, setuptools, and wheel) requires = virtualenv>=20.17.1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYallowlist_externals = {toxinidir}/tools/fast8.sh# explicitly to avoid unnecessarily installing the checked-out repo too skip_install = True","minversion = 3.18.0 requires = virtualenv>=20.4.2 # python runtimes: https://governance.openstack.org/tc/reference/project-testing-interface.html#tested-runtimesskipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY# explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above).",15,7
openstack%2Fneutron~master~I61692e09119751ac7e19cecf6bf0b4b3a9fb38c7,openstack/neutron,master,I61692e09119751ac7e19cecf6bf0b4b3a9fb38c7,[sqlalchemy-20] Add missing DB context decorator,MERGED,2022-11-06 22:12:00.000000000,2022-12-23 16:05:38.000000000,2022-12-23 16:04:12.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-11-06 22:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a637b56d2d9f58c20463ae3bbd1bdf06312463cd', 'message': '[sqlalchemy-20] Add missing DB context decorator\n\nThis fixes two queries still being executed without the context\ndecorator, which is causing warning messages.\n\nCloses-Bug: #1995738\nChange-Id: I61692e09119751ac7e19cecf6bf0b4b3a9fb38c7\n'}, {'number': 2, 'created': '2022-12-07 11:56:26.000000000', 'files': ['neutron/quota/resource.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/234c5a376bef74bcd1af07d4be8adc69715f1af5', 'message': '[sqlalchemy-20] Add missing DB context decorator\n\nThis fixes two queries still being executed without the context\ndecorator, which is causing warning messages.\n\nCloses-Bug: #1995738\nChange-Id: I61692e09119751ac7e19cecf6bf0b4b3a9fb38c7\n'}]",11,863780,234c5a376bef74bcd1af07d4be8adc69715f1af5,37,5,2,2424,,,0,"[sqlalchemy-20] Add missing DB context decorator

This fixes two queries still being executed without the context
decorator, which is causing warning messages.

Closes-Bug: #1995738
Change-Id: I61692e09119751ac7e19cecf6bf0b4b3a9fb38c7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/863780/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/pecan_wsgi/hooks/quota_enforcement.py', 'neutron/quota/resource_registry.py']",2,a637b56d2d9f58c20463ae3bbd1bdf06312463cd,bug/1995738," with db_api.CONTEXT_WRITER.using(context): res.resync(context, tenant_id)"," res.resync(context, tenant_id)",5,3
openstack%2Fneutron~master~I926d2a3ac0149c3e43dd14918521b088494afae8,openstack/neutron,master,I926d2a3ac0149c3e43dd14918521b088494afae8,"Remove deprecated ""list_moved_globals"" script",MERGED,2022-12-20 09:36:16.000000000,2022-12-23 15:57:05.000000000,2022-12-23 15:55:55.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 09:36:16.000000000', 'files': ['tools/list_moved_globals.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/44ad4bb517d9e0d1e0a4386492087412131bca00', 'message': 'Remove deprecated ""list_moved_globals"" script\n\nThis script was deprecated in 2016 [1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/394201\n\nChange-Id: I926d2a3ac0149c3e43dd14918521b088494afae8\n'}]",5,868162,44ad4bb517d9e0d1e0a4386492087412131bca00,19,3,1,16688,,,0,"Remove deprecated ""list_moved_globals"" script

This script was deprecated in 2016 [1].

[1]https://review.opendev.org/c/openstack/neutron/+/394201

Change-Id: I926d2a3ac0149c3e43dd14918521b088494afae8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/868162/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/list_moved_globals.py', 'tox.ini']",2,44ad4bb517d9e0d1e0a4386492087412131bca00,remove_list_moved_globals,, python ./tools/list_moved_globals.py,0,41
openstack%2Fbifrost~master~I2279b81c8d9975300be9d0bd8c035963021ce6df,openstack/bifrost,master,I2279b81c8d9975300be9d0bd8c035963021ce6df,Fixes for tox 4.0,MERGED,2022-12-15 18:03:41.000000000,2022-12-23 14:43:54.000000000,2022-12-23 14:42:48.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-12-15 18:03:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f06b8a7580b6312d61ae95ad5696d3935e12034f', 'message': 'Fixes for tox 4.0\n\n- Fixed passenv syntax\n- Removed usedevelop (not allowed with skipsdist)\n\nChange-Id: I2279b81c8d9975300be9d0bd8c035963021ce6df\n'}]",0,867838,f06b8a7580b6312d61ae95ad5696d3935e12034f,8,3,1,10342,,,0,"Fixes for tox 4.0

- Fixed passenv syntax
- Removed usedevelop (not allowed with skipsdist)

Change-Id: I2279b81c8d9975300be9d0bd8c035963021ce6df
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/38/867838/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f06b8a7580b6312d61ae95ad5696d3935e12034f,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,usedevelop = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYusedevelop = Falseusedevelop = Falseusedevelop = Falseusedevelop = Falseusedevelop = False,7,7
openstack%2Fneutron~master~I9c8ebbb334df89e8d5b3b80bbfba2e91d3d848f5,openstack/neutron,master,I9c8ebbb334df89e8d5b3b80bbfba2e91d3d848f5,"Wait until local OVS DB updates Bridge ""datapath_id""",MERGED,2022-12-21 11:35:03.000000000,2022-12-23 14:15:10.000000000,2022-12-23 14:13:54.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 11:35:03.000000000', 'files': ['neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cbd03c7ea593e1b2ba79ffd7c7afa0dc844202a6', 'message': 'Wait until local OVS DB updates Bridge ""datapath_id""\n\nCloses-Bug: #2000163\nChange-Id: I9c8ebbb334df89e8d5b3b80bbfba2e91d3d848f5\n'}]",1,868311,cbd03c7ea593e1b2ba79ffd7c7afa0dc844202a6,13,3,1,16688,,,0,"Wait until local OVS DB updates Bridge ""datapath_id""

Closes-Bug: #2000163
Change-Id: I9c8ebbb334df89e8d5b3b80bbfba2e91d3d848f5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/868311/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/test_ovs_lib.py'],1,cbd03c7ea593e1b2ba79ffd7c7afa0dc844202a6,bug/2000163," def _check_datapath_id(): return True if dpid in self.br.get_datapath_id() else False # Wait until local OVS DB cache is updated. utils.wait_until_true(_check_datapath_id, timeout=5)"," self.assertIn(dpid, self.br.get_datapath_id())",5,1
openstack%2Fovn-bgp-agent~master~I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d,openstack/ovn-bgp-agent,master,I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d,Adapt to the new fields on Load_Balancer SB DB,MERGED,2022-12-22 15:05:29.000000000,2022-12-23 13:28:18.000000000,2022-12-23 13:28:18.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}]","[{'number': 1, 'created': '2022-12-22 15:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/442ee73fcf9c648964bb4249c305d3e5a32a557b', 'message': 'Adapt to the new fields on Load_Balancer SB DB\n\nAfter [1] the Load_Balancer table at SB DB stop using the\ndatapaths field, in favor of the datapath_group.\n\nThis patch ensures this new field is processed if available\n\n[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html\n\nChange-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d\n'}, {'number': 2, 'created': '2022-12-22 15:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/5efe002f5370e1bfa8f03193f563722c5cdd494f', 'message': 'Adapt to the new fields on Load_Balancer SB DB\n\nAfter [1] the Load_Balancer table at SB DB stop using the\ndatapaths field, in favor of the datapath_group.\n\nThis patch ensures this new field is processed if available\n\n[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html\n\nChange-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d\n'}, {'number': 3, 'created': '2022-12-22 15:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/7d449e8cfffb88e3fe03364927c9332621febf71', 'message': 'Adapt to the new fields on Load_Balancer SB DB\n\nAfter [1] the Load_Balancer table at SB DB stop using the\ndatapaths field, in favor of the datapath_group.\n\nThis patch ensures this new field is processed if available\n\n[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html\n\nChange-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d\n'}, {'number': 4, 'created': '2022-12-22 15:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/2e8d53a587544147bb0cef14c843a457b65e0077', 'message': 'Adapt to the new fields on Load_Balancer SB DB\n\nAfter [1] the Load_Balancer table at SB DB stop using the\ndatapaths field, in favor of the datapath_group.\n\nThis patch ensures this new field is processed if available\n\n[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html\n\nChange-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d\n'}, {'number': 5, 'created': '2022-12-22 17:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/09c644580cac8ba00fa26c09bb001d0e84f346f3', 'message': 'Adapt to the new fields on Load_Balancer SB DB\n\nAfter [1] the Load_Balancer table at SB DB stop using the\ndatapaths field, in favor of the datapath_group.\n\nThis patch ensures this new field is processed if available\n\n[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html\n\nChange-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d\n'}, {'number': 6, 'created': '2022-12-23 06:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/15823d4eb65258a2dbb8396b14aac81b86c6358a', 'message': 'Adapt to the new fields on Load_Balancer SB DB\n\nAfter [1] the Load_Balancer table at SB DB stop using the\ndatapaths field, in favor of the datapath_group.\n\nThis patch ensures this new field is processed if available\n\n[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html\n\nChange-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d\n'}, {'number': 7, 'created': '2022-12-23 10:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/ca29f4cbb7b259ba6d8245fbf6dceead71028cf3', 'message': 'Adapt to the new fields on Load_Balancer SB DB\n\nAfter [1] the Load_Balancer table at SB DB stop using the\ndatapaths field, in favor of the datapath_group.\n\nThis patch ensures this new field is processed if available\n\n[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html\n\nChange-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d\n'}, {'number': 8, 'created': '2022-12-23 11:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/ce36c88ef7ec3b03ca2427cfa759b1ad5bf3015f', 'message': 'Adapt to the new fields on Load_Balancer SB DB\n\nAfter [1] the Load_Balancer table at SB DB stop using the\ndatapaths field, in favor of the datapath_group.\n\nThis patch ensures this new field is processed if available\n\n[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html\n\nChange-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d\n'}, {'number': 9, 'created': '2022-12-23 12:00:00.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_bgp_watcher.py', 'ovn_bgp_agent/drivers/openstack/utils/ovn.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_ovn.py', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/85858530aa60b89391f097d9dda89fa16a4b6e90', 'message': 'Adapt to the new fields on Load_Balancer SB DB\n\nAfter [1] the Load_Balancer table at SB DB stop using the\ndatapaths field, in favor of the datapath_group.\n\nThis patch ensures this new field is processed if available\n\n[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html\n\nChange-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d\n'}]",10,868332,85858530aa60b89391f097d9dda89fa16a4b6e90,24,4,9,23567,,,0,"Adapt to the new fields on Load_Balancer SB DB

After [1] the Load_Balancer table at SB DB stop using the
datapaths field, in favor of the datapath_group.

This patch ensures this new field is processed if available

[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html

Change-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/32/868332/2 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/ovn.py', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py']",3,442ee73fcf9c648964bb4249c305d3e5a32a557b,ovn-lb-sb-format," if hasattr(row, 'datapath_group'): try: if row.datapath_group == old.datapath_group: return False except AttributeError: else: try: if row.datapaths == old.datapaths: return False except AttributeError: return False row_dp = [] old_dp = [] if hasattr(row, 'datapath_group'): dp = self.agent.sb_idl.get_dp_group( row.datapath_group) if dp: row_dp = dp[0].datapaths else: row_dp = row.datapaths if hasattr(old, 'datapath_group'): dp = self.agent.sb_idl.get_dp_group( old.datapath_group) if dp: old_dp = dp[0].datapaths else: old_dp = old.datapaths if cr_lrp_info.get('provider_datapath') not in row_dp: if row.name in cr_lrp_info['ovn_lbs']: ovn_lb_cr_lrp = cr_lrp_port if (subnet_dp in row_dp or subnet_dp in old_dp)] if match_subnets_datapaths: ovn_lb_cr_lrp = cr_lrp_port break if not ovn_lb_cr_lrp: if len(row_dp) == 1 and len(old_dp) > 1: if len(old_dp) == 1 and len(row_dp) > 1:"," try: if row.datapaths == old.datapaths: except AttributeError: return False provider_dp = """" if cr_lrp_info.get('provider_datapath') not in row.datapaths: match_subnets_datapaths = [ subnet_dp for subnet_dp in cr_lrp_info[ 'subnets_datapath'].values() if subnet_dp in row.datapaths] if (subnet_dp in row.datapaths or subnet_dp in old.datapaths)] if match_subnets_datapaths: provider_dp = cr_lrp_info.get('provider_datapath') ovn_lb_cr_lrp = cr_lrp_port break if not provider_dp: if len(row.datapaths) == 1 and len(old.datapaths) > 1: if len(old.datapaths) == 1 and len(row.datapaths) > 1:",84,42
openstack%2Fneutron~master~I9c62d429bb819336da05055fecd08e3816986bf8,openstack/neutron,master,I9c62d429bb819336da05055fecd08e3816986bf8,Limit tox version to <4,MERGED,2022-12-16 14:58:18.000000000,2022-12-23 12:10:35.000000000,2022-12-23 12:09:18.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-12-16 14:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ab71db3c0fff854a9ff97f0145285db7756b010', 'message': 'Limit tox version to <4\n\nThis patch is a workaround until we find why fullstack job is failing\nwith tox 4.\n\nRelated-Bug: #1999558\nChange-Id: I9c62d429bb819336da05055fecd08e3816986bf8\n'}, {'number': 2, 'created': '2022-12-16 15:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca8fd56428fb07d8edee7483756d1fbb2cbad892', 'message': 'Limit tox version to <4\n\nThis patch is a workaround until we find why fullstack job is failing\nwith tox 4.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\n\nRelated-Bug: #1999558\nChange-Id: I9c62d429bb819336da05055fecd08e3816986bf8\n'}, {'number': 3, 'created': '2022-12-16 16:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d37469423e4baf9f83fcdff62c5a482c9654a1c0', 'message': 'Limit tox version to <4\n\nThis patch is a workaround until we find why fullstack job is failing\nwith tox 4.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\n\nRelated-Bug: #1999558\nChange-Id: I9c62d429bb819336da05055fecd08e3816986bf8\n'}, {'number': 4, 'created': '2022-12-19 10:21:50.000000000', 'files': ['playbooks/run_functional_job.yaml', 'playbooks/configure_functional_job.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8bcaf1632f93633925a6f6bb2647b4007e2562f9', 'message': 'Limit tox version to <4\n\nThis patch is a workaround until we find why fullstack job is failing\nwith tox 4.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\n\nRelated-Bug: #1999558\nChange-Id: I9c62d429bb819336da05055fecd08e3816986bf8\n'}]",3,867977,8bcaf1632f93633925a6f6bb2647b4007e2562f9,23,5,4,16688,,,0,"Limit tox version to <4

This patch is a workaround until we find why fullstack job is failing
with tox 4.

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943

Related-Bug: #1999558
Change-Id: I9c62d429bb819336da05055fecd08e3816986bf8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/867977/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/run_functional_job.yaml', 'playbooks/configure_functional_job.yaml']",2,9ab71db3c0fff854a9ff97f0145285db7756b010,bug/1999558," ensure_tox_version: ""<4""",,2,0
openstack%2Fneutron~stable%2Fussuri~I8c6d226e626812c3ccf0a2681be68a5b080b3463,openstack/neutron,stable/ussuri,I8c6d226e626812c3ccf0a2681be68a5b080b3463,[Fullstack] Wait 10 seconds to ensure that MAC address is configured,MERGED,2022-12-22 15:46:04.000000000,2022-12-23 11:44:49.000000000,2022-12-23 11:43:39.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 15:46:04.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bcaba9d791d17eccd8420bc5ee2dd330dfa299e3', 'message': ""[Fullstack] Wait 10 seconds to ensure that MAC address is configured\n\nIn Linuxbridge and OVS PortFixture, when port is created, in the fake\nvm's namespace it needs to have correct mac address configured.\nIt seems that for some reason it's not properly configured sometimes and\nthat may cause failure of e.g. DHCP tests.\nSo this patch adds retries for 10 seconds to ensure that MAC address is\nconfigured to the one which should be.\n\nCloses-bug: #2000150\nChange-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463\n(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)\n""}]",2,868398,bcaba9d791d17eccd8420bc5ee2dd330dfa299e3,14,3,1,11975,,,0,"[Fullstack] Wait 10 seconds to ensure that MAC address is configured

In Linuxbridge and OVS PortFixture, when port is created, in the fake
vm's namespace it needs to have correct mac address configured.
It seems that for some reason it's not properly configured sometimes and
that may cause failure of e.g. DHCP tests.
So this patch adds retries for 10 seconds to ensure that MAC address is
configured to the one which should be.

Closes-bug: #2000150
Change-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463
(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/868398/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,bcaba9d791d17eccd8420bc5ee2dd330dfa299e3,bug/2000150-stable/zed-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri," def set_port_mac_address(self): def set_mac_address(): self.port.link.set_address(self.mac) return self.port.link.address.lower() == self.mac.lower() try: common_utils.wait_until_true(set_mac_address, timeout=10) except common_utils.WaitTimeout: LOG.error(""MAC address of the port %s not set properly. "" ""Requested MAC: %s; Actual MAC: %s"", self.port, self.mac, self.port.link.address) self.set_port_mac_address() self.set_port_mac_address()", self.port.link.set_address(self.mac) if self.mac: self.port.link.set_address(self.mac),15,3
openstack%2Ftripleo-common~master~I638649e0722011ad39cc94f0cc0bfcf65cf1518b,openstack/tripleo-common,master,I638649e0722011ad39cc94f0cc0bfcf65cf1518b,Adapt to tox 4.x,MERGED,2022-12-23 07:18:15.000000000,2022-12-23 10:32:17.000000000,2022-12-23 10:31:16.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-23 07:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/645f443c7756d6924be5cf87be650adc54581ec6', 'message': 'Remove tox skipdist=True\n\nThis does not work with latest tox 4.x.\n\nCloses-Bug: #2000357\nCo-Authored-By: Rabi Mishra <ramishra@redhat.com>\nChange-Id: I638649e0722011ad39cc94f0cc0bfcf65cf1518b\n'}, {'number': 2, 'created': '2022-12-23 08:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/92ec5030bc2369a313fc565ab8b7a7d79dba2dd3', 'message': ""Adapt to tox 4.x\n\nskipdist=True does not work with latest tox 4.x.\n\nAlso, skip_install=True without any deps causes the following task\nfailure in CI.\n\nTASK [tox : Install any sibling python packages]\n...\nubuntu-jammy | FileNotFoundError: [Errno 2] No such file or directory:\n'/home/zuul/src/opendev.org/openstack/tripleo-common/.tox/pep8/log/\npep8-siblings.txt'\n\nCloses-Bug: #2000357\nCo-Authored-By: Rabi Mishra <ramishra@redhat.com>\nChange-Id: I638649e0722011ad39cc94f0cc0bfcf65cf1518b\n""}, {'number': 3, 'created': '2022-12-23 09:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d203023cceec46696da4f71592aefc6b46a41dfc', 'message': ""Adapt to tox 4.x\n\nskipdist=True does not work with latest tox 4.x.\n\nAlso, skip_install=True without any deps causes the following task\nfailure in CI, because the log directory is no longer created.\n\nTASK [tox : Install any sibling python packages]\n...\nubuntu-jammy | FileNotFoundError: [Errno 2] No such file or directory:\n'/home/zuul/src/opendev.org/openstack/tripleo-common/.tox/pep8/log/\npep8-siblings.txt'\n\nCloses-Bug: #2000357\nCo-Authored-By: Rabi Mishra <ramishra@redhat.com>\nChange-Id: I638649e0722011ad39cc94f0cc0bfcf65cf1518b\n""}, {'number': 4, 'created': '2022-12-23 09:51:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/93c21833829cc5731057586e9c5cb2140ea2d646', 'message': ""Adapt to tox 4.x\n\nskipdist=True does not work with latest tox 4.x.\n\nAlso, skip_install=True without any deps causes the following task\nfailure in CI, because the log directory is no longer created. This\nchange ensures we use the individual environment instead of using\na different environment.\n\nTASK [tox : Install any sibling python packages]\n...\nubuntu-jammy | FileNotFoundError: [Errno 2] No such file or directory:\n'/home/zuul/src/opendev.org/openstack/tripleo-common/.tox/pep8/log/\npep8-siblings.txt'\n\nCloses-Bug: #2000357\nCo-Authored-By: Rabi Mishra <ramishra@redhat.com>\nChange-Id: I638649e0722011ad39cc94f0cc0bfcf65cf1518b\n""}]",2,868470,93c21833829cc5731057586e9c5cb2140ea2d646,15,2,4,9816,,,0,"Adapt to tox 4.x

skipdist=True does not work with latest tox 4.x.

Also, skip_install=True without any deps causes the following task
failure in CI, because the log directory is no longer created. This
change ensures we use the individual environment instead of using
a different environment.

TASK [tox : Install any sibling python packages]
...
ubuntu-jammy | FileNotFoundError: [Errno 2] No such file or directory:
'/home/zuul/src/opendev.org/openstack/tripleo-common/.tox/pep8/log/
pep8-siblings.txt'

Closes-Bug: #2000357
Co-Authored-By: Rabi Mishra <ramishra@redhat.com>
Change-Id: I638649e0722011ad39cc94f0cc0bfcf65cf1518b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/70/868470/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,645f443c7756d6924be5cf87be650adc54581ec6,,,skipsdist = True,0,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I5b3c2223b21f6546bfd327c5eadc089c05f38f29,openstack/tripleo-heat-templates,stable/wallaby,I5b3c2223b21f6546bfd327c5eadc089c05f38f29,WIP,ABANDONED,2022-12-23 08:39:44.000000000,2022-12-23 10:04:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-23 08:39:44.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae4cd76e0713b7835c48e7ec1aaa63f34d9f6b01', 'message': 'WIP\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/860315\nChange-Id: I5b3c2223b21f6546bfd327c5eadc089c05f38f29\n'}]",0,868475,ae4cd76e0713b7835c48e7ec1aaa63f34d9f6b01,3,1,1,22954,,,0,"WIP

Depends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/860315
Change-Id: I5b3c2223b21f6546bfd327c5eadc089c05f38f29
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/868475/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ae4cd76e0713b7835c48e7ec1aaa63f34d9f6b01,bug/2000357,oslo.concurrency>=4.4.0 # Apache-2.0,,1,0
openstack%2Fovn-bgp-agent~master~Ibde8cab5e45ff141cdcebae033909cb4bbfb90cd,openstack/ovn-bgp-agent,master,Ibde8cab5e45ff141cdcebae033909cb4bbfb90cd,Fix AttributeError exception due to missing old.chassis,MERGED,2022-12-23 06:57:40.000000000,2022-12-23 09:35:35.000000000,2022-12-23 09:35:35.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2022-12-23 06:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/24e70dd2bbaadd6f6c1878dfc15b5e980f067a1c', 'message': 'Fix AttributeError exception due to missing old.chassis\n\nIn previous code reorg this issue was introduced. When a\ntenant port gets deleted, the old row does not have information\nabout the chassis. So this needs to be used only for the UPDATE\nevents, and for the DELETE event simply use the one at the row\nbeing deleted\n\nChange-Id: Ibde8cab5e45ff141cdcebae033909cb4bbfb90cd\n'}, {'number': 2, 'created': '2022-12-23 07:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/f476f1a4c06a4b33693ea29d7e3ea08a630ac055', 'message': 'Fix AttributeError exception due to missing old.chassis\n\nIn previous code reorg this issue was introduced. When a\ntenant port gets deleted, the old row does not have information\nabout the chassis. So this needs to be used only for the UPDATE\nevents, and for the DELETE event simply use the one at the row\nbeing deleted\n\nAlso fix some problem with test-requirements at gates\n\nChange-Id: Ibde8cab5e45ff141cdcebae033909cb4bbfb90cd\n'}, {'number': 3, 'created': '2022-12-23 08:11:34.000000000', 'files': ['ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_bgp_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/d6a82079f49baf1f6a8da40574cadf5913076b5c', 'message': 'Fix AttributeError exception due to missing old.chassis\n\nIn previous code reorg this issue was introduced. When a\ntenant port gets deleted, the old row does not have information\nabout the chassis. So this needs to be used only for the UPDATE\nevents, and for the DELETE event simply use the one at the row\nbeing deleted\n\nChange-Id: Ibde8cab5e45ff141cdcebae033909cb4bbfb90cd\n'}]",2,868338,d6a82079f49baf1f6a8da40574cadf5913076b5c,14,3,3,23567,,,0,"Fix AttributeError exception due to missing old.chassis

In previous code reorg this issue was introduced. When a
tenant port gets deleted, the old row does not have information
about the chassis. So this needs to be used only for the UPDATE
events, and for the DELETE event simply use the one at the row
being deleted

Change-Id: Ibde8cab5e45ff141cdcebae033909cb4bbfb90cd
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/38/868338/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_bgp_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py']",2,24e70dd2bbaadd6f6c1878dfc15b5e980f067a1c,," if event == self.ROW_UPDATE: chassis = old.chassis else: chassis = row.chassis self.agent.withdraw_remote_ip(ips, row, chassis)"," self.agent.withdraw_remote_ip(ips, row, old.chassis)",18,3
openstack%2Ftripleo-ansible~master~Ia3fe0e1de08f47ec434d04a5baae2b476132be19,openstack/tripleo-ansible,master,Ia3fe0e1de08f47ec434d04a5baae2b476132be19,Remove tox skipdist=True,MERGED,2022-12-23 07:01:23.000000000,2022-12-23 09:11:22.000000000,2022-12-23 09:10:25.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-23 07:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/27eeed69f9aec28491e1af1a2c923b8187c1f08a', 'message': 'Remove tox skipdist=True\n\nThis does not work with latest tox 4.x.\n\nCloses-Bug: #2000357\nChange-Id: Ia3fe0e1de08f47ec434d04a5baae2b476132be19\n'}, {'number': 2, 'created': '2022-12-23 07:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/35992f287c0bd5c543d870e9e6fba690a4051234', 'message': 'Remove tox skipdist=True\n\nThis does not work with latest tox 4.x.\n\nCloses-Bug: #2000357\nChange-Id: Ia3fe0e1de08f47ec434d04a5baae2b476132be19\n'}, {'number': 3, 'created': '2022-12-23 07:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/93fffe1c010f262ecc5315661fc5efcb767d9bea', 'message': 'Remove tox skipdist=True\n\nThis does not work with latest tox 4.x.\nAlso fixes few other issues in tox.ini.\n\nCloses-Bug: #2000357\nChange-Id: Ia3fe0e1de08f47ec434d04a5baae2b476132be19\n'}, {'number': 4, 'created': '2022-12-23 08:13:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/254ff2bd1ccc2c9c4afe61ed617df22448652a3e', 'message': 'Remove tox skipdist=True\n\nThis does not work with latest tox 4.x.\nAlso fixes few other issues in tox.ini.\n\nCloses-Bug: #2000357\nChange-Id: Ia3fe0e1de08f47ec434d04a5baae2b476132be19\n'}]",0,868469,254ff2bd1ccc2c9c4afe61ed617df22448652a3e,13,2,4,8833,,,0,"Remove tox skipdist=True

This does not work with latest tox 4.x.
Also fixes few other issues in tox.ini.

Closes-Bug: #2000357
Change-Id: Ia3fe0e1de08f47ec434d04a5baae2b476132be19
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/69/868469/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,27eeed69f9aec28491e1af1a2c923b8187c1f08a,,,skipsdist = True,0,1
openstack%2Fovn-bgp-agent~master~I5dc6b7a2720be7c6f6fdb8f97dc84205bfe8c329,openstack/ovn-bgp-agent,master,I5dc6b7a2720be7c6f6fdb8f97dc84205bfe8c329,Fix gates due to tox bump to tox4,MERGED,2022-12-23 08:17:11.000000000,2022-12-23 08:56:20.000000000,2022-12-23 08:56:20.000000000,"[{'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 30126}]","[{'number': 1, 'created': '2022-12-23 08:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/a5fcdf1c42be256ee4ca60c167b1d78b903208e1', 'message': 'Fix gates due to tox bump to tox4\n\nChange-Id: I5dc6b7a2720be7c6f6fdb8f97dc84205bfe8c329\n'}, {'number': 2, 'created': '2022-12-23 08:27:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/b7c2078a95841abd8f66ce00587dd9972844b004', 'message': 'Fix gates due to tox bump to tox4\n\nChange-Id: I5dc6b7a2720be7c6f6fdb8f97dc84205bfe8c329\n'}]",0,868339,b7c2078a95841abd8f66ce00587dd9972844b004,9,3,2,23567,,,0,"Fix gates due to tox bump to tox4

Change-Id: I5dc6b7a2720be7c6f6fdb8f97dc84205bfe8c329
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/39/868339/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a5fcdf1c42be256ee4ca60c167b1d78b903208e1,,usedevelop = False skipsdist = False,usedevelop = True,2,1
openstack%2Fheat~master~I73c31297d5d6c6d4f87a88d64f305ef22da16379,openstack/heat,master,I73c31297d5d6c6d4f87a88d64f305ef22da16379,Fix passenv for latest tox,ABANDONED,2022-12-23 03:12:39.000000000,2022-12-23 08:16:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-23 03:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c7c985e1a0b49d705ae482426a7ad3cd30c408fc', 'message': ""Fix passenv for latest tox\n\nIt's a list of environment variable names is not case sensitive.\n\nChange-Id: I73c31297d5d6c6d4f87a88d64f305ef22da16379\n""}, {'number': 2, 'created': '2022-12-23 03:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d8c3da00e7f2a7d1f9da6626972587aaa069d54f', 'message': ""Fix passenv for latest tox\n\nIt's a list of environment variable names is not case sensitive.\nAlso pin tox till we fix issues.\n\nChange-Id: I73c31297d5d6c6d4f87a88d64f305ef22da16379\n""}, {'number': 3, 'created': '2022-12-23 04:13:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/4a96e5f88e15848bd59664de2069b4bdedd6fa54', 'message': ""Fix passenv for latest tox\n\nIt's a list of environment variable names is not case sensitive.\nAlso removes skipdist=True.\n\nChange-Id: I73c31297d5d6c6d4f87a88d64f305ef22da16379\n""}]",0,868459,4a96e5f88e15848bd59664de2069b4bdedd6fa54,8,1,3,8833,,,0,"Fix passenv for latest tox

It's a list of environment variable names is not case sensitive.
Also removes skipdist=True.

Change-Id: I73c31297d5d6c6d4f87a88d64f305ef22da16379
",git fetch https://review.opendev.org/openstack/heat refs/changes/59/868459/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c7c985e1a0b49d705ae482426a7ad3cd30c408fc,,passenv = http_proxy https_proxy no_proxy,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,4,1
openstack%2Ftripleo-common~master~I298cb578cf9fe4c0d8de7a31a28d2083c4e1d25b,openstack/tripleo-common,master,I298cb578cf9fe4c0d8de7a31a28d2083c4e1d25b,DNM: Testing CI,ABANDONED,2022-12-23 06:59:57.000000000,2022-12-23 08:12:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-23 06:59:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7ef629785c095b46e002bdf53799e13673f8d174', 'message': 'DNM: Testing CI\n\nChange-Id: I298cb578cf9fe4c0d8de7a31a28d2083c4e1d25b\n'}]",0,868468,7ef629785c095b46e002bdf53799e13673f8d174,3,1,1,9816,,,0,"DNM: Testing CI

Change-Id: I298cb578cf9fe4c0d8de7a31a28d2083c4e1d25b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/68/868468/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7ef629785c095b46e002bdf53799e13673f8d174,,,,1,0
openstack%2Ftripleo-puppet-elements~master~I4b0190ed0bcc42c8d90c10e19e7ce0edcaf20ae7,openstack/tripleo-puppet-elements,master,I4b0190ed0bcc42c8d90c10e19e7ce0edcaf20ae7,DNM: Testing CI,ABANDONED,2022-12-23 07:21:13.000000000,2022-12-23 08:12:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-23 07:21:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/a05bd0c2c4cd9b1c6c7e0aea8996ea0ee4e28c34', 'message': 'DNM: Testing CI\n\nChange-Id: I4b0190ed0bcc42c8d90c10e19e7ce0edcaf20ae7\n'}]",0,868473,a05bd0c2c4cd9b1c6c7e0aea8996ea0ee4e28c34,3,1,1,9816,,,0,"DNM: Testing CI

Change-Id: I4b0190ed0bcc42c8d90c10e19e7ce0edcaf20ae7
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/73/868473/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a05bd0c2c4cd9b1c6c7e0aea8996ea0ee4e28c34,,,,1,0
openstack%2Fpython-tripleoclient~master~Iccf25bd75c2d11aee54f8846c69f7797a170edaf,openstack/python-tripleoclient,master,Iccf25bd75c2d11aee54f8846c69f7797a170edaf,Remove tox skipdist=True,MERGED,2022-12-23 07:18:27.000000000,2022-12-23 08:06:13.000000000,2022-12-23 08:05:01.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-23 07:18:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/35f2d79eea6c5167bc86af50b0181145f3ad32b6', 'message': 'Remove tox skipdist=True\n\nThis does not work with latest tox 4.x.\n\nCloses-Bug: #2000357\nCo-Authored-By: Rabi Mishra <ramishra@redhat.com>\nChange-Id: Iccf25bd75c2d11aee54f8846c69f7797a170edaf\n'}]",0,868471,35f2d79eea6c5167bc86af50b0181145f3ad32b6,7,2,1,9816,,,0,"Remove tox skipdist=True

This does not work with latest tox 4.x.

Closes-Bug: #2000357
Co-Authored-By: Rabi Mishra <ramishra@redhat.com>
Change-Id: Iccf25bd75c2d11aee54f8846c69f7797a170edaf
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/71/868471/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,35f2d79eea6c5167bc86af50b0181145f3ad32b6,,,skipsdist = True,0,1
openstack%2Fceilometer~stable%2Fussuri~I5fe0364553ccb0904f6fb8cb2aae84a20abdd998,openstack/ceilometer,stable/ussuri,I5fe0364553ccb0904f6fb8cb2aae84a20abdd998,Remove jobs corresponds to obselete featuresets,NEW,2021-09-13 12:39:17.000000000,2022-12-23 07:29:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-13 12:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ea8e851dffce41d46de3776648d125d016c2fa82', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I5fe0364553ccb0904f6fb8cb2aae84a20abdd998\n'}, {'number': 2, 'created': '2021-09-13 12:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c385405342a39a2bcdccb09fb22f27bc2f856698', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\nChange-Id: I5fe0364553ccb0904f6fb8cb2aae84a20abdd998\n'}, {'number': 3, 'created': '2022-12-23 06:17:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c7aad9af1720fcc500afa95b03a4414da8a8977e', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\nChange-Id: I5fe0364553ccb0904f6fb8cb2aae84a20abdd998\n(cherry picked from commit e33a1f7dd6386bc3cbb45c41c3f0a74e03b5f1f5)\n'}]",0,808659,c7aad9af1720fcc500afa95b03a4414da8a8977e,5,1,3,20182,,,0,"Remove jobs corresponds to obselete featuresets

As we are removing the jobs which are using the obselete featuresets [1]
so removing those jobs from templates/layouts

Change-Id: I5fe0364553ccb0904f6fb8cb2aae84a20abdd998
(cherry picked from commit e33a1f7dd6386bc3cbb45c41c3f0a74e03b5f1f5)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/59/808659/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ea8e851dffce41d46de3776648d125d016c2fa82,cleanup_featuresets_from_old_branches-stable/ussuri, - tripleo-ci-centos-8-containers-multinode - tripleo-ci-centos-8-scenario001-standalone - tripleo-ci-centos-8-scenario002-standalone, # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario001-multinode-oooq - tripleo-ci-centos-7-scenario001-standalone - tripleo-ci-centos-7-scenario002-multinode-oooq - tripleo-ci-centos-7-scenario002-standalone,3,7
openstack%2Ftripleo-heat-templates~master~Ib0fca00c92ef56fce57eb6355cb6be36e478a744,openstack/tripleo-heat-templates,master,Ib0fca00c92ef56fce57eb6355cb6be36e478a744,Remove tox skipdist=True,MERGED,2022-12-23 06:30:01.000000000,2022-12-23 07:08:27.000000000,2022-12-23 07:07:28.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-23 06:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9fbf37c5942c0fbe17448677943c3b7e4622df8', 'message': 'Remove skipdist=True\n\nThis does not work with tox 4.0.\n\nChange-Id: Ib0fca00c92ef56fce57eb6355cb6be36e478a744\n'}, {'number': 2, 'created': '2022-12-23 06:34:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7fd4519b222166edc5a02121a4a04c113ab671be', 'message': 'Remove tox skipdist=True\n\nThis does not work with latest tox 4.x.\n\nCloses-Bug: #2000357\nChange-Id: Ib0fca00c92ef56fce57eb6355cb6be36e478a744\n'}]",1,868465,7fd4519b222166edc5a02121a4a04c113ab671be,9,2,2,8833,,,0,"Remove tox skipdist=True

This does not work with latest tox 4.x.

Closes-Bug: #2000357
Change-Id: Ib0fca00c92ef56fce57eb6355cb6be36e478a744
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/868465/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c9fbf37c5942c0fbe17448677943c3b7e4622df8,,,skipsdist = True,0,1
openstack%2Fpython-aodhclient~stable%2Fussuri~Ia46259e960493c92a6701a165518ef87b03c5c2d,openstack/python-aodhclient,stable/ussuri,Ia46259e960493c92a6701a165518ef87b03c5c2d,Don't use */* in accept header,ABANDONED,2022-12-21 13:39:17.000000000,2022-12-23 05:00:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-21 13:39:17.000000000', 'files': ['aodhclient/v2/base.py'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/25f9b09e26e76053cfc586838055be6d9663a9ea', 'message': ""Don't use */* in accept header\n\nThe response is returned as text/plain in case of exception.\nPecan 1.4 uses accept header to decide the response content type.\n\nThis also affected gnocciclient and has been fixed there.\nhttps://github.com/gnocchixyz/python-gnocchiclient/pull/110\n\nChange-Id: Ia46259e960493c92a6701a165518ef87b03c5c2d\n(cherry picked from commit dff4f153d442e442276eea0d82f87a5d4cb692fe)\n""}]",0,868282,25f9b09e26e76053cfc586838055be6d9663a9ea,3,1,1,32240,,,0,"Don't use */* in accept header

The response is returned as text/plain in case of exception.
Pecan 1.4 uses accept header to decide the response content type.

This also affected gnocciclient and has been fixed there.
https://github.com/gnocchixyz/python-gnocchiclient/pull/110

Change-Id: Ia46259e960493c92a6701a165518ef87b03c5c2d
(cherry picked from commit dff4f153d442e442276eea0d82f87a5d4cb692fe)
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/82/868282/1 && git format-patch -1 --stdout FETCH_HEAD,['aodhclient/v2/base.py'],1,25f9b09e26e76053cfc586838055be6d9663a9ea,," ""Accept"": ""application/json"","," ""Accept"": ""application/json, */*"",",1,1
openstack%2Fheat~master~Id68931235352fbdfc1fe9386e69d94d2823c4a83,openstack/heat,master,Id68931235352fbdfc1fe9386e69d94d2823c4a83,DNN: Adapt to new tox,ABANDONED,2022-12-23 03:52:52.000000000,2022-12-23 04:18:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-23 03:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e1b93db018dd3bf1288e58e1177e89620bd1d58b', 'message': 'Adapt to new tox\n\nChange-Id: Id68931235352fbdfc1fe9386e69d94d2823c4a83\n'}, {'number': 2, 'created': '2022-12-23 03:54:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/be98f324e8a630fce1a6ee5ef62571e4300b4c51', 'message': 'DNN: Adapt to new tox\n\nChange-Id: Id68931235352fbdfc1fe9386e69d94d2823c4a83\n'}]",0,868460,be98f324e8a630fce1a6ee5ef62571e4300b4c51,5,1,2,9816,,,0,"DNN: Adapt to new tox

Change-Id: Id68931235352fbdfc1fe9386e69d94d2823c4a83
",git fetch https://review.opendev.org/openstack/heat refs/changes/60/868460/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e1b93db018dd3bf1288e58e1177e89620bd1d58b,story/2010487,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,1
openstack%2Ftacker-specs~master~I3629f17e8df17a2947100215e4ad7556fa812124,openstack/tacker-specs,master,I3629f17e8df17a2947100215e4ad7556fa812124,"Fix Spec of ""Enhance Placement Process""",MERGED,2022-12-13 00:16:02.000000000,2022-12-23 01:48:00.000000000,2022-12-23 01:46:59.000000000,"[{'_account_id': 4149}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 34712}]","[{'number': 1, 'created': '2022-12-13 00:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/ebe41f67915b9a4d87995a5994433a54aa92dd41', 'message': 'Fix Spec of ""Enhance Placement Process"" for Antelope\n\n""Enhance Placement Process"" has the following spec changes in Antelope.\n* In AZ reselection, randomly select from unselected AZs without\n  considering Affinity/Anti-Affinity\n* Only StandardUserData is the target of reselection processing\n  (Delete the description of AutoScalingGroup)\n* Delete the configuration value for whether to reselect AZ\n\nThis patch fixes Spec for these changes.\n\nImplements: blueprint enhance-placement\nChange-Id: I3629f17e8df17a2947100215e4ad7556fa812124\n'}, {'number': 2, 'created': '2022-12-13 23:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/01a674bbd6f5594c2c05b44237e27aeedd0f6d88', 'message': 'Fix Spec of ""Enhance Placement Process"" for Antelope\n\n""Enhance Placement Process"" has the following spec changes in Antelope.\n* In AZ reselection, randomly select from unselected AZs without\n  considering Affinity/Anti-Affinity\n* Only StandardUserData is the target of reselection processing\n  (Delete the description of AutoScalingGroup)\n* Delete the configuration value for whether to reselect AZ\n\nThis patch fixes these changes and moves spec of\n""Enhance Placement Process"" to the directory for 2023.1.\n\nImplements: blueprint enhance-placement\nChange-Id: I3629f17e8df17a2947100215e4ad7556fa812124\n'}, {'number': 3, 'created': '2022-12-16 01:03:05.000000000', 'files': ['specs/2023.1/enhance_placement_process.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/7cdebc97192a05e806618cb18f6468b0024d62d9', 'message': 'Fix Spec of ""Enhance Placement Process""\n\n""Enhance Placement Process"" has the following spec changes in Antelope.\n* In AZ reselection, randomly select from unselected AZs without\n  considering Affinity/Anti-Affinity\n* Only StandardUserData is the target of reselection processing\n  (Delete the description of AutoScalingGroup)\n* Delete the configuration value for whether to reselect AZ\n\nThis patch fixes these changes and moves spec of\n""Enhance Placement Process"" to the directory for 2023.1.\n\nImplements: blueprint enhance-placement\nChange-Id: I3629f17e8df17a2947100215e4ad7556fa812124\n'}]",14,867316,7cdebc97192a05e806618cb18f6468b0024d62d9,16,7,3,31668,,,0,"Fix Spec of ""Enhance Placement Process""

""Enhance Placement Process"" has the following spec changes in Antelope.
* In AZ reselection, randomly select from unselected AZs without
  considering Affinity/Anti-Affinity
* Only StandardUserData is the target of reselection processing
  (Delete the description of AutoScalingGroup)
* Delete the configuration value for whether to reselect AZ

This patch fixes these changes and moves spec of
""Enhance Placement Process"" to the directory for 2023.1.

Implements: blueprint enhance-placement
Change-Id: I3629f17e8df17a2947100215e4ad7556fa812124
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/16/867316/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/enhance_placement_process.rst'],1,ebe41f67915b9a4d87995a5994433a54aa92dd41,bp/enhance-placement,"The availability zone is reselected and re-create/update until there are no more candidates. .. note:: Availability zone reselection is valid only when StandardUserData is specified for the user data class.#. If a insufficient resource error occurs in 1, get the availability zone list.#. Select an availability zone (excluding the availability zone where the error occurred) from the availability zone list obtained in 2, becomes a insufficient resource error, reselect the availability zone and repeat until ""stack create/update"" succeeds or until all availability zone candidates fail. .. note:: Detecting error details are described in :ref:`4) Detection method of insufficient resource error<detection-method>`. If the error is other than insufficient resource error, the process ends(fails) without reselecting availability zones.candidates, and are reselected preferentially from unselected availability zones. .. note:: Affinity/Anti-Affinity of PlacementConstraint and resource states of availability zones are not considered during reselection.Availability zone reselection for each VNFLCM v2 API (instantiate/heal/scale for VNF) is as follows. Precondition: availability zone AZ-1/AZ-2/AZ-3/AZ-4/AZ-5 exist and VNF VDU1-0/VDU1-1/VDU2-0/VDU2-1 are deployed .. note:: VNFs in VDU1 are in the same availability zone (Affinity), and VNFs in VDU2 and VDU1/VDU2 are in different availability zones (Anti-Affinity). + Instantiate and AZ-2 have insufficient resource) + VDU1-0: AZ-1 + VDU1-1: AZ-1 + VDU2-0: AZ-2 + VDU2-1: AZ-3 + VDU1-0/1: Reselect the following (except AZ-1/AZ-2/AZ-3, select AZ-4 or AZ-5) + VDU1-0: AZ-4 + VDU1-1: AZ-4 + VDU2-0: AZ-2 + VDU2-1: AZ-3 + VDU2-0: Reselect the following (except AZ-2/AZ-3/AZ-4, select AZ-1 or AZ-5) + VDU1-0: AZ-4 + VDU1-1: AZ-4 + VDU2-0: AZ-5 + VDU2-1: AZ-3 .. note:: The above is an example, and the reselection target is randomly selected from unselected availability zones. + Heal(VDU1-1/VDU2-0/VDU2-1) + Before reselection, the following attempts to deploy failed (AZ-1 and AZ-2 have insufficient resource) + VDU1-0: AZ-1 + VDU1-1: AZ-1 + VDU2-0: AZ-2 + VDU2-1: AZ-3 + VDU1-1: Reselect the following (except AZ-1/AZ-2/AZ-3, select AZ-4 or AZ-5) + VDU1-0: AZ-1 + VDU1-1: AZ-4 + VDU2-0: AZ-2 + VDU2-1: AZ-3 .. note:: Only Heal target VNFs are targeted for availability zone reselection. Therefore, Affinity may not be satisfied due to the operation of reselection. + VDU2-0: Reselect the following (except AZ-1/AZ-2/AZ-3/AZ-4, select AZ-5) + VDU1-0: AZ-1 + VDU1-1: AZ-4 + VDU2-0: AZ-5 + VDU2-1: AZ-3 + Scale out(add VDU1-2/VDU1-3) + Before reselection, VDU1-3 deploy failed (AZ-1 has insufficient resource) + VDU1-0: AZ-1 + VDU1-1: AZ-1 + VDU1-2: AZ-1 + VDU1-3: AZ-1 + VDU2-0: AZ-2 + VDU2-1: AZ-3 + VDU1-2/3: Reselect the following (except AZ-1/AZ-2/AZ-3, select AZ-4 or AZ-5) + VDU1-0: AZ-1 + VDU1-1: AZ-1 + VDU1-2: AZ-4 + VDU1-3: AZ-4 + VDU2-0: AZ-2 + VDU2-1: AZ-3 .. note:: In the case of Affinity, even if VDU1-2 has been successfully deployed, both VDU1-2/VDU1-3 availability zones will be reselected. Existing VDU1-0/VDU1-1 will not be reselected, so all VDUs may not be in the same availability zone even in Affinity case. + Scale out(add VDU2-2/VDU2-3) + Before reselection, VDU2-3 deploy failed (AZ-5 has insufficient resource) + VDU1-0: AZ-1 + VDU1-1: AZ-1 + VDU2-0: AZ-2 + VDU2-1: AZ-3 + VDU2-2: AZ-4 + VDU2-3: AZ-5 + VDU2-3: Reselect the following (except AZ-5, select AZ-1 or AZ-2 or AZ-3 or AZ-4) + VDU1-0: AZ-1 + VDU1-1: AZ-1 + VDU2-0: AZ-2 + VDU2-1: AZ-3 + VDU2-2: AZ-4 + VDU2-3: AZ-1 .. note:: If there are no unselected availability zones left, randomly select a reselection target from the selected availability zones. In this case, Anti-Affinity cannot be satisfied.","The availability zone is reselected considering Affinity/Anti-Affinity and re-create/update until there are no more candidates.#. If an error occurs in 1, get the availability zone list.#. Select an availability zone (excluding the Availability Zone where the error occurred) randomly in compliance with Affinity/Anti-Affinity from the availability zone list obtained in 2, becomes an error, reselect the availability zone and repeat until ""stack create/update"" succeeds or until all availability zone candidates fail. Detecting error details are described in :ref:`4) Detection method of insufficient resource error<detection-method>`.candidates, and Availability zones are reselected randomly in compliance with Affinity/Anti-Affinity of PlacementConstraint.Availability zone reselection for each PlacementConstraint is as follows. Precondition: availability zone AZ-1/AZ-2/AZ-3 exist and VNF VDU-1/VDU-2 are deployed + PlacementConstraint is Anti-Affinity has insufficient resource) + VDU-1: AZ-1 + VDU-2: AZ-2 + Reselect the following (except AZ-1, select AZ-2/AZ-3 in compliance with Anti-Affinity) + VDU-1: AZ-2 + VDU-2: AZ-3 .. note:: The above is an example, and it is possible that the reverse availability zones are selected for VDU-1 and VDU-2, but it is guaranteed that they will not be the same availability zone. + PlacementConstraint is Affinity + Before reselection, attempt to deploy in the following and fail (AZ-1 has insufficient resource) + VDU-1: AZ-1 + VDU-2: AZ-1 + Reselect the following (except AZ-1, select AZ-2/AZ-3 in compliance with Affinity) + VDU-1: AZ-2 + VDU-2: AZ-2 .. note:: The above is an example, and it is possible that the availability zone AZ-3 is selected for VDU-1 and VDU-2, but it is guaranteed that they will be the same availability zone.5) AutoScalingGroup consideration ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ In BaseHOT which includes AutoScalingGroup definitions, there is a constraint that each VNFC associated with a VDU under AutoScalingGroup cannot be set to Anti-Affinity for the availability zone. This constraint is due to the constraint in the HOT specification that availability zones can only be set for each VDU under the AutoScalingGroup. This constraint occurs not only at the time of reselection, but also at the time of initial execution. Therefore, BaseHOT which includes AutoScalingGroup definitions, ignores the PlacementConstraint for each VNFC associated with a VDU and reselects a single availability zone for each VDU under the AutoScalingGroup. (Always set to Affinity.) top HOT: .. code-block:: resources: VDU1_scale_group: type: OS::Heat::AutoScalingGroup properties: min_size: 1 max_size: 3 desired_capacity: { get_param: [ nfv, VDU, VDU1, desired_capacity ] } resource: type: VDU1.yaml properties: flavor: { get_param: [ nfv, VDU, VDU1, computeFlavourId ] } image: { get_param: [ nfv, VDU, VDU1-VirtualStorage, vcImageId ] } zone: { get_param: [ nfv, VDU, VDU1, locationConstraints] } net1: { get_param: [ nfv, CP, VDU1_CP1, network] } net2: { get_param: [ nfv, CP, VDU1_CP2, network ] } subnet1: { get_param: [nfv, CP, VDU1_CP1, fixed_ips, 0, subnet ]} subnet2: { get_param: [nfv, CP, VDU1_CP2, fixed_ips, 0, subnet ]} net3: { get_resource: internalVL1 } net4: { get_resource: internalVL2 } net5: { get_resource: internalVL3 } nested HOT: .. code-block:: resources: VDU1: type: OS::Nova::Server properties: flavor: { get_param: flavor } name: VDU1 block_device_mapping_v2: [{""volume_id"": { get_resource: VDU1-VirtualStorage }}] networks: - port: get_resource: VDU1_CP1 - port: get_resource: VDU1_CP2 - port: get_resource: VDU1_CP3 - port: get_resource: VDU1_CP4 - port: get_resource: VDU1_CP5 availability_zone: { get_param: zone } As shown above, top HOT specifies a single ""zone"" (availability zone) for each VDU under the AutoScalingGroup, so each VNFC associated with a VDU under the AutoScalingGroup is in the same availability zone.+ Whether or not to reselect availability zone Default value: not to reselect ",130,115
openstack%2Fovn-octavia-provider~stable%2Fwallaby~I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740,openstack/ovn-octavia-provider,stable/wallaby,I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740,Fix listener provisioning_status after HM created/deleted,MERGED,2022-12-22 11:47:22.000000000,2022-12-22 21:56:04.000000000,2022-12-22 21:55:10.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 11:47:22.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/95b7c68e2616dd6b91a53300c4f7c256486e87e1', 'message': 'Fix listener provisioning_status after HM created/deleted\n\nWhen a HM is created/deleted over a pool, the listener related to the\npool keeps in PENDING_UPDATE status.\n\nThis patch return the correct status to Octavia API for the\nlisteners related to the pool, ensuring they could be modified and\nnot considered as inmutable.\n\nCloses-Bug: #1999813\nChange-Id: I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740\n(cherry picked from commit 421665e2d269c47dd9cf9c55183735e3ac110dfc)\n'}]",1,868386,95b7c68e2616dd6b91a53300c4f7c256486e87e1,12,3,1,34451,,,0,"Fix listener provisioning_status after HM created/deleted

When a HM is created/deleted over a pool, the listener related to the
pool keeps in PENDING_UPDATE status.

This patch return the correct status to Octavia API for the
listeners related to the pool, ensuring they could be modified and
not considered as inmutable.

Closes-Bug: #1999813
Change-Id: I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740
(cherry picked from commit 421665e2d269c47dd9cf9c55183735e3ac110dfc)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/86/868386/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,95b7c68e2616dd6b91a53300c4f7c256486e87e1,," self._get_pool_listeners.stop() self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) self._get_pool_listeners.stop() self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) self._get_pool_listeners.stop() self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE)",,32,1
openstack%2Fadjutant-ui~master~I38dd2866d436134bfe8f2370cc251d853481bced,openstack/adjutant-ui,master,I38dd2866d436134bfe8f2370cc251d853481bced,"Update zuul settings, drop Python 3.{6,7} support.",MERGED,2022-12-22 21:03:00.000000000,2022-12-22 21:49:24.000000000,2022-12-22 21:49:24.000000000,"[{'_account_id': 14394}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 21:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/5a87ead0ada6fd8b7f6b04b4941dbd82a10c0252', 'message': 'Update zuul settings, drop Python 3.{6,7} support.\n\nChange-Id: I38dd2866d436134bfe8f2370cc251d853481bced\n'}, {'number': 2, 'created': '2022-12-22 21:14:42.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/6fa9478b154ba07e4c70aba6c8fa6cc65450fb42', 'message': 'Update zuul settings, drop Python 3.{6,7} support.\n\nChange-Id: I38dd2866d436134bfe8f2370cc251d853481bced\n'}]",0,868437,6fa9478b154ba07e4c70aba6c8fa6cc65450fb42,8,2,2,14394,,,0,"Update zuul settings, drop Python 3.{6,7} support.

Change-Id: I38dd2866d436134bfe8f2370cc251d853481bced
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/37/868437/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'setup.cfg']",3,5a87ead0ada6fd8b7f6b04b4941dbd82a10c0252,,python-requires = >=3.8 Programming Language :: Python :: 3.9,python-requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,5,5
openstack%2Fneutron~stable%2Fzed~I8c6d226e626812c3ccf0a2681be68a5b080b3463,openstack/neutron,stable/zed,I8c6d226e626812c3ccf0a2681be68a5b080b3463,[Fullstack] Wait 10 seconds to ensure that MAC address is configured,MERGED,2022-12-22 15:45:05.000000000,2022-12-22 20:29:06.000000000,2022-12-22 20:27:45.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 15:45:05.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c4005763b5dc41e2a8e363be9063b05e8f8b69e', 'message': ""[Fullstack] Wait 10 seconds to ensure that MAC address is configured\n\nIn Linuxbridge and OVS PortFixture, when port is created, in the fake\nvm's namespace it needs to have correct mac address configured.\nIt seems that for some reason it's not properly configured sometimes and\nthat may cause failure of e.g. DHCP tests.\nSo this patch adds retries for 10 seconds to ensure that MAC address is\nconfigured to the one which should be.\n\nCloses-bug: #2000150\nChange-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463\n(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)\n""}]",1,868393,8c4005763b5dc41e2a8e363be9063b05e8f8b69e,9,3,1,11975,,,0,"[Fullstack] Wait 10 seconds to ensure that MAC address is configured

In Linuxbridge and OVS PortFixture, when port is created, in the fake
vm's namespace it needs to have correct mac address configured.
It seems that for some reason it's not properly configured sometimes and
that may cause failure of e.g. DHCP tests.
So this patch adds retries for 10 seconds to ensure that MAC address is
configured to the one which should be.

Closes-bug: #2000150
Change-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463
(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/868393/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,8c4005763b5dc41e2a8e363be9063b05e8f8b69e,bug/2000150-stable/zed," def set_port_mac_address(self): def set_mac_address(): self.port.link.set_address(self.mac) return self.port.link.address.lower() == self.mac.lower() try: common_utils.wait_until_true(set_mac_address, timeout=10) except common_utils.WaitTimeout: LOG.error(""MAC address of the port %s not set properly. "" ""Requested MAC: %s; Actual MAC: %s"", self.port, self.mac, self.port.link.address) self.set_port_mac_address() self.set_port_mac_address()", self.port.link.set_address(self.mac) if self.mac: self.port.link.set_address(self.mac),15,3
openstack%2Fneutron~stable%2Ftrain~I8c6d226e626812c3ccf0a2681be68a5b080b3463,openstack/neutron,stable/train,I8c6d226e626812c3ccf0a2681be68a5b080b3463,[Fullstack] Wait 10 seconds to ensure that MAC address is configured,MERGED,2022-12-22 15:46:14.000000000,2022-12-22 20:29:05.000000000,2022-12-22 20:27:49.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 15:46:14.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b48992d3875b7352ede3995976197272fd8482bf', 'message': ""[Fullstack] Wait 10 seconds to ensure that MAC address is configured\n\nIn Linuxbridge and OVS PortFixture, when port is created, in the fake\nvm's namespace it needs to have correct mac address configured.\nIt seems that for some reason it's not properly configured sometimes and\nthat may cause failure of e.g. DHCP tests.\nSo this patch adds retries for 10 seconds to ensure that MAC address is\nconfigured to the one which should be.\n\nCloses-bug: #2000150\nChange-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463\n(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)\n""}]",0,868399,b48992d3875b7352ede3995976197272fd8482bf,8,3,1,11975,,,0,"[Fullstack] Wait 10 seconds to ensure that MAC address is configured

In Linuxbridge and OVS PortFixture, when port is created, in the fake
vm's namespace it needs to have correct mac address configured.
It seems that for some reason it's not properly configured sometimes and
that may cause failure of e.g. DHCP tests.
So this patch adds retries for 10 seconds to ensure that MAC address is
configured to the one which should be.

Closes-bug: #2000150
Change-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463
(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/868399/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,b48992d3875b7352ede3995976197272fd8482bf,bug/2000150-stable/zed-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri-stable/train," def set_port_mac_address(self): def set_mac_address(): self.port.link.set_address(self.mac) return self.port.link.address.lower() == self.mac.lower() try: common_utils.wait_until_true(set_mac_address, timeout=10) except common_utils.WaitTimeout: LOG.error(""MAC address of the port %s not set properly. "" ""Requested MAC: %s; Actual MAC: %s"", self.port, self.mac, self.port.link.address) self.set_port_mac_address() self.set_port_mac_address()", self.port.link.set_address(self.mac) if self.mac: self.port.link.set_address(self.mac),15,3
openstack%2Fneutron-vpnaas~master~If3dc80490d88c96e9b7eee544a41257f94d050bc,openstack/neutron-vpnaas,master,If3dc80490d88c96e9b7eee544a41257f94d050bc,Enable VPN for both primary and backup routers,NEW,2022-12-21 11:01:11.000000000,2022-12-22 19:33:51.000000000,,"[{'_account_id': 14525}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 11:01:11.000000000', 'files': ['neutron_vpnaas/services/vpn/agent.py', 'neutron_vpnaas/services/vpn/device_drivers/ipsec.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/22fb0c1f900a046f7e90349c182614c1c89b0b7a', 'message': 'Enable VPN for both primary and backup routers\n\nPreviously IPSec was configured only on active router\nhttps://review.opendev.org/c/openstack/neutron-vpnaas/+/200636\nbut the route state is not stable and we want to avoid relying\non python process in dataplane. With this patch IPSec is configured\nin both routers active and backup.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/867769\nCloses-Bug: #1999761\n\nChange-Id: If3dc80490d88c96e9b7eee544a41257f94d050bc\n'}]",0,868307,22fb0c1f900a046f7e90349c182614c1c89b0b7a,3,2,1,14525,,,0,"Enable VPN for both primary and backup routers

Previously IPSec was configured only on active router
https://review.opendev.org/c/openstack/neutron-vpnaas/+/200636
but the route state is not stable and we want to avoid relying
on python process in dataplane. With this patch IPSec is configured
in both routers active and backup.

Depends-On: https://review.opendev.org/c/openstack/neutron/+/867769
Closes-Bug: #1999761

Change-Id: If3dc80490d88c96e9b7eee544a41257f94d050bc
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/07/868307/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/services/vpn/agent.py', 'neutron_vpnaas/services/vpn/device_drivers/ipsec.py']",2,22fb0c1f900a046f7e90349c182614c1c89b0b7a,, process.update()," # Don't run ipsec process for backup HA router if router.router['ha'] and router.ha_state == 'backup': return # For HA router, spawn vpn process on master router # and terminate vpn process on backup router if router.router['ha'] and router.ha_state == 'backup': process.disable() else: process.update()",3,17
openstack%2Fpython-manilaclient~master~I09313b7c55a5f9d4ec032a37e69a1d79db29d648,openstack/python-manilaclient,master,I09313b7c55a5f9d4ec032a37e69a1d79db29d648,Support --os-key option,MERGED,2022-12-15 12:50:47.000000000,2022-12-22 19:26:00.000000000,2022-12-22 19:25:05.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-12-15 12:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/bcc23307fd41e330ed37e1403c310a17cb4c9406', 'message': 'Support --os-key option\n\nkeystoneclient Session expects as cert argument, one of the followings:\n * None (no client certificate),\n * a path to client certificate,\n * a tuple with client certificate/key paths.\n\nThe change updates manilaclient code to support the last case (ie:\nos_cert and os_key are non-empty) with the --os-key option\nand OS_KEY environment variable.\n\nCloses-Bug: #1999775\nChange-Id: I09313b7c55a5f9d4ec032a37e69a1d79db29d648\n'}, {'number': 2, 'created': '2022-12-22 16:54:57.000000000', 'files': ['manilaclient/tests/unit/test_shell.py', 'manilaclient/shell.py', 'releasenotes/notes/bug-1999775-add-os-key-0cfc95c7b480df05.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/43943fdf670328e2fe606c07949190e9e45063ae', 'message': 'Support --os-key option\n\nkeystoneclient Session expects as cert argument, one of the followings:\n * None (no client certificate),\n * a path to client certificate,\n * a tuple with client certificate/key paths.\n\nThe change updates manilaclient code to support the last case (ie:\nos_cert and os_key are non-empty) with the --os-key option\nand OS_KEY environment variable.\n\nCloses-Bug: #1999775\nChange-Id: I09313b7c55a5f9d4ec032a37e69a1d79db29d648\n'}]",4,867337,43943fdf670328e2fe606c07949190e9e45063ae,11,3,2,18816,,,0,"Support --os-key option

keystoneclient Session expects as cert argument, one of the followings:
 * None (no client certificate),
 * a path to client certificate,
 * a tuple with client certificate/key paths.

The change updates manilaclient code to support the last case (ie:
os_cert and os_key are non-empty) with the --os-key option
and OS_KEY environment variable.

Closes-Bug: #1999775
Change-Id: I09313b7c55a5f9d4ec032a37e69a1d79db29d648
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/37/867337/2 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/test_shell.py', 'manilaclient/shell.py', 'releasenotes/notes/bug-1999775-add-os-key-0cfc95c7b480df05.yaml']",3,bcc23307fd41e330ed37e1403c310a17cb4c9406,bug/1999775,--- fixes: - | Support --os-key option and OS_KEY environment variable which allows to provide client cert and its private key separately. ,,27,5
openstack%2Fneutron~stable%2Fxena~I8c6d226e626812c3ccf0a2681be68a5b080b3463,openstack/neutron,stable/xena,I8c6d226e626812c3ccf0a2681be68a5b080b3463,[Fullstack] Wait 10 seconds to ensure that MAC address is configured,MERGED,2022-12-22 15:45:36.000000000,2022-12-22 19:08:36.000000000,2022-12-22 19:07:22.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 15:45:36.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/779f647fc3960c75b00e65025f7e3e4d907a4948', 'message': ""[Fullstack] Wait 10 seconds to ensure that MAC address is configured\n\nIn Linuxbridge and OVS PortFixture, when port is created, in the fake\nvm's namespace it needs to have correct mac address configured.\nIt seems that for some reason it's not properly configured sometimes and\nthat may cause failure of e.g. DHCP tests.\nSo this patch adds retries for 10 seconds to ensure that MAC address is\nconfigured to the one which should be.\n\nCloses-bug: #2000150\nChange-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463\n(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)\n""}]",0,868395,779f647fc3960c75b00e65025f7e3e4d907a4948,9,3,1,11975,,,0,"[Fullstack] Wait 10 seconds to ensure that MAC address is configured

In Linuxbridge and OVS PortFixture, when port is created, in the fake
vm's namespace it needs to have correct mac address configured.
It seems that for some reason it's not properly configured sometimes and
that may cause failure of e.g. DHCP tests.
So this patch adds retries for 10 seconds to ensure that MAC address is
configured to the one which should be.

Closes-bug: #2000150
Change-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463
(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/868395/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,779f647fc3960c75b00e65025f7e3e4d907a4948,bug/2000150-stable/zed-stable/yoga-stable/xena," def set_port_mac_address(self): def set_mac_address(): self.port.link.set_address(self.mac) return self.port.link.address.lower() == self.mac.lower() try: common_utils.wait_until_true(set_mac_address, timeout=10) except common_utils.WaitTimeout: LOG.error(""MAC address of the port %s not set properly. "" ""Requested MAC: %s; Actual MAC: %s"", self.port, self.mac, self.port.link.address) self.set_port_mac_address() self.set_port_mac_address()", self.port.link.set_address(self.mac) if self.mac: self.port.link.set_address(self.mac),15,3
openstack%2Fneutron~stable%2Fwallaby~I8c6d226e626812c3ccf0a2681be68a5b080b3463,openstack/neutron,stable/wallaby,I8c6d226e626812c3ccf0a2681be68a5b080b3463,[Fullstack] Wait 10 seconds to ensure that MAC address is configured,MERGED,2022-12-22 15:45:45.000000000,2022-12-22 19:08:30.000000000,2022-12-22 19:07:25.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 15:45:45.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6bd24646ba3b59c62e130d40348b390f800d15ef', 'message': ""[Fullstack] Wait 10 seconds to ensure that MAC address is configured\n\nIn Linuxbridge and OVS PortFixture, when port is created, in the fake\nvm's namespace it needs to have correct mac address configured.\nIt seems that for some reason it's not properly configured sometimes and\nthat may cause failure of e.g. DHCP tests.\nSo this patch adds retries for 10 seconds to ensure that MAC address is\nconfigured to the one which should be.\n\nCloses-bug: #2000150\nChange-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463\n(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)\n""}]",0,868396,6bd24646ba3b59c62e130d40348b390f800d15ef,9,3,1,11975,,,0,"[Fullstack] Wait 10 seconds to ensure that MAC address is configured

In Linuxbridge and OVS PortFixture, when port is created, in the fake
vm's namespace it needs to have correct mac address configured.
It seems that for some reason it's not properly configured sometimes and
that may cause failure of e.g. DHCP tests.
So this patch adds retries for 10 seconds to ensure that MAC address is
configured to the one which should be.

Closes-bug: #2000150
Change-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463
(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/868396/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,6bd24646ba3b59c62e130d40348b390f800d15ef,bug/2000150-stable/zed-stable/yoga-stable/xena-stable/wallaby," def set_port_mac_address(self): def set_mac_address(): self.port.link.set_address(self.mac) return self.port.link.address.lower() == self.mac.lower() try: common_utils.wait_until_true(set_mac_address, timeout=10) except common_utils.WaitTimeout: LOG.error(""MAC address of the port %s not set properly. "" ""Requested MAC: %s; Actual MAC: %s"", self.port, self.mac, self.port.link.address) self.set_port_mac_address() self.set_port_mac_address()", self.port.link.set_address(self.mac) if self.mac: self.port.link.set_address(self.mac),15,3
openstack%2Fneutron~stable%2Fyoga~I8c6d226e626812c3ccf0a2681be68a5b080b3463,openstack/neutron,stable/yoga,I8c6d226e626812c3ccf0a2681be68a5b080b3463,[Fullstack] Wait 10 seconds to ensure that MAC address is configured,MERGED,2022-12-22 15:45:21.000000000,2022-12-22 19:08:21.000000000,2022-12-22 19:07:18.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 15:45:21.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2acac47647ff2d7ad1d48c7b74102537f91f5ac8', 'message': ""[Fullstack] Wait 10 seconds to ensure that MAC address is configured\n\nIn Linuxbridge and OVS PortFixture, when port is created, in the fake\nvm's namespace it needs to have correct mac address configured.\nIt seems that for some reason it's not properly configured sometimes and\nthat may cause failure of e.g. DHCP tests.\nSo this patch adds retries for 10 seconds to ensure that MAC address is\nconfigured to the one which should be.\n\nCloses-bug: #2000150\nChange-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463\n(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)\n""}]",0,868394,2acac47647ff2d7ad1d48c7b74102537f91f5ac8,9,3,1,11975,,,0,"[Fullstack] Wait 10 seconds to ensure that MAC address is configured

In Linuxbridge and OVS PortFixture, when port is created, in the fake
vm's namespace it needs to have correct mac address configured.
It seems that for some reason it's not properly configured sometimes and
that may cause failure of e.g. DHCP tests.
So this patch adds retries for 10 seconds to ensure that MAC address is
configured to the one which should be.

Closes-bug: #2000150
Change-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463
(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/868394/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,2acac47647ff2d7ad1d48c7b74102537f91f5ac8,bug/2000150-stable/zed-stable/yoga," def set_port_mac_address(self): def set_mac_address(): self.port.link.set_address(self.mac) return self.port.link.address.lower() == self.mac.lower() try: common_utils.wait_until_true(set_mac_address, timeout=10) except common_utils.WaitTimeout: LOG.error(""MAC address of the port %s not set properly. "" ""Requested MAC: %s; Actual MAC: %s"", self.port, self.mac, self.port.link.address) self.set_port_mac_address() self.set_port_mac_address()", self.port.link.set_address(self.mac) if self.mac: self.port.link.set_address(self.mac),15,3
openstack%2Fovn-octavia-provider~stable%2Fyoga~I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740,openstack/ovn-octavia-provider,stable/yoga,I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740,Fix listener provisioning_status after HM created/deleted,MERGED,2022-12-22 11:46:21.000000000,2022-12-22 18:48:33.000000000,2022-12-22 18:47:37.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 11:46:21.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/68947325f55527f739c0073818b9130369fb819e', 'message': 'Fix listener provisioning_status after HM created/deleted\n\nWhen a HM is created/deleted over a pool, the listener related to the\npool keeps in PENDING_UPDATE status.\n\nThis patch return the correct status to Octavia API for the\nlisteners related to the pool, ensuring they could be modified and\nnot considered as inmutable.\n\nCloses-Bug: #1999813\nChange-Id: I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740\n(cherry picked from commit 421665e2d269c47dd9cf9c55183735e3ac110dfc)\n'}]",0,868384,68947325f55527f739c0073818b9130369fb819e,8,3,1,34451,,,0,"Fix listener provisioning_status after HM created/deleted

When a HM is created/deleted over a pool, the listener related to the
pool keeps in PENDING_UPDATE status.

This patch return the correct status to Octavia API for the
listeners related to the pool, ensuring they could be modified and
not considered as inmutable.

Closes-Bug: #1999813
Change-Id: I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740
(cherry picked from commit 421665e2d269c47dd9cf9c55183735e3ac110dfc)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/84/868384/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,68947325f55527f739c0073818b9130369fb819e,," self._get_pool_listeners.stop() self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) self._get_pool_listeners.stop() self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) self._get_pool_listeners.stop() self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE)",,32,1
openstack%2Fneutron~master~Ie8e184c85528cd1b3fed624fb003a71c5e6c7af3,openstack/neutron,master,Ie8e184c85528cd1b3fed624fb003a71c5e6c7af3,[OVN] Initialize the mech driver variable in ``OVNL3RouterPlugin``,MERGED,2022-12-12 10:38:59.000000000,2022-12-22 18:24:56.000000000,2022-12-22 18:23:37.000000000,"[{'_account_id': 6773}, {'_account_id': 7730}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-12 10:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9aa36126056b7a6853413cad8fcc065783281dca', 'message': ""[OVN] Initialize the mech driver variable in ``OVNL3RouterPlugin``\n\nThis initialization method will assign the mechanism driver variable\nand will check if any of the valid drivers ('ovn', 'ovn-sync') is\nloaded. If not, the execution will stop and the\n``MechanismDriverNotFound`` exception will be raise. This exception\nis more informative than the reported error in the related bug, where\none of the expected configuration variables for the\n``OVNL3RouterPlugin`` class was not loaded.\n\nCloses-Bug: #1997970\nChange-Id: Ie8e184c85528cd1b3fed624fb003a71c5e6c7af3\n""}, {'number': 2, 'created': '2022-12-12 14:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c65785bbcc40e5ed9c4c0b8a5ebefbebcf176437', 'message': ""[OVN] Initialize the mech driver variable in ``OVNL3RouterPlugin``\n\nThis initialization method will assign the mechanism driver variable\nand will check if any of the valid drivers ('ovn', 'ovn-sync') is\nloaded. If not, the execution will stop and the\n``MechanismDriverNotFound`` exception will be raise. This exception\nis more informative than the reported error in the related bug, where\none of the expected configuration variables for the\n``OVNL3RouterPlugin`` class was not loaded.\n\nCloses-Bug: #1997970\nChange-Id: Ie8e184c85528cd1b3fed624fb003a71c5e6c7af3\n""}, {'number': 3, 'created': '2022-12-12 14:32:13.000000000', 'files': ['neutron/tests/unit/extensions/test_l3.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2fd17aa8762a2602527674896b86b3989899964e', 'message': ""[OVN] Initialize the mech driver variable in ``OVNL3RouterPlugin``\n\nThis initialization method will assign the mechanism driver variable\nand will check if any of the valid drivers ('ovn', 'ovn-sync') is\nloaded. If not, the execution will stop and the\n``MechanismDriverNotFound`` exception will be raise. This exception\nis more informative than the reported error in the related bug, where\none of the expected configuration variables for the\n``OVNL3RouterPlugin`` class was not loaded.\n\nCloses-Bug: #1997970\nChange-Id: Ie8e184c85528cd1b3fed624fb003a71c5e6c7af3\n""}]",6,867206,2fd17aa8762a2602527674896b86b3989899964e,22,5,3,16688,,,0,"[OVN] Initialize the mech driver variable in ``OVNL3RouterPlugin``

This initialization method will assign the mechanism driver variable
and will check if any of the valid drivers ('ovn', 'ovn-sync') is
loaded. If not, the execution will stop and the
``MechanismDriverNotFound`` exception will be raise. This exception
is more informative than the reported error in the related bug, where
one of the expected configuration variables for the
``OVNL3RouterPlugin`` class was not loaded.

Closes-Bug: #1997970
Change-Id: Ie8e184c85528cd1b3fed624fb003a71c5e6c7af3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/867206/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/ovn_l3/plugin.py'],1,9aa36126056b7a6853413cad8fcc065783281dca,bug/1997970," self._initialize_plugin_driver() def _initialize_plugin_driver(self): # This method initializes the mechanism driver variable and checks # if any of the valid drivers ('ovn', 'ovn-sync') is loaded. drivers = ('ovn', 'ovn-sync') for driver in drivers: try: self._mech = self._plugin.mechanism_manager.mech_drivers[ driver].obj break except KeyError: pass else: raise ovn_l3_exc.MechanismDriverNotFound(mechanism_drivers=drivers) self._initialize_plugin_driver()"," drivers = ('ovn', 'ovn-sync') for driver in drivers: try: self._mech = self._plugin.mechanism_manager.mech_drivers[ driver].obj break except KeyError: pass else: raise ovn_l3_exc.MechanismDriverNotFound( mechanism_drivers=drivers)",16,11
openstack%2Fneutron~stable%2Fyoga~Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4,openstack/neutron,stable/yoga,Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4,[stable-only] Load config options importing ``common_config``,MERGED,2022-12-20 10:25:13.000000000,2022-12-22 18:24:55.000000000,2022-12-22 18:23:33.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 10:25:13.000000000', 'files': ['neutron/cmd/remove_duplicated_port_bindings.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/821970b716bf2b2d0c4bea860ba644173b816fc6', 'message': '[stable-only] Load config options importing ``common_config``\n\nIn newer versions (Zed+), [1] enforces to explicitly load the\nconfiguration options by calling ``register_common_config_options``\nmethod. In older releases, those options are loaded when the\nmodule ``common_config`` is loaded.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/837392\n\nRelated-Bug: #1979072\nChange-Id: Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4\n'}]",0,868195,821970b716bf2b2d0c4bea860ba644173b816fc6,9,3,1,16688,,,0,"[stable-only] Load config options importing ``common_config``

In newer versions (Zed+), [1] enforces to explicitly load the
configuration options by calling ``register_common_config_options``
method. In older releases, those options are loaded when the
module ``common_config`` is loaded.

[1]https://review.opendev.org/c/openstack/neutron/+/837392

Related-Bug: #1979072
Change-Id: Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/868195/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/cmd/remove_duplicated_port_bindings.py'],1,821970b716bf2b2d0c4bea860ba644173b816fc6,bug/1979072,from neutron.common import config as common_config # noqa,from neutron.common import config as common_config common_config.register_common_config_options(),1,2
openstack%2Fneutron~stable%2Fxena~Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4,openstack/neutron,stable/xena,Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4,[stable-only] Load config options importing ``common_config``,MERGED,2022-12-20 10:32:19.000000000,2022-12-22 18:24:48.000000000,2022-12-22 18:23:29.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 10:32:19.000000000', 'files': ['neutron/cmd/remove_duplicated_port_bindings.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a2fbd510258ffbe47073a7594261e13eef5e6db', 'message': '[stable-only] Load config options importing ``common_config``\n\nIn newer versions (Zed+), [1] enforces to explicitly load the\nconfiguration options by calling ``register_common_config_options``\nmethod. In older releases, those options are loaded when the\nmodule ``common_config`` is loaded.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/837392\n\nRelated-Bug: #1979072\nChange-Id: Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4\n(cherry picked from commit 821970b716bf2b2d0c4bea860ba644173b816fc6)\n'}]",0,868196,9a2fbd510258ffbe47073a7594261e13eef5e6db,9,3,1,16688,,,0,"[stable-only] Load config options importing ``common_config``

In newer versions (Zed+), [1] enforces to explicitly load the
configuration options by calling ``register_common_config_options``
method. In older releases, those options are loaded when the
module ``common_config`` is loaded.

[1]https://review.opendev.org/c/openstack/neutron/+/837392

Related-Bug: #1979072
Change-Id: Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4
(cherry picked from commit 821970b716bf2b2d0c4bea860ba644173b816fc6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/868196/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/cmd/remove_duplicated_port_bindings.py'],1,9a2fbd510258ffbe47073a7594261e13eef5e6db,bug/1979072,from neutron.common import config as common_config # noqa,from neutron.common import config as common_config common_config.register_common_config_options(),1,2
openstack%2Fneutron~stable%2Fwallaby~Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4,openstack/neutron,stable/wallaby,Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4,[stable-only] Load config options importing ``common_config``,MERGED,2022-12-20 10:32:35.000000000,2022-12-22 18:24:42.000000000,2022-12-22 18:23:25.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 10:32:35.000000000', 'files': ['neutron/cmd/remove_duplicated_port_bindings.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c94eb5e27d14ba5f69b8535cf3ee2f16c9d48de', 'message': '[stable-only] Load config options importing ``common_config``\n\nIn newer versions (Zed+), [1] enforces to explicitly load the\nconfiguration options by calling ``register_common_config_options``\nmethod. In older releases, those options are loaded when the\nmodule ``common_config`` is loaded.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/837392\n\nRelated-Bug: #1979072\nChange-Id: Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4\n(cherry picked from commit 821970b716bf2b2d0c4bea860ba644173b816fc6)\n'}]",0,868197,4c94eb5e27d14ba5f69b8535cf3ee2f16c9d48de,10,3,1,16688,,,0,"[stable-only] Load config options importing ``common_config``

In newer versions (Zed+), [1] enforces to explicitly load the
configuration options by calling ``register_common_config_options``
method. In older releases, those options are loaded when the
module ``common_config`` is loaded.

[1]https://review.opendev.org/c/openstack/neutron/+/837392

Related-Bug: #1979072
Change-Id: Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4
(cherry picked from commit 821970b716bf2b2d0c4bea860ba644173b816fc6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/868197/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/cmd/remove_duplicated_port_bindings.py'],1,4c94eb5e27d14ba5f69b8535cf3ee2f16c9d48de,bug/1979072,from neutron.common import config as common_config # noqa,from neutron.common import config as common_config common_config.register_common_config_options(),1,2
openstack%2Fovn-octavia-provider~stable%2Fwallaby~I5be9130eb63c03d273fc8dfcc93094204a3ed361,openstack/ovn-octavia-provider,stable/wallaby,I5be9130eb63c03d273fc8dfcc93094204a3ed361,Uncouple HM status of member statuses,MERGED,2022-12-22 11:55:25.000000000,2022-12-22 18:15:27.000000000,2022-12-22 18:14:25.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 11:55:25.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/3a505ed7b6ba2e9085dcc4089448df82b301185a', 'message': 'Uncouple HM status of member statuses\n\nWhen a new HM is created, the provisioning status is conditioned\nby the status of the existing members on the pool. When any of\nthe members are in ERROR status (e.g. when a member is configure\nwith non existing address) the created HM is in ERROR status.\n\nIt makes more sense to warn about the member problem but let the\nHM continue with its normal flow of operation over the possible\nremaining members that exist for the pool on which it is created.\nThis patch removes the break after finding a problematic member\n(port not found) and just log a warning about the issue, but\ncontinue with the rest of the members.\n\nCloses-Bug: #2000071\nChange-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361\n(cherry picked from commit 548d65d1a50612c6b24f85e6ffbdd1cd32bae8e4)\n'}]",0,868411,3a505ed7b6ba2e9085dcc4089448df82b301185a,8,3,1,34451,,,0,"Uncouple HM status of member statuses

When a new HM is created, the provisioning status is conditioned
by the status of the existing members on the pool. When any of
the members are in ERROR status (e.g. when a member is configure
with non existing address) the created HM is in ERROR status.

It makes more sense to warn about the member problem but let the
HM continue with its normal flow of operation over the possible
remaining members that exist for the pool on which it is created.
This patch removes the break after finding a problematic member
(port not found) and just log a warning about the issue, but
continue with the rest of the members.

Closes-Bug: #2000071
Change-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361
(cherry picked from commit 548d65d1a50612c6b24f85e6ffbdd1cd32bae8e4)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/11/868411/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,3a505ed7b6ba2e9085dcc4089448df82b301185a,, constants.ACTIVE) constants.ONLINE), constants.ERROR) constants.ERROR),9,5
openstack%2Fneutron~master~I3e7e6907802242cadd6e5589196006f382d11081,openstack/neutron,master,I3e7e6907802242cadd6e5589196006f382d11081,"[OVN] Implement abstract ""post_connect"" in ""MetadataAgentOvnSbIdl""",MERGED,2022-12-05 16:52:21.000000000,2022-12-22 17:55:38.000000000,2022-12-22 17:54:25.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-12-05 16:52:21.000000000', 'files': ['neutron/agent/ovn/metadata/ovsdb.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8adb5aa9c5d4161c27a9ef994ff38ec2f20bf00', 'message': '[OVN] Implement abstract ""post_connect"" in ""MetadataAgentOvnSbIdl""\n\nImplement the abstract method ""post_connect"" in class\n""MetadataAgentOvnSbIdl"", inherited from parent class ""OvnIdl"".\n\nCloses-Bug: #1998833\nChange-Id: I3e7e6907802242cadd6e5589196006f382d11081\n'}]",1,866601,a8adb5aa9c5d4161c27a9ef994ff38ec2f20bf00,11,6,1,16688,,,0,"[OVN] Implement abstract ""post_connect"" in ""MetadataAgentOvnSbIdl""

Implement the abstract method ""post_connect"" in class
""MetadataAgentOvnSbIdl"", inherited from parent class ""OvnIdl"".

Closes-Bug: #1998833
Change-Id: I3e7e6907802242cadd6e5589196006f382d11081
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/866601/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/metadata/ovsdb.py'],1,a8adb5aa9c5d4161c27a9ef994ff38ec2f20bf00,bug/1998833, def post_connect(self): pass ,,3,0
openstack%2Fpuppet-neutron~stable%2Fzed~Iabab109d21cd0a09a75e1fd06740f7360723af48,openstack/puppet-neutron,stable/zed,Iabab109d21cd0a09a75e1fd06740f7360723af48,neutron_router: Prohibit updating project_id/name,MERGED,2022-12-21 02:12:13.000000000,2022-12-22 17:33:55.000000000,2022-12-22 17:33:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 02:12:13.000000000', 'files': ['lib/puppet/provider/neutron_router/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4eeb47ce4bd37eb26aafc8d049910c1874fb624a', 'message': 'neutron_router: Prohibit updating project_id/name\n\nWe already prohibit updating tenant_id and tenant_name. Because\nthe provider does not have logic to handle the update, we should also\nprohibit updating these properties.\n\nChange-Id: Iabab109d21cd0a09a75e1fd06740f7360723af48\n(cherry picked from commit dae8ec409c8b6fec9e51eb8e6e2876fe0c8c25dd)\n'}]",3,868189,4eeb47ce4bd37eb26aafc8d049910c1874fb624a,17,3,1,9816,,,0,"neutron_router: Prohibit updating project_id/name

We already prohibit updating tenant_id and tenant_name. Because
the provider does not have logic to handle the update, we should also
prohibit updating these properties.

Change-Id: Iabab109d21cd0a09a75e1fd06740f7360723af48
(cherry picked from commit dae8ec409c8b6fec9e51eb8e6e2876fe0c8c25dd)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/89/868189/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/neutron_router/openstack.rb'],1,4eeb47ce4bd37eb26aafc8d049910c1874fb624a,," :project_id, :project_name",,2,0
openstack%2Fneutron~master~I939b21fa998c80cf921efeae3e8fa8c2b4ef4f50,openstack/neutron,master,I939b21fa998c80cf921efeae3e8fa8c2b4ef4f50,Rename setup-mtu-t1 argument because it is misleading,MERGED,2022-11-10 03:45:43.000000000,2022-12-22 17:29:15.000000000,2022-12-22 17:28:00.000000000,"[{'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34118}]","[{'number': 1, 'created': '2022-11-10 03:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca2b6d5c784ebf602c49b3ea737fd8982988fdc4', 'message': ""Rename setup-mtu-t1 argument name to make it less misleading\n\nsetup-mtu-t1 argument name is misleading as it suggest that\nit will do something with the MTU value, but it really just reduces\nDHCP agent t1 timer. The fact that this commnad will have a side\neffect of getting a new MTU value from DHCP should not be part\nof the argument name. This is based on customer's feedback.\nI am keeping backward compatibility for setup-mtu-t1 argument\nin order not to break any existing tools that might depend on it.\n\nIf you feel that this change might bring more headache than\nbenefit, then -1 | -2 this patch. Thank you\n\nChange-Id: I939b21fa998c80cf921efeae3e8fa8c2b4ef4f50\n""}, {'number': 2, 'created': '2022-12-10 02:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/08972d0dd4203f81c4e93b28e51043302b3cf310', 'message': ""Rename setup-mtu-t1 argument name to make it less misleading\n\nsetup-mtu-t1 argument name is misleading as it suggest that\nit will do something with the MTU value, but it really just reduces\nDHCP agent t1 timer. The fact that this commnad will have a side\neffect of getting a new MTU value from DHCP should not be part\nof the argument name. This is based on customer's feedback.\nI am keeping backward compatibility for setup-mtu-t1 argument\nin order not to break any existing tools that might depend on it.\n\nChange-Id: I939b21fa998c80cf921efeae3e8fa8c2b4ef4f50\n""}, {'number': 3, 'created': '2022-12-10 03:07:04.000000000', 'files': ['tools/ovn_migration/infrared/tripleo-ovn-migration/main.yml', 'doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2fb0b16b66b69c48a8e6d9d304f0efe851d7566', 'message': ""Rename setup-mtu-t1 argument because it is misleading\n\nsetup-mtu-t1 argument name is misleading as it suggest that\nit will do something with the MTU value, but it really just reduces\nDHCP agent t1 timer. The fact that this commnad will have a side\neffect of getting a new MTU value from DHCP should not be part\nof the argument name. This is based on customer's feedback.\nI am keeping backward compatibility for setup-mtu-t1 argument\nin order not to break any existing tools that might depend on it.\n\nChange-Id: I939b21fa998c80cf921efeae3e8fa8c2b4ef4f50\n""}]",5,864158,c2fb0b16b66b69c48a8e6d9d304f0efe851d7566,16,5,3,34271,,,0,"Rename setup-mtu-t1 argument because it is misleading

setup-mtu-t1 argument name is misleading as it suggest that
it will do something with the MTU value, but it really just reduces
DHCP agent t1 timer. The fact that this commnad will have a side
effect of getting a new MTU value from DHCP should not be part
of the argument name. This is based on customer's feedback.
I am keeping backward compatibility for setup-mtu-t1 argument
in order not to break any existing tools that might depend on it.

Change-Id: I939b21fa998c80cf921efeae3e8fa8c2b4ef4f50
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/864158/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ovn_migration/infrared/tripleo-ovn-migration/main.yml', 'doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh']",3,ca2b6d5c784ebf602c49b3ea737fd8982988fdc4,rename_arg," echo ""Please review the file before running the next command - reduce-dhcp-t1""reduce_dhcp_t1() { Step 2 -> ovn_migration.sh reduce-dhcp-t1 (deprecated name setup-mtu-t1) reduce-dhcp-t1 | setup-mtu-t1) if [[ $command = 'setup-mtu-t1' ]]; then echo -e ""Warning: setup-mtu-t1 argument was renamed.""\ ""Use reduce-dhcp-t1 argument instead."" fi reduce_dhcp_t1"," echo ""Please review the file before running the next command - setup-mtu-t1""setup_mtu_t1() { Step 2 -> ovn_migration.sh setup-mtu-t1 setup-mtu-t1) setup_mtu_t1",15,11
openstack%2Fovn-octavia-provider~stable%2Fyoga~I5be9130eb63c03d273fc8dfcc93094204a3ed361,openstack/ovn-octavia-provider,stable/yoga,I5be9130eb63c03d273fc8dfcc93094204a3ed361,Uncouple HM status of member statuses,MERGED,2022-12-22 11:55:06.000000000,2022-12-22 17:23:18.000000000,2022-12-22 17:22:15.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 11:55:06.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/509941c6a507872bd6b84ec19cee449e452457af', 'message': 'Uncouple HM status of member statuses\n\nWhen a new HM is created, the provisioning status is conditioned\nby the status of the existing members on the pool. When any of\nthe members are in ERROR status (e.g. when a member is configure\nwith non existing address) the created HM is in ERROR status.\n\nIt makes more sense to warn about the member problem but let the\nHM continue with its normal flow of operation over the possible\nremaining members that exist for the pool on which it is created.\nThis patch removes the break after finding a problematic member\n(port not found) and just log a warning about the issue, but\ncontinue with the rest of the members.\n\nCloses-Bug: #2000071\nChange-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361\n(cherry picked from commit 548d65d1a50612c6b24f85e6ffbdd1cd32bae8e4)\n'}]",0,868389,509941c6a507872bd6b84ec19cee449e452457af,8,3,1,34451,,,0,"Uncouple HM status of member statuses

When a new HM is created, the provisioning status is conditioned
by the status of the existing members on the pool. When any of
the members are in ERROR status (e.g. when a member is configure
with non existing address) the created HM is in ERROR status.

It makes more sense to warn about the member problem but let the
HM continue with its normal flow of operation over the possible
remaining members that exist for the pool on which it is created.
This patch removes the break after finding a problematic member
(port not found) and just log a warning about the issue, but
continue with the rest of the members.

Closes-Bug: #2000071
Change-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361
(cherry picked from commit 548d65d1a50612c6b24f85e6ffbdd1cd32bae8e4)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/89/868389/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,509941c6a507872bd6b84ec19cee449e452457af,, constants.ACTIVE) constants.ONLINE), constants.ERROR) constants.ERROR),9,5
openstack%2Fovn-octavia-provider~stable%2Fzed~I5be9130eb63c03d273fc8dfcc93094204a3ed361,openstack/ovn-octavia-provider,stable/zed,I5be9130eb63c03d273fc8dfcc93094204a3ed361,Uncouple HM status of member statuses,MERGED,2022-12-22 11:54:57.000000000,2022-12-22 17:22:08.000000000,2022-12-22 17:21:07.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 11:54:57.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/21d8f7cc7f6ce0692abc9fe25c4cbeb6faa966a1', 'message': 'Uncouple HM status of member statuses\n\nWhen a new HM is created, the provisioning status is conditioned\nby the status of the existing members on the pool. When any of\nthe members are in ERROR status (e.g. when a member is configure\nwith non existing address) the created HM is in ERROR status.\n\nIt makes more sense to warn about the member problem but let the\nHM continue with its normal flow of operation over the possible\nremaining members that exist for the pool on which it is created.\nThis patch removes the break after finding a problematic member\n(port not found) and just log a warning about the issue, but\ncontinue with the rest of the members.\n\nCloses-Bug: #2000071\nChange-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361\n(cherry picked from commit 548d65d1a50612c6b24f85e6ffbdd1cd32bae8e4)\n'}]",1,868388,21d8f7cc7f6ce0692abc9fe25c4cbeb6faa966a1,8,3,1,34451,,,0,"Uncouple HM status of member statuses

When a new HM is created, the provisioning status is conditioned
by the status of the existing members on the pool. When any of
the members are in ERROR status (e.g. when a member is configure
with non existing address) the created HM is in ERROR status.

It makes more sense to warn about the member problem but let the
HM continue with its normal flow of operation over the possible
remaining members that exist for the pool on which it is created.
This patch removes the break after finding a problematic member
(port not found) and just log a warning about the issue, but
continue with the rest of the members.

Closes-Bug: #2000071
Change-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361
(cherry picked from commit 548d65d1a50612c6b24f85e6ffbdd1cd32bae8e4)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/88/868388/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,21d8f7cc7f6ce0692abc9fe25c4cbeb6faa966a1,, constants.ACTIVE) constants.ONLINE), constants.ERROR) constants.ERROR),9,5
openstack%2Fneutron~master~Iaa6c727164954e3c1e9dac7e0f97d7a8b36647db,openstack/neutron,master,Iaa6c727164954e3c1e9dac7e0f97d7a8b36647db,Add extra logs when checking if FIP GW port has been created,MERGED,2022-12-21 14:45:52.000000000,2022-12-22 16:55:59.000000000,2022-12-22 16:54:34.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 14:45:52.000000000', 'files': ['neutron/tests/functional/agent/l3/test_dvr_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e75c69ab6b8303194e731338a3c344932b686ea', 'message': 'Add extra logs when checking if FIP GW port has been created\n\nRelated-Bug: #2000164\nChange-Id: Iaa6c727164954e3c1e9dac7e0f97d7a8b36647db\n'}]",0,868328,4e75c69ab6b8303194e731338a3c344932b686ea,9,3,1,16688,,,0,"Add extra logs when checking if FIP GW port has been created

Related-Bug: #2000164
Change-Id: Iaa6c727164954e3c1e9dac7e0f97d7a8b36647db
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/868328/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/l3/test_dvr_router.py'],1,4e75c69ab6b8303194e731338a3c344932b686ea,bug/2000164," def check_fg_port_created(device_name, ip_cidrs, mac, namespace): success = ip_lib.device_exists_with_ips_and_mac( device_name, ip_cidrs, mac, namespace=namespace) if success: return dev = ip_lib.IPDevice(device_name, namespace=namespace) dev_mac, dev_cidrs = dev.link.address, dev.addr.list() self.fail('Device name: %s, expected MAC: %s, expected CIDRs: %s, ' 'device MAC: %s, device CIDRs: %s' % (device_name, mac, ip_cidrs, dev_mac, dev_cidrs)) check_fg_port_created( external_gw_port['mac_address'], fip_ns_name)"," fg_port_created_successfully = ip_lib.device_exists_with_ips_and_mac( external_gw_port['mac_address'], namespace=fip_ns_name) self.assertTrue(fg_port_created_successfully)",13,4
openstack%2Ftacker~master~Icb79f357dafe852888ccbf22da6702b5f2ad428b,openstack/tacker,master,Icb79f357dafe852888ccbf22da6702b5f2ad428b,Migrate Tacker jobs to Ubuntu Jammy (22.04),MERGED,2022-10-13 05:40:35.000000000,2022-12-22 16:34:20.000000000,2022-12-22 16:31:59.000000000,"[{'_account_id': 8556}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}]","[{'number': 1, 'created': '2022-10-13 05:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/94f8aa48459af53d607d08c288f10d12403119b2', 'message': 'WIP:Testing Tacker jobs in Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 2, 'created': '2022-10-17 05:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9873befbd7c775603bbb78d6657b7fe4a00629ea', 'message': 'WIP:Testing Tacker jobs in Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 3, 'created': '2022-11-03 02:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7354d29555272204747dc2440fc3269e5895039a', 'message': 'WIP:Testing Tacker jobs in Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 4, 'created': '2022-11-04 04:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5e23bacc73d330b803601858c946606aa1b73571', 'message': 'WIP:Testing Tacker jobs in Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 5, 'created': '2022-11-09 15:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6e354c9134d4d07aa334570a7ac974db8108bc8f', 'message': 'WIP:Testing Tacker jobs in Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nDepends-On: https://review.opendev.org/c/openstack/mistral/+/864080\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 6, 'created': '2022-11-10 09:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/03ee74bcb14005fc0f5e9efbf93e78fc1242c8be', 'message': 'WIP:Testing Tacker jobs in Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nDepends-On: https://review.opendev.org/c/openstack/mistral/+/864080\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 7, 'created': '2022-11-22 04:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/036704ceaaca0626f89208a2a570202799dc492a', 'message': 'Testing Tacker jobs in Ubuntu jammy (22.04)\n\nAs per the 2023.1 cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Jammy(22.04).\nAdditionally, this patch adds new jammy nodesets for\ntacker gate jobs.\n\nNote: Temporary disable ""Ceilometer"" as its failing tacker\ngate jobs.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 8, 'created': '2022-11-22 05:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8b464646207c3a35e693eb4110db4e56b7683b07', 'message': 'Testing Tacker jobs in Ubuntu jammy (22.04)\n\nAs per the 2023.1 cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Jammy(22.04).\nAdditionally, this patch adds new jammy nodesets for\ntacker gate jobs.\n\nNote: Temporary disable ""Ceilometer"" as its failing tacker\ngate jobs.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 9, 'created': '2022-11-22 09:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/168217b7efe44e3e877888e68f5099e7d6d2bbf8', 'message': 'Migrate Tacker jobs in Ubuntu jammy (22.04)\n\nAs per the 2023.1 cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Jammy(22.04).\nAdditionally, this patch adds new jammy nodesets for\ntacker gate jobs.\n\nNote: Temporary disable ""Ceilometer"" as its failing tacker\ngate jobs.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 10, 'created': '2022-11-23 06:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3e337c817b81f2acba382d29ea9932848b9ee4b1', 'message': 'Migrate Tacker jobs to Ubuntu jammy (22.04)\n\nAs per the 2023.1 cycle testing runtime and community goal [1],\nwe need to migrate upstream CI/CD to Ubuntu Jammy(22.04).\nAdditionally, this patch adds new jammy nodesets for\ntacker gate jobs.\n\nNote: Temporary disable ""Ceilometer"" as its failing tacker\ngate jobs.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 11, 'created': '2022-11-30 15:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/95253f1a1cd6b9539d787114abf0d59973c7e2c7', 'message': 'Migrate Tacker jobs to Ubuntu jammy (22.04)\n\nAs per the 2023.1 cycle testing runtime and community goal [1],\nwe need to migrate upstream CI/CD to Ubuntu Jammy(22.04).\nAdditionally, this patch adds new jammy nodesets for\ntacker gate jobs.\n\nNote: Temporary disable ""Ceilometer"" as its failing tacker\ngate jobs.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\nDepends-On: https://review.opendev.org/c/openstack/tacker/+/866109\n'}, {'number': 12, 'created': '2022-12-06 09:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/fd93e3d277adc0773402d17f417455332939a2c6', 'message': 'Migrate Tacker jobs to Ubuntu jammy (22.04)\n\nAs per the 2023.1 cycle testing runtime and community goal [1],\nwe need to migrate upstream CI/CD to Ubuntu Jammy(22.04).\nAdditionally, this patch adds new jammy nodesets for\ntacker gate jobs.\n\nNote: Temporary disable ""Ceilometer"" as its failing tacker\ngate jobs.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\nDepends-On: https://review.opendev.org/c/openstack/tacker/+/866109\n'}, {'number': 13, 'created': '2022-12-15 04:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e1fe05eeb2b055cfb86ce62f72c21a9c5c7ed67a', 'message': 'Migrate Tacker jobs to Ubuntu Jammy (22.04)\n\nAs per the 2023.1 cycle testing runtime and community goal [1],\nwe need to migrate upstream CI/CD to Ubuntu Jammy(22.04).\nAdditionally, this patch adds new jammy nodesets for\ntacker gate jobs.\n\nNote: Temporary disable ""Ceilometer"" as its failing tacker\ngate jobs.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\nDepends-On: https://review.opendev.org/c/openstack/tacker/+/866109\n'}, {'number': 14, 'created': '2022-12-15 08:08:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/111d1554883ae7d1d4c2280d4b9363e4a486ced4', 'message': 'Migrate Tacker jobs to Ubuntu Jammy (22.04)\n\nAs per the 2023.1 cycle testing runtime and community goal [1],\nwe need to migrate upstream CI/CD to Ubuntu Jammy(22.04).\nAdditionally, this patch adds new Jammy nodesets for\ntacker gate jobs.\n\nNote: Temporary disable ""Ceilometer"" as its failing tacker\ngate jobs.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}]",41,861137,111d1554883ae7d1d4c2280d4b9363e4a486ced4,90,5,14,32102,,,0,"Migrate Tacker jobs to Ubuntu Jammy (22.04)

As per the 2023.1 cycle testing runtime and community goal [1],
we need to migrate upstream CI/CD to Ubuntu Jammy(22.04).
Additionally, this patch adds new Jammy nodesets for
tacker gate jobs.

Note: Temporary disable ""Ceilometer"" as its failing tacker
gate jobs.

[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html

Change-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b
",git fetch https://review.opendev.org/openstack/tacker refs/changes/37/861137/8 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,94f8aa48459af53d607d08c288f10d12403119b2,migrate-to-jammy,- nodeset: name: openstack-4-nodes-jammy nodes: - name: controller label: ubuntu-jammy - name: controller-tacker label: ubuntu-jammy - name: compute1 label: ubuntu-jammy - name: compute2 label: ubuntu-jammy groups: # Nodes running the compute service - name: compute nodes: - compute1 - compute2 # Nodes that are not the controller - name: subnode nodes: - controller-tacker - compute1 - compute2 # Switch node for multinode networking setup - name: switch nodes: - controller # Peer nodes for multinode networking setup - name: peers nodes: - controller-tacker - compute1 - compute2 - nodeset: name: openstack-k8s-4-nodes-jammy nodes: - name: controller label: ubuntu-jammy - name: controller-tacker label: ubuntu-jammy - name: controller-k8s label: ubuntu-jammy - name: compute1 label: ubuntu-jammy groups: - name: compute nodes: - controller-k8s - compute1 - name: subnode nodes: - controller-tacker - controller-k8s - compute1 - name: switch nodes: - controller - name: peers nodes: - controller-tacker - controller-k8s - compute1 nodeset: openstack-4-nodes-jammy nodeset: openstack-k8s-4-nodes-jammy, nodeset: openstack-4-nodes-focal nodeset: openstack-k8s-4-nodes-focal,66,2
openstack%2Fpython-manilaclient~master~I2d7caa6e3c5a6a493639dc655a6722992540281e,openstack/python-manilaclient,master,I2d7caa6e3c5a6a493639dc655a6722992540281e,Fix functional tests failing with python 3.10,MERGED,2022-12-19 21:00:04.000000000,2022-12-22 16:31:37.000000000,2022-12-22 16:30:29.000000000,"[{'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-12-19 21:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/3499e93fe3fa36bee80ddc3291b31ed9f8dd3b7f', 'message': 'Fix functional tests failing with python 3.10\n\nargparse module had a change [1] in header text denoting optional\narguments. The header text now reads ""options"" instead of\n""optional arguments""\n\n[1] https://docs.python.org/3/whatsnew/3.10.html#argparse\nCloses-Bug: #2000092\n\nChange-Id: I2d7caa6e3c5a6a493639dc655a6722992540281e\n'}, {'number': 2, 'created': '2022-12-19 23:58:32.000000000', 'files': ['manilaclient/tests/functional/test_common.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/cb14e965efbdda1ae55f85b4650d299f2c08d0bf', 'message': 'Fix functional tests failing with python 3.10\n\nargparse module had a change [1] in header text denoting optional\narguments. The header text now reads ""options"" instead of\n""optional arguments""\n\n[1] https://docs.python.org/3/whatsnew/3.10.html#argparse\nCloses-Bug: #2000092\n\nChange-Id: I2d7caa6e3c5a6a493639dc655a6722992540281e\n'}]",6,868128,cb14e965efbdda1ae55f85b4650d299f2c08d0bf,12,4,2,16643,,,0,"Fix functional tests failing with python 3.10

argparse module had a change [1] in header text denoting optional
arguments. The header text now reads ""options"" instead of
""optional arguments""

[1] https://docs.python.org/3/whatsnew/3.10.html#argparse
Closes-Bug: #2000092

Change-Id: I2d7caa6e3c5a6a493639dc655a6722992540281e
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/28/868128/1 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/tests/functional/test_common.py'],1,3499e93fe3fa36bee80ddc3291b31ed9f8dd3b7f,, try: #TODO: Remove when python 3.10 becomes minimum supported version cmds_end = lines.index('Optional arguments:') except ValueError: cmds_end = lines.index('Options:'), cmds_end = lines.index('Optional arguments:'),5,1
openstack%2Fmanila-specs~master~I3b345f396e581575a403c728136eb644565c5928,openstack/manila-specs,master,I3b345f396e581575a403c728136eb644565c5928,Add spec for share backup,MERGED,2016-06-16 03:16:33.000000000,2022-12-22 15:20:51.000000000,2022-12-22 15:19:52.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6413}, {'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 11047}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 16203}, {'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 19339}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}, {'_account_id': 31721}, {'_account_id': 32594}]","[{'number': 1, 'created': '2016-06-16 03:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/1d59ee7b026c683b3b278694aebe1059eefdcbfa', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 2, 'created': '2016-06-16 03:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/5126fd2b64a4cc4379a68aaddb5ce66beefa38b7', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 3, 'created': '2016-06-23 13:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/e059d8f451418bcd99054220345e493d7ee3276c', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 4, 'created': '2016-06-26 10:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/6789795cabb1368de3dfe2938e804f59aeed7c78', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 5, 'created': '2016-06-28 02:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/3ba075c84f8e01b1eb94575c3df644464147abdd', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 6, 'created': '2016-07-11 12:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/3e7400e704cc5f6e63ddaa40f19c65e2df49e4c6', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 7, 'created': '2017-01-08 08:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/796d545afc9f28a578808daf3a00d80597027b4c', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 8, 'created': '2017-01-16 11:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/178d6f0375d6aa31575367bff9d155882f5d6d65', 'message': 'Add spec for share backup\n\nAdd share backup and share restore features to\nmanila.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n'}, {'number': 9, 'created': '2017-02-03 08:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/e0f387de78d86bea02bf39975c17c1b9684abfa6', 'message': 'Add spec for share backup\n\nAdd share backup and share restore features to\nmanila.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n'}, {'number': 10, 'created': '2017-02-03 08:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/81843dc91f582f2b0ee7d26706dfeffd3c062246', 'message': 'Add spec for share backup\n\nAdd share backup and share restore features to\nmanila.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n'}, {'number': 11, 'created': '2017-02-06 02:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/9141016b297780868d3476c16781efec0dc7bac1', 'message': 'Add spec for share backup\n\nAdd share backup and share restore features to\nmanila.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n'}, {'number': 12, 'created': '2017-03-27 03:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/b84cfb99487fa8460d7a78b5e9d6c1a5e88b2a9a', 'message': 'Add spec for share backup\n\nAdd share backup and share restore features to\nmanila.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n'}, {'number': 13, 'created': '2017-03-28 02:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/cf3c4ea440aab2e432887e05c39edf3b647d3e78', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 14, 'created': '2017-03-28 08:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/aeb05688d19d6d0255a6d4ca0f82929576f91a02', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 15, 'created': '2017-09-14 02:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/8d3031aa1c72c3e0465847325acc2a640c6beb5c', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 16, 'created': '2022-08-12 09:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/079682ae21affb53803175167cf0a1b1549502a1', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 17, 'created': '2022-08-15 10:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/7d4b586ea4b0d04022f5617662620c4ba1f5e035', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 18, 'created': '2022-08-26 10:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/f24dba9c9bd0abd53ad1f29037377a82b2dae965', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 19, 'created': '2022-10-11 14:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/34968498c6e4bcca81a180353829baa172407d7a', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 20, 'created': '2022-10-12 09:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/0ba6894aae9841e1e0192e847a300485c38a9698', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 21, 'created': '2022-10-13 15:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/e5789d791d6221e0d988cdd4978a87b9f98c994a', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 22, 'created': '2022-10-24 16:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/a142bbe7760114f20bd00fdd6b7c52c1e083f3ef', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 23, 'created': '2022-10-26 07:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/cd55e77460e0bf5ecd98d36fdb6702b2e56a1818', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 24, 'created': '2022-11-01 15:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/08e89c1ce64fd6813c982caa565361c771ce41ce', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 25, 'created': '2022-11-03 14:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/66b2923ffa010564a654585707335bc20942d968', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 26, 'created': '2022-11-04 12:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/a9fa284ae7349a666c21527af314867bf2b2cedd', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 27, 'created': '2022-11-14 14:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/4ffe6697ffa0a227dd2264d460e153571a1420e6', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 28, 'created': '2022-11-16 12:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/53569f5d88dd4181f6800df08fc0ac1bc6223dc0', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 29, 'created': '2022-11-17 08:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/04a358a6799ea100a2856ad5bab3147c9727a8ba', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 30, 'created': '2022-11-23 09:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/a36a9fd359b930775d7bbd5087f554ad75f83320', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nImplement: blueprint share-backup\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 31, 'created': '2022-11-30 18:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/2ffcee5e792b165e0fe6f3b60985dac60a9aae4c', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nImplement: blueprint share-backup\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 32, 'created': '2022-12-22 10:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/be4391601b0d91e5eb9279634287109825da5044', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nImplement: blueprint share-backup\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 33, 'created': '2022-12-22 14:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/efd158ed7e012de5f0a5af1c92af363f2c5b1fb6', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nImplement: blueprint share-backup\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 34, 'created': '2022-12-22 14:47:23.000000000', 'files': ['doc/source/index.rst', 'specs/antelope/backup_share.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/eb3ba53a44b3af01232a4e3af8dd17dfa936c5f3', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nImplement: blueprint share-backup\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}]",366,330306,eb3ba53a44b3af01232a4e3af8dd17dfa936c5f3,147,20,34,15100,,,0,"Add spec for share backup

Currently, manila doesn't support backup and restore share features in
manila itself. This spec intends to make this possible.

Implement: blueprint share-backup
Change-Id: I3b345f396e581575a403c728136eb644565c5928
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/06/330306/18 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/backup_share.rst'],1,1d59ee7b026c683b3b278694aebe1059eefdcbfa,bp/share-backup,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================== Manila backup&restore share =========================== Blueprint: https://blueprints.launchpad.net/manila/+spec/share-backup Currently, manila doesn't support backup and restore share features in manila itself. This blueprint is for work to make this possible. Problem description =================== Today we can not backup a share in manila. These shares reside on the storage backend itself. Providing a way to backup shares directly will allow the user to protect the shares on a backup device, separately from the storage backend. Use Cases ========= There are users who have taken many shares and would like a way to protect these shares. This proposal to backup shares provides lower level of data protection. There are other projects in OpenStack focusing on data protection such as Freezer, Smaug, Raksha, etc. They are all in different stages of design, development, or adoption. The backup API in Manila is not a replacement of those projects which are doing a full blown orchestration of data protection for all resources in OpenStack. Instead, Manila APIs can be consumed by those higher level projects for data protection and can also be used directly by users who do not need those higher level projects. Proposed change =============== - A full copy of a share stored in an external service named backup driver. Provide a common interface for backup driver. The backup driver run in share data service. One data service can include multiple backup drivers. The backup driver can be configured in ''manila.conf''. :: enabled_backup_backends = backup1 [backup1] backup_driver = manila.data.drivers.test.TestBackupDriver - The supported backup driver for now is Object Storage or implement in the storage drivers. By default there is no backup driver enabled. - Add new share backup command to run backup function. It will allow the user to create, restore and delete backups as well as listing backups and showing the details of a specific backup. - Add policy_support capability, indicates that a backup driver can support policy in itself. The default value of the policy_support capability (if a driver doesn't report it) is False. Note: No new driver API will be introduced in this proposal. Steps to create a backup from share are as follows by default using the internal tenant: * Create a snapshot from the share * Allow access to snapshot * Mount the snapshot * Do backup from the snapshot * deny access to snapshot * Unmount the snapshot * Cleanup the snapshot If the driver has implemented the backup interface introduced(see the developer impact section), backing up a share will be done using the following steps: * Do backup from the share Alternatives ------------ None Data model impact ----------------- * Add one table for store share backup information The ``manila.db.sqlalchemy.models.Backups`` model will add these keys: ``id`` and ``share_id``, ``store``, ``policy_id``, ``status``, etc. DESC backups +-----------------------+--------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-----------------------+--------------+------+-----+---------+-------+ | created_at | datetime | YES | | NULL | | | updated_at | datetime | YES | | NULL | | | deleted_at | datetime | YES | | NULL | | | deleted | tinyint(1) | YES | | NULL | | | id | varchar(36) | NO | PRI | NULL | | | share_id | varchar(36) | NO | | NULL | | | user_id | varchar(255) | YES | | NULL | | | project_id | varchar(255) | YES | | NULL | | | host | varchar(255) | YES | | NULL | | | availability_zone | varchar(255) | YES | | NULL | | | display_name | varchar(255) | YES | | NULL | | | display_description | varchar(255) | YES | | NULL | | | store | varchar(255) | YES | | NULL | | | status | varchar(255) | YES | | NULL | | | fail_reason | varchar(255) | YES | | NULL | | | size | int(11) | YES | | NULL | | | object_count | int(11) | YES | | NULL | | | policy_id | varchar(255) | YES | | NULL | | | temp_share_id | varchar(36) | YES | | NULL | | | num_dependent_backups | int(11) | YES | | NULL | | | snapshot_id | varchar(36) | YES | | NULL | | | data_timestamp | datetime | YES | | NULL | | +-----------------------+--------------+------+-----+---------+-------+ * Add one table for share backup policy DESC share_backup_policys; +---------------+--------------+------+-----+---------+----------------+ | Field | Type | Null | Key | Default | Extra | +---------------+--------------+------+-----+---------+----------------+ | created_at | datetime | YES | | NULL | | | updated_at | datetime | YES | | NULL | | | deleted_at | datetime | YES | | NULL | | | deleted | int(11) | YES | | NULL | | | id | int(11) | NO | PRI | NULL | auto_increment | | backup_id | varchar(36) | NO | MUL | NULL | | | policy_key | varchar(255) | YES | | NULL | | | policy_value | varchar(255) | YES | | NULL | | +---------------+--------------+------+-----+---------+----------------+ * Add one table for share backup copys DESC share_backup_copys; +---------------+--------------+------+-----+---------+----------------+ | Field | Type | Null | Key | Default | Extra | +---------------+--------------+------+-----+---------+----------------+ | created_at | datetime | YES | | NULL | | | updated_at | datetime | YES | | NULL | | | deleted_at | datetime | YES | | NULL | | | deleted | int(11) | YES | | NULL | | | id | int(11) | NO | PRI | NULL | auto_increment | | backup_id | varchar(36) | NO | MUL | NULL | | | policy_id | varchar(36) | NO | MUL | NULL | | | key | varchar(255) | YES | | NULL | | | value | varchar(255) | YES | | NULL | | +---------------+--------------+------+-----+---------+----------------+ REST API impact --------------- Add new manila APIs: Manila backup-create [--policy <policy>] [--max-num <max-num>] [--store <store>] [--description <description>] <share> * policy: A backup policy, It can have user-defined policy. The policy only used in backup driver that can support policy in itself. * store: Name of the backup storage. The default value is None. * max-num: The max number of backup share. * description: Backup description. Default=None. * share: Name or ID of share to backup. Manila backup-restore <backup> [<key=value> [<key=value> ...]] * backup: ID of backup to restore. * key-value: If the backup include policy, one backup may have many backup copys, so we need use key-value to decide which backup copy will be restored. Such as: time=""2016-2-3 21:12:12"", this ""2016-2-3 21:12:12"" data will be restored. **Creating a share backup**:: POST /v2/{tenant_id}/share-backups Request:: { ""share_backups"": { ""share"": ""test"", ""policy"": { ""start_time"", ""2016-5-3 21:12:12"", ""Interval"", ""3 Days"", }, ""store"": ""53482b62-2c84-4a53-b6ab-30d9d9800d06"", ""description"": ""This is my share network"" } } Subnet details ``policy`` and ``description`` are optional. If the ``share`` is not known to manila, the API will respond with ``400 Bad Request``. If the tenant's share backup quota has exceeded, the API will respond with ``403 Forbidden``. Response:: Code: 202 Accepted { ""share_backups"": { ""share"": ""test"", ""created_at"": ""2016-06-01T21:12:12.617687"", ""id"": ""77eb3421-4549-4789-ac39-0d5185d68c29"", ""project_id"": ""e10a683c20da41248cfd5e1ab3d88c62"", ""description"": ""This is my share network"", ""store"": ""53482b62-2c84-4a53-b6ab-30d9d9800d06"", ""updated_at"": null } } **Delete a backup**:: DELETE /v2/{tenant_id}/share-backups/{share_backup_id} If the share backup is invalid, the API will respond with ``404 Bad Request``. Response:: 202 Accepted **Summary listing of share backups**:: GET /v2/{tenant_id}/share-backups Response:: Code: 200 OK { ""share_backups"": [ { ""id"": ""77eb3421-4549-4789-ac39-0d5185d68c29"", ""name"": ""my_backup"" }, { ""id"": ""00cc3770-2558-4370-a088-de03b055dcff"", ""name"": ""my_backup_2"" } ] } **Detailed listing of share backups**:: GET /v2/{tenant_id}/share-backups/detail Response:: Code: 200 OK { ""share_backups"": [ { ""availability_zone"": ""az1"", ""store"": ""my_store"", ""created_at"": ""2016-04-02T10:35:27.000000"", ""description"": null, ""fail_reason"": null, ""id"": ""2ef47aee-8844-490c-804d-2a8efe561c65"", ""name"": ""my_backup"", ""size"": 1, ""status"": ""available"", ""share_id"": ""e5185058-943a-4cb4-96d9-72c184c337d6"", ""policy_id"": ""sdfsdfe5-23dc-3fe3-96d9-sdfc184csdf42"", }, { ""availability_zone"": ""az2"", ""store"": ""my_store_1"", ""created_at"": ""2016-05-02T10:35:27.000000"", ""description"": null, ""fail_reason"": null, ""id"": ""2ef47aee-8844-423c-804d-2a8efe561623"", ""name"": ""my_backup_1"", ""size"": 2, ""status"": ""available"", ""share_id"": ""e5185058-943a-4cb4-96d9-72c184c33dsd"", ""policy_id"": ""sdfsdfe5-23dc-3fe3-96d9-sdfc184csdsdd"", } ] } **listing of share backup policys for a share backup**:: GET /v2/{tenant_id}/share-backups/{share_backup_id}/backup_policys Response:: Code: 200 OK { ""backup_policys"": { ""start_time"": ""2016-05-02T10:35:27.000000"", ""interval_time"": ""2016-02-02T10:35:27.000000"", } } **listing of share backup copys for a share backup**:: GET /v2/{tenant_id}/share-backups/{share_backup_id}/backup_copys Response:: Code: 200 OK { ""backup_copys"": [ { ""backup_id"": ""e5185058-89gh-nntg-32sd-72c184c33dsd"", ""share_id"": ""e5185058-943a-4cb4-sdew-72c184c33dsd"", ""time"": ""2016-02-02T10:35:27.000000"", ... } { ""backup_id"": ""sdf32425-hgjg-jkly-8856-7sdfsdfsdf"", ""share_id"": ""dsfzxcv3-23es-wer3-345t-72c1sdfsdfssd"", ""time"": ""2016-02-02T10:35:27.000000"", ... } ] } **Delete a backup copy**:: DELETE /v2/{tenant_id}/share-backup-copys/{share_backup_copy_id} If the share backup copy is invalid, the API will respond with ``404 Bad Request``. Response:: 202 Accepted The return information could be defined by backup driver. **Restore a share backup**:: POST /v2/{tenant_id}/share-restore Request:: { ""share_restore"": { ""store"": ""53482b62-2c84-4a53-b6ab-30d9d9800d06"", ""share"": ""test"", ""extra_specs"": { ""time"": ""2016-02-16"", }, } } Subnet details ``share`` and ``extra_specs`` are optional. If the ``share`` or ``store`` is not known to manila, the API will respond with ``400 Bad Request``. If the ``extra_specs`` is exist and backup driver did not configured policy, the API will respond with ``400 Bad Request``. Response:: 202 Accepted Driver impact ------------- Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- End user will be able to create a backup from a share. Performance Impact ------------------ None Other deployer impact --------------------- The deployer will be able to backup a share. Developer impact ---------------- Implementation ============== Assignee(s) ----------- Primary assignee: zhongjun Work Items ---------- * Implement backup-create command in python-manilaclient * Implement core feature * Implement backup-create in at least one first-party driver * Implement tempest support * Implement manila-ui support Dependencies ============ None Testing ======= * Unit tests. * Tempest tests. Documentation Impact ==================== - Docstrings. - Devref. - Security guide. - User guide. - Release notes. References ========== None ",,453,0
openstack%2Fpython-novaclient~master~I9432a26877ba61a2b6209ed129904b4075d94ab7,openstack/python-novaclient,master,I9432a26877ba61a2b6209ed129904b4075d94ab7,DNM force latest tox,ABANDONED,2022-12-21 15:59:05.000000000,2022-12-22 15:12:08.000000000,,"[{'_account_id': 679}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 15:59:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/284e20cc5903af539d6d1dc3e29ec6ed97dde1ca', 'message': 'DNM force latest tox\n\nThis change will test python-novaclient against tox v4 to check compatibility.\n\nChange-Id: I9432a26877ba61a2b6209ed129904b4075d94ab7\n'}]",0,868358,284e20cc5903af539d6d1dc3e29ec6ed97dde1ca,3,2,1,9708,,,0,"DNM force latest tox

This change will test python-novaclient against tox v4 to check compatibility.

Change-Id: I9432a26877ba61a2b6209ed129904b4075d94ab7
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/58/868358/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,284e20cc5903af539d6d1dc3e29ec6ed97dde1ca,force-tox-v4,- project: vars: # Ensures latest tox is installed. ensure_tox_version: '',,4,0
openstack%2Fos-vif~master~I9aa82b58a076f37f571a99d707cc364bade5e804,openstack/os-vif,master,I9aa82b58a076f37f571a99d707cc364bade5e804,DNM force latest tox,ABANDONED,2022-12-21 15:55:42.000000000,2022-12-22 15:09:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-21 15:55:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/545f57f4daf27a787dd73c6062ea75e1704d5e29', 'message': 'DNM force latest tox\n\nThis change will test os-vif against tox v4 to check compatibility.\n\nChange-Id: I9aa82b58a076f37f571a99d707cc364bade5e804\n'}]",0,868357,545f57f4daf27a787dd73c6062ea75e1704d5e29,4,1,1,9708,,,0,"DNM force latest tox

This change will test os-vif against tox v4 to check compatibility.

Change-Id: I9aa82b58a076f37f571a99d707cc364bade5e804
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/57/868357/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,545f57f4daf27a787dd73c6062ea75e1704d5e29,force-tox-v4,- project: vars: # Ensures latest tox is installed. ensure_tox_version: '',,4,0
openstack%2Fplacement~master~Id49ad5a60f7f48f5718a7e102a946f452c45a41d,openstack/placement,master,Id49ad5a60f7f48f5718a7e102a946f452c45a41d,DNM force latest tox,ABANDONED,2022-12-21 15:52:06.000000000,2022-12-22 14:51:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-21 15:52:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/99786a35e318b250df7553b1b6291bef861ffb5c', 'message': 'DNM force latest tox\n\nThis change will test placement against tox v4 to check compatibility.\n\nChange-Id: Id49ad5a60f7f48f5718a7e102a946f452c45a41d\n'}]",0,868354,99786a35e318b250df7553b1b6291bef861ffb5c,3,1,1,9708,,,0,"DNM force latest tox

This change will test placement against tox v4 to check compatibility.

Change-Id: Id49ad5a60f7f48f5718a7e102a946f452c45a41d
",git fetch https://review.opendev.org/openstack/placement refs/changes/54/868354/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,99786a35e318b250df7553b1b6291bef861ffb5c,force-tox-v4, vars: # Ensures latest tox is installed. ensure_tox_version: '',,3,0
openstack%2Fkayobe~stable%2Fwallaby~If89bb28fa2e8cc615da21893201cc438d5b6ff05,openstack/kayobe,stable/wallaby,If89bb28fa2e8cc615da21893201cc438d5b6ff05,Do not fail when admin openrc file does not exist,MERGED,2022-12-22 10:26:25.000000000,2022-12-22 14:26:03.000000000,2022-12-22 14:24:57.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-22 10:26:25.000000000', 'files': ['releasenotes/notes/fix-failure-to-generate-openrc-when-using-tags-c8e554173e0b9ac3.yaml', 'ansible/roles/public-openrc/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/03419f8d4e3024438396f6ab148e40431f4bc3f7', 'message': 'Do not fail when admin openrc file does not exist\n\nChange-Id: If89bb28fa2e8cc615da21893201cc438d5b6ff05\nStory: 2009323\nTask: 43745\n(cherry picked from commit 73cb007ab955b97fd1d64c8c842dde90d84d0c1e)\n'}]",0,868391,03419f8d4e3024438396f6ab148e40431f4bc3f7,9,4,1,14826,,,0,"Do not fail when admin openrc file does not exist

Change-Id: If89bb28fa2e8cc615da21893201cc438d5b6ff05
Story: 2009323
Task: 43745
(cherry picked from commit 73cb007ab955b97fd1d64c8c842dde90d84d0c1e)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/91/868391/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-failure-to-generate-openrc-when-using-tags-c8e554173e0b9ac3.yaml', 'ansible/roles/public-openrc/tasks/main.yml']",2,03419f8d4e3024438396f6ab148e40431f4bc3f7,, when: (kolla_config_path ~ '/admin-openrc.sh') is exists when: admin_openrc is not skipped,,10,0
openstack%2Fkayobe~stable%2Fxena~If89bb28fa2e8cc615da21893201cc438d5b6ff05,openstack/kayobe,stable/xena,If89bb28fa2e8cc615da21893201cc438d5b6ff05,Do not fail when admin openrc file does not exist,MERGED,2022-12-22 10:26:03.000000000,2022-12-22 13:45:57.000000000,2022-12-22 13:44:58.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-22 10:26:03.000000000', 'files': ['releasenotes/notes/fix-failure-to-generate-openrc-when-using-tags-c8e554173e0b9ac3.yaml', 'ansible/roles/public-openrc/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e6f224f92bd9048fe856337f8a686e5e44060927', 'message': 'Do not fail when admin openrc file does not exist\n\nChange-Id: If89bb28fa2e8cc615da21893201cc438d5b6ff05\nStory: 2009323\nTask: 43745\n(cherry picked from commit 73cb007ab955b97fd1d64c8c842dde90d84d0c1e)\n'}]",0,868390,e6f224f92bd9048fe856337f8a686e5e44060927,9,4,1,14826,,,0,"Do not fail when admin openrc file does not exist

Change-Id: If89bb28fa2e8cc615da21893201cc438d5b6ff05
Story: 2009323
Task: 43745
(cherry picked from commit 73cb007ab955b97fd1d64c8c842dde90d84d0c1e)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/90/868390/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-failure-to-generate-openrc-when-using-tags-c8e554173e0b9ac3.yaml', 'ansible/roles/public-openrc/tasks/main.yml']",2,e6f224f92bd9048fe856337f8a686e5e44060927,, when: (kolla_config_path ~ '/admin-openrc.sh') is exists when: admin_openrc is not skipped,,10,0
openstack%2Fneutron~master~I8c6d226e626812c3ccf0a2681be68a5b080b3463,openstack/neutron,master,I8c6d226e626812c3ccf0a2681be68a5b080b3463,[Fullstack] Wait 10 seconds to ensure that MAC address is configured,MERGED,2022-12-21 16:59:18.000000000,2022-12-22 12:49:50.000000000,2022-12-22 12:48:26.000000000,"[{'_account_id': 5948}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 16:59:18.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/370d8bcea3ae728c1aacba7b36800ecd759f3f8e', 'message': ""[Fullstack] Wait 10 seconds to ensure that MAC address is configured\n\nIn Linuxbridge and OVS PortFixture, when port is created, in the fake\nvm's namespace it needs to have correct mac address configured.\nIt seems that for some reason it's not properly configured sometimes and\nthat may cause failure of e.g. DHCP tests.\nSo this patch adds retries for 10 seconds to ensure that MAC address is\nconfigured to the one which should be.\n\nCloses-bug: #2000150\nChange-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463\n""}]",2,868364,370d8bcea3ae728c1aacba7b36800ecd759f3f8e,15,4,1,11975,,,0,"[Fullstack] Wait 10 seconds to ensure that MAC address is configured

In Linuxbridge and OVS PortFixture, when port is created, in the fake
vm's namespace it needs to have correct mac address configured.
It seems that for some reason it's not properly configured sometimes and
that may cause failure of e.g. DHCP tests.
So this patch adds retries for 10 seconds to ensure that MAC address is
configured to the one which should be.

Closes-bug: #2000150
Change-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/868364/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,370d8bcea3ae728c1aacba7b36800ecd759f3f8e,bug/2000150," def set_port_mac_address(self): def set_mac_address(): self.port.link.set_address(self.mac) return self.port.link.address.lower() == self.mac.lower() try: common_utils.wait_until_true(set_mac_address, timeout=10) except common_utils.WaitTimeout: LOG.error(""MAC address of the port %s not set properly. "" ""Requested MAC: %s; Actual MAC: %s"", self.port, self.mac, self.port.link.address) self.set_port_mac_address() self.set_port_mac_address()", self.port.link.set_address(self.mac) if self.mac: self.port.link.set_address(self.mac),15,3
openstack%2Ftripleo-ansible~stable%2Fwallaby~I3209688eabfdb507f924f86c55ebbf6526ce7ef7,openstack/tripleo-ansible,stable/wallaby,I3209688eabfdb507f924f86c55ebbf6526ce7ef7,Support role specific ContainerImagePrepare,MERGED,2022-09-22 12:25:35.000000000,2022-12-22 12:31:31.000000000,2022-12-22 12:30:29.000000000,"[{'_account_id': 8297}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 30073}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-22 12:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1c5759a435cb0679e09f520759c72016fc7f76cd', 'message': ""WIP: Support role specific ContainerImagePrepare\n\nThis implements partial support for overriding the ContainerImaePrepare\nparameter for individual roles, so that users can use different set\nof images for each role.\n\nexample:\nparameter_defaults:\n  ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos9\n        ...\n  ComputeEl8ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos8\n        ...\n\nChange-Id: I3209688eabfdb507f924f86c55ebbf6526ce7ef7\n""}, {'number': 2, 'created': '2022-09-27 11:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/311995a5345fdd1f12bb50f035d827c2161542a6', 'message': ""Support role specific ContainerImagePrepare\n\nThis implements partial support for overriding the ContainerImaePrepare\nparameter for individual roles, so that users can use different set\nof images for each role.\n\nexample:\nparameter_defaults:\n  ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos9\n        ...\n  ComputeEl8ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos8\n        ...\n\nChange-Id: I3209688eabfdb507f924f86c55ebbf6526ce7ef7\n(cherry picked from commit 21a694b5e595aa68cd1a35f86a7bc200bdf8b95f)\n""}, {'number': 3, 'created': '2022-12-21 11:27:42.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_container_image_prepare.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a09f2377e3e441ce7b9c8b2045b312af6d572427', 'message': ""Support role specific ContainerImagePrepare\n\nThis implements partial support for overriding the ContainerImaePrepare\nparameter for individual roles, so that users can use different set\nof images for each role.\n\nexample:\nparameter_defaults:\n  ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos9\n        ...\n  ComputeEl8ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos8\n        ...\n\nChange-Id: I3209688eabfdb507f924f86c55ebbf6526ce7ef7\n(cherry picked from commit 21a694b5e595aa68cd1a35f86a7bc200bdf8b95f)\n""}]",1,858894,a09f2377e3e441ce7b9c8b2045b312af6d572427,22,7,3,11166,,,0,"Support role specific ContainerImagePrepare

This implements partial support for overriding the ContainerImaePrepare
parameter for individual roles, so that users can use different set
of images for each role.

example:
parameter_defaults:
  ContainerImagePrepare:
    - push_destination: true
      set:
        name_prefix: openstack-
        name_suffix: ''
        namespace: quay.io/repository/tripleowallabycentos9
        ...
  ComputeEl8ContainerImagePrepare:
    - push_destination: true
      set:
        name_prefix: openstack-
        name_suffix: ''
        namespace: quay.io/repository/tripleowallabycentos8
        ...

Change-Id: I3209688eabfdb507f924f86c55ebbf6526ce7ef7
(cherry picked from commit 21a694b5e595aa68cd1a35f86a7bc200bdf8b95f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/94/858894/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_container_image_prepare.py'],1,1c5759a435cb0679e09f520759c72016fc7f76cd,role-image-prepare-stable/wallaby,"import copy for role in roles_data: # NOTE(tkajinam): If a role-specific container image prepare # parameter is set, run the image prepare process # with the overridden environment role_param = '%sContainerImagePrepare' % role['name'] if env.get('parameter_defaults', {}).get(role_param): tmp_env = copy.deepcopy(env) tmp_env['parameter_defaults']['ContainerImagePrepare'] = ( env['parameter_defaults'][role_param] ) # NOTE(tkajinam): Put the image parameters as role-specific # parameters params['%sParameters' % role['name']] = ( kolla_builder.container_images_prepare_multi( tmp_env, [role], cleanup=cleanup, dry_run=dry_run, lock=lock) ) ",,20,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I5fc94ad27205979b18c4ab8d4bcbe3a01f14d587,openstack/tripleo-heat-templates,stable/train,I5fc94ad27205979b18c4ab8d4bcbe3a01f14d587,[ML2 OVN] Add OVNOvsdbProbeInterval parameter,MERGED,2022-12-08 19:18:57.000000000,2022-12-22 12:01:08.000000000,2022-12-22 12:00:13.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-08 19:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7de18a5afc8e9a4f1de9d257e90a431dd28511f', 'message': '[ML2 OVN] Add OVNOvsdbProbeInterval parameter\n\nThe parameter can be used to configure\n`ovsdb_probe_interval` for neutron ml2 plugin\nand ovn metadata agent.\n\nDepends-On:https://review.opendev.org/c/openstack/puppet-neutron/+/867020\nDepends-On: https://review.opendev.org/c/openstack/puppet-neutron/+/867017\nRelated-Bug: rhbz#2105312\nChange-Id: I5fc94ad27205979b18c4ab8d4bcbe3a01f14d587\n(cherry picked from commit 6617f0e5258dba3127cd1dfdad0049d3590ff443)\n(cherry picked from commit cf26537723b54532d104ff052029beb27fc322f5)\n'}, {'number': 2, 'created': '2022-12-08 19:30:38.000000000', 'files': ['releasenotes/notes/add-param-ovn-ovsdb-probe-interval-243e66290a72eb3c.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1c0e111811a908adc6eac5767ec496ad884fc8f', 'message': '[ML2 OVN] Add OVNOvsdbProbeInterval parameter\n\nThe parameter can be used to configure\n`ovsdb_probe_interval` for neutron ml2 plugin\nand ovn metadata agent.\n\nConflicts:\ndeployment/neutron/neutron-plugin-ml2-ovn.yaml\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-neutron/+/867020\nDepends-On: https://review.opendev.org/c/openstack/puppet-neutron/+/867017\nRelated-Bug: rhbz#2105312\nChange-Id: I5fc94ad27205979b18c4ab8d4bcbe3a01f14d587\n(cherry picked from commit 6617f0e5258dba3127cd1dfdad0049d3590ff443)\n(cherry picked from commit cf26537723b54532d104ff052029beb27fc322f5)\n'}]",1,867021,c1c0e111811a908adc6eac5767ec496ad884fc8f,14,5,2,34271,,,0,"[ML2 OVN] Add OVNOvsdbProbeInterval parameter

The parameter can be used to configure
`ovsdb_probe_interval` for neutron ml2 plugin
and ovn metadata agent.

Conflicts:
deployment/neutron/neutron-plugin-ml2-ovn.yaml

Depends-On: https://review.opendev.org/c/openstack/puppet-neutron/+/867020
Depends-On: https://review.opendev.org/c/openstack/puppet-neutron/+/867017
Related-Bug: rhbz#2105312
Change-Id: I5fc94ad27205979b18c4ab8d4bcbe3a01f14d587
(cherry picked from commit 6617f0e5258dba3127cd1dfdad0049d3590ff443)
(cherry picked from commit cf26537723b54532d104ff052029beb27fc322f5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/867021/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-param-ovn-ovsdb-probe-interval-243e66290a72eb3c.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml']",3,b7de18a5afc8e9a4f1de9d257e90a431dd28511f,ovn-tunables,"<<<<<<< HEAD (49bd1a Merge ""Remove the python3-openclient and add a new task."" in)======= OVNOvsdbProbeInterval: description: Probe interval in ms for the OVSDB session type: number default: 60000 >>>>>>> CHANGE (cf2653 [ML2 OVN] Add OVNOvsdbProbeInterval parameter) neutron::plugins::ml2::ovn::ovsdb_probe_interval: {get_param: OVNOvsdbProbeInterval}",,19,0
openstack%2Fgrenade~master~Iaebf1b33ccf3bfd64191f9a898408bcfe11dd557,openstack/grenade,master,Iaebf1b33ccf3bfd64191f9a898408bcfe11dd557,Update the rootwrap config when upgrading Neutron,MERGED,2022-12-09 10:25:28.000000000,2022-12-22 11:48:51.000000000,2022-12-22 11:47:51.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-09 10:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/619f7dc44f2e58bfb70746f920b38adceff0a7ac', 'message': 'Update the rootwrap config when upgrading Neutron\n\nAs reported in the related bug, the rootwrap filters are not updated\nbetween versions. This patch calls the devstack method that setups\nthe Neutron rootwrap configuration and filters.\n\nCloses-Bug: #1999235\nChange-Id: Iaebf1b33ccf3bfd64191f9a898408bcfe11dd557\n'}, {'number': 2, 'created': '2022-12-21 17:10:42.000000000', 'files': ['projects/50_neutron/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/7c3144ce84f9b0c206598e3a8298d1046afcd85a', 'message': 'Update the rootwrap config when upgrading Neutron\n\nAs reported in the related bug, the rootwrap filters are not updated\nbetween versions. This patch calls the devstack method that setups\nthe Neutron rootwrap configuration and filters.\n\nCloses-Bug: #1999235\nChange-Id: Iaebf1b33ccf3bfd64191f9a898408bcfe11dd557\n'}]",9,867092,7c3144ce84f9b0c206598e3a8298d1046afcd85a,19,7,2,16688,,,0,"Update the rootwrap config when upgrading Neutron

As reported in the related bug, the rootwrap filters are not updated
between versions. This patch calls the devstack method that setups
the Neutron rootwrap configuration and filters.

Closes-Bug: #1999235
Change-Id: Iaebf1b33ccf3bfd64191f9a898408bcfe11dd557
",git fetch https://review.opendev.org/openstack/grenade refs/changes/92/867092/1 && git format-patch -1 --stdout FETCH_HEAD,['projects/50_neutron/upgrade.sh'],1,619f7dc44f2e58bfb70746f920b38adceff0a7ac,bug/1999235,"# Update the rootwrap configuration # NOTE(ralonsoh): make this method public in ""devstack"". _neutron_setup_rootwrap ",,4,0
openstack%2Fovn-octavia-provider~master~I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740,openstack/ovn-octavia-provider,master,I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740,Fix listener provisioning_status after HM created/deleted,MERGED,2022-12-16 14:20:57.000000000,2022-12-22 11:36:37.000000000,2022-12-22 11:35:40.000000000,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-12-16 14:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/7f271ed78df2071a5c09346672044dc4bd7863ba', 'message': 'Fix listener provisioning_status after HM created/deleted\n\nWhen a HM is created/deleted over a pool, the listener related to the\npool keeps in PENDING_UPDATE status.\n\nThis patch return the correct status to Octavia API for the\nlistener related to the pool, ensuring it could be modified and\nnot considered as inmutable.\n\nCloses-Bug: #1999813\nChange-Id: I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740\n'}, {'number': 2, 'created': '2022-12-16 15:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e38351f24b94ab719e2abf76dee9c14720b3919a', 'message': 'Fix listener provisioning_status after HM created/deleted\n\nWhen a HM is created/deleted over a pool, the listener related to the\npool keeps in PENDING_UPDATE status.\n\nThis patch return the correct status to Octavia API for the\nlistener related to the pool, ensuring it could be modified and\nnot considered as inmutable.\n\nCloses-Bug: #1999813\nChange-Id: I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740\n'}, {'number': 3, 'created': '2022-12-19 15:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4ffbc31fb43f073df73150a8e8fa23df7b6341d9', 'message': 'Fix listener provisioning_status after HM created/deleted\n\nWhen a HM is created/deleted over a pool, the listener related to the\npool keeps in PENDING_UPDATE status.\n\nThis patch return the correct status to Octavia API for the\nlisteners related to the pool, ensuring they could be modified and\nnot considered as inmutable.\n\nCloses-Bug: #1999813\nChange-Id: I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740\n'}, {'number': 4, 'created': '2022-12-20 15:04:41.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/421665e2d269c47dd9cf9c55183735e3ac110dfc', 'message': 'Fix listener provisioning_status after HM created/deleted\n\nWhen a HM is created/deleted over a pool, the listener related to the\npool keeps in PENDING_UPDATE status.\n\nThis patch return the correct status to Octavia API for the\nlisteners related to the pool, ensuring they could be modified and\nnot considered as inmutable.\n\nCloses-Bug: #1999813\nChange-Id: I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740\n'}]",12,867974,421665e2d269c47dd9cf9c55183735e3ac110dfc,33,3,4,34451,,,0,"Fix listener provisioning_status after HM created/deleted

When a HM is created/deleted over a pool, the listener related to the
pool keeps in PENDING_UPDATE status.

This patch return the correct status to Octavia API for the
listeners related to the pool, ensuring they could be modified and
not considered as inmutable.

Closes-Bug: #1999813
Change-Id: I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/74/867974/4 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,7f271ed78df2071a5c09346672044dc4bd7863ba,bug/1999813," self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE)",,25,0
openstack%2Ftripleo-ansible~stable%2Fzed~Ied6fb63ec197cc318143203b4dcb608b42408698,openstack/tripleo-ansible,stable/zed,Ied6fb63ec197cc318143203b4dcb608b42408698,Fix indentation error,MERGED,2022-12-21 10:31:26.000000000,2022-12-22 10:16:58.000000000,2022-12-22 10:16:58.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-21 10:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bb033dff6ab829f30174fad498cb6f213eed2e27', 'message': 'Fix indentation error\n\nChange-Id: Ied6fb63ec197cc318143203b4dcb608b42408698\n(cherry picked from commit 8f6f79ab67bd37cd75ddac5a97cfb7808e55ea14)\n'}, {'number': 2, 'created': '2022-12-21 10:32:22.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/tasks/rsyslog_cleanup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6cae60300d8c5a90d981ef3afd35771c29f0f474', 'message': 'Fix indentation error\n\nChange-Id: Ied6fb63ec197cc318143203b4dcb608b42408698\n(cherry picked from commit 8f6f79ab67bd37cd75ddac5a97cfb7808e55ea14)\n'}]",0,868276,6cae60300d8c5a90d981ef3afd35771c29f0f474,9,3,2,5241,,,0,"Fix indentation error

Change-Id: Ied6fb63ec197cc318143203b4dcb608b42408698
(cherry picked from commit 8f6f79ab67bd37cd75ddac5a97cfb7808e55ea14)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/76/868276/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/tasks/rsyslog_cleanup.yml'],1,bb033dff6ab829f30174fad498cb6f213eed2e27,indent-error-stable/zed,"<<<<<<< HEAD (af2dbb Merge ""Fix molecule failures in tripleo_collectd"" into stabl) ======= --- # Note: Previous versions of TripleO used log file with podman exec specific data # to provide health check execution results to sensubility. This serves for # cleanup of unneeded rsyslog configuration since sensubility is fetching # data straight from podman socket - name: remove unneeded podman-related rsyslog configuration ansible.builtin.file: path: /etc/rsyslog.d/openstack-healthcheck.conf state: absent ignore_errors: yes register: rmcfg - when: rmcfg is changed service: name: rsyslog state: restarted >>>>>>> CHANGE (8f6f79 Fix indentation error) ",,20,0
openstack%2Fkolla-ansible~master~I9616d1d7a52a4b3ee565dec59940cdc7e9450f67,openstack/kolla-ansible,master,I9616d1d7a52a4b3ee565dec59940cdc7e9450f67,fix bug 2000280: cleanup error when deployment node and control node are not on the same node.,NEW,2022-12-21 08:24:01.000000000,2022-12-22 09:55:01.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-21 08:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/964ff787ab87573089b0e708a2b8aa60d9499f70', 'message': 'fix cleanup error when deployment node and control node are not on the same node.\n\nWhen the deployment node is separated from the control node, only the kolla-ansible tool is installed on the deployment node, and the docker service is not installed. At this time, the cloud platform can be deployed normally, but when the command ""kolla-ansible destroy"" is used to clean up the environment, an error about docker command is reported on the deployment node.\n\nChange-Id: I9616d1d7a52a4b3ee565dec59940cdc7e9450f67\n'}, {'number': 2, 'created': '2022-12-22 02:58:17.000000000', 'files': ['ansible/roles/destroy/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/025b39b6b118895301535ec973f964981f42bf3b', 'message': 'fix bug 2000280: cleanup error when deployment node and control node are not on the same node.\n\nWhen the deployment node is separated from the control node, only the kolla-ansible tool is installed on the deployment node, and the docker service is not installed. At this time, the cloud platform can be deployed normally, but when the command ""kolla-ansible destroy"" is used to clean up the environment, an error about docker command is reported on the deployment node.\n\nChange-Id: I9616d1d7a52a4b3ee565dec59940cdc7e9450f67\n'}]",5,867349,025b39b6b118895301535ec973f964981f42bf3b,10,3,2,26498,,,0,"fix bug 2000280: cleanup error when deployment node and control node are not on the same node.

When the deployment node is separated from the control node, only the kolla-ansible tool is installed on the deployment node, and the docker service is not installed. At this time, the cloud platform can be deployed normally, but when the command ""kolla-ansible destroy"" is used to clean up the environment, an error about docker command is reported on the deployment node.

Change-Id: I9616d1d7a52a4b3ee565dec59940cdc7e9450f67
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/867349/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/destroy/tasks/main.yml'],1,964ff787ab87573089b0e708a2b8aa60d9499f70,,- name: Destroying the resources of the cloud platform. block: - include_tasks: validate_docker_execute.yml - include_tasks: cleanup_containers.yml - include_tasks: cleanup_images.yml - include_tasks: cleanup_host.yml when: inventory_hostname in groups['control'] or inventory_hostname in groups['network'] or inventory_hostname in groups['compute'] or inventory_hostname in groups['monitoring'] or inventory_hostname in groups['storage'],- include_tasks: validate_docker_execute.yml - include_tasks: cleanup_containers.yml - include_tasks: cleanup_images.yml - include_tasks: cleanup_host.yml,11,4
openstack%2Fpuppet-openstack-integration~master~I8c5090b7e14757c667d2b118943facda3557fa65,openstack/puppet-openstack-integration,master,I8c5090b7e14757c667d2b118943facda3557fa65,Updated from Puppet OpenStack modules constraints,MERGED,2022-12-21 02:16:56.000000000,2022-12-22 08:42:48.000000000,2022-12-22 08:42:48.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 02:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/93187f165ad237ff2448bae0d3f9d4de2775b6e9', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I8c5090b7e14757c667d2b118943facda3557fa65\n'}, {'number': 2, 'created': '2022-12-22 02:17:14.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b82dc6a9e27eb535654649fc16d4c5d9c25a3908', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I8c5090b7e14757c667d2b118943facda3557fa65\n'}]",1,868252,b82dc6a9e27eb535654649fc16d4c5d9c25a3908,16,3,2,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I8c5090b7e14757c667d2b118943facda3557fa65
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/52/868252/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,93187f165ad237ff2448bae0d3f9d4de2775b6e9,openstack/puppet/constraints, :ref => 'v13.1.0', :ref => 'v13.0.1',1,1
openstack%2Fnova~master~I154040c12a817557b7ed64105d8a13f3a15b8a05,openstack/nova,master,I154040c12a817557b7ed64105d8a13f3a15b8a05,Remove the redundant code in HostState._update_from_compute_node,NEW,2022-11-24 03:04:46.000000000,2022-12-22 08:40:55.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 03:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/096f2a4121e691f838a7271e5643e656e8796c75', 'message': 'Remove the redundant code in HostState._update_from_compute_node\n\nChange-Id: I154040c12a817557b7ed64105d8a13f3a15b8a05\n'}, {'number': 2, 'created': '2022-11-24 05:56:47.000000000', 'files': ['nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9bb716e1795520e34242f3db6c1259c5afaf33c8', 'message': 'Remove the redundant code in HostState._update_from_compute_node\n\nChange-Id: I154040c12a817557b7ed64105d8a13f3a15b8a05\n'}]",0,864824,9bb716e1795520e34242f3db6c1259c5afaf33c8,8,2,2,31827,,,0,"Remove the redundant code in HostState._update_from_compute_node

Change-Id: I154040c12a817557b7ed64105d8a13f3a15b8a05
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/864824/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/host_manager.py'],1,096f2a4121e691f838a7271e5643e656e8796c75,, self.total_usable_ram_mb = compute.memory_mb, all_ram_mb = compute.memory_mb self.total_usable_ram_mb = all_ram_mb,1,2
openstack%2Fnova~master~I14c2684edf5e9a04c673d039d340afe23e448ff9,openstack/nova,master,I14c2684edf5e9a04c673d039d340afe23e448ff9,Remove the redundance code in HostState.update,NEW,2022-11-14 03:56:51.000000000,2022-12-22 08:38:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-14 03:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a061c0c63b4adbb6b9b9ca3156c5c2a49d54a1b2', 'message': 'Remove the redundance code in HostState.update\n\nThe HostState is local variable in HostManager, So the updated is\nNone for HostState.\n\nChange-Id: I14c2684edf5e9a04c673d039d340afe23e448ff9\n'}, {'number': 2, 'created': '2022-11-15 02:18:29.000000000', 'files': ['nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/12f04a3017aaa5d86729cf640f637f7b0b8d59b5', 'message': 'Remove the redundance code in HostState.update\n\nThe HostState is local variable in HostManager, So the updated is\nNone for HostState.\n\nChange-Id: I14c2684edf5e9a04c673d039d340afe23e448ff9\n'}]",4,864275,12f04a3017aaa5d86729cf640f637f7b0b8d59b5,18,1,2,31827,,,0,"Remove the redundance code in HostState.update

The HostState is local variable in HostManager, So the updated is
None for HostState.

Change-Id: I14c2684edf5e9a04c673d039d340afe23e448ff9
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/864275/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/host_manager.py'],1,a061c0c63b4adbb6b9b9ca3156c5c2a49d54a1b2,,, if (self.updated and compute.updated_at and self.updated > compute.updated_at): return,0,3
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I27c323b0e9595fb9d6f75534c0aac3cd5ca2eb04,openstack/puppet-openstack-integration,stable/wallaby,I27c323b0e9595fb9d6f75534c0aac3cd5ca2eb04,Remove centos8 wallaby tripleo jobs,MERGED,2022-12-15 15:34:03.000000000,2022-12-22 08:09:17.000000000,2022-12-22 08:09:17.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 15:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/84983265c70c0b4a2ceab1d65aea9d8eefa99611', 'message': 'Remove centos8 wallaby jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I27c323b0e9595fb9d6f75534c0aac3cd5ca2eb04\n'}, {'number': 2, 'created': '2022-12-15 15:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1a04b011c937c100bb65a5c39ad7fd346ae92661', 'message': 'Remove centos8 wallaby jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I27c323b0e9595fb9d6f75534c0aac3cd5ca2eb04\n'}, {'number': 3, 'created': '2022-12-15 15:37:54.000000000', 'files': ['zuul.d/tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b1d0214290a30441c659fae5ab63a508542aaa54', 'message': 'Remove centos8 wallaby tripleo jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I27c323b0e9595fb9d6f75534c0aac3cd5ca2eb04\n'}]",14,867821,b1d0214290a30441c659fae5ab63a508542aaa54,14,3,3,9816,,,0,"Remove centos8 wallaby tripleo jobs

TripleO has decided to drop all centos8 wallaby jobs. This removes
the c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS
Stream 9 is not officially supported by stable/wallaby release of
our modules so the job is kept non-voting.

Change-Id: I27c323b0e9595fb9d6f75534c0aac3cd5ca2eb04
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/21/867821/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tripleo.yaml'],1,84983265c70c0b4a2ceab1d65aea9d8eefa99611,oooci_teardown_8_wallaby, name: tripleo-puppet-ci-centos-9-undercloud-containers voting: false parent: tripleo-ci-centos-9-undercloud-containers - tripleo-puppet-ci-centos-9-content-provider - tripleo-puppet-ci-centos-9-undercloud-container: parent: tripleo-ci-centos-9-standalone vars: featureset_override: standalone_environment_files: - 'environments/low-memory-usage.yaml' - tripleo-puppet-ci-centos-9-standalone: vars: *undercloud_consumer_vars dependencies: - tripleo-puppet-ci-centos-9-content-provider, name: tripleo-puppet-ci-centos-8-undercloud-containers parent: tripleo-ci-centos-8-undercloud-containers name: tripleo-puppet-ci-centos-9-undercloud-containers voting: false parent: tripleo-ci-centos-9-undercloud-containers irrelevant-files: *irrelevant_files - job: name: tripleo-puppet-ci-centos-8-content-provider parent: tripleo-ci-centos-8-content-provider irrelevant-files: *irrelevant_files - job: - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-undercloud-containers: &c8_consumer - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-9-content-provider - tripleo-puppet-ci-centos-9-undercloud-containers: &c9_consumer vars: *undercloud_consumer_vars dependencies: gate: jobs: - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-undercloud-containers: *c8_consumer - job: name: tripleo-puppet-ci-centos-8-standalone parent: tripleo-ci-centos-8-standalone irrelevant-files: *irrelevant_files vars: &standalone_vars featureset_override: standalone_environment_files: - 'environments/low-memory-usage.yaml' parent: tripleo-ci-centos-9-standalone vars: *standalone_vars - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-standalone: *c8_consumer - tripleo-puppet-ci-centos-9-standalone: *c9_consumer gate: jobs: - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-standalone: *c8_consumer,14,42
openstack%2Fceilometer~stable%2Fussuri~Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277,openstack/ceilometer,stable/ussuri,Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277,Fix broken test_discovery_with_libvirt_error,MERGED,2022-12-21 11:20:54.000000000,2022-12-22 07:09:46.000000000,2022-12-22 07:08:49.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 11:20:54.000000000', 'files': ['ceilometer/tests/unit/compute/test_discovery.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/bcada72c3aaeeb2a86de3368b1787a9253c9d55b', 'message': 'Fix broken test_discovery_with_libvirt_error\n\nMock only small parts of libvirt not the whole library,\nwhen testing libvirt discovery.\n\nCloses-Bug: #1774292\nChange-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277\n(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)\n(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)\n(cherry picked from commit b80d48afea9ab934e380f277ab92aaf4d45e1297)\n'}]",0,868279,bcada72c3aaeeb2a86de3368b1787a9253c9d55b,7,2,1,13177,,,0,"Fix broken test_discovery_with_libvirt_error

Mock only small parts of libvirt not the whole library,
when testing libvirt discovery.

Closes-Bug: #1774292
Change-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277
(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)
(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)
(cherry picked from commit b80d48afea9ab934e380f277ab92aaf4d45e1297)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/79/868279/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/tests/unit/compute/test_discovery.py'],1,bcada72c3aaeeb2a86de3368b1787a9253c9d55b,bug-1774292-stable/victoria-stable/ussuri," def isAlive(self): return False @mock.patch.object(libvirt, ""VIR_DOMAIN_METADATA_ELEMENT"", 2) @mock.patch.object(libvirt, ""openReadOnly"") def test_discovery_with_libvirt_error(self, openReadOnly): openReadOnly.return_value = FakeManualInstanceConn()"," @mock.patch.object(utils, ""libvirt"") @mock.patch.object(discovery, ""libvirt"") def test_discovery_with_libvirt_error(self, libvirt, libvirt2): libvirt.VIR_DOMAIN_METADATA_ELEMENT = 2 libvirt2.openReadOnly.return_value = FakeManualInstanceConn()",7,5
openstack%2Fpuppet-glance~stable%2Fwallaby~Ifb99e0080e99bcbf5069f300b68e47a66e7e174c,openstack/puppet-glance,stable/wallaby,Ifb99e0080e99bcbf5069f300b68e47a66e7e174c,Remove centos8 wallaby tripleo jobs,MERGED,2022-12-21 05:03:45.000000000,2022-12-22 06:35:56.000000000,2022-12-22 06:35:56.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 05:03:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/5a287ee4ddfbaf7cb8f1261b393fe4b205030fa6', 'message': 'Remove centos8 wallaby tripleo jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: Ifb99e0080e99bcbf5069f300b68e47a66e7e174c\n'}]",2,868258,5a287ee4ddfbaf7cb8f1261b393fe4b205030fa6,12,3,1,9816,,,0,"Remove centos8 wallaby tripleo jobs

TripleO has decided to drop all centos8 wallaby jobs. This removes
the c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS
Stream 9 is not officially supported by stable/wallaby release of
our modules so the job is kept non-voting.

Change-Id: Ifb99e0080e99bcbf5069f300b68e47a66e7e174c
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/58/868258/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5a287ee4ddfbaf7cb8f1261b393fe4b205030fa6,oooci_teardown_8_wallaby, parent: tripleo-puppet-ci-centos-9-standalone voting: false vars:, - puppet-glance-tripleo-centos-9-standalone gate: jobs: - puppet-glance-tripleo-standalone parent: tripleo-puppet-ci-centos-8-standalone vars: &standalone_vars - job: name: puppet-glance-tripleo-centos-9-standalone parent: tripleo-puppet-ci-centos-9-standalone description: | TripleO standalone Job running Glance specific Tempest tests. voting: false vars: *standalone_vars,3,14
openstack%2Faodh~stable%2Ftrain~I074ef0ad4578abde73ae82efb18bc9edbceb7e81,openstack/aodh,stable/train,I074ef0ad4578abde73ae82efb18bc9edbceb7e81,Remove TripleO job,MERGED,2022-12-14 03:32:25.000000000,2022-12-22 03:26:09.000000000,2022-12-22 03:24:04.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-14 03:32:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/aodh/commit/c2024b22104f7a9a3ba5758667a556d217c13883', 'message': 'Remove TripleO job\n\nThe TripleO job has been in the experimental queue but has never get\nany actual attention. Also, the job is not used in Ceilometer.\n\nConflicts:\n\t.zuul.yaml\n\nBackport note:\nstable/xena and stable/yoga were skipped because the tripleo job has\nbeen removed from these branches by different commits.\n\nChange-Id: I074ef0ad4578abde73ae82efb18bc9edbceb7e81\n(cherry picked from commit 2eb0ae38fc54e9ab24dcfcb8528eb7dd340debfc)\n'}]",1,867594,c2024b22104f7a9a3ba5758667a556d217c13883,12,2,1,9816,,,0,"Remove TripleO job

The TripleO job has been in the experimental queue but has never get
any actual attention. Also, the job is not used in Ceilometer.

Conflicts:
	.zuul.yaml

Backport note:
stable/xena and stable/yoga were skipped because the tripleo job has
been removed from these branches by different commits.

Change-Id: I074ef0ad4578abde73ae82efb18bc9edbceb7e81
(cherry picked from commit 2eb0ae38fc54e9ab24dcfcb8528eb7dd340debfc)
",git fetch https://review.opendev.org/openstack/aodh refs/changes/94/867594/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c2024b22104f7a9a3ba5758667a556d217c13883,,," experimental: jobs: # TripleO jobs that deploy Telemetry. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. # NOTE(sileht): These job takes 3 hours and fail most of the times. # While other jobs take 20-30 minutes # We can reenable it when they take less times. - tripleo-ci-centos-7-scenario001-multinode-oooq - tripleo-ci-centos-7-scenario001-standalone - tripleo-ci-centos-7-scenario002-multinode-oooq - tripleo-ci-centos-7-scenario002-standalone",0,17
openstack%2Fbarbican-ui~master~I74a9063fe756cdb8f7b3a3db1101a52dcb43656d,openstack/barbican-ui,master,I74a9063fe756cdb8f7b3a3db1101a52dcb43656d,Use TOX_CONSTRAINTS_FILE,ABANDONED,2022-08-30 12:18:10.000000000,2022-12-22 02:25:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-08-30 12:18:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican-ui/commit/423ffb43d546a2f15335705879d155090ac74d00', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I74a9063fe756cdb8f7b3a3db1101a52dcb43656d\n'}]",2,855056,423ffb43d546a2f15335705879d155090ac74d00,6,2,1,35058,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I74a9063fe756cdb8f7b3a3db1101a52dcb43656d
",git fetch https://review.opendev.org/openstack/barbican-ui refs/changes/56/855056/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,423ffb43d546a2f15335705879d155090ac74d00,, -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fbarbican-ui~master~Idebe434ae4f7b2f0f88c61e68b4108d20ec04723,openstack/barbican-ui,master,Idebe434ae4f7b2f0f88c61e68b4108d20ec04723,setup.cfg: Replace dashes by underscores,NEW,2022-02-05 16:39:44.000000000,2022-12-22 02:18:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-02-05 16:39:44.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/barbican-ui/commit/9cf68e481c56bb58a7885d94be71204f4f1ec93c', 'message': ""setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the parameters accordingly to avoid the warnings\nlike the example below.\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Idebe434ae4f7b2f0f88c61e68b4108d20ec04723\n""}]",0,827987,9cf68e481c56bb58a7885d94be71204f4f1ec93c,4,3,1,9816,,,0,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Idebe434ae4f7b2f0f88c61e68b4108d20ec04723
",git fetch https://review.opendev.org/openstack/barbican-ui refs/changes/87/827987/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9cf68e481c56bb58a7885d94be71204f4f1ec93c,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/,3,3
openstack%2Fmistral-extra~master~Ice9f43597334d35f12d01ef4b44ff3cb75cc4a54,openstack/mistral-extra,master,Ice9f43597334d35f12d01ef4b44ff3cb75cc4a54,Update doc8 version,NEW,2021-05-21 03:54:21.000000000,2022-12-22 02:11:12.000000000,,"[{'_account_id': 11904}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-05-21 03:54:21.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/64b33849316b6b6a4fe4f7fc253835474b7428fa', 'message': 'Update doc8 version\n\nThe doc8 lib supports Py36 starting from version 0.8.1\n\nChange-Id: Ice9f43597334d35f12d01ef4b44ff3cb75cc4a54\n'}]",0,792498,64b33849316b6b6a4fe4f7fc253835474b7428fa,5,4,1,32238,,,0,"Update doc8 version

The doc8 lib supports Py36 starting from version 0.8.1

Change-Id: Ice9f43597334d35f12d01ef4b44ff3cb75cc4a54
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/98/792498/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,64b33849316b6b6a4fe4f7fc253835474b7428fa,,doc8==0.8.1,doc8==0.6.0,2,2
openstack%2Fkeystone~master~I5fe0bf383a64aa0ba7a628911cfeb9792f750f47,openstack/keystone,master,I5fe0bf383a64aa0ba7a628911cfeb9792f750f47,Emit project tags CADF notifications,NEW,2022-10-03 17:40:18.000000000,2022-12-22 00:37:49.000000000,,"[{'_account_id': 7973}, {'_account_id': 9542}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-03 17:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ab0350653a15d45b55d7ae45d073c7b73475b026', 'message': '[CPINF-704] Port tags CADF change\n\nCreating a project with existing tags was failing to provide a\nnotification that the tags were created, this change updates\nthe create project method to correctly emit this notification.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 2, 'created': '2022-10-03 18:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e44a7e9b24e9922deb566902e3826a7eb3fdc64e', 'message': 'Port tags CADF change\n\nCreating a project with existing tags was failing to provide a\nnotification that the tags were created, this change updates\nthe create project method to correctly emit this notification.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 3, 'created': '2022-10-04 14:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ad268e1281535f12c6e99cfb0f43fccab2f0acbc', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 4, 'created': '2022-10-12 20:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ea2d5d6c7816346319ab7c7ff26c6707abc66956', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 5, 'created': '2022-10-12 21:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9b8d428e8e8149f813692d144c111e6c40819ce7', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 6, 'created': '2022-10-12 21:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a80a8b232c7252168aeb744e954acf37abe6cdad', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 7, 'created': '2022-10-13 17:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3739f6e015db80822c437fdb4c895e34781c5c36', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 8, 'created': '2022-10-13 17:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/61a1597e184282e1394d36916c23f209a0c85feb', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 9, 'created': '2022-10-13 22:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/93ab4672d00b9e77343b6293a18ce63db678129b', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 10, 'created': '2022-10-13 22:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/be309a8dec98c584e939485091ab2cea4d07fa22', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 11, 'created': '2022-10-13 23:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a04835d0449159bfa1217aa0034dfd535e26fb35', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 12, 'created': '2022-10-13 23:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/83c6dc42178fdd13e0f1b1f55fd1b2be620b2571', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 13, 'created': '2022-10-13 23:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2fde358a8ddc7dd9009c0ac0a8f11704a1fa05f5', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 14, 'created': '2022-10-17 14:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cea2ce2b2c05de66fa41889c8104928041ba73a2', 'message': 'Emit project tags CADF notifications for tag created/updated events\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects.This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 15, 'created': '2022-11-14 21:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/672b54230062307aae8c005630ef2df0b01d858f', 'message': 'Emit project tags CADF notifications for tag created/updated events\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects.This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 16, 'created': '2022-11-14 22:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/721af6c362125cf83aaa9f35eb7814d7d0aa6176', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects.This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 17, 'created': '2022-11-16 23:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/76a865f5ab048e5809e4697be45694db6e9ddc4d', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects.This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 18, 'created': '2022-11-16 23:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8965dc55b781e6eab3cf1f02f6c92b27670df5ae', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects.This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 19, 'created': '2022-11-17 00:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/42924db7e5c5fbf9e44180ff5cdba6646aa91da0', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects.This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 20, 'created': '2022-11-17 00:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5e480cf7c52d59dc06e3677b53965167be554775', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects.This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 21, 'created': '2022-11-17 00:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6bc0f3c376c8f9e63a9c32c8f43c5d6035657c19', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects.This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 22, 'created': '2022-11-18 16:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b3b1e75f3f88eb6a90eeec655ddb3846f18ee8f6', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects.This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 23, 'created': '2022-11-28 23:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1789816ef625e8df4d22fe442fb516beedc4e710', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 24, 'created': '2022-11-29 00:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f302c508bf6995c51b091fe0d465c8149e831551', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 25, 'created': '2022-11-29 01:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5308047077816134c3d348a0e5ab9768e21b1902', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 26, 'created': '2022-11-29 16:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c2e24a2c83b473944f4737ff608cb97d2115a013', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 27, 'created': '2022-12-20 16:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c0379cade099c2bdff8fb9f384b28b00699f35f1', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 28, 'created': '2022-12-20 17:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a33343a19d845d2339e46d4575830ff90e961a8f', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nAdded unit tests for project tags actions.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 29, 'created': '2022-12-20 17:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a31e0bcfff7f1756bcdabfa4076a8e4c82f17eba', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nAdded unit tests for project tags actions.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 30, 'created': '2022-12-20 18:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6cbbee0fcd247f8292c025b4dbafbc2ba3d78bd0', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nAdded unit tests for project tags actions.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 31, 'created': '2022-12-20 19:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ea3471bb5434a6df047658d1755695168169f0a1', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nAdded unit tests for project tags actions.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 32, 'created': '2022-12-21 19:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/08954e9c311e566a2015f28f23f65d58c2b53854', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nAdded unit tests for project tags actions.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 33, 'created': '2022-12-21 21:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b94b248127844c07b058bc585825c72cb6189a34', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nAdded unit tests for project tags actions.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 34, 'created': '2022-12-21 22:44:18.000000000', 'files': ['keystone/resource/core.py', 'keystone/tests/unit/common/test_notifications.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/99c3604ffe3571329bddc552c8f2ae80c338a1aa', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nAdded unit tests for project tags actions.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}]",39,860113,99c3604ffe3571329bddc552c8f2ae80c338a1aa,90,7,34,34520,,,0,"Emit project tags CADF notifications

This patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.

The keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.

Added unit tests for project tags actions.

Change-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47
",git fetch https://review.opendev.org/openstack/keystone refs/changes/13/860113/17 && git format-patch -1 --stdout FETCH_HEAD,['keystone/resource/core.py'],1,ab0350653a15d45b55d7ae45d073c7b73475b026,," if ('tags' in project.keys()) and project['tags']: notifications.Audit.updated(self._PROJECT, project_id, initiator) ",,4,0
openstack%2Fneutron~master~Ie633148c512f5124e978648c50a4c6318c61baa8,openstack/neutron,master,Ie633148c512f5124e978648c50a4c6318c61baa8,Gracefully restart dnsmasq to not break tcp DNS,MERGED,2022-12-02 16:39:19.000000000,2022-12-21 20:16:17.000000000,2022-12-21 20:14:52.000000000,"[{'_account_id': 5948}, {'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-12-02 16:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b08c74e17658fdcd33e9ad69b79a540ce095cb9', 'message': 'Gracefully restart dnsmasq to not break tcp DNS\n\nWhen talking to dnsmasq using DNS over tcp dnsmasq will fork out for\nTCP connections. Forked processes will stay until all connections have\nbeen closed, meaning that dangling connections will keep the processes\nand with that will also keep the tcp/53 port in listening state. On\ndnsmasq restart (e.g. on network update, subnet create, ...) the parent\nprocess is killed with SIGKILL and a new process is started. This new\nprocess cannot listen on tcp/53, as it is still in use by the old child\nwith the dangling connection.\n\nTo prevent dangling dnsmasq connections on tcp we need to properly\nshutdown the child. This is done by first sending SIGTERM and only send\na SIGKILL if the process is not shutting down properly. With that we\nget proper cleanup of all children and tcp will come up after a restart.\n\nChange-Id: Ie633148c512f5124e978648c50a4c6318c61baa8\nCloses-bug: #1998621\n'}, {'number': 2, 'created': '2022-12-05 15:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6083006da6239311c17a02c56dd35980b1a82db5', 'message': 'Gracefully restart dnsmasq to not break tcp DNS\n\nWhen talking to dnsmasq using DNS over tcp dnsmasq will fork out for\nTCP connections. Forked processes will stay until all connections have\nbeen closed, meaning that dangling connections will keep the processes\nand with that will also keep the tcp/53 port in listening state. On\ndnsmasq restart (e.g. on network update, subnet create, ...) the parent\nprocess is killed with SIGKILL and a new process is started. This new\nprocess cannot listen on tcp/53, as it is still in use by the old child\nwith the dangling connection.\n\nTo prevent dangling dnsmasq connections on tcp we need to properly\nshutdown the child. This is done by first sending SIGTERM and only send\na SIGKILL if the process is not shutting down properly. With that we\nget proper cleanup of all children and tcp will come up after a restart.\n\nChange-Id: Ie633148c512f5124e978648c50a4c6318c61baa8\nCloses-bug: #1998621\n'}, {'number': 3, 'created': '2022-12-05 15:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/55fb39a1f7c8ff77db1c68132854be27cd99c3c0', 'message': 'Gracefully restart dnsmasq to not break tcp DNS\n\nWhen talking to dnsmasq using DNS over tcp dnsmasq will fork out for\nTCP connections. Forked processes will stay until all connections have\nbeen closed, meaning that dangling connections will keep the processes\nand with that will also keep the tcp/53 port in listening state. On\ndnsmasq restart (e.g. on network update, subnet create, ...) the parent\nprocess is killed with SIGKILL and a new process is started. This new\nprocess cannot listen on tcp/53, as it is still in use by the old child\nwith the dangling connection.\n\nTo prevent dangling dnsmasq connections on tcp we need to properly\nshutdown the child. This is done by first sending SIGTERM and only send\na SIGKILL if the process is not shutting down properly. With that we\nget proper cleanup of all children and tcp will come up after a restart.\n\nChange-Id: Ie633148c512f5124e978648c50a4c6318c61baa8\nCloses-bug: #1998621\n'}, {'number': 4, 'created': '2022-12-06 10:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0609e503a6467bf9babf0b3ed754ddd9102c89a', 'message': 'Gracefully restart dnsmasq to not break tcp DNS\n\nWhen talking to dnsmasq using DNS over tcp dnsmasq will fork out for\nTCP connections. Forked processes will stay until all connections have\nbeen closed, meaning that dangling connections will keep the processes\nand with that will also keep the tcp/53 port in listening state. On\ndnsmasq restart (e.g. on network update, subnet create, ...) the parent\nprocess is killed with SIGKILL and a new process is started. This new\nprocess cannot listen on tcp/53, as it is still in use by the old child\nwith the dangling connection.\n\nTo prevent dangling dnsmasq connections on tcp we need to properly\nshutdown the child. This is done by first sending SIGTERM and only send\na SIGKILL if the process is not shutting down properly. With that we\nget proper cleanup of all children and tcp will come up after a restart.\n\nChange-Id: Ie633148c512f5124e978648c50a4c6318c61baa8\nCloses-bug: #1998621\n'}, {'number': 5, 'created': '2022-12-06 10:53:00.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/74224e79e031636018b970fac9c2aa72516eb12d', 'message': 'Gracefully restart dnsmasq to not break tcp DNS\n\nWhen talking to dnsmasq using DNS over tcp dnsmasq will fork out for\nTCP connections. Forked processes will stay until all connections have\nbeen closed, meaning that dangling connections will keep the processes\nand with that will also keep the tcp/53 port in listening state. On\ndnsmasq restart (e.g. on network update, subnet create, ...) the parent\nprocess is killed with SIGKILL and a new process is started. This new\nprocess cannot listen on tcp/53, as it is still in use by the old child\nwith the dangling connection.\n\nTo prevent dangling dnsmasq connections on tcp we need to properly\nshutdown the child. This is done by first sending SIGTERM and only send\na SIGKILL if the process is not shutting down properly. With that we\nget proper cleanup of all children and tcp will come up after a restart.\n\nChange-Id: Ie633148c512f5124e978648c50a4c6318c61baa8\nCloses-bug: #1998621\n'}]",20,866489,74224e79e031636018b970fac9c2aa72516eb12d,56,8,5,30314,,,0,"Gracefully restart dnsmasq to not break tcp DNS

When talking to dnsmasq using DNS over tcp dnsmasq will fork out for
TCP connections. Forked processes will stay until all connections have
been closed, meaning that dangling connections will keep the processes
and with that will also keep the tcp/53 port in listening state. On
dnsmasq restart (e.g. on network update, subnet create, ...) the parent
process is killed with SIGKILL and a new process is started. This new
process cannot listen on tcp/53, as it is still in use by the old child
with the dangling connection.

To prevent dangling dnsmasq connections on tcp we need to properly
shutdown the child. This is done by first sending SIGTERM and only send
a SIGKILL if the process is not shutting down properly. With that we
get proper cleanup of all children and tcp will come up after a restart.

Change-Id: Ie633148c512f5124e978648c50a4c6318c61baa8
Closes-bug: #1998621
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/866489/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/dhcp.py'],1,3b08c74e17658fdcd33e9ad69b79a540ce095cb9,bug/1998621,"import signalSIGTERM_TIMEOUT = 5 pm = self._get_process_manager() pm.disable(sig=str(int(signal.SIGTERM))) if block: try: common_utils.wait_until_true(lambda: not self.active, timeout=SIGTERM_TIMEOUT) except common_utils.WaitTimeout: LOG.warning('dnsmasq process %s did not finish after SIGTERM ' 'signal in %s seconds, sending SIGKILL signal', pm.pid, SIGTERM_TIMEOUT) pm.disable(sig=str(int(signal.SIGKILL))) common_utils.wait_until_true(lambda: not self.active)", self._get_process_manager().disable() if block: common_utils.wait_until_true(lambda: not self.active),13,2
openstack%2Fcinder~stable%2Fxena~If26ebd6a94512b1d8ecc1b786f518f667fc19ffe,openstack/cinder,stable/xena,If26ebd6a94512b1d8ecc1b786f518f667fc19ffe,fix 'huawei dorado v6' create new volume from snapshot error,NEW,2022-03-23 18:36:35.000000000,2022-12-21 19:46:55.000000000,,"[{'_account_id': 7198}, {'_account_id': 13425}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-23 18:36:35.000000000', 'files': ['cinder/volume/drivers/huawei/constants.py', 'cinder/volume/drivers/huawei/huawei_conf.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/common.py', 'cinder/volume/drivers/huawei/rest_client.py', 'cinder/volume/drivers/huawei/huawei_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b5cb0eea67f2821f83ec44f0f1b462609c4bc734', 'message': ""fix 'huawei dorado v6' create new volume from snapshot error\n\nchange the luncopy mode,in dorado v6 we use clone_pair\nmodified some interface to call dorado v6\n\nCloses-Bug: #1942342\nChange-Id: If26ebd6a94512b1d8ecc1b786f518f667fc19ffe\n(cherry picked from commit 77da18785af7bede26d3478934864e293c6f4ef6)\n""}]",6,834961,b5cb0eea67f2821f83ec44f0f1b462609c4bc734,24,3,1,14567,,,0,"fix 'huawei dorado v6' create new volume from snapshot error

change the luncopy mode,in dorado v6 we use clone_pair
modified some interface to call dorado v6

Closes-Bug: #1942342
Change-Id: If26ebd6a94512b1d8ecc1b786f518f667fc19ffe
(cherry picked from commit 77da18785af7bede26d3478934864e293c6f4ef6)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/61/834961/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/huawei/constants.py', 'cinder/volume/drivers/huawei/huawei_conf.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/common.py', 'cinder/volume/drivers/huawei/rest_client.py', 'cinder/volume/drivers/huawei/huawei_utils.py']",6,b5cb0eea67f2821f83ec44f0f1b462609c4bc734,bug/1942342, def is_support_clone_pair(client): array_info = client.get_array_info() version_info = array_info['PRODUCTVERSION'] if version_info >= constants.SUPPORT_CLONE_PAIR_VERSION: return True,,245,42
openstack%2Fnova~master~If46ee131a9e5499ae91da93ddaac88aa49182f56,openstack/nova,master,If46ee131a9e5499ae91da93ddaac88aa49182f56,Func test for PCI in placement scheduling,MERGED,2022-08-23 09:06:35.000000000,2022-12-21 19:22:13.000000000,2022-12-21 19:20:17.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-23 09:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c563c6fee221e8ac1e504912e81efea0cc24c0eb', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 2, 'created': '2022-08-23 11:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97a2c7abd705cf3458facadfd6c631ddf0eb25b5', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 3, 'created': '2022-08-23 17:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce7bef8a943500170e4899262427591eda15607e', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 4, 'created': '2022-08-24 17:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ce2ef0000b40a93de254d5049bc2e3355871506', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 5, 'created': '2022-08-25 08:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f065834e349d12dde737a404fc6bf8ca93d66ea4', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 6, 'created': '2022-08-25 12:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9151e38de5939ad72754640601f0c3d12195a486', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 7, 'created': '2022-08-26 17:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7ac2daa947c33aea701396a229dbef94291ae6b', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 8, 'created': '2022-08-28 17:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4261811a10871a66d4a0ef5e1744865b51b9b7f6', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 9, 'created': '2022-08-28 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02e1a17126b6ac03c20f159c235e99c92758ad9c', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 10, 'created': '2022-08-28 21:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d414d569c0dbcf754d935dac99ff10cc9eb04fd7', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 11, 'created': '2022-08-29 07:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20e9793ab13e73840951260d6fdb1b92678da9ac', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 12, 'created': '2022-08-29 17:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b2a7ce9f4ddeea66ec132da73f7e12a1d199aa2', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 13, 'created': '2022-08-30 16:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a48f8f9fa7b390e1771372570196f221b13db0aa', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 14, 'created': '2022-09-02 12:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82bb57152d90a620b2c0fc3b8bff9bdb39671993', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 15, 'created': '2022-10-17 11:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11fa1f70287c0e428e370c6a6145fb50a5d90040', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 16, 'created': '2022-12-21 15:40:32.000000000', 'files': ['nova/tests/functional/libvirt/test_pci_in_placement.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/integrated_helpers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1462883dcc68be1371197264d704a44fcc289dfd', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}]",18,854122,1462883dcc68be1371197264d704a44fcc289dfd,78,4,16,9708,,,0,"Func test for PCI in placement scheduling

This patch adds various functional test cases showing that the placement
allocation candidate restricts the available PCI pools during the run of
the filter scheduler and that the placement PCI allocation later drives
the PCI claim code in the compute.

blueprint: pci-device-tracking-in-placement
Change-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/854122/16 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_pci_in_placement.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py']",2,c563c6fee221e8ac1e504912e81efea0cc24c0eb,bp/pci-device-tracking-in-placement," PCI_RC = f""CUSTOM_PCI_{fakelibvirt.PCI_VEND_ID}_{fakelibvirt.PCI_PROD_ID}"" @staticmethod def _to_device_spec_conf(spec_list): return [jsonutils.dumps(x) for x in spec_list] def setUp(self): super().setUp() self.flags(group=""pci"", report_in_placement=True) # TODO(gibi): replace this with setting the [scheduler]pci_in_placement # confing to True once that config is added self.mock_pci_in_placement_enabled = self.useFixture( fixtures.MockPatch( 'nova.objects.request_spec.RequestSpec.' '_pci_in_placement_enabled', return_value=True ) ).mock compute1_placement_pci_view = { ""inventories"": { ""0000:81:00.0"": {self.PCI_RC: 1}, }, ""traits"": { ""0000:81:00.0"": [], }, ""usages"": { ""0000:81:00.0"": {self.PCI_RC: 0}, }, ""allocations"": {}, } self.assert_placement_pci_view( ""compute1"", **compute1_placement_pci_view) self.assert_placement_pci_view( ""compute1"", **compute1_placement_pci_view) server_with_pci = self._create_server( if self.expected_state == 'ACTIVE': compute1_placement_pci_view[""usages""][ ""0000:81:00.0""][self.PCI_RC] = 1 compute1_placement_pci_view[""allocations""][ server_with_pci['id']] = {""0000:81:00.0"": {self.PCI_RC: 1}} self.assert_placement_pci_view( ""compute1"", **compute1_placement_pci_view) self.assert_no_pci_healing(""compute1"") def setUp(self): super().setUp() self.useFixture( fixtures.MockPatch( 'nova.pci.utils.is_physical_function', return_value=False ) ) def test_create_server_with_pci_dev_and_numa_placement_conflict(self): # fakelibvirt will simulate the devices: # * one type-PCI in 81.00 on numa 0 # * one type-PCI in 81.01 on numa 1 pci_info = fakelibvirt.HostPCIDevicesInfo(num_pci=2) # the device_spec will assign different traits to 81.00 than 81.01 # so the two devices become different from placement perspective device_spec = self._to_device_spec_conf( [ { 'vendor_id': fakelibvirt.PCI_VEND_ID, 'product_id': fakelibvirt.PCI_PROD_ID, ""address"": ""0000:81:00.0"", ""traits"": ""green"", }, { 'vendor_id': fakelibvirt.PCI_VEND_ID, 'product_id': fakelibvirt.PCI_PROD_ID, ""address"": ""0000:81:01.0"", ""traits"": ""red"", }, ] ) self.flags(group='pci', device_spec=device_spec) # both numa 0 and numa 1 has 4 PCPUs self.flags(cpu_dedicated_set='0-7', group='compute') self.start_compute(pci_info=pci_info) compute1_placement_pci_view = { ""inventories"": { ""0000:81:00.0"": {self.PCI_RC: 1}, ""0000:81:01.0"": {self.PCI_RC: 1}, }, ""traits"": { ""0000:81:00.0"": [""CUSTOM_GREEN""], ""0000:81:01.0"": [""CUSTOM_RED""], }, ""usages"": { ""0000:81:00.0"": {self.PCI_RC: 0}, ""0000:81:01.0"": {self.PCI_RC: 0}, }, ""allocations"": {}, } self.assert_placement_pci_view( ""compute1"", **compute1_placement_pci_view) # boot one instance with no PCI device to ""fill up"" NUMA node 0 # so we will have PCPUs on numa 0 and we have PCI on both nodes extra_spec = { 'hw:cpu_policy': 'dedicated', } flavor_id = self._create_flavor(vcpu=4, extra_spec=extra_spec) self._create_server(flavor_id=flavor_id) pci_alias = { ""resource_class"": self.PCI_RC, # this means only 81.00 will match in placement which is on numa 0 ""traits"": ""green"", ""name"": ""pci-dev"", # this forces the scheduler to only accept a solution where the # PCI device is on the same numa node as the pinned CPUs 'numa_policy': fields.PCINUMAAffinityPolicy.REQUIRED, } self.flags( group=""pci"", # FIXME(gibi): make _to_device_spec_conf a general util for both # device spec and pci alias alias=self._to_device_spec_conf([pci_alias]), ) # Ask for dedicated CPUs, that can only be fulfilled on numa 1. # And ask for a PCI alias that can only be fulfilled on numa 0 due to # trait request. # We expect that this makes the scheduling fail. extra_spec = { ""hw:cpu_policy"": ""dedicated"", ""pci_passthrough:alias"": ""pci-dev:1"", } flavor_id = self._create_flavor(extra_spec=extra_spec) server = self._create_server( flavor_id=flavor_id, expected_state=""ERROR"") self.assertIn('fault', server) self.assertIn('No valid host', server['fault']['message']) self.assert_placement_pci_view( ""compute1"", **compute1_placement_pci_view) self.assert_no_pci_healing(""compute1"")"," PCI_RC = f""CUSTOM_PCI_{fakelibvirt.PCI_VEND_ID}_{fakelibvirt.PCI_PROD_ID}"" self._create_server(",257,6
openstack%2Fnova~master~I18bb31e23cc014411db68c31317ed983886d1a8e,openstack/nova,master,I18bb31e23cc014411db68c31317ed983886d1a8e,Store allocated RP in InstancePCIRequest,MERGED,2022-08-23 09:06:35.000000000,2022-12-21 19:21:22.000000000,2022-12-21 19:20:09.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-23 09:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8d47bc7b0d2bff3fb1138cfe0fe6ea646a2e4b6', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 2, 'created': '2022-08-23 11:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4eb32aedd3d55aabc30a0a7b1fc30e0f87958483', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 3, 'created': '2022-08-23 17:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e48e6a00df859d23b437951ad76c983e9f6be3d8', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 4, 'created': '2022-08-24 17:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28f92c5af85c698437180ca76e651636a8436782', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 5, 'created': '2022-08-25 08:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/614cfd41c84a7f6244b49d0a17b547c5f6f468fd', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 6, 'created': '2022-08-26 17:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19022340dbd1a61c56f0234930f2cdf6343665dc', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 7, 'created': '2022-08-28 17:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/adc77d2685c97342d16f4eb3be5cfb50595b7521', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 8, 'created': '2022-08-28 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eee689a843d2ce7f302e5960be2147e6bcfc56aa', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 9, 'created': '2022-08-28 21:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b8f35cd5eb051a3b0c55cc2a27d753f40ca8f78', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 10, 'created': '2022-08-29 07:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51af11e75ffa653ca1dc6646503ff3df3d689fb8', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 11, 'created': '2022-08-29 17:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38d16cd71406700df60893b6114a60b59a5e84c6', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 12, 'created': '2022-08-30 16:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7752b8093b3ea30e33bc06617ef4afba8a0e51c', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 13, 'created': '2022-09-02 12:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a30a5f5f85228fa2d884009585e07d674ab66b05', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 14, 'created': '2022-10-17 11:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18c4def3042b54eee4aa4c20a754e6614d1054b6', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 15, 'created': '2022-12-21 15:40:32.000000000', 'files': ['nova/tests/unit/pci/test_stats.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/tests/unit/compute/test_utils.py', 'nova/tests/unit/compute/test_compute.py', 'nova/conductor/tasks/live_migrate.py', 'nova/compute/manager.py', 'nova/pci/stats.py', 'nova/tests/functional/test_servers_resource_request.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f86f1800f05f42b44e99f565e9718692ee190df5', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}]",21,854121,f86f1800f05f42b44e99f565e9718692ee190df5,90,4,15,9708,,,0,"Store allocated RP in InstancePCIRequest

After the scheduler selected a target host and allocated an allocation
candidate that is passed the filters nova need to make sure that PCI
claim will allocate the real PCI devices from the RP which is allocated
in placement. Placement returns the request group - provider mapping for
each allocation candidate so nova can map which InstancePCIRequest was
fulfilled from which RP in the selected allocation candidate. This
mapping is then recorded in the InstancePCIRequest object and used
during the PCI claim to filter for PCI pools that can be used to claim
PCI devices from.

blueprint: pci-device-tracking-in-placement
Change-Id: I18bb31e23cc014411db68c31317ed983886d1a8e
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/854121/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_utils.py', 'nova/conductor/tasks/live_migrate.py', 'nova/compute/manager.py', 'nova/pci/stats.py', 'nova/compute/utils.py']",5,d8d47bc7b0d2bff3fb1138cfe0fe6ea646a2e4b6,bp/pci-device-tracking-in-placement,"def update_pci_request_with_placement_allocations( def needs_update_due_to_qos(pci_request, mapping): def get_group_mapping_for_flavor_based_pci_request(pci_request, mapping): # NOTE(gibi): for flavor based PCI requests nova generates RequestGroup # suffixes from InstancePCIRequests in the form of # {request_id}-{count_index} # NOTE(gibi): a suffixed request group always fulfilled from a single # RP return { group_id: rp_uuids[0] for group_id, rp_uuids in mapping.items() if group_id.startswith(pci_request.request_id) } for pci_request in pci_requests: mapping = get_group_mapping_for_flavor_based_pci_request( pci_request, provider_mapping) if mapping: for spec in pci_request.spec: # FIXME(gibi): this is baaad but spec is a dict of strings so # we need to serialize spec['rp_uuids'] = ','.join(set(mapping.values())) elif needs_update_due_to_qos(pci_request, provider_mapping):","def update_pci_request_spec_with_allocated_interface_name( def needs_update(pci_request, mapping): for pci_request in pci_requests: if needs_update(pci_request, provider_mapping):",58,22
openstack%2Fgovernance~master~I6ff58fbef50d3fe10f6622330477ada127fcaf18,openstack/governance,master,I6ff58fbef50d3fe10f6622330477ada127fcaf18,Make inactive projects timeline as release milestone-2 of the cycle,MERGED,2022-12-08 23:00:44.000000000,2022-12-21 19:06:22.000000000,2022-12-21 19:05:17.000000000,"[{'_account_id': 308}, {'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 10342}, {'_account_id': 11975}, {'_account_id': 15993}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-08 23:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/8e6e9fabd7fe770ceee01654bcbfd3ddbc50640f', 'message': 'Make inactive projects timeline as release milestone-2 of the cycle\n\nIn current timeline for the inactive projects is the final release\nof the cycle which will be little late for the release team to\nfinish the release work if inactive project become active. Release\nmilestone-2 is better time to do the check if any inactive projects\nneeds to be moved to active or retired.\n\nChange-Id: I6ff58fbef50d3fe10f6622330477ada127fcaf18\n'}, {'number': 2, 'created': '2022-12-13 04:05:27.000000000', 'files': ['reference/emerging-technology-and-inactive-projects.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/38fdf9261d7f2653661ef6cec36e53e1eb29b0fc', 'message': 'Make inactive projects timeline as release milestone-2 of the cycle\n\nIn current timeline for the inactive projects is the final release\nof the cycle which will be little late for the release team to\nfinish the release work if inactive project become active. Release\nmilestone-2 is better time to do the check if any inactive projects\nneeds to be moved to active or retired.\n\nChange-Id: I6ff58fbef50d3fe10f6622330477ada127fcaf18\n'}]",20,867062,38fdf9261d7f2653661ef6cec36e53e1eb29b0fc,23,10,2,8556,,,0,"Make inactive projects timeline as release milestone-2 of the cycle

In current timeline for the inactive projects is the final release
of the cycle which will be little late for the release team to
finish the release work if inactive project become active. Release
milestone-2 is better time to do the check if any inactive projects
needs to be moved to active or retired.

Change-Id: I6ff58fbef50d3fe10f6622330477ada127fcaf18
",git fetch https://review.opendev.org/openstack/governance refs/changes/62/867062/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/emerging-technology-and-inactive-projects.rst'],1,8e6e9fabd7fe770ceee01654bcbfd3ddbc50640f,formal-vote,"the release milestone-2 of the cycle they entered the ``inactive`` state to be become ``active`` again and to be released in that cycle. In the case where an ``inactive`` project does not become ``active`` before the release milestone-2 the cycle, there will be no release of it proposed by the release team in that cycle. In such a case it is up to the project itself to get CI working and propose a release if that is needed. It may be required like that for example when there will be some security fixes or compatibility fixes merged in the project. In the case where an ``inactive`` project still does not become ``active`` during the next cycle after the cycle they entered the ``inactive`` state, TC will discuss with the team if project will be retired before the release milestone-2 of the cycle. In such a case there will be no new releases of that project.","the final release of the cycle they entered the ``inactive`` state to be become ``active`` again and to be released in that cycle. In the case where an ``inactive`` project does not become ``active`` before the end of the cycle, there will be no release of it proposed by the release team in that cycle. In such a case it is up to the project itself to get CI working and propose a release if that is needed. It may be required like that for example when there will be some security fixes or compatibility fixes merged in the project. In the case where an ``inactive`` project still does not become ``active`` during the next cycle after the cycle they entered the ``inactive`` state, TC will discuss with the team if project will be retired before final release in the release cycle. In such a case there will be no new releases of that project.",12,12
openstack%2Fdevstack~stable%2Fwallaby~I572c997507b802e841f2ba3d6e09bea1e04d3113,openstack/devstack,stable/wallaby,I572c997507b802e841f2ba3d6e09bea1e04d3113,DNM: testring tox4,ABANDONED,2022-12-15 18:05:58.000000000,2022-12-21 18:28:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 18:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/aeba52e6e27f659ab2fc153fdbed344d4e039f2c', 'message': 'DNM: testring tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I572c997507b802e841f2ba3d6e09bea1e04d3113\n'}, {'number': 2, 'created': '2022-12-15 18:56:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/774cbac3861c567ff5444053bf62b2efcf460ab6', 'message': 'DNM: testring tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849\n\nChange-Id: I572c997507b802e841f2ba3d6e09bea1e04d3113\n'}]",1,867839,774cbac3861c567ff5444053bf62b2efcf460ab6,5,1,2,8556,,,0,"DNM: testring tox4

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943
Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849

Change-Id: I572c997507b802e841f2ba3d6e09bea1e04d3113
",git fetch https://review.opendev.org/openstack/devstack refs/changes/39/867839/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,aeba52e6e27f659ab2fc153fdbed344d4e039f2c,,#testing tox4,,1,0
openstack%2Fglance~master~I22e177b4acdc29fe082955cc9950531397037580,openstack/glance,master,I22e177b4acdc29fe082955cc9950531397037580,DNM: testing tox4 and pinning on stable branch,ABANDONED,2022-12-15 19:16:46.000000000,2022-12-21 18:28:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 19:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/54954d7a8a1460d6b734b61e51103ef7c5ea2521', 'message': 'DNM: testing tox4 and pinning on stable branch\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849\nChange-Id: I22e177b4acdc29fe082955cc9950531397037580\n'}, {'number': 2, 'created': '2022-12-15 19:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7ccb5908def4b7c658598d4305dee1af6cafdce4', 'message': 'DNM: testing tox4 and pinning on stable branch\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849\nChange-Id: I22e177b4acdc29fe082955cc9950531397037580\n'}, {'number': 3, 'created': '2022-12-15 19:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/72ebee8ddc55fa7a322988107bef92dc0c90a4e9', 'message': 'DNM: testing tox4 and pinning on stable branch\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849\nChange-Id: I22e177b4acdc29fe082955cc9950531397037580\n'}, {'number': 4, 'created': '2022-12-15 19:26:33.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/4cd48d4440ff2a58712025fe9923ffdb201977a1', 'message': 'DNM: testing tox4 and pinning on stable branch\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849\nChange-Id: I22e177b4acdc29fe082955cc9950531397037580\n'}]",1,867893,4cd48d4440ff2a58712025fe9923ffdb201977a1,14,1,4,8556,,,0,"DNM: testing tox4 and pinning on stable branch

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943
Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849
Change-Id: I22e177b4acdc29fe082955cc9950531397037580
",git fetch https://review.opendev.org/openstack/glance refs/changes/93/867893/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,54954d7a8a1460d6b734b61e51103ef7c5ea2521,,whitelist_externals = bash,allowlist_externals = bash,29,29
openstack%2Fneutron~stable%2Fzed~Icec8fee93e64b871999f38674e305238e9705fd4,openstack/neutron,stable/zed,Icec8fee93e64b871999f38674e305238e9705fd4,Fix handling the restart of ovn-controllers,MERGED,2022-12-20 13:03:17.000000000,2022-12-21 18:18:33.000000000,2022-12-21 18:17:04.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 13:03:17.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/99b7acc505598971fb5086c4217e0cd059f22b51', 'message': ""Fix handling the restart of ovn-controllers\n\nThe previous `getattr(old, 'nb_cfg', False)` would evaluate to `False`\nif the `old` row either did not contain a `nb_cfg` value or if the value\nwas 0.\n\nAs 0 is the value set on startup of the ovn-controller this causes the\nneutron-api to ignore any event a ovn-controller directly sends after\nstartup. In turn this causes us to miss the information that the agent\nis synchronized, causing the agent to appear as down, until something\nbumps the `nb_cfg` value globally.\n\nCloses-Bug: #1997982\n\nChange-Id: Icec8fee93e64b871999f38674e305238e9705fd4\n(cherry picked from commit 4cc611d319d0afe1ee04df6e4419014f1133df09)\n""}]",0,868181,99b7acc505598971fb5086c4217e0cd059f22b51,9,3,1,29074,,,0,"Fix handling the restart of ovn-controllers

The previous `getattr(old, 'nb_cfg', False)` would evaluate to `False`
if the `old` row either did not contain a `nb_cfg` value or if the value
was 0.

As 0 is the value set on startup of the ovn-controller this causes the
neutron-api to ignore any event a ovn-controller directly sends after
startup. In turn this causes us to miss the information that the agent
is synchronized, causing the agent to appear as down, until something
bumps the `nb_cfg` value globally.

Closes-Bug: #1997982

Change-Id: Icec8fee93e64b871999f38674e305238e9705fd4
(cherry picked from commit 4cc611d319d0afe1ee04df6e4419014f1133df09)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/868181/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py']",2,99b7acc505598971fb5086c4217e0cd059f22b51,fix_ovn_controller_restart-stable/zed," def test_agent_restart(self): def check_agent_up(): agent = neutron_agent.AgentCache()[self.chassis_name] return agent.alive def check_agent_down(): return not check_agent_up() def check_nb_cfg_timestamp_is_not_null(): agent = neutron_agent.AgentCache()[self.chassis_name] return agent.updated_at != 0 if not self.sb_api.is_table_present('Chassis_Private'): self.skipTest('Ovn sb not support Chassis_Private') # Set nb_cfg to some realistic value, so that the alive check can # actually work self.nb_api.db_set( 'NB_Global', '.', ('nb_cfg', 1337)).execute(check_error=True) self.sb_api.db_set( 'Chassis_Private', self.chassis_name, ('nb_cfg', 1337) ).execute(check_error=True) chassis_uuid = self.sb_api.db_get( 'Chassis', self.chassis_name, 'uuid').execute(check_error=True) self.assertTrue(check_agent_up()) n_utils.wait_until_true(check_nb_cfg_timestamp_is_not_null, timeout=5) # Lets start by shutting down the ovn-controller # (where it will remove the Chassis_Private table entry) self.sb_api.db_destroy( 'Chassis_Private', self.chassis_name).execute(check_error=True) try: n_utils.wait_until_true(check_agent_down, timeout=5) except n_utils.WaitTimeout: self.fail('Agent did not go down after Chassis_Private removal') # Now the ovn-controller starts up again and has not yet synced with # the southbound database self.sb_api.db_create( 'Chassis_Private', name=self.chassis_name, external_ids={}, chassis=chassis_uuid, nb_cfg_timestamp=0, nb_cfg=0 ).execute(check_error=True) self.assertTrue(check_agent_down()) # Now the ovn-controller has synced with the southbound database nb_cfg_timestamp = timeutils.utcnow_ts() * 1000 with self.sb_api.transaction() as txn: txn.add(self.sb_api.db_set('Chassis_Private', self.chassis_name, ('nb_cfg_timestamp', nb_cfg_timestamp))) txn.add(self.sb_api.db_set('Chassis_Private', self.chassis_name, ('nb_cfg', 1337))) try: n_utils.wait_until_true(check_agent_up, timeout=5) except n_utils.WaitTimeout: self.fail('Agent did not go up after sync is done') self.assertTrue(check_nb_cfg_timestamp_is_not_null()) ",,61,1
openstack%2Fneutron~stable%2Fyoga~Icec8fee93e64b871999f38674e305238e9705fd4,openstack/neutron,stable/yoga,Icec8fee93e64b871999f38674e305238e9705fd4,Fix handling the restart of ovn-controllers,MERGED,2022-12-20 13:03:36.000000000,2022-12-21 18:18:31.000000000,2022-12-21 18:17:09.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 13:03:36.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d3fe4f7a2b241544623b90f86c9344cb9cfc91d', 'message': ""Fix handling the restart of ovn-controllers\n\nThe previous `getattr(old, 'nb_cfg', False)` would evaluate to `False`\nif the `old` row either did not contain a `nb_cfg` value or if the value\nwas 0.\n\nAs 0 is the value set on startup of the ovn-controller this causes the\nneutron-api to ignore any event a ovn-controller directly sends after\nstartup. In turn this causes us to miss the information that the agent\nis synchronized, causing the agent to appear as down, until something\nbumps the `nb_cfg` value globally.\n\nCloses-Bug: #1997982\n\nChange-Id: Icec8fee93e64b871999f38674e305238e9705fd4\n(cherry picked from commit 4cc611d319d0afe1ee04df6e4419014f1133df09)\n""}]",0,868182,0d3fe4f7a2b241544623b90f86c9344cb9cfc91d,9,3,1,29074,,,0,"Fix handling the restart of ovn-controllers

The previous `getattr(old, 'nb_cfg', False)` would evaluate to `False`
if the `old` row either did not contain a `nb_cfg` value or if the value
was 0.

As 0 is the value set on startup of the ovn-controller this causes the
neutron-api to ignore any event a ovn-controller directly sends after
startup. In turn this causes us to miss the information that the agent
is synchronized, causing the agent to appear as down, until something
bumps the `nb_cfg` value globally.

Closes-Bug: #1997982

Change-Id: Icec8fee93e64b871999f38674e305238e9705fd4
(cherry picked from commit 4cc611d319d0afe1ee04df6e4419014f1133df09)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/868182/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py']",2,0d3fe4f7a2b241544623b90f86c9344cb9cfc91d,fix_ovn_controller_restart-stable/yoga," def test_agent_restart(self): def check_agent_up(): agent = neutron_agent.AgentCache()[self.chassis_name] return agent.alive def check_agent_down(): return not check_agent_up() def check_nb_cfg_timestamp_is_not_null(): agent = neutron_agent.AgentCache()[self.chassis_name] return agent.updated_at != 0 if not self.sb_api.is_table_present('Chassis_Private'): self.skipTest('Ovn sb not support Chassis_Private') # Set nb_cfg to some realistic value, so that the alive check can # actually work self.nb_api.db_set( 'NB_Global', '.', ('nb_cfg', 1337)).execute(check_error=True) self.sb_api.db_set( 'Chassis_Private', self.chassis_name, ('nb_cfg', 1337) ).execute(check_error=True) chassis_uuid = self.sb_api.db_get( 'Chassis', self.chassis_name, 'uuid').execute(check_error=True) self.assertTrue(check_agent_up()) n_utils.wait_until_true(check_nb_cfg_timestamp_is_not_null, timeout=5) # Lets start by shutting down the ovn-controller # (where it will remove the Chassis_Private table entry) self.sb_api.db_destroy( 'Chassis_Private', self.chassis_name).execute(check_error=True) try: n_utils.wait_until_true(check_agent_down, timeout=5) except n_utils.WaitTimeout: self.fail('Agent did not go down after Chassis_Private removal') # Now the ovn-controller starts up again and has not yet synced with # the southbound database self.sb_api.db_create( 'Chassis_Private', name=self.chassis_name, external_ids={}, chassis=chassis_uuid, nb_cfg_timestamp=0, nb_cfg=0 ).execute(check_error=True) self.assertTrue(check_agent_down()) # Now the ovn-controller has synced with the southbound database nb_cfg_timestamp = timeutils.utcnow_ts() * 1000 with self.sb_api.transaction() as txn: txn.add(self.sb_api.db_set('Chassis_Private', self.chassis_name, ('nb_cfg_timestamp', nb_cfg_timestamp))) txn.add(self.sb_api.db_set('Chassis_Private', self.chassis_name, ('nb_cfg', 1337))) try: n_utils.wait_until_true(check_agent_up, timeout=5) except n_utils.WaitTimeout: self.fail('Agent did not go up after sync is done') self.assertTrue(check_nb_cfg_timestamp_is_not_null()) ",,61,1
openstack%2Fswift~stable%2Fwallaby~Iae28097668213aa0734837ff21aef83251167d19,openstack/swift,stable/wallaby,Iae28097668213aa0734837ff21aef83251167d19,Inline parse_request from cpython,MERGED,2022-12-20 00:15:09.000000000,2022-12-21 18:15:52.000000000,2022-12-21 18:14:44.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 00:15:09.000000000', 'files': ['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/238f7af30298869c14e3dd54858837d65af2f46b', 'message': 'Inline parse_request from cpython\n\nApplied deltas:\n\n- Fix http.client references\n- Inline HTTPStatus codes\n- Address request line splitting (https://bugs.python.org/issue33973)\n- Special-case py2 header-parsing\n- Address multiple leading slashes in request path\n  (https://github.com/python/cpython/issues/99220)\n\nCloses-Bug: #1999278\nChange-Id: Iae28097668213aa0734837ff21aef83251167d19\n(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)\n'}]",1,868141,238f7af30298869c14e3dd54858837d65af2f46b,7,2,1,15343,,,0,"Inline parse_request from cpython

Applied deltas:

- Fix http.client references
- Inline HTTPStatus codes
- Address request line splitting (https://bugs.python.org/issue33973)
- Special-case py2 header-parsing
- Address multiple leading slashes in request path
  (https://github.com/python/cpython/issues/99220)

Closes-Bug: #1999278
Change-Id: Iae28097668213aa0734837ff21aef83251167d19
(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)
",git fetch https://review.opendev.org/openstack/swift refs/changes/41/868141/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py']",2,238f7af30298869c14e3dd54858837d65af2f46b,," if six.PY2: from eventlet.green import httplib as http_client else: from eventlet.green.http import client as http_client """"""Parse a request (inlined from cpython@7e293984). The request should be stored in self.raw_requestline; the results are in self.command, self.path, self.request_version and self.headers. Return True for success, False for failure; on failure, any relevant error response has already been sent back. """""" self.command = None # set in case of error on the first line self.request_version = version = self.default_request_version self.close_connection = True requestline = self.raw_requestline if not six.PY2: requestline = requestline.decode('iso-8859-1') requestline = requestline.rstrip('\r\n') self.requestline = requestline # Split off \x20 explicitly (see https://bugs.python.org/issue33973) words = requestline.split(' ') if len(words) == 0: return False if len(words) >= 3: # Enough to determine protocol version version = words[-1] try: if not version.startswith('HTTP/'): raise ValueError base_version_number = version.split('/', 1)[1] version_number = base_version_number.split(""."") # RFC 2145 section 3.1 says there can be only one ""."" and # - major and minor numbers MUST be treated as # separate integers; # - HTTP/2.4 is a lower version than HTTP/2.13, which in # turn is lower than HTTP/12.3; # - Leading zeros MUST be ignored by recipients. if len(version_number) != 2: raise ValueError version_number = int(version_number[0]), int(version_number[1]) except (ValueError, IndexError): self.send_error( 400, ""Bad request version (%r)"" % version) return False if version_number >= (1, 1) and \ self.protocol_version >= ""HTTP/1.1"": self.close_connection = False if version_number >= (2, 0): self.send_error( 505, ""Invalid HTTP version (%s)"" % base_version_number) return False self.request_version = version if not 2 <= len(words) <= 3: self.send_error( 400, ""Bad request syntax (%r)"" % requestline) return False command, path = words[:2] if len(words) == 2: self.close_connection = True if command != 'GET': self.send_error( 400, ""Bad HTTP/0.9 request type (%r)"" % command) return False self.command, self.path = command, path # Examine the headers and look for a Connection directive. if six.PY2: self.headers = self.MessageClass(self.rfile, 0) else: try: self.headers = http_client.parse_headers( self.rfile, _class=self.MessageClass) except http_client.LineTooLong as err: self.send_error( 431, ""Line too long"", str(err)) return False except http_client.HTTPException as err: self.send_error( 431, ""Too many headers"", str(err) ) return False conntype = self.headers.get('Connection', """") if conntype.lower() == 'close': self.close_connection = True elif (conntype.lower() == 'keep-alive' and self.protocol_version >= ""HTTP/1.1""): self.close_connection = False # Examine the headers and look for an Expect directive expect = self.headers.get('Expect', """") if (expect.lower() == ""100-continue"" and self.protocol_version >= ""HTTP/1.1"" and self.request_version >= ""HTTP/1.1""): if not self.handle_expect_100(): return False return True","from swift.common.swob import wsgi_quote, wsgi_unquote, \ wsgi_quote_plus, wsgi_unquote_plus, wsgi_to_bytes, bytes_to_wsgi # Need to track the bytes-on-the-wire for S3 signatures -- eventlet # would do it for us, but since we rewrite the path on py3, we need to # fix it ourselves later. self.__raw_path_info = None if not six.PY2: # request lines *should* be ascii per the RFC, but historically # we've allowed (and even have func tests that use) arbitrary # bytes. This breaks on py3 (see https://bugs.python.org/issue33973 # ) but the work-around is simple: munge the request line to be # properly quoted. if self.raw_requestline.count(b' ') >= 2: parts = self.raw_requestline.split(b' ', 2) path, q, query = parts[1].partition(b'?') self.__raw_path_info = path # unquote first, so we don't over-quote something # that was *correctly* quoted path = wsgi_to_bytes(wsgi_quote(wsgi_unquote( bytes_to_wsgi(path)))) query = b'&'.join( sep.join([ wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(key)))), wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(val)))) ]) for part in query.split(b'&') for key, sep, val in (part.partition(b'='), )) parts[1] = path + q + query self.raw_requestline = b' '.join(parts) # else, mangled protocol, most likely; let base class deal with it return wsgi.HttpProtocol.parse_request(self) environ['RAW_PATH_INFO'] = bytes_to_wsgi( self.__raw_path_info)",212,78
openstack%2Fswift~stable%2Fwallaby~I35cade2c46eb6acb66c064cde75d78173f46864c,openstack/swift,stable/wallaby,I35cade2c46eb6acb66c064cde75d78173f46864c,Extract SwiftHttpProtocol to its own module,MERGED,2022-12-20 00:15:09.000000000,2022-12-21 18:13:34.000000000,2022-12-21 18:12:35.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 00:15:09.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/common/test_http_protocol.py', 'test/functional/__init__.py', 'test/unit/helpers.py', 'swift/common/http_protocol.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7c8364aeaf7c7ca2faac0bebcccbf3c6a229f845', 'message': 'Extract SwiftHttpProtocol to its own module\n\nChange-Id: I35cade2c46eb6acb66c064cde75d78173f46864c\n(cherry picked from commit 597887dedcf1f2c855edfd1c591d4f30222be580)\n'}]",1,868140,7c8364aeaf7c7ca2faac0bebcccbf3c6a229f845,7,2,1,15343,,,0,"Extract SwiftHttpProtocol to its own module

Change-Id: I35cade2c46eb6acb66c064cde75d78173f46864c
(cherry picked from commit 597887dedcf1f2c855edfd1c591d4f30222be580)
",git fetch https://review.opendev.org/openstack/swift refs/changes/40/868140/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'test/unit/common/test_http_protocol.py', 'test/functional/__init__.py', 'test/unit/helpers.py', 'swift/common/http_protocol.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py']",7,7c8364aeaf7c7ca2faac0bebcccbf3c6a229f845,,from swift.common.swob import Request,"from argparse import Namespaceimport types import eventlet.wsgiimport sixfrom swift.common.swob import Request, wsgi_to_bytesclass TestSwiftHttpProtocol(unittest.TestCase): def _proto_obj(self): # Make an object we can exercise... note the base class's __init__() # does a bunch of work, so we just new up an object like eventlet.wsgi # does. proto_class = wsgi.SwiftHttpProtocol try: the_obj = types.InstanceType(proto_class) except AttributeError: the_obj = proto_class.__new__(proto_class) # Install some convenience mocks the_obj.server = Namespace(app=Namespace(logger=mock.Mock()), url_length_limit=777, log=mock.Mock()) the_obj.send_error = mock.Mock() return the_obj def test_swift_http_protocol_log_request(self): proto_obj = self._proto_obj() self.assertEqual(None, proto_obj.log_request('ignored')) def test_swift_http_protocol_log_message(self): proto_obj = self._proto_obj() proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.error('ERROR WSGI: a%sc', 'b')], proto_obj.server.app.logger.mock_calls) def test_swift_http_protocol_log_message_no_logger(self): # If the app somehow had no logger attribute or it was None, don't blow # up proto_obj = self._proto_obj() delattr(proto_obj.server.app, 'logger') proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.info('ERROR WSGI: a%sc', 'b')], proto_obj.server.log.mock_calls) proto_obj.server.log.reset_mock() proto_obj.server.app.logger = None proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.info('ERROR WSGI: a%sc', 'b')], proto_obj.server.log.mock_calls) def test_swift_http_protocol_parse_request_no_proxy(self): proto_obj = self._proto_obj() proto_obj.raw_requestline = b'jimmy jam' proto_obj.client_address = ('a', '123') self.assertEqual(False, proto_obj.parse_request()) self.assertEqual([ mock.call(400, ""Bad HTTP/0.9 request type ('jimmy')""), ], proto_obj.send_error.mock_calls) self.assertEqual(('a', '123'), proto_obj.client_address) def test_request_line_cleanup(self): def do_test(line_from_socket, expected_line=None): if expected_line is None: expected_line = line_from_socket proto_obj = self._proto_obj() proto_obj.raw_requestline = line_from_socket with mock.patch('swift.common.wsgi.wsgi.HttpProtocol') \ as mock_super: proto_obj.parse_request() self.assertEqual([mock.call.parse_request(proto_obj)], mock_super.mock_calls) self.assertEqual(proto_obj.raw_requestline, expected_line) do_test(b'GET / HTTP/1.1') do_test(b'GET /%FF HTTP/1.1') if not six.PY2: do_test(b'GET /\xff HTTP/1.1', b'GET /%FF HTTP/1.1') do_test(b'PUT /Here%20Is%20A%20SnowMan:\xe2\x98\x83 HTTP/1.0', b'PUT /Here%20Is%20A%20SnowMan%3A%E2%98%83 HTTP/1.0') do_test( b'POST /?and%20it=fixes+params&' b'PALMTREE=\xf0%9f\x8c%b4 HTTP/1.1', b'POST /?and+it=fixes+params&PALMTREE=%F0%9F%8C%B4 HTTP/1.1') class ProtocolTest(unittest.TestCase): def _run_bytes_through_protocol(self, bytes_from_client): rfile = BytesIO(bytes_from_client) wfile = BytesIO() # All this fakery is needed to make the WSGI server process one # connection, possibly with multiple requests, in the main # greenthread. It doesn't hurt correctness if the function is called # in a separate greenthread, but it makes using the debugger harder. class FakeGreenthread(object): def link(self, a_callable, *args): a_callable(self, *args) class FakePool(object): def spawn(self, a_callable, *args, **kwargs): a_callable(*args, **kwargs) return FakeGreenthread() def spawn_n(self, a_callable, *args, **kwargs): a_callable(*args, **kwargs) def waitall(self): pass addr = ('127.0.0.1', 8359) fake_tcp_socket = mock.Mock( setsockopt=lambda *a: None, makefile=lambda mode, bufsize: rfile if 'r' in mode else wfile, getsockname=lambda *a: addr ) fake_listen_socket = mock.Mock( accept=mock.MagicMock( side_effect=[[fake_tcp_socket, addr], # KeyboardInterrupt breaks the WSGI server out of # its infinite accept-process-close loop. KeyboardInterrupt]), getsockname=lambda *a: addr) del fake_listen_socket.do_handshake # If we let the WSGI server close rfile/wfile then we can't access # their contents any more. with mock.patch.object(wfile, 'close', lambda: None), \ mock.patch.object(rfile, 'close', lambda: None): eventlet.wsgi.server( fake_listen_socket, self.app, protocol=self.protocol_class, custom_pool=FakePool(), log_output=False, # quiet the test run ) return wfile.getvalue() class TestSwiftHttpProtocolSomeMore(ProtocolTest): protocol_class = wsgi.SwiftHttpProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) return [wsgi_to_bytes(env['RAW_PATH_INFO'])] def test_simple(self): bytes_out = self._run_bytes_through_protocol(( b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/someurl') def test_quoted(self): bytes_out = self._run_bytes_through_protocol(( b""GET /some%fFpath%D8%AA HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/some%fFpath%D8%AA') def test_messy(self): bytes_out = self._run_bytes_through_protocol(( b""GET /oh\xffboy%what$now%E2%80%bd HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[-1], b'/oh\xffboy%what$now%E2%80%bd') class TestProxyProtocol(ProtocolTest): protocol_class = wsgi.SwiftHttpProxiedProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) body = '\r\n'.join([ 'got addr: %s %s' % ( env.get(""REMOTE_ADDR"", ""<missing>""), env.get(""REMOTE_PORT"", ""<missing>"")), 'on addr: %s %s' % ( env.get(""SERVER_ADDR"", ""<missing>""), env.get(""SERVER_PORT"", ""<missing>"")), 'https is %s (scheme %s)' % ( env.get(""HTTPS"", ""<missing>""), env.get(""wsgi.url_scheme"", ""<missing>"")), ]) + '\r\n' return [body.encode(""utf-8"")] def test_request_with_proxy(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 4433\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-3:], [ b""got addr: 192.168.0.1 56423"", b""on addr: 192.168.0.11 4433"", b""https is <missing> (scheme http)"", ]) def test_request_with_proxy_https(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 443\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-3:], [ b""got addr: 192.168.0.1 56423"", b""on addr: 192.168.0.11 443"", b""https is on (scheme https)"", ]) def test_multiple_requests_with_proxy(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 443\r\n"" b""GET /someurl HTTP/1.1\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" b""GET /otherurl HTTP/1.1\r\n"" b""User-Agent: something or other\r\n"" b""Connection: close\r\n"" b""\r\n"" )) lines = bytes_out.split(b""\r\n"") self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check # the address in the PROXY line is applied to every request addr_lines = [l for l in lines if l.startswith(b""got addr"")] self.assertEqual(addr_lines, [b""got addr: 192.168.0.1 56423""] * 2) addr_lines = [l for l in lines if l.startswith(b""on addr"")] self.assertEqual(addr_lines, [b""on addr: 192.168.0.11 443""] * 2) addr_lines = [l for l in lines if l.startswith(b""https is"")] self.assertEqual(addr_lines, [b""https is on (scheme https)""] * 2) def test_missing_proxy_line(self): bytes_out = self._run_bytes_through_protocol(( # whoops, no PROXY line here b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""400 Invalid PROXY line"", lines[0]) def test_malformed_proxy_lines(self): for bad_line in [b'PROXY jojo', b'PROXYjojo a b c d e', b'PROXY a b c d e', # bad INET protocol and family ]: bytes_out = self._run_bytes_through_protocol(bad_line) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""400 Invalid PROXY line"", lines[0]) def test_unknown_client_addr(self): # For ""UNKNOWN"", the rest of the line before the CRLF may be omitted by # the sender, and the receiver must ignore anything presented before # the CRLF is found. for unknown_line in [b'PROXY UNKNOWN', # mimimal valid unknown b'PROXY UNKNOWNblahblah', # also valid b'PROXY UNKNOWN a b c d']: bytes_out = self._run_bytes_through_protocol(( unknown_line + (b""\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"") )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""200 OK"", lines[0]) def test_address_and_environ(self): # Make an object we can exercise... note the base class's __init__() # does a bunch of work, so we just new up an object like eventlet.wsgi # does. dummy_env = {'OTHER_ENV_KEY': 'OTHER_ENV_VALUE'} mock_protocol = mock.Mock(get_environ=lambda s: dummy_env) patcher = mock.patch( 'swift.common.wsgi.SwiftHttpProtocol', mock_protocol ) self.mock_super = patcher.start() self.addCleanup(patcher.stop) proto_class = wsgi.SwiftHttpProxiedProtocol try: proxy_obj = types.InstanceType(proto_class) except AttributeError: proxy_obj = proto_class.__new__(proto_class) # Install some convenience mocks proxy_obj.server = Namespace(app=Namespace(logger=mock.Mock()), url_length_limit=777, log=mock.Mock()) proxy_obj.send_error = mock.Mock() proxy_obj.rfile = BytesIO( b'PROXY TCP4 111.111.111.111 222.222.222.222 111 222' ) assert proxy_obj.handle() self.assertEqual(proxy_obj.client_address, ('111.111.111.111', '111')) self.assertEqual(proxy_obj.proxy_address, ('222.222.222.222', '222')) expected_env = { 'SERVER_PORT': '222', 'SERVER_ADDR': '222.222.222.222', 'OTHER_ENV_KEY': 'OTHER_ENV_VALUE' } self.assertEqual(proxy_obj.get_environ(), expected_env) ",608,567
openstack%2Fhorizon~stable%2Ftrain~I301336103cabc3f1cab3ee72d7743385ff1a10d6,openstack/horizon,stable/train,I301336103cabc3f1cab3ee72d7743385ff1a10d6,Don't try and update port security if its not changing,NEW,2022-09-24 00:21:52.000000000,2022-12-21 18:11:26.000000000,,"[{'_account_id': 1736}, {'_account_id': 8648}]","[{'number': 1, 'created': '2022-09-24 00:21:52.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/ports/workflows.py', 'openstack_dashboard/dashboards/admin/networks/ports/tests.py', 'openstack_dashboard/dashboards/project/networks/ports/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ec6f8997874220713a663b5a2e4bc43d82e3c5bf', 'message': ""Don't try and update port security if its not changing\n\nDefault policy in neutron doesn't allow port security to change\nif network not owned by the user. To allow users to update other\nattributes of a port don't send port_security_enabled attribute\nto neutron unless it changes.\n\nIf user tries to change port security on a port in a network not\nowned by them it will still error as it does now.\n\nPartial-Bug: #1841050\n\nChange-Id: I301336103cabc3f1cab3ee72d7743385ff1a10d6\n(cherry picked from commit d059b0bc40f04befc60657cd6504cc5711934b90)\n""}]",1,859159,ec6f8997874220713a663b5a2e4bc43d82e3c5bf,4,2,1,30073,,,0,"Don't try and update port security if its not changing

Default policy in neutron doesn't allow port security to change
if network not owned by the user. To allow users to update other
attributes of a port don't send port_security_enabled attribute
to neutron unless it changes.

If user tries to change port security on a port in a network not
owned by them it will still error as it does now.

Partial-Bug: #1841050

Change-Id: I301336103cabc3f1cab3ee72d7743385ff1a10d6
(cherry picked from commit d059b0bc40f04befc60657cd6504cc5711934b90)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/59/859159/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/networks/ports/workflows.py', 'openstack_dashboard/dashboards/admin/networks/ports/tests.py', 'openstack_dashboard/dashboards/project/networks/ports/tests.py']",3,ec6f8997874220713a663b5a2e4bc43d82e3c5bf,bug/1841050-stable/zed-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri-stable/train," self.mock_port_get, 3, if form_data.get('port_security_enabled') == port.port_security_enabled: extension_kwargs.pop('port_security_enabled') self.mock_port_get, 3, if form_data.get('port_security_enabled') == port.port_security_enabled: extension_kwargs.pop('port_security_enabled')"," self.mock_port_get, 2, self.mock_port_get, 2,",22,4
openstack%2Fneutron~stable%2Fxena~Id594003681f4755d8fd1af3b98e281c3109420f6,openstack/neutron,stable/xena,Id594003681f4755d8fd1af3b98e281c3109420f6,Fix bulk create without mac,MERGED,2022-12-21 10:41:03.000000000,2022-12-21 18:10:14.000000000,2022-12-21 18:09:08.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 10:41:03.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffd74968956792555de796016c09d87e357f2632', 'message': 'Fix bulk create without mac\n\nBulk port create without mac address fails as when Neutron calls\noslo_utils.netutils.get_ipv6_addr_by_EUI64, as the mac field of the port\nis an ATTR_NOT_SPECIFIED Sentinel() object.\nWith some reshuffling of the code to fill the mac field this can be\nfixed.\n\nConflicts:\n  neutron/plugins/ml2/plugin.py\n\nCloses-Bug: #1995732\nRelated-Bug: #1954763\n\nChange-Id: Id594003681f4755d8fd1af3b98e281c3109420f6\n(cherry picked from commit f7dd7790f5c6e3149af4680ba521089328d1eb0c)\n(cherry picked from commit 2ed8fa503759433136e9e4aef5d9c7b5bb0aa3c5)\n'}]",1,868278,ffd74968956792555de796016c09d87e357f2632,9,3,1,8313,,,0,"Fix bulk create without mac

Bulk port create without mac address fails as when Neutron calls
oslo_utils.netutils.get_ipv6_addr_by_EUI64, as the mac field of the port
is an ATTR_NOT_SPECIFIED Sentinel() object.
With some reshuffling of the code to fill the mac field this can be
fixed.

Conflicts:
  neutron/plugins/ml2/plugin.py

Closes-Bug: #1995732
Related-Bug: #1954763

Change-Id: Id594003681f4755d8fd1af3b98e281c3109420f6
(cherry picked from commit f7dd7790f5c6e3149af4680ba521089328d1eb0c)
(cherry picked from commit 2ed8fa503759433136e9e4aef5d9c7b5bb0aa3c5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/868278/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py']",2,ffd74968956792555de796016c09d87e357f2632,bug/1995732-stable/zed-stable/yoga-stable/xena,"from neutron_lib.api import converters def allocate_macs_and_ips_for_ports(self, context, ports): macs = self._generate_macs(len(ports)) network_cache = dict() network_id = port['port'].get('network_id') if network_id not in network_cache: network = self.get_network(context, network_id) network_cache[network_id] = network raw_mac_address = port['port'].get('mac_address', const.ATTR_NOT_SPECIFIED) if raw_mac_address is const.ATTR_NOT_SPECIFIED: raw_mac_address = macs.pop() elif self._is_mac_in_use(context, network_id, raw_mac_address): raise exc.MacAddressInUse(net_id=network_id, mac=raw_mac_address) eui_mac_address = converters.convert_to_sanitized_mac_address( raw_mac_address) # Create the Port object # Note: netaddr has an issue with using the correct dialect when # the input for EUI is another EUI object, see: # https://github.com/netaddr/netaddr/issues/250 # TODO(lajoskatona): remove this once # https://review.opendev.org/c/openstack/neutron-lib/+/865517 is # released. port['port']['mac_address'] = str(eui_mac_address) return ports, network_cache port_list, net_cache = self.allocate_macs_and_ips_for_ports( context, port_list) return self._create_port_bulk(context, port_list, net_cache) def _create_port_bulk(self, context, port_list, network_cache): network_id = pdata.get('network_id') network_id=network_id, network = network_cache[network_id] db_port_obj = ports_obj.Port( context, mac_address=netaddr.EUI(port['port']['mac_address'], dialect=eui48.mac_unix_expanded), id=port['port']['id'], **bulk_port_data)"," def allocate_ips_for_ports(self, context, ports): return ports port_list = self.allocate_ips_for_ports(context, port_list) return self._create_port_bulk(context, port_list) def _create_port_bulk(self, context, port_list): network_cache = dict() macs = self._generate_macs(len(port_list)) network_id=pdata.get('network_id'), # Ensure that the networks exist. network_id = pdata.get('network_id') if network_id not in network_cache: network = self.get_network(context, network_id) network_cache[network_id] = network else: network = network_cache[network_id] # Determine the MAC address raw_mac_address = pdata.get('mac_address', const.ATTR_NOT_SPECIFIED) if raw_mac_address is const.ATTR_NOT_SPECIFIED: raw_mac_address = macs.pop() elif self._is_mac_in_use(context, network_id, raw_mac_address): raise exc.MacAddressInUse(net_id=network_id, mac=raw_mac_address) eui_mac_address = netaddr.EUI(raw_mac_address, dialect=eui48.mac_unix_expanded) port['port']['mac_address'] = str(eui_mac_address) # Create the Port object db_port_obj = ports_obj.Port(context, mac_address=eui_mac_address, id=port['port']['id'], **bulk_port_data)",133,32
openstack%2Faodh~stable%2Fussuri~Ief75ccdc0fe5c6a197fc05bc481a5be096447558,openstack/aodh,stable/ussuri,Ief75ccdc0fe5c6a197fc05bc481a5be096447558,Ignore Gnocchi API error when the metric is not yet created,MERGED,2022-12-20 10:06:39.000000000,2022-12-21 17:29:45.000000000,2022-12-21 17:28:33.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 10:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/7a9529542be719ebf0384217208b302b7cd05e09', 'message': 'Ignore Gnocchi API error when the metric is not yet created\n\nChange 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8 replaced usage of\nmetric aggregate API by Dynamic aggregate API.\n\nHowever the Dynamic aggregate API returns a different response code\n(not 404, but 400) in Gnocchi <= 4.4 and this is causing the direct API\nerror when the metric associated with the aggregation does not exist.\n\nThis change adds 400 to the ignored response codes so that Aodh api\ndoes not return error even when the associated metric is not yet\ncreated in Gnocchi.\n\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/868170\n\nCloses-Bug: #1974682\nChange-Id: Ief75ccdc0fe5c6a197fc05bc481a5be096447558\n(cherry picked from commit 214be56b3865d4d5bc30eaf0cb4b56bde9577f8c)\n(cherry picked from commit 2ad64b04e858565fb830ba207841b70edf5ff347)\n(cherry picked from commit 231f404ad13bac69964f19b9b1bfa5a42c1f977a)\n(cherry picked from commit 8454cac06a654bb1e4eea20e6a36417796a94d82)\n(cherry picked from commit 4eaa8d64ece760837243b89caf8e43baf033d975)\n'}, {'number': 2, 'created': '2022-12-20 11:17:23.000000000', 'files': ['aodh/api/controllers/v2/alarm_rules/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/da0fd0ca4b90601ecf27c38b2b7b7aae3a516e90', 'message': 'Ignore Gnocchi API error when the metric is not yet created\n\nChange 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8 replaced usage of\nmetric aggregate API by Dynamic aggregate API.\n\nHowever the Dynamic aggregate API returns a different response code\n(not 404, but 400) in Gnocchi <= 4.4 and this is causing the direct API\nerror when the metric associated with the aggregation does not exist.\n\nThis change adds 400 to the ignored response codes so that Aodh api\ndoes not return error even when the associated metric is not yet\ncreated in Gnocchi.\n\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/868173\n\nCloses-Bug: #1974682\nChange-Id: Ief75ccdc0fe5c6a197fc05bc481a5be096447558\n(cherry picked from commit 214be56b3865d4d5bc30eaf0cb4b56bde9577f8c)\n(cherry picked from commit 2ad64b04e858565fb830ba207841b70edf5ff347)\n(cherry picked from commit 231f404ad13bac69964f19b9b1bfa5a42c1f977a)\n(cherry picked from commit 8454cac06a654bb1e4eea20e6a36417796a94d82)\n(cherry picked from commit 4eaa8d64ece760837243b89caf8e43baf033d975)\n'}]",1,868174,da0fd0ca4b90601ecf27c38b2b7b7aae3a516e90,11,2,2,32240,,,0,"Ignore Gnocchi API error when the metric is not yet created

Change 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8 replaced usage of
metric aggregate API by Dynamic aggregate API.

However the Dynamic aggregate API returns a different response code
(not 404, but 400) in Gnocchi <= 4.4 and this is causing the direct API
error when the metric associated with the aggregation does not exist.

This change adds 400 to the ignored response codes so that Aodh api
does not return error even when the associated metric is not yet
created in Gnocchi.

Depends-On: https://review.opendev.org/c/openstack/aodh/+/868173

Closes-Bug: #1974682
Change-Id: Ief75ccdc0fe5c6a197fc05bc481a5be096447558
(cherry picked from commit 214be56b3865d4d5bc30eaf0cb4b56bde9577f8c)
(cherry picked from commit 2ad64b04e858565fb830ba207841b70edf5ff347)
(cherry picked from commit 231f404ad13bac69964f19b9b1bfa5a42c1f977a)
(cherry picked from commit 8454cac06a654bb1e4eea20e6a36417796a94d82)
(cherry picked from commit 4eaa8d64ece760837243b89caf8e43baf033d975)
",git fetch https://review.opendev.org/openstack/aodh refs/changes/74/868174/1 && git format-patch -1 --stdout FETCH_HEAD,['aodh/api/controllers/v2/alarm_rules/gnocchi.py'],1,7a9529542be719ebf0384217208b302b7cd05e09,bug/1974682-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri," # doesn't exists yet, it doesn't matter. return if e.code == 400 and 'Metrics not found' in e.message[""cause""]: # NOTE(tkajinam): Gnocchi<4.5 returns 400 instead of 404"," # doesn't exists yet, it doesn't matter",4,1
openstack%2Fnova~master~I82c07e9efe2a03a36b89608caacb22e18ae04fb0,openstack/nova,master,I82c07e9efe2a03a36b89608caacb22e18ae04fb0,DNM force latest tox,NEW,2022-12-13 16:16:11.000000000,2022-12-21 17:27:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-13 16:16:11.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/a86fcdcfc741b98412e3661025869c44a144e1b2', 'message': 'DNM force latest tox\n\nThis change will test nova against tox v4 to check compatibility.\n\nChange-Id: I82c07e9efe2a03a36b89608caacb22e18ae04fb0\n'}]",3,867533,a86fcdcfc741b98412e3661025869c44a144e1b2,8,1,1,4146,,,0,"DNM force latest tox

This change will test nova against tox v4 to check compatibility.

Change-Id: I82c07e9efe2a03a36b89608caacb22e18ae04fb0
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/867533/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a86fcdcfc741b98412e3661025869c44a144e1b2,force-tox-v4, vars: # Ensures latest tox is installed. Switch to '<4' to cap to old tox. ensure_tox_version: '',,3,0
openstack%2Fneutron~master~I16e7f3d102f293dbf9e4120236ca3b26fa6e3e18,openstack/neutron,master,I16e7f3d102f293dbf9e4120236ca3b26fa6e3e18,Cleanup py27 support,ABANDONED,2022-08-16 00:53:55.000000000,2022-12-21 17:16:33.000000000,,"[{'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 22348}, {'_account_id': 33543}]","[{'number': 1, 'created': '2022-08-16 00:53:55.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d409b02b535975c5878896da8ef4efccd7a392f', 'message': ""Cleanup py27 support\n\nThis repo is now testing only with Python 3, so let's make\na few cleanups:\n- Remove python 2.7 stanza from setup.py\n\nChange-Id: I16e7f3d102f293dbf9e4120236ca3b26fa6e3e18\n""}]",2,853120,8d409b02b535975c5878896da8ef4efccd7a392f,9,4,1,35058,,,0,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py

Change-Id: I16e7f3d102f293dbf9e4120236ca3b26fa6e3e18
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/853120/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,8d409b02b535975c5878896da8ef4efccd7a392f,,,"# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass ",0,8
openstack%2Fpython-cinderclient~master~If20abef109ddd7107c83b5886beb666a6550a640,openstack/python-cinderclient,master,If20abef109ddd7107c83b5886beb666a6550a640,Python3.11: fix crashes in ShellTest,MERGED,2022-07-28 18:18:17.000000000,2022-12-21 17:04:53.000000000,2022-12-21 17:03:45.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 6476}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 34275}]","[{'number': 1, 'created': '2022-07-28 18:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/1cdadbe28ffdd4075df6ec8a94b9ac6ecd894545', 'message': ""Python3.11: fix crashes in ShellTest\n\nIn Python3.11, global flags must be placed right at the start of a\nregular expression.\n\nThe following regex:\n\n\tr'.*?(?m)^Lists all volumes.',\nmust become:\n\n        r'(?m).*?^Lists all volumes.',\n\nHowever, since we are using re.MULTILINE, we actually do not need to use\na global flag.\n\nThis commit fixes the following tests in Python3.11:\n- cinderclient.tests.unit.test_shell.ShellTest.test_help_arg_no_subcommand\n- cinderclient.tests.unit.test_shell.ShellTest.test_help\n- cinderclient.tests.unit.test_shell.ShellTest.test_help_on_subcommand\n- cinderclient.tests.unit.test_shell.ShellTest.test_help_on_subcommand_mv\n\nCloses-Bug: #1983047\nChange-Id: If20abef109ddd7107c83b5886beb666a6550a640\n""}, {'number': 2, 'created': '2022-12-21 13:31:33.000000000', 'files': ['cinderclient/tests/unit/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/20506ef3a8b5fb1b7a9b0a2c31dbe5f60eea2130', 'message': ""Python3.11: fix crashes in ShellTest\n\nIn Python3.11, global flags must be placed right at the start of a\nregular expression.\n\nThe following regex:\n\n\tr'.*?(?m)^Lists all volumes.',\nmust become:\n\n        r'(?m).*?^Lists all volumes.',\n\nHowever, since we are using re.MULTILINE, we actually do not need to use\na global flag.\n\nThis commit fixes the following tests in Python3.11:\n- cinderclient.tests.unit.test_shell.ShellTest.test_help_arg_no_subcommand\n- cinderclient.tests.unit.test_shell.ShellTest.test_help\n- cinderclient.tests.unit.test_shell.ShellTest.test_help_on_subcommand\n- cinderclient.tests.unit.test_shell.ShellTest.test_help_on_subcommand_mv\n\nCloses-Bug: #1983047\nChange-Id: If20abef109ddd7107c83b5886beb666a6550a640\n""}]",5,851446,20506ef3a8b5fb1b7a9b0a2c31dbe5f60eea2130,14,6,2,8122,,,0,"Python3.11: fix crashes in ShellTest

In Python3.11, global flags must be placed right at the start of a
regular expression.

The following regex:

	r'.*?(?m)^Lists all volumes.',
must become:

        r'(?m).*?^Lists all volumes.',

However, since we are using re.MULTILINE, we actually do not need to use
a global flag.

This commit fixes the following tests in Python3.11:
- cinderclient.tests.unit.test_shell.ShellTest.test_help_arg_no_subcommand
- cinderclient.tests.unit.test_shell.ShellTest.test_help
- cinderclient.tests.unit.test_shell.ShellTest.test_help_on_subcommand
- cinderclient.tests.unit.test_shell.ShellTest.test_help_on_subcommand_mv

Closes-Bug: #1983047
Change-Id: If20abef109ddd7107c83b5886beb666a6550a640
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/46/851446/2 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/tests/unit/test_shell.py'],1,1cdadbe28ffdd4075df6ec8a94b9ac6ecd894545,py311," r'.*?^\s+create\s+Creates a volume.', r'.*?^\s+summary\s+Get volumes summary.', r'.*?^Run ""cinder help SUBCOMMAND"" for help on a subcommand.', r'.*?^Lists all volumes.', r'.*?^Get volumes summary.', r'.*?^\s+create\s+Creates a volume.', r'.*?^\s+summary\s+Get volumes summary.', r'.*?^Run ""cinder help SUBCOMMAND"" for help on a subcommand.',"," r'.*?(?m)^\s+create\s+Creates a volume.', r'.*?(?m)^\s+summary\s+Get volumes summary.', r'.*?(?m)^Run ""cinder help SUBCOMMAND"" for help on a subcommand.', r'.*?(?m)^Lists all volumes.', r'.*?(?m)^Get volumes summary.', r'.*?(?m)^\s+create\s+Creates a volume.', r'.*?(?m)^\s+summary\s+Get volumes summary.', r'.*?(?m)^Run ""cinder help SUBCOMMAND"" for help on a subcommand.',",8,8
openstack%2Fnova~master~I233113283f54c04118689724e18ad29a644dec05,openstack/nova,master,I233113283f54c04118689724e18ad29a644dec05,[doc] Fix BFV Rescue trait name in microversion,MERGED,2022-08-09 10:56:47.000000000,2022-12-21 16:53:58.000000000,2022-12-21 16:52:24.000000000,"[{'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-09 10:56:47.000000000', 'files': ['nova/api/openstack/api_version_request.py', 'nova/api/openstack/compute/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/dbfbe3804f788cb41f81b63d2750b9b64ab190a0', 'message': '[doc] Fix BFV Rescue trait name in microversion\n\nCorrect name used everywhere in code is COMPUTE_RESCUE_BFV.\nThis should be fixed to not confuse users.\n\nChange-Id: I233113283f54c04118689724e18ad29a644dec05\n'}]",3,852543,dbfbe3804f788cb41f81b63d2750b9b64ab190a0,21,3,1,28619,,,0,"[doc] Fix BFV Rescue trait name in microversion

Correct name used everywhere in code is COMPUTE_RESCUE_BFV.
This should be fixed to not confuse users.

Change-Id: I233113283f54c04118689724e18ad29a644dec05
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/852543/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/api_version_request.py', 'nova/api/openstack/compute/rest_api_version_history.rst']",2,dbfbe3804f788cb41f81b63d2750b9b64ab190a0,,reports the ``COMPUTE_RESCUE_BFV`` capability trait.,reports the ``COMPUTE_BFV_RESCUE`` capability trait.,2,2
openstack%2Ftripleo-ci~master~I8d711e6133d93c3d3ccdee57cac968d4e59dda2c,openstack/tripleo-ci,master,I8d711e6133d93c3d3ccdee57cac968d4e59dda2c,DNM: Add gating repo to elements path,ABANDONED,2022-12-21 16:12:45.000000000,2022-12-21 16:45:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-21 16:12:45.000000000', 'files': ['roles/oooci-build-images/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4556c460808f2a783512ba1a234da8b433ad4baf', 'message': 'DNM: Add gating repo to elements path\n\nChange-Id: I8d711e6133d93c3d3ccdee57cac968d4e59dda2c\n'}]",0,868360,4556c460808f2a783512ba1a234da8b433ad4baf,3,1,1,9976,,,0,"DNM: Add gating repo to elements path

Change-Id: I8d711e6133d93c3d3ccdee57cac968d4e59dda2c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/60/868360/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/defaults/main.yaml'],1,4556c460808f2a783512ba1a234da8b433ad4baf,add-gating-elements-path," - ""/etc/yum.repos.d/gating.repo""",,1,0
openstack%2Fovn-octavia-provider~stable%2Fzed~I4a1783c1a0b386a718b85ab264734ab0b7a1debb,openstack/ovn-octavia-provider,stable/zed,I4a1783c1a0b386a718b85ab264734ab0b7a1debb,[Stable only] Remove master jobs from zed branch,MERGED,2022-12-20 16:28:06.000000000,2022-12-21 16:24:02.000000000,2022-12-21 16:21:47.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-12-20 16:28:06.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b621aa85a6466c7c7bb694cee8027270fd3a0e5c', 'message': ""[Stable only] Remove master jobs from zed branch\n\nThis patch removes functional and tempest master jobs which runs\nOVS and OVN from master/main branches. We don't need to test that\nin the stable release. Those jobs should be run in the master branch.\n\nChange-Id: I4a1783c1a0b386a718b85ab264734ab0b7a1debb\n""}]",2,868222,b621aa85a6466c7c7bb694cee8027270fd3a0e5c,13,4,1,34451,,,0,"[Stable only] Remove master jobs from zed branch

This patch removes functional and tempest master jobs which runs
OVS and OVN from master/main branches. We don't need to test that
in the stable release. Those jobs should be run in the master branch.

Change-Id: I4a1783c1a0b386a718b85ab264734ab0b7a1debb
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/22/868222/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/project.yaml']",2,b621aa85a6466c7c7bb694cee8027270fd3a0e5c,,, - ovn-octavia-provider-functional-master - ovn-octavia-provider-tempest-master: voting: false - ovn-octavia-provider-functional-master,0,25
openstack%2Fvenus~master~I3ab727ab468c13d9ef15fb93c61df9330162961e,openstack/venus,master,I3ab727ab468c13d9ef15fb93c61df9330162961e,remove duplicated function get_session,MERGED,2022-12-21 15:53:05.000000000,2022-12-21 16:17:31.000000000,2022-12-21 16:16:34.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-12-21 15:53:05.000000000', 'files': ['venus/modules/custom_config/backends/sql.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/64b8dbc9cad1d2d297535539a77f59878e0ee4ac', 'message': 'remove duplicated function get_session\n\nChange-Id: I3ab727ab468c13d9ef15fb93c61df9330162961e\n'}]",0,868355,64b8dbc9cad1d2d297535539a77f59878e0ee4ac,7,2,1,30455,,,0,"remove duplicated function get_session

Change-Id: I3ab727ab468c13d9ef15fb93c61df9330162961e
",git fetch https://review.opendev.org/openstack/venus refs/changes/55/868355/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/modules/custom_config/backends/sql.py'],1,64b8dbc9cad1d2d297535539a77f59878e0ee4ac,,from venus.db.sqlalchemy.api import get_session,from venus.db.sqlalchemy.api import _create_facade_lazilydef get_session(**kwargs): facade = _create_facade_lazily() return facade.get_session(**kwargs) ,1,6
openstack%2Fosc-placement~master~I1acceed2709ea855b152fe2bf8dae8c9eaf339ca,openstack/osc-placement,master,I1acceed2709ea855b152fe2bf8dae8c9eaf339ca,DNM force latest tox,NEW,2022-12-21 16:02:50.000000000,2022-12-21 16:16:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-21 16:02:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/6706ad63d3ea8e2c00d9af12bf2c3a84aa668975', 'message': 'DNM force latest tox\n\nThis change will test osc-placement against tox v4 to check compatibility.\n\nChange-Id: I1acceed2709ea855b152fe2bf8dae8c9eaf339ca\n'}]",0,868359,6706ad63d3ea8e2c00d9af12bf2c3a84aa668975,2,1,1,9708,,,0,"DNM force latest tox

This change will test osc-placement against tox v4 to check compatibility.

Change-Id: I1acceed2709ea855b152fe2bf8dae8c9eaf339ca
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/59/868359/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6706ad63d3ea8e2c00d9af12bf2c3a84aa668975,force-tox-v4, vars: # Ensures latest tox is installed. ensure_tox_version: '',,3,0
openstack%2Fvenus~master~Ic37a1c7ead6a4f3b4186d35bb459fb3c9f868bd5,openstack/venus,master,Ic37a1c7ead6a4f3b4186d35bb459fb3c9f868bd5,remove duplicated function,MERGED,2022-12-21 14:52:14.000000000,2022-12-21 15:13:45.000000000,2022-12-21 15:12:27.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-12-21 14:52:14.000000000', 'files': ['venus/modules/custom_config/backends/sql.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/58d41110f5432e5c86715c22b7026cab6685e0b4', 'message': 'remove duplicated function\n\nChange-Id: Ic37a1c7ead6a4f3b4186d35bb459fb3c9f868bd5\n'}]",1,868350,58d41110f5432e5c86715c22b7026cab6685e0b4,7,2,1,30455,,,0,"remove duplicated function

Change-Id: Ic37a1c7ead6a4f3b4186d35bb459fb3c9f868bd5
",git fetch https://review.opendev.org/openstack/venus refs/changes/50/868350/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/modules/custom_config/backends/sql.py'],1,58d41110f5432e5c86715c22b7026cab6685e0b4,,from venus.db.sqlalchemy.api import _create_facade_lazily,"import sqlalchemy import threading from oslo_config import cfg from oslo_db import options from oslo_db.sqlalchemy import session as db_session from oslo_log import log as logging import osprofiler.sqlalchemy CONF = cfg.CONF CONF.import_group(""profiler"", ""venus.service"") log = logging.getLogger(__name__) options.set_defaults(CONF, connection='sqlite:///$state_path/venus.sqlite') _LOCK = threading.Lock() _FACADE = None def _create_facade_lazily(): global _LOCK with _LOCK: global _FACADE if _FACADE is None: _FACADE = db_session.EngineFacade( CONF.database.connection, **dict(CONF.database) ) if CONF.profiler.profiler_enabled: if CONF.profiler.trace_sqlalchemy: osprofiler.sqlalchemy.add_tracing(sqlalchemy, _FACADE.get_engine(), ""db"") return _FACADE ",1,43
openstack%2Fnova~master~Ia1b2f2bb267ef2d395b43566f01865ca05816fd0,openstack/nova,master,Ia1b2f2bb267ef2d395b43566f01865ca05816fd0,DNM: Identify why internal_info' isn't being set.,ABANDONED,2022-12-21 10:58:49.000000000,2022-12-21 15:03:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-21 10:58:49.000000000', 'files': ['nova/virt/ironic/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/17ec92107e5b6ca8d226358f247262ac8434bc21', 'message': ""DNM: Identify why internal_info' isn't being set.\n\nI'm pretty sure this is because we're not requesting a microversion,\nbut the resource specifies one so I don't know why that's happening\nif so.\n\nChange-Id: Ia1b2f2bb267ef2d395b43566f01865ca05816fd0\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,868306,17ec92107e5b6ca8d226358f247262ac8434bc21,5,1,1,15334,,,0,"DNM: Identify why internal_info' isn't being set.

I'm pretty sure this is because we're not requesting a microversion,
but the resource specifies one so I don't know why that's happening
if so.

Change-Id: Ia1b2f2bb267ef2d395b43566f01865ca05816fd0
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/868306/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/ironic/driver.py'],1,17ec92107e5b6ca8d226358f247262ac8434bc21,bp/openstacksdk-in-nova,import openstack openstack.enable_logging(debug=True) ports = list(self.ironic_connection.ports(node=node.id)) port_groups = list(self.ironic_connection.port_groups(node=node.id)) openstack.enable_logging(debug=False), ports = self.ironic_connection.ports(node=node.id) port_groups = self.ironic_connection.port_groups(node=node.id),5,2
openstack%2Ftripleo-ci~master~I12d092a8755cb79c39ef6dfaa58fc206f3eb1209,openstack/tripleo-ci,master,I12d092a8755cb79c39ef6dfaa58fc206f3eb1209,Make EDPM jobs to voting and gating,MERGED,2022-12-20 12:05:14.000000000,2022-12-21 14:02:37.000000000,2022-12-21 14:02:37.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-12-20 12:05:14.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/da6738ca2834780e1f8f43501dd2f4346c79c163', 'message': ""Make EDPM jobs to voting and gating\n\nhttps://review.rdoproject.org/r/c/rdo-infra/ci-config/+/46461 moves\nthe promotion criteria. So it's time to make this job\nvoting and gating.\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: I12d092a8755cb79c39ef6dfaa58fc206f3eb1209\n""}]",5,868203,da6738ca2834780e1f8f43501dd2f4346c79c163,12,6,1,12393,,,0,"Make EDPM jobs to voting and gating

https://review.rdoproject.org/r/c/rdo-infra/ci-config/+/46461 moves
the promotion criteria. So it's time to make this job
voting and gating.

Signed-off-by: Chandan Kumar <chkumar@redhat.com>
Change-Id: I12d092a8755cb79c39ef6dfaa58fc206f3eb1209
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/03/868203/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,da6738ca2834780e1f8f43501dd2f4346c79c163,standalone-roles, gate: jobs: - tripleo-ci-centos-9-content-provider - tripleo-ci-centos-9-standalone-external-compute-target-host: *compute_vars, # Note(chandankumar): Gate jobs will be added once these jobs will be voting. voting: false,4,2
openstack%2Ftripleo-upgrade~stable%2Fussuri~I57d6680f16b2bdc9026a3f8175470f35611a6b45,openstack/tripleo-upgrade,stable/ussuri,I57d6680f16b2bdc9026a3f8175470f35611a6b45,Add additional tags to update validations tasks,ABANDONED,2022-12-20 20:13:57.000000000,2022-12-21 13:50:31.000000000,,[],"[{'number': 1, 'created': '2022-12-20 20:13:57.000000000', 'files': ['tasks/update/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/59f344b37458d942b3f2852578fe3f691605f746', 'message': 'Add additional tags to update validations tasks\n\nTo be able to run selectable validations ansible tasks, additional tags\nare added to all update related validations tasks.\nBy introducing this change one can run only specific validations with\nansible tags mechanism.\n\nThese new tags are introduced:\n- pre_update_validations\n- pre_update_prepare_validations\n- pre_update_run_validations\n- post_update_validations\n\nChange-Id: I57d6680f16b2bdc9026a3f8175470f35611a6b45\n(cherry picked from commit 24b382e54a11f991f20975efda4fea2bb84e60a6)\n'}]",0,868186,59f344b37458d942b3f2852578fe3f691605f746,2,0,1,32432,,,0,"Add additional tags to update validations tasks

To be able to run selectable validations ansible tasks, additional tags
are added to all update related validations tasks.
By introducing this change one can run only specific validations with
ansible tags mechanism.

These new tags are introduced:
- pre_update_validations
- pre_update_prepare_validations
- pre_update_run_validations
- post_update_validations

Change-Id: I57d6680f16b2bdc9026a3f8175470f35611a6b45
(cherry picked from commit 24b382e54a11f991f20975efda4fea2bb84e60a6)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/86/868186/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/update/main.yml'],1,59f344b37458d942b3f2852578fe3f691605f746,update-validations-tags-stable/wallaby-stable/ussuri, - pre_update_validations - pre_update_prepare_validations - pre_update_run_validations - post_update_validations,,4,0
openstack%2Ftripleo-upgrade~stable%2Fvictoria~I57d6680f16b2bdc9026a3f8175470f35611a6b45,openstack/tripleo-upgrade,stable/victoria,I57d6680f16b2bdc9026a3f8175470f35611a6b45,Add additional tags to update validations tasks,ABANDONED,2022-12-20 20:13:36.000000000,2022-12-21 13:50:03.000000000,,[],"[{'number': 1, 'created': '2022-12-20 20:13:36.000000000', 'files': ['tasks/update/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5d6cfdebd44b7274bdc97adf998b6898a91f2d99', 'message': 'Add additional tags to update validations tasks\n\nTo be able to run selectable validations ansible tasks, additional tags\nare added to all update related validations tasks.\nBy introducing this change one can run only specific validations with\nansible tags mechanism.\n\nThese new tags are introduced:\n- pre_update_validations\n- pre_update_prepare_validations\n- pre_update_run_validations\n- post_update_validations\n\nChange-Id: I57d6680f16b2bdc9026a3f8175470f35611a6b45\n(cherry picked from commit 24b382e54a11f991f20975efda4fea2bb84e60a6)\n'}]",0,868185,5d6cfdebd44b7274bdc97adf998b6898a91f2d99,2,0,1,32432,,,0,"Add additional tags to update validations tasks

To be able to run selectable validations ansible tasks, additional tags
are added to all update related validations tasks.
By introducing this change one can run only specific validations with
ansible tags mechanism.

These new tags are introduced:
- pre_update_validations
- pre_update_prepare_validations
- pre_update_run_validations
- post_update_validations

Change-Id: I57d6680f16b2bdc9026a3f8175470f35611a6b45
(cherry picked from commit 24b382e54a11f991f20975efda4fea2bb84e60a6)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/85/868185/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/update/main.yml'],1,5d6cfdebd44b7274bdc97adf998b6898a91f2d99,update-validations-tags-stable/wallaby-stable/victoria, - pre_update_validations - pre_update_prepare_validations - pre_update_run_validations - post_update_validations,,4,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I2c7fd4304701f128ec0588c5a2bf4a3c7da842ad,openstack/python-tripleoclient,stable/wallaby,I2c7fd4304701f128ec0588c5a2bf4a3c7da842ad,Fix upgrade playbook path.,MERGED,2022-12-15 10:25:28.000000000,2022-12-21 12:50:48.000000000,2022-12-21 12:49:32.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 10:25:28.000000000', 'files': ['tripleoclient/v1/overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bb01bcdbdc95c4e64594f86fbe2f5e06108ae045', 'message': 'Fix upgrade playbook path.\n\nAnsible is now generated into overcloud-deploy while\nconstants.MAJOR_UPGRADE_PLAYBOOKS is no longer static path within the\nansible execution dir.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\n\nChange-Id: I2c7fd4304701f128ec0588c5a2bf4a3c7da842ad\n(cherry picked from commit fe6a5a30ff45b6d4484c93a1d88f1f88c23eb7ca)\n(cherry picked from commit 4cf89d81712de8003b09ceb78834cf9f10b6ca40)\n'}]",1,867775,bb01bcdbdc95c4e64594f86fbe2f5e06108ae045,8,3,1,31245,,,0,"Fix upgrade playbook path.

Ansible is now generated into overcloud-deploy while
constants.MAJOR_UPGRADE_PLAYBOOKS is no longer static path within the
ansible execution dir.

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>

Change-Id: I2c7fd4304701f128ec0588c5a2bf4a3c7da842ad
(cherry picked from commit fe6a5a30ff45b6d4484c93a1d88f1f88c23eb7ca)
(cherry picked from commit 4cf89d81712de8003b09ceb78834cf9f10b6ca40)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/75/867775/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_upgrade.py'],1,bb01bcdbdc95c4e64594f86fbe2f5e06108ae045,," # NOTE(cloudnull): The string option ""all"" was a special default # that is no longer relevant. To retain compatibility # this condition has been put in place. if not parsed_args.playbook or parsed_args.playbook == ['all']: playbook = [os.path.join(ansible_dir, p) for p in constants.MAJOR_UPGRADE_PLAYBOOKS] else: playbook = parsed_args.playbook "," # NOTE(cloudnull): The string option ""all"" was a special default # that is no longer relevant. To retain compatibility # this condition has been put in place. if not parsed_args.playbook or parsed_args.playbook == ['all']: playbook = constants.MAJOR_UPGRADE_PLAYBOOKS else: playbook = parsed_args.playbook ",9,8
openstack%2Fpython-tripleoclient~stable%2Fzed~Ie6195b629fa65bcf9e5350f73d332e5034e8039b,openstack/python-tripleoclient,stable/zed,Ie6195b629fa65bcf9e5350f73d332e5034e8039b,Make ~/.tripleo/history owned by the correct user,MERGED,2022-12-21 02:10:53.000000000,2022-12-21 12:50:36.000000000,2022-12-21 12:49:30.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-21 02:10:53.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d4b5576c393bc351e8dc5eb4732619441372cba3', 'message': ""Make ~/.tripleo/history owned by the correct user\n\nWhen a tripleo subcommand command is executed with sudo, we identify\nthe original user and create the history file in that user's home\ndirectory.\n\nWhen creating the file, we should make that user owns it, otherwise\nthe user no longer able to run tripleo subcommends without sudo once\nthe history file is created and owned by root.\n\nChange-Id: Ie6195b629fa65bcf9e5350f73d332e5034e8039b\n(cherry picked from commit bd70bcaa2c1f270846538ab8a0eac8f7616672a4)\n""}]",1,868188,d4b5576c393bc351e8dc5eb4732619441372cba3,8,3,1,9816,,,0,"Make ~/.tripleo/history owned by the correct user

When a tripleo subcommand command is executed with sudo, we identify
the original user and create the history file in that user's home
directory.

When creating the file, we should make that user owns it, otherwise
the user no longer able to run tripleo subcommends without sudo once
the history file is created and owned by root.

Change-Id: Ie6195b629fa65bcf9e5350f73d332e5034e8039b
(cherry picked from commit bd70bcaa2c1f270846538ab8a0eac8f7616672a4)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/88/868188/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py']",2,d4b5576c393bc351e8dc5eb4732619441372cba3,," try: os.mkdir(history_path, 0o700) os.chown(history_path, int(os.environ.get('SUDO_UID', -1)), int(os.environ.get('SUDO_GID', -1))) except OSError as e: if e.errno != errno.EEXIST: messages = _(""Unable to create the .tripleo directory: "" ""{0}, {1}"").format(history_path, e) raise IOError(messages) history_file_path = os.path.join(history_path, 'history') with open(history_file_path, 'a') as history: os.chown(history_file_path, int(os.environ.get('SUDO_UID', -1)), int(os.environ.get('SUDO_GID', -1)))"," makedirs(history_path) with open(os.path.join(history_path, 'history'), 'a') as history:",69,23
openstack%2Fdiskimage-builder~master~I1dd6dd932bb5f5d9adac9b78a026569165bd4ea9,openstack/diskimage-builder,master,I1dd6dd932bb5f5d9adac9b78a026569165bd4ea9,Grow thin pool metadata by 1GiB,MERGED,2022-12-19 00:53:40.000000000,2022-12-21 12:28:09.000000000,2022-12-21 04:20:44.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-12-19 00:53:40.000000000', 'files': ['diskimage_builder/elements/growvols/tests/test_growvols.py', 'diskimage_builder/elements/growvols/static/usr/local/sbin/growvols'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/00ca1262872f42991ba3132f662c6a531556ecbb', 'message': 'Grow thin pool metadata by 1GiB\n\nAn LVM thin pool has an associated metadata volume, and it can be\nassumed that the size of this volume on the image is minimized for\ndistribution.\n\nThis change grows the metadata volume by 1GiB, which is recommended[1] as\na reasonable default. This fixes a specific issue with the metadata\nvolume being exausted when growing into a 2TB drive.\n\nOther minor changes include:\n- Human readable printed values have switched to GiB, MiB, KiB, B\n- Growth percentage volumes are adjusted down to not over-provision\n  the thin volume\n\n[1] https://access.redhat.com/solutions/6318131\n\nChange-Id: I1dd6dd932bb5f5d9adac9b78a026569165bd4ea9\nResolves: rhbz#2149586\n'}]",1,868049,00ca1262872f42991ba3132f662c6a531556ecbb,10,4,1,4571,,,0,"Grow thin pool metadata by 1GiB

An LVM thin pool has an associated metadata volume, and it can be
assumed that the size of this volume on the image is minimized for
distribution.

This change grows the metadata volume by 1GiB, which is recommended[1] as
a reasonable default. This fixes a specific issue with the metadata
volume being exausted when growing into a 2TB drive.

Other minor changes include:
- Human readable printed values have switched to GiB, MiB, KiB, B
- Growth percentage volumes are adjusted down to not over-provision
  the thin volume

[1] https://access.redhat.com/solutions/6318131

Change-Id: I1dd6dd932bb5f5d9adac9b78a026569165bd4ea9
Resolves: rhbz#2149586
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/49/868049/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/growvols/tests/test_growvols.py', 'diskimage_builder/elements/growvols/static/usr/local/sbin/growvols']",2,00ca1262872f42991ba3132f662c6a531556ecbb,rhbz/2149586,"UNIT_BYTES_FORMAT = { 'B': 1, 'KiB': 1024, 'MiB': 1048576, 'GiB': 1073741824 } # Grow the thin pool metadata size to 1GiB POOL_METADATA_SIZE = UNIT_BYTES['GiB'] """"""Format a bytes amount with units GiB, MiB etc"""""" for x in ['GiB', 'MiB', 'KiB', 'B']: unit = UNIT_BYTES_FORMAT[x] unit_num = num // unit if unit_num > 0: break return ""%d%s"" % (unit_num, x) thin_pool = find_thin_pool(devices, group) if thin_pool: # total size available, reduced by POOL_METADATA_SIZE # rounded down to whole extent size_bytes -= POOL_METADATA_SIZE size_bytes -= size_bytes % PHYSICAL_EXTENT_BYTES '--poolmetadatasize', '+%sB' % POOL_METADATA_SIZE, ], 'Add %s to thin pool metadata %s' % ( convert_bytes(POOL_METADATA_SIZE), thin_pool))) commands.append(Command([ 'lvextend', '-L+%sB' % size_bytes, thin_pool, dev_path ], 'Add %s to thin pool %s' % (convert_bytes(size_bytes),"," """"""Format a bytes amount with units MB, GB etc"""""" step_unit = 1000.0 for x in ['B', 'KB', 'MB', 'GB', 'TB']: if num < step_unit: return ""%d%s"" % (num, x) num /= step_unit thin_pool = find_thin_pool(devices, group) # total size available, rounded down to whole extents pool_size = size_bytes - size_bytes % PHYSICAL_EXTENT_BYTES '-L+%sB' % pool_size, ], 'Add %s to thin pool %s' % (convert_bytes(pool_size),",44,21
openstack%2Frequirements~stable%2Fussuri~I0a5c86df609c6720d0d905ec2c5664faadd94642,openstack/requirements,stable/ussuri,I0a5c86df609c6720d0d905ec2c5664faadd94642,Use python-ovs 2.16.0 and ovsdbapp 1.14.0,ABANDONED,2022-11-25 11:49:07.000000000,2022-12-21 12:23:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-25 11:49:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c77afa367f1b01f2b52b5fd533fb21a687a60ae3', 'message': 'Use python-ovs 2.16.0 and ovsdbapp 1.14.0\n\nDue to bug [1] CPU time is not yielded to other task\nand notification worker is stuck. That leeds to missing\nOVN notifications, ovsdb access timeouts etc.\n\n1: https://bugs.launchpad.net/os-vif/+bug/1929446\n\nRelated-Bug: #1929446\nChange-Id: I0a5c86df609c6720d0d905ec2c5664faadd94642\n'}]",0,865672,c77afa367f1b01f2b52b5fd533fb21a687a60ae3,3,1,1,30463,,,0,"Use python-ovs 2.16.0 and ovsdbapp 1.14.0

Due to bug [1] CPU time is not yielded to other task
and notification worker is stuck. That leeds to missing
OVN notifications, ovsdb access timeouts etc.

1: https://bugs.launchpad.net/os-vif/+bug/1929446

Related-Bug: #1929446
Change-Id: I0a5c86df609c6720d0d905ec2c5664faadd94642
",git fetch https://review.opendev.org/openstack/requirements refs/changes/72/865672/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c77afa367f1b01f2b52b5fd533fb21a687a60ae3,bug/1929446,ovs===2.16.0ovsdbapp===1.14.0;python_version=='3.6' ovsdbapp===1.14.0;python_version=='3.7' ovsdbapp===1.14.0;python_version=='3.8',ovs===2.11.0ovsdbapp===1.2.3;python_version=='3.6' ovsdbapp===1.2.3;python_version=='3.7' ovsdbapp===1.2.3;python_version=='3.8',4,4
openstack%2Fceilometer~master~I3b4ac918015b2fd3fbe24047c3eb13419f580b27,openstack/ceilometer,master,I3b4ac918015b2fd3fbe24047c3eb13419f580b27,NoUniqueMatch: ClientException on Gnocchi publisher,MERGED,2021-05-21 17:32:32.000000000,2022-12-21 12:17:37.000000000,2022-12-21 12:16:31.000000000,"[{'_account_id': 4264}, {'_account_id': 9542}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32240}]","[{'number': 1, 'created': '2021-05-21 17:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/623df6b03a4af40fa4189d0eb613433dee50e842', 'message': 'NoUniqueMatch: ClientException on Gnocchi publisher\n\nCeilometer can ignore/discard measurements that come from possible\nVMs that can be used to host Gnocchi. The assumption is that one\ncan use OpenStack itself to host the VMs that are used to run Gnocchi.\nThe configuration is called `filter_project`. This configuration can\nbe used in `event_pipeline.yaml` and `pipeline.yaml` configuration files.\n\nHowever, when this config is not used, it has a default project name\nfor Gnocchi as `service`, as we can see in the following code snippet:\n\n```\ndef __init__(self, conf, parsed_url):\n  super(GnocchiPublisher, self).__init__(conf, parsed_url)\n  # TODO(jd) allow to override Gnocchi endpoint via the host in the URL\n  options = urlparse.parse_qs(parsed_url.query)\n\n  self.filter_project = options.get(\'filter_project\', [\'service\'])[-1]\n```\n\nWhich means that if somebody creates a project called `service`, this project would not push measurements to Gnocchi.\n\nThis configuration is then used by the following code:\n\n```\ndef gnocchi_project_id(self):\n       if self._gnocchi_project_id is not None:\n           return self._gnocchi_project_id\n       with self._gnocchi_project_id_lock:\n           if self._gnocchi_project_id is None:\n               try:\n                   project = self._ks_client.projects.find(\n                       name=self.filter_project,\n                       domain=self.filter_domain)\n               except ka_exceptions.NotFound:\n                   LOG.warning(\'filtered project not found in keystone,\'\n                               \' ignoring the filter_project \'\n                               \'option\')\n                   self.filter_project = None\n                   return None\n               except Exception:\n                   LOG.exception(\'fail to retrieve filtered project \')\n                   raise\n               self._gnocchi_project_id = project.id\n               LOG.debug(""filtered project found: %s"",\n                         self._gnocchi_project_id)\n           return self._gnocchi_project_id\n\n```\n\nBasically, this method will look for the project ID of the project\nname that is configured in `filter_project` option. If it does not\nfind any project, it returns None, and it changes the value of\n`filter_project` to None as well. Before this `gnocchi_project_id`\nmethod/property is called, there is a verification if\n`filter_project` is None. Therefore, it is assumed that when we\nset the value of `filter_project` to None, this method\n(`gnocchi_project_id`) would not be called anymore.\nHowever, that is not taking into account concurrency parallel\nexecutions.\n\nIn the code, we can see `with self._gnocchi_project_id_lock:`\nstatement, which seems to execute locking in the execution flow.\nHowever, that will not always be the case because multiple\nconcurrent calls can be queued in that part of the code, and\nwhen the first one finishes setting the `filter_project` to None,\nthe others will execute with this variable as None, which will cause\nKeystone command `self._ks_client.projects.find` to find/list all\nprojects. That command was designed to list/find only one project;\ntherefore, when it finds more than one project, it throws an error.\nThat is the cause for the exception we were seeing from time to time\nin the log files.\n\nChange-Id: I3b4ac918015b2fd3fbe24047c3eb13419f580b27\n'}, {'number': 2, 'created': '2021-05-21 18:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8e3cb833b43b1d895dc644e002fdb75e00f115d4', 'message': 'NoUniqueMatch: ClientException on Gnocchi publisher\n\nCeilometer can ignore/discard measurements that come from possible\nVMs that can be used to host Gnocchi. The assumption is that one\ncan use OpenStack itself to host the VMs that are used to run Gnocchi.\nThe configuration is called `filter_project`. This configuration can\nbe used in `event_pipeline.yaml` and `pipeline.yaml` configuration files.\n\nHowever, when this config is not used, it has a default project name\nfor Gnocchi as `service`, as we can see in the following code snippet:\n\n```\ndef __init__(self, conf, parsed_url):\n  super(GnocchiPublisher, self).__init__(conf, parsed_url)\n  # TODO(jd) allow to override Gnocchi endpoint via the host in the URL\n  options = urlparse.parse_qs(parsed_url.query)\n\n  self.filter_project = options.get(\'filter_project\', [\'service\'])[-1]\n```\n\nWhich means that if somebody creates a project called `service`, this project would not push measurements to Gnocchi.\n\nThis configuration is then used by the following code:\n\n```\ndef gnocchi_project_id(self):\n       if self._gnocchi_project_id is not None:\n           return self._gnocchi_project_id\n       with self._gnocchi_project_id_lock:\n           if self._gnocchi_project_id is None:\n               try:\n                   project = self._ks_client.projects.find(\n                       name=self.filter_project,\n                       domain=self.filter_domain)\n               except ka_exceptions.NotFound:\n                   LOG.warning(\'filtered project not found in keystone,\'\n                               \' ignoring the filter_project \'\n                               \'option\')\n                   self.filter_project = None\n                   return None\n               except Exception:\n                   LOG.exception(\'fail to retrieve filtered project \')\n                   raise\n               self._gnocchi_project_id = project.id\n               LOG.debug(""filtered project found: %s"",\n                         self._gnocchi_project_id)\n           return self._gnocchi_project_id\n\n```\n\nBasically, this method will look for the project ID of the project\nname that is configured in `filter_project` option. If it does not\nfind any project, it returns None, and it changes the value of\n`filter_project` to None as well. Before this `gnocchi_project_id`\nmethod/property is called, there is a verification if\n`filter_project` is None. Therefore, it is assumed that when we\nset the value of `filter_project` to None, this method\n(`gnocchi_project_id`) would not be called anymore.\nHowever, that is not taking into account concurrency parallel\nexecutions.\n\nIn the code, we can see `with self._gnocchi_project_id_lock:`\nstatement, which seems to execute locking in the execution flow.\nHowever, that will not always be the case because multiple\nconcurrent calls can be queued in that part of the code, and\nwhen the first one finishes setting the `filter_project` to None,\nthe others will execute with this variable as None, which will cause\nKeystone command `self._ks_client.projects.find` to find/list all\nprojects. That command was designed to list/find only one project;\ntherefore, when it finds more than one project, it throws an error.\nThat is the cause for the exception we were seeing from time to time\nin the log files.\n\nChange-Id: I3b4ac918015b2fd3fbe24047c3eb13419f580b27\n'}, {'number': 3, 'created': '2022-11-30 11:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a6c00d3f6c7afbe2c6b79d48dc0f4cd53c1df3c2', 'message': 'NoUniqueMatch: ClientException on Gnocchi publisher\n\nCeilometer can ignore/discard measurements that come from possible\nVMs that can be used to host Gnocchi. The assumption is that one\ncan use OpenStack itself to host the VMs that are used to run Gnocchi.\nThe configuration is called `filter_project`. This configuration can\nbe used in `event_pipeline.yaml` and `pipeline.yaml` configuration files.\n\nHowever, when this config is not used, it has a default project name\nfor Gnocchi as `service`, as we can see in the following code snippet:\n\n```\ndef __init__(self, conf, parsed_url):\n  super(GnocchiPublisher, self).__init__(conf, parsed_url)\n  # TODO(jd) allow to override Gnocchi endpoint via the host in the URL\n  options = urlparse.parse_qs(parsed_url.query)\n\n  self.filter_project = options.get(\'filter_project\', [\'service\'])[-1]\n```\n\nWhich means that if somebody creates a project called `service`, this project would not push measurements to Gnocchi.\n\nThis configuration is then used by the following code:\n\n```\ndef gnocchi_project_id(self):\n       if self._gnocchi_project_id is not None:\n           return self._gnocchi_project_id\n       with self._gnocchi_project_id_lock:\n           if self._gnocchi_project_id is None:\n               try:\n                   project = self._ks_client.projects.find(\n                       name=self.filter_project,\n                       domain=self.filter_domain)\n               except ka_exceptions.NotFound:\n                   LOG.warning(\'filtered project not found in keystone,\'\n                               \' ignoring the filter_project \'\n                               \'option\')\n                   self.filter_project = None\n                   return None\n               except Exception:\n                   LOG.exception(\'fail to retrieve filtered project \')\n                   raise\n               self._gnocchi_project_id = project.id\n               LOG.debug(""filtered project found: %s"",\n                         self._gnocchi_project_id)\n           return self._gnocchi_project_id\n\n```\n\nBasically, this method will look for the project ID of the project\nname that is configured in `filter_project` option. If it does not\nfind any project, it returns None, and it changes the value of\n`filter_project` to None as well. Before this `gnocchi_project_id`\nmethod/property is called, there is a verification if\n`filter_project` is None. Therefore, it is assumed that when we\nset the value of `filter_project` to None, this method\n(`gnocchi_project_id`) would not be called anymore.\nHowever, that is not taking into account concurrency parallel\nexecutions.\n\nIn the code, we can see `with self._gnocchi_project_id_lock:`\nstatement, which seems to execute locking in the execution flow.\nHowever, that will not always be the case because multiple\nconcurrent calls can be queued in that part of the code, and\nwhen the first one finishes setting the `filter_project` to None,\nthe others will execute with this variable as None, which will cause\nKeystone command `self._ks_client.projects.find` to find/list all\nprojects. That command was designed to list/find only one project;\ntherefore, when it finds more than one project, it throws an error.\nThat is the cause for the exception we were seeing from time to time\nin the log files.\n\nChange-Id: I3b4ac918015b2fd3fbe24047c3eb13419f580b27\n'}, {'number': 4, 'created': '2022-12-08 13:39:30.000000000', 'files': ['ceilometer/tests/unit/publisher/test_gnocchi.py', 'ceilometer/publisher/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/463594b229017b30a1c457aaf6d4cdfef2bb421c', 'message': 'NoUniqueMatch: ClientException on Gnocchi publisher\n\nCeilometer can ignore/discard measurements that come from possible\nVMs that can be used to host Gnocchi. The assumption is that one\ncan use OpenStack itself to host the VMs that are used to run Gnocchi.\nThe configuration is called `filter_project`. This configuration can\nbe used in `event_pipeline.yaml` and `pipeline.yaml` configuration files.\nHowever, when this config is not used, it has a default project name\nfor Gnocchi as `service`, as we can see in the following code snippet:\n\n```\ndef __init__(self, conf, parsed_url):\n  super(GnocchiPublisher, self).__init__(conf, parsed_url)\n  # TODO(jd) allow to override Gnocchi endpoint via the host in the URL\n  options = urlparse.parse_qs(parsed_url.query)\n  self.filter_project = options.get(\'filter_project\', [\'service\'])[-1]\n```\n\nWhich means that if somebody creates a project called `service`, this project would not push measurements to Gnocchi.\nThis configuration is then used by the following code:\n```\ndef gnocchi_project_id(self):\n       if self._gnocchi_project_id is not None:\n           return self._gnocchi_project_id\n       with self._gnocchi_project_id_lock:\n           if self._gnocchi_project_id is None:\n               try:\n                   project = self._ks_client.projects.find(\n                       name=self.filter_project,\n                       domain=self.filter_domain)\n               except ka_exceptions.NotFound:\n                   LOG.warning(\'filtered project not found in keystone,\'\n                               \' ignoring the filter_project \'\n                               \'option\')\n                   self.filter_project = None\n                   return None\n               except Exception:\n                   LOG.exception(\'fail to retrieve filtered project \')\n                   raise\n               self._gnocchi_project_id = project.id\n               LOG.debug(""filtered project found: %s"",\n                         self._gnocchi_project_id)\n           return self._gnocchi_project_id\n```\n\nBasically, this method will look for the project ID of the project\nname that is configured in `filter_project` option. If it does not\nfind any project, it returns None, and it changes the value of\n`filter_project` to None as well. Before this `gnocchi_project_id`\nmethod/property is called, there is a verification if\n`filter_project` is None. Therefore, it is assumed that when we\nset the value of `filter_project` to None, this method\n(`gnocchi_project_id`) would not be called anymore.\nHowever, that is not taking into account concurrency parallel\nexecutions.\n\nIn the code, we can see `with self._gnocchi_project_id_lock:`\nstatement, which seems to execute locking in the execution flow.\nHowever, that will not always be the case because multiple\nconcurrent calls can be queued in that part of the code, and\nwhen the first one finishes setting the `filter_project` to None,\nthe others will execute with this variable as None, which will cause\nKeystone command `self._ks_client.projects.find` to find/list all\nprojects. That command was designed to list/find only one project;\ntherefore, when it finds more than one project, it throws an error.\nThat is the cause for the exception we were seeing from time to time\nin the log files.\n\nChange-Id: I3b4ac918015b2fd3fbe24047c3eb13419f580b27\n'}]",46,792681,463594b229017b30a1c457aaf6d4cdfef2bb421c,35,5,4,28356,,,0,"NoUniqueMatch: ClientException on Gnocchi publisher

Ceilometer can ignore/discard measurements that come from possible
VMs that can be used to host Gnocchi. The assumption is that one
can use OpenStack itself to host the VMs that are used to run Gnocchi.
The configuration is called `filter_project`. This configuration can
be used in `event_pipeline.yaml` and `pipeline.yaml` configuration files.
However, when this config is not used, it has a default project name
for Gnocchi as `service`, as we can see in the following code snippet:

```
def __init__(self, conf, parsed_url):
  super(GnocchiPublisher, self).__init__(conf, parsed_url)
  # TODO(jd) allow to override Gnocchi endpoint via the host in the URL
  options = urlparse.parse_qs(parsed_url.query)
  self.filter_project = options.get('filter_project', ['service'])[-1]
```

Which means that if somebody creates a project called `service`, this project would not push measurements to Gnocchi.
This configuration is then used by the following code:
```
def gnocchi_project_id(self):
       if self._gnocchi_project_id is not None:
           return self._gnocchi_project_id
       with self._gnocchi_project_id_lock:
           if self._gnocchi_project_id is None:
               try:
                   project = self._ks_client.projects.find(
                       name=self.filter_project,
                       domain=self.filter_domain)
               except ka_exceptions.NotFound:
                   LOG.warning('filtered project not found in keystone,'
                               ' ignoring the filter_project '
                               'option')
                   self.filter_project = None
                   return None
               except Exception:
                   LOG.exception('fail to retrieve filtered project ')
                   raise
               self._gnocchi_project_id = project.id
               LOG.debug(""filtered project found: %s"",
                         self._gnocchi_project_id)
           return self._gnocchi_project_id
```

Basically, this method will look for the project ID of the project
name that is configured in `filter_project` option. If it does not
find any project, it returns None, and it changes the value of
`filter_project` to None as well. Before this `gnocchi_project_id`
method/property is called, there is a verification if
`filter_project` is None. Therefore, it is assumed that when we
set the value of `filter_project` to None, this method
(`gnocchi_project_id`) would not be called anymore.
However, that is not taking into account concurrency parallel
executions.

In the code, we can see `with self._gnocchi_project_id_lock:`
statement, which seems to execute locking in the execution flow.
However, that will not always be the case because multiple
concurrent calls can be queued in that part of the code, and
when the first one finishes setting the `filter_project` to None,
the others will execute with this variable as None, which will cause
Keystone command `self._ks_client.projects.find` to find/list all
projects. That command was designed to list/find only one project;
therefore, when it finds more than one project, it throws an error.
That is the cause for the exception we were seeing from time to time
in the log files.

Change-Id: I3b4ac918015b2fd3fbe24047c3eb13419f580b27
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/81/792681/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/unit/publisher/test_gnocchi.py', 'ceilometer/publisher/gnocchi.py']",2,623df6b03a4af40fa4189d0eb613433dee50e842,fix_gnocchi_project_id_discovery_concurrency_issue-upstream," if self.filter_project: return self._internal_gnocchi_project_discovery() LOG.debug(""Multiple executions were locked on "" ""`self._gnocchi_project_id_lock`. This execution "" ""should no call `_internal_gnocchi_project_discovery` "" ""as `self.filter_project` is None."") def _internal_gnocchi_project_discovery(self): if self._gnocchi_project_id is None: try: project = self._ks_client.projects.find( name=self.filter_project) except ka_exceptions.NotFound: LOG.warning('filtered project [%s] not found in keystone,' ' ignoring the filter_project ' 'option' % self.filter_project) self.filter_project = None return None except Exception: LOG.exception('fail to retrieve filtered project [%s].' % self.filter_project) raise self._gnocchi_project_id = project.id LOG.debug(""filtered project found: %s"", self._gnocchi_project_id) return self._gnocchi_project_id data = self.filter_gnocchi_activity_openstack(data) def filter_gnocchi_activity_openstack(self, samples): """""" Skip sample generated by gnocchi itself This method will filter out the samples that are generated by Gnocchi itself. This will happen when Gnocchi is running in virtual machine instances that are hosted in the OpenStack environment that we gather data from. """""" filtered_samples = [] for sample in samples: if not self._is_gnocchi_activity(sample): filtered_samples.append(sample) LOG.debug(""Sample [%s] is not a Gnocchi activity; therefore, "" ""we do not filter it out and push it to Gnocchi."", sample) else: LOG.debug(""Sample [%s] is a Gnocchi activity; therefore, "" ""we filter it out and do not push it to Gnocchi."", sample) return filtered_samples "," if self._gnocchi_project_id is None: try: project = self._ks_client.projects.find( name=self.filter_project, domain=self.filter_domain) except ka_exceptions.NotFound: LOG.warning('filtered project not found in keystone,' ' ignoring the filter_project ' 'option') self.filter_project = None return None except Exception: LOG.exception('fail to retrieve filtered project ') raise self._gnocchi_project_id = project.id LOG.debug(""filtered project found: %s"", self._gnocchi_project_id) # NOTE(sileht): skip sample generated by gnocchi itself data = [s for s in data if not self._is_gnocchi_activity(s)]",56,22
openstack%2Fovn-octavia-provider~master~I5be9130eb63c03d273fc8dfcc93094204a3ed361,openstack/ovn-octavia-provider,master,I5be9130eb63c03d273fc8dfcc93094204a3ed361,Uncouple HM status of member statuses,MERGED,2022-12-19 15:30:12.000000000,2022-12-21 11:31:07.000000000,2022-12-21 11:30:07.000000000,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-12-19 15:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/232f4af5a9a463b71f39fb4eeeb1937c21682d91', 'message': 'Uncouple status of a new HM according to existing member statuses\n\nWhen a new HM is created, the provisioning status is conditioned\nby the status of the existing members on the pool. At this way when\nany of the member is in ERROR status (e.g. when a member is configure\nwith non existing address) the HM created will be in ERROR status.\n\nIt looks make more sense to warn about the member problem but let the\nHM continue with its normal flow of operation over the possible\nremaining members that exist for the pool on which it is created.\nThis patch remove the break after found an problematic member (port not\nfound) and just warning the issue, but continue with the rest of the\nmembers.\n\nCloses-Bug: #2000071\nChange-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361\n'}, {'number': 2, 'created': '2022-12-20 08:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f6afebf9ec79979354cb72fefc5ced3e4f9cbabb', 'message': 'Uncouple HM status of member statuses\n\nWhen a new HM is created, the provisioning status is conditioned\nby the status of the existing members on the pool. When any of\nthe members are in ERROR status (e.g. when a member is configure\nwith non existing address) the created HM is in ERROR status.\n\nIt makes more sense to warn about the member problem but let the\nHM continue with its normal flow of operation over the possible\nremaining members that exist for the pool on which it is created.\nThis patch removes the break after finding a problematic member \n(port not found) and just log a warning about the issue, but \ncontinue with the rest of the members.\n\nCloses-Bug: #2000071\nChange-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361\n'}, {'number': 3, 'created': '2022-12-20 11:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/7760510730405e9ce83522e69ed79a402ac14c2e', 'message': 'Uncouple HM status of member statuses\n\nWhen a new HM is created, the provisioning status is conditioned\nby the status of the existing members on the pool. When any of\nthe members are in ERROR status (e.g. when a member is configure\nwith non existing address) the created HM is in ERROR status.\n\nIt makes more sense to warn about the member problem but let the\nHM continue with its normal flow of operation over the possible\nremaining members that exist for the pool on which it is created.\nThis patch removes the break after finding a problematic member \n(port not found) and just log a warning about the issue, but \ncontinue with the rest of the members.\n\nCloses-Bug: #2000071\nChange-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361\n'}, {'number': 4, 'created': '2022-12-20 15:04:53.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/548d65d1a50612c6b24f85e6ffbdd1cd32bae8e4', 'message': 'Uncouple HM status of member statuses\n\nWhen a new HM is created, the provisioning status is conditioned\nby the status of the existing members on the pool. When any of\nthe members are in ERROR status (e.g. when a member is configure\nwith non existing address) the created HM is in ERROR status.\n\nIt makes more sense to warn about the member problem but let the\nHM continue with its normal flow of operation over the possible\nremaining members that exist for the pool on which it is created.\nThis patch removes the break after finding a problematic member \n(port not found) and just log a warning about the issue, but \ncontinue with the rest of the members.\n\nCloses-Bug: #2000071\nChange-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361\n'}]",19,868092,548d65d1a50612c6b24f85e6ffbdd1cd32bae8e4,18,3,4,34451,,,0,"Uncouple HM status of member statuses

When a new HM is created, the provisioning status is conditioned
by the status of the existing members on the pool. When any of
the members are in ERROR status (e.g. when a member is configure
with non existing address) the created HM is in ERROR status.

It makes more sense to warn about the member problem but let the
HM continue with its normal flow of operation over the possible
remaining members that exist for the pool on which it is created.
This patch removes the break after finding a problematic member 
(port not found) and just log a warning about the issue, but 
continue with the rest of the members.

Closes-Bug: #2000071
Change-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/92/868092/4 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,232f4af5a9a463b71f39fb4eeeb1937c21682d91,, constants.ACTIVE) constants.ONLINE), constants.ERROR) constants.ERROR),3,3
openstack%2Faodh~stable%2Fwallaby~I6dac8447e50aabb97bdec65c61f46b9bc78002b7,openstack/aodh,stable/wallaby,I6dac8447e50aabb97bdec65c61f46b9bc78002b7,Run TripleO jobs on CentOS8 instead of CentOS7,NEW,2021-09-13 07:43:19.000000000,2022-12-21 11:25:32.000000000,,"[{'_account_id': 4264}, {'_account_id': 8449}, {'_account_id': 13177}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-13 07:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/c76ee8d2e19b24d161f1b62d16546d0105789344', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I6dac8447e50aabb97bdec65c61f46b9bc78002b7\n'}, {'number': 2, 'created': '2021-09-14 12:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/c8164df8cc31f6a903c19791ba6fe7e7ab26f8bd', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I6dac8447e50aabb97bdec65c61f46b9bc78002b7\n'}, {'number': 3, 'created': '2022-01-12 13:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/2a7e05a15a2b13de2200245b3ee940f834edc175', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nBackport note:\nThe stable/xena branch is skipped during this backport because TripleO\nhas no stable/xena release. TripleO jobs will be removed from\nstable/xena by a separate change.\n\nChange-Id: I6dac8447e50aabb97bdec65c61f46b9bc78002b7\n(cherry picked from commit d72944233f3d6abe7d68dc39710f4ccc0f7ac202)\n'}, {'number': 4, 'created': '2022-12-15 12:06:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/aodh/commit/7d48ce940f9f119f34e9df5ff6218c5ac796500f', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nBackport note:\nThe stable/xena branch is skipped during this backport because TripleO\nhas no stable/xena release. TripleO jobs will be removed from\nstable/xena by a separate change.\n\nChange-Id: I6dac8447e50aabb97bdec65c61f46b9bc78002b7\n(cherry picked from commit d72944233f3d6abe7d68dc39710f4ccc0f7ac202)\n'}]",18,808504,7d48ce940f9f119f34e9df5ff6218c5ac796500f,34,4,4,20182,,,0,"Run TripleO jobs on CentOS8 instead of CentOS7

As we are cleaning up the c7 jobs and obselete featuresets [1].
This change replaces usage of CentOS7 in TripleO jobs by CentOS8.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Backport note:
The stable/xena branch is skipped during this backport because TripleO
has no stable/xena release. TripleO jobs will be removed from
stable/xena by a separate change.

Change-Id: I6dac8447e50aabb97bdec65c61f46b9bc78002b7
(cherry picked from commit d72944233f3d6abe7d68dc39710f4ccc0f7ac202)
",git fetch https://review.opendev.org/openstack/aodh refs/changes/04/808504/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c76ee8d2e19b24d161f1b62d16546d0105789344,cleanup_featuresets-stable/wallaby, - tripleo-ci-centos-8-containers-multinode - tripleo-ci-centos-8-scenario001-standalone - tripleo-ci-centos-8-scenario002-standalone, # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario001-multinode-oooq - tripleo-ci-centos-7-scenario001-standalone - tripleo-ci-centos-7-scenario002-multinode-oooq - tripleo-ci-centos-7-scenario002-standalone,3,7
openstack%2Fceilometer~stable%2Fvictoria~Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277,openstack/ceilometer,stable/victoria,Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277,Fix broken test_discovery_with_libvirt_error,MERGED,2022-12-21 09:54:24.000000000,2022-12-21 11:21:50.000000000,2022-12-21 11:20:37.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 09:54:24.000000000', 'files': ['ceilometer/tests/unit/compute/test_discovery.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d2a545adda4b9c5a28addadfd8072904ffa635a5', 'message': 'Fix broken test_discovery_with_libvirt_error\n\nMock only small parts of libvirt not the whole library,\nwhen testing libvirt discovery.\n\nCloses-Bug: #1774292\nChange-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277\n(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)\n(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)\n(cherry picked from commit b80d48afea9ab934e380f277ab92aaf4d45e1297)\n'}]",0,868275,d2a545adda4b9c5a28addadfd8072904ffa635a5,8,2,1,13177,,,0,"Fix broken test_discovery_with_libvirt_error

Mock only small parts of libvirt not the whole library,
when testing libvirt discovery.

Closes-Bug: #1774292
Change-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277
(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)
(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)
(cherry picked from commit b80d48afea9ab934e380f277ab92aaf4d45e1297)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/75/868275/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/tests/unit/compute/test_discovery.py'],1,d2a545adda4b9c5a28addadfd8072904ffa635a5,bug-1774292-stable/victoria," def isAlive(self): return False @mock.patch.object(libvirt, ""VIR_DOMAIN_METADATA_ELEMENT"", 2) @mock.patch.object(libvirt, ""openReadOnly"") def test_discovery_with_libvirt_error(self, openReadOnly): openReadOnly.return_value = FakeManualInstanceConn()"," @mock.patch.object(utils, ""libvirt"") @mock.patch.object(discovery, ""libvirt"") def test_discovery_with_libvirt_error(self, libvirt, libvirt2): libvirt.VIR_DOMAIN_METADATA_ELEMENT = 2 libvirt2.openReadOnly.return_value = FakeManualInstanceConn()",7,5
openstack%2Ftripleo-quickstart-extras~master~I6cdb21b46385017b2c56771e2cf45f340013de02,openstack/tripleo-quickstart-extras,master,I6cdb21b46385017b2c56771e2cf45f340013de02,Run container-prep role before installing standalone,MERGED,2022-12-19 10:59:26.000000000,2022-12-21 11:00:44.000000000,2022-12-21 11:00:44.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-12-19 10:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e2497672871f26ed2eefadaccc1f2b1df933aa63', 'message': 'Run container-prep role before installing standalone\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: I6cdb21b46385017b2c56771e2cf45f340013de02\n'}, {'number': 2, 'created': '2022-12-19 12:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/18cfb71364d75963fe5bf3850ce97ab57f187143', 'message': 'Run container-prep role before installing standalone\n\nIn order to set correct container tag from dlrn md5 sum\nin container-image-prepapre file, we need to run\ncontainer-prep role before deploying standalone.\n\nOtherwise tripleo-ci-testing tag[1] will be used in periodic\nline and this tag does not exists on quay.rdoproject.org.\nIt will fail the standalone deployment with image not found.\n\nThis patch fixes the same and now tag is properly set in\ncontainer-image-prepapre[2].\n\n[1]. https://logserver.rdoproject.org/18/46118/3/check/periodic-tripleo-ci-centos-9-standalone-external-compute-target-host-master/1355bd7/logs/undercloud/home/zuul/containers-prepare-parameters.yaml.txt.gz\n\n[2]. https://logserver.rdoproject.org/18/46118/4/check/periodic-tripleo-ci-centos-9-standalone-external-compute-target-host-master/a572928/logs/undercloud/home/zuul/containers-prepare-parameters.yaml.txt.gz\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: I6cdb21b46385017b2c56771e2cf45f340013de02\n'}, {'number': 3, 'created': '2022-12-20 04:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dda99022c7c706ac61385a89ba4925cf378951c7', 'message': 'Run container-prep role before installing standalone\n\nIn order to set correct container tag from dlrn md5 sum\nin container-image-prepapre file, we need to run\ncontainer-prep role before deploying standalone.\n\nOtherwise tripleo-ci-testing tag[1] will be used in periodic\nline and this tag does not exists on quay.rdoproject.org.\nIt will fail the standalone deployment with image not found.\n\nThis patch fixes the same and now tag is properly set in\ncontainer-image-prepapre[2]. The same tag will be set\nin deploy_compute.sh script.\n\n[1]. https://logserver.rdoproject.org/18/46118/3/check/periodic-tripleo-ci-centos-9-standalone-external-compute-target-host-master/1355bd7/logs/undercloud/home/zuul/containers-prepare-parameters.yaml.txt.gz\n\n[2]. https://logserver.rdoproject.org/18/46118/4/check/periodic-tripleo-ci-centos-9-standalone-external-compute-target-host-master/a572928/logs/undercloud/home/zuul/containers-prepare-parameters.yaml.txt.gz\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: I6cdb21b46385017b2c56771e2cf45f340013de02\n'}, {'number': 4, 'created': '2022-12-20 14:50:22.000000000', 'files': ['roles/external-data-plane-management/tasks/prepare_node.yml', 'roles/external-data-plane-management/tasks/deploy_standalone.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/95291ba130206d8d257c793a9e01dd481985d303', 'message': 'Run container-prep role before installing standalone\n\nIn order to set correct container tag from dlrn md5 sum\nin container-image-prepare file, we need to run\ncontainer-prep role before deploying standalone.\n\nOtherwise tripleo-ci-testing tag[1] will be used in periodic\nline and this tag does not exists on quay.rdoproject.org.\nIt will fail the standalone deployment with image not found.\n\nThis patch fixes the same and now tag is properly set in\ncontainer-image-prepare[2]. The same tag will be set\nin deploy_compute.sh script.\n\n[1]. https://logserver.rdoproject.org/18/46118/3/check/periodic-tripleo-ci-centos-9-standalone-external-compute-target-host-master/1355bd7/logs/undercloud/home/zuul/containers-prepare-parameters.yaml.txt.gz\n\n[2]. https://logserver.rdoproject.org/18/46118/4/check/periodic-tripleo-ci-centos-9-standalone-external-compute-target-host-master/a572928/logs/undercloud/home/zuul/containers-prepare-parameters.yaml.txt.gz\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: I6cdb21b46385017b2c56771e2cf45f340013de02\n'}]",8,868066,95291ba130206d8d257c793a9e01dd481985d303,23,6,4,12393,,,0,"Run container-prep role before installing standalone

In order to set correct container tag from dlrn md5 sum
in container-image-prepare file, we need to run
container-prep role before deploying standalone.

Otherwise tripleo-ci-testing tag[1] will be used in periodic
line and this tag does not exists on quay.rdoproject.org.
It will fail the standalone deployment with image not found.

This patch fixes the same and now tag is properly set in
container-image-prepare[2]. The same tag will be set
in deploy_compute.sh script.

[1]. https://logserver.rdoproject.org/18/46118/3/check/periodic-tripleo-ci-centos-9-standalone-external-compute-target-host-master/1355bd7/logs/undercloud/home/zuul/containers-prepare-parameters.yaml.txt.gz

[2]. https://logserver.rdoproject.org/18/46118/4/check/periodic-tripleo-ci-centos-9-standalone-external-compute-target-host-master/a572928/logs/undercloud/home/zuul/containers-prepare-parameters.yaml.txt.gz

Signed-off-by: Chandan Kumar <chkumar@redhat.com>
Change-Id: I6cdb21b46385017b2c56771e2cf45f340013de02
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/66/868066/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/external-data-plane-management/tasks/deploy_standalone.yml'],1,e2497672871f26ed2eefadaccc1f2b1df933aa63,standalone-roles,- name: Set proper container params before deploying standalone include_role: name: container-prep ,,4,0
openstack%2Fopenstack-ansible~master~Ibcb78ccbe24bd0bd029bf5fa47d631a6d84ad848,openstack/openstack-ansible,master,Ibcb78ccbe24bd0bd029bf5fa47d631a6d84ad848,Allow to skip clone process for some repos,ABANDONED,2022-12-20 13:59:24.000000000,2022-12-21 10:36:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-12-20 13:59:24.000000000', 'files': ['doc/source/reference/configuration/extending-osa.rst', 'scripts/get-ansible-role-requirements.yml', 'scripts/get-ansible-collection-requirements.yml', 'releasenotes/notes/source_required_in_ucc-eefe4f43b893d0e5.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c36c34b9a6496863015e6853d2d391b29726fa36', 'message': 'Allow to skip clone process for some repos\n\nIn environments with limited internet access, it might be handy to avoid\nclonning some collections or roles that are not required for the\ndeployment to reduce amount of local forks/mirrors that needs to be\nmaintained for no good reason.\n\nChange-Id: Ibcb78ccbe24bd0bd029bf5fa47d631a6d84ad848\n'}]",3,868217,c36c34b9a6496863015e6853d2d391b29726fa36,6,2,1,28619,,,0,"Allow to skip clone process for some repos

In environments with limited internet access, it might be handy to avoid
clonning some collections or roles that are not required for the
deployment to reduce amount of local forks/mirrors that needs to be
maintained for no good reason.

Change-Id: Ibcb78ccbe24bd0bd029bf5fa47d631a6d84ad848
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/17/868217/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/configuration/extending-osa.rst', 'scripts/get-ansible-role-requirements.yml', 'scripts/get-ansible-collection-requirements.yml', 'releasenotes/notes/source_required_in_ucc-eefe4f43b893d0e5.yaml']",4,c36c34b9a6496863015e6853d2d391b29726fa36,,"--- other: - | From now on, ``source`` key is required to be present for all overrides in ``user-collection-requirements.yml`` file. If you have defined git path under ``name`` key, please move that to ``source`` and define collection name accordingly. All records that does not have ``source`` defined will be skipped during bootstrap process. ",,23,8
openstack%2Ftap-as-a-service~master~Idc6a224f37b539b1e62b8b9748763207c8e7534d,openstack/tap-as-a-service,master,Idc6a224f37b539b1e62b8b9748763207c8e7534d,DNM: test with tox4,ABANDONED,2022-12-19 11:59:38.000000000,2022-12-21 10:36:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-19 11:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/7e7e0f4c52c93d6592c03ea0c414d2ca236864cf', 'message': 'DNM: test with tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\n\nRelated-Bug: #1999558\n\nChange-Id: Idc6a224f37b539b1e62b8b9748763207c8e7534d\n'}, {'number': 2, 'created': '2022-12-20 12:43:47.000000000', 'files': ['neutron_taas/db/taas_db.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/f103bfe1993dadf3f14d2b6076cf92a9b502b70c', 'message': 'DNM: test with tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\n\nRelated-Bug: #1999558\n\nChange-Id: Idc6a224f37b539b1e62b8b9748763207c8e7534d\n'}]",0,868073,f103bfe1993dadf3f14d2b6076cf92a9b502b70c,5,1,2,8313,,,0,"DNM: test with tox4

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943

Related-Bug: #1999558

Change-Id: Idc6a224f37b539b1e62b8b9748763207c8e7534d
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/73/868073/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_taas/db/taas_db.py'],1,7e7e0f4c52c93d6592c03ea0c414d2ca236864cf,bug/1999558, # Do Not Merge!,,1,0
openstack%2Ftripleo-ansible~master~Ied6fb63ec197cc318143203b4dcb608b42408698,openstack/tripleo-ansible,master,Ied6fb63ec197cc318143203b4dcb608b42408698,Fix indentation error,MERGED,2022-12-15 09:47:55.000000000,2022-12-21 10:07:45.000000000,2022-12-21 10:07:45.000000000,"[{'_account_id': 4264}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 35491}]","[{'number': 1, 'created': '2022-12-15 09:47:55.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/tasks/rsyslog_cleanup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8f6f79ab67bd37cd75ddac5a97cfb7808e55ea14', 'message': 'Fix indentation error\n\nChange-Id: Ied6fb63ec197cc318143203b4dcb608b42408698\n'}]",2,867770,8f6f79ab67bd37cd75ddac5a97cfb7808e55ea14,18,7,1,5241,,,0,"Fix indentation error

Change-Id: Ied6fb63ec197cc318143203b4dcb608b42408698
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/70/867770/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/tasks/rsyslog_cleanup.yml'],1,8f6f79ab67bd37cd75ddac5a97cfb7808e55ea14,indent-error, ignore_errors: yes register: rmcfg, ignore_errors: yes register: rmcfg,2,2
openstack%2Fnetworking-generic-switch~master~I1f9abcc011387535263b5214c631dcfd5094beb9,openstack/networking-generic-switch,master,I1f9abcc011387535263b5214c631dcfd5094beb9,Add SONiC devices to docs page,MERGED,2022-12-20 18:31:00.000000000,2022-12-21 09:54:40.000000000,2022-12-21 09:53:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-12-20 18:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/569bd5d722728e19747e79e6392c43094cf3322e', 'message': 'Add SONiC devices to docs page\n\nSigned-off-by: Graham Hayes <gr@ham.ie>\nChange-Id: I1f9abcc011387535263b5214c631dcfd5094beb9\n'}, {'number': 2, 'created': '2022-12-20 18:57:03.000000000', 'files': ['doc/source/supported-devices.rst'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/c83ad2fd061830bafa619cc1f34943fb9c9b8279', 'message': 'Add SONiC devices to docs page\n\nSigned-off-by: Graham Hayes <gr@ham.ie>\nChange-Id: I1f9abcc011387535263b5214c631dcfd5094beb9\n'}]",0,868235,c83ad2fd061830bafa619cc1f34943fb9c9b8279,10,3,2,8099,,,0,"Add SONiC devices to docs page

Signed-off-by: Graham Hayes <gr@ham.ie>
Change-Id: I1f9abcc011387535263b5214c631dcfd5094beb9
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/35/868235/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/supported-devices.rst'],1,569bd5d722728e19747e79e6392c43094cf3322e,add-sonic-doc,* SONiC swtiches,,1,0
openstack%2Fskyline-console~master~I104495a2b7c9937a9e6e922c4fac00d3f4178235,openstack/skyline-console,master,I104495a2b7c9937a9e6e922c4fac00d3f4178235,fix: seprate clusters and templates by different project,MERGED,2022-12-21 05:59:31.000000000,2022-12-21 08:58:38.000000000,2022-12-21 08:57:37.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-12-21 05:59:31.000000000', 'files': ['src/stores/magnum/clusterAdmin.js', 'src/stores/magnum/clusterTemplates.js', 'src/stores/keystone/project.js', 'src/stores/magnum/clusterTemplatesAdmin.js', 'src/pages/container-infra/containers/ClusterTemplates/index.jsx', 'src/pages/container-infra/containers/Clusters/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/583386d2ce194f56890a967640a26db432ea326b', 'message': 'fix: seprate clusters and templates by different project\n\n1.use detail api to fetch list in console but no detail in administrator\n2.fix the used quota with clusters detail api\n\nChange-Id: I104495a2b7c9937a9e6e922c4fac00d3f4178235\n'}]",0,868259,583386d2ce194f56890a967640a26db432ea326b,7,2,1,33689,,,0,"fix: seprate clusters and templates by different project

1.use detail api to fetch list in console but no detail in administrator
2.fix the used quota with clusters detail api

Change-Id: I104495a2b7c9937a9e6e922c4fac00d3f4178235
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/59/868259/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/stores/magnum/clusterAdmin.js', 'src/stores/magnum/clusterTemplates.js', 'src/stores/keystone/project.js', 'src/stores/magnum/clusterTemplatesAdmin.js', 'src/pages/container-infra/containers/ClusterTemplates/index.jsx', 'src/pages/container-infra/containers/Clusters/index.jsx']",6,583386d2ce194f56890a967640a26db432ea326b,fix-magnum-bugs,import { ClustersStore } from 'stores/magnum/clusters'; import { ClustersAdminStore } from 'stores/magnum/clusterAdmin'; if (this.isAdminPage) { this.store = new ClustersAdminStore(); } else { this.store = new ClustersStore(); },import globalClustersStore from 'src/stores/magnum/clusters'; this.store = globalClustersStore;,68,6
openstack%2Fceilometer~stable%2Fwallaby~I78e9fbe9d60b3e83761f6490d25e85ad54fcc7c4,openstack/ceilometer,stable/wallaby,I78e9fbe9d60b3e83761f6490d25e85ad54fcc7c4,Fix OutgoingBytesDeltaPollster sample name,MERGED,2022-12-06 19:30:02.000000000,2022-12-21 08:58:02.000000000,2022-12-21 08:56:54.000000000,"[{'_account_id': 4264}, {'_account_id': 11583}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-06 19:30:02.000000000', 'files': ['ceilometer/compute/pollsters/net.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/da7f5bd2b1486b70f3e0763e686fe06a11c9ded9', 'message': 'Fix OutgoingBytesDeltaPollster sample name\n\nThe good name is network.outgoing.bytes.delta.\n\nChange-Id: I78e9fbe9d60b3e83761f6490d25e85ad54fcc7c4\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n(cherry picked from commit 7a507457cb5180296922d1f533751259dee7a19c)\n(cherry picked from commit 5d246c6ceaff22eca7eaa1591bdecd8818aef555)\n'}]",1,866659,da7f5bd2b1486b70f3e0763e686fe06a11c9ded9,9,3,1,7294,,,0,"Fix OutgoingBytesDeltaPollster sample name

The good name is network.outgoing.bytes.delta.

Change-Id: I78e9fbe9d60b3e83761f6490d25e85ad54fcc7c4
Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
(cherry picked from commit 7a507457cb5180296922d1f533751259dee7a19c)
(cherry picked from commit 5d246c6ceaff22eca7eaa1591bdecd8818aef555)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/59/866659/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/compute/pollsters/net.py'],1,da7f5bd2b1486b70f3e0763e686fe06a11c9ded9,, sample_name = 'network.outgoing.bytes.delta', sample_name = 'network.outgoing.packets.delta',1,1
openstack%2Fswift~stable%2Fxena~Iae28097668213aa0734837ff21aef83251167d19,openstack/swift,stable/xena,Iae28097668213aa0734837ff21aef83251167d19,Inline parse_request from cpython,MERGED,2022-12-20 00:14:30.000000000,2022-12-21 08:28:23.000000000,2022-12-21 08:26:31.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 00:14:30.000000000', 'files': ['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a196790cc7cda5be866aac1301b10a4ee81e1a68', 'message': 'Inline parse_request from cpython\n\nApplied deltas:\n\n- Fix http.client references\n- Inline HTTPStatus codes\n- Address request line splitting (https://bugs.python.org/issue33973)\n- Special-case py2 header-parsing\n- Address multiple leading slashes in request path\n  (https://github.com/python/cpython/issues/99220)\n\nCloses-Bug: #1999278\nChange-Id: Iae28097668213aa0734837ff21aef83251167d19\n(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)\n'}]",1,868139,a196790cc7cda5be866aac1301b10a4ee81e1a68,8,2,1,15343,,,0,"Inline parse_request from cpython

Applied deltas:

- Fix http.client references
- Inline HTTPStatus codes
- Address request line splitting (https://bugs.python.org/issue33973)
- Special-case py2 header-parsing
- Address multiple leading slashes in request path
  (https://github.com/python/cpython/issues/99220)

Closes-Bug: #1999278
Change-Id: Iae28097668213aa0734837ff21aef83251167d19
(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/868139/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py']",2,a196790cc7cda5be866aac1301b10a4ee81e1a68,," if six.PY2: from eventlet.green import httplib as http_client else: from eventlet.green.http import client as http_client """"""Parse a request (inlined from cpython@7e293984). The request should be stored in self.raw_requestline; the results are in self.command, self.path, self.request_version and self.headers. Return True for success, False for failure; on failure, any relevant error response has already been sent back. """""" self.command = None # set in case of error on the first line self.request_version = version = self.default_request_version self.close_connection = True requestline = self.raw_requestline if not six.PY2: requestline = requestline.decode('iso-8859-1') requestline = requestline.rstrip('\r\n') self.requestline = requestline # Split off \x20 explicitly (see https://bugs.python.org/issue33973) words = requestline.split(' ') if len(words) == 0: return False if len(words) >= 3: # Enough to determine protocol version version = words[-1] try: if not version.startswith('HTTP/'): raise ValueError base_version_number = version.split('/', 1)[1] version_number = base_version_number.split(""."") # RFC 2145 section 3.1 says there can be only one ""."" and # - major and minor numbers MUST be treated as # separate integers; # - HTTP/2.4 is a lower version than HTTP/2.13, which in # turn is lower than HTTP/12.3; # - Leading zeros MUST be ignored by recipients. if len(version_number) != 2: raise ValueError version_number = int(version_number[0]), int(version_number[1]) except (ValueError, IndexError): self.send_error( 400, ""Bad request version (%r)"" % version) return False if version_number >= (1, 1) and \ self.protocol_version >= ""HTTP/1.1"": self.close_connection = False if version_number >= (2, 0): self.send_error( 505, ""Invalid HTTP version (%s)"" % base_version_number) return False self.request_version = version if not 2 <= len(words) <= 3: self.send_error( 400, ""Bad request syntax (%r)"" % requestline) return False command, path = words[:2] if len(words) == 2: self.close_connection = True if command != 'GET': self.send_error( 400, ""Bad HTTP/0.9 request type (%r)"" % command) return False self.command, self.path = command, path # Examine the headers and look for a Connection directive. if six.PY2: self.headers = self.MessageClass(self.rfile, 0) else: try: self.headers = http_client.parse_headers( self.rfile, _class=self.MessageClass) except http_client.LineTooLong as err: self.send_error( 431, ""Line too long"", str(err)) return False except http_client.HTTPException as err: self.send_error( 431, ""Too many headers"", str(err) ) return False conntype = self.headers.get('Connection', """") if conntype.lower() == 'close': self.close_connection = True elif (conntype.lower() == 'keep-alive' and self.protocol_version >= ""HTTP/1.1""): self.close_connection = False # Examine the headers and look for an Expect directive expect = self.headers.get('Expect', """") if (expect.lower() == ""100-continue"" and self.protocol_version >= ""HTTP/1.1"" and self.request_version >= ""HTTP/1.1""): if not self.handle_expect_100(): return False return True","from swift.common.swob import wsgi_quote, wsgi_unquote, \ wsgi_quote_plus, wsgi_unquote_plus, wsgi_to_bytes, bytes_to_wsgi # Need to track the bytes-on-the-wire for S3 signatures -- eventlet # would do it for us, but since we rewrite the path on py3, we need to # fix it ourselves later. self.__raw_path_info = None if not six.PY2: # request lines *should* be ascii per the RFC, but historically # we've allowed (and even have func tests that use) arbitrary # bytes. This breaks on py3 (see https://bugs.python.org/issue33973 # ) but the work-around is simple: munge the request line to be # properly quoted. if self.raw_requestline.count(b' ') >= 2: parts = self.raw_requestline.split(b' ', 2) path, q, query = parts[1].partition(b'?') self.__raw_path_info = path # unquote first, so we don't over-quote something # that was *correctly* quoted path = wsgi_to_bytes(wsgi_quote(wsgi_unquote( bytes_to_wsgi(path)))) query = b'&'.join( sep.join([ wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(key)))), wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(val)))) ]) for part in query.split(b'&') for key, sep, val in (part.partition(b'='), )) parts[1] = path + q + query self.raw_requestline = b' '.join(parts) # else, mangled protocol, most likely; let base class deal with it return wsgi.HttpProtocol.parse_request(self) environ['RAW_PATH_INFO'] = bytes_to_wsgi( self.__raw_path_info)",212,78
openstack%2Fswift~stable%2Fxena~I35cade2c46eb6acb66c064cde75d78173f46864c,openstack/swift,stable/xena,I35cade2c46eb6acb66c064cde75d78173f46864c,Extract SwiftHttpProtocol to its own module,MERGED,2022-12-20 00:14:30.000000000,2022-12-21 08:27:31.000000000,2022-12-21 08:26:28.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 00:14:30.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/common/test_http_protocol.py', 'test/functional/__init__.py', 'test/unit/helpers.py', 'swift/common/http_protocol.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/75aae4c1b9b582ee0d447b40167fd0dee0c008c9', 'message': 'Extract SwiftHttpProtocol to its own module\n\nChange-Id: I35cade2c46eb6acb66c064cde75d78173f46864c\n(cherry picked from commit 597887dedcf1f2c855edfd1c591d4f30222be580)\n'}]",1,868138,75aae4c1b9b582ee0d447b40167fd0dee0c008c9,8,2,1,15343,,,0,"Extract SwiftHttpProtocol to its own module

Change-Id: I35cade2c46eb6acb66c064cde75d78173f46864c
(cherry picked from commit 597887dedcf1f2c855edfd1c591d4f30222be580)
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/868138/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'test/unit/common/test_http_protocol.py', 'test/functional/__init__.py', 'test/unit/helpers.py', 'swift/common/http_protocol.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py']",7,75aae4c1b9b582ee0d447b40167fd0dee0c008c9,,from swift.common.swob import Request,"from argparse import Namespaceimport types import eventlet.wsgiimport sixfrom swift.common.swob import Request, wsgi_to_bytesclass TestSwiftHttpProtocol(unittest.TestCase): def _proto_obj(self): # Make an object we can exercise... note the base class's __init__() # does a bunch of work, so we just new up an object like eventlet.wsgi # does. proto_class = wsgi.SwiftHttpProtocol try: the_obj = types.InstanceType(proto_class) except AttributeError: the_obj = proto_class.__new__(proto_class) # Install some convenience mocks the_obj.server = Namespace(app=Namespace(logger=mock.Mock()), url_length_limit=777, log=mock.Mock()) the_obj.send_error = mock.Mock() return the_obj def test_swift_http_protocol_log_request(self): proto_obj = self._proto_obj() self.assertEqual(None, proto_obj.log_request('ignored')) def test_swift_http_protocol_log_message(self): proto_obj = self._proto_obj() proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.error('ERROR WSGI: a%sc', 'b')], proto_obj.server.app.logger.mock_calls) def test_swift_http_protocol_log_message_no_logger(self): # If the app somehow had no logger attribute or it was None, don't blow # up proto_obj = self._proto_obj() delattr(proto_obj.server.app, 'logger') proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.info('ERROR WSGI: a%sc', 'b')], proto_obj.server.log.mock_calls) proto_obj.server.log.reset_mock() proto_obj.server.app.logger = None proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.info('ERROR WSGI: a%sc', 'b')], proto_obj.server.log.mock_calls) def test_swift_http_protocol_parse_request_no_proxy(self): proto_obj = self._proto_obj() proto_obj.raw_requestline = b'jimmy jam' proto_obj.client_address = ('a', '123') self.assertEqual(False, proto_obj.parse_request()) self.assertEqual([ mock.call(400, ""Bad HTTP/0.9 request type ('jimmy')""), ], proto_obj.send_error.mock_calls) self.assertEqual(('a', '123'), proto_obj.client_address) def test_request_line_cleanup(self): def do_test(line_from_socket, expected_line=None): if expected_line is None: expected_line = line_from_socket proto_obj = self._proto_obj() proto_obj.raw_requestline = line_from_socket with mock.patch('swift.common.wsgi.wsgi.HttpProtocol') \ as mock_super: proto_obj.parse_request() self.assertEqual([mock.call.parse_request(proto_obj)], mock_super.mock_calls) self.assertEqual(proto_obj.raw_requestline, expected_line) do_test(b'GET / HTTP/1.1') do_test(b'GET /%FF HTTP/1.1') if not six.PY2: do_test(b'GET /\xff HTTP/1.1', b'GET /%FF HTTP/1.1') do_test(b'PUT /Here%20Is%20A%20SnowMan:\xe2\x98\x83 HTTP/1.0', b'PUT /Here%20Is%20A%20SnowMan%3A%E2%98%83 HTTP/1.0') do_test( b'POST /?and%20it=fixes+params&' b'PALMTREE=\xf0%9f\x8c%b4 HTTP/1.1', b'POST /?and+it=fixes+params&PALMTREE=%F0%9F%8C%B4 HTTP/1.1') class ProtocolTest(unittest.TestCase): def _run_bytes_through_protocol(self, bytes_from_client): rfile = BytesIO(bytes_from_client) wfile = BytesIO() # All this fakery is needed to make the WSGI server process one # connection, possibly with multiple requests, in the main # greenthread. It doesn't hurt correctness if the function is called # in a separate greenthread, but it makes using the debugger harder. class FakeGreenthread(object): def link(self, a_callable, *args): a_callable(self, *args) class FakePool(object): def spawn(self, a_callable, *args, **kwargs): a_callable(*args, **kwargs) return FakeGreenthread() def spawn_n(self, a_callable, *args, **kwargs): a_callable(*args, **kwargs) def waitall(self): pass addr = ('127.0.0.1', 8359) fake_tcp_socket = mock.Mock( setsockopt=lambda *a: None, makefile=lambda mode, bufsize: rfile if 'r' in mode else wfile, getsockname=lambda *a: addr ) fake_listen_socket = mock.Mock( accept=mock.MagicMock( side_effect=[[fake_tcp_socket, addr], # KeyboardInterrupt breaks the WSGI server out of # its infinite accept-process-close loop. KeyboardInterrupt]), getsockname=lambda *a: addr) del fake_listen_socket.do_handshake # If we let the WSGI server close rfile/wfile then we can't access # their contents any more. with mock.patch.object(wfile, 'close', lambda: None), \ mock.patch.object(rfile, 'close', lambda: None): eventlet.wsgi.server( fake_listen_socket, self.app, protocol=self.protocol_class, custom_pool=FakePool(), log_output=False, # quiet the test run ) return wfile.getvalue() class TestSwiftHttpProtocolSomeMore(ProtocolTest): protocol_class = wsgi.SwiftHttpProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) return [wsgi_to_bytes(env['RAW_PATH_INFO'])] def test_simple(self): bytes_out = self._run_bytes_through_protocol(( b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/someurl') def test_quoted(self): bytes_out = self._run_bytes_through_protocol(( b""GET /some%fFpath%D8%AA HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/some%fFpath%D8%AA') def test_messy(self): bytes_out = self._run_bytes_through_protocol(( b""GET /oh\xffboy%what$now%E2%80%bd HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[-1], b'/oh\xffboy%what$now%E2%80%bd') class TestProxyProtocol(ProtocolTest): protocol_class = wsgi.SwiftHttpProxiedProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) body = '\r\n'.join([ 'got addr: %s %s' % ( env.get(""REMOTE_ADDR"", ""<missing>""), env.get(""REMOTE_PORT"", ""<missing>"")), 'on addr: %s %s' % ( env.get(""SERVER_ADDR"", ""<missing>""), env.get(""SERVER_PORT"", ""<missing>"")), 'https is %s (scheme %s)' % ( env.get(""HTTPS"", ""<missing>""), env.get(""wsgi.url_scheme"", ""<missing>"")), ]) + '\r\n' return [body.encode(""utf-8"")] def test_request_with_proxy(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 4433\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-3:], [ b""got addr: 192.168.0.1 56423"", b""on addr: 192.168.0.11 4433"", b""https is <missing> (scheme http)"", ]) def test_request_with_proxy_https(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 443\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-3:], [ b""got addr: 192.168.0.1 56423"", b""on addr: 192.168.0.11 443"", b""https is on (scheme https)"", ]) def test_multiple_requests_with_proxy(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 443\r\n"" b""GET /someurl HTTP/1.1\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" b""GET /otherurl HTTP/1.1\r\n"" b""User-Agent: something or other\r\n"" b""Connection: close\r\n"" b""\r\n"" )) lines = bytes_out.split(b""\r\n"") self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check # the address in the PROXY line is applied to every request addr_lines = [l for l in lines if l.startswith(b""got addr"")] self.assertEqual(addr_lines, [b""got addr: 192.168.0.1 56423""] * 2) addr_lines = [l for l in lines if l.startswith(b""on addr"")] self.assertEqual(addr_lines, [b""on addr: 192.168.0.11 443""] * 2) addr_lines = [l for l in lines if l.startswith(b""https is"")] self.assertEqual(addr_lines, [b""https is on (scheme https)""] * 2) def test_missing_proxy_line(self): bytes_out = self._run_bytes_through_protocol(( # whoops, no PROXY line here b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""400 Invalid PROXY line"", lines[0]) def test_malformed_proxy_lines(self): for bad_line in [b'PROXY jojo', b'PROXYjojo a b c d e', b'PROXY a b c d e', # bad INET protocol and family ]: bytes_out = self._run_bytes_through_protocol(bad_line) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""400 Invalid PROXY line"", lines[0]) def test_unknown_client_addr(self): # For ""UNKNOWN"", the rest of the line before the CRLF may be omitted by # the sender, and the receiver must ignore anything presented before # the CRLF is found. for unknown_line in [b'PROXY UNKNOWN', # mimimal valid unknown b'PROXY UNKNOWNblahblah', # also valid b'PROXY UNKNOWN a b c d']: bytes_out = self._run_bytes_through_protocol(( unknown_line + (b""\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"") )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""200 OK"", lines[0]) def test_address_and_environ(self): # Make an object we can exercise... note the base class's __init__() # does a bunch of work, so we just new up an object like eventlet.wsgi # does. dummy_env = {'OTHER_ENV_KEY': 'OTHER_ENV_VALUE'} mock_protocol = mock.Mock(get_environ=lambda s: dummy_env) patcher = mock.patch( 'swift.common.wsgi.SwiftHttpProtocol', mock_protocol ) self.mock_super = patcher.start() self.addCleanup(patcher.stop) proto_class = wsgi.SwiftHttpProxiedProtocol try: proxy_obj = types.InstanceType(proto_class) except AttributeError: proxy_obj = proto_class.__new__(proto_class) # Install some convenience mocks proxy_obj.server = Namespace(app=Namespace(logger=mock.Mock()), url_length_limit=777, log=mock.Mock()) proxy_obj.send_error = mock.Mock() proxy_obj.rfile = BytesIO( b'PROXY TCP4 111.111.111.111 222.222.222.222 111 222' ) assert proxy_obj.handle() self.assertEqual(proxy_obj.client_address, ('111.111.111.111', '111')) self.assertEqual(proxy_obj.proxy_address, ('222.222.222.222', '222')) expected_env = { 'SERVER_PORT': '222', 'SERVER_ADDR': '222.222.222.222', 'OTHER_ENV_KEY': 'OTHER_ENV_VALUE' } self.assertEqual(proxy_obj.get_environ(), expected_env) ",608,567
openstack%2Foslo.messaging~master~I81167eea0a6b1a43a88baa3bc383af684f4b1345,openstack/oslo.messaging,master,I81167eea0a6b1a43a88baa3bc383af684f4b1345,Remove logging from ProducerConnection._produce_message,MERGED,2022-08-02 12:51:42.000000000,2022-12-21 07:47:17.000000000,2022-12-21 07:46:22.000000000,"[{'_account_id': 9816}, {'_account_id': 11583}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27442}, {'_account_id': 28522}, {'_account_id': 30491}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-08-02 12:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1efdc7a8e4ae4fa1972d735364537c532cf34f86', 'message': 'Remove logging from ProducerConnection._produce_message\n\nIn impl_kafka, _produce_message is run in a tpool.execute\ncontext but it was also calling logging functions.\nThis could cause subsequent calls to logging functions to\ndeadlock.\n\nThis patch moves the logging calls out of the tpool.execute scope.\n\nChange-Id: I81167eea0a6b1a43a88baa3bc383af684f4b1345\nCloses-bug: #1981093\n'}, {'number': 2, 'created': '2022-08-03 12:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d97ceb6e32c3e26f31ef0532750cdf3f011e0848', 'message': 'Remove logging from ProducerConnection._produce_message\n\nIn impl_kafka, _produce_message is run in a tpool.execute\ncontext but it was also calling logging functions.\nThis could cause subsequent calls to logging functions to\ndeadlock.\n\nThis patch moves the logging calls out of the tpool.execute scope.\n\nChange-Id: I81167eea0a6b1a43a88baa3bc383af684f4b1345\nCloses-bug: #1981093\n'}, {'number': 3, 'created': '2022-08-03 15:35:26.000000000', 'files': ['oslo_messaging/_drivers/impl_kafka.py', 'releasenotes/notes/bug-1981093-kafka-dont-log-in-tpool-execute-fa50ceee2d55ebae.yaml', 'oslo_messaging/tests/drivers/test_impl_kafka.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/43f2224aacb668aa51de3d1274ff8939d8aa73ae', 'message': 'Remove logging from ProducerConnection._produce_message\n\nIn impl_kafka, _produce_message is run in a tpool.execute\ncontext but it was also calling logging functions.\nThis could cause subsequent calls to logging functions to\ndeadlock.\n\nThis patch moves the logging calls out of the tpool.execute scope.\n\nChange-Id: I81167eea0a6b1a43a88baa3bc383af684f4b1345\nCloses-bug: #1981093\n'}]",12,851852,43f2224aacb668aa51de3d1274ff8939d8aa73ae,24,8,3,9642,,,0,"Remove logging from ProducerConnection._produce_message

In impl_kafka, _produce_message is run in a tpool.execute
context but it was also calling logging functions.
This could cause subsequent calls to logging functions to
deadlock.

This patch moves the logging calls out of the tpool.execute scope.

Change-Id: I81167eea0a6b1a43a88baa3bc383af684f4b1345
Closes-bug: #1981093
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/52/851852/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_kafka.py'],1,1efdc7a8e4ae4fa1972d735364537c532cf34f86,," def _produce_message(self, topic, message, poll): if poll: self.producer.poll(poll) try: self.producer.produce(topic, message) except KafkaException as e: self.producer.poll(0) raise e except BufferError as e: # We'll have to poll next time raise e poll = 0 while True: try: if eventletutils.is_monkey_patched('thread'): return tpool.execute(self._produce_message, topic, message, poll) return self._produce_message(topic, message, poll) except KafkaException as e: LOG.error(""Produce message failed: %s"" % str(e)) break except BufferError: LOG.debug(""Produce message queue full, "" ""waiting for deliveries"") # We'll retry with .5s polling poll = 0.5 "," def _produce_message(self, topic, message): while True: try: self.producer.produce(topic, message) except KafkaException as e: LOG.error(""Produce message failed: %s"" % str(e)) except BufferError: LOG.debug(""Produce message queue full, waiting for deliveries"") self.producer.poll(0.5) continue break if eventletutils.is_monkey_patched('thread'): return tpool.execute(self._produce_message, topic, message) return self._produce_message(topic, message)",27,15
openstack%2Fceilometer~stable%2Fwallaby~Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277,openstack/ceilometer,stable/wallaby,Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277,Fix broken test_discovery_with_libvirt_error,MERGED,2022-08-09 10:38:50.000000000,2022-12-21 07:40:15.000000000,2022-12-21 07:39:14.000000000,"[{'_account_id': 4264}, {'_account_id': 7294}, {'_account_id': 13177}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-09 10:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/cd2ef4f6950d9db3a29cfb7e32b21e0576f28f55', 'message': 'Fix broken test_discovery_with_libvirt_error\n\nMock only small parts of libvirt not the whole library,\nwhen testing libvirt discovery.\n\nCloses-Bug: #1774292\nChange-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277\n(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)\n(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)\n'}, {'number': 2, 'created': '2022-08-10 12:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/4f3948896f1dffd4fc598f88e14e3abeed23b5d8', 'message': 'Fix broken test_discovery_with_libvirt_error\n\nMock only small parts of libvirt not the whole library,\nwhen testing libvirt discovery.\n\nCloses-Bug: #1774292\nChange-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277\n(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)\n(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)\n'}, {'number': 3, 'created': '2022-08-30 17:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6bb38d8b3fe2880b7ae5696371e889e203640701', 'message': 'Fix broken test_discovery_with_libvirt_error\n\nMock only small parts of libvirt not the whole library,\nwhen testing libvirt discovery.\n\nCloses-Bug: #1774292\nChange-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277\n(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)\n(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)\n'}, {'number': 4, 'created': '2022-09-01 12:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f5850b342eee4e9469fbee5b5c604e321196aa2d', 'message': 'Fix broken test_discovery_with_libvirt_error\n\nMock only small parts of libvirt not the whole library,\nwhen testing libvirt discovery.\n\nCloses-Bug: #1774292\nChange-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277\n(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)\n(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)\n'}, {'number': 5, 'created': '2022-12-15 13:06:29.000000000', 'files': ['ceilometer/tests/unit/compute/test_discovery.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b80d48afea9ab934e380f277ab92aaf4d45e1297', 'message': 'Fix broken test_discovery_with_libvirt_error\n\nMock only small parts of libvirt not the whole library,\nwhen testing libvirt discovery.\n\nCloses-Bug: #1774292\nChange-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277\n(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)\n(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)\n'}]",8,852492,b80d48afea9ab934e380f277ab92aaf4d45e1297,28,4,5,13177,,,0,"Fix broken test_discovery_with_libvirt_error

Mock only small parts of libvirt not the whole library,
when testing libvirt discovery.

Closes-Bug: #1774292
Change-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277
(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)
(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/92/852492/4 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/tests/unit/compute/test_discovery.py'],1,cd2ef4f6950d9db3a29cfb7e32b21e0576f28f55,bug-1774292," def isAlive(self): return False @mock.patch.object(libvirt, ""VIR_DOMAIN_METADATA_ELEMENT"", 2) @mock.patch.object(libvirt, ""openReadOnly"") def test_discovery_with_libvirt_error(self, openReadOnly): openReadOnly.return_value = FakeManualInstanceConn()"," @mock.patch.object(utils, ""libvirt"") @mock.patch.object(discovery, ""libvirt"") def test_discovery_with_libvirt_error(self, libvirt, libvirt2): libvirt.VIR_DOMAIN_METADATA_ELEMENT = 2 libvirt2.openReadOnly.return_value = FakeManualInstanceConn()",7,5
openstack%2Fceilometer~master~I14f9e1cbe84a953b092c3a88345d5faa9bcc9fb2,openstack/ceilometer,master,I14f9e1cbe84a953b092c3a88345d5faa9bcc9fb2,Change oslo_cache implementation,MERGED,2022-11-08 09:19:26.000000000,2022-12-21 07:40:12.000000000,2022-12-21 07:39:12.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-08 09:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b808a8ed3940b1605f95eb0882b61aece51856bc', 'message': ""Change oslo_cache implementation\n\nAs of now to leverage caching, oslo_cache library has to be imported\nand configured everytime it's needed.\n\nThis change migrates such implementatio to use `cache_utils.py`\nwhich returns a cache client to perform caching operations. This\neliminates the purpose of importing oslo_cache everytime when needed.\n\nTo get a cache client:\n```\nfrom ceilometer import cache_utils\n.\ncache_client = cache_utils.get_client(conf)\n```\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I14f9e1cbe84a953b092c3a88345d5faa9bcc9fb2\n""}, {'number': 2, 'created': '2022-11-18 10:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d958dd24a902366ab2def5ae93a866f2775487aa', 'message': ""Change oslo_cache implementation\n\nAs of now to leverage caching, oslo_cache library has to be imported\nand configured everytime it's needed.\n\nThis change migrates such implementatio to use `cache_utils.py`\nwhich returns a cache client to perform caching operations. This\neliminates the purpose of importing oslo_cache everytime when needed.\n\nTo get a cache client:\n```\nfrom ceilometer import cache_utils\n.\ncache_client = cache_utils.get_client(conf)\n```\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I14f9e1cbe84a953b092c3a88345d5faa9bcc9fb2\n""}, {'number': 3, 'created': '2022-11-21 05:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c879d8bb8fcc29fba1c02415e087c70fb9bee4f3', 'message': ""Change oslo_cache implementation\n\nAs of now to leverage caching, oslo_cache library has to be imported\nand configured everytime it's needed.\n\nThis change migrates such implementatio to use `cache_utils.py`\nwhich returns a cache client to perform caching operations. This\neliminates the purpose of importing oslo_cache everytime when needed.\n\nTo get a cache client:\n```\nfrom ceilometer import cache_utils\n.\ncache_client = cache_utils.get_client(conf)\n```\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I14f9e1cbe84a953b092c3a88345d5faa9bcc9fb2\n""}, {'number': 4, 'created': '2022-11-21 05:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/75d00101a8bd9d7c425bf5ab274c49c8938fc811', 'message': ""Change oslo_cache implementation\n\nAs of now to leverage caching, oslo_cache library has to be imported\nand configured everytime it's needed.\n\nThis change migrates such implementatio to use `cache_utils.py`\nwhich returns a cache client to perform caching operations. This\neliminates the purpose of importing oslo_cache everytime when needed.\n\nTo get a cache client:\n```\nfrom ceilometer import cache_utils\n.\ncache_client = cache_utils.get_client(conf)\n```\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I14f9e1cbe84a953b092c3a88345d5faa9bcc9fb2\n""}, {'number': 5, 'created': '2022-11-21 05:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/fd76aa2b6cd55a50fe1dfb9d743d8ced8f3abf15', 'message': ""Change oslo_cache implementation\n\nAs of now to leverage caching, oslo_cache library has to be imported\nand configured everytime it's needed.\n\nThis change migrates such implementatio to use `cache_utils.py`\nwhich returns a cache client to perform caching operations. This\neliminates the purpose of importing oslo_cache everytime when needed.\n\nTo get a cache client:\n```\nfrom ceilometer import cache_utils\n.\ncache_client = cache_utils.get_client(conf)\n```\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I14f9e1cbe84a953b092c3a88345d5faa9bcc9fb2\n""}, {'number': 6, 'created': '2022-11-21 13:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7d0f3a4fafea8adac8f373beb810b707d8512f62', 'message': ""Change oslo_cache implementation\n\nAs of now to leverage caching, oslo_cache library has to be imported\nand configured everytime it's needed.\n\nThis change migrates such implementatio to use `cache_utils.py`\nwhich returns a cache client to perform caching operations. This\neliminates the purpose of importing oslo_cache everytime when needed.\n\nTo get a cache client:\n```\nfrom ceilometer import cache_utils\n.\ncache_client = cache_utils.get_client(conf)\n```\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I14f9e1cbe84a953b092c3a88345d5faa9bcc9fb2\n""}, {'number': 7, 'created': '2022-11-21 14:19:07.000000000', 'files': ['ceilometer/cache_utils.py', 'ceilometer/tests/unit/test_cache_utils.py', 'ceilometer/polling/manager.py', 'ceilometer/publisher/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b4a2801ec6a99df400d353d27a11de9be879c2a3', 'message': ""Change oslo_cache implementation\n\nAs of now to leverage caching, oslo_cache library has to be imported\nand configured everytime it's needed.\n\nThis change migrates such implementatio to use `cache_utils.py`\nwhich returns a cache client to perform caching operations. This\neliminates the purpose of importing oslo_cache everytime when needed.\n\nTo get a cache client:\n```\nfrom ceilometer import cache_utils\n.\ncache_client = cache_utils.get_client(conf)\n```\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I14f9e1cbe84a953b092c3a88345d5faa9bcc9fb2\n""}]",0,863969,b4a2801ec6a99df400d353d27a11de9be879c2a3,19,2,7,32240,,,0,"Change oslo_cache implementation

As of now to leverage caching, oslo_cache library has to be imported
and configured everytime it's needed.

This change migrates such implementatio to use `cache_utils.py`
which returns a cache client to perform caching operations. This
eliminates the purpose of importing oslo_cache everytime when needed.

To get a cache client:
```
from ceilometer import cache_utils
.
cache_client = cache_utils.get_client(conf)
```

Signed-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>
Change-Id: I14f9e1cbe84a953b092c3a88345d5faa9bcc9fb2
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/69/863969/3 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/cache_utils.py', 'ceilometer/polling/manager.py', 'ceilometer/publisher/gnocchi.py']",3,b808a8ed3940b1605f95eb0882b61aece51856bc,gnocchi_cache,from ceilometer import cache_utils # NOTE(cdent): The default cache backend is a real but # noop backend. We don't want to use that here because # we want to avoid the cache pathways entirely if the # cache has not been configured explicitly. self.cache = cache_utils.get_client(conf),"import hashlibimport uuidimport oslo_cacheNAME_ENCODED = __name__.encode('utf-8') CACHE_NAMESPACE = uuid.UUID(bytes=hashlib.md5(NAME_ENCODED).digest())def cache_key_mangler(key): """"""Construct an opaque cache key."""""" return uuid.uuid5(CACHE_NAMESPACE, key).hex self.cache = None try: oslo_cache.configure(conf) # NOTE(cdent): The default cache backend is a real but # noop backend. We don't want to use that here because # we want to avoid the cache pathways entirely if the # cache has not been configured explicitly. if conf.cache.enabled: cache_region = oslo_cache.create_region() self.cache = oslo_cache.configure_cache_region( conf, cache_region) self.cache.key_mangler = cache_key_mangler except oslo_cache.exception.ConfigurationError as exc: LOG.warning('unable to configure oslo_cache: %s', exc)",35,43
openstack%2Ftelemetry-tempest-plugin~master~I7f19dcaf327b636ef8328c6634d295414b7c8e65,openstack/telemetry-tempest-plugin,master,I7f19dcaf327b636ef8328c6634d295414b7c8e65,"Revert ""Remove autoscaling until gate issues sorted out""",NEW,2021-08-12 09:50:37.000000000,2022-12-21 07:39:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-12 09:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/881f0e407a096aa8211b0a714c8671ff0aaa933b', 'message': 'Revert ""Remove autoscaling until gate issues sorted out""\n\nThis reverts commit 34e514a4824a5e47a895222fdb42f0f7d7b0123d.\n\nIn general, we\'d want to check autoscaling from end to end. \n\nChange-Id: I7f19dcaf327b636ef8328c6634d295414b7c8e65\n'}, {'number': 2, 'created': '2022-11-23 10:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/62c87db89e21fbcd2e28d29063b75039c0226796', 'message': 'Revert ""Remove autoscaling until gate issues sorted out""\n\nThis reverts commit 34e514a4824a5e47a895222fdb42f0f7d7b0123d.\n\nIn general, we\'d want to check autoscaling from end to end.\n\nDepends-On: https://review.opendev.org/865386\n\nChange-Id: I7f19dcaf327b636ef8328c6634d295414b7c8e65\n'}, {'number': 3, 'created': '2022-12-01 05:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/8d106d7f8225aa85b5190433a05b8ff59e28a580', 'message': 'Revert ""Remove autoscaling until gate issues sorted out""\n\nThis reverts commit 34e514a4824a5e47a895222fdb42f0f7d7b0123d.\n\nIn general, we\'d want to check autoscaling from end to end.\n\nDepends-On: https://review.opendev.org/865386\n\nChange-Id: I7f19dcaf327b636ef8328c6634d295414b7c8e65\n'}, {'number': 4, 'created': '2022-12-19 08:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/56deab6810e4af8143f72643790bc4c72b7a91dd', 'message': 'Revert ""Remove autoscaling until gate issues sorted out""\n\nThis reverts commit 34e514a4824a5e47a895222fdb42f0f7d7b0123d.\n\nIn general, we\'d want to check autoscaling from end to end.\n\nUntil now this plugin could only scale up the stack by adding\nan instance. With this change, scaling down of instance is\nalso tested using a scaledown policy and an alarm which\nis triggered if instance CPU usage falls below the threshold.\n\nDepends-On: https://review.opendev.org/865386\n\nCo-authored-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\n\nChange-Id: I7f19dcaf327b636ef8328c6634d295414b7c8e65\n'}, {'number': 5, 'created': '2022-12-19 09:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/74f8de93bdbbe0a221c74b39834df3e5c1c9ca5d', 'message': 'Revert ""Remove autoscaling until gate issues sorted out""\n\nThis reverts commit 34e514a4824a5e47a895222fdb42f0f7d7b0123d.\n\nIn general, we\'d want to check autoscaling from end to end.\n\nUntil now this plugin could only scale up the stack by adding\nan instance. With this change, scaling down of instance is\nalso tested using a scaledown policy and an alarm which\nis triggered if instance CPU usage falls below the threshold.\n\nDepends-On: https://review.opendev.org/865386\n\nCo-authored-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\n\nChange-Id: I7f19dcaf327b636ef8328c6634d295414b7c8e65\n'}, {'number': 6, 'created': '2022-12-19 11:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/d4e7e1d7766c1b55c34946d857a254a59753830e', 'message': 'Revert ""Remove autoscaling until gate issues sorted out""\n\nThis reverts commit 34e514a4824a5e47a895222fdb42f0f7d7b0123d.\n\nIn general, we\'d want to check autoscaling from end to end.\n\nUntil now this plugin could only scale up the stack by adding\nan instance. With this change, scaling down of instance is\nalso tested using a scaledown policy and an alarm which\nis triggered if instance CPU usage falls below the threshold.\n\nDepends-On: https://review.opendev.org/865386\n\nCo-authored-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\n\nChange-Id: I7f19dcaf327b636ef8328c6634d295414b7c8e65\n'}, {'number': 7, 'created': '2022-12-19 12:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/d2c6fc73a569dc6891305b64a97ba9e47f5c53ba', 'message': 'Revert ""Remove autoscaling until gate issues sorted out""\n\nThis reverts commit 34e514a4824a5e47a895222fdb42f0f7d7b0123d.\n\nIn general, we\'d want to check autoscaling from end to end.\n\nUntil now this plugin could only scale up the stack by adding\nan instance. With this change, scaling down of instance is\nalso tested using a scaledown policy and an alarm which\nis triggered if instance CPU usage falls below the threshold.\n\nDepends-On: https://review.opendev.org/865386\n\nCo-authored-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\n\nChange-Id: I7f19dcaf327b636ef8328c6634d295414b7c8e65\n'}, {'number': 8, 'created': '2022-12-19 16:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/0dd6620adbd15d1fc4db6c702b525955474df42b', 'message': 'Revert ""Remove autoscaling until gate issues sorted out""\n\nThis reverts commit 34e514a4824a5e47a895222fdb42f0f7d7b0123d.\n\nIn general, we\'d want to check autoscaling from end to end.\n\nUntil now this plugin could only scale up the stack by adding\nan instance. With this change, scaling down of instance is\nalso tested using a scaledown policy and an alarm which\nis triggered if instance CPU usage falls below the threshold.\n\nDepends-On: https://review.opendev.org/865386\nDepends-On: https://review.opendev.org/868105\n\nCo-authored-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\n\nChange-Id: I7f19dcaf327b636ef8328c6634d295414b7c8e65\n'}, {'number': 9, 'created': '2022-12-19 17:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/cfb1242915b7b45e6485a25d542a87badd353c05', 'message': 'Revert ""Remove autoscaling until gate issues sorted out""\n\nThis reverts commit 34e514a4824a5e47a895222fdb42f0f7d7b0123d.\n\nIn general, we\'d want to check autoscaling from end to end.\n\nUntil now this plugin could only scale up the stack by adding\nan instance. With this change, scaling down of instance is\nalso tested using a scaledown policy and an alarm which\nis triggered if instance CPU usage falls below the threshold.\n\nSet aodh_threshold to ""6000000000.0"" in tempest.conf\n\nDepends-On: https://review.opendev.org/865386\n\nCo-authored-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\n\nChange-Id: I7f19dcaf327b636ef8328c6634d295414b7c8e65\n'}, {'number': 10, 'created': '2022-12-19 18:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/982c2702afa6918976afad1f42434340a78ef994', 'message': 'Revert ""Remove autoscaling until gate issues sorted out""\n\nThis reverts commit 34e514a4824a5e47a895222fdb42f0f7d7b0123d.\n\nIn general, we\'d want to check autoscaling from end to end.\n\nUntil now this plugin could only scale up the stack by adding\nan instance. With this change, scaling down of instance is\nalso tested using a scaledown policy and an alarm which\nis triggered if instance CPU usage falls below the threshold.\n\nDepends-On: https://review.opendev.org/865386\nDepends-On: https://review.opendev.org/868105\n\nCo-authored-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\n\nChange-Id: I7f19dcaf327b636ef8328c6634d295414b7c8e65\n'}, {'number': 11, 'created': '2022-12-20 04:32:46.000000000', 'files': ['telemetry_tempest_plugin/scenario/telemetry_integration_gabbits/autoscaling.yaml', 'telemetry_tempest_plugin/scenario/telemetry_integration_gabbits/create_stack.json'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/cc52ae8c3514d4b600588f3ec067756204d990c5', 'message': 'Revert ""Remove autoscaling until gate issues sorted out""\n\nThis reverts commit 34e514a4824a5e47a895222fdb42f0f7d7b0123d.\n\nIn general, we\'d want to check autoscaling from end to end.\n\nUntil now this plugin could only scale up the stack by adding\nan instance. With this change, scaling down of instance is\nalso tested using a scaledown policy and an alarm which\nis triggered if instance CPU usage falls below the threshold.\n\nDepends-On: https://review.opendev.org/865386\nDepends-On: https://review.opendev.org/868105\n\nCo-authored-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\n\nChange-Id: I7f19dcaf327b636ef8328c6634d295414b7c8e65\n'}]",14,804340,cc52ae8c3514d4b600588f3ec067756204d990c5,50,1,11,4264,,,0,"Revert ""Remove autoscaling until gate issues sorted out""

This reverts commit 34e514a4824a5e47a895222fdb42f0f7d7b0123d.

In general, we'd want to check autoscaling from end to end.

Until now this plugin could only scale up the stack by adding
an instance. With this change, scaling down of instance is
also tested using a scaledown policy and an alarm which
is triggered if instance CPU usage falls below the threshold.

Depends-On: https://review.opendev.org/865386
Depends-On: https://review.opendev.org/868105

Co-authored-by: Yadnesh Kulkarni <ykulkarn@redhat.com>

Change-Id: I7f19dcaf327b636ef8328c6634d295414b7c8e65
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/40/804340/7 && git format-patch -1 --stdout FETCH_HEAD,['telemetry_tempest_plugin/scenario/telemetry_integration_gabbits/autoscaling.yaml'],1,881f0e407a096aa8211b0a714c8671ff0aaa933b,autoscaling,"defaults: request_headers: x-auth-token: $ENVIRON['USER_TOKEN'] tests: - name: list alarms none desc: Lists alarms, none yet exist url: $ENVIRON['AODH_SERVICE_URL']/v2/alarms method: GET response_strings: - ""[]"" - name: list servers none desc: List servers, none yet exists url: $ENVIRON['NOVA_SERVICE_URL']/servers method: GET response_strings: - ""[]"" - name: create stack desc: Create an autoscaling stack url: $ENVIRON['HEAT_SERVICE_URL']/stacks method: POST request_headers: content-type: application/json data: <@create_stack.json status: 201 - name: control stack status desc: Checks the stack have been created successfully url: $ENVIRON['HEAT_SERVICE_URL']/stacks/$ENVIRON['STACK_NAME'] redirects: true method: GET status: 200 poll: count: 300 delay: 1 response_json_paths: $.stack.stack_status: ""CREATE_COMPLETE"" - name: list servers grow desc: Wait the autoscaling stack grow to two servers url: $ENVIRON['NOVA_SERVICE_URL']/servers/detail method: GET poll: count: 600 delay: 1 response_json_paths: $.servers[0].metadata.'metering.server_group': $RESPONSE['$.stack.id'] $.servers[1].metadata.'metering.server_group': $RESPONSE['$.stack.id'] $.servers[0].status: ACTIVE $.servers[1].status: ACTIVE $.servers.`len`: 2 - name: check gnocchi resources desc: Check the gnocchi resources for this two servers exists url: $ENVIRON['GNOCCHI_SERVICE_URL']/v1/search/resource/instance method: POST request_headers: content-type: application/json data: =: server_group: $RESPONSE['$.servers[0].metadata.""metering.server_group""'] poll: count: 30 delay: 1 response_json_paths: $.`len`: 2 - name: check alarm desc: Check the aodh alarm and its state url: $ENVIRON['AODH_SERVICE_URL']/v2/alarms method: GET poll: count: 30 delay: 1 response_strings: - ""$ENVIRON['STACK_NAME']-cpu_alarm_high-"" response_json_paths: $[0].state: alarm - name: get stack location desc: Get the stack location url: $ENVIRON['HEAT_SERVICE_URL']/stacks/$ENVIRON['STACK_NAME'] method: GET status: 302 - name: delete stack desc: Delete the stack url: $LOCATION method: DELETE status: 204 - name: get deleted stack desc: Check the stack have been deleted url: $ENVIRON['HEAT_SERVICE_URL']/stacks/$ENVIRON['STACK_NAME'] redirects: true method: GET poll: count: 300 delay: 1 status: 404 - name: list alarms deleted desc: List alarms, no more exist url: $ENVIRON['AODH_SERVICE_URL']/v2/alarms method: GET response_strings: - ""[]"" - name: list servers deleted desc: List servers, no more exists url: $ENVIRON['NOVA_SERVICE_URL']/servers method: GET response_strings: - ""[]"" ",,116,0
openstack%2Faodh~stable%2Fussuri~I4f631d224404460138f4050b1b981d577b592544,openstack/aodh,stable/ussuri,I4f631d224404460138f4050b1b981d577b592544,gnocchi: Use Dynamic Aggregates API,MERGED,2022-12-20 10:05:18.000000000,2022-12-21 07:38:24.000000000,2022-12-21 07:37:25.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 10:05:18.000000000', 'files': ['aodh/tests/unit/evaluator/test_composite.py', 'aodh/tests/unit/evaluator/test_gnocchi.py', 'aodh/api/controllers/v2/alarm_rules/gnocchi.py', 'aodh/tests/functional/api/v2/test_alarm_scenarios.py', 'aodh/evaluator/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/262daf83d1f95641ee6a6e0e98b07da92319c0d1', 'message': 'gnocchi: Use Dynamic Aggregates API\n\nSwitch to using the Dynamic Aggregates API as the Metric Aggregation\nAPI is deprecated.\n\nWhen using the Dynamic Aggregates API, any aggregation using rates\ncan use the underlying base measures for the aggregation rather than\nthe rate, for example:\n\n    (aggregation rate:mean (metric cpu mean))\n\nThe tuple of data for each record returned via this API is encapsulated\nwith information about the aggregation used so adapt the sanitization\nfunction to deal with this and the formatting of the metrics measures\nAPI as well.\n\nChange-Id: I4f631d224404460138f4050b1b981d577b592544\nCloses-Bug: 1946793\n(cherry picked from commit 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8)\n(cherry picked from commit e6d55b1ea9ee852cc56002c865c9443b526f2f58)\n(cherry picked from commit 27ee81a37acf097f572ffce1c4cd72f9987e0520)\n(cherry picked from commit 4820d595bfe4c4280b77bcac7fd97660397bfe39)\n'}]",1,868173,262daf83d1f95641ee6a6e0e98b07da92319c0d1,9,2,1,32240,,,0,"gnocchi: Use Dynamic Aggregates API

Switch to using the Dynamic Aggregates API as the Metric Aggregation
API is deprecated.

When using the Dynamic Aggregates API, any aggregation using rates
can use the underlying base measures for the aggregation rather than
the rate, for example:

    (aggregation rate:mean (metric cpu mean))

The tuple of data for each record returned via this API is encapsulated
with information about the aggregation used so adapt the sanitization
function to deal with this and the formatting of the metrics measures
API as well.

Change-Id: I4f631d224404460138f4050b1b981d577b592544
Closes-Bug: 1946793
(cherry picked from commit 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8)
(cherry picked from commit e6d55b1ea9ee852cc56002c865c9443b526f2f58)
(cherry picked from commit 27ee81a37acf097f572ffce1c4cd72f9987e0520)
(cherry picked from commit 4820d595bfe4c4280b77bcac7fd97660397bfe39)
",git fetch https://review.opendev.org/openstack/aodh refs/changes/73/868173/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/tests/unit/evaluator/test_composite.py', 'aodh/tests/unit/evaluator/test_gnocchi.py', 'aodh/api/controllers/v2/alarm_rules/gnocchi.py', 'aodh/tests/functional/api/v2/test_alarm_scenarios.py', 'aodh/evaluator/gnocchi.py']",5,262daf83d1f95641ee6a6e0e98b07da92319c0d1,bug/1946793-stable/xena-stable/wallaby-stable/victoria-stable/ussuri," # NOTE(jamespage) # Dynamic Aggregates are returned in a dict struct so # check for this first. if isinstance(statistics, dict): # Pop array of measures from aggregated subdict statistics = statistics['measures']['aggregated'] _operations = [ 'aggregate', rule['aggregation_method'] ] for metric in rule['metrics']: _operations.append( [ 'metric', metric, rule['aggregation_method'].lstrip('rate:') ] ) return self._gnocchi_client.aggregates.fetch( operations=_operations, try: # FIXME(sileht): In case of a heat autoscaling stack decide to # delete an instance, the gnocchi metrics associated to this # instance will be no more updated and when the alarm will ask # for the aggregation, gnocchi will raise a 'No overlap' # exception. # So temporary set 'needed_overlap' to 0 to disable the # gnocchi checks about missing points. For more detail see: # https://bugs.launchpad.net/gnocchi/+bug/1479429 return self._gnocchi_client.aggregates.fetch( operations=[ 'aggregate', rule['aggregation_method'], [ 'metric', rule['metric'], rule['aggregation_method'].lstrip('rate:') ] ], search=json.loads(rule['query']), needed_overlap=0)"," return self._gnocchi_client.metric.aggregation( metrics=rule['metrics'], aggregation=rule['aggregation_method'], # FIXME(sileht): In case of a heat autoscaling stack decide to # delete an instance, the gnocchi metrics associated to this # instance will be no more updated and when the alarm will ask # for the aggregation, gnocchi will raise a 'No overlap' # exception. # So temporary set 'needed_overlap' to 0 to disable the # gnocchi checks about missing points. For more detail see: # https://bugs.launchpad.net/gnocchi/+bug/1479429 try: return self._gnocchi_client.metric.aggregation( metrics=rule['metric'], query=json.loads(rule['query']), aggregation=rule['aggregation_method'], needed_overlap=0, )",230,124
openstack%2Fpython-aodhclient~stable%2Fvictoria~Ia11f25fa8c36c6051a44994f2545e2b64a665593,openstack/python-aodhclient,stable/victoria,Ia11f25fa8c36c6051a44994f2545e2b64a665593,Change aggregation method to mean,MERGED,2022-12-20 07:59:47.000000000,2022-12-21 06:59:07.000000000,2022-12-21 06:58:10.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 07:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/162148700d92e081487f9d2bae8a5b45f16e8ef3', 'message': 'Change aggregation method to mean\n\nCommit 8454cac06a654bb1e4eea20e6a36417796a94d82 handles\nignoring gnocchi api error when metric is not created.\nHowever there are functional test failures when the\naggregation method is set to last for alarm type\ngnocchi_aggregation_by_resources_threshold,\n\nThis fix changes the aggregration method to mean for\nany create/update of alarm type\ngnocchi_aggregation_by_resources_threshold.\n\nopenstack-tox-py* jobs fail due to missing ""operatorPrecedence""\nattribute because of change[1] in pyparsing module. Adjust to\nthis change by using ""infixNotation"" in place of ""operatorPrecedence"".\n\n[1] https://github.com/pyparsing/pyparsing/commit/ab2f220dd26ead73ce5bf496db85c07810e458f4\n\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/863796\nChange-Id: Ia11f25fa8c36c6051a44994f2545e2b64a665593\nCloses-Bug: #1974682\n(cherry picked from commit d656c191131e20bb634e4eeb6d074bc32a6df60f)\n(cherry picked from commit 621b4aef88edcb34712c2060a27a9f10431974d7)\n(cherry picked from commit 17677567f7d58f8eb8885feda81fbffcba53311b)\n(cherry picked from commit 1c67e9a167b6612f45313af978eaa3c10b701621)\n'}, {'number': 2, 'created': '2022-12-20 08:00:02.000000000', 'files': ['aodhclient/tests/functional/test_alarm.py', 'aodhclient/utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/2dca78e03cd22194780290be99dbe4566c30c65d', 'message': 'Change aggregation method to mean\n\nCommit 8454cac06a654bb1e4eea20e6a36417796a94d82 handles\nignoring gnocchi api error when metric is not created.\nHowever there are functional test failures when the\naggregation method is set to last for alarm type\ngnocchi_aggregation_by_resources_threshold,\n\nThis fix changes the aggregration method to mean for\nany create/update of alarm type\ngnocchi_aggregation_by_resources_threshold.\n\nopenstack-tox-py* jobs fail due to missing ""operatorPrecedence""\nattribute because of change[1] in pyparsing module. Adjust to\nthis change by using ""infixNotation"" in place of ""operatorPrecedence"".\n\n[1] https://github.com/pyparsing/pyparsing/commit/ab2f220dd26ead73ce5bf496db85c07810e458f4\n\nChange-Id: Ia11f25fa8c36c6051a44994f2545e2b64a665593\nCloses-Bug: #1974682\n(cherry picked from commit d656c191131e20bb634e4eeb6d074bc32a6df60f)\n(cherry picked from commit 621b4aef88edcb34712c2060a27a9f10431974d7)\n(cherry picked from commit 17677567f7d58f8eb8885feda81fbffcba53311b)\n(cherry picked from commit 1c67e9a167b6612f45313af978eaa3c10b701621)\n'}]",0,868172,2dca78e03cd22194780290be99dbe4566c30c65d,9,2,2,32240,,,0,"Change aggregation method to mean

Commit 8454cac06a654bb1e4eea20e6a36417796a94d82 handles
ignoring gnocchi api error when metric is not created.
However there are functional test failures when the
aggregation method is set to last for alarm type
gnocchi_aggregation_by_resources_threshold,

This fix changes the aggregration method to mean for
any create/update of alarm type
gnocchi_aggregation_by_resources_threshold.

openstack-tox-py* jobs fail due to missing ""operatorPrecedence""
attribute because of change[1] in pyparsing module. Adjust to
this change by using ""infixNotation"" in place of ""operatorPrecedence"".

[1] https://github.com/pyparsing/pyparsing/commit/ab2f220dd26ead73ce5bf496db85c07810e458f4

Change-Id: Ia11f25fa8c36c6051a44994f2545e2b64a665593
Closes-Bug: #1974682
(cherry picked from commit d656c191131e20bb634e4eeb6d074bc32a6df60f)
(cherry picked from commit 621b4aef88edcb34712c2060a27a9f10431974d7)
(cherry picked from commit 17677567f7d58f8eb8885feda81fbffcba53311b)
(cherry picked from commit 1c67e9a167b6612f45313af978eaa3c10b701621)
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/72/868172/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodhclient/tests/functional/test_alarm.py', 'aodhclient/utils.py', 'tox.ini']",3,162148700d92e081487f9d2bae8a5b45f16e8ef3,," PYTHONWARNINGS=ignore:DEPRECATION::pip._internal.cli.base_command,ignore::UserWarning http://tarballs.openstack.org/aodh/aodh-stable-wallaby.tar.gz#egg=aodh[mysql]", http://tarballs.openstack.org/aodh/aodh-master.tar.gz#egg=aodh[mysql],13,12
openstack%2Fcinder~master~I3bfb53fda9aefe3571500db4db4c123ecf52e74b,openstack/cinder,master,I3bfb53fda9aefe3571500db4db4c123ecf52e74b,WIP: Test Ubuntu 22.04 (Jammy) migration,ABANDONED,2022-10-17 13:25:23.000000000,2022-12-21 05:42:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-17 13:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f774cb686cb66c8d5c1a5d16ae7277d730acd41', 'message': 'WIP: Test Ubuntu 22.04 (Jammy) migration\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: I3bfb53fda9aefe3571500db4db4c123ecf52e74b\n'}, {'number': 2, 'created': '2022-11-16 13:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d72ec518ca3c455fcb8df0a2b3a7a64ab6c89ded', 'message': 'WIP: Test Ubuntu 22.04 (Jammy) migration\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/863524\nChange-Id: I3bfb53fda9aefe3571500db4db4c123ecf52e74b\n'}, {'number': 3, 'created': '2022-11-17 21:45:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e4e734b3525bde6036e403103b747d141a775be4', 'message': 'WIP: Test Ubuntu 22.04 (Jammy) migration\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/864948\nChange-Id: I3bfb53fda9aefe3571500db4db4c123ecf52e74b\n'}]",7,861609,e4e734b3525bde6036e403103b747d141a775be4,67,1,3,27615,,,0,"WIP: Test Ubuntu 22.04 (Jammy) migration

Depends-On: https://review.opendev.org/c/openstack/tempest/+/861110
Depends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/864948
Change-Id: I3bfb53fda9aefe3571500db4db4c123ecf52e74b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/861609/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4f774cb686cb66c8d5c1a5d16ae7277d730acd41,migrate-to-jammy,,,1,0
openstack%2Fswift~stable%2Fvictoria~If69ae0f8eac8fe8ff7d5e4f4f1bff6d0ea9e7a8b,openstack/swift,stable/victoria,If69ae0f8eac8fe8ff7d5e4f4f1bff6d0ea9e7a8b,py2constraints: pin PasteDeploy version,MERGED,2022-12-21 01:15:58.000000000,2022-12-21 05:41:26.000000000,2022-12-21 05:40:24.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 34175}]","[{'number': 1, 'created': '2022-12-21 01:15:58.000000000', 'files': ['tools/playbooks/common/install_dependencies.yaml', 'py2-constraints.txt'], 'web_link': 'https://opendev.org/openstack/swift/commit/2593c4c56bf0131a6d28970e53b4ce2101ceaea8', 'message': ""py2constraints: pin PasteDeploy version\n\nPasteDeploy version 3.0 (2022-10-16) dropped support for python2 (as\nwell as <3.7), which causes our py2 tests to fail. So cap the version\nhere at 2.1.1, the last which is compatible with our tests.\n\nEven doing this doesn't stop pip install swift pulling in a newer\nPasteDeploy in the\ntools/playbooks/saio_single_node_setup/make_rings.yaml playbook\n(causing the probes test on CentOS-7 to fail); so handle CentOS 7\nexplicitly.\n\nChange-Id: If69ae0f8eac8fe8ff7d5e4f4f1bff6d0ea9e7a8b\nSigned-off-by: Matthew Vernon <mvernon@wikimedia.org>\n(cherry picked from commit cc033154ad4a4f345258457f3ceed9143fb3d46d)\n(cherry picked from commit d05ddb03648d70e4b8612243bb8cd2ddf8ae6baa)\n""}]",1,868249,2593c4c56bf0131a6d28970e53b4ce2101ceaea8,7,3,1,15343,,,0,"py2constraints: pin PasteDeploy version

PasteDeploy version 3.0 (2022-10-16) dropped support for python2 (as
well as <3.7), which causes our py2 tests to fail. So cap the version
here at 2.1.1, the last which is compatible with our tests.

Even doing this doesn't stop pip install swift pulling in a newer
PasteDeploy in the
tools/playbooks/saio_single_node_setup/make_rings.yaml playbook
(causing the probes test on CentOS-7 to fail); so handle CentOS 7
explicitly.

Change-Id: If69ae0f8eac8fe8ff7d5e4f4f1bff6d0ea9e7a8b
Signed-off-by: Matthew Vernon <mvernon@wikimedia.org>
(cherry picked from commit cc033154ad4a4f345258457f3ceed9143fb3d46d)
(cherry picked from commit d05ddb03648d70e4b8612243bb8cd2ddf8ae6baa)
",git fetch https://review.opendev.org/openstack/swift refs/changes/49/868249/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/playbooks/common/install_dependencies.yaml', 'py2-constraints.txt']",2,2593c4c56bf0131a6d28970e53b4ce2101ceaea8,,PasteDeploy==2.1.1,,10,0
openstack%2Fpuppet-pacemaker~master~Iebb2c496e79604a68171c82b07af3f8efd20b50d,openstack/puppet-pacemaker,master,Iebb2c496e79604a68171c82b07af3f8efd20b50d,remove unicode from code,MERGED,2022-08-25 02:59:53.000000000,2022-12-21 05:35:52.000000000,2022-12-21 05:34:56.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-25 02:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/7d7fba493eabdd46a0c79ec854ee68db0a647c26', 'message': 'remove unicode from code\n\nChange-Id: Iebb2c496e79604a68171c82b07af3f8efd20b50d\n'}, {'number': 2, 'created': '2022-12-21 04:19:57.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/7add07357c2a96bf4637331bee22154ee5cc1d8a', 'message': 'remove unicode from code\n\nChange-Id: Iebb2c496e79604a68171c82b07af3f8efd20b50d\n'}]",1,854482,7add07357c2a96bf4637331bee22154ee5cc1d8a,10,2,2,35067,,,0,"remove unicode from code

Change-Id: Iebb2c496e79604a68171c82b07af3f8efd20b50d
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/82/854482/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,7d7fba493eabdd46a0c79ec854ee68db0a647c26,,"project = 'puppet-pacemaker Release Notes' copyright = '2016, Puppet OpenStack Developers' ('index', 'puppet-pacemakerReleaseNotes.tex', 'puppet-pacemaker Release Notes Documentation', '2016, Puppet OpenStack Developers', 'manual'), ('index', 'puppet-pacemakerreleasenotes', 'puppet-pacemaker Release Notes Documentation', ['2016, Puppet OpenStack Developers'], 1) ('index', 'puppet-pacemakerReleaseNotes', 'puppet-pacemaker Release Notes Documentation', '2016, Puppet OpenStack Developers', 'puppet-pacemakerReleaseNotes', 'One line description of project.',","project = u'puppet-pacemaker Release Notes' copyright = u'2016, Puppet OpenStack Developers' ('index', 'puppet-pacemakerReleaseNotes.tex', u'puppet-pacemaker Release Notes Documentation', u'2016, Puppet OpenStack Developers', 'manual'), ('index', 'puppet-pacemakerreleasenotes', u'puppet-pacemaker Release Notes Documentation', [u'2016, Puppet OpenStack Developers'], 1) ('index', 'puppet-pacemakerReleaseNotes', u'puppet-pacemaker Release Notes Documentation', u'2016, Puppet OpenStack Developers', 'puppet-pacemakerReleaseNotes', 'One line description of project.',",8,8
openstack%2Ftripleo-heat-templates~stable%2Fzed~Iba74be163a3eead5df4110d4411d18f47d8cefc4,openstack/tripleo-heat-templates,stable/zed,Iba74be163a3eead5df4110d4411d18f47d8cefc4,Configure a step when the old ironic-api configuration is cleaned,MERGED,2022-12-09 08:47:04.000000000,2022-12-21 05:34:54.000000000,2022-12-21 05:34:54.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-09 08:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f29e600acf0eb346c2fde915b00d5abe685dd35', 'message': 'Configure a step when the old ironic-api configuration is cleaned\n\nCurrently the cleaning is executed in every step,\nthis creates the ~~Undercloud/upgrade_tasks_step4.yaml.\nSeting up correctly a step avoid creates the step4\n\nChange-Id: Iba74be163a3eead5df4110d4411d18f47d8cefc4\n(cherry picked from commit db297a4282e868058561e7cffec07c16f9e62e68)\n'}, {'number': 2, 'created': '2022-12-09 15:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d59139e25a15914c76e6f2d0cb4ceedd9463b47', 'message': 'Configure a step when the old ironic-api configuration is cleaned\n\nCurrently the cleaning is executed in every step,\nthis creates the ~~Undercloud/upgrade_tasks_step4.yaml.\nSeting up correctly a step avoid creates the step4\n\nChange-Id: Iba74be163a3eead5df4110d4411d18f47d8cefc4\n(cherry picked from commit db297a4282e868058561e7cffec07c16f9e62e68)\n'}, {'number': 3, 'created': '2022-12-09 15:29:44.000000000', 'files': ['deployment/ironic/ironic-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/74cff91485eec91e9edae3e237c861d7db9487b4', 'message': 'Configure a step when the old ironic-api configuration is cleaned\n\nCurrently the cleaning is executed in every step,\nthis creates the ~~Undercloud/upgrade_tasks_step4.yaml.\nSeting up correctly a step avoid creates the step4\n\nChange-Id: Iba74be163a3eead5df4110d4411d18f47d8cefc4\n(cherry picked from commit db297a4282e868058561e7cffec07c16f9e62e68)\n'}]",0,867027,74cff91485eec91e9edae3e237c861d7db9487b4,11,3,3,22954,,,0,"Configure a step when the old ironic-api configuration is cleaned

Currently the cleaning is executed in every step,
this creates the ~~Undercloud/upgrade_tasks_step4.yaml.
Seting up correctly a step avoid creates the step4

Change-Id: Iba74be163a3eead5df4110d4411d18f47d8cefc4
(cherry picked from commit db297a4282e868058561e7cffec07c16f9e62e68)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/867027/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-api-container-puppet.yaml'],1,2f29e600acf0eb346c2fde915b00d5abe685dd35,bug/1998501-stable/zed, when: - step|int == 2,,2,0
openstack%2Fdiskimage-builder~master~Iafe3283665a437d0a9cf83a93ff66c0613310b69,openstack/diskimage-builder,master,Iafe3283665a437d0a9cf83a93ff66c0613310b69,Add variable for check installing python3 in yum element,MERGED,2022-09-09 08:16:29.000000000,2022-12-21 05:17:42.000000000,2022-12-21 05:16:35.000000000,"[{'_account_id': 7118}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-09 08:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/904c275c96bfbc609e0456d46350757f42700c26', 'message': 'Add variable for check installing python3 in yum element\n\nIf client have not internet or have some limitation, such as firewall/proxy/etc. this step will stop build image with error. Client must have possible override of URL for pass this step.\n\nChange-Id: Iafe3283665a437d0a9cf83a93ff66c0613310b69\n'}, {'number': 2, 'created': '2022-09-09 08:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4fca817f9b39a9f194cb7b35a59221d8ad9714fe', 'message': 'Add variable for check installing python3 in yum element\n\nIf client have not internet or have some limitation, such as firewall/proxy/etc. this step will stop build image with error. Client must have possible override of URL for pass this step.\n\nChange-Id: Iafe3283665a437d0a9cf83a93ff66c0613310b69\n'}, {'number': 3, 'created': '2022-09-21 09:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4f3e99a6c11b0ce17d1be1e1d4311e573a7db338', 'message': 'Add variable for check installing python3 in yum element\n\nIf client have not internet or have some limitation, such as firewall/proxy/etc. this step will stop build image with error. Client must have possible override of URL for pass this step.\n\nChange-Id: Iafe3283665a437d0a9cf83a93ff66c0613310b69\n'}, {'number': 4, 'created': '2022-10-06 03:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/eb29ed9d99da516a4bafa29c2989053347c7afb8', 'message': 'Add variable for check installing python3 in yum element\n\nIf client have not internet or have some limitation, such as firewall/proxy/etc. this step will stop build image with error. Client must have possible override of URL for pass this step.\n\nChange-Id: Iafe3283665a437d0a9cf83a93ff66c0613310b69\n'}, {'number': 5, 'created': '2022-12-07 03:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/05c2828ddec875c56c2c9dd8b69a8f5313b35bd2', 'message': 'Add variable for check installing python3 in yum element\n\nIf client have not internet or have some limitation, such as firewall/proxy/etc. this step will stop build image with error. Client must have possible override of URL for pass this step.\n\nChange-Id: Iafe3283665a437d0a9cf83a93ff66c0613310b69\n'}, {'number': 6, 'created': '2022-12-16 03:51:10.000000000', 'files': ['diskimage_builder/elements/yum/pre-install.d/01-00-centos-python3', 'diskimage_builder/elements/yum/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a9edef6548091796711fec34f1d490596146c5b0', 'message': 'Add variable for check installing python3 in yum element\n\nIf client have not internet or have some limitation, such as firewall/proxy/etc. this step will stop build image with error. Client must have possible override of URL for pass this step.\n\nChange-Id: Iafe3283665a437d0a9cf83a93ff66c0613310b69\n'}]",15,856577,a9edef6548091796711fec34f1d490596146c5b0,43,3,6,35208,,,0,"Add variable for check installing python3 in yum element

If client have not internet or have some limitation, such as firewall/proxy/etc. this step will stop build image with error. Client must have possible override of URL for pass this step.

Change-Id: Iafe3283665a437d0a9cf83a93ff66c0613310b69
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/77/856577/5 && git format-patch -1 --stdout FETCH_HEAD,[],0,904c275c96bfbc609e0456d46350757f42700c26,,,,0,0
openstack%2Fmanila-tempest-plugin~master~I80e7e1ccef4ef3ef45e2a013610602e003deaf84,openstack/manila-tempest-plugin,master,I80e7e1ccef4ef3ef45e2a013610602e003deaf84,[RBAC] remove 'project_member' credentias,MERGED,2022-12-14 11:00:59.000000000,2022-12-21 03:40:48.000000000,2022-12-21 03:40:48.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}, {'_account_id': 33301}]","[{'number': 1, 'created': '2022-12-14 11:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/5ece8e10497cea01408da8a01e1d699e5a6b37b8', 'message': ""[RBAC] remove 'project_admin' credentias\n\nThere is no need to use 'project_member 'credentials\nin reader class.\n\nChange-Id: I80e7e1ccef4ef3ef45e2a013610602e003deaf84\n""}, {'number': 2, 'created': '2022-12-15 21:43:01.000000000', 'files': ['manila_tempest_tests/tests/rbac/test_share_types.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/edc7ebb1d8fb53b4a5a7a0043d56fc740f6262d9', 'message': ""[RBAC] remove 'project_member' credentias\n\nThere is no need to use 'project_member 'credentials\nin reader class.\n\nChange-Id: I80e7e1ccef4ef3ef45e2a013610602e003deaf84\n""}]",5,867624,edc7ebb1d8fb53b4a5a7a0043d56fc740f6262d9,17,5,2,19262,,,0,"[RBAC] remove 'project_member' credentias

There is no need to use 'project_member 'credentials
in reader class.

Change-Id: I80e7e1ccef4ef3ef45e2a013610602e003deaf84
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/24/867624/2 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/rbac/test_share_types.py'],1,5ece8e10497cea01408da8a01e1d699e5a6b37b8,secure-rbac, credentials = ['project_reader']," credentials = ['project_reader', 'project_member']",1,1
openstack%2Fskyline-console~master~Ib5de517a3c894168c9680a1b37237437a497906f,openstack/skyline-console,master,Ib5de517a3c894168c9680a1b37237437a497906f,fix: fix the project column,MERGED,2022-12-21 01:26:19.000000000,2022-12-21 03:24:45.000000000,2022-12-21 03:23:38.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-12-21 01:26:19.000000000', 'files': ['src/resources/magnum/template.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/331c2ddd3be1a69ad95bf35c721019cccd9c61d7', 'message': 'fix: fix the project column\n\nadd project column to cluster template but not simple flavor column\n\nChange-Id: Ib5de517a3c894168c9680a1b37237437a497906f\n'}]",0,868250,331c2ddd3be1a69ad95bf35c721019cccd9c61d7,7,2,1,33689,,,0,"fix: fix the project column

add project column to cluster template but not simple flavor column

Change-Id: Ib5de517a3c894168c9680a1b37237437a497906f
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/50/868250/1 && git format-patch -1 --stdout FETCH_HEAD,['src/resources/magnum/template.js'],1,331c2ddd3be1a69ad95bf35c721019cccd9c61d7,fix-magnum-bugs," title: t('Project ID/Name'), dataIndex: 'project_name', isHideable: true, hidden: !self.isAdminPage, }, {"," title: t('Project ID/Name'), dataIndex: 'project_name', isHideable: true, hidden: !self.isAdminPage, }, {",6,6
openstack%2Fvenus~master~Idb1a453fd2a6d165deeb2321c73b06aab951102a,openstack/venus,master,Idb1a453fd2a6d165deeb2321c73b06aab951102a,add databases modules,MERGED,2022-12-20 09:07:44.000000000,2022-12-21 02:42:04.000000000,2022-12-21 02:40:38.000000000,"[{'_account_id': 22348}, {'_account_id': 27565}]","[{'number': 1, 'created': '2022-12-20 09:07:44.000000000', 'files': ['venus/modules/custom_config/backends/__init__.py', 'venus/modules/custom_config/backends/models.py', 'venus/modules/custom_config/backends/sql.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/3a6167124e5aeb0291712e53ef8988f9798ffc32', 'message': 'add databases modules\n\nChange-Id: Idb1a453fd2a6d165deeb2321c73b06aab951102a\n'}]",1,868160,3a6167124e5aeb0291712e53ef8988f9798ffc32,7,2,1,30455,,,0,"add databases modules

Change-Id: Idb1a453fd2a6d165deeb2321c73b06aab951102a
",git fetch https://review.opendev.org/openstack/venus refs/changes/60/868160/1 && git format-patch -1 --stdout FETCH_HEAD,"['venus/modules/custom_config/backends/__init__.py', 'venus/modules/custom_config/backends/models.py', 'venus/modules/custom_config/backends/sql.py']",3,3a6167124e5aeb0291712e53ef8988f9798ffc32,,"# Copyright 2020 Inspur # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Implementation of SQLAlchemy backend."""""" import sqlalchemy import threading import time from oslo_config import cfg from oslo_db import options from oslo_db.sqlalchemy import session as db_session from oslo_log import log as logging import osprofiler.sqlalchemy from venus.modules.custom_config.backends import models CONF = cfg.CONF CONF.import_group(""profiler"", ""venus.service"") log = logging.getLogger(__name__) options.set_defaults(CONF, connection='sqlite:///$state_path/venus.sqlite') _LOCK = threading.Lock() _FACADE = None def _create_facade_lazily(): global _LOCK with _LOCK: global _FACADE if _FACADE is None: _FACADE = db_session.EngineFacade( CONF.database.connection, **dict(CONF.database) ) if CONF.profiler.profiler_enabled: if CONF.profiler.trace_sqlalchemy: osprofiler.sqlalchemy.add_tracing(sqlalchemy, _FACADE.get_engine(), ""db"") return _FACADE def get_session(**kwargs): facade = _create_facade_lazily() return facade.get_session(**kwargs) class CustomConfigSql(object): def get_config(self, id): session = get_session() with session.begin(): config = session.query(models.CustomConfig).filter_by( id=id).first() if config is None: return None else: return config.value def set_config(self, id, value): session = get_session() with session.begin(): config = session.query(models.CustomConfig).filter_by( id=id).first() if config is None: s_instance = models.CustomConfig( id=id, value=value, update_time=time.strftime('%Y-%m-%d %H:%M:%S', time.localtime(time.time()))) session.add(s_instance) else: config.value = value config.update_time = time.strftime('%Y-%m-%d %H:%M:%S', time.localtime(time.time())) ",,167,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ia4cda3330eb748fb51c2fcd7da2a6e08b3225060,openstack/tripleo-ansible,stable/wallaby,Ia4cda3330eb748fb51c2fcd7da2a6e08b3225060,DNN: Testing debug output ...,ABANDONED,2022-11-29 01:39:17.000000000,2022-12-21 02:10:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-29 01:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/86ed0f3157c0e7214dafcea139faaa1cd4e5fe4e', 'message': 'DNN: Testing debug output ...\n\nChange-Id: Ia4cda3330eb748fb51c2fcd7da2a6e08b3225060\n'}, {'number': 2, 'created': '2022-11-29 05:05:51.000000000', 'files': ['tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/de01a43d60a22da369cf35d9960ada0b9d2233e7', 'message': 'DNN: Testing debug output ...\n\nChange-Id: Ia4cda3330eb748fb51c2fcd7da2a6e08b3225060\n'}]",0,865926,de01a43d60a22da369cf35d9960ada0b9d2233e7,7,2,2,9816,,,0,"DNN: Testing debug output ...

Change-Id: Ia4cda3330eb748fb51c2fcd7da2a6e08b3225060
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/26/865926/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml'],1,86ed0f3157c0e7214dafcea139faaa1cd4e5fe4e,," no_log: true - name: ""Debug output for task: Run init bundle puppet on the host for {{ tripleo_ha_wrapper_service_name }}"" debug: var: puppet_run.stdout_lines | default([]) | union(puppet_run.stderr_lines | default([]))",,5,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I08b635b7464ca09c45f988a1134d82b3eda0323b,openstack/tripleo-heat-templates,stable/train,I08b635b7464ca09c45f988a1134d82b3eda0323b,DNM: Trigger Ceph job,ABANDONED,2022-12-12 03:49:17.000000000,2022-12-21 02:09:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-12 03:49:17.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a890796591587a49d30f30db0294549b7fada0ff', 'message': 'DNM: Trigger Ceph job\n\nChange-Id: I08b635b7464ca09c45f988a1134d82b3eda0323b\n'}]",0,867193,a890796591587a49d30f30db0294549b7fada0ff,4,2,1,9816,,,0,"DNM: Trigger Ceph job

Change-Id: I08b635b7464ca09c45f988a1134d82b3eda0323b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/867193/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,a890796591587a49d30f30db0294549b7fada0ff,,,,1,0
openstack%2Frequirements~master~I3677978ce3b7d7c709e65b8e2e353d199c6c7518,openstack/requirements,master,I3677978ce3b7d7c709e65b8e2e353d199c6c7518,remove unicode literal from code,ABANDONED,2022-07-30 07:54:05.000000000,2022-12-21 01:56:49.000000000,,"[{'_account_id': 12898}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-30 07:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2d4c76f8cef914413bf080dfa262153f487a6bf1', 'message': 'remove unicode literal from code\n\nChange-Id: I3677978ce3b7d7c709e65b8e2e353d199c6c7518\n'}, {'number': 2, 'created': '2022-08-18 07:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9713d29d100c35dcce2d8d33194baae410011f51', 'message': 'remove unicode literal from code\n\nChange-Id: I3677978ce3b7d7c709e65b8e2e353d199c6c7518\n'}, {'number': 3, 'created': '2022-08-21 07:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/13751fec005f01e26f734c041d5d34472f4af437', 'message': 'remove unicode literal from code\n\nChange-Id: I3677978ce3b7d7c709e65b8e2e353d199c6c7518\n'}, {'number': 4, 'created': '2022-08-27 06:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/55e976f40f33284c3d4b7790d0abef93d0b33fd5', 'message': 'remove unicode literal from code\n\nChange-Id: I3677978ce3b7d7c709e65b8e2e353d199c6c7518\n'}, {'number': 5, 'created': '2022-08-27 06:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a7c27fba03e10b3ebef6156d79eb2850c4e2efed', 'message': 'remove unicode literal from code\n\nChange-Id: I3677978ce3b7d7c709e65b8e2e353d199c6c7518\n'}, {'number': 6, 'created': '2022-08-30 03:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ccccc303fec3ff71d5273223499c38582ca355c3', 'message': 'remove unicode literal from code\n\nChange-Id: I3677978ce3b7d7c709e65b8e2e353d199c6c7518\n'}, {'number': 7, 'created': '2022-08-30 04:12:28.000000000', 'files': ['openstack_requirements/tests/test_update.py', 'openstack_requirements/project.py', 'openstack_requirements/tests/test_check_constraints.py', 'doc/source/conf.py', 'openstack_requirements/requirement.py', 'openstack_requirements/cmds/check_exists.py', 'openstack_requirements/tests/test_project.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/dc7a81b3bf1f0bf1f8a133be3b4190e344ac63f7', 'message': ""remove unicode literal from code\n\nAll strings are considered as unicode string from Python 3.\n\nThis patch drops the explicit unicode literal (u'...')\nappearances from the unicode strings.\n\nChange-Id: I3677978ce3b7d7c709e65b8e2e353d199c6c7518\n""}]",15,851632,dc7a81b3bf1f0bf1f8a133be3b4190e344ac63f7,24,3,7,35058,,,0,"remove unicode literal from code

All strings are considered as unicode string from Python 3.

This patch drops the explicit unicode literal (u'...')
appearances from the unicode strings.

Change-Id: I3677978ce3b7d7c709e65b8e2e353d199c6c7518
",git fetch https://review.opendev.org/openstack/requirements refs/changes/32/851632/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,2d4c76f8cef914413bf080dfa262153f487a6bf1,,"project = 'requirements' copyright = '2017, OpenStack Foundation' 'OpenStack contributors', 'manual'),epub_title = 'requirements Documentation' epub_author = 'OpenStack' epub_publisher = 'OpenStack' epub_copyright = '2017, OpenStack'","project = u'requirements' copyright = u'2017, OpenStack Foundation' u'OpenStack contributors', 'manual'),epub_title = u'requirements Documentation' epub_author = u'OpenStack' epub_publisher = u'OpenStack' epub_copyright = u'2017, OpenStack'",7,7
openstack%2Fswift~stable%2Fyoga~Iae28097668213aa0734837ff21aef83251167d19,openstack/swift,stable/yoga,Iae28097668213aa0734837ff21aef83251167d19,Inline parse_request from cpython,MERGED,2022-12-20 00:13:25.000000000,2022-12-21 01:51:55.000000000,2022-12-21 01:50:56.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 00:13:25.000000000', 'files': ['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a6a85919a579bb194fc290fe719bf03269684de9', 'message': 'Inline parse_request from cpython\n\nApplied deltas:\n\n- Fix http.client references\n- Inline HTTPStatus codes\n- Address request line splitting (https://bugs.python.org/issue33973)\n- Special-case py2 header-parsing\n- Address multiple leading slashes in request path\n  (https://github.com/python/cpython/issues/99220)\n\nCloses-Bug: #1999278\nChange-Id: Iae28097668213aa0734837ff21aef83251167d19\n(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)\n'}]",1,868137,a6a85919a579bb194fc290fe719bf03269684de9,8,2,1,15343,,,0,"Inline parse_request from cpython

Applied deltas:

- Fix http.client references
- Inline HTTPStatus codes
- Address request line splitting (https://bugs.python.org/issue33973)
- Special-case py2 header-parsing
- Address multiple leading slashes in request path
  (https://github.com/python/cpython/issues/99220)

Closes-Bug: #1999278
Change-Id: Iae28097668213aa0734837ff21aef83251167d19
(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)
",git fetch https://review.opendev.org/openstack/swift refs/changes/37/868137/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py']",2,a6a85919a579bb194fc290fe719bf03269684de9,," if six.PY2: from eventlet.green import httplib as http_client else: from eventlet.green.http import client as http_client """"""Parse a request (inlined from cpython@7e293984). The request should be stored in self.raw_requestline; the results are in self.command, self.path, self.request_version and self.headers. Return True for success, False for failure; on failure, any relevant error response has already been sent back. """""" self.command = None # set in case of error on the first line self.request_version = version = self.default_request_version self.close_connection = True requestline = self.raw_requestline if not six.PY2: requestline = requestline.decode('iso-8859-1') requestline = requestline.rstrip('\r\n') self.requestline = requestline # Split off \x20 explicitly (see https://bugs.python.org/issue33973) words = requestline.split(' ') if len(words) == 0: return False if len(words) >= 3: # Enough to determine protocol version version = words[-1] try: if not version.startswith('HTTP/'): raise ValueError base_version_number = version.split('/', 1)[1] version_number = base_version_number.split(""."") # RFC 2145 section 3.1 says there can be only one ""."" and # - major and minor numbers MUST be treated as # separate integers; # - HTTP/2.4 is a lower version than HTTP/2.13, which in # turn is lower than HTTP/12.3; # - Leading zeros MUST be ignored by recipients. if len(version_number) != 2: raise ValueError version_number = int(version_number[0]), int(version_number[1]) except (ValueError, IndexError): self.send_error( 400, ""Bad request version (%r)"" % version) return False if version_number >= (1, 1) and \ self.protocol_version >= ""HTTP/1.1"": self.close_connection = False if version_number >= (2, 0): self.send_error( 505, ""Invalid HTTP version (%s)"" % base_version_number) return False self.request_version = version if not 2 <= len(words) <= 3: self.send_error( 400, ""Bad request syntax (%r)"" % requestline) return False command, path = words[:2] if len(words) == 2: self.close_connection = True if command != 'GET': self.send_error( 400, ""Bad HTTP/0.9 request type (%r)"" % command) return False self.command, self.path = command, path # Examine the headers and look for a Connection directive. if six.PY2: self.headers = self.MessageClass(self.rfile, 0) else: try: self.headers = http_client.parse_headers( self.rfile, _class=self.MessageClass) except http_client.LineTooLong as err: self.send_error( 431, ""Line too long"", str(err)) return False except http_client.HTTPException as err: self.send_error( 431, ""Too many headers"", str(err) ) return False conntype = self.headers.get('Connection', """") if conntype.lower() == 'close': self.close_connection = True elif (conntype.lower() == 'keep-alive' and self.protocol_version >= ""HTTP/1.1""): self.close_connection = False # Examine the headers and look for an Expect directive expect = self.headers.get('Expect', """") if (expect.lower() == ""100-continue"" and self.protocol_version >= ""HTTP/1.1"" and self.request_version >= ""HTTP/1.1""): if not self.handle_expect_100(): return False return True","from swift.common.swob import wsgi_quote, wsgi_unquote, \ wsgi_quote_plus, wsgi_unquote_plus, wsgi_to_bytes, bytes_to_wsgi # Need to track the bytes-on-the-wire for S3 signatures -- eventlet # would do it for us, but since we rewrite the path on py3, we need to # fix it ourselves later. self.__raw_path_info = None if not six.PY2: # request lines *should* be ascii per the RFC, but historically # we've allowed (and even have func tests that use) arbitrary # bytes. This breaks on py3 (see https://bugs.python.org/issue33973 # ) but the work-around is simple: munge the request line to be # properly quoted. if self.raw_requestline.count(b' ') >= 2: parts = self.raw_requestline.split(b' ', 2) path, q, query = parts[1].partition(b'?') self.__raw_path_info = path # unquote first, so we don't over-quote something # that was *correctly* quoted path = wsgi_to_bytes(wsgi_quote(wsgi_unquote( bytes_to_wsgi(path)))) query = b'&'.join( sep.join([ wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(key)))), wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(val)))) ]) for part in query.split(b'&') for key, sep, val in (part.partition(b'='), )) parts[1] = path + q + query self.raw_requestline = b' '.join(parts) # else, mangled protocol, most likely; let base class deal with it return wsgi.HttpProtocol.parse_request(self) environ['RAW_PATH_INFO'] = bytes_to_wsgi( self.__raw_path_info)",212,78
openstack%2Fswift~stable%2Fyoga~I35cade2c46eb6acb66c064cde75d78173f46864c,openstack/swift,stable/yoga,I35cade2c46eb6acb66c064cde75d78173f46864c,Extract SwiftHttpProtocol to its own module,MERGED,2022-12-20 00:13:25.000000000,2022-12-21 01:48:33.000000000,2022-12-21 01:47:34.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 00:13:25.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/common/test_http_protocol.py', 'test/functional/__init__.py', 'test/unit/helpers.py', 'swift/common/http_protocol.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4d6d6ba510187fd01297170ae50300fa2af75bf7', 'message': 'Extract SwiftHttpProtocol to its own module\n\nChange-Id: I35cade2c46eb6acb66c064cde75d78173f46864c\n(cherry picked from commit 597887dedcf1f2c855edfd1c591d4f30222be580)\n'}]",1,868136,4d6d6ba510187fd01297170ae50300fa2af75bf7,8,2,1,15343,,,0,"Extract SwiftHttpProtocol to its own module

Change-Id: I35cade2c46eb6acb66c064cde75d78173f46864c
(cherry picked from commit 597887dedcf1f2c855edfd1c591d4f30222be580)
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/868136/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'test/unit/common/test_http_protocol.py', 'test/functional/__init__.py', 'test/unit/helpers.py', 'swift/common/http_protocol.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py']",7,4d6d6ba510187fd01297170ae50300fa2af75bf7,,from swift.common.swob import Request,"from argparse import Namespaceimport types import eventlet.wsgiimport sixfrom swift.common.swob import Request, wsgi_to_bytesclass TestSwiftHttpProtocol(unittest.TestCase): def _proto_obj(self): # Make an object we can exercise... note the base class's __init__() # does a bunch of work, so we just new up an object like eventlet.wsgi # does. proto_class = wsgi.SwiftHttpProtocol try: the_obj = types.InstanceType(proto_class) except AttributeError: the_obj = proto_class.__new__(proto_class) # Install some convenience mocks the_obj.server = Namespace(app=Namespace(logger=mock.Mock()), url_length_limit=777, log=mock.Mock()) the_obj.send_error = mock.Mock() return the_obj def test_swift_http_protocol_log_request(self): proto_obj = self._proto_obj() self.assertEqual(None, proto_obj.log_request('ignored')) def test_swift_http_protocol_log_message(self): proto_obj = self._proto_obj() proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.error('ERROR WSGI: a%sc', 'b')], proto_obj.server.app.logger.mock_calls) def test_swift_http_protocol_log_message_no_logger(self): # If the app somehow had no logger attribute or it was None, don't blow # up proto_obj = self._proto_obj() delattr(proto_obj.server.app, 'logger') proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.info('ERROR WSGI: a%sc', 'b')], proto_obj.server.log.mock_calls) proto_obj.server.log.reset_mock() proto_obj.server.app.logger = None proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.info('ERROR WSGI: a%sc', 'b')], proto_obj.server.log.mock_calls) def test_swift_http_protocol_parse_request_no_proxy(self): proto_obj = self._proto_obj() proto_obj.raw_requestline = b'jimmy jam' proto_obj.client_address = ('a', '123') self.assertEqual(False, proto_obj.parse_request()) self.assertEqual([ mock.call(400, ""Bad HTTP/0.9 request type ('jimmy')""), ], proto_obj.send_error.mock_calls) self.assertEqual(('a', '123'), proto_obj.client_address) def test_request_line_cleanup(self): def do_test(line_from_socket, expected_line=None): if expected_line is None: expected_line = line_from_socket proto_obj = self._proto_obj() proto_obj.raw_requestline = line_from_socket with mock.patch('swift.common.wsgi.wsgi.HttpProtocol') \ as mock_super: proto_obj.parse_request() self.assertEqual([mock.call.parse_request(proto_obj)], mock_super.mock_calls) self.assertEqual(proto_obj.raw_requestline, expected_line) do_test(b'GET / HTTP/1.1') do_test(b'GET /%FF HTTP/1.1') if not six.PY2: do_test(b'GET /\xff HTTP/1.1', b'GET /%FF HTTP/1.1') do_test(b'PUT /Here%20Is%20A%20SnowMan:\xe2\x98\x83 HTTP/1.0', b'PUT /Here%20Is%20A%20SnowMan%3A%E2%98%83 HTTP/1.0') do_test( b'POST /?and%20it=fixes+params&' b'PALMTREE=\xf0%9f\x8c%b4 HTTP/1.1', b'POST /?and+it=fixes+params&PALMTREE=%F0%9F%8C%B4 HTTP/1.1') class ProtocolTest(unittest.TestCase): def _run_bytes_through_protocol(self, bytes_from_client): rfile = BytesIO(bytes_from_client) wfile = BytesIO() # All this fakery is needed to make the WSGI server process one # connection, possibly with multiple requests, in the main # greenthread. It doesn't hurt correctness if the function is called # in a separate greenthread, but it makes using the debugger harder. class FakeGreenthread(object): def link(self, a_callable, *args): a_callable(self, *args) class FakePool(object): def spawn(self, a_callable, *args, **kwargs): a_callable(*args, **kwargs) return FakeGreenthread() def spawn_n(self, a_callable, *args, **kwargs): a_callable(*args, **kwargs) def waitall(self): pass addr = ('127.0.0.1', 8359) fake_tcp_socket = mock.Mock( setsockopt=lambda *a: None, makefile=lambda mode, bufsize: rfile if 'r' in mode else wfile, getsockname=lambda *a: addr ) fake_listen_socket = mock.Mock( accept=mock.MagicMock( side_effect=[[fake_tcp_socket, addr], # KeyboardInterrupt breaks the WSGI server out of # its infinite accept-process-close loop. KeyboardInterrupt]), getsockname=lambda *a: addr) del fake_listen_socket.do_handshake # If we let the WSGI server close rfile/wfile then we can't access # their contents any more. with mock.patch.object(wfile, 'close', lambda: None), \ mock.patch.object(rfile, 'close', lambda: None): eventlet.wsgi.server( fake_listen_socket, self.app, protocol=self.protocol_class, custom_pool=FakePool(), log_output=False, # quiet the test run ) return wfile.getvalue() class TestSwiftHttpProtocolSomeMore(ProtocolTest): protocol_class = wsgi.SwiftHttpProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) return [wsgi_to_bytes(env['RAW_PATH_INFO'])] def test_simple(self): bytes_out = self._run_bytes_through_protocol(( b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/someurl') def test_quoted(self): bytes_out = self._run_bytes_through_protocol(( b""GET /some%fFpath%D8%AA HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/some%fFpath%D8%AA') def test_messy(self): bytes_out = self._run_bytes_through_protocol(( b""GET /oh\xffboy%what$now%E2%80%bd HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[-1], b'/oh\xffboy%what$now%E2%80%bd') class TestProxyProtocol(ProtocolTest): protocol_class = wsgi.SwiftHttpProxiedProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) body = '\r\n'.join([ 'got addr: %s %s' % ( env.get(""REMOTE_ADDR"", ""<missing>""), env.get(""REMOTE_PORT"", ""<missing>"")), 'on addr: %s %s' % ( env.get(""SERVER_ADDR"", ""<missing>""), env.get(""SERVER_PORT"", ""<missing>"")), 'https is %s (scheme %s)' % ( env.get(""HTTPS"", ""<missing>""), env.get(""wsgi.url_scheme"", ""<missing>"")), ]) + '\r\n' return [body.encode(""utf-8"")] def test_request_with_proxy(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 4433\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-3:], [ b""got addr: 192.168.0.1 56423"", b""on addr: 192.168.0.11 4433"", b""https is <missing> (scheme http)"", ]) def test_request_with_proxy_https(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 443\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-3:], [ b""got addr: 192.168.0.1 56423"", b""on addr: 192.168.0.11 443"", b""https is on (scheme https)"", ]) def test_multiple_requests_with_proxy(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 443\r\n"" b""GET /someurl HTTP/1.1\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" b""GET /otherurl HTTP/1.1\r\n"" b""User-Agent: something or other\r\n"" b""Connection: close\r\n"" b""\r\n"" )) lines = bytes_out.split(b""\r\n"") self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check # the address in the PROXY line is applied to every request addr_lines = [l for l in lines if l.startswith(b""got addr"")] self.assertEqual(addr_lines, [b""got addr: 192.168.0.1 56423""] * 2) addr_lines = [l for l in lines if l.startswith(b""on addr"")] self.assertEqual(addr_lines, [b""on addr: 192.168.0.11 443""] * 2) addr_lines = [l for l in lines if l.startswith(b""https is"")] self.assertEqual(addr_lines, [b""https is on (scheme https)""] * 2) def test_missing_proxy_line(self): bytes_out = self._run_bytes_through_protocol(( # whoops, no PROXY line here b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""400 Invalid PROXY line"", lines[0]) def test_malformed_proxy_lines(self): for bad_line in [b'PROXY jojo', b'PROXYjojo a b c d e', b'PROXY a b c d e', # bad INET protocol and family ]: bytes_out = self._run_bytes_through_protocol(bad_line) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""400 Invalid PROXY line"", lines[0]) def test_unknown_client_addr(self): # For ""UNKNOWN"", the rest of the line before the CRLF may be omitted by # the sender, and the receiver must ignore anything presented before # the CRLF is found. for unknown_line in [b'PROXY UNKNOWN', # mimimal valid unknown b'PROXY UNKNOWNblahblah', # also valid b'PROXY UNKNOWN a b c d']: bytes_out = self._run_bytes_through_protocol(( unknown_line + (b""\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"") )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""200 OK"", lines[0]) def test_address_and_environ(self): # Make an object we can exercise... note the base class's __init__() # does a bunch of work, so we just new up an object like eventlet.wsgi # does. dummy_env = {'OTHER_ENV_KEY': 'OTHER_ENV_VALUE'} mock_protocol = mock.Mock(get_environ=lambda s: dummy_env) patcher = mock.patch( 'swift.common.wsgi.SwiftHttpProtocol', mock_protocol ) self.mock_super = patcher.start() self.addCleanup(patcher.stop) proto_class = wsgi.SwiftHttpProxiedProtocol try: proxy_obj = types.InstanceType(proto_class) except AttributeError: proxy_obj = proto_class.__new__(proto_class) # Install some convenience mocks proxy_obj.server = Namespace(app=Namespace(logger=mock.Mock()), url_length_limit=777, log=mock.Mock()) proxy_obj.send_error = mock.Mock() proxy_obj.rfile = BytesIO( b'PROXY TCP4 111.111.111.111 222.222.222.222 111 222' ) assert proxy_obj.handle() self.assertEqual(proxy_obj.client_address, ('111.111.111.111', '111')) self.assertEqual(proxy_obj.proxy_address, ('222.222.222.222', '222')) expected_env = { 'SERVER_PORT': '222', 'SERVER_ADDR': '222.222.222.222', 'OTHER_ENV_KEY': 'OTHER_ENV_VALUE' } self.assertEqual(proxy_obj.get_environ(), expected_env) ",608,567
openstack%2Fswift~master~Ie293ddf4bba20ac20ab97700a988396445dfcebc,openstack/swift,master,Ie293ddf4bba20ac20ab97700a988396445dfcebc,WIP: Ring v2 zip: RingName abstraction class,NEW,2022-12-01 06:26:50.000000000,2022-12-21 00:21:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-01 06:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d0ccbeb2308d4178e2c53d1d99a3cfc40a5edc82', 'message': 'WIP: Ring v2 zip: RingName abstraction class\n\nPlaying with a new RingName class that we can use to abstract away ring\nname issues.\n\nHelper class do do a bunch, maybe things like:\n - Get all ring names from directory\n - used to get all ring versions of a policy\n - check mtime and see if anything has changed.\n - Anything else that we need for name management..\n\n This is a WIP, so DO MOT MERGE.. thoughts welcome though!\n\nChange-Id: Ie293ddf4bba20ac20ab97700a988396445dfcebc\n'}, {'number': 2, 'created': '2022-12-20 22:48:45.000000000', 'files': ['test/unit/common/ring/test_utils.py', 'swift/common/ring/utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7e7bb28964d68c875d896b4f51b47be11449f063', 'message': 'WIP: Ring v2 zip: RingName abstraction class\n\nPlaying with a new RingName class that we can use to abstract away ring\nname issues.\n\nHelper class do do a bunch, maybe things like:\n - Get all ring names from directory\n - used to get all ring versions of a policy\n - check mtime and see if anything has changed.\n - Anything else that we need for name management..\n\n This is a WIP, so DO MOT MERGE.. thoughts welcome though!\n\nChange-Id: Ie293ddf4bba20ac20ab97700a988396445dfcebc\n'}]",7,866293,7e7bb28964d68c875d896b4f51b47be11449f063,8,1,2,7233,,,0,"WIP: Ring v2 zip: RingName abstraction class

Playing with a new RingName class that we can use to abstract away ring
name issues.

Helper class do do a bunch, maybe things like:
 - Get all ring names from directory
 - used to get all ring versions of a policy
 - check mtime and see if anything has changed.
 - Anything else that we need for name management..

 This is a WIP, so DO MOT MERGE.. thoughts welcome though!

Change-Id: Ie293ddf4bba20ac20ab97700a988396445dfcebc
",git fetch https://review.opendev.org/openstack/swift refs/changes/93/866293/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/ring/test_utils.py', 'swift/common/ring/utils.py']",2,d0ccbeb2308d4178e2c53d1d99a3cfc40a5edc82,ring-v2,"import os from itertools import chainfrom swift.common.storage_policy import POLICIES ring_name = RingName.from_arg(argvish[1]) return ring_name.builder, ring_name.ring class RingName(object): VERSIONS = (1, 2) def __init__(self, dirname='/etc/swift', policy='object', version=1): self.extension = self._version = None self.dirname = dirname self.version = version self.policy = policy self.last_mtime = None @property def version(self): return self._version @version.setter def version(self, version): if version in (1, '1'): self._version = 1 self.extension = 'gz' elif version in (2, '2'): self._version = 2 self.extension = 'zip' else: raise ValueError(""Ring version must be either 1 or 2"") def __str__(self): return os.path.join( self.dirname, ""{}.ring.{}"".format(self.policy, self.extension)) @property def ring(self): return str(self) @property def builder(self): return os.path.join( self.dirname, ""{}.builder"".format(self.policy)) @staticmethod def from_arg(arg): dirname = os.path.dirname(arg) try: policy, _, ext = os.path.basename(arg).split('.') except ValueError: raise ValueError(""Not a valid ring name"") if ext.lower() == 'gz': return RingName(dirname, policy, 1) elif ext.lower() == 'zip': return RingName(dirname, policy, 2) raise ValueError('Could not determine ring name and version') def exists(self): return os.path.exists(self.ring) def mtime(self): self.last_mtime = os.path.getmtime(self.ring) return self.last_mtime def changed(self): last_mtime = self.last_mtime new_mtime = self.mtime() return last_mtime != new_mtime def get_all_versions(self): return self.names_from_dir(self.dirname, self.policy) @staticmethod def names_from_dir(dirname, policy=None): rings = [] if policy: policies = [policy] else: policies = chain(['account', 'container'], (p.ring_name for p in POLICIES)) for p in policies: for v in RingName.VERSIONS: rn = RingName(dirname, p, v) if rn.exists(): rings.append(rn) # I wonder if we want to return this list sorted by mtime. return rings"," first_arg = argvish[1] if first_arg.endswith('.ring.gz'): ring_file = first_arg builder_file = first_arg[:-len('.ring.gz')] + '.builder' elif first_arg.endswith('.ring.zip'): ring_file = first_arg builder_file = first_arg[:-len('.ring.zip')] + '.builder' else: builder_file = first_arg if not builder_file.endswith('.builder'): ring_file = first_arg else: ring_file = builder_file[:-len('.builder')] ring_file += '.ring.gz' return builder_file, ring_file",145,16
openstack%2Fkeystone~stable%2Ftrain~I4bb54aac9b950d59082a4468203a3249790839d7,openstack/keystone,stable/train,I4bb54aac9b950d59082a4468203a3249790839d7,Only log warnings about token length when length exceeds max_token_size,NEW,2022-07-26 14:00:58.000000000,2022-12-20 23:06:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-26 14:00:58.000000000', 'files': ['keystone/token/token_formatters.py', 'keystone/tests/unit/token/test_fernet_provider.py', 'releasenotes/notes/bug-1926483-a77ab887e0e7f5c9.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/7de94d0c35faf3d108b21b08b840867814c6b5fa', 'message': ""Only log warnings about token length when length exceeds max_token_size\n\nPreviously, the fernet token provider would log warnings when a fernet\ntoken exceeded 255 characters, which is common for LDAP-backed\ndeployments. The warning is always issued, even when operators configure\nkeystone's max_token_size to a higher value, causing confusion because\nit appears the configuration value is silently ignored.\n\nThis commit fixes that issue by using the max_token_size configuration\nparameter consistently in the fernet token provider.\n\nCloses-Bug: 1926483\n\nChange-Id: I4bb54aac9b950d59082a4468203a3249790839d7\n(cherry picked from commit 68bfb685d12937dde11d1a335bd992203ec7c293)\n""}]",2,851055,7de94d0c35faf3d108b21b08b840867814c6b5fa,6,1,1,7414,,,0,"Only log warnings about token length when length exceeds max_token_size

Previously, the fernet token provider would log warnings when a fernet
token exceeded 255 characters, which is common for LDAP-backed
deployments. The warning is always issued, even when operators configure
keystone's max_token_size to a higher value, causing confusion because
it appears the configuration value is silently ignored.

This commit fixes that issue by using the max_token_size configuration
parameter consistently in the fernet token provider.

Closes-Bug: 1926483

Change-Id: I4bb54aac9b950d59082a4468203a3249790839d7
(cherry picked from commit 68bfb685d12937dde11d1a335bd992203ec7c293)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/55/851055/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/token/test_fernet_provider.py', 'keystone/token/token_formatters.py', 'releasenotes/notes/bug-1926483-a77ab887e0e7f5c9.yaml']",3,7de94d0c35faf3d108b21b08b840867814c6b5fa,bug/1926483-stable/train,--- fixes: - | [`bug 1926483 <https://bugs.launchpad.net/keystone/+bug/1926483>`_] Keystone will only log warnings about token length for Fernet tokens when the token length exceeds the value of `keystone.conf [DEFAULT] max_token_size`. ,,68,4
openstack%2Fcinderlib~master~Ib46d87cb9bac6649403bbbfa1e0abc152c8c6a0b,openstack/cinderlib,master,Ib46d87cb9bac6649403bbbfa1e0abc152c8c6a0b,DNM: checking the gate,ABANDONED,2022-12-20 13:24:25.000000000,2022-12-20 23:00:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-20 13:24:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/f7132cd5c2a605edb9c9d0f9a2d93b957f9c5cd7', 'message': ""DNM: checking the gate\n\nJust want to do a plain run with none of the tox-4 changes of\nI3aa3d345a4e80ea to verify it's us and not zuul.\n\nChange-Id: Ib46d87cb9bac6649403bbbfa1e0abc152c8c6a0b\n""}]",0,868213,f7132cd5c2a605edb9c9d0f9a2d93b957f9c5cd7,3,1,1,5314,,,0,"DNM: checking the gate

Just want to do a plain run with none of the tox-4 changes of
I3aa3d345a4e80ea to verify it's us and not zuul.

Change-Id: Ib46d87cb9bac6649403bbbfa1e0abc152c8c6a0b
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/13/868213/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f7132cd5c2a605edb9c9d0f9a2d93b957f9c5cd7,dnm-gate-check," # .zuul.yaml is not irrelevant, hence this comment",,1,0
openstack%2Fopenstack-ansible~master~I4f9587c3a30c23efb1d4c9fe6b598f7eaf793410,openstack/openstack-ansible,master,I4f9587c3a30c23efb1d4c9fe6b598f7eaf793410,[doc] Fix document on dymanic_inventory tox usage,MERGED,2022-12-16 14:06:24.000000000,2022-12-20 22:53:41.000000000,2022-12-20 22:51:25.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-12-16 14:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6b24e51776ff752cf17614e31b4ae4eacfc6d68a', 'message': '[doc] Fix document on dymanic_inventory tox usage\n\nThere was a type and one important option missed for inventory\ninstallation i na document, that was adjusted in [1]\n\nSo basically wah twe need to do, is store source in tox venv and create\nan egg-link to it to get dynamic_inventory binary.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/863423\n\nChange-Id: I4f9587c3a30c23efb1d4c9fe6b598f7eaf793410\n'}, {'number': 2, 'created': '2022-12-16 15:17:26.000000000', 'files': ['doc/source/reference/inventory/generate-inventory.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8493f264e8b8d3408550906d458068264ba05774', 'message': '[doc] Fix document on dymanic_inventory tox usage\n\nThere was a type and one important option missed for inventory\ninstallation i na document, that was adjusted in [1]\n\nSo basically wah twe need to do, is store source in tox venv and create\nan egg-link to it to get dynamic_inventory binary.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/863423\n\nChange-Id: I4f9587c3a30c23efb1d4c9fe6b598f7eaf793410\n'}]",2,867973,8493f264e8b8d3408550906d458068264ba05774,12,3,2,28619,,,0,"[doc] Fix document on dymanic_inventory tox usage

There was a type and one important option missed for inventory
installation i na document, that was adjusted in [1]

So basically wah twe need to do, is store source in tox venv and create
an egg-link to it to get dynamic_inventory binary.

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/863423

Change-Id: I4f9587c3a30c23efb1d4c9fe6b598f7eaf793410
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/73/867973/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/inventory/generate-inventory.rst'],1,6b24e51776ff752cf17614e31b4ae4eacfc6d68a,, pip install -c https://releases.openstack.org/constraints/upper/master {packages} -e git+https://opendev.org/openstack/openstack-ansible@master\\#egg=openstack-ansible openstack-ansible-inventory --config {toxinidir}/openstack_deploy, pip install -c https://releases.openstack.org/constraints/upper/master {packages} git+https://opendev.org/openstack/openstack-ansible@master osa-dynamic-inventory --config {toxinidir},2,2
openstack%2Fopenstack-ansible~master~Id34fb425c76bef7615bcbf1334d7a84ac6422fa8,openstack/openstack-ansible,master,Id34fb425c76bef7615bcbf1334d7a84ac6422fa8,Unset OSA-defined variables for bootstrap,MERGED,2022-12-20 17:11:33.000000000,2022-12-20 22:52:38.000000000,2022-12-20 22:51:22.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-20 17:11:33.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b6cf0973c6baa0cd47a8697eec4f6b28999151ba', 'message': ""Unset OSA-defined variables for bootstrap\n\nWe've introduced couple of new ENV vars that we define in\nopenstack-ansible.rc file. While they're working properly, we still don't\nwant them to be used during bootstrap process, as in case of\nbootstrap failure somewhere in the middle of execution, like before\nour plugins collection being installed, next bootstrap re-runs will fail\nwith smth like `Invalid play strategy specified: openstack.osa.linear`\n\nIn order to fix this we set default values for ANSIBLE_TRANSPORT and\nANSIBLE_STRATEGY that we clean out after bootstrap is completed.\n\nChange-Id: Id34fb425c76bef7615bcbf1334d7a84ac6422fa8\n""}]",0,868227,b6cf0973c6baa0cd47a8697eec4f6b28999151ba,9,4,1,28619,,,0,"Unset OSA-defined variables for bootstrap

We've introduced couple of new ENV vars that we define in
openstack-ansible.rc file. While they're working properly, we still don't
want them to be used during bootstrap process, as in case of
bootstrap failure somewhere in the middle of execution, like before
our plugins collection being installed, next bootstrap re-runs will fail
with smth like `Invalid play strategy specified: openstack.osa.linear`

In order to fix this we set default values for ANSIBLE_TRANSPORT and
ANSIBLE_STRATEGY that we clean out after bootstrap is completed.

Change-Id: Id34fb425c76bef7615bcbf1334d7a84ac6422fa8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/27/868227/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,b6cf0973c6baa0cd47a8697eec4f6b28999151ba,," export ANSIBLE_TRANSPORT=""smart"" export ANSIBLE_STRATEGY=""linear"" unset ANSIBLE_TRANSPORT unset ANSIBLE_STRATEGY",,4,0
openstack%2Fkeystoneauth~master~I120ed63f6c1262d067eeb6168feab35278cacf6a,openstack/keystoneauth,master,I120ed63f6c1262d067eeb6168feab35278cacf6a,Enforce scope mutual exclusion for system,MERGED,2021-07-28 10:46:02.000000000,2022-12-20 22:38:34.000000000,2022-12-20 22:37:30.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 10:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/5453c264d6e67be8d78639e8b1c673bc236f3c0d', 'message': 'Enforce scope mutual exclusion for system\n\nwe already fail when mutliple scope identifiers are provided, however\nnot when system scope is involved. As a result of the undocumented\npriority of checks, when system scope is specified together with any\nother scope, that other scope will silently be used.\n\nChange-Id: I120ed63f6c1262d067eeb6168feab35278cacf6a\n'}, {'number': 2, 'created': '2021-08-31 13:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/6fd105f66a6cb0def5a22e392b999bdd94c659b8', 'message': 'Enforce scope mutual exclusion for system\n\nwe already fail when mutliple scope identifiers are provided, however\nnot when system scope is involved. As a result of the undocumented\npriority of checks, when system scope is specified together with any\nother scope, that other scope will silently be used.\n\nChange-Id: I120ed63f6c1262d067eeb6168feab35278cacf6a\n'}, {'number': 3, 'created': '2021-10-02 12:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/72f6b5acf7f0c228b19d9417efed91fc94eed588', 'message': 'Enforce scope mutual exclusion for system\n\nwe already fail when mutliple scope identifiers are provided, however\nnot when system scope is involved. As a result of the undocumented\npriority of checks, when system scope is specified together with any\nother scope, that other scope will silently be used.\n\nChange-Id: I120ed63f6c1262d067eeb6168feab35278cacf6a\n'}, {'number': 4, 'created': '2022-04-29 15:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/1fb8fba05b3fc919e98cef88f7fec3c520637718', 'message': 'Enforce scope mutual exclusion for system\n\nwe already fail when mutliple scope identifiers are provided, however\nnot when system scope is involved. As a result of the undocumented\npriority of checks, when system scope is specified together with any\nother scope, that other scope will silently be used.\n\nChange-Id: I120ed63f6c1262d067eeb6168feab35278cacf6a\n'}, {'number': 5, 'created': '2022-12-02 18:03:47.000000000', 'files': ['keystoneauth1/identity/v3/base.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/ae646f8d37f6defca6ee87d8c94f1cb7469253b9', 'message': 'Enforce scope mutual exclusion for system\n\nwe already fail when mutliple scope identifiers are provided, however\nnot when system scope is involved. As a result of the undocumented\npriority of checks, when system scope is specified together with any\nother scope, that other scope will silently be used.\n\nChange-Id: I120ed63f6c1262d067eeb6168feab35278cacf6a\n'}]",3,802683,ae646f8d37f6defca6ee87d8c94f1cb7469253b9,28,5,5,9542,,,0,"Enforce scope mutual exclusion for system

we already fail when mutliple scope identifiers are provided, however
not when system scope is involved. As a result of the undocumented
priority of checks, when system scope is specified together with any
other scope, that other scope will silently be used.

Change-Id: I120ed63f6c1262d067eeb6168feab35278cacf6a
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/83/802683/4 && git format-patch -1 --stdout FETCH_HEAD,['keystoneauth1/identity/v3/base.py'],1,5453c264d6e67be8d78639e8b1c673bc236f3c0d,system-scope-exclusive," bool(self.system_scope), 'trust, system or unscoped')", 'trust or unscoped'),2,1
openstack%2Fansible-role-pki~stable%2Fyoga~Ifb172a52a496b6e14bd160dfb6309ffbe9fd96fa,openstack/ansible-role-pki,stable/yoga,Ifb172a52a496b6e14bd160dfb6309ffbe9fd96fa,Ensure CA privatekey permissions,MERGED,2022-12-14 13:13:02.000000000,2022-12-20 22:23:16.000000000,2022-12-20 22:22:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-14 13:13:02.000000000', 'files': ['tasks/standalone/create_ca.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/1b6d005a56040f4c80f672381deb1640411093e7', 'message': ""Ensure CA privatekey permissions\n\nIn case private key permissions or owner doesn't match openssl_privatekey\nwill fix permissions, that will result in task being changed. We want\nto avoid this task being changed without good reasons, as our logic on\nCA certificates generation depends on that as well.\n\nChange-Id: Ifb172a52a496b6e14bd160dfb6309ffbe9fd96fa\n(cherry picked from commit 589d085ac406ec58635323cddad94679dec6cfe3)\n""}]",0,867632,1b6d005a56040f4c80f672381deb1640411093e7,8,3,1,32666,,,0,"Ensure CA privatekey permissions

In case private key permissions or owner doesn't match openssl_privatekey
will fix permissions, that will result in task being changed. We want
to avoid this task being changed without good reasons, as our logic on
CA certificates generation depends on that as well.

Change-Id: Ifb172a52a496b6e14bd160dfb6309ffbe9fd96fa
(cherry picked from commit 589d085ac406ec58635323cddad94679dec6cfe3)
",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/32/867632/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/standalone/create_ca.yml'],1,1b6d005a56040f4c80f672381deb1640411093e7,," # NOTE(noonedeadpunk): Incorrect permissions lead to CA certs re-generation as # openssl_privatekey gets changed when harmonizing ownership/permissions - name: Ensure private key has proper ownership file: state: file path: ""{{ ca_dir ~ '/private/' ~ ca.name ~ '.key.pem' }}"" mode: ""{{ ca.key_mode | default('0600') }}"" owner: ""{{ ca.key_owner | default('root') }}"" group: ""{{ ca.key_group | default('root') }}"" failed_when: false ",,11,0
openstack%2Fswift~stable%2Fzed~Iae28097668213aa0734837ff21aef83251167d19,openstack/swift,stable/zed,Iae28097668213aa0734837ff21aef83251167d19,Inline parse_request from cpython,MERGED,2022-12-19 23:01:09.000000000,2022-12-20 21:09:26.000000000,2022-12-20 20:16:52.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-19 23:01:09.000000000', 'files': ['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/aa81e4f2bf25ab6a851c04c260d697c57193b1ea', 'message': 'Inline parse_request from cpython\n\nApplied deltas:\n\n- Fix http.client references\n- Inline HTTPStatus codes\n- Address request line splitting (https://bugs.python.org/issue33973)\n- Special-case py2 header-parsing\n- Address multiple leading slashes in request path\n  (https://github.com/python/cpython/issues/99220)\n\nCloses-Bug: #1999278\nChange-Id: Iae28097668213aa0734837ff21aef83251167d19\n(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)\n'}]",2,868133,aa81e4f2bf25ab6a851c04c260d697c57193b1ea,13,2,1,15343,,,0,"Inline parse_request from cpython

Applied deltas:

- Fix http.client references
- Inline HTTPStatus codes
- Address request line splitting (https://bugs.python.org/issue33973)
- Special-case py2 header-parsing
- Address multiple leading slashes in request path
  (https://github.com/python/cpython/issues/99220)

Closes-Bug: #1999278
Change-Id: Iae28097668213aa0734837ff21aef83251167d19
(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)
",git fetch https://review.opendev.org/openstack/swift refs/changes/33/868133/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py']",2,aa81e4f2bf25ab6a851c04c260d697c57193b1ea,," if six.PY2: from eventlet.green import httplib as http_client else: from eventlet.green.http import client as http_client """"""Parse a request (inlined from cpython@7e293984). The request should be stored in self.raw_requestline; the results are in self.command, self.path, self.request_version and self.headers. Return True for success, False for failure; on failure, any relevant error response has already been sent back. """""" self.command = None # set in case of error on the first line self.request_version = version = self.default_request_version self.close_connection = True requestline = self.raw_requestline if not six.PY2: requestline = requestline.decode('iso-8859-1') requestline = requestline.rstrip('\r\n') self.requestline = requestline # Split off \x20 explicitly (see https://bugs.python.org/issue33973) words = requestline.split(' ') if len(words) == 0: return False if len(words) >= 3: # Enough to determine protocol version version = words[-1] try: if not version.startswith('HTTP/'): raise ValueError base_version_number = version.split('/', 1)[1] version_number = base_version_number.split(""."") # RFC 2145 section 3.1 says there can be only one ""."" and # - major and minor numbers MUST be treated as # separate integers; # - HTTP/2.4 is a lower version than HTTP/2.13, which in # turn is lower than HTTP/12.3; # - Leading zeros MUST be ignored by recipients. if len(version_number) != 2: raise ValueError version_number = int(version_number[0]), int(version_number[1]) except (ValueError, IndexError): self.send_error( 400, ""Bad request version (%r)"" % version) return False if version_number >= (1, 1) and \ self.protocol_version >= ""HTTP/1.1"": self.close_connection = False if version_number >= (2, 0): self.send_error( 505, ""Invalid HTTP version (%s)"" % base_version_number) return False self.request_version = version if not 2 <= len(words) <= 3: self.send_error( 400, ""Bad request syntax (%r)"" % requestline) return False command, path = words[:2] if len(words) == 2: self.close_connection = True if command != 'GET': self.send_error( 400, ""Bad HTTP/0.9 request type (%r)"" % command) return False self.command, self.path = command, path # Examine the headers and look for a Connection directive. if six.PY2: self.headers = self.MessageClass(self.rfile, 0) else: try: self.headers = http_client.parse_headers( self.rfile, _class=self.MessageClass) except http_client.LineTooLong as err: self.send_error( 431, ""Line too long"", str(err)) return False except http_client.HTTPException as err: self.send_error( 431, ""Too many headers"", str(err) ) return False conntype = self.headers.get('Connection', """") if conntype.lower() == 'close': self.close_connection = True elif (conntype.lower() == 'keep-alive' and self.protocol_version >= ""HTTP/1.1""): self.close_connection = False # Examine the headers and look for an Expect directive expect = self.headers.get('Expect', """") if (expect.lower() == ""100-continue"" and self.protocol_version >= ""HTTP/1.1"" and self.request_version >= ""HTTP/1.1""): if not self.handle_expect_100(): return False return True","from swift.common.swob import wsgi_quote, wsgi_unquote, \ wsgi_quote_plus, wsgi_unquote_plus, wsgi_to_bytes, bytes_to_wsgi # Need to track the bytes-on-the-wire for S3 signatures -- eventlet # would do it for us, but since we rewrite the path on py3, we need to # fix it ourselves later. self.__raw_path_info = None if not six.PY2: # request lines *should* be ascii per the RFC, but historically # we've allowed (and even have func tests that use) arbitrary # bytes. This breaks on py3 (see https://bugs.python.org/issue33973 # ) but the work-around is simple: munge the request line to be # properly quoted. if self.raw_requestline.count(b' ') >= 2: parts = self.raw_requestline.split(b' ', 2) path, q, query = parts[1].partition(b'?') self.__raw_path_info = path # unquote first, so we don't over-quote something # that was *correctly* quoted path = wsgi_to_bytes(wsgi_quote(wsgi_unquote( bytes_to_wsgi(path)))) query = b'&'.join( sep.join([ wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(key)))), wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(val)))) ]) for part in query.split(b'&') for key, sep, val in (part.partition(b'='), )) parts[1] = path + q + query self.raw_requestline = b' '.join(parts) # else, mangled protocol, most likely; let base class deal with it return wsgi.HttpProtocol.parse_request(self) environ['RAW_PATH_INFO'] = bytes_to_wsgi( self.__raw_path_info)",212,78
openstack%2Fopenstack-ansible-ops~master~If52687cb1fabed575eb3467216163b64b0c89635,openstack/openstack-ansible-ops,master,If52687cb1fabed575eb3467216163b64b0c89635,Improve venv cleanup regexp discovery,MERGED,2022-12-20 13:16:34.000000000,2022-12-20 20:53:49.000000000,2022-12-20 20:52:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-20 13:16:34.000000000', 'files': ['ansible_tools/playbooks/cleanup-venvs.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/11efaaec957db6aeeef0ce0c287ae2484e5cf8c2', 'message': 'Improve venv cleanup regexp discovery\n\nChange-Id: If52687cb1fabed575eb3467216163b64b0c89635\n'}]",0,868212,11efaaec957db6aeeef0ce0c287ae2484e5cf8c2,8,3,1,35642,,,0,"Improve venv cleanup regexp discovery

Change-Id: If52687cb1fabed575eb3467216163b64b0c89635
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/12/868212/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible_tools/playbooks/cleanup-venvs.yml'],1,11efaaec957db6aeeef0ce0c287ae2484e5cf8c2,improve_venv_cleanup_for_dev_versions, patterns: '^.*-(\d+(\.\d+){2}(.dev\d+)?)(?<!{{ venv_tag }})(-python[23])?$', patterns: '^.*-(\d+(\.\d+){2})(?<!{{ venv_tag }})(-python[23])?$',1,1
openstack%2Fkeystoneauth~master~Ieaf8f459b11bec6fc0462a4977cc419fb4a88569,openstack/keystoneauth,master,Ieaf8f459b11bec6fc0462a4977cc419fb4a88569,Do not log sensitive info in OIDC,NEW,2022-10-19 16:56:02.000000000,2022-12-20 20:52:54.000000000,,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-19 16:56:02.000000000', 'files': ['keystoneauth1/identity/v3/oidc.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/b9646b4a27950528e711cc0692657f1dba55e546', 'message': 'Do not log sensitive info in OIDC\n\nChange-Id: Ieaf8f459b11bec6fc0462a4977cc419fb4a88569\nCloses-Bug: #1977516\n'}]",0,861906,b9646b4a27950528e711cc0692657f1dba55e546,3,3,1,9542,,,0,"Do not log sensitive info in OIDC

Change-Id: Ieaf8f459b11bec6fc0462a4977cc419fb4a88569
Closes-Bug: #1977516
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/06/861906/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneauth1/identity/v3/oidc.py'],1,b9646b4a27950528e711cc0692657f1dba55e546,bug/1977516,"import copy import loggingSENSITIVE_KEYS = (""password"", ""code"", ""token"", ""secret"") def _sanitize(self, data): sanitized = copy.deepcopy(data) for key in sanitized: if any(s in key for s in SENSITIVE_KEYS): sanitized[key] = ""***"" return sanitized if _logger.isEnabledFor(logging.DEBUG): sanitized_payload = self._sanitize(payload) _logger.debug( ""Making OpenID-Connect authentication request to %s with "" ""data %s"", access_token_endpoint, sanitized_payload ) log=False, response = op_response.json() if _logger.isEnabledFor(logging.DEBUG): sanitized_response = self._sanitize(response) _logger.debug( ""OpenID-Connect authentication response from %s is %s"", access_token_endpoint, sanitized_response ) access_token = response[self.access_token_type]", access_token = op_response.json()[self.access_token_type],27,1
openstack%2Fneutron~master~Id1bce82f584243b55a47fd6d5c5db81729e11f03,openstack/neutron,master,Id1bce82f584243b55a47fd6d5c5db81729e11f03,Update .pylintrc,MERGED,2022-11-30 22:41:43.000000000,2022-12-20 20:48:02.000000000,2022-12-20 20:45:56.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-11-30 22:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9ef39ccd092b2cb8d007f10fd232504b0c9d0cc', 'message': 'Update .pylintrc\n\nUpdate .pylintrc to be stricter, for example, to enforce\nC0330 warnings (hanging/continued indentation). This\nshould be the end of the series.\n\nAlso did some cleanup of old unsupport options that pylint\ncomplains about when you run it.\n\nChange-Id: Id1bce82f584243b55a47fd6d5c5db81729e11f03\n'}, {'number': 2, 'created': '2022-12-01 16:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9dfdc378bffd2485e188b0afe4c9028c58e632f', 'message': 'Update .pylintrc\n\nUpdate .pylintrc to be stricter, for example, to enforce\nC0330 warnings (hanging/continued indentation). This\nshould be the end of the series.\n\nAlso did some cleanup of old unsupport options that pylint\ncomplains about when you run it.\n\nChange-Id: Id1bce82f584243b55a47fd6d5c5db81729e11f03\n'}, {'number': 3, 'created': '2022-12-01 17:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/040380bc4fde048f5ba95b8f4f6ba3e9b64e3bde', 'message': 'Update .pylintrc\n\nUpdate .pylintrc to be stricter, for example, to enforce\nC0330 warnings (hanging/continued indentation). This\nshould be the end of the series.\n\nAlso did some cleanup of old unsupport options that pylint\ncomplains about when you run it.\n\nChange-Id: Id1bce82f584243b55a47fd6d5c5db81729e11f03\n'}, {'number': 4, 'created': '2022-12-12 17:04:07.000000000', 'files': ['.pylintrc'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d315d2467f1f69323ec7bf9c227f7f6d54d84db', 'message': 'Update .pylintrc\n\nUpdate .pylintrc to be stricter, for example, to enforce\nC0330 warnings (hanging/continued indentation). This\nshould be the end of the series.\n\nAlso did some cleanup of old unsupport options that pylint\ncomplains about when you run it.\n\nChange-Id: Id1bce82f584243b55a47fd6d5c5db81729e11f03\n'}]",8,866226,0d315d2467f1f69323ec7bf9c227f7f6d54d84db,39,5,4,1131,,,0,"Update .pylintrc

Update .pylintrc to be stricter, for example, to enforce
C0330 warnings (hanging/continued indentation). This
should be the end of the series.

Also did some cleanup of old unsupport options that pylint
complains about when you run it.

Change-Id: Id1bce82f584243b55a47fd6d5c5db81729e11f03
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/866226/1 && git format-patch -1 --stdout FETCH_HEAD,['.pylintrc'],1,d9ef39ccd092b2cb8d007f10fd232504b0c9d0cc,pylint-c0330-pylintrc,# List of valid names for the first argument in a class method. valid-classmethod-first-arg=cls # List of valid names for the first argument in a metaclass class method. valid-metaclass-classmethod-first-arg=cls," bad-builtin, deprecated-lambda, no-init, star-args, super-on-old-class,# TODO(dougwig) - disable nonstandard-exception while we have neutron_lib shims nonstandard-exception, bad-continuation, abstract-class-little-used, abstract-class-not-used, interface-not-implemented,# List of interface methods to ignore, separated by a comma. ignore-iface-methods=",5,13
openstack%2Fneutron~master~I17b4779020a7bfb369c3e721ab6638cd4a6ab50c,openstack/neutron,master,I17b4779020a7bfb369c3e721ab6638cd4a6ab50c,Fix some pylint indentation warnings,MERGED,2022-11-30 22:41:43.000000000,2022-12-20 20:47:05.000000000,2022-12-20 20:45:51.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-11-30 22:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/335e80e00c7c642c0bee9ef78d1906977fb06639', 'message': 'Fix some pylint indentation warnings\n\nRunning with a stricter .pylintrc generates a lot of\nC0330 warnings (hanging/continued indentation). Fix\nsome remaining ones in miscellaneous directories.\n\nAlso cleanup any remaining code that I missed in this\nseries, or has changed since I started.\n\nTrivialfix\n\nChange-Id: I17b4779020a7bfb369c3e721ab6638cd4a6ab50c\n'}, {'number': 2, 'created': '2022-12-01 16:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2342616b7599525887ac131d892bc5d3596c598b', 'message': 'Fix some pylint indentation warnings\n\nRunning with a stricter .pylintrc generates a lot of\nC0330 warnings (hanging/continued indentation). Fix\nsome remaining ones in miscellaneous directories.\n\nAlso cleanup any remaining code that I missed in this\nseries, or has changed since I started.\n\nTrivialfix\n\nChange-Id: I17b4779020a7bfb369c3e721ab6638cd4a6ab50c\n'}, {'number': 3, 'created': '2022-12-01 17:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bcdd9ed42b9578609203cd5bbc82f3d559af75c6', 'message': 'Fix some pylint indentation warnings\n\nRunning with a stricter .pylintrc generates a lot of\nC0330 warnings (hanging/continued indentation). Fix\nsome remaining ones in miscellaneous directories.\n\nAlso cleanup any remaining code that I missed in this\nseries, or has changed since I started.\n\nTrivialfix\n\nChange-Id: I17b4779020a7bfb369c3e721ab6638cd4a6ab50c\n'}, {'number': 4, 'created': '2022-12-12 17:04:07.000000000', 'files': ['neutron/notifiers/ironic.py', 'neutron/plugins/ml2/drivers/mech_sriov/mech_driver/mech_driver.py', 'neutron/profiling/profiled_decorator.py', 'neutron/debug/commands.py', 'neutron/hacking/checks.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/extension_drivers/qos_driver.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/ipam/drivers/neutrondb_ipam/driver.py', 'neutron/objects/ports.py', 'neutron/pecan_wsgi/controllers/resource.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/cmd/ovn/migration_mtu.py', 'neutron/services/logapi/drivers/ovn/driver.py', 'neutron/agent/l3/extensions/qos/fip.py', 'neutron/cmd/sanitize_port_binding_profile_allocation.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/86badcfe2d4a530aad1dd364af00142a3e695f2b', 'message': 'Fix some pylint indentation warnings\n\nRunning with a stricter .pylintrc generates a lot of\nC0330 warnings (hanging/continued indentation). Fix\nsome remaining ones in miscellaneous directories.\n\nAlso cleanup any remaining code that I missed in this\nseries, or has changed since I started.\n\nTrivialfix\n\nChange-Id: I17b4779020a7bfb369c3e721ab6638cd4a6ab50c\n'}]",16,866225,86badcfe2d4a530aad1dd364af00142a3e695f2b,73,5,4,1131,,,0,"Fix some pylint indentation warnings

Running with a stricter .pylintrc generates a lot of
C0330 warnings (hanging/continued indentation). Fix
some remaining ones in miscellaneous directories.

Also cleanup any remaining code that I missed in this
series, or has changed since I started.

Trivialfix

Change-Id: I17b4779020a7bfb369c3e721ab6638cd4a6ab50c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/866225/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/notifiers/ironic.py', 'neutron/plugins/ml2/drivers/mech_sriov/mech_driver/mech_driver.py', 'neutron/profiling/profiled_decorator.py', 'neutron/debug/commands.py', 'neutron/hacking/checks.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/ipam/drivers/neutrondb_ipam/driver.py', 'neutron/objects/ports.py', 'neutron/pecan_wsgi/controllers/resource.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/cmd/ovn/migration_mtu.py', 'neutron/agent/l3/extensions/qos/fip.py', 'neutron/cmd/sanitize_port_binding_profile_allocation.py']",13,335e80e00c7c642c0bee9ef78d1906977fb06639,pylint-c0330-pylintrc, port_binding.profile = { 'allocation':, port_binding.profile = {'allocation':,30,25
openstack%2Fnova~stable%2Ftrain~Ica180165184b319651d22fe77e076af036228860,openstack/nova,stable/train,Ica180165184b319651d22fe77e076af036228860,Set instance host and drop migration under lock,MERGED,2022-05-11 15:30:20.000000000,2022-12-20 20:18:12.000000000,2022-12-20 20:16:46.000000000,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 24713}]","[{'number': 1, 'created': '2022-05-11 15:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff4b427b651e429eb85b771c23197d1f50d65adb', 'message': 'Set instance host and drop migration under lock\n\nThe _update_available_resources periodic makes resource allocation\nadjustments while holding the COMPUTE_RESOURCE_SEMAPHORE based on the\nlist of instances assigned to this host of the resource tracker and\nbased on the migrations where the source or the target host is the host\nof the resource tracker. So if the instance.host or the migration\ncontext changes without holding the COMPUTE_RESOURCE_SEMAPHORE while\nthe _update_available_resources task is running there there will be data\ninconsistency in the resource tracker.\n\nThis patch makes sure that during evacuation the instance.host and the\nmigration context is changed while holding the semaphore.\n\nChange-Id: Ica180165184b319651d22fe77e076af036228860\nCloses-Bug: #1896463\n(cherry picked from commit 7675964af81472f3dd57db952d704539e61a3e6e)\n(cherry picked from commit 3ecc098d28addd8f3e1da16b29940f4337209e62)\n(cherry picked from commit 3b497ad7d41bc84ec50124c4d55f4138c4878751)\n'}, {'number': 2, 'created': '2022-05-11 16:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fae018013f73983b577bd1dd78f09b4ec96b1bd7', 'message': 'Set instance host and drop migration under lock\n\nThe _update_available_resources periodic makes resource allocation\nadjustments while holding the COMPUTE_RESOURCE_SEMAPHORE based on the\nlist of instances assigned to this host of the resource tracker and\nbased on the migrations where the source or the target host is the host\nof the resource tracker. So if the instance.host or the migration\ncontext changes without holding the COMPUTE_RESOURCE_SEMAPHORE while\nthe _update_available_resources task is running there there will be data\ninconsistency in the resource tracker.\n\nThis patch makes sure that during evacuation the instance.host and the\nmigration context is changed while holding the semaphore.\n\nChange-Id: Ica180165184b319651d22fe77e076af036228860\nCloses-Bug: #1896463\n(cherry picked from commit 7675964af81472f3dd57db952d704539e61a3e6e)\n(cherry picked from commit 3ecc098d28addd8f3e1da16b29940f4337209e62)\n(cherry picked from commit 3b497ad7d41bc84ec50124c4d55f4138c4878751)\n'}, {'number': 3, 'created': '2022-05-11 16:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a443654ccb5da4589c5bc4b05e2073c20c193d1e', 'message': 'Set instance host and drop migration under lock\n\nThe _update_available_resources periodic makes resource allocation\nadjustments while holding the COMPUTE_RESOURCE_SEMAPHORE based on the\nlist of instances assigned to this host of the resource tracker and\nbased on the migrations where the source or the target host is the host\nof the resource tracker. So if the instance.host or the migration\ncontext changes without holding the COMPUTE_RESOURCE_SEMAPHORE while\nthe _update_available_resources task is running there there will be data\ninconsistency in the resource tracker.\n\nThis patch makes sure that during evacuation the instance.host and the\nmigration context is changed while holding the semaphore.\n\nstable/train specific change: fair locking was introduced from ussuri\nforward. See Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9\nSo the train backport does not add fair=True to the synchronized\ndecorator of finish_evacuation as that would interfere with the other\nfunctions taking the same lock without fair=True.\n\nChange-Id: Ica180165184b319651d22fe77e076af036228860\nCloses-Bug: #1896463\n(cherry picked from commit 7675964af81472f3dd57db952d704539e61a3e6e)\n(cherry picked from commit 3ecc098d28addd8f3e1da16b29940f4337209e62)\n(cherry picked from commit 3b497ad7d41bc84ec50124c4d55f4138c4878751)\n'}, {'number': 4, 'created': '2022-11-22 16:05:13.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1896463.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d5506014837097261231b205e9b3acbfa503b354', 'message': 'Set instance host and drop migration under lock\n\nThe _update_available_resources periodic makes resource allocation\nadjustments while holding the COMPUTE_RESOURCE_SEMAPHORE based on the\nlist of instances assigned to this host of the resource tracker and\nbased on the migrations where the source or the target host is the host\nof the resource tracker. So if the instance.host or the migration\ncontext changes without holding the COMPUTE_RESOURCE_SEMAPHORE while\nthe _update_available_resources task is running there there will be data\ninconsistency in the resource tracker.\n\nThis patch makes sure that during evacuation the instance.host and the\nmigration context is changed while holding the semaphore.\n\nstable/train specific change: fair locking was introduced from ussuri\nforward. See Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9\nSo the train backport does not add fair=True to the synchronized\ndecorator of finish_evacuation as that would interfere with the other\nfunctions taking the same lock without fair=True.\n\nChange-Id: Ica180165184b319651d22fe77e076af036228860\nCloses-Bug: #1896463\n(cherry picked from commit 7675964af81472f3dd57db952d704539e61a3e6e)\n(cherry picked from commit 3ecc098d28addd8f3e1da16b29940f4337209e62)\n(cherry picked from commit 3b497ad7d41bc84ec50124c4d55f4138c4878751)\n'}]",13,841444,d5506014837097261231b205e9b3acbfa503b354,32,5,4,9708,,,0,"Set instance host and drop migration under lock

The _update_available_resources periodic makes resource allocation
adjustments while holding the COMPUTE_RESOURCE_SEMAPHORE based on the
list of instances assigned to this host of the resource tracker and
based on the migrations where the source or the target host is the host
of the resource tracker. So if the instance.host or the migration
context changes without holding the COMPUTE_RESOURCE_SEMAPHORE while
the _update_available_resources task is running there there will be data
inconsistency in the resource tracker.

This patch makes sure that during evacuation the instance.host and the
migration context is changed while holding the semaphore.

stable/train specific change: fair locking was introduced from ussuri
forward. See Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9
So the train backport does not add fair=True to the synchronized
decorator of finish_evacuation as that would interfere with the other
functions taking the same lock without fair=True.

Change-Id: Ica180165184b319651d22fe77e076af036228860
Closes-Bug: #1896463
(cherry picked from commit 7675964af81472f3dd57db952d704539e61a3e6e)
(cherry picked from commit 3ecc098d28addd8f3e1da16b29940f4337209e62)
(cherry picked from commit 3b497ad7d41bc84ec50124c4d55f4138c4878751)
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/841444/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1896463.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py']",4,ff4b427b651e429eb85b771c23197d1f50d65adb,bug/1896463," @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE, fair=True) def finish_evacuation(self, instance, node, migration): instance.apply_migration_context() # NOTE (ndipanov): This save will now update the host and node # attributes making sure that next RT pass is consistent since # it will be based on the instance and not the migration DB # entry. instance.host = self.host instance.node = node instance.save() instance.drop_migration_context() # NOTE (ndipanov): Mark the migration as done only after we # mark the instance as belonging to this host. if migration: migration.status = 'done' migration.save()",,40,37
openstack%2Foslo.messaging~master~Iabce0986fae6ed8838f1f94496b5994fc19cc5ef,openstack/oslo.messaging,master,Iabce0986fae6ed8838f1f94496b5994fc19cc5ef,Warn when we force creating a non durable exchange,MERGED,2022-10-18 12:18:50.000000000,2022-12-20 20:14:12.000000000,2022-12-20 20:12:47.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-18 12:18:50.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b83b87d49e9bfa8af3380c56b9910625221400a6', 'message': 'Warn when we force creating a non durable exchange\n\nAdding warning logs so that users can detect the fallback with durable\nexchanges.\n\nChange-Id: Iabce0986fae6ed8838f1f94496b5994fc19cc5ef\n'}]",0,861746,b83b87d49e9bfa8af3380c56b9910625221400a6,8,3,1,28522,,,0,"Warn when we force creating a non durable exchange

Adding warning logs so that users can detect the fallback with durable
exchanges.

Change-Id: Iabce0986fae6ed8838f1f94496b5994fc19cc5ef
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/46/861746/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,b83b87d49e9bfa8af3380c56b9910625221400a6,durable_shared_control_exchange," LOG.warning(""Force creating a non durable exchange."")",,1,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I6edef63e60623ea3b51386593d76b18092dd7f30,openstack/tripleo-ansible,stable/wallaby,I6edef63e60623ea3b51386593d76b18092dd7f30,Ensure $tuned_params is restored after grub2-mkconfig,MERGED,2022-11-23 22:57:58.000000000,2022-12-20 19:43:20.000000000,2022-12-20 19:43:20.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-23 22:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a7ebb7f36c9cc8d0efd1beda89b9d5cfb068c339', 'message': 'Ensure $tuned_params is restored after grub2-mkconfig\n\nThe playbook cli-overcloud-node-kernelargs.yaml calls the tuned role\nand then the tripleo_kernel role.\n\nThe tuned role executes the following command:\n    tuned-adm profile throughput-performance\n\nThis has the side-effect of adding $tuned_params to the options line\nof /boot/loader/entries files, which is required to add its kernel\narguments from /boot/grub2/grubenv.\n\nHowever when grub2-mkconfig is called, $tuned_params is *removed* from\nthe /boot/loader/entries files, breaking the enablement of the tuned\nprofile.\n\nThis change runs tuned-adm after grub2-mkconfig, which adds back\n$tuned_params if there is an active profile.\n\nChange-Id: I6edef63e60623ea3b51386593d76b18092dd7f30\nResolves: rhbz#2122949\n(cherry picked from commit 55c724fefacbc1b5986065c1f90f270bf0adfb60)\n'}, {'number': 2, 'created': '2022-11-29 02:26:14.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ba0f04726fa914e7ef56e005eb9eddaa03f14acb', 'message': 'Ensure $tuned_params is restored after grub2-mkconfig\n\nThe playbook cli-overcloud-node-kernelargs.yaml calls the tuned role\nand then the tripleo_kernel role.\n\nThe tuned role executes the following command:\n    tuned-adm profile throughput-performance\n\nThis has the side-effect of adding $tuned_params to the options line\nof /boot/loader/entries files, which is required to add its kernel\narguments from /boot/grub2/grubenv.\n\nHowever when grub2-mkconfig is called, $tuned_params is *removed* from\nthe /boot/loader/entries files, breaking the enablement of the tuned\nprofile.\n\nThis change runs tuned-adm after grub2-mkconfig, which adds back\n$tuned_params if there is an active profile.\n\nChange-Id: I6edef63e60623ea3b51386593d76b18092dd7f30\nResolves: rhbz#2122949\n(cherry picked from commit 55c724fefacbc1b5986065c1f90f270bf0adfb60)\n(cherry picked from commit e8d2f40660e669d9f8e9bb487802df0647b7cb71)\n'}]",5,865476,ba0f04726fa914e7ef56e005eb9eddaa03f14acb,20,4,2,4571,,,0,"Ensure $tuned_params is restored after grub2-mkconfig

The playbook cli-overcloud-node-kernelargs.yaml calls the tuned role
and then the tripleo_kernel role.

The tuned role executes the following command:
    tuned-adm profile throughput-performance

This has the side-effect of adding $tuned_params to the options line
of /boot/loader/entries files, which is required to add its kernel
arguments from /boot/grub2/grubenv.

However when grub2-mkconfig is called, $tuned_params is *removed* from
the /boot/loader/entries files, breaking the enablement of the tuned
profile.

This change runs tuned-adm after grub2-mkconfig, which adds back
$tuned_params if there is an active profile.

Change-Id: I6edef63e60623ea3b51386593d76b18092dd7f30
Resolves: rhbz#2122949
(cherry picked from commit 55c724fefacbc1b5986065c1f90f270bf0adfb60)
(cherry picked from commit e8d2f40660e669d9f8e9bb487802df0647b7cb71)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/76/865476/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'],1,a7ebb7f36c9cc8d0efd1beda89b9d5cfb068c339,bz/2139922-stable/wallaby," - name: Check for active tuned profile stat: path: ""/etc/tuned/active_profile"" register: tuned_active_profile - name: Ensure $tuned_params is restored to /boot/loader/entries files shell: >- tuned-adm profile $(cat /etc/tuned/active_profile) environment: PATH: ""/bin:/usr/bin:/sbin:/usr/sbin"" when: - tuned_active_profile.stat.exists - tuned_active_profile.stat.size | int > 0 ",,15,0
openstack%2Ftripleo-heat-templates~stable%2Fzed~Idb16f8664d937d8d11108f2b29b22f8b7ced521c,openstack/tripleo-heat-templates,stable/zed,Idb16f8664d937d8d11108f2b29b22f8b7ced521c,Expose /var/lib/glance to cron container,MERGED,2022-11-29 08:14:49.000000000,2022-12-20 19:43:17.000000000,2022-12-20 19:43:17.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-29 08:14:49.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ddf16a2cc84281d7a2a08bddae5a78972143f8c', 'message': 'Expose /var/lib/glance to cron container\n\nThe glance_api_cron container executes the cache clean/prune jobs, thus\nit requires access to the /var/lib/glance directory which contains\nthe cache data.\n\nBecause the directory is now shared by the two containers (glance_api\nand glance_api_cron), the mount flag is updated from slave to shared\nso that any change is propagated between these two containers.\n\nCloses-Bug: #1997625\nChange-Id: Idb16f8664d937d8d11108f2b29b22f8b7ced521c\n(cherry picked from commit b532a042152805e32c2f410bbfe16f5e8e222581)\n'}]",0,865898,4ddf16a2cc84281d7a2a08bddae5a78972143f8c,8,5,1,19138,,,0,"Expose /var/lib/glance to cron container

The glance_api_cron container executes the cache clean/prune jobs, thus
it requires access to the /var/lib/glance directory which contains
the cache data.

Because the directory is now shared by the two containers (glance_api
and glance_api_cron), the mount flag is updated from slave to shared
so that any change is propagated between these two containers.

Closes-Bug: #1997625
Change-Id: Idb16f8664d937d8d11108f2b29b22f8b7ced521c
(cherry picked from commit b532a042152805e32c2f410bbfe16f5e8e222581)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/865898/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,4ddf16a2cc84281d7a2a08bddae5a78972143f8c,bug/1997625-stable/zed, - /var/lib/glance:/var/lib/glance:shared - /var/lib/glance:/var/lib/glance:shared, - /var/lib/glance:/var/lib/glance:slave,2,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I7538def60e4fd3a7187ede0e1f5ada1b0c460f65,openstack/tripleo-ansible,stable/wallaby,I7538def60e4fd3a7187ede0e1f5ada1b0c460f65,Add podman_socket role,MERGED,2022-11-09 10:15:55.000000000,2022-12-20 19:43:14.000000000,2022-12-20 19:43:14.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-09 10:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4f53ab32d33da9c86c97eed892750a33fef59a51', 'message': 'Add podman_socket role\n\nThis patch adds a role for creating podman unix socket for TripleO purposes.\nIt will be used during collectd deployments since collectd-sensubility\nrequires accessing podman via the socket.\n\nFixes molecule tests for tripleo_podman role.\n\nChange-Id: I7538def60e4fd3a7187ede0e1f5ada1b0c460f65\n(cherry picked from commit 4fd0e5a9aea67751a457fa82bb7331744f428259)\n'}, {'number': 2, 'created': '2022-11-09 10:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/23fae7dc4dc6c9257312c491a4c02a3df2327f49', 'message': 'Add podman_socket role\n\nThis patch adds a role for creating podman unix socket for TripleO purposes.\nIt will be used during collectd deployments since collectd-sensubility\nrequires accessing podman via the socket.\n\nFixes molecule tests for tripleo_podman role.\n\nChange-Id: I7538def60e4fd3a7187ede0e1f5ada1b0c460f65\n(cherry picked from commit 4fd0e5a9aea67751a457fa82bb7331744f428259)\n'}, {'number': 3, 'created': '2022-12-13 11:56:33.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/meta/main.yml', 'tripleo_ansible/roles/tripleo_podman/templates/podman.service.j2', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_rsyslog_cleanup.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/install/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_service.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5d5267cceb5bce50b1b79cd59156ec3fb03d1898', 'message': 'Add podman_socket role\n\nThis patch adds a role for creating podman unix socket for TripleO purposes.\nIt will be used during collectd deployments since collectd-sensubility\nrequires accessing podman via the socket.\n\nFixes molecule tests for tripleo_podman role.\n\nChange-Id: I7538def60e4fd3a7187ede0e1f5ada1b0c460f65\n(cherry picked from commit 4fd0e5a9aea67751a457fa82bb7331744f428259)\n'}]",1,864041,5d5267cceb5bce50b1b79cd59156ec3fb03d1898,20,5,3,5241,,,0,"Add podman_socket role

This patch adds a role for creating podman unix socket for TripleO purposes.
It will be used during collectd deployments since collectd-sensubility
requires accessing podman via the socket.

Fixes molecule tests for tripleo_podman role.

Change-Id: I7538def60e4fd3a7187ede0e1f5ada1b0c460f65
(cherry picked from commit 4fd0e5a9aea67751a457fa82bb7331744f428259)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/864041/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/meta/main.yml', 'tripleo_ansible/roles/tripleo_podman/templates/podman.service.j2', 'tripleo_ansible/roles/tripleo_podman/molecule/install/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_rsyslog_cleanup.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_service.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/prepare.yml']",8,4f53ab32d33da9c86c97eed892750a33fef59a51,user-podman-socket-stable/wallaby,<<<<<<< HEAD (4b6c2e num_dpdk_interface_rx_queues support net conf schema) ======= - containernetworking-plugins - role: env_data >>>>>>> CHANGE (e97d1f Add podman_socket role),,97,0
openstack%2Fnova~stable%2Ftrain~Id0577bceed9808b52da4acc352cf9c204f6c8861,openstack/nova,stable/train,Id0577bceed9808b52da4acc352cf9c204f6c8861,Reproduce bug 1896463 in func env,MERGED,2022-05-11 15:06:07.000000000,2022-12-20 19:26:39.000000000,2022-12-20 19:25:31.000000000,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-11 15:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dc731c32b5c51b5005a59f79b476d3df0be93bb', 'message': 'Reproduce bug 1896463 in func env\n\nThere is a race condition between the rebuild and the\n_update_available_resource periodic task on the compute. This patch adds\na reproducer functional test. Unfortunately it needs some injected sleep\nto make the race happen in a stable way. This is suboptimal but only\nadds 3 seconds of slowness to the test execution.\n\nChange-Id: Id0577bceed9808b52da4acc352cf9c204f6c8861\nRelated-Bug: #1896463\n(cherry picked from commit 3f348602ae4a40c52c7135b2cb48deaa6052c488)\n(cherry picked from commit d768cdbb88d0b0b3ca38623c4bb26d5eabdf1596)\n(cherry picked from commit 02114a9d7f2e8b62d3a7091ca3fde251dfffa860)\n'}, {'number': 2, 'created': '2022-05-11 16:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50164f840f1d9dc650ca8f7ebe6b479c8077b384', 'message': 'Reproduce bug 1896463 in func env\n\nThere is a race condition between the rebuild and the\n_update_available_resource periodic task on the compute. This patch adds\na reproducer functional test. Unfortunately it needs some injected sleep\nto make the race happen in a stable way. This is suboptimal but only\nadds 3 seconds of slowness to the test execution.\n\nConflicts:\n  nova/tests/functional/regressions/test_bug_1896463.py due to\n  I84c58de90dad6d86271767363aef90ddac0f1730 and\n  I8c96b337f32148f8f5899c9b87af331b1fa41424 is not in stable/train.\n  Also I had to make the test code python 2 compatible.\n\nChange-Id: Id0577bceed9808b52da4acc352cf9c204f6c8861\nRelated-Bug: #1896463\n(cherry picked from commit 3f348602ae4a40c52c7135b2cb48deaa6052c488)\n(cherry picked from commit d768cdbb88d0b0b3ca38623c4bb26d5eabdf1596)\n(cherry picked from commit 02114a9d7f2e8b62d3a7091ca3fde251dfffa860)\n'}, {'number': 3, 'created': '2022-11-22 16:05:13.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1896463.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e558aa2046b649696b69551657e5d429e8117427', 'message': 'Reproduce bug 1896463 in func env\n\nThere is a race condition between the rebuild and the\n_update_available_resource periodic task on the compute. This patch adds\na reproducer functional test. Unfortunately it needs some injected sleep\nto make the race happen in a stable way. This is suboptimal but only\nadds 3 seconds of slowness to the test execution.\n\nConflicts:\n  nova/tests/functional/regressions/test_bug_1896463.py due to\n  I84c58de90dad6d86271767363aef90ddac0f1730 and\n  I8c96b337f32148f8f5899c9b87af331b1fa41424 is not in stable/train.\n  Also I had to make the test code python 2 compatible.\n\nChange-Id: Id0577bceed9808b52da4acc352cf9c204f6c8861\nRelated-Bug: #1896463\n(cherry picked from commit 3f348602ae4a40c52c7135b2cb48deaa6052c488)\n(cherry picked from commit d768cdbb88d0b0b3ca38623c4bb26d5eabdf1596)\n(cherry picked from commit 02114a9d7f2e8b62d3a7091ca3fde251dfffa860)\n'}]",9,841288,e558aa2046b649696b69551657e5d429e8117427,19,4,3,9708,,,0,"Reproduce bug 1896463 in func env

There is a race condition between the rebuild and the
_update_available_resource periodic task on the compute. This patch adds
a reproducer functional test. Unfortunately it needs some injected sleep
to make the race happen in a stable way. This is suboptimal but only
adds 3 seconds of slowness to the test execution.

Conflicts:
  nova/tests/functional/regressions/test_bug_1896463.py due to
  I84c58de90dad6d86271767363aef90ddac0f1730 and
  I8c96b337f32148f8f5899c9b87af331b1fa41424 is not in stable/train.
  Also I had to make the test code python 2 compatible.

Change-Id: Id0577bceed9808b52da4acc352cf9c204f6c8861
Related-Bug: #1896463
(cherry picked from commit 3f348602ae4a40c52c7135b2cb48deaa6052c488)
(cherry picked from commit d768cdbb88d0b0b3ca38623c4bb26d5eabdf1596)
(cherry picked from commit 02114a9d7f2e8b62d3a7091ca3fde251dfffa860)
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/841288/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1896463.py'],1,4dc731c32b5c51b5005a59f79b476d3df0be93bb,bug/1896463,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import copy import fixtures import time from oslo_config import cfg from nova import context from nova import objects from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit.image import fake as fake_image from nova import utils from nova.virt import fake CONF = cfg.CONF class TestEvacuateResourceTrackerRace( test.TestCase, integrated_helpers.InstanceHelperMixin, ): """"""Demonstrate bug #1896463. Trigger a race condition between an almost finished evacuation that is dropping the migration context, and the _update_available_resource() periodic task that already loaded the instance list but haven't loaded the migration list yet. The result is that the PCI allocation made by the evacuation is deleted by the overlapping periodic task run and the instance will not have PCI allocation after the evacuation. """""" def setUp(self): super().setUp() self.neutron = self.useFixture(nova_fixtures.NeutronFixture(self)) fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) self.placement = self.useFixture(func_fixtures.PlacementFixture()).api self.api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.admin_api = self.api_fixture.admin_api self.admin_api.microversion = 'latest' self.api = self.admin_api self.start_service('conductor') self.start_service('scheduler') self.flags(compute_driver='fake.FakeDriverWithPciResources') self.useFixture( fake.FakeDriverWithPciResources. FakeDriverWithPciResourcesConfigFixture()) self.compute1 = self._start_compute('host1') self.compute1_id = self._get_compute_node_id_by_host('host1') self.compute1_service_id = self.admin_api.get_services( host='host1', binary='nova-compute')[0]['id'] self.compute2 = self._start_compute('host2') self.compute2_id = self._get_compute_node_id_by_host('host2') self.compute2_service_id = self.admin_api.get_services( host='host2', binary='nova-compute')[0]['id'] # add extra ports and the related network to the neutron fixture # specifically for these tests. It cannot be added globally in the # fixture init as it adds a second network that makes auto allocation # based test to fail due to ambiguous networks. self.neutron._ports[self.neutron.sriov_port['id']] = \ copy.deepcopy(self.neutron.sriov_port) self.neutron._networks[ self.neutron.network_2['id']] = self.neutron.network_2 self.neutron._subnets[ self.neutron.subnet_2['id']] = self.neutron.subnet_2 self.ctxt = context.get_admin_context() def _get_compute_node_id_by_host(self, host): # we specifically need the integer id of the node not the UUID so we # need to use the old microversion with utils.temporary_mutation(self.admin_api, microversion='2.52'): hypers = self.admin_api.api_get( 'os-hypervisors').body['hypervisors'] for hyper in hypers: if hyper['hypervisor_hostname'] == host: return hyper['id'] self.fail('Hypervisor with hostname=%s not found' % host) def _assert_pci_device_allocated( self, instance_uuid, compute_node_id, num=1): """"""Assert that a given number of PCI devices are allocated to the instance on the given host. """""" devices = objects.PciDeviceList.get_by_instance_uuid( self.ctxt, instance_uuid) devices_on_host = [dev for dev in devices if dev.compute_node_id == compute_node_id] self.assertEqual(num, len(devices_on_host)) def test_evacuate_races_with_update_available_resource(self): # Create a server with a direct port to have PCI allocation server = self._create_server( name='test-server-for-bug-1896463', networks=[{'port': self.neutron.sriov_port['id']}], host='host1' ) self._assert_pci_device_allocated(server['id'], self.compute1_id) self._assert_pci_device_allocated( server['id'], self.compute2_id, num=0) # stop and force down the compute the instance is on to allow # evacuation self.compute1.stop() self.admin_api.put_service( self.compute1_service_id, {'forced_down': 'true'}) # Inject some sleeps both in the Instance.drop_migration_context and # the MigrationList.get_in_progress_by_host_and_node code to make them # overlap. # We want to create the following execution scenario: # 1) The evacuation makes a move claim on the dest including the PCI # claim. This means there is a migration context. But the evacuation # is not complete yet so the instance.host does not point to the # dest host. # 2) The dest resource tracker starts an _update_available_resource() # periodic task and this task loads the list of instances on its # host from the DB. Our instance is not in this list due to #1. # 3) The evacuation finishes, the instance.host is set to the dest host # and the migration context is deleted. # 4) The periodic task now loads the list of in-progress migration from # the DB to check for incoming our outgoing migrations. However due # to #3 our instance is not in this list either. # 5) The periodic task cleans up every lingering PCI claim that is not # connected to any instance collected above from the instance list # and from the migration list. As our instance is not in either of # the lists, the resource tracker cleans up the PCI allocation for # the already finished evacuation of our instance. # # Unfortunately we cannot reproduce the above situation without sleeps. # We need that the evac starts first then the periodic starts, but not # finishes, then evac finishes, then periodic finishes. If I trigger # and run the whole periodic in a wrapper of drop_migration_context # then I could not reproduce the situation described at #4). In general # it is not # # evac # | # | # | periodic # | | # | | # | x # | # | # x # # but # # evac # | # | # | periodic # | | # | | # | | # x | # | # x # # what is needed need. # # Starting the periodic from the test in a separate thread at # drop_migration_context() might work but that is an extra complexity # in the test code. Also it might need a sleep still to make the # reproduction stable but only one sleep instead of two. orig_drop = objects.Instance.drop_migration_context def slow_drop(*args, **kwargs): time.sleep(1) return orig_drop(*args, **kwargs) self.useFixture( fixtures.MockPatch( 'nova.objects.instance.Instance.drop_migration_context', new=slow_drop)) orig_get_mig = objects.MigrationList.get_in_progress_by_host_and_node def slow_get_mig(*args, **kwargs): time.sleep(2) return orig_get_mig(*args, **kwargs) self.useFixture( fixtures.MockPatch( 'nova.objects.migration.MigrationList.' 'get_in_progress_by_host_and_node', new=slow_get_mig)) self.admin_api.post_server_action(server['id'], {'evacuate': {}}) # we trigger the _update_available_resource periodic to overlap with # the already started evacuation self._run_periodics() self._wait_for_server_parameter( server, {'OS-EXT-SRV-ATTR:host': 'host2', 'status': 'ACTIVE'}) self._assert_pci_device_allocated(server['id'], self.compute1_id) # This is bug #1896463 as the PCI allocation was deleted by the racing # _update_available_resource periodic task. self._assert_pci_device_allocated( server['id'], self.compute2_id, num=0) # FIXME(gibi): When this bug is fixed (or if you remove the sleeps # above to avoid the race condition) then we expect that the PCI # allocation exists on the destination host too. # self._assert_pci_device_allocated(server['id'], self.compute2_id) ",,233,0
openstack%2Foslo.db~stable%2Fzed~I005af8c7afe3b5104068ca153aecbfe54e163ca3,openstack/oslo.db,stable/zed,I005af8c7afe3b5104068ca153aecbfe54e163ca3,types: Set 'cache_ok' (redux),MERGED,2022-09-09 16:42:51.000000000,2022-12-20 19:24:23.000000000,2022-12-20 19:23:24.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-09 16:42:51.000000000', 'files': ['oslo_db/sqlalchemy/types.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/717c824bf48dbad86611a1b34b585189e33fcc26', 'message': ""types: Set 'cache_ok' (redux)\n\nIn change Idf6fd858fad9521c7c5ba82c31b6d3077756abd9, we defined the\n'cache_ok' key on a number of custom types. However, we relied on this\nattribute being inheritable which is not the case due to how that\nattribute is checked for [1]. As a result, we must set this attribute on\nevery one of our custom types.\n\n[1] https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4_41/lib/sqlalchemy/sql/type_api.py#L984\n\nChange-Id: I005af8c7afe3b5104068ca153aecbfe54e163ca3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 10e8e77a92455fb638dcc7e73c044cd22acd84ad)\n""}]",0,856838,717c824bf48dbad86611a1b34b585189e33fcc26,7,2,1,15334,,,0,"types: Set 'cache_ok' (redux)

In change Idf6fd858fad9521c7c5ba82c31b6d3077756abd9, we defined the
'cache_ok' key on a number of custom types. However, we relied on this
attribute being inheritable which is not the case due to how that
attribute is checked for [1]. As a result, we must set this attribute on
every one of our custom types.

[1] https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4_41/lib/sqlalchemy/sql/type_api.py#L984

Change-Id: I005af8c7afe3b5104068ca153aecbfe54e163ca3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit 10e8e77a92455fb638dcc7e73c044cd22acd84ad)
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/38/856838/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/sqlalchemy/types.py'],1,717c824bf48dbad86611a1b34b585189e33fcc26,," cache_ok = True """"""This type is safe to cache."""""" cache_ok = True """"""This type is safe to cache."""""" cache_ok = True """"""This type is safe to cache."""""" ",,7,1
openstack%2Foslo.db~master~I63ad4fbbd7fa72e7a4d8ebd458d323516f997424,openstack/oslo.db,master,I63ad4fbbd7fa72e7a4d8ebd458d323516f997424,skip bandit on oslo_db/tests,MERGED,2022-11-28 18:31:34.000000000,2022-12-20 19:24:21.000000000,2022-12-20 19:23:25.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 18:31:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/43d054403eb697ff96c52ee382365aac1e8d798f', 'message': 'skip bandit on oslo_db/tests\n\nthe bandit command excludes the folder named ""tests"" but does not\nseem to exclude where the tests actually are here, which is\noslo_db/tests.  add this folder, as we have ""assert"" statements\nas well as pickle use in our test suite, which bandit disapproves of.\n\nChange-Id: I63ad4fbbd7fa72e7a4d8ebd458d323516f997424\n'}]",0,865878,43d054403eb697ff96c52ee382365aac1e8d798f,7,2,1,11816,,,0,"skip bandit on oslo_db/tests

the bandit command excludes the folder named ""tests"" but does not
seem to exclude where the tests actually are here, which is
oslo_db/tests.  add this folder, as we have ""assert"" statements
as well as pickle use in our test suite, which bandit disapproves of.

Change-Id: I63ad4fbbd7fa72e7a4d8ebd458d323516f997424
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/78/865878/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,43d054403eb697ff96c52ee382365aac1e8d798f,skip_bandit_on_tests," bandit -r oslo_db -x tests -x oslo_db/tests -n5 --skip B105,B311"," bandit -r oslo_db -x tests -n5 --skip B105,B311",1,1
openstack%2Foctavia~master~Ie4a690263a3de6e85a1081c373c56e2992941622,openstack/octavia,master,Ie4a690263a3de6e85a1081c373c56e2992941622,Fix typo in docs section title,MERGED,2022-12-09 16:12:37.000000000,2022-12-20 19:19:15.000000000,2022-12-20 19:18:05.000000000,"[{'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 31664}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-12-09 16:12:37.000000000', 'files': ['doc/source/admin/index.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1d84f2972f6808109b23e3577ffaa328598344b8', 'message': 'Fix typo in docs section title\n\nChange-Id: Ie4a690263a3de6e85a1081c373c56e2992941622\n'}]",0,867123,1d84f2972f6808109b23e3577ffaa328598344b8,9,4,1,15197,,,0,"Fix typo in docs section title

Change-Id: Ie4a690263a3de6e85a1081c373c56e2992941622
",git fetch https://review.opendev.org/openstack/octavia refs/changes/23/867123/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/index.rst'],1,1d84f2972f6808109b23e3577ffaa328598344b8,fix-typo,Maintenance and Operations,Maintanence and Operations,1,1
openstack%2Foslo.concurrency~master~I89ea0dab79cdc53c164c171a42a06f2a6d6aefad,openstack/oslo.concurrency,master,I89ea0dab79cdc53c164c171a42a06f2a6d6aefad,Cleanup py27 support,MERGED,2022-08-13 01:49:28.000000000,2022-12-20 19:12:37.000000000,2022-12-20 19:11:36.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-13 01:49:28.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/c7d214bae413769a8160ea8e0e71b57166206d84', 'message': ""Cleanup py27 support\n\nThis repo is now testing only with Python 3, so let's make\na few cleanups:\n- Remove python 2.7 stanza from setup.py\n\nChange-Id: I89ea0dab79cdc53c164c171a42a06f2a6d6aefad\n""}]",0,852983,c7d214bae413769a8160ea8e0e71b57166206d84,8,3,1,35058,,,0,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py

Change-Id: I89ea0dab79cdc53c164c171a42a06f2a6d6aefad
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/83/852983/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,c7d214bae413769a8160ea8e0e71b57166206d84,,,"# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass ",0,8
openstack%2Fkeystoneauth~master~I909750381a559f9dc61650c9f98c88d4481012b7,openstack/keystoneauth,master,I909750381a559f9dc61650c9f98c88d4481012b7,Allow passing of version header,MERGED,2022-11-23 15:03:39.000000000,2022-12-20 19:08:20.000000000,2022-12-20 19:07:20.000000000,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 15:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/bff4b46ec7a7ba6452a303443195ba5a62b48745', 'message': ""Allow passing of version header\n\nAdd keyword option to get_version_data() to allow passing\nof the version header so that we can get the microversions.\nSpecifically, this is so that we can re-use this function\nin barbican, which recently implemented microversions, but\ndoesn't return them by default, for backward compatibility\nwith old clients.\n\nChange-Id: I909750381a559f9dc61650c9f98c88d4481012b7\n""}, {'number': 2, 'created': '2022-11-24 20:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/366a0609a8bff115e8f20771fef30b4498177935', 'message': ""Allow passing of version header\n\nAdd keyword option to get_version_data() to allow passing\nof the version header so that we can get the microversions.\nSpecifically, this is so that we can re-use this function\nin barbican, which recently implemented microversions, but\ndoesn't return them by default, for backward compatibility\nwith old clients.\n\nChange-Id: I909750381a559f9dc61650c9f98c88d4481012b7\n""}, {'number': 3, 'created': '2022-11-28 15:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/356987d9383b23e7dfdec8de02cab38521ecd223', 'message': ""Allow passing of version header\n\nAdd keyword option to get_version_data() to allow passing\nof the version header so that we can get the microversions.\nSpecifically, this is so that we can re-use this function\nin barbican, which recently implemented microversions, but\ndoesn't return them by default, for backward compatibility\nwith old clients.\n\nChange-Id: I909750381a559f9dc61650c9f98c88d4481012b7\n""}, {'number': 4, 'created': '2022-11-29 08:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/e2a992b8aec57a1eb20a399a8e56f3b047e54899', 'message': ""Allow passing of version header\n\nAdd keyword option to get_version_data() to allow passing\nof the version header so that we can get the microversions.\nSpecifically, this is so that we can re-use this function\nin barbican, which recently implemented microversions, but\ndoesn't return them by default, for backward compatibility\nwith old clients.\n\nChange-Id: I909750381a559f9dc61650c9f98c88d4481012b7\n""}, {'number': 5, 'created': '2022-12-06 10:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/e0950b639fd4ae82efe91f05276af66bb81a30ce', 'message': ""Allow passing of version header\n\nAdd keyword option to get_version_data() to allow passing\nof the version header so that we can get the microversions.\nSpecifically, this is so that we can re-use this function\nin barbican, which recently implemented microversions, but\ndoesn't return them by default, for backward compatibility\nwith old clients.\n\nChange-Id: I909750381a559f9dc61650c9f98c88d4481012b7\n""}, {'number': 6, 'created': '2022-12-20 14:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/03ef097d436966396f34150b7af4a2ebb9651c68', 'message': ""Allow passing of version header\n\nAdd keyword option to get_version_data() to allow passing\nof the version header so that we can get the microversions.\nSpecifically, this is so that we can re-use this function\nin barbican, which recently implemented microversions, but\ndoesn't return them by default, for backward compatibility\nwith old clients.\n\nChange-Id: I909750381a559f9dc61650c9f98c88d4481012b7\n""}, {'number': 7, 'created': '2022-12-20 14:58:10.000000000', 'files': ['keystoneauth1/discover.py', 'keystoneauth1/tests/unit/test_discovery.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/5098d45cca0e858f8763a083308733bbc470b120', 'message': ""Allow passing of version header\n\nAdd keyword option to get_version_data() to allow passing\nof the version header so that we can get the microversions.\nSpecifically, this is so that we can re-use this function\nin barbican, which recently implemented microversions, but\ndoesn't return them by default, for backward compatibility\nwith old clients.\n\nChange-Id: I909750381a559f9dc61650c9f98c88d4481012b7\n""}]",5,865439,5098d45cca0e858f8763a083308733bbc470b120,25,4,7,14250,,,0,"Allow passing of version header

Add keyword option to get_version_data() to allow passing
of the version header so that we can get the microversions.
Specifically, this is so that we can re-use this function
in barbican, which recently implemented microversions, but
doesn't return them by default, for backward compatibility
with old clients.

Change-Id: I909750381a559f9dc61650c9f98c88d4481012b7
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/39/865439/3 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/discover.py', 'keystoneauth1/tests/unit/test_discovery.py']",2,bff4b46ec7a7ba6452a303443195ba5a62b48745,secret-consumers," headers = {'Accept': 'application/json', 'OpenStack-API-Version': 'microversion header'} discover.get_version_data( session, url, microversion_header='microversion header')"," headers = {'Accept': 'application/json'} discover.get_version_data(session, url)",10,3
openstack%2Fneutron~stable%2Fzed~I955f2430ad1d817966ac49f33741f1d4452d1f76,openstack/neutron,stable/zed,I955f2430ad1d817966ac49f33741f1d4452d1f76,[OVN] Allow only one physical network per bridge,MERGED,2022-11-02 11:37:31.000000000,2022-12-20 19:06:21.000000000,2022-12-20 19:05:06.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-02 11:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/153824667eb26446cddcef9b7e2cc7adc6802b76', 'message': '[OVN] Allow only one physical network per bridge\n\nSince [1], OVN allows only one physical network per bridge,\nsame as other ML2 plugins (OVS, Linux Bridge). The rule ""one\nnetwork, one bridge"" is present in OVN too.\n\nThis patch fixes a small leftover in the ML2/OVN code.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/823568\n\n(cherry picked from commit 229d798a45c964783551cd61d7031698d452f72a)\n\nRelated-Bug: #1956476\nChange-Id: I955f2430ad1d817966ac49f33741f1d4452d1f76\n'}, {'number': 2, 'created': '2022-12-16 10:27:27.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/placement.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d753b2ab44f38eb5b5f6b34e82c3f9e86680a0e9', 'message': '[OVN] Allow only one physical network per bridge\n\nSince [1], OVN allows only one physical network per bridge,\nsame as other ML2 plugins (OVS, Linux Bridge). The rule ""one\nnetwork, one bridge"" is present in OVN too.\n\nThis patch fixes a small leftover in the ML2/OVN code.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/823568\n\nRelated-Bug: #1956476\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/placement.py\n\nChange-Id: I955f2430ad1d817966ac49f33741f1d4452d1f76\n(cherry picked from commit 229d798a45c964783551cd61d7031698d452f72a)\n'}]",2,863256,d753b2ab44f38eb5b5f6b34e82c3f9e86680a0e9,22,3,2,35456,,,0,"[OVN] Allow only one physical network per bridge

Since [1], OVN allows only one physical network per bridge,
same as other ML2 plugins (OVS, Linux Bridge). The rule ""one
network, one bridge"" is present in OVN too.

This patch fixes a small leftover in the ML2/OVN code.

[1]https://review.opendev.org/c/openstack/neutron/+/823568

Related-Bug: #1956476

Conflicts:
    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/placement.py

Change-Id: I955f2430ad1d817966ac49f33741f1d4452d1f76
(cherry picked from commit 229d798a45c964783551cd61d7031698d452f72a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/863256/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/placement.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",3,153824667eb26446cddcef9b7e2cc7adc6802b76,bug/1956476," mapping_dict = helpers.parse_mappings(br_map.split(','))"," mapping_dict = helpers.parse_mappings(br_map.split(','), unique_values=False)",9,5
openstack%2Fnova~master~If363981c4aeeb09a96ee94b140070d3d0f6af48f,openstack/nova,master,If363981c4aeeb09a96ee94b140070d3d0f6af48f,Filter PCI pools based on Placement allocation,MERGED,2022-08-23 09:06:35.000000000,2022-12-20 19:06:13.000000000,2022-12-20 19:04:59.000000000,"[{'_account_id': 7730}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-08-23 09:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2e7d74ba56a512b7c06d6e65420e96614210b43', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 2, 'created': '2022-08-23 11:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed25950613292203feaef03d71088feb6931f6ef', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 3, 'created': '2022-08-23 17:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae6e6c89b0f0c49689f251783924ede15a0768ec', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 4, 'created': '2022-08-24 17:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5383897140eb6495057588b5ae0a83a1f2f55acd', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 5, 'created': '2022-08-25 08:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8965ba54945ba57afab588532452ab58188d5d28', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 6, 'created': '2022-08-26 17:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07647f89685b7c20cf8f9a254d6c8e75dce1d006', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 7, 'created': '2022-08-28 17:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be2cec9f10bb8636bc910bba5b3936205497760c', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 8, 'created': '2022-08-28 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad12e71a85a0ec178521c0936ddd09b694d191c8', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 9, 'created': '2022-08-28 21:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51da2fa527c97c33ab8857ff19e015b82268a73e', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 10, 'created': '2022-08-29 07:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0610f9166edeb0357e8758d859510ffcb1cbeeef', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 11, 'created': '2022-08-29 17:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1d12b8483a0cdc41b95ba8b86e6891afe7c72d3', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 12, 'created': '2022-08-30 16:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b84ec16bd7ff2cd33264cfba7f9fc87f1cf124c', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 13, 'created': '2022-09-02 12:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/563f389b215ba73364446c059fed95adc88faeb9', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 14, 'created': '2022-10-17 11:59:07.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/scheduler/filters/numa_topology_filter.py', 'nova/compute/claims.py', 'nova/scheduler/filters/pci_passthrough_filter.py', 'nova/tests/unit/pci/test_stats.py', 'nova/tests/unit/compute/test_claims.py', 'nova/virt/hardware.py', 'nova/tests/unit/scheduler/test_host_manager.py', 'nova/tests/unit/scheduler/filters/test_pci_passthrough_filters.py', 'nova/pci/stats.py', 'nova/tests/unit/scheduler/filters/test_numa_topology_filters.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f1d82c0d0a0ef5932bb1e25120015c1099f03d18', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}]",27,854120,f1d82c0d0a0ef5932bb1e25120015c1099f03d18,98,6,14,9708,,,0,"Filter PCI pools based on Placement allocation

The stats module is used to decide if the InstancePCIRequests of a boot
request can fit to a given compute host and to decide which PCI device
pool can fulfill the requests. It is used both during scheduling and also
during the PCI claim code.

PCI devices now modelled in placement and the allocation_candidate query
now requests PCI resources therefore each allocation candidate returned
from placement already restricts which PCI devices can be used during
the PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code
paths. This patch adapts the stats module to consider the PCI
allocation candidate or the already made placement PCI allocation when
filtering the PCI device pools.

blueprint: pci-device-tracking-in-placement
Change-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/854120/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/filters/pci_passthrough_filter.py', 'nova/virt/hardware.py', 'nova/scheduler/filters/numa_topology_filter.py', 'nova/pci/stats.py', 'nova/compute/claims.py', 'nova/scheduler/host_manager.py']",6,f2e7d74ba56a512b7c06d6e65420e96614210b43,bp/pci-device-tracking-in-placement," pci_requests=pci_requests, pci_stats=self.pci_stats, provider_mapping=spec_obj.get_request_group_mapping()) self.pci_stats.apply_requests( pci_requests, spec_obj.get_request_group_mapping(), instance_cells )"," pci_requests=pci_requests, pci_stats=self.pci_stats) self.pci_stats.apply_requests(pci_requests, instance_cells)",205,25
openstack%2Fcinderlib~master~I68d038a3a64a81e6bd21e65423898d9f5b514234,openstack/cinderlib,master,I68d038a3a64a81e6bd21e65423898d9f5b514234,Open cinderlib for 2023.1 (Antelope) development,MERGED,2022-12-15 21:40:37.000000000,2022-12-20 19:04:35.000000000,2022-12-20 19:02:38.000000000,"[{'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-12-15 21:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/e1848d444116bb95d3b54c41b43130b3ccb8a017', 'message': 'Open cinderlib for 2023.1 (Antelope) development\n\nSee ""cinderlib tox and zuul configuration maintenance"" in\nhttps://docs.openstack.org/cinderlib/latest/contributor/contributing.html\nfor an explanation of these changes.\n\nChange-Id: I68d038a3a64a81e6bd21e65423898d9f5b514234\n'}, {'number': 2, 'created': '2022-12-15 22:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/67b493548b5b223763249df1907843dd5cd7f66a', 'message': 'Open cinderlib for 2023.1 (Antelope) development\n\nSee ""cinderlib tox and zuul configuration maintenance"" in\nhttps://docs.openstack.org/cinderlib/latest/contributor/contributing.html\nfor an explanation of these changes.\n\nChange-Id: I68d038a3a64a81e6bd21e65423898d9f5b514234\n'}, {'number': 3, 'created': '2022-12-16 15:06:16.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/0c0879a6810273884556bbab6791e223e3768551', 'message': 'Open cinderlib for 2023.1 (Antelope) development\n\nSee ""cinderlib tox and zuul configuration maintenance"" in\nhttps://docs.openstack.org/cinderlib/latest/contributor/contributing.html\nfor an explanation of these changes.\n\nChange-Id: I68d038a3a64a81e6bd21e65423898d9f5b514234\n'}]",8,867904,0c0879a6810273884556bbab6791e223e3768551,14,3,3,5314,,,0,"Open cinderlib for 2023.1 (Antelope) development

See ""cinderlib tox and zuul configuration maintenance"" in
https://docs.openstack.org/cinderlib/latest/contributor/contributing.html
for an explanation of these changes.

Change-Id: I68d038a3a64a81e6bd21e65423898d9f5b514234
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/04/867904/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'setup.cfg', 'tox.ini']",4,e1848d444116bb95d3b54c41b43130b3ccb8a017,open-2023.1," CINDERLIB_RELEASE=antelope git+https://opendev.org/openstack/os-brick#egg=os-brick git+https://opendev.org/openstack/cinder#egg=cinder[testenv:py{3,38,39,310,311}] CINDERLIB_RELEASE=antelope[testenv:functional-py{38,39,310,311}]install_command = python -m pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/antelope} {opts} {packages}"," CINDERLIB_RELEASE=zed git+https://opendev.org/openstack/os-brick@stable/zed#egg=os-brick git+https://opendev.org/openstack/cinder@stable/zed#egg=cinder[testenv:py{3,38,39,310}] CINDERLIB_RELEASE=zed[testenv:functional-py{38,39,310}]install_command = python -m pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed} {opts} {packages}",27,38
openstack%2Fneutron~stable%2Fvictoria~Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8,openstack/neutron,stable/victoria,Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8,Check if port exists in ``update_port_virtual_type`` method,MERGED,2022-12-19 12:39:43.000000000,2022-12-20 19:00:45.000000000,2022-12-20 18:58:20.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-19 12:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26ba3533f717064c13daa231c738687f97391f31', 'message': 'Check if port exists in ``update_port_virtual_type`` method\n\nDuring the OVN DB inconsistency check, a OVN LSP could not be present\nin the Neutron DB. In this case, continue processing other LSPs and\nlet other ``DBInconsistenciesPeriodics`` methods to resolve this\nissue.\n\nCloses-Bug: #1999517\nChange-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8\n(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)\n'}, {'number': 2, 'created': '2022-12-19 14:48:14.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a1219f6486586247f10629e086e5c98eadbb7cf', 'message': 'Check if port exists in ``update_port_virtual_type`` method\n\nDuring the OVN DB inconsistency check, a OVN LSP could not be present\nin the Neutron DB. In this case, continue processing other LSPs and\nlet other ``DBInconsistenciesPeriodics`` methods to resolve this\nissue.\n\nCloses-Bug: #1999517\n\nConflicts:\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\nChange-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8\n(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)\n(cherry picked from commit 951e2c74ae0baff84e98b5580071d09db95f00d5)\n'}]",2,868081,0a1219f6486586247f10629e086e5c98eadbb7cf,14,3,2,16688,,,0,"Check if port exists in ``update_port_virtual_type`` method

During the OVN DB inconsistency check, a OVN LSP could not be present
in the Neutron DB. In this case, continue processing other LSPs and
let other ``DBInconsistenciesPeriodics`` methods to resolve this
issue.

Closes-Bug: #1999517

Conflicts:
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py

Change-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8
(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)
(cherry picked from commit 951e2c74ae0baff84e98b5580071d09db95f00d5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/868081/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",2,26ba3533f717064c13daa231c738687f97391f31,bug/1999517," try: port = self._ovn_client._plugin.get_port(context, lsp.name) except n_exc.PortNotFound: continue "," port = self._ovn_client._plugin.get_port(context, lsp.name)",10,3
openstack%2Fneutron~master~Icd7030d36a2462263c9379e02c756d23f6ff6440,openstack/neutron,master,Icd7030d36a2462263c9379e02c756d23f6ff6440,Remove note about migration from lib/neutron-legacy to lib/neutron,MERGED,2022-12-20 10:05:22.000000000,2022-12-20 19:00:38.000000000,2022-12-20 18:58:14.000000000,"[{'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 10:05:22.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml', 'devstack/lib/ml2', 'zuul.d/grenade.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4edf94041f4661ace892e5b76bab9ca17fc3970b', 'message': ""Remove note about migration from lib/neutron-legacy to lib/neutron\n\nIn [1] we finally got rid of the unfinished lib/neutron module and kept\nonly lib/neutron-legacy. It's renamed to lib/neutron now and it's the\nonly neutron related module in Devstack.\nSo this patch removes left over todo comments about things to do when\nmigration to the new lib/neutron module will be finished.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/865014\n\nChange-Id: Icd7030d36a2462263c9379e02c756d23f6ff6440\n""}]",1,868165,4edf94041f4661ace892e5b76bab9ca17fc3970b,9,4,1,11975,,,0,"Remove note about migration from lib/neutron-legacy to lib/neutron

In [1] we finally got rid of the unfinished lib/neutron module and kept
only lib/neutron-legacy. It's renamed to lib/neutron now and it's the
only neutron related module in Devstack.
So this patch removes left over todo comments about things to do when
migration to the new lib/neutron module will be finished.

[1] https://review.opendev.org/c/openstack/devstack/+/865014

Change-Id: Icd7030d36a2462263c9379e02c756d23f6ff6440
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/868165/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml', 'devstack/lib/ml2', 'zuul.d/grenade.yaml']",4,4edf94041f4661ace892e5b76bab9ca17fc3970b,drop-lib-neutron,, # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy,1,16
openstack%2Fosprofiler~master~I28bfa2a34222dae4ede0dad527f264eee4d5d0c4,openstack/osprofiler,master,I28bfa2a34222dae4ede0dad527f264eee4d5d0c4,remove unicode prefix from code,MERGED,2022-08-08 07:25:30.000000000,2022-12-20 18:14:42.000000000,2022-12-20 18:13:41.000000000,"[{'_account_id': 6593}, {'_account_id': 7730}, {'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-08 07:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/a91bd80e872f832219164f11c49457875dd924a3', 'message': 'remove unicode prefix from code\n\nChange-Id: I28bfa2a34222dae4ede0dad527f264eee4d5d0c4\n'}, {'number': 2, 'created': '2022-08-08 07:28:13.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/0b1bfadebdeacda93c117fa0ab513bc228039372', 'message': 'remove unicode prefix from code\n\nChange-Id: I28bfa2a34222dae4ede0dad527f264eee4d5d0c4\n'}]",3,852360,0b1bfadebdeacda93c117fa0ab513bc228039372,13,5,2,35058,,,0,"remove unicode prefix from code

Change-Id: I28bfa2a34222dae4ede0dad527f264eee4d5d0c4
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/60/852360/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,a91bd80e872f832219164f11c49457875dd924a3,,"project = 'OSprofiler' copyright = '2016, OpenStack Foundation' '%s Documentation' % project, 'OpenStack Foundation', 'manual'), 'OSprofiler Documentation', 'OSprofiler Team',","project = u'OSprofiler' copyright = u'2016, OpenStack Foundation' u'%s Documentation' % project, u'OpenStack Foundation', 'manual'), u'OSprofiler Documentation', u'OSprofiler Team',",6,6
openstack%2Foslotest~master~Ie233ab07100e84c97995468a75f82e932831328f,openstack/oslotest,master,Ie233ab07100e84c97995468a75f82e932831328f,Cleanup py27 support,MERGED,2022-08-13 00:43:06.000000000,2022-12-20 18:00:00.000000000,2022-12-20 17:59:03.000000000,"[{'_account_id': 7634}, {'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-08-13 00:43:06.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/0a5932f537be661f2aba89d13ab3759432922289', 'message': ""Cleanup py27 support\n\nThis repo is now testing only with Python 3, so let's make\na few cleanups:\n- Remove python 2.7 stanza from setup.py\n\nChange-Id: Ie233ab07100e84c97995468a75f82e932831328f\n""}]",1,852978,0a5932f537be661f2aba89d13ab3759432922289,10,5,1,35058,,,0,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py

Change-Id: Ie233ab07100e84c97995468a75f82e932831328f
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/78/852978/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,0a5932f537be661f2aba89d13ab3759432922289,,,"# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass ",0,8
openstack%2Foslo.vmware~master~I346b4d641505e8f9d4392eeda0485ace08b0625d,openstack/oslo.vmware,master,I346b4d641505e8f9d4392eeda0485ace08b0625d,remove unicode literal from code,MERGED,2022-08-06 13:18:38.000000000,2022-12-20 17:56:07.000000000,2022-12-20 17:55:01.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-06 13:18:38.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/b0c3baf0bcf66612b263ef8e3375635ef2f4f42e', 'message': 'remove unicode literal from code\n\nChange-Id: I346b4d641505e8f9d4392eeda0485ace08b0625d\n'}]",0,852351,b0c3baf0bcf66612b263ef8e3375635ef2f4f42e,8,3,1,35058,,,0,"remove unicode literal from code

Change-Id: I346b4d641505e8f9d4392eeda0485ace08b0625d
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/51/852351/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,b0c3baf0bcf66612b263ef8e3375635ef2f4f42e,,"project = 'oslo.vmware Release Notes' copyright = '2016, oslo.vmware Developers' 'oslo.vmware Release Notes Documentation', 'oslo.vmware Developers', 'manual'), 'oslo.vmware Release Notes Documentation', ['oslo.vmware Developers'], 1) 'oslo.vmware Release Notes Documentation', 'oslo.vmware Developers', 'oslo.vmwareReleaseNotes',","project = u'oslo.vmware Release Notes' copyright = u'2016, oslo.vmware Developers' u'oslo.vmware Release Notes Documentation', u'oslo.vmware Developers', 'manual'), u'oslo.vmware Release Notes Documentation', [u'oslo.vmware Developers'], 1) u'oslo.vmware Release Notes Documentation', u'oslo.vmware Developers', 'oslo.vmwareReleaseNotes',",8,8
openstack%2Foslo.concurrency~master~Ic909177a35589f59ea78fec6e741c2c954abc119,openstack/oslo.concurrency,master,Ic909177a35589f59ea78fec6e741c2c954abc119,Imported Translations from Zanata,MERGED,2022-11-05 03:27:02.000000000,2022-12-20 17:55:10.000000000,2022-12-20 17:54:07.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-05 03:27:02.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/22f69e7402b83bb9d2efe145f049f7f75f301dad', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic909177a35589f59ea78fec6e741c2c954abc119\n'}]",0,863729,22f69e7402b83bb9d2efe145f049f7f75f301dad,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ic909177a35589f59ea78fec6e741c2c954abc119
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/29/863729/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,22f69e7402b83bb9d2efe145f049f7f75f301dad,zanata/translations,"""POT-Creation-Date: 2022-09-06 09:39+0000\n""""PO-Revision-Date: 2022-11-04 10:43+0000\n""msgid ""5.0.0"" msgstr ""5.0.0"" msgid """" ""Log before trying to acquire a lock to help detect deadlocks and long waits "" ""to acquire locks."" msgstr """" ""Log before trying to acquire a lock to help detect deadlocks and long waits "" ""to acquire locks."" ","""POT-Creation-Date: 2022-05-11 16:21+0000\n""""PO-Revision-Date: 2022-06-13 07:42+0000\n""",12,2
openstack%2Fnova~stable%2Fvictoria~I39241223b447fcc671161c370dbf16e1773b684a,openstack/nova,stable/victoria,I39241223b447fcc671161c370dbf16e1773b684a,Clear rebalanced compute nodes from resource tracker,NEW,2021-09-30 00:29:44.000000000,2022-12-20 17:41:07.000000000,,"[{'_account_id': 2033}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-30 00:29:44.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/32887f82c9bd430f285ff4418811dffdd88e398f', 'message': 'Clear rebalanced compute nodes from resource tracker\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a host\nwhich thinks it is an orphan, then the compute host that actually owns the node\nmight not recreate it if the node is already in its resource tracker cache.\n\nThis change fixes the issue by clearing nodes from the resource tracker cache\nfor which a compute node entry does not exist. Then, when the available\nresource for the node is updated, the compute node object is not found in the\ncache and gets recreated.\n\nChange-Id: I39241223b447fcc671161c370dbf16e1773b684a\nPartial-Bug: #1853009\n(cherry picked from commit 32676a9f45807ea8770dc7bdff1e859673af1b61)\n(cherry picked from commit f950cedf17cc4c3ce9d094dbfde5e4cf013260f7)\n'}]",4,811811,32887f82c9bd430f285ff4418811dffdd88e398f,13,3,1,4690,,,0,"Clear rebalanced compute nodes from resource tracker

There is a race condition in nova-compute with the ironic virt driver as
nodes get rebalanced. It can lead to compute nodes being removed in the
DB and not repopulated. Ultimately this prevents these nodes from being
scheduled to.

The issue being addressed here is that if a compute node is deleted by a host
which thinks it is an orphan, then the compute host that actually owns the node
might not recreate it if the node is already in its resource tracker cache.

This change fixes the issue by clearing nodes from the resource tracker cache
for which a compute node entry does not exist. Then, when the available
resource for the node is updated, the compute node object is not found in the
cache and gets recreated.

Change-Id: I39241223b447fcc671161c370dbf16e1773b684a
Partial-Bug: #1853009
(cherry picked from commit 32676a9f45807ea8770dc7bdff1e859673af1b61)
(cherry picked from commit f950cedf17cc4c3ce9d094dbfde5e4cf013260f7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/811811/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py']",5,32887f82c9bd430f285ff4418811dffdd88e398f,bug/1853009," # Verify that the node was recreated. self._assert_hypervisor_api(self.nodename, 'host_b') # But due to https://bugs.launchpad.net/nova/+bug/1853159 the compute # node is not cached in the RT. self.assertNotIn(self.nodename, host_b.manager.rt.compute_nodes) # host_b[1]: Should add compute node to RT cache and recreate resource # provider. # FIXME(mgoddard): Resource provider not recreated here, because it # exists in the provider tree. See # https://bugs.launchpad.net/nova/+bug/1841481. host_b.manager.update_available_resource(self.ctxt) # Verify that the node still exists. self._assert_hypervisor_api(self.nodename, 'host_b') # And it is now in the RT cache. self.assertIn(self.nodename, host_b.manager.rt.compute_nodes) # There is still no RP. rps = self._get_all_providers() self.assertEqual(0, len(rps), rps) # But the RP it exists in the provider tree. self.assertTrue(host_b.manager.rt.reportclient._provider_tree.exists( self.nodename)) "," cn_host_b_node = objects.ComputeNode.get_by_host_and_nodename( self.ctxt, 'host_b', 'host_b', ) self.assertIn( 'Deleting orphan compute node %s hypervisor host ' 'is host_b, nodes are' % cn_host_b_node.id, self.stdlog.logger.output) # FIXME(mgoddard): Compute node not recreated here, because it is # already in RT.compute_nodes. See # https://bugs.launchpad.net/nova/+bug/1853009. # Verify that the node was not recreated. hypervisors = self.api.api_get( '/os-hypervisors/detail').body['hypervisors'] self.assertEqual(0, len(hypervisors), hypervisors) # But the compute node exists in the RT. self.assertIn(self.nodename, host_b.manager.rt.compute_nodes)",66,18
openstack%2Fpuppet-openstack-integration~master~I92d5d436efb2db501e039ca8a6f43109a4b6a8f5,openstack/puppet-openstack-integration,master,I92d5d436efb2db501e039ca8a6f43109a4b6a8f5,Updated from Puppet OpenStack modules constraints,MERGED,2022-12-16 02:21:50.000000000,2022-12-20 17:38:27.000000000,2022-12-20 17:38:27.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-16 02:21:50.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5f1d69e06ead9bf0ee65317aff66b8e5ca43cfd6', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I92d5d436efb2db501e039ca8a6f43109a4b6a8f5\n'}]",2,867909,5f1d69e06ead9bf0ee65317aff66b8e5ca43cfd6,9,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I92d5d436efb2db501e039ca8a6f43109a4b6a8f5
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/09/867909/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,5f1d69e06ead9bf0ee65317aff66b8e5ca43cfd6,openstack/puppet/constraints, :ref => 'v9.0.0', :ref => 'v8.6.0',1,1
openstack%2Fneutron-fwaas~master~I7913f4b0426624c1486efd027d6c412dfa296a06,openstack/neutron-fwaas,master,I7913f4b0426624c1486efd027d6c412dfa296a06,Remove note about migration from lib/neutron-legacy to lib/neutron,MERGED,2022-12-20 10:13:57.000000000,2022-12-20 17:22:37.000000000,2022-12-20 17:21:26.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 10:13:57.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/9326c70da552e9a27c0115e6d696cfa3b504e39d', 'message': ""Remove note about migration from lib/neutron-legacy to lib/neutron\n\nIn [1] we finally got rid of the unfinished lib/neutron module and kept\nonly lib/neutron-legacy. It's renamed to lib/neutron now and it's the\nonly neutron related module in Devstack.\nSo this patch removes left over todo comments about things to do when\nmigration to the new lib/neutron module will be finished.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/865014\n\nChange-Id: I7913f4b0426624c1486efd027d6c412dfa296a06\n""}]",1,868169,9326c70da552e9a27c0115e6d696cfa3b504e39d,12,3,1,11975,,,0,"Remove note about migration from lib/neutron-legacy to lib/neutron

In [1] we finally got rid of the unfinished lib/neutron module and kept
only lib/neutron-legacy. It's renamed to lib/neutron now and it's the
only neutron related module in Devstack.
So this patch removes left over todo comments about things to do when
migration to the new lib/neutron module will be finished.

[1] https://review.opendev.org/c/openstack/devstack/+/865014

Change-Id: I7913f4b0426624c1486efd027d6c412dfa296a06
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/69/868169/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,9326c70da552e9a27c0115e6d696cfa3b504e39d,drop-lib-neutron,, # TODO(hoangcx) we can remove the slashes below once neutron-legacy has gone,0,1
openstack%2Fnova~stable%2Fwallaby~Iab8a791f64323f996e1d6e6d5a7e7a7c34eb4fb3,openstack/nova,stable/wallaby,Iab8a791f64323f996e1d6e6d5a7e7a7c34eb4fb3,Unify placement client singleton implementations,NEW,2022-09-22 23:23:39.000000000,2022-12-20 17:13:04.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-22 23:23:39.000000000', 'files': ['nova/scheduler/manager.py', 'nova/scheduler/client/report.py', 'nova/tests/unit/compute/test_compute.py', 'nova/cmd/manage.py', 'nova/tests/unit/compute/test_api.py', 'nova/test.py', 'nova/conductor/tasks/migrate.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/request_filter.py', 'nova/conductor/manager.py', 'nova/quota.py', 'nova/api/openstack/compute/services.py', 'nova/compute/manager.py', 'nova/compute/api.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0046e186cbecb9b4c729e5f90634bc088a721554', 'message': ""Unify placement client singleton implementations\n\nWe have many places where we implement singleton behavior for the\nplacement client. This unifies them into a single place and\nimplementation. Not only does this DRY things up, but may cause us\nto initialize it fewer times and also allows for emitting a common\nset of error messages about expected failures for better\ntroubleshooting.\n\nConflicts:\n    nova/compute/api.py\n    nova/scheduler/manager.py\n\nNOTE(melwitt): The conflicts are because the following changes are not\nin Wallaby:\n\n  * I216cabcde5311abd46fdad9c95bb72c31b414010\n    (db: Remove'nova.db.base' module)\n\n  * I609df5b707e05ea70c8a738701423ca751682575\n    (scheduler: Merge driver into manager)\n\nChange-Id: Iab8a791f64323f996e1d6e6d5a7e7a7c34eb4fb3\nRelated-Bug: #1846820\n(cherry picked from commit c178d9360665c219cbcc71c9f37b9e6e3055a5e5)\n(cherry picked from commit 77273f067d96a4ec401c3b36f2922d63c4ad7103)\n(cherry picked from commit 87f67df721a4a46bf145f217525cc001582764ca)\n""}]",2,859001,0046e186cbecb9b4c729e5f90634bc088a721554,8,2,1,4690,,,0,"Unify placement client singleton implementations

We have many places where we implement singleton behavior for the
placement client. This unifies them into a single place and
implementation. Not only does this DRY things up, but may cause us
to initialize it fewer times and also allows for emitting a common
set of error messages about expected failures for better
troubleshooting.

Conflicts:
    nova/compute/api.py
    nova/scheduler/manager.py

NOTE(melwitt): The conflicts are because the following changes are not
in Wallaby:

  * I216cabcde5311abd46fdad9c95bb72c31b414010
    (db: Remove'nova.db.base' module)

  * I609df5b707e05ea70c8a738701423ca751682575
    (scheduler: Merge driver into manager)

Change-Id: Iab8a791f64323f996e1d6e6d5a7e7a7c34eb4fb3
Related-Bug: #1846820
(cherry picked from commit c178d9360665c219cbcc71c9f37b9e6e3055a5e5)
(cherry picked from commit 77273f067d96a4ec401c3b36f2922d63c4ad7103)
(cherry picked from commit 87f67df721a4a46bf145f217525cc001582764ca)
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/859001/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/manager.py', 'nova/scheduler/client/report.py', 'nova/tests/unit/compute/test_compute.py', 'nova/cmd/manage.py', 'nova/tests/unit/compute/test_api.py', 'nova/test.py', 'nova/conductor/tasks/migrate.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/request_filter.py', 'nova/conductor/manager.py', 'nova/quota.py', 'nova/api/openstack/compute/services.py', 'nova/compute/manager.py', 'nova/compute/api.py', 'nova/compute/resource_tracker.py']",15,0046e186cbecb9b4c729e5f90634bc088a721554,bug/1846820, self.reportclient = reportclient or report.report_client_singleton(), self.reportclient = reportclient or report.SchedulerReportClient(),113,40
openstack%2Ftripleo-ansible~stable%2Fzed~Ia78e72bbd20cab537f5ce81de33a332394369d16,openstack/tripleo-ansible,stable/zed,Ia78e72bbd20cab537f5ce81de33a332394369d16,Fix molecule failures in tripleo_collectd,MERGED,2022-11-28 19:42:35.000000000,2022-12-20 16:47:12.000000000,2022-12-20 16:47:12.000000000,"[{'_account_id': 9816}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-28 19:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a4d23d06856d6b52d57a8cbc912ad07634cb224c', 'message': 'Fix repo problems in tripleo_collectd\n\nCloses-Bug: #1979972\nCo-Authored-By: Cdric Jeanneret <cjeanner@redhat.com>\nChange-Id: Ia78e72bbd20cab537f5ce81de33a332394369d16\n(cherry picked from commit c049f57c5f4f35d9c15f9ea0c2f3c67ddc5b083b)\n'}, {'number': 2, 'created': '2022-11-30 17:55:15.000000000', 'files': ['tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection_default_interval/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility_libpodstats_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility_libpodstats_sqlalchemy/verify.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility_libpodstats_sqlalchemy/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/requirements.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection_default_interval/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/verify.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/291ca72cfe1b310bc054429b4360cfcb9d16893f', 'message': 'Fix molecule failures in tripleo_collectd\n\n* Fixed repo problems by correcting volume mounts\n* Combined some scenarios to lower testing time\n\nCloses-Bug: #1979972\nCo-Authored-By: Cdric Jeanneret <cjeanner@redhat.com>\nChange-Id: Ia78e72bbd20cab537f5ce81de33a332394369d16\n(cherry picked from commit 8e9047ba5ae0b7905b9a4aa239d9da15b8972511)\n'}]",2,865888,291ca72cfe1b310bc054429b4360cfcb9d16893f,10,4,2,30893,,,0,"Fix molecule failures in tripleo_collectd

* Fixed repo problems by correcting volume mounts
* Combined some scenarios to lower testing time

Closes-Bug: #1979972
Co-Authored-By: Cdric Jeanneret <cjeanner@redhat.com>
Change-Id: Ia78e72bbd20cab537f5ce81de33a332394369d16
(cherry picked from commit 8e9047ba5ae0b7905b9a4aa239d9da15b8972511)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/88/865888/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml']",9,a4d23d06856d6b52d57a8cbc912ad07634cb224c,, - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg:O - /opt/yum.repos.d:/etc/yum.repos.d:O - /etc/dnf/vars:/etc/dnf/vars:O, - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw - /etc/dnf/vars:/etc/dnf/vars,31,25
openstack%2Fneutron~master~I31cc4ef324aa9112b4ba9409025495af6813a80b,openstack/neutron,master,I31cc4ef324aa9112b4ba9409025495af6813a80b,Pin OVS_BRANCH to master again,MERGED,2022-12-20 11:28:31.000000000,2022-12-20 16:39:52.000000000,2022-12-20 16:37:33.000000000,"[{'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-12-20 11:28:31.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d46b199517ce93066dc9b989cb6e1e078f701b8', 'message': 'Pin OVS_BRANCH to master again\n\nThis patch reverts [1] and [2] now [3] has been merged in the\nOVN repository.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/867004\n[2]https://review.opendev.org/c/openstack/neutron/+/867522\n[3]https://github.com/ovn-org/ovn/commit/1b0dbde940706e5de6e60221be78a278361fa76d\n\nRelated-Bug: #1999154\n\nChange-Id: I31cc4ef324aa9112b4ba9409025495af6813a80b\n'}]",4,868201,1d46b199517ce93066dc9b989cb6e1e078f701b8,12,5,1,16688,,,0,"Pin OVS_BRANCH to master again

This patch reverts [1] and [2] now [3] has been merged in the
OVN repository.

[1]https://review.opendev.org/c/openstack/neutron/+/867004
[2]https://review.opendev.org/c/openstack/neutron/+/867522
[3]https://github.com/ovn-org/ovn/commit/1b0dbde940706e5de6e60221be78a278361fa76d

Related-Bug: #1999154

Change-Id: I31cc4ef324aa9112b4ba9409025495af6813a80b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/868201/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml']",2,1d46b199517ce93066dc9b989cb6e1e078f701b8,bug/1999154, OVS_BRANCH: master OVS_BRANCH: master, # TODO(ykarel) move to master once OVN main branch is fixed to # work with https://github.com/openvswitch/ovs/commit/b8bf410 OVS_BRANCH: a77c7796f23a76190b61e2109a009df980253b0f # TODO(ykarel) move to master once OVN main branch is fixed to # work with https://github.com/openvswitch/ovs/commit/b8bf410 OVS_BRANCH: a77c7796f23a76190b61e2109a009df980253b0f,4,12
openstack%2Fnova~master~Idb45421205f76d2d3b0576bd0504d261ed249edd,openstack/nova,master,Idb45421205f76d2d3b0576bd0504d261ed249edd,Add a hacking rule for the setDaemon method,MERGED,2022-08-25 16:22:39.000000000,2022-12-20 16:29:35.000000000,2022-12-20 16:25:03.000000000,"[{'_account_id': 15334}, {'_account_id': 19234}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-25 16:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ac67f267bd793e13c269f0ffaf83f2b6443b998', 'message': ""Add a hacking rule for the setDaemon method\n\nAdd the following hacking rule.\n\n* N372: Don't use the setDaemon method.\n        Use the daemon attribute instead.\n\nChange-Id: Idb45421205f76d2d3b0576bd0504d261ed249edd\nRelated-Bug: 1987191\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n""}, {'number': 2, 'created': '2022-08-31 12:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07e2f9ad2a530f32cf5b91fc87dc2b1cb27d8fc2', 'message': ""Add a hacking rule for the setDaemon method\n\nAdd the following hacking rule.\n\n* N372: Don't use the setDaemon method.\n        Use the daemon attribute instead.\n\nChange-Id: Idb45421205f76d2d3b0576bd0504d261ed249edd\nRelated-Bug: 1987191\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n""}, {'number': 3, 'created': '2022-09-06 22:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ce10ee0fe1db62f06acd177a15065f714b23abe', 'message': ""Add a hacking rule for the setDaemon method\n\nAdd the following hacking rule.\n\n* N372: Don't use the setDaemon method.\n        Use the daemon attribute instead.\n\nChange-Id: Idb45421205f76d2d3b0576bd0504d261ed249edd\nRelated-Bug: 1987191\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n""}, {'number': 4, 'created': '2022-09-19 01:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffdfb5cf193ec520a71cfa9c8b0bf099ab11f017', 'message': ""Add a hacking rule for the setDaemon method\n\nAdd the following hacking rule.\n\n* N372: Don't use the setDaemon method.\n        Use the daemon attribute instead.\n\nChange-Id: Idb45421205f76d2d3b0576bd0504d261ed249edd\nRelated-Bug: 1987191\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n""}, {'number': 5, 'created': '2022-10-01 08:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5056bace0edc14486ef4fda2ef4612cebf6427d', 'message': ""Add a hacking rule for the setDaemon method\n\nAdd the following hacking rule.\n\n* N372: Don't use the setDaemon method.\n        Use the daemon attribute instead.\n\nChange-Id: Idb45421205f76d2d3b0576bd0504d261ed249edd\nRelated-Bug: 1987191\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n""}, {'number': 6, 'created': '2022-10-15 12:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/426cc5348f98c41a0c4a4cef8e9f3cbe442beea7', 'message': ""Add a hacking rule for the setDaemon method\n\nAdd the following hacking rule.\n\n* N372: Don't use the setDaemon method.\n        Use the daemon attribute instead.\n\nChange-Id: Idb45421205f76d2d3b0576bd0504d261ed249edd\nRelated-Bug: 1987191\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n""}, {'number': 7, 'created': '2022-11-03 02:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d092c3eeb4ff31e9f90e0fcb374aedd11817a8ee', 'message': ""Add a hacking rule for the setDaemon method\n\nAdd the following hacking rule.\n\n* N372: Don't use the setDaemon method.\n        Use the daemon attribute instead.\n\nChange-Id: Idb45421205f76d2d3b0576bd0504d261ed249edd\nRelated-Bug: 1987191\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n""}, {'number': 8, 'created': '2022-11-14 13:04:05.000000000', 'files': ['nova/hacking/checks.py', 'nova/tests/unit/test_hacking.py', 'tox.ini', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/628e1c152cc7c5e89d5261fc6f25ec72ac24c1df', 'message': ""Add a hacking rule for the setDaemon method\n\nAdd the following hacking rule.\n\n* N372: Don't use the setDaemon method.\n        Use the daemon attribute instead.\n\nChange-Id: Idb45421205f76d2d3b0576bd0504d261ed249edd\nRelated-Bug: 1987191\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n""}]",0,854653,628e1c152cc7c5e89d5261fc6f25ec72ac24c1df,56,4,8,7634,,,0,"Add a hacking rule for the setDaemon method

Add the following hacking rule.

* N372: Don't use the setDaemon method.
        Use the daemon attribute instead.

Change-Id: Idb45421205f76d2d3b0576bd0504d261ed249edd
Related-Bug: 1987191
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/854653/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/hacking/checks.py', 'nova/tests/unit/test_hacking.py', 'tox.ini', 'HACKING.rst']",4,1ac67f267bd793e13c269f0ffaf83f2b6443b998,add_hacking_rule,- [N372] Don't use the setDaemon method. Use the daemon attribute instead.,,44,0
openstack%2Fnova~stable%2Fyoga~I77fdfa9cffbd44b2889f49f266b2582bcc6a4267,openstack/nova,stable/yoga,I77fdfa9cffbd44b2889f49f266b2582bcc6a4267,"Handle ""no RAM info was set"" migration case",MERGED,2022-10-07 18:43:58.000000000,2022-12-20 16:28:36.000000000,2022-12-20 16:25:18.000000000,"[{'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-07 18:43:58.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'releasenotes/notes/bug-1982284-libvirt-handle-no-ram-info-was-set-99784934ed80fd72.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/4316234e63b76e4f9877ec6e924b5c54ea761bbb', 'message': 'Handle ""no RAM info was set"" migration case\n\nThis handles the case where the live migration monitoring thread may\nrace and call jobStats() after the migration has completed resulting in\nthe following error:\n\n    libvirt.libvirtError: internal error: migration was active, but no\n    RAM info was set\n\nCloses-Bug: #1982284\nChange-Id: I77fdfa9cffbd44b2889f49f266b2582bcc6a4267\n(cherry picked from commit 9fea934c71d3c2fa7fdd80c67d94e18466c5cf9a)\n(cherry picked from commit 00396fa9396324780c09161ed57a86b7e458c26f)\n'}]",2,860733,4316234e63b76e4f9877ec6e924b5c54ea761bbb,17,3,1,4690,,,0,"Handle ""no RAM info was set"" migration case

This handles the case where the live migration monitoring thread may
race and call jobStats() after the migration has completed resulting in
the following error:

    libvirt.libvirtError: internal error: migration was active, but no
    RAM info was set

Closes-Bug: #1982284
Change-Id: I77fdfa9cffbd44b2889f49f266b2582bcc6a4267
(cherry picked from commit 9fea934c71d3c2fa7fdd80c67d94e18466c5cf9a)
(cherry picked from commit 00396fa9396324780c09161ed57a86b7e458c26f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/860733/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'releasenotes/notes/bug-1982284-libvirt-handle-no-ram-info-was-set-99784934ed80fd72.yaml']",3,4316234e63b76e4f9877ec6e924b5c54ea761bbb,bug/1982284,"--- other: - | A workaround has been added to the libvirt driver to catch and pass migrations that were previously failing with the error: ``libvirt.libvirtError: internal error: migration was active, but no RAM info was set`` See `bug 1982284`_ for more details. .. _bug 1982284: https://bugs.launchpad.net/nova/+bug/1982284 ",,40,0
openstack%2Fnova~master~Ia43f73dba00b0b5932939bcc7d11b97a83072ee3,openstack/nova,master,Ia43f73dba00b0b5932939bcc7d11b97a83072ee3,Update gate jobs as per the 2023.1 cycle testing runtime,MERGED,2022-10-12 21:17:56.000000000,2022-12-20 16:28:24.000000000,2022-12-20 16:24:47.000000000,"[{'_account_id': 8556}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-12 21:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0b8bed1d409a8647d3321262d2ad6d7ec976962', 'message': 'DNM: testign nova jobs on Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: Ia43f73dba00b0b5932939bcc7d11b97a83072ee3\n'}, {'number': 2, 'created': '2022-11-17 20:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac1268c2513099c9649b58d6a34c5e21ab586d58', 'message': 'Update gate jobs as per the 2023.1 cycle testing runtime\n\nAs per 2023.1 testing runtime[1], we need to test on Ubuntu\nJammy (which will be taken care by tempest and devstack patches\nto move base jobs to Jammy) and at least single job to run on\nUbutnu Focal (for smooth upgrade). Also, python 3.10 testing is\nvoting now.\n\nThis commit adds a new job to run on focal which can be removed\nin future cycle when testing runtime drop the requirement of Focal\ntesting. Also, make python 3.10 functional and unit test job as voting\n(openstack-tox-py310 is running as part of generic template so we do\nnot need to explicitly add that)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\n\n[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html\n\nChange-Id: Ia43f73dba00b0b5932939bcc7d11b97a83072ee3\n'}, {'number': 3, 'created': '2022-11-17 20:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8637d9ee65bc94ea81376284768686d64c40dcf7', 'message': 'Update gate jobs as per the 2023.1 cycle testing runtime\n\nAs per 2023.1 testing runtime[1], we need to test on Ubuntu\nJammy (which will be taken care by tempest and devstack patches\nto move base jobs to Jammy) and at least single job to run on\nUbutnu Focal (for smooth upgrade). Also, python 3.10 testing is\nvoting now.\n\nThis commit adds a new job to run on focal which can be removed\nin future cycle when testing runtime drop the requirement of Focal\ntesting. Also, make python 3.10 functional and unit test job as voting\n(openstack-tox-py310 is running as part of generic template so we do\nnot need to explicitly add that)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\n\n[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html\n\nChange-Id: Ia43f73dba00b0b5932939bcc7d11b97a83072ee3\n'}, {'number': 4, 'created': '2022-11-17 21:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53501f45a3a5bfd3f9074a4a7ab87511f754d6bd', 'message': 'Update gate jobs as per the 2023.1 cycle testing runtime\n\nAs per 2023.1 testing runtime[1], we need to test on Ubuntu\nJammy (which will be taken care by tempest and devstack patches\nto move base jobs to Jammy) and at least single job to run on\nUbutnu Focal (for smooth upgrade). Also, python 3.10 testing is\nvoting now.\n\nThis commit adds a new job to run on focal which can be removed\nin future cycle when testing runtime drop the requirement of Focal\ntesting. Also, make python 3.10 functional and unit test job as voting\n(openstack-tox-py310 is running as part of generic template so we do\nnot need to explicitly add that)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/864948\n\n[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html\n\nChange-Id: Ia43f73dba00b0b5932939bcc7d11b97a83072ee3\n'}, {'number': 5, 'created': '2022-11-21 22:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24b84e1087ebad574eb963f503092573e22982aa', 'message': 'Update gate jobs as per the 2023.1 cycle testing runtime\n\nAs per 2023.1 testing runtime[1], we need to test on Ubuntu\nJammy (which will be taken care by tempest and devstack patches\nto move base jobs to Jammy) and at least single job to run on\nUbutnu Focal (for smooth upgrade). Also, python 3.10 testing is\nvoting now.\n\nThis commit adds a new job to run on focal which can be removed\nin future cycle when testing runtime drop the requirement of Focal\ntesting. Also, make python 3.10 functional and unit test job as voting\n(openstack-tox-py310 is running as part of generic template so we do\nnot need to explicitly add that)\n\n[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html\n\nChange-Id: Ia43f73dba00b0b5932939bcc7d11b97a83072ee3\n'}, {'number': 6, 'created': '2022-11-22 19:44:55.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/58500c9967c3286c97f0a1056e94d1b2f05000d7', 'message': 'Update gate jobs as per the 2023.1 cycle testing runtime\n\nAs per 2023.1 testing runtime[1], we need to test on Ubuntu\nJammy (which will be taken care by tempest and devstack patches\nto move base jobs to Jammy) and at least single job to run on\nUbutnu Focal (for smooth upgrade). Also, python 3.10 testing is\nvoting now.\n\nThis commit adds a new job to run on focal which can be removed\nin future cycle when testing runtime drop the requirement of Focal\ntesting. Also, make python 3.10 functional and unit test job as voting\n(openstack-tox-py310 is running as part of generic template so we do\nnot need to explicitly add that)\n\n[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html\n\nChange-Id: Ia43f73dba00b0b5932939bcc7d11b97a83072ee3\n'}]",17,861111,58500c9967c3286c97f0a1056e94d1b2f05000d7,55,4,6,8556,,,0,"Update gate jobs as per the 2023.1 cycle testing runtime

As per 2023.1 testing runtime[1], we need to test on Ubuntu
Jammy (which will be taken care by tempest and devstack patches
to move base jobs to Jammy) and at least single job to run on
Ubutnu Focal (for smooth upgrade). Also, python 3.10 testing is
voting now.

This commit adds a new job to run on focal which can be removed
in future cycle when testing runtime drop the requirement of Focal
testing. Also, make python 3.10 functional and unit test job as voting
(openstack-tox-py310 is running as part of generic template so we do
not need to explicitly add that)

[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html

Change-Id: Ia43f73dba00b0b5932939bcc7d11b97a83072ee3
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/861111/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e0b8bed1d409a8647d3321262d2ad6d7ec976962,migrate-to-jammy,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Fnova~stable%2Fyoga~I27441d15cc6fa2ff7715ba15aa900961aadbf54a,openstack/nova,stable/yoga,I27441d15cc6fa2ff7715ba15aa900961aadbf54a,Adapt websocketproxy tests for SimpleHTTPServer fix,MERGED,2022-11-30 17:19:23.000000000,2022-12-20 16:27:31.000000000,2022-12-20 16:25:11.000000000,"[{'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 17:19:23.000000000', 'files': ['nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4a2b44c7cf55d1d79d5a2dd638bd0def3af0f5af', 'message': ""Adapt websocketproxy tests for SimpleHTTPServer fix\n\nIn response to bug 1927677 we added a workaround to\nNovaProxyRequestHandler to respond with a 400 Bad Request if an open\nredirect is attempted:\n\n  Ie36401c782f023d1d5f2623732619105dc2cfa24\n  I95f68be76330ff09e5eabb5ef8dd9a18f5547866\n\nRecently in python 3.10.6, a fix has landed in cpython to respond with\na 301 Moved Permanently to a sanitized URL that has had extra leading\n'/' characters removed.\n\nThis breaks our existing unit tests which assume a 400 Bad Request as\nthe only expected response.\n\nThis adds handling of a 301 Moved Permanently response and asserts that\nthe redirect location is the expected sanitized URL. Doing this instead\nof checking for a given python version will enable the tests to continue\nto work if and when the cpython fix gets backported to older python\nversions.\n\nWhile updating the tests, the opportunity was taken to commonize the\ncode of two unit tests that were nearly identical.\n\nRelated-Bug: #1927677\nCloses-Bug: #1986545\n\nChange-Id: I27441d15cc6fa2ff7715ba15aa900961aadbf54a\n(cherry picked from commit 15769b883ed4a86d62b141ea30d3f1590565d8e0)\n""}]",1,866192,4a2b44c7cf55d1d79d5a2dd638bd0def3af0f5af,9,3,1,4690,,,0,"Adapt websocketproxy tests for SimpleHTTPServer fix

In response to bug 1927677 we added a workaround to
NovaProxyRequestHandler to respond with a 400 Bad Request if an open
redirect is attempted:

  Ie36401c782f023d1d5f2623732619105dc2cfa24
  I95f68be76330ff09e5eabb5ef8dd9a18f5547866

Recently in python 3.10.6, a fix has landed in cpython to respond with
a 301 Moved Permanently to a sanitized URL that has had extra leading
'/' characters removed.

This breaks our existing unit tests which assume a 400 Bad Request as
the only expected response.

This adds handling of a 301 Moved Permanently response and asserts that
the redirect location is the expected sanitized URL. Doing this instead
of checking for a given python version will enable the tests to continue
to work if and when the cpython fix gets backported to older python
versions.

While updating the tests, the opportunity was taken to commonize the
code of two unit tests that were nearly identical.

Related-Bug: #1927677
Closes-Bug: #1986545

Change-Id: I27441d15cc6fa2ff7715ba15aa900961aadbf54a
(cherry picked from commit 15769b883ed4a86d62b141ea30d3f1590565d8e0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/866192/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/console/test_websocketproxy.py'],1,4a2b44c7cf55d1d79d5a2dd638bd0def3af0f5af,bug/1986545," def test_reject_open_redirect(self, url='//example.com/%2F..'): f'GET {url} HTTP/1.1\r\n'.encode('utf-8'), # NOTE: As of python 3.10.6 there is a fix for this vulnerability, # which will cause a 301 Moved Permanently error to be returned # instead that redirects to a sanitized version of the URL with extra # leading '/' characters removed. # See https://github.com/python/cpython/issues/87389 for details. # We will consider either response to be valid for this test. This will # also help if and when the above fix gets backported to older versions # of python. errmsg = result[0].decode() expected_nova = '400 URI must not start with //' expected_cpython = '301 Moved Permanently' self.assertTrue(expected_nova in errmsg or expected_cpython in errmsg) # If we detect the cpython fix, verify that the redirect location is # now the same url but with extra leading '/' characters removed. if expected_cpython in errmsg: location = result[3].decode() location = location.removeprefix('Location: ').rstrip('\r\n') self.assertTrue( location.startswith('/example.com/%2F..'), msg='Redirect location is not the expected sanitized URL', ) self.test_reject_open_redirect(url='///example.com/%2F..')"," def test_reject_open_redirect(self): b'GET //example.com/%2F.. HTTP/1.1\r\n', self.assertIn('400 URI must not start with //', result[0].decode()) # This will test the behavior when an attempt is made to cause an open # redirect. It should be rejected. mock_req = mock.MagicMock() mock_req.makefile().readline.side_effect = [ b'GET ///example.com/%2F.. HTTP/1.1\r\n', b'' ] # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data by calling the # request socket sendall() method. self.data = b'' def fake_sendall(data): self.data += data mock_req.sendall.side_effect = fake_sendall client_addr = ('8.8.8.8', 54321) mock_server = mock.MagicMock() # This specifies that the server will be able to handle requests other # than only websockets. mock_server.only_upgrade = False # Constructing a handler will process the mock_req request passed in. websocketproxy.NovaProxyRequestHandler( mock_req, client_addr, mock_server) # Verify no redirect happens and instead a 400 Bad Request is returned. self.data = self.data.decode() self.assertIn('Error code: 400', self.data) self.assertIn('Message: URI must not start with //', self.data)",26,35
openstack%2Fplacement~stable%2Fwallaby~I569043dd9f1c964faf7d4fcbb901a93f9569bf3d,openstack/placement,stable/wallaby,I569043dd9f1c964faf7d4fcbb901a93f9569bf3d,placement-status: check only consumers in allocation table,MERGED,2022-05-05 16:28:44.000000000,2022-12-20 16:27:15.000000000,2022-12-20 16:25:23.000000000,"[{'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 16:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/69a0fb8bae4bc2538df266d8cbd788ac2ad61094', 'message': ""placement-status: check only consumers in allocation table\n\nInitially, _check_incomplete_consumers was intended to find the case\nwhen consumers are mentioned in allocation but do not exist in the\nconsumer table. Due to a bug it's possible to have rows in the\nconsumer table those are not in the allocation table. The second case\nit seems was not expected and it can be tricky to automate a cleanup\nwith zero touch upgrade.\n\nThis patch modifies the check such way it counts only consumers\npresented in the allocation table.\n\nConflicts:\n    placement/cmd/status.py\n\nNOTE(melwitt): The conflict is because change\nIe0bee79c1ee185c0f68fa170c668395d9058c56d (Fix SQL query counting the\nnumber of individual consumers having allocations by only selecting the\naggregated consumer_id column.) is not in Wallaby.\n\nRelated-bug: #1780799\nChange-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d\n(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)\n""}, {'number': 2, 'created': '2022-05-05 18:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e3217c5b3bf53c3aff039317cee9e77cfb7e8cd8', 'message': ""placement-status: check only consumers in allocation table\n\nInitially, _check_incomplete_consumers was intended to find the case\nwhen consumers are mentioned in allocation but do not exist in the\nconsumer table. Due to a bug it's possible to have rows in the\nconsumer table those are not in the allocation table. The second case\nit seems was not expected and it can be tricky to automate a cleanup\nwith zero touch upgrade.\n\nThis patch modifies the check such way it counts only consumers\npresented in the allocation table.\n\nConflicts:\n    placement/cmd/status.py\n\nNOTE(melwitt): The conflict is because change\nIe0bee79c1ee185c0f68fa170c668395d9058c56d (Fix SQL query counting the\nnumber of individual consumers having allocations by only selecting the\naggregated consumer_id column.) is not in Wallaby.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/840717\n\nRelated-bug: #1780799\nChange-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d\n(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)\n""}, {'number': 3, 'created': '2022-05-05 18:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/584961ad884b1ee3c2d779fecb96b8f3710b64f6', 'message': ""placement-status: check only consumers in allocation table\n\nInitially, _check_incomplete_consumers was intended to find the case\nwhen consumers are mentioned in allocation but do not exist in the\nconsumer table. Due to a bug it's possible to have rows in the\nconsumer table those are not in the allocation table. The second case\nit seems was not expected and it can be tricky to automate a cleanup\nwith zero touch upgrade.\n\nThis patch modifies the check such way it counts only consumers\npresented in the allocation table.\n\nConflicts:\n    placement/cmd/status.py\n\nNOTE(melwitt): The conflict is because change\nIe0bee79c1ee185c0f68fa170c668395d9058c56d (Fix SQL query counting the\nnumber of individual consumers having allocations by only selecting the\naggregated consumer_id column.) is not in Wallaby.\n\nRelated-bug: #1780799\nChange-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d\n(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)\n""}, {'number': 4, 'created': '2022-05-05 21:30:05.000000000', 'files': ['placement/tests/functional/db/test_consumer.py', 'placement/cmd/status.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/7f66845b6382513ae291914ea02787e9776505a0', 'message': ""placement-status: check only consumers in allocation table\n\nInitially, _check_incomplete_consumers was intended to find the case\nwhen consumers are mentioned in allocation but do not exist in the\nconsumer table. Due to a bug it's possible to have rows in the\nconsumer table those are not in the allocation table. The second case\nit seems was not expected and it can be tricky to automate a cleanup\nwith zero touch upgrade.\n\nThis patch modifies the check such way it counts only consumers\npresented in the allocation table.\n\nConflicts:\n    placement/cmd/status.py\n\nNOTE(melwitt): The conflict is because change\nIe0bee79c1ee185c0f68fa170c668395d9058c56d (Fix SQL query counting the\nnumber of individual consumers having allocations by only selecting the\naggregated consumer_id column.) is not in Wallaby.\n\nRelated-bug: #1780799\nChange-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d\n(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)\n""}]",1,840701,7f66845b6382513ae291914ea02787e9776505a0,13,3,4,4690,,,0,"placement-status: check only consumers in allocation table

Initially, _check_incomplete_consumers was intended to find the case
when consumers are mentioned in allocation but do not exist in the
consumer table. Due to a bug it's possible to have rows in the
consumer table those are not in the allocation table. The second case
it seems was not expected and it can be tricky to automate a cleanup
with zero touch upgrade.

This patch modifies the check such way it counts only consumers
presented in the allocation table.

Conflicts:
    placement/cmd/status.py

NOTE(melwitt): The conflict is because change
Ie0bee79c1ee185c0f68fa170c668395d9058c56d (Fix SQL query counting the
number of individual consumers having allocations by only selecting the
aggregated consumer_id column.) is not in Wallaby.

Related-bug: #1780799
Change-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d
(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)
",git fetch https://review.opendev.org/openstack/placement refs/changes/01/840701/2 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/db/test_consumer.py', 'placement/cmd/status.py']",2,69a0fb8bae4bc2538df266d8cbd788ac2ad61094,bug/1780799," allocation = models.Allocation.__table__ consumer = models.Consumer.__table__ return ctxt.session.execute( sa.select([sa.func.count( sa.distinct(allocation.c.consumer_id))]) .select_from( allocation.outerjoin( consumer, allocation.c.consumer_id == consumer.c.uuid)) .where(consumer.c.id.is_(None))).fetchone()[0]", # Count the total number of consumers. num_consumers = ctxt.session.query(models.Consumer).count() # Count the total number of unique consumers in the allocations table. num_alloc_consumers = ctxt.session.query(models.Allocation).group_by( models.Allocation.consumer_id).count() return num_alloc_consumers - num_consumers,19,6
openstack%2Fnova~master~Ibd331df51fd4eaeed4831a98469f06a4ce0cd452,openstack/nova,master,Ibd331df51fd4eaeed4831a98469f06a4ce0cd452,Improving logging at '_allocate_mdevs'.,MERGED,2022-10-13 07:55:07.000000000,2022-12-20 16:24:55.000000000,2022-12-20 16:24:55.000000000,"[{'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-10-13 07:55:07.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6feb3350b048606297068841e3feba110bb0b0ab', 'message': ""Improving logging at '_allocate_mdevs'.\n\nAdding both 'info' and 'debug' messages with the intention of telling\nwhich mdevs are available, which get allocated and whether new ones\nare created.\n\nCloses-Bug: #1992451\nChange-Id: Ibd331df51fd4eaeed4831a98469f06a4ce0cd452\n""}]",1,861146,6feb3350b048606297068841e3feba110bb0b0ab,17,6,1,34443,,,0,"Improving logging at '_allocate_mdevs'.

Adding both 'info' and 'debug' messages with the intention of telling
which mdevs are available, which get allocated and whether new ones
are created.

Closes-Bug: #1992451
Change-Id: Ibd331df51fd4eaeed4831a98469f06a4ce0cd452
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/861146/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,6feb3350b048606297068841e3feba110bb0b0ab,," LOG.debug('Searching for available mdevs...') LOG.info('Available mdevs at: %s.', available_mdevs) LOG.debug('Attempting to create new mdev...') LOG.debug('Trying on: %s.', dev_name) LOG.info('Created mdev: %s on pGPU: %s.', chosen_mdev, pci_addr) LOG.debug('Failed: No available instances on device.') LOG.info('Failed to create mdev. ' 'No free space found among the following devices: %s.', [dev['dev_id'] for dev in devices]) LOG.debug('No available mdevs where found. ' 'Creating an new one...') LOG.info('Allocated mdev: %s.', chosen_mdev)",,13,0
openstack%2Fnova~stable%2Fyoga~I71c3a4355c6f06d3791e50a696e4d665db1c227a,openstack/nova,stable/yoga,I71c3a4355c6f06d3791e50a696e4d665db1c227a,Modify the command of getting serial console,ABANDONED,2022-07-22 07:11:32.000000000,2022-12-20 16:11:05.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 23266}, {'_account_id': 35458}]","[{'number': 1, 'created': '2022-07-22 07:11:32.000000000', 'files': ['doc/source/admin/manage-logs.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/1978a09bd48d8b4437395cb3db3410c92fdc23af', 'message': ""Modify the command of getting serial console\n\nThe old command 'nova get-serial-proxy' was not found when using novaclient\n\nChange-Id: I71c3a4355c6f06d3791e50a696e4d665db1c227a\n""}]",2,850723,1978a09bd48d8b4437395cb3db3410c92fdc23af,7,4,1,34918,,,0,"Modify the command of getting serial console

The old command 'nova get-serial-proxy' was not found when using novaclient

Change-Id: I71c3a4355c6f06d3791e50a696e4d665db1c227a
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/850723/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/manage-logs.rst'],1,1978a09bd48d8b4437395cb3db3410c92fdc23af,modify_serial_console_command,#. Use the :command:`nova get-serial-console` command to retrieve the websocket $ nova get-serial-console INSTANCE_NAME,#. Use the :command:`nova get-serial-proxy` command to retrieve the websocket $ nova get-serial-proxy INSTANCE_NAME,2,2
openstack%2Fnova~master~I71c3a4355c6f06d3791e50a696e4d665db1c227a,openstack/nova,master,I71c3a4355c6f06d3791e50a696e4d665db1c227a,Modify the command of getting serial console,ABANDONED,2022-10-11 03:15:19.000000000,2022-12-20 16:10:56.000000000,,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-10-11 03:15:19.000000000', 'files': ['doc/source/admin/manage-logs.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/ad278d7f3affa974560d9451e7c10ca511e26366', 'message': ""Modify the command of getting serial console\n\nThe old command 'nova get-serial-proxy' was not found when using novaclient\n\nChange-Id: I71c3a4355c6f06d3791e50a696e4d665db1c227a\n""}]",2,860892,ad278d7f3affa974560d9451e7c10ca511e26366,13,6,1,34918,,,0,"Modify the command of getting serial console

The old command 'nova get-serial-proxy' was not found when using novaclient

Change-Id: I71c3a4355c6f06d3791e50a696e4d665db1c227a
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/860892/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/manage-logs.rst'],1,ad278d7f3affa974560d9451e7c10ca511e26366,modify_serial_console_command-master,#. Use the :command:`nova get-serial-console` command to retrieve the websocket $ nova get-serial-console INSTANCE_NAME,#. Use the :command:`nova get-serial-proxy` command to retrieve the websocket $ nova get-serial-proxy INSTANCE_NAME,2,2
openstack%2Fnova~master~If94895d0fc4b5a59febd02e127fbf93959084fee,openstack/nova,master,If94895d0fc4b5a59febd02e127fbf93959084fee,Doc: Fix list servers detailed response param,MERGED,2022-10-28 21:55:42.000000000,2022-12-20 16:09:16.000000000,2022-12-20 16:07:24.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 34275}]","[{'number': 1, 'created': '2022-10-28 21:55:42.000000000', 'files': ['api-ref/source/servers.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/8f1cc5a8f06909821d4bbfc8d439496b2fd2e122', 'message': 'Doc: Fix list servers detailed response param\n\nChange-Id: If94895d0fc4b5a59febd02e127fbf93959084fee\n'}]",1,862963,8f1cc5a8f06909821d4bbfc8d439496b2fd2e122,11,3,1,35447,,,0,"Doc: Fix list servers detailed response param

Change-Id: If94895d0fc4b5a59febd02e127fbf93959084fee
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/862963/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/servers.inc'],1,8f1cc5a8f06909821d4bbfc8d439496b2fd2e122,server-doc-fix, - servers: servers, - server: server,1,1
openstack%2Fneutron~stable%2Fyoga~Id594003681f4755d8fd1af3b98e281c3109420f6,openstack/neutron,stable/yoga,Id594003681f4755d8fd1af3b98e281c3109420f6,Fix bulk create without mac,MERGED,2022-12-16 15:30:18.000000000,2022-12-20 16:08:50.000000000,2022-12-20 16:07:11.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-16 15:30:18.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ed8fa503759433136e9e4aef5d9c7b5bb0aa3c5', 'message': 'Fix bulk create without mac\n\nBulk port create without mac address fails as when Neutron calls\noslo_utils.netutils.get_ipv6_addr_by_EUI64, as the mac field of the port\nis an ATTR_NOT_SPECIFIED Sentinel() object.\nWith some reshuffling of the code to fill the mac field this can be\nfixed.\n\nConflicts:\n  neutron/plugins/ml2/plugin.py\n\nCloses-Bug: #1995732\nRelated-Bug: #1954763\n\nChange-Id: Id594003681f4755d8fd1af3b98e281c3109420f6\n(cherry picked from commit f7dd7790f5c6e3149af4680ba521089328d1eb0c)\n'}]",1,867921,2ed8fa503759433136e9e4aef5d9c7b5bb0aa3c5,9,4,1,8313,,,0,"Fix bulk create without mac

Bulk port create without mac address fails as when Neutron calls
oslo_utils.netutils.get_ipv6_addr_by_EUI64, as the mac field of the port
is an ATTR_NOT_SPECIFIED Sentinel() object.
With some reshuffling of the code to fill the mac field this can be
fixed.

Conflicts:
  neutron/plugins/ml2/plugin.py

Closes-Bug: #1995732
Related-Bug: #1954763

Change-Id: Id594003681f4755d8fd1af3b98e281c3109420f6
(cherry picked from commit f7dd7790f5c6e3149af4680ba521089328d1eb0c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/867921/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py']",2,2ed8fa503759433136e9e4aef5d9c7b5bb0aa3c5,bug/1995732-stable/zed-stable/yoga,"from neutron_lib.api import converters def allocate_macs_and_ips_for_ports(self, context, ports): macs = self._generate_macs(len(ports)) network_cache = dict() network_id = port['port'].get('network_id') if network_id not in network_cache: network = self.get_network(context, network_id) network_cache[network_id] = network raw_mac_address = port['port'].get('mac_address', const.ATTR_NOT_SPECIFIED) if raw_mac_address is const.ATTR_NOT_SPECIFIED: raw_mac_address = macs.pop() elif self._is_mac_in_use(context, network_id, raw_mac_address): raise exc.MacAddressInUse(net_id=network_id, mac=raw_mac_address) eui_mac_address = converters.convert_to_sanitized_mac_address( raw_mac_address) # Create the Port object # Note: netaddr has an issue with using the correct dialect when # the input for EUI is another EUI object, see: # https://github.com/netaddr/netaddr/issues/250 # TODO(lajoskatona): remove this once # https://review.opendev.org/c/openstack/neutron-lib/+/865517 is # released. port['port']['mac_address'] = str(eui_mac_address) return ports, network_cache port_list, net_cache = self.allocate_macs_and_ips_for_ports( context, port_list) return self._create_port_bulk(context, port_list, net_cache) def _create_port_bulk(self, context, port_list, network_cache): network_id = pdata.get('network_id') network_id=network_id, network = network_cache[network_id] db_port_obj = ports_obj.Port( context, mac_address=netaddr.EUI(port['port']['mac_address'], dialect=eui48.mac_unix_expanded), id=port['port']['id'], **bulk_port_data)"," def allocate_ips_for_ports(self, context, ports): return ports port_list = self.allocate_ips_for_ports(context, port_list) return self._create_port_bulk(context, port_list) def _create_port_bulk(self, context, port_list): network_cache = dict() macs = self._generate_macs(len(port_list)) network_id=pdata.get('network_id'), # Ensure that the networks exist. network_id = pdata.get('network_id') if network_id not in network_cache: network = self.get_network(context, network_id) network_cache[network_id] = network else: network = network_cache[network_id] # Determine the MAC address raw_mac_address = pdata.get('mac_address', const.ATTR_NOT_SPECIFIED) if raw_mac_address is const.ATTR_NOT_SPECIFIED: raw_mac_address = macs.pop() elif self._is_mac_in_use(context, network_id, raw_mac_address): raise exc.MacAddressInUse(net_id=network_id, mac=raw_mac_address) eui_mac_address = netaddr.EUI(raw_mac_address, dialect=eui48.mac_unix_expanded) port['port']['mac_address'] = str(eui_mac_address) # Create the Port object db_port_obj = ports_obj.Port(context, mac_address=eui_mac_address, id=port['port']['id'], **bulk_port_data)",133,32
openstack%2Fneutron~stable%2Fzed~Id594003681f4755d8fd1af3b98e281c3109420f6,openstack/neutron,stable/zed,Id594003681f4755d8fd1af3b98e281c3109420f6,Fix bulk create without mac,MERGED,2022-12-16 13:21:16.000000000,2022-12-20 16:08:45.000000000,2022-12-20 16:07:06.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-16 13:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6bcfced812b2c6a5cd6c2263b2f1967643ddc1f', 'message': 'Fix bulk create without mac\n\nBulk port create without mac address fails as when Neutron calls\noslo_utils.netutils.get_ipv6_addr_by_EUI64, as the mac field of the port\nis an ATTR_NOT_SPECIFIED Sentinel() object.\nWith some reshuffling of the code to fill the mac field this can be\nfixed.\n\nCloses-Bug: #1995732\nRelated-Bug: #1954763\n\nChange-Id: Id594003681f4755d8fd1af3b98e281c3109420f6\n(cherry picked from commit f7dd7790f5c6e3149af4680ba521089328d1eb0c)\n'}, {'number': 2, 'created': '2022-12-16 15:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff0bd5ffd8a2776651fd24db28963c77366dcd13', 'message': 'Fix bulk create without mac\n\nBulk port create without mac address fails as when Neutron calls\noslo_utils.netutils.get_ipv6_addr_by_EUI64, as the mac field of the port\nis an ATTR_NOT_SPECIFIED Sentinel() object.\nWith some reshuffling of the code to fill the mac field this can be\nfixed.\n\nCloses-Bug: #1995732\nRelated-Bug: #1954763\n\nChange-Id: Id594003681f4755d8fd1af3b98e281c3109420f6\n(cherry picked from commit f7dd7790f5c6e3149af4680ba521089328d1eb0c)\n'}, {'number': 3, 'created': '2022-12-16 15:23:57.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c09f7ec2ee1ade69d3716a13963f6a5fd7714d9d', 'message': 'Fix bulk create without mac\n\nBulk port create without mac address fails as when Neutron calls\noslo_utils.netutils.get_ipv6_addr_by_EUI64, as the mac field of the port\nis an ATTR_NOT_SPECIFIED Sentinel() object.\nWith some reshuffling of the code to fill the mac field this can be\nfixed.\n\nConflicts:\n  neutron/plugins/ml2/plugin.py\n\nCloses-Bug: #1995732\nRelated-Bug: #1954763\n\nChange-Id: Id594003681f4755d8fd1af3b98e281c3109420f6\n(cherry picked from commit f7dd7790f5c6e3149af4680ba521089328d1eb0c)\n'}]",17,867920,c09f7ec2ee1ade69d3716a13963f6a5fd7714d9d,17,4,3,8313,,,0,"Fix bulk create without mac

Bulk port create without mac address fails as when Neutron calls
oslo_utils.netutils.get_ipv6_addr_by_EUI64, as the mac field of the port
is an ATTR_NOT_SPECIFIED Sentinel() object.
With some reshuffling of the code to fill the mac field this can be
fixed.

Conflicts:
  neutron/plugins/ml2/plugin.py

Closes-Bug: #1995732
Related-Bug: #1954763

Change-Id: Id594003681f4755d8fd1af3b98e281c3109420f6
(cherry picked from commit f7dd7790f5c6e3149af4680ba521089328d1eb0c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/867920/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py']",2,a6bcfced812b2c6a5cd6c2263b2f1967643ddc1f,bug/1995732-stable/zed,"from neutron_lib.api import converters def allocate_macs_and_ips_for_ports(self, context, ports): macs = self._generate_macs(len(ports)) network_cache = dict() network_id = port['port'].get('network_id') if network_id not in network_cache: network = self.get_network(context, network_id) network_cache[network_id] = network raw_mac_address = port['port'].get('mac_address', const.ATTR_NOT_SPECIFIED) if raw_mac_address is const.ATTR_NOT_SPECIFIED: raw_mac_address = macs.pop() elif self._is_mac_in_use(context, network_id, raw_mac_address): raise exc.MacAddressInUse(net_id=network_id, mac=raw_mac_address) eui_mac_address = converters.convert_to_sanitized_mac_address( raw_mac_address) # Create the Port object # Note: netaddr has an issue with using the correct dialect when # the input for EUI is another EUI object, see: # https://github.com/netaddr/netaddr/issues/250 # TODO(lajoskatona): remove this once # https://review.opendev.org/c/openstack/neutron-lib/+/865517 is # released. port['port']['mac_address'] = str(eui_mac_address) return ports, network_cache port_list, net_cache = self.allocate_macs_and_ips_for_ports( context, port_list) return self._create_port_bulk(context, port_list, net_cache) def _create_port_bulk(self, context, port_list, network_cache): network_id = pdata.get('network_id') network_id=network_id, network = network_cache[network_id] <<<<<<< HEAD (6927df Dont raise RouterInterfaceNotFound on overlap check router p)======= db_port_obj = ports_obj.Port( context, mac_address=netaddr.EUI(port['port']['mac_address'], dialect=eui48.mac_unix_expanded), id=port['port']['id'], **bulk_port_data) >>>>>>> CHANGE (f7dd77 Fix bulk create without mac)"," def allocate_ips_for_ports(self, context, ports): return ports port_list = self.allocate_ips_for_ports(context, port_list) return self._create_port_bulk(context, port_list) def _create_port_bulk(self, context, port_list): network_cache = dict() macs = self._generate_macs(len(port_list)) network_id=pdata.get('network_id'), # Ensure that the networks exist. network_id = pdata.get('network_id') if network_id not in network_cache: network = self.get_network(context, network_id) network_cache[network_id] = network else: network = network_cache[network_id] ",136,15
openstack%2Fnova~master~I0ffa47d2afbfbfa63651991b3791dfad3e1832e1,openstack/nova,master,I0ffa47d2afbfbfa63651991b3791dfad3e1832e1,db: Drop redundant indexes on instances and console_auth_tokens tables,MERGED,2022-09-09 12:01:29.000000000,2022-12-20 16:08:16.000000000,2022-12-20 16:07:00.000000000,"[{'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-09-09 12:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6abb9f4f7b65a01b0b0bb7c5035485369118965', 'message': 'db: Drop redundant unique constraint for instances uuid\n\nThere were two unique constrainst on the same column uuid, this change now\ndrops one of them.\n\nThis was introduced through https://review.opendev.org/c/openstack/nova/+/97946\nbut was pending cleanup since.\n\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 2, 'created': '2022-09-09 12:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5df63f42f102a4fa1154e98d45c70f653d46f6d', 'message': 'db: Drop redundant unique constraint for instances uuid\n\nThere were two unique constrainst on the same column uuid, this change drops\none of them.\n\nThe second constraint was introduced with\nhttps://review.opendev.org/c/openstack/nova/+/97946 but was pending cleanup\nsince.\n\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 3, 'created': '2022-09-09 12:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9dedec4d0c50c77f62fc188774714c0cf329d697', 'message': 'db: Drop redundant indeces on instances and console_auth_tokens tables\n\n * There were two unique constrains on the same column uuid of instances.\n   This change drops one of them. The second constraint was introduced with\n   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup\n   since.\n * In console_auth_tokens there was a unique constraint and another index on\n   column token_hash.\n\nCloses-Bug: #1641185\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 4, 'created': '2022-09-09 12:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf2b2dd3512fc1e4f81405dbc019d26e4c42d958', 'message': 'db: Drop redundant indexes on instances and console_auth_tokens tables\n\n * There were two unique constrains on the same column uuid of instances.\n   This change drops one of them. The second constraint was introduced with\n   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup\n   since.\n * In console_auth_tokens there was a unique constraint and another index on\n   column token_hash.\n\nCloses-Bug: #1641185\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 5, 'created': '2022-09-09 14:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/468029b335ce5c13eabd64355df0296c6bbd4abd', 'message': 'db: Drop redundant indeces on instances and console_auth_tokens tables\n\n * There were two unique constrains on the same column uuid of instances.\n   This change drops one of them. The second constraint was introduced with\n   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup\n   since.\n * In console_auth_tokens there was a unique constraint and another index on\n   column token_hash.\n\nCloses-Bug: #1641185\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 6, 'created': '2022-09-09 14:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cde665dd67ae3c5cfab47d1d6022b48ebcea3617', 'message': 'db: Drop redundant indeces on instances and console_auth_tokens tables\n\n * There were two unique constrains on the same column uuid of instances.\n   This change drops one of them. The second constraint was introduced with\n   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup\n   since.\n * In console_auth_tokens there was a unique constraint and another index on\n   column token_hash.\n\nCloses-Bug: #1641185\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 7, 'created': '2022-09-09 22:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7b63494177b56e865094f7d9d1f8085615a9a0d', 'message': 'db: Drop redundant indeces on instances and console_auth_tokens tables\n\n * There were two unique constrains on the same column uuid of instances.\n   This change drops one of them. The second constraint was introduced with\n   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup\n   since.\n * In console_auth_tokens there was a unique constraint and another index on\n   column token_hash.\n\nCloses-Bug: #1641185\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 8, 'created': '2022-09-12 07:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31ac291f8a327ad3b8f70faf25d8b783038e2a97', 'message': 'db: Drop redundant indeces on instances and console_auth_tokens tables\n\n * There were two unique constrains on the same column uuid of instances.\n   This change drops one of them. The second constraint was introduced with\n   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup\n   since.\n * In console_auth_tokens there was a unique constraint and another index on\n   column token_hash.\n\nCloses-Bug: #1641185\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 9, 'created': '2022-09-15 15:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a1260f66d2f3ac09ad2185eceea705eed759b38', 'message': 'db: Drop redundant indeces on instances and console_auth_tokens tables\n\n * There were two unique constrains on the same column uuid of instances.\n   This change drops one of them. The second constraint was introduced with\n   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup\n   since.\n * In console_auth_tokens there was a unique constraint and another index on\n   column token_hash.\n\nCloses-Bug: #1641185\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 10, 'created': '2022-09-15 15:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0ffdb8bdda7c037147c832abdd8394e1e6e90c8', 'message': 'db: Drop redundant indexes on instances and console_auth_tokens tables\n\n * There were two unique constrains on the same column uuid of instances.\n   This change drops one of them. The second constraint was introduced with\n   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup\n   since.\n * In console_auth_tokens there was a unique constraint and another index on\n   column token_hash.\n\nCloses-Bug: #1641185\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 11, 'created': '2022-09-15 17:42:47.000000000', 'files': ['nova/tests/unit/db/main/test_migrations.py', 'nova/db/main/migrations/versions/960aac0e09ea_de_duplicate_indexes_in_instances__.py', 'nova/db/main/models.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/531e1e8733b8928d262bf3b0b72540dde3ef1dad', 'message': 'db: Drop redundant indexes on instances and console_auth_tokens tables\n\n * There were two unique constrains on the same column uuid of instances.\n   This change drops one of them. The second constraint was introduced with\n   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup\n   since.\n * In console_auth_tokens there was a unique constraint and another index on\n   column token_hash.\n\nCloses-Bug: #1641185\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}]",11,856757,531e1e8733b8928d262bf3b0b72540dde3ef1dad,61,6,11,32755,,,0,"db: Drop redundant indexes on instances and console_auth_tokens tables

 * There were two unique constrains on the same column uuid of instances.
   This change drops one of them. The second constraint was introduced with
   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup
   since.
 * In console_auth_tokens there was a unique constraint and another index on
   column token_hash.

Closes-Bug: #1641185
Change-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/856757/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/main/migrations/versions/03d2ca76f59b_drop_redundant_unique_constraint_for_.py', 'nova/db/main/models.py']",2,d6abb9f4f7b65a01b0b0bb7c5035485369118965,dedupindexes,," schema.UniqueConstraint('uuid', name='uniq_instances0uuid'),",36,1
openstack%2Fnova~stable%2Fwallaby~Ibed67854a693c930effd4dba7aca6cd03b65bd92,openstack/nova,stable/wallaby,Ibed67854a693c930effd4dba7aca6cd03b65bd92,Add --task-log option to nova-manage db archive_deleted_rows,NEW,2021-07-28 18:00:27.000000000,2022-12-20 16:07:58.000000000,,"[{'_account_id': 4690}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 18:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c6a4b70f35e80358bbcaab5a5370be62cb81bcd', 'message': 'Add --task-log option to nova-manage db archive_deleted_rows\n\nNOTE(melwitt): This is a combination of three changes to avoid\nnondeterminstic test failure that was introduced by the original bug\nfix and was fixed by change I9b16a3a849937aba5b90ed1ab9a80b7f0103f673.\nIt also contains a followup change to correct the release note in the\noriginal bug fix.\n\nThe task_log table contains instance usage audit records if\nnova-compute has been configured with [DEFAULT]instance_usage_audit =\nTrue. This will be the case if OpenStack Telemetry is being used in the\ndeployment, as the option causes nova to generate audit information\nthat Telemetry then retrieves from the server usage audit log API [1].\n\nHistorically, there has been no way to delete task_log table records\nother than manual database modification. Because of this, task_log\nrecords could pile up over time and operators are forced to perform\nmanual steps to periodically truncate the table.\n\nThis adds a --task-log option to the \'nova-manage db\narchive_deleted_rows\' CLI to also archive task_log records while\narchiving the database. --task-log works in conjunction with --before\nif operators desire archving only records that are older than <date>.\nThe \'updated_at\' field is used by --task-log --before <date> to\ndetermine the age of a task_log record for archival.\n\nConflicts:\n    doc/source/cli/nova-manage.rst\n\nNOTE(melwitt): The conflict is because change\nI84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df is not in Wallaby.\n\nCloses-Bug: #1877189\n\n[1] https://docs.openstack.org/api-ref/compute/#server-usage-audit-log-os-instance-usage-audit-log\n\nMake test_archive_task_logs deterministic\n\nThe \'nova-manage db archive_deleted_rows --task-log\' functional tests\ninvolve manipulating time to assert archive behaviors when the --before\nflag is also used.\n\nWhile timedelta was used, set_time_override was not, so depending on\nthe date the test ran on + the number of days in the current month and\nnext two months, the test could fail. Task log audit periods are one\ncalendar month by default and the compute manager calls\nlast_completed_audit_period() without specifying a unit.\n\nThis changes the tests to use a time override to ensure predictable\nbehavior with regard to the audit period boundaries. The tests were\nmoved into their own test case classes in order to override the time\nbefore services were started, so that the ""service up"" calculations\nwork as expected.\n\nCloses-Bug: #1934519\n\nChange-Id: I9b16a3a849937aba5b90ed1ab9a80b7f0103f673\n(cherry picked from commit 87dba379aca6ec4613986cfa4e749a3ada2b44d0)\n\nCorrect reno for archiving task_log database records\n\nThe release note incorrectly stated that the Telemetry service calls\nthe /os-instance_usage_audit_log REST API to retrieve instance usage\ndata. Telemetry rather consumes the notifications that are only generated\nwhen [DEFAULT]instance_usage_audit=True.\n\nRelated-Bug: #1877189\n\nChange-Id: Iea358090c42877bedfdcc4a04019f6dc406176c2\n(cherry picked from commit d093849c3c70e46bf409b1051454cbf70bc12a1f)\n\nChange-Id: Ibed67854a693c930effd4dba7aca6cd03b65bd92\n(cherry picked from commit bc71331bcaa92718fce06ac3d2ecda6a4c9d2d20)\n'}, {'number': 2, 'created': '2022-09-16 19:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6dbb394f11cf6d580cecb6c3542ac91b47922ac', 'message': 'Add --task-log option to nova-manage db archive_deleted_rows\n\nNOTE(melwitt): This is a combination of three changes to avoid\nnondeterminstic test failure that was introduced by the original bug\nfix and was fixed by change I9b16a3a849937aba5b90ed1ab9a80b7f0103f673.\nIt also contains a followup change to correct the release note in the\noriginal bug fix.\n\nThe task_log table contains instance usage audit records if\nnova-compute has been configured with [DEFAULT]instance_usage_audit =\nTrue. This will be the case if OpenStack Telemetry is being used in the\ndeployment, as the option causes nova to generate audit information\nthat Telemetry then retrieves from the server usage audit log API [1].\n\nHistorically, there has been no way to delete task_log table records\nother than manual database modification. Because of this, task_log\nrecords could pile up over time and operators are forced to perform\nmanual steps to periodically truncate the table.\n\nThis adds a --task-log option to the \'nova-manage db\narchive_deleted_rows\' CLI to also archive task_log records while\narchiving the database. --task-log works in conjunction with --before\nif operators desire archving only records that are older than <date>.\nThe \'updated_at\' field is used by --task-log --before <date> to\ndetermine the age of a task_log record for archival.\n\nConflicts:\n    doc/source/cli/nova-manage.rst\n\nNOTE(melwitt): The conflict is because change\nI84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df is not in Wallaby.\n\nCloses-Bug: #1877189\n\n[1] https://docs.openstack.org/api-ref/compute/#server-usage-audit-log-os-instance-usage-audit-log\n\nMake test_archive_task_logs deterministic\n\nThe \'nova-manage db archive_deleted_rows --task-log\' functional tests\ninvolve manipulating time to assert archive behaviors when the --before\nflag is also used.\n\nWhile timedelta was used, set_time_override was not, so depending on\nthe date the test ran on + the number of days in the current month and\nnext two months, the test could fail. Task log audit periods are one\ncalendar month by default and the compute manager calls\nlast_completed_audit_period() without specifying a unit.\n\nThis changes the tests to use a time override to ensure predictable\nbehavior with regard to the audit period boundaries. The tests were\nmoved into their own test case classes in order to override the time\nbefore services were started, so that the ""service up"" calculations\nwork as expected.\n\nCloses-Bug: #1934519\n\nChange-Id: I9b16a3a849937aba5b90ed1ab9a80b7f0103f673\n(cherry picked from commit 87dba379aca6ec4613986cfa4e749a3ada2b44d0)\n\nCorrect reno for archiving task_log database records\n\nThe release note incorrectly stated that the Telemetry service calls\nthe /os-instance_usage_audit_log REST API to retrieve instance usage\ndata. Telemetry rather consumes the notifications that are only generated\nwhen [DEFAULT]instance_usage_audit=True.\n\nRelated-Bug: #1877189\n\nChange-Id: Iea358090c42877bedfdcc4a04019f6dc406176c2\n(cherry picked from commit d093849c3c70e46bf409b1051454cbf70bc12a1f)\n\nChange-Id: Ibed67854a693c930effd4dba7aca6cd03b65bd92\n(cherry picked from commit bc71331bcaa92718fce06ac3d2ecda6a4c9d2d20)\n'}, {'number': 3, 'created': '2022-09-16 20:06:40.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/db/test_archive.py', 'releasenotes/notes/archive-task-logs-fa9dd7c5859b5e30.yaml', 'nova/tests/unit/cmd/test_manage.py', 'doc/source/cli/nova-manage.rst', 'nova/test.py', 'nova/cmd/manage.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/58cda0f1075b6f06aeebfe492ba522e23597fcf2', 'message': 'Add --task-log option to nova-manage db archive_deleted_rows\n\nNOTE(melwitt): This is a combination of 4 changes to avoid\nnondeterminstic test failure that was introduced by the original bug\nfix and was fixed by changes:\n\n  * I9b16a3a849937aba5b90ed1ab9a80b7f0103f673 (Make\n    test_archive_task_logs deterministic)\n\n  * Ic28d2e53d5f50e89635e19df08699f2b8c5cea84 (Restore original time\n    override in test_archive_task_logs)\n\nIt also contains a followup change to correct the release note in the\noriginal bug fix.\n\nThe task_log table contains instance usage audit records if\nnova-compute has been configured with [DEFAULT]instance_usage_audit =\nTrue. This will be the case if OpenStack Telemetry is being used in the\ndeployment, as the option causes nova to generate audit information\nthat Telemetry then retrieves from the server usage audit log API [1].\n\nHistorically, there has been no way to delete task_log table records\nother than manual database modification. Because of this, task_log\nrecords could pile up over time and operators are forced to perform\nmanual steps to periodically truncate the table.\n\nThis adds a --task-log option to the \'nova-manage db\narchive_deleted_rows\' CLI to also archive task_log records while\narchiving the database. --task-log works in conjunction with --before\nif operators desire archving only records that are older than <date>.\nThe \'updated_at\' field is used by --task-log --before <date> to\ndetermine the age of a task_log record for archival.\n\nConflicts:\n    doc/source/cli/nova-manage.rst\n\nNOTE(melwitt): The conflict is because change\nI84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df (docs: Rewrite \'nova-manage\ndb\' docs to use proper directives) is not in Wallaby.\n\nCloses-Bug: #1877189\n\n[1] https://docs.openstack.org/api-ref/compute/#server-usage-audit-log-os-instance-usage-audit-log\n\nMake test_archive_task_logs deterministic\n\nThe \'nova-manage db archive_deleted_rows --task-log\' functional tests\ninvolve manipulating time to assert archive behaviors when the --before\nflag is also used.\n\nWhile timedelta was used, set_time_override was not, so depending on\nthe date the test ran on + the number of days in the current month and\nnext two months, the test could fail. Task log audit periods are one\ncalendar month by default and the compute manager calls\nlast_completed_audit_period() without specifying a unit.\n\nThis changes the tests to use a time override to ensure predictable\nbehavior with regard to the audit period boundaries. The tests were\nmoved into their own test case classes in order to override the time\nbefore services were started, so that the ""service up"" calculations\nwork as expected.\n\nCloses-Bug: #1934519\n\nChange-Id: I9b16a3a849937aba5b90ed1ab9a80b7f0103f673\n(cherry picked from commit 87dba379aca6ec4613986cfa4e749a3ada2b44d0)\n\nCorrect reno for archiving task_log database records\n\nThe release note incorrectly stated that the Telemetry service calls\nthe /os-instance_usage_audit_log REST API to retrieve instance usage\ndata. Telemetry rather consumes the notifications that are only generated\nwhen [DEFAULT]instance_usage_audit=True.\n\nRelated-Bug: #1877189\n\nChange-Id: Iea358090c42877bedfdcc4a04019f6dc406176c2\n(cherry picked from commit d093849c3c70e46bf409b1051454cbf70bc12a1f)\n\nRestore original time override in test_archive_task_logs\n\nChange I9b16a3a849937aba5b90ed1ab9a80b7f0103f673 attempted to fix a\nnon-determinstic failure in the test_archive_task_logs functional test\nby adding a time override. That fix however missed that the\nosloutils_fixture.TimeFixture clears the time override when it exits\nand that does not mean a previous time override will be restored.\n\nThis removes usage of the osloutils_fixture.TimeFixture and instead\nsets time overrides and restores previous time overrides. Restoration\nof the original time overrides also made an adjustment to the --before\noption value necessary in order to pick up the first task_log record.\n\nCloses-Bug: #1934519\n\nChange-Id: Ic28d2e53d5f50e89635e19df08699f2b8c5cea84\n(cherry picked from commit 39ef1ad774859562183190f74831a115698e6836)\n\nChange-Id: Ibed67854a693c930effd4dba7aca6cd03b65bd92\n(cherry picked from commit bc71331bcaa92718fce06ac3d2ecda6a4c9d2d20)\n'}]",3,802766,58cda0f1075b6f06aeebfe492ba522e23597fcf2,15,3,3,4690,,,0,"Add --task-log option to nova-manage db archive_deleted_rows

NOTE(melwitt): This is a combination of 4 changes to avoid
nondeterminstic test failure that was introduced by the original bug
fix and was fixed by changes:

  * I9b16a3a849937aba5b90ed1ab9a80b7f0103f673 (Make
    test_archive_task_logs deterministic)

  * Ic28d2e53d5f50e89635e19df08699f2b8c5cea84 (Restore original time
    override in test_archive_task_logs)

It also contains a followup change to correct the release note in the
original bug fix.

The task_log table contains instance usage audit records if
nova-compute has been configured with [DEFAULT]instance_usage_audit =
True. This will be the case if OpenStack Telemetry is being used in the
deployment, as the option causes nova to generate audit information
that Telemetry then retrieves from the server usage audit log API [1].

Historically, there has been no way to delete task_log table records
other than manual database modification. Because of this, task_log
records could pile up over time and operators are forced to perform
manual steps to periodically truncate the table.

This adds a --task-log option to the 'nova-manage db
archive_deleted_rows' CLI to also archive task_log records while
archiving the database. --task-log works in conjunction with --before
if operators desire archving only records that are older than <date>.
The 'updated_at' field is used by --task-log --before <date> to
determine the age of a task_log record for archival.

Conflicts:
    doc/source/cli/nova-manage.rst

NOTE(melwitt): The conflict is because change
I84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df (docs: Rewrite 'nova-manage
db' docs to use proper directives) is not in Wallaby.

Closes-Bug: #1877189

[1] https://docs.openstack.org/api-ref/compute/#server-usage-audit-log-os-instance-usage-audit-log

Make test_archive_task_logs deterministic

The 'nova-manage db archive_deleted_rows --task-log' functional tests
involve manipulating time to assert archive behaviors when the --before
flag is also used.

While timedelta was used, set_time_override was not, so depending on
the date the test ran on + the number of days in the current month and
next two months, the test could fail. Task log audit periods are one
calendar month by default and the compute manager calls
last_completed_audit_period() without specifying a unit.

This changes the tests to use a time override to ensure predictable
behavior with regard to the audit period boundaries. The tests were
moved into their own test case classes in order to override the time
before services were started, so that the ""service up"" calculations
work as expected.

Closes-Bug: #1934519

Change-Id: I9b16a3a849937aba5b90ed1ab9a80b7f0103f673
(cherry picked from commit 87dba379aca6ec4613986cfa4e749a3ada2b44d0)

Correct reno for archiving task_log database records

The release note incorrectly stated that the Telemetry service calls
the /os-instance_usage_audit_log REST API to retrieve instance usage
data. Telemetry rather consumes the notifications that are only generated
when [DEFAULT]instance_usage_audit=True.

Related-Bug: #1877189

Change-Id: Iea358090c42877bedfdcc4a04019f6dc406176c2
(cherry picked from commit d093849c3c70e46bf409b1051454cbf70bc12a1f)

Restore original time override in test_archive_task_logs

Change I9b16a3a849937aba5b90ed1ab9a80b7f0103f673 attempted to fix a
non-determinstic failure in the test_archive_task_logs functional test
by adding a time override. That fix however missed that the
osloutils_fixture.TimeFixture clears the time override when it exits
and that does not mean a previous time override will be restored.

This removes usage of the osloutils_fixture.TimeFixture and instead
sets time overrides and restores previous time overrides. Restoration
of the original time overrides also made an adjustment to the --before
option value necessary in order to pick up the first task_log record.

Closes-Bug: #1934519

Change-Id: Ic28d2e53d5f50e89635e19df08699f2b8c5cea84
(cherry picked from commit 39ef1ad774859562183190f74831a115698e6836)

Change-Id: Ibed67854a693c930effd4dba7aca6cd03b65bd92
(cherry picked from commit bc71331bcaa92718fce06ac3d2ecda6a4c9d2d20)
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/802766/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/db/test_archive.py', 'nova/tests/unit/cmd/test_manage.py', 'releasenotes/notes/archive-task-logs-fa9dd7c5859b5e30.yaml', 'doc/source/cli/nova-manage.rst', 'nova/test.py', 'nova/cmd/manage.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",10,1c6a4b70f35e80358bbcaab5a5370be62cb81bcd,bug/1877189,"def _archive_deleted_rows_for_table(metadata, tablename, max_rows, before, task_log): if tablename == ""task_log"" and task_log: # task_log table records are never deleted by anything, so we won't # base our select statement on the 'deleted' column status. select = sql.select([column]) if before: if tablename != ""task_log"": select = select.where(table.c.deleted_at < before) elif task_log: # task_log table records are never deleted by anything, so we won't # base our select statement on the 'deleted_at' column status. select = select.where(table.c.updated_at < before)def archive_deleted_rows(context=None, max_rows=None, before=None, task_log=False): :param task_log: Optional for whether to archive task_log table records before=before, task_log=task_log)) 'shadow_task_log': 'updated_at',","def _archive_deleted_rows_for_table(metadata, tablename, max_rows, before): if before: select = select.where(table.c.deleted_at < before)def archive_deleted_rows(context=None, max_rows=None, before=None): before=before))",454,47
openstack%2Fnova~master~I8515a25d698a3671673edd393ec6964862d3d476,openstack/nova,master,I8515a25d698a3671673edd393ec6964862d3d476,libvirt: fix typo in test_config,MERGED,2022-11-16 02:34:04.000000000,2022-12-20 16:07:16.000000000,2022-12-20 16:07:16.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-16 02:34:04.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_config.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ae055aaf5d530b86cd396b3e0b8e54e87879003b', 'message': 'libvirt: fix typo in test_config\n\nhosdev -> hostdev\n\nSigned-off-by: Nobuhiro MIKI <nmiki@yahoo-corp.jp>\nChange-Id: I8515a25d698a3671673edd393ec6964862d3d476\n'}]",1,864641,ae055aaf5d530b86cd396b3e0b8e54e87879003b,8,2,1,31652,,,0,"libvirt: fix typo in test_config

hosdev -> hostdev

Signed-off-by: Nobuhiro MIKI <nmiki@yahoo-corp.jp>
Change-Id: I8515a25d698a3671673edd393ec6964862d3d476
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/864641/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_config.py'],1,ae055aaf5d530b86cd396b3e0b8e54e87879003b,fix_unittest_typo, def test_config_guest_hostdev_pci(self): def test_parse_guest_hostdev_pci(self): def test_parse_guest_hostdev_usb(self):, def test_config_guest_hosdev_pci(self): def test_parse_guest_hosdev_pci(self): def test_parse_guest_hosdev_usb(self):,3,3
openstack%2Fnova~stable%2Fussuri~Iae119ea8776bc7f2e5dbe2e502a743217beded73,openstack/nova,stable/ussuri,Iae119ea8776bc7f2e5dbe2e502a743217beded73,Fix inactive session error in compute node creation,NEW,2021-09-30 00:35:34.000000000,2022-12-20 16:04:22.000000000,,"[{'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-30 00:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2424b4abd92634fe555a643b335b99a3a4b7eec', 'message': ""Fix inactive session error in compute node creation\n\nIn the fix for bug 1839560 [1][2], soft-deleted compute nodes may be\nrestored, to ensure we can reuse ironic node UUIDs as compute node\nUUIDs. While this seems to largely work, it results in some nasty errors\nbeing generated [3]:\n\n    InvalidRequestError This session is in 'inactive' state, due to the\n    SQL transaction being rolled back; no further SQL can be emitted\n    within this transaction.\n\nThis happens because compute_node_create is decorated with\npick_context_manager_writer, which begins a transaction. While\n_compute_node_get_and_update_deleted claims that calling a second\npick_context_manager_writer decorated function will begin a new\nsubtransaction, this does not appear to be the case.\n\nThis change removes pick_context_manager_writer from the\ncompute_node_create function, and adds a new _compute_node_create\nfunction which ensures the transaction is finished if\n_compute_node_get_and_update_deleted is called.\n\nThe new unit test added here fails without this change.\n\nThis change marks the removal of the final FIXME from the functional\ntest added in [4].\n\n[1] https://bugs.launchpad.net/nova/+bug/1839560\n[2] https://git.openstack.org/cgit/openstack/nova/commit/?id=89dd74ac7f1028daadf86cb18948e27fe9d1d411\n[3] http://paste.openstack.org/show/786350/\n[4] https://review.opendev.org/#/c/695012/\n\nChange-Id: Iae119ea8776bc7f2e5dbe2e502a743217beded73\nCloses-Bug: #1853159\nRelated-Bug: #1853009\n(cherry picked from commit 2383cbb4a518821d245fce316b3778c8ba8e5246)\n(cherry picked from commit 5d2edde796d8639556aafebd6f0198d2bc791bd7)\n(cherry picked from commit 63b0a629c63c42a0220475a8392c3ede132762c8)\n""}, {'number': 2, 'created': '2021-09-30 01:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37d7bf909b4767760531c118fd35f0654b4b86e8', 'message': ""Fix inactive session error in compute node creation\n\nIn the fix for bug 1839560 [1][2], soft-deleted compute nodes may be\nrestored, to ensure we can reuse ironic node UUIDs as compute node\nUUIDs. While this seems to largely work, it results in some nasty errors\nbeing generated [3]:\n\n    InvalidRequestError This session is in 'inactive' state, due to the\n    SQL transaction being rolled back; no further SQL can be emitted\n    within this transaction.\n\nThis happens because compute_node_create is decorated with\npick_context_manager_writer, which begins a transaction. While\n_compute_node_get_and_update_deleted claims that calling a second\npick_context_manager_writer decorated function will begin a new\nsubtransaction, this does not appear to be the case.\n\nThis change removes pick_context_manager_writer from the\ncompute_node_create function, and adds a new _compute_node_create\nfunction which ensures the transaction is finished if\n_compute_node_get_and_update_deleted is called.\n\nThe new unit test added here fails without this change.\n\nThis change marks the removal of the final FIXME from the functional\ntest added in [4].\n\n[1] https://bugs.launchpad.net/nova/+bug/1839560\n[2] https://git.openstack.org/cgit/openstack/nova/commit/?id=89dd74ac7f1028daadf86cb18948e27fe9d1d411\n[3] http://paste.openstack.org/show/786350/\n[4] https://review.opendev.org/#/c/695012/\n\nChange-Id: Iae119ea8776bc7f2e5dbe2e502a743217beded73\nCloses-Bug: #1853159\nRelated-Bug: #1853009\n(cherry picked from commit 2383cbb4a518821d245fce316b3778c8ba8e5246)\n(cherry picked from commit 665c053315439e1345aa131f4839945d662fb3f3)\n(cherry picked from commit ddaa8215d2f2151f5d6d3d2946b87fb93d6f0a98)\n""}, {'number': 3, 'created': '2021-09-30 04:05:01.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/43e333f39cb3fb60db136205fddba31ddb97ecf2', 'message': ""Fix inactive session error in compute node creation\n\nIn the fix for bug 1839560 [1][2], soft-deleted compute nodes may be\nrestored, to ensure we can reuse ironic node UUIDs as compute node\nUUIDs. While this seems to largely work, it results in some nasty errors\nbeing generated [3]:\n\n    InvalidRequestError This session is in 'inactive' state, due to the\n    SQL transaction being rolled back; no further SQL can be emitted\n    within this transaction.\n\nThis happens because compute_node_create is decorated with\npick_context_manager_writer, which begins a transaction. While\n_compute_node_get_and_update_deleted claims that calling a second\npick_context_manager_writer decorated function will begin a new\nsubtransaction, this does not appear to be the case.\n\nThis change removes pick_context_manager_writer from the\ncompute_node_create function, and adds a new _compute_node_create\nfunction which ensures the transaction is finished if\n_compute_node_get_and_update_deleted is called.\n\nThe new unit test added here fails without this change.\n\nThis change marks the removal of the final FIXME from the functional\ntest added in [4].\n\n[1] https://bugs.launchpad.net/nova/+bug/1839560\n[2] https://git.openstack.org/cgit/openstack/nova/commit/?id=89dd74ac7f1028daadf86cb18948e27fe9d1d411\n[3] http://paste.openstack.org/show/786350/\n[4] https://review.opendev.org/#/c/695012/\n\nChange-Id: Iae119ea8776bc7f2e5dbe2e502a743217beded73\nCloses-Bug: #1853159\nRelated-Bug: #1853009\n(cherry picked from commit 2383cbb4a518821d245fce316b3778c8ba8e5246)\n(cherry picked from commit 665c053315439e1345aa131f4839945d662fb3f3)\n(cherry picked from commit b1331d0bed7a414591a389f5eca8700fe2fec136)\n""}]",2,811819,43e333f39cb3fb60db136205fddba31ddb97ecf2,19,3,3,4690,,,0,"Fix inactive session error in compute node creation

In the fix for bug 1839560 [1][2], soft-deleted compute nodes may be
restored, to ensure we can reuse ironic node UUIDs as compute node
UUIDs. While this seems to largely work, it results in some nasty errors
being generated [3]:

    InvalidRequestError This session is in 'inactive' state, due to the
    SQL transaction being rolled back; no further SQL can be emitted
    within this transaction.

This happens because compute_node_create is decorated with
pick_context_manager_writer, which begins a transaction. While
_compute_node_get_and_update_deleted claims that calling a second
pick_context_manager_writer decorated function will begin a new
subtransaction, this does not appear to be the case.

This change removes pick_context_manager_writer from the
compute_node_create function, and adds a new _compute_node_create
function which ensures the transaction is finished if
_compute_node_get_and_update_deleted is called.

The new unit test added here fails without this change.

This change marks the removal of the final FIXME from the functional
test added in [4].

[1] https://bugs.launchpad.net/nova/+bug/1839560
[2] https://git.openstack.org/cgit/openstack/nova/commit/?id=89dd74ac7f1028daadf86cb18948e27fe9d1d411
[3] http://paste.openstack.org/show/786350/
[4] https://review.opendev.org/#/c/695012/

Change-Id: Iae119ea8776bc7f2e5dbe2e502a743217beded73
Closes-Bug: #1853159
Related-Bug: #1853009
(cherry picked from commit 2383cbb4a518821d245fce316b3778c8ba8e5246)
(cherry picked from commit 665c053315439e1345aa131f4839945d662fb3f3)
(cherry picked from commit b1331d0bed7a414591a389f5eca8700fe2fec136)
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/811819/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1853009.py']",3,a2424b4abd92634fe555a643b335b99a3a4b7eec,bug/1853159,," # FIXME(mgoddard): This shows a traceback with SQL rollback due to # soft-deleted node. The create seems to succeed but breaks the RT # update for this node. See # https://bugs.launchpad.net/nova/+bug/1853159. # FIXME(mgoddard): Resource provider not recreated here, due to # https://bugs.launchpad.net/nova/+bug/1853159. # But due to https://bugs.launchpad.net/nova/+bug/1853159 the compute # node is not cached in the RT. self.assertNotIn(self.nodename, host_b.manager.rt.compute_nodes) # There is no RP. rps = self._get_all_providers() self.assertEqual(0, len(rps), rps) # But the RP exists in the provider tree. self.assertFalse(host_b.manager.rt.reportclient._provider_tree.exists( self.nodename)) # host_b[1]: Should add compute node to RT cache and recreate resource # provider. host_b.manager.update_available_resource(self.ctxt) # Verify that the node still exists. self._assert_hypervisor_api(self.nodename, 'host_b') # And it is now in the RT cache. self.assertIn(self.nodename, host_b.manager.rt.compute_nodes) # This fails due to the lack of a resource provider. self.assertIn( 'Skipping removal of allocations for deleted instances', self.stdlog.logger.output)",31,35
openstack%2Fnova~stable%2Fussuri~I260c1fded79a85d4899e94df4d9036a1ee437f02,openstack/nova,stable/ussuri,I260c1fded79a85d4899e94df4d9036a1ee437f02,Prevent deletion of a compute node belonging to another host,NEW,2021-09-30 00:35:34.000000000,2022-12-20 16:04:17.000000000,,"[{'_account_id': 5805}, {'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 35331}]","[{'number': 1, 'created': '2021-09-30 00:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d13ede1239fa56c44b9c2e6770ce35df4f8c99cd', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\n\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n(cherry picked from commit a8492e88783b40f6dc61888fada232f0d00d6acf)\n(cherry picked from commit da4e0b3daaf1814ec61b49bddeb2e6431e73b4c2)\n(cherry picked from commit 1e9d2979542165598b61f0d2e16b65b37b9ea074)\n'}, {'number': 2, 'created': '2021-09-30 01:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa91eb2696f5f5866837db20bc0bfeae38312783', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\n\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n(cherry picked from commit a8492e88783b40f6dc61888fada232f0d00d6acf)\n(cherry picked from commit cbbca58504275f194ec55eeb89dad4a496d98060)\n(cherry picked from commit 8f825c303355fbd652b87b0720942f57ff1675bb)\n'}, {'number': 3, 'created': '2021-09-30 04:05:01.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/objects/compute_node.py', 'releasenotes/notes/bug-1853009-99414e14d1491b5f.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9aef6370d142a933bb8120b7a4fc71e65e3023bf', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nConflicts:\n    nova/compute/manager.py\n\nNOTE(melwitt): The conflict is because change\nI23bb9e539d08f5c6202909054c2dd49b6c7a7a0e (Remove six.text_type (1/2))\nis not in Victoria.\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\n\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n(cherry picked from commit a8492e88783b40f6dc61888fada232f0d00d6acf)\n(cherry picked from commit cbbca58504275f194ec55eeb89dad4a496d98060)\n(cherry picked from commit 737a4ccd1398a5cf28a67547f226b668f246c784)\n'}]",4,811818,9aef6370d142a933bb8120b7a4fc71e65e3023bf,18,6,3,4690,,,0,"Prevent deletion of a compute node belonging to another host

There is a race condition in nova-compute with the ironic virt driver as
nodes get rebalanced. It can lead to compute nodes being removed in the
DB and not repopulated. Ultimately this prevents these nodes from being
scheduled to.

The main race condition involved is in update_available_resources in
the compute manager. When the list of compute nodes is queried, there is
a compute node belonging to the host that it does not expect to be
managing, i.e. it is an orphan. Between that time and deleting the
orphan, the real owner of the compute node takes ownership of it ( in
the resource tracker). However, the node is still deleted as the first
host is unaware of the ownership change.

This change prevents this from occurring by filtering on the host when
deleting a compute node. If another compute host has taken ownership of
a node, it will have updated the host field and this will prevent
deletion from occurring. The first host sees this has happened via the
ComputeHostNotFound exception, and avoids deleting its resource
provider.

Co-Authored-By: melanie witt <melwittt@gmail.com>

Conflicts:
    nova/compute/manager.py

NOTE(melwitt): The conflict is because change
I23bb9e539d08f5c6202909054c2dd49b6c7a7a0e (Remove six.text_type (1/2))
is not in Victoria.

Closes-Bug: #1853009
Related-Bug: #1841481

Change-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02
(cherry picked from commit a8492e88783b40f6dc61888fada232f0d00d6acf)
(cherry picked from commit cbbca58504275f194ec55eeb89dad4a496d98060)
(cherry picked from commit 737a4ccd1398a5cf28a67547f226b668f246c784)
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/811818/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/compute_node.py', 'nova/tests/unit/objects/test_compute_node.py', 'releasenotes/notes/bug-1853009-99414e14d1491b5f.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1853009.py']",9,d13ede1239fa56c44b9c2e6770ce35df4f8c99cd,bug/1853009," # Verify that the node was almost deleted, but was saved by the host # check self.assertIn( 'Ignoring failure to delete orphan compute node %s on ' 'hypervisor host fake-node' % cn.id, self.stdlog.logger.output) self._assert_hypervisor_api(self.nodename, 'host_b') self.assertEqual(1, len(rps), rps) self.assertEqual(self.nodename, rps[0]['name']) # Simulate deletion of an orphan by host_a. It shouldn't happen # anymore, but let's assume it already did. cn = objects.ComputeNode.get_by_host_and_nodename( self.ctxt, 'host_b', self.nodename) cn.destroy() host_a.manager.rt.remove_node(cn.hypervisor_hostname) host_a.manager.reportclient.delete_resource_provider( self.ctxt, cn, cascade=True)"," # FIXME(mgoddard): Ideally host_a would not delete a node that does not # belong to it. See https://bugs.launchpad.net/nova/+bug/1853009. # Verify that the node was deleted. hypervisors = self.api.api_get( '/os-hypervisors/detail').body['hypervisors'] self.assertEqual(0, len(hypervisors), hypervisors) self.assertEqual(0, len(rps), rps)",124,25
openstack%2Fnova~stable%2Fussuri~Ia53ff43e6964963cdf295604ba0fb7171389606e,openstack/nova,stable/ussuri,Ia53ff43e6964963cdf295604ba0fb7171389606e,Invalidate provider tree when compute node disappears,NEW,2021-09-30 00:35:34.000000000,2022-12-20 16:04:12.000000000,,"[{'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-30 00:35:34.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/scheduler/client/report.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8fa5b881c9b8fb78ceca7ae02d808f1fe64d72e4', 'message': 'Invalidate provider tree when compute node disappears\n\nThere is a race condition in nova-compute with the ironic virt driver\nas nodes get rebalanced. It can lead to compute nodes being removed in\nthe DB and not repopulated. Ultimately this prevents these nodes from\nbeing scheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a\nhost which thinks it is an orphan, then the resource provider for that\nnode might also be deleted. The compute host that owns the node might\nnot recreate the resource provider if it exists in the provider tree\ncache.\n\nThis change fixes the issue by clearing resource providers from the\nprovider tree cache for which a compute node entry does not exist. Then,\nwhen the available resource for the node is updated, the resource\nproviders are not found in the cache and get recreated in placement.\n\nChange-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e\nRelated-Bug: #1853009\nRelated-Bug: #1841481\n(cherry picked from commit 2bb4527228c8e6fa4a1fa6cfbe80e8790e4e0789)\n(cherry picked from commit 0fc104eeea065579f7fa9b52794d5151baefc84c)\n(cherry picked from commit 456bcc784340a5674d25fbe6e707c36c583b504f)\n'}]",0,811817,8fa5b881c9b8fb78ceca7ae02d808f1fe64d72e4,4,3,1,4690,,,0,"Invalidate provider tree when compute node disappears

There is a race condition in nova-compute with the ironic virt driver
as nodes get rebalanced. It can lead to compute nodes being removed in
the DB and not repopulated. Ultimately this prevents these nodes from
being scheduled to.

The issue being addressed here is that if a compute node is deleted by a
host which thinks it is an orphan, then the resource provider for that
node might also be deleted. The compute host that owns the node might
not recreate the resource provider if it exists in the provider tree
cache.

This change fixes the issue by clearing resource providers from the
provider tree cache for which a compute node entry does not exist. Then,
when the available resource for the node is updated, the resource
providers are not found in the cache and get recreated in placement.

Change-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e
Related-Bug: #1853009
Related-Bug: #1841481
(cherry picked from commit 2bb4527228c8e6fa4a1fa6cfbe80e8790e4e0789)
(cherry picked from commit 0fc104eeea065579f7fa9b52794d5151baefc84c)
(cherry picked from commit 456bcc784340a5674d25fbe6e707c36c583b504f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/811817/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/scheduler/client/report.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py']",4,8fa5b881c9b8fb78ceca7ae02d808f1fe64d72e4,bug/1853009," # FIXME(mgoddard): Resource provider not recreated here, due to # https://bugs.launchpad.net/nova/+bug/1853159. self.assertFalse(host_b.manager.rt.reportclient._provider_tree.exists( # The resource provider has now been created. self.assertEqual(1, len(rps), rps) self.assertEqual(self.nodename, rps[0]['name'])"," # FIXME(mgoddard): Resource provider not recreated here, because it # exists in the provider tree. See # https://bugs.launchpad.net/nova/+bug/1841481. self.assertTrue(host_b.manager.rt.reportclient._provider_tree.exists( # FIXME(mgoddard): Resource provider not recreated here, because it # exists in the provider tree. See # https://bugs.launchpad.net/nova/+bug/1841481. # There is still no RP. self.assertEqual(0, len(rps), rps) # But the RP it exists in the provider tree. self.assertTrue(host_b.manager.rt.reportclient._provider_tree.exists( self.nodename))",25,20
openstack%2Fnova~stable%2Fussuri~I39241223b447fcc671161c370dbf16e1773b684a,openstack/nova,stable/ussuri,I39241223b447fcc671161c370dbf16e1773b684a,Clear rebalanced compute nodes from resource tracker,NEW,2021-09-30 00:35:34.000000000,2022-12-20 16:04:02.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-30 00:35:34.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4b5d0804749685c8afe182b716b7536045432a7e', 'message': 'Clear rebalanced compute nodes from resource tracker\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a host\nwhich thinks it is an orphan, then the compute host that actually owns the node\nmight not recreate it if the node is already in its resource tracker cache.\n\nThis change fixes the issue by clearing nodes from the resource tracker cache\nfor which a compute node entry does not exist. Then, when the available\nresource for the node is updated, the compute node object is not found in the\ncache and gets recreated.\n\nConflicts:\n    nova/tests/unit/compute/test_resource_tracker.py\n\nNOTE(melwitt): The conflict is because change\nI142a1f24ff2219cf308578f0236259d183785cff (Provider Config File:\nFunctions to merge provider configs to provider tree) is not in Ussuri.\n\nChange-Id: I39241223b447fcc671161c370dbf16e1773b684a\nPartial-Bug: #1853009\n(cherry picked from commit 32676a9f45807ea8770dc7bdff1e859673af1b61)\n(cherry picked from commit f950cedf17cc4c3ce9d094dbfde5e4cf013260f7)\n(cherry picked from commit 32887f82c9bd430f285ff4418811dffdd88e398f)\n'}]",1,811816,4b5d0804749685c8afe182b716b7536045432a7e,8,2,1,4690,,,0,"Clear rebalanced compute nodes from resource tracker

There is a race condition in nova-compute with the ironic virt driver as
nodes get rebalanced. It can lead to compute nodes being removed in the
DB and not repopulated. Ultimately this prevents these nodes from being
scheduled to.

The issue being addressed here is that if a compute node is deleted by a host
which thinks it is an orphan, then the compute host that actually owns the node
might not recreate it if the node is already in its resource tracker cache.

This change fixes the issue by clearing nodes from the resource tracker cache
for which a compute node entry does not exist. Then, when the available
resource for the node is updated, the compute node object is not found in the
cache and gets recreated.

Conflicts:
    nova/tests/unit/compute/test_resource_tracker.py

NOTE(melwitt): The conflict is because change
I142a1f24ff2219cf308578f0236259d183785cff (Provider Config File:
Functions to merge provider configs to provider tree) is not in Ussuri.

Change-Id: I39241223b447fcc671161c370dbf16e1773b684a
Partial-Bug: #1853009
(cherry picked from commit 32676a9f45807ea8770dc7bdff1e859673af1b61)
(cherry picked from commit f950cedf17cc4c3ce9d094dbfde5e4cf013260f7)
(cherry picked from commit 32887f82c9bd430f285ff4418811dffdd88e398f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/811816/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py']",5,4b5d0804749685c8afe182b716b7536045432a7e,bug/1853009," # Verify that the node was recreated. self._assert_hypervisor_api(self.nodename, 'host_b') # But due to https://bugs.launchpad.net/nova/+bug/1853159 the compute # node is not cached in the RT. self.assertNotIn(self.nodename, host_b.manager.rt.compute_nodes) # host_b[1]: Should add compute node to RT cache and recreate resource # provider. # FIXME(mgoddard): Resource provider not recreated here, because it # exists in the provider tree. See # https://bugs.launchpad.net/nova/+bug/1841481. host_b.manager.update_available_resource(self.ctxt) # Verify that the node still exists. self._assert_hypervisor_api(self.nodename, 'host_b') # And it is now in the RT cache. self.assertIn(self.nodename, host_b.manager.rt.compute_nodes) # There is still no RP. rps = self._get_all_providers() self.assertEqual(0, len(rps), rps) # But the RP it exists in the provider tree. self.assertTrue(host_b.manager.rt.reportclient._provider_tree.exists( self.nodename)) "," cn_host_b_node = objects.ComputeNode.get_by_host_and_nodename( self.ctxt, 'host_b', 'host_b', ) self.assertIn( 'Deleting orphan compute node %s hypervisor host ' 'is host_b, nodes are' % cn_host_b_node.id, self.stdlog.logger.output) # FIXME(mgoddard): Compute node not recreated here, because it is # already in RT.compute_nodes. See # https://bugs.launchpad.net/nova/+bug/1853009. # Verify that the node was not recreated. hypervisors = self.api.api_get( '/os-hypervisors/detail').body['hypervisors'] self.assertEqual(0, len(hypervisors), hypervisors) # But the compute node exists in the RT. self.assertIn(self.nodename, host_b.manager.rt.compute_nodes)",66,18
openstack%2Fnova~stable%2Fussuri~Ice4071722de54e8d20bb8c3795be22f1995940cd,openstack/nova,stable/ussuri,Ice4071722de54e8d20bb8c3795be22f1995940cd,Add functional regression test for bug 1853009,NEW,2021-09-30 00:35:34.000000000,2022-12-20 16:03:55.000000000,,"[{'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-30 00:35:34.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1853009.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f57c4965eef8e25656635897f46dccfe23c3fa5c', 'message': 'Add functional regression test for bug 1853009\n\nBug 1853009 describes a race condition involving multiple nova-compute\nservices with ironic. As the compute services start up, the hash ring\nrebalances, and the compute services have an inconsistent view of which\nis responsible for a compute node.\n\nThe sequence of actions here is adapted from a real world log [1], where\nmultiple nova-compute services were started simultaneously. In some\ncases mocks are used to simulate race conditions.\n\nThere are three main issues with the behaviour:\n\n* host2 deletes the orphan node compute node after host1 has taken\n  ownership of it.\n\n* host1 assumes that another compute service will not delete its nodes.\n  Once a node is in rt.compute_nodes, it is not removed again unless the\n  node is orphaned. This prevents host1 from recreating the compute\n  node.\n\n* host1 assumes that another compute service will not delete its\n  resource providers. Once an RP is in the provider tree, it is not\n  removed.\n\nThis functional test documents the current behaviour, with the idea that\nit can be updated as this behaviour is fixed.\n\n[1] http://paste.openstack.org/show/786272/\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd\nRelated-Bug: #1853009\nRelated-Bug: #1853159\n(cherry picked from commit 59d9871e8a0672538f8ffc43ae99b3d1c4b08909)\n(cherry picked from commit c260e75d012cc4fae596d5de185afad6fb24068c)\n(cherry picked from commit 34d5bca6bc612f41ac3fc33447cd2ba83bf446ba)\n'}]",0,811815,f57c4965eef8e25656635897f46dccfe23c3fa5c,4,3,1,4690,,,0,"Add functional regression test for bug 1853009

Bug 1853009 describes a race condition involving multiple nova-compute
services with ironic. As the compute services start up, the hash ring
rebalances, and the compute services have an inconsistent view of which
is responsible for a compute node.

The sequence of actions here is adapted from a real world log [1], where
multiple nova-compute services were started simultaneously. In some
cases mocks are used to simulate race conditions.

There are three main issues with the behaviour:

* host2 deletes the orphan node compute node after host1 has taken
  ownership of it.

* host1 assumes that another compute service will not delete its nodes.
  Once a node is in rt.compute_nodes, it is not removed again unless the
  node is orphaned. This prevents host1 from recreating the compute
  node.

* host1 assumes that another compute service will not delete its
  resource providers. Once an RP is in the provider tree, it is not
  removed.

This functional test documents the current behaviour, with the idea that
it can be updated as this behaviour is fixed.

[1] http://paste.openstack.org/show/786272/

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Change-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd
Related-Bug: #1853009
Related-Bug: #1853159
(cherry picked from commit 59d9871e8a0672538f8ffc43ae99b3d1c4b08909)
(cherry picked from commit c260e75d012cc4fae596d5de185afad6fb24068c)
(cherry picked from commit 34d5bca6bc612f41ac3fc33447cd2ba83bf446ba)
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/811815/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1853009.py'],1,f57c4965eef8e25656635897f46dccfe23c3fa5c,bug/1853009,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from nova import context from nova import objects from nova.tests.functional import integrated_helpers class NodeRebalanceDeletedComputeNodeRaceTestCase( integrated_helpers.ProviderUsageBaseTestCase, ): """"""Regression test for bug 1853009 observed in Rocky & later. When an ironic node re-balances from one host to another, there can be a race where the old host deletes the orphan compute node after the new host has taken ownership of it which results in the new host failing to create the compute node and resource provider because the ResourceTracker does not detect a change. """""" # Make sure we're using the fake driver that has predictable uuids # for each node. compute_driver = 'fake.PredictableNodeUUIDDriver' def _assert_hypervisor_api(self, nodename, expected_host): # We should have one compute node shown by the API. hypervisors = self.api.api_get( '/os-hypervisors/detail' ).body['hypervisors'] self.assertEqual(1, len(hypervisors), hypervisors) hypervisor = hypervisors[0] self.assertEqual(nodename, hypervisor['hypervisor_hostname']) self.assertEqual(expected_host, hypervisor['service']['host']) def _start_compute(self, host): host = self.start_service('compute', host) # Ironic compute driver has rebalances_nodes = True. host.manager.driver.rebalances_nodes = True return host def setUp(self): super(NodeRebalanceDeletedComputeNodeRaceTestCase, self).setUp() self.nodename = 'fake-node' self.ctxt = context.get_admin_context() def test_node_rebalance_deleted_compute_node_race(self): # Simulate a service running and then stopping. host_a runs, creates # fake-node, then is stopped. The fake-node compute node is destroyed. # This leaves a soft-deleted node in the DB. host_a = self._start_compute('host_a') host_a.manager.driver._set_nodes([self.nodename]) host_a.manager.update_available_resource(self.ctxt) host_a.stop() cn = objects.ComputeNode.get_by_host_and_nodename( self.ctxt, 'host_a', self.nodename, ) cn.destroy() self.assertEqual(0, len(objects.ComputeNodeList.get_all(self.ctxt))) # Now we create a new compute service to manage our node. host_b = self._start_compute('host_b') host_b.manager.driver._set_nodes([self.nodename]) # When start_service runs, it will create a host_b ComputeNode. We want # to delete that and inject our fake node into the driver which will # be re-balanced to another host later. First assert this actually # exists. self._assert_hypervisor_api('host_b', expected_host='host_b') # Now run the update_available_resource periodic to register fake-node # and have it managed by host_b. This will also detect the ""host_b"" # node as orphaned and delete it along with its resource provider. cn_host_b_node = objects.ComputeNode.get_by_host_and_nodename( self.ctxt, 'host_b', 'host_b', ) # host_b[1]: Finds no compute record in RT. Tries to create one # (_init_compute_node). # FIXME(mgoddard): This shows a traceback with SQL rollback due to # soft-deleted node. The create seems to succeed but breaks the RT # update for this node. See # https://bugs.launchpad.net/nova/+bug/1853159. host_b.manager.update_available_resource(self.ctxt) self.assertIn( 'Deleting orphan compute node %s hypervisor host ' 'is host_b, nodes are' % cn_host_b_node.id, self.stdlog.logger.output) self._assert_hypervisor_api(self.nodename, expected_host='host_b') # There should only be one resource provider (fake-node). original_rps = self._get_all_providers() self.assertEqual(1, len(original_rps), original_rps) self.assertEqual(self.nodename, original_rps[0]['name']) # Simulate a re-balance by restarting host_a and make it manage # fake-node. At this point both host_b and host_a think they own # fake-node. host_a = self._start_compute('host_a') host_a.manager.driver._set_nodes([self.nodename]) # host_a[1]: Finds no compute record in RT, 'moves' existing node from # host_b host_a.manager.update_available_resource(self.ctxt) # Assert that fake-node was re-balanced from host_b to host_a. self.assertIn( 'ComputeNode fake-node moving from host_b to host_a', self.stdlog.logger.output) self._assert_hypervisor_api(self.nodename, expected_host='host_a') # host_a[2]: Begins periodic update, queries compute nodes for this # host, finds the fake-node. cn = objects.ComputeNode.get_by_host_and_nodename( self.ctxt, 'host_a', self.nodename, ) # host_b[2]: Finds no compute record in RT, 'moves' existing node from # host_a host_b.manager.update_available_resource(self.ctxt) # Assert that fake-node was re-balanced from host_a to host_b. self.assertIn( 'ComputeNode fake-node moving from host_a to host_b', self.stdlog.logger.output) self._assert_hypervisor_api(self.nodename, expected_host='host_b') # Complete rebalance, as host_a realises it does not own fake-node. host_a.manager.driver._set_nodes([]) # host_a[2]: Deletes orphan compute node. # Mock out the compute node query to simulate a race condition where # the list includes an orphan compute node that is newly owned by # host_b by the time host_a attempts to delete it. # FIXME(mgoddard): Ideally host_a would not delete a node that does not # belong to it. See https://bugs.launchpad.net/nova/+bug/1853009. with mock.patch( 'nova.compute.manager.ComputeManager._get_compute_nodes_in_db' ) as mock_get: mock_get.return_value = [cn] host_a.manager.update_available_resource(self.ctxt) # Verify that the node was deleted. self.assertIn( 'Deleting orphan compute node %s hypervisor host ' 'is fake-node, nodes are' % cn.id, self.stdlog.logger.output) hypervisors = self.api.api_get( '/os-hypervisors/detail').body['hypervisors'] self.assertEqual(0, len(hypervisors), hypervisors) rps = self._get_all_providers() self.assertEqual(0, len(rps), rps) # host_b[3]: Should recreate compute node and resource provider. # FIXME(mgoddard): Compute node not recreated here, because it is # already in RT.compute_nodes. See # https://bugs.launchpad.net/nova/+bug/1853009. # FIXME(mgoddard): Resource provider not recreated here, because it # exists in the provider tree. See # https://bugs.launchpad.net/nova/+bug/1841481. host_b.manager.update_available_resource(self.ctxt) # Verify that the node was not recreated. hypervisors = self.api.api_get( '/os-hypervisors/detail').body['hypervisors'] self.assertEqual(0, len(hypervisors), hypervisors) # But the compute node exists in the RT. self.assertIn(self.nodename, host_b.manager.rt.compute_nodes) # There is no RP. rps = self._get_all_providers() self.assertEqual(0, len(rps), rps) # But the RP exists in the provider tree. self.assertTrue(host_b.manager.rt.reportclient._provider_tree.exists( self.nodename)) # This fails due to the lack of a resource provider. self.assertIn( 'Skipping removal of allocations for deleted instances', self.stdlog.logger.output) ",,190,0
openstack%2Fnova~stable%2Fvictoria~Ia53ff43e6964963cdf295604ba0fb7171389606e,openstack/nova,stable/victoria,Ia53ff43e6964963cdf295604ba0fb7171389606e,Invalidate provider tree when compute node disappears,NEW,2021-09-30 00:29:44.000000000,2022-12-20 16:03:33.000000000,,"[{'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-30 00:29:44.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/scheduler/client/report.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/456bcc784340a5674d25fbe6e707c36c583b504f', 'message': 'Invalidate provider tree when compute node disappears\n\nThere is a race condition in nova-compute with the ironic virt driver\nas nodes get rebalanced. It can lead to compute nodes being removed in\nthe DB and not repopulated. Ultimately this prevents these nodes from\nbeing scheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a\nhost which thinks it is an orphan, then the resource provider for that\nnode might also be deleted. The compute host that owns the node might\nnot recreate the resource provider if it exists in the provider tree\ncache.\n\nThis change fixes the issue by clearing resource providers from the\nprovider tree cache for which a compute node entry does not exist. Then,\nwhen the available resource for the node is updated, the resource\nproviders are not found in the cache and get recreated in placement.\n\nChange-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e\nRelated-Bug: #1853009\nRelated-Bug: #1841481\n(cherry picked from commit 2bb4527228c8e6fa4a1fa6cfbe80e8790e4e0789)\n(cherry picked from commit 0fc104eeea065579f7fa9b52794d5151baefc84c)\n'}]",1,811812,456bcc784340a5674d25fbe6e707c36c583b504f,5,3,1,4690,,,0,"Invalidate provider tree when compute node disappears

There is a race condition in nova-compute with the ironic virt driver
as nodes get rebalanced. It can lead to compute nodes being removed in
the DB and not repopulated. Ultimately this prevents these nodes from
being scheduled to.

The issue being addressed here is that if a compute node is deleted by a
host which thinks it is an orphan, then the resource provider for that
node might also be deleted. The compute host that owns the node might
not recreate the resource provider if it exists in the provider tree
cache.

This change fixes the issue by clearing resource providers from the
provider tree cache for which a compute node entry does not exist. Then,
when the available resource for the node is updated, the resource
providers are not found in the cache and get recreated in placement.

Change-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e
Related-Bug: #1853009
Related-Bug: #1841481
(cherry picked from commit 2bb4527228c8e6fa4a1fa6cfbe80e8790e4e0789)
(cherry picked from commit 0fc104eeea065579f7fa9b52794d5151baefc84c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/811812/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/scheduler/client/report.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py']",4,456bcc784340a5674d25fbe6e707c36c583b504f,bug/1853009," # FIXME(mgoddard): Resource provider not recreated here, due to # https://bugs.launchpad.net/nova/+bug/1853159. self.assertFalse(host_b.manager.rt.reportclient._provider_tree.exists( # The resource provider has now been created. self.assertEqual(1, len(rps), rps) self.assertEqual(self.nodename, rps[0]['name'])"," # FIXME(mgoddard): Resource provider not recreated here, because it # exists in the provider tree. See # https://bugs.launchpad.net/nova/+bug/1841481. self.assertTrue(host_b.manager.rt.reportclient._provider_tree.exists( # FIXME(mgoddard): Resource provider not recreated here, because it # exists in the provider tree. See # https://bugs.launchpad.net/nova/+bug/1841481. # There is still no RP. self.assertEqual(0, len(rps), rps) # But the RP it exists in the provider tree. self.assertTrue(host_b.manager.rt.reportclient._provider_tree.exists( self.nodename))",25,20
openstack%2Fnova~stable%2Fvictoria~Iae119ea8776bc7f2e5dbe2e502a743217beded73,openstack/nova,stable/victoria,Iae119ea8776bc7f2e5dbe2e502a743217beded73,Fix inactive session error in compute node creation,NEW,2021-09-30 00:29:44.000000000,2022-12-20 16:03:19.000000000,,"[{'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-30 00:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63b0a629c63c42a0220475a8392c3ede132762c8', 'message': ""Fix inactive session error in compute node creation\n\nIn the fix for bug 1839560 [1][2], soft-deleted compute nodes may be\nrestored, to ensure we can reuse ironic node UUIDs as compute node\nUUIDs. While this seems to largely work, it results in some nasty errors\nbeing generated [3]:\n\n    InvalidRequestError This session is in 'inactive' state, due to the\n    SQL transaction being rolled back; no further SQL can be emitted\n    within this transaction.\n\nThis happens because compute_node_create is decorated with\npick_context_manager_writer, which begins a transaction. While\n_compute_node_get_and_update_deleted claims that calling a second\npick_context_manager_writer decorated function will begin a new\nsubtransaction, this does not appear to be the case.\n\nThis change removes pick_context_manager_writer from the\ncompute_node_create function, and adds a new _compute_node_create\nfunction which ensures the transaction is finished if\n_compute_node_get_and_update_deleted is called.\n\nThe new unit test added here fails without this change.\n\nThis change marks the removal of the final FIXME from the functional\ntest added in [4].\n\n[1] https://bugs.launchpad.net/nova/+bug/1839560\n[2] https://git.openstack.org/cgit/openstack/nova/commit/?id=89dd74ac7f1028daadf86cb18948e27fe9d1d411\n[3] http://paste.openstack.org/show/786350/\n[4] https://review.opendev.org/#/c/695012/\n\nChange-Id: Iae119ea8776bc7f2e5dbe2e502a743217beded73\nCloses-Bug: #1853159\nRelated-Bug: #1853009\n(cherry picked from commit 2383cbb4a518821d245fce316b3778c8ba8e5246)\n(cherry picked from commit 5d2edde796d8639556aafebd6f0198d2bc791bd7)\n""}, {'number': 2, 'created': '2021-09-30 01:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ddaa8215d2f2151f5d6d3d2946b87fb93d6f0a98', 'message': ""Fix inactive session error in compute node creation\n\nIn the fix for bug 1839560 [1][2], soft-deleted compute nodes may be\nrestored, to ensure we can reuse ironic node UUIDs as compute node\nUUIDs. While this seems to largely work, it results in some nasty errors\nbeing generated [3]:\n\n    InvalidRequestError This session is in 'inactive' state, due to the\n    SQL transaction being rolled back; no further SQL can be emitted\n    within this transaction.\n\nThis happens because compute_node_create is decorated with\npick_context_manager_writer, which begins a transaction. While\n_compute_node_get_and_update_deleted claims that calling a second\npick_context_manager_writer decorated function will begin a new\nsubtransaction, this does not appear to be the case.\n\nThis change removes pick_context_manager_writer from the\ncompute_node_create function, and adds a new _compute_node_create\nfunction which ensures the transaction is finished if\n_compute_node_get_and_update_deleted is called.\n\nThe new unit test added here fails without this change.\n\nThis change marks the removal of the final FIXME from the functional\ntest added in [4].\n\n[1] https://bugs.launchpad.net/nova/+bug/1839560\n[2] https://git.openstack.org/cgit/openstack/nova/commit/?id=89dd74ac7f1028daadf86cb18948e27fe9d1d411\n[3] http://paste.openstack.org/show/786350/\n[4] https://review.opendev.org/#/c/695012/\n\nChange-Id: Iae119ea8776bc7f2e5dbe2e502a743217beded73\nCloses-Bug: #1853159\nRelated-Bug: #1853009\n(cherry picked from commit 2383cbb4a518821d245fce316b3778c8ba8e5246)\n(cherry picked from commit 665c053315439e1345aa131f4839945d662fb3f3)\n""}, {'number': 3, 'created': '2021-09-30 03:53:17.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b1331d0bed7a414591a389f5eca8700fe2fec136', 'message': ""Fix inactive session error in compute node creation\n\nIn the fix for bug 1839560 [1][2], soft-deleted compute nodes may be\nrestored, to ensure we can reuse ironic node UUIDs as compute node\nUUIDs. While this seems to largely work, it results in some nasty errors\nbeing generated [3]:\n\n    InvalidRequestError This session is in 'inactive' state, due to the\n    SQL transaction being rolled back; no further SQL can be emitted\n    within this transaction.\n\nThis happens because compute_node_create is decorated with\npick_context_manager_writer, which begins a transaction. While\n_compute_node_get_and_update_deleted claims that calling a second\npick_context_manager_writer decorated function will begin a new\nsubtransaction, this does not appear to be the case.\n\nThis change removes pick_context_manager_writer from the\ncompute_node_create function, and adds a new _compute_node_create\nfunction which ensures the transaction is finished if\n_compute_node_get_and_update_deleted is called.\n\nThe new unit test added here fails without this change.\n\nThis change marks the removal of the final FIXME from the functional\ntest added in [4].\n\n[1] https://bugs.launchpad.net/nova/+bug/1839560\n[2] https://git.openstack.org/cgit/openstack/nova/commit/?id=89dd74ac7f1028daadf86cb18948e27fe9d1d411\n[3] http://paste.openstack.org/show/786350/\n[4] https://review.opendev.org/#/c/695012/\n\nChange-Id: Iae119ea8776bc7f2e5dbe2e502a743217beded73\nCloses-Bug: #1853159\nRelated-Bug: #1853009\n(cherry picked from commit 2383cbb4a518821d245fce316b3778c8ba8e5246)\n(cherry picked from commit 665c053315439e1345aa131f4839945d662fb3f3)\n""}]",1,811814,b1331d0bed7a414591a389f5eca8700fe2fec136,13,3,3,4690,,,0,"Fix inactive session error in compute node creation

In the fix for bug 1839560 [1][2], soft-deleted compute nodes may be
restored, to ensure we can reuse ironic node UUIDs as compute node
UUIDs. While this seems to largely work, it results in some nasty errors
being generated [3]:

    InvalidRequestError This session is in 'inactive' state, due to the
    SQL transaction being rolled back; no further SQL can be emitted
    within this transaction.

This happens because compute_node_create is decorated with
pick_context_manager_writer, which begins a transaction. While
_compute_node_get_and_update_deleted claims that calling a second
pick_context_manager_writer decorated function will begin a new
subtransaction, this does not appear to be the case.

This change removes pick_context_manager_writer from the
compute_node_create function, and adds a new _compute_node_create
function which ensures the transaction is finished if
_compute_node_get_and_update_deleted is called.

The new unit test added here fails without this change.

This change marks the removal of the final FIXME from the functional
test added in [4].

[1] https://bugs.launchpad.net/nova/+bug/1839560
[2] https://git.openstack.org/cgit/openstack/nova/commit/?id=89dd74ac7f1028daadf86cb18948e27fe9d1d411
[3] http://paste.openstack.org/show/786350/
[4] https://review.opendev.org/#/c/695012/

Change-Id: Iae119ea8776bc7f2e5dbe2e502a743217beded73
Closes-Bug: #1853159
Related-Bug: #1853009
(cherry picked from commit 2383cbb4a518821d245fce316b3778c8ba8e5246)
(cherry picked from commit 665c053315439e1345aa131f4839945d662fb3f3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/811814/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1853009.py']",3,63b0a629c63c42a0220475a8392c3ede132762c8,bug/1853159,," # FIXME(mgoddard): This shows a traceback with SQL rollback due to # soft-deleted node. The create seems to succeed but breaks the RT # update for this node. See # https://bugs.launchpad.net/nova/+bug/1853159. # FIXME(mgoddard): Resource provider not recreated here, due to # https://bugs.launchpad.net/nova/+bug/1853159. # But due to https://bugs.launchpad.net/nova/+bug/1853159 the compute # node is not cached in the RT. self.assertNotIn(self.nodename, host_b.manager.rt.compute_nodes) # There is no RP. rps = self._get_all_providers() self.assertEqual(0, len(rps), rps) # But the RP exists in the provider tree. self.assertFalse(host_b.manager.rt.reportclient._provider_tree.exists( self.nodename)) # host_b[1]: Should add compute node to RT cache and recreate resource # provider. host_b.manager.update_available_resource(self.ctxt) # Verify that the node still exists. self._assert_hypervisor_api(self.nodename, 'host_b') # And it is now in the RT cache. self.assertIn(self.nodename, host_b.manager.rt.compute_nodes) # This fails due to the lack of a resource provider. self.assertIn( 'Skipping removal of allocations for deleted instances', self.stdlog.logger.output)",31,35
openstack%2Fnova~stable%2Fvictoria~I260c1fded79a85d4899e94df4d9036a1ee437f02,openstack/nova,stable/victoria,I260c1fded79a85d4899e94df4d9036a1ee437f02,Prevent deletion of a compute node belonging to another host,NEW,2021-09-30 00:29:44.000000000,2022-12-20 16:03:06.000000000,,"[{'_account_id': 4690}, {'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-30 00:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e9d2979542165598b61f0d2e16b65b37b9ea074', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nConflicts:\n    nova/compute/manager.py\n\nNOTE(melwitt): The conflict is because change\nI23bb9e539d08f5c6202909054c2dd49b6c7a7a0e (Remove six.text_type (1/2))\nis not in Victoria.\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\n\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n(cherry picked from commit a8492e88783b40f6dc61888fada232f0d00d6acf)\n(cherry picked from commit da4e0b3daaf1814ec61b49bddeb2e6431e73b4c2)\n'}, {'number': 2, 'created': '2021-09-30 01:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f825c303355fbd652b87b0720942f57ff1675bb', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nConflicts:\n    nova/compute/manager.py\n\nNOTE(melwitt): The conflict is because change\nI23bb9e539d08f5c6202909054c2dd49b6c7a7a0e (Remove six.text_type (1/2))\nis not in Victoria.\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\n\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n(cherry picked from commit a8492e88783b40f6dc61888fada232f0d00d6acf)\n(cherry picked from commit cbbca58504275f194ec55eeb89dad4a496d98060)\n'}, {'number': 3, 'created': '2021-09-30 03:53:17.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/objects/compute_node.py', 'releasenotes/notes/bug-1853009-99414e14d1491b5f.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/737a4ccd1398a5cf28a67547f226b668f246c784', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nConflicts:\n    nova/compute/manager.py\n\nNOTE(melwitt): The conflict is because change\nI23bb9e539d08f5c6202909054c2dd49b6c7a7a0e (Remove six.text_type (1/2))\nis not in Victoria.\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\n\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n(cherry picked from commit a8492e88783b40f6dc61888fada232f0d00d6acf)\n(cherry picked from commit cbbca58504275f194ec55eeb89dad4a496d98060)\n'}]",4,811813,737a4ccd1398a5cf28a67547f226b668f246c784,10,5,3,4690,,,0,"Prevent deletion of a compute node belonging to another host

There is a race condition in nova-compute with the ironic virt driver as
nodes get rebalanced. It can lead to compute nodes being removed in the
DB and not repopulated. Ultimately this prevents these nodes from being
scheduled to.

The main race condition involved is in update_available_resources in
the compute manager. When the list of compute nodes is queried, there is
a compute node belonging to the host that it does not expect to be
managing, i.e. it is an orphan. Between that time and deleting the
orphan, the real owner of the compute node takes ownership of it ( in
the resource tracker). However, the node is still deleted as the first
host is unaware of the ownership change.

This change prevents this from occurring by filtering on the host when
deleting a compute node. If another compute host has taken ownership of
a node, it will have updated the host field and this will prevent
deletion from occurring. The first host sees this has happened via the
ComputeHostNotFound exception, and avoids deleting its resource
provider.

Co-Authored-By: melanie witt <melwittt@gmail.com>

Conflicts:
    nova/compute/manager.py

NOTE(melwitt): The conflict is because change
I23bb9e539d08f5c6202909054c2dd49b6c7a7a0e (Remove six.text_type (1/2))
is not in Victoria.

Closes-Bug: #1853009
Related-Bug: #1841481

Change-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02
(cherry picked from commit a8492e88783b40f6dc61888fada232f0d00d6acf)
(cherry picked from commit cbbca58504275f194ec55eeb89dad4a496d98060)
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/811813/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/compute_node.py', 'nova/tests/unit/objects/test_compute_node.py', 'releasenotes/notes/bug-1853009-99414e14d1491b5f.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1853009.py']",9,1e9d2979542165598b61f0d2e16b65b37b9ea074,bug/1853009," # Verify that the node was almost deleted, but was saved by the host # check self.assertIn( 'Ignoring failure to delete orphan compute node %s on ' 'hypervisor host fake-node' % cn.id, self.stdlog.logger.output) self._assert_hypervisor_api(self.nodename, 'host_b') self.assertEqual(1, len(rps), rps) self.assertEqual(self.nodename, rps[0]['name']) # Simulate deletion of an orphan by host_a. It shouldn't happen # anymore, but let's assume it already did. cn = objects.ComputeNode.get_by_host_and_nodename( self.ctxt, 'host_b', self.nodename) cn.destroy() host_a.manager.rt.remove_node(cn.hypervisor_hostname) host_a.manager.reportclient.delete_resource_provider( self.ctxt, cn, cascade=True)"," # FIXME(mgoddard): Ideally host_a would not delete a node that does not # belong to it. See https://bugs.launchpad.net/nova/+bug/1853009. # Verify that the node was deleted. hypervisors = self.api.api_get( '/os-hypervisors/detail').body['hypervisors'] self.assertEqual(0, len(hypervisors), hypervisors) self.assertEqual(0, len(rps), rps)",124,25
openstack%2Fnova~stable%2Fvictoria~Ice4071722de54e8d20bb8c3795be22f1995940cd,openstack/nova,stable/victoria,Ice4071722de54e8d20bb8c3795be22f1995940cd,Add functional regression test for bug 1853009,NEW,2021-09-30 00:29:44.000000000,2022-12-20 16:01:43.000000000,,"[{'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-30 00:29:44.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1853009.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/34d5bca6bc612f41ac3fc33447cd2ba83bf446ba', 'message': 'Add functional regression test for bug 1853009\n\nBug 1853009 describes a race condition involving multiple nova-compute\nservices with ironic. As the compute services start up, the hash ring\nrebalances, and the compute services have an inconsistent view of which\nis responsible for a compute node.\n\nThe sequence of actions here is adapted from a real world log [1], where\nmultiple nova-compute services were started simultaneously. In some\ncases mocks are used to simulate race conditions.\n\nThere are three main issues with the behaviour:\n\n* host2 deletes the orphan node compute node after host1 has taken\n  ownership of it.\n\n* host1 assumes that another compute service will not delete its nodes.\n  Once a node is in rt.compute_nodes, it is not removed again unless the\n  node is orphaned. This prevents host1 from recreating the compute\n  node.\n\n* host1 assumes that another compute service will not delete its\n  resource providers. Once an RP is in the provider tree, it is not\n  removed.\n\nThis functional test documents the current behaviour, with the idea that\nit can be updated as this behaviour is fixed.\n\n[1] http://paste.openstack.org/show/786272/\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd\nRelated-Bug: #1853009\nRelated-Bug: #1853159\n(cherry picked from commit 59d9871e8a0672538f8ffc43ae99b3d1c4b08909)\n(cherry picked from commit c260e75d012cc4fae596d5de185afad6fb24068c)\n'}]",1,811810,34d5bca6bc612f41ac3fc33447cd2ba83bf446ba,4,3,1,4690,,,0,"Add functional regression test for bug 1853009

Bug 1853009 describes a race condition involving multiple nova-compute
services with ironic. As the compute services start up, the hash ring
rebalances, and the compute services have an inconsistent view of which
is responsible for a compute node.

The sequence of actions here is adapted from a real world log [1], where
multiple nova-compute services were started simultaneously. In some
cases mocks are used to simulate race conditions.

There are three main issues with the behaviour:

* host2 deletes the orphan node compute node after host1 has taken
  ownership of it.

* host1 assumes that another compute service will not delete its nodes.
  Once a node is in rt.compute_nodes, it is not removed again unless the
  node is orphaned. This prevents host1 from recreating the compute
  node.

* host1 assumes that another compute service will not delete its
  resource providers. Once an RP is in the provider tree, it is not
  removed.

This functional test documents the current behaviour, with the idea that
it can be updated as this behaviour is fixed.

[1] http://paste.openstack.org/show/786272/

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Change-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd
Related-Bug: #1853009
Related-Bug: #1853159
(cherry picked from commit 59d9871e8a0672538f8ffc43ae99b3d1c4b08909)
(cherry picked from commit c260e75d012cc4fae596d5de185afad6fb24068c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/811810/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1853009.py'],1,34d5bca6bc612f41ac3fc33447cd2ba83bf446ba,bug/1853009,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from nova import context from nova import objects from nova.tests.functional import integrated_helpers class NodeRebalanceDeletedComputeNodeRaceTestCase( integrated_helpers.ProviderUsageBaseTestCase, ): """"""Regression test for bug 1853009 observed in Rocky & later. When an ironic node re-balances from one host to another, there can be a race where the old host deletes the orphan compute node after the new host has taken ownership of it which results in the new host failing to create the compute node and resource provider because the ResourceTracker does not detect a change. """""" # Make sure we're using the fake driver that has predictable uuids # for each node. compute_driver = 'fake.PredictableNodeUUIDDriver' def _assert_hypervisor_api(self, nodename, expected_host): # We should have one compute node shown by the API. hypervisors = self.api.api_get( '/os-hypervisors/detail' ).body['hypervisors'] self.assertEqual(1, len(hypervisors), hypervisors) hypervisor = hypervisors[0] self.assertEqual(nodename, hypervisor['hypervisor_hostname']) self.assertEqual(expected_host, hypervisor['service']['host']) def _start_compute(self, host): host = self.start_service('compute', host) # Ironic compute driver has rebalances_nodes = True. host.manager.driver.rebalances_nodes = True return host def setUp(self): super(NodeRebalanceDeletedComputeNodeRaceTestCase, self).setUp() self.nodename = 'fake-node' self.ctxt = context.get_admin_context() def test_node_rebalance_deleted_compute_node_race(self): # Simulate a service running and then stopping. host_a runs, creates # fake-node, then is stopped. The fake-node compute node is destroyed. # This leaves a soft-deleted node in the DB. host_a = self._start_compute('host_a') host_a.manager.driver._set_nodes([self.nodename]) host_a.manager.update_available_resource(self.ctxt) host_a.stop() cn = objects.ComputeNode.get_by_host_and_nodename( self.ctxt, 'host_a', self.nodename, ) cn.destroy() self.assertEqual(0, len(objects.ComputeNodeList.get_all(self.ctxt))) # Now we create a new compute service to manage our node. host_b = self._start_compute('host_b') host_b.manager.driver._set_nodes([self.nodename]) # When start_service runs, it will create a host_b ComputeNode. We want # to delete that and inject our fake node into the driver which will # be re-balanced to another host later. First assert this actually # exists. self._assert_hypervisor_api('host_b', expected_host='host_b') # Now run the update_available_resource periodic to register fake-node # and have it managed by host_b. This will also detect the ""host_b"" # node as orphaned and delete it along with its resource provider. cn_host_b_node = objects.ComputeNode.get_by_host_and_nodename( self.ctxt, 'host_b', 'host_b', ) # host_b[1]: Finds no compute record in RT. Tries to create one # (_init_compute_node). # FIXME(mgoddard): This shows a traceback with SQL rollback due to # soft-deleted node. The create seems to succeed but breaks the RT # update for this node. See # https://bugs.launchpad.net/nova/+bug/1853159. host_b.manager.update_available_resource(self.ctxt) self.assertIn( 'Deleting orphan compute node %s hypervisor host ' 'is host_b, nodes are' % cn_host_b_node.id, self.stdlog.logger.output) self._assert_hypervisor_api(self.nodename, expected_host='host_b') # There should only be one resource provider (fake-node). original_rps = self._get_all_providers() self.assertEqual(1, len(original_rps), original_rps) self.assertEqual(self.nodename, original_rps[0]['name']) # Simulate a re-balance by restarting host_a and make it manage # fake-node. At this point both host_b and host_a think they own # fake-node. host_a = self._start_compute('host_a') host_a.manager.driver._set_nodes([self.nodename]) # host_a[1]: Finds no compute record in RT, 'moves' existing node from # host_b host_a.manager.update_available_resource(self.ctxt) # Assert that fake-node was re-balanced from host_b to host_a. self.assertIn( 'ComputeNode fake-node moving from host_b to host_a', self.stdlog.logger.output) self._assert_hypervisor_api(self.nodename, expected_host='host_a') # host_a[2]: Begins periodic update, queries compute nodes for this # host, finds the fake-node. cn = objects.ComputeNode.get_by_host_and_nodename( self.ctxt, 'host_a', self.nodename, ) # host_b[2]: Finds no compute record in RT, 'moves' existing node from # host_a host_b.manager.update_available_resource(self.ctxt) # Assert that fake-node was re-balanced from host_a to host_b. self.assertIn( 'ComputeNode fake-node moving from host_a to host_b', self.stdlog.logger.output) self._assert_hypervisor_api(self.nodename, expected_host='host_b') # Complete rebalance, as host_a realises it does not own fake-node. host_a.manager.driver._set_nodes([]) # host_a[2]: Deletes orphan compute node. # Mock out the compute node query to simulate a race condition where # the list includes an orphan compute node that is newly owned by # host_b by the time host_a attempts to delete it. # FIXME(mgoddard): Ideally host_a would not delete a node that does not # belong to it. See https://bugs.launchpad.net/nova/+bug/1853009. with mock.patch( 'nova.compute.manager.ComputeManager._get_compute_nodes_in_db' ) as mock_get: mock_get.return_value = [cn] host_a.manager.update_available_resource(self.ctxt) # Verify that the node was deleted. self.assertIn( 'Deleting orphan compute node %s hypervisor host ' 'is fake-node, nodes are' % cn.id, self.stdlog.logger.output) hypervisors = self.api.api_get( '/os-hypervisors/detail').body['hypervisors'] self.assertEqual(0, len(hypervisors), hypervisors) rps = self._get_all_providers() self.assertEqual(0, len(rps), rps) # host_b[3]: Should recreate compute node and resource provider. # FIXME(mgoddard): Compute node not recreated here, because it is # already in RT.compute_nodes. See # https://bugs.launchpad.net/nova/+bug/1853009. # FIXME(mgoddard): Resource provider not recreated here, because it # exists in the provider tree. See # https://bugs.launchpad.net/nova/+bug/1841481. host_b.manager.update_available_resource(self.ctxt) # Verify that the node was not recreated. hypervisors = self.api.api_get( '/os-hypervisors/detail').body['hypervisors'] self.assertEqual(0, len(hypervisors), hypervisors) # But the compute node exists in the RT. self.assertIn(self.nodename, host_b.manager.rt.compute_nodes) # There is no RP. rps = self._get_all_providers() self.assertEqual(0, len(rps), rps) # But the RP exists in the provider tree. self.assertTrue(host_b.manager.rt.reportclient._provider_tree.exists( self.nodename)) # This fails due to the lack of a resource provider. self.assertIn( 'Skipping removal of allocations for deleted instances', self.stdlog.logger.output) ",,190,0
openstack%2Fironic~bugfix%2F18.1~Ice764866a08647031d16570860ec384204269501,openstack/ironic,bugfix/18.1,Ice764866a08647031d16570860ec384204269501,Prevent pxe retry when agent token exists,MERGED,2022-12-19 20:28:53.000000000,2022-12-20 15:51:33.000000000,2022-12-20 15:50:13.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-12-19 20:28:53.000000000', 'files': ['ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'releasenotes/notes/prevent-pxe-retry-when-token-exists-a4f38f7da56c1397.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7048c4f10a9f9fa648f6c729178d6f22a264e8f0', 'message': ""Prevent pxe retry when agent token exists\n\nA race condition can be observed in CI under heavy load where the\nconductor triggers are boot of the agent before it is fully online\nbased upon state, but not considering the existence of an agent\ntoken. As a result, agent is never able to check in with Ironic\nand the overall operation fails.\n\nWe now consider agent token's existence before retrying PXE as\nit is the very earliest indicator of a starting agent.\n\nChange-Id: Ice764866a08647031d16570860ec384204269501\nStory: 2010107\nTask: 45674\n(cherry picked from commit d75424b5e5685a9cf04b30a5b0555efd1313e9c3)\n""}]",0,868028,7048c4f10a9f9fa648f6c729178d6f22a264e8f0,8,2,1,6618,,,0,"Prevent pxe retry when agent token exists

A race condition can be observed in CI under heavy load where the
conductor triggers are boot of the agent before it is fully online
based upon state, but not considering the existence of an agent
token. As a result, agent is never able to check in with Ironic
and the overall operation fails.

We now consider agent token's existence before retrying PXE as
it is the very earliest indicator of a starting agent.

Change-Id: Ice764866a08647031d16570860ec384204269501
Story: 2010107
Task: 45674
(cherry picked from commit d75424b5e5685a9cf04b30a5b0555efd1313e9c3)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/28/868028/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'releasenotes/notes/prevent-pxe-retry-when-token-exists-a4f38f7da56c1397.yaml']",3,7048c4f10a9f9fa648f6c729178d6f22a264e8f0,,"--- fixes: - | Fixes a race condition in PXE initialization where logic to retry what we suspect as potentially failed PXE boot operations was not consulting if an ``agent token`` had been established, which is the very first step in agent initialization. ",,25,0
openstack%2Fironic~stable%2Fwallaby~Ice764866a08647031d16570860ec384204269501,openstack/ironic,stable/wallaby,Ice764866a08647031d16570860ec384204269501,Prevent pxe retry when agent token exists,MERGED,2022-12-19 20:29:40.000000000,2022-12-20 15:51:19.000000000,2022-12-20 15:50:05.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-12-19 20:29:40.000000000', 'files': ['ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'releasenotes/notes/prevent-pxe-retry-when-token-exists-a4f38f7da56c1397.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/06821f4d0cd1c217ecc44d2f41cd93ac05b5b236', 'message': ""Prevent pxe retry when agent token exists\n\nA race condition can be observed in CI under heavy load where the\nconductor triggers are boot of the agent before it is fully online\nbased upon state, but not considering the existence of an agent\ntoken. As a result, agent is never able to check in with Ironic\nand the overall operation fails.\n\nWe now consider agent token's existence before retrying PXE as\nit is the very earliest indicator of a starting agent.\n\nChange-Id: Ice764866a08647031d16570860ec384204269501\nStory: 2010107\nTask: 45674\n(cherry picked from commit d75424b5e5685a9cf04b30a5b0555efd1313e9c3)\n""}]",0,868029,06821f4d0cd1c217ecc44d2f41cd93ac05b5b236,9,2,1,6618,,,0,"Prevent pxe retry when agent token exists

A race condition can be observed in CI under heavy load where the
conductor triggers are boot of the agent before it is fully online
based upon state, but not considering the existence of an agent
token. As a result, agent is never able to check in with Ironic
and the overall operation fails.

We now consider agent token's existence before retrying PXE as
it is the very earliest indicator of a starting agent.

Change-Id: Ice764866a08647031d16570860ec384204269501
Story: 2010107
Task: 45674
(cherry picked from commit d75424b5e5685a9cf04b30a5b0555efd1313e9c3)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/29/868029/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'releasenotes/notes/prevent-pxe-retry-when-token-exists-a4f38f7da56c1397.yaml']",3,06821f4d0cd1c217ecc44d2f41cd93ac05b5b236,,"--- fixes: - | Fixes a race condition in PXE initialization where logic to retry what we suspect as potentially failed PXE boot operations was not consulting if an ``agent token`` had been established, which is the very first step in agent initialization. ",,25,0
openstack%2Fnetworking-sfc~master~I54ff765d1f839232c85ab01556be03d95f135bd5,openstack/networking-sfc,master,I54ff765d1f839232c85ab01556be03d95f135bd5,Remove note about migration from lib/neutron-legacy to lib/neutron,MERGED,2022-12-20 10:12:41.000000000,2022-12-20 15:39:47.000000000,2022-12-20 15:37:59.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 10:12:41.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/aa1dbcd1b379ab755049173e02f5df5850c42b09', 'message': ""Remove note about migration from lib/neutron-legacy to lib/neutron\n\nIn [1] we finally got rid of the unfinished lib/neutron module and kept\nonly lib/neutron-legacy. It's renamed to lib/neutron now and it's the\nonly neutron related module in Devstack.\nSo this patch removes left over todo comments about things to do when\nmigration to the new lib/neutron module will be finished.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/865014\n\nChange-Id: I54ff765d1f839232c85ab01556be03d95f135bd5\n""}]",0,868168,aa1dbcd1b379ab755049173e02f5df5850c42b09,9,4,1,11975,,,0,"Remove note about migration from lib/neutron-legacy to lib/neutron

In [1] we finally got rid of the unfinished lib/neutron module and kept
only lib/neutron-legacy. It's renamed to lib/neutron now and it's the
only neutron related module in Devstack.
So this patch removes left over todo comments about things to do when
migration to the new lib/neutron module will be finished.

[1] https://review.opendev.org/c/openstack/devstack/+/865014

Change-Id: I54ff765d1f839232c85ab01556be03d95f135bd5
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/68/868168/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,aa1dbcd1b379ab755049173e02f5df5850c42b09,drop-lib-neutron,, # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy,0,6
openstack%2Fkuryr-kubernetes~master~Ib21646b4b7cf0e3c07ddef15b3569a0fb4539e8a,openstack/kuryr-kubernetes,master,Ib21646b4b7cf0e3c07ddef15b3569a0fb4539e8a,Use either subnet name or id for Machines.,MERGED,2022-11-14 11:31:26.000000000,2022-12-20 15:35:16.000000000,2022-12-20 15:34:19.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 27032}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-11-14 11:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4279ad666ed0b7cf2a9f4fd9ba15285f38c492d0', 'message': ""Make ability to use either subnet name or id for Machines.\n\nCurrently, we support only uuid for primarySubnet field for OpenShift\nMachines. Even though it's possible to create objects in OpenStack with\nthe same name, it is more natural to use names instead of id in\nOpenShift world. In this patch we introduce support for such case.\n\nChange-Id: Ib21646b4b7cf0e3c07ddef15b3569a0fb4539e8a\n""}, {'number': 2, 'created': '2022-11-16 11:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8d73028b8d2de22f8ec82a2b42c61ffc0dc94828', 'message': ""Use either subnet name or id for Machines.\n\nCurrently, we support only subnet id for primarySubnet field for\nOpenShift Machines. Even though it's possible to create objects in\nOpenStack with the same name, it is more natural to use names instead of\nid in especially in OpenShift world. In this patch we introduce support\nfor using names as well.\n\nChange-Id: Ib21646b4b7cf0e3c07ddef15b3569a0fb4539e8a\n""}, {'number': 3, 'created': '2022-11-17 12:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/df602edbeb335ec30ed3b9b96a5f2199bbebafd4', 'message': ""Use either subnet name or id for Machines.\n\nCurrently, we support only subnet id for primarySubnet field for\nOpenShift Machines. Even though it's possible to create objects in\nOpenStack with the same name, it is more natural to use names instead of\nid in especially in OpenShift world. In this patch we introduce support\nfor using names as well.\n\nChange-Id: Ib21646b4b7cf0e3c07ddef15b3569a0fb4539e8a\n""}, {'number': 4, 'created': '2022-11-22 13:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ded2b24d738c5faa9eeaf0d6fcf4c765b2565089', 'message': ""Use either subnet name or id for Machines.\n\nCurrently, we support only subnet id for primarySubnet field for\nOpenShift Machines. Even though it's possible to create objects in\nOpenStack with the same name, it is more natural to use names instead of\nid in especially in OpenShift world. In this patch we introduce support\nfor using names as well.\n\nChange-Id: Ib21646b4b7cf0e3c07ddef15b3569a0fb4539e8a\n""}, {'number': 5, 'created': '2022-11-24 13:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/815f7f498b4e3593b69a2af1678215a65867cecc', 'message': ""Use either subnet name or id for Machines.\n\nCurrently, we support only subnet id for primarySubnet field for\nOpenShift Machines. Even though it's possible to create objects in\nOpenStack with the same name, it is more natural to use names instead of\nid in especially in OpenShift world. In this patch we introduce support\nfor using names as well.\n\nChange-Id: Ib21646b4b7cf0e3c07ddef15b3569a0fb4539e8a\n""}, {'number': 6, 'created': '2022-12-06 12:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/def55d66db4107892519ec2392f18335ba81d4fc', 'message': ""Use either subnet name or id for Machines.\n\nCurrently, we support only subnet id for primarySubnet field for\nOpenShift Machines. Even though it's possible to create objects in\nOpenStack with the same name, it is more natural to use names instead of\nid in especially in OpenShift world. In this patch we introduce support\nfor using names as well.\n\nChange-Id: Ib21646b4b7cf0e3c07ddef15b3569a0fb4539e8a\n""}, {'number': 7, 'created': '2022-12-19 07:57:32.000000000', 'files': ['kuryr_kubernetes/controller/drivers/node_subnets.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_node_subnets.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ba4cc2b8f0ae28538529d56ebea559268e7d3e88', 'message': ""Use either subnet name or id for Machines.\n\nCurrently, we support only subnet id for primarySubnet field for\nOpenShift Machines. Even though it's possible to create objects in\nOpenStack with the same name, it is more natural to use names instead of\nid especially in OpenShift world. In this patch we introduce support\nfor using names as well.\n\nChange-Id: Ib21646b4b7cf0e3c07ddef15b3569a0fb4539e8a\n""}]",63,864404,ba4cc2b8f0ae28538529d56ebea559268e7d3e88,114,4,7,13692,,,0,"Use either subnet name or id for Machines.

Currently, we support only subnet id for primarySubnet field for
OpenShift Machines. Even though it's possible to create objects in
OpenStack with the same name, it is more natural to use names instead of
id especially in OpenShift world. In this patch we introduce support
for using names as well.

Change-Id: Ib21646b4b7cf0e3c07ddef15b3569a0fb4539e8a
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/04/864404/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/node_subnets.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_node_subnets.py', 'kuryr_kubernetes/utils.py', 'kuryr_kubernetes/tests/unit/test_utils.py']",4,4279ad666ed0b7cf2a9f4fd9ba15285f38c492d0,subnet-name-support," @mock.patch('kuryr_kubernetes.clients.get_network_client') def test_get_subnet_uuid_valid_uuid(self, m_get_net): m_net = mock.Mock() m_net.subnets.return_value = iter([munch.Munch()]) m_get_net.return_value = m_net string = 'ba8086e6-f97c-42a1-8ee2-85a1f4eb7202' result = utils.get_subnet_uuid(string) self.assertEqual(string, result) @mock.patch('kuryr_kubernetes.clients.get_network_client') def test_get_subnet_uuid_valid_name(self, m_get_net): m_net = mock.Mock() subnet_id = 'eb8c0be2-e229-43dc-a6ba-69e17f7f1597' m_net.subnets.side_effect = [iter([]), iter([munch.Munch({'id': subnet_id})])] m_get_net.return_value = m_net string = 'subnet_name' result = utils.get_subnet_uuid(string) self.assertEqual(subnet_id, result) @mock.patch('kuryr_kubernetes.clients.get_network_client') def test_get_subnet_uuid_valid_name_two_subnets(self, m_get_net): m_net = mock.Mock() subnet_id = 'eb8c0be2-e229-43dc-a6ba-69e17f7f1597' subnet2_id = 'd13271f5-fb57-4e67-af94-7c19298b7d41' m_net.subnets.side_effect = [iter([]), iter([munch.Munch({'id': subnet_id}), munch.Munch({'id': subnet2_id})])] m_get_net.return_value = m_net string = 'subnet_name' result = utils.get_subnet_uuid(string) self.assertEqual(subnet_id, result) @mock.patch('kuryr_kubernetes.clients.get_network_client') def test_get_subnet_uuid_wrong_name(self, m_get_net): m_net = mock.Mock() m_net.subnets.side_effect = [iter([]), iter([])] m_get_net.return_value = m_net string = 'subnet_name' result = utils.get_subnet_uuid(string) self.assertIsNone(result)",,83,4
openstack%2Ftripleo-operator-ansible~master~I18dd339fa3c943465ca5ef0dba490ae81e80cf02,openstack/tripleo-operator-ansible,master,I18dd339fa3c943465ca5ef0dba490ae81e80cf02,Fixes on tripleo_deploy role,NEW,2022-12-15 15:41:36.000000000,2022-12-20 15:25:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 15:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/003473c7cbe1d7c4504619d1ec7d10c27e39d6c8', 'message': ""Fixes on tripleo_deploy role\n\n* According to this [1] change, the `openstack tripleo deploy` command is used\nonly to deploy standalone environment, so it's useless to have a\nboolean to set it on or off\n\n* According to this [2] change, '--standalone' flag has been removed for `openstack tripleo deploy`\n  command [2]\n\n[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/852379\n[2] https://review.opendev.org/c/openstack/python-tripleoclient/+/753447\n\nChange-Id: I18dd339fa3c943465ca5ef0dba490ae81e80cf02\n""}, {'number': 2, 'created': '2022-12-15 15:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/40ed42c4e16b20b05a453b349dfff9f6e4f063aa', 'message': ""Fixes on tripleo_deploy role\n\n* According to this [1] change, the `openstack tripleo deploy` command is used only to deploy standalone environment, so it's useless to have a boolean to set it on or off\n\n* According to this [2] change, '--standalone' flag has been removed for `openstack tripleo deploy`command\n\n[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/852379\n[2] https://review.opendev.org/c/openstack/python-tripleoclient/+/753447\n\nChange-Id: I18dd339fa3c943465ca5ef0dba490ae81e80cf02\n""}, {'number': 3, 'created': '2022-12-15 19:31:50.000000000', 'files': ['roles/tripleo_deploy/defaults/main.yml', 'roles/tripleo_deploy/README.md', 'roles/tripleo_deploy/tasks/main.yml', 'roles/tripleo_deploy/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/b01c5e73857d9765af91517c28a01e64c9f89ca9', 'message': ""Fixes on tripleo_deploy role\n\n* According to this [1] change, the `openstack tripleo deploy` command is used\nonly to deploy standalone environment, so it's useless to have a\nboolean to set it on or off\n\n* According to this [2] change, '--standalone' flag has been removed for `openstack tripleo deploy`\n  command [2]\n\n* Fix molecule tests\n\n[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/852379\n[2] https://review.opendev.org/c/openstack/python-tripleoclient/+/753447\n\nChange-Id: I18dd339fa3c943465ca5ef0dba490ae81e80cf02\n""}]",4,867823,b01c5e73857d9765af91517c28a01e64c9f89ca9,6,1,3,35491,,,0,"Fixes on tripleo_deploy role

* According to this [1] change, the `openstack tripleo deploy` command is used
only to deploy standalone environment, so it's useless to have a
boolean to set it on or off

* According to this [2] change, '--standalone' flag has been removed for `openstack tripleo deploy`
  command [2]

* Fix molecule tests

[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/852379
[2] https://review.opendev.org/c/openstack/python-tripleoclient/+/753447

Change-Id: I18dd339fa3c943465ca5ef0dba490ae81e80cf02
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/23/867823/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_deploy/defaults/main.yml', 'roles/tripleo_deploy/README.md', 'roles/tripleo_deploy/tasks/main.yml', 'roles/tripleo_deploy/molecule/default/converge.yml']",4,003473c7cbe1d7c4504619d1ec7d10c27e39d6c8,standalone_flag_removal," ""--standalone-role Standalone --timeout 90 "" - tripleo_deploy_output == ""tripleo deploy --local-ip 192.168.24.2/24"""," ""--stack standalone --standalone-role Standalone --timeout 90 "" tripleo_deploy_standalone: true - tripleo_deploy_output == ""tripleo deploy --standalone --stack test --local-ip 192.168.24.2/24"" tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false tripleo_deploy_standalone: false",2,30
openstack%2Ftripleo-ci~master~I1261d36d9a82bb4f9c6caf7c310ef5b406d86ba3,openstack/tripleo-ci,master,I1261d36d9a82bb4f9c6caf7c310ef5b406d86ba3,Adjust collection for container-image-prepare-compute,MERGED,2022-12-16 10:37:22.000000000,2022-12-20 15:24:45.000000000,2022-12-19 14:38:05.000000000,"[{'_account_id': 6926}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-16 10:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/19f04dfa1b00ad6a22352fc9c29857a1eb0ba6aa', 'message': 'Adjust collection for container-image-prepare-compute\n\nThe compute container image prepare output file is added in [1] and\nnamed tripleo-container-image-prepare-compute.log\n\n[1] Ie32159bdbe15637004eb5fc7cb24fde8c6806b25\n\nChange-Id: I1261d36d9a82bb4f9c6caf7c310ef5b406d86ba3\n'}, {'number': 2, 'created': '2022-12-16 10:38:18.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/818212fdbdcb7f739b4e2297f0e63443d6694cbb', 'message': 'Adjust collection for container-image-prepare-compute\n\nThe compute container image prepare output file is added in [1] and\nnamed tripleo-container-image-prepare-compute.log\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/867967\n\nChange-Id: I1261d36d9a82bb4f9c6caf7c310ef5b406d86ba3\n'}]",5,867966,818212fdbdcb7f739b4e2297f0e63443d6694cbb,11,4,2,8449,,,0,"Adjust collection for container-image-prepare-compute

The compute container image prepare output file is added in [1] and
named tripleo-container-image-prepare-compute.log

[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/867967

Change-Id: I1261d36d9a82bb4f9c6caf7c310ef5b406d86ba3
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/66/867966/2 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,19f04dfa1b00ad6a22352fc9c29857a1eb0ba6aa,, - /var/log/tripleo-container-image-prepare.*.log, - /var/log/tripleo-container-image-prepare.log - /var/log/tripleo-container-image-prepare-ansible.log,1,2
openstack%2Fnova~stable%2Fwallaby~Idb7fcbce0c9562e7b9bd3e80f2a6d4b9bc286830,openstack/nova,stable/wallaby,Idb7fcbce0c9562e7b9bd3e80f2a6d4b9bc286830,Avoid n-cond startup abort for keystone failures,NEW,2022-09-22 23:23:39.000000000,2022-12-20 15:22:28.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-22 23:23:39.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b90eaf45d8c948992599ad6f25e7ff8b35cbec04', 'message': 'Avoid n-cond startup abort for keystone failures\n\nConductor creates a placement client for the potential case where\nit needs to make a call for certain operations. A transient network\nor keystone failure will currently cause it to abort startup, which\nmeans it is not available for other unrelated activities, such as\nDB proxying for compute.\n\nThis makes conductor test the placement client on startup, but only\nabort startup on errors that are highly likely to be permanent\nconfiguration errors, and only warn about things like being unable\nto contact keystone/placement during initialization. If a non-fatal\nerror is encountered at startup, later operations needing the\nplacement client will retry initialization.\n\nCloses-Bug: #1846820\nChange-Id: Idb7fcbce0c9562e7b9bd3e80f2a6d4b9bc286830\n(cherry picked from commit 232684b44022f1bc4d72b07045900780de456e63)\n(cherry picked from commit 19346082058d51c78bb157ca5e1304d15691dd9a)\n(cherry picked from commit 6027a097caf51428425dc4616898302460f833a1)\n'}]",1,859002,b90eaf45d8c948992599ad6f25e7ff8b35cbec04,5,2,1,4690,,,0,"Avoid n-cond startup abort for keystone failures

Conductor creates a placement client for the potential case where
it needs to make a call for certain operations. A transient network
or keystone failure will currently cause it to abort startup, which
means it is not available for other unrelated activities, such as
DB proxying for compute.

This makes conductor test the placement client on startup, but only
abort startup on errors that are highly likely to be permanent
configuration errors, and only warn about things like being unable
to contact keystone/placement during initialization. If a non-fatal
error is encountered at startup, later operations needing the
placement client will retry initialization.

Closes-Bug: #1846820
Change-Id: Idb7fcbce0c9562e7b9bd3e80f2a6d4b9bc286830
(cherry picked from commit 232684b44022f1bc4d72b07045900780de456e63)
(cherry picked from commit 19346082058d51c78bb157ca5e1304d15691dd9a)
(cherry picked from commit 6027a097caf51428425dc4616898302460f833a1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/859002/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/conductor/manager.py']",3,b90eaf45d8c948992599ad6f25e7ff8b35cbec04,bug/1846820,"from keystoneauth1 import exceptions as ks_exc try: # Test our placement client during initialization self.report_client except (ks_exc.EndpointNotFound, ks_exc.DiscoveryFailure, ks_exc.RequestTimeout, ks_exc.GatewayTimeout, ks_exc.ConnectFailure) as e: # Non-fatal, likely transient (although not definitely); # continue startup but log the warning so that when things # fail later, it will be clear why we can not do certain # things. LOG.warning('Unable to initialize placement client (%s); ' 'Continuing with startup, but some operations ' 'will not be possible.', e) except (ks_exc.MissingAuthPlugin, ks_exc.Unauthorized) as e: # This is almost definitely fatal mis-configuration. The # Unauthorized error might be transient, but it is # probably reasonable to consider it fatal. LOG.error('Fatal error initializing placement client; ' 'config is incorrect or incomplete: %s', e) raise except Exception as e: # Unknown/unexpected errors here are fatal LOG.error('Fatal error initializing placement client: %s', e) raise @property def report_client(self): return report.report_client_singleton() ", self.report_client = report.report_client_singleton(),87,1
openstack%2Fnova~stable%2Fxena~Idb7fcbce0c9562e7b9bd3e80f2a6d4b9bc286830,openstack/nova,stable/xena,Idb7fcbce0c9562e7b9bd3e80f2a6d4b9bc286830,Avoid n-cond startup abort for keystone failures,NEW,2022-09-22 23:12:17.000000000,2022-12-20 15:20:47.000000000,,"[{'_account_id': 15334}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-22 23:12:17.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6027a097caf51428425dc4616898302460f833a1', 'message': 'Avoid n-cond startup abort for keystone failures\n\nConductor creates a placement client for the potential case where\nit needs to make a call for certain operations. A transient network\nor keystone failure will currently cause it to abort startup, which\nmeans it is not available for other unrelated activities, such as\nDB proxying for compute.\n\nThis makes conductor test the placement client on startup, but only\nabort startup on errors that are highly likely to be permanent\nconfiguration errors, and only warn about things like being unable\nto contact keystone/placement during initialization. If a non-fatal\nerror is encountered at startup, later operations needing the\nplacement client will retry initialization.\n\nCloses-Bug: #1846820\nChange-Id: Idb7fcbce0c9562e7b9bd3e80f2a6d4b9bc286830\n(cherry picked from commit 232684b44022f1bc4d72b07045900780de456e63)\n(cherry picked from commit 19346082058d51c78bb157ca5e1304d15691dd9a)\n'}]",1,859000,6027a097caf51428425dc4616898302460f833a1,6,3,1,4690,,,0,"Avoid n-cond startup abort for keystone failures

Conductor creates a placement client for the potential case where
it needs to make a call for certain operations. A transient network
or keystone failure will currently cause it to abort startup, which
means it is not available for other unrelated activities, such as
DB proxying for compute.

This makes conductor test the placement client on startup, but only
abort startup on errors that are highly likely to be permanent
configuration errors, and only warn about things like being unable
to contact keystone/placement during initialization. If a non-fatal
error is encountered at startup, later operations needing the
placement client will retry initialization.

Closes-Bug: #1846820
Change-Id: Idb7fcbce0c9562e7b9bd3e80f2a6d4b9bc286830
(cherry picked from commit 232684b44022f1bc4d72b07045900780de456e63)
(cherry picked from commit 19346082058d51c78bb157ca5e1304d15691dd9a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/859000/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/conductor/manager.py']",3,6027a097caf51428425dc4616898302460f833a1,bug/1846820,"from keystoneauth1 import exceptions as ks_exc try: # Test our placement client during initialization self.report_client except (ks_exc.EndpointNotFound, ks_exc.DiscoveryFailure, ks_exc.RequestTimeout, ks_exc.GatewayTimeout, ks_exc.ConnectFailure) as e: # Non-fatal, likely transient (although not definitely); # continue startup but log the warning so that when things # fail later, it will be clear why we can not do certain # things. LOG.warning('Unable to initialize placement client (%s); ' 'Continuing with startup, but some operations ' 'will not be possible.', e) except (ks_exc.MissingAuthPlugin, ks_exc.Unauthorized) as e: # This is almost definitely fatal mis-configuration. The # Unauthorized error might be transient, but it is # probably reasonable to consider it fatal. LOG.error('Fatal error initializing placement client; ' 'config is incorrect or incomplete: %s', e) raise except Exception as e: # Unknown/unexpected errors here are fatal LOG.error('Fatal error initializing placement client: %s', e) raise @property def report_client(self): return report.report_client_singleton() ", self.report_client = report.report_client_singleton(),87,1
openstack%2Fnova~stable%2Fxena~Iab8a791f64323f996e1d6e6d5a7e7a7c34eb4fb3,openstack/nova,stable/xena,Iab8a791f64323f996e1d6e6d5a7e7a7c34eb4fb3,Unify placement client singleton implementations,NEW,2022-09-22 23:12:17.000000000,2022-12-20 15:20:29.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-22 23:12:17.000000000', 'files': ['nova/scheduler/manager.py', 'nova/scheduler/client/report.py', 'nova/tests/unit/compute/test_compute.py', 'nova/cmd/manage.py', 'nova/tests/unit/compute/test_api.py', 'nova/test.py', 'nova/conductor/tasks/migrate.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/request_filter.py', 'nova/conductor/manager.py', 'nova/quota.py', 'nova/api/openstack/compute/services.py', 'nova/compute/manager.py', 'nova/compute/api.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/87f67df721a4a46bf145f217525cc001582764ca', 'message': 'Unify placement client singleton implementations\n\nWe have many places where we implement singleton behavior for the\nplacement client. This unifies them into a single place and\nimplementation. Not only does this DRY things up, but may cause us\nto initialize it fewer times and also allows for emitting a common\nset of error messages about expected failures for better\ntroubleshooting.\n\nConflicts:\n    nova/limit/placement.py\n\nNOTE(melwitt): The conflict is because change\nI272b59b7bc8975bfd602640789f80d2d5f7ee698\n(Tell oslo.limit how to count nova resources) is not in Xena.\n\nChange-Id: Iab8a791f64323f996e1d6e6d5a7e7a7c34eb4fb3\nRelated-Bug: #1846820\n(cherry picked from commit c178d9360665c219cbcc71c9f37b9e6e3055a5e5)\n(cherry picked from commit 77273f067d96a4ec401c3b36f2922d63c4ad7103)\n'}]",1,858999,87f67df721a4a46bf145f217525cc001582764ca,5,2,1,4690,,,0,"Unify placement client singleton implementations

We have many places where we implement singleton behavior for the
placement client. This unifies them into a single place and
implementation. Not only does this DRY things up, but may cause us
to initialize it fewer times and also allows for emitting a common
set of error messages about expected failures for better
troubleshooting.

Conflicts:
    nova/limit/placement.py

NOTE(melwitt): The conflict is because change
I272b59b7bc8975bfd602640789f80d2d5f7ee698
(Tell oslo.limit how to count nova resources) is not in Xena.

Change-Id: Iab8a791f64323f996e1d6e6d5a7e7a7c34eb4fb3
Related-Bug: #1846820
(cherry picked from commit c178d9360665c219cbcc71c9f37b9e6e3055a5e5)
(cherry picked from commit 77273f067d96a4ec401c3b36f2922d63c4ad7103)
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/858999/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/manager.py', 'nova/scheduler/client/report.py', 'nova/tests/unit/compute/test_compute.py', 'nova/cmd/manage.py', 'nova/tests/unit/compute/test_api.py', 'nova/test.py', 'nova/conductor/tasks/migrate.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/request_filter.py', 'nova/conductor/manager.py', 'nova/quota.py', 'nova/api/openstack/compute/services.py', 'nova/compute/manager.py', 'nova/compute/api.py', 'nova/compute/resource_tracker.py']",15,87f67df721a4a46bf145f217525cc001582764ca,bug/1846820, self.reportclient = reportclient or report.report_client_singleton(), self.reportclient = reportclient or report.SchedulerReportClient(),113,40
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ia78e72bbd20cab537f5ce81de33a332394369d16,openstack/tripleo-ansible,stable/wallaby,Ia78e72bbd20cab537f5ce81de33a332394369d16,Fix molecule failures in tripleo_collectd,NEW,2022-11-30 20:51:56.000000000,2022-12-20 15:11:21.000000000,,"[{'_account_id': 9816}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-30 20:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/380bc69cab63e5460979b6f00593d2a472e123b0', 'message': 'Fix molecule failures in tripleo_collectd\n\n* Fixed repo problems by correcting volume mounts\n* Combined some scenarios to lower testing time\n\nCloses-Bug: #1979972\nCo-Authored-By: Cdric Jeanneret <cjeanner@redhat.com>\nChange-Id: Ia78e72bbd20cab537f5ce81de33a332394369d16\n(cherry picked from commit 8e9047ba5ae0b7905b9a4aa239d9da15b8972511)\n(cherry picked from commit 291ca72cfe1b310bc054429b4360cfcb9d16893f)\n'}, {'number': 2, 'created': '2022-12-05 20:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/29c93771ef1aae0f4cb30db373cb148390756b8e', 'message': 'Fix molecule failures in tripleo_collectd\n\n* Fixed repo problems by correcting volume mounts\n* Combined some scenarios to lower testing time\n\nCloses-Bug: #1979972\nCo-Authored-By: Cdric Jeanneret <cjeanner@redhat.com>\nDepends-On: Ia209c4c23316ea0e29b58ff9d99f4e8577f80450\nChange-Id: Ia78e72bbd20cab537f5ce81de33a332394369d16\n(cherry picked from commit 8e9047ba5ae0b7905b9a4aa239d9da15b8972511)\n(cherry picked from commit 291ca72cfe1b310bc054429b4360cfcb9d16893f)\n'}, {'number': 3, 'created': '2022-12-05 21:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5460c9922452ee5050a8935f10bf978f33cf0987', 'message': 'Fix molecule failures in tripleo_collectd\n\n* Fixed repo problems by correcting volume mounts\n* Combined some scenarios to lower testing time\n\nCloses-Bug: #1979972\nCo-Authored-By: Cdric Jeanneret <cjeanner@redhat.com>\nChange-Id: Ia78e72bbd20cab537f5ce81de33a332394369d16\n(cherry picked from commit 8e9047ba5ae0b7905b9a4aa239d9da15b8972511)\n(cherry picked from commit 291ca72cfe1b310bc054429b4360cfcb9d16893f)\n'}, {'number': 4, 'created': '2022-12-15 17:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/187e9a52244c50a9519a4ffde64a26275c3e0bc8', 'message': 'Fix molecule failures in tripleo_collectd\n\n* Fixed repo problems by correcting volume mounts\n* Combined some scenarios to lower testing time\n\nCloses-Bug: #1979972\nCo-Authored-By: Cdric Jeanneret <cjeanner@redhat.com>\nChange-Id: Ia78e72bbd20cab537f5ce81de33a332394369d16\n(cherry picked from commit 8e9047ba5ae0b7905b9a4aa239d9da15b8972511)\n(cherry picked from commit 291ca72cfe1b310bc054429b4360cfcb9d16893f)\n'}, {'number': 5, 'created': '2022-12-15 20:34:22.000000000', 'files': ['tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection_default_interval/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility_libpodstats_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility_libpodstats_sqlalchemy/verify.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility_libpodstats_sqlalchemy/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/requirements.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection_default_interval/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/verify.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/57b3d93d3edeab097c41911814f0bc2eed6b864f', 'message': 'Fix molecule failures in tripleo_collectd\n\n* Fixed repo problems by correcting volume mounts\n* Combined some scenarios to lower testing time\n\nCloses-Bug: #1979972\nCo-Authored-By: Cdric Jeanneret <cjeanner@redhat.com>\nChange-Id: Ia78e72bbd20cab537f5ce81de33a332394369d16\n(cherry picked from commit 8e9047ba5ae0b7905b9a4aa239d9da15b8972511)\n(cherry picked from commit 291ca72cfe1b310bc054429b4360cfcb9d16893f)\n'}]",3,866215,57b3d93d3edeab097c41911814f0bc2eed6b864f,16,5,5,30893,,,0,"Fix molecule failures in tripleo_collectd

* Fixed repo problems by correcting volume mounts
* Combined some scenarios to lower testing time

Closes-Bug: #1979972
Co-Authored-By: Cdric Jeanneret <cjeanner@redhat.com>
Change-Id: Ia78e72bbd20cab537f5ce81de33a332394369d16
(cherry picked from commit 8e9047ba5ae0b7905b9a4aa239d9da15b8972511)
(cherry picked from commit 291ca72cfe1b310bc054429b4360cfcb9d16893f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/15/866215/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection_default_interval/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility_libpodstats_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility_libpodstats_sqlalchemy/verify.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility_libpodstats_sqlalchemy/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/requirements.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection_default_interval/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/verify.yml']",22,380bc69cab63e5460979b6f00593d2a472e123b0,,,"--- # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - import_playbook: ../common/verify.yml - name: Verify hosts: all tasks: - name: ""Make sure python.conf exists"" stat: path: ""{{ collectd_conf_output_dir }}/python.conf"" register: python_conf failed_when: - not python_conf.stat.exists - name: ""Get contents of python.conf"" slurp: path: ""{{ collectd_conf_output_dir }}/python.conf"" register: python_conf - name: ""Check that the config imports sqlalchemy"" assert: that: - '""Import \""sqlalchemy_collectd.server.plugin\"""" in python_conf.content | b64decode' fail_msg: ""SQLAlchemy is not imported by python config"" - name: ""Check that collectd_sqlalchemy is configured as expected"" assert: that: - '""<Module \""sqlalchemy_collectd.server.plugin\"">"" in python_conf.content | b64decode' - '""listen \""localhost\"" 25827"" in python_conf.content | b64decode' - '""loglevel \""info\"""" in python_conf.content | b64decode' ",146,555
openstack%2Fnova~master~Ib106e36b77d32cdcc535e4237364b647d1cc04e0,openstack/nova,master,Ib106e36b77d32cdcc535e4237364b647d1cc04e0,Modify the command of getting serial console,MERGED,2022-07-22 08:23:08.000000000,2022-12-20 15:07:33.000000000,2022-12-20 15:05:36.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-22 08:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc07f80aab70923318444a1d29452586e1bfa459', 'message': ""Modify the command of getting serial console\n\nThe old command 'nova get-serial-proxy' was not found when using novaclient\n\nChange-Id: Ib106e36b77d32cdcc535e4237364b647d1cc04e0\n""}, {'number': 2, 'created': '2022-07-22 09:01:51.000000000', 'files': ['doc/source/admin/manage-logs.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/2dcd6d48786664aac5b0c033ea9a4641b3ee0a15', 'message': ""Modify the command of getting serial console\n\nThe old command 'nova get-serial-proxy' was not found when using novaclient\n\nChange-Id: Ib106e36b77d32cdcc535e4237364b647d1cc04e0\n""}]",1,850729,2dcd6d48786664aac5b0c033ea9a4641b3ee0a15,12,2,2,34918,,,0,"Modify the command of getting serial console

The old command 'nova get-serial-proxy' was not found when using novaclient

Change-Id: Ib106e36b77d32cdcc535e4237364b647d1cc04e0
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/850729/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/manage-logs.rst'],1,cc07f80aab70923318444a1d29452586e1bfa459,modify_serial_console_command,#. Use the :command:`nova get-serial-console` command to retrieve the websocket $ nova get-serial-console INSTANCE_NAME,#. Use the :command:`nova get-serial-proxy` command to retrieve the websocket $ nova get-serial-proxy INSTANCE_NAME,2,2
openstack%2Fnova~master~Iefd198f3fa192c0b31b75f6324afade391f2e57c,openstack/nova,master,Iefd198f3fa192c0b31b75f6324afade391f2e57c,Correct reST markup in config help string,MERGED,2022-09-23 02:46:43.000000000,2022-12-20 15:06:39.000000000,2022-12-20 15:05:27.000000000,"[{'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-23 02:46:43.000000000', 'files': ['nova/conf/libvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8942d5bc260cb46f0ea470c52ab33240a1fdecdc', 'message': 'Correct reST markup in config help string\n\nA missing blank line after ""Related options:"" is causing the\noption list to be jammed into a single paragraph instead of\nbeing rendered as a bulleted list.\n\nChange-Id: Iefd198f3fa192c0b31b75f6324afade391f2e57c\n'}]",0,859010,8942d5bc260cb46f0ea470c52ab33240a1fdecdc,15,4,1,5314,,,0,"Correct reST markup in config help string

A missing blank line after ""Related options:"" is causing the
option list to be jammed into a single paragraph instead of
being rendered as a bulleted list.

Change-Id: Iefd198f3fa192c0b31b75f6324afade391f2e57c
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/859010/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/libvirt.py'],1,8942d5bc260cb46f0ea470c52ab33240a1fdecdc,trivial,,,1,0
openstack%2Fnova~master~I6f7cf5bbca5754a91efe788064695134ecff34b6,openstack/nova,master,I6f7cf5bbca5754a91efe788064695134ecff34b6,fix typo in architecture document,MERGED,2022-09-25 19:00:14.000000000,2022-12-20 15:05:36.000000000,2022-12-20 15:03:36.000000000,"[{'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-25 19:00:14.000000000', 'files': ['doc/source/admin/architecture.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/480b63a9a6a588b2867efcb951972a53b62ca483', 'message': 'fix typo in architecture document\n\nSigned-off-by: Jan Klippel <openstack@kl1pp3l.de>\nChange-Id: I6f7cf5bbca5754a91efe788064695134ecff34b6\n'}]",4,859201,480b63a9a6a588b2867efcb951972a53b62ca483,14,4,1,34858,,,0,"fix typo in architecture document

Signed-off-by: Jan Klippel <openstack@kl1pp3l.de>
Change-Id: I6f7cf5bbca5754a91efe788064695134ecff34b6
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/859201/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/architecture.rst'],1,480b63a9a6a588b2867efcb951972a53b62ca483,fix-typo-in-doc,"The OpenStack Block Storage service, Cinder, provides persistent volumes that","The OpenStack Block Storage service, Cinder, provides persistent volumes hat",1,1
