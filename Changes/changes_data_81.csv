id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fpuppet-neutron~master~I95b7feda0058290d87eb6ecf78bbe45cfd36a3af,openstack/puppet-neutron,master,I95b7feda0058290d87eb6ecf78bbe45cfd36a3af,ovn: Remove the ovn_remote_probe_interval parameter,ABANDONED,2022-04-25 00:42:29.000000000,2022-07-06 08:23:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-25 00:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/debe38cbb0f01d41a502d0e532942929ddcccf0f', 'message': 'ovn: Remove the ovn_remote_probe_interval parameter\n\n... because it was deprecated during Yoga cycle by [1].\n\n[1] ce2357d422dfe5c24861caaa6219eae27642c1e4\n\nChange-Id: I95b7feda0058290d87eb6ecf78bbe45cfd36a3af\n'}, {'number': 2, 'created': '2022-05-23 00:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/23257f2dba80bebcbd1c2db62ea43bef77da67d7', 'message': 'ovn: Remove the ovn_remote_probe_interval parameter\n\n... because it was deprecated during Yoga cycle by [1].\n\n[1] ce2357d422dfe5c24861caaa6219eae27642c1e4\n\nChange-Id: I95b7feda0058290d87eb6ecf78bbe45cfd36a3af\n'}, {'number': 3, 'created': '2022-07-06 08:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/100f5f4e0c71e972943fd04f79b68a17f4bbe6ab', 'message': 'ovn: Remove the ovn_remote_probe_interval parameter\n\n... because it was deprecated during Yoga cycle by [1].\n\n[1] ce2357d422dfe5c24861caaa6219eae27642c1e4\n\nChange-Id: I95b7feda0058290d87eb6ecf78bbe45cfd36a3af\n'}, {'number': 4, 'created': '2022-07-06 08:07:22.000000000', 'files': ['releasenotes/notes/remove-ovn-metadata-remote_probe_interval-5753087f66e9b2d6.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/cb79428f61361724db16beb275e033ca5a8fc338', 'message': 'ovn: Remove the ovn_remote_probe_interval parameter\n\n... because it was deprecated during Yoga cycle by [1].\n\n[1] ce2357d422dfe5c24861caaa6219eae27642c1e4\n\nChange-Id: I95b7feda0058290d87eb6ecf78bbe45cfd36a3af\n'}]",5,839139,cb79428f61361724db16beb275e033ca5a8fc338,15,1,4,9816,,,0,"ovn: Remove the ovn_remote_probe_interval parameter

... because it was deprecated during Yoga cycle by [1].

[1] ce2357d422dfe5c24861caaa6219eae27642c1e4

Change-Id: I95b7feda0058290d87eb6ecf78bbe45cfd36a3af
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/39/839139/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-ovn-metadata-remote_probe_interval-5753087f66e9b2d6.yaml', 'manifests/agents/ovn_metadata.pp']",2,debe38cbb0f01d41a502d0e532942929ddcccf0f,rm-ovn-remote-probe-intvl,,"# DEPRECATED PARAMETERS # # [*ovn_remote_probe_interval*] # (optional) Set probe interval, based on user configuration, value is in ms # Defaults to undef # # DEPRECATED PARAMETERS $ovn_remote_probe_interval = undef, if $ovn_remote_probe_interval != undef { warning('The ovn_remote_probe_interval parameter is deprecated and has no effect') } ovn_metadata_agent_config { 'ovn/ovn_remote_probe_interval': ensure => absent; } ",5,15
openstack%2Freleases~master~Ida3f4220c1edc6269fa71ace560e2c2c7bd9f737,openstack/releases,master,Ida3f4220c1edc6269fa71ace560e2c2c7bd9f737,Release OpenStack-Ansible Yoga,MERGED,2022-06-24 18:34:56.000000000,2022-07-06 08:13:44.000000000,2022-07-06 08:13:44.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-24 18:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2fe12fe147b839a3d856e002ec9513fb9b162332', 'message': 'Release OpenStack-Ansible Yoga\n\nChange-Id: Ida3f4220c1edc6269fa71ace560e2c2c7bd9f737\n'}, {'number': 2, 'created': '2022-06-29 14:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/dcca5c690570d664d23ec3911a54fac06bb1d824', 'message': 'Release OpenStack-Ansible Yoga\n\nChange-Id: Ida3f4220c1edc6269fa71ace560e2c2c7bd9f737\n'}, {'number': 3, 'created': '2022-06-30 18:32:59.000000000', 'files': ['deliverables/yoga/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b04bd950a1c75daca2b05781bfc121de9944c9f6', 'message': 'Release OpenStack-Ansible Yoga\n\nChange-Id: Ida3f4220c1edc6269fa71ace560e2c2c7bd9f737\n'}]",10,847598,b04bd950a1c75daca2b05781bfc121de9944c9f6,23,4,3,28619,,,0,"Release OpenStack-Ansible Yoga

Change-Id: Ida3f4220c1edc6269fa71ace560e2c2c7bd9f737
",git fetch https://review.opendev.org/openstack/releases refs/changes/98/847598/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/openstack-ansible.yaml'],1,2fe12fe147b839a3d856e002ec9513fb9b162332,release_osa, - diff-start: 25.0.0.0rc1 projects: - hash: e7ea69c254639925e8ac4ba85805c5fa873460bd repo: openstack/openstack-ansible version: 25.0.0,,5,0
openstack%2Flarge-scale~master~I3fa643ef94a60474273902e95d4e03b9f31164d4,openstack/large-scale,master,I3fa643ef94a60474273902e95d4e03b9f31164d4,Add info about rabbit_transient_queues_ttl,MERGED,2022-07-05 14:05:35.000000000,2022-07-06 08:01:26.000000000,2022-07-06 08:00:26.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-05 14:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/large-scale/commit/56cbbfe5925ecb9b46dce08177cbbd8eec08358f', 'message': 'Add info about rabbit_transient_queues_ttl\n\nThis params should be tuned correctly when running large-scale.\n\nThe default value is 30 minutes.\nMy recommandation is to set this to 60secs.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I3fa643ef94a60474273902e95d4e03b9f31164d4\n'}, {'number': 2, 'created': '2022-07-05 15:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/large-scale/commit/dc7818d7694c39c9a1e38d7bb4bdcf54c207ef10', 'message': 'Add info about rabbit_transient_queues_ttl\n\nThis params should be tuned correctly when running large-scale.\n\nThe default value is 30 minutes.\nMy recommandation is to set this to 60secs.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I3fa643ef94a60474273902e95d4e03b9f31164d4\n'}, {'number': 3, 'created': '2022-07-06 07:32:29.000000000', 'files': ['doc/source/journey/configure/rabbitmq.rst'], 'web_link': 'https://opendev.org/openstack/large-scale/commit/5fbe1f9959e6455542677d6e7929ffed5ec35798', 'message': 'Add info about rabbit_transient_queues_ttl\n\nThis params should be tuned correctly when running large-scale.\n\nThe default value is 30 minutes.\nMy recommandation is to set this to 60secs.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I3fa643ef94a60474273902e95d4e03b9f31164d4\n'}]",9,848745,5fbe1f9959e6455542677d6e7929ffed5ec35798,13,2,3,11583,,,0,"Add info about rabbit_transient_queues_ttl

This params should be tuned correctly when running large-scale.

The default value is 30 minutes.
My recommandation is to set this to 60secs.

Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
Change-Id: I3fa643ef94a60474273902e95d4e03b9f31164d4
",git fetch https://review.opendev.org/openstack/large-scale refs/changes/45/848745/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/journey/configure/rabbitmq.rst'],1,56cbbfe5925ecb9b46dce08177cbbd8eec08358f,,"The recommendation is to split your rabbit in multiples clusters for multiple reasons: * Reduce the impact when a rabbit cluster is down * Allow intervention on smaller part of infrastructure rabbit_transient_queues_ttl ^^^^^^^^^^^^^^^^^^^^^^^^^^^ The default TTL for transient queues is 30 minutes, but this is too much for neutron (both server and agent). For example, when restarting an agent, it will keep the transient queues in the rabbit cluster for 30 minutes. Most of those queues are fanout queues, so they will stack the messages. On a large cluster, you can endup with million of messages very quickly (before the 30 minutes). So the recommendation is to drastically lower this value to get rid of transient queues much quicker (like 60sec): .. code-block:: console rabbit_transient_queues_ttl = 60 ","There is no recommendation on that part, except that if you split your rabbit in multiples services, you will, for sure, reduce the risk.",19,1
openstack%2Fcinder~master~I6621901ad1ac2b96fd5b6ebb0c6efb6b2eeb188e,openstack/cinder,master,I6621901ad1ac2b96fd5b6ebb0c6efb6b2eeb188e,Fix flapping storage_protocol in get-pools,MERGED,2022-06-28 11:16:18.000000000,2022-07-06 07:46:10.000000000,2022-06-29 18:19:18.000000000,"[{'_account_id': 4523}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 31779}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-06-28 11:16:18.000000000', 'files': ['cinder/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/60c2a46d3ee6fd15309b16f090ab239a5ce1ae7d', 'message': 'Fix flapping storage_protocol in get-pools\n\nAfter ""fixing"" the storage_protocol reported by get_pools, in Change-Id\nI07d74078dbb102490dd722029e32c74cec3aa44c, there are cases where the\nstorage_protocol reported by the get_pools REST API call may change from\nthe canonical name (eg NFS) to the value being reported by the driver\n(nfs).\n\nThis happens because the original patch missed the fact that the\ncapabilities dict is still being used in some cases even after the\nBackendState instance has been created and updated, so it\'s not enough\nto update the BackendState values but we also need to update the dict\nitself.\n\nRelated-Bug: #1966103\nChange-Id: I6621901ad1ac2b96fd5b6ebb0c6efb6b2eeb188e\n'}]",3,847953,60c2a46d3ee6fd15309b16f090ab239a5ce1ae7d,31,5,1,9535,,,0,"Fix flapping storage_protocol in get-pools

After ""fixing"" the storage_protocol reported by get_pools, in Change-Id
I07d74078dbb102490dd722029e32c74cec3aa44c, there are cases where the
storage_protocol reported by the get_pools REST API call may change from
the canonical name (eg NFS) to the value being reported by the driver
(nfs).

This happens because the original patch missed the fact that the
capabilities dict is still being used in some cases even after the
BackendState instance has been created and updated, so it's not enough
to update the BackendState values but we also need to update the dict
itself.

Related-Bug: #1966103
Change-Id: I6621901ad1ac2b96fd5b6ebb0c6efb6b2eeb188e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/847953/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/scheduler/host_manager.py'],1,60c2a46d3ee6fd15309b16f090ab239a5ce1ae7d,fix-fix-storage_protocol, if 'storage_protocol' in capability: capability['storage_protocol'] = self.storage_protocol,,2,0
openstack%2Ftripleo-ansible~master~Ic64298a9d16e08855197c8c3354f4e4aacd3657a,openstack/tripleo-ansible,master,Ic64298a9d16e08855197c8c3354f4e4aacd3657a,Replace six.iteritems() with .items(),MERGED,2022-05-12 14:39:03.000000000,2022-07-06 07:04:07.000000000,2022-07-06 07:02:59.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-05-12 14:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0eb21c582dc5e3a59b0a4ecdfdafa4a6224f763c', 'message': 'Replace six.iteritems() with .items()\n\nAs mentioned in [1], we should avoid using six.iteritems to achieve\niterators.\nWe can use dict.items instead, as it will return iterators in PY3 as\nwell.\nAt this point we no longer support Python 2 so I think we can go ahead\nby removing this six binding.\n[1] https://wiki.openstack.org/wiki/Python3\n\nChange-Id: Ic64298a9d16e08855197c8c3354f4e4aacd3657a\n'}, {'number': 2, 'created': '2022-07-06 01:29:02.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/25063af094eeed2eb945b5a7ad6eb0d047c636ab', 'message': 'Replace six.iteritems() with .items()\n\nAs mentioned in [1], we should avoid using six.iteritems to achieve\niterators.\nWe can use dict.items instead, as it will return iterators in PY3 as\nwell.\nAt this point we no longer support Python 2 so I think we can go ahead\nby removing this six binding.\n[1] https://wiki.openstack.org/wiki/Python3\n\nChange-Id: Ic64298a9d16e08855197c8c3354f4e4aacd3657a\n'}]",5,841608,25063af094eeed2eb945b5a7ad6eb0d047c636ab,23,5,2,28522,,,0,"Replace six.iteritems() with .items()

As mentioned in [1], we should avoid using six.iteritems to achieve
iterators.
We can use dict.items instead, as it will return iterators in PY3 as
well.
At this point we no longer support Python 2 so I think we can go ahead
by removing this six binding.
[1] https://wiki.openstack.org/wiki/Python3

Change-Id: Ic64298a9d16e08855197c8c3354f4e4aacd3657a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/08/841608/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py'],1,0eb21c582dc5e3a59b0a4ecdfdafa4a6224f763c,remove-six," for host, state_task in host_tasks.items()","from ansible.module_utils.six import iteritems for host, state_task in iteritems(host_tasks)",1,2
openstack%2Ftripleo-heat-templates~master~I602a7e063ccbf9f0fc10bb8e2c175ee6220c30f6,openstack/tripleo-heat-templates,master,I602a7e063ccbf9f0fc10bb8e2c175ee6220c30f6,Glance: Remove unnecessary override of [paste_deploy] config_file,MERGED,2022-06-24 05:45:53.000000000,2022-07-06 06:58:44.000000000,2022-07-06 06:58:44.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-24 05:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9eb3c7a65c91d5ab5bbb538af6cd6ac642c1fe8', 'message': ""Glance: Remove unnecessary override of [paste_deploy] config_file\n\nGlance by default searches glance-api-paste.ini in config directories\nand we don't need to give the full path. In case we really need this\nthen that should be configured using a new native puppet parameter,\notherwise this prevents parameter implementation in puppet-glance.\n\nChange-Id: I602a7e063ccbf9f0fc10bb8e2c175ee6220c30f6\n""}, {'number': 2, 'created': '2022-06-24 11:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b6cb61e5f38b12afd78f8d302e42dd3a8dfa64ae', 'message': 'Glance: Remove unnecessary override of [paste_deploy] config_file\n\nGlance by default searches glance-api-paste.ini in config directories\nas long as the glance-api.conf file is given in the end.\n\nIn case we really need this then that should be configured using a new\nnative puppet parameter, otherwise this prevents adding the parameter\nto puppet-glance.\n\nChange-Id: I602a7e063ccbf9f0fc10bb8e2c175ee6220c30f6\n'}, {'number': 3, 'created': '2022-06-24 11:05:04.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30213bd0feec630cc142a20033231005caffd6d7', 'message': 'Glance: Remove unnecessary override of [paste_deploy] config_file\n\nGlance by default searches glance-api-paste.ini in config directories\nas long as the glance-api.conf file is given in the end.\n\nIn case we really need this then that should be configured using a new\nnative puppet parameter, otherwise this prevents adding the parameter\nto puppet-glance.\n\nChange-Id: I602a7e063ccbf9f0fc10bb8e2c175ee6220c30f6\n'}]",7,847524,30213bd0feec630cc142a20033231005caffd6d7,17,5,3,9816,,,0,"Glance: Remove unnecessary override of [paste_deploy] config_file

Glance by default searches glance-api-paste.ini in config directories
as long as the glance-api.conf file is given in the end.

In case we really need this then that should be configured using a new
native puppet parameter, otherwise this prevents adding the parameter
to puppet-glance.

Change-Id: I602a7e063ccbf9f0fc10bb8e2c175ee6220c30f6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/847524/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,c9eb3c7a65c91d5ab5bbb538af6cd6ac642c1fe8,, - glance::api::db::database_connection:, # Set this for glance as it does not have a default - glance::config::api_config: paste_deploy/config_file: value: '/etc/glance/glance-api-paste.ini' glance::api::db::database_connection:,1,5
openstack%2Ftripleo-heat-templates~master~Ie85738b326a7d71c67aeddca4d261e35b70738d4,openstack/tripleo-heat-templates,master,Ie85738b326a7d71c67aeddca4d261e35b70738d4,nova-compute: Refactor hieradata generation,MERGED,2022-06-24 07:25:44.000000000,2022-07-06 06:58:40.000000000,2022-07-06 06:58:40.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-24 07:25:44.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/add91e79c76b99975db6d538bac7aa1d952d6361', 'message': 'nova-compute: Refactor hieradata generation\n\n- Reduce number of intermediate hieradata keys. These keys sometimes\n  cause unexpected collisions.\n\n- Merge all parameters in RoleParametersValue first, then override it\n  only when needed. This allows us to avoid defining the same value\n  twice.\n\nChange-Id: Ie85738b326a7d71c67aeddca4d261e35b70738d4\n'}]",0,847531,add91e79c76b99975db6d538bac7aa1d952d6361,8,4,1,9816,,,0,"nova-compute: Refactor hieradata generation

- Reduce number of intermediate hieradata keys. These keys sometimes
  cause unexpected collisions.

- Merge all parameters in RoleParametersValue first, then override it
  only when needed. This allows us to avoid defining the same value
  twice.

Change-Id: Ie85738b326a7d71c67aeddca4d261e35b70738d4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/847531/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,add91e79c76b99975db6d538bac7aa1d952d6361,, nova::migration::libvirt::live_migration_permit_post_copy: NovaLiveMigrationPermitPostCopy nova::migration::libvirt::live_migration_permit_auto_converge: NovaLiveMigrationPermitAutoConverge # Always disable post-copy in realy time kernel # if libvirt_file_backed_memory_enabled we have to override # ram_allocation_ratio to 1.0," nova_permit_post_copy: NovaLiveMigrationPermitPostCopy nova_permit_auto_converge: NovaLiveMigrationPermitAutoConverge - {get_attr: [RoleParametersValue, value, nova_permit_post_copy]} - {get_attr: [RoleParametersValue, value, nova_permit_auto_converge]} # if libvirt_file_backed_memory_enabled we have to set ram_allocation_ratio to 1.0 - {get_attr: [RoleParametersValue, value, 'nova::ram_allocation_ratio']}",5,6
openstack%2Ftripleo-ansible~master~I50d753d0f23c8feb6d2777bffa136c6c21ec2e40,openstack/tripleo-ansible,master,I50d753d0f23c8feb6d2777bffa136c6c21ec2e40,Remove duplicate entries from .gitignore,MERGED,2022-07-01 14:52:41.000000000,2022-07-06 06:58:37.000000000,2022-07-06 06:58:37.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 14:52:41.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/84e37ddf11c97bc6b2feeb52054827eed502cf6d', 'message': 'Remove duplicate entries from .gitignore\n\nChange-Id: I50d753d0f23c8feb6d2777bffa136c6c21ec2e40\n'}]",0,848460,84e37ddf11c97bc6b2feeb52054827eed502cf6d,7,4,1,20733,,,0,"Remove duplicate entries from .gitignore

Change-Id: I50d753d0f23c8feb6d2777bffa136c6c21ec2e40
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/60/848460/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,84e37ddf11c97bc6b2feeb52054827eed502cf6d,duplicate,,.tox.venv,0,2
openstack%2Ftripleo-heat-templates~master~I2d98bff87d77417f1b320a568022b00ac9e6749a,openstack/tripleo-heat-templates,master,I2d98bff87d77417f1b320a568022b00ac9e6749a,Verify openstack-selinux package is properly installed,ABANDONED,2022-06-13 08:59:55.000000000,2022-07-06 06:21:35.000000000,,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-06-13 08:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4fd4659cabb34ad47754eff6f456d4a82b88fcb3', 'message': ""Verify openstack-selinux package is properly installed\n\nIt may happen this package fails its installation, but it's usually not\nfailing the rpm/dnf transaction, leading to an actually broken\ninstallation. In such cases, the deploy will then start as usual, and\nfail once it hits any openstack-selinux related rule, for instance a\nboolean to toggle (boolean won't exist). In some worst cases, the deploy\nmay succeed, but we'll end up with a ton of denials in auditd log.\n\nRunning this validation during the beginning of step_0 should prevent\nany weird situation. It will require a couple of things, such as:\n- a modification to openstack-selinux package, as done here:\nhttps://github.com/redhat-openstack/openstack-selinux/pull/93\n- a modification to openstack-selinux package spec as done here:\nhttps://review.rdoproject.org/r/c/openstack/openstack-selinux-distgit/+/43578\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/845559\nDepends-On: https://review.rdoproject.org/r/c/openstack/openstack-selinux-distgit/+/43578\nChange-Id: I2d98bff87d77417f1b320a568022b00ac9e6749a\nCloses: rhbz#2095776\n""}, {'number': 2, 'created': '2022-06-15 14:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dca7f556da1b64e3a6ca94c559441d529b8cd49b', 'message': ""Verify openstack-selinux package is properly installed\n\nIt may happen this package fails its installation, but it's usually not\nfailing the rpm/dnf transaction, leading to an actually broken\ninstallation. In such cases, the deploy will then start as usual, and\nfail once it hits any openstack-selinux related rule, for instance a\nboolean to toggle (boolean won't exist). In some worst cases, the deploy\nmay succeed, but we'll end up with a ton of denials in auditd log.\n\nRunning this validation during the beginning of step_0 should prevent\nany weird situation. It will require a couple of things, such as:\n- a modification to openstack-selinux package, as done here:\nhttps://github.com/redhat-openstack/openstack-selinux/pull/93\n- a modification to openstack-selinux package spec as done here:\nhttps://review.rdoproject.org/r/c/openstack/openstack-selinux-distgit/+/43578\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/845559\nDepends-On: https://review.rdoproject.org/r/c/openstack/openstack-selinux-distgit/+/43578\nChange-Id: I2d98bff87d77417f1b320a568022b00ac9e6749a\nCloses: rhbz#2095776\n""}, {'number': 3, 'created': '2022-06-16 07:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7106ecbd748b8b6b60781e49cdd8d6af62a0b06', 'message': ""Verify openstack-selinux package is properly installed\n\nIt may happen this package fails its installation, but it's usually not\nfailing the rpm/dnf transaction, leading to an actually broken\ninstallation. In such cases, the deploy will then start as usual, and\nfail once it hits any openstack-selinux related rule, for instance a\nboolean to toggle (boolean won't exist). In some worst cases, the deploy\nmay succeed, but we'll end up with a ton of denials in auditd log.\n\nRunning this validation during the beginning of step_0 should prevent\nany weird situation. It will require a couple of things, such as:\n- a modification to openstack-selinux package, as done here:\nhttps://github.com/redhat-openstack/openstack-selinux/pull/93\n- a modification to openstack-selinux package spec as done here:\nhttps://review.rdoproject.org/r/c/openstack/openstack-selinux-distgit/+/43578\n\nNote: we want to run it even if the operator disables the validations.\nThis check is mandatory, since a broken install may lead to really\nuncommon and unpredictable issues, and people will lose time, hairs and\nmind trying to get it straight.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/845559\nDepends-On: https://review.rdoproject.org/r/c/openstack/openstack-selinux-distgit/+/43578\nChange-Id: I2d98bff87d77417f1b320a568022b00ac9e6749a\nCloses: rhbz#2095776\n""}, {'number': 4, 'created': '2022-07-01 11:14:27.000000000', 'files': ['common/deploy-steps-tasks-step-0.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4190bb515b9c0c0b9329878e8b69b036afe49b0', 'message': ""Verify openstack-selinux package is properly installed\n\nIt may happen this package fails its installation, but it's usually not\nfailing the rpm/dnf transaction, leading to an actually broken\ninstallation. In such cases, the deploy will then start as usual, and\nfail once it hits any openstack-selinux related rule, for instance a\nboolean to toggle (boolean won't exist). In some worst cases, the deploy\nmay succeed, but we'll end up with a ton of denials in auditd log.\n\nRunning this validation during the beginning of step_0 should prevent\nany weird situation. It will require a couple of things, such as:\n- a modification to openstack-selinux package, as done here:\nhttps://github.com/redhat-openstack/openstack-selinux/pull/93\n- a modification to openstack-selinux package spec as done here:\nhttps://review.rdoproject.org/r/c/openstack/openstack-selinux-distgit/+/43578\n\nNote: we want to run it even if the operator disables the validations.\nThis check is mandatory, since a broken install may lead to really\nuncommon and unpredictable issues, and people will lose time, hairs and\nmind trying to get it straight.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/845559\nDepends-On: https://review.rdoproject.org/r/c/openstack/openstack-selinux-distgit/+/43578\nChange-Id: I2d98bff87d77417f1b320a568022b00ac9e6749a\nCloses: rhbz#2095776\n""}]",13,845569,d4190bb515b9c0c0b9329878e8b69b036afe49b0,30,6,4,28223,,,0,"Verify openstack-selinux package is properly installed

It may happen this package fails its installation, but it's usually not
failing the rpm/dnf transaction, leading to an actually broken
installation. In such cases, the deploy will then start as usual, and
fail once it hits any openstack-selinux related rule, for instance a
boolean to toggle (boolean won't exist). In some worst cases, the deploy
may succeed, but we'll end up with a ton of denials in auditd log.

Running this validation during the beginning of step_0 should prevent
any weird situation. It will require a couple of things, such as:
- a modification to openstack-selinux package, as done here:
https://github.com/redhat-openstack/openstack-selinux/pull/93
- a modification to openstack-selinux package spec as done here:
https://review.rdoproject.org/r/c/openstack/openstack-selinux-distgit/+/43578

Note: we want to run it even if the operator disables the validations.
This check is mandatory, since a broken install may lead to really
uncommon and unpredictable issues, and people will lose time, hairs and
mind trying to get it straight.

Depends-On: https://review.opendev.org/c/openstack/validations-common/+/845559
Depends-On: https://review.rdoproject.org/r/c/openstack/openstack-selinux-distgit/+/43578
Change-Id: I2d98bff87d77417f1b320a568022b00ac9e6749a
Closes: rhbz#2095776
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/845569/4 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks-step-0.j2.yaml'],1,4fd4659cabb34ad47754eff6f456d4a82b88fcb3,validation/openstack-selinux,- name: Ensure openstack-selinux is properly installed tags: - opendev-validation - opendev-validation-packages vars: verify_package_pkg: openstack-selinux import_role: name: verify_package,,8,0
openstack%2Ftripleo-common~master~Ieabac57383de4f6c8157c0b0c746ca8606237420,openstack/tripleo-common,master,Ieabac57383de4f6c8157c0b0c746ca8606237420,Stop generating KeystoneFernetKey[01],MERGED,2022-06-29 00:14:39.000000000,2022-07-06 06:15:40.000000000,2022-07-06 06:14:03.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-29 00:14:39.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/tests/utils/test_plan.py', 'tripleo_common/tests/utils/test_passwords.py', 'tripleo_common/utils/passwords.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b3c29e342b703005329ee671aeec2e55c524c742', 'message': 'Stop generating KeystoneFernetKey[01]\n\n... because these were deprecated during Pike[1] and were removed\nduring Stein[2] in favor of the new single KeystoneFernetKeys\nparameter.\n\n[1] 490e237f09d2c685903b173d3fd94efc450a9cb2\n[2] 40ba776463b24afb7feec574999da66a5b63a028\n\nChange-Id: Ieabac57383de4f6c8157c0b0c746ca8606237420\n'}]",0,848040,b3c29e342b703005329ee671aeec2e55c524c742,10,7,1,9816,,,0,"Stop generating KeystoneFernetKey[01]

... because these were deprecated during Pike[1] and were removed
during Stein[2] in favor of the new single KeystoneFernetKeys
parameter.

[1] 490e237f09d2c685903b173d3fd94efc450a9cb2
[2] 40ba776463b24afb7feec574999da66a5b63a028

Change-Id: Ieabac57383de4f6c8157c0b0c746ca8606237420
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/40/848040/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/constants.py', 'tripleo_common/tests/utils/test_plan.py', 'tripleo_common/tests/utils/test_passwords.py', 'tripleo_common/utils/passwords.py']",4,b3c29e342b703005329ee671aeec2e55c524c742,," elif name in ('KeystoneCredential0', 'KeystoneCredential1'):"," elif name in ('KeystoneCredential0', 'KeystoneCredential1', 'KeystoneFernetKey0', 'KeystoneFernetKey1'):",1,15
openstack%2Fproject-config~master~I22c549b5f9b9e3882fcd2340946d2850b0b2f86b,openstack/project-config,master,I22c549b5f9b9e3882fcd2340946d2850b0b2f86b,nodepool elements: fix pip upgrade venv,MERGED,2022-07-06 03:32:09.000000000,2022-07-06 06:10:19.000000000,2022-07-06 03:53:47.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-06 03:32:09.000000000', 'files': ['nodepool/elements/infra-package-needs/install.d/40-install-tox', 'nodepool/elements/nodepool-base/install.d/91-venv-os-testr'], 'web_link': 'https://opendev.org/openstack/project-config/commit/efbb9b896174f49d6dd35209153b66eaf2ec0d80', 'message': ""nodepool elements: fix pip upgrade venv\n\nChange I316e9587b6e290cd421b47f506c91dbebe0975c0 had a rather\nembarrasing oversight in that it copied the /usr/bindep-env/bin/pip\ninvocation for upgrading pip to all the other venv's.\n\ni.e. we were upgrading hte bindep-env pip over and over, and not\nactually the pip in the working venv.  The os-testr install on older\nplatforms has now broken because it still tries to install with the\nancient inbuilt pip -- local testing has confirmed that it works with\nthe updated pip.\n\nChange-Id: I22c549b5f9b9e3882fcd2340946d2850b0b2f86b\n""}]",1,848800,efbb9b896174f49d6dd35209153b66eaf2ec0d80,7,2,1,7118,,,0,"nodepool elements: fix pip upgrade venv

Change I316e9587b6e290cd421b47f506c91dbebe0975c0 had a rather
embarrasing oversight in that it copied the /usr/bindep-env/bin/pip
invocation for upgrading pip to all the other venv's.

i.e. we were upgrading hte bindep-env pip over and over, and not
actually the pip in the working venv.  The os-testr install on older
platforms has now broken because it still tries to install with the
ancient inbuilt pip -- local testing has confirmed that it works with
the updated pip.

Change-Id: I22c549b5f9b9e3882fcd2340946d2850b0b2f86b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/00/848800/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/elements/infra-package-needs/install.d/40-install-tox', 'nodepool/elements/nodepool-base/install.d/91-venv-os-testr']",2,efbb9b896174f49d6dd35209153b66eaf2ec0d80,nodepool-venvs, /usr/os-testr-env/bin/pip install --upgrade pip==20.3.4 /usr/os-testr-env/bin/pip install --upgrade pip, /usr/bindep-env/bin/pip install --upgrade pip==20.3.4 /usr/bindep-env/bin/pip install --upgrade pip,4,4
openstack%2Fneutron~master~Ic3b5a0ac7d832b162848b363396264ed0bfc4a25,openstack/neutron,master,Ic3b5a0ac7d832b162848b363396264ed0bfc4a25,update the nova host aggregates links,MERGED,2022-07-04 06:13:36.000000000,2022-07-06 06:06:42.000000000,2022-07-06 06:05:07.000000000,"[{'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 34775}]","[{'number': 1, 'created': '2022-07-04 06:13:36.000000000', 'files': ['doc/source/admin/config-qos-min-bw.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/210f5297f5ac5c180677d3f6419f436f77e56f1d', 'message': 'update the nova host aggregates links\n\nhttps://docs.openstack.org/nova/latest/admin/aggregates.html link failure,\nFrom openstack U version, this link is not in the user directory. Currently, only the latest version has been changed.\nYou are advised to change all the links\n\nChange-Id: Ic3b5a0ac7d832b162848b363396264ed0bfc4a25\n'}]",0,848563,210f5297f5ac5c180677d3f6419f436f77e56f1d,11,5,1,35025,,,0,"update the nova host aggregates links

https://docs.openstack.org/nova/latest/admin/aggregates.html link failure,
From openstack U version, this link is not in the user directory. Currently, only the latest version has been changed.
You are advised to change all the links

Change-Id: Ic3b5a0ac7d832b162848b363396264ed0bfc4a25
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/848563/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-qos-min-bw.rst'],1,210f5297f5ac5c180677d3f6419f436f77e56f1d,, :nova-doc:`Nova host aggregates <admin/aggregates>`., :nova-doc:`Nova host aggregates <user/aggregates>`.,1,1
openstack%2Ftripleo-heat-templates~master~I58ff22478079cd7f1688a90a6e49a44956ca2b46,openstack/tripleo-heat-templates,master,I58ff22478079cd7f1688a90a6e49a44956ca2b46,Remove unused OS::TripleO::SoftwareDeployment,MERGED,2022-07-05 08:17:22.000000000,2022-07-06 05:49:39.000000000,2022-07-06 05:49:39.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-05 08:17:22.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6312d2b22c4bfd94c762fe1357b616a729b1a979', 'message': 'Remove unused OS::TripleO::SoftwareDeployment\n\nThis resource type is defined but is no longer used.\n\nChange-Id: I58ff22478079cd7f1688a90a6e49a44956ca2b46\n'}]",0,848705,6312d2b22c4bfd94c762fe1357b616a729b1a979,8,5,1,9816,,,0,"Remove unused OS::TripleO::SoftwareDeployment

This resource type is defined but is no longer used.

Change-Id: I58ff22478079cd7f1688a90a6e49a44956ca2b46
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/848705/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud-resource-registry-puppet.j2.yaml', 'tools/yaml-validate.py']",2,6312d2b22c4bfd94c762fe1357b616a729b1a979,,, 'OS::TripleO::SoftwareDeployment',0,2
openstack%2Ftripleo-ansible~master~Ia5996a9ee1be1c60b6987e6c4114d9a258bc7ad9,openstack/tripleo-ansible,master,Ia5996a9ee1be1c60b6987e6c4114d9a258bc7ad9,Fix default tripleo_network_config_template,MERGED,2022-06-10 19:10:39.000000000,2022-07-06 05:39:56.000000000,2022-07-06 05:39:56.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-10 19:10:39.000000000', 'files': ['tripleo_ansible/roles/tripleo_network_config/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f0a4d5d5df1ee918a5c1e750c3fbc1fc645fbe3a', 'message': 'Fix default tripleo_network_config_template\n\nThe default referenced a template that does not\nexist in the roles templates directory.\n\nCloses-Bug: #1978343\nChange-Id: Ia5996a9ee1be1c60b6987e6c4114d9a258bc7ad9\n'}]",0,845378,f0a4d5d5df1ee918a5c1e750c3fbc1fc645fbe3a,9,5,1,24245,,,0,"Fix default tripleo_network_config_template

The default referenced a template that does not
exist in the roles templates directory.

Closes-Bug: #1978343
Change-Id: Ia5996a9ee1be1c60b6987e6c4114d9a258bc7ad9
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/78/845378/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_network_config/defaults/main.yml'],1,f0a4d5d5df1ee918a5c1e750c3fbc1fc645fbe3a,bug/1978343,tripleo_network_config_template: templates/single_nic_vlans/single_nic_vlans.j2,tripleo_network_config_template: templates/single_nic_vlan.j2,1,1
openstack%2Ftripleo-heat-templates~master~I90edd75c5e39830e379b4ec6b00542de5f711c03,openstack/tripleo-heat-templates,master,I90edd75c5e39830e379b4ec6b00542de5f711c03,MetricsQdrSslPassword should be hidden,ABANDONED,2022-06-23 16:05:02.000000000,2022-07-06 04:41:41.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-23 16:05:02.000000000', 'files': ['deployment/metrics/qdr-container-puppet.yaml', 'deployment/metrics/qdr-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ee738f0e7d3c91a73f7249d97fd71041d6f02a3', 'message': 'MetricsQdrSslPassword should be hidden\n\n... because the parameter accepts a password string.\n\nChange-Id: I90edd75c5e39830e379b4ec6b00542de5f711c03\n'}]",0,847372,4ee738f0e7d3c91a73f7249d97fd71041d6f02a3,5,3,1,9816,,,0,"MetricsQdrSslPassword should be hidden

... because the parameter accepts a password string.

Change-Id: I90edd75c5e39830e379b4ec6b00542de5f711c03
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/847372/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/metrics/qdr-container-puppet.yaml', 'deployment/metrics/qdr-container-ansible.yaml']",2,4ee738f0e7d3c91a73f7249d97fd71041d6f02a3,, hidden: true,,2,0
openstack%2Ftripleo-common~master~I225182926e71c947cea86139dbfe425c4a2517a6,openstack/tripleo-common,master,I225182926e71c947cea86139dbfe425c4a2517a6,Remove /v2 URL extension,MERGED,2022-05-17 23:29:59.000000000,2022-07-06 04:31:36.000000000,2022-07-06 04:30:31.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-17 23:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a3262cf05849ac8d2dd9342c37e9444252d57082', 'message': ""Remove /v2 URL extension\n\nThe /v2 is a legacy of the Docker registries previously\nused by TripleO. I don't believe this is necessary anymore.\nParticularly when verifying the the SSL certificate of the\nserver. This change removes the /v2 extension.\n\nChange-Id: I225182926e71c947cea86139dbfe425c4a2517a6\n""}, {'number': 2, 'created': '2022-05-18 00:44:17.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/659c8e5ae3c2a518d5971ff379d549940ce43e59', 'message': ""Remove /v2 URL extension\n\nThe /v2 is a legacy of the Docker registries previously\nused by TripleO. I don't believe this is necessary anymore.\nParticularly when verifying the the SSL certificate of the\nserver. This change removes the /v2 extension.\n\nChange-Id: I225182926e71c947cea86139dbfe425c4a2517a6\n""}]",2,842242,659c8e5ae3c2a518d5971ff379d549940ce43e59,13,4,2,30073,,,0,"Remove /v2 URL extension

The /v2 is a legacy of the Docker registries previously
used by TripleO. I don't believe this is necessary anymore.
Particularly when verifying the the SSL certificate of the
server. This change removes the /v2 extension.

Change-Id: I225182926e71c947cea86139dbfe425c4a2517a6
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/42/842242/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,a3262cf05849ac8d2dd9342c37e9444252d57082,remove-v2," s.get('https://%s' % registry_host, timeout=30) s.get('https://%s' % registry_host, timeout=30,"," s.get('https://%s/v2' % registry_host, timeout=30) s.get('https://%s/v2' % registry_host, timeout=30,",2,2
openstack%2Ftripleo-ansible~master~If4ec54b5d3931ef4b02dfb3cb0185114af1fa41a,openstack/tripleo-ansible,master,If4ec54b5d3931ef4b02dfb3cb0185114af1fa41a,[update] Remove obsolete link reference in error message.,MERGED,2022-07-05 14:34:26.000000000,2022-07-06 04:25:36.000000000,2022-07-06 04:25:36.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-05 14:34:26.000000000', 'files': ['tripleo_ansible/roles/tripleo_redhat_enforce/tasks/enforce_release.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9a8ad9d04d41db8a751c8997234aad024f1d9721', 'message': '[update] Remove obsolete link reference in error message.\n\nThe link might vary with every release, remove it altogether.\n\nChange-Id: If4ec54b5d3931ef4b02dfb3cb0185114af1fa41a\n'}]",0,848750,9a8ad9d04d41db8a751c8997234aad024f1d9721,8,4,1,8297,,,0,"[update] Remove obsolete link reference in error message.

The link might vary with every release, remove it altogether.

Change-Id: If4ec54b5d3931ef4b02dfb3cb0185114af1fa41a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/50/848750/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_redhat_enforce/tasks/enforce_release.yml'],1,9a8ad9d04d41db8a751c8997234aad024f1d9721,," If it is expected, please set SkipRhelEnforcement to true in the heat parameter. You can also disable it in the role, see rhsm_enforce role parameter."," If it is expected, please set SkipRhelEnforcement to true. For Director the documentation is there https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.0/html-single/ director_installation_and_usage/index#configuring-the-undercloud-with-environment-files, for the Overcloud you need to add a new parameter file to your deploy command with that parameter set. You can also disable it in the role, see rhsm_enforce role parameter.",3,6
openstack%2Ftripleo-heat-templates~master~I1709fb01b26d82737b6ccdff27250464382e39ee,openstack/tripleo-heat-templates,master,I1709fb01b26d82737b6ccdff27250464382e39ee,Remove usage of cloud-init + userdata,ABANDONED,2022-07-05 08:04:07.000000000,2022-07-06 04:07:54.000000000,,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-05 08:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab75069d866938e2d6e3cf4c75190ad527ab8962', 'message': 'Remove usage of cloud-init + userdata\n\n... because this method is no longer available since we switched to\nnova-less deployment of baremetal nodes.\n\nChange-Id: I1709fb01b26d82737b6ccdff27250464382e39ee\n'}, {'number': 2, 'created': '2022-07-05 08:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/07260b41ecc87ab84a60a6c74a4a30bcef1fcc1f', 'message': 'Remove usage of cloud-init + userdata\n\n... because this method is no longer available since we switched to\nnova-less deployment of baremetal nodes.\n\nChange-Id: I1709fb01b26d82737b6ccdff27250464382e39ee\n'}, {'number': 3, 'created': '2022-07-05 09:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5007103f1f6a6a15c47d7bab64c8fe80bd4f9cd4', 'message': 'Remove usage of cloud-init + userdata\n\n... because this method is no longer available since we switched to\nnova-less deployment of baremetal nodes.\n\nChange-Id: I1709fb01b26d82737b6ccdff27250464382e39ee\n'}, {'number': 4, 'created': '2022-07-05 12:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9731f50df56f02c391c21180209a738cfac03532', 'message': 'Remove usage of cloud-init + userdata\n\n... because this method is no longer available since we switched to\nnova-less deployment of baremetal nodes.\n\nChange-Id: I1709fb01b26d82737b6ccdff27250464382e39ee\n'}, {'number': 5, 'created': '2022-07-05 13:43:15.000000000', 'files': ['firstboot/conntectx3_streering.yaml', 'firstboot/userdata_heat_admin.yaml', 'firstboot/os-net-config-mappings.yaml', 'overcloud.j2.yaml', 'firstboot/nvidia_firstboot.yaml', 'puppet/role.role.j2.yaml', 'firstboot/.gitkeep', 'deployed-server/deployed-server.yaml', 'firstboot/userdata_root_password.yaml', 'firstboot/userdata_dev_rsync.yaml', 'firstboot/userdata_example.yaml', 'firstboot/userdata_timesync.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'firstboot/userdata_default.yaml', 'releasenotes/notes/remove-nodeuserdata-196f895580335eb9.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/79ec0603f32067da6bce55f2e2187a9cf3140b80', 'message': 'Remove usage of cloud-init + userdata\n\n... because this method is no longer available since we switched to\nnova-less deployment of baremetal nodes.\n\nNote that the firstboot directory is still kept, because the directory\nis still required when building the tht package. This will be removed\nonce the spec file is updated.\n\nChange-Id: I1709fb01b26d82737b6ccdff27250464382e39ee\n'}]",4,848702,79ec0603f32067da6bce55f2e2187a9cf3140b80,20,5,5,9816,,,0,"Remove usage of cloud-init + userdata

... because this method is no longer available since we switched to
nova-less deployment of baremetal nodes.

Note that the firstboot directory is still kept, because the directory
is still required when building the tht package. This will be removed
once the spec file is updated.

Change-Id: I1709fb01b26d82737b6ccdff27250464382e39ee
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/848702/1 && git format-patch -1 --stdout FETCH_HEAD,"['firstboot/conntectx3_streering.yaml', 'firstboot/userdata_heat_admin.yaml', 'firstboot/os-net-config-mappings.yaml', 'overcloud.j2.yaml', 'firstboot/nvidia_firstboot.yaml', 'puppet/role.role.j2.yaml', 'deployed-server/deployed-server.yaml', 'firstboot/userdata_root_password.yaml', 'firstboot/userdata_dev_rsync.yaml', 'firstboot/userdata_example.yaml', 'firstboot/userdata_timesync.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'firstboot/userdata_default.yaml', 'releasenotes/notes/remove-nodeuserdata-196f895580335eb9.yaml']",14,ab75069d866938e2d6e3cf4c75190ad527ab8962,uc-nova-rsc-cleanup,"--- upgrade: - | The configuration hook using cloud-init and node user data has been removed becuase this method is no longer available since Nova was removed from Undercloud. Because of this change, any reference to the following two resource types should be removed during upgrade. - ``OS::TripleO::NodeUserData`` - ``OS::TripleO::{{role.name}}::NodeUserData`` ",,11,1179
openstack%2Fos-brick~master~Idb8b0c22a30e52c7f84a54dd9f410ff657f502a4,openstack/os-brick,master,Idb8b0c22a30e52c7f84a54dd9f410ff657f502a4,Read HBA information from sysfs,MERGED,2022-06-24 11:09:58.000000000,2022-07-06 04:00:56.000000000,2022-07-05 18:34:02.000000000,"[{'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-06-24 11:09:58.000000000', 'files': ['releasenotes/notes/no-systool-use-b7bc430de1033670.yaml', 'os_brick/initiator/linuxfc.py', 'os_brick/tests/initiator/test_linuxfc.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c5076c37cb674dd0aa2102b6b2721cc4b22ca898', 'message': 'Read HBA information from sysfs\n\nWe were gathering HBA information using the systool command line tool,\nbut this tool is no longer going to be packaged in some Operating\nSystems, for example in RHEL9 where the sysfsutils package is being\nremoved.\n\nTo prevent os-brick from breaking in those systems this patch removes\nthe usage of the command and reads the necessary information from sysfs.\n\nConveniently reading from sysfs should also be faster because we no\nlonger need to make a privsep call to run a command, instead we are\nreading the minimum number of files and information possible.\n\nChange-Id: Idb8b0c22a30e52c7f84a54dd9f410ff657f502a4\n'}]",9,847567,c5076c37cb674dd0aa2102b6b2721cc4b22ca898,18,3,1,9535,,,0,"Read HBA information from sysfs

We were gathering HBA information using the systool command line tool,
but this tool is no longer going to be packaged in some Operating
Systems, for example in RHEL9 where the sysfsutils package is being
removed.

To prevent os-brick from breaking in those systems this patch removes
the usage of the command and reads the necessary information from sysfs.

Conveniently reading from sysfs should also be faster because we no
longer need to make a privsep call to run a command, instead we are
reading the minimum number of files and information possible.

Change-Id: Idb8b0c22a30e52c7f84a54dd9f410ff657f502a4
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/67/847567/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/no-systool-use-b7bc430de1033670.yaml', 'os_brick/initiator/linuxfc.py', 'os_brick/tests/initiator/test_linuxfc.py']",3,c5076c37cb674dd0aa2102b6b2721cc4b22ca898,fc-replace-systool-call," @mock.patch('glob.glob', return_value=[]) def test_get_fc_hbas_no_hbas(self, mock_glob): self.assertListEqual([], hbas) mock_glob.assert_called_once_with('/sys/class/fc_host/*') @mock.patch('os.path.realpath') @mock.patch('glob.glob', return_value=['/sys/class/fc_host/host0', '/sys/class/fc_host/host2']) @mock.patch('builtins.open', side_effect=IOError) def test_get_fc_hbas_fail(self, mock_open, mock_glob, mock_path): mock_glob.assert_called_once_with('/sys/class/fc_host/*') self.assertListEqual([], hbas) self.assertEqual(2, mock_open.call_count) mock_open.assert_has_calls( (mock.call('/sys/class/fc_host/host0/port_name', 'rt'), mock.call('/sys/class/fc_host/host2/port_name', 'rt')) ) self.assertEqual(2, mock_path.call_count) mock_path.assert_has_calls( (mock.call('/sys/class/fc_host/host0'), mock.call('/sys/class/fc_host/host2')) ) @mock.patch('os.path.realpath') @mock.patch('glob.glob', return_value=['/sys/class/fc_host/host0', '/sys/class/fc_host/host2']) @mock.patch('builtins.open') def test_get_fc_hbas(self, mock_open, mock_glob, mock_path): mock_open.return_value.__enter__.return_value.read.side_effect = [ '0x50014380242b9750\n', '0x50014380242b9751\n', 'Online', '0x50014380242b9752\n', '0x50014380242b9753\n', 'Online', ] pci_path = '/sys/devices/pci0000:20/0000:20:03.0/0000:21:00.' host0_pci = f'{pci_path}0/host0/fc_host/host0' host2_pci = f'{pci_path}1/host2/fc_host/host2' mock_path.side_effect = [host0_pci, host2_pci] hbas = self.lfc.get_fc_hbas() expected = [ {'ClassDevice': 'host0', 'ClassDevicepath': host0_pci, 'port_name': '0x50014380242b9750', 'node_name': '0x50014380242b9751', 'port_state': 'Online'}, {'ClassDevice': 'host2', 'ClassDevicepath': host2_pci, 'port_name': '0x50014380242b9752', 'node_name': '0x50014380242b9753', 'port_state': 'Online'}, ] self.assertListEqual(expected, hbas) mock_glob.assert_called_once_with('/sys/class/fc_host/*') self.assertEqual(6, mock_open.call_count) mock_open.assert_has_calls( (mock.call('/sys/class/fc_host/host0/port_name', 'rt'), mock.call('/sys/class/fc_host/host0/node_name', 'rt'), mock.call('/sys/class/fc_host/host0/port_state', 'rt'), mock.call('/sys/class/fc_host/host2/port_name', 'rt'), mock.call('/sys/class/fc_host/host2/node_name', 'rt'), mock.call('/sys/class/fc_host/host2/port_state', 'rt')), any_order=True, ) self.assertEqual(2, mock_path.call_count) mock_path.assert_has_calls( (mock.call('/sys/class/fc_host/host0'), mock.call('/sys/class/fc_host/host2')) ) def _set_get_fc_hbas(self): pci_path = '/sys/devices/pci0000:20/0000:20:03.0/0000:21:00.' host0_pci = f'{pci_path}0/host0/fc_host/host0' host2_pci = f'{pci_path}1/host2/fc_host/host2' return_value = [{'ClassDevice': 'host0', 'ClassDevicepath': host0_pci, 'port_name': '0x50014380242b9750', 'node_name': '0x50014380242b9751', 'port_state': 'Online'}, {'ClassDevice': 'host2', 'ClassDevicepath': host2_pci, 'port_name': '0x50014380242b9752', 'node_name': '0x50014380242b9753', 'port_state': 'Online'}] mocked = self.mock_object(linuxfc.LinuxFibreChannel, 'get_fc_hbas', return_value=return_value) return mocked mock_hbas = self._set_get_fc_hbas() self.assertListEqual(expected_info, hbas_info) mock_hbas.assert_called_once_with() self._set_get_fc_hbas() self._set_get_fc_hbas() wwnns = self.lfc.get_fc_wwnns() expected_wwnns = ['50014380242b9751', '50014380242b9753'] @mock.patch.object(linuxfc.LinuxFibreChannel, 'get_fc_hbas') def test_get_fc_hbas_info(self, mock_hbas): host_pci = '/sys/devices/css0/0.0.02ea/0.0.3080/host0/fc_host/host0' mock_hbas.return_value = [{'ClassDevice': 'host0', 'ClassDevicepath': host_pci, 'port_name': '0xc05076ffe680a960', 'node_name': '0x1234567898765432', 'port_state': 'Online'}]"," def test_has_fc_support(self): self.mock_object(os.path, 'isdir', return_value=False) has_fc = self.lfc.has_fc_support() self.assertFalse(has_fc) self.mock_object(os.path, 'isdir', return_value=True) has_fc = self.lfc.has_fc_support() self.assertTrue(has_fc) def test_get_fc_hbas_fail(self): def fake_exec1(a, b, c, d, run_as_root=True, root_helper='sudo'): raise OSError def fake_exec2(a, b, c, d, run_as_root=True, root_helper='sudo'): return None, 'None found' self.lfc._execute = fake_exec1 self.assertEqual(0, len(hbas)) self.lfc._execute = fake_exec2 hbas = self.lfc.get_fc_hbas() self.assertEqual(0, len(hbas)) def test_get_fc_hbas(self): def fake_exec(a, b, c, d, run_as_root=True, root_helper='sudo'): return SYSTOOL_FC, None self.lfc._execute = fake_exec self.assertEqual(2, len(hbas)) hba1 = hbas[0] self.assertEqual(""host0"", hba1[""ClassDevice""]) hba2 = hbas[1] self.assertEqual(""host2"", hba2[""ClassDevice""]) def fake_exec(a, b, c, d, run_as_root=True, root_helper='sudo'): return SYSTOOL_FC, None self.lfc._execute = fake_exec self.assertEqual(expected_info, hbas_info) def fake_exec(a, b, c, d, run_as_root=True, root_helper='sudo'): return SYSTOOL_FC, None self.lfc._execute = fake_exec def fake_exec(a, b, c, d, run_as_root=True, root_helper='sudo'): return SYSTOOL_FC, None self.lfc._execute = fake_exec wwnns = self.lfc.get_fc_wwpns() expected_wwnns = ['50014380242b9750', '50014380242b9752']SYSTOOL_FC = """""" Class = ""fc_host"" Class Device = ""host0"" Class Device path = ""/sys/devices/pci0000:20/0000:20:03.0/\ 0000:21:00.0/host0/fc_host/host0"" dev_loss_tmo = ""16"" fabric_name = ""0x100000051ea338b9"" issue_lip = <store method only> max_npiv_vports = ""0"" node_name = ""0x50014380242b9751"" npiv_vports_inuse = ""0"" port_id = ""0x960d0d"" port_name = ""0x50014380242b9750"" port_state = ""Online"" port_type = ""NPort (fabric via point-to-point)"" speed = ""8 Gbit"" supported_classes = ""Class 3"" supported_speeds = ""1 Gbit, 2 Gbit, 4 Gbit, 8 Gbit"" symbolic_name = ""QMH2572 FW:v4.04.04 DVR:v8.03.07.12-k"" system_hostname = """" tgtid_bind_type = ""wwpn (World Wide Port Name)"" uevent = vport_create = <store method only> vport_delete = <store method only> Device = ""host0"" Device path = ""/sys/devices/pci0000:20/0000:20:03.0/0000:21:00.0/host0"" edc = <store method only> optrom_ctl = <store method only> reset = <store method only> uevent = ""DEVTYPE=scsi_host"" Class Device = ""host2"" Class Device path = ""/sys/devices/pci0000:20/0000:20:03.0/\ 0000:21:00.1/host2/fc_host/host2"" dev_loss_tmo = ""16"" fabric_name = ""0x100000051ea33b79"" issue_lip = <store method only> max_npiv_vports = ""0"" node_name = ""0x50014380242b9753"" npiv_vports_inuse = ""0"" port_id = ""0x970e09"" port_name = ""0x50014380242b9752"" port_state = ""Online"" port_type = ""NPort (fabric via point-to-point)"" speed = ""8 Gbit"" supported_classes = ""Class 3"" supported_speeds = ""1 Gbit, 2 Gbit, 4 Gbit, 8 Gbit"" symbolic_name = ""QMH2572 FW:v4.04.04 DVR:v8.03.07.12-k"" system_hostname = """" tgtid_bind_type = ""wwpn (World Wide Port Name)"" uevent = vport_create = <store method only> vport_delete = <store method only> Device = ""host2"" Device path = ""/sys/devices/pci0000:20/0000:20:03.0/0000:21:00.1/host2"" edc = <store method only> optrom_ctl = <store method only> reset = <store method only> uevent = ""DEVTYPE=scsi_host"" """""" def test_get_fc_hbas_info(self): def fake_exec(a, b, c, d, run_as_root=True, root_helper='sudo'): return SYSTOOL_FC_S390X, None self.lfc._execute = fake_exec SYSTOOL_FC_S390X = """""" Class = ""fc_host"" Class Device = ""host0"" Class Device path = ""/sys/devices/css0/0.0.02ea/0.0.3080/host0/fc_host/host0"" active_fc4s = ""0x00 0x00 0x01 0x00 0x00 0x00 0x00 0x00 0x00 0x00 \ 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 \ 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 "" dev_loss_tmo = ""60"" maxframe_size = ""2112 bytes"" node_name = ""0x1234567898765432"" permanent_port_name = ""0xc05076ffe6803081"" port_id = ""0x010014"" port_name = ""0xc05076ffe680a960"" port_state = ""Online"" port_type = ""NPIV VPORT"" serial_number = ""IBM00000000000P30"" speed = ""8 Gbit"" supported_classes = ""Class 2, Class 3"" supported_fc4s = ""0x00 0x00 0x01 0x00 0x00 0x00 0x00 0x00 0x00 0x00 \ 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 \ 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 "" supported_speeds = ""2 Gbit, 4 Gbit"" symbolic_name = ""IBM 2827 00000000000P30 \ PCHID: 0308 NPIV UlpId: 01EA0A00 DEVNO: 0.0.1234 NAME: dummy"" tgtid_bind_type = ""wwpn (World Wide Port Name)"" uevent = Device = ""host0"" Device path = ""/sys/devices/css0/0.0.02ea/0.0.3080/host0"" uevent = ""DEVTYPE=scsi_host"" """"""",122,220
openstack%2Ftripleo-ansible~master~Idd526622c2c7ecf84ecde23311c5fbae9be82a0b,openstack/tripleo-ansible,master,Idd526622c2c7ecf84ecde23311c5fbae9be82a0b,[update] Tell subscription-manager it's not running in a container.,MERGED,2022-07-05 14:00:24.000000000,2022-07-06 03:34:15.000000000,2022-07-06 03:34:15.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 32432}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-07-05 14:00:24.000000000', 'files': ['tripleo_ansible/roles/tripleo_redhat_enforce/tasks/enforce_release.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/49658db7be3b10a2ae20a2b8cad6205fd7d4b4f9', 'message': ""[update] Tell subscription-manager it's not running in a container.\n\nDue to issue in podman[1], some file on the hypervisor might fool\nsubscription-manager into thinking that it's running inside a\ncontainer.\n\nWe hardcode the fact that it's not so that we are not impacted.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2097694\n\nChange-Id: Idd526622c2c7ecf84ecde23311c5fbae9be82a0b\n""}]",0,848743,49658db7be3b10a2ae20a2b8cad6205fd7d4b4f9,10,7,1,8297,,,0,"[update] Tell subscription-manager it's not running in a container.

Due to issue in podman[1], some file on the hypervisor might fool
subscription-manager into thinking that it's running inside a
container.

We hardcode the fact that it's not so that we are not impacted.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2097694

Change-Id: Idd526622c2c7ecf84ecde23311c5fbae9be82a0b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/43/848743/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_redhat_enforce/tasks/enforce_release.yml'],1,49658db7be3b10a2ae20a2b8cad6205fd7d4b4f9,, environment: SMDEV_CONTAINER_OFF: True,,2,0
openstack%2Fpython-heatclient~master~I17397bc202a08de63b715fa15d0f33754393c226,openstack/python-heatclient,master,I17397bc202a08de63b715fa15d0f33754393c226,Require int value for --limit option,NEW,2022-05-25 05:58:28.000000000,2022-07-06 01:54:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-25 05:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/52781ee36effacce42b61d2f59c714ea955c237d', 'message': ""Require int value for --limit option\n\nCurrently the value passed to the --limit option is not validated as\npart of argument parser and results in an ugly error.\n\n$ openstack stack list --limit a\ninvalid literal for int() with base 10: 'a'\n$\n\nThis enables the validation in argument parser to require integer,\nwhich shows more clear error.\n\n$ openstack stack list --limit a\nopenstack stack list: error: argument --limit: invalid int value: 'a'\n$\n\nChange-Id: I17397bc202a08de63b715fa15d0f33754393c226\n""}, {'number': 2, 'created': '2022-05-25 06:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/e8a72370e05f3f0ae34239b57ece536f3832149b', 'message': ""Require int value for --limit option\n\nCurrently the value passed to the --limit option is not validated as\npart of argument parser and results in an ugly error.\n\n$ openstack stack list --limit a\ninvalid literal for int() with base 10: 'a'\n$\n\nThis enables the validation in argument parser to require integer,\nwhich shows more clear error.\n\n$ openstack stack list --limit a\nopenstack stack list: error: argument --limit: invalid int value: 'a'\n$\n\nChange-Id: I17397bc202a08de63b715fa15d0f33754393c226\n""}, {'number': 3, 'created': '2022-05-25 08:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/2a2555390ec1f96605991de1deec4ea02bcaf173', 'message': ""Require int value for --limit option\n\nCurrently the value passed to the --limit option is not validated as\npart of argument parser and results in an ugly error.\n\n$ openstack stack list --limit a\ninvalid literal for int() with base 10: 'a'\n$\n\nThis enables the validation in argument parser to require integer,\nwhich shows more clear error.\n\n$ openstack stack list --limit a\nopenstack stack list: error: argument --limit: invalid int value: 'a'\n$\n\nChange-Id: I17397bc202a08de63b715fa15d0f33754393c226\n""}, {'number': 4, 'created': '2022-07-06 01:11:36.000000000', 'files': ['heatclient/osc/v1/stack.py', 'heatclient/osc/v1/software_config.py', 'heatclient/tests/unit/osc/v1/test_software_config.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/93411beff0aca47041ef03eb636ea0e597ef8fed', 'message': ""Require int value for --limit option\n\nCurrently the value passed to the --limit option is not validated as\npart of argument parser and results in an ugly error.\n\n$ openstack stack list --limit a\ninvalid literal for int() with base 10: 'a'\n$\n\nThis enables the validation in argument parser to require integer,\nwhich shows more clear error.\n\n$ openstack stack list --limit a\nopenstack stack list: error: argument --limit: invalid int value: 'a'\n$\n\nChange-Id: I17397bc202a08de63b715fa15d0f33754393c226\n""}]",1,843236,93411beff0aca47041ef03eb636ea0e597ef8fed,10,1,4,9816,,,0,"Require int value for --limit option

Currently the value passed to the --limit option is not validated as
part of argument parser and results in an ugly error.

$ openstack stack list --limit a
invalid literal for int() with base 10: 'a'
$

This enables the validation in argument parser to require integer,
which shows more clear error.

$ openstack stack list --limit a
openstack stack list: error: argument --limit: invalid int value: 'a'
$

Change-Id: I17397bc202a08de63b715fa15d0f33754393c226
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/36/843236/2 && git format-patch -1 --stdout FETCH_HEAD,"['heatclient/osc/v1/stack.py', 'heatclient/osc/v1/software_config.py']",2,52781ee36effacce42b61d2f59c714ea955c237d,," type=int,",,2,0
openstack%2Fpython-openstackclient~stable%2Fussuri~I186adc8cdf28e9c540ad22bca6684d9dd892976a,openstack/python-openstackclient,stable/ussuri,I186adc8cdf28e9c540ad22bca6684d9dd892976a,compute: Add missing options for 'server group list',MERGED,2022-07-04 03:27:06.000000000,2022-07-06 01:44:59.000000000,2022-07-06 01:43:13.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-04 03:27:06.000000000', 'files': ['openstackclient/compute/v2/server_group.py', 'releasenotes/notes/add-missing-server-group-list-opts-d3c3d98b7f7a56a6.yaml', 'openstackclient/tests/unit/compute/v2/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f0d21237a2de3d11ca68fee321dd0f8a724e1871', 'message': ""compute: Add missing options for 'server group list'\n\nAdd pagination parameters, '--limit' and '--offset'. It's unfortunate\nthat we can't use '--marker' like elsewhere but that requires\nserver-side support to be truly effective.\n\nChange-Id: I186adc8cdf28e9c540ad22bca6684d9dd892976a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit 5ec4d4c7188f4766d270be32e12b64b709d2b835)\n""}]",2,848506,f0d21237a2de3d11ca68fee321dd0f8a724e1871,9,2,1,5112,,,0,"compute: Add missing options for 'server group list'

Add pagination parameters, '--limit' and '--offset'. It's unfortunate
that we can't use '--marker' like elsewhere but that requires
server-side support to be truly effective.

Change-Id: I186adc8cdf28e9c540ad22bca6684d9dd892976a
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit 5ec4d4c7188f4766d270be32e12b64b709d2b835)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/06/848506/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/server_group.py', 'releasenotes/notes/add-missing-server-group-list-opts-d3c3d98b7f7a56a6.yaml', 'openstackclient/tests/unit/compute/v2/test_server_group.py']",3,f0d21237a2de3d11ca68fee321dd0f8a724e1871,osc-first-stable/ussuri," ('limit', None), ('offset', None), self.server_groups_mock.list.assert_called_once_with() ('limit', None), ('offset', None), self.server_groups_mock.list.assert_called_once_with( all_projects=True) def test_server_group_list_with_limit(self): arglist = [ '--limit', '1', ] verifylist = [ ('all_projects', False), ('long', False), ('limit', 1), ('offset', None), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.server_groups_mock.list.assert_called_once_with(limit=1) def test_server_group_list_with_offset(self): arglist = [ '--offset', '5', ] verifylist = [ ('all_projects', False), ('long', False), ('limit', None), ('offset', 5), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.server_groups_mock.list.assert_called_once_with(offset=5) self.server_groups_mock.list.assert_called_once_with() self.server_groups_mock.list.assert_called_once_with( all_projects=True)", self.server_groups_mock.list.assert_called_once_with(False) self.server_groups_mock.list.assert_called_once_with(True) self.server_groups_mock.list.assert_called_once_with(False) self.server_groups_mock.list.assert_called_once_with(True),85,5
openstack%2Fpython-openstackclient~stable%2Fussuri~Ica3320242a38901c1180b2b29109c9474366fde0,openstack/python-openstackclient,stable/ussuri,Ica3320242a38901c1180b2b29109c9474366fde0,compute: Show flavor in 'server list' with API >= 2.47,MERGED,2021-12-08 20:35:19.000000000,2022-07-06 01:44:10.000000000,2022-07-06 01:43:07.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 29307}]","[{'number': 1, 'created': '2021-12-08 20:35:19.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py', 'releasenotes/notes/fix-flavor-in-server-list-microversion-2.47-af200e9bb4747e2d.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0a6babc04ce53a9234521e0549ba11b725d20bf7', 'message': ""compute: Show flavor in 'server list' with API >= 2.47\n\nFix the issue where the flavor name was empty in server list output.\nThis requires somewhat invasive unit test changes to reflect the changed\nAPI response from the server, but this has the upside of meaning we\ndon't need new tests since what we have validates things.\nAlso drop the flavor ID column as it is removed from the compute API.\n\nConflicts:\n    openstackclient/tests/unit/compute/v2/test_server.py\n\nNOTE(melwitt): The conflict and differences from the cherry picked\nchange are because change I9c62cf6fe23b2e934dcbf5ebbf706b2705d2e424\n(Show words indicating booted from volume for server image) is not in\nUssuri.\n\nChange-Id: Ica3320242a38901c1180b2b29109c9474366fde0\nSigned-off-by: Khomesh Thakre <khomeshthakre24@gmail.com>\nStory: 2008257\nTask: 41113\n(cherry picked from commit 8e362402dee07744668bcf7f6774af4fbe9a07e3)\n(cherry picked from commit 0873e7580eceab07c3be0824d2ea4163491f8d6e)\n(cherry picked from commit 4b7e777c0ce19aa67a9a33cbeb3b4ee2b052383f)\n(cherry picked from commit fef473390c7bb6874a38b98053e54cf18547b23c)\n""}]",1,821123,0a6babc04ce53a9234521e0549ba11b725d20bf7,8,3,1,4690,,,0,"compute: Show flavor in 'server list' with API >= 2.47

Fix the issue where the flavor name was empty in server list output.
This requires somewhat invasive unit test changes to reflect the changed
API response from the server, but this has the upside of meaning we
don't need new tests since what we have validates things.
Also drop the flavor ID column as it is removed from the compute API.

Conflicts:
    openstackclient/tests/unit/compute/v2/test_server.py

NOTE(melwitt): The conflict and differences from the cherry picked
change are because change I9c62cf6fe23b2e934dcbf5ebbf706b2705d2e424
(Show words indicating booted from volume for server image) is not in
Ussuri.

Change-Id: Ica3320242a38901c1180b2b29109c9474366fde0
Signed-off-by: Khomesh Thakre <khomeshthakre24@gmail.com>
Story: 2008257
Task: 41113
(cherry picked from commit 8e362402dee07744668bcf7f6774af4fbe9a07e3)
(cherry picked from commit 0873e7580eceab07c3be0824d2ea4163491f8d6e)
(cherry picked from commit 4b7e777c0ce19aa67a9a33cbeb3b4ee2b052383f)
(cherry picked from commit fef473390c7bb6874a38b98053e54cf18547b23c)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/23/821123/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py', 'releasenotes/notes/fix-flavor-in-server-list-microversion-2.47-af200e9bb4747e2d.yaml']",3,0a6babc04ce53a9234521e0549ba11b725d20bf7,,"--- features: - | Add support for compute API microversion 2.47, which changes how flavor details are included in server detail responses. In 2.46 and below, only the flavor ID was shown in the server detail response. Starting in 2.47, flavor information is embedded in the server response. The newer behavior is now supported. ",,241,145
openstack%2Fpython-openstackclient~stable%2Fussuri~I7d70eac8aa1a6197ed05a49f071e6899ec219c03,openstack/python-openstackclient,stable/ussuri,I7d70eac8aa1a6197ed05a49f071e6899ec219c03,compute: Reorder building of columns for 'server list',MERGED,2021-12-08 20:35:19.000000000,2022-07-06 01:22:51.000000000,2022-07-06 01:20:45.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-08 20:35:19.000000000', 'files': ['openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/03859c6c68bcbfa229d40237a28a7877d7286249', 'message': ""compute: Reorder building of columns for 'server list'\n\nThis has no impact on the end result, but it should make fixing issues\nintroduced by API microversion 2.69 a little easier.\n\nConflicts:\n    openstackclient/compute/v2/server.py\n\nNOTE(melwitt): The conflict is because change\nI9c62cf6fe23b2e934dcbf5ebbf706b2705d2e424 (Show words indicating booted\nfrom volume for server image) is not in Ussuri.\n\nChange-Id: I7d70eac8aa1a6197ed05a49f071e6899ec219c03\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit 4c3de28e83babb0672950320a20492dc61803b4a)\n(cherry picked from commit f4adbcef7b1b18d9454109a020e5e2c6ad78b5f1)\n(cherry picked from commit cb621f22d4547c20f5722058be8d99de936a48c6)\n(cherry picked from commit 3c280727e7da7661e4a31266b11f5eb0893fdb0f)\n""}]",2,821122,03859c6c68bcbfa229d40237a28a7877d7286249,9,2,1,4690,,,0,"compute: Reorder building of columns for 'server list'

This has no impact on the end result, but it should make fixing issues
introduced by API microversion 2.69 a little easier.

Conflicts:
    openstackclient/compute/v2/server.py

NOTE(melwitt): The conflict is because change
I9c62cf6fe23b2e934dcbf5ebbf706b2705d2e424 (Show words indicating booted
from volume for server image) is not in Ussuri.

Change-Id: I7d70eac8aa1a6197ed05a49f071e6899ec219c03
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit 4c3de28e83babb0672950320a20492dc61803b4a)
(cherry picked from commit f4adbcef7b1b18d9454109a020e5e2c6ad78b5f1)
(cherry picked from commit cb621f22d4547c20f5722058be8d99de936a48c6)
(cherry picked from commit 3c280727e7da7661e4a31266b11f5eb0893fdb0f)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/22/821122/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,03859c6c68bcbfa229d40237a28a7877d7286249,," flavor_id = utils.find_resource( compute_client.flavors, parsed_args.flavor, ).id image_id = image_client.find_image( parsed_args.image, ignore_missing=False, ).id msg = _('Invalid changes-since value: %s') msg % search_opts['changes-since'] columns = ( 'id', 'name', 'status', ) column_headers = ( 'ID', 'Name', 'Status', ) if parsed_args.long: columns += ( column_headers += ( ) columns += ('networks',) column_headers += ('Networks',) if parsed_args.long: columns += ( 'image_name', 'image_id', ) column_headers += ( ) else: if parsed_args.no_name_lookup: columns += ('image_id',) else: columns += ('image_name',) column_headers += ('Image',) if parsed_args.long: columns += ( 'flavor_name', 'flavor_id', ) column_headers += ( ) else: if parsed_args.no_name_lookup: columns += ('flavor_id',) else: columns += ('flavor_name',) column_headers += ('Flavor',) if parsed_args.long: columns += ( 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', 'metadata', ) column_headers += ( marker_id = utils.find_resource( compute_client.servers, parsed_args.marker, ).id data = compute_client.servers.list( search_opts=search_opts, marker=marker_id, limit=parsed_args.limit) # create a dict that maps image_id to image object, which is used # to display the ""Image Name"" column. Note that 'image.id' can be # empty for BFV instances and 'image' can be missing entirely if # there are infra failures if parsed_args.name_lookup_one_by_one or image_id: for i_id in set( s.image['id'] for s in data if s.image and s.image.get('id') ): # ""Image Name"" is not crucial, so we swallow any exceptions # create a dict that maps flavor_id to flavor object, which is used # to display the ""Flavor Name"" column. Note that 'flavor.id' is not # present on microversion 2.47 or later and 'flavor' won't be # present if there are infra failures if parsed_args.name_lookup_one_by_one or flavor_id: for f_id in set( s.flavor['id'] for s in data if s.flavor and s.flavor.get('id') ): # ""Flavor Name"" is not crucial, so we swallow any # exceptions mixed_case_fields=( 'OS-EXT-STS:task_state', 'OS-EXT-STS:power_state', 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', ), 'networks': _format_servers_list_networks, 'metadata': utils.format_dict,"," flavor_id = utils.find_resource(compute_client.flavors, parsed_args.flavor).id image_id = image_client.find_image(parsed_args.image, ignore_missing=False).id _('Invalid changes-since value: %s') % search_opts['changes-since'] if parsed_args.long: columns = ( 'ID', 'Name', 'Status', 'Networks', 'Image Name', 'Image ID', 'Flavor Name', 'Flavor ID', 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', 'Metadata', column_headers = ( 'ID', 'Name', 'Status', 'Networks', mixed_case_fields = [ 'OS-EXT-STS:task_state', 'OS-EXT-STS:power_state', 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', ] else: if parsed_args.no_name_lookup: columns = ( 'ID', 'Name', 'Status', 'Networks', 'Image ID', 'Flavor ID', ) else: columns = ( 'ID', 'Name', 'Status', 'Networks', 'Image Name', 'Flavor Name', ) column_headers = ( 'ID', 'Name', 'Status', 'Networks', 'Image', 'Flavor', ) mixed_case_fields = [] marker_id = utils.find_resource(compute_client.servers, parsed_args.marker).id data = compute_client.servers.list(search_opts=search_opts, marker=marker_id, limit=parsed_args.limit) # Create a dict that maps image_id to image object. # Needed so that we can display the ""Image Name"" column. # ""Image Name"" is not crucial, so we swallow any exceptions. # The 'image' attribute can be an empty string if the server was # booted from a volume. if parsed_args.name_lookup_one_by_one or image_id: for i_id in set(filter(lambda x: x is not None, (s.image.get('id') for s in data if s.image))): # Create a dict that maps flavor_id to flavor object. # Needed so that we can display the ""Flavor Name"" column. # ""Flavor Name"" is not crucial, so we swallow any exceptions. if parsed_args.name_lookup_one_by_one or flavor_id: for f_id in set(filter(lambda x: x is not None, (s.flavor.get('id') for s in data))): mixed_case_fields=mixed_case_fields, 'Networks': _format_servers_list_networks, 'Metadata': utils.format_dict,",100,78
openstack%2Fmanila~master~I86dc498f1db16794a647ddd289bfb325a218b4a7,openstack/manila,master,I86dc498f1db16794a647ddd289bfb325a218b4a7,Add FIPS testing job,MERGED,2021-09-24 18:31:48.000000000,2022-07-06 01:22:44.000000000,2022-07-06 01:20:02.000000000,"[{'_account_id': 9914}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30025}, {'_account_id': 32411}, {'_account_id': 32594}]","[{'number': 1, 'created': '2021-09-24 18:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9a73981a4fc29f379af2557edd2f0fc626a31890', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 2, 'created': '2021-09-24 20:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c818527a6bf46b9c99817609aec1d307296b4b6b', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 3, 'created': '2021-09-28 17:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7412cfb27a294079b68482f8f1450cdc30274941', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 4, 'created': '2021-09-30 19:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d93c44c1bb76b3378f1abfb9b5b4a44ac22a1bac', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 5, 'created': '2021-09-30 19:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/90be4fead330c550b439c738d645d5154319d66c', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 6, 'created': '2021-10-06 18:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bd290c55c151f7944d9313349ffce85ac8f115a1', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 7, 'created': '2021-10-06 18:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1e1b0e43af9f486eacf05b535cd4a93396391d0b', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 8, 'created': '2021-10-06 20:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b44dece0d6d9311fa9a63336fc7c5658de4f43a9', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 9, 'created': '2021-10-06 20:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/10c6482fd4ef84bcd6a0e9be6ad68bda7aa01c6b', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 10, 'created': '2021-10-06 21:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9ec7242e7e194df15eec0e6c3bbfcb2b84ef458f', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 11, 'created': '2021-10-07 13:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cd47b44e336abc727c5c90fdf840c891529997c8', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 12, 'created': '2021-10-11 14:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/295cf4cb44da90338dd33d210b29a70882b79032', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: If27b488cfec29731b74e7db774c4811b0e34c14e\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 13, 'created': '2021-10-11 17:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6f2289ee8f007c0a1e204eea21aa7f0ecc900a5f', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: If27b488cfec29731b74e7db774c4811b0e34c14e\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 14, 'created': '2021-10-11 19:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9c245377a904237c4e659f6772d2fc358c901ba0', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: If27b488cfec29731b74e7db774c4811b0e34c14e\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 15, 'created': '2021-10-13 22:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e47aa8adf8333a76450261ab737bf2027a328da7', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: If27b488cfec29731b74e7db774c4811b0e34c14e\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I1bd57eec3474768596cfab1bf2f8eb6123cc95a8\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 16, 'created': '2021-10-14 13:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f7e69ac12ad9ad31518b51c0976e6c5fe667fd84', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: I891fd8131623a927fef637d4acac574a8fb18c10\nDepends-On: If27b488cfec29731b74e7db774c4811b0e34c14e\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I1bd57eec3474768596cfab1bf2f8eb6123cc95a8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 17, 'created': '2021-10-15 14:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c35cf0e5fb0269b8b3838ebe10cd8dfa7ab63b2f', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Ib59eb8432fa1a2813b3047955157d1b3d24a55f8\nDepends-On: If27b488cfec29731b74e7db774c4811b0e34c14e\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I1bd57eec3474768596cfab1bf2f8eb6123cc95a8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 18, 'created': '2021-10-15 17:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/49a6cff7ea2fab0278520a6fbd439cc2fe95b3bb', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: I891fd8131623a927fef637d4acac574a8fb18c10\nDepends-On: If27b488cfec29731b74e7db774c4811b0e34c14e\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I1bd57eec3474768596cfab1bf2f8eb6123cc95a8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 19, 'created': '2021-10-28 20:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f99799913ddd798655ceda4d62d0d2946b86afa5', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: I891fd8131623a927fef637d4acac574a8fb18c10\nDepends-On: If27b488cfec29731b74e7db774c4811b0e34c14e\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I1bd57eec3474768596cfab1bf2f8eb6123cc95a8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 20, 'created': '2021-10-28 20:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1f1171f74adadc23d1e0f035608ac3822b38dda5', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: I891fd8131623a927fef637d4acac574a8fb18c10\nDepends-On: If27b488cfec29731b74e7db774c4811b0e34c14e\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I1bd57eec3474768596cfab1bf2f8eb6123cc95a8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 21, 'created': '2021-10-29 14:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/eb7cac5f19752728572d51cdfd846c3001ef1ad9', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: I891fd8131623a927fef637d4acac574a8fb18c10\nDepends-On: If27b488cfec29731b74e7db774c4811b0e34c14e\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I1bd57eec3474768596cfab1bf2f8eb6123cc95a8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 22, 'created': '2021-10-29 14:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c46d268357940b96696046e072a59b2d781d3ac7', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 23, 'created': '2021-11-04 19:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6422e2705a052a00a3aabfccaedd5edc35347ee8', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 24, 'created': '2021-11-04 19:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6198f74d3bdf450db3f2f4bca714642933559835', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 25, 'created': '2021-11-04 19:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d816c68151e5d78a2c2c2da3f227dd576fd729e2', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 26, 'created': '2021-11-04 20:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/070334cd326eeced790ed48a9b3386cd1e16a092', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 27, 'created': '2021-11-09 15:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/acacb1cda4e822aa295bdcd99df208090428476f', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 28, 'created': '2021-11-09 20:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1de3d6432006ee16f4ff06cc4b5b1da356ded0cb', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 29, 'created': '2021-11-10 14:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/65fb776ba485e7f8ef9cafe9b9735911e85818bd', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 30, 'created': '2021-11-10 19:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1e902dc4b76d7806254ebd5941ffa7712f337496', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 31, 'created': '2021-11-10 21:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cb556ba50772522558d4f7812a689a18b15c5130', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 32, 'created': '2021-11-11 14:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6cf7f3987f60a3277101d05b1cc6a974a0090afa', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 33, 'created': '2021-11-11 17:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d786cd8a47d6695767f0b8a9ff6803c296948a3c', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 34, 'created': '2021-11-11 20:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/898462a77c87466cadb3f619893cb80d48c28e9d', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 35, 'created': '2021-11-11 21:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/535c4b880124e547ffe01cf888c4e192f66058b9', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 36, 'created': '2021-11-11 21:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/939bb5cf7ecc9c7e78c48b1146c2cc5e0a3e944a', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 37, 'created': '2021-11-11 22:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a36fc56d34e36b507b1900c3c065d26e496dd9bc', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 38, 'created': '2021-11-11 22:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c32074007fb72fb32d5f46ab767720b09164442c', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: I0524554dae2d6970191ba3afa583480c391b5c3c\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 39, 'created': '2021-11-11 22:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ce6091a8aefc7e47b8e0456fa1a667cc1bb0276e', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 40, 'created': '2021-11-12 11:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/47991f498155273a61bc4b06526f236cb7f1fd76', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 41, 'created': '2021-11-12 13:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fae5fbdff417ead84d1344241f9d3401356653cb', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 42, 'created': '2021-11-12 17:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2a5108d64b2d6cb9e32b6a62c53c95b2bee22d6c', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 43, 'created': '2021-11-17 12:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f937f3a854da5dc57e1941d23ebc1096c89b58a7', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: I14768075a2ea60781e03e979b8f015ac0d7abd64\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 44, 'created': '2021-11-17 12:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/61dbaa89a2d55ca5b9c6003ee031897f415a7cc0', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 45, 'created': '2021-11-22 17:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4929213a82b18f74796fafd4d0b30ab68c9cd940', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 46, 'created': '2021-11-25 20:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/35de8e7c2d178f1530000d20939eefbd84dd6d41', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: Ia7d9b4b46b4ce9bede6fc03308c765a6521f5999\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 47, 'created': '2022-01-27 17:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/624d6e2c039830b22c117d9c110faa514f8b1c2e', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: Ia7d9b4b46b4ce9bede6fc03308c765a6521f5999\nDepends-On: https://review.opendev.org/c/openstack/manila/+/826686\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 48, 'created': '2022-02-02 11:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2c392c67e57ac473f4a4b2d038507ccc4df1a0be', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: Ia7d9b4b46b4ce9bede6fc03308c765a6521f5999\nDepends-On: https://review.opendev.org/c/openstack/manila/+/826686\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 49, 'created': '2022-02-04 18:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/09ba7c74fef29828f7f0122337e448dea5cb1d40', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: Ia7d9b4b46b4ce9bede6fc03308c765a6521f5999\nDepends-On: https://review.opendev.org/c/openstack/manila/+/826686\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 50, 'created': '2022-02-08 13:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/90da4656bc93d40def38c3c882cca4f55d4bc359', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/manila/+/826686\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: Ia7d9b4b46b4ce9bede6fc03308c765a6521f5999\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 51, 'created': '2022-02-08 15:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/88110a673741a338da975b8a17835af46411e8c2', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/manila/+/826686\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I2250cd6a3d6c62e3ae913d9f0a63fc7aaed33b78\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: Ia7d9b4b46b4ce9bede6fc03308c765a6521f5999\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 52, 'created': '2022-02-10 23:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9e0916ba2aef52b2010f0f73b846baacf60d7197', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/manila/+/826686\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: Ia7d9b4b46b4ce9bede6fc03308c765a6521f5999\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 53, 'created': '2022-02-15 17:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e127c63d5d475588d2dc675c86b24bc9028995ca', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: Ia7d9b4b46b4ce9bede6fc03308c765a6521f5999\nDepends-On: https://review.opendev.org/c/openstack/manila/+/826686\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 54, 'created': '2022-02-17 20:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/93049c0507528ac3677bbd4714773b68423b3737', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: Ia7d9b4b46b4ce9bede6fc03308c765a6521f5999\nDepends-On: https://review.opendev.org/c/openstack/manila/+/826686\nhttps://review.opendev.org/c/openstack/manila-tempest-plugin/+/829758\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 55, 'created': '2022-02-21 23:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d1f5b262bb17e76989917db6b5273aa0c6e8460a', 'message': 'WIP Add FIPS testing jobs\n\nAdd few new jobs to test FIPS compatibility with Manila upstream\nCI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: I899557250dbbd132f38be43ece4f595490eb1c53\nDepends-On: Ia7d9b4b46b4ce9bede6fc03308c765a6521f5999\nDepends-On: https://review.opendev.org/c/openstack/manila/+/826686\nDepends-On: https://review.opendev.org/c/openstack/manila-tempest-plugin/+/829758\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 56, 'created': '2022-02-22 13:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ad24ebb376ad9dcb05a5bb0cf63ee40e7fe1c87d', 'message': 'Add FIPS experimental testing job\n\nAdd few new experimental job to test FIPS compatibility\nwith Manila upstream CI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: Ia7d9b4b46b4ce9bede6fc03308c765a6521f5999\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 57, 'created': '2022-02-22 14:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c761701f7176921fe6480600c987b69eabdad07a', 'message': 'Add FIPS experimental testing job\n\nAdd few new experimental job to test FIPS compatibility\nwith Manila upstream CI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: Ia7d9b4b46b4ce9bede6fc03308c765a6521f5999\nDepends-On: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 58, 'created': '2022-03-07 20:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/088180a3f7c78890cc6294a3defde77b090742de', 'message': 'Add FIPS experimental testing job\n\nAdd few new experimental job to test FIPS compatibility\nwith Manila upstream CI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: I19ed529a1b55c75e8f48a52edc9095be97a485a5\nDepends-On: Ia7d9b4b46b4ce9bede6fc03308c765a6521f5999\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 59, 'created': '2022-03-31 17:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2063036389a81f2337f312aa8124c94bf4bdcd81', 'message': 'Add FIPS experimental testing job\n\nAdd few new experimental job to test FIPS compatibility\nwith Manila upstream CI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 60, 'created': '2022-03-31 17:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fcbdb12e773b0178e905f1d3203329f2f159e129', 'message': 'Add FIPS experimental testing job\n\nAdd few new experimental job to test FIPS compatibility\nwith Manila upstream CI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 61, 'created': '2022-04-07 12:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5e6d61c330a45965f3cb022697ccc8d120d43790', 'message': 'Add FIPS experimental testing job\n\nAdd few new experimental job to test FIPS compatibility\nwith Manila upstream CI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 62, 'created': '2022-04-12 14:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d046f0be42af58ec0805525c9d01c86b344537e9', 'message': 'Add FIPS experimental testing job\n\nAdd few new experimental job to test FIPS compatibility\nwith Manila upstream CI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/manila/+/819375\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 63, 'created': '2022-04-25 13:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a66386e8ff1706cd2a0ec0b858a64e6c5ee83a3e', 'message': 'Add FIPS experimental testing job\n\nAdd few new experimental job to test FIPS compatibility\nwith Manila upstream CI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/manila/+/819375\nDepends-On: https://review.opendev.org/c/openstack/manila/+/826686\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 64, 'created': '2022-05-26 17:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e6ec321484312215446e48d44a56be6f92130b71', 'message': 'Add FIPS experimental testing job\n\nAdd few new experimental job to test FIPS compatibility\nwith Manila upstream CI.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/manila/+/819375\nDepends-On: https://review.opendev.org/c/openstack/manila/+/843280\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 65, 'created': '2022-06-21 19:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/29100acecb841260685d1b6701f5bddfa26d30c6', 'message': ""Add FIPS experimental testing job\n\nAdds a new experimental job to test FIPS compatibility with Manila\nupstream CI. We currently only have means to enable FIPS on CentOS\nsystems. Ubuntu support will come in a later effort.\n\nStarting from CentOS 8, there is no candidate for a quagga package\ninstallation. Our IPv6 setup currently depends on quagga. If we\nkeep IPv6 enabled, the job won't even start. For now, the job will\nonly set up IPv4 and run the tests for this specific IP version.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/manila/+/819375\nDepends-On: https://review.opendev.org/c/openstack/manila/+/843280\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n""}, {'number': 66, 'created': '2022-06-23 19:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e73ed8f5d3a149b33690afbc0f0e3b1113a57c88', 'message': ""Add FIPS experimental testing job\n\nAdds a new experimental job to test FIPS compatibility with Manila\nupstream CI. We currently only have means to enable FIPS on CentOS\nsystems. Ubuntu support will come in a later effort.\n\nStarting from CentOS 8, there is no candidate for a quagga package\ninstallation. Our IPv6 setup currently depends on quagga. If we\nkeep IPv6 enabled, the job won't even start. For now, the job will\nonly set up IPv4 and run the tests for this specific IP version.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/manila/+/819375\nDepends-On: https://review.opendev.org/c/openstack/manila/+/843280\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n""}, {'number': 67, 'created': '2022-06-28 12:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2e9fef4effdfe774cf1442364f8673695d27d60e', 'message': ""Add FIPS experimental testing job\n\nAdds a new experimental job to test FIPS compatibility with Manila\nupstream CI. We currently only have means to enable FIPS on CentOS\nsystems. Ubuntu support will come in a later effort.\n\nStarting from CentOS 8, there is no candidate for a quagga package\ninstallation. Our IPv6 setup currently depends on quagga. If we\nkeep IPv6 enabled, the job won't even start. For now, the job will\nonly set up IPv4 and run the tests for this specific IP version.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/manila/+/819375\nDepends-On: https://review.opendev.org/c/openstack/manila/+/843280\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n""}, {'number': 68, 'created': '2022-06-28 12:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a94832453e4a87d17b40c99b6eaa526bc14590ef', 'message': ""Add FIPS experimental testing job\n\nAdds a new experimental job to test FIPS compatibility with Manila\nupstream CI. We currently only have means to enable FIPS on CentOS\nsystems. Ubuntu support will come in a later effort.\n\nStarting from CentOS 8, there is no candidate for a quagga package\ninstallation. Our IPv6 setup currently depends on quagga. If we\nkeep IPv6 enabled, the job won't even start. For now, the job will\nonly set up IPv4 and run the tests for this specific IP version.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n""}, {'number': 69, 'created': '2022-06-28 13:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4d4491f9f5c4511e802b1b645606b86458e6708d', 'message': ""Add FIPS testing job\n\nAdds a new check job to test FIPS compatibility with Manila\nupstream CI. We currently only have means to enable FIPS on CentOS\nsystems. Ubuntu support will come in a later effort.\n\nStarting from CentOS 8, there is no candidate for a quagga package\ninstallation. Our IPv6 setup currently depends on quagga. If we\nkeep IPv6 enabled, the job won't even start. For now, the job will\nonly set up IPv4 and run the tests for this specific IP version.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n""}, {'number': 70, 'created': '2022-06-29 19:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/82f5252a36d52fa32156e23e6b2eb39c6c54647a', 'message': 'Add FIPS testing job\n\nAdds a new check job to test FIPS compatibility with Manila\nupstream CI. We currently only have means to enable FIPS on CentOS\nsystems. Ubuntu support will come in a later effort.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Ica6445c582ceae4c5b9bbce48702c74710e6056f\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 71, 'created': '2022-06-29 19:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/24f44211cb38a5143ce476f51a92582559bde035', 'message': 'Add FIPS testing job\n\nAdds a new check job to test FIPS compatibility with Manila\nupstream CI. We currently only have means to enable FIPS on CentOS\nsystems. Ubuntu support will come in a later effort.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Ica6445c582ceae4c5b9bbce48702c74710e6056f\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}, {'number': 72, 'created': '2022-06-30 20:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9addd935f1c51441bf4263a01b8823c0a6a76e03', 'message': 'Add FIPS testing job\n\nAdds a new check job to test FIPS compatibility with Manila\nupstream CI. We currently only have means to enable FIPS on CentOS\nsystems. Ubuntu support will come in a later effort.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Ica6445c582ceae4c5b9bbce48702c74710e6056f\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n(cherry picked from commit 24f44211cb38a5143ce476f51a92582559bde035)\n'}, {'number': 73, 'created': '2022-06-30 20:41:48.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/e275c88ef5d1d9738f7fd2c21fee25b14bedd6fe', 'message': 'Add FIPS testing job\n\nAdds a new check job to test FIPS compatibility with Manila\nupstream CI. We currently only have means to enable FIPS on CentOS\nsystems. Ubuntu support will come in a later effort\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\n\nDepends-On: Ica6445c582ceae4c5b9bbce48702c74710e6056f\nChange-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7\n'}]",116,810953,e275c88ef5d1d9738f7fd2c21fee25b14bedd6fe,558,8,73,29632,,,0,"Add FIPS testing job

Adds a new check job to test FIPS compatibility with Manila
upstream CI. We currently only have means to enable FIPS on CentOS
systems. Ubuntu support will come in a later effort

Co-authored-by: Ashley Rodriguez <ashrod98@gmail.com>
Co-authored-by: Vida Haririan <vhariria@redhat.com>

Depends-On: Ica6445c582ceae4c5b9bbce48702c74710e6056f
Change-Id: I86dc498f1db16794a647ddd289bfb325a218b4a7
",git fetch https://review.opendev.org/openstack/manila refs/changes/53/810953/46 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/enable-fips.yaml', 'zuul.d/project.yaml']",2,9a73981a4fc29f379af2557edd2f0fc626a31890,fips-compatibility, name: manila-tox-genconfig-fips parent: manila-tox-genconfig nodeset: centos-8 description: | Run tests for manila project using FIPS. Uses tox with the ``genconfig`` environment. pre-run: playbooks/enable-fips.yaml - job: name: manila-tempest-plugin-dummy-dhss-fips parent: manila-tempest-plugin-dummy-dhss nodeset: devstack-single-node-centos-8-stream description: | Run dummy DHSS true tests for manila project using FIPS. pre-run: playbooks/enable-fips.yaml - job: name: manila-tempest-plugin-dummy-no-dhss-fips parent: manila-tempest-plugin-dummy-no-dhss nodeset: devstack-single-node-centos-8-stream description: | Run dummy DHSS false tests for manila project using FIPS. pre-run: playbooks/enable-fips.yaml - job: name: manila-tempest-plugin-lvm-fips parent: manila-tempest-plugin-lvm nodeset: devstack-single-node-centos-8-stream description: | Run LVM DHSS false tests for manila project using FIPS. pre-run: playbooks/enable-fips.yaml - job:,,37,0
openstack%2Fmanila-tempest-plugin~master~Ica6445c582ceae4c5b9bbce48702c74710e6056f,openstack/manila-tempest-plugin,master,Ica6445c582ceae4c5b9bbce48702c74710e6056f,Add FIPS testing job,MERGED,2022-06-29 18:47:41.000000000,2022-07-06 01:20:00.000000000,2022-07-06 01:20:00.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 32411}]","[{'number': 1, 'created': '2022-06-29 18:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/c107cdbfe47717a1f920daf41d845ecb01b0b95b', 'message': ""Add FIPS testing job\n\nAdds a new check job to test FIPS compatibility with Manila\nupstream CI. We currently only have means to enable FIPS on CentOS\nsystems. Ubuntu support will come in a later effort.\n\nStarting from CentOS 8, there is no candidate for a quagga package\ninstallation. Our IPv6 setup currently depends on quagga. If we\nkeep IPv6 enabled, the job won't even start. For now, the job will\nonly set up IPv4 and run the tests for this specific IP version.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\nChange-Id: Ica6445c582ceae4c5b9bbce48702c74710e6056f\n""}, {'number': 2, 'created': '2022-06-30 00:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f7d40e916e565c50541a81afc657053d1229be58', 'message': ""Add FIPS testing job\n\nAdds a new check job to test FIPS compatibility with Manila\nupstream CI. We currently only have means to enable FIPS on CentOS\nsystems. Ubuntu support will come in a later effort.\n\nStarting from CentOS 8, there is no candidate for a quagga package\ninstallation. Our IPv6 setup currently depends on quagga. If we\nkeep IPv6 enabled, the job won't even start. For now, the job will\nonly set up IPv4 and run the tests for this specific IP version.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\nChange-Id: Ica6445c582ceae4c5b9bbce48702c74710e6056f\n""}, {'number': 3, 'created': '2022-06-30 20:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/23cc738e60d372ad58c8f79750f38c954d9c3664', 'message': ""Add FIPS testing job\n\nAdds a new check job to test FIPS compatibility with Manila\nupstream CI. We currently only have means to enable FIPS on CentOS\nsystems. Ubuntu support will come in a later effort.\n\nStarting from CentOS 8, there is no candidate for a quagga package\ninstallation. Our IPv6 setup currently depends on quagga. If we\nkeep IPv6 enabled, the job won't even start. For now, the job will\nonly set up IPv4 and run the tests for this specific IP version.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\nChange-Id: Ica6445c582ceae4c5b9bbce48702c74710e6056f\n""}, {'number': 4, 'created': '2022-07-01 16:51:29.000000000', 'files': ['playbooks/enable-fips.yaml', 'zuul.d/manila-tempest-stable-jobs.yaml', 'zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/e21dbfd23d7e9342446d95ba868a27fb8118efc4', 'message': ""Add FIPS testing job\n\nAdds a new check job to test FIPS compatibility with Manila\nupstream CI. We currently only have means to enable FIPS on CentOS\nsystems. Ubuntu support will come in a later effort.\n\nStarting from CentOS 8, there is no candidate for a quagga package\ninstallation. Our IPv6 setup currently depends on quagga. If we\nkeep IPv6 enabled, the job won't even start. For now, the job will\nonly set up IPv4 and run the tests for this specific IP version.\n\nCo-authored-by: Ashley Rodriguez <ashrod98@gmail.com>\nCo-authored-by: Vida Haririan <vhariria@redhat.com>\nChange-Id: Ica6445c582ceae4c5b9bbce48702c74710e6056f\n""}]",12,848178,e21dbfd23d7e9342446d95ba868a27fb8118efc4,30,4,4,29632,,,0,"Add FIPS testing job

Adds a new check job to test FIPS compatibility with Manila
upstream CI. We currently only have means to enable FIPS on CentOS
systems. Ubuntu support will come in a later effort.

Starting from CentOS 8, there is no candidate for a quagga package
installation. Our IPv6 setup currently depends on quagga. If we
keep IPv6 enabled, the job won't even start. For now, the job will
only set up IPv4 and run the tests for this specific IP version.

Co-authored-by: Ashley Rodriguez <ashrod98@gmail.com>
Co-authored-by: Vida Haririan <vhariria@redhat.com>
Change-Id: Ica6445c582ceae4c5b9bbce48702c74710e6056f
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/78/848178/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/enable-fips.yaml', 'zuul.d/manila-tempest-jobs.yaml']",2,c107cdbfe47717a1f920daf41d845ecb01b0b95b,fips-compatibility,"- job: name: manila-tempest-plugin-lvm-fips parent: manila-tempest-plugin-lvm nodeset: devstack-single-node-centos-9-stream branches: ^(?!stable/(victoria|ussuri)).*$ description: | Run LVM DHSS false tests for manila project using FIPS. pre-run: - playbooks/enable-fips.yaml vars: nslookup_target: 'opendev.org' devstack_localrc: MANILA_SETUP_IPV6: false NEUTRON_CREATE_INITIAL_NETWORKS: true IP_VERSION: 4 configure_swap_size: 4096 devstack_local_conf: test-config: ""$TEMPEST_CONFIG"": validation: ssh_key_type: 'ecdsa' share: run_ipv6_tests: false ",,27,0
openstack%2Fheat-cfnclient~master~Icf0ca37faebd89ace8fdc31d97f3496917c0ce2b,openstack/heat-cfnclient,master,Icf0ca37faebd89ace8fdc31d97f3496917c0ce2b,setup.cfg: Replace dashes with underscores,MERGED,2021-05-18 01:54:59.000000000,2022-07-06 01:10:50.000000000,2022-07-06 01:10:50.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-05-18 01:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfnclient/commit/a554a0824712188b58e7850b531444266abba314', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: Icf0ca37faebd89ace8fdc31d97f3496917c0ce2b\n""}, {'number': 2, 'created': '2022-06-21 18:13:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/heat-cfnclient/commit/5d7cdf4bf74f1ff089366a4580d9476354df339a', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: Icf0ca37faebd89ace8fdc31d97f3496917c0ce2b\n""}]",1,791861,5d7cdf4bf74f1ff089366a4580d9476354df339a,13,6,2,32921,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: Icf0ca37faebd89ace8fdc31d97f3496917c0ce2b
",git fetch https://review.opendev.org/openstack/heat-cfnclient refs/changes/61/791861/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a554a0824712188b58e7850b531444266abba314,,description_file =author_email = openstack-dev@lists.openstack.org home_page = http://www.openstack.org/ python_requires = >=3.6,description-file =author-email = openstack-dev@lists.openstack.org home-page = http://www.openstack.org/ python-requires = >=3.6,4,4
openstack%2Fheat-cfnclient~master~Ieca0c5d5913b0126e85b5d950c2236c2d913d555,openstack/heat-cfnclient,master,Ieca0c5d5913b0126e85b5d950c2236c2d913d555,setup.cfg: Replace dashes with underscores,ABANDONED,2021-06-01 10:27:37.000000000,2022-07-06 01:09:59.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-06-01 10:27:37.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/heat-cfnclient/commit/bcd394fff36d5d6240ada63c5d66b6c23200d4a2', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ieca0c5d5913b0126e85b5d950c2236c2d913d555\n""}]",1,793942,bcd394fff36d5d6240ada63c5d66b6c23200d4a2,6,4,1,32029,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ieca0c5d5913b0126e85b5d950c2236c2d913d555
",git fetch https://review.opendev.org/openstack/heat-cfnclient refs/changes/42/793942/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,bcd394fff36d5d6240ada63c5d66b6c23200d4a2,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/ python-requires = >=3.6,4,4
openstack%2Fpython-openstackclient~stable%2Fussuri~Ie17c256e2bdc307dcd94ad5be7abdbffa776d369,openstack/python-openstackclient,stable/ussuri,Ie17c256e2bdc307dcd94ad5be7abdbffa776d369,Allow os quota list query to filter by project,MERGED,2022-06-16 08:20:14.000000000,2022-07-06 01:04:41.000000000,2022-07-06 01:02:55.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-16 08:20:14.000000000', 'files': ['openstackclient/tests/unit/common/test_quota.py', 'openstackclient/common/quota.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c5bbf744ba24f0f54aeae4c0bae89b188192259d', 'message': 'Allow os quota list query to filter by project\n\nIn the os quota list command, project parameter is completely ignored\nending up in a request to all projects and then all quotas. This patch\nenables back the parameter and does a single call to quotas if specified.\n\nChange-Id: Ie17c256e2bdc307dcd94ad5be7abdbffa776d369\nStory: 2007422\nTask: 39043\n(cherry picked from commit 3e83e7471b57ed1a2c29a5402059e21da6db0666)\n'}]",2,846118,c5bbf744ba24f0f54aeae4c0bae89b188192259d,10,2,1,16515,,,0,"Allow os quota list query to filter by project

In the os quota list command, project parameter is completely ignored
ending up in a request to all projects and then all quotas. This patch
enables back the parameter and does a single call to quotas if specified.

Change-Id: Ie17c256e2bdc307dcd94ad5be7abdbffa776d369
Story: 2007422
Task: 39043
(cherry picked from commit 3e83e7471b57ed1a2c29a5402059e21da6db0666)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/18/846118/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/common/test_quota.py', 'openstackclient/common/quota.py']",2,c5bbf744ba24f0f54aeae4c0bae89b188192259d,story2007422-stable/ussuri," project_ids = [] if parsed_args.project is None: for p in self.app.client_manager.identity.projects.list(): project_ids.append(getattr(p, 'id', '')) else: identity_client = self.app.client_manager.identity project = utils.find_resource( identity_client.projects, parsed_args.project, ) project_ids.append(getattr(project, 'id', ''))"," projects = self.app.client_manager.identity.projects.list() project_ids = [getattr(p, 'id', '') for p in projects]",80,2
openstack%2Fpython-openstackclient~stable%2Fussuri~Ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847,openstack/python-openstackclient,stable/ussuri,Ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847,Support for stateless security groups,MERGED,2020-08-18 09:53:18.000000000,2022-07-06 01:03:53.000000000,2022-07-06 01:02:52.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26106}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-18 09:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c6ae99dcfa973d65942b42b34c07f1cd88f1a744', 'message': 'Support for stateless security groups\n\nAdd support for stateful attribute of security groups,\nusing --stateful and --no-stateful flag on security group.\nThis allows a user to create security groups with stateful\nfalse.\n\nChange-Id: Ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847\nBlueprint: stateless-security-groups\nDepends-On: https://review.opendev.org/711513/\n(cherry picked from commit 5e62411e5f6c5b68512d1f72470b4222199eb456)\n'}, {'number': 2, 'created': '2020-10-26 15:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6e517dadbd2b899bec070cf99ed87955c7859b63', 'message': 'Support for stateless security groups\n\nAdd support for stateful attribute of security groups,\nusing --stateful and --no-stateful flag on security group.\nThis allows a user to create security groups with stateful\nfalse.\n\nChange-Id: Ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847\nBlueprint: stateless-security-groups\nDepends-On: https://review.opendev.org/711513/\n(cherry picked from commit 5e62411e5f6c5b68512d1f72470b4222199eb456)\n'}, {'number': 3, 'created': '2022-07-05 14:18:39.000000000', 'files': ['openstackclient/tests/functional/network/v2/test_security_group.py', 'openstackclient/tests/unit/network/v2/test_security_group_network.py', 'releasenotes/notes/stateful-security-group-a21fa8498e866b90.yaml', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/network/v2/security_group.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/89b4a689fc9c4b97b647636ef6db96268335954f', 'message': 'Support for stateless security groups\n\nAdd support for stateful attribute of security groups,\nusing --stateful and --no-stateful flag on security group.\nThis allows a user to create security groups with stateful\nfalse.\n\nChange-Id: Ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847\nBlueprint: stateless-security-groups\nDepends-On: https://review.opendev.org/711513/\n(cherry picked from commit 5e62411e5f6c5b68512d1f72470b4222199eb456)\n'}]",2,746675,89b4a689fc9c4b97b647636ef6db96268335954f,21,5,3,26106,,,0,"Support for stateless security groups

Add support for stateful attribute of security groups,
using --stateful and --no-stateful flag on security group.
This allows a user to create security groups with stateful
false.

Change-Id: Ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847
Blueprint: stateless-security-groups
Depends-On: https://review.opendev.org/711513/
(cherry picked from commit 5e62411e5f6c5b68512d1f72470b4222199eb456)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/75/746675/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/functional/network/v2/test_security_group.py', 'openstackclient/tests/unit/network/v2/test_security_group_network.py', 'releasenotes/notes/stateful-security-group-a21fa8498e866b90.yaml', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/network/v2/security_group.py']",5,c6ae99dcfa973d65942b42b34c07f1cd88f1a744,bp/stateless-security-groups-stable/ussuri," stateful_group = parser.add_mutually_exclusive_group() stateful_group.add_argument( ""--stateful"", action='store_true', default=None, help=_(""Security group is stateful (Default)"") ) stateful_group.add_argument( ""--stateless"", action='store_true', default=None, help=_(""Security group is stateless"") ) if parsed_args.stateful: attrs['stateful'] = True if parsed_args.stateless: attrs['stateful'] = False stateful_group = parser.add_mutually_exclusive_group() stateful_group.add_argument( ""--stateful"", action='store_true', default=None, help=_(""Security group is stateful (Default)"") ) stateful_group.add_argument( ""--stateless"", action='store_true', default=None, help=_(""Security group is stateless"") ) if parsed_args.stateful: attrs['stateful'] = True if parsed_args.stateless: attrs['stateful'] = False",,54,1
openstack%2Ftripleo-heat-templates~master~I54b943eaa77c6c2abe7e5b8c7f28dd4a0183f2de,openstack/tripleo-heat-templates,master,I54b943eaa77c6c2abe7e5b8c7f28dd4a0183f2de,Remove logic to create flavor/keypair in undercloud Nova,MERGED,2022-07-05 07:19:56.000000000,2022-07-06 00:42:53.000000000,2022-07-06 00:42:53.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-07-05 07:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b7a70a177c2c585a9879d8ecfa64c4d80b67813', 'message': 'Remove logic to create flavor/keypair in undercloud Nova\n\n... because Nova has been removed from Undercloud.\n\nChange-Id: I54b943eaa77c6c2abe7e5b8c7f28dd4a0183f2de\n'}, {'number': 2, 'created': '2022-07-05 12:21:46.000000000', 'files': ['extraconfig/post_deploy/undercloud_post.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab35091c41be587013f1526c50ac4ee7e7f2682a', 'message': 'Remove logic to create flavor/keypair in undercloud Nova\n\n... because Nova has been removed from Undercloud.\n\nChange-Id: I54b943eaa77c6c2abe7e5b8c7f28dd4a0183f2de\n'}]",1,848694,ab35091c41be587013f1526c50ac4ee7e7f2682a,14,5,2,9816,,,0,"Remove logic to create flavor/keypair in undercloud Nova

... because Nova has been removed from Undercloud.

Change-Id: I54b943eaa77c6c2abe7e5b8c7f28dd4a0183f2de
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/848694/2 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/post_deploy/undercloud_post.py'],1,1b7a70a177c2c585a9879d8ecfa64c4d80b67813,uc-nova-rsc-cleanup,,"import openstackdef _configure_nova(sdk): """"""Disable nova quotas"""""" sdk.set_compute_quotas('admin', cores='-1', instances='-1', ram='-1') # Configure flavors. sizings = {'ram': 4096, 'vcpus': 1, 'disk': 40} extra_specs = {'resources:CUSTOM_BAREMETAL': 1, 'resources:VCPU': 0, 'resources:MEMORY_MB': 0, 'resources:DISK_GB': 0} profiles = ['control', 'compute', 'ceph-storage', 'block-storage', 'swift-storage', 'baremetal'] flavors = [flavor.name for flavor in sdk.list_flavors()] for profile in profiles: if profile not in flavors: flavor = sdk.create_flavor(profile, **sizings) if profile != 'baremetal': extra_specs.update({'capabilities:profile': profile}) else: extra_specs.pop('capabilities:profile', None) sdk.set_flavor_specs(flavor.id, extra_specs) else: flavor = sdk.get_flavor(profile) # In place to migrate flavors from rocky too stein if flavor.extra_specs.get('capabilities:boot_option') == 'local': sdk.unset_flavor_specs(flavor.id, ['capabilities:boot_option']) print('INFO: Undercloud Post - Nova configuration completed successfully.') def _create_default_keypair(sdk): """"""Set up a default keypair."""""" ssh_dir = os.path.join(CONF['home_dir'], '.ssh') public_key_file = os.path.join(ssh_dir, 'id_rsa.pub') if (not [True for kp in sdk.compute.keypairs() if kp.name == 'default'] and os.path.isfile(public_key_file)): with open(public_key_file, 'r') as pub_key_file: sdk.compute.create_keypair(name='default', public_key=pub_key_file.read()) sdk = openstack.connect(CONF['cloud_name']) try: if nova_api_enabled: _configure_nova(sdk) _create_default_keypair(sdk) except Exception: print('ERROR: Undercloud Post - Failed.') raise",0,51
openstack%2Fpython-openstackclient~stable%2Fussuri~I8dbdba2a029ea8e6a268ddf29627e1466a7e3a8a,openstack/python-openstackclient,stable/ussuri,I8dbdba2a029ea8e6a268ddf29627e1466a7e3a8a,Remove None valued network quota entries,MERGED,2021-02-17 04:55:09.000000000,2022-07-06 00:36:35.000000000,2022-07-06 00:35:28.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-17 04:55:09.000000000', 'files': ['openstackclient/tests/unit/common/test_quota.py', 'releasenotes/notes/remove-nlbaas-quota-8b38e0c91ab113cb.yaml', 'openstackclient/common/quota.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/643b69d91480e461ff3546318943517b3226d11a', 'message': ""Remove None valued network quota entries\n\nSince the openstack SDK still has the neutron-lbaas entries in the network quota,\nbut those are already deprecated [1], the 'opentack quota show' command shows those\nas None value.\nThis fix removes those empty deprecated values from the output.\n\n[1] https://review.opendev.org/#/c/658494/\nChange-Id: I8dbdba2a029ea8e6a268ddf29627e1466a7e3a8a\n(cherry picked from commit e9bd4ef007153e4f2e2d69f3bcb94eef8e8983c2)\n""}]",0,775906,643b69d91480e461ff3546318943517b3226d11a,7,2,1,20363,,,0,"Remove None valued network quota entries

Since the openstack SDK still has the neutron-lbaas entries in the network quota,
but those are already deprecated [1], the 'opentack quota show' command shows those
as None value.
This fix removes those empty deprecated values from the output.

[1] https://review.opendev.org/#/c/658494/
Change-Id: I8dbdba2a029ea8e6a268ddf29627e1466a7e3a8a
(cherry picked from commit e9bd4ef007153e4f2e2d69f3bcb94eef8e8983c2)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/06/775906/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/common/test_quota.py', 'releasenotes/notes/remove-nlbaas-quota-8b38e0c91ab113cb.yaml', 'openstackclient/common/quota.py']",3,643b69d91480e461ff3546318943517b3226d11a,," def _network_quota_to_dict(self, network_quota): if type(network_quota) is not dict: dict_quota = network_quota.to_dict() else: dict_quota = network_quota return {k: v for k, v in dict_quota.items() if v is not None} network_quota = self._network_quota_to_dict(network_quota) network_quota = self._network_quota_to_dict(network_quota)", if type(network_quota) is not dict: network_quota = network_quota.to_dict() if type(network_quota) is not dict: network_quota = network_quota.to_dict(),36,4
openstack%2Fpython-openstackclient~stable%2Fvictoria~I8dbdba2a029ea8e6a268ddf29627e1466a7e3a8a,openstack/python-openstackclient,stable/victoria,I8dbdba2a029ea8e6a268ddf29627e1466a7e3a8a,Remove None valued network quota entries,MERGED,2021-02-17 04:54:04.000000000,2022-07-06 00:36:31.000000000,2022-07-06 00:34:31.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-17 04:54:04.000000000', 'files': ['openstackclient/tests/unit/common/test_quota.py', 'releasenotes/notes/remove-nlbaas-quota-8b38e0c91ab113cb.yaml', 'openstackclient/common/quota.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/dd06a4c475a1813dc72bf439bfdcb47deec89049', 'message': ""Remove None valued network quota entries\n\nSince the openstack SDK still has the neutron-lbaas entries in the network quota,\nbut those are already deprecated [1], the 'opentack quota show' command shows those\nas None value.\nThis fix removes those empty deprecated values from the output.\n\n[1] https://review.opendev.org/#/c/658494/\nChange-Id: I8dbdba2a029ea8e6a268ddf29627e1466a7e3a8a\n(cherry picked from commit e9bd4ef007153e4f2e2d69f3bcb94eef8e8983c2)\n""}]",0,775905,dd06a4c475a1813dc72bf439bfdcb47deec89049,7,2,1,20363,,,0,"Remove None valued network quota entries

Since the openstack SDK still has the neutron-lbaas entries in the network quota,
but those are already deprecated [1], the 'opentack quota show' command shows those
as None value.
This fix removes those empty deprecated values from the output.

[1] https://review.opendev.org/#/c/658494/
Change-Id: I8dbdba2a029ea8e6a268ddf29627e1466a7e3a8a
(cherry picked from commit e9bd4ef007153e4f2e2d69f3bcb94eef8e8983c2)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/05/775905/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/common/test_quota.py', 'releasenotes/notes/remove-nlbaas-quota-8b38e0c91ab113cb.yaml', 'openstackclient/common/quota.py']",3,dd06a4c475a1813dc72bf439bfdcb47deec89049,," def _network_quota_to_dict(self, network_quota): if type(network_quota) is not dict: dict_quota = network_quota.to_dict() else: dict_quota = network_quota return {k: v for k, v in dict_quota.items() if v is not None} network_quota = self._network_quota_to_dict(network_quota) network_quota = self._network_quota_to_dict(network_quota)", if type(network_quota) is not dict: network_quota = network_quota.to_dict() if type(network_quota) is not dict: network_quota = network_quota.to_dict(),36,4
openstack%2Fpython-openstackclient~stable%2Fvictoria~Ica3320242a38901c1180b2b29109c9474366fde0,openstack/python-openstackclient,stable/victoria,Ica3320242a38901c1180b2b29109c9474366fde0,compute: Show flavor in 'server list' with API >= 2.47,MERGED,2021-12-07 23:06:18.000000000,2022-07-06 00:35:29.000000000,2022-07-06 00:34:25.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 29307}]","[{'number': 1, 'created': '2021-12-07 23:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fd3db89f9173fc633503b1b74124b16a7ac9d573', 'message': 'compute: Show flavor in \'server list\' with API >= 2.47\n\nFix the issue where the flavor name was empty in server list output.\nThis requires somewhat invasive unit test changes to reflect the changed\nAPI response from the server, but this has the upside of meaning we\ndon\'t need new tests since what we have validates things.\nAlso drop the flavor ID column as it is removed from the compute API.\n\nConflicts:\n    openstackclient/tests/unit/compute/v2/test_server.py\n\nNOTE(melwitt): The conflicts and differences from the cherry picked\nchange are because the following changes are not in Victoria:\n\n  * I4811f8f66dcb14ed99cc1cfb80b00e2d77afe45f\n    (compute: Add \'server * --all-projects\' option)\n  * I7a8349106e211c57c4577b75326b39b88bd9ac1e\n    (compute: Fix \'server * -f yaml\' output)\n  * I84848c0bf8ab3c36dd821141191e2725e4e3b58b (Remove usage of six)\n  * Ieeb1f22df7092e66a411b6a36eafb3e16efc2fc2\n    (compute: Add missing options for \'server list\')\n  * If065602792958ff0145ae9f2e05f5b7a3177905c\n    (Compute: Add tags support for server)\n  * I25a4da697e27c0fba4d28b504377667eb18f15fe\n    (compute: Add \'--force\' option to \'server delete\')\n  * I463993170c03a1d98c47ab6a3c19131b7fca1099 (Remove oslo.utils)\n  * I18991adf899c7b72c98bb89871bf0715d35943f0\n    (Add a few selectable fields to the ""openstack server list"" output)\n  * I62b2ed8488ee4ac9c42051311bcfb455506ddd90\n    (Switch compute flavors from novaclient/direct to SDK)\n\nChange-Id: Ica3320242a38901c1180b2b29109c9474366fde0\nSigned-off-by: Khomesh Thakre <khomeshthakre24@gmail.com>\nStory: 2008257\nTask: 41113\n(cherry picked from commit 8e362402dee07744668bcf7f6774af4fbe9a07e3)\n(cherry picked from commit 0873e7580eceab07c3be0824d2ea4163491f8d6e)\n(cherry picked from commit 4b7e777c0ce19aa67a9a33cbeb3b4ee2b052383f)\n'}, {'number': 2, 'created': '2021-12-08 00:41:24.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py', 'releasenotes/notes/fix-flavor-in-server-list-microversion-2.47-af200e9bb4747e2d.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fef473390c7bb6874a38b98053e54cf18547b23c', 'message': 'compute: Show flavor in \'server list\' with API >= 2.47\n\nFix the issue where the flavor name was empty in server list output.\nThis requires somewhat invasive unit test changes to reflect the changed\nAPI response from the server, but this has the upside of meaning we\ndon\'t need new tests since what we have validates things.\nAlso drop the flavor ID column as it is removed from the compute API.\n\nConflicts:\n    openstackclient/tests/unit/compute/v2/test_server.py\n\nNOTE(melwitt): The conflicts and differences from the cherry picked\nchange are because the following changes are not in Victoria:\n\n  * I4811f8f66dcb14ed99cc1cfb80b00e2d77afe45f\n    (compute: Add \'server * --all-projects\' option)\n  * I7a8349106e211c57c4577b75326b39b88bd9ac1e\n    (compute: Fix \'server * -f yaml\' output)\n  * I84848c0bf8ab3c36dd821141191e2725e4e3b58b (Remove usage of six)\n  * Ieeb1f22df7092e66a411b6a36eafb3e16efc2fc2\n    (compute: Add missing options for \'server list\')\n  * If065602792958ff0145ae9f2e05f5b7a3177905c\n    (Compute: Add tags support for server)\n  * I25a4da697e27c0fba4d28b504377667eb18f15fe\n    (compute: Add \'--force\' option to \'server delete\')\n  * I463993170c03a1d98c47ab6a3c19131b7fca1099 (Remove oslo.utils)\n  * I18991adf899c7b72c98bb89871bf0715d35943f0\n    (Add a few selectable fields to the ""openstack server list"" output)\n  * I62b2ed8488ee4ac9c42051311bcfb455506ddd90\n    (Switch compute flavors from novaclient/direct to SDK)\n\nChange-Id: Ica3320242a38901c1180b2b29109c9474366fde0\nSigned-off-by: Khomesh Thakre <khomeshthakre24@gmail.com>\nStory: 2008257\nTask: 41113\n(cherry picked from commit 8e362402dee07744668bcf7f6774af4fbe9a07e3)\n(cherry picked from commit 0873e7580eceab07c3be0824d2ea4163491f8d6e)\n(cherry picked from commit 4b7e777c0ce19aa67a9a33cbeb3b4ee2b052383f)\n'}]",2,820960,fef473390c7bb6874a38b98053e54cf18547b23c,9,3,2,4690,,,0,"compute: Show flavor in 'server list' with API >= 2.47

Fix the issue where the flavor name was empty in server list output.
This requires somewhat invasive unit test changes to reflect the changed
API response from the server, but this has the upside of meaning we
don't need new tests since what we have validates things.
Also drop the flavor ID column as it is removed from the compute API.

Conflicts:
    openstackclient/tests/unit/compute/v2/test_server.py

NOTE(melwitt): The conflicts and differences from the cherry picked
change are because the following changes are not in Victoria:

  * I4811f8f66dcb14ed99cc1cfb80b00e2d77afe45f
    (compute: Add 'server * --all-projects' option)
  * I7a8349106e211c57c4577b75326b39b88bd9ac1e
    (compute: Fix 'server * -f yaml' output)
  * I84848c0bf8ab3c36dd821141191e2725e4e3b58b (Remove usage of six)
  * Ieeb1f22df7092e66a411b6a36eafb3e16efc2fc2
    (compute: Add missing options for 'server list')
  * If065602792958ff0145ae9f2e05f5b7a3177905c
    (Compute: Add tags support for server)
  * I25a4da697e27c0fba4d28b504377667eb18f15fe
    (compute: Add '--force' option to 'server delete')
  * I463993170c03a1d98c47ab6a3c19131b7fca1099 (Remove oslo.utils)
  * I18991adf899c7b72c98bb89871bf0715d35943f0
    (Add a few selectable fields to the ""openstack server list"" output)
  * I62b2ed8488ee4ac9c42051311bcfb455506ddd90
    (Switch compute flavors from novaclient/direct to SDK)

Change-Id: Ica3320242a38901c1180b2b29109c9474366fde0
Signed-off-by: Khomesh Thakre <khomeshthakre24@gmail.com>
Story: 2008257
Task: 41113
(cherry picked from commit 8e362402dee07744668bcf7f6774af4fbe9a07e3)
(cherry picked from commit 0873e7580eceab07c3be0824d2ea4163491f8d6e)
(cherry picked from commit 4b7e777c0ce19aa67a9a33cbeb3b4ee2b052383f)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/60/820960/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py', 'releasenotes/notes/fix-flavor-in-server-list-microversion-2.47-af200e9bb4747e2d.yaml']",3,fd3db89f9173fc633503b1b74124b16a7ac9d573,,"--- features: - | Add support for compute API microversion 2.47, which changes how flavor details are included in server detail responses. In 2.46 and below, only the flavor ID was shown in the server detail response. Starting in 2.47, flavor information is embedded in the server response. The newer behavior is now supported. ",,242,148
openstack%2Fpython-openstackclient~stable%2Fvictoria~I7d70eac8aa1a6197ed05a49f071e6899ec219c03,openstack/python-openstackclient,stable/victoria,I7d70eac8aa1a6197ed05a49f071e6899ec219c03,compute: Reorder building of columns for 'server list',MERGED,2021-12-07 23:06:18.000000000,2022-07-06 00:31:35.000000000,2022-07-06 00:29:15.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-07 23:06:18.000000000', 'files': ['openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3c280727e7da7661e4a31266b11f5eb0893fdb0f', 'message': 'compute: Reorder building of columns for \'server list\'\n\nThis has no impact on the end result, but it should make fixing issues\nintroduced by API microversion 2.69 a little easier.\n\nConflicts:\n    openstackclient/compute/v2/server.py\n\nNOTE(melwitt): The conflicts are because the following changes are not\nin Victoria:\n\n  * I463993170c03a1d98c47ab6a3c19131b7fca1099 (Remove oslo.utils)\n  * I18991adf899c7b72c98bb89871bf0715d35943f0 (Add a few selectable\n    fields to the ""openstack server list"" output)\n  * I2f2033a8d49ee42eb21696a9cd28e63ad9712fad (trivial: Cleanup docs\n    for \'server list\')\n\nChange-Id: I7d70eac8aa1a6197ed05a49f071e6899ec219c03\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit 4c3de28e83babb0672950320a20492dc61803b4a)\n(cherry picked from commit f4adbcef7b1b18d9454109a020e5e2c6ad78b5f1)\n(cherry picked from commit cb621f22d4547c20f5722058be8d99de936a48c6)\n'}]",0,820959,3c280727e7da7661e4a31266b11f5eb0893fdb0f,7,2,1,4690,,,0,"compute: Reorder building of columns for 'server list'

This has no impact on the end result, but it should make fixing issues
introduced by API microversion 2.69 a little easier.

Conflicts:
    openstackclient/compute/v2/server.py

NOTE(melwitt): The conflicts are because the following changes are not
in Victoria:

  * I463993170c03a1d98c47ab6a3c19131b7fca1099 (Remove oslo.utils)
  * I18991adf899c7b72c98bb89871bf0715d35943f0 (Add a few selectable
    fields to the ""openstack server list"" output)
  * I2f2033a8d49ee42eb21696a9cd28e63ad9712fad (trivial: Cleanup docs
    for 'server list')

Change-Id: I7d70eac8aa1a6197ed05a49f071e6899ec219c03
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit 4c3de28e83babb0672950320a20492dc61803b4a)
(cherry picked from commit f4adbcef7b1b18d9454109a020e5e2c6ad78b5f1)
(cherry picked from commit cb621f22d4547c20f5722058be8d99de936a48c6)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/59/820959/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,3c280727e7da7661e4a31266b11f5eb0893fdb0f,," flavor_id = utils.find_resource( compute_client.flavors, parsed_args.flavor, ).id image_id = image_client.find_image( parsed_args.image, ignore_missing=False, ).id msg = _('Invalid changes-since value: %s') msg % search_opts['changes-since'] columns = ( 'id', 'name', 'status', ) column_headers = ( 'ID', 'Name', 'Status', ) if parsed_args.long: columns += ( column_headers += ( ) columns += ('networks',) column_headers += ('Networks',) if parsed_args.long: columns += ( 'image_name', 'image_id', ) column_headers += ( ) else: if parsed_args.no_name_lookup: columns += ('image_id',) else: columns += ('image_name',) column_headers += ('Image',) if parsed_args.long: columns += ( 'flavor_name', 'flavor_id', ) column_headers += ( ) else: if parsed_args.no_name_lookup: columns += ('flavor_id',) else: columns += ('flavor_name',) column_headers += ('Flavor',) if parsed_args.long: columns += ( 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', 'metadata', ) column_headers += ( marker_id = utils.find_resource( compute_client.servers, parsed_args.marker, ).id data = compute_client.servers.list( search_opts=search_opts, marker=marker_id, limit=parsed_args.limit) # create a dict that maps image_id to image object, which is used # to display the ""Image Name"" column. Note that 'image.id' can be # empty for BFV instances and 'image' can be missing entirely if # there are infra failures if parsed_args.name_lookup_one_by_one or image_id: for i_id in set( s.image['id'] for s in data if s.image and s.image.get('id') ): # ""Image Name"" is not crucial, so we swallow any exceptions # create a dict that maps flavor_id to flavor object, which is used # to display the ""Flavor Name"" column. Note that 'flavor.id' is not # present on microversion 2.47 or later and 'flavor' won't be # present if there are infra failures if parsed_args.name_lookup_one_by_one or flavor_id: for f_id in set( s.flavor['id'] for s in data if s.flavor and s.flavor.get('id') ): # ""Flavor Name"" is not crucial, so we swallow any # exceptions mixed_case_fields=( 'OS-EXT-STS:task_state', 'OS-EXT-STS:power_state', 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', ), 'networks': _format_servers_list_networks, 'metadata': utils.format_dict,"," flavor_id = utils.find_resource(compute_client.flavors, parsed_args.flavor).id image_id = image_client.find_image(parsed_args.image, ignore_missing=False).id _('Invalid changes-since value: %s') % search_opts['changes-since'] if parsed_args.long: columns = ( 'ID', 'Name', 'Status', 'Networks', 'Image Name', 'Image ID', 'Flavor Name', 'Flavor ID', 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', 'Metadata', column_headers = ( 'ID', 'Name', 'Status', 'Networks', mixed_case_fields = [ 'OS-EXT-STS:task_state', 'OS-EXT-STS:power_state', 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', ] else: if parsed_args.no_name_lookup: columns = ( 'ID', 'Name', 'Status', 'Networks', 'Image ID', 'Flavor ID', ) else: columns = ( 'ID', 'Name', 'Status', 'Networks', 'Image Name', 'Flavor Name', ) column_headers = ( 'ID', 'Name', 'Status', 'Networks', 'Image', 'Flavor', ) mixed_case_fields = [] marker_id = utils.find_resource(compute_client.servers, parsed_args.marker).id data = compute_client.servers.list(search_opts=search_opts, marker=marker_id, limit=parsed_args.limit) # Create a dict that maps image_id to image object. # Needed so that we can display the ""Image Name"" column. # ""Image Name"" is not crucial, so we swallow any exceptions. # The 'image' attribute can be an empty string if the server was # booted from a volume. if parsed_args.name_lookup_one_by_one or image_id: for i_id in set(filter(lambda x: x is not None, (s.image.get('id') for s in data if s.image))): # Create a dict that maps flavor_id to flavor object. # Needed so that we can display the ""Flavor Name"" column. # ""Flavor Name"" is not crucial, so we swallow any exceptions. if parsed_args.name_lookup_one_by_one or flavor_id: for f_id in set(filter(lambda x: x is not None, (s.flavor.get('id') for s in data))): mixed_case_fields=mixed_case_fields, 'Networks': _format_servers_list_networks, 'Metadata': utils.format_dict,",100,78
openstack%2Fpython-openstackclient~stable%2Fvictoria~I186adc8cdf28e9c540ad22bca6684d9dd892976a,openstack/python-openstackclient,stable/victoria,I186adc8cdf28e9c540ad22bca6684d9dd892976a,compute: Add missing options for 'server group list',MERGED,2022-07-04 03:24:38.000000000,2022-07-06 00:30:38.000000000,2022-07-06 00:29:13.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23266}]","[{'number': 1, 'created': '2022-07-04 03:24:38.000000000', 'files': ['openstackclient/compute/v2/server_group.py', 'releasenotes/notes/add-missing-server-group-list-opts-d3c3d98b7f7a56a6.yaml', 'openstackclient/tests/unit/compute/v2/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/768dca5a695d78d8c5c22fca185137d3c5b8c07c', 'message': ""compute: Add missing options for 'server group list'\n\nAdd pagination parameters, '--limit' and '--offset'. It's unfortunate\nthat we can't use '--marker' like elsewhere but that requires\nserver-side support to be truly effective.\n\nChange-Id: I186adc8cdf28e9c540ad22bca6684d9dd892976a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit 5ec4d4c7188f4766d270be32e12b64b709d2b835)\n""}]",1,848505,768dca5a695d78d8c5c22fca185137d3c5b8c07c,9,3,1,5112,,,0,"compute: Add missing options for 'server group list'

Add pagination parameters, '--limit' and '--offset'. It's unfortunate
that we can't use '--marker' like elsewhere but that requires
server-side support to be truly effective.

Change-Id: I186adc8cdf28e9c540ad22bca6684d9dd892976a
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit 5ec4d4c7188f4766d270be32e12b64b709d2b835)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/05/848505/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/server_group.py', 'releasenotes/notes/add-missing-server-group-list-opts-d3c3d98b7f7a56a6.yaml', 'openstackclient/tests/unit/compute/v2/test_server_group.py']",3,768dca5a695d78d8c5c22fca185137d3c5b8c07c,osc-first-stable/victoria," ('limit', None), ('offset', None), self.server_groups_mock.list.assert_called_once_with() ('limit', None), ('offset', None), self.server_groups_mock.list.assert_called_once_with( all_projects=True) def test_server_group_list_with_limit(self): arglist = [ '--limit', '1', ] verifylist = [ ('all_projects', False), ('long', False), ('limit', 1), ('offset', None), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.server_groups_mock.list.assert_called_once_with(limit=1) def test_server_group_list_with_offset(self): arglist = [ '--offset', '5', ] verifylist = [ ('all_projects', False), ('long', False), ('limit', None), ('offset', 5), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.server_groups_mock.list.assert_called_once_with(offset=5) self.server_groups_mock.list.assert_called_once_with() self.server_groups_mock.list.assert_called_once_with( all_projects=True)", self.server_groups_mock.list.assert_called_once_with(False) self.server_groups_mock.list.assert_called_once_with(True) self.server_groups_mock.list.assert_called_once_with(False) self.server_groups_mock.list.assert_called_once_with(True),85,5
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I0293e019f3a2c4c8ffbf8258214d8522957d56f5,openstack/tripleo-heat-templates,stable/wallaby,I0293e019f3a2c4c8ffbf8258214d8522957d56f5,Stop generating certificate requests for disabled networks,MERGED,2022-07-03 23:28:26.000000000,2022-07-06 00:11:51.000000000,2022-07-06 00:11:51.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-03 23:28:26.000000000', 'files': ['deployment/haproxy/haproxy-internal-tls-certmonger.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ee8af773410db24ff3d04c6f2ffd049b9b3aa3bd', 'message': 'Stop generating certificate requests for disabled networks\n\nMake sure the list includes only networks that are configured on the\nrunning node. This change is analogous to\n7013a04e04a5f941710bd311003cbdeb647e62d7 , but for haproxy.\n\nChange-Id: I0293e019f3a2c4c8ffbf8258214d8522957d56f5\nResolves: rhbz#2088526\n(cherry picked from commit f3c76bcf07197b93b9cfe7bb49d0d53933be7898)\n'}]",1,848550,ee8af773410db24ff3d04c6f2ffd049b9b3aa3bd,13,6,1,21129,,,0,"Stop generating certificate requests for disabled networks

Make sure the list includes only networks that are configured on the
running node. This change is analogous to
7013a04e04a5f941710bd311003cbdeb647e62d7 , but for haproxy.

Change-Id: I0293e019f3a2c4c8ffbf8258214d8522957d56f5
Resolves: rhbz#2088526
(cherry picked from commit f3c76bcf07197b93b9cfe7bb49d0d53933be7898)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/848550/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-internal-tls-certmonger.j2.yaml'],1,ee8af773410db24ff3d04c6f2ffd049b9b3aa3bd,,"{%- for role in roles %} {{ role.name }}: yaql: expression: let(public_network => $.data.public_network) -> $.data.networks.where($ != $public_network or $ = 'ctlplane') data: public_network: {get_param: [ServiceNetMap, PublicNetwork]} networks: - ctlplane {%- for network in networks if network.name in role.networks and network.enabled|default(true) and network.vip|default(false) %} - {{network.name_lower}} {%- endfor %} NETWORK: {get_attr: [HAProxyNetworks, value, { get_param: RoleName }]} $NETWORK: {get_attr: [HAProxyNetworks, value, { get_param: RoleName }]} NETWORK: {get_attr: [HAProxyNetworks, value, { get_param: RoleName }]}"," yaql: expression: let(public_network => $.data.public_network) -> $.data.networks.where($ != $public_network or $ = 'ctlplane') data: public_network: {get_param: [ServiceNetMap, PublicNetwork]} networks: - ctlplane {%- for network in networks if network.enabled|default(true) and network.vip|default(false) %} - {{network.name_lower}} NETWORK: {get_attr: [HAProxyNetworks, value]} $NETWORK: {get_attr: [HAProxyNetworks, value]} NETWORK: {get_attr: [HAProxyNetworks, value]}",14,11
openstack%2Fcinderlib~stable%2Fyoga~I5966e780a87a430168e365990c1497a3117adae8,openstack/cinderlib,stable/yoga,I5966e780a87a430168e365990c1497a3117adae8,Update .gitreview for stable/yoga,MERGED,2022-06-27 08:52:35.000000000,2022-07-05 23:13:03.000000000,2022-07-05 23:12:05.000000000,"[{'_account_id': 5314}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-27 08:52:35.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/5f690e020eb2a48fb28115f58cb45535fa2ab81c', 'message': 'Update .gitreview for stable/yoga\n\nChange-Id: I5966e780a87a430168e365990c1497a3117adae8\n'}]",2,847728,5f690e020eb2a48fb28115f58cb45535fa2ab81c,8,3,1,22816,,,0,"Update .gitreview for stable/yoga

Change-Id: I5966e780a87a430168e365990c1497a3117adae8
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/28/847728/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5f690e020eb2a48fb28115f58cb45535fa2ab81c,create-yoga,defaultbranch=stable/yoga,,1,0
openstack%2Ftripleo-quickstart~master~I5f6a4ab2b292bc5ec8a9c8bc40780c3f609f653f,openstack/tripleo-quickstart,master,I5f6a4ab2b292bc5ec8a9c8bc40780c3f609f653f,Run featureset060 job with tempest-allow,MERGED,2022-05-30 10:38:28.000000000,2022-07-05 22:25:02.000000000,2022-07-05 22:23:39.000000000,"[{'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-05-30 10:38:28.000000000', 'files': ['config/general_config/featureset060.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dc0df39f5b4d881501a076a5c317697b26b96891', 'message': 'Run featureset060 job with tempest-allow\n\nThis patch replace the tempest_test_whitelist with tempest_allowed_group\nthat is to be used by tempest-allow.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/842980\nChange-Id: I5f6a4ab2b292bc5ec8a9c8bc40780c3f609f653f\n'}]",5,843837,dc0df39f5b4d881501a076a5c317697b26b96891,22,7,1,31075,,,0,"Run featureset060 job with tempest-allow

This patch replace the tempest_test_whitelist with tempest_allowed_group
that is to be used by tempest-allow.

Depends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/842980
Change-Id: I5f6a4ab2b292bc5ec8a9c8bc40780c3f609f653f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/37/843837/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset060.yml'],1,dc0df39f5b4d881501a076a5c317697b26b96891,tempest_allow_list,"tempest_allowed_group: ""featureset060""",tempest_test_whitelist: - 'ironic_tempest_plugin.tests.api.admin.test_chassis.TestChassis' - 'ironic_tempest_plugin.tests.api.admin.test_api_discovery.TestApiDiscovery' - 'ironic_tempest_plugin.tests.api.admin.test_conductor.TestConductors' - 'ironic_tempest_plugin.tests.api.admin.test_deploy_templates.TestDeployTemplates' - 'ironic_tempest_plugin.tests.api.admin.test_deploy_templates.TestDeployTemplatesNegative' - 'ironic_tempest_plugin.tests.api.admin.test_deploy_templates.TestDeployTemplatesOldAPI' ,1,8
openstack%2Ftripleo-common~stable%2Ftrain~I65b32f4ce3fddeb694fb33ca65076d45d23a3bb6,openstack/tripleo-common,stable/train,I65b32f4ce3fddeb694fb33ca65076d45d23a3bb6,Reduce memory consumption in Cinder services,MERGED,2022-07-01 15:27:37.000000000,2022-07-05 22:24:49.000000000,2022-07-05 22:23:36.000000000,"[{'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-01 15:27:37.000000000', 'files': ['releasenotes/notes/reduce-memory-consumption-d7effb68ab63b8c5.yaml', 'container-images/tcib/base/os/cinder-base/cinder-backup/cinder-backup.yaml', 'container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2a3644a2bb165495ac0ebedd0c0e4c356834c359', 'message': ""Reduce memory consumption in Cinder services\n\nThis patch reduces memory usage for Cinder Volume and Backup services by\ntuning glibc.\n\nThe specific tuning consist on disabling the per thread arenas and\ndisabling dynamic thresholds.\n\nThe Cinder Backup service suffers from high water mark memory usage and\nuses excessive memory.  As an example just after 10 restore operations\nthe service uses almost 1GB of RAM and does not ever free it afterwards.\nWith this patch the memory consumption of the service is reduced down to\nalmost 130MB.  If we add a revert from Cinder (Change-Id\nI43a20c8687f12bc52b014611cc6977c4c3ca212c) it goes down to 100MB during\nmy tests.\n\nIt's even worse on real deployments, where we have seen a reduction in\npeak memory usage, going down from 2.9GB to 1.2GB, and fixing the high\nwater mark issue that previously left the service constantly using 2GB\ngoing down to 140MB.\n\nThis glibc tuning is not applied to all Python services because I\nhaven't done proper testings on them and at first glance they don't seem\nto have such great improvements.\n\nThis is the equivalent of the devstack proposed patch from Change-Id\nIc9030d01468b3189350f83b04a8d1d346c489d3c\n\nRelated-bug: #1908805\nChange-Id: I65b32f4ce3fddeb694fb33ca65076d45d23a3bb6\n(cherry picked from commit 6d8b07b7f9500850cb08a64e436eeb2f38c00b11)\n(cherry picked from commit 250ee60374ed820a9ce0e3b3ad2683bd14df5cc0)\n""}]",0,848462,2a3644a2bb165495ac0ebedd0c0e4c356834c359,8,3,1,9535,,,0,"Reduce memory consumption in Cinder services

This patch reduces memory usage for Cinder Volume and Backup services by
tuning glibc.

The specific tuning consist on disabling the per thread arenas and
disabling dynamic thresholds.

The Cinder Backup service suffers from high water mark memory usage and
uses excessive memory.  As an example just after 10 restore operations
the service uses almost 1GB of RAM and does not ever free it afterwards.
With this patch the memory consumption of the service is reduced down to
almost 130MB.  If we add a revert from Cinder (Change-Id
I43a20c8687f12bc52b014611cc6977c4c3ca212c) it goes down to 100MB during
my tests.

It's even worse on real deployments, where we have seen a reduction in
peak memory usage, going down from 2.9GB to 1.2GB, and fixing the high
water mark issue that previously left the service constantly using 2GB
going down to 140MB.

This glibc tuning is not applied to all Python services because I
haven't done proper testings on them and at first glance they don't seem
to have such great improvements.

This is the equivalent of the devstack proposed patch from Change-Id
Ic9030d01468b3189350f83b04a8d1d346c489d3c

Related-bug: #1908805
Change-Id: I65b32f4ce3fddeb694fb33ca65076d45d23a3bb6
(cherry picked from commit 6d8b07b7f9500850cb08a64e436eeb2f38c00b11)
(cherry picked from commit 250ee60374ed820a9ce0e3b3ad2683bd14df5cc0)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/62/848462/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/reduce-memory-consumption-d7effb68ab63b8c5.yaml', 'container-images/tcib/base/os/cinder-base/cinder-backup/cinder-backup.yaml', 'container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml']",3,2a3644a2bb165495ac0ebedd0c0e4c356834c359,train-memory-usage,tcib_envs: MALLOC_ARENA_MAX: 1 MALLOC_MMAP_THRESHOLD_: 131072 MALLOC_TRIM_THRESHOLD_: 262144,,13,0
openstack%2Ftripleo-heat-templates~master~Icf8727779de746fe85e76206291be50b77bfe6eb,openstack/tripleo-heat-templates,master,Icf8727779de746fe85e76206291be50b77bfe6eb,Glance: Avoid simultaneous clean/pruner job,MERGED,2022-06-22 00:35:20.000000000,2022-07-05 22:23:33.000000000,2022-07-05 22:23:33.000000000,"[{'_account_id': 4393}, {'_account_id': 6926}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-22 00:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cde157d72f40292b9c0a84d91d27b97a40ec9e23', 'message': 'Glance: Avoid simultaneous clean/pruner job\n\nThis change introduces a randomized delays in cache clean/pruner jobs\nso that the cron jobs are not executed simultaneously in multiple\nnodes.\n\nDepends-on: https://review.opendev.org/846601\nChange-Id: Icf8727779de746fe85e76206291be50b77bfe6eb\n'}, {'number': 2, 'created': '2022-06-22 00:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca93eb8dc0826ec780dcedb6086c3c3617364291', 'message': 'Glance: Avoid simultaneous clean/pruner job\n\nThis change introduces a randomized delays in cache clean/pruner jobs\nso that the cron jobs are not executed simultaneously in multiple\nnodes.\n\nCloses-Bug: #1979271\nDepends-on: https://review.opendev.org/846601\nChange-Id: Icf8727779de746fe85e76206291be50b77bfe6eb\n'}, {'number': 3, 'created': '2022-06-22 01:03:40.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/376a8a46c3ee898639cab4016ba150342cf83a1a', 'message': 'Glance: Avoid simultaneous clean/pruner job\n\nThis change introduces randomized delays to cache clean/pruner job\ncommands so that these commands are not executed simultaneously in\nmultiple nodes.\n\nCloses-Bug: #1979271\nDepends-on: https://review.opendev.org/846601\nChange-Id: Icf8727779de746fe85e76206291be50b77bfe6eb\n'}]",1,847112,376a8a46c3ee898639cab4016ba150342cf83a1a,14,5,3,9816,,,0,"Glance: Avoid simultaneous clean/pruner job

This change introduces randomized delays to cache clean/pruner job
commands so that these commands are not executed simultaneously in
multiple nodes.

Closes-Bug: #1979271
Depends-on: https://review.opendev.org/846601
Change-Id: Icf8727779de746fe85e76206291be50b77bfe6eb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/847112/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,cde157d72f40292b9c0a84d91d27b97a40ec9e23,bug/1979271, glance::cache::cleaner::maxdelay: 1800 glance::cache::pruner::maxdelay: 1800,,2,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I357e00783112042c779cf1ce2e702e329880e4b8,openstack/tripleo-heat-templates,stable/wallaby,I357e00783112042c779cf1ce2e702e329880e4b8,Start ceilometer-compute after libvirt is started,MERGED,2022-07-05 09:32:56.000000000,2022-07-05 22:23:29.000000000,2022-07-05 22:23:29.000000000,"[{'_account_id': 4264}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-05 09:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e886d6d67a5835533847c50f3f6052c687ec5f0', 'message': 'Start ceilometer-compute after libvirt is started\n\n... because ceilometer-compute requires access to libvirt.\n\nIf the service fails to communicate with libvirt, then it disables all\nmetrics related to libvirt which results in missing metrics.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/839295\nChange-Id: I357e00783112042c779cf1ce2e702e329880e4b8\n(cherry picked from commit eac874338dba3ca7816f7eea0468881ee72c24d6)\n'}, {'number': 2, 'created': '2022-07-05 12:00:14.000000000', 'files': ['deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70d95b5f5f69496c93539bb35c4741d584d9a8f1', 'message': 'Start ceilometer-compute after libvirt is started\n\n... because ceilometer-compute requires access to libvirt.\n\nIf the service fails to communicate with libvirt, then it disables all\nmetrics related to libvirt which results in missing metrics.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/845046\nChange-Id: I357e00783112042c779cf1ce2e702e329880e4b8\n(cherry picked from commit eac874338dba3ca7816f7eea0468881ee72c24d6)\n'}]",2,848711,70d95b5f5f69496c93539bb35c4741d584d9a8f1,11,7,2,32240,,,0,"Start ceilometer-compute after libvirt is started

... because ceilometer-compute requires access to libvirt.

If the service fails to communicate with libvirt, then it disables all
metrics related to libvirt which results in missing metrics.

Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/845046
Change-Id: I357e00783112042c779cf1ce2e702e329880e4b8
(cherry picked from commit eac874338dba3ca7816f7eea0468881ee72c24d6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/848711/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml'],1,0e886d6d67a5835533847c50f3f6052c687ec5f0,, depends_on: - tripleo_nova_libvirt.target,,2,0
openstack%2Ftripleo-ansible~master~I7b482e5a03878baf42ef2c2c72bbdb0637cb204d,openstack/tripleo-ansible,master,I7b482e5a03878baf42ef2c2c72bbdb0637cb204d,Remove usage of glanceclient,MERGED,2022-06-23 06:54:42.000000000,2022-07-05 22:07:24.000000000,2022-07-05 22:05:16.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-23 06:54:42.000000000', 'files': ['requirements.txt', 'releasenotes/notes/remove-baremetal_register_or_update_nodes-module-638e42682e08bc19.yaml', 'tripleo_ansible/ansible_plugins/module_utils/tripleo_common_utils.py', 'tripleo_ansible/playbooks/cli-overcloud-node-import.yaml', 'tripleo_ansible/ansible_plugins/modules/baremetal_register_or_update_nodes.py', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c7ad264541fc8340890443af19a0c3d3dabbaf1', 'message': 'Remove usage of glanceclient\n\n... because Glance was already removed from Undercloud. This also\nremoves the module and the playbook which require glanceclient because\nthese are useless. Note that the playbook removed by this change is\nnot actually used by tripleoclient.\n\nChange-Id: I7b482e5a03878baf42ef2c2c72bbdb0637cb204d\n'}]",0,847248,2c7ad264541fc8340890443af19a0c3d3dabbaf1,9,4,1,9816,,,0,"Remove usage of glanceclient

... because Glance was already removed from Undercloud. This also
removes the module and the playbook which require glanceclient because
these are useless. Note that the playbook removed by this change is
not actually used by tripleoclient.

Change-Id: I7b482e5a03878baf42ef2c2c72bbdb0637cb204d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/847248/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'releasenotes/notes/remove-baremetal_register_or_update_nodes-module-638e42682e08bc19.yaml', 'tripleo_ansible/ansible_plugins/module_utils/tripleo_common_utils.py', 'tripleo_ansible/ansible_plugins/modules/baremetal_register_or_update_nodes.py', 'tripleo_ansible/playbooks/cli-overcloud-node-import.yaml', '.ansible-lint']",6,2c7ad264541fc8340890443af19a0c3d3dabbaf1,,, - baremetal_register_or_update_nodes,5,257
openstack%2Ftripleo-heat-templates~master~Ic01c44ba35b6d28cb45879b1006633ac1fcf8d19,openstack/tripleo-heat-templates,master,Ic01c44ba35b6d28cb45879b1006633ac1fcf8d19,Remove the Backup and Restore ReaR Heat templates,MERGED,2022-06-27 09:41:34.000000000,2022-07-05 22:06:29.000000000,2022-07-05 22:05:08.000000000,"[{'_account_id': 6816}, {'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-27 09:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf155b78ea6ef2af149369d9f0f553adeffc071f', 'message': 'Remove the Backup and Restore ReaR Heat templates\n\nIn ancient times, B&R used heat templates to deploy ReaR to the\ncontrollers. Since a long time, this has been superseded by an ansible\nplaybook ran by openstack overcloud backup --setup-rear. Now, that\nfeature is duplicated, so we remove the possibility of installing\nReaR with heat.\n\nA deprecation notice will be submitted to stable/train.\n\nRelated-Bug: rhbz#2097611\nChange-Id: Ic01c44ba35b6d28cb45879b1006633ac1fcf8d19\n'}, {'number': 2, 'created': '2022-06-27 09:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd304004d25b9a4167179d7cef5d2e682ae10ad3', 'message': 'Remove the Backup and Restore ReaR Heat templates\n\nIn ancient times, B&R used heat templates to deploy ReaR to the\ncontrollers. Since a long time, this has been superseded by an ansible\nplaybook ran by openstack overcloud backup --setup-rear. Now, that\nfeature is duplicated, so we remove the possibility of installing\nReaR with heat.\n\nA deprecation notice has been submitted to stable/train in patch #847148\n\nRelated-Bug: rhbz#2097611\nChange-Id: Ic01c44ba35b6d28cb45879b1006633ac1fcf8d19\n'}, {'number': 3, 'created': '2022-06-29 07:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e8ddce6ad43f04772bbc63d6bc24a1f0d3ca0f0', 'message': 'Remove the Backup and Restore ReaR Heat templates\n\nIn ancient times, B&R used heat templates to deploy ReaR to the\ncontrollers. Since a long time, this has been superseded by an ansible\nplaybook ran by openstack overcloud backup --setup-rear. Now, that\nfeature is duplicated, so we remove the possibility of installing\nReaR with heat.\n\nA deprecation notice has been submitted to stable/train in patch #847148\n\nRelated-Bug: rhbz#2097611\nChange-Id: Ic01c44ba35b6d28cb45879b1006633ac1fcf8d19\n'}, {'number': 4, 'created': '2022-06-29 09:52:46.000000000', 'files': ['roles/ComputeAlt.yaml', 'roles/DistributedComputeScaleOut.yaml', 'README.rst', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/HciCephMon.yaml', 'ci/environments/scenario001-standalone.yaml', 'environments/backup-and-restore/rear.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles_data_undercloud.yaml', 'roles/ComputeSriovIB.yaml', 'roles/ControllerOpenstack.yaml', 'sample-env-generator/standalone.yaml', 'roles/Standalone.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/BlockStorage.yaml', 'roles/DistributedComputeHCIScaleOut.yaml', 'roles/Compute.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCISriov.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/CellController.yaml', 'roles/ComputeVdpa.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/Undercloud.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'environments/undercloud.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'environments/standalone/standalone-tripleo.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/NetworkerSriov.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/ControllerStorageNfs.yaml', 'deployment/backup-and-restore/rear-baremetal-ansible.yaml', 'roles/Messaging.yaml', 'roles/Novacontrol.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Telemetry.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ControllerNoCeph.yaml', 'roles/Database.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/ObjectStorage.yaml', 'ci/custom_ci_roles_data.yaml', 'releasenotes/notes/remove-heat-installed-rear-feae3174fb303416.yaml', 'roles/ControllerSriov.yaml', 'roles/IronicConductor.yaml', 'roles/Networker.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c290124b9ca4923d9c3b80d1265823164ccd48e', 'message': 'Remove the Backup and Restore ReaR Heat templates\n\nIn ancient times, B&R used heat templates to deploy ReaR to the\ncontrollers. Since a long time, this has been superseded by an ansible\nplaybook ran by openstack overcloud backup --setup-rear. Now, that\nfeature is duplicated, so we remove the possibility of installing\nReaR with heat.\n\nA deprecation notice has been submitted to stable/train in patch #847148\n\nRelated-Bug: rhbz#2097611\nChange-Id: Ic01c44ba35b6d28cb45879b1006633ac1fcf8d19\n'}]",4,847759,6c290124b9ca4923d9c3b80d1265823164ccd48e,30,6,4,32968,,,0,"Remove the Backup and Restore ReaR Heat templates

In ancient times, B&R used heat templates to deploy ReaR to the
controllers. Since a long time, this has been superseded by an ansible
playbook ran by openstack overcloud backup --setup-rear. Now, that
feature is duplicated, so we remove the possibility of installing
ReaR with heat.

A deprecation notice has been submitted to stable/train in patch #847148

Related-Bug: rhbz#2097611
Change-Id: Ic01c44ba35b6d28cb45879b1006633ac1fcf8d19
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/847759/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ComputeAlt.yaml', 'roles/DistributedComputeScaleOut.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/HciCephMon.yaml', 'ci/environments/scenario001-standalone.yaml', 'environments/backup-and-restore/rear.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles_data_undercloud.yaml', 'roles/ComputeSriovIB.yaml', 'roles/ControllerOpenstack.yaml', 'sample-env-generator/standalone.yaml', 'roles/Standalone.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/BlockStorage.yaml', 'roles/DistributedComputeHCIScaleOut.yaml', 'roles/Compute.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCISriov.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/CellController.yaml', 'roles/ComputeVdpa.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/Undercloud.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'environments/undercloud.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'environments/standalone/standalone-tripleo.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/NetworkerSriov.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/ControllerStorageNfs.yaml', 'deployment/backup-and-restore/rear-baremetal-ansible.yaml', 'roles/Messaging.yaml', 'roles/Novacontrol.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Telemetry.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ControllerNoCeph.yaml', 'roles/Database.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/ObjectStorage.yaml', 'ci/custom_ci_roles_data.yaml', 'releasenotes/notes/remove-heat-installed-rear-feae3174fb303416.yaml', 'roles/ControllerSriov.yaml', 'roles/IronicConductor.yaml', 'roles/Networker.yaml']",58,cf155b78ea6ef2af149369d9f0f553adeffc071f,,, - OS::TripleO::Services::Rear,6,176
openstack%2Ftripleo-ansible~master~Ic9a62d560c7c17e9cc508ca707499e588604b489,openstack/tripleo-ansible,master,Ic9a62d560c7c17e9cc508ca707499e588604b489,Fix typo from 'sdterr' to 'stderr',MERGED,2022-06-27 16:38:44.000000000,2022-07-05 22:06:26.000000000,2022-07-05 22:05:11.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-27 16:38:44.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/ceph_key.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ecb72865f06392bd85e5691a6971d32afcf2602d', 'message': ""Fix typo from 'sdterr' to 'stderr'\n\nChange-Id: Ic9a62d560c7c17e9cc508ca707499e588604b489\n""}]",4,847833,ecb72865f06392bd85e5691a6971d32afcf2602d,18,4,1,20733,,,0,"Fix typo from 'sdterr' to 'stderr'

Change-Id: Ic9a62d560c7c17e9cc508ca707499e588604b489
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/33/847833/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/ceph_key.py'],1,ecb72865f06392bd85e5691a6971d32afcf2602d,stderr-typo," result[""stderr""] = err"," result[""sdterr""] = err",1,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ia6053bf009fc13be1ea319e72c81b084bf3f0e9d,openstack/tripleo-ansible,stable/wallaby,Ia6053bf009fc13be1ea319e72c81b084bf3f0e9d,The stderr of the command can have WARNs,MERGED,2022-07-05 07:56:44.000000000,2022-07-05 22:05:31.000000000,2022-07-05 22:05:31.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-05 07:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/39f3d08223b8b741ced56897df3fbc883432c8e6', 'message': 'The stderr of the command can have WARNs\n\nThere is a task that it is re-tried until there are no more errors, due\nto the fact that sometimes it does not work well the first or second times\nbecause the DB has not been completely initialized. To achieve the\nretry, we look for an empty stderr, but under certain circumstances\nthere can be WARN messages. We do not want to retry the execution after\na WARN message, as the action has been already succesfully executed.\n\nChange-Id: Ia6053bf009fc13be1ea319e72c81b084bf3f0e9d\n(cherry picked from commit a66c2b4943f8ee43352a449966d6dc4f8a9a74f4)\n'}, {'number': 2, 'created': '2022-07-05 07:57:22.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/53822b4e9a9375ce6d745a04c5c38b3f523c2f1f', 'message': 'The stderr of the command can have WARNs\n\nThere is a task that it is re-tried until there are no more errors, due\nto the fact that sometimes it does not work well the first or second times\nbecause the DB has not been completely initialized. To achieve the\nretry, we look for an empty stderr, but under certain circumstances\nthere can be WARN messages. We do not want to retry the execution after\na WARN message, as the action has been already succesfully executed.\n\nChange-Id: Ia6053bf009fc13be1ea319e72c81b084bf3f0e9d\n(cherry picked from commit a66c2b4943f8ee43352a449966d6dc4f8a9a74f4)\n'}]",1,848605,53822b4e9a9375ce6d745a04c5c38b3f523c2f1f,12,4,2,32968,,,0,"The stderr of the command can have WARNs

There is a task that it is re-tried until there are no more errors, due
to the fact that sometimes it does not work well the first or second times
because the DB has not been completely initialized. To achieve the
retry, we look for an empty stderr, but under certain circumstances
there can be WARN messages. We do not want to retry the execution after
a WARN message, as the action has been already succesfully executed.

Change-Id: Ia6053bf009fc13be1ea319e72c81b084bf3f0e9d
(cherry picked from commit a66c2b4943f8ee43352a449966d6dc4f8a9a74f4)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/05/848605/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml'],1,39f3d08223b8b741ced56897df3fbc883432c8e6,db_backup-stable/wallaby,"<<<<<<< HEAD (f4d9b4 Merge ""bnr - backup of the control plane in composable roles)======= until: desync_output.stderr == """" or '""WARN"" in desync_output.stderr' >>>>>>> CHANGE (a66c2b The stderr of the command can have WARNs)",,4,0
openstack%2Ftripleo-heat-templates~master~I2d10f409fb537a9f48a35cd225342646ed3d3e1a,openstack/tripleo-heat-templates,master,I2d10f409fb537a9f48a35cd225342646ed3d3e1a,Remove leftover of N1kv driver support,MERGED,2022-07-02 18:14:11.000000000,2022-07-05 22:05:27.000000000,2022-07-05 22:05:27.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-02 18:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7442f7e1e6299cef4d341a7a76b62b61dccf6b63', 'message': 'Remove leftover of N1kv driver support\n\n... which has been already removed by [1].\n\n8310c55b08e5d9dbe6d99ca1662113961acf6aef\n\nChange-Id: I2d10f409fb537a9f48a35cd225342646ed3d3e1a\n'}, {'number': 2, 'created': '2022-07-05 01:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61c825fe1656b077f5af40d0d38c2894b035c3b2', 'message': 'Remove leftover of N1kv driver support\n\n... which has been already removed by [1].\n\n[1] 8310c55b08e5d9dbe6d99ca1662113961acf6aef\n\nChange-Id: I2d10f409fb537a9f48a35cd225342646ed3d3e1a\n'}, {'number': 3, 'created': '2022-07-05 01:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eae957dc09c47e3eb1e6c3a2e9535f75f580d243', 'message': 'Remove leftover of N1kv driver support\n\nN1kv driver support was already removed by [1].\n\n[1] 8310c55b08e5d9dbe6d99ca1662113961acf6aef\n\nChange-Id: I2d10f409fb537a9f48a35cd225342646ed3d3e1a\n'}, {'number': 4, 'created': '2022-07-05 01:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a3197f2bf0cfeb8bcab2506db9eae16712e4cd20', 'message': 'Remove leftover of N1kv driver support\n\nWe used to use provide the mechanism_drivers parameter to horizon so\nthat we can enable the cisco profile support automatically when N1kv\ndriver is enabled.\n\nHowever N1kv driver support was already removed by [1] and the logic\nwas already removed from puppet-tripleo, so that puppet parameter\ninjection is no longer used.\n\n[1] 8310c55b08e5d9dbe6d99ca1662113961acf6aef\n\nChange-Id: I2d10f409fb537a9f48a35cd225342646ed3d3e1a\n'}, {'number': 5, 'created': '2022-07-05 01:08:48.000000000', 'files': ['deployment/neutron/neutron-plugin-ml2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3155f8c22b140e951c14095be11f516b510ad09f', 'message': 'Remove leftover of N1kv driver support\n\nWe used to use the mechanism_drivers parameter in horizon so that we\ncan enable the cisco profile support automatically when N1kv driver is\nenabled.\n\nHowever N1kv driver support was already removed by [1] and the logic\nwas already removed from puppet-tripleo. So that puppet parameter\ninjection is no longer used now.\n\n[1] 8310c55b08e5d9dbe6d99ca1662113961acf6aef\n\nChange-Id: I2d10f409fb537a9f48a35cd225342646ed3d3e1a\n'}]",2,848521,3155f8c22b140e951c14095be11f516b510ad09f,18,5,5,9816,,,0,"Remove leftover of N1kv driver support

We used to use the mechanism_drivers parameter in horizon so that we
can enable the cisco profile support automatically when N1kv driver is
enabled.

However N1kv driver support was already removed by [1] and the logic
was already removed from puppet-tripleo. So that puppet parameter
injection is no longer used now.

[1] 8310c55b08e5d9dbe6d99ca1662113961acf6aef

Change-Id: I2d10f409fb537a9f48a35cd225342646ed3d3e1a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/848521/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-plugin-ml2.yaml'],1,7442f7e1e6299cef4d341a7a76b62b61dccf6b63,, service_config_settings: {}, service_config_settings: horizon: neutron::plugins::ml2::mechanism_drivers: {get_param: NeutronMechanismDrivers},1,3
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c,openstack/tripleo-upgrade,stable/wallaby,I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c,Adjust ceph minor update section,MERGED,2022-06-23 21:45:52.000000000,2022-07-05 22:05:25.000000000,2022-07-05 22:05:25.000000000,"[{'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-06-23 21:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8a6a37eb986ed94b572142944b83941aea760dba', 'message': '[WIP] Adjust ceph minor update section\n\nFrom wallaby+ Ceph is deployed by cephadm, and minor updates\nare considered day2 operations that can be performed using the\ncephadm cli [1].\nThis patch adjusts current automation from the tripleo-upgrade\nproject for ceph update related tasks.\n\n[1] https://docs.ceph.com/en/pacific/cephadm/upgrade/#starting-the-upgrade\n\nChange-Id: I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c\n'}, {'number': 2, 'created': '2022-06-27 12:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0231521331f4054e4b3cb2515749e27f65a9b42f', 'message': 'Adjust ceph minor update section\n\nFrom wallaby+ Ceph is deployed by cephadm, and minor updates\nare considered day2 operations that can be performed using the\ncephadm cli [1].\nThis patch adjusts current automation from the tripleo-upgrade\nproject for ceph update related tasks.\n\n[1]https://docs.ceph.com/en/pacific/cephadm/upgrade/#starting-the-upgrade\n\nChange-Id: I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c\n(cherry picked from commit eb6b2001280174070e56f950743e28cea58eb079)\n'}, {'number': 3, 'created': '2022-06-28 17:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9c09c0e0365ef0987e12d6589c292958c8143f58', 'message': ""Adjust ceph minor update section\n\nFrom wallaby+ Ceph is deployed by cephadm and minor updates\nare considered day2 operations that can be performed using the\ncephadm cli [1].\nThis patch adjusts current automation from the tripleo-upgrade\nproject for ceph update related tasks.\n\n`overcloud external-update run --tags ceph` command is replaced with\ncephadm. The 'ceph' tags were removed from tht[2] and ceph update can't\nbe run with TripleO commands. Cephadm should be used instead to safely\nupgrade Ceph from one release to the next.\n\n[1] https://docs.ceph.com/en/pacific/cephadm/upgrade/#starting-the-upgrade\n[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/830051\n\nChange-Id: I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c\n(cherry picked from commit d56c8ba42ab4e01017cac84303a00ceea37f24b2)\n""}, {'number': 4, 'created': '2022-07-04 15:18:18.000000000', 'files': ['tasks/update/create-overcloud-update-scripts.yaml', 'templates/ceph-update-run.sh.j2', 'tasks/common/auxilary-facts.yaml', 'tasks/update/ceph_update_run.yml', 'tasks/update/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d1e79f53fd1f8152abe947ab4919ca40dc00fb12', 'message': ""Adjust ceph minor update section\n\nFrom wallaby+ Ceph is deployed by cephadm and minor updates\nare considered day2 operations that can be performed using the\ncephadm cli [1].\nThis patch adjusts current automation from the tripleo-upgrade\nproject for ceph update related tasks.\n\n`overcloud external-update run --tags ceph` command is replaced with\ncephadm. The 'ceph' tags were removed from tht[2] and ceph update can't\nbe run with TripleO commands. Cephadm should be used instead to safely\nupgrade Ceph from one release to the next.\n\n[1] https://docs.ceph.com/en/pacific/cephadm/upgrade/#starting-the-upgrade\n[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/830051\n\nChange-Id: I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c\n(cherry picked from commit da06f273cd2be85534542da864c5b89f8467d8e9)\n""}]",18,847262,d1e79f53fd1f8152abe947ab4919ca40dc00fb12,14,3,4,33080,,,0,"Adjust ceph minor update section

From wallaby+ Ceph is deployed by cephadm and minor updates
are considered day2 operations that can be performed using the
cephadm cli [1].
This patch adjusts current automation from the tripleo-upgrade
project for ceph update related tasks.

`overcloud external-update run --tags ceph` command is replaced with
cephadm. The 'ceph' tags were removed from tht[2] and ceph update can't
be run with TripleO commands. Cephadm should be used instead to safely
upgrade Ceph from one release to the next.

[1] https://docs.ceph.com/en/pacific/cephadm/upgrade/#starting-the-upgrade
[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/830051

Change-Id: I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c
(cherry picked from commit da06f273cd2be85534542da864c5b89f8467d8e9)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/62/847262/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/update/create-overcloud-update-scripts.yaml', 'templates/ceph-update-run.sh.j2', 'tasks/update/ceph_update_run.yml']",3,8a6a37eb986ed94b572142944b83941aea760dba,cephadm_minor_updates,"- name: Load variables from container environment file include_vars: file: ""{{ working_dir }}/{{ uc_containers_prepare_file }}"" name: container_env - name: Set required ceph image facts from container environment file set_fact: ceph_image_tag: ""{{ container_env['container-image-prepare']['ceph_tag'] }}"" ceph_image: ""{{ container_env['container-image-prepare']['ceph_image'] }}"" ceph_namespace: ""{{ container_env['container-image-prepare']['ceph_namespace'].split('/')[1] }}"" container_registry: ""{{ ansible_fqdn }}:8787"" - name: Get Ceph cluster status shell: cephadm shell ceph -s -f json | jq .health.status register: ceph_status become: true delegate_to: ""{{ inventory_hostmap[controller_role_name]|first }}"" - name: Stop ceph update when cluster is unhealthy fail: msg: Ceph update failed because ceph cluster is unhealthy when: ceph_status != ""HEALTH_OK"" - name: Start Ceph update using cephadm command: cmd: > cephadm shell -- ceph ceph orch upgrade start --image {{ image }} vars: image: ""{{ container_registry }}/{{ ceph_namespace }}/{{ ceph_image }}:{{ ceph_image_tag }}"" become: true delegate_to: ""{{ inventory_hostmap[controller_role_name]|first }}"" - name: Wait until ceph progress cephadm shell -- ceph -s -f json | jq .progress_events changed_when: false register: ceph_progress_events retries: 15 delay: 60 until: - ceph_progress_events.stdout == '{}' become: true delegate_to: ""{{ inventory_hostmap[controller_role_name]|first }}"" - name: Check update status command: cmd: > cephadm shell -- ceph log last cephadm | grep 'Upgrade: Complete!' become: true delegate_to: ""{{ inventory_hostmap[controller_role_name]|first }}"" register: ceph_update_status command: cmd: > cephadm shell -- ceph log last cephadm become: true delegate_to: ""{{ inventory_hostmap[controller_role_name]|first }}"" when: ceph_update_status.rc != 0","- name: run Ceph minor update ./ceph-update-run.sh 2>&1 {{ timestamper_cmd }} >> \ ceph-update-run.log args: chdir: ""{{ working_dir }}"" executable: /usr/bin/bash ignore_errors: true register: ceph_update_status command: tail {{ working_dir }}/ceph-update-run.log when: ceph_update_status is failed",59,81
openstack%2Ftripleo-heat-templates~master~I51d01f1a61a71159752b4826ddd3510b4641cf8e,openstack/tripleo-heat-templates,master,I51d01f1a61a71159752b4826ddd3510b4641cf8e,Allow ceilometer compute agent to access /run/libvirt,MERGED,2022-07-04 17:30:20.000000000,2022-07-05 22:05:21.000000000,2022-07-05 22:05:21.000000000,"[{'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-04 17:30:20.000000000', 'files': ['deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/927d08066bc43dcaf0f4e4b175a4df31b81d1d9c', 'message': ""Allow ceilometer compute agent to access /run/libvirt\n\nAllow ceilometer to access /run/libvirt directory in order to obtain\nmetrics from libvirt such as the 'cpu' metric. Prior to this change\nlogging would return:\n\nDEBUG ceilometer.polling.manager [-] Skip loading extension for perf.instructions: Failed to connect socket to '/var/run/libvirt/virtqemud-sock-ro': Permission denied\n\nAfter this change, polling of libvirt based telemetry is now working and\nthe 'cpu' metric is now stored in Gnocchi.\n\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\nChange-Id: I51d01f1a61a71159752b4826ddd3510b4641cf8e\n""}]",1,848656,927d08066bc43dcaf0f4e4b175a4df31b81d1d9c,9,6,1,7294,,,0,"Allow ceilometer compute agent to access /run/libvirt

Allow ceilometer to access /run/libvirt directory in order to obtain
metrics from libvirt such as the 'cpu' metric. Prior to this change
logging would return:

DEBUG ceilometer.polling.manager [-] Skip loading extension for perf.instructions: Failed to connect socket to '/var/run/libvirt/virtqemud-sock-ro': Permission denied

After this change, polling of libvirt based telemetry is now working and
the 'cpu' metric is now stored in Gnocchi.

Signed-off-by: Leif Madsen <lmadsen@redhat.com>
Change-Id: I51d01f1a61a71159752b4826ddd3510b4641cf8e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/848656/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml'],1,927d08066bc43dcaf0f4e4b175a4df31b81d1d9c,ceilometer/allow_access_libvirt_volume, - /run/libvirt:/run/libvirt:shared, - /run/libvirt:/run/libvirt:ro,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1bf20e061901ebfe64813892a62848e0bfb62b86,openstack/tripleo-heat-templates,stable/train,I1bf20e061901ebfe64813892a62848e0bfb62b86,Use EnableInternalTLS to set pssl in nb and sb,MERGED,2022-04-28 13:13:55.000000000,2022-07-05 22:05:19.000000000,2022-07-05 22:05:19.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 8655}, {'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-04-28 13:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc2656e7ed26ccf72699a5ca281d819c95eaa618', 'message': 'Use EnableInternalTLS to set pssl in nb and sb\n\nIf a user changes EnableInternalTLS from false to true on an existing\ndeployment, ovn sb and nb listening ports remain in ptcp when they\nshould be changed to pssl.\n\nChange-Id: I1bf20e061901ebfe64813892a62848e0bfb62b86\n(cherry picked from commit 5a43e8a30704692f3eb184cce694dec52ed77635)\n'}, {'number': 2, 'created': '2022-06-29 20:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/234138118747658fb7fc9db6c0253a77e3b18ad7', 'message': 'Use EnableInternalTLS to set pssl in nb and sb\n\nIf a user changes EnableInternalTLS from false to true on an existing\ndeployment, ovn sb and nb listening ports remain in ptcp when they\nshould be changed to pssl.\n\nChange-Id: I1bf20e061901ebfe64813892a62848e0bfb62b86\n(cherry picked from commit 5a43e8a30704692f3eb184cce694dec52ed77635)\n'}, {'number': 3, 'created': '2022-06-30 00:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff6390fe215a7efcb10ebeeffcabe3c6ef2daab6', 'message': 'Use EnableInternalTLS to set pssl in nb and sb\n\nIf a user changes EnableInternalTLS from false to true on an existing\ndeployment, ovn sb and nb listening ports remain in ptcp when they\nshould be changed to pssl.\n\nChange-Id: I1bf20e061901ebfe64813892a62848e0bfb62b86\n(cherry picked from commit 5a43e8a30704692f3eb184cce694dec52ed77635)\n(cherry picked from commit 28494d3849314d076e4723a09053c3ad756718aa)\n'}, {'number': 4, 'created': '2022-07-01 05:47:47.000000000', 'files': ['deployment/ovn/ovn-dbs-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e594de84af88d6cd0f2ea5aaf399a0abcea6c27', 'message': 'Use EnableInternalTLS to set pssl in nb and sb\n\nIf a user changes EnableInternalTLS from false to true on an existing\ndeployment, ovn sb and nb listening ports remain in ptcp when they\nshould be changed to pssl.\n\nBackport note:\nThis backport includes the follow-up commit[1] which fixed the broken\ncommand caused by the original change.\n\n[1] c62903f7f725b166896e4e646cb74ad08f55df87\n\nChange-Id: I1bf20e061901ebfe64813892a62848e0bfb62b86\n(cherry picked from commit 5a43e8a30704692f3eb184cce694dec52ed77635)\n(cherry picked from commit 28494d3849314d076e4723a09053c3ad756718aa)\n'}]",13,839759,2e594de84af88d6cd0f2ea5aaf399a0abcea6c27,39,8,4,6681,,,0,"Use EnableInternalTLS to set pssl in nb and sb

If a user changes EnableInternalTLS from false to true on an existing
deployment, ovn sb and nb listening ports remain in ptcp when they
should be changed to pssl.

Backport note:
This backport includes the follow-up commit[1] which fixed the broken
command caused by the original change.

[1] c62903f7f725b166896e4e646cb74ad08f55df87

Change-Id: I1bf20e061901ebfe64813892a62848e0bfb62b86
(cherry picked from commit 5a43e8a30704692f3eb184cce694dec52ed77635)
(cherry picked from commit 28494d3849314d076e4723a09053c3ad756718aa)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/839759/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-container-puppet.yaml'],1,cc2656e7ed26ccf72699a5ca281d819c95eaa618,ovn-pssl-ptcp," EnableInternalTLS: type: boolean default: false command: list_concat: - ['ovn_north_db_server', '/bin/bash', '-c', 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; NB_DB_PORT=`hiera ovn::northbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-nbctl set-connection'] - if: - {get_param: EnableInternalTLS} - ['pssl:$NB_DB_PORT:$DBS_LISTEN_IP'] - ['ptcp:$NB_DB_PORT:$DBS_LISTEN_IP'] command: list_concat: - ['ovn_south_db_server', '/bin/bash', '-c', 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; SB_DB_PORT=`hiera ovn::southbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-sbctl set-connection'] - if: - {get_param: EnableInternalTLS} - ['pssl:$SB_DB_PORT:$DBS_LISTEN_IP'] - ['ptcp:$SB_DB_PORT:$DBS_LISTEN_IP']"," command: ['ovn_north_db_server', '/bin/bash', '-c', 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; NB_DB_PORT=`hiera ovn::northbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-nbctl set-connection ptcp:$NB_DB_PORT:$DBS_LISTEN_IP'] command: ['ovn_south_db_server', '/bin/bash', '-c', 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; SB_DB_PORT=`hiera ovn::southbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-sbctl set-connection ptcp:$SB_DB_PORT:$DBS_LISTEN_IP']",17,2
openstack%2Ftripleo-ansible~master~I16ec686d632723a5cb8b1580240b8a5195e9a4e2,openstack/tripleo-ansible,master,I16ec686d632723a5cb8b1580240b8a5195e9a4e2,Remove usage of swiftclient,MERGED,2022-06-23 06:35:27.000000000,2022-07-05 22:05:14.000000000,2022-07-05 22:05:14.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-23 06:35:27.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_passwords_rotate.py', 'tripleo_ansible/ansible_plugins/module_utils/tripleo_common_utils.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_dpdk_nics_numa_info.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a322b62217fca847650f2153f00f5d0e66805cb5', 'message': 'Remove usage of swiftclient\n\n... because Swift was removed from undercloud.\n\nChange-Id: I16ec686d632723a5cb8b1580240b8a5195e9a4e2\n'}]",0,847245,a322b62217fca847650f2153f00f5d0e66805cb5,8,4,1,9816,,,0,"Remove usage of swiftclient

... because Swift was removed from undercloud.

Change-Id: I16ec686d632723a5cb8b1580240b8a5195e9a4e2
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/45/847245/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_passwords_rotate.py', 'tripleo_ansible/ansible_plugins/module_utils/tripleo_common_utils.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_dpdk_nics_numa_info.py']",3,a322b62217fca847650f2153f00f5d0e66805cb5,," heat=tripleo.get_orchestration_client(),"," tripleo.get_object_client(), tripleo.get_orchestration_client(),",2,28
openstack%2Ftripleo-ansible~master~Id3b52cefdd457326d2baf20b6e4c671f15774982,openstack/tripleo-ansible,master,Id3b52cefdd457326d2baf20b6e4c671f15774982,Fix duplicate dictionary keys,MERGED,2022-07-05 03:20:01.000000000,2022-07-05 22:05:06.000000000,2022-07-05 22:05:06.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-05 03:20:01.000000000', 'files': ['tripleo_ansible/tests/modules/test_tripleo_composable_network.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cbb85047a1a0a759f422ad2c98af58375c06e0f5', 'message': 'Fix duplicate dictionary keys\n\nChange-Id: Id3b52cefdd457326d2baf20b6e4c671f15774982\n'}]",0,848684,cbb85047a1a0a759f422ad2c98af58375c06e0f5,8,4,1,20733,,,0,"Fix duplicate dictionary keys

Change-Id: Id3b52cefdd457326d2baf20b6e4c671f15774982
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/84/848684/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/tests/modules/test_tripleo_composable_network.py'],1,cbb85047a1a0a759f422ad2c98af58375c06e0f5,dup-keys,," 'is_admin_state_up': False,",0,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I63063e6dd655b974ca2231eb55e03eb30c1461dc,openstack/tripleo-ansible,stable/wallaby,I63063e6dd655b974ca2231eb55e03eb30c1461dc,[B&R] More robust check on Galera desync the MySQL node,MERGED,2022-07-05 07:58:01.000000000,2022-07-05 22:05:04.000000000,2022-07-05 22:05:04.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-05 07:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2a0ac7f50d1c98327211bdce1b41bc690b0ee9ce', 'message': ""[B&R] More robust check on Galera desync the MySQL node\n\nThis task will fail if anything is printed on the stderr, even\nif it's a warning not related to the actual desync task. With\nthis patch you can set tripleo_container_cli_flags = '--log-level=error'\nto supress this warning and continue with the backup.\n\nChange-Id: I63063e6dd655b974ca2231eb55e03eb30c1461dc\n(cherry picked from commit 32769ae9f9b18f64cce37c73bfa829f35e54fef0)\n""}, {'number': 2, 'created': '2022-07-05 08:17:45.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_unpause.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_rgw_stop.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a069e6d4c59849493b831449854a17f98de8ebe8', 'message': ""[B&R] More robust check on Galera desync the MySQL node\n\nThis task will fail if anything is printed on the stderr, even\nif it's a warning not related to the actual desync task. With\nthis patch you can set tripleo_container_cli_flags = '--log-level=error'\nto supress this warning and continue with the backup.\n\nChange-Id: I63063e6dd655b974ca2231eb55e03eb30c1461dc\n(cherry picked from commit 32769ae9f9b18f64cce37c73bfa829f35e54fef0)\n""}]",0,848606,a069e6d4c59849493b831449854a17f98de8ebe8,9,4,2,32968,,,0,"[B&R] More robust check on Galera desync the MySQL node

This task will fail if anything is printed on the stderr, even
if it's a warning not related to the actual desync task. With
this patch you can set tripleo_container_cli_flags = '--log-level=error'
to supress this warning and continue with the backup.

Change-Id: I63063e6dd655b974ca2231eb55e03eb30c1461dc
(cherry picked from commit 32769ae9f9b18f64cce37c73bfa829f35e54fef0)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/848606/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_unpause.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_rgw_stop.yml']",5,2a0ac7f50d1c98327211bdce1b41bc690b0ee9ce,, {{ tripleo_container_cli }} {{ tripleo_container_cli_flags }} ps -a | grep ceph-rgw | wc -l, {{ tripleo_container_cli }} ps -a | grep ceph-rgw | wc -l,18,13
openstack%2Fcharm-masakari-monitors~master~I19d87e46db3cc412609a3ebd190d64efcddac5e0,openstack/charm-masakari-monitors,master,I19d87e46db3cc412609a3ebd190d64efcddac5e0,Fix process_list_path parameter to use the correct path,ABANDONED,2022-05-06 20:08:44.000000000,2022-07-05 21:44:10.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-06 20:08:44.000000000', 'files': ['src/templates/ussuri/masakarimonitors.conf'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/ea29ce31569a39b16bfe80b8dea5eaa7bd31baa9', 'message': 'Fix process_list_path parameter to use the correct path\n\nCloses-Bug: #1971513\nChange-Id: I19d87e46db3cc412609a3ebd190d64efcddac5e0\n'}]",0,840984,ea29ce31569a39b16bfe80b8dea5eaa7bd31baa9,4,2,1,34275,,,0,"Fix process_list_path parameter to use the correct path

Closes-Bug: #1971513
Change-Id: I19d87e46db3cc412609a3ebd190d64efcddac5e0
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/84/840984/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/ussuri/masakarimonitors.conf'],1,ea29ce31569a39b16bfe80b8dea5eaa7bd31baa9,lp1971513,process_list_path = /etc/masakarimonitors/process_list.yaml,process_list_path = /etc/masakari/process_list.yaml,1,1
openstack%2Fcharm-openstack-dashboard~stable%2Fxena~I7443db37bcf4425ebb2658757e275819c780ad90,openstack/charm-openstack-dashboard,stable/xena,I7443db37bcf4425ebb2658757e275819c780ad90,"Update the bundles to use the stable track, edge risk for xena",MERGED,2022-06-17 10:48:28.000000000,2022-07-05 20:23:40.000000000,2022-07-05 20:23:40.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:48:28.000000000', 'files': ['tests/bundles/focal-xena.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/f8d8c3f04656730287bbe3723e30f0dbf791daa8', 'message': 'Update the bundles to use the stable track, edge risk for xena\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for xena.\n\nChange-Id: I7443db37bcf4425ebb2658757e275819c780ad90\n'}]",3,846333,f8d8c3f04656730287bbe3723e30f0dbf791daa8,13,3,1,20870,,,0,"Update the bundles to use the stable track, edge risk for xena

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for xena.

Change-Id: I7443db37bcf4425ebb2658757e275819c780ad90
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/33/846333/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-xena.yaml', 'tests/bundles/focal-wallaby.yaml']",2,f8d8c3f04656730287bbe3723e30f0dbf791daa8,update-bundles-xena, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge,6,6
openstack%2Fglance~master~I23fbd227274c89735547322cedda565c5987776d,openstack/glance,master,I23fbd227274c89735547322cedda565c5987776d,doc: update the kvm kw_vif_model driver list,MERGED,2021-05-03 13:26:53.000000000,2022-07-05 20:18:09.000000000,2022-07-05 20:15:31.000000000,"[{'_account_id': 8122}, {'_account_id': 9268}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-03 13:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d33b8a00ea99faf61cbfe6b79d1a9028a80af86c', 'message': 'doc: update the kvm kw_vif_model driver list\n\nThe kw_vif_model driver list has evolved a bit. This commit adds:\n- e1000e: I12a5d28d75bc32a76a4f3765cb4db4cbc46c0c75\n- vmxnet3 I95203af4ded9a4dbecfb7981b400f0fb988f2d47\n\nChange-Id: I23fbd227274c89735547322cedda565c5987776d\n'}, {'number': 2, 'created': '2022-07-04 20:42:15.000000000', 'files': ['doc/source/admin/useful-image-properties.rst', 'api-ref/source/v2/samples/metadef-properties-list-response.json', 'etc/metadefs/compute-libvirt-image.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/d883e4fd5b9bfceb90abdbb53ea6878920f91055', 'message': 'doc: update the kvm kw_vif_model driver list\n\nThe kw_vif_model driver list has evolved a bit. This commit adds:\n- e1000e: I12a5d28d75bc32a76a4f3765cb4db4cbc46c0c75\n- vmxnet3 I95203af4ded9a4dbecfb7981b400f0fb988f2d47\n\nChange-Id: I23fbd227274c89735547322cedda565c5987776d\n'}]",0,789281,d883e4fd5b9bfceb90abdbb53ea6878920f91055,11,4,2,9268,,,0,"doc: update the kvm kw_vif_model driver list

The kw_vif_model driver list has evolved a bit. This commit adds:
- e1000e: I12a5d28d75bc32a76a4f3765cb4db4cbc46c0c75
- vmxnet3 I95203af4ded9a4dbecfb7981b400f0fb988f2d47

Change-Id: I23fbd227274c89735547322cedda565c5987776d
",git fetch https://review.opendev.org/openstack/glance refs/changes/81/789281/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/useful-image-properties.rst', 'api-ref/source/v2/samples/metadef-properties-list-response.json', 'etc/metadefs/compute-libvirt-image.json']",3,d33b8a00ea99faf61cbfe6b79d1a9028a80af86c,," ""description"": ""Specifies the model of virtual network interface device to use. The valid options depend on the hypervisor configuration. libvirt driver options: KVM and QEMU: e1000, ne2k_pci, pcnet, rtl8139, spapr-vlan, virtio, e1000e and vmxnet3. Xen: e1000, netfront, ne2k_pci, pcnet, and rtl8139."", ""virtio"", ""vmxnet3"""," ""description"": ""Specifies the model of virtual network interface device to use. The valid options depend on the hypervisor configuration. libvirt driver options: KVM and QEMU: e1000, ne2k_pci, pcnet, rtl8139, spapr-vlan, and virtio. Xen: e1000, netfront, ne2k_pci, pcnet, and rtl8139."", ""virtio""",8,7
openstack%2Fcharm-octavia~stable%2Fxena~Ic65602607a710ce1ad70cefe04d19b4b7b4b3025,openstack/charm-octavia,stable/xena,Ic65602607a710ce1ad70cefe04d19b4b7b4b3025,"Update the bundles to use the stable track, edge risk for xena",MERGED,2022-06-17 10:48:16.000000000,2022-07-05 20:18:03.000000000,2022-07-05 20:18:03.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:48:16.000000000', 'files': ['src/tests/bundles/focal-xena-ha.yaml', 'src/tests/bundles/focal-xena-ha-ovn.yaml', 'src/tests/bundles/focal-wallaby-ha.yaml', 'src/tests/bundles/focal-wallaby-ha-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/8519200f3c7e5b1ae3eea8debb67a151fb607630', 'message': 'Update the bundles to use the stable track, edge risk for xena\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for xena.\n\nChange-Id: Ic65602607a710ce1ad70cefe04d19b4b7b4b3025\n'}]",2,846330,8519200f3c7e5b1ae3eea8debb67a151fb607630,11,3,1,20870,,,0,"Update the bundles to use the stable track, edge risk for xena

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for xena.

Change-Id: Ic65602607a710ce1ad70cefe04d19b4b7b4b3025
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/30/846330/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-xena-ha.yaml', 'src/tests/bundles/focal-xena-ha-ovn.yaml', 'src/tests/bundles/focal-wallaby-ha.yaml', 'src/tests/bundles/focal-wallaby-ha-ovn.yaml']",4,8519200f3c7e5b1ae3eea8debb67a151fb607630,update-bundles-xena, channel: 2.0.3/edge channel: 1.7/edge, channel: 2.0.3/stable channel: 1.7/stable,8,8
openstack%2Fneutron~master~Icef3eab6a27f3b8950a7877de0d387e668a067ad,openstack/neutron,master,Icef3eab6a27f3b8950a7877de0d387e668a067ad,Report ExternalDNSOverQuota exception for zone quota error,MERGED,2022-07-04 23:58:31.000000000,2022-07-05 20:17:59.000000000,2022-07-05 20:15:23.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-04 23:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52ac524ad3ae62c707848bf39673a9644590b4de', 'message': 'Report ExternalDNSOverQuota exception for zone quota error\n\nThis bug was previously fixed for recordsets, but can also fail\nwhen creating zones.\n\nCloses-Bug: #1980673\nPartial-Bug: #1923700\nChange-Id: Icef3eab6a27f3b8950a7877de0d387e668a067ad\n'}, {'number': 2, 'created': '2022-07-05 02:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae62c4f80d74be730e779c4323ba5c21d6b6b020', 'message': 'Report ExternalDNSOverQuota exception for zone quota error\n\nThis bug was previously fixed for recordsets, but can also fail\nwhen creating zones.\n\nCloses-Bug: #1980673\nRelated-Bug: #1923700\nChange-Id: Icef3eab6a27f3b8950a7877de0d387e668a067ad\n'}, {'number': 3, 'created': '2022-07-05 15:05:14.000000000', 'files': ['neutron/services/externaldns/drivers/designate/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b0a34a5857ab2a1fbb9a05db9a01ec4173164c3', 'message': 'Report ExternalDNSOverQuota exception for zone quota error\n\nThis bug was previously fixed for recordsets, but can also fail\nwhen creating zones.\n\nCloses-Bug: #1980673\nRelated-Bug: #1923700\nChange-Id: Icef3eab6a27f3b8950a7877de0d387e668a067ad\n'}]",5,848420,8b0a34a5857ab2a1fbb9a05db9a01ec4173164c3,29,5,3,22623,,,0,"Report ExternalDNSOverQuota exception for zone quota error

This bug was previously fixed for recordsets, but can also fail
when creating zones.

Closes-Bug: #1980673
Related-Bug: #1923700
Change-Id: Icef3eab6a27f3b8950a7877de0d387e668a067ad
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/848420/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/externaldns/drivers/designate/driver.py'],1,52ac524ad3ae62c707848bf39673a9644590b4de,, except d_exc.OverQuota: raise dns_exc.ExternalDNSOverQuota(resource='zone'),,2,0
openstack%2Fcharm-neutron-api~stable%2Fxena~Idcbf319ac547e5bd9127282a57835c0a34380c4d,openstack/charm-neutron-api,stable/xena,Idcbf319ac547e5bd9127282a57835c0a34380c4d,"Update the bundles to use the stable track, edge risk for xena",MERGED,2022-06-17 10:48:04.000000000,2022-07-05 20:16:33.000000000,2022-07-05 20:16:33.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/752c9671e42ce5e448f90915feef6832aa7e85ed', 'message': 'Update the bundles to use the stable track, edge risk for xena\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for xena.\n\nChange-Id: Idcbf319ac547e5bd9127282a57835c0a34380c4d\n'}, {'number': 2, 'created': '2022-06-30 14:07:36.000000000', 'files': ['tests/bundles/focal-xena.yaml', 'test-requirements.txt', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/9ac60aecdd26c8ba14bab4b701b9134808adfcea', 'message': 'Update the bundles to use the stable track, edge risk for xena\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for xena.\n\nChange-Id: Idcbf319ac547e5bd9127282a57835c0a34380c4d\n'}]",2,846327,9ac60aecdd26c8ba14bab4b701b9134808adfcea,14,3,2,20870,,,0,"Update the bundles to use the stable track, edge risk for xena

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for xena.

Change-Id: Idcbf319ac547e5bd9127282a57835c0a34380c4d
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/27/846327/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-xena.yaml', 'tests/bundles/focal-wallaby.yaml']",2,752c9671e42ce5e448f90915feef6832aa7e85ed,update-bundles-xena, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge,6,6
openstack%2Fcharm-keystone-ldap~stable%2Fxena~I79e280900d2b5f4b4e7946e450b70b050ce834f3,openstack/charm-keystone-ldap,stable/xena,I79e280900d2b5f4b4e7946e450b70b050ce834f3,"Update the bundles to use the stable track, edge risk for xena",MERGED,2022-06-17 10:47:44.000000000,2022-07-05 20:15:41.000000000,2022-07-05 20:15:41.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:47:44.000000000', 'files': ['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/4143f41a62cdf252eea97b83b86366d46173a47a', 'message': 'Update the bundles to use the stable track, edge risk for xena\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for xena.\n\nChange-Id: I79e280900d2b5f4b4e7946e450b70b050ce834f3\n'}]",1,846322,4143f41a62cdf252eea97b83b86366d46173a47a,9,3,1,20870,,,0,"Update the bundles to use the stable track, edge risk for xena

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for xena.

Change-Id: I79e280900d2b5f4b4e7946e450b70b050ce834f3
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/22/846322/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml']",2,4143f41a62cdf252eea97b83b86366d46173a47a,update-bundles-xena, channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/edge channel: 8.0.19/edge,4,4
openstack%2Fcharm-glance~stable%2Fxena~Ie6f5483056a0206b4aeb73f67fc1b93ebbd18514,openstack/charm-glance,stable/xena,Ie6f5483056a0206b4aeb73f67fc1b93ebbd18514,"Update the bundles to use the stable track, edge risk for xena",MERGED,2022-06-17 10:47:16.000000000,2022-07-05 20:15:39.000000000,2022-07-05 20:15:39.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/fb63b08163fd63c241fdafc31d35ce6b85016765', 'message': 'Update the bundles to use the stable track, edge risk for xena\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for xena.\n\nChange-Id: Ie6f5483056a0206b4aeb73f67fc1b93ebbd18514\n'}, {'number': 2, 'created': '2022-06-30 13:58:32.000000000', 'files': ['tests/bundles/focal-xena.yaml', 'test-requirements.txt', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/5ba5488565e720e995b60e47f035806174a4c8f9', 'message': 'Update the bundles to use the stable track, edge risk for xena\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for xena.\n\nChange-Id: Ie6f5483056a0206b4aeb73f67fc1b93ebbd18514\n'}]",1,846315,5ba5488565e720e995b60e47f035806174a4c8f9,13,3,2,20870,,,0,"Update the bundles to use the stable track, edge risk for xena

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for xena.

Change-Id: Ie6f5483056a0206b4aeb73f67fc1b93ebbd18514
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/15/846315/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-xena.yaml', 'tests/bundles/focal-wallaby.yaml']",2,fb63b08163fd63c241fdafc31d35ce6b85016765,update-bundles-xena, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge,8,8
openstack%2Fdevstack-gate~master~I91b86913007e29b71ff4f4de739ac53c83e5bf58,openstack/devstack-gate,master,I91b86913007e29b71ff4f4de739ac53c83e5bf58,Remove old Neutron job,MERGED,2022-07-01 15:31:05.000000000,2022-07-05 20:15:28.000000000,2022-07-05 20:15:28.000000000,"[{'_account_id': 1131}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 15:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/1ea1d43bfbc1d702f96b47f34b3500e1abfe7e79', 'message': 'Replace old Neutron job name with new name\n\nThe job called neutron-tempest-dvr-ha-multinode-full is now known as\nneutron-ovs-tempest-dvr-ha-multinode-full in Neutron.\n\nSee https://review.opendev.org/c/openstack/neutron/+/848461 for more\ninformation.\n\nChange-Id: I91b86913007e29b71ff4f4de739ac53c83e5bf58\n'}, {'number': 2, 'created': '2022-07-05 15:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/29415791a114b4cdde251154bb0cd9502d13c0e9', 'message': 'Replace old Neutron job name with new name\n\nThe job called neutron-tempest-dvr-ha-multinode-full is now known as\nneutron-ovs-tempest-dvr-ha-multinode-full in Neutron.\n\nSee https://review.opendev.org/c/openstack/neutron/+/848461 for more\ninformation.\n\nChange-Id: I91b86913007e29b71ff4f4de739ac53c83e5bf58\n'}, {'number': 3, 'created': '2022-07-05 16:58:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/3ab1cf3fe47084b28a8a10bb137e5327433af552', 'message': 'Remove old Neutron job\n\nThe job called neutron-tempest-dvr-ha-multinode-full does not use\ndevstack-gate any longer.\n\nSee https://review.opendev.org/c/openstack/neutron/+/848461 for more\ninformation.\n\nChange-Id: I91b86913007e29b71ff4f4de739ac53c83e5bf58\n'}]",7,848463,3ab1cf3fe47084b28a8a10bb137e5327433af552,20,5,3,32586,,,0,"Remove old Neutron job

The job called neutron-tempest-dvr-ha-multinode-full does not use
devstack-gate any longer.

See https://review.opendev.org/c/openstack/neutron/+/848461 for more
information.

Change-Id: I91b86913007e29b71ff4f4de739ac53c83e5bf58
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/63/848463/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1ea1d43bfbc1d702f96b47f34b3500e1abfe7e79,, - neutron-ovs-tempest-dvr-ha-multinode-full, - neutron-tempest-dvr-ha-multinode-full,1,1
openstack%2Fcharm-manila-generic~stable%2Fxena~I9cd4c5694995fc0ad1be9d1e1e4319349ef39b0e,openstack/charm-manila-generic,stable/xena,I9cd4c5694995fc0ad1be9d1e1e4319349ef39b0e,"Update the bundles to use the stable track, edge risk for xena",MERGED,2022-06-17 10:47:56.000000000,2022-07-05 20:14:18.000000000,2022-07-05 20:14:18.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:47:56.000000000', 'files': ['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/479cc5363f1c4d01ac41826a310cf97fee827f20', 'message': 'Update the bundles to use the stable track, edge risk for xena\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for xena.\n\nChange-Id: I9cd4c5694995fc0ad1be9d1e1e4319349ef39b0e\n'}]",2,846325,479cc5363f1c4d01ac41826a310cf97fee827f20,11,3,1,20870,,,0,"Update the bundles to use the stable track, edge risk for xena

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for xena.

Change-Id: I9cd4c5694995fc0ad1be9d1e1e4319349ef39b0e
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/25/846325/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml']",2,479cc5363f1c4d01ac41826a310cf97fee827f20,update-bundles-xena, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge,6,6
openstack%2Fcharm-cinder-lvm~stable%2Fxena~Ie1270702ec97f1fe27dc21de192f138b885127da,openstack/charm-cinder-lvm,stable/xena,Ie1270702ec97f1fe27dc21de192f138b885127da,"Update the bundles to use the stable track, edge risk for xena",MERGED,2022-06-17 10:47:00.000000000,2022-07-05 20:13:05.000000000,2022-07-05 20:13:05.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:47:00.000000000', 'files': ['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-lvm/commit/92fc7a2946701bfde146def0d6056f90671b8427', 'message': 'Update the bundles to use the stable track, edge risk for xena\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for xena.\n\nChange-Id: Ie1270702ec97f1fe27dc21de192f138b885127da\n'}]",2,846311,92fc7a2946701bfde146def0d6056f90671b8427,11,3,1,20870,,,0,"Update the bundles to use the stable track, edge risk for xena

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for xena.

Change-Id: Ie1270702ec97f1fe27dc21de192f138b885127da
",git fetch https://review.opendev.org/openstack/charm-cinder-lvm refs/changes/11/846311/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml']",2,92fc7a2946701bfde146def0d6056f90671b8427,update-bundles-xena, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge,6,6
openstack%2Fcharm-octavia-diskimage-retrofit~stable%2Fxena~I54cac22cdced4106cf3817a38bca3fed54182f23,openstack/charm-octavia-diskimage-retrofit,stable/xena,I54cac22cdced4106cf3817a38bca3fed54182f23,"Update the bundles to use the stable track, edge risk for xena",MERGED,2022-06-17 10:48:24.000000000,2022-07-05 20:12:20.000000000,2022-07-05 20:12:20.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:48:24.000000000', 'files': ['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/bdec8e7635e5496593e7aa745cb1f73438bf10c1', 'message': 'Update the bundles to use the stable track, edge risk for xena\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for xena.\n\nChange-Id: I54cac22cdced4106cf3817a38bca3fed54182f23\n'}]",1,846332,bdec8e7635e5496593e7aa745cb1f73438bf10c1,9,3,1,20870,,,0,"Update the bundles to use the stable track, edge risk for xena

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for xena.

Change-Id: I54cac22cdced4106cf3817a38bca3fed54182f23
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/32/846332/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml']",2,bdec8e7635e5496593e7aa745cb1f73438bf10c1,update-bundles-xena, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge,6,6
openstack%2Fcharm-octavia-dashboard~stable%2Fxena~I32cdccc035589f1f9b4eea9f5286a1c7210321c6,openstack/charm-octavia-dashboard,stable/xena,I32cdccc035589f1f9b4eea9f5286a1c7210321c6,"Update the bundles to use the stable track, edge risk for xena",MERGED,2022-06-17 10:48:20.000000000,2022-07-05 20:11:04.000000000,2022-07-05 20:11:04.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:48:20.000000000', 'files': ['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/e1f50a22575952c0f5da6cca6b76542da9ff57a4', 'message': 'Update the bundles to use the stable track, edge risk for xena\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for xena.\n\nChange-Id: I32cdccc035589f1f9b4eea9f5286a1c7210321c6\n'}]",1,846331,e1f50a22575952c0f5da6cca6b76542da9ff57a4,9,3,1,20870,,,0,"Update the bundles to use the stable track, edge risk for xena

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for xena.

Change-Id: I32cdccc035589f1f9b4eea9f5286a1c7210321c6
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/31/846331/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml']",2,e1f50a22575952c0f5da6cca6b76542da9ff57a4,update-bundles-xena, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge,10,10
openstack%2Fcharm-neutron-openvswitch~stable%2Fxena~Ie167ce781704895d0aefc9b36fcf8f15d57e7ff1,openstack/charm-neutron-openvswitch,stable/xena,Ie167ce781704895d0aefc9b36fcf8f15d57e7ff1,"Update the bundles to use the stable track, edge risk for xena",MERGED,2022-06-17 10:48:08.000000000,2022-07-05 20:09:11.000000000,2022-07-05 20:09:11.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/88047dda02ee8a814401259a69ef3dd1b3029d22', 'message': 'Update the bundles to use the stable track, edge risk for xena\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for xena.\n\nChange-Id: Ie167ce781704895d0aefc9b36fcf8f15d57e7ff1\n'}, {'number': 2, 'created': '2022-06-24 19:35:29.000000000', 'files': ['test-requirements.txt', 'tests/bundles/focal-xena-dvr-snat.yaml', 'tests/bundles/focal-wallaby-dvr-snat.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/3294ca071b34ade8a1a1bc28601cbe057f785f7e', 'message': 'Update the bundles to use the stable track, edge risk for xena\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for xena.\n\n- Pin tempest for python<3.8\n\nChange-Id: Ie167ce781704895d0aefc9b36fcf8f15d57e7ff1\n'}]",0,846328,3294ca071b34ade8a1a1bc28601cbe057f785f7e,10,3,2,20870,,,0,"Update the bundles to use the stable track, edge risk for xena

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for xena.

- Pin tempest for python<3.8

Change-Id: Ie167ce781704895d0aefc9b36fcf8f15d57e7ff1
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/28/846328/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-xena-dvr-snat.yaml', 'tests/bundles/focal-wallaby-dvr-snat.yaml']",2,88047dda02ee8a814401259a69ef3dd1b3029d22,update-bundles-xena, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 21.09/edge channel: 21.09/edge, channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: openstack-xena/edge channel: openstack-xena/edge,18,18
openstack%2Fcharm-designate-bind~stable%2Fxena~I48a7ab1037546de38cd3dfcc94e3781a24077291,openstack/charm-designate-bind,stable/xena,I48a7ab1037546de38cd3dfcc94e3781a24077291,"Update the bundles to use the stable track, edge risk for xena",MERGED,2022-06-17 10:47:12.000000000,2022-07-05 20:09:01.000000000,2022-07-05 20:09:01.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:47:12.000000000', 'files': ['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/d4fef28c370687e76f6b646d6d16877eb27d1741', 'message': 'Update the bundles to use the stable track, edge risk for xena\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for xena.\n\nChange-Id: I48a7ab1037546de38cd3dfcc94e3781a24077291\n'}]",1,846314,d4fef28c370687e76f6b646d6d16877eb27d1741,9,3,1,20870,,,0,"Update the bundles to use the stable track, edge risk for xena

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for xena.

Change-Id: I48a7ab1037546de38cd3dfcc94e3781a24077291
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/14/846314/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml']",2,d4fef28c370687e76f6b646d6d16877eb27d1741,update-bundles-xena, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge,8,8
openstack%2Fcharm-ironic-api~stable%2Fxena~I9e8f4aa57344cdddd7f9f0bab7dd4ae3be99e6ce,openstack/charm-ironic-api,stable/xena,I9e8f4aa57344cdddd7f9f0bab7dd4ae3be99e6ce,"Update the bundles to use the stable track, edge risk for xena",MERGED,2022-06-17 10:47:28.000000000,2022-07-05 20:08:35.000000000,2022-07-05 20:08:35.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:47:28.000000000', 'files': ['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/7864923755f45ffaed4c44739cc5cbf7e9c30376', 'message': 'Update the bundles to use the stable track, edge risk for xena\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for xena.\n\nChange-Id: I9e8f4aa57344cdddd7f9f0bab7dd4ae3be99e6ce\n'}]",1,846318,7864923755f45ffaed4c44739cc5cbf7e9c30376,9,3,1,20870,,,0,"Update the bundles to use the stable track, edge risk for xena

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for xena.

Change-Id: I9e8f4aa57344cdddd7f9f0bab7dd4ae3be99e6ce
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/18/846318/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml']",2,7864923755f45ffaed4c44739cc5cbf7e9c30376,update-bundles-xena, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge,20,20
openstack%2Fcharm-barbican~stable%2Fxena~Ia5311e9d2627fdf61d5ff20a8fafb17389e9ec5d,openstack/charm-barbican,stable/xena,Ia5311e9d2627fdf61d5ff20a8fafb17389e9ec5d,"Update the bundles to use the stable track, edge risk for xena",MERGED,2022-06-17 10:46:36.000000000,2022-07-05 20:07:38.000000000,2022-07-05 20:07:38.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:46:36.000000000', 'files': ['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/d7a38befbb078d2df8bee71901e3ac39ed0d7932', 'message': 'Update the bundles to use the stable track, edge risk for xena\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for xena.\n\nChange-Id: Ia5311e9d2627fdf61d5ff20a8fafb17389e9ec5d\n'}]",1,846305,d7a38befbb078d2df8bee71901e3ac39ed0d7932,9,3,1,20870,,,0,"Update the bundles to use the stable track, edge risk for xena

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for xena.

Change-Id: Ia5311e9d2627fdf61d5ff20a8fafb17389e9ec5d
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/05/846305/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml']",2,d7a38befbb078d2df8bee71901e3ac39ed0d7932,update-bundles-xena,local_overlay_enabled: False channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge,10,6
openstack%2Fcharm-barbican-vault~stable%2Fxena~I74e947e52ed402ecd04dbb1c386335cf7ea60edd,openstack/charm-barbican-vault,stable/xena,I74e947e52ed402ecd04dbb1c386335cf7ea60edd,"Update the bundles to use the stable track, edge risk for xena",MERGED,2022-06-17 10:46:40.000000000,2022-07-05 20:06:18.000000000,2022-07-05 20:06:18.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:46:40.000000000', 'files': ['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/548d96f80f0404596a9124e2b9c753fae5a20fab', 'message': 'Update the bundles to use the stable track, edge risk for xena\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for xena.\n\nChange-Id: I74e947e52ed402ecd04dbb1c386335cf7ea60edd\n'}]",4,846306,548d96f80f0404596a9124e2b9c753fae5a20fab,15,3,1,20870,,,0,"Update the bundles to use the stable track, edge risk for xena

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for xena.

Change-Id: I74e947e52ed402ecd04dbb1c386335cf7ea60edd
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/06/846306/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml']",3,548d96f80f0404596a9124e2b9c753fae5a20fab,update-bundles-xena, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 1.7/edge, channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 1.7/stable,11,11
openstack%2Fswift~master~I6d5afb9b345763f87cb499e9d4fddc38fb19818b,openstack/swift,master,I6d5afb9b345763f87cb499e9d4fddc38fb19818b,debug failing unittests,NEW,2022-07-05 18:50:49.000000000,2022-07-05 19:56:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-05 18:50:49.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0039c0ed3c414f20f619d67af8b7f7ca8484f1ed', 'message': 'debug failing unittests\n\n... and try to understand when is a db ""sharded"" or at least what stats\nwe should use.\n\nChange-Id: I6d5afb9b345763f87cb499e9d4fddc38fb19818b\n'}]",0,848776,0039c0ed3c414f20f619d67af8b7f7ca8484f1ed,3,1,1,1179,,,0,"debug failing unittests

... and try to understand when is a db ""sharded"" or at least what stats
we should use.

Change-Id: I6d5afb9b345763f87cb499e9d4fddc38fb19818b
",git fetch https://review.opendev.org/openstack/swift refs/changes/76/848776/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/backend.py']",2,0039c0ed3c414f20f619d67af8b7f7ca8484f1ed,root_sharded_not_sharded, if state == SHARDING: elif ((state == UNSHARDED and osr and osr.state == ShardRange.SHARDED) or (state == SHARDED and self.is_root_container())):," # As this is a matter of stats the basic premise is that we get stats # depending on the db_state. Which can be in one of 3 states: # 1. UNSHARDED: There is only the original container db # (without an epoch in the name). # - In this case we should just look at the local object table # for stats. # 2. SHARDED: There are 2 databases, the old expiring database and # a fresh new one. # - Defer to the old retiring database for answers. # 3. SHARDED: There is only a sharded container, one with an epoch. # - It's sharded, and if a root defer to what the shards have # told it. # However, because we live in an eventually consistent world, there is # a chance that an UNSHARDED db_state container might have synced with # a replica and grabbed all the sharding metadata. In this case the # UNSHARDED container is just waiting to shard. We can check the # own_shard_range (OSR) of a container, and if it exists then we can # make further decisions. Namely, if the OSR is in the SHARDED state # then there are shards out there responsible for a more up-to-date # view of world. If we have this updated OSR metadata, then we also # have shard metadata so defer to it. if state == UNSHARDED and osr and osr.state == ShardRange.SHARDED: stats = self.get_shard_usage() elif state == SHARDING: elif state == SHARDED and self.is_root_container():",40,45
openstack%2Ftempest~master~Ibcc34cda4ead93c23c31e8aa89bdfb9a851edadd,openstack/tempest,master,Ibcc34cda4ead93c23c31e8aa89bdfb9a851edadd,Simplify compute schema handling,NEW,2021-10-11 16:30:56.000000000,2022-07-05 19:27:27.000000000,,"[{'_account_id': 8313}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 11075}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-11 16:30:56.000000000', 'files': ['tempest/lib/api_schema/response/compute/v2_70/servers.py', 'tempest/lib/api_schema/response/compute/v2_19/servers.py', 'tempest/lib/api_schema/response/compute/v2_54/servers.py', 'tempest/lib/api_schema/response/compute/v2_57/servers.py', 'tempest/lib/api_schema/response/compute/v2_16/servers.py', 'tempest/lib/api_schema/response/compute/v2_73/servers.py', 'tempest/lib/api_schema/response/compute/v2_79/servers.py', 'tempest/lib/api_schema/response/compute/__init__.py', 'tempest/lib/api_schema/response/compute/v2_26/servers.py', 'tempest/lib/api_schema/response/compute/v2_8/servers.py', 'tempest/lib/api_schema/response/compute/v2_6/servers.py', 'tempest/lib/api_schema/response/compute/v2_48/servers.py', 'tempest/lib/api_schema/response/compute/v2_71/servers.py', 'tempest/lib/api_schema/response/compute/v2_63/servers.py', 'tempest/lib/api_schema/response/compute/v2_3/servers.py', 'tempest/lib/api_schema/response/compute/v2_9/servers.py', 'tempest/lib/api_schema/response/compute/v2_47/servers.py', 'tempest/lib/api_schema/response/compute/v2_1/servers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/646a40a7859185f8414b3db9e37e4254d4849558', 'message': 'Simplify compute schema handling\n\nThe compute schema definitions are created in a way that the next schema\nversion depends on the definition of the previous schema version even if\nthe previous version does not define the given schema piece. This\nmeans a schema changes in a new version then each previous schema\nversion file needs to be touched to define a fallback variable for that\nschema piece. See the change\nhttps://review.opendev.org/c/openstack/tempest/+/812471/1 for example.\nIt only adds 3 small schema changes but it required to touch almost all\nof the schema files. This is tedious and error prone.\n\nThis patch offers an alternative approach where each schema definition\nmodule only links to to the module defining the previous version. But\nthe schema piece level fallback is automatic based on that.\n\nThis allows to remove a lot of clutter from the schema definition files\nand making adding new schema versions easier.\n\nChange-Id: Ibcc34cda4ead93c23c31e8aa89bdfb9a851edadd\n'}]",10,813459,646a40a7859185f8414b3db9e37e4254d4849558,12,5,1,9708,,,0,"Simplify compute schema handling

The compute schema definitions are created in a way that the next schema
version depends on the definition of the previous schema version even if
the previous version does not define the given schema piece. This
means a schema changes in a new version then each previous schema
version file needs to be touched to define a fallback variable for that
schema piece. See the change
https://review.opendev.org/c/openstack/tempest/+/812471/1 for example.
It only adds 3 small schema changes but it required to touch almost all
of the schema files. This is tedious and error prone.

This patch offers an alternative approach where each schema definition
module only links to to the module defining the previous version. But
the schema piece level fallback is automatic based on that.

This allows to remove a lot of clutter from the schema definition files
and making adding new schema versions easier.

Change-Id: Ibcc34cda4ead93c23c31e8aa89bdfb9a851edadd
",git fetch https://review.opendev.org/openstack/tempest refs/changes/59/813459/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/api_schema/response/compute/v2_70/servers.py', 'tempest/lib/api_schema/response/compute/v2_19/servers.py', 'tempest/lib/api_schema/response/compute/v2_54/servers.py', 'tempest/lib/api_schema/response/compute/v2_57/servers.py', 'tempest/lib/api_schema/response/compute/v2_16/servers.py', 'tempest/lib/api_schema/response/compute/v2_73/servers.py', 'tempest/lib/api_schema/response/compute/v2_79/servers.py', 'tempest/lib/api_schema/response/compute/__init__.py', 'tempest/lib/api_schema/response/compute/v2_26/servers.py', 'tempest/lib/api_schema/response/compute/v2_8/servers.py', 'tempest/lib/api_schema/response/compute/v2_6/servers.py', 'tempest/lib/api_schema/response/compute/v2_48/servers.py', 'tempest/lib/api_schema/response/compute/v2_71/servers.py', 'tempest/lib/api_schema/response/compute/v2_63/servers.py', 'tempest/lib/api_schema/response/compute/v2_3/servers.py', 'tempest/lib/api_schema/response/compute/v2_9/servers.py', 'tempest/lib/api_schema/response/compute/v2_47/servers.py', 'tempest/lib/api_schema/response/compute/v2_1/servers.py']",18,646a40a7859185f8414b3db9e37e4254d4849558,microversion-schema-handling-refactor,"import sys from tempest.lib.api_schema.response import compute # this replaces the module definition with a Schema object that wraps the # module. This *has to be the last instruction* in the module definition. sys.modules[__name__] = compute.Schema( previous_schema_module=None, schema_module=sys.modules[__name__])",,157,258
openstack%2Fopenstack-tempest-skiplist~master~Ib1b2c7c7171e1fa1c60a5c9c110d94bff6eb0da3,openstack/openstack-tempest-skiplist,master,Ib1b2c7c7171e1fa1c60a5c9c110d94bff6eb0da3,Add featureset061 group into tempest-allow,MERGED,2022-05-30 11:09:11.000000000,2022-07-05 19:26:11.000000000,2022-07-05 19:25:00.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-05-30 11:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/7fb5cbae14fe52aa6dc431e52483abc1e31d4bc8', 'message': 'Add featureset061 group into tempest-allow\n\nThis add featureset061 group in tempest-allow\nto be used with featureset061 jobs.\n\nChange-Id: Ib1b2c7c7171e1fa1c60a5c9c110d94bff6eb0da3\n'}, {'number': 2, 'created': '2022-07-04 09:00:09.000000000', 'files': ['roles/validate-tempest/vars/tempest_allow.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/3326e82e6b08d2e2ef32851053b26e6609f041ff', 'message': 'Add featureset061 group into tempest-allow\n\nThis add featureset061 group in tempest-allow\nto be used with featureset061 jobs.\n\nChange-Id: Ib1b2c7c7171e1fa1c60a5c9c110d94bff6eb0da3\n'}]",5,843839,3326e82e6b08d2e2ef32851053b26e6609f041ff,14,5,2,31075,,,0,"Add featureset061 group into tempest-allow

This add featureset061 group in tempest-allow
to be used with featureset061 jobs.

Change-Id: Ib1b2c7c7171e1fa1c60a5c9c110d94bff6eb0da3
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/39/843839/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_allow.yml'],1,7fb5cbae14fe52aa6dc431e52483abc1e31d4bc8,tempest_allow_list, - name: featureset061 # containers-undercloud-minion tests: - 'tempest.api.identity' - 'tempest.api.image.v2.test_images.BasicOperationsImagesTest' - 'tempest.api.image.v2.test_images_tags_negative.ImagesTagsNegativeTest' - 'tempest.api.image.v2.test_images_member_negative.ImagesMemberNegativeTest' - 'tempest.api.compute.admin.test_flavors' - 'tempest.api.compute.flavors' - 'tempest.api.compute.keypairs' - 'tempest.api.compute.admin.test_quotas' - 'tempest.api.compute.admin.test_aggregates_negative' - 'tempest.api.compute.security_groups' - 'tempest.api.network.test_networks' - 'tempest.api.network.test_networks_negative' - 'tempest.api.network.test_security_groups_negative' - 'tempest.api.network.test_ports' - 'tempest.api.network.test_routers_negative' releases: - master - wallaby - victoria - train,,22,0
openstack%2Fopenstack-ansible~master~I5ae6cb1eaaa7c09df9c3efaf2a32ce1a7c80bb0d,openstack/openstack-ansible,master,I5ae6cb1eaaa7c09df9c3efaf2a32ce1a7c80bb0d,Re-add NoLogPasswords ansible-lint rule,ABANDONED,2021-06-07 08:30:47.000000000,2022-07-05 19:16:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-07 08:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5780b64f59299baa626ac41f4c7bb639aef74dd5', 'message': ""Re-add NoLogPasswords ansible-lint rule\n\nBecause of ansible-lint descision to drop NoLogPasswords rule from\nthe list [1][2]\nwe're re-adding rule locally again but in the integrated repo.\n\n[1] https://github.com/ansible-community/ansible-lint/discussions/1605\n[2] https://github.com/ansible-community/ansible-lint/discussions/1589\n\nChange-Id: I5ae6cb1eaaa7c09df9c3efaf2a32ce1a7c80bb0d\n""}, {'number': 2, 'created': '2021-06-07 08:36:11.000000000', 'files': ['tests/ansible-lint/NoLogPasswordsRule.py', 'test-requirements.txt', 'scripts/gate-check-commit.sh', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/369fd071f644ef613e6970fb2de4da7663b01db0', 'message': ""Re-add NoLogPasswords ansible-lint rule\n\nBecause of ansible-lint descision to drop NoLogPasswords rule from\nthe list [1][2]\nwe're re-adding rule locally again but in the integrated repo.\n\n[1] https://github.com/ansible-community/ansible-lint/discussions/1605\n[2] https://github.com/ansible-community/ansible-lint/discussions/1589\n\nChange-Id: I5ae6cb1eaaa7c09df9c3efaf2a32ce1a7c80bb0d\n""}]",0,795062,369fd071f644ef613e6970fb2de4da7663b01db0,7,2,2,28619,,,0,"Re-add NoLogPasswords ansible-lint rule

Because of ansible-lint descision to drop NoLogPasswords rule from
the list [1][2]
we're re-adding rule locally again but in the integrated repo.

[1] https://github.com/ansible-community/ansible-lint/discussions/1605
[2] https://github.com/ansible-community/ansible-lint/discussions/1589

Change-Id: I5ae6cb1eaaa7c09df9c3efaf2a32ce1a7c80bb0d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/62/795062/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/ansible-lint/NoLogPasswordsRule.py', 'test-requirements.txt', 'scripts/gate-check-commit.sh', '.ansible-lint']",4,5780b64f59299baa626ac41f4c7bb639aef74dd5,, rulesdir: - ./tests/ansible-lint/,,257,0
openstack%2Fmanila~master~Id9faa4f73996cb7467b7361d0406c980f06905c2,openstack/manila,master,Id9faa4f73996cb7467b7361d0406c980f06905c2,NetApp OnTap: Fix compatibility check for share migrate,MERGED,2021-12-07 14:54:42.000000000,2022-07-05 19:09:33.000000000,2021-12-15 23:54:48.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-12-07 14:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7cd7a34d16041457012e2e840a36a75f733d1c25', 'message': ""NetApp OnTap: Fix compatibility check for share migrate\n\nThe issue happens when the parameter 'encrypt-destination' is sent to\nOnTap devices with version lower than 9.0 or OnTapi lower then 1.110.\n\nThis patch adds a condition to check these versions and ignore the flag\naddition if needed on '_send_volume_move_request'.\n\nCloses-Bug: 1915237\nChange-Id: Id9faa4f73996cb7467b7361d0406c980f06905c2\n""}, {'number': 2, 'created': '2021-12-08 19:18:20.000000000', 'files': ['manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'releasenotes/notes/bug-1915237-netapp-fix-encrypt-check-on-migrate-1e39bd7f19651972.yaml', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/9417ece45629d4103d2b37a593dfbcc7e774362c', 'message': ""NetApp OnTap: Fix compatibility check for share migrate\n\nThe issue happens when the parameter 'encrypt-destination' is sent to\nOnTap devices with version lower than 9.0 or OnTapi lower then 1.110.\n\nThis patch adds a condition to check these versions and ignore the flag\naddition if needed on '_send_volume_move_request'.\n\nCloses-Bug: 1915237\nChange-Id: Id9faa4f73996cb7467b7361d0406c980f06905c2\n""}]",10,820891,9417ece45629d4103d2b37a593dfbcc7e774362c,24,3,2,33431,,,0,"NetApp OnTap: Fix compatibility check for share migrate

The issue happens when the parameter 'encrypt-destination' is sent to
OnTap devices with version lower than 9.0 or OnTapi lower then 1.110.

This patch adds a condition to check these versions and ignore the flag
addition if needed on '_send_volume_move_request'.

Closes-Bug: 1915237
Change-Id: Id9faa4f73996cb7467b7361d0406c980f06905c2
",git fetch https://review.opendev.org/openstack/manila refs/changes/91/820891/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'releasenotes/notes/bug-1915237-netapp-fix-encrypt-check-on-migrate-1e39bd7f19651972.yaml', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py']",3,7cd7a34d16041457012e2e840a36a75f733d1c25,bug/1915237," ontap_version = self.get_system_version()['version-tuple'] ontapi_version = self.get_ontapi_version(cached=True) if ontap_version >= (9, 1, 0) and ontapi_version >= (1, 110): if self.features.FLEXVOL_ENCRYPTION and encrypt_destination: api_args['encrypt-destination'] = 'true' elif encrypt_destination: msg = 'Flexvol encryption is not supported on this backend.' raise exception.NetAppException(msg) else: api_args['encrypt-destination'] = 'false'", if self.features.FLEXVOL_ENCRYPTION and encrypt_destination: api_args['encrypt-destination'] = 'true' elif encrypt_destination: msg = 'Flexvol encryption is not supported on this backend.' raise exception.NetAppException(msg) else: api_args['encrypt-destination'] = 'false',52,10
openstack%2Fneutron~stable%2Fussuri~Ic9e8586991866ebca0b24bfe691e541c198d18d7,openstack/neutron,stable/ussuri,Ic9e8586991866ebca0b24bfe691e541c198d18d7,[OVN][Placement] Make the Placement reporter compatible with OVN,MERGED,2022-07-01 11:18:38.000000000,2022-07-05 19:08:11.000000000,2022-07-05 19:06:45.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 11:18:38.000000000', 'files': ['neutron/services/placement_report/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f271d66c87cdb3711e649014aa4445957483aef1', 'message': '[OVN][Placement] Make the Placement reporter compatible with OVN\n\nMake the ""PlacementReportPlugin"" and the ""PlacementReporterAgents""\nclasses compatible with agent-less mechanism drivers. OVN mechanism\ndriver cannot report any agent to the supported agent type list.\n\nNOTE: this patch belongs to a series of patches to provide support\nin OVN to report to Placement. However, this patch is backported to\nstable releases to fix LP#1980488. This way, OVN won\'t report anything\nto Placement and at the same time won\'t break the call to\n""handle_placement_config"" when another mech driver agent (in the\nLP example SR-IOV) pushes a heartbeat and updates the resource\nprovider values.\n\nCloses-Bug: #1980488\nRelated-Bug: #1578989\nChange-Id: Ic9e8586991866ebca0b24bfe691e541c198d18d7\n(cherry picked from commit 0ae8eba7e73e050369478ba095c03371ed5f5718)\n(cherry picked from commit 616085537d4a20da4e0f44bb402b3b3f098af92b)\n'}]",2,848433,f271d66c87cdb3711e649014aa4445957483aef1,16,3,1,16688,,,0,"[OVN][Placement] Make the Placement reporter compatible with OVN

Make the ""PlacementReportPlugin"" and the ""PlacementReporterAgents""
classes compatible with agent-less mechanism drivers. OVN mechanism
driver cannot report any agent to the supported agent type list.

NOTE: this patch belongs to a series of patches to provide support
in OVN to report to Placement. However, this patch is backported to
stable releases to fix LP#1980488. This way, OVN won't report anything
to Placement and at the same time won't break the call to
""handle_placement_config"" when another mech driver agent (in the
LP example SR-IOV) pushes a heartbeat and updates the resource
provider values.

Closes-Bug: #1980488
Related-Bug: #1578989
Change-Id: Ic9e8586991866ebca0b24bfe691e541c198d18d7
(cherry picked from commit 0ae8eba7e73e050369478ba095c03371ed5f5718)
(cherry picked from commit 616085537d4a20da4e0f44bb402b3b3f098af92b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/848433/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/placement_report/plugin.py'],1,f271d66c87cdb3711e649014aa4445957483aef1,bug/1980488," self._supported_agent_types = None if self._supported_agent_types is None: if (driver.obj.resource_provider_uuid5_namespace is not None and hasattr(driver.obj, 'agent_type') and driver.obj.agent_type)] supported_agents = ', '.join(self._supported_agent_types) or 'None' supported_agents)"," self._supported_agent_types = [] if not self._supported_agent_types: if driver.obj.resource_provider_uuid5_namespace is not None] ', '.join(self._supported_agent_types))",7,4
openstack%2Ftripleo-ansible~stable%2Ftrain~I264624683ef8d8c279073ac820ed73b13dd0f2b5,openstack/tripleo-ansible,stable/train,I264624683ef8d8c279073ac820ed73b13dd0f2b5,Create /etc/cni/net.d if it does not exist,MERGED,2022-06-23 16:50:28.000000000,2022-07-05 19:06:38.000000000,2022-07-05 19:06:38.000000000,"[{'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 17216}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-23 16:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7a4ca173b3c7664daddf6a9a73fa6589344d5cb8', 'message': 'Create /etc/cni/net.d if it does not exist\n\nWith podman 3.3 /etc/cni/net.d is not shipped by default on new\ninstallations (it is only kept around when upgrading rpms. See\n[1] for reference).\n\nTo avoid the following error we just make sure it exists at all times:\n2021-09-01 11:21:36.206658 | 52540091-d4aa-1b13-79a6-000000000a52 |      FATAL | Update default network configuration if possible | undercloud-0 | error={""changed"": false, ""checksum"": ""ece5f2caab61ae83ae546c73ae36f95ff219a2c8"", ""msg"": ""Destination directory /etc/cni/net.d does not exist""}\n\nTested on centos9:\n2021-09-01 14:11:05.023124 | 52540007-257c-e8fb-c605-000000000a51 |       TASK | Delete legacy cni0 interface (podman < 1.6)\n2021-09-01 14:11:05.047931 | 52540007-257c-e8fb-c605-000000000a51 |    SKIPPED | Delete legacy cni0 interface (podman < 1.6) | undercloud-0^[[0m\n2021-09-01 14:11:05.048606 | 52540007-257c-e8fb-c605-000000000a51 |     TIMING | tripleo_podman : Delete legacy cni0 interface (podman < 1.6) | undercloud-0 | 0:01:53.699516 | 0.02s^[[0m\n2021-09-01 14:11:05.064588 | 52540007-257c-e8fb-c605-000000000a53 |       TASK | Make sure /etc/cni/net.d folder exists\n2021-09-01 14:11:05.236680 | 52540007-257c-e8fb-c605-000000000a53 |    CHANGED | Make sure /etc/cni/net.d folder exists | undercloud-0^[[0m\n2021-09-01 14:11:05.237553 | 52540007-257c-e8fb-c605-000000000a53 |     TIMING | tripleo_podman : Make sure /etc/cni/net.d folder exists | undercloud-0 | 0:01:53.888439 | 0.17s^[[0m\n2021-09-01 14:11:05.253416 | 52540007-257c-e8fb-c605-000000000a54 |       TASK | Update default network configuration if possible\n2021-09-01 14:11:05.594105 | 52540007-257c-e8fb-c605-000000000a54 |    CHANGED | Update default network configuration if possible | undercloud-0^[[0m\n2021-09-01 14:11:05.594957 | 52540007-257c-e8fb-c605-000000000a54 |     TIMING | tripleo_podman : Update default network configuration if possible | undercloud-0 | 0:01:54.245866 | 0.34s^[[0m\n\n[1] https://git.centos.org/rpms/podman/c/89639c19dfff7506d6fd9e3c828026f2b91725d1?branch=c8s-stream-rhel8\n\nChange-Id: I264624683ef8d8c279073ac820ed73b13dd0f2b5\n(cherry picked from commit dee317e454f0c512de4f3919f7225c6408f536f4)\n'}, {'number': 2, 'created': '2022-06-23 19:56:22.000000000', 'files': ['tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/20ea8529a2dbdb66ad4ccc2e0d9f6c7a1b291ad9', 'message': 'Create /etc/cni/net.d if it does not exist\n\nWith podman 3.3 /etc/cni/net.d is not shipped by default on new\ninstallations (it is only kept around when upgrading rpms. See\n[1] for reference).\n\nTo avoid the following error we just make sure it exists at all times:\n2021-09-01 11:21:36.206658 | 52540091-d4aa-1b13-79a6-000000000a52 |      FATAL | Update default network configuration if possible | undercloud-0 | error={""changed"": false, ""checksum"": ""ece5f2caab61ae83ae546c73ae36f95ff219a2c8"", ""msg"": ""Destination directory /etc/cni/net.d does not exist""}\n\nTested on centos9:\n2021-09-01 14:11:05.023124 | 52540007-257c-e8fb-c605-000000000a51 |       TASK | Delete legacy cni0 interface (podman < 1.6)\n2021-09-01 14:11:05.047931 | 52540007-257c-e8fb-c605-000000000a51 |    SKIPPED | Delete legacy cni0 interface (podman < 1.6) | undercloud-0^[[0m\n2021-09-01 14:11:05.048606 | 52540007-257c-e8fb-c605-000000000a51 |     TIMING | tripleo_podman : Delete legacy cni0 interface (podman < 1.6) | undercloud-0 | 0:01:53.699516 | 0.02s^[[0m\n2021-09-01 14:11:05.064588 | 52540007-257c-e8fb-c605-000000000a53 |       TASK | Make sure /etc/cni/net.d folder exists\n2021-09-01 14:11:05.236680 | 52540007-257c-e8fb-c605-000000000a53 |    CHANGED | Make sure /etc/cni/net.d folder exists | undercloud-0^[[0m\n2021-09-01 14:11:05.237553 | 52540007-257c-e8fb-c605-000000000a53 |     TIMING | tripleo_podman : Make sure /etc/cni/net.d folder exists | undercloud-0 | 0:01:53.888439 | 0.17s^[[0m\n2021-09-01 14:11:05.253416 | 52540007-257c-e8fb-c605-000000000a54 |       TASK | Update default network configuration if possible\n2021-09-01 14:11:05.594105 | 52540007-257c-e8fb-c605-000000000a54 |    CHANGED | Update default network configuration if possible | undercloud-0^[[0m\n2021-09-01 14:11:05.594957 | 52540007-257c-e8fb-c605-000000000a54 |     TIMING | tripleo_podman : Update default network configuration if possible | undercloud-0 | 0:01:54.245866 | 0.34s^[[0m\n\n[1] https://git.centos.org/rpms/podman/c/89639c19dfff7506d6fd9e3c828026f2b91725d1?branch=c8s-stream-rhel8\n\nChange-Id: I264624683ef8d8c279073ac820ed73b13dd0f2b5\n(cherry picked from commit dee317e454f0c512de4f3919f7225c6408f536f4)\n'}]",3,847383,20ea8529a2dbdb66ad4ccc2e0d9f6c7a1b291ad9,12,6,2,23811,,,0,"Create /etc/cni/net.d if it does not exist

With podman 3.3 /etc/cni/net.d is not shipped by default on new
installations (it is only kept around when upgrading rpms. See
[1] for reference).

To avoid the following error we just make sure it exists at all times:
2021-09-01 11:21:36.206658 | 52540091-d4aa-1b13-79a6-000000000a52 |      FATAL | Update default network configuration if possible | undercloud-0 | error={""changed"": false, ""checksum"": ""ece5f2caab61ae83ae546c73ae36f95ff219a2c8"", ""msg"": ""Destination directory /etc/cni/net.d does not exist""}

Tested on centos9:
2021-09-01 14:11:05.023124 | 52540007-257c-e8fb-c605-000000000a51 |       TASK | Delete legacy cni0 interface (podman < 1.6)
2021-09-01 14:11:05.047931 | 52540007-257c-e8fb-c605-000000000a51 |    SKIPPED | Delete legacy cni0 interface (podman < 1.6) | undercloud-0^[[0m
2021-09-01 14:11:05.048606 | 52540007-257c-e8fb-c605-000000000a51 |     TIMING | tripleo_podman : Delete legacy cni0 interface (podman < 1.6) | undercloud-0 | 0:01:53.699516 | 0.02s^[[0m
2021-09-01 14:11:05.064588 | 52540007-257c-e8fb-c605-000000000a53 |       TASK | Make sure /etc/cni/net.d folder exists
2021-09-01 14:11:05.236680 | 52540007-257c-e8fb-c605-000000000a53 |    CHANGED | Make sure /etc/cni/net.d folder exists | undercloud-0^[[0m
2021-09-01 14:11:05.237553 | 52540007-257c-e8fb-c605-000000000a53 |     TIMING | tripleo_podman : Make sure /etc/cni/net.d folder exists | undercloud-0 | 0:01:53.888439 | 0.17s^[[0m
2021-09-01 14:11:05.253416 | 52540007-257c-e8fb-c605-000000000a54 |       TASK | Update default network configuration if possible
2021-09-01 14:11:05.594105 | 52540007-257c-e8fb-c605-000000000a54 |    CHANGED | Update default network configuration if possible | undercloud-0^[[0m
2021-09-01 14:11:05.594957 | 52540007-257c-e8fb-c605-000000000a54 |     TIMING | tripleo_podman : Update default network configuration if possible | undercloud-0 | 0:01:54.245866 | 0.34s^[[0m

[1] https://git.centos.org/rpms/podman/c/89639c19dfff7506d6fd9e3c828026f2b91725d1?branch=c8s-stream-rhel8

Change-Id: I264624683ef8d8c279073ac820ed73b13dd0f2b5
(cherry picked from commit dee317e454f0c512de4f3919f7225c6408f536f4)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/83/847383/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_install.yml'],1,7a4ca173b3c7664daddf6a9a73fa6589344d5cb8,," block: - name: Make sure /etc/cni/net.d folder exists file: path: /etc/cni/net.d state: directory recurse: true mode: 0755 owner: root group: root - name: Update default network configuration if possible copy: dest: /etc/cni/net.d/87-podman-bridge.conflist content: ""{{ tripleo_podman_default_network_config | to_json }}"" mode: '0644' owner: root group: root"," copy: dest: /etc/cni/net.d/87-podman-bridge.conflist content: ""{{ tripleo_podman_default_network_config | to_json }}"" mode: '0644' owner: root group: root",17,6
openstack%2Fglance~master~I75ac27ea78bde86651e1b3c0920b194b5c5a510f,openstack/glance,master,I75ac27ea78bde86651e1b3c0920b194b5c5a510f,Change some URLs to point to more accurate targets,ABANDONED,2019-05-13 02:13:24.000000000,2022-07-05 19:05:37.000000000,,"[{'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 26233}]","[{'number': 1, 'created': '2019-05-13 02:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ad4d179b7b3204b636174c75ad6acfbbf48b0b92', 'message': 'Change some URLs to point to more accurate targets\n\nThis is to change some URLs to point to more accurate targets.\n\nChange-Id: I75ac27ea78bde86651e1b3c0920b194b5c5a510f\n'}, {'number': 2, 'created': '2019-05-14 03:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5dbe9cc7a8a76d041534dda04d9064f4519fa384', 'message': 'Change some URLs to point to more accurate targets\n\nThis is to change some URLs to point to more accurate targets.\n\nChange-Id: I75ac27ea78bde86651e1b3c0920b194b5c5a510f\n'}, {'number': 3, 'created': '2019-06-12 01:28:26.000000000', 'files': ['doc/source/install/verify.rst', 'doc/source/admin/manage-images.rst', 'doc/source/user/glanceclient.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/51db77b5f2d41e34ae7bf0cb62fd8ec5790957b9', 'message': 'Change some URLs to point to more accurate targets\n\nThis is to change some URLs to point to more accurate targets.\n\nChange-Id: I75ac27ea78bde86651e1b3c0920b194b5c5a510f\n'}]",2,658714,51db77b5f2d41e34ae7bf0cb62fd8ec5790957b9,13,5,3,20190,,,0,"Change some URLs to point to more accurate targets

This is to change some URLs to point to more accurate targets.

Change-Id: I75ac27ea78bde86651e1b3c0920b194b5c5a510f
",git fetch https://review.opendev.org/openstack/glance refs/changes/14/658714/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/verify.rst', 'glance/hacking/checks.py']",2,ad4d179b7b3204b636174c75ad6acfbbf48b0b92,broken_url," ""https://docs.python.org/2.7/library/contextlib.html#contextlib."""," ""https://docs.python.org/2/library/contextlib.html#contextlib.""",2,2
openstack%2Fglance~master~If7342d78bef6d5683323f063ce3cf83ca8dfd785,openstack/glance,master,If7342d78bef6d5683323f063ce3cf83ca8dfd785,Update url in HACKING.rst,ABANDONED,2018-06-21 13:41:11.000000000,2022-07-05 19:05:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-06-21 13:41:11.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/f4152edae655dd59d329ca5d7766043199786880', 'message': 'Update url in HACKING.rst\n\nChange-Id: If7342d78bef6d5683323f063ce3cf83ca8dfd785\n'}]",0,577163,f4152edae655dd59d329ca5d7766043199786880,3,1,1,27368,,,0,"Update url in HACKING.rst

Change-Id: If7342d78bef6d5683323f063ce3cf83ca8dfd785
",git fetch https://review.opendev.org/openstack/glance refs/changes/63/577163/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,f4152edae655dd59d329ca5d7766043199786880,, https://docs.openstack.org/hacking/latest/, http://docs.openstack.org/developer/hacking/,1,1
openstack%2Fglance~master~I7edc280f4a9d3376e07c29310df9f68cff74710d,openstack/glance,master,I7edc280f4a9d3376e07c29310df9f68cff74710d,update doc url to new,ABANDONED,2018-08-16 00:28:18.000000000,2022-07-05 19:05:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 26775}]","[{'number': 1, 'created': '2018-08-16 00:28:18.000000000', 'files': ['api-ref/source/v2/metadefs-index.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/c206088117fd37dd6500e1d2a9e303f57f4a9c38', 'message': 'update doc url to new\n\nChange-Id: I7edc280f4a9d3376e07c29310df9f68cff74710d\n'}]",0,592227,c206088117fd37dd6500e1d2a9e303f57f4a9c38,4,2,1,27385,,,0,"update doc url to new

Change-Id: I7edc280f4a9d3376e07c29310df9f68cff74710d
",git fetch https://review.opendev.org/openstack/glance refs/changes/27/592227/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/metadefs-index.rst'],1,c206088117fd37dd6500e1d2a9e303f57f4a9c38,modify_url,<https://docs.openstack.org/glance/latest/user/metadefs-concepts.html>`_ in the,<http://docs.openstack.org/developer/glance/metadefs-concepts.html>`_ in the,1,1
openstack%2Fmanila~stable%2Fxena~I4c10bcdfc499452d4b05dfbee8059be35dfe5586,openstack/manila,stable/xena,I4c10bcdfc499452d4b05dfbee8059be35dfe5586,Force disk wipe when running lvcreate,MERGED,2022-07-01 16:40:25.000000000,2022-07-05 18:51:53.000000000,2022-07-05 18:50:42.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-07-01 16:40:25.000000000', 'files': ['manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/63c3757951db1a259b4cd52ee09d985574117bcd', 'message': ""Force disk wipe when running lvcreate\n\nThe LVM driver may fail while creating new volumes using the\nlvcreate command. Sometimes it can say an existing ext4 filesystem\nwas found in the destination, but we shouldn't be worried about it.\nThis change modifies the behavior and forces the lvcreate command\nto wipe the space if a signature was found.\n\nChange-Id: I4c10bcdfc499452d4b05dfbee8059be35dfe5586\n(cherry picked from commit 89028725d1ac6890332f4c06a30c2416ea951aff)\n""}]",4,848366,63c3757951db1a259b4cd52ee09d985574117bcd,14,3,1,29632,,,0,"Force disk wipe when running lvcreate

The LVM driver may fail while creating new volumes using the
lvcreate command. Sometimes it can say an existing ext4 filesystem
was found in the destination, but we shouldn't be worried about it.
This change modifies the behavior and forces the lvcreate command
to wipe the space if a signature was found.

Change-Id: I4c10bcdfc499452d4b05dfbee8059be35dfe5586
(cherry picked from commit 89028725d1ac6890332f4c06a30c2416ea951aff)
",git fetch https://review.opendev.org/openstack/manila refs/changes/66/848366/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/lvm.py']",2,63c3757951db1a259b4cd52ee09d985574117bcd,," cmd = ['lvcreate', '-Wy', '--yes', '-L', sizestr, '-n', share['name'], 'lvcreate', '-L', '%sG' % snapshot['share']['size'], '--name', snapshot['name'],"," cmd = ['lvcreate', '-L', sizestr, '-n', share['name'], 'lvcreate', '-L', '%sG' % snapshot['share']['size'], '--name', snapshot['name'],",7,8
openstack%2Fironic-python-agent~master~I341b8a2220a49c5a7c3f78fed3a1baa0f0638cde,openstack/ironic-python-agent,master,I341b8a2220a49c5a7c3f78fed3a1baa0f0638cde,CI: Removing ironic job queue,MERGED,2022-05-19 18:20:39.000000000,2022-07-05 18:13:19.000000000,2022-07-05 18:10:42.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-19 18:20:39.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/be5d1463bb69c408d896cd855339b99c4404bcef', 'message': 'CI: Removing ironic job queue\n\nPlease see:\nhttps://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n\nChange-Id: I341b8a2220a49c5a7c3f78fed3a1baa0f0638cde\n'}]",3,842605,be5d1463bb69c408d896cd855339b99c4404bcef,17,4,1,11655,,,0,"CI: Removing ironic job queue

Please see:
https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes

Change-Id: I341b8a2220a49c5a7c3f78fed3a1baa0f0638cde
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/05/842605/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,be5d1463bb69c408d896cd855339b99c4404bcef,drop-queue-ironic,, queue: ironic,0,1
openstack%2Fovn-octavia-provider~stable%2Fyoga~I832780660a3658552dc8fb50c3e232306e1fa110,openstack/ovn-octavia-provider,stable/yoga,I832780660a3658552dc8fb50c3e232306e1fa110,Remove incorrect character in f-string,MERGED,2022-03-21 13:57:23.000000000,2022-07-05 18:07:18.000000000,2022-07-05 18:05:57.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-03-21 13:57:23.000000000', 'files': ['ovn_octavia_provider/helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b17e4769015a749e211b9b394437523f8f840563', 'message': ""Remove incorrect character in f-string\n\nPatch [1] switched to f-strings, unwillingly introducing a 'i' to an\nip address. This change corrects that error\n\n[1] https://review.opendev.org/c/openstack/ovn-octavia-provider/+/816829\n\nCloses-Bug: #1965530\nChange-Id: I832780660a3658552dc8fb50c3e232306e1fa110\n(cherry picked from commit 90bd5dc71ecd4891fcd9292d56726f034a59fbdf)\n""}]",1,834471,b17e4769015a749e211b9b394437523f8f840563,14,5,1,21798,,,0,"Remove incorrect character in f-string

Patch [1] switched to f-strings, unwillingly introducing a 'i' to an
ip address. This change corrects that error

[1] https://review.opendev.org/c/openstack/ovn-octavia-provider/+/816829

Closes-Bug: #1965530
Change-Id: I832780660a3658552dc8fb50c3e232306e1fa110
(cherry picked from commit 90bd5dc71ecd4891fcd9292d56726f034a59fbdf)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/71/834471/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/helper.py'],1,b17e4769015a749e211b9b394437523f8f840563,bug-1965530-stable/yoga, member_src += f'{hm_source_ip}', member_src += f'i{hm_source_ip}',1,1
openstack%2Fmanila~master~I8eda1c849d0d1916345959178f32756e8a1e9c0e,openstack/manila,master,I8eda1c849d0d1916345959178f32756e8a1e9c0e,Stop logging sensitive login information,MERGED,2022-06-28 17:45:12.000000000,2022-07-05 17:50:42.000000000,2022-07-05 17:48:46.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}]","[{'number': 1, 'created': '2022-06-28 17:45:12.000000000', 'files': ['releasenotes/notes/bug-1976370-stop-logging-login-information-b726d05ee805df27.yaml', 'manila/utils.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/517966292af2eccb4f98520aba4374f463de21c9', 'message': 'Stop logging sensitive login information\n\nusernames and passwords must never be logged\nby the service, even in debug mode.\n\nChange-Id: I8eda1c849d0d1916345959178f32756e8a1e9c0e\nCloses-Bug: #1976370\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",2,848016,517966292af2eccb4f98520aba4374f463de21c9,14,5,1,16643,,,0,"Stop logging sensitive login information

usernames and passwords must never be logged
by the service, even in debug mode.

Change-Id: I8eda1c849d0d1916345959178f32756e8a1e9c0e
Closes-Bug: #1976370
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/16/848016/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1976370-stop-logging-login-information-b726d05ee805df27.yaml', 'manila/utils.py']",2,517966292af2eccb4f98520aba4374f463de21c9,bug/1976370," LOG.debug(""ssh.connect: ip: %s, port: %s, look_for_keys: %s, """," LOG.debug(""ssh.connect: ip: %s, port: %s, username: %s, "" ""password: %s, key_filename: %s, look_for_keys: %s, "" self.login, self.password, self.path_to_private_key,",6,5
openstack%2Fneutron~master~I3d484d11e273cb8ee617f9445a069887e7b2b89f,openstack/neutron,master,I3d484d11e273cb8ee617f9445a069887e7b2b89f,Fix some pylint indentation warnings,MERGED,2022-07-01 21:54:40.000000000,2022-07-05 17:24:17.000000000,2022-07-05 17:19:29.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 21:54:40.000000000', 'files': ['neutron/cmd/eventlet/agents/l3.py', 'neutron/extensions/l3_ndp_proxy.py', 'neutron/cmd/eventlet/plugins/macvtap_neutron_agent.py', 'neutron/cmd/sanity_check.py', 'neutron/cmd/sanity/checks.py', 'neutron/wsgi.py', 'neutron/extensions/logging.py', 'neutron/extensions/qos_pps_minimum_rule.py', 'neutron/cmd/eventlet/plugins/sriov_nic_neutron_agent.py', 'neutron/cmd/eventlet/agents/dhcp.py', 'neutron/opts.py', 'neutron/cmd/eventlet/agents/metadata.py', 'neutron/cmd/eventlet/agents/ovn_metadata.py', 'neutron/extensions/qos_pps_minimum_rule_alias.py', 'neutron/cmd/upgrade_checks/checks.py', 'neutron/extensions/qos_rules_alias.py', 'neutron/extensions/floatingip_pools.py', 'neutron/quota/resource.py', 'neutron/extensions/quotasv2.py', 'neutron/extensions/qos.py', 'neutron/cmd/eventlet/plugins/ovs_neutron_agent.py', 'neutron/extensions/l3_conntrack_helper.py', 'neutron/extensions/floating_ip_port_forwarding.py', 'neutron/cmd/eventlet/plugins/linuxbridge_neutron_agent.py', 'neutron/cmd/eventlet/services/metering_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/58b1df699d2aff234aace1df2c8dca609ca7352c', 'message': ""Fix some pylint indentation warnings\n\nRunning with a stricter .pylintrc generates a lot of\nC0330 warnings (hanging/continued indentation). Fix\nsome of them, about 10%.\n\nFeel free to reject if we think it will cause too much\ntrouble with cherry-picks, else I'll slowly work my way\nthrough the rest of the tree.\n\nTrivialfix\n\nChange-Id: I3d484d11e273cb8ee617f9445a069887e7b2b89f\n""}]",4,848475,58b1df699d2aff234aace1df2c8dca609ca7352c,14,4,1,1131,,,0,"Fix some pylint indentation warnings

Running with a stricter .pylintrc generates a lot of
C0330 warnings (hanging/continued indentation). Fix
some of them, about 10%.

Feel free to reject if we think it will cause too much
trouble with cherry-picks, else I'll slowly work my way
through the rest of the tree.

Trivialfix

Change-Id: I3d484d11e273cb8ee617f9445a069887e7b2b89f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/848475/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/eventlet/agents/l3.py', 'neutron/extensions/l3_ndp_proxy.py', 'neutron/cmd/eventlet/plugins/macvtap_neutron_agent.py', 'neutron/cmd/sanity_check.py', 'neutron/cmd/sanity/checks.py', 'neutron/wsgi.py', 'neutron/extensions/logging.py', 'neutron/extensions/qos_pps_minimum_rule.py', 'neutron/cmd/eventlet/plugins/sriov_nic_neutron_agent.py', 'neutron/cmd/eventlet/agents/dhcp.py', 'neutron/opts.py', 'neutron/cmd/eventlet/agents/metadata.py', 'neutron/cmd/eventlet/agents/ovn_metadata.py', 'neutron/extensions/qos_pps_minimum_rule_alias.py', 'neutron/cmd/upgrade_checks/checks.py', 'neutron/extensions/qos_rules_alias.py', 'neutron/extensions/floatingip_pools.py', 'neutron/quota/resource.py', 'neutron/extensions/quotasv2.py', 'neutron/extensions/qos.py', 'neutron/cmd/eventlet/plugins/ovs_neutron_agent.py', 'neutron/extensions/l3_conntrack_helper.py', 'neutron/extensions/floating_ip_port_forwarding.py', 'neutron/cmd/eventlet/plugins/linuxbridge_neutron_agent.py', 'neutron/cmd/eventlet/services/metering_agent.py']",25,58b1df699d2aff234aace1df2c8dca609ca7352c,pylint-c0330," constants.AGENT_PROCESS_METERING, setproctitle.getproctitle())"," constants.AGENT_PROCESS_METERING, setproctitle.getproctitle())",71,71
openstack%2Fhorizon~master~Ie9214f7e881e8e631f3e666bea2829e66968bc9d,openstack/horizon,master,Ie9214f7e881e8e631f3e666bea2829e66968bc9d,Fix Self-closing syntax (/>) used on a non-void HTML element.,MERGED,2022-05-10 14:16:04.000000000,2022-07-05 17:13:51.000000000,2022-07-05 17:11:56.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32324}]","[{'number': 1, 'created': '2022-05-10 14:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/01ccbac93fad98d9af5219e86998e4ef498c4f4e', 'message': 'Fix Self-closing syntax (/>) used on a non-void HTML element.\n\nNewer jquery complains about syntax errors when parsing the html\ntemplate for the flavors. Running the html through the w3c checker\nyields Self-closing syntax (/>) used on a non-void HTML element.\n\nChange-Id: Ie9214f7e881e8e631f3e666bea2829e66968bc9d\n'}, {'number': 2, 'created': '2022-05-18 12:43:42.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/flavor/flavor.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/72571a53ba40577f37473d250340d5da9f2617b4', 'message': 'Fix Self-closing syntax (/>) used on a non-void HTML element.\n\nNewer jquery complains about syntax errors when parsing the html\ntemplate for the flavors. Running the html through the w3c checker\nyields Self-closing syntax (/>) used on a non-void HTML element.\n\nChange-Id: Ie9214f7e881e8e631f3e666bea2829e66968bc9d\n'}]",12,841296,72571a53ba40577f37473d250340d5da9f2617b4,36,4,2,8648,,,0,"Fix Self-closing syntax (/>) used on a non-void HTML element.

Newer jquery complains about syntax errors when parsing the html
template for the flavors. Running the html through the w3c checker
yields Self-closing syntax (/>) used on a non-void HTML element.

Change-Id: Ie9214f7e881e8e631f3e666bea2829e66968bc9d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/96/841296/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/flavor/flavor.html'],1,01ccbac93fad98d9af5219e86998e4ef498c4f4e,update-jquery," popover-trigger=""'mouseenter'""></span> popover-trigger=""'mouseenter'""></span> popover-trigger=""'mouseenter'""></span> popover-trigger=""'mouseenter'""></span> popover-trigger=""'mouseenter'""></span> popover-trigger=""'mouseenter'""></span>"," popover-trigger=""'mouseenter'""/> popover-trigger=""'mouseenter'""/> popover-trigger=""'mouseenter'""/> popover-trigger=""'mouseenter'""/> popover-trigger=""'mouseenter'""/> popover-trigger=""'mouseenter'""/>",6,6
openstack%2Fnova-specs~master~I12b00d732123986e9794d68588e4224ccdb715f3,openstack/nova-specs,master,I12b00d732123986e9794d68588e4224ccdb715f3,libvirt: Allow Manila shares to be directly attached to instances,MERGED,2022-03-14 17:12:41.000000000,2022-07-05 17:13:11.000000000,2022-07-05 17:10:58.000000000,"[{'_account_id': 6413}, {'_account_id': 6796}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 32079}, {'_account_id': 33728}]","[{'number': 1, 'created': '2022-03-14 17:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/122f6c0fc7bb93f146ac2313aa4309ea693404e3', 'message': 'libvirt: Allow Manila shares to be directly attached to instances\n\nManila is the OpenStack Shared Filesystems service. This spec will\noutline API, database, compute and libvirt driver changes required in\nNova to allow the shares provided by Manila to be associated with and\nattached to instances.\n\nAddendum, change object add share_proto field.\n\nblueprint: libvirt-virtiofs-attach-manila-shares\nChange-Id: I12b00d732123986e9794d68588e4224ccdb715f3\n'}, {'number': 2, 'created': '2022-04-06 13:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c3f1a90051fe1c12be3fcbe285551d10e626e02f', 'message': 'libvirt: Allow Manila shares to be directly attached to instances\n\nManila is the OpenStack Shared Filesystems service. This spec will\noutline API, database, compute and libvirt driver changes required in\nNova to allow the shares provided by Manila to be associated with and\nattached to instances.\n\nAddendum, change object add share_proto field.\n\nblueprint: libvirt-virtiofs-attach-manila-shares\nChange-Id: I12b00d732123986e9794d68588e4224ccdb715f3\n'}, {'number': 3, 'created': '2022-05-02 16:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7f992d5facd058cbade1480bcc3d15fea95d70f0', 'message': 'libvirt: Allow Manila shares to be directly attached to instances\n\nManila is the OpenStack Shared Filesystems service. This spec will\noutline API, database, compute and libvirt driver changes required in\nNova to allow the shares provided by Manila to be associated with and\nattached to instances.\n\nAddendum, change object add share_proto field.\n\nblueprint: libvirt-virtiofs-attach-manila-shares\nChange-Id: I12b00d732123986e9794d68588e4224ccdb715f3\n'}, {'number': 4, 'created': '2022-05-03 14:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/dd11bac6c04b5beaefedd2b18eb836436688a28e', 'message': 'libvirt: Allow Manila shares to be directly attached to instances\n\nManila is the OpenStack Shared Filesystems service. This spec will\noutline API, database, compute and libvirt driver changes required in\nNova to allow the shares provided by Manila to be associated with and\nattached to instances.\n\nAddendum, change object add share_proto field.\n\nblueprint: libvirt-virtiofs-attach-manila-shares\nChange-Id: I12b00d732123986e9794d68588e4224ccdb715f3\n'}, {'number': 5, 'created': '2022-05-03 14:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/82610d9cc3acf138dd1a480038997760dee26ee8', 'message': 'libvirt: Allow Manila shares to be directly attached to instances\n\nManila is the OpenStack Shared Filesystems service. This spec will\noutline API, database, compute and libvirt driver changes required in\nNova to allow the shares provided by Manila to be associated with and\nattached to instances.\n\nAddendum, change object add share_proto field.\n\nblueprint: libvirt-virtiofs-attach-manila-shares\nChange-Id: I12b00d732123986e9794d68588e4224ccdb715f3\n'}, {'number': 6, 'created': '2022-05-03 16:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0e762f6d553b00ba0af0361c62de1e97b414bfc7', 'message': 'libvirt: Allow Manila shares to be directly attached to instances\n\nManila is the OpenStack Shared Filesystems service. This spec will\noutline API, database, compute and libvirt driver changes required in\nNova to allow the shares provided by Manila to be associated with and\nattached to instances.\n\nAddendum, change object add share_proto field.\n\nblueprint: libvirt-virtiofs-attach-manila-shares\nChange-Id: I12b00d732123986e9794d68588e4224ccdb715f3\n'}, {'number': 7, 'created': '2022-05-18 16:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4ea6c9d22b9d9dccac5d3984b5236f41a45bb49c', 'message': 'libvirt: Allow Manila shares to be directly attached to instances\n\nManila is the OpenStack Shared Filesystems service. This spec will\noutline API, database, compute and libvirt driver changes required in\nNova to allow the shares provided by Manila to be associated with and\nattached to instances.\n\nAddendum, change object add share_proto field.\n\nblueprint: libvirt-virtiofs-attach-manila-shares\nChange-Id: I12b00d732123986e9794d68588e4224ccdb715f3\n'}, {'number': 8, 'created': '2022-05-23 13:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/03686bf748f7c681823d2c05402058f7e98f623d', 'message': 'libvirt: Allow Manila shares to be directly attached to instances\n\nManila is the OpenStack Shared Filesystems service. This spec will\noutline API, database, compute and libvirt driver changes required in\nNova to allow the shares provided by Manila to be associated with and\nattached to instances.\n\nAddendum, change object add share_proto field.\n\nblueprint: libvirt-virtiofs-attach-manila-shares\nChange-Id: I12b00d732123986e9794d68588e4224ccdb715f3\n'}, {'number': 9, 'created': '2022-05-23 17:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8f8ea7265a785706d6199cec70a3c5b10080294b', 'message': 'libvirt: Allow Manila shares to be directly attached to instances\n\nManila is the OpenStack Shared Filesystems service. This spec will\noutline API, database, compute and libvirt driver changes required in\nNova to allow the shares provided by Manila to be associated with and\nattached to instances.\n\nAddendum, change object add share_proto field.\n\nblueprint: libvirt-virtiofs-attach-manila-shares\nChange-Id: I12b00d732123986e9794d68588e4224ccdb715f3\n'}, {'number': 10, 'created': '2022-07-04 09:29:04.000000000', 'files': ['specs/zed/approved/libvirt-virtiofs-attach-manila-shares.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/58a313367c52761f13f714637c34787a121bfcc2', 'message': 'libvirt: Allow Manila shares to be directly attached to instances\n\nManila is the OpenStack Shared Filesystems service. This spec will\noutline API, database, compute and libvirt driver changes required in\nNova to allow the shares provided by Manila to be associated with and\nattached to instances.\n\nAddendum, change object add share_proto field.\n\nblueprint: libvirt-virtiofs-attach-manila-shares\nChange-Id: I12b00d732123986e9794d68588e4224ccdb715f3\n'}]",196,833669,58a313367c52761f13f714637c34787a121bfcc2,72,9,10,16207,,,0,"libvirt: Allow Manila shares to be directly attached to instances

Manila is the OpenStack Shared Filesystems service. This spec will
outline API, database, compute and libvirt driver changes required in
Nova to allow the shares provided by Manila to be associated with and
attached to instances.

Addendum, change object add share_proto field.

blueprint: libvirt-virtiofs-attach-manila-shares
Change-Id: I12b00d732123986e9794d68588e4224ccdb715f3
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/69/833669/10 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/approved/libvirt-virtiofs-attach-manila-shares.rst'],1,122f6c0fc7bb93f146ac2313aa4309ea693404e3,bp/manila_shares_attachments,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================================================= Allow Manila shares to be directly attached to an instance when using libvirt ============================================================================= https://blueprints.launchpad.net/nova/+spec/libvirt-virtiofs-attach-manila-shares Manila is the OpenStack Shared Filesystems service. This spec will outline API, database, compute and libvirt driver changes required in Nova to allow the shares provided by Manila to be associated with and attached to instances. Problem description =================== At present users must manually connect to and mount shares provided by Manila within their instances. As a result of this Manila has to expose details of the backend storage infrastructure to the user and allow the datapath to flow over tenant addressable networks into the users instances. An alternative to this is for Nova to mount these shares on the underlying compute host and then pass through the provided filesystems to the instance, keeping the datapath outside of any tenant addressable network and without exposing details about the backend storage infrastructure. Use Cases --------- - As a user I want to attach Manila shares directly to my instance and have a simple interface with which to mount them within the instance. - As a user I want to detach a directly attached Manila share from my instance. - As a user I want to track the Manila shares attached to my instance. - As an operator I want the Manila datapath to be separate to any tenant accessible networks. - As an operator I don't want to expose details of my storage infrastructure to users. Proposed change =============== This initial implementation will only provide support for attaching a share to and later detaching a share from an existing ``SHUTOFF`` instance. The ability to express attachments during the initial creation of an instance will not be covered by this spec. Support for move operations once a share is attached will also not be covered by this spec, any requests to shelve, evacuate, resize, cold migrate or live migrate an instance with a share attached will be rejected for the time being. A new server ``shares`` API will be introduced under a new microversion. This will list current shares, show their details and allow a share to be attached or detached. A new ``share_mapping`` database table and associated ``ShareMapping`` versioned objects will be introduced to capture details of the share attachment. A base ShareMapping versioned object will be provided from which virt driver and backend share specific objects can be derived providing specific share attach and detach implementations. .. note:: One thing to note here is that no Manila state will be stored within Nova aside from export details used to initially attach the share. These details later being used when detaching the share. If the share is then reattached Nova will request fresh export details from Manila and store these in a new share attachment within Nova. The libvirt driver will be extended to support the above with initial support for cold attach and detach. Future work will aim to add live attach and detach once `support lands in libvirt itself`__. .. __: https://listman.redhat.com/archives/libvir-list/2021-October/msg00097.html This initial libvirt support will target the basic NFS and slightly more complex CephFS backends within Manila. Shares will be mapped through to the underlying libvirt domains using ``virtio-fs``. This will require ``QEMU`` >=5.0 and ``libvirt`` >= 6.2 on the compute host and a kernel version of >= 5.4 within the instance guest OS. Additionally this initial implementation will require that the associated instances use `file backed memory`__ or `huge pages`__. This is a requirement of `virtio-fs`__ as the ``virtiofsd`` service uses the `vhost-user`__ protocol to communicate directly with the underlying guest. Two new compute compatibility traits will be introduced to model an individual compute's support for virtio-fs and file backed memory. - ``COMPUTE_STORAGE_VIRTIO_FS`` - ``COMPUTE_MEM_BACKING_FILE`` These will then be used along with the flavor and image metadata associated with the instance to ensure the above requirements are met during a request to attach a share. .. __: https://docs.openstack.org/nova/latest/admin/file-backed-memory.html .. __: https://docs.openstack.org/nova/latest/admin/huge-pages.html .. __: https://virtio-fs.gitlab.io/ .. __: https://qemu-project.gitlab.io/qemu/interop/vhost-user.html Future work will look into dropping this requirement and introducing a more robust way of allowing access to the underlying guest memory via flavor extra specs and image properties but that is left out of scope for this spec. Users will be able to mount the attached shares using a mount tag, this is either the share UUID from Manila or a string provided by the user with their request to attach the share. .. code-block:: shell user@instance $ mount -t virtiofs $tag /mnt/mount/path A previously discussed ``os-share`` library will not be created with this initial implementation but could be in the future if the logic required to mount and track shares on the underlying host is also required by other projects. For the time being `existing code within the libvirt driver`__ used to track filesystem host mounts used by volumes hosted on ``remoteFS`` based storage (such as NFS, SMB etc) will be reused as much as possible. .. __: https://github.com/openstack/nova/blob/8f250f50446ca2d7aa84609d5144088aa4cded78/nova/virt/libvirt/volume/mount.py#L152-L174 Alternatives ------------ The only alternative is to continue with the current situation where users must mount the shares within their instances manually. The downside being that these instances must have access to the storage network used by the Manila backends. REST API impact --------------- A new server level ``shares`` API will be introduced under a new microversion with the following methods: * GET ``/servers/{server_id}/shares`` List all shares attached to an instance. Return Code(s): 200,400,401,403,404 .. code-block:: json { ""shares"": [ { ""shareId"": ""48c16a1a-183f-4052-9dac-0e4fc1e498ad"", ""status"": ""attached"", ""tag"": ""foo"" }, { ""shareId"": ""e8debdc0-447a-4376-a10a-4cd9122d7986"", ""status"": ""attached"", ""tag"": ""bar"" } ] } * GET ``/servers/{server_id}/shares/{shareId}`` Show details of a specific share attached to an instance. Return Code(s): 200,400,401,403,404 .. code-block:: json { ""share"": { ""shareId"": ""e8debdc0-447a-4376-a10a-4cd9122d7986"", ""status"": ""attached"", ""tag"": ""bar"" } } Admins will be able to see details of the attachment id and export location stored within Nova: .. code-block:: json { ""share"": { ""attachmentId"": ""715335c1-7a00-4dfe-82df-9dc2a67bd8bf"", ""shareId"": ""e8debdc0-447a-4376-a10a-4cd9122d7986"", ""status"": ""attached"", ""tag"": ""bar"", ""export_location"": ""server.com/nfs_mount,foo=bar"" } } * ``POST /servers/{server_id}/shares`` Attach a share to an instance. Prerequisite(s): Instance much be in the ``SHUTOFF`` state. This is an asynchronous API, callers will need to poll one of the above GET methods to determine when the attachment is complete. Return Code(s): 202,400,401,403,404,409 Request body: .. note:: ``tag`` will be an optional request parameter, when not provided it will be the shareId as always provided in the request. .. code-block:: json { ""share"": { ""shareId"": ""e8debdc0-447a-4376-a10a-4cd9122d7986"", } } Response body: .. code-block:: json { ""share"": { ""shareId"": ""e8debdc0-447a-4376-a10a-4cd9122d7986"", ""status"": ""attaching"", ""tag"": ""e8debdc0-447a-4376-a10a-4cd9122d7986"", } } * ``DELETE /servers/{server_id}/shares/{shareId}`` Detach a share from an instance. Prerequisite(s): Instance much be in the ``SHUTOFF`` state. Return Code(s): 202,400,401,403,404,409 Data model impact ----------------- A new ``share_mapping`` database table will be introduced. * ``id`` - Unique UUID to identify the particular share attachment * ``instance_uuid`` - The UUID of the instance the share will be attached to * ``share_id`` - The UUID of the share in Manila * ``status`` - The status of the share attachment within Nova. - ``detached`` - ``attaching`` - ``attached`` - ``detaching`` - ``error`` * ``tag`` - The device tag to be used by users to mount the share within the instance * ``export_location`` - The export location used to attach the share to the underlying host. * ``share_proto`` - The Shared File Systems protocol (NFS, CephFS,...). A new base ``ShareMapping`` versioned object will be introduced to encapsulate the above database entries and to be used as the parent class of specific virt driver implementations. This base ``ShareMapping`` object will provide stub ``attach`` and ``detach`` methods that will need to be implemented by any child objects. New ``ShareMappingLibvirt``, ``ShareMappingLibvirtNFS`` and ``ShareMappingLibvirtCephFS`` objects will be introduced as part of the libvirt implementation. Security impact --------------- This should improve the security model of using Manila by removing the datapath from tenant networks while also removing the need for users to know details of the underlying storage environment. The ``export_location`` JSON blob returned by Manila and used to attach the share to the underlying host should not be logged by Nova and only accessible by default through the API by admins. Notifications impact -------------------- New notifications will be added to represent the attaching and detaching of a share to an instance. Other end user impact --------------------- Users will need to mount the shares within their guestOS using the returned ``tag``. Performance Impact ------------------ Through the use of ``vhost-user`` ``virtio-fs`` should have near local (mounted) file system performance within the guestOS. Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- A new compute service version and compatibility traits will be introduced to ensure both the compute service and underlying virt stack are new enough to support attaching a share via ``virtio-fs`` before the request is accepted. Implementation ============== Assignee(s) ----------- Primary assignee: lyarwood Other contributors: Feature Liaison --------------- Feature liaison: lyarwood Work Items ---------- - Add new compatibility traits within os-traits - Add support within the libvirt driver for cold attach and detach - Add new shares API and microversion Dependencies ============ None Testing ======= - Functional libvirt driver and API tests - Integration Tempest tests Documentation Impact ==================== Extensive admin and user documentation will be provided. References ========== History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Yoga - Introduced * - Zed - Reproposed ",,381,0
openstack%2Ftooz~stable%2Fussuri~I4593085e60930f039d13db2a4c7799b16a1f055a,openstack/tooz,stable/ussuri,I4593085e60930f039d13db2a4c7799b16a1f055a,ignore reno generated artifacts,MERGED,2022-07-04 11:49:28.000000000,2022-07-05 17:12:14.000000000,2022-07-05 17:10:10.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-04 11:49:28.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/tooz/commit/44f05cddc5ca11d69c87c375d8242deb8bace92f', 'message': 'ignore reno generated artifacts\n\nChange-Id: I4593085e60930f039d13db2a4c7799b16a1f055a\n(cherry picked from commit 4be7780adbd9235233143880044a56e8586b5f68)\n'}]",2,848623,44f05cddc5ca11d69c87c375d8242deb8bace92f,13,2,1,15334,,,0,"ignore reno generated artifacts

Change-Id: I4593085e60930f039d13db2a4c7799b16a1f055a
(cherry picked from commit 4be7780adbd9235233143880044a56e8586b5f68)
",git fetch https://review.opendev.org/openstack/tooz refs/changes/23/848623/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,44f05cddc5ca11d69c87c375d8242deb8bace92f,trivial,RELEASENOTES.rst releasenotes/notes/reno.cache ,,3,0
openstack%2Fnetworking-ovn~stable%2Ftrain~Iad9839ce99d50b969924b3fe369301b6dfed369d,openstack/networking-ovn,stable/train,Iad9839ce99d50b969924b3fe369301b6dfed369d,Delete vip port if create_vip_port raise exception,MERGED,2022-07-04 09:04:34.000000000,2022-07-05 16:57:31.000000000,2022-07-05 16:56:05.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-04 09:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c7a61c04e1d4e6a1b72cc76302f350df2f01de57', 'message': 'Delete vip port if create_vip_port raise exception\n\nSometimes on heavy load over Neutron, operations over\nneutron client could raise a NeutronClientException that\ncould cover, e.g. a timeout. In those case, sometimes the\nrequest finish after the client timeout and we have\nleftover resource.\n\ncreate_vip_port is called from Octavia API just before\nthe create LB request, if this call raise a timeout\nmaybe the vip port is finally created and linked to a LB\nthat is not going to be created, so we have this port\nunuse.\n\nThis patch will try to remove the leftover port for those\nsituations.\n\n(manually cherry picked from commit\ncd3264a07e047b589e4064855169c37f17343e60)\n\nCloses-Bug: #1973765\nChange-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d\n'}, {'number': 2, 'created': '2022-07-04 11:44:43.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/06b417e73ea46e1887aaa3525e56d99616d62408', 'message': 'Delete vip port if create_vip_port raise exception\n\nSometimes on heavy load over Neutron, operations over\nneutron client could raise a NeutronClientException that\ncould cover, e.g. a timeout. In those case, sometimes the\nrequest finish after the client timeout and we have\nleftover resource.\n\ncreate_vip_port is called from Octavia API just before\nthe create LB request, if this call raise a timeout\nmaybe the vip port is finally created and linked to a LB\nthat is not going to be created, so we have this port\nunuse.\n\nThis patch will try to remove the leftover port for those\nsituations.\n\n(manually cherry picked from commit\ncd3264a07e047b589e4064855169c37f17343e60)\n\nCloses-Bug: #1973765\nChange-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d\n'}]",1,848584,06b417e73ea46e1887aaa3525e56d99616d62408,11,3,2,34451,,,0,"Delete vip port if create_vip_port raise exception

Sometimes on heavy load over Neutron, operations over
neutron client could raise a NeutronClientException that
could cover, e.g. a timeout. In those case, sometimes the
request finish after the client timeout and we have
leftover resource.

create_vip_port is called from Octavia API just before
the create LB request, if this call raise a timeout
maybe the vip port is finally created and linked to a LB
that is not going to be created, so we have this port
unuse.

This patch will try to remove the leftover port for those
situations.

(manually cherry picked from commit
cd3264a07e047b589e4064855169c37f17343e60)

Closes-Bug: #1973765
Change-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/84/848584/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py']",2,c7a61c04e1d4e6a1b72cc76302f350df2f01de57,," @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver') @mock.patch.object(ovn_driver.OvnProviderHelper, 'delete_vip_port') def test_create_vip_port_vip_neutron_client_other_exception( self, del_port, net_dr): net_dr.return_value.neutron_client.create_port.side_effect = [ n_exc.NeutronClientException] net_dr.return_value.neutron_client.list_ports.return_value = { 'ports': [ {'name': 'ovn-lb-vip-' + self.loadbalancer_id, 'id': self.loadbalancer_id}]} self.assertRaises( n_exc.NeutronClientException, self.helper.create_vip_port, self.project_id, self.loadbalancer_id, self.vip_dict) expected_call = [ mock.call().neutron_client.list_ports( network_id='%s' % self.vip_dict['vip_network_id'], name='%s%s' % (ovn_const.LB_VIP_PORT_PREFIX, self.loadbalancer_id))] net_dr.assert_has_calls(expected_call) del_port.assert_called_once_with(self.loadbalancer_id) self.helper._update_status_to_octavia.assert_not_called() ",,37,0
openstack%2Fcharm-ceph-radosgw~master~I420ec537ac8eaa4140762dea3b64f4db6fdc2f6c,openstack/charm-ceph-radosgw,master,I420ec537ac8eaa4140762dea3b64f4db6fdc2f6c,[WIP]: First Iteration of Code with Lint Fixes.,ABANDONED,2022-07-05 16:34:01.000000000,2022-07-05 16:57:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-05 16:34:01.000000000', 'files': ['hooks/hooks.py', 'actions/actions.py', 'actions/config-multisite-values', 'hooks/multisite.py', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/d8cba9b884be23c0f3b149fda52bc0999a7c7c56', 'message': '[WIP]: First Iteration of Code with Lint Fixes.\n\nChange-Id: I420ec537ac8eaa4140762dea3b64f4db6fdc2f6c\n'}]",0,848764,d8cba9b884be23c0f3b149fda52bc0999a7c7c56,3,1,1,34952,,,0,"[WIP]: First Iteration of Code with Lint Fixes.

Change-Id: I420ec537ac8eaa4140762dea3b64f4db6fdc2f6c
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/64/848764/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'actions/actions.py', 'actions/config-multisite-values', 'hooks/multisite.py', 'actions.yaml']",5,d8cba9b884be23c0f3b149fda52bc0999a7c7c56,utk_s2m_290622,config-multisite-values: description: Rename and configure provided Zone and Zonegroup when multiple instances of Zone or Zonegroup exist. params: zone: type: string description: Existing Zone which will be renamed according to the 'zone' config value. zonegroup: type: string description: Existing Zonegroup which will be renamed according to the 'zonegroup' config value.,,226,1
openstack%2Fcharm-neutron-api-plugin-ironic~stable%2Fxena~If0651a7e6050b149e5c127a12e4120af8ab59d6b,openstack/charm-neutron-api-plugin-ironic,stable/xena,If0651a7e6050b149e5c127a12e4120af8ab59d6b,Update the charmcraft.yaml for xena (no 22.04 base),MERGED,2022-05-16 17:49:12.000000000,2022-07-05 16:55:34.000000000,2022-07-05 16:55:34.000000000,"[{'_account_id': 2424}, {'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-16 17:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/24071f146fb90268469ebb1e2efd214675f59ddd', 'message': 'Update the charmcraft.yaml for xena (no 22.04 base)\n\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: If0651a7e6050b149e5c127a12e4120af8ab59d6b\n'}, {'number': 2, 'created': '2022-06-17 10:49:54.000000000', 'files': ['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml', 'charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/3ca64b0a57f8952065889cbc336b340b0d157b41', 'message': 'Update the charmcraft.yaml for xena (no 22.04 base)\n\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: If0651a7e6050b149e5c127a12e4120af8ab59d6b\n'}]",9,841973,3ca64b0a57f8952065889cbc336b340b0d157b41,27,4,2,20870,,,0,"Update the charmcraft.yaml for xena (no 22.04 base)

- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: If0651a7e6050b149e5c127a12e4120af8ab59d6b
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ironic refs/changes/73/841973/1 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,24071f146fb90268469ebb1e2efd214675f59ddd,charmhub-migration," architectures: [amd64, s390x, ppc64el, arm64]", - s390x - ppc64el - arm64,1,3
openstack%2Ftripleo-ansible~stable%2Fwallaby~I9fbdc6a82d483e0eaff8df87ad569f11ed22cd2b,openstack/tripleo-ansible,stable/wallaby,I9fbdc6a82d483e0eaff8df87ad569f11ed22cd2b,Don't extract dns_domain when not set,MERGED,2022-07-04 14:05:34.000000000,2022-07-05 16:38:14.000000000,2022-07-05 16:36:55.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-04 14:05:34.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_extract.py', 'tripleo_ansible/tests/modules/test_tripleo_overcloud_network_extract.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3a9890f391d648be85b4df8e4f13a1cec306c2b7', 'message': ""Don't extract dns_domain when not set\n\nIf the networks dns_domain is None, do not add a dns_domain\nentry in the network data YAML file with 'null' value.\n\nCloses-Bug: #1970604\nChange-Id: I9fbdc6a82d483e0eaff8df87ad569f11ed22cd2b\n(cherry picked from commit abd707114ac5035b12085a6200ea91a9a3b32e75)\n""}]",0,848599,3a9890f391d648be85b4df8e4f13a1cec306c2b7,9,6,1,24245,,,0,"Don't extract dns_domain when not set

If the networks dns_domain is None, do not add a dns_domain
entry in the network data YAML file with 'null' value.

Closes-Bug: #1970604
Change-Id: I9fbdc6a82d483e0eaff8df87ad569f11ed22cd2b
(cherry picked from commit abd707114ac5035b12085a6200ea91a9a3b32e75)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/99/848599/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_extract.py', 'tripleo_ansible/tests/modules/test_tripleo_overcloud_network_extract.py']",2,3a9890f391d648be85b4df8e4f13a1cec306c2b7,bug/1970604-stable/wallaby," @mock.patch.object(plugin, 'is_vip_network', autospec=True, return_value=False) @mock.patch.object(openstack.connection, 'Connection', autospec=True) def test_dns_not_set_get_network_info(self, conn_mock, is_vip_net_mock): fake_network = stubs.FakeNeutronNetwork( id='132f871f-eaec-4fed-9475-0d54465e0f00', name='public', dns_domain=None, mtu=1500, is_shared=False, is_admin_state_up=False, tags=['tripleo_net_idx=3', 'tripleo_service_net_map_replace=external'] ) conn_mock.network.get_network.return_value = fake_network expected = (3, {'name_lower': 'public', 'service_net_map_replace': 'external'}) result = plugin.get_network_info( conn_mock, '132f871f-eaec-4fed-9475-0d54465e0f00') self.assertEqual(expected, result) ",,23,0
openstack%2Fpython-tripleoclient~master~I4601b2335c1102dc5e462fe74646acf6166c785c,openstack/python-tripleoclient,master,I4601b2335c1102dc5e462fe74646acf6166c785c,ExtractProvisionNode adding resource_class if its possible,MERGED,2022-06-30 16:24:47.000000000,2022-07-05 16:36:13.000000000,2022-07-05 16:35:05.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-06-30 16:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/81716c222bfb591ed9ccd6ac6ca2f8c2c8b5ccfe', 'message': 'ExtractProvisionNode adding resource_class if its possible\n\nCurrently the tripleo-STACK-baremetal.yaml includes the instances\nof the Roles but it does not include the resource_class.\n\nThis patch add the resource_class when is possible.\n\nChange-Id: I4601b2335c1102dc5e462fe74646acf6166c785c\n'}, {'number': 2, 'created': '2022-06-30 23:27:20.000000000', 'files': ['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/269fa30b509fc76d4bd49492c4ccd78254285fdd', 'message': 'ExtractProvisionNode adding resource_class if its possible\n\nCurrently the tripleo-STACK-baremetal.yaml includes the instances\nof the Roles but it does not include the resource_class.\n\nThis patch add the resource_class to the instance when is possible.\n\nChange-Id: I4601b2335c1102dc5e462fe74646acf6166c785c\n'}]",3,848313,269fa30b509fc76d4bd49492c4ccd78254285fdd,13,5,2,22954,,,0,"ExtractProvisionNode adding resource_class if its possible

Currently the tripleo-STACK-baremetal.yaml includes the instances
of the Roles but it does not include the resource_class.

This patch add the resource_class to the instance when is possible.

Change-Id: I4601b2335c1102dc5e462fe74646acf6166c785c
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/13/848313/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_node.py'],1,81716c222bfb591ed9ccd6ac6ca2f8c2c8b5ccfe,node_extract, hostname_node_resource = {} if hostname and node.resource_class: hostname_node_resource[hostname] = node.resource_class if entry in hostname_node_resource: defaults['resource_class'] = hostname_node_resource[entry] ,,6,0
openstack%2Ftooz~stable%2Ftrain~I4593085e60930f039d13db2a4c7799b16a1f055a,openstack/tooz,stable/train,I4593085e60930f039d13db2a4c7799b16a1f055a,ignore reno generated artifacts,MERGED,2022-07-04 11:49:52.000000000,2022-07-05 16:34:33.000000000,2022-07-05 16:32:32.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-04 11:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/018dd16c7442476c72fd42d9d4972357921b0b29', 'message': 'ignore reno generated artifacts\n\nChange-Id: I4593085e60930f039d13db2a4c7799b16a1f055a\n(cherry picked from commit 4be7780adbd9235233143880044a56e8586b5f68)\n(cherry picked from commit 44f05cddc5ca11d69c87c375d8242deb8bace92f)\n'}, {'number': 2, 'created': '2022-07-05 10:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/2a3072e0e2e152c1f86999846f577639bcca0cbf', 'message': 'ignore reno generated artifacts\n\nChange-Id: I4593085e60930f039d13db2a4c7799b16a1f055a\n(cherry picked from commit 4be7780adbd9235233143880044a56e8586b5f68)\n(cherry picked from commit 44f05cddc5ca11d69c87c375d8242deb8bace92f)\n'}, {'number': 3, 'created': '2022-07-05 10:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/161ea3c03bcf3e1f3b0cbc8ef3a0a6d55b229fc0', 'message': 'ignore reno generated artifacts\n\nChange-Id: I4593085e60930f039d13db2a4c7799b16a1f055a\n(cherry picked from commit 4be7780adbd9235233143880044a56e8586b5f68)\n(cherry picked from commit 44f05cddc5ca11d69c87c375d8242deb8bace92f)\n'}, {'number': 4, 'created': '2022-07-05 12:05:49.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/tooz/commit/dc572af710f97bd47ade7e3262f9653a0fe52f23', 'message': 'ignore reno generated artifacts\n\nChange-Id: I4593085e60930f039d13db2a4c7799b16a1f055a\n(cherry picked from commit 4be7780adbd9235233143880044a56e8586b5f68)\n(cherry picked from commit 44f05cddc5ca11d69c87c375d8242deb8bace92f)\n'}]",0,848624,dc572af710f97bd47ade7e3262f9653a0fe52f23,13,3,4,15334,,,0,"ignore reno generated artifacts

Change-Id: I4593085e60930f039d13db2a4c7799b16a1f055a
(cherry picked from commit 4be7780adbd9235233143880044a56e8586b5f68)
(cherry picked from commit 44f05cddc5ca11d69c87c375d8242deb8bace92f)
",git fetch https://review.opendev.org/openstack/tooz refs/changes/24/848624/4 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,018dd16c7442476c72fd42d9d4972357921b0b29,bug/1980079,RELEASENOTES.rst releasenotes/notes/reno.cache ,,3,0
openstack%2Ftooz~stable%2Ftrain~Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1,openstack/tooz,stable/train,Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1,Enable retries in redis driver,MERGED,2022-07-04 16:54:40.000000000,2022-07-05 16:32:30.000000000,2022-07-05 16:32:30.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-04 16:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/870737fd415e4c96fdd8a1ec5a8fc0698c11698c', 'message': 'Enable retries in redis driver\n\nthis is followup to Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n\nactually retry for specified number of retries instead of raising\nerror on first ConnectionError\n\nChange-Id: Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1\n(cherry picked from commit 47c4d56e446a49726e7145c6cbc3bb7620a431f7)\n(cherry picked from commit 11526e594c7e7cef8b5a4a4220f100d76a418036)\n(cherry picked from commit c1ae1649d22b356f2bbb2293cb421eb155fdee14)\n(cherry picked from commit 816ea504c92b141b34759faaf814698499fa0c75)\n'}, {'number': 2, 'created': '2022-07-04 17:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/eab93c384591aa88df06649f73429a44886c9714', 'message': 'Enable retries in redis driver\n\nthis is followup to Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n\nactually retry for specified number of retries instead of raising\nerror on first ConnectionError\n\nChange-Id: Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1\n(cherry picked from commit 47c4d56e446a49726e7145c6cbc3bb7620a431f7)\n(cherry picked from commit 11526e594c7e7cef8b5a4a4220f100d76a418036)\n(cherry picked from commit c1ae1649d22b356f2bbb2293cb421eb155fdee14)\n(cherry picked from commit 816ea504c92b141b34759faaf814698499fa0c75)\n'}, {'number': 3, 'created': '2022-07-05 10:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/acceb797dce3c1acd6da8d4862c51b3eaf07cc5f', 'message': 'Enable retries in redis driver\n\nthis is followup to Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n\nactually retry for specified number of retries instead of raising\nerror on first ConnectionError\n\nChange-Id: Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1\n(cherry picked from commit 47c4d56e446a49726e7145c6cbc3bb7620a431f7)\n(cherry picked from commit 11526e594c7e7cef8b5a4a4220f100d76a418036)\n(cherry picked from commit c1ae1649d22b356f2bbb2293cb421eb155fdee14)\n(cherry picked from commit 816ea504c92b141b34759faaf814698499fa0c75)\n'}, {'number': 4, 'created': '2022-07-05 10:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/3df3f477bb3aec5aea73d68cae51a5e9c36dc780', 'message': 'Enable retries in redis driver\n\nthis is followup to Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n\nactually retry for specified number of retries instead of raising\nerror on first ConnectionError\n\nChange-Id: Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1\n(cherry picked from commit 47c4d56e446a49726e7145c6cbc3bb7620a431f7)\n(cherry picked from commit 11526e594c7e7cef8b5a4a4220f100d76a418036)\n(cherry picked from commit c1ae1649d22b356f2bbb2293cb421eb155fdee14)\n(cherry picked from commit 816ea504c92b141b34759faaf814698499fa0c75)\n'}, {'number': 5, 'created': '2022-07-05 12:05:49.000000000', 'files': ['releasenotes/notes/redis-connect-retries-c9adfc81eb06a4ab.yaml', 'tooz/drivers/redis.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/883bfb68381623c06c21b493171c319c820e718a', 'message': 'Enable retries in redis driver\n\nthis is followup to Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n\nactually retry for specified number of retries instead of raising\nerror on first ConnectionError\n\nConflicts:\n  tooz/drivers/redis.py\n\nNOTE(stephenfin): Conflicts are due to the changes we had to make in\nanother backport, change Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b, to\nkeep the pep8 job happy. Those changed lines are replaced here.\n\nChange-Id: Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1\n(cherry picked from commit 47c4d56e446a49726e7145c6cbc3bb7620a431f7)\n(cherry picked from commit 11526e594c7e7cef8b5a4a4220f100d76a418036)\n(cherry picked from commit c1ae1649d22b356f2bbb2293cb421eb155fdee14)\n(cherry picked from commit 816ea504c92b141b34759faaf814698499fa0c75)\n'}]",0,848654,883bfb68381623c06c21b493171c319c820e718a,13,3,5,15334,,,0,"Enable retries in redis driver

this is followup to Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b

actually retry for specified number of retries instead of raising
error on first ConnectionError

Conflicts:
  tooz/drivers/redis.py

NOTE(stephenfin): Conflicts are due to the changes we had to make in
another backport, change Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b, to
keep the pep8 job happy. Those changed lines are replaced here.

Change-Id: Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1
(cherry picked from commit 47c4d56e446a49726e7145c6cbc3bb7620a431f7)
(cherry picked from commit 11526e594c7e7cef8b5a4a4220f100d76a418036)
(cherry picked from commit c1ae1649d22b356f2bbb2293cb421eb155fdee14)
(cherry picked from commit 816ea504c92b141b34759faaf814698499fa0c75)
",git fetch https://review.opendev.org/openstack/tooz refs/changes/54/848654/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/redis-connect-retries-c9adfc81eb06a4ab.yaml', 'tooz/drivers/redis.py']",2,870737fd415e4c96fdd8a1ec5a8fc0698c11698c,bug/1980079,"def _handle_failures(n_tries=15): def inner(func): @functools.wraps(func) def wrapper(*args, **kwargs): ntries = n_tries while ntries: try: return func(*args, **kwargs) except exceptions.ConnectionError as e: # retry ntries times and then raise a connection error ntries -= 1 if not ntries: LOG.debug( ""Redis connection error, "" ""retry limit has been reached, aborting - %s"", e ) utils.raise_with_cause( coordination.ToozConnectionError, encodeutils.exception_to_unicode(e), cause=e) LOG.debug(""Redis connection error, will retry - %s"", e) except (exceptions.TimeoutError) as e: except exceptions.RedisError as e: utils.raise_with_cause(tooz.ToozError, encodeutils.exception_to_unicode(e), cause=e) return wrapper return inner @_handle_failures() @_handle_failures() @_handle_failures() @_handle_failures() @_handle_failures() @_handle_failures() @_handle_failures() @_handle_failures()","def _handle_failures(func=None, n_tries=15): if func is None: return functools.partial( _handle_failures, n_tries=n_tries ) @functools.wraps(func) def wrapper(*args, **kwargs): ntries = n_tries while ntries > 1: try: return func(*args, **kwargs) except exceptions.ConnectionError as e: # retry ntries times and then raise a connection error ntries -= 1 if ntries >= 1: except (exceptions.TimeoutError) as e: utils.raise_with_cause(coordination.ToozConnectionError, encodeutils.exception_to_unicode(e), cause=e) except exceptions.RedisError as e: utils.raise_with_cause(tooz.ToozError, encodeutils.exception_to_unicode(e), cause=e) return func(*args, **kwargs) return wrapper @_handle_failures @_handle_failures @_handle_failures @_handle_failures @_handle_failures @_handle_failures @_handle_failures @_handle_failures",41,36
openstack%2Ftooz~stable%2Ftrain~Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b,openstack/tooz,stable/train,Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b,Retry on redis connection errors,MERGED,2021-05-19 13:04:23.000000000,2022-07-05 16:32:26.000000000,2022-07-05 16:32:26.000000000,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-19 13:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/8f9120c37cbfd532676673efa3fad0943ba90f3a', 'message': ""Retry on redis connection errors\n\nSometimes, connections get closed by the server. This change\nadds retrying to the code.\n\nConflict:\nrequirements.txt\n\nNOTE(hberaud): This conflict is due to the cap of tenacity during wallaby\nto unblock the gate. This requirement cap won't be an issue for victoria\nand for previous stable branches.\n\nhttps://opendev.org/openstack/tooz/commit/fe9c4304551cce0ac85366965009ad102fd9610a\n\nChange-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n(cherry picked from commit a025b4d4ee9fe1bd722960ea03445034580bec6f)\n(cherry picked from commit 62d5d17a5d2495f1f898163bbd83acbbc9873620)\n(cherry picked from commit 1ddddbba734e5eb4cbba82ae9951a8eb09f94bb9)\n""}, {'number': 2, 'created': '2021-05-19 15:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/664568454e7bf0dd6762045115512ea38c21d6e1', 'message': ""Retry on redis connection errors\n\nSometimes, connections get closed by the server. This change\nadds retrying to the code.\n\nConflict:\nrequirements.txt\n\nNOTE(hberaud): This conflict is due to the cap of tenacity during wallaby\nto unblock the gate. This requirement cap won't be an issue for victoria\nand for previous stable branches.\n\nhttps://opendev.org/openstack/tooz/commit/fe9c4304551cce0ac85366965009ad102fd9610a\n\nChange-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n(cherry picked from commit a025b4d4ee9fe1bd722960ea03445034580bec6f)\n(cherry picked from commit 62d5d17a5d2495f1f898163bbd83acbbc9873620)\n(cherry picked from commit 1ddddbba734e5eb4cbba82ae9951a8eb09f94bb9)\n""}, {'number': 3, 'created': '2022-07-04 16:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/d18dab42409fa017066c28c9f232ebc53668cd75', 'message': 'Retry on redis connection errors\n\nSometimes, connections get closed by the server. This change\nadds retrying to the code.\n\nConflicts:\n  tooz/drivers/redis.py\n\nNOTE(stephenfin): Conflicts are due to the absence of change\nI95809cf4035a6bc487b24f9e91aaa715921ad842 (""Stop to use the __future__\nmodule."") which we don\'t really need to backport.\n\nChanges:\n  requirements.txt\n\nNOTE(stephenfin): We don\'t need the cap to tenacity that was found in\nthe stable/victoria backport since that\'s already been done here by\nchange I8d6647118be22b0ce55e01b7e5451612ebe30e73 (""Cap protobuf < 4.x"").\n\nChange-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n(cherry picked from commit a025b4d4ee9fe1bd722960ea03445034580bec6f)\n(cherry picked from commit 62d5d17a5d2495f1f898163bbd83acbbc9873620)\n(cherry picked from commit 1ddddbba734e5eb4cbba82ae9951a8eb09f94bb9)\n(cherry picked from commit 0734d86ae2322aeff92a2d44aa9b796bb7a14c26)\n'}, {'number': 4, 'created': '2022-07-04 17:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/b398033b3306e6126af6516422fff268971a5bdb', 'message': 'Retry on redis connection errors\n\nSometimes, connections get closed by the server. This change\nadds retrying to the code.\n\nConflicts:\n  tooz/drivers/redis.py\n\nNOTE(stephenfin): Conflicts are due to the modifications we had to make\nwhen backporting change I2437071bb575e95083b0d57a6a0a33aaf8356113 in\norder to comply with stable policy.\n\nChange-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n(cherry picked from commit a025b4d4ee9fe1bd722960ea03445034580bec6f)\n(cherry picked from commit 62d5d17a5d2495f1f898163bbd83acbbc9873620)\n(cherry picked from commit 1ddddbba734e5eb4cbba82ae9951a8eb09f94bb9)\n(cherry picked from commit 0734d86ae2322aeff92a2d44aa9b796bb7a14c26)\n'}, {'number': 5, 'created': '2022-07-05 10:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/a16af91e1dc80723bfb2fc1ae139d01b909905dd', 'message': 'Retry on redis connection errors\n\nSometimes, connections get closed by the server. This change\nadds retrying to the code.\n\nConflicts:\n  tooz/drivers/redis.py\n\nNOTE(stephenfin): Conflicts are due to the modifications we had to make\nwhen backporting change I2437071bb575e95083b0d57a6a0a33aaf8356113 in\norder to comply with stable policy.\n\nChange-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n(cherry picked from commit a025b4d4ee9fe1bd722960ea03445034580bec6f)\n(cherry picked from commit 62d5d17a5d2495f1f898163bbd83acbbc9873620)\n(cherry picked from commit 1ddddbba734e5eb4cbba82ae9951a8eb09f94bb9)\n(cherry picked from commit 0734d86ae2322aeff92a2d44aa9b796bb7a14c26)\n'}, {'number': 6, 'created': '2022-07-05 10:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/b0ee28d12eb9805ac5a2158f673ff5d239763019', 'message': 'Retry on redis connection errors\n\nSometimes, connections get closed by the server. This change\nadds retrying to the code.\n\nConflicts:\n  tooz/drivers/redis.py\n\nNOTE(stephenfin): Conflicts are due to the modifications we had to make\nwhen backporting change I2437071bb575e95083b0d57a6a0a33aaf8356113 in\norder to comply with stable policy.\n\nChange-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n(cherry picked from commit a025b4d4ee9fe1bd722960ea03445034580bec6f)\n(cherry picked from commit 62d5d17a5d2495f1f898163bbd83acbbc9873620)\n(cherry picked from commit 1ddddbba734e5eb4cbba82ae9951a8eb09f94bb9)\n(cherry picked from commit 0734d86ae2322aeff92a2d44aa9b796bb7a14c26)\n'}, {'number': 7, 'created': '2022-07-05 12:05:49.000000000', 'files': ['tooz/drivers/redis.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/b8e1cc5ff89dd4b888e6fa8e84f6ce2c6594b1f3', 'message': ""Retry on redis connection errors\n\nSometimes, connections get closed by the server. This change\nadds retrying to the code.\n\nConflicts:\n  tooz/drivers/redis.py\n\nNOTE(stephenfin): Conflicts are due to the modifications we had to make\nwhen backporting change I2437071bb575e95083b0d57a6a0a33aaf8356113 in\norder to comply with stable policy.\n\nChanges:\n  tooz/drivers/redis.py\n\nNOTE(stephenfin): We need to fix a style issue that occurs because the\nversion of hacking in use here didn't cap flake8, which means we're\npulling in a new version.\n\nChange-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n(cherry picked from commit a025b4d4ee9fe1bd722960ea03445034580bec6f)\n(cherry picked from commit 62d5d17a5d2495f1f898163bbd83acbbc9873620)\n(cherry picked from commit 1ddddbba734e5eb4cbba82ae9951a8eb09f94bb9)\n(cherry picked from commit 0734d86ae2322aeff92a2d44aa9b796bb7a14c26)\n""}]",11,792140,b8e1cc5ff89dd4b888e6fa8e84f6ce2c6594b1f3,23,5,7,4264,,,0,"Retry on redis connection errors

Sometimes, connections get closed by the server. This change
adds retrying to the code.

Conflicts:
  tooz/drivers/redis.py

NOTE(stephenfin): Conflicts are due to the modifications we had to make
when backporting change I2437071bb575e95083b0d57a6a0a33aaf8356113 in
order to comply with stable policy.

Changes:
  tooz/drivers/redis.py

NOTE(stephenfin): We need to fix a style issue that occurs because the
version of hacking in use here didn't cap flake8, which means we're
pulling in a new version.

Change-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b
(cherry picked from commit a025b4d4ee9fe1bd722960ea03445034580bec6f)
(cherry picked from commit 62d5d17a5d2495f1f898163bbd83acbbc9873620)
(cherry picked from commit 1ddddbba734e5eb4cbba82ae9951a8eb09f94bb9)
(cherry picked from commit 0734d86ae2322aeff92a2d44aa9b796bb7a14c26)
",git fetch https://review.opendev.org/openstack/tooz refs/changes/40/792140/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tooz/drivers/redis.py']",2,8f9120c37cbfd532676673efa3fad0943ba90f3a,bug/1980079,"def _handle_failures(func=None, n_tries=15): """"""Translates common redis exceptions into tooz exceptions. This also enables retrying on certain exceptions. :param func: the function to act on :param n_tries: the number of retries """""" if func is None: return functools.partial( _handle_failures, n_tries=n_tries ) @functools.wraps(func) def wrapper(*args, **kwargs): ntries = n_tries while ntries > 1: try: return func(*args, **kwargs) except exceptions.ConnectionError as e: # retry ntries times and then raise a connection error ntries -= 1 if ntries >= 1: utils.raise_with_cause(coordination.ToozConnectionError, encodeutils.exception_to_unicode(e), cause=e) except (exceptions.TimeoutError) as e: utils.raise_with_cause(coordination.ToozConnectionError, encodeutils.exception_to_unicode(e), cause=e) except exceptions.RedisError as e: utils.raise_with_cause(tooz.ToozError, encodeutils.exception_to_unicode(e), cause=e) return func(*args, **kwargs) return wrapper @_handle_failures def is_still_owner(self): lock_tok = self._lock.local.token if not lock_tok: return False owner_tok = self._client.get(self.name) return owner_tok == lock_tok @_handle_failures def break_(self): return bool(self._client.delete(self.name)) @_handle_failures acquired = self._lock.acquire( blocking=blocking, blocking_timeout=timeout) if acquired: with self._exclusive_access: self._coord._acquired_locks.add(self) return acquired @_handle_failures try: self._lock.release() except exceptions.LockError as e: LOG.error(""Unable to release lock '%r': %s"", self, e) return False finally: self._coord._acquired_locks.discard(self) return True @_handle_failures self._lock.reacquire() return True @_handle_failures self._server_info = self._client.info() @_handle_failures def heartbeat(self): beat_id = self._encode_beat_id(self._member_id) expiry_ms = max(0, int(self.membership_timeout * 1000.0)) self._client.psetex(beat_id, time_ms=expiry_ms, value=self.STILL_ALIVE) @_handle_failures self._client.delete(beat_id)RedisFutureResult = functools.partial(coordination.CoordinatorResult)","@contextlib.contextmanager def _translate_failures(): """"""Translates common redis exceptions into tooz exceptions."""""" try: yield except (exceptions.ConnectionError, exceptions.TimeoutError) as e: utils.raise_with_cause(coordination.ToozConnectionError, encodeutils.exception_to_unicode(e), cause=e) except exceptions.RedisError as e: utils.raise_with_cause(tooz.ToozError, encodeutils.exception_to_unicode(e), cause=e) def is_still_owner(self): with _translate_failures(): lock_tok = self._lock.local.token if not lock_tok: return False owner_tok = self._client.get(self.name) return owner_tok == lock_tok def break_(self): with _translate_failures(): return bool(self._client.delete(self.name)) with _translate_failures(): acquired = self._lock.acquire( blocking=blocking, blocking_timeout=timeout) if acquired: with self._exclusive_access: self._coord._acquired_locks.add(self) return acquired with _translate_failures(): try: self._lock.release() except exceptions.LockError as e: LOG.error(""Unable to release lock '%r': %s"", self, e) return False finally: self._coord._acquired_locks.discard(self) return True with _translate_failures(): self._lock.extend(self._lock.timeout) return True with _translate_failures(): self._server_info = self._client.info() def heartbeat(self): with _translate_failures(): beat_id = self._encode_beat_id(self._member_id) expiry_ms = max(0, int(self.membership_timeout * 1000.0)) self._client.psetex(beat_id, time_ms=expiry_ms, value=self.STILL_ALIVE) with _translate_failures(): self._client.delete(beat_id)RedisFutureResult = functools.partial(coordination.CoordinatorResult, failure_translator=_translate_failures)",79,52
openstack%2Ftooz~stable%2Ftrain~Ie23d88f1a05983d7465f18a329cabc23d789a628,openstack/tooz,stable/train,Ie23d88f1a05983d7465f18a329cabc23d789a628,RedisLock release() should not check if the lock has been acquired,MERGED,2022-07-04 16:54:40.000000000,2022-07-05 16:32:24.000000000,2022-07-05 16:32:24.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-04 16:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/c00c5b81874563aa7c6f0b26a81092747d876afc', 'message': ""RedisLock release() should not check if the lock has been acquired\n\nThe RedisDriver coordinator _stop() method removes the lock from the\n_acquired_locks set before calling the release() method on the lock,\nso the release() method should not check to see if the lock is in the\nset, since it never will be.\n\nThis was preventing the coordinator's _stop() method from releasing\nthe locks, so they had to timeout before another group member could\ntake over as leader.\n\nChange-Id: Ie23d88f1a05983d7465f18a329cabc23d789a628\nCloses-Bug: 1815330\n(cherry picked from commit 842c7404b2d01c5dd718c14bb55f0cd47471f0e1)\n""}, {'number': 2, 'created': '2022-07-04 17:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/7e7f868893ab93a1fbca0ce2e7a606d692913b08', 'message': ""RedisLock release() should not check if the lock has been acquired\n\nThe RedisDriver coordinator _stop() method removes the lock from the\n_acquired_locks set before calling the release() method on the lock,\nso the release() method should not check to see if the lock is in the\nset, since it never will be.\n\nThis was preventing the coordinator's _stop() method from releasing\nthe locks, so they had to timeout before another group member could\ntake over as leader.\n\nChange-Id: Ie23d88f1a05983d7465f18a329cabc23d789a628\nCloses-Bug: 1815330\n(cherry picked from commit 842c7404b2d01c5dd718c14bb55f0cd47471f0e1)\n""}, {'number': 3, 'created': '2022-07-05 10:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/af87a977aa3a9ada4c4683605ce8c2a3c4054c11', 'message': ""RedisLock release() should not check if the lock has been acquired\n\nThe RedisDriver coordinator _stop() method removes the lock from the\n_acquired_locks set before calling the release() method on the lock,\nso the release() method should not check to see if the lock is in the\nset, since it never will be.\n\nThis was preventing the coordinator's _stop() method from releasing\nthe locks, so they had to timeout before another group member could\ntake over as leader.\n\nChange-Id: Ie23d88f1a05983d7465f18a329cabc23d789a628\nCloses-Bug: 1815330\n(cherry picked from commit 842c7404b2d01c5dd718c14bb55f0cd47471f0e1)\n""}, {'number': 4, 'created': '2022-07-05 10:01:13.000000000', 'files': ['tooz/drivers/redis.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/85d0a8b2e09e37639ad29bb3bbcbbad55719dd8e', 'message': ""RedisLock release() should not check if the lock has been acquired\n\nThe RedisDriver coordinator _stop() method removes the lock from the\n_acquired_locks set before calling the release() method on the lock,\nso the release() method should not check to see if the lock is in the\nset, since it never will be.\n\nThis was preventing the coordinator's _stop() method from releasing\nthe locks, so they had to timeout before another group member could\ntake over as leader.\n\nChange-Id: Ie23d88f1a05983d7465f18a329cabc23d789a628\nCloses-Bug: 1815330\n(cherry picked from commit 842c7404b2d01c5dd718c14bb55f0cd47471f0e1)\n""}]",0,848653,85d0a8b2e09e37639ad29bb3bbcbbad55719dd8e,11,3,4,15334,,,0,"RedisLock release() should not check if the lock has been acquired

The RedisDriver coordinator _stop() method removes the lock from the
_acquired_locks set before calling the release() method on the lock,
so the release() method should not check to see if the lock is in the
set, since it never will be.

This was preventing the coordinator's _stop() method from releasing
the locks, so they had to timeout before another group member could
take over as leader.

Change-Id: Ie23d88f1a05983d7465f18a329cabc23d789a628
Closes-Bug: 1815330
(cherry picked from commit 842c7404b2d01c5dd718c14bb55f0cd47471f0e1)
",git fetch https://review.opendev.org/openstack/tooz refs/changes/53/848653/1 && git format-patch -1 --stdout FETCH_HEAD,['tooz/drivers/redis.py'],1,c00c5b81874563aa7c6f0b26a81092747d876afc,bug/1980079,, if not self.acquired: return False,0,2
openstack%2Ftooz~stable%2Ftrain~I2437071bb575e95083b0d57a6a0a33aaf8356113,openstack/tooz,stable/train,I2437071bb575e95083b0d57a6a0a33aaf8356113,Avoid redis lock's expire_time exceeding timeout.,MERGED,2022-07-04 16:54:40.000000000,2022-07-05 16:32:21.000000000,2022-07-05 16:32:21.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-04 16:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/7451cf31fd8113ca04568e7a933560be0004eb85', 'message': ""Avoid redis lock's expire_time exceeding timeout.\n\nAfter n heartbeats, the expireation time of the lock key becomes\n(1 + 0.5n) * timeout! Therefore, when the lock holder performs a\nlong task and exits abnormally, the lock will not be automatically\nreleased in time.\n\nChange-Id: I2437071bb575e95083b0d57a6a0a33aaf8356113\n(cherry picked from commit 20bda6ed999e71823b6eac90f01d1a29898b63b2)\n""}, {'number': 2, 'created': '2022-07-04 17:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/fc77e72f2bd6a94d245afd99a3fa37e4baaae4b3', 'message': ""Avoid redis lock's expire_time exceeding timeout.\n\nAfter n heartbeats, the expireation time of the lock key becomes\n(1 + 0.5n) * timeout! Therefore, when the lock holder performs a\nlong task and exits abnormally, the lock will not be automatically\nreleased in time.\n\nChanges:\n  setup.cfg\n  tooz/drivers/redis.py\n\nNOTE(stephenfin): We have to remove the changes to requirements in\nsetup.cfg since it's not possible to raise the minimum version of a\nrequirement on a stable branch. Instead we check to see if the attribute\nadded in the new version is present and use it only if so.\n\nChange-Id: I2437071bb575e95083b0d57a6a0a33aaf8356113\n(cherry picked from commit 20bda6ed999e71823b6eac90f01d1a29898b63b2)\n""}, {'number': 3, 'created': '2022-07-05 10:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/8e74fbb096012a98eab4dc0fefc29a4e74a8e831', 'message': ""Avoid redis lock's expire_time exceeding timeout.\n\nAfter n heartbeats, the expireation time of the lock key becomes\n(1 + 0.5n) * timeout! Therefore, when the lock holder performs a\nlong task and exits abnormally, the lock will not be automatically\nreleased in time.\n\nChanges:\n  setup.cfg\n  tooz/drivers/redis.py\n\nNOTE(stephenfin): We have to remove the changes to requirements in\nsetup.cfg since it's not possible to raise the minimum version of a\nrequirement on a stable branch. Instead we check to see if the attribute\nadded in the new version is present and use it only if so.\n\nChange-Id: I2437071bb575e95083b0d57a6a0a33aaf8356113\n(cherry picked from commit 20bda6ed999e71823b6eac90f01d1a29898b63b2)\n""}, {'number': 4, 'created': '2022-07-05 10:01:13.000000000', 'files': ['tooz/drivers/redis.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/462c30cc07e3ac04b84b153162334a2802f59efe', 'message': ""Avoid redis lock's expire_time exceeding timeout.\n\nAfter n heartbeats, the expireation time of the lock key becomes\n(1 + 0.5n) * timeout! Therefore, when the lock holder performs a\nlong task and exits abnormally, the lock will not be automatically\nreleased in time.\n\nChanges:\n  setup.cfg\n  tooz/drivers/redis.py\n\nNOTE(stephenfin): We have to remove the changes to requirements in\nsetup.cfg since it's not possible to raise the minimum version of a\nrequirement on a stable branch. Instead we check to see if the attribute\nadded in the new version is present and use it only if so.\n\nChange-Id: I2437071bb575e95083b0d57a6a0a33aaf8356113\n(cherry picked from commit 20bda6ed999e71823b6eac90f01d1a29898b63b2)\n""}]",0,848652,462c30cc07e3ac04b84b153162334a2802f59efe,11,3,4,15334,,,0,"Avoid redis lock's expire_time exceeding timeout.

After n heartbeats, the expireation time of the lock key becomes
(1 + 0.5n) * timeout! Therefore, when the lock holder performs a
long task and exits abnormally, the lock will not be automatically
released in time.

Changes:
  setup.cfg
  tooz/drivers/redis.py

NOTE(stephenfin): We have to remove the changes to requirements in
setup.cfg since it's not possible to raise the minimum version of a
requirement on a stable branch. Instead we check to see if the attribute
added in the new version is present and use it only if so.

Change-Id: I2437071bb575e95083b0d57a6a0a33aaf8356113
(cherry picked from commit 20bda6ed999e71823b6eac90f01d1a29898b63b2)
",git fetch https://review.opendev.org/openstack/tooz refs/changes/52/848652/4 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tooz/drivers/redis.py']",2,7451cf31fd8113ca04568e7a933560be0004eb85,bug/1980079, self._lock.reacquire(), self._lock.extend(self._lock.timeout),2,2
openstack%2Frequirements~master~Idb96b8fefd6424145ba8cc3a8ef4e6877377942e,openstack/requirements,master,Idb96b8fefd6424145ba8cc3a8ef4e6877377942e,Updated from generate-constraints,ABANDONED,2022-07-05 02:48:12.000000000,2022-07-05 16:30:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-05 02:48:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/08acdb40518627e42bf5370948c38ae280dcf8c7', 'message': 'Updated from generate-constraints\n\nChange-Id: Idb96b8fefd6424145ba8cc3a8ef4e6877377942e\n'}]",0,848682,08acdb40518627e42bf5370948c38ae280dcf8c7,4,1,1,11131,,,0,"Updated from generate-constraints

Change-Id: Idb96b8fefd6424145ba8cc3a8ef4e6877377942e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/82/848682/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,08acdb40518627e42bf5370948c38ae280dcf8c7,openstack/requirements/constraints,types-paramiko===2.11.2cryptography===37.0.2pkg_resources===0.0.0protobuf===4.21.2Sphinx===5.0.2Django===3.2.14,types-paramiko===2.11.1cryptography===36.0.2protobuf===3.20.1Sphinx===4.5.0Django===3.2.13,6,5
openstack%2Fneutron~master~I3bdf878617fbe962d56ebb66d59ae7edeb9b7c38,openstack/neutron,master,I3bdf878617fbe962d56ebb66d59ae7edeb9b7c38,ovn migration: Remove usage of tripleo-ansible-inventory,MERGED,2022-03-23 16:34:22.000000000,2022-07-05 16:15:04.000000000,2022-03-25 18:50:49.000000000,"[{'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-23 16:34:22.000000000', 'files': ['doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b2fd1f830827105bcaca0d4ba5da05b8b71c515', 'message': 'ovn migration: Remove usage of tripleo-ansible-inventory\n\ntripleo-ansible-inventory stopped working in Wallaby. However, TripleO\nnow stores the needed ansible-inventory on the undercloud filesystem.\nThis patch switches from dynamic generation of the Ansible inventory to\nuse of the already existing inventory file. Fortunately, the format of\nthe file remained the same as the generated one, so no other changes in\nparsing are required.\n\nCloses-Bug: #1966099\n\nChange-Id: I3bdf878617fbe962d56ebb66d59ae7edeb9b7c38\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n'}]",10,834925,5b2fd1f830827105bcaca0d4ba5da05b8b71c515,15,4,1,8655,,,0,"ovn migration: Remove usage of tripleo-ansible-inventory

tripleo-ansible-inventory stopped working in Wallaby. However, TripleO
now stores the needed ansible-inventory on the undercloud filesystem.
This patch switches from dynamic generation of the Ansible inventory to
use of the already existing inventory file. Fortunately, the format of
the file remained the same as the generated one, so no other changes in
parsing are required.

Closes-Bug: #1966099

Change-Id: I3bdf878617fbe962d56ebb66d59ae7edeb9b7c38
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/834925/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh']",2,5b2fd1f830827105bcaca0d4ba5da05b8b71c515,bug/1966099,": ${OOO_WORKDIR:=$HOME/overcloud-deploy} local inventory_file=""$OOO_WORKDIR/$STACK_NAME/config-download/$STACK_NAME/tripleo-ansible-inventory.yaml"" if [ ! -d $OOO_WORKDIR/$STACK_NAME/config-download/$STACK_NAME ]; then fi"," source $STACKRC_FILE inventory_file=$(mktemp --tmpdir ansible-inventory-XXXXXXXX.yaml) /usr/bin/tripleo-ansible-inventory --stack $STACK_NAME --static-yaml-inventory ""$inventory_file"" rm -f ""$inventory_file"" source $STACKRC_FILE openstack stack show $STACK_NAME 1> /dev/null || { }",10,7
openstack%2Ftripleo-heat-templates~master~I3e4d8d23ed6a1a6b421a3d2630210f08c5bdb9c2,openstack/tripleo-heat-templates,master,I3e4d8d23ed6a1a6b421a3d2630210f08c5bdb9c2,Allow configuring the base port of the mini DNS proxy endpoints,MERGED,2022-02-14 16:43:49.000000000,2022-07-05 16:14:34.000000000,2022-07-05 16:14:34.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-14 16:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/806eb9860654817121985dea5dd271e443dc2081', 'message': 'Allow configuring the base port of the mini DNS prox endpoints\n\nThe miniDNS servers are proxied behind ports on the public API\nnetwork to allow integration with the external DNS instances.\nThis patch introduces a heat parameter to allow tweaking the\nbase port. Note that it is not expected that this be necessary.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/829107\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/828169\n\nChange-Id: I3e4d8d23ed6a1a6b421a3d2630210f08c5bdb9c2\n'}, {'number': 2, 'created': '2022-05-16 16:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/424a15792330c67dcd9cd2cbe9e79677c0a22e1a', 'message': 'Allow configuring the base port of the mini DNS proxy endpoints\n\nThe miniDNS servers are proxied behind ports on the public API\nnetwork to allow integration with the external DNS instances.\nThis patch introduces a heat parameter to allow tweaking the\nbase port. Note that it is not expected that this be necessary.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/829107\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/828169\n\nChange-Id: I3e4d8d23ed6a1a6b421a3d2630210f08c5bdb9c2\n'}, {'number': 3, 'created': '2022-05-16 16:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/769fa1a5d2ae8814850ce7bcd180dc13e626a4a1', 'message': 'Allow configuring the base port of the mini DNS proxy endpoints\n\nThe miniDNS servers are proxied behind ports on the public API\nnetwork to allow integration with the external DNS instances.\nThis patch introduces a heat parameter to allow tweaking the\nbase port. Note that it is not expected that this be necessary.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/828169\n\nChange-Id: I3e4d8d23ed6a1a6b421a3d2630210f08c5bdb9c2\n'}, {'number': 4, 'created': '2022-05-17 15:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/96cee75d98acd4d1127590077b566a1d79d8e9b8', 'message': 'Allow configuring the base port of the mini DNS proxy endpoints\n\nThe miniDNS servers are proxied behind ports on the public API\nnetwork to allow integration with the external DNS instances.\nThis patch introduces a heat parameter to allow tweaking the\nbase port. Note that it is not expected that this be necessary.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/828169\n\nChange-Id: I3e4d8d23ed6a1a6b421a3d2630210f08c5bdb9c2\n'}, {'number': 5, 'created': '2022-05-17 15:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/609281c7fc094045a4a95ba2457521f63c49a620', 'message': 'Allow configuring the base port of the mini DNS proxy endpoints\n\nThe miniDNS servers are proxied behind ports on the public API\nnetwork to allow integration with the external DNS instances.\nThis patch introduces a heat parameter to allow tweaking the\nbase port. Note that it is not expected that this be necessary.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/828169\n\nChange-Id: I3e4d8d23ed6a1a6b421a3d2630210f08c5bdb9c2\n'}, {'number': 6, 'created': '2022-06-23 16:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6aad860290a84763308c526fde57ea0ff1a5911e', 'message': 'Allow configuring the base port of the mini DNS proxy endpoints\n\nThe miniDNS servers are proxied behind ports on the public API\nnetwork to allow integration with the external DNS instances.\nThis patch introduces a heat parameter to allow tweaking the\nbase port. Note that it is not expected that this be necessary.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/828169\n\nChange-Id: I3e4d8d23ed6a1a6b421a3d2630210f08c5bdb9c2\n'}, {'number': 7, 'created': '2022-06-24 12:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/98cc5bf3337392bcc026f29d5f5fb58f4e30c8ab', 'message': 'Allow configuring the base port of the mini DNS proxy endpoints\n\nThe miniDNS servers are proxied behind ports on the public API\nnetwork to allow integration with the external DNS instances.\nThis patch introduces a heat parameter to allow tweaking the\nbase port. Note that it is not expected that this be necessary.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/828169\n\nChange-Id: I3e4d8d23ed6a1a6b421a3d2630210f08c5bdb9c2\n'}, {'number': 8, 'created': '2022-06-27 15:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0989a4b40a8b464496849f48603e4586cf8a71d7', 'message': 'Allow configuring the base port of the mini DNS proxy endpoints\n\nThe miniDNS servers are proxied behind ports on the public API\nnetwork to allow integration with the external DNS instances.\nThis patch introduces a heat parameter to allow tweaking the\nbase port. Note that it is not expected that this be necessary.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/828169\n\nChange-Id: I3e4d8d23ed6a1a6b421a3d2630210f08c5bdb9c2\n'}, {'number': 9, 'created': '2022-07-04 21:23:47.000000000', 'files': ['deployment/designate/designate-mdns-container-puppet.yaml', 'deployment/designate/designate-central-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da28eef8ad14b14d83d330a8adc9e579ffb294f5', 'message': 'Allow configuring the base port of the mini DNS proxy endpoints\n\nThe miniDNS servers are proxied behind ports on the public API\nnetwork to allow integration with the external DNS instances.\nThis patch introduces a heat parameter to allow tweaking the\nbase port. Note that it is not expected that this be necessary.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/828169\n\nChange-Id: I3e4d8d23ed6a1a6b421a3d2630210f08c5bdb9c2\n'}]",3,829108,da28eef8ad14b14d83d330a8adc9e579ffb294f5,39,6,9,6681,,,0,"Allow configuring the base port of the mini DNS proxy endpoints

The miniDNS servers are proxied behind ports on the public API
network to allow integration with the external DNS instances.
This patch introduces a heat parameter to allow tweaking the
base port. Note that it is not expected that this be necessary.

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/828169

Change-Id: I3e4d8d23ed6a1a6b421a3d2630210f08c5bdb9c2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/829108/8 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/designate/designate-mdns-container-puppet.yaml', 'deployment/designate/designate-central-container-puppet.yaml']",2,806eb9860654817121985dea5dd271e443dc2081,designate, DesignateMdnsProxyBasePort: description: Configure the base port for the MiniDNS proxy endpoints on the external/public access network. type: number default: 16000 vars: minidns_proxy_base_port: {get_param: DesignateMdnsProxyBasePort},,14,0
openstack%2Fironic-tempest-plugin~master~Ifdb989b3e26628ee0ffbb378d096973e251b5c17,openstack/ironic-tempest-plugin,master,Ifdb989b3e26628ee0ffbb378d096973e251b5c17,Advanced tests for Networking Ansible feature,NEW,2019-02-24 09:16:37.000000000,2022-07-05 16:14:32.000000000,,"[{'_account_id': 5792}, {'_account_id': 7616}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 18894}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 22600}, {'_account_id': 23851}, {'_account_id': 28609}, {'_account_id': 29209}]","[{'number': 1, 'created': '2019-02-24 09:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/a637a84dcbaaf4aa6df28b0d7935d9b197adaa64', 'message': 'Advanced tests for Networking Ansible feature\n\ntest_boot_bm_in_parallel - create BM guests in parallel\nand check that all the BMs have been created successfully.\n\nChange-Id: Ifdb989b3e26628ee0ffbb378d096973e251b5c17\n'}, {'number': 2, 'created': '2019-02-24 14:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/a5e85db06708c046296895200b1f35f116fec618', 'message': 'Advanced tests for Networking Ansible feature\n\ntest_boot_bm_in_parallel - create BM guests in parallel\nand check that all the BMs have been created successfully.\n\nChange-Id: Ifdb989b3e26628ee0ffbb378d096973e251b5c17\n'}, {'number': 3, 'created': '2019-02-24 16:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/0d1d64ddd9c18f0fdb6d5aa1e6a40ba95b1fb159', 'message': 'Advanced tests for Networking Ansible feature\n\ntest_boot_bm_in_parallel - create BM guests in parallel\nand check that all the BMs have been created successfully.\n\nChange-Id: Ifdb989b3e26628ee0ffbb378d096973e251b5c17\n'}, {'number': 4, 'created': '2019-02-24 19:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/0f1c2f5fcc953a53b36e04fd7af51afcf0dc3afa', 'message': 'Advanced tests for Networking Ansible feature\n\ntest_boot_bm_in_parallel - create BM guests in parallel\nand check that all the BMs have been created successfully.\n\nChange-Id: Ifdb989b3e26628ee0ffbb378d096973e251b5c17\n'}, {'number': 5, 'created': '2019-02-27 18:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/72950cd3b1139f73dfedf873639f8bc8129c0a0a', 'message': 'Advanced tests for Networking Ansible feature\n\ntest_boot_bm_in_parallel - create BM guests in parallel\nand check that all the BMs have been created successfully.\n\nChange-Id: Ifdb989b3e26628ee0ffbb378d096973e251b5c17\n'}, {'number': 6, 'created': '2019-04-11 04:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/a101e7044ceaf939e461672fa07c83e76cc303f1', 'message': 'Advanced tests for Networking Ansible feature\n\ntest_boot_bm_in_parallel - create BM guests in parallel\nand check that all the BMs have been created successfully.\n\nChange-Id: Ifdb989b3e26628ee0ffbb378d096973e251b5c17\n'}, {'number': 7, 'created': '2019-04-21 08:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/ca9941cd9ddd5311e8655bdd86f4b134e2e55333', 'message': 'Advanced tests for Networking Ansible feature\n\ntest_boot_bm_in_parallel - create BM guests in parallel\nand check that all the BMs have been created successfully.\n\nChange-Id: Ifdb989b3e26628ee0ffbb378d096973e251b5c17\n'}, {'number': 8, 'created': '2019-04-29 14:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/356a11531b0f853c153184e840924e9c24637faa', 'message': 'Advanced tests for Networking Ansible feature\n\ntest_boot_bm_in_parallel - create BM guests in parallel\nand check that all the BMs have been created successfully.\n\nChange-Id: Ifdb989b3e26628ee0ffbb378d096973e251b5c17\n'}, {'number': 9, 'created': '2019-05-27 16:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/135be8db26753df941bc1d05d1499119024e7ec6', 'message': 'Advanced tests for Networking Ansible feature\n\ntest_boot_bm_in_parallel - create BM guests in parallel\nand check that all the BMs have been created successfully.\n\nChange-Id: Ifdb989b3e26628ee0ffbb378d096973e251b5c17\n'}, {'number': 10, 'created': '2019-07-16 12:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/a888bcb363db898be39a912686865ba5c68d797a', 'message': 'Advanced tests for Networking Ansible feature\n\ntest_boot_bm_in_parallel - create BM guests in parallel\nand check that all the BMs have been created successfully.\nIn addition to Ironic testing, this scenario covers\nAnsible Networking feature functionality.\nCustomer will probably create BM guests in\nparallel and we are already facing concurrency issue with\nJuniper switch: https://bugzilla.redhat.com/show_bug.cgi?id=1660553\nThis test scenario could be used to check any other switch vendors.\n\nChange-Id: Ifdb989b3e26628ee0ffbb378d096973e251b5c17\n'}, {'number': 11, 'created': '2019-07-16 20:47:58.000000000', 'files': ['ironic_tempest_plugin/tests/scenario/test_baremetal_advanced_ops.py', 'ironic_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/d281a2ec71683650f236c6e45f03f00558b11cd4', 'message': 'Advanced tests for Networking Ansible feature\n\ntest_boot_bm_in_parallel - create BM guests in parallel\nand check that all the BMs have been created successfully.\nIn addition to Ironic testing, this scenario covers\nAnsible Networking feature functionality.\nCustomer will probably create BM guests in\nparallel and we are already facing concurrency issue with\nJuniper switch: https://bugzilla.redhat.com/show_bug.cgi?id=1660553\nThis test scenario could be used to check any other switch vendors.\n\nChange-Id: Ifdb989b3e26628ee0ffbb378d096973e251b5c17\n'}]",25,638932,d281a2ec71683650f236c6e45f03f00558b11cd4,76,11,11,28609,,,0,"Advanced tests for Networking Ansible feature

test_boot_bm_in_parallel - create BM guests in parallel
and check that all the BMs have been created successfully.
In addition to Ironic testing, this scenario covers
Ansible Networking feature functionality.
Customer will probably create BM guests in
parallel and we are already facing concurrency issue with
Juniper switch: https://bugzilla.redhat.com/show_bug.cgi?id=1660553
This test scenario could be used to check any other switch vendors.

Change-Id: Ifdb989b3e26628ee0ffbb378d096973e251b5c17
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/32/638932/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/tests/scenario/test_baremetal_advanced_ops.py'],1,a637a84dcbaaf4aa6df28b0d7935d9b197adaa64,advanced,"# # Copyright (c) 2015 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import threading from tempest.common import utils from tempest import config from tempest.lib.common.utils import data_utils from tempest.lib import decorators from ironic_tempest_plugin import manager from ironic_tempest_plugin.tests.scenario import baremetal_manager CONF = config.CONF class BaremetalAdvancedTests(baremetal_manager.BaremetalScenarioTest, manager.NetworkScenarioTest): """"""Check the ability to create BM guests in parallel: * Create a keypair, network, subnet and router for the primary tenant * Boot all available instances (""available_nodes"" value) in parallel * Verify that all instances were created as expected and in ACTIVE status * Verify SSH connectivity for each created instance * Delete instances """""" credentials = ['primary', 'admin'] @classmethod def skip_checks(cls): super(BaremetalAdvancedTests, cls).skip_checks() if not CONF.baremetal.use_provision_network: msg = 'Ironic/Neutron tenant isolation is not configured.' raise cls.skipException(msg) if (CONF.baremetal.available_nodes is not None and CONF.baremetal.available_nodes < 2): msg = ('Not enough baremetal nodes, %d configured, test requires ' 'a minimum of 2') % CONF.baremetal.available_nodes raise cls.skipException(msg) def create_tenant_network(self, clients, tenant_cidr): network = self._create_network( networks_client=clients.networks_client, tenant_id=clients.credentials.tenant_id) router = self._get_router( client=clients.routers_client, tenant_id=clients.credentials.tenant_id) result = clients.subnets_client.create_subnet( name=data_utils.rand_name('subnet'), network_id=network['id'], tenant_id=clients.credentials.tenant_id, ip_version=4, cidr=tenant_cidr) subnet = result['subnet'] clients.routers_client.add_router_interface(router['id'], subnet_id=subnet['id']) self.addCleanup(clients.subnets_client.delete_subnet, subnet['id']) self.addCleanup(clients.routers_client.remove_router_interface, router['id'], subnet_id=subnet['id']) return network, subnet, router @decorators.idempotent_id('85e7aa2c-320d-11e9-8f4c-74e5f9e2a801') @utils.services('compute', 'image', 'network') def test_boot_bm_in_parallel(self): tenant_cidr = '10.0.100.0/24' nodes_number = CONF.baremetal.available_nodes # Create keypair, subnet and router keypair = self.create_keypair() network, subnet, router = self.create_tenant_network( self.os_primary, tenant_cidr) # Create list of BM guests to create bm_to_create = [] for node in xrange(0, nodes_number): bm_name = data_utils.rand_name('BM_Primary') bm_to_create.append({'name': bm_name, 'keypair': keypair, 'clients': self.os_primary, 'net_id': network['id']}) # Use previously created list and start to create BM guests # in parallel, lock until all threads are finished threads = [] for item in bm_to_create: t = threading.Thread(target=self.boot_instance, kwargs=item) threads.append(t) t.start() for t in threads: t.join() # Get information for all created instances created_instances = [] servers = self.os_primary.servers_client.list_servers() for server in servers['servers']: name = server['name'] id = server['id'] instance = self.os_primary.servers_client.show_server(id)['server'] status = instance['status'] f_ip = self.create_floating_ip(instance)['floating_ip_address'] created_instances.append({'name': name, 'status': status, 'floating_ip': f_ip, 'instance': instance}) created_bm_names = [item['name'] for item in created_instances] created_bm_statuses = [item['status'] for item in created_instances] # Check that all BM guests were successfully created for item in bm_to_create: self.assertIn(item['name'], created_bm_names, 'Expected BM node: ' + item['name'] + ' does not exist!') for status in created_bm_statuses: self.assertEqual(status.lower(), 'active', 'Bad status has been detected for' ' created BM guests:\n' + str(created_instances)) # Check connectivity for each created BM guest floating_ips = [item['floating_ip'] for item in created_instances] for ip in floating_ips: self.check_vm_connectivity(ip_address=ip, private_key=keypair['private_key']) # Terminate created instances instances = [item['instance'] for item in created_instances] for instance in instances: self.terminate_instance(instance) ",,138,0
openstack%2Fpython-openstackclient~stable%2Fussuri~I45e9a81d451c64cdd51f9b606d94161742bacdb7,openstack/python-openstackclient,stable/ussuri,I45e9a81d451c64cdd51f9b606d94161742bacdb7,Stop testing lower-constraints,MERGED,2022-07-04 10:25:46.000000000,2022-07-05 16:14:19.000000000,2022-07-05 16:11:15.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-07-04 10:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/970f7621dd441522eaaf62f67150f15b8d917757', 'message': 'Stop testing lower-constraints\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html\n\nConflicts:\n  .zuul.yaml\n  lower-constraints.txt\n\nNOTE(stephenfin): Conflicts are due to the changed job template (ussuri\nvs victoria) and slightly different lower constraints between branches.\n\nChange-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7\n(cherry picked from commit c677192d51ac80922f990c8a96b49e9dcc9325d2)\n(cherry picked from commit cde8db3d619ff94369cdabeebb42d3ecc2027651)\n(cherry picked from commit 40f56c653cc4eabf9edc05b5c5785e818295b013)\n(cherry picked from commit 84af7608ef931bd21bac7bf29247feda13275313)\n'}, {'number': 2, 'created': '2022-07-04 11:39:43.000000000', 'files': ['requirements.txt', 'bindep.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/db92b96407ac18a611b3d79d34080acaa9c55b8f', 'message': ""Stop testing lower-constraints\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html\n\nConflicts:\n  .zuul.yaml\n  lower-constraints.txt\n\nChanges:\n  bindep.txt\n\nNOTE(stephenfin): Conflicts are due to the changed job template (ussuri\nvs victoria) and slightly different lower constraints between branches.\nWe also need to remove 'libffi6' from 'bindep.txt' since Focal doesn't\nhave this. This was done in the Victoria cycle as part of change\nIab3634039845adb649c7fd69d1812b405a61433c but we must squash it in here.\n\nChange-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7\n(cherry picked from commit c677192d51ac80922f990c8a96b49e9dcc9325d2)\n(cherry picked from commit cde8db3d619ff94369cdabeebb42d3ecc2027651)\n(cherry picked from commit 40f56c653cc4eabf9edc05b5c5785e818295b013)\n(cherry picked from commit 84af7608ef931bd21bac7bf29247feda13275313)\n""}]",0,848615,db92b96407ac18a611b3d79d34080acaa9c55b8f,12,3,2,15334,,,0,"Stop testing lower-constraints

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html

Conflicts:
  .zuul.yaml
  lower-constraints.txt

Changes:
  bindep.txt

NOTE(stephenfin): Conflicts are due to the changed job template (ussuri
vs victoria) and slightly different lower constraints between branches.
We also need to remove 'libffi6' from 'bindep.txt' since Focal doesn't
have this. This was done in the Victoria cycle as part of change
Iab3634039845adb649c7fd69d1812b405a61433c but we must squash it in here.

Change-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7
(cherry picked from commit c677192d51ac80922f990c8a96b49e9dcc9325d2)
(cherry picked from commit cde8db3d619ff94369cdabeebb42d3ecc2027651)
(cherry picked from commit 40f56c653cc4eabf9edc05b5c5785e818295b013)
(cherry picked from commit 84af7608ef931bd21bac7bf29247feda13275313)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/15/848615/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,970f7621dd441522eaaf62f67150f15b8d917757,drop-lc,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,152
openstack%2Fpython-openstackclient~stable%2Fvictoria~I45e9a81d451c64cdd51f9b606d94161742bacdb7,openstack/python-openstackclient,stable/victoria,I45e9a81d451c64cdd51f9b606d94161742bacdb7,Stop testing lower-constraints,MERGED,2022-07-04 10:24:53.000000000,2022-07-05 16:08:41.000000000,2022-07-05 16:05:46.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-07-04 10:24:53.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/84af7608ef931bd21bac7bf29247feda13275313', 'message': 'Stop testing lower-constraints\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html\n\nConflicts:\n  .zuul.yaml\n  lower-constraints.txt\n\nNOTE(stephenfin): Conflicts are due to the changed job template\n(victoria vs wallaby) and slightly different lower constraints between\nbranches.\n\nChange-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7\n(cherry picked from commit c677192d51ac80922f990c8a96b49e9dcc9325d2)\n(cherry picked from commit cde8db3d619ff94369cdabeebb42d3ecc2027651)\n(cherry picked from commit 40f56c653cc4eabf9edc05b5c5785e818295b013)\n'}]",1,848614,84af7608ef931bd21bac7bf29247feda13275313,11,2,1,15334,,,0,"Stop testing lower-constraints

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html

Conflicts:
  .zuul.yaml
  lower-constraints.txt

NOTE(stephenfin): Conflicts are due to the changed job template
(victoria vs wallaby) and slightly different lower constraints between
branches.

Change-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7
(cherry picked from commit c677192d51ac80922f990c8a96b49e9dcc9325d2)
(cherry picked from commit cde8db3d619ff94369cdabeebb42d3ecc2027651)
(cherry picked from commit 40f56c653cc4eabf9edc05b5c5785e818295b013)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/14/848614/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,84af7608ef931bd21bac7bf29247feda13275313,drop-lc,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,149
openstack%2Fpython-manilaclient~stable%2Fwallaby~I7a234666c3edff6486257a370ec361045aa7947d,openstack/python-manilaclient,stable/wallaby,I7a234666c3edff6486257a370ec361045aa7947d,Drop lower-constraints.txt and its testing,NEW,2022-05-03 15:02:44.000000000,2022-07-05 15:56:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-03 15:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/30abf065cae9a197be1bb0f33149c4e6753b8585', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I7a234666c3edff6486257a370ec361045aa7947d\n(cherry picked from commit bf2c7a26d62e240468ee062fddd49ff97a956e43)\n(cherry picked from commit 9f33f3ab1dc2eb5dd953ee7655c0db093d561d2b)\n(cherry picked from commit 0c9c6a1eb64c0de387fa85bd08943c8f04e03fc2)\n'}, {'number': 2, 'created': '2022-05-03 15:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/cf307a29f8e6ac6c706b4b4b63fc3e1c0d0e510e', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I7a234666c3edff6486257a370ec361045aa7947d\n(cherry picked from commit bf2c7a26d62e240468ee062fddd49ff97a956e43)\n(cherry picked from commit 9f33f3ab1dc2eb5dd953ee7655c0db093d561d2b)\n(cherry picked from commit 0c9c6a1eb64c0de387fa85bd08943c8f04e03fc2)\n'}, {'number': 3, 'created': '2022-07-05 15:11:14.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f7d47af863d167845ca5eeca2247f6700618dbfa', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I7a234666c3edff6486257a370ec361045aa7947d\n(cherry picked from commit bf2c7a26d62e240468ee062fddd49ff97a956e43)\n(cherry picked from commit 9f33f3ab1dc2eb5dd953ee7655c0db093d561d2b)\n(cherry picked from commit 0c9c6a1eb64c0de387fa85bd08943c8f04e03fc2)\n'}]",2,840301,f7d47af863d167845ca5eeca2247f6700618dbfa,12,1,3,16643,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I7a234666c3edff6486257a370ec361045aa7947d
(cherry picked from commit bf2c7a26d62e240468ee062fddd49ff97a956e43)
(cherry picked from commit 9f33f3ab1dc2eb5dd953ee7655c0db093d561d2b)
(cherry picked from commit 0c9c6a1eb64c0de387fa85bd08943c8f04e03fc2)
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/01/840301/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,30abf065cae9a197be1bb0f33149c4e6753b8585,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,7,6
openstack%2Fhorizon~master~I564b1e0cd6a94f1297788649b813e45f819455ff,openstack/horizon,master,I564b1e0cd6a94f1297788649b813e45f819455ff,Add an option to use Google Chrome for Selenium tests,MERGED,2022-06-27 10:35:22.000000000,2022-07-05 15:47:40.000000000,2022-07-05 15:46:12.000000000,"[{'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-06-27 10:35:22.000000000', 'files': ['horizon/test/webdriver.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ac8b91f1aa9e1eb1f0ab359872b2d68ba74a098a', 'message': 'Add an option to use Google Chrome for Selenium tests\n\nIt seems to be a bit more stable.\n\nChange-Id: I564b1e0cd6a94f1297788649b813e45f819455ff\n'}]",1,847763,ac8b91f1aa9e1eb1f0ab359872b2d68ba74a098a,10,3,1,8648,,,0,"Add an option to use Google Chrome for Selenium tests

It seems to be a bit more stable.

Change-Id: I564b1e0cd6a94f1297788649b813e45f819455ff
",git fetch https://review.opendev.org/openstack/horizon refs/changes/63/847763/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/test/webdriver.py'],1,ac8b91f1aa9e1eb1f0ab359872b2d68ba74a098a,integration-chromium,elif os.environ.get('SELENIUM_CHROME'): from selenium.webdriver import Chrome as WebDriver desired_capabilities = dc.DesiredCapabilities.CHROME,,3,0
openstack%2Fansible-collections-openstack~master~Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f,openstack/ansible-collections-openstack,master,Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f,Makes security_group_info compatible with new openstacksdk,MERGED,2022-05-05 12:50:05.000000000,2022-07-05 15:37:35.000000000,2022-07-05 15:37:35.000000000,"[{'_account_id': 8367}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-05-05 12:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/159254a5438768519d11f0fa51f672e8e7d7e198', 'message': '[WIP] Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 2, 'created': '2022-05-12 15:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d13a6857075bd73afea467f1a966c1c882145a41', 'message': '[WIP] Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 3, 'created': '2022-05-16 09:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e078f1a90b8b6b26cda6af285f7929894a57f7a2', 'message': '[WIP] Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 4, 'created': '2022-05-30 10:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3082e4622002619e9d2d5625ea645ade0ae2ef28', 'message': 'Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 5, 'created': '2022-06-01 13:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/255fd4f138bf1ea031a25daa9c70de04ae8eb1d1', 'message': 'Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 6, 'created': '2022-06-02 12:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/410bd7f16d49ba1ac23bbf26cbca28f2d831b503', 'message': 'Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 7, 'created': '2022-06-02 15:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ddee53bbb27bbb3426cc76c74f28bcab9257e017', 'message': 'Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 8, 'created': '2022-06-02 15:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3b585aaec6ccc4ddaae2a5099a0cb069cbf4e978', 'message': 'Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 9, 'created': '2022-06-08 12:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/45bf75d6c26ade45a50e16aab197fb917f96efc4', 'message': 'Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 10, 'created': '2022-06-16 08:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/cfec6a71d47883027e1fa429dd02f6e901f63a38', 'message': 'Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 11, 'created': '2022-06-16 09:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9191aac67a3d335fad3552ce07a8d11300775c45', 'message': 'Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 12, 'created': '2022-06-16 09:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5af71e8104a24abe881046ad8d5d2db5a4f4630f', 'message': 'Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 13, 'created': '2022-06-16 09:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/68d4d1ef2d5e223b9355ccf6747a00c16957e5e1', 'message': 'Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 14, 'created': '2022-06-16 11:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bd77e04185ec2aea476310623eb935bdcfc7e3f7', 'message': 'Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 15, 'created': '2022-06-20 13:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7e14ff9ef827b91b55d534b583e59f921fc067f6', 'message': 'Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 16, 'created': '2022-06-27 13:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/097398a4b73c770c91f43c3d68191bd7d91a8c4b', 'message': 'Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 17, 'created': '2022-06-27 14:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e7bd3fdd52173ea3d28e6fee94b8c2668f33fb44', 'message': 'Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 18, 'created': '2022-07-04 12:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f6fd58b43e2613751cc689c8cf2626472cc7c951', 'message': 'Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 19, 'created': '2022-07-04 12:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/23a8d3c531c507ee7be372004ab2cbe35b8d1a2a', 'message': 'Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 20, 'created': '2022-07-04 13:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/07f3d61c8f858bf5f098277ebadd524d51f14f01', 'message': 'Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 21, 'created': '2022-07-04 13:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/83735367de3d94a867b11307b087f24eca6c909e', 'message': 'Moves security_group_info from cloud to proxy object\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 22, 'created': '2022-07-04 13:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1b59279679ac71f701ffaf8de8c425d6b98c0f07', 'message': 'Makes security_group_info compatible with new openstacksdk\n\n- updated documentation of return values\n- added test to verify return values\n- moves to cloud layer as it makes the code shorter without additional calls to openstack/complexity\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 23, 'created': '2022-07-04 14:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7f7897db83eadd2ed38e2f047e22cca507e1d919', 'message': 'Makes security_group_info compatible with new openstacksdk\n\n- updated documentation of return values\n- added test to verify return values\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 24, 'created': '2022-07-05 08:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7ba4711993581009a6b3e6ea9a7386f9a94f93c0', 'message': 'Makes security_group_info compatible with new openstacksdk\n\n- updated documentation of return values\n- added test to verify return values\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 25, 'created': '2022-07-05 10:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bedacd205c539af5a6b32d8502aad77fd93bc516', 'message': 'Makes security_group_info compatible with new openstacksdk\n\n- updated documentation of return values\n- added test to verify return values\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 26, 'created': '2022-07-05 10:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1a4884052e5df7ca4cc653bebe7758816bafd4f2', 'message': 'Makes security_group_info compatible with new openstacksdk\n\n- updated documentation of return values\n- added test to verify return values\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 27, 'created': '2022-07-05 12:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/03ddcf94db9ef18a6de9dba9412eb64b29c3527f', 'message': 'Makes security_group_info compatible with new openstacksdk\n\n- updated documentation of return values\n- added test to verify return values\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 28, 'created': '2022-07-05 12:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2cf1afaa3f6235aace74c1c474c7a1b98a19f8d9', 'message': 'Makes security_group_info compatible with new openstacksdk\n\n- updated documentation of return values\n- added test to verify return values\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n'}, {'number': 29, 'created': '2022-07-05 13:53:51.000000000', 'files': ['ci/roles/security_group/tasks/main.yml', 'ci/roles/security_group/defaults/main.yml', 'plugins/modules/security_group_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d600284645ee8f5b83b0644693422c8fa2a1614e', 'message': ""Makes security_group_info compatible with new openstacksdk\n\nUpdated documentation of return values and added test to verify\nreturn values\n\nFunction self.conn.search_security_groups() cannot be used here.\nArguments for filtering such as 'description' would have to be passed\nto self.conn.search_security_groups() in its 'filters' argument [1].\nThe latter is passed to both as query arguments to OpenStack API\nand later to _utils._filter_list() [2] for filtering the results.\nSome arguments such as 'any_tags' are only used as query arguments\nby openstacksdk [3] when querying OpenStack API. They are no valid\nattributes in security_group.py [4]. Whenever those non-attribute\narguments are passed to self.conn.search_security_groups(),\n_utils._filter_list() [2] would drop all results because no result\nwould have a matching attributes.\n\n[1] https://opendev.org/openstack/openstacksdk/src/commit/0898398415ae7b0e2447d61226acf50f01567cdd/openstack/cloud/_security_group.py#L31\n[2] https://opendev.org/openstack/openstacksdk/src/commit/0898398415ae7b0e2447d61226acf50f01567cdd/openstack/cloud/_utils.py#L63\n[3] https://opendev.org/openstack/openstacksdk/src/commit/0898398415ae7b0e2447d61226acf50f01567cdd/openstack/common/tag.py#L19\n[4] https://opendev.org/openstack/openstacksdk/src/commit/0898398415ae7b0e2447d61226acf50f01567cdd/openstack/network/v2/security_group.py\n\nChange-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f\n""}]",59,840660,d600284645ee8f5b83b0644693422c8fa2a1614e,74,5,29,32458,,,0,"Makes security_group_info compatible with new openstacksdk

Updated documentation of return values and added test to verify
return values

Function self.conn.search_security_groups() cannot be used here.
Arguments for filtering such as 'description' would have to be passed
to self.conn.search_security_groups() in its 'filters' argument [1].
The latter is passed to both as query arguments to OpenStack API
and later to _utils._filter_list() [2] for filtering the results.
Some arguments such as 'any_tags' are only used as query arguments
by openstacksdk [3] when querying OpenStack API. They are no valid
attributes in security_group.py [4]. Whenever those non-attribute
arguments are passed to self.conn.search_security_groups(),
_utils._filter_list() [2] would drop all results because no result
would have a matching attributes.

[1] https://opendev.org/openstack/openstacksdk/src/commit/0898398415ae7b0e2447d61226acf50f01567cdd/openstack/cloud/_security_group.py#L31
[2] https://opendev.org/openstack/openstacksdk/src/commit/0898398415ae7b0e2447d61226acf50f01567cdd/openstack/cloud/_utils.py#L63
[3] https://opendev.org/openstack/openstacksdk/src/commit/0898398415ae7b0e2447d61226acf50f01567cdd/openstack/common/tag.py#L19
[4] https://opendev.org/openstack/openstacksdk/src/commit/0898398415ae7b0e2447d61226acf50f01567cdd/openstack/network/v2/security_group.py

Change-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/60/840660/24 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/security_group_info.py'],1,159254a5438768519d11f0fa51f672e8e7d7e198,security_group_info," if self.params['description']: attrs['description'] = self.params['description'] if self.params['project_id']: attrs['project_id'] = self.params['project_id'] if self.params['revision_number']: attrs['revision_number'] = self.params['revision_number'] if self.params['tags']: attrs['tags'] = ','.join(self.params['tags']) if self.params['any_tags']: attrs['any_tags'] = ','.join(self.params['any_tags']) if self.params['not_tags']: attrs['not_tags'] = ','.join(self.params['not_tags']) if self.params['not_any_tags']: attrs['not_any_tags'] = ','.join(self.params['not_any_tags']) if name: result = self.conn.network.networks.find_security_group(name) sec_group = [result.to_dict(computed=False)] if result else [] self.exit(changed=False, security_groups=sec_group) result = self.conn.network.networks.security_groups(**attrs)"," if description: attrs['description'] = description if project_id: attrs['project_id'] = project_id if revision_number: attrs['revision_number'] = revision_number if tags: attrs['tags'] = ','.join(tags) if any_tags: attrs['any_tags'] = ','.join(any_tags) if not_tags: attrs['not_tags'] = ','.join(not_tags) if not_any_tags: attrs['not_any_tags'] = ','.join(not_any_tags) result = self.conn.network.security_groups(**attrs)",20,15
openstack%2Fovn-octavia-provider~stable%2Fussuri~Iad9839ce99d50b969924b3fe369301b6dfed369d,openstack/ovn-octavia-provider,stable/ussuri,Iad9839ce99d50b969924b3fe369301b6dfed369d,Delete vip port if create_vip_port raise exception,MERGED,2022-07-04 08:44:53.000000000,2022-07-05 15:14:18.000000000,2022-07-05 15:12:58.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-07-04 08:44:53.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4d15d0d2f66e0cc5a26ff37527aa62d770a6a5e3', 'message': 'Delete vip port if create_vip_port raise exception\n\nSometimes on heavy load over Neutron, operations over\nneutron client could raise a NeutronClientException that\ncould cover, e.g. a timeout. In those case, sometimes the\nrequest finish after the client timeout and we have\nleftover resource.\n\ncreate_vip_port is called from Octavia API just before\nthe create LB request, if this call raise a timeout\nmaybe the vip port is finally created and linked to a LB\nthat is not going to be created, so we have this port\nunuse.\n\nThis patch will try to remove the leftover port for those\nsituations.\n\n(manually cherry picked from commit\ncd3264a07e047b589e4064855169c37f17343e60)\n\nCloses-Bug: #1973765\nChange-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d\n'}]",2,848583,4d15d0d2f66e0cc5a26ff37527aa62d770a6a5e3,13,4,1,34451,,,0,"Delete vip port if create_vip_port raise exception

Sometimes on heavy load over Neutron, operations over
neutron client could raise a NeutronClientException that
could cover, e.g. a timeout. In those case, sometimes the
request finish after the client timeout and we have
leftover resource.

create_vip_port is called from Octavia API just before
the create LB request, if this call raise a timeout
maybe the vip port is finally created and linked to a LB
that is not going to be created, so we have this port
unuse.

This patch will try to remove the leftover port for those
situations.

(manually cherry picked from commit
cd3264a07e047b589e4064855169c37f17343e60)

Closes-Bug: #1973765
Change-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/83/848583/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",2,4d15d0d2f66e0cc5a26ff37527aa62d770a6a5e3,," except n_exc.NeutronClientException as e: # NOTE (froyo): whatever other exception as e.g. Timeout # we should try to ensure no leftover port remains ports = neutron_client.list_ports( network_id=vip_d['vip_network_id'], name=f'{ovn_const.LB_VIP_PORT_PREFIX}{lb_id}') if ports['ports']: port = ports['ports'][0] LOG.debug('Leftover port %s has been found. Trying to ' 'delete it', port['id']) self.delete_vip_port(port['id']) raise e",,37,0
openstack%2Fironic~stable%2Fwallaby~I8ead1d24a9bd502b64fe7dd058e77550fcee141c,openstack/ironic,stable/wallaby,I8ead1d24a9bd502b64fe7dd058e77550fcee141c,Fix redfish-virtual-media for newer iDRACs,MERGED,2022-07-01 13:59:21.000000000,2022-07-05 15:11:31.000000000,2022-07-05 15:09:32.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-07-01 13:59:21.000000000', 'files': ['ironic/drivers/modules/drac/boot.py', 'doc/source/admin/drivers/redfish.rst', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'ironic/drivers/modules/redfish/boot.py', 'releasenotes/notes/fix-redfish-vm-boot-idrac-37ec734e6643cbac.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/dd2bfabbae24b468f3a89611e6b0b3b6c679a8e0', 'message': 'Fix redfish-virtual-media for newer iDRACs\n\nThe issue with standard Redfish virtual media boot has\nbeen fixed now. Update to restrict use of redfish-virtual-media\nbased on iDRAC firmware version.\n\n Conflicts:\n       ironic/drivers/modules/redfish/boot.py\n\nChange-Id: I8ead1d24a9bd502b64fe7dd058e77550fcee141c\n(cherry picked from commit 73040c88d99f066644277f32e86d196305fc8596)\n'}]",0,848451,dd2bfabbae24b468f3a89611e6b0b3b6c679a8e0,12,3,1,27909,,,0,"Fix redfish-virtual-media for newer iDRACs

The issue with standard Redfish virtual media boot has
been fixed now. Update to restrict use of redfish-virtual-media
based on iDRAC firmware version.

 Conflicts:
       ironic/drivers/modules/redfish/boot.py

Change-Id: I8ead1d24a9bd502b64fe7dd058e77550fcee141c
(cherry picked from commit 73040c88d99f066644277f32e86d196305fc8596)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/51/848451/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/boot.py', 'doc/source/admin/drivers/redfish.rst', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'ironic/drivers/modules/redfish/boot.py', 'releasenotes/notes/fix-redfish-vm-boot-idrac-37ec734e6643cbac.yaml']",7,dd2bfabbae24b468f3a89611e6b0b3b6c679a8e0,,"--- fixes: - | Fixes ``redfish-virtual-media`` ``boot`` interface to allow it with iDRAC firmware from 6.00.00.00 (released June 2022) as it has virtual media boot issue fixed that prevented iDRAC firmware to work with ``redfish-virtual-media`` before. Consider upgrading iDRAC firmware if not done already, otherwise will still get an error when trying to use ``redfish-virtual-media`` with iDRAC. ",,76,20
openstack%2Fironic~stable%2Fxena~I8ead1d24a9bd502b64fe7dd058e77550fcee141c,openstack/ironic,stable/xena,I8ead1d24a9bd502b64fe7dd058e77550fcee141c,Fix redfish-virtual-media for newer iDRACs,MERGED,2022-07-01 13:41:59.000000000,2022-07-05 15:09:54.000000000,2022-07-05 15:07:52.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-07-01 13:41:59.000000000', 'files': ['ironic/drivers/modules/drac/boot.py', 'doc/source/admin/drivers/redfish.rst', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'ironic/drivers/modules/redfish/boot.py', 'releasenotes/notes/fix-redfish-vm-boot-idrac-37ec734e6643cbac.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/da14382781b963944f87404098b2d4afa25f378c', 'message': 'Fix redfish-virtual-media for newer iDRACs\n\nThe issue with standard Redfish virtual media boot has\nbeen fixed now. Update to restrict use of redfish-virtual-media\nbased on iDRAC firmware version.\n\n Conflicts:\n       ironic/drivers/modules/redfish/boot.py\n\nChange-Id: I8ead1d24a9bd502b64fe7dd058e77550fcee141c\n(cherry picked from commit 73040c88d99f066644277f32e86d196305fc8596)\n'}]",0,848450,da14382781b963944f87404098b2d4afa25f378c,12,3,1,27909,,,0,"Fix redfish-virtual-media for newer iDRACs

The issue with standard Redfish virtual media boot has
been fixed now. Update to restrict use of redfish-virtual-media
based on iDRAC firmware version.

 Conflicts:
       ironic/drivers/modules/redfish/boot.py

Change-Id: I8ead1d24a9bd502b64fe7dd058e77550fcee141c
(cherry picked from commit 73040c88d99f066644277f32e86d196305fc8596)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/50/848450/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/boot.py', 'doc/source/admin/drivers/redfish.rst', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'ironic/drivers/modules/redfish/boot.py', 'releasenotes/notes/fix-redfish-vm-boot-idrac-37ec734e6643cbac.yaml']",7,da14382781b963944f87404098b2d4afa25f378c,,"--- fixes: - | Fixes ``redfish-virtual-media`` ``boot`` interface to allow it with iDRAC firmware from 6.00.00.00 (released June 2022) as it has virtual media boot issue fixed that prevented iDRAC firmware to work with ``redfish-virtual-media`` before. Consider upgrading iDRAC firmware if not done already, otherwise will still get an error when trying to use ``redfish-virtual-media`` with iDRAC. ",,76,20
openstack%2Fmanila-tempest-plugin~master~Ie554d72f5ba2991df0c7b0decd7f552d034760e0,openstack/manila-tempest-plugin,master,Ie554d72f5ba2991df0c7b0decd7f552d034760e0,DNM - testing cephfs-native with latest service image,ABANDONED,2021-02-17 20:12:04.000000000,2022-07-05 15:09:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-17 20:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a39f119a1458ad4d03c63928a0e675c6cb7432f6', 'message': ""DNM - testing cephfs-native with latest service image\n\nWe capped the service image to use an older\nimage due to a mismatch between clients -\nthe latest service image had an upgraded\ncephfs client that wasn't working with a\nnautilus based ceph cluster. Now that we've\nchanged the ceph cluster infra quite a bit*,\nlets try to see if this issue still exists.\n\n* We updated the ceph package sources from\n  ceph-ci's shaman to ubuntu\n* We updated the base OS for devstack from\n  bionic beaver to focal fossa - this allows\n  us to test with ceph octopus which is\n  made available by default when we look\n  for ceph packages in the ubuntu ppa.\n\nChange-Id: Ie554d72f5ba2991df0c7b0decd7f552d034760e0\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 2, 'created': '2021-02-24 16:23:11.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/53e9db238bb6ff56354de09f2cf66618635de7bd', 'message': ""DNM - testing cephfs-native with latest service image\n\nWe capped the service image to use an older\nimage due to a mismatch between clients -\nthe latest service image had an upgraded\ncephfs client that wasn't working with a\nnautilus based ceph cluster. Now that we've\nchanged the ceph cluster infra quite a bit*,\nlets try to see if this issue still exists.\n\n* We updated the ceph package sources from\n  ceph-ci's shaman to ubuntu\n* We updated the base OS for devstack from\n  bionic beaver to focal fossa - this allows\n  us to test with ceph octopus which is\n  made available by default when we look\n  for ceph packages in the ubuntu ppa.\n\nDepends-On: I1edd5a50079f325fa143a7e0d51b3aa3bb5ed45d\nChange-Id: Ie554d72f5ba2991df0c7b0decd7f552d034760e0\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",0,776265,53e9db238bb6ff56354de09f2cf66618635de7bd,7,1,2,16643,,,0,"DNM - testing cephfs-native with latest service image

We capped the service image to use an older
image due to a mismatch between clients -
the latest service image had an upgraded
cephfs client that wasn't working with a
nautilus based ceph cluster. Now that we've
changed the ceph cluster infra quite a bit*,
lets try to see if this issue still exists.

* We updated the ceph package sources from
  ceph-ci's shaman to ubuntu
* We updated the base OS for devstack from
  bionic beaver to focal fossa - this allows
  us to test with ceph octopus which is
  made available by default when we look
  for ceph packages in the ubuntu ppa.

Depends-On: I1edd5a50079f325fa143a7e0d51b3aa3bb5ed45d
Change-Id: Ie554d72f5ba2991df0c7b0decd7f552d034760e0
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/65/776265/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/manila-tempest-jobs.yaml']",2,a39f119a1458ad4d03c63928a0e675c6cb7432f6,test-cephfs-ci, MANILA_SERVICE_IMAGE_URL: https://tarballs.opendev.org/openstack/manila-image-elements/images/manila-service-image-cephfs-master.qcow2 MANILA_SERVICE_IMAGE_NAME: manila-service-image-cephfs-master," # NOTE(gouthamr): The following need to use the latest images, however, there's a bug # with cephfs on Ubuntu 20.04 LTS: https://tracker.ceph.com/issues/47236 # the latest image is built as https://tarballs.opendev.org/openstack/manila-image-elements/images/manila-service-image-cephfs-master.qcow2 MANILA_SERVICE_IMAGE_URL: https://tarballs.opendev.org/openstack/manila-image-elements/images/manila-service-image-cephfs-1.3.0-58-g2859569.qcow2 MANILA_SERVICE_IMAGE_NAME: manila-service-image-cephfs-1.3.0-58-g2859569",3,33
openstack%2Fmanila-tempest-plugin~master~I4ed0d1f1b5614842ce9359a411cfa0944e4ce0f8,openstack/manila-tempest-plugin,master,I4ed0d1f1b5614842ce9359a411cfa0944e4ce0f8,DNM - testing glusterfs-native,ABANDONED,2020-11-18 23:42:55.000000000,2022-07-05 15:08:51.000000000,,"[{'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 23:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/ab164d096ea76cfcf813e257e5187305257ebd78', 'message': 'DNM - testing glusterfs-native\n\nChange-Id: I4ed0d1f1b5614842ce9359a411cfa0944e4ce0f8\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-11-24 23:43:08.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/3ff870c484b9f64585c16c0513c73700b1a66359', 'message': 'DNM - testing glusterfs-native\n\nDepends-On: I96d49f84122a34701328909c929ede4d66746911\nChange-Id: I4ed0d1f1b5614842ce9359a411cfa0944e4ce0f8\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,763283,3ff870c484b9f64585c16c0513c73700b1a66359,11,3,2,16643,,,0,"DNM - testing glusterfs-native

Depends-On: I96d49f84122a34701328909c929ede4d66746911
Change-Id: I4ed0d1f1b5614842ce9359a411cfa0944e4ce0f8
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/83/763283/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/manila-tempest-jobs.yaml']",2,ab164d096ea76cfcf813e257e5187305257ebd78,glusterfs, run_snapshot_tests: true, run_snapshot_tests: false,2,29
openstack%2Fironic~bugfix%2F20.2~I8ead1d24a9bd502b64fe7dd058e77550fcee141c,openstack/ironic,bugfix/20.2,I8ead1d24a9bd502b64fe7dd058e77550fcee141c,Fix redfish-virtual-media for newer iDRACs,MERGED,2022-07-04 12:13:20.000000000,2022-07-05 15:07:05.000000000,2022-07-05 15:05:13.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2022-07-04 12:13:20.000000000', 'files': ['ironic/drivers/modules/drac/boot.py', 'doc/source/admin/drivers/redfish.rst', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/redfish/boot.py', 'releasenotes/notes/fix-redfish-vm-boot-idrac-37ec734e6643cbac.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/db2b6835f228ba7c7c09675a0f339a61482541c5', 'message': 'Fix redfish-virtual-media for newer iDRACs\n\nThe issue with standard Redfish virtual media boot has\nbeen fixed now. Update to restrict use of redfish-virtual-media\nbased on iDRAC firmware version.\n\nChange-Id: I8ead1d24a9bd502b64fe7dd058e77550fcee141c\n(cherry picked from commit 73040c88d99f066644277f32e86d196305fc8596)\n'}]",1,848595,db2b6835f228ba7c7c09675a0f339a61482541c5,13,4,1,10239,,,0,"Fix redfish-virtual-media for newer iDRACs

The issue with standard Redfish virtual media boot has
been fixed now. Update to restrict use of redfish-virtual-media
based on iDRAC firmware version.

Change-Id: I8ead1d24a9bd502b64fe7dd058e77550fcee141c
(cherry picked from commit 73040c88d99f066644277f32e86d196305fc8596)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/95/848595/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/boot.py', 'doc/source/admin/drivers/redfish.rst', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/redfish/boot.py', 'releasenotes/notes/fix-redfish-vm-boot-idrac-37ec734e6643cbac.yaml']",5,db2b6835f228ba7c7c09675a0f339a61482541c5,idrac-virtual-media-bugfix/20.2,"--- fixes: - | Fixes ``redfish-virtual-media`` ``boot`` interface to allow it with iDRAC firmware from 6.00.00.00 (released June 2022) as it has virtual media boot issue fixed that prevented iDRAC firmware to work with ``redfish-virtual-media`` before. Consider upgrading iDRAC firmware if not done already, otherwise will still get an error when trying to use ``redfish-virtual-media`` with iDRAC. ",,73,19
openstack%2Ftripleo-heat-templates~master~I7f481f2772f668e7804be93c545116d19ada46ae,openstack/tripleo-heat-templates,master,I7f481f2772f668e7804be93c545116d19ada46ae,Fix libvirt-guests handling post virt-guest-shutdown,MERGED,2022-05-24 15:01:05.000000000,2022-07-05 15:06:21.000000000,2022-07-04 17:44:54.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-05-24 15:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be1a351dc3239fc0a726f4f04c538b2164432a06', 'message': 'Fix nova_libvirt references for modular libvirt\n\nNova compute service references nova_libvirt container/service even\nafter tripleo got switched to modular libvirt.\n\nUse nova_virtproxyd instead of nova_libvirt:\n* To manage /usr/libexec/libvirt-guests.sh start/stop/shutdown\n  for tripleo_nova_libvirt_guests service\n* As a systemd dependency for tripleo_nova_compute service\n\nDrop container_cli conditions as we only support podman.\n\nRelated: rhbz#1956300\nRelated: rhbz#1920022\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I7f481f2772f668e7804be93c545116d19ada46ae\n'}, {'number': 2, 'created': '2022-05-26 16:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/51277fd197612741a5a1e61e8c11f4d76cdcddc8', 'message': 'Fix nova_libvirt references for modular libvirt\n\nNova compute service references nova_libvirt container/service even\nafter tripleo got switched to modular libvirt.\n\nUse nova_virtproxyd instead of nova_libvirt:\n* To manage /usr/libexec/libvirt-guests.sh start/stop/shutdown\n  for tripleo_nova_libvirt_guests service\n* As a systemd dependency for tripleo_nova_compute service\n\nDrop container_cli conditions as we only support podman.\n\nRelated: rhbz#1956300\nRelated: rhbz#1920022\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I7f481f2772f668e7804be93c545116d19ada46ae\n'}, {'number': 3, 'created': '2022-05-30 13:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/442d3b5d1d496c435147af881c045676d555f6c1', 'message': ""Fix libvirt-guests handling post virt-guest-shutdown\n\nTripleo_nova_libvirt_guests.service calls libvirt-guests.sh\nassuminig there is monolitic libvirt container running.\nThat's not the case for modular libvirt.\n\nThere is no direct parameters we can refer to to differentiate\nmonolitic vs modular deployments. Allow both monilitic and modular\ncommands that manage libvirt-guests file and libvirt-guests.sh\nshutdown to fail, while making the tripleo_nova_libvirt_guests's\nservice unit start/stop actions always successfull.\n\nAlso drop container_cli conditions as we only support podman.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I7f481f2772f668e7804be93c545116d19ada46ae\n""}, {'number': 4, 'created': '2022-05-30 13:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6e644920a689b63716c6d729a1d270ac6c49a17', 'message': ""Fix libvirt-guests handling post virt-guest-shutdown\n\nTripleo_nova_libvirt_guests.service calls libvirt-guests.sh\nassuminig there is monolithic libvirt container running.\nThat's not the case for modular libvirt. Use a proper container\nname for that.\n\nAlso drop container_cli conditions as we only support podman.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I7f481f2772f668e7804be93c545116d19ada46ae\n""}, {'number': 5, 'created': '2022-05-31 11:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a566d508647d08939679232cc1aa48ee500df1cd', 'message': ""Fix libvirt-guests handling post virt-guest-shutdown\n\nTripleo_nova_libvirt_guests.service calls libvirt-guests.sh\nassuminig there is monolithic libvirt container running.\nThat's not the case for modular libvirt. Use a proper container\nname for that.\n\nAlso drop container_cli conditions as we only support podman.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I7f481f2772f668e7804be93c545116d19ada46ae\n""}, {'number': 6, 'created': '2022-05-31 11:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3885a18ba4e65836598774c79e5c0a6bef922e74', 'message': ""Fix libvirt-guests handling post virt-guest-shutdown\n\nTripleo_nova_libvirt_guests.service calls libvirt-guests.sh\nassuminig there is monolithic libvirt container running.\nThat's not the case for modular libvirt. Use a proper container\nname for that.\n\nAlso drop container_cli conditions as we only support podman.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I7f481f2772f668e7804be93c545116d19ada46ae\n""}, {'number': 7, 'created': '2022-06-01 11:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e355f5fc70cc2b3ac1c1cd6f46c1a2be7570b96', 'message': ""Fix libvirt-guests handling post virt-guest-shutdown\n\nTripleo_nova_libvirt_guests.service calls libvirt-guests.sh\nassuminig there is monolithic libvirt container running.\nThat's not the case for modular libvirt. Use a proper container\nname for that.\n\nAlso drop container_cli conditions as we only support podman.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I7f481f2772f668e7804be93c545116d19ada46ae\n(cherry picked from commit 3885a18ba4e65836598774c79e5c0a6bef922e74)\n""}, {'number': 8, 'created': '2022-06-07 12:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f97ac00419eae4c8b0972e44c591cef1c40a4a3c', 'message': ""Fix libvirt-guests handling post virt-guest-shutdown\n\nTripleo_nova_libvirt_guests.service calls libvirt-guests.sh\nassuminig there is monolithic libvirt container running.\nThat's not the case for modular libvirt. Use a proper container\nname for that.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I7f481f2772f668e7804be93c545116d19ada46ae\n""}, {'number': 9, 'created': '2022-06-21 11:42:17.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dccd879ce9056fffaf3d3cb38ee3def8afb505e0', 'message': ""Fix libvirt-guests handling post virt-guest-shutdown\n\nTripleo_nova_libvirt_guests.service calls libvirt-guests.sh\nassuminig there is monolithic libvirt container running.\nThat's not the case for modular libvirt. Use a proper container\nname for that.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I7f481f2772f668e7804be93c545116d19ada46ae\n""}]",29,843158,dccd879ce9056fffaf3d3cb38ee3def8afb505e0,63,10,9,6926,,,0,"Fix libvirt-guests handling post virt-guest-shutdown

Tripleo_nova_libvirt_guests.service calls libvirt-guests.sh
assuminig there is monolithic libvirt container running.
That's not the case for modular libvirt. Use a proper container
name for that.

Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I7f481f2772f668e7804be93c545116d19ada46ae
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/843158/8 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,be1a351dc3239fc0a726f4f04c538b2164432a06,bug/1967021, - tripleo_nova_virtproxyd.service After=tripleo_nova_virtproxyd.service ExecStart=/bin/podman exec nova_virtproxyd /bin/rm -f /var/lib/libvirt/libvirt-guests ExecStop=/bin/podman exec nova_virtproxyd /bin/sh -x /usr/libexec/libvirt-guests.sh shutdown, - tripleo_nova_libvirt.service - name: install libvirt-guests systemd unit file (docker) when: - resume_guests_state_on_host_boot_enabled|bool - container_cli == 'docker' block: - name: libvirt-guests unit to stop nova_compute container before shutdown VMs copy: dest: /etc/systemd/system/libvirt-guests.service content: | [Unit] Description=Suspend/Resume Running libvirt Guests After=network.target After=time-sync.target After=virt-guest-shutdown.target After=docker.service After=tripleo-container-shutdown.service After=rhel-push-plugin.service Documentation=man:libvirtd(8) Documentation=https://libvirt.org [Service] EnvironmentFile=-/var/lib/config-data/puppet-generated/nova_libvirt/etc/sysconfig/libvirt-guests # Hack just call traditional service until we factor # out the code ExecStart=/bin/{{container_cli}} exec nova_libvirt /bin/sh -x /usr/libexec/libvirt-guests.sh start ExecStop=/bin/{{container_cli}} stop nova_compute ExecStop=/bin/{{container_cli}} exec nova_libvirt /bin/sh -x /usr/libexec/libvirt-guests.sh stop Type=oneshot RemainAfterExit=yes StandardOutput=journal+console TimeoutStopSec=0 [Install] WantedBy=multi-user.target - name: Making sure virt-guest-shutdown.target is present copy: dest: /etc/systemd/system/virt-guest-shutdown.target content: | [Unit] Description=Libvirt guests shutdown Documentation=https://libvirt.org - name: libvirt-guests enable VM shutdown on compute reboot/shutdown systemd: name: libvirt-guests enabled: true daemon_reload: true - container_cli == 'podman' After=tripleo_nova_libvirt.service ExecStart=/bin/{{container_cli}} exec nova_libvirt /bin/rm -f /var/lib/libvirt/libvirt-guests ExecStop=/bin/{{container_cli}} exec nova_libvirt /bin/sh -x /usr/libexec/libvirt-guests.sh shutdown - container_cli == 'podman' - container_cli == 'podman',4,53
openstack%2Fetcd3gw~master~I440cedb711149a5f12eb2311e78181b01666d274,openstack/etcd3gw,master,I440cedb711149a5f12eb2311e78181b01666d274,Handle refreshing of expired lease.,MERGED,2022-05-23 16:47:05.000000000,2022-07-05 15:03:13.000000000,2022-07-05 15:01:01.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-23 16:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/879e3935dc6bfbd48c649d1eddc83c3b5f68c64c', 'message': ""Handle refreshing of expired lease.\n\nRefreshing of expired lease causes non-obvious error:\nRetrying tooz.drivers.etcd3gw.Etcd3Driver.heartbeat\nin 1.0 seconds as it raised KeyError: 'TTL'.\nThe patch handles the error.\n\nCloses-Bug: 1895952\nChange-Id: I440cedb711149a5f12eb2311e78181b01666d274\n""}, {'number': 2, 'created': '2022-05-24 17:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/d59b426c290a0bae5626d47c3fcb8786c64451e6', 'message': ""Handle refreshing of expired lease.\n\nRefreshing of expired lease causes non-obvious error:\nRetrying tooz.drivers.etcd3gw.Etcd3Driver.heartbeat\nin 1.0 seconds as it raised KeyError: 'TTL'.\nThe patch handles the error.\n\nCloses-Bug: 1895952\nChange-Id: I440cedb711149a5f12eb2311e78181b01666d274\n""}, {'number': 3, 'created': '2022-07-05 13:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/811fc6def7b3a4058ec9084cf65dd70add0486e5', 'message': ""Handle refreshing of expired lease.\n\nRefreshing of expired lease causes non-obvious error:\nRetrying tooz.drivers.etcd3gw.Etcd3Driver.heartbeat\nin 1.0 seconds as it raised KeyError: 'TTL'.\nThe patch handles the error.\n\nCloses-Bug: 1895952\nChange-Id: I440cedb711149a5f12eb2311e78181b01666d274\n""}, {'number': 4, 'created': '2022-07-05 13:34:17.000000000', 'files': ['etcd3gw/lease.py'], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/e35c7aa1f617278c17649206f98cceb8800bda98', 'message': ""Handle refreshing of expired lease.\n\nRefreshing of expired lease causes non-obvious error:\nRetrying tooz.drivers.etcd3gw.Etcd3Driver.heartbeat\nin 1.0 seconds as it raised KeyError: 'TTL'.\nThe patch handles the error.\n\nCloses-Bug: 1895952\nChange-Id: I440cedb711149a5f12eb2311e78181b01666d274\n""}]",6,843003,e35c7aa1f617278c17649206f98cceb8800bda98,18,2,4,32927,,,0,"Handle refreshing of expired lease.

Refreshing of expired lease causes non-obvious error:
Retrying tooz.drivers.etcd3gw.Etcd3Driver.heartbeat
in 1.0 seconds as it raised KeyError: 'TTL'.
The patch handles the error.

Closes-Bug: 1895952
Change-Id: I440cedb711149a5f12eb2311e78181b01666d274
",git fetch https://review.opendev.org/openstack/etcd3gw refs/changes/03/843003/2 && git format-patch -1 --stdout FETCH_HEAD,['etcd3gw/lease.py'],1,879e3935dc6bfbd48c649d1eddc83c3b5f68c64c,bug/1895952, if 'TTL' not in result['result']: print(f'etcd3gw: lease expired: {result}.') return -1,,3,0
openstack%2Fetcd3gw~master~I6367df1b43216eabce7935ba10876691447e2588,openstack/etcd3gw,master,I6367df1b43216eabce7935ba10876691447e2588,Add py38-etcd tox env,MERGED,2022-02-02 15:37:40.000000000,2022-07-05 15:02:10.000000000,2022-07-05 15:00:39.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 15:37:40.000000000', 'files': ['.gitignore', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/284e97b0a6fcf77321153ff68d2ffad8611f8544', 'message': 'Add py38-etcd tox env\n\nChange-Id: I6367df1b43216eabce7935ba10876691447e2588\n'}]",0,827520,284e97b0a6fcf77321153ff68d2ffad8611f8544,7,2,1,9542,,,0,"Add py38-etcd tox env

Change-Id: I6367df1b43216eabce7935ba10876691447e2588
",git fetch https://review.opendev.org/openstack/etcd3gw refs/changes/20/827520/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'tox.ini']",2,284e97b0a6fcf77321153ff68d2ffad8611f8544,api-path,[testenv:py38-etcd] commands = {toxinidir}/setup-etcd-env.sh pifpaf -g TOOZ_TEST run etcd -- py.test -vv '{posargs}' ,,6,0
openstack%2Fetcd3gw~master~I6319d58462481aac4b15048aad57de77094e8769,openstack/etcd3gw,master,I6319d58462481aac4b15048aad57de77094e8769,Handle key has only metadata and no value,MERGED,2022-04-03 14:39:41.000000000,2022-07-05 14:56:35.000000000,2022-07-05 14:55:09.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-03 14:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/aa1f79ca0938603911c4bde393b3e4ec12531c40', 'message': ""Handle key has only metadata and no value\n\nIf we have such response without 'value'\n {'key': 'dG9vei9ncm91cHMvYWxhcm1fZXZhbHVhdG9yLw==', 'create_revision': '2', 'mod_revision': '2', 'version': '1'}\nclient will send empty binary string instead of crashing\n\nCloses-bug: #1967674\nChange-Id: I6319d58462481aac4b15048aad57de77094e8769\n""}, {'number': 2, 'created': '2022-04-04 07:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/728a2b23eaa0ba8b797d6e849cae6fe51d8d93e8', 'message': ""Handle key has only metadata and no value\n\nIf we have such response without 'value'\n {'key': 'dG9vei9ncm91cHMvYWxhcm1fZXZhbHVhdG9yLw==', 'create_revision': '2', 'mod_revision': '2', 'version': '1'}\nclient will send empty binary string instead of crashing\n\nCloses-bug: #1967674\nChange-Id: I6319d58462481aac4b15048aad57de77094e8769\n""}, {'number': 3, 'created': '2022-04-05 13:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/8771674c5c20273179c7b5c5775ea078c7357f13', 'message': ""Handle key has only metadata and no value\n\nSome other etcd clients may add key\n without providing 'value'.\n\nThis patch adds compatibility, so etcd can be used\ntogether with abother clients\n\nCloses-bug: #1967674\nChange-Id: I6319d58462481aac4b15048aad57de77094e8769\n""}, {'number': 4, 'created': '2022-04-05 13:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/89f5af9df45a050299358327a32df289d7255ab9', 'message': ""Handle key has only metadata and no value\n\nSome other etcd clients may add key\n without providing 'value'.\n\nThis patch adds compatibility, so etcd can be used\ntogether with abother clients\n\nCloses-bug: #1967674\nChange-Id: I6319d58462481aac4b15048aad57de77094e8769\n""}, {'number': 5, 'created': '2022-04-06 13:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/cb71a0de3147b13a3bbea3bbefbb5f4287f2198f', 'message': ""Handle key has only metadata and no value\n\nSome other etcd clients may add key\n without providing 'value'.\n\nThis patch adds compatibility, so etcd can be used\ntogether with another clients\n\nCloses-bug: #1967674\nChange-Id: I6319d58462481aac4b15048aad57de77094e8769\n""}, {'number': 6, 'created': '2022-04-06 13:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/9c722e4c3a988675f4e76d5470c7219a842cdcfa', 'message': ""Handle key has only metadata and no value\n\nSome other etcd clients may add key\n without providing 'value'.\n\nThis patch adds compatibility, so etcd can be used\ntogether with another clients\n\nCloses-bug: #1967674\nChange-Id: I6319d58462481aac4b15048aad57de77094e8769\n""}, {'number': 7, 'created': '2022-04-13 06:11:04.000000000', 'files': ['etcd3gw/client.py', 'releasenotes/notes/bug-1967674-102b70275b1627cd.yaml', 'etcd3gw/tests/test_etcd3gw.py'], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/e00c9f2ec4205650aff7ffd8972591b9f8c45ae0', 'message': ""Handle key has only metadata and no value\n\nSome other etcd clients may add key\n without providing 'value'.\n\nThis patch adds compatibility, so etcd can be used\ntogether with another clients\n\nCloses-bug: #1967674\nChange-Id: I6319d58462481aac4b15048aad57de77094e8769\n""}]",18,836244,e00c9f2ec4205650aff7ffd8972591b9f8c45ae0,25,3,7,7549,,,0,"Handle key has only metadata and no value

Some other etcd clients may add key
 without providing 'value'.

This patch adds compatibility, so etcd can be used
together with another clients

Closes-bug: #1967674
Change-Id: I6319d58462481aac4b15048aad57de77094e8769
",git fetch https://review.opendev.org/openstack/etcd3gw refs/changes/44/836244/1 && git format-patch -1 --stdout FETCH_HEAD,['etcd3gw/client.py'],1,aa1f79ca0938603911c4bde393b3e4ec12531c40,bug/1967674, value = _decode(item.pop('value')) if 'value' in item else b'' return [_decode(item['value']) if 'value' in item else b'' for item in result['kvs']] , value = _decode(item.pop('value')) else: return [_decode(item['value']) for item in result['kvs']],5,4
openstack%2Fetcd3gw~master~I3a0ac41f30427df6881898fe9688209f55aeb7ab,openstack/etcd3gw,master,I3a0ac41f30427df6881898fe9688209f55aeb7ab,Move flake8 as a pre-commit local target.,ABANDONED,2021-03-23 12:06:21.000000000,2022-07-05 14:50:46.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-03-23 12:06:21.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/3d8c09cbd007518aab988c499c6e518a867fad78', 'message': ""Move flake8 as a pre-commit local target.\n\nThe goal here is to avoid conflicts between flake8 and hacking version each\n2 days.\n\nInspired from nova's approach[1].\n\nThe flake8 version to install will be determined by hacking and\nrequirements[2] will stay aligned instead of relying on different versions.\n\n[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35\n[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1\n\nChange-Id: I3a0ac41f30427df6881898fe9688209f55aeb7ab\n""}]",1,782459,3d8c09cbd007518aab988c499c6e518a867fad78,6,3,1,31245,,,0,"Move flake8 as a pre-commit local target.

The goal here is to avoid conflicts between flake8 and hacking version each
2 days.

Inspired from nova's approach[1].

The flake8 version to install will be determined by hacking and
requirements[2] will stay aligned instead of relying on different versions.

[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35
[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1

Change-Id: I3a0ac41f30427df6881898fe9688209f55aeb7ab
",git fetch https://review.opendev.org/openstack/etcd3gw refs/changes/59/782459/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,3d8c09cbd007518aab988c499c6e518a867fad78,move_flake8_local,"# We from the Oslo project decided to pin repos based on the # commit hash instead of the version tag to prevend arbitrary # code from running in developer's machines. To update to a # newer version, run `pre-commit autoupdate` and then replace # the newer versions with their commit hash. default_language_version: python: python3 repos: - repo: https://github.com/pre-commit/pre-commit-hooks rev: 9136088a246768144165fcc3ecc3d31bb686920a # v3.3.0 hooks: - id: trailing-whitespace # Replaces or checks mixed line ending - id: mixed-line-ending args: ['--fix', 'lf'] exclude: '.*\.(svg)$' # Forbid files which have a UTF-8 byte-order marker - id: check-byte-order-marker # Checks that non-binary executables have a proper shebang - id: check-executables-have-shebangs # Check for files that contain merge conflict strings. - id: check-merge-conflict # Check for debugger imports and py37+ breakpoint() # calls in python source - id: debug-statements - id: check-yaml files: .*\.(yaml|yml)$ - repo: local hooks: - id: flake8 name: flake8 additional_dependencies: - hacking>=3.0.1,<3.1.0 language: python entry: flake8 files: '^.*\.py$' exclude: '^(doc|releasenotes|tools)/.*$' ",,39,0
openstack%2Fpython-openstackclient~stable%2Frocky~Ib878982b1d469212ca3483dcfaf407a8e1d2b417,openstack/python-openstackclient,stable/rocky,Ib878982b1d469212ca3483dcfaf407a8e1d2b417,Fix openstack server list --deleted --marker option,ABANDONED,2020-01-27 20:49:31.000000000,2022-07-05 14:46:36.000000000,,"[{'_account_id': 14892}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-27 20:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/30c40430aff1f60d248f90a5f955d174ba80d8cc', 'message': 'Fix openstack server list --deleted --marker option\n\nThis patch removes using the ""name"" option for a marker when\n--deleted is also used. The find_resource() function\nthat is being called does not correctly handle using the marker\nas the ""name"" in the search when also using deleted=True.\nOne simple way to fix this is force the marker to only be an ID\nwhen --deleted is used. This is how the nova client works.\n\nUsing the --deleted option is available to users with the admin\nrole by default. If you\'re an admin listing --deleted servers\nwith a marker by name, find_resource() is going to fail to find\nit since it doesn\'t apply the --deleted filter to find_resource().\n\nThe find_resource() function is trying to find the marker server\nby name if it\'s not found by id, and to find it by name it\'s\nlisting servers with the given marker as the name, but not\napplying the --deleted filter so it doesn\'t get back any results.\n\nIn the story it was suggested modifying find_resource to include\nthe deleted query param when it\'s specified on the command line but\nthat didn\'t work because it still results in something like this:\n\nhttp://192.168.1.123/compute/v2.1/servers?deleted=True&name=4cecd49f-bc25-4a7e-826e-4aea6f9267d9\n\nIt seems like there are bugs in find_resource().\n\nRestricting the marker to be the server ID when listing deleted servers\nis probably OK since if you\'re using --deleted you\'re an admin and you could\nbe listing across all projects and if you\'re filtering by a server across all\nprojects anyway (not that you have to, I\'m just saying if you are), or even\nshowing a server in another project, you have to do it by id rather than name\nbecause find_resource() won\'t find the server in another project by name, only ID.\n\nstory: 2006761\nTask: 37258\n\nThe server test case was removed from the cherry-pick as it used\nfeatures of the openstack client that are not in stable/stein\n\nChange-Id: Ib878982b1d469212ca3483dcfaf407a8e1d2b417\n(cherry picked from commit c42c27aa926e93a2507e686eeaf0c5510a29d245)\n'}, {'number': 2, 'created': '2020-08-11 15:48:49.000000000', 'files': ['releasenotes/notes/bug-2006761-9041d1b25e845cfb.yaml', 'openstackclient/tests/functional/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/95806eeb769d82474109462a042f978748547eb2', 'message': 'Fix openstack server list --deleted --marker option\n\nThis patch removes using the ""name"" option for a marker when\n--deleted is also used. The find_resource() function\nthat is being called does not correctly handle using the marker\nas the ""name"" in the search when also using deleted=True.\nOne simple way to fix this is force the marker to only be an ID\nwhen --deleted is used. This is how the nova client works.\n\nUsing the --deleted option is available to users with the admin\nrole by default. If you\'re an admin listing --deleted servers\nwith a marker by name, find_resource() is going to fail to find\nit since it doesn\'t apply the --deleted filter to find_resource().\n\nThe find_resource() function is trying to find the marker server\nby name if it\'s not found by id, and to find it by name it\'s\nlisting servers with the given marker as the name, but not\napplying the --deleted filter so it doesn\'t get back any results.\n\nIn the story it was suggested modifying find_resource to include\nthe deleted query param when it\'s specified on the command line but\nthat didn\'t work because it still results in something like this:\n\nhttp://192.168.1.123/compute/v2.1/servers?deleted=True&name=4cecd49f-bc25-4a7e-826e-4aea6f9267d9\n\nIt seems like there are bugs in find_resource().\n\nRestricting the marker to be the server ID when listing deleted servers\nis probably OK since if you\'re using --deleted you\'re an admin and you could\nbe listing across all projects and if you\'re filtering by a server across all\nprojects anyway (not that you have to, I\'m just saying if you are), or even\nshowing a server in another project, you have to do it by id rather than name\nbecause find_resource() won\'t find the server in another project by name, only ID.\n\nstory: 2006761\nTask: 37258\n\nThe server test case was removed from the cherry-pick as it used\nfeatures of the openstack client that are not in stable/stein\n\nChange-Id: Ib878982b1d469212ca3483dcfaf407a8e1d2b417\n(cherry picked from commit f5384ae16a24cdd54149fa21827d14b8b8983d4f)\n(cherry picked from commit c42c27aa926e93a2507e686eeaf0c5510a29d245)\n(cherry picked from commit 3b48ef54c8ad205dd086520cc17e4f96583e88ec)\n'}]",0,704422,95806eeb769d82474109462a042f978748547eb2,14,4,2,14892,,,0,"Fix openstack server list --deleted --marker option

This patch removes using the ""name"" option for a marker when
--deleted is also used. The find_resource() function
that is being called does not correctly handle using the marker
as the ""name"" in the search when also using deleted=True.
One simple way to fix this is force the marker to only be an ID
when --deleted is used. This is how the nova client works.

Using the --deleted option is available to users with the admin
role by default. If you're an admin listing --deleted servers
with a marker by name, find_resource() is going to fail to find
it since it doesn't apply the --deleted filter to find_resource().

The find_resource() function is trying to find the marker server
by name if it's not found by id, and to find it by name it's
listing servers with the given marker as the name, but not
applying the --deleted filter so it doesn't get back any results.

In the story it was suggested modifying find_resource to include
the deleted query param when it's specified on the command line but
that didn't work because it still results in something like this:

http://192.168.1.123/compute/v2.1/servers?deleted=True&name=4cecd49f-bc25-4a7e-826e-4aea6f9267d9

It seems like there are bugs in find_resource().

Restricting the marker to be the server ID when listing deleted servers
is probably OK since if you're using --deleted you're an admin and you could
be listing across all projects and if you're filtering by a server across all
projects anyway (not that you have to, I'm just saying if you are), or even
showing a server in another project, you have to do it by id rather than name
because find_resource() won't find the server in another project by name, only ID.

story: 2006761
Task: 37258

The server test case was removed from the cherry-pick as it used
features of the openstack client that are not in stable/stein

Change-Id: Ib878982b1d469212ca3483dcfaf407a8e1d2b417
(cherry picked from commit f5384ae16a24cdd54149fa21827d14b8b8983d4f)
(cherry picked from commit c42c27aa926e93a2507e686eeaf0c5510a29d245)
(cherry picked from commit 3b48ef54c8ad205dd086520cc17e4f96583e88ec)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/22/704422/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-2006761-9041d1b25e845cfb.yaml', 'openstackclient/tests/functional/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,30c40430aff1f60d248f90a5f955d174ba80d8cc,fix_server_list," 'specified. When used with ``--deleted``, the marker must ' 'be an ID, otherwise a name or ID can be used.'), if parsed_args.marker: # Check if both ""--marker"" and ""--deleted"" are used. # In that scenario a lookup is not needed as the marker # needs to be an ID, because find_resource does not # handle deleted resources if parsed_args.deleted: marker_id = parsed_args.marker else: marker_id = utils.find_resource(compute_client.servers, parsed_args.marker).id"," 'specified. (name or ID)') if parsed_args.marker: marker_id = utils.find_resource(compute_client.servers, parsed_args.marker).id",87,3
openstack%2Fpython-openstackclient~stable%2Ftrain~I6725262cf040e0ec6ceca9cf0462ce59224049c6,openstack/python-openstackclient,stable/train,I6725262cf040e0ec6ceca9cf0462ce59224049c6,Add parent project filter for listing projects,MERGED,2020-03-04 11:56:16.000000000,2022-07-05 14:41:25.000000000,2022-07-05 14:39:56.000000000,"[{'_account_id': 8866}, {'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-03-04 11:56:16.000000000', 'files': ['releasenotes/notes/add-parent-list-option-to-projects-10382a7176993366.yaml', 'doc/source/cli/command-objects/project.rst', 'openstackclient/identity/v3/project.py', 'openstackclient/tests/unit/identity/v3/test_project.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/03c28595d172abecf0ae89b38447c67bcedc92b4', 'message': 'Add parent project filter for listing projects\n\nThis patch introduces a new option --parent into project list,\nto specify a parent project to filter projects which has\nthe given project as their parent.\n\nDepends-on: https://review.opendev.org/#/c/677101\nChange-Id: I6725262cf040e0ec6ceca9cf0462ce59224049c6\n(cherry picked from commit 7c1b6a799e0ac6fea511a2cf1e97aebb2f94e0d6)\n'}]",0,711208,03c28595d172abecf0ae89b38447c67bcedc92b4,14,6,1,28522,,,0,"Add parent project filter for listing projects

This patch introduces a new option --parent into project list,
to specify a parent project to filter projects which has
the given project as their parent.

Depends-on: https://review.opendev.org/#/c/677101
Change-Id: I6725262cf040e0ec6ceca9cf0462ce59224049c6
(cherry picked from commit 7c1b6a799e0ac6fea511a2cf1e97aebb2f94e0d6)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/08/711208/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-parent-list-option-to-projects-10382a7176993366.yaml', 'doc/source/cli/command-objects/project.rst', 'openstackclient/identity/v3/project.py', 'openstackclient/tests/unit/identity/v3/test_project.py']",4,03c28595d172abecf0ae89b38447c67bcedc92b4,train," def test_project_list_parent(self): self.parent = identity_fakes.FakeProject.create_one_project() self.project = identity_fakes.FakeProject.create_one_project( attrs={'domain_id': self.domain.id, 'parent_id': self.parent.id}) arglist = [ '--parent', self.parent.id, ] verifylist = [ ('parent', self.parent.id), ] self.projects_mock.get.return_value = self.parent parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) self.projects_mock.list.assert_called_with(parent=self.parent.id) self.assertEqual(self.columns, columns) self.assertEqual(self.datalist, tuple(data)) ",,44,0
openstack%2Fbifrost~master~Ia2e9c78c56f6d0314471973e71de0b45e3309d71,openstack/bifrost,master,Ia2e9c78c56f6d0314471973e71de0b45e3309d71,Use Ansible 5.x,MERGED,2022-05-30 12:11:16.000000000,2022-07-05 14:33:29.000000000,2022-07-05 14:32:01.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 12:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ec7577a0067e1309a2eca8cdb69fc71a119aca6a', 'message': '[WIP] Use Ansible 5.x\n\nChange-Id: Ia2e9c78c56f6d0314471973e71de0b45e3309d71\n'}, {'number': 2, 'created': '2022-06-01 09:27:50.000000000', 'files': ['releasenotes/notes/ansible-5.x-c6b4abf349caf632.yaml', 'scripts/env-setup.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/969a5e623f2167973d1d41af7923d9489e19e7ca', 'message': 'Use Ansible 5.x\n\nSupport most recent version of Ansible up to 5.x as default.\n\nChange-Id: Ia2e9c78c56f6d0314471973e71de0b45e3309d71\n'}]",1,843847,969a5e623f2167973d1d41af7923d9489e19e7ca,13,3,2,23851,,,0,"Use Ansible 5.x

Support most recent version of Ansible up to 5.x as default.

Change-Id: Ia2e9c78c56f6d0314471973e71de0b45e3309d71
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/47/843847/2 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/env-setup.sh', 'tox.ini']",2,ec7577a0067e1309a2eca8cdb69fc71a119aca6a,ansible-bump," ansible>=5,<6"," ansible>=4,<5",2,2
openstack%2Fcharm-keystone-saml-mellon~stable%2Fxena~Ia5dbd216f252ead94380a5031721a43f2d880403,openstack/charm-keystone-saml-mellon,stable/xena,Ia5dbd216f252ead94380a5031721a43f2d880403,"Update the bundles to use the stable track, edge risk for xena",MERGED,2022-06-17 10:47:48.000000000,2022-07-05 14:23:34.000000000,2022-07-05 14:23:34.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:47:48.000000000', 'files': ['src/tests/bundles/focal-xena-ha.yaml', 'src/tests/bundles/focal-wallaby-ha.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/4628fa7af8ef52f65ba81ab89c0cf5236ebf311e', 'message': 'Update the bundles to use the stable track, edge risk for xena\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for xena.\n\nChange-Id: Ia5dbd216f252ead94380a5031721a43f2d880403\n'}]",2,846323,4628fa7af8ef52f65ba81ab89c0cf5236ebf311e,11,3,1,20870,,,0,"Update the bundles to use the stable track, edge risk for xena

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for xena.

Change-Id: Ia5dbd216f252ead94380a5031721a43f2d880403
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/23/846323/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-xena-ha.yaml', 'src/tests/bundles/focal-wallaby-ha.yaml']",2,4628fa7af8ef52f65ba81ab89c0cf5236ebf311e,update-bundles-xena, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge,18,18
openstack%2Ftripleo-ansible~master~I2da71650d0566386df76ab16d6ad1aeabe716504,openstack/tripleo-ansible,master,I2da71650d0566386df76ab16d6ad1aeabe716504,Designate: specify source address when using rndc,MERGED,2022-05-11 16:51:44.000000000,2022-07-05 14:22:26.000000000,2022-07-05 14:22:26.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-05-11 16:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/99edc43dcc2b5247e72bf01c96dc8ce7a64ebd3c', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 2, 'created': '2022-05-17 17:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7a277bf45ae123eae27cb8d0f1829a61c3781d51', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 3, 'created': '2022-05-18 13:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9f8d45ff714d6da9db5635d44a9c9570f9a8addb', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 4, 'created': '2022-05-18 18:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f30018040ae0407e06a097b10be5d1a4a4616f86', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 5, 'created': '2022-05-18 18:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/98f0846d7a6ab430ce0235033efddb9225f9e0d1', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 6, 'created': '2022-05-18 19:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e6a9381c7f6a30fc3559e005b2f55819207a8bc5', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 7, 'created': '2022-05-18 20:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0b9a3860e7b66334913ce76134c767dac4b0dbf2', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 8, 'created': '2022-05-18 23:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/39a35cfcfd4db76c7bbd9675510ecfb9a219257c', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 9, 'created': '2022-05-19 00:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/65549d54db7502696dd9dfc18b8c97097ef9e762', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 10, 'created': '2022-05-20 00:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9d48722140d9446bf153875821970957f0dc9e74', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 11, 'created': '2022-05-24 18:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e866233c5b3254f1106119bee512ce9d21909d38', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 12, 'created': '2022-06-02 18:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/05bbbc2b2b858622e847633691c619509f851209', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 13, 'created': '2022-06-02 18:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c692391af8fceb9e46c54d7501e9a9985127ba48', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 14, 'created': '2022-06-03 14:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4d679bc052135337b22c44b1a6ad8bd46b8d6f51', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/841457\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 15, 'created': '2022-06-06 13:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/97174cc414520baa639a3af7d63d580704b926a0', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/841457\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n(cherry picked from commit 4d679bc052135337b22c44b1a6ad8bd46b8d6f51)\n'}, {'number': 16, 'created': '2022-06-06 17:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b8741304b2150e029a687a996dfcfa33d1198e9', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/841457\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 17, 'created': '2022-06-06 17:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6348fc19501f6cea50d02539d7ace5f2f3acd00f', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 18, 'created': '2022-06-06 18:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ad4278863789d60b0703866b36c40fc6c8ef4045', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 19, 'created': '2022-06-06 23:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/64e2372525d52416f9dca7b4e79541df79e516e8', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 20, 'created': '2022-06-13 12:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5f8a798a7f0e1f108cf5fd100b068788afadcb0d', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 21, 'created': '2022-06-13 15:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0ae1877173cc92d25c8a0f3e96ceb960d646eafa', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 22, 'created': '2022-06-14 17:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b7e460caee62eb06bf63e5c534d974ab126c017a', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 23, 'created': '2022-06-23 16:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/12d03b2c3fc0ebb0a1b76127fab943d43c8edd47', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}, {'number': 24, 'created': '2022-06-27 15:07:41.000000000', 'files': ['tripleo_ansible/roles/designate_bind_config/templates/named.conf.j2', 'tripleo_ansible/roles/designate_bind_pool/tasks/main.yml', 'tripleo_ansible/roles/designate_rndc_config/tasks/main.yml', 'tripleo_ansible/roles/designate_bind_config/templates/rndc.conf.j2', 'tripleo_ansible/roles/designate_bind_config/defaults/main.yml', 'tripleo_ansible/roles/designate_rndc_config/tasks/worker_config.yml', 'tripleo_ansible/roles/designate_bind_pool/templates/rndc.conf.j2', 'tripleo_ansible/roles/designate_bind_pool/templates/pools.yaml.j2', 'tripleo_ansible/roles/designate_rndc_config/templates/rndc.conf.j2', 'tripleo_ansible/roles/designate_bind_pool/templates/rndc.key.j2', 'tripleo_ansible/roles/designate_bind_config/molecule/default/converge.yml', 'tripleo_ansible/roles/designate_bind_config/tasks/main.yml', 'tripleo_ansible/roles/designate_rndc_config/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/891828a6de230dd72122078044f01b6d09d3817d', 'message': 'Designate: specify source address when using rndc\n\nThis patch switches the bind pool configuration from using a bind key\nper target to a configuration file per target, allowing us to specify a\nsource address which is required to make sure the source address matches\nthe rndc allow config on the target bind host when using rndc from a\nmulti-homed host.\n\nAlso cleans up some shared bind/worker/central configuration that gets\nin the way of configuring things sensibly.\n\nChange-Id: I2da71650d0566386df76ab16d6ad1aeabe716504\n'}]",15,841456,891828a6de230dd72122078044f01b6d09d3817d,84,7,24,6681,,,0,"Designate: specify source address when using rndc

This patch switches the bind pool configuration from using a bind key
per target to a configuration file per target, allowing us to specify a
source address which is required to make sure the source address matches
the rndc allow config on the target bind host when using rndc from a
multi-homed host.

Also cleans up some shared bind/worker/central configuration that gets
in the way of configuring things sensibly.

Change-Id: I2da71650d0566386df76ab16d6ad1aeabe716504
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/56/841456/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/designate_bind_config/templates/named.conf.j2', 'tripleo_ansible/roles/designate_bind_pool/tasks/main.yml', 'tripleo_ansible/roles/designate_rndc_config/tasks/main.yml', 'tripleo_ansible/roles/designate_rndc_config/tasks/worker_config.yaml', 'tripleo_ansible/roles/designate_bind_config/templates/rndc.conf.j2', 'tripleo_ansible/roles/designate_bind_config/defaults/main.yml', 'tripleo_ansible/roles/designate_bind_pool/templates/rndc.conf.j2', 'tripleo_ansible/roles/designate_bind_pool/templates/pools.yaml.j2', 'tripleo_ansible/roles/designate_rndc_config/templates/rndc.conf.j2', 'tripleo_ansible/roles/designate_bind_pool/templates/rndc.key.j2', 'tripleo_ansible/roles/designate_bind_config/tasks/main.yml', 'tripleo_ansible/roles/designate_rndc_config/defaults/main.yml']",12,99edc43dcc2b5247e72bf01c96dc8ce7a64ebd3c,neutron-resolver-integration,designate_rndc_key_file_path: '/var/lib/config-data/puppet-generated/designate/etc' designate_worker_confg_file_path: '/var/lib/config-data/puppet-generated/designate/etc/designate/private',designate_rndc_key_file_path: '/var/lib/config-data/puppet-generated/designate/etc/designate/private',52,21
openstack%2Fcharm-manila-ganesha~stable%2Fxena~I4b09cfd7b19776d6a70c45f85dd2f8001bfa94db,openstack/charm-manila-ganesha,stable/xena,I4b09cfd7b19776d6a70c45f85dd2f8001bfa94db,Update the charmcraft.yaml for xena (no 22.04 base),MERGED,2022-05-16 17:48:16.000000000,2022-07-05 14:20:56.000000000,2022-07-05 14:20:56.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-16 17:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/d120515503c164066ce397fa51f81e45dfea7749', 'message': 'Update the charmcraft.yaml for xena (no 22.04 base)\n\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I4b09cfd7b19776d6a70c45f85dd2f8001bfa94db\n'}, {'number': 2, 'created': '2022-06-17 10:49:38.000000000', 'files': ['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-xena.yaml', 'charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/07db5effd686dc58021b1f8676f83ee4d6e8328e', 'message': 'Update the charmcraft.yaml for xena (no 22.04 base)\n\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I4b09cfd7b19776d6a70c45f85dd2f8001bfa94db\n'}]",9,841966,07db5effd686dc58021b1f8676f83ee4d6e8328e,28,3,2,20870,,,0,"Update the charmcraft.yaml for xena (no 22.04 base)

- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I4b09cfd7b19776d6a70c45f85dd2f8001bfa94db
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/66/841966/2 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,d120515503c164066ce397fa51f81e45dfea7749,charmhub-migration," architectures: [amd64, s390x, ppc64el, arm64]", - s390x - ppc64el - arm64,1,3
openstack%2Fpython-openstackclient~stable%2Fxena~Ica3320242a38901c1180b2b29109c9474366fde0,openstack/python-openstackclient,stable/xena,Ica3320242a38901c1180b2b29109c9474366fde0,compute: Show flavor in 'server list' with API >= 2.47,MERGED,2021-12-01 01:33:20.000000000,2022-07-05 14:10:11.000000000,2022-07-05 14:07:34.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 29307}]","[{'number': 1, 'created': '2021-12-01 01:33:20.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py', 'releasenotes/notes/fix-flavor-in-server-list-microversion-2.47-af200e9bb4747e2d.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0873e7580eceab07c3be0824d2ea4163491f8d6e', 'message': ""compute: Show flavor in 'server list' with API >= 2.47\n\nFix the issue where the flavor name was empty in server list output.\nThis requires somewhat invasive unit test changes to reflect the changed\nAPI response from the server, but this has the upside of meaning we\ndon't need new tests since what we have validates things.\nAlso drop the flavor ID column as it is removed from the compute API.\n\nChange-Id: Ica3320242a38901c1180b2b29109c9474366fde0\nSigned-off-by: Khomesh Thakre <khomeshthakre24@gmail.com>\nStory: 2008257\nTask: 41113\n(cherry picked from commit 8e362402dee07744668bcf7f6774af4fbe9a07e3)\n""}]",0,819935,0873e7580eceab07c3be0824d2ea4163491f8d6e,7,3,1,4690,,,0,"compute: Show flavor in 'server list' with API >= 2.47

Fix the issue where the flavor name was empty in server list output.
This requires somewhat invasive unit test changes to reflect the changed
API response from the server, but this has the upside of meaning we
don't need new tests since what we have validates things.
Also drop the flavor ID column as it is removed from the compute API.

Change-Id: Ica3320242a38901c1180b2b29109c9474366fde0
Signed-off-by: Khomesh Thakre <khomeshthakre24@gmail.com>
Story: 2008257
Task: 41113
(cherry picked from commit 8e362402dee07744668bcf7f6774af4fbe9a07e3)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/35/819935/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py', 'releasenotes/notes/fix-flavor-in-server-list-microversion-2.47-af200e9bb4747e2d.yaml']",3,0873e7580eceab07c3be0824d2ea4163491f8d6e,,"--- features: - | Add support for compute API microversion 2.47, which changes how flavor details are included in server detail responses. In 2.46 and below, only the flavor ID was shown in the server detail response. Starting in 2.47, flavor information is embedded in the server response. The newer behavior is now supported. ",,349,261
openstack%2Fpython-openstackclient~stable%2Fwallaby~Ica3320242a38901c1180b2b29109c9474366fde0,openstack/python-openstackclient,stable/wallaby,Ica3320242a38901c1180b2b29109c9474366fde0,compute: Show flavor in 'server list' with API >= 2.47,MERGED,2021-12-01 01:35:22.000000000,2022-07-05 14:10:04.000000000,2022-07-05 14:07:26.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 29307}]","[{'number': 1, 'created': '2021-12-01 01:35:22.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py', 'releasenotes/notes/fix-flavor-in-server-list-microversion-2.47-af200e9bb4747e2d.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4b7e777c0ce19aa67a9a33cbeb3b4ee2b052383f', 'message': ""compute: Show flavor in 'server list' with API >= 2.47\n\nFix the issue where the flavor name was empty in server list output.\nThis requires somewhat invasive unit test changes to reflect the changed\nAPI response from the server, but this has the upside of meaning we\ndon't need new tests since what we have validates things.\nAlso drop the flavor ID column as it is removed from the compute API.\n\nChange-Id: Ica3320242a38901c1180b2b29109c9474366fde0\nSigned-off-by: Khomesh Thakre <khomeshthakre24@gmail.com>\nStory: 2008257\nTask: 41113\n(cherry picked from commit 8e362402dee07744668bcf7f6774af4fbe9a07e3)\n(cherry picked from commit 0873e7580eceab07c3be0824d2ea4163491f8d6e)\n""}]",0,819938,4b7e777c0ce19aa67a9a33cbeb3b4ee2b052383f,7,3,1,4690,,,0,"compute: Show flavor in 'server list' with API >= 2.47

Fix the issue where the flavor name was empty in server list output.
This requires somewhat invasive unit test changes to reflect the changed
API response from the server, but this has the upside of meaning we
don't need new tests since what we have validates things.
Also drop the flavor ID column as it is removed from the compute API.

Change-Id: Ica3320242a38901c1180b2b29109c9474366fde0
Signed-off-by: Khomesh Thakre <khomeshthakre24@gmail.com>
Story: 2008257
Task: 41113
(cherry picked from commit 8e362402dee07744668bcf7f6774af4fbe9a07e3)
(cherry picked from commit 0873e7580eceab07c3be0824d2ea4163491f8d6e)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/38/819938/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py', 'releasenotes/notes/fix-flavor-in-server-list-microversion-2.47-af200e9bb4747e2d.yaml']",3,4b7e777c0ce19aa67a9a33cbeb3b4ee2b052383f,,"--- features: - | Add support for compute API microversion 2.47, which changes how flavor details are included in server detail responses. In 2.46 and below, only the flavor ID was shown in the server detail response. Starting in 2.47, flavor information is embedded in the server response. The newer behavior is now supported. ",,349,261
openstack%2Fpython-openstackclient~stable%2Fxena~I7d70eac8aa1a6197ed05a49f071e6899ec219c03,openstack/python-openstackclient,stable/xena,I7d70eac8aa1a6197ed05a49f071e6899ec219c03,compute: Reorder building of columns for 'server list',MERGED,2021-12-01 01:33:20.000000000,2022-07-05 14:09:09.000000000,2022-07-05 14:07:32.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 01:33:20.000000000', 'files': ['openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f4adbcef7b1b18d9454109a020e5e2c6ad78b5f1', 'message': ""compute: Reorder building of columns for 'server list'\n\nThis has no impact on the end result, but it should make fixing issues\nintroduced by API microversion 2.69 a little easier.\n\nChange-Id: I7d70eac8aa1a6197ed05a49f071e6899ec219c03\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit 4c3de28e83babb0672950320a20492dc61803b4a)\n""}]",0,819934,f4adbcef7b1b18d9454109a020e5e2c6ad78b5f1,7,2,1,4690,,,0,"compute: Reorder building of columns for 'server list'

This has no impact on the end result, but it should make fixing issues
introduced by API microversion 2.69 a little easier.

Change-Id: I7d70eac8aa1a6197ed05a49f071e6899ec219c03
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit 4c3de28e83babb0672950320a20492dc61803b4a)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/34/819934/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,f4adbcef7b1b18d9454109a020e5e2c6ad78b5f1,," flavor_id = utils.find_resource( compute_client.flavors, parsed_args.flavor, ).id image_id = image_client.find_image( parsed_args.image, ignore_missing=False, ).id msg = _('Invalid changes-since value: %s') msg % search_opts['changes-since'] columns = ( 'id', 'name', 'status', ) column_headers = ( 'ID', 'Name', 'Status', ) if parsed_args.long: columns += ( column_headers += ( ) columns += ('networks',) column_headers += ('Networks',) if parsed_args.long: columns += ( 'image_name', 'image_id', ) column_headers += ( ) else: if parsed_args.no_name_lookup: columns += ('image_id',) else: columns += ('image_name',) column_headers += ('Image',) if parsed_args.long: columns += ( 'flavor_name', 'flavor_id', ) column_headers += ( ) else: if parsed_args.no_name_lookup: columns += ('flavor_id',) else: columns += ('flavor_name',) column_headers += ('Flavor',) if parsed_args.long: columns += ( 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', 'metadata', ) column_headers += ( columns += ('tenant_id',) column_headers += ('Project ID',) if c in ('User ID', 'user_id'): columns += ('user_id',) column_headers += ('User ID',) if c in ('Created At', 'created_at'): columns += ('created',) column_headers += ('Created At',) marker_id = utils.find_resource( compute_client.servers, parsed_args.marker, ).id data = compute_client.servers.list( search_opts=search_opts, marker=marker_id, limit=parsed_args.limit) # create a dict that maps image_id to image object, which is used # to display the ""Image Name"" column. Note that 'image.id' can be # empty for BFV instances and 'image' can be missing entirely if # there are infra failures if parsed_args.name_lookup_one_by_one or image_id: for i_id in set( s.image['id'] for s in data if s.image and s.image.get('id') ): # ""Image Name"" is not crucial, so we swallow any exceptions # create a dict that maps flavor_id to flavor object, which is used # to display the ""Flavor Name"" column. Note that 'flavor.id' is not # present on microversion 2.47 or later and 'flavor' won't be # present if there are infra failures if parsed_args.name_lookup_one_by_one or flavor_id: for f_id in set( s.flavor['id'] for s in data if s.flavor and s.flavor.get('id') ): # ""Flavor Name"" is not crucial, so we swallow any # exceptions mixed_case_fields=( 'OS-EXT-STS:task_state', 'OS-EXT-STS:power_state', 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', ), 'networks': format_columns.DictListColumn, 'metadata': format_columns.DictColumn,"," flavor_id = utils.find_resource(compute_client.flavors, parsed_args.flavor).id image_id = image_client.find_image(parsed_args.image, ignore_missing=False).id _('Invalid changes-since value: %s') % search_opts['changes-since'] if parsed_args.long: columns = ( 'ID', 'Name', 'Status', 'Networks', 'Image Name', 'Image ID', 'Flavor Name', 'Flavor ID', 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', 'Metadata', column_headers = ( 'ID', 'Name', 'Status', 'Networks', mixed_case_fields = [ 'OS-EXT-STS:task_state', 'OS-EXT-STS:power_state', 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', ] else: if parsed_args.no_name_lookup: columns = ( 'ID', 'Name', 'Status', 'Networks', 'Image ID', 'Flavor ID', ) else: columns = ( 'ID', 'Name', 'Status', 'Networks', 'Image Name', 'Flavor Name', ) column_headers = ( 'ID', 'Name', 'Status', 'Networks', 'Image', 'Flavor', ) mixed_case_fields = [] # convert tuple to list to edit them column_headers = list(column_headers) columns = list(columns) columns.append('tenant_id') column_headers.append('Project ID') if c in ('User ID', 'user_id'): columns.append('user_id') column_headers.append('User ID') if c in ('Created At', 'created_at'): columns.append('created') column_headers.append('Created At') marker_id = utils.find_resource(compute_client.servers, parsed_args.marker).id data = compute_client.servers.list(search_opts=search_opts, marker=marker_id, limit=parsed_args.limit) # Create a dict that maps image_id to image object. # Needed so that we can display the ""Image Name"" column. # ""Image Name"" is not crucial, so we swallow any exceptions. # The 'image' attribute can be an empty string if the server was # booted from a volume. if parsed_args.name_lookup_one_by_one or image_id: for i_id in set(filter(lambda x: x is not None, (s.image.get('id') for s in data if s.image))): # Create a dict that maps flavor_id to flavor object. # Needed so that we can display the ""Flavor Name"" column. # ""Flavor Name"" is not crucial, so we swallow any exceptions. if parsed_args.name_lookup_one_by_one or flavor_id: for f_id in set(filter(lambda x: x is not None, (s.flavor.get('id') for s in data))): mixed_case_fields=mixed_case_fields, 'Networks': format_columns.DictListColumn, 'Metadata': format_columns.DictColumn,",106,88
openstack%2Fpython-openstackclient~stable%2Fwallaby~I06de6903d5cc427a8b0fdcd168fec47192f4365b,openstack/python-openstackclient,stable/wallaby,I06de6903d5cc427a8b0fdcd168fec47192f4365b,Fix typo error in listing server's column name,MERGED,2021-12-01 01:35:22.000000000,2022-07-05 14:08:58.000000000,2022-07-05 14:07:18.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 33848}]","[{'number': 1, 'created': '2021-12-01 01:35:22.000000000', 'files': ['openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e1a764823cdcc089db3a700a5b0be0cd7d6d2e00', 'message': 'Fix typo error in listing server\'s column name\n\nopenstack server list -c ""Created At"" command doesn\'t work\nbecause the wrong variable was used here.\n\nWhen we receive resp data, Created At data is saved with\nthe name ""created"". But in ""server.py"", we append columns\nas created_at. So it seems to print an empty table.\n\nStory: 2009149\nTask: 43112\nChange-Id: I06de6903d5cc427a8b0fdcd168fec47192f4365b\n(cherry picked from commit 4aad7dd77953e09b4973df0b37d1cb23d8b0afbf)\n(cherry picked from commit e53d034fc85ab2a10e65fd49a54ec3055e5c5b76)\n'}]",0,819936,e1a764823cdcc089db3a700a5b0be0cd7d6d2e00,7,3,1,4690,,,0,"Fix typo error in listing server's column name

openstack server list -c ""Created At"" command doesn't work
because the wrong variable was used here.

When we receive resp data, Created At data is saved with
the name ""created"". But in ""server.py"", we append columns
as created_at. So it seems to print an empty table.

Story: 2009149
Task: 43112
Change-Id: I06de6903d5cc427a8b0fdcd168fec47192f4365b
(cherry picked from commit 4aad7dd77953e09b4973df0b37d1cb23d8b0afbf)
(cherry picked from commit e53d034fc85ab2a10e65fd49a54ec3055e5c5b76)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/36/819936/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,e1a764823cdcc089db3a700a5b0be0cd7d6d2e00,, columns.append('created'), columns.append('created_at'),1,1
openstack%2Fpython-openstackclient~stable%2Fwallaby~I7d70eac8aa1a6197ed05a49f071e6899ec219c03,openstack/python-openstackclient,stable/wallaby,I7d70eac8aa1a6197ed05a49f071e6899ec219c03,compute: Reorder building of columns for 'server list',MERGED,2021-12-01 01:35:22.000000000,2022-07-05 14:07:24.000000000,2022-07-05 14:07:24.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 01:35:22.000000000', 'files': ['openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cb621f22d4547c20f5722058be8d99de936a48c6', 'message': ""compute: Reorder building of columns for 'server list'\n\nThis has no impact on the end result, but it should make fixing issues\nintroduced by API microversion 2.69 a little easier.\n\nChange-Id: I7d70eac8aa1a6197ed05a49f071e6899ec219c03\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit 4c3de28e83babb0672950320a20492dc61803b4a)\n(cherry picked from commit f4adbcef7b1b18d9454109a020e5e2c6ad78b5f1)\n""}]",0,819937,cb621f22d4547c20f5722058be8d99de936a48c6,6,2,1,4690,,,0,"compute: Reorder building of columns for 'server list'

This has no impact on the end result, but it should make fixing issues
introduced by API microversion 2.69 a little easier.

Change-Id: I7d70eac8aa1a6197ed05a49f071e6899ec219c03
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit 4c3de28e83babb0672950320a20492dc61803b4a)
(cherry picked from commit f4adbcef7b1b18d9454109a020e5e2c6ad78b5f1)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/37/819937/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,cb621f22d4547c20f5722058be8d99de936a48c6,," flavor_id = utils.find_resource( compute_client.flavors, parsed_args.flavor, ).id image_id = image_client.find_image( parsed_args.image, ignore_missing=False, ).id msg = _('Invalid changes-since value: %s') msg % search_opts['changes-since'] columns = ( 'id', 'name', 'status', ) column_headers = ( 'ID', 'Name', 'Status', ) if parsed_args.long: columns += ( column_headers += ( ) columns += ('networks',) column_headers += ('Networks',) if parsed_args.long: columns += ( 'image_name', 'image_id', ) column_headers += ( ) else: if parsed_args.no_name_lookup: columns += ('image_id',) else: columns += ('image_name',) column_headers += ('Image',) if parsed_args.long: columns += ( 'flavor_name', 'flavor_id', ) column_headers += ( ) else: if parsed_args.no_name_lookup: columns += ('flavor_id',) else: columns += ('flavor_name',) column_headers += ('Flavor',) if parsed_args.long: columns += ( 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', 'metadata', ) column_headers += ( columns += ('tenant_id',) column_headers += ('Project ID',) if c in ('User ID', 'user_id'): columns += ('user_id',) column_headers += ('User ID',) if c in ('Created At', 'created_at'): columns += ('created',) column_headers += ('Created At',) marker_id = utils.find_resource( compute_client.servers, parsed_args.marker, ).id data = compute_client.servers.list( search_opts=search_opts, marker=marker_id, limit=parsed_args.limit) # create a dict that maps image_id to image object, which is used # to display the ""Image Name"" column. Note that 'image.id' can be # empty for BFV instances and 'image' can be missing entirely if # there are infra failures if parsed_args.name_lookup_one_by_one or image_id: for i_id in set( s.image['id'] for s in data if s.image and s.image.get('id') ): # ""Image Name"" is not crucial, so we swallow any exceptions # create a dict that maps flavor_id to flavor object, which is used # to display the ""Flavor Name"" column. Note that 'flavor.id' is not # present on microversion 2.47 or later and 'flavor' won't be # present if there are infra failures if parsed_args.name_lookup_one_by_one or flavor_id: for f_id in set( s.flavor['id'] for s in data if s.flavor and s.flavor.get('id') ): # ""Flavor Name"" is not crucial, so we swallow any # exceptions mixed_case_fields=( 'OS-EXT-STS:task_state', 'OS-EXT-STS:power_state', 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', ), 'networks': format_columns.DictListColumn, 'metadata': format_columns.DictColumn,"," flavor_id = utils.find_resource(compute_client.flavors, parsed_args.flavor).id image_id = image_client.find_image(parsed_args.image, ignore_missing=False).id _('Invalid changes-since value: %s') % search_opts['changes-since'] if parsed_args.long: columns = ( 'ID', 'Name', 'Status', 'Networks', 'Image Name', 'Image ID', 'Flavor Name', 'Flavor ID', 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', 'Metadata', column_headers = ( 'ID', 'Name', 'Status', 'Networks', mixed_case_fields = [ 'OS-EXT-STS:task_state', 'OS-EXT-STS:power_state', 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', ] else: if parsed_args.no_name_lookup: columns = ( 'ID', 'Name', 'Status', 'Networks', 'Image ID', 'Flavor ID', ) else: columns = ( 'ID', 'Name', 'Status', 'Networks', 'Image Name', 'Flavor Name', ) column_headers = ( 'ID', 'Name', 'Status', 'Networks', 'Image', 'Flavor', ) mixed_case_fields = [] # convert tuple to list to edit them column_headers = list(column_headers) columns = list(columns) columns.append('tenant_id') column_headers.append('Project ID') if c in ('User ID', 'user_id'): columns.append('user_id') column_headers.append('User ID') if c in ('Created At', 'created_at'): columns.append('created') column_headers.append('Created At') marker_id = utils.find_resource(compute_client.servers, parsed_args.marker).id data = compute_client.servers.list(search_opts=search_opts, marker=marker_id, limit=parsed_args.limit) # Create a dict that maps image_id to image object. # Needed so that we can display the ""Image Name"" column. # ""Image Name"" is not crucial, so we swallow any exceptions. # The 'image' attribute can be an empty string if the server was # booted from a volume. if parsed_args.name_lookup_one_by_one or image_id: for i_id in set(filter(lambda x: x is not None, (s.image.get('id') for s in data if s.image))): # Create a dict that maps flavor_id to flavor object. # Needed so that we can display the ""Flavor Name"" column. # ""Flavor Name"" is not crucial, so we swallow any exceptions. if parsed_args.name_lookup_one_by_one or flavor_id: for f_id in set(filter(lambda x: x is not None, (s.flavor.get('id') for s in data))): mixed_case_fields=mixed_case_fields, 'Networks': format_columns.DictListColumn, 'Metadata': format_columns.DictColumn,",106,88
openstack%2Ftripleo-upgrade~master~I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c,openstack/tripleo-upgrade,master,I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c,Adjust ceph minor update section,MERGED,2022-02-17 09:17:41.000000000,2022-07-05 14:07:03.000000000,2022-07-05 14:07:03.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 9600}, {'_account_id': 11166}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 26343}, {'_account_id': 33080}, {'_account_id': 34952}]","[{'number': 1, 'created': '2022-02-17 09:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/75df93b6b092333ebefeaf3742c49daf806e072c', 'message': 'Remove ceph minor update section\n\nFrom wallaby+ Ceph is deployed by cephadm, and minor updates\nare considered day2 operations that can be performed using the\ncephadm cli [1].\nThis patch removes from the tripleo-upgrade project the ceph\nupdate related tasks and templates.\n\n[1] https://docs.ceph.com/en/pacific/cephadm/upgrade/#starting-the-upgrade\n\nChange-Id: I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c\n'}, {'number': 2, 'created': '2022-06-23 21:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ba40c060c4458b101c9c0a2a7b89f4adb28ef42d', 'message': '[WIP] Adjust ceph minor update section\n\nFrom wallaby+ Ceph is deployed by cephadm, and minor updates\nare considered day2 operations that can be performed using the\ncephadm cli [1].\nThis patch adjusts current automation from the tripleo-upgrade\nproject for ceph update related tasks.\n\n[1] https://docs.ceph.com/en/pacific/cephadm/upgrade/#starting-the-upgrade\n\nChange-Id: I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c\n'}, {'number': 3, 'created': '2022-06-23 21:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/91d662d7584297135f431a7943eae6b2ce36eebc', 'message': '[WIP] Adjust ceph minor update section\n\nFrom wallaby+ Ceph is deployed by cephadm, and minor updates\nare considered day2 operations that can be performed using the\ncephadm cli [1].\nThis patch adjusts current automation from the tripleo-upgrade\nproject for ceph update related tasks.\n\n[1] https://docs.ceph.com/en/pacific/cephadm/upgrade/#starting-the-upgrade\n\nChange-Id: I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c\n'}, {'number': 4, 'created': '2022-06-27 12:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/eb6b2001280174070e56f950743e28cea58eb079', 'message': 'Adjust ceph minor update section\n\nFrom wallaby+ Ceph is deployed by cephadm, and minor updates\nare considered day2 operations that can be performed using the\ncephadm cli [1].\nThis patch adjusts current automation from the tripleo-upgrade\nproject for ceph update related tasks.\n\n[1] https://docs.ceph.com/en/pacific/cephadm/upgrade/#starting-the-upgrade\n\nChange-Id: I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c\n'}, {'number': 5, 'created': '2022-06-27 16:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/543d0e7664de851fc55b36d0f7a240e0f697a440', 'message': 'Adjust ceph minor update section\n\nFrom wallaby+ Ceph is deployed by cephadm, and minor updates\nare considered day2 operations that can be performed using the\ncephadm cli [1].\nThis patch adjusts current automation from the tripleo-upgrade\nproject for ceph update related tasks.\n\n[1] https://docs.ceph.com/en/pacific/cephadm/upgrade/#starting-the-upgrade\n\nChange-Id: I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c\n'}, {'number': 6, 'created': '2022-06-28 07:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/12f76b0b2aea2023601c7fb002395eec0185af42', 'message': 'Adjust ceph minor update section\n\nFrom wallaby+ Ceph is deployed by cephadm, and minor updates\nare considered day2 operations that can be performed using the\ncephadm cli [1].\nThis patch adjusts current automation from the tripleo-upgrade\nproject for ceph update related tasks.\n\n[1] https://docs.ceph.com/en/pacific/cephadm/upgrade/#starting-the-upgrade\n\nChange-Id: I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c\n'}, {'number': 7, 'created': '2022-06-28 07:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/dc06578b86cda67998025dabad0e201004e130e3', 'message': 'Adjust ceph minor update section\n\nFrom wallaby+ Ceph is deployed by cephadm, and minor updates\nare considered day2 operations that can be performed using the\ncephadm cli [1].\nThis patch adjusts current automation from the tripleo-upgrade\nproject for ceph update related tasks.\n\n[1] https://docs.ceph.com/en/pacific/cephadm/upgrade/#starting-the-upgrade\n\nChange-Id: I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c\n'}, {'number': 8, 'created': '2022-06-28 07:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/629c61f3ed75965c077b76f47ea35f158ea8a800', 'message': 'Adjust ceph minor update section\n\nFrom wallaby+ Ceph is deployed by cephadm, and minor updates\nare considered day2 operations that can be performed using the\ncephadm cli [1].\nThis patch adjusts current automation from the tripleo-upgrade\nproject for ceph update related tasks.\n\n[1] https://docs.ceph.com/en/pacific/cephadm/upgrade/#starting-the-upgrade\n\nChange-Id: I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c\n'}, {'number': 9, 'created': '2022-06-28 08:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ea06411e995ef031951e7b7510d8259ec71a1e60', 'message': ""Adjust ceph minor update section\n\nFrom wallaby+ Ceph is deployed by cephadm and minor updates\nare considered day2 operations that can be performed using the\ncephadm cli [1].\nThis patch adjusts current automation from the tripleo-upgrade\nproject for ceph update related tasks.\n\n`overcloud external-update run --tags ceph` command is replaced with cephadm.\nThe 'ceph' tags were removed from tht[2] and ceph update can't be run with\nTripleO commands. Cephadm should be used instead to safely upgrade Ceph\nfrom one release to the next.\n\n[1] https://docs.ceph.com/en/pacific/cephadm/upgrade/#starting-the-upgrade\n[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/830051\n\nChange-Id: I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c\n""}, {'number': 10, 'created': '2022-06-28 10:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ed3376160c9703c4ac239618efc9784557dbb391', 'message': ""Adjust ceph minor update section\n\nFrom wallaby+ Ceph is deployed by cephadm and minor updates\nare considered day2 operations that can be performed using the\ncephadm cli [1].\nThis patch adjusts current automation from the tripleo-upgrade\nproject for ceph update related tasks.\n\n`overcloud external-update run --tags ceph` command is replaced with\ncephadm. The 'ceph' tags were removed from tht[2] and ceph update can't be\nrun with TripleO commands. Cephadm should be used instead to safely upgrade\nCeph from one release to the next.\n\n[1] https://docs.ceph.com/en/pacific/cephadm/upgrade/#starting-the-upgrade\n[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/830051\n\nChange-Id: I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c\n""}, {'number': 11, 'created': '2022-06-28 10:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d56c8ba42ab4e01017cac84303a00ceea37f24b2', 'message': ""Adjust ceph minor update section\n\nFrom wallaby+ Ceph is deployed by cephadm and minor updates\nare considered day2 operations that can be performed using the\ncephadm cli [1].\nThis patch adjusts current automation from the tripleo-upgrade\nproject for ceph update related tasks.\n\n`overcloud external-update run --tags ceph` command is replaced with\ncephadm. The 'ceph' tags were removed from tht[2] and ceph update can't be\nrun with TripleO commands. Cephadm should be used instead to safely upgrade\nCeph from one release to the next.\n\n[1] https://docs.ceph.com/en/pacific/cephadm/upgrade/#starting-the-upgrade\n[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/830051\n\nChange-Id: I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c\n""}, {'number': 12, 'created': '2022-07-04 10:57:31.000000000', 'files': ['tasks/update/create-overcloud-update-scripts.yaml', 'templates/ceph-update-run.sh.j2', 'tasks/common/auxilary-facts.yaml', 'tasks/update/ceph_update_run.yml', 'tasks/update/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/da06f273cd2be85534542da864c5b89f8467d8e9', 'message': ""Adjust ceph minor update section\n\nFrom wallaby+ Ceph is deployed by cephadm and minor updates\nare considered day2 operations that can be performed using the\ncephadm cli [1].\nThis patch adjusts current automation from the tripleo-upgrade\nproject for ceph update related tasks.\n\n`overcloud external-update run --tags ceph` command is replaced with\ncephadm. The 'ceph' tags were removed from tht[2] and ceph update can't be\nrun with TripleO commands. Cephadm should be used instead to safely upgrade\nCeph from one release to the next.\n\n[1] https://docs.ceph.com/en/pacific/cephadm/upgrade/#starting-the-upgrade\n[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/830051\n\nChange-Id: I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c\n""}]",38,829661,da06f273cd2be85534542da864c5b89f8467d8e9,39,11,12,25402,,,0,"Adjust ceph minor update section

From wallaby+ Ceph is deployed by cephadm and minor updates
are considered day2 operations that can be performed using the
cephadm cli [1].
This patch adjusts current automation from the tripleo-upgrade
project for ceph update related tasks.

`overcloud external-update run --tags ceph` command is replaced with
cephadm. The 'ceph' tags were removed from tht[2] and ceph update can't be
run with TripleO commands. Cephadm should be used instead to safely upgrade
Ceph from one release to the next.

[1] https://docs.ceph.com/en/pacific/cephadm/upgrade/#starting-the-upgrade
[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/830051

Change-Id: I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/61/829661/11 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/update/create-overcloud-update-scripts.yaml', 'templates/ceph-update-run.sh.j2', 'tasks/update/ceph_update_run.yml', 'tasks/update/main.yml']",4,75df93b6b092333ebefeaf3742c49daf806e072c,cephadm_minor_updates,, - name: update Ceph include_tasks: ceph_update_run.yml when: ceph_osd_enabled|bool ,0,95
openstack%2Fpython-openstackclient~stable%2Fxena~I06de6903d5cc427a8b0fdcd168fec47192f4365b,openstack/python-openstackclient,stable/xena,I06de6903d5cc427a8b0fdcd168fec47192f4365b,Fix typo error in listing server's column name,MERGED,2021-12-01 01:33:20.000000000,2022-07-05 13:57:16.000000000,2022-07-05 13:55:55.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 33848}]","[{'number': 1, 'created': '2021-12-01 01:33:20.000000000', 'files': ['openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e53d034fc85ab2a10e65fd49a54ec3055e5c5b76', 'message': 'Fix typo error in listing server\'s column name\n\nopenstack server list -c ""Created At"" command doesn\'t work\nbecause the wrong variable was used here.\n\nWhen we receive resp data, Created At data is saved with\nthe name ""created"". But in ""server.py"", we append columns\nas created_at. So it seems to print an empty table.\n\nStory: 2009149\nTask: 43112\nChange-Id: I06de6903d5cc427a8b0fdcd168fec47192f4365b\n(cherry picked from commit 4aad7dd77953e09b4973df0b37d1cb23d8b0afbf)\n'}]",0,819933,e53d034fc85ab2a10e65fd49a54ec3055e5c5b76,7,3,1,4690,,,0,"Fix typo error in listing server's column name

openstack server list -c ""Created At"" command doesn't work
because the wrong variable was used here.

When we receive resp data, Created At data is saved with
the name ""created"". But in ""server.py"", we append columns
as created_at. So it seems to print an empty table.

Story: 2009149
Task: 43112
Change-Id: I06de6903d5cc427a8b0fdcd168fec47192f4365b
(cherry picked from commit 4aad7dd77953e09b4973df0b37d1cb23d8b0afbf)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/33/819933/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,e53d034fc85ab2a10e65fd49a54ec3055e5c5b76,, columns.append('created'), columns.append('created_at'),1,1
openstack%2Fironic-lib~master~I97687d815503f2e444f4ecc3ce98ea60aaaa8b20,openstack/ironic-lib,master,I97687d815503f2e444f4ecc3ce98ea60aaaa8b20,CI: Removing job queue,MERGED,2022-05-19 19:05:06.000000000,2022-07-05 13:55:20.000000000,2022-07-05 13:52:53.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-19 19:05:06.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/179772a05a08b2e826509c8de22679e467698f07', 'message': 'CI: Removing job queue\n\nPlease see:\nhttps://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n\nChange-Id: I97687d815503f2e444f4ecc3ce98ea60aaaa8b20\n'}]",4,842612,179772a05a08b2e826509c8de22679e467698f07,14,2,1,15519,,,0,"CI: Removing job queue

Please see:
https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes

Change-Id: I97687d815503f2e444f4ecc3ce98ea60aaaa8b20
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/12/842612/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,179772a05a08b2e826509c8de22679e467698f07,drop-queue-ironic,, queue: ironic,0,1
openstack%2Fheat-cfnclient~master~I64b6f48b210e9d5f0b05aacf18e474d7a42c6e5f,openstack/heat-cfnclient,master,I64b6f48b210e9d5f0b05aacf18e474d7a42c6e5f,Update min tox version to 2.0,ABANDONED,2018-11-02 07:45:07.000000000,2022-07-05 13:35:08.000000000,,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-11-02 07:45:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-cfnclient/commit/14b6e9cdde142b004647e904cf6ffc9b8e39f409', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: I64b6f48b210e9d5f0b05aacf18e474d7a42c6e5f\n'}]",0,615078,14b6e9cdde142b004647e904cf6ffc9b8e39f409,6,4,1,28543,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: I64b6f48b210e9d5f0b05aacf18e474d7a42c6e5f
",git fetch https://review.opendev.org/openstack/heat-cfnclient refs/changes/78/615078/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,14b6e9cdde142b004647e904cf6ffc9b8e39f409,,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fneutron~master~I18bbee7b992cf7725e2301343cd9eea37422adcb,openstack/neutron,master,I18bbee7b992cf7725e2301343cd9eea37422adcb,Add WebTest package to the docs requirements,ABANDONED,2022-07-05 09:19:18.000000000,2022-07-05 13:31:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-05 09:19:18.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/020eadd16b685ed9f24289f35f102897f32ca606', 'message': 'Add WebTest package to the docs requirements\n\nCloses-Bug: #1980727\nChange-Id: I18bbee7b992cf7725e2301343cd9eea37422adcb\n'}]",2,848730,020eadd16b685ed9f24289f35f102897f32ca606,6,1,1,11975,,,0,"Add WebTest package to the docs requirements

Closes-Bug: #1980727
Change-Id: I18bbee7b992cf7725e2301343cd9eea37422adcb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/848730/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,020eadd16b685ed9f24289f35f102897f32ca606,bug/1980727,WebTest>=2.0.27 # MIT,,1,0
openstack%2Ftripleo-ansible~master~Ief3b91d9f1c14bf65fa0e9cadeb71a981a48a6a8,openstack/tripleo-ansible,master,Ief3b91d9f1c14bf65fa0e9cadeb71a981a48a6a8,Ansible_playbook to select ddp package for NFV node provision,MERGED,2022-05-05 13:30:08.000000000,2022-07-05 13:27:22.000000000,2022-07-05 13:27:22.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-05 13:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/31fbf3c0dabcd4ab0dd2a64071777e99ff1fc226', 'message': 'Ansible_playbook to select ddp package for NFV node provision\n\nThis change adds a playbook related to configuring intel firmware package\nfor dpdk compute nodes. This can be called during node provision (prior to network config)\nThis is equivalent of the pre-network role[1]\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml#L239-L256\n\nChange-Id: Ief3b91d9f1c14bf65fa0e9cadeb71a981a48a6a8\n'}, {'number': 2, 'created': '2022-05-05 13:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d8b5f893264ab03c8c6638871c3c2dfb17441a33', 'message': 'Ansible_playbook to select ddp package for NFV node provision\n\nThis change adds a playbook related to configuring intel firmware package\nfor dpdk compute nodes. This can be called during node provision (prior to network config)\nThis is equivalent of the pre-network role[1]\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml#L223-L240\n\nChange-Id: Ief3b91d9f1c14bf65fa0e9cadeb71a981a48a6a8\n'}, {'number': 3, 'created': '2022-06-07 16:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/25d63255cb51eeff104d406fb548792c2db1f9df', 'message': 'Ansible_playbook to select ddp package for NFV node provision\n\nThis change adds a playbook related to configuring intel firmware package\nfor dpdk compute nodes. This can be called during node provision (prior to network config)\nThis is equivalent of the pre-network role[1]\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml#L223-L240\n\nChange-Id: Ief3b91d9f1c14bf65fa0e9cadeb71a981a48a6a8\n'}, {'number': 4, 'created': '2022-07-01 10:14:12.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-kernel-ddp-pkg.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cb7bc9944bbce08b08e16c5dc6c8d42c56fe7314', 'message': 'Ansible_playbook to select ddp package for NFV node provision\n\nThis change adds a playbook related to configuring intel firmware package\nfor dpdk compute nodes. This can be called during node provision (prior to network config)\nThis is equivalent of the pre-network role[1]\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml#L223-L240\n\nChange-Id: Ief3b91d9f1c14bf65fa0e9cadeb71a981a48a6a8\n'}]",12,840664,cb7bc9944bbce08b08e16c5dc6c8d42c56fe7314,28,7,4,33688,,,0,"Ansible_playbook to select ddp package for NFV node provision

This change adds a playbook related to configuring intel firmware package
for dpdk compute nodes. This can be called during node provision (prior to network config)
This is equivalent of the pre-network role[1]

[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml#L223-L240

Change-Id: Ief3b91d9f1c14bf65fa0e9cadeb71a981a48a6a8
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/64/840664/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-kernel-ddp-pkg.yaml'],1,31fbf3c0dabcd4ab0dd2a64071777e99ff1fc226,osnet_map_fix,"--- # Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Overcloud Node kernel Ddp package select hosts: allovercloud any_errors_fatal: true gather_facts: false vars: ddp_package: 'ddp-comms' pre_tasks: - name: Wait for provisioned nodes to boot wait_for_connection: timeout: 600 delay: 10 connection: local tasks: - name: gather facts setup: - name: Apply user provided Ddp package block: - name: Get latest version of specified Ddp package shell: ""ls --sort=version -r /lib/firmware/intel/ice/{{ ddp_package }}/ice[_-]?*.pkg*"" register: ddp_package_files - name: Output ddp_package_files debug: var: ddp_package_files.stdout - name: Remove existing Ddp package become: true shell: |- rm -f /lib/firmware/intel/ice/ddp/ice.pkg* rm -f /lib/firmware/intel/ice/ddp-comms/ice.pkg* - name: Select and deploy Ddp package become: true vars: ddp_package_file: ""{{ ddp_package_files.stdout.split('\n')[0] }}"" shell: |- ln -s {{ ddp_package_file }} /lib/firmware/intel/ice/ddp/ice.pkg dracut -f rmmod ice modprobe ice when: ddp_package_files is defined and (ddp_package|string) == ""ddp"" - name: Select and deploy Ddpcomms package become: true vars: ddp_package_file: ""{{ ddp_package_files.stdout.split('\n')[0] }}"" shell: |- ln -s {{ ddp_package_file }} /lib/firmware/intel/ice/ddp-comms/ice.pkg dracut -f rmmod ice modprobe ice when: ddp_package_files is defined and (ddp_package|string) == ""ddp-comms"" when: ddp_package|string != """" ",,68,0
openstack%2Fcharm-trilio-data-mover~master~I1721984e262c643bc99f4491feff7bd7749825ac,openstack/charm-trilio-data-mover,master,I1721984e262c643bc99f4491feff7bd7749825ac,Enable Trilio 4.2,MERGED,2022-06-29 14:59:56.000000000,2022-07-05 13:04:02.000000000,2022-07-05 13:04:02.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-29 14:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/7fa6d1386b8a76bddb50b463055eba19d19f338c', 'message': 'Enable Trilio 4.2\n\nAdd new config options and use 4.2 ghostshare class\n\nChange-Id: I1721984e262c643bc99f4491feff7bd7749825ac\n'}, {'number': 2, 'created': '2022-07-05 05:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/7008767c4f267224a975a0cebfe5554727f922cf', 'message': 'Enable Trilio 4.2\n\nAdd new config options and use 4.2 ghostshare class\n\nChange-Id: I1721984e262c643bc99f4491feff7bd7749825ac\n'}, {'number': 3, 'created': '2022-07-05 05:08:43.000000000', 'files': ['osci.yaml', 'src/tests/bundles/bionic-ussuri-42.yaml', 'src/tests/bundles/bionic-train-40.yaml', 'src/tests/bundles/focal-ussuri-42-s3.yaml', 'src/tests/bundles/focal-ussuri-42.yaml', 'src/tests/tests.yaml', 'src/lib/charm/openstack/trilio_dm.py', 'src/tests/bundles/bionic-queens-42.yaml', 'src/config.yaml', 'src/tests/bundles/bionic-stein-40.yaml', 'src/tests/bundles/bionic-train-41.yaml', 'src/wheelhouse.txt', 'src/templates/tvault-contego.conf', 'src/tests/bundles/bionic-stein-41.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/b9963533106bb55d53095e86b1b7009d56d61367', 'message': 'Enable Trilio 4.2\n\nAdd new config options and use 4.2 ghostshare class\n\nChange-Id: I1721984e262c643bc99f4491feff7bd7749825ac\n'}]",2,848144,b9963533106bb55d53095e86b1b7009d56d61367,13,3,3,12549,,,0,"Enable Trilio 4.2

Add new config options and use 4.2 ghostshare class

Change-Id: I1721984e262c643bc99f4491feff7bd7749825ac
",git fetch https://review.opendev.org/openstack/charm-trilio-data-mover refs/changes/44/848144/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/bionic-ussuri-42.yaml', 'src/tests/bundles/bionic-train-40.yaml', 'src/tests/bundles/focal-ussuri-42-s3.yaml', 'src/tests/bundles/focal-ussuri-42.yaml', 'src/tests/tests.yaml', 'src/lib/charm/openstack/trilio_dm.py', 'src/tests/bundles/bionic-queens-42.yaml', 'src/config.yaml', 'src/tests/bundles/bionic-stein-40.yaml', 'src/tests/bundles/bionic-train-41.yaml', 'src/wheelhouse.txt', 'src/templates/tvault-contego.conf', 'src/tests/bundles/bionic-stein-41.yaml']",14,7fa6d1386b8a76bddb50b463055eba19d19f338c,support-4.2,,"variables: openstack-origin: &openstack-origin 'cloud:bionic-stein' openstack-charm-channel: &openstack-charm-channel 'stein/edge' ceph-charm-channel: &ceph-charm-channel 'octopus/edge' rabbit-charm-channel: &rabbit-charm-channel '3.8/edge' mysql-charm-channel: &mysql-charm-channel '5.7/edge' vault-charm-channel: &vault-charm-channel '1.7/edge' trilio-charm-channel: &trilio-charm-channel 'latest/stable' triliovault-pkg-source: &triliovault-pkg-source 'deb [trusted=yes] https://apt.fury.io/triliodata-4-1/ /' series: &series bionic relations: - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp-nova' - 'rabbitmq-server:amqp' - - 'keystone:shared-db' - 'mysql:shared-db' - - 'cinder:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'glance:identity-service' - 'keystone:identity-service' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'neutron-openvswitch:neutron-plugin-api' - 'neutron-api:neutron-plugin-api' - - 'cinder:shared-db' - 'mysql:shared-db' - - 'neutron-api:shared-db' - 'mysql:shared-db' - - 'cinder:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:neutron-plugin-api' - 'neutron-api:neutron-plugin-api' - - 'glance:shared-db' - 'mysql:shared-db' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'neutron-openvswitch:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:shared-db' - 'mysql:shared-db' - - 'nova-cloud-controller:neutron-api' - 'neutron-api:neutron-api' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'trilio-wlm:shared-db' - 'mysql:shared-db' - - 'trilio-wlm:amqp' - 'rabbitmq-server:amqp' - - 'trilio-wlm:identity-service' - 'keystone:identity-service' - - 'glance:ceph' - 'ceph-mon:client' - - 'ceph-mon:osd' - 'ceph-osd:mon' - - 'ceph-osd:secrets-storage' - 'vault:secrets' - - 'cinder:storage-backend' - 'cinder-ceph:storage-backend' - - 'cinder-ceph:ceph' - 'ceph-mon:client' - - 'cinder-ceph:ceph-access' - 'nova-compute:ceph-access' - - 'vault:shared-db' - 'mysql:shared-db' - - 'vault:certificates' - 'keystone:certificates' - - 'vault:certificates' - 'neutron-api:certificates' - - 'vault:certificates' - 'cinder:certificates' - - 'vault:certificates' - 'glance:certificates' - - 'vault:certificates' - 'nova-cloud-controller:certificates' - - 'vault:certificates' - 'trilio-wlm:certificates' - - 'trilio-data-mover:amqp' - 'rabbitmq-server:amqp' - - 'trilio-data-mover:juju-info' - 'nova-compute:juju-info' - - 'trilio-dm-api:identity-service' - 'keystone:identity-service' - - 'trilio-dm-api:shared-db' - 'mysql:shared-db' - - 'trilio-dm-api:amqp' - 'rabbitmq-server:amqp' - - 'trilio-dm-api:certificates' - 'vault:certificates' - - 'trilio-horizon-plugin:dashboard-plugin' - 'openstack-dashboard:dashboard-plugin' - - 'openstack-dashboard:identity-service' - 'keystone:identity-service' - - 'trilio-data-mover:ceph' - 'ceph-mon:client' - - 'trilio-data-mover:shared-db' - 'mysql:shared-db' applications: glance: charm: ch:glance channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin cinder: charm: ch:cinder channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin block-device: ""None"" glance-api-version: 2 keystone: charm: ch:keystone channel: *openstack-charm-channel series: bionic num_units: 1 options: openstack-origin: *openstack-origin admin-password: openstack mysql: charm: ch:percona-cluster channel: *mysql-charm-channel num_units: 1 options: innodb-buffer-pool-size: 256M max-connections: 1000 neutron-api: charm: ch:neutron-api channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin flat-network-providers: physnet1 neutron-security-groups: true neutron-gateway: charm: ch:neutron-gateway channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin bridge-mappings: physnet1:br-ex neutron-openvswitch: charm: ch:neutron-openvswitch channel: *openstack-charm-channel num_units: 0 nova-cloud-controller: charm: ch:nova-cloud-controller channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin network-manager: Neutron debug: true nova-compute: charm: ch:nova-compute channel: *openstack-charm-channel num_units: 3 constraints: mem=4G options: openstack-origin: *openstack-origin config-flags: default_ephemeral_format=ext4 enable-live-migration: true enable-resize: true migration-auth-type: ssh debug: true cpu-model: kvm64 cpu-mode: custom # Allow for more retries when testing ontop of openstack config-flags: block_device_allocate_retries=120 rabbitmq-server: charm: ch:rabbitmq-server channel: *rabbit-charm-channel num_units: 1 trilio-data-mover: charm: ../../../trilio-data-mover.charm series: bionic options: triliovault-pkg-source: *triliovault-pkg-source trilio-dm-api: charm: ch:openstack-charmers-trilio-dm-api channel: *trilio-charm-channel num_units: 1 options: triliovault-pkg-source: *triliovault-pkg-source trilio-horizon-plugin: charm: ch:openstack-charmers-trilio-horizon-plugin channel: *trilio-charm-channel options: triliovault-pkg-source: *triliovault-pkg-source trilio-wlm: charm: ch:openstack-charmers-trilio-wlm channel: *trilio-charm-channel num_units: 1 options: triliovault-pkg-source: *triliovault-pkg-source ceph-mon: charm: ch:ceph-mon channel: *ceph-charm-channel num_units: 3 options: source: *openstack-origin expected-osd-count: 3 ceph-osd: charm: ch:ceph-osd channel: *ceph-charm-channel constraints: mem=1G num_units: 3 options: source: *openstack-origin osd-encrypt-keymanager: vault osd-encrypt: True storage: osd-devices: cinder,40G cinder-ceph: charm: ch:cinder-ceph channel: *openstack-charm-channel vault: charm: ch:vault channel: *vault-charm-channel num_units: 1 nfs-server-test-fixture: charm: cs:~openstack-charmers-next/nfs-server-test-fixture num_units: 1 storage: share: cinder,40G openstack-dashboard: charm: ch:openstack-dashboard channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin ",281,1169
openstack%2Fcharm-glance-simplestreams-sync~master~I5f96a102be8753eea240cf05e2ca304057101530,openstack/charm-glance-simplestreams-sync,master,I5f96a102be8753eea240cf05e2ca304057101530,Use yaml.safe_load(),MERGED,2022-07-04 15:00:14.000000000,2022-07-05 12:29:14.000000000,2022-07-05 12:29:14.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-04 15:00:14.000000000', 'files': ['files/glance_simplestreams_sync.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/5687d74d61a04b4d76a6774858e226ef1aef21ab', 'message': 'Use yaml.safe_load()\n\nUse safe_load() instead of load() when loading a yaml content, more\ndetails at https://msg.pyyaml.org/load\n\nCloses-Bug: #1979260\nChange-Id: I5f96a102be8753eea240cf05e2ca304057101530\n'}]",2,848646,5687d74d61a04b4d76a6774858e226ef1aef21ab,9,3,1,2424,,,0,"Use yaml.safe_load()

Use safe_load() instead of load() when loading a yaml content, more
details at https://msg.pyyaml.org/load

Closes-Bug: #1979260
Change-Id: I5f96a102be8753eea240cf05e2ca304057101530
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/46/848646/1 && git format-patch -1 --stdout FETCH_HEAD,['files/glance_simplestreams_sync.py'],1,5687d74d61a04b4d76a6774858e226ef1aef21ab,bug/1979260, confobj = yaml.safe_load(f), confobj = yaml.load(f),1,1
openstack%2Fironic-lib~master~I79a4b189a7fb220a97d83601002339ebfae45104,openstack/ironic-lib,master,I79a4b189a7fb220a97d83601002339ebfae45104,Remove python version 2 pkgs from bindep,MERGED,2022-02-22 07:50:20.000000000,2022-07-05 12:29:01.000000000,2022-07-05 12:26:37.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-02-22 07:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/cb108cd69b9d8bf53d9b89cd784dafb94425bf43', 'message': 'Remove python version 2 pkgs from bindep\n\nFollow up to change: Iee5ac3a778f8106b7f2e96cd9294e2da28fe4def\n\nSince Python version 2 is not supported we can remove these.\n\nChange-Id: I79a4b189a7fb220a97d83601002339ebfae45104\n'}, {'number': 2, 'created': '2022-03-04 14:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/a3fb6f0c22d5270ef1e4870b2247881abb1c9c39', 'message': 'Remove python version 2 pkgs from bindep\n\nFollow up to change: Iee5ac3a778f8106b7f2e96cd9294e2da28fe4def\n\nSince Python version 2 is not supported we can remove these.\n\nChange-Id: I79a4b189a7fb220a97d83601002339ebfae45104\n'}, {'number': 3, 'created': '2022-06-27 11:04:45.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/0aa35a0edba4cce619d35c9964e975eadb79f9f8', 'message': 'Remove python version 2 pkgs from bindep\n\nFollow up to change: Iee5ac3a778f8106b7f2e96cd9294e2da28fe4def\n\nSince Python version 2 is not supported we can remove these.\n\nChange-Id: I79a4b189a7fb220a97d83601002339ebfae45104\n'}]",9,830319,0aa35a0edba4cce619d35c9964e975eadb79f9f8,29,4,3,24245,,,0,"Remove python version 2 pkgs from bindep

Follow up to change: Iee5ac3a778f8106b7f2e96cd9294e2da28fe4def

Since Python version 2 is not supported we can remove these.

Change-Id: I79a4b189a7fb220a97d83601002339ebfae45104
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/19/830319/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,cb108cd69b9d8bf53d9b89cd784dafb94425bf43,bindep-py3-only,,python-dev [platform:dpkg test]python-devel [(platform:rpm platform:base-py2 test)],0,2
openstack%2Fheat~stable%2Fvictoria~I186176b09642b5fbca1a654a52a59e973b8789ee,openstack/heat,stable/victoria,I186176b09642b5fbca1a654a52a59e973b8789ee,Pin tempest to 26.1.0,ABANDONED,2022-06-06 06:41:41.000000000,2022-07-05 12:12:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-06 06:41:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/b9efca839dd6b3a5b6a34f6e7335f1aecb625a11', 'message': 'Pin tempest to 26.1.0\n\nChange-Id: I186176b09642b5fbca1a654a52a59e973b8789ee\n'}]",0,844778,b9efca839dd6b3a5b6a34f6e7335f1aecb625a11,3,1,1,9816,,,0,"Pin tempest to 26.1.0

Change-Id: I186176b09642b5fbca1a654a52a59e973b8789ee
",git fetch https://review.opendev.org/openstack/heat refs/changes/78/844778/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b9efca839dd6b3a5b6a34f6e7335f1aecb625a11,f36-stable/victoria, - name: openstack/tempest override-checkout: 26.1.0, - openstack/tempest,2,1
openstack%2Fheat~stable%2Fwallaby~I2de594258231e3f1c217904afce88a83a8f94df3,openstack/heat,stable/wallaby,I2de594258231e3f1c217904afce88a83a8f94df3,Make grenade job voting again,MERGED,2022-06-20 08:11:23.000000000,2022-07-05 12:04:01.000000000,2022-07-05 12:01:40.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 30073}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-20 08:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b6f996094c022f12df2e7e5bcd96b1088fce0f53', 'message': 'Make grenade job voting again\n\nBecause change I7d1017bcd7147329c4e187336daee1a1ae280fa9 was backported\nto the previous stable branch.\n\nChange-Id: I2de594258231e3f1c217904afce88a83a8f94df3\n(cherry picked from commit fee8c40c23fb160a4fe64e95a71f827528287690)\n(cherry picked from commit 03e4f9af62ed66a4df72f5da793f8ce4caf8ac3e)\n(cherry picked from commit e3ec8946b3de50c76b2c3b08c2f7356842d3f45a)\n'}, {'number': 2, 'created': '2022-06-20 12:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0860b8bb4b065de6e416b675d135230f1c86062c', 'message': 'Make grenade job voting again\n\nBecause change I7d1017bcd7147329c4e187336daee1a1ae280fa9 was backported\nto the previous stable branch.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/844774\nChange-Id: I2de594258231e3f1c217904afce88a83a8f94df3\n(cherry picked from commit fee8c40c23fb160a4fe64e95a71f827528287690)\n(cherry picked from commit 03e4f9af62ed66a4df72f5da793f8ce4caf8ac3e)\n(cherry picked from commit e3ec8946b3de50c76b2c3b08c2f7356842d3f45a)\n'}, {'number': 3, 'created': '2022-06-21 08:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3ed67d7dc0d78db87bd7411638538490f1294146', 'message': 'Make grenade job voting again\n\nBecause change I7d1017bcd7147329c4e187336daee1a1ae280fa9 was backported\nto the previous stable branch.\n\nChange-Id: I2de594258231e3f1c217904afce88a83a8f94df3\n(cherry picked from commit fee8c40c23fb160a4fe64e95a71f827528287690)\n(cherry picked from commit 03e4f9af62ed66a4df72f5da793f8ce4caf8ac3e)\n(cherry picked from commit e3ec8946b3de50c76b2c3b08c2f7356842d3f45a)\n'}, {'number': 4, 'created': '2022-06-23 06:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3a99fa92664df4133d9427b68c78ef664d8dbf63', 'message': 'Make grenade job voting again\n\nBecause change I7d1017bcd7147329c4e187336daee1a1ae280fa9 was backported\nto the previous stable branch.\n\nChange-Id: I2de594258231e3f1c217904afce88a83a8f94df3\n(cherry picked from commit fee8c40c23fb160a4fe64e95a71f827528287690)\n(cherry picked from commit 03e4f9af62ed66a4df72f5da793f8ce4caf8ac3e)\n(cherry picked from commit e3ec8946b3de50c76b2c3b08c2f7356842d3f45a)\n'}, {'number': 5, 'created': '2022-06-24 06:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/907a319248343298bfd001b9af84b327a18a2bb0', 'message': 'Make grenade job voting again\n\nBecause change I7d1017bcd7147329c4e187336daee1a1ae280fa9 was backported\nto the previous stable branch.\n\nChange-Id: I2de594258231e3f1c217904afce88a83a8f94df3\n(cherry picked from commit fee8c40c23fb160a4fe64e95a71f827528287690)\n(cherry picked from commit 03e4f9af62ed66a4df72f5da793f8ce4caf8ac3e)\n(cherry picked from commit e3ec8946b3de50c76b2c3b08c2f7356842d3f45a)\n'}, {'number': 6, 'created': '2022-06-24 14:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d1362ea792ed84b9d9e7c840239857088e772ac0', 'message': 'Make grenade job voting again\n\nBecause change I7d1017bcd7147329c4e187336daee1a1ae280fa9 was backported\nto the previous stable branch.\n\nChange-Id: I2de594258231e3f1c217904afce88a83a8f94df3\n(cherry picked from commit fee8c40c23fb160a4fe64e95a71f827528287690)\n(cherry picked from commit 03e4f9af62ed66a4df72f5da793f8ce4caf8ac3e)\n(cherry picked from commit e3ec8946b3de50c76b2c3b08c2f7356842d3f45a)\n'}, {'number': 7, 'created': '2022-07-05 08:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/03de43ca7c35aeff5c2ee18528536007ffdfce6c', 'message': ""Make grenade job voting again\n\nBecause change I7d1017bcd7147329c4e187336daee1a1ae280fa9 was backported\nto the previous stable branch.\n\nAlso includes:\nUse constraints when creating venv for grenade\n\nAs a followup for change I6a8cffdc86c895eebe4269c5cd37841325566c54\nlet's use branch specific upper constraints when running tests in\ngrenade.\n\nChange-Id: I2de594258231e3f1c217904afce88a83a8f94df3\n(cherry picked from commit fee8c40c23fb160a4fe64e95a71f827528287690)\n(cherry picked from commit 03e4f9af62ed66a4df72f5da793f8ce4caf8ac3e)\n(cherry picked from commit e3ec8946b3de50c76b2c3b08c2f7356842d3f45a)\n(cherry picked from commit 39d653fa5741e45d26388950270e7ed3ca489b89)\n(cherry picked from commit 976bcf9ef34014cdd5cf15f97243609c96ac8ee8)\n(cherry picked from commit 75815c4ac3683ec5661b910bb354956a26c2dfd2)\n""}, {'number': 8, 'created': '2022-07-05 08:24:56.000000000', 'files': ['.zuul.yaml', 'devstack/upgrade/resources.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/b4d159b87e606024d65bb285576c64bd1c72fecd', 'message': ""Make grenade job voting again\n\nBecause change I7d1017bcd7147329c4e187336daee1a1ae280fa9 was backported\nto the previous stable branch.\n\nBackport note:\nThis includes the following follow-up commit.\n\n(commit fee8c40c23fb160a4fe64e95a71f827528287690)\nUse constraints when creating venv for grenade\n\nAs a followup for change I6a8cffdc86c895eebe4269c5cd37841325566c54\nlet's use branch specific upper constraints when running tests in\ngrenade.\n\nChange-Id: I2de594258231e3f1c217904afce88a83a8f94df3\n(cherry picked from commit fee8c40c23fb160a4fe64e95a71f827528287690)\n(cherry picked from commit 03e4f9af62ed66a4df72f5da793f8ce4caf8ac3e)\n(cherry picked from commit e3ec8946b3de50c76b2c3b08c2f7356842d3f45a)\n""}]",4,846553,b4d159b87e606024d65bb285576c64bd1c72fecd,34,4,8,9816,,,0,"Make grenade job voting again

Because change I7d1017bcd7147329c4e187336daee1a1ae280fa9 was backported
to the previous stable branch.

Backport note:
This includes the following follow-up commit.

(commit fee8c40c23fb160a4fe64e95a71f827528287690)
Use constraints when creating venv for grenade

As a followup for change I6a8cffdc86c895eebe4269c5cd37841325566c54
let's use branch specific upper constraints when running tests in
grenade.

Change-Id: I2de594258231e3f1c217904afce88a83a8f94df3
(cherry picked from commit fee8c40c23fb160a4fe64e95a71f827528287690)
(cherry picked from commit 03e4f9af62ed66a4df72f5da793f8ce4caf8ac3e)
(cherry picked from commit e3ec8946b3de50c76b2c3b08c2f7356842d3f45a)
",git fetch https://review.opendev.org/openstack/heat refs/changes/53/846553/8 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b6f996094c022f12df2e7e5bcd96b1088fce0f53,,, voting: false,0,1
openstack%2Fpuppet-ironic~stable%2Fxena~I3cd679500edb1206eccd71ffe5e8335a66314842,openstack/puppet-ironic,stable/xena,I3cd679500edb1206eccd71ffe5e8335a66314842,CentOS 9: Fix unit tests for ironic::pxe,MERGED,2022-06-25 02:33:23.000000000,2022-07-05 11:08:31.000000000,2022-07-05 11:08:31.000000000,"[{'_account_id': 9816}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-25 02:33:23.000000000', 'files': ['spec/classes/ironic_pxe_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/3e6254bddf38834b2bcb3d4af4a67e0827ec5c47', 'message': 'CentOS 9: Fix unit tests for ironic::pxe\n\nThis updates unit tests for ironic::pxe to fix failures with CentOS 9\nenabled.\n\nConflicts:\n\tspec/classes/ironic_pxe_spec.rb\n\nChange-Id: I3cd679500edb1206eccd71ffe5e8335a66314842\n(cherry picked from commit cb6f61aebc017c89c6b66dd83cb399a80d9e2d06)\n'}]",0,847625,3e6254bddf38834b2bcb3d4af4a67e0827ec5c47,9,4,1,9816,,,0,"CentOS 9: Fix unit tests for ironic::pxe

This updates unit tests for ironic::pxe to fix failures with CentOS 9
enabled.

Conflicts:
	spec/classes/ironic_pxe_spec.rb

Change-Id: I3cd679500edb1206eccd71ffe5e8335a66314842
(cherry picked from commit cb6f61aebc017c89c6b66dd83cb399a80d9e2d06)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/25/847625/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/ironic_pxe_spec.rb'],1,3e6254bddf38834b2bcb3d4af4a67e0827ec5c47,," :tftp_root => '/var/lib/tftpboot', :http_root => '/var/www/httpboot', :http_port => 3816, shared_examples_for 'ironic pxe with xinetd' do before :each do params.merge!( :tftp_use_xinetd => true, ) end it 'should install tftp-server package' do is_expected.to contain_package('tftp-server').with( 'ensure' => 'present', ) end it 'should setup tftp xinetd service' do is_expected.to contain_class('xinetd') is_expected.to contain_xinetd__service('tftp').with( 'port' => '69', 'protocol' => 'udp', 'server_args' => '--map-file /tftpboot/map-file /tftpboot', 'server' => '/usr/sbin/in.tftpd', 'socket_type' => 'dgram', 'cps' => '100 2', 'per_source' => '11', 'wait' => 'yes', 'subscribe' => 'Anchor[ironic::install::end]', ) end context 'when overriding parameters' do :tftp_root => '/var/lib/tftpboot', :http_root => '/var/www/httpboot', :http_port => 3816, :tftp_bind_host => '1.2.3.4', it 'should setup tftp xinetd service' do is_expected.to contain_class('xinetd') is_expected.to contain_xinetd__service('tftp').with( 'port' => '69', 'protocol' => 'udp', 'server_args' => '--map-file /var/lib/tftpboot/map-file /var/lib/tftpboot', 'server' => '/usr/sbin/in.tftpd', 'socket_type' => 'dgram', 'cps' => '100 2', 'per_source' => '11', 'wait' => 'yes', 'subscribe' => 'Anchor[ironic::install::end]', it 'should setup tftp xinetd service' do is_expected.to contain_xinetd__service('tftp').with( 'bind' => '1.2.3.4', ) end end end shared_examples_for 'ironic pxe without xinetd' do let :p do default_params.merge(params) end before :each do params.merge!( :tftp_use_xinetd => false, ) end it 'should configure dnsmasq-tftp-server' do is_expected.to contain_file('/etc/ironic/dnsmasq-tftp-server.conf').with( 'ensure' => 'present', 'mode' => '0644', 'owner' => 'root', 'group' => 'root', ) is_expected.to contain_package('dnsmasq-tftp-server').with( 'ensure' => 'present', 'name' => platform_params[:dnsmasq_tftp_package], 'tag' => ['openstack', 'ironic-ipxe', 'ironic-support-package'], ) is_expected.to contain_service('dnsmasq-tftp-server').with( 'ensure' => 'running', 'name' => platform_params[:dnsmasq_tftp_service], 'enable' => true, 'hasstatus' => true, ) end it 'should not enable xinetd' do is_expected.to_not contain_package('tftp-server') is_expected.to_not contain_class('xinetd') is_expected.to_not contain_xinetd__service('tftp') is_expected.to contain_file('/tftpboot/map-file').with_ensure('absent') it_behaves_like 'ironic pxe without xinetd' end unless facts[:osfamily] == 'RedHat' and facts[:operatingsystemmajrelease].to_i >= 9 it_behaves_like 'ironic pxe with xinetd'"," it 'should install tftp-server package' do is_expected.to contain_package('tftp-server').with( 'ensure' => 'present', ) end it 'should setup tftp xinetd service' do is_expected.to contain_class('xinetd') is_expected.to contain_xinetd__service('tftp').with( 'port' => '69', 'protocol' => 'udp', 'server_args' => '--map-file /tftpboot/map-file /tftpboot', 'server' => '/usr/sbin/in.tftpd', 'socket_type' => 'dgram', 'cps' => '100 2', 'per_source' => '11', 'wait' => 'yes', 'subscribe' => 'Anchor[ironic::install::end]', ) end :tftp_root => '/var/lib/tftpboot', :http_root => '/var/www/httpboot', :http_port => 3816, it 'should setup tftp xinetd service' do is_expected.to contain_class('xinetd') is_expected.to contain_xinetd__service('tftp').with( 'port' => '69', 'protocol' => 'udp', 'server_args' => '--map-file /var/lib/tftpboot/map-file /var/lib/tftpboot', 'server' => '/usr/sbin/in.tftpd', 'socket_type' => 'dgram', 'cps' => '100 2', 'per_source' => '11', 'wait' => 'yes', 'subscribe' => 'Anchor[ironic::install::end]', ) end it 'should setup tftp xinetd service' do is_expected.to contain_xinetd__service('tftp').with( 'bind' => '1.2.3.4', ) end shared_examples_for 'ironic pxe in RedHat' do context 'when xinetd is disabled' do :tftp_use_xinetd => false, it 'should configure dnsmasq-tftp-server' do is_expected.to contain_file('/etc/ironic/dnsmasq-tftp-server.conf').with( 'ensure' => 'present', 'mode' => '0644', 'owner' => 'root', 'group' => 'root', ) is_expected.to contain_package('dnsmasq-tftp-server').with( 'ensure' => 'present', 'name' => platform_params[:dnsmasq_tftp_package], 'tag' => ['openstack', 'ironic-ipxe', 'ironic-support-package'], ) is_expected.to contain_service('dnsmasq-tftp-server').with( 'ensure' => 'running', 'name' => platform_params[:dnsmasq_tftp_service], 'enable' => true, 'hasstatus' => true, it 'should not enable xinetd' do is_expected.to_not contain_package('tftp-server') is_expected.to_not contain_class('xinetd') is_expected.to_not contain_xinetd__service('tftp') is_expected.to contain_file('/tftpboot/map-file').with_ensure('absent') end # TODO(tkajinam): This should be refactored before we add support for # CentOS9, because xinetd is not available in CentOS9 it_behaves_like 'ironic pxe in RedHat'",96,73
openstack%2Fovn-octavia-provider~stable%2Fyoga~I7c75003516015863320e53f0175dec8fdf4e2cf7,openstack/ovn-octavia-provider,stable/yoga,I7c75003516015863320e53f0175dec8fdf4e2cf7,Apply ServiceMonitorEvent to affected LBs,MERGED,2022-06-17 16:25:40.000000000,2022-07-05 10:37:03.000000000,2022-07-05 10:35:42.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-06-17 16:25:40.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/c1f421615ca4fd7bcf6ce8e4d386c90b72446c89', 'message': 'Apply ServiceMonitorEvent to affected LBs\n\nEvery Health_Monitor over a LB creates Load_Balancer_Health_Check\nNB entry, and it creates 1..n Service_Monitor OVN SB entries according\nto the member to be monitored. When more than one LB exists on the\nsame network segment for the same member, Service_Monitor SB\nentries are not duplicated, in order to not performing multiple\nchecks on the same member.\n\nWhen a ServiceMonitorUpdateEvent is received with status information\nfrom a member, the LBs that match the event information (protocol,\nip, port and logical_port) are searched. At this way we ensure that\nnetwork segments are separated where the same ip and port could match\nbut the logical_port would be different.\n\nThe current logic will update just the status of the first LB selected\nas ""related"" to the member event received from the Service_Monitor,\nbut we could use this information to keep updated all those LBs, that\nare in the same network segment and have a Health_Monitor associated\nto.\n\nThis patch will fix this behaviour in order to provide status to\nOctavia of all LBs affected by a ServiceMonitorUpdateEvent.\n\nPartial-Bug: #1965772\nCloses-Bug: #1965772\nChange-Id: I7c75003516015863320e53f0175dec8fdf4e2cf7\n(cherry picked from commit 7db9e23fd9642eacb78731bf215a4820978436ca)\n'}]",6,846423,c1f421615ca4fd7bcf6ce8e4d386c90b72446c89,21,4,1,34451,,,0,"Apply ServiceMonitorEvent to affected LBs

Every Health_Monitor over a LB creates Load_Balancer_Health_Check
NB entry, and it creates 1..n Service_Monitor OVN SB entries according
to the member to be monitored. When more than one LB exists on the
same network segment for the same member, Service_Monitor SB
entries are not duplicated, in order to not performing multiple
checks on the same member.

When a ServiceMonitorUpdateEvent is received with status information
from a member, the LBs that match the event information (protocol,
ip, port and logical_port) are searched. At this way we ensure that
network segments are separated where the same ip and port could match
but the logical_port would be different.

The current logic will update just the status of the first LB selected
as ""related"" to the member event received from the Service_Monitor,
but we could use this information to keep updated all those LBs, that
are in the same network segment and have a Health_Monitor associated
to.

This patch will fix this behaviour in order to provide status to
Octavia of all LBs affected by a ServiceMonitorUpdateEvent.

Partial-Bug: #1965772
Closes-Bug: #1965772
Change-Id: I7c75003516015863320e53f0175dec8fdf4e2cf7
(cherry picked from commit 7db9e23fd9642eacb78731bf215a4820978436ca)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/23/846423/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,c1f421615ca4fd7bcf6ce8e4d386c90b72446c89,yoga," {'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': [self.ovn_hm_lb], def _add_member(self, lb, subnet, port, ip=None): if not ip: fake_port = fakes.FakePort.create_one_port( attrs={'allowed_address_pairs': ''}) ip = fake_port['fixed_ips'][0]['ip_address'] existing_members = lb.external_ids[pool_key] existing_member_status = lb.external_ids[ lb.external_ids[pool_key] = existing_members lb.external_ids[ lb.external_ids[pool_key] = member_line lb.external_ids[ member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) def test_hm_update_status_offline_two_lbs_affected(self): fake_subnet = fakes.FakeSubnet.create_one_subnet() ovn_hm_lb_2 = copy.deepcopy(self.ovn_hm_lb) ovn_hm_lb_2.uuid = uuidutils.generate_uuid() member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member_2 = self._add_member( ovn_hm_lb_2, fake_subnet, 8080, ip=member['address']) info = { 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb_2], 'ip': member['address'], 'logical_port': 'a-logical-port', 'src_ip': '10.22.33.4', 'port': '8080', 'protocol': self.ovn_hm_lb.protocol, 'status': ['offline']} self._update_member_status(self.ovn_hm_lb, member['id'], 'offline') self._update_member_status(ovn_hm_lb_2, member_2['id'], 'offline') status = self.helper.hm_update_event(info) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.ERROR) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['operating_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) self.assertEqual(status['pools'][1]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][1]['operating_status'], constants.ERROR) self.assertEqual(status['members'][1]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][1]['operating_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][1]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][1]['operating_status'], constants.ERROR) member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member_1 = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member_2 = self._add_member(self.ovn_hm_lb, fake_subnet, 8081) member_1 = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member_2 = self._add_member(self.ovn_hm_lb, fake_subnet, 8081)"," {'ovn_lb': self.ovn_hm_lb, def test_hm_update_event_lb_protocol_not_found(self): self.helper.ovn_nbdb_api.db_find_rows.\ side_effect = [self.ovn_hm_lb, idlutils.RowNotFound] self.hm_update_event = ovn_event.ServiceMonitorUpdateEvent( self.helper) row = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'ip': self.member_address, 'logical_port': 'a-logical-port', 'src_ip': '10.22.33.4', 'port': self.member_port, 'protocol': 'unknown', 'status': ['offline']}) self.hm_update_event.run('update', row, mock.ANY) self.mock_add_request.assert_not_called() 'ovn_lb': self.ovn_hm_lb, 'ovn_lb': self.ovn_hm_lb, def _add_member(self, subnet, port): fake_port = fakes.FakePort.create_one_port( attrs={'allowed_address_pairs': ''}) ip = fake_port['fixed_ips'][0]['ip_address'] existing_members = self.ovn_hm_lb.external_ids[pool_key] existing_member_status = self.ovn_hm_lb.external_ids[ self.ovn_hm_lb.external_ids[pool_key] = existing_members self.ovn_hm_lb.external_ids[ self.ovn_hm_lb.external_ids[pool_key] = member_line self.ovn_hm_lb.external_ids[ member = self._add_member(fake_subnet, 8080) member = self._add_member(fake_subnet, 8080) member = self._add_member(fake_subnet, 8080) member = self._add_member(fake_subnet, 8080) member_1 = self._add_member(fake_subnet, 8080) member_2 = self._add_member(fake_subnet, 8081) member_1 = self._add_member(fake_subnet, 8080) member_2 = self._add_member(fake_subnet, 8081)",114,71
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I0083538ae5655e4c1637ed802caba8f0e8dbfa94,openstack/tripleo-heat-templates,stable/wallaby,I0083538ae5655e4c1637ed802caba8f0e8dbfa94,Add merge strategy for ExtraConfig,MERGED,2022-07-05 02:36:28.000000000,2022-07-05 10:01:57.000000000,2022-07-05 10:01:57.000000000,"[{'_account_id': 9816}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-07-05 02:36:28.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a763ca438ba4b60942a8f329d24f8e7fe1939bf', 'message': 'Add merge strategy for ExtraConfig\n\nThis is a backport of 2 commits.\n\n- Add merge strategy for ExtraConfig\n\nIt seems users are relying on the undocumented behaviour\nthat merges maps for *ExtraConfig in multiple environment\nfiles.\n\n- Provide default values for ExtraConfig parameters\n\nIn Iafb291419822362be2ab6755589d49f78543dc54 we added merge\nstrategies for ExtraConfig. However, those would be ignored\nwithout them in overcloud-resource-registry-puppet.j2.yaml\n\nDepends-On: https://review.opendev.org/c/openstack/heat/+/848598\nResolves: rhbz#2102466\nChange-Id: I0083538ae5655e4c1637ed802caba8f0e8dbfa94\n(cherry picked from commit 2e1b4ef0a0a79d976872f1627dca0ad81b219afe and\ncherry picked from commit 7c04fad7286fb26424c9395923097b32aae2c1a0)\n'}]",1,848681,1a763ca438ba4b60942a8f329d24f8e7fe1939bf,9,5,1,8833,,,0,"Add merge strategy for ExtraConfig

This is a backport of 2 commits.

- Add merge strategy for ExtraConfig

It seems users are relying on the undocumented behaviour
that merges maps for *ExtraConfig in multiple environment
files.

- Provide default values for ExtraConfig parameters

In Iafb291419822362be2ab6755589d49f78543dc54 we added merge
strategies for ExtraConfig. However, those would be ignored
without them in overcloud-resource-registry-puppet.j2.yaml

Depends-On: https://review.opendev.org/c/openstack/heat/+/848598
Resolves: rhbz#2102466
Change-Id: I0083538ae5655e4c1637ed802caba8f0e8dbfa94
(cherry picked from commit 2e1b4ef0a0a79d976872f1627dca0ad81b219afe and
cherry picked from commit 7c04fad7286fb26424c9395923097b32aae2c1a0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/848681/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-resource-registry-puppet.j2.yaml'],1,1a763ca438ba4b60942a8f329d24f8e7fe1939bf,, ExtraConfig: merge {{role.name}}ExtraConfig: merge ExtraConfig: {} {{role.name}}ExtraConfig: {},,4,0
openstack%2Ftooz~stable%2Ftrain~I5ea06ebd2b976465ff82f10a74e140f30e9e803f,openstack/tooz,stable/train,I5ea06ebd2b976465ff82f10a74e140f30e9e803f,Fix broken CI and PyMySQL support,ABANDONED,2021-05-19 15:41:58.000000000,2022-07-05 10:01:41.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 15:41:58.000000000', 'files': ['tooz/drivers/mysql.py', 'releasenotes/notes/mysql-0.10.0-7660f75a1c57a920.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tooz/commit/9febe34244f2ab428aa4efebcd714ccdb6d5dbce', 'message': ""Fix broken CI and PyMySQL support\n\nThis is a combination of two patches that depend on\neach other to fix a breakage with PyMySQL 0.10.0 and\nfixing the up the CI to a working state.\n\n1. Blacklist etcd3gw 0.2.6\n\netcd3gw 0.2.6 was blacklisted in openstack/requirements [0], because\nthat version has a bug [1].\n\ntooz does not use openstack/requirements' upper constraints, so the\nsame blacklisting needs to be introduced here in setup.cfg.\n\n[0] Icb6873d8c5d3a3624c0ac3d76fc9125c5d8134b2\n[1] https://github.com/dims/etcd3-gateway/issues/41\n\nChange-Id: I22b955419014dd34c63e406c488e0636ffe9013b\nCloses-Bug: #1891314\n(cherry picked from commit 3f0759091c9fddf4d1486188015fc526e66cd73e)\n(cherry picked from commit c8d77ee485746c4367528e542063d5a045c4b6f3)\n\n2. Fix breakage with PyMySQL 0.10.0\n\nIn this version a Connection is no longer a context manager. Fix\nit by simply getting a Cursor out of it (locks don't seem to\ninteract with transactions, at least according to MariaDB docs).\n\nChange-Id: I5ea06ebd2b976465ff82f10a74e140f30e9e803f\n(cherry picked from commit d59b283440e96959e6ad1b9ce2aa154c31e71480)\n(cherry picked from commit 667e2ec1f4d179c1ec9bd5f89ed12a50cad71e24)\n""}]",1,792193,9febe34244f2ab428aa4efebcd714ccdb6d5dbce,4,2,1,15334,,,0,"Fix broken CI and PyMySQL support

This is a combination of two patches that depend on
each other to fix a breakage with PyMySQL 0.10.0 and
fixing the up the CI to a working state.

1. Blacklist etcd3gw 0.2.6

etcd3gw 0.2.6 was blacklisted in openstack/requirements [0], because
that version has a bug [1].

tooz does not use openstack/requirements' upper constraints, so the
same blacklisting needs to be introduced here in setup.cfg.

[0] Icb6873d8c5d3a3624c0ac3d76fc9125c5d8134b2
[1] https://github.com/dims/etcd3-gateway/issues/41

Change-Id: I22b955419014dd34c63e406c488e0636ffe9013b
Closes-Bug: #1891314
(cherry picked from commit 3f0759091c9fddf4d1486188015fc526e66cd73e)
(cherry picked from commit c8d77ee485746c4367528e542063d5a045c4b6f3)

2. Fix breakage with PyMySQL 0.10.0

In this version a Connection is no longer a context manager. Fix
it by simply getting a Cursor out of it (locks don't seem to
interact with transactions, at least according to MariaDB docs).

Change-Id: I5ea06ebd2b976465ff82f10a74e140f30e9e803f
(cherry picked from commit d59b283440e96959e6ad1b9ce2aa154c31e71480)
(cherry picked from commit 667e2ec1f4d179c1ec9bd5f89ed12a50cad71e24)
",git fetch https://review.opendev.org/openstack/tooz refs/changes/93/792193/1 && git format-patch -1 --stdout FETCH_HEAD,"['tooz/drivers/mysql.py', 'releasenotes/notes/mysql-0.10.0-7660f75a1c57a920.yaml', 'setup.cfg']",3,9febe34244f2ab428aa4efebcd714ccdb6d5dbce,fix-ci," etcd3gw!=0.2.6,>=0.1.0 # Apache-2.0", etcd3gw>=0.1.0 # Apache-2.0,14,10
openstack%2Ftooz~stable%2Ftrain~If233680e6a00a105a7a77a48386bcea9aaba18de,openstack/tooz,stable/train,If233680e6a00a105a7a77a48386bcea9aaba18de,Fix requirements for python2.7,ABANDONED,2021-05-19 15:41:58.000000000,2022-07-05 10:01:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-19 15:41:58.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tooz/commit/11e6d18a06d9b99147ad5fb640895044efeefc8c', 'message': 'Fix requirements for python2.7\n\nChange-Id: If233680e6a00a105a7a77a48386bcea9aaba18de\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,792194,11e6d18a06d9b99147ad5fb640895044efeefc8c,3,1,1,15334,,,0,"Fix requirements for python2.7

Change-Id: If233680e6a00a105a7a77a48386bcea9aaba18de
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/tooz refs/changes/94/792194/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'setup.cfg', 'tox.ini']",4,11e6d18a06d9b99147ad5fb640895044efeefc8c,fix-ci,basepython = python3.6,basepython = python3,9,4
openstack%2Ftooz~stable%2Ftrain~Ief3931d36b7f20860be733a498b3743d1f10938f,openstack/tooz,stable/train,Ief3931d36b7f20860be733a498b3743d1f10938f,TODO,ABANDONED,2022-07-05 10:00:15.000000000,2022-07-05 10:00:40.000000000,,[],"[{'number': 1, 'created': '2022-07-05 10:00:15.000000000', 'files': ['tooz/drivers/mysql.py', 'requirements.txt', 'test-requirements.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tooz/commit/8567cc924cec318144115b563155ae6cf6125254', 'message': ""TODO\n\nChanges:\n  setup.cfg\n  test-requirements.txt\n  tooz/drivers/mysql.py\n\nNOTE(stephenfin): We also need to set some caps for libraries that\nfailed to indicate that they had dropped Python 2.7 support using the\nproper 'python_requires' setuptools keyword (or equivalent). This\nincludes 'grpcio' and 'sysv-ipc' (dependencies on the 'etcd3' and 'ipc'\nextras in 'setup.cfg', respectively) and 'pifpaf' in\n'test-requirements.txt'. We also need to blacklist etcd3gw 0.2.6 to keep\nthe requirements job happy. This was done elsewhere via change\nI22b955419014dd34c63e406c488e0636ffe9013b. Finally, we need to fix a\nbreakage with PyMySQL 0.10.0. In that version a Connection is no longer\na context manager. We fix this by simply getting a Cursor out of it\n(locks don't seem to interact with transactions, at least according to\nMariaDB docs). This was done elsewhere via change\nI5ea06ebd2b976465ff82f10a74e140f30e9e803f.\n\nChange-Id: Ief3931d36b7f20860be733a498b3743d1f10938f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,848734,8567cc924cec318144115b563155ae6cf6125254,2,0,1,15334,,,0,"TODO

Changes:
  setup.cfg
  test-requirements.txt
  tooz/drivers/mysql.py

NOTE(stephenfin): We also need to set some caps for libraries that
failed to indicate that they had dropped Python 2.7 support using the
proper 'python_requires' setuptools keyword (or equivalent). This
includes 'grpcio' and 'sysv-ipc' (dependencies on the 'etcd3' and 'ipc'
extras in 'setup.cfg', respectively) and 'pifpaf' in
'test-requirements.txt'. We also need to blacklist etcd3gw 0.2.6 to keep
the requirements job happy. This was done elsewhere via change
I22b955419014dd34c63e406c488e0636ffe9013b. Finally, we need to fix a
breakage with PyMySQL 0.10.0. In that version a Connection is no longer
a context manager. We fix this by simply getting a Cursor out of it
(locks don't seem to interact with transactions, at least according to
MariaDB docs). This was done elsewhere via change
I5ea06ebd2b976465ff82f10a74e140f30e9e803f.

Change-Id: Ief3931d36b7f20860be733a498b3743d1f10938f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/tooz refs/changes/34/848734/1 && git format-patch -1 --stdout FETCH_HEAD,"['tooz/drivers/mysql.py', 'requirements.txt', 'test-requirements.txt', 'setup.cfg']",4,8567cc924cec318144115b563155ae6cf6125254,bug/1980079," grpcio>=1.18.0,<1.40.0;python_version=='2.7' grpcio>=1.18.0;python_version>='3.4' etcd3gw!=0.2.6,>=0.1.0 # Apache-2.0 sysv-ipc>=0.6.8,<1.0.0;python_version=='2.7' # BSD License sysv-ipc>=0.6.8;python_version>='3.4' # BSD License", grpcio>=1.18.0 etcd3gw>=0.1.0 # Apache-2.0 sysv-ipc>=0.6.8 # BSD License,19,14
openstack%2Fcharm-manila-ganesha~master~I4d3736300f75b9811f4f6525b5454c7e495ef566,openstack/charm-manila-ganesha,master,I4d3736300f75b9811f4f6525b5454c7e495ef566,Added NRPE checks for manila-ganesha charm.,MERGED,2022-06-30 06:51:20.000000000,2022-07-05 09:52:56.000000000,2022-07-05 09:52:56.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-30 06:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/7953cc79cce8f958c676581e69c651358059c660', 'message': 'Added NRPE checks for manila-ganesha charm.\n\n- added 3 basic checks to check: nfs connection, nfs services, and nfs shares\n- updated functional test to include nrpe functional test.\n\nFunctional test PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/806\n\nCloses-bug: #1925975\nChange-Id: I4d3736300f75b9811f4f6525b5454c7e495ef566\n'}, {'number': 2, 'created': '2022-06-30 07:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/be8ba3fb1f8e69e16d0e4c28d1d48df16cd255e0', 'message': 'Added NRPE checks for manila-ganesha charm.\n\n- added 3 basic checks to check: nfs connection, nfs services, and nfs shares\n- updated test bundles to include nrpe and nrpe-external-master for\n  functional tests.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/806\n\nCloses-bug: #1925975\nChange-Id: I4d3736300f75b9811f4f6525b5454c7e495ef566\n'}, {'number': 3, 'created': '2022-06-30 09:20:16.000000000', 'files': ['src/files/plugins/check_nfs_services', 'src/reactive/manila_ganesha.py', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'unit_tests/test_manila_ganesha_handlers.py', 'src/metadata.yaml', 'src/lib/nfs_ganesha_nrpe.py', 'src/layer.yaml', 'src/config.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/files/plugins/check_nfs_exports', 'src/files/plugins/check_nfs_conn', 'src/lib/charm/openstack/manila_ganesha.py'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/65ca408318ac637ef4787e61d5ec48f4d4477502', 'message': 'Added NRPE checks for manila-ganesha charm.\n\n- added 3 basic checks to check: nfs connection, nfs services, and nfs shares\n- updated test bundles to include nrpe and nrpe-external-master for\n  functional tests.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/806\n\nCloses-bug: #1925975\nChange-Id: I4d3736300f75b9811f4f6525b5454c7e495ef566\n'}]",5,848219,65ca408318ac637ef4787e61d5ec48f4d4477502,18,3,3,35007,,,0,"Added NRPE checks for manila-ganesha charm.

- added 3 basic checks to check: nfs connection, nfs services, and nfs shares
- updated test bundles to include nrpe and nrpe-external-master for
  functional tests.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/806

Closes-bug: #1925975
Change-Id: I4d3736300f75b9811f4f6525b5454c7e495ef566
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/19/848219/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/files/plugins/check_nfs_services', 'src/reactive/manila_ganesha.py', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'unit_tests/test_manila_ganesha_handlers.py', 'src/metadata.yaml', 'src/lib/nfs_ganesha_nrpe.py', 'src/layer.yaml', 'src/config.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/files/plugins/check_nfs_exports', 'src/files/plugins/check_nfs_conn', 'src/lib/charm/openstack/manila_ganesha.py']",13,7953cc79cce8f958c676581e69c651358059c660,bug/1925975,"from lib.nfs_ganesha_nrpe import ( install_nrpe_checks, install_nrpe_plugins, remove_nrpe_plugins, remove_nrpe_checks, ) def install_nrpe_checks(self, enable_cron=True): return install_nrpe_checks(enable_cron=enable_cron) def remove_nrpe_checks(self): remove_nrpe_checks() def install_nrpe_plugins(self): return install_nrpe_plugins() def remove_nrpe_plugins(self): remove_nrpe_plugins() ",,481,2
openstack%2Fopenstack-ansible-os_horizon~master~I5676d358d1ec38904fc067ab5f14711358f6031c,openstack/openstack-ansible-os_horizon,master,I5676d358d1ec38904fc067ab5f14711358f6031c,Release pyscss constraints,MERGED,2022-07-04 09:29:37.000000000,2022-07-05 09:38:30.000000000,2022-07-05 09:36:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-07-04 09:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/f676b73ed24dac06e09e383fb516800f3120979c', 'message': ""Release pyscss constraints\n\nWith [1] pyscss version was bumped to 1.4.0. With that horizon also\nrequires pyscss>=1.4.0 which means there's no need to additionally\nconstraint it.\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible/+/847272\n[1] https://opendev.org/openstack/requirements/commit/4fa5acc415610d1c0273bb9d5095bfef94060d9c\n\nChange-Id: I5676d358d1ec38904fc067ab5f14711358f6031c\n""}, {'number': 2, 'created': '2022-07-05 07:17:48.000000000', 'files': ['tasks/horizon_install_source.yml', 'zuul.d/project.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/2c9f231d6aea5d11f3033a5812656d96e757f206', 'message': ""Release pyscss constraints\n\nWith [1] pyscss version was bumped to 1.4.0. With that horizon also\nrequires pyscss>=1.4.0 which means there's no need to additionally\nconstraint it.\n\nWe also temporary disable all functional jobs to resolve circular\ndependency.\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible/+/847272\n[1] https://opendev.org/openstack/requirements/commit/4fa5acc415610d1c0273bb9d5095bfef94060d9c\n\nChange-Id: I5676d358d1ec38904fc067ab5f14711358f6031c\n""}]",0,848589,2c9f231d6aea5d11f3033a5812656d96e757f206,10,3,2,28619,,,0,"Release pyscss constraints

With [1] pyscss version was bumped to 1.4.0. With that horizon also
requires pyscss>=1.4.0 which means there's no need to additionally
constraint it.

We also temporary disable all functional jobs to resolve circular
dependency.

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible/+/847272
[1] https://opendev.org/openstack/requirements/commit/4fa5acc415610d1c0273bb9d5095bfef94060d9c

Change-Id: I5676d358d1ec38904fc067ab5f14711358f6031c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/89/848589/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/horizon_install_source.yml', 'defaults/main.yml']",2,f676b73ed24dac06e09e383fb516800f3120979c,,horizon_venv_extra_constraints: [],"horizon_venv_extra_constraints: - ""pyScss===1.3.7;python_version=='3.8'"" - ""pyScss===1.3.7;python_version=='3.9'"" - ""pyScss===1.4.0;python_version=='3.10'""",2,5
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Iec23801a9eec1830469a53ab5ffc641125b5d3ff,openstack/python-tripleoclient,stable/wallaby,Iec23801a9eec1830469a53ab5ffc641125b5d3ff,Fail the overcloud deploy is ceph-ansible.yaml is included,ABANDONED,2022-04-21 08:12:47.000000000,2022-07-05 09:35:35.000000000,,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-21 08:12:47.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b8d7aa46e06a1d6f032d7ee365578baf2870b092', 'message': 'Fail the overcloud deploy is ceph-ansible.yaml is included\n\nTripleO recently concluded the migration to the new ceph deployment\ntool (cephadm). The ceph-ansible.yaml environment file, however, is\nstill relevant in an upgrade context, where ceph-ansible rolling\nupdate playbook is executed.\nFor this reason, this patch introduces a new validation to make sure\nthis environment file and the related registry resources can be used\nduring the update/upgrade context but not when a regular overcloud\ndeploy or stack updates are executed.\n\nChange-Id: Iec23801a9eec1830469a53ab5ffc641125b5d3ff\n(cherry picked from commit c455a4142c18409d9f5207cd17222d176f4ae71c)\n'}]",7,838704,b8d7aa46e06a1d6f032d7ee365578baf2870b092,14,4,1,25402,,,0,"Fail the overcloud deploy is ceph-ansible.yaml is included

TripleO recently concluded the migration to the new ceph deployment
tool (cephadm). The ceph-ansible.yaml environment file, however, is
still relevant in an upgrade context, where ceph-ansible rolling
update playbook is executed.
For this reason, this patch introduces a new validation to make sure
this environment file and the related registry resources can be used
during the update/upgrade context but not when a regular overcloud
deploy or stack updates are executed.

Change-Id: Iec23801a9eec1830469a53ab5ffc641125b5d3ff
(cherry picked from commit c455a4142c18409d9f5207cd17222d176f4ae71c)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/04/838704/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",4,b8d7aa46e06a1d6f032d7ee365578baf2870b092,ceph_ansible_cleanup-stable/wallaby," # check if ceph-ansible env is present utils.check_ceph_ansible(env.get('resource_registry', {}), self.__class__.__name__)",,69,4
openstack%2Fneutron~master~Ib3f3318440c79909090616b9d480b8dbf55e7b81,openstack/neutron,master,Ib3f3318440c79909090616b9d480b8dbf55e7b81,Fix requirements for doc build,MERGED,2022-07-05 08:28:21.000000000,2022-07-05 09:33:11.000000000,2022-07-05 09:31:49.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2022-07-05 08:28:21.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/62568cf307449526fd0debb8c5faaa13f06f25eb', 'message': 'Fix requirements for doc build\n\nThe doc build needs WebTest, which used to be imported as a transitive\nrequirement via pecan, but the latest release of pecan dropped this\ndependency. So make this requirement explicit.\n\nChange-Id: Ib3f3318440c79909090616b9d480b8dbf55e7b81\n'}]",1,848706,62568cf307449526fd0debb8c5faaa13f06f25eb,10,6,1,13252,,,0,"Fix requirements for doc build

The doc build needs WebTest, which used to be imported as a transitive
requirement via pecan, but the latest release of pecan dropped this
dependency. So make this requirement explicit.

Change-Id: Ib3f3318440c79909090616b9d480b8dbf55e7b81
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/848706/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,62568cf307449526fd0debb8c5faaa13f06f25eb,fix-docs-requirement,WebTest>=2.0.27 # MIT,,1,0
openstack%2Freleases~master~I581a00019f59b453ef2ef7ac78fa1f9a9cea4ac0,openstack/releases,master,I581a00019f59b453ef2ef7ac78fa1f9a9cea4ac0,Release glance-tempest-plugin 0.4.0,MERGED,2022-07-01 10:16:16.000000000,2022-07-05 09:25:06.000000000,2022-07-05 09:25:06.000000000,"[{'_account_id': 9303}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-01 10:16:16.000000000', 'files': ['deliverables/zed/glance-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/120ba96d2fca33b8b885a3d8caa12a7f95f7d3e0', 'message': 'Release glance-tempest-plugin 0.4.0\n\nIntermediate release. There are a lot of changes compared\nto the previous tag (mostly RBAC-related)\n\nChange-Id: I581a00019f59b453ef2ef7ac78fa1f9a9cea4ac0\n'}]",1,848404,120ba96d2fca33b8b885a3d8caa12a7f95f7d3e0,9,4,1,10459,,,0,"Release glance-tempest-plugin 0.4.0

Intermediate release. There are a lot of changes compared
to the previous tag (mostly RBAC-related)

Change-Id: I581a00019f59b453ef2ef7ac78fa1f9a9cea4ac0
",git fetch https://review.opendev.org/openstack/releases refs/changes/04/848404/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/glance-tempest-plugin.yaml'],1,120ba96d2fca33b8b885a3d8caa12a7f95f7d3e0,glance-tempest-plugin,releases: - version: 0.4.0 projects: - repo: openstack/glance-tempest-plugin hash: 87df2f444b7e9e83dc56fbe7d5ac27c1c02fe37b,,5,0
openstack%2Fovn-octavia-provider~stable%2Fxena~Iad9839ce99d50b969924b3fe369301b6dfed369d,openstack/ovn-octavia-provider,stable/xena,Iad9839ce99d50b969924b3fe369301b6dfed369d,Delete vip port if create_vip_port raise exception,MERGED,2022-07-04 08:32:12.000000000,2022-07-05 09:15:05.000000000,2022-07-05 09:13:55.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-04 08:32:12.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/aae410fc85e7ca9341d37961731d16af369f2ab2', 'message': 'Delete vip port if create_vip_port raise exception\n\nSometimes on heavy load over Neutron, operations over\nneutron client could raise a NeutronClientException that\ncould cover, e.g. a timeout. In those case, sometimes the\nrequest finish after the client timeout and we have\nleftover resource.\n\ncreate_vip_port is called from Octavia API just before\nthe create LB request, if this call raise a timeout\nmaybe the vip port is finally created and linked to a LB\nthat is not going to be created, so we have this port\nunuse.\n\nThis patch will try to remove the leftover port for those\nsituations.\n\nCloses-Bug: #1973765\nChange-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d\n(cherry picked from commit cd3264a07e047b589e4064855169c37f17343e60)\n'}]",1,848579,aae410fc85e7ca9341d37961731d16af369f2ab2,12,3,1,34451,,,0,"Delete vip port if create_vip_port raise exception

Sometimes on heavy load over Neutron, operations over
neutron client could raise a NeutronClientException that
could cover, e.g. a timeout. In those case, sometimes the
request finish after the client timeout and we have
leftover resource.

create_vip_port is called from Octavia API just before
the create LB request, if this call raise a timeout
maybe the vip port is finally created and linked to a LB
that is not going to be created, so we have this port
unuse.

This patch will try to remove the leftover port for those
situations.

Closes-Bug: #1973765
Change-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d
(cherry picked from commit cd3264a07e047b589e4064855169c37f17343e60)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/79/848579/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,aae410fc85e7ca9341d37961731d16af369f2ab2,," @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') @mock.patch.object(ovn_helper.OvnProviderHelper, 'delete_vip_port') def test_create_vip_port_vip_neutron_client_other_exception( self, del_port, net_cli): net_cli.return_value.create_port.side_effect = [ n_exc.NeutronClientException] net_cli.return_value.list_ports.return_value = { 'ports': [ {'name': 'ovn-lb-vip-' + self.loadbalancer_id, 'id': self.loadbalancer_id}]} self.assertRaises( n_exc.NeutronClientException, self.helper.create_vip_port, self.project_id, self.loadbalancer_id, self.vip_dict) expected_call = [ mock.call().list_ports( network_id='%s' % self.vip_dict['vip_network_id'], name='%s%s' % (ovn_const.LB_VIP_PORT_PREFIX, self.loadbalancer_id))] net_cli.assert_has_calls(expected_call) del_port.assert_called_once_with(self.loadbalancer_id) self.helper._update_status_to_octavia.assert_not_called() ",,37,0
openstack%2Fneutron-tempest-plugin~master~I9fbcdd0f30beeb6985bab4de4d53af639f408c75,openstack/neutron-tempest-plugin,master,I9fbcdd0f30beeb6985bab4de4d53af639f408c75,Add a test for removing security group from ACTIVE instance,MERGED,2022-06-07 11:09:34.000000000,2022-07-05 08:40:42.000000000,2022-07-05 08:40:42.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 18894}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 28609}, {'_account_id': 28818}, {'_account_id': 29088}, {'_account_id': 29350}, {'_account_id': 31450}, {'_account_id': 32586}, {'_account_id': 33341}]","[{'number': 1, 'created': '2022-06-07 11:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/308db8a6de4580b4c7ab11247fc77ac8447d3d72', 'message': 'Add a test for removig security group from running instance\n\nNew test cases:\n\nTest name: ""test_remove_security_group_from_running_instance""\n1) Create a security group\n2) Create a VM\n3) Add security group to vm\n4) Delete the scurity group from vm\n\nChange-Id: I9fbcdd0f30beeb6985bab4de4d53af639f408c75\n'}, {'number': 2, 'created': '2022-06-08 17:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f30c271cda6c1bc39f3e04dede6e35c1379e150c', 'message': 'Add a test for removig security group from running instance\n\nNew test cases:\n\nTest name: ""test_remove_security_group_from_running_instance""\n1) Create a security group\n2) Create a VM\n3) Add security group to vm\n4) Delete the scurity group from vm\n\nChange-Id: I9fbcdd0f30beeb6985bab4de4d53af639f408c75\n'}, {'number': 3, 'created': '2022-06-09 14:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/87b9b2b45497e817b0d1beafd85dbde98c6feac1', 'message': 'Add a test for removing security group from running instance\n\nNew test cases:\n\nTest name: ""test_remove_security_group_from_running_instance""\n1) Create a security group\n2) Create a VM\n3) Add security group to vm\n4) Delete the scurity group from vm\n\nChange-Id: I9fbcdd0f30beeb6985bab4de4d53af639f408c75\n'}, {'number': 4, 'created': '2022-06-13 07:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a9590fa3b301472df8b879d8b7ff8e4e4717ac14', 'message': 'Add a test for removing security group from running instance\n\nNew test cases:\n\nTest name: ""test_remove_security_group_from_running_instance""\n1) Create a security group\n2) Create a VM\n3) Add security group to vm\n4) Delete the security group from vm\n\nChange-Id: I9fbcdd0f30beeb6985bab4de4d53af639f408c75\n'}, {'number': 5, 'created': '2022-06-20 16:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ccbf6abcaaa46d06fc42b21b4c80389b72e4c3b2', 'message': 'Add a test for removing security group from running instance\n\nNew test cases:\n\nTest name: ""test_remove_security_group_from_running_instance""\n1) Create a security group\n2) Create a VM\n3) Add security group to vm\n4) Delete the scurity group from vm\n\nChange-Id: I9fbcdd0f30beeb6985bab4de4d53af639f408c75\n'}, {'number': 6, 'created': '2022-06-21 08:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/039923c8b25ca5a75cedb56e097ca55d1f1871c7', 'message': 'Add a test for removing security group from ACTIVE instance\n\nTest cases:\n\nTest name: ""test_remove_sec_grp_from_active_vm""\n1) Create SG associated with ICMP rule\n2) Create VM and Port\n3) Ping the VM\n4) Remove the scurity group from vm\n5) ensure that PING fails\nChange-Id: I9fbcdd0f30beeb6985bab4de4d53af639f408c75\n'}, {'number': 7, 'created': '2022-06-21 08:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7ea7a1f7133855cc3442160143a5725fdb4f4d9c', 'message': 'Add a test for removing security group from ACTIVE instance\n\nTest cases:\n\nTest name: ""test_remove_sec_grp_from_active_vm""\n1) Create SG associated with ICMP rule\n2) Create VM and Port\n3) Ping the VM\n4) Remove the scurity group from vm\n5) Ensure that PING fails\nChange-Id: I9fbcdd0f30beeb6985bab4de4d53af639f408c75\n'}, {'number': 8, 'created': '2022-06-21 08:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0a0bdfc2174c0e99709edcde95d28aaeaf6ce598', 'message': 'Add a test for removing security group from running instance\n\nNew test cases:\n\nTest name: ""test_remove_security_group_from_running_instance""\n1) Create a security group\n2) Create a VM\n3) Add security group to vm\n4) Delete the scurity group from vm\n\nChange-Id: I9fbcdd0f30beeb6985bab4de4d53af639f408c75\n'}, {'number': 9, 'created': '2022-06-21 08:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/25c92666785d364e305607a7dd0754abb8ac843e', 'message': 'Add a test for removing security group from ACTIVE instance\n\nTest cases:\n\nTest name: ""test_remove_sec_grp_from_active_vm""\n1) Create SG associated with ICMP rule\n2) Create VM and Port\n3) Ping the VM\n4) Remove the scurity group from vm\n5) Ensure that PING fails\nChange-Id: I9fbcdd0f30beeb6985bab4de4d53af639f408c75\n'}, {'number': 10, 'created': '2022-06-21 16:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f792a158b2dd1ea4f1b197a94935b8e1b633cd9b', 'message': 'Add a test for removing security group from ACTIVE instance\n\nTest name: ""test_remove_sec_grp_from_active_vm""\n1) Create SG associated with ICMP rule\n2) Create Port (assoiated to SG #1) and use it to create the VM\n3) Ping the VM, expected should be PASS\n4) Remove the security group from VM by Port update\n5) Ping the VM, expected should be FAIL\n\nChange-Id: I9fbcdd0f30beeb6985bab4de4d53af639f408c75\n'}, {'number': 11, 'created': '2022-06-21 20:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/88ca02953c6cd0d8794ff67a9f59601f2c354dd0', 'message': 'Add a test for removing security group from ACTIVE instance\n\nTest name: ""test_remove_sec_grp_from_active_vm""\n1) Create SG associated with ICMP rule\n2) Create Port (assoiated to SG #1) and use it to create the VM\n3) Ping the VM, expected should be PASS\n4) Remove the security group from VM by Port update\n5) Ping the VM, expected should be FAIL\n\nChange-Id: I9fbcdd0f30beeb6985bab4de4d53af639f408c75\n'}, {'number': 12, 'created': '2022-06-22 15:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5f0fbb12e89594294c884f5e8467299afe6f7220', 'message': 'Add a test for removing security group from ACTIVE instance\n\nTest name: ""test_remove_sec_grp_from_active_vm""\n1) Create SG associated with ICMP rule\n2) Create Port (assoiated to SG #1) and use it to create the VM\n3) Ping the VM, expected should be PASS\n4) Remove the security group from VM by Port update\n5) Ping the VM, expected should be FAIL\n\nChange-Id: I9fbcdd0f30beeb6985bab4de4d53af639f408c75\n'}, {'number': 13, 'created': '2022-06-22 20:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/80648b5463a3e47800c7b6ae2db63bd19e83807a', 'message': 'Add a test for removing security group from ACTIVE instance\n\nTest name: ""test_remove_sec_grp_from_active_vm""\n1) Create SG associated with ICMP rule\n2) Create Port (assoiated to SG #1) and use it to create the VM\n3) Ping the VM, expected should be PASS\n4) Remove the security group from VM by Port update\n5) Ping the VM, expected should be FAIL\n\nChange-Id: I9fbcdd0f30beeb6985bab4de4d53af639f408c75\n'}, {'number': 14, 'created': '2022-06-28 10:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/080f8604b35a2edadd71b36d5ea7366f3d179374', 'message': 'Add a test for removing security group from ACTIVE instance\n\nTest name: ""test_remove_sec_grp_from_active_vm""\n1) Create SG associated with ICMP rule\n2) Create Port (assoiated to SG #1) and use it to create the VM\n3) Ping the VM, expected should be PASS\n4) Remove the security group from VM by Port update\n5) Ping the VM, expected should be FAIL\n\nChange-Id: I9fbcdd0f30beeb6985bab4de4d53af639f408c75\n'}, {'number': 15, 'created': '2022-06-28 11:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/73c21fe1e43542983a5a2bb95b147941b79f03fc', 'message': 'Add a test for removing security group from ACTIVE instance\n\nTest name: ""test_remove_sec_grp_from_active_vm""\n1) Create SG associated with ICMP rule\n2) Create Port (assoiated to SG #1) and use it to create the VM\n3) Ping the VM, expected should be PASS\n4) Remove the security group from VM by Port update\n5) Ping the VM, expected should be FAIL\n\nChange-Id: I9fbcdd0f30beeb6985bab4de4d53af639f408c75\n'}, {'number': 16, 'created': '2022-06-29 08:22:51.000000000', 'files': ['neutron_tempest_plugin/scenario/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e3230013a6bfd6410fa7edbf92bb307f9c8eb237', 'message': 'Add a test for removing security group from ACTIVE instance\n\nTest name: ""test_remove_sec_grp_from_active_vm""\n1) Create SG associated with ICMP rule\n2) Create Port (assoiated to SG #1) and use it to create the VM\n3) Ping the VM, expected should be PASS\n4) Remove the security group from VM by Port update\n5) Ping the VM, expected should be FAIL\n\nChange-Id: I9fbcdd0f30beeb6985bab4de4d53af639f408c75\n'}]",116,844958,e3230013a6bfd6410fa7edbf92bb307f9c8eb237,67,13,16,34819,,,0,"Add a test for removing security group from ACTIVE instance

Test name: ""test_remove_sec_grp_from_active_vm""
1) Create SG associated with ICMP rule
2) Create Port (assoiated to SG #1) and use it to create the VM
3) Ping the VM, expected should be PASS
4) Remove the security group from VM by Port update
5) Ping the VM, expected should be FAIL

Change-Id: I9fbcdd0f30beeb6985bab4de4d53af639f408c75
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/58/844958/8 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_security_groups.py'],1,308db8a6de4580b4c7ab11247fc77ac8447d3d72,," servers=servers) security_groups=[{'name': ssh_sg['name']}]) device_id=vms[1]['server']['id'])['ports'][0] security_groups=[ssh_sg['id'], sg['id']]) srv_port['id'], security_groups=[ssh_sg['id']]) security_groups=[ssh_sg['id'], sg['id']]) security_groups=[ssh_sg['id']]) security_groups=[ssh_sg['id'], sg['id']]) device_id=srv_vm['server']['id'])['ports'][0] device_id=vm['server']['id'])['ports'][0] security_groups=[secgrps[0]['id'], secgrps[1]['id']]) @decorators.idempotent_id('96dcd5ff-9d45-4e0d-bea0-0b438cbd388f') def test_remove_security_group_from_running_instance(self): # Try to remove SG from running VM # create sg & vm test_sg = self.os_primary.network_client.create_security_group( name='sec-grp_name') self.security_groups.append(test_sg['security_group']) server_args = { 'flavor_ref': CONF.compute.flavor_ref, 'image_ref': CONF.compute.image_ref, 'key_name': self.keypair['name'], 'networks': [{'uuid': self.network['id']}], } server = self.create_server(**server_args) server['security_groups'] = 'sec-grp_name' security_group_id = None for i in range(len(self.security_groups)): if self.security_groups[i]['name'] == 'sec-grp_name': security_group_id = self.security_groups[i]['id'] break # Deleting the ""sec-grp_name"" Security Group self.security_groups.remove(security_group_id) "," servers=servers) security_groups=[{'name': ssh_sg['name']}]) device_id=vms[1]['server']['id'])['ports'][0] security_groups=[ssh_sg['id'], sg['id']]) srv_port['id'], security_groups=[ssh_sg['id']]) security_groups=[ssh_sg['id'], sg['id']]) security_groups=[ssh_sg['id']]) security_groups=[ssh_sg['id'], sg['id']]) device_id=srv_vm['server']['id'])['ports'][0] device_id=vm['server']['id'])['ports'][0] security_groups=[secgrps[0]['id'], secgrps[1]['id']])",35,11
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ida8e79d5cf1a4ecf80dbe855798c3732ced06260,openstack/tripleo-heat-templates,stable/wallaby,Ida8e79d5cf1a4ecf80dbe855798c3732ced06260,ironic tftp: Do not format IPv6 address for bind_host,MERGED,2022-07-04 16:40:18.000000000,2022-07-05 08:38:07.000000000,2022-07-05 08:38:07.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-07-04 16:40:18.000000000', 'files': ['deployment/ironic/ironic-conductor-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e36b018e86cb0d668c0121849a34d172df1c5be5', 'message': 'ironic tftp: Do not format IPv6 address for bind_host\n\ndnsmasq does not accept IPv6 addresses surrounded by [] and we should\npass a raw IP string without [].\n\nConflicts:\n\tdeployment/ironic/ironic-conductor-container-puppet.yaml\n\nResolved conflict caused by replacement of the hiera functions.\n\nCloses-Bug: #1978892\nChange-Id: Ida8e79d5cf1a4ecf80dbe855798c3732ced06260\n(cherry picked from commit 3290e6f9de3a905085a6e29ebb4cbf9f2d8d41db)\n'}]",0,848651,e36b018e86cb0d668c0121849a34d172df1c5be5,9,5,1,9816,,,0,"ironic tftp: Do not format IPv6 address for bind_host

dnsmasq does not accept IPv6 addresses surrounded by [] and we should
pass a raw IP string without [].

Conflicts:
	deployment/ironic/ironic-conductor-container-puppet.yaml

Resolved conflict caused by replacement of the hiera functions.

Closes-Bug: #1978892
Change-Id: Ida8e79d5cf1a4ecf80dbe855798c3732ced06260
(cherry picked from commit 3290e6f9de3a905085a6e29ebb4cbf9f2d8d41db)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/848651/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-conductor-container-puppet.yaml'],1,e36b018e86cb0d668c0121849a34d172df1c5be5,bug/1978892," ""%{hiera('$NETWORK')}"""," ""%{hiera('$NETWORK_uri')}""",1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id5c6cf3e41e22ee5275d0fd822b313333bfa1b33,openstack/tripleo-heat-templates,stable/wallaby,Id5c6cf3e41e22ee5275d0fd822b313333bfa1b33,Ironic: Use generated dnsmasq conf file,MERGED,2022-06-16 01:36:05.000000000,2022-07-05 08:38:04.000000000,2022-07-05 08:38:04.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-16 01:36:05.000000000', 'files': ['deployment/ironic/ironic-pxe-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/323f78eeb6beeaa5dc850234460b3e7478c2b559', 'message': 'Ironic: Use generated dnsmasq conf file\n\nCurrent puppet-ironic supports generating config file to run dnsmasq\nas tftp server.\n\nThis change replaces usage of hiera CLI by the generated file to reduce\nusage of deprecated hiera CLI.\n\nConflicts:\n\tdeployment/ironic/ironic-pxe-container-puppet.yaml\n\nresolved a conflict caused by ebab335f3826eabb8d3ec4434cc6d010a4ff453a\n\nChange-Id: Id5c6cf3e41e22ee5275d0fd822b313333bfa1b33\n(cherry picked from commit 881334004ad45ee7e962e42db45c7011fc26f045)\n'}]",2,846079,323f78eeb6beeaa5dc850234460b3e7478c2b559,14,5,1,9816,,,0,"Ironic: Use generated dnsmasq conf file

Current puppet-ironic supports generating config file to run dnsmasq
as tftp server.

This change replaces usage of hiera CLI by the generated file to reduce
usage of deprecated hiera CLI.

Conflicts:
	deployment/ironic/ironic-pxe-container-puppet.yaml

resolved a conflict caused by ebab335f3826eabb8d3ec4434cc6d010a4ff453a

Change-Id: Id5c6cf3e41e22ee5275d0fd822b313333bfa1b33
(cherry picked from commit 881334004ad45ee7e962e42db45c7011fc26f045)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/846079/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-pxe-container-puppet.yaml'],1,323f78eeb6beeaa5dc850234460b3e7478c2b559,, config_settings: ironic::pxe::tftp_use_xinetd: false command: /usr/sbin/dnsmasq -k --log-facility=/var/log/ironic/dnsmasq.log --user=root --conf-file=/etc/ironic/dnsmasq-tftp-server.conf," config_settings: {} command: ['/bin/bash', '-c', 'BIND_HOST=$(hiera ironic::pxe::tftp_bind_host -c /etc/puppet/hiera.yaml); /usr/sbin/dnsmasq --keep-in-foreground --log-facility=/var/log/ironic/dnsmasq.log --user=root --conf-file=/dev/null --listen-address=$BIND_HOST --port=0 --enable-tftp --tftp-root=/var/lib/ironic/tftpboot']",3,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b,openstack/tripleo-heat-templates,stable/wallaby,Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b,Fix service dependency on libvirt daemons,MERGED,2022-05-30 13:33:16.000000000,2022-07-05 08:38:00.000000000,2022-07-05 08:38:00.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-30 13:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18df07dac5e702469e1eb16e527542bad01434ba', 'message': 'Fix service dependency on libvirt daemons\n\nSince commit 768b66f885cd43552e63acfeb6c2ab68a5668e90 was merged,\nTripleO deploys modular libvirt daemons instead of monolithic one.\n\nWhen modular libvirt daemons are used, the nova_libvirt container is\nno longer used and service dependency should rely on individual daemons\nlike nova_virtqemud.\n\nThis change introduces the new tripleo_nova_libvirt.target systemd unit\nso that we can define service dependencies more easily and consisently.\n\nCloses-Bug: #1967021\nChange-Id: Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b\n(cherry picked from commit 11fbf75dd2021be1f73b47cb7d1b9b90108be0f3)\n'}, {'number': 2, 'created': '2022-05-31 11:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e242ef6ee983dbb7b72ee4e79449e5481ee8096', 'message': 'Fix service dependency on libvirt daemons\n\nSince commit 768b66f885cd43552e63acfeb6c2ab68a5668e90 was merged,\nTripleO deploys modular libvirt daemons instead of monolithic one.\n\nWhen modular libvirt daemons are used, the nova_libvirt container is\nno longer used and service dependency should rely on individual daemons\nlike nova_virtqemud.\n\nThis change introduces the new tripleo_nova_libvirt.target systemd unit\nso that we can define service dependencies more easily and consisently.\n\nCloses-Bug: #1967021\nChange-Id: Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b\n(cherry picked from commit 11fbf75dd2021be1f73b47cb7d1b9b90108be0f3)\n'}, {'number': 3, 'created': '2022-06-01 11:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ecbcf8ea7b532d9aede43de41c111f00caed348b', 'message': 'Fix service dependency on libvirt daemons\n\nSince commit 768b66f885cd43552e63acfeb6c2ab68a5668e90 was merged,\nTripleO deploys modular libvirt daemons instead of monolithic one.\n\nWhen modular libvirt daemons are used, the nova_libvirt container is\nno longer used and service dependency should rely on individual daemons\nlike nova_virtqemud.\n\nThis change introduces the new tripleo_nova_libvirt.target systemd unit\nso that we can define service dependencies more easily and consisently.\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nCloses-Bug: #1967021\nChange-Id: Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b\n(cherry picked from commit 11fbf75dd2021be1f73b47cb7d1b9b90108be0f3)\n'}, {'number': 4, 'created': '2022-06-07 12:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7d074581fe2e49fc62d42609d15806976a2fdfe', 'message': 'Fix service dependency on libvirt daemons\n\nSince commit 768b66f885cd43552e63acfeb6c2ab68a5668e90 was merged,\nTripleO deploys modular libvirt daemons instead of monolithic one.\n\nWhen modular libvirt daemons are used, the nova_libvirt container is\nno longer used and service dependency should rely on individual daemons\nlike nova_virtqemud.\n\nThis change introduces the new tripleo_nova_libvirt.target systemd unit\nso that we can define service dependencies more easily and consisently.\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nCloses-Bug: #1967021\nChange-Id: Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b\n(cherry picked from commit d15794339bd4ad0d4a37bbb8083dc9bb9052e0e9)\n'}, {'number': 5, 'created': '2022-06-21 11:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/671b5bf85cecc51521a1ea729e2f3cca8d56bc77', 'message': 'Fix service dependency on libvirt daemons\n\nSince commit 768b66f885cd43552e63acfeb6c2ab68a5668e90 was merged,\nTripleO deploys modular libvirt daemons instead of monolithic one.\n\nWhen modular libvirt daemons are used, the nova_libvirt container is\nno longer used and service dependency should rely on individual daemons\nlike nova_virtqemud.\n\nThis change introduces the new tripleo_nova_libvirt.target systemd unit\nso that we can define service dependencies more easily and consisently.\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nCloses-Bug: #1967021\nChange-Id: Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b\n(cherry picked from commit d15794339bd4ad0d4a37bbb8083dc9bb9052e0e9)\n'}, {'number': 6, 'created': '2022-06-23 13:40:16.000000000', 'files': ['deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b8039b81d72cfb6bd0d799195ccb92ae2ab046c', 'message': 'Fix service dependency on libvirt daemons\n\nSince commit 768b66f885cd43552e63acfeb6c2ab68a5668e90 was merged,\nTripleO deploys modular libvirt daemons instead of monolithic one.\n\nWhen modular libvirt daemons are used, the nova_libvirt container is\nno longer used and service dependency should rely on individual daemons\nlike nova_virtqemud.\n\nThis change introduces the new tripleo_nova_libvirt.target systemd unit\nso that we can define service dependencies more easily and consisently.\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nCloses-Bug: #1967021\nChange-Id: Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b\n(cherry picked from commit d15794339bd4ad0d4a37bbb8083dc9bb9052e0e9)\n'}]",4,843866,1b8039b81d72cfb6bd0d799195ccb92ae2ab046c,37,6,6,6926,,,0,"Fix service dependency on libvirt daemons

Since commit 768b66f885cd43552e63acfeb6c2ab68a5668e90 was merged,
TripleO deploys modular libvirt daemons instead of monolithic one.

When modular libvirt daemons are used, the nova_libvirt container is
no longer used and service dependency should rely on individual daemons
like nova_virtqemud.

This change introduces the new tripleo_nova_libvirt.target systemd unit
so that we can define service dependencies more easily and consisently.

Co-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>
Closes-Bug: #1967021
Change-Id: Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b
(cherry picked from commit d15794339bd4ad0d4a37bbb8083dc9bb9052e0e9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/843866/5 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml']",3,18df07dac5e702469e1eb16e527542bad01434ba,bug/1967021-stable/wallaby, - - name: Set up systemd target for libvirt services when: step|int == 4 block: - name: Create systemd file copy: dest: /etc/systemd/system/tripleo_nova_libvirt.target mode: '0644' owner: root group: root content: | [Unit] Wants=tripleo_nova_virtsecretd.service Wants=tripleo_nova_virtnodedevd.service Wants=tripleo_nova_virtstoraged.service Wants=tripleo_nova_virtproxyd.service Wants=tripleo_nova_virtqemud.service After=tripleo_nova_virtsecretd.service After=tripleo_nova_virtnodedevd.service After=tripleo_nova_virtstoraged.service After=tripleo_nova_virtproxyd.service After=tripleo_nova_virtqemud.service become: true register: libvirt_target_result - name: Reload systemd systemd: name: tripleo_nova_libvirt.target enabled: true state: restarted daemon_reload: true become: true when: libvirtd_target_result.changed,,56,2
openstack%2Fopenstack-zuul-jobs~master~I29f201332286eb975e522802c6d96cc892ad2cd2,openstack/openstack-zuul-jobs,master,I29f201332286eb975e522802c6d96cc892ad2cd2,WIP: Update 'src/' by prepending zuul build uuid,ABANDONED,2020-06-16 17:35:19.000000000,2022-07-05 08:30:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-16 17:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b0a0eaf39c5baec66883b5ccc0a8f31e600b6088', 'message': ""WIP: Update legacy pre.yaml to use build uuid in repo_dir_src ?\n\nWhen using max-parallel-jobs>1 for nodepool static provider, 2+ jobs will\noverlap and prepare-workspace will remove files created by an already running\njobs\nThus 'uuid' is added to 'src_dir'\n\nDepends-On: Circular Dependency Ib78ce4272995680f37ddede73fe6622bcb5c9443\nChange-Id: I29f201332286eb975e522802c6d96cc892ad2cd2\n""}, {'number': 2, 'created': '2020-06-16 21:55:36.000000000', 'files': ['playbooks/release/announce.yaml', 'playbooks/legacy/pre.yaml', 'roles/build-wheel-cache/tasks/main.yaml', 'playbooks/release/pre.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/5cf606793f4d8e7c7989afb2bd94f51551edc409', 'message': ""WIP: Update 'src/' by prepending zuul build uuid\n\nWhen using max-parallel-jobs>1 for nodepool static provider, 2+ jobs will\noverlap and prepare-workspace will remove files created by an already running\njobs\nThus 'src/' is prepended with zuul build 'uuid'\n\nDepends-On: Circular Dependency Ib78ce4272995680f37ddede73fe6622bcb5c9443\nChange-Id: I29f201332286eb975e522802c6d96cc892ad2cd2\n""}]",0,735979,5cf606793f4d8e7c7989afb2bd94f51551edc409,6,1,2,31905,,,0,"WIP: Update 'src/' by prepending zuul build uuid

When using max-parallel-jobs>1 for nodepool static provider, 2+ jobs will
overlap and prepare-workspace will remove files created by an already running
jobs
Thus 'src/' is prepended with zuul build 'uuid'

Depends-On: Circular Dependency Ib78ce4272995680f37ddede73fe6622bcb5c9443
Change-Id: I29f201332286eb975e522802c6d96cc892ad2cd2
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/79/735979/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/pre.yaml'],1,b0a0eaf39c5baec66883b5ccc0a8f31e600b6088,zuul-build-workspace-uuid," # does this need to be update to: # repo_src_dir: ""{{ ansible_user_dir }}/{{ zuul.build }}/src/opendev.org"" # due to https://review.opendev.org/#/q/Ib78ce4272995680f37ddede73fe6622bcb5c9443",,3,0
openstack%2Fneutron-lib~master~I940cb6b66a9d79b45fb29db1afdfea1aea621f76,openstack/neutron-lib,master,I940cb6b66a9d79b45fb29db1afdfea1aea621f76,Remove unused placement constants,MERGED,2022-07-01 13:22:34.000000000,2022-07-05 08:15:21.000000000,2022-07-05 08:13:34.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-07-01 13:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/aed9b89096cf3cd83f1321c6f1cf85ab9e8b48c7', 'message': 'Remove unused placement constants\n\nNeutron now uses os-resources-classes lib constants [1],\nneutron-lib constants can be removed.\n\n1) https://review.opendev.org/c/openstack/neutron/+/799676/\n\nChange-Id: I940cb6b66a9d79b45fb29db1afdfea1aea621f76\n'}, {'number': 2, 'created': '2022-07-04 13:31:33.000000000', 'files': ['neutron_lib/placement/constants.py', 'releasenotes/notes/remove-resource-classes-constants-81f01eaed9ac463d.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/89dc650220244628ea78f58ea2771a2ca0c63a73', 'message': 'Remove unused placement constants\n\nNeutron now uses os-resources-classes lib constants [1],\nneutron-lib constants can be removed.\n\n1) https://review.opendev.org/c/openstack/neutron/+/799676/\n\nChange-Id: I940cb6b66a9d79b45fb29db1afdfea1aea621f76\n'}]",3,848445,89dc650220244628ea78f58ea2771a2ca0c63a73,14,5,2,32667,,,0,"Remove unused placement constants

Neutron now uses os-resources-classes lib constants [1],
neutron-lib constants can be removed.

1) https://review.opendev.org/c/openstack/neutron/+/799676/

Change-Id: I940cb6b66a9d79b45fb29db1afdfea1aea621f76
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/45/848445/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/placement/constants.py'],1,aed9b89096cf3cd83f1321c6f1cf85ab9e8b48c7,remove_constants,,"# TODO(przszc): Remove resource classes constants with next major release of # neutron-lib. There were only a few occurrences in neutron source code where # those constants were used, and all of them were replaced with # os-resource-classes lib. # **DEPRECATED** resource classes CLASS_NET_BW_EGRESS_KBPS = 'NET_BW_EGR_KILOBIT_PER_SEC' CLASS_NET_BW_INGRESS_KBPS = 'NET_BW_IGR_KILOBIT_PER_SEC' ",0,8
openstack%2Fcharm-neutron-openvswitch~master~I991fb6943d833d45e632358141b130c0f2225c09,openstack/charm-neutron-openvswitch,master,I991fb6943d833d45e632358141b130c0f2225c09,add nagios checks,MERGED,2021-11-02 15:29:28.000000000,2022-07-05 08:10:13.000000000,2022-07-05 08:10:13.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-02 15:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/ac63fbe168779d2d2e68f6315ff97ddf058c0f53', 'message': '[WIP] add nagios checks\n\nUpdates charmhelpers for nrpe; adds metadata and config entries for nrpe relation; adds services and ovs liveliness nrpe checks.\n\nChange-Id: I991fb6943d833d45e632358141b130c0f2225c09\n'}, {'number': 2, 'created': '2021-11-02 16:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/492decd08a64fb95ba56fdbf9f58ff60912caffe', 'message': '[WIP] add nagios checks\n\nUpdates charmhelpers for nrpe; adds metadata and config entries for nrpe relation; adds services and ovs liveliness nrpe checks.\n\nChange-Id: I991fb6943d833d45e632358141b130c0f2225c09\n'}, {'number': 3, 'created': '2021-11-02 19:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/74a465f1bf490456837886ccff2f921a0fc890fc', 'message': '[WIP] add nagios checks\n\nUpdates charmhelpers for nrpe; adds metadata and config entries for nrpe relation; adds services and ovs liveliness nrpe checks.\n\nChange-Id: I991fb6943d833d45e632358141b130c0f2225c09\n'}, {'number': 4, 'created': '2021-11-03 15:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/8872a76b4222e18d467debdbada5ec781fcb087b', 'message': '[WIP] add nagios checks\n\nUpdates charmhelpers for nrpe; adds metadata and config entries for nrpe relation; adds services and ovs liveliness nrpe checks.\n\nChange-Id: I991fb6943d833d45e632358141b130c0f2225c09\n'}, {'number': 5, 'created': '2021-11-03 19:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/53fe0e59a189698a670c38e0c822aa7d66b2853b', 'message': 'add nagios checks\n\nUpdates charmhelpers for nrpe; adds metadata and config entries for nrpe relation; adds services and ovs liveliness nrpe checks.\n\nChange-Id: I991fb6943d833d45e632358141b130c0f2225c09\n'}, {'number': 6, 'created': '2021-12-17 11:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/9881d94825d03ed557632cd7ef7ab351c86adae3', 'message': 'add nagios checks\n\nUpdates charmhelpers for nrpe; adds metadata and config entries for nrpe relation; adds services and ovs liveliness nrpe checks.\n\nChange-Id: I991fb6943d833d45e632358141b130c0f2225c09\n'}, {'number': 7, 'created': '2022-05-24 14:14:44.000000000', 'files': ['hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/neutron_ovs_hooks.py', 'files/ovs_vsctl/cron_ovs_vsctl.sh', 'config.yaml', 'charm-helpers-hooks.yaml', 'hooks/nrpe-external-master-relation-changed', 'hooks/nrpe-external-master-relation-joined', 'unit_tests/test_neutron_ovs_hooks.py', 'hooks/charmhelpers/contrib/charmsupport/volumes.py', 'files/ovs_vsctl/check_ovs_vsctl.py', 'metadata.yaml', 'hooks/charmhelpers/contrib/charmsupport/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/7929fc4909cadad1c2dff93979fd108b62ff8648', 'message': 'add nagios checks\n\nUpdates charmhelpers for nrpe; adds metadata and config entries for nrpe relation; adds services and ovs liveliness nrpe checks.\n\nChange-Id: I991fb6943d833d45e632358141b130c0f2225c09\n'}]",5,816366,7929fc4909cadad1c2dff93979fd108b62ff8648,25,3,7,33613,,,0,"add nagios checks

Updates charmhelpers for nrpe; adds metadata and config entries for nrpe relation; adds services and ovs liveliness nrpe checks.

Change-Id: I991fb6943d833d45e632358141b130c0f2225c09
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/66/816366/3 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/charmsupport/volumes.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'files/ovs_vsctl/check_ovs_vsctl.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/neutron_ovs_hooks.py', 'files/ovs_vsctl/cron_ovs_vsctl.sh', 'config.yaml', 'metadata.yaml', 'charm-helpers-hooks.yaml', 'hooks/charmhelpers/contrib/charmsupport/__init__.py']",11,ac63fbe168779d2d2e68f6315ff97ddf058c0f53,,"# Copyright 2014-2015 Canonical Limited. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ",,854,5
openstack%2Fpython-saharaclient~master~I921aabf6df8f783302815ba2a8d6bbe90710ac63,openstack/python-saharaclient,master,I921aabf6df8f783302815ba2a8d6bbe90710ac63,Switch openstack-python3-zed-jobs,ABANDONED,2022-06-15 07:02:04.000000000,2022-07-05 07:59:46.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30077}]","[{'number': 1, 'created': '2022-06-15 07:02:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/d540251dbf819c8327c3950ebca9a3e2ca9c9b6a', 'message': 'Switch openstack-python3-zed-jobs\n\nIn Zed, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I921aabf6df8f783302815ba2a8d6bbe90710ac63\n'}]",1,845885,d540251dbf819c8327c3950ebca9a3e2ca9c9b6a,4,4,1,34665,,,0,"Switch openstack-python3-zed-jobs

In Zed, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I921aabf6df8f783302815ba2a8d6bbe90710ac63
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/85/845885/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d540251dbf819c8327c3950ebca9a3e2ca9c9b6a,, - openstack-python3-zed-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Freleases~master~If8ccdad6b6e79f812d10058bc05f032ae596289a,openstack/releases,master,If8ccdad6b6e79f812d10058bc05f032ae596289a,Release trove-dashboard for stable/wallaby,MERGED,2022-06-28 10:31:22.000000000,2022-07-05 07:48:05.000000000,2022-07-05 07:48:05.000000000,"[{'_account_id': 6732}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-28 10:31:22.000000000', 'files': ['deliverables/wallaby/trove-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/31668d88719eddb5c7ff3ce09ff77b7cf3a37796', 'message': 'Release trove-dashboard for stable/wallaby\n\nThis release picks up new commits to trove-dashboard since\nthe last release from stable/wallaby.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 16.0.0..3a6e79c\n3a6e79c Fix the configuration issue\n5d40d07 Fix log actions\na0da9cd Fix nova client initialization in multi-region cloud\nc3f0c85 Change the configuration group panel name\n7c0cdbd Update TOX_CONSTRAINTS_FILE for stable/wallaby\neebe6c2 Update .gitreview for stable/wallaby\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: If8ccdad6b6e79f812d10058bc05f032ae596289a\n'}]",1,847940,31668d88719eddb5c7ff3ce09ff77b7cf3a37796,9,5,1,17685,,,0,"Release trove-dashboard for stable/wallaby

This release picks up new commits to trove-dashboard since
the last release from stable/wallaby.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 16.0.0..3a6e79c
3a6e79c Fix the configuration issue
5d40d07 Fix log actions
a0da9cd Fix nova client initialization in multi-region cloud
c3f0c85 Change the configuration group panel name
7c0cdbd Update TOX_CONSTRAINTS_FILE for stable/wallaby
eebe6c2 Update .gitreview for stable/wallaby

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: If8ccdad6b6e79f812d10058bc05f032ae596289a
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/847940/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/trove-dashboard.yaml'],1,31668d88719eddb5c7ff3ce09ff77b7cf3a37796,wallaby-stable, - version: 16.0.1 projects: - repo: openstack/trove-dashboard hash: 3a6e79c3c0cabaf3293046647481a792895efb05,,4,0
openstack%2Fswift~master~I155dd81167c84714fdc82c0caf757ce0aab18700,openstack/swift,master,I155dd81167c84714fdc82c0caf757ce0aab18700,Swift-reload: maybe use psutils?,NEW,2022-07-05 06:24:56.000000000,2022-07-05 07:47:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-05 06:24:56.000000000', 'files': ['requirements.txt', 'swift/common/manager.py', 'swift/cli/reload.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d6cfcb16a4c15905665d900554eadaa81d05c316', 'message': 'Swift-reload: maybe use psutils?\n\nMaybe rather then calling out to ps with subprocess we could look at\nusing psutil, it seems to be mature and used a bunch elsewhere.\n\nChange-Id: I155dd81167c84714fdc82c0caf757ce0aab18700\n'}]",0,848691,d6cfcb16a4c15905665d900554eadaa81d05c316,3,1,1,7233,,,0,"Swift-reload: maybe use psutils?

Maybe rather then calling out to ps with subprocess we could look at
using psutil, it seems to be mature and used a bunch elsewhere.

Change-Id: I155dd81167c84714fdc82c0caf757ce0aab18700
",git fetch https://review.opendev.org/openstack/swift refs/changes/91/848691/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'swift/common/manager.py', 'swift/cli/reload.py']",3,d6cfcb16a4c15905665d900554eadaa81d05c316,safe-reload,"import psutilEXIT_BAD_PID = 1 EXIT_BAD_CONFIG = 2 EXIT_RELOAD_FAILED = 3 try: ps_info = psutil.Process(pid) except psutil.NoSuchProcess: scripts = [os.path.basename(c) for c in ps_info.cmdline() print(""Non-swift process: %r"" % "" "".join(ps_info.cmdline()), file=sys.stderr) sid = os.getsid(ps_info.pid) if sid != ps_info.pid: return ps_info.cmdline(), scripts[0] subprocess.check_call(cmd + [""--test-config""]) except psutil.NoSuchProcess: exit(EXIT_RELOAD_FAILED)","import six EXIT_BAD_PID = 2 EXIT_BAD_CONFIG = 1 EXIT_RELOAD_FAILED = 1 kwargs = {} if not six.PY2: kwargs['encoding'] = 'utf-8' try: info = subprocess.check_output([ ""ps"", ""-p"", str(pid), ""--no-headers"", ""-o"", ""sid,ppid,pid,cmd"" ], **kwargs) sid, ppid, pid, cmd = info.strip().split(None, 3) except subprocess.CalledProcessError: scripts = [os.path.basename(c) for c in cmd.split() print(""Non-swift process: %r"" % cmd, file=sys.stderr) if sid != pid: return cmd, scripts[0] subprocess.check_call(cmd.split() + [""--test-config""]) except subprocess.CalledProcessError: exit(EXIT_RELOAD_TIMEOUT)",19,23
openstack%2Fheat~stable%2Fxena~I1b99f8d039271bff8e64d64ad5482231bf2a2118,openstack/heat,stable/xena,I1b99f8d039271bff8e64d64ad5482231bf2a2118,Remove TripleO job,MERGED,2022-05-25 04:40:41.000000000,2022-07-05 07:45:39.000000000,2022-07-05 07:43:37.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-05-25 04:40:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/e6a8e66c78f36b9b7f609a8ec7f80e48b155b957', 'message': ""Remove TripleO job\n\nThis removes the experimental TripleO job. The job has been kept in\nexperimental queue and it has never attracted actual attention.\nAlso the job does not use the proposed change in heat but the current\nmaster instead, so it's not useful to be in the Heat jobs.\n\n(yoga to xena)\nConflicts:\n\t.zuul.yaml\n\nChange-Id: I1b99f8d039271bff8e64d64ad5482231bf2a2118\n(cherry picked from commit b3430d9fc2d82820ea14d21381efabe5e22f8925)\n(cherry picked from commit c2b8f3c710b05b24c075a98204de9e121a0dc743)\n""}]",0,843231,e6a8e66c78f36b9b7f609a8ec7f80e48b155b957,9,3,1,9816,,,0,"Remove TripleO job

This removes the experimental TripleO job. The job has been kept in
experimental queue and it has never attracted actual attention.
Also the job does not use the proposed change in heat but the current
master instead, so it's not useful to be in the Heat jobs.

(yoga to xena)
Conflicts:
	.zuul.yaml

Change-Id: I1b99f8d039271bff8e64d64ad5482231bf2a2118
(cherry picked from commit b3430d9fc2d82820ea14d21381efabe5e22f8925)
(cherry picked from commit c2b8f3c710b05b24c075a98204de9e121a0dc743)
",git fetch https://review.opendev.org/openstack/heat refs/changes/31/843231/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e6a8e66c78f36b9b7f609a8ec7f80e48b155b957,heat-remove-tripleo,, experimental: jobs: - tripleo-ci-centos-7-scenario002-standalone,0,3
openstack%2Ftripleo-heat-templates~master~I6862b85afa226af98cf09ef2a57e5cb02bf53fb0,openstack/tripleo-heat-templates,master,I6862b85afa226af98cf09ef2a57e5cb02bf53fb0,Remove unused Keyname parameter,ABANDONED,2022-07-05 07:22:58.000000000,2022-07-05 07:34:37.000000000,,[],"[{'number': 1, 'created': '2022-07-05 07:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/68c0c4162ba37c491c514f367300931d651c1311', 'message': 'Remove unused Keyname parameter\n\nThe parameter has been unused since we removed Nova from Undercloud.\n\nChange-Id: I6862b85afa226af98cf09ef2a57e5cb02bf53fb0\n'}, {'number': 2, 'created': '2022-07-05 07:23:46.000000000', 'files': ['releasenotes/notes/remove-key-name-f65332e615903659.yaml', 'puppet/role.role.j2.yaml', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32a62f373308c6fb57387b8a676be0b3f17d265f', 'message': 'Remove unused Keyname parameter\n\nThe parameter has been unused since we removed Nova from Undercloud.\n\nChange-Id: I6862b85afa226af98cf09ef2a57e5cb02bf53fb0\n'}]",0,848696,32a62f373308c6fb57387b8a676be0b3f17d265f,3,0,2,9816,,,0,"Remove unused Keyname parameter

The parameter has been unused since we removed Nova from Undercloud.

Change-Id: I6862b85afa226af98cf09ef2a57e5cb02bf53fb0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/848696/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/role.role.j2.yaml', 'tools/yaml-validate.py']",2,68c0c4162ba37c491c514f367300931d651c1311,,," 'KeyName': ['constraints'],",0,6
openstack%2Fopenstack-ansible-os_horizon~master~Ie96ef0f55309d08df78b5acd72ecb2456eee6fa2,openstack/openstack-ansible-os_horizon,master,Ie96ef0f55309d08df78b5acd72ecb2456eee6fa2,Temporary disable horizon functional jobs,ABANDONED,2022-07-05 07:14:49.000000000,2022-07-05 07:16:56.000000000,,[],"[{'number': 1, 'created': '2022-07-05 07:14:49.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/e5aeb51ac3cf08b541eb1a2a6714cf6d3e565a4b', 'message': ""Temporary disable horizon functional jobs\n\nThis is needed to resolve circular dependency that arised after Yoga\nbranching. Once it's solved, this patch should be reverted\n\nChange-Id: Ie96ef0f55309d08df78b5acd72ecb2456eee6fa2\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/848589\n""}]",0,848693,e5aeb51ac3cf08b541eb1a2a6714cf6d3e565a4b,2,0,1,28619,,,0,"Temporary disable horizon functional jobs

This is needed to resolve circular dependency that arised after Yoga
branching. Once it's solved, this patch should be reverted

Change-Id: Ie96ef0f55309d08df78b5acd72ecb2456eee6fa2
Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/848589
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/93/848693/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,e5aeb51ac3cf08b541eb1a2a6714cf6d3e565a4b,,, - openstack-ansible-deploy-aio_distro_lxc-jobs - openstack-ansible-deploy-aio_lxc-jobs - openstack-ansible-deploy-aio_metal-jobs - openstack-ansible-deploy-aio_distro_metal-jobs,0,4
openstack%2Fheat~stable%2Fxena~I71f8398b6aa57b7c1910750b8e048825383e3d9a,openstack/heat,stable/xena,I71f8398b6aa57b7c1910750b8e048825383e3d9a,Use constraints when creating venv for grenade,MERGED,2022-07-01 15:14:24.000000000,2022-07-05 07:03:36.000000000,2022-07-05 07:01:47.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 15:14:24.000000000', 'files': ['.zuul.yaml', 'devstack/upgrade/resources.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/75815c4ac3683ec5661b910bb354956a26c2dfd2', 'message': ""Use constraints when creating venv for grenade\n\nAs a followup for change I6a8cffdc86c895eebe4269c5cd37841325566c54\nlet's use branch specific upper constraints when running tests in\ngrenade.\n\nChange-Id: I71f8398b6aa57b7c1910750b8e048825383e3d9a\n(cherry picked from commit 39d653fa5741e45d26388950270e7ed3ca489b89)\n(cherry picked from commit 976bcf9ef34014cdd5cf15f97243609c96ac8ee8)\n""}]",6,848363,75815c4ac3683ec5661b910bb354956a26c2dfd2,34,2,1,9816,,,0,"Use constraints when creating venv for grenade

As a followup for change I6a8cffdc86c895eebe4269c5cd37841325566c54
let's use branch specific upper constraints when running tests in
grenade.

Change-Id: I71f8398b6aa57b7c1910750b8e048825383e3d9a
(cherry picked from commit 39d653fa5741e45d26388950270e7ed3ca489b89)
(cherry picked from commit 976bcf9ef34014cdd5cf15f97243609c96ac8ee8)
",git fetch https://review.opendev.org/openstack/heat refs/changes/63/848363/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'devstack/upgrade/resources.sh']",2,75815c4ac3683ec5661b910bb354956a26c2dfd2,, export UPPER_CONSTRAINTS_FILE=$DEST/requirements/upper-constraints.txt export TOX_CONSTRAINTS_FILE=$UPPER_CONSTRAINTS_FILE export HEAT_TEMPEST_PLUGIN=$DEST/heat-tempest-plugin sudo git config --system --add safe.directory $HEAT_TEMPEST_PLUGIN tox -evenv-tempest -- pip install -c$UPPER_CONSTRAINTS_FILE $HEAT_TEMPEST_PLUGIN,,6,2
openstack%2Fswift~master~I203607a0576582330241172d05bf8fd223bbbb9d,openstack/swift,master,I203607a0576582330241172d05bf8fd223bbbb9d,Emit metrics for tempurl & formpost digest usage,MERGED,2022-06-29 22:46:39.000000000,2022-07-05 05:33:04.000000000,2022-07-05 05:31:53.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-29 22:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6138a09833698033cc6cd8b969b60ef03989b7e0', 'message': 'Emit metrics for tempurl & formpost digest usage\n\nChange-Id: I203607a0576582330241172d05bf8fd223bbbb9d\n'}, {'number': 2, 'created': '2022-06-30 03:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/22ad73af69498e6f42eca4d8c27bfbe57af16c0a', 'message': ""Emit metrics for tempurl & formpost digest usage\n\nWithout this, it's really hard for operators to feel comfortable\nremoving support for now-deprecated digests.\n\nChange-Id: I203607a0576582330241172d05bf8fd223bbbb9d\n""}, {'number': 3, 'created': '2022-06-30 03:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/724d4a56e214637271eab6b862fba7d40573a283', 'message': ""Emit metrics for tempurl & formpost digest usage\n\nWithout this, it's really hard for operators to feel comfortable\nremoving support for now-deprecated digests.\n\nChange-Id: I203607a0576582330241172d05bf8fd223bbbb9d\n""}, {'number': 4, 'created': '2022-07-05 00:32:37.000000000', 'files': ['test/unit/common/middleware/test_formpost.py', 'swift/common/middleware/tempurl.py', 'swift/common/middleware/formpost.py', 'test/unit/common/middleware/test_tempurl.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/475cdba65bcd29871b840395576572c0d8399a6b', 'message': ""Emit metrics for tempurl & formpost digest usage\n\nWithout this, it's really hard for operators to feel comfortable\nremoving support for now-deprecated digests.\n\nThis patch adds new statsd metrics in the form of:\n\n  formpost.digests.<digest>\n  tempurl.digest.<digest>\n\nSomething like:\n\n  formpost.digessts.sha1\n  tempurl.digests.sha512\n\nChange-Id: I203607a0576582330241172d05bf8fd223bbbb9d\n""}]",2,848195,475cdba65bcd29871b840395576572c0d8399a6b,19,2,4,15343,,,0,"Emit metrics for tempurl & formpost digest usage

Without this, it's really hard for operators to feel comfortable
removing support for now-deprecated digests.

This patch adds new statsd metrics in the form of:

  formpost.digests.<digest>
  tempurl.digest.<digest>

Something like:

  formpost.digessts.sha1
  tempurl.digests.sha512

Change-Id: I203607a0576582330241172d05bf8fd223bbbb9d
",git fetch https://review.opendev.org/openstack/swift refs/changes/95/848195/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_formpost.py', 'swift/common/middleware/tempurl.py', 'swift/common/middleware/formpost.py', 'test/unit/common/middleware/test_tempurl.py']",4,6138a09833698033cc6cd8b969b60ef03989b7e0,," self.logger = self.tempurl.logger = debug_logger() tempurl1.logger = self.logger self.assertEqual(self.logger.get_increment_counts(), { 'tempurl.digests.sha1': 1, 'tempurl.digests.sha256': 2, 'tempurl.digests.sha512': 1 }) ",,29,10
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492,openstack/puppet-tripleo,stable/wallaby,I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492,Add support for ovn clustered DB in the octavia ovn-provider,MERGED,2022-07-04 11:59:45.000000000,2022-07-05 03:47:10.000000000,2022-07-05 03:47:10.000000000,"[{'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-04 11:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6921cc929181300bbc4738584611210d95079706', 'message': 'Add support for ovn clustered DB in the octavia ovn-provider\n\nChange-Id: I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492\n(cherry picked from commit e6a4118d24358c22843c7bbc6f97ea06a53e7cec)\n'}, {'number': 2, 'created': '2022-07-04 14:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a4bbc6bb375a3ed27ef6e9d750db8005296b226d', 'message': 'Add support for ovn clustered DB in the octavia ovn-provider\n\nConflicts:\n\tmanifests/profile/base/octavia/provider/ovn.pp\n\nChange-Id: I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492\n(cherry picked from commit e6a4118d24358c22843c7bbc6f97ea06a53e7cec)\n'}, {'number': 3, 'created': '2022-07-04 14:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/03cd096862ec828ac7147eb1a2d4d9093a19a27e', 'message': 'Add support for ovn clustered DB in the octavia ovn-provider\n\nConflicts:\n\tmanifests/profile/base/octavia/provider/ovn.pp\n\nChange-Id: I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492\n(cherry picked from commit e6a4118d24358c22843c7bbc6f97ea06a53e7cec)\n'}, {'number': 4, 'created': '2022-07-04 14:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b5f1ca0cb681fa631fd55c961f8be7a5be012745', 'message': 'Add support for ovn clustered DB in the octavia ovn-provider\n\nConflicts:\n\tmanifests/profile/base/octavia/provider/ovn.pp\n\nChange-Id: I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492\n(cherry picked from commit e6a4118d24358c22843c7bbc6f97ea06a53e7cec)\n'}, {'number': 5, 'created': '2022-07-04 14:03:00.000000000', 'files': ['manifests/profile/base/octavia/provider/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0521b4795329486ba9fa6bfcabd6521c2e82b18d', 'message': 'Add support for ovn clustered DB in the octavia ovn-provider\n\nConflicts:\n\tmanifests/profile/base/octavia/provider/ovn.pp\n\nChange-Id: I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492\n(cherry picked from commit e6a4118d24358c22843c7bbc6f97ea06a53e7cec)\n'}]",6,848625,0521b4795329486ba9fa6bfcabd6521c2e82b18d,15,4,5,29244,,,0,"Add support for ovn clustered DB in the octavia ovn-provider

Conflicts:
	manifests/profile/base/octavia/provider/ovn.pp

Change-Id: I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492
(cherry picked from commit e6a4118d24358c22843c7bbc6f97ea06a53e7cec)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/25/848625/5 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/octavia/provider/ovn.pp'],1,6921cc929181300bbc4738584611210d95079706,,"# [*ovn_db_node_ips*] # (Optional) The OVN DBs node ip addresses are listening. # Defaults to lookup('ovn_dbs_node_ips', undef, undef, undef) # # [*ovn_db_clustered*] # (Optional) Boolean indicating if we're running with ovn db clustering # or pacemaker. Defaults to false for backwards compatibility # Defaults to lookup('ovn_db_clustered', undef, undef, false) # $ovn_db_node_ips = hiera('ovn_dbs_node_ips', undef), $ovn_db_clustered = hiera('ovn_db_clustered', false), # TODO(tkajinam): Remove these deprecated parameters if $::tripleo::profile::base::octavia::api::ovn_db_host and !is_service_default(::tripleo::profile::base::octavia::api::ovn_db_host) { $ovn_db_hosts_real = any2array($::tripleo::profile::base::octavia::api::ovn_db_host) $ovn_nb_port_real = $::tripleo::profile::base::octavia::api::ovn_nb_port } elsif $ovn_db_clustered { $ovn_db_hosts_real = any2array($ovn_db_node_ips) $ovn_nb_port_real = $ovn_nb_port } else { $ovn_db_hosts_real = any2array($ovn_db_host) $ovn_nb_port_real = $ovn_nb_port } if ! empty($ovn_db_hosts_real) { $nb_conn = $ovn_db_hosts_real.map |$h| { join([$protocol, normalize_ip_for_uri($h), ""${ovn_nb_port_real}""].filter |$c| { !$c.empty() }, ':') } class { 'octavia::provider::ovn': ovn_nb_connection => join(any2array($nb_conn), ','),"," if $::tripleo::profile::base::octavia::api::ovn_db_host and !is_service_default(::tripleo::profile::base::octavia::api::ovn_db_host) { $ovn_db_host_real = $::tripleo::profile::base::octavia::api::ovn_db_host $ovn_nb_port_real = $::tripleo::profile::base::octavia::api::ovn_nb_port } else { $ovn_db_host_real = $ovn_db_host $ovn_nb_port_real = $ovn_nb_port } if $ovn_db_host_real { $ovn_nb_conn_args = [""${protocol}"", normalize_ip_for_uri($ovn_db_host_real), ""${ovn_nb_port_real}""].filter |$c| { !$c.empty() } $ovn_nb_connection = join($ovn_nb_conn_args, ':') class { 'octavia::provider::ovn': ovn_nb_connection => $ovn_nb_connection,",25,10
openstack%2Fglance~master~I04efbb7fd47b8b1e022d96c40011b6f03508db2e,openstack/glance,master,I04efbb7fd47b8b1e022d96c40011b6f03508db2e,glance-cache-prefetcher: Set up access to multistore backends,MERGED,2022-06-24 01:04:12.000000000,2022-07-05 03:26:17.000000000,2022-07-05 03:24:51.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-24 01:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5267fee2e7551c4bb3ec0ac8c19191781bb5d9c2', 'message': 'glance-cache-prefetcher: Set up access to multistore backends\n\n... because the command requires access to backend stores to pull image\ndata.\n\nCloses-Bug: #1979699\nChange-Id: I04efbb7fd47b8b1e022d96c40011b6f03508db2e\n'}, {'number': 2, 'created': '2022-06-24 02:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dc6716cdcf85207affd9bf23dfb04af51655b65e', 'message': 'glance-cache-prefetcher: Set up access to multistore backends\n\n... because the command requires access to backend stores to pull image\ndata.\n\nCloses-Bug: #1979699\nChange-Id: I04efbb7fd47b8b1e022d96c40011b6f03508db2e\n'}, {'number': 3, 'created': '2022-06-24 06:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fea4342c734e5aa706c9519c62d94b72e443e55c', 'message': 'glance-cache-prefetcher: Set up access to multistore backends\n\n... because the command requires access to backend stores to pull image\ndata.\n\nCloses-Bug: #1979699\nChange-Id: I04efbb7fd47b8b1e022d96c40011b6f03508db2e\n'}, {'number': 4, 'created': '2022-06-24 06:00:52.000000000', 'files': ['glance/cmd/cache_prefetcher.py', 'releasenotes/notes/bug-1979699-70182ec2aead0383.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/6964e627d5b98c2034aea4bebb72cdab7549b6b5', 'message': 'glance-cache-prefetcher: Set up access to multistore backends\n\n... because the command requires access to backend stores to pull image\ndata.\n\nCloses-Bug: #1979699\nChange-Id: I04efbb7fd47b8b1e022d96c40011b6f03508db2e\n'}]",2,847422,6964e627d5b98c2034aea4bebb72cdab7549b6b5,15,3,4,9816,,,0,"glance-cache-prefetcher: Set up access to multistore backends

... because the command requires access to backend stores to pull image
data.

Closes-Bug: #1979699
Change-Id: I04efbb7fd47b8b1e022d96c40011b6f03508db2e
",git fetch https://review.opendev.org/openstack/glance refs/changes/22/847422/2 && git format-patch -1 --stdout FETCH_HEAD,['glance/cmd/cache_prefetcher.py'],1,5267fee2e7551c4bb3ec0ac8c19191781bb5d9c2,bug/1979699, if CONF.enabled_backends: glance_store.register_store_opts(CONF) glance_store.create_multi_stores(CONF) glance_store.verify_store() else: glance_store.register_opts(CONF) glance_store.create_stores(CONF) glance_store.verify_default_store(), glance_store.register_opts(config.CONF) glance_store.create_stores(config.CONF) glance_store.verify_default_store(),8,3
openstack%2Fcyborg-tempest-plugin~master~Ief351e1dccb7f0f40d8a54d20c9af9c292c31526,openstack/cyborg-tempest-plugin,master,Ief351e1dccb7f0f40d8a54d20c9af9c292c31526,add list devices filter by hostname,MERGED,2022-07-04 02:46:48.000000000,2022-07-05 02:52:06.000000000,2022-07-05 02:52:06.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-07-04 02:46:48.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_device.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/253c363414adedde2c315ccbd496c0bf7502d31f', 'message': 'add list devices filter by hostname\n\nadd list devices filter by hostname testcase\n\nChange-Id: Ief351e1dccb7f0f40d8a54d20c9af9c292c31526\n'}]",1,848416,253c363414adedde2c315ccbd496c0bf7502d31f,7,3,1,30409,,,0,"add list devices filter by hostname

add list devices filter by hostname testcase

Change-Id: Ief351e1dccb7f0f40d8a54d20c9af9c292c31526
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/16/848416/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg_tempest_plugin/tests/api/test_device.py'],1,253c363414adedde2c315ccbd496c0bf7502d31f,master11," def test_list_devices_filter_by_hostname(self): response = self.os_admin.cyborg_client.list_devices() hostname = response['devices'][0]['hostname'] # list devices filter by hostname params = {""hostname"": hostname} response = self.os_admin.cyborg_client.list_devices(params=params) self.assertNotEmpty(response['devices']) for dv in response['devices']: self.assertEqual(hostname, dv['hostname']) ",,11,0
openstack%2Fdiskimage-builder~master~I33ef4bd63626e1109d9c5ba98e86c1afabc18573,openstack/diskimage-builder,master,I33ef4bd63626e1109d9c5ba98e86c1afabc18573,Enable Yum mirror for openEuler element,ABANDONED,2022-03-16 08:46:46.000000000,2022-07-05 02:50:55.000000000,,"[{'_account_id': 7118}, {'_account_id': 15054}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-16 08:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/dec659a77d9d338f89f3aaed2329493f116d9cbd', 'message': ""Enable Yum mirror for openEuler element\n\nopenEuler element now always use repo.openeuler.org for its Yum\nrepo. It'll cause speed problem if the user is far from HongKong.\n\nThis patch add DIB_DISTRIBUTION_MIRROR for openEuler element the\nsame as other Distro. So that user can use a faster mirror for\nopenEuler Yum repo.\n\nChange-Id: I33ef4bd63626e1109d9c5ba98e86c1afabc18573\n""}, {'number': 2, 'created': '2022-03-16 10:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/48dd26d280f79e7b77b3566e6c96c53d1d23302f', 'message': ""Enable Yum mirror for openEuler element\n\nopenEuler element now always use repo.openeuler.org for its Yum\nrepo. It'll cause speed problem if the user is far from HongKong.\n\nThis patch add DIB_DISTRIBUTION_MIRROR for openEuler element the\nsame as other Distro. So that user can use a faster mirror for\nopenEuler Yum repo.\n\nChange-Id: I33ef4bd63626e1109d9c5ba98e86c1afabc18573\n""}, {'number': 3, 'created': '2022-03-17 07:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f372bc300548c44f783f6965e12381c0c98033b3', 'message': ""Enable Yum mirror for openEuler element\n\nopenEuler element now always use repo.openeuler.org for its Yum\nrepo. It'll cause speed problem if the user is far from HongKong.\n\nThis patch add DIB_DISTRIBUTION_MIRROR for openEuler element the\nsame as other Distro. So that user can use a faster mirror for\nopenEuler Yum repo.\n\nChange-Id: I33ef4bd63626e1109d9c5ba98e86c1afabc18573\n""}, {'number': 4, 'created': '2022-03-17 07:13:44.000000000', 'files': ['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'diskimage_builder/elements/openeuler-minimal/root.d/00-00-generate-repo', 'diskimage_builder/elements/openeuler-minimal/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/493513a06e611d97d0fad4ddd02c69563d633665', 'message': ""Enable Yum mirror for openEuler element\n\nopenEuler element now always use repo.openeuler.org for its Yum\nrepo. It'll cause speed problem if the user is far from HongKong.\n\nThis patch add DIB_DISTRIBUTION_MIRROR for openEuler element the\nsame as other Distro. So that user can use a faster mirror for\nopenEuler Yum repo.\n\nChange-Id: I33ef4bd63626e1109d9c5ba98e86c1afabc18573\n""}]",3,833969,493513a06e611d97d0fad4ddd02c69563d633665,21,3,4,15054,,,0,"Enable Yum mirror for openEuler element

openEuler element now always use repo.openeuler.org for its Yum
repo. It'll cause speed problem if the user is far from HongKong.

This patch add DIB_DISTRIBUTION_MIRROR for openEuler element the
same as other Distro. So that user can use a faster mirror for
openEuler Yum repo.

Change-Id: I33ef4bd63626e1109d9c5ba98e86c1afabc18573
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/69/833969/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/openeuler-minimal/environment.d/12-set-mirror.bash', 'diskimage_builder/elements/openeuler-minimal/README.rst']",2,dec659a77d9d338f89f3aaed2329493f116d9cbd,enable_openeuler_mirror, Set ``DIB_DISTRIBUTION_MIRROR`` to the mirror URL use a openEuler Yum mirror. This URL should point to the directory containing the ``DIB_RELEASE`` directories.,,7,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Iafb291419822362be2ab6755589d49f78543dc54,openstack/tripleo-heat-templates,stable/wallaby,Iafb291419822362be2ab6755589d49f78543dc54,Add merge strategy for ExtraConfig,ABANDONED,2022-06-30 23:17:44.000000000,2022-07-05 02:37:48.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-30 23:17:44.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f036a5252068fe0648193038c31a5fbe7b0a40c0', 'message': 'Add merge strategy for ExtraConfig\n\nIt seems users are relying on the undocumented behaviour\nthat merges maps for *ExtraConfig in multiple environment\nfiles.\n\nResolves: rhbz#2102466\nChange-Id: Iafb291419822362be2ab6755589d49f78543dc54\n(cherry picked from commit 2e1b4ef0a0a79d976872f1627dca0ad81b219afe)\n'}]",2,848287,f036a5252068fe0648193038c31a5fbe7b0a40c0,6,3,1,9816,,,0,"Add merge strategy for ExtraConfig

It seems users are relying on the undocumented behaviour
that merges maps for *ExtraConfig in multiple environment
files.

Resolves: rhbz#2102466
Change-Id: Iafb291419822362be2ab6755589d49f78543dc54
(cherry picked from commit 2e1b4ef0a0a79d976872f1627dca0ad81b219afe)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/848287/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-resource-registry-puppet.j2.yaml'],1,f036a5252068fe0648193038c31a5fbe7b0a40c0,, ExtraConfig: merge {{role.name}}ExtraConfig: merge,,2,0
openstack%2Fskyline-console~master~I5954f560fc9b26b274c3e29549e225c02c5de1ce,openstack/skyline-console,master,I5954f560fc9b26b274c3e29549e225c02c5de1ce,feat: add create image resource,ABANDONED,2022-07-04 08:33:27.000000000,2022-07-05 02:00:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 30434}, {'_account_id': 34458}]","[{'number': 1, 'created': '2022-07-04 08:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/eb201d84706e572746c464523889842a518f73d8', 'message': 'feat: add create image resource\n\nAdd create image resource command for other tests\n\nChange-Id: I5954f560fc9b26b274c3e29549e225c02c5de1ce\n'}, {'number': 2, 'created': '2022-07-04 08:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/d84117aad80db9b98d45648efc5c051997945a50', 'message': 'feat: add create image resource\n\nAdd create image resource command for other tests\n\nChange-Id: I5954f560fc9b26b274c3e29549e225c02c5de1ce\n'}, {'number': 3, 'created': '2022-07-04 11:50:44.000000000', 'files': ['test/e2e/support/resource-commands.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/ed513e70bdd2c4fe96ef784180aef96296cd34a4', 'message': 'feat: add create image resource\n\nAdd create image resource command for other tests\n\nChange-Id: I5954f560fc9b26b274c3e29549e225c02c5de1ce\n'}]",1,848581,ed513e70bdd2c4fe96ef784180aef96296cd34a4,9,3,3,33689,,,0,"feat: add create image resource

Add create image resource command for other tests

Change-Id: I5954f560fc9b26b274c3e29549e225c02c5de1ce
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/81/848581/2 && git format-patch -1 --stdout FETCH_HEAD,['test/e2e/support/resource-commands.js'],1,eb201d84706e572746c464523889842a518f73d8,open-image-rs," Cypress.Commands.add('createImage', ({ name }) => { const filename = 'cirros-0.5.1-x86_64-disk.qcow2'; cy.visitPage(imageListUrl) .clickHeaderButton(1) .formInput('name', name) .formAttachFile('file', filename) .formSelect('disk_format', 'QCOW2 - QEMU image format') .formSelect('os_distro', 'CentOS') .formInput('os_version', 'cirros-0.5.1-x86_64') .formInput('os_admin_user', 'root') .formSelect('usage_type', 'Common Server') .formText('description', name) .clickFormActionSubmitButton() .wait(2000) .url() .should('include', imageListUrl) .tableSearchText(name) .waitStatusActiveByRefresh(); });",,20,0
openstack%2Fglance~stable%2Fyoga~I9d1c25638584fe346e3937d0536413d548d46e8e,openstack/glance,stable/yoga,I9d1c25638584fe346e3937d0536413d548d46e8e,[APIImpact] Correct API response code for DELETE cache APIs,MERGED,2022-06-28 17:43:28.000000000,2022-07-05 01:14:08.000000000,2022-07-05 01:12:53.000000000,"[{'_account_id': 5202}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-28 17:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a9b297630024a0c258dea5c0cb88a13ec4bed0ee', 'message': '[APIImpact] Correct API response code for DELETE cache APIs\n\nDELETE /v2/cache/{image_id} and /v2/cache returns HTTP 200 response\ncode to user but as per proposal it should be HTTP 204. This change\nreturns HTTP 204 response to user.\n\nCloses-Bug: #1980049\nChange-Id: I9d1c25638584fe346e3937d0536413d548d46e8e\n'}, {'number': 2, 'created': '2022-06-28 17:44:55.000000000', 'files': ['glance/api/v2/cached_images.py', 'releasenotes/notes/bug-1980049-623d2eb0fa074136.yaml', 'glance/tests/functional/v2/test_cache_api.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/ea4ed6dfec2ade544ba30e3324e6c7def6a3eddd', 'message': '[APIImpact] Correct API response code for DELETE cache APIs\n\nDELETE /v2/cache/{image_id} and /v2/cache returns HTTP 200 response\ncode to user but as per proposal it should be HTTP 204. This change\nreturns HTTP 204 response to user.\n\nCloses-Bug: #1980049\nChange-Id: I9d1c25638584fe346e3937d0536413d548d46e8e\n(cherry picked from commit a71f7ba44e57a7945addb82afd2a19962d5c04cc)\n'}]",1,848001,ea4ed6dfec2ade544ba30e3324e6c7def6a3eddd,9,4,2,9303,,,0,"[APIImpact] Correct API response code for DELETE cache APIs

DELETE /v2/cache/{image_id} and /v2/cache returns HTTP 200 response
code to user but as per proposal it should be HTTP 204. This change
returns HTTP 204 response to user.

Closes-Bug: #1980049
Change-Id: I9d1c25638584fe346e3937d0536413d548d46e8e
(cherry picked from commit a71f7ba44e57a7945addb82afd2a19962d5c04cc)
",git fetch https://review.opendev.org/openstack/glance refs/changes/01/848001/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/cached_images.py', 'releasenotes/notes/bug-1980049-623d2eb0fa074136.yaml', 'glance/tests/functional/v2/test_cache_api.py']",3,a9b297630024a0c258dea5c0cb88a13ec4bed0ee,backport/bug/1980049," def cache_delete(self, image_id, expected_code=204): def cache_clear(self, target='', expected_code=204):"," def cache_delete(self, image_id, expected_code=200): def cache_clear(self, target='', expected_code=200):",22,2
openstack%2Fdesignate-tempest-plugin~master~If7aa1033d52b71a6e01559b6cd468d2f5e6ddf9c,openstack/designate-tempest-plugin,master,If7aa1033d52b71a6e01559b6cd468d2f5e6ddf9c,Transfer Request - refactoring and new test cases,MERGED,2022-06-19 15:18:26.000000000,2022-07-05 01:01:34.000000000,2022-07-05 01:00:27.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 18894}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28609}]","[{'number': 1, 'created': '2022-06-19 15:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/56e7caf58b88d1706c9917af6946db8e7ba1bdde', 'message': 'Transfer Request - refactoring and new test cases\n\n1) Refactoring:\n   - Replace Python underscore variable with indexing.\n2)""test_create_transfer_request_404""\n   - Try to create a transfer request with random id\n3)""test_zone_transfer""\n   - Validation that transfer_accept deleted\n     after the transfer_request delete\n\nChange-Id: If7aa1033d52b71a6e01559b6cd468d2f5e6ddf9c\n'}, {'number': 2, 'created': '2022-06-19 16:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/95ee480ff03158c54cfed71c63cb0f81b6648574', 'message': 'Transfer Request - refactoring and new test cases\n\n1) Refactoring:\n   - Replace Python underscore variable with indexing.\n2)""test_create_transfer_request_404""\n   - Try to create a transfer request with random id\n3)""test_zone_transfer""\n   - Validation that transfer_accept deleted\n     after the transfer_request delete\n\nChange-Id: If7aa1033d52b71a6e01559b6cd468d2f5e6ddf9c\n'}, {'number': 3, 'created': '2022-06-21 17:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/ac4f7fe43545cd3f905f19cce9ad4eefbd46153b', 'message': 'Transfer Request - refactoring and new test cases\n\n1) Refactoring:\n   - Replace Python underscore variable with indexing.\n2)""test_create_transfer_request_404""\n   - Try to create a transfer request with random id\n3)""test_zone_transfer""\n   - Validation that transfer_accept deleted\n     after the transfer_request delete\n\nChange-Id: If7aa1033d52b71a6e01559b6cd468d2f5e6ddf9c\n'}, {'number': 4, 'created': '2022-06-21 18:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/9cc2c056d2aba3ff95f6ab5da5af090af16e45d9', 'message': 'Transfer Request - refactoring and new test cases\n\n1) Refactoring:\n   - Replace Python underscore variable with indexing.\n2)""test_create_transfer_request_404""\n   - Try to create a transfer request with random id\n3)""test_zone_transfer""\n   - Validation that transfer_accept deleted\n     after the transfer_request delete\n\nChange-Id: If7aa1033d52b71a6e01559b6cd468d2f5e6ddf9c\n'}, {'number': 5, 'created': '2022-06-27 18:23:00.000000000', 'files': ['designate_tempest_plugin/tests/scenario/v2/test_zones_transfer.py', 'designate_tempest_plugin/tests/api/v2/test_transfer_request.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/ced8704b752a59ff7a3156bbbe4eae3a7c7bde2c', 'message': 'Transfer Request - refactoring and new test cases\n\n1) Refactoring:\n   - Replace Python underscore variable with indexing.\n   - Remove the ""message"" assertion\n2)""test_create_transfer_request_404""\n   - Try to create a transfer request with random id\n3)""test_zone_transfer""\n   - Validation that transfer_accept deleted\n     after the transfer_request delete\n\nChange-Id: If7aa1033d52b71a6e01559b6cd468d2f5e6ddf9c\n'}]",20,846495,ced8704b752a59ff7a3156bbbe4eae3a7c7bde2c,22,7,5,34067,,,0,"Transfer Request - refactoring and new test cases

1) Refactoring:
   - Replace Python underscore variable with indexing.
   - Remove the ""message"" assertion
2)""test_create_transfer_request_404""
   - Try to create a transfer request with random id
3)""test_zone_transfer""
   - Validation that transfer_accept deleted
     after the transfer_request delete

Change-Id: If7aa1033d52b71a6e01559b6cd468d2f5e6ddf9c
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/95/846495/2 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/scenario/v2/test_zones_transfer.py', 'designate_tempest_plugin/tests/api/v2/test_transfer_request.py']",2,56e7caf58b88d1706c9917af6946db8e7ba1bdde,Transfer_request," transfer_request = self.client.create_transfer_request(zone['id'])[1] body = self.client.list_transfer_requests()[1] transfer_request = self.client.create_transfer_request(zone['id'])[1] transfer_request_patch = self.client.update_transfer_request( transfer_request['id'], transfer_request_data=data)[1] @decorators.idempotent_id('39131f7c-e9bb-4f92-a325-444a675e1b3d') def test_create_transfer_request_404(self): e = self.assertRaises(lib_exc.NotFound, self.client.create_transfer_request, data_utils.rand_uuid()) self.assertEqual(404, e.resp.status) self.assertEqual(404, e.resp_body['code']) self.assertEqual(""zone_not_found"", e.resp_body['type']) self.assertEqual(""Could not find Zone"",e.resp_body['message']) self.assertEqual(""invalid_uuid"", resp_body['type'])"," _, transfer_request = self.client.create_transfer_request(zone['id']) _, body = self.client.list_transfer_requests() _, transfer_request = self.client.create_transfer_request(zone['id']) _, transfer_request_patch = self.client.update_transfer_request( transfer_request['id'], transfer_request_data=data) self.assertEqual(""invalid_uuid"", resp_body['type']) ",28,9
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id6d0699123b9e9b75011ee94949ec4a69012f9af,openstack/tripleo-heat-templates,stable/wallaby,Id6d0699123b9e9b75011ee94949ec4a69012f9af,THT cleanup of scenario001/004/010 for Deployed Ceph,MERGED,2022-06-30 17:42:53.000000000,2022-07-05 00:05:21.000000000,2022-07-05 00:05:21.000000000,"[{'_account_id': 6681}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-06-30 17:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/734fcfe6c1443e4114b1332f1fade476959763f2', 'message': 'THT cleanup of scenario001/004/010 for Deployed Ceph\n\nRemove parameters which are not used when ""deployed ceph""\nis used. The CephClusterFSID, ""DeployedCeph: true"", and\ndata_devices (from the soon to be deprecated CephOsdSpec)\nwill be set in the deployed_ceph.yaml environment file\nwhich is generated and passed to the overcloud deployment\nby I982dedb53582fbd76391165c3ca72954c129b84a.\n\nChange-Id: Id6d0699123b9e9b75011ee94949ec4a69012f9af\n(cherry picked from commit be7f55bdf66280832768b27a7e2c8e4be8774c26)\n'}, {'number': 2, 'created': '2022-06-30 17:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a8fc3e9b9394f3a7229a705ec6b5a4d46315416', 'message': 'THT cleanup of scenario001/004/010 for Deployed Ceph\n\nRemove parameters which are not used when ""deployed ceph""\nis used. The CephClusterFSID, ""DeployedCeph: true"", and\ndata_devices (from the soon to be deprecated CephOsdSpec)\nwill be set in the deployed_ceph.yaml environment file\nwhich is generated and passed to the overcloud deployment\nby I982dedb53582fbd76391165c3ca72954c129b84a.\n\nChange-Id: Id6d0699123b9e9b75011ee94949ec4a69012f9af\n(cherry picked from commit be7f55bdf66280832768b27a7e2c8e4be8774c26)\n'}, {'number': 3, 'created': '2022-07-01 01:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/179c62d4715023d9a91a3c06cd8ff4fab3cbd862', 'message': 'THT cleanup of scenario001/004/010 for Deployed Ceph\n\nRemove parameters which are not used when ""deployed ceph""\nis used. The CephClusterFSID, ""DeployedCeph: true"", and\ndata_devices (from the soon to be deprecated CephOsdSpec)\nwill be set in the deployed_ceph.yaml environment file\nwhich is generated and passed to the overcloud deployment\nby I982dedb53582fbd76391165c3ca72954c129b84a.\n\nDepends-On: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797\nChange-Id: Id6d0699123b9e9b75011ee94949ec4a69012f9af\n(cherry picked from commit be7f55bdf66280832768b27a7e2c8e4be8774c26)\n'}, {'number': 4, 'created': '2022-07-01 15:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64c93b5663c7234384caf737637aea60b740cefc', 'message': 'THT cleanup of scenario001/004/010 for Deployed Ceph\n\nRemove parameters which are not used when ""deployed ceph""\nis used. The CephClusterFSID, ""DeployedCeph: true"", and\ndata_devices (from the soon to be deprecated CephOsdSpec)\nwill be set in the deployed_ceph.yaml environment file\nwhich is generated and passed to the overcloud deployment\nby I982dedb53582fbd76391165c3ca72954c129b84a.\n\nDepends-On: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797\nChange-Id: Id6d0699123b9e9b75011ee94949ec4a69012f9af\n(cherry picked from commit be7f55bdf66280832768b27a7e2c8e4be8774c26)\n'}, {'number': 5, 'created': '2022-07-01 20:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/acf1cb4c97379c970fd8f54b44f1dae797b19800', 'message': 'THT cleanup of scenario001/004/010 for Deployed Ceph\n\nRemove parameters which are not used when ""deployed ceph""\nis used. The CephClusterFSID, ""DeployedCeph: true"", and\ndata_devices (from the soon to be deprecated CephOsdSpec)\nwill be set in the deployed_ceph.yaml environment file\nwhich is generated and passed to the overcloud deployment\nby I982dedb53582fbd76391165c3ca72954c129b84a.\n\nDepends-On: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797\nChange-Id: Id6d0699123b9e9b75011ee94949ec4a69012f9af\n(cherry picked from commit be7f55bdf66280832768b27a7e2c8e4be8774c26)\n'}, {'number': 6, 'created': '2022-07-01 21:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a754cdead53617aab2784ed90c7b48d30de8e822', 'message': 'THT cleanup of scenario001/004/010 for Deployed Ceph\n\nRemove parameters which are not used when ""deployed ceph""\nis used. The CephClusterFSID, ""DeployedCeph: true"", and\ndata_devices (from the soon to be deprecated CephOsdSpec)\nwill be set in the deployed_ceph.yaml environment file\nwhich is generated and passed to the overcloud deployment\nby I982dedb53582fbd76391165c3ca72954c129b84a.\n\nDepends-On: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797\nChange-Id: Id6d0699123b9e9b75011ee94949ec4a69012f9af\n(cherry picked from commit be7f55bdf66280832768b27a7e2c8e4be8774c26)\n'}, {'number': 7, 'created': '2022-07-02 10:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8cb5fbe9b3eccf9d735039dab7d554213cd2d20', 'message': 'THT cleanup of scenario001/004/010 for Deployed Ceph\n\nRemove parameters which are not used when ""deployed ceph""\nis used. The CephClusterFSID, ""DeployedCeph: true"", and\ndata_devices (from the soon to be deprecated CephOsdSpec)\nwill be set in the deployed_ceph.yaml environment file\nwhich is generated and passed to the overcloud deployment\nby I982dedb53582fbd76391165c3ca72954c129b84a.\n\nDepends-On: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797\nChange-Id: Id6d0699123b9e9b75011ee94949ec4a69012f9af\n(cherry picked from commit be7f55bdf66280832768b27a7e2c8e4be8774c26)\n'}, {'number': 8, 'created': '2022-07-02 12:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/318cb89d388ef7db1bf9ff87c639584d01df21ec', 'message': 'THT cleanup of scenario001/004/010 for Deployed Ceph\n\nRemove parameters which are not used when ""deployed ceph""\nis used. The CephClusterFSID, ""DeployedCeph: true"", and\ndata_devices (from the soon to be deprecated CephOsdSpec)\nwill be set in the deployed_ceph.yaml environment file\nwhich is generated and passed to the overcloud deployment\nby I982dedb53582fbd76391165c3ca72954c129b84a.\n\nDepends-On: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797\nChange-Id: Id6d0699123b9e9b75011ee94949ec4a69012f9af\n(cherry picked from commit be7f55bdf66280832768b27a7e2c8e4be8774c26)\n'}, {'number': 9, 'created': '2022-07-04 07:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58e715d639a4386862c183520f6c3e02f17b9615', 'message': 'THT cleanup of scenario001/004/010 for Deployed Ceph\n\nRemove parameters which are not used when ""deployed ceph""\nis used. The CephClusterFSID, ""DeployedCeph: true"", and\ndata_devices (from the soon to be deprecated CephOsdSpec)\nwill be set in the deployed_ceph.yaml environment file\nwhich is generated and passed to the overcloud deployment\nby I982dedb53582fbd76391165c3ca72954c129b84a.\n\nDepends-On: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797\nChange-Id: Id6d0699123b9e9b75011ee94949ec4a69012f9af\n(cherry picked from commit be7f55bdf66280832768b27a7e2c8e4be8774c26)\n'}, {'number': 10, 'created': '2022-07-04 11:19:22.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario010-standalone.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d13612ff3fd222a868b2ad93694408bb0d21bc4', 'message': 'THT cleanup of scenario001/004/010 for Deployed Ceph\n\nRemove parameters which are not used when ""deployed ceph""\nis used. The CephClusterFSID, ""DeployedCeph: true"", and\ndata_devices (from the soon to be deprecated CephOsdSpec)\nwill be set in the deployed_ceph.yaml environment file\nwhich is generated and passed to the overcloud deployment\nby I982dedb53582fbd76391165c3ca72954c129b84a.\n\nDepends-On: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797\nChange-Id: Id6d0699123b9e9b75011ee94949ec4a69012f9af\n(cherry picked from commit be7f55bdf66280832768b27a7e2c8e4be8774c26)\n'}]",8,848279,1d13612ff3fd222a868b2ad93694408bb0d21bc4,44,4,10,18002,,,0,"THT cleanup of scenario001/004/010 for Deployed Ceph

Remove parameters which are not used when ""deployed ceph""
is used. The CephClusterFSID, ""DeployedCeph: true"", and
data_devices (from the soon to be deprecated CephOsdSpec)
will be set in the deployed_ceph.yaml environment file
which is generated and passed to the overcloud deployment
by I982dedb53582fbd76391165c3ca72954c129b84a.

Depends-On: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797
Change-Id: Id6d0699123b9e9b75011ee94949ec4a69012f9af
(cherry picked from commit be7f55bdf66280832768b27a7e2c8e4be8774c26)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/848279/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario010-standalone.yaml', 'ci/environments/scenario001-standalone.yaml']",3,734fcfe6c1443e4114b1332f1fade476959763f2,deployed_ceph_ci-stable/wallaby, DeployedCeph: true, CephSpecFqdn: true CephOsdSpec: data_devices: paths: - /dev/ceph_vg/ceph_lv_data CephClusterFSID: '4b5c8c0a-ff60-454b-a1b4-9747aa737d19',7,14
openstack%2Ftripleo-heat-templates~master~Ida8e79d5cf1a4ecf80dbe855798c3732ced06260,openstack/tripleo-heat-templates,master,Ida8e79d5cf1a4ecf80dbe855798c3732ced06260,ironic tftp: Do not format IPv6 address for bind_host,MERGED,2022-06-16 02:35:15.000000000,2022-07-04 23:10:04.000000000,2022-07-04 23:10:04.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-06-16 02:35:15.000000000', 'files': ['deployment/ironic/ironic-conductor-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3290e6f9de3a905085a6e29ebb4cbf9f2d8d41db', 'message': 'ironic tftp: Do not format IPv6 address for bind_host\n\ndnsmasq does not accept IPv6 addresses surrounded by [] and we should\npass a raw IP string without [].\n\nCloses-Bug: #1978892\nChange-Id: Ida8e79d5cf1a4ecf80dbe855798c3732ced06260\n'}]",8,846081,3290e6f9de3a905085a6e29ebb4cbf9f2d8d41db,29,4,1,9816,,,0,"ironic tftp: Do not format IPv6 address for bind_host

dnsmasq does not accept IPv6 addresses surrounded by [] and we should
pass a raw IP string without [].

Closes-Bug: #1978892
Change-Id: Ida8e79d5cf1a4ecf80dbe855798c3732ced06260
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/846081/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-conductor-container-puppet.yaml'],1,3290e6f9de3a905085a6e29ebb4cbf9f2d8d41db,bug/1978892," ""%{lookup('$NETWORK')}"""," ""%{lookup('$NETWORK_uri')}""",1,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I9c62591639fdee7fc48faa60578cd857c4a48fc6,openstack/tripleo-ansible,stable/wallaby,I9c62591639fdee7fc48faa60578cd857c4a48fc6,bnr - backup of the control plane in composable roles deployment,MERGED,2022-06-29 09:09:43.000000000,2022-07-04 23:10:01.000000000,2022-07-04 23:10:01.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32968}]","[{'number': 1, 'created': '2022-06-29 09:09:43.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-backup.yaml', 'tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1c3160a28bae58e048580a2b6dc08d65399fc39f', 'message': 'bnr - backup of the control plane in composable roles deployment\n\nSupport for automated backup of the groups of nodes specified by the ""tripleo_controller_group_name"" variable.\n\nChange-Id: I9c62591639fdee7fc48faa60578cd857c4a48fc6\n(cherry picked from commit d1c2a6509f33d95fdcbcb0a2a4c0c06557e63abb)\n'}]",2,848060,1c3160a28bae58e048580a2b6dc08d65399fc39f,14,7,1,34423,,,0,"bnr - backup of the control plane in composable roles deployment

Support for automated backup of the groups of nodes specified by the ""tripleo_controller_group_name"" variable.

Change-Id: I9c62591639fdee7fc48faa60578cd857c4a48fc6
(cherry picked from commit d1c2a6509f33d95fdcbcb0a2a4c0c06557e63abb)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/60/848060/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-overcloud-backup.yaml', 'tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_backup.yml']",5,1c3160a28bae58e048580a2b6dc08d65399fc39f,bnr_composable-stable/wallaby,,"- name: Getting enabled_services command: | hiera -c ""{{ tripleo_backup_and_restore_hiera_config_file }}"" 'enabled_services' register: tripleo_backup_and_restore_enabled_services tags: - bar_create_recover_image - name: Set pacemaker enable variable set_fact: pacemaker_enabled: ""{{ (tripleo_backup_and_restore_enabled_services.stdout is search('pacemaker')) | ternary(true,false) }}"" tags: - bar_create_recover_image ",39,17
openstack%2Frequirements~stable%2Fyoga~Ia7f81259e3c9db2d13afe77b2f7312f9a131ffd1,openstack/requirements,stable/yoga,Ia7f81259e3c9db2d13afe77b2f7312f9a131ffd1,update constraint for python-manilaclient to new release 3.3.1,MERGED,2022-07-04 12:13:32.000000000,2022-07-04 22:23:14.000000000,2022-07-04 22:23:14.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-04 12:13:32.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fafd055d31584651a69a5bcf42e5da96525df037', 'message': 'update constraint for python-manilaclient to new release 3.3.1\n\nmeta: version: 3.3.1\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: silvacarloss <ces.eduardo98@gmail.com>\nmeta: release:Commit: silvacarloss <ces.eduardo98@gmail.com>\nmeta: release:Change-Id: Ib4319d2c8e138073d889bbede29843c7bc014223\nmeta: release:Code-Review+1: Goutham Pacha Ravi <gouthampravi@gmail.com>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ia7f81259e3c9db2d13afe77b2f7312f9a131ffd1\n'}]",0,848627,fafd055d31584651a69a5bcf42e5da96525df037,11,3,1,11131,,,0,"update constraint for python-manilaclient to new release 3.3.1

meta: version: 3.3.1
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: silvacarloss <ces.eduardo98@gmail.com>
meta: release:Commit: silvacarloss <ces.eduardo98@gmail.com>
meta: release:Change-Id: Ib4319d2c8e138073d889bbede29843c7bc014223
meta: release:Code-Review+1: Goutham Pacha Ravi <gouthampravi@gmail.com>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ia7f81259e3c9db2d13afe77b2f7312f9a131ffd1
",git fetch https://review.opendev.org/openstack/requirements refs/changes/27/848627/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,fafd055d31584651a69a5bcf42e5da96525df037,new-release,python-manilaclient===3.3.1,python-manilaclient===3.3.0,1,1
openstack%2Ftripleo-heat-templates~master~I740a87bdf9ce9fccc34e661c48053ac8c969b5db,openstack/tripleo-heat-templates,master,I740a87bdf9ce9fccc34e661c48053ac8c969b5db,[collectd] Remove processes plugin from default list,MERGED,2022-06-28 21:05:30.000000000,2022-07-04 22:22:06.000000000,2022-07-04 22:20:55.000000000,"[{'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 13177}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-28 21:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/69ce8cf5ef44767d13d1325e831bd8c3fa525017', 'message': ""[collectd] Remove processes plugin from default list\n\nRemove the processes plugin from the default collectd plugins list as it\ncan cause flooding issues. Additionally, loading this plugin by default\ninto a containerized collectd deployment doesn't make sense as it will\nonly ever see the collectd and sensubility processes.\n\nResolves: rhbz#2074853\n\nChange-Id: I740a87bdf9ce9fccc34e661c48053ac8c969b5db\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n""}, {'number': 2, 'created': '2022-06-28 21:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aa7da4842dc78d2ad7ecbdd10d64f4dfe6801d7a', 'message': ""[collectd] Remove processes plugin from default list\n\nRemove the processes plugin from the default collectd plugins list as it\ncan cause flooding issues. Additionally, loading this plugin by default\ninto a containerized collectd deployment doesn't make sense as it will\nonly ever see the collectd and sensubility processes.\n\nChange-Id: I740a87bdf9ce9fccc34e661c48053ac8c969b5db\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n""}, {'number': 3, 'created': '2022-06-28 21:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1858e0144c91f25dba5ce97ae422229a6c888aad', 'message': ""[collectd] Remove processes plugin from default list\n\nRemove the processes plugin from the default collectd plugins list as it\ncan cause flooding issues. Additionally, loading this plugin by default\ninto a containerized collectd deployment doesn't make sense as it will\nonly ever see the collectd and sensubility processes.\n\nChange-Id: I740a87bdf9ce9fccc34e661c48053ac8c969b5db\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n""}, {'number': 4, 'created': '2022-07-04 13:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae9e1d028da05c3abb8c244fbcb1a49c083af1b4', 'message': ""[collectd] Remove processes plugin from default list\n\nRemove the processes plugin from the default collectd plugins list as it\ncan cause logging to be flooded with messages such as 'procs_running not\nfound'.\n\nChange-Id: I740a87bdf9ce9fccc34e661c48053ac8c969b5db\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n""}, {'number': 5, 'created': '2022-07-04 13:06:52.000000000', 'files': ['releasenotes/notes/collectd-remove-processes-plugin-default-1d07c9ddfde0c2f7.yaml', 'deployment/metrics/collectd-container-ansible.yaml', 'deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91ee65408e6f4eb70338b42bc7c3791272c14dbd', 'message': ""[collectd] Remove processes plugin from default list\n\nRemove the processes plugin from the default collectd plugins list as it\ncan cause logging to be flooded with messages such as 'procs_running not\nfound'.\n\nChange-Id: I740a87bdf9ce9fccc34e661c48053ac8c969b5db\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n""}]",7,848031,91ee65408e6f4eb70338b42bc7c3791272c14dbd,21,7,5,7294,,,0,"[collectd] Remove processes plugin from default list

Remove the processes plugin from the default collectd plugins list as it
can cause logging to be flooded with messages such as 'procs_running not
found'.

Change-Id: I740a87bdf9ce9fccc34e661c48053ac8c969b5db
Signed-off-by: Leif Madsen <lmadsen@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/848031/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/metrics/collectd-container-ansible.yaml', 'deployment/metrics/collectd-container-puppet.yaml']",2,69ce8cf5ef44767d13d1325e831bd8c3fa525017,,, - processes,0,2
openstack%2Fcharm-swift-storage~master~I9effc6052524ead9817454912284e3c48ce55901,openstack/charm-swift-storage,master,I9effc6052524ead9817454912284e3c48ce55901,Changes to the default inode size,MERGED,2022-06-13 19:48:48.000000000,2022-07-04 20:43:21.000000000,2022-07-04 20:43:21.000000000,"[{'_account_id': 8992}, {'_account_id': 10058}, {'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2022-06-13 19:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/fef59d32b0ee4b483f6cfad54c80d2054f690651', 'message': 'Changes to the default inode size\nAs per the bug report, the xfs-inode-size default value is in contradiction with the current upstream advice.\nThis patch removes the default value and accept the filesystem defaults for mkfs.xfs inode sizes.\n\nCloses-Bug: #1879423\nChange-Id: I9effc6052524ead9817454912284e3c48ce55901\n'}, {'number': 2, 'created': '2022-06-14 16:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/fb01faa7e6d7414480360b2d76c8d9a8b6bf1c86', 'message': 'Changes to the default inode size\n\nAs per the bug report, the xfs-inode-size default value is in contradiction with the current upstream advice.\nThis patch removes the default value and accept the filesystem defaults for mkfs.xfs inode sizes.\n\nCloses-Bug: #1879423\nChange-Id: I9effc6052524ead9817454912284e3c48ce55901\n'}, {'number': 3, 'created': '2022-06-14 19:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/72971114fc883bafed057667a74c067b1ed9f5f1', 'message': 'Changes to the default inode size\n\nAs per the bug report, the xfs-inode-size default value is in contradiction with the current upstream advice.\nThis patch removes the default value and accept the filesystem defaults for mkfs.xfs inode sizes.\n\nCloses-Bug: #1879423\nChange-Id: I9effc6052524ead9817454912284e3c48ce55901\n'}, {'number': 4, 'created': '2022-06-15 17:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/e0009e619c78a013f5cc1c8e0c4e4eccdf46744f', 'message': 'Changes to the default inode size\n\nAs per the bug report, the xfs-inode-size default value is in contradiction with the current upstream advice.\nThis patch removes the default value and accept the filesystem defaults for mkfs.xfs inode sizes.\n\nCloses-Bug: #1879423\nChange-Id: I9effc6052524ead9817454912284e3c48ce55901\n'}, {'number': 5, 'created': '2022-06-21 03:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/6b1ab5ed877d2022317693d7d2e6de6a4308b5e8', 'message': 'Changes to the default inode size\n\nAs per the bug report, the xfs-inode-size default value is in contradiction with the current upstream advice.\nThis patch removes the default value and accept the filesystem defaults for mkfs.xfs inode sizes.\n\nCloses-Bug: #1879423\nChange-Id: I9effc6052524ead9817454912284e3c48ce55901\n'}, {'number': 6, 'created': '2022-06-21 18:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/910be2283e1d7fd817442d25adecfed430d7bd80', 'message': 'Changes to the default inode size\n\nAs per the bug report, the xfs-inode-size default value is in contradiction with the current upstream advice.\nThis patch removes the default value and accept the filesystem defaults for mkfs.xfs inode sizes.\n\nCloses-Bug: #1879423\nChange-Id: I9effc6052524ead9817454912284e3c48ce55901\n'}, {'number': 7, 'created': '2022-06-21 18:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/f5d6e1b68798b2c5d7021c112d9bc913967a5fcb', 'message': 'Changes to the default inode size\n\nAs per the bug report, the xfs-inode-size default value is in contradiction with the current upstream advice.\nThis patch removes the default value and accept the filesystem defaults for mkfs.xfs inode sizes.\n\nCloses-Bug: #1879423\nChange-Id: I9effc6052524ead9817454912284e3c48ce55901\n'}, {'number': 8, 'created': '2022-06-21 22:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/c821482c94d4b2a5140d9d432e329f4040d3514e', 'message': 'Changes to the default inode size\n\nAs per the bug report, the xfs-inode-size default value is in contradiction with the current upstream advice.\nThis patch removes the default value and accept the filesystem defaults for mkfs.xfs inode sizes.\n\nCloses-Bug: #1879423\nChange-Id: I9effc6052524ead9817454912284e3c48ce55901\n'}, {'number': 9, 'created': '2022-06-23 15:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/4b7e3e4859d02bba309919759f1cfd45b277783e', 'message': 'Changes to the default inode size\n\nAs per the bug report, the xfs-inode-size default value is in contradiction with the current upstream advice.\nThis patch removes the default value and accept the filesystem defaults for mkfs.xfs inode sizes.\n\nCloses-Bug: #1879423\nChange-Id: I9effc6052524ead9817454912284e3c48ce55901\n'}, {'number': 10, 'created': '2022-06-24 06:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/10287be604cc9f034c462dbe4628210c04e075f4', 'message': 'Changes to the default inode size\n\nAs per the bug report, the xfs-inode-size default value is in contradiction with the current upstream advice.\nThis patch removes the default value and accept the filesystem defaults for mkfs.xfs inode sizes.\n\nCloses-Bug: #1879423\nChange-Id: I9effc6052524ead9817454912284e3c48ce55901\n'}, {'number': 11, 'created': '2022-06-28 15:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/0e5437e8e23c67a5519c99cfb855cba763115b6f', 'message': 'Changes to the default inode size\n\nAs per the bug report, the xfs-inode-size default value is in contradiction with the current upstream advice.\nThis patch removes the default value and accept the filesystem defaults for mkfs.xfs inode sizes.\n\nCloses-Bug: #1879423\nChange-Id: I9effc6052524ead9817454912284e3c48ce55901\n'}, {'number': 12, 'created': '2022-06-30 11:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/40dcab0d99b02392f29de5e8da07a4617b0099a8', 'message': 'Changes to the default inode size\n\nAs per the bug report, the xfs-inode-size default value is in contradiction with the current upstream advice.\nThis patch removes the default value and accept the filesystem defaults for mkfs.xfs inode sizes.\n\nCloses-Bug: #1879423\nChange-Id: I9effc6052524ead9817454912284e3c48ce55901\n'}, {'number': 13, 'created': '2022-06-30 12:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/825a422a51e3cc0862f45de2a6d3e0d9055db737', 'message': 'Changes to the default inode size\n\nAs per the bug report, the xfs-inode-size default value is in contradiction with the current upstream advice.\nThis patch removes the default value and accept the filesystem defaults for mkfs.xfs inode sizes.\n\nCloses-Bug: #1879423\nChange-Id: I9effc6052524ead9817454912284e3c48ce55901\n'}, {'number': 14, 'created': '2022-07-04 13:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/0b5b671ce2646ce3b9a588e8f4a93ae28c15026f', 'message': 'Changes to the default inode size\n\nAs per the bug report, the xfs-inode-size default value is in contradiction with the current upstream advice.\nThis patch removes the default value and accept the filesystem defaults for mkfs.xfs inode sizes.\n\nCloses-Bug: #1879423\nChange-Id: I9effc6052524ead9817454912284e3c48ce55901\n'}, {'number': 15, 'created': '2022-07-04 15:58:24.000000000', 'files': ['charmhelpers/contrib/storage/linux/utils.py', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/98c67e4d92cd4a9dbae16e8f7f6ff1d6e1bd186d', 'message': 'Changes to the default inode size\n\nAs per the bug report, the xfs-inode-size default value is in contradiction with the current upstream advice.\nThis patch removes the default value and accept the filesystem defaults for mkfs.xfs inode sizes.\n\nCloses-Bug: #1879423\nChange-Id: I9effc6052524ead9817454912284e3c48ce55901\n'}]",34,845629,98c67e4d92cd4a9dbae16e8f7f6ff1d6e1bd186d,72,7,15,34959,,,0,"Changes to the default inode size

As per the bug report, the xfs-inode-size default value is in contradiction with the current upstream advice.
This patch removes the default value and accept the filesystem defaults for mkfs.xfs inode sizes.

Closes-Bug: #1879423
Change-Id: I9effc6052524ead9817454912284e3c48ce55901
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/29/845629/6 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/storage/linux/utils.py', 'config.yaml']",2,fef59d32b0ee4b483f6cfad54c80d2054f690651,bug/1879423,, xfs-inode-size: default: 512 type: int description: XFS inode size to use for block devices.,3,5
openstack%2Ftooz~stable%2Fussuri~Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1,openstack/tooz,stable/ussuri,Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1,Enable retries in redis driver,MERGED,2022-06-22 13:10:23.000000000,2022-07-04 20:03:10.000000000,2022-07-04 20:01:09.000000000,"[{'_account_id': 4264}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-22 13:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/b7a5b073f898dcbc5aa79eaa9cfebe07cf0484aa', 'message': 'Enable retries in redis driver\n\nthis is followup to Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n\nactually retry for specified number of retries instead of raising\nerror on first ConnectionError\n\nChange-Id: Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1\n(cherry picked from commit 47c4d56e446a49726e7145c6cbc3bb7620a431f7)\n(cherry picked from commit 11526e594c7e7cef8b5a4a4220f100d76a418036)\n(cherry picked from commit c1ae1649d22b356f2bbb2293cb421eb155fdee14)\n'}, {'number': 2, 'created': '2022-06-22 13:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/ea55824be2ae5eb4d282f3a1ea9d4bc2fd855a15', 'message': 'Enable retries in redis driver\n\nthis is followup to Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n\nactually retry for specified number of retries instead of raising\nerror on first ConnectionError\n\nChange-Id: Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1\n(cherry picked from commit 47c4d56e446a49726e7145c6cbc3bb7620a431f7)\n(cherry picked from commit 11526e594c7e7cef8b5a4a4220f100d76a418036)\n(cherry picked from commit c1ae1649d22b356f2bbb2293cb421eb155fdee14)\n'}, {'number': 3, 'created': '2022-07-04 16:44:27.000000000', 'files': ['releasenotes/notes/redis-connect-retries-c9adfc81eb06a4ab.yaml', 'tooz/drivers/redis.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/816ea504c92b141b34759faaf814698499fa0c75', 'message': 'Enable retries in redis driver\n\nthis is followup to Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n\nactually retry for specified number of retries instead of raising\nerror on first ConnectionError\n\nChange-Id: Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1\n(cherry picked from commit 47c4d56e446a49726e7145c6cbc3bb7620a431f7)\n(cherry picked from commit 11526e594c7e7cef8b5a4a4220f100d76a418036)\n(cherry picked from commit c1ae1649d22b356f2bbb2293cb421eb155fdee14)\n'}]",4,847152,816ea504c92b141b34759faaf814698499fa0c75,21,4,3,13177,,,0,"Enable retries in redis driver

this is followup to Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b

actually retry for specified number of retries instead of raising
error on first ConnectionError

Change-Id: Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1
(cherry picked from commit 47c4d56e446a49726e7145c6cbc3bb7620a431f7)
(cherry picked from commit 11526e594c7e7cef8b5a4a4220f100d76a418036)
(cherry picked from commit c1ae1649d22b356f2bbb2293cb421eb155fdee14)
",git fetch https://review.opendev.org/openstack/tooz refs/changes/52/847152/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/redis-connect-retries-c9adfc81eb06a4ab.yaml', 'tooz/drivers/redis.py']",2,b7a5b073f898dcbc5aa79eaa9cfebe07cf0484aa,redis-retry-fix,"<<<<<<< HEAD (667e2e Fix broken CI and PyMySQL support)======= def _handle_failures(n_tries=15): """"""Translates common redis exceptions into tooz exceptions. This also enables retrying on certain exceptions. :param func: the function to act on :param n_tries: the number of retries """""" def inner(func): @functools.wraps(func) def wrapper(*args, **kwargs): ntries = n_tries while ntries: try: return func(*args, **kwargs) except exceptions.ConnectionError as e: # retry ntries times and then raise a connection error ntries -= 1 if not ntries: LOG.debug( ""Redis connection error, "" ""retry limit has been reached, aborting - %s"", e ) utils.raise_with_cause( coordination.ToozConnectionError, encodeutils.exception_to_unicode(e), cause=e) LOG.debug(""Redis connection error, will retry - %s"", e) except (exceptions.TimeoutError) as e: utils.raise_with_cause(coordination.ToozConnectionError, encodeutils.exception_to_unicode(e), cause=e) except exceptions.RedisError as e: utils.raise_with_cause(tooz.ToozError, encodeutils.exception_to_unicode(e), cause=e) return wrapper return inner >>>>>>> CHANGE (c1ae16 Enable retries in redis driver)<<<<<<< HEAD (667e2e Fix broken CI and PyMySQL support) ======= @_handle_failures() >>>>>>> CHANGE (c1ae16 Enable retries in redis driver)<<<<<<< HEAD (667e2e Fix broken CI and PyMySQL support) ======= @_handle_failures() >>>>>>> CHANGE (c1ae16 Enable retries in redis driver)<<<<<<< HEAD (667e2e Fix broken CI and PyMySQL support) ======= @_handle_failures() >>>>>>> CHANGE (c1ae16 Enable retries in redis driver)<<<<<<< HEAD (667e2e Fix broken CI and PyMySQL support) ======= @_handle_failures() >>>>>>> CHANGE (c1ae16 Enable retries in redis driver)<<<<<<< HEAD (667e2e Fix broken CI and PyMySQL support) ======= @_handle_failures() >>>>>>> CHANGE (c1ae16 Enable retries in redis driver)<<<<<<< HEAD (667e2e Fix broken CI and PyMySQL support) ======= @_handle_failures() >>>>>>> CHANGE (c1ae16 Enable retries in redis driver)<<<<<<< HEAD (667e2e Fix broken CI and PyMySQL support) ======= @_handle_failures() >>>>>>> CHANGE (c1ae16 Enable retries in redis driver)<<<<<<< HEAD (667e2e Fix broken CI and PyMySQL support) ======= @_handle_failures() >>>>>>> CHANGE (c1ae16 Enable retries in redis driver)",,80,0
openstack%2Ftooz~stable%2Fussuri~Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b,openstack/tooz,stable/ussuri,Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b,Retry on redis connection errors,MERGED,2022-06-22 13:25:22.000000000,2022-07-04 20:02:11.000000000,2022-07-04 20:01:06.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-22 13:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/b8e0d819d406857f431723de47f9f2ceb700d1c8', 'message': ""Retry on redis connection errors\n\nSometimes, connections get closed by the server. This change\nadds retrying to the code.\n\nConflict:\nrequirements.txt\n\nNOTE(hberaud): This conflict is due to the cap of tenacity during wallaby\nto unblock the gate. This requirement cap won't be an issue for victoria\nand for previous stable branches.\n\nhttps://opendev.org/openstack/tooz/commit/fe9c4304551cce0ac85366965009ad102fd9610a\n\nChange-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n(cherry picked from commit a025b4d4ee9fe1bd722960ea03445034580bec6f)\n(cherry picked from commit 62d5d17a5d2495f1f898163bbd83acbbc9873620)\n(cherry picked from commit 1ddddbba734e5eb4cbba82ae9951a8eb09f94bb9)\n""}, {'number': 2, 'created': '2022-07-04 16:44:27.000000000', 'files': ['tooz/drivers/redis.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/0734d86ae2322aeff92a2d44aa9b796bb7a14c26', 'message': 'Retry on redis connection errors\n\nSometimes, connections get closed by the server. This change\nadds retrying to the code.\n\nConflicts:\n  tooz/drivers/redis.py\n\nNOTE(stephenfin): Conflicts are due to the absence of change\nI95809cf4035a6bc487b24f9e91aaa715921ad842 (""Stop to use the __future__\nmodule."") which we don\'t really need to backport.\n\nChanges:\n  requirements.txt\n\nNOTE(stephenfin): We don\'t need the cap to tenacity that was found in\nthe stable/victoria backport since that\'s already been done here by\nchange I8d6647118be22b0ce55e01b7e5451612ebe30e73 (""Cap protobuf < 4.x"").\n\nChange-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n(cherry picked from commit a025b4d4ee9fe1bd722960ea03445034580bec6f)\n(cherry picked from commit 62d5d17a5d2495f1f898163bbd83acbbc9873620)\n(cherry picked from commit 1ddddbba734e5eb4cbba82ae9951a8eb09f94bb9)\n'}]",2,847174,0734d86ae2322aeff92a2d44aa9b796bb7a14c26,12,3,2,15334,,,0,"Retry on redis connection errors

Sometimes, connections get closed by the server. This change
adds retrying to the code.

Conflicts:
  tooz/drivers/redis.py

NOTE(stephenfin): Conflicts are due to the absence of change
I95809cf4035a6bc487b24f9e91aaa715921ad842 (""Stop to use the __future__
module."") which we don't really need to backport.

Changes:
  requirements.txt

NOTE(stephenfin): We don't need the cap to tenacity that was found in
the stable/victoria backport since that's already been done here by
change I8d6647118be22b0ce55e01b7e5451612ebe30e73 (""Cap protobuf < 4.x"").

Change-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b
(cherry picked from commit a025b4d4ee9fe1bd722960ea03445034580bec6f)
(cherry picked from commit 62d5d17a5d2495f1f898163bbd83acbbc9873620)
(cherry picked from commit 1ddddbba734e5eb4cbba82ae9951a8eb09f94bb9)
",git fetch https://review.opendev.org/openstack/tooz refs/changes/74/847174/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tooz/drivers/redis.py']",2,b8e0d819d406857f431723de47f9f2ceb700d1c8,redis-retry-fix,"def _handle_failures(func=None, n_tries=15): """"""Translates common redis exceptions into tooz exceptions. This also enables retrying on certain exceptions. :param func: the function to act on :param n_tries: the number of retries """""" if func is None: return functools.partial( _handle_failures, n_tries=n_tries ) @functools.wraps(func) def wrapper(*args, **kwargs): ntries = n_tries while ntries > 1: try: return func(*args, **kwargs) except exceptions.ConnectionError as e: # retry ntries times and then raise a connection error ntries -= 1 if ntries >= 1: utils.raise_with_cause(coordination.ToozConnectionError, encodeutils.exception_to_unicode(e), cause=e) except (exceptions.TimeoutError) as e: utils.raise_with_cause(coordination.ToozConnectionError, encodeutils.exception_to_unicode(e), cause=e) except exceptions.RedisError as e: utils.raise_with_cause(tooz.ToozError, encodeutils.exception_to_unicode(e), cause=e) return func(*args, **kwargs) return wrapper @_handle_failures def is_still_owner(self): lock_tok = self._lock.local.token if not lock_tok: return False owner_tok = self._client.get(self.name) return owner_tok == lock_tok @_handle_failures def break_(self): return bool(self._client.delete(self.name)) @_handle_failures acquired = self._lock.acquire( blocking=blocking, blocking_timeout=timeout) if acquired: with self._exclusive_access: self._coord._acquired_locks.add(self) return acquired @_handle_failures try: self._lock.release() except exceptions.LockError as e: LOG.error(""Unable to release lock '%r': %s"", self, e) return False finally: self._coord._acquired_locks.discard(self) return True @_handle_failures self._lock.reacquire() return True @_handle_failures self._server_info = self._client.info() @_handle_failures def heartbeat(self): beat_id = self._encode_beat_id(self._member_id) expiry_ms = max(0, int(self.membership_timeout * 1000.0)) self._client.psetex(beat_id, time_ms=expiry_ms, value=self.STILL_ALIVE) @_handle_failures self._client.delete(beat_id)RedisFutureResult = functools.partial(coordination.CoordinatorResult)","import contextlib@contextlib.contextmanager def _translate_failures(): """"""Translates common redis exceptions into tooz exceptions."""""" try: yield except (exceptions.ConnectionError, exceptions.TimeoutError) as e: utils.raise_with_cause(coordination.ToozConnectionError, encodeutils.exception_to_unicode(e), cause=e) except exceptions.RedisError as e: utils.raise_with_cause(tooz.ToozError, encodeutils.exception_to_unicode(e), cause=e) def is_still_owner(self): with _translate_failures(): lock_tok = self._lock.local.token if not lock_tok: return False owner_tok = self._client.get(self.name) return owner_tok == lock_tok def break_(self): with _translate_failures(): return bool(self._client.delete(self.name)) with _translate_failures(): acquired = self._lock.acquire( blocking=blocking, blocking_timeout=timeout) if acquired: with self._exclusive_access: self._coord._acquired_locks.add(self) return acquired with _translate_failures(): try: self._lock.release() except exceptions.LockError as e: LOG.error(""Unable to release lock '%r': %s"", self, e) return False finally: self._coord._acquired_locks.discard(self) return True with _translate_failures(): self._lock.reacquire() return True with _translate_failures(): self._server_info = self._client.info() def heartbeat(self): with _translate_failures(): beat_id = self._encode_beat_id(self._member_id) expiry_ms = max(0, int(self.membership_timeout * 1000.0)) self._client.psetex(beat_id, time_ms=expiry_ms, value=self.STILL_ALIVE) with _translate_failures(): self._client.delete(beat_id)RedisFutureResult = functools.partial(coordination.CoordinatorResult, failure_translator=_translate_failures)",79,53
openstack%2Ftooz~stable%2Fvictoria~I8d6647118be22b0ce55e01b7e5451612ebe30e73,openstack/tooz,stable/victoria,I8d6647118be22b0ce55e01b7e5451612ebe30e73,Cap protobuf < 4.x,MERGED,2022-07-04 11:46:49.000000000,2022-07-04 20:02:09.000000000,2022-07-04 20:01:04.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-04 11:46:49.000000000', 'files': ['doc/requirements.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tooz/commit/8ca40da4bbe813a76cd48d3e8e54b78d10f25765', 'message': 'Cap protobuf < 4.x\n\ntooz doesn\'t use upper-constraints so we get the newest version of all\ndependencies. It seems one of these, etcd3, is incompatible with recent\nversions of protobuf.\n\n  Failed to import test module: tooz.tests.drivers.test_etcd3\n  Traceback (most recent call last):\n    File ""/usr/lib/python3.7/unittest/loader.py"", line 436, in _find_test_path\n      module = self._get_module_from_name(name)\n    File ""/usr/lib/python3.7/unittest/loader.py"", line 377, in _get_module_from_name\n      __import__(name)\n    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/tests/drivers/test_etcd3.py"", line 22, in <module>\n      import tooz.drivers.etcd3 as etcd3_driver\n    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/drivers/etcd3.py"", line 18, in <module>\n      import etcd3\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/__init__.py"", line 3, in <module>\n      import etcd3.etcdrpc as etcdrpc\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/__init__.py"", line 1, in <module>\n      from .rpc_pb2 import *\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/rpc_pb2.py"", line 16, in <module>\n      from etcd3.etcdrpc import kv_pb2 as kv__pb2\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/kv_pb2.py"", line 36, in <module>\n      type=None),\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/google/protobuf/descriptor.py"", line 755, in __new__\n      _message.Message._CheckCalledFromGeneratedFile()\n  TypeError: Descriptors cannot not be created directly.\n  If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc >= 3.19.0.\n  If you cannot immediately regenerate your protos, some other possible workarounds are:\n   1. Downgrade the protobuf package to 3.20.x or lower.\n   2. Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).\n\nThe etcd3 dependency is only used for the etcd3 driver which was\ndeprecated in change Iff0cd3b51cfc45ecbddc831c55267e80e9c79cac. The\nprotobuf dependency is only used for etcd3. We can\'t outright remove the\netcd3 driver yet as it hasn\'t been long enough since we deprecated it.\nThat will happen soon enough though and until then we can simply cap\nprotobuf to an older version that is compatible with the most recent\netcd3 release.\n\nWhile we\'re here, we also sync the lower boundaries in the docs\nrequirments and add some comments indicating where they come from/what\nthey\'re for.\n\nChange-Id: I8d6647118be22b0ce55e01b7e5451612ebe30e73\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit e3de0e634af62e46162eb8d2354416ce4f2ba77c)\n(cherry picked from commit 73dbe0e6fc1403cbb121985781d7b6ec996b099a)\n'}]",2,848620,8ca40da4bbe813a76cd48d3e8e54b78d10f25765,12,3,1,15334,,,0,"Cap protobuf < 4.x

tooz doesn't use upper-constraints so we get the newest version of all
dependencies. It seems one of these, etcd3, is incompatible with recent
versions of protobuf.

  Failed to import test module: tooz.tests.drivers.test_etcd3
  Traceback (most recent call last):
    File ""/usr/lib/python3.7/unittest/loader.py"", line 436, in _find_test_path
      module = self._get_module_from_name(name)
    File ""/usr/lib/python3.7/unittest/loader.py"", line 377, in _get_module_from_name
      __import__(name)
    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/tests/drivers/test_etcd3.py"", line 22, in <module>
      import tooz.drivers.etcd3 as etcd3_driver
    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/drivers/etcd3.py"", line 18, in <module>
      import etcd3
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/__init__.py"", line 3, in <module>
      import etcd3.etcdrpc as etcdrpc
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/__init__.py"", line 1, in <module>
      from .rpc_pb2 import *
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/rpc_pb2.py"", line 16, in <module>
      from etcd3.etcdrpc import kv_pb2 as kv__pb2
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/kv_pb2.py"", line 36, in <module>
      type=None),
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/google/protobuf/descriptor.py"", line 755, in __new__
      _message.Message._CheckCalledFromGeneratedFile()
  TypeError: Descriptors cannot not be created directly.
  If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc >= 3.19.0.
  If you cannot immediately regenerate your protos, some other possible workarounds are:
   1. Downgrade the protobuf package to 3.20.x or lower.
   2. Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).

The etcd3 dependency is only used for the etcd3 driver which was
deprecated in change Iff0cd3b51cfc45ecbddc831c55267e80e9c79cac. The
protobuf dependency is only used for etcd3. We can't outright remove the
etcd3 driver yet as it hasn't been long enough since we deprecated it.
That will happen soon enough though and until then we can simply cap
protobuf to an older version that is compatible with the most recent
etcd3 release.

While we're here, we also sync the lower boundaries in the docs
requirments and add some comments indicating where they come from/what
they're for.

Change-Id: I8d6647118be22b0ce55e01b7e5451612ebe30e73
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit e3de0e634af62e46162eb8d2354416ce4f2ba77c)
(cherry picked from commit 73dbe0e6fc1403cbb121985781d7b6ec996b099a)
",git fetch https://review.opendev.org/openstack/tooz refs/changes/20/848620/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'setup.cfg']",2,8ca40da4bbe813a76cd48d3e8e54b78d10f25765,bug/1980079, protobuf<4.0 # BSD License (3 clause),,21,5
openstack%2Ftripleo-quickstart-extras~master~I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797,openstack/tripleo-quickstart-extras,master,I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797,Test Deployed Ceph in Wallaby standalone 001/004/010,MERGED,2022-06-07 21:15:07.000000000,2022-07-04 19:52:44.000000000,2022-07-04 19:52:44.000000000,"[{'_account_id': 6681}, {'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-06-07 21:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5f8b64a6a6a56f7f44b48e8722e5171a78cc9d0c', 'message': 'Test Deployed Ceph in Wallaby standalone 001/004/010\n\nDeploy Ceph before the overcloud when testing Wallaby.\nFollow up to I982dedb53582fbd76391165c3ca72954c129b84a\n\nChange-Id: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797\n'}, {'number': 2, 'created': '2022-06-16 02:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/79fc5d5274c956ba95e123e5286cd2848d395680', 'message': 'Test Deployed Ceph in Wallaby standalone 001/004/010\n\nDeploy Ceph before the overcloud when testing Wallaby.\nFollow up to I982dedb53582fbd76391165c3ca72954c129b84a\n\nChange-Id: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/845482\n'}, {'number': 3, 'created': '2022-06-21 20:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0d0506fda6fd1888d3f4c7b96b55d8601f491f55', 'message': 'Test Deployed Ceph in Wallaby standalone 001/004/010\n\nDeploy Ceph before the overcloud when testing Wallaby.\nFollow up to I982dedb53582fbd76391165c3ca72954c129b84a\n\nChange-Id: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/845482\n'}, {'number': 4, 'created': '2022-06-21 20:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ed4e26abf5fc385fcbff0a7db2e2483425eb960f', 'message': 'Test Deployed Ceph in Wallaby standalone 001/004/010\n\nDeploy Ceph before the overcloud when testing Wallaby.\nFollow up to I982dedb53582fbd76391165c3ca72954c129b84a\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/845482\nChange-Id: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797\n'}, {'number': 5, 'created': '2022-06-23 16:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/68017367bd7ae789d2327ba0e25519183a9b1e23', 'message': 'Test Deployed Ceph in Wallaby standalone 001/004/010\n\nDeploy Ceph before the overcloud when testing Wallaby.\nFollow up to I982dedb53582fbd76391165c3ca72954c129b84a\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/845482\nChange-Id: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797\n'}, {'number': 6, 'created': '2022-06-28 19:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6ac339b2b6c7f2023c9fea113ead00fc81e67243', 'message': 'Test Deployed Ceph in Wallaby standalone 001/004/010\n\nDeploy Ceph before the overcloud when testing Wallaby.\nFollow up to I982dedb53582fbd76391165c3ca72954c129b84a\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/847980\nChange-Id: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797\n'}, {'number': 7, 'created': '2022-06-29 21:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c26132329d92e82535e581517aeba1060116e815', 'message': 'Test Deployed Ceph in Wallaby standalone 001/004/010\n\nDeploy Ceph before the overcloud when testing Wallaby.\nFollow up to I982dedb53582fbd76391165c3ca72954c129b84a\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/847980\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/848191\nChange-Id: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797\n'}, {'number': 8, 'created': '2022-06-30 10:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fc2adab3ea91d88e782a3b615c363886aedb9ce5', 'message': 'Test Deployed Ceph in Wallaby standalone 001/004/010\n\nDeploy Ceph before the overcloud when testing Wallaby.\nFollow up to I982dedb53582fbd76391165c3ca72954c129b84a\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/847980\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/848191\nChange-Id: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797\n'}, {'number': 9, 'created': '2022-07-01 01:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0562bb61659acee17c24bd0d62b50942c2e542b9', 'message': 'Test Deployed Ceph in Wallaby standalone 001/004/010\n\nDeploy Ceph before the overcloud when testing Wallaby.\nFollow up to I982dedb53582fbd76391165c3ca72954c129b84a\n\nDepends-On: Ia6f6c472a8f7332ae3e998078f167f5f7d027857\nChange-Id: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797\n'}, {'number': 10, 'created': '2022-07-01 07:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9125e01a34eb48f39066177f3f77e01f933a873a', 'message': 'Test Deployed Ceph in Wallaby standalone 001/004/010\n\nDeploy Ceph before the overcloud when testing Wallaby.\nFollow up to I982dedb53582fbd76391165c3ca72954c129b84a\n\nDepends-On: Ia6f6c472a8f7332ae3e998078f167f5f7d027857\nChange-Id: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797\n'}, {'number': 11, 'created': '2022-07-01 16:16:40.000000000', 'files': ['roles/standalone/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a049c4d73f57075a2d825c470f31a4bc17c6ddc7', 'message': 'Test Deployed Ceph in Wallaby standalone 001/004/010\n\nDeploy Ceph before the overcloud when testing Wallaby.\nFollow up to I982dedb53582fbd76391165c3ca72954c129b84a\n\nChange-Id: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797\n'}]",14,845054,a049c4d73f57075a2d825c470f31a4bc17c6ddc7,96,5,11,18002,,,0,"Test Deployed Ceph in Wallaby standalone 001/004/010

Deploy Ceph before the overcloud when testing Wallaby.
Follow up to I982dedb53582fbd76391165c3ca72954c129b84a

Change-Id: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/54/845054/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/tasks/main.yml'],1,5f8b64a6a6a56f7f44b48e8722e5171a78cc9d0c,standalone_ceph_wallaby_squash," when: - zuul.branch is defined and zuul.branch in ['master', 'wallaby']"," when: # TODO(fultonj) use ['master', 'wallaby'] after backport - zuul.branch is defined and zuul.branch in ['master']",2,2
openstack%2Frequirements~stable%2Fwallaby~I72c20ae7a436a868b6ae1ff1c4ed40219ed13fe2,openstack/requirements,stable/wallaby,I72c20ae7a436a868b6ae1ff1c4ed40219ed13fe2,update constraint for python-manilaclient to new release 2.6.4,MERGED,2022-07-04 12:16:04.000000000,2022-07-04 19:35:32.000000000,2022-07-04 19:35:32.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-04 12:16:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b2e63902a44f9ff0c5fb1d04f353d3596f9090d2', 'message': 'update constraint for python-manilaclient to new release 2.6.4\n\nmeta: version: 2.6.4\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: silvacarloss <ces.eduardo98@gmail.com>\nmeta: release:Commit: silvacarloss <ces.eduardo98@gmail.com>\nmeta: release:Change-Id: I230a7e2dae91f91a37117cc63c6e2840f7c536ed\nmeta: release:Code-Review+1: Goutham Pacha Ravi <gouthampravi@gmail.com>\nmeta: release:Code-Review+1: Douglas Viroel <viroel@gmail.com>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I72c20ae7a436a868b6ae1ff1c4ed40219ed13fe2\n'}]",0,848629,b2e63902a44f9ff0c5fb1d04f353d3596f9090d2,8,3,1,11131,,,0,"update constraint for python-manilaclient to new release 2.6.4

meta: version: 2.6.4
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: silvacarloss <ces.eduardo98@gmail.com>
meta: release:Commit: silvacarloss <ces.eduardo98@gmail.com>
meta: release:Change-Id: I230a7e2dae91f91a37117cc63c6e2840f7c536ed
meta: release:Code-Review+1: Goutham Pacha Ravi <gouthampravi@gmail.com>
meta: release:Code-Review+1: Douglas Viroel <viroel@gmail.com>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I72c20ae7a436a868b6ae1ff1c4ed40219ed13fe2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/29/848629/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b2e63902a44f9ff0c5fb1d04f353d3596f9090d2,new-release,python-manilaclient===2.6.4,python-manilaclient===2.6.3,1,1
openstack%2Ftooz~stable%2Fussuri~I8d6647118be22b0ce55e01b7e5451612ebe30e73,openstack/tooz,stable/ussuri,I8d6647118be22b0ce55e01b7e5451612ebe30e73,Cap protobuf < 4.x,MERGED,2022-07-04 11:47:12.000000000,2022-07-04 19:01:15.000000000,2022-07-04 18:59:57.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-04 11:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/0439bfca150cebaef150e3f2537decac8b7d871c', 'message': 'Cap protobuf < 4.x\n\ntooz doesn\'t use upper-constraints so we get the newest version of all\ndependencies. It seems one of these, etcd3, is incompatible with recent\nversions of protobuf.\n\n  Failed to import test module: tooz.tests.drivers.test_etcd3\n  Traceback (most recent call last):\n    File ""/usr/lib/python3.7/unittest/loader.py"", line 436, in _find_test_path\n      module = self._get_module_from_name(name)\n    File ""/usr/lib/python3.7/unittest/loader.py"", line 377, in _get_module_from_name\n      __import__(name)\n    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/tests/drivers/test_etcd3.py"", line 22, in <module>\n      import tooz.drivers.etcd3 as etcd3_driver\n    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/drivers/etcd3.py"", line 18, in <module>\n      import etcd3\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/__init__.py"", line 3, in <module>\n      import etcd3.etcdrpc as etcdrpc\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/__init__.py"", line 1, in <module>\n      from .rpc_pb2 import *\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/rpc_pb2.py"", line 16, in <module>\n      from etcd3.etcdrpc import kv_pb2 as kv__pb2\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/kv_pb2.py"", line 36, in <module>\n      type=None),\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/google/protobuf/descriptor.py"", line 755, in __new__\n      _message.Message._CheckCalledFromGeneratedFile()\n  TypeError: Descriptors cannot not be created directly.\n  If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc >= 3.19.0.\n  If you cannot immediately regenerate your protos, some other possible workarounds are:\n   1. Downgrade the protobuf package to 3.20.x or lower.\n   2. Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).\n\nThe etcd3 dependency is only used for the etcd3 driver which was\ndeprecated in change Iff0cd3b51cfc45ecbddc831c55267e80e9c79cac. The\nprotobuf dependency is only used for etcd3. We can\'t outright remove the\netcd3 driver yet as it hasn\'t been long enough since we deprecated it.\nThat will happen soon enough though and until then we can simply cap\nprotobuf to an older version that is compatible with the most recent\netcd3 release.\n\nWhile we\'re here, we also sync the lower boundaries in the docs\nrequirments and add some comments indicating where they come from/what\nthey\'re for.\n\nChange-Id: I8d6647118be22b0ce55e01b7e5451612ebe30e73\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit e3de0e634af62e46162eb8d2354416ce4f2ba77c)\n(cherry picked from commit 73dbe0e6fc1403cbb121985781d7b6ec996b099a)\n(cherry picked from commit 8ca40da4bbe813a76cd48d3e8e54b78d10f25765)\n'}, {'number': 2, 'created': '2022-07-04 16:40:29.000000000', 'files': ['requirements.txt', 'doc/requirements.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tooz/commit/59da4d8d6aae828c2fd36d1ddf12652c3cee7f7a', 'message': 'Cap protobuf < 4.x\n\ntooz doesn\'t use upper-constraints so we get the newest version of all\ndependencies. It seems one of these, etcd3, is incompatible with recent\nversions of protobuf.\n\n  Failed to import test module: tooz.tests.drivers.test_etcd3\n  Traceback (most recent call last):\n    File ""/usr/lib/python3.7/unittest/loader.py"", line 436, in _find_test_path\n      module = self._get_module_from_name(name)\n    File ""/usr/lib/python3.7/unittest/loader.py"", line 377, in _get_module_from_name\n      __import__(name)\n    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/tests/drivers/test_etcd3.py"", line 22, in <module>\n      import tooz.drivers.etcd3 as etcd3_driver\n    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/drivers/etcd3.py"", line 18, in <module>\n      import etcd3\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/__init__.py"", line 3, in <module>\n      import etcd3.etcdrpc as etcdrpc\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/__init__.py"", line 1, in <module>\n      from .rpc_pb2 import *\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/rpc_pb2.py"", line 16, in <module>\n      from etcd3.etcdrpc import kv_pb2 as kv__pb2\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/kv_pb2.py"", line 36, in <module>\n      type=None),\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/google/protobuf/descriptor.py"", line 755, in __new__\n      _message.Message._CheckCalledFromGeneratedFile()\n  TypeError: Descriptors cannot not be created directly.\n  If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc >= 3.19.0.\n  If you cannot immediately regenerate your protos, some other possible workarounds are:\n   1. Downgrade the protobuf package to 3.20.x or lower.\n   2. Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).\n\nThe etcd3 dependency is only used for the etcd3 driver which was\ndeprecated in change Iff0cd3b51cfc45ecbddc831c55267e80e9c79cac. The\nprotobuf dependency is only used for etcd3. We can\'t outright remove the\netcd3 driver yet as it hasn\'t been long enough since we deprecated it.\nThat will happen soon enough though and until then we can simply cap\nprotobuf to an older version that is compatible with the most recent\netcd3 release.\n\nWhile we\'re here, we also sync the lower boundaries in the docs\nrequirements and add some comments indicating where they come from/what\nthey\'re for.\n\nChanges:\n  requirements.txt\n\nNOTE(stephenfin): We need to include a cap to tenacity. On\nstable/victoria this was done by the backport of change\nIaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b, however, that\'s a large\nbackport and it can\'t merge without fixing this. We instead squash the\ncap in here since we\'re already playing with requirements.\n\nChange-Id: I8d6647118be22b0ce55e01b7e5451612ebe30e73\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit e3de0e634af62e46162eb8d2354416ce4f2ba77c)\n(cherry picked from commit 73dbe0e6fc1403cbb121985781d7b6ec996b099a)\n(cherry picked from commit 8ca40da4bbe813a76cd48d3e8e54b78d10f25765)\n'}]",1,848621,59da4d8d6aae828c2fd36d1ddf12652c3cee7f7a,12,3,2,15334,,,0,"Cap protobuf < 4.x

tooz doesn't use upper-constraints so we get the newest version of all
dependencies. It seems one of these, etcd3, is incompatible with recent
versions of protobuf.

  Failed to import test module: tooz.tests.drivers.test_etcd3
  Traceback (most recent call last):
    File ""/usr/lib/python3.7/unittest/loader.py"", line 436, in _find_test_path
      module = self._get_module_from_name(name)
    File ""/usr/lib/python3.7/unittest/loader.py"", line 377, in _get_module_from_name
      __import__(name)
    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/tests/drivers/test_etcd3.py"", line 22, in <module>
      import tooz.drivers.etcd3 as etcd3_driver
    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/drivers/etcd3.py"", line 18, in <module>
      import etcd3
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/__init__.py"", line 3, in <module>
      import etcd3.etcdrpc as etcdrpc
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/__init__.py"", line 1, in <module>
      from .rpc_pb2 import *
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/rpc_pb2.py"", line 16, in <module>
      from etcd3.etcdrpc import kv_pb2 as kv__pb2
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/kv_pb2.py"", line 36, in <module>
      type=None),
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/google/protobuf/descriptor.py"", line 755, in __new__
      _message.Message._CheckCalledFromGeneratedFile()
  TypeError: Descriptors cannot not be created directly.
  If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc >= 3.19.0.
  If you cannot immediately regenerate your protos, some other possible workarounds are:
   1. Downgrade the protobuf package to 3.20.x or lower.
   2. Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).

The etcd3 dependency is only used for the etcd3 driver which was
deprecated in change Iff0cd3b51cfc45ecbddc831c55267e80e9c79cac. The
protobuf dependency is only used for etcd3. We can't outright remove the
etcd3 driver yet as it hasn't been long enough since we deprecated it.
That will happen soon enough though and until then we can simply cap
protobuf to an older version that is compatible with the most recent
etcd3 release.

While we're here, we also sync the lower boundaries in the docs
requirements and add some comments indicating where they come from/what
they're for.

Changes:
  requirements.txt

NOTE(stephenfin): We need to include a cap to tenacity. On
stable/victoria this was done by the backport of change
Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b, however, that's a large
backport and it can't merge without fixing this. We instead squash the
cap in here since we're already playing with requirements.

Change-Id: I8d6647118be22b0ce55e01b7e5451612ebe30e73
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit e3de0e634af62e46162eb8d2354416ce4f2ba77c)
(cherry picked from commit 73dbe0e6fc1403cbb121985781d7b6ec996b099a)
(cherry picked from commit 8ca40da4bbe813a76cd48d3e8e54b78d10f25765)
",git fetch https://review.opendev.org/openstack/tooz refs/changes/21/848621/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'setup.cfg']",2,0439bfca150cebaef150e3f2537decac8b7d871c,bug/1980079, protobuf<4.0 # BSD License (3 clause),,21,5
openstack%2Fcharm-ceph-mon~master~I903dfe02aa3b7c67414e3d0d9b57f4042d301830,openstack/charm-ceph-mon,master,I903dfe02aa3b7c67414e3d0d9b57f4042d301830,Added safe-pg-repair action,MERGED,2022-02-25 15:56:36.000000000,2022-07-04 18:46:38.000000000,2022-07-04 18:46:38.000000000,"[{'_account_id': 8992}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30028}]","[{'number': 1, 'created': '2022-02-25 15:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/aa58850772f6c1d7c4e3ff8de5e0c496c7aa5c25', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPgs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a pg\'s shards has a ""read_error"".\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\nChange-Id: I903dfe02aa3b7c67414e3d0d9b57f4042d301830\n'}, {'number': 2, 'created': '2022-02-25 16:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/9897f7601f68681ec7d80c9525a728e366eccdd0', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"".\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\nChange-Id: I903dfe02aa3b7c67414e3d0d9b57f4042d301830\n'}, {'number': 3, 'created': '2022-02-25 16:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/49cc18aa2292b5f073effa6331ab8ccac66682b5', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\nChange-Id: I903dfe02aa3b7c67414e3d0d9b57f4042d301830\n'}, {'number': 4, 'created': '2022-02-25 19:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/95344503e361e8e5cc915242d8dca7f751510347', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\nChange-Id: I903dfe02aa3b7c67414e3d0d9b57f4042d301830\n'}, {'number': 5, 'created': '2022-02-25 19:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c7962f192236e78e253153bd05f4e7a2a3f65ef1', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\nChange-Id: I903dfe02aa3b7c67414e3d0d9b57f4042d301830\n'}, {'number': 6, 'created': '2022-02-25 20:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/8daabe5245e2e3c145354b6d5550770102a41a9f', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\nChange-Id: I903dfe02aa3b7c67414e3d0d9b57f4042d301830\n'}, {'number': 7, 'created': '2022-03-01 01:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/3b60c8ef7883fbabe97dabec90f96d4b4470f92f', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\nChange-Id: I903dfe02aa3b7c67414e3d0d9b57f4042d301830\n'}, {'number': 8, 'created': '2022-03-01 01:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/29fcb14c54d19a191eac3ee3c2149a738e2721e7', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\nChange-Id: I903dfe02aa3b7c67414e3d0d9b57f4042d301830\n'}, {'number': 9, 'created': '2022-03-02 19:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/b463a4256abe5dedfd83bf80e4ecead621e0febd', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\nNo action will be taken if multiple ""read_errors"" are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\nChange-Id: I903dfe02aa3b7c67414e3d0d9b57f4042d301830\n'}, {'number': 10, 'created': '2022-03-02 19:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/15bfbc73b4ddaef0ca0cf74909e4611ed63a893c', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\nNo action will be taken if multiple ""read_errors"" are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\nChange-Id: I903dfe02aa3b7c67414e3d0d9b57f4042d301830\n'}, {'number': 11, 'created': '2022-03-02 19:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/d9579021c640cca6e52fbc8050a7b4b1e208f0fb', 'message': 'Added pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\nNo action will be taken if multiple ""read_errors"" are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\nChange-Id: I903dfe02aa3b7c67414e3d0d9b57f4042d301830\n'}, {'number': 12, 'created': '2022-03-02 19:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/ef9bddba9496f4ec529b380fe82a6a7c3a392baa', 'message': 'Added pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if one of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\nNo action will be taken if multiple ""read_errors"" are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\nChange-Id: I903dfe02aa3b7c67414e3d0d9b57f4042d301830\n'}, {'number': 13, 'created': '2022-04-27 19:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c645dbd641cabf98a3ad26d0313d9d06fb631665', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\nNo action will be taken if multiple ""read_errors"" are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\nChange-Id: I903dfe02aa3b7c67414e3d0d9b57f4042d301830\n'}, {'number': 14, 'created': '2022-06-16 09:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/68975aec557a6e9a01ccc197e597cca1950f17ae', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\nNo action will be taken if multiple ""read_errors"" are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\nChange-Id: I903dfe02aa3b7c67414e3d0d9b57f4042d301830\n'}, {'number': 15, 'created': '2022-06-23 10:18:46.000000000', 'files': ['actions/pg-repair', 'actions/pg_repair.py', 'unit_tests/test_action_pg_repair.py', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/a1cffc669322a2fe1c709e09a717ff9f78ab5680', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\nNo action will be taken if multiple ""read_errors"" are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\nChange-Id: I903dfe02aa3b7c67414e3d0d9b57f4042d301830\n'}]",84,831001,a1cffc669322a2fe1c709e09a717ff9f78ab5680,59,5,15,33192,,,0,"Added safe-pg-repair action

This action automatically repairs inconsistent placement groups
which are caused by read errors.

PGs are repaired using `ceph pg repair <pgid>`.

Action is only taken if on of a PG's shards has a ""read_error"",
and no action will be taken if any additional errors are found.
No action will be taken if multiple ""read_errors"" are found.

This action is intended to be safe to run in all contexts.

Closes-Bug: #1923218
Change-Id: I903dfe02aa3b7c67414e3d0d9b57f4042d301830
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/01/831001/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/safe_pg_repair.py', 'actions/safe-pg-repair', 'actions.yaml']",3,aa58850772f6c1d7c4e3ff8de5e0c496c7aa5c25,bug/1923218,"safe-pg-repair: description: ""Safely repair indicated placement group, if possible.""",,123,0
openstack%2Frequirements~master~I2cd124c546b7af278284aef5e5ac745fa7fb563f,openstack/requirements,master,I2cd124c546b7af278284aef5e5ac745fa7fb563f,Updated from generate-constraints,MERGED,2022-07-04 02:44:56.000000000,2022-07-04 18:23:50.000000000,2022-07-04 18:22:23.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-04 02:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/078903ba5cfc8606d6d55a84e0ca17f8967a754c', 'message': 'Updated from generate-constraints\n\nChange-Id: I2cd124c546b7af278284aef5e5ac745fa7fb563f\n'}, {'number': 2, 'created': '2022-07-04 03:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/aa080d76e5fba57cee447128a2cd76f59d0f8dfb', 'message': 'Updated from generate-constraints\n\nChange-Id: I2cd124c546b7af278284aef5e5ac745fa7fb563f\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2022-07-04 05:22:23.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1512e212d0e5dc24cacdf86e9671fb048d3af2f9', 'message': 'Updated from generate-constraints\n\nChange-Id: I2cd124c546b7af278284aef5e5ac745fa7fb563f\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,848557,1512e212d0e5dc24cacdf86e9671fb048d3af2f9,14,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: I2cd124c546b7af278284aef5e5ac745fa7fb563f
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/57/848557/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,078903ba5cfc8606d6d55a84e0ca17f8967a754c,openstack/requirements/constraints/noclob,pecan===1.4.2tornado===6.2cryptography===37.0.2pkg_resources===0.0.0ujson===5.4.0protobuf===4.21.2Sphinx===5.0.2,pecan===1.4.1tornado===6.1cryptography===36.0.2ujson===5.3.0protobuf===3.20.1Sphinx===4.5.0,7,6
openstack%2Ftripleo-ci~master~Ib584aa7066cee2c579e3d3df01ee6ca3e77f1414,openstack/tripleo-ci,master,Ib584aa7066cee2c579e3d3df01ee6ca3e77f1414,Horizon: Trigger relevant standaloe jobs,MERGED,2022-06-13 08:06:45.000000000,2022-07-04 18:06:08.000000000,2022-07-04 18:06:08.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-06-13 08:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/462673474bd51d0986d9b2cf722e5e90c7d0dc1f', 'message': 'Horizon: Trigger relevant standaloe jobs\n\nDepends-on: https://review.opendev.org/845560\nChange-Id: Ib584aa7066cee2c579e3d3df01ee6ca3e77f1414\n'}, {'number': 2, 'created': '2022-06-15 07:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c50266f55b85b7aae4a23463e11ef0fb198a73c9', 'message': 'Horizon: Trigger relevant standaloe jobs\n\nDepends-on: https://review.opendev.org/845560\nChange-Id: Ib584aa7066cee2c579e3d3df01ee6ca3e77f1414\n'}, {'number': 3, 'created': '2022-06-15 07:36:39.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/098c90d915e27ba4df3eddd8173333292d32b3a9', 'message': 'Horizon: Trigger relevant standaloe jobs\n\nDepends-on: https://review.opendev.org/845560\nChange-Id: Ib584aa7066cee2c579e3d3df01ee6ca3e77f1414\n'}]",11,845563,098c90d915e27ba4df3eddd8173333292d32b3a9,30,6,3,9816,,,0,"Horizon: Trigger relevant standaloe jobs

Depends-on: https://review.opendev.org/845560
Change-Id: Ib584aa7066cee2c579e3d3df01ee6ca3e77f1414
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/63/845563/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,462673474bd51d0986d9b2cf722e5e90c7d0dc1f,tripleo-ci-coverage, - ^container-images/tcib/base/os/horizon.*$ - ^((docker|puppet)/services|deployment)/.*horizon.*$ - ^manifests/profile/(base|pacemaker)/horizon.*$ - ^(docker/services|deployment)/horizon.*$ - ^manifests/profile/(base|pacemaker)/horizon.*$ - ^manifests/profile/base/horizon.*$ - ^(docker/services|deployment)/horizon.*$,,7,0
openstack%2Ftripleo-heat-templates~master~Iac31bceedb8a06ed1add83ba3ce37a2151dd9348,openstack/tripleo-heat-templates,master,Iac31bceedb8a06ed1add83ba3ce37a2151dd9348,Enable Horizon in CI,MERGED,2022-06-13 07:59:30.000000000,2022-07-04 18:06:00.000000000,2022-07-04 18:06:00.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29775}, {'_account_id': 31324}]","[{'number': 1, 'created': '2022-06-13 07:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c3d5a1e1e5e6a3147b26383ff712912a4755fa1c', 'message': 'Enable Horizon in CI\n\nCurrently Horizon is not tested in any scenario jobs. This change fixes\nthat and ensure deployment of Horizon is tested in standalone jobs.\n\nCurrently TripleO supports the following dashboards so horizon is\nenabled in the jobs which have these components enabled.\n - Heat\n - Manila\n - Octavia\n\nChange-Id: Iac31bceedb8a06ed1add83ba3ce37a2151dd9348\n'}, {'number': 2, 'created': '2022-06-13 14:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f08d44a19389b2bd25858a25a9ec2c41e0e79dca', 'message': 'Enable Horizon in CI\n\nCurrently Horizon is not tested in any scenario jobs. This change fixes\nthat and ensure deployment of Horizon is tested in standalone jobs.\n\nCurrently TripleO supports the following dashboards so horizon is\nenabled in the jobs which have these components enabled.\n - Heat\n - Manila\n - Octavia\n\nChange-Id: Iac31bceedb8a06ed1add83ba3ce37a2151dd9348\n'}, {'number': 3, 'created': '2022-06-15 07:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/36c2eb3081d03745dc1c73330cc6a442bf368ec3', 'message': 'Enable Horizon in CI\n\nCurrently Horizon is not tested in any scenario jobs. This change fixes\nthat and ensure deployment of Horizon is tested in standalone jobs.\n\nCurrently TripleO supports the following dashboards so horizon is\nenabled in the jobs which have these components enabled.\n - Heat\n - Manila\n - Octavia\n\nChange-Id: Iac31bceedb8a06ed1add83ba3ce37a2151dd9348\n'}, {'number': 4, 'created': '2022-06-20 13:01:46.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario010-standalone.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6db7153b342b8aad874f9b139f33a19269571a0e', 'message': 'Enable Horizon in CI\n\nCurrently Horizon is not tested in any scenario jobs. This change fixes\nthat and ensure deployment of Horizon is tested in standalone jobs.\n\nCurrently TripleO supports the following dashboards so horizon is\nenabled in the jobs which have these components enabled.\n - Heat\n - Manila\n - Octavia\n\nChange-Id: Iac31bceedb8a06ed1add83ba3ce37a2151dd9348\n'}]",14,845560,6db7153b342b8aad874f9b139f33a19269571a0e,39,7,4,9816,,,0,"Enable Horizon in CI

Currently Horizon is not tested in any scenario jobs. This change fixes
that and ensure deployment of Horizon is tested in standalone jobs.

Currently TripleO supports the following dashboards so horizon is
enabled in the jobs which have these components enabled.
 - Heat
 - Manila
 - Octavia

Change-Id: Iac31bceedb8a06ed1add83ba3ce37a2151dd9348
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/845560/4 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario010-standalone.yaml', 'ci/environments/scenario001-standalone.yaml']",3,c3d5a1e1e5e6a3147b26383ff712912a4755fa1c,tripleo-ci-coverage," OS::TripleO::Services::Horizon: ../../deployment/horizon-container-puppet.yaml # NOTE(mwhahaha): cheat and use the swift-ring-builder ""service"" for our test # service since the service is disabled. This allows us to not have to keep # some test service in the defaults just for this case. OS::TripleO::Services::SwiftRingBuilder: ../../deployment/tests/test-task-core.yaml"," OS::TripleO::Services::SwiftRingBuilder: OS::Heat::None # NOTE(mwhahaha): cheat and use the horizon ""service"" for our test service # since disable horizon. This allows us to not have to keep some test service # in the defaults just for this case. OS::TripleO::Services::Horizon: ../../deployment/tests/test-task-core.yaml",7,7
openstack%2Ftripleo-heat-templates~master~I7074bbb51535cf46699093e2a3a3d8f4fbf57301,openstack/tripleo-heat-templates,master,I7074bbb51535cf46699093e2a3a3d8f4fbf57301,Designate: Fix missing LoggingSource parameters,MERGED,2022-06-25 09:09:33.000000000,2022-07-04 18:05:55.000000000,2022-07-04 18:05:55.000000000,"[{'_account_id': 5241}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-25 09:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1bcb8c3c182894bfd3fccec682b35244cd82e9ef', 'message': 'Designate: Fix incomplete support for log transfer by rsyslog\n\nThe following services will be additionally covered.\n - designate-central\n - designate-mdns\n - designate-sink\n\nChange-Id: I7074bbb51535cf46699093e2a3a3d8f4fbf57301\n'}, {'number': 2, 'created': '2022-06-25 09:24:05.000000000', 'files': ['deployment/designate/designate-mdns-container-puppet.yaml', 'deployment/designate/designate-sink-container-puppet.yaml', 'deployment/designate/designate-central-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b39501eec197724eff53ac5983678e2f391070a', 'message': 'Designate: Fix missing LoggingSource parameters\n\nThe following services will be additionally covered.\n - designate-central\n - designate-mdns\n - designate-sink\n\nChange-Id: I7074bbb51535cf46699093e2a3a3d8f4fbf57301\n'}]",1,847630,8b39501eec197724eff53ac5983678e2f391070a,15,5,2,9816,,,0,"Designate: Fix missing LoggingSource parameters

The following services will be additionally covered.
 - designate-central
 - designate-mdns
 - designate-sink

Change-Id: I7074bbb51535cf46699093e2a3a3d8f4fbf57301
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/847630/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/designate/designate-mdns-container-puppet.yaml', 'deployment/designate/designate-sink-container-puppet.yaml', 'deployment/designate/designate-central-container-puppet.yaml']",3,1bcb8c3c182894bfd3fccec682b35244cd82e9ef,missing-logging-source, DesignateCentralLoggingSource: type: json default: tag: openstack.designate.central file: /var/log/containers/designate/central.log rsyslog: tripleo_logging_sources_designate_central: - {get_param: DesignateCentralLoggingSource},,25,1
openstack%2Ftripleo-heat-templates~master~Ibc0a346c313111fac6002b698dff6d3a4ddd0c93,openstack/tripleo-heat-templates,master,Ibc0a346c313111fac6002b698dff6d3a4ddd0c93,Fix incorrect Designate*LoggingSource,MERGED,2022-06-25 09:02:52.000000000,2022-07-04 18:05:51.000000000,2022-07-04 18:05:51.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-25 09:02:52.000000000', 'files': ['deployment/designate/designate-producer-container-puppet.yaml', 'deployment/designate/designate-worker-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ef751c4e1ed36b576d94b45d9489112acb431aa', 'message': 'Fix incorrect Designate*LoggingSource\n\nMost of the designate log files are not prefixed by designate- . This\nchange updates defaults of the Designate*LoggingSource parameters to\nuse the correct log file path.\n\nAlso, this change fixes the inconsistent log file name format used by\nthe designate-api service, which is currently prefixed by designate-.\n\nChange-Id: Ibc0a346c313111fac6002b698dff6d3a4ddd0c93\n'}]",1,847629,8ef751c4e1ed36b576d94b45d9489112acb431aa,13,4,1,9816,,,0,"Fix incorrect Designate*LoggingSource

Most of the designate log files are not prefixed by designate- . This
change updates defaults of the Designate*LoggingSource parameters to
use the correct log file path.

Also, this change fixes the inconsistent log file name format used by
the designate-api service, which is currently prefixed by designate-.

Change-Id: Ibc0a346c313111fac6002b698dff6d3a4ddd0c93
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/847629/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/designate/designate-producer-container-puppet.yaml', 'deployment/designate/designate-worker-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml']",3,8ef751c4e1ed36b576d94b45d9489112acb431aa,designate-logging, # This overrides the log_file option globally but for the other # services we override this by --log-file option. designate::logging::log_file: '/var/log/designate/api.log', designate::logging::log_file: '/var/log/designate/designate-api.log',5,3
openstack%2Ftripleo-heat-templates~master~I3450f544597b82d053c33ac1b8ecc7d918fd73b0,openstack/tripleo-heat-templates,master,I3450f544597b82d053c33ac1b8ecc7d918fd73b0,Fix ignored HeatConfigureDelegatedRoles,MERGED,2022-06-24 11:18:52.000000000,2022-07-04 17:46:06.000000000,2022-07-04 17:44:47.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-24 11:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/46515d8d739946f9076faf722295a09765dcd69e', 'message': ""Drop ineffective HeatConfigureDelegatedRoles\n\nThe configure_delegated_roles parameter in heat::engine class was\ndeprecated in Kilo cycle[1] and was removed in Liberty cycle[2].\n\nBecause the parameter has been kept broken so long, let's directly\nremove it instead of fixing it, assuming no user is interested in\nthis parameter.\n\n[1] 74e874365933b3d7a07d6413762597e78efaaaa8\n[2] 1b209d35be143564d4592ef188ea5c0d906a8e96\n\nChange-Id: I3450f544597b82d053c33ac1b8ecc7d918fd73b0\n""}, {'number': 2, 'created': '2022-06-24 11:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f942b515d97d705db5f2a51d323f1e46309fe90', 'message': ""Drop ineffective HeatConfigureDelegatedRoles\n\nThe configure_delegated_roles parameter in heat::engine class was\ndeprecated in Kilo cycle[1] and was removed in Liberty cycle[2].\n\nBecause the parameter has been kept broken so long, let's directly\nremove it instead of fixing it, assuming no user is interested in\nthis parameter.\n\n[1] 74e874365933b3d7a07d6413762597e78efaaaa8\n[2] 1b209d35be143564d4592ef188ea5c0d906a8e96\n\nChange-Id: I3450f544597b82d053c33ac1b8ecc7d918fd73b0\n""}, {'number': 3, 'created': '2022-06-27 06:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38eb3eb676431f99d7547ad3bdc677f8969cda83', 'message': 'Fix ignored HeatConfigureDelegatedRoles\n\nThe HeatConfigureDelegatedRoles parameter has been ignored since\nthe puppet parameter internally used was renamed[1][2].\n\nThis change fixes the ineffective parameter. Also, now management role\nis implemented by ansible, instead of puppet, following how keystone\nresources are managed now.\n\n[1] 74e874365933b3d7a07d6413762597e78efaaaa8\n[2] 1b209d35be143564d4592ef188ea5c0d906a8e96\n\nCloses-Bug: #1979950\nChange-Id: I3450f544597b82d053c33ac1b8ecc7d918fd73b0\n'}, {'number': 4, 'created': '2022-06-27 06:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4cfec70fdcddc7c34552a631b6f5c5a05428b7c1', 'message': 'Fix ignored HeatConfigureDelegatedRoles\n\nThe HeatConfigureDelegatedRoles parameter has been ignored since\nthe puppet parameter internally used was renamed[1][2].\n\nThis change fixes the ineffective parameter. Also, now management role\nis implemented by ansible, instead of puppet, following how keystone\nresources are managed now.\n\n[1] 74e874365933b3d7a07d6413762597e78efaaaa8\n[2] 1b209d35be143564d4592ef188ea5c0d906a8e96\n\nCloses-Bug: #1979950\nChange-Id: I3450f544597b82d053c33ac1b8ecc7d918fd73b0\n'}, {'number': 5, 'created': '2022-06-27 06:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9fb69698a3bf57e6ba921eb21da2d339ec6e001d', 'message': 'Fix ignored HeatConfigureDelegatedRoles\n\nThe HeatConfigureDelegatedRoles parameter has been ignored since\nthe puppet parameter internally used was renamed[1][2].\n\nThis change fixes the ineffective parameter. Also, now management role\nis implemented by ansible, instead of puppet, following how keystone\nresources are managed now.\n\n[1] 74e874365933b3d7a07d6413762597e78efaaaa8\n[2] 1b209d35be143564d4592ef188ea5c0d906a8e96\n\nCloses-Bug: #1979950\nChange-Id: I3450f544597b82d053c33ac1b8ecc7d918fd73b0\n'}, {'number': 6, 'created': '2022-06-27 07:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d148c3113482a473086d61184d73007750f527e2', 'message': 'Fix ignored HeatConfigureDelegatedRoles\n\nThe HeatConfigureDelegatedRoles parameter has been ignored since\nthe puppet parameter internally used was renamed[1][2].\n\nThis change fixes the ineffective parameter. Also, now management role\nis implemented by ansible, instead of puppet, following how keystone\nresources are managed now.\n\n[1] 74e874365933b3d7a07d6413762597e78efaaaa8\n[2] 1b209d35be143564d4592ef188ea5c0d906a8e96\n\nCloses-Bug: #1979950\nChange-Id: I3450f544597b82d053c33ac1b8ecc7d918fd73b0\n'}, {'number': 7, 'created': '2022-06-27 12:04:25.000000000', 'files': ['deployment/heat/heat-engine-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'releasenotes/notes/fix-HeatConfigureDelegatedRoles-d16ddb5eb037c4c8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/491fefe7c54ac825cb1ed1957362acb89fc33b28', 'message': 'Fix ignored HeatConfigureDelegatedRoles\n\nThe HeatConfigureDelegatedRoles parameter has been ignored since\nthe puppet parameter internally used was renamed[1][2].\n\nThis change fixes the ineffective parameter. Also, now management role\nis implemented by ansible, instead of puppet, following how keystone\nresources are managed now.\n\n[1] 74e874365933b3d7a07d6413762597e78efaaaa8\n[2] 1b209d35be143564d4592ef188ea5c0d906a8e96\n\nCloses-Bug: #1979950\nChange-Id: I3450f544597b82d053c33ac1b8ecc7d918fd73b0\n'}]",21,847570,491fefe7c54ac825cb1ed1957362acb89fc33b28,29,7,7,9816,,,0,"Fix ignored HeatConfigureDelegatedRoles

The HeatConfigureDelegatedRoles parameter has been ignored since
the puppet parameter internally used was renamed[1][2].

This change fixes the ineffective parameter. Also, now management role
is implemented by ansible, instead of puppet, following how keystone
resources are managed now.

[1] 74e874365933b3d7a07d6413762597e78efaaaa8
[2] 1b209d35be143564d4592ef188ea5c0d906a8e96

Closes-Bug: #1979950
Change-Id: I3450f544597b82d053c33ac1b8ecc7d918fd73b0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/847570/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-HeatConfigureDelegatedRoles-2cc5325a102d8316.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'ci/environments/scenario001-standalone.yaml']",3,46515d8d739946f9076faf722295a09765dcd69e,bug/1979950,, HeatConfigureDelegatedRoles: true,5,7
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I9322cd2a2f274daba1d02d5bf98e5abbca795df0,openstack/tripleo-heat-templates,stable/wallaby,I9322cd2a2f274daba1d02d5bf98e5abbca795df0,Enable notification from Keystone when Barbican is enabled,MERGED,2022-02-04 03:16:15.000000000,2022-07-04 17:46:05.000000000,2022-07-04 17:44:38.000000000,"[{'_account_id': 7144}, {'_account_id': 7414}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-02-04 03:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0fe05fd005ee836a3991d5a3d6cabff70137d08e', 'message': 'Enable notification from Keystone when Barbican is enabled\n\nBarbican, especially the barbican-keystone-listener service, consumes\nnotifications from Keystone so that secrets associated with deleted\nusers are purged. This change ensures notification is enabled in\nKeystone when Barbican is enabled to use that feature properly.\n\nConflicts:\n\tdeployment/keystone/keystone-container-puppet.yaml\n\nCloses-Bug: #1956400\nChange-Id: I9322cd2a2f274daba1d02d5bf98e5abbca795df0\n'}, {'number': 2, 'created': '2022-05-24 12:11:58.000000000', 'files': ['environments/services-baremetal/barbican.yaml', 'environments/services/barbican.yaml', 'releasenotes/notes/keystone-notification-driver-0c71165430eb57ef.yaml', 'deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f65e91899010ac7535e6dad00c766452e2642986', 'message': 'Enable notification from Keystone when Barbican is enabled\n\nBarbican, especially the barbican-keystone-listener service, consumes\nnotifications from Keystone so that secrets associated with deleted\nusers are purged. This change ensures notification is enabled in\nKeystone when Barbican is enabled to use that feature properly.\n\nConflicts:\n\tdeployment/keystone/keystone-container-puppet.yaml\n\nCloses-Bug: #1956400\nChange-Id: I9322cd2a2f274daba1d02d5bf98e5abbca795df0\n(cherry picked from 3a04690cda3332b539445d07ff2f24f7425796af)\n'}]",3,827790,f65e91899010ac7535e6dad00c766452e2642986,18,5,2,9816,,,0,"Enable notification from Keystone when Barbican is enabled

Barbican, especially the barbican-keystone-listener service, consumes
notifications from Keystone so that secrets associated with deleted
users are purged. This change ensures notification is enabled in
Keystone when Barbican is enabled to use that feature properly.

Conflicts:
	deployment/keystone/keystone-container-puppet.yaml

Closes-Bug: #1956400
Change-Id: I9322cd2a2f274daba1d02d5bf98e5abbca795df0
(cherry picked from 3a04690cda3332b539445d07ff2f24f7425796af)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/827790/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services-baremetal/barbican.yaml', 'environments/services/barbican.yaml', 'releasenotes/notes/keystone-notification-driver-0c71165430eb57ef.yaml', 'deployment/keystone/keystone-container-puppet.yaml']",4,0fe05fd005ee836a3991d5a3d6cabff70137d08e,bug/1956400," KeystoneNotificationDriver: type: comma_delimited_list default: [] description: | Driver or drivers to handle sending notifications. This parameter is specific to Keystone. keystone_notification_driver_set: {not: {equals: [{get_param: KeystoneNotificationDriver}, []]}} keystone::notification_driver: if: - keystone_notification_driver_set - {get_param: KeystoneNotificationDriver} - {get_param: NotificationDriver}", keystone::notification_driver: {get_param: NotificationDriver},25,1
openstack%2Fpuppet-tripleo~master~I44f2a823abd4c2880723337b7478eb72817420d6,openstack/puppet-tripleo,master,I44f2a823abd4c2880723337b7478eb72817420d6,Octavia: Add unit tests for ovn clustered DB,MERGED,2022-07-01 14:28:59.000000000,2022-07-04 17:44:58.000000000,2022-07-04 17:44:58.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 14:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/25a4ea7d9db4d2de875a35c5f179eb98c1527383', 'message': 'Octavia: Add unit tests for ovn clustered DB\n\nThis is follow-up of e6a4118d24358c22843c7bbc6f97ea06a53e7cec and adds\nthe unit test case to test support for ovn clustered DB added by that\nchange.\n\nChange-Id: I44f2a823abd4c2880723337b7478eb72817420d6\n'}, {'number': 2, 'created': '2022-07-01 15:12:53.000000000', 'files': ['spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/479054936d469b2fce33690b4b7bbcd72589bb5c', 'message': 'Octavia: Add unit tests for ovn clustered DB\n\nThis is follow-up of e6a4118d24358c22843c7bbc6f97ea06a53e7cec and adds\nthe unit test case to test support for ovn clustered DB added by that\nchange.\n\nChange-Id: I44f2a823abd4c2880723337b7478eb72817420d6\n'}]",0,848454,479054936d469b2fce33690b4b7bbcd72589bb5c,10,3,2,9816,,,0,"Octavia: Add unit tests for ovn clustered DB

This is follow-up of e6a4118d24358c22843c7bbc6f97ea06a53e7cec and adds
the unit test case to test support for ovn clustered DB added by that
change.

Change-Id: I44f2a823abd4c2880723337b7478eb72817420d6
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/54/848454/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb'],1,25a4ea7d9db4d2de875a35c5f179eb98c1527383,," context 'with step 4 with clustered ovn db' do before do params.merge!({ :step => 4, :ovn_db_host => '127.0.0.1', :ovn_db_node_ips => ['192.0.2.11', '192.0.2.12'], :ovn_nb_clustered => true, :ovn_nb_port => '6641', }) end it 'should set octavia provider ovn nb connection using tcp' do is_expected.to contain_class('octavia::provider::ovn').with( :ovn_nb_connection => 'tcp:192.0.2.11:6641,tcp:192.0.2.12:6641' ) end end ",,18,0
openstack%2Fpuppet-tripleo~master~I02f9f62be21b5f6c3c6edfb3cc2722ca5863d8c8,openstack/puppet-tripleo,master,I02f9f62be21b5f6c3c6edfb3cc2722ca5863d8c8,Designate: create proxy ports on external VIP to access miniDNS workers,MERGED,2022-02-07 16:02:23.000000000,2022-07-04 17:44:50.000000000,2022-07-04 17:44:50.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-07 16:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/118d519060f2038eaf8252765aa502f8f9fcb721', 'message': 'WIP Designate: create proxy ports on external VIP to access miniDNS workers\n\nWhile miniDNS servers are hosted on the internalAPI, they each need to\nbe accessible from external DNS servers to perform syncing. This is done\nby doing a port->host mapping on haproxy.\n\nChange-Id: I02f9f62be21b5f6c3c6edfb3cc2722ca5863d8c8\n'}, {'number': 2, 'created': '2022-05-16 16:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c626e4f79ef90c2b996554e913d28117f38e6b2b', 'message': 'Designate: create proxy ports on external VIP to access miniDNS workers\n\nWhile miniDNS servers are hosted on the internalAPI, they each need to\nbe accessible from external DNS servers to perform syncing. This is done\nby doing a port->host mapping on haproxy.\n\nChange-Id: I02f9f62be21b5f6c3c6edfb3cc2722ca5863d8c8\n'}, {'number': 3, 'created': '2022-05-16 16:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9123e7b696afa7ee96da1bcf7b76e3ab9fef459b', 'message': 'Designate: create proxy ports on external VIP to access miniDNS workers\n\nWhile miniDNS servers are hosted on the internalAPI, they each need to\nbe accessible from external DNS servers to perform syncing. This is done\nby doing a port->host mapping on haproxy.\n\nChange-Id: I02f9f62be21b5f6c3c6edfb3cc2722ca5863d8c8\n'}, {'number': 4, 'created': '2022-05-17 17:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a6b3a83c16ccc736a75e09be522ddd6a16a9e028', 'message': 'Designate: create proxy ports on external VIP to access miniDNS workers\n\nWhile miniDNS servers are hosted on the internalAPI, they each need to\nbe accessible from external DNS servers to perform syncing. This is done\nby doing a port->host mapping on haproxy.\n\nChange-Id: I02f9f62be21b5f6c3c6edfb3cc2722ca5863d8c8\n'}, {'number': 5, 'created': '2022-06-23 16:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/844c6e582aa2d1636650eb3172f15fdcd5c9ab7f', 'message': 'Designate: create proxy ports on external VIP to access miniDNS workers\n\nWhile miniDNS servers are hosted on the internalAPI, they each need to\nbe accessible from external DNS servers to perform syncing. This is done\nby doing a port->host mapping on haproxy.\n\nChange-Id: I02f9f62be21b5f6c3c6edfb3cc2722ca5863d8c8\n'}, {'number': 6, 'created': '2022-06-24 16:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6cd8d85608788e0c4bb4360d37a91deed359895a', 'message': 'Designate: create proxy ports on external VIP to access miniDNS workers\n\nWhile miniDNS servers are hosted on the internalAPI, they each need to\nbe accessible from external DNS servers to perform syncing. This is done\nby doing a port->host mapping on haproxy.\n\nChange-Id: I02f9f62be21b5f6c3c6edfb3cc2722ca5863d8c8\n'}, {'number': 7, 'created': '2022-07-01 12:08:29.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a15c5f8721b81f4976b4d35f2efaf10c808badfd', 'message': 'Designate: create proxy ports on external VIP to access miniDNS workers\n\nWhile miniDNS servers are hosted on the internalAPI, they each need to\nbe accessible from external DNS servers to perform syncing. This is done\nby doing a port->host mapping on haproxy.\n\nChange-Id: I02f9f62be21b5f6c3c6edfb3cc2722ca5863d8c8\n'}]",10,828169,a15c5f8721b81f4976b4d35f2efaf10c808badfd,37,6,7,6681,,,0,"Designate: create proxy ports on external VIP to access miniDNS workers

While miniDNS servers are hosted on the internalAPI, they each need to
be accessible from external DNS servers to perform syncing. This is done
by doing a port->host mapping on haproxy.

Change-Id: I02f9f62be21b5f6c3c6edfb3cc2722ca5863d8c8
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/69/828169/6 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,118d519060f2038eaf8252765aa502f8f9fcb721,designate-mdns-proxy,"# [*designate_mdns_proxy_baseport*] # (optional) Specify the base port value for the external->internal # proxies used for external DNS integration with designate workers. # Defaults to hiera('designate_mdns_public_port_start', undef) # $designate_mdns_proxy_baseport = hiera('designate_mdns_public_port_start', 16000), # WIP(beagles): create a reverse proxy for each miniDNS server # running on the internal network so external bind instances can # access them without having to have access to the internal # network. # # XXX(beagles): where the mdns config is very basic, I used # the haproxy puppet directly instead of using haproxy::endpoint for the time # being. I was having some issues getting endpoint what I wanted. I'll try it # again before un-WIP'ing this patch. # if $designate_mdns_proxy_baseport { $mdns_nodes = zip(hiera('designate_mdns_node_ips', $controller_hosts_real), hiera('designate_mdns_node_names', $controller_hosts_names_real)) $mdns_nodes.each |$index, $mdns_node| { haproxy::frontend { ""designate_mdns_${index}"": ipaddress => $public_virtual_ip, ports => String($designate_mdns_proxy_baseport + $index), mode => 'tcp', options => { 'default_backend ' => ""designate_mdns_${index}_be"", 'option' => [ 'tcplog' ], }, } haproxy::backend { ""designate_mdns_${index}_be"": mode => 'tcp', options => { 'option' => [ 'tcplog' ], }, } haproxy::balancermember { ""designate_mdns_${index}"": listening_service => ""designate_mdns_${index}_be"", ports => '5354', ipaddresses => $mdns_node[0], server_names => $mdns_node[1], verifyhost => false, } # ::tripleo::haproxy::endpoint { ""designate_mdns_${index}"": # public_virtual_ip => $public_virtual_ip, # internal_ip => $mdns_node[0], # # NOTE(beagles): Might be a bit odd to hardcode this value here but we absolutely # # don't support configuring the internal miniDNS port at this time. # service_port => '535'4, # haproxy_port => String($designate_mdns_proxy_baseport + $index), # ip_addresses => $mdns_node[0], # server_names => $mdns_node[1], # mode => 'tcp', # listen_options => {}, # frontend_options => {}, # backend_options => {}, # service_network => $designate_network, # } } }",,64,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~If9c6ba12baebcec9fa7a655fd5d2e10af9bde871,openstack/tripleo-heat-templates,stable/wallaby,If9c6ba12baebcec9fa7a655fd5d2e10af9bde871,Remove leftover of ntp service,MERGED,2022-07-03 14:55:09.000000000,2022-07-04 17:44:42.000000000,2022-07-04 17:44:42.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-07-03 14:55:09.000000000', 'files': ['roles/ComputeHCISriov.yaml', 'ci/environments/scenario000-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b21839d32b43578e8c35b1c838242efec8eb8a4f', 'message': 'Remove leftover of ntp service\n\nThe ntp service was already removed[1].\nThis change removes the remaining references in ci environment and\none role data.\n\n[1] 3abededac21ec9ad4f98b8e60d7b72ca49f1d7c0\n\nConflicts:\n\tci/environments/scenario000-standalone.yaml\n\nCloses-Bug: #1978054\nChange-Id: If9c6ba12baebcec9fa7a655fd5d2e10af9bde871\n(cherry picked from commit a40e5b3b6cbead13ec2e5f392821085d6e7de22c)\n'}]",1,848534,b21839d32b43578e8c35b1c838242efec8eb8a4f,8,4,1,9816,,,0,"Remove leftover of ntp service

The ntp service was already removed[1].
This change removes the remaining references in ci environment and
one role data.

[1] 3abededac21ec9ad4f98b8e60d7b72ca49f1d7c0

Conflicts:
	ci/environments/scenario000-standalone.yaml

Closes-Bug: #1978054
Change-Id: If9c6ba12baebcec9fa7a655fd5d2e10af9bde871
(cherry picked from commit a40e5b3b6cbead13ec2e5f392821085d6e7de22c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/848534/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ComputeHCISriov.yaml', 'ci/environments/scenario000-standalone.yaml']",2,b21839d32b43578e8c35b1c838242efec8eb8a4f,bug/1978054,, OS::TripleO::Services::Ntp: OS::Heat::None,0,2
openstack%2Fheat~stable%2Fwallaby~Ic6125c6af60c1007243523cc8510a17f49c7b5af,openstack/heat,stable/wallaby,Ic6125c6af60c1007243523cc8510a17f49c7b5af,Fix parameter merging with merge strategies,MERGED,2022-07-04 13:21:32.000000000,2022-07-04 17:34:02.000000000,2022-07-04 17:32:40.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-04 13:21:32.000000000', 'files': ['heat/tests/test_common_env_util.py', 'heat/common/environment_util.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/667b8865d51e4c9f6685cee27bf578de4609bf88', 'message': 'Fix parameter merging with merge strategies\n\nEarlier users had to specify merge strategy for\na parameter/parameter_default in every environment\nfile where they are used(or the defaults for that\nenvironment was used). However, the strategy\nfor a parameter in the first environment was\nignored as there is nothing to merge.\n\nWith Iec3367667248d0b46196a6d569f3cbb3b200d842, we\nchanged to use existing merge strategies, but the\nstrategies in the first environment were still\nignored. This patch fixes it.\n\nTask: 45578\nChange-Id: Ic6125c6af60c1007243523cc8510a17f49c7b5af\n(cherry picked from commit d9fe7301b3af2db9fa56d59eb405add94730ba50)\n(cherry picked from commit 154691d21d24351edbe066fd23c731afad456b85)\n(cherry picked from commit b8d09f347c2d478e7d69c940152a4d85fbc58f7c)\n'}]",0,848598,667b8865d51e4c9f6685cee27bf578de4609bf88,8,2,1,9816,,,0,"Fix parameter merging with merge strategies

Earlier users had to specify merge strategy for
a parameter/parameter_default in every environment
file where they are used(or the defaults for that
environment was used). However, the strategy
for a parameter in the first environment was
ignored as there is nothing to merge.

With Iec3367667248d0b46196a6d569f3cbb3b200d842, we
changed to use existing merge strategies, but the
strategies in the first environment were still
ignored. This patch fixes it.

Task: 45578
Change-Id: Ic6125c6af60c1007243523cc8510a17f49c7b5af
(cherry picked from commit d9fe7301b3af2db9fa56d59eb405add94730ba50)
(cherry picked from commit 154691d21d24351edbe066fd23c731afad456b85)
(cherry picked from commit b8d09f347c2d478e7d69c940152a4d85fbc58f7c)
",git fetch https://review.opendev.org/openstack/heat refs/changes/98/848598/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_common_env_util.py', 'heat/common/environment_util.py']",2,667b8865d51e4c9f6685cee27bf578de4609bf88,," available_strategies[key] = param_merge_strategy if not old: return new for key, value in new.items(): # if key not in param_schemata ignore it if key in param_schemata and value is not None: param_merge_strategy = available_strategies[key] return old params[section_key] = merge_parameters("," new_strategies = {} if not old: return new, new_strategies new_strategies[key] = param_merge_strategy return old, new_strategies params[section_key], new_strategies = merge_parameters( available_strategies.update(new_strategies)",16,15
openstack%2Fironic-python-agent~bugfix%2F8.3~I5b6075fbff72201a2fd620f789978acceafc417b,openstack/ironic-python-agent,bugfix/8.3,I5b6075fbff72201a2fd620f789978acceafc417b,Fix discovering WWN/serial for devicemapper devices,MERGED,2022-06-22 14:00:31.000000000,2022-07-04 16:54:36.000000000,2022-07-04 16:53:15.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-06-22 14:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ff533e0ef6aad7d57b2bc96f85fd1251f7a0e579', 'message': ""Fix discovering WWN/serial for devicemapper devices\n\nUDev prefix is DM_ not ID_ for them. On top of that, they don't have\nshort serials (or at least don't always have).\n\nChange-Id: I5b6075fbff72201a2fd620f789978acceafc417b\n(cherry picked from commit 69e22545033f544d628f9c4ecd5a665ba0b5b85e)\n""}, {'number': 2, 'created': '2022-06-24 09:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d0b8f10c50cfb738c1f94d644558b6ad05bc9e07', 'message': ""Fix discovering WWN/serial for devicemapper devices\n\nUDev prefix is DM_ not ID_ for them. On top of that, they don't have\nshort serials (or at least don't always have).\n\nChange-Id: I5b6075fbff72201a2fd620f789978acceafc417b\n(cherry picked from commit 69e22545033f544d628f9c4ecd5a665ba0b5b85e)\n""}, {'number': 3, 'created': '2022-06-27 14:21:42.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'releasenotes/notes/multipath-serial-615fc925984abbf7.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0edce69f7e7a40209f4546796ec8a5036e280a3e', 'message': ""Fix discovering WWN/serial for devicemapper devices\n\nUDev prefix is DM_ not ID_ for them. On top of that, they don't have\nshort serials (or at least don't always have).\n\nChange-Id: I5b6075fbff72201a2fd620f789978acceafc417b\n(cherry picked from commit 69e22545033f544d628f9c4ecd5a665ba0b5b85e)\n""}]",5,847158,0edce69f7e7a40209f4546796ec8a5036e280a3e,21,3,3,10239,,,0,"Fix discovering WWN/serial for devicemapper devices

UDev prefix is DM_ not ID_ for them. On top of that, they don't have
short serials (or at least don't always have).

Change-Id: I5b6075fbff72201a2fd620f789978acceafc417b
(cherry picked from commit 69e22545033f544d628f9c4ecd5a665ba0b5b85e)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/58/847158/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'releasenotes/notes/multipath-serial-615fc925984abbf7.yaml']",3,ff533e0ef6aad7d57b2bc96f85fd1251f7a0e579,multipath-serial-stable/xena-bugfix/8.3,--- fixes: - | Fixes discovering WWN/serial numbers for devicemapper devices. ,,31,16
openstack%2Ftooz~stable%2Fussuri~I95809cf4035a6bc487b24f9e91aaa715921ad842,openstack/tooz,stable/ussuri,I95809cf4035a6bc487b24f9e91aaa715921ad842,Stop to use the __future__ module.,ABANDONED,2022-06-22 13:25:22.000000000,2022-07-04 16:45:37.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-22 13:25:22.000000000', 'files': ['tooz/drivers/consul.py', 'tooz/drivers/etcd3gw.py', 'tooz/drivers/zake.py', 'tooz/drivers/etcd3.py', 'tooz/drivers/redis.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/1df9e9c30226d51492355d0ddc223b75a39d1806', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I95809cf4035a6bc487b24f9e91aaa715921ad842\n(cherry picked from commit 9c4f23a01923563d43b2ddf5048340cc386e2c33)\n""}]",3,847173,1df9e9c30226d51492355d0ddc223b75a39d1806,8,3,1,15334,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I95809cf4035a6bc487b24f9e91aaa715921ad842
(cherry picked from commit 9c4f23a01923563d43b2ddf5048340cc386e2c33)
",git fetch https://review.opendev.org/openstack/tooz refs/changes/73/847173/1 && git format-patch -1 --stdout FETCH_HEAD,"['tooz/drivers/consul.py', 'tooz/drivers/etcd3gw.py', 'tooz/drivers/zake.py', 'tooz/drivers/etcd3.py', 'tooz/drivers/redis.py']",5,1df9e9c30226d51492355d0ddc223b75a39d1806,redis-retry-fix,,from __future__ import absolute_import ,0,10
openstack%2Fansible-collections-openstack~master~Ie8b309d2aaa8da57794888848fc5414de207e54f,openstack/ansible-collections-openstack,master,Ie8b309d2aaa8da57794888848fc5414de207e54f,Add SDK logging option for openstack ansible collections.,MERGED,2022-06-03 08:12:31.000000000,2022-07-04 16:44:35.000000000,2022-07-04 16:44:35.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-06-03 08:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/dadba31ff9b519e7da56870894eb8367e7b5f038', 'message': ""Add SDK logging option for openstack ansible collections. The\nsolution is based on Artem Goncharov's implementation of logging option\nin Open Telekom Cloud collections.\n\nChange-Id: Ie8b309d2aaa8da57794888848fc5414de207e54f\n""}, {'number': 2, 'created': '2022-06-03 08:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a01918fcb70e3b636a63a9ee4892409bb6fd8677', 'message': ""Add SDK logging option for openstack ansible collections.\n\nThe solution is based on Artem Goncharov's implementation of logging option\nin Open Telekom Cloud collections.\n\nChange-Id: Ie8b309d2aaa8da57794888848fc5414de207e54f\n""}, {'number': 3, 'created': '2022-06-03 08:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0f3a86130ceb08d4da41630969081993a3f3ee97', 'message': 'Add SDK logging option for openstack ansible collections.\n\nThe solution is based on implementation of logging option\nin Open Telekom Cloud collections.\n\nChange-Id: Ie8b309d2aaa8da57794888848fc5414de207e54f\n'}, {'number': 4, 'created': '2022-06-22 10:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e249979154a9a601b1771a600bcdc5721549659c', 'message': 'Add SDK logging option for openstack ansible collections.\n\nThe solution is based on implementation of logging option\nin Open Telekom Cloud collections.\n\nChange-Id: Ie8b309d2aaa8da57794888848fc5414de207e54f\n'}, {'number': 5, 'created': '2022-06-26 17:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/38f6fa72e98dbe916944220f5d1ef29f73cd44de', 'message': 'Add SDK logging option for openstack ansible collections.\n\nThe solution is based on implementation of logging option\nin Open Telekom Cloud collections.\n\nChange-Id: Ie8b309d2aaa8da57794888848fc5414de207e54f\n'}, {'number': 6, 'created': '2022-06-30 20:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6e78da48e654f3fe0283c27a669d6deb864736e4', 'message': 'Add SDK logging option for openstack ansible collections.\n\nThe solution is based on implementation of logging option\nin Open Telekom Cloud collections.\n\nChange-Id: Ie8b309d2aaa8da57794888848fc5414de207e54f\n'}, {'number': 7, 'created': '2022-07-04 14:16:16.000000000', 'files': ['ci/roles/logging/defaults/main.yaml', 'plugins/module_utils/openstack.py', '.zuul.yaml', 'plugins/doc_fragments/openstack.py', 'ci/run-collection.yml', 'ci/roles/logging/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/19cd6262cf59b8ab91f2461e46b2f0fea407d9b7', 'message': 'Add SDK logging option for openstack ansible collections.\n\nThe solution is based on implementation of logging option\nin Open Telekom Cloud collections.\n\nChange-Id: Ie8b309d2aaa8da57794888848fc5414de207e54f\n'}]",15,844559,19cd6262cf59b8ab91f2461e46b2f0fea407d9b7,33,4,7,32675,,,0,"Add SDK logging option for openstack ansible collections.

The solution is based on implementation of logging option
in Open Telekom Cloud collections.

Change-Id: Ie8b309d2aaa8da57794888848fc5414de207e54f
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/59/844559/7 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/module_utils/openstack.py', 'plugins/doc_fragments/openstack.py']",2,dadba31ff9b519e7da56870894eb8367e7b5f038,sdk_logging_feature," sdk_log_path: description: - Path to the logfile of the OpenStackSDK. If empty no log is written type: str sdk_log_level: description: Log level of the OpenStackSDK type: str default: WARN choices: [ERROR, WARN, INFO, DEBUG]",,23,0
openstack%2Fovn-octavia-provider~stable%2Fvictoria~Iad9839ce99d50b969924b3fe369301b6dfed369d,openstack/ovn-octavia-provider,stable/victoria,Iad9839ce99d50b969924b3fe369301b6dfed369d,Delete vip port if create_vip_port raise exception,MERGED,2022-07-04 08:38:57.000000000,2022-07-04 16:32:39.000000000,2022-07-04 16:31:13.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-04 08:38:57.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/99fa23ffe7bd154a1640ef90c9f28a5432a68bd5', 'message': 'Delete vip port if create_vip_port raise exception\n\nSometimes on heavy load over Neutron, operations over\nneutron client could raise a NeutronClientException that\ncould cover, e.g. a timeout. In those case, sometimes the\nrequest finish after the client timeout and we have\nleftover resource.\n\ncreate_vip_port is called from Octavia API just before\nthe create LB request, if this call raise a timeout\nmaybe the vip port is finally created and linked to a LB\nthat is not going to be created, so we have this port\nunuse.\n\nThis patch will try to remove the leftover port for those\nsituations.\n\nCloses-Bug: #1973765\nChange-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d\n(cherry picked from commit cd3264a07e047b589e4064855169c37f17343e60)\n'}]",0,848582,99fa23ffe7bd154a1640ef90c9f28a5432a68bd5,8,3,1,34451,,,0,"Delete vip port if create_vip_port raise exception

Sometimes on heavy load over Neutron, operations over
neutron client could raise a NeutronClientException that
could cover, e.g. a timeout. In those case, sometimes the
request finish after the client timeout and we have
leftover resource.

create_vip_port is called from Octavia API just before
the create LB request, if this call raise a timeout
maybe the vip port is finally created and linked to a LB
that is not going to be created, so we have this port
unuse.

This patch will try to remove the leftover port for those
situations.

Closes-Bug: #1973765
Change-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d
(cherry picked from commit cd3264a07e047b589e4064855169c37f17343e60)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/82/848582/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,99fa23ffe7bd154a1640ef90c9f28a5432a68bd5,," @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') @mock.patch.object(ovn_helper.OvnProviderHelper, 'delete_vip_port') def test_create_vip_port_vip_neutron_client_other_exception( self, del_port, net_cli): net_cli.return_value.create_port.side_effect = [ n_exc.NeutronClientException] net_cli.return_value.list_ports.return_value = { 'ports': [ {'name': 'ovn-lb-vip-' + self.loadbalancer_id, 'id': self.loadbalancer_id}]} self.assertRaises( n_exc.NeutronClientException, self.helper.create_vip_port, self.project_id, self.loadbalancer_id, self.vip_dict) expected_call = [ mock.call().list_ports( network_id='%s' % self.vip_dict['vip_network_id'], name='%s%s' % (ovn_const.LB_VIP_PORT_PREFIX, self.loadbalancer_id))] net_cli.assert_has_calls(expected_call) del_port.assert_called_once_with(self.loadbalancer_id) self.helper._update_status_to_octavia.assert_not_called() ",,37,0
openstack%2Fovn-octavia-provider~stable%2Fwallaby~Iad9839ce99d50b969924b3fe369301b6dfed369d,openstack/ovn-octavia-provider,stable/wallaby,Iad9839ce99d50b969924b3fe369301b6dfed369d,Delete vip port if create_vip_port raise exception,MERGED,2022-07-04 08:32:42.000000000,2022-07-04 16:32:37.000000000,2022-07-04 16:31:12.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-04 08:32:42.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/fb765e856f6f815feaabf4b84c94a6d28eb862fb', 'message': 'Delete vip port if create_vip_port raise exception\n\nSometimes on heavy load over Neutron, operations over\nneutron client could raise a NeutronClientException that\ncould cover, e.g. a timeout. In those case, sometimes the\nrequest finish after the client timeout and we have\nleftover resource.\n\ncreate_vip_port is called from Octavia API just before\nthe create LB request, if this call raise a timeout\nmaybe the vip port is finally created and linked to a LB\nthat is not going to be created, so we have this port\nunuse.\n\nThis patch will try to remove the leftover port for those\nsituations.\n\nCloses-Bug: #1973765\nChange-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d\n(cherry picked from commit cd3264a07e047b589e4064855169c37f17343e60)\n'}]",0,848580,fb765e856f6f815feaabf4b84c94a6d28eb862fb,8,3,1,34451,,,0,"Delete vip port if create_vip_port raise exception

Sometimes on heavy load over Neutron, operations over
neutron client could raise a NeutronClientException that
could cover, e.g. a timeout. In those case, sometimes the
request finish after the client timeout and we have
leftover resource.

create_vip_port is called from Octavia API just before
the create LB request, if this call raise a timeout
maybe the vip port is finally created and linked to a LB
that is not going to be created, so we have this port
unuse.

This patch will try to remove the leftover port for those
situations.

Closes-Bug: #1973765
Change-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d
(cherry picked from commit cd3264a07e047b589e4064855169c37f17343e60)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/80/848580/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,fb765e856f6f815feaabf4b84c94a6d28eb862fb,," @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') @mock.patch.object(ovn_helper.OvnProviderHelper, 'delete_vip_port') def test_create_vip_port_vip_neutron_client_other_exception( self, del_port, net_cli): net_cli.return_value.create_port.side_effect = [ n_exc.NeutronClientException] net_cli.return_value.list_ports.return_value = { 'ports': [ {'name': 'ovn-lb-vip-' + self.loadbalancer_id, 'id': self.loadbalancer_id}]} self.assertRaises( n_exc.NeutronClientException, self.helper.create_vip_port, self.project_id, self.loadbalancer_id, self.vip_dict) expected_call = [ mock.call().list_ports( network_id='%s' % self.vip_dict['vip_network_id'], name='%s%s' % (ovn_const.LB_VIP_PORT_PREFIX, self.loadbalancer_id))] net_cli.assert_has_calls(expected_call) del_port.assert_called_once_with(self.loadbalancer_id) self.helper._update_status_to_octavia.assert_not_called() ",,37,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I40073c57a7ca283ae913bd78c248bc4cf56da3a8,openstack/python-tripleoclient,stable/wallaby,I40073c57a7ca283ae913bd78c248bc4cf56da3a8,Default working_dir for overcloud credential command,MERGED,2022-07-01 14:41:53.000000000,2022-07-04 16:25:57.000000000,2022-07-04 16:24:37.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 14:41:53.000000000', 'files': ['tripleoclient/v1/overcloud_credentials.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/40811232d354c4595b812dd0f5331044f3ff8614', 'message': 'Default working_dir for overcloud credential command\n\nparsed_args.working_dir was not defaulted to a value when it was not\nspecified, leading to a traceback.\n\nChange-Id: I40073c57a7ca283ae913bd78c248bc4cf56da3a8\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 43bfc1fb96963e8ab88c6f7bafc52ce1ced228e2)\n'}]",2,848362,40811232d354c4595b812dd0f5331044f3ff8614,10,3,1,7144,,,0,"Default working_dir for overcloud credential command

parsed_args.working_dir was not defaulted to a value when it was not
specified, leading to a traceback.

Change-Id: I40073c57a7ca283ae913bd78c248bc4cf56da3a8
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit 43bfc1fb96963e8ab88c6f7bafc52ce1ced228e2)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/62/848362/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_credentials.py'],1,40811232d354c4595b812dd0f5331044f3ff8614,," if not parsed_args.working_dir: working_dir = utils.get_default_working_dir(parsed_args.stack) else: working_dir = parsed_args.working_dir working_dir) endpoint = utils.get_overcloud_endpoint(working_dir) 'KeystoneAdminVip', working_dir)"," parsed_args.working_dir) endpoint = utils.get_overcloud_endpoint(parsed_args.working_dir) 'KeystoneAdminVip', parsed_args.working_dir)",7,3
openstack%2Ftripleo-heat-templates~master~Idc0872cee7de0b16531329e329d222bf661117c4,openstack/tripleo-heat-templates,master,Idc0872cee7de0b16531329e329d222bf661117c4,Make NeutronEnableDVR parameter boolean,MERGED,2022-06-07 12:00:27.000000000,2022-07-04 16:24:34.000000000,2022-07-04 16:24:34.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-06-07 12:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e4fb81ad7877f0cd14941f31836fb7ed8a7e9ac4', 'message': ""Make NeutronEnableDVR parameter boolean\n\nRemoves the redundant conditions and the template complexity.\nThis won't have any backward incompatibility with templates\nas the only allowed values for it are 'true/false'\nChange-Id: I91b9a368ec59e357b0dc7ce3c717cce792501995\n\nChange-Id: Idc0872cee7de0b16531329e329d222bf661117c4\n""}, {'number': 2, 'created': '2022-06-08 07:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d49b7a6f890bd69f224f467e9accc4ad5729aff7', 'message': ""Make NeutronEnableDVR parameter boolean\n\nRemoves the redundant conditions and the template complexity.\nThis won't have any backward incompatibility with templates\nas the only allowed values for it are 'true/false'\n\nChange-Id: Idc0872cee7de0b16531329e329d222bf661117c4\n""}, {'number': 3, 'created': '2022-06-08 08:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5d0d7cc160ae4f5fac1fe64a44ba437eed39675', 'message': ""Make NeutronEnableDVR parameter boolean\n\nRemoves the redundant conditions and the template complexity.\nThis won't have any backward incompatibility with templates\nas the only allowed values for it are 'true/false'\nChange-Id: I91b9a368ec59e357b0dc7ce3c717cce792501995\n\nChange-Id: Idc0872cee7de0b16531329e329d222bf661117c4\n""}, {'number': 4, 'created': '2022-06-09 02:43:10.000000000', 'files': ['tools/yaml-validate.py', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df58fe7bf1df8fae1f7e1358b45e6e021a1b6729', 'message': ""Make NeutronEnableDVR parameter boolean\n\nRemoves the redundant conditions and the template complexity.\nThis won't have any backward incompatibility with templates\nas the only allowed values for it are 'true/false'\n\nChange-Id: Idc0872cee7de0b16531329e329d222bf661117c4\n""}]",8,844960,df58fe7bf1df8fae1f7e1358b45e6e021a1b6729,27,6,4,8833,,,0,"Make NeutronEnableDVR parameter boolean

Removes the redundant conditions and the template complexity.
This won't have any backward incompatibility with templates
as the only allowed values for it are 'true/false'

Change-Id: Idc0872cee7de0b16531329e329d222bf661117c4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/844960/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/yaml-validate.py', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml']",4,e4fb81ad7877f0cd14941f31836fb7ed8a7e9ac4,ml2-ovn-dvr-default, default: false type: boolean - neutron::server::router_distributed: {get_param: NeutronEnableDVR} neutron::server::enable_dvr: {get_param: NeutronEnableDVR}," default: '' type: string neutron_dvr_set: not: {equals : [{get_param: NeutronEnableDVR}, '']} - if: - neutron_dvr_set - neutron::server::router_distributed: {get_param: NeutronEnableDVR} neutron::server::enable_dvr: {get_param: NeutronEnableDVR}",11,24
openstack%2Ftripleo-ansible~master~I63063e6dd655b974ca2231eb55e03eb30c1461dc,openstack/tripleo-ansible,master,I63063e6dd655b974ca2231eb55e03eb30c1461dc,[B&R] More robust check on Galera desync the MySQL node,MERGED,2022-06-28 11:11:44.000000000,2022-07-04 16:18:26.000000000,2022-07-04 16:18:26.000000000,"[{'_account_id': 7144}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 34984}]","[{'number': 1, 'created': '2022-06-28 11:11:44.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_unpause.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_rgw_stop.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/32769ae9f9b18f64cce37c73bfa829f35e54fef0', 'message': ""[B&R] More robust check on Galera desync the MySQL node\n\nThis task will fail if anything is printed on the stderr, even\nif it's a warning not related to the actual desync task. With\nthis patch you can set tripleo_container_cli_flags = '--log-level=error'\nto supress this warning and continue with the backup.\n\nChange-Id: I63063e6dd655b974ca2231eb55e03eb30c1461dc\n""}]",0,847738,32769ae9f9b18f64cce37c73bfa829f35e54fef0,9,5,1,34118,,,0,"[B&R] More robust check on Galera desync the MySQL node

This task will fail if anything is printed on the stderr, even
if it's a warning not related to the actual desync task. With
this patch you can set tripleo_container_cli_flags = '--log-level=error'
to supress this warning and continue with the backup.

Change-Id: I63063e6dd655b974ca2231eb55e03eb30c1461dc
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/38/847738/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_unpause.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_rgw_stop.yml']",5,32769ae9f9b18f64cce37c73bfa829f35e54fef0,, {{ tripleo_container_cli }} {{ tripleo_container_cli_flags }} ps -a | grep ceph-rgw | wc -l, {{ tripleo_container_cli }} ps -a | grep ceph-rgw | wc -l,15,14
openstack%2Fovn-octavia-provider~stable%2Fwallaby~I7c75003516015863320e53f0175dec8fdf4e2cf7,openstack/ovn-octavia-provider,stable/wallaby,I7c75003516015863320e53f0175dec8fdf4e2cf7,Apply ServiceMonitorEvent to affected LBs,MERGED,2022-06-17 16:26:57.000000000,2022-07-04 16:12:47.000000000,2022-07-04 16:10:18.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-06-17 16:26:57.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5b1d0bec5a8c6bc7d3291459f8becf16b10a3ed7', 'message': 'Apply ServiceMonitorEvent to affected LBs\n\nEvery Health_Monitor over a LB creates Load_Balancer_Health_Check\nNB entry, and it creates 1..n Service_Monitor OVN SB entries according\nto the member to be monitored. When more than one LB exists on the\nsame network segment for the same member, Service_Monitor SB\nentries are not duplicated, in order to not performing multiple\nchecks on the same member.\n\nWhen a ServiceMonitorUpdateEvent is received with status information\nfrom a member, the LBs that match the event information (protocol,\nip, port and logical_port) are searched. At this way we ensure that\nnetwork segments are separated where the same ip and port could match\nbut the logical_port would be different.\n\nThe current logic will update just the status of the first LB selected\nas ""related"" to the member event received from the Service_Monitor,\nbut we could use this information to keep updated all those LBs, that\nare in the same network segment and have a Health_Monitor associated\nto.\n\nThis patch will fix this behaviour in order to provide status to\nOctavia of all LBs affected by a ServiceMonitorUpdateEvent.\n\nPartial-Bug: #1965772\nCloses-Bug: #1965772\nChange-Id: I7c75003516015863320e53f0175dec8fdf4e2cf7\n(cherry picked from commit 7db9e23fd9642eacb78731bf215a4820978436ca)\n'}]",1,846426,5b1d0bec5a8c6bc7d3291459f8becf16b10a3ed7,9,4,1,34451,,,0,"Apply ServiceMonitorEvent to affected LBs

Every Health_Monitor over a LB creates Load_Balancer_Health_Check
NB entry, and it creates 1..n Service_Monitor OVN SB entries according
to the member to be monitored. When more than one LB exists on the
same network segment for the same member, Service_Monitor SB
entries are not duplicated, in order to not performing multiple
checks on the same member.

When a ServiceMonitorUpdateEvent is received with status information
from a member, the LBs that match the event information (protocol,
ip, port and logical_port) are searched. At this way we ensure that
network segments are separated where the same ip and port could match
but the logical_port would be different.

The current logic will update just the status of the first LB selected
as ""related"" to the member event received from the Service_Monitor,
but we could use this information to keep updated all those LBs, that
are in the same network segment and have a Health_Monitor associated
to.

This patch will fix this behaviour in order to provide status to
Octavia of all LBs affected by a ServiceMonitorUpdateEvent.

Partial-Bug: #1965772
Closes-Bug: #1965772
Change-Id: I7c75003516015863320e53f0175dec8fdf4e2cf7
(cherry picked from commit 7db9e23fd9642eacb78731bf215a4820978436ca)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/26/846426/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,5b1d0bec5a8c6bc7d3291459f8becf16b10a3ed7,wallaby," {'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': [self.ovn_hm_lb], def _add_member(self, lb, subnet, port, ip=None): if not ip: fake_port = fakes.FakePort.create_one_port( attrs={'allowed_address_pairs': ''}) ip = fake_port['fixed_ips'][0]['ip_address'] existing_members = lb.external_ids[pool_key] existing_member_status = lb.external_ids[ lb.external_ids[pool_key] = existing_members lb.external_ids[ lb.external_ids[pool_key] = member_line lb.external_ids[ member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) def test_hm_update_status_offline_two_lbs_affected(self): fake_subnet = fakes.FakeSubnet.create_one_subnet() ovn_hm_lb_2 = copy.deepcopy(self.ovn_hm_lb) ovn_hm_lb_2.uuid = uuidutils.generate_uuid() member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member_2 = self._add_member( ovn_hm_lb_2, fake_subnet, 8080, ip=member['address']) info = { 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb_2], 'ip': member['address'], 'logical_port': 'a-logical-port', 'src_ip': '10.22.33.4', 'port': '8080', 'protocol': self.ovn_hm_lb.protocol, 'status': ['offline']} self._update_member_status(self.ovn_hm_lb, member['id'], 'offline') self._update_member_status(ovn_hm_lb_2, member_2['id'], 'offline') status = self.helper.hm_update_event(info) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.ERROR) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['operating_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) self.assertEqual(status['pools'][1]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][1]['operating_status'], constants.ERROR) self.assertEqual(status['members'][1]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][1]['operating_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][1]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][1]['operating_status'], constants.ERROR) member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member_1 = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member_2 = self._add_member(self.ovn_hm_lb, fake_subnet, 8081) member_1 = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member_2 = self._add_member(self.ovn_hm_lb, fake_subnet, 8081)"," {'ovn_lb': self.ovn_hm_lb, def test_hm_update_event_lb_protocol_not_found(self): self.helper.ovn_nbdb_api.db_find_rows.\ side_effect = [self.ovn_hm_lb, idlutils.RowNotFound] self.hm_update_event = ovn_event.ServiceMonitorUpdateEvent( self.helper) row = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'ip': self.member_address, 'logical_port': 'a-logical-port', 'src_ip': '10.22.33.4', 'port': self.member_port, 'protocol': 'unknown', 'status': ['offline']}) self.hm_update_event.run('update', row, mock.ANY) self.mock_add_request.assert_not_called() 'ovn_lb': self.ovn_hm_lb, 'ovn_lb': self.ovn_hm_lb, def _add_member(self, subnet, port): fake_port = fakes.FakePort.create_one_port( attrs={'allowed_address_pairs': ''}) ip = fake_port['fixed_ips'][0]['ip_address'] existing_members = self.ovn_hm_lb.external_ids[pool_key] existing_member_status = self.ovn_hm_lb.external_ids[ self.ovn_hm_lb.external_ids[pool_key] = existing_members self.ovn_hm_lb.external_ids[ self.ovn_hm_lb.external_ids[pool_key] = member_line self.ovn_hm_lb.external_ids[ member = self._add_member(fake_subnet, 8080) member = self._add_member(fake_subnet, 8080) member = self._add_member(fake_subnet, 8080) member = self._add_member(fake_subnet, 8080) member_1 = self._add_member(fake_subnet, 8080) member_2 = self._add_member(fake_subnet, 8081) member_1 = self._add_member(fake_subnet, 8080) member_2 = self._add_member(fake_subnet, 8081)",114,71
openstack%2Fovn-octavia-provider~stable%2Fyoga~Iad9839ce99d50b969924b3fe369301b6dfed369d,openstack/ovn-octavia-provider,stable/yoga,Iad9839ce99d50b969924b3fe369301b6dfed369d,Delete vip port if create_vip_port raise exception,MERGED,2022-07-04 08:31:37.000000000,2022-07-04 16:11:46.000000000,2022-07-04 16:10:19.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-04 08:31:37.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/3a8aa3349adab85d81614f2d079314de9ecaa9e3', 'message': 'Delete vip port if create_vip_port raise exception\n\nSometimes on heavy load over Neutron, operations over\nneutron client could raise a NeutronClientException that\ncould cover, e.g. a timeout. In those case, sometimes the\nrequest finish after the client timeout and we have\nleftover resource.\n\ncreate_vip_port is called from Octavia API just before\nthe create LB request, if this call raise a timeout\nmaybe the vip port is finally created and linked to a LB\nthat is not going to be created, so we have this port\nunuse.\n\nThis patch will try to remove the leftover port for those\nsituations.\n\nCloses-Bug: #1973765\nChange-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d\n(cherry picked from commit cd3264a07e047b589e4064855169c37f17343e60)\n'}]",0,848578,3a8aa3349adab85d81614f2d079314de9ecaa9e3,8,3,1,34451,,,0,"Delete vip port if create_vip_port raise exception

Sometimes on heavy load over Neutron, operations over
neutron client could raise a NeutronClientException that
could cover, e.g. a timeout. In those case, sometimes the
request finish after the client timeout and we have
leftover resource.

create_vip_port is called from Octavia API just before
the create LB request, if this call raise a timeout
maybe the vip port is finally created and linked to a LB
that is not going to be created, so we have this port
unuse.

This patch will try to remove the leftover port for those
situations.

Closes-Bug: #1973765
Change-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d
(cherry picked from commit cd3264a07e047b589e4064855169c37f17343e60)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/78/848578/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,3a8aa3349adab85d81614f2d079314de9ecaa9e3,," @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') @mock.patch.object(ovn_helper.OvnProviderHelper, 'delete_vip_port') def test_create_vip_port_vip_neutron_client_other_exception( self, del_port, net_cli): net_cli.return_value.create_port.side_effect = [ n_exc.NeutronClientException] net_cli.return_value.list_ports.return_value = { 'ports': [ {'name': 'ovn-lb-vip-' + self.loadbalancer_id, 'id': self.loadbalancer_id}]} self.assertRaises( n_exc.NeutronClientException, self.helper.create_vip_port, self.project_id, self.loadbalancer_id, self.vip_dict) expected_call = [ mock.call().list_ports( network_id='%s' % self.vip_dict['vip_network_id'], name='%s%s' % (ovn_const.LB_VIP_PORT_PREFIX, self.loadbalancer_id))] net_cli.assert_has_calls(expected_call) del_port.assert_called_once_with(self.loadbalancer_id) self.helper._update_status_to_octavia.assert_not_called() ",,37,0
openstack%2Fkuryr-kubernetes~master~Ieb9fd5ed0251425e9fe172e4a93ad048768ce785,openstack/kuryr-kubernetes,master,Ieb9fd5ed0251425e9fe172e4a93ad048768ce785,Run Kuryr inside containers in venv,MERGED,2022-06-08 14:27:18.000000000,2022-07-04 16:09:07.000000000,2022-07-04 16:05:35.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-06-08 14:27:18.000000000', 'files': ['controller.Dockerfile', 'cni.Dockerfile'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bc65ed3c0c964ba8bbaa53fa18a41af3e2c024ff', 'message': ""Run Kuryr inside containers in venv\n\nWe've just hit an issue where Ceph repo added by RDO upgraded setuptools\nto a version that pip cannot uninstall. This is mainly because we're\nstill installing all the Kuryr dependencies in system's site-packages.\nThis commit switches us to create and use a virtualenv to have a clean\nenvironment in which we install all the dependencies through pip.\n\nChange-Id: Ieb9fd5ed0251425e9fe172e4a93ad048768ce785\n""}]",3,845143,bc65ed3c0c964ba8bbaa53fa18a41af3e2c024ff,14,4,1,11600,,,0,"Run Kuryr inside containers in venv

We've just hit an issue where Ceph repo added by RDO upgraded setuptools
to a version that pip cannot uninstall. This is mainly because we're
still installing all the Kuryr dependencies in system's site-packages.
This commit switches us to create and use a virtualenv to have a clean
environment in which we install all the dependencies through pip.

Change-Id: Ieb9fd5ed0251425e9fe172e4a93ad048768ce785
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/43/845143/1 && git format-patch -1 --stdout FETCH_HEAD,"['controller.Dockerfile', 'cni.Dockerfile']",2,bc65ed3c0c964ba8bbaa53fa18a41af3e2c024ff,setuptools-pin," && dnf install -y --setopt=tsflags=nodocs python3-pip openvswitch sudo iproute pciutils kmod-libs \ARG VIRTUAL_ENV=/opt/venv RUN python3 -m venv $VIRTUAL_ENV # This is enough to activate a venv ENV PATH=""$VIRTUAL_ENV/bin:$PATH"" ", && dnf install -y --setopt=tsflags=nodocs python3-pip python3-setuptools-53.0.0-10.el9 openvswitch sudo iproute pciutils kmod-libs \,11,1
openstack%2Fkuryr-kubernetes~stable%2Fyoga~I57f70c1cb140d4fa54d13b6c759a0179d8adb7b4,openstack/kuryr-kubernetes,stable/yoga,I57f70c1cb140d4fa54d13b6c759a0179d8adb7b4,Force kvm and host-passthrough for Amphora jobs,MERGED,2022-06-14 14:50:39.000000000,2022-07-04 16:08:38.000000000,2022-07-04 16:05:33.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 14:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cd2df49bcf037aff992e3b6a3b5f94331cb20e8e', 'message': ""Force kvm and host-passthrough for Amphora jobs\n\nWe face general instability of the Amphora jobs that we have. A while\nago we've made sure that these jobs are scheduled on the clouds that\nsupport nested virtualization in order to boost performance of the\nAmphora LB VMs. Now it turns out we haven't configured DevStack to\nactually use kvm instead of qemu, so it's possible that we were still\nrunning these jobs with software virtualization.\n\nThis commit attempts to reconfigure DevStack to actually use kvm and\nnested virtualization.\n\nChange-Id: I57f70c1cb140d4fa54d13b6c759a0179d8adb7b4\n(cherry picked from commit d65720cf7434cd2e201415535d316d3189873d9a)\n""}, {'number': 2, 'created': '2022-06-29 14:15:12.000000000', 'files': ['.zuul.d/base.yaml', '.zuul.d/tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3a24e3dd6e22311d1f8a89a449efb6edcfbc3e79', 'message': ""Force kvm and host-passthrough for Amphora jobs\n\nWe face general instability of the Amphora jobs that we have. A while\nago we've made sure that these jobs are scheduled on the clouds that\nsupport nested virtualization in order to boost performance of the\nAmphora LB VMs. Now it turns out we haven't configured DevStack to\nactually use kvm instead of qemu, so it's possible that we were still\nrunning these jobs with software virtualization.\n\nThis commit attempts to reconfigure DevStack to actually use kvm and\nnested virtualization.\n\nChange-Id: I57f70c1cb140d4fa54d13b6c759a0179d8adb7b4\n(cherry picked from commit d65720cf7434cd2e201415535d316d3189873d9a)\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/848131\n""}]",13,845683,3a24e3dd6e22311d1f8a89a449efb6edcfbc3e79,35,3,2,27032,,,0,"Force kvm and host-passthrough for Amphora jobs

We face general instability of the Amphora jobs that we have. A while
ago we've made sure that these jobs are scheduled on the clouds that
support nested virtualization in order to boost performance of the
Amphora LB VMs. Now it turns out we haven't configured DevStack to
actually use kvm instead of qemu, so it's possible that we were still
running these jobs with software virtualization.

This commit attempts to reconfigure DevStack to actually use kvm and
nested virtualization.

Change-Id: I57f70c1cb140d4fa54d13b6c759a0179d8adb7b4
(cherry picked from commit d65720cf7434cd2e201415535d316d3189873d9a)
Depends-On: https://review.opendev.org/c/openstack/neutron/+/848131
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/83/845683/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/base.yaml', '.zuul.d/tempest-jobs.yaml']",2,cd2df49bcf037aff992e3b6a3b5f94331cb20e8e,nested-virt-kvm-stable/yoga, LIBVIRT_TYPE: kvm LIBVIRT_CPU_MODE: host-passthrough LIBVIRT_TYPE: kvm LIBVIRT_CPU_MODE: host-passthrough LIBVIRT_TYPE: kvm LIBVIRT_CPU_MODE: host-passthrough,,8,0
openstack%2Ftripleo-heat-templates~master~Id33b97fbe85f80e3252877d2a82d8a9935c85e13,openstack/tripleo-heat-templates,master,Id33b97fbe85f80e3252877d2a82d8a9935c85e13,Remove masquerade-networks-baremetal-puppet,MERGED,2022-07-01 14:07:46.000000000,2022-07-04 16:02:33.000000000,2022-07-04 16:01:02.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-01 14:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80d39f1e6ff613c8a1a24ac2b5ffbdab85cf7d5f', 'message': ""Remove masquerade-networks-baremetal-puppet\n\nThis service isn't used anymore anyway, and isn't directly used by the\noperators.\n\nChange-Id: Id33b97fbe85f80e3252877d2a82d8a9935c85e13\n""}, {'number': 2, 'created': '2022-07-04 06:49:22.000000000', 'files': ['deployment/deprecated/masquerade-networks/masquerade-networks-baremetal-puppet.yaml', 'releasenotes/notes/remove-puppet-masquerade-28ae63cfa7f613d6.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e1c7b5f6a86f9ba448512d0a281c24af7466cc54', 'message': ""Remove masquerade-networks-baremetal-puppet\n\nThis service isn't used anymore anyway, and isn't directly used by the\noperators.\n\nChange-Id: Id33b97fbe85f80e3252877d2a82d8a9935c85e13\n""}]",5,848452,e1c7b5f6a86f9ba448512d0a281c24af7466cc54,16,4,2,28223,,,0,"Remove masquerade-networks-baremetal-puppet

This service isn't used anymore anyway, and isn't directly used by the
operators.

Change-Id: Id33b97fbe85f80e3252877d2a82d8a9935c85e13
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/848452/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/deprecated/masquerade-networks/masquerade-networks-baremetal-puppet.yaml', 'releasenotes/notes/remove-puppet-masquerade-28ae63cfa7f613d6.yaml']",2,80d39f1e6ff613c8a1a24ac2b5ffbdab85cf7d5f,masquerade-puppet-removal,"--- deprecations: - | This patch removes the ""masquerade-networks-baremetal-puppet"" deployment file, since it has been replaced by a 100% ansible implementation; this removal won't affect operators, since the inclusion of the actual services/masquerade-networks is done from within the Undercloud deployment only, when we set the ""masquerade"" parameter to true for selected networks. ",,9,44
openstack%2Ftripleo-ansible~master~Ia6053bf009fc13be1ea319e72c81b084bf3f0e9d,openstack/tripleo-ansible,master,Ia6053bf009fc13be1ea319e72c81b084bf3f0e9d,The stderr of the command can have WARNs,MERGED,2022-07-01 12:58:25.000000000,2022-07-04 16:01:05.000000000,2022-07-04 16:01:05.000000000,"[{'_account_id': 8449}, {'_account_id': 11166}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 34118}]","[{'number': 1, 'created': '2022-07-01 12:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d866d7349a984e715783f5c98ab80a11a9b4647f', 'message': 'The stderr of the command can have WARNs\n\nThere is a task that it is re-tried until there are no more errors, due\nto the fact that sometimes it does not work well the first or second times\nbecause the DB has not been completely initialized. To achieve the\nretry, we look for an empty stderr, but under certain circumstances\nthere can be WARN messages. We do not want to retry the execution after\na WARN message, as the action has been already succesfully executed.\n\nChange-Id: Ia6053bf009fc13be1ea319e72c81b084bf3f0e9d\n'}, {'number': 2, 'created': '2022-07-01 13:19:47.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a66c2b4943f8ee43352a449966d6dc4f8a9a74f4', 'message': 'The stderr of the command can have WARNs\n\nThere is a task that it is re-tried until there are no more errors, due\nto the fact that sometimes it does not work well the first or second times\nbecause the DB has not been completely initialized. To achieve the\nretry, we look for an empty stderr, but under certain circumstances\nthere can be WARN messages. We do not want to retry the execution after\na WARN message, as the action has been already succesfully executed.\n\nChange-Id: Ia6053bf009fc13be1ea319e72c81b084bf3f0e9d\n'}]",4,848442,a66c2b4943f8ee43352a449966d6dc4f8a9a74f4,14,7,2,32968,,,0,"The stderr of the command can have WARNs

There is a task that it is re-tried until there are no more errors, due
to the fact that sometimes it does not work well the first or second times
because the DB has not been completely initialized. To achieve the
retry, we look for an empty stderr, but under certain circumstances
there can be WARN messages. We do not want to retry the execution after
a WARN message, as the action has been already succesfully executed.

Change-Id: Ia6053bf009fc13be1ea319e72c81b084bf3f0e9d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/42/848442/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml'],1,d866d7349a984e715783f5c98ab80a11a9b4647f,db_backup," until: desync_output.stderr == """" or '""WARN"" in desync_output.stderr'"," until: desync_output.stderr == """"",1,1
openstack%2Ftripleo-heat-templates~master~I8a5b77a31d20dc50d3ee9d140c239ce5a4e5b9f3,openstack/tripleo-heat-templates,master,I8a5b77a31d20dc50d3ee9d140c239ce5a4e5b9f3,Present ovn_dbs_manage_lb to the haproxy service,MERGED,2022-07-02 17:38:52.000000000,2022-07-04 16:00:58.000000000,2022-07-04 16:00:58.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-02 17:38:52.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/pacemaker/ovn-dbs-baremetal-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2107a4cf8b3b21c45bce8ee8fd359db1035a281c', 'message': 'Present ovn_dbs_manage_lb to the haproxy service\n\nThe tripleo::haproxy::ovn_dbs_manage_lb parameter is used by not\nthe ovn db service but the haproxy service. This ensures the parameter\nis presented to the haproxy service even if these two services are not\ncollocated.\n\nChange-Id: I8a5b77a31d20dc50d3ee9d140c239ce5a4e5b9f3\n'}]",0,848517,2107a4cf8b3b21c45bce8ee8fd359db1035a281c,8,4,1,9816,,,0,"Present ovn_dbs_manage_lb to the haproxy service

The tripleo::haproxy::ovn_dbs_manage_lb parameter is used by not
the ovn db service but the haproxy service. This ensures the parameter
is presented to the haproxy service even if these two services are not
collocated.

Change-Id: I8a5b77a31d20dc50d3ee9d140c239ce5a4e5b9f3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/848517/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/pacemaker/ovn-dbs-baremetal-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml']",3,2107a4cf8b3b21c45bce8ee8fd359db1035a281c,," ovn::northbound::port: {get_param: OVNNorthboundServerPort} ovn::southbound::port: {get_param: OVNSouthboundServerPort} ovn::northd::dbs_listen_ip: str_replace: template: ""%{lookup('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} service_config_settings: haproxy:"," ovn::northbound::port: {get_param: OVNNorthboundServerPort} ovn::southbound::port: {get_param: OVNSouthboundServerPort} ovn::northd::dbs_listen_ip: str_replace: template: ""%{lookup('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]}",21,16
openstack%2Fovn-octavia-provider~stable%2Fxena~I7c75003516015863320e53f0175dec8fdf4e2cf7,openstack/ovn-octavia-provider,stable/xena,I7c75003516015863320e53f0175dec8fdf4e2cf7,Apply ServiceMonitorEvent to affected LBs,MERGED,2022-06-17 16:26:16.000000000,2022-07-04 16:00:58.000000000,2022-07-04 15:59:40.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-06-17 16:26:16.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b006d5273dcfa109e4d1524ec144781d79174b7f', 'message': 'Apply ServiceMonitorEvent to affected LBs\n\nEvery Health_Monitor over a LB creates Load_Balancer_Health_Check\nNB entry, and it creates 1..n Service_Monitor OVN SB entries according\nto the member to be monitored. When more than one LB exists on the\nsame network segment for the same member, Service_Monitor SB\nentries are not duplicated, in order to not performing multiple\nchecks on the same member.\n\nWhen a ServiceMonitorUpdateEvent is received with status information\nfrom a member, the LBs that match the event information (protocol,\nip, port and logical_port) are searched. At this way we ensure that\nnetwork segments are separated where the same ip and port could match\nbut the logical_port would be different.\n\nThe current logic will update just the status of the first LB selected\nas ""related"" to the member event received from the Service_Monitor,\nbut we could use this information to keep updated all those LBs, that\nare in the same network segment and have a Health_Monitor associated\nto.\n\nThis patch will fix this behaviour in order to provide status to\nOctavia of all LBs affected by a ServiceMonitorUpdateEvent.\n\nPartial-Bug: #1965772\nCloses-Bug: #1965772\nChange-Id: I7c75003516015863320e53f0175dec8fdf4e2cf7\n(cherry picked from commit 7db9e23fd9642eacb78731bf215a4820978436ca)\n'}]",1,846425,b006d5273dcfa109e4d1524ec144781d79174b7f,9,4,1,34451,,,0,"Apply ServiceMonitorEvent to affected LBs

Every Health_Monitor over a LB creates Load_Balancer_Health_Check
NB entry, and it creates 1..n Service_Monitor OVN SB entries according
to the member to be monitored. When more than one LB exists on the
same network segment for the same member, Service_Monitor SB
entries are not duplicated, in order to not performing multiple
checks on the same member.

When a ServiceMonitorUpdateEvent is received with status information
from a member, the LBs that match the event information (protocol,
ip, port and logical_port) are searched. At this way we ensure that
network segments are separated where the same ip and port could match
but the logical_port would be different.

The current logic will update just the status of the first LB selected
as ""related"" to the member event received from the Service_Monitor,
but we could use this information to keep updated all those LBs, that
are in the same network segment and have a Health_Monitor associated
to.

This patch will fix this behaviour in order to provide status to
Octavia of all LBs affected by a ServiceMonitorUpdateEvent.

Partial-Bug: #1965772
Closes-Bug: #1965772
Change-Id: I7c75003516015863320e53f0175dec8fdf4e2cf7
(cherry picked from commit 7db9e23fd9642eacb78731bf215a4820978436ca)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/25/846425/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,b006d5273dcfa109e4d1524ec144781d79174b7f,xena," {'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': [self.ovn_hm_lb], def _add_member(self, lb, subnet, port, ip=None): if not ip: fake_port = fakes.FakePort.create_one_port( attrs={'allowed_address_pairs': ''}) ip = fake_port['fixed_ips'][0]['ip_address'] existing_members = lb.external_ids[pool_key] existing_member_status = lb.external_ids[ lb.external_ids[pool_key] = existing_members lb.external_ids[ lb.external_ids[pool_key] = member_line lb.external_ids[ member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) def test_hm_update_status_offline_two_lbs_affected(self): fake_subnet = fakes.FakeSubnet.create_one_subnet() ovn_hm_lb_2 = copy.deepcopy(self.ovn_hm_lb) ovn_hm_lb_2.uuid = uuidutils.generate_uuid() member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member_2 = self._add_member( ovn_hm_lb_2, fake_subnet, 8080, ip=member['address']) info = { 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb_2], 'ip': member['address'], 'logical_port': 'a-logical-port', 'src_ip': '10.22.33.4', 'port': '8080', 'protocol': self.ovn_hm_lb.protocol, 'status': ['offline']} self._update_member_status(self.ovn_hm_lb, member['id'], 'offline') self._update_member_status(ovn_hm_lb_2, member_2['id'], 'offline') status = self.helper.hm_update_event(info) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.ERROR) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['operating_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) self.assertEqual(status['pools'][1]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][1]['operating_status'], constants.ERROR) self.assertEqual(status['members'][1]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][1]['operating_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][1]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][1]['operating_status'], constants.ERROR) member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member_1 = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member_2 = self._add_member(self.ovn_hm_lb, fake_subnet, 8081) member_1 = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member_2 = self._add_member(self.ovn_hm_lb, fake_subnet, 8081)"," {'ovn_lb': self.ovn_hm_lb, def test_hm_update_event_lb_protocol_not_found(self): self.helper.ovn_nbdb_api.db_find_rows.\ side_effect = [self.ovn_hm_lb, idlutils.RowNotFound] self.hm_update_event = ovn_event.ServiceMonitorUpdateEvent( self.helper) row = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'ip': self.member_address, 'logical_port': 'a-logical-port', 'src_ip': '10.22.33.4', 'port': self.member_port, 'protocol': 'unknown', 'status': ['offline']}) self.hm_update_event.run('update', row, mock.ANY) self.mock_add_request.assert_not_called() 'ovn_lb': self.ovn_hm_lb, 'ovn_lb': self.ovn_hm_lb, def _add_member(self, subnet, port): fake_port = fakes.FakePort.create_one_port( attrs={'allowed_address_pairs': ''}) ip = fake_port['fixed_ips'][0]['ip_address'] existing_members = self.ovn_hm_lb.external_ids[pool_key] existing_member_status = self.ovn_hm_lb.external_ids[ self.ovn_hm_lb.external_ids[pool_key] = existing_members self.ovn_hm_lb.external_ids[ self.ovn_hm_lb.external_ids[pool_key] = member_line self.ovn_hm_lb.external_ids[ member = self._add_member(fake_subnet, 8080) member = self._add_member(fake_subnet, 8080) member = self._add_member(fake_subnet, 8080) member = self._add_member(fake_subnet, 8080) member_1 = self._add_member(fake_subnet, 8080) member_2 = self._add_member(fake_subnet, 8081) member_1 = self._add_member(fake_subnet, 8080) member_2 = self._add_member(fake_subnet, 8081)",114,71
openstack%2Fheat~stable%2Fxena~Ic6125c6af60c1007243523cc8510a17f49c7b5af,openstack/heat,stable/xena,Ic6125c6af60c1007243523cc8510a17f49c7b5af,Fix parameter merging with merge strategies,MERGED,2022-07-04 12:32:15.000000000,2022-07-04 15:59:23.000000000,2022-07-04 15:58:06.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-04 12:32:15.000000000', 'files': ['heat/tests/test_common_env_util.py', 'heat/common/environment_util.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/b8d09f347c2d478e7d69c940152a4d85fbc58f7c', 'message': 'Fix parameter merging with merge strategies\n\nEarlier users had to specify merge strategy for\na parameter/parameter_default in every environment\nfile where they are used(or the defaults for that\nenvironment was used). However, the strategy\nfor a parameter in the first environment was\nignored as there is nothing to merge.\n\nWith Iec3367667248d0b46196a6d569f3cbb3b200d842, we\nchanged to use existing merge strategies, but the\nstrategies in the first environment were still\nignored. This patch fixes it.\n\nTask: 45578\nChange-Id: Ic6125c6af60c1007243523cc8510a17f49c7b5af\n(cherry picked from commit d9fe7301b3af2db9fa56d59eb405add94730ba50)\n(cherry picked from commit 154691d21d24351edbe066fd23c731afad456b85)\n'}]",0,848596,b8d09f347c2d478e7d69c940152a4d85fbc58f7c,8,2,1,9816,,,0,"Fix parameter merging with merge strategies

Earlier users had to specify merge strategy for
a parameter/parameter_default in every environment
file where they are used(or the defaults for that
environment was used). However, the strategy
for a parameter in the first environment was
ignored as there is nothing to merge.

With Iec3367667248d0b46196a6d569f3cbb3b200d842, we
changed to use existing merge strategies, but the
strategies in the first environment were still
ignored. This patch fixes it.

Task: 45578
Change-Id: Ic6125c6af60c1007243523cc8510a17f49c7b5af
(cherry picked from commit d9fe7301b3af2db9fa56d59eb405add94730ba50)
(cherry picked from commit 154691d21d24351edbe066fd23c731afad456b85)
",git fetch https://review.opendev.org/openstack/heat refs/changes/96/848596/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_common_env_util.py', 'heat/common/environment_util.py']",2,b8d09f347c2d478e7d69c940152a4d85fbc58f7c,," available_strategies[key] = param_merge_strategy if not old: return new for key, value in new.items(): # if key not in param_schemata ignore it if key in param_schemata and value is not None: param_merge_strategy = available_strategies[key] return old params[section_key] = merge_parameters("," new_strategies = {} if not old: return new, new_strategies new_strategies[key] = param_merge_strategy return old, new_strategies params[section_key], new_strategies = merge_parameters( available_strategies.update(new_strategies)",16,15
openstack%2Fneutron~master~Ib18efa3f472736b58c8967847b1061da0e3897d7,openstack/neutron,master,Ib18efa3f472736b58c8967847b1061da0e3897d7,Implement experimental features framework,MERGED,2022-06-08 23:35:49.000000000,2022-07-04 15:58:40.000000000,2022-07-04 15:54:25.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-08 23:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/86e82c56c10f18ec04cff9f072e7a2e8efecd6f1', 'message': 'Implement experimental features framework\n\nDuring the Zed PTG it was decided to handle unsupported features in\nNeutron as experimental. See section titled ""When we say something is\nnot supported?"", day 2 in [1]. The agreement was:\n\n""We keep existing jobs for linuxbridge driver for example, but when the\ntests start to fail we skip them and finally we stop the job also.\nTo make it clear for operators we add warning logs highlighting that the\ngiven feature/driver is experimental, and introduce cfg option to enable\nsuch features explicitly.""\n\nThis commit implements this agreement, initially with Linuxbridge\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n\nChange-Id: Ib18efa3f472736b58c8967847b1061da0e3897d7\n'}, {'number': 2, 'created': '2022-06-13 23:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/94745503dda3731ee7b85b84b518525fa65ae7f0', 'message': 'Implement experimental features framework\n\nDuring the Zed PTG it was decided to handle unsupported features in\nNeutron as experimental. See section titled ""When we say something is\nnot supported?"", day 2 in [1]. The agreement was:\n\n""We keep existing jobs for linuxbridge driver for example, but when the\ntests start to fail we skip them and finally we stop the job also.\nTo make it clear for operators we add warning logs highlighting that the\ngiven feature/driver is experimental, and introduce cfg option to enable\nsuch features explicitly.""\n\nThis commit implements this agreement, initially with Linuxbridge\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/845646\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n\nChange-Id: Ib18efa3f472736b58c8967847b1061da0e3897d7\n'}, {'number': 3, 'created': '2022-06-15 23:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6a969295a0e88c931a361dde30c539a3829f6a0', 'message': 'Implement experimental features framework\n\nDuring the Zed PTG it was decided to handle unsupported features in\nNeutron as experimental. See section titled ""When we say something is\nnot supported?"", day 2 in [1]. The agreement was:\n\n""We keep existing jobs for linuxbridge driver for example, but when the\ntests start to fail we skip them and finally we stop the job also.\nTo make it clear for operators we add warning logs highlighting that the\ngiven feature/driver is experimental, and introduce cfg option to enable\nsuch features explicitly.""\n\nThis commit implements this agreement, initially with Linuxbridge\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/845646\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n\nChange-Id: Ib18efa3f472736b58c8967847b1061da0e3897d7\n'}, {'number': 4, 'created': '2022-06-16 23:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15c6d3a2cd2159c1759dc4d6abd541065fb9e4b9', 'message': 'Implement experimental features framework\n\nDuring the Zed PTG it was decided to handle unsupported features in\nNeutron as experimental. See section titled ""When we say something is\nnot supported?"", day 2 in [1]. The agreement was:\n\n""We keep existing jobs for linuxbridge driver for example, but when the\ntests start to fail we skip them and finally we stop the job also.\nTo make it clear for operators we add warning logs highlighting that the\ngiven feature/driver is experimental, and introduce cfg option to enable\nsuch features explicitly.""\n\nThis commit implements this agreement, initially with Linuxbridge\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/845646\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n\nChange-Id: Ib18efa3f472736b58c8967847b1061da0e3897d7\n'}, {'number': 5, 'created': '2022-06-17 22:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a6e423c08687726257ac499c793bcbf30cc7cdd', 'message': 'Implement experimental features framework\n\nDuring the Zed PTG it was decided to handle unsupported features in\nNeutron as experimental. See section titled ""When we say something is\nnot supported?"", day 2 in [1]. The agreement was:\n\n""We keep existing jobs for linuxbridge driver for example, but when the\ntests start to fail we skip them and finally we stop the job also.\nTo make it clear for operators we add warning logs highlighting that the\ngiven feature/driver is experimental, and introduce cfg option to enable\nsuch features explicitly.""\n\nThis commit implements this agreement, initially with Linuxbridge\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/845646\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n\nChange-Id: Ib18efa3f472736b58c8967847b1061da0e3897d7\n'}, {'number': 6, 'created': '2022-06-19 17:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/520b7532d0570cd2f6ef7e4931e0d88af5faf9ff', 'message': 'Implement experimental features framework\n\nDuring the Zed PTG it was decided to handle unsupported features in\nNeutron as experimental. See section titled ""When we say something is\nnot supported?"", day 2 in [1]. The agreement was:\n\n""We keep existing jobs for linuxbridge driver for example, but when the\ntests start to fail we skip them and finally we stop the job also.\nTo make it clear for operators we add warning logs highlighting that the\ngiven feature/driver is experimental, and introduce cfg option to enable\nsuch features explicitly.""\n\nThis commit implements this agreement, initially with Linuxbridge\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/845646\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n\nChange-Id: Ib18efa3f472736b58c8967847b1061da0e3897d7\n'}, {'number': 7, 'created': '2022-06-28 14:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9fdf72790d1a349f520f4e0b1055ff668a2a565', 'message': 'Implement experimental features framework\n\nDuring the Zed PTG it was decided to handle unsupported features in\nNeutron as experimental. See section titled ""When we say something is\nnot supported?"", day 2 in [1]. The agreement was:\n\n""We keep existing jobs for linuxbridge driver for example, but when the\ntests start to fail we skip them and finally we stop the job also.\nTo make it clear for operators we add warning logs highlighting that the\ngiven feature/driver is experimental, and introduce cfg option to enable\nsuch features explicitly.""\n\nThis commit implements this agreement, initially with Linuxbridge\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/845646\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n\nChange-Id: Ib18efa3f472736b58c8967847b1061da0e3897d7\n'}, {'number': 8, 'created': '2022-06-28 14:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/22bc1cc580b0f0d5361341332a73bfbb01e1885c', 'message': 'Implement experimental features framework\n\nDuring the Zed PTG it was decided to handle unsupported features in\nNeutron as experimental. See section titled ""When we say something is\nnot supported?"", day 2 in [1]. The agreement was:\n\n""We keep existing jobs for linuxbridge driver for example, but when the\ntests start to fail we skip them and finally we stop the job also.\nTo make it clear for operators we add warning logs highlighting that the\ngiven feature/driver is experimental, and introduce cfg option to enable\nsuch features explicitly.""\n\nThis commit implements this agreement, initially with Linuxbridge\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/845646\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n\nChange-Id: Ib18efa3f472736b58c8967847b1061da0e3897d7\n'}, {'number': 9, 'created': '2022-06-28 21:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8e501ee003cc96112ee6bd472df0619dcb01199', 'message': 'Implement experimental features framework\n\nDuring the Zed PTG it was decided to handle unsupported features in\nNeutron as experimental. See section titled ""When we say something is\nnot supported?"", day 2 in [1]. The agreement was:\n\n""We keep existing jobs for linuxbridge driver for example, but when the\ntests start to fail we skip them and finally we stop the job also.\nTo make it clear for operators we add warning logs highlighting that the\ngiven feature/driver is experimental, and introduce cfg option to enable\nsuch features explicitly.""\n\nThis commit implements this agreement, initially with Linuxbridge\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/845646\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/847989\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n\nChange-Id: Ib18efa3f472736b58c8967847b1061da0e3897d7\n'}, {'number': 10, 'created': '2022-06-28 22:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e83b1d0ac0eaaba4fb883045e1e4122c9a53e1bb', 'message': 'Implement experimental features framework\n\nDuring the Zed PTG it was decided to handle unsupported features in\nNeutron as experimental. See section titled ""When we say something is\nnot supported?"", day 2 in [1]. The agreement was:\n\n""We keep existing jobs for linuxbridge driver for example, but when the\ntests start to fail we skip them and finally we stop the job also.\nTo make it clear for operators we add warning logs highlighting that the\ngiven feature/driver is experimental, and introduce cfg option to enable\nsuch features explicitly.""\n\nThis commit implements this agreement, initially with Linuxbridge\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/845646\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n\nChange-Id: Ib18efa3f472736b58c8967847b1061da0e3897d7\n'}, {'number': 11, 'created': '2022-06-29 22:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/795da24732e812c3c360a12c58aa4a884e82c35d', 'message': 'Implement experimental features framework\n\nDuring the Zed PTG it was decided to handle unsupported features in\nNeutron as experimental. See section titled ""When we say something is\nnot supported?"", day 2 in [1]. The agreement was:\n\n""We keep existing jobs for linuxbridge driver for example, but when the\ntests start to fail we skip them and finally we stop the job also.\nTo make it clear for operators we add warning logs highlighting that the\ngiven feature/driver is experimental, and introduce cfg option to enable\nsuch features explicitly.""\n\nThis commit implements this agreement, initially with Linuxbridge\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/845646\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n\nChange-Id: Ib18efa3f472736b58c8967847b1061da0e3897d7\n'}, {'number': 12, 'created': '2022-06-30 00:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/010d6cee5631f9e0b812e93e23da995e32c681e5', 'message': 'Implement experimental features framework\n\nDuring the Zed PTG it was decided to handle unsupported features in\nNeutron as experimental. See section titled ""When we say something is\nnot supported?"", day 2 in [1]. The agreement was:\n\n""We keep existing jobs for linuxbridge driver for example, but when the\ntests start to fail we skip them and finally we stop the job also.\nTo make it clear for operators we add warning logs highlighting that the\ngiven feature/driver is experimental, and introduce cfg option to enable\nsuch features explicitly.""\n\nThis commit implements this agreement, initially with Linuxbridge\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/845646\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n\nChange-Id: Ib18efa3f472736b58c8967847b1061da0e3897d7\n'}, {'number': 13, 'created': '2022-06-30 23:00:39.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'neutron/opts.py', 'releasenotes/notes/Experimental-features-framework-8c34291b5b0be367.yaml', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/tests/fullstack/resources/environment.py', 'zuul.d/rally.yaml', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/mech_driver/test_mech_linuxbridge.py', 'doc/source/admin/config.rst', 'etc/oslo-config-generator/neutron.conf', 'neutron/common/experimental.py', 'neutron/plugins/ml2/drivers/linuxbridge/mech_driver/mech_linuxbridge.py', 'setup.cfg', 'neutron/tests/fullstack/resources/config.py', 'doc/source/admin/config-experimental-framework.rst', 'neutron/conf/experimental.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f0413c84c4515cd2fae31d823613c4d7ea43110', 'message': 'Implement experimental features framework\n\nDuring the Zed PTG it was decided to handle unsupported features in\nNeutron as experimental. See section titled ""When we say something is\nnot supported?"", day 2 in [1]. The agreement was:\n\n""We keep existing jobs for linuxbridge driver for example, but when the\ntests start to fail we skip them and finally we stop the job also.\nTo make it clear for operators we add warning logs highlighting that the\ngiven feature/driver is experimental, and introduce cfg option to enable\nsuch features explicitly.""\n\nThis commit implements this agreement, initially with Linuxbridge\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/845646\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n\nChange-Id: Ib18efa3f472736b58c8967847b1061da0e3897d7\n'}]",45,845181,7f0413c84c4515cd2fae31d823613c4d7ea43110,89,8,13,4694,,,0,"Implement experimental features framework

During the Zed PTG it was decided to handle unsupported features in
Neutron as experimental. See section titled ""When we say something is
not supported?"", day 2 in [1]. The agreement was:

""We keep existing jobs for linuxbridge driver for example, but when the
tests start to fail we skip them and finally we stop the job also.
To make it clear for operators we add warning logs highlighting that the
given feature/driver is experimental, and introduce cfg option to enable
such features explicitly.""

This commit implements this agreement, initially with Linuxbridge

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/845646

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html

Change-Id: Ib18efa3f472736b58c8967847b1061da0e3897d7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/845181/10 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/experimental.py', 'neutron/plugins/ml2/drivers/linuxbridge/mech_driver/mech_linuxbridge.py', 'neutron/conf/experimental.py']",3,86e82c56c10f18ec04cff9f072e7a2e8efecd6f1,not-supported-framework,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib import constants from oslo_config import cfg from neutron._i18n import _ EXPERIMENTAL_CFG_GROUP = 'EXPERIMENTAL' EXPERIMENTAL_OPTS = [ cfg.BoolOpt(constants.AGENT_TYPE_LINUXBRIDGE, default=False, help=_('Enable execution of the experimental Linuxbridge ' 'driver.')), ] def register_experimental_opts(cfg=cfg.CONF): cfg.register_opts(EXPERIMENTAL_OPTS, EXPERIMENTAL_CFG_GROUP) ",,71,0
openstack%2Fneutron~stable%2Fyoga~I3a91f442a1fd72f9027f10f2b1b6572cee3f8360,openstack/neutron,stable/yoga,I3a91f442a1fd72f9027f10f2b1b6572cee3f8360,[OVN] Make binding profile validation more robust,MERGED,2022-06-10 19:04:06.000000000,2022-07-04 15:58:13.000000000,2022-07-04 15:54:19.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-06-10 19:04:06.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/common/ovn/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0276fa31403cb52817c2a883b2213e38f2cc77b', 'message': ""[OVN] Make binding profile validation more robust\n\nThe main purpose of Neutron's validation of the binding profile\nis to make sure expected keys are present and that their values\nare of the expected type.\n\nThe Nova compute component updates the binding profile as part of\ninstance creation.  Depending on the version of the Nova compute\ncomponent and which hardware it interfaces with, the information\nprovided by Nova in the binding profile may differ.\n\nNova also has limited information at its disposal at the point in\ntime it updates the port binding profile, so it would be\nnon-trivial for it to provide information conditionally based on\nthings like VNIC_TYPE and existing binding profile data.\n\nMake the Neutron binding profile validation more robust for both\nupgrade and heterogeneous hardware scenarios by accepting the\npresence of surplus keys in the binding profile.  The data that\nNeutron expects will still be validated and any surplus keys will\nbe pruned before further processing internally in Neutron.\n\nCloses-Bug: #1975743\nChange-Id: I3a91f442a1fd72f9027f10f2b1b6572cee3f8360\n(cherry picked from commit 8a9ffcb0d4c0c44fc226810fd7f08dab9b79fcc0)\n""}]",1,845390,f0276fa31403cb52817c2a883b2213e38f2cc77b,10,4,1,13686,,,0,"[OVN] Make binding profile validation more robust

The main purpose of Neutron's validation of the binding profile
is to make sure expected keys are present and that their values
are of the expected type.

The Nova compute component updates the binding profile as part of
instance creation.  Depending on the version of the Nova compute
component and which hardware it interfaces with, the information
provided by Nova in the binding profile may differ.

Nova also has limited information at its disposal at the point in
time it updates the port binding profile, so it would be
non-trivial for it to provide information conditionally based on
things like VNIC_TYPE and existing binding profile data.

Make the Neutron binding profile validation more robust for both
upgrade and heterogeneous hardware scenarios by accepting the
presence of surplus keys in the binding profile.  The data that
Neutron expects will still be validated and any surplus keys will
be pruned before further processing internally in Neutron.

Closes-Bug: #1975743
Change-Id: I3a91f442a1fd72f9027f10f2b1b6572cee3f8360
(cherry picked from commit 8a9ffcb0d4c0c44fc226810fd7f08dab9b79fcc0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/845390/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/common/ovn/test_utils.py']",3,f0276fa31403cb52817c2a883b2213e38f2cc77b,bug/1975743-stable/yoga," 'other_key': [int], def test_valid_input_surplus_keys(self): # Confirm that extra keys are allowed binding_profile = { constants.PORT_CAP_PARAM: [constants.PORT_CAP_SWITCHDEV], 'pci_vendor_info': 'dead:beef', 'pci_slot': '0000:ca:fe.42', 'physical_network': 'physnet1', 'optional_information_provided_by_nova': 'not_consumed_by_neutron', } expect = binding_profile.copy() del(expect[constants.PORT_CAP_PARAM]) del(expect['optional_information_provided_by_nova']) self.assertDictEqual( expect, utils.validate_and_get_data_from_binding_profile( {portbindings.VNIC_TYPE: portbindings.VNIC_DIRECT, constants.OVN_PORT_BINDING_PROFILE: binding_profile})) binding_profile = { # This param set is valid for VNIC_FAKE_NORMAL with 'other_key' pruned. expect = binding_profile.copy() del(expect['other_key']) self.assertDictEqual( expect, utils.validate_and_get_data_from_binding_profile( {portbindings.VNIC_TYPE: self.VNIC_FAKE_NORMAL, constants.OVN_PORT_BINDING_PROFILE: binding_profile})) expect = binding_profile.copy() constants.OVN_PORT_BINDING_PROFILE: binding_profile})) binding_profile = { 'other_key': 42, expect = binding_profile.copy() del(expect['third_key']) constants.OVN_PORT_BINDING_PROFILE: binding_profile}) 'other_key': 42,"," 'other_key': [str], expect = { # This param set is not valid for VNIC_FAKE_NORMAL self.assertRaises( neutron_lib.exceptions.InvalidInput, utils.validate_and_get_data_from_binding_profile, {portbindings.VNIC_TYPE: self.VNIC_FAKE_NORMAL, constants.OVN_PORT_BINDING_PROFILE: expect}) constants.OVN_PORT_BINDING_PROFILE: expect})) expect = { 'other_key': 'value', constants.OVN_PORT_BINDING_PROFILE: expect}) 'other_key': 'value',",43,18
openstack%2Fpython-openstackclient~stable%2Ftrain~I45e9a81d451c64cdd51f9b606d94161742bacdb7,openstack/python-openstackclient,stable/train,I45e9a81d451c64cdd51f9b606d94161742bacdb7,Stop testing lower-constraints,MERGED,2022-07-04 10:27:48.000000000,2022-07-04 15:57:57.000000000,2022-07-04 15:54:16.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-07-04 10:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/95fc79a2f14ed39714c5edb53293405fa8a98fe5', 'message': ""Stop testing lower-constraints\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html\n\nConflicts:\n  .zuul.yaml\n  lower-constraints.txt\n  tox.ini\n\nNOTE(stephenfin): Conflicts are due to the changed job template (train\nvs ussuri), slightly different lower constraints between branches and\npresence of a 'basepython' line in the tox environment.\n\nChange-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7\n(cherry picked from commit c677192d51ac80922f990c8a96b49e9dcc9325d2)\n(cherry picked from commit cde8db3d619ff94369cdabeebb42d3ecc2027651)\n(cherry picked from commit 40f56c653cc4eabf9edc05b5c5785e818295b013)\n(cherry picked from commit 84af7608ef931bd21bac7bf29247feda13275313)\n(cherry picked from commit 970f7621dd441522eaaf62f67150f15b8d917757)\n""}, {'number': 2, 'created': '2022-07-04 11:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/331e89aeb90977c77c0389f123d3e296df60f4f1', 'message': ""Stop testing lower-constraints\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html\n\nConflicts:\n  .zuul.yaml\n  lower-constraints.txt\n  tox.ini\n\nNOTE(stephenfin): Conflicts are due to the changed job template (train\nvs ussuri), slightly different lower constraints between branches and\npresence of a 'basepython' line in the tox environment.\n\nChange-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7\n(cherry picked from commit c677192d51ac80922f990c8a96b49e9dcc9325d2)\n(cherry picked from commit cde8db3d619ff94369cdabeebb42d3ecc2027651)\n(cherry picked from commit 40f56c653cc4eabf9edc05b5c5785e818295b013)\n(cherry picked from commit 84af7608ef931bd21bac7bf29247feda13275313)\n(cherry picked from commit db92b96407ac18a611b3d79d34080acaa9c55b8f)\n""}, {'number': 3, 'created': '2022-07-04 11:41:56.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/93b7e70e571c764935bb5a800f66a92f8fa22cf3', 'message': ""Stop testing lower-constraints\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html\n\nConflicts:\n  .zuul.yaml\n  bindep.txt\n  lower-constraints.txt\n  tox.ini\n\nNOTE(stephenfin): Conflicts are due to the changed job template (train\nvs ussuri), slightly different lower constraints between branches and\npresence of a 'basepython' line in the tox environment. The bindep\nchange added to the stable/ussuri change is no longer relevant here.\n\nChange-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7\n(cherry picked from commit c677192d51ac80922f990c8a96b49e9dcc9325d2)\n(cherry picked from commit cde8db3d619ff94369cdabeebb42d3ecc2027651)\n(cherry picked from commit 40f56c653cc4eabf9edc05b5c5785e818295b013)\n(cherry picked from commit 84af7608ef931bd21bac7bf29247feda13275313)\n(cherry picked from commit db92b96407ac18a611b3d79d34080acaa9c55b8f)\n""}]",1,848616,93b7e70e571c764935bb5a800f66a92f8fa22cf3,11,3,3,15334,,,0,"Stop testing lower-constraints

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html

Conflicts:
  .zuul.yaml
  bindep.txt
  lower-constraints.txt
  tox.ini

NOTE(stephenfin): Conflicts are due to the changed job template (train
vs ussuri), slightly different lower constraints between branches and
presence of a 'basepython' line in the tox environment. The bindep
change added to the stable/ussuri change is no longer relevant here.

Change-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7
(cherry picked from commit c677192d51ac80922f990c8a96b49e9dcc9325d2)
(cherry picked from commit cde8db3d619ff94369cdabeebb42d3ecc2027651)
(cherry picked from commit 40f56c653cc4eabf9edc05b5c5785e818295b013)
(cherry picked from commit 84af7608ef931bd21bac7bf29247feda13275313)
(cherry picked from commit db92b96407ac18a611b3d79d34080acaa9c55b8f)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/16/848616/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,95fc79a2f14ed39714c5edb53293405fa8a98fe5,drop-lc,, [testenv:lower-constraints] basepython = python2.7 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,151
openstack%2Fneutron~master~Ic5c8a80f1dc0bebbd117ad9b56365e8c606c112d,openstack/neutron,master,Ic5c8a80f1dc0bebbd117ad9b56365e8c606c112d,[sqlalchemy-20] Remove unnecessary DB context,MERGED,2022-07-01 10:07:06.000000000,2022-07-04 15:55:39.000000000,2022-07-04 15:53:50.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 10:07:06.000000000', 'files': ['neutron/plugins/ml2/managers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c92d7a3076cb58bfcc393ff7be4f37bc9cca81c', 'message': '[sqlalchemy-20] Remove unnecessary DB context\n\nAll ""reserve_provider_segment"" implementations create their own\nDB contexts, if needed.\n\nRelated-Bug: #1976357\nChange-Id: Ic5c8a80f1dc0bebbd117ad9b56365e8c606c112d\n'}]",0,848401,6c92d7a3076cb58bfcc393ff7be4f37bc9cca81c,11,4,1,16688,,,0,"[sqlalchemy-20] Remove unnecessary DB context

All ""reserve_provider_segment"" implementations create their own
DB contexts, if needed.

Related-Bug: #1976357
Change-Id: Ic5c8a80f1dc0bebbd117ad9b56365e8c606c112d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/848401/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/managers.py'],1,6c92d7a3076cb58bfcc393ff7be4f37bc9cca81c,bug/1976357," return self.reserve_provider_segment(context, segment)"," with db_api.CONTEXT_WRITER.using(context): return self.reserve_provider_segment(context, segment)",1,2
openstack%2Fneutron-tempest-plugin~master~Id4bf385acaacbaeb308f5e9b1e0f1e22a9b1bbef,openstack/neutron-tempest-plugin,master,Id4bf385acaacbaeb308f5e9b1e0f1e22a9b1bbef,Enable execution of experimental linuxbridge job,MERGED,2022-06-13 22:59:56.000000000,2022-07-04 15:54:22.000000000,2022-07-04 15:54:22.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-13 22:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5bf2509903611dc263817a6966ed1023e95cfd1d', 'message': 'Enable execution of experimental linuxbridge job\n\nDuring the Zed PTG it was decided to handle unsupported features in\nNeutron as experimental. See section titled ""When we say something is\nnot supported?"", day 2 in [1].\n\nThe first feature to be handled this way is the linuxbridge ML2 driver,\nsee [2]. In this patch, the execution of linuxbridge jobs is enabled\nunder the experimental framework\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n[2] https://review.opendev.org/c/openstack/neutron/+/845181\n\nChange-Id: Id4bf385acaacbaeb308f5e9b1e0f1e22a9b1bbef\n'}, {'number': 2, 'created': '2022-06-16 23:35:24.000000000', 'files': ['zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/22173b8556dbcbc58f9d5cea081b9a23ed9404e1', 'message': 'Enable execution of experimental linuxbridge job\n\nDuring the Zed PTG it was decided to handle unsupported features in\nNeutron as experimental. See section titled ""When we say something is\nnot supported?"", day 2 in [1].\n\nThe first feature to be handled this way is the linuxbridge ML2 driver,\nsee [2]. In this patch, the execution of linuxbridge jobs is enabled\nunder the experimental framework\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n[2] https://review.opendev.org/c/openstack/neutron/+/845181\n\nChange-Id: Id4bf385acaacbaeb308f5e9b1e0f1e22a9b1bbef\n'}]",4,845646,22173b8556dbcbc58f9d5cea081b9a23ed9404e1,12,4,2,4694,,,0,"Enable execution of experimental linuxbridge job

During the Zed PTG it was decided to handle unsupported features in
Neutron as experimental. See section titled ""When we say something is
not supported?"", day 2 in [1].

The first feature to be handled this way is the linuxbridge ML2 driver,
see [2]. In this patch, the execution of linuxbridge jobs is enabled
under the experimental framework

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html
[2] https://review.opendev.org/c/openstack/neutron/+/845181

Change-Id: Id4bf385acaacbaeb308f5e9b1e0f1e22a9b1bbef
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/46/845646/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,5bf2509903611dc263817a6966ed1023e95cfd1d,experimental-framework, EXPERIMENTAL: experimental_linuxbridge: true,,2,0
openstack%2Ftripleo-ansible~master~I18b71703942111b3f168d0811bfb2ac121325c20,openstack/tripleo-ansible,master,I18b71703942111b3f168d0811bfb2ac121325c20,Designate: remove unnecessary transitional code for moving extra IP,MERGED,2022-05-04 12:57:21.000000000,2022-07-04 15:46:51.000000000,2022-07-04 15:46:51.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-05-04 12:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ddfcb849027bc583afa5e9605ea1ec11cf4041ab', 'message': 'Designate: remove unnecessary transitional code for moving extra IP\n\nThis patch removes some code that was introduced or kept in\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839973 that\nwas necessary to get a patch series merged. It is no longer necessary\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/839974\nChange-Id: I18b71703942111b3f168d0811bfb2ac121325c20\n'}, {'number': 2, 'created': '2022-05-11 16:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8f5cbc0b88b589cdb6782f3b1f1212e5f8d9fa16', 'message': 'Designate: remove unnecessary transitional code for moving extra IP\n\nThis patch removes some code that was introduced or kept in\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839973 that\nwas necessary to get a patch series merged. It is no longer necessary\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/839974\nChange-Id: I18b71703942111b3f168d0811bfb2ac121325c20\n'}, {'number': 3, 'created': '2022-05-12 16:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4491515aef2378c19e92dc13fa466515ecc41709', 'message': 'Designate: remove unnecessary transitional code for moving extra IP\n\nThis patch removes some code that was introduced or kept in\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839973 that\nwas necessary to get a patch series merged. It is no longer necessary\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/839974\nChange-Id: I18b71703942111b3f168d0811bfb2ac121325c20\n'}, {'number': 4, 'created': '2022-05-17 17:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7badb5d391e914273a59064ff74f09e036ce16d7', 'message': 'Designate: remove unnecessary transitional code for moving extra IP\n\nThis patch removes some code that was introduced or kept in\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839973 that\nwas necessary to get a patch series merged. It is no longer necessary\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/839974\nChange-Id: I18b71703942111b3f168d0811bfb2ac121325c20\n'}, {'number': 5, 'created': '2022-05-18 13:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7c680115ff1b27ba827e6abd5a63dcd75d9af9f5', 'message': 'Designate: remove unnecessary transitional code for moving extra IP\n\nThis patch removes some code that was introduced or kept in\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839973 that\nwas necessary to get a patch series merged. It is no longer necessary\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/839974\nChange-Id: I18b71703942111b3f168d0811bfb2ac121325c20\n'}, {'number': 6, 'created': '2022-05-19 13:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cff43ae44701896adba8381cca7110159282828b', 'message': 'Designate: remove unnecessary transitional code for moving extra IP\n\nThis patch removes some code that was introduced or kept in\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839973 that\nwas necessary to get a patch series merged. It is no longer necessary\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/839974\nChange-Id: I18b71703942111b3f168d0811bfb2ac121325c20\n'}, {'number': 7, 'created': '2022-05-19 18:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5b7585e00f1d34b28fd970a315f52da3e8173209', 'message': 'Designate: remove unnecessary transitional code for moving extra IP\n\nThis patch removes some code that was introduced or kept in\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839973 that\nwas necessary to get a patch series merged. It is no longer necessary\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/839974\nChange-Id: I18b71703942111b3f168d0811bfb2ac121325c20\n'}, {'number': 8, 'created': '2022-06-23 16:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5bcfebd6b15a67863704d2bcde41a2d92f3895cd', 'message': 'Designate: remove unnecessary transitional code for moving extra IP\n\nThis patch removes some code that was introduced or kept in\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839973 that\nwas necessary to get a patch series merged. It is no longer necessary\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/839974\nChange-Id: I18b71703942111b3f168d0811bfb2ac121325c20\n'}, {'number': 9, 'created': '2022-06-27 15:07:41.000000000', 'files': ['tripleo_ansible/roles/tripleo_unbound/tasks/main.yml', 'tripleo_ansible/roles/designate_bind_pool/templates/pools.yaml.j2', 'tripleo_ansible/roles/designate_bind_config/molecule/default/converge.yml', 'tripleo_ansible/roles/designate_bind_pool/tasks/main.yml', 'tripleo_ansible/roles/designate_bind_config/templates/options.conf.j2', 'tripleo_ansible/roles/designate_bind_config/templates/rndc.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/86941509d19723af4dcb5af757701f860fc4fe40', 'message': 'Designate: remove unnecessary transitional code for moving extra IP\n\nThis patch removes some code that was introduced or kept in\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839973 that\nwas necessary to get a patch series merged. It is no longer necessary\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/839974\nChange-Id: I18b71703942111b3f168d0811bfb2ac121325c20\n'}]",1,840451,86941509d19723af4dcb5af757701f860fc4fe40,40,7,9,6681,,,0,"Designate: remove unnecessary transitional code for moving extra IP

This patch removes some code that was introduced or kept in
https://review.opendev.org/c/openstack/tripleo-ansible/+/839973 that
was necessary to get a patch series merged. It is no longer necessary

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/839974
Change-Id: I18b71703942111b3f168d0811bfb2ac121325c20
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/51/840451/7 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_unbound/tasks/main.yml', 'tripleo_ansible/roles/designate_bind_config/templates/options.conf.j2', 'tripleo_ansible/roles/designate_bind_config/templates/rndc.conf.j2']",3,ddfcb849027bc583afa5e9605ea1ec11cf4041ab,neutron-resolver-integration,,"{% if tripleo_dns_listen_interfaces is defined %}{% else %} inet {{ external_ip|default(ctlplane_ip)|default('127.0.0.1') }} allow { {{ rndc_allowed_addresses|join(';') }}; } keys { ""rndc-key""; }; {% endif %}",0,19
openstack%2Ftripleo-heat-templates~master~I0083538ae5655e4c1637ed802caba8f0e8dbfa94,openstack/tripleo-heat-templates,master,I0083538ae5655e4c1637ed802caba8f0e8dbfa94,Provide default values for ExtraConfig parameters,MERGED,2022-07-01 02:45:42.000000000,2022-07-04 15:46:47.000000000,2022-07-04 15:46:47.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-01 02:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b0ae214c68bb842fa2ebd026171e821c8e87d1a8', 'message': 'Provide default values for ExtraConfig parameters\n\nIn Iafb291419822362be2ab6755589d49f78543dc54 we added merge\nstrategies for ExtraConfig. However, those would be ignored\nwithout them in overcloud-resource-registry-puppet.j2.yaml\n\nResolves: rhbz#2102466\nChange-Id: I0083538ae5655e4c1637ed802caba8f0e8dbfa94\n'}, {'number': 2, 'created': '2022-07-01 05:35:41.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c04fad7286fb26424c9395923097b32aae2c1a0', 'message': 'Provide default values for ExtraConfig parameters\n\nIn Iafb291419822362be2ab6755589d49f78543dc54 we added merge\nstrategies for ExtraConfig. However, those would be ignored\nwithout them in overcloud-resource-registry-puppet.j2.yaml\n\nDepends-On: https://review.opendev.org/c/openstack/heat/+/848375\nResolves: rhbz#2102466\nChange-Id: I0083538ae5655e4c1637ed802caba8f0e8dbfa94\n'}]",9,848376,7c04fad7286fb26424c9395923097b32aae2c1a0,27,5,2,8833,,,0,"Provide default values for ExtraConfig parameters

In Iafb291419822362be2ab6755589d49f78543dc54 we added merge
strategies for ExtraConfig. However, those would be ignored
without them in overcloud-resource-registry-puppet.j2.yaml

Depends-On: https://review.opendev.org/c/openstack/heat/+/848375
Resolves: rhbz#2102466
Change-Id: I0083538ae5655e4c1637ed802caba8f0e8dbfa94
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/848376/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-resource-registry-puppet.j2.yaml'],1,b0ae214c68bb842fa2ebd026171e821c8e87d1a8,, ExtraConfig: {} {{role.name}}ExtraConfig: {},,2,0
openstack%2Fneutron~master~Iaf40ddc20692a3a51a8d5f5acfc2094b2d5c00c4,openstack/neutron,master,Iaf40ddc20692a3a51a8d5f5acfc2094b2d5c00c4,ovs: handle segmentation ids per network ports,MERGED,2022-04-27 07:32:05.000000000,2022-07-04 15:46:35.000000000,2022-07-04 15:45:13.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 07:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/954e22885f38d3955163e3578fc1b5f8037a3b3b', 'message': 'ovs: handle segmentation ids per network ports\n\nThis is change the datastructure that maintains the relationship\nbetween ports and network to also handle segmenation id related.\n\nThis will be necessary in future to support multiple segments per\nnetworks on a same physical provider network.\n\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaf40ddc20692a3a51a8d5f5acfc2094b2d5c00c4\n'}, {'number': 2, 'created': '2022-05-04 07:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33c4e78bc1c3e6da70493a3bb20c7efeb6a6d293', 'message': 'ovs: handle segmentation ids per network ports\n\nThis is change the datastructure that maintains the relationship\nbetween ports and network to also handle segmenation id related.\n\nThis will be necessary in future to support multiple segments per\nnetworks on a same physical provider network.\n\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaf40ddc20692a3a51a8d5f5acfc2094b2d5c00c4\n'}, {'number': 3, 'created': '2022-05-04 14:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/faa9e442530f805b6c5533ef764db0701f5f8ba0', 'message': 'ovs: handle segmentation ids per network ports\n\nThis is change the datastructure that maintains the relationship\nbetween ports and network to also handle segmenation id related.\n\nThis will be necessary in future to support multiple segments per\nnetworks on a same physical provider network.\n\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaf40ddc20692a3a51a8d5f5acfc2094b2d5c00c4\n'}, {'number': 4, 'created': '2022-05-11 17:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3260ec21ac4299fec5cc360e9bb7c5ed40fca512', 'message': 'ovs: handle segmentation ids per network ports\n\nThis is change the datastructure that maintains the relationship\nbetween ports and network to also handle segmenation id related.\n\nThis will be necessary in future to support multiple segments per\nnetworks on a same physical provider network.\n\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaf40ddc20692a3a51a8d5f5acfc2094b2d5c00c4\n'}, {'number': 5, 'created': '2022-05-16 07:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2bed57c4672ef1a86137342ad3b0009300ef1b6b', 'message': 'ovs: handle segmentation ids per network ports\n\nThis is change the datastructure that maintains the relationship\nbetween ports and network to also handle segmenation id related.\n\nThis will be necessary in future to support multiple segments per\nnetworks on a same physical provider network.\n\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaf40ddc20692a3a51a8d5f5acfc2094b2d5c00c4\n'}, {'number': 6, 'created': '2022-05-23 10:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8f772c8e8a3e63e0630c82220859bb75a599483', 'message': 'ovs: handle segmentation ids per network ports\n\nThis is change the datastructure that maintains the relationship\nbetween ports and network to also handle segmenation id related.\n\nThis will be necessary in future to support multiple segments per\nnetworks on a same physical provider network.\n\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaf40ddc20692a3a51a8d5f5acfc2094b2d5c00c4\n'}, {'number': 7, 'created': '2022-05-23 12:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6bfde93f035022fec99263c69db5605893168a7', 'message': 'ovs: handle segmentation ids per network ports\n\nThis is change the datastructure that maintains the relationship\nbetween ports and network to also handle segmenation id related.\n\nThis will be necessary in future to support multiple segments per\nnetworks on a same physical provider network.\n\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaf40ddc20692a3a51a8d5f5acfc2094b2d5c00c4\n'}, {'number': 8, 'created': '2022-06-17 07:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61cba5e8eee3c0b8357d81cc6194341d764d36ce', 'message': 'ovs: handle segmentation ids per network ports\n\nThis is change the datastructure that maintains the relationship\nbetween ports and network to also handle segmenation id related.\n\nThis will be necessary in future to support multiple segments per\nnetworks on a same physical provider network.\n\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaf40ddc20692a3a51a8d5f5acfc2094b2d5c00c4\n'}, {'number': 9, 'created': '2022-06-27 07:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/026c0160be02f929df05e5552d1af6ee8851b514', 'message': 'ovs: handle segmentation ids per network ports\n\nThis is change the datastructure that maintains the relationship\nbetween ports and network to also handle segmenation id related.\n\nThis will be necessary in future to support multiple segments per\nnetworks on a same physical provider network.\n\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaf40ddc20692a3a51a8d5f5acfc2094b2d5c00c4\n'}, {'number': 10, 'created': '2022-06-30 17:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/72848758c759102b85093807db067c94eab2d67c', 'message': 'ovs: handle segmentation ids per network ports\n\nThis is change the datastructure that maintains the relationship\nbetween ports and network to also handle segmenation id related.\n\nThis will be necessary in future to support multiple segments per\nnetworks on a same physical provider network.\n\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaf40ddc20692a3a51a8d5f5acfc2094b2d5c00c4\n'}, {'number': 11, 'created': '2022-06-30 17:43:20.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1bfbc33ce0390ee180cba4ef691b6f584aa63e29', 'message': 'ovs: handle segmentation ids per network ports\n\nThis is changing the datastructure that maintains the relationship\nbetween ports and networks to also handle the segmenation ids related.\n\nThis will be necessary in future to support multiple segments per\nnetworks on a same physical provider network.\n\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaf40ddc20692a3a51a8d5f5acfc2094b2d5c00c4\n'}]",25,839478,1bfbc33ce0390ee180cba4ef691b6f584aa63e29,76,5,11,7730,,,0,"ovs: handle segmentation ids per network ports

This is changing the datastructure that maintains the relationship
between ports and networks to also handle the segmenation ids related.

This will be necessary in future to support multiple segments per
networks on a same physical provider network.

Partial-Bug: #1956435
Partial-Bug: #1764738
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: Iaf40ddc20692a3a51a8d5f5acfc2094b2d5c00c4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/839478/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,954e22885f38d3955163e3578fc1b5f8037a3b3b,segments,"TEST_SEGMENTATION_ID1 = 'seg-id-1' TEST_SEGMENTATION_ID2 = 'seg-id-2' self.agent._update_port_network( TEST_PORT_ID1, TEST_NETWORK_ID1, TEST_SEGMENTATION_ID1) self.assertEqual( set(), self.agent.network_ports[ TEST_NETWORK_ID1][TEST_SEGMENTATION_ID1]) self.agent._update_port_network( port['id'], port['network_id'], TEST_SEGMENTATION_ID1) self.agent._update_port_network( port['id'], port['network_id'], TEST_SEGMENTATION_ID1) self.agent._update_port_network( TEST_PORT_ID1, TEST_NETWORK_ID1, TEST_SEGMENTATION_ID1) self.agent._update_port_network( TEST_PORT_ID2, TEST_NETWORK_ID1, TEST_SEGMENTATION_ID2) self.agent._update_port_network( TEST_PORT_ID3, TEST_NETWORK_ID2, TEST_SEGMENTATION_ID1) self.agent._update_port_network( TEST_PORT_ID1, TEST_NETWORK_ID2, TEST_SEGMENTATION_ID1) self.agent.network_ports[TEST_NETWORK_ID1][ TEST_SEGMENTATION_ID2]) self.agent.network_ports[TEST_NETWORK_ID2][ TEST_SEGMENTATION_ID1])"," self.agent._update_port_network(TEST_PORT_ID1, TEST_NETWORK_ID1) self.assertEqual(set(), self.agent.network_ports[TEST_NETWORK_ID1]) self.agent._update_port_network(port['id'], port['network_id']) self.agent._update_port_network(port['id'], port['network_id']) self.agent._update_port_network(TEST_PORT_ID1, TEST_NETWORK_ID1) self.agent._update_port_network(TEST_PORT_ID2, TEST_NETWORK_ID1) self.agent._update_port_network(TEST_PORT_ID3, TEST_NETWORK_ID2) self.agent._update_port_network(TEST_PORT_ID1, TEST_NETWORK_ID2) self.agent.network_ports[TEST_NETWORK_ID1]) self.agent.network_ports[TEST_NETWORK_ID2])",55,33
openstack%2Fironic~stable%2Fyoga~Ia2739311f065e19ba539fe3df7268075d6075787,openstack/ironic,stable/yoga,Ia2739311f065e19ba539fe3df7268075d6075787,No deploy_kernel/ramdisk with the ramdisk deploy and no cleaning,MERGED,2022-07-04 12:08:46.000000000,2022-07-04 15:12:09.000000000,2022-07-04 15:10:24.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-07-04 12:08:46.000000000', 'files': ['releasenotes/notes/redfish-ramdisk-no-agent-490b5edb0b2387e5.yaml', 'ironic/drivers/modules/deploy_utils.py', 'ironic/conductor/utils.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/common/pxe_utils.py', 'ironic/drivers/modules/redfish/boot.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/28796c3da7b8a39f1b25e81919db280d7f6569c4', 'message': ""No deploy_kernel/ramdisk with the ramdisk deploy and no cleaning\n\nRamdisk deploys don't use IPA, no need to provide it. Cleaning may need\nthe agent, so only skip verification if cleaning is disabled.\n\nOther boot interfaces may need fixing as well, I haven't checked them.\n\nChange-Id: Ia2739311f065e19ba539fe3df7268075d6075787\n(cherry picked from commit 65583e64172a0188d125117d1f2288e105832395)\n""}]",0,848594,28796c3da7b8a39f1b25e81919db280d7f6569c4,11,2,1,10239,,,0,"No deploy_kernel/ramdisk with the ramdisk deploy and no cleaning

Ramdisk deploys don't use IPA, no need to provide it. Cleaning may need
the agent, so only skip verification if cleaning is disabled.

Other boot interfaces may need fixing as well, I haven't checked them.

Change-Id: Ia2739311f065e19ba539fe3df7268075d6075787
(cherry picked from commit 65583e64172a0188d125117d1f2288e105832395)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/94/848594/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/redfish-ramdisk-no-agent-490b5edb0b2387e5.yaml', 'ironic/drivers/modules/deploy_utils.py', 'ironic/conductor/utils.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/common/pxe_utils.py', 'ironic/drivers/modules/redfish/boot.py', 'ironic/tests/unit/common/test_pxe_utils.py']",7,28796c3da7b8a39f1b25e81919db280d7f6569c4,redfish-ramdisk-no-agent-stable/yoga," self.assertEqual({}, pxe_utils.get_kernel_ramdisk_info(node_uuid, {})) @mock.patch.object(deploy_utils, 'get_boot_option', lambda node: 'ramdisk') def test_parse_driver_info_ramdisk(self): self.node.driver_info = {} self.node.automated_clean = False image_info = pxe_utils.parse_driver_info(self.node, mode='deploy') self.assertEqual({}, image_info) "," driver_info = {} self.assertRaises(KeyError, pxe_utils.get_kernel_ramdisk_info, node_uuid, driver_info)",60,14
openstack%2Fneutron~stable%2Fyoga~I9d87d1c6d2c5415a4bd602cb6968db4d155f15e1,openstack/neutron,stable/yoga,I9d87d1c6d2c5415a4bd602cb6968db4d155f15e1,Switch fips scenario jobs to Centos stream 9,MERGED,2022-05-31 06:17:22.000000000,2022-07-04 15:06:18.000000000,2022-07-04 15:01:15.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 06:17:22.000000000', 'files': ['zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/542f570788af7b3cf834d7289fa9d90876d1c74d', 'message': ""Switch fips scenario jobs to Centos stream 9\n\nThose jobs from periodic pipeline were run on Centos Stream 8\nso far but lets switch them to new Centos Stream 9.\n\n[Yoga Only] Tempest master is using master upper-constraints and\nfailing when run with py3.6 as master has dropped py3.6 support, so\nlet's switch yoga fips jobs too to CentOS 9-Stream.\n\nChange-Id: I9d87d1c6d2c5415a4bd602cb6968db4d155f15e1\n(cherry picked from commit e41b8d0a94d15163f76631c043ba15d9136966f2)\n""}]",4,843824,542f570788af7b3cf834d7289fa9d90876d1c74d,13,7,1,13861,,,0,"Switch fips scenario jobs to Centos stream 9

Those jobs from periodic pipeline were run on Centos Stream 8
so far but lets switch them to new Centos Stream 9.

[Yoga Only] Tempest master is using master upper-constraints and
failing when run with py3.6 as master has dropped py3.6 support, so
let's switch yoga fips jobs too to CentOS 9-Stream.

Change-Id: I9d87d1c6d2c5415a4bd602cb6968db4d155f15e1
(cherry picked from commit e41b8d0a94d15163f76631c043ba15d9136966f2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/843824/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-singlenode.yaml'],1,542f570788af7b3cf834d7289fa9d90876d1c74d,ci-improvements-stable/yoga, nodeset: devstack-single-node-centos-9-stream Scenario testing for a FIPS enabled Centos 9 system nodeset: devstack-single-node-centos-9-stream Scenario testing for a FIPS enabled Centos 9 system, nodeset: devstack-single-node-centos-8-stream Scenario testing for a FIPS enabled Centos 8 system nodeset: devstack-single-node-centos-8-stream Scenario testing for a FIPS enabled Centos 8 system,4,4
openstack%2Fneutron~stable%2Fwallaby~Ic9e8586991866ebca0b24bfe691e541c198d18d7,openstack/neutron,stable/wallaby,Ic9e8586991866ebca0b24bfe691e541c198d18d7,[OVN][Placement] Make the Placement reporter compatible with OVN,MERGED,2022-07-01 11:17:31.000000000,2022-07-04 15:06:10.000000000,2022-07-04 15:01:24.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 11:17:31.000000000', 'files': ['neutron/services/placement_report/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/05345730925d1fe15cf055a7cf669121eb0dfaba', 'message': '[OVN][Placement] Make the Placement reporter compatible with OVN\n\nMake the ""PlacementReportPlugin"" and the ""PlacementReporterAgents""\nclasses compatible with agent-less mechanism drivers. OVN mechanism\ndriver cannot report any agent to the supported agent type list.\n\nNOTE: this patch belongs to a series of patches to provide support\nin OVN to report to Placement. However, this patch is backported to\nstable releases to fix LP#1980488. This way, OVN won\'t report anything\nto Placement and at the same time won\'t break the call to\n""handle_placement_config"" when another mech driver agent (in the\nLP example SR-IOV) pushes a heartbeat and updates the resource\nprovider values.\n\nCloses-Bug: #1980488\nRelated-Bug: #1578989\nChange-Id: Ic9e8586991866ebca0b24bfe691e541c198d18d7\n(cherry picked from commit 0ae8eba7e73e050369478ba095c03371ed5f5718)\n(cherry picked from commit 616085537d4a20da4e0f44bb402b3b3f098af92b)\n'}]",0,848431,05345730925d1fe15cf055a7cf669121eb0dfaba,11,3,1,16688,,,0,"[OVN][Placement] Make the Placement reporter compatible with OVN

Make the ""PlacementReportPlugin"" and the ""PlacementReporterAgents""
classes compatible with agent-less mechanism drivers. OVN mechanism
driver cannot report any agent to the supported agent type list.

NOTE: this patch belongs to a series of patches to provide support
in OVN to report to Placement. However, this patch is backported to
stable releases to fix LP#1980488. This way, OVN won't report anything
to Placement and at the same time won't break the call to
""handle_placement_config"" when another mech driver agent (in the
LP example SR-IOV) pushes a heartbeat and updates the resource
provider values.

Closes-Bug: #1980488
Related-Bug: #1578989
Change-Id: Ic9e8586991866ebca0b24bfe691e541c198d18d7
(cherry picked from commit 0ae8eba7e73e050369478ba095c03371ed5f5718)
(cherry picked from commit 616085537d4a20da4e0f44bb402b3b3f098af92b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/848431/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/placement_report/plugin.py'],1,05345730925d1fe15cf055a7cf669121eb0dfaba,bug/1980488," self._supported_agent_types = None if self._supported_agent_types is None: if (driver.obj.resource_provider_uuid5_namespace is not None and hasattr(driver.obj, 'agent_type') and driver.obj.agent_type)] supported_agents = ', '.join(self._supported_agent_types) or 'None' supported_agents)"," self._supported_agent_types = [] if not self._supported_agent_types: if driver.obj.resource_provider_uuid5_namespace is not None] ', '.join(self._supported_agent_types))",7,4
openstack%2Fmanila-tempest-plugin~master~Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25,openstack/manila-tempest-plugin,master,Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25,Add new configuration section for share features,NEW,2021-04-14 08:39:58.000000000,2022-07-04 15:05:51.000000000,,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30025}]","[{'number': 1, 'created': '2021-04-14 08:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2cb85fd63f9866b96ee5ecbe92a21622d55837e2', 'message': ""[WIP] Add new configuration section for share features\n\nLike other openstack services, let's add a new section in\ntempest.conf for manila features called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 2, 'created': '2021-04-14 08:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/44824aaa8a435138b5406d31261f8eedfa617fd7', 'message': ""[WIP] Add new configuration section for share features\n\nLike other openstack services, let's add a new section in\ntempest.conf for manila features called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 3, 'created': '2021-04-18 12:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/21019608995e1636b738f4c8ca0f67e1df082d6a', 'message': ""[WIP] Add new configuration section for share features\n\nLike other openstack services, let's add a new section in\ntempest.conf for manila features called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 4, 'created': '2021-04-18 13:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f884e90f16646f64388b6fc80ec862590bf1a43a', 'message': ""[WIP] Add new configuration section for share features\n\nLike other openstack services, let's add a new section in\ntempest.conf for manila features called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 5, 'created': '2021-04-19 04:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a16a497311843db7bd35c182266bc77dbec86371', 'message': ""[WIP] Add new configuration section for share features\n\nLike other openstack services, let's add a new section in\ntempest.conf for manila features called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 6, 'created': '2021-04-19 06:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/bb55777c44c290f7f5350cd1db40717b5b34eb5c', 'message': ""[WIP] Add new configuration section for share features\n\nLike other openstack services, let's add a new section in\ntempest.conf for manila features called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 7, 'created': '2021-04-19 09:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1651549c89e66738f1bb8dedee13882f8656c16f', 'message': ""[WIP] Add new configuration section for share features\n\nLike other openstack services, let's add a new section in\ntempest.conf for manila features called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 8, 'created': '2021-04-19 10:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/acde622b29796922e9ed64538ea36d20a3194114', 'message': ""[WIP] Add new configuration section for share features\n\nLike other openstack services, let's add a new section in\ntempest.conf for manila features called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 9, 'created': '2021-04-19 11:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/9fcbb846f44d3de0c982b90b927525ac65dabd8a', 'message': ""[WIP] Add new configuration section for share features\n\nLike other openstack services, let's add a new section in\ntempest.conf for manila features called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 10, 'created': '2021-08-09 09:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/4340d265a9b7f44ebf87280e36378ef3e9c5e4b4', 'message': ""[WIP] Add new configuration section for share features\n\nLike other openstack services, let's add a new section in\ntempest.conf for manila features called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 11, 'created': '2021-08-09 09:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/0abd83a7090c924585e5fab05bd95ea856fdf950', 'message': ""[WIP] Add new configuration section for share features\n\nLike other openstack services, let's add a new section in\ntempest.conf for manila features called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 12, 'created': '2021-08-09 11:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/6c157fc4c64661c83a6a5bf91c0fca8b2c493119', 'message': ""[WIP] Add new configuration section for share features\n\nLike other openstack services, let's add a new section in\ntempest.conf for manila features called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 13, 'created': '2021-08-09 13:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/9fabe54cfd01beebcb08e65bdc9f85c2fbb269a9', 'message': ""[WIP] Add new configuration section for share features\n\nLike other openstack services, let's add a new section in\ntempest.conf for manila features called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 14, 'created': '2021-08-10 03:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/afe036f4700b154aa84d4ad81c52922aa39c2450', 'message': ""[WIP] Add new configuration section for share features\n\nLike other openstack services, let's add a new section in\ntempest.conf for manila features called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 15, 'created': '2021-08-10 09:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1a2aa6d28621744e96a98ac0ae2199236132e836', 'message': ""Add new configuration section for share features\n\nLike other openstack services, let's add a new section in\ntempest.conf for manila features called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 16, 'created': '2021-08-10 11:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/730b629e0aaeee255faf44c1aff139d369e5c73c', 'message': ""Add new configuration section for share features\n\nWe are currently skipping feature tests in a confusing way,\nfor example regarding snapshot feature we use two configuration\noptions: ``capability_snapshot_support``, ``run_snapshot_tests``\nSo in order to run a snapshot test we need enable these two\nconfiguration options.\n\nThis patch suggests using a new single configuration option,\nlike other openstack services, called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch is part of the patches that will be uploaded later.\nThis patch removes the configuration options below:\n``capability_snapshot_support``\n``capability_create_share_from_snapshot_support``\n``run_snapshot_tests``\n``run_manage_unmanage_snapshot_tests``\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 17, 'created': '2021-08-10 13:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f466dd6932713434eaec30db56750c9f3aebf235', 'message': ""Add new configuration section for share features\n\nLike other openstack services, let's add a new section in\ntempest.conf for manila features called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 18, 'created': '2021-08-10 13:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/56a3c90d25529379f80a89be083a17c69404700b', 'message': ""Add new configuration section for share features\n\nWe are currently skipping feature tests in a confusing way,\nfor example regarding snapshot feature we use two configuration\noptions: ``capability_snapshot_support``, ``run_snapshot_tests``\nSo in order to run a snapshot test we need enable these two\nconfiguration options.\n\nThis patch suggests using a new single configuration option,\nlike other openstack services, called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch is part of the patches that will be uploaded later.\nThis patch removes the configuration options below:\n``capability_snapshot_support``\n``capability_create_share_from_snapshot_support``\n``run_snapshot_tests``\n``run_manage_unmanage_snapshot_tests``\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 19, 'created': '2021-08-10 14:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/db2a36f17ab69b46f1574744cf1a5f7484c0c235', 'message': ""Add new configuration section for share features\n\nWe are currently skipping feature tests in a confusing way,\nfor example regarding snapshot feature we use two configuration\noptions: ``capability_snapshot_support``, ``run_snapshot_tests``\nSo in order to run a snapshot test we need enable these two\nconfiguration options.\n\nThis patch suggests using a new single configuration option,\nlike other openstack services, called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch is part of the patches that will be uploaded later.\nThis patch removes the configuration options below:\n``capability_snapshot_support``\n``capability_create_share_from_snapshot_support``\n``run_snapshot_tests``\n``run_manage_unmanage_snapshot_tests``\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 20, 'created': '2021-09-21 03:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b0259ae2c6deb8263e5b9edf00804e7baaac0607', 'message': ""Add new configuration section for share features\n\nWe are currently skipping feature tests in a confusing way,\nfor example regarding snapshot feature we use two configuration\noptions: ``capability_snapshot_support``, ``run_snapshot_tests``\nSo in order to run a snapshot test we need enable these two\nconfiguration options.\n\nThis patch suggests using a new single configuration option,\nlike other openstack services, called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch is part of the patches that will be uploaded later.\nThis patch removes the configuration options below:\n``capability_snapshot_support``\n``capability_create_share_from_snapshot_support``\n``run_snapshot_tests``\n``run_manage_unmanage_snapshot_tests``\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 21, 'created': '2022-02-17 12:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/7e1014d552c118cb02202b7c108b5f663425bd5a', 'message': ""Add new configuration section for share features\n\nWe are currently skipping feature tests in a confusing way,\nfor example regarding snapshot feature we use two configuration\noptions: ``capability_snapshot_support``, ``run_snapshot_tests``\nSo in order to run a snapshot test we need enable these two\nconfiguration options.\n\nThis patch suggests using a new single configuration option,\nlike other openstack services, called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch is part of the patches that will be uploaded later.\nThis patch removes the configuration options below:\n``capability_snapshot_support``\n``capability_create_share_from_snapshot_support``\n``run_snapshot_tests``\n``run_manage_unmanage_snapshot_tests``\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 22, 'created': '2022-02-17 13:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/c250fc5a2b0d606f69bc86357acfd1a3713f86f6', 'message': ""Add new configuration section for share features\n\nWe are currently skipping feature tests in a confusing way,\nfor example regarding snapshot feature we use two configuration\noptions: ``capability_snapshot_support``, ``run_snapshot_tests``\nSo in order to run a snapshot test we need enable these two\nconfiguration options.\n\nThis patch suggests using a new single configuration option,\nlike other openstack services, called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch is part of the patches that will be uploaded later.\nThis patch removes the configuration options below:\n``capability_snapshot_support``\n``capability_create_share_from_snapshot_support``\n``run_snapshot_tests``\n``run_manage_unmanage_snapshot_tests``\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 23, 'created': '2022-04-06 09:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1e87cba0d1e4dafe065ad067a1e6f37e66eeabb5', 'message': ""Add new configuration section for share features\n\nWe are currently skipping feature tests in a confusing way,\nfor example regarding snapshot feature we use two configuration\noptions: ``capability_snapshot_support``, ``run_snapshot_tests``\nSo in order to run a snapshot test we need enable these two\nconfiguration options.\n\nThis patch suggests using a new single configuration option,\nlike other openstack services, called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch is part of the patches that will be uploaded later.\nThis patch removes the configuration options below:\n``capability_snapshot_support``\n``capability_create_share_from_snapshot_support``\n``run_snapshot_tests``\n``run_manage_unmanage_snapshot_tests``\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}, {'number': 24, 'created': '2022-07-04 10:03:13.000000000', 'files': ['manila_tempest_tests/config.py', 'manila_tempest_tests/tests/api/test_shares_actions_negative.py', 'manila_tempest_tests/tests/api/test_revert_to_snapshot.py', 'manila_tempest_tests/tests/api/test_shares_from_snapshot_across_pools.py', 'manila_tempest_tests/tests/scenario/test_share_basic_ops.py', 'manila_tempest_tests/tests/api/admin/test_migration_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_migration.py', 'manila_tempest_tests/tests/api/admin/test_shares_actions.py', 'manila_tempest_tests/tests/api/test_share_network_subnets_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_manage.py', 'manila_tempest_tests/tests/api/test_share_groups.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_export_locations.py', 'manila_tempest_tests/utils.py', 'manila_tempest_tests/tests/api/test_shares.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_export_locations_negative.py', 'manila_tempest_tests/share_exceptions.py', 'manila_tempest_tests/tests/api/test_share_group_actions.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions_negative.py', 'manila_tempest_tests/tests/api/admin/test_quotas.py', 'manila_tempest_tests/tests/api/admin/test_share_snapshot_instances.py', 'manila_tempest_tests/tests/api/admin/test_replication_actions.py', 'zuul.d/manila-tempest-jobs.yaml', 'releasenotes/notes/share-feature-enabled-7683ffd756f15733.yaml', 'manila_tempest_tests/tests/api/admin/test_share_servers_manage_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_migration_negative.py', 'manila_tempest_tests/tests/api/test_replication_snapshots.py', 'manila_tempest_tests/tests/scenario/test_share_manage_unmanage.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_manage.py', 'manila_tempest_tests/tests/api/test_rules_negative.py', 'manila_tempest_tests/tests/api/admin/test_migration.py', 'manila_tempest_tests/tests/api/test_revert_to_snapshot_negative.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_manage_negative.py', 'manila_tempest_tests/tests/api/test_shares_actions.py', 'manila_tempest_tests/tests/api/admin/test_share_manage_negative.py', 'manila_tempest_tests/tests/api/test_share_groups_negative.py', 'manila_tempest_tests/tests/api/test_snapshot_rules_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_groups.py', 'manila_tempest_tests/tests/api/test_snapshot_rules.py', 'manila_tempest_tests/tests/api/admin/test_share_snapshot_instances_negative.py', 'manila_tempest_tests/plugin.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_manage.py', 'manila_tempest_tests/tests/api/test_shares_negative.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b4964408d07845b78d339aa97c0cc54736d02a14', 'message': ""Add new configuration section for share features\n\nWe are currently skipping feature tests in a confusing way,\nfor example regarding snapshot feature we use two configuration\noptions: ``capability_snapshot_support``, ``run_snapshot_tests``\nSo in order to run a snapshot test we need enable these two\nconfiguration options.\n\nThis patch suggests using a new single configuration option,\nlike other openstack services, called 'share-feature-enabled'.\nThis way we can skip tests depending on the features that the\nenvironment supports.\n\nThis patch is part of the patches that will be uploaded later.\nThis patch removes the configuration options below:\n``capability_snapshot_support``\n``capability_create_share_from_snapshot_support``\n``run_snapshot_tests``\n``run_manage_unmanage_snapshot_tests``\n\nThis patch adds a new decorator used to set an attr for each\nshare feature and skips a test in case the environment does\nnot support the feature.\n\nChange-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25\n""}]",11,786177,b4964408d07845b78d339aa97c0cc54736d02a14,70,5,24,19262,,,0,"Add new configuration section for share features

We are currently skipping feature tests in a confusing way,
for example regarding snapshot feature we use two configuration
options: ``capability_snapshot_support``, ``run_snapshot_tests``
So in order to run a snapshot test we need enable these two
configuration options.

This patch suggests using a new single configuration option,
like other openstack services, called 'share-feature-enabled'.
This way we can skip tests depending on the features that the
environment supports.

This patch is part of the patches that will be uploaded later.
This patch removes the configuration options below:
``capability_snapshot_support``
``capability_create_share_from_snapshot_support``
``run_snapshot_tests``
``run_manage_unmanage_snapshot_tests``

This patch adds a new decorator used to set an attr for each
share feature and skips a test in case the environment does
not support the feature.

Change-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/77/786177/19 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/test_shares.py', 'manila_tempest_tests/config.py', 'manila_tempest_tests/share_exceptions.py', 'manila_tempest_tests/plugin.py', 'manila_tempest_tests/utils.py']",5,2cb85fd63f9866b96ee5ecbe92a21622d55837e2,share-feature-enabled,"import functools from tempest.lib import decoratorsfrom manila_tempest_tests import share_exceptions share_features = ['snapshot'] def features(*args): """"""A decorator used to set an attr for each share feature This decorator applies a testtools attr for each share feature. The test will be skipped in case the environment does not support the feature by verifying it in the tempest.conf under 'share_feature_enabled' section. """""" def decorator(f): for feature in args: if feature not in share_features: raise share_exceptions.ShareFeatureEnabled( '%s is not supported' % feature) decorators.attr(type=list(args))(f) @functools.wraps(f) def wrapper(*func_args, **func_kwargs): for feature in args: if not getattr(CONF.share_feature_enabled, feature): msg = 'Skipped because the %s feature is not available' % ( feature) raise testtools.TestCase.skipException(msg) return f(*func_args, **func_kwargs) return wrapper return decorator",,56,0
openstack%2Fneutron~stable%2Fvictoria~Ic9e8586991866ebca0b24bfe691e541c198d18d7,openstack/neutron,stable/victoria,Ic9e8586991866ebca0b24bfe691e541c198d18d7,[OVN][Placement] Make the Placement reporter compatible with OVN,MERGED,2022-07-01 11:18:11.000000000,2022-07-04 15:05:22.000000000,2022-07-04 15:01:29.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 11:18:11.000000000', 'files': ['neutron/services/placement_report/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c35618dc9470a98f9395ea59b608bfb52cf8c7c', 'message': '[OVN][Placement] Make the Placement reporter compatible with OVN\n\nMake the ""PlacementReportPlugin"" and the ""PlacementReporterAgents""\nclasses compatible with agent-less mechanism drivers. OVN mechanism\ndriver cannot report any agent to the supported agent type list.\n\nNOTE: this patch belongs to a series of patches to provide support\nin OVN to report to Placement. However, this patch is backported to\nstable releases to fix LP#1980488. This way, OVN won\'t report anything\nto Placement and at the same time won\'t break the call to\n""handle_placement_config"" when another mech driver agent (in the\nLP example SR-IOV) pushes a heartbeat and updates the resource\nprovider values.\n\nCloses-Bug: #1980488\nRelated-Bug: #1578989\nChange-Id: Ic9e8586991866ebca0b24bfe691e541c198d18d7\n(cherry picked from commit 0ae8eba7e73e050369478ba095c03371ed5f5718)\n(cherry picked from commit 616085537d4a20da4e0f44bb402b3b3f098af92b)\n'}]",0,848432,4c35618dc9470a98f9395ea59b608bfb52cf8c7c,8,3,1,16688,,,0,"[OVN][Placement] Make the Placement reporter compatible with OVN

Make the ""PlacementReportPlugin"" and the ""PlacementReporterAgents""
classes compatible with agent-less mechanism drivers. OVN mechanism
driver cannot report any agent to the supported agent type list.

NOTE: this patch belongs to a series of patches to provide support
in OVN to report to Placement. However, this patch is backported to
stable releases to fix LP#1980488. This way, OVN won't report anything
to Placement and at the same time won't break the call to
""handle_placement_config"" when another mech driver agent (in the
LP example SR-IOV) pushes a heartbeat and updates the resource
provider values.

Closes-Bug: #1980488
Related-Bug: #1578989
Change-Id: Ic9e8586991866ebca0b24bfe691e541c198d18d7
(cherry picked from commit 0ae8eba7e73e050369478ba095c03371ed5f5718)
(cherry picked from commit 616085537d4a20da4e0f44bb402b3b3f098af92b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/848432/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/placement_report/plugin.py'],1,4c35618dc9470a98f9395ea59b608bfb52cf8c7c,bug/1980488," self._supported_agent_types = None if self._supported_agent_types is None: if (driver.obj.resource_provider_uuid5_namespace is not None and hasattr(driver.obj, 'agent_type') and driver.obj.agent_type)] supported_agents = ', '.join(self._supported_agent_types) or 'None' supported_agents)"," self._supported_agent_types = [] if not self._supported_agent_types: if driver.obj.resource_provider_uuid5_namespace is not None] ', '.join(self._supported_agent_types))",7,4
openstack%2Fneutron~stable%2Fxena~Ic9e8586991866ebca0b24bfe691e541c198d18d7,openstack/neutron,stable/xena,Ic9e8586991866ebca0b24bfe691e541c198d18d7,[OVN][Placement] Make the Placement reporter compatible with OVN,MERGED,2022-07-01 11:16:59.000000000,2022-07-04 15:05:17.000000000,2022-07-04 15:01:19.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 11:16:59.000000000', 'files': ['neutron/services/placement_report/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/616085537d4a20da4e0f44bb402b3b3f098af92b', 'message': '[OVN][Placement] Make the Placement reporter compatible with OVN\n\nMake the ""PlacementReportPlugin"" and the ""PlacementReporterAgents""\nclasses compatible with agent-less mechanism drivers. OVN mechanism\ndriver cannot report any agent to the supported agent type list.\n\nNOTE: this patch belongs to a series of patches to provide support\nin OVN to report to Placement. However, this patch is backported to\nstable releases to fix LP#1980488. This way, OVN won\'t report anything\nto Placement and at the same time won\'t break the call to\n""handle_placement_config"" when another mech driver agent (in the\nLP example SR-IOV) pushes a heartbeat and updates the resource\nprovider values.\n\nCloses-Bug: #1980488\nRelated-Bug: #1578989\nChange-Id: Ic9e8586991866ebca0b24bfe691e541c198d18d7\n(cherry picked from commit 0ae8eba7e73e050369478ba095c03371ed5f5718)\n'}]",1,848430,616085537d4a20da4e0f44bb402b3b3f098af92b,10,3,1,16688,,,0,"[OVN][Placement] Make the Placement reporter compatible with OVN

Make the ""PlacementReportPlugin"" and the ""PlacementReporterAgents""
classes compatible with agent-less mechanism drivers. OVN mechanism
driver cannot report any agent to the supported agent type list.

NOTE: this patch belongs to a series of patches to provide support
in OVN to report to Placement. However, this patch is backported to
stable releases to fix LP#1980488. This way, OVN won't report anything
to Placement and at the same time won't break the call to
""handle_placement_config"" when another mech driver agent (in the
LP example SR-IOV) pushes a heartbeat and updates the resource
provider values.

Closes-Bug: #1980488
Related-Bug: #1578989
Change-Id: Ic9e8586991866ebca0b24bfe691e541c198d18d7
(cherry picked from commit 0ae8eba7e73e050369478ba095c03371ed5f5718)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/848430/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/placement_report/plugin.py'],1,616085537d4a20da4e0f44bb402b3b3f098af92b,bug/1980488," self._supported_agent_types = None if self._supported_agent_types is None: if (driver.obj.resource_provider_uuid5_namespace is not None and hasattr(driver.obj, 'agent_type') and driver.obj.agent_type)] supported_agents = ', '.join(self._supported_agent_types) or 'None' supported_agents)"," self._supported_agent_types = [] if not self._supported_agent_types: if driver.obj.resource_provider_uuid5_namespace is not None] ', '.join(self._supported_agent_types))",7,4
openstack%2Fneutron~stable%2Fyoga~I3a9f665653c3e2a5f75175867a45391e6ad01176,openstack/neutron,stable/yoga,I3a9f665653c3e2a5f75175867a45391e6ad01176,[FT] Run all .*MySQL and .*PostgreSQL tests in an isolated thread,MERGED,2022-07-04 07:05:04.000000000,2022-07-04 15:04:45.000000000,2022-07-04 15:01:10.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-04 07:05:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad7b1e28827fa97a8a6c5f38581b2718b9947585', 'message': '[FT] Run all .*MySQL and .*PostgreSQL tests in an isolated thread\n\nSimilar to [1], this patch moves the PostgreSQL tests to a second\ntest execution step, where all tests are executed with one single\nworker, avoiding any parallel execution on the SQL tests.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/834746\n\nCloses-Bug: #1980127\nRelated-Bug: #1962594\nChange-Id: I3a9f665653c3e2a5f75175867a45391e6ad01176\n(cherry picked from commit d3ce69b9465c734d25d1d96c8cb7103834d03dac)\n'}]",1,848509,ad7b1e28827fa97a8a6c5f38581b2718b9947585,10,3,1,16688,,,0,"[FT] Run all .*MySQL and .*PostgreSQL tests in an isolated thread

Similar to [1], this patch moves the PostgreSQL tests to a second
test execution step, where all tests are executed with one single
worker, avoiding any parallel execution on the SQL tests.

[1]https://review.opendev.org/c/openstack/neutron/+/834746

Closes-Bug: #1980127
Related-Bug: #1962594
Change-Id: I3a9f665653c3e2a5f75175867a45391e6ad01176
(cherry picked from commit d3ce69b9465c734d25d1d96c8cb7103834d03dac)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/848509/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ad7b1e28827fa97a8a6c5f38581b2718b9947585,bug/1980127-stable/yoga, stestr run --exclude-regex (.*MySQL\.|.*PostgreSQL\.) {posargs} stestr run --combine --concurrency 1 (.*MySQL\.|.*PostgreSQL\.) {posargs}, stestr run --group-regex .*PostgreSQL\. --exclude-regex .*MySQL\. {posargs} stestr run --combine --concurrency 1 .*MySQL\. {posargs},2,2
openstack%2Ftooz~stable%2Fwallaby~I8d6647118be22b0ce55e01b7e5451612ebe30e73,openstack/tooz,stable/wallaby,I8d6647118be22b0ce55e01b7e5451612ebe30e73,Cap protobuf < 4.x,MERGED,2022-07-04 11:46:26.000000000,2022-07-04 15:02:59.000000000,2022-07-04 15:00:59.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-04 11:46:26.000000000', 'files': ['doc/requirements.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tooz/commit/73dbe0e6fc1403cbb121985781d7b6ec996b099a', 'message': 'Cap protobuf < 4.x\n\ntooz doesn\'t use upper-constraints so we get the newest version of all\ndependencies. It seems one of these, etcd3, is incompatible with recent\nversions of protobuf.\n\n  Failed to import test module: tooz.tests.drivers.test_etcd3\n  Traceback (most recent call last):\n    File ""/usr/lib/python3.7/unittest/loader.py"", line 436, in _find_test_path\n      module = self._get_module_from_name(name)\n    File ""/usr/lib/python3.7/unittest/loader.py"", line 377, in _get_module_from_name\n      __import__(name)\n    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/tests/drivers/test_etcd3.py"", line 22, in <module>\n      import tooz.drivers.etcd3 as etcd3_driver\n    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/drivers/etcd3.py"", line 18, in <module>\n      import etcd3\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/__init__.py"", line 3, in <module>\n      import etcd3.etcdrpc as etcdrpc\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/__init__.py"", line 1, in <module>\n      from .rpc_pb2 import *\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/rpc_pb2.py"", line 16, in <module>\n      from etcd3.etcdrpc import kv_pb2 as kv__pb2\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/kv_pb2.py"", line 36, in <module>\n      type=None),\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/google/protobuf/descriptor.py"", line 755, in __new__\n      _message.Message._CheckCalledFromGeneratedFile()\n  TypeError: Descriptors cannot not be created directly.\n  If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc >= 3.19.0.\n  If you cannot immediately regenerate your protos, some other possible workarounds are:\n   1. Downgrade the protobuf package to 3.20.x or lower.\n   2. Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).\n\nThe etcd3 dependency is only used for the etcd3 driver which was\ndeprecated in change Iff0cd3b51cfc45ecbddc831c55267e80e9c79cac. The\nprotobuf dependency is only used for etcd3. We can\'t outright remove the\netcd3 driver yet as it hasn\'t been long enough since we deprecated it.\nThat will happen soon enough though and until then we can simply cap\nprotobuf to an older version that is compatible with the most recent\netcd3 release.\n\nWhile we\'re here, we also sync the lower boundaries in the docs\nrequirments and add some comments indicating where they come from/what\nthey\'re for.\n\nChange-Id: I8d6647118be22b0ce55e01b7e5451612ebe30e73\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit e3de0e634af62e46162eb8d2354416ce4f2ba77c)\n'}]",1,848619,73dbe0e6fc1403cbb121985781d7b6ec996b099a,8,3,1,15334,,,0,"Cap protobuf < 4.x

tooz doesn't use upper-constraints so we get the newest version of all
dependencies. It seems one of these, etcd3, is incompatible with recent
versions of protobuf.

  Failed to import test module: tooz.tests.drivers.test_etcd3
  Traceback (most recent call last):
    File ""/usr/lib/python3.7/unittest/loader.py"", line 436, in _find_test_path
      module = self._get_module_from_name(name)
    File ""/usr/lib/python3.7/unittest/loader.py"", line 377, in _get_module_from_name
      __import__(name)
    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/tests/drivers/test_etcd3.py"", line 22, in <module>
      import tooz.drivers.etcd3 as etcd3_driver
    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/drivers/etcd3.py"", line 18, in <module>
      import etcd3
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/__init__.py"", line 3, in <module>
      import etcd3.etcdrpc as etcdrpc
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/__init__.py"", line 1, in <module>
      from .rpc_pb2 import *
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/rpc_pb2.py"", line 16, in <module>
      from etcd3.etcdrpc import kv_pb2 as kv__pb2
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/kv_pb2.py"", line 36, in <module>
      type=None),
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/google/protobuf/descriptor.py"", line 755, in __new__
      _message.Message._CheckCalledFromGeneratedFile()
  TypeError: Descriptors cannot not be created directly.
  If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc >= 3.19.0.
  If you cannot immediately regenerate your protos, some other possible workarounds are:
   1. Downgrade the protobuf package to 3.20.x or lower.
   2. Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).

The etcd3 dependency is only used for the etcd3 driver which was
deprecated in change Iff0cd3b51cfc45ecbddc831c55267e80e9c79cac. The
protobuf dependency is only used for etcd3. We can't outright remove the
etcd3 driver yet as it hasn't been long enough since we deprecated it.
That will happen soon enough though and until then we can simply cap
protobuf to an older version that is compatible with the most recent
etcd3 release.

While we're here, we also sync the lower boundaries in the docs
requirments and add some comments indicating where they come from/what
they're for.

Change-Id: I8d6647118be22b0ce55e01b7e5451612ebe30e73
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit e3de0e634af62e46162eb8d2354416ce4f2ba77c)
",git fetch https://review.opendev.org/openstack/tooz refs/changes/19/848619/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'setup.cfg']",2,73dbe0e6fc1403cbb121985781d7b6ec996b099a,bug/1980079, protobuf<4.0 # BSD License (3 clause),,21,5
openstack%2Fcharm-rabbitmq-server~master~Ice6cce6a736d96883eb8bc003852c2df60af7c62,openstack/charm-rabbitmq-server,master,Ice6cce6a736d96883eb8bc003852c2df60af7c62,CONFIG_FILES is not a constant,MERGED,2022-06-16 22:27:54.000000000,2022-07-04 14:08:00.000000000,2022-07-04 14:08:00.000000000,"[{'_account_id': 2424}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-16 22:27:54.000000000', 'files': ['hooks/rabbitmq_server_relations.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/f790b2f64589de7f1fa0390e3b47116e79d086c2', 'message': 'CONFIG_FILES is not a constant\n\nThe CONFIG_FILES is not a constant, its a method and when this\nis passed to the ConfigRenderer it will cause a failure because\nthe items() function does not exist (since its not a dict).\n\nChange-Id: Ice6cce6a736d96883eb8bc003852c2df60af7c62\nCloses-Bug: 1971451\n'}]",2,846233,f790b2f64589de7f1fa0390e3b47116e79d086c2,10,4,1,8992,,,0,"CONFIG_FILES is not a constant

The CONFIG_FILES is not a constant, its a method and when this
is passed to the ConfigRenderer it will cause a failure because
the items() function does not exist (since its not a dict).

Change-Id: Ice6cce6a736d96883eb8bc003852c2df60af7c62
Closes-Bug: 1971451
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/33/846233/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/rabbitmq_server_relations.py'],1,f790b2f64589de7f1fa0390e3b47116e79d086c2,lp1971451, rabbit.CONFIG_FILES()).write_all(), rabbit.CONFIG_FILES).write_all(),1,1
openstack%2Fironic-python-agent~master~Ida4ed4646659b2ee3f8f92b0a4d73c0266dd5a99,openstack/ironic-python-agent,master,Ida4ed4646659b2ee3f8f92b0a4d73c0266dd5a99,Fix passing kwargs in clean steps,MERGED,2022-06-13 12:06:04.000000000,2022-07-04 13:58:24.000000000,2022-07-04 13:56:52.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 12171}, {'_account_id': 16690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-13 12:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/615ec7e91d0ef2dadba44257a77070082a4bae76', 'message': 'Fix passing kwargs in clean steps\n\nPass kwargs to dispatch_to_managers method in execute_clean_step\n\nChange-Id: Ida4ed4646659b2ee3f8f92b0a4d73c0266dd5a99\n'}, {'number': 2, 'created': '2022-06-30 09:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/bc8f767899d85719bd440933dfdc353d53e5bb32', 'message': 'Fix passing kwargs in clean steps\n\nPass kwargs to dispatch_to_managers method in execute_clean_step\n\nChange-Id: Ida4ed4646659b2ee3f8f92b0a4d73c0266dd5a99\nStory: 2010123\nTask: 45705\n'}, {'number': 3, 'created': '2022-07-01 23:03:55.000000000', 'files': ['doc/source/contributor/hardware_managers.rst', 'ironic_python_agent/tests/unit/extensions/test_clean.py', 'ironic_python_agent/extensions/clean.py', 'releasenotes/notes/bug-2010123-d4c38d8f6606d0e0.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/eb07839bd40387ac9fdd60a67b3e537e751835b0', 'message': 'Fix passing kwargs in clean steps\n\nPass kwargs to dispatch_to_managers method in execute_clean_step\n\nChange-Id: Ida4ed4646659b2ee3f8f92b0a4d73c0266dd5a99\nStory: 2010123\nTask: 45705\n'}]",5,845583,eb07839bd40387ac9fdd60a67b3e537e751835b0,24,6,3,25241,,,0,"Fix passing kwargs in clean steps

Pass kwargs to dispatch_to_managers method in execute_clean_step

Change-Id: Ida4ed4646659b2ee3f8f92b0a4d73c0266dd5a99
Story: 2010123
Task: 45705
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/83/845583/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_clean.py', 'ironic_python_agent/extensions/clean.py']",2,615ec7e91d0ef2dadba44257a77070082a4bae76,," kwargs.update(step.get('args') or {}) try: result = hardware.dispatch_to_managers(step['step'], node, ports, **kwargs)"," try: result = hardware.dispatch_to_managers(step['step'], node, ports)",31,1
openstack%2Fironic~stable%2Fyoga~I8ead1d24a9bd502b64fe7dd058e77550fcee141c,openstack/ironic,stable/yoga,I8ead1d24a9bd502b64fe7dd058e77550fcee141c,Fix redfish-virtual-media for newer iDRACs,MERGED,2022-07-01 13:18:38.000000000,2022-07-04 13:47:20.000000000,2022-07-04 13:45:40.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-07-01 13:18:38.000000000', 'files': ['ironic/drivers/modules/drac/boot.py', 'doc/source/admin/drivers/redfish.rst', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/redfish/boot.py', 'releasenotes/notes/fix-redfish-vm-boot-idrac-37ec734e6643cbac.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ffe8d7b0c49eaa867c62711f7a1dcfe616e71259', 'message': 'Fix redfish-virtual-media for newer iDRACs\n\nThe issue with standard Redfish virtual media boot has\nbeen fixed now. Update to restrict use of redfish-virtual-media\nbased on iDRAC firmware version.\n\nChange-Id: I8ead1d24a9bd502b64fe7dd058e77550fcee141c\n(cherry picked from commit 73040c88d99f066644277f32e86d196305fc8596)\n'}]",0,848359,ffe8d7b0c49eaa867c62711f7a1dcfe616e71259,12,3,1,27909,,,0,"Fix redfish-virtual-media for newer iDRACs

The issue with standard Redfish virtual media boot has
been fixed now. Update to restrict use of redfish-virtual-media
based on iDRAC firmware version.

Change-Id: I8ead1d24a9bd502b64fe7dd058e77550fcee141c
(cherry picked from commit 73040c88d99f066644277f32e86d196305fc8596)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/59/848359/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/boot.py', 'doc/source/admin/drivers/redfish.rst', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/redfish/boot.py', 'releasenotes/notes/fix-redfish-vm-boot-idrac-37ec734e6643cbac.yaml']",5,ffe8d7b0c49eaa867c62711f7a1dcfe616e71259,idrac-virtual-media-stable/yoga,"--- fixes: - | Fixes ``redfish-virtual-media`` ``boot`` interface to allow it with iDRAC firmware from 6.00.00.00 (released June 2022) as it has virtual media boot issue fixed that prevented iDRAC firmware to work with ``redfish-virtual-media`` before. Consider upgrading iDRAC firmware if not done already, otherwise will still get an error when trying to use ``redfish-virtual-media`` with iDRAC. ",,73,19
openstack%2Fpython-openstackclient~stable%2Fwallaby~I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc,openstack/python-openstackclient,stable/wallaby,I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc,Fix: create image from volume command,MERGED,2022-07-01 13:35:09.000000000,2022-07-04 13:39:49.000000000,2022-07-04 13:38:29.000000000,"[{'_account_id': 10239}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 13:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4431611ccf705195d28af20ab2f297027dd0d7fd', 'message': 'Fix: create image from volume command\n\nCurrently the command ``openstack image create --volume`` calls cinderclient\nto upload the volume to image service (glance) but OSC passes ``visibility``\nand ``protected`` fields which are only available in microversion 3.1 or\ngreater. This generates an error if the user is using volume microversion\n< 3.1 and wants to create an image from volume.\nThis patch fixes that by only passing ``visibility`` and ``protected`` fields\nwhen the volume microversion is 3.1 or greater and fail otherwise i.e. the\nfollowing 3 cases:\n1) visibility/protected argument + mv >= 3.1 = pass\n2) visibility/protected argument + mv < 3.1 = fail\n3) not visibility/protected argument + any mv = pass\n\nStory: 2010060\nTask: 45511\nChange-Id: I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc\n(cherry picked from commit 9eea28ba59e44526b9d6f1ad9f80c3553d5853e2)\n(cherry picked from commit 933cff7cb189dc6a2e3eb141b40aca74693c87f9)\n'}, {'number': 2, 'created': '2022-07-01 16:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ab6560973cda3cac026c66c5a1ed263cc0af5137', 'message': 'Fix: create image from volume command\n\nCurrently the command ``openstack image create --volume`` calls cinderclient\nto upload the volume to image service (glance) but OSC passes ``visibility``\nand ``protected`` fields which are only available in microversion 3.1 or\ngreater. This generates an error if the user is using volume microversion\n< 3.1 and wants to create an image from volume.\nThis patch fixes that by only passing ``visibility`` and ``protected`` fields\nwhen the volume microversion is 3.1 or greater and fail otherwise i.e. the\nfollowing 3 cases:\n1) visibility/protected argument + mv >= 3.1 = pass\n2) visibility/protected argument + mv < 3.1 = fail\n3) not visibility/protected argument + any mv = pass\n\nStory: 2010060\nTask: 45511\n(cherry picked from commit 9eea28ba59e44526b9d6f1ad9f80c3553d5853e2)\nConflicts:\n\topenstackclient/image/v2/image.py\nChanges:\nImported openstackclient/tests/unit/volume/v3/fakes.py from the Yoga\nbranch.\nUsed FakeType instead of FakeVolumeType for compatibility with older\nclass names.\n\n(cherry picked from commit 849e7e93f83a220265d11af71e2edc009c3f7bea)\nChange-Id: I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc\n'}, {'number': 3, 'created': '2022-07-04 11:35:48.000000000', 'files': ['releasenotes/notes/fix-image-create-from-volume-c573e553161605c4.yaml', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/image/v2/image.py', 'openstackclient/tests/unit/volume/v3/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9425e6fcb6b907fbae7e1eb6b01ad293199cee75', 'message': 'Fix: create image from volume command\n\nCurrently the command ``openstack image create --volume`` calls cinderclient\nto upload the volume to image service (glance) but OSC passes ``visibility``\nand ``protected`` fields which are only available in microversion 3.1 or\ngreater. This generates an error if the user is using volume microversion\n< 3.1 and wants to create an image from volume.\nThis patch fixes that by only passing ``visibility`` and ``protected`` fields\nwhen the volume microversion is 3.1 or greater and fail otherwise i.e. the\nfollowing 3 cases:\n1) visibility/protected argument + mv >= 3.1 = pass\n2) visibility/protected argument + mv < 3.1 = fail\n3) not visibility/protected argument + any mv = pass\n\nChanges:\n  openstackclient/tests/unit/volume/v3/fakes.py\n  \nNOTE(croelandt): Imported openstackclient/tests/unit/volume/v3/fakes.py from\nthe Yoga branch. Used FakeType instead of FakeVolumeType for compatibility with\nolder class names.\n\nStory: 2010060\nTask: 45511\nChange-Id: I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc\n(cherry picked from commit 9eea28ba59e44526b9d6f1ad9f80c3553d5853e2)\n(cherry picked from commit 849e7e93f83a220265d11af71e2edc009c3f7bea)\n(cherry picked from commit 665d93ff0721801896bf08c3cc4f189a55daae80)\n'}]",4,848449,9425e6fcb6b907fbae7e1eb6b01ad293199cee75,17,3,3,8122,,,0,"Fix: create image from volume command

Currently the command ``openstack image create --volume`` calls cinderclient
to upload the volume to image service (glance) but OSC passes ``visibility``
and ``protected`` fields which are only available in microversion 3.1 or
greater. This generates an error if the user is using volume microversion
< 3.1 and wants to create an image from volume.
This patch fixes that by only passing ``visibility`` and ``protected`` fields
when the volume microversion is 3.1 or greater and fail otherwise i.e. the
following 3 cases:
1) visibility/protected argument + mv >= 3.1 = pass
2) visibility/protected argument + mv < 3.1 = fail
3) not visibility/protected argument + any mv = pass

Changes:
  openstackclient/tests/unit/volume/v3/fakes.py
  
NOTE(croelandt): Imported openstackclient/tests/unit/volume/v3/fakes.py from
the Yoga branch. Used FakeType instead of FakeVolumeType for compatibility with
older class names.

Story: 2010060
Task: 45511
Change-Id: I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc
(cherry picked from commit 9eea28ba59e44526b9d6f1ad9f80c3553d5853e2)
(cherry picked from commit 849e7e93f83a220265d11af71e2edc009c3f7bea)
(cherry picked from commit 665d93ff0721801896bf08c3cc4f189a55daae80)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/49/848449/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-image-create-from-volume-c573e553161605c4.yaml', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/image/v2/image.py']",3,4431611ccf705195d28af20ab2f297027dd0d7fd,wallaby,"from cinderclient import api_versions mv_kwargs = {} if volume_client.api_version >= api_versions.APIVersion('3.1'): mv_kwargs.update( visibility=kwargs.get('visibility', 'private'), protected=bool(parsed_args.protected) ) else: if kwargs.get('visibility') or parsed_args.protected: msg = _( '--os-volume-api-version 3.1 or greater is required ' 'to support the --public, --private, --community, ' '--shared or --protected option.' ) raise exceptions.CommandError(msg) **mv_kwargs"," visibility=kwargs.get('visibility', 'private'), protected=True if parsed_args.protected else False",128,3
openstack%2Fpython-openstackclient~stable%2Fxena~I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc,openstack/python-openstackclient,stable/xena,I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc,Fix: create image from volume command,MERGED,2022-07-04 11:33:21.000000000,2022-07-04 13:35:54.000000000,2022-07-04 13:32:25.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-04 11:33:21.000000000', 'files': ['releasenotes/notes/fix-image-create-from-volume-c573e553161605c4.yaml', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/665d93ff0721801896bf08c3cc4f189a55daae80', 'message': 'Fix: create image from volume command\n\nCurrently the command ``openstack image create --volume`` calls cinderclient\nto upload the volume to image service (glance) but OSC passes ``visibility``\nand ``protected`` fields which are only available in microversion 3.1 or\ngreater. This generates an error if the user is using volume microversion\n< 3.1 and wants to create an image from volume.\nThis patch fixes that by only passing ``visibility`` and ``protected`` fields\nwhen the volume microversion is 3.1 or greater and fail otherwise i.e. the\nfollowing 3 cases:\n1) visibility/protected argument + mv >= 3.1 = pass\n2) visibility/protected argument + mv < 3.1 = fail\n3) not visibility/protected argument + any mv = pass\n\nStory: 2010060\nTask: 45511\nChange-Id: I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc\n(cherry picked from commit 9eea28ba59e44526b9d6f1ad9f80c3553d5853e2)\n(cherry picked from commit 849e7e93f83a220265d11af71e2edc009c3f7bea)\n'}]",1,848618,665d93ff0721801896bf08c3cc4f189a55daae80,7,2,1,15334,,,0,"Fix: create image from volume command

Currently the command ``openstack image create --volume`` calls cinderclient
to upload the volume to image service (glance) but OSC passes ``visibility``
and ``protected`` fields which are only available in microversion 3.1 or
greater. This generates an error if the user is using volume microversion
< 3.1 and wants to create an image from volume.
This patch fixes that by only passing ``visibility`` and ``protected`` fields
when the volume microversion is 3.1 or greater and fail otherwise i.e. the
following 3 cases:
1) visibility/protected argument + mv >= 3.1 = pass
2) visibility/protected argument + mv < 3.1 = fail
3) not visibility/protected argument + any mv = pass

Story: 2010060
Task: 45511
Change-Id: I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc
(cherry picked from commit 9eea28ba59e44526b9d6f1ad9f80c3553d5853e2)
(cherry picked from commit 849e7e93f83a220265d11af71e2edc009c3f7bea)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/18/848618/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-image-create-from-volume-c573e553161605c4.yaml', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/image/v2/image.py']",3,665d93ff0721801896bf08c3cc4f189a55daae80,story/2010060,"from cinderclient import api_versions mv_kwargs = {} if volume_client.api_version >= api_versions.APIVersion('3.1'): mv_kwargs.update( visibility=kwargs.get('visibility', 'private'), protected=bool(parsed_args.protected) ) else: if kwargs.get('visibility') or parsed_args.protected: msg = _( '--os-volume-api-version 3.1 or greater is required ' 'to support the --public, --private, --community, ' '--shared or --protected option.' ) raise exceptions.CommandError(msg) **mv_kwargs"," visibility=kwargs.get('visibility', 'private'), protected=True if parsed_args.protected else False",128,3
openstack%2Fpython-openstackclient~stable%2Fwallaby~I45e9a81d451c64cdd51f9b606d94161742bacdb7,openstack/python-openstackclient,stable/wallaby,I45e9a81d451c64cdd51f9b606d94161742bacdb7,Stop testing lower-constraints,MERGED,2022-07-04 10:23:45.000000000,2022-07-04 13:35:05.000000000,2022-07-04 13:32:21.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-07-04 10:23:45.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/40f56c653cc4eabf9edc05b5c5785e818295b013', 'message': 'Stop testing lower-constraints\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html\n\nConflicts:\n  .zuul.yaml\n  lower-constraints.txt\n\nNOTE(stephenfin): Conflicts are due to the changed job template (wallaby\nvs xena) and slightly different lower constraints between branches.\n\nChange-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7\n(cherry picked from commit c677192d51ac80922f990c8a96b49e9dcc9325d2)\n(cherry picked from commit cde8db3d619ff94369cdabeebb42d3ecc2027651)\n'}]",0,848613,40f56c653cc4eabf9edc05b5c5785e818295b013,7,2,1,15334,,,0,"Stop testing lower-constraints

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html

Conflicts:
  .zuul.yaml
  lower-constraints.txt

NOTE(stephenfin): Conflicts are due to the changed job template (wallaby
vs xena) and slightly different lower constraints between branches.

Change-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7
(cherry picked from commit c677192d51ac80922f990c8a96b49e9dcc9325d2)
(cherry picked from commit cde8db3d619ff94369cdabeebb42d3ecc2027651)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/13/848613/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,40f56c653cc4eabf9edc05b5c5785e818295b013,drop-lc,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,106
openstack%2Fpython-openstackclient~stable%2Fyoga~I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc,openstack/python-openstackclient,stable/yoga,I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc,Fix: create image from volume command,MERGED,2022-07-01 13:27:10.000000000,2022-07-04 13:34:44.000000000,2022-07-04 13:32:13.000000000,"[{'_account_id': 10239}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 13:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/933cff7cb189dc6a2e3eb141b40aca74693c87f9', 'message': 'Fix: create image from volume command\n\nCurrently the command ``openstack image create --volume`` calls cinderclient\nto upload the volume to image service (glance) but OSC passes ``visibility``\nand ``protected`` fields which are only available in microversion 3.1 or\ngreater. This generates an error if the user is using volume microversion\n< 3.1 and wants to create an image from volume.\nThis patch fixes that by only passing ``visibility`` and ``protected`` fields\nwhen the volume microversion is 3.1 or greater and fail otherwise i.e. the\nfollowing 3 cases:\n1) visibility/protected argument + mv >= 3.1 = pass\n2) visibility/protected argument + mv < 3.1 = fail\n3) not visibility/protected argument + any mv = pass\n\nStory: 2010060\nTask: 45511\nChange-Id: I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc\n(cherry picked from commit 9eea28ba59e44526b9d6f1ad9f80c3553d5853e2)\n'}, {'number': 2, 'created': '2022-07-01 16:05:47.000000000', 'files': ['releasenotes/notes/fix-image-create-from-volume-c573e553161605c4.yaml', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/849e7e93f83a220265d11af71e2edc009c3f7bea', 'message': 'Fix: create image from volume command\n\nCurrently the command ``openstack image create --volume`` calls cinderclient\nto upload the volume to image service (glance) but OSC passes ``visibility``\nand ``protected`` fields which are only available in microversion 3.1 or\ngreater. This generates an error if the user is using volume microversion\n< 3.1 and wants to create an image from volume.\nThis patch fixes that by only passing ``visibility`` and ``protected`` fields\nwhen the volume microversion is 3.1 or greater and fail otherwise i.e. the\nfollowing 3 cases:\n1) visibility/protected argument + mv >= 3.1 = pass\n2) visibility/protected argument + mv < 3.1 = fail\n3) not visibility/protected argument + any mv = pass\n\nStory: 2010060\nTask: 45511\nChange-Id: I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc\n(cherry picked from commit 9eea28ba59e44526b9d6f1ad9f80c3553d5853e2)\nConflicts:\n\topenstackclient/image/v2/image.py\n'}]",2,848446,849e7e93f83a220265d11af71e2edc009c3f7bea,11,3,2,8122,,,0,"Fix: create image from volume command

Currently the command ``openstack image create --volume`` calls cinderclient
to upload the volume to image service (glance) but OSC passes ``visibility``
and ``protected`` fields which are only available in microversion 3.1 or
greater. This generates an error if the user is using volume microversion
< 3.1 and wants to create an image from volume.
This patch fixes that by only passing ``visibility`` and ``protected`` fields
when the volume microversion is 3.1 or greater and fail otherwise i.e. the
following 3 cases:
1) visibility/protected argument + mv >= 3.1 = pass
2) visibility/protected argument + mv < 3.1 = fail
3) not visibility/protected argument + any mv = pass

Story: 2010060
Task: 45511
Change-Id: I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc
(cherry picked from commit 9eea28ba59e44526b9d6f1ad9f80c3553d5853e2)
Conflicts:
	openstackclient/image/v2/image.py
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/46/848446/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-image-create-from-volume-c573e553161605c4.yaml', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/image/v2/image.py']",3,933cff7cb189dc6a2e3eb141b40aca74693c87f9,yoga,"from cinderclient import api_versions mv_kwargs = {} if volume_client.api_version >= api_versions.APIVersion('3.1'): mv_kwargs.update( visibility=kwargs.get('visibility', 'private'), protected=bool(parsed_args.protected) ) else: if kwargs.get('visibility') or parsed_args.protected: msg = _( '--os-volume-api-version 3.1 or greater is required ' 'to support the --public, --private, --community, ' '--shared or --protected option.' ) raise exceptions.CommandError(msg) **mv_kwargs"," visibility=kwargs.get('visibility', 'private'), protected=True if parsed_args.protected else False",128,3
openstack%2Ftooz~master~I8d6647118be22b0ce55e01b7e5451612ebe30e73,openstack/tooz,master,I8d6647118be22b0ce55e01b7e5451612ebe30e73,Cap protobuf < 4.x,MERGED,2022-06-28 10:56:54.000000000,2022-07-04 13:31:21.000000000,2022-07-04 13:29:52.000000000,"[{'_account_id': 15334}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-28 10:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/bdfc2646251fc3914f1afefee085dd916c20bc6a', 'message': 'Cap protobuf < 4.x\n\ntooz doesn\'t use upper-constraints so we get the newest version of all\ndependencies. It seems one of these, etcd3, is incompatible with recent\nversions of protobuf.\n\n  Failed to import test module: tooz.tests.drivers.test_etcd3\n  Traceback (most recent call last):\n    File ""/usr/lib/python3.7/unittest/loader.py"", line 436, in _find_test_path\n      module = self._get_module_from_name(name)\n    File ""/usr/lib/python3.7/unittest/loader.py"", line 377, in _get_module_from_name\n      __import__(name)\n    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/tests/drivers/test_etcd3.py"", line 22, in <module>\n      import tooz.drivers.etcd3 as etcd3_driver\n    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/drivers/etcd3.py"", line 18, in <module>\n      import etcd3\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/__init__.py"", line 3, in <module>\n      import etcd3.etcdrpc as etcdrpc\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/__init__.py"", line 1, in <module>\n      from .rpc_pb2 import *\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/rpc_pb2.py"", line 16, in <module>\n      from etcd3.etcdrpc import kv_pb2 as kv__pb2\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/kv_pb2.py"", line 36, in <module>\n      type=None),\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/google/protobuf/descriptor.py"", line 755, in __new__\n      _message.Message._CheckCalledFromGeneratedFile()\n  TypeError: Descriptors cannot not be created directly.\n  If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc >= 3.19.0.\n  If you cannot immediately regenerate your protos, some other possible workarounds are:\n   1. Downgrade the protobuf package to 3.20.x or lower.\n   2. Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).\n\nThe etcd3 dependency is only used for the etcd3 driver which was\ndeprecated in change Iff0cd3b51cfc45ecbddc831c55267e80e9c79cac. The\nprotobuf dependency is only used for etcd3. We can\'t outright remove the\netcd3 driver yet as it hasn\'t been long enough since we deprecated it.\nThat will happen soon enough though and until then we can simply cap\nprotobuf to an older version that is compatible with the most recent\netcd3 release.\n\nChange-Id: I8d6647118be22b0ce55e01b7e5451612ebe30e73\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-06-28 14:12:18.000000000', 'files': ['doc/requirements.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tooz/commit/e3de0e634af62e46162eb8d2354416ce4f2ba77c', 'message': 'Cap protobuf < 4.x\n\ntooz doesn\'t use upper-constraints so we get the newest version of all\ndependencies. It seems one of these, etcd3, is incompatible with recent\nversions of protobuf.\n\n  Failed to import test module: tooz.tests.drivers.test_etcd3\n  Traceback (most recent call last):\n    File ""/usr/lib/python3.7/unittest/loader.py"", line 436, in _find_test_path\n      module = self._get_module_from_name(name)\n    File ""/usr/lib/python3.7/unittest/loader.py"", line 377, in _get_module_from_name\n      __import__(name)\n    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/tests/drivers/test_etcd3.py"", line 22, in <module>\n      import tooz.drivers.etcd3 as etcd3_driver\n    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/drivers/etcd3.py"", line 18, in <module>\n      import etcd3\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/__init__.py"", line 3, in <module>\n      import etcd3.etcdrpc as etcdrpc\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/__init__.py"", line 1, in <module>\n      from .rpc_pb2 import *\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/rpc_pb2.py"", line 16, in <module>\n      from etcd3.etcdrpc import kv_pb2 as kv__pb2\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/kv_pb2.py"", line 36, in <module>\n      type=None),\n    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/google/protobuf/descriptor.py"", line 755, in __new__\n      _message.Message._CheckCalledFromGeneratedFile()\n  TypeError: Descriptors cannot not be created directly.\n  If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc >= 3.19.0.\n  If you cannot immediately regenerate your protos, some other possible workarounds are:\n   1. Downgrade the protobuf package to 3.20.x or lower.\n   2. Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).\n\nThe etcd3 dependency is only used for the etcd3 driver which was\ndeprecated in change Iff0cd3b51cfc45ecbddc831c55267e80e9c79cac. The\nprotobuf dependency is only used for etcd3. We can\'t outright remove the\netcd3 driver yet as it hasn\'t been long enough since we deprecated it.\nThat will happen soon enough though and until then we can simply cap\nprotobuf to an older version that is compatible with the most recent\netcd3 release.\n\nWhile we\'re here, we also sync the lower boundaries in the docs\nrequirments and add some comments indicating where they come from/what\nthey\'re for.\n\nChange-Id: I8d6647118be22b0ce55e01b7e5451612ebe30e73\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,847949,e3de0e634af62e46162eb8d2354416ce4f2ba77c,13,4,2,15334,,,0,"Cap protobuf < 4.x

tooz doesn't use upper-constraints so we get the newest version of all
dependencies. It seems one of these, etcd3, is incompatible with recent
versions of protobuf.

  Failed to import test module: tooz.tests.drivers.test_etcd3
  Traceback (most recent call last):
    File ""/usr/lib/python3.7/unittest/loader.py"", line 436, in _find_test_path
      module = self._get_module_from_name(name)
    File ""/usr/lib/python3.7/unittest/loader.py"", line 377, in _get_module_from_name
      __import__(name)
    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/tests/drivers/test_etcd3.py"", line 22, in <module>
      import tooz.drivers.etcd3 as etcd3_driver
    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/drivers/etcd3.py"", line 18, in <module>
      import etcd3
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/__init__.py"", line 3, in <module>
      import etcd3.etcdrpc as etcdrpc
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/__init__.py"", line 1, in <module>
      from .rpc_pb2 import *
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/rpc_pb2.py"", line 16, in <module>
      from etcd3.etcdrpc import kv_pb2 as kv__pb2
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/kv_pb2.py"", line 36, in <module>
      type=None),
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/google/protobuf/descriptor.py"", line 755, in __new__
      _message.Message._CheckCalledFromGeneratedFile()
  TypeError: Descriptors cannot not be created directly.
  If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc >= 3.19.0.
  If you cannot immediately regenerate your protos, some other possible workarounds are:
   1. Downgrade the protobuf package to 3.20.x or lower.
   2. Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).

The etcd3 dependency is only used for the etcd3 driver which was
deprecated in change Iff0cd3b51cfc45ecbddc831c55267e80e9c79cac. The
protobuf dependency is only used for etcd3. We can't outright remove the
etcd3 driver yet as it hasn't been long enough since we deprecated it.
That will happen soon enough though and until then we can simply cap
protobuf to an older version that is compatible with the most recent
etcd3 release.

While we're here, we also sync the lower boundaries in the docs
requirments and add some comments indicating where they come from/what
they're for.

Change-Id: I8d6647118be22b0ce55e01b7e5451612ebe30e73
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/tooz refs/changes/49/847949/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,bdfc2646251fc3914f1afefee085dd916c20bc6a,bug/1980079, protobuf<4.0 # BSD License (3 clause),,1,0
openstack%2Fironic-python-agent-builder~master~I6952b833e0be4a47e45e9c4d4459956093628b6a,openstack/ironic-python-agent-builder,master,I6952b833e0be4a47e45e9c4d4459956093628b6a,Add smartmontools package to DIB image,MERGED,2022-06-27 09:27:48.000000000,2022-07-04 13:31:05.000000000,2022-07-04 13:29:44.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-27 09:27:48.000000000', 'files': ['dib/ironic-python-agent-ramdisk/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/57f50f7e10e0043d7aa1e860b72f98211eef4567', 'message': 'Add smartmontools package to DIB image\n\nThis package includes smartctl, which is necessary for ATA secure erase\ndisk cleaning.\n\nWithout this package, IPA will fall back to shredding ATA devices, and\nyou will lose hours of your life. Worse, until\nhttps://review.opendev.org/c/openstack/ironic-python-agent/+/847591, the\nlack of smartctl was silently ignored.\n\nChange-Id: I6952b833e0be4a47e45e9c4d4459956093628b6a\n'}]",4,847754,57f50f7e10e0043d7aa1e860b72f98211eef4567,10,3,1,14826,,,0,"Add smartmontools package to DIB image

This package includes smartctl, which is necessary for ATA secure erase
disk cleaning.

Without this package, IPA will fall back to shredding ATA devices, and
you will lose hours of your life. Worse, until
https://review.opendev.org/c/openstack/ironic-python-agent/+/847591, the
lack of smartctl was silently ignored.

Change-Id: I6952b833e0be4a47e45e9c4d4459956093628b6a
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/54/847754/1 && git format-patch -1 --stdout FETCH_HEAD,['dib/ironic-python-agent-ramdisk/package-installs.yaml'],1,57f50f7e10e0043d7aa1e860b72f98211eef4567,,# smartctl is required for ATA secure erase. smartmontools:,,2,0
openstack%2Fcinder~master~Ie735b4a8607529ef3334242fd5a90c58f145adb4,openstack/cinder,master,Ie735b4a8607529ef3334242fd5a90c58f145adb4,PowerMax Driver - Manage volume into correct storage group,MERGED,2021-06-21 16:54:52.000000000,2022-07-04 13:27:07.000000000,2022-07-04 08:52:19.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32761}, {'_account_id': 33502}, {'_account_id': 34290}, {'_account_id': 34988}]","[{'number': 1, 'created': '2021-06-21 16:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/528beefcef2bc6c0ad17ed3b74133135e7c3e0a6', 'message': 'PowerMax Driver - Manage volume into correct storage group\n\nManage a volume into the correct storage group if the name\nof the SRP on the remote differs to the SRP on the local\narray.  For backward compatibility and name matching, the\ndefault storage group will assume the SRP name of the local\narray on both arrays.\n\nChange-Id: Ie735b4a8607529ef3334242fd5a90c58f145adb4\n'}, {'number': 2, 'created': '2022-01-06 14:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/73f5a848edeae774687ea92189e0cfd47e16e904', 'message': 'PowerMax Driver - Manage volume into correct storage group\n\nManage a volume into the correct storage group if the name\nof the SRP on the remote differs to the SRP on the local\narray.  For backward compatibility and name matching, the\ndefault storage group will assume the SRP name of the local\narray on both arrays.\n\nChange-Id: Ie735b4a8607529ef3334242fd5a90c58f145adb4\n'}, {'number': 3, 'created': '2022-06-16 18:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/26c9c29f198270f14c6ba5f1a3fa689edd320ab2', 'message': 'PowerMax Driver - Manage volume into correct storage group\n\nManage a volume into the correct storage group if the name\nof the SRP on the remote differs to the SRP on the local\narray.  For backward compatibility and name matching, the\ndefault storage group will assume the SRP name of the local\narray on both arrays.\n\nChange-Id: Ie735b4a8607529ef3334242fd5a90c58f145adb4\n'}, {'number': 4, 'created': '2022-06-17 06:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b582d0c3d849920deabb0b9d708eeb3ac655d4fb', 'message': 'PowerMax Driver - Manage volume into correct storage group\n\nManage a volume into the correct storage group if the name\nof the SRP on the remote differs to the SRP on the local\narray.  For backward compatibility and name matching, the\ndefault storage group will assume the SRP name of the local\narray on both arrays.\n\nChange-Id: Ie735b4a8607529ef3334242fd5a90c58f145adb4\n'}, {'number': 5, 'created': '2022-06-27 08:20:15.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'releasenotes/notes/diff-srps-674f2c0cc893db4b.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a890c8369998676ba99658c0973c4409186de24', 'message': 'PowerMax Driver - Manage volume into correct storage group\n\nManage a volume into the correct storage group if the name\nof the SRP on the remote differs to the SRP on the local\narray.  For backward compatibility and name matching, the\ndefault storage group will assume the SRP name of the local\narray on both arrays.\n\nCloses-Bug: #1979666\nChange-Id: Ie735b4a8607529ef3334242fd5a90c58f145adb4\n'}]",23,797333,8a890c8369998676ba99658c0973c4409186de24,205,9,5,12670,,,0,"PowerMax Driver - Manage volume into correct storage group

Manage a volume into the correct storage group if the name
of the SRP on the remote differs to the SRP on the local
array.  For backward compatibility and name matching, the
default storage group will assume the SRP name of the local
array on both arrays.

Closes-Bug: #1979666
Change-Id: Ie735b4a8607529ef3334242fd5a90c58f145adb4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/797333/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'releasenotes/notes/diff-srps-674f2c0cc893db4b.yaml']",3,528beefcef2bc6c0ad17ed3b74133135e7c3e0a6,diff_srps,"--- fixes: - | PowerMax driver : Fixed rare case where the SRP in the local and remote arrays are different when managing volumes into OpenStack. For backward compatibility and name matching, the default storage group will assume the SRP name of the local array on both arrays. ",,75,1
openstack%2Fneutron~master~I9d79b123bb20ded327208d84a14d4f8d2e505087,openstack/neutron,master,I9d79b123bb20ded327208d84a14d4f8d2e505087,Use common wait_until_ha_router_has_state method everywhere,MERGED,2022-07-04 09:13:01.000000000,2022-07-04 13:19:47.000000000,2022-07-04 13:18:05.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 34775}]","[{'number': 1, 'created': '2022-07-04 09:13:01.000000000', 'files': ['neutron/tests/functional/agent/l3/framework.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e39011c73396af68fe5002cdbe4c6b3fe8b7cf23', 'message': ""Use common wait_until_ha_router_has_state method everywhere\n\nIn the L3 functional tests framework module there is already helper\nmethod called wait_until_ha_router_has_state which should be used to\nwait for desired HA router's state.\nThis method has proper debug logging added so debugging issues in CI is\neasier when it's used.\nIt is also decorated with unstable_test decorator to skip tests when\nrouter will fail to transition to desired state (see related bug for\ndetails).\n\nIn some tests this method wasn't used so we couldn't benefit from the\nlogging and unstable_test decorator there. Now it should be unifed and\nused everywhere in the same way.\n\nRelated-Bug: #1956958\nChange-Id: I9d79b123bb20ded327208d84a14d4f8d2e505087\n""}]",0,848585,e39011c73396af68fe5002cdbe4c6b3fe8b7cf23,13,7,1,11975,,,0,"Use common wait_until_ha_router_has_state method everywhere

In the L3 functional tests framework module there is already helper
method called wait_until_ha_router_has_state which should be used to
wait for desired HA router's state.
This method has proper debug logging added so debugging issues in CI is
easier when it's used.
It is also decorated with unstable_test decorator to skip tests when
router will fail to transition to desired state (see related bug for
details).

In some tests this method wasn't used so we couldn't benefit from the
logging and unstable_test decorator there. Now it should be unifed and
used everywhere in the same way.

Related-Bug: #1956958
Change-Id: I9d79b123bb20ded327208d84a14d4f8d2e505087
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/848585/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/l3/framework.py'],1,e39011c73396af68fe5002cdbe4c6b3fe8b7cf23,bug/1956958," self.wait_until_ha_router_has_state(router, 'primary') self.wait_until_ha_router_has_state(router, 'primary') self.wait_until_ha_router_has_state(router1, 'primary') self.wait_until_ha_router_has_state(router2, 'primary') self.wait_until_ha_router_has_state(primary_router, 'primary') self.wait_until_ha_router_has_state(backup_router, 'backup')", common_utils.wait_until_true(lambda: router.ha_state == 'primary') common_utils.wait_until_true(lambda: router.ha_state == 'primary') common_utils.wait_until_true( lambda: router1.ha_state == 'primary') common_utils.wait_until_true( lambda: router2.ha_state == 'primary') common_utils.wait_until_true( lambda: primary_router.ha_state == 'primary') common_utils.wait_until_true( lambda: backup_router.ha_state == 'backup'),6,10
openstack%2Fpython-openstackclient~stable%2Fxena~I45e9a81d451c64cdd51f9b606d94161742bacdb7,openstack/python-openstackclient,stable/xena,I45e9a81d451c64cdd51f9b606d94161742bacdb7,Stop testing lower-constraints,MERGED,2022-07-04 10:22:30.000000000,2022-07-04 13:10:05.000000000,2022-07-04 13:06:48.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-07-04 10:22:30.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cde8db3d619ff94369cdabeebb42d3ecc2027651', 'message': 'Stop testing lower-constraints\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html\n\nConflicts:\n  .zuul.yaml\n  lower-constraints.txt\n\nNOTE(stephenfin): Conflicts are due to the changed job template (xena vs\nzed) and slightly different lower constraints between branches.\n\nChange-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7\n(cherry picked from commit c677192d51ac80922f990c8a96b49e9dcc9325d2)\n'}]",0,848612,cde8db3d619ff94369cdabeebb42d3ecc2027651,7,2,1,15334,,,0,"Stop testing lower-constraints

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html

Conflicts:
  .zuul.yaml
  lower-constraints.txt

NOTE(stephenfin): Conflicts are due to the changed job template (xena vs
zed) and slightly different lower constraints between branches.

Change-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7
(cherry picked from commit c677192d51ac80922f990c8a96b49e9dcc9325d2)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/12/848612/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,cde8db3d619ff94369cdabeebb42d3ecc2027651,drop-lc,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,105
openstack%2Ftacker~master~I8565c12a69ca75f6c7934e351b5f76ca093ffb02,openstack/tacker,master,I8565c12a69ca75f6c7934e351b5f76ca093ffb02,Improve API Documentation for v2 API,MERGED,2022-06-30 02:29:15.000000000,2022-07-04 13:03:06.000000000,2022-07-04 13:01:00.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 32581}]","[{'number': 1, 'created': '2022-06-30 02:29:15.000000000', 'files': ['api-ref/source/v2/vnflcm.inc'], 'web_link': 'https://opendev.org/openstack/tacker/commit/0e3793b1a244acb42bdb2aec01570b8ad663e963', 'message': 'Improve API Documentation for v2 API\n\nThis patch modifies the following for the API Documentation for v2 API:\n [1] Added 400 code\n   - All APIs return ""400 Bad Request"" if the validation check in the\n     Version header fails.\n [2] Added 406 code\n   - All APIs except api_versions return ""406 Not Acceptable"" if an\n     unsupported version is set in the Version header.\n [3] Removed 422 code\n   - It is not necessary to describe the ""422 Unprocessable Entity""\n     error that occurs after returning ""202 Accepted"" in the response.\n\nChange-Id: I8565c12a69ca75f6c7934e351b5f76ca093ffb02\n'}]",1,848206,0e3793b1a244acb42bdb2aec01570b8ad663e963,9,7,1,31668,,,0,"Improve API Documentation for v2 API

This patch modifies the following for the API Documentation for v2 API:
 [1] Added 400 code
   - All APIs return ""400 Bad Request"" if the validation check in the
     Version header fails.
 [2] Added 406 code
   - All APIs except api_versions return ""406 Not Acceptable"" if an
     unsupported version is set in the Version header.
 [3] Removed 422 code
   - It is not necessary to describe the ""422 Unprocessable Entity""
     error that occurs after returning ""202 Accepted"" in the response.

Change-Id: I8565c12a69ca75f6c7934e351b5f76ca093ffb02
",git fetch https://review.opendev.org/openstack/tacker refs/changes/06/848206/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/vnflcm.inc'],1,0e3793b1a244acb42bdb2aec01570b8ad663e963,v2-api-ref-improvement, - 400 - 400 - 400 - 400 - 406 - 400 - 400 - 406 - 400 - 400 - 400, - 422 - 422 - 422 - 422 - 422 - 422,11,6
openstack%2Fansible-collections-openstack~master~I857d7ba7b7ca1b23100ee7e85e90e98430d68462,openstack/ansible-collections-openstack,master,I857d7ba7b7ca1b23100ee7e85e90e98430d68462,Updates security group rule for latest sdk,MERGED,2022-06-21 00:09:02.000000000,2022-07-04 12:43:28.000000000,2022-07-04 12:43:28.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-06-21 00:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d9bbfaa044f220ef351dc1c91776856b0ee058ee', 'message': 'Updates security group rule for latest sdk\n\n- Update docs\n- Change calls from cloud to proxy layer\n- Make sure return value is a dict\n- Improve test coverage\n\nChange-Id: I857d7ba7b7ca1b23100ee7e85e90e98430d68462\n'}, {'number': 2, 'created': '2022-06-30 13:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e4d01abd002c016f94a1deb8259444d9b156d2e5', 'message': 'Updates security group rule for latest sdk\n\n- Update docs\n- Change calls from cloud to proxy layer\n- Make sure return value is a dict\n- Improve test coverage\n\nChange-Id: I857d7ba7b7ca1b23100ee7e85e90e98430d68462\n'}, {'number': 3, 'created': '2022-06-30 14:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0cca23cd65058662033c0a1260570771cd38bff5', 'message': 'Updates security group rule for latest sdk\n\n- Update docs\n- Change calls from cloud to proxy layer\n- Make sure return value is a dict\n- Improve test coverage\n\nChange-Id: I857d7ba7b7ca1b23100ee7e85e90e98430d68462\n'}, {'number': 4, 'created': '2022-07-04 09:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d5dc47258125ed8fea11f749ebddf76d861bcda5', 'message': 'Updates security group rule for latest sdk\n\n- Update docs\n- Change calls from cloud to proxy layer\n- Make sure return value is a dict\n- Improve test coverage\n\nChange-Id: I857d7ba7b7ca1b23100ee7e85e90e98430d68462\n'}, {'number': 5, 'created': '2022-07-04 10:46:45.000000000', 'files': ['plugins/modules/security_group_rule.py', 'ci/roles/security_group/tasks/main.yml', 'ci/roles/security_group/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e0958c605ea1b0b9b35abec7cde14512c4a444c2', 'message': 'Updates security group rule for latest sdk\n\n- Update docs\n- Change calls from cloud to proxy layer\n- Make sure return value is a dict\n- Improve test coverage\n\nChange-Id: I857d7ba7b7ca1b23100ee7e85e90e98430d68462\n'}]",4,846830,e0958c605ea1b0b9b35abec7cde14512c4a444c2,15,3,5,34208,,,0,"Updates security group rule for latest sdk

- Update docs
- Change calls from cloud to proxy layer
- Make sure return value is a dict
- Improve test coverage

Change-Id: I857d7ba7b7ca1b23100ee7e85e90e98430d68462
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/30/846830/5 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/security_group_rule.py', 'ci/roles/security_group/tasks/main.yml', 'ci/roles/user_role/defaults/main.yaml']",3,d9bbfaa044f220ef351dc1c91776856b0ee058ee,security_group_rule,expected_fields: - created_at - description - direction - ether_type - port_range_max - port_range_min - project_id - protocol - remote_group_id - remote_address_group_id - remote_ip_prefix - security_group_id - tenant_id - updated_at - revision_number - id - name - tags,,248,99
openstack%2Freleases~master~I230a7e2dae91f91a37117cc63c6e2840f7c536ed,openstack/releases,master,I230a7e2dae91f91a37117cc63c6e2840f7c536ed,[python-manilaclient] Release manilaclient 2.6.4,MERGED,2022-06-30 18:01:34.000000000,2022-07-04 12:06:40.000000000,2022-07-04 12:06:40.000000000,"[{'_account_id': 9003}, {'_account_id': 11904}, {'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-06-30 18:01:34.000000000', 'files': ['deliverables/wallaby/python-manilaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b860bad7b099cd8f1b0f0c172d772c9c9020aeed', 'message': '[python-manilaclient] Release manilaclient 2.6.4\n\nIntroduces an important fix:\n\ngit log --oneline --no-merges 2.6.3..7f7d7d3\n7f7d7d3 Re-enable shell completion cache\n\nChange-Id: I230a7e2dae91f91a37117cc63c6e2840f7c536ed\n'}]",2,848325,b860bad7b099cd8f1b0f0c172d772c9c9020aeed,11,7,1,29632,,,0,"[python-manilaclient] Release manilaclient 2.6.4

Introduces an important fix:

git log --oneline --no-merges 2.6.3..7f7d7d3
7f7d7d3 Re-enable shell completion cache

Change-Id: I230a7e2dae91f91a37117cc63c6e2840f7c536ed
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/848325/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/python-manilaclient.yaml'],1,b860bad7b099cd8f1b0f0c172d772c9c9020aeed,manila, - version: 2.6.4 projects: - repo: openstack/python-manilaclient hash: 7f7d7d32dcabfa619ea9e1717483062026e0b61f,,4,0
openstack%2Freleases~master~Ib4319d2c8e138073d889bbede29843c7bc014223,openstack/releases,master,Ib4319d2c8e138073d889bbede29843c7bc014223,[python-manilaclient] Release manilaclient 3.3.1,MERGED,2022-06-30 17:35:13.000000000,2022-07-04 12:03:39.000000000,2022-07-04 12:03:39.000000000,"[{'_account_id': 9003}, {'_account_id': 11904}, {'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-30 17:35:13.000000000', 'files': ['deliverables/yoga/python-manilaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/51a9711bc2dc0388a6c73a3d1558d82396c899a7', 'message': '[python-manilaclient] Release manilaclient 3.3.1\n\ngit log --oneline --no-merges 3.3.0..c1c1133\nc1c1133 Avoid using ""force"" kwarg in extend API\n9f33f3a Drop lower-constraints.txt and its testing\n390f89b Update TOX_CONSTRAINTS_FILE for stable/yoga\ndd986d7 Update .gitreview for stable/yoga\n\nChange-Id: Ib4319d2c8e138073d889bbede29843c7bc014223\n'}]",2,848322,51a9711bc2dc0388a6c73a3d1558d82396c899a7,10,6,1,29632,,,0,"[python-manilaclient] Release manilaclient 3.3.1

git log --oneline --no-merges 3.3.0..c1c1133
c1c1133 Avoid using ""force"" kwarg in extend API
9f33f3a Drop lower-constraints.txt and its testing
390f89b Update TOX_CONSTRAINTS_FILE for stable/yoga
dd986d7 Update .gitreview for stable/yoga

Change-Id: Ib4319d2c8e138073d889bbede29843c7bc014223
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/848322/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/python-manilaclient.yaml'],1,51a9711bc2dc0388a6c73a3d1558d82396c899a7,manila, - version: 3.3.1 projects: - repo: openstack/python-manilaclient hash: c1c1133a7f912f6d4136ace537a1e5d80ec81bb6,,4,0
openstack%2Fheat-dashboard~stable%2Fyoga~I4b6bef322a668a805abcd4bc472d30f6d1df3a0a,openstack/heat-dashboard,stable/yoga,I4b6bef322a668a805abcd4bc472d30f6d1df3a0a,Set False to include_empty_option,MERGED,2022-06-08 06:36:56.000000000,2022-07-04 12:02:24.000000000,2022-07-04 12:01:01.000000000,"[{'_account_id': 841}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-08 06:36:56.000000000', 'files': ['heat_dashboard/content/stacks/forms.py'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/39c14dc25b23e048e966efc433007b4f3f6a388c', 'message': ""Set False to include_empty_option\n\nIn _populate_custom_choices(), all methods called at the method have\nTrue as a second argument. It means that the default values sepcified\nin a stack are not shown as default when launch stack form.\nThe fileds always show 'Select Flavor/Image/Network'.\nUsers doesn't expect to choose default value by hand.\nThis change shows the default values defined at a template.\n\nAlso, image_field_data() doesn't use parameter, include_empty_option.\nThis change modfies the method to change the behavior based on the\nparameter.\n\nCloses-Bug: #1619465\nChange-Id: I4b6bef322a668a805abcd4bc472d30f6d1df3a0a\n(cherry picked from commit 792f8cbe4ac6f39aa41b0905e3b68f2a8c1e5fb1)\n""}]",0,845086,39c14dc25b23e048e966efc433007b4f3f6a388c,8,3,1,30073,,,0,"Set False to include_empty_option

In _populate_custom_choices(), all methods called at the method have
True as a second argument. It means that the default values sepcified
in a stack are not shown as default when launch stack form.
The fileds always show 'Select Flavor/Image/Network'.
Users doesn't expect to choose default value by hand.
This change shows the default values defined at a template.

Also, image_field_data() doesn't use parameter, include_empty_option.
This change modfies the method to change the behavior based on the
parameter.

Closes-Bug: #1619465
Change-Id: I4b6bef322a668a805abcd4bc472d30f6d1df3a0a
(cherry picked from commit 792f8cbe4ac6f39aa41b0905e3b68f2a8c1e5fb1)
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/86/845086/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_dashboard/content/stacks/forms.py'],1,39c14dc25b23e048e966efc433007b4f3f6a388c,," images_list = [] if include_empty_option: return [("""", _(""Select Image"")), ] + images_list return instance_utils.network_field_data(self.request, False) if custom_type == 'nova.keypair': return instance_utils.keypair_field_data(self.request, False) if custom_type == 'glance.image': return image_field_data(self.request, False) if custom_type == 'nova.flavor': return instance_utils.flavor_field_data(self.request, False)"," images_list = [('', _('Select Image'))] return instance_utils.network_field_data(self.request, True) if custom_type == 'nova.keypair': return instance_utils.keypair_field_data(self.request, True) if custom_type == 'glance.image': return image_field_data(self.request, True) if custom_type == 'nova.flavor': return instance_utils.flavor_field_data(self.request, True)",8,5
openstack%2Ftacker~master~I52057441aeaefc358013a6d5e26925def7ab0b3c,openstack/tacker,master,I52057441aeaefc358013a6d5e26925def7ab0b3c,Imported Translations from Zanata,MERGED,2022-07-03 04:24:35.000000000,2022-07-04 12:00:40.000000000,2022-07-04 11:59:09.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}]","[{'number': 1, 'created': '2022-07-03 04:24:35.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/tacker/commit/e1a4666fe6838ec756105def156ae9d225a11e7b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I52057441aeaefc358013a6d5e26925def7ab0b3c\n'}]",0,848528,e1a4666fe6838ec756105def156ae9d225a11e7b,8,4,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I52057441aeaefc358013a6d5e26925def7ab0b3c
",git fetch https://review.opendev.org/openstack/tacker refs/changes/28/848528/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,e1a4666fe6838ec756105def156ae9d225a11e7b,zanata/translations,"""POT-Creation-Date: 2022-07-01 07:57+0000\n""""PO-Revision-Date: 2022-07-02 10:14+0000\n""msgid ""7.0.0.0rc1-41"" msgstr ""7.0.0.0rc1-41"" ""Add Container based VNF scale operation support with ETSI NFV-SOL003 v2.6.1 "" ""VNF Lifecycle Management. Users can scale the number of pod replicas managed "" ""by controller resources such as Kubernetes Deployment, StatefulSet, and "" ""ReplicaSet."" msgstr """" ""Add Container-based VNF scale operation support with ETSI NFV-SOL003 v2.6.1 "" ""VNF Lifecycle Management. Users can scale the number of pod replicas managed "" ""by controller resources such as Kubernetes Deployment, StatefulSet, and "" ""ReplicaSet."" msgid """"""Add a Sample Ansible Driver as an option for users who want to use ansible "" ""for configuration of VNFs. This Ansible Driver supports the key LCMs such as "" ""instantiate_end, scale_start, scale_end, heal_end and terminate_start. A "" ""Sample VNF package which contains sample usage of Ansible Driver is "" ""provided. User manual is also provided to explain the steps in preparing the "" ""environment to use Ansible Driver."" msgstr """" ""Add a Sample Ansible Driver as an option for users who want to use Ansible "" ""to configure VNFs. This Ansible Driver supports the key LCMs such as "" ""instantiate_end, scale_start, scale_end, heal_end and terminate_start. A "" ""Sample VNF package which contains sample usage of Ansible Driver is "" ""provided. The user manual is also provided to explain the steps in preparing "" ""the environment to use Ansible Driver."" msgid """"""Add new interface for Kubernetes VIM to handle Helm chart. It enables Users "" ""to include Helm chart files as MCIOP in their VNF Packages, to instantiate "" ""and to terminate CNF with them. And update sample of MgmtDriver to install "" ""and configure Helm package for using Helm cli command in the deployed "" ""Kubernetes cluster VNF, and to restore the registered helm repositories and "" ""charts after the master node is healed."" msgstr """" ""Add a new interface for Kubernetes VIM to handle Helm chart. It enables "" ""Users to include Helm chart files as MCIOP in their VNF Packages, to "" ""instantiate and terminate CNF with them. And update sample of MgmtDriver to "" ""install and configure Helm package for using Helm CLI command in the "" ""deployed Kubernetes cluster VNF, and to restore the registered helm "" ""repositories and charts after the master node is healed."" msgid """" ""Add placement constraints support so that the VNFM may interoperate with 3rd "" ""party NFVO, it enables to deploy each VM in the VNF after setting the zone "" ""information based on the grant response from NFVO."" msgstr """" ""Add placement constraints support so that the VNFM may interoperate with 3rd "" ""party NFVO, it enables to deploy each VM in the VNF after setting the zone "" ""information based on the grant response from NFVO."" msgid """"msgid """" ""Add the Version \""2.0.0\"" of Change external VNF connectivity API based on "" ""ETSI NFV specifications."" msgstr """" ""Add the Version \""2.0.0\"" of Change external VNF connectivity API based on "" ""ETSI NFV specifications."" msgid """" ""Add the Version \""2.0.0\"" of Fail operation API based on ETSI NFV "" ""specifications."" msgstr """" ""Add the Version \""2.0.0\"" of Fail operation API based on ETSI NFV "" ""specifications."" msgid """" ""Add the Version \""2.0.0\"" of Heal VNF API based on ETSI NFV specifications."" msgstr """" ""Add the Version \""2.0.0\"" of Heal VNF API based on ETSI NFV specifications."" ""The default value of ``[oslo_policy] policy_file`` config option has been "" ""changed from ``policy.json`` to ``policy.yaml``. Operators who are utilizing "" ""customized or previously generated static policy JSON files (which are not "" ""needed by default), should generate new policy files or convert them in YAML "" ""format. Use the `oslopolicy-convert-json-to-yaml <https://docs.openstack.org/"" ""oslo.policy/latest/cli/oslopolicy-convert-json-to-yaml.html>`_ tool to "" ""convert a JSON to YAML formatted policy file in backward compatible way."" msgstr """" ""The default value of ``[oslo_policy] policy_file`` config option has been "" ""changed from ``policy.json`` to ``policy.yaml``. Operators utilising "" ""customised or previously generated static policy JSON files (which are not "" ""needed by default), should generate new policy files or convert them into "" ""YAML format. Use the `oslopolicy-convert-json-to-yaml <https://docs."" ""openstack.org/oslo.policy/latest/cli/oslopolicy-convert-json-to-yaml.html>`_ "" ""tool to convert a JSON to YAML formatted policy file in a backward "" ""compatible way."" msgid """"""The user specifies the target namespace in the InstantiateVnfRequest to "" ""deploy the CNF on the Kubernetes VIM. The additionalParams field provides "" ""the new parameter ``namespace`` for the target namespace. The Kubernetes "" ""resources in the VNF must be in the same namespace."" msgstr """" ""The user specifies the target namespace in the InstantiateVnfRequest to "" ""deploy the CNF on the Kubernetes VIM. The additionalParams field provides "" ""the new parameter ``namespace`` for the target namespace. The Kubernetes "" ""resources in the VNF must be in the same namespace."" msgid """"""This feature allows users to attach an already created or existing volume "" ""with VNF by providing volume_id in the TOSCA template. In this case, no new "" ""volume is created while vnf deployment."" msgstr """" ""This feature allows users to attach an already created or existing volume "" ""with VNF by providing volume_id in the TOSCA template. In this case, no new "" ""volume is created while VNF deployment."" msgid """"","""POT-Creation-Date: 2022-06-28 00:22+0000\n""""PO-Revision-Date: 2022-06-13 07:26+0000\n""",112,2
openstack%2Ftrove~master~I18da50c47fa3112927e4ccc27ac1bd8a64356c42,openstack/trove,master,I18da50c47fa3112927e4ccc27ac1bd8a64356c42,Imported Translations from Zanata,MERGED,2022-06-21 04:28:00.000000000,2022-07-04 11:42:35.000000000,2022-07-04 11:40:56.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-06-21 04:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/10b9c3404591061aba3b5e9d761d033a49c5e682', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I18da50c47fa3112927e4ccc27ac1bd8a64356c42\n'}, {'number': 2, 'created': '2022-07-03 04:21:53.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/trove/commit/89ae2cf743f09de4b419fd0262b54e06d8d0445a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I18da50c47fa3112927e4ccc27ac1bd8a64356c42\n'}]",0,846893,89ae2cf743f09de4b419fd0262b54e06d8d0445a,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I18da50c47fa3112927e4ccc27ac1bd8a64356c42
",git fetch https://review.opendev.org/openstack/trove refs/changes/93/846893/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,10b9c3404591061aba3b5e9d761d033a49c5e682,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2022. #zanata""POT-Creation-Date: 2022-05-11 14:52+0000\n""""PO-Revision-Date: 2022-06-13 07:24+0000\n""msgid ""14.1.0"" msgstr ""14.1.0"" msgid ""15.0.0"" msgstr ""15.0.0"" msgid ""15.0.0-13"" msgstr ""15.0.0-13"" msgid ""16.0.0"" msgstr ""16.0.0"" ""Added a new field ``operating_status`` for the instance to show the actual "" ""operational status of user's database. See https://docs.openstack.org/trove/"" ""latest/user/instance-status.html for more information."" msgstr """" ""Added a new field ``operating_status`` for the instance to show the actual "" ""operational status of the user's database. See https://docs.openstack.org/"" ""trove/latest/user/instance-status.html for more information."" msgid """"msgid """" ""Added a periodic task for postgresql datastore to clean up the archived WAL "" ""files. Added a check when creating incremental backups for postgresql. A new "" ""container image ``openstacktrove/db-backup-postgresql:1.1.2`` is uploaded to "" ""docker hub."" msgstr """" ""Added a periodic task for the PostgreSQL datastore to clean up the archived "" ""WAL files. Added a check when creating incremental backups for PostgreSQL. A "" ""new container image ``openstacktrove/db-backup-postgresql:1.1.2`` is "" ""uploaded to docker hub."" msgid """" ""Added custom container registry configuration for trove guest agent, it's "" ""now possible to use images in private registry rather than docker hub."" msgstr """" ""Added custom container registry configuration for Trove guest agent, it's "" ""now possible to use images in the private registry rather than Docker hub."" msgid """" ""Added iptables-persistent package in the guest image element for diskimage-"" ""builder. The Trove service administrator is able to perform iptables command "" ""(leveraging cloud-init config) and persist the change."" msgstr """" ""Added iptables-persistent package in the guest image element for diskimage-"" ""builder. The Trove service administrator is able to perform iptables command "" ""(leveraging cloud-init config) and persist the change."" msgid ""Fix Postgresql promote (bug 1633515)."" msgstr ""Fix Postgresql promote (bug 1633515)."" msgid """" ""Fix bug 1537986 which corrects the pagination in the mysql user list "" ""command. When internal users (ignore_users) are eliminated from the list, "" ""the pagination was not correctly handled."" msgstr """" ""Fix bug 1537986 which corrects the pagination in the MySQL user list "" ""command. When internal users (ignore_users) are eliminated from the list, "" ""the pagination was not correctly handled."" msgid """" ""Fix race condition in cluster-show that returned erroneous not found error. "" ""Bug 1643002"" msgstr """" ""Fix race condition in cluster-show that returned erroneous not found error. "" ""Bug 1643002"" msgid """" ""Fixed a race condition that instance becomes ERROR when Trove is handling "" ""creating and deleting at the same time."" msgstr """" ""Fixed a race condition that instance becomes ERROR when Trove is handling "" ""creating and deleting at the same time."" msgid """" ""Fixed an issue that orphan volumes left after removing instances, especially "" ""for the case that instance creation failed because of timeout when waiting "" ""for the volume available."" msgstr """" ""Fixed an issue that orphan volumes left after removing instances, especially "" ""for the case that instance creation failed because of timeout when waiting "" ""for the volume available."" ","""POT-Creation-Date: 2021-03-22 23:03+0000\n""""PO-Revision-Date: 2020-11-03 11:50+0000\n""",86,2
openstack%2Ftripleo-ansible~master~Iae61a0f8fb92473c04e2fa28ec18234a499ed6bf,openstack/tripleo-ansible,master,Iae61a0f8fb92473c04e2fa28ec18234a499ed6bf,Sort job order,ABANDONED,2022-06-16 14:29:30.000000000,2022-07-04 11:41:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-16 14:29:30.000000000', 'files': ['zuul.d/molecule.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1786978fd1106b46f590440586d1ce36b7f27b57', 'message': 'Sort job order\n\nCurrently when we generate a role using the automation[1], the job\ndefinition for tripleo_iscsi is always moved because of it is breaking\nthe alphabetical order.\n\n[1] https://docs.openstack.org/tripleo-ansible/latest/contributing_roles.html#create-a-new-role-with-automation\n\nChange-Id: Iae61a0f8fb92473c04e2fa28ec18234a499ed6bf\n'}]",0,846179,1786978fd1106b46f590440586d1ce36b7f27b57,3,1,1,9816,,,0,"Sort job order

Currently when we generate a role using the automation[1], the job
definition for tripleo_iscsi is always moved because of it is breaking
the alphabetical order.

[1] https://docs.openstack.org/tripleo-ansible/latest/contributing_roles.html#create-a-new-role-with-automation

Change-Id: Iae61a0f8fb92473c04e2fa28ec18234a499ed6bf
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/79/846179/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/molecule.yaml'],1,1786978fd1106b46f590440586d1ce36b7f27b57,, - tripleo-ansible-centos-stream-molecule-tripleo_iscsid - tripleo-ansible-centos-stream-molecule-tripleo_iscsid - tripleo-ansible-centos-stream-molecule-tripleo_iscsid - ^tripleo_ansible/roles/tripleo_iscsid/(?!meta).* name: tripleo-ansible-centos-stream-molecule-tripleo_iscsid parent: tripleo-ansible-centos-stream-base vars: tripleo_role_name: tripleo_iscsid - job: files:, - tripleo-ansible-centos-stream-molecule-tripleo_iscsid - tripleo-ansible-centos-stream-molecule-tripleo_iscsid - tripleo-ansible-centos-stream-molecule-tripleo_iscsid - ^tripleo_ansible/roles/tripleo_iscsid/(?!meta).* name: tripleo-ansible-centos-stream-molecule-tripleo_iscsid parent: tripleo-ansible-centos-stream-base vars: tripleo_role_name: tripleo_iscsid - job: files:,10,10
openstack%2Ftripleo-heat-templates~master~I6b797141800ae7f1773e9a06b232dacd158732f5,openstack/tripleo-heat-templates,master,I6b797141800ae7f1773e9a06b232dacd158732f5,Galera: initial support for mariabackup SST,MERGED,2022-04-04 09:02:51.000000000,2022-07-04 11:37:42.000000000,2022-07-04 11:36:19.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-04-04 09:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/982e3d708548399258257f7be5244688324056c4', 'message': 'WIP galera: support for mariabackup as SST method\n\nChange-Id: I6b797141800ae7f1773e9a06b232dacd158732f5\n'}, {'number': 2, 'created': '2022-04-15 09:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de79f2c4301555f0c62776c60e2d82e39c1bcfad', 'message': 'WIP galera: support for mariabackup as SST method\n\nChange-Id: I6b797141800ae7f1773e9a06b232dacd158732f5\n'}, {'number': 3, 'created': '2022-05-23 09:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32bb1728c310bf301de3e9f1b15787381ccf81ab', 'message': ""Galera: initial support for mariabackup SST\n\nWhen deploying a HA overcloud, allow the SST method to be\nconfigured, to use either rsync (default) or mariabackup.\n\nTested by deploying a HA overcloud with mariabackup SST\n(IPv4, IPv6, TLS-e) as well as with regular rsync SST\n(IPv4, IPv6, TLS-e).\n\nNote that this initial support doesn't allow SST method\nto be updated via a stack update, as mariabackup requires\na dedicated MySQL user, and there is currently no\norchestration available via a minor update either.\n\nCloses-Bug: #1973872\nDepends-On: I1509bd30fbd253790b17e04ef15dca6c58de7311\nDepends-On: I4d5983ada52a58cdd853bd7b701bb11eeb88be8d\n\nChange-Id: I6b797141800ae7f1773e9a06b232dacd158732f5\n""}, {'number': 4, 'created': '2022-05-31 11:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ca3a075176ee20d603635ae62785ad1d2b0f4e0', 'message': ""Galera: initial support for mariabackup SST\n\nWhen deploying a HA overcloud, allow the SST method to be\nconfigured, to use either rsync (default) or mariabackup.\n\nTested by deploying a HA overcloud with mariabackup SST\n(IPv4, IPv6, TLS-e) as well as with regular rsync SST\n(IPv4, IPv6, TLS-e).\n\nNote that this initial support doesn't allow SST method\nto be updated via a stack update, as mariabackup requires\na dedicated MySQL user, and there is currently no\norchestration available via a minor update either.\n\nCloses-Bug: #1973872\nDepends-On: I1509bd30fbd253790b17e04ef15dca6c58de7311\nDepends-On: I4d5983ada52a58cdd853bd7b701bb11eeb88be8d\n\nChange-Id: I6b797141800ae7f1773e9a06b232dacd158732f5\n""}, {'number': 5, 'created': '2022-06-16 09:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b29097e50e0bbac69cafcbb62bc3bcdfa298dcb', 'message': ""Galera: initial support for mariabackup SST\n\nWhen deploying a HA overcloud, allow the SST method to be\nconfigured, to use either rsync (default) or mariabackup.\n\nTested by deploying a HA overcloud with mariabackup SST\n(IPv4, IPv6, TLS-e) as well as with regular rsync SST\n(IPv4, IPv6, TLS-e).\n\nNote that this initial support doesn't allow SST method\nto be updated via a stack update, as mariabackup requires\na dedicated MySQL user, and there is currently no\norchestration available via a minor update either.\n\nCloses-Bug: #1973872\nDepends-On: I1509bd30fbd253790b17e04ef15dca6c58de7311\nDepends-On: I4d5983ada52a58cdd853bd7b701bb11eeb88be8d\n\nChange-Id: I6b797141800ae7f1773e9a06b232dacd158732f5\n""}, {'number': 6, 'created': '2022-06-29 11:42:13.000000000', 'files': ['releasenotes/notes/galera-sst-mariabackup-5a667eed1787353f.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4cceeebc86b99f76abaf15990e14d85406628be1', 'message': ""Galera: initial support for mariabackup SST\n\nWhen deploying a HA overcloud, allow the SST method to be\nconfigured, to use either rsync (default) or mariabackup.\n\nTested by deploying a HA overcloud with mariabackup SST\n(IPv4, IPv6, TLS-e) as well as with regular rsync SST\n(IPv4, IPv6, TLS-e).\n\nNote that this initial support doesn't allow SST method\nto be updated via a stack update, as mariabackup requires\na dedicated MySQL user, and there is currently no\norchestration available via a minor update either.\n\nCloses-Bug: #1973872\nDepends-On: I1509bd30fbd253790b17e04ef15dca6c58de7311\nDepends-On: I4d5983ada52a58cdd853bd7b701bb11eeb88be8d\n\nChange-Id: I6b797141800ae7f1773e9a06b232dacd158732f5\n""}]",22,836277,4cceeebc86b99f76abaf15990e14d85406628be1,60,7,6,20778,,,0,"Galera: initial support for mariabackup SST

When deploying a HA overcloud, allow the SST method to be
configured, to use either rsync (default) or mariabackup.

Tested by deploying a HA overcloud with mariabackup SST
(IPv4, IPv6, TLS-e) as well as with regular rsync SST
(IPv4, IPv6, TLS-e).

Note that this initial support doesn't allow SST method
to be updated via a stack update, as mariabackup requires
a dedicated MySQL user, and there is currently no
orchestration available via a minor update either.

Closes-Bug: #1973872
Depends-On: I1509bd30fbd253790b17e04ef15dca6c58de7311
Depends-On: I4d5983ada52a58cdd853bd7b701bb11eeb88be8d

Change-Id: I6b797141800ae7f1773e9a06b232dacd158732f5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/836277/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/mysql-pacemaker-puppet.yaml'],1,982e3d708548399258257f7be5244688324056c4,mariabackup," MysqlGaleraSSTMethod: type: string default: 'rsync' description: Method used by galera to perform State Snapshot Transfers constraints: - allowed_values: ['rsync', 'mariabackup'] MysqlMariabackupUser: type: string default: 'mariabackup' description: When MysqlGaleraSSTMethod is set to mariabackup, the name of the database user that executes the SST. MysqlMariabackupPassword: type: string default: '' description: When MysqlGaleraSSTMethod is set to mariabackup, the password of the database user that executes the SST. - if: - {equals: [{get_param: MysqlGaleraSSTMethod}, 'mariabackup']} - - 'mysql -uroot -p""${DB_ROOT_PASSWORD}"" -e ""CREATE USER ''${DB_MARIABACKUP_USER}''@''localhost'' IDENTIFIED BY ''${DB_MARIABACKUP_PASSWORD}'';""' - 'mysql -uroot -p""${DB_ROOT_PASSWORD}"" -e ""GRANT RELOAD, PROCESS, LOCK TABLES, REPLICATION CLIENT ON *.* TO ''${DB_MARIABACKUP_USER}''@''localhost'';""' - - 'mysql -uroot -p""${DB_ROOT_PASSWORD}"" -e ""CREATE USER ''clustercheck''@''localhost'' IDENTIFIED BY ''${DB_CLUSTERCHECK_PASSWORD}'';""' DB_MARIABACKUP_USER: {get_param: MysqlMariabackupUser} DB_MARIABACKUP_PASSWORD: {get_param: MysqlMariabackupPassword}"," - 'mysql -uroot -p""${DB_ROOT_PASSWORD}"" -e ""CREATE USER ''clustercheck''@''localhost'' IDENTIFIED BY ''${DB_CLUSTERCHECK_PASSWORD}'';""'",23,1
openstack%2Fpython-openstackclient~stable%2Fqueens~I47c77f3e7efe112417d2b96936fcd0cafeb9442e,openstack/python-openstackclient,stable/queens,I47c77f3e7efe112417d2b96936fcd0cafeb9442e,Improve document 'openstack complete',ABANDONED,2018-10-19 01:09:57.000000000,2022-07-04 11:36:42.000000000,,"[{'_account_id': 11904}, {'_account_id': 19521}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-19 01:09:57.000000000', 'files': ['doc/source/cli/command-objects/complete.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9e963a13193d366bcc0bb2aed66f0ba94475491c', 'message': ""Improve document 'openstack complete'\n\nThe openstack complete command requires bash-completion package\nWithout the relevant package the bash completion doesn't work.\n\nChange-Id: I47c77f3e7efe112417d2b96936fcd0cafeb9442e\nCloses-Bug: #1798493\n""}]",0,611731,9e963a13193d366bcc0bb2aed66f0ba94475491c,8,3,1,19521,,,0,"Improve document 'openstack complete'

The openstack complete command requires bash-completion package
Without the relevant package the bash completion doesn't work.

Change-Id: I47c77f3e7efe112417d2b96936fcd0cafeb9442e
Closes-Bug: #1798493
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/31/611731/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/command-objects/complete.rst'],1,9e963a13193d366bcc0bb2aed66f0ba94475491c,bug/1798493-stable/queens,"It is highly recommended to install ``python-openstackclient`` from a package (``apt-get`` or ``yum``). In some distributions the package ``bash-completion`` is shipped as dependency, and the `openstack complete` command will be run as a post-install action, however not every distribution include this dependency and you might need to install ``bash-completion`` package to enable autocomplete feature.","If installing ``python-openstackclient`` from a package (``apt-get`` or ``yum``), then this command will likely be run for you.",5,2
openstack%2Ftripleo-heat-templates~master~I6a82a542855e32bd82c67f34138271b060df5de2,openstack/tripleo-heat-templates,master,I6a82a542855e32bd82c67f34138271b060df5de2,Fix Cinder Dell EMC SC backend template,MERGED,2022-06-28 15:01:38.000000000,2022-07-04 11:36:23.000000000,2022-07-04 11:36:23.000000000,"[{'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-28 15:01:38.000000000', 'files': ['deployment/cinder/cinder-backend-dellemc-sc-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95a02d2419fa279838a5bc3b600b235f41615cac', 'message': ""Fix Cinder Dell EMC SC backend template\n\nThe 'CinderSCStorageProtocol' parameter defined in\ncinder-backend-dellemc-sc-puppet.yaml is not used and\nhas no effect. Modified it as 'CinderScStorageProtocol'\nsimilar to other parameters.\n\nThe parameter 'CinderScExcludedDomainIp' is introduced\nwhen the backend support was added in the patch\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/727283\nbut it is never used.\nRemoved it as the 'CinderScExcludedDomainIps' parameter is already used.\n\nCloses-Bug: #1978749\nCloses-Bug: #1978750\nChange-Id: I6a82a542855e32bd82c67f34138271b060df5de2\n""}]",4,847739,95a02d2419fa279838a5bc3b600b235f41615cac,19,4,1,34598,,,0,"Fix Cinder Dell EMC SC backend template

The 'CinderSCStorageProtocol' parameter defined in
cinder-backend-dellemc-sc-puppet.yaml is not used and
has no effect. Modified it as 'CinderScStorageProtocol'
similar to other parameters.

The parameter 'CinderScExcludedDomainIp' is introduced
when the backend support was added in the patch
https://review.opendev.org/c/openstack/tripleo-heat-templates/+/727283
but it is never used.
Removed it as the 'CinderScExcludedDomainIps' parameter is already used.

Closes-Bug: #1978749
Closes-Bug: #1978750
Change-Id: I6a82a542855e32bd82c67f34138271b060df5de2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/847739/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-backend-dellemc-sc-puppet.yaml'],1,95a02d2419fa279838a5bc3b600b235f41615cac,, CinderScStorageProtocol:, CinderScExcludedDomainIp: type: string default: '' CinderSCStorageProtocol:,1,4
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ia76b5ab2e319d66666f109aefe22fb83778b6f2d,openstack/tripleo-heat-templates,stable/wallaby,Ia76b5ab2e319d66666f109aefe22fb83778b6f2d,Cleanup openldap certs database,MERGED,2022-03-29 07:57:44.000000000,2022-07-04 11:36:16.000000000,2022-07-04 11:36:16.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-29 07:57:44.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2fa4571a0cc5f8cecb61837f4313a988ba7e41f', 'message': 'Cleanup openldap certs database\n\nCleanup openldap certs database as some users will create certs\ndatabase that will conflict with system CA certs database and\nbreak openldap functionality within keystone.\n\nChange-Id: Ia76b5ab2e319d66666f109aefe22fb83778b6f2d\n(cherry picked from commit 9cb551201b2e0c68ad0868c9f1f524c51226ba4c)\n'}]",3,835499,d2fa4571a0cc5f8cecb61837f4313a988ba7e41f,19,4,1,14250,,,0,"Cleanup openldap certs database

Cleanup openldap certs database as some users will create certs
database that will conflict with system CA certs database and
break openldap functionality within keystone.

Change-Id: Ia76b5ab2e319d66666f109aefe22fb83778b6f2d
(cherry picked from commit 9cb551201b2e0c68ad0868c9f1f524c51226ba4c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/835499/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,d2fa4571a0cc5f8cecb61837f4313a988ba7e41f,cleanup_openldap_ffu-stable/wallaby," host_prep_tasks: list_concat: - {get_attr: [KeystoneLogging, host_prep_tasks]} - - name: Check if file certs_valid exist stat: path: ""/etc/openldap/certs/certs_valid"" register: certs_valid_stat - name: Check if file cert9.db exist stat: path: ""/etc/openldap/certs/cert9.db"" register: cert9_stat when: not certs_valid_stat.stat.exists - name: Check if file key4.db exist stat: path: ""/etc/openldap/certs/key4.db"" register: key4_stat when: not certs_valid_stat.stat.exists - fail: msg: > Keys and/or certificates were found in /etc/openldap/certs but these conflicts with keystone python LDAP calls. If you know those certificates are valid and not causing any conflicts, you can touch /etc/openldap/certs/certs_valid in order to skip this failure and retry or you can delete the files located in /etc/openldap/certs and retry. when: >- ( cert9_stat.stat.exists or key4_stat.stat.exists ) and not certs_valid_stat.stat.exists"," host_prep_tasks: {get_attr: [KeystoneLogging, host_prep_tasks]}",28,1
openstack%2Fpython-openstackclient~stable%2Fpike~I93d23581c7e8c84eaf9bb3b293360036f60f456b,openstack/python-openstackclient,stable/pike,I93d23581c7e8c84eaf9bb3b293360036f60f456b,neutron: add --mtu for create/set network,ABANDONED,2019-02-12 12:10:41.000000000,2022-07-04 11:33:05.000000000,,"[{'_account_id': 3153}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 15554}, {'_account_id': 17503}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 25564}]","[{'number': 1, 'created': '2019-02-12 12:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/815338ed5dba8d86640c3bd8d46b0ef8d34b5be3', 'message': 'neutron: add --mtu for create/set network\n\nSupport Neutron network mtu configuration with a new argument, --mtu\nthat allows CLI users to set MTU for Neutron networks.\n\nStory: 2004973\nTask: 29428\n\nChange-Id: I93d23581c7e8c84eaf9bb3b293360036f60f456b\n(cherry picked from commit 18563b4132f794cc6612c2897795f96a31b565ae)\n(cherry picked from commit a3caf7b331709d76fc6aec5222c60688fd6112a9)\n'}, {'number': 2, 'created': '2019-02-14 14:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/20a73e231f2427514f66e6ea0bf2c91a14bf479a', 'message': 'neutron: add --mtu for create/set network\n\nSupport Neutron network mtu configuration with a new argument, --mtu\nthat allows CLI users to set MTU for Neutron networks.\n\nStory: 2004973\nTask: 29428\n\nChange-Id: I93d23581c7e8c84eaf9bb3b293360036f60f456b\n(cherry picked from commit 18563b4132f794cc6612c2897795f96a31b565ae)\n(cherry picked from commit a3caf7b331709d76fc6aec5222c60688fd6112a9)\n'}, {'number': 3, 'created': '2020-03-19 13:12:32.000000000', 'files': ['releasenotes/notes/neutron_mtu-d87e53e2d76f8612.yaml', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/network/v2/network.py', 'openstackclient/tests/unit/network/v2/test_network.py', 'doc/source/cli/command-objects/network.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8e9fb15d59cdb86e108bc45095e1b2758cd2e615', 'message': 'neutron: add --mtu for create/set network\n\nSupport Neutron network mtu configuration with a new argument, --mtu\nthat allows CLI users to set MTU for Neutron networks.\n\nStory: 2004973\nTask: 29428\n\nChange-Id: I93d23581c7e8c84eaf9bb3b293360036f60f456b\n(cherry picked from commit 18563b4132f794cc6612c2897795f96a31b565ae)\n(cherry picked from commit a3caf7b331709d76fc6aec5222c60688fd6112a9)\n'}]",2,636319,8e9fb15d59cdb86e108bc45095e1b2758cd2e615,20,8,3,17685,,,0,"neutron: add --mtu for create/set network

Support Neutron network mtu configuration with a new argument, --mtu
that allows CLI users to set MTU for Neutron networks.

Story: 2004973
Task: 29428

Change-Id: I93d23581c7e8c84eaf9bb3b293360036f60f456b
(cherry picked from commit 18563b4132f794cc6612c2897795f96a31b565ae)
(cherry picked from commit a3caf7b331709d76fc6aec5222c60688fd6112a9)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/19/636319/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/neutron_mtu-d87e53e2d76f8612.yaml', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/network/v2/network.py', 'openstackclient/tests/unit/network/v2/test_network.py', 'doc/source/cli/command-objects/network.rst']",5,815338ed5dba8d86640c3bd8d46b0ef8d34b5be3,story/2004973, [--mtu <mtu>].. option:: --mtu <mtu> Set network mtu *Network version 2 only* [--mtu <mtu>].. option:: --mtu <mtu> Set network mtu ,,41,0
openstack%2Fpython-openstackclient~stable%2Fpike~I1a92999758006d02567c542b6be8902a049899cc,openstack/python-openstackclient,stable/pike,I1a92999758006d02567c542b6be8902a049899cc,Fix server show for microversion 2.47,ABANDONED,2020-04-29 21:19:12.000000000,2022-07-04 11:33:03.000000000,,"[{'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-04-29 21:19:12.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'releasenotes/notes/bug-1751104-compute-api-2.47-4bfa21cfaa13f408.yaml', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/aab54a88fa16c817e37a046036bf1ba670b604ef', 'message': 'Fix server show for microversion 2.47\n\nCompute API version 2.47 embeds the server\'s internal\nflavor in the response. The original flavor id is not\npreserved since it could have changed if the flavor\nwas deleted and re-created after the server was created,\nwhich was the dreaded Horizon ""Edit Flavor"" issue.\nSo the flavor dict in the server response is a dict of\ninformation about the flavor representing the server\n""right now"" excluding the id. The original flavor name\nis shown though along with the ram/disk/vcpu etc\ninformation.\n\nThe server list command has a similar issue which\nwill be fixed in a follow up change.\n\nChange-Id: I1a92999758006d02567c542b6be8902a049899cc\nTask: 13864\nStory: 1751104\n(cherry picked from commit da7572a5ff9f54dbab4f8328632c562a2816a4fb)\n(cherry picked from commit 7569830768a72e14b61bb06c948349365535a11f)\n'}]",0,724424,aab54a88fa16c817e37a046036bf1ba670b604ef,7,5,1,17685,,,0,"Fix server show for microversion 2.47

Compute API version 2.47 embeds the server's internal
flavor in the response. The original flavor id is not
preserved since it could have changed if the flavor
was deleted and re-created after the server was created,
which was the dreaded Horizon ""Edit Flavor"" issue.
So the flavor dict in the server response is a dict of
information about the flavor representing the server
""right now"" excluding the id. The original flavor name
is shown though along with the ram/disk/vcpu etc
information.

The server list command has a similar issue which
will be fixed in a follow up change.

Change-Id: I1a92999758006d02567c542b6be8902a049899cc
Task: 13864
Story: 1751104
(cherry picked from commit da7572a5ff9f54dbab4f8328632c562a2816a4fb)
(cherry picked from commit 7569830768a72e14b61bb06c948349365535a11f)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/24/724424/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'releasenotes/notes/bug-1751104-compute-api-2.47-4bfa21cfaa13f408.yaml', 'openstackclient/compute/v2/server.py']",3,aab54a88fa16c817e37a046036bf1ba670b604ef,story/1751104," # Microversion 2.47 puts the embedded flavor into the server response # body but omits the id, so if not present we just expose the flavor # dict in the server output. if 'id' in flavor_info: flavor_id = flavor_info.get('id', '') try: flavor = utils.find_resource(compute_client.flavors, flavor_id) info['flavor'] = ""%s (%s)"" % (flavor.name, flavor_id) except Exception: info['flavor'] = flavor_id else: info['flavor'] = utils.format_dict(flavor_info) # TODO(mriedem): Fix this for microversion >= 2.47 where the # flavor is embedded in the server response without the id. # We likely need to drop the Flavor ID column in that case if # --long is specified. _description = _( ""Show server details. Specify ``--os-compute-api-version 2.47`` "" ""or higher to see the embedded flavor information for the server."")"," flavor_id = flavor_info.get('id', '') try: flavor = utils.find_resource(compute_client.flavors, flavor_id) info['flavor'] = ""%s (%s)"" % (flavor.name, flavor_id) except Exception: info['flavor'] = flavor_id _description = _(""Show server details"")",52,7
openstack%2Fpython-openstackclient~stable%2Fpike~If7d4a27c0aaef588bcd77dd9edddec1e535fbf31,openstack/python-openstackclient,stable/pike,If7d4a27c0aaef588bcd77dd9edddec1e535fbf31,Document 2.53 behavior for compute service list/delete,ABANDONED,2019-11-20 12:20:31.000000000,2022-07-04 11:32:41.000000000,,"[{'_account_id': 6873}, {'_account_id': 9542}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-20 12:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b67e0714982743f9d3ac4bd87cbd10b8b495b764', 'message': 'Document 2.53 behavior for compute service list/delete\n\nWith compute API microversion 2.53, nova-compute services\ncan only be deleted with the ID as a UUID to uniquely identify\nthe service in a multi-cell deployment. This documents that for\nthe ""compute service delete <service>"" argument. The description\nof the ""compute service list"" command is also updated to mention\nthat the ID can be retrieved as a UUID using 2.53 or greater.\n\nChange-Id: If7d4a27c0aaef588bcd77dd9edddec1e535fbf31\nStory: 2005349\nTask: 30302\n(cherry picked from commit 1557afb554e908e097abd39081891ea78083e20e)\n(cherry picked from commit 111d6a9b23d8c6b9bcce437039ff49536f0b5dd1)\n(cherry picked from commit 72922ae1a1b842b1a5058377f8033cbf09086b4c)\n(cherry picked from commit 5eedf36db63ed5edc2315faa85bd95eb201eaefe)\n'}, {'number': 2, 'created': '2019-11-20 14:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9e1cd790d162a85beed04a2cb57a4616e53b920f', 'message': 'Document 2.53 behavior for compute service list/delete\n\nWith compute API microversion 2.53, nova-compute services\ncan only be deleted with the ID as a UUID to uniquely identify\nthe service in a multi-cell deployment. This documents that for\nthe ""compute service delete <service>"" argument. The description\nof the ""compute service list"" command is also updated to mention\nthat the ID can be retrieved as a UUID using 2.53 or greater.\n\nChange-Id: If7d4a27c0aaef588bcd77dd9edddec1e535fbf31\nStory: 2005349\nTask: 30302\n(cherry picked from commit 1557afb554e908e097abd39081891ea78083e20e)\n(cherry picked from commit 111d6a9b23d8c6b9bcce437039ff49536f0b5dd1)\n(cherry picked from commit 72922ae1a1b842b1a5058377f8033cbf09086b4c)\n(cherry picked from commit 5eedf36db63ed5edc2315faa85bd95eb201eaefe)\n'}, {'number': 3, 'created': '2020-01-22 18:23:14.000000000', 'files': ['doc/source/cli/command-objects/compute-service.rst', 'openstackclient/compute/v2/service.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c1bd35d8ee97af12cf3407841dfa58a4feafd5a8', 'message': 'Document 2.53 behavior for compute service list/delete\n\nWith compute API microversion 2.53, nova-compute services\ncan only be deleted with the ID as a UUID to uniquely identify\nthe service in a multi-cell deployment. This documents that for\nthe ""compute service delete <service>"" argument. The description\nof the ""compute service list"" command is also updated to mention\nthat the ID can be retrieved as a UUID using 2.53 or greater.\n\nChange-Id: If7d4a27c0aaef588bcd77dd9edddec1e535fbf31\nStory: 2005349\nTask: 30302\n(cherry picked from commit 1557afb554e908e097abd39081891ea78083e20e)\n(cherry picked from commit 111d6a9b23d8c6b9bcce437039ff49536f0b5dd1)\n(cherry picked from commit 72922ae1a1b842b1a5058377f8033cbf09086b4c)\n(cherry picked from commit 5eedf36db63ed5edc2315faa85bd95eb201eaefe)\n'}]",0,695184,c1bd35d8ee97af12cf3407841dfa58a4feafd5a8,17,4,3,17685,,,0,"Document 2.53 behavior for compute service list/delete

With compute API microversion 2.53, nova-compute services
can only be deleted with the ID as a UUID to uniquely identify
the service in a multi-cell deployment. This documents that for
the ""compute service delete <service>"" argument. The description
of the ""compute service list"" command is also updated to mention
that the ID can be retrieved as a UUID using 2.53 or greater.

Change-Id: If7d4a27c0aaef588bcd77dd9edddec1e535fbf31
Story: 2005349
Task: 30302
(cherry picked from commit 1557afb554e908e097abd39081891ea78083e20e)
(cherry picked from commit 111d6a9b23d8c6b9bcce437039ff49536f0b5dd1)
(cherry picked from commit 72922ae1a1b842b1a5058377f8033cbf09086b4c)
(cherry picked from commit 5eedf36db63ed5edc2315faa85bd95eb201eaefe)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/84/695184/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/command-objects/compute-service.rst', 'openstackclient/compute/v2/service.py']",2,b67e0714982743f9d3ac4bd87cbd10b8b495b764,story/2005349," help=_(""Compute service(s) to delete (ID only). If using "" ""``--os-compute-api-version`` 2.53 or greater, the ID is "" ""a UUID which can be retrieved by listing compute services "" ""using the same 2.53+ microversion."") _description = _(""List compute services. Using "" ""``--os-compute-api-version`` 2.53 or greater will "" ""return the ID as a UUID value which can be used to "" ""uniquely identify the service in a multi-cell "" ""deployment."")"," help=_(""Compute service(s) to delete (ID only)"") _description = _(""List compute services"")",16,3
openstack%2Fpython-openstackclient~stable%2Fpike~I868e0868e8eb17e7e34eef3d2d58dceedd29c2b0,openstack/python-openstackclient,stable/pike,I868e0868e8eb17e7e34eef3d2d58dceedd29c2b0,Fix compute service set handling for 2.53+,ABANDONED,2019-11-20 12:18:28.000000000,2022-07-04 11:32:39.000000000,,"[{'_account_id': 6873}, {'_account_id': 9542}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-20 12:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9de62e1b9336dfc96eef353042d11a0f65f306b7', 'message': 'Fix compute service set handling for 2.53+\n\nWith compute API microversion 2.53 there is a single\nPUT /os-services/{service_id} API which takes the service\nid as a UUID. Since the openstack compute service set\ncommand only takes --host and --service (binary) to identify\nthe service, this change checks if 2.53 or greater is being\nused and if so, looks up the service by host and binary and\ncalls the appropriate methods in novaclient.\n\nIf the command cannot uniquely identify a compute service\nwith the given host and binary, an error is raised. A future\nchange could add an --id option to be used with 2.53+ to\npass the service id (as UUID) directly to avoid the host/binary\nfiltering.\n\nChange-Id: I868e0868e8eb17e7e34eef3d2d58dceedd29c2b0\nStory: 2005349\nTask: 30302\n(cherry picked from commit 4bd53dc1090fda86f6ce25b76a079e250c9206d8)\n(cherry picked from commit 100d34c54ecdfedf6fb40a2686e1aae1f54df97e)\n(cherry picked from commit fc5f2978c0f4f1e3360325b00c1f1b99f1e6318f)\n(cherry picked from commit 492a6c400169689182c077df5543f5ec1e481369)\n'}, {'number': 2, 'created': '2019-11-20 14:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3cb1829fc1f4009c2c196f80beabbb40925e0c39', 'message': ""Fix compute service set handling for 2.53+\n\nWith compute API microversion 2.53 there is a single\nPUT /os-services/{service_id} API which takes the service\nid as a UUID. Since the openstack compute service set\ncommand only takes --host and --service (binary) to identify\nthe service, this change checks if 2.53 or greater is being\nused and if so, looks up the service by host and binary and\ncalls the appropriate methods in novaclient.\n\nIf the command cannot uniquely identify a compute service\nwith the given host and binary, an error is raised. A future\nchange could add an --id option to be used with 2.53+ to\npass the service id (as UUID) directly to avoid the host/binary\nfiltering.\n\nNote(elod.illes): since patch Ib760c55e31209223338a4086ff1f4fee88dc6959\ndoes not exist in pike, openstackclient/tests/unit/compute/v2/fakes.py\nneeded to be extended with api_version field for FakeComputev2Client\nclass.\n\nNote(elod.illes): osc-functional-devstack job fails when fetching\nupper-constraints.txt because curl does not follow redirection by\ndefault. To fix this '-L' (Follow redirects) option added to curl\ncommand.\n\nChange-Id: I868e0868e8eb17e7e34eef3d2d58dceedd29c2b0\nStory: 2005349\nTask: 30302\n(cherry picked from commit 4bd53dc1090fda86f6ce25b76a079e250c9206d8)\n(cherry picked from commit 100d34c54ecdfedf6fb40a2686e1aae1f54df97e)\n(cherry picked from commit fc5f2978c0f4f1e3360325b00c1f1b99f1e6318f)\n(cherry picked from commit 492a6c400169689182c077df5543f5ec1e481369)\n""}, {'number': 3, 'created': '2020-01-22 18:23:14.000000000', 'files': ['tools/tox_install.sh', 'openstackclient/compute/v2/service.py', 'releasenotes/notes/story-2005349-compute-service-set-2.53-3d2db875154e633a.yaml', 'openstackclient/tests/unit/compute/v2/fakes.py', 'tox.ini', 'openstackclient/tests/unit/compute/v2/test_service.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ffb99c86c0b0f0fb4f8fa01049ebfe25db24f3ae', 'message': ""Fix compute service set handling for 2.53+\n\nWith compute API microversion 2.53 there is a single\nPUT /os-services/{service_id} API which takes the service\nid as a UUID. Since the openstack compute service set\ncommand only takes --host and --service (binary) to identify\nthe service, this change checks if 2.53 or greater is being\nused and if so, looks up the service by host and binary and\ncalls the appropriate methods in novaclient.\n\nIf the command cannot uniquely identify a compute service\nwith the given host and binary, an error is raised. A future\nchange could add an --id option to be used with 2.53+ to\npass the service id (as UUID) directly to avoid the host/binary\nfiltering.\n\nNote(elod.illes): since patch Ib760c55e31209223338a4086ff1f4fee88dc6959\ndoes not exist in pike, openstackclient/tests/unit/compute/v2/fakes.py\nneeded to be extended with api_version field for FakeComputev2Client\nclass.\n\nNote(elod.illes): osc-functional-devstack job fails when fetching\nupper-constraints.txt because curl does not follow redirection by\ndefault. To fix this '-L' (Follow redirects) option added to curl\ncommand.\n\nNote(pshchelo): pin functional tests to be run under Python2 as\nthey were when Pike was cut.\n\nChange-Id: I868e0868e8eb17e7e34eef3d2d58dceedd29c2b0\nStory: 2005349\nTask: 30302\n(cherry picked from commit 4bd53dc1090fda86f6ce25b76a079e250c9206d8)\n(cherry picked from commit 100d34c54ecdfedf6fb40a2686e1aae1f54df97e)\n(cherry picked from commit fc5f2978c0f4f1e3360325b00c1f1b99f1e6318f)\n(cherry picked from commit 492a6c400169689182c077df5543f5ec1e481369)\n""}]",0,695183,ffb99c86c0b0f0fb4f8fa01049ebfe25db24f3ae,16,5,3,17685,,,0,"Fix compute service set handling for 2.53+

With compute API microversion 2.53 there is a single
PUT /os-services/{service_id} API which takes the service
id as a UUID. Since the openstack compute service set
command only takes --host and --service (binary) to identify
the service, this change checks if 2.53 or greater is being
used and if so, looks up the service by host and binary and
calls the appropriate methods in novaclient.

If the command cannot uniquely identify a compute service
with the given host and binary, an error is raised. A future
change could add an --id option to be used with 2.53+ to
pass the service id (as UUID) directly to avoid the host/binary
filtering.

Note(elod.illes): since patch Ib760c55e31209223338a4086ff1f4fee88dc6959
does not exist in pike, openstackclient/tests/unit/compute/v2/fakes.py
needed to be extended with api_version field for FakeComputev2Client
class.

Note(elod.illes): osc-functional-devstack job fails when fetching
upper-constraints.txt because curl does not follow redirection by
default. To fix this '-L' (Follow redirects) option added to curl
command.

Note(pshchelo): pin functional tests to be run under Python2 as
they were when Pike was cut.

Change-Id: I868e0868e8eb17e7e34eef3d2d58dceedd29c2b0
Story: 2005349
Task: 30302
(cherry picked from commit 4bd53dc1090fda86f6ce25b76a079e250c9206d8)
(cherry picked from commit 100d34c54ecdfedf6fb40a2686e1aae1f54df97e)
(cherry picked from commit fc5f2978c0f4f1e3360325b00c1f1b99f1e6318f)
(cherry picked from commit 492a6c400169689182c077df5543f5ec1e481369)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/83/695183/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/service.py', 'releasenotes/notes/story-2005349-compute-service-set-2.53-3d2db875154e633a.yaml', 'openstackclient/tests/unit/compute/v2/test_service.py']",3,9de62e1b9336dfc96eef353042d11a0f65f306b7,story/2005349,"from novaclient import api_versionsimport six self.service.host, self.service.binary, False) self.service.host, self.service.binary, True) self.service.host, self.service.binary, True) self.service.host, self.service.binary, True) def test_service_set_2_53_disable_down(self): # Tests disabling and forcing down a compute service with microversion # 2.53 which requires looking up the service by host and binary. arglist = [ '--disable', '--down', self.service.host, self.service.binary, ] verifylist = [ ('disable', True), ('down', True), ('host', self.service.host), ('service', self.service.binary), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.app.client_manager.compute.api_version = api_versions.APIVersion( '2.53') service_id = '339478d0-0b95-4a94-be63-d5be05dfeb1c' self.service_mock.list.return_value = [mock.Mock(id=service_id)] result = self.cmd.take_action(parsed_args) self.service_mock.disable.assert_called_once_with(service_id) self.service_mock.force_down.assert_called_once_with(service_id, True) self.assertIsNone(result) def test_service_set_2_53_disable_reason(self): # Tests disabling with reason a compute service with microversion # 2.53 which requires looking up the service by host and binary. reason = 'earthquake' arglist = [ '--disable', '--disable-reason', reason, self.service.host, self.service.binary, ] verifylist = [ ('disable', True), ('disable_reason', reason), ('host', self.service.host), ('service', self.service.binary), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.app.client_manager.compute.api_version = api_versions.APIVersion( '2.53') service_id = '339478d0-0b95-4a94-be63-d5be05dfeb1c' self.service_mock.list.return_value = [mock.Mock(id=service_id)] result = self.cmd.take_action(parsed_args) self.service_mock.disable_log_reason.assert_called_once_with( service_id, reason) self.assertIsNone(result) def test_service_set_2_53_enable_up(self): # Tests enabling and bringing up a compute service with microversion # 2.53 which requires looking up the service by host and binary. arglist = [ '--enable', '--up', self.service.host, self.service.binary, ] verifylist = [ ('enable', True), ('up', True), ('host', self.service.host), ('service', self.service.binary), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.app.client_manager.compute.api_version = api_versions.APIVersion( '2.53') service_id = '339478d0-0b95-4a94-be63-d5be05dfeb1c' self.service_mock.list.return_value = [mock.Mock(id=service_id)] result = self.cmd.take_action(parsed_args) self.service_mock.enable.assert_called_once_with(service_id) self.service_mock.force_down.assert_called_once_with(service_id, False) self.assertIsNone(result) def test_service_set_find_service_by_host_and_binary_no_results(self): # Tests that no compute services are found by host and binary. self.service_mock.list.return_value = [] ex = self.assertRaises(exceptions.CommandError, self.cmd._find_service_by_host_and_binary, self.service_mock, 'fake-host', 'nova-compute') self.assertIn('Compute service for host ""fake-host"" and binary ' '""nova-compute"" not found.', six.text_type(ex)) def test_service_set_find_service_by_host_and_binary_many_results(self): # Tests that more than one compute service is found by host and binary. self.service_mock.list.return_value = [mock.Mock(), mock.Mock()] ex = self.assertRaises(exceptions.CommandError, self.cmd._find_service_by_host_and_binary, self.service_mock, 'fake-host', 'nova-compute') self.assertIn('Multiple compute services found for host ""fake-host"" ' 'and binary ""nova-compute"". Unable to proceed.', six.text_type(ex))"," self.service.host, self.service.binary, force_down=False) self.service.host, self.service.binary, force_down=True) self.service.host, self.service.binary, force_down=True) self.service.host, self.service.binary, force_down=True)",164,11
openstack%2Fpython-openstackclient~stable%2Fpike~Ie4fdc0c54a9c675d88f56fff5ab75b73a5e83957,openstack/python-openstackclient,stable/pike,Ie4fdc0c54a9c675d88f56fff5ab75b73a5e83957,Zuul: Remove project name,ABANDONED,2018-02-07 23:19:42.000000000,2022-07-04 11:32:12.000000000,,"[{'_account_id': 1}, {'_account_id': 970}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-07 23:19:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/da37d300fe58722a66e29f039ff2fe655bca2343', 'message': 'Zuul: Remove project name\n\nZuul no longer requires the project-name for in-repo configuration.\nOmitting it makes forking or renaming projects easier.\n\nChange-Id: Ie4fdc0c54a9c675d88f56fff5ab75b73a5e83957\n'}]",0,541936,da37d300fe58722a66e29f039ff2fe655bca2343,19,4,1,1,,,0,"Zuul: Remove project name

Zuul no longer requires the project-name for in-repo configuration.
Omitting it makes forking or renaming projects easier.

Change-Id: Ie4fdc0c54a9c675d88f56fff5ab75b73a5e83957
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/36/541936/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,da37d300fe58722a66e29f039ff2fe655bca2343,zuulv3-projects,, name: openstack/python-openstackclient,0,1
openstack%2Fpython-openstackclient~stable%2Fpike~I47c77f3e7efe112417d2b96936fcd0cafeb9442e,openstack/python-openstackclient,stable/pike,I47c77f3e7efe112417d2b96936fcd0cafeb9442e,Improve document 'openstack complete',ABANDONED,2018-10-19 01:10:16.000000000,2022-07-04 11:32:00.000000000,,"[{'_account_id': 11904}, {'_account_id': 19521}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-19 01:10:16.000000000', 'files': ['doc/source/cli/command-objects/complete.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5d1dc7b89396d14c1e3f660a14e0097b48541077', 'message': ""Improve document 'openstack complete'\n\nThe openstack complete command requires bash-completion package\nWithout the relevant package the bash completion doesn't work.\n\nChange-Id: I47c77f3e7efe112417d2b96936fcd0cafeb9442e\nCloses-Bug: #1798493\n""}]",0,611732,5d1dc7b89396d14c1e3f660a14e0097b48541077,5,3,1,19521,,,0,"Improve document 'openstack complete'

The openstack complete command requires bash-completion package
Without the relevant package the bash completion doesn't work.

Change-Id: I47c77f3e7efe112417d2b96936fcd0cafeb9442e
Closes-Bug: #1798493
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/32/611732/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/command-objects/complete.rst'],1,5d1dc7b89396d14c1e3f660a14e0097b48541077,bug/1798493-stable/pike,"It is highly recommended to install ``python-openstackclient`` from a package (``apt-get`` or ``yum``). In some distributions the package ``bash-completion`` is shipped as dependency, and the `openstack complete` command will be run as a post-install action, however not every distribution include this dependency and you might need to install ``bash-completion`` package to enable autocomplete feature.","If installing ``python-openstackclient`` from a package (``apt-get`` or ``yum``), then this command will likely be run for you.",5,2
openstack%2Fpython-openstackclient~stable%2Fpike~I9134dd2ba86868e1ff68ffb25f6c6925151aad1e,openstack/python-openstackclient,stable/pike,I9134dd2ba86868e1ff68ffb25f6c6925151aad1e,Use find_ip from openstacksdk,ABANDONED,2018-01-29 16:12:35.000000000,2022-07-04 11:31:52.000000000,,"[{'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-29 16:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3def7f6147278e4195b564aaba28594efa7c7f73', 'message': ""Use find_ip from openstacksdk\n\nThe find_ip from openstacksdk started being usable by OSC back in 0.9.15\nbut the local method never got replaced.\n\nOSC's use of _floating_ip.FloatingIP.list(session) for this purpose\nmakes stable/pike OSC break with master sdk. Updating this to use the\nfind_ip method which was in the stable/pike version of sdk removes the\nsite of inteface breakage.\n\nCherry-picked from master from I18a334280e5f384f8bb96198cdad79c612a02290\n\nChange-Id: I9134dd2ba86868e1ff68ffb25f6c6925151aad1e\n""}, {'number': 2, 'created': '2018-01-29 18:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/99f691d2297f7fe909b72dcb1c965ada0ed6ed51', 'message': ""Use find_ip from openstacksdk\n\nThe find_ip from openstacksdk started being usable by OSC back in 0.9.15\nbut the local method never got replaced.\n\nOSC's use of _floating_ip.FloatingIP.list(session) for this purpose\nmakes stable/pike OSC break with master sdk. Updating this to use the\nfind_ip method which was in the stable/pike version of sdk removes the\nsite of inteface breakage.\n\nCherry-picked from master from I18a334280e5f384f8bb96198cdad79c612a02290\n\nChange-Id: I9134dd2ba86868e1ff68ffb25f6c6925151aad1e\n""}, {'number': 3, 'created': '2018-01-29 22:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/01e4610d120711eee8594dbcc37dd809077dd8a7', 'message': ""Use find_ip from openstacksdk\n\nThe find_ip from openstacksdk started being usable by OSC back in 0.9.15\nbut the local method never got replaced.\n\nOSC's use of _floating_ip.FloatingIP.list(session) for this purpose\nmakes stable/pike OSC break with master sdk. Updating this to use the\nfind_ip method which was in the stable/pike version of sdk removes the\nsite of inteface breakage.\n\nCherry-picked from master from I18a334280e5f384f8bb96198cdad79c612a02290\n\nChange-Id: I9134dd2ba86868e1ff68ffb25f6c6925151aad1e\n""}, {'number': 4, 'created': '2018-01-31 00:10:48.000000000', 'files': ['openstackclient/network/v2/floating_ip.py', 'openstackclient/tests/unit/network/v2/test_floating_ip_network.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/87cc7cff1bf46e07c164d8401989bbd286a0e77d', 'message': ""Use find_ip from openstacksdk\n\nThe find_ip from openstacksdk started being usable by OSC back in 0.9.15\nbut the local method never got replaced.\n\nOSC's use of _floating_ip.FloatingIP.list(session) for this purpose\nmakes stable/pike OSC break with master sdk. Updating this to use the\nfind_ip method which was in the stable/pike version of sdk removes the\nsite of inteface breakage.\n\nCherry-picked from master from I18a334280e5f384f8bb96198cdad79c612a02290\n\nChange-Id: I9134dd2ba86868e1ff68ffb25f6c6925151aad1e\n""}]",0,538963,87cc7cff1bf46e07c164d8401989bbd286a0e77d,15,3,4,2,,,0,"Use find_ip from openstacksdk

The find_ip from openstacksdk started being usable by OSC back in 0.9.15
but the local method never got replaced.

OSC's use of _floating_ip.FloatingIP.list(session) for this purpose
makes stable/pike OSC break with master sdk. Updating this to use the
find_ip method which was in the stable/pike version of sdk removes the
site of inteface breakage.

Cherry-picked from master from I18a334280e5f384f8bb96198cdad79c612a02290

Change-Id: I9134dd2ba86868e1ff68ffb25f6c6925151aad1e
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/63/538963/2 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/network/v2/floating_ip.py'],1,3def7f6147278e4195b564aaba28594efa7c7f73,538963, obj = client.find_ip( obj = client.find_ip( obj = client.find_ip( obj = client.find_ip(,"def _find_floating_ip( session, name_or_id, ignore_missing=True, **params ): """"""Find a floating IP by IP or ID The SDK's find_ip() can only locate a floating IP by ID so we have to do this ourselves. """""" def _get_one_match(name_or_id): """"""Given a list of results, return the match"""""" the_result = None ip_list = list(_floating_ip.FloatingIP.list(session, **params)) for maybe_result in ip_list: id_value = maybe_result.id ip_value = maybe_result.floating_ip_address if (id_value == name_or_id) or (ip_value == name_or_id): # Only allow one resource to be found. If we already # found a match, raise an exception to show it. if the_result is None: the_result = maybe_result else: msg = ""More than one %s exists with the name '%s'."" msg = (msg % (_floating_ip.FloatingIP, name_or_id)) raise sdk_exceptions.DuplicateResource(msg) return the_result # Try to short-circuit by looking directly for a matching ID. try: match = _floating_ip.FloatingIP.existing(id=name_or_id, **params) return match.get(session) except sdk_exceptions.NotFoundException: pass result = _get_one_match(name_or_id) if result is not None: return result if ignore_missing: return None raise sdk_exceptions.ResourceNotFound( ""No %s found for %s"" % (_floating_ip.FloatingIP.__name__, name_or_id)) obj = _find_floating_ip( self.app.client_manager.sdk_connection.session, # TODO(sindhu) Use client.find_ip() once SDK 0.9.15 is released obj = _find_floating_ip( self.app.client_manager.sdk_connection.session, obj = _find_floating_ip( self.app.client_manager.sdk_connection.session, # TODO(sindhu) Use client.find_ip() once SDK 0.9.15 is released obj = _find_floating_ip( self.app.client_manager.sdk_connection.session,",4,58
openstack%2Fpython-openstackclient~stable%2Fpike~I96133a57883d22e98fcbb9fe0328d9e050472469,openstack/python-openstackclient,stable/pike,I96133a57883d22e98fcbb9fe0328d9e050472469,Support icmp-type and icmp-code to be set as zero,ABANDONED,2017-09-27 08:48:24.000000000,2022-07-04 11:31:44.000000000,,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 4978}, {'_account_id': 6482}]","[{'number': 1, 'created': '2017-09-27 08:48:24.000000000', 'files': ['releasenotes/notes/support-icmp-type-code-zero-cbef0a36db2b8123.yaml', 'openstackclient/tests/unit/network/v2/test_security_group_rule_network.py', 'openstackclient/network/v2/security_group_rule.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c2bcf8bdbf4acfc3991b312515b8061fc85b0c60', 'message': 'Support icmp-type and icmp-code to be set as zero\n\nWhen icmp-type or icmp-code are set to 0, the current implementation\nignores the value, this fix will allow the value to be copied and\ndisplayed\n\nChange-Id: I96133a57883d22e98fcbb9fe0328d9e050472469\nSigned-off-by: gvrangan <venkatrangang@hcl.com>\n(cherry picked from commit 221b7052abcefa56213a6516cecc6de9c73026d1)\n'}]",0,507791,c2bcf8bdbf4acfc3991b312515b8061fc85b0c60,6,4,1,17256,,,0,"Support icmp-type and icmp-code to be set as zero

When icmp-type or icmp-code are set to 0, the current implementation
ignores the value, this fix will allow the value to be copied and
displayed

Change-Id: I96133a57883d22e98fcbb9fe0328d9e050472469
Signed-off-by: gvrangan <venkatrangang@hcl.com>
(cherry picked from commit 221b7052abcefa56213a6516cecc6de9c73026d1)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/91/507791/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/network/v2/test_security_group_rule_network.py', 'releasenotes/notes/support-icmp-type-code-zero-cbef0a36db2b8123.yaml', 'openstackclient/network/v2/security_group_rule.py']",3,c2bcf8bdbf4acfc3991b312515b8061fc85b0c60,bug/1703704-stable/pike, if parsed_args.icmp_type is not None and parsed_args.icmp_type >= 0: if parsed_args.icmp_code is not None and parsed_args.icmp_code >= 0:, if parsed_args.icmp_type: if parsed_args.icmp_code:,177,2
openstack%2Fpython-openstackclient~stable%2Fwallaby~Id5c05ef7d7bb0a04b9d7a9d821e544e1ff7b3d28,openstack/python-openstackclient,stable/wallaby,Id5c05ef7d7bb0a04b9d7a9d821e544e1ff7b3d28,openstack image create: honor protection/visibility flags,MERGED,2022-07-01 13:35:09.000000000,2022-07-04 11:29:31.000000000,2022-07-04 11:28:23.000000000,"[{'_account_id': 10239}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-07-01 13:35:09.000000000', 'files': ['openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b39fe0b46380686e33b737633deff753d35691d9', 'message': 'openstack image create: honor protection/visibility flags\n\nThe --protected, --unprotected, --public, --shared, --community,\n--private flags were ignored when using --volume.\n\nChange-Id: Id5c05ef7d7bb0a04b9d7a9d821e544e1ff7b3d28\nStory: 2008882\n(cherry picked from commit 3918622968073738e8fa17eec8bf5512ed609af9)\n'}]",2,848448,b39fe0b46380686e33b737633deff753d35691d9,9,4,1,8122,,,0,"openstack image create: honor protection/visibility flags

The --protected, --unprotected, --public, --shared, --community,
--private flags were ignored when using --volume.

Change-Id: Id5c05ef7d7bb0a04b9d7a9d821e544e1ff7b3d28
Story: 2008882
(cherry picked from commit 3918622968073738e8fa17eec8bf5512ed609af9)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/48/848448/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/image/v2/image.py'],1,b39fe0b46380686e33b737633deff753d35691d9,wallaby," visibility=kwargs.get('visibility', 'private'), protected=True if parsed_args.protected else False",,2,0
openstack%2Fkolla-ansible~master~Idec79a53fad048f45139af3b8c72e85385ac80b6,openstack/kolla-ansible,master,Idec79a53fad048f45139af3b8c72e85385ac80b6,Don't disable neutron-bgp-dragent with OVN,MERGED,2022-07-03 20:04:47.000000000,2022-07-04 11:21:25.000000000,2022-07-04 11:20:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-07-03 20:04:47.000000000', 'files': ['ansible/roles/neutron/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f8683ccccaa44b836b5a158efe7183a4c572610', 'message': ""Don't disable neutron-bgp-dragent with OVN\n\nThe neutron-bgp-dragent container is also needed when using OVN as\nbackend plugin.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Idec79a53fad048f45139af3b8c72e85385ac80b6\n""}]",3,848547,3f8683ccccaa44b836b5a158efe7183a4c572610,11,3,1,13252,,,0,"Don't disable neutron-bgp-dragent with OVN

The neutron-bgp-dragent container is also needed when using OVN as
backend plugin.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: Idec79a53fad048f45139af3b8c72e85385ac80b6
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/47/848547/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/defaults/main.yml'],1,3f8683ccccaa44b836b5a158efe7183a4c572610,ovn-bgp," enabled: ""{{ enable_neutron_bgp_dragent | bool and neutron_plugin_agent not in ['vmware_nsxv', 'vmware_nsxv3', 'vmware_nsxp', 'vmware_dvs'] }}"""," enabled: ""{{ enable_neutron_bgp_dragent | bool and neutron_plugin_agent not in ['ovn', 'vmware_nsxv', 'vmware_nsxv3', 'vmware_nsxp', 'vmware_dvs'] }}""",1,1
openstack%2Fceilometer~master~Ic145c23cc0b0372ef78f4a45ffb084bec24936c3,openstack/ceilometer,master,Ic145c23cc0b0372ef78f4a45ffb084bec24936c3,Remove support for neutron-lbaas,MERGED,2022-04-12 02:04:08.000000000,2022-07-04 11:19:12.000000000,2022-07-04 11:17:01.000000000,"[{'_account_id': 4264}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-12 02:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6da59fda58fd0936542ee0e811c8f6572991e701', 'message': 'Remove support for neutron-lbaas\n\n... because it is of no use since neutron-lbaas was retired and was\nreplaced by Octavia. This feature was officially deprecated during\nYoga cycle[1] so we are ready to remove it.\n\n[1] 8917c73964eb764c3c4beb65d3713b36938181dd\n\nChange-Id: Ic145c23cc0b0372ef78f4a45ffb084bec24936c3\n'}, {'number': 2, 'created': '2022-05-03 15:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ab4fee8477721159e3f9fb0a51dfed29470bd46a', 'message': 'Remove support for neutron-lbaas\n\n... because it is of no use since neutron-lbaas was retired and was\nreplaced by Octavia. This feature was officially deprecated during\nYoga cycle[1] so we are ready to remove it.\n\n[1] 8917c73964eb764c3c4beb65d3713b36938181dd\n\nChange-Id: Ic145c23cc0b0372ef78f4a45ffb084bec24936c3\n'}, {'number': 3, 'created': '2022-05-26 03:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f7dfa7757cd0a62868e964f56c567f4972634d07', 'message': 'Remove support for neutron-lbaas\n\n... because it is of no use since neutron-lbaas was retired and was\nreplaced by Octavia. This feature was officially deprecated during\nYoga cycle[1] so we are ready to remove it.\n\n[1] 8917c73964eb764c3c4beb65d3713b36938181dd\n\nChange-Id: Ic145c23cc0b0372ef78f4a45ffb084bec24936c3\n'}, {'number': 4, 'created': '2022-06-08 14:44:35.000000000', 'files': ['ceilometer/tests/unit/network/services/test_lbaas.py', 'ceilometer/gnocchi_client.py', 'ceilometer/publisher/data/gnocchi_resources.yaml', 'doc/source/admin/telemetry-measurements.rst', 'ceilometer/network/services/discovery.py', 'ceilometer/pipeline/data/event_definitions.yaml', 'ceilometer/network/services/lbaas.py', 'ceilometer/tests/unit/test_neutronclient_lbaas_v2.py', 'releasenotes/notes/remove-neutron-lbaas-d3d4a5327f6a167a.yaml', 'ceilometer/neutron_client.py', 'setup.cfg', 'ceilometer/tests/unit/test_neutronclient.py', 'etc/ceilometer/examples/loadbalancer_v2_meter_definitions.yaml', 'ceilometer/tests/unit/network/services/test_lbaas_v2.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/318c54648c2c85d4f4f5425c5ffc5e5f3dda86f2', 'message': 'Remove support for neutron-lbaas\n\n... because it is of no use since neutron-lbaas was retired and was\nreplaced by Octavia. This feature was officially deprecated during\nYoga cycle[1] so we are ready to remove it.\n\n[1] 8917c73964eb764c3c4beb65d3713b36938181dd\n\nChange-Id: Ic145c23cc0b0372ef78f4a45ffb084bec24936c3\n'}]",3,837441,318c54648c2c85d4f4f5425c5ffc5e5f3dda86f2,18,5,4,9816,,,0,"Remove support for neutron-lbaas

... because it is of no use since neutron-lbaas was retired and was
replaced by Octavia. This feature was officially deprecated during
Yoga cycle[1] so we are ready to remove it.

[1] 8917c73964eb764c3c4beb65d3713b36938181dd

Change-Id: Ic145c23cc0b0372ef78f4a45ffb084bec24936c3
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/41/837441/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/unit/network/services/test_lbaas.py', 'ceilometer/gnocchi_client.py', 'ceilometer/publisher/data/gnocchi_resources.yaml', 'doc/source/admin/telemetry-measurements.rst', 'ceilometer/network/services/discovery.py', 'ceilometer/pipeline/data/event_definitions.yaml', 'ceilometer/network/services/lbaas.py', 'ceilometer/tests/unit/test_neutronclient_lbaas_v2.py', 'releasenotes/notes/remove-neutron-lbaas-d3d4a5327f6a167a.yaml', 'ceilometer/neutron_client.py', 'setup.cfg', 'ceilometer/tests/unit/test_neutronclient.py', 'etc/ceilometer/examples/loadbalancer_v2_meter_definitions.yaml', 'ceilometer/tests/unit/network/services/test_lbaas_v2.py']",14,6da59fda58fd0936542ee0e811c8f6572991e701,lbaas-removal,,"# # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from unittest import mock import fixtures from oslotest import base from ceilometer.network.services import discovery from ceilometer.network.services import lbaas from ceilometer.polling import manager from ceilometer.polling import plugin_base from ceilometer import service class _BaseTestLBPollster(base.BaseTestCase): def setUp(self): super(_BaseTestLBPollster, self).setUp() self.addCleanup(mock.patch.stopall) self.CONF = service.prepare_service([], []) self.manager = manager.AgentManager(0, self.CONF) plugin_base._get_keystone = mock.Mock() catalog = (plugin_base._get_keystone.session.auth.get_access. return_value.service_catalog) catalog.get_endpoints = mock.MagicMock( return_value={'network': mock.ANY}) class TestLBListenerPollster(_BaseTestLBPollster): def setUp(self): super(TestLBListenerPollster, self).setUp() self.pollster = lbaas.LBListenerPollster(self.CONF) self.pollster.lb_version = 'v2' fake_listeners = self.fake_list_listeners() self.useFixture(fixtures.MockPatch('ceilometer.neutron_client.Client.' 'list_listener', return_value=fake_listeners)) @staticmethod def fake_list_listeners(): return [{'default_pool_id': None, 'protocol': 'HTTP', 'description': '', 'loadbalancers': [ {'id': 'a9729389-6147-41a3-ab22-a24aed8692b2'}], 'id': '35cb8516-1173-4035-8dae-0dae3453f37f', 'name': 'mylistener_online', 'admin_state_up': True, 'connection_limit': 100, 'tenant_id': '3e4d8bec50a845fcb09e03a4375c691d', 'protocol_port': 80, 'operating_status': 'ONLINE'}, {'default_pool_id': None, 'protocol': 'HTTP', 'description': '', 'loadbalancers': [ {'id': 'ce73ad36-437d-4c84-aee1-186027d3da9a'}], 'id': 'cd6a6fee-e2fa-4e6c-b3c2-bfbe395752c1', 'name': 'mylistener_offline', 'admin_state_up': True, 'connection_limit': 100, 'tenant_id': '3e4d8bec50a845fcb09e03a4375c691d', 'protocol_port': 80, 'operating_status': 'OFFLINE'}, {'default_pool_id': None, 'protocol': 'HTTP', 'description': '', 'loadbalancers': [ {'id': 'fe7rad36-437d-4c84-aee1-186027d3bdcd'}], 'id': 'bbe3d818-bdcb-4e4b-b47f-5650dc8a9d7a', 'name': 'mylistener_error', 'admin_state_up': True, 'connection_limit': 100, 'tenant_id': '3e4d8bec50a845fcb09e03a4375c691d', 'protocol_port': 80, 'operating_status': 'ERROR'}, {'default_pool_id': None, 'protocol': 'HTTP', 'description': '', 'loadbalancers': [ {'id': 'fe7rad36-437d-4c84-aee1-186027d3bdcd'}], 'id': 'bbe3d818-bdcb-4e4b-b47f-5650dc8a9d7a', 'name': 'mylistener_pending_create', 'admin_state_up': True, 'connection_limit': 100, 'tenant_id': '3e4d8bec50a845fcb09e03a4375c691d', 'protocol_port': 80, 'operating_status': 'PENDING_CREATE'} ] def test_listener_get_samples(self): samples = list(self.pollster.get_samples( self.manager, {}, resources=self.fake_list_listeners())) self.assertEqual(3, len(samples)) for field in self.pollster.FIELDS: self.assertEqual(self.fake_list_listeners()[0][field], samples[0].resource_metadata[field]) def test_listener_volume(self): samples = list(self.pollster.get_samples( self.manager, {}, resources=self.fake_list_listeners())) self.assertEqual(1, samples[0].volume) self.assertEqual(0, samples[1].volume) self.assertEqual(4, samples[2].volume) def test_list_listener_meter_names(self): samples = list(self.pollster.get_samples( self.manager, {}, resources=self.fake_list_listeners())) self.assertEqual(set(['network.services.lb.listener']), set([s.name for s in samples])) def test_listener_discovery(self): discovered_listeners = discovery.LBListenersDiscovery( self.CONF).discover(self.manager) self.assertEqual(4, len(discovered_listeners)) for listener in self.fake_list_listeners(): if listener['operating_status'] == 'pending_create': self.assertNotIn(listener, discovered_listeners) else: self.assertIn(listener, discovered_listeners) class TestLBLoadBalancerPollster(_BaseTestLBPollster): def setUp(self): super(TestLBLoadBalancerPollster, self).setUp() self.pollster = lbaas.LBLoadBalancerPollster(self.CONF) self.pollster.lb_version = 'v2' fake_loadbalancers = self.fake_list_loadbalancers() self.useFixture(fixtures.MockPatch('ceilometer.neutron_client.Client.' 'list_loadbalancer', return_value=fake_loadbalancers)) @staticmethod def fake_list_loadbalancers(): return [{'operating_status': 'ONLINE', 'description': '', 'admin_state_up': True, 'tenant_id': '1a3e005cf9ce40308c900bcb08e5320c', 'provisioning_status': 'ACTIVE', 'listeners': [{'id': 'fe7rad36-437d-4c84-aee1-186027d3bdcd'}], 'vip_address': '10.0.0.2', 'vip_subnet_id': '013d3059-87a4-45a5-91e9-d721068ae0b2', 'id': 'cd6a6fee-e2fa-4e6c-b3c2-bfbe395752c1', 'name': 'loadbalancer_online'}, {'operating_status': 'OFFLINE', 'description': '', 'admin_state_up': True, 'tenant_id': '1a3e005cf9ce40308c900bcb08e5320c', 'provisioning_status': 'INACTIVE', 'listeners': [{'id': 'bbe3d818-bdcb-4e4b-b47f-5650dc8a9d7a'}], 'vip_address': '10.0.0.3', 'vip_subnet_id': 'ce73ad36-437d-4c84-aee1-186027d3da9a', 'id': 'bbe3d818-bdcb-4e4b-b47f-5650dc8a9d7a', 'name': 'loadbalancer_offline'}, {'operating_status': 'ERROR', 'description': '', 'admin_state_up': True, 'tenant_id': '1a3e005cf9ce40308c900bcb08e5320c', 'provisioning_status': 'INACTIVE', 'listeners': [{'id': 'bbe3d818-bdcb-4e4b-b47f-5650dc8a9d8b'}], 'vip_address': '10.0.0.4', 'vip_subnet_id': '213d3059-87a4-45a5-91e9-d721068df0b2', 'id': 'cd6a6fee-e2fa-4e6c-b3c2-bfbe395752c1', 'name': 'loadbalancer_error'}, {'operating_status': 'PENDING_CREATE', 'description': '', 'admin_state_up': True, 'tenant_id': '1a3e005cf9ce40308c900bcb08e5320c', 'provisioning_status': 'INACTIVE', 'listeners': [{'id': 'fe7rad36-437d-4c84-aee1-186027d4ed7c'}], 'vip_address': '10.0.0.5', 'vip_subnet_id': '123d3059-87a4-45a5-91e9-d721068ae0c3', 'id': 'cd6a6fee-e2fa-4e6c-b3c2-bfbe395763b2', 'name': 'loadbalancer_pending_create'} ] def test_loadbalancer_get_samples(self): samples = list(self.pollster.get_samples( self.manager, {}, resources=self.fake_list_loadbalancers())) self.assertEqual(3, len(samples)) for field in self.pollster.FIELDS: self.assertEqual(self.fake_list_loadbalancers()[0][field], samples[0].resource_metadata[field]) def test_loadbalancer_volume(self): samples = list(self.pollster.get_samples( self.manager, {}, resources=self.fake_list_loadbalancers())) self.assertEqual(1, samples[0].volume) self.assertEqual(0, samples[1].volume) self.assertEqual(4, samples[2].volume) def test_list_loadbalancer_meter_names(self): samples = list(self.pollster.get_samples( self.manager, {}, resources=self.fake_list_loadbalancers())) self.assertEqual(set(['network.services.lb.loadbalancer']), set([s.name for s in samples])) def test_loadbalancer_discovery(self): discovered_loadbalancers = discovery.LBLoadBalancersDiscovery( self.CONF).discover(self.manager) self.assertEqual(4, len(discovered_loadbalancers)) for loadbalancer in self.fake_list_loadbalancers(): if loadbalancer['operating_status'] == 'pending_create': self.assertNotIn(loadbalancer, discovered_loadbalancers) else: self.assertIn(loadbalancer, discovered_loadbalancers) class TestLBStatsPollster(_BaseTestLBPollster): def setUp(self): super(TestLBStatsPollster, self).setUp() fake_balancer_stats = self.fake_balancer_stats() self.useFixture(fixtures.MockPatch('ceilometer.neutron_client.Client.' 'get_loadbalancer_stats', return_value=fake_balancer_stats)) fake_loadbalancers = self.fake_list_loadbalancers() self.useFixture(fixtures.MockPatch('ceilometer.neutron_client.Client.' 'list_loadbalancer', return_value=fake_loadbalancers)) self.CONF.set_override('neutron_lbaas_version', 'v2', group='service_types') @staticmethod def fake_list_loadbalancers(): return [{'operating_status': 'ONLINE', 'description': '', 'admin_state_up': True, 'tenant_id': '1a3e005cf9ce40308c900bcb08e5320c', 'provisioning_status': 'ACTIVE', 'listeners': [{'id': 'fe7rad36-437d-4c84-aee1-186027d3bdcd'}], 'vip_address': '10.0.0.2', 'vip_subnet_id': '013d3059-87a4-45a5-91e9-d721068ae0b2', 'id': 'cd6a6fee-e2fa-4e6c-b3c2-bfbe395752c1', 'name': 'loadbalancer_online'}, ] @staticmethod def fake_balancer_stats(): return {'active_connections': 2, 'bytes_in': 1, 'bytes_out': 3, 'total_connections': 4} def _check_get_samples(self, factory, sample_name, expected_volume, expected_type): pollster = factory(self.CONF) cache = {} samples = list(pollster.get_samples(self.manager, cache, self.fake_list_loadbalancers())) self.assertEqual(1, len(samples)) self.assertIsNotNone(samples) self.assertIn('lbstats', cache) self.assertEqual(set([sample_name]), set([s.name for s in samples])) match = [s for s in samples if s.name == sample_name] self.assertEqual(1, len(match), 'missing counter %s' % sample_name) self.assertEqual(expected_volume, match[0].volume) self.assertEqual(expected_type, match[0].type) def test_lb_total_connections(self): self._check_get_samples(lbaas.LBTotalConnectionsPollster, 'network.services.lb.total.connections', 4, 'cumulative') def test_lb_active_connections(self): self._check_get_samples(lbaas.LBActiveConnectionsPollster, 'network.services.lb.active.connections', 2, 'gauge') def test_lb_incoming_bytes(self): self._check_get_samples(lbaas.LBBytesInPollster, 'network.services.lb.incoming.bytes', 1, 'gauge') def test_lb_outgoing_bytes(self): self._check_get_samples(lbaas.LBBytesOutPollster, 'network.services.lb.outgoing.bytes', 3, 'gauge') ",5,2564
openstack%2Fceilometer~master~I8463537ca09db2f0bc443505afaab6a1f9ff5db2,openstack/ceilometer,master,I8463537ca09db2f0bc443505afaab6a1f9ff5db2,Remove [coordination] check_watchers,MERGED,2022-06-25 22:46:23.000000000,2022-07-04 11:18:10.000000000,2022-07-04 11:16:59.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-25 22:46:23.000000000', 'files': ['ceilometer/opts.py', 'releasenotes/notes/remove-check_watchers-a7c955703b6d9f57.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3400ad134b80512fd3a06ff8760e80b0abeaafb6', 'message': 'Remove [coordination] check_watchers\n\nThis parameter has had no effect for several cycles and was officially\ndeprecated during Xena cycle[1].\n\n[1] 46ad2786ae48f41a97a014fd140f022ee3ee3c1c\n\nRelated-Bug: #1929178\nChange-Id: I8463537ca09db2f0bc443505afaab6a1f9ff5db2\n'}]",0,847647,3400ad134b80512fd3a06ff8760e80b0abeaafb6,10,3,1,9816,,,0,"Remove [coordination] check_watchers

This parameter has had no effect for several cycles and was officially
deprecated during Xena cycle[1].

[1] 46ad2786ae48f41a97a014fd140f022ee3ee3c1c

Related-Bug: #1929178
Change-Id: I8463537ca09db2f0bc443505afaab6a1f9ff5db2
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/47/847647/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/opts.py', 'releasenotes/notes/remove-check_watchers-a7c955703b6d9f57.yaml']",2,3400ad134b80512fd3a06ff8760e80b0abeaafb6,bug/1929178,--- upgrade: - | The ``[coordination] check_watchers`` parameter has been removed. ,,5,8
openstack%2Fpython-openstackclient~master~I02cc95bab04e8373de389a344cdf70abd0dc288d,openstack/python-openstackclient,master,I02cc95bab04e8373de389a344cdf70abd0dc288d,image: Simplify list image parser,ABANDONED,2022-06-21 10:26:14.000000000,2022-07-04 11:08:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-21 10:26:14.000000000', 'files': ['openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/47d2d0782a8bbf68fd219ed8d1a1de7c33def311', 'message': 'image: Simplify list image parser\n\nMake use of some argarse features.\n\nChange-Id: I02cc95bab04e8373de389a344cdf70abd0dc288d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,846994,47d2d0782a8bbf68fd219ed8d1a1de7c33def311,3,1,1,15334,,,0,"image: Simplify list image parser

Make use of some argarse features.

Change-Id: I02cc95bab04e8373de389a344cdf70abd0dc288d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/94/846994/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/image/v2/image.py']",2,47d2d0782a8bbf68fd219ed8d1a1de7c33def311,trivial," dest=""visibility"", const=""public"", action=""store_const"", dest=""visibility"", const=""private"", action=""store_const"", dest=""visibility"", const=""community"", action=""store_const"", dest=""visibility"", const=""shared"", action=""store_const"", dest=""visibility"", const=""all"", action=""store_const"", if parsed_args.visibility: kwargs['visibility'] = parsed_args.visibility"," dest=""public"", action=""store_true"", default=False, dest=""private"", action=""store_true"", default=False, dest=""community"", action=""store_true"", default=False, dest=""shared"", action=""store_true"", default=False, dest=""all"", action=""store_true"", if parsed_args.public: kwargs['visibility'] = 'public' if parsed_args.private: kwargs['visibility'] = 'private' if parsed_args.community: kwargs['visibility'] = 'community' if parsed_args.shared: kwargs['visibility'] = 'shared' if parsed_args.all: kwargs['visibility'] = 'all'",25,64
openstack%2Fpython-openstackclient~master~I27871459db2e28af8a77009abe5d5187da2967f2,openstack/python-openstackclient,master,I27871459db2e28af8a77009abe5d5187da2967f2,Support listing all images a user has access to,ABANDONED,2022-06-08 15:14:20.000000000,2022-07-04 11:07:10.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-08 15:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f72d6679b6ef4d26e32230f836f8ed61605aefd3', 'message': 'Support listing all images a user has access to\n\nCloses-Bug: 975\n\nSigned-off-by: Alex Iribarren <Alex.Iribarren@cern.ch>\nChange-Id: I27871459db2e28af8a77009abe5d5187da2967f2\n'}, {'number': 2, 'created': '2022-06-08 15:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a3bd488cffa57fac48b219f8d231d9a1660e7efb', 'message': 'Support listing all images a user has access to\n\nStory: 2010071\n\nSigned-off-by: Alex Iribarren <Alex.Iribarren@cern.ch>\nChange-Id: I27871459db2e28af8a77009abe5d5187da2967f2\n'}, {'number': 3, 'created': '2022-06-08 15:21:51.000000000', 'files': ['openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b381e9b160789f7ac8776e1a0f2796be77c4105f', 'message': 'Support listing all images a user has access to\n\nStory: 2010071\nTask: 45556\n\nSigned-off-by: Alex Iribarren <Alex.Iribarren@cern.ch>\nChange-Id: I27871459db2e28af8a77009abe5d5187da2967f2\n'}]",1,845150,b381e9b160789f7ac8776e1a0f2796be77c4105f,9,2,3,32370,,,0,"Support listing all images a user has access to

Story: 2010071
Task: 45556

Signed-off-by: Alex Iribarren <Alex.Iribarren@cern.ch>
Change-Id: I27871459db2e28af8a77009abe5d5187da2967f2
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/50/845150/2 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/image/v2/image.py'],1,f72d6679b6ef4d26e32230f836f8ed61605aefd3,bug/975," public_group.add_argument( ""--all"", dest=""all"", action=""store_true"", default=False, help=_(""List all images""), ) if parsed_args.all: kwargs['visibility'] = 'all'",,9,0
openstack%2Fpython-openstackclient~stable%2Fussuri~Iab3634039845adb649c7fd69d1812b405a61433c,openstack/python-openstackclient,stable/ussuri,Iab3634039845adb649c7fd69d1812b405a61433c,Fix gate due to switch to focal,ABANDONED,2022-07-04 06:20:43.000000000,2022-07-04 11:02:17.000000000,,"[{'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-04 06:20:43.000000000', 'files': ['bindep.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/99d7177c32397e0f30b0b33cd92acecd5787bf78', 'message': 'Fix gate due to switch to focal\n\nIn focal we do not have libffi6.\ncffi and greenlet versions in lower-contraints are too old.\n\nChange-Id: Iab3634039845adb649c7fd69d1812b405a61433c\n(cherry picked from commit 99b5adf9c65d3cd2e2aa8c40c08a478fae0a49f3)\n'}]",2,848508,99d7177c32397e0f30b0b33cd92acecd5787bf78,5,3,1,5112,,,0,"Fix gate due to switch to focal

In focal we do not have libffi6.
cffi and greenlet versions in lower-contraints are too old.

Change-Id: Iab3634039845adb649c7fd69d1812b405a61433c
(cherry picked from commit 99b5adf9c65d3cd2e2aa8c40c08a478fae0a49f3)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/08/848508/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'lower-constraints.txt']",2,99d7177c32397e0f30b0b33cd92acecd5787bf78,migrate-to-focal-stable/ussuri,cffi==1.14.0greenlet==0.4.15,cffi==1.7.0greenlet==0.4.10,2,3
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~If839245b306370095ad21d753e9f5d4c98f1740c,openstack/tripleo-heat-templates,stable/wallaby,If839245b306370095ad21d753e9f5d4c98f1740c,Add generated deployed network environment,MERGED,2022-07-01 20:45:40.000000000,2022-07-04 10:46:51.000000000,2022-07-04 10:46:51.000000000,"[{'_account_id': 9816}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-07-01 20:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bdc2542e6758c861a4a7fa62fc9b34ac7d2bef99', 'message': 'Add generated deployed network environment\n\nThe environments/deployed-network-environment.j2.yaml template will\ngenerate an environment file based entirely off of the used roles data\nand network data files that can be used in place of the generated\nenvironments from the ""overcloud network"" commands.\n\nFor environments without Neutron, the generated file is easier than\nhaving to define all these parameter values manually.\n\nChange-Id: If839245b306370095ad21d753e9f5d4c98f1740c\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 925af6378e8740792fa0bc3fb0f241cf2fed863f)\n'}, {'number': 2, 'created': '2022-07-01 21:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5556f350cfe9c9d03cbe1336c4eeb75afb15369f', 'message': 'Add generated deployed network environment\n\nThe environments/deployed-network-environment.j2.yaml template will\ngenerate an environment file based entirely off of the used roles data\nand network data files that can be used in place of the generated\nenvironments from the ""overcloud network"" commands.\n\nFor environments without Neutron, the generated file is easier than\nhaving to define all these parameter values manually.\n\nChange-Id: If839245b306370095ad21d753e9f5d4c98f1740c\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 925af6378e8740792fa0bc3fb0f241cf2fed863f)\n'}, {'number': 3, 'created': '2022-07-02 10:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a13dfa679ef847b058d79bfac932c512c6492e5', 'message': 'Add generated deployed network environment\n\nThe environments/deployed-network-environment.j2.yaml template will\ngenerate an environment file based entirely off of the used roles data\nand network data files that can be used in place of the generated\nenvironments from the ""overcloud network"" commands.\n\nFor environments without Neutron, the generated file is easier than\nhaving to define all these parameter values manually.\n\nChange-Id: If839245b306370095ad21d753e9f5d4c98f1740c\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 925af6378e8740792fa0bc3fb0f241cf2fed863f)\n'}, {'number': 4, 'created': '2022-07-02 12:07:36.000000000', 'files': ['.gitignore', 'environments/deployed-network-environment.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8550b8482fab548d24304f2f7014bd277560eb1c', 'message': 'Add generated deployed network environment\n\nThe environments/deployed-network-environment.j2.yaml template will\ngenerate an environment file based entirely off of the used roles data\nand network data files that can be used in place of the generated\nenvironments from the ""overcloud network"" commands.\n\nFor environments without Neutron, the generated file is easier than\nhaving to define all these parameter values manually.\n\nChange-Id: If839245b306370095ad21d753e9f5d4c98f1740c\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 925af6378e8740792fa0bc3fb0f241cf2fed863f)\n'}]",5,848473,8550b8482fab548d24304f2f7014bd277560eb1c,26,5,4,7144,,,0,"Add generated deployed network environment

The environments/deployed-network-environment.j2.yaml template will
generate an environment file based entirely off of the used roles data
and network data files that can be used in place of the generated
environments from the ""overcloud network"" commands.

For environments without Neutron, the generated file is easier than
having to define all these parameter values manually.

Change-Id: If839245b306370095ad21d753e9f5d4c98f1740c
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit 925af6378e8740792fa0bc3fb0f241cf2fed863f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/848473/4 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'environments/deployed-network-environment.j2.yaml']",2,bdc2542e6758c861a4a7fa62fc9b34ac7d2bef99,,"# DeployedNetworkEnvironment parameter value generated from the networks data # file. Can be used instead of provisioning networks to deploy without Neutron. resource_registry: OS::TripleO::Network: ../network/deployed_networks.yaml OS::TripleO::DeployedServer::ControlPlanePort: ../deployed-server/deployed-neutron-port.yaml # Role ports {%- for role in roles %} {%- for network in networks if network.enabled|default(true) and network.name in role.networks %} OS::TripleO::{{ role.name }}::Ports::{{ network.name }}Port: ../network/ports/deployed_{{ network.name_lower }}.yaml {%- endfor %} {%- endfor %} # VIP ports OS::TripleO::Network::Ports::ControlPlaneVipPort: ../network/ports/deployed_vip_ctlplane.yaml {%- for network in networks if network.enabled|default(true) and network.vip %} OS::TripleO::Network::Ports::{{ network.name }}VipPort: ../network/ports/deployed_vip_{{ network.name_lower }}.yaml {%- endfor %} parameter_defaults: DeployedNetworkEnvironment: net_attributes_map: {%- for network in networks if network.enabled|default(true) %} {%- set dns_domain = network.dns_domain|default(network.name_lower ~ '.localdomain.') %} {{ network.name_lower }}: network: dns_domain: {{ dns_domain }} mtu: {{ network.mtu }} name: {{ network.name_lower }} tags: - tripleo_network_name={{ network.name }} - tripleo_net_idx={{ loop.index - 1 }} - tripleo_vip={{ network.vip }} subnets: {%- for subnet in network.subnets %} {{ subnet }}: cidr: {{ network.subnets[subnet].ip_subnet }} dns_nameservers: [] gateway_ip: {{ network.subnets[subnet].gateway_ip }} host_routes: [] ip_version: 4 name: {{ subnet }} tags: {%- if network.subnets[subnet].vlan %} - tripleo_vlan_id={{ network.subnets[subnet].vlan }} {%- else %} [] {%- endif %} {%- endfor %} {%- endfor %} net_cidr_map: {%- for network in networks if network.enabled|default(true) %} {%- for subnet in network.subnets %} {{ network.name_lower }}: - {{ network.subnets[subnet].ip_subnet }} {%- endfor %} {%- endfor %} net_ip_version_map: {%- for network in networks if network.enabled|default(true) %} {{ network.name_lower }}: {{ ""6"" if network.ipv6 else ""4"" }} {%- endfor %} ",,66,0
openstack%2Fmanila~master~I2c47363e9a55547f73b6a060afe44162238ea92f,openstack/manila,master,I2c47363e9a55547f73b6a060afe44162238ea92f,manila oversubscription enhancements,NEW,2022-04-20 09:41:24.000000000,2022-07-04 10:31:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-20 09:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d7422f433800de25c6769f4b72a080071fe1abc5', 'message': 'manila oversubscription enhancements\n\nPartially-Implements: blueprint manila-oversubscription-enhancements\n\nChange-Id: I2c47363e9a55547f73b6a060afe44162238ea92f\n'}, {'number': 2, 'created': '2022-04-21 05:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c53070ae45751643b226826fda354bfbfb714984', 'message': 'manila oversubscription enhancements\n\nPartially-Implements: blueprint manila-oversubscription-enhancements\n\nChange-Id: I2c47363e9a55547f73b6a060afe44162238ea92f\n'}, {'number': 3, 'created': '2022-04-24 03:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/246a3aac81755cbf8787f04f53a5a59bf06671e4', 'message': 'manila oversubscription enhancements\n\nPartially-Implements: blueprint manila-oversubscription-enhancements\n\nChange-Id: I2c47363e9a55547f73b6a060afe44162238ea92f\n'}, {'number': 4, 'created': '2022-04-24 03:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/42af00c331ef9fd45f5b92d579713b32ccb97203', 'message': 'manila oversubscription enhancements\n\nPartially-Implements: blueprint manila-oversubscription-enhancements\n\nChange-Id: I2c47363e9a55547f73b6a060afe44162238ea92f\n'}, {'number': 5, 'created': '2022-07-04 07:16:49.000000000', 'files': ['manila/share/manager.py', 'manila/scheduler/host_manager.py', 'manila/tests/scheduler/test_host_manager.py', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/3f1580c9d54b4ea8c46aeb83dd204f3346c9fe75', 'message': 'manila oversubscription enhancements\n\nPartially-Implements: blueprint manila-oversubscription-enhancements\n\nChange-Id: I2c47363e9a55547f73b6a060afe44162238ea92f\n'}]",1,838672,3f1580c9d54b4ea8c46aeb83dd204f3346c9fe75,27,1,5,30407,,,0,"manila oversubscription enhancements

Partially-Implements: blueprint manila-oversubscription-enhancements

Change-Id: I2c47363e9a55547f73b6a060afe44162238ea92f
",git fetch https://review.opendev.org/openstack/manila refs/changes/72/838672/5 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/manager.py', 'manila/scheduler/host_manager.py']",2,d7422f433800de25c6769f4b72a080071fe1abc5,bp/manila-oversubscription-enhancements," # NOTE(haixin): provisioned_capacity_gb is equal to the sum of # allocated_capacity_gb add shares_gb_created_manually (or # another manila) on the same storage pool. # using allocated_capacity_gb as the default of # provisioned_capacity_gb if it is not set. At this point, Manila # is considered to be monopolizing the storage back-end. # Whether thin_provisioning is supported or not, we always # calculate provisioned_capacity_gb. since it is important for # administrators to know this values in order to obtain information # about back-end allocated capacity. 'provisioned_capacity_gb', self.allocated_capacity_gb)"," def _estimate_provisioned_capacity(self, host_name, context=None): """"""Estimate provisioned capacity from share sizes on backend."""""" provisioned_capacity = 0 instances = db.share_instances_get_all_by_host( context, host_name, with_share_data=True) for instance in instances: # Size of share instance that's still being created, will be None. provisioned_capacity += instance['size'] or 0 return provisioned_capacity # NOTE(nidhimittalhada): If 'provisioned_capacity_gb' is not set, # then calculating 'provisioned_capacity_gb' from share sizes # on host, as per information available in manila database. # NOTE(jose-castro-leon): Only calculate provisioned_capacity_gb # on thin provisioned pools 'provisioned_capacity_gb') if self.thin_provisioning and self.provisioned_capacity_gb is None: self.provisioned_capacity_gb = ( self._estimate_provisioned_capacity(self.host, context=context))",36,23
openstack%2Fheat~stable%2Fyoga~Ic6125c6af60c1007243523cc8510a17f49c7b5af,openstack/heat,stable/yoga,Ic6125c6af60c1007243523cc8510a17f49c7b5af,Fix parameter merging with merge strategies,MERGED,2022-07-04 07:05:27.000000000,2022-07-04 10:22:08.000000000,2022-07-04 10:20:52.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-07-04 07:05:27.000000000', 'files': ['heat/tests/test_common_env_util.py', 'heat/common/environment_util.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/154691d21d24351edbe066fd23c731afad456b85', 'message': 'Fix parameter merging with merge strategies\n\nEarlier users had to specify merge strategy for\na parameter/parameter_default in every environment\nfile where they are used(or the defaults for that\nenvironment was used). However, the strategy\nfor a parameter in the first environment was\nignored as there is nothing to merge.\n\nWith Iec3367667248d0b46196a6d569f3cbb3b200d842, we\nchanged to use existing merge strategies, but the\nstrategies in the first environment were still\nignored. This patch fixes it.\n\nTask: 45578\nChange-Id: Ic6125c6af60c1007243523cc8510a17f49c7b5af\n(cherry picked from commit d9fe7301b3af2db9fa56d59eb405add94730ba50)\n'}]",0,848590,154691d21d24351edbe066fd23c731afad456b85,9,3,1,9816,,,0,"Fix parameter merging with merge strategies

Earlier users had to specify merge strategy for
a parameter/parameter_default in every environment
file where they are used(or the defaults for that
environment was used). However, the strategy
for a parameter in the first environment was
ignored as there is nothing to merge.

With Iec3367667248d0b46196a6d569f3cbb3b200d842, we
changed to use existing merge strategies, but the
strategies in the first environment were still
ignored. This patch fixes it.

Task: 45578
Change-Id: Ic6125c6af60c1007243523cc8510a17f49c7b5af
(cherry picked from commit d9fe7301b3af2db9fa56d59eb405add94730ba50)
",git fetch https://review.opendev.org/openstack/heat refs/changes/90/848590/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_common_env_util.py', 'heat/common/environment_util.py']",2,154691d21d24351edbe066fd23c731afad456b85,," available_strategies[key] = param_merge_strategy if not old: return new for key, value in new.items(): # if key not in param_schemata ignore it if key in param_schemata and value is not None: param_merge_strategy = available_strategies[key] return old params[section_key] = merge_parameters("," new_strategies = {} if not old: return new, new_strategies new_strategies[key] = param_merge_strategy return old, new_strategies params[section_key], new_strategies = merge_parameters( available_strategies.update(new_strategies)",16,15
openstack%2Fkolla~stable%2Fwallaby~I4bd581c3ea422e1c9a075a71721413d47fdbdfe4,openstack/kolla,stable/wallaby,I4bd581c3ea422e1c9a075a71721413d47fdbdfe4,Bump prometheus-openstack-exporter version to 1.6.0,MERGED,2022-07-01 14:47:48.000000000,2022-07-04 10:06:51.000000000,2022-07-04 10:05:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-07-01 14:47:48.000000000', 'files': ['releasenotes/notes/openstack-exporter-1.6.0-cb2c1a978cf4be64.yaml', 'docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0541e933286b2ec3e0b4342870cec1c945da59b1', 'message': 'Bump prometheus-openstack-exporter version to 1.6.0\n\nChange-Id: I4bd581c3ea422e1c9a075a71721413d47fdbdfe4\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/848457\n(cherry picked from commit 5f94e53bea9fb81786595cb8b452879afe436e26)\n(cherry picked from commit 51d5e442c105bd5dd74c983ef277812b8915eb52)\n'}]",0,848459,0541e933286b2ec3e0b4342870cec1c945da59b1,9,3,1,15197,,,0,"Bump prometheus-openstack-exporter version to 1.6.0

Change-Id: I4bd581c3ea422e1c9a075a71721413d47fdbdfe4
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/848457
(cherry picked from commit 5f94e53bea9fb81786595cb8b452879afe436e26)
(cherry picked from commit 51d5e442c105bd5dd74c983ef277812b8915eb52)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/59/848459/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/openstack-exporter-1.6.0-cb2c1a978cf4be64.yaml', 'docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2']",2,0541e933286b2ec3e0b4342870cec1c945da59b1,openstack-exporter-1.6.0-stable/wallaby,ARG prometheus_openstack_exporter_version=1.6.0 ARG prometheus_openstack_exporter_url=https://github.com/openstack-exporter/openstack-exporter/releases/download/v${prometheus_openstack_exporter_version}/openstack-exporter_${prometheus_openstack_exporter_version}_linux_{{debian_arch}}.tar.gzRUN curl -o /tmp/prometheus_openstack_exporter.tar.gz ${prometheus_openstack_exporter_url} \ && mkdir /opt/openstack-exporter \ && tar xvf /tmp/prometheus_openstack_exporter.tar.gz -C /opt/openstack-exporter \ && rm -f /tmp/prometheus_openstack_exporter.tar.gz,ENV prometheus_openstack_exporter_version=1.3.0RUN curl -o /tmp/prometheus_openstack_exporter.tar.gz https://github.com/openstack-exporter/openstack-exporter/releases/download/v${prometheus_openstack_exporter_version}/openstack-exporter-${prometheus_openstack_exporter_version}.linux-{{debian_arch}}.tar.gz \ && tar xvf /tmp/prometheus_openstack_exporter.tar.gz -C /opt/ \ && rm -f /tmp/prometheus_openstack_exporter.tar.gz \ && ln -s /opt/openstack-exporter* /opt/openstack-exporter,17,5
openstack%2Fdevstack~master~I6da4a537e6a8d527ff71a821f07164fc7d342882,openstack/devstack,master,I6da4a537e6a8d527ff71a821f07164fc7d342882,Increase timeout waiting for OVN startup,MERGED,2022-07-03 20:31:08.000000000,2022-07-04 09:52:38.000000000,2022-07-04 09:51:25.000000000,"[{'_account_id': 13252}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-03 20:31:08.000000000', 'files': ['lib/neutron_plugins/ovn_agent'], 'web_link': 'https://opendev.org/openstack/devstack/commit/bd6e5205b115fb0cafed7f50a676699a4b9fc0fe', 'message': 'Increase timeout waiting for OVN startup\n\nWe see some cases where OVN startup takes much longer than 5 seconds, up\nto 28 seconds have been observed, so increase the limit to 40 to be on\nthe safe side.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nCloses-Bug: 1980421\nChange-Id: I6da4a537e6a8d527ff71a821f07164fc7d342882\n'}]",3,848548,bd6e5205b115fb0cafed7f50a676699a4b9fc0fe,9,4,1,13252,,,0,"Increase timeout waiting for OVN startup

We see some cases where OVN startup takes much longer than 5 seconds, up
to 28 seconds have been observed, so increase the limit to 40 to be on
the safe side.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Closes-Bug: 1980421
Change-Id: I6da4a537e6a8d527ff71a821f07164fc7d342882
",git fetch https://review.opendev.org/openstack/devstack refs/changes/48/848548/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/ovn_agent'],1,bd6e5205b115fb0cafed7f50a676699a4b9fc0fe,bug/1980421," if [ ""$count"" -gt 40 ]; then if [ ""$count"" -gt 40 ]; then"," if [ ""$count"" -gt 5 ]; then if [ ""$count"" -gt 5 ]; then",2,2
openstack%2Fkolla-ansible~stable%2Fwallaby~I7605a3f9f74effb29ecec3b28e4709fd5f7f8cd4,openstack/kolla-ansible,stable/wallaby,I7605a3f9f74effb29ecec3b28e4709fd5f7f8cd4,Support setting Nova API microversion for openstack-exporter,MERGED,2022-07-01 14:41:38.000000000,2022-07-04 09:52:30.000000000,2022-07-04 09:51:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-07-01 14:41:38.000000000', 'files': ['ansible/roles/prometheus/tasks/check-containers.yml', 'ansible/group_vars/all.yml', 'ansible/roles/prometheus/defaults/main.yml', 'releasenotes/notes/openstack-exporter-nova-version-9e75cb7ec04658f2.yaml', 'ansible/roles/prometheus/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/36d1713a8ba35cc8a9c7068379f59a78648a14e5', 'message': 'Support setting Nova API microversion for openstack-exporter\n\nStarting from v1.5.0 of the exporter, OS_COMPUTE_API_VERSION can be set\nto configure the Nova API version to be used [1]. Microversion 2.1 can\nbe used to keep metrics unmodified from the previous exporter version\ndeployed by Kolla (v1.3.0).\n\nSupport it with prometheus_openstack_exporter_compute_api_version,\ndefaulting to using version 2.1 to keep metrics unchanged.\n\n[1] https://github.com/openstack-exporter/openstack-exporter/pull/201\n\nChange-Id: I7605a3f9f74effb29ecec3b28e4709fd5f7f8cd4\n(cherry picked from commit 41fba3c5df8880a899ddee2e47218c0eab1778b7)\n(cherry picked from commit 5cc47b02dae38b44ad603aed7fd1ac4c3648f1e6)\n'}]",0,848457,36d1713a8ba35cc8a9c7068379f59a78648a14e5,9,3,1,15197,,,0,"Support setting Nova API microversion for openstack-exporter

Starting from v1.5.0 of the exporter, OS_COMPUTE_API_VERSION can be set
to configure the Nova API version to be used [1]. Microversion 2.1 can
be used to keep metrics unmodified from the previous exporter version
deployed by Kolla (v1.3.0).

Support it with prometheus_openstack_exporter_compute_api_version,
defaulting to using version 2.1 to keep metrics unchanged.

[1] https://github.com/openstack-exporter/openstack-exporter/pull/201

Change-Id: I7605a3f9f74effb29ecec3b28e4709fd5f7f8cd4
(cherry picked from commit 41fba3c5df8880a899ddee2e47218c0eab1778b7)
(cherry picked from commit 5cc47b02dae38b44ad603aed7fd1ac4c3648f1e6)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/848457/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prometheus/tasks/check-containers.yml', 'ansible/group_vars/all.yml', 'ansible/roles/prometheus/defaults/main.yml', 'releasenotes/notes/openstack-exporter-nova-version-9e75cb7ec04658f2.yaml', 'ansible/roles/prometheus/handlers/main.yml']",5,36d1713a8ba35cc8a9c7068379f59a78648a14e5,openstack-exporter-compute-api-version-stable/wallaby," environment: ""{{ service.environment|default(omit) }}""",,13,0
openstack%2Fkolla~stable%2Fxena~I4bd581c3ea422e1c9a075a71721413d47fdbdfe4,openstack/kolla,stable/xena,I4bd581c3ea422e1c9a075a71721413d47fdbdfe4,Bump prometheus-openstack-exporter version to 1.6.0,MERGED,2022-07-01 14:45:57.000000000,2022-07-04 09:52:17.000000000,2022-07-04 09:51:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-07-01 14:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e727d23cdfa8035784692c41bb6bbac16c069073', 'message': 'Bump prometheus-openstack-exporter version to 1.6.0\n\nChange-Id: I4bd581c3ea422e1c9a075a71721413d47fdbdfe4\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/828902\n(cherry picked from commit 5f94e53bea9fb81786595cb8b452879afe436e26)\n'}, {'number': 2, 'created': '2022-07-01 14:46:32.000000000', 'files': ['releasenotes/notes/openstack-exporter-1.6.0-cb2c1a978cf4be64.yaml', 'docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/51d5e442c105bd5dd74c983ef277812b8915eb52', 'message': 'Bump prometheus-openstack-exporter version to 1.6.0\n\nChange-Id: I4bd581c3ea422e1c9a075a71721413d47fdbdfe4\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/848361\n(cherry picked from commit 5f94e53bea9fb81786595cb8b452879afe436e26)\n'}]",0,848458,51d5e442c105bd5dd74c983ef277812b8915eb52,10,3,2,15197,,,0,"Bump prometheus-openstack-exporter version to 1.6.0

Change-Id: I4bd581c3ea422e1c9a075a71721413d47fdbdfe4
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/848361
(cherry picked from commit 5f94e53bea9fb81786595cb8b452879afe436e26)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/58/848458/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/openstack-exporter-1.6.0-cb2c1a978cf4be64.yaml', 'docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2']",2,e727d23cdfa8035784692c41bb6bbac16c069073,openstack-exporter-1.6.0-stable/xena,ARG prometheus_openstack_exporter_version=1.6.0 ARG prometheus_openstack_exporter_url=https://github.com/openstack-exporter/openstack-exporter/releases/download/v${prometheus_openstack_exporter_version}/openstack-exporter_${prometheus_openstack_exporter_version}_linux_{{debian_arch}}.tar.gzRUN curl -o /tmp/prometheus_openstack_exporter.tar.gz ${prometheus_openstack_exporter_url} \ && mkdir /opt/openstack-exporter \ && tar xvf /tmp/prometheus_openstack_exporter.tar.gz -C /opt/openstack-exporter \ && rm -f /tmp/prometheus_openstack_exporter.tar.gz,ENV prometheus_openstack_exporter_version=1.3.0RUN curl -o /tmp/prometheus_openstack_exporter.tar.gz https://github.com/openstack-exporter/openstack-exporter/releases/download/v${prometheus_openstack_exporter_version}/openstack-exporter-${prometheus_openstack_exporter_version}.linux-{{debian_arch}}.tar.gz \ && tar xvf /tmp/prometheus_openstack_exporter.tar.gz -C /opt/ \ && rm -f /tmp/prometheus_openstack_exporter.tar.gz \ && ln -s /opt/openstack-exporter* /opt/openstack-exporter,17,5
openstack%2Fkolla-ansible~stable%2Fxena~I7605a3f9f74effb29ecec3b28e4709fd5f7f8cd4,openstack/kolla-ansible,stable/xena,I7605a3f9f74effb29ecec3b28e4709fd5f7f8cd4,Support setting Nova API microversion for openstack-exporter,MERGED,2022-07-01 14:38:26.000000000,2022-07-04 09:36:46.000000000,2022-07-04 09:35:37.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-07-01 14:38:26.000000000', 'files': ['ansible/roles/prometheus/tasks/check-containers.yml', 'ansible/group_vars/all.yml', 'ansible/roles/prometheus/defaults/main.yml', 'releasenotes/notes/openstack-exporter-nova-version-9e75cb7ec04658f2.yaml', 'ansible/roles/prometheus/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/41c6dbfc2c611abbc5967510e310dd4064e94aed', 'message': 'Support setting Nova API microversion for openstack-exporter\n\nStarting from v1.5.0 of the exporter, OS_COMPUTE_API_VERSION can be set\nto configure the Nova API version to be used [1]. Microversion 2.1 can\nbe used to keep metrics unmodified from the previous exporter version\ndeployed by Kolla (v1.3.0).\n\nSupport it with prometheus_openstack_exporter_compute_api_version,\ndefaulting to using version 2.1 to keep metrics unchanged.\n\n[1] https://github.com/openstack-exporter/openstack-exporter/pull/201\n\nChange-Id: I7605a3f9f74effb29ecec3b28e4709fd5f7f8cd4\n(cherry picked from commit 41fba3c5df8880a899ddee2e47218c0eab1778b7)\n(cherry picked from commit 5cc47b02dae38b44ad603aed7fd1ac4c3648f1e6)\n'}]",0,848361,41c6dbfc2c611abbc5967510e310dd4064e94aed,11,3,1,15197,,,0,"Support setting Nova API microversion for openstack-exporter

Starting from v1.5.0 of the exporter, OS_COMPUTE_API_VERSION can be set
to configure the Nova API version to be used [1]. Microversion 2.1 can
be used to keep metrics unmodified from the previous exporter version
deployed by Kolla (v1.3.0).

Support it with prometheus_openstack_exporter_compute_api_version,
defaulting to using version 2.1 to keep metrics unchanged.

[1] https://github.com/openstack-exporter/openstack-exporter/pull/201

Change-Id: I7605a3f9f74effb29ecec3b28e4709fd5f7f8cd4
(cherry picked from commit 41fba3c5df8880a899ddee2e47218c0eab1778b7)
(cherry picked from commit 5cc47b02dae38b44ad603aed7fd1ac4c3648f1e6)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/61/848361/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prometheus/tasks/check-containers.yml', 'ansible/group_vars/all.yml', 'ansible/roles/prometheus/defaults/main.yml', 'releasenotes/notes/openstack-exporter-nova-version-9e75cb7ec04658f2.yaml', 'ansible/roles/prometheus/handlers/main.yml']",5,41c6dbfc2c611abbc5967510e310dd4064e94aed,openstack-exporter-compute-api-version-stable/xena," environment: ""{{ service.environment|default(omit) }}""",,13,0
openstack%2Fovn-bgp-agent~master~I43c47c4af5391cc047e73ab914672850dfde6856,openstack/ovn-bgp-agent,master,I43c47c4af5391cc047e73ab914672850dfde6856,DO NOT REVIEW,ABANDONED,2022-05-17 09:17:43.000000000,2022-07-04 09:06:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}]","[{'number': 1, 'created': '2022-05-17 09:17:43.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/ea79c575dde3ae75c27e60423a1f12236c3860e1', 'message': 'DO NOT REVIEW\n\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I43c47c4af5391cc047e73ab914672850dfde6856\n'}]",7,842067,ea79c575dde3ae75c27e60423a1f12236c3860e1,7,3,1,6773,,,0,"DO NOT REVIEW

Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I43c47c4af5391cc047e73ab914672850dfde6856
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/67/842067/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py'],1,ea79c575dde3ae75c27e60423a1f12236c3860e1,test," if (associated_port and self.sb_idl.is_port_on_chassis( associated_port, self.chassis)): # FIPs are only supported with IPv4 fip_address, fip_datapath = self.sb_idl.get_fip_associated( row.logical_port) if fip_address: LOG.info(""Add BGP route for FIP with ip %s"", fip_address) linux_net.add_ips_to_dev(constants.OVN_BGP_NIC, [fip_address]) rule_bridge, vlan_tag = self._get_bridge_for_datapath( fip_datapath) try: linux_net.add_ip_rule( fip_address, self.ovn_routing_tables[rule_bridge], rule_bridge) except agent_exc.InvalidPortIP: LOG.exception(""Invalid IP to create a rule for the VM "" ""floating IP: %s"", fip_address) return linux_net.add_ip_route( self.ovn_routing_tables_routes, fip_address, self.ovn_routing_tables[rule_bridge], rule_bridge, vlan=vlan_tag) return fip_address else: ovs.ensure_default_ovs_flows(self.ovn_bridge_mappings.values(), constants.OVS_RULE_COOKIE) if (associated_port and self.sb_idl.is_port_on_chassis( associated_port, self.chassis)): # FIPs are only supported with IPv4 fip_address, fip_datapath = self.sb_idl.get_fip_associated( row.logical_port) if fip_address: LOG.info(""Delete BGP route for FIP with ip %s"", fip_address) linux_net.del_ips_from_dev(constants.OVN_BGP_NIC, [fip_address]) rule_bridge, vlan_tag = self._get_bridge_for_datapath( fip_datapath) linux_net.del_ip_rule(fip_address, self.ovn_routing_tables[rule_bridge], rule_bridge) linux_net.del_ip_route( self.ovn_routing_tables_routes, fip_address, self.ovn_routing_tables[rule_bridge], rule_bridge, vlan=vlan_tag)"," # FIPs are only supported with IPv4 fip_address, fip_datapath = self.sb_idl.get_fip_associated( row.logical_port) if fip_address: LOG.info(""Add BGP route for FIP with ip %s"", fip_address) linux_net.add_ips_to_dev(constants.OVN_BGP_NIC, [fip_address]) rule_bridge, vlan_tag = self._get_bridge_for_datapath( fip_datapath) try: linux_net.add_ip_rule( fip_address, self.ovn_routing_tables[rule_bridge], rule_bridge) except agent_exc.InvalidPortIP: LOG.exception(""Invalid IP to create a rule for the VM "" ""floating IP: %s"", fip_address) return linux_net.add_ip_route( self.ovn_routing_tables_routes, fip_address, self.ovn_routing_tables[rule_bridge], rule_bridge, vlan=vlan_tag) return fip_address else: ovs.ensure_default_ovs_flows(self.ovn_bridge_mappings.values(), constants.OVS_RULE_COOKIE) # FIPs are only supported with IPv4 fip_address, fip_datapath = self.sb_idl.get_fip_associated( row.logical_port) if fip_address: LOG.info(""Delete BGP route for FIP with ip %s"", fip_address) linux_net.del_ips_from_dev(constants.OVN_BGP_NIC, [fip_address]) rule_bridge, vlan_tag = self._get_bridge_for_datapath( fip_datapath) linux_net.del_ip_rule(fip_address, self.ovn_routing_tables[rule_bridge], rule_bridge) linux_net.del_ip_route( self.ovn_routing_tables_routes, fip_address, self.ovn_routing_tables[rule_bridge], rule_bridge, vlan=vlan_tag)",45,41
openstack%2Fneutron~master~I2f33543fa7ee65ce3d25f70af49a18b69f799aec,openstack/neutron,master,I2f33543fa7ee65ce3d25f70af49a18b69f799aec,"Revert ""[fips jobs] blacklist AttachInterfacesTestJSON tempest test""",MERGED,2022-07-01 05:39:14.000000000,2022-07-04 09:00:00.000000000,2022-07-04 08:56:44.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-07-01 05:39:14.000000000', 'files': ['zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f879d1f9578739bb3c5c362def665d9ca354b3f5', 'message': 'Revert ""[fips jobs] blacklist AttachInterfacesTestJSON tempest test""\n\nThis reverts commit a1384678b88fc7ffb5eeccfbfc0da16a9cb8910a.\n\nReason for revert: https://bugzilla.redhat.com/show_bug.cgi?id=2092856 fixed in libvirt-8.4.0-3.el9 and available in CentOS 9-Stream.\n\nChange-Id: I2f33543fa7ee65ce3d25f70af49a18b69f799aec\nRelated-Bug: #1979047\nRelated-Bug: rhbz#2092856\n'}]",2,848351,f879d1f9578739bb3c5c362def665d9ca354b3f5,12,6,1,13861,,,0,"Revert ""[fips jobs] blacklist AttachInterfacesTestJSON tempest test""

This reverts commit a1384678b88fc7ffb5eeccfbfc0da16a9cb8910a.

Reason for revert: https://bugzilla.redhat.com/show_bug.cgi?id=2092856 fixed in libvirt-8.4.0-3.el9 and available in CentOS 9-Stream.

Change-Id: I2f33543fa7ee65ce3d25f70af49a18b69f799aec
Related-Bug: #1979047
Related-Bug: rhbz#2092856
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/848351/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-singlenode.yaml'],1,f879d1f9578739bb3c5c362def665d9ca354b3f5,bug/1979047,," # TODO(ykarel): remove AttachInterfacesTestJSON and test_hotplug_nic from the # blacklist when fixed libvirt version is available in CentOS 9-Stream # https://bugzilla.redhat.com/show_bug.cgi?id=2092856 tempest_exclude_regex: ""\ (^tempest.api.compute.servers.test_attach_interfaces.AttachInterfacesTestJSON)|\ (^tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_hotplug_nic)"" # TODO(ykarel): remove AttachInterfacesTestJSON and test_hotplug_nic from the # blacklist when fixed libvirt version is available in CentOS 9-Stream # https://bugzilla.redhat.com/show_bug.cgi?id=2092856 tempest_exclude_regex: ""\ (^tempest.api.compute.servers.test_attach_interfaces.AttachInterfacesTestJSON)|\ (^tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_hotplug_nic)""",0,12
openstack%2Fneutron~master~I611ed3233ea689fe3a7218f0cca7e9b0a44aa9ce,openstack/neutron,master,I611ed3233ea689fe3a7218f0cca7e9b0a44aa9ce,ovs: remove unused function _get_port_local_vlan,MERGED,2022-06-17 07:10:14.000000000,2022-07-04 08:58:47.000000000,2022-07-04 08:56:34.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 07:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f66dccb69a23160d9b2f7e04d319cad2994eb8d1', 'message': 'ovs: remove unused function _get_port_local_vlan\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I611ed3233ea689fe3a7218f0cca7e9b0a44aa9ce\n'}, {'number': 2, 'created': '2022-06-27 07:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e47326c391b2a2cb64b2c51e6456254c7465ca98', 'message': 'ovs: remove unused function _get_port_local_vlan\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I611ed3233ea689fe3a7218f0cca7e9b0a44aa9ce\n'}, {'number': 3, 'created': '2022-06-30 17:32:53.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9abb2cec3381c32586b899fe76fcc8d3001ed41', 'message': 'ovs: remove unused function _get_port_local_vlan\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I611ed3233ea689fe3a7218f0cca7e9b0a44aa9ce\n'}]",5,846275,c9abb2cec3381c32586b899fe76fcc8d3001ed41,34,5,3,7730,,,0,"ovs: remove unused function _get_port_local_vlan

Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: I611ed3233ea689fe3a7218f0cca7e9b0a44aa9ce
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/846275/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,f66dccb69a23160d9b2f7e04d319cad2994eb8d1,segments,," def _get_port_local_vlan(self, port_id): for network_id, port_set in self.network_ports.items(): if port_id in port_set: lvm = self.vlan_manager.get(network_id) return lvm.vlan ",0,6
openstack%2Fheat-dashboard~master~Ia710315f7dc124c4ac9195584eef1450c4a93bb5,openstack/heat-dashboard,master,Ia710315f7dc124c4ac9195584eef1450c4a93bb5,Update python testing as per zed cycle testing runtime,MERGED,2022-06-07 15:00:25.000000000,2022-07-04 08:57:41.000000000,2022-07-04 08:53:43.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-06-07 15:00:25.000000000', 'files': ['releasenotes/notes/drop-python-3-6-and-3-7-b7319859be66ed72.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/8775ec3eee7ec9d59035931191b67339bf902dc3', 'message': 'Update python testing as per zed cycle testing runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Add release notes and update the python\nclassifier for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nCo-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>\nChange-Id: Ia710315f7dc124c4ac9195584eef1450c4a93bb5\n'}]",0,845001,8775ec3eee7ec9d59035931191b67339bf902dc3,8,3,1,9816,,,0,"Update python testing as per zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Co-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>
Change-Id: Ia710315f7dc124c4ac9195584eef1450c4a93bb5
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/01/845001/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-python-3-6-and-3-7-b7319859be66ed72.yaml', 'setup.cfg']",2,8775ec3eee7ec9d59035931191b67339bf902dc3,drop-py3-6-7,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,6,3
openstack%2Fneutron~master~Icd8208d63be413f45fcd0c8652ab02a3a53ffc3a,openstack/neutron,master,Icd8208d63be413f45fcd0c8652ab02a3a53ffc3a,"Revert ""Temporary blacklist test_reboot_server_hard in OVN IPv6 job""",MERGED,2022-07-01 09:39:58.000000000,2022-07-04 08:56:39.000000000,2022-07-04 08:56:39.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 09:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5db9da9625700f606bf0edbab3f183fc7cf5cca3', 'message': 'Revert ""Temporary blacklist test_reboot_server_hard in OVN IPv6 job""\n\nThis reverts commit 7c95150c84d77f3eae69def5b1328243ccec248a.\n\nReason for revert: The bug related to this change has been fixed for a while: https://bugs.launchpad.net/neutron/+bug/1906490\n\nChange-Id: Icd8208d63be413f45fcd0c8652ab02a3a53ffc3a\n'}, {'number': 2, 'created': '2022-07-01 09:52:41.000000000', 'files': ['zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a630fc79a54182d5c1465563b53732e0d39b5533', 'message': 'Revert ""Temporary blacklist test_reboot_server_hard in OVN IPv6 job""\n\nThis reverts commit 7c95150c84d77f3eae69def5b1328243ccec248a.\n\nReason for revert: The bug related to this change has been fixed for a while: https://bugs.launchpad.net/neutron/+bug/1906490\n\nChange-Id: Icd8208d63be413f45fcd0c8652ab02a3a53ffc3a\n'}]",2,848353,a630fc79a54182d5c1465563b53732e0d39b5533,13,6,2,32586,,,0,"Revert ""Temporary blacklist test_reboot_server_hard in OVN IPv6 job""

This reverts commit 7c95150c84d77f3eae69def5b1328243ccec248a.

Reason for revert: The bug related to this change has been fixed for a while: https://bugs.launchpad.net/neutron/+bug/1906490

Change-Id: Icd8208d63be413f45fcd0c8652ab02a3a53ffc3a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/848353/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-singlenode.yaml'],1,5db9da9625700f606bf0edbab3f183fc7cf5cca3,bug/1906490,," # TODO(slaweq): remove test_reboot_server_hard from the blacklist when # when bug https://bugs.launchpad.net/neutron/+bug/1906490 will be fixed tempest_black_regex: ""(^tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON.test_reboot_server_hard)""",0,3
openstack%2Fheat-dashboard~master~Ie32786eb519919a2218f77200edf1dc28ec5a10b,openstack/heat-dashboard,master,Ie32786eb519919a2218f77200edf1dc28ec5a10b,Add Python 3.9 to supported runtumes,MERGED,2022-06-07 14:59:46.000000000,2022-07-04 08:55:53.000000000,2022-07-04 08:53:42.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-06-07 14:59:46.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/e1d05d8150123f7e3c04726b1341db52ff2cdae8', 'message': 'Add Python 3.9 to supported runtumes\n\n... because it has been part of tested runtimes since Yoga[1].\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: Ie32786eb519919a2218f77200edf1dc28ec5a10b\n'}]",0,845000,e1d05d8150123f7e3c04726b1341db52ff2cdae8,9,3,1,9816,,,0,"Add Python 3.9 to supported runtumes

... because it has been part of tested runtimes since Yoga[1].

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: Ie32786eb519919a2218f77200edf1dc28ec5a10b
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/00/845000/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e1d05d8150123f7e3c04726b1341db52ff2cdae8,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fheat-dashboard~stable%2Fyoga~I652e89148b2a1cb28ebf68fd0d8cbf60447695c5,openstack/heat-dashboard,stable/yoga,I652e89148b2a1cb28ebf68fd0d8cbf60447695c5,Yoga-only: Fix wrong job teamplate used,MERGED,2022-06-23 03:11:22.000000000,2022-07-04 08:55:50.000000000,2022-07-04 08:53:40.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-06-23 03:11:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/111e6a15be2f8fe30a0ad9bc03705fa3e514f77d', 'message': 'Yoga-only: Fix wrong job teamplate used\n\nWe should use the job template corresponding to the release.\n\nChange-Id: I652e89148b2a1cb28ebf68fd0d8cbf60447695c5\n'}]",0,847232,111e6a15be2f8fe30a0ad9bc03705fa3e514f77d,8,3,1,9816,,,0,"Yoga-only: Fix wrong job teamplate used

We should use the job template corresponding to the release.

Change-Id: I652e89148b2a1cb28ebf68fd0d8cbf60447695c5
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/32/847232/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,111e6a15be2f8fe30a0ad9bc03705fa3e514f77d,, - openstack-python3-yoga-jobs-horizon, - openstack-python3-xena-jobs-horizon,1,1
openstack%2Fneutron~stable%2Fyoga~Ia74a9404411862dc88b48c4a198d5c53f5f52704,openstack/neutron,stable/yoga,Ia74a9404411862dc88b48c4a198d5c53f5f52704,[ovn]support read chassis update time from nb_cfg_timestamp,MERGED,2022-06-29 13:29:56.000000000,2022-07-04 08:53:50.000000000,2022-07-04 08:52:24.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-06-29 13:29:56.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/agent/l2/extensions/dhcp/test_ipv6.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/functional/base.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cfc0678caf39a5ec002fc56a878275a94dc11b94', 'message': '[ovn]support read chassis update time from nb_cfg_timestamp\n\nnb_cfg_timestamp: The timestamp when ovn-controller finishes\nprocessing the change corresponding to nb_cfg[1]. it can better\nreflect the status of chassis.\n\nThis patch updated some unit tests. ensure mock \'time.time\' is\nstopped after test. if not stop, may affect ""timeutils.utcnow_ts""\nto obtain the real time, cause test case\n\'test_agent_with_nb_cfg_timestamp_not_timeout\' failure.\n\nPartial-bug: #1938478\n[1] https://www.ovn.org/support/dist-docs/ovn-sb.5.html\n\nConflicts:\n  neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py\n  neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nChange-Id: Ia74a9404411862dc88b48c4a198d5c53f5f52704\n(cherry picked from commit 9e263dcf00b7ddc102a54f5e681bcf09931f3a72)\n'}]",3,848131,cfc0678caf39a5ec002fc56a878275a94dc11b94,12,5,1,16688,,,0,"[ovn]support read chassis update time from nb_cfg_timestamp

nb_cfg_timestamp: The timestamp when ovn-controller finishes
processing the change corresponding to nb_cfg[1]. it can better
reflect the status of chassis.

This patch updated some unit tests. ensure mock 'time.time' is
stopped after test. if not stop, may affect ""timeutils.utcnow_ts""
to obtain the real time, cause test case
'test_agent_with_nb_cfg_timestamp_not_timeout' failure.

Partial-bug: #1938478
[1] https://www.ovn.org/support/dist-docs/ovn-sb.5.html

Conflicts:
  neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py
  neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py

Change-Id: Ia74a9404411862dc88b48c4a198d5c53f5f52704
(cherry picked from commit 9e263dcf00b7ddc102a54f5e681bcf09931f3a72)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/848131/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/agent/l2/extensions/dhcp/test_ipv6.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/functional/base.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py']",5,cfc0678caf39a5ec002fc56a878275a94dc11b94,bug/1938478,"import datetimefrom oslo_utils import timeutils def test_agent_updated_at_use_nb_cfg_timestamp(self): if not self.sb_api.is_table_present('Chassis_Private'): self.skipTest('Ovn sb not support Chassis_Private') timestamp = timeutils.utcnow_ts() nb_cfg_timestamp = timestamp * 1000 updated_at = datetime.datetime.fromtimestamp( timestamp, datetime.timezone.utc) self.sb_api.db_set('Chassis_Private', self.chassis_name, ( 'nb_cfg_timestamp', nb_cfg_timestamp)).execute(check_error=True) n_utils.wait_until_true(lambda: neutron_agent.AgentCache()[self.chassis_name]. chassis_private.nb_cfg_timestamp == nb_cfg_timestamp) agent = neutron_agent.AgentCache()[self.chassis_name] self.assertEqual(updated_at, agent.updated_at) ",,76,6
openstack%2Fkolla-ansible~master~I22539f927834e2f92ffb28543811886332ace1e8,openstack/kolla-ansible,master,I22539f927834e2f92ffb28543811886332ace1e8,WIP: mariadb TLS,NEW,2022-04-06 10:19:50.000000000,2022-07-04 08:17:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-06 10:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0665787acc6c547c1b885b302da06ef70b02b865', 'message': 'WIP: mariadb TLS\n\nChange-Id: I22539f927834e2f92ffb28543811886332ace1e8\n'}, {'number': 2, 'created': '2022-04-06 15:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/719d07507d0e417596c55cd6fe6644c36f7d6fde', 'message': 'WIP: mariadb TLS\n\nChange-Id: I22539f927834e2f92ffb28543811886332ace1e8\n'}, {'number': 3, 'created': '2022-04-07 08:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e1263d6ad9f4dfc060af5c03a30a844b95e5cb7', 'message': 'WIP: mariadb TLS\n\nChange-Id: I22539f927834e2f92ffb28543811886332ace1e8\n'}, {'number': 4, 'created': '2022-04-07 09:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3a07e80360f318a2a7cbb7197b76f5186fcd984f', 'message': 'WIP: mariadb TLS\n\nChange-Id: I22539f927834e2f92ffb28543811886332ace1e8\n'}, {'number': 5, 'created': '2022-07-01 18:05:58.000000000', 'files': ['ansible/roles/keystone/templates/keystone.conf.j2', 'tests/templates/globals-default.j2', 'ansible/roles/mariadb/tasks/check-containers.yml', 'ansible/roles/mariadb/tasks/check.yml', 'ansible/roles/mariadb/tasks/register.yml', 'ansible/roles/mariadb/handlers/main.yml', 'ansible/roles/mariadb/tasks/copy-certs.yml', 'ansible/group_vars/all.yml', 'zuul.d/project.yaml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/mariadb/tasks/config.yml', 'ansible/roles/keystone/tasks/bootstrap.yml', 'ansible/roles/haproxy-config/templates/haproxy_single_service_split.cfg.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6ce871e465a4d057841418991511284433859839', 'message': 'WIP: mariadb TLS\n\nChange-Id: I22539f927834e2f92ffb28543811886332ace1e8\n'}]",3,836791,6ce871e465a4d057841418991511284433859839,13,1,5,14826,,,0,"WIP: mariadb TLS

Change-Id: I22539f927834e2f92ffb28543811886332ace1e8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/91/836791/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/group_vars/all.yml', 'tests/templates/globals-default.j2', 'zuul.d/project.yaml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/keystone/tasks/bootstrap.yml', 'ansible/roles/haproxy-config/templates/haproxy_single_service_split.cfg.j2', 'ansible/roles/mariadb/tasks/register.yml']",8,0665787acc6c547c1b885b302da06ef70b02b865,," ca_cert: ""{{ openstack_cacert }}"" ca_cert: ""{{ openstack_cacert }}"" ca_cert: ""{{ openstack_cacert }}"" ca_cert: ""{{ openstack_cacert }}"" ca_cert: ""{{ openstack_cacert }}""",,21,64
openstack%2Fovn-octavia-provider~master~Iad9839ce99d50b969924b3fe369301b6dfed369d,openstack/ovn-octavia-provider,master,Iad9839ce99d50b969924b3fe369301b6dfed369d,Delete vip port if create_vip_port raise exception,MERGED,2022-05-17 13:42:00.000000000,2022-07-04 08:17:56.000000000,2022-07-04 08:16:48.000000000,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-05-17 13:42:00.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/cd3264a07e047b589e4064855169c37f17343e60', 'message': 'Delete vip port if create_vip_port raise exception\n\nSometimes on heavy load over Neutron, operations over\nneutron client could raise a NeutronClientException that\ncould cover, e.g. a timeout. In those case, sometimes the\nrequest finish after the client timeout and we have\nleftover resource.\n\ncreate_vip_port is called from Octavia API just before\nthe create LB request, if this call raise a timeout\nmaybe the vip port is finally created and linked to a LB\nthat is not going to be created, so we have this port\nunuse.\n\nThis patch will try to remove the leftover port for those\nsituations.\n\nCloses-Bug: #1973765\nChange-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d\n'}]",6,842107,cd3264a07e047b589e4064855169c37f17343e60,13,3,1,34451,,,0,"Delete vip port if create_vip_port raise exception

Sometimes on heavy load over Neutron, operations over
neutron client could raise a NeutronClientException that
could cover, e.g. a timeout. In those case, sometimes the
request finish after the client timeout and we have
leftover resource.

create_vip_port is called from Octavia API just before
the create LB request, if this call raise a timeout
maybe the vip port is finally created and linked to a LB
that is not going to be created, so we have this port
unuse.

This patch will try to remove the leftover port for those
situations.

Closes-Bug: #1973765
Change-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/07/842107/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,cd3264a07e047b589e4064855169c37f17343e60,," @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') @mock.patch.object(ovn_helper.OvnProviderHelper, 'delete_vip_port') def test_create_vip_port_vip_neutron_client_other_exception( self, del_port, net_cli): net_cli.return_value.create_port.side_effect = [ n_exc.NeutronClientException] net_cli.return_value.list_ports.return_value = { 'ports': [ {'name': 'ovn-lb-vip-' + self.loadbalancer_id, 'id': self.loadbalancer_id}]} self.assertRaises( n_exc.NeutronClientException, self.helper.create_vip_port, self.project_id, self.loadbalancer_id, self.vip_dict) expected_call = [ mock.call().list_ports( network_id='%s' % self.vip_dict['vip_network_id'], name='%s%s' % (ovn_const.LB_VIP_PORT_PREFIX, self.loadbalancer_id))] net_cli.assert_has_calls(expected_call) del_port.assert_called_once_with(self.loadbalancer_id) self.helper._update_status_to_octavia.assert_not_called() ",,37,0
openstack%2Ftripleo-common~stable%2Fwallaby~I74b0775a4274eb0ed8abbb0b3db7bec832f0eb60,openstack/tripleo-common,stable/wallaby,I74b0775a4274eb0ed8abbb0b3db7bec832f0eb60,Remove python-collectd-gnocchi from the image,MERGED,2022-04-21 14:18:32.000000000,2022-07-04 07:58:03.000000000,2022-07-04 07:56:54.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 16282}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-21 14:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/85c171062c4e72fed77bcebb01c70a58ec4db1af', 'message': 'Remove python-collectd-gnocchi from the image\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/834329\nDepends-on: https://review.opendev.org/c/openstack/puppet-tripleo/+/834332\n\nChange-Id: I74b0775a4274eb0ed8abbb0b3db7bec832f0eb60\n(cherry picked from commit 7a7bbceca523541bd0368c91ba7d8ab9da0ab99f)\n'}, {'number': 2, 'created': '2022-06-07 09:10:49.000000000', 'files': ['container-images/tcib/base/collectd/collectd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/282a1df6eba746311fff0be01840194e0da3ce00', 'message': 'Remove python-collectd-gnocchi from the image\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/844519\nDepends-on: https://review.opendev.org/c/openstack/puppet-tripleo/+/844517\n\nChange-Id: I74b0775a4274eb0ed8abbb0b3db7bec832f0eb60\n(cherry picked from commit 7a7bbceca523541bd0368c91ba7d8ab9da0ab99f)\n'}]",19,838872,282a1df6eba746311fff0be01840194e0da3ce00,58,5,2,4264,,,0,"Remove python-collectd-gnocchi from the image

Depends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/844519
Depends-on: https://review.opendev.org/c/openstack/puppet-tripleo/+/844517

Change-Id: I74b0775a4274eb0ed8abbb0b3db7bec832f0eb60
(cherry picked from commit 7a7bbceca523541bd0368c91ba7d8ab9da0ab99f)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/72/838872/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/collectd/collectd.yaml'],1,85c171062c4e72fed77bcebb01c70a58ec4db1af,drop_collectd_gnocchi-stable/wallaby,, - python3-collectd-gnocchi,0,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~If962b8250fcbe206713bdd7628beb4d7c1e89c07,openstack/tripleo-heat-templates,stable/wallaby,If962b8250fcbe206713bdd7628beb4d7c1e89c07,Clean up usage of the deprecated aodh::auth class,MERGED,2022-04-05 01:54:54.000000000,2022-07-04 07:56:57.000000000,2022-07-04 07:56:57.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-05 01:54:54.000000000', 'files': ['deployment/aodh/aodh-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/722eb2abf999a03360f9d8524050818997c5c30f', 'message': 'Clean up usage of the deprecated aodh::auth class\n\nDepends-on: https://review.opendev.org/772694\nDepends-on: https://review.opendev.org/836347\nChange-Id: If962b8250fcbe206713bdd7628beb4d7c1e89c07\n(cherry picked from commit 4f2884ff60b42b868f04fbfc6dc3ca5c3336d6fb)\n'}]",2,836348,722eb2abf999a03360f9d8524050818997c5c30f,14,4,1,9816,,,0,"Clean up usage of the deprecated aodh::auth class

Depends-on: https://review.opendev.org/772694
Depends-on: https://review.opendev.org/836347
Change-Id: If962b8250fcbe206713bdd7628beb4d7c1e89c07
(cherry picked from commit 4f2884ff60b42b868f04fbfc6dc3ca5c3336d6fb)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/836348/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/aodh/aodh-base.yaml'],1,722eb2abf999a03360f9d8524050818997c5c30f,aodh-service_credentials-stable/wallaby,," aodh::auth::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] } aodh::auth::auth_password: {get_param: AodhPassword} aodh::auth::auth_region: {get_param: KeystoneRegion} aodh::auth::auth_project_name: 'service'",0,4
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic3199c9a20c0ed7ab060b7287556ee5f994bab67,openstack/tripleo-heat-templates,stable/wallaby,Ic3199c9a20c0ed7ab060b7287556ee5f994bab67,Fix run_after of certs_requests in modular libvirt,MERGED,2022-06-21 11:38:47.000000000,2022-07-04 07:56:50.000000000,2022-07-04 07:56:50.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-21 11:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/152875084ecef26d3b6997b65d5fed38d4f9148e', 'message': ""Fix run_after of certs_requests in modular libvirt\n\nWhen changing the /etc/pki/qemu certs, there is no need to\nrestart/reload any (modular libvirt) service. Those certs are either\nloaded when QEMU VM is booted, or dynamically loaded into QEMU when a\nlive migration takes place. For the libvirt certs in /etc/pki/libvirt\nthough we need to either restart 'libvirtd.service' (what we already\ndo in the monolithic world), or restart 'virtproxyd.service' (modular\nworld). No need to restart 'virtqemud.service in modular world.\n\nBefore reloading container via systemctl, attempt a more graceful\nvirt-admin command to reload certificates.\n\nRelated: rhbz#2088515\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ic3199c9a20c0ed7ab060b7287556ee5f994bab67\n(cherry picked from commit 5e314d9f79fb4b183cf7b1cb4eed3744140ee172)\n""}, {'number': 2, 'created': '2022-06-23 13:39:24.000000000', 'files': ['deployment/nova/nova-modular-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e901311fe0c47e0d90965987ab352d85c55306b7', 'message': ""Fix run_after of certs_requests in modular libvirt\n\nWhen changing the /etc/pki/qemu certs, there is no need to\nrestart/reload any (modular libvirt) service. Those certs are either\nloaded when QEMU VM is booted, or dynamically loaded into QEMU when a\nlive migration takes place. For the libvirt certs in /etc/pki/libvirt\nthough we need to either restart 'libvirtd.service' (what we already\ndo in the monolithic world), or restart 'virtproxyd.service' (modular\nworld). No need to restart 'virtqemud.service in modular world.\n\nBefore reloading container via systemctl, attempt a more graceful\nvirt-admin command to reload certificates.\n\nRelated: rhbz#2088515\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ic3199c9a20c0ed7ab060b7287556ee5f994bab67\n(cherry picked from commit 5e314d9f79fb4b183cf7b1cb4eed3744140ee172)\n""}]",1,846936,e901311fe0c47e0d90965987ab352d85c55306b7,11,5,2,6926,,,0,"Fix run_after of certs_requests in modular libvirt

When changing the /etc/pki/qemu certs, there is no need to
restart/reload any (modular libvirt) service. Those certs are either
loaded when QEMU VM is booted, or dynamically loaded into QEMU when a
live migration takes place. For the libvirt certs in /etc/pki/libvirt
though we need to either restart 'libvirtd.service' (what we already
do in the monolithic world), or restart 'virtproxyd.service' (modular
world). No need to restart 'virtqemud.service in modular world.

Before reloading container via systemctl, attempt a more graceful
virt-admin command to reload certificates.

Related: rhbz#2088515
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: Ic3199c9a20c0ed7ab060b7287556ee5f994bab67
(cherry picked from commit 5e314d9f79fb4b183cf7b1cb4eed3744140ee172)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/846936/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-modular-libvirt-container-puppet.yaml'],1,152875084ecef26d3b6997b65d5fed38d4f9148e,, podman exec nova_virtproxyd virt-admin server-update-tls virtproxyd || systemctl reload tripleo_nova_virtproxyd podman exec nova_virtproxyd virt-admin server-update-tls virtproxyd || systemctl reload tripleo_nova_virtproxyd, systemctl reload tripleo_nova_libvirt systemctl reload tripleo_nova_libvirt systemctl reload tripleo_nova_libvirt systemctl reload tripleo_nova_libvirt,2,4
openstack%2Flarge-scale~master~I93610c60bd11b10d6c35f5cce7dc60ee1e3f754f,openstack/large-scale,master,I93610c60bd11b10d6c35f5cce7dc60ee1e3f754f,Transfer rabbitmq page to rst format,MERGED,2022-07-01 11:56:35.000000000,2022-07-04 07:37:35.000000000,2022-07-04 07:36:31.000000000,"[{'_account_id': 11583}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 11:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/large-scale/commit/c2bbc52f8d011059df07e04f21153420a7a0207a', 'message': 'Transfer rabbitmq page to rst format\n\nSigned-off-by: Ramona Rautenberg <rautenberg@osism.tech>\nChange-Id: I93610c60bd11b10d6c35f5cce7dc60ee1e3f754f\n'}, {'number': 2, 'created': '2022-07-01 12:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/large-scale/commit/126eb1d911d6c0f73453f0622006188c060f13c2', 'message': 'Transfer rabbitmq page to rst format\n\nSigned-off-by: Ramona Rautenberg <rautenberg@osism.tech>\nChange-Id: I93610c60bd11b10d6c35f5cce7dc60ee1e3f754f\n'}, {'number': 3, 'created': '2022-07-01 13:10:52.000000000', 'files': ['doc/source/journey/configure/rabbitmq.rst'], 'web_link': 'https://opendev.org/openstack/large-scale/commit/63caf2bf526a58ea3fccd7ec685ae8dec75bd734', 'message': 'Transfer rabbitmq page to rst format\n\nSigned-off-by: Ramona Rautenberg <rautenberg@osism.tech>\nChange-Id: I93610c60bd11b10d6c35f5cce7dc60ee1e3f754f\n'}]",1,848435,63caf2bf526a58ea3fccd7ec685ae8dec75bd734,11,2,3,34533,,,0,"Transfer rabbitmq page to rst format

Signed-off-by: Ramona Rautenberg <rautenberg@osism.tech>
Change-Id: I93610c60bd11b10d6c35f5cce7dc60ee1e3f754f
",git fetch https://review.opendev.org/openstack/large-scale refs/changes/35/848435/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/journey/configure/rabbitmq.rst'],1,c2bbc52f8d011059df07e04f21153420a7a0207a,add/largescale_rabbitmq_documentation,"=================================== Large Scale Configuration of Rabbit =================================== Introduction ------------ The following information are mostly taken from a discussion we had on the mailing list. You can see this discussion here: http://lists.openstack.org/pipermail/openstack-discuss/2020-August/thread.html#16362 ----------------------------- Clustering or not clustering? ----------------------------- When deploying RabbitMQ, you have two possibility: * Deploy rabbit in a cluster * Deploy only one rabbit node Deploying only one rabbit node can be seen as dangerous, mostly because if the node is down, your service is also down. On the other hand, clustering rabbit has some downside that make it harder to configure / manage. So, if your cluster is less reliable than a single node, the single node solution is better. Moreover, as many OpenStack services are using RabbitMQ for internal communication (a.k.a. RPC), having a highly available rabbit solution is a must have. If you choose the clustering mode, you should always keep an odd number of servers in the cluster (like 3 / 5 / 7, etc) to avoid split-brain issues. ---------------------------- One rabbit to rule them all? ---------------------------- You can also consider deploying rabbit in two ways: * one rabbit (cluster or not) for each OpenStack services * one big rabbit (cluster or not) for all OpenStack services There is no recommendation on that part, except that if you split your rabbit in multiples services, you will, for sure, reduce the risk. Which version of rabbit should I run? ------------------------------------- You should always try to consider running the latest version of rabbit. We also know that rabbit before 3.8 may have some issues on clustering side, so you might consider running at least rabbitmq 3.8.x. See https://groups.google.com/forum/#!newtopic/rabbitmq-users/rabbitmq-users/zFhmpHF2aWk Rabbit config recommendation ---------------------------- Most of the config we explain in the following parts apply only on rabbitmq in clustering mode. -------------- Service config -------------- When running the rabbit software on a node, you can configure some parameters for it in: /etc/rabbitmq/rabbitmq.config # (ubuntu) The most important configuration are the following net_ticktime and heartbeat ^^^^^^^^^^^^^^^^^^^^^^^^^^ See https://www.rabbitmq.com/nettick.html and https://www.rabbitmq.com/heartbeats.html A node is considered down after this time This config mostly depends on the network you have between the nodes. We consider that the default values are good. disk / ram mode ^^^^^^^^^^^^^^^ https://www.rabbitmq.com/clustering.html#cluster-node-types ""In the vast majority of cases you want all your nodes to be disk nodes; RAM nodes are a special case that can be used to improve the performance clusters with high queue, exchange, or binding churn. RAM nodes do not provide higher message rates. When in doubt, use disk nodes only."" So we recommend staying on disk node ------ Policy ------ RabbitMQ apply some policies on queues and exchanges. See here: https://www.rabbitmq.com/parameters.html If you plan to deploy a cluster of RabbitMQ, you will have to add a policy. Remember that Rabbit can apply only one policy to a queue or an exchange. So you should avoid having multiples policies in your deployment, or if you do, try to avoid overlapping policies because you wont be able to predict which one is effective on a queue. pattern ^^^^^^^ Policies are applied based on a regex pattern. The pattern we agreed on (from the mailing list discussion) is the following: .. code-block:: yaml '^(?!(amq\.)|(.*_fanout_)|(reply_)).*' which will set HA on all queues, except the one that: * starts with amq. * contains \_fanout\_ * starts with reply\_ parameters ^^^^^^^^^^ A policy will apply some parameters to queues / exchanges. Here are the parameters we recommend when running rabbit in cluster mode (time is in milliseconds as per https://www.rabbitmq.com/ttl.html): .. code-block:: yaml ""alternate-exchange"": ""unroutable"", ""expires"": 3600000, ""ha-mode"": ""all"", ""ha-promote-on-failure"": ""always"", ""ha-promote-on-shutdown"": ""always"", ""ha-sync-mode"": ""manual"", ""message-ttl"": 600000, ""queue-master-locator"": ""client-local"" **alternate-exchange** See https://rabbitmq.com/ae.html This is not mandatory, but a nice to have feature to collect ""lost"" messages from rabbit (the messages that could not be routed). **expires** Queue expiration period in milliseconds. By default there is no expires. So a queue without any consumer for 1H will be automatically deleted. **ha-mode** See https://www.rabbitmq.com/ha.html#mirroring-arguments Can be one of: * all: queues are mirrored across all nodes * exactly: need also ha-params ""count"". Will be replicated on ""count"" nodes * nodes: need also ha-params ""node-names:. Will be replicated on all nodes in ""node-names"" We recommend to mirror all queues across nodes, so a queue which is created on a node will also be created on other nodes. **ha-promote-on-failure** * always: (default) will force moving queue master to another node if master die unexpectedly * when-synced: will allow moving queue master only on a synced node. If no synced node, then queue will need to be removed We keep the default here, to make sure that on failure, a new queue master will be elected and it will continue working. **ha-promote-on-shutdown** * always: will force moving queue master to another node if master is shutdown * when-synced: (default) We prefer to have queue master moved to an unsynchronized mirror in all circumstances (i.e. we choose availability of the queue over avoiding message loss due to unsynchronised mirror promotion). **ha-sync-mode** See https://www.rabbitmq.com/ha.html#replication-factor * automatic: can be blocking, will always replicate the queue, but can block the io while doing it * manual: (default) mode. A new queue mirror will only receive new messages (messages already in the queue wont be mirrored). Using manual is not a big issue for us, as most of the time, OpenStack queues are empty. **message-ttl** Message TTL in queues. By default, no TTL. We recommend to set it to 600000 (10 minutes). This is supposed to be safe because most of the OpenStack elements are timeouting after 300 sec. So a message not consumed in 10 minutes will be dropped from queues. **master-locator** Determine which node is elected master when creating the queue. * client-local: (default) Pick the node the client that declares the queue is connected to * min-masters: Pick the node hosting the minimum number of bound masters * random We recommend keeping the client-local (default value). --------------------- On OpenStack services --------------------- rabbit_ha_queues ^^^^^^^^^^^^^^^^ You may see this parameters in some of the configuration file. But this is useless now because the policy is setting this. amqp_durable_queues ^^^^^^^^^^^^^^^^^^^ See here: https://www.rabbitmq.com/queues.html#durability ""In most other cases, durable queues are the recommended option. For replicated queues, the only reasonable option is to use durable queues."" So, because we enabled HA in our policy, we MUST enable durable queues: So, set: .. code-block:: yaml amqp_durable_queues = True in every OpenStack config file Note that the durability of a queue (or an exchange) cannot be set AFTER the queue has been created. So if you forgot to set this at the beginning, you will have to delete your queue before OpenStack can recreate the queues with correct durability.",================================ Large Scale Configuration Rabbit ================================ # WIP ,239,4
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I0fa188e4492f852ac1097d69c913f116ae96bb52,openstack/tripleo-heat-templates,stable/wallaby,I0fa188e4492f852ac1097d69c913f116ae96bb52,Set amphora timezone based on TimeZone setting,ABANDONED,2022-07-02 18:59:51.000000000,2022-07-04 07:37:07.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-07-02 18:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fadf037acb861e43ec9d9f15b3523c536e0639e0', 'message': 'Set amphora timezone based on TimeZone setting\n\nUse the global TimeZone parameter in order to configure the timezone of\nthe amphora.\n\n Conflicts:\n\tdeployment/octavia/octavia-base.yaml\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/839937\nDepends-On: https://review.opendev.org/c/openstack/puppet-octavia/+/842079\nChange-Id: I0fa188e4492f852ac1097d69c913f116ae96bb52\n(cherry picked from commit 5ddeac53c0a93754b8a2f054bc7feccff3d54665)\n'}, {'number': 2, 'created': '2022-07-04 06:59:00.000000000', 'files': ['deployment/octavia/octavia-base.yaml', 'releasenotes/notes/set-amphora-timezone-d62de55c993c5d70.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84542c33a264c86f86f8a98db0d12950defa600d', 'message': 'Set amphora timezone based on TimeZone setting\n\nUse the global TimeZone parameter in order to configure the timezone of\nthe amphora.\n\n Conflicts:\n\tdeployment/octavia/octavia-base.yaml\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/848568\nDepends-On: https://review.opendev.org/c/openstack/puppet-octavia/+/848569\nChange-Id: I0fa188e4492f852ac1097d69c913f116ae96bb52\n(cherry picked from commit 5ddeac53c0a93754b8a2f054bc7feccff3d54665)\n'}]",4,848523,84542c33a264c86f86f8a98db0d12950defa600d,13,4,2,34429,,,0,"Set amphora timezone based on TimeZone setting

Use the global TimeZone parameter in order to configure the timezone of
the amphora.

 Conflicts:
	deployment/octavia/octavia-base.yaml

Depends-On: https://review.opendev.org/c/openstack/octavia/+/848568
Depends-On: https://review.opendev.org/c/openstack/puppet-octavia/+/848569
Change-Id: I0fa188e4492f852ac1097d69c913f116ae96bb52
(cherry picked from commit 5ddeac53c0a93754b8a2f054bc7feccff3d54665)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/848523/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-base.yaml', 'releasenotes/notes/set-amphora-timezone-d62de55c993c5d70.yaml']",2,fadf037acb861e43ec9d9f15b3523c536e0639e0,5ddeac-wallaby,--- features: - | The TimeZone parameter gets used for configuring the Octavia amphora timezone now. ,,10,0
openstack%2Fpuppet-octavia~stable%2Fxena~I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5,openstack/puppet-octavia,stable/xena,I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5,Allow amphora timezone configuration,ABANDONED,2022-07-04 07:15:05.000000000,2022-07-04 07:35:57.000000000,,[{'_account_id': 34429}],"[{'number': 1, 'created': '2022-07-04 07:15:05.000000000', 'files': ['releasenotes/notes/set-amphora-timezone-103b078b31ab7aeb.yaml', 'spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/86a17c3ad4e85922241c24e792cfd1dcacd65548', 'message': 'Allow amphora timezone configuration\n\nAdds support for the ``[controller_worker] amp_timezone`` configuration\nparameter. It allows to configure the timezone of the amphora.\n\n Conflicts:\n\tmanifests/controller.pp\n\tspec/classes/octavia_controller_spec.rb\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/839937\nChange-Id: I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5\n(cherry picked from commit b5ab3de4bcf122d4228173eca0d0cd733a0e1ed9)\n(cherry picked from commit 8a5a3c6fabcfc0ad158d01a562a0dde60cec4b2e)\n'}]",1,848574,86a17c3ad4e85922241c24e792cfd1dcacd65548,4,1,1,34429,,,0,"Allow amphora timezone configuration

Adds support for the ``[controller_worker] amp_timezone`` configuration
parameter. It allows to configure the timezone of the amphora.

 Conflicts:
	manifests/controller.pp
	spec/classes/octavia_controller_spec.rb

Depends-On: https://review.opendev.org/c/openstack/octavia/+/839937
Change-Id: I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5
(cherry picked from commit b5ab3de4bcf122d4228173eca0d0cd733a0e1ed9)
(cherry picked from commit 8a5a3c6fabcfc0ad158d01a562a0dde60cec4b2e)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/74/848574/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/set-amphora-timezone-103b078b31ab7aeb.yaml', 'spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp']",3,86a17c3ad4e85922241c24e792cfd1dcacd65548,b5ab3d-xena,"# [*amp_timezone*] # (optional) Defines the timezone to use as represented in # /usr/share/zoneinfo. # Default is $::os_service_default # $amp_timezone = $::os_service_default, 'controller_worker/amp_timezone' : value => $amp_timezone;",,15,0
openstack%2Fpuppet-octavia~stable%2Fyoga~I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5,openstack/puppet-octavia,stable/yoga,I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5,Allow amphora timezone configuration,ABANDONED,2022-07-04 07:07:10.000000000,2022-07-04 07:35:51.000000000,,[{'_account_id': 34429}],"[{'number': 1, 'created': '2022-07-04 07:07:10.000000000', 'files': ['releasenotes/notes/set-amphora-timezone-103b078b31ab7aeb.yaml', 'spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/8a5a3c6fabcfc0ad158d01a562a0dde60cec4b2e', 'message': 'Allow amphora timezone configuration\n\nAdds support for the ``[controller_worker] amp_timezone`` configuration\nparameter. It allows to configure the timezone of the amphora.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/839937\nChange-Id: I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5\n(cherry picked from commit b5ab3de4bcf122d4228173eca0d0cd733a0e1ed9)\n'}]",2,848572,8a5a3c6fabcfc0ad158d01a562a0dde60cec4b2e,4,1,1,34429,,,0,"Allow amphora timezone configuration

Adds support for the ``[controller_worker] amp_timezone`` configuration
parameter. It allows to configure the timezone of the amphora.

Depends-On: https://review.opendev.org/c/openstack/octavia/+/839937
Change-Id: I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5
(cherry picked from commit b5ab3de4bcf122d4228173eca0d0cd733a0e1ed9)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/72/848572/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/set-amphora-timezone-103b078b31ab7aeb.yaml', 'spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp']",3,8a5a3c6fabcfc0ad158d01a562a0dde60cec4b2e,b5ab3d-yoga,"# [*amp_timezone*] # (optional) Defines the timezone to use as represented in # /usr/share/zoneinfo. # Default is $::os_service_default # $amp_timezone = $::os_service_default, 'controller_worker/amp_timezone' : value => $amp_timezone;",,15,0
openstack%2Fpuppet-octavia~stable%2Fwallaby~I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5,openstack/puppet-octavia,stable/wallaby,I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5,Allow amphora timezone configuration,ABANDONED,2022-07-04 06:56:17.000000000,2022-07-04 07:35:35.000000000,,"[{'_account_id': 9816}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-07-04 06:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/082104738bf207f93ac214caeff623d859822d33', 'message': 'Allow amphora timezone configuration\n\nAdds support for the ``[controller_worker] amp_timezone`` configuration\nparameter. It allows to configure the timezone of the amphora.\n\n Conflicts:\n\tmanifests/controller.pp\n\tspec/classes/octavia_controller_spec.rb\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/848568\nChange-Id: I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5\n(cherry picked from commit b5ab3de4bcf122d4228173eca0d0cd733a0e1ed9)\n'}, {'number': 2, 'created': '2022-07-04 07:17:15.000000000', 'files': ['releasenotes/notes/set-amphora-timezone-103b078b31ab7aeb.yaml', 'spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/d29db45e541790a7312912886454d26a634d963e', 'message': 'Allow amphora timezone configuration\n\nAdds support for the ``[controller_worker] amp_timezone`` configuration\nparameter. It allows to configure the timezone of the amphora.\n\n Conflicts:\n\tmanifests/controller.pp\n\tspec/classes/octavia_controller_spec.rb\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/848568\nChange-Id: I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5\n(cherry picked from commit b5ab3de4bcf122d4228173eca0d0cd733a0e1ed9)\n(cherry picked from commit 8a5a3c6fabcfc0ad158d01a562a0dde60cec4b2e)\n(cherry picked from commit 86a17c3ad4e85922241c24e792cfd1dcacd65548)\n'}]",2,848569,d29db45e541790a7312912886454d26a634d963e,6,2,2,34429,,,0,"Allow amphora timezone configuration

Adds support for the ``[controller_worker] amp_timezone`` configuration
parameter. It allows to configure the timezone of the amphora.

 Conflicts:
	manifests/controller.pp
	spec/classes/octavia_controller_spec.rb

Depends-On: https://review.opendev.org/c/openstack/octavia/+/848568
Change-Id: I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5
(cherry picked from commit b5ab3de4bcf122d4228173eca0d0cd733a0e1ed9)
(cherry picked from commit 8a5a3c6fabcfc0ad158d01a562a0dde60cec4b2e)
(cherry picked from commit 86a17c3ad4e85922241c24e792cfd1dcacd65548)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/69/848569/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/set-amphora-timezone-103b078b31ab7aeb.yaml', 'spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp']",3,082104738bf207f93ac214caeff623d859822d33,b5ab3d-wallaby,"# [*amp_timezone*] # (optional) Defines the timezone to use as represented in # /usr/share/zoneinfo. # Default is $::os_service_default # $amp_timezone = $::os_service_default, 'controller_worker/amp_timezone' : value => $amp_timezone;",,15,0
openstack%2Foctavia~stable%2Fwallaby~I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07,openstack/octavia,stable/wallaby,I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07,Make amphora timezone configurable,ABANDONED,2022-07-04 06:50:26.000000000,2022-07-04 07:35:00.000000000,,[{'_account_id': 34429}],"[{'number': 1, 'created': '2022-07-04 06:50:26.000000000', 'files': ['octavia/common/config.py', 'octavia/common/jinja/templates/user_data_config_drive.template', 'octavia/tests/unit/common/jinja/test_user_data_jinja_cfg.py', 'devstack/plugin.sh', 'octavia/common/jinja/user_data_jinja_cfg.py', 'etc/octavia.conf', 'releasenotes/notes/add-config-option-for-amp-timezone-6496a33a23d7520d.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/3b0f35f257ec09c69ff1a2cf08f81ccfacdb1faf', 'message': 'Make amphora timezone configurable\n\nThe new amp_timezone option allows to adjust the timezone of\namphora using cloud-init.\n\nChange-Id: I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07\n(cherry picked from commit 829e44acbd3b1d193ad0125c67b83ec5860a470f)\n(cherry picked from commit 2d786a5371086d9761fe23cc3bed6c64d2282b32)\n(cherry picked from commit 295026d68b15eacec7a0e37c09c754521cc21d3e)\n'}]",0,848568,3b0f35f257ec09c69ff1a2cf08f81ccfacdb1faf,3,1,1,34429,,,0,"Make amphora timezone configurable

The new amp_timezone option allows to adjust the timezone of
amphora using cloud-init.

Change-Id: I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07
(cherry picked from commit 829e44acbd3b1d193ad0125c67b83ec5860a470f)
(cherry picked from commit 2d786a5371086d9761fe23cc3bed6c64d2282b32)
(cherry picked from commit 295026d68b15eacec7a0e37c09c754521cc21d3e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/68/848568/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/common/jinja/templates/user_data_config_drive.template', 'octavia/tests/unit/common/jinja/test_user_data_jinja_cfg.py', 'devstack/plugin.sh', 'octavia/common/jinja/user_data_jinja_cfg.py', 'etc/octavia.conf', 'releasenotes/notes/add-config-option-for-amp-timezone-6496a33a23d7520d.yaml']",7,3b0f35f257ec09c69ff1a2cf08f81ccfacdb1faf,829e44-wallaby,"--- features: - | Configuration of the amphora's timezone is now possible using new configuration setting ""amp_timezone"" in the controller_worker options group. ",,22,4
openstack%2Foctavia~stable%2Fxena~I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07,openstack/octavia,stable/xena,I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07,Make amphora timezone configurable,ABANDONED,2022-07-04 06:50:10.000000000,2022-07-04 07:34:54.000000000,,[{'_account_id': 34429}],"[{'number': 1, 'created': '2022-07-04 06:50:10.000000000', 'files': ['octavia/common/config.py', 'octavia/common/jinja/templates/user_data_config_drive.template', 'octavia/tests/unit/common/jinja/test_user_data_jinja_cfg.py', 'devstack/plugin.sh', 'octavia/common/jinja/user_data_jinja_cfg.py', 'etc/octavia.conf', 'releasenotes/notes/add-config-option-for-amp-timezone-6496a33a23d7520d.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/295026d68b15eacec7a0e37c09c754521cc21d3e', 'message': 'Make amphora timezone configurable\n\nThe new amp_timezone option allows to adjust the timezone of\namphora using cloud-init.\n\nChange-Id: I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07\n(cherry picked from commit 829e44acbd3b1d193ad0125c67b83ec5860a470f)\n(cherry picked from commit 2d786a5371086d9761fe23cc3bed6c64d2282b32)\n'}]",0,848567,295026d68b15eacec7a0e37c09c754521cc21d3e,3,1,1,34429,,,0,"Make amphora timezone configurable

The new amp_timezone option allows to adjust the timezone of
amphora using cloud-init.

Change-Id: I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07
(cherry picked from commit 829e44acbd3b1d193ad0125c67b83ec5860a470f)
(cherry picked from commit 2d786a5371086d9761fe23cc3bed6c64d2282b32)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/67/848567/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/common/jinja/templates/user_data_config_drive.template', 'octavia/tests/unit/common/jinja/test_user_data_jinja_cfg.py', 'devstack/plugin.sh', 'octavia/common/jinja/user_data_jinja_cfg.py', 'etc/octavia.conf', 'releasenotes/notes/add-config-option-for-amp-timezone-6496a33a23d7520d.yaml']",7,295026d68b15eacec7a0e37c09c754521cc21d3e,829e44-xena,"--- features: - | Configuration of the amphora's timezone is now possible using new configuration setting ""amp_timezone"" in the controller_worker options group. ",,22,4
openstack%2Foctavia~stable%2Fyoga~I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07,openstack/octavia,stable/yoga,I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07,Make amphora timezone configurable,ABANDONED,2022-07-04 06:49:50.000000000,2022-07-04 07:34:37.000000000,,[{'_account_id': 34429}],"[{'number': 1, 'created': '2022-07-04 06:49:50.000000000', 'files': ['octavia/common/config.py', 'octavia/common/jinja/templates/user_data_config_drive.template', 'octavia/tests/unit/common/jinja/test_user_data_jinja_cfg.py', 'devstack/plugin.sh', 'octavia/common/jinja/user_data_jinja_cfg.py', 'etc/octavia.conf', 'releasenotes/notes/add-config-option-for-amp-timezone-6496a33a23d7520d.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2d786a5371086d9761fe23cc3bed6c64d2282b32', 'message': 'Make amphora timezone configurable\n\nThe new amp_timezone option allows to adjust the timezone of\namphora using cloud-init.\n\nChange-Id: I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07\n(cherry picked from commit 829e44acbd3b1d193ad0125c67b83ec5860a470f)\n'}]",0,848566,2d786a5371086d9761fe23cc3bed6c64d2282b32,3,1,1,34429,,,0,"Make amphora timezone configurable

The new amp_timezone option allows to adjust the timezone of
amphora using cloud-init.

Change-Id: I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07
(cherry picked from commit 829e44acbd3b1d193ad0125c67b83ec5860a470f)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/66/848566/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/common/jinja/templates/user_data_config_drive.template', 'octavia/tests/unit/common/jinja/test_user_data_jinja_cfg.py', 'devstack/plugin.sh', 'octavia/common/jinja/user_data_jinja_cfg.py', 'etc/octavia.conf', 'releasenotes/notes/add-config-option-for-amp-timezone-6496a33a23d7520d.yaml']",7,2d786a5371086d9761fe23cc3bed6c64d2282b32,829e44-yoga,"--- features: - | Configuration of the amphora's timezone is now possible using new configuration setting ""amp_timezone"" in the controller_worker options group. ",,22,4
openstack%2Flarge-scale~master~Ie5bb8c7e09ed49f633290cc789b874107676f9e4,openstack/large-scale,master,Ie5bb8c7e09ed49f633290cc789b874107676f9e4,Transfer large scale scaling stories to rst documentation,MERGED,2022-07-01 13:05:40.000000000,2022-07-04 07:31:32.000000000,2022-07-04 07:30:19.000000000,"[{'_account_id': 11583}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 13:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/large-scale/commit/e0eebe9f4cc69bf8713d217b3d19dea5b685a87e', 'message': 'Transfer large scale scaling stories to rst documentation\n\nSigned-off-by: Ramona Rautenberg <rautenberg@osism.tech>\nChange-Id: Ie5bb8c7e09ed49f633290cc789b874107676f9e4\n'}, {'number': 2, 'created': '2022-07-01 13:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/large-scale/commit/2e1fc5bce70fcc7c359b85413084aacf8546c3d4', 'message': 'Transfer large scale scaling stories to rst documentation\n\nSigned-off-by: Ramona Rautenberg <rautenberg@osism.tech>\nChange-Id: Ie5bb8c7e09ed49f633290cc789b874107676f9e4\n'}, {'number': 3, 'created': '2022-07-04 05:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/large-scale/commit/114a5253f08cdaa79c7d6bc2fd518325817618c9', 'message': 'Transfer large scale scaling stories to rst documentation\n\nSigned-off-by: Ramona Rautenberg <rautenberg@osism.tech>\nChange-Id: Ie5bb8c7e09ed49f633290cc789b874107676f9e4\n'}, {'number': 4, 'created': '2022-07-04 05:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/large-scale/commit/95ce4f875c6f53e0f317a075624371f434d31175', 'message': 'Transfer large scale scaling stories to rst documentation\n\nSigned-off-by: Ramona Rautenberg <rautenberg@osism.tech>\nChange-Id: Ie5bb8c7e09ed49f633290cc789b874107676f9e4\n'}, {'number': 5, 'created': '2022-07-04 05:46:56.000000000', 'files': ['doc/source/index.rst', 'doc/source/stories/2020-01-29.rst', 'doc/source/journey/scale_up.rst', 'doc/source/journey/large_scale_scaling_stories.rst', 'doc/source/journey/index.rst', 'doc/source/stories/stories.rst', 'doc/source/stories/index.rst'], 'web_link': 'https://opendev.org/openstack/large-scale/commit/6698cddaaf0aee9e17cdf3d076a36f00637b9ec4', 'message': 'Transfer large scale scaling stories to rst documentation\n\nSigned-off-by: Ramona Rautenberg <rautenberg@osism.tech>\nChange-Id: Ie5bb8c7e09ed49f633290cc789b874107676f9e4\n'}]",1,848443,6698cddaaf0aee9e17cdf3d076a36f00637b9ec4,13,2,5,34533,,,0,"Transfer large scale scaling stories to rst documentation

Signed-off-by: Ramona Rautenberg <rautenberg@osism.tech>
Change-Id: Ie5bb8c7e09ed49f633290cc789b874107676f9e4
",git fetch https://review.opendev.org/openstack/large-scale refs/changes/43/848443/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/large-scale/stories.rst', 'doc/source/journey/large_scale_scaling_stories.rst', 'doc/source/journey/index.rst', 'doc/source/large-scale/index.rst', 'doc/source/large-scale/stories/2020-01-29.rst']",6,e0eebe9f4cc69bf8713d217b3d19dea5b685a87e,add/largescale_scaling_stories_documentation,"=================================================== Large Scale Scaling Stories/2020-01-29-AlbertBraden =================================================== Here are the scaling issues I've encountered recently at Synopsys, in reverse chronological order: Thursday 12/19/2019: openstack server list all-projects does not return all VMs. --------------------------------------------------------------------------------- In /etc/nova/nova.conf we have default: # max_limit = 1000 The recordset cleanup script depends on correct output from openstack server list all-projects"" Fix: Increased max_limit to 2000 The recordset cleanup script will run openstack server list all-projects|wc l"" and compare the output to max_limit, and refuse to run if max_limit is too low. If this happens, increase max_limit so that it is greater than the number of VMs in the cluster. As time permits we need to look into paging results: https://docs.openstack.org/api-guide/compute/paginated_collections.html Friday 12/13/2019: Arp table got full on pod2 controllers --------------------------------------------------------- https://www.cyberciti.biz/faq/centos-redhat-debian-linux-neighbor-table-overflow/ Fix: Increase sysctl values: .. code-block:: console --- a/roles/openstack/controller/neutron/tasks/main.yml +++ b/roles/openstack/controller/neutron/tasks/main.yml @@ -243,6 +243,9 @@ with_items: - { name: 'net.bridge.bridge-nf-call-iptables', value: '1' } - { name: 'net.bridge.bridge-nf-call-ip6tables', value: '1' } + - { name: 'net.ipv4.neigh.default.gc_thresh3', value: '4096' } + - { name: 'net.ipv4.neigh.default.gc_thresh2', value: '2048' } + - { name: 'net.ipv4.neigh.default.gc_thresh1', value: '1024' } 12/10/2019: RPC workers were overloaded --------------------------------------- http://lists.openstack.org/pipermail/openstack-discuss/2019-December/011465.html Fix: increase number of RPC workers. modify /etc/neutron/neutron.conf on controllers: .. code-block:: console 148c148 < #rpc_workers = 1 --- > rpc_workers = 8 October 2019: Rootwrap ---------------------- Neutron was timing out because rootwrap was taking too long to spawn. Fix: Run rootwrap daemon: Add line to /etc/neutron/neutron.conf on the controllers: root_helper_daemon = ""sudo /usr/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf"" Add line to /etc/sudoers.d/neutron_sudoers on the controllers: neutron ALL = (root) NOPASSWD: /usr/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf ",,103,6
openstack%2Fci-log-processing~master~I9f3b922652829ba577186cff2af5e0debe5df088,openstack/ci-log-processing,master,I9f3b922652829ba577186cff2af5e0debe5df088,"Update Opensearch user, role, ISM policy",MERGED,2022-06-28 07:29:03.000000000,2022-07-04 07:21:57.000000000,2022-07-04 07:20:41.000000000,"[{'_account_id': 5263}, {'_account_id': 6889}, {'_account_id': 9311}, {'_account_id': 20676}, {'_account_id': 22348}, {'_account_id': 34369}]","[{'number': 1, 'created': '2022-06-28 07:29:03.000000000', 'files': ['opensearch-config/README.md'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/9f226fa5e296daacf516f5751675e2c6005ef082', 'message': ""Update Opensearch user, role, ISM policy\n\nAfter merging change related to create 'performance-' index [1],\nit was necessary to add new permissions into the logstash role.\nAlso added ISM policy to remove performance data after 14 days.\n\n[1] https://review.opendev.org/c/openstack/ci-log-processing/+/840466\n\nChange-Id: I9f3b922652829ba577186cff2af5e0debe5df088\n""}]",0,847891,9f226fa5e296daacf516f5751675e2c6005ef082,8,6,1,20676,,,0,"Update Opensearch user, role, ISM policy

After merging change related to create 'performance-' index [1],
it was necessary to add new permissions into the logstash role.
Also added ISM policy to remove performance data after 14 days.

[1] https://review.opendev.org/c/openstack/ci-log-processing/+/840466

Change-Id: I9f3b922652829ba577186cff2af5e0debe5df088
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/91/847891/1 && git format-patch -1 --stdout FETCH_HEAD,['opensearch-config/README.md'],1,9f226fa5e296daacf516f5751675e2c6005ef082,,"* Logstash role (modify) Details: name: logstash cluster permissions: cluster_monitor, cluster_composite_ops, indices:admin/template/get, indices:admin/template/put, cluster:admin/ingest/pipeline/put, cluster:admin:ingest/pipeline/get index permissions: index: logstash-*, performance-*, *beat* index permissions: crud, create_index tenant permissions: tenant: global_tenant NOTE: The index `*beat*` is optional. * For logstash-logs-* Delete data for logstash-logs index after 14 days ], ""ism_template"": [ { ""index_patterns"": [ ""logstash-logs-*"" ] }* For performance-* Policy ID: Delete data for performance index after 14 days ```json { ""policy"": { ""description"": ""Delete performance data after 14 days"", ""default_state"": ""hot"", ""states"": [ { ""name"": ""hot"", ""actions"": [], ""transitions"": [ { ""state_name"": ""delete"", ""conditions"": { ""min_index_age"": ""14d"" } } ] }, { ""name"": ""delete"", ""actions"": [ { ""delete"": {} } ], ""transitions"": [] } ], ""ism_template"": [ { ""index_patterns"": [ ""performance-*"" ] } ] } } ``` ",,67,0
openstack%2Fci-log-processing~master~Iae7e2fa7a5ed6d09855a2cb042ce68f7152f9cbc,openstack/ci-log-processing,master,Iae7e2fa7a5ed6d09855a2cb042ce68f7152f9cbc,Add Prometheus monitoring metrics into logscraper,MERGED,2022-06-21 08:34:15.000000000,2022-07-04 07:20:46.000000000,2022-07-04 07:19:41.000000000,"[{'_account_id': 6889}, {'_account_id': 7186}, {'_account_id': 8367}, {'_account_id': 9311}, {'_account_id': 11810}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-21 08:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/29217355c9f0e7d070e57f831d0fadf80af1c56c', 'message': 'DNM Add Prometheus monitoring metrics into logscraper\n\nWe would like to know statistics of processed jobs.\nIt might help us to estimate storage usage on Opensearch service.\n\nChange-Id: Iae7e2fa7a5ed6d09855a2cb042ce68f7152f9cbc\n'}, {'number': 2, 'created': '2022-06-21 09:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/7483a768286f698696b2263be46ee031dbf5ec0f', 'message': 'DNM Add Prometheus monitoring metrics into logscraper\n\nWe would like to know statistics of processed jobs.\nIt might help us to estimate storage usage on Opensearch service.\n\nChange-Id: Iae7e2fa7a5ed6d09855a2cb042ce68f7152f9cbc\n'}, {'number': 3, 'created': '2022-06-21 13:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/06d5ae0fdaf41c5f16ed42b325bfe6cde0f6ef42', 'message': 'DNM Add Prometheus monitoring metrics into logscraper\n\nWe would like to know statistics of processed jobs.\nIt might help us to estimate storage usage on Opensearch service.\n\nChange-Id: Iae7e2fa7a5ed6d09855a2cb042ce68f7152f9cbc\n'}, {'number': 4, 'created': '2022-06-24 06:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/6757e0fde726dd85cf7ec263c74bcae3e091404f', 'message': 'Add Prometheus monitoring metrics into logscraper\n\nWe would like to know statistics of processed jobs.\nIt might help us to estimate storage usage on Opensearch service.\n\nChange-Id: Iae7e2fa7a5ed6d09855a2cb042ce68f7152f9cbc\n'}, {'number': 5, 'created': '2022-06-24 06:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/50fb9dd0d44218e124770a06356bb875e1bc1583', 'message': 'Add Prometheus monitoring metrics into logscraper\n\nWe would like to know statistics of processed jobs.\nIt might help us to estimate storage usage on Opensearch service.\n\nChange-Id: Iae7e2fa7a5ed6d09855a2cb042ce68f7152f9cbc\n'}, {'number': 6, 'created': '2022-06-28 12:13:22.000000000', 'files': ['logscraper/tests/test_logscraper.py', 'requirements.txt', 'ansible/playbooks/deploy-services.yml', 'ansible/roles/logscraper/templates/config.yaml.j2', 'logscraper/logscraper.py', 'logscraper/logscraper.yaml.sample', 'ansible/roles/logscraper/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/81f23539d15d85c75b753093b93aa7029c662280', 'message': 'Add Prometheus monitoring metrics into logscraper\n\nWe would like to know statistics of processed jobs.\nIt might help us to estimate storage usage on Opensearch service.\n\nChange-Id: Iae7e2fa7a5ed6d09855a2cb042ce68f7152f9cbc\n'}]",4,846965,81f23539d15d85c75b753093b93aa7029c662280,18,7,6,20676,,,0,"Add Prometheus monitoring metrics into logscraper

We would like to know statistics of processed jobs.
It might help us to estimate storage usage on Opensearch service.

Change-Id: Iae7e2fa7a5ed6d09855a2cb042ce68f7152f9cbc
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/65/846965/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'logscraper/logscraper.py']",2,29217355c9f0e7d070e57f831d0fadf80af1c56c,,"from prometheus_client import start_http_server from prometheus_client import Gauge parser.add_argument(""--monitoring-port"", help=""Expose an Prometheus "" ""exporter to collect monitoring metrics."" ""NOTE: When no port set, monitoring will be disabled."", type=int)class Monitoring: def __init__(self): self.previous_sum = 0 self.job_count = Gauge( 'logscraper_job_count', 'Number of processed jobs by logscraper', ['summary']) def parse_metrics(self, builds): new_sum = self.previous_sum + len(builds) self.job_count.labels('summary').set(new_sum) self.previous_sum = new_sum def run_scraping(args, zuul_api_url, job_name=None, monitoring=None): if monitoring: monitoring.parse_metrics(builds) def run(args, monitoring): run_scraping(args, zuul_api_url, job_name, monitoring) run_scraping(args, zuul_api_url, monitoring=monitoring) monitoring = None if args.monitoring_port: monitoring = Monitoring() start_http_server(args.monitoring_port) run(args, monitoring) ","def run_scraping(args, zuul_api_url, job_name=None): def run(args): run_scraping(args, zuul_api_url, job_name) run_scraping(args, zuul_api_url) run(args)",35,5
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic9010307c2aab7041c8ae30c72cc1bf99fdd22f6,openstack/tripleo-heat-templates,stable/wallaby,Ic9010307c2aab7041c8ae30c72cc1bf99fdd22f6,"Add CephNfs service on roles providing ""external"" network connectivity",MERGED,2022-03-07 10:28:29.000000000,2022-07-04 07:13:45.000000000,2022-07-04 07:13:45.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-07 10:28:29.000000000', 'files': ['roles/ControllerAllNovaStandalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles_data.yaml', 'roles/Controller.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles_data_undercloud.yaml', 'tools/yaml-validate.py', 'roles/ControllerSriov.yaml', 'roles/ControllerOpenstack.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/31eafc7353d22a351d11738cfd09a192e55afb03', 'message': 'Add CephNfs service on roles providing ""external"" network connectivity\n\nWith the recent changes meant to allow deployment of Ganesha on the\n""external"" network, the CephNfs service can be added to more roles\nthan just ControllerStorageNfs.\n\nChange-Id: Ic9010307c2aab7041c8ae30c72cc1bf99fdd22f6\nCloses-Bug: 1961578\n(cherry picked from commit e1de2bcb728a2a0d7de9fd4c14fe031738de4ecb)\n'}]",8,831857,31eafc7353d22a351d11738cfd09a192e55afb03,33,5,1,6796,,,0,"Add CephNfs service on roles providing ""external"" network connectivity

With the recent changes meant to allow deployment of Ganesha on the
""external"" network, the CephNfs service can be added to more roles
than just ControllerStorageNfs.

Change-Id: Ic9010307c2aab7041c8ae30c72cc1bf99fdd22f6
Closes-Bug: 1961578
(cherry picked from commit e1de2bcb728a2a0d7de9fd4c14fe031738de4ecb)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/831857/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ControllerAllNovaStandalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/Controller.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles_data_undercloud.yaml', 'tools/yaml-validate.py', 'roles/ControllerSriov.yaml', 'roles/ControllerOpenstack.yaml']",9,31eafc7353d22a351d11738cfd09a192e55afb03,, - OS::TripleO::Services::CephNfs,,9,22
openstack%2Ftripleo-heat-templates~master~Ie183b1bd16875cc47ce00cfd45236db7608247ef,openstack/tripleo-heat-templates,master,Ie183b1bd16875cc47ce00cfd45236db7608247ef,Remove duplicate entries from .gitignore,MERGED,2022-06-30 11:02:32.000000000,2022-07-04 07:13:41.000000000,2022-07-04 07:13:41.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-30 11:02:32.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/645aba41a45d808f82aaac5ac561221ae25ec305', 'message': 'Remove duplicate entries from .gitignore\n\nChange-Id: Ie183b1bd16875cc47ce00cfd45236db7608247ef\n'}]",1,848257,645aba41a45d808f82aaac5ac561221ae25ec305,10,5,1,20733,,,0,"Remove duplicate entries from .gitignore

Change-Id: Ie183b1bd16875cc47ce00cfd45236db7608247ef
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/848257/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,645aba41a45d808f82aaac5ac561221ae25ec305,duplicate,,.cache tripleo_heat_templates/tests/ansible-pacemaker tripleo_heat_templates/tests/tripleo-ansible,0,3
openstack%2Ftripleo-heat-templates~master~Ibbf6afe738607fe3eebe38464fb001edadabd7fb,openstack/tripleo-heat-templates,master,Ibbf6afe738607fe3eebe38464fb001edadabd7fb,Remove unused parameters from undercloud post deployment template,MERGED,2022-06-15 02:13:28.000000000,2022-07-04 07:13:36.000000000,2022-07-04 07:13:36.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-15 02:13:28.000000000', 'files': ['extraconfig/post_deploy/undercloud_post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/41801f614798c775ce6cc0645f913fcc2e79da61', 'message': 'Remove unused parameters from undercloud post deployment template\n\nChange-Id: Ibbf6afe738607fe3eebe38464fb001edadabd7fb\n'}]",2,845868,41801f614798c775ce6cc0645f913fcc2e79da61,12,4,1,9816,,,0,"Remove unused parameters from undercloud post deployment template

Change-Id: Ibbf6afe738607fe3eebe38464fb001edadabd7fb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/845868/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/post_deploy/undercloud_post.yaml'],1,41801f614798c775ce6cc0645f913fcc2e79da61,,, SnmpdReadonlyUserPassword: description: The user password for SNMPd with readonly rights running on all Overcloud nodes type: string hidden: true MysqlRootPassword: type: string hidden: true default: '' DnsServers: default: [] description: > DNS servers to use for the Overcloud (2 max for some implementations). If not set the nameservers configured in the ctlplane subnet's dns_nameservers attribute will be used. type: comma_delimited_list,0,15
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I3d7cda24ac6eb9b105a1a93440df290413b16ab1,openstack/tripleo-heat-templates,stable/wallaby,I3d7cda24ac6eb9b105a1a93440df290413b16ab1,Fix typo in aodh-base template,MERGED,2022-07-01 11:30:14.000000000,2022-07-04 07:13:32.000000000,2022-07-04 07:13:32.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-01 11:30:14.000000000', 'files': ['deployment/aodh/aodh-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ef49475c36128959f6e51b74ee81667881a15eb', 'message': 'Fix typo in aodh-base template\n\nThis change fixes typo in aodh-base template from\naoth to aodh when setting hiera params.\n\nChange-Id: I3d7cda24ac6eb9b105a1a93440df290413b16ab1\n(cherry picked from commit 340a8625c54543720eae798a5139a1ad9745e1ec)\n'}]",1,848355,2ef49475c36128959f6e51b74ee81667881a15eb,10,5,1,20733,,,0,"Fix typo in aodh-base template

This change fixes typo in aodh-base template from
aoth to aodh when setting hiera params.

Change-Id: I3d7cda24ac6eb9b105a1a93440df290413b16ab1
(cherry picked from commit 340a8625c54543720eae798a5139a1ad9745e1ec)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/848355/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/aodh/aodh-base.yaml'],1,2ef49475c36128959f6e51b74ee81667881a15eb,aoth-typo-stable/wallaby, aodh::service_credentials::user_domain_name: 'Default' aodh::service_credentials::project_domain_name: 'Default', aoth::service_credentials::user_domain_name: 'Default' aoth::service_credentials::project_domain_name: 'Default',2,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I9fb4cdad1254f91faa694dc8915d552df4959904,openstack/tripleo-heat-templates,stable/wallaby,I9fb4cdad1254f91faa694dc8915d552df4959904,Add OVNContainerCpusetCpus,MERGED,2022-02-10 15:33:48.000000000,2022-07-04 06:59:50.000000000,2022-07-04 06:59:50.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-10 15:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ad9eefe3d3a189197750bdf756b443f554f50ce', 'message': 'Add OVNContainerCpusetCpus\n\nAdd OVNContainerCpusetCpus to allow core isolation for ovn-controllers.\nThis helps with NFV performances in regards to isolating each processes\non their own cores.\n\nChange-Id: I9fb4cdad1254f91faa694dc8915d552df4959904\n(cherry picked from commit a170d70e2a81cdc9db1681e4bf41b4e33d628653)\n'}, {'number': 2, 'created': '2022-02-10 15:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0d6a91991870ada9e5bb6988331fa1d1dd1b4094', 'message': 'Add OVNContainerCpusetCpus\n\nAdd OVNContainerCpusetCpus to allow core isolation for ovn-controllers.\nThis helps with NFV performances in regards to isolating each processes\non their own cores.\n\nChange-Id: I9fb4cdad1254f91faa694dc8915d552df4959904\n(cherry picked from commit a170d70e2a81cdc9db1681e4bf41b4e33d628653)\n'}, {'number': 3, 'created': '2022-04-01 18:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/78772caecc0013ae67f44b94938f29f6ffea6cd3', 'message': 'Add OVNContainerCpusetCpus\n\nAdd OVNContainerCpusetCpus to allow core isolation for ovn-controllers.\nThis helps with NFV performances in regards to isolating each processes\non their own cores.\n\nChange-Id: I9fb4cdad1254f91faa694dc8915d552df4959904\n(cherry picked from commit a170d70e2a81cdc9db1681e4bf41b4e33d628653)\n'}, {'number': 4, 'created': '2022-04-13 12:24:46.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b81323fbbf53e61389453ccfe9a9e1f534c50d4', 'message': 'Add OVNContainerCpusetCpus\n\nAdd OVNContainerCpusetCpus to allow core isolation for ovn-controllers.\nThis helps with NFV performances in regards to isolating each processes\non their own cores.\n\nChange-Id: I9fb4cdad1254f91faa694dc8915d552df4959904\n(cherry picked from commit a170d70e2a81cdc9db1681e4bf41b4e33d628653)\n'}]",7,828662,8b81323fbbf53e61389453ccfe9a9e1f534c50d4,28,6,4,7130,,,0,"Add OVNContainerCpusetCpus

Add OVNContainerCpusetCpus to allow core isolation for ovn-controllers.
This helps with NFV performances in regards to isolating each processes
on their own cores.

Change-Id: I9fb4cdad1254f91faa694dc8915d552df4959904
(cherry picked from commit a170d70e2a81cdc9db1681e4bf41b4e33d628653)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/828662/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,7ad9eefe3d3a189197750bdf756b443f554f50ce,ovn_cpu-stable/wallaby," OVNContainerCpusetCpus: description: > Limit the specific CPUs or cores a container can use. It can be specified as a single core (ex. 0), as a comma-separated list (ex. 0,1), as a range (ex. 0-3) or a combination if previous methods (ex 0-3,7,11-15). The selected cores should be isolated from guests and hypervisor in order to obtain best possible performance. type: string default: '' tags: - role_specific<<<<<<< HEAD (19690c Merge ""Implement project personas in custom designate policy)======= ovn_cpu_set: or: - not: {equals: [{get_param: OVNContainerCpusetCpus}, '']} - not: {equals: [{get_param: [RoleParameters, OVNContainerCpusetCpus]}, '' ]} >>>>>>> CHANGE (a170d7 Add OVNContainerCpusetCpus) container_cpuset_cpus: OVNContainerCpusetCpus OVNContainerCpusetCpus: {get_param: OVNContainerCpusetCpus}<<<<<<< HEAD (19690c Merge ""Implement project personas in custom designate policy)======= map_merge: - start_order: 1 image: *ovn_controller_image net: host privileged: true user: root restart: always depends_on: - openvswitch.service - if: - ovn_cpu_set - cpuset_cpus: {get_attr: [RoleParametersValue, value, container_cpuset_cpus]} - healthcheck: test: list_join: - ' ' - - '/openstack/healthcheck' - yaql: expression: str($.data.port) data: port: {get_param: OVNSouthboundServerPort} volumes: list_concat: - - /var/lib/kolla/config_files/ovn_controller.json:/var/lib/kolla/config_files/config.json:ro - /lib/modules:/lib/modules:ro # TODO(numans): This is temporary. Mount /run/openvswitch once # openvswitch systemd script is fixed to not delete /run/openvswitch # folder in the host when openvswitch service is stopped. - /run:/run - /var/lib/openvswitch/ovn:/run/ovn:shared,z - /var/log/containers/openvswitch:/var/log/openvswitch:z - /var/log/containers/openvswitch:/var/log/ovn:z - if: - {get_param: EnableInternalTLS} - - list_join: - ':' - - {get_param: InternalTLSCAFile} - {get_param: InternalTLSCAFile} - 'ro' - /etc/pki/tls/certs/ovn_controller.crt:/etc/pki/tls/certs/ovn_controller.crt - /etc/pki/tls/private/ovn_controller.key:/etc/pki/tls/private/ovn_controller.key environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS >>>>>>> CHANGE (a170d7 Add OVNContainerCpusetCpus)",,67,1
openstack%2Fopenstack-helm~master~Iffaa346d814b8d0a3e2292849943219f70d50a23,openstack/openstack-helm,master,Iffaa346d814b8d0a3e2292849943219f70d50a23,upgrading umbrella w/o changes has no app changes,MERGED,2022-06-22 16:29:27.000000000,2022-07-04 06:24:58.000000000,2022-07-04 06:22:44.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 31728}, {'_account_id': 34623}, {'_account_id': 34668}, {'_account_id': 35024}]","[{'number': 1, 'created': '2022-06-22 16:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9920e60cd74332e699468599a120d0163de685a1', 'message': ""[WIP/DNM] create failing test case for upgrading umbrella w/ no changes\n\nIf a Helm upgrade is performed on the OpenStack Umbrella chart using\nthe exact same configuration as the first release, then it's expected\nfor no pods to be created.\n\nChange-Id: Iffaa346d814b8d0a3e2292849943219f70d50a23\n""}, {'number': 2, 'created': '2022-06-27 20:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/73c151e4f8434c6612773154230f083eea8d43d6', 'message': ""validate upgrading openstack Helm release doesn't cause deployments to cycle pods\n\nIf a Helm upgrade is performed on the OpenStack Umbrella chart using\nthe exact same configuration as the first release, then it's expected\nfor no pods to be created. This did not work as expected.\n\nA few changes were required to support this desired behavior:\n1. Update glance's configmap-etc.yaml to modify a copy of .Values\n   instead of modifying .Values directly. This seems to cause Helm\n   to think changes were made and cause the configmap-etc hash to change\n   and result in the glance-api deployment changing.\n2. Update openstack.sh script to create a randomly generated memcache secret\n   for glance. Without this change, the glance-api deployment changes each time\n   since Helm randomly generates a new memcache secret if not provided.\n\nThis behavior is enforced via a new test script,\nvalidate-umbrella-upgrade-no-side-effects.sh.\n\nChange-Id: Iffaa346d814b8d0a3e2292849943219f70d50a23\n""}, {'number': 3, 'created': '2022-06-27 22:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/82c931f4e8d726aca81cbbfb5aff30af9759a6b8', 'message': ""validate upgrading openstack Helm release doesn't cause deployments to cycle pods\n\nIf a Helm upgrade is performed on the OpenStack Umbrella chart using\nthe exact same configuration as the first release, then it's expected\nfor no pods to be created. This did not work as expected.\n\nA few changes were required to support this desired behavior:\n1. Update glance's configmap-etc.yaml to modify a copy of .Values\n   instead of modifying .Values directly. This seems to cause Helm\n   to think changes were made and cause the configmap-etc hash to change\n   and result in the glance-api deployment changing.\n2. Update openstack.sh script to create a randomly generated memcache secret\n   for glance. Without this change, the glance-api deployment changes each time\n   since Helm randomly generates a new memcache secret if not provided.\n\nThis behavior is enforced via a new test script,\nvalidate-umbrella-upgrade-no-side-effects.sh.\n\nChange-Id: Iffaa346d814b8d0a3e2292849943219f70d50a23\n""}, {'number': 4, 'created': '2022-06-27 22:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ff7b2aad78c8d2d3368adadcc2df3004cc1cd149', 'message': ""validate upgrading openstack Helm release doesn't cause deployments to cycle pods\n\nIf a Helm upgrade is performed on the OpenStack Umbrella chart using\nthe exact same configuration as the first release, then it's expected\nfor no pods to be created. This did not work as expected.\n\nA few changes were required to support this desired behavior:\n1. Update glance's configmap-etc.yaml to modify a copy of .Values\n   instead of modifying .Values directly. This seems to cause Helm\n   to think changes were made and cause the configmap-etc hash to change\n   and result in the glance-api deployment changing.\n2. Update openstack.sh script to create a randomly generated memcache secret\n   for glance. Without this change, the glance-api deployment changes each time\n   since Helm randomly generates a new memcache secret if not provided.\n\nThis behavior is enforced via a new test script,\nvalidate-umbrella-upgrade-no-side-effects.sh.\n\nChange-Id: Iffaa346d814b8d0a3e2292849943219f70d50a23\n""}, {'number': 5, 'created': '2022-06-27 22:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9d530cbbe40e96421a66d01d86e696cc4484fc25', 'message': ""validate upgrading openstack Helm release doesn't cause deployments to cycle pods\n\nIf a Helm upgrade is performed on the OpenStack Umbrella chart using\nthe exact same configuration as the first release, then it's expected\nfor no pods to be created. This did not work as expected.\n\nA few changes were required to support this desired behavior:\n1. Update glance's configmap-etc.yaml to modify a copy of .Values\n   instead of modifying .Values directly. This seems to cause Helm\n   to think changes were made and cause the configmap-etc hash to change\n   and result in the glance-api deployment changing.\n2. Update openstack.sh script to create a randomly generated memcache secret\n   for glance. Without this change, the glance-api deployment changes each time\n   since Helm randomly generates a new memcache secret if not provided.\n\nThis behavior is enforced via a new test script,\nvalidate-umbrella-upgrade-no-side-effects.sh.\n\nChange-Id: Iffaa346d814b8d0a3e2292849943219f70d50a23\n""}, {'number': 6, 'created': '2022-06-28 14:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f5c404a020b3bb423dac16b0c0d374fe263790ac', 'message': ""validate upgrading openstack Helm release doesn't cause deployments to cycle pods\n\nIf a Helm upgrade is performed on the OpenStack Umbrella chart using\nthe exact same configuration as the first release, then it's expected\nfor no pods to be created. This did not work as expected.\n\nA few changes were required to support this desired behavior:\n1. Update glance's configmap-etc.yaml to modify a copy of .Values\n   instead of modifying .Values directly. This seems to cause Helm\n   to think changes were made and cause the configmap-etc hash to change\n   and result in the glance-api deployment changing.\n2. Update openstack.sh script to create a randomly generated memcache secret\n   for glance. Without this change, the glance-api deployment changes each time\n   since Helm randomly generates a new memcache secret if not provided.\n\nThis behavior is enforced via a new test script,\nvalidate-umbrella-upgrade-no-side-effects.sh.\n\nThe following jobs are always recreated due to hooks:\n- keystone-bootstrap\n- keystone-credential-setup\n- keystone-db-init\n- keystone-db-sync\n- keystone-domain-manage\n- keystone-fernet-setup\n- keystone-rabbit-init\n- rabbitmq-cluster-wait\n\nSome Jobs are created via CronJobs and could be created during validation.\nSo far, heat-engine-cleaner has been seen, but others could be caught too.\n\nSo the validation script ignores these related pod changes by checking if the\npod was created via a Job with a Helm hook or a Job created via a CronJob.\n\nChange-Id: Iffaa346d814b8d0a3e2292849943219f70d50a23\n""}, {'number': 7, 'created': '2022-06-28 18:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7e59f6ac90a6fad3e01e03bc7407e3711a8aa7a4', 'message': ""validate upgrading openstack Helm release doesn't cause changes to applications\n\nIf a Helm upgrade is performed on the OpenStack Umbrella chart using\nthe exact same configuration as the first release, then it's expected\nfor no DaemonSets, Deployments, or StatefulSets to be updated.\nThis did not work as expected.\n\nA few changes were required to support this desired behavior:\n1. Update glance's configmap-etc.yaml to trim whitespace and convert YAML comment\n   to Helm template comment. Before this change, Helm rendered the template with\n   the YAML comment and a newline for the install phase. On upgrades, Helm rendered\n   the template without the YAML comment and newline causing the hash of configmap-etc\n   to change, thus causing the glance-api Deployment to update.\n2. Update openstack.sh script to create a randomly generated memcache secret\n   for glance. Without this change, the glance-api deployment changes each time\n   since Helm randomly generates a new memcache secret if not provided.\n\nThis behavior is enforced via a new test script,\nvalidate-umbrella-upgrade-no-side-effects.sh.\n\nThe following jobs are always recreated due to hooks:\n- keystone-bootstrap\n- keystone-credential-setup\n- keystone-db-init\n- keystone-db-sync\n- keystone-domain-manage\n- keystone-fernet-setup\n- keystone-rabbit-init\n- rabbitmq-cluster-wait\n\nSome Jobs are created via CronJobs and could be created during validation.\nSo far, heat-engine-cleaner has been seen, but others could be caught too.\n\nSo the validation script ignores these related pod changes by checking if the\npod was created via a Job with a Helm hook or a Job created via a CronJob.\n\nChange-Id: Iffaa346d814b8d0a3e2292849943219f70d50a23\n""}, {'number': 8, 'created': '2022-06-28 19:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/692d7f1597f761003bf5716b971e7037237efd49', 'message': ""validate upgrading openstack Helm release doesn't cause changes to applications\n\nIf a Helm upgrade is performed on the OpenStack Umbrella chart using\nthe exact same configuration as the first release, then it's expected\nfor no DaemonSets, Deployments, or StatefulSets to be updated.\nThis did not work as expected.\n\nA few changes were required to support this desired behavior:\n1. Update glance's configmap-etc.yaml to trim whitespace and convert YAML comment\n   to Helm template comment. Before this change, Helm rendered the template with\n   the YAML comment and a newline for the install phase. On upgrades, Helm rendered\n   the template without the YAML comment and newline causing the hash of configmap-etc\n   to change, thus causing the glance-api Deployment to update.\n2. Update openstack.sh script to create a randomly generated memcache secret\n   for glance. Without this change, the glance-api deployment changes each time\n   since Helm randomly generates a new memcache secret if not provided.\n\nThis behavior is enforced via a new test script,\nvalidate-umbrella-upgrade-no-side-effects.sh.\n\nThe following jobs are always recreated due to hooks:\n- keystone-bootstrap\n- keystone-credential-setup\n- keystone-db-init\n- keystone-db-sync\n- keystone-domain-manage\n- keystone-fernet-setup\n- keystone-rabbit-init\n- rabbitmq-cluster-wait\n\nSome Jobs are created via CronJobs and could be created during validation.\nSo far, heat-engine-cleaner has been seen, but others could be caught too.\n\nSo the validation script ignores these related pod changes by checking if the\npod was created via a Job with a Helm hook or a Job created via a CronJob.\n\nChange-Id: Iffaa346d814b8d0a3e2292849943219f70d50a23\n""}, {'number': 9, 'created': '2022-06-28 20:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0c1b728608eba7c920d5e0bfe4aea27a7677f727', 'message': ""upgrading umbrella w/o changes has no app changes\n\nIf a Helm upgrade is performed on the OpenStack Umbrella chart using\nthe exact same configuration as the first release, then it's expected\nfor no DaemonSets, Deployments, or StatefulSets to be updated.\nThis did not work as expected.\n\nA few changes were required to support this desired behavior:\n1. Update glance's configmap-etc.yaml to trim whitespace and convert YAML comment\n   to Helm template comment. Before this change, Helm rendered the template with\n   the YAML comment and a newline for the install phase. On upgrades, Helm rendered\n   the template without the YAML comment and newline causing the hash of configmap-etc\n   to change, thus causing the glance-api Deployment to update.\n2. Update openstack.sh script to create a randomly generated memcache secret\n   for glance. Without this change, the glance-api deployment changes each time\n   since Helm randomly generates a new memcache secret if not provided.\n\nThis behavior is enforced via a new test script,\nvalidate-umbrella-upgrade-no-side-effects.sh.\n\nThe following jobs are always recreated due to hooks:\n- keystone-bootstrap\n- keystone-credential-setup\n- keystone-db-init\n- keystone-db-sync\n- keystone-domain-manage\n- keystone-fernet-setup\n- keystone-rabbit-init\n- rabbitmq-cluster-wait\n\nSome Jobs are created via CronJobs and could be created during validation.\nSo far, heat-engine-cleaner has been seen, but others could be caught too.\n\nSo the validation script ignores these related pod changes by checking if the\npod was created via a Job with a Helm hook or a Job created via a CronJob.\n\nChange-Id: Iffaa346d814b8d0a3e2292849943219f70d50a23\n""}, {'number': 10, 'created': '2022-06-28 20:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8400be30b111c9b4e4be1f7142330586d3524e46', 'message': ""upgrading umbrella w/o changes has no app changes\n\nIf a Helm upgrade is performed on the OpenStack Umbrella chart using\nthe exact same configuration as the first release, then it's expected\nfor no DaemonSets, Deployments, or StatefulSets to be updated.\nThis did not work as expected.\n\nA few changes were required to support this desired behavior:\n1. Update glance's configmap-etc.yaml to trim whitespace and convert\n   YAML comment to Helm template comment. Before this change, Helm\n   rendered the template with the YAML comment and a newline for the\n   install phase. On upgrades, Helm rendered the template without the\n   YAML comment and newline causing the hash of configmap-etc to change,\n   thus causing the glance-api Deployment to update.\n2. Update openstack.sh script to create a randomly generated memcache\n   secret for glance. Without this change, the glance-api deployment\n   changes each time since Helm randomly generates a new memcache\n   secret if not provided.\n\nThis behavior is enforced via a new test script,\nvalidate-umbrella-upgrade-no-side-effects.sh.\n\nThe following jobs are always recreated due to hooks:\n- keystone-bootstrap\n- keystone-credential-setup\n- keystone-db-init\n- keystone-db-sync\n- keystone-domain-manage\n- keystone-fernet-setup\n- keystone-rabbit-init\n- rabbitmq-cluster-wait\n\nSome Jobs are created via CronJobs and could be created during\nvalidation. So far, heat-engine-cleaner has been seen, but others\n could be caught too.\n\nSo the validation script ignores these related pod changes by checking\nif the pod was created via a Job with a Helm hook or a Job created via\na CronJob.\n\nChange-Id: Iffaa346d814b8d0a3e2292849943219f70d50a23\n""}, {'number': 11, 'created': '2022-06-28 20:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/82fe444e27b8ec97622eb383b315229cf5e2aa6b', 'message': ""upgrading umbrella w/o changes has no app changes\n\nIf a Helm upgrade is performed on the OpenStack Umbrella chart using\nthe exact same configuration as the first release, then it's expected\nfor no DaemonSets, Deployments, or StatefulSets to be updated.\nThis did not work as expected.\n\nA few changes were required to support this desired behavior:\n1. Update glance's configmap-etc.yaml to trim whitespace and convert\n   YAML comment to Helm template comment. Before this change, Helm\n   rendered the template with the YAML comment and a newline for the\n   install phase. On upgrades, Helm rendered the template without the\n   YAML comment and newline causing the hash of configmap-etc to change,\n   thus causing the glance-api Deployment to update.\n2. Update openstack.sh script to create a randomly generated memcache\n   secret for glance. Without this change, the glance-api deployment\n   changes each time since Helm randomly generates a new memcache\n   secret if not provided.\n\nThis behavior is enforced via a new test script,\nvalidate-umbrella-upgrade-no-side-effects.sh.\n\nThe following jobs are always recreated due to hooks:\n- keystone-bootstrap\n- keystone-credential-setup\n- keystone-db-init\n- keystone-db-sync\n- keystone-domain-manage\n- keystone-fernet-setup\n- keystone-rabbit-init\n- rabbitmq-cluster-wait\n\nSome Jobs are created via CronJobs and could be created during\nvalidation. So far, heat-engine-cleaner has been seen, but others\n could be caught too.\n\nSo the validation script ignores these related pod changes by checking\nif the pod was created via a Job with a Helm hook or a Job created via\na CronJob.\n\nChange-Id: Iffaa346d814b8d0a3e2292849943219f70d50a23\n""}, {'number': 12, 'created': '2022-06-28 20:56:39.000000000', 'files': ['tools/deployment/component/common/openstack.sh', 'glance/Chart.yaml', 'releasenotes/notes/glance.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'glance/templates/configmap-etc.yaml', 'tools/gate/tests/validate-umbrella-upgrade-no-side-effects.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/078a49693753eb054b1ebd3c4f0578b7bf4af7f0', 'message': ""upgrading umbrella w/o changes has no app changes\n\nIf a Helm upgrade is performed on the OpenStack Umbrella chart using\nthe exact same configuration as the first release, then it's expected\nfor no DaemonSets, Deployments, or StatefulSets to be updated.\nThis did not work as expected.\n\nA few changes were required to support this desired behavior:\n1. Update glance's configmap-etc.yaml to trim whitespace and convert\n   YAML comment to Helm template comment. Before this change, Helm\n   rendered the template with the YAML comment and a newline for the\n   install phase. On upgrades, Helm rendered the template without the\n   YAML comment and newline causing the hash of configmap-etc to change,\n   thus causing the glance-api Deployment to update.\n2. Update openstack.sh script to create a randomly generated memcache\n   secret for glance. Without this change, the glance-api deployment\n   changes each time since Helm randomly generates a new memcache\n   secret if not provided.\n\nThis behavior is enforced via a new test script,\nvalidate-umbrella-upgrade-no-side-effects.sh.\n\nThe following jobs are always recreated due to hooks:\n- keystone-bootstrap\n- keystone-credential-setup\n- keystone-db-init\n- keystone-db-sync\n- keystone-domain-manage\n- keystone-fernet-setup\n- keystone-rabbit-init\n- rabbitmq-cluster-wait\n\nSome Jobs are created via CronJobs and could be created during\nvalidation. So far, heat-engine-cleaner has been seen, but others\ncould be caught too.\n\nSo the validation script ignores these pod changes by ignoring if\nJobs were recreated. Plus Jobs being recreated should not impact\nthe OpenStack deployment.\n\nChange-Id: Iffaa346d814b8d0a3e2292849943219f70d50a23\n""}]",3,847198,078a49693753eb054b1ebd3c4f0578b7bf4af7f0,29,8,12,28701,,,0,"upgrading umbrella w/o changes has no app changes

If a Helm upgrade is performed on the OpenStack Umbrella chart using
the exact same configuration as the first release, then it's expected
for no DaemonSets, Deployments, or StatefulSets to be updated.
This did not work as expected.

A few changes were required to support this desired behavior:
1. Update glance's configmap-etc.yaml to trim whitespace and convert
   YAML comment to Helm template comment. Before this change, Helm
   rendered the template with the YAML comment and a newline for the
   install phase. On upgrades, Helm rendered the template without the
   YAML comment and newline causing the hash of configmap-etc to change,
   thus causing the glance-api Deployment to update.
2. Update openstack.sh script to create a randomly generated memcache
   secret for glance. Without this change, the glance-api deployment
   changes each time since Helm randomly generates a new memcache
   secret if not provided.

This behavior is enforced via a new test script,
validate-umbrella-upgrade-no-side-effects.sh.

The following jobs are always recreated due to hooks:
- keystone-bootstrap
- keystone-credential-setup
- keystone-db-init
- keystone-db-sync
- keystone-domain-manage
- keystone-fernet-setup
- keystone-rabbit-init
- rabbitmq-cluster-wait

Some Jobs are created via CronJobs and could be created during
validation. So far, heat-engine-cleaner has been seen, but others
could be caught too.

So the validation script ignores these pod changes by ignoring if
Jobs were recreated. Plus Jobs being recreated should not impact
the OpenStack deployment.

Change-Id: Iffaa346d814b8d0a3e2292849943219f70d50a23
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/98/847198/12 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/jobs-openstack-helm.yaml', 'tools/gate/tests/validate-umbrella-upgrade-no-side-effects.sh']",2,9920e60cd74332e699468599a120d0163de685a1,,"#!/bin/bash set -ex before_pods_list=""$(mktemp)"" after_pods_list=""$(mktemp)"" kubectl get pods \ --namespace openstack \ --output name \ --sort-by .metadata.name \ > ""$before_pods_list"" helm upgrade openstack ./openstack \ --namespace openstack \ --reuse-values \ --wait kubectl get pods \ --namespace openstack \ --output name \ --sort-by .metadata.name \ > ""$after_pods_list"" # get list of pods that exist in after list, but not in before list changed_pods=""$(comm -13 ""$before_pods_list"" ""$after_pods_list"")"" if [ ""x$changed_pods"" != ""x"" ]; then echo ""unexpected pods created after upgrade with no configuration change: $changed_pods"" exit 1 fi ",,31,0
openstack%2Fopenstack-helm-images~master~I4b4a22ff63439460e85a63c362c706172aea7fe9,openstack/openstack-helm-images,master,I4b4a22ff63439460e85a63c362c706172aea7fe9,[test],ABANDONED,2022-02-01 15:36:33.000000000,2022-07-04 06:20:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-01 15:36:33.000000000', 'files': ['zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/2a6a2d6d31ca320c47f936d2b78267a3340adf92', 'message': '[test]\n\nDepends-On: https://review.opendev.org/826505\nChange-Id: I4b4a22ff63439460e85a63c362c706172aea7fe9\nSigned-off-by: Andrii Ostapenko <aostapenko@microsoft.com>\n'}]",0,827308,2a6a2d6d31ca320c47f936d2b78267a3340adf92,3,1,1,8863,,,0,"[test]

Depends-On: https://review.opendev.org/826505
Change-Id: I4b4a22ff63439460e85a63c362c706172aea7fe9
Signed-off-by: Andrii Ostapenko <aostapenko@microsoft.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/08/827308/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openstack-loci.yaml'],1,2a6a2d6d31ca320c47f936d2b78267a3340adf92,,,,1,0
openstack%2Fopenstack-helm-images~master~I27b66ef13af8ae4e643dcee7b0d1d073a5779625,openstack/openstack-helm-images,master,I27b66ef13af8ae4e643dcee7b0d1d073a5779625,[test],ABANDONED,2022-04-05 17:31:13.000000000,2022-07-04 06:20:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-05 17:31:13.000000000', 'files': ['zuul.d/prometheus-openstack-exporter.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/14902885d8920f3bba0c519b8a329dec4310de46', 'message': '[test]\n\nChange-Id: I27b66ef13af8ae4e643dcee7b0d1d073a5779625\nSigned-off-by: Andrii Ostapenko <aostapenko@microsoft.com>\n'}]",0,836685,14902885d8920f3bba0c519b8a329dec4310de46,3,1,1,8863,,,0,"[test]

Change-Id: I27b66ef13af8ae4e643dcee7b0d1d073a5779625
Signed-off-by: Andrii Ostapenko <aostapenko@microsoft.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/85/836685/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/prometheus-openstack-exporter.yaml'],1,14902885d8920f3bba0c519b8a329dec4310de46,,,,1,0
openstack%2Fopenstack-helm-infra~master~I01f82cdd92828ad0c99c343a1261f57562be3041,openstack/openstack-helm-infra,master,I01f82cdd92828ad0c99c343a1261f57562be3041,Fix 'tox -e releasenotes',MERGED,2022-06-29 18:24:37.000000000,2022-07-04 06:10:15.000000000,2022-07-04 06:08:59.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2022-06-29 18:24:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e511ba851770e5c6b03957b85e3b889ce578ee50', 'message': ""Fix 'tox -e releasenotes'\n\nRunning 'tox -e releasenotes' fails with:\n\nERROR: You must give at least one requirement to install\n\nAdded missing doc/requirements.txt dep to tox.ini, similar\nto recent openstack-helm patch.\n\nTrivialfix\n\nChange-Id: I01f82cdd92828ad0c99c343a1261f57562be3041\n""}]",0,848173,e511ba851770e5c6b03957b85e3b889ce578ee50,8,3,1,35024,,,0,"Fix 'tox -e releasenotes'

Running 'tox -e releasenotes' fails with:

ERROR: You must give at least one requirement to install

Added missing doc/requirements.txt dep to tox.ini, similar
to recent openstack-helm patch.

Trivialfix

Change-Id: I01f82cdd92828ad0c99c343a1261f57562be3041
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/73/848173/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e511ba851770e5c6b03957b85e3b889ce578ee50,tox-e-releasenotes,deps = -r{toxinidir}/doc/requirements.txt,,1,0
openstack%2Fheat~master~Ic6125c6af60c1007243523cc8510a17f49c7b5af,openstack/heat,master,Ic6125c6af60c1007243523cc8510a17f49c7b5af,Fix parameter merging with merge strategies,MERGED,2022-07-01 02:38:28.000000000,2022-07-04 06:05:40.000000000,2022-07-04 06:04:19.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-07-01 02:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/709c1f28c33aa171edd28d2f9f8346f05ed6a436', 'message': 'Fix environment merging for merge_strategies\n\nEarlier users had to specify merge strategy for\na parameter/parameter_default in every environment\nfile where they are used(or the defaults for that\nenvironment was used). However, the strategy\nfor a parameter in the first environment was\nignored as there is nothing to merge.\n\nWith Iec3367667248d0b46196a6d569f3cbb3b200d842, we\nchanged to use existing merge strategies, but the\nstrategies in the first environment were still\nignored. This patch fixes it.\n\nTask: 45578\nChange-Id: Ic6125c6af60c1007243523cc8510a17f49c7b5af\n'}, {'number': 2, 'created': '2022-07-01 03:09:22.000000000', 'files': ['heat/tests/test_common_env_util.py', 'heat/common/environment_util.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/d9fe7301b3af2db9fa56d59eb405add94730ba50', 'message': 'Fix parameter merging with merge strategies\n\nEarlier users had to specify merge strategy for\na parameter/parameter_default in every environment\nfile where they are used(or the defaults for that\nenvironment was used). However, the strategy\nfor a parameter in the first environment was\nignored as there is nothing to merge.\n\nWith Iec3367667248d0b46196a6d569f3cbb3b200d842, we\nchanged to use existing merge strategies, but the\nstrategies in the first environment were still\nignored. This patch fixes it.\n\nTask: 45578\nChange-Id: Ic6125c6af60c1007243523cc8510a17f49c7b5af\n'}]",4,848375,d9fe7301b3af2db9fa56d59eb405add94730ba50,12,4,2,8833,,,0,"Fix parameter merging with merge strategies

Earlier users had to specify merge strategy for
a parameter/parameter_default in every environment
file where they are used(or the defaults for that
environment was used). However, the strategy
for a parameter in the first environment was
ignored as there is nothing to merge.

With Iec3367667248d0b46196a6d569f3cbb3b200d842, we
changed to use existing merge strategies, but the
strategies in the first environment were still
ignored. This patch fixes it.

Task: 45578
Change-Id: Ic6125c6af60c1007243523cc8510a17f49c7b5af
",git fetch https://review.opendev.org/openstack/heat refs/changes/75/848375/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_common_env_util.py', 'heat/common/environment_util.py']",2,709c1f28c33aa171edd28d2f9f8346f05ed6a436,," available_strategies[key] = param_merge_strategy if not old: return new for key, value in new.items(): # if key not in param_schemata ignore it if key in param_schemata and value is not None: param_merge_strategy = available_strategies[key] return old params[section_key] = merge_parameters("," new_strategies = {} if not old: return new, new_strategies new_strategies[key] = param_merge_strategy return old, new_strategies params[section_key], new_strategies = merge_parameters( available_strategies.update(new_strategies)",16,15
openstack%2Fpuppet-tripleo~stable%2Fwallaby~Ibaca9010269e84e7a97c66ed419886796a011df9,openstack/puppet-tripleo,stable/wallaby,Ibaca9010269e84e7a97c66ed419886796a011df9,Fix tls related grafana check in the cephadm context,MERGED,2022-07-01 00:41:35.000000000,2022-07-04 05:54:04.000000000,2022-07-04 05:54:04.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-07-01 00:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/02523264d70c18f8f7bf50985636d1352b79316f', 'message': ""Fix tls related grafana check in the cephadm context\n\nWhen grafana is deployed by cephadm as part of the Ceph cluster monitoring\nstack, the key/cert info are stored within the Ceph monitors' config-key\nstore.\nThis change allows to avoid haproxy producing several tls errors related\nto this config change in Ceph.\n\nDepends-On: Ia6f6c472a8f7332ae3e998078f167f5f7d027857\nChange-Id: Ibaca9010269e84e7a97c66ed419886796a011df9\n(cherry picked from commit f593a9a09f543ca672f16e2fd9f97ce1a3339db9)\n""}, {'number': 2, 'created': '2022-07-01 10:55:11.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c5294e652959f1580864115a8cab9c5b27f485d2', 'message': ""Fix tls related grafana check in the cephadm context\n\nWhen grafana is deployed by cephadm as part of the Ceph cluster monitoring\nstack, the key/cert info are stored within the Ceph monitors' config-key\nstore.\nThis change allows to avoid haproxy producing several tls errors related\nto this config change in Ceph.\n\nDepends-On: Ia6f6c472a8f7332ae3e998078f167f5f7d027857\nChange-Id: Ibaca9010269e84e7a97c66ed419886796a011df9\n(cherry picked from commit f593a9a09f543ca672f16e2fd9f97ce1a3339db9)\n""}]",5,848289,c5294e652959f1580864115a8cab9c5b27f485d2,27,3,2,18002,,,0,"Fix tls related grafana check in the cephadm context

When grafana is deployed by cephadm as part of the Ceph cluster monitoring
stack, the key/cert info are stored within the Ceph monitors' config-key
store.
This change allows to avoid haproxy producing several tls errors related
to this config change in Ceph.

Depends-On: Ia6f6c472a8f7332ae3e998078f167f5f7d027857
Change-Id: Ibaca9010269e84e7a97c66ed419886796a011df9
(cherry picked from commit f593a9a09f543ca672f16e2fd9f97ce1a3339db9)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/89/848289/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,02523264d70c18f8f7bf50985636d1352b79316f,847959-stable/wallaby," if $enable_internal_tls { $ceph_grafana_tls_member_options = ['ssl check verify none'] } else { $ceph_grafana_tls_member_options = [] } member_options => union($haproxy_member_options, $ceph_grafana_tls_member_options),"," member_options => union($haproxy_member_options, $internal_tls_member_options),",6,1
openstack%2Fcyborg-tempest-plugin~master~I7d208b8b6999623568ed7e920fed0fdb7c8b058f,openstack/cyborg-tempest-plugin,master,I7d208b8b6999623568ed7e920fed0fdb7c8b058f,Update python testing as per zed cycle teting runtime,MERGED,2022-06-05 02:21:08.000000000,2022-07-04 05:39:54.000000000,2022-07-04 05:39:54.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2022-06-05 02:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/fb602cbd37ef6843837e016e673b80d46a8b063e', 'message': 'Update python testing as per zed cycle teting runtime\n\nChange-Id: I7d208b8b6999623568ed7e920fed0fdb7c8b058f\n'}, {'number': 2, 'created': '2022-06-05 02:22:44.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/9b68fcc60e898fa005b91c8d08cf148d73e038e5', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I7d208b8b6999623568ed7e920fed0fdb7c8b058f\n'}]",0,844726,9b68fcc60e898fa005b91c8d08cf148d73e038e5,7,2,2,33881,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I7d208b8b6999623568ed7e920fed0fdb7c8b058f
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/26/844726/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fb602cbd37ef6843837e016e673b80d46a8b063e,,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,1,3
openstack%2Fpython-cyborgclient~master~Id7ccc117b8c4288b60dbb9a1ebab411dfaeb7a4a,openstack/python-cyborgclient,master,Id7ccc117b8c4288b60dbb9a1ebab411dfaeb7a4a,The Python 3.6 and Python 3.7 Support has been dropped since zed,ABANDONED,2022-06-05 01:19:56.000000000,2022-07-04 05:36:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2022-06-05 01:19:56.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/1df6870e9f8d49834ee725b06f2015efe976ee72', 'message': 'The Python 3.6 and Python 3.7 Support has been dropped since zed\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Id7ccc117b8c4288b60dbb9a1ebab411dfaeb7a4a\n'}]",1,844712,1df6870e9f8d49834ee725b06f2015efe976ee72,4,2,1,31827,,,0,"The Python 3.6 and Python 3.7 Support has been dropped since zed

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Id7ccc117b8c4288b60dbb9a1ebab411dfaeb7a4a
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/12/844712/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1df6870e9f8d49834ee725b06f2015efe976ee72,,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,1,3
openstack%2Fheat-translator~master~Ibd4149ce962b6aab084ba3474d22c0bf4e3929cf,openstack/heat-translator,master,Ibd4149ce962b6aab084ba3474d22c0bf4e3929cf,Add Python3 zed unit tests,MERGED,2022-07-01 09:46:33.000000000,2022-07-04 05:33:24.000000000,2022-07-04 05:30:52.000000000,"[{'_account_id': 16511}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 33455}]","[{'number': 1, 'created': '2022-07-01 09:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/4baa951776a4c0ae8381de70bf2ca2d452d5eb5d', 'message': ""Add Python3 zed unit tests\n\nUpdate Zuul job template to recent python versions [1].\npython-novaclient [2] 18.0.0 which is listed on upper-constraints [3] doesn't\nsupport python3.6.\n\n[1] https://docs.openstack.org/infra/openstack-zuul-jobs/project-templates.html#project_template-openstack-python3-zed-jobs\n[2] https://pypi.org/project/python-novaclient/\n[3] https://releases.openstack.org/constraints/upper/master\n\nChange-Id: Ibd4149ce962b6aab084ba3474d22c0bf4e3929cf\n""}, {'number': 2, 'created': '2022-07-01 09:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/52ea68cf761bf6114dade5d5b0206f1c70131868', 'message': ""Add Python3 zed unit tests\n\nUpdate Zuul job template to recent python versions [1].\npython-novaclient [2] 18.0.0 which is listed on upper-constraints [3]\ndoesn't support python3.6.\n\n[1] https://docs.openstack.org/infra/openstack-zuul-jobs/project-templates.html#project_template-openstack-python3-zed-jobs\n[2] https://pypi.org/project/python-novaclient/\n[3] https://releases.openstack.org/constraints/upper/master\n\nChange-Id: Ibd4149ce962b6aab084ba3474d22c0bf4e3929cf\n""}, {'number': 3, 'created': '2022-07-01 10:01:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/82f8b0d9bb82239388de6b42cf374c3f53ccda9d', 'message': ""Add Python3 zed unit tests\n\nUpdate Zuul job template to recent python versions [1].\npython-novaclient 18.0.0 [2] which is listed on upper-constraints [3]\ndoesn't support python3.6.\n\n[1] https://docs.openstack.org/infra/openstack-zuul-jobs/project-templates.html#project_template-openstack-python3-zed-jobs\n[2] https://pypi.org/project/python-novaclient/\n[3] https://releases.openstack.org/constraints/upper/master\n\nChange-Id: Ibd4149ce962b6aab084ba3474d22c0bf4e3929cf\n""}]",2,848399,82f8b0d9bb82239388de6b42cf374c3f53ccda9d,13,6,3,33455,,,0,"Add Python3 zed unit tests

Update Zuul job template to recent python versions [1].
python-novaclient 18.0.0 [2] which is listed on upper-constraints [3]
doesn't support python3.6.

[1] https://docs.openstack.org/infra/openstack-zuul-jobs/project-templates.html#project_template-openstack-python3-zed-jobs
[2] https://pypi.org/project/python-novaclient/
[3] https://releases.openstack.org/constraints/upper/master

Change-Id: Ibd4149ce962b6aab084ba3474d22c0bf4e3929cf
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/99/848399/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4baa951776a4c0ae8381de70bf2ca2d452d5eb5d,, - openstack-python3-zed-jobs, - openstack-python3-yoga-jobs,1,1
openstack%2Ftripleo-docs~master~Ic78cb31bf9bbaa3abd3a30672ec2da8cf176b6da,openstack/tripleo-docs,master,Ic78cb31bf9bbaa3abd3a30672ec2da8cf176b6da,python-tripleoclient to python3-tripleoclient,MERGED,2022-06-27 04:05:57.000000000,2022-07-04 03:44:06.000000000,2022-07-04 03:42:50.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-27 04:05:57.000000000', 'files': ['deploy-guide/source/post_deployment/upgrade/undercloud.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/49e4d903aa45465b0fa608997a466977b3896493', 'message': 'python-tripleoclient to python3-tripleoclient\n\nWe use python3-tripleoclient in the latest releases.\nOur update doc should direct users to update the correct\npackage before running openstack undercloud upgrade.\n\nThis change also replaced yum with dnf in the update doc.\n\nChange-Id: Ic78cb31bf9bbaa3abd3a30672ec2da8cf176b6da\n'}]",1,847708,49e4d903aa45465b0fa608997a466977b3896493,8,3,1,30073,,,0,"python-tripleoclient to python3-tripleoclient

We use python3-tripleoclient in the latest releases.
Our update doc should direct users to update the correct
package before running openstack undercloud upgrade.

This change also replaced yum with dnf in the update doc.

Change-Id: Ic78cb31bf9bbaa3abd3a30672ec2da8cf176b6da
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/08/847708/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/post_deployment/upgrade/undercloud.rst'],1,49e4d903aa45465b0fa608997a466977b3896493,, sudo dnf clean all sudo dnf update python3-tripleoclient* openstack-tripleo-common openstack-tripleo-heat-templates, sudo yum clean all sudo yum update python-tripleoclient* openstack-tripleo-common openstack-tripleo-heat-templates,2,2
openstack%2Fpython-heatclient~master~Ib392f81b3f12ee02979723f17e08f775d63b8abe,openstack/python-heatclient,master,Ib392f81b3f12ee02979723f17e08f775d63b8abe,Drop lower-constraints.txt and its testing,MERGED,2022-04-30 20:59:20.000000000,2022-07-04 02:54:48.000000000,2022-07-04 02:51:53.000000000,"[{'_account_id': 9816}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 30073}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-04-30 20:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/0b6de365835ec239fbb1721bb444eb221d3dffce', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ib392f81b3f12ee02979723f17e08f775d63b8abe\n'}, {'number': 2, 'created': '2022-05-25 12:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/5676f771ca8ec681f7c302ebd7f8ad7321fc6c74', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ib392f81b3f12ee02979723f17e08f775d63b8abe\n'}, {'number': 3, 'created': '2022-06-13 18:32:53.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/b65fb84919848ff7bd3d90e15f4560e0beca5802', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ib392f81b3f12ee02979723f17e08f775d63b8abe\n'}]",2,840053,b65fb84919848ff7bd3d90e15f4560e0beca5802,19,5,3,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ib392f81b3f12ee02979723f17e08f775d63b8abe
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/53/840053/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,0b6de365835ec239fbb1721bb444eb221d3dffce,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,97
openstack%2Fheat-cfntools~master~I587f619134ca20eab6f7a04de6e8fb63624429e8,openstack/heat-cfntools,master,I587f619134ca20eab6f7a04de6e8fb63624429e8,Update home-page,MERGED,2019-01-11 09:19:29.000000000,2022-07-04 02:28:36.000000000,2022-07-04 02:26:33.000000000,"[{'_account_id': 9816}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 30073}]","[{'number': 1, 'created': '2019-01-11 09:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/b3cdd2da5008ae2ad4b4c1a6b0d4d7cd7420b6b0', 'message': 'Updatae home-page\n\nChange-Id: I587f619134ca20eab6f7a04de6e8fb63624429e8\n'}, {'number': 2, 'created': '2019-01-11 18:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/28e69876cf6b9f9e5044337d6eaaed8a9e342cbd', 'message': 'Update home-page\n\nChange-Id: I587f619134ca20eab6f7a04de6e8fb63624429e8\n'}, {'number': 3, 'created': '2022-06-21 18:15:21.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/53ea35f467b83ce71dc1b0b1b624193c0b3a306d', 'message': 'Update home-page\n\nChange-Id: I587f619134ca20eab6f7a04de6e8fb63624429e8\n'}]",3,630090,53ea35f467b83ce71dc1b0b1b624193c0b3a306d,15,6,3,28935,,,0,"Update home-page

Change-Id: I587f619134ca20eab6f7a04de6e8fb63624429e8
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/90/630090/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b3cdd2da5008ae2ad4b4c1a6b0d4d7cd7420b6b0,,home-page = https://docs.openstack.org/heat-cfntools/latest/,home-page = http://www.openstack.org/,1,1
openstack%2Fheat-agents~master~Iadebd5f857d446870fa79a96dab0ce8f111854f5,openstack/heat-agents,master,Iadebd5f857d446870fa79a96dab0ce8f111854f5,Drop lower-constraints.txt and its testing,MERGED,2022-04-30 20:58:56.000000000,2022-07-04 02:24:17.000000000,2022-07-04 02:19:39.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-04-30 20:58:56.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/3e0f62f995cfc2befffeb1f7c76d651cab9f4382', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Iadebd5f857d446870fa79a96dab0ce8f111854f5\n'}]",1,840049,3e0f62f995cfc2befffeb1f7c76d651cab9f4382,12,4,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Iadebd5f857d446870fa79a96dab0ce8f111854f5
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/49/840049/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,3e0f62f995cfc2befffeb1f7c76d651cab9f4382,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,83
openstack%2Ftripleo-image-elements~master~I67af2b17f59cc4d05c4fa217861992123da97758,openstack/tripleo-image-elements,master,I67af2b17f59cc4d05c4fa217861992123da97758,Updates for virtualenv on debian bullseye,MERGED,2022-03-23 15:37:54.000000000,2022-07-04 02:14:34.000000000,2022-07-04 02:14:34.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-23 15:37:54.000000000', 'files': ['elements/os-apply-config/install.d/os-apply-config-source-install/10-os-apply-config', 'elements/os-refresh-config/install.d/os-refresh-config-source-install/10-os-refresh-config', 'elements/os-net-config/install.d/os-net-config-source-install/50-os-net-config-source', 'elements/os-collect-config/install.d/os-collect-config-source-install/10-os-collect-config'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/b5b3160ef1cbe9161c6c11e5fd69dae07ec33f1e', 'message': 'Updates for virtualenv on debian bullseye\n\nChange-Id: I67af2b17f59cc4d05c4fa217861992123da97758\n'}]",0,834912,b5b3160ef1cbe9161c6c11e5fd69dae07ec33f1e,8,4,1,34644,,,0,"Updates for virtualenv on debian bullseye

Change-Id: I67af2b17f59cc4d05c4fa217861992123da97758
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/12/834912/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/os-apply-config/install.d/os-apply-config-source-install/10-os-apply-config', 'elements/os-refresh-config/install.d/os-refresh-config-source-install/10-os-refresh-config', 'elements/os-net-config/install.d/os-net-config-source-install/50-os-net-config-source', 'elements/os-collect-config/install.d/os-collect-config-source-install/10-os-collect-config']",4,b5b3160ef1cbe9161c6c11e5fd69dae07ec33f1e,feature/debian-bullseye-updates,"if [[ ""$DISTRO_NAME"" == ""debian"" ]] && [[ ""$DIB_RELEASE"" == ""stable"" || ""$DIB_RELEASE"" == ""bullseye"" ]] then virtualenv $OS_COLLECT_CONFIG_VENV_DIR else virtualenv --setuptools $OS_COLLECT_CONFIG_VENV_DIR fi ",virtualenv --setuptools $OS_COLLECT_CONFIG_VENV_DIR,30,4
openstack%2Ftripleo-image-elements~master~Ic4f330f1a192b5cf920a9b0c28c07fd425a01580,openstack/tripleo-image-elements,master,Ic4f330f1a192b5cf920a9b0c28c07fd425a01580,Updated package maps for Debian Bullseye,MERGED,2022-03-23 15:37:54.000000000,2022-07-04 02:14:32.000000000,2022-07-04 02:14:32.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-23 15:37:54.000000000', 'files': ['elements/os-refresh-config/pkg-map', 'elements/os-apply-config/pkg-map', 'elements/os-collect-config/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/bfbccfb8236bbbe283b2ae407c90e2097c5ebce7', 'message': 'Updated package maps for Debian Bullseye\n\nChange-Id: Ic4f330f1a192b5cf920a9b0c28c07fd425a01580\n'}]",0,834911,bfbccfb8236bbbe283b2ae407c90e2097c5ebce7,8,4,1,34644,,,0,"Updated package maps for Debian Bullseye

Change-Id: Ic4f330f1a192b5cf920a9b0c28c07fd425a01580
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/11/834911/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/os-refresh-config/pkg-map', 'elements/os-apply-config/pkg-map', 'elements/os-collect-config/pkg-map']",3,bfbccfb8236bbbe283b2ae407c90e2097c5ebce7,feature/debian-bullseye-updates," ""release"": { ""debian"": { ""bullseye"": { ""os-collect-config"": ""python3-os-collect-config"" } } },",,21,0
openstack%2Fnetworking-sfc~master~I650684473a9f6307c7e4d11f4764e3afeb99b05f,openstack/networking-sfc,master,I650684473a9f6307c7e4d11f4764e3afeb99b05f,Drop lower-constraints.txt and its testing,ABANDONED,2022-06-30 07:43:05.000000000,2022-07-04 01:46:00.000000000,,"[{'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-30 07:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/1ad4b4b1b3b9c34d1a13c0a190c7fc28c1067dc5', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I650684473a9f6307c7e4d11f4764e3afeb99b05f\n'}, {'number': 2, 'created': '2022-06-30 07:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/32824bdbbf0f095d8415dce70b6d60a48e430752', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I650684473a9f6307c7e4d11f4764e3afeb99b05f\n'}, {'number': 3, 'created': '2022-06-30 08:29:20.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/45b3e20476bc690bdc1f1d3b385880401fd7bbff', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I650684473a9f6307c7e4d11f4764e3afeb99b05f\n'}]",2,848223,45b3e20476bc690bdc1f1d3b385880401fd7bbff,8,2,3,33436,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I650684473a9f6307c7e4d11f4764e3afeb99b05f
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/23/848223/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tox.ini']",2,1ad4b4b1b3b9c34d1a13c0a190c7fc28c1067dc5,drop-l-c,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,4,6
openstack%2Fpuppet-cinder~stable%2Fwallaby~I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e,openstack/puppet-cinder,stable/wallaby,I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e,Fix handling of the backend_host parameter,ABANDONED,2022-07-04 01:24:47.000000000,2022-07-04 01:25:40.000000000,,[],"[{'number': 1, 'created': '2022-07-04 01:24:47.000000000', 'files': ['releasenotes/notes/cinder-backend_host-bac88f58b0ce8343.yaml', 'manifests/init.pp', 'manifests/backends.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/fc61eead48a98310c3321badbe41bdb79ad13f55', 'message': 'Fix handling of the backend_host parameter\n\nCurrently the cinder::backend_host parameter is ignored unless\nhieradata is used to define its value because hiera function is used\ninstead of pick function.\nThis change ensures that the cinder::backend_host parameter is honored\neven if the parameter is defined in a manifest file.\n\nChange-Id: I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e\n(cherry picked from commit 5449d242f4fc77e27357331d22719c3f99dcf8c7)\n'}]",0,848496,fc61eead48a98310c3321badbe41bdb79ad13f55,2,0,1,9816,,,0,"Fix handling of the backend_host parameter

Currently the cinder::backend_host parameter is ignored unless
hieradata is used to define its value because hiera function is used
instead of pick function.
This change ensures that the cinder::backend_host parameter is honored
even if the parameter is defined in a manifest file.

Change-Id: I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e
(cherry picked from commit 5449d242f4fc77e27357331d22719c3f99dcf8c7)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/96/848496/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cinder-backend_host-bac88f58b0ce8343.yaml', 'manifests/init.pp', 'manifests/backends.pp']",3,fc61eead48a98310c3321badbe41bdb79ad13f55,backend_host-stable/wallaby,"# Defaults to undef $backend_host = undef, if pick($::cinder::backend_host, false) { $backend_host_real = $::cinder::backend_host } else { $backend_host_real = $backend_host } if $backend_host_real { ""${backend}/backend_host"": value => $backend_host_real;","# Defaults to hiera('cinder::backend_host', undef) $backend_host = hiera('cinder::backend_host', undef) if $backend_host { ""${backend}/backend_host"": value => $backend_host;",26,6
openstack%2Fpuppet-openstack-integration~master~I48284520343c0d9b415b810dd50ee57746e70d73,openstack/puppet-openstack-integration,master,I48284520343c0d9b415b810dd50ee57746e70d73,wip: Provision the demo user/project for tempest,ABANDONED,2022-06-16 09:10:43.000000000,2022-07-04 00:37:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-16 09:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fb0a4d4b8ced4d522889aef0e8b1af4997c1449c', 'message': 'wip: Provision the demo user/project for tempest\n\nChange-Id: I48284520343c0d9b415b810dd50ee57746e70d73\n'}, {'number': 2, 'created': '2022-06-16 09:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/68d5323c4df79cdd57bbef2c52e26bd627a1c6a8', 'message': 'wip: Provision the demo user/project for tempest\n\nChange-Id: I48284520343c0d9b415b810dd50ee57746e70d73\n'}, {'number': 3, 'created': '2022-06-16 13:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bcb5635202a22a32cf8d8411335d16a786090165', 'message': 'wip: Provision the demo user/project for tempest\n\nChange-Id: I48284520343c0d9b415b810dd50ee57746e70d73\n'}, {'number': 4, 'created': '2022-06-16 16:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/11b5dadb98541f4e0d1f772295690949182d7ec2', 'message': 'wip: Provision the demo user/project for tempest\n\nChange-Id: I48284520343c0d9b415b810dd50ee57746e70d73\n'}, {'number': 5, 'created': '2022-06-21 01:48:19.000000000', 'files': ['manifests/tempest.pp', 'manifests/provision.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/512e610673dab1b0d796e83624c96bf73d6bcd05', 'message': 'wip: Provision the demo user/project for tempest\n\nChange-Id: I48284520343c0d9b415b810dd50ee57746e70d73\n'}]",2,846140,512e610673dab1b0d796e83624c96bf73d6bcd05,14,1,5,9816,,,0,"wip: Provision the demo user/project for tempest

Change-Id: I48284520343c0d9b415b810dd50ee57746e70d73
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/40/846140/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/tempest.pp', 'manifests/provision.pp']",2,fb0a4d4b8ced4d522889aef0e8b1af4997c1449c,," keystone_user { 'demo': ensure => present, enabled => true, password => 'secrete', } keystone_project { 'demo': ensure => present, enabled => true, } keystone_user_role { 'demo@demo': ensure => present, roles => ['member'], } ",,17,0
openstack%2Fproject-config~master~I0f5dea071cb2b6212538ef42bad169a089f6e458,openstack/project-config,master,I0f5dea071cb2b6212538ef42bad169a089f6e458,Update openstack-ansible grafana dashboard job status rates,MERGED,2022-06-28 15:33:38.000000000,2022-07-03 23:50:22.000000000,2022-07-03 23:28:12.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-28 15:33:38.000000000', 'files': ['grafana/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4a018763f9e86b3319d79b32e75cb7e20ff6715e', 'message': 'Update openstack-ansible grafana dashboard job status rates\n\n1) Update plots to include current operating systems for master\nbranch.\n\n2) Calculate the rates with respect to all returned statuses rather\nthat just SUCCESS/FAILURE/TIMEOUT.\n\n3) Add a plot specifically for POST_FAILURE\n\nChange-Id: I0f5dea071cb2b6212538ef42bad169a089f6e458\n'}]",2,847988,4a018763f9e86b3319d79b32e75cb7e20ff6715e,10,2,1,25023,,,0,"Update openstack-ansible grafana dashboard job status rates

1) Update plots to include current operating systems for master
branch.

2) Calculate the rates with respect to all returned statuses rather
that just SUCCESS/FAILURE/TIMEOUT.

3) Add a plot specifically for POST_FAILURE

Change-Id: I0f5dea071cb2b6212538ef42bad169a089f6e458
",git fetch https://review.opendev.org/openstack/project-config refs/changes/88/847988/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/openstack-ansible.yaml'],1,4a018763f9e86b3319d79b32e75cb7e20ff6715e,," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-focal.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-focal.*)),'24hours'), 'aio_lxc-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.*)),'24hours'), 'aio_lxc-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.*)),'24hours'), 'aio_lxc-centos-8-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.*)),'24hours'), 'aio_lxc-centos-9-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.*)),'24hours'), 'aio_lxc-rockylinux-8') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-debian-bullseye.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-debian-bullseye.*)),'24hours'), 'aio_lxc-debian-bullseye') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-ubuntu-focal.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-ubuntu-focal.*)),'24hours'), 'aio_metal-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-ubuntu-jammy.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-ubuntu-jammy.*)),'24hours'), 'aio_metal-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-8-stream.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-8-stream.*)),'24hours'), 'aio_metal-centos-8-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-9-stream.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-9-stream.*)),'24hours'), 'aio_metal-centos-9-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-rockylinux-8.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-rockylinux-8.*)),'24hours'), 'aio_metal-rockylinux-8') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-debian-bullseye.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-debian-bullseye.*)),'24hours'), 'aio_metal-debian-bullseye') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-focal.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-focal.*)),'24hours'), 'aio_ceph-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.*)),'24hours'), 'aio_ceph-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-focal.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-focal.*)),'24hours'), 'aio_proxy-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-jammy.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-jammy.*)),'24hours'), 'aio_proxy-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-focal.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-focal.*)),'24hours'), 'aio_lxc-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.*)),'24hours'), 'aio_lxc-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.*)),'24hours'), 'aio_lxc-centos-8-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.*)),'24hours'), 'aio_lxc-centos-9-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.*)),'24hours'), 'aio_lxc-rockylinux-8') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-debian-bullseye.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-debian-bullseye.*)),'24hours'), 'aio_lxc-debian-bullseye') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-ubuntu-focal.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-ubuntu-focal.*)),'24hours'), 'aio_metal-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-ubuntu-jammy.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-ubuntu-jammy.*)),'24hours'), 'aio_metal-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-8-stream.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-8-stream.*)),'24hours'), 'aio_metal-centos-8-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-9-stream.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-9-stream.*)),'24hours'), 'aio_metal-centos-9-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-rockylinux-8.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-rockylinux-8.*)),'24hours'), 'aio_metal-rockylinux-8') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-debian-bullseye.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-debian-bullseye.*)),'24hours'), 'aio_metal-debian-bullseye') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-focal.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-focal.*)),'24hours'), 'aio_ceph-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.*)),'24hours'), 'aio_ceph-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-focal.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-focal.*)),'24hours'), 'aio_proxy-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-jammy.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-jammy.*)),'24hours'), 'aio_proxy-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-focal.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-focal.*)),'24hours'), 'aio_lxc-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.*)),'24hours'), 'aio_lxc-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.*)),'24hours'), 'aio_lxc-centos-8-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.*)),'24hours'), 'aio_lxc-centos-9-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.TIMED_OOUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.*)),'24hours'), 'aio_lxc-rockylinux-8') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-debian-bullseye.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-debian-bullseye.*)),'24hours'), 'aio_lxc-debian-bullseye') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-ubuntu-focal.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-ubuntu-focal.*)),'24hours'), 'aio_metal-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-ubuntu-jammy.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-ubuntu-jammy.*)),'24hours'), 'aio_metal-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-8-stream.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-8-stream.*)),'24hours'), 'aio_metal-centos-8-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-9-stream.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-9-stream.*)),'24hours'), 'aio_metal-centos-9-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-rockylinux-8.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-rockylinux-8.*)),'24hours'), 'aio_metal-rockylinux-8') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-debian-bullseye.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-debian-bullseye.*)),'24hours'), 'aio_metal-debian-bullseye') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-focal.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-focal.*)),'24hours'), 'aio_ceph-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.*)),'24hours'), 'aio_ceph-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-focal.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-focal.*)),'24hours'), 'aio_proxy-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-jammy.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-jammy.*)),'24hours'), 'aio_proxy-ubuntu-jammy') - title: openstack-ansible check job post failure rate (Check queue) showTitle: true height: 300px panels: - title: openstack-ansible post failure rate (Check queue) type: graph span: 12 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-focal.POST_FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-focal.*)),'24hours'), 'aio_lxc-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.POST_FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.*)),'24hours'), 'aio_lxc-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.POST_FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.*)),'24hours'), 'aio_lxc-centos-8-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.POST_FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.*)),'24hours'), 'aio_lxc-centos-9-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.POST_FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.*)),'24hours'), 'aio_lxc-rockylinux-8') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-debian-bullseye.POST_FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-debian-bullseye.*)),'24hours'), 'aio_lxc-debian-bullseye') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-ubuntu-focal.POST_FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-ubuntu-focal.*)),'24hours'), 'aio_metal-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-ubuntu-jammy.POST_FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-ubuntu-jammy.*)),'24hours'), 'aio_metal-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-8-stream.POST_FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-8-stream.*)),'24hours'), 'aio_metal-centos-8-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-9-stream.POST_FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-9-stream.*)),'24hours'), 'aio_metal-centos-9-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-rockylinux-8.POST_FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-rockylinux-8.*)),'24hours'), 'aio_metal-rockylinux-8') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-debian-bullseye.POST_FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-debian-bullseye.*)),'24hours'), 'aio_metal-debian-bullseye') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-focal.POST_FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-focal.*)),'24hours'), 'aio_ceph-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.POST_FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.*)),'24hours'), 'aio_ceph-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-focal.POST_FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-focal.*)),'24hours'), 'aio_proxy-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-jammy.POST_FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-jammy.*)),'24hours'), 'aio_proxy-ubuntu-jammy')"," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-focal.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-focal.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-focal.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-focal.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_ceph-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_ceph-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-centos-8-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-centos-9-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-rockylinux-8') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-focal.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-focal.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-focal.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-focal.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_ceph-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_ceph-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-centos-8-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-centos-9-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-rockylinux-8') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-focal.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-focal.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'lxc-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-focal.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-focal.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_ceph-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_ceph-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-centos-8-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-centos-9-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-rockylinux-8')",75,21
openstack%2Fproject-config~master~I1c4705ccf92b2d4c6ca372b26572e674d93e1bdb,openstack/project-config,master,I1c4705ccf92b2d4c6ca372b26572e674d93e1bdb,Update openstack-ansible grafana dashboard,MERGED,2022-06-28 13:31:39.000000000,2022-07-03 23:45:05.000000000,2022-07-03 23:26:51.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-28 13:31:39.000000000', 'files': ['grafana/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a3b01749949d7e6c553fc31fec9e12f6e3dea8df', 'message': 'Update openstack-ansible grafana dashboard\n\nUpdate with the current set of operating systems running jobs on\nmaster branch:\n\nRemove Centos 7\nSwitch Centos 8 to Centos 8 stream\nAdd Centos 9 Stream\nRemove Ubuntu Bionic\nAdd Ubuntu Jammy\nAdd Rockylinux 8\n\nChange-Id: I1c4705ccf92b2d4c6ca372b26572e674d93e1bdb\n'}]",0,847973,a3b01749949d7e6c553fc31fec9e12f6e3dea8df,8,2,1,25023,,,0,"Update openstack-ansible grafana dashboard

Update with the current set of operating systems running jobs on
master branch:

Remove Centos 7
Switch Centos 8 to Centos 8 stream
Add Centos 9 Stream
Remove Ubuntu Bionic
Add Ubuntu Jammy
Add Rockylinux 8

Change-Id: I1c4705ccf92b2d4c6ca372b26572e674d93e1bdb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/73/847973/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/openstack-ansible.yaml'],1,a3b01749949d7e6c553fc31fec9e12f6e3dea8df,," - title: aio_lxc-ubuntu-jammy - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_lxc-debian-bullseye - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-debian-bullseye.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_metal-ubuntu-jammy - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-ubuntu-jammy.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_metal-debian-bullseye type: graph span: 2 leftYAxisLabel: ""time"" y_formats: - s - none targets: - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-debian-bullseye.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_lxc-rockylinux-8 span: 2 - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_lxc-centos-8-stream span: 2 - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_lxc-centos-9-stream span: 2 - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_metal-rockylinux-8 span: 2 - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-rockylinux-8.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_metal-centos-8-stream type: graph span: 2 leftYAxisLabel: ""time"" y_formats: - s - none targets: - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-8-stream.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_metal-centos-9-stream type: graph span: 2 leftYAxisLabel: ""time"" y_formats: - s - none targets: - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-9-stream.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_ceph-ubuntu-focal - title: aio_ceph_ubuntu-jammy type: graph span: 3 leftYAxisLabel: ""time"" y_formats: - s - none targets: - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_proxy-ubuntu-jammy type: graph span: 3 leftYAxisLabel: ""time"" y_formats: - s - none targets: - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-jammy.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-focal.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-focal.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_ceph-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_ceph-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-centos-8-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-centos-9-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-rockylinux-8') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_ceph-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-centos-8-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-centos-9-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-rockylinux-8') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-jammy.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-jammy.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_ceph-ubuntu-jammy') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8-stream.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-centos-8-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-9-stream.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-centos-9-stream') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-rockylinux-8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-rockylinux-8')"," - title: aio_lxc-ubuntu-bionic type: graph span: 2 leftYAxisLabel: ""time"" y_formats: - s - none targets: - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-bionic.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_lxc-debian-buster - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-debian-buster.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_metal-ubuntu-bionic - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-ubuntu-bionic.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_metal-debian-buster - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-debian-buster.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_lxc-centos-7 span: 3 - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-7.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_lxc-centos-8 span: 3 - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_metal-centos-7 span: 3 - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-7.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_metal-centos-8 span: 3 - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_metal-centos-8.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_ceph-ubuntu-bionic type: graph span: 3 leftYAxisLabel: ""time"" y_formats: - s - none targets: - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-bionic.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: aio_ceph_ubuntu-focal - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-bionic.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-bionic.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-ubuntu-bionic') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-focal.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-focal.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-ubuntu-bionic') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-bionic.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-bionic.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-ubuntu-bionic') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-focal.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-focal.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-ubuntu-bionic') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-7.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-7.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-centos-7') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8.SUCCESS),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-centos-8') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-bionic.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-bionic.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-ubuntu-bionic') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-focal.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-focal.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_proxy-ubuntu-focal') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-bionic.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-bionic.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_ceph-ubuntu-bionic') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-7.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-7.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-centos-7') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-centos-8') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-bionic.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-ubuntu-bionic.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-ubuntu-bionic') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-focal.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_proxy-ubuntu-focal.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_proxy-ubuntu-bionic') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-bionic.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_ceph-ubuntu-bionic.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_ceph-ubuntu-bionic') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-7.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-7.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-centos-7') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-8.TIMED_OUT),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-888888887.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'aio_lxc-centos-8')",81,53
openstack%2Ftripleo-heat-templates~master~Ieb16a502a46bb53b75e6159e9ad56c98800e2b80,openstack/tripleo-heat-templates,master,Ieb16a502a46bb53b75e6159e9ad56c98800e2b80,Deprecate CephPoolDefaultPgNum and CephPoolDefaultSize,MERGED,2022-06-03 18:27:01.000000000,2022-07-03 22:36:30.000000000,2022-07-03 22:35:23.000000000,"[{'_account_id': 6681}, {'_account_id': 6796}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-06-03 18:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f27161ea75d64f905193b377fc0c4a77ed701af7', 'message': 'Deprecate CephPoolDefaultPgNum and CephPoolDefaultSize\n\nCephPoolDefaultPgNum and CephPoolDefaultSize no longer affect the\nCeph deployment and pools are created without a pg_num unless one\nis provided _per_ pool by overriding CephPools. Parameters are\nstill present but have no effect.\n\nIf you deloyed a Ceph RBD cluster, then would you expect an overcloud\ndeployment which happened after that to change the default PG number\nor replica count? That kind of thing should be decoupled from overcloud\ndeployment and handled between \'openstack overcloud ceph deploy\' and\n\'openstack overcloud deploy\'. Pool creation during overcloud deployment\nis another matter however.\n\nIt\'s no longer required to pass a PG number when creating pools so don\'t\nby default. When you create pools you should set a target_size_ratio (or\nPG number) by overriding CephPools. Else you\'ll inherit Ceph\'s, not\nOpenStack\'s, defualt PG and replica values per Ceph release (now 32 PGs\nin Pacific).\n\nUpdate the CephPools example comment to show use of target_size_ratio;\nvolumes 40%, images 10%, vms 30% (which leaves 20% of space free) so\nuser can borrow it and fill it in without worrying about PG numbers.\nIf they overlook it and go with all defaults (no target_size_ratio\nand default pg_num), then pg_autoscale_mode will fix it later though\n""all data that is written will end up moving approximately once after\nit is written ... but the overhead of ignorance is at least bounded\nand reasonable."" [1]\n\n[1] https://ceph.io/en/news/blog/2019/new-in-nautilus-pg-merging-and-autotuning\n\nDepends-On: Ief1a40161a1c57be8fd038b473a6f21feb9aa8fc\nChange-Id: Ieb16a502a46bb53b75e6159e9ad56c98800e2b80\n'}, {'number': 2, 'created': '2022-06-06 12:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6df98cd219278233cd2b37d21433abc458c38677', 'message': 'Deprecate CephPoolDefaultPgNum and CephPoolDefaultSize\n\nCephPoolDefaultPgNum and CephPoolDefaultSize no longer affect the\nCeph deployment and pools are created without a pg_num unless one\nis provided _per_ pool by overriding CephPools. Parameters are\nstill present but have no effect.\n\nIf you deloyed a Ceph RBD cluster, then would you expect an overcloud\ndeployment which happened after that to change the default PG number\nor replica count? That kind of thing should be decoupled from overcloud\ndeployment and handled between \'openstack overcloud ceph deploy\' and\n\'openstack overcloud deploy\'. Pool creation during overcloud deployment\nis another matter however.\n\nIt\'s no longer required to pass a PG number when creating pools so don\'t\nby default. When you create pools you should set a target_size_ratio (or\nPG number) by overriding CephPools. Else you\'ll inherit Ceph\'s, not\nOpenStack\'s, defualt PG and replica values per Ceph release (now 32 PGs\nin Pacific).\n\nUpdate the CephPools example comment to show use of target_size_ratio;\nvolumes 40%, images 10%, vms 30% (which leaves 20% of space free) so\nuser can borrow it and fill it in without worrying about PG numbers.\nIf they overlook it and go with all defaults (no target_size_ratio\nand default pg_num), then pg_autoscale_mode will fix it later though\n""all data that is written will end up moving approximately once after\nit is written ... but the overhead of ignorance is at least bounded\nand reasonable."" [1]\n\n[1] https://ceph.io/en/news/blog/2019/new-in-nautilus-pg-merging-and-autotuning\n\nDepends-On: Ief1a40161a1c57be8fd038b473a6f21feb9aa8fc\nDepends-On: I982dedb53582fbd76391165c3ca72954c129b84a\nChange-Id: Ieb16a502a46bb53b75e6159e9ad56c98800e2b80\n'}, {'number': 3, 'created': '2022-06-14 19:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b29df87f3c3af36f5e94ac26be4168c5af3ba0e', 'message': 'Deprecate CephPoolDefaultPgNum and CephPoolDefaultSize\n\nCephPoolDefaultPgNum and CephPoolDefaultSize no longer affect the\nCeph deployment and pools are created without a pg_num unless one\nis provided _per_ pool by overriding CephPools. Parameters are\nstill present but have no effect.\n\nIf you deloyed a Ceph RBD cluster, then would you expect an overcloud\ndeployment which happened after that to change the default PG number\nor replica count? That kind of thing should be decoupled from overcloud\ndeployment and handled between \'openstack overcloud ceph deploy\' and\n\'openstack overcloud deploy\'. Pool creation during overcloud deployment\nis another matter however.\n\nIt\'s no longer required to pass a PG number when creating pools so don\'t\nby default. When you create pools you should set a target_size_ratio (or\nPG number) by overriding CephPools. Else you\'ll inherit Ceph\'s, not\nOpenStack\'s, defualt PG and replica values per Ceph release (now 32 PGs\nin Pacific).\n\nUpdate the CephPools example comment to show use of target_size_ratio;\nvolumes 40%, images 10%, vms 30% (which leaves 20% of space free) so\nuser can borrow it and fill it in without worrying about PG numbers.\nIf they overlook it and go with all defaults (no target_size_ratio\nand default pg_num), then pg_autoscale_mode will fix it later though\n""all data that is written will end up moving approximately once after\nit is written ... but the overhead of ignorance is at least bounded\nand reasonable."" [1]\n\n[1] https://ceph.io/en/news/blog/2019/new-in-nautilus-pg-merging-and-autotuning\n\nDepends-On: Ief1a40161a1c57be8fd038b473a6f21feb9aa8fc\nDepends-On: I982dedb53582fbd76391165c3ca72954c129b84a\nChange-Id: Ieb16a502a46bb53b75e6159e9ad56c98800e2b80\n'}, {'number': 4, 'created': '2022-06-16 13:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b66948a070d83d6d9a8f61585ab42643073f696f', 'message': 'Deprecate CephPoolDefaultPgNum and CephPoolDefaultSize\n\nCephPoolDefaultPgNum and CephPoolDefaultSize no longer affect the\nCeph deployment and pools are created without a pg_num unless one\nis provided _per_ pool by overriding CephPools. Parameters are\nstill present but have no effect.\n\nIf you deloyed a Ceph RBD cluster, then would you expect an overcloud\ndeployment which happened after that to change the default PG number\nor replica count? That kind of thing should be decoupled from overcloud\ndeployment and handled between \'openstack overcloud ceph deploy\' and\n\'openstack overcloud deploy\'. Pool creation during overcloud deployment\nis another matter however.\n\nIt\'s no longer required to pass a PG number when creating pools so don\'t\nby default. When you create pools you should set a target_size_ratio (or\nPG number) by overriding CephPools. Else you\'ll inherit Ceph\'s, not\nOpenStack\'s, defualt PG and replica values per Ceph release (now 32 PGs\nin Pacific).\n\nUpdate the CephPools example comment to show use of target_size_ratio;\nvolumes 40%, images 10%, vms 30% (which leaves 20% of space free) so\nuser can borrow it and fill it in without worrying about PG numbers.\nIf they overlook it and go with all defaults (no target_size_ratio\nand default pg_num), then pg_autoscale_mode will fix it later though\n""all data that is written will end up moving approximately once after\nit is written ... but the overhead of ignorance is at least bounded\nand reasonable."" [1]\n\n[1] https://ceph.io/en/news/blog/2019/new-in-nautilus-pg-merging-and-autotuning\n\nDepends-On: Ief1a40161a1c57be8fd038b473a6f21feb9aa8fc\nDepends-On: I982dedb53582fbd76391165c3ca72954c129b84a\nChange-Id: Ieb16a502a46bb53b75e6159e9ad56c98800e2b80\n'}, {'number': 5, 'created': '2022-06-16 13:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec570914d47bd50eae3ab041be5d5b7df77b5ced', 'message': 'Deprecate CephPoolDefaultPgNum and CephPoolDefaultSize\n\nCephPoolDefaultPgNum and CephPoolDefaultSize no longer affect the\nCeph deployment and pools are created without a pg_num unless one\nis provided _per_ pool by overriding CephPools. Parameters are\nstill present but have no effect.\n\nIf you deloyed a Ceph RBD cluster, then would you expect an overcloud\ndeployment which happened after that to change the default PG number\nor replica count? That kind of thing should be decoupled from overcloud\ndeployment and handled between \'openstack overcloud ceph deploy\' and\n\'openstack overcloud deploy\'. Pool creation during overcloud deployment\nis another matter however.\n\nIt\'s no longer required to pass a PG number when creating pools so don\'t\nby default. When you create pools you should set a target_size_ratio (or\nPG number) by overriding CephPools. Else you\'ll inherit Ceph\'s, not\nOpenStack\'s, defualt PG and replica values per Ceph release (now 32 PGs\nin Pacific).\n\nUpdate the CephPools example comment to show use of target_size_ratio;\nvolumes 40%, images 10%, vms 30% (which leaves 20% of space free) so\nuser can borrow it and fill it in without worrying about PG numbers.\nIf they overlook it and go with all defaults (no target_size_ratio\nand default pg_num), then pg_autoscale_mode will fix it later though\n""all data that is written will end up moving approximately once after\nit is written ... but the overhead of ignorance is at least bounded\nand reasonable."" [1]\n\n[1] https://ceph.io/en/news/blog/2019/new-in-nautilus-pg-merging-and-autotuning\n\nDepends-On: Ief1a40161a1c57be8fd038b473a6f21feb9aa8fc\nDepends-On: I982dedb53582fbd76391165c3ca72954c129b84a\nChange-Id: Ieb16a502a46bb53b75e6159e9ad56c98800e2b80\n'}, {'number': 6, 'created': '2022-06-28 12:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba9c6942649abfc0d2a9274ed503181d781023d5', 'message': 'Deprecate CephPoolDefaultPgNum and CephPoolDefaultSize\n\nCephPoolDefaultPgNum and CephPoolDefaultSize no longer affect the\nCeph deployment and pools are created without a pg_num unless one\nis provided _per_ pool by overriding CephPools. Parameters are\nstill present but have no effect.\n\nIf you deloyed a Ceph RBD cluster, then would you expect an overcloud\ndeployment which happened after that to change the default PG number\nor replica count? That kind of thing should be decoupled from overcloud\ndeployment and handled between \'openstack overcloud ceph deploy\' and\n\'openstack overcloud deploy\'. Pool creation during overcloud deployment\nis another matter however.\n\nIt\'s no longer required to pass a PG number when creating pools so don\'t\nby default. When you create pools you should set a target_size_ratio (or\nPG number) by overriding CephPools. Else you\'ll inherit Ceph\'s, not\nOpenStack\'s, defualt PG and replica values per Ceph release (now 32 PGs\nin Pacific).\n\nUpdate the CephPools example comment to show use of target_size_ratio;\nvolumes 40%, images 10%, vms 30% (which leaves 20% of space free) so\nuser can borrow it and fill it in without worrying about PG numbers.\nIf they overlook it and go with all defaults (no target_size_ratio\nand default pg_num), then pg_autoscale_mode will fix it later though\n""all data that is written will end up moving approximately once after\nit is written ... but the overhead of ignorance is at least bounded\nand reasonable."" [1]\n\n[1] https://ceph.io/en/news/blog/2019/new-in-nautilus-pg-merging-and-autotuning\n\nDepends-On: Ief1a40161a1c57be8fd038b473a6f21feb9aa8fc\nDepends-On: I982dedb53582fbd76391165c3ca72954c129b84a\nChange-Id: Ieb16a502a46bb53b75e6159e9ad56c98800e2b80\n'}, {'number': 7, 'created': '2022-06-29 06:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/065ab5a16d2ac1ce8cce06d4c2a4c47963f187b7', 'message': 'Deprecate CephPoolDefaultPgNum and CephPoolDefaultSize\n\nCephPoolDefaultPgNum and CephPoolDefaultSize no longer affect the\nCeph deployment and pools are created without a pg_num unless one\nis provided _per_ pool by overriding CephPools. Parameters are\nstill present but have no effect.\n\nIf you deloyed a Ceph RBD cluster, then would you expect an overcloud\ndeployment which happened after that to change the default PG number\nor replica count? That kind of thing should be decoupled from overcloud\ndeployment and handled between \'openstack overcloud ceph deploy\' and\n\'openstack overcloud deploy\'. Pool creation during overcloud deployment\nis another matter however.\n\nIt\'s no longer required to pass a PG number when creating pools so don\'t\nby default. When you create pools you should set a target_size_ratio (or\nPG number) by overriding CephPools. Else you\'ll inherit Ceph\'s, not\nOpenStack\'s, defualt PG and replica values per Ceph release (now 32 PGs\nin Pacific).\n\nUpdate the CephPools example comment to show use of target_size_ratio;\nvolumes 40%, images 10%, vms 30% (which leaves 20% of space free) so\nuser can borrow it and fill it in without worrying about PG numbers.\nIf they overlook it and go with all defaults (no target_size_ratio\nand default pg_num), then pg_autoscale_mode will fix it later though\n""all data that is written will end up moving approximately once after\nit is written ... but the overhead of ignorance is at least bounded\nand reasonable."" [1]\n\n[1] https://ceph.io/en/news/blog/2019/new-in-nautilus-pg-merging-and-autotuning\n\nDepends-On: Ief1a40161a1c57be8fd038b473a6f21feb9aa8fc\nDepends-On: I982dedb53582fbd76391165c3ca72954c129b84a\nChange-Id: Ieb16a502a46bb53b75e6159e9ad56c98800e2b80\n'}, {'number': 8, 'created': '2022-06-29 08:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/46b99be3cf7cba1f49e23af789b069bb50710caa', 'message': 'Deprecate CephPoolDefaultPgNum and CephPoolDefaultSize\n\nCephPoolDefaultPgNum and CephPoolDefaultSize no longer affect the\nCeph deployment and pools are created without a pg_num unless one\nis provided _per_ pool by overriding CephPools. Parameters are\nstill present but have no effect.\n\nIf you deloyed a Ceph RBD cluster, then would you expect an overcloud\ndeployment which happened after that to change the default PG number\nor replica count? That kind of thing should be decoupled from overcloud\ndeployment and handled between \'openstack overcloud ceph deploy\' and\n\'openstack overcloud deploy\'. Pool creation during overcloud deployment\nis another matter however.\n\nIt\'s no longer required to pass a PG number when creating pools so don\'t\nby default. When you create pools you should set a target_size_ratio (or\nPG number) by overriding CephPools. Else you\'ll inherit Ceph\'s, not\nOpenStack\'s, defualt PG and replica values per Ceph release (now 32 PGs\nin Pacific).\n\nUpdate the CephPools example comment to show use of target_size_ratio;\nvolumes 40%, images 10%, vms 30% (which leaves 20% of space free) so\nuser can borrow it and fill it in without worrying about PG numbers.\nIf they overlook it and go with all defaults (no target_size_ratio\nand default pg_num), then pg_autoscale_mode will fix it later though\n""all data that is written will end up moving approximately once after\nit is written ... but the overhead of ignorance is at least bounded\nand reasonable."" [1]\n\n[1] https://ceph.io/en/news/blog/2019/new-in-nautilus-pg-merging-and-autotuning\n\nDepends-On: I18a898ad7f6fcd3818bac707ce34a93303a59430\nDepends-On: Ief1a40161a1c57be8fd038b473a6f21feb9aa8fc\nDepends-On: I982dedb53582fbd76391165c3ca72954c129b84a\nChange-Id: Ieb16a502a46bb53b75e6159e9ad56c98800e2b80\n'}, {'number': 9, 'created': '2022-06-30 20:21:02.000000000', 'files': ['releasenotes/notes/deprecate_ceph_pg_num_in_tht-91fe6303cc5ba07e.yaml', 'ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario004-standalone.yaml', 'deployment/cephadm/ceph-base.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66ba918c746c624e9afc905d008c9b3ffef035b3', 'message': 'Deprecate CephPoolDefaultPgNum and CephPoolDefaultSize\n\nCephPoolDefaultPgNum and CephPoolDefaultSize no longer affect the\nCeph deployment and pools are created without a pg_num unless one\nis provided _per_ pool by overriding CephPools. Parameters are\nstill present but have no effect.\n\nIf you deloyed a Ceph RBD cluster, then would you expect an overcloud\ndeployment which happened after that to change the default PG number\nor replica count? That kind of thing should be decoupled from overcloud\ndeployment and handled between \'openstack overcloud ceph deploy\' and\n\'openstack overcloud deploy\'. Pool creation during overcloud deployment\nis another matter however.\n\nIt\'s no longer required to pass a PG number when creating pools so don\'t\nby default. When you create pools you should set a target_size_ratio (or\nPG number) by overriding CephPools. Else you\'ll inherit Ceph\'s, not\nOpenStack\'s, defualt PG and replica values per Ceph release (now 32 PGs\nin Pacific).\n\nUpdate the CephPools example comment to show use of target_size_ratio;\nvolumes 40%, images 10%, vms 30% (which leaves 20% of space free) so\nuser can borrow it and fill it in without worrying about PG numbers.\nIf they overlook it and go with all defaults (no target_size_ratio\nand default pg_num), then pg_autoscale_mode will fix it later though\n""all data that is written will end up moving approximately once after\nit is written ... but the overhead of ignorance is at least bounded\nand reasonable."" [1]\n\n[1] https://ceph.io/en/news/blog/2019/new-in-nautilus-pg-merging-and-autotuning\n\nDepends-On: I18a898ad7f6fcd3818bac707ce34a93303a59430\nDepends-On: Ief1a40161a1c57be8fd038b473a6f21feb9aa8fc\nDepends-On: I982dedb53582fbd76391165c3ca72954c129b84a\nChange-Id: Ieb16a502a46bb53b75e6159e9ad56c98800e2b80\n'}]",18,844632,66ba918c746c624e9afc905d008c9b3ffef035b3,74,6,9,18002,,,0,"Deprecate CephPoolDefaultPgNum and CephPoolDefaultSize

CephPoolDefaultPgNum and CephPoolDefaultSize no longer affect the
Ceph deployment and pools are created without a pg_num unless one
is provided _per_ pool by overriding CephPools. Parameters are
still present but have no effect.

If you deloyed a Ceph RBD cluster, then would you expect an overcloud
deployment which happened after that to change the default PG number
or replica count? That kind of thing should be decoupled from overcloud
deployment and handled between 'openstack overcloud ceph deploy' and
'openstack overcloud deploy'. Pool creation during overcloud deployment
is another matter however.

It's no longer required to pass a PG number when creating pools so don't
by default. When you create pools you should set a target_size_ratio (or
PG number) by overriding CephPools. Else you'll inherit Ceph's, not
OpenStack's, defualt PG and replica values per Ceph release (now 32 PGs
in Pacific).

Update the CephPools example comment to show use of target_size_ratio;
volumes 40%, images 10%, vms 30% (which leaves 20% of space free) so
user can borrow it and fill it in without worrying about PG numbers.
If they overlook it and go with all defaults (no target_size_ratio
and default pg_num), then pg_autoscale_mode will fix it later though
""all data that is written will end up moving approximately once after
it is written ... but the overhead of ignorance is at least bounded
and reasonable."" [1]

[1] https://ceph.io/en/news/blog/2019/new-in-nautilus-pg-merging-and-autotuning

Depends-On: I18a898ad7f6fcd3818bac707ce34a93303a59430
Depends-On: Ief1a40161a1c57be8fd038b473a6f21feb9aa8fc
Depends-On: I982dedb53582fbd76391165c3ca72954c129b84a
Change-Id: Ieb16a502a46bb53b75e6159e9ad56c98800e2b80
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/844632/8 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario010-multinode-containers.yaml', 'deployment/cephadm/ceph-base.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'ci/environments/scenario001-standalone.yaml']",6,f27161ea75d64f905193b377fc0c4a77ed701af7,optional_pg_num,, CephPoolDefaultPgNum: 8 CephPoolDefaultSize: 1 pg_num: 8,27,33
openstack%2Frequirements~master~If0dc814b74ab10eb9400a2a1fa6a220d454da755,openstack/requirements,master,If0dc814b74ab10eb9400a2a1fa6a220d454da755,Updated from generate-constraints,MERGED,2022-06-30 02:53:00.000000000,2022-07-03 17:44:06.000000000,2022-07-03 17:43:00.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-30 02:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7eac48bf99791a72349ec9163154e4183b841fce', 'message': 'Updated from generate-constraints\n\nChange-Id: If0dc814b74ab10eb9400a2a1fa6a220d454da755\n'}, {'number': 2, 'created': '2022-06-30 03:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/bd450b6a7990649d825d6e3cc814b82097d3b348', 'message': 'Updated from generate-constraints\n\nChange-Id: If0dc814b74ab10eb9400a2a1fa6a220d454da755\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2022-06-30 09:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fb89c7699cf5194820cd7f52712ba4a9c2cda684', 'message': 'Updated from generate-constraints\n\nChange-Id: If0dc814b74ab10eb9400a2a1fa6a220d454da755\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 4, 'created': '2022-07-01 13:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/43dccacc42cb40c770e5206d9f411f44b42a69a4', 'message': 'Updated from generate-constraints\n\nChange-Id: If0dc814b74ab10eb9400a2a1fa6a220d454da755\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 5, 'created': '2022-07-02 08:17:10.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/70282106c9d00df1ec0b6bfb830bf1858a2ebad5', 'message': 'Updated from generate-constraints\n\nChange-Id: If0dc814b74ab10eb9400a2a1fa6a220d454da755\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",2,848209,70282106c9d00df1ec0b6bfb830bf1858a2ebad5,28,2,5,11131,,,0,"Updated from generate-constraints

Change-Id: If0dc814b74ab10eb9400a2a1fa6a220d454da755
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/09/848209/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7eac48bf99791a72349ec9163154e4183b841fce,openstack/requirements/constraints,netmiko===4.1.1pyghmi===1.5.50google-auth===2.9.0cryptography===37.0.2pkg_resources===0.0.0requests===2.28.1daiquiri===3.1.1google-api-python-client===2.52.0suds-community===1.1.2boto3===1.24.20protobuf===4.21.2Sphinx===5.0.2botocore===1.27.20charset-normalizer===2.1.0virtualenv===20.15.1,netmiko===4.1.0pyghmi===1.5.49google-auth===2.8.0cryptography===36.0.2requests===2.28.0daiquiri===3.1.0google-api-python-client===2.51.0suds-community===1.1.1boto3===1.24.18protobuf===3.20.1Sphinx===4.5.0botocore===1.27.18charset-normalizer===2.0.12virtualenv===20.15.0,15,14
openstack%2Frequirements~master~Iaf0d98566d6993bba56ee990b95663e627de2778,openstack/requirements,master,Iaf0d98566d6993bba56ee990b95663e627de2778,Updated from generate-constraints,ABANDONED,2022-07-03 02:44:54.000000000,2022-07-03 17:10:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-03 02:44:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/92e91c6aa70024d2a4966466a6856816f92e3240', 'message': 'Updated from generate-constraints\n\nChange-Id: If0dc814b74ab10eb9400a2a1fa6a220d454da755\nIc0269dc272807f3a4801adb6c30e332eb73b1030\n\nChange-Id: Iaf0d98566d6993bba56ee990b95663e627de2778\n'}]",0,848526,92e91c6aa70024d2a4966466a6856816f92e3240,4,1,1,11131,,,0,"Updated from generate-constraints

Change-Id: If0dc814b74ab10eb9400a2a1fa6a220d454da755
Ic0269dc272807f3a4801adb6c30e332eb73b1030

Change-Id: Iaf0d98566d6993bba56ee990b95663e627de2778
",git fetch https://review.opendev.org/openstack/requirements refs/changes/26/848526/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,92e91c6aa70024d2a4966466a6856816f92e3240,openstack/requirements/constraints,netmiko===4.1.1pecan===1.4.2lxml===4.9.1fixtures===4.0.1Mako===1.2.1Pillow===9.2.0pyghmi===1.5.50google-auth===2.9.0typing_extensions===4.3.0imagesize===1.4.1cryptography===37.0.2pkg_resources===0.0.0libvirt-python===8.5.0requests===2.28.1daiquiri===3.2.1google-api-python-client===2.52.0suds-community===1.1.2ujson===5.4.0boto3===1.24.22protobuf===4.21.2pika===1.3.0Sphinx===5.0.2botocore===1.27.22dulwich===0.20.44cffi===1.15.1charset-normalizer===2.1.0virtualenv===20.15.1,netmiko===4.1.0pecan===1.4.1lxml===4.9.0fixtures===4.0.0Mako===1.2.0Pillow===9.1.1pyghmi===1.5.49google-auth===2.8.0typing_extensions===4.2.0imagesize===1.3.0cryptography===36.0.2libvirt-python===8.4.0requests===2.28.0daiquiri===3.1.0google-api-python-client===2.51.0suds-community===1.1.1ujson===5.3.0boto3===1.24.18protobuf===3.20.1pika===1.2.1Sphinx===4.5.0botocore===1.27.18dulwich===0.20.43cffi===1.15.0charset-normalizer===2.0.12virtualenv===20.15.0,27,26
openstack%2Fpuppet-openstack_spec_helper~stable%2Ftrain~I19ad4c2995bd852add41c73e0543b8e410758834,openstack/puppet-openstack_spec_helper,stable/train,I19ad4c2995bd852add41c73e0543b8e410758834,Train-only: Ubuntu: Fix wrong version used in unit tests,NEW,2022-07-03 15:41:02.000000000,2022-07-03 16:03:53.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-03 15:41:02.000000000', 'files': ['lib/puppet-openstack_spec_helper/defaults.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/f0a172cab17f59a0b304af04e693216519b852ef', 'message': 'Train-only: Ubuntu: Fix wrong version used in unit tests\n\nUCA Train is supported with only Ubuntu 18.04. This change fixes\nthe wrong and old version(16.04) used in unit tests. This was later\nfixed in Wallaby so this change is submitted directly to stable\nbranches.\n\nChange-Id: I19ad4c2995bd852add41c73e0543b8e410758834\n'}]",0,848540,f0a172cab17f59a0b304af04e693216519b852ef,3,2,1,9816,,,0,"Train-only: Ubuntu: Fix wrong version used in unit tests

UCA Train is supported with only Ubuntu 18.04. This change fixes
the wrong and old version(16.04) used in unit tests. This was later
fixed in Wallaby so this change is submitted directly to stable
branches.

Change-Id: I19ad4c2995bd852add41c73e0543b8e410758834
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/40/848540/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet-openstack_spec_helper/defaults.rb'],1,f0a172cab17f59a0b304af04e693216519b852ef,," 'operatingsystemrelease' => [ '18.04' ] },"," 'operatingsystemrelease' => [ '16.04' ] },",1,1
openstack%2Fpuppet-openstack_spec_helper~master~Iccde07f3d1e74b8383cdf70f2b6e05b57d028377,openstack/puppet-openstack_spec_helper,master,Iccde07f3d1e74b8383cdf70f2b6e05b57d028377,Enable unit tests for CentOS 9 Stream,ABANDONED,2021-12-23 00:38:16.000000000,2022-07-03 15:59:05.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-23 00:38:16.000000000', 'files': ['lib/puppet-openstack_spec_helper/defaults.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/70d7258e791cc4422b702f674c7bba41eca2850d', 'message': 'Enable unit tests for CentOS 9 Stream\n\nChange-Id: Iccde07f3d1e74b8383cdf70f2b6e05b57d028377\n'}]",0,822769,70d7258e791cc4422b702f674c7bba41eca2850d,9,2,1,9816,,,0,"Enable unit tests for CentOS 9 Stream

Change-Id: Iccde07f3d1e74b8383cdf70f2b6e05b57d028377
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/69/822769/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet-openstack_spec_helper/defaults.rb'],1,70d7258e791cc4422b702f674c7bba41eca2850d,," { 'operatingsystem' => 'CentOS', 'operatingsystemrelease' => [ '9' ] },",,2,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I905999fd7901490aa87d3ab302b28b437225ed89,openstack/python-tripleoclient,stable/wallaby,I905999fd7901490aa87d3ab302b28b437225ed89,Add handling for roles and networks to answers,MERGED,2022-06-21 12:37:22.000000000,2022-07-03 09:44:54.000000000,2022-07-03 09:43:43.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-06-21 12:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2535f6cb3d881e25bef756624d3bab3a466fa091', 'message': 'Add handling for roles and networks to answers\n\nThe answers file only supports environments and templates today.\nThis change adds handling for roles and networks arguments. This\nchange will allow users to specify their roles_data.yaml and\nnetwork_data.yaml file in the same location as their other custom\ntemplates.\n\nChange-Id: I905999fd7901490aa87d3ab302b28b437225ed89\n(cherry picked from commit 0511ba81f83d2306618aa984b22cce576d3e95b6)\n'}, {'number': 2, 'created': '2022-06-27 05:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9a49942809209b2a0feabca8344f0354f1f949e4', 'message': 'Add handling for roles and networks to answers\n\nThe answers file only supports environments and templates today.\nThis change adds handling for roles and networks arguments. This\nchange will allow users to specify their roles_data.yaml and\nnetwork_data.yaml file in the same location as their other custom\ntemplates.\n\nChange-Id: I905999fd7901490aa87d3ab302b28b437225ed89\n(cherry picked from commit 0511ba81f83d2306618aa984b22cce576d3e95b6)\n'}, {'number': 3, 'created': '2022-07-01 03:13:43.000000000', 'files': ['releasenotes/notes/add-roles-and-networks-answers-f23927c9075c7e99.yaml', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/88d025d0275c2bee983bf00cf587b33ff2de4d79', 'message': 'Add handling for roles and networks to answers\n\nThe answers file only supports environments and templates today.\nThis change adds handling for roles and networks arguments. This\nchange will allow users to specify their roles_data.yaml and\nnetwork_data.yaml file in the same location as their other custom\ntemplates.\n\nConflicts:\n\ttripleoclient/v1/overcloud_deploy.py\n\nResolved conflicts caused by the refactoring done in\ndc8b39adf0e54a454ee61c07cbf9cbf5ee36d6da\n\nChange-Id: I905999fd7901490aa87d3ab302b28b437225ed89\n(cherry picked from commit f931e73c477394ac19e4b7bf36ce9c9dbd38154e)\n'}]",16,846937,88d025d0275c2bee983bf00cf587b33ff2de4d79,24,4,3,30073,,,0,"Add handling for roles and networks to answers

The answers file only supports environments and templates today.
This change adds handling for roles and networks arguments. This
change will allow users to specify their roles_data.yaml and
network_data.yaml file in the same location as their other custom
templates.

Conflicts:
	tripleoclient/v1/overcloud_deploy.py

Resolved conflicts caused by the refactoring done in
dc8b39adf0e54a454ee61c07cbf9cbf5ee36d6da

Change-Id: I905999fd7901490aa87d3ab302b28b437225ed89
(cherry picked from commit f931e73c477394ac19e4b7bf36ce9c9dbd38154e)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/37/846937/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-roles-and-networks-answers-f23927c9075c7e99.yaml', 'tripleoclient/v1/overcloud_deploy.py']",2,2535f6cb3d881e25bef756624d3bab3a466fa091,add-roles-network-stable/wallaby,"<<<<<<< HEAD (3bf5da Merge ""Fall back to alt path for ceph client data during exp) ======= def _validate_args_environment_dir(dirs): default = os.path.expanduser(constants.DEFAULT_ENV_DIRECTORY) not_found = [d for d in dirs if not os.path.isdir(d) and d != default] if not_found: raise oscexc.CommandError( ""Error: The following environment directories were not found"" "": {0}"".format("", "".join(not_found))) def _update_args_from_answers_file(parsed_args): if parsed_args.answers_file is None: return with open(parsed_args.answers_file, 'r') as answers_file: answers = yaml.safe_load(answers_file) if parsed_args.templates is None: parsed_args.templates = answers['templates'] if 'environments' in answers: if parsed_args.environment_files is not None: answers['environments'].extend(parsed_args.environment_files) parsed_args.environment_files = answers['environments'] if 'roles' in answers: if parsed_args.roles_file is None: parsed_args.roles_file = answers['roles'] if 'networks' in answers: if parsed_args.networks_file is None: parsed_args.networks_file = answers['networks'] def _validate_args(parsed_args): if parsed_args.templates is None and parsed_args.answers_file is None: raise oscexc.CommandError( ""You must specify either --templates or --answers-file"") if parsed_args.baremetal_deployment and not parsed_args.deployed_server: raise oscexc.CommandError( ""Error: --deployed-server must be used when using "" ""--baremetal-deployment"") if (parsed_args.baremetal_deployment and (parsed_args.config_download_only or parsed_args.setup_only)): raise oscexc.CommandError( ""Error: --config-download-only/--setup-only must not be used when "" ""using --baremetal-deployment"") if (parsed_args.network_config and not parsed_args.baremetal_deployment): raise oscexc.CommandError( ""Error: --baremetal-deployment must be used when using "" ""--network-config"") if parsed_args.environment_directories: _validate_args_environment_dir(parsed_args.environment_directories) not_found = [x for x in [parsed_args.networks_file, parsed_args.plan_environment_file, parsed_args.answers_file, parsed_args.vip_file] if x and not os.path.isfile(x)] jinja2_envs = [] if parsed_args.environment_files: for env in parsed_args.environment_files: if env.endswith("".j2.yaml""): jinja2_envs.append(env) continue # Tolerate missing file if there's a j2.yaml file that will # be rendered in the plan but not available locally (yet) if (not os.path.isfile(env) and not os.path.isfile(env.replace("".yaml"", "".j2.yaml""))): not_found.append(env) if not_found: raise oscexc.CommandError( ""Error: The following files were not found: {}"".format( "", "".join(not_found))) if jinja2_envs: rewritten_paths = [e.replace("".j2.yaml"", "".yaml"") for e in jinja2_envs] raise oscexc.CommandError( ""Error: The following jinja2 files were provided: {}. Did you "" ""mean {}?"".format(' -e '.join(jinja2_envs), ' -e '.join(rewritten_paths))) def _validate_vip_file(stack, working_dir): # Check vip_file only used with network data v2 networks_file_path = utils.get_networks_file_path(working_dir, stack) if not utils.is_network_data_v2(networks_file_path): raise oscexc.CommandError( 'The --vip-file option can only be used in combination with a ' 'network data v2 format networks file. The provided file {} ' 'is network data v1 format'.format(networks_file_path)) >>>>>>> CHANGE (f931e7 Add handling for roles and networks to answers)",,106,0
openstack%2Fpuppet-tripleo~master~I1a353bdfaf7ad323302991cf02b48dd932a12538,openstack/puppet-tripleo,master,I1a353bdfaf7ad323302991cf02b48dd932a12538,nova-migration-target: Remove redundant options from match block,MERGED,2022-06-07 02:12:01.000000000,2022-07-03 09:43:45.000000000,2022-07-03 09:43:45.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-07 02:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d708a9e8ef69c7630494775e94fd0c75128ba164', 'message': 'nova-migration-target: Remove redundant options from match block\n\nThis change removes some options from match block because these are\ndefined in the core section now.\n\nDepends-on: https://review.opendev.org/844897\nChange-Id: I1a353bdfaf7ad323302991cf02b48dd932a12538\n'}, {'number': 2, 'created': '2022-06-07 02:13:12.000000000', 'files': ['manifests/profile/base/nova/migration/target.pp', 'spec/classes/tripleo_profile_base_nova_migration_target_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/36c3ad485e51e45567de4b13f3cee6616ffdd8c5', 'message': 'nova-migration-target: Remove redundant options from match block\n\nThis change removes some options from match block because these are\ndefined in the core section now.\n\nDepends-on: https://review.opendev.org/844897\nChange-Id: I1a353bdfaf7ad323302991cf02b48dd932a12538\n'}]",2,844898,36c3ad485e51e45567de4b13f3cee6616ffdd8c5,16,4,2,9816,,,0,"nova-migration-target: Remove redundant options from match block

This change removes some options from match block because these are
defined in the core section now.

Depends-on: https://review.opendev.org/844897
Change-Id: I1a353bdfaf7ad323302991cf02b48dd932a12538
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/98/844898/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/nova/migration/target.pp', 'spec/classes/tripleo_profile_base_nova_migration_target_spec.rb']",2,d708a9e8ef69c7630494775e94fd0c75128ba164,nova-migration-target," 'ForceCommand' => '/bin/nova-migration-wrapper', 'AuthorizedKeysFile' => '/etc/nova/migration/authorized_keys' 'ForceCommand' => '/bin/true', 'AuthorizedKeysFile' => '/etc/nova/migration/authorized_keys'"," 'AllowUsers' => 'nova_migration', 'ForceCommand' => '/bin/nova-migration-wrapper', 'PasswordAuthentication' => 'no', 'AllowTcpForwarding' => 'no', 'X11Forwarding' => 'no', 'AuthorizedKeysFile' => '/etc/nova/migration/authorized_keys' 'AllowUsers' => 'nova_migration', 'ForceCommand' => '/bin/true', 'PasswordAuthentication' => 'no', 'AllowTcpForwarding' => 'no', 'X11Forwarding' => 'no', 'AuthorizedKeysFile' => '/etc/nova/migration/authorized_keys'",8,24
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ic46ba50c7200d5b4eacd1ee8c03d135bdcc2e353,openstack/tripleo-ansible,stable/wallaby,Ic46ba50c7200d5b4eacd1ee8c03d135bdcc2e353,Prevent the abusive restart of the octavia services,MERGED,2022-03-16 09:56:18.000000000,2022-07-03 09:43:41.000000000,2022-07-03 09:43:41.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-16 09:56:18.000000000', 'files': ['tripleo_ansible/roles/octavia_controller_post_config/tasks/main.yml', 'tripleo_ansible/roles/octavia_controller_config/tasks/netinterface.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fde570021032937b8ad30995ba84b9c6376cb761', 'message': ""Prevent the abusive restart of the octavia services\n\nThe octavia services were always restarted when running the\nansible-playbook\n\n1. The 'Bring the management port interface up' task should only be run\n   if the 'create octavia management interface' task changed.\n   Add a when clause that checks the output of the previous task.\n2. A 'when' clause compares 2 strings, but one of the strings always\n   starts with a whitespace, while the other string doesn't.\n   Trim the output of a task to make sure the strings are formatted\n   correctly.\n\nCloses-Bug: 1964099\nChange-Id: Ic46ba50c7200d5b4eacd1ee8c03d135bdcc2e353\n(cherry picked from commit 78d58174c339d9eea465e9ab29d6580079f9ff64)\n""}]",5,833973,fde570021032937b8ad30995ba84b9c6376cb761,27,4,1,29244,,,0,"Prevent the abusive restart of the octavia services

The octavia services were always restarted when running the
ansible-playbook

1. The 'Bring the management port interface up' task should only be run
   if the 'create octavia management interface' task changed.
   Add a when clause that checks the output of the previous task.
2. A 'when' clause compares 2 strings, but one of the strings always
   starts with a whitespace, while the other string doesn't.
   Trim the output of a task to make sure the strings are formatted
   correctly.

Closes-Bug: 1964099
Change-Id: Ic46ba50c7200d5b4eacd1ee8c03d135bdcc2e353
(cherry picked from commit 78d58174c339d9eea465e9ab29d6580079f9ff64)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/73/833973/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia_controller_post_config/tasks/main.yml', 'tripleo_ansible/roles/octavia_controller_config/tasks/netinterface.yml']",2,fde570021032937b8ad30995ba84b9c6376cb761,, register: octavia_ifcfg_file when: - octavia_ifcfg_file.changed|bool,,4,1
openstack%2Ftripleo-heat-templates~master~If9c6ba12baebcec9fa7a655fd5d2e10af9bde871,openstack/tripleo-heat-templates,master,If9c6ba12baebcec9fa7a655fd5d2e10af9bde871,Remove leftover of ntp service,MERGED,2022-06-09 04:58:38.000000000,2022-07-03 07:32:05.000000000,2022-07-03 07:32:05.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-09 04:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b9576fa79f39d76d118e82c0d432d2120581032', 'message': 'Remove leftover of ntp service\n\nThe ntp service was already removed[1].\nThis change removes the remaining references in ci environment and\none role data.\n\n[1] 3abededac21ec9ad4f98b8e60d7b72ca49f1d7c0\n\nChange-Id: If9c6ba12baebcec9fa7a655fd5d2e10af9bde871\n'}, {'number': 2, 'created': '2022-06-09 05:05:01.000000000', 'files': ['roles/ComputeHCISriov.yaml', 'ci/environments/scenario000-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a40e5b3b6cbead13ec2e5f392821085d6e7de22c', 'message': 'Remove leftover of ntp service\n\nThe ntp service was already removed[1].\nThis change removes the remaining references in ci environment and\none role data.\n\n[1] 3abededac21ec9ad4f98b8e60d7b72ca49f1d7c0\n\nCloses-Bug: #1978054\nChange-Id: If9c6ba12baebcec9fa7a655fd5d2e10af9bde871\n'}]",5,845215,a40e5b3b6cbead13ec2e5f392821085d6e7de22c,23,4,2,9816,,,0,"Remove leftover of ntp service

The ntp service was already removed[1].
This change removes the remaining references in ci environment and
one role data.

[1] 3abededac21ec9ad4f98b8e60d7b72ca49f1d7c0

Closes-Bug: #1978054
Change-Id: If9c6ba12baebcec9fa7a655fd5d2e10af9bde871
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/845215/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ComputeHCISriov.yaml', 'ci/environments/scenario000-standalone.yaml']",2,2b9576fa79f39d76d118e82c0d432d2120581032,bug/1978054,, OS::TripleO::Services::Ntp: OS::Heat::None,0,2
openstack%2Ftripleo-ansible~stable%2Fwallaby~I2ad892ecd3ef8b8e13dd97473fd22d9158bbd8ab,openstack/tripleo-ansible,stable/wallaby,I2ad892ecd3ef8b8e13dd97473fd22d9158bbd8ab,Remove - from endfor statement,MERGED,2022-06-27 16:07:49.000000000,2022-07-03 07:23:55.000000000,2022-07-03 07:23:55.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-27 16:07:49.000000000', 'files': ['tripleo_ansible/roles/tripleo_network_config/templates/2_linux_bonds_vlans/2_linux_bonds_vlans.j2', 'tripleo_ansible/roles/tripleo_network_config/templates/bonds_vlans/bonds_vlans.j2', 'tripleo_ansible/roles/tripleo_network_config/templates/2_linux_bonds_vlans/2_linux_bonds_vlans_dpdk.j2', 'tripleo_ansible/roles/tripleo_network_config/templates/bonds_vlans/bonds_vlans_storage.j2', 'tripleo_ansible/roles/tripleo_network_config/templates/bonds_vlans/bonds_vlans_dpdk.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a76a26d85c8372bcf77927637823ca9226d2d2fb', 'message': ""Remove - from endfor statement\n\nThis change removes '-' from endfor statement, so that\nit doesn't control whitespace and concatnate config.yaml\ncontent as mentioned in lp [1] comment#2 as below:\n\nroutes: [] - type: vlan\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1977490\n\nAlso fixes similar occurances in other templates.\n\nCloses-Bug: #1977490\nChange-Id: I2ad892ecd3ef8b8e13dd97473fd22d9158bbd8ab\n(cherry picked from commit d6bd930ddfe7e26fb468f851d0d6513c98b7b3af)\n""}]",2,847811,a76a26d85c8372bcf77927637823ca9226d2d2fb,16,4,1,20733,,,0,"Remove - from endfor statement

This change removes '-' from endfor statement, so that
it doesn't control whitespace and concatnate config.yaml
content as mentioned in lp [1] comment#2 as below:

routes: [] - type: vlan

[1] https://bugs.launchpad.net/tripleo/+bug/1977490

Also fixes similar occurances in other templates.

Closes-Bug: #1977490
Change-Id: I2ad892ecd3ef8b8e13dd97473fd22d9158bbd8ab
(cherry picked from commit d6bd930ddfe7e26fb468f851d0d6513c98b7b3af)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/11/847811/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_network_config/templates/2_linux_bonds_vlans/2_linux_bonds_vlans.j2', 'tripleo_ansible/roles/tripleo_network_config/templates/bonds_vlans/bonds_vlans.j2', 'tripleo_ansible/roles/tripleo_network_config/templates/2_linux_bonds_vlans/2_linux_bonds_vlans_dpdk.j2', 'tripleo_ansible/roles/tripleo_network_config/templates/bonds_vlans/bonds_vlans_storage.j2', 'tripleo_ansible/roles/tripleo_network_config/templates/bonds_vlans/bonds_vlans_dpdk.j2']",5,a76a26d85c8372bcf77927637823ca9226d2d2fb,lp_1977490,{% endfor %},{%- endfor %},5,5
openstack%2Frequirements~master~Ic0269dc272807f3a4801adb6c30e332eb73b1030,openstack/requirements,master,Ic0269dc272807f3a4801adb6c30e332eb73b1030,Updated from generate-constraints,ABANDONED,2022-07-01 02:48:26.000000000,2022-07-03 03:22:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-01 02:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/414fad26744f9bcfdc925f9dc1cf60f423007ab2', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic0269dc272807f3a4801adb6c30e332eb73b1030\n'}, {'number': 2, 'created': '2022-07-02 02:48:11.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/81517469832470ee6fc4c000593dbf591029c7cb', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic0269dc272807f3a4801adb6c30e332eb73b1030\n'}]",0,848378,81517469832470ee6fc4c000593dbf591029c7cb,7,1,2,11131,,,0,"Updated from generate-constraints

Change-Id: Ic0269dc272807f3a4801adb6c30e332eb73b1030
",git fetch https://review.opendev.org/openstack/requirements refs/changes/78/848378/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,414fad26744f9bcfdc925f9dc1cf60f423007ab2,openstack/requirements/constraints,netmiko===4.1.1Mako===1.2.1pyghmi===1.5.50google-auth===2.9.0cryptography===37.0.2pkg_resources===0.0.0requests===2.28.1daiquiri===3.2.0google-api-python-client===2.52.0suds-community===1.1.2boto3===1.24.21protobuf===4.21.2pika===1.3.0Sphinx===5.0.2botocore===1.27.21dulwich===0.20.44cffi===1.15.1charset-normalizer===2.1.0virtualenv===20.15.1,netmiko===4.1.0Mako===1.2.0pyghmi===1.5.49google-auth===2.8.0cryptography===36.0.2requests===2.28.0daiquiri===3.1.0google-api-python-client===2.51.0suds-community===1.1.1boto3===1.24.18protobuf===3.20.1pika===1.2.1Sphinx===4.5.0botocore===1.27.18dulwich===0.20.43cffi===1.15.0charset-normalizer===2.0.12virtualenv===20.15.0,19,18
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ic4ddbaba8aa8ca9501a00f5e4741fef73ba35b9d,openstack/tripleo-ansible,stable/wallaby,Ic4ddbaba8aa8ca9501a00f5e4741fef73ba35b9d,Ensure the dependent service is started in advance,MERGED,2022-06-08 17:09:28.000000000,2022-07-03 01:12:07.000000000,2022-07-03 01:12:07.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-08 17:09:28.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b760d62b6a40a34baba7dc5b6b0e4822813d791b', 'message': ""Ensure the dependent service is started in advance\n\nCurrently when dependent service is defined using the depends_on key,\ntripleo-ansible adds 'Wants' so that the dependent service is also\nstarted. However this attribute does not guarantee that the dependent\nservice is started BEFORE the target service is started.\n\nBecause current usage of depends_on expect the dependent service is\nstarted before the target service, this change adds 'After' so that\nthe ordering is properly enforced.\n\nCloses-Bug: #1970354\nChange-Id: Ic4ddbaba8aa8ca9501a00f5e4741fef73ba35b9d\n(cherry picked from commit 2f09033fcb5f1d6623d17ad402d06cea4838f35d)\n""}]",5,845046,b760d62b6a40a34baba7dc5b6b0e4822813d791b,26,3,1,9816,,,0,"Ensure the dependent service is started in advance

Currently when dependent service is defined using the depends_on key,
tripleo-ansible adds 'Wants' so that the dependent service is also
started. However this attribute does not guarantee that the dependent
service is started BEFORE the target service is started.

Because current usage of depends_on expect the dependent service is
started before the target service, this change adds 'After' so that
the ordering is properly enforced.

Closes-Bug: #1970354
Change-Id: Ic4ddbaba8aa8ca9501a00f5e4741fef73ba35b9d
(cherry picked from commit 2f09033fcb5f1d6623d17ad402d06cea4838f35d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/46/845046/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'],1,b760d62b6a40a34baba7dc5b6b0e4822813d791b,bug/1970354,"{% if lookup('dict', container_data_unit).value.depends_on | default([]) | length > 0 %} After={{ lookup('dict', container_data_unit).value.depends_on | default([]) | join(',') }}{% endif %}",,3,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id16a374b5ecd1c8ea9141f99872096b18c14343f,openstack/tripleo-heat-templates,stable/wallaby,Id16a374b5ecd1c8ea9141f99872096b18c14343f,Fix commands for configure_ovn_north/south_db_server,MERGED,2022-07-01 05:46:32.000000000,2022-07-02 23:43:38.000000000,2022-07-02 23:43:38.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 8655}, {'_account_id': 8833}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-01 05:46:32.000000000', 'files': ['deployment/ovn/ovn-dbs-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18b8568594eafd26cc213d2b2215ebcb4fe8752e', 'message': 'Fix commands for configure_ovn_north/south_db_server\n\nThis fixes the regression caused by [1] and ensures the whole command\nis passed as a single element, so that it is properly handled by\nkolla_start.\n\n[1] 5a43e8a30704692f3eb184cce694dec52ed77635\n\nChange-Id: Id16a374b5ecd1c8ea9141f99872096b18c14343f\n(cherry picked from commit c62903f7f725b166896e4e646cb74ad08f55df87)\n'}]",4,848383,18b8568594eafd26cc213d2b2215ebcb4fe8752e,22,7,1,9816,,,0,"Fix commands for configure_ovn_north/south_db_server

This fixes the regression caused by [1] and ensures the whole command
is passed as a single element, so that it is properly handled by
kolla_start.

[1] 5a43e8a30704692f3eb184cce694dec52ed77635

Change-Id: Id16a374b5ecd1c8ea9141f99872096b18c14343f
(cherry picked from commit c62903f7f725b166896e4e646cb74ad08f55df87)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/848383/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-container-puppet.yaml'],1,18b8568594eafd26cc213d2b2215ebcb4fe8752e,," - ['ovn_north_db_server', '/bin/bash', '-c'] - - list_join: - ' ' - - 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; NB_DB_PORT=`hiera ovn::northbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-nbctl set-connection' - if: - {get_param: EnableInternalTLS} - 'pssl:$NB_DB_PORT:$DBS_LISTEN_IP' - 'ptcp:$NB_DB_PORT:$DBS_LISTEN_IP' - ['ovn_south_db_server', '/bin/bash', '-c'] - - list_join: - ' ' - - 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; SB_DB_PORT=`hiera ovn::southbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-sbctl set-connection' - if: - {get_param: EnableInternalTLS} - 'pssl:$SB_DB_PORT:$DBS_LISTEN_IP' - 'ptcp:$SB_DB_PORT:$DBS_LISTEN_IP'"," - ['ovn_north_db_server', '/bin/bash', '-c', 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; NB_DB_PORT=`hiera ovn::northbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-nbctl set-connection'] - if: - {get_param: EnableInternalTLS} - ['pssl:$NB_DB_PORT:$DBS_LISTEN_IP'] - ['ptcp:$NB_DB_PORT:$DBS_LISTEN_IP'] - ['ovn_south_db_server', '/bin/bash', '-c', 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; SB_DB_PORT=`hiera ovn::southbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-sbctl set-connection'] - if: - {get_param: EnableInternalTLS} - ['pssl:$SB_DB_PORT:$DBS_LISTEN_IP'] - ['ptcp:$SB_DB_PORT:$DBS_LISTEN_IP']",16,10
openstack%2Ftripleo-common~stable%2Fwallaby~I65b32f4ce3fddeb694fb33ca65076d45d23a3bb6,openstack/tripleo-common,stable/wallaby,I65b32f4ce3fddeb694fb33ca65076d45d23a3bb6,Reduce memory consumption in Cinder services,MERGED,2022-06-29 09:35:43.000000000,2022-07-02 23:15:20.000000000,2022-07-02 23:14:08.000000000,"[{'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-29 09:35:43.000000000', 'files': ['releasenotes/notes/reduce-memory-consumption-d7effb68ab63b8c5.yaml', 'container-images/tcib/base/os/cinder-base/cinder-backup/cinder-backup.yaml', 'container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/250ee60374ed820a9ce0e3b3ad2683bd14df5cc0', 'message': ""Reduce memory consumption in Cinder services\n\nThis patch reduces memory usage for Cinder Volume and Backup services by\ntuning glibc.\n\nThe specific tuning consist on disabling the per thread arenas and\ndisabling dynamic thresholds.\n\nThe Cinder Backup service suffers from high water mark memory usage and\nuses excessive memory.  As an example just after 10 restore operations\nthe service uses almost 1GB of RAM and does not ever free it afterwards.\nWith this patch the memory consumption of the service is reduced down to\nalmost 130MB.  If we add a revert from Cinder (Change-Id\nI43a20c8687f12bc52b014611cc6977c4c3ca212c) it goes down to 100MB during\nmy tests.\n\nIt's even worse on real deployments, where we have seen a reduction in\npeak memory usage, going down from 2.9GB to 1.2GB, and fixing the high\nwater mark issue that previously left the service constantly using 2GB\ngoing down to 140MB.\n\nThis glibc tuning is not applied to all Python services because I\nhaven't done proper testings on them and at first glance they don't seem\nto have such great improvements.\n\nThis is the equivalent of the devstack proposed patch from Change-Id\nIc9030d01468b3189350f83b04a8d1d346c489d3c\n\nRelated-bug: #1908805\nChange-Id: I65b32f4ce3fddeb694fb33ca65076d45d23a3bb6\n(cherry picked from commit 6d8b07b7f9500850cb08a64e436eeb2f38c00b11)\n""}]",1,848089,250ee60374ed820a9ce0e3b3ad2683bd14df5cc0,13,3,1,9535,,,0,"Reduce memory consumption in Cinder services

This patch reduces memory usage for Cinder Volume and Backup services by
tuning glibc.

The specific tuning consist on disabling the per thread arenas and
disabling dynamic thresholds.

The Cinder Backup service suffers from high water mark memory usage and
uses excessive memory.  As an example just after 10 restore operations
the service uses almost 1GB of RAM and does not ever free it afterwards.
With this patch the memory consumption of the service is reduced down to
almost 130MB.  If we add a revert from Cinder (Change-Id
I43a20c8687f12bc52b014611cc6977c4c3ca212c) it goes down to 100MB during
my tests.

It's even worse on real deployments, where we have seen a reduction in
peak memory usage, going down from 2.9GB to 1.2GB, and fixing the high
water mark issue that previously left the service constantly using 2GB
going down to 140MB.

This glibc tuning is not applied to all Python services because I
haven't done proper testings on them and at first glance they don't seem
to have such great improvements.

This is the equivalent of the devstack proposed patch from Change-Id
Ic9030d01468b3189350f83b04a8d1d346c489d3c

Related-bug: #1908805
Change-Id: I65b32f4ce3fddeb694fb33ca65076d45d23a3bb6
(cherry picked from commit 6d8b07b7f9500850cb08a64e436eeb2f38c00b11)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/89/848089/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/reduce-memory-consumption-d7effb68ab63b8c5.yaml', 'container-images/tcib/base/os/cinder-base/cinder-backup/cinder-backup.yaml', 'container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml']",3,250ee60374ed820a9ce0e3b3ad2683bd14df5cc0,wallaby-memory-usage,tcib_envs: MALLOC_ARENA_MAX: 1 MALLOC_MMAP_THRESHOLD_: 131072 MALLOC_TRIM_THRESHOLD_: 262144,,13,0
openstack%2Ftripleo-heat-templates~master~I0293e019f3a2c4c8ffbf8258214d8522957d56f5,openstack/tripleo-heat-templates,master,I0293e019f3a2c4c8ffbf8258214d8522957d56f5,Stop generating certificate requests for disabled networks,MERGED,2022-07-01 10:39:02.000000000,2022-07-02 23:14:04.000000000,2022-07-02 23:14:04.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2022-07-01 10:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/01397ff8ac53da02ba8acb7cb26d5e7194e5bcd9', 'message': 'Stop generating certificate requests for disabled networks\n\nMake sure the list includes only networks that are configured on the\nrunning node. This change analogous to\n7013a04e04a5f941710bd311003cbdeb647e62d7 , but for haproxy.\n\nChange-Id: I0293e019f3a2c4c8ffbf8258214d8522957d56f5\nResolves: rhbz#2088526\n'}, {'number': 2, 'created': '2022-07-01 10:49:52.000000000', 'files': ['deployment/haproxy/haproxy-internal-tls-certmonger.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3c76bcf07197b93b9cfe7bb49d0d53933be7898', 'message': 'Stop generating certificate requests for disabled networks\n\nMake sure the list includes only networks that are configured on the\nrunning node. This change is analogous to\n7013a04e04a5f941710bd311003cbdeb647e62d7 , but for haproxy.\n\nChange-Id: I0293e019f3a2c4c8ffbf8258214d8522957d56f5\nResolves: rhbz#2088526\n'}]",2,848405,f3c76bcf07197b93b9cfe7bb49d0d53933be7898,14,6,2,14250,,,0,"Stop generating certificate requests for disabled networks

Make sure the list includes only networks that are configured on the
running node. This change is analogous to
7013a04e04a5f941710bd311003cbdeb647e62d7 , but for haproxy.

Change-Id: I0293e019f3a2c4c8ffbf8258214d8522957d56f5
Resolves: rhbz#2088526
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/848405/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-internal-tls-certmonger.j2.yaml'],1,01397ff8ac53da02ba8acb7cb26d5e7194e5bcd9,,"{%- for role in roles %} {{ role.name }}: yaql: expression: let(public_network => $.data.public_network) -> $.data.networks.where($ != $public_network or $ = 'ctlplane') data: public_network: {get_param: [ServiceNetMap, PublicNetwork]} networks: - ctlplane {%- for network in networks if network.name in role.networks and network.enabled|default(true) and network.vip|default(false) %} - {{network.name_lower}} {%- endfor %} NETWORK: {get_attr: [HAProxyNetworks, value, { get_param: RoleName }]} $NETWORK: {get_attr: [HAProxyNetworks, value, { get_param: RoleName }]} NETWORK: {get_attr: [HAProxyNetworks, value, { get_param: RoleName }]}"," yaql: expression: let(public_network => $.data.public_network) -> $.data.networks.where($ != $public_network or $ = 'ctlplane') data: public_network: {get_param: [ServiceNetMap, PublicNetwork]} networks: - ctlplane {%- for network in networks if network.enabled|default(true) and network.vip|default(false) %} - {{network.name_lower}} NETWORK: {get_attr: [HAProxyNetworks, value]} $NETWORK: {get_attr: [HAProxyNetworks, value]} NETWORK: {get_attr: [HAProxyNetworks, value]}",14,11
openstack%2Ftripleo-heat-templates~master~I357e00783112042c779cf1ce2e702e329880e4b8,openstack/tripleo-heat-templates,master,I357e00783112042c779cf1ce2e702e329880e4b8,Start ceilometer-compute after libvirt is started,MERGED,2022-06-08 17:11:55.000000000,2022-07-02 23:14:00.000000000,2022-07-02 23:14:00.000000000,"[{'_account_id': 4264}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-06-08 17:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b4b82f228ca1ceb874d97e592459c4954555566', 'message': 'Start ceilometer-compute after libvirt is started\n\n... because ceilometer-compute requires access to libvirt.\n\nIf the service fails to communicate with libvirt, then it disables all\nmetrics related to libvirt which results in missing metrics.\n\nChange-Id: I357e00783112042c779cf1ce2e702e329880e4b8\n'}, {'number': 2, 'created': '2022-06-08 23:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa2c776cf59c5dcd3d5541d24bea4db06bfdd09e', 'message': 'Start ceilometer-compute after libvirt is started\n\n... because ceilometer-compute requires access to libvirt.\n\nIf the service fails to communicate with libvirt, then it disables all\nmetrics related to libvirt which results in missing metrics.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/845046\nChange-Id: I357e00783112042c779cf1ce2e702e329880e4b8\n'}, {'number': 3, 'created': '2022-06-08 23:21:56.000000000', 'files': ['deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eac874338dba3ca7816f7eea0468881ee72c24d6', 'message': 'Start ceilometer-compute after libvirt is started\n\n... because ceilometer-compute requires access to libvirt.\n\nIf the service fails to communicate with libvirt, then it disables all\nmetrics related to libvirt which results in missing metrics.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/839295\nChange-Id: I357e00783112042c779cf1ce2e702e329880e4b8\n'}]",4,845160,eac874338dba3ca7816f7eea0468881ee72c24d6,22,6,3,9816,,,0,"Start ceilometer-compute after libvirt is started

... because ceilometer-compute requires access to libvirt.

If the service fails to communicate with libvirt, then it disables all
metrics related to libvirt which results in missing metrics.

Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/839295
Change-Id: I357e00783112042c779cf1ce2e702e329880e4b8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/845160/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml'],1,3b4b82f228ca1ceb874d97e592459c4954555566,, depends_on: - tripleo_nova_libvirt.target,,2,0
openstack%2Ftripleo-heat-templates~master~I98509e93d1d03a1b59aa304ed01b56507c627320,openstack/tripleo-heat-templates,master,I98509e93d1d03a1b59aa304ed01b56507c627320,Remove remaining reference to removed services,MERGED,2022-06-09 05:15:11.000000000,2022-07-02 23:13:57.000000000,2022-07-02 23:13:57.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-09 05:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d5cc74ac1b480234c3c439f4f6c57f8824cefbc', 'message': 'Remove remaining reference for removed services\n\n- Neutron LBaaS was removed and was replaced by Octavia[1]\n\n- nova-console-auth service was removed during Train cycle[2]\n\n- TripleO UI was removed and retired.\n\n- Minion was already removed by [3] and its services no longer exist\n\n[1] 14436f915bffe1c466e13baaae263d7ecbcb2e78\n[2] 20dbe32060f7db3b99cd8ca87d12e6571f1bde36\n[3] b3e5e03d6a55931cec37de93d65a3c01eff5f598\n\nChange-Id: I98509e93d1d03a1b59aa304ed01b56507c627320\n'}, {'number': 2, 'created': '2022-06-09 05:15:36.000000000', 'files': ['ci/environments/scenario000-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/abeb98a0752443997d3183fb5cde3b7b35d37a6c', 'message': 'Remove remaining reference to removed services\n\n- Neutron LBaaS was removed and was replaced by Octavia[1]\n\n- nova-console-auth service was removed during Train cycle[2]\n\n- TripleO UI was removed and retired.\n\n- Minion was already removed by [3] and its services no longer exist\n\n[1] 14436f915bffe1c466e13baaae263d7ecbcb2e78\n[2] 20dbe32060f7db3b99cd8ca87d12e6571f1bde36\n[3] b3e5e03d6a55931cec37de93d65a3c01eff5f598\n\nChange-Id: I98509e93d1d03a1b59aa304ed01b56507c627320\n'}]",2,845216,abeb98a0752443997d3183fb5cde3b7b35d37a6c,17,4,2,9816,,,0,"Remove remaining reference to removed services

- Neutron LBaaS was removed and was replaced by Octavia[1]

- nova-console-auth service was removed during Train cycle[2]

- TripleO UI was removed and retired.

- Minion was already removed by [3] and its services no longer exist

[1] 14436f915bffe1c466e13baaae263d7ecbcb2e78
[2] 20dbe32060f7db3b99cd8ca87d12e6571f1bde36
[3] b3e5e03d6a55931cec37de93d65a3c01eff5f598

Change-Id: I98509e93d1d03a1b59aa304ed01b56507c627320
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/845216/2 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario000-standalone.yaml'],1,1d5cc74ac1b480234c3c439f4f6c57f8824cefbc,,, OS::TripleO::Services::NeutronLbaasv2Agent: OS::Heat::None OS::TripleO::Services::NeutronLbaasv2Api: OS::Heat::None OS::TripleO::Services::NovaConsoleauth: OS::Heat::None OS::TripleO::Services::TripleoUI: OS::Heat::None # OS::TripleO::Services::UndercloudMinionMessaging: ../../deployment/undercloud/minion-rabbitmq-puppet.yaml,0,5
openstack%2Ftripleo-heat-templates~master~I0fa188e4492f852ac1097d69c913f116ae96bb52,openstack/tripleo-heat-templates,master,I0fa188e4492f852ac1097d69c913f116ae96bb52,Set amphora timezone based on TimeZone setting,MERGED,2022-05-17 10:02:45.000000000,2022-07-02 19:33:38.000000000,2022-07-02 19:32:33.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-05-17 10:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebaceadc64ca2e6491e627c5115f12daa738a75e', 'message': 'Set amphora timezone based on TimeZone setting\n\nUse the global TimeZone parameter in order to configure the timezone of\nthe amphora.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/839937\n\nChange-Id: I0fa188e4492f852ac1097d69c913f116ae96bb52\n'}, {'number': 2, 'created': '2022-05-17 10:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a3502bbed9fa0ff81ad4c50022251818b47f3601', 'message': 'Set amphora timezone based on TimeZone setting\n\nUse the global TimeZone parameter in order to configure the timezone of\nthe amphora.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/839937\n\nChange-Id: I0fa188e4492f852ac1097d69c913f116ae96bb52\n'}, {'number': 3, 'created': '2022-05-17 10:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd19cdaf56d86e1390d0d0db69a1dad5e6a0447e', 'message': 'Set amphora timezone based on TimeZone setting\n\nUse the global TimeZone parameter in order to configure the timezone of\nthe amphora.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/839937\n\nChange-Id: I0fa188e4492f852ac1097d69c913f116ae96bb52\n'}, {'number': 4, 'created': '2022-05-24 06:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e624040f407efbe26c815d0ced878ac9e3b8bd16', 'message': 'Set amphora timezone based on TimeZone setting\n\nUse the global TimeZone parameter in order to configure the timezone of\nthe amphora.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/839937\n\nChange-Id: I0fa188e4492f852ac1097d69c913f116ae96bb52\n'}, {'number': 5, 'created': '2022-05-24 08:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/744e8ee27e4a0e1e5f851671ac366a871d4eda44', 'message': 'Set amphora timezone based on TimeZone setting\n\nUse the global TimeZone parameter in order to configure the timezone of\nthe amphora.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/839937\n\nChange-Id: I0fa188e4492f852ac1097d69c913f116ae96bb52\n'}, {'number': 6, 'created': '2022-05-24 08:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/10cc05b88334b5cb5131c377c4e675f926c9a62a', 'message': 'Set amphora timezone based on TimeZone setting\n\nUse the global TimeZone parameter in order to configure the timezone of\nthe amphora.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/839937\n\nChange-Id: I0fa188e4492f852ac1097d69c913f116ae96bb52\n'}, {'number': 7, 'created': '2022-06-02 09:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47ff80abb25a1ad7eb718c7dee196d5ea294604f', 'message': 'Set amphora timezone based on TimeZone setting\n\nUse the global TimeZone parameter in order to configure the timezone of\nthe amphora.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/839937\n\nChange-Id: I0fa188e4492f852ac1097d69c913f116ae96bb52\n'}, {'number': 8, 'created': '2022-06-02 09:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e30228188210a8448cc789b5f27546e84b3b9e5', 'message': 'Set amphora timezone based on TimeZone setting\n\nUse the global TimeZone parameter in order to configure the timezone of\nthe amphora.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/839937\n\nChange-Id: I0fa188e4492f852ac1097d69c913f116ae96bb52\n'}, {'number': 9, 'created': '2022-06-02 10:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9c0f5bec79072141a1384ebca99c8ea2fe106a01', 'message': 'Set amphora timezone based on TimeZone setting\n\nUse the global TimeZone parameter in order to configure the timezone of\nthe amphora.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/839937\n\nChange-Id: I0fa188e4492f852ac1097d69c913f116ae96bb52\n'}, {'number': 10, 'created': '2022-06-02 13:40:04.000000000', 'files': ['deployment/octavia/octavia-base.yaml', 'releasenotes/notes/set-amphora-timezone-d62de55c993c5d70.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ddeac53c0a93754b8a2f054bc7feccff3d54665', 'message': 'Set amphora timezone based on TimeZone setting\n\nUse the global TimeZone parameter in order to configure the timezone of\nthe amphora.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/839937\nDepends-On: https://review.opendev.org/c/openstack/puppet-octavia/+/842079\nChange-Id: I0fa188e4492f852ac1097d69c913f116ae96bb52\n'}]",23,842073,5ddeac53c0a93754b8a2f054bc7feccff3d54665,93,5,10,34429,,,0,"Set amphora timezone based on TimeZone setting

Use the global TimeZone parameter in order to configure the timezone of
the amphora.

Depends-On: https://review.opendev.org/c/openstack/octavia/+/839937
Depends-On: https://review.opendev.org/c/openstack/puppet-octavia/+/842079
Change-Id: I0fa188e4492f852ac1097d69c913f116ae96bb52
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/842073/7 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-base.yaml'],1,ebaceadc64ca2e6491e627c5115f12daa738a75e,amp-timezone, octavia::controller::amp_timezone: {get_param: TimeZone},,1,0
openstack%2Ftripleo-heat-templates~master~I2e5374da7e501af491e15e71be1e9f38e5e8bb68,openstack/tripleo-heat-templates,master,I2e5374da7e501af491e15e71be1e9f38e5e8bb68,nova-migration-target: Restrict access to the core sshd,MERGED,2022-06-07 02:07:33.000000000,2022-07-02 19:32:38.000000000,2022-07-02 19:32:38.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-07 02:07:33.000000000', 'files': ['deployment/nova/nova-migration-target-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e89088784a4c086f3abcd5bc2e018fc1ba162a9d', 'message': 'nova-migration-target: Restrict access to the core sshd\n\nThis change adjusts the core options of the sshd instance for nova\nmigation target, based on the following points.\n\n- Restrict access to the nova_migration_target user globally\n\n- Disable X11 forwarding and tcp forwarding because these are not\n  required\n\n- Disable sftp subsystem because sftp is not used by nova.\n\nChange-Id: I2e5374da7e501af491e15e71be1e9f38e5e8bb68\n'}]",1,844897,e89088784a4c086f3abcd5bc2e018fc1ba162a9d,14,4,1,9816,,,0,"nova-migration-target: Restrict access to the core sshd

This change adjusts the core options of the sshd instance for nova
migation target, based on the following points.

- Restrict access to the nova_migration_target user globally

- Disable X11 forwarding and tcp forwarding because these are not
  required

- Disable sftp subsystem because sftp is not used by nova.

Change-Id: I2e5374da7e501af491e15e71be1e9f38e5e8bb68
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/844897/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-migration-target-container-puppet.yaml'],1,e89088784a4c086f3abcd5bc2e018fc1ba162a9d,nova-migration-target, AllowUsers: 'nova_migration' AllowTcpForwarding: 'no' X11Forwarding: 'no', # NOTE(tkajinam): Thse values inherits the default sshd options X11Forwarding: 'yes' Subsystem: 'sftp /usr/libexec/openssh/sftp-server',3,3
openstack%2Fcinder~master~I1ce8451260223aa9d2a5c4790214d096ab7a6fde,openstack/cinder,master,I1ce8451260223aa9d2a5c4790214d096ab7a6fde,PowerMax Driver - Empty port info response,MERGED,2021-09-02 20:36:45.000000000,2022-07-02 14:27:20.000000000,2022-07-01 11:19:11.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 31779}, {'_account_id': 32761}, {'_account_id': 34290}]","[{'number': 1, 'created': '2021-09-02 20:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5bf0fc8c9db238463620190aecff62db98703c1d', 'message': 'PowerMax Driver - Empty port info response\n\n1. Return correct parameters on a connection failure\n2. Throw exception in missing port info response\n\nChange-Id: I1ce8451260223aa9d2a5c4790214d096ab7a6fde\n'}, {'number': 2, 'created': '2021-10-14 11:09:12.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/provision.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_provision.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0df989f76887563e36c64579c0de291f0ec69f11', 'message': 'PowerMax Driver - Empty port info response\n\n1. Return correct parameters on a connection failure\n2. Throw exception in missing port info response\n\nChange-Id: I1ce8451260223aa9d2a5c4790214d096ab7a6fde\n'}]",5,807215,0df989f76887563e36c64579c0de291f0ec69f11,95,8,2,12670,,,0,"PowerMax Driver - Empty port info response

1. Return correct parameters on a connection failure
2. Throw exception in missing port info response

Change-Id: I1ce8451260223aa9d2a5c4790214d096ab7a6fde
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/807215/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/provision.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_provision.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",4,5bf0fc8c9db238463620190aecff62db98703c1d,port-info," if not port_info: msg = (_( ""Unable to get port IP interface from Virtual port %(vp)s "" ""using IP address %(ip)s. Please check iSCSI configuration "" ""of backend array %(arr)s."" % { 'vp': virtual_port, 'ip': ip_address, 'arr': array_id} )) LOG.error(msg) raise exception.VolumeBackendAPIException(message=msg) ",,30,11
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I46a0e58b2d6db08127de4b55a75f95ffa2b678ee,openstack/tripleo-heat-templates,stable/wallaby,I46a0e58b2d6db08127de4b55a75f95ffa2b678ee,Add test-requirements.txt in tox-tht deps,MERGED,2022-07-01 21:30:18.000000000,2022-07-02 12:38:27.000000000,2022-07-02 12:37:10.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-07-01 21:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e4e8c11c6d92d1f0ae8744c0c22ec9becfd7aad', 'message': 'Add python testtools to test-ansible-requirements\n\nThis python module is missing on tox-tht test requirements.\n\nCloses-Bug: #1980552\nChange-Id: I46a0e58b2d6db08127de4b55a75f95ffa2b678ee\n'}, {'number': 2, 'created': '2022-07-02 10:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09a8329778ee6e86623b203afaf4bcdaeee9ad34', 'message': 'Add python testtools to test-ansible-requirements\n\nThis python module is missing on tox-tht test requirements.\n\nCloses-Bug: #1980552\nChange-Id: I46a0e58b2d6db08127de4b55a75f95ffa2b678ee\n'}, {'number': 3, 'created': '2022-07-02 12:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/43a16801b38ef2cc2fb7d06dd9f780059dab0428', 'message': 'Add test-requirements.txt in tox-tht deps\n\nopenstack-tox-tht is currently failing with ""ModuleNotFoundError:\nNo module named \'testtools\' more details in Closes-Bug.\n\nWith this patch adding test-requirements.txt in tox-tht deps\nas python testtool is already available in test-requirements.\n\nCloses-Bug: #1980552\nChange-Id: I46a0e58b2d6db08127de4b55a75f95ffa2b678ee\n'}, {'number': 4, 'created': '2022-07-02 12:06:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47b5ce10376e11059bedd97bb3cf1293eb45757c', 'message': 'Add test-requirements.txt in tox-tht deps\n\nopenstack-tox-tht is currently failing with ""ModuleNotFoundError:\nNo module named \'testtools\' more details in Closes-Bug.\n\nWith this patch adding test-requirements.txt in tox-tht deps\nas python testtool is already available in test-requirements.\n\nCloses-Bug: #1980552\nChange-Id: I46a0e58b2d6db08127de4b55a75f95ffa2b678ee\n(cherry picked from commit d5a9d845e38cae435fd7b7717c34001c823c532c)\n'}]",1,848490,47b5ce10376e11059bedd97bb3cf1293eb45757c,14,4,4,18002,,,0,"Add test-requirements.txt in tox-tht deps

openstack-tox-tht is currently failing with ""ModuleNotFoundError:
No module named 'testtools' more details in Closes-Bug.

With this patch adding test-requirements.txt in tox-tht deps
as python testtool is already available in test-requirements.

Closes-Bug: #1980552
Change-Id: I46a0e58b2d6db08127de4b55a75f95ffa2b678ee
(cherry picked from commit d5a9d845e38cae435fd7b7717c34001c823c532c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/848490/4 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-requirements.txt'],1,4e4e8c11c6d92d1f0ae8744c0c22ec9becfd7aad,bug/1980552-stable/wallaby,testtools>=2.2.0 # MIT,,1,0
openstack%2Ftripleo-heat-templates~master~I46a0e58b2d6db08127de4b55a75f95ffa2b678ee,openstack/tripleo-heat-templates,master,I46a0e58b2d6db08127de4b55a75f95ffa2b678ee,Add test-requirements.txt in tox-tht deps,MERGED,2022-07-01 21:19:42.000000000,2022-07-02 12:30:25.000000000,2022-07-02 12:29:18.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 34208}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-07-01 21:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2141215596933624ac71c7cf7c053229dfc4e5a2', 'message': 'Add python testtools to test-ansible-requirements\n\nThis python module is missing on tox-tht test requirements.\n\nCloses-Bug: #1980552\nChange-Id: I46a0e58b2d6db08127de4b55a75f95ffa2b678ee\n'}, {'number': 2, 'created': '2022-07-02 10:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e690e8e59a602288738539dd344f915e410cc78', 'message': 'Add python testtools to test-ansible-requirements\n\nThis python module is missing on tox-tht test requirements.\n\nCloses-Bug: #1980552\nChange-Id: I46a0e58b2d6db08127de4b55a75f95ffa2b678ee\n'}, {'number': 3, 'created': '2022-07-02 12:03:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d5a9d845e38cae435fd7b7717c34001c823c532c', 'message': 'Add test-requirements.txt in tox-tht deps\n\nopenstack-tox-tht is currently failing with ""ModuleNotFoundError:\nNo module named \'testtools\' more details in Closes-Bug.\n\nWith this patch adding test-requirements.txt in tox-tht deps\nas python testtool is already available in test-requirements.\n\nCloses-Bug: #1980552\nChange-Id: I46a0e58b2d6db08127de4b55a75f95ffa2b678ee\n'}]",6,848474,d5a9d845e38cae435fd7b7717c34001c823c532c,20,8,3,30002,,,0,"Add test-requirements.txt in tox-tht deps

openstack-tox-tht is currently failing with ""ModuleNotFoundError:
No module named 'testtools' more details in Closes-Bug.

With this patch adding test-requirements.txt in tox-tht deps
as python testtool is already available in test-requirements.

Closes-Bug: #1980552
Change-Id: I46a0e58b2d6db08127de4b55a75f95ffa2b678ee
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/848474/2 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-requirements.txt'],1,2141215596933624ac71c7cf7c053229dfc4e5a2,bug/1980552,testtools>=2.2.0 # MIT,,1,0
openstack%2Fironic~master~I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23,openstack/ironic,master,I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23,Auto-populate lessee for deployments,MERGED,2021-11-19 20:55:40.000000000,2022-07-02 10:09:08.000000000,2022-07-02 02:56:54.000000000,"[{'_account_id': 4571}, {'_account_id': 7386}, {'_account_id': 10342}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-19 20:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/567132faa5f2506376eb308993f275b0ba6c3ea4', 'message': 'WIP: Auto-populate lessee for deployments\n\nChange-Id: I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23\n'}, {'number': 2, 'created': '2021-11-19 23:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e8b4123d3303c6f007d7ea896a1431d9d673c76a', 'message': 'WIP: Auto-populate lessee for deployments\n\nChange-Id: I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23\n'}, {'number': 3, 'created': '2021-11-20 02:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0cf57dfe3031dc52a5614dfb5dedf8a86a8026c2', 'message': 'WIP: Auto-populate lessee for deployments\n\nChange-Id: I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23\n'}, {'number': 4, 'created': '2021-11-20 03:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ec2646d5e430480b764d8fc89e384aae2ec4ff90', 'message': 'WIP: Auto-populate lessee for deployments\n\nChange-Id: I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23\n'}, {'number': 5, 'created': '2021-11-22 21:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1ff17ed5d4819f3c305e4df6aacc1d0dd4bdb6fb', 'message': 'WIP: Auto-populate lessee for deployments\n\nChange-Id: I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23\n'}, {'number': 6, 'created': '2021-11-22 22:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/99e2d2297e5688b9a5933d69e9d593a749e64f1f', 'message': 'WIP: Auto-populate lessee for deployments\n\nChange-Id: I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23\n'}, {'number': 7, 'created': '2022-01-15 00:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/44af7af9c0df8433ed1b297abe6e526182dd8b83', 'message': 'WIP: Auto-populate lessee for deployments\n\nChange-Id: I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23\n'}, {'number': 8, 'created': '2022-01-15 02:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/81431df210c3b4426da99a0710774e6a778fdd8a', 'message': 'WIP: Auto-populate lessee for deployments\n\nChange-Id: I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23\n'}, {'number': 9, 'created': '2022-01-15 03:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7a6f7c6ff9f1e50a0ba297fb7ce67e209c1aba22', 'message': 'WIP: Auto-populate lessee for deployments\n\nChange-Id: I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23\n'}, {'number': 10, 'created': '2022-01-16 05:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f15505fc9f9b14b3cbb6cae536217805f118a381', 'message': ""Auto-populate lessee for deployments\n\nAdds a configuration option and capability to automatically\nrecord the lessee for a deployment based upon the original\nauth_token information provided in the request context.\n\nAdditional token information is now shared through the context\nwhich is extended in the same fashion as most other projects\nsaving request token information to their RequestContext,\ninstead of triggering excess API calls in the background to\nKeystone to try and figure out requestor's information.\n\nChange-Id: I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23\n""}, {'number': 11, 'created': '2022-01-16 19:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5bfecae94c5fb15f3e58363dc0e482947c1d5aa9', 'message': ""Auto-populate lessee for deployments\n\nAdds a configuration option and capability to automatically\nrecord the lessee for a deployment based upon the original\nauth_token information provided in the request context.\n\nAdditional token information is now shared through the context\nwhich is extended in the same fashion as most other projects\nsaving request token information to their RequestContext,\ninstead of triggering excess API calls in the background to\nKeystone to try and figure out requestor's information.\n\nChange-Id: I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23\n""}, {'number': 12, 'created': '2022-02-08 20:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/efc0b3138eb4193ee707218cb965398184444bfc', 'message': ""Auto-populate lessee for deployments\n\nAdds a configuration option and capability to automatically\nrecord the lessee for a deployment based upon the original\nauth_token information provided in the request context.\n\nAdditional token information is now shared through the context\nwhich is extended in the same fashion as most other projects\nsaving request token information to their RequestContext,\ninstead of triggering excess API calls in the background to\nKeystone to try and figure out requestor's information.\n\nChange-Id: I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23\n""}, {'number': 13, 'created': '2022-04-27 16:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/987dde9cfb582868aafc633ee8be3f9004a5f143', 'message': ""Auto-populate lessee for deployments\n\nAdds a configuration option and capability to automatically\nrecord the lessee for a deployment based upon the original\nauth_token information provided in the request context.\n\nAdditional token information is now shared through the context\nwhich is extended in the same fashion as most other projects\nsaving request token information to their RequestContext,\ninstead of triggering excess API calls in the background to\nKeystone to try and figure out requestor's information.\n\nChange-Id: I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23\n""}, {'number': 14, 'created': '2022-04-27 16:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/50dfe40cbe1f774f9c67726d932aa5a0fc425f20', 'message': ""Auto-populate lessee for deployments\n\nAdds a configuration option and capability to automatically\nrecord the lessee for a deployment based upon the original\nauth_token information provided in the request context.\n\nAdditional token information is now shared through the context\nwhich is extended in the same fashion as most other projects\nsaving request token information to their RequestContext,\ninstead of triggering excess API calls in the background to\nKeystone to try and figure out requestor's information.\n\nChange-Id: I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23\n""}, {'number': 15, 'created': '2022-05-03 18:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e4f330c741df7d04b978581d7f30975f06f438d3', 'message': ""Auto-populate lessee for deployments\n\nAdds a configuration option and capability to automatically\nrecord the lessee for a deployment based upon the original\nauth_token information provided in the request context.\n\nAdditional token information is now shared through the context\nwhich is extended in the same fashion as most other projects\nsaving request token information to their RequestContext,\ninstead of triggering excess API calls in the background to\nKeystone to try and figure out requestor's information.\n\nChange-Id: I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23\n""}, {'number': 16, 'created': '2022-05-23 23:21:25.000000000', 'files': ['ironic/tests/unit/common/test_context.py', 'ironic/common/context.py', 'ironic/tests/unit/api/test_hooks.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/rpcapi.py', 'ironic/conf/conductor.py', 'ironic/conductor/manager.py', 'ironic/api/hooks.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/conductor/utils.py', 'ironic/tests/unit/conductor/test_deployments.py', 'releasenotes/notes/add-automatic-lessee-88f8ecab7c76b65f.yaml', 'ironic/conductor/deployments.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c3f397149ac217e305e52e9eb241f33d1ba21d78', 'message': ""Auto-populate lessee for deployments\n\nAdds a configuration option and capability to automatically\nrecord the lessee for a deployment based upon the original\nauth_token information provided in the request context.\n\nAdditional token information is now shared through the context\nwhich is extended in the same fashion as most other projects\nsaving request token information to their RequestContext,\ninstead of triggering excess API calls in the background to\nKeystone to try and figure out requestor's information.\n\nChange-Id: I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23\n""}]",35,818641,c3f397149ac217e305e52e9eb241f33d1ba21d78,117,5,16,11655,,,0,"Auto-populate lessee for deployments

Adds a configuration option and capability to automatically
record the lessee for a deployment based upon the original
auth_token information provided in the request context.

Additional token information is now shared through the context
which is extended in the same fashion as most other projects
saving request token information to their RequestContext,
instead of triggering excess API calls in the background to
Keystone to try and figure out requestor's information.

Change-Id: I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23
",git fetch https://review.opendev.org/openstack/ironic refs/changes/41/818641/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/conductor.py', 'ironic/conductor/manager.py', 'ironic/api/hooks.py', 'ironic/common/context.py', 'ironic/conductor/utils.py', 'ironic/conductor/deployments.py']",6,567132faa5f2506376eb308993f275b0ba6c3ea4,," driver_internal_info = node.driver_internal_info else: # This should only be on deploy... project = utils.get_token_project_from_request(task.context) if (project and CONF.conductor.automatic_lessee and node.lessee is None): LOG.debug('Adding lessee $(project)s to node %(uuid)s.', {'project': project, 'uuid': node.uuid}) driver_internal_info['automatic_lessee'] = True node.lessee = project", driver_internal_info = node.driver_internal_info,39,6
openstack%2Ftripleo-quickstart-extras~master~I0619f231f90f25d6f52fa4def35048e89278f267,openstack/tripleo-quickstart-extras,master,I0619f231f90f25d6f52fa4def35048e89278f267,Fix typo from `sdtout` to `stdout`,MERGED,2022-06-27 16:40:25.000000000,2022-07-02 10:08:33.000000000,2022-07-02 10:08:33.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-27 16:40:25.000000000', 'files': ['roles/virthost-full-cleanup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9bf550c808ef95c079eb125d94711c4020c10b10', 'message': 'Fix typo from `sdtout` to `stdout`\n\nChange-Id: I0619f231f90f25d6f52fa4def35048e89278f267\n'}]",3,847834,9bf550c808ef95c079eb125d94711c4020c10b10,24,5,1,20733,,,0,"Fix typo from `sdtout` to `stdout`

Change-Id: I0619f231f90f25d6f52fa4def35048e89278f267
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/34/847834/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/virthost-full-cleanup/tasks/main.yml'],1,9bf550c808ef95c079eb125d94711c4020c10b10,stdout-typo," with_items: ""{{ user_id.stdout }}"""," with_items: ""{{ user_id.sdtout }}""",1,1
openstack%2Fcyborg-tempest-plugin~master~I1caf04b9a3759d5e011d0d3ba0d949e3dbefd98d,openstack/cyborg-tempest-plugin,master,I1caf04b9a3759d5e011d0d3ba0d949e3dbefd98d,delete device profile by name,MERGED,2022-06-23 03:42:02.000000000,2022-07-02 09:33:40.000000000,2022-07-02 09:33:40.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-06-23 03:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/d537ae4b42b128219ff7ae3125c45162b9c49afc', 'message': 'delete device profile by name\n\ndelete device pfofile by name\n\nChange-Id: I1caf04b9a3759d5e011d0d3ba0d949e3dbefd98d\n'}, {'number': 2, 'created': '2022-06-23 05:42:17.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_device_profile.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/432cff749b7ab77784e46edb83833c955d58153f', 'message': 'delete device profile by name\n\ndelete device pfofile by name\n\nChange-Id: I1caf04b9a3759d5e011d0d3ba0d949e3dbefd98d\n'}]",2,846981,432cff749b7ab77784e46edb83833c955d58153f,10,3,2,34868,,,0,"delete device profile by name

delete device pfofile by name

Change-Id: I1caf04b9a3759d5e011d0d3ba0d949e3dbefd98d
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/81/846981/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg_tempest_plugin/tests/api/test_device_profile.py'],1,d537ae4b42b128219ff7ae3125c45162b9c49afc,," def test_delete_device_profile_by_name(self): dp = cyborg_data.NORMAL_DEVICE_PROFILE_DATA1 response = self.os_admin.cyborg_client.create_device_profile(dp) self.assertEqual(dp[0]['name'], response['name']) self.os_admin.cyborg_client.delete_device_profile(dp[0]['name']) list_resp = self.os_admin.cyborg_client.list_device_profile() device_profile_list = list_resp['device_profiles'] device_profile_name_list = [it['name'] for it in device_profile_list] self.assertNotIn(dp[0]['name'], device_profile_name_list) ",,11,0
openstack%2Fcyborg-tempest-plugin~master~Ibb57e158c14d95321691e872c02f602d71c3d6da,openstack/cyborg-tempest-plugin,master,Ibb57e158c14d95321691e872c02f602d71c3d6da,add list devices filter by vendor,MERGED,2022-06-22 06:28:46.000000000,2022-07-02 09:33:21.000000000,2022-07-02 09:33:21.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-06-22 06:28:46.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_device.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/45203e3a1183a882e1de91dc509e38fd3ff929aa', 'message': 'add list devices filter by vendor\n\nadd list devices filter by vendor testcase\n\nChange-Id: Ibb57e158c14d95321691e872c02f602d71c3d6da\n'}]",1,846974,45203e3a1183a882e1de91dc509e38fd3ff929aa,7,3,1,30409,,,0,"add list devices filter by vendor

add list devices filter by vendor testcase

Change-Id: Ibb57e158c14d95321691e872c02f602d71c3d6da
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/74/846974/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg_tempest_plugin/tests/api/test_device.py'],1,45203e3a1183a882e1de91dc509e38fd3ff929aa,master9," def test_list_devices_filter_by_vendor(self): response = self.os_admin.cyborg_client.list_devices() vendor = response['devices'][0]['vendor'] # list devices filter by vendor params = {""vendor"": vendor} response = self.os_admin.cyborg_client.list_devices(params=params) self.assertNotEmpty(response['devices']) for dv in response['devices']: self.assertEqual(vendor, dv['vendor']) ",,11,0
openstack%2Fcharms.openstack~master~I2dbc4432a4be2b23dd39e66680abbe33da5ae5af,openstack/charms.openstack,master,I2dbc4432a4be2b23dd39e66680abbe33da5ae5af,fix in config flags features,MERGED,2022-07-01 22:08:19.000000000,2022-07-02 05:14:21.000000000,2022-07-02 05:14:21.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 22:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/6ec46064e7f8c46d7dc87b757ce85ba23792f335', 'message': 'fix in config flags features\n\n* fix name clashing\n* fix regex\n* fix test case\n\nChange-Id: I2dbc4432a4be2b23dd39e66680abbe33da5ae5af\n'}, {'number': 2, 'created': '2022-07-01 23:22:52.000000000', 'files': ['charms_openstack/adapters.py', 'unit_tests/test_charms_openstack_adapters.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/d049eee8f47e3913123762b6cd4f493e8ff0d18d', 'message': 'fix in config flags features\n\n* fix name clashing\n* fix regex\n* fix test case\n\nChange-Id: I2dbc4432a4be2b23dd39e66680abbe33da5ae5af\n'}]",1,848476,d049eee8f47e3913123762b6cd4f493e8ff0d18d,8,2,2,34959,,,0,"fix in config flags features

* fix name clashing
* fix regex
* fix test case

Change-Id: I2dbc4432a4be2b23dd39e66680abbe33da5ae5af
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/76/848476/2 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/adapters.py', 'unit_tests/test_charms_openstack_adapters.py']",2,6ec46064e7f8c46d7dc87b757ce85ba23792f335,fix-config-flags, new=lambda x: cfg[x]): conf = adapters.user_config_flags(cls_mock) new=lambda x: cfg[x]): adapters.user_config_flags(cls_mock) new=lambda x: cfg[x]): adapters.user_config_flags(cls_mock) new=lambda x: {}): conf = adapters.user_config_flags(cls_mock) new=lambda x: None): conf = adapters.user_config_flags(cls_mock), new=cfg): conf = adapters.config_flags(cls_mock) new=cfg): adapters.config_flags(cls_mock) new=cfg): adapters.config_flags(cls_mock) cfg = { 'other-flags': 1 } new=cfg): conf = adapters.config_flags(cls_mock) cfg = None new=cfg): conf = adapters.config_flags(cls_mock),18,21
openstack%2Fpython-tripleoclient~master~I6e6a016e8b413f8db43584c4d9d80c97d26f7de5,openstack/python-tripleoclient,master,I6e6a016e8b413f8db43584c4d9d80c97d26f7de5,Stop deploying Ceph during the overcloud deployment,MERGED,2022-04-28 12:15:47.000000000,2022-07-02 04:50:03.000000000,2022-07-02 04:48:52.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-28 12:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/149bd7f36ac64e504f7a2c34b4b8e07307931726', 'message': 'Stop deploying Ceph during the overcloud deployment\n\nThis patch blocks the operators to deploy Ceph during the overcloud\ndeployment stage, suggesting the right command that should be run.\nHowever, if users are trying to configure an external ceph cluster\n(which means the client role should be run), the tripleoclient command\nworks as expected.\n\nChange-Id: I6e6a016e8b413f8db43584c4d9d80c97d26f7de5\n'}, {'number': 2, 'created': '2022-04-28 12:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/335b7e0e91a8d6a7b1d99832ec14d57f2a239147', 'message': 'Stop deploying Ceph during the overcloud deployment\n\nThis patch blocks the operators to deploy Ceph during the overcloud\ndeployment stage, suggesting the right command that should be run.\nHowever, if users are trying to configure an external ceph cluster\n(which means the client role should be run), the tripleoclient command\nworks as expected.\n\nDepends-On: Id6d0699123b9e9b75011ee94949ec4a69012f9af\nChange-Id: I6e6a016e8b413f8db43584c4d9d80c97d26f7de5\n'}, {'number': 3, 'created': '2022-04-28 14:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d57896f0d2c64e8c8d0edb28cdc5bfff758642f3', 'message': 'Stop deploying Ceph during the overcloud deployment\n\nThis patch blocks the operators to deploy Ceph during the overcloud\ndeployment stage, suggesting the right command that should be run.\nHowever, if users are trying to configure an external ceph cluster\n(which means the client role should be run), the tripleoclient command\nworks as expected.\n\nDepends-On: Id6d0699123b9e9b75011ee94949ec4a69012f9af\nChange-Id: I6e6a016e8b413f8db43584c4d9d80c97d26f7de5\n'}, {'number': 4, 'created': '2022-04-28 14:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f087a3fc2d9be8d70db9d5f9cfae1de3ddb6f31c', 'message': 'Stop deploying Ceph during the overcloud deployment\n\nThis patch blocks the operators to deploy Ceph during the overcloud\ndeployment stage, suggesting the right command that should be run.\nHowever, if users are trying to configure an external ceph cluster\n(which means the client role should be run), the tripleoclient command\nworks as expected.\n\nDepends-On: Id6d0699123b9e9b75011ee94949ec4a69012f9af\nChange-Id: I6e6a016e8b413f8db43584c4d9d80c97d26f7de5\n'}, {'number': 5, 'created': '2022-05-04 06:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e8f66d0b5dd6ccf76dab28b66d762a49c52ea258', 'message': 'Stop deploying Ceph during the overcloud deployment\n\nThis patch blocks the operators to deploy Ceph during the overcloud\ndeployment stage, suggesting the right command that should be run.\nHowever, if users are trying to configure an external ceph cluster\n(which means the client role should be run), the tripleoclient command\nworks as expected.\n\nDepends-On: Id6d0699123b9e9b75011ee94949ec4a69012f9af\nChange-Id: I6e6a016e8b413f8db43584c4d9d80c97d26f7de5\n'}, {'number': 6, 'created': '2022-05-04 12:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f192c448f36212ea07952f4b75b3a5b9c2063158', 'message': 'Stop deploying Ceph during the overcloud deployment\n\nThis patch blocks the operators to deploy Ceph during the overcloud\ndeployment stage, suggesting the right command that should be run.\nHowever, if users are trying to configure an external ceph cluster\n(which means the client role should be run), the tripleoclient command\nworks as expected.\n\nDepends-On: Ic52ee6091ebab6f937a4a15c83a28f0b3918d374\nDepends-On: Id6d0699123b9e9b75011ee94949ec4a69012f9af\nChange-Id: I6e6a016e8b413f8db43584c4d9d80c97d26f7de5\n'}, {'number': 7, 'created': '2022-05-04 15:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ab90ec8e2850d75d0bc0fefa3cdd77c2917682bd', 'message': 'Stop deploying Ceph during the overcloud deployment\n\nThis patch blocks the operators to deploy Ceph during the overcloud\ndeployment stage, suggesting the right command that should be run.\nHowever, if users are trying to configure an external ceph cluster\n(which means the client role should be run), the tripleoclient command\nworks as expected.\n\nDepends-On: Ic52ee6091ebab6f937a4a15c83a28f0b3918d374\nDepends-On: Id6d0699123b9e9b75011ee94949ec4a69012f9af\nChange-Id: I6e6a016e8b413f8db43584c4d9d80c97d26f7de5\n'}, {'number': 8, 'created': '2022-06-20 07:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c27fa19238862f6d0541a3c8e7bd0f3a24bc9e3e', 'message': 'Stop deploying Ceph during the overcloud deployment\n\nThis patch blocks the operators to deploy Ceph during the overcloud\ndeployment stage, suggesting the right command that should be run.\nHowever, if users are trying to configure an external ceph cluster\n(which means the client role should be run), the tripleoclient command\nworks as expected.\n\nDepends-On: Ic52ee6091ebab6f937a4a15c83a28f0b3918d374\nDepends-On: Id6d0699123b9e9b75011ee94949ec4a69012f9af\nChange-Id: I6e6a016e8b413f8db43584c4d9d80c97d26f7de5\n'}, {'number': 9, 'created': '2022-06-28 12:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/76eac294792b4caebe87374a145da924b2ab4e2a', 'message': 'Stop deploying Ceph during the overcloud deployment\n\nThis patch blocks the operators to deploy Ceph during the overcloud\ndeployment stage, suggesting the right command that should be run.\nHowever, if users are trying to configure an external ceph cluster\n(which means the client role should be run), the tripleoclient command\nworks as expected.\n\nDepends-On: Ic52ee6091ebab6f937a4a15c83a28f0b3918d374\nDepends-On: Id6d0699123b9e9b75011ee94949ec4a69012f9af\nChange-Id: I6e6a016e8b413f8db43584c4d9d80c97d26f7de5\n'}, {'number': 10, 'created': '2022-06-28 19:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c55639757557810658755654e23e289d6ff4275b', 'message': 'Stop deploying Ceph during the overcloud deployment\n\nThis patch blocks the operators to deploy Ceph during the overcloud\ndeployment stage, suggesting the right command that should be run.\nHowever, if users are trying to configure an external ceph cluster\n(which means the client role should be run), the tripleoclient command\nworks as expected.\n\nDepends-On: Id6d0699123b9e9b75011ee94949ec4a69012f9af\nChange-Id: I6e6a016e8b413f8db43584c4d9d80c97d26f7de5\n'}, {'number': 11, 'created': '2022-06-30 08:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a90879a020b5564c0c36627fb403a4d86058d4bf', 'message': 'Stop deploying Ceph during the overcloud deployment\n\nThis patch blocks the operators to deploy Ceph during the overcloud\ndeployment stage, suggesting the right command that should be run.\nHowever, if users are trying to configure an external ceph cluster\n(which means the client role should be run), the tripleoclient command\nworks as expected.\n\nDepends-On: Id6d0699123b9e9b75011ee94949ec4a69012f9af\nChange-Id: I6e6a016e8b413f8db43584c4d9d80c97d26f7de5\n'}, {'number': 12, 'created': '2022-06-30 08:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/416c58ab7ab016bb36cea16daa353f7e7dd2104d', 'message': 'Stop deploying Ceph during the overcloud deployment\n\nThis patch blocks the operators to deploy Ceph during the overcloud\ndeployment stage, suggesting the right command that should be run.\nHowever, if users are trying to configure an external ceph cluster\n(which means the client role should be run), the tripleoclient command\nworks as expected.\n\nDepends-On: Id6d0699123b9e9b75011ee94949ec4a69012f9af\nChange-Id: I6e6a016e8b413f8db43584c4d9d80c97d26f7de5\n'}, {'number': 13, 'created': '2022-06-30 18:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d561eb925b35acb232be74ec28737ed1b19cd535', 'message': 'Stop deploying Ceph during the overcloud deployment\n\nThis patch blocks the operators to deploy Ceph during the overcloud\ndeployment stage, suggesting the right command that should be run.\nHowever, if users are trying to configure an external ceph cluster\n(which means the client role should be run), the tripleoclient command\nworks as expected.\n\nDepends-On: Id6d0699123b9e9b75011ee94949ec4a69012f9af\nDepends-On: Ia6f6c472a8f7332ae3e998078f167f5f7d027857\nChange-Id: I6e6a016e8b413f8db43584c4d9d80c97d26f7de5\n'}, {'number': 14, 'created': '2022-07-01 16:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0860a096af28bd35c92f68eaae83cbf1cbee8e68', 'message': 'Stop deploying Ceph during the overcloud deployment\n\nThis patch blocks the operators to deploy Ceph during the overcloud\ndeployment stage, suggesting the right command that should be run.\nHowever, if users are trying to configure an external ceph cluster\n(which means the client role should be run), the tripleoclient command\nworks as expected.\n\nDepends-On: Id6d0699123b9e9b75011ee94949ec4a69012f9af\nChange-Id: I6e6a016e8b413f8db43584c4d9d80c97d26f7de5\n'}, {'number': 15, 'created': '2022-07-01 16:19:37.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/da75b98bb5d6d6768c632d2978a5ccf638d22c8a', 'message': 'Stop deploying Ceph during the overcloud deployment\n\nThis patch blocks the operators to deploy Ceph during the overcloud\ndeployment stage, suggesting the right command that should be run.\nHowever, if users are trying to configure an external ceph cluster\n(which means the client role should be run), the tripleoclient command\nworks as expected.\n\nChange-Id: I6e6a016e8b413f8db43584c4d9d80c97d26f7de5\n'}]",14,839727,da75b98bb5d6d6768c632d2978a5ccf638d22c8a,55,5,15,25402,,,0,"Stop deploying Ceph during the overcloud deployment

This patch blocks the operators to deploy Ceph during the overcloud
deployment stage, suggesting the right command that should be run.
However, if users are trying to configure an external ceph cluster
(which means the client role should be run), the tripleoclient command
works as expected.

Change-Id: I6e6a016e8b413f8db43584c4d9d80c97d26f7de5
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/27/839727/10 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",4,149bd7f36ac64e504f7a2c34b4b8e07307931726,cephadm_not_during, # check if we're trying to deploy ceph during the overcloud deployment utils.check_deployed_ceph_stage(env) ,,91,0
openstack%2Ftripleo-common~stable%2Fwallaby~Ibdeb5741b32f8060c14ca79d2300886dee68555f,openstack/tripleo-common,stable/wallaby,Ibdeb5741b32f8060c14ca79d2300886dee68555f,build_catalog should loop deeper than one level,MERGED,2022-04-14 13:12:57.000000000,2022-07-02 04:49:22.000000000,2022-07-02 04:48:21.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-14 13:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fcc8a0c69f80317f606a3ecf96d0eb9de90ba64b', 'message': ""build_catalog should loop deeper than one level\n\nThere's some scenarios where our catalog is nested under more than one\nlayer of folder. build_catalog should take this into account.\n\nCloses-bug: 1966222\nChange-Id: Ibdeb5741b32f8060c14ca79d2300886dee68555f\n(cherry picked from commit 5c909793655e182619e1b1ac0c75ace47bc2fe71)\n""}, {'number': 2, 'created': '2022-06-20 13:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5c18fde3a601ae1ad24b7675a2f800b709adac68', 'message': ""build_catalog should loop deeper than one level\n\nThere's some scenarios where our catalog is nested under more than one\nlayer of folder. build_catalog should take this into account.\n\nCloses-bug: 1966222\nChange-Id: Ibdeb5741b32f8060c14ca79d2300886dee68555f\n(cherry picked from commit 5c909793655e182619e1b1ac0c75ace47bc2fe71)\n""}, {'number': 3, 'created': '2022-07-01 12:54:38.000000000', 'files': ['tripleo_common/image/image_export.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8b5be06cceea13dac02fac2001e31cfdbf01b02c', 'message': ""build_catalog should loop deeper than one level\n\nThere's some scenarios where our catalog is nested under more than one\nlayer of folder. build_catalog should take this into account.\n\nCloses-bug: 1966222\nChange-Id: Ibdeb5741b32f8060c14ca79d2300886dee68555f\n(cherry picked from commit 5c909793655e182619e1b1ac0c75ace47bc2fe71)\n""}]",3,837803,8b5be06cceea13dac02fac2001e31cfdbf01b02c,28,4,3,27419,,,0,"build_catalog should loop deeper than one level

There's some scenarios where our catalog is nested under more than one
layer of folder. build_catalog should take this into account.

Closes-bug: 1966222
Change-Id: Ibdeb5741b32f8060c14ca79d2300886dee68555f
(cherry picked from commit 5c909793655e182619e1b1ac0c75ace47bc2fe71)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/837803/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_export.py'],1,fcc8a0c69f80317f606a3ecf96d0eb9de90ba64b,," LOG.debug(f'Rebuilding {catalog_path} Based on images_path {images_path}') metadata_set = set(['blobs', 'manifests', 'tags']) for folder, contents_set, files in os.walk(images_path): if metadata_set.issubset(contents_set): image = folder.replace(f'{images_path}/', '') LOG.debug(f'Adding image {image} to catalog') catalog_entries.append(image)"," LOG.debug('Rebuilding %s' % catalog_path) for namespace in os.listdir(images_path): namespace_path = os.path.join(images_path, namespace) if not os.path.isdir(namespace_path): continue contents_set = set(os.listdir(namespace_path)) # handle containers with no namespaces if metadata_set.issubset(contents_set): catalog_entries.append(namespace) for image in list(contents_set - metadata_set): catalog_entries.append('%s/%s' % (namespace, image))",6,11
openstack%2Fdesignate~stable%2Fussuri~I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0,openstack/designate,stable/ussuri,I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0,Fix zone update when adding new Bind9 target to pool.,MERGED,2022-06-24 04:51:35.000000000,2022-07-02 04:39:32.000000000,2022-07-02 04:38:08.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-24 04:51:35.000000000', 'files': ['releasenotes/notes/Fix-update-zone-create-zone-ada1fd81de479492.yaml', 'designate/tests/unit/backend/test_bind9.py', 'designate/backend/impl_bind9.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/5e569a3c7646042131926b090f570ca5082503e3', 'message': ""Fix zone update when adding new Bind9 target to pool.\n\nWhen a new Bind9 is added to the pool, Designate will trigger 'modzone'\nrndc command that will fail, unless zone is already present on the backend.\n\nThis change will first verify that the zone is present on the backend,\nbefore an update attempt. If zone is not present - zone creation will be\ntriggered.\n\nCloses-Bug: 1958409\n\nCo-authored-by: Kiran Pawar <kinpaa@gmail.com>\nChange-Id: I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0\n(cherry picked from commit 66cc876eadd9a4ded3afa35aed675c15c60f149d)\n""}]",3,847432,5e569a3c7646042131926b090f570ca5082503e3,11,4,1,32553,,,0,"Fix zone update when adding new Bind9 target to pool.

When a new Bind9 is added to the pool, Designate will trigger 'modzone'
rndc command that will fail, unless zone is already present on the backend.

This change will first verify that the zone is present on the backend,
before an update attempt. If zone is not present - zone creation will be
triggered.

Closes-Bug: 1958409

Co-authored-by: Kiran Pawar <kinpaa@gmail.com>
Change-Id: I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0
(cherry picked from commit 66cc876eadd9a4ded3afa35aed675c15c60f149d)
",git fetch https://review.opendev.org/openstack/designate refs/changes/32/847432/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Fix-update-zone-create-zone-ada1fd81de479492.yaml', 'designate/tests/unit/backend/test_bind9.py', 'designate/backend/impl_bind9.py']",3,5e569a3c7646042131926b090f570ca5082503e3,bug/1958409-stable/ussuri," def get_zone(self, context, zone): """"""Returns True if zone exists and False if not"""""" LOG.debug('Get Zone') view = 'in %s' % self._view if self._view else '' rndc_op = [ 'showzone', '%s %s' % (zone['name'].rstrip('.'), view), ] try: self._execute_rndc(rndc_op) except exceptions.Backend as e: if ""not found"" in str(e): LOG.debug('Zone %s not found on the backend', zone['name']) return False else: LOG.warning('RNDC call failure: %s', e) raise e return True This will execute a rndc modzone if the zone Or, will create the zone if it does not exist. if not self.get_zone(context, zone): # If zone does not exist yet, create it self.create_zone(context, zone) # Newly created zone won't require an update return ", This will execute a rndc modzone as the zone,43,1
openstack%2Fdesignate~stable%2Fvictoria~I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0,openstack/designate,stable/victoria,I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0,Fix zone update when adding new Bind9 target to pool.,MERGED,2022-06-24 04:39:05.000000000,2022-07-02 03:24:46.000000000,2022-07-02 03:23:17.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-24 04:39:05.000000000', 'files': ['releasenotes/notes/Fix-update-zone-create-zone-ada1fd81de479492.yaml', 'designate/tests/unit/backend/test_bind9.py', 'designate/backend/impl_bind9.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/a74c2389bf587fc6a36c72d87fba6c958cef2141', 'message': ""Fix zone update when adding new Bind9 target to pool.\n\nWhen a new Bind9 is added to the pool, Designate will trigger 'modzone'\nrndc command that will fail, unless zone is already present on the backend.\n\nThis change will first verify that the zone is present on the backend,\nbefore an update attempt. If zone is not present - zone creation will be\ntriggered.\n\nCloses-Bug: 1958409\n\nCo-authored-by: Kiran Pawar <kinpaa@gmail.com>\nChange-Id: I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0\n(cherry picked from commit 66cc876eadd9a4ded3afa35aed675c15c60f149d)\n""}]",2,847431,a74c2389bf587fc6a36c72d87fba6c958cef2141,9,4,1,32553,,,0,"Fix zone update when adding new Bind9 target to pool.

When a new Bind9 is added to the pool, Designate will trigger 'modzone'
rndc command that will fail, unless zone is already present on the backend.

This change will first verify that the zone is present on the backend,
before an update attempt. If zone is not present - zone creation will be
triggered.

Closes-Bug: 1958409

Co-authored-by: Kiran Pawar <kinpaa@gmail.com>
Change-Id: I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0
(cherry picked from commit 66cc876eadd9a4ded3afa35aed675c15c60f149d)
",git fetch https://review.opendev.org/openstack/designate refs/changes/31/847431/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Fix-update-zone-create-zone-ada1fd81de479492.yaml', 'designate/tests/unit/backend/test_bind9.py', 'designate/backend/impl_bind9.py']",3,a74c2389bf587fc6a36c72d87fba6c958cef2141,bug/1958409-stable/victoria," def get_zone(self, context, zone): """"""Returns True if zone exists and False if not"""""" LOG.debug('Get Zone') view = 'in %s' % self._view if self._view else '' rndc_op = [ 'showzone', '%s %s' % (zone['name'].rstrip('.'), view), ] try: self._execute_rndc(rndc_op) except exceptions.Backend as e: if ""not found"" in str(e): LOG.debug('Zone %s not found on the backend', zone['name']) return False else: LOG.warning('RNDC call failure: %s', e) raise e return True This will execute a rndc modzone if the zone Or, will create the zone if it does not exist. if not self.get_zone(context, zone): # If zone does not exist yet, create it self.create_zone(context, zone) # Newly created zone won't require an update return ", This will execute a rndc modzone as the zone,43,1
openstack%2Fironic-python-agent~master~I75a618f94de58f6de2bd96b37de1894bb0e61998,openstack/ironic-python-agent,master,I75a618f94de58f6de2bd96b37de1894bb0e61998,Drop python2 from bindep.txt,MERGED,2022-06-10 17:31:40.000000000,2022-07-02 03:10:44.000000000,2022-07-02 03:09:24.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-06-10 17:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ef7ad2452792d2b864bfc4011f8a9aa026fbca11', 'message': 'Drop python2 from bindep.txt\n\nIPA dropped support for Python2 long ago,\nand now Python2 is not even available in newer distros,\nbreaking installation if IPA binary dependencies.\n\nChange-Id: I75a618f94de58f6de2bd96b37de1894bb0e61998\n'}, {'number': 2, 'created': '2022-06-30 23:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4f39361ec8c265471f9c6d213ea5e21620594f54', 'message': 'Drop python2 from bindep.txt\n\nIPA dropped support for Python2 long ago,\nand now Python2 is not even available in newer distros,\nbreaking installation if IPA binary dependencies.\n\nDepends-On: I88a4863cd24258eb0b395303738c23e3468615c0\nChange-Id: I75a618f94de58f6de2bd96b37de1894bb0e61998\n'}, {'number': 3, 'created': '2022-06-30 23:33:05.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d8a6bf5f61eb1365294c6c07840286f46c9535fc', 'message': 'Drop python2 from bindep.txt\n\nIPA dropped support for Python2 long ago,\nand now Python2 is not even available in newer distros,\nbreaking installation if IPA binary dependencies.\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/848345\nChange-Id: I75a618f94de58f6de2bd96b37de1894bb0e61998\n'}]",7,845371,d8a6bf5f61eb1365294c6c07840286f46c9535fc,27,5,3,9542,,,0,"Drop python2 from bindep.txt

IPA dropped support for Python2 long ago,
and now Python2 is not even available in newer distros,
breaking installation if IPA binary dependencies.

Depends-On: https://review.opendev.org/c/openstack/ironic/+/848345
Change-Id: I75a618f94de58f6de2bd96b37de1894bb0e61998
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/71/845371/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,ef7ad2452792d2b864bfc4011f8a9aa026fbca11,bindep-no-py2,python3-pip [imagebuild],python-dev [platform:dpkg test]python-devel [platform:rpm test]python-pip [imagebuild],1,3
openstack%2Fironic-python-agent~master~Ied9a2259a4329a86b4f0853bd1fb187563c0a036,openstack/ironic-python-agent,master,Ied9a2259a4329a86b4f0853bd1fb187563c0a036,Remove oslo.serialization dependency,MERGED,2022-06-17 07:35:57.000000000,2022-07-02 02:59:02.000000000,2022-07-02 02:56:44.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 07:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/52e64eb7b6ab051e1206db6796c31cd7006c1edf', 'message': 'Remove oslo.serialization dependency\n\nUse pure json instead of jsonutils.\n\nBorrow encode function from oslo.serialization to be used in the\nutils module.\n\nChange-Id: Ied9a2259a4329a86b4f0853bd1fb187563c0a036\n'}, {'number': 2, 'created': '2022-06-17 07:37:42.000000000', 'files': ['requirements.txt', 'ironic_python_agent/inspector.py', 'ironic_python_agent/tests/unit/test_ironic_api_client.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/tests/unit/test_agent.py', 'ironic_python_agent/utils.py', 'ironic_python_agent/ironic_api_client.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/64ffd2ee8052e69d56c4bba7fa8c4e6eae145af1', 'message': 'Remove oslo.serialization dependency\n\nUse pure json instead of jsonutils.\n\nBorrow encode function from oslo.serialization to be used in the\nutils module.\n\nChange-Id: Ied9a2259a4329a86b4f0853bd1fb187563c0a036\n'}]",7,846278,64ffd2ee8052e69d56c4bba7fa8c4e6eae145af1,22,3,2,23851,,,0,"Remove oslo.serialization dependency

Use pure json instead of jsonutils.

Borrow encode function from oslo.serialization to be used in the
utils module.

Change-Id: Ied9a2259a4329a86b4f0853bd1fb187563c0a036
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/78/846278/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ironic_python_agent/inspector.py', 'ironic_python_agent/tests/unit/test_ironic_api_client.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/tests/unit/test_agent.py', 'ironic_python_agent/utils.py', 'ironic_python_agent/ironic_api_client.py']",7,52e64eb7b6ab051e1206db6796c31cd7006c1edf,lsblk-json,import json data = json.loads(response.content) body = json.loads(body) except json.decoder.JSONDecodeError: content = json.loads(response.content) except json.decoder.JSONDecodeError as e:,from oslo_serialization import jsonutils data = jsonutils.loads(response.content) body = jsonutils.loads(body) except ValueError: content = jsonutils.loads(response.content) except Exception as e:,34,28
openstack%2Fcinder~master~Id4ffff47ec309a6c8837930e1e438ad7cc607a8e,openstack/cinder,master,Id4ffff47ec309a6c8837930e1e438ad7cc607a8e,PowerMax Driver - allow for None values in metadata,MERGED,2021-08-06 16:32:31.000000000,2022-07-02 01:38:15.000000000,2022-06-30 21:11:21.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 31779}, {'_account_id': 33648}, {'_account_id': 34290}]","[{'number': 1, 'created': '2021-08-06 16:32:31.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/52dfbcb3e28e39076f3f1497408af1f2e9b63544', 'message': 'PowerMax Driver - allow for None values in metadata\n\nAllow for non-existent dict values in the metadata for\nmanage existing volume operation.\n\nChange-Id: Id4ffff47ec309a6c8837930e1e438ad7cc607a8e\n'}]",12,803785,52dfbcb3e28e39076f3f1497408af1f2e9b63544,75,8,1,12670,,,0,"PowerMax Driver - allow for None values in metadata

Allow for non-existent dict values in the metadata for
manage existing volume operation.

Change-Id: Id4ffff47ec309a6c8837930e1e438ad7cc607a8e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/803785/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py']",3,52dfbcb3e28e39076f3f1497408af1f2e9b63544,manage-existing," extra_specs_no_workload = { 'pool_name': u'Diamond+NONE+SRP_1+000197800123', 'slo': slo, 'srp': srp, 'workload': 'NONE', 'array': array, 'interval': 3, 'retries': 120}",,47,8
openstack%2Fcinder-tempest-plugin~master~I7426e6ee3dbb140839adfa33dc4516d2e8ce7225,openstack/cinder-tempest-plugin,master,I7426e6ee3dbb140839adfa33dc4516d2e8ce7225,DNM WIP Try to import cinder tests from barbican-tempest-plugin,NEW,2020-07-28 09:38:34.000000000,2022-07-02 01:35:42.000000000,,"[{'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 09:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/587871e76d242ae4db2178cca4c97b36b4f0af20', 'message': 'DNM WIP Try to import cinder tests from barbican-tempest-plugin\n\nTry to see if the barbican tests for cinder from\nbarbican-tempest-plugin work when imported here.\n\nHeavily work in progress.\n\nIf it works, the implication of depending on another potentially\nunstable manager are to be evaluated.\nAlso:\n- a proper import would need adding some historical context,\n  like the list of changed-ids which changed the file;\n- the tests would need to be skipped if barbican is not found.\n\nChange-Id: I7426e6ee3dbb140839adfa33dc4516d2e8ce7225\n'}, {'number': 2, 'created': '2021-03-01 14:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/919f5f70f3a0d7ba8a3e52055759f846292e608b', 'message': 'DNM WIP Try to import cinder tests from barbican-tempest-plugin\n\nTry to see if the barbican tests for cinder from\nbarbican-tempest-plugin work when imported here.\n\nHeavily work in progress.\n\nIf it works, the implication of depending on another potentially\nunstable manager are to be evaluated.\nAlso:\n- a proper import would need adding some historical context,\n  like the list of changed-ids which changed the file;\n- the tests would need to be skipped if barbican is not found.\n\nChange-Id: I7426e6ee3dbb140839adfa33dc4516d2e8ce7225\n'}, {'number': 3, 'created': '2022-04-27 14:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/650368f92232bf6cd641946107f01aaaa4dabede', 'message': 'DNM WIP Try to import cinder tests from barbican-tempest-plugin\n\nTry to see if the barbican tests for cinder from\nbarbican-tempest-plugin work when imported here.\n\nHeavily work in progress.\n\nIf it works, the implication of depending on another potentially\nunstable manager are to be evaluated.\nAlso:\n- a proper import would need adding some historical context,\n  like the list of changed-ids which changed the file;\n- the tests would need to be skipped if barbican is not found.\n\nChange-Id: I7426e6ee3dbb140839adfa33dc4516d2e8ce7225\n'}, {'number': 4, 'created': '2022-05-05 22:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/54ebba8e42ab82ccb2076266f083ba3923df1e2c', 'message': 'DNM WIP Try to import cinder tests from barbican-tempest-plugin\n\nTry to see if the barbican tests for cinder from\nbarbican-tempest-plugin work when imported here.\n\nHeavily work in progress.\n\nIf it works, the implication of depending on another potentially\nunstable manager are to be evaluated.\nAlso:\n- a proper import would need adding some historical context,\n  like the list of changed-ids which changed the file;\n- the tests would need to be skipped if barbican is not found.\n\nChange-Id: I7426e6ee3dbb140839adfa33dc4516d2e8ce7225\n'}, {'number': 5, 'created': '2022-05-06 08:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/7ed2cc5651fbb75fac6a7a3703baa1843f4e08c2', 'message': 'DNM WIP Try to import cinder tests from barbican-tempest-plugin\n\nTry to see if the barbican tests for cinder from\nbarbican-tempest-plugin work when imported here.\n\nHeavily work in progress.\n\nIf it works, the implication of depending on another potentially\nunstable manager are to be evaluated.\nAlso:\n- a proper import would need adding some historical context,\n  like the list of changed-ids which changed the file;\n- the tests would need to be skipped if barbican is not found.\n\nChange-Id: I7426e6ee3dbb140839adfa33dc4516d2e8ce7225\n'}, {'number': 6, 'created': '2022-05-06 14:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/63a2197d094238505fac8df3ff8ee0adce42bd23', 'message': 'DNM WIP Try to import cinder tests from barbican-tempest-plugin\n\nTry to see if the barbican tests for cinder from\nbarbican-tempest-plugin work when imported here.\n\nHeavily work in progress.\n\nIf it works, the implication of depending on another potentially\nunstable manager are to be evaluated.\nAlso:\n- a proper import would need adding some historical context,\n  like the list of changed-ids which changed the file;\n- the tests would need to be skipped if barbican is not found.\n\nChange-Id: I7426e6ee3dbb140839adfa33dc4516d2e8ce7225\n'}, {'number': 7, 'created': '2022-06-23 21:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/f64095d81d2f9afdea4be1e81dca34f61584a92d', 'message': 'DNM WIP Try to import cinder tests from barbican-tempest-plugin\n\nTry to see if the barbican tests for cinder from\nbarbican-tempest-plugin work when imported here.\n\nHeavily work in progress.\n\nIf it works, the implication of depending on another potentially\nunstable manager are to be evaluated.\nAlso:\n- a proper import would need adding some historical context,\n  like the list of changed-ids which changed the file;\n- the tests would need to be skipped if barbican is not found.\n\nChange-Id: I7426e6ee3dbb140839adfa33dc4516d2e8ce7225\n'}, {'number': 8, 'created': '2022-06-24 09:40:49.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'cinder_tempest_plugin/scenario/test_volume_encryption.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/336a95129b04dc3dcd2bfaee18b40ce64447447e', 'message': 'DNM WIP Try to import cinder tests from barbican-tempest-plugin\n\nTry to see if the barbican tests for cinder from\nbarbican-tempest-plugin work when imported here.\n\nHeavily work in progress.\n\nIf it works, the implication of depending on another potentially\nunstable manager are to be evaluated.\nAlso:\n- a proper import would need adding some historical context,\n  like the list of changed-ids which changed the file;\n- the tests would need to be skipped if barbican is not found.\n\nDepends-On: https://review.opendev.org/c/openstack/barbican-tempest-plugin/+/847560\nChange-Id: I7426e6ee3dbb140839adfa33dc4516d2e8ce7225\n'}]",8,743492,336a95129b04dc3dcd2bfaee18b40ce64447447e,29,2,8,10459,,,0,"DNM WIP Try to import cinder tests from barbican-tempest-plugin

Try to see if the barbican tests for cinder from
barbican-tempest-plugin work when imported here.

Heavily work in progress.

If it works, the implication of depending on another potentially
unstable manager are to be evaluated.
Also:
- a proper import would need adding some historical context,
  like the list of changed-ids which changed the file;
- the tests would need to be skipped if barbican is not found.

Depends-On: https://review.opendev.org/c/openstack/barbican-tempest-plugin/+/847560
Change-Id: I7426e6ee3dbb140839adfa33dc4516d2e8ce7225
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/92/743492/8 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'cinder_tempest_plugin/scenario/test_volume_encryption.py']",2,587871e76d242ae4db2178cca4c97b36b4f0af20,barbican-import-test,"# Copyright (c) 2017 Johns Hopkins University Applied Physics Laboratory # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from tempest.common import utils from tempest import config from tempest.lib import decorators from barbican_tempest_plugin.tests.scenario import barbican_manager CONF = config.CONF LOG = logging.getLogger(__name__) class VolumeEncryptionTest(barbican_manager.BarbicanScenarioTest): """"""The test suite for encrypted cinder volumes This test is for verifying the functionality of encrypted cinder volumes. For both LUKS and cryptsetup encryption types, this test performs the following: * Creates an image in Glance * Boots an instance from the image * Creates an encryption type (as admin) * Creates a volume of that encryption type (as a regular user) * Attaches and detaches the encrypted volume to the instance NOTE (dane-fichter): These tests use a key stored in Barbican, unlike the original volume encryption scenario in Tempest. """""" @classmethod def skip_checks(cls): super(VolumeEncryptionTest, cls).skip_checks() if not CONF.compute_feature_enabled.attach_encrypted_volume: raise cls.skipException('Encrypted volume attach is not supported') def create_encrypted_volume(self, encryption_provider, volume_type): volume_type = self.create_volume_type(name=volume_type) self.create_encryption_type(type_id=volume_type['id'], provider=encryption_provider, key_size=256, cipher='aes-xts-plain64', control_location='front-end') return self.create_volume(volume_type=volume_type['name']) def attach_detach_volume(self, server, volume, keypair): # Attach volume self.nova_volume_attach(server, volume) # Write a timestamp to volume server_ip = self.get_server_ip(server) timestamp = self.create_timestamp( server_ip, dev_name=CONF.compute.volume_device_name, private_key=keypair['private_key'] ) timestamp2 = self.get_timestamp( server_ip, dev_name=CONF.compute.volume_device_name, private_key=keypair['private_key'] ) self.assertEqual(timestamp, timestamp2) @decorators.idempotent_id('89165fb4-5534-4b9d-8429-97ccffb8f86f') @utils.services('compute', 'volume', 'image') def test_encrypted_cinder_volumes_luks(self): img_uuid = self.sign_and_upload_image() LOG.info(""Creating keypair and security group"") keypair = self.create_keypair() security_group = self._create_security_group() server = self.create_server( name='signed_img_server', image_id=img_uuid, key_name=keypair['name'], security_groups=[{'name': security_group['name']}], wait_until='ACTIVE' ) # check that instance is accessible before messing with its disks self.check_tenant_network_connectivity( server, CONF.validation.image_ssh_user, keypair['private_key']) volume = self.create_encrypted_volume('luks', volume_type='luks') self.attach_detach_volume(server, volume, keypair) @decorators.idempotent_id('cbc752ed-b716-4727-910f-956ccf965723') @utils.services('compute', 'volume', 'image') def test_encrypted_cinder_volumes_cryptsetup(self): img_uuid = self.sign_and_upload_image() LOG.info(""Creating keypair and security group"") keypair = self.create_keypair() security_group = self._create_security_group() server = self.create_server( name='signed_img_server', image_id=img_uuid, key_name=keypair['name'], security_groups=[{'name': security_group['name']}], wait_until='ACTIVE' ) # check that instance is accessible before messing with its disks self.check_tenant_network_connectivity( server, CONF.validation.image_ssh_user, keypair['private_key']) volume = self.create_encrypted_volume('nova.volume.encryptors.' 'cryptsetup.CryptsetupEncryptor', volume_type='cryptsetup') self.attach_detach_volume(server, volume, keypair) ",,122,0
openstack%2Fironic-python-agent~master~Ifcf3dfff00b604dec1e2f430369ab8053f50f137,openstack/ironic-python-agent,master,Ifcf3dfff00b604dec1e2f430369ab8053f50f137,Collect udev properties in the ramdisk logs,MERGED,2022-06-17 07:48:36.000000000,2022-07-02 00:38:46.000000000,2022-07-02 00:37:35.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 07:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/aa00c6b085c1392666a1c818e6ba5af862ef41d1', 'message': '[WIP] Collect udev properties in the ramdisk logs\n\nChange-Id: Ifcf3dfff00b604dec1e2f430369ab8053f50f137\n'}, {'number': 2, 'created': '2022-06-17 14:20:24.000000000', 'files': ['ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py', 'releasenotes/notes/collect-udev-f6ada5163cf4a26c.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a98675890f3d404189e5a967d8f215628beb9ac7', 'message': 'Collect udev properties in the ramdisk logs\n\nChange-Id: Ifcf3dfff00b604dec1e2f430369ab8053f50f137\n'}]",0,846280,a98675890f3d404189e5a967d8f215628beb9ac7,10,3,2,10239,,,0,"Collect udev properties in the ramdisk logs

Change-Id: Ifcf3dfff00b604dec1e2f430369ab8053f50f137
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/80/846280/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/utils.py'],1,aa00c6b085c1392666a1c818e6ba5af862ef41d1,collect-udev,"import jsonimport pyudevdef _collect_udev(io_dict): try: out, _e = ironic_utils.execute('lsblk', '-no', 'KNAME') except processutils.ProcessExecutionError as exc: LOG.warning('Could not list block devices: %s', exc) return context = pyudev.Context() for kname in out.splitlines(): kname = kname.strip() if not kname: continue name = os.path.join('/dev', kname) try: udev = pyudev.Devices.from_device_file(context, name) except (pyudev.DeviceNotFoundByFileError, pyudev.DeviceNotFoundByNumberError) as e: LOG.warning(""Device %(dev)s is inaccessible, skipping... "" ""Error: %(error)s"", {'dev': name, 'error': e}) continue try: props = dict(udev.properties) except AttributeError: # pyudev < 0.20 props = dict(udev) fp = io.TextIOWrapper(io.BytesIO(), encoding='utf-8') json.dump(props, fp) fp.flush() io_dict[f'udev/{kname}'] = fp.buffer _collect_udev(io_dict) ",,40,0
openstack%2Fironic~master~I88a4863cd24258eb0b395303738c23e3468615c0,openstack/ironic,master,I88a4863cd24258eb0b395303738c23e3468615c0,CI: Pull in diskimage-builder until new release is cut,MERGED,2022-06-30 23:29:43.000000000,2022-07-01 22:58:35.000000000,2022-07-01 22:56:37.000000000,"[{'_account_id': 10342}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-30 23:29:43.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/af838cca79b36b068c210ae64d95441d7db02a23', 'message': 'CI: Pull in diskimage-builder until new release is cut\n\nChange-Id: I88a4863cd24258eb0b395303738c23e3468615c0\n'}]",3,848345,af838cca79b36b068c210ae64d95441d7db02a23,18,3,1,11655,,,0,"CI: Pull in diskimage-builder until new release is cut

Change-Id: I88a4863cd24258eb0b395303738c23e3468615c0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/45/848345/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,af838cca79b36b068c210ae64d95441d7db02a23,, # TODO(TheJulia): Explicitly pull in DIB until we get a release cut. - opendev.org/openstack/diskimage-builder,,2,0
openstack%2Ftripleo-common~master~Ic30b3b12b39fb13c1d9df809ecf1e5bf8051cdb1,openstack/tripleo-common,master,Ic30b3b12b39fb13c1d9df809ecf1e5bf8051cdb1,Add dependency for container healthcheck script,MERGED,2022-06-23 16:07:01.000000000,2022-07-01 22:28:20.000000000,2022-07-01 22:27:16.000000000,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-06-23 16:07:01.000000000', 'files': ['container-images/tcib/base/collectd/collectd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/609934933c663fb13c199151168b6e36ecd2428f', 'message': 'Add dependency for container healthcheck script\n\nThis patch adds packages required for collectd-sensubility HC script.\n\nChange-Id: Ic30b3b12b39fb13c1d9df809ecf1e5bf8051cdb1\nRelated: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/847370\n'}]",0,847373,609934933c663fb13c199151168b6e36ecd2428f,10,5,1,5241,,,0,"Add dependency for container healthcheck script

This patch adds packages required for collectd-sensubility HC script.

Change-Id: Ic30b3b12b39fb13c1d9df809ecf1e5bf8051cdb1
Related: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/847370
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/73/847373/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/collectd/collectd.yaml'],1,609934933c663fb13c199151168b6e36ecd2428f,sensubility-new-podman, - podman-remote - jq,,2,0
openstack%2Fpuppet-tripleo~master~I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492,openstack/puppet-tripleo,master,I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492,Add support for ovn clustered DB in the octavia ovn-provider,MERGED,2022-06-15 19:08:37.000000000,2022-07-01 22:27:09.000000000,2022-07-01 22:27:09.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-06-15 19:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/82474e64b729e2340d5b7c7e5c05d35a429d7116', 'message': 'Add support for ovn clustered DB in the octavia ovn-provider\n\nChange-Id: I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492\n'}, {'number': 2, 'created': '2022-06-16 11:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9d99dfd8d023459fa71584d44971192051cbacb9', 'message': 'Add support for ovn clustered DB in the octavia ovn-provider\n\nChange-Id: I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492\n'}, {'number': 3, 'created': '2022-06-22 08:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/30cce55d9c9bf71f59abc83ada7be41b6e527d36', 'message': 'Add support for ovn clustered DB in the octavia ovn-provider\n\nChange-Id: I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492\n'}, {'number': 4, 'created': '2022-06-24 06:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2d2865c16692bf84bcfad401326c969d61eace14', 'message': 'Add support for ovn clustered DB in the octavia ovn-provider\n\nChange-Id: I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492\n'}, {'number': 5, 'created': '2022-06-24 06:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bdc49141e74b0ccb11d515b158b1e375f8b34f3e', 'message': 'Add support for ovn clustered DB in the octavia ovn-provider\n\nChange-Id: I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492\n'}, {'number': 6, 'created': '2022-06-24 10:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f92c295680c833a5dcd70aaf96673d8c87fb1e80', 'message': 'Add support for ovn clustered DB in the octavia ovn-provider\n\nChange-Id: I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492\n'}, {'number': 7, 'created': '2022-06-24 10:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ef4684d108d78de6899340d36f334d94d00dcabc', 'message': 'Add support for ovn clustered DB in the octavia ovn-provider\n\nChange-Id: I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492\n'}, {'number': 8, 'created': '2022-06-24 14:21:07.000000000', 'files': ['manifests/profile/base/octavia/provider/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e6a4118d24358c22843c7bbc6f97ea06a53e7cec', 'message': 'Add support for ovn clustered DB in the octavia ovn-provider\n\nChange-Id: I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492\n'}]",11,846059,e6a4118d24358c22843c7bbc6f97ea06a53e7cec,37,5,8,29244,,,0,"Add support for ovn clustered DB in the octavia ovn-provider

Change-Id: I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/59/846059/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/octavia/provider/ovn.pp'],1,82474e64b729e2340d5b7c7e5c05d35a429d7116,,"# [*ovn_db_node_ips*] # (Optional) The OVN DBs node ip addresses are listening. # Defaults to hiera('ovn_dbs_node_ips') # # [*ovn_db_clustered*] # (Optional) Boolean indicating if we're running with ovn db clustering # or pacemaker. Defaults to false for backwards compatibility # Defaults to hiera('ovn_db_clustered', false) # $ovn_db_node_ips = hiera('ovn_dbs_node_ips', undef), $ovn_db_clustered = hiera('ovn_db_clustered', false), if $ovn_db_clustered { $db_hosts = any2array($ovn_db_node_ips) } else { $db_hosts = any2array($ovn_db_host) } if $db_hosts { $nb_conn = $db_hosts.map |$h| { join([$protocol, normalize_ip_for_uri($h), ""${ovn_nb_port}""], ':') } class { 'octavia::provider::ovn': ovn_nb_connection => join(any2array($nb_conn), ','),"," # For backward compatibility if $::tripleo::profile::base::octavia::api::ovn_db_host and !is_service_default(::tripleo::profile::base::octavia::api::ovn_db_host) { $ovn_db_host_real = $::tripleo::profile::base::octavia::api::ovn_db_host $ovn_nb_port_real = $::tripleo::profile::base::octavia::api::ovn_nb_port } else { $ovn_db_host_real = $ovn_db_host $ovn_nb_port_real = $ovn_nb_port } if $ovn_db_host_real { $ovn_nb_conn_args = [""${protocol}"", normalize_ip_for_uri($ovn_db_host_real), ""${ovn_nb_port_real}""].filter |$c| { !$c.empty() } $ovn_nb_connection = join($ovn_nb_conn_args, ':') class { 'octavia::provider::ovn': ovn_nb_connection => $ovn_nb_connection,",18,12
openstack%2Fpuppet-tripleo~master~I1d8630d427b353daab17c3661b1fdea9e38a1814,openstack/puppet-tripleo,master,I1d8630d427b353daab17c3661b1fdea9e38a1814,HAProxy: Replace hiera by lookup (1),MERGED,2022-06-23 13:09:38.000000000,2022-07-01 22:27:07.000000000,2022-07-01 22:27:07.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-23 13:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a0ec809e4212d02ec9d2cedd3dba8a67c44ebcb3', 'message': 'Haproxy: Replace hiera by lookup (1)\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I1d8630d427b353daab17c3661b1fdea9e38a1814\n'}, {'number': 2, 'created': '2022-06-23 13:10:37.000000000', 'files': ['manifests/profile/base/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fbda281c33bac10ba6d47adb3ef6540c610c4709', 'message': 'HAProxy: Replace hiera by lookup (1)\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I1d8630d427b353daab17c3661b1fdea9e38a1814\n'}]",0,847343,fbda281c33bac10ba6d47adb3ef6540c610c4709,9,4,2,9816,,,0,"HAProxy: Replace hiera by lookup (1)

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: I1d8630d427b353daab17c3661b1fdea9e38a1814
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/43/847343/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/haproxy.pp'],1,a0ec809e4212d02ec9d2cedd3dba8a67c44ebcb3,tripleo-hiera-v5,"# Defaults to lookup('enable_load_balancer', undef, undef, true).# Defaults to Integer(lookup('step')) $certificates_specs = {}, $enable_load_balancer = lookup('enable_load_balancer', undef, undef, true), $step = Integer(lookup('step')),","# Defaults to hiera('enable_load_balancer', true).# Defaults to hiera('step') $certificates_specs = {}, $enable_load_balancer = hiera('enable_load_balancer', true), $step = Integer(hiera('step')),",5,5
openstack%2Fpuppet-tripleo~master~I452cc36a2da5ecd50350e10c207af81bb7060f60,openstack/puppet-tripleo,master,I452cc36a2da5ecd50350e10c207af81bb7060f60,HAProxy: Remove unused logic to reload haproxy service,MERGED,2022-06-23 13:09:38.000000000,2022-07-01 22:27:04.000000000,2022-07-01 22:27:04.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-23 13:09:38.000000000', 'files': ['manifests/profile/base/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7e85c0a645c406e05a816f3e002c63ce907048d4', 'message': 'HAProxy: Remove unused logic to reload haproxy service\n\nNow haproxy is running inside container and is not directly managed by\nsystemd, so the logic to reload haproxy using systemctl command is no\nlonger used.\n\nChange-Id: I452cc36a2da5ecd50350e10c207af81bb7060f60\n'}]",0,847342,7e85c0a645c406e05a816f3e002c63ce907048d4,9,4,1,9816,,,0,"HAProxy: Remove unused logic to reload haproxy service

Now haproxy is running inside container and is not directly managed by
systemd, so the logic to reload haproxy using systemctl command is no
longer used.

Change-Id: I452cc36a2da5ecd50350e10c207af81bb7060f60
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/42/847342/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/haproxy.pp'],1,7e85c0a645c406e05a816f3e002c63ce907048d4,,," unless hiera('tripleo::haproxy::haproxy_service_manage', true) { # Reload HAProxy configuration if the haproxy class has refreshed or any # HAProxy frontend endpoint has changed. exec { 'haproxy-reload': command => 'systemctl reload haproxy', path => ['/usr/bin', '/usr/sbin'], refreshonly => true, onlyif => 'systemctl is-active haproxy | grep -q active', subscribe => Class['haproxy'] } Haproxy::Listen<||> ~> Exec['haproxy-reload'] Haproxy::Balancermember<||> ~> Exec['haproxy-reload'] }",0,14
openstack%2Fpuppet-tripleo~master~I4d765dfb7d569942e37d2bbc1d3a382fb9b7a904,openstack/puppet-tripleo,master,I4d765dfb7d569942e37d2bbc1d3a382fb9b7a904,Database: Replace hiera by lookup,MERGED,2022-06-23 13:17:34.000000000,2022-07-01 21:36:03.000000000,2022-07-01 21:36:03.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-23 13:17:34.000000000', 'files': ['manifests/profile/base/database/mysql/users.pp', 'manifests/profile/base/database/redis.pp', 'manifests/profile/base/database/mysql/client.pp', 'manifests/profile/base/database/mysql.pp', 'manifests/profile/base/database/mysql/include_and_check_auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ae739fe4c3ed667759652ba8e89f0a44988a9958', 'message': 'Database: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I4d765dfb7d569942e37d2bbc1d3a382fb9b7a904\n'}]",0,847344,ae739fe4c3ed667759652ba8e89f0a44988a9958,9,4,1,9816,,,0,"Database: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: I4d765dfb7d569942e37d2bbc1d3a382fb9b7a904
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/44/847344/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/database/mysql/users.pp', 'manifests/profile/base/database/redis.pp', 'manifests/profile/base/database/mysql/client.pp', 'manifests/profile/base/database/mysql.pp', 'manifests/profile/base/database/mysql/include_and_check_auth.pp']",5,ae739fe4c3ed667759652ba8e89f0a44988a9958,tripleo-hiera-v5,"# Defaults to lookup('mysql_auth_ed25519', undef, undef, false) $mysql_auth_ed25519 = lookup('mysql_auth_ed25519', undef, undef, false), password_hash => mysql_ed25519_password(lookup($password_key))","# Defaults to hiera('mysql_auth_ed25519', false) $mysql_auth_ed25519 = hiera('mysql_auth_ed25519', false), password_hash => mysql_ed25519_password(hiera($password_key))",50,50
openstack%2Ftripleo-ci~master~I9ec6b3d93f0643455da650d0b0a55335084cb61a,openstack/tripleo-ci,master,I9ec6b3d93f0643455da650d0b0a55335084cb61a,Trigger standalone jobs by change in tripleo_cephadm role,MERGED,2022-06-30 09:41:29.000000000,2022-07-01 21:27:21.000000000,2022-07-01 21:27:21.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-06-30 09:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/eeb6a046dcfe4f368f534abd26ccd21132bc11a9', 'message': 'Trigger standalone jobs by change in tripleo_cephadm roles\n\nThis change fixes the file pattern used to trigger standalone job with\nCeph enabled, so that any change in the tripleo_cephadm role is tested\nby these jobs.\n\nChange-Id: I9ec6b3d93f0643455da650d0b0a55335084cb61a\n'}, {'number': 2, 'created': '2022-06-30 23:07:45.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a9b3c08b89c5d0583758f261727af8c838cf9317', 'message': 'Trigger standalone jobs by change in tripleo_cephadm role\n\nThis change fixes the file pattern used to trigger standalone jobs\nwith Ceph enabled, so that any change in the tripleo_cephadm role is\ntested by these jobs.\n\nChange-Id: I9ec6b3d93f0643455da650d0b0a55335084cb61a\n'}]",1,848244,a9b3c08b89c5d0583758f261727af8c838cf9317,13,5,2,9816,,,0,"Trigger standalone jobs by change in tripleo_cephadm role

This change fixes the file pattern used to trigger standalone jobs
with Ceph enabled, so that any change in the tripleo_cephadm role is
tested by these jobs.

Change-Id: I9ec6b3d93f0643455da650d0b0a55335084cb61a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/44/848244/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,eeb6a046dcfe4f368f534abd26ccd21132bc11a9,, - ^tripleo_ansible/roles/tripleo_ceph.*/.* - ^tripleo_ansible/roles/tripleo_ceph.*/.*, - ^tripleo_ansible/roles/tripleo_ceph_.*/.* - ^tripleo_ansible/roles/tripleo_ceph_.*/.*,2,2
openstack%2Fmanila~stable%2Fyoga~Idb2a8838d492ac3c616fb21ab1272f7dc74ee589,openstack/manila,stable/yoga,Idb2a8838d492ac3c616fb21ab1272f7dc74ee589,Add validation to share network,MERGED,2022-04-21 17:44:25.000000000,2022-07-01 21:17:21.000000000,2022-07-01 21:16:01.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-04-21 17:44:25.000000000', 'files': ['manila/db/api.py', 'manila/api/v2/share_networks.py', 'manila/db/sqlalchemy/api.py', 'manila/tests/api/v2/test_share_networks.py', 'releasenotes/notes/bug-1918323-add-validation-to-share-network-94571f35cb39c815.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/95099bdfc46f4734c082b051a0029627aff9e473', 'message': 'Add validation to share network\n\nAdds a check when associating a security service to a share network, so\nthat both resources must have the same project_id. If not,\na HTTP Bad Request is raised. Affiliated tests were altered or created.\n\nCloses-Bug: #1918323\nChange-Id: Idb2a8838d492ac3c616fb21ab1272f7dc74ee589\n(cherry picked from commit a97d65d3eb9b3a5b4a88a1b3f22b59ca2f75c9bc)\n'}]",2,838875,95099bdfc46f4734c082b051a0029627aff9e473,11,3,1,16643,,,0,"Add validation to share network

Adds a check when associating a security service to a share network, so
that both resources must have the same project_id. If not,
a HTTP Bad Request is raised. Affiliated tests were altered or created.

Closes-Bug: #1918323
Change-Id: Idb2a8838d492ac3c616fb21ab1272f7dc74ee589
(cherry picked from commit a97d65d3eb9b3a5b4a88a1b3f22b59ca2f75c9bc)
",git fetch https://review.opendev.org/openstack/manila refs/changes/75/838875/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/api.py', 'manila/api/v2/share_networks.py', 'manila/db/sqlalchemy/api.py', 'manila/tests/api/v2/test_share_networks.py', 'releasenotes/notes/bug-1918323-add-validation-to-share-network-94571f35cb39c815.yaml']",5,95099bdfc46f4734c082b051a0029627aff9e473,bug/1918323," fixes: - Adds a check when associating a security service to a share network, so that both resources must have the same project_id. If not, HTTP Bad Request is raised. ",,55,10
openstack%2Fmanila~stable%2Fyoga~If28d97a9916ce56d7f7bf93274f5618eee01c209,openstack/manila,stable/yoga,If28d97a9916ce56d7f7bf93274f5618eee01c209,Check project permissions for share replicas,MERGED,2022-05-06 12:08:31.000000000,2022-07-01 21:07:35.000000000,2022-07-01 21:06:19.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-05-06 12:08:31.000000000', 'files': ['manila/db/sqlalchemy/api.py', 'releasenotes/notes/bug-1922243-fix-project-only-replica-listing-f5f2b95ef14c3ded.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/886c2258528a8cd2ad2d8a68634a265a257f8c7d', 'message': 'Check project permissions for share replicas\n\nFixed the issue of returning more share replicas than we should\nbe in a project context. Derived project id from parent share in\nthe share replicas listing query in non-admin share replicas\nlisting request scenarios.\n\nChange-Id: If28d97a9916ce56d7f7bf93274f5618eee01c209\nCloses-Bug: #1922243\nDepends-On: I69c31a33c1aad8edae2d90ad6101da1be650be85\n(cherry picked from commit 6484de925119ffb3614921b59045a958a404d43d)\n'}]",2,840736,886c2258528a8cd2ad2d8a68634a265a257f8c7d,11,3,1,16643,,,0,"Check project permissions for share replicas

Fixed the issue of returning more share replicas than we should
be in a project context. Derived project id from parent share in
the share replicas listing query in non-admin share replicas
listing request scenarios.

Change-Id: If28d97a9916ce56d7f7bf93274f5618eee01c209
Closes-Bug: #1922243
Depends-On: I69c31a33c1aad8edae2d90ad6101da1be650be85
(cherry picked from commit 6484de925119ffb3614921b59045a958a404d43d)
",git fetch https://review.opendev.org/openstack/manila refs/changes/36/840736/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/sqlalchemy/api.py', 'releasenotes/notes/bug-1922243-fix-project-only-replica-listing-f5f2b95ef14c3ded.yaml']",2,886c2258528a8cd2ad2d8a68634a265a257f8c7d,bug/1922243,"--- fixes: - | Fixed an issue that caused Manila to return all projects' share replicas even when the user was not an administrator. Now, when the user is not an administrator, only the replicas in the project perspective are going to be displayed. For more details, please refer to `Launchpad Bug #1922243 <https://bugs.launchpad.net/manila/+bug/1922243>`_ ",,14,0
openstack%2Fbarbican-tempest-plugin~master~I07d9f3758243df89ef4ccd482ae0ee3e49e5f88f,openstack/barbican-tempest-plugin,master,I07d9f3758243df89ef4ccd482ae0ee3e49e5f88f,zuul: Declare queue at top level,MERGED,2022-06-13 00:59:08.000000000,2022-07-01 20:31:16.000000000,2022-07-01 20:31:16.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 34120}]","[{'number': 1, 'created': '2022-06-13 00:59:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/cb6e982334d8ce767f1e07d6a2c20897c76c1912', 'message': 'zuul: Declare queue at top level\n\nZuul deprecated declaring shared queues at a pipeline level with\nrelease 4.1.0[1]. This updates the job definition to use the top level\ndeclaration instead.\n\nSee [2] for details.\n\n[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: I07d9f3758243df89ef4ccd482ae0ee3e49e5f88f\n'}]",1,845522,cb6e982334d8ce767f1e07d6a2c20897c76c1912,8,6,1,9816,,,0,"zuul: Declare queue at top level

Zuul deprecated declaring shared queues at a pipeline level with
release 4.1.0[1]. This updates the job definition to use the top level
declaration instead.

See [2] for details.

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I07d9f3758243df89ef4ccd482ae0ee3e49e5f88f
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/22/845522/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cb6e982334d8ce767f1e07d6a2c20897c76c1912,fix-queue-config, queue: barbican, queue: barbican,1,1
openstack%2Fbarbican-tempest-plugin~master~I9df1b691a9d142997a3d3ee5e115187c0923e85d,openstack/barbican-tempest-plugin,master,I9df1b691a9d142997a3d3ee5e115187c0923e85d,Update 'Maintained' stable branch jobs on master gate,MERGED,2022-04-15 01:42:18.000000000,2022-07-01 20:31:15.000000000,2022-07-01 20:31:15.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 34120}]","[{'number': 1, 'created': '2022-04-15 01:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/8339683be9cc2e559f1bc0380640b24368206f42', 'message': ""Update 'Maintained' stable branch jobs on master gate\n\nWe have stable/yoga released and stable/ussuri is in\n'Extended Maintenance' state. Current 'Maintained'\nstable branches are yoga, xena, wallaby, and victoria.\n\nAs per tempest stable branch testing policy[1], adding the\nnewly released stable/yoga job and remove the EM stable/ussuri\njob.\n\n[1] https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I9df1b691a9d142997a3d3ee5e115187c0923e85d\n""}, {'number': 2, 'created': '2022-05-31 21:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/0dc56260308652eb3eb3702b86ca618cf6fc95e2', 'message': ""Update 'Maintained' stable branch jobs on master gate\n\nWe have stable/yoga released and stable/ussuri is in\n'Extended Maintenance' state. Current 'Maintained'\nstable branches are yoga, xena, wallaby, and victoria.\n\nAs per tempest stable branch testing policy[1], adding the\nnewly released stable/yoga job and remove the EM stable/ussuri\nand stable/victoria job.\n\n[1] https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I9df1b691a9d142997a3d3ee5e115187c0923e85d\n""}, {'number': 3, 'created': '2022-05-31 21:27:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/8580430fba96aca71e918564a4c5943ff05652ee', 'message': ""Update 'Maintained' stable branch jobs on master gate\n\nWe have stable/yoga released and stable/ussuri is in\n'Extended Maintenance' state. Current 'Maintained'\nstable branches are yoga, xena, wallaby, and victoria.\n\nAs per tempest stable branch testing policy[1], adding the\nnewly released stable/yoga job and remove the EM stable/ussuri\nand stable/victoria job.\n\n[1] https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I9df1b691a9d142997a3d3ee5e115187c0923e85d\n""}]",1,838063,8580430fba96aca71e918564a4c5943ff05652ee,12,6,3,8556,,,0,"Update 'Maintained' stable branch jobs on master gate

We have stable/yoga released and stable/ussuri is in
'Extended Maintenance' state. Current 'Maintained'
stable branches are yoga, xena, wallaby, and victoria.

As per tempest stable branch testing policy[1], adding the
newly released stable/yoga job and remove the EM stable/ussuri
and stable/victoria job.

[1] https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I9df1b691a9d142997a3d3ee5e115187c0923e85d
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/63/838063/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8339683be9cc2e559f1bc0380640b24368206f42,yoga-stable-job, - barbican-tempest-plugin-simple-crypto-yoga job: name: barbican-tempest-plugin-simple-crypto-yoga parent: barbican-tempest-plugin-simple-crypto override-checkout: stable/yoga , - barbican-tempest-plugin-simple-crypto-ussuri name: barbican-tempest-plugin-simple-crypto-ussuri parent: barbican-tempest-plugin-simple-crypto nodeset: openstack-single-node-bionic override-checkout: stable/ussuri - job:,6,7
openstack%2Fbarbican-tempest-plugin~master~Ic8ef45bcb9518968d32872a93fc3381004d218ff,openstack/barbican-tempest-plugin,master,Ic8ef45bcb9518968d32872a93fc3381004d218ff,Fix the import of NotFound exception,MERGED,2022-06-24 09:39:52.000000000,2022-07-01 20:19:30.000000000,2022-07-01 20:19:30.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 34120}]","[{'number': 1, 'created': '2022-06-24 09:39:52.000000000', 'files': ['barbican_tempest_plugin/tests/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/4e9303e1bb83da10f8d5d97ee4fd31447c5dc396', 'message': 'Fix the import of NotFound exception\n\nIt is exported by tempest.lib.exceptions, not tempest.exceptions\n(it was originally until 2015).\n\nChange-Id: Ic8ef45bcb9518968d32872a93fc3381004d218ff\n'}]",0,847560,4e9303e1bb83da10f8d5d97ee4fd31447c5dc396,7,5,1,10459,,,0,"Fix the import of NotFound exception

It is exported by tempest.lib.exceptions, not tempest.exceptions
(it was originally until 2015).

Change-Id: Ic8ef45bcb9518968d32872a93fc3381004d218ff
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/60/847560/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican_tempest_plugin/tests/scenario/manager.py'],1,4e9303e1bb83da10f8d5d97ee4fd31447c5dc396,fix-notfound-exc, except lib_exc.NotFound:, except exceptions.NotFound:,1,1
openstack%2Fmanila~stable%2Fyoga~I547de2f4cd82744ecc1cc8180f8cefdf5ec485b4,openstack/manila,stable/yoga,I547de2f4cd82744ecc1cc8180f8cefdf5ec485b4,Fix Dummy driver fails to get subnet_allocations,MERGED,2022-03-29 16:30:17.000000000,2022-07-01 20:13:15.000000000,2022-07-01 20:12:02.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-03-29 16:30:17.000000000', 'files': ['manila/tests/share/drivers/dummy.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/f449ebbf8fc188f9952047c5875481e20991514f', 'message': 'Fix Dummy driver fails to get subnet_allocations\n\nWith the addition of support to multiple subnets per AZ,\nbackend_details structure was changed in Dummy driver to store\nmultiple subnet primary and secondary public ips in a\nsubnet_allocations list dumped to a json string, breaking upgrading\nenvironments that already contains pre-existent share servers in\nold format.\n\nThis change fixes the issue by checking if subnet_allocations does\nexist, otherwise ensure backward compatibility by reading public\nips information in the old format.\n\nChange-Id: I547de2f4cd82744ecc1cc8180f8cefdf5ec485b4\n(cherry picked from commit 785016eb742206d89aae2898fc4af77e19c581fa)\n'}]",2,835673,f449ebbf8fc188f9952047c5875481e20991514f,10,3,1,16643,,,0,"Fix Dummy driver fails to get subnet_allocations

With the addition of support to multiple subnets per AZ,
backend_details structure was changed in Dummy driver to store
multiple subnet primary and secondary public ips in a
subnet_allocations list dumped to a json string, breaking upgrading
environments that already contains pre-existent share servers in
old format.

This change fixes the issue by checking if subnet_allocations does
exist, otherwise ensure backward compatibility by reading public
ips information in the old format.

Change-Id: I547de2f4cd82744ecc1cc8180f8cefdf5ec485b4
(cherry picked from commit 785016eb742206d89aae2898fc4af77e19c581fa)
",git fetch https://review.opendev.org/openstack/manila refs/changes/73/835673/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/tests/share/drivers/dummy.py'],1,f449ebbf8fc188f9952047c5875481e20991514f,," def _get_subnet_allocations_from_backend_details(self, backend_details): """"""Reads subnet_allocations info from backend details"""""" # NOTE(sfernand): Ensure backward compatibility for share servers # created prior to the addition of support to multiple subnets per AZ, # by read ip information using the old format in case # subnet_allocations does not exist. if 'subnet_allocations' in backend_details: subnet_allocations = jsonutils.loads( backend_details['subnet_allocations']) else: subnet_allocations = [{ 'primary_public_ip': backend_details['primary_public_ip'], 'secondary_public_ip': backend_details['secondary_public_ip'] }] return subnet_allocations backend_details = share_server['backend_details'] subnet_allocations = ( self._get_subnet_allocations_from_backend_details( backend_details)) service_ip = backend_details[""service_ip""] subnet_allocations = ( self._get_subnet_allocations_from_backend_details(server_details)) backend_details = share_server['backend_details'] subnet_allocations = ( self._get_subnet_allocations_from_backend_details(backend_details)) ""service_ip"": backend_details[""service_ip""],"," subnet_allocations = jsonutils.loads( share_server[""backend_details""][""subnet_allocations""]) service_ip = share_server[""backend_details""][""service_ip""] subnet_allocations = jsonutils.loads( server_details['subnet_allocations']) subnet_allocations = jsonutils.loads( share_server['backend_details']['subnet_allocations']) ""service_ip"": share_server[""backend_details""][""service_ip""],",32,8
openstack%2Fbarbican-tempest-plugin~master~I2f96cf7b5f85f2a1297eb7a1aafdfd88485eaebe,openstack/barbican-tempest-plugin,master,I2f96cf7b5f85f2a1297eb7a1aafdfd88485eaebe,Remove _create_port and create_keypair methods,MERGED,2022-02-16 07:29:16.000000000,2022-07-01 20:10:22.000000000,2022-07-01 20:10:22.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 8556}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}]","[{'number': 1, 'created': '2022-02-16 07:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/ca12d1a2f0a96a17508cb4c047cad274d611fce8', 'message': 'Replaces barbican tempest plugin manager methods with tempest methods\n\nReplaced methods:\n\t* _create_port\n\t* create_keypair\n\nChange-Id: I2f96cf7b5f85f2a1297eb7a1aafdfd88485eaebe\n'}, {'number': 2, 'created': '2022-02-21 07:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/5a79744f8de86d127435a83a2dc28d44df0cbcee', 'message': 'As tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1]\nit can be now reused in plugins.\n\nReplaced methods:\n\t* _create_port\n\t* create_keypair\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\nChange-Id: I2f96cf7b5f85f2a1297eb7a1aafdfd88485eaebe\n'}, {'number': 3, 'created': '2022-02-21 07:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/01e1e6a30e40bd6aea27c6a2c21fbb42f7c6ce4b', 'message': 'Replace barbican tempest plugin manager methods with tempest methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1]\nit can be now reused in plugins.\n\nReplaced methods:\n\t* _create_port\n\t* create_keypair\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\nChange-Id: I2f96cf7b5f85f2a1297eb7a1aafdfd88485eaebe\n'}, {'number': 4, 'created': '2022-02-21 07:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/dfd698d137df75199660655d41b698ed4d6ee22d', 'message': 'Replace barbican tempest plugin manager methods with tempest methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1]\nit can be now reused in plugins.\n\nReplaced methods:\n\t* _create_port\n\t* create_keypair\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I2f96cf7b5f85f2a1297eb7a1aafdfd88485eaebe\n'}, {'number': 5, 'created': '2022-02-21 07:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/ce1ee1457f875c9d178420e6f8578cd533a77e9a', 'message': 'Replace barbican tempest plugin manager methods with tempest methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n\t* _create_port\n\t* create_keypair\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I2f96cf7b5f85f2a1297eb7a1aafdfd88485eaebe\n'}, {'number': 6, 'created': '2022-02-22 09:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/cec4eee4547ff7f230978aa9387ad6b1c66c07e8', 'message': 'Replace barbican tempest plugin manager methods with tempest methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n\t* _create_port\n\t* create_keypair\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I2f96cf7b5f85f2a1297eb7a1aafdfd88485eaebe\n'}, {'number': 7, 'created': '2022-03-08 11:16:51.000000000', 'files': ['barbican_tempest_plugin/tests/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/6e39d991c8892f40d9df67849ec99ede6e66224e', 'message': 'Remove _create_port and create_keypair methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n\t* _create_port\n\t* create_keypair\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I2f96cf7b5f85f2a1297eb7a1aafdfd88485eaebe\n'}]",17,829485,6e39d991c8892f40d9df67849ec99ede6e66224e,24,8,7,33732,,,0,"Remove _create_port and create_keypair methods

As tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1] it can be now reused in plugins.

Replaced methods:
	* _create_port
	* create_keypair

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0

Change-Id: I2f96cf7b5f85f2a1297eb7a1aafdfd88485eaebe
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/85/829485/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican_tempest_plugin/tests/scenario/manager.py'],1,ca12d1a2f0a96a17508cb4c047cad274d611fce8,tempest-scenario-manager-cleanup," return super().create_port(network_id=network_id, client=client, namestart=namestart, **kwargs) return super().create_keypair(client=client)"," if not client: client = self.ports_client name = data_utils.rand_name(namestart) result = client.create_port( name=name, network_id=network_id, **kwargs) self.assertIsNotNone(result, 'Unable to allocate port') port = result['port'] self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_port, port['id']) return port if not client: client = self.keypairs_client name = data_utils.rand_name(self.__class__.__name__) # We don't need to create a keypair by pubkey in scenario body = client.create_keypair(name=name) self.addCleanup(client.delete_keypair, name) return body['keypair']",5,19
openstack%2Fironic~master~Ib4894a40f499dd7fb019eb6037071a0b36805981,openstack/ironic,master,Ib4894a40f499dd7fb019eb6037071a0b36805981,Switch to cirros 0.4.0,ABANDONED,2017-07-25 15:14:42.000000000,2022-07-01 19:40:00.000000000,,"[{'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 28429}, {'_account_id': 28950}]","[{'number': 1, 'created': '2017-07-25 15:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f93e1b142f438b0669d0deccab3f499e0a20ce20', 'message': '[TEST] [DO NOT MERGE] Nothing to see here\n\nChange-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981\n'}, {'number': 2, 'created': '2017-07-26 10:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c24b2496422c3068b3b50a55007d6a78f162f173', 'message': '[TEST] [DO NOT MERGE] Nothing to see here\n\nChange-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981\n'}, {'number': 3, 'created': '2018-07-24 13:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6e246b31e360173c9b819f2ede840a331b1d8338', 'message': '[TEST] [DO NOT MERGE] Nothing to see here\n\nChange-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981\n'}, {'number': 4, 'created': '2018-07-24 13:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b88b3f85a10e9de6744b51cb9ff916802b5368aa', 'message': '[TEST] [DO NOT MERGE] Nothing to see here\n\nChange-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981\n'}, {'number': 5, 'created': '2018-09-04 15:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/919cf70f43ed70d4a631ff42d4bab45434439971', 'message': '[TEST] [DO NOT MERGE] Nothing to see here\n\nChange-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981\n'}, {'number': 6, 'created': '2018-09-14 18:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0a58800bd054d346bf7696f015f0e39694931d93', 'message': '[TEST] [DO NOT MERGE] Nothing to see here\n\nsee https://review.openstack.org/#/c/600992/\n\nChange-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981\n'}, {'number': 7, 'created': '2018-09-18 14:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3515155e204a612c052ae642d624f4312cc3b05b', 'message': '[TEST] [DO NOT MERGE] Nothing to see here\n\nsee https://review.openstack.org/#/c/600992/\n\nChange-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981\n'}, {'number': 8, 'created': '2018-09-18 17:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b8de844015997eb3fccdec6f1a25da569944614c', 'message': '[TEST] [DO NOT MERGE] Nothing to see here\n\nsee https://review.openstack.org/#/c/600992/\n\nChange-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981\n'}, {'number': 9, 'created': '2018-09-18 20:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ec1686f2fd6fa9827316061194bf0e3be0847881', 'message': '[TEST] [DO NOT MERGE] Nothing to see here\n\nsee https://review.openstack.org/#/c/600992/\n\nChange-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981\n'}, {'number': 10, 'created': '2018-09-19 21:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/394c2ff62a3d06e5be2d7181dbcd4eb6ba8340e2', 'message': '[TEST] [DO NOT MERGE] Nothing to see here\n\nChange-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981\nDepends-On: Ib7d68d1360e3cdbfdc2ff185a9760461e75ac8c4\n'}, {'number': 11, 'created': '2018-09-20 15:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/07d77f55cd74eac4ee14a7445fd40a1429aa2e0a', 'message': '[TEST] [DO NOT MERGE] Nothing to see here\n\nChange-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981\nDepends-On: Ib7d68d1360e3cdbfdc2ff185a9760461e75ac8c4\n'}, {'number': 12, 'created': '2018-09-21 00:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/937b7a37a64f4f44d4e122edf245fee64416cfa2', 'message': '[TEST] [DO NOT MERGE] Nothing to see here\n\nChange-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981\nDepends-On: Ib7d68d1360e3cdbfdc2ff185a9760461e75ac8c4\n'}, {'number': 13, 'created': '2018-11-09 15:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fcaaacf02d65a24bc4521271b610691424220fe2', 'message': '[TEST] [DO NOT MERGE] Nothing to see here\n\nChange-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981\nDepends-On: I1683d7cfa81f5fe2497cc7045e87f8b20fed4968\n'}, {'number': 14, 'created': '2018-11-09 16:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8b7b2b2400b7427d7bb8c5413adb91025282bcbd', 'message': '[TEST] [DO NOT MERGE] Nothing to see here\n\nChange-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981\nDepends-On: I1683d7cfa81f5fe2497cc7045e87f8b20fed4968\n'}, {'number': 15, 'created': '2018-11-15 12:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f8f11576b3f90e8ea3fec59f02a5d2819b24a86d', 'message': '[TEST] [DO NOT MERGE] Nothing to see here\n\nChange-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981\nDepends-On: Ia2a8f69cdebc3cf2196a52c87e762ecddc7187af\n'}, {'number': 16, 'created': '2018-11-15 16:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/621ac88e0b242656aece1d1a23a37c57cd0c7167', 'message': '[TEST] [DO NOT MERGE] Nothing to see here\n\nChange-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981\n'}, {'number': 17, 'created': '2018-11-15 17:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7377b673c69c0df69e60ae3cd8c95bb73d13220f', 'message': '[TEST] [DO NOT MERGE] Nothing to see here\n\nChange-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981\nDepends-On: Ia2a8f69cdebc3cf2196a52c87e762ecddc7187af\n'}, {'number': 18, 'created': '2018-12-18 11:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5e4e4a37d96f62f8ebd40c4121b2a2ea0208e185', 'message': '[TEST] [DO NOT MERGE] Nothing to see here\n\nChange-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981\n'}, {'number': 19, 'created': '2018-12-18 16:51:34.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'devstack/common_settings'], 'web_link': 'https://opendev.org/openstack/ironic/commit/098beca4f0d28bf12bfe46c368f357f7b29c8695', 'message': 'Switch to cirros 0.4.0\n\nThis supports ext4 partitions with metadata_csum(as created\nby ubuntu bionic by default).\n\nAlso Using it with the e1000 virt driver cirros sees the nics.\n\nThis allows us to remove 2 of the special cases we had inserted\nwhen the CI jobs were switched to bionic.\n\nStory: #2004604\nTask: #28570\nTask: #28499\n\nChange-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981\n'}]",0,487118,098beca4f0d28bf12bfe46c368f357f7b29c8695,131,12,19,1926,,,0,"Switch to cirros 0.4.0

This supports ext4 partitions with metadata_csum(as created
by ubuntu bionic by default).

Also Using it with the e1000 virt driver cirros sees the nics.

This allows us to remove 2 of the special cases we had inserted
when the CI jobs were switched to bionic.

Story: #2004604
Task: #28570
Task: #28499

Change-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981
",git fetch https://review.opendev.org/openstack/ironic refs/changes/18/487118/19 && git format-patch -1 --stdout FETCH_HEAD,['devstack/tools/ironic/scripts/create-node.sh'],1,f93e1b142f438b0669d0deccab3f499e0a20ce20,487118, virsh dumpxml $NAME,,1,0
openstack%2Fmanila-tempest-plugin~master~I4abf0d60e6662c6f409bfa6506ab51ea717dc8cf,openstack/manila-tempest-plugin,master,I4abf0d60e6662c6f409bfa6506ab51ea717dc8cf,Follow up for CI jobs refactoring,MERGED,2022-06-30 19:59:50.000000000,2022-07-01 19:24:12.000000000,2022-07-01 19:24:12.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 32411}]","[{'number': 1, 'created': '2022-06-30 19:59:50.000000000', 'files': ['zuul.d/manila-tempest-stable-jobs.yaml', 'zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/d12285b25b40031ec90743c45b095d1bbcba4ca4', 'message': 'Follow up for CI jobs refactoring\n\nThis changes addresses few comments left in the change that\nrefactored some of our CI jobs [1], regarding a more suggestive\nanchor name and a comment to give more context for code reviewers\nin the future.\n\n[1] https: //review.opendev.org/c/openstack/manila-tempest-plugin/+/847366\n\nChange-Id: I4abf0d60e6662c6f409bfa6506ab51ea717dc8cf\n'}]",3,848333,d12285b25b40031ec90743c45b095d1bbcba4ca4,11,4,1,29632,,,0,"Follow up for CI jobs refactoring

This changes addresses few comments left in the change that
refactored some of our CI jobs [1], regarding a more suggestive
anchor name and a comment to give more context for code reviewers
in the future.

[1] https: //review.opendev.org/c/openstack/manila-tempest-plugin/+/847366

Change-Id: I4abf0d60e6662c6f409bfa6506ab51ea717dc8cf
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/33/848333/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/manila-tempest-stable-jobs.yaml', 'zuul.d/manila-tempest-jobs.yaml']",2,d12285b25b40031ec90743c45b095d1bbcba4ca4,, branches: &ubuntu_jammy_test_image_branches ^(?!stable/(yoga|xena|wallaby|victoria|ussuri)).*$ branches: *ubuntu_jammy_test_image_branches branches: *ubuntu_jammy_test_image_branches branches: *ubuntu_jammy_test_image_branches branches: *ubuntu_jammy_test_image_branches branches: *ubuntu_jammy_test_image_branches, branches: &jammy_ubuntu_focal_branches ^(?!stable/(yoga|xena|wallaby|victoria|ussuri)).*$ branches: *jammy_ubuntu_focal_branches branches: *jammy_ubuntu_focal_branches branches: *jammy_ubuntu_focal_branches branches: *jammy_ubuntu_focal_branches branches: *jammy_ubuntu_focal_branches,9,6
openstack%2Fmanila~stable%2Fwallaby~I5ea31e1d46148045ddc92853742f2321045c5680,openstack/manila,stable/wallaby,I5ea31e1d46148045ddc92853742f2321045c5680,Use defined project config of manila-tempest-plugin,MERGED,2022-07-01 14:25:47.000000000,2022-07-01 18:52:29.000000000,2022-07-01 18:48:58.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-07-01 14:25:47.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/71c906e6015bbf91ee9363b38030b1561398baef', 'message': 'Use defined project config of manila-tempest-plugin\n\nDue to recent issues we ran into, our jobs needed to be modified\nand we needed to control a few variables to be set into the stable\nbranches.\n\nThis change makes use of such modifications and starts using the\nproject config defined in the manila-tempest-plugin manifests.\n\nChange-Id: I5ea31e1d46148045ddc92853742f2321045c5680\n(cherry picked from commit 123db367ed75a10042d1c65644cd6f4b11860ea2)\n(cherry picked from commit 3e4d1292ff21b93d8fdbc0b88c41839d643970ca)\n'}]",1,848360,71c906e6015bbf91ee9363b38030b1561398baef,11,3,1,29632,,,0,"Use defined project config of manila-tempest-plugin

Due to recent issues we ran into, our jobs needed to be modified
and we needed to control a few variables to be set into the stable
branches.

This change makes use of such modifications and starts using the
project config defined in the manila-tempest-plugin manifests.

Change-Id: I5ea31e1d46148045ddc92853742f2321045c5680
(cherry picked from commit 123db367ed75a10042d1c65644cd6f4b11860ea2)
(cherry picked from commit 3e4d1292ff21b93d8fdbc0b88c41839d643970ca)
",git fetch https://review.opendev.org/openstack/manila refs/changes/60/848360/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,71c906e6015bbf91ee9363b38030b1561398baef,manila-stable-jobs-stable/wallaby, - manila-tempest-plugin-jobs-using-service-image-stable, - manila-tempest-plugin-lvm - manila-tempest-plugin-cephfs-native: voting: false - manila-tempest-plugin-cephfs-nfs: voting: false - manila-tempest-plugin-generic: voting: false - manila-tempest-plugin-zfsonlinux: voting: false - manila-tempest-plugin-lvm,1,10
openstack%2Fmanila~stable%2Fxena~Ife023187f307f1190d5e76daf644db0b5cd55d38,openstack/manila,stable/xena,Ife023187f307f1190d5e76daf644db0b5cd55d38,Define queues at project level,MERGED,2022-06-24 16:43:58.000000000,2022-07-01 18:52:08.000000000,2022-07-01 18:48:55.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 32411}]","[{'number': 1, 'created': '2022-06-24 16:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a4c8caf84347315a443184d8df3ed295eaa4fe39', 'message': 'Define queues at project level\n\nDefining queues at project.pipeline level was deprecated in release\n4.1.0 of Zuul [1] and support for it will (probably) be dropped in\nrelease 7.0.0. [2][3]\n\n[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n[2] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n[3] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nSigned-off-by: Eduardo Santos <eduardo.experimental@gmail.com>\nChange-Id: Ife023187f307f1190d5e76daf644db0b5cd55d38\n(cherry picked from commit 441d6470ca3a24f29f60494ed31755d2842b2fa3)\n(cherry picked from commit ad6874141de3637c2200315e95f51242b070b0e7)\n'}, {'number': 2, 'created': '2022-07-01 13:28:51.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/b06cc4b8cbbb8bd80134eecdd5f14095d512cbb0', 'message': 'Define queues at project level\n\nDefining queues at project.pipeline level was deprecated in release\n4.1.0 of Zuul [1] and support for it will (probably) be dropped in\nrelease 7.0.0. [2][3]\n\n[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n[2] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n[3] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nSigned-off-by: Eduardo Santos <eduardo.experimental@gmail.com>\nChange-Id: Ife023187f307f1190d5e76daf644db0b5cd55d38\n(cherry picked from commit 441d6470ca3a24f29f60494ed31755d2842b2fa3)\n(cherry picked from commit ad6874141de3637c2200315e95f51242b070b0e7)\n'}]",1,847442,b06cc4b8cbbb8bd80134eecdd5f14095d512cbb0,17,3,2,30002,,,0,"Define queues at project level

Defining queues at project.pipeline level was deprecated in release
4.1.0 of Zuul [1] and support for it will (probably) be dropped in
release 7.0.0. [2][3]

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html
[3] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Signed-off-by: Eduardo Santos <eduardo.experimental@gmail.com>
Change-Id: Ife023187f307f1190d5e76daf644db0b5cd55d38
(cherry picked from commit 441d6470ca3a24f29f60494ed31755d2842b2fa3)
(cherry picked from commit ad6874141de3637c2200315e95f51242b070b0e7)
",git fetch https://review.opendev.org/openstack/manila refs/changes/42/847442/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,a4c8caf84347315a443184d8df3ed295eaa4fe39,fix-queue-config, queue: manila, queue: manila,1,1
openstack%2Fvalidations-libs~master~I335e1660f56fa254ffd3c6728d4fe4bf9563284f,openstack/validations-libs,master,I335e1660f56fa254ffd3c6728d4fe4bf9563284f,Minor style violations fix,MERGED,2022-06-28 06:53:29.000000000,2022-07-01 18:44:31.000000000,2022-07-01 18:43:22.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-06-28 06:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2f9a5c2fc9aa792d88bb80f8105df36734281573', 'message': 'Minor style violations fix\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I335e1660f56fa254ffd3c6728d4fe4bf9563284f\n'}, {'number': 2, 'created': '2022-06-30 09:46:55.000000000', 'files': ['doc/source/contributing.rst', '.dockerignore', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b27ad5ae4270851ea80b8273cc399ba28d88feb6', 'message': 'Minor style violations fix\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I335e1660f56fa254ffd3c6728d4fe4bf9563284f\n'}]",1,847886,b27ad5ae4270851ea80b8273cc399ba28d88feb6,14,4,2,32926,,,0,"Minor style violations fix

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I335e1660f56fa254ffd3c6728d4fe4bf9563284f
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/86/847886/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributing.rst', '.dockerignore', 'tox.ini']",3,2f9a5c2fc9aa792d88bb80f8105df36734281573,yamllint/config,,,1,3
openstack%2Ftripleo-ansible~stable%2Fwallaby~I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14,openstack/tripleo-ansible,stable/wallaby,I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14,Designate: use extra IP for bind/unbound colocation on the bind9 backend,MERGED,2022-06-21 16:33:55.000000000,2022-07-01 18:43:20.000000000,2022-07-01 18:43:20.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-21 16:33:55.000000000', 'files': ['tripleo_ansible/roles/designate_bind_config/molecule/default/converge.yml', 'tripleo_ansible/roles/designate_bind_pool/tasks/main.yml', 'tripleo_ansible/roles/designate_bind_config/tasks/distribute_extra_ips.yml', 'tripleo_ansible/roles/designate_bind_config/templates/options.conf.j2', 'tripleo_ansible/roles/designate_bind_config/templates/rndc.conf.j2', 'tripleo_ansible/roles/designate_bind_config/tasks/create_collocated_ips.yml', 'tripleo_ansible/roles/designate_bind_pool/templates/pools-extra.yaml.j2', 'tripleo_ansible/roles/designate_bind_config/tasks/configure_interfaces.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b5f66485d3719592cc9651eae1b7dcb6efc4227c', 'message': 'Designate: use extra IP for bind/unbound colocation on the bind9 backend\n\nUsing the standard DF supplied IP for the unbound resolver instead of\nthe bind instance makes resolver integration with neutron a great deal\nmore straightforward. This patch introduces ansible tasks for\nconfiguring the bind service to run on an alternate IP.\n\nChange-Id: I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14\n(cherry picked from commit a0004cf138838c60a9cf24495d27fb00630b3833)\n'}]",2,847062,b5f66485d3719592cc9651eae1b7dcb6efc4227c,15,3,1,6681,,,0,"Designate: use extra IP for bind/unbound colocation on the bind9 backend

Using the standard DF supplied IP for the unbound resolver instead of
the bind instance makes resolver integration with neutron a great deal
more straightforward. This patch introduces ansible tasks for
configuring the bind service to run on an alternate IP.

Change-Id: I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14
(cherry picked from commit a0004cf138838c60a9cf24495d27fb00630b3833)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/62/847062/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/designate_bind_config/molecule/default/converge.yml', 'tripleo_ansible/roles/designate_bind_pool/tasks/main.yml', 'tripleo_ansible/roles/designate_bind_config/tasks/distribute_extra_ips.yml', 'tripleo_ansible/roles/designate_bind_config/templates/options.conf.j2', 'tripleo_ansible/roles/designate_bind_config/templates/rndc.conf.j2', 'tripleo_ansible/roles/designate_bind_config/tasks/create_collocated_ips.yml', 'tripleo_ansible/roles/designate_bind_config/tasks/configure_interfaces.yml', 'tripleo_ansible/roles/designate_bind_pool/templates/pools-extra.yaml.j2']",8,b5f66485d3719592cc9651eae1b7dcb6efc4227c,designate-wallaby,"- name: default # The name is immutable. There will be no option to change the name after # creation and the only way will to change it will be to delete it # (and all zones associated with it) and recreate it. description: Default Pool attributes: {} # List out the NS records for zones hosted within this pool # This should be a record that is created outside of designate, that # points to the public IP of the controller node. ns_records: {% for nameserver in designate_bind_node_ips -%} - hostname: ns{{ loop.index }}.{{ pool_zone_domain }}. priority: {{ loop.index }} {% endfor %} # List out the nameservers for this pool. These are the actual BIND servers. # We use these to verify changes have propagated to all nameservers. nameservers: {% for nameserver in groups.designate_bind -%} - host: {{ hostvars[nameserver].tripleo_dns_listen_interfaces[0] }} port: 53 {% endfor %} # List out the targets for this pool. For BIND there will be one # entry for each BIND server, as we have to run rndc command on each server targets: {% for server in groups.designate_bind -%} - type: bind9 description: BIND9 Server {{ loop.index }} # List out the designate-mdns servers from which BIND servers should # request zone transfers (AXFRs) from. # This should be the IP of the controller node. # If you have multiple controllers you can add multiple masters # by running designate-mdns on them, and adding them here. # XXX(beagles): these are just internal API atm but there really needs to # be a public VIP endpoint for each and will be addressed in a followup # patch. masters: {% for minidns_server in designate_mdns_node_ips -%} - host: {{ minidns_server }} port: 5354 {% endfor %} # BIND Configuration options options: host: {{ hostvars[server].tripleo_dns_listen_interfaces[0] }} port: 53 rndc_host: {{ hostvars[server].tripleo_dns_listen_interfaces[0] }} rndc_port: 953 rndc_key_file: {{ keyfile_base_path|default('/etc/designate/private/bind') }}{{ loop.index }}.key {% endfor %} ",,206,6
openstack%2Fpython-openstackclient~master~I45e9a81d451c64cdd51f9b606d94161742bacdb7,openstack/python-openstackclient,master,I45e9a81d451c64cdd51f9b606d94161742bacdb7,Stop testing lower-constraints,MERGED,2022-05-11 09:38:09.000000000,2022-07-01 18:06:33.000000000,2022-07-01 18:01:08.000000000,"[{'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2022-05-11 09:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9129b40627527c01017927f6c73498e01f7667d2', 'message': 'Stop testing lower-constraints\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html\n\nChange-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7\n'}, {'number': 2, 'created': '2022-05-14 02:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8ac366b37d9aa2aec9d1c89c8e140c388fdf4c8e', 'message': 'Stop testing lower-constraints\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html\n\nChange-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7\n'}, {'number': 3, 'created': '2022-05-14 03:02:25.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c677192d51ac80922f990c8a96b49e9dcc9325d2', 'message': 'Stop testing lower-constraints\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html\n\nChange-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7\n'}]",9,841389,c677192d51ac80922f990c8a96b49e9dcc9325d2,24,4,3,32029,,,0,"Stop testing lower-constraints

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html

Change-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/89/841389/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt']",2,9129b40627527c01017927f6c73498e01f7667d2,drop-l-c,,amqp==2.1.1 appdirs==1.3.0 asn1crypto==0.23.0 Babel==2.6.0 bcrypt==3.2.0 cachetools==2.0.0 cffi==1.14.0 cliff==3.5.0 cmd2==0.8.0 coverage==4.0 cryptography==2.7 ddt==1.0.1 debtcollector==1.2.0 decorator==4.4.1 dogpile.cache==0.6.5 eventlet==0.18.2 extras==1.0.0 fasteners==0.7.0 fixtures==3.0.0 future==0.16.0 futurist==2.1.0 greenlet==0.4.15 importlib-metadata==3.1.1 iso8601==0.1.11 Jinja2==2.10 jmespath==0.9.0 jsonpatch==1.16 jsonpointer==1.13 jsonschema==2.6.0 keystoneauth1==3.18.0 kombu==4.0.0 linecache2==1.0.0 MarkupSafe==1.1.1 mock==4.0.2 monotonic==0.6 mox3==0.20.0 msgpack-python==0.4.0 munch==2.1.0 netaddr==0.7.18 netifaces==0.10.4 openstacksdk==0.61.0 os-client-config==2.1.0 os-service-types==1.7.0 osc-lib==2.3.0 oslo.concurrency==3.26.0 oslo.config==5.2.0 oslo.context==2.19.2 oslo.i18n==3.15.3 oslo.log==3.36.0 oslo.messaging==5.29.0 oslo.middleware==3.31.0 oslo.serialization==2.18.0 oslo.service==1.24.0 oslo.utils==3.33.0 oslotest==3.2.0 osprofiler==1.4.0 paramiko==2.7.1 Paste==2.0.2 PasteDeploy==1.5.0 pbr==2.0.0 pika==0.10.0 pika-pool==0.1.3 prettytable==0.7.2 pycparser==2.18 pyinotify==0.9.6 PyNaCl==1.4.0 pyparsing==2.1.0 pyperclip==1.5.27 python-cinderclient==3.3.0 python-dateutil==2.5.3 python-keystoneclient==3.22.0 python-mimeparse==1.6.0 python-novaclient==17.0.0 python-subunit==1.0.0 pytz==2013.6 PyYAML==3.13 repoze.lru==0.7 requests==2.14.2 requests-mock==1.2.0 requestsexceptions==1.2.0 rfc3986==0.3.1 Routes==2.3.1 simplejson==3.5.1 statsd==3.2.1 stestr==1.0.0 stevedore==2.0.1 tempest==17.1.0 tenacity==3.2.1 testrepository==0.0.18 testtools==2.2.0 traceback2==1.4.0 unittest2==1.1.0 urllib3==1.21.1 vine==1.1.4 WebOb==1.7.1 wrapt==1.7.0 zipp==3.4.0 ,0,98
openstack%2Fkeystone~master~Ifef262cfca4ecb8ad1222da3c43e5749f40c1f24,openstack/keystone,master,Ifef262cfca4ecb8ad1222da3c43e5749f40c1f24,Move fips job to centos-9,MERGED,2022-06-21 18:23:06.000000000,2022-07-01 18:06:11.000000000,2022-07-01 18:01:04.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-21 18:23:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/950dd5e5032afd73527c82c6ce63ee2ad94dc252', 'message': 'Move fips job to centos-9\n\nMove FIPS job to centos 9 and add new required nslookup_target variable.\n\nChange-Id: Ifef262cfca4ecb8ad1222da3c43e5749f40c1f24\n'}]",0,847079,950dd5e5032afd73527c82c6ce63ee2ad94dc252,11,5,1,9914,,,0,"Move fips job to centos-9

Move FIPS job to centos 9 and add new required nslookup_target variable.

Change-Id: Ifef262cfca4ecb8ad1222da3c43e5749f40c1f24
",git fetch https://review.opendev.org/openstack/keystone refs/changes/79/847079/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,950dd5e5032afd73527c82c6ce63ee2ad94dc252,add-dns-target-for-fips, nodeset: devstack-single-node-centos-9-stream Functional testing for a FIPS enabled Centos 9 system vars: nslookup_target: 'opendev.org', nodeset: devstack-single-node-centos-8-stream Functional testing for a FIPS enabled Centos 8 system,4,2
openstack%2Fpython-openstackclient~master~Ie5f3600672953f40be52de51e84717c8912ddaf8,openstack/python-openstackclient,master,Ie5f3600672953f40be52de51e84717c8912ddaf8,image: Make better use of argparse,MERGED,2022-06-30 10:55:42.000000000,2022-07-01 18:04:52.000000000,2022-07-01 18:00:58.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-06-30 10:55:42.000000000', 'files': ['openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4776e0a5ae17c728f9344041f9bf634b3263fcd5', 'message': ""image: Make better use of argparse\n\nSimplify some logic by using a common 'dest' for mutually exclusive\noptions.\n\nChange-Id: Ie5f3600672953f40be52de51e84717c8912ddaf8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,848253,4776e0a5ae17c728f9344041f9bf634b3263fcd5,10,3,1,15334,,,0,"image: Make better use of argparse

Simplify some logic by using a common 'dest' for mutually exclusive
options.

Change-Id: Ie5f3600672953f40be52de51e84717c8912ddaf8
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/53/848253/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/image/v2/image.py']",2,4776e0a5ae17c728f9344041f9bf634b3263fcd5,," dest=""is_protected"", default=None, action=""store_false"", dest=""is_protected"", default=None, action=""store_const"", const=""public"", dest=""visibility"", action=""store_const"", const=""private"", dest=""visibility"", action=""store_const"", const=""community"", dest=""visibility"", action=""store_const"", const=""shared"", dest=""visibility"", if parsed_args.is_protected is not None: kwargs['is_protected'] = parsed_args.is_protected if parsed_args.visibility is not None: kwargs['visibility'] = parsed_args.visibility protected=bool(parsed_args.is_protected), if ( parsed_args.visibility or parsed_args.is_protected is not None ): action=""store_const"", const=""public"", dest=""visibility"", action=""store_const"", const=""private"", dest=""visibility"", action=""store_const"", const=""community"", dest=""visibility"", action=""store_const"", const=""shared"", dest=""visibility"", action=""store_const"", const=""all"", dest=""visibility"", dest='is_hidden', if parsed_args.visibility is not None: kwargs['visibility'] = parsed_args.visibility if parsed_args.is_hidden: kwargs['is_hidden'] = parsed_args.is_hidden dest=""is_protected"", default=None, action=""store_false"", dest=""is_protected"", default=None, action=""store_const"", const=""public"", dest=""visibility"", action=""store_const"", const=""private"", dest=""visibility"", action=""store_const"", const=""community"", dest=""visibility"", action=""store_const"", const=""shared"", dest=""visibility"", dest=f""dead_{deadopt.replace('-', '_')}"", dest=""is_hidden"", dest=""is_hidden"", if getattr(parsed_args, f""dead_{deadopt.replace('-', '_')}"", None): if parsed_args.is_protected is not None: kwargs['is_protected'] = parsed_args.is_protected if parsed_args.visibility is not None: kwargs['visibility'] = parsed_args.visibility if parsed_args.is_hidden is not None: kwargs['is_hidden'] = parsed_args.is_hidden"," action=""store_true"", action=""store_true"", action=""store_true"", action=""store_true"", action=""store_true"", if parsed_args.protected: kwargs['is_protected'] = True if parsed_args.unprotected: kwargs['is_protected'] = False if parsed_args.public: kwargs['visibility'] = 'public' if parsed_args.private: kwargs['visibility'] = 'private' if parsed_args.community: kwargs['visibility'] = 'community' if parsed_args.shared: kwargs['visibility'] = 'shared' protected=bool(parsed_args.protected), if kwargs.get('visibility') or parsed_args.protected: dest=""public"", action=""store_true"", default=False, dest=""private"", action=""store_true"", default=False, dest=""community"", action=""store_true"", default=False, dest=""shared"", action=""store_true"", default=False, dest=""all"", action=""store_true"", default=False, if parsed_args.public: kwargs['visibility'] = 'public' if parsed_args.private: kwargs['visibility'] = 'private' if parsed_args.community: kwargs['visibility'] = 'community' if parsed_args.shared: kwargs['visibility'] = 'shared' if parsed_args.all: kwargs['visibility'] = 'all' if parsed_args.hidden: kwargs['is_hidden'] = True action=""store_true"", action=""store_true"", action=""store_true"", action=""store_true"", action=""store_true"", dest=deadopt.replace('-', '_'), dest='hidden', dest='hidden', if getattr(parsed_args, deadopt.replace('-', '_'), None): if parsed_args.protected: kwargs['is_protected'] = True if parsed_args.unprotected: kwargs['is_protected'] = False if parsed_args.public: kwargs['visibility'] = 'public' if parsed_args.private: kwargs['visibility'] = 'private' if parsed_args.community: kwargs['visibility'] = 'community' if parsed_args.shared: kwargs['visibility'] = 'shared' if parsed_args.hidden is not None: kwargs['is_hidden'] = parsed_args.hidden",116,149
openstack%2Ftempest~master~I5ef9233d9ba2437198bac1357782a9639024dc79,openstack/tempest,master,I5ef9233d9ba2437198bac1357782a9639024dc79,Fix create_server_snapshot for microversion,MERGED,2022-06-30 14:26:12.000000000,2022-07-01 18:03:48.000000000,2022-07-01 18:00:54.000000000,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 15206}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-30 14:26:12.000000000', 'files': ['tempest/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7d2edc2d811d62e224c2336a6d4cfa18e404502c', 'message': 'Fix create_server_snapshot for microversion\n\nLocation returned till microversion 2.44\nimage_id returned from microversion 2.45\n\nAdded support in manager for both\n\nChange-Id: I5ef9233d9ba2437198bac1357782a9639024dc79\n'}]",1,848302,7d2edc2d811d62e224c2336a6d4cfa18e404502c,9,5,1,11075,,,0,"Fix create_server_snapshot for microversion

Location returned till microversion 2.44
image_id returned from microversion 2.45

Added support in manager for both

Change-Id: I5ef9233d9ba2437198bac1357782a9639024dc79
",git fetch https://review.opendev.org/openstack/tempest refs/changes/02/848302/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,7d2edc2d811d62e224c2336a6d4cfa18e404502c,, # microversion 2.45 and above returns image_id image_id = image.get('image_id') or image.response['location'].split( 'images/')[1], image_id = image.response['location'].split('images/')[1],3,1
openstack%2Frally-openstack~master~I853795f4d19b8a6800c77a06ec90d707923ac655,openstack/rally-openstack,master,I853795f4d19b8a6800c77a06ec90d707923ac655,Update gnocchiclient requirement,MERGED,2022-06-28 06:20:14.000000000,2022-07-01 18:02:27.000000000,2022-07-01 18:02:27.000000000,"[{'_account_id': 4264}, {'_account_id': 9545}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-28 06:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/7afdfe02f1ceb8ecd5d5bcad137f0f634e284f5a', 'message': ""Update gnocchiclient requirement\n\nWith [1] gnocchiclient upper constraint updated to 7.0.7,\nand that broke neutron rally jobs as 7.0.7 is blacklisted\nin requirements, in order to fix it let's update the\nrequirement.\n\n[1] https://review.opendev.org/q/If661968a583555ef061e58be8538b12b141e7359\n\nCloses-Bug: #1980055\nChange-Id: I853795f4d19b8a6800c77a06ec90d707923ac655\n""}, {'number': 2, 'created': '2022-06-30 13:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/c256dfd111e9ab10ac38aa4346e36ec90f87dad4', 'message': ""Update gnocchiclient requirement\n\nWith [1] gnocchiclient upper constraint updated to 7.0.7,\nand that broke neutron rally jobs as 7.0.7 is blacklisted\nin requirements, in order to fix it let's update the\nrequirement.\n\n+ temporary turn off broken functional job\n\n[1] https://review.opendev.org/q/If661968a583555ef061e58be8538b12b141e7359\n\nCloses-Bug: #1980055\nChange-Id: I853795f4d19b8a6800c77a06ec90d707923ac655\n""}, {'number': 3, 'created': '2022-07-01 10:33:00.000000000', 'files': ['requirements.txt', '.zuul.d/zuul.yaml', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/3984f97c1c9fd0695bab123da81323e83abac3a3', 'message': ""Update gnocchiclient requirement\n\nWith [1] gnocchiclient upper constraint updated to 7.0.7,\nand that broke neutron rally jobs as 7.0.7 is blacklisted\nin requirements, in order to fix it let's update the\nrequirement.\n\n+ temporary turn off several ci jobs to unblock merging and fix ci issues\n  one by one\n\n[1] https://review.opendev.org/q/If661968a583555ef061e58be8538b12b141e7359\n\nCloses-Bug: #1980055\nChange-Id: I853795f4d19b8a6800c77a06ec90d707923ac655\n""}]",4,847879,3984f97c1c9fd0695bab123da81323e83abac3a3,18,5,3,13861,,,0,"Update gnocchiclient requirement

With [1] gnocchiclient upper constraint updated to 7.0.7,
and that broke neutron rally jobs as 7.0.7 is blacklisted
in requirements, in order to fix it let's update the
requirement.

+ temporary turn off several ci jobs to unblock merging and fix ci issues
  one by one

[1] https://review.opendev.org/q/If661968a583555ef061e58be8538b12b141e7359

Closes-Bug: #1980055
Change-Id: I853795f4d19b8a6800c77a06ec90d707923ac655
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/79/847879/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'upper-constraints.txt']",2,7afdfe02f1ceb8ecd5d5bcad137f0f634e284f5a,bug/1980055,gnocchiclient===7.0.7,gnocchiclient===7.0.6,2,2
openstack%2Fpython-openstackclient~master~Id153c951a7d18403568bf67e13d5e0a4827428d4,openstack/python-openstackclient,master,Id153c951a7d18403568bf67e13d5e0a4827428d4,image: Split image creation depending on service,MERGED,2022-06-30 10:55:42.000000000,2022-07-01 18:01:01.000000000,2022-07-01 18:01:01.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-06-30 10:55:42.000000000', 'files': ['openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/14b93fec761b8de3c6129c93a88d144feba599e8', 'message': ""image: Split image creation depending on service\n\nThe 'image create' operation is actually one of two operations: it can\nbe either an image service (glance) operation if the '--volume' argument\nis *not* passed or a block storage (cinder) operation if it is. Make\nthis clearer and add a log warning users about options that are\nsupported by the former but not the latter.\n\nChange-Id: Id153c951a7d18403568bf67e13d5e0a4827428d4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,848254,14b93fec761b8de3c6129c93a88d144feba599e8,6,2,1,15334,,,0,"image: Split image creation depending on service

The 'image create' operation is actually one of two operations: it can
be either an image service (glance) operation if the '--volume' argument
is *not* passed or a block storage (cinder) operation if it is. Make
this clearer and add a log warning users about options that are
supported by the former but not the latter.

Change-Id: Id153c951a7d18403568bf67e13d5e0a4827428d4
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/54/848254/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/image/v2/image.py'],1,14b93fec761b8de3c6129c93a88d144feba599e8,," def _take_action_image(self, parsed_args): image = image_client.create_image(**kwargs) return _format_image(image) def _take_action_volume(self, parsed_args): volume_client = self.app.client_manager.volume unsupported_opts = { # 'name', # 'name' is a positional argument and will always exist 'id', 'min_disk', 'min_ram', 'file', 'force', 'progress', 'sign_key_path', 'sign_cert_id', 'properties', 'tags', 'project', 'use_import', } for unsupported_opt in unsupported_opts: if getattr(parsed_args, unsupported_opt, None): opt_name = unsupported_opt.replace('-', '_') if unsupported_opt == 'use_import': opt_name = 'import' msg = _( ""'--%s' was given, which is not supported when "" ""creating an image from a volume. "" ""This will be an error in a future version."" # TODO(stephenfin): These should be an error in a future # version LOG.warning(msg % opt_name) source_volume = utils.find_resource( volume_client.volumes, parsed_args.volume, ) kwargs = {} if volume_client.api_version < api_versions.APIVersion('3.1'): if ( parsed_args.visibility or parsed_args.is_protected is not None ): msg = _( '--os-volume-api-version 3.1 or greater is required ' 'to support the --public, --private, --community, ' '--shared or --protected option.' ) raise exceptions.CommandError(msg) else: kwargs.update( visibility=parsed_args.visibility or 'private', protected=parsed_args.is_protected or False, ) response, body = volume_client.volumes.upload_to_image( source_volume.id, parsed_args.force, parsed_args.name, parsed_args.container_format, parsed_args.disk_format, **kwargs ) info = body['os-volume_upload_image'] try: info['volume_type'] = info['volume_type']['name'] except TypeError: info['volume_type'] = None return info def take_action(self, parsed_args): for deadopt in self.deadopts: if getattr(parsed_args, deadopt.replace('-', '_'), None): msg = _( ""ERROR: --%s was given, which is an Image v1 option "" ""that is no longer supported in Image v2"" ) raise exceptions.CommandError(msg % deadopt) if parsed_args.volume: info = self._take_action_volume(parsed_args) else: info = self._take_action_image(parsed_args)"," def take_action(self, parsed_args): for deadopt in self.deadopts: if getattr(parsed_args, deadopt.replace('-', '_'), None): msg = _( ""ERROR: --%s was given, which is an Image v1 option "" ""that is no longer supported in Image v2"" ) raise exceptions.CommandError(msg % deadopt) info = {} # If a volume is specified. if parsed_args.volume: volume_client = self.app.client_manager.volume source_volume = utils.find_resource( volume_client.volumes, parsed_args.volume, ) mv_kwargs = {} if volume_client.api_version >= api_versions.APIVersion('3.1'): mv_kwargs.update( visibility=kwargs.get('visibility', 'private'), protected=bool(parsed_args.is_protected), else: if ( parsed_args.visibility or parsed_args.is_protected is not None ): msg = _( '--os-volume-api-version 3.1 or greater is required ' 'to support the --public, --private, --community, ' '--shared or --protected option.' ) raise exceptions.CommandError(msg) response, body = volume_client.volumes.upload_to_image( source_volume.id, parsed_args.force, parsed_args.name, parsed_args.container_format, parsed_args.disk_format, **mv_kwargs ) info = body['os-volume_upload_image'] try: info['volume_type'] = info['volume_type']['name'] except TypeError: info['volume_type'] = None else: image = image_client.create_image(**kwargs) if not info: info = _format_image(image)",83,49
openstack%2Fkeystone~master~I185420e6d16276e7d184146f6a38b098abc00b25,openstack/keystone,master,I185420e6d16276e7d184146f6a38b098abc00b25,tests: Don't monkeypatch functions,MERGED,2022-06-20 12:30:09.000000000,2022-07-01 17:21:46.000000000,2022-07-01 17:18:49.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-20 12:30:09.000000000', 'files': ['keystone/tests/unit/test_cli.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0916df35f9d391639d935d89f28554852fdf07be', 'message': ""tests: Don't monkeypatch functions\n\nWe were inadvertently monkeypatching a variety of functions in\n'keystone.common.sql.upgrades'. We should be configuring mocks for these\nthat we teardown at the end of the test. This has been an issue since we\nfirst added these tests way back in change\nI9f138fe0bcbf5ffbb98e6fcebd7d897329a301b7. Fix it now.\n\nChange-Id: I185420e6d16276e7d184146f6a38b098abc00b25\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nSuggested-by: Mike Bayer <mike_mp@zzzcomputing.com>\n""}]",0,846612,0916df35f9d391639d935d89f28554852fdf07be,12,5,1,15334,,,0,"tests: Don't monkeypatch functions

We were inadvertently monkeypatching a variety of functions in
'keystone.common.sql.upgrades'. We should be configuring mocks for these
that we teardown at the end of the test. This has been an issue since we
first added these tests way back in change
I9f138fe0bcbf5ffbb98e6fcebd7d897329a301b7. Fix it now.

Change-Id: I185420e6d16276e7d184146f6a38b098abc00b25
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Suggested-by: Mike Bayer <mike_mp@zzzcomputing.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/12/846612/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_cli.py'],1,0916df35f9d391639d935d89f28554852fdf07be,bp/remove-sqlalchemy-migrate," super().setUp() self.patchers = patchers = [ mock.patch.object(upgrades, ""offline_sync_database_to_version""), mock.patch.object(upgrades, ""expand_schema""), mock.patch.object(upgrades, ""migrate_data""), mock.patch.object(upgrades, ""contract_schema""), ] for p in patchers: p.start() def tearDown(self): for p in self.patchers: p.stop() super().tearDown() "," super(CliDBSyncTestCase, self).setUp() upgrades.offline_sync_database_to_version = mock.Mock() upgrades.expand_schema = mock.Mock() upgrades.migrate_data = mock.Mock() upgrades.contract_schema = mock.Mock()",15,5
openstack%2Fkeystone~master~I2165710ee83dad12ddd795b665ecac6c8bd42a93,openstack/keystone,master,I2165710ee83dad12ddd795b665ecac6c8bd42a93,sql: Don't create a new connection in migrations,MERGED,2022-06-17 13:38:33.000000000,2022-07-01 17:20:35.000000000,2022-07-01 17:18:46.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 13:38:33.000000000', 'files': ['keystone/common/sql/migrations/versions/27e647c0fad4_initial_version.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c4f2e2e1db55172aeb5e3a610d3b6ec0df4383d5', 'message': ""sql: Don't create a new connection in migrations\n\nWe can use the existing connection. No need to create a new one.\n\nChange-Id: I2165710ee83dad12ddd795b665ecac6c8bd42a93\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,846367,c4f2e2e1db55172aeb5e3a610d3b6ec0df4383d5,12,5,1,15334,,,0,"sql: Don't create a new connection in migrations

We can use the existing connection. No need to create a new one.

Change-Id: I2165710ee83dad12ddd795b665ecac6c8bd42a93
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/67/846367/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/sql/migrations/versions/27e647c0fad4_initial_version.py'],1,c4f2e2e1db55172aeb5e3a610d3b6ec0df4383d5,remove-sqlalchemy-migrate," project = sql.Table('project', meta, autoload_with=bind)"," project = sql.Table('project', meta, autoload_with=bind.engine)",1,1
openstack%2Fos-brick~stable%2Fxena~Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58,openstack/os-brick,stable/xena,Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58,Fix encryption symlink issues,MERGED,2022-06-17 11:46:34.000000000,2022-07-01 16:48:04.000000000,2022-07-01 16:46:47.000000000,"[{'_account_id': 4523}, {'_account_id': 9535}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-06-17 11:46:34.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/privileged/rootwrap.py', 'os_brick/tests/privileged/test_rootwrap.py', 'os_brick/tests/test_utils.py', 'releasenotes/notes/encryption-a642889a82ff9207.yaml', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/initiator_connector.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/utils.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/initiator/connectors/rbd.py', 'os_brick/initiator/connectors/storpool.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b31b109f0f95c0102300bbda15b011f3623a2873', 'message': 'Fix encryption symlink issues\n\nThis patch fixes 2 issues related to the symlinks, or lack of, that\nconnectors\' connect_volume methods return.\n\nSome connectors always return the block device instead of a symlink for\nencrypted volumes, and other connectors return a symlink that is owned\nby the system\'s udev rules.  Both cases are problematic\n\nReturning the real device can prevent the encryptor connect_volume to\ncomplete successfully, and in other cases (such as nvmeof) it completes,\nbut on the connector\'s disconnect volume it will leave the device behind\n(i.e., /dev/nvme0n1) preventing new connections that would use that same\ndevice name.\n\nReturning a symlink owned by the system\'s udev rules means that they can\nbe reclaimed by those rules at any time.  This can happen with\ncryptsetup, because when it creates a new mapping it triggers udev rules\nfor the device that can reclaim the symlink after os-brick has replaced\nit.\n\nThis patch creates a couple of decorators to facilitate this for all\nconnectors. These decorators transform the paths so that the callers\ngets the expected symlink, but the connector doesn\'t need to worry about\nit and will always see the value it returns regardless of what symlink\nthe caller gets.\n\nFrom this moment onwards we use our own custom symlink that starts with\n""/dev/disk/by-id/os-brick"".\n\nThe patch fixes bugs in other connectors (such as the RBD local\nconnection), but since there are no open bugs they have not been\nreported.\n\nCloses-Bug: #1964379\nCloses-Bug: #1967790\nChange-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58\n(cherry picked from commit 1583a5038d34fd560b554e0eee5c1c5a7612722f)\n(cherry picked from commit 0bd5dc99152261d1d59ecb788faf4aea3e299edd)\nConflicts:\n\tos_brick/initiator/connectors/lightos.py\n\tos_brick/utils.py\n'}]",1,846343,b31b109f0f95c0102300bbda15b011f3623a2873,13,6,1,9535,,,0,"Fix encryption symlink issues

This patch fixes 2 issues related to the symlinks, or lack of, that
connectors' connect_volume methods return.

Some connectors always return the block device instead of a symlink for
encrypted volumes, and other connectors return a symlink that is owned
by the system's udev rules.  Both cases are problematic

Returning the real device can prevent the encryptor connect_volume to
complete successfully, and in other cases (such as nvmeof) it completes,
but on the connector's disconnect volume it will leave the device behind
(i.e., /dev/nvme0n1) preventing new connections that would use that same
device name.

Returning a symlink owned by the system's udev rules means that they can
be reclaimed by those rules at any time.  This can happen with
cryptsetup, because when it creates a new mapping it triggers udev rules
for the device that can reclaim the symlink after os-brick has replaced
it.

This patch creates a couple of decorators to facilitate this for all
connectors. These decorators transform the paths so that the callers
gets the expected symlink, but the connector doesn't need to worry about
it and will always see the value it returns regardless of what symlink
the caller gets.

From this moment onwards we use our own custom symlink that starts with
""/dev/disk/by-id/os-brick"".

The patch fixes bugs in other connectors (such as the RBD local
connection), but since there are no open bugs they have not been
reported.

Closes-Bug: #1964379
Closes-Bug: #1967790
Change-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58
(cherry picked from commit 1583a5038d34fd560b554e0eee5c1c5a7612722f)
(cherry picked from commit 0bd5dc99152261d1d59ecb788faf4aea3e299edd)
Conflicts:
	os_brick/initiator/connectors/lightos.py
	os_brick/utils.py
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/43/846343/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/privileged/rootwrap.py', 'os_brick/tests/privileged/test_rootwrap.py', 'os_brick/tests/test_utils.py', 'releasenotes/notes/encryption-a642889a82ff9207.yaml', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/initiator_connector.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/utils.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/initiator/connectors/rbd.py', 'os_brick/initiator/connectors/storpool.py']",16,b31b109f0f95c0102300bbda15b011f3623a2873,xena-symlink,from os_brick import utils @utils.connect_volume_prepare_result @utils.connect_volume_undo_prepare_result(unlink_after=True) @utils.connect_volume_undo_prepare_result,,567,184
openstack%2Foctavia~stable%2Fvictoria~I433e074c2eac5f6875ee5dace8faf86969b24f66,openstack/octavia,stable/victoria,I433e074c2eac5f6875ee5dace8faf86969b24f66,Fix potential race conditions on update requests in the v2 worker,MERGED,2022-04-29 06:45:54.000000000,2022-07-01 16:33:29.000000000,2022-07-01 16:31:54.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-04-29 06:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a87be7947d5b183ebcb2ccaf8923f74990d39be0', 'message': 'Fix potential race conditions on update requests in the v2 worker\n\nThe v2 worker was not waiting for a resource to be set to PENDING_UPDATE\nbefore updating it effectively. In some circumstances (loaded\nserver/slow DB for instance), the resources may have been updated with\nold data from the DB, resulting in a no-op update.\n\nThis wait for a PENDING_UPDATE state exists in amphorav1 but it was not\nmoved to v2 when we switched the logic from the DB-based objects to\ndict-based objects.\n\nStory 2009887\nTask 44645\nStory 2009985\nTask 45032\n\nChange-Id: I433e074c2eac5f6875ee5dace8faf86969b24f66\n(cherry picked from commit 6042de759db557f421482d22185c5e5075511417)\n(cherry picked from commit c31051b3881b80ec706161c92a3929e8cc9d3d18)\n(cherry picked from commit 0e4efed23cb688867025a866565e371f8fc477ca)\n(cherry picked from commit 331b11c10532b097829808c3a18382abff56ed45)\n'}, {'number': 2, 'created': '2022-06-24 09:59:54.000000000', 'files': ['releasenotes/notes/fix-race-condiction-on-update-b5330c8fcf1800cd.yaml', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2376784895d41be62eff8e5fef460e0d69eb16ef', 'message': 'Fix potential race conditions on update requests in the v2 worker\n\nThe v2 worker was not waiting for a resource to be set to PENDING_UPDATE\nbefore updating it effectively. In some circumstances (loaded\nserver/slow DB for instance), the resources may have been updated with\nold data from the DB, resulting in a no-op update.\n\nThis wait for a PENDING_UPDATE state exists in amphorav1 but it was not\nmoved to v2 when we switched the logic from the DB-based objects to\ndict-based objects.\n\nNote for stable/victoria: this backport also contains [0] which improves\ncode coverage.\n\n[0] I403e1861b1b51c07edad35c64ffac22167342c88\n\nStory 2009887\nTask 44645\nStory 2009985\nTask 45032\n\nChange-Id: I433e074c2eac5f6875ee5dace8faf86969b24f66\n(cherry picked from commit 6042de759db557f421482d22185c5e5075511417)\n(cherry picked from commit c31051b3881b80ec706161c92a3929e8cc9d3d18)\n(cherry picked from commit 0e4efed23cb688867025a866565e371f8fc477ca)\n(cherry picked from commit 331b11c10532b097829808c3a18382abff56ed45)\n'}]",3,839857,2376784895d41be62eff8e5fef460e0d69eb16ef,15,4,2,29244,,,0,"Fix potential race conditions on update requests in the v2 worker

The v2 worker was not waiting for a resource to be set to PENDING_UPDATE
before updating it effectively. In some circumstances (loaded
server/slow DB for instance), the resources may have been updated with
old data from the DB, resulting in a no-op update.

This wait for a PENDING_UPDATE state exists in amphorav1 but it was not
moved to v2 when we switched the logic from the DB-based objects to
dict-based objects.

Note for stable/victoria: this backport also contains [0] which improves
code coverage.

[0] I403e1861b1b51c07edad35c64ffac22167342c88

Story 2009887
Task 44645
Story 2009985
Task 45032

Change-Id: I433e074c2eac5f6875ee5dace8faf86969b24f66
(cherry picked from commit 6042de759db557f421482d22185c5e5075511417)
(cherry picked from commit c31051b3881b80ec706161c92a3929e8cc9d3d18)
(cherry picked from commit 0e4efed23cb688867025a866565e371f8fc477ca)
(cherry picked from commit 331b11c10532b097829808c3a18382abff56ed45)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/57/839857/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-race-condiction-on-update-b5330c8fcf1800cd.yaml', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py']",3,a87be7947d5b183ebcb2ccaf8923f74990d39be0,," try: db_lb = self._get_db_obj_until_pending_update( self._lb_repo, listener[constants.LOADBALANCER_ID]) except tenacity.RetryError as e: LOG.warning('Loadbalancer did not go into %s in 60 seconds. ' 'This either due to an in-progress Octavia upgrade ' 'or an overloaded and failing database. Assuming ' 'an upgrade is in progress and continuing.', constants.PENDING_UPDATE) db_lb = e.last_attempt.result() try: self._get_db_obj_until_pending_update( self._lb_repo, original_load_balancer[constants.LOADBALANCER_ID]) except tenacity.RetryError: LOG.warning('Load balancer did not go into %s in 60 seconds. ' 'This either due to an in-progress Octavia upgrade ' 'or an overloaded and failing database. Assuming ' 'an upgrade is in progress and continuing.', constants.PENDING_UPDATE) @tenacity.retry( retry=tenacity.retry_if_exception_type(db_exceptions.NoResultFound), wait=tenacity.wait_incrementing( CONF.haproxy_amphora.api_db_commit_retry_initial_delay, CONF.haproxy_amphora.api_db_commit_retry_backoff, CONF.haproxy_amphora.api_db_commit_retry_max), stop=tenacity.stop_after_attempt( CONF.haproxy_amphora.api_db_commit_retry_attempts)) db_new_members = [self._member_repo.get(db_apis.get_session(), id=member[constants.MEMBER_ID]) for member in new_members] # The API may not have commited all of the new member records yet. # Make sure we retry looking them up. if None in db_new_members or len(db_new_members) != len(new_members): LOG.warning('Failed to fetch one of the new members from DB. ' 'Retrying for up to 60 seconds.') raise db_exceptions.NoResultFound try: db_member = self._get_db_obj_until_pending_update( self._member_repo, member[constants.MEMBER_ID]) except tenacity.RetryError as e: LOG.warning('Member did not go into %s in 60 seconds. ' 'This either due to an in-progress Octavia upgrade ' 'or an overloaded and failing database. Assuming ' 'an upgrade is in progress and continuing.', constants.PENDING_UPDATE) db_member = e.last_attempt.result() pool = db_member.pool try: db_l7policy = self._get_db_obj_until_pending_update( self._l7policy_repo, original_l7policy[constants.L7POLICY_ID]) except tenacity.RetryError as e: LOG.warning('L7 policy did not go into %s in 60 seconds. ' 'This either due to an in-progress Octavia upgrade ' 'or an overloaded and failing database. Assuming ' 'an upgrade is in progress and continuing.', constants.PENDING_UPDATE) db_l7policy = e.last_attempt.result() db_listener = db_l7policy.listener try: db_l7rule = self._get_db_obj_until_pending_update( self._l7rule_repo, original_l7rule[constants.L7RULE_ID]) except tenacity.RetryError as e: LOG.warning('L7 rule did not go into %s in 60 seconds. ' 'This either due to an in-progress Octavia upgrade ' 'or an overloaded and failing database. Assuming ' 'an upgrade is in progress and continuing.', constants.PENDING_UPDATE) db_l7rule = e.last_attempt.result() db_l7policy = db_l7rule.l7policy"," db_lb = self._lb_repo.get(db_apis.get_session(), id=listener[constants.LOADBALANCER_ID]) # TODO(ataraday) when other flows will use dicts - revisit this pool = self._pool_repo.get(db_apis.get_session(), id=member[constants.POOL_ID]) db_listener = self._listener_repo.get( db_apis.get_session(), id=original_l7policy[constants.LISTENER_ID]) db_l7policy = self._l7policy_repo.get( db_apis.get_session(), id=original_l7rule[constants.L7POLICY_ID])",96,10
openstack%2Fneutron~master~Ic79ad0f8e7fa1d55328e2315d87a3950fdb82258,openstack/neutron,master,Ic79ad0f8e7fa1d55328e2315d87a3950fdb82258,[sqlalchemy-20] Add the needed DB context decorators in ``ml2.plugin``,MERGED,2022-07-01 09:14:21.000000000,2022-07-01 16:27:19.000000000,2022-07-01 13:48:33.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 09:14:21.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3f711e7f6cf644dd616e7b241c2c6fe90a73fc8', 'message': '[sqlalchemy-20] Add the needed DB context decorators in ``ml2.plugin``\n\nThe method ""_handle_segment_change"" was handling the network DB object\noutside a DB writer context.\n\nCloses-Bug: #1980346\nRelated-Bug: #1976357\nChange-Id: Ic79ad0f8e7fa1d55328e2315d87a3950fdb82258\n'}]",5,848396,d3f711e7f6cf644dd616e7b241c2c6fe90a73fc8,13,6,1,16688,,,0,"[sqlalchemy-20] Add the needed DB context decorators in ``ml2.plugin``

The method ""_handle_segment_change"" was handling the network DB object
outside a DB writer context.

Closes-Bug: #1980346
Related-Bug: #1976357
Change-Id: Ic79ad0f8e7fa1d55328e2315d87a3950fdb82258
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/848396/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,d3f711e7f6cf644dd616e7b241c2c6fe90a73fc8,bug/1980346," with db_api.CONTEXT_WRITER.using(context): network_db = self._get_network(context, network_id) network_db.mtu = self._get_network_mtu( network_db, validate=(event != events.PRECOMMIT_DELETE)) network_db.save(session=context.session)"," network_db = self._get_network(context, network_id) network_db.mtu = self._get_network_mtu( network_db, validate=(event != events.PRECOMMIT_DELETE)) network_db.save(session=context.session)",6,5
openstack%2Fkeystone~master~I150b8fa19d4ec1582234caa4c25db905e6403590,openstack/keystone,master,I150b8fa19d4ec1582234caa4c25db905e6403590,Ignore UserWarning for scope checks during test runs,MERGED,2022-06-17 13:38:33.000000000,2022-07-01 16:21:23.000000000,2022-07-01 16:19:42.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 13:38:33.000000000', 'files': ['keystone/tests/unit/ksfixtures/warnings.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/30fa47f98ade92a38715ae8fffa4ce6a6d73c962', 'message': ""Ignore UserWarning for scope checks during test runs\n\nKeystone's API policy rules are defaulting to system scope. Scope checks\nare disabled by default in oslo.policy, but if you hit the API with a\ntoken that doesn't match the scope, it generates a UserWarning, for\nevery policy check on that request. This is pretty annoying, so just\nfilter those warnings during our test runs.\n\nChange-Id: I150b8fa19d4ec1582234caa4c25db905e6403590\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",2,846366,30fa47f98ade92a38715ae8fffa4ce6a6d73c962,15,5,1,15334,,,0,"Ignore UserWarning for scope checks during test runs

Keystone's API policy rules are defaulting to system scope. Scope checks
are disabled by default in oslo.policy, but if you hit the API with a
token that doesn't match the scope, it generates a UserWarning, for
every policy check on that request. This is pretty annoying, so just
filter those warnings during our test runs.

Change-Id: I150b8fa19d4ec1582234caa4c25db905e6403590
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/66/846366/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/ksfixtures/warnings.py'],1,30fa47f98ade92a38715ae8fffa4ce6a6d73c962,remove-sqlalchemy-migrate," warnings.filterwarnings( 'ignore', message=( 'Policy enforcement is depending on the value of ' '(token|group_ids). ' 'This key is deprecated. Please update your policy ' 'file to use the standard policy values.' ), ) # NOTE(stephenfin): Ignore scope check UserWarnings from oslo.policy. warnings.filterwarnings( 'ignore', message=""Policy .* failed scope check"", category=UserWarning, ) ",,17,0
openstack%2Fnetworking-sfc~master~I85dd616efbd93bef6b3e099f328576c04c09d5ef,openstack/networking-sfc,master,I85dd616efbd93bef6b3e099f328576c04c09d5ef,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:29:23.000000000,2022-07-01 16:09:07.000000000,2022-07-01 16:06:07.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-05-01 01:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/e783fbc22ce420526daa4058a6f05625a183730e', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I85dd616efbd93bef6b3e099f328576c04c09d5ef\n'}, {'number': 2, 'created': '2022-07-01 10:16:26.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/b1ad8c7ebc8104f5f5b959d8946a3d91bea4273b', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I85dd616efbd93bef6b3e099f328576c04c09d5ef\n'}]",6,840096,b1ad8c7ebc8104f5f5b959d8946a3d91bea4273b,25,4,2,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I85dd616efbd93bef6b3e099f328576c04c09d5ef
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/96/840096/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini']",4,e783fbc22ce420526daa4058a6f05625a183730e,drop-l-c,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,4,156
openstack%2Fneutron~master~I3a9f665653c3e2a5f75175867a45391e6ad01176,openstack/neutron,master,I3a9f665653c3e2a5f75175867a45391e6ad01176,[FT] Run all .*MySQL and .*PostgreSQL tests in an isolated thread,MERGED,2022-06-29 15:07:09.000000000,2022-07-01 16:04:09.000000000,2022-07-01 16:02:18.000000000,"[{'_account_id': 8313}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-29 15:07:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3ce69b9465c734d25d1d96c8cb7103834d03dac', 'message': '[FT] Run all .*MySQL and .*PostgreSQL tests in an isolated thread\n\nSimilar to [1], this patch moves the PostgreSQL tests to a second\ntest execution step, where all tests are executed with one single\nworker, avoiding any parallel execution on the SQL tests.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/834746\n\nCloses-Bug: #1980127\nRelated-Bug: #1962594\nChange-Id: I3a9f665653c3e2a5f75175867a45391e6ad01176\n'}]",2,848146,d3ce69b9465c734d25d1d96c8cb7103834d03dac,17,3,1,16688,,,0,"[FT] Run all .*MySQL and .*PostgreSQL tests in an isolated thread

Similar to [1], this patch moves the PostgreSQL tests to a second
test execution step, where all tests are executed with one single
worker, avoiding any parallel execution on the SQL tests.

[1]https://review.opendev.org/c/openstack/neutron/+/834746

Closes-Bug: #1980127
Related-Bug: #1962594
Change-Id: I3a9f665653c3e2a5f75175867a45391e6ad01176
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/848146/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d3ce69b9465c734d25d1d96c8cb7103834d03dac,bug/1980127, stestr run --exclude-regex (.*MySQL\.|.*PostgreSQL\.) {posargs} stestr run --combine --concurrency 1 (.*MySQL\.|.*PostgreSQL\.) {posargs}, stestr run --group-regex .*PostgreSQL\. --exclude-regex .*MySQL\. {posargs} stestr run --combine --concurrency 1 .*MySQL\. {posargs},2,2
openstack%2Fpython-openstackclient~master~I35b7b8a80609916eb47357af4398789788d66382,openstack/python-openstackclient,master,I35b7b8a80609916eb47357af4398789788d66382,image: Trivial style changes,MERGED,2022-06-30 10:55:42.000000000,2022-07-01 15:41:23.000000000,2022-07-01 15:39:50.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-06-30 10:55:42.000000000', 'files': ['openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2290b38ab3d02ca67d6c2177fa9521720d48b0f0', 'message': 'image: Trivial style changes\n\nChange-Id: I35b7b8a80609916eb47357af4398789788d66382\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,848252,2290b38ab3d02ca67d6c2177fa9521720d48b0f0,8,2,1,15334,,,0,"image: Trivial style changes

Change-Id: I35b7b8a80609916eb47357af4398789788d66382
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/52/848252/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/image/v2/image.py'],1,2290b38ab3d02ca67d6c2177fa9521720d48b0f0,,"DISK_CHOICES = [ ""ami"", ""ari"", ""aki"", ""vhd"", ""vmdk"", ""raw"", ""qcow2"", ""vhdx"", ""vdi"", ""iso"", ""ploop"", ] fields_to_show = [ 'status', 'name', 'container_format', 'created_at', 'size', 'disk_format', 'updated_at', 'visibility', 'min_disk', 'protected', 'id', 'file', 'checksum', 'owner', 'virtual_size', 'min_ram', 'schema', ] column_map = {'image_id': 'image_id'} item.to_dict(), column_map, hidden_columns, parser = super().get_parser(prog_name) parsed_args.project_domain, ).id image = image_client.find_image( parsed_args.image, ignore_missing=False ) parser = super().get_parser(prog_name) help=( _( ""Image container format. "" ""The default format is: %(default_opt)s"" ) % { 'option_list': ', '.join(CONTAINER_CHOICES), 'default_opt': DEFAULT_CONTAINER_FORMAT, } ), help=_( ""Image disk format. The supported options are: %s. "" ""The default format is: raw"" ) % ', '.join(DISK_CHOICES), help=_( ""Force image creation if volume is in use "" ""(only meaningful with --volume)"" ), help=_( ""Sign the image using the specified private key. "" ""Only use in combination with --sign-cert-id"" ), help=_( ""The specified certificate UUID is a reference to "" ""the certificate in the key manager that corresponds "" ""to the public key and is used for signature validation. "" ""Only use in combination with --sign-key-path"" ), help=_( ""Set a property on this image "" ""(repeat option to set multiple properties)"" ), help=_( ""Set a tag on this image "" ""(repeat option to set multiple tags)"" ), ""Force the use of glance image import instead of direct upload"" ), msg = _( ""ERROR: --%s was given, which is an Image v1 option "" ""that is no longer supported in Image v2"" ) raise exceptions.CommandError(msg % deadopt) copy_attrs = ( 'name', 'id', 'container_format', 'disk_format', 'min_disk', 'min_ram', 'tags', 'visibility', ) fp, fname = get_data_file(parsed_args) msg = _( ""Uploading data and using container are not allowed at "" ""the same time"" ) raise exceptions.CommandError(msg) msg = _( ""signing an image requires the --file option, "" ""passing files via stdin when signing is not "" ""supported."" ) if ( len(parsed_args.sign_key_path) < 1 or len(parsed_args.sign_cert_id) < 1 ): msg = _( ""'sign-key-path' and 'sign-cert-id' must both be "" ""specified when attempting to sign an image."" ) sign_key_path = parsed_args.sign_key_path sign_cert_id = parsed_args.sign_cert_id signer = image_signer.ImageSigner() try: pw = utils.get_password( self.app.stdin, prompt=( ""Please enter private key password, leave "" ""empty if none: "" ), confirm=False, ) if not pw or len(pw) < 1: pw = None else: # load_private_key() requires the password to be # passed as bytes pw = pw.encode() signer.load_private_key(sign_key_path, password=pw) except Exception: msg = _( ""Error during sign operation: private key "" ""could not be loaded."" ) raise exceptions.CommandError(msg) signature = signer.generate_signature(fp) signature_b64 = b64encode(signature) kwargs['img_signature'] = signature_b64 kwargs['img_signature_certificate_uuid'] = sign_cert_id kwargs['img_signature_hash_method'] = signer.hash_method if signer.padding_method: kwargs['img_signature_key_type'] = signer.padding_method protected=bool(parsed_args.protected), parser = super().get_parser(prog_name) image_obj = image_client.find_image( image, ignore_missing=False ) msg = _( ""Failed to delete image with name or "" ""ID '%(image)s': %(e)s"" ) LOG.error(msg, {'image': image, 'e': e}) if del_result > 0: msg = _(""Failed to delete %(dresult)s of %(total)s images."") % { 'dresult': del_result, 'total': total, } parser = super().get_parser(prog_name) help=_( 'Filter output based on property ' '(repeat option to filter on multiple properties)' ), help=_(""Filter images based on name.""), help=_(""Filter images based on status.""), help=( _( ""Filter images based on member status. "" ""The supported options are: %s. "" ) % ', '.join(MEMBER_STATUS_CHOICES) ), help=_(""Search by project (admin only) (name or ID)""), help=_( 'Filter images based on tag. ' '(repeat option to filter on multiple tags)' ), help=_( ""Sort output by selected keys and directions (asc or desc) "" ""(default: name:asc), multiple keys and directions can be "" ""specified separated by comma"" ), help=_( ""The last image of the previous page. Display "" ""list of images after marker. Display all images if not "" ""specified. (name or ID)"" ), ( utils.get_item_properties( s, columns, formatters=_formatters, ) for s in data ), parser = super().get_parser(prog_name) columns = (""Image ID"", ""Member ID"", ""Status"") return ( columns, ( utils.get_item_properties( s, columns, ) for s in data ), ) parser = super().get_parser(prog_name) project_id = common.find_project( identity_client, parsed_args.project, parsed_args.project_domain ).id image = image_client.find_image( parsed_args.image, ignore_missing=False ) image_client.remove_member(member=project_id, image=image.id) parser = super().get_parser(prog_name) parser = super().get_parser(prog_name) ""image"", metavar=""<image>"", help=_(""Image to modify (name or ID)"") ""--name"", metavar=""<name>"", help=_(""New image name"") help=_(""Minimum disk size needed to boot image, in gigabytes""), help=_(""Image container format. The supported options are: %s"") % ', '.join(CONTAINER_CHOICES), help=_(""Image disk format. The supported options are: %s"") % ', '.join(DISK_CHOICES), help=_( ""Set a property on this image "" ""(repeat option to set multiple properties)"" ), help=_( ""Set a tag on this image "" ""(repeat option to set multiple tags)"" ), _( ""ERROR: --%s was given, which is an Image v1 option"" "" that is no longer supported in Image v2"" ) % deadopt ) parsed_args.image, ignore_missing=False, copy_attrs = ( 'architecture', 'container_format', 'disk_format', 'file', 'instance_id', 'kernel_id', 'locations', 'min_disk', 'min_ram', 'name', 'os_distro', 'os_version', 'prefix', 'progress', 'ramdisk_id', 'tags', 'visibility', ) LOG.info( _(""Image %(id)s was %(status)s.""), {'id': image.id, 'status': activation_status}, ) parser = super().get_parser(prog_name) image = image_client.find_image( parsed_args.image, ignore_missing=False ) parser = super().get_parser(prog_name) help=_( ""Unset a tag on this image "" ""(repeat option to unset multiple tags)"" ), help=_( ""Unset a property on this image "" ""(repeat option to unset multiple properties)"" ), image = image_client.find_image( parsed_args.image, ignore_missing=False ) LOG.error( _(""tag unset failed, '%s' is a "" ""nonexistent tag ""), k ) new_props = kwargs.get( 'properties', image.get('properties').copy() ) LOG.error( _( ""property unset failed, '%s' is a "" ""nonexistent property "" ), k, ) image_client.update_image(image, **kwargs) if tagret > 0 and propret > 0: msg = _( ""Failed to unset %(tagret)s of %(tagtotal)s tags,"" ""Failed to unset %(propret)s of %(proptotal)s properties."" ) % { 'tagret': tagret, 'tagtotal': tagtotal, 'propret': propret, 'proptotal': proptotal, } msg = _(""Failed to unset %(tagret)s of %(tagtotal)s tags."") % { 'tagret': tagret, 'tagtotal': tagtotal, } msg = _( ""Failed to unset %(propret)s of %(proptotal)s"" "" properties."" ) % {'propret': propret, 'proptotal': proptotal}","DISK_CHOICES = [""ami"", ""ari"", ""aki"", ""vhd"", ""vmdk"", ""raw"", ""qcow2"", ""vhdx"", ""vdi"", ""iso"", ""ploop""] fields_to_show = ['status', 'name', 'container_format', 'created_at', 'size', 'disk_format', 'updated_at', 'visibility', 'min_disk', 'protected', 'id', 'file', 'checksum', 'owner', 'virtual_size', 'min_ram', 'schema'] column_map = { 'image_id': 'image_id' } item.to_dict(), column_map, hidden_columns, parser = super(AddProjectToImage, self).get_parser(prog_name) parsed_args.project_domain).id image = image_client.find_image(parsed_args.image, ignore_missing=False) parser = super(CreateImage, self).get_parser(prog_name) help=(_(""Image container format. "" ""The default format is: %(default_opt)s"") % {'option_list': ', '.join(CONTAINER_CHOICES), 'default_opt': DEFAULT_CONTAINER_FORMAT}) help=_(""Image disk format. The supported options are: %s. "" ""The default format is: raw"") % ', '.join(DISK_CHOICES) help=_(""Force image creation if volume is in use "" ""(only meaningful with --volume)""), help=_(""Sign the image using the specified private key. "" ""Only use in combination with --sign-cert-id"") help=_(""The specified certificate UUID is a reference to "" ""the certificate in the key manager that corresponds "" ""to the public key and is used for signature validation. "" ""Only use in combination with --sign-key-path"") help=_(""Set a property on this image "" ""(repeat option to set multiple properties)""), help=_(""Set a tag on this image "" ""(repeat option to set multiple tags)""), ""Force the use of glance image import instead of"" "" direct upload"") raise exceptions.CommandError( _(""ERROR: --%s was given, which is an Image v1 option"" "" that is no longer supported in Image v2"") % deadopt) copy_attrs = ('name', 'id', 'container_format', 'disk_format', 'min_disk', 'min_ram', 'tags', 'visibility') (fp, fname) = get_data_file(parsed_args) raise exceptions.CommandError(_(""Uploading data and using "" ""container are not allowed at "" ""the same time"")) msg = (_(""signing an image requires the --file option, "" ""passing files via stdin when signing is not "" ""supported."")) if (len(parsed_args.sign_key_path) < 1 or len(parsed_args.sign_cert_id) < 1): msg = (_(""'sign-key-path' and 'sign-cert-id' must both be "" ""specified when attempting to sign an image."")) else: sign_key_path = parsed_args.sign_key_path sign_cert_id = parsed_args.sign_cert_id signer = image_signer.ImageSigner() try: pw = utils.get_password( self.app.stdin, prompt=(""Please enter private key password, leave "" ""empty if none: ""), confirm=False) if not pw or len(pw) < 1: pw = None else: # load_private_key() requires the password to be # passed as bytes pw = pw.encode() signer.load_private_key( sign_key_path, password=pw) except Exception: msg = (_(""Error during sign operation: private key "" ""could not be loaded."")) raise exceptions.CommandError(msg) signature = signer.generate_signature(fp) signature_b64 = b64encode(signature) kwargs['img_signature'] = signature_b64 kwargs['img_signature_certificate_uuid'] = sign_cert_id kwargs['img_signature_hash_method'] = signer.hash_method if signer.padding_method: kwargs['img_signature_key_type'] = \ signer.padding_method protected=bool(parsed_args.protected) parser = super(DeleteImage, self).get_parser(prog_name) image_obj = image_client.find_image(image, ignore_missing=False) LOG.error(_(""Failed to delete image with name or "" ""ID '%(image)s': %(e)s""), {'image': image, 'e': e}) if (del_result > 0): msg = (_(""Failed to delete %(dresult)s of %(total)s images."") % {'dresult': del_result, 'total': total}) parser = super(ListImage, self).get_parser(prog_name) help=_('Filter output based on property ' '(repeat option to filter on multiple properties)'), help=_(""Filter images based on name."") help=_(""Filter images based on status."") help=(_(""Filter images based on member status. "" ""The supported options are: %s. "") % ', '.join(MEMBER_STATUS_CHOICES)) help=_(""Search by project (admin only) (name or ID)"") help=_('Filter images based on tag. ' '(repeat option to filter on multiple tags)'), help=_(""Sort output by selected keys and directions(asc or desc) "" ""(default: name:asc), multiple keys and directions can be "" ""specified separated by comma""), help=_(""The last image of the previous page. Display "" ""list of images after marker. Display all images if not "" ""specified. (name or ID)""), (utils.get_item_properties( s, columns, formatters=_formatters, ) for s in data) parser = super(ListImageProjects, self).get_parser(prog_name) columns = ( ""Image ID"", ""Member ID"", ""Status"" ) return (columns, (utils.get_item_properties( s, columns, ) for s in data)) parser = super(RemoveProjectImage, self).get_parser(prog_name) project_id = common.find_project(identity_client, parsed_args.project, parsed_args.project_domain).id image = image_client.find_image(parsed_args.image, ignore_missing=False) image_client.remove_member( member=project_id, image=image.id) parser = super(SaveImage, self).get_parser(prog_name) parser = super(SetImage, self).get_parser(prog_name) ""image"", metavar=""<image>"", help=_(""Image to modify (name or ID)"") ""--name"", metavar=""<name>"", help=_(""New image name"") help=_(""Minimum disk size needed to boot image, in gigabytes"") help=_(""Image container format. The supported options are: %s"") % ', '.join(CONTAINER_CHOICES) help=_(""Image disk format. The supported options are: %s"") % ', '.join(DISK_CHOICES) help=_(""Set a property on this image "" ""(repeat option to set multiple properties)""), help=_(""Set a tag on this image "" ""(repeat option to set multiple tags)""), _(""ERROR: --%s was given, which is an Image v1 option"" "" that is no longer supported in Image v2"") % deadopt) parsed_args.image, ignore_missing=False, copy_attrs = ('architecture', 'container_format', 'disk_format', 'file', 'instance_id', 'kernel_id', 'locations', 'min_disk', 'min_ram', 'name', 'os_distro', 'os_version', 'prefix', 'progress', 'ramdisk_id', 'tags', 'visibility') LOG.info(_(""Image %(id)s was %(status)s.""), {'id': image.id, 'status': activation_status}) parser = super(ShowImage, self).get_parser(prog_name) image = image_client.find_image(parsed_args.image, ignore_missing=False) parser = super(UnsetImage, self).get_parser(prog_name) help=_(""Unset a tag on this image "" ""(repeat option to unset multiple tags)""), help=_(""Unset a property on this image "" ""(repeat option to unset multiple properties)""), image = image_client.find_image(parsed_args.image, ignore_missing=False) LOG.error(_(""tag unset failed, '%s' is a "" ""nonexistent tag ""), k) new_props = kwargs.get('properties', image.get('properties').copy()) LOG.error(_(""property unset failed, '%s' is a "" ""nonexistent property ""), k) image_client.update_image( image, **kwargs) if (tagret > 0 and propret > 0): msg = (_(""Failed to unset %(tagret)s of %(tagtotal)s tags,"" ""Failed to unset %(propret)s of %(proptotal)s properties."") % {'tagret': tagret, 'tagtotal': tagtotal, 'propret': propret, 'proptotal': proptotal}) msg = (_(""Failed to unset %(tagret)s of %(tagtotal)s tags."") % {'tagret': tagret, 'tagtotal': tagtotal}) msg = (_(""Failed to unset %(propret)s of %(proptotal)s"" "" properties."") % {'propret': propret, 'proptotal': proptotal})",319,189
openstack%2Ftripleo-heat-templates~master~Ia6a8128b0c87979fd118a7ae8cd33e0430a4aad1,openstack/tripleo-heat-templates,master,Ia6a8128b0c87979fd118a7ae8cd33e0430a4aad1,Designate: configure collocation IP on bind and neutron dns integration,MERGED,2022-04-29 16:51:24.000000000,2022-07-01 15:29:03.000000000,2022-07-01 15:29:03.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-04-29 16:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bdb342335fb2fa5f6f654a4171d44cd8601ec015', 'message': 'Designate: configure collocation IP on bind and neutron dns integration\n\nThis patch moves the collcation IP that was on unbound to the bind\nworker instance allowing the use of the framework provided to configure\nthe neutron services to refer to the designate DNS services.\n\nNote: the ansible tasks were move to the bind config ansible role\ninstead of the template.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/839973\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/835742\nChange-Id: Ia6a8128b0c87979fd118a7ae8cd33e0430a4aad1\n'}, {'number': 2, 'created': '2022-05-11 17:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1bf1f87bae6f6ac106c65a1c0c62f350f3ad2641', 'message': 'Designate: configure collocation IP on bind and neutron dns integration\n\nThis patch moves the collcation IP that was on unbound to the bind\nworker instance allowing the use of the framework provided to configure\nthe neutron services to refer to the designate DNS services.\n\nNote: the ansible tasks were move to the bind config ansible role\ninstead of the template.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/839973\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/835742\nChange-Id: Ia6a8128b0c87979fd118a7ae8cd33e0430a4aad1\n'}, {'number': 3, 'created': '2022-05-12 16:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a282bf778fdbd703dc8b766c4f42f85e6fb9f820', 'message': 'Designate: configure collocation IP on bind and neutron dns integration\n\nThis patch moves the collcation IP that was on unbound to the bind\nworker instance allowing the use of the framework provided to configure\nthe neutron services to refer to the designate DNS services.\n\nNote: the ansible tasks were move to the bind config ansible role\ninstead of the template.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/839973\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/835742\nChange-Id: Ia6a8128b0c87979fd118a7ae8cd33e0430a4aad1\n'}, {'number': 4, 'created': '2022-05-18 15:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f875299c0681d828ac24461f4ebaed094ab3b88', 'message': 'Designate: configure collocation IP on bind and neutron dns integration\n\nThis patch moves the collcation IP that was on unbound to the bind\nworker instance allowing the use of the framework provided to configure\nthe neutron services to refer to the designate DNS services.\n\nNote: the ansible tasks were move to the bind config ansible role\ninstead of the template.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/839973\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/835742\nChange-Id: Ia6a8128b0c87979fd118a7ae8cd33e0430a4aad1\n'}, {'number': 5, 'created': '2022-06-03 19:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c99ca4bc1f74864b45d1637be60654e2d36537d', 'message': 'Designate: configure collocation IP on bind and neutron dns integration\n\nThis patch moves the collcation IP that was on unbound to the bind\nworker instance allowing the use of the framework provided to configure\nthe neutron services to refer to the designate DNS services.\n\nNote: the ansible tasks were move to the bind config ansible role\ninstead of the template.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/839973\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/835742\nChange-Id: Ia6a8128b0c87979fd118a7ae8cd33e0430a4aad1\n'}, {'number': 6, 'created': '2022-06-23 16:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/51338d880856c8a2a240fc80d114e105d57efe04', 'message': 'Designate: configure collocation IP on bind and neutron dns integration\n\nThis patch moves the collcation IP that was on unbound to the bind\nworker instance allowing the use of the framework provided to configure\nthe neutron services to refer to the designate DNS services.\n\nNote: the ansible tasks were move to the bind config ansible role\ninstead of the template.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/839973\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/835742\nChange-Id: Ia6a8128b0c87979fd118a7ae8cd33e0430a4aad1\n'}, {'number': 7, 'created': '2022-06-27 15:56:17.000000000', 'files': ['ci/environments/scenario003-standalone.yaml', 'deployment/unbound/unbound-container-ansible.yaml', 'deployment/designate/designate-bind-container.yaml', 'deployment/designate/designate-base.yaml', 'deployment/designate/designate-central-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/78a51efb6c21c2dd3173a0ad55a9fb4873a21766', 'message': 'Designate: configure collocation IP on bind and neutron dns integration\n\nThis patch moves the collcation IP that was on unbound to the bind\nworker instance allowing the use of the framework provided to configure\nthe neutron services to refer to the designate DNS services.\n\nNote: the ansible tasks were move to the bind config ansible role\ninstead of the template.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/839973\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/835742\nChange-Id: Ia6a8128b0c87979fd118a7ae8cd33e0430a4aad1\n'}]",12,839974,78a51efb6c21c2dd3173a0ad55a9fb4873a21766,50,6,7,6681,,,0,"Designate: configure collocation IP on bind and neutron dns integration

This patch moves the collcation IP that was on unbound to the bind
worker instance allowing the use of the framework provided to configure
the neutron services to refer to the designate DNS services.

Note: the ansible tasks were move to the bind config ansible role
instead of the template.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/839973
Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/835742
Change-Id: Ia6a8128b0c87979fd118a7ae8cd33e0430a4aad1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/839974/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/designate/designate-bind-container.yaml', 'deployment/unbound/unbound-container-ansible.yaml', 'deployment/designate/designate-base.yaml', 'deployment/designate/designate-central-container-puppet.yaml']",4,bdb342335fb2fa5f6f654a4171d44cd8601ec015,neutron-resolver-integration, - name: generate designate pool when: step|int == 4 import_role: name: designate_bind_pool, - name: generate designate pool when: step|int == 4 import_role: name: designate_bind_pool,122,96
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ia3f4de0028a4c264a9f2d1277878221969e180d5,openstack/tripleo-heat-templates,stable/wallaby,Ia3f4de0028a4c264a9f2d1277878221969e180d5,Remove StackAction from Octavia deployment,MERGED,2022-06-28 05:57:49.000000000,2022-07-01 15:28:58.000000000,2022-07-01 15:28:58.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-28 05:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/256e359e5744523a0207d8309250924f1ec1bfb0', 'message': 'Remove StackAction from Octavia deployment\n\nSince ephemeral Heat, StackAction is now always\nCREATE. Subsequentaly, it no longer serves the\nintended purpose for the Octavia deployment.\n\nThis change removes StackAction from the template.\n\nPartial-Bug: #1936138\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/847817\nChange-Id: Ia3f4de0028a4c264a9f2d1277878221969e180d5\n(cherry picked from commit 5771d93182862592fa69d20662b9fcaa339bbf5a)\n'}, {'number': 2, 'created': '2022-07-01 06:11:19.000000000', 'files': ['deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/72d679af415eb7e77e1de423c5b1262a883ec215', 'message': 'Remove StackAction from Octavia deployment\n\nSince ephemeral Heat, StackAction is now always\nCREATE. Subsequentaly, it no longer serves the\nintended purpose for the Octavia deployment.\n\nThis change removes StackAction from the template.\n\nPartial-Bug: #1936138\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/847817\nChange-Id: Ia3f4de0028a4c264a9f2d1277878221969e180d5\n(cherry picked from commit 5771d93182862592fa69d20662b9fcaa339bbf5a)\n'}]",3,847878,72d679af415eb7e77e1de423c5b1262a883ec215,17,4,2,8833,,,0,"Remove StackAction from Octavia deployment

Since ephemeral Heat, StackAction is now always
CREATE. Subsequentaly, it no longer serves the
intended purpose for the Octavia deployment.

This change removes StackAction from the template.

Partial-Bug: #1936138
Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/847817
Change-Id: Ia3f4de0028a4c264a9f2d1277878221969e180d5
(cherry picked from commit 5771d93182862592fa69d20662b9fcaa339bbf5a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/847878/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-deployment-config.j2.yaml'],1,256e359e5744523a0207d8309250924f1ec1bfb0,fix_upgrade,," StackAction: type: string description: > Heat action on performed top-level stack. Note StackUpdateType is set to UPGRADE when a major-version upgrade is in progress. constraints: - allowed_values: ['CREATE', 'UPDATE'] stack_action: { get_param: StackAction }",0,8
openstack%2Fglance~master~Ibc6d67efa564451828befe341b29eca6f37b06ef,openstack/glance,master,Ibc6d67efa564451828befe341b29eca6f37b06ef,Imported Translations from Zanata,MERGED,2022-06-21 02:33:34.000000000,2022-07-01 15:26:14.000000000,2022-07-01 15:24:30.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-21 02:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/060b57e55c1a67db54200aa4593abc6c82a38e6a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibc6d67efa564451828befe341b29eca6f37b06ef\n'}, {'number': 2, 'created': '2022-06-24 02:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/beab810092ec3859d4138bfe5b13f469a29140b0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibc6d67efa564451828befe341b29eca6f37b06ef\n'}, {'number': 3, 'created': '2022-06-25 02:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6e0c0d474cea9f21c2bb17038a294e034204695d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibc6d67efa564451828befe341b29eca6f37b06ef\n'}, {'number': 4, 'created': '2022-06-26 02:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/afbb84a2a6f23d6aa49b6054eb13945fdbf5c31e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibc6d67efa564451828befe341b29eca6f37b06ef\n'}, {'number': 5, 'created': '2022-06-28 02:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7060130068d8cdce8c5b91656c9ff12d2d7c25cf', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibc6d67efa564451828befe341b29eca6f37b06ef\n'}, {'number': 6, 'created': '2022-06-30 02:38:26.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'glance/locale/tr_TR/LC_MESSAGES/glance.po', 'glance/locale/fr/LC_MESSAGES/glance.po', 'glance/locale/en_GB/LC_MESSAGES/glance.po', 'glance/locale/pt_BR/LC_MESSAGES/glance.po', 'glance/locale/ru/LC_MESSAGES/glance.po', 'glance/locale/zh_CN/LC_MESSAGES/glance.po', 'glance/locale/ja/LC_MESSAGES/glance.po', 'glance/locale/it/LC_MESSAGES/glance.po', 'glance/locale/zh_TW/LC_MESSAGES/glance.po', 'glance/locale/de/LC_MESSAGES/glance.po', 'glance/locale/es/LC_MESSAGES/glance.po', 'glance/locale/ko_KR/LC_MESSAGES/glance.po'], 'web_link': 'https://opendev.org/openstack/glance/commit/3bc85b77494fcd88a97e4dbf889b5918aab54538', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibc6d67efa564451828befe341b29eca6f37b06ef\n'}]",0,846845,3bc85b77494fcd88a97e4dbf889b5918aab54538,17,2,6,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibc6d67efa564451828befe341b29eca6f37b06ef
",git fetch https://review.opendev.org/openstack/glance refs/changes/45/846845/4 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,060b57e55c1a67db54200aa4593abc6c82a38e6a,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2022. #zanata""POT-Creation-Date: 2022-05-25 22:43+0000\n""""PO-Revision-Date: 2022-06-20 11:05+0000\n""msgid ""20.1.0"" msgstr ""20.1.0"" msgid ""20.2.0"" msgstr ""20.2.0"" msgid ""21.1.0"" msgstr ""21.1.0"" msgid ""22.0.0"" msgstr ""22.0.0"" msgid ""22.1.0"" msgstr ""22.1.0"" msgid ""23.0.0"" msgstr ""23.0.0"" msgid ""24.0.0"" msgstr ""24.0.0"" msgid ""24.0.0-37"" msgstr ""24.0.0-37"" ""A new optional header ``X-Openstack-Append`` has been added to append the "" ""new metadef tags to the existing tags. If the header is present it will "" ""append the new tags to the existing one, if not then it will default to the "" ""old behaviour i.e. overwriting the existing tags with the new one."" msgstr """" ""A new optional header ``X-Openstack-Append`` has been added to append the "" ""new metadef tags to the existing tags. If the header is present it will "" ""append the new tags to the existing one, if not then it will default to the "" ""old behaviour i.e. overwriting the existing tags with the new one."" msgid """"msgid ""Added new APIs for cache related operations."" msgstr ""Added new APIs for cache related operations."" msgid ""Added support for unified quotas using keystone limits"" msgstr ""Added support for unified quotas using Keystone limits"" msgid """" ""Added support to append new metadef tags rather than overwriting the "" ""existing tags."" msgstr """" ""Added support to append new metadef tags rather than overwriting the "" ""existing tags."" msgid ""Added support to fetch additional information about RBD store."" msgstr ""Added support to fetch additional information about RBD store."" msgid ""Added support to get quota usage information."" msgstr ""Added support to get quota usage information."" msgid ""Bug 1875629_: api-ref needs update about checksum image property"" msgstr ""Bug 1875629_: api-ref needs update about checksum image property"" msgid ""Bug 1885928_: Unable to spawn VM from community image"" msgstr ""Bug 1885928_: Unable to spawn VM from community image"" ""Bug 1895173_: Caught error: UPDATE statement on table 'image_properties'. "" ""expected to update 1 row(s); 0 were matched"" msgstr """" ""Bug 1895173_: Caught error: UPDATE statement on table 'image_properties'. "" ""expected to update 1 row(s); 0 were matched"" msgid """"msgid ""Bug 1913625_: Glance will leak staging data"" msgstr ""Bug 1913625_: Glance will leak staging data"" msgid ""Bug 1914826_: web download with invalid url does not report error"" msgstr ""Bug 1914826_: web download with invalid URL does not report error"" msgid ""Bug 1914826_: web-download with invalid url does not report error"" msgstr ""Bug 1914826_: web-download with invalid URL does not report error"" msgid """" ""Bug 1916011_: test_migrate_image_after_upgrade failing because of glance "" ""cinder store change"" msgstr """" ""Bug 1916011_: test_migrate_image_after_upgrade failing because of glance "" ""cinder store change"" msgid ""Bug 1916052_: Unable to Create trust errors in glance-api"" msgstr ""Bug 1916052_: Unable to Create trust errors in glance-api"" msgid ""Bug 1916052_: Unable to create trust errors in glance-api"" msgstr ""Bug 1916052_: Unable to create trust errors in glance-api"" msgid ""Bug 1922928_: Image Tasks API excludes in-progress tasks"" msgstr ""Bug 1922928_: Image Tasks API excludes in-progress tasks"" msgid ""Bug 1922928_: Image tasks API excludes in-progress tasks"" msgstr ""Bug 1922928_: Image tasks API excludes in-progress tasks"" msgid ""Bug 1930597_: Doc for \""Configuring SSL Support\"" outdated in glance"" msgstr ""Bug 1930597_: Doc for \""Configuring SSL Support\"" outdated in glance"" msgid """" ""Bug 1934673_: Policy deprecations falsely claims defaulting to role based "" ""policies"" msgstr """" ""Bug 1934673_: Policy deprecations falsely claims defaulting to role based "" ""policies"" msgid """" ""Bug 1934673_: Policy deprecations falsely claims defaulting to role based "" ""policies."" msgstr """" ""Bug 1934673_: Policy deprecations falsely claims defaulting to role based "" ""policies."" msgid ""Bug 1936665_: Functional tests not available for metadef resource types"" msgstr """" ""Bug 1936665_: Functional tests not available for metadef resource types"" msgid ""Bug 1939169_: glance md-tag-create-multiple overwrites existing tags"" msgstr ""Bug 1939169_: glance md-tag-create-multiple overwrites existing tags"" msgid ""Bug 1939307_: glance-uwsgi - Add missing cache prefetching periodic job"" msgstr """" ""Bug 1939307_: glance-uwsgi - Add missing cache prefetching periodic job"" msgid """" ""Bug 1939922_: Internal server error if shared member tries to stage data to "" ""image"" msgstr """" ""Bug 1939922_: Internal server error if shared member tries to stage data to "" ""image"" msgid """" ""Bug 1939944_: The parameters of the healthcheck middlewares are missing from "" ""glance-api.conf"" msgstr """" ""Bug 1939944_: The parameters of the healthcheck middlewares are missing from "" ""glance-api.conf"" msgid """" ""Bug 1940090_: options of the castellan library are missing from glance-api."" ""conf"" msgstr """" ""Bug 1940090_: options of the castellan library are missing from glance-api."" ""conf"" msgid """" ""Bug 1940733_: [oslo_reports] options are missing from the config file "" ""generated by oslo-confi-generator"" msgstr """" ""Bug 1940733_: [oslo_reports] options are missing from the config file "" ""generated by oslo-confi-generator"" msgid ""Bug 1953063_: Image import causes SQL type casting error on PostgreSQL"" msgstr ""Bug 1953063_: Image import causes SQL type casting error on PostgreSQL"" msgid ""Bug 1954321_: Python3.10 error"" msgstr ""Bug 1954321_: Python3.10 error"" msgid ""Bug 1971176_: api-ref: cache manage needs improvements"" msgstr ""Bug 1971176_: api-ref: cache manage needs improvements"" msgid """" ""Bug 1972666_: Added cli_opts and cache_opts to support configgen to pick all"" msgstr """" ""Bug 1972666_: Added cli_opts and cache_opts to support configgen to pick all"" msgid """" ""Bug 1973631_: List call for metadef namespaces returns 404 not found while "" ""fetching resource_types"" msgstr """" ""Bug 1973631_: List call for metadef namespaces returns 404 not found while "" ""fetching resource_types"" ""Bug `1971521 <https://bugs.launchpad.net/glance/+bug/1971521>`_: Fixed the "" ""success response code of the REST API call ``PUT /v2/cache/{image_id}`` to "" ""be 202 (Accepted), following the original design of the feature."" msgstr """" ""Bug `1971521 <https://bugs.launchpad.net/glance/+bug/1971521>`_: Fixed the "" ""success response code of the REST API call ``PUT /v2/cache/{image_id}`` to "" ""be 202 (Accepted), following the original design of the feature."" msgid """"msgid """" ""Correction of API response code for PUT /v2/cache/{image_id} from HTTP 200 "" ""to HTTP 202. Bug <https://code.launchpad.net/bugs/1971521>"" msgstr """" ""Correction of API response code for PUT /v2/cache/{image_id} from HTTP 200 "" ""to HTTP 202. Bug <https://code.launchpad.net/bugs/1971521>"" ""Existing authorization and policies will continue to work, but we encourage "" ""operators to review the new policies and consolidate any redundant overrides "" ""with the new defaults if possible. Please review the feature section above "" ""for more details."" msgstr """" ""Existing authorisation and policies will continue to work, but we encourage "" ""operators to review the new policies and consolidate any redundant overrides "" ""with the new defaults if possible. Please review the feature section above "" ""for more details."" msgid """"""Fixed some important bugs around multi-store imports and precaching images"" msgstr """" ""Fixed some important bugs around multi-store imports and precaching images"" msgid """"""Glance now has per-tenant quota support based on Keystone unified limits for "" ""resources like image and staging storage, among other things. For more "" ""information about how to configure and use these quotas, refer to the "" ""relevant section of the `Administrator Guide <https://docs.openstack.org/"" ""glance/latest/admin/quotas.html>`_."" msgstr """" ""Glance now has per-tenant quota support based on Keystone unified limits for "" ""resources like image and staging storage, among other things. For more "" ""information about how to configure and use these quotas, refer to the "" ""relevant section of the `Administrator Guide <https://docs.openstack.org/"" ""glance/latest/admin/quotas.html>`_."" msgid """" ""Glance now prevents setting or modifying image properties that are within "" ""the ``os_glance`` reserved namespace. Previously, individual properties "" ""(such as ``os_glance_importing_to_stores``) were inconsistently disallowed, "" ""but now the entire namespace is enforced."" msgstr """" ""Glance now prevents setting or modifying image properties that are within "" ""the ``os_glance`` reserved namespace. Previously, individual properties "" ""(such as ``os_glance_importing_to_stores``) were inconsistently disallowed, "" ""but now the entire namespace is enforced."" msgid """" ""Glance now provides more granular RBAC access to the images API via default "" ""personas. This work is marked as experimental in Wallaby, and will be "" ""supported in a future release."" msgstr """" ""Glance now provides more granular RBAC access to the images API via default "" ""personas. This work is marked as experimental in Wallaby, and will be "" ""supported in a future release."" msgid """" ""Glance now ships experimental policies that support read-only image "" ""permissions. Users with the `reader` role on a project will be able to view "" ""generic image data, without the ability to make writeable changes using the "" ""images API. Please review the features section above for more information on "" ""enabling this functionality."" msgstr """" ""Glance now ships experimental policies that support read-only image "" ""permissions. Users with the `reader` role on a project will be able to view "" ""generic image data, without the ability to make writeable changes using the "" ""images API. Please review the features section above for more information on "" ""enabling this functionality."" msgid """" ""Glance now supports the ``glance-direct`` import method without needing "" ""shared storage common to all API workers. By telling each API worker the URL "" ""by which it can be reached directly (from the other workers), a shared "" ""staging directory can be avoided while still allowing users to upload their "" ""data for import. See the ``worker_self_reference_url`` config option for "" ""more details, as well as the `Interoperable Image Import <https://docs."" ""openstack.org/glance/latest/admin/interoperable-image-import.html>`_ docs."" msgstr """" ""Glance now supports the ``glance-direct`` import method without needing "" ""shared storage common to all API workers. By telling each API worker the URL "" ""by which it can be reached directly (from the other workers), a shared "" ""staging directory can be avoided while still allowing users to upload their "" ""data for import. See the ``worker_self_reference_url`` config option for "" ""more details, as well as the `Interoperable Image Import <https://docs."" ""openstack.org/glance/latest/admin/interoperable-image-import.html>`_ docs."" msgid """"""Glance's default policies for metadef APIs now support member and reader "" ""roles for Secure RBAC project persona. Administrative operations like "" ""create, delete and update are still protected using the `admin` role on a "" ""project. Administrative actions will be updated in the future to consume "" ""system-scope."" msgstr """" ""Glance's default policies for metadef APIs now support member and reader "" ""roles for Secure RBAC project persona. Administrative operations like "" ""create, delete and update are still protected using the `admin` role on a "" ""project. Administrative actions will be updated in the future to consume "" ""system-scope."" msgid """" ""Glance's default policies now use the `member` role on projects to protect "" ""writeable and readable image actions. Support was also added for read-only "" ""access to image resources when the `reader` role is granted to users on a "" ""project. Administrative operations, like creating public images, is still "" ""protected using the `admin` role on a project. Administrative actions will "" ""be updated in the future to consume system-scope."" msgstr """" ""Glance's default policies now use the `member` role on projects to protect "" ""writeable and readable image actions. Support was also added for read-only "" ""access to image resources when the `reader` role is granted to users on a "" ""project. Administrative operations, like creating public images, is still "" ""protected using the `admin` role on a project. Administrative actions will "" ""be updated in the future to consume system-scope."" msgid """"msgid ""Implemented Secure RBAC project scope for metadef APIs"" msgstr ""Implemented Secure RBAC project scope for metadef APIs"" msgid ""Moved policy enforcement in API layer"" msgstr ""Moved policy enforcement in API layer"" msgid """" ""Python 3.6 & 3.7 support has been dropped. The minimum version of Python now "" ""supported is Python 3.8."" msgstr """" ""Python 3.6 & 3.7 support has been dropped. The minimum version of Python now "" ""supported is Python 3.8."" ""The Image service API call ``PUT /v2/cache/{image_id}`` now returns a 202 "" ""(Accepted) response code to indicate success. In glance 24.0.0 (the initial "" ""Yoga release), it had mistakenly returned a 200."" msgstr """" ""The Image service API call ``PUT /v2/cache/{image_id}`` now returns a 202 "" ""(Accepted) response code to indicate success. In glance 24.0.0 (the initial "" ""Yoga release), it had mistakenly returned a 200."" msgid """"""The Xena release includes some important milestones in Glance development "" ""priorities."" msgstr """" ""The Xena release includes some important milestones in Glance development "" ""priorities."" msgid """" ""The Xena release of Glance is a midpoint in the process of refactoring how "" ""our policies are applied to API operations. The goal of applying policy "" ""enforcement in the API will ultimately increase the flexibility operators "" ""have over which users can do what operations to which images, and provides a "" ""path for compliant Secure RBAC and scoped tokens. In Xena, some policies are "" ""more flexible than they once were, allowing for more fine-grained assignment "" ""of responsibilities, but not all things are possible yet. If "" ""`enforce_secure_rbac` is not enabled, most things are still enforcing the "" ""legacy behavior of hard and fast admin-or-owner requirements."" msgstr """" ""The Xena release of Glance is a midpoint in the process of refactoring how "" ""our policies are applied to API operations. The goal of applying policy "" ""enforcement in the API will ultimately increase the flexibility operators "" ""have over which users can do what operations to which images, and provides a "" ""path for compliant Secure RBAC and scoped tokens. In Xena, some policies are "" ""more flexible than they once were, allowing for more fine-grained assignment "" ""of responsibilities, but not all things are possible yet. If "" ""`enforce_secure_rbac` is not enabled, most things are still enforcing the "" ""legacy behaviour of hard and fast admin-or-owner requirements."" msgid """" ""The Yoga release includes some important milestones in Glance development "" ""priorities."" msgstr """" ""The Yoga release includes some important milestones in Glance development "" ""priorities."" msgid """"""The ``inject_image_metadata`` task will no longer allow setting properties "" ""in the reserved ``os_glance_*`` namespace, in line with the blanket "" ""prohibition on such via the API. It has always been dangerous to do this, so "" ""no operator should have any such configuration in production. If any keys in "" ""this namespace are set, they will be dropped (and logged) during the "" ""injection process."" msgstr """" ""The ``inject_image_metadata`` task will no longer allow setting properties "" ""in the reserved ``os_glance_*`` namespace, in line with the blanket "" ""prohibition on such via the API. It has always been dangerous to do this, so "" ""no operator should have any such configuration in production. If any keys in "" ""this namespace are set, they will be dropped (and logged) during the "" ""injection process."" msgid """"msgid """" ""The ``owner_is_tenant`` configuration option, which was deprecated in Rocky, "" ""has been removed in this release. As announced in the spec `Deprecate "" ""owner_is_tenant <https://specs.openstack.org/openstack/glance-specs/specs/"" ""rocky/implemented/glance/spec-lite-deprecate-owner_is_tenant.html>`_, given "" ""that an operator survey indicated that this option was only used in its "" ""default value of ``True``, no database migration is included in this release."" msgstr """" ""The ``owner_is_tenant`` configuration option, which was deprecated in Rocky, "" ""has been removed in this release. As announced in the spec `Deprecate "" ""owner_is_tenant <https://specs.openstack.org/openstack/glance-specs/specs/"" ""rocky/implemented/glance/spec-lite-deprecate-owner_is_tenant.html>`_, given "" ""that an operator survey indicated that this option was only used in its "" ""default value of ``True``, no database migration is included in this release."" ""The cinder store lazy migration code assumed that the user performing the "" ""GET was authorized to modify the image in order to perform the update. This "" ""will not be the case for shared or public images where the user is not the "" ""owner or an admin, and would result in a 404 to the user if a migration is "" ""needed but not completed. Now, we delay the migration if we are not "" ""sufficiently authorized, allowing the first GET by the owner (or an admin) "" ""to perform it. See Bug 1932337_ for more information."" msgstr """" ""The Cinder store lazy migration code assumed that the user performing the "" ""GET was authorised to modify the image in order to perform the update. This "" ""will not be the case for shared or public images where the user is not the "" ""owner or an admin, and would result in a 404 to the user if a migration is "" ""needed but not completed. Now, we delay the migration if we are not "" ""sufficiently authorised, allowing the first GET by the owner (or an admin) "" ""to perform it. See Bug 1932337_ for more information."" msgid """"""The database migration engine used by Glance for database upgrades was "" ""changed from *SQLAlchemy Migrate* to *Alembic* in the 14.0.0 (Ocata) "" ""release. Support for *SQLAlchemy Migrate* has now been removed. This means "" ""in order to upgrade from a pre-Ocata release to Xena or later, you must "" ""upgrade to Wallaby or earlier first."" msgstr """" ""The database migration engine used by Glance for database upgrades was "" ""changed from *SQLAlchemy Migrate* to *Alembic* in the 14.0.0 (Ocata) "" ""release. Support for *SQLAlchemy Migrate* has now been removed. This means "" ""in order to upgrade from a pre-Ocata release to Xena or later, you must "" ""upgrade to Wallaby or earlier first."" msgid """" ""The default policy for the `metadef` API has changed from \""open to everyone"" ""\"" to \""only admins can create and modify resources\"". We believe that this "" ""is by far the most common use-case and the only sane default. See Bug "" ""1916926_ for more details."" msgstr """" ""The default policy for the `metadef` API has changed from \""open to everyone"" ""\"" to \""only admins can create and modify resources\"". We believe that this "" ""is by far the most common use-case and the only sane default. See Bug "" ""1916926_ for more details."" msgid """"""The default value of ``[oslo_policy] policy_file`` config option has been "" ""changed from ``policy.json`` to ``policy.yaml``. Operators who are utilizing "" ""customized or previously generated static policy JSON files (which are not "" ""needed by default), should generate new policy files or convert them in YAML "" ""format. Use the `oslopolicy-convert-json-to-yaml <https://docs.openstack.org/"" ""oslo.policy/latest/cli/oslopolicy-convert-json-to-yaml.html>`_ tool to "" ""convert a JSON to YAML formatted policy file in backward compatible way."" msgstr """" ""The default value of ``[oslo_policy] policy_file`` config option has been "" ""changed from ``policy.json`` to ``policy.yaml``. Operators who are utilizing "" ""customised or previously generated static policy JSON files (which are not "" ""needed by default), should generate new policy files or convert them in YAML "" ""format. Use the `oslopolicy-convert-json-to-yaml <https://docs.openstack.org/"" ""oslo.policy/latest/cli/oslopolicy-convert-json-to-yaml.html>`_ tool to "" ""convert a JSON to YAML formatted policy file in backward compatible way."" msgid """"""The policies protecting the image API have been deprecated in favor of more "" ""consistent defaults that use the `member` and `reader` default roles from "" ""keystone. If your deployment relies on overriding the default policies, "" ""please review the new defaults and how they may impact your deployment."" msgstr """" ""The policies protecting the image API have been deprecated in favour of more "" ""consistent defaults that use the `member` and `reader` default roles from "" ""Keystone. If your deployment relies on overriding the default policies, "" ""please review the new defaults and how they may impact your deployment."" msgid """" ""The policy check that we ran when an image is not found is removed. This "" ""previously allowed an operator to override the behavior of a 404 to be a "" ""403, in contrast to the API documentation and design goals of defaulting to "" ""404 for information-hiding reasons. This check is no longer run in the case "" ""of a NotFound result from the database, so any policy attempting to control "" ""that behavior will be ignored from now on."" msgstr """" ""The policy check that we ran when an image is not found is removed. This "" ""previously allowed an operator to override the behavior of a 404 to be a "" ""403, in contrast to the API documentation and design goals of defaulting to "" ""404 for information-hiding reasons. This check is no longer run in the case "" ""of a NotFound result from the database, so any policy attempting to control "" ""that behaviour will be ignored from now on."" msgid """"""The secure RBAC personas implemented in Wallaby are marked as experimental. "" ""They will become stable in a future release. You can read more about the "" ""various personas in keystone's `Administrator Guide <https://docs.openstack."" ""org/keystone/latest/admin/service-api-protection.html>`_."" msgstr """" ""The secure RBAC personas implemented in Wallaby are marked as experimental. "" ""They will become stable in a future release. You can read more about the "" ""various personas in keystone's `Administrator Guide <https://docs.openstack."" ""org/keystone/latest/admin/service-api-protection.html>`_."" msgid """"""The unused `modify_task` policy has been deprecated for removal. It was "" ""never honored or checked as part of an API operation. As a result, it has "" ""been deprecated for removal since overriding it has no direct impact on the "" ""tasks API, which remains a deprecated, admin-only API."" msgstr """" ""The unused `modify_task` policy has been deprecated for removal. It was "" ""never honoured or checked as part of an API operation. As a result, it has "" ""been deprecated for removal since overriding it has no direct impact on the "" ""tasks API, which remains a deprecated, admin-only API."" msgid """"msgid """" ""This release brings additional functionality to the stores API. The stores "" ""detail API helps in providing the store specific information."" msgstr """" ""This release brings additional functionality to the stores API. The stores "" ""detail API helps in providing the store specific information."" msgid """" ""This release brings additional functionality to the unified quota work done "" ""in the previous release. A usage API is now available, which provides a way "" ""for users to see their current quota limits and their active resource usage "" ""towards them. For more information, see the discovery section in the `api-"" ""ref <https://developer.openstack.org/api-ref/image/v2/index.html#image-"" ""service-info-discovery>`_."" msgstr """" ""This release brings additional functionality to the unified quota work done "" ""in the previous release. A usage API is now available, which provides a way "" ""for users to see their current quota limits and their active resource usage "" ""towards them. For more information, see the discovery section in the `api-"" ""ref <https://developer.openstack.org/api-ref/image/v2/index.html#image-"" ""service-info-discovery>`_."" ""This release introduces new APIs for cache related operations. This new "" ""version of the cache API will help administrators to cache images on "" ""dedicated glance nodes as well. For more information, see the ``Cache "" ""Manage`` section in the `api-ref-guide <https://developer.openstack.org/api-"" ""ref/image/v2/index.html#cache-manage>`_."" msgstr """" ""This release introduces new APIs for cache related operations. This new "" ""version of the cache API will help administrators to cache images on "" ""dedicated Glance nodes as well. For more information, see the ``Cache "" ""Manage`` section in the `api-ref-guide <https://developer.openstack.org/api-"" ""ref/image/v2/index.html#cache-manage>`_."" msgid """"""To enable this functionality, you must specify `glance-api.conf [DEFAULT] "" ""enable_secure_rbac=True` and `glance-api.conf [oslo_policy] "" ""enforce_new_defaults=True`. Glance will refuse to start if misconfigured."" msgstr """" ""To enable this functionality, you must specify `glance-api.conf [DEFAULT] "" ""enable_secure_rbac=True` and `glance-api.conf [oslo_policy] "" ""enforce_new_defaults=True`. Glance will refuse to start if misconfigured."" msgid """"""Use of JSON policy files was deprecated by the ``oslo.policy`` library "" ""during the Victoria development cycle. As a result, this deprecation is "" ""being noted in the Wallaby cycle with an anticipated future removal of "" ""support by ``oslo.policy``. As such operators will need to convert to YAML "" ""policy files. Please see the upgrade notes for details on migration of any "" ""custom policy files."" msgstr """" ""Use of JSON policy files was deprecated by the ``oslo.policy`` library "" ""during the Victoria development cycle. As a result, this deprecation is "" ""being noted in the Wallaby cycle with an anticipated future removal of "" ""support by ``oslo.policy``. As such operators will need to convert to YAML "" ""policy files. Please see the upgrade notes for details on migration of any "" ""custom policy files."" msgid """"msgid ""Wallaby Series Release Notes"" msgstr ""Wallaby Series Release Notes"" msgid """" ""We encourage you to compare any existing overrides in your deployment with "" ""the new defaults. You can use `oslopolicy-sample-generator --namespace "" ""glance` to generate the default policies and use them for comparison."" msgstr """" ""We encourage you to compare any existing overrides in your deployment with "" ""the new defaults. You can use `oslopolicy-sample-generator --namespace "" ""glance` to generate the default policies and use them for comparison."" ""When the Glance image cache is being used, the CURRENT version of the Image "" ""service API, as indicated in the ``GET /versions`` response, is 2.16."" msgstr """" ""When the Glance image cache is being used, the CURRENT version of the Image "" ""service API, as indicated in the ``GET /versions`` response, is 2.16."" msgid """"""While fixing race condition issue during victoria we started updating "" ""'message' property of the task which helps calculate time based on last "" ""updated time of task to burst the lock as well as show how much data has "" ""been copied of that image. As glance task API's are restricted from use by "" ""normal users we are adding new API /v2/images/{image_id}/tasks which will "" ""return all tasks associated with that image. In addition to task information "" ""this API will also return `request-id` and `user-id` to help users in "" ""debugging."" msgstr """" ""While fixing race condition issue during Victoria we started updating "" ""'message' property of the task which helps calculate time based on last "" ""updated time of task to burst the lock as well as show how much data has "" ""been copied of that image. As glance task API's are restricted from use by "" ""normal users we are adding new API /v2/images/{image_id}/tasks which will "" ""return all tasks associated with that image. In addition to task information "" ""this API will also return `request-id` and `user-id` to help users in "" ""debugging."" msgid """"msgid ""Xena Series Release Notes"" msgstr ""Xena Series Release Notes"" msgid ""Yoga Series Release Notes"" msgstr ""Yoga Series Release Notes"" msgid ""groups from wsgi.py"" msgstr ""groups from wsgi.py"" ","""POT-Creation-Date: 2021-10-06 23:27+0000\n""""PO-Revision-Date: 2020-12-19 01:29+0000\n""",597,2
openstack%2Fneutron~master~I2e389e3cce70505ce01f03c09b36fa9d55be964a,openstack/neutron,master,I2e389e3cce70505ce01f03c09b36fa9d55be964a,"[FT] Ensure ""update_virtual_port_host"" has been called",MERGED,2022-06-29 16:38:55.000000000,2022-07-01 15:26:08.000000000,2022-07-01 15:24:26.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-29 16:38:55.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/753fbff11bb7500db4293cb79fbf3d7cb0b2b121', 'message': '[FT] Ensure ""update_virtual_port_host"" has been called\n\nAn OVS DB event once matched, is stored in a cache and processed in\n``ovsdbapp.event.RowEventHandler.notify_loop``. The method\n``update_virtual_port_host`` is called in the ``run`` method of the\nevent. Sometimes in the FT execution, the test checks if the\nmethod has been called when the event ``run`` method has not been\nexecuted yet.\n\nThis patch adds a short active wait to ensure the event is actually\nprocessed and the method called.\n\nThis bug can be easily reproduced if in the\n``PortBindingUpdateVirtualPortsEvent.run`` method, a 2 seconds delay\nis added:\n  import time; time.sleep(2)\n\nCloses-Bug: #1971672\nChange-Id: I2e389e3cce70505ce01f03c09b36fa9d55be964a\n'}]",0,848156,753fbff11bb7500db4293cb79fbf3d7cb0b2b121,10,4,1,16688,,,0,"[FT] Ensure ""update_virtual_port_host"" has been called

An OVS DB event once matched, is stored in a cache and processed in
``ovsdbapp.event.RowEventHandler.notify_loop``. The method
``update_virtual_port_host`` is called in the ``run`` method of the
event. Sometimes in the FT execution, the test checks if the
method has been called when the event ``run`` method has not been
executed yet.

This patch adds a short active wait to ensure the event is actually
processed and the method called.

This bug can be easily reproduced if in the
``PortBindingUpdateVirtualPortsEvent.run`` method, a 2 seconds delay
is added:
  import time; time.sleep(2)

Closes-Bug: #1971672
Change-Id: I2e389e3cce70505ce01f03c09b36fa9d55be964a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/848156/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'],1,753fbff11bb7500db4293cb79fbf3d7cb0b2b121,bug/1971672," n_utils.wait_until_true(lambda: mock_update_vip_host.called, timeout=10)",,2,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I3a73996b00e7d169756875b39aba18f8f305a718,openstack/tripleo-heat-templates,stable/wallaby,I3a73996b00e7d169756875b39aba18f8f305a718,Remove legacy network-isolation env files,MERGED,2022-06-17 14:04:34.000000000,2022-07-01 15:24:42.000000000,2022-07-01 15:24:42.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-17 14:04:34.000000000', 'files': ['environments/network-isolation.j2.yaml', 'environments/network-isolation-v6-all.j2.yaml', 'environments/network-isolation-v6.j2.yaml', 'environments/network-isolation-no-tunneling.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5f97b4136041c2b4fbbf0f5aa407941c3ec61f23', 'message': 'Remove legacy network-isolation env files\n\nThese environment files no longer work. In\nfact, using them will cause errors during the\ndeployment. We should remove them to avoid\ncausing confusion for users.\n\nChange-Id: I3a73996b00e7d169756875b39aba18f8f305a718\n(cherry picked from commit f71723aa591955a5cc9b64bd8416a388d5d9911f)\n'}]",3,846255,5f97b4136041c2b4fbbf0f5aa407941c3ec61f23,19,4,1,8833,,,0,"Remove legacy network-isolation env files

These environment files no longer work. In
fact, using them will cause errors during the
deployment. We should remove them to avoid
causing confusion for users.

Change-Id: I3a73996b00e7d169756875b39aba18f8f305a718
(cherry picked from commit f71723aa591955a5cc9b64bd8416a388d5d9911f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/846255/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/network-isolation.j2.yaml', 'environments/network-isolation-v6-all.j2.yaml', 'environments/network-isolation-v6.j2.yaml', 'environments/network-isolation-no-tunneling.j2.yaml']",4,5f97b4136041c2b4fbbf0f5aa407941c3ec61f23,legacy-env-stable/wallaby,,"# ****************************************************************************** # DEPRECATED: Modify networks used for custom roles by modifying the role file # in the roles/ directory, or disable the network entirely by setting network to # ""enabled: false"" in network_data.yaml. # ****************************************************************************** # Enable the creation of Neutron networks for isolated Overcloud # traffic and configure each role to assign ports (related # to that role) on these networks. This version of the environment # has no dedicated VLAN for tunneling, for deployments that use # VLAN mode, flat provider networks, etc. resource_registry: # networks as defined in network_data.yaml, except for tenant net {%- for network in networks if network.enabled|default(true) and network.name != 'Tenant' %} OS::TripleO::Network::{{network.name}}: ../network/{{network.name_lower|default(network.name.lower())}}.yaml {%- endfor %} OS::TripleO::Network::Tenant: OS::Heat::None # Port assignments for the VIPs {%- for network in networks if network.vip and network.name != 'Tenant' %} OS::TripleO::Network::Ports::{{network.name}}VipPort: ../network/ports/{{network.name_lower|default(network.name.lower())}}.yaml {%- endfor %} # Port assignments for each role are determined by the role definition. {%- for role in roles %} {#- Convert net map or net list to internal list of networks #} {#- NOTE(hjensas): For backward compatibility support role data with both #} {#- networks map (new schema) and network list (old schema). #} {%- if role.networks is mapping %} {%- set _role_networks = [] %} {%- for key, val in role.networks.items() %} {%- set _ = _role_networks.append(key) %} {%- endfor %} {%- else %} {%- set _role_networks = role.networks %} {%- endif %} # Port assignments for the {{role.name}} role. {%- for network in networks %} {%- if network.name in _role_networks and network.enabled|default(true) and network.name != 'Tenant'%} OS::TripleO::{{role.name}}::Ports::{{network.name}}Port: ../network/ports/{{network.name_lower|default(network.name.lower())}}.yaml {%- elif network.enabled|default(true) %} OS::TripleO::{{role.name}}::Ports::{{network.name}}Port: ../network/ports/noop.yaml {%- endif %} {%- endfor %} {%- endfor %} ",0,189
openstack%2Fkeystone~master~Ia9583a254336fad7b302430a38b538c84338d13d,openstack/keystone,master,Ia9583a254336fad7b302430a38b538c84338d13d,"Keystone to honor the ""domain"" attribute mapping rules",NEW,2020-07-08 12:18:08.000000000,2022-07-01 15:18:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 30695}]","[{'number': 1, 'created': '2020-07-08 12:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b25c8a9638dc1f97f2e3ffa65051a5a98c686ca2', 'message': 'Keystone to honor the ""domain"" attribute mapping rules\n\nWe propose to extend Keystone identity provider (IdP) attribute mapping schema to make Keystone honor the `domain` configuration that we have on it. Currently, that configuration is only used to define a default domain for groups (and then each group there, could override it). It is interesting to expand this configuration (as long as it is in the root of the attribute mapping) to be also applied for users and projects.\n\nMoreover, to facilitate the development and extension concerning attribute mappings for IdPs, we changed the way the attribute mapping schema is handled. We introduce a new configuration `federation_attribute_mapping_schema_version`, which defaults to ""1.0"". This attribute mapping schema version will then be used to control the validation of attribute mapping, and also the rule processors used to process the attributes that come from the IdP. So far, with this PR, we introduce the attribute mapping schema ""1.1"", which enables operators to also define a domain for the projects they want to assign users. If no domain is defined either in the project or in the global domain definition for the attribute mapping, we take the IdP domain as the default.\n\nChange-Id: Ia9583a254336fad7b302430a38b538c84338d13d\n'}, {'number': 2, 'created': '2020-07-08 12:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9a49c5ea81b54f592f1291b9fdff42e358e81c85', 'message': 'Keystone to honor the ""domain"" attribute mapping rules\n\nWe propose to extend Keystone identity provider (IdP) attribute mapping schema\nto make Keystone honor the `domain` configuration that we have on it.\nCurrently, that configuration is only used to define a default domain for\ngroups (and then each group there, could override it). It is interesting to\nexpand this configuration (as long as it is in the root of the attribute\nmapping) to be also applied for users and projects.\n\nMoreover, to facilitate the development and extension concerning attribute\nmappings for IdPs, we changed the way the attribute mapping schema is handled.\nWe introduce a new configuration `federation_attribute_mapping_schema_version`,\nwhich defaults to ""1.0"". This attribute mapping schema version will then be\nused to control the validation of attribute mapping, and also the rule\nprocessors used to process the attributes that come from the IdP. So far, with\nthis PR, we introduce the attribute mapping schema ""1.1"", which enables\noperators to also define a domain for the projects they want to assign users.\nIf no domain is defined either in the project or in the global domain definition\nfor the attribute mapping, we take the IdP domain as the default.\n\nChange-Id: Ia9583a254336fad7b302430a38b538c84338d13d\n'}, {'number': 3, 'created': '2020-07-08 17:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/557a35a6fd69d9bb56977aaebd62bd68d59c6ddf', 'message': 'Keystone to honor the ""domain"" attribute mapping rules\n\nWe propose to extend Keystone identity provider (IdP) attribute mapping schema\nto make Keystone honor the `domain` configuration that we have on it.\nCurrently, that configuration is only used to define a default domain for\ngroups (and then each group there, could override it). It is interesting to\nexpand this configuration (as long as it is in the root of the attribute\nmapping) to be also applied for users and projects.\n\nMoreover, to facilitate the development and extension concerning attribute\nmappings for IdPs, we changed the way the attribute mapping schema is handled.\nWe introduce a new configuration `federation_attribute_mapping_schema_version`,\nwhich defaults to ""1.0"". This attribute mapping schema version will then be\nused to control the validation of attribute mapping, and also the rule\nprocessors used to process the attributes that come from the IdP. So far, with\nthis PR, we introduce the attribute mapping schema ""1.1"", which enables\noperators to also define a domain for the projects they want to assign users.\nIf no domain is defined either in the project or in the global domain definition\nfor the attribute mapping, we take the IdP domain as the default.\n\nChange-Id: Ia9583a254336fad7b302430a38b538c84338d13d\n'}, {'number': 4, 'created': '2020-07-14 11:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dde903669b5a226bee482d5d47e4d7369f86dce7', 'message': 'Keystone to honor the ""domain"" attribute mapping rules\n\nWe propose to extend Keystone identity provider (IdP) attribute mapping schema\nto make Keystone honor the `domain` configuration that we have on it.\nCurrently, that configuration is only used to define a default domain for\ngroups (and then each group there, could override it). It is interesting to\nexpand this configuration (as long as it is in the root of the attribute\nmapping) to be also applied for users and projects.\n\nMoreover, to facilitate the development and extension concerning attribute\nmappings for IdPs, we changed the way the attribute mapping schema is handled.\nWe introduce a new configuration `federation_attribute_mapping_schema_version`,\nwhich defaults to ""1.0"". This attribute mapping schema version will then be\nused to control the validation of attribute mapping, and also the rule\nprocessors used to process the attributes that come from the IdP. So far, with\nthis PR, we introduce the attribute mapping schema ""1.1"", which enables\noperators to also define a domain for the projects they want to assign users.\nIf no domain is defined either in the project or in the global domain definition\nfor the attribute mapping, we take the IdP domain as the default.\n\nChange-Id: Ia9583a254336fad7b302430a38b538c84338d13d\nImplements: https://bugs.launchpad.net/keystone/+bug/1887515\nCloses-Bug: #1887515\n'}, {'number': 5, 'created': '2020-07-23 12:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bb05ed904b6ab7d98a71079335846133ff0c21c6', 'message': 'Keystone to honor the ""domain"" attribute mapping rules\n\nWe propose to extend Keystone identity provider (IdP) attribute mapping schema\nto make Keystone honor the `domain` configuration that we have on it.\nCurrently, that configuration is only used to define a default domain for\ngroups (and then each group there, could override it). It is interesting to\nexpand this configuration (as long as it is in the root of the attribute\nmapping) to be also applied for users and projects.\n\nMoreover, to facilitate the development and extension concerning attribute\nmappings for IdPs, we changed the way the attribute mapping schema is handled.\nWe introduce a new configuration `federation_attribute_mapping_schema_version`,\nwhich defaults to ""1.0"". This attribute mapping schema version will then be\nused to control the validation of attribute mapping, and also the rule\nprocessors used to process the attributes that come from the IdP. So far, with\nthis PR, we introduce the attribute mapping schema ""1.1"", which enables\noperators to also define a domain for the projects they want to assign users.\nIf no domain is defined either in the project or in the global domain definition\nfor the attribute mapping, we take the IdP domain as the default.\n\nChange-Id: Ia9583a254336fad7b302430a38b538c84338d13d\nImplements: https://bugs.launchpad.net/keystone/+bug/1887515\nCloses-Bug: #1887515\n'}, {'number': 6, 'created': '2020-08-28 13:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/054ebec60795e07c491d98fdc97a2022d35024b4', 'message': 'Keystone to honor the ""domain"" attribute mapping rules\n\nWe propose to extend Keystone identity provider (IdP) attribute mapping schema\nto make Keystone honor the `domain` configuration that we have on it.\nCurrently, that configuration is only used to define a default domain for\ngroups (and then each group there, could override it). It is interesting to\nexpand this configuration (as long as it is in the root of the attribute\nmapping) to be also applied for users and projects.\n\nMoreover, to facilitate the development and extension concerning attribute\nmappings for IdPs, we changed the way the attribute mapping schema is handled.\nWe introduce a new configuration `federation_attribute_mapping_schema_version`,\nwhich defaults to ""1.0"". This attribute mapping schema version will then be\nused to control the validation of attribute mapping, and also the rule\nprocessors used to process the attributes that come from the IdP. So far, with\nthis PR, we introduce the attribute mapping schema ""1.1"", which enables\noperators to also define a domain for the projects they want to assign users.\nIf no domain is defined either in the project or in the global domain definition\nfor the attribute mapping, we take the IdP domain as the default.\n\nChange-Id: Ia9583a254336fad7b302430a38b538c84338d13d\nImplements: https://bugs.launchpad.net/keystone/+bug/1887515\nCloses-Bug: #1887515\n'}, {'number': 7, 'created': '2020-08-28 17:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4f6467c10e8eb7b0128cc42c32680aea234b275e', 'message': 'Keystone to honor the ""domain"" attribute mapping rules\n\nWe propose to extend Keystone identity provider (IdP) attribute mapping schema\nto make Keystone honor the `domain` configuration that we have on it.\nCurrently, that configuration is only used to define a default domain for\ngroups (and then each group there, could override it). It is interesting to\nexpand this configuration (as long as it is in the root of the attribute\nmapping) to be also applied for users and projects.\n\nMoreover, to facilitate the development and extension concerning attribute\nmappings for IdPs, we changed the way the attribute mapping schema is handled.\nWe introduce a new configuration `federation_attribute_mapping_schema_version`,\nwhich defaults to ""1.0"". This attribute mapping schema version will then be\nused to control the validation of attribute mapping, and also the rule\nprocessors used to process the attributes that come from the IdP. So far, with\nthis PR, we introduce the attribute mapping schema ""1.1"", which enables\noperators to also define a domain for the projects they want to assign users.\nIf no domain is defined either in the project or in the global domain definition\nfor the attribute mapping, we take the IdP domain as the default.\n\nChange-Id: Ia9583a254336fad7b302430a38b538c84338d13d\nImplements: https://bugs.launchpad.net/keystone/+bug/1887515\nCloses-Bug: #1887515\n'}, {'number': 8, 'created': '2020-08-31 23:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9891fd51cba585310053590de0d38be799354c7b', 'message': 'Keystone to honor the ""domain"" attribute mapping rules\n\nWe propose to extend Keystone identity provider (IdP) attribute mapping schema\nto make Keystone honor the `domain` configuration that we have on it.\nCurrently, that configuration is only used to define a default domain for\ngroups (and then each group there, could override it). It is interesting to\nexpand this configuration (as long as it is in the root of the attribute\nmapping) to be also applied for users and projects.\n\nMoreover, to facilitate the development and extension concerning attribute\nmappings for IdPs, we changed the way the attribute mapping schema is handled.\nWe introduce a new configuration `federation_attribute_mapping_schema_version`,\nwhich defaults to ""1.0"". This attribute mapping schema version will then be\nused to control the validation of attribute mapping, and also the rule\nprocessors used to process the attributes that come from the IdP. So far, with\nthis PR, we introduce the attribute mapping schema ""1.1"", which enables\noperators to also define a domain for the projects they want to assign users.\nIf no domain is defined either in the project or in the global domain definition\nfor the attribute mapping, we take the IdP domain as the default.\n\nChange-Id: Ia9583a254336fad7b302430a38b538c84338d13d\nImplements: https://bugs.launchpad.net/keystone/+bug/1887515\nCloses-Bug: #1887515\n'}, {'number': 9, 'created': '2020-09-02 15:55:54.000000000', 'files': ['keystone/federation/utils.py', 'keystone/tests/unit/test_backend_federation_sql.py', 'keystone/federation/core.py', 'keystone/common/sql/contract_repo/versions/079_contract_add_attribute_mapping_schema_version.py', 'keystone/common/sql/data_migration_repo/versions/079_migrate_add_attribute_mapping_schema_version.py', 'keystone/api/os_federation.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/tests/unit/test_cli.py', 'keystone/tests/unit/test_middleware.py', 'keystone/common/sql/expand_repo/versions/079_expand_add_attribute_mapping_schema_version.py', 'keystone/tests/unit/federation/test_utils.py', 'keystone/tests/unit/test_v3_federation.py', 'doc/source/admin/federation/mapping_combinations.rst', 'keystone/auth/plugins/mapped.py', 'keystone/cmd/cli.py', 'keystone/conf/identity_mapping.py', 'keystone/tests/unit/auth/plugins/test_mapped.py', 'keystone/federation/backends/sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/bfc37ddabb4afb8fe50a2376595fdebfac6e91be', 'message': 'Keystone to honor the ""domain"" attribute mapping rules\n\nWe propose to extend Keystone identity provider (IdP) attribute mapping schema\nto make Keystone honor the `domain` configuration that we have on it.\nCurrently, that configuration is only used to define a default domain for\ngroups (and then each group there, could override it). It is interesting to\nexpand this configuration (as long as it is in the root of the attribute\nmapping) to be also applied for users and projects.\n\nMoreover, to facilitate the development and extension concerning attribute\nmappings for IdPs, we changed the way the attribute mapping schema is handled.\nWe introduce a new configuration `federation_attribute_mapping_schema_version`,\nwhich defaults to ""1.0"". This attribute mapping schema version will then be\nused to control the validation of attribute mapping, and also the rule\nprocessors used to process the attributes that come from the IdP. So far, with\nthis PR, we introduce the attribute mapping schema ""1.1"", which enables\noperators to also define a domain for the projects they want to assign users.\nIf no domain is defined either in the project or in the global domain definition\nfor the attribute mapping, we take the IdP domain as the default.\n\nChange-Id: Ia9583a254336fad7b302430a38b538c84338d13d\nImplements: https://bugs.launchpad.net/keystone/+bug/1887515\nCloses-Bug: #1887515\n'}]",13,739966,bfc37ddabb4afb8fe50a2376595fdebfac6e91be,51,3,9,28356,,,0,"Keystone to honor the ""domain"" attribute mapping rules

We propose to extend Keystone identity provider (IdP) attribute mapping schema
to make Keystone honor the `domain` configuration that we have on it.
Currently, that configuration is only used to define a default domain for
groups (and then each group there, could override it). It is interesting to
expand this configuration (as long as it is in the root of the attribute
mapping) to be also applied for users and projects.

Moreover, to facilitate the development and extension concerning attribute
mappings for IdPs, we changed the way the attribute mapping schema is handled.
We introduce a new configuration `federation_attribute_mapping_schema_version`,
which defaults to ""1.0"". This attribute mapping schema version will then be
used to control the validation of attribute mapping, and also the rule
processors used to process the attributes that come from the IdP. So far, with
this PR, we introduce the attribute mapping schema ""1.1"", which enables
operators to also define a domain for the projects they want to assign users.
If no domain is defined either in the project or in the global domain definition
for the attribute mapping, we take the IdP domain as the default.

Change-Id: Ia9583a254336fad7b302430a38b538c84338d13d
Implements: https://bugs.launchpad.net/keystone/+bug/1887515
Closes-Bug: #1887515
",git fetch https://review.opendev.org/openstack/keystone refs/changes/66/739966/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/federation/utils.py', 'keystone/tests/unit/federation/test_utils.py', 'doc/source/admin/federation/mapping_combinations.rst', 'keystone/auth/plugins/mapped.py', 'keystone/conf/identity_mapping.py', 'keystone/federation/core.py', 'keystone/tests/unit/auth/plugins/test_mapped.py']",7,b25c8a9638dc1f97f2e3ffa65051a5a98c686ca2,bug/1887515,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import uuid from unittest import mock from keystone.assignment.core import Manager as AssignmentApi from keystone.exception import ProjectNotFound from keystone.resource.core import Manager as ResourceApi from keystone.auth.plugins import mapped from keystone.tests import unit class TestMappedPlugin(unit.TestCase): def __init__(self, *args, **kwargs): super(TestMappedPlugin, self).__init__(*args, **kwargs) def setUp(self): super(TestMappedPlugin, self).setUp() self.resource_api_mock = mock.Mock(spec=ResourceApi) self.assignment_api_mock = mock.Mock(spec=AssignmentApi) self.domain_uuid_mock = uuid.uuid4().hex self.domain_mock = {'id': self.domain_uuid_mock} self.idp_domain_uuid_mock = uuid.uuid4().hex self.member_role_id = uuid.uuid4().hex self.member_role_name = ""member"" self.existing_roles = { self.member_role_name: {'id': self.member_role_id}} self.shadow_project_mock = {'name': ""test-project"", 'roles': [{'name': self.member_role_name}]} self.shadow_project_in_domain_mock = { 'name': ""test-project-in-domain"", 'domain': self.domain_mock, 'roles': [{'name': self.member_role_name}]} self.shadow_projects_mock = [self.shadow_project_mock, self.shadow_project_in_domain_mock] self.user_mock = {'id': uuid.uuid4().hex, 'name': ""test-user""} def test_configure_project_domain_no_project_domain(self): mapped.configure_project_domain(self.shadow_project_mock, self.idp_domain_uuid_mock, self.resource_api_mock) self.assertIn(""domain"", self.shadow_project_mock) self.assertEqual(self.idp_domain_uuid_mock, self.shadow_project_mock['domain']['id']) def test_configure_project_domain_with_domain_id(self): self.shadow_project_mock['domain'] = self.domain_mock mapped.configure_project_domain(self.shadow_project_mock, self.idp_domain_uuid_mock, self.resource_api_mock) self.assertIn(""domain"", self.shadow_project_mock) self.assertEqual(self.domain_uuid_mock, self.shadow_project_mock['domain']['id']) def test_configure_project_domain_with_domain_name(self): domain_name = ""test-domain"" self.shadow_project_mock['domain'] = {'name': domain_name} self.resource_api_mock.get_domain_by_name.return_value = self.domain_mock mapped.configure_project_domain(self.shadow_project_mock, self.idp_domain_uuid_mock, self.resource_api_mock) self.assertIn(""domain"", self.shadow_project_mock) self.assertEqual(self.domain_uuid_mock, self.shadow_project_mock['domain']['id']) self.resource_api_mock.get_domain_by_name.assert_called_with( domain_name) def test_handle_projects_from_mapping_project_exists(self): project_mock_1 = self.create_project_mock_for_shadow_project( self.shadow_project_mock) project_mock_2 = self.create_project_mock_for_shadow_project( self.shadow_project_in_domain_mock) self.resource_api_mock.get_project_by_name.side_effect = [ project_mock_1, project_mock_2] mapped.handle_projects_from_mapping(self.shadow_projects_mock, self.idp_domain_uuid_mock, self.existing_roles, self.user_mock, self.assignment_api_mock, self.resource_api_mock ) self.resource_api_mock.get_project_by_name.assert_has_calls([ mock.call(self.shadow_project_in_domain_mock['name'], self.shadow_project_in_domain_mock['domain']['id']), mock.call(self.shadow_project_mock['name'], self.idp_domain_uuid_mock)], any_order=True) self.assignment_api_mock.create_grant.assert_has_calls([ mock.call(self.member_role_id, user_id=self.user_mock['id'], project_id=project_mock_1['id']), mock.call(self.member_role_id, user_id=self.user_mock['id'], project_id=project_mock_2['id']) ]) @mock.patch(""uuid.UUID.hex"", new_callable=mock.PropertyMock) def test_handle_projects_from_mapping_create_projects(self, uuid_mock): uuid_mock.return_value = ""uuid"" project_mock_1 = self.create_project_mock_for_shadow_project( self.shadow_project_mock) project_mock_2 = self.create_project_mock_for_shadow_project( self.shadow_project_in_domain_mock) self.resource_api_mock.get_project_by_name.side_effect = [ ProjectNotFound(project_id=project_mock_1['name']), ProjectNotFound(project_id=project_mock_2['name'])] self.resource_api_mock.create_project.side_effect = [ project_mock_1, project_mock_2] mapped.handle_projects_from_mapping(self.shadow_projects_mock, self.idp_domain_uuid_mock, self.existing_roles, self.user_mock, self.assignment_api_mock, self.resource_api_mock ) self.resource_api_mock.get_project_by_name.assert_has_calls([ mock.call(self.shadow_project_in_domain_mock['name'], self.shadow_project_in_domain_mock['domain']['id']), mock.call(self.shadow_project_mock['name'], self.idp_domain_uuid_mock)], any_order=True) expected_project_ref1 = { 'id': ""uuid"", 'name': self.shadow_project_mock['name'], 'domain_id': self.idp_domain_uuid_mock } expected_project_ref2 = { 'id': ""uuid"", 'name': self.shadow_project_in_domain_mock['name'], 'domain_id': self.shadow_project_in_domain_mock['domain']['id'] } self.resource_api_mock.create_project.assert_has_calls([ mock.call(expected_project_ref1['id'], expected_project_ref1), mock.call(expected_project_ref2['id'], expected_project_ref2)]) self.assignment_api_mock.create_grant.assert_has_calls([ mock.call(self.member_role_id, user_id=self.user_mock['id'], project_id=project_mock_1['id']), mock.call(self.member_role_id, user_id=self.user_mock['id'], project_id=project_mock_2['id']) ]) def create_project_mock_for_shadow_project(self, shadow_project): project = shadow_project.copy() project['id'] = uuid.uuid4().hex return project ",,680,77
openstack%2Fheat~stable%2Fyoga~I71f8398b6aa57b7c1910750b8e048825383e3d9a,openstack/heat,stable/yoga,I71f8398b6aa57b7c1910750b8e048825383e3d9a,Use constraints when creating venv for grenade,MERGED,2022-07-01 10:52:28.000000000,2022-07-01 15:16:30.000000000,2022-07-01 15:13:39.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 10:52:28.000000000', 'files': ['.zuul.yaml', 'devstack/upgrade/resources.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/976bcf9ef34014cdd5cf15f97243609c96ac8ee8', 'message': ""Use constraints when creating venv for grenade\n\nAs a followup for change I6a8cffdc86c895eebe4269c5cd37841325566c54\nlet's use branch specific upper constraints when running tests in\ngrenade.\n\nChange-Id: I71f8398b6aa57b7c1910750b8e048825383e3d9a\n(cherry picked from commit 39d653fa5741e45d26388950270e7ed3ca489b89)\n""}]",1,848354,976bcf9ef34014cdd5cf15f97243609c96ac8ee8,11,2,1,9816,,,0,"Use constraints when creating venv for grenade

As a followup for change I6a8cffdc86c895eebe4269c5cd37841325566c54
let's use branch specific upper constraints when running tests in
grenade.

Change-Id: I71f8398b6aa57b7c1910750b8e048825383e3d9a
(cherry picked from commit 39d653fa5741e45d26388950270e7ed3ca489b89)
",git fetch https://review.opendev.org/openstack/heat refs/changes/54/848354/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'devstack/upgrade/resources.sh']",2,976bcf9ef34014cdd5cf15f97243609c96ac8ee8,, export UPPER_CONSTRAINTS_FILE=$DEST/requirements/upper-constraints.txt export TOX_CONSTRAINTS_FILE=$UPPER_CONSTRAINTS_FILE export HEAT_TEMPEST_PLUGIN=$DEST/heat-tempest-plugin sudo git config --system --add safe.directory $HEAT_TEMPEST_PLUGIN tox -evenv-tempest -- pip install -c$UPPER_CONSTRAINTS_FILE $HEAT_TEMPEST_PLUGIN,,6,2
openstack%2Fpython-manilaclient~master~I385d0bf4b16083d9630969319ecc752681e8fe87,openstack/python-manilaclient,master,I385d0bf4b16083d9630969319ecc752681e8fe87,"Fix ""test_share_server_migration"" sporadic failure",MERGED,2022-06-30 20:52:18.000000000,2022-07-01 15:12:39.000000000,2022-07-01 15:11:01.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31213}]","[{'number': 1, 'created': '2022-06-30 20:52:18.000000000', 'files': ['manilaclient/tests/functional/test_share_servers.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/00caf0a5a5e0704fe3530865b759e6cbae2febeb', 'message': 'Fix ""test_share_server_migration"" sporadic failure\n\nThe test in question kicks off the second phase\nof share server migration (migration complete).\nWhen the task state of the destination server\nchanges to ""migration_success"", it checks if the\nsource server has been deleted. The problem is\nthat the deletion isn\'t instantaneous [1]. So,\nlets wait for the cleanup rather than expect\nto not find the source share server as soon as\nthe migration is completed.\n\n[1] https://opendev.org/openstack/manila/src/commit/5866dadd4b1ddcd935c854b3190e6df5e12ac4e4/manila/share/manager.py#L5658-L5674\n\nChange-Id: I385d0bf4b16083d9630969319ecc752681e8fe87\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",2,848335,00caf0a5a5e0704fe3530865b759e6cbae2febeb,8,3,1,16643,,,0,"Fix ""test_share_server_migration"" sporadic failure

The test in question kicks off the second phase
of share server migration (migration complete).
When the task state of the destination server
changes to ""migration_success"", it checks if the
source server has been deleted. The problem is
that the deletion isn't instantaneous [1]. So,
lets wait for the cleanup rather than expect
to not find the source share server as soon as
the migration is completed.

[1] https://opendev.org/openstack/manila/src/commit/5866dadd4b1ddcd935c854b3190e6df5e12ac4e4/manila/share/manager.py#L5658-L5674

Change-Id: I385d0bf4b16083d9630969319ecc752681e8fe87
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/35/848335/1 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/tests/functional/test_share_servers.py'],1,00caf0a5a5e0704fe3530865b759e6cbae2febeb,functional-tests, self.admin_client.wait_for_share_server_deletion(share_server_id)," self.assertRaises(exceptions.NotFound, self.admin_client.get_share_server, share_server_id)",2,3
openstack%2Ftripleo-common~master~I65b32f4ce3fddeb694fb33ca65076d45d23a3bb6,openstack/tripleo-common,master,I65b32f4ce3fddeb694fb33ca65076d45d23a3bb6,Reduce memory consumption in Cinder services,MERGED,2022-06-14 18:46:23.000000000,2022-07-01 15:07:45.000000000,2022-07-01 13:10:17.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9535}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-14 18:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d0cb348bda6213e9fe9021e82476326732518abf', 'message': ""Reduce memory consumption in OpenStack services\n\nThis patch reduces memory usage of the different OpenStack Python\nservices by tuning glibc.\n\nThe specific tuning consist on disabling the per thread arenas and\ndisabling dynamic thresholds.\n\nThe primary objective of this change is the Cinder Backup service, which\nnot only suffers from high water mark memory usage, but is also uses\nexcessive memory with default values.\n\nJust after 10 restore operations it ends up using almost 1GB or RAM and\ndoes not ever free it afterwards.  With this patch the memory\nconsumption of the service is reduced down to almost 130MB.  If we add a\nrevert from Cinder (Change-Id I43a20c8687f12bc52b014611cc6977c4c3ca212c)\nit goes down to 100MB.\n\nIt's even worse on real deployments, where we have seen a reduction in\npeak memory usage, going down from 2.9GB to 1.2GB, and fixing the high\nwater mark issue that previously left the service constantly using 2GB\ngoing down to 140MB.\n\nThis glibc tuning is applied to all Python services, since it could be\npotentially helpful without real performance impact.\n\nThis is the equivalent of the devstack proposed patch from Change-Id\nIc9030d01468b3189350f83b04a8d1d346c489d3c\n\nChange-Id: I65b32f4ce3fddeb694fb33ca65076d45d23a3bb6\n""}, {'number': 2, 'created': '2022-06-17 10:43:15.000000000', 'files': ['releasenotes/notes/reduce-memory-consumption-d7effb68ab63b8c5.yaml', 'container-images/tcib/base/os/cinder-base/cinder-backup/cinder-backup.yaml', 'container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6d8b07b7f9500850cb08a64e436eeb2f38c00b11', 'message': ""Reduce memory consumption in Cinder services\n\nThis patch reduces memory usage for Cinder Volume and Backup services by\ntuning glibc.\n\nThe specific tuning consist on disabling the per thread arenas and\ndisabling dynamic thresholds.\n\nThe Cinder Backup service suffers from high water mark memory usage and\nuses excessive memory.  As an example just after 10 restore operations\nthe service uses almost 1GB of RAM and does not ever free it afterwards.\nWith this patch the memory consumption of the service is reduced down to\nalmost 130MB.  If we add a revert from Cinder (Change-Id\nI43a20c8687f12bc52b014611cc6977c4c3ca212c) it goes down to 100MB during\nmy tests.\n\nIt's even worse on real deployments, where we have seen a reduction in\npeak memory usage, going down from 2.9GB to 1.2GB, and fixing the high\nwater mark issue that previously left the service constantly using 2GB\ngoing down to 140MB.\n\nThis glibc tuning is not applied to all Python services because I\nhaven't done proper testings on them and at first glance they don't seem\nto have such great improvements.\n\nThis is the equivalent of the devstack proposed patch from Change-Id\nIc9030d01468b3189350f83b04a8d1d346c489d3c\n\nRelated-bug: #1908805\nChange-Id: I65b32f4ce3fddeb694fb33ca65076d45d23a3bb6\n""}]",12,845807,6d8b07b7f9500850cb08a64e436eeb2f38c00b11,34,8,2,9535,,,0,"Reduce memory consumption in Cinder services

This patch reduces memory usage for Cinder Volume and Backup services by
tuning glibc.

The specific tuning consist on disabling the per thread arenas and
disabling dynamic thresholds.

The Cinder Backup service suffers from high water mark memory usage and
uses excessive memory.  As an example just after 10 restore operations
the service uses almost 1GB of RAM and does not ever free it afterwards.
With this patch the memory consumption of the service is reduced down to
almost 130MB.  If we add a revert from Cinder (Change-Id
I43a20c8687f12bc52b014611cc6977c4c3ca212c) it goes down to 100MB during
my tests.

It's even worse on real deployments, where we have seen a reduction in
peak memory usage, going down from 2.9GB to 1.2GB, and fixing the high
water mark issue that previously left the service constantly using 2GB
going down to 140MB.

This glibc tuning is not applied to all Python services because I
haven't done proper testings on them and at first glance they don't seem
to have such great improvements.

This is the equivalent of the devstack proposed patch from Change-Id
Ic9030d01468b3189350f83b04a8d1d346c489d3c

Related-bug: #1908805
Change-Id: I65b32f4ce3fddeb694fb33ca65076d45d23a3bb6
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/845807/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/reduce-memory-consumption-d7effb68ab63b8c5.yaml', 'container-images/tcib/base/base.yaml']",2,d0cb348bda6213e9fe9021e82476326732518abf,memory-usage, MALLOC_ARENA_MAX: 1 MALLOC_MMAP_THRESHOLD_: 131072 MALLOC_TRIM_THRESHOLD_: 262144,,8,0
openstack%2Fironic~master~I8ead1d24a9bd502b64fe7dd058e77550fcee141c,openstack/ironic,master,I8ead1d24a9bd502b64fe7dd058e77550fcee141c,Fix redfish-virtual-media for newer iDRACs,MERGED,2022-06-29 13:12:14.000000000,2022-07-01 14:55:29.000000000,2022-07-01 12:22:11.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-29 13:12:14.000000000', 'files': ['ironic/drivers/modules/drac/boot.py', 'doc/source/admin/drivers/redfish.rst', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/redfish/boot.py', 'releasenotes/notes/fix-redfish-vm-boot-idrac-37ec734e6643cbac.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/73040c88d99f066644277f32e86d196305fc8596', 'message': 'Fix redfish-virtual-media for newer iDRACs\n\nThe issue with standard Redfish virtual media boot has\nbeen fixed now. Update to restrict use of redfish-virtual-media\nbased on iDRAC firmware version.\n\nChange-Id: I8ead1d24a9bd502b64fe7dd058e77550fcee141c\n'}]",3,848107,73040c88d99f066644277f32e86d196305fc8596,22,3,1,27909,,,0,"Fix redfish-virtual-media for newer iDRACs

The issue with standard Redfish virtual media boot has
been fixed now. Update to restrict use of redfish-virtual-media
based on iDRAC firmware version.

Change-Id: I8ead1d24a9bd502b64fe7dd058e77550fcee141c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/07/848107/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/boot.py', 'doc/source/admin/drivers/redfish.rst', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/redfish/boot.py', 'releasenotes/notes/fix-redfish-vm-boot-idrac-37ec734e6643cbac.yaml']",5,73040c88d99f066644277f32e86d196305fc8596,idrac-virtual-media,"--- fixes: - | Fixes ``redfish-virtual-media`` ``boot`` interface to allow it with iDRAC firmware from 6.00.00.00 (released June 2022) as it has virtual media boot issue fixed that prevented iDRAC firmware to work with ``redfish-virtual-media`` before. Consider upgrading iDRAC firmware if not done already, otherwise will still get an error when trying to use ``redfish-virtual-media`` with iDRAC. ",,73,19
openstack%2Fsahara-plugin-ambari~master~I8824d2b1cc108b1857dd3857efee0d3e58f5cf70,openstack/sahara-plugin-ambari,master,I8824d2b1cc108b1857dd3857efee0d3e58f5cf70,Update python testing classifier,MERGED,2021-12-21 09:58:48.000000000,2022-07-01 14:45:06.000000000,2022-07-01 14:43:26.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30077}]","[{'number': 1, 'created': '2021-12-21 09:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-ambari/commit/7d76861b26629ef0cd5c0598f16b6fbb6cd746af', 'message': 'Update python testing classifier\n\nChange-Id: I8824d2b1cc108b1857dd3857efee0d3e58f5cf70\n'}, {'number': 2, 'created': '2022-06-29 11:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-ambari/commit/7a03eaf977fcf25ea04672a42983de82daaac71e', 'message': 'Update python testing classifier\n\nRemove py36 and py37,and add py39.\n\nChange-Id: I8824d2b1cc108b1857dd3857efee0d3e58f5cf70\n'}, {'number': 3, 'created': '2022-07-01 14:02:34.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-ambari/commit/1c4c442525f8383d121c3ce3e80f1b737cc350b9', 'message': 'Update python testing classifier\n\nRemove py36 and py37,and add py39.\n\nChange-Id: I8824d2b1cc108b1857dd3857efee0d3e58f5cf70\n'}]",0,822458,1c4c442525f8383d121c3ce3e80f1b737cc350b9,15,4,3,34375,,,0,"Update python testing classifier

Remove py36 and py37,and add py39.

Change-Id: I8824d2b1cc108b1857dd3857efee0d3e58f5cf70
",git fetch https://review.opendev.org/openstack/sahara-plugin-ambari refs/changes/58/822458/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7d76861b26629ef0cd5c0598f16b6fbb6cd746af,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fsahara-plugin-mapr~master~I1ed84376e3cd5f7dad8ba1642e52d1b150c43203,openstack/sahara-plugin-mapr,master,I1ed84376e3cd5f7dad8ba1642e52d1b150c43203,Delete py36 and py37,MERGED,2021-12-21 10:47:11.000000000,2022-07-01 14:45:04.000000000,2022-07-01 14:43:25.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30077}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-12-21 10:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/84305a9429962bf2368440897e572e9153debd1a', 'message': 'Update python testing classifier\n\nChange-Id: I1ed84376e3cd5f7dad8ba1642e52d1b150c43203\n'}, {'number': 2, 'created': '2022-06-24 10:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/0462aecd4777a6911c221cfb679d87572a8a10fe', 'message': 'Update python testing classifier\n\nChange-Id: I1ed84376e3cd5f7dad8ba1642e52d1b150c43203\n'}, {'number': 3, 'created': '2022-06-29 09:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/d3d6ba252b4c7c8576de23d70b1b9eeceb1932ed', 'message': 'Delete py36 and py37\n\nAdd py39 in setup.cfg.\n\nChange-Id: I1ed84376e3cd5f7dad8ba1642e52d1b150c43203\n'}, {'number': 4, 'created': '2022-07-01 14:01:56.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/3708548d0ba92a46c04638a1ea34510be03c2f05', 'message': 'Delete py36 and py37\n\nAdd py39 in setup.cfg.\n\nChange-Id: I1ed84376e3cd5f7dad8ba1642e52d1b150c43203\n'}]",2,822474,3708548d0ba92a46c04638a1ea34510be03c2f05,20,5,4,34375,,,0,"Delete py36 and py37

Add py39 in setup.cfg.

Change-Id: I1ed84376e3cd5f7dad8ba1642e52d1b150c43203
",git fetch https://review.opendev.org/openstack/sahara-plugin-mapr refs/changes/74/822474/4 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,84305a9429962bf2368440897e572e9153debd1a,, Programming Language :: Python :: 3.9,,1,0
openstack%2Freleases~master~Ibbae7c24eb3d98494b8a5bc59bc956c8d66dc154,openstack/releases,master,Ibbae7c24eb3d98494b8a5bc59bc956c8d66dc154,Release OpenStack-Ansible Yoga RC2,MERGED,2022-06-30 18:31:36.000000000,2022-07-01 14:44:53.000000000,2022-07-01 14:44:53.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-30 18:31:36.000000000', 'files': ['deliverables/yoga/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8e964c1bc207d6c03709b1ba2a9f3731da0a370a', 'message': 'Release OpenStack-Ansible Yoga RC2\n\nChange-Id: Ibbae7c24eb3d98494b8a5bc59bc956c8d66dc154\n'}]",1,848327,8e964c1bc207d6c03709b1ba2a9f3731da0a370a,8,3,1,28619,,,0,"Release OpenStack-Ansible Yoga RC2

Change-Id: Ibbae7c24eb3d98494b8a5bc59bc956c8d66dc154
",git fetch https://review.opendev.org/openstack/releases refs/changes/27/848327/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/openstack-ansible.yaml'],1,8e964c1bc207d6c03709b1ba2a9f3731da0a370a,release_osa, - version: 25.0.0.0rc2 projects: - repo: openstack/openstack-ansible hash: cc1bd29cb304042f8fb03b4bd770b1934904ba6b,,4,0
openstack%2Fpython-openstackclient~master~I5e988faf14288d4cf995b9859e6348d89ff1dca1,openstack/python-openstackclient,master,I5e988faf14288d4cf995b9859e6348d89ff1dca1,Use different segments for different tests,ABANDONED,2022-06-30 09:36:37.000000000,2022-07-01 14:30:41.000000000,,"[{'_account_id': 8313}, {'_account_id': 13252}, {'_account_id': 16515}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-06-30 09:36:37.000000000', 'files': ['openstackclient/tests/functional/network/v2/test_network_segment.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/be501af6af108c11e9b2ad8b0d884700b861b043', 'message': 'Use different segments for different tests\n\nIf these tests run in parallel, things fail because neutron (rather\nsensibly) does not allow you to create two segments with the same ID on\nthe same network. Instead, we see the following error message:\n\n  Unable to create the network. The tunnel ID 2055 is in use.\n\nAvoid this by using different values instead.\n\nChange-Id: I5e988faf14288d4cf995b9859e6348d89ff1dca1\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1980346\n'}]",11,848242,be501af6af108c11e9b2ad8b0d884700b861b043,20,6,1,15334,,,0,"Use different segments for different tests

If these tests run in parallel, things fail because neutron (rather
sensibly) does not allow you to create two segments with the same ID on
the same network. Instead, we see the following error message:

  Unable to create the network. The tunnel ID 2055 is in use.

Avoid this by using different values instead.

Change-Id: I5e988faf14288d4cf995b9859e6348d89ff1dca1
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1980346
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/42/848242/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/functional/network/v2/test_network_segment.py'],1,be501af6af108c11e9b2ad8b0d884700b861b043,bug/1980346, '--segment 2056 ' + '--segment 2057 ' +, '--segment 2055 ' + '--segment 2055 ' +,2,2
openstack%2Fpython-manilaclient~master~I153d3131b591aef599cff87a5dbd85f5db3115dd,openstack/python-manilaclient,master,I153d3131b591aef599cff87a5dbd85f5db3115dd,[OSC] Implement Share Migration Cancel and Complete Command,MERGED,2022-04-17 17:25:59.000000000,2022-07-01 14:27:37.000000000,2022-07-01 14:26:18.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31213}]","[{'number': 1, 'created': '2022-04-17 17:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/5804e4a97b1392ca0612b5b7eebf877de7a37c7c', 'message': ""[OSC] Implement Share Migration Cancel and Complete Command\n\nThis commit adds 'openstack share migration cancel' and 'openstack share complete'\ncommand, that implement the same functionality as 'manila migration-cancel'and\nmanila migration-complete command.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I153d3131b591aef599cff87a5dbd85f5db3115dd\n""}, {'number': 2, 'created': '2022-04-17 17:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c6e2df8478ee5803f517986bae281dd22d1f0111', 'message': ""[OSC] Implement Share Migration Cancel and Complete Command\n\nThis commit adds 'openstack share migration cancel' and\n'openstack share complete' command, that implement the\nsame functionality as 'manila migration-cancel'and manila\nmigration-complete command.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I153d3131b591aef599cff87a5dbd85f5db3115dd\n""}, {'number': 3, 'created': '2022-04-17 17:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/6d60fbe291e64acaaad7191ba1e13bd350f884ef', 'message': ""[OSC] Implement Share Migration Cancel and Complete Command\n\nThis commit adds 'openstack share migration cancel' and\n'openstack share complete' command, that implement the\nsame functionality as 'manila migration-cancel'and manila\nmigration-complete command.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I153d3131b591aef599cff87a5dbd85f5db3115dd\n""}, {'number': 4, 'created': '2022-04-17 17:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/edbb117329de92cabd6d9cf975968384b2045fe0', 'message': ""[OSC] Implement Share Migration Cancel and Complete Command\n\nThis commit adds 'openstack share migration cancel' and\n'openstack share complete' command, that implement the\nsame functionality as 'manila migration-cancel'and manila\nmigration-complete command.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I153d3131b591aef599cff87a5dbd85f5db3115dd\n""}, {'number': 5, 'created': '2022-04-17 17:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f96648d40cd44f80a85d4abc0dd9fd6c50b024b6', 'message': ""[OSC] Implement Share Migration Cancel and Complete Command\n\nThis commit adds 'openstack share migration cancel' and\n'openstack share complete' command, that implement the\nsame functionality as 'manila migration-cancel'and manila\nmigration-complete command.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I153d3131b591aef599cff87a5dbd85f5db3115dd\n""}, {'number': 6, 'created': '2022-04-20 13:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9fd643396670b057e9cf68420180b02c646ae0a0', 'message': ""[OSC] Implement Share Migration Cancel and Complete Command\n\nThis commit adds 'openstack share migration cancel' and\n'openstack share complete' command, that implement the\nsame functionality as 'manila migration-cancel'and manila\nmigration-complete command.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I153d3131b591aef599cff87a5dbd85f5db3115dd\n""}, {'number': 7, 'created': '2022-06-05 07:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/fa04347cd76a19e070befe411a37edcbbbdc79ff', 'message': ""[OSC] Implement Share Migration Cancel and Complete Command\n\nThis commit adds 'openstack share migration cancel' and\n'openstack share migration complete' command, that implement the\nsame functionality as 'manila migration-cancel'and 'manila\nmigration-complete' command.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I153d3131b591aef599cff87a5dbd85f5db3115dd\n""}, {'number': 8, 'created': '2022-06-05 07:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/3c32472d3278133aa41421a75ab30ec1ee465712', 'message': ""[OSC] Implement Share Migration Cancel and Complete Command\n\nThis commit adds 'openstack share migration cancel' and\n'openstack share migration complete' command, that implement the\nsame functionality as 'manila migration-cancel'and 'manila\nmigration-complete' command.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I153d3131b591aef599cff87a5dbd85f5db3115dd\n""}, {'number': 9, 'created': '2022-06-29 08:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e97b2446df56a98fccfec5eacd0dca0fbbeb75e6', 'message': ""[OSC] Implement Share Migration Cancel and Complete Command\n\nThis commit adds 'openstack share migration cancel' and\n'openstack share migration complete' command, that implement the\nsame functionality as 'manila migration-cancel'and 'manila\nmigration-complete' command.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I153d3131b591aef599cff87a5dbd85f5db3115dd\n""}, {'number': 10, 'created': '2022-07-01 11:39:22.000000000', 'files': ['manilaclient/osc/v2/share.py', 'manilaclient/tests/unit/osc/v2/test_share.py', 'doc/source/cli/osc/v2/index.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/495125587609a086cdb337ff62b682bd1b60d20f', 'message': ""[OSC] Implement Share Migration Cancel and Complete Command\n\nThis commit adds 'openstack share migration cancel' and\n'openstack share migration complete' command, that implement the\nsame functionality as 'manila migration-cancel'and 'manila\nmigration-complete' command.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I153d3131b591aef599cff87a5dbd85f5db3115dd\n""}]",7,838233,495125587609a086cdb337ff62b682bd1b60d20f,31,3,10,21785,,,0,"[OSC] Implement Share Migration Cancel and Complete Command

This commit adds 'openstack share migration cancel' and
'openstack share migration complete' command, that implement the
same functionality as 'manila migration-cancel'and 'manila
migration-complete' command.

Partially-implements: bp openstack-client-support
Change-Id: I153d3131b591aef599cff87a5dbd85f5db3115dd
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/33/838233/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/osc/v2/share.py', 'manilaclient/tests/unit/osc/v2/test_share.py', 'setup.cfg']",3,5804e4a97b1392ca0612b5b7eebf877de7a37c7c,bp/openstack-client-support, share_migration_cancel = manilaclient.osc.v2.share:ShareMigrationCancel share_migration_complete = manilaclient.osc.v2.share:ShareMigrationComplete,,102,3
openstack%2Fglance~master~I795c751edd1403d23aa1de5cda194aada80d05b2,openstack/glance,master,I795c751edd1403d23aa1de5cda194aada80d05b2,Fix fips job,MERGED,2022-06-21 19:38:18.000000000,2022-07-01 14:22:38.000000000,2022-07-01 14:19:41.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-21 19:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/97e446b32b2cd7672014753f6245848b4c48c17c', 'message': 'Fix fips job\n\nThe ecdsa usage for ssh is supposed to be the default right now.\nAlso, a new role paramter nslookup_target is required for the fips role\n\nChange-Id: I795c751edd1403d23aa1de5cda194aada80d05b2\n'}, {'number': 2, 'created': '2022-06-22 20:49:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/05543914a774bb4a170b789f64e6945bcfbc4259', 'message': 'Fix fips job\n\nThe ecdsa usage for ssh is supposed to be the default right now.\nAlso, a new role paramter nslookup_target is required for the fips role\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/847193\nChange-Id: I795c751edd1403d23aa1de5cda194aada80d05b2\n'}]",7,847089,05543914a774bb4a170b789f64e6945bcfbc4259,19,3,2,9914,,,0,"Fix fips job

The ecdsa usage for ssh is supposed to be the default right now.
Also, a new role paramter nslookup_target is required for the fips role

Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/847193
Change-Id: I795c751edd1403d23aa1de5cda194aada80d05b2
",git fetch https://review.opendev.org/openstack/glance refs/changes/89/847089/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,97e446b32b2cd7672014753f6245848b4c48c17c,fips-compatibility, nslookup_target: 'opendev.org'," devstack_local_conf: test-config: ""$TEMPEST_CONFIG"": validation: ssh_key_type: 'ecdsa'",1,5
openstack%2Fdevstack~master~I28e6159944746abe2d320369249b87f1c4b9e24e,openstack/devstack,master,I28e6159944746abe2d320369249b87f1c4b9e24e,Use OSCaaS to speed up devstack runs,NEW,2019-08-12 20:15:08.000000000,2022-07-01 14:17:06.000000000,,"[{'_account_id': 1955}, {'_account_id': 4146}, {'_account_id': 4393}, {'_account_id': 6928}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-12 20:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e21ece4dac62e48d1db765df4ac6d298e892a030', 'message': 'WIP: Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 2, 'created': '2019-08-12 20:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d458e998a84973fda77de8d8a6cb6299c291311c', 'message': 'WIP: Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 3, 'created': '2019-08-12 21:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8909630e1652f0996f526321919d3f500dab56b9', 'message': 'WIP: Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 4, 'created': '2019-08-13 05:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c97f396c9bb0543312985772dffeb749cfe3e64f', 'message': 'WIP: Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 5, 'created': '2019-08-13 14:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a43dbf5e81b54f360f1a8df78df3eb9b015e648d', 'message': 'WIP: Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 6, 'created': '2019-08-13 15:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ef7423bc0b06dec73684b8917a2123dd1d76b3d6', 'message': 'WIP: Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 7, 'created': '2019-08-13 16:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3aa698edbc8e007f0e086554a6effc6dbb036fa1', 'message': 'WIP: Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 8, 'created': '2019-08-13 16:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/26ea5af0d06292e64de45ab46f77fd06d5ff5677', 'message': 'WIP: Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 9, 'created': '2019-08-13 18:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e0b3b41dc1fe12e4257f56b06e32d874cb1b4f46', 'message': 'WIP: Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 10, 'created': '2019-08-13 19:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b1af62d7248d23f6008cb7f1f0d8d24312aaa04c', 'message': 'WIP: Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 11, 'created': '2019-08-13 22:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/609db27bd3a97ba9468bd556a3a4c7d9c329c6d0', 'message': 'WIP: Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 12, 'created': '2019-08-14 17:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/902d4fa63697e7ca0ba8b50a3a749d0b339a2f6a', 'message': 'WIP: Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 13, 'created': '2019-08-14 19:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/50943efead5f1ad6ffa043b1bc42d3425b14b33b', 'message': 'WIP: Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 14, 'created': '2019-08-14 22:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6877290d390fa921cc6481858458e43cf2b8a46b', 'message': 'WIP: Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 15, 'created': '2019-08-15 14:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/40eba9dff1487de65471212cec8179be05e24230', 'message': 'WIP: Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 16, 'created': '2019-08-15 15:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/24dd0a865ca5eb3064a8231ccf2d11cb608e4c14', 'message': 'WIP: Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 17, 'created': '2019-08-15 18:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/28e3c80e0eb2abf310c492cb114404c91df33ba1', 'message': 'Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nCurrently this is implemented as an opt-in feature. There are likely a\nlot of edge cases in projects that use a devstack plugin so turning it\non universally is going to require boiling the ocean. I think getting\nthis in and enabled for some of the major projects should give use a lot\nof the benefit without the enormous effort of making it 100% compatible\nacross all of OpenStack.\n\nAnother thing to note is that the openstack-server doesn\'t seem to be\nable to properly handle image upload commands, so I\'ve stored off a\ncopy of the original path variable and use that when devstack makes\n""openstack image create"" calls. It works, but it feels a little hacky\nto me so I\'m open to other solutions. It does have the advantage of\nproviding a standard way to use the original OSC when necessary.\n\nSince the devstack job definitions are used as the base job for many\nother jobs, the ansible var is set in the check and gate sections\ninstead of the job definition itself so they only apply to the jobs\nrunning in devstack itself.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 18, 'created': '2019-08-21 19:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/bae80f6ca2c8f3f8ac67e9ce70c77b21fd410986', 'message': 'Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nCurrently this is implemented as an opt-in feature. There are likely a\nlot of edge cases in projects that use a devstack plugin so turning it\non universally is going to require boiling the ocean. I think getting\nthis in and enabled for some of the major projects should give us a lot\nof the benefit without the enormous effort of making it 100% compatible\nacross all of OpenStack.\n\nAnother thing to note is that the openstack-cli-server doesn\'t seem to be\nable to properly handle image upload commands. The client side has\nlogic to run ""openstack image create"" directly instead of calling the\nserver in that case.\n\nSince the devstack job definitions are used as the base job for many\nother jobs, the ansible var is set in the check and gate sections\ninstead of the job definition itself so they only apply to the jobs\nrunning in devstack itself.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 19, 'created': '2019-08-22 16:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/bbda906e5dfc4c7509ab9e95c8d90480ebfb1e8d', 'message': 'Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nCurrently this is implemented as an opt-in feature. There are likely a\nlot of edge cases in projects that use a devstack plugin so turning it\non universally is going to require boiling the ocean. I think getting\nthis in and enabled for some of the major projects should give us a lot\nof the benefit without the enormous effort of making it 100% compatible\nacross all of OpenStack.\n\nAnother thing to note is that the openstack-cli-server doesn\'t seem to be\nable to properly handle image upload commands. The client side has\nlogic to run ""openstack image create"" directly instead of calling the\nserver in that case.\n\nSince the devstack job definitions are used as the base job for many\nother jobs, the ansible var is set in the check and gate sections\ninstead of the job definition itself so they only apply to the jobs\nrunning in devstack itself.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 20, 'created': '2021-02-09 23:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/78255a7a2a8441fd375cc7a0d583fc1a1943291f', 'message': 'Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nCurrently this is implemented as an opt-in feature. There are likely a\nlot of edge cases in projects that use a devstack plugin so turning it\non universally is going to require boiling the ocean. I think getting\nthis in and enabled for some of the major projects should give us a lot\nof the benefit without the enormous effort of making it 100% compatible\nacross all of OpenStack.\n\nAnother thing to note is that the openstack-cli-server doesn\'t seem to be\nable to properly handle image upload commands. The client side has\nlogic to run ""openstack image create"" directly instead of calling the\nserver in that case.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 21, 'created': '2021-02-10 19:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/45b9646d104c23e37b32cdcea6a9b3f32866eaee', 'message': 'Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nCurrently this is implemented as an opt-in feature. There are likely a\nlot of edge cases in projects that use a devstack plugin so turning it\non universally is going to require boiling the ocean. I think getting\nthis in and enabled for some of the major projects should give us a lot\nof the benefit without the enormous effort of making it 100% compatible\nacross all of OpenStack.\n\nAnother thing to note is that the openstack-cli-server doesn\'t seem to be\nable to properly handle image upload commands. The client side has\nlogic to run ""openstack image create"" directly instead of calling the\nserver in that case.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 22, 'created': '2021-02-10 22:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/810a83b5a92d3543219021f6e5d0df67a93505c6', 'message': 'Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nCurrently this is implemented as an opt-in feature. There are likely a\nlot of edge cases in projects that use a devstack plugin so turning it\non universally is going to require boiling the ocean. I think getting\nthis in and enabled for some of the major projects should give us a lot\nof the benefit without the enormous effort of making it 100% compatible\nacross all of OpenStack.\n\nAnother thing to note is that the openstack-cli-server doesn\'t seem to be\nable to properly handle image upload commands. The client side has\nlogic to run ""openstack image create"" directly instead of calling the\nserver in that case.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}, {'number': 23, 'created': '2022-06-30 16:43:40.000000000', 'files': ['functions-common', '.zuul.yaml', 'unstack.sh', 'files/openstack-cli-server/openstack', 'files/openstack-cli-server/openstack-cli-server', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9ecda595fb17e70d939f7a1d57281147dd3e3a21', 'message': 'Use OSCaaS to speed up devstack runs\n\nOpenStackClient has a significant amount of startup overhead, which\nadds a non-trivial amount of time to each devstack run because it makes\na lot of OSC calls. This change uses the OSC service from [0] to run\na persistent process that handles openstack calls. This removes most\nof the startup overhead and in my local testing removes about three\nminutes per devstack run.\n\nCurrently this is implemented as an opt-in feature. There are likely a\nlot of edge cases in projects that use a devstack plugin so turning it\non universally is going to require boiling the ocean. I think getting\nthis in and enabled for some of the major projects should give us a lot\nof the benefit without the enormous effort of making it 100% compatible\nacross all of OpenStack.\n\nAnother thing to note is that the openstack-cli-server doesn\'t seem to be\nable to properly handle image upload commands. The client side has\nlogic to run ""openstack image create"" directly instead of calling the\nserver in that case.\n\nChange-Id: I28e6159944746abe2d320369249b87f1c4b9e24e\n0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html\n'}]",30,676016,9ecda595fb17e70d939f7a1d57281147dd3e3a21,60,8,23,6928,,,0,"Use OSCaaS to speed up devstack runs

OpenStackClient has a significant amount of startup overhead, which
adds a non-trivial amount of time to each devstack run because it makes
a lot of OSC calls. This change uses the OSC service from [0] to run
a persistent process that handles openstack calls. This removes most
of the startup overhead and in my local testing removes about three
minutes per devstack run.

Currently this is implemented as an opt-in feature. There are likely a
lot of edge cases in projects that use a devstack plugin so turning it
on universally is going to require boiling the ocean. I think getting
this in and enabled for some of the major projects should give us a lot
of the benefit without the enormous effort of making it 100% compatible
across all of OpenStack.

Another thing to note is that the openstack-cli-server doesn't seem to be
able to properly handle image upload commands. The client side has
logic to run ""openstack image create"" directly instead of calling the
server in that case.

Change-Id: I28e6159944746abe2d320369249b87f1c4b9e24e
0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html
",git fetch https://review.opendev.org/openstack/devstack refs/changes/16/676016/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/setup-osc-service/files/openstack', 'roles/setup-osc-service/files/openstack-server', 'roles/setup-osc-service/tasks/main.yaml', 'playbooks/pre.yaml', 'roles/setup-osc-service/files/override_path.sh']",5,e21ece4dac62e48d1db765df4ac6d298e892a030,client-service,"# This will apply to every user, not just stack. FIXME? export PATH=/home/stack/bin:$PATH ",,237,0
openstack%2Fcharms.openstack~master~I74a693df95bebb14a6edcb796f1c8e6b17a95317,openstack/charms.openstack,master,I74a693df95bebb14a6edcb796f1c8e6b17a95317,Add observer for add multiple arbitrary options with config-flags,MERGED,2022-06-29 08:46:40.000000000,2022-07-01 14:16:54.000000000,2022-07-01 14:16:54.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-29 08:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/9bfc603ab514e7ead1f1bf443753a01b9fc3f6e2', 'message': 'Add observer for add multiple arbitrary options with config-flags\n\nAdd config_property_with_config_flags observer to handle extra option.\nThe config-flags are comma separated list of key-value pairs.\n\nChange-Id: I74a693df95bebb14a6edcb796f1c8e6b17a95317\n'}, {'number': 2, 'created': '2022-06-30 11:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/19460a37ae9c643104a6f581b94a18ec5ce77d69', 'message': 'Add observer for add multiple arbitrary options with config-flags\n\nAdd config_property_with_config_flags observer to handle extra option.\nThe config-flags are comma separated list of key-value pairs.\n\nChange-Id: I74a693df95bebb14a6edcb796f1c8e6b17a95317\n'}, {'number': 3, 'created': '2022-06-30 12:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/ac46d4c58f553e3c22aed003837b195de8e76b29', 'message': 'Add observer for add multiple arbitrary options with config-flags\n\nAdd config_property_with_config_flags observer to handle extra option.\nThe config-flags are comma separated list of key-value pairs.\n\nChange-Id: I74a693df95bebb14a6edcb796f1c8e6b17a95317\n'}, {'number': 4, 'created': '2022-06-30 12:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/76e138d76d33ebd0871c50e3d3494529a4e02c70', 'message': 'Add observer for add multiple arbitrary options with config-flags\n\nAdd config_property_with_config_flags observer to handle extra option.\nThe config-flags are comma separated list of key-value pairs.\n\nChange-Id: I74a693df95bebb14a6edcb796f1c8e6b17a95317\n'}, {'number': 5, 'created': '2022-07-01 08:46:27.000000000', 'files': ['charms_openstack/adapters.py', 'unit_tests/test_charms_openstack_adapters.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/18ac668cd78e16adba5706e4d9606ff3f15ddd6e', 'message': 'Add observer for add multiple arbitrary options with config-flags\n\nAdd config_property_with_config_flags observer to handle extra option.\nThe config-flags are comma separated list of key-value pairs.\n\nChange-Id: I74a693df95bebb14a6edcb796f1c8e6b17a95317\n'}]",14,848087,18ac668cd78e16adba5706e4d9606ff3f15ddd6e,20,2,5,34959,,,0,"Add observer for add multiple arbitrary options with config-flags

Add config_property_with_config_flags observer to handle extra option.
The config-flags are comma separated list of key-value pairs.

Change-Id: I74a693df95bebb14a6edcb796f1c8e6b17a95317
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/87/848087/4 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/adapters.py', 'unit_tests/test_charms_openstack_adapters.py']",2,9bfc603ab514e7ead1f1bf443753a01b9fc3f6e2,config-flags," def test_user_config_flags(self): cfg = { 'one': 1, 'config-flags': ""a = b,c=d, e= f"", 'two': 2, } with mock.patch.object(adapters, '_custom_config_properties', new=cfg): @adapters.config_property_with_config_flags def test_func(): pass self.assertEqual(adapters._custom_config_properties['one'], 1) self.assertEqual(adapters._custom_config_properties['two'], 2) self.assertEqual(adapters._custom_config_properties['a'], 'b') self.assertEqual(adapters._custom_config_properties['c'], 'd') self.assertEqual(adapters._custom_config_properties['e'], 'f') ",,36,0
openstack%2Fkolla~stable%2Fyoga~I4bd581c3ea422e1c9a075a71721413d47fdbdfe4,openstack/kolla,stable/yoga,I4bd581c3ea422e1c9a075a71721413d47fdbdfe4,Bump prometheus-openstack-exporter version to 1.6.0,MERGED,2022-06-27 11:54:54.000000000,2022-07-01 14:07:51.000000000,2022-07-01 14:06:31.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-27 11:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d4f0e217bddf48ff3045c0bad12af68d0c095f91', 'message': 'Bump prometheus-openstack-exporter version to 1.6.0\n\nChange-Id: I4bd581c3ea422e1c9a075a71721413d47fdbdfe4\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/847538\n(cherry picked from commit 5f94e53bea9fb81786595cb8b452879afe436e26)\n'}, {'number': 2, 'created': '2022-07-01 08:53:07.000000000', 'files': ['releasenotes/notes/openstack-exporter-1.6.0-cb2c1a978cf4be64.yaml', 'docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8253acdea048cd52470b0ad2f09a0c87185af193', 'message': 'Bump prometheus-openstack-exporter version to 1.6.0\n\nChange-Id: I4bd581c3ea422e1c9a075a71721413d47fdbdfe4\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/847538\n(cherry picked from commit 5f94e53bea9fb81786595cb8b452879afe436e26)\n'}]",1,847773,8253acdea048cd52470b0ad2f09a0c87185af193,13,3,2,15197,,,0,"Bump prometheus-openstack-exporter version to 1.6.0

Change-Id: I4bd581c3ea422e1c9a075a71721413d47fdbdfe4
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/847538
(cherry picked from commit 5f94e53bea9fb81786595cb8b452879afe436e26)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/73/847773/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/openstack-exporter-1.6.0-cb2c1a978cf4be64.yaml', 'docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2']",2,d4f0e217bddf48ff3045c0bad12af68d0c095f91,openstack-exporter-1.6.0-stable/yoga,ARG prometheus_openstack_exporter_version=1.6.0 ARG prometheus_openstack_exporter_url=https://github.com/openstack-exporter/openstack-exporter/releases/download/v${prometheus_openstack_exporter_version}/openstack-exporter_${prometheus_openstack_exporter_version}_linux_{{debian_arch}}.tar.gz && mkdir /opt/openstack-exporter \ && tar xvf /tmp/prometheus_openstack_exporter.tar.gz -C /opt/openstack-exporter \ && rm -f /tmp/prometheus_openstack_exporter.tar.gz,ARG prometheus_openstack_exporter_version=1.3.0 ARG prometheus_openstack_exporter_url=https://github.com/openstack-exporter/openstack-exporter/releases/download/v${prometheus_openstack_exporter_version}/openstack-exporter-${prometheus_openstack_exporter_version}.linux-{{debian_arch}}.tar.gz && tar xvf /tmp/prometheus_openstack_exporter.tar.gz -C /opt/ \ && rm -f /tmp/prometheus_openstack_exporter.tar.gz \ && ln -s /opt/openstack-exporter* /opt/openstack-exporter,16,5
openstack%2Fironic~stable%2Fyoga~I753c4b00c0a64bcdc89c9bc0afd46f1211f7847b,openstack/ironic,stable/yoga,I753c4b00c0a64bcdc89c9bc0afd46f1211f7847b,Fix Redfish RAID to update raid_config,MERGED,2022-06-30 12:04:42.000000000,2022-07-01 14:04:26.000000000,2022-07-01 14:02:53.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-30 12:04:42.000000000', 'files': ['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'releasenotes/notes/fix-redfish-raid-config-9e868c3e069475a1.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/00242e4a07b22abb143da05ef32bf01853596957', 'message': 'Fix Redfish RAID to update raid_config\n\nStory: 2003514\nTask: 41940\nChange-Id: I753c4b00c0a64bcdc89c9bc0afd46f1211f7847b\n(cherry picked from commit 29364b7fb40327dc277c535e5b829133274ad420)\n'}]",0,848128,00242e4a07b22abb143da05ef32bf01853596957,12,3,1,27909,,,0,"Fix Redfish RAID to update raid_config

Story: 2003514
Task: 41940
Change-Id: I753c4b00c0a64bcdc89c9bc0afd46f1211f7847b
(cherry picked from commit 29364b7fb40327dc277c535e5b829133274ad420)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/28/848128/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'releasenotes/notes/fix-redfish-raid-config-9e868c3e069475a1.yaml']",3,00242e4a07b22abb143da05ef32bf01853596957,redfish-raid-stable/yoga,"--- fixes: - | Fixes ``redfish`` and ``idrac-redfish`` RAID ``create_configuration``, ``apply_configuration``, ``delete_configuration`` clean and deploy steps to update node's ``raid_config`` field at the end of the steps. ",,159,5
openstack%2Freleases~master~I0808c86df2f156dd7ab9b8c1cc7004c8267ef1db,openstack/releases,master,I0808c86df2f156dd7ab9b8c1cc7004c8267ef1db,Add releasenotes link for Temepst 31.1.0,MERGED,2022-06-29 09:44:28.000000000,2022-07-01 14:02:41.000000000,2022-07-01 14:02:41.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-29 09:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/aee3579ea170baf5bab16c51a1d585986a44b184', 'message': 'Add releasenotes link for Temepst 31.1.0\n\nThis commit adds the release notes link for Tempest 31.1.0 release.\n\nChange-Id: I0808c86df2f156dd7ab9b8c1cc7004c8267ef1db\n'}, {'number': 2, 'created': '2022-07-01 05:27:57.000000000', 'files': ['deliverables/zed/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/634522453608d0faa48aecf902711864db90f5b5', 'message': 'Add releasenotes link for Temepst 31.1.0\n\nThis commit adds the release notes link for Tempest 31.1.0 release.\n\nChange-Id: I0808c86df2f156dd7ab9b8c1cc7004c8267ef1db\n'}]",5,848091,634522453608d0faa48aecf902711864db90f5b5,14,4,2,22873,,,0,"Add releasenotes link for Temepst 31.1.0

This commit adds the release notes link for Tempest 31.1.0 release.

Change-Id: I0808c86df2f156dd7ab9b8c1cc7004c8267ef1db
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/848091/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/tempest.yaml'],1,aee3579ea170baf5bab16c51a1d585986a44b184,,release-notes: https://docs.openstack.org/releasenotes/tempest/v31.1.0.html,release-notes: https://docs.openstack.org/releasenotes/tempest/v31.0.0.html,1,1
openstack%2Fneutron~master~Ic26da2e20c0878204cf9565e173b4825cb36f34c,openstack/neutron,master,Ic26da2e20c0878204cf9565e173b4825cb36f34c,"Replace ""Inspector.from_engine()"" with ""sqlalchemy.inspect()""",MERGED,2022-06-29 16:50:29.000000000,2022-07-01 13:50:25.000000000,2022-07-01 13:48:27.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-29 16:50:29.000000000', 'files': ['neutron/db/migration/alembic_migrations/versions/yoga/expand/1ffef8d6f371_rbac_target_tenant_to_target_project.py', 'neutron/db/migration/alembic_migrations/versions/zed/expand/I43e0b669096_port_forwarding_port_ranges.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7ba5948ffe4ff4ec760a2774c699774b065cdfb', 'message': 'Replace ""Inspector.from_engine()"" with ""sqlalchemy.inspect()""\n\nSince SQLAlchemy 1.4, the method ""Inspector.from_engine()"" is\ndeprecated.\n\nThis patch is related to [1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/808103\n\nRelated-Bug: #1943155\nChange-Id: Ic26da2e20c0878204cf9565e173b4825cb36f34c\n'}]",0,848159,d7ba5948ffe4ff4ec760a2774c699774b065cdfb,11,4,1,16688,,,0,"Replace ""Inspector.from_engine()"" with ""sqlalchemy.inspect()""

Since SQLAlchemy 1.4, the method ""Inspector.from_engine()"" is
deprecated.

This patch is related to [1].

[1]https://review.opendev.org/c/openstack/neutron/+/808103

Related-Bug: #1943155
Change-Id: Ic26da2e20c0878204cf9565e173b4825cb36f34c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/848159/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/yoga/expand/1ffef8d6f371_rbac_target_tenant_to_target_project.py', 'neutron/db/migration/alembic_migrations/versions/zed/expand/I43e0b669096_port_forwarding_port_ranges.py']",2,d7ba5948ffe4ff4ec760a2774c699774b065cdfb,bug/1943155, inspect = sa.inspect(op.get_bind()), inspect = sa.engine.reflection.Inspector.from_engine(op.get_bind()),2,3
openstack%2Fpython-openstackclient~master~Ib1667ecc8d4c4336dd314282347bca248916b141,openstack/python-openstackclient,master,Ib1667ecc8d4c4336dd314282347bca248916b141,DNM: Test neutron segments fix,ABANDONED,2022-07-01 09:30:31.000000000,2022-07-01 13:42:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-01 09:30:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0ed4b3a5abca1eec8f929dca2629ed0d9783799b', 'message': 'DNM: Test neutron segments fix\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/848396\nChange-Id: Ib1667ecc8d4c4336dd314282347bca248916b141\n'}]",1,848397,0ed4b3a5abca1eec8f929dca2629ed0d9783799b,5,1,1,13252,,,0,"DNM: Test neutron segments fix

Depends-On: https://review.opendev.org/c/openstack/neutron/+/848396
Change-Id: Ib1667ecc8d4c4336dd314282347bca248916b141
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/97/848397/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0ed4b3a5abca1eec8f929dca2629ed0d9783799b,test-segment-fix,- job: name: osc-functional-devstack-tips2 parent: osc-functional-devstack-tips - job: name: osc-functional-devstack-tips3 parent: osc-functional-devstack-tips - job: name: osc-functional-devstack-tips4 parent: osc-functional-devstack-tips - osc-functional-devstack-tips2 - osc-functional-devstack-tips3 - osc-functional-devstack-tips4, templates: - openstackclient-plugin-jobs - osc-tox-unit-tips - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-zed-jobs - publish-openstack-docs-pti - check-requirements - release-notes-jobs-python3 - osc-build-image,15,10
openstack%2Fneutron~master~Ic7dc7636549e10a0cb4cb462e5ff79e1737caf42,openstack/neutron,master,Ic7dc7636549e10a0cb4cb462e5ff79e1737caf42,[WIP][DNM] Do not add again an VETH pair to its namespace,ABANDONED,2022-07-01 08:43:37.000000000,2022-07-01 13:33:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-01 08:43:37.000000000', 'files': ['neutron/agent/linux/interface.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/27f5828a752064f03fac9cf77a36e6d45360cd9f', 'message': '[WIP][DNM] Do not add again an VETH pair to its namespace\n\nNOTE: this is just a test. This patch is related to LP#1961740.\nThe error reported in this bug is happening again.\n\nThe rationale of this patch is that: when we create a VETH pair,\nthe second device is already created in the required namespace.\nCheck IPWrapper.add_veth. ""name2"" is created and assigned to\n""namespace2"". This is why I don\'t understand the call to\n""_add_device_to_namespace"".\n\nOf course, this is just a test and I need to confirm that. Maybe\nI\'m totally wrong but I\'ve tested manually this method\n(""IPWrapper.add_veth"") and is working as expected.\n\nChange-Id: Ic7dc7636549e10a0cb4cb462e5ff79e1737caf42\n'}]",2,848393,27f5828a752064f03fac9cf77a36e6d45360cd9f,5,1,1,16688,,,0,"[WIP][DNM] Do not add again an VETH pair to its namespace

NOTE: this is just a test. This patch is related to LP#1961740.
The error reported in this bug is happening again.

The rationale of this patch is that: when we create a VETH pair,
the second device is already created in the required namespace.
Check IPWrapper.add_veth. ""name2"" is created and assigned to
""namespace2"". This is why I don't understand the call to
""_add_device_to_namespace"".

Of course, this is just a test and I need to confirm that. Maybe
I'm totally wrong but I've tested manually this method
(""IPWrapper.add_veth"") and is working as expected.

Change-Id: Ic7dc7636549e10a0cb4cb462e5ff79e1737caf42
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/848393/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/interface.py'],1,27f5828a752064f03fac9cf77a36e6d45360cd9f,bug/1961740," # if not self.conf.ovs_use_veth and namespace: # try: # self._add_device_to_namespace(ip, ns_dev, namespace) # except (pyroute2_exc.NetlinkError, OSError, RuntimeError): # # To prevent the namespace failure from blasting OVS, the OVS # # port creation should be reverted. Possible exceptions: # # - NetlinkError in case of duplicated interface # # - OSError in case of corrupted namespace # # - RuntimeError in case of any issue with interface, like e.g. # # Interface not found # LOG.warning(""Failed to plug interface %s into bridge %s, "" # ""cleaning up"", device_name, bridge) # with excutils.save_and_reraise_exception(): # ovs = ovs_lib.OVSBridge(bridge) # ovs.delete_port(tap_name)"," if not self.conf.ovs_use_veth and namespace: try: self._add_device_to_namespace(ip, ns_dev, namespace) except (pyroute2_exc.NetlinkError, OSError, RuntimeError): # To prevent the namespace failure from blasting OVS, the OVS # port creation should be reverted. Possible exceptions: # - NetlinkError in case of duplicated interface # - OSError in case of corrupted namespace # - RuntimeError in case of any issue with interface, like e.g. # Interface not found LOG.warning(""Failed to plug interface %s into bridge %s, "" ""cleaning up"", device_name, bridge) with excutils.save_and_reraise_exception(): ovs = ovs_lib.OVSBridge(bridge) ovs.delete_port(tap_name)",15,15
openstack%2Fmanila~stable%2Fxena~I5ea31e1d46148045ddc92853742f2321045c5680,openstack/manila,stable/xena,I5ea31e1d46148045ddc92853742f2321045c5680,Use defined project config of manila-tempest-plugin,MERGED,2022-06-30 19:04:41.000000000,2022-07-01 13:17:29.000000000,2022-07-01 13:15:00.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-06-30 19:04:41.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/3e4d1292ff21b93d8fdbc0b88c41839d643970ca', 'message': 'Use defined project config of manila-tempest-plugin\n\nDue to recent issues we ran into, our jobs needed to be modified\nand we needed to control a few variables to be set into the stable\nbranches.\n\nThis change makes use of such modifications and starts using the\nproject config defined in the manila-tempest-plugin manifests.\n\nChange-Id: I5ea31e1d46148045ddc92853742f2321045c5680\n(cherry picked from commit 123db367ed75a10042d1c65644cd6f4b11860ea2)\n'}]",2,848280,3e4d1292ff21b93d8fdbc0b88c41839d643970ca,13,3,1,29632,,,0,"Use defined project config of manila-tempest-plugin

Due to recent issues we ran into, our jobs needed to be modified
and we needed to control a few variables to be set into the stable
branches.

This change makes use of such modifications and starts using the
project config defined in the manila-tempest-plugin manifests.

Change-Id: I5ea31e1d46148045ddc92853742f2321045c5680
(cherry picked from commit 123db367ed75a10042d1c65644cd6f4b11860ea2)
",git fetch https://review.opendev.org/openstack/manila refs/changes/80/848280/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,3e4d1292ff21b93d8fdbc0b88c41839d643970ca,manila-stable-jobs, - manila-tempest-plugin-jobs-using-service-image-stable, - manila-tempest-plugin-lvm - manila-tempest-plugin-cephfs-native: voting: false - manila-tempest-plugin-cephfs-nfs: voting: false - manila-tempest-plugin-generic: voting: false - manila-tempest-plugin-zfsonlinux: voting: false - manila-tempest-plugin-lvm,1,10
openstack%2Fpuppet-tripleo~stable%2Fwallaby~Ib3e2e10bd7d5cd0eca3d2e86f7c3041105adc42d,openstack/puppet-tripleo,stable/wallaby,Ib3e2e10bd7d5cd0eca3d2e86f7c3041105adc42d,Drop support for collectd-gnocchi,MERGED,2022-06-02 18:44:14.000000000,2022-07-01 13:14:36.000000000,2022-07-01 13:14:36.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-02 18:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/61cff9e8400c6f70966860b91566c1035afe0ff7', 'message': 'Drop support for collectd-gnocchi\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/834329\nChange-Id: Ib3e2e10bd7d5cd0eca3d2e86f7c3041105adc42d\n(cherry picked from commit 7e1d6e486a9d5042a1b98f586ce8241d7eeb8308)\n'}, {'number': 2, 'created': '2022-06-07 09:09:27.000000000', 'files': ['spec/classes/tripleo_profile_base_metrics_collectd_spec.rb', 'manifests/profile/base/metrics/collectd.pp', 'manifests/profile/base/metrics/collectd/gnocchi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/149143bc42dcc02710f9f8cfa5945de21eea0c90', 'message': 'Drop support for collectd-gnocchi\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/844519\nChange-Id: Ib3e2e10bd7d5cd0eca3d2e86f7c3041105adc42d\n(cherry picked from commit 7e1d6e486a9d5042a1b98f586ce8241d7eeb8308)\n'}]",2,844517,149143bc42dcc02710f9f8cfa5945de21eea0c90,11,3,2,4264,,,0,"Drop support for collectd-gnocchi

Depends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/844519
Change-Id: Ib3e2e10bd7d5cd0eca3d2e86f7c3041105adc42d
(cherry picked from commit 7e1d6e486a9d5042a1b98f586ce8241d7eeb8308)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/17/844517/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_metrics_collectd_spec.rb', 'manifests/profile/base/metrics/collectd.pp', 'manifests/profile/base/metrics/collectd/gnocchi.pp']",3,61cff9e8400c6f70966860b91566c1035afe0ff7,drop_collectd_gnocchi-stable/wallaby,,"# Copyright 2017 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Define: tripleo::profile::base::metrics::collectd::gnocchi # # This is used to create configuration file for collectd-gnocchi plugin # # === Parameters # # [*ensure*] # (Optional) String. Action to perform with gnocchi plugin # configuration file. # Defaults to 'present' # # [*order*] # (Optional) String. Prefix for gnocchi plugin configuration file. # Defaults to '00' # # [*auth_mode*] # (Optional) String. Type of authentication Gnocchi server is using. # Supported values are 'basic' and 'keystone'. # Defaults to 'basic' # # [*protocol*] # (Optional) String. API protocol Gnocchi server is using. # Defaults to 'http' # # [*server*] # (Optional) String. The name or address of a gnocchi endpoint to # which we should send metrics. # Defaults to undef # # [*port*] # (Optional) Integer. The port to which we will connect on the # Gnocchi server. # Defaults to 8041 # # [*user*] # (Optional) String. Username for authenticating to the remote # Gnocchi server using simple authentication. # Defaults to undef # # [*keystone_auth_url*] # (Optional) String. Keystone endpoint URL to authenticate to. # Defaults to undef # # [*keystone_user_name*] # (Optional) String. Username for authenticating to Keystone. # Defaults to undef # # [*keystone_user_id*] # (Optional) String. User ID for authenticating to Keystone. # Defaults to undef # # [*keystone_password*] # (Optional) String. Password for authenticating to Keystone # Defaults to undef # # [*keystone_project_id*] # (Optional) String. Project ID for authenticating to Keystone. # Defaults to undef # # [*keystone_project_name*] # (Optional) String. Project name for authenticating to Keystone. # Defaults to undef # # [*keystone_user_domain_id*] # (Optional) String. User domain ID for authenticating to Keystone. # Defaults to undef # # [*keystone_user_domain_name*] # (Optional) String. User domain name for authenticating to Keystone. # Defaults to undef # # [*keystone_project_domain_id*] # (Optional) String. Project domain ID for authenticating to Keystone. # Defaults to undef # # [*keystone_project_domain_name*] # (Optional) String. Project domain name for authenticating to Keystone. # Defaults to undef # # [*keystone_region_name*] # (Optional) String. Region name for authenticating to Keystone. # Defaults to undef # # [*keystone_interface*] # (Optional) String. Type of Keystone endpoint to authenticate to. # Defaults to undef # # [*keystone_endpoint*] # (Optional) String. Explicitly state Gnocchi server URL if you want # to override Keystone value # Defaults to undef # # [*resource_type*] # (Optional) String. Default resource type created by the collectd-gnocchi # plugin in Gnocchi to store hosts. # Defaults to 'collectd' # # [*batch_size*] # (Optional) String. Minimum number of values Gnocchi should batch. # Defaults to 10 # define tripleo::profile::base::metrics::collectd::gnocchi ( $ensure = 'present', $order = '00', $auth_mode = 'basic', $protocol = 'http', $server = undef, $port = undef, $user = undef, $keystone_auth_url = undef, $keystone_user_name = undef, $keystone_user_id = undef, $keystone_password = undef, $keystone_project_id = undef, $keystone_project_name = undef, $keystone_user_domain_id = undef, $keystone_user_domain_name = undef, $keystone_project_domain_id = undef, $keystone_project_domain_name = undef, $keystone_region_name = undef, $keystone_interface = undef, $keystone_endpoint = undef, $resource_type = 'collectd', $batch_size = 10, ) { include collectd package { 'python-collectd-gnocchi': ensure => $ensure, } $_conf = {'Auth_Mode' => $auth_mode, 'ResourceType' => $resource_type, 'BatchSize' => $batch_size} if $auth_mode == 'basic' { $conf = merge($_conf, { 'Endpoint' => ""${protocol}://${server}:${port}"", 'User' => $user }) } elsif $auth_mode == 'keystone' { $conf = merge($_conf, { 'Auth_Url' => $keystone_auth_url, 'Username' => $keystone_user_name, 'User_Id' => $keystone_user_id, 'Project_Id' => $keystone_project_id, 'Project_Name' => $keystone_project_name, 'Password' => $keystone_password, 'User_Domain_Id' => $keystone_user_domain_id, 'User_Domain_Name' => $keystone_user_domain_name, 'Project_Domain_Id' => $keystone_project_domain_id, 'Project_Domain_Name' => $keystone_project_domain_name, 'Region_Name' => $keystone_region_name, 'Interface' => $keystone_interface, 'Endpoint' => $keystone_endpoint }) } else { fail('Invalid auth mode for collect_gnocchi plugin.') } $config = $conf.filter |$key, $value| { $value != undef } ::collectd::plugin::python::module { 'collectd_gnocchi': config => [$config] } } ",14,349
openstack%2Ftripleo-ansible~stable%2Fwallaby~Id12c0971fd1c52d92a0983917fe12d42f27364f8,openstack/tripleo-ansible,stable/wallaby,Id12c0971fd1c52d92a0983917fe12d42f27364f8,Remove stack_action from Octavia deployment,MERGED,2022-06-28 05:56:47.000000000,2022-07-01 13:10:40.000000000,2022-07-01 13:10:40.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-28 05:56:47.000000000', 'files': ['tripleo_ansible/roles/octavia_overcloud_config/tasks/main.yml', 'tripleo_ansible/playbooks/octavia-files.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9bdc0bbf1e9d38f331f2f0d8248896c34f85f7c5', 'message': 'Remove stack_action from Octavia deployment\n\nDue to ephemeral Heat, the stack_action will now\nalways be CREATE. This breaks certain jobs relying on\nthe UPDATE action. In the case of Octavia, relying\non generate_certs alone should be enough.\n\nPartial-Bug: #1936138\nChange-Id: Id12c0971fd1c52d92a0983917fe12d42f27364f8\n(cherry picked from commit b26666e9f942eb2e63e06abb0fcb426b4b332e69)\n'}]",2,847817,9bdc0bbf1e9d38f331f2f0d8248896c34f85f7c5,14,4,1,8833,,,0,"Remove stack_action from Octavia deployment

Due to ephemeral Heat, the stack_action will now
always be CREATE. This breaks certain jobs relying on
the UPDATE action. In the case of Octavia, relying
on generate_certs alone should be enough.

Partial-Bug: #1936138
Change-Id: Id12c0971fd1c52d92a0983917fe12d42f27364f8
(cherry picked from commit b26666e9f942eb2e63e06abb0fcb426b4b332e69)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/17/847817/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia_overcloud_config/tasks/main.yml', 'tripleo_ansible/playbooks/octavia-files.yaml']",2,9bdc0bbf1e9d38f331f2f0d8248896c34f85f7c5,remove_stack_action-stable/wallaby,," stack_action: ""{{ stack_action }}"" - stack_action == 'UPDATE'",0,3
openstack%2Ftripleo-ci~master~Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1,openstack/tripleo-ci,master,Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1,Create sc010 and sc010-ovn-provider -options jobs,MERGED,2022-05-23 13:42:39.000000000,2022-07-01 13:10:37.000000000,2022-07-01 13:10:37.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14611}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-05-23 13:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6505b5c512efc5f6eb86f9d701fe425bb3f8a1e7', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}, {'number': 2, 'created': '2022-05-24 06:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/66aa5bf72d8db7ffcd87d61b86f557c9d12914fa', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}, {'number': 3, 'created': '2022-05-25 13:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2ba181c176d6fc509bcf5ea20d7896401af59115', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}, {'number': 4, 'created': '2022-06-06 12:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9bb76a9e26b9a63a8d7db0165227d4b0979bf8b4', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}, {'number': 5, 'created': '2022-06-09 10:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/365745e594bcd61f11ab6551f15d7da10db45941', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}, {'number': 6, 'created': '2022-06-10 06:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3ca10d7ca01f6cf5203f07d690b0cca9dc0e94d5', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}, {'number': 7, 'created': '2022-06-10 10:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c484ff88b44da4f985d103cbe617c5bb0c1a59f6', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}, {'number': 8, 'created': '2022-06-10 11:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/60e94db323ec8d7d723de4a46142e1f0b8a3b372', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}, {'number': 9, 'created': '2022-06-10 11:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9bb0e5e73f233ebc7747edd7568c85ce11b95d8b', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}, {'number': 10, 'created': '2022-06-10 12:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bb506d5389d147b43ea4f222f9e74e3080bbec84', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}, {'number': 11, 'created': '2022-06-10 13:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/86bf23eb1564dd5d6349270a3cde24151ea0c62d', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}, {'number': 12, 'created': '2022-06-13 10:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/19a5f9a977af810fcddf698adcf501489c1bd71b', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}, {'number': 13, 'created': '2022-06-13 12:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0f32bf5fc1a9472eda972c48455fd2d0a365a79e', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}, {'number': 14, 'created': '2022-06-13 13:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6b2a7074f20a9f1828232ad5051932442b3e3fbe', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}, {'number': 15, 'created': '2022-06-15 07:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c6b32c694aad7ef01c0c7b116eecd0b2207646b3', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nTest patch is here: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/844950\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}, {'number': 16, 'created': '2022-06-15 14:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/72d1ad2884c6e7d2381ca3ee247a241ff897e4a0', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nTest patch is here: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/844950\n\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}, {'number': 17, 'created': '2022-06-21 05:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b2aa020fed3f7a7bbdf22b1196e73c2467717d14', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nTest patch is here: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/844950\n\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}, {'number': 18, 'created': '2022-06-23 08:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a8a017d68ac0d2b8c6ea5bd1e0c4d9a5c63e2c80', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nTest patch is here: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/844950\n\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}, {'number': 19, 'created': '2022-06-24 07:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/443c9f09725d360b572636bb712d0b921df49c27', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nTest patch is here: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/844950\n\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}, {'number': 20, 'created': '2022-06-27 12:14:41.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml', 'zuul.d/deprecated-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4e357758bd8d2571049ae5964d1acc10bd4b1237', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nTest patch is here: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/844950\n\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n'}]",58,842976,4e357758bd8d2571049ae5964d1acc10bd4b1237,117,8,20,20182,,,0,"Create sc010 and sc010-ovn-provider -options jobs

This patch created sc010 and sc010-ovn-provider options jobs.

Test patch is here: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/844950

Change-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/76/842976/15 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml']",2,6505b5c512efc5f6eb86f9d701fe425bb3f8a1e7,reparenting-sc010-jobs,," vars: tags: - build - standalone - octavia - nested-virt # using featureset062 is tech debt and should be addressed at a future sprint featureset: '062' standalone_ceph: true featureset_override: validate_services: false standalone_environment_files: - 'environments/low-memory-usage.yaml' - 'ci/environments/scenario010-standalone.yaml' - 'ci/environments/octavia-kvm.yaml' vars: tags: - build - standalone - octavia featureset: '062' standalone_ceph: true featureset_override: validate_services: false tempest_tempestconf_profile_overrides: load_balancer.provider: 'ovn' load_balancer.member_role: '""Member""' load_balancer.test_reuse_connection: false load_balancer.load_balancing_algorithm: 'SOURCE_IP_PORT' load_balancer.test_flavors: false loadbalancer-feature-enabled.health_monitor_enabled: false loadbalancer-feature-enabled.pool_algorithms_enabled: false loadbalancer-feature-enabled.l7_protocol_enabled: false loadbalancer-feature-enabled.l4_protocol: 'TCP' loadbalancer-feature-enabled.session_persistence_enabled: false loadbalancer-feature-enabled.not_implemented_is_error: false network-feature-enabled.port_security: true load_balancer.test_server_path: >- ""/usr/lib/python{{ [ansible_python.version.major, ansible_python.version.minor] | join('.') }}/site-packages/octavia_tempest_plugin/contrib/test_server/test_server.bin"" tempest_test_whitelist: # The parent class runs *smoke, which only runs HTTP tests that # the ovn-provider doesn't support, so run some it does. - '^octavia_tempest_plugin.tests.scenario.v2.test_load_balancer.LoadBalancerScenarioTest' standalone_environment_files: - 'environments/low-memory-usage.yaml' - 'ci/environments/scenario010-standalone.yaml' ",76,47
openstack%2Ftripleo-heat-templates~master~I018811a07283644ae7445c92ced958542f97b0e4,openstack/tripleo-heat-templates,master,I018811a07283644ae7445c92ced958542f97b0e4,Octavia: Remove unnecessary neutronclient package,MERGED,2022-04-22 00:27:33.000000000,2022-07-01 13:10:33.000000000,2022-07-01 13:10:33.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-04-22 00:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a88dc8cb3b5dab0f46511ad7248f2119b3b6094', 'message': 'Octavia: Remove unnecessary package installation\n\nThese package were required to create resources like flavors by puppet\nbut now these resources are created from undercloud using ansible.\n\nChange-Id: I018811a07283644ae7445c92ced958542f97b0e4\n'}, {'number': 2, 'created': '2022-04-22 00:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/099d74999590beb5661a8f90ac3eddf19b09af0b', 'message': ""Octavia: Remove unnecessary package installation\n\nThese packages are required\n - to generate certificates\n - to create a nova flavor\n - to create network resources(networks, subnets, ports)\nbut now these tasks are executed from undercloud.\n\nThus we don't need to install these packages in overcloud nodes.\n\nChange-Id: I018811a07283644ae7445c92ced958542f97b0e4\n""}, {'number': 3, 'created': '2022-04-22 00:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c3ee40d32b5275c916861181be2e5279c52f6419', 'message': ""Octavia: Remove unnecessary package installation\n\nThese packages are required\n - to generate certificates\n - to create a nova flavor\n - to create network resources(networks, subnets, ports)\nbut now these tasks are executed in undercloud.\n\nThus we don't need to install these packages in overcloud nodes.\n\nChange-Id: I018811a07283644ae7445c92ced958542f97b0e4\n""}, {'number': 4, 'created': '2022-06-14 11:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09b5149e08eab6fc3541e67e2410f66dda0308a8', 'message': ""Octavia: Remove unnecessary client packages\n\nneutronclient and openstackclient are required\n - to create a nova flavor\n - to create network resources (networks, subnets, ports)\nbut now these tasks are executed from undercloud since these tasks were\nre-implemented by ansible.\n\nThus we don't need to install these client packages in overcloud nodes.\n\nChange-Id: I018811a07283644ae7445c92ced958542f97b0e4\n""}, {'number': 5, 'created': '2022-06-15 13:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8f9fa20389d921c969f1feed6ccfbca9684eb1b0', 'message': 'Octavia: Remove unnecessary neutronclient packages\n\nThe neutron cli is no longer used since the dependent patch was merged.\nAlso CentOS/RHEL 7 is no longer supported so the logic for that old\nOS version can be removed.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/838960\nChange-Id: I018811a07283644ae7445c92ced958542f97b0e4\n'}, {'number': 6, 'created': '2022-06-15 13:26:08.000000000', 'files': ['deployment/octavia/octavia-worker-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac5b16012a4f3164c8c607f9960961c7c1810c2e', 'message': 'Octavia: Remove unnecessary neutronclient package\n\nThe neutron cli is no longer used since the dependent patch was merged.\nAlso CentOS/RHEL 7 is no longer supported so the logic for that old\nOS version can be removed.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/838960\nChange-Id: I018811a07283644ae7445c92ced958542f97b0e4\n'}]",10,838959,ac5b16012a4f3164c8c607f9960961c7c1810c2e,37,7,6,9816,,,0,"Octavia: Remove unnecessary neutronclient package

The neutron cli is no longer used since the dependent patch was merged.
Also CentOS/RHEL 7 is no longer supported so the logic for that old
OS version can be removed.

Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/838960
Change-Id: I018811a07283644ae7445c92ced958542f97b0e4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/838959/5 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-worker-container-puppet.yaml'],1,7a88dc8cb3b5dab0f46511ad7248f2119b3b6094,,," EnablePackageInstall: default: 'false' description: Set to true to enable package installation at deploy time type: boolean - block: - name: Ensure packages required for configuring octavia are present for CentOS 7 package: name: - python2-neutronclient - python2-openstackclient - openssl state: present when: ansible_facts['distribution_major_version'] is version(8, '<') - name: Ensure packages required for configuring octavia are present for CentOS/RHEL 8 package: name: - python3-neutronclient - python3-openstackclient - openssl state: present when: ansible_facts['distribution_major_version'] is version(8, '>=') when: {get_param: EnablePackageInstall}",0,23
openstack%2Ftripleo-heat-templates~master~Icd25f71b408afefb20cf0f26fe8bc87e21d838bb,openstack/tripleo-heat-templates,master,Icd25f71b408afefb20cf0f26fe8bc87e21d838bb,Octavia: Migrate [health_manager] heartbeat_key to base,MERGED,2022-06-02 13:09:53.000000000,2022-07-01 13:10:28.000000000,2022-07-01 13:10:28.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 34598}]","[{'number': 1, 'created': '2022-06-02 13:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5cc9d65414c20c0c18e52b0570ff2e067c6cc682', 'message': 'Octavia: Migrate [healt_manager] heartbeat_key to base\n\nThe heartbeat_key parameter is used not only by octavia-health-manager\nbut also by octavia-worker.\n\nThis replaces the deprecated octavia::health_manager parameter and\nmigrates the parameter definition to the base resource, so that\nthe parameter is configured for both of these two services.\n\nDepends-on: https://review.opendev.org/844360\nChange-Id: Icd25f71b408afefb20cf0f26fe8bc87e21d838bb\n'}, {'number': 2, 'created': '2022-06-02 23:12:37.000000000', 'files': ['deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2a6a56643e66f1e330627784f63885507d5224c', 'message': 'Octavia: Migrate [health_manager] heartbeat_key to base\n\nThe heartbeat_key parameter is used not only by octavia-health-manager\nbut also by octavia-worker.\n\nThis replaces the deprecated octavia::health_manager parameter and\nmigrates the parameter definition to the base resource, so that\nthe parameter is configured for both of these two services.\n\nDepends-on: https://review.opendev.org/844360\nChange-Id: Icd25f71b408afefb20cf0f26fe8bc87e21d838bb\n'}]",3,844447,c2a6a56643e66f1e330627784f63885507d5224c,20,6,2,9816,,,0,"Octavia: Migrate [health_manager] heartbeat_key to base

The heartbeat_key parameter is used not only by octavia-health-manager
but also by octavia-worker.

This replaces the deprecated octavia::health_manager parameter and
migrates the parameter definition to the base resource, so that
the parameter is configured for both of these two services.

Depends-on: https://review.opendev.org/844360
Change-Id: Icd25f71b408afefb20cf0f26fe8bc87e21d838bb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/844447/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml']",2,5cc9d65414c20c0c18e52b0570ff2e067c6cc682,hm-opts," config_settings: {get_attr: [OctaviaBase, role_data, config_settings]}"," OctaviaHeartbeatKey: type: string description: Key to identify heartbeat messages for amphorae. hidden: true config_settings: map_merge: - get_attr: [OctaviaBase, role_data, config_settings] - octavia::health_manager::heartbeat_key: {get_param: OctaviaHeartbeatKey}",6,8
openstack%2Ftripleo-heat-templates~master~Id156bde2d876d64b5c60ab5672acbfe51c757d11,openstack/tripleo-heat-templates,master,Id156bde2d876d64b5c60ab5672acbfe51c757d11,Fix Cinder Dell EMC Powerflex backend template,MERGED,2022-06-28 16:59:32.000000000,2022-07-01 13:10:24.000000000,2022-07-01 13:10:24.000000000,"[{'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-28 16:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/102b29f5ffd305364f1b87cbdd32842c949ad12d', 'message': ""Fix Cinder Dell EMC Powerflex template\n\nThe 'CinderPowerFlexServerApiVersion' parameter defined in\ncinder-backend-dellemc-powerflex-puppet.yaml is not used.\n\nPuppet hiera parameter powerflex_server_api_version is incorreclty\nassigneid.\n\nCloses-Bug: #1978756\nChange-Id: Id156bde2d876d64b5c60ab5672acbfe51c757d11\n""}, {'number': 2, 'created': '2022-06-28 17:02:37.000000000', 'files': ['deployment/cinder/cinder-backend-dellemc-powerflex-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a0809cbde415aa8239ca60ad7b2198acdd34799c', 'message': ""Fix Cinder Dell EMC Powerflex backend template\n\nThe 'CinderPowerFlexServerApiVersion' parameter defined in\ncinder-backend-dellemc-powerflex-puppet.yaml is not used.\n\nPuppet hiera parameter powerflex_server_api_version is incorrectly\nassigned.\n\nCloses-Bug: #1978756\nChange-Id: Id156bde2d876d64b5c60ab5672acbfe51c757d11\n""}]",1,847740,a0809cbde415aa8239ca60ad7b2198acdd34799c,14,4,2,34598,,,0,"Fix Cinder Dell EMC Powerflex backend template

The 'CinderPowerFlexServerApiVersion' parameter defined in
cinder-backend-dellemc-powerflex-puppet.yaml is not used.

Puppet hiera parameter powerflex_server_api_version is incorrectly
assigned.

Closes-Bug: #1978756
Change-Id: Id156bde2d876d64b5c60ab5672acbfe51c757d11
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/847740/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-backend-dellemc-powerflex-puppet.yaml'],1,102b29f5ffd305364f1b87cbdd32842c949ad12d,bug_1978756, cinder::backend::dellemc_powerflex::powerflex_server_api_version: {get_param: CinderPowerFlexServerApiVersion}, cinder::backend::dellemc_powerflex::powerflex_server_api_version: {get_param: CinderPowerFlexRoundVolumeCapacity},1,1
openstack%2Ftripleo-heat-templates~master~I677ad84c4f86320519e6022449c70c3884b14d05,openstack/tripleo-heat-templates,master,I677ad84c4f86320519e6022449c70c3884b14d05,neutorn-ironic-agent: Use internal endpoint to query Neutron API,MERGED,2022-05-11 15:23:15.000000000,2022-07-01 13:10:20.000000000,2022-07-01 13:10:20.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-11 15:23:15.000000000', 'files': ['deployment/ironic/ironic-neutron-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e1940f15fed59fa4c9f1b9489c1cf953c256b33', 'message': 'neutorn-ironic-agent: Use internal endpoint to query Neutron API\n\n... instead of public endpoint, because internal endpoint should be\nused for communication between services.\n\nDepends-on: https://review.opendev.org/841367\nChange-Id: I677ad84c4f86320519e6022449c70c3884b14d05\n'}]",3,841443,4e1940f15fed59fa4c9f1b9489c1cf953c256b33,19,7,1,9816,,,0,"neutorn-ironic-agent: Use internal endpoint to query Neutron API

... instead of public endpoint, because internal endpoint should be
used for communication between services.

Depends-on: https://review.opendev.org/841367
Change-Id: I677ad84c4f86320519e6022449c70c3884b14d05
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/841443/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-neutron-agent-container-puppet.yaml'],1,4e1940f15fed59fa4c9f1b9489c1cf953c256b33,, neutron::agents::ml2::networking_baremetal::valid_interfaces: 'internal',,1,0
openstack%2Fcharm-magpie~master~I784bb410110813472e14b3477247fe138db5c214,openstack/charm-magpie,master,I784bb410110813472e14b3477247fe138db5c214,Optionally ignore LACP activity bit in port check,MERGED,2022-06-16 05:40:58.000000000,2022-07-01 13:06:43.000000000,2022-07-01 13:06:43.000000000,"[{'_account_id': 11582}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-16 05:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/3d503940af166c214252c2abe32ffb7080abefa9', 'message': 'Optionally ignore LACP activity bit in port check\n\nIf the LACP bond on the switch side is configured in passive mode,\nthe activity mode bit on the port states will usually be mismatched.\n\nAdd an option to the charm config to inform when this is expected,\nso that the charm will ignore this mismatched bit when checking ports.\n\nCloses-Bug: #1958327\n\nChange-Id: I784bb410110813472e14b3477247fe138db5c214\n'}, {'number': 2, 'created': '2022-06-16 06:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/fe522972a0262697844e4a4be057df4c1259ea40', 'message': 'Optionally ignore LACP activity bit in port check\n\nIf the LACP bond on the switch side is configured in passive mode,\nthe activity mode bit on the port states will usually be mismatched.\n\nAdd an option to the charm config to inform when this is expected,\nso that the charm will ignore this mismatched bit when checking ports.\n\nCloses-Bug: #1958327\n\nChange-Id: I784bb410110813472e14b3477247fe138db5c214\n'}, {'number': 3, 'created': '2022-06-16 06:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/f82035ceae3c9b6a17cab4be88899f958f28613d', 'message': 'Optionally ignore LACP activity bit in port check\n\nIf the LACP bond on the switch side is configured in passive mode,\nthe activity mode bit on the port states will usually be mismatched.\n\nAdd an option to the charm config to inform when this is expected,\nso that the charm will ignore this mismatched bit when checking ports.\n\nCloses-Bug: #1958327\n\nChange-Id: I784bb410110813472e14b3477247fe138db5c214\n'}, {'number': 4, 'created': '2022-06-22 23:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/51a5256efd583db3ef22fee4a70ab7a7fbeb1e87', 'message': 'Optionally ignore LACP activity bit in port check\n\nIf the LACP bond on the switch side is configured in passive mode,\nthe activity mode bit on the port states will usually be mismatched.\n\nAdd an option to the charm config to inform when this is expected,\nso that the charm will ignore this mismatched bit when checking ports.\n\nCloses-Bug: #1958327\n\nChange-Id: I784bb410110813472e14b3477247fe138db5c214\n'}, {'number': 5, 'created': '2022-06-23 01:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/5dea254ec678ff0de0e69522fc52bdcaa32fe6be', 'message': 'Optionally ignore LACP activity bit in port check\n\nIf the LACP bond on the switch side is configured in passive mode,\nthe activity mode bit on the port states will usually be mismatched.\n\nAdd an option to the charm config to inform when this is expected,\nso that the charm will ignore this mismatched bit when checking ports.\n\nCloses-Bug: #1958327\n\nChange-Id: I784bb410110813472e14b3477247fe138db5c214\n'}, {'number': 6, 'created': '2022-06-26 23:08:11.000000000', 'files': ['src/config.yaml', 'src/lib/charms/layer/magpie_tools.py', 'unit_tests/test_magpie_tools.py'], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/abb21efbae9d9ae28cad0db5bd16aa0a0ce8fee4', 'message': 'Optionally ignore LACP activity bit in port check\n\nIf the LACP bond on the switch side is configured in passive mode,\nthe activity mode bit on the port states will usually be mismatched.\n\nAdd an option to the charm config to inform when this is expected,\nso that the charm will ignore this mismatched bit when checking ports.\n\nCloses-Bug: #1958327\n\nChange-Id: I784bb410110813472e14b3477247fe138db5c214\n'}]",12,846098,abb21efbae9d9ae28cad0db5bd16aa0a0ce8fee4,29,4,6,34352,,,0,"Optionally ignore LACP activity bit in port check

If the LACP bond on the switch side is configured in passive mode,
the activity mode bit on the port states will usually be mismatched.

Add an option to the charm config to inform when this is expected,
so that the charm will ignore this mismatched bit when checking ports.

Closes-Bug: #1958327

Change-Id: I784bb410110813472e14b3477247fe138db5c214
",git fetch https://review.opendev.org/openstack/charm-magpie refs/changes/98/846098/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/lib/charms/layer/magpie_tools.py', 'unit_tests/test_magpie_tools.py']",3,3d503940af166c214252c2abe32ffb7080abefa9,lacp-passive-check,"from unittest.mock import ( patch, mock_open, ) def mocked_open_lacp_port_state(actor, partner): def the_actual_mock(path): if ( path == ""/sys/class/net/test/bonding_slave/ad_actor_oper_port_state"" ): return mock_open(read_data=actor)(path) elif ( path == ""/sys/class/net/test/bonding_slave/ad_partner_oper_port_state"" ): return mock_open(read_data=partner)(path) return the_actual_mock @patch('lib.charms.layer.magpie_tools.open', mock_open(read_data='61')) def test_check_lacp_port_state_match_default(self): self.hookenv.config.return_value = {} self.assertIsNone(magpie_tools.check_lacp_port_state('test')) @patch('lib.charms.layer.magpie_tools.open', mock_open(read_data='61')) def test_check_lacp_port_state_match_passive(self): self.hookenv.config.return_value = {'lacp_passive_mode': True} self.assertIsNone(magpie_tools.check_lacp_port_state('test')) @patch('lib.charms.layer.magpie_tools.open') def test_check_lacp_port_state_passive_expected_mismatch(self, open_): open_.side_effect = mocked_open_lacp_port_state('61', '60') self.hookenv.config.return_value = {'lacp_passive_mode': True} self.assertIsNone(magpie_tools.check_lacp_port_state('test')) @patch('lib.charms.layer.magpie_tools.open') def test_check_lacp_port_state_passive_default(self, open_): open_.side_effect = mocked_open_lacp_port_state('61', '60') self.hookenv.config.return_value = {} self.assertEqual( magpie_tools.check_lacp_port_state('test'), 'lacp_port_state_mismatch') @patch('lib.charms.layer.magpie_tools.open') def test_check_lacp_port_state_not_passive_configured(self, open_): open_.side_effect = mocked_open_lacp_port_state('61', '60') self.hookenv.config.return_value = {} self.assertEqual( magpie_tools.check_lacp_port_state('test'), 'lacp_port_state_mismatch') @patch('lib.charms.layer.magpie_tools.open') def test_check_lacp_port_state_passive_unexpected_mismatch(self, open_): open_.side_effect = mocked_open_lacp_port_state('63', '60') self.hookenv.config.return_value = {'lacp_passive_mode': True} self.assertEqual( magpie_tools.check_lacp_port_state('test'), 'lacp_port_state_mismatch')",,76,1
openstack%2Fvalidations-libs~stable%2F1.6~Iad57f033f49f52e0f4861ad362a2f4aeaeeca5f8,openstack/validations-libs,stable/1.6,Iad57f033f49f52e0f4861ad362a2f4aeaeeca5f8,[Stable/1.6-Only] Adding override checkout to docs job,ABANDONED,2022-06-28 06:45:19.000000000,2022-07-01 12:59:01.000000000,,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-06-28 06:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/30096e27f2db8084761d039196a14af137f4a5f5', 'message': 'Adding override checkout to docs job\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iad57f033f49f52e0f4861ad362a2f4aeaeeca5f8\n'}, {'number': 2, 'created': '2022-06-30 14:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/58ca6f74aee4d3c336206adc679e3a9f9735aa91', 'message': '[Stable-Only] Adding override checkout to docs job\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iad57f033f49f52e0f4861ad362a2f4aeaeeca5f8\n'}, {'number': 3, 'created': '2022-07-01 07:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/af99ce0207e5e78b37373c8fb908bdb5ff54c26f', 'message': '[Stable-Only] Adding override checkout to docs job\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iad57f033f49f52e0f4861ad362a2f4aeaeeca5f8\n'}, {'number': 4, 'created': '2022-07-01 08:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/07c74f6fadf134bc6c4a26160c04923776af2252', 'message': '[Stable-Only] Adding override checkout to docs job\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iad57f033f49f52e0f4861ad362a2f4aeaeeca5f8\n'}, {'number': 5, 'created': '2022-07-01 08:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/77cb8c1b5ff3827a47bef1c9750d58fdefdc7ee2', 'message': '[Stable-Only] Adding override checkout to docs job\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iad57f033f49f52e0f4861ad362a2f4aeaeeca5f8\n'}, {'number': 6, 'created': '2022-07-01 10:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a4ede20e905c5937b9d8592f818193ab4ba98e6a', 'message': 'Adding override checkout to docs job\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iad57f033f49f52e0f4861ad362a2f4aeaeeca5f8\n'}, {'number': 7, 'created': '2022-07-01 11:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/6b2470ad67a57b03cd750abe7f2a85c9f5be03ec', 'message': '[Stable/1.6-Only] Adding override checkout to docs job\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iad57f033f49f52e0f4861ad362a2f4aeaeeca5f8\n'}, {'number': 8, 'created': '2022-07-01 11:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/914d1a42fce8d764f12ca65fff1222e72a8b8c7a', 'message': '[Stable/1.6-Only] Adding override checkout to docs job\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iad57f033f49f52e0f4861ad362a2f4aeaeeca5f8\n'}, {'number': 9, 'created': '2022-07-01 12:25:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c6232160313fa835457c5d34710e19a8d7cd0fee', 'message': '[Stable/1.6-Only] Adding override checkout to docs job\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iad57f033f49f52e0f4861ad362a2f4aeaeeca5f8\n'}]",1,847883,c6232160313fa835457c5d34710e19a8d7cd0fee,15,4,9,32926,,,0,"[Stable/1.6-Only] Adding override checkout to docs job

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iad57f033f49f52e0f4861ad362a2f4aeaeeca5f8
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/83/847883/9 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,30096e27f2db8084761d039196a14af137f4a5f5,stable-ci/docs, <<: *tox_override_checkout,,1,0
openstack%2Fvalidations-common~stable%2F1.6~I43a0cf6b3164dbd07ccc415afcc47a0083b7e1d7,openstack/validations-common,stable/1.6,I43a0cf6b3164dbd07ccc415afcc47a0083b7e1d7,[Stable/1.6-Only] Adding checkout override for docs job,ABANDONED,2022-06-28 06:45:35.000000000,2022-07-01 12:55:04.000000000,,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-06-28 06:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d5bdd0b404b62345f2c5a4f3ab54db12e3a2193a', 'message': 'Adding checkout override for docs job\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I43a0cf6b3164dbd07ccc415afcc47a0083b7e1d7\n'}, {'number': 2, 'created': '2022-07-01 11:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/308188522d580bf94c5ceef479c162625203e794', 'message': 'Adding checkout override for docs job\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I43a0cf6b3164dbd07ccc415afcc47a0083b7e1d7\n'}, {'number': 3, 'created': '2022-07-01 11:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/bd83d5b76d88268afd2f8a13a427906a30334ec4', 'message': '[Stable/1.6-Only] Adding checkout override for docs job\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I43a0cf6b3164dbd07ccc415afcc47a0083b7e1d7\n'}, {'number': 4, 'created': '2022-07-01 11:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/624fd1dfb81c6c38684ca9108434daa7fdf89b04', 'message': '[Stable/1.6-Only] Adding checkout override for docs job\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I43a0cf6b3164dbd07ccc415afcc47a0083b7e1d7\n'}, {'number': 5, 'created': '2022-07-01 12:23:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/de1caa3084b89a8f437e0665d559655c1dcbb050', 'message': '[Stable/1.6-Only] Adding checkout override for docs job\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I43a0cf6b3164dbd07ccc415afcc47a0083b7e1d7\n'}]",0,847884,de1caa3084b89a8f437e0665d559655c1dcbb050,10,4,5,32926,,,0,"[Stable/1.6-Only] Adding checkout override for docs job

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I43a0cf6b3164dbd07ccc415afcc47a0083b7e1d7
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/84/847884/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d5bdd0b404b62345f2c5a4f3ab54db12e3a2193a,stable-ci/docs, <<: *tox_override_checkout,,1,0
openstack%2Flarge-scale~master~I2a5a1aa29fe70d32d25a572073ac746002ff20e7,openstack/large-scale,master,I2a5a1aa29fe70d32d25a572073ac746002ff20e7,Fix links in the rst documentation files,MERGED,2022-07-01 12:27:06.000000000,2022-07-01 12:53:58.000000000,2022-07-01 12:52:45.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 12:27:06.000000000', 'files': ['doc/source/journey/configure.rst', 'doc/source/journey/monitor.rst'], 'web_link': 'https://opendev.org/openstack/large-scale/commit/31b81b5e5b537a706342e10de9f9cc1d237cf154', 'message': 'Fix links in the rst documentation files\n\nSigned-off-by: Ramona Rautenberg <rautenberg@osism.tech>\nChange-Id: I2a5a1aa29fe70d32d25a572073ac746002ff20e7\n'}]",0,848438,31b81b5e5b537a706342e10de9f9cc1d237cf154,7,2,1,34533,,,0,"Fix links in the rst documentation files

Signed-off-by: Ramona Rautenberg <rautenberg@osism.tech>
Change-Id: I2a5a1aa29fe70d32d25a572073ac746002ff20e7
",git fetch https://review.opendev.org/openstack/large-scale refs/changes/38/848438/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/journey/configure.rst', 'doc/source/journey/monitor.rst']",2,31b81b5e5b537a706342e10de9f9cc1d237cf154,refactor/fix_links_in_rst_documentation,"Once meaningful monitoring is in place, you are ready to proceed to the third stage of the Scaling Journey: :doc:`Scale Up <scale_up>`.","Once meaningful monitoring is in place, you are ready to proceed to the third stage of the Scaling Journey: `Scale Up <https://wiki.openstack.org/wiki/Large_Scale_SIG/ScaleUp>`_.",7,7
openstack%2Flarge-scale~master~Iaab0c039e13f81c49c8c9144adb2a759e096402f,openstack/large-scale,master,Iaab0c039e13f81c49c8c9144adb2a759e096402f,Transfer guidelines page to rst format,MERGED,2022-07-01 12:03:56.000000000,2022-07-01 12:48:29.000000000,2022-07-01 12:47:21.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 12:03:56.000000000', 'files': ['doc/source/journey/guidelines/configuration_guideline.rst'], 'web_link': 'https://opendev.org/openstack/large-scale/commit/afc4f8727add217373c80cdfd7cf16273e824816', 'message': 'Transfer guidelines page to rst format\n\nSigned-off-by: Ramona Rautenberg <rautenberg@osism.tech>\nChange-Id: Iaab0c039e13f81c49c8c9144adb2a759e096402f\n'}]",0,848436,afc4f8727add217373c80cdfd7cf16273e824816,7,2,1,34533,,,0,"Transfer guidelines page to rst format

Signed-off-by: Ramona Rautenberg <rautenberg@osism.tech>
Change-Id: Iaab0c039e13f81c49c8c9144adb2a759e096402f
",git fetch https://review.opendev.org/openstack/large-scale refs/changes/36/848436/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/journey/guidelines/configuration_guideline.rst'],1,afc4f8727add217373c80cdfd7cf16273e824816,add/largescale_guidelines_documentation,"=================================== Large Scale Configuration Guideline =================================== Introduction ------------ WSGI ---- When running a python app as WSGI, you need to use maximum 1 thread! Example with apache config: .. code-block:: console $ grep WSGIDaemonProcess /etc/apache2/sites-available/10-cinder_wsgi.conf WSGIDaemonProcess cinder-api display-name=cinder_wsgi group=cinder processes=8 threads=1 user=cinder Nova ---- ------------- api.max_limit ------------- Documentation link: https://docs.openstack.org/nova/latest/configuration/config.html#api.max_limit This settings needs to be tuned in order to make sure that Nova API will give you an expected number of objects.. Neutron -------",======================= Configuration Guideline ======================= # WIP ,30,4
openstack%2Fcharm-mysql-router~master~Id0e6b878f3857f6c590f00f64d6bcaedb51094fc,openstack/charm-mysql-router,master,Id0e6b878f3857f6c590f00f64d6bcaedb51094fc,Add max_total_connections configuration option,MERGED,2022-05-04 10:01:32.000000000,2022-07-01 12:46:55.000000000,2022-07-01 12:46:55.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 10:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/688cb00a06164e26cb48f15867edb30931823bf9', 'message': 'Add max_total_connections configuration option\n\nMigrate the deprecated configuration from max_connections to max_total_connections\n\nCloses-Bug: #1969927\nChange-Id: Id0e6b878f3857f6c590f00f64d6bcaedb51094fc\n'}, {'number': 2, 'created': '2022-05-04 10:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/bfb387b003548903525acb266e07c1f774643bb1', 'message': 'Add max_total_connections configuration option\n\nMigrate the deprecated configuration from max_connections to max_total_connections\n\nCloses-Bug: #1969927\nChange-Id: Id0e6b878f3857f6c590f00f64d6bcaedb51094fc\n'}, {'number': 3, 'created': '2022-05-05 07:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/50ec7de2c1b03f2a57059c8b48576c851e113281', 'message': 'Add max_total_connections configuration option\n\nMigrate the deprecated configuration from max_connections to max_total_connections\n\nCloses-Bug: #1969927\nChange-Id: Id0e6b878f3857f6c590f00f64d6bcaedb51094fc\n'}, {'number': 4, 'created': '2022-05-18 03:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/04d4fcb0efbfa37d3060b2febcf8b523c5242a42', 'message': 'Add max_total_connections configuration option\n\nAdd new configuration max_total_connections\n\nCloses-Bug: #1969927\nChange-Id: Id0e6b878f3857f6c590f00f64d6bcaedb51094fc\n'}, {'number': 5, 'created': '2022-05-23 03:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/ade4e6c0d3b8ae05a8e559361fd610347d73d91e', 'message': 'Add max_total_connections configuration option\n\nAdd new configuration max_total_connections\n\nCloses-Bug: #1969927\nChange-Id: Id0e6b878f3857f6c590f00f64d6bcaedb51094fc\n'}, {'number': 6, 'created': '2022-06-29 04:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/26f0f4bbc06b12d448f40518464237ce583734c3', 'message': 'Add max_total_connections configuration option\n\nAdd new configuration max_total_connections\n\nCloses-Bug: #1969927\nChange-Id: Id0e6b878f3857f6c590f00f64d6bcaedb51094fc\n'}, {'number': 7, 'created': '2022-06-29 05:10:52.000000000', 'files': ['src/config.yaml', 'src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/6fb39ff8b904230fe5ac4b551dd93364964a3cad', 'message': 'Add max_total_connections configuration option\n\nAdd new configuration max_total_connections\n\nCloses-Bug: #1969927\nChange-Id: Id0e6b878f3857f6c590f00f64d6bcaedb51094fc\n'}]",23,840435,6fb39ff8b904230fe5ac4b551dd93364964a3cad,42,4,7,33780,,,0,"Add max_total_connections configuration option

Add new configuration max_total_connections

Closes-Bug: #1969927
Change-Id: Id0e6b878f3857f6c590f00f64d6bcaedb51094fc
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/35/840435/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py']",3,688cb00a06164e26cb48f15867edb30931823bf9,bug/1969927," ""max_total_connections"": '1000', _metadata_config.pop('max_total_connections') 'max_total_connections': _config_data['max_total_connections'],"," ""max_connections"": '1000', _metadata_config.pop('max_connections') 'max_connections': _config_data['max_connections'],",5,5
openstack%2Flarge-scale~master~Ie040566682d2cac2d9a84ac19281d222398502ac,openstack/large-scale,master,Ie040566682d2cac2d9a84ac19281d222398502ac,Transfer ceph page to rst format,MERGED,2022-07-01 09:57:04.000000000,2022-07-01 12:45:29.000000000,2022-07-01 12:44:18.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 09:57:04.000000000', 'files': ['doc/source/journey/ceph.rst'], 'web_link': 'https://opendev.org/openstack/large-scale/commit/ad0d6f01417a59ce5108ca9f756b16fbd9155817', 'message': 'Transfer ceph page to rst format\n\nSigned-off-by: Ramona Rautenberg <rautenberg@osism.tech>\nChange-Id: Ie040566682d2cac2d9a84ac19281d222398502ac\n'}]",1,848400,ad0d6f01417a59ce5108ca9f756b16fbd9155817,7,2,1,34533,,,0,"Transfer ceph page to rst format

Signed-off-by: Ramona Rautenberg <rautenberg@osism.tech>
Change-Id: Ie040566682d2cac2d9a84ac19281d222398502ac
",git fetch https://review.opendev.org/openstack/large-scale refs/changes/00/848400/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/journey/ceph.rst'],1,ad0d6f01417a59ce5108ca9f756b16fbd9155817,add/largescale_ceph_documentation,"================================ Large Scale SIG/CephAndOpenStack ================================ Ceph is often used in combination with OpenStack, which raises a number of questions when scaling. FAQ --- Q: Is it better to have a single large Ceph cluster for a given datacenter or availability zone, or multiple smaller clusters to limit the impact in case of failure? A: Q: How to optimize Ceph cluster performance when it's composed of high-performance SSD disks and standard HDDs? A: Q: Should erasure coding be used to increase resilience ? What's its impact on performance in a VM use case? A: Q: How to optimize a Ceph cluster (number of nodes, configration, enabled features...) in large OpenStack clusters (> 100 compute nodes)? A: Resources --------- * https://www.openstack.org/videos/summits/sydney-2017/the-dos-and-donts-for-ceph-and-openstack * https://www.youtube.com/watch?v=OopRMUYiY5E * https://www.youtube.com/watch?v=21LF2LC58MM * https://www.youtube.com/watch?v=0i7ew3XXb7Q",================== Ceph and Openstack ================== # WIP ,32,4
openstack%2Fvalidations-libs~master~I31c92a77450a57ee0c112a6a515311fcb07bacfa,openstack/validations-libs,master,I31c92a77450a57ee0c112a6a515311fcb07bacfa,Incrementing sphinx version used for doc building,ABANDONED,2022-07-01 10:14:17.000000000,2022-07-01 12:25:04.000000000,,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-07-01 10:14:17.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/70b5902de212d1e14e7341cc9048ec2608716d37', 'message': 'Incrementing sphinx version used for doc building\n\nThe previous minimum version of Sphinx allowed for incompatible\nextensions in some edge cases. Incrementing the minimum version allowed\nand propagating this fix downstream addresses the issue.\n\nRelated-Bug: #1980465\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I31c92a77450a57ee0c112a6a515311fcb07bacfa\n'}]",0,848403,70b5902de212d1e14e7341cc9048ec2608716d37,3,4,1,32926,,,0,"Incrementing sphinx version used for doc building

The previous minimum version of Sphinx allowed for incompatible
extensions in some edge cases. Incrementing the minimum version allowed
and propagating this fix downstream addresses the issue.

Related-Bug: #1980465

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I31c92a77450a57ee0c112a6a515311fcb07bacfa
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/03/848403/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,70b5902de212d1e14e7341cc9048ec2608716d37,docs/sphinxbump,"sphinx>=2.2.0,!=2.1.0 # BSD","sphinx>=2.0.0,!=2.1.0 # BSD",1,1
openstack%2Fmanila~stable%2Fyoga~Ibb1b7ad8b167c469e213c5de0ce56214c1fcff2b,openstack/manila,stable/yoga,Ibb1b7ad8b167c469e213c5de0ce56214c1fcff2b,Update image URL and image name,MERGED,2022-06-22 17:54:26.000000000,2022-07-01 12:16:25.000000000,2022-07-01 12:14:39.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-22 17:54:26.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/manila/commit/2bb2de55bc8395014ab57660a2d54b0d3780519d', 'message': 'Update image URL and image name\n\nIn order to switch our manila service image to Ubuntu Jammy, we\nneeded to get in a couple of changes that Modified the flavor for\nthe manila service image. After all changes got merged, we switched\nto the Ubuntu Jammy image [1].\n\nHowever, now the manila service image master on Tarballs is using\na Ubuntu Jammy image, which requires more resources. It would not\nbe ideal to backport the changes that modify the flavor to the\nstable branches because it is not an actual requirement for them,\nand that also forced us to reduce concurrency of some jobs on the\nmaster branch.\n\nUsing the Ubuntu Jammy image broke our stable branches CI, since\nwith less resources we are not able to successfuly spawn a nova\ninstance using the Ubuntu Jammy image.\n\nIn order to avoid that, this change will modify the manila service\nimage to be used in the stable branches. This selected version\nis the latest built whilst still using Ubuntu Focal. This will\nallow tests to pass on stable branches, since Manila will be able\nto spawn VMs using this image.\n\n[1] https://review.opendev.org/c/openstack/manila-image-elements/+/841264\n\nChange-Id: Ibb1b7ad8b167c469e213c5de0ce56214c1fcff2b\n'}]",0,847212,2bb2de55bc8395014ab57660a2d54b0d3780519d,11,2,1,29632,,,0,"Update image URL and image name

In order to switch our manila service image to Ubuntu Jammy, we
needed to get in a couple of changes that Modified the flavor for
the manila service image. After all changes got merged, we switched
to the Ubuntu Jammy image [1].

However, now the manila service image master on Tarballs is using
a Ubuntu Jammy image, which requires more resources. It would not
be ideal to backport the changes that modify the flavor to the
stable branches because it is not an actual requirement for them,
and that also forced us to reduce concurrency of some jobs on the
master branch.

Using the Ubuntu Jammy image broke our stable branches CI, since
with less resources we are not able to successfuly spawn a nova
instance using the Ubuntu Jammy image.

In order to avoid that, this change will modify the manila service
image to be used in the stable branches. This selected version
is the latest built whilst still using Ubuntu Focal. This will
allow tests to pass on stable branches, since Manila will be able
to spawn VMs using this image.

[1] https://review.opendev.org/c/openstack/manila-image-elements/+/841264

Change-Id: Ibb1b7ad8b167c469e213c5de0ce56214c1fcff2b
",git fetch https://review.opendev.org/openstack/manila refs/changes/12/847212/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,2bb2de55bc8395014ab57660a2d54b0d3780519d,,"MANILA_SERVICE_IMAGE_URL=${MANILA_SERVICE_IMAGE_URL:-""https://tarballs.opendev.org/openstack/manila-image-elements/images/manila-service-image-1.3.0-76-ga216835.qcow2""} MANILA_SERVICE_IMAGE_NAME=${MANILA_SERVICE_IMAGE_NAME:-""manila-service-image-1.3.0-76-ga216835""}","MANILA_SERVICE_IMAGE_URL=${MANILA_SERVICE_IMAGE_URL:-""http://tarballs.openstack.org/manila-image-elements/images/manila-service-image-master.qcow2""} MANILA_SERVICE_IMAGE_NAME=${MANILA_SERVICE_IMAGE_NAME:-""manila-service-image-master""}",2,2
openstack%2Fneutron~stable%2Fwallaby~Icfa2d94e123268679cf152e00e2e3d45162f10b1,openstack/neutron,stable/wallaby,Icfa2d94e123268679cf152e00e2e3d45162f10b1,migration: Remove patch port between br-int and br-tun,MERGED,2022-06-30 16:37:04.000000000,2022-07-01 12:15:38.000000000,2022-07-01 12:13:16.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-30 16:37:04.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/templates/activate-ovn.sh.j2'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c390b2ab6ce4e9e3152dc576774d4d573c4431e2', 'message': ""migration: Remove patch port between br-int and br-tun\n\nAfter migration there is one side of patch port on the integration\nbridge. It has no impact on functionality but it's better to remove it.\n\nChange-Id: Icfa2d94e123268679cf152e00e2e3d45162f10b1\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit 1f0708b352fc846ab5d8d0bc55b812bb8fbcf303)\n""}]",0,848278,c390b2ab6ce4e9e3152dc576774d4d573c4431e2,10,3,1,8655,,,0,"migration: Remove patch port between br-int and br-tun

After migration there is one side of patch port on the integration
bridge. It has no impact on functionality but it's better to remove it.

Change-Id: Icfa2d94e123268679cf152e00e2e3d45162f10b1
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 1f0708b352fc846ab5d8d0bc55b812bb8fbcf303)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/848278/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/templates/activate-ovn.sh.j2'],1,c390b2ab6ce4e9e3152dc576774d4d573c4431e2,migration-stable/yoga-stable/xena-stable/wallaby,ovs-vsctl --if-exists del-port br-int patch-tun,,1,0
openstack%2Fneutron~stable%2Fxena~Icfa2d94e123268679cf152e00e2e3d45162f10b1,openstack/neutron,stable/xena,Icfa2d94e123268679cf152e00e2e3d45162f10b1,migration: Remove patch port between br-int and br-tun,MERGED,2022-06-30 16:36:57.000000000,2022-07-01 12:15:23.000000000,2022-07-01 12:13:12.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-30 16:36:57.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/templates/activate-ovn.sh.j2'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc1dd6939d197d15799aaf252049f76442866c21', 'message': ""migration: Remove patch port between br-int and br-tun\n\nAfter migration there is one side of patch port on the integration\nbridge. It has no impact on functionality but it's better to remove it.\n\nChange-Id: Icfa2d94e123268679cf152e00e2e3d45162f10b1\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit 1f0708b352fc846ab5d8d0bc55b812bb8fbcf303)\n""}]",0,848277,bc1dd6939d197d15799aaf252049f76442866c21,10,3,1,8655,,,0,"migration: Remove patch port between br-int and br-tun

After migration there is one side of patch port on the integration
bridge. It has no impact on functionality but it's better to remove it.

Change-Id: Icfa2d94e123268679cf152e00e2e3d45162f10b1
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 1f0708b352fc846ab5d8d0bc55b812bb8fbcf303)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/848277/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/templates/activate-ovn.sh.j2'],1,bc1dd6939d197d15799aaf252049f76442866c21,migration-stable/yoga-stable/xena,ovs-vsctl --if-exists del-port br-int patch-tun,,1,0
openstack%2Fneutron~stable%2Fyoga~Icfa2d94e123268679cf152e00e2e3d45162f10b1,openstack/neutron,stable/yoga,Icfa2d94e123268679cf152e00e2e3d45162f10b1,migration: Remove patch port between br-int and br-tun,MERGED,2022-06-30 16:36:49.000000000,2022-07-01 12:15:13.000000000,2022-07-01 12:13:08.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-30 16:36:49.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/templates/activate-ovn.sh.j2'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc8d088dd2da0acd1092bc2238f367a713602388', 'message': ""migration: Remove patch port between br-int and br-tun\n\nAfter migration there is one side of patch port on the integration\nbridge. It has no impact on functionality but it's better to remove it.\n\nChange-Id: Icfa2d94e123268679cf152e00e2e3d45162f10b1\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit 1f0708b352fc846ab5d8d0bc55b812bb8fbcf303)\n""}]",1,848276,fc8d088dd2da0acd1092bc2238f367a713602388,9,3,1,8655,,,0,"migration: Remove patch port between br-int and br-tun

After migration there is one side of patch port on the integration
bridge. It has no impact on functionality but it's better to remove it.

Change-Id: Icfa2d94e123268679cf152e00e2e3d45162f10b1
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 1f0708b352fc846ab5d8d0bc55b812bb8fbcf303)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/848276/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/templates/activate-ovn.sh.j2'],1,fc8d088dd2da0acd1092bc2238f367a713602388,migration-stable/yoga,ovs-vsctl --if-exists del-port br-int patch-tun,,1,0
openstack%2Fvalidations-common~master~I027ba43989e75c35de01400356acfc9d36fc1d24,openstack/validations-common,master,I027ba43989e75c35de01400356acfc9d36fc1d24,Constraining sphinx version used for doc building,ABANDONED,2022-07-01 10:58:33.000000000,2022-07-01 11:30:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-01 10:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/86cd7190700eadf8e6b630afd480c73e85587ec1', 'message': 'Incrementing sphinx version used for doc building\n\nThe previous minimum version of Sphinx allowed for incompatible\nextensions in some edge cases. Incrementing the minimum version allowed\nand propagating this fix downstream addresses the issue.\n\nRelated-Bug: #1980465\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I027ba43989e75c35de01400356acfc9d36fc1d24\n'}, {'number': 2, 'created': '2022-07-01 11:23:03.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/1cbff8710b2d1db22d1047a9eb1927769bdc9ce5', 'message': 'Constraining sphinx version used for doc building\n\nThe previous minimum version of Sphinx allowed for incompatible\nextensions in some edge cases. Incrementing and capping the minimum version allowed\nand propagating this fix downstream addresses the issue.\n\nRelated-Bug: #1980465\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I027ba43989e75c35de01400356acfc9d36fc1d24\n'}]",0,848408,1cbff8710b2d1db22d1047a9eb1927769bdc9ce5,5,1,2,32926,,,0,"Constraining sphinx version used for doc building

The previous minimum version of Sphinx allowed for incompatible
extensions in some edge cases. Incrementing and capping the minimum version allowed
and propagating this fix downstream addresses the issue.

Related-Bug: #1980465

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I027ba43989e75c35de01400356acfc9d36fc1d24
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/08/848408/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,86cd7190700eadf8e6b630afd480c73e85587ec1,doc/sphinxbump,"sphinx>=2.2.0,!=2.1.0 # BSD License","sphinx>=2.0.0,!=2.1.0 # BSD License",1,1
openstack%2Fneutron~master~I984dad79505b85822ffdd9a088a04b6ed5a14f27,openstack/neutron,master,I984dad79505b85822ffdd9a088a04b6ed5a14f27,"Mellanox_eth.img url expires, remove the mellanox_eth.img node",MERGED,2022-06-29 05:39:13.000000000,2022-07-01 11:21:25.000000000,2022-07-01 11:19:23.000000000,"[{'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-06-29 05:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0014a4f7d3197dc080bbf22d64e6b9d3cf3a4fd', 'message': 'Mellanox_eth.img url expires\n\nMellanox_eth. Img download link failure,\ndelete http://www.mellanox.com/repository/solutions/openstack/images/mellanox_eth.img\n\nChange-Id: I984dad79505b85822ffdd9a088a04b6ed5a14f27\n'}, {'number': 2, 'created': '2022-06-29 10:02:52.000000000', 'files': ['doc/source/admin/config-ovs-offload.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e5d43a2f324bcc8ebbe544de8a6cb6a08deb795', 'message': 'Mellanox_eth.img url expires, remove the mellanox_eth.img node\n\nMellanox_eth. Img download link failure,\ndelete the http://www.mellanox.com/repository/solutions/openstack/images/mellanox_eth.img node\n\nChange-Id: I984dad79505b85822ffdd9a088a04b6ed5a14f27\n'}]",2,848074,1e5d43a2f324bcc8ebbe544de8a6cb6a08deb795,14,4,2,35025,,,0,"Mellanox_eth.img url expires, remove the mellanox_eth.img node

Mellanox_eth. Img download link failure,
delete the http://www.mellanox.com/repository/solutions/openstack/images/mellanox_eth.img node

Change-Id: I984dad79505b85822ffdd9a088a04b6ed5a14f27
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/848074/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-ovs-offload.rst'],1,d0014a4f7d3197dc080bbf22d64e6b9d3cf3a4fd,," In this example, we used Mellanox Image with NIC Drivers"," In this example, we used Mellanox Image with NIC Drivers that can be downloaded from http://www.mellanox.com/repository/solutions/openstack/images/mellanox_eth.img",1,2
openstack%2Fpython-openstackclient~master~I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc,openstack/python-openstackclient,master,I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc,Fix: create image from volume command,MERGED,2022-06-01 09:25:02.000000000,2022-07-01 11:20:52.000000000,2022-07-01 11:19:14.000000000,"[{'_account_id': 9535}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-06-01 09:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1338d7f5408d29a44ed66df466c48b86c15a1765', 'message': 'Fix: create image from volume command\n\nCurrently the command ``openstack image create --volume`` calls cinderclient\nto upload the volume to image service (glance) but OSC passes ``visibility``\nand ``protected`` fields which are only available in microversion 3.1 or\ngreater. This generates an error if the user is using volume microversion\n3.0 and wants to create an image from volume.\nThis patch fixes that by only passing ``visibility`` and ``protected`` fields\nwhen the volume microversion is 3.1 or greater and not pass it otherwise.\n\nStory: 2010060\nTask: 45511\nChange-Id: I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc\n'}, {'number': 2, 'created': '2022-06-01 12:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/90bfc62959a52721d51b36daba4d914750385f3c', 'message': 'Fix: create image from volume command\n\nCurrently the command ``openstack image create --volume`` calls cinderclient\nto upload the volume to image service (glance) but OSC passes ``visibility``\nand ``protected`` fields which are only available in microversion 3.1 or\ngreater. This generates an error if the user is using volume microversion\n3.0 and wants to create an image from volume.\nThis patch fixes that by only passing ``visibility`` and ``protected`` fields\nwhen the volume microversion is 3.1 or greater and not pass it otherwise.\n\nStory: 2010060\nTask: 45511\nChange-Id: I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc\n'}, {'number': 3, 'created': '2022-06-30 09:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1da9c841a1da1b9c0a4c7ad62bf9960d10271f93', 'message': 'Fix: create image from volume command\n\nCurrently the command ``openstack image create --volume`` calls cinderclient\nto upload the volume to image service (glance) but OSC passes ``visibility``\nand ``protected`` fields which are only available in microversion 3.1 or\ngreater. This generates an error if the user is using volume microversion\n< 3.1 and wants to create an image from volume.\nThis patch fixes that by only passing ``visibility`` and ``protected`` fields\nwhen the volume microversion is 3.1 or greater and fail otherwise i.e. the\nfollowing 3 cases:\n1) visibility/protected argument + mv >= 3.1 = pass\n2) visibility/protected argument + mv < 3.1 = fail\n3) not visibility/protected argument + any mv = pass\n\nStory: 2010060\nTask: 45511\nChange-Id: I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc\n'}, {'number': 4, 'created': '2022-06-30 10:55:42.000000000', 'files': ['releasenotes/notes/fix-image-create-from-volume-c573e553161605c4.yaml', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9eea28ba59e44526b9d6f1ad9f80c3553d5853e2', 'message': 'Fix: create image from volume command\n\nCurrently the command ``openstack image create --volume`` calls cinderclient\nto upload the volume to image service (glance) but OSC passes ``visibility``\nand ``protected`` fields which are only available in microversion 3.1 or\ngreater. This generates an error if the user is using volume microversion\n< 3.1 and wants to create an image from volume.\nThis patch fixes that by only passing ``visibility`` and ``protected`` fields\nwhen the volume microversion is 3.1 or greater and fail otherwise i.e. the\nfollowing 3 cases:\n1) visibility/protected argument + mv >= 3.1 = pass\n2) visibility/protected argument + mv < 3.1 = fail\n3) not visibility/protected argument + any mv = pass\n\nStory: 2010060\nTask: 45511\nChange-Id: I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc\n'}]",11,844268,9eea28ba59e44526b9d6f1ad9f80c3553d5853e2,26,4,4,27615,,,0,"Fix: create image from volume command

Currently the command ``openstack image create --volume`` calls cinderclient
to upload the volume to image service (glance) but OSC passes ``visibility``
and ``protected`` fields which are only available in microversion 3.1 or
greater. This generates an error if the user is using volume microversion
< 3.1 and wants to create an image from volume.
This patch fixes that by only passing ``visibility`` and ``protected`` fields
when the volume microversion is 3.1 or greater and fail otherwise i.e. the
following 3 cases:
1) visibility/protected argument + mv >= 3.1 = pass
2) visibility/protected argument + mv < 3.1 = fail
3) not visibility/protected argument + any mv = pass

Story: 2010060
Task: 45511
Change-Id: I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/68/844268/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-image-create-from-volume-c573e553161605c4.yaml', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/image/v2/image.py']",3,1338d7f5408d29a44ed66df466c48b86c15a1765,844268,"from cinderclient import api_versions if volume_client.api_version >= api_versions.APIVersion('3.1'): response, body = volume_client.volumes.upload_to_image( source_volume.id, parsed_args.force, parsed_args.name, parsed_args.container_format, parsed_args.disk_format, visibility=kwargs.get('visibility', 'private'), protected=True if parsed_args.protected else False ) else: response, body = volume_client.volumes.upload_to_image( source_volume.id, parsed_args.force, parsed_args.name, parsed_args.container_format, parsed_args.disk_format )"," response, body = volume_client.volumes.upload_to_image( source_volume.id, parsed_args.force, parsed_args.name, parsed_args.container_format, parsed_args.disk_format, visibility=kwargs.get('visibility', 'private'), protected=True if parsed_args.protected else False )",99,10
openstack%2Fneutron~stable%2Fyoga~I9e6e05b7a4f36383a44bd80f07d25052b17bdfa0,openstack/neutron,stable/yoga,I9e6e05b7a4f36383a44bd80f07d25052b17bdfa0,ovn: revert to stateful dnat_and_snat,MERGED,2022-06-30 19:35:48.000000000,2022-07-01 11:03:38.000000000,2022-07-01 11:02:15.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-30 19:35:48.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'releasenotes/notes/revert-ovn-stateless-nat-88076892fd6f7354.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce06020addcbb56550a3da48b969f31005f101db', 'message': 'ovn: revert to stateful dnat_and_snat\n\nThis is an effective revert of:\nI312a950131d62d93fb4bc121bc5e60febb8d35ee\n""ovn: use stateless NAT rules for FIPs"".\n\nThe performance benefits promised by the ""reverted"" patch never\nmaterialized. On the contrary, the discussion in [1] revealed that the\nswitch to stateless=true made it impossible to fully hw offload nat\nrules, while it\'s possible with stateless=false.  Specifically, see this\ncomment [2].\n\nSince at this point it\'s unclear if keeping stateless=true as an option\nis beneficial for any case, even when w/o hw offload, and to avoid\ncomplexity of introducing a config option for unclear benefit, this\npatch reverts the effects of the original patch, switching all\ndnat_and_snat objects to implicit stateless=false state.\n\nThis patch cannot be a clean revert because of the need for db\nmigration.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2004995\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2004995#c18\n\nChange-Id: I9e6e05b7a4f36383a44bd80f07d25052b17bdfa0\n(cherry picked from commit ffd64df9d306bf56091b2f3ae8a8f579f578de53)\n'}]",2,848283,ce06020addcbb56550a3da48b969f31005f101db,10,3,1,9656,,,0,"ovn: revert to stateful dnat_and_snat

This is an effective revert of:
I312a950131d62d93fb4bc121bc5e60febb8d35ee
""ovn: use stateless NAT rules for FIPs"".

The performance benefits promised by the ""reverted"" patch never
materialized. On the contrary, the discussion in [1] revealed that the
switch to stateless=true made it impossible to fully hw offload nat
rules, while it's possible with stateless=false.  Specifically, see this
comment [2].

Since at this point it's unclear if keeping stateless=true as an option
is beneficial for any case, even when w/o hw offload, and to avoid
complexity of introducing a config option for unclear benefit, this
patch reverts the effects of the original patch, switching all
dnat_and_snat objects to implicit stateless=false state.

This patch cannot be a clean revert because of the need for db
migration.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2004995
[2] https://bugzilla.redhat.com/show_bug.cgi?id=2004995#c18

Change-Id: I9e6e05b7a4f36383a44bd80f07d25052b17bdfa0
(cherry picked from commit ffd64df9d306bf56091b2f3ae8a8f579f578de53)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/848283/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'releasenotes/notes/revert-ovn-stateless-nat-88076892fd6f7354.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",9,ce06020addcbb56550a3da48b969f31005f101db,stateful_nat-stable/yoga," # TODO(ihrachys): Remove the migration to stateful fips in Z+1. def migrate_to_stateful_fips(self): """"""Perform the migration from stateless to stateful Floating IPs. """""" nb_sync.migrate_to_stateful_fips(admin_context)"," # TODO(ihrachys): Remove the migration to stateless fips at some point. def migrate_to_stateless_fips(self): """"""Perform the migration from stateful to stateless Floating IPs. """""" nb_sync.migrate_to_stateless_fips(admin_context)",101,51
openstack%2Ftripleo-heat-templates~master~I3d7cda24ac6eb9b105a1a93440df290413b16ab1,openstack/tripleo-heat-templates,master,I3d7cda24ac6eb9b105a1a93440df290413b16ab1,Fix typo in aodh-base template,MERGED,2022-06-28 04:48:21.000000000,2022-07-01 10:39:08.000000000,2022-07-01 10:39:08.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-28 04:48:21.000000000', 'files': ['deployment/aodh/aodh-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/340a8625c54543720eae798a5139a1ad9745e1ec', 'message': 'Fix typo in aodh-base template\n\nThis change fixes typo in aodh-base template from\naoth to aodh when setting hiera params.\n\nChange-Id: I3d7cda24ac6eb9b105a1a93440df290413b16ab1\n'}]",7,847875,340a8625c54543720eae798a5139a1ad9745e1ec,24,8,1,20733,,,0,"Fix typo in aodh-base template

This change fixes typo in aodh-base template from
aoth to aodh when setting hiera params.

Change-Id: I3d7cda24ac6eb9b105a1a93440df290413b16ab1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/847875/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/aodh/aodh-base.yaml'],1,340a8625c54543720eae798a5139a1ad9745e1ec,aoth-typo, aodh::service_credentials::user_domain_name: 'Default' aodh::service_credentials::project_domain_name: 'Default', aoth::service_credentials::user_domain_name: 'Default' aoth::service_credentials::project_domain_name: 'Default',2,2
openstack%2Fheat~master~I71f8398b6aa57b7c1910750b8e048825383e3d9a,openstack/heat,master,I71f8398b6aa57b7c1910750b8e048825383e3d9a,Use constraints when creating venv for grenade,MERGED,2022-06-30 05:30:13.000000000,2022-07-01 10:35:59.000000000,2022-07-01 10:33:42.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-30 05:30:13.000000000', 'files': ['.zuul.yaml', 'devstack/upgrade/resources.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/39d653fa5741e45d26388950270e7ed3ca489b89', 'message': ""Use constraints when creating venv for grenade\n\nAs a followup for change I6a8cffdc86c895eebe4269c5cd37841325566c54\nlet's use branch specific upper constraints when running tests in\ngrenade.\n\nChange-Id: I71f8398b6aa57b7c1910750b8e048825383e3d9a\n""}]",3,848215,39d653fa5741e45d26388950270e7ed3ca489b89,17,3,1,8833,,,0,"Use constraints when creating venv for grenade

As a followup for change I6a8cffdc86c895eebe4269c5cd37841325566c54
let's use branch specific upper constraints when running tests in
grenade.

Change-Id: I71f8398b6aa57b7c1910750b8e048825383e3d9a
",git fetch https://review.opendev.org/openstack/heat refs/changes/15/848215/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'devstack/upgrade/resources.sh']",2,39d653fa5741e45d26388950270e7ed3ca489b89,, export UPPER_CONSTRAINTS_FILE=$DEST/requirements/upper-constraints.txt export TOX_CONSTRAINTS_FILE=$UPPER_CONSTRAINTS_FILE export HEAT_TEMPEST_PLUGIN=$DEST/heat-tempest-plugin sudo git config --system --add safe.directory $HEAT_TEMPEST_PLUGIN tox -evenv-tempest -- pip install -c$UPPER_CONSTRAINTS_FILE $HEAT_TEMPEST_PLUGIN,,6,2
openstack%2Freleases~master~Ib461bdb37e9c918477ad91e86afcd6ee6aee3fe8,openstack/releases,master,Ib461bdb37e9c918477ad91e86afcd6ee6aee3fe8,Release cinder-tempest-plugin 1.7.0,MERGED,2022-06-30 09:25:13.000000000,2022-07-01 10:02:44.000000000,2022-07-01 10:02:44.000000000,"[{'_account_id': 9236}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-30 09:25:13.000000000', 'files': ['deliverables/zed/cinder-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e82e232c5704440aef6edbdf9fda1b632a2fb54e', 'message': 'Release cinder-tempest-plugin 1.7.0\n\nIntermediate release. There are a few useful changes compared\nto the previous tag.\n\nChange-Id: Ib461bdb37e9c918477ad91e86afcd6ee6aee3fe8\n'}]",3,848238,e82e232c5704440aef6edbdf9fda1b632a2fb54e,10,5,1,10459,,,0,"Release cinder-tempest-plugin 1.7.0

Intermediate release. There are a few useful changes compared
to the previous tag.

Change-Id: Ib461bdb37e9c918477ad91e86afcd6ee6aee3fe8
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/848238/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/cinder-tempest-plugin.yaml'],1,e82e232c5704440aef6edbdf9fda1b632a2fb54e,cinder-tempest-plugin,releases: - version: 1.7.0 projects: - repo: openstack/cinder-tempest-plugin hash: 5960fa4ed795d05ffd2ae16af6d690848953f121,,5,0
openstack%2Fpython-manilaclient~master~I3e8a04904ba387161841a677442b00b4a5456c4d,openstack/python-manilaclient,master,I3e8a04904ba387161841a677442b00b4a5456c4d,[OSC] Implement Share Migration Start Command,MERGED,2022-04-03 08:43:04.000000000,2022-07-01 10:00:31.000000000,2022-07-01 09:59:13.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31213}]","[{'number': 1, 'created': '2022-04-03 08:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f4e10039a775ce282cd1f2ef2e60a0d32b1b48f8', 'message': ""[OSC] Implement Share Migration Start Command\n\nThis commit adds 'openstack share migration start'\ncommand, that implement the same functionality as 'manila migration-start'\ncommand.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I3e8a04904ba387161841a677442b00b4a5456c4d\n""}, {'number': 2, 'created': '2022-04-05 15:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/94c0f570b28dbad1b8449e31e8d2491650c59401', 'message': ""[OSC] Implement Share Migration Start Command\n\nThis commit adds 'openstack share migration start'\ncommand, that implement the same functionality as 'manila migration-start'\ncommand.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I3e8a04904ba387161841a677442b00b4a5456c4d\n""}, {'number': 3, 'created': '2022-04-12 11:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/80e96b6d434ce916888783c0b88a40e4a8af1bcb', 'message': ""[OSC] Implement Share Migration Start Command\n\nThis commit adds 'openstack share migration start'\ncommand, that implement the same functionality as 'manila migration-start'\ncommand.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I3e8a04904ba387161841a677442b00b4a5456c4d\n""}, {'number': 4, 'created': '2022-04-12 12:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/85f5460d6c9b1f1b665757408d2143840384935a', 'message': ""[OSC] Implement Share Migration Start Command\n\nThis commit adds 'openstack share migration start'\ncommand, that implement the same functionality as 'manila migration-start'\ncommand.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I3e8a04904ba387161841a677442b00b4a5456c4d\n""}, {'number': 5, 'created': '2022-04-12 13:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/05c1432b43779f3cc0d6c41766145773e4666561', 'message': ""[OSC] Implement Share Migration Start Command\n\nThis commit adds 'openstack share migration start'\ncommand, that implement the same functionality as 'manila migration-start'\ncommand.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I3e8a04904ba387161841a677442b00b4a5456c4d\n""}, {'number': 6, 'created': '2022-04-13 07:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/30d78eb6d689f2ca6d9cbbfbbf50262da38b49dc', 'message': ""[OSC] Implement Share Migration Start Command\n\nThis commit adds 'openstack share migration start'\ncommand, that implement the same functionality as 'manila migration-start'\ncommand.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I3e8a04904ba387161841a677442b00b4a5456c4d\n""}, {'number': 7, 'created': '2022-04-13 07:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/aa6364cdedc2c4ff3106c8c8736f764e38f8f413', 'message': ""[OSC] Implement Share Migration Start Command\n\nThis commit adds 'openstack share migration start'\ncommand, that implement the same functionality as 'manila migration-start'\ncommand.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I3e8a04904ba387161841a677442b00b4a5456c4d\n""}, {'number': 8, 'created': '2022-04-13 07:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/595f23941fc0a6831b80250db1217c5e4d5e0975', 'message': ""[OSC] Implement Share Migration Start Command\n\nThis commit adds 'openstack share migration start'\ncommand, that implement the same functionality as 'manila migration-start'\ncommand.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I3e8a04904ba387161841a677442b00b4a5456c4d\n""}, {'number': 9, 'created': '2022-04-17 17:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9bd0157af0fa9a373d09240adf499c8fd710b78a', 'message': ""[OSC] Implement Share Migration Start Command\n\nThis commit adds 'openstack share migration start'\ncommand, that implement the same functionality as 'manila migration-start'\ncommand.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I3e8a04904ba387161841a677442b00b4a5456c4d\n""}, {'number': 10, 'created': '2022-06-05 05:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a62fa107a4b75cac4efc2a08fc7c024f6bccf063', 'message': ""[OSC] Implement Share Migration Start Command\n\nThis commit adds 'openstack share migration start'\ncommand, that implement the same functionality as 'manila migration-start'\ncommand.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I3e8a04904ba387161841a677442b00b4a5456c4d\n""}, {'number': 11, 'created': '2022-06-05 05:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/52f6a5373ca76277949038890f7c8f4a2e0aced7', 'message': ""[OSC] Implement Share Migration Start Command\n\nThis commit adds 'openstack share migration start'\ncommand, that implement the same functionality as 'manila migration-start'\ncommand.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I3e8a04904ba387161841a677442b00b4a5456c4d\n""}, {'number': 12, 'created': '2022-06-05 07:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/80da47538817c8225286e98724b6c7ff9926436d', 'message': ""[OSC] Implement Share Migration Start Command\n\nThis commit adds 'openstack share migration start'\ncommand, that implement the same functionality as 'manila migration-start'\ncommand.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I3e8a04904ba387161841a677442b00b4a5456c4d\n""}, {'number': 13, 'created': '2022-06-05 07:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/8dbdc2a0bf5477489b3f24995c3ce8892cae945c', 'message': ""[OSC] Implement Share Migration Start Command\n\nThis commit adds 'openstack share migration start'\ncommand, that implement the same functionality as 'manila migration-start'\ncommand.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I3e8a04904ba387161841a677442b00b4a5456c4d\n""}, {'number': 14, 'created': '2022-06-29 06:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/cb06ca8a969c994793e0c5c07355728d6dc60695', 'message': ""[OSC] Implement Share Migration Start Command\n\nThis commit adds 'openstack share migration start'\ncommand, that implement the same functionality as 'manila migration-start'\ncommand.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I3e8a04904ba387161841a677442b00b4a5456c4d\n""}, {'number': 15, 'created': '2022-06-29 06:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9121a120f3efe29e5e06818960e5c42f3309abea', 'message': ""[OSC] Implement Share Migration Start Command\n\nThis commit adds 'openstack share migration start'\ncommand, that implement the same functionality as 'manila migration-start'\ncommand.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I3e8a04904ba387161841a677442b00b4a5456c4d\n""}, {'number': 16, 'created': '2022-07-01 08:07:24.000000000', 'files': ['manilaclient/osc/v2/share.py', 'manilaclient/tests/unit/osc/v2/test_share.py', 'doc/source/cli/osc/v2/index.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/fa84d6118c59a4fa9b0d72d02adee24a367aeaa9', 'message': ""[OSC] Implement Share Migration Start Command\n\nThis commit adds 'openstack share migration start'\ncommand, that implement the same functionality as 'manila migration-start'\ncommand.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I3e8a04904ba387161841a677442b00b4a5456c4d\n""}]",65,836239,fa84d6118c59a4fa9b0d72d02adee24a367aeaa9,62,3,16,21785,,,0,"[OSC] Implement Share Migration Start Command

This commit adds 'openstack share migration start'
command, that implement the same functionality as 'manila migration-start'
command.

Partially-implements: bp openstack-client-support
Change-Id: I3e8a04904ba387161841a677442b00b4a5456c4d
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/39/836239/13 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/osc/v2/share.py', 'manilaclient/tests/unit/osc/v2/test_share.py', 'doc/source/cli/osc/v2/index.rst', 'setup.cfg']",4,f4e10039a775ce282cd1f2ef2e60a0d32b1b48f8,bp/openstack-client-support, share_migration_start = manilaclient.osc.v2.share:MigrationStart,,221,5
openstack%2Fneutron~master~I67df1820bfd681de44b8568b46cbc95dd940c024,openstack/neutron,master,I67df1820bfd681de44b8568b46cbc95dd940c024,Temporary blacklist test_reboot_server_hard in OVN IPv6 job,MERGED,2020-12-02 09:05:43.000000000,2022-07-01 09:39:58.000000000,2020-12-15 19:43:46.000000000,"[{'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-02 09:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/80e6a17a6cd2b3eb8a070d131d1dbdafb9499c27', 'message': ""Temporary blacklist test_reboot_server_hard in OVN IPv6 job\n\nIt's blacklisted due to related bug. When the bug will be fixed we\nshould restore this test to be run in the gate.\n\nChange-Id: I67df1820bfd681de44b8568b46cbc95dd940c024\nRelated-Bug: #1906490\n""}, {'number': 2, 'created': '2020-12-10 10:07:46.000000000', 'files': ['zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c95150c84d77f3eae69def5b1328243ccec248a', 'message': ""Temporary blacklist test_reboot_server_hard in OVN IPv6 job\n\nIt's blacklisted due to related bug. When the bug will be fixed we\nshould restore this test to be run in the gate.\n\nChange-Id: I67df1820bfd681de44b8568b46cbc95dd940c024\nRelated-Bug: #1906490\n""}]",0,765070,7c95150c84d77f3eae69def5b1328243ccec248a,18,4,2,11975,,,0,"Temporary blacklist test_reboot_server_hard in OVN IPv6 job

It's blacklisted due to related bug. When the bug will be fixed we
should restore this test to be run in the gate.

Change-Id: I67df1820bfd681de44b8568b46cbc95dd940c024
Related-Bug: #1906490
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/765070/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-singlenode.yaml'],1,80e6a17a6cd2b3eb8a070d131d1dbdafb9499c27,bug/1906490," # TODO(slaweq): remove test_reboot_server_hard from the blacklist when # when bug https://bugs.launchpad.net/neutron/+bug/1906490 will be fixed tempest_black_regex: ""(^tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON.test_reboot_server_hard)""",,3,0
openstack%2Fkolla~master~If81989603185528dae86df52e8f8d0f94cdca85d,openstack/kolla,master,If81989603185528dae86df52e8f8d0f94cdca85d,Change kolla_version LABEL to git sha-1,MERGED,2021-11-22 10:08:28.000000000,2022-07-01 09:37:42.000000000,2022-07-01 09:36:30.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-22 10:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bae304ae2fc6401893e825531f3373ba02389f07', 'message': ""Add kolla_git_commit LABEL for kolla images\n\nDownstream users are often building their own\ncustom images from their own forked git.\nReasoning can be various - added fixes not merged yet,\nsome customizations and etc.\n\nBecause of this, it's very usefull to have information\nabout git commit in images, and this is exactly what\nthat patch is adding as a feature.\n\nIf images are built from pip source, kolla_git_commit\nLABEL is just not added.\n\nChange-Id: If81989603185528dae86df52e8f8d0f94cdca85d\n""}, {'number': 2, 'created': '2022-02-01 13:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3623ea1515bd9d9d52632573ea3a3ab1e3201bc0', 'message': ""Add kolla_git_commit LABEL for kolla images\n\nDownstream users are often building their own\ncustom images from their own forked git.\nReasoning can be various - added fixes not merged yet,\nsome customizations and etc.\n\nBecause of this, it's very usefull to have information\nabout git commit in images, and this is exactly what\nthat patch is adding as a feature.\n\nIf images are built from pip source, kolla_git_commit\nLABEL is just not added.\n\nChange-Id: If81989603185528dae86df52e8f8d0f94cdca85d\n""}, {'number': 3, 'created': '2022-05-19 15:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/59313a859fe37ef92abcf2ceebfd260528e602b5', 'message': ""Change kolla_version LABEL to git sha-1\n\nDownstream users are often building their own\ncustom images from their own forked git.\nReasoning can be various - added fixes not merged yet,\nsome customizations and etc.\n\nBecause of this, it's very usefull to have information\nabout git commit in images, and this is exactly what\nthat patch does.\n\nIf images are built from pip source, kolla_version\nLABEL contains kolla version.\n\nChange-Id: If81989603185528dae86df52e8f8d0f94cdca85d\n""}, {'number': 4, 'created': '2022-05-19 15:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d73cdea31b32b422edd8981a0f72cb6efb46f603', 'message': ""Change kolla_version LABEL to git sha-1\n\nDownstream users are often building their own\ncustom images from their own forked git.\nReasoning can be various - added fixes not merged yet,\nsome customizations and etc.\n\nBecause of this, it's very usefull to have information\nabout git commit in images, and this is exactly what\nthat patch does.\n\nIf images are built from pip source, kolla_version\nLABEL contains kolla version.\n\nChange-Id: If81989603185528dae86df52e8f8d0f94cdca85d\n""}, {'number': 5, 'created': '2022-06-13 13:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0fa908a3f8dc63b4e30d29dd8af97c17ad46b625', 'message': ""Change kolla_version LABEL to git sha-1\n\nDownstream users are often building their own\ncustom images from their own forked git.\nReasoning can be various - added fixes not merged yet,\nsome customizations and etc.\n\nBecause of this, it's very usefull to have information\nabout git commit in images, and this is exactly what\nthat patch does.\n\nIf images are built from pip source, kolla_version\nLABEL contains kolla version.\n\nChange-Id: If81989603185528dae86df52e8f8d0f94cdca85d\n""}, {'number': 6, 'created': '2022-06-13 13:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e169cf7a4040c9881e0ba63f20edc67bdb34b43b', 'message': ""Change kolla_version LABEL to git sha-1\n\nDownstream users are often building their own\ncustom images from their own forked git.\nReasoning can be various - added fixes not merged yet,\nsome customizations and etc.\n\nBecause of this, it's very usefull to have information\nabout git commit in images, and this is exactly what\nthat patch does.\n\nIf images are built from pip source, kolla_version\nLABEL contains kolla version.\n\nChange-Id: If81989603185528dae86df52e8f8d0f94cdca85d\n""}, {'number': 7, 'created': '2022-06-20 13:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/be482663ebbb0a58ff902fd287c1909f618f6e4a', 'message': ""Change kolla_version LABEL to git sha-1\n\nDownstream users are often building their own\ncustom images from their own forked git.\nReasoning can be various - added fixes not merged yet,\nsome customizations and etc.\n\nBecause of this, it's very usefull to have information\nabout git commit in images, and this is exactly what\nthat patch does.\n\nIf images are built from pip source, kolla_version\nLABEL contains kolla version.\n\nChange-Id: If81989603185528dae86df52e8f8d0f94cdca85d\n""}, {'number': 8, 'created': '2022-06-21 06:54:11.000000000', 'files': ['kolla/image/build.py', 'kolla/version.py', 'releasenotes/notes/add-kolla-git-commit-label-aab06fb8c8df1873.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ad7b9054ca5ebc53031a10dc3f03675c88845b11', 'message': ""Change kolla_version LABEL to git sha-1\n\nDownstream users are often building their own\ncustom images from their own forked git.\nReasoning can be various - added fixes not merged yet,\nsome customizations and etc.\n\nBecause of this, it's very usefull to have information\nabout git commit in images, and this is exactly what\nthat patch does.\n\nIf images are built from pip source, kolla_version\nLABEL contains kolla version.\n\nChange-Id: If81989603185528dae86df52e8f8d0f94cdca85d\n""}]",40,818727,ad7b9054ca5ebc53031a10dc3f03675c88845b11,58,6,8,27339,,,0,"Change kolla_version LABEL to git sha-1

Downstream users are often building their own
custom images from their own forked git.
Reasoning can be various - added fixes not merged yet,
some customizations and etc.

Because of this, it's very usefull to have information
about git commit in images, and this is exactly what
that patch does.

If images are built from pip source, kolla_version
LABEL contains kolla version.

Change-Id: If81989603185528dae86df52e8f8d0f94cdca85d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/27/818727/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'kolla/version.py', 'docker/base/Dockerfile.j2', 'releasenotes/notes/add-kolla-git-commit-label-aab06fb8c8df1873.yaml']",4,bae304ae2fc6401893e825531f3373ba02389f07,kolla-version,--- features: - | Adds a ``kolla_git_commit`` label for images if they are built from git. ,,20,0
openstack%2Fkolla-ansible~stable%2Fvictoria~Idb8a82acbd8193fd3fe71c080a1c57e8614d89ec,openstack/kolla-ansible,stable/victoria,Idb8a82acbd8193fd3fe71c080a1c57e8614d89ec,use ironic user in ironic_neutron_agent.ini file,MERGED,2022-06-30 19:58:41.000000000,2022-07-01 09:15:43.000000000,2022-07-01 09:14:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-30 19:58:41.000000000', 'files': ['ansible/roles/neutron/templates/ironic_neutron_agent.ini.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/851cf7c6d38f24b08f9b1fcb84fd1688a7100445', 'message': 'use ironic user in ironic_neutron_agent.ini file\n\nSigned-off-by: Bernd Mueller <mueller@b1-systems.de>\nChange-Id: Idb8a82acbd8193fd3fe71c080a1c57e8614d89ec\n(cherry picked from commit ae69994db7756399576c117697aef0fbbd14a2d2)\n'}]",0,848286,851cf7c6d38f24b08f9b1fcb84fd1688a7100445,9,3,1,15197,,,0,"use ironic user in ironic_neutron_agent.ini file

Signed-off-by: Bernd Mueller <mueller@b1-systems.de>
Change-Id: Idb8a82acbd8193fd3fe71c080a1c57e8614d89ec
(cherry picked from commit ae69994db7756399576c117697aef0fbbd14a2d2)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/86/848286/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/templates/ironic_neutron_agent.ini.j2'],1,851cf7c6d38f24b08f9b1fcb84fd1688a7100445,fix/ironic_user_for_ironic_neutron_agent-stable/victoria,username = {{ ironic_keystone_user }} password = {{ ironic_keystone_password }}region_name = {{ openstack_region_name }},username = {{ neutron_keystone_user }} password = {{ neutron_keystone_password }}os_region = {{ openstack_region_name }},3,3
openstack%2Fkolla-ansible~stable%2Fwallaby~Idb8a82acbd8193fd3fe71c080a1c57e8614d89ec,openstack/kolla-ansible,stable/wallaby,Idb8a82acbd8193fd3fe71c080a1c57e8614d89ec,use ironic user in ironic_neutron_agent.ini file,MERGED,2022-06-30 19:55:55.000000000,2022-07-01 09:15:40.000000000,2022-07-01 09:14:20.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-30 19:55:55.000000000', 'files': ['ansible/roles/neutron/templates/ironic_neutron_agent.ini.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4be435470c0d7be7ad9cd863ceb937885ff81e3c', 'message': 'use ironic user in ironic_neutron_agent.ini file\n\nSigned-off-by: Bernd Mueller <mueller@b1-systems.de>\nChange-Id: Idb8a82acbd8193fd3fe71c080a1c57e8614d89ec\n(cherry picked from commit ae69994db7756399576c117697aef0fbbd14a2d2)\n'}]",1,848285,4be435470c0d7be7ad9cd863ceb937885ff81e3c,10,3,1,15197,,,0,"use ironic user in ironic_neutron_agent.ini file

Signed-off-by: Bernd Mueller <mueller@b1-systems.de>
Change-Id: Idb8a82acbd8193fd3fe71c080a1c57e8614d89ec
(cherry picked from commit ae69994db7756399576c117697aef0fbbd14a2d2)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/848285/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/templates/ironic_neutron_agent.ini.j2'],1,4be435470c0d7be7ad9cd863ceb937885ff81e3c,fix/ironic_user_for_ironic_neutron_agent-stable/wallaby,username = {{ ironic_keystone_user }} password = {{ ironic_keystone_password }}region_name = {{ openstack_region_name }},username = {{ neutron_keystone_user }} password = {{ neutron_keystone_password }}os_region = {{ openstack_region_name }},3,3
openstack%2Fansible-role-redhat-subscription~master~I04b6e8ed0c265021697ed574c55fc8b21eb66395,openstack/ansible-role-redhat-subscription,master,I04b6e8ed0c265021697ed574c55fc8b21eb66395,Add missing environment for a couple of tasks,MERGED,2022-07-01 07:52:43.000000000,2022-07-01 09:12:35.000000000,2022-07-01 09:12:35.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-07-01 07:52:43.000000000', 'files': ['tasks/satellite-6.yml', 'tasks/portal.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/f703e5c494752e3a0e05aa02cd284b591a0d7959', 'message': 'Add missing environment for a couple of tasks\n\nIf564089fb1cb77366fa6d6f8e4086691a4dfcf37 introduced a new parameter,\nallowing to disable container validation by setting the\nSMDEV_CONTAINER_OFF environment variable.\n\nA couple of places were overlooked, leading to issues, especially in a\nsatellite-6 enabled environment.\n\nResolves: rhbz#2102906\nChange-Id: I04b6e8ed0c265021697ed574c55fc8b21eb66395\n'}]",4,848391,f703e5c494752e3a0e05aa02cd284b591a0d7959,11,7,1,28223,,,0,"Add missing environment for a couple of tasks

If564089fb1cb77366fa6d6f8e4086691a4dfcf37 introduced a new parameter,
allowing to disable container validation by setting the
SMDEV_CONTAINER_OFF environment variable.

A couple of places were overlooked, leading to issues, especially in a
satellite-6 enabled environment.

Resolves: rhbz#2102906
Change-Id: I04b6e8ed0c265021697ed574c55fc8b21eb66395
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/91/848391/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/portal.yml', 'tasks/satellite-6.yml']",2,f703e5c494752e3a0e05aa02cd284b591a0d7959,no_check_container," environment: SMDEV_CONTAINER_OFF: ""{{ rhsm_disable_container_check | bool }}""",,4,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ic12dd0a099a2a13fa058677dc3c327b808173893,openstack/tripleo-ansible,stable/wallaby,Ic12dd0a099a2a13fa058677dc3c327b808173893,Make osds spec extra keys more flexible,MERGED,2022-07-01 00:39:25.000000000,2022-07-01 09:12:15.000000000,2022-07-01 09:10:48.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-07-01 00:39:25.000000000', 'files': ['tripleo_ansible/ansible_plugins/module_utils/ceph_spec.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/02ad913f592cf024d5e6bf28dd2f4b68addf3997', 'message': 'Make osds spec extra keys more flexible\n\nWe need to be flexible enough and allow all the options provided by\ndrivegroups implementation [1].\nThis patch removes the ALLOWED_EXTRA_KEYS constraint built against the\nOSD spec passed to the module.\n\n[1] https://docs.ceph.com/en/latest/cephadm/services/osd/#additional-options\n\nChange-Id: Ic12dd0a099a2a13fa058677dc3c327b808173893\n(cherry picked from commit 3906d5245781c7b1338caed8cd00b90fbc63cb6e)\n'}]",0,848288,02ad913f592cf024d5e6bf28dd2f4b68addf3997,8,3,1,18002,,,0,"Make osds spec extra keys more flexible

We need to be flexible enough and allow all the options provided by
drivegroups implementation [1].
This patch removes the ALLOWED_EXTRA_KEYS constraint built against the
OSD spec passed to the module.

[1] https://docs.ceph.com/en/latest/cephadm/services/osd/#additional-options

Change-Id: Ic12dd0a099a2a13fa058677dc3c327b808173893
(cherry picked from commit 3906d5245781c7b1338caed8cd00b90fbc63cb6e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/88/848288/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/module_utils/ceph_spec.py'],1,02ad913f592cf024d5e6bf28dd2f4b68addf3997,make_osd_spec_flexible-stable/wallaby,ALLOWED_EXTRA_KEYS = dict(),"ALLOWED_EXTRA_KEYS = { 'osd': [ 'data_devices', 'db_devices', 'wal_devices', 'encrypted' ] }",1,8
openstack%2Ftripleo-quickstart~master~Id9d512b0d11e1006f4bb41eb6e6ce7aecdf63819,openstack/tripleo-quickstart,master,Id9d512b0d11e1006f4bb41eb6e6ce7aecdf63819,"Revert ""Temp downgrade of libvirt 8.4.x - failing tempest""",MERGED,2022-06-30 15:40:58.000000000,2022-07-01 08:57:25.000000000,2022-07-01 08:55:58.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14611}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-06-30 15:40:58.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-9/wallaby.yml', 'config/release/tripleo-ci/CentOS-9/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-9/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/eb9f5547bf80973d3ca7d2801f8ac11ed92966a5', 'message': 'Revert ""Temp downgrade of libvirt 8.4.x - failing tempest""\n\nThis reverts commit 98d0085b5bacc10cebcc670738d8fee6bdb82210.\n\nReason for revert: Underlying bug fixed in libvirt-8.4.0-3\n\nChange-Id: Id9d512b0d11e1006f4bb41eb6e6ce7aecdf63819\n'}]",2,848273,eb9f5547bf80973d3ca7d2801f8ac11ed92966a5,13,10,1,34208,,,0,"Revert ""Temp downgrade of libvirt 8.4.x - failing tempest""

This reverts commit 98d0085b5bacc10cebcc670738d8fee6bdb82210.

Reason for revert: Underlying bug fixed in libvirt-8.4.0-3

Change-Id: Id9d512b0d11e1006f4bb41eb6e6ce7aecdf63819
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/73/848273/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-9/wallaby.yml', 'config/release/tripleo-ci/CentOS-9/master.yml', 'config/release/tripleo-ci/CentOS-9/promotion-testing-hash-master.yml']",4,eb9f5547bf80973d3ca7d2801f8ac11ed92966a5,bug1978969,, exclude: - libvirt*-8.4* - python*libvirt-8.4*,0,12
openstack%2Ftripleo-heat-templates~master~Id16a374b5ecd1c8ea9141f99872096b18c14343f,openstack/tripleo-heat-templates,master,Id16a374b5ecd1c8ea9141f99872096b18c14343f,Fix commands for configure_ovn_north/south_db_server,MERGED,2022-06-30 12:14:58.000000000,2022-07-01 08:57:00.000000000,2022-07-01 08:57:00.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 8655}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-06-30 12:14:58.000000000', 'files': ['deployment/ovn/ovn-dbs-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c62903f7f725b166896e4e646cb74ad08f55df87', 'message': 'Fix commands for configure_ovn_north/south_db_server\n\nThis fixes the regression caused by [1] and ensures the whole command\nis passed as a single element, so that it is properly handled by\nkolla_start.\n\n[1] 5a43e8a30704692f3eb184cce694dec52ed77635\n\nChange-Id: Id16a374b5ecd1c8ea9141f99872096b18c14343f\n'}]",2,848262,c62903f7f725b166896e4e646cb74ad08f55df87,11,8,1,13861,,,0,"Fix commands for configure_ovn_north/south_db_server

This fixes the regression caused by [1] and ensures the whole command
is passed as a single element, so that it is properly handled by
kolla_start.

[1] 5a43e8a30704692f3eb184cce694dec52ed77635

Change-Id: Id16a374b5ecd1c8ea9141f99872096b18c14343f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/848262/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-container-puppet.yaml'],1,c62903f7f725b166896e4e646cb74ad08f55df87,," - ['ovn_north_db_server', '/bin/bash', '-c'] - - list_join: - ' ' - - 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; NB_DB_PORT=`hiera ovn::northbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-nbctl set-connection' - if: - {get_param: EnableInternalTLS} - 'pssl:$NB_DB_PORT:$DBS_LISTEN_IP' - 'ptcp:$NB_DB_PORT:$DBS_LISTEN_IP' - ['ovn_south_db_server', '/bin/bash', '-c'] - - list_join: - ' ' - - 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; SB_DB_PORT=`hiera ovn::southbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-sbctl set-connection' - if: - {get_param: EnableInternalTLS} - 'pssl:$SB_DB_PORT:$DBS_LISTEN_IP' - 'ptcp:$SB_DB_PORT:$DBS_LISTEN_IP'"," - ['ovn_north_db_server', '/bin/bash', '-c', 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; NB_DB_PORT=`hiera ovn::northbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-nbctl set-connection'] - if: - {get_param: EnableInternalTLS} - ['pssl:$NB_DB_PORT:$DBS_LISTEN_IP'] - ['ptcp:$NB_DB_PORT:$DBS_LISTEN_IP'] - ['ovn_south_db_server', '/bin/bash', '-c', 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; SB_DB_PORT=`hiera ovn::southbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-sbctl set-connection'] - if: - {get_param: EnableInternalTLS} - ['pssl:$SB_DB_PORT:$DBS_LISTEN_IP'] - ['ptcp:$SB_DB_PORT:$DBS_LISTEN_IP']",16,10
openstack%2Fpython-saharaclient~master~I60f1f739f25755cd344fe45e76d225712fedc40f,openstack/python-saharaclient,master,I60f1f739f25755cd344fe45e76d225712fedc40f,"Dropping lower constraints testing and remove py36,py37 support",MERGED,2021-10-26 02:10:28.000000000,2022-07-01 08:56:53.000000000,2022-07-01 08:54:26.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 30077}, {'_account_id': 33353}]","[{'number': 1, 'created': '2021-10-26 02:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/aac5d4cc6fe87a4fc03495867df2b3431b98ee16', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I60f1f739f25755cd344fe45e76d225712fedc40f\n'}, {'number': 2, 'created': '2022-07-01 00:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/184c6fb0522475809e4798eaf4ae13bb0d595fa1', 'message': 'Dropping lower constraints testing and remove py36,py37 support\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I60f1f739f25755cd344fe45e76d225712fedc40f\n'}, {'number': 3, 'created': '2022-07-01 02:50:02.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/84555b6c2dc35eb9f97f2c1e57c745f6c9a8e946', 'message': 'Dropping lower constraints testing and remove py36,py37 support\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I60f1f739f25755cd344fe45e76d225712fedc40f\n'}]",3,815401,84555b6c2dc35eb9f97f2c1e57c745f6c9a8e946,19,4,3,31412,,,0,"Dropping lower constraints testing and remove py36,py37 support

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I60f1f739f25755cd344fe45e76d225712fedc40f
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/01/815401/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,aac5d4cc6fe87a4fc03495867df2b3431b98ee16,,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,78
openstack%2Flarge-scale~master~I1c9c41a1bc4be2643cef25ebdcef5188afe60281,openstack/large-scale,master,I1c9c41a1bc4be2643cef25ebdcef5188afe60281,Add more files for the documentation in rst format,MERGED,2022-07-01 08:25:53.000000000,2022-07-01 08:54:32.000000000,2022-07-01 08:53:20.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 08:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/large-scale/commit/5aa8a8f2f6064c866746ee9edeb1b8f1aff3452f', 'message': 'Add more files for the documentation in rst format\n\nSigned-off-by: Ramona Rautenberg <rautenberg@osism.tech>\nChange-Id: I1c9c41a1bc4be2643cef25ebdcef5188afe60281\n'}, {'number': 2, 'created': '2022-07-01 08:34:20.000000000', 'files': ['doc/source/journey/ceph.rst', 'doc/source/journey/configure/rabbitmq.rst', 'doc/source/journey/guidelines/configuration_guideline.rst', 'doc/source/journey/index.rst'], 'web_link': 'https://opendev.org/openstack/large-scale/commit/97066f83993c20b5829edfe782ac88d811bc63d5', 'message': 'Add more files for the documentation in rst format\n\nSigned-off-by: Ramona Rautenberg <rautenberg@osism.tech>\nChange-Id: I1c9c41a1bc4be2643cef25ebdcef5188afe60281\n'}]",0,848392,97066f83993c20b5829edfe782ac88d811bc63d5,9,2,2,34533,,,0,"Add more files for the documentation in rst format

Signed-off-by: Ramona Rautenberg <rautenberg@osism.tech>
Change-Id: I1c9c41a1bc4be2643cef25ebdcef5188afe60281
",git fetch https://review.opendev.org/openstack/large-scale refs/changes/92/848392/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/journey/ceph.rst', 'doc/source/journey/configure/rabbitmq.rst', 'doc/source/journey/guidelines/configuration_guideline.rst']",3,5aa8a8f2f6064c866746ee9edeb1b8f1aff3452f,add/more_files_for_documentation,======================= Configuration Guideline ======================= # WIP ,,18,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I4d0fef3fe2f821ad694858b0bf109b555f736823,openstack/tripleo-heat-templates,stable/wallaby,I4d0fef3fe2f821ad694858b0bf109b555f736823,"Comment out the empty ""parameter_defaults""",MERGED,2022-06-30 13:53:37.000000000,2022-07-01 08:48:08.000000000,2022-07-01 08:48:08.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-30 13:53:37.000000000', 'files': ['environments/rhsm.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9bccbe4406b6b24e292dcdd0b81c433ccc41f05', 'message': 'Comment out the empty ""parameter_defaults""\n\nIf an operator passes this file and gets their actual RHSM data in\nanother environment file, such as:\nopenstack overcloud deploy \\\n  -e /usr/share/openstack-tripleo-heat-templates/environments/rhsm.yaml \\\n  -e /home/stack/custom-rhsm.yaml\n\nit will fail with the following error:\nValueError: environment has empty section ""parameter_defaults""\n\nCommenting out the empty parameter_defaults will avoid this kind of\nissue - while allowing the operator to still pass their files.\n\nChange-Id: I4d0fef3fe2f821ad694858b0bf109b555f736823\n(cherry picked from commit 226d5cb2a60b27fddb0995fa89ac1e2a0f1db5d8)\n'}]",1,848272,e9bccbe4406b6b24e292dcdd0b81c433ccc41f05,10,6,1,28223,,,0,"Comment out the empty ""parameter_defaults""

If an operator passes this file and gets their actual RHSM data in
another environment file, such as:
openstack overcloud deploy \
  -e /usr/share/openstack-tripleo-heat-templates/environments/rhsm.yaml \
  -e /home/stack/custom-rhsm.yaml

it will fail with the following error:
ValueError: environment has empty section ""parameter_defaults""

Commenting out the empty parameter_defaults will avoid this kind of
issue - while allowing the operator to still pass their files.

Change-Id: I4d0fef3fe2f821ad694858b0bf109b555f736823
(cherry picked from commit 226d5cb2a60b27fddb0995fa89ac1e2a0f1db5d8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/848272/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/rhsm.yaml'],1,e9bccbe4406b6b24e292dcdd0b81c433ccc41f05,rhsm/no-empty-parameter_defaults-stable/wallaby,"# Basic example usage # parameter_defaults:# rhsm_activation_key: 'secrete-key'# # In some cases, you want to configure specific repos on some roles. # Each role can have its own RHSM configuration. # Example: # parameter_defaults: # ComputeHCIParameters: # RhsmVars: # rhsm_repos: # - rhel-8-for-x86_64-baseos-eus-rpms # - rhel-8-for-x86_64-appstream-eus-rpms # - rhel-8-for-x86_64-highavailability-eus-rpms # - ansible-2.9-for-rhel-8-x86_64-rpms # - advanced-virt-for-rhel-8-x86_64-rpms # - openstack-16.1-for-rhel-8-x86_64-rpms # - fast-datapath-for-rhel-8-x86_64-rpms # - rhceph-4-tools-for-rhel-8-x86_64-rpms # - rhceph-4-mon-for-rhel-8-x86_64-rpms # rhsm_activation_key: 'anothersecrete-key' # rhsm_release: '8.2' #","parameter_defaults: # RhsmVars: # rhsm_repos: # - rhel-8-for-x86_64-baseos-eus-rpms # - rhel-8-for-x86_64-appstream-eus-rpms # - rhel-8-for-x86_64-highavailability-eus-rpms # - ansible-2.9-for-rhel-8-x86_64-rpms # - advanced-virt-for-rhel-8-x86_64-rpms # - openstack-16.1-for-rhel-8-x86_64-rpms # - fast-datapath-for-rhel-8-x86_64-rpms # - rhceph-4-tools-for-rhel-8-x86_64-rpms # - rhceph-4-mon-for-rhel-8-x86_64-rpms # rhsm_activation_key: 'secrete-key' # rhsm_release: '8.2' # In some cases, you want to configure specific repos on some roles. # Each role can have its own RHSM configuration. # Example: # ComputeHCIParameters:# rhsm_activation_key: 'anothersecrete-key'",23,21
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Iddd6a2796ec73314dc750163ac03c598407355ba,openstack/python-tripleoclient,stable/wallaby,Iddd6a2796ec73314dc750163ac03c598407355ba,WIP upgrade changes TBD,ABANDONED,2022-06-06 09:43:20.000000000,2022-07-01 08:26:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-06 09:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a41bf1b09f6abad621728a84f0e5ba489db0a1ce', 'message': 'WIP upgrade changes TBD\n\nChange-Id: Iddd6a2796ec73314dc750163ac03c598407355ba\n'}, {'number': 2, 'created': '2022-06-14 20:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5c1442ed34d69914a775aa7bca2728d73108c063', 'message': 'WIP upgrade changes TBD\n\nChange-Id: Iddd6a2796ec73314dc750163ac03c598407355ba\n'}, {'number': 3, 'created': '2022-06-15 15:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/791c85c321cec665b73b841adfb4e2ae7fa4f30e', 'message': 'WIP upgrade changes TBD\n\nChange-Id: Iddd6a2796ec73314dc750163ac03c598407355ba\n'}, {'number': 4, 'created': '2022-06-21 10:09:09.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_deploy.py', 'tripleoclient/v1/overcloud_external_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/569f78fde6c1220300aff53bcd3a4e419f36854c', 'message': 'WIP upgrade changes TBD\n\nChange-Id: Iddd6a2796ec73314dc750163ac03c598407355ba\n'}]",55,844818,569f78fde6c1220300aff53bcd3a4e419f36854c,15,3,4,22954,,,0,"WIP upgrade changes TBD

Change-Id: Iddd6a2796ec73314dc750163ac03c598407355ba
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/18/844818/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_deploy.py', 'tripleoclient/v1/overcloud_external_upgrade.py']",4,a41bf1b09f6abad621728a84f0e5ba489db0a1ce,upgrade_wallaby,"import os parser.add_argument( '--output-dir', action='store', default=None, help=_('Directory to use for saved output when using ' '--config-download. When not ' 'specified, <working-dir>/config-download will be used.') ) parser.add_argument( '--working-dir', action='store', help=_('The working directory for the deployment where all ' 'input, output, and generated files are stored.\n' 'Defaults to ""$HOME/overcloud-deploy/<stack>""')) if not parsed_args.working_dir: working_dir = oooutils.get_default_working_dir(parsed_args.stack) else: working_dir = parsed_args.working_dir status = deployment.get_deployment_status( self.app.client_manager, parsed_args.stack, working_dir if not status: self.log.info(""Could not {} the non existing stack "" ""{}"".format(self.operation, parsed_args.stack)) sys.exit(1) config_download_dir = parsed_args.output_dir or \ os.path.join(working_dir, ""config-download"") # _, ansible_dir = self.get_ansible_key_and_dir( # no_workflow=True, # stack=parsed_args.stack, # orchestration=self.app.client_manager.orchestration # ) # inventory_path=oooutils.get_tripleo_ansible_inventory( # parsed_args.static_inventory, # parsed_args.ssh_user, # parsed_args.stack, # return_inventory_file_path=True # ), output_dir=config_download_dir, working_dir=working_dir,"," _, ansible_dir = self.get_ansible_key_and_dir( no_workflow=True, stack=parsed_args.stack, orchestration=self.app.client_manager.orchestration output_dir=ansible_dir, inventory_path=oooutils.get_tripleo_ansible_inventory( parsed_args.static_inventory, parsed_args.ssh_user, parsed_args.stack, return_inventory_file_path=True ),",114,68
openstack%2Fpython-tripleoclient~master~Iba1a6eb7ecaf8fb50fb891bcfafa07f88f3c3a0a,openstack/python-tripleoclient,master,Iba1a6eb7ecaf8fb50fb891bcfafa07f88f3c3a0a,WIP overcloud_upgrade,ABANDONED,2022-06-02 10:05:35.000000000,2022-07-01 08:26:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-02 10:05:35.000000000', 'files': ['tripleoclient/v1/overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b30b078e2a81966654e34a6881a97598b4513028', 'message': 'WIP overcloud_upgrade\n\nChange-Id: Iba1a6eb7ecaf8fb50fb891bcfafa07f88f3c3a0a\n'}]",1,844412,b30b078e2a81966654e34a6881a97598b4513028,3,1,1,22954,,,0,"WIP overcloud_upgrade

Change-Id: Iba1a6eb7ecaf8fb50fb891bcfafa07f88f3c3a0a
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/12/844412/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_upgrade.py'],1,b30b078e2a81966654e34a6881a97598b4513028,overcloud_deploy," parsed_args.deployed_server = True parsed_args.setup_only = True ""'{}'"".format(self.operation, parsed_args.stack))"," stack = oooutils.get_stack(clients.orchestration, parsed_args.stack) stack_name = stack.stack_name # enable ssh admin for Ansible-via-Mistral as that's done only # when config_download is true deployment.get_hosts_and_enable_ssh_admin( stack, parsed_args.overcloud_ssh_network, parsed_args.overcloud_ssh_user, self.get_key_pair(parsed_args), parsed_args.overcloud_ssh_port_timeout, working_dir=self.working_dir, verbosity=oooutils.playbook_verbosity(self=self) ) ""{}"".format(self.operation, stack_name))",3,16
openstack%2Fcharm-keystone-ldap~master~I2668d90a58aac9d103240dc67061612358a67150,openstack/charm-keystone-ldap,master,I2668d90a58aac9d103240dc67061612358a67150,Support ldap anonymous binding,MERGED,2022-06-22 04:54:46.000000000,2022-07-01 08:12:32.000000000,2022-07-01 08:08:52.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-22 04:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/b04520524c067c657b4a067d24e082263657f253', 'message': 'Support ldap anonymous binding\n\nWe can support this simply by allowing ldap-user and ldap-password\nconfiguration options to be optional.\nAlso need to set the default to an empty string,\notherwise unset values will result in\nthe coerced string value of ""None"", which is not what we want.\n\nCo-authored-by: Vern Hart <vern.hart@canonical.com>\nChange-Id: I2668d90a58aac9d103240dc67061612358a67150\n'}, {'number': 2, 'created': '2022-06-22 04:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/1ea90a246d362aa32c06e14eb7c9bb425a546263', 'message': 'Support ldap anonymous binding\n\nWe can support this simply by allowing ldap-user and ldap-password\nconfiguration options to be optional.\nAlso need to set the default to an empty string,\notherwise unset values will result in\nthe coerced string value of ""None"", which is not what we want.\n\nCloses-Bug: #1762587\n\nCo-authored-by: Vern Hart <vern.hart@canonical.com>\n\nChange-Id: I2668d90a58aac9d103240dc67061612358a67150\n'}, {'number': 3, 'created': '2022-07-01 00:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/51f9b7b8cfe97a0d4b1e6ea2f1a6582e65b92274', 'message': 'Support ldap anonymous binding\n\nWe can support this simply by allowing ldap-user and ldap-password\nconfiguration options to be optional.\nAlso need to set the default to an empty string,\notherwise unset values will result in\nthe coerced string value of ""None"", which is not what we want.\n\nCloses-Bug: #1762587\n\nCo-authored-by: Vern Hart <vern.hart@canonical.com>\n\nChange-Id: I2668d90a58aac9d103240dc67061612358a67150\n'}, {'number': 4, 'created': '2022-07-01 01:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/ad06fdbbffa8850abcd8e2fb323793e44420a7bd', 'message': 'Support ldap anonymous binding\n\nWe can support this simply by allowing ldap-user and ldap-password\nconfiguration options to be optional.\n\nCloses-Bug: #1762587\n\nCo-authored-by: Vern Hart <vern.hart@canonical.com>\n\nChange-Id: I2668d90a58aac9d103240dc67061612358a67150\n'}, {'number': 5, 'created': '2022-07-01 01:37:45.000000000', 'files': ['src/README.md', 'src/config.yaml', 'src/templates/keystone.conf', 'src/lib/charm/openstack/keystone_ldap.py', 'unit_tests/test_lib_charm_openstack_keystone_ldap.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/cb7fdb3527eda513554a521e8b594d36c168be3b', 'message': 'Support ldap anonymous binding\n\nWe can support this simply by allowing ldap-user and ldap-password\nconfiguration options to be optional.\n\nCloses-Bug: #1762587\n\nCo-authored-by: Vern Hart <vern.hart@canonical.com>\n\nChange-Id: I2668d90a58aac9d103240dc67061612358a67150\n'}]",12,847121,cb7fdb3527eda513554a521e8b594d36c168be3b,32,3,5,34352,,,0,"Support ldap anonymous binding

We can support this simply by allowing ldap-user and ldap-password
configuration options to be optional.

Closes-Bug: #1762587

Co-authored-by: Vern Hart <vern.hart@canonical.com>

Change-Id: I2668d90a58aac9d103240dc67061612358a67150
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/21/847121/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/README.md', 'src/config.yaml', 'src/lib/charm/openstack/keystone_ldap.py', 'unit_tests/test_lib_charm_openstack_keystone_ldap.py']",4,b04520524c067c657b4a067d24e082263657f253,ldap-anon-bind,," 'ldap-user': 'myusername', 'ldap-password': 'mypassword',",11,10
openstack%2Ftacker~master~I32c041b8fd996b9b338fe97eb1604567fd6b6aaf,openstack/tacker,master,I32c041b8fd996b9b338fe97eb1604567fd6b6aaf,Enable multiple VNFs creation from one package,MERGED,2022-04-21 14:27:17.000000000,2022-07-01 07:52:40.000000000,2022-07-01 07:51:19.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 32102}, {'_account_id': 33292}]","[{'number': 1, 'created': '2022-04-21 14:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6b56402113829f9a9378ab60b344d8eb218e4787', 'message': 'Enable creation of multiple VNFs from a package\n\nThis patch removes the restriction that only one VNF can be created from\na single VNF package when deploying CNFs.\nThe process of associating the `VDU.properties.name` in VNFD with the\nactual resource name has changed by adding the `vdu_mapping` parameter\nto InstantiateVnfRequest.additionalParams.\n\nThe patch also updates the documentation to remove the restriction and\nadd how to instantiate with `vdu_mapping` parameter.\n\nChange-Id: I32c041b8fd996b9b338fe97eb1604567fd6b6aaf\n'}, {'number': 2, 'created': '2022-04-21 14:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ba579b6dec1a0896763d9294ea66091ea3aa24e2', 'message': 'Enable creation of multiple VNFs from a package\n\nThis patch removes the restriction that only one VNF can be created from\na single VNF package when deploying CNFs.\nThe process of associating the `VDU.properties.name` in VNFD with the\nactual resource name has changed by adding the `vdu_mapping` parameter\nto InstantiateVnfRequest.additionalParams.\n\nThe patch also updates the documentation to remove the restriction and\nadd how to instantiate with `vdu_mapping` parameter.\n\nImplements: blueprint remove-cnf-restriction\nChange-Id: I32c041b8fd996b9b338fe97eb1604567fd6b6aaf\n'}, {'number': 3, 'created': '2022-04-21 22:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/44ef4b1c97fdcb0375a96c8c8ea11c9808c080e4', 'message': 'Enable creation of multiple VNFs from a package\n\nThis patch removes the restriction that only one VNF can be created from\na single VNF package when deploying CNFs.\nThe process of associating the `VDU.properties.name` in VNFD with the\nactual resource name has changed by adding the `vdu_mapping` parameter\nto InstantiateVnfRequest.additionalParams.\n\nThe patch also updates the documentation to remove the restriction and\nadd how to instantiate with `vdu_mapping` parameter.\n\nImplements: blueprint remove-cnf-restriction\nChange-Id: I32c041b8fd996b9b338fe97eb1604567fd6b6aaf\n'}, {'number': 4, 'created': '2022-04-26 23:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4d0102069bb484a5bd83cc7b7e0aa03419293cd9', 'message': 'Enable creation of multiple VNFs from a package\n\nThis patch removes the restriction that only one VNF can be created from\na single VNF package when deploying CNFs.\nThe process of associating the `VDU.properties.name` in VNFD with the\nactual resource name has changed by adding the `vdu_mapping` parameter\nto InstantiateVnfRequest.additionalParams.\n\nThe patch also updates the documentation to remove the restriction and\nadd how to instantiate with `vdu_mapping` parameter.\n\nImplements: blueprint remove-cnf-restriction\nChange-Id: I32c041b8fd996b9b338fe97eb1604567fd6b6aaf\n'}, {'number': 5, 'created': '2022-04-27 00:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a59b7b7b83f963afb0774092056cc8c7b11eac03', 'message': 'Enable multiple VNFs creation from one package\n\nThis patch removes the restriction that only one VNF can be created from\na single VNF package when deploying CNFs.\nThe process of associating the `VDU.properties.name` in VNFD with the\nactual resource name has changed by adding the `vdu_mapping` parameter\nto InstantiateVnfRequest.additionalParams.\n\nThe patch also updates the documentation to remove the restriction and\nadd how to instantiate with `vdu_mapping` parameter.\n\nImplements: blueprint remove-cnf-restriction\nChange-Id: I32c041b8fd996b9b338fe97eb1604567fd6b6aaf\n'}, {'number': 6, 'created': '2022-05-09 00:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2f911fed45d354990e990e2fb55cb9fcb3cfe268', 'message': 'Enable multiple VNFs creation from one package\n\nThis patch removes the restriction that only one VNF can be created from\na single VNF package when deploying CNFs.\nThe process of associating the `VDU.properties.name` in VNFD with the\nactual resource name has changed by adding the `vdu_mapping` parameter\nto InstantiateVnfRequest.additionalParams.\n\nThe patch also updates the documentation to remove the restriction and\nadd how to instantiate with `vdu_mapping` parameter.\n\nImplements: blueprint remove-cnf-restriction\nChange-Id: I32c041b8fd996b9b338fe97eb1604567fd6b6aaf\n'}, {'number': 7, 'created': '2022-05-09 00:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/68cdd602ba96112f8c383f25df1f66606f2a39fa', 'message': 'Enable multiple VNFs creation from one package\n\nThis patch removes the restriction that only one VNF can be created from\na single VNF package when deploying CNFs.\nThe process of associating the `VDU.properties.name` in VNFD with the\nactual resource name has changed by adding the `vdu_mapping` parameter\nto InstantiateVnfRequest.additionalParams.\n\nThe patch also updates the documentation to remove the restriction and\nadd how to instantiate with `vdu_mapping` parameter.\n\nImplements: blueprint remove-cnf-restriction\nChange-Id: I32c041b8fd996b9b338fe97eb1604567fd6b6aaf\n'}, {'number': 8, 'created': '2022-06-29 00:42:38.000000000', 'files': ['tacker/tests/functional/sol_kubernetes/vnflcm/base.py', 'tacker/tests/etc/samples/etsi/nfv/test_cnf/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/functional/sol_kubernetes/vnflcm/test_kubernetes_multi_ns.py', 'tacker/tests/functional/sol_kubernetes/vnflcm/test_kubernetes_scale.py', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/fakes.py', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/test_kubernetes_driver.py', 'tacker/tests/etc/samples/etsi/nfv/test_cnf/Definitions/helloworld3_df_vdumap.yaml', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/test_kubernetes_driver_helm.py', 'doc/source/user/etsi_containerized_vnf_usage_guide.rst', 'doc/source/user/mgmt_driver_deploy_k8s_and_cnf_with_helm.rst', 'tacker/tests/etc/samples/etsi/nfv/test_cnf/Files/kubernetes/deployment_vdumap2.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_cnf/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/tests/functional/sol_kubernetes/vnflcm/test_kubernetes.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/tests/etc/samples/etsi/nfv/test_cnf/Files/kubernetes/deployment_vdumap1.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_cnf_helmchart/Definitions/sample_vnfd_df_helmchart.yaml', 'tacker/tests/functional/sol_kubernetes/vnflcm/test_kubernetes_helm.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/a89d5b284d423e57c2ff60707a14c7ec267247ed', 'message': 'Enable multiple VNFs creation from one package\n\nThis patch removes the restriction that only one VNF can be created from\na single VNF package when deploying CNFs.\nThe process of associating the `VDU.properties.name` in VNFD with the\nactual resource name has changed by adding the `vdu_mapping` parameter\nto InstantiateVnfRequest.additionalParams.\n\nThe patch also updates the documentation to remove the restriction and\nadd how to instantiate with `vdu_mapping` parameter.\n\nImplements: blueprint remove-cnf-restriction\nChange-Id: I32c041b8fd996b9b338fe97eb1604567fd6b6aaf\n'}]",2,838908,a89d5b284d423e57c2ff60707a14c7ec267247ed,25,5,8,31857,,,0,"Enable multiple VNFs creation from one package

This patch removes the restriction that only one VNF can be created from
a single VNF package when deploying CNFs.
The process of associating the `VDU.properties.name` in VNFD with the
actual resource name has changed by adding the `vdu_mapping` parameter
to InstantiateVnfRequest.additionalParams.

The patch also updates the documentation to remove the restriction and
add how to instantiate with `vdu_mapping` parameter.

Implements: blueprint remove-cnf-restriction
Change-Id: I32c041b8fd996b9b338fe97eb1604567fd6b6aaf
",git fetch https://review.opendev.org/openstack/tacker refs/changes/08/838908/2 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/functional/sol_kubernetes/vnflcm/base.py', 'tacker/tests/etc/samples/etsi/nfv/test_cnf/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/functional/sol_kubernetes/vnflcm/test_kubernetes_multi_ns.py', 'tacker/tests/functional/sol_kubernetes/vnflcm/test_kubernetes_scale.py', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/fakes.py', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/test_kubernetes_driver.py', 'tacker/tests/etc/samples/etsi/nfv/test_cnf/Definitions/helloworld3_df_vdumap.yaml', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/test_kubernetes_driver_helm.py', 'doc/source/user/etsi_containerized_vnf_usage_guide.rst', 'doc/source/user/mgmt_driver_deploy_k8s_and_cnf_with_helm.rst', 'tacker/tests/etc/samples/etsi/nfv/test_cnf/Files/kubernetes/deployment_vdumap2.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_cnf/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/tests/functional/sol_kubernetes/vnflcm/test_kubernetes.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/tests/etc/samples/etsi/nfv/test_cnf/Files/kubernetes/deployment_vdumap1.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_cnf_helmchart/Definitions/sample_vnfd_df_helmchart.yaml', 'tacker/tests/functional/sol_kubernetes/vnflcm/test_kubernetes_helm.py']",18,6b56402113829f9a9378ab60b344d8eb218e4787,bp/remove-cnf-restriction," vnf_package2_id, cls.vnfd2_id = \ cls._create_and_upload_vnf_package( cls, cls.tacker_client, ""test_cnf_helmchart_scalefail"", {""key"": ""sample_helmchart_scalefail_functional""}) cls.vnf_package_ids.append(vnf_package2_id) }, ""vdu_mapping"": { ""VDU1"": { ""name"": ""vdu1-localhelm"", ""kind"": ""Deployment"", ""helmreleasename"": ""vdu1"" }, ""VDU2"": { ""name"": ""vdu2-apache"", ""kind"": ""Deployment"", ""helmreleasename"": ""vdu2"" }",,844,301
openstack%2Fnova~master~I5c3fff65fd6d9e4f3632d1ec62ae3f1f9cfbe626,openstack/nova,master,I5c3fff65fd6d9e4f3632d1ec62ae3f1f9cfbe626,zuul: Temporarly put Centos9 Stream job non-voting,MERGED,2022-06-17 10:03:11.000000000,2022-07-01 07:47:04.000000000,2022-06-18 04:13:38.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7fa5793e1ef23d5465da4de8004eaf971ae82f4', 'message': 'zuul: Temporarly put Centos9 Stream job non-voting\n\nDue to the bug below, all the nova patches are failing. I accordingly\npropose to make the job non-voting as it would allow our gate to ressurect.\n\nOf course, this is a transient solution and we need a proper fix for the\njob in order to have Centos 9 Stream support back in place ASAP.\n\nWhen the job is back OK, please make it voting again by reverting this patch.\n\nChange-Id: I5c3fff65fd6d9e4f3632d1ec62ae3f1f9cfbe626\nRelated-Bug: #1912310\n'}, {'number': 2, 'created': '2022-06-17 10:04:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/45c0a3884b6b4c0b9a6b1b3cef47651f5504502e', 'message': 'zuul: Temporarly put Centos9 Stream job non-voting\n\nDue to the bug below, all the nova patches are failing. I accordingly\npropose to make the job non-voting as it would allow our gate to ressurect.\n\nOf course, this is a transient solution and we need a proper fix for the\njob in order to have Centos 9 Stream support back in place ASAP.\n\nWhen the job is back OK, please make it voting again by reverting this patch.\n\nChange-Id: I5c3fff65fd6d9e4f3632d1ec62ae3f1f9cfbe626\nRelated-Bug: #1979047\n'}]",2,846292,45c0a3884b6b4c0b9a6b1b3cef47651f5504502e,22,3,2,7166,,,0,"zuul: Temporarly put Centos9 Stream job non-voting

Due to the bug below, all the nova patches are failing. I accordingly
propose to make the job non-voting as it would allow our gate to ressurect.

Of course, this is a transient solution and we need a proper fix for the
job in order to have Centos 9 Stream support back in place ASAP.

When the job is back OK, please make it voting again by reverting this patch.

Change-Id: I5c3fff65fd6d9e4f3632d1ec62ae3f1f9cfbe626
Related-Bug: #1979047
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/846292/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e7fa5793e1ef23d5465da4de8004eaf971ae82f4,bug/1979047, # NOTE(sbauza): This job is temporarly non-voting until # bug #1979047 is resolved as it holds our CI. voting: false # NOTE(sbauza): This job is temporarly non-voting until # bug #1979047 is resolved as it holds our CI. voting: false,,6,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I791407490dcdddb927d488aa73856cd3ef7191bb,openstack/python-tripleoclient,stable/wallaby,I791407490dcdddb927d488aa73856cd3ef7191bb,Refactor deploy validations for ephemeral heat,MERGED,2022-06-30 13:06:52.000000000,2022-07-01 07:27:27.000000000,2022-07-01 07:26:11.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-30 13:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/29ffb390dfc166a3017976d51feaddd40f49e274', 'message': ""Refactor deploy validations for ephemeral heat\n\nAll these validations are not executed with ephemeral\nheat. With this we'll save stack environment to disk\nand validate using it in the next deployment.\n\nNote: Some of these validations have been changed to\nnot use saved stack environment as we don't update\nthe stack anymore.\n\nAlso cleans up some usage of existing stack in code.\n\nChange-Id: I791407490dcdddb927d488aa73856cd3ef7191bb\n(cherry picked from commit 5a6c8fc0c38346140e0f2f45aa4e16f0612845fc)\n""}, {'number': 2, 'created': '2022-06-30 16:39:15.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/tests/v1/overcloud_deploy/fakes.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8e3d3cbc0f1aaeff49128a149284a3b37f3020cf', 'message': ""Refactor deploy validations for ephemeral heat\n\nAll these validations are not executed with ephemeral\nheat. With this we'll save stack environment to disk\nand validate using it in the next deployment.\n\nNote: Some of these validations have been changed to\nnot use saved stack environment as we don't update\nthe stack anymore.\n\nAlso cleans up some usage of existing stack in code.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/846943\nChange-Id: I791407490dcdddb927d488aa73856cd3ef7191bb\n(cherry picked from commit 5a6c8fc0c38346140e0f2f45aa4e16f0612845fc)\n""}]",1,848293,8e3d3cbc0f1aaeff49128a149284a3b37f3020cf,12,3,2,7144,,,0,"Refactor deploy validations for ephemeral heat

All these validations are not executed with ephemeral
heat. With this we'll save stack environment to disk
and validate using it in the next deployment.

Note: Some of these validations have been changed to
not use saved stack environment as we don't update
the stack anymore.

Also cleans up some usage of existing stack in code.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/846943
Change-Id: I791407490dcdddb927d488aa73856cd3ef7191bb
(cherry picked from commit 5a6c8fc0c38346140e0f2f45aa4e16f0612845fc)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/93/848293/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/tests/v1/overcloud_deploy/fakes.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/v1/overcloud_deploy.py']",8,29ffb390dfc166a3017976d51feaddd40f49e274,," def _heat_deploy(self, stack_name, template_path, self.clients, stack_name, def create_env_files(self, parsed_args, def deploy_tripleo_heat_templates(self, parsed_args, old_stack_env = utils.get_saved_stack_env( self.working_dir, parsed_args.stack) if old_stack_env: if not parsed_args.disable_validations: utils.check_ceph_fsid_matches_env_files(old_stack_env, env) utils.check_swift_and_rgw(old_stack_env, env, utils.check_nic_config_with_ansible(env) utils.check_service_vips_migrated_to_service(env) new_tht_root, def _try_overcloud_deploy_with_compat_yaml(self, tht_root, self._heat_deploy(stack_name, overcloud_yaml, parsed_args, new_tht_root, user_tht_root) parsed_args, new_tht_root, utils.save_stack(stack, self.working_dir)","from tripleo_common import update def _heat_deploy(self, stack, stack_name, template_path, if stack: self.log.debug( ""Checking compatibilities of neutron drivers for {0}"".format( stack_name)) msg = update.check_neutron_mechanism_drivers( env, stack, None, stack_name) if msg: raise oscexc.CommandError(msg) self.clients, stack, stack_name, def create_env_files(self, stack, parsed_args, stack_is_new = stack is None parameters['StackAction'] = 'CREATE' if stack_is_new else 'UPDATE' if stack: env_path = utils.create_breakpoint_cleanup_env( new_tht_root, parsed_args.stack) created_env_files.extend(env_path) def deploy_tripleo_heat_templates(self, stack, parsed_args, if stack: if not parsed_args.disable_validations: # note(aschultz): network validation goes here before we deploy utils.check_stack_network_matches_env_files(stack, env) utils.check_ceph_fsid_matches_env_files(stack, env) utils.check_swift_and_rgw(stack, env, utils.check_nic_config_with_ansible(stack, env) utils.check_service_vips_migrated_to_service(stack, env) new_tht_root, stack, def _try_overcloud_deploy_with_compat_yaml(self, tht_root, stack, self._heat_deploy(stack, stack_name, overcloud_yaml, stack = None stack, parsed_args, new_tht_root, user_tht_root) stack, parsed_args, new_tht_root, utils.save_stack_outputs( self.orchestration_client, stack, self.working_dir)",109,312
openstack%2Fkayobe~master~I636e761cf95642774b5d796cbe044f865fddfe15,openstack/kayobe,master,I636e761cf95642774b5d796cbe044f865fddfe15,corrected wrong variable name in documentation: selinux_do_reboot -> disable_selinux_do_reboot,ABANDONED,2022-06-30 14:58:23.000000000,2022-07-01 07:21:15.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-30 14:58:23.000000000', 'files': ['doc/source/configuration/scenarios/all-in-one/overcloud.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/dc6ac67d92ad0a815b0806b2980c60c0198a683c', 'message': 'corrected wrong variable name in documentation:\nselinux_do_reboot -> disable_selinux_do_reboot\n\nChange-Id: I636e761cf95642774b5d796cbe044f865fddfe15\n'}]",1,848308,dc6ac67d92ad0a815b0806b2980c60c0198a683c,4,2,1,34940,,,0,"corrected wrong variable name in documentation:
selinux_do_reboot -> disable_selinux_do_reboot

Change-Id: I636e761cf95642774b5d796cbe044f865fddfe15
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/08/848308/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/scenarios/all-in-one/overcloud.rst'],1,dc6ac67d92ad0a815b0806b2980c60c0198a683c,rav-wrongvar,"SELinux, set ``disable_selinux_do_reboot`` to ``false`` in ``etc/kayobe/globals.yml``. disable_selinux_do_reboot: false","SELinux, set ``selinux_do_reboot`` to ``false`` in ``etc/kayobe/globals.yml``. selinux_do_reboot: false",2,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I9ab2fd33660022ea105e40ad5aa4f92186118abb,openstack/tripleo-heat-templates,stable/wallaby,I9ab2fd33660022ea105e40ad5aa4f92186118abb,Remove StackAction/StackUpdateType,MERGED,2022-06-22 04:27:27.000000000,2022-07-01 06:56:36.000000000,2022-07-01 06:54:57.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-22 04:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/efa065281e5b903f8aa2ea976b85b09d63e8f548', 'message': ""Remove StackAction/StackUpdateType\n\nNow that we don't update overcloud stacks with ephemeral heat,\nwe can drop these.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/846942\nChange-Id: I9ab2fd33660022ea105e40ad5aa4f92186118abb\n(cherry picked from commit 936aa927d7a0db572d33ebf59da74b02bd748bc1)\n""}, {'number': 2, 'created': '2022-06-28 05:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c5b8daccf67e23d5259bfb0389fd1e7bb3d7f1ef', 'message': ""Remove StackAction/StackUpdateType\n\nNow that we don't update overcloud stacks with ephemeral heat,\nwe can drop these.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/846942\nChange-Id: I9ab2fd33660022ea105e40ad5aa4f92186118abb\n(cherry picked from commit 936aa927d7a0db572d33ebf59da74b02bd748bc1)\n""}, {'number': 3, 'created': '2022-06-30 16:34:30.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/cephadm/ceph-base.yaml', 'releasenotes/notes/remove-stack-action-parameter-285044bb49ad1f5b.yaml', 'common/deploy-steps.j2', 'deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b07ba1054268910c7d65f6ae4edc112b81e23f8e', 'message': ""Remove StackAction/StackUpdateType\n\nNow that we don't update overcloud stacks with ephemeral heat,\nwe can drop these.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/846942\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/848119\nChange-Id: I9ab2fd33660022ea105e40ad5aa4f92186118abb\n(cherry picked from commit 936aa927d7a0db572d33ebf59da74b02bd748bc1)\n""}]",3,846943,b07ba1054268910c7d65f6ae4edc112b81e23f8e,25,4,3,8833,,,0,"Remove StackAction/StackUpdateType

Now that we don't update overcloud stacks with ephemeral heat,
we can drop these.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/846942
Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/848119
Change-Id: I9ab2fd33660022ea105e40ad5aa4f92186118abb
(cherry picked from commit 936aa927d7a0db572d33ebf59da74b02bd748bc1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/846943/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/cephadm/ceph-base.yaml', 'releasenotes/notes/remove-stack-action-parameter-285044bb49ad1f5b.yaml', 'common/deploy-steps.j2']",4,efa065281e5b903f8aa2ea976b85b09d63e8f548,fix_upgrade,," StackAction: type: string description: > Heat action on performed top-level stack. Note StackUpdateType is set to UPGRADE when a major-version upgrade is in progress. constraints: - allowed_values: ['CREATE', 'UPDATE'] StackUpdateType: type: string description: > Type of update, to differentiate between UPGRADE and UPDATE cases when StackAction is UPDATE (both are the same stack action). constraints: - allowed_values: ['', 'UPGRADE'] default: '' stack_action: {get_param: StackAction} stack_update_type: {get_param: StackUpdateType} tripleo_network_config_action: ""{{ stack_action }}""",5,38
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I2097c9e578713ac43e7360566e786dd92b4ebec0,openstack/puppet-tripleo,stable/wallaby,I2097c9e578713ac43e7360566e786dd92b4ebec0,Drop non-bundle manila,MERGED,2022-06-29 23:28:09.000000000,2022-07-01 06:54:54.000000000,2022-07-01 06:54:54.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-29 23:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/57b0e0cb791a9b9cbceaab2e3e9bceb3c59c564d', 'message': ""Drop non-bundle manila\n\nJust like we did via Id1340c45679d720cdf5ed9b5b15347d73cffc445\n(Drop all non bundle implementations), let's also drop the non-bundle\nimplementation of manila\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/848118\n\nChange-Id: I2097c9e578713ac43e7360566e786dd92b4ebec0\n(cherry picked from commit 5b5ee3fdcf92b70173db168c8f65b1117c89e966)\n""}, {'number': 2, 'created': '2022-06-29 23:34:31.000000000', 'files': ['manifests/profile/pacemaker/manila.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2219af2d67fcfa93c5ec7f9bc67bdc7241bc3005', 'message': ""Drop non-bundle manila\n\nJust like we did via Id1340c45679d720cdf5ed9b5b15347d73cffc445\n(Drop all non bundle implementations), let's also drop the non-bundle\nimplementation of manila\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/848118\n\nChange-Id: I2097c9e578713ac43e7360566e786dd92b4ebec0\n(cherry picked from commit 5b5ee3fdcf92b70173db168c8f65b1117c89e966)\n""}]",0,848119,2219af2d67fcfa93c5ec7f9bc67bdc7241bc3005,10,3,2,9816,,,0,"Drop non-bundle manila

Just like we did via Id1340c45679d720cdf5ed9b5b15347d73cffc445
(Drop all non bundle implementations), let's also drop the non-bundle
implementation of manila

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/848118

Change-Id: I2097c9e578713ac43e7360566e786dd92b4ebec0
(cherry picked from commit 5b5ee3fdcf92b70173db168c8f65b1117c89e966)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/19/848119/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/manila.pp'],1,57b0e0cb791a9b9cbceaab2e3e9bceb3c59c564d,nonbundle_removal-stable/wallaby,,"# Copyright 2016 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::pacemaker::manila # # Manila Pacemaker HA profile for tripleo # # === Parameters # # [*bootstrap_node*] # (Optional) The hostname of the node responsible for bootstrapping tasks # Defaults to hiera('manila_share_short_bootstrap_node_name') # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # # [*pcs_tries*] # (Optional) The number of times pcs commands should be retried. # Defaults to hiera('pcs_tries', 20) # class tripleo::profile::pacemaker::manila ( $bootstrap_node = hiera('manila_share_short_bootstrap_node_name'), $step = Integer(hiera('step')), $pcs_tries = hiera('pcs_tries', 20), ) { if $bootstrap_node and $::hostname == downcase($bootstrap_node) { $pacemaker_master = true } else { $pacemaker_master = false } # make it so puppet can't restart the manila-share service, since that is # the only pacemaker managed one Service <| tag == 'manila-share' |> { hasrestart => true, restart => '/bin/true', start => '/bin/true', stop => '/bin/true', } include tripleo::profile::base::manila::share if $step >= 2 { pacemaker::property { 'manila-share-role-node-property': property => 'manila-share-role', value => true, tries => $pcs_tries, node => $::hostname, } } if $step >= 4 { if $pacemaker_master and hiera('stack_action') == 'UPDATE' { Manila_api_paste_ini<||> ~> Tripleo::Pacemaker::Resource_restart_flag[""${::manila::params::share_service}""] Manila_config<||> ~> Tripleo::Pacemaker::Resource_restart_flag[""${::manila::params::share_service}""] tripleo::pacemaker::resource_restart_flag { ""${::manila::params::share_service}"": } } } if $step >= 5 and $pacemaker_master { # only manila-share is pacemaker managed, and in a/p pacemaker::resource::service { $::manila::params::share_service : op_params => 'start timeout=200s stop timeout=200s', tries => $pcs_tries, location_rule => { resource_discovery => 'exclusive', score => 0, expression => ['manila-share-role eq true'], }, } } } ",0,87
openstack%2Fglance~master~I36ef2c59628332fd898b34f94fc9e623ff0f46ce,openstack/glance,master,I36ef2c59628332fd898b34f94fc9e623ff0f46ce,Document domain-related cinder backend options,MERGED,2021-06-24 16:59:05.000000000,2022-07-01 06:32:06.000000000,2022-07-01 06:30:51.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 16:59:05.000000000', 'files': ['doc/source/configuration/configuring.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/d8a9b1062b144d61dd6856db9b585cb2a5f8fe22', 'message': 'Document domain-related cinder backend options\n\nfollowup to I1d6c07b6c0e7e6a4da9adabaa026f024b64bb029\n\nadd cinder_user_domain_name and cinder_project_domain_name options\nto the cinder backend configuration documentation.\n\nChange-Id: I36ef2c59628332fd898b34f94fc9e623ff0f46ce\nRelated-Bug: #1930299\n'}]",1,797989,d8a9b1062b144d61dd6856db9b585cb2a5f8fe22,10,3,1,9542,,,0,"Document domain-related cinder backend options

followup to I1d6c07b6c0e7e6a4da9adabaa026f024b64bb029

add cinder_user_domain_name and cinder_project_domain_name options
to the cinder backend configuration documentation.

Change-Id: I36ef2c59628332fd898b34f94fc9e623ff0f46ce
Related-Bug: #1930299
",git fetch https://review.opendev.org/openstack/glance refs/changes/89/797989/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/configuring.rst'],1,d8a9b1062b144d61dd6856db9b585cb2a5f8fe22,cinder-user-domain-docs,"``cinder_store_user_domain_name=NAME`` Optional. Default: ``Default`` Can only be specified in configuration files. `This option is specific to the Cinder storage backend.` Domain of the user to authenticate against cinder. **NOTE**: This option is applied only if all of ``cinder_store_user_name``, ``cinder_store_password``, ``cinder_store_project_name`` and ``cinder_store_auth_address`` are set. **NOTE**: This option is applied only if all of ``cinder_store_user_name``, ``cinder_store_password``, ``cinder_store_project_name`` and ``cinder_store_auth_address`` are set. **NOTE**: This option is applied only if all of ``cinder_store_user_name``, ``cinder_store_password``, ``cinder_store_project_name`` and ``cinder_store_auth_address`` are set. ``cinder_store_project_domain_name=NAME`` Optional. Default: ``Default`` Can only be specified in configuration files. `This option is specific to the Cinder storage backend.` Domain of the project where the image volume is stored in cinder. **NOTE**: This option is applied only if all of ``cinder_store_user_name``, ``cinder_store_password``, ``cinder_store_project_name`` and ``cinder_store_auth_address`` are set. **NOTE**: This option is applied only if all of ``cinder_store_user_name``, ``cinder_store_password``, ``cinder_store_project_name`` and ``cinder_store_auth_address`` are set. ",,38,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I7ae78f506f0b0c8020edde6f679ace13a71e604a,openstack/tripleo-heat-templates,stable/wallaby,I7ae78f506f0b0c8020edde6f679ace13a71e604a,Drop non-bundle manila from puppet-config,MERGED,2022-06-29 23:27:22.000000000,2022-07-01 06:22:38.000000000,2022-07-01 06:22:38.000000000,"[{'_account_id': 8833}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-29 23:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b727bf37e0dd6da01d68ba5a0a5509278fb2a88', 'message': 'Drop non-bundle manila from puppet-config\n\nDrop ""include tripleo::profile::pacemaker::manila"" and replace it with\n""include tripleo::profile::pacemaker::manila::share_bundle"" so we can\neventually drop the non-bundle implementation of manila-share.\n\nBoth puppet manifests end up including the base manila profile anyways.\n\nChange-Id: I7ae78f506f0b0c8020edde6f679ace13a71e604a\n(cherry picked from commit 34b7d28e6c1e02655d346a18ac4daaa4d478ada6)\n'}, {'number': 2, 'created': '2022-06-29 23:33:28.000000000', 'files': ['deployment/manila/manila-share-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bec4f45c63eb9786e966ab04a8277f9861657828', 'message': 'Drop non-bundle manila from puppet-config\n\nDrop ""include tripleo::profile::pacemaker::manila"" and replace it with\n""include tripleo::profile::pacemaker::manila::share_bundle"" so we can\neventually drop the non-bundle implementation of manila-share.\n\nBoth puppet manifests end up including the base manila profile anyways.\n\nChange-Id: I7ae78f506f0b0c8020edde6f679ace13a71e604a\n(cherry picked from commit 34b7d28e6c1e02655d346a18ac4daaa4d478ada6)\n'}]",0,848118,bec4f45c63eb9786e966ab04a8277f9861657828,12,4,2,9816,,,0,"Drop non-bundle manila from puppet-config

Drop ""include tripleo::profile::pacemaker::manila"" and replace it with
""include tripleo::profile::pacemaker::manila::share_bundle"" so we can
eventually drop the non-bundle implementation of manila-share.

Both puppet manifests end up including the base manila profile anyways.

Change-Id: I7ae78f506f0b0c8020edde6f679ace13a71e604a
(cherry picked from commit 34b7d28e6c1e02655d346a18ac4daaa4d478ada6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/848118/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/manila/manila-share-pacemaker-puppet.yaml'],1,6b727bf37e0dd6da01d68ba5a0a5509278fb2a88,nonbundle_removal-stable/wallaby," - - ""include tripleo::profile::pacemaker::manila::share_bundle"""," - - ""include tripleo::profile::pacemaker::manila""",1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id16a374b5ecd1c8ea9141f99872096b18c14343f,openstack/tripleo-heat-templates,stable/train,Id16a374b5ecd1c8ea9141f99872096b18c14343f,Fix commands for configure_ovn_north/south_db_server,ABANDONED,2022-06-30 12:15:58.000000000,2022-07-01 05:48:07.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-30 12:15:58.000000000', 'files': ['deployment/ovn/ovn-dbs-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3821e8a1a0c1cd3f23d42cac9ef683aebc132333', 'message': 'Fix commands for configure_ovn_north/south_db_server\n\nThis fixes the regression caused by [1] and ensures the whole command\nis passed as a single element, so that it is properly handled by\nkolla_start.\n\n[1] 5a43e8a30704692f3eb184cce694dec52ed77635\n\nChange-Id: Id16a374b5ecd1c8ea9141f99872096b18c14343f\n'}]",2,848270,3821e8a1a0c1cd3f23d42cac9ef683aebc132333,7,3,1,9816,,,0,"Fix commands for configure_ovn_north/south_db_server

This fixes the regression caused by [1] and ensures the whole command
is passed as a single element, so that it is properly handled by
kolla_start.

[1] 5a43e8a30704692f3eb184cce694dec52ed77635

Change-Id: Id16a374b5ecd1c8ea9141f99872096b18c14343f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/848270/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-container-puppet.yaml'],1,3821e8a1a0c1cd3f23d42cac9ef683aebc132333,," - ['ovn_north_db_server', '/bin/bash', '-c'] - - list_join: - ' ' - - 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; NB_DB_PORT=`hiera ovn::northbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-nbctl set-connection' - if: - {get_param: EnableInternalTLS} - 'pssl:$NB_DB_PORT:$DBS_LISTEN_IP' - 'ptcp:$NB_DB_PORT:$DBS_LISTEN_IP' - ['ovn_south_db_server', '/bin/bash', '-c'] - - list_join: - ' ' - - 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; SB_DB_PORT=`hiera ovn::southbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-sbctl set-connection' - if: - {get_param: EnableInternalTLS} - 'pssl:$SB_DB_PORT:$DBS_LISTEN_IP' - 'ptcp:$SB_DB_PORT:$DBS_LISTEN_IP'"," - ['ovn_north_db_server', '/bin/bash', '-c', 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; NB_DB_PORT=`hiera ovn::northbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-nbctl set-connection'] - if: - {get_param: EnableInternalTLS} - ['pssl:$NB_DB_PORT:$DBS_LISTEN_IP'] - ['ptcp:$NB_DB_PORT:$DBS_LISTEN_IP'] - ['ovn_south_db_server', '/bin/bash', '-c', 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; SB_DB_PORT=`hiera ovn::southbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-sbctl set-connection'] - if: - {get_param: EnableInternalTLS} - ['pssl:$SB_DB_PORT:$DBS_LISTEN_IP'] - ['ptcp:$SB_DB_PORT:$DBS_LISTEN_IP']",16,10
openstack%2Fpython-tripleoclient~master~I40073c57a7ca283ae913bd78c248bc4cf56da3a8,openstack/python-tripleoclient,master,I40073c57a7ca283ae913bd78c248bc4cf56da3a8,Default working_dir for overcloud credential command,MERGED,2022-06-28 10:45:34.000000000,2022-07-01 05:40:06.000000000,2022-07-01 05:38:53.000000000,"[{'_account_id': 6681}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-28 10:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b13fe1af4534504d18e9b8f2ccfb3ad080f83345', 'message': 'Default working_dir for overcloud credential command\n\nparsed_args.working_dir was not defaulted to a value when it was not\nspecified, leading to a traceback.\n\nChange-Id: I40073c57a7ca283ae913bd78c248bc4cf56da3a8\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2022-06-29 12:46:50.000000000', 'files': ['tripleoclient/v1/overcloud_credentials.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/43bfc1fb96963e8ab88c6f7bafc52ce1ced228e2', 'message': 'Default working_dir for overcloud credential command\n\nparsed_args.working_dir was not defaulted to a value when it was not\nspecified, leading to a traceback.\n\nChange-Id: I40073c57a7ca283ae913bd78c248bc4cf56da3a8\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",3,847947,43bfc1fb96963e8ab88c6f7bafc52ce1ced228e2,14,6,2,7144,,,0,"Default working_dir for overcloud credential command

parsed_args.working_dir was not defaulted to a value when it was not
specified, leading to a traceback.

Change-Id: I40073c57a7ca283ae913bd78c248bc4cf56da3a8
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/47/847947/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_credentials.py'],1,b13fe1af4534504d18e9b8f2ccfb3ad080f83345,," if not parsed_args.working_dir: working_dir = utils.get_default_working_dir(stack) else: working_dir = parsed_args.working_dir working_dir) endpoint = utils.get_overcloud_endpoint(working_dir) 'KeystoneAdminVip', working_dir)"," parsed_args.working_dir) endpoint = utils.get_overcloud_endpoint(parsed_args.working_dir) 'KeystoneAdminVip', parsed_args.working_dir)",7,3
openstack%2Fneutron~master~Ia97fc084dcbdfbced0c2cc79f127a97b4d97d1e3,openstack/neutron,master,Ia97fc084dcbdfbced0c2cc79f127a97b4d97d1e3,[fips jobs] blacklist AttachInterfacesTestJSON tempest test,MERGED,2022-06-21 05:51:46.000000000,2022-07-01 05:39:14.000000000,2022-06-21 17:05:19.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-06-21 05:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4302f84a7d441df03bab094042764bf3254f58d', 'message': ""[fips jobs] blacklist AttachInterfacesTestJSON tempest test\n\nlibvirt-8.4.0-1.el9 caused a regression which resulted into\nAttachInterfacesTestJSON tempest test to fail, until\nfixed libvirt version is available in CentOS 9-Stream\nrepos, let's exclude these tests from jobs running\non CentOS 9-Stream.\n\nRelated-Bug: #1979047\nRelated-Bug: rhbz#2092856\nChange-Id: Ia97fc084dcbdfbced0c2cc79f127a97b4d97d1e3\n""}, {'number': 2, 'created': '2022-06-21 07:28:07.000000000', 'files': ['zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1384678b88fc7ffb5eeccfbfc0da16a9cb8910a', 'message': ""[fips jobs] blacklist AttachInterfacesTestJSON tempest test\n\nlibvirt-8.4.0-1.el9 caused a regression which resulted into\nAttachInterfacesTestJSON and test_hotplug_nic tempest test to\nfail, until fixed libvirt version is available in CentOS 9-Stream\nrepos, let's exclude these tests from jobs running\non CentOS 9-Stream.\n\nRelated-Bug: #1979047\nRelated-Bug: rhbz#2092856\nChange-Id: Ia97fc084dcbdfbced0c2cc79f127a97b4d97d1e3\n""}]",6,846905,a1384678b88fc7ffb5eeccfbfc0da16a9cb8910a,20,6,2,13861,,,0,"[fips jobs] blacklist AttachInterfacesTestJSON tempest test

libvirt-8.4.0-1.el9 caused a regression which resulted into
AttachInterfacesTestJSON and test_hotplug_nic tempest test to
fail, until fixed libvirt version is available in CentOS 9-Stream
repos, let's exclude these tests from jobs running
on CentOS 9-Stream.

Related-Bug: #1979047
Related-Bug: rhbz#2092856
Change-Id: Ia97fc084dcbdfbced0c2cc79f127a97b4d97d1e3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/846905/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-singlenode.yaml'],1,b4302f84a7d441df03bab094042764bf3254f58d,bug/1979047," # TODO(ykarel): remove AttachInterfacesTestJSON from the blacklist when # fixed libvirt version is available in CentOS 9-Stream # https://bugzilla.redhat.com/show_bug.cgi?id=2092856 tempest_exclude_regex: ""(^tempest.api.compute.servers.test_attach_interfaces.AttachInterfacesTestJSON)"" # TODO(ykarel): remove AttachInterfacesTestJSON from the blacklist when # fixed libvirt version is available in CentOS 9-Stream # https://bugzilla.redhat.com/show_bug.cgi?id=2092856 tempest_exclude_regex: ""(^tempest.api.compute.servers.test_attach_interfaces.AttachInterfacesTestJSON)""",,8,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~If825271ec82f4906cf9ad433a3e4b848f7f2e685,openstack/tripleo-ansible,stable/wallaby,If825271ec82f4906cf9ad433a3e4b848f7f2e685,Cleanup Keystone services that are not required,MERGED,2022-06-30 12:56:36.000000000,2022-07-01 05:37:46.000000000,2022-07-01 05:35:38.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-30 12:56:36.000000000', 'files': ['tripleo_ansible/roles/tripleo_keystone_resources/tasks/cleanup.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/defaults/main.yml', 'releasenotes/notes/clean-endpoints-cca5478129f0506d.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/258cf821e6058480739bc26ecb9054ffbbcf8174', 'message': 'Cleanup Keystone services that are not required\n\nOccassionally, services are disabled by the user. This\ncan happen during upgrades on the undercloud. But it can\nalso be invoked by a user who is removing a service.\n\nThis change introduces a block to cleanup keystone services\nthat are no longer required.\n\nResolves: rhbz#2080199\nChange-Id: If825271ec82f4906cf9ad433a3e4b848f7f2e685\n(cherry picked from commit 1d9093bbefa0433b974a2d104b4e7aeffb600f9b)\n'}]",1,848271,258cf821e6058480739bc26ecb9054ffbbcf8174,11,4,1,11166,,,0,"Cleanup Keystone services that are not required

Occassionally, services are disabled by the user. This
can happen during upgrades on the undercloud. But it can
also be invoked by a user who is removing a service.

This change introduces a block to cleanup keystone services
that are no longer required.

Resolves: rhbz#2080199
Change-Id: If825271ec82f4906cf9ad433a3e4b848f7f2e685
(cherry picked from commit 1d9093bbefa0433b974a2d104b4e7aeffb600f9b)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/71/848271/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_keystone_resources/tasks/cleanup.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/defaults/main.yml', 'releasenotes/notes/clean-endpoints-cca5478129f0506d.yaml']",4,258cf821e6058480739bc26ecb9054ffbbcf8174,cleanup-endpoints-stable/wallaby,--- features: - | Add a new playbook to allow for the removal of old Keystone services. This playbook will remove any services that exist but have since been disabled. This cleanup task is tunable using `tripleo_keystone_resources_cleanup` which by default is set to True. ,,53,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I750ff2146f2c289fea86c111b651f32ef992ece4,openstack/tripleo-ansible,stable/wallaby,I750ff2146f2c289fea86c111b651f32ef992ece4,Remove usage of stack_action/stack_update_type,MERGED,2022-06-22 04:26:50.000000000,2022-07-01 05:36:50.000000000,2022-07-01 05:35:35.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-22 04:26:50.000000000', 'files': ['tripleo_ansible/roles/tripleo_hieradata/molecule/ansible_hieradata/molecule.yml', 'tripleo_ansible/ansible_plugins/action/tripleo_all_nodes_data.py', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/templates/all_nodes.j2', 'releasenotes/notes/remove-stack-action-0aa6c9d7927bf2d3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e9cf875ba2ed0ec4a304bee17c07f0f0fa0ee50b', 'message': 'Remove usage of stack_action/stack_update_type\n\nThey are not relevant with ephemeral heat and not used anywhere.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/846941\nChange-Id: I750ff2146f2c289fea86c111b651f32ef992ece4\n(cherry picked from commit e67ce7304d4d922b2379e94038f51d9298852aa5)\n'}]",8,846942,e9cf875ba2ed0ec4a304bee17c07f0f0fa0ee50b,29,3,1,8833,,,0,"Remove usage of stack_action/stack_update_type

They are not relevant with ephemeral heat and not used anywhere.

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/846941
Change-Id: I750ff2146f2c289fea86c111b651f32ef992ece4
(cherry picked from commit e67ce7304d4d922b2379e94038f51d9298852aa5)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/42/846942/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_hieradata/molecule/ansible_hieradata/molecule.yml', 'tripleo_ansible/ansible_plugins/action/tripleo_all_nodes_data.py', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/templates/all_nodes.j2', 'releasenotes/notes/remove-stack-action-0aa6c9d7927bf2d3.yaml']",5,e9cf875ba2ed0ec4a304bee17c07f0f0fa0ee50b,fix_upgrade,--- deprecations: - | This change removes unused stack_action/stack_update_type hieras. ,,4,8
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I4dfab1122c1b42e04dff57b514bf4b853ab53543,openstack/tripleo-heat-templates,stable/wallaby,I4dfab1122c1b42e04dff57b514bf4b853ab53543,Remove support for collectd-gnocchi,MERGED,2022-06-02 18:53:12.000000000,2022-07-01 05:35:32.000000000,2022-07-01 05:35:32.000000000,"[{'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-02 18:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8038ac3cf51ba5ae5046f99e64a994667c1befc', 'message': 'Remove support for collectd-gnocchi\n\nThis should not be used, it is easy to overwhelm gnocchi\nby setting collectd to send data there.\n\nChange-Id: I4dfab1122c1b42e04dff57b514bf4b853ab53543\n(cherry picked from commit 7fcaf62a896f61de3eec325a3328693e06626dc3)\n'}, {'number': 2, 'created': '2022-06-07 16:34:25.000000000', 'files': ['deployment/metrics/collectd-container-ansible.yaml', 'deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80e3b537005303375c3a8d7cc7eb335fb0e648d1', 'message': 'Remove support for collectd-gnocchi\n\nThis should not be used, it is easy to overwhelm gnocchi\nby setting collectd to send data there.\n\nConflicts:\n\tdeployment/metrics/collectd-container-puppet.yaml\n\nResolved conflict caused by c5c558229eaedfac0dcba5fbbf3983649aa1182c .\n\nChange-Id: I4dfab1122c1b42e04dff57b514bf4b853ab53543\n(cherry picked from commit 7fcaf62a896f61de3eec325a3328693e06626dc3)\n'}]",14,844519,80e3b537005303375c3a8d7cc7eb335fb0e648d1,45,5,2,4264,,,0,"Remove support for collectd-gnocchi

This should not be used, it is easy to overwhelm gnocchi
by setting collectd to send data there.

Conflicts:
	deployment/metrics/collectd-container-puppet.yaml

Resolved conflict caused by c5c558229eaedfac0dcba5fbbf3983649aa1182c .

Change-Id: I4dfab1122c1b42e04dff57b514bf4b853ab53543
(cherry picked from commit 7fcaf62a896f61de3eec325a3328693e06626dc3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/844519/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/metrics/collectd-container-ansible.yaml', 'deployment/metrics/collectd-container-puppet.yaml']",2,d8038ac3cf51ba5ae5046f99e64a994667c1befc,drop_collectd_gnocchi-stable/wallaby, supported are 'amqp1' and 'network'.," GnocchiPassword: type: string description: The password for the gnocchi service and db account. hidden: true supported are 'amqp1', 'network' and 'gnocchi'. NOTE gnocchi is supported in puppet only. CollectdGnocchiAuthMode: type: string description: > Type of authentication Gnocchi server is using. Supported values are 'basic' and 'keystone'. default: 'keystone' CollectdGnocchiProtocol: type: string description: API protocol Gnocchi server is using. default: 'http' CollectdGnocchiServer: type: string description: > The name or address of a gnocchi endpoint to which we should send metrics. default: nil CollectdGnocchiPort: type: number description: The port to which we will connect on the Gnocchi server. default: 8041 CollectdGnocchiUser: type: string description: > Username for authenticating to the remote Gnocchi server using simple authentication. default: nil CollectdGnocchiKeystoneAuthUrl: type: string description: Keystone endpoint URL to authenticate to. default: nil CollectdGnocchiKeystoneUserName: type: string description: Username for authenticating to Keystone. default: nil CollectdGnocchiKeystoneUserId: type: string description: User ID for authenticating to Keystone. default: nil CollectdGnocchiKeystonePassword: type: string description: Password for authenticating to Keystone default: nil hidden: true CollectdGnocchiKeystoneProjectId: type: string description: Project ID for authenticating to Keystone. default: nil CollectdGnocchiKeystoneProjectName: type: string description: Project name for authenticating to Keystone. default: nil CollectdGnocchiKeystoneUserDomainId: type: string description: User domain ID for authenticating to Keystone. default: nil CollectdGnocchiKeystoneUserDomainName: type: string description: User domain name for authenticating to Keystone. default: nil CollectdGnocchiKeystoneProjectDomainId: type: string description: Project domain ID for authenticating to Keystone. default: nil CollectdGnocchiKeystoneProjectDomainName: type: string description: Project domain name for authenticating to Keystone. default: nil CollectdGnocchiKeystoneRegionName: type: string description: Region name for authenticating to Keystone. default: nil CollectdGnocchiKeystoneInterface: type: string description: Type of Keystone endpoint to authenticate to. default: nil CollectdGnocchiKeystoneEndpoint: type: string description: > Explicitly state Gnocchi server URL if you want to override Keystone value default: nil CollectdGnocchiResourceType: type: string description: > Default resource type created by the collectd-gnocchi plugin in Gnocchi to store hosts. default: 'collectd' CollectdGnocchiBatchSize: type: number description: Minimum number of values Gnocchi should batch. default: 10 gnocchi_connection: equals: [{get_param: CollectdConnectionType}, 'gnocchi'] gnocchi_auth_basic: equals: [{get_param: CollectdGnocchiAuthMode}, 'basic'] gnocchi_default_connection: and: - equals: [{get_param: CollectdGnocchiServer}, nil] - equals: [{get_param: CollectdGnocchiKeystoneEndpoint}, nil] - if: # Collectd connected directly to Gnocchi DB - gnocchi_connection - map_merge: - tripleo::profile::base::metrics::collectd::gnocchi_auth_mode: get_param: CollectdGnocchiAuthMode tripleo::profile::base::metrics::collectd::gnocchi_resource_type: get_param: CollectdGnocchiResourceType tripleo::profile::base::metrics::collectd::gnocchi_batch_size: get_param: CollectdGnocchiBatchSize - if: - gnocchi_default_connection # use overcloud gnocchi instance or user provided instance? - tripleo::profile::base::metrics::collectd::gnocchi_keystone_endpoint: get_param: [EndpointMap, GnocchiInternal, uri] tripleo::profile::base::metrics::collectd::gnocchi_keystone_auth_url: get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] tripleo::profile::base::metrics::collectd::gnocchi_keystone_user_name: 'gnocchi' tripleo::profile::base::metrics::collectd::gnocchi_keystone_password: get_param: GnocchiPassword tripleo::profile::base::metrics::collectd::gnocchi_keystone_project_name: 'service' tripleo::profile::base::metrics::collectd::gnocchi_keystone_user_domain_name: 'Default' tripleo::profile::base::metrics::collectd::gnocchi_keystone_project_domain_name: 'Default' tripleo::profile::base::metrics::collectd::gnocchi_keystone_region_name: get_param: KeystoneRegion - if: - gnocchi_auth_basic # use basic auth or keystone auth? - tripleo::profile::base::metrics::collectd::gnocchi_protocol: get_param: CollectdGnocchiProtocol tripleo::profile::base::metrics::collectd::gnocchi_server: get_param: CollectdGnocchiServer tripleo::profile::base::metrics::collectd::gnocchi_port: get_param: CollectdGnocchiPort tripleo::profile::base::metrics::collectd::gnocchi_user: get_param: CollectdGnocchiUser - tripleo::profile::base::metrics::collectd::gnocchi_keystone_auth_url: get_param: CollectdGnocchiKeystoneAuthUrl tripleo::profile::base::metrics::collectd::gnocchi_keystone_user_name: get_param: CollectdGnocchiKeystoneUserName tripleo::profile::base::metrics::collectd::gnocchi_keystone_user_id: get_param: CollectdGnocchiKeystoneUserId tripleo::profile::base::metrics::collectd::gnocchi_keystone_password: get_param: CollectdGnocchiKeystonePassword tripleo::profile::base::metrics::collectd::gnocchi_keystone_project_id: get_param: CollectdGnocchiKeystoneProjectId tripleo::profile::base::metrics::collectd::gnocchi_keystone_project_name: get_param: CollectdGnocchiKeystoneProjectName tripleo::profile::base::metrics::collectd::gnocchi_keystone_user_domain_id: get_param: CollectdGnocchiKeystoneUserDomainId tripleo::profile::base::metrics::collectd::gnocchi_keystone_user_domain_name: get_param: CollectdGnocchiKeystoneUserDomainName tripleo::profile::base::metrics::collectd::gnocchi_keystone_project_domain_id: get_param: CollectdGnocchiKeystoneProjectDomainId tripleo::profile::base::metrics::collectd::gnocchi_keystone_project_domain_name: get_param: CollectdGnocchiKeystoneProjectDomainName tripleo::profile::base::metrics::collectd::gnocchi_keystone_region_name: get_param: CollectdGnocchiKeystoneRegionName tripleo::profile::base::metrics::collectd::gnocchi_keystone_interface: get_param: CollectdGnocchiKeystoneInterface tripleo::profile::base::metrics::collectd::gnocchi_keystone_endpoint: get_param: CollectdGnocchiKeystoneEndpoint - {}",2,167
openstack%2Fsahara~master~I9b5f826863fd913241cb803ef479b890f74fbb6c,openstack/sahara,master,I9b5f826863fd913241cb803ef479b890f74fbb6c,Update python testing as per zed cycle testing runtime,MERGED,2022-06-04 03:01:45.000000000,2022-07-01 04:41:46.000000000,2022-07-01 04:40:21.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30077}]","[{'number': 1, 'created': '2022-06-04 03:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/e66546a15ca5ea4c3c0ee13e30c4ac09ad0e5507', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I9b5f826863fd913241cb803ef479b890f74fbb6c\n'}, {'number': 2, 'created': '2022-06-15 06:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/562877b025436672b730dc6a0763c2c728679487', 'message': 'Update python testing as per zed cycle testing runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I9b5f826863fd913241cb803ef479b890f74fbb6c\n'}, {'number': 3, 'created': '2022-06-17 07:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/b95d420d512bddeee2e7bbcd67d7353addc90855', 'message': 'Update python testing as per zed cycle testing runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I9b5f826863fd913241cb803ef479b890f74fbb6c\n'}, {'number': 4, 'created': '2022-07-01 00:46:42.000000000', 'files': ['requirements.txt', 'tox.ini', 'releasenotes/notes/drop-python-3-6-and-3-7-f37b9dc6d94620de.yaml'], 'web_link': 'https://opendev.org/openstack/sahara/commit/c943f4a510a0f022ebce8364c2bc2e6fa23b3cf7', 'message': 'Update python testing as per zed cycle testing runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I9b5f826863fd913241cb803ef479b890f74fbb6c\n'}]",7,844655,c943f4a510a0f022ebce8364c2bc2e6fa23b3cf7,22,4,4,27190,,,0,"Update python testing as per zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I9b5f826863fd913241cb803ef479b890f74fbb6c
",git fetch https://review.opendev.org/openstack/sahara refs/changes/55/844655/4 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini', 'releasenotes/notes/drop-python-3-6-and-3-7-f37b9dc6d94620de.yaml']",3,e66546a15ca5ea4c3c0ee13e30c4ac09ad0e5507,,--- upgrade: - | Python 3.6 & 3.7 support has been dropped. The minimum version of Python now supported is Python 3.8.,,6,11
openstack%2Fopenstack-health~master~I7077077244baf40e77791f61a36d8009a5f4ba7b,openstack/openstack-health,master,I7077077244baf40e77791f61a36d8009a5f4ba7b,Add non-voting Python 3.10 jobs for Zed cycle,ABANDONED,2022-03-20 09:11:55.000000000,2022-07-01 04:37:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-03-20 09:11:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/569b3f0f544403771a6b1a2eda1b79d2a515f469', 'message': 'Add non-voting Python 3.10 jobs for Zed cycle\n\nThe template which is used to test runtime for the Zed cycle added\npython 3.10 as a non-voting job [1]. So this patch follows the same\nthing here.\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/831633\n\nChange-Id: I7077077244baf40e77791f61a36d8009a5f4ba7b\n'}]",2,834386,569b3f0f544403771a6b1a2eda1b79d2a515f469,6,1,1,30615,,,0,"Add non-voting Python 3.10 jobs for Zed cycle

The template which is used to test runtime for the Zed cycle added
python 3.10 as a non-voting job [1]. So this patch follows the same
thing here.

[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/831633

Change-Id: I7077077244baf40e77791f61a36d8009a5f4ba7b
",git fetch https://review.opendev.org/openstack/openstack-health refs/changes/86/834386/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,569b3f0f544403771a6b1a2eda1b79d2a515f469,, - openstack-tox-py310: voting: false,,2,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I5e13d81586ea8739fea8590c7a27b207942bd88f,openstack/python-tripleoclient,stable/wallaby,I5e13d81586ea8739fea8590c7a27b207942bd88f,Add handling for roles and networks to answers,ABANDONED,2022-06-27 06:07:26.000000000,2022-07-01 03:33:47.000000000,,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-06-27 06:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/135a84612651b407c77c3980e91f772174a370e2', 'message': 'Add handling for roles and networks to answers\n\nThe answers file only supports environments and templates today.\nThis change adds handling for roles and networks arguments. This\nchange will allow users to specify their roles_data.yaml and\nnetwork_data.yaml file in the same location as their other custom\ntemplates.\n\n Conflicts:\n\ttripleoclient/v1/overcloud_deploy.py\n\n(cherry picked from commit f931e73c477394ac19e4b7bf36ce9c9dbd38154e)\nChange-Id: I5e13d81586ea8739fea8590c7a27b207942bd88f\n'}, {'number': 2, 'created': '2022-06-27 06:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a2949fe8e8160ed22e7fab3b3c8e504177237a7a', 'message': 'Add handling for roles and networks to answers\n\nThe answers file only supports environments and templates today.\nThis change adds handling for roles and networks arguments. This\nchange will allow users to specify their roles_data.yaml and\nnetwork_data.yaml file in the same location as their other custom\ntemplates.\n\n Conflicts:\n\ttripleoclient/v1/overcloud_deploy.py\n\n(cherry picked from commit f931e73c477394ac19e4b7bf36ce9c9dbd38154e)\nChange-Id: I5e13d81586ea8739fea8590c7a27b207942bd88f\n'}, {'number': 3, 'created': '2022-06-27 08:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/47638aaf1f7b3855658b6d6408c7a1fb6941f184', 'message': 'Add handling for roles and networks to answers\n\nThe answers file only supports environments and templates today.\nThis change adds handling for roles and networks arguments. This\nchange will allow users to specify their roles_data.yaml and\nnetwork_data.yaml file in the same location as their other custom\ntemplates.\n\n Conflicts:\n\ttripleoclient/v1/overcloud_deploy.py\n\n(cherry picked from commit f931e73c477394ac19e4b7bf36ce9c9dbd38154e)\nChange-Id: I5e13d81586ea8739fea8590c7a27b207942bd88f\n'}, {'number': 4, 'created': '2022-06-28 00:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e169884ce0ad0fc09651642ee332a8d7081ab30b', 'message': 'Add handling for roles and networks to answers\n\nThe answers file only supports environments and templates today.\nThis change adds handling for roles and networks arguments. This\nchange will allow users to specify their roles_data.yaml and\nnetwork_data.yaml file in the same location as their other custom\ntemplates.\n\n Conflicts:\n\ttripleoclient/v1/overcloud_deploy.py\n\n(cherry picked from commit f931e73c477394ac19e4b7bf36ce9c9dbd38154e)\nChange-Id: I5e13d81586ea8739fea8590c7a27b207942bd88f\n'}, {'number': 5, 'created': '2022-06-28 02:44:39.000000000', 'files': ['releasenotes/notes/add-roles-and-networks-answers-f23927c9075c7e99.yaml', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/967f29fc3f410feadd186acfb81c26e8c2fed433', 'message': 'Add handling for roles and networks to answers\n\nThe answers file only supports environments and templates today.\nThis change adds handling for roles and networks arguments. This\nchange will allow users to specify their roles_data.yaml and\nnetwork_data.yaml file in the same location as their other custom\ntemplates.\n\n Conflicts:\n\ttripleoclient/v1/overcloud_deploy.py\n\n(cherry picked from commit f931e73c477394ac19e4b7bf36ce9c9dbd38154e)\nChange-Id: I5e13d81586ea8739fea8590c7a27b207942bd88f\n'}]",10,847714,967f29fc3f410feadd186acfb81c26e8c2fed433,22,5,5,30073,,,0,"Add handling for roles and networks to answers

The answers file only supports environments and templates today.
This change adds handling for roles and networks arguments. This
change will allow users to specify their roles_data.yaml and
network_data.yaml file in the same location as their other custom
templates.

 Conflicts:
	tripleoclient/v1/overcloud_deploy.py

(cherry picked from commit f931e73c477394ac19e4b7bf36ce9c9dbd38154e)
Change-Id: I5e13d81586ea8739fea8590c7a27b207942bd88f
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/14/847714/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-roles-and-networks-answers-f23927c9075c7e99.yaml', 'tripleoclient/v1/overcloud_deploy.py']",2,135a84612651b407c77c3980e91f772174a370e2,," def _update_args_from_answers_file(parsed_args): if parsed_args.answers_file is None: return with open(parsed_args.answers_file, 'r') as answers_file: answers = yaml.safe_load(answers_file) if parsed_args.templates is None: parsed_args.templates = answers['templates'] if 'environments' in answers: if parsed_args.environment_files is not None: answers['environments'].extend(parsed_args.environment_files) parsed_args.environment_files = answers['environments'] if 'roles' in answers: if parsed_args.roles_file is None: parsed_args.roles_file = answers['roles'] if 'networks' in answers: if parsed_args.networks_file is None: parsed_args.networks_file = answers['networks']"," def _update_args_from_answers_file(self, args): if args.answers_file is not None: with open(args.answers_file, 'r') as answers_file: answers = yaml.safe_load(answers_file) if args.templates is None: args.templates = answers['templates'] if 'environments' in answers: if args.environment_files is not None: answers['environments'].extend(args.environment_files) args.environment_files = answers['environments']",25,11
openstack%2Fcharm-deployment-guide~master~I9e8ca51759650d211f491457cb0d0fc0040358e8,openstack/charm-deployment-guide,master,I9e8ca51759650d211f491457cb0d0fc0040358e8,Add guide for switching between different types of certificates,MERGED,2022-04-11 21:23:57.000000000,2022-07-01 02:26:15.000000000,2022-07-01 02:23:56.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2022-04-11 21:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/1aa4420480bcfc49c0c137cc3cd91e0a1e78caea', 'message': 'Add guide for switching between different types of certificate\n\nAdd the steps for swtiching between self-signed CA certificate\nand third-party intermediate CA certificate after Vault charm\ndeployment.\n\nChange-Id: I9e8ca51759650d211f491457cb0d0fc0040358e8\n'}, {'number': 2, 'created': '2022-04-12 18:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/135183d917ceebdbd73f500f0f3a482d4dcfa930', 'message': 'Add guide for switching between different types of certificates\n\nAdd the steps for swtiching between self-signed CA certificate\nand third-party intermediate CA certificate after Vault charm\ndeployment. A note asking user to check the level of authorization\nof the intermediate CA certificate is also added.\n\nCloses-Bug: #1913289\nChange-Id: I9e8ca51759650d211f491457cb0d0fc0040358e8\n'}, {'number': 3, 'created': '2022-05-25 16:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/e98c2a99e4b19f27f3bfb0bd69db57d168c3fec2', 'message': 'Add guide for switching between different types of certificates\n\nAdd the steps for swtiching between self-signed CA certificate\nand third-party intermediate CA certificate after Vault charm\ndeployment. A note asking user to check the level of authorization\nof the intermediate CA certificate is also added.\n\nCloses-Bug: #1913289\nChange-Id: I9e8ca51759650d211f491457cb0d0fc0040358e8\n'}, {'number': 4, 'created': '2022-06-30 22:18:30.000000000', 'files': ['deploy-guide/source/app-certificate-management.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/9c06b031283b6f17726aa9a7c6db2c055239608d', 'message': 'Add guide for switching between different types of certificates\n\nAdd the steps for swtiching between self-signed CA certificate\nand third-party intermediate CA certificate after Vault charm\ndeployment. A note asking user to check the level of authorization\nof the intermediate CA certificate is also added.\n\nCloses-Bug: #1913289\nChange-Id: I9e8ca51759650d211f491457cb0d0fc0040358e8\n'}]",18,837417,9c06b031283b6f17726aa9a7c6db2c055239608d,16,2,4,34543,,,0,"Add guide for switching between different types of certificates

Add the steps for swtiching between self-signed CA certificate
and third-party intermediate CA certificate after Vault charm
deployment. A note asking user to check the level of authorization
of the intermediate CA certificate is also added.

Closes-Bug: #1913289
Change-Id: I9e8ca51759650d211f491457cb0d0fc0040358e8
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/17/837417/4 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-certificate-management.rst'],1,1aa4420480bcfc49c0c137cc3cd91e0a1e78caea,bug/1913289,"Switching between different types of CA certificates ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ With Vault, user can choose to switch between a self-signed root CA certificate and a third-party intermediate CA certificate after deployment. From self-signed certificate to third-party certificate ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ To switch from a self-signed root CA to a third-party intermediate CA, you need to first follow the steps described in the **Third-party intermediate CA certificate** section above to retrieve a CSR from the Vault and have it signed by the external CA. Next, before uploading the newly signed certificate, disable the PKI secrets backend: .. code-block:: none juju run-action --wait vault/leader disable-pki Finally, upload the signed certificate to Vault: .. code-block:: none juju run-action --wait vault/leader upload-signed-csr \ pem=$(cat /path/to/vault-charm-int.pem | base64)"" \ root-ca=""$(cat /path/to/root-ca.pem | base64)"" From third-party certificate to self-signed certificate ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ The process of switching from an external certificate to a self-signed one is simple. You only need to disable the PKI secrets backend and generate a root CA sertificate: .. code-block:: none juju run-action --wait vault/leader disable-pki juju run-action --wait vault/leader generate-root-ca ",,39,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I9e2a6d6d45b86da333658a73179607b2623b5cc7,openstack/python-tripleoclient,stable/wallaby,I9e2a6d6d45b86da333658a73179607b2623b5cc7,node export provisioned - get role_data from stack,MERGED,2022-06-29 23:34:17.000000000,2022-07-01 01:50:40.000000000,2022-07-01 01:48:35.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-06-29 23:34:17.000000000', 'files': ['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ae410f64de02100eb56d85e0a876b21e1bef7f6b', 'message': 'node export provisioned - get role_data from stack\n\nSince change: I1efecdcd7afa6af3e6b4b26f4435198836db535f\nwe store the THT Jinja2 input files in the stack output.\n\nMake the --roles-file option optional for overcloud node\nexport provisioned commend. Use the value from the stack\nif --roles-file not provided by the user.\n\nChange-Id: I9e2a6d6d45b86da333658a73179607b2623b5cc7\n(cherry picked from commit e3c66d6a2065a0be973dd014973717524bb1e456)\n'}]",0,848121,ae410f64de02100eb56d85e0a876b21e1bef7f6b,9,4,1,11166,,,0,"node export provisioned - get role_data from stack

Since change: I1efecdcd7afa6af3e6b4b26f4435198836db535f
we store the THT Jinja2 input files in the stack output.

Make the --roles-file option optional for overcloud node
export provisioned commend. Use the value from the stack
if --roles-file not provided by the user.

Change-Id: I9e2a6d6d45b86da333658a73179607b2623b5cc7
(cherry picked from commit e3c66d6a2065a0be973dd014973717524bb1e456)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/21/848121/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py']",2,ae410f64de02100eb56d85e0a876b21e1bef7f6b,node-extract-role-data-from-stack-stable/wallaby," required=False, tht_j2_sources = oooutils.get_stack_output_item( stack, 'TripleoHeatTemplatesJinja2RenderingDataSources') or {} if parsed_args.roles_file: roles_file = os.path.abspath(parsed_args.roles_file) with open(roles_file, 'r') as fd: role_data = yaml.safe_load(fd.read()) else: role_data = tht_j2_sources.get('roles_data') if role_data is None: raise oscexc.CommandError( ""Unable to extract. Role data not available in {} stack "" ""output. Please provide the roles data for the deployed "" ""stack by setting the --roles-data argument."".format( parsed_args.stack)) # Convert role_data to a dict role_data = {x['name']: x for x in role_data} "," required=True, roles_file = os.path.abspath(parsed_args.roles_file) with open(roles_file, 'r') as fd: role_data = yaml.safe_load(fd.read()) # Convert role_data to a dict role_data = {x['name']: x for x in role_data} ",35,17
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ibaa42fa7ac6ebb7212dd19997bd6d01541be988c,openstack/python-tripleoclient,stable/wallaby,Ibaa42fa7ac6ebb7212dd19997bd6d01541be988c,Fix upgrade/external_update/external_upgrade,MERGED,2022-06-29 03:10:45.000000000,2022-07-01 01:49:45.000000000,2022-07-01 01:48:30.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2022-06-29 03:10:45.000000000', 'files': ['tripleoclient/command.py', 'releasenotes/notes/deprecate-static-inventory-option-4342b01aebaa4af8.yaml', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/v1/overcloud_external_update.py', 'tripleoclient/v1/overcloud_external_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e97d88602eb7e835afe4328edfd2554ee28dfc6c', 'message': ""Fix upgrade/external_update/external_upgrade\n\nThese commands still reference heat stack which does\nnot exist. Also fixes missing option extra_vars.\n\nDeprecates --static-inventory option, as the inventory\ncan't be generated without stack. If required users\nhave to run `update/upgrade prepare` to generate it\nwhich would be in working_dir.\n\nChange-Id: Ibaa42fa7ac6ebb7212dd19997bd6d01541be988c\n(cherry picked from commit 6d18e27d28a93da87d3db9080d13cb0d624cd06f)\n""}]",0,848052,e97d88602eb7e835afe4328edfd2554ee28dfc6c,8,3,1,8833,,,0,"Fix upgrade/external_update/external_upgrade

These commands still reference heat stack which does
not exist. Also fixes missing option extra_vars.

Deprecates --static-inventory option, as the inventory
can't be generated without stack. If required users
have to run `update/upgrade prepare` to generate it
which would be in working_dir.

Change-Id: Ibaa42fa7ac6ebb7212dd19997bd6d01541be988c
(cherry picked from commit 6d18e27d28a93da87d3db9080d13cb0d624cd06f)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/52/848052/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/command.py', 'releasenotes/notes/deprecate-static-inventory-option-4342b01aebaa4af8.yaml', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/v1/overcloud_external_update.py', 'tripleoclient/v1/overcloud_external_upgrade.py']",6,e97d88602eb7e835afe4328edfd2554ee28dfc6c,fix_upgrade-stable/wallaby,"import os help=_('DEPRECATED: tripleo-ansible-inventory.yaml' ' in working dir will be used.') working_dir = oooutils.get_default_working_dir(parsed_args.stack) config_download_dir = os.path.join(working_dir, 'config-download') ansible_dir = os.path.join(config_download_dir, parsed_args.stack) inventory_path = os.path.join(ansible_dir, 'tripleo-ansible-inventory.yaml') key = oooutils.get_key(parsed_args.stack) playbooks = [os.path.join(ansible_dir, p) for p in constants.EXTERNAL_UPGRADE_PLAYBOOKS] oooutils.run_ansible_playbook( playbook=playbooks, inventory=inventory_path, workdir=config_download_dir, extra_vars=parsed_args.extra_vars, limit_nodes=parsed_args.limit ), forks=parsed_args.ansible_forks, key=key, reproduce_command=True deployment.snapshot_dir(ansible_dir)"," help=_('Path to an existing ansible inventory to ' 'use. If not specified, one will be ' 'generated in ' '~/tripleo-ansible-inventory.yaml') _, ansible_dir = self.get_ansible_key_and_dir( stack=parsed_args.stack, orchestration=self.app.client_manager.orchestration ) deployment.config_download( log=self.log, clients=self.app.client_manager, stack_name=parsed_args.stack, output_dir=ansible_dir, verbosity=oooutils.playbook_verbosity(self=self), ansible_playbook_name=constants.EXTERNAL_UPGRADE_PLAYBOOKS, inventory_path=oooutils.get_tripleo_ansible_inventory( parsed_args.static_inventory, parsed_args.ssh_user, parsed_args.stack, return_inventory_file_path=True ), limit_nodes=parsed_args.limit), forks=parsed_args.ansible_forks",79,135
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ia6c7c93525d99df457482cda11e996656555f5e1,openstack/tripleo-ansible,stable/wallaby,Ia6c7c93525d99df457482cda11e996656555f5e1,Use node UUID for bridge_mapping agent check,MERGED,2022-06-30 12:11:42.000000000,2022-07-01 01:49:43.000000000,2022-07-01 01:48:32.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-06-30 12:11:42.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/os_baremetal_provide_node.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/90712c5ce53e53db4e4d61ec70635d4da3493d12', 'message': 'Use node UUID for bridge_mapping agent check\n\nWhen we check for bridge mapping. If the user\nhas provided the Name of the node, rather than\nthe UUID, then we will fail to lookup the agent.\n\nThis change ensures that we lookup the agent using\nthe nodes UUID rather than the name, regardless of\nwhat the user has input in the provide command.\n\nCloses-bug: 1966155\nResolves: rhbz#2067261\nChange-Id: Ia6c7c93525d99df457482cda11e996656555f5e1\n(cherry picked from commit a3c700e12da5efaaac31e4ccd8c2167f6ad0617b)\n'}]",0,848129,90712c5ce53e53db4e4d61ec70635d4da3493d12,10,5,1,30073,,,0,"Use node UUID for bridge_mapping agent check

When we check for bridge mapping. If the user
has provided the Name of the node, rather than
the UUID, then we will fail to lookup the agent.

This change ensures that we lookup the agent using
the nodes UUID rather than the name, regardless of
what the user has input in the provide command.

Closes-bug: 1966155
Resolves: rhbz#2067261
Change-Id: Ia6c7c93525d99df457482cda11e996656555f5e1
(cherry picked from commit a3c700e12da5efaaac31e4ccd8c2167f6ad0617b)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/29/848129/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/os_baremetal_provide_node.py'],1,90712c5ce53e53db4e4d61ec70635d4da3493d12,bug/1966155-stable/wallaby,"from openstack.exceptions import ResourceNotFound, ResourceFailure, ResourceTimeout # (bshephar) We need to use the node UUID rather than the name when we # check for the Neutron agents: # https://bugs.launchpad.net/tripleo/+bug/1966155 node_id = conn.baremetal.find_node(node, ignore_missing=False).id agents = list(client.agents(host=node_id, binary='ironic-neutron-agent'))","from openstack.exceptions import ResourceFailure, ResourceTimeout agents = list(client.agents(host=node, binary='ironic-neutron-agent'))",8,2
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I2f161e7247c696a75fc53af5043d94bc85d4ec0f,openstack/puppet-tripleo,stable/wallaby,I2f161e7247c696a75fc53af5043d94bc85d4ec0f,Designate: configure unbound resolvers as dns servers,MERGED,2022-06-21 16:34:55.000000000,2022-07-01 01:48:37.000000000,2022-07-01 01:48:37.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-21 16:34:55.000000000', 'files': ['spec/classes/tripleo_profile_base_neutron_dhcp_spec.rb', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/dhcp.pp', 'spec/classes/tripleo_profile_base_neutron_plugins_ml2_ovn_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/82e2461ac6a7c7202e3065ef69d1d0f7a07e5745', 'message': 'Designate: configure unbound resolvers as dns servers\n\nConfigure dns related config in neutron with the IPs for the unbound\nresolvers if they are available.\n\nChange-Id: I2f161e7247c696a75fc53af5043d94bc85d4ec0f\n(cherry picked from commit f736d081bfcaccb1d249f0f1a519131b79a2deac)\n'}]",1,847063,82e2461ac6a7c7202e3065ef69d1d0f7a07e5745,10,3,1,6681,,,0,"Designate: configure unbound resolvers as dns servers

Configure dns related config in neutron with the IPs for the unbound
resolvers if they are available.

Change-Id: I2f161e7247c696a75fc53af5043d94bc85d4ec0f
(cherry picked from commit f736d081bfcaccb1d249f0f1a519131b79a2deac)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/63/847063/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_neutron_dhcp_spec.rb', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/dhcp.pp', 'spec/classes/tripleo_profile_base_neutron_plugins_ml2_ovn_spec.rb']",4,82e2461ac6a7c7202e3065ef69d1d0f7a07e5745,designate-wallaby,"# # Copyright (C) 2022 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # require 'spec_helper' describe 'tripleo::profile::base::neutron::plugins::ml2::ovn' do shared_examples_for 'tripleo::profile::base::neutron::plugins::ml2::ovn' do before :each do facts.merge!({ :step => params[:step] }) end context 'with step less than 4' do let(:params) { { :step => 3, :ovn_db_node_ips => ['192.168.111.10', '192.168.111.11'], :ovn_db_clustered => true, :ovn_sb_port => 999, :ovn_nb_port => 998, } } it 'should do nothing' do is_expected.to contain_class('tripleo::profile::base::neutron::plugins::ml2::ovn') is_expected.to_not contain_class('neutron::plugins::ml2::ovn') end end context 'with step 4 and later and clustered ovn dbs' do let(:params) { { :step => 4, :ovn_db_node_ips => ['192.168.111.10', '192.168.111.11'], :ovn_db_clustered => true, :ovn_sb_port => 999, :ovn_nb_port => 998, } } it 'should configure ovn ML2 plugin with clustered node ips' do is_expected.to contain_class('neutron::plugins::ml2::ovn').with({ :ovn_nb_connection => ['tcp:192.168.111.10:998,tcp:192.168.111.11:998'], :ovn_sb_connection => ['tcp:192.168.111.10:999,tcp:192.168.111.11:999'], :ovn_nb_private_key => '<SERVICE DEFAULT>', :ovn_nb_certificate => '<SERVICE DEFAULT>', :ovn_nb_ca_cert => '<SERVICE DEFAULT>', :ovn_sb_private_key => '<SERVICE DEFAULT>', :ovn_sb_certificate => '<SERVICE DEFAULT>', :ovn_sb_ca_cert => '<SERVICE DEFAULT>', :dns_servers => '<SERVICE DEFAULT>' }) end end context 'with step 4 and later and clustered ovn dbs, ssl connections' do let(:params) { { :step => 4, :ovn_db_node_ips => ['192.168.111.10', '192.168.111.11'], :ovn_db_clustered => true, :ovn_sb_port => 999, :ovn_nb_port => 998, :protocol => 'ssl', :ovn_nb_private_key => 'nb private key', :ovn_nb_certificate => 'nb certificate', :ovn_sb_private_key => 'sb private key', :ovn_sb_certificate => 'sb certificate', :ovn_sb_ca_cert => 'sb ca cert', :ovn_nb_ca_cert => 'nb ca cert', } } it 'should configure ovn ML2 plugin with clustered node ips and ssl connections' do is_expected.to contain_class('neutron::plugins::ml2::ovn').with({ :ovn_nb_connection => ['ssl:192.168.111.10:998,ssl:192.168.111.11:998'], :ovn_sb_connection => ['ssl:192.168.111.10:999,ssl:192.168.111.11:999'], :ovn_nb_private_key => 'nb private key', :ovn_nb_certificate => 'nb certificate', :ovn_sb_private_key => 'sb private key', :ovn_sb_certificate => 'sb certificate', :ovn_sb_ca_cert => 'sb ca cert', :ovn_nb_ca_cert => 'nb ca cert', :dns_servers => '<SERVICE DEFAULT>' }) end end context 'with step 4 and later and non clustered ovn dbs' do let(:params) { { :step => 4, :ovn_db_node_ips => ['192.168.111.10', '192.168.111.11'], :ovn_db_host => ['192.168.100.99'], :ovn_db_clustered => false, :ovn_sb_port => 999, :ovn_nb_port => 998, } } it 'should configure ovn ML2 plugin with non-clustered node ips' do is_expected.to contain_class('neutron::plugins::ml2::ovn').with({ :ovn_nb_connection => ['tcp:192.168.100.99:998'], :ovn_sb_connection => ['tcp:192.168.100.99:999'], :ovn_nb_private_key => '<SERVICE DEFAULT>', :ovn_nb_certificate => '<SERVICE DEFAULT>', :ovn_nb_ca_cert => '<SERVICE DEFAULT>', :ovn_sb_private_key => '<SERVICE DEFAULT>', :ovn_sb_certificate => '<SERVICE DEFAULT>', :ovn_sb_ca_cert => '<SERVICE DEFAULT>', :dns_servers => '<SERVICE DEFAULT>' }) end end context 'with step 4 and dns integration enabled, unbound resolvers present' do let(:params) { { :step => 4, :ovn_db_node_ips => ['192.168.111.10', '192.168.111.11'], :ovn_db_host => ['192.168.100.99'], :ovn_db_clustered => false, :ovn_sb_port => 999, :ovn_nb_port => 998, :neutron_dns_integration => true, :unbound_resolvers => ['10.0.0.50', '10.0.3.20'] } } it 'should configure ovn ML2 plugin with non-clustered node ips' do is_expected.to contain_class('neutron::plugins::ml2::ovn').with({ :ovn_nb_connection => ['tcp:192.168.100.99:998'], :ovn_sb_connection => ['tcp:192.168.100.99:999'], :ovn_nb_private_key => '<SERVICE DEFAULT>', :ovn_nb_certificate => '<SERVICE DEFAULT>', :ovn_nb_ca_cert => '<SERVICE DEFAULT>', :ovn_sb_private_key => '<SERVICE DEFAULT>', :ovn_sb_certificate => '<SERVICE DEFAULT>', :ovn_sb_ca_cert => '<SERVICE DEFAULT>', :dns_servers => ['10.0.0.50', '10.0.3.20'] }) end end context 'with step 4 and dns integration enabled, unbound resolvers missing' do let(:params) { { :step => 4, :ovn_db_node_ips => ['192.168.111.10', '192.168.111.11'], :ovn_db_host => ['192.168.100.99'], :ovn_db_clustered => false, :ovn_sb_port => 999, :ovn_nb_port => 998, :neutron_dns_integration => true, } } it 'should configure ovn ML2 plugin with non-clustered node ips' do is_expected.to contain_class('neutron::plugins::ml2::ovn').with({ :ovn_nb_connection => ['tcp:192.168.100.99:998'], :ovn_sb_connection => ['tcp:192.168.100.99:999'], :ovn_nb_private_key => '<SERVICE DEFAULT>', :ovn_nb_certificate => '<SERVICE DEFAULT>', :ovn_nb_ca_cert => '<SERVICE DEFAULT>', :ovn_sb_private_key => '<SERVICE DEFAULT>', :ovn_sb_certificate => '<SERVICE DEFAULT>', :ovn_sb_ca_cert => '<SERVICE DEFAULT>', :dns_servers => '<SERVICE DEFAULT>' }) end end context 'with step 4 and dns integration disabled, unbound resolvers present' do let(:params) { { :step => 4, :ovn_db_node_ips => ['192.168.111.10', '192.168.111.11'], :ovn_db_host => ['192.168.100.99'], :ovn_db_clustered => false, :ovn_sb_port => 999, :ovn_nb_port => 998, :neutron_dns_integration => false, :unbound_resolvers => ['10.0.0.50', '10.0.3.20'] } } it 'should configure ovn ML2 plugin with non-clustered node ips' do is_expected.to contain_class('neutron::plugins::ml2::ovn').with({ :ovn_nb_connection => ['tcp:192.168.100.99:998'], :ovn_sb_connection => ['tcp:192.168.100.99:999'], :ovn_nb_private_key => '<SERVICE DEFAULT>', :ovn_nb_certificate => '<SERVICE DEFAULT>', :ovn_nb_ca_cert => '<SERVICE DEFAULT>', :ovn_sb_private_key => '<SERVICE DEFAULT>', :ovn_sb_certificate => '<SERVICE DEFAULT>', :ovn_sb_ca_cert => '<SERVICE DEFAULT>', :dns_servers => '<SERVICE DEFAULT>' }) end end context 'with step 4 and dns integration enabled, unbound resolvers missing, but user def DNS present' do let(:params) { { :step => 4, :ovn_db_node_ips => ['192.168.111.10', '192.168.111.11'], :ovn_db_host => ['192.168.100.99'], :ovn_db_clustered => false, :ovn_sb_port => 999, :ovn_nb_port => 998, :neutron_dns_integration => true, :dns_servers => ['10.0.0.99'] } } it 'should configure ovn ML2 plugin with non-clustered node ips' do is_expected.to contain_class('neutron::plugins::ml2::ovn').with({ :ovn_nb_connection => ['tcp:192.168.100.99:998'], :ovn_sb_connection => ['tcp:192.168.100.99:999'], :ovn_nb_private_key => '<SERVICE DEFAULT>', :ovn_nb_certificate => '<SERVICE DEFAULT>', :ovn_nb_ca_cert => '<SERVICE DEFAULT>', :ovn_sb_private_key => '<SERVICE DEFAULT>', :ovn_sb_certificate => '<SERVICE DEFAULT>', :ovn_sb_ca_cert => '<SERVICE DEFAULT>', :dns_servers => ['10.0.0.99'] }) end end context 'with step 4 and dns integration disabled, but user def DNS present' do let(:params) { { :step => 4, :ovn_db_node_ips => ['192.168.111.10', '192.168.111.11'], :ovn_db_host => ['192.168.100.99'], :ovn_db_clustered => false, :ovn_sb_port => 999, :ovn_nb_port => 998, :neutron_dns_integration => false, :dns_servers => ['10.0.0.99'] } } it 'should configure ovn ML2 plugin with non-clustered node ips' do is_expected.to contain_class('neutron::plugins::ml2::ovn').with({ :ovn_nb_connection => ['tcp:192.168.100.99:998'], :ovn_sb_connection => ['tcp:192.168.100.99:999'], :ovn_nb_private_key => '<SERVICE DEFAULT>', :ovn_nb_certificate => '<SERVICE DEFAULT>', :ovn_nb_ca_cert => '<SERVICE DEFAULT>', :ovn_sb_private_key => '<SERVICE DEFAULT>', :ovn_sb_certificate => '<SERVICE DEFAULT>', :ovn_sb_ca_cert => '<SERVICE DEFAULT>', :dns_servers => ['10.0.0.99'] }) end end end on_supported_os.each do |os, facts| context ""on #{os}"" do let(:facts) do facts.merge(OSDefaults.get_facts({ :hostname => 'node.example.com'})) end it_behaves_like 'tripleo::profile::base::neutron::plugins::ml2::ovn' end end end ",,332,5
openstack%2Ftripleo-heat-templates~master~I3de524f24480e348d6906e8ab23637cdb173222f,openstack/tripleo-heat-templates,master,I3de524f24480e348d6906e8ab23637cdb173222f,Testing scenario001,ABANDONED,2022-06-30 06:41:41.000000000,2022-07-01 01:43:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-30 06:41:41.000000000', 'files': ['ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/43137ccad5a2bd35d26daa920432daacc2c07ac5', 'message': 'Testing scenario001\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/848216\nChange-Id: I3de524f24480e348d6906e8ab23637cdb173222f\n'}]",1,848217,43137ccad5a2bd35d26daa920432daacc2c07ac5,8,2,1,9816,,,0,"Testing scenario001

Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/848216
Change-Id: I3de524f24480e348d6906e8ab23637cdb173222f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/848217/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-standalone.yaml'],1,43137ccad5a2bd35d26daa920432daacc2c07ac5,bug/1980320,,,1,0
openstack%2Fsahara-plugin-ambari~master~I6f467a6bb175e27c011a57fec15a37b7c8dabdd0,openstack/sahara-plugin-ambari,master,I6f467a6bb175e27c011a57fec15a37b7c8dabdd0,Drop lower-constraints.txt and it's testing,MERGED,2021-12-21 09:36:52.000000000,2022-07-01 00:57:23.000000000,2022-07-01 00:54:02.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30077}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-12-21 09:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-ambari/commit/73339cbaa8f310e2dc35c59472c2621dfad71d4b', 'message': 'Update python testing classifier\n\nChange-Id: I6f467a6bb175e27c011a57fec15a37b7c8dabdd0\n'}, {'number': 2, 'created': '2022-06-29 10:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-ambari/commit/174940943dcbb2b6dd05638ad1b187623053a4c9', 'message': ""Drop lower-constraints.txt and it's testing\n\nAs discussed in TC PTG[1] and TC resolution[2], dropping\nthe lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\nChange-Id: I6f467a6bb175e27c011a57fec15a37b7c8dabdd0\n""}, {'number': 3, 'created': '2022-06-30 00:41:51.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-ambari/commit/139213dbfdc9e7e0aa8bd36e72a47ebebd90bb8d', 'message': ""Drop lower-constraints.txt and it's testing\n\nAs discussed in TC PTG[1] and TC resolution[2], dropping\nthe lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\nAnd switch zuul task openstack-python3-zed-jobs\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I6f467a6bb175e27c011a57fec15a37b7c8dabdd0\n""}]",2,822447,139213dbfdc9e7e0aa8bd36e72a47ebebd90bb8d,13,4,3,34375,,,0,"Drop lower-constraints.txt and it's testing

As discussed in TC PTG[1] and TC resolution[2], dropping
the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

And switch zuul task openstack-python3-zed-jobs

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I6f467a6bb175e27c011a57fec15a37b7c8dabdd0
",git fetch https://review.opendev.org/openstack/sahara-plugin-ambari refs/changes/47/822447/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,73339cbaa8f310e2dc35c59472c2621dfad71d4b,, - openstack-python3-yoga-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fsahara-plugin-mapr~master~I2372c591165b0a080cf32c34525b64ff1d565534,openstack/sahara-plugin-mapr,master,I2372c591165b0a080cf32c34525b64ff1d565534,Drop lower-constraints.txt and it's testing,MERGED,2021-12-21 09:44:27.000000000,2022-07-01 00:56:59.000000000,2022-07-01 00:54:00.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30077}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-12-21 09:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/fd19b02fd0f35f620bb1ebd79598a60e9ee720e5', 'message': 'Update python testing classifier\n\nChange-Id: I2372c591165b0a080cf32c34525b64ff1d565534\n'}, {'number': 2, 'created': '2022-06-29 09:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/809325118bcc2143410c846181974b87ae8cd4f1', 'message': ""Drop lower-constraints.txt and it's testing\n\nAs discussed in TC PTG[1] and TC resolution[2], dropping\nthe lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\nAnd switch to openstack-python3-zed-jobs\n\nChange-Id: I2372c591165b0a080cf32c34525b64ff1d565534\n""}, {'number': 3, 'created': '2022-06-30 00:42:18.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/13d1f142667140347af14f442f7d20673719b5f2', 'message': ""Drop lower-constraints.txt and it's testing\n\nAs discussed in TC PTG[1] and TC resolution[2], dropping\nthe lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\nAnd switch to openstack-python3-zed-jobs\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I2372c591165b0a080cf32c34525b64ff1d565534\n""}]",3,822451,13d1f142667140347af14f442f7d20673719b5f2,14,4,3,34375,,,0,"Drop lower-constraints.txt and it's testing

As discussed in TC PTG[1] and TC resolution[2], dropping
the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

And switch to openstack-python3-zed-jobs

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I2372c591165b0a080cf32c34525b64ff1d565534
",git fetch https://review.opendev.org/openstack/sahara-plugin-mapr refs/changes/51/822451/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fd19b02fd0f35f620bb1ebd79598a60e9ee720e5,, - openstack-python3-yoga-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fdiskimage-builder~master~Iaf1788342e7418af92dd35714415a979b0ba11db,openstack/diskimage-builder,master,Iaf1788342e7418af92dd35714415a979b0ba11db,update default python for gentoo to 3.10,MERGED,2022-06-30 14:50:51.000000000,2022-07-01 00:14:55.000000000,2022-07-01 00:13:39.000000000,"[{'_account_id': 7118}, {'_account_id': 10342}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-30 14:50:51.000000000', 'files': ['diskimage_builder/elements/gentoo/environment.d/00-gentoo-envars.bash'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d85a3421a7806bfe9ae685357e69c8caf05a1c73', 'message': 'update default python for gentoo to 3.10\n\nChange-Id: Iaf1788342e7418af92dd35714415a979b0ba11db\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,848307,d85a3421a7806bfe9ae685357e69c8caf05a1c73,11,4,1,14288,,,0,"update default python for gentoo to 3.10

Change-Id: Iaf1788342e7418af92dd35714415a979b0ba11db
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/07/848307/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/gentoo/environment.d/00-gentoo-envars.bash'],1,d85a3421a7806bfe9ae685357e69c8caf05a1c73,gentoo-python-3.10,export GENTOO_PYTHON_TARGETS=${GENTOO_PYTHON_TARGETS:-'python3_10'},export GENTOO_PYTHON_TARGETS=${GENTOO_PYTHON_TARGETS:-'python3_9'},1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I2f62cdfcb88edb5552cbd7351b6240f78376c93d,openstack/python-tripleoclient,stable/wallaby,I2f62cdfcb88edb5552cbd7351b6240f78376c93d,Limit standalone ceph-admin user creation to a single host,MERGED,2022-06-28 14:25:44.000000000,2022-07-01 00:03:17.000000000,2022-07-01 00:02:08.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-06-28 14:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/09ed31a08ee375ca88aac748a631d5202bfb8cac', 'message': 'Squash standalone deployed_ceph for pythonclient to Wallaby\n\nThis squash backports the standalone deployed_ceph feature to\nWallaby without introducing related bugs. It has 6 commits.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/845595\n\n1. Add --mon-ip option to deployed ceph\n\nAdd --mon-ip option to \'openstack overcloud\nceph deploy\', to easily override the variable\ntripleo_cephadm_first_mon_ip from the CLI.\n\nThis option makes deployed ceph easier when\nusing standalone.\n\nChange-Id: Id9a61356e8fd4618ce68faa2677f4ed30981b7d6\n(cherry picked from commit 2ac3953410337361777974cb2dccde3231ee3116)\n\n2. Make deployed ceph baremetal file optional\n\nIf the --ceph-spec option is passed to \'openstack\novercloud ceph deploy\', then it is not necessary\nfor the path to the environment file output from\n\'openstack overcloud node provision\' to be passed.\n\nAdd conditional to ensure that either --ceph-spec\nor <deployed_baremetal.yaml> are used and add two\nunit tests to cover all three scenarios: a. metal\nis passed, b. spec is passed and c. neither are\npassed so a failure is asserted.\n\nChange-Id: Ibd350956f401fa48aaeae89fdd5e0bd9c28d0685\n(cherry picked from commit 84055814f9303a3fea6a252a24c2d9d123535bea)\n\n3. Introduce ""openstack overcloud ceph spec""\n\nThis command may be used to create a cephadm spec file as\na function of the output of metalsmith and a TripleO roles\nfile.\n\nCalls cli-deployed-ceph.yaml with ceph_spec tag so users\nmay create the Ceph spec in a separate step from the Ceph\nDeployment. The Ceph spec file may be then be passed to\n""openstack overcloud ceph deploy"".\n\nAlso, supports a --standalone feature which directly calls\nthe ceph_spec library in tripleo-common in the depends-on\nchain. As Ansible is used less the tripleo-pythonclient can\nuse the ceph_spec library directly for more than just the\n--standalone feature.\n\nChange-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253\n(cherry picked from commit 3701f2ac318373250210c85f3483cd4f1be17dc7)\n\n4. Add --standalone to overcloud ceph user and deploy\n\nBoth \'openstack overcloud ceph user enable\' and \'openstack\novercloud ceph deploy\' currently use Ansible and require an\ninventory with hosts matching those in the Ceph spec. The\ninventory is created in the working directory when \'openstack\novercloud node provision\' runs but for a standalone deployment\nthe user would need to create it manually. Abstract this detail\naway by providing a --standalone option for single node deploys\nwhich do not use metalsmith.\n\nChange-Id: Icb785f015ee69d45dd513aef09fac625de421250\n(cherry picked from commit 88ec87caf625f3a28382c484ec93ebdae1fe33b6)\n\n5. Build standalone ceph_spec with Ansible\n\nInstead of calling the ceph_spec library directly from\nthe python-tripleoclient call an ansible wrapper to it\ninstead so that the library does not need to live in\ntripleo-common and bug 1961325 can be avoided.\n\nCloses-Bug: 1961325\nChange-Id: I7514c95b5c3c24a82e8703556d4205b272270511\n(cherry picked from commit ec411b93297f2c841b03f7afb55a51bf2a0f0d0e)\n\n6. Limit standalone ceph-admin user creation to a single host\n\nWhen \'openstack overcloud ceph user enable --standalone\' is\nrun, call Ansible with \'--limit undercloud\'.\n\nBug #1979093 happened because Ansible was running the user\nmodule on the same host as if it were two hosts. The module\nis idempotent but not race safe. E.g. when user execution A\nand user execution B are run on the same host, A\'s check that\nthe user does not exist might be true but before A goes on to\ncreate the user, B could have created it first depending on\nscheduling.\n\nThe python-tripleoclient uses Ansible --limit when creating\nthe ceph-admin user so only _admin nodes get the private key.\nThis works for multinode but standalone only has one node, so\nfor that condition redefine the limit list to that single node.\n\nCloses-Bug: #1979093\nChange-Id: I2f62cdfcb88edb5552cbd7351b6240f78376c93d\n'}, {'number': 2, 'created': '2022-06-28 19:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fbaf0b3c2e994bd15d00468fb1a997a6e3c3cebc', 'message': ""Limit standalone ceph-admin user creation to a single host\n\nWhen 'openstack overcloud ceph user enable --standalone' is\nrun, call Ansible with '--limit undercloud'.\n\nBug #1979093 happened because Ansible was running the user\nmodule on the same host as if it were two hosts. The module\nis idempotent but not race safe. E.g. when user execution A\nand user execution B are run on the same host, A's check that\nthe user does not exist might be true but before A goes on to\ncreate the user, B could have created it first depending on\nscheduling.\n\nThe python-tripleoclient uses Ansible --limit when creating\nthe ceph-admin user so only _admin nodes get the private key.\nThis works for multinode but standalone only has one node, so\nfor that condition redefine the limit list to that single node.\n\nChange-Id: I2f62cdfcb88edb5552cbd7351b6240f78376c93d\nCloses-Bug: #1979093\n(cherry picked from commit 5ee23cf83def70b541858958659dc33a6bb5b0b6)\n""}, {'number': 3, 'created': '2022-06-28 19:40:08.000000000', 'files': ['tripleoclient/v2/overcloud_ceph.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/186d7f4e4cd1b931918bbb375f62b4fb9d48375e', 'message': ""Limit standalone ceph-admin user creation to a single host\n\nWhen 'openstack overcloud ceph user enable --standalone' is\nrun, call Ansible with '--limit undercloud'.\n\nBug #1979093 happened because Ansible was running the user\nmodule on the same host as if it were two hosts. The module\nis idempotent but not race safe. E.g. when user execution A\nand user execution B are run on the same host, A's check that\nthe user does not exist might be true but before A goes on to\ncreate the user, B could have created it first depending on\nscheduling.\n\nThe python-tripleoclient uses Ansible --limit when creating\nthe ceph-admin user so only _admin nodes get the private key.\nThis works for multinode but standalone only has one node, so\nfor that condition redefine the limit list to that single node.\n\nChange-Id: I2f62cdfcb88edb5552cbd7351b6240f78376c93d\nCloses-Bug: #1979093\n(cherry picked from commit 5ee23cf83def70b541858958659dc33a6bb5b0b6)\n""}]",2,847980,186d7f4e4cd1b931918bbb375f62b4fb9d48375e,16,4,3,18002,,,0,"Limit standalone ceph-admin user creation to a single host

When 'openstack overcloud ceph user enable --standalone' is
run, call Ansible with '--limit undercloud'.

Bug #1979093 happened because Ansible was running the user
module on the same host as if it were two hosts. The module
is idempotent but not race safe. E.g. when user execution A
and user execution B are run on the same host, A's check that
the user does not exist might be true but before A goes on to
create the user, B could have created it first depending on
scheduling.

The python-tripleoclient uses Ansible --limit when creating
the ceph-admin user so only _admin nodes get the private key.
This works for multinode but standalone only has one node, so
for that condition redefine the limit list to that single node.

Change-Id: I2f62cdfcb88edb5552cbd7351b6240f78376c93d
Closes-Bug: #1979093
(cherry picked from commit 5ee23cf83def70b541858958659dc33a6bb5b0b6)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/80/847980/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/overcloud_ceph_spec-e1cfd358c4db2b22.yaml', 'tripleoclient/utils.py', 'tripleoclient/v2/overcloud_ceph.py', 'setup.cfg', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py']",5,09ed31a08ee375ca88aac748a631d5202bfb8cac,bug/1979093-stable/wallaby," '--mon-ip', '127.0.0.1', ""tripleo_cephadm_standalone"": False, 'tripleo_cephadm_first_mon_ip': '127.0.0.1', @mock.patch('tripleoclient.utils.get_ceph_networks', autospect=True) @mock.patch('tripleoclient.utils.TempDirs', autospect=True) @mock.patch('os.path.abspath', autospect=True) @mock.patch('os.path.exists', autospect=True) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_deploy_ceph_spec(self, mock_playbook, mock_abspath, mock_path_exists, mock_tempdirs, mock_get_ceph_networks): arglist = ['--yes', '--stack', 'overcloud', '--skip-user-create', '--skip-hosts-config', '--mon-ip', '127.0.0.1', '--ceph-spec', 'ceph_spec.yaml', '--cephadm-ssh-user', 'jimmy', '--output', 'deployed-ceph.yaml', '--container-namespace', 'quay.io/ceph', '--container-image', 'ceph', '--container-tag', 'latest'] parsed_args = self.check_parser(self.cmd, arglist, []) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( playbook='cli-deployed-ceph.yaml', inventory=mock.ANY, workdir=mock.ANY, playbook_dir=mock.ANY, verbosity=3, skip_tags='cephadm_ssh_user', reproduce_command=False, extra_vars_file=mock.ANY, extra_vars={ ""deployed_ceph_tht_path"": mock.ANY, ""working_dir"": mock.ANY, ""stack_name"": 'overcloud', ""tripleo_cephadm_standalone"": False, 'tripleo_roles_path': mock.ANY, 'tripleo_cephadm_first_mon_ip': '127.0.0.1', 'tripleo_cephadm_cluster': 'ceph', 'dynamic_ceph_spec': False, 'ceph_spec_path': mock.ANY, 'tripleo_cephadm_container_ns': 'quay.io/ceph', 'tripleo_cephadm_container_image': 'ceph', 'tripleo_cephadm_container_tag': 'latest', 'tripleo_cephadm_ssh_user': 'jimmy', } ) @mock.patch('os.path.abspath', autospect=True) @mock.patch('os.path.exists', autospect=True) def test_overcloud_deploy_ceph_no_metal(self, mock_abspath, mock_path_exists): arglist = ['--stack', 'overcloud', '--output', 'deployed-ceph.yaml'] parsed_args = self.check_parser(self.cmd, arglist, []) self.assertRaises(osc_lib_exc.CommandError, self.cmd.take_action, parsed_args) class TestOvercloudCephSpec(fakes.FakePlaybookExecution): def setUp(self): super(TestOvercloudCephSpec, self).setUp() # Get the command object to test app_args = mock.Mock() app_args.verbose_level = 1 self.app.options = fakes.FakeOptions() self.cmd = overcloud_ceph.OvercloudCephSpec(self.app, app_args) @mock.patch('tripleoclient.utils.TempDirs', autospect=True) @mock.patch('os.path.abspath', autospect=True) @mock.patch('os.path.exists', autospect=True) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_overcloud_ceph_spec(self, mock_playbook, mock_abspath, mock_path_exists, mock_tempdirs): arglist = ['deployed-metal.yaml', '--yes', '--stack', 'overcloud', '--roles-data', 'roles_data.yaml', '--osd-spec', 'osd_spec.yaml', '--output', 'ceph_spec.yaml'] parsed_args = self.check_parser(self.cmd, arglist, []) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( playbook='cli-deployed-ceph.yaml', inventory=mock.ANY, workdir=mock.ANY, playbook_dir=mock.ANY, verbosity=3, tags='ceph_spec', reproduce_command=False, extra_vars={ ""baremetal_deployed_path"": mock.ANY, 'tripleo_roles_path': mock.ANY, 'osd_spec_path': mock.ANY, 'ceph_spec_path': mock.ANY, } )",,416,21
openstack%2Fpython-openstackclient~master~I114766d31d2a2243f4db450b4d2c246ab68f9396,openstack/python-openstackclient,master,I114766d31d2a2243f4db450b4d2c246ab68f9396,WIP: Test for tenant_id and project_id columns,ABANDONED,2022-06-27 08:53:45.000000000,2022-06-30 23:58:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-27 08:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/29a95434484da7e04a55f7e6ecde24439a821744', 'message': 'WIP: Test for tenant_id and project_id columns\n\nWe want to assure that tenant_id is not shown, since it is deprecated in\nNeutron.\n\nChange-Id: I114766d31d2a2243f4db450b4d2c246ab68f9396\n'}, {'number': 2, 'created': '2022-06-27 11:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3b1e844fcfbddbe67007a083a03466094ef42657', 'message': 'WIP: Test for tenant_id and project_id columns\n\nWe want to assure that tenant_id is not shown, since it is deprecated in\nNeutron.\n\nChange-Id: I114766d31d2a2243f4db450b4d2c246ab68f9396\n'}, {'number': 3, 'created': '2022-06-27 12:45:34.000000000', 'files': ['openstackclient/tests/functional/network/v2/test_network.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7d7aed93e927460d318a9b196ce4ec2494e4952d', 'message': 'WIP: Test for tenant_id and project_id columns\n\nWe want to assure that tenant_id is not shown, since it is deprecated in\nNeutron.\n\nChange-Id: I114766d31d2a2243f4db450b4d2c246ab68f9396\n'}]",1,847752,7d7aed93e927460d318a9b196ce4ec2494e4952d,7,1,3,13252,,,0,"WIP: Test for tenant_id and project_id columns

We want to assure that tenant_id is not shown, since it is deprecated in
Neutron.

Change-Id: I114766d31d2a2243f4db450b4d2c246ab68f9396
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/52/847752/3 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/functional/network/v2/test_security_group.py'],1,29a95434484da7e04a55f7e6ecde24439a821744,sec-gp-tenant-id," self.assertNotIn('tenant_id', cmd_output) self.assertIn('project_id', cmd_output)",,2,0
openstack%2Fironic-python-agent~master~I0c5812736b7a320cc4ecc333f80db70eb78cc76d,openstack/ironic-python-agent,master,I0c5812736b7a320cc4ecc333f80db70eb78cc76d,Use json for lsblk output,MERGED,2021-02-12 14:10:59.000000000,2022-06-30 23:39:38.000000000,2022-06-30 23:38:15.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-12 14:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2d191f4a3e3d75292037a2498e1f5a3c36f705aa', 'message': '[WIP] convert lsblk output to json\n\nThe lsblk output is available in json format since version 2.27 of\nutil-linux [1]\n\nhttps: //mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.27/v2.27-ReleaseNotes\n\nChange-Id: I0c5812736b7a320cc4ecc333f80db70eb78cc76d\n'}, {'number': 2, 'created': '2021-02-12 14:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8486c41d5c990bdc8898b2651f35f1e932222738', 'message': '[WIP] Use json for lsblk output\n\nThe lsblk output is available in json format since version 2.27 of\nutil-linux [1]\n\nhttps: //mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.27/v2.27-ReleaseNotes\n\nChange-Id: I0c5812736b7a320cc4ecc333f80db70eb78cc76d\n'}, {'number': 3, 'created': '2021-02-15 17:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d801d9c1a7551f09425f4c9e2acb14ac832d0155', 'message': '[WIP] Use json for lsblk output\n\nThe lsblk output is available in json format since version 2.27 of\nutil-linux [1]\n\nhttps: //mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.27/v2.27-ReleaseNotes\n\nChange-Id: I0c5812736b7a320cc4ecc333f80db70eb78cc76d\n'}, {'number': 4, 'created': '2021-02-16 09:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/39512bcec959482f2d8d0a32792e79962c58cc65', 'message': '[WIP] Use json for lsblk output\n\nThe lsblk output is available in json format since version 2.27 of\nutil-linux [1]\n\nhttps: //mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.27/v2.27-ReleaseNotes\n\nChange-Id: I0c5812736b7a320cc4ecc333f80db70eb78cc76d\n'}, {'number': 5, 'created': '2021-09-30 09:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1a64a73527e177081da0606559303a583ad0b6e6', 'message': 'Use json for lsblk output\n\nThe lsblk output is available in json format since version 2.27 of\nutil-linux [1]\n\nhttps: //mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.27/v2.27-ReleaseNotes\n\nChange-Id: I0c5812736b7a320cc4ecc333f80db70eb78cc76d\n'}, {'number': 6, 'created': '2021-09-30 11:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/56201ba92a1fe53f4d79b78523654a81f650ec75', 'message': 'Use json for lsblk output\n\nThe lsblk output is available in json format since version 2.27 of\nutil-linux [1]\n\nhttps: //mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.27/v2.27-ReleaseNotes\n\nChange-Id: I0c5812736b7a320cc4ecc333f80db70eb78cc76d\n'}, {'number': 7, 'created': '2021-11-04 08:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c940e7a70053eda274cec60b3c4cac2e258f2d9b', 'message': 'Use json for lsblk output\n\nThe lsblk output is available in json format since version 2.27 of\nutil-linux [1]\n\nhttps: //mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.27/v2.27-ReleaseNotes\n\nChange-Id: I0c5812736b7a320cc4ecc333f80db70eb78cc76d\n'}, {'number': 8, 'created': '2021-11-15 08:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/30ecb87dabd88bf2ca5f99487f8bbd8e2868c0e3', 'message': 'Use json for lsblk output\n\nThe lsblk output is available in json format since version 2.27 of\nutil-linux [1]\n\nhttps: //mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.27/v2.27-ReleaseNotes\n\nChange-Id: I0c5812736b7a320cc4ecc333f80db70eb78cc76d\n'}, {'number': 9, 'created': '2022-05-12 14:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7cd82431188507d0b3b85aa971c2c47a8fb1575e', 'message': 'Use json for lsblk output\n\nThe lsblk output is available in json format since version 2.27 of\nutil-linux [1]\n\nhttps: //mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.27/v2.27-ReleaseNotes\n\nChange-Id: I0c5812736b7a320cc4ecc333f80db70eb78cc76d\n'}, {'number': 10, 'created': '2022-05-23 16:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e75072eed44a1b9a7f791ad4054369f5bfff7e4d', 'message': 'Use json for lsblk output\n\nThe lsblk output is available in json format since version 2.27 of\nutil-linux [1]\n\nhttps: //mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.27/v2.27-ReleaseNotes\n\nChange-Id: I0c5812736b7a320cc4ecc333f80db70eb78cc76d\n'}, {'number': 11, 'created': '2022-05-24 08:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6511b05b3d187864cc60ec160d591be84783015f', 'message': 'Use json for lsblk output\n\nThe lsblk output is available in json format since version 2.27 of\nutil-linux [1]\n\nhttps: //mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.27/v2.27-ReleaseNotes\n\nChange-Id: I0c5812736b7a320cc4ecc333f80db70eb78cc76d\n'}, {'number': 12, 'created': '2022-06-14 15:50:09.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/09ea41c83dda9b46739c1d9d0498476db855d952', 'message': 'Use json for lsblk output\n\nThe lsblk output is available in json format since version 2.27 of\nutil-linux [1]\n\nhttps: //mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.27/v2.27-ReleaseNotes\n\nChange-Id: I0c5812736b7a320cc4ecc333f80db70eb78cc76d\n'}]",22,775391,09ea41c83dda9b46739c1d9d0498476db855d952,56,6,12,23851,,,0,"Use json for lsblk output

The lsblk output is available in json format since version 2.27 of
util-linux [1]

https: //mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.27/v2.27-ReleaseNotes

Change-Id: I0c5812736b7a320cc4ecc333f80db70eb78cc76d
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/91/775391/6 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py']",2,2d191f4a3e3d75292037a2498e1f5a3c36f705aa,lsblk-json," 'lsblk', '-bia --json', '-oKNAME,MODEL,SIZE,ROTA,TYPE,UUID,PARTUUID', 'lsblk', '-bia --json', '-oKNAME,MODEL,SIZE,ROTA,TYPE,UUID,PARTUUID', 'lsblk', '-bia --json', '-oKNAME,MODEL,SIZE,ROTA,TYPE,UUID,PARTUUID', 'lsblk', '-bia --json', '-oKNAME,MODEL,SIZE,ROTA,TYPE,UUID,PARTUUID', 'lsblk', '-bia --json', '-oKNAME,MODEL,SIZE,ROTA,TYPE,UUID,PARTUUID', 'lsblk', '-bia --json', '-oKNAME,MODEL,SIZE,ROTA,TYPE,UUID,PARTUUID',"," 'lsblk', '-Pbia', '-oKNAME,MODEL,SIZE,ROTA,TYPE,UUID,PARTUUID', 'lsblk', '-Pbia', '-oKNAME,MODEL,SIZE,ROTA,TYPE,UUID,PARTUUID', 'lsblk', '-Pbia', '-oKNAME,MODEL,SIZE,ROTA,TYPE,UUID,PARTUUID', 'lsblk', '-Pbia', '-oKNAME,MODEL,SIZE,ROTA,TYPE,UUID,PARTUUID', 'lsblk', '-Pbia', '-oKNAME,MODEL,SIZE,ROTA,TYPE,UUID,PARTUUID', 'lsblk', '-Pbia', '-oKNAME,MODEL,SIZE,ROTA,TYPE,UUID,PARTUUID',",40,35
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I7514c95b5c3c24a82e8703556d4205b272270511,openstack/python-tripleoclient,stable/wallaby,I7514c95b5c3c24a82e8703556d4205b272270511,Squash standalone deployed_ceph for pythonclient to Wallaby,MERGED,2022-06-10 20:41:54.000000000,2022-06-30 23:23:17.000000000,2022-06-30 23:21:40.000000000,"[{'_account_id': 6681}, {'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-06-10 20:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bfcc508ec01eab39db342ff6d6e3ed0b97902f46', 'message': 'Squash standalone deployed_ceph for pythonclient to Wallaby\n\nThis squash backports the standalone deployed_ceph feature to\nWallaby without introducing related bugs. It has 5 commits.\n\n1. Add --mon-ip option to deployed ceph\n\nAdd --mon-ip option to \'openstack overcloud\nceph deploy\', to easily override the variable\ntripleo_cephadm_first_mon_ip from the CLI.\n\nThis option makes deployed ceph easier when\nusing standalone.\n\nChange-Id: Id9a61356e8fd4618ce68faa2677f4ed30981b7d6\n(cherry picked from commit 2ac3953410337361777974cb2dccde3231ee3116)\n\n2. Make deployed ceph baremetal file optional\n\nIf the --ceph-spec option is passed to \'openstack\novercloud ceph deploy\', then it is not necessary\nfor the path to the environment file output from\n\'openstack overcloud node provision\' to be passed.\n\nAdd conditional to ensure that either --ceph-spec\nor <deployed_baremetal.yaml> are used and add two\nunit tests to cover all three scenarios: a. metal\nis passed, b. spec is passed and c. neither are\npassed so a failure is asserted.\n\nDepends-On: I9a6bd27f825d226b508053e4b7d2670a14f6f773\nChange-Id: Ibd350956f401fa48aaeae89fdd5e0bd9c28d0685\n(cherry picked from commit 84055814f9303a3fea6a252a24c2d9d123535bea)\n\n3. Introduce ""openstack overcloud ceph spec""\n\nThis command may be used to create a cephadm spec file as\na function of the output of metalsmith and a TripleO roles\nfile.\n\nCalls cli-deployed-ceph.yaml with ceph_spec tag so users\nmay create the Ceph spec in a separate step from the Ceph\nDeployment. The Ceph spec file may be then be passed to\n""openstack overcloud ceph deploy"".\n\nAlso, supports a --standalone feature which directly calls\nthe ceph_spec library in tripleo-common in the depends-on\nchain. As Ansible is used less the tripleo-pythonclient can\nuse the ceph_spec library directly for more than just the\n--standalone feature.\n\nDepends-On: Id771a6075b626f6ec853be17384d3bdd7c327c53\nChange-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253\n(cherry picked from commit 3701f2ac318373250210c85f3483cd4f1be17dc7)\n\n4. Add --standalone to overcloud ceph user and deploy\n\nBoth \'openstack overcloud ceph user enable\' and \'openstack\novercloud ceph deploy\' currently use Ansible and require an\ninventory with hosts matching those in the Ceph spec. The\ninventory is created in the working directory when \'openstack\novercloud node provision\' runs but for a standalone deployment\nthe user would need to create it manually. Abstract this detail\naway by providing a --standalone option for single node deploys\nwhich do not use metalsmith.\n\nDepends-On: Idfe4f334f59a3a40363b7127f33ed4996f09362f\nChange-Id: Icb785f015ee69d45dd513aef09fac625de421250\n(cherry picked from commit 88ec87caf625f3a28382c484ec93ebdae1fe33b6)\n\n5. Build standalone ceph_spec with Ansible\n\nInstead of calling the ceph_spec library directly from\nthe python-tripleoclient call an ansible wrapper to it\ninstead so that the library does not need to live in\ntripleo-common and bug 1961325 can be avoided.\n\nCloses-Bug: 1961325\nDepends-On: I90f9e16476f5a986a87c9e678e455846b1d02bf9\nChange-Id: I7514c95b5c3c24a82e8703556d4205b272270511\n(cherry picked from commit ec411b93297f2c841b03f7afb55a51bf2a0f0d0e)\n'}, {'number': 2, 'created': '2022-06-13 12:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c160ec2565f88664d4eaeb4d636061a44b5e71c6', 'message': 'Squash standalone deployed_ceph for pythonclient to Wallaby\n\nThis squash backports the standalone deployed_ceph feature to\nWallaby without introducing related bugs. It has 5 commits.\n\n1. Add --mon-ip option to deployed ceph\n\nAdd --mon-ip option to \'openstack overcloud\nceph deploy\', to easily override the variable\ntripleo_cephadm_first_mon_ip from the CLI.\n\nThis option makes deployed ceph easier when\nusing standalone.\n\nChange-Id: Id9a61356e8fd4618ce68faa2677f4ed30981b7d6\n(cherry picked from commit 2ac3953410337361777974cb2dccde3231ee3116)\n\n2. Make deployed ceph baremetal file optional\n\nIf the --ceph-spec option is passed to \'openstack\novercloud ceph deploy\', then it is not necessary\nfor the path to the environment file output from\n\'openstack overcloud node provision\' to be passed.\n\nAdd conditional to ensure that either --ceph-spec\nor <deployed_baremetal.yaml> are used and add two\nunit tests to cover all three scenarios: a. metal\nis passed, b. spec is passed and c. neither are\npassed so a failure is asserted.\n\nDepends-On: I9a6bd27f825d226b508053e4b7d2670a14f6f773\nChange-Id: Ibd350956f401fa48aaeae89fdd5e0bd9c28d0685\n(cherry picked from commit 84055814f9303a3fea6a252a24c2d9d123535bea)\n\n3. Introduce ""openstack overcloud ceph spec""\n\nThis command may be used to create a cephadm spec file as\na function of the output of metalsmith and a TripleO roles\nfile.\n\nCalls cli-deployed-ceph.yaml with ceph_spec tag so users\nmay create the Ceph spec in a separate step from the Ceph\nDeployment. The Ceph spec file may be then be passed to\n""openstack overcloud ceph deploy"".\n\nAlso, supports a --standalone feature which directly calls\nthe ceph_spec library in tripleo-common in the depends-on\nchain. As Ansible is used less the tripleo-pythonclient can\nuse the ceph_spec library directly for more than just the\n--standalone feature.\n\nDepends-On: Id771a6075b626f6ec853be17384d3bdd7c327c53\nChange-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253\n(cherry picked from commit 3701f2ac318373250210c85f3483cd4f1be17dc7)\n\n4. Add --standalone to overcloud ceph user and deploy\n\nBoth \'openstack overcloud ceph user enable\' and \'openstack\novercloud ceph deploy\' currently use Ansible and require an\ninventory with hosts matching those in the Ceph spec. The\ninventory is created in the working directory when \'openstack\novercloud node provision\' runs but for a standalone deployment\nthe user would need to create it manually. Abstract this detail\naway by providing a --standalone option for single node deploys\nwhich do not use metalsmith.\n\nDepends-On: Idfe4f334f59a3a40363b7127f33ed4996f09362f\nChange-Id: Icb785f015ee69d45dd513aef09fac625de421250\n(cherry picked from commit 88ec87caf625f3a28382c484ec93ebdae1fe33b6)\n\n5. Build standalone ceph_spec with Ansible\n\nInstead of calling the ceph_spec library directly from\nthe python-tripleoclient call an ansible wrapper to it\ninstead so that the library does not need to live in\ntripleo-common and bug 1961325 can be avoided.\n\nCloses-Bug: 1961325\nDepends-On: I90f9e16476f5a986a87c9e678e455846b1d02bf9\nChange-Id: I7514c95b5c3c24a82e8703556d4205b272270511\n(cherry picked from commit ec411b93297f2c841b03f7afb55a51bf2a0f0d0e)\n'}, {'number': 3, 'created': '2022-06-13 12:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eea0d8373b83824c4f913d7a3b372927e75cc59f', 'message': 'Squash standalone deployed_ceph for pythonclient to Wallaby\n\nThis squash backports the standalone deployed_ceph feature to\nWallaby without introducing related bugs. It has 5 commits.\n\n1. Add --mon-ip option to deployed ceph\n\nAdd --mon-ip option to \'openstack overcloud\nceph deploy\', to easily override the variable\ntripleo_cephadm_first_mon_ip from the CLI.\n\nThis option makes deployed ceph easier when\nusing standalone.\n\nChange-Id: Id9a61356e8fd4618ce68faa2677f4ed30981b7d6\n(cherry picked from commit 2ac3953410337361777974cb2dccde3231ee3116)\n\n2. Make deployed ceph baremetal file optional\n\nIf the --ceph-spec option is passed to \'openstack\novercloud ceph deploy\', then it is not necessary\nfor the path to the environment file output from\n\'openstack overcloud node provision\' to be passed.\n\nAdd conditional to ensure that either --ceph-spec\nor <deployed_baremetal.yaml> are used and add two\nunit tests to cover all three scenarios: a. metal\nis passed, b. spec is passed and c. neither are\npassed so a failure is asserted.\n\nDepends-On: I9a6bd27f825d226b508053e4b7d2670a14f6f773\nChange-Id: Ibd350956f401fa48aaeae89fdd5e0bd9c28d0685\n(cherry picked from commit 84055814f9303a3fea6a252a24c2d9d123535bea)\n\n3. Introduce ""openstack overcloud ceph spec""\n\nThis command may be used to create a cephadm spec file as\na function of the output of metalsmith and a TripleO roles\nfile.\n\nCalls cli-deployed-ceph.yaml with ceph_spec tag so users\nmay create the Ceph spec in a separate step from the Ceph\nDeployment. The Ceph spec file may be then be passed to\n""openstack overcloud ceph deploy"".\n\nAlso, supports a --standalone feature which directly calls\nthe ceph_spec library in tripleo-common in the depends-on\nchain. As Ansible is used less the tripleo-pythonclient can\nuse the ceph_spec library directly for more than just the\n--standalone feature.\n\nDepends-On: Id771a6075b626f6ec853be17384d3bdd7c327c53\nChange-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253\n(cherry picked from commit 3701f2ac318373250210c85f3483cd4f1be17dc7)\n\n4. Add --standalone to overcloud ceph user and deploy\n\nBoth \'openstack overcloud ceph user enable\' and \'openstack\novercloud ceph deploy\' currently use Ansible and require an\ninventory with hosts matching those in the Ceph spec. The\ninventory is created in the working directory when \'openstack\novercloud node provision\' runs but for a standalone deployment\nthe user would need to create it manually. Abstract this detail\naway by providing a --standalone option for single node deploys\nwhich do not use metalsmith.\n\nDepends-On: Idfe4f334f59a3a40363b7127f33ed4996f09362f\nChange-Id: Icb785f015ee69d45dd513aef09fac625de421250\n(cherry picked from commit 88ec87caf625f3a28382c484ec93ebdae1fe33b6)\n\n5. Build standalone ceph_spec with Ansible\n\nInstead of calling the ceph_spec library directly from\nthe python-tripleoclient call an ansible wrapper to it\ninstead so that the library does not need to live in\ntripleo-common and bug 1961325 can be avoided.\n\nCloses-Bug: 1961325\nDepends-On: I90f9e16476f5a986a87c9e678e455846b1d02bf9\nChange-Id: I7514c95b5c3c24a82e8703556d4205b272270511\n(cherry picked from commit ec411b93297f2c841b03f7afb55a51bf2a0f0d0e)\n'}, {'number': 4, 'created': '2022-06-14 20:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/85b9dcc77b32e95b452383e34e72ccc90ab7b956', 'message': 'Squash standalone deployed_ceph for pythonclient to Wallaby\n\nThis squash backports the standalone deployed_ceph feature to\nWallaby without introducing related bugs. It has 5 commits.\n\n1. Add --mon-ip option to deployed ceph\n\nAdd --mon-ip option to \'openstack overcloud\nceph deploy\', to easily override the variable\ntripleo_cephadm_first_mon_ip from the CLI.\n\nThis option makes deployed ceph easier when\nusing standalone.\n\nChange-Id: Id9a61356e8fd4618ce68faa2677f4ed30981b7d6\n(cherry picked from commit 2ac3953410337361777974cb2dccde3231ee3116)\n\n2. Make deployed ceph baremetal file optional\n\nIf the --ceph-spec option is passed to \'openstack\novercloud ceph deploy\', then it is not necessary\nfor the path to the environment file output from\n\'openstack overcloud node provision\' to be passed.\n\nAdd conditional to ensure that either --ceph-spec\nor <deployed_baremetal.yaml> are used and add two\nunit tests to cover all three scenarios: a. metal\nis passed, b. spec is passed and c. neither are\npassed so a failure is asserted.\n\nDepends-On: I9a6bd27f825d226b508053e4b7d2670a14f6f773\nChange-Id: Ibd350956f401fa48aaeae89fdd5e0bd9c28d0685\n(cherry picked from commit 84055814f9303a3fea6a252a24c2d9d123535bea)\n\n3. Introduce ""openstack overcloud ceph spec""\n\nThis command may be used to create a cephadm spec file as\na function of the output of metalsmith and a TripleO roles\nfile.\n\nCalls cli-deployed-ceph.yaml with ceph_spec tag so users\nmay create the Ceph spec in a separate step from the Ceph\nDeployment. The Ceph spec file may be then be passed to\n""openstack overcloud ceph deploy"".\n\nAlso, supports a --standalone feature which directly calls\nthe ceph_spec library in tripleo-common in the depends-on\nchain. As Ansible is used less the tripleo-pythonclient can\nuse the ceph_spec library directly for more than just the\n--standalone feature.\n\nDepends-On: Id771a6075b626f6ec853be17384d3bdd7c327c53\nChange-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253\n(cherry picked from commit 3701f2ac318373250210c85f3483cd4f1be17dc7)\n\n4. Add --standalone to overcloud ceph user and deploy\n\nBoth \'openstack overcloud ceph user enable\' and \'openstack\novercloud ceph deploy\' currently use Ansible and require an\ninventory with hosts matching those in the Ceph spec. The\ninventory is created in the working directory when \'openstack\novercloud node provision\' runs but for a standalone deployment\nthe user would need to create it manually. Abstract this detail\naway by providing a --standalone option for single node deploys\nwhich do not use metalsmith.\n\nDepends-On: Idfe4f334f59a3a40363b7127f33ed4996f09362f\nChange-Id: Icb785f015ee69d45dd513aef09fac625de421250\n(cherry picked from commit 88ec87caf625f3a28382c484ec93ebdae1fe33b6)\n\n5. Build standalone ceph_spec with Ansible\n\nInstead of calling the ceph_spec library directly from\nthe python-tripleoclient call an ansible wrapper to it\ninstead so that the library does not need to live in\ntripleo-common and bug 1961325 can be avoided.\n\nCloses-Bug: 1961325\nDepends-On: I90f9e16476f5a986a87c9e678e455846b1d02bf9\nChange-Id: I7514c95b5c3c24a82e8703556d4205b272270511\n(cherry picked from commit ec411b93297f2c841b03f7afb55a51bf2a0f0d0e)\n'}, {'number': 5, 'created': '2022-06-21 20:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/62eb80439d6e2c60614d138899e70acdb3a9ecd2', 'message': 'Squash standalone deployed_ceph for pythonclient to Wallaby\n\nThis squash backports the standalone deployed_ceph feature to\nWallaby without introducing related bugs. It has 5 commits.\n\n1. Add --mon-ip option to deployed ceph\n\nAdd --mon-ip option to \'openstack overcloud\nceph deploy\', to easily override the variable\ntripleo_cephadm_first_mon_ip from the CLI.\n\nThis option makes deployed ceph easier when\nusing standalone.\n\nChange-Id: Id9a61356e8fd4618ce68faa2677f4ed30981b7d6\n(cherry picked from commit 2ac3953410337361777974cb2dccde3231ee3116)\n\n2. Make deployed ceph baremetal file optional\n\nIf the --ceph-spec option is passed to \'openstack\novercloud ceph deploy\', then it is not necessary\nfor the path to the environment file output from\n\'openstack overcloud node provision\' to be passed.\n\nAdd conditional to ensure that either --ceph-spec\nor <deployed_baremetal.yaml> are used and add two\nunit tests to cover all three scenarios: a. metal\nis passed, b. spec is passed and c. neither are\npassed so a failure is asserted.\n\nDepends-On: I9a6bd27f825d226b508053e4b7d2670a14f6f773\nChange-Id: Ibd350956f401fa48aaeae89fdd5e0bd9c28d0685\n(cherry picked from commit 84055814f9303a3fea6a252a24c2d9d123535bea)\n\n3. Introduce ""openstack overcloud ceph spec""\n\nThis command may be used to create a cephadm spec file as\na function of the output of metalsmith and a TripleO roles\nfile.\n\nCalls cli-deployed-ceph.yaml with ceph_spec tag so users\nmay create the Ceph spec in a separate step from the Ceph\nDeployment. The Ceph spec file may be then be passed to\n""openstack overcloud ceph deploy"".\n\nAlso, supports a --standalone feature which directly calls\nthe ceph_spec library in tripleo-common in the depends-on\nchain. As Ansible is used less the tripleo-pythonclient can\nuse the ceph_spec library directly for more than just the\n--standalone feature.\n\nDepends-On: Id771a6075b626f6ec853be17384d3bdd7c327c53\nChange-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253\n(cherry picked from commit 3701f2ac318373250210c85f3483cd4f1be17dc7)\n\n4. Add --standalone to overcloud ceph user and deploy\n\nBoth \'openstack overcloud ceph user enable\' and \'openstack\novercloud ceph deploy\' currently use Ansible and require an\ninventory with hosts matching those in the Ceph spec. The\ninventory is created in the working directory when \'openstack\novercloud node provision\' runs but for a standalone deployment\nthe user would need to create it manually. Abstract this detail\naway by providing a --standalone option for single node deploys\nwhich do not use metalsmith.\n\nDepends-On: Idfe4f334f59a3a40363b7127f33ed4996f09362f\nChange-Id: Icb785f015ee69d45dd513aef09fac625de421250\n(cherry picked from commit 88ec87caf625f3a28382c484ec93ebdae1fe33b6)\n\n5. Build standalone ceph_spec with Ansible\n\nInstead of calling the ceph_spec library directly from\nthe python-tripleoclient call an ansible wrapper to it\ninstead so that the library does not need to live in\ntripleo-common and bug 1961325 can be avoided.\n\nCloses-Bug: 1961325\nDepends-On: I90f9e16476f5a986a87c9e678e455846b1d02bf9\nChange-Id: I7514c95b5c3c24a82e8703556d4205b272270511\n(cherry picked from commit ec411b93297f2c841b03f7afb55a51bf2a0f0d0e)\n'}, {'number': 6, 'created': '2022-06-21 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e8fe0a2d85c06d64c751402978a15c7da61e26cb', 'message': 'Squash standalone deployed_ceph for pythonclient to Wallaby\n\nThis squash backports the standalone deployed_ceph feature to\nWallaby without introducing related bugs. It has 5 commits.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/845595\n\n1. Add --mon-ip option to deployed ceph\n\nAdd --mon-ip option to \'openstack overcloud\nceph deploy\', to easily override the variable\ntripleo_cephadm_first_mon_ip from the CLI.\n\nThis option makes deployed ceph easier when\nusing standalone.\n\nChange-Id: Id9a61356e8fd4618ce68faa2677f4ed30981b7d6\n(cherry picked from commit 2ac3953410337361777974cb2dccde3231ee3116)\n\n2. Make deployed ceph baremetal file optional\n\nIf the --ceph-spec option is passed to \'openstack\novercloud ceph deploy\', then it is not necessary\nfor the path to the environment file output from\n\'openstack overcloud node provision\' to be passed.\n\nAdd conditional to ensure that either --ceph-spec\nor <deployed_baremetal.yaml> are used and add two\nunit tests to cover all three scenarios: a. metal\nis passed, b. spec is passed and c. neither are\npassed so a failure is asserted.\n\nChange-Id: Ibd350956f401fa48aaeae89fdd5e0bd9c28d0685\n(cherry picked from commit 84055814f9303a3fea6a252a24c2d9d123535bea)\n\n3. Introduce ""openstack overcloud ceph spec""\n\nThis command may be used to create a cephadm spec file as\na function of the output of metalsmith and a TripleO roles\nfile.\n\nCalls cli-deployed-ceph.yaml with ceph_spec tag so users\nmay create the Ceph spec in a separate step from the Ceph\nDeployment. The Ceph spec file may be then be passed to\n""openstack overcloud ceph deploy"".\n\nAlso, supports a --standalone feature which directly calls\nthe ceph_spec library in tripleo-common in the depends-on\nchain. As Ansible is used less the tripleo-pythonclient can\nuse the ceph_spec library directly for more than just the\n--standalone feature.\n\nChange-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253\n(cherry picked from commit 3701f2ac318373250210c85f3483cd4f1be17dc7)\n\n4. Add --standalone to overcloud ceph user and deploy\n\nBoth \'openstack overcloud ceph user enable\' and \'openstack\novercloud ceph deploy\' currently use Ansible and require an\ninventory with hosts matching those in the Ceph spec. The\ninventory is created in the working directory when \'openstack\novercloud node provision\' runs but for a standalone deployment\nthe user would need to create it manually. Abstract this detail\naway by providing a --standalone option for single node deploys\nwhich do not use metalsmith.\n\nChange-Id: Icb785f015ee69d45dd513aef09fac625de421250\n(cherry picked from commit 88ec87caf625f3a28382c484ec93ebdae1fe33b6)\n\n5. Build standalone ceph_spec with Ansible\n\nInstead of calling the ceph_spec library directly from\nthe python-tripleoclient call an ansible wrapper to it\ninstead so that the library does not need to live in\ntripleo-common and bug 1961325 can be avoided.\n\nCloses-Bug: 1961325\nChange-Id: I7514c95b5c3c24a82e8703556d4205b272270511\n(cherry picked from commit ec411b93297f2c841b03f7afb55a51bf2a0f0d0e)\n'}, {'number': 7, 'created': '2022-06-23 16:23:47.000000000', 'files': ['releasenotes/notes/overcloud_ceph_spec-e1cfd358c4db2b22.yaml', 'tripleoclient/utils.py', 'tripleoclient/v2/overcloud_ceph.py', 'setup.cfg', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/46919b64db6764fa74c7500422cce85728d04f4a', 'message': 'Squash standalone deployed_ceph for pythonclient to Wallaby\n\nThis squash backports the standalone deployed_ceph feature to\nWallaby without introducing related bugs. It has 5 commits.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/845595\n\n1. Add --mon-ip option to deployed ceph\n\nAdd --mon-ip option to \'openstack overcloud\nceph deploy\', to easily override the variable\ntripleo_cephadm_first_mon_ip from the CLI.\n\nThis option makes deployed ceph easier when\nusing standalone.\n\nChange-Id: Id9a61356e8fd4618ce68faa2677f4ed30981b7d6\n(cherry picked from commit 2ac3953410337361777974cb2dccde3231ee3116)\n\n2. Make deployed ceph baremetal file optional\n\nIf the --ceph-spec option is passed to \'openstack\novercloud ceph deploy\', then it is not necessary\nfor the path to the environment file output from\n\'openstack overcloud node provision\' to be passed.\n\nAdd conditional to ensure that either --ceph-spec\nor <deployed_baremetal.yaml> are used and add two\nunit tests to cover all three scenarios: a. metal\nis passed, b. spec is passed and c. neither are\npassed so a failure is asserted.\n\nChange-Id: Ibd350956f401fa48aaeae89fdd5e0bd9c28d0685\n(cherry picked from commit 84055814f9303a3fea6a252a24c2d9d123535bea)\n\n3. Introduce ""openstack overcloud ceph spec""\n\nThis command may be used to create a cephadm spec file as\na function of the output of metalsmith and a TripleO roles\nfile.\n\nCalls cli-deployed-ceph.yaml with ceph_spec tag so users\nmay create the Ceph spec in a separate step from the Ceph\nDeployment. The Ceph spec file may be then be passed to\n""openstack overcloud ceph deploy"".\n\nAlso, supports a --standalone feature which directly calls\nthe ceph_spec library in tripleo-common in the depends-on\nchain. As Ansible is used less the tripleo-pythonclient can\nuse the ceph_spec library directly for more than just the\n--standalone feature.\n\nChange-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253\n(cherry picked from commit 3701f2ac318373250210c85f3483cd4f1be17dc7)\n\n4. Add --standalone to overcloud ceph user and deploy\n\nBoth \'openstack overcloud ceph user enable\' and \'openstack\novercloud ceph deploy\' currently use Ansible and require an\ninventory with hosts matching those in the Ceph spec. The\ninventory is created in the working directory when \'openstack\novercloud node provision\' runs but for a standalone deployment\nthe user would need to create it manually. Abstract this detail\naway by providing a --standalone option for single node deploys\nwhich do not use metalsmith.\n\nChange-Id: Icb785f015ee69d45dd513aef09fac625de421250\n(cherry picked from commit 88ec87caf625f3a28382c484ec93ebdae1fe33b6)\n\n5. Build standalone ceph_spec with Ansible\n\nInstead of calling the ceph_spec library directly from\nthe python-tripleoclient call an ansible wrapper to it\ninstead so that the library does not need to live in\ntripleo-common and bug 1961325 can be avoided.\n\nCloses-Bug: 1961325\nChange-Id: I7514c95b5c3c24a82e8703556d4205b272270511\n(cherry picked from commit ec411b93297f2c841b03f7afb55a51bf2a0f0d0e)\n'}]",21,845482,46919b64db6764fa74c7500422cce85728d04f4a,46,6,7,18002,,,0,"Squash standalone deployed_ceph for pythonclient to Wallaby

This squash backports the standalone deployed_ceph feature to
Wallaby without introducing related bugs. It has 5 commits.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/845595

1. Add --mon-ip option to deployed ceph

Add --mon-ip option to 'openstack overcloud
ceph deploy', to easily override the variable
tripleo_cephadm_first_mon_ip from the CLI.

This option makes deployed ceph easier when
using standalone.

Change-Id: Id9a61356e8fd4618ce68faa2677f4ed30981b7d6
(cherry picked from commit 2ac3953410337361777974cb2dccde3231ee3116)

2. Make deployed ceph baremetal file optional

If the --ceph-spec option is passed to 'openstack
overcloud ceph deploy', then it is not necessary
for the path to the environment file output from
'openstack overcloud node provision' to be passed.

Add conditional to ensure that either --ceph-spec
or <deployed_baremetal.yaml> are used and add two
unit tests to cover all three scenarios: a. metal
is passed, b. spec is passed and c. neither are
passed so a failure is asserted.

Change-Id: Ibd350956f401fa48aaeae89fdd5e0bd9c28d0685
(cherry picked from commit 84055814f9303a3fea6a252a24c2d9d123535bea)

3. Introduce ""openstack overcloud ceph spec""

This command may be used to create a cephadm spec file as
a function of the output of metalsmith and a TripleO roles
file.

Calls cli-deployed-ceph.yaml with ceph_spec tag so users
may create the Ceph spec in a separate step from the Ceph
Deployment. The Ceph spec file may be then be passed to
""openstack overcloud ceph deploy"".

Also, supports a --standalone feature which directly calls
the ceph_spec library in tripleo-common in the depends-on
chain. As Ansible is used less the tripleo-pythonclient can
use the ceph_spec library directly for more than just the
--standalone feature.

Change-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253
(cherry picked from commit 3701f2ac318373250210c85f3483cd4f1be17dc7)

4. Add --standalone to overcloud ceph user and deploy

Both 'openstack overcloud ceph user enable' and 'openstack
overcloud ceph deploy' currently use Ansible and require an
inventory with hosts matching those in the Ceph spec. The
inventory is created in the working directory when 'openstack
overcloud node provision' runs but for a standalone deployment
the user would need to create it manually. Abstract this detail
away by providing a --standalone option for single node deploys
which do not use metalsmith.

Change-Id: Icb785f015ee69d45dd513aef09fac625de421250
(cherry picked from commit 88ec87caf625f3a28382c484ec93ebdae1fe33b6)

5. Build standalone ceph_spec with Ansible

Instead of calling the ceph_spec library directly from
the python-tripleoclient call an ansible wrapper to it
instead so that the library does not need to live in
tripleo-common and bug 1961325 can be avoided.

Closes-Bug: 1961325
Change-Id: I7514c95b5c3c24a82e8703556d4205b272270511
(cherry picked from commit ec411b93297f2c841b03f7afb55a51bf2a0f0d0e)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/82/845482/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'releasenotes/notes/overcloud_ceph_spec-e1cfd358c4db2b22.yaml', 'tripleoclient/utils.py', 'tripleoclient/v2/overcloud_ceph.py', 'setup.cfg', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py']",6,bfcc508ec01eab39db342ff6d6e3ed0b97902f46,standalone_ceph_wallaby_squash," '--mon-ip', '127.0.0.1', ""tripleo_cephadm_standalone"": False, 'tripleo_cephadm_first_mon_ip': '127.0.0.1', @mock.patch('tripleoclient.utils.get_ceph_networks', autospect=True) @mock.patch('tripleoclient.utils.TempDirs', autospect=True) @mock.patch('os.path.abspath', autospect=True) @mock.patch('os.path.exists', autospect=True) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_deploy_ceph_spec(self, mock_playbook, mock_abspath, mock_path_exists, mock_tempdirs, mock_get_ceph_networks): arglist = ['--yes', '--stack', 'overcloud', '--skip-user-create', '--mon-ip', '127.0.0.1', '--ceph-spec', 'ceph_spec.yaml', '--cephadm-ssh-user', 'jimmy', '--output', 'deployed-ceph.yaml', '--container-namespace', 'quay.io/ceph', '--container-image', 'ceph', '--container-tag', 'latest'] parsed_args = self.check_parser(self.cmd, arglist, []) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( playbook='cli-deployed-ceph.yaml', inventory=mock.ANY, workdir=mock.ANY, playbook_dir=mock.ANY, verbosity=3, skip_tags='cephadm_ssh_user', reproduce_command=False, extra_vars={ ""deployed_ceph_tht_path"": mock.ANY, ""working_dir"": mock.ANY, ""stack_name"": 'overcloud', ""tripleo_cephadm_standalone"": False, 'tripleo_roles_path': mock.ANY, 'tripleo_cephadm_first_mon_ip': '127.0.0.1', 'dynamic_ceph_spec': False, 'ceph_spec_path': mock.ANY, 'tripleo_cephadm_container_ns': 'quay.io/ceph', 'tripleo_cephadm_container_image': 'ceph', 'tripleo_cephadm_container_tag': 'latest', 'tripleo_cephadm_ssh_user': 'jimmy', } ) def test_overcloud_deploy_ceph_no_metal(self, mock_abspath, mock_path_exists): arglist = ['--stack', 'overcloud', class TestOvercloudCephSpec(fakes.FakePlaybookExecution): def setUp(self): super(TestOvercloudCephSpec, self).setUp() # Get the command object to test app_args = mock.Mock() app_args.verbose_level = 1 self.app.options = fakes.FakeOptions() self.cmd = overcloud_ceph.OvercloudCephSpec(self.app, app_args) @mock.patch('tripleoclient.utils.TempDirs', autospect=True) @mock.patch('os.path.abspath', autospect=True) @mock.patch('os.path.exists', autospect=True) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_overcloud_ceph_spec(self, mock_playbook, mock_abspath, mock_path_exists, mock_tempdirs): arglist = ['deployed-metal.yaml', '--yes', '--stack', 'overcloud', '--roles-data', 'roles_data.yaml', '--osd-spec', 'osd_spec.yaml', '--output', 'ceph_spec.yaml'] parsed_args = self.check_parser(self.cmd, arglist, []) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( playbook='cli-deployed-ceph.yaml', inventory=mock.ANY, workdir=mock.ANY, playbook_dir=mock.ANY, verbosity=3, tags='ceph_spec', reproduce_command=False, extra_vars={ ""baremetal_deployed_path"": mock.ANY, 'tripleo_roles_path': mock.ANY, 'osd_spec_path': mock.ANY, 'ceph_spec_path': mock.ANY, } )"," @mock.patch('tripleoclient.utils.get_ceph_networks', autospect=True) @mock.patch('tripleoclient.utils.TempDirs', autospect=True) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_overcloud_deploy_ceph_ansible_no_force(self, mock_playbook, mock_abspath, mock_path_exists, mock_tempdirs, mock_get_ceph_networks): arglist = ['deployed-metal.yaml', '--yes', '--ansible-extra-vars', 'foo.yml',",392,332
openstack%2Ftripleo-ansible~master~Ic12dd0a099a2a13fa058677dc3c327b808173893,openstack/tripleo-ansible,master,Ic12dd0a099a2a13fa058677dc3c327b808173893,Make osds spec extra keys more flexible,MERGED,2022-06-29 16:46:47.000000000,2022-06-30 23:22:57.000000000,2022-06-30 23:21:42.000000000,"[{'_account_id': 7144}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-06-29 16:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bfa24fea6c5c1cfe644fd0a75fc1df02499c720c', 'message': ""Make osds more flexible\n\nosds should be more flexible when we're applying the tripleo\nCephOsdSpec.\nThis patch removes the extra_key for osds to avoid failing the\ndeployment when the spec is applied.\n\nChange-Id: Ic12dd0a099a2a13fa058677dc3c327b808173893\n""}, {'number': 2, 'created': '2022-06-29 17:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/06bcc1b23197472300ad7700ddedb0cccf37617c', 'message': 'Make osds spec extra keys more flexible\n\nWe need to be flexible enough and allow all the options provided by\ndrivegroups implementation [1].\nThis patch removes the ALLOWED_EXTRA_KEYS constraint built against the\nOSD spec passed to the module.\n\n[1] https://docs.ceph.com/en/latest/cephadm/services/osd/#additional-options\n\nChange-Id: Ic12dd0a099a2a13fa058677dc3c327b808173893\n'}, {'number': 3, 'created': '2022-06-30 16:59:39.000000000', 'files': ['tripleo_ansible/ansible_plugins/module_utils/ceph_spec.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3906d5245781c7b1338caed8cd00b90fbc63cb6e', 'message': 'Make osds spec extra keys more flexible\n\nWe need to be flexible enough and allow all the options provided by\ndrivegroups implementation [1].\nThis patch removes the ALLOWED_EXTRA_KEYS constraint built against the\nOSD spec passed to the module.\n\n[1] https://docs.ceph.com/en/latest/cephadm/services/osd/#additional-options\n\nChange-Id: Ic12dd0a099a2a13fa058677dc3c327b808173893\n'}]",2,848158,3906d5245781c7b1338caed8cd00b90fbc63cb6e,17,6,3,25402,,,0,"Make osds spec extra keys more flexible

We need to be flexible enough and allow all the options provided by
drivegroups implementation [1].
This patch removes the ALLOWED_EXTRA_KEYS constraint built against the
OSD spec passed to the module.

[1] https://docs.ceph.com/en/latest/cephadm/services/osd/#additional-options

Change-Id: Ic12dd0a099a2a13fa058677dc3c327b808173893
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/58/848158/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/module_utils/ceph_spec.py'],1,bfa24fea6c5c1cfe644fd0a75fc1df02499c720c,make_osd_spec_flexible,ALLOWED_EXTRA_KEYS = dict(),"ALLOWED_EXTRA_KEYS = { 'osd': [ 'data_devices', 'db_devices', 'wal_devices', 'encrypted' ] }",1,8
openstack%2Fmanila~stable%2Fyoga~I3de8f5bfa6ac4580da9b1012caa25657a6df71ec,openstack/manila,stable/yoga,I3de8f5bfa6ac4580da9b1012caa25657a6df71ec,Rollback quota when share network create API fails.,MERGED,2022-06-09 11:21:45.000000000,2022-06-30 23:18:53.000000000,2022-06-30 23:17:27.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 32919}]","[{'number': 1, 'created': '2022-06-09 11:21:45.000000000', 'files': ['manila/api/v2/share_networks.py', 'releasenotes/notes/bug-1975483-rollback-quota-if-share-network-create-fails-628312233bf0c179.yaml', 'manila/tests/api/v2/test_share_networks.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/4179dfa428e4044544013e9ee14cf79ac12a9fc6', 'message': 'Rollback quota when share network create API fails.\n\nDuring share network create API, if failure occurs quota is not rolled\nback and its usable only after quota reservations timed out (waiting\nconf.reservation_expire seconds).\n\nCloses-bug: #1975483\nChange-Id: I3de8f5bfa6ac4580da9b1012caa25657a6df71ec\n(cherry picked from commit 8c854a1c6847e74b876ce84780afba72e1b87eae)\n'}]",4,845196,4179dfa428e4044544013e9ee14cf79ac12a9fc6,18,4,1,16643,,,0,"Rollback quota when share network create API fails.

During share network create API, if failure occurs quota is not rolled
back and its usable only after quota reservations timed out (waiting
conf.reservation_expire seconds).

Closes-bug: #1975483
Change-Id: I3de8f5bfa6ac4580da9b1012caa25657a6df71ec
(cherry picked from commit 8c854a1c6847e74b876ce84780afba72e1b87eae)
",git fetch https://review.opendev.org/openstack/manila refs/changes/96/845196/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/api/v2/share_networks.py', 'releasenotes/notes/bug-1975483-rollback-quota-if-share-network-create-fails-628312233bf0c179.yaml', 'manila/tests/api/v2/test_share_networks.py']",3,4179dfa428e4044544013e9ee14cf79ac12a9fc6,bug/1975483," def test_create_error_on_network_creation(self): self.mock_object(share_networks.QUOTAS, 'reserve', mock.Mock(return_value='fake_reservation')) self.mock_object(share_networks.QUOTAS, 'rollback') self.mock_object(db_api, 'share_network_create', mock.Mock(side_effect=db_exception.DBError())) self.assertRaises(webob_exc.HTTPInternalServerError, self.controller.create, self.req, self.body) self.assertTrue(share_networks.QUOTAS.rollback.called) self.mock_object(share_networks.QUOTAS, 'reserve', mock.Mock(return_value='fake_reservation')) self.mock_object(share_networks.QUOTAS, 'rollback') self.assertTrue(share_networks.QUOTAS.rollback.called)",,28,1
openstack%2Fmanila~stable%2Fyoga~Ife023187f307f1190d5e76daf644db0b5cd55d38,openstack/manila,stable/yoga,Ife023187f307f1190d5e76daf644db0b5cd55d38,Define queues at project level,MERGED,2022-06-24 16:43:11.000000000,2022-06-30 23:11:10.000000000,2022-06-30 23:09:07.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 32411}]","[{'number': 1, 'created': '2022-06-24 16:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ad6874141de3637c2200315e95f51242b070b0e7', 'message': 'Define queues at project level\n\nDefining queues at project.pipeline level was deprecated in release\n4.1.0 of Zuul [1] and support for it will (probably) be dropped in\nrelease 7.0.0. [2][3]\n\n[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n[2] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n[3] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nSigned-off-by: Eduardo Santos <eduardo.experimental@gmail.com>\nChange-Id: Ife023187f307f1190d5e76daf644db0b5cd55d38\n(cherry picked from commit 441d6470ca3a24f29f60494ed31755d2842b2fa3)\n'}, {'number': 2, 'created': '2022-06-30 19:44:33.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/a7a053c5415165ad52c5cd8b22912daacd68a7c1', 'message': 'Define queues at project level\n\nDefining queues at project.pipeline level was deprecated in release\n4.1.0 of Zuul [1] and support for it will (probably) be dropped in\nrelease 7.0.0. [2][3]\n\n[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n[2] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n[3] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nSigned-off-by: Eduardo Santos <eduardo.experimental@gmail.com>\nChange-Id: Ife023187f307f1190d5e76daf644db0b5cd55d38\n(cherry picked from commit 441d6470ca3a24f29f60494ed31755d2842b2fa3)\n'}]",0,847441,a7a053c5415165ad52c5cd8b22912daacd68a7c1,15,3,2,30002,,,0,"Define queues at project level

Defining queues at project.pipeline level was deprecated in release
4.1.0 of Zuul [1] and support for it will (probably) be dropped in
release 7.0.0. [2][3]

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html
[3] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Signed-off-by: Eduardo Santos <eduardo.experimental@gmail.com>
Change-Id: Ife023187f307f1190d5e76daf644db0b5cd55d38
(cherry picked from commit 441d6470ca3a24f29f60494ed31755d2842b2fa3)
",git fetch https://review.opendev.org/openstack/manila refs/changes/41/847441/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ad6874141de3637c2200315e95f51242b070b0e7,fix-queue-config, queue: manila, queue: manila,1,1
openstack%2Fcharm-barbican~stable%2Fxena~Ice7131459753f15e1184c687a24301689df338e2,openstack/charm-barbican,stable/xena,Ice7131459753f15e1184c687a24301689df338e2,Add use-public-endpoint config option,MERGED,2022-04-01 19:45:16.000000000,2022-06-30 23:06:24.000000000,2022-06-30 23:06:24.000000000,"[{'_account_id': 2424}, {'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-01 19:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/498614192934d0f0eb604a2cf3a2882003c08f30', 'message': 'Add use-public-endpoint config option\n\nCurrently, this charm sets the host_href config option with the\nadmin endpoint. This patch adds a config option to allow it to be\nconfigured to use the public endpoint, so that the secrets could\nbe accessible through this endpoint.\n\nCloses-bug: #1642769\nChange-Id: Ice7131459753f15e1184c687a24301689df338e2\n(cherry picked from commit c3bb1bb650cc090c24a65b10dab59338a3b7b1bb)\n'}, {'number': 2, 'created': '2022-04-01 19:46:04.000000000', 'files': ['src/config.yaml', 'src/templates/rocky/barbican.conf'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/f688b83a7ceab55aa2e32912809a1da4285de778', 'message': 'Add use-public-endpoint config option\n\nCurrently, this charm sets the host_href config option with the\nadmin endpoint. This patch adds a config option to allow it to be\nconfigured to use the public endpoint, so that the secrets could\nbe accessible through this endpoint.\n\nCloses-bug: #1642769\nChange-Id: Ice7131459753f15e1184c687a24301689df338e2\n(cherry picked from commit c3bb1bb650cc090c24a65b10dab59338a3b7b1bb)\n'}]",6,836155,f688b83a7ceab55aa2e32912809a1da4285de778,14,4,2,17097,,,0,"Add use-public-endpoint config option

Currently, this charm sets the host_href config option with the
admin endpoint. This patch adds a config option to allow it to be
configured to use the public endpoint, so that the secrets could
be accessible through this endpoint.

Closes-bug: #1642769
Change-Id: Ice7131459753f15e1184c687a24301689df338e2
(cherry picked from commit c3bb1bb650cc090c24a65b10dab59338a3b7b1bb)
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/55/836155/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/templates/rocky/barbican.conf']",2,498614192934d0f0eb604a2cf3a2882003c08f30,," {% if options.use_internal_endpoints %} {% set hostname = options.os_admin_hostname %} {% set port = options.port_map[""barbican-worker""][""admin""] %} {% else %} {% set hostname = options.os_public_hostname %} {% set port = options.port_map[""barbican-worker""][""public""] %} {%- endif %} {% if options.ssl -%} {% set proto = ""https://"" %} {% else %} {% set proto = ""http://"" %} {%- endif %} host_href = {{ proto }}{{ hostname }}:{{ port }} ",host_href = {{ options.external_endpoints.barbican_worker.url }},23,1
